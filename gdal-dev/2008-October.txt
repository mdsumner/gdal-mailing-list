From fevans at harris.com  Wed Oct  1 08:02:49 2008
From: fevans at harris.com (Evans, Frank)
Date: Wed Oct  1 08:03:52 2008
Subject: [gdal-dev] Data Binding dgal Layer in .NET
In-Reply-To: <9C85452EF241E14EACF1FD68DD26329CC19061@iwr-ml1hec.hec.ds.usace.army.mil>
References: <9C85452EF241E14EACF1FD68DD26329CC19061@iwr-ml1hec.hec.ds.usace.army.mil>
Message-ID: <AB39AC95FD69E249A5DA5B487C727D1301009BFA@mlbe2k4.cs.myharris.net>

If you provide a few more details I can definitely help. I've written
applications which load GDAL metadata into a GridView, but the trick is
arriving at a table-schema which is consistent for  multiple types of
layers/images. .NET grids bind to a Data source which could be anything.
What type of layer are you trying to use to populate your DataGridView
(an image, a shapefile) 

To clarify, the OSGeo.GDAL.Dataset is a completely different class from
the System.Data.DataSet. That might be irrelevant, but given your
question about the GridView I just wanted to make sure. 



-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Ackerman, Cameron
T HEC
Sent: Tuesday, September 30, 2008 7:09 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Data Binding dgal Layer in .NET



Hi All:

I'm a noob and trying to bind information from a Layer in GDAL
to a Datagridview in .NET.  Does anyone have experience or
a sample to get me started?  I'm trying to get around NOT
creating a copy of the data into a specialized class object
but use it in it's native form.

Many thanks,
cam

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From mitchelljj98 at gmail.com  Wed Oct  1 15:14:25 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Oct  1 15:14:27 2008
Subject: [gdal-dev] Re: can't derive the projection for a geotiff in
	Guatemala
In-Reply-To: <fa2ac0580809241303o1c17b40fma3c654a6af864950@mail.gmail.com>
References: <fa2ac0580809241303o1c17b40fma3c654a6af864950@mail.gmail.com>
Message-ID: <fa2ac0580810011214k71588ec3wbca2055e42a8a27d@mail.gmail.com>

The projection for the below listed gdalinfo file may be Guatemala
Transverse Mercator (GTM).  I looked in the epsg file and I could not find
any EPSG code that had Guatemala Transverse Mercator (GTM).  Does anyone
know how I could build a new epsg code for Guatemala Transverse Mercator
(GTM) that I can put within the epsg file?

Thanks,

John

On Wed, Sep 24, 2008 at 4:03 PM, John Mitchell <mitchelljj98@gmail.com>wrote:

> Hi,
>
> I am having difficulty deriving the EPSG code/projection/Coordinate System
> for a geotiff in Guatemala.
>
> Any help would be appreciated.
>
> Below is the gdalinfo listing:
>
> Driver: GTiff/GeoTIFF
> Size is 11214, 7860
> Coordinate System is `'
> Origin = (317049.000000000000000,1659460.000000000000000)
> Pixel Size = (0.500000000000000,-0.500000000000000)
> Metadata:
>   AREA_OR_POINT=Area
>   TIFFTAG_SOFTWARE=ERDAS IMAGINE
>   TIFFTAG_XRESOLUTION=1
>   TIFFTAG_YRESOLUTION=1
>   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
> Corner Coordinates:
> Upper Left  (  317049.000, 1659460.000)
> Lower Left  (  317049.000, 1655530.000)
> Upper Right (  322656.000, 1659460.000)
> Lower Right (  322656.000, 1655530.000)
> Center      (  319852.500, 1657495.000)
> Band 1 Block=11214x8 Type=Byte, ColorInterp=Red
> Band 2 Block=11214x8 Type=Byte, ColorInterp=Green
> Band 3 Block=11214x8 Type=Byte, ColorInterp=Blue
>
> Thanks,
>
> --
> John J. Mitchell
>



-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081001/e4050d36/attachment.html
From szekerest at gmail.com  Wed Oct  1 16:52:56 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Oct  1 16:52:59 2008
Subject: [gdal-dev] Data Binding dgal Layer in .NET
In-Reply-To: <9C85452EF241E14EACF1FD68DD26329CC19061@iwr-ml1hec.hec.ds.usace.army.mil>
References: <9C85452EF241E14EACF1FD68DD26329CC19061@iwr-ml1hec.hec.ds.usace.army.mil>
Message-ID: <f3b73b7d0810011352m37a51ba8j608d12dc72291fe1@mail.gmail.com>

Hi,

With regards to the GDAL C# API currently none of those interfaces
(like IList, IBindinglist, IBindingListView etc.) have been
implemented by the classes. Another problem is that the objects don't
reflect the underlying schema for example by exposing the fields as
object properties, therefore the Features of the Layers should also
implement something like ICustomTypeDescriptor to support the run time
data binding.


Best regards,

Tamas


2008/10/1 Ackerman, Cameron T HEC <Cameron.Ackerman@usace.army.mil>:
>
> Hi All:
>
> I'm a noob and trying to bind information from a Layer in GDAL
> to a Datagridview in .NET.  Does anyone have experience or
> a sample to get me started?  I'm trying to get around NOT
> creating a copy of the data into a specialized class object
> but use it in it's native form.
>
> Many thanks,
> cam
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From mdsumner at utas.edu.au  Wed Oct  1 17:16:37 2008
From: mdsumner at utas.edu.au (Michael Sumner)
Date: Wed Oct  1 17:16:44 2008
Subject: [gdal-dev] opendap on Windows
In-Reply-To: <20080930160009.AB6ABE00E98@lists.osgeo.org>
References: <20080930160009.AB6ABE00E98@lists.osgeo.org>
Message-ID: <48E3E8B5.4090009@utas.edu.au>

Hello,

I got this to work on a different machine. Clearly something I have done 
on the original
machine was causing a problem, or there are network connection problems 
I need to investigate.

This is how I set it up:

1. Install MS VC++ 2008 (9.00)

2. Obtain GDAL source

3. Run batch file to generate project file

  [gdal]/makegdal_gen 9.00 > makegdal90.vcproj
 
4. Open project file in MSVC, edit nmake.opt

   - GDAL_HOME
  
   - DODS_DIR:
  
   DODS_DIR = C:\opendap
   DODS_LIB = $(DODS_DIR)\lib\libdapMD.lib 
$(DODS_DIR)\lib\libdapclientMD.lib

5. Install the following from http://www.opendap.org/download/libdap++.html

   libdap_3.8.2.exe     - C:\opendap
     (http://www.opendap.org/pub/binary/libdap/win32/libdap_3.8.2.exe)
    
   OPeNDAP_Tools_1.1.exe  - C:\opendap-tools
     (http://www.opendap.org/pub/binary/libdap/win32/OPeNDAP_Tools_1.1.exe)
    
 6. Copy the  contents  C:\opendap-tools\include directory to 
C:\opendap\include\
 
 7. Restart Windows.
 
 8. Build the project, check with tests:
 
 gdalinfo 
"http://www.marine.csiro.au/dods/nph-dods/dods-data/climatology-netcdf/gordon_atlas.nc?temperature[y][x]"
 
 gdalinfo 
"http://dods.jpl.nasa.gov/opendap/sea_surface_temperature/avhrr/pathfinder/data_v5/8day/descending/04km/2006/bsst/2006001-2006008.s0481pfv50-bsst.hdf?bsst[y][x]"


 gdal_translate 
"http://dods.jpl.nasa.gov/opendap/sea_surface_temperature/avhrr/pathfinder/data_v5/8day/descending/04km/2006/bsst/2006001-2006008.s0481pfv50-bsst.hdf?bsst[y][x]" 
out.tif -outsize 400 200
 
 
Thanks again for the help, and patience.

Regards, Mike.



> ------------------------------------------------------------------------
>
> Subject:
> Re: [gdal-dev] opendap on Windows
> From:
> Michael Sumner <mdsumner@utas.edu.au>
> Date:
> Tue, 30 Sep 2008 15:21:31 +1000
> To:
> condit@sdsc.edu, gdal-dev@lists.osgeo.org
>
> To:
> condit@sdsc.edu, gdal-dev@lists.osgeo.org
> CC:
>
>
> Hello, 
>
> I'm afraid that while it seems to build correctly there is a runtime error
>
> "An unhandled Win32 exception occured in gdalinfo.exe" 
>
> I don't know how to proceed to figure this out. I've tried building GDAL
> in release mode, and also without the /MD flag - but with the same
> result. The access to other formats works fine regardless. 
>
>
> I'm using these dataset urls, both of which work on Linux: 
>
> gdalinfo "http://www.marine.csiro.au/dods/nph-dods/dods-data/climatology-netcdf/gordon_atlas.nc?temperature[y][x]"
> gdalinfo "http://dods.jpl.nasa.gov/opendap/sea_surface_temperature/avhrr/pathfinder/data_v5/8day/descending/04km/2006/bsst/2006001-2006008.s0481pfv50-bsst.hdf?bsst[y][x]"
>
> Thanks for any help, 
>
> Cheers, Mike. 
>
>
> ==============Original message text===============
> On Tue, 30 Sep 2008 8:13:46 +1000 "Christopher Condit" wrote:
>
> Hi Mike-
>   
>> Thank you for the feedback - I have tried copying the
>>     
> curl/xdr/pthreads
>   
>> headers into the libdap/include folder - and editing the top level
>> nmake.opt to DODS_DIR. There just were a number of unclear steps (for
>> me) so I'll go back and try again, then report back more completely. I
>> will provide the full steps if I ever succeed.
>>     
> Here's my configuration:
> DODS_DIR = C:\develop\lib\libdap3.8.2
> DODS_LIB = $(DODS_DIR)\lib\libdapMD.lib
> $(DODS_DIR)\lib\libdapclientMD.lib
>
> And then I added the includes from the "Tools" distribution to the
> include dir (preserving the directory hierarchy). If you're still having
> trouble building perhaps attach a copy of the errors from nmake. I'm
> also using VS 2005.
>
>   
>> I also gather that the instructions for MSVC  in the GDAL FAQ should
>>     
> be
>   
>> completed - I've only done the "atlbase.h" step as that seemed to
>>     
> allow
>   
>> the build in general to finish. Any idea if the other steps would
>> impact the Opendap build?
>>     
> As far as I know these instructions are for the "Express Edition". I
> didn't have to make any changes to my VS installation.
>
> -Chris
>
>
> ===========End of original message text===========
>
>   

From randre at gmail.com  Thu Oct  2 12:12:57 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Oct  2 12:13:00 2008
Subject: [gdal-dev] gdal2tiles.py - can additional Zoom levels be forced?
Message-ID: <9c2015090810020912j131d7c6cu6cc1d48ce18c00d0@mail.gmail.com>

I'm testing gdal2tiles.py this morning and am very encouraged by the results
I''m seeing.  However, I would like to force the generation of Zoom levels
greater than what the tool decides is reasonable.  Is this possible without
diving into the code?  I'm currently getting tiles generated through Zoom
level 7, and I would like to go to 11.

11 *is* after all a magic number. ;)
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081002/066dc3e2/attachment.html
From nbarker at ittvis.com  Thu Oct  2 13:05:11 2008
From: nbarker at ittvis.com (Norman Barker)
Date: Thu Oct  2 13:05:15 2008
Subject: [gdal-dev] jpip and gdal
Message-ID: <B1B624F7C110834B96594065A74F3A540916B594@gemini.rsinc.com>

Hi,

 

I have been assigned (as in got some business work time) to do the
implementation for jpip and gdal as per RFC 24, and then to reshape RFC
24 with the implementation as a guide.  Apologies for the delay in doing
this.

 

Whilst with the approach I am proposing of separating the jpip
communication layer from the decompression so that we can do true
http(s) (as opposed to the hand spun version of http in kakadu), we
could probably use any jpeg2000 decompression library, but kakadu would
be the fastest - and the easiest to do first.

 

As such, I am struggling a bit with the kakadu license, particularly
when it comes to plugging into a developer library.  I have asked on the
kakadu mailing lists but no reply, Frank (and others) can you clarify
your stance with kakadu in the JP2KAK plugin?  I think my primary
concern is that with jpip the sequence of operations for adding to the
kdu_cache object is pretty fixed when reading the jpip stream, hence is
any plugin to gdal a derivative work?

 

Thanks,

 

Norman

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081002/ad9f9693/attachment.html
From jgomezdans at gmail.com  Thu Oct  2 14:20:58 2008
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Thu Oct  2 14:20:59 2008
Subject: [gdal-dev] Trouble connecting to PostGIS db
Message-ID: <91d218430810021120v48a0a59cga2837a97945c5644@mail.gmail.com>

Hi,
I have a remote PostGIS database on, say host. I can connect to it using
QGIS and display data (it actually comes up with "Database connection was
successful but no accessible tables were found. Please verify that you have
SELECT privilege on a table carrying POSTGIS geometry", but it displays all
my geo-enabled tables and uses data without any problem). shp2pgsql also
works, but I can't connect to said db using OGR.
$ ogrinfo --debug on -ro 'PG:host=HOST user=USER password=PASSWORD port=5432
dbname=DBNAME'
OGR_PG: DBName="DBNAME"
OGR_PG: PostSIS version string: '1.3 USE_GEOS=1 USE_PROJ=1 USE_STATS=1' ->
'1.3'
OGR_PG: POSTGIS_VERSION=1.3 USE_GEOS=1 USE_PROJ=1 USE_STATS=1
OGR: OGROpen(PG:host=HOST user=USER password=PASSWORD port=5432
dbname=DBNAME) failed.
FAILURE:
Unable to open datasource `PG:host=HOST user=USER password=PASSWORD
port=5432 dbname=DBNAME' with the following drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> GML
  -> GPX
  -> KML
  -> GeoJSON
  -> Interlis 1
  -> Interlis 2
  -> GMT
  -> SQLite
  -> ODBC
  -> PGeo
  -> OGDI
  -> PostgreSQL
  -> MySQL
  -> AVCBin


Exactly the same values I issue on my ogrinfo call (or osgeo.ogr.Open(
pg_connect ) using the Python wrappers) provide the QGIS connection that
works as expected. psql also connects fine. OGR/GDAL version is 1.5.1.

Does anyone have any clues on how to keep on debugging this? I am sort of
lost on how to continue investigating this!


Thanks!
Jose
-- 
Centre for Terrestrial Carbon Dynamics
Department of Geography, University College London
Gower Street, London WC1E 6BT, UK
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081002/51575f1e/attachment.html
From 2voodoo at gmx.de  Thu Oct  2 16:43:12 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Thu Oct  2 16:43:26 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
Message-ID: <48E53260.7030006@gmx.de>

Hello,

one of my clients asked me if it would be possible to open OziExplorer
Files (ozf2 ending)? As I found out GDAL does not support this file
format yet. Did anyone build a own driver for this?

If not, I would try to build one. Is there the need (or the possibility)
to contribute it or is this not of interest?

thanks and bye,
Tom
From jrepetto at free.fr  Thu Oct  2 16:59:14 2008
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Thu Oct  2 17:00:34 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <48E53260.7030006@gmx.de>
References: <48E53260.7030006@gmx.de>
Message-ID: <48E53622.9090702@free.fr>

Tom Kazimiers a ?crit :
> Hello,
> 
> one of my clients asked me if it would be possible to open OziExplorer
> Files (ozf2 ending)? As I found out GDAL does not support this file
> format yet. Did anyone build a own driver for this?
> 
> If not, I would try to build one. Is there the need (or the possibility)
> to contribute it or is this not of interest?
> 

Hello,

There is a program called ozf2img that can convert ozf2 and ozf3 files. 
Unfortunately, it is not open source and works only for Windows. So I 
think a GDAL driver should be useful. But the ozf2 and ozf3 formats are 
not documented, so it may not be easy.

Jean-Claude

From 2voodoo at gmx.de  Thu Oct  2 17:23:39 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Thu Oct  2 17:23:50 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <48E53622.9090702@free.fr>
References: <48E53260.7030006@gmx.de> <48E53622.9090702@free.fr>
Message-ID: <48E53BDB.9070503@gmx.de>

Jean-Claude REPETTO schrieb:
> Tom Kazimiers a ?crit :
>> Hello,
>>
>> one of my clients asked me if it would be possible to open OziExplorer
>> Files (ozf2 ending)? As I found out GDAL does not support this file
>> format yet. Did anyone build a own driver for this?
>>
>> If not, I would try to build one. Is there the need (or the possibility)
>> to contribute it or is this not of interest?
>>
>
> Hello,
>
> There is a program called ozf2img that can convert ozf2 and ozf3
> files. Unfortunately, it is not open source and works only for
> Windows. So I think a GDAL driver should be useful. But the ozf2 and
> ozf3 formats are not documented, so it may not be easy.
>
> Jean-Claude
>
Jean-Claude,

thanks for the hint with "ozf2img" - I will take a look at it.
>From what I heard the file is something like a lightweight tiff, will
say it is organized in tiles (each 64x64 pixels). Each pixel has the
size of one byte and stores an index of a color palette. This is at
least the basis - then there come some overviews more into play which I
do not as much up to now - but I want to dig my way into it.

Tom
From jaadfoo at gmail.com  Fri Oct  3 00:56:22 2008
From: jaadfoo at gmail.com (Jamie Adams)
Date: Fri Oct  3 00:56:24 2008
Subject: [gdal-dev] gdal2tiles.py - can additional Zoom levels be forced?
In-Reply-To: <9c2015090810020912j131d7c6cu6cc1d48ce18c00d0@mail.gmail.com>
References: <9c2015090810020912j131d7c6cu6cc1d48ce18c00d0@mail.gmail.com>
Message-ID: <f4339510810022156u7befe80cg14cd2522b9a7c4ae@mail.gmail.com>

Hey Roger,

You can always make create an up-sampled VRT of the source image with
"gdalwarp -of VRT -tr x y".  Yes, it does involve an additional step, but
the VRT takes almost no time to create and doesn't waste disk space.  You
can then use that as the input to gdal2tiles.  From the limited tests I've
tried it seems to work well.

"These go to eleven......"

-Jamie

On Thu, Oct 2, 2008 at 9:12 AM, Roger Andr? <randre@gmail.com> wrote:

> I'm testing gdal2tiles.py this morning and am very encouraged by the
> results I''m seeing.  However, I would like to force the generation of Zoom
> levels greater than what the tool decides is reasonable.  Is this possible
> without diving into the code?  I'm currently getting tiles generated through
> Zoom level 7, and I would like to go to 11.
>
> 11 *is* after all a magic number. ;)
> --
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081002/74f19d9d/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Fri Oct  3 02:23:29 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Oct  3 02:24:00 2008
Subject: [gdal-dev] Re: Trouble connecting to PostGIS db
References: <91d218430810021120v48a0a59cga2837a97945c5644@mail.gmail.com>
Message-ID: <loom.20081003T061944-56@post.gmane.org>

Jose Gomez-Dans <jgomezdans <at> gmail.com> writes:

> 
> Hi,I have a remote PostGIS database on, say host. I can connect to it using
QGIS and display data (it actually comes up with "Database connection was
successful but no accessible tables were found. Please verify that you have
SELECT privilege on a table carrying POSTGIS geometry", but it displays all my
geo-enabled tables and uses data without any problem). shp2pgsql also works, but
I can't connect to said db using OGR.

> $ ogrinfo --debug on -ro 'PG:host=HOST user=USER password=PASSWORD port=5432
dbname=DBNAME'

Try using " " around the connection string, instead of ' '.

-Jukka Rahkonen-

From oliver.eichler at gmx.de  Fri Oct  3 04:03:55 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Fri Oct  3 04:05:35 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <48E53BDB.9070503@gmx.de>
References: <48E53260.7030006@gmx.de> <48E53622.9090702@free.fr>
	<48E53BDB.9070503@gmx.de>
Message-ID: <200810031003.56040.oliver.eichler@gmx.de>


There is another converter:

http://sourceforge.net/projects/ozi2geotiff

Oliver
From 2voodoo at gmx.de  Fri Oct  3 04:45:30 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Fri Oct  3 04:45:42 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <200810031003.56040.oliver.eichler@gmx.de>
References: <48E53260.7030006@gmx.de>
	<48E53622.9090702@free.fr>	<48E53BDB.9070503@gmx.de>
	<200810031003.56040.oliver.eichler@gmx.de>
Message-ID: <48E5DBAA.5000303@gmx.de>

Oliver Eichler schrieb:
> There is another converter:
>
> http://sourceforge.net/projects/ozi2geotiff
>
> Oliver
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   
Thanks for that, Oliver.
From oliver.eichler at gmx.de  Fri Oct  3 06:32:19 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Fri Oct  3 06:28:55 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <op.uifzx2lqqw3wu1@titan>
References: <48E53260.7030006@gmx.de>
	<200810031003.56040.oliver.eichler@gmx.de>
	<op.uifzx2lqqw3wu1@titan>
Message-ID: <200810031232.19288.oliver.eichler@gmx.de>

On Friday, 3. October 2008 11:43:04 you wrote:
> On Fri, 03 Oct 2008 09:03:55 +0100, Oliver Eichler <oliver.eichler@gmx.de> 
wrote:
> > There is another converter:
> >
> > http://sourceforge.net/projects/ozi2geotiff
>
> As far as I can tell this program just calls gdal_translate!
> So if GDAL doesn't know how to unpack ozf files then how does it work?
>
> Andrew

Hi Andrew,

ask the author. He wanted to integrate ozi import in QLandkarte GT, but I 
rejected to keep QLandkarte GT free from possible proprietary format 
lawsuits. Thus he decided to do a script. As his usual work committed to 
QLandkarte GT is of a good quality, I assume this script is usable, too. 
Personally I do not use ozi files at all. You have to decide yourself if the 
software is good for you.

AFAIK the ozi format is just referencing information to a bitmap stored in a 
known format like jpeg, png or tiff. Thus using gdal_translate is not that 
obscure to me.

Oliver
From jrepetto at free.fr  Fri Oct  3 06:15:12 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Oct  3 06:38:16 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <200810031003.56040.oliver.eichler@gmx.de>
References: <48E53260.7030006@gmx.de>
	<48E53622.9090702@free.fr>	<48E53BDB.9070503@gmx.de>
	<200810031003.56040.oliver.eichler@gmx.de>
Message-ID: <48E5F0B0.6010002@free.fr>

Oliver Eichler a ?crit :
> There is another converter:
> 
> http://sourceforge.net/projects/ozi2geotiff
> 
> Oliver

No, it converts .map files.

Jean-Claude
From silviamarchesi at gmail.com  Fri Oct  3 06:52:21 2008
From: silviamarchesi at gmail.com (Silvia Marchesi)
Date: Fri Oct  3 06:52:23 2008
Subject: [gdal-dev] geotiff image writing problem
Message-ID: <b1ccf1c10810030352u5cf0420ap7074d6d8a55e0ba7@mail.gmail.com>

Hi,
 I'm using gdal for reading and writing geotiff images; I nedd to write a
c++ code able to read a geotiff image (I have already done it!), process it
and then give as output an image qith the same size of the input one
(exception for the number of bands) and with the same geographic data; the
only difference consists in the DN values (the type is the same) and as I
said in the number of bands (form multiband image to 1 band).
Can anybody help me?

Thanks a lot,
Silvia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081003/6bce8f48/attachment.html
From 2voodoo at gmx.de  Fri Oct  3 07:14:10 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Fri Oct  3 07:14:21 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <200810031232.19288.oliver.eichler@gmx.de>
References: <48E53260.7030006@gmx.de>	<200810031003.56040.oliver.eichler@gmx.de>	<op.uifzx2lqqw3wu1@titan>
	<200810031232.19288.oliver.eichler@gmx.de>
Message-ID: <48E5FE82.2010904@gmx.de>

Oliver Eichler schrieb:
> On Friday, 3. October 2008 11:43:04 you wrote:
>   
>> On Fri, 03 Oct 2008 09:03:55 +0100, Oliver Eichler <oliver.eichler@gmx.de> 
>>     
> wrote:
>   
>>> There is another converter:
>>>
>>> http://sourceforge.net/projects/ozi2geotiff
>>>       
>> As far as I can tell this program just calls gdal_translate!
>> So if GDAL doesn't know how to unpack ozf files then how does it work?
>>
>> Andrew
>>     
>
> Hi Andrew,
>
> ask the author. He wanted to integrate ozi import in QLandkarte GT, but I 
> rejected to keep QLandkarte GT free from possible proprietary format 
> lawsuits. Thus he decided to do a script. As his usual work committed to 
> QLandkarte GT is of a good quality, I assume this script is usable, too. 
> Personally I do not use ozi files at all. You have to decide yourself if the 
> software is good for you.
>
> AFAIK the ozi format is just referencing information to a bitmap stored in a 
> known format like jpeg, png or tiff. Thus using gdal_translate is not that 
> obscure to me.
>
> Oliver
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   
Hi there,

I played around with the script and got at least to run and like Andrew
proposed the problem is:
GDALOpen failed - 4
`E:\\dev\\ozi2geotiff\\trunk\\test.ozf2' not recognised as a supported
file format.

The work on an ozf2 driver has already started. Oliver, as you mentioned
it, do you know if this could be a problem and if I should ask the
OziExplorer guys to allow me this?

Regards,
Tom

From Jukka.rahkonen at mmmtike.fi  Fri Oct  3 07:27:56 2008
From: Jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Oct  3 07:28:14 2008
Subject: [gdal-dev] Re: OziExplorer (ozf2) Files with GDAL?
References: <48E53260.7030006@gmx.de>
	<200810031003.56040.oliver.eichler@gmx.de>
	<op.uifzx2lqqw3wu1@titan>
	<200810031232.19288.oliver.eichler@gmx.de>
Message-ID: <loom.20081003T111737-66@post.gmane.org>

Oliver Eichler <oliver.eichler <at> gmx.de> writes:> 
 
> AFAIK the ozi format is just referencing information to a bitmap stored in a 
> known format like jpeg, png or tiff. Thus using gdal_translate is not that 
> obscure to me.

Hi,

Not quite so. OziExplorer .map file it doing that, pointing out to the image
file and giving projection, datum and set of reference points for OziExplorer
moving map program.  Ozf is a special file format tailored for OziExplorer and
it is the only format supported by PDA version OziExplorer. It is having tiles,
colour palette and overviews, all good things in getting speed and low memory
need. Unfortunately it is not documented, but my guess is that tiles are pngs.
This is what the author of OziExplorer writes:

What is the OZFx3 Image Format

The OZFx3 format stores the image in tiles, each tile can be manipulated as a
single unit.
Advantages
    * Contains a separate image for each zoom level for 25% and below. These
zoom levels are created using a bilinear filter and look good.
    * Zooms of 90, 80, 75, 70, 60, 50, and 40% are created by OziExplorer and
OziExplorerCE using a bilinear filter giving good looking smooth zooms.
    * Fast Initial Loading
    * Small memory requirement when loaded
    * The loaded tiles can be cached in memory, this allows the OZFx3 format to
be efficiently used on slow Windows CE PDA's.

-Jukka Rahkonen-

From 2voodoo at gmx.de  Fri Oct  3 07:37:03 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Fri Oct  3 07:37:16 2008
Subject: [gdal-dev] Re: OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <loom.20081003T111737-66@post.gmane.org>
References: <48E53260.7030006@gmx.de>	<200810031003.56040.oliver.eichler@gmx.de>	<op.uifzx2lqqw3wu1@titan>	<200810031232.19288.oliver.eichler@gmx.de>
	<loom.20081003T111737-66@post.gmane.org>
Message-ID: <48E603DF.7090807@gmx.de>

Jukka Rahkonen schrieb:
> Oliver Eichler <oliver.eichler <at> gmx.de> writes:> 
>  
>   
>> AFAIK the ozi format is just referencing information to a bitmap stored in a 
>> known format like jpeg, png or tiff. Thus using gdal_translate is not that 
>> obscure to me.
>>     
>
> Hi,
>
> Not quite so. OziExplorer .map file it doing that, pointing out to the image
> file and giving projection, datum and set of reference points for OziExplorer
> moving map program.  Ozf is a special file format tailored for OziExplorer and
> it is the only format supported by PDA version OziExplorer. It is having tiles,
> colour palette and overviews, all good things in getting speed and low memory
> need. Unfortunately it is not documented, but my guess is that tiles are pngs.
> This is what the author of OziExplorer writes:
>
> What is the OZFx3 Image Format
>
> The OZFx3 format stores the image in tiles, each tile can be manipulated as a
> single unit.
> Advantages
>     * Contains a separate image for each zoom level for 25% and below. These
> zoom levels are created using a bilinear filter and look good.
>     * Zooms of 90, 80, 75, 70, 60, 50, and 40% are created by OziExplorer and
> OziExplorerCE using a bilinear filter giving good looking smooth zooms.
>     * Fast Initial Loading
>     * Small memory requirement when loaded
>     * The loaded tiles can be cached in memory, this allows the OZFx3 format to
> be efficiently used on slow Windows CE PDA's.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   
Jukka,

thank you for the hints. Like written in an earlyer post the tiles are
64x64 pixels each. Each pixel has the size of ony byte and is
referencing a color palette.

Regards,
Tom
From oliver.eichler at gmx.de  Fri Oct  3 07:48:00 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Fri Oct  3 07:44:36 2008
Subject: [gdal-dev] OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <48E5FE82.2010904@gmx.de>
References: <48E53260.7030006@gmx.de>
	<200810031232.19288.oliver.eichler@gmx.de>
	<48E5FE82.2010904@gmx.de>
Message-ID: <200810031348.00106.oliver.eichler@gmx.de>

> The work on an ozf2 driver has already started. Oliver, as you mentioned
> it, do you know if this could be a problem and if I should ask the
> OziExplorer guys to allow me this?

Hi,

I had problems with reengineering the GeoGrid format by EADS. They claim to 
have an expired patent on this and thus a copyright on the format itself. 
They closed 3 sites about their format by that. According to a German lawyer 
converting their undocumented format with no encryption (!) is legal. However 
the copyright holder of the content might object. 

But EADS has the big money and a rather bored law department. And they want to 
charge the user twice for their lousy format. Fighting their stupid claims 
costs money and time. As QLandkarte GT is free open source in spirit and 
beer, I won't take up the fight and so did all the others.

Ok, that is EADS. I don't know how Ozi thinks about it. And I do not want to 
know it. QLandkarte GT is GeoTiff only. That's safe. For your commercial 
product you might think different. And IMHO it's allways a good idea to ask.


Oliver
From oliver.eichler at gmx.de  Fri Oct  3 07:55:31 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Fri Oct  3 07:52:08 2008
Subject: [gdal-dev] Re: OziExplorer (ozf2) Files with GDAL?
In-Reply-To: <loom.20081003T111737-66@post.gmane.org>
References: <48E53260.7030006@gmx.de>
	<200810031232.19288.oliver.eichler@gmx.de>
	<loom.20081003T111737-66@post.gmane.org>
Message-ID: <200810031355.32026.oliver.eichler@gmx.de>

Hi Jukka,

thanks for the info. Good to know for the future. But ... sounds to me like 
Geotiff and GDAL. Thus who needs ozi? ;)

Oliver

Btw GDAL and mobile devices perform very well. Such a project like QLandkarte 
GT / M would never exist without GDAL. Big cudos to the project maintainers!
From r.m.krug at gmail.com  Fri Oct  3 09:56:29 2008
From: r.m.krug at gmail.com (Rainer M Krug)
Date: Fri Oct  3 09:56:31 2008
Subject: [gdal-dev] Combining shape files
Message-ID: <fb7c7e870810030656r7bf79795x705c5e420058cd03@mail.gmail.com>

Hi

I have 6 shape files, named
region_SPP_1__Acacia_cyclops.shp to region_SPP_6__Acacia_cyclops.shp
which I would like to combinr into a single shape file, called
Acacia_cyclops.shp

For this I wrote the following script:

#!/bin/bash
SP="Acacia_cyclops"
ogr2ogr -f \"ESRI Shapefile\" "./comb/"$SP".shp" "./region_SPP_1__"$SP".shp"

ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
"./region_SPP_2__"$SP".shp"
ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
"./region_SPP_3__"$SP".shp"
ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
"./region_SPP_4__"$SP".shp"
ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
"./region_SPP_5__"$SP".shp"
ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
"./region_SPP_6__"$SP".shp"

but even at line 3 I have problems:

if I do the following

> SP="Acacia_cyclops"
> ogr2ogr -f \"ESRI Shapefile\" "./comb/"$SP".shp" "./region_SPP_1__"$SP".shp"

I get the error message: "Unable to open datasource
`./comb/Acacia_cyclops.shp' with the following drivers."

but when I say
> echo ogr2ogr -f \"ESRI Shapefile\" "./comb/"$SP".shp" "./region_SPP_1__"$SP".shp"

and paste the output into the commandline, it works.

But with the remaining ogr2ogr, I have less luck: all result in the
same error message "Unable to open datasource
`./comb/Acacia_cyclops.shp' with the following drivers."

Any help appreciated,

Rainer

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation
Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Faculty of Science
Natural Sciences Building
Private Bag X1
University of Stellenbosch
Matieland 7602
South Africa

""
-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation
Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Faculty of Science
Natural Sciences Building
Private Bag X1
University of Stellenbosch
Matieland 7602
South Africa
From DCarreira at edia.pt  Fri Oct  3 13:20:46 2008
From: DCarreira at edia.pt (Duarte Carreira)
Date: Fri Oct  3 13:57:37 2008
Subject: [gdal-dev] is there a way to rename fields with gdal/ogr 1.5.x?
Message-ID: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E30EF@beja012.edia.pt>

Hi all.

I was trying to convert & rename a shapefile and getting syntax errors with the -sql string... So I'm wondering if this is working in 1.5.x or only in 1.6dev?

If it's not working in 1.5 is there any other way to accomplish this in this version?

Thanks,
Duarte Carreira
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081003/2e10cedb/attachment.html
From jgomezdans at gmail.com  Fri Oct  3 15:01:13 2008
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Fri Oct  3 15:01:16 2008
Subject: [gdal-dev] Re: Trouble connecting to PostGIS db
In-Reply-To: <loom.20081003T061944-56@post.gmane.org>
References: <91d218430810021120v48a0a59cga2837a97945c5644@mail.gmail.com>
	<loom.20081003T061944-56@post.gmane.org>
Message-ID: <91d218430810031201g7e9b6b12n611e9beefb6136d5@mail.gmail.com>

Hi,

2008/10/3 Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>

> > $ ogrinfo --debug on -ro 'PG:host=HOST user=USER password=PASSWORD
> port=5432
> dbname=DBNAME'
>
> Try using " " around the connection string, instead of ' '.


Nope, that doesn't change a thing. I am realising that my geometry_columns
table is empty, maybe this is where the problem lies?

J

-- 
Centre for Terrestrial Carbon Dynamics
Department of Geography, University College London
Gower Street, London WC1E 6BT, UK
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081003/96b0b1c0/attachment.html
From Jukka.Rahkonen at mmmtike.fi  Fri Oct  3 15:58:27 2008
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Fri Oct  3 16:11:57 2008
Subject: [gdal-dev] Re: Trouble connecting to PostGIS db
References: <91d218430810021120v48a0a59cga2837a97945c5644@mail.gmail.com><loom.20081003T061944-56@post.gmane.org>
	<91d218430810031201g7e9b6b12n611e9beefb6136d5@mail.gmail.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E33F6A@tikka.haapa.mmm.fi>

L?hett?j?: Jose Gomez-Dans 

> Hi,

> 2008/10/3 Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>

>> > $ ogrinfo --debug on -ro 'PG:host=HOST user=USER password=PASSWORD
>> port=5432
>> dbname=DBNAME'
>>
>> Try using " " around the connection string, instead of ' '.


> Nope, that doesn't change a thing. I am realising that my geometry_columns
> table is empty, maybe this is where the problem lies?

May be.  However, quotes seem to make difference on both my Windows XP and Windows Vista: Single quotes are yielding the same message that you got, while double quotes are working.

-Jukka-
From szekerest at gmail.com  Fri Oct  3 16:26:25 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Oct  3 16:26:28 2008
Subject: [gdal-dev] is there a way to rename fields with gdal/ogr 1.5.x?
In-Reply-To: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E30EF@beja012.edia.pt>
References: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E30EF@beja012.edia.pt>
Message-ID: <f3b73b7d0810031326w37461467r60db992806000432@mail.gmail.com>

Hi,

This option is related to RFC21
(http://trac.osgeo.org/gdal/wiki/rfc21_ogrsqlcast) and only available
in the development version.
The latest FWTools release should contain the related binaries.

Best regards,

Tamas


2008/10/3 Duarte Carreira <DCarreira@edia.pt>:
> Hi all.
>
>
>
> I was trying to convert & rename a shapefile and getting syntax errors with
> the -sql string? So I'm wondering if this is working in 1.5.x or only in
> 1.6dev?
>
>
>
> If it's not working in 1.5 is there any other way to accomplish this in this
> version?
>
>
>
> Thanks,
>
> Duarte Carreira
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From rush at winkey.org  Sat Oct  4 23:50:22 2008
From: rush at winkey.org (brian)
Date: Sun Oct  5 00:00:13 2008
Subject: [gdal-dev] Combining shape files
In-Reply-To: <fb7c7e870810030656r7bf79795x705c5e420058cd03@mail.gmail.com>
References: <fb7c7e870810030656r7bf79795x705c5e420058cd03@mail.gmail.com>
Message-ID: <1223178622.26708.15.camel@winkey.org>

Rainer,

that might be a bash issue
and shapefile is the default

?
#!/bin/bash
SP="Acacia_cyclops"?

ogr2ogr "./comb/${SP}.shp" "./region_SPP_1__${SP}.shp"
??ogr2ogr -update -append "./comb/${SP}.shp" "./region_SPP_2__${SP}.shp"
?ogr2ogr -update -append "./comb/${SP}.shp" "./region_SPP_3__${SP}.shp"
?ogr2ogr -update -append "./comb/${SP}.shp" "./region_SPP_4__${SP}.shp"
?ogr2ogr -update -append "./comb/${SP}.shp" "./region_SPP_5__${SP}.shp"
?ogr2ogr -update -append "./comb/${SP}.shp" "./region_SPP_6__${SP}.shp"



if you decide to use the -f switch

replace
?-f \"ESRI Shapefile\" 
with
?-f "ESRI Shapefile" 

i think gdal thinks Shapefile" is the output file

Brian


On Fri, 2008-10-03 at 15:56 +0200, Rainer M Krug wrote:
> Hi
> 
> I have 6 shape files, named
> region_SPP_1__Acacia_cyclops.shp to region_SPP_6__Acacia_cyclops.shp
> which I would like to combinr into a single shape file, called
> Acacia_cyclops.shp
> 
> For this I wrote the following script:
> 
> #!/bin/bash
> SP="Acacia_cyclops"
> ogr2ogr -f \"ESRI Shapefile\" "./comb/"$SP".shp" "./region_SPP_1__"$SP".shp"
> 
> ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
> "./region_SPP_2__"$SP".shp"
> ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
> "./region_SPP_3__"$SP".shp"
> ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
> "./region_SPP_4__"$SP".shp"
> ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
> "./region_SPP_5__"$SP".shp"
> ogr2ogr -update -append -f \"ESRI Shapefile\" "./comb/"$SP".shp"
> "./region_SPP_6__"$SP".shp"
> 
> but even at line 3 I have problems:
> 
> if I do the following
> 
> > SP="Acacia_cyclops"
> > ogr2ogr -f \"ESRI Shapefile\" "./comb/"$SP".shp" "./region_SPP_1__"$SP".shp"
> 
> I get the error message: "Unable to open datasource
> `./comb/Acacia_cyclops.shp' with the following drivers."
> 
> but when I say
> > echo ogr2ogr -f \"ESRI Shapefile\" "./comb/"$SP".shp" "./region_SPP_1__"$SP".shp"
> 
> and paste the output into the commandline, it works.
> 
> But with the remaining ogr2ogr, I have less luck: all result in the
> same error message "Unable to open datasource
> `./comb/Acacia_cyclops.shp' with the following drivers."
> 
> Any help appreciated,
> 
> Rainer
> 
> -- 
> Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation
> Biology, UCT), Dipl. Phys. (Germany)
> 
> Centre of Excellence for Invasion Biology
> Faculty of Science
> Natural Sciences Building
> Private Bag X1
> University of Stellenbosch
> Matieland 7602
> South Africa
> 
> ""

From jgomezdans at gmail.com  Mon Oct  6 07:44:06 2008
From: jgomezdans at gmail.com (Jose =?iso-8859-1?q?G=F3mez-Dans?=)
Date: Mon Oct  6 07:44:12 2008
Subject: [gdal-dev] [SOLVED] Re: Trouble connecting to PostGIS db
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86E33F6A@tikka.haapa.mmm.fi>
References: <91d218430810021120v48a0a59cga2837a97945c5644@mail.gmail.com>
	<91d218430810031201g7e9b6b12n611e9beefb6136d5@mail.gmail.com>
	<CC197224AC75CE4DB23F739B16891B86E33F6A@tikka.haapa.mmm.fi>
Message-ID: <200810061244.06872.jgomezdans@gmail.com>

Hi,

On Friday 03 October 2008 20:58:27 you wrote:
> > Nope, that doesn't change a thing. I am realising that my
> > geometry_columns table is empty, maybe this is where the problem lies?
>
> May be.  However, quotes seem to make difference on both my Windows XP and
> Windows Vista: Single quotes are yielding the same message that you got,
> while double quotes are working.


Yes, I added an entry in the geometry_columns table, and I can access my data 
in PostGIS. I imported my data with shp2pgsql, and I assumed entries to the 
geometry table were done automatically, which doesn't seem to be the case. 

If having an entry in geometry_columns is a requirement, maybe it should be 
visible in OGR's PostGIS page? Or maybe it's there and I haven't seen it!

Cheers,
Jose

From mitchelljj98 at gmail.com  Mon Oct  6 10:10:47 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Mon Oct  6 10:10:50 2008
Subject: [gdal-dev] creating an epsg code that can be used within the epsg
	file for fwtools and MapServer
Message-ID: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>

Hi,

How would I create an epsg code that can be used within the epsg file for
fwtools and MapServer?

Below is the information that I would like to use to create an epsg code.
What would be format for the new epsg code?  Is the information listed below
enough to create an epsg code and if not what am I missing?


*The 2001 data was originally in a Guatemalan Transverse Mercator coordinate
system with the parameters shown below:

Projection: Transverse Mercator
False Easting: 500000.000000
False Northing: 0.000000
Central Meridian: -90.500000
Scale Factor: 0.999800
Latitude of Origin: 0.0000000
Linear Unit: Meter
Geographic Coordinate System: GCS_WGS_1984

*Below is the gdalinfo listing for one of files that I would like to
associate to this new epsg code:

*Driver: GTiff/GeoTIFF
Size is 11214, 7860
Coordinate System is `'
Origin = (317049.000000000000000,**1659460.000000000000000)
Pixel Size = (0.500000000000000,-0.**500000000000000)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=ERDAS IMAGINE
  TIFFTAG_XRESOLUTION=1
  TIFFTAG_YRESOLUTION=1
  TIFFTAG_RESOLUTIONUNIT=1 (unitless)
Corner Coordinates:
Upper Left  (  317049.000, 1659460.000)
Lower Left  (  317049.000, 1655530.000)
Upper Right (  322656.000, 1659460.000)
Lower Right (  322656.000, 1655530.000)
Center      (  319852.500, 1657495.000)
Band 1 Block=11214x8 Type=Byte, ColorInterp=Red
Band 2 Block=11214x8 Type=Byte, ColorInterp=Green
Band 3 Block=11214x8 Type=Byte, ColorInterp=Blue*



Thanks,

-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081006/0023616a/attachment.html
From cavicchi at ferrara.linux.it  Mon Oct  6 10:47:29 2008
From: cavicchi at ferrara.linux.it (Mario Cavicchi)
Date: Mon Oct  6 10:55:15 2008
Subject: [gdal-dev] Problem with gdal_polygonize.py
Message-ID: <48EA2501.7000102@ferrara.linux.it>

Hi all,
I compilated GDAL from repository (rev. 15462), because I want to use
the gdal_polygonize.py utility. I used option --with-ogpython for make
GDAL, because with --with-python I had some problem in compilation (I
use python 2.5.2). Now, if I try to use gdal_polygonize.py, I get this
error:

$ gdal_polygonize.py
Traceback (most recent call last):
  File "/usr/local/bin/gdal_polygonize.py", line 34, in <module>
    import gdal
  File "/usr/local//lib/python2.5/site-packages/gdal.py", line 2, in
<module>
    from osgeo.gdal import deprecation_warn
  File "/usr/local//lib/python2.5/site-packages/osgeo/gdal.py", line 7,
in <module>
    import _gdal
ImportError: /usr/local/lib/python2.5/site-packages/osgeo/_gdal.so:
undefined symbol: GDALPolygonize

How I can fix this error? Thank for any suggestions..
Best regards,

-- 
Ciao,
        Mario

[ Web Info: http://members.ferrara.linux.it/cavicchi ]
From Denise.MacLeod at ingres.com  Mon Oct  6 11:11:31 2008
From: Denise.MacLeod at ingres.com (Denise MacLeod)
Date: Mon Oct  6 11:11:32 2008
Subject: [gdal-dev] Ingres driver for gdal
Message-ID: <ABB90CDC9A08FF49851AC42557795A18030602C7@USINVMAILB01.ingres.prv>


Hi -

I am another recent addition to the GDAL community. I am currently using the Ingres driver for the latest svn trunk version. I had originally downloaded the driver back in May, and had it working, but the latest version wasn't working for me; specifically ogr2ogr was seg faulting.

After some digging, I found out that the command line syntax had changed between May and now.  Previously, this syntax worked:

   ogr2ogr -overwrite -append -skipfailures -f ingres INGRES:mydbname road.shp

Now however, the syntax is (as documented on the GDAL website): 

   ogr2ogr -overwrite -append -skipfailues -f Ingres "@driver=ingres,dbname=mydbname,user=mydbuser,password=mypwd" road.shp

I was wondering if there's a reason to have the syntax so different from some of the other formats, such as Postgres?  (with the @ sign at the beginning). Also, out of curiousity, is the new driver parameter used to separate the vector format (specified by "-f Ingres") from the driver used?  

Finally, I fixed the seg fault by initializing the data source pointer as such:

from ogr/ogrsf_frmts/ingres/ogringresdriver.cpp

  OGRDataSource *OGRIngresDriver::CreateDataSource( const char * pszName,
                                                    char ** /* papszOptions */ )

  {
>     OGRIngresDataSource     *poDS = NULL;

.....

Thanks,
Denise
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081006/3c095e27/attachment.html
From DCarreira at edia.pt  Mon Oct  6 12:26:14 2008
From: DCarreira at edia.pt (Duarte Carreira)
Date: Mon Oct  6 12:33:13 2008
Subject: [gdal-dev] is there a way to rename fields with gdal/ogr 1.5.x?
In-Reply-To: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E30EF@beja012.edia.pt>
References: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E30EF@beja012.edia.pt>
Message-ID: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E3349@beja012.edia.pt>

Tamas,

Thanks for your reply.

The problem to using the latest FWTools is the missing SDE plugin...
compiling it myself is behond my knowledge. That's why I was hoping for a
workaround with 1.5.x. Do you suppose I could get a compiled copy??

Regards,
Duarte


De: Duarte Carreira [mailto:DCarreira@edia.pt]
Enviada: sexta-feira, 3 de Outubro de 2008 18:21
Para: gdal-dev@lists.osgeo.org
Assunto: [gdal-dev] is there a way to rename fields with gdal/ogr 1.5.x?

Hi all.

I was trying to convert & rename a shapefile and getting syntax errors with the -sql string... So I'm wondering if this is working in 1.5.x or only in 1.6dev?

If it's not working in 1.5 is there any other way to accomplish this in this version?

Thanks,
Duarte Carreira
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081006/e21e2dd0/attachment.html
From randre at gmail.com  Mon Oct  6 12:39:03 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon Oct  6 12:39:05 2008
Subject: [gdal-dev] Creating Google map tiles with gdal2tiles.py
Message-ID: <9c2015090810060939j5cf49fb5gb971eda2f0549d21@mail.gmail.com>

I'm curious if anyone has succesfully used gdal2tiles.py to create Google
Map tiles?  It seems to work very well at creating KML superoverlays, but I
have not been able to get Map tiles that are positioned correctly with it.
I have tried it against imagery that is in EPSG:4326, as well as in
EPSG:900913.  In both cases I get strange results which seem to indicate
some sort of SRS weirdness.

Any ideas?
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081006/10b70de2/attachment.html
From randre at gmail.com  Mon Oct  6 13:01:17 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon Oct  6 13:01:20 2008
Subject: [gdal-dev] creating an epsg code that can be used within the epsg
	file for fwtools and MapServer
In-Reply-To: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
References: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
Message-ID: <9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>

Hi John,

No guarantees that I got this right, but you could try adding the following
entry to your "FWTools/share/proj/epsg" file:

# Guatemala Transverse Mercator
<001234> +proj=tmerc +x_0=500000.000000 +y_0=0 +lon_0=-90.5 +lat_0=0
+k=0.999800 +ellps=WGS84 +datum=WGS84 +to_meter=0.3048006096012192 +no_defs
<>

Then you should be able to acces it by using "EPSG:001234" in your -s_srs
parameters.

Roger
--

On Mon, Oct 6, 2008 at 7:10 AM, John Mitchell <mitchelljj98@gmail.com>wrote:

> Hi,
>
> How would I create an epsg code that can be used within the epsg file for
> fwtools and MapServer?
>
> Below is the information that I would like to use to create an epsg code.
> What would be format for the new epsg code?  Is the information listed below
> enough to create an epsg code and if not what am I missing?
>
>
> *The 2001 data was originally in a Guatemalan Transverse Mercator
> coordinate
> system with the parameters shown below:
>
> Projection: Transverse Mercator
> False Easting: 500000.000000
> False Northing: 0.000000
> Central Meridian: -90.500000
> Scale Factor: 0.999800
> Latitude of Origin: 0.0000000
> Linear Unit: Meter
> Geographic Coordinate System: GCS_WGS_1984
>
> *Below is the gdalinfo listing for one of files that I would like to
> associate to this new epsg code:
>
> *Driver: GTiff/GeoTIFF
> Size is 11214, 7860
> Coordinate System is `'
> Origin = (317049.000000000000000,**1659460.000000000000000)
> Pixel Size = (0.500000000000000,-0.**500000000000000)
> Metadata:
>   AREA_OR_POINT=Area
>   TIFFTAG_SOFTWARE=ERDAS IMAGINE
>   TIFFTAG_XRESOLUTION=1
>   TIFFTAG_YRESOLUTION=1
>   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
> Corner Coordinates:
> Upper Left  (  317049.000, 1659460.000)
> Lower Left  (  317049.000, 1655530.000)
> Upper Right (  322656.000, 1659460.000)
> Lower Right (  322656.000, 1655530.000)
> Center      (  319852.500, 1657495.000)
> Band 1 Block=11214x8 Type=Byte, ColorInterp=Red
> Band 2 Block=11214x8 Type=Byte, ColorInterp=Green
> Band 3 Block=11214x8 Type=Byte, ColorInterp=Blue*
>
>
>
> Thanks,
>
> --
> John J. Mitchell
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081006/2d2d53a6/attachment.html
From mitchelljj98 at gmail.com  Mon Oct  6 13:53:55 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Mon Oct  6 13:53:57 2008
Subject: [gdal-dev] creating an epsg code that can be used within the epsg
	file for fwtools and MapServer
In-Reply-To: <9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>
References: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
	<9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>
Message-ID: <fa2ac0580810061053m56bab8f4g47c95c153e8cafd9@mail.gmail.com>

Thanks Roger,

Since I sent out the email I was able to derive the EPSG code and the only
difference between mine and yours was that I had +units=m  and you had
+to_meter=0.3048006096012192.  I think that my EPSG code is correct since my
below email had the Linear Unit = Meter and +to_meter=0.3048006096012192
would mean the units was feet.

John

On Mon, Oct 6, 2008 at 1:01 PM, Roger Andr? <randre@gmail.com> wrote:

> Hi John,
>
> No guarantees that I got this right, but you could try adding the following
> entry to your "FWTools/share/proj/epsg" file:
>
> # Guatemala Transverse Mercator
> <001234> +proj=tmerc +x_0=500000.000000 +y_0=0 +lon_0=-90.5 +lat_0=0
> +k=0.999800 +ellps=WGS84 +datum=WGS84 +to_meter=0.3048006096012192 +no_defs
> <>
>
> Then you should be able to acces it by using "EPSG:001234" in your -s_srs
> parameters.
>
> Roger
> --
>
> On Mon, Oct 6, 2008 at 7:10 AM, John Mitchell <mitchelljj98@gmail.com>wrote:
>
>> Hi,
>>
>> How would I create an epsg code that can be used within the epsg file for
>> fwtools and MapServer?
>>
>> Below is the information that I would like to use to create an epsg code.
>> What would be format for the new epsg code?  Is the information listed below
>> enough to create an epsg code and if not what am I missing?
>>
>>
>> *The 2001 data was originally in a Guatemalan Transverse Mercator
>> coordinate
>> system with the parameters shown below:
>>
>> Projection: Transverse Mercator
>> False Easting: 500000.000000
>> False Northing: 0.000000
>> Central Meridian: -90.500000
>> Scale Factor: 0.999800
>> Latitude of Origin: 0.0000000
>> Linear Unit: Meter
>> Geographic Coordinate System: GCS_WGS_1984
>>
>> *Below is the gdalinfo listing for one of files that I would like to
>> associate to this new epsg code:
>>
>> *Driver: GTiff/GeoTIFF
>> Size is 11214, 7860
>> Coordinate System is `'
>> Origin = (317049.000000000000000,**1659460.000000000000000)
>> Pixel Size = (0.500000000000000,-0.**500000000000000)
>> Metadata:
>>   AREA_OR_POINT=Area
>>   TIFFTAG_SOFTWARE=ERDAS IMAGINE
>>   TIFFTAG_XRESOLUTION=1
>>   TIFFTAG_YRESOLUTION=1
>>   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
>> Corner Coordinates:
>> Upper Left  (  317049.000, 1659460.000)
>> Lower Left  (  317049.000, 1655530.000)
>> Upper Right (  322656.000, 1659460.000)
>> Lower Right (  322656.000, 1655530.000)
>> Center      (  319852.500, 1657495.000)
>> Band 1 Block=11214x8 Type=Byte, ColorInterp=Red
>> Band 2 Block=11214x8 Type=Byte, ColorInterp=Green
>> Band 3 Block=11214x8 Type=Byte, ColorInterp=Blue*
>>
>>
>>
>> Thanks,
>>
>> --
>> John J. Mitchell
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>


-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081006/2297b266/attachment-0001.html
From even.rouault at mines-paris.org  Mon Oct  6 14:01:07 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct  6 14:01:16 2008
Subject: [gdal-dev] Problem with gdal_polygonize.py
In-Reply-To: <48EA2501.7000102@ferrara.linux.it>
References: <48EA2501.7000102@ferrara.linux.it>
Message-ID: <200810062001.08415.even.rouault@mines-paris.org>

You must use the NG python bindings in order to use gdal_polygonize.py because 
GDALPolygonize is not mapped in the OG python bindings.
I'm not sure why you don't manage to compile the NG bindings. My Ubuntu 8.04 
comes with python 2.5.2 and they work.

Le Monday 06 October 2008 16:47:29 Mario Cavicchi, vous avez ?crit?:
> Hi all,
> I compilated GDAL from repository (rev. 15462), because I want to use
> the gdal_polygonize.py utility. I used option --with-ogpython for make
> GDAL, because with --with-python I had some problem in compilation (I
> use python 2.5.2). Now, if I try to use gdal_polygonize.py, I get this
> error:
>
> $ gdal_polygonize.py
> Traceback (most recent call last):
>   File "/usr/local/bin/gdal_polygonize.py", line 34, in <module>
>     import gdal
>   File "/usr/local//lib/python2.5/site-packages/gdal.py", line 2, in
> <module>
>     from osgeo.gdal import deprecation_warn
>   File "/usr/local//lib/python2.5/site-packages/osgeo/gdal.py", line 7,
> in <module>
>     import _gdal
> ImportError: /usr/local/lib/python2.5/site-packages/osgeo/_gdal.so:
> undefined symbol: GDALPolygonize
>
> How I can fix this error? Thank for any suggestions..
> Best regards,


From even.rouault at mines-paris.org  Mon Oct  6 14:36:46 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct  6 14:36:50 2008
Subject: [gdal-dev] Ingres driver for gdal
In-Reply-To: <ABB90CDC9A08FF49851AC42557795A18030602C7@USINVMAILB01.ingres.prv>
References: <ABB90CDC9A08FF49851AC42557795A18030602C7@USINVMAILB01.ingres.prv>
Message-ID: <200810062036.47912.even.rouault@mines-paris.org>

For the seg fault, I've taken the liberty to fix it myself (r15463) as the fix 
was obvious. But I encourage you - and others - to query the trac ticket 
system (http://trac.osgeo.org/gdal/report/1?sort=ticket&asc=0) and create new 
tickets if needed so that bug reports and patches don't get lost in the email 
flow (http://trac.osgeo.org/gdal/newticket)

For the questions, I can't answer. The revision log shows that Frank Warmerdam 
is probably the right man for that ;-)

Best regards.

Even

Le Monday 06 October 2008 17:11:31 Denise MacLeod, vous avez ?crit?:
> Hi -
>
> I am another recent addition to the GDAL community. I am currently using
> the Ingres driver for the latest svn trunk version. I had originally
> downloaded the driver back in May, and had it working, but the latest
> version wasn't working for me; specifically ogr2ogr was seg faulting.
>
> After some digging, I found out that the command line syntax had changed
> between May and now.  Previously, this syntax worked:
>
>    ogr2ogr -overwrite -append -skipfailures -f ingres INGRES:mydbname
> road.shp
>
> Now however, the syntax is (as documented on the GDAL website):
>
>    ogr2ogr -overwrite -append -skipfailues -f Ingres
> "@driver=ingres,dbname=mydbname,user=mydbuser,password=mypwd" road.shp
>
> I was wondering if there's a reason to have the syntax so different from
> some of the other formats, such as Postgres?  (with the @ sign at the
> beginning). Also, out of curiousity, is the new driver parameter used to
> separate the vector format (specified by "-f Ingres") from the driver used?
>
> Finally, I fixed the seg fault by initializing the data source pointer as
> such:
>
> from ogr/ogrsf_frmts/ingres/ogringresdriver.cpp
>
>   OGRDataSource *OGRIngresDriver::CreateDataSource( const char * pszName,
>                                                     char ** /* papszOptions
> */ )
>
>   {
>
> >     OGRIngresDataSource     *poDS = NULL;
>
> .....
>
> Thanks,
> Denise


From szekerest at gmail.com  Mon Oct  6 17:45:16 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Oct  6 17:45:25 2008
Subject: [gdal-dev] is there a way to rename fields with gdal/ogr 1.5.x?
In-Reply-To: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E3349@beja012.edia.pt>
References: <A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E30EF@beja012.edia.pt>
	<A8D08CD1C4D9AB4B8FBBE3B5D3B0092801E77E3349@beja012.edia.pt>
Message-ID: <f3b73b7d0810061445x1cb0e0c7u11404563394b29ed@mail.gmail.com>

Hi,

Here is my daily snapshot you can probably test with:
http://vbkto.dyndns.org:1280/tests/release-1400.zip

Best regards,

Tamas


2008/10/6 Duarte Carreira <DCarreira@edia.pt>:
> Tamas,
>
>
>
> Thanks for your reply.
>
>
>
> The problem to using the latest FWTools is the missing SDE plugin...
>
> compiling it myself is behond my knowledge. That's why I was hoping for a
>
> workaround with 1.5.x. Do you suppose I could get a compiled copy??
>
>
>
> Regards,
>
> Duarte
>
>
>
>
>
> De: Duarte Carreira [mailto:DCarreira@edia.pt]
> Enviada: sexta-feira, 3 de Outubro de 2008 18:21
> Para: gdal-dev@lists.osgeo.org
> Assunto: [gdal-dev] is there a way to rename fields with gdal/ogr 1.5.x?
>
>
>
> Hi all.
>
>
>
> I was trying to convert & rename a shapefile and getting syntax errors with
> the -sql string? So I'm wondering if this is working in 1.5.x or only in
> 1.6dev?
>
>
>
> If it's not working in 1.5 is there any other way to accomplish this in this
> version?
>
>
>
> Thanks,
>
> Duarte Carreira
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Mon Oct  6 17:58:17 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct  6 17:58:20 2008
Subject: [gdal-dev] geotiff image writing problem
In-Reply-To: <b1ccf1c10810030352u5cf0420ap7074d6d8a55e0ba7@mail.gmail.com>
References: <b1ccf1c10810030352u5cf0420ap7074d6d8a55e0ba7@mail.gmail.com>
Message-ID: <931f8ea90810061458n1b3651dak8c15cb2b66775b0a@mail.gmail.com>

On Fri, Oct 3, 2008 at 6:52 AM, Silvia Marchesi
<silviamarchesi@gmail.com> wrote:
> Hi,
>  I'm using gdal for reading and writing geotiff images; I nedd to write a
> c++ code able to read a geotiff image (I have already done it!), process it
> and then give as output an image qith the same size of the input one
> (exception for the number of bands) and with the same geographic data; the
> only difference consists in the DN values (the type is the same) and as I
> said in the number of bands (form multiband image to 1 band).
> Can anybody help me?

Silvia,

I would encourage you to review the existing API Tutorial if you have
not already done so:

  http://www.gdal.org/gdal_tutorial.html

You might also find it instructive to review the gdalenhance.cpp
application which takes and image and produces a modified image.

  http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdalenhance.cpp

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From warmerdam at pobox.com  Mon Oct  6 19:00:33 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct  6 19:00:35 2008
Subject: [gdal-dev] [SOLVED] Re: Trouble connecting to PostGIS db
In-Reply-To: <200810061244.06872.jgomezdans@gmail.com>
References: <91d218430810021120v48a0a59cga2837a97945c5644@mail.gmail.com>
	<91d218430810031201g7e9b6b12n611e9beefb6136d5@mail.gmail.com>
	<CC197224AC75CE4DB23F739B16891B86E33F6A@tikka.haapa.mmm.fi>
	<200810061244.06872.jgomezdans@gmail.com>
Message-ID: <931f8ea90810061600s61224e6ay3cef374b87a3eade@mail.gmail.com>

On Mon, Oct 6, 2008 at 7:44 AM, Jose G?mez-Dans <jgomezdans@gmail.com> wrote:
> Hi,
>
> On Friday 03 October 2008 20:58:27 you wrote:
>> > Nope, that doesn't change a thing. I am realising that my
>> > geometry_columns table is empty, maybe this is where the problem lies?
>>
>> May be.  However, quotes seem to make difference on both my Windows XP and
>> Windows Vista: Single quotes are yielding the same message that you got,
>> while double quotes are working.
>
>
> Yes, I added an entry in the geometry_columns table, and I can access my data
> in PostGIS. I imported my data with shp2pgsql, and I assumed entries to the
> geometry table were done automatically, which doesn't seem to be the case.
>
> If having an entry in geometry_columns is a requirement, maybe it should be
> visible in OGR's PostGIS page? Or maybe it's there and I haven't seen it!

Jose,

You are correct.  There is a rather questionable decision to
assume the open fails if no layers are found in read-only
mode for this, and a few other drivers.  I've often found this
to be a problem and would consider changing it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From warmerdam at pobox.com  Mon Oct  6 20:39:03 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct  6 20:39:05 2008
Subject: [gdal-dev] Ingres driver for gdal
In-Reply-To: <ABB90CDC9A08FF49851AC42557795A18030602C7@USINVMAILB01.ingres.prv>
References: <ABB90CDC9A08FF49851AC42557795A18030602C7@USINVMAILB01.ingres.prv>
Message-ID: <931f8ea90810061739o4b0bf44ew5d3682515d000332@mail.gmail.com>

On Mon, Oct 6, 2008 at 11:11 AM, Denise MacLeod
<Denise.MacLeod@ingres.com> wrote:
>    ogr2ogr -overwrite -append -skipfailures -f ingres INGRES:mydbname
> road.shp
>
> Now however, the syntax is (as documented on the GDAL website):
>
>    ogr2ogr -overwrite -append -skipfailues -f Ingres
> "@driver=ingres,dbname=mydbname,user=mydbuser,password=mypwd" road.shp
>
> I was wondering if there's a reason to have the syntax so different from
> some of the other formats, such as Postgres?  (with the @ sign at the
> beginning).

Denise,

The ingres driver is my first attempt at a new "unified" syntax
for complex OGR driver datasource names.   This unified
syntax for passing many arguments was my intended response
to:

  http://trac.osgeo.org/gdal/wiki/rfc10_ogropen

without having to change the normal API.

Sorry for breaking the old name style, but I assumed the
driver was new enough that I could take the chance to change
things without it having much impact.  Normally I'm quite
conservative about such things.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent
From a.neumann at carto.net  Tue Oct  7 02:42:53 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue Oct  7 02:42:57 2008
Subject: [gdal-dev] Shift/Translate vector data within the same coordinate
	system
Message-ID: <38033.193.246.86.39.1223361773.squirrel@webmail.customers.iirc.at>

Hi,

I wonder if ogr2ogr can translate/shift vector data within the same
coordinate system. In Postgis I would use ST_Translate(geometry, float8,
float8, float8) to solve my problem.

I have data that is in the swiss coordinate system (metric, scale 1:1),
but not correctly georeferenced. All vector data should be translated
according to a given x/y offset. The output should be again in the swiss
coordinate system.

I looked up the documentation of ogr2ogr at
http://www.gdal.org/ogr/ogr2ogr.html but couldn't find a way to do what I
want.

Thanks for any hint on how to do this with ogr, if it is possible at all.

Andreas


-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From legeochen at gmail.com  Tue Oct  7 05:14:40 2008
From: legeochen at gmail.com (legeochen)
Date: Tue Oct  7 05:14:42 2008
Subject: [gdal-dev] I'm thinking make my source about gdal & wince open
Message-ID: <b508b9770810070214t64f42312g29b7fbad3e7e83c8@mail.gmail.com>

I wrote a quite simple c++ lib based on gdal 1.4.2 for wince August 2008.
And now I am thinking about make it opensorce, and hope it can be improved
by all interested in future. Any engaged in similar stuffs ? Any ideas and
suggestions are appreciated!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081007/86ae6dc2/attachment.html
From ASP at blominfo.dk  Tue Oct  7 07:47:49 2008
From: ASP at blominfo.dk (Asger Sigurd Petersen)
Date: Tue Oct  7 07:48:53 2008
Subject: [gdal-dev] Gdal.Polygonize and SWIGTYPE_p_OGRLayerShadow
Message-ID: <25BE68A4D83DD4438F701DF0311F3F4A852264@posthus.blominfo.dk>

Hi,

 

I would like to use Gdal.Polygonize from C# using the SWIG bindings, but Polygonize doesn't accept an OSGeo.OGR.Layer object for the vector output, rather it demands a SWIGTYPE_p_OGRLayerShadow object. Problem is that it looks as if there is no way to instantiate a SWIGTYPE_p_OGRLayerShadow object, making it impossible to use Polygonize from C#.

 

Can anyone confirm my observations?

 

Best regards

Asger

 

 

Asger Sigurd Petersen

asp@blominfo.dk <mailto:asp@blominfo.dk> 

+45 3525 5511


BlomInfo A/S
Masned?gade 20
DK-2100 K?BENHAVN ? 
Phone: +45 7020 0226 
Fax: +45 7020 0227
www.blominfo.dk <http://www.blominfo.dk> 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081007/58cdab58/attachment-0001.html
From 2voodoo at gmx.de  Tue Oct  7 08:31:02 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Tue Oct  7 08:31:29 2008
Subject: [gdal-dev] I'm thinking make my source about gdal & wince open
In-Reply-To: <b508b9770810070214t64f42312g29b7fbad3e7e83c8@mail.gmail.com>
References: <b508b9770810070214t64f42312g29b7fbad3e7e83c8@mail.gmail.com>
Message-ID: <48EB5686.30906@gmx.de>

Hi,

I would be intereseted in this since I am also a developer for WinCE and
WinMobile who is using gdal. What is the purpose of your library? What
can it do?

Why do you use GDAL 1.4.2? 1.5.2 is the current release and I compiled
it last week for WinCE (including Proj4) last week - with some minor
changes.

Regards,
Tom

legeochen schrieb:
>
> I wrote a quite simple c++ lib based on gdal 1.4.2 for wince August
> 2008. And now I am thinking about make it opensorce, and hope it can
> be improved by all interested in future. Any engaged in similar stuffs
> ? Any ideas and suggestions are appreciated!
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mitchelljj98 at gmail.com  Mon Oct  6 10:10:47 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Tue Oct  7 11:01:12 2008
Subject: [gdal-dev] [mapserver-users] creating an epsg code that can be used
	within the epsg file for fwtools and MapServer
Message-ID: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
mapserver-users mailing list
mapserver-users@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/mapserver-users
From randre at gmail.com  Mon Oct  6 13:01:17 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Tue Oct  7 11:10:29 2008
Subject: [mapserver-users] Re: [gdal-dev] creating an epsg code that can be
	used within the epsg file for fwtools and MapServer
In-Reply-To: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
References: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
Message-ID: <9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
mapserver-users mailing list
mapserver-users@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/mapserver-users
From mitchelljj98 at gmail.com  Mon Oct  6 10:10:47 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Tue Oct  7 11:33:32 2008
Subject: [gdal-dev] [mapserver-users] creating an epsg code that can be used
	within the epsg file for fwtools and MapServer
Message-ID: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
mapserver-users mailing list
mapserver-users@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/mapserver-users
From warmerdam at pobox.com  Tue Oct  7 11:45:33 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct  7 11:46:01 2008
Subject: [gdal-dev] Shift/Translate vector data within the same
	coordinate system
In-Reply-To: <38033.193.246.86.39.1223361773.squirrel@webmail.customers.iirc.at>
References: <38033.193.246.86.39.1223361773.squirrel@webmail.customers.iirc.at>
Message-ID: <48EB841D.3000709@pobox.com>

Andreas Neumann wrote:
> Hi,
> 
> I wonder if ogr2ogr can translate/shift vector data within the same
> coordinate system. In Postgis I would use ST_Translate(geometry, float8,
> float8, float8) to solve my problem.
> 
> I have data that is in the swiss coordinate system (metric, scale 1:1),
> but not correctly georeferenced. All vector data should be translated
> according to a given x/y offset. The output should be again in the swiss
> coordinate system.
> 
> I looked up the documentation of ogr2ogr at
> http://www.gdal.org/ogr/ogr2ogr.html but couldn't find a way to do what I
> want.
> 
> Thanks for any hint on how to do this with ogr, if it is possible at all.

Andreas,

It should be possible to specify a -s_srs and -t_srs that match the
actual coordinate system, except using a different false easting/northing
for the source srs.  This would result in an offset in x and y similar to
the difference in false easting/northing.

You can also use the vec_tr.py sample script to apply particular
transformation to all geometries in a vector layer:

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/vec_tr.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mitchelljj98 at gmail.com  Mon Oct  6 13:53:55 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Tue Oct  7 11:55:48 2008
Subject: [mapserver-users] Re: [gdal-dev] creating an epsg code that can be
	used within the epsg file for fwtools and MapServer
In-Reply-To: <9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>
References: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
	<9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>
Message-ID: <fa2ac0580810061053m56bab8f4g47c95c153e8cafd9@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
mapserver-users mailing list
mapserver-users@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/mapserver-users
From mitchelljj98 at gmail.com  Mon Oct  6 13:53:55 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Tue Oct  7 12:04:01 2008
Subject: [mapserver-users] Re: [gdal-dev] creating an epsg code that can be
	used within the epsg file for fwtools and MapServer
In-Reply-To: <9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>
References: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
	<9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>
Message-ID: <fa2ac0580810061053m56bab8f4g47c95c153e8cafd9@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
mapserver-users mailing list
mapserver-users@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/mapserver-users
From randre at gmail.com  Mon Oct  6 13:01:17 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Tue Oct  7 12:05:14 2008
Subject: [mapserver-users] Re: [gdal-dev] creating an epsg code that can be
	used within the epsg file for fwtools and MapServer
In-Reply-To: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
References: <fa2ac0580810060710p6d512cf0v9ef26a78bee2f3d2@mail.gmail.com>
Message-ID: <9c2015090810061001o65837b93i3f3d109836e0a108@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
_______________________________________________
mapserver-users mailing list
mapserver-users@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/mapserver-users
From john.tull at wildnevada.org  Tue Oct  7 13:10:13 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Tue Oct  7 13:10:21 2008
Subject: [gdal-dev] Shift/Translate vector data within the same	coordinate
	system
In-Reply-To: <48EB841D.3000709@pobox.com>
References: <38033.193.246.86.39.1223361773.squirrel@webmail.customers.iirc.at>
	<48EB841D.3000709@pobox.com>
Message-ID: <6994A478-8D1A-441D-8DBE-911B84AD95B1@me.com>

On Oct 7, 2008, at 8:45 AM, Frank Warmerdam wrote:

> It should be possible to specify a -s_srs and -t_srs that match the
> actual coordinate system, except using a different false easting/ 
> northing
> for the source srs.  This would result in an offset in x and y  
> similar to
> the difference in false easting/northing.

That's a great trick to know about. I doubt I would have thought of  
that solution.

Thanks,
John
From dylan.beaudette at gmail.com  Tue Oct  7 14:08:12 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Tue Oct  7 14:05:48 2008
Subject: [gdal-dev] interpretation of nodata in OGR libraries
Message-ID: <200810071108.12616.dylan.beaudette@gmail.com>

Hi,

I am not sure if this is a DBF issue, or something deeper in OGR, but there 
does not appear to be a mechanism for preserving 'nodata' or NULL values when 
exporting from GRASS to vector formats through v.out.ogr.

Here is an example using the sample 'Spearfish' data within GRASS:

Spearfish example:

# make a copy of one of the sample vector files
g.copy vect=vegcover,veg_temp

# add a new double precision column
# should be filled with NULL
v.db.addcol veg_temp column="x double"

# check within GRASS:
db.select veg_temp

cat|label|x
1|irrigated agriculture|
2|rangeland|
3|coniferous forest|
4|deciduous forest|
5|mixed forest|
6|disturbed|

# check outside of GRASS:
dbfxtrct -iveg_temp.dbf

1,irrigated agriculture,********************
2,rangeland,********************
3,coniferous forest,********************
4,deciduous forest,********************
5,mixed forest,********************
6,disturbed,********************

# OK- it looks like there *is* some way to encode nodata into a DBF
file for numeric data
# looking at the GRASS description of the columns:

column:x
description:
type:DOUBLE PRECISION
len:20
scale:6
precision:18
default:
nullok:yes
select:yes
update:yes

# cleanup
g.remove vect=v2,veg_temp


## another example:
g.copy vect=archsites,a_temp
v.db.addcol a_temp column="xyz double, abc integer"

# check:
db.select a_temp

cat|str1|xyz|abc
1|Signature Rock||
2|No Name||
3|Canyon Station||
[...]

# check outside of GRASS:
dbfxtrct -ia_temp.dbf

1,Signature Rock,********************,***********
2,No Name,********************,***********
3,Canyon Station,********************,***********
4,Spearfish Creek,********************,***********
[...]

# looks like encoding nodata for 'double' is different than for 'integer'

# try exporting through GDAL/OGR:
# first as shapefile:
v.out.ogr in=a_temp dsn=. type=point

# check:
dbfxtrct -ia_temp.dbf

1,Signature Rock,0.000000000000000,0
2,No Name,0.000000000000000,0
3,Canyon Station,0.000000000000000,0
4,Spearfish Creek,0.000000000000000,0

## not as bad as junk data, but 0 is not NA...

# try another vector driver: MapInfo:
v.out.ogr in=a_temp dsn=. type=point format=MapInfo_File

OGRFeature(a_temp):1
? cat (Integer) = 1
? str1 (String) = Signature Rock
? xyz (Real) = 0
? abc (Integer) = 0

## still wrong, trying GML
v.out.ogr in=a_temp dsn=output_dir layer=a_temp type=point format=GML

## null columns aren't exported..., trying SQLite
v.out.ogr in=a_temp dsn=a_temp.db layer=a_temp type=point format=SQLite

ERROR 1: sqlite3_step() failed:
? SQL logic error or missing database
ERROR 1: sqlite3_step() failed:
? SQL logic error or missing database
[...]

## results in a broken sqlite DB, with no data, and an incomplete schema


It looks like GRASS can read in a DBF file with NULL data correctly. I 
created 'x.dbf' such that the last record was had only NULL values:

dbfxtrct -ix.dbf
1,1.967017974471673
2,2.275017686421052
3,3.295665678335354
4,4.817330794176087
5,5.371476975502446
6,6.743488555075601
7,7.345701594371349
8,8.887322778813541
9,9.570328279398382
****,*******************

# try reading into GRASS:
db.in.ogr dsn=x.dbf out=x

# check in GRASS:
db.select x
a|b
1|1.967018
2|2.275018
3|3.295666
4|4.817331
5|5.371477
6|6.743489
7|7.345702
8|8.887323
9|9.570328
| ? ? ? ? ? ? ? ? ? <------- correct use of NA



It seems that on export via OGR there is some kind of mangline of nodata. This 
issue is a serious problem anytime you need to move vector data between 
applications, through the use of an intermediate file (usually a shapefile).

Any ideas on what could be causing this problem? Fixing it would solve several 
important issues. If need be I will file a new ticket on the topic.

Relevent tickets?
http://trac.osgeo.org/gdal/ticket/809
http://trac.osgeo.org/gdal/ticket/528

Cheers,

Dylan

-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From warmerdam at pobox.com  Tue Oct  7 14:40:53 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct  7 14:41:15 2008
Subject: [gdal-dev] interpretation of nodata in OGR libraries
In-Reply-To: <200810071108.12616.dylan.beaudette@gmail.com>
References: <200810071108.12616.dylan.beaudette@gmail.com>
Message-ID: <48EBAD35.8010605@pobox.com>

Dylan Beaudette wrote:
> Hi,
> 
> I am not sure if this is a DBF issue, or something deeper in OGR, but there 
> does not appear to be a mechanism for preserving 'nodata' or NULL values when 
> exporting from GRASS to vector formats through v.out.ogr.
...
> It seems that on export via OGR there is some kind of mangline of nodata. This 
> issue is a serious problem anytime you need to move vector data between 
> applications, through the use of an intermediate file (usually a shapefile).
> 
> Any ideas on what could be causing this problem? Fixing it would solve several 
> important issues. If need be I will file a new ticket on the topic.
> 
> Relevent tickets?
> http://trac.osgeo.org/gdal/ticket/809
> http://trac.osgeo.org/gdal/ticket/528

Dylan,

Generally speaking OGR understands about null attribute values, though
there may be no way to represent them in some formats.  They should work
fine in shapefile format though.

Reviewing the mk_att() function in v.out.ogr's main.c I don't see
any effort to distinguish between null and non-null attributes so
I think the problem is just a limitation of v.out.ogr.  If possible,
I'd suggest fixing it there.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Oct  7 16:55:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct  7 16:56:01 2008
Subject: [gdal-dev] GDAL Releases
Message-ID: <48EBCCCD.2050409@pobox.com>

Folks,

I would like to prepare a 1.5.3 release candidate tomorrow since it has been
quite a while since the last stable release.  Are there any objections or
bug fixes seen as worth holding this up for?

Also, I'd like to start progress toward a 1.6.0 release.  I had hoped to
address additional UTF-8 handling issues before 1.6 but this seems somewhat
unlikely at this point.  Are there any new features or major changes folks
forsee wanting in before a 1.6 release?

Depending on feedback, I'd like to schedule a 1.6 release IRC meeting in the
next week or so to plan the release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dylan.beaudette at gmail.com  Tue Oct  7 17:00:48 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Tue Oct  7 16:58:33 2008
Subject: [gdal-dev] interpretation of nodata in OGR libraries
In-Reply-To: <48EBAD35.8010605@pobox.com>
References: <200810071108.12616.dylan.beaudette@gmail.com>
	<48EBAD35.8010605@pobox.com>
Message-ID: <200810071400.48165.dylan.beaudette@gmail.com>

On Tuesday 07 October 2008, Frank Warmerdam wrote:
> Dylan Beaudette wrote:
> > Hi,
> >
> > I am not sure if this is a DBF issue, or something deeper in OGR, but
> > there does not appear to be a mechanism for preserving 'nodata' or NULL
> > values when exporting from GRASS to vector formats through v.out.ogr.
>
> ...
>
> > It seems that on export via OGR there is some kind of mangline of nodata.
> > This issue is a serious problem anytime you need to move vector data
> > between applications, through the use of an intermediate file (usually a
> > shapefile).
> >
> > Any ideas on what could be causing this problem? Fixing it would solve
> > several important issues. If need be I will file a new ticket on the
> > topic.
> >
> > Relevent tickets?
> > http://trac.osgeo.org/gdal/ticket/809
> > http://trac.osgeo.org/gdal/ticket/528
>
> Dylan,
>
> Generally speaking OGR understands about null attribute values, though
> there may be no way to represent them in some formats.  They should work
> fine in shapefile format though.
>
> Reviewing the mk_att() function in v.out.ogr's main.c I don't see
> any effort to distinguish between null and non-null attributes so
> I think the problem is just a limitation of v.out.ogr.  If possible,
> I'd suggest fixing it there.
>
> Best regards,

Thanks a lot Frank. You never fail to impress when it comes to finding bugs!
I will follow this up over on the GRASS-dev list. 

Cheers,
Dylan


-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From even.rouault at mines-paris.org  Tue Oct  7 17:42:57 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Oct  7 17:43:01 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <48EBCCCD.2050409@pobox.com>
References: <48EBCCCD.2050409@pobox.com>
Message-ID: <200810072342.57693.even.rouault@mines-paris.org>

I'm +1 for that plan.

Le Tuesday 07 October 2008 22:55:41 Frank Warmerdam, vous avez ?crit?:
> Folks,
>
> I would like to prepare a 1.5.3 release candidate tomorrow since it has
> been quite a while since the last stable release.  Are there any objections
> or bug fixes seen as worth holding this up for?
>
> Also, I'd like to start progress toward a 1.6.0 release.  I had hoped to
> address additional UTF-8 handling issues before 1.6 but this seems somewhat
> unlikely at this point.  Are there any new features or major changes folks
> forsee wanting in before a 1.6 release?
>
> Depending on feedback, I'd like to schedule a 1.6 release IRC meeting in
> the next week or so to plan the release.
>
> Best regards,


From szekerest at gmail.com  Tue Oct  7 18:14:02 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Oct  7 18:14:05 2008
Subject: [gdal-dev] Gdal.Polygonize and SWIGTYPE_p_OGRLayerShadow
In-Reply-To: <25BE68A4D83DD4438F701DF0311F3F4A852264@posthus.blominfo.dk>
References: <25BE68A4D83DD4438F701DF0311F3F4A852264@posthus.blominfo.dk>
Message-ID: <f3b73b7d0810071514k164dcf81l903ae02a9703fee9@mail.gmail.com>

Asger,

I've committed a change in the SVN-trunk so as to support this
function. Check out and let me know how it goes.

Best regards,

Tamas



2008/10/7 Asger Sigurd Petersen <ASP@blominfo.dk>:
> Hi,
>
>
>
> I would like to use Gdal.Polygonize from C# using the SWIG bindings, but
> Polygonize doesn't accept an OSGeo.OGR.Layer object for the vector output,
> rather it demands a SWIGTYPE_p_OGRLayerShadow object. Problem is that it
> looks as if there is no way to instantiate a SWIGTYPE_p_OGRLayerShadow
> object, making it impossible to use Polygonize from C#.
>
>
>
> Can anyone confirm my observations?
>
>
>
> Best regards
>
> Asger
>
>
>
>
>
> Asger Sigurd Petersen
>
> asp@blominfo.dk
>
> +45 3525 5511
>
> BlomInfo A/S
> Masned?gade 20
> DK-2100 K?BENHAVN ?
> Phone: +45 7020 0226
> Fax: +45 7020 0227
> www.blominfo.dk
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From szekerest at gmail.com  Tue Oct  7 18:16:46 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Oct  7 18:16:49 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <48EBCCCD.2050409@pobox.com>
References: <48EBCCCD.2050409@pobox.com>
Message-ID: <f3b73b7d0810071516j72bb15a6tea1e132b32552f51@mail.gmail.com>

+1

Tamas


2008/10/7 Frank Warmerdam <warmerdam@pobox.com>:
> Folks,
>
> I would like to prepare a 1.5.3 release candidate tomorrow since it has been
> quite a while since the last stable release.  Are there any objections or
> bug fixes seen as worth holding this up for?
>
> Also, I'd like to start progress toward a 1.6.0 release.  I had hoped to
> address additional UTF-8 handling issues before 1.6 but this seems somewhat
> unlikely at this point.  Are there any new features or major changes folks
> forsee wanting in before a 1.6 release?
>
> Depending on feedback, I'd like to schedule a 1.6 release IRC meeting in the
> next week or so to plan the release.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From gok at aerometric-ak.com  Tue Oct  7 21:11:24 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Tue Oct  7 21:15:42 2008
Subject: [gdal-dev] lost gdal_polygonize
Message-ID: <3054411AF4728548AD6D7137190D56B303E135A3@admin1.aeromap.com>

Can not find gdal_polygonize utility:
http://www.gdal.org/gdal_polygonize.html
Want to extract polygons based on color range

Any help, please.
GDAL 1.5.1

From dharris at regisresources.com  Tue Oct  7 21:16:19 2008
From: dharris at regisresources.com (Dale Harris)
Date: Tue Oct  7 21:17:26 2008
Subject: [gdal-dev] GDAL Releases
Message-ID: <B1C193A9DE5B6D41833793DE100B5AB3233401@regisdc01.perth.regis.local>

I would like to see ticket 2585 be resolved. This has been available in
MITAB since February and Mapinfo has support date fields for a few years
now.

 

Cheers,

 

Dale Harris
GIS Manager

Regis Resources
Ground Floor 
62 Colin Street
West Perth WA 6005
Direct Line (08) 9442 2207
Fax: (08) 9442 2290
Email: dharris@regisresources.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081008/d1c59c86/attachment.html
From warmerdam at pobox.com  Wed Oct  8 01:19:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  8 01:19:26 2008
Subject: [gdal-dev] lost gdal_polygonize
In-Reply-To: <3054411AF4728548AD6D7137190D56B303E135A3@admin1.aeromap.com>
References: <3054411AF4728548AD6D7137190D56B303E135A3@admin1.aeromap.com>
Message-ID: <48EC42D2.5020904@pobox.com>

Gennady Khokhorin wrote:
> Can not find gdal_polygonize utility:
> http://www.gdal.org/gdal_polygonize.html
> Want to extract polygons based on color range
> 
> Any help, please.
> GDAL 1.5.1

Gennady,

gdal_polygonize is only available in trunk, not the 1.5.x series.  It is a
new capability.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Oct  8 01:26:52 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  8 01:27:05 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <B1C193A9DE5B6D41833793DE100B5AB3233401@regisdc01.perth.regis.local>
References: <B1C193A9DE5B6D41833793DE100B5AB3233401@regisdc01.perth.regis.local>
Message-ID: <48EC449C.4020001@pobox.com>

Dale Harris wrote:
> I would like to see ticket 2585 be resolved. This has been available in 
> MITAB since February and Mapinfo has support date fields for a few years 
> now.

Dale,

I get the impression this fix will not make it into the 1.5.x stable
releases, but that it should make it into 1.6.0 (with luck the first beta).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dharris at regisresources.com  Wed Oct  8 01:45:40 2008
From: dharris at regisresources.com (Dale Harris)
Date: Wed Oct  8 01:45:46 2008
Subject: [gdal-dev] GDAL Releases [Scanned]
In-Reply-To: <48EC449C.4020001@pobox.com>
References: <B1C193A9DE5B6D41833793DE100B5AB3233401@regisdc01.perth.regis.local>
	<48EC449C.4020001@pobox.com>
Message-ID: <B1C193A9DE5B6D41833793DE100B5AB323341C@regisdc01.perth.regis.local>

Ok thanks for that. Any idea on the timeline for the beta release?

Cheers
Dale

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Wednesday, 8 October 2008 1:27 PM
To: Dale Harris
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL Releases [Scanned]

Dale Harris wrote:
> I would like to see ticket 2585 be resolved. This has been available
in 
> MITAB since February and Mapinfo has support date fields for a few
years 
> now.

Dale,

I get the impression this fix will not make it into the 1.5.x stable
releases, but that it should make it into 1.6.0 (with luck the first
beta).

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

This message may contain privileged and confidential information.  If you are not the intended recipient of this message, you are notified that any use, dissemination, distribution or reproduction of this message is strictly prohibited.  If you receive this message in error, please notify Regis Resources Limited immediately.

From jrepetto at free.fr  Wed Oct  8 02:09:31 2008
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Wed Oct  8 02:10:39 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <48EBCCCD.2050409@pobox.com>
References: <48EBCCCD.2050409@pobox.com>
Message-ID: <48EC4E9B.8070903@free.fr>

Frank Warmerdam wrote :
> 
> I would like to prepare a 1.5.3 release candidate tomorrow ...

Hello,

I would like to see ticket #2285 resolved, if not too difficult. I have 
to use ImageMagick because pct2rgb.py does not work, but ImageMagick 
removes georeferencing data from GeoTiff files.

Jean-Claude
From ASP at blominfo.dk  Wed Oct  8 04:00:43 2008
From: ASP at blominfo.dk (Asger Sigurd Petersen)
Date: Wed Oct  8 04:00:45 2008
Subject: [gdal-dev] Gdal.Polygonize and SWIGTYPE_p_OGRLayerShadow
In-Reply-To: <f3b73b7d0810071514k164dcf81l903ae02a9703fee9@mail.gmail.com>
References: <25BE68A4D83DD4438F701DF0311F3F4A852264@posthus.blominfo.dk>
	<f3b73b7d0810071514k164dcf81l903ae02a9703fee9@mail.gmail.com>
Message-ID: <25BE68A4D83DD4438F701DF0311F3F4A8522EA@posthus.blominfo.dk>

Hi Tamas,

Thank you very much! It works beautifully now.

Thanks again.

Best regards
Asger

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: 8. oktober 2008 00:14
To: Asger Sigurd Petersen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Gdal.Polygonize and SWIGTYPE_p_OGRLayerShadow

Asger,

I've committed a change in the SVN-trunk so as to support this function. Check out and let me know how it goes.

Best regards,

Tamas



2008/10/7 Asger Sigurd Petersen <ASP@blominfo.dk>:
> Hi,
>
>
>
> I would like to use Gdal.Polygonize from C# using the SWIG bindings, 
> but Polygonize doesn't accept an OSGeo.OGR.Layer object for the vector 
> output, rather it demands a SWIGTYPE_p_OGRLayerShadow object. Problem 
> is that it looks as if there is no way to instantiate a 
> SWIGTYPE_p_OGRLayerShadow object, making it impossible to use Polygonize from C#.
>
>
>
> Can anyone confirm my observations?
>
>
>
> Best regards
>
> Asger
>
>
>
>
>
> Asger Sigurd Petersen
>
> asp@blominfo.dk
>
> +45 3525 5511
>
> BlomInfo A/S
> Masned?gade 20
> DK-2100 K?BENHAVN ?
> Phone: +45 7020 0226
> Fax: +45 7020 0227
> www.blominfo.dk
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From arb at sat.dundee.ac.uk  Wed Oct  8 05:39:34 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Wed Oct  8 05:39:38 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <48EBCCCD.2050409@pobox.com>
References: <48EBCCCD.2050409@pobox.com>
Message-ID: <op.uio838szqw3wu1@titan>

On Tue, 07 Oct 2008 21:55:41 +0100, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> I would like to prepare a 1.5.3 release candidate tomorrow since it has been
> quite a while since the last stable release.  Are there any objections or
> bug fixes seen as worth holding this up for?

Please don't release it until the HDF4, HDF4-eos and HDF5 support has
been fixed.  This was discussed 4 months ago when you said
"I consider these significant, but ok to be put off to a 1.5.3 release"
I've just downloaded the trunk and all three are still broken.

Andrew

P.S. See the thread here:
http://www.nabble.com/Motion:-Adopt-GDAL-OGR-1.5.2-RC3-as-1.5.2-td17545259.html
From nikos.alexandris at felis.uni-freiburg.de  Wed Oct  8 08:36:53 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Oct  8 08:36:05 2008
Subject: [gdal-dev] Flip horizontally & vertically a raster map using
	listgeo and geotifcp (?)
Message-ID: <1223469413.10324.11.camel@vertical>

Dear gdal-dev members,
is there a way to turn the world (raste map) upside-down?

I've been playing around with listgeo and geotifcp (trying to understand
the "world file" principles) but I can't get the word upside-down. I
thought that, since it's about a flip in both axes hor. and vert., it
would just take to change position and/or the sign of pixel resolution
values/rotation coefficient values.

Seems it's a more complex thing.

I tried Matt's (Perry) flip_raster.py but I also want a horizontal flip
in addition. What would it take to hack-in the horizontal flip as well?

As I understand Matt's version of gdal_merge.py will preserve
coordinates and geo-meta-tags. Is there a way to flip them as well ?

Thank you, Nikos

From Todd.Southen at bentley.com  Wed Oct  8 12:45:25 2008
From: Todd.Southen at bentley.com (Todd.Southen@bentley.com)
Date: Wed Oct  8 12:46:47 2008
Subject: [gdal-dev] PGeo TestCapability always returns FALSE
Message-ID: <EE8C2D034A022444B87B1332B3978105139B9EB0@extonpo1.bentley.com>

Hi all,

In my application, I'm calling layer->TestCapability(OLCRandomRead)
before calling layer->GetFeature(fid).  When I try this with a PGeo
datasource, TestCapability always returns FALSE.  

Looking at the OGRPGeoLayer code this indeed seems to be the case:

    int OGRPGeoLayer::TestCapability( const char * pszCap )
    {
        if( EQUAL(pszCap,OLCRandomRead) )
            return FALSE;

        else if( EQUAL(pszCap,OLCFastFeatureCount) )
            return FALSE;

        else if( EQUAL(pszCap,OLCFastSpatialFilter) )
            return FALSE;

        else if( EQUAL(pszCap,OLCTransactions) )
            return FALSE;

        else 
            return FALSE;
    }

Is this a bug?

Should I be calling TestCapability before calling GetFeature?
GetFeature seems to work for the PGeo datasource even though
TestCapability is returning FALSE.

Thank-you,
Todd.
From FRCE at teamlog.com  Wed Oct  8 12:48:51 2008
From: FRCE at teamlog.com (=?iso-8859-1?Q?CELLIER_Fran=E7ois?=)
Date: Wed Oct  8 13:21:10 2008
Subject: [Gdal-dev] Trouble reading Geotiff projection
Message-ID: <009f01c92965$be4ef0d0$6302320a@ouest.teamlog.intra>

Hi everybody,

 

I need to read geotiff with the gdal library. This geotif had no projection
so I opened it through Global Mapper and Export it in order to have a
projection within it. When I do a gdalinfo on the file I have :

 

Driver: GTiff/GeoTIFF

Files: testAvecProj.tif

Size is 4000, 4000

Coordinate System is:

PROJCS["NTF (Paris) / France II",

    GEOGCS["NTF (Paris)",

        DATUM["Nouvelle_Triangulation_Francaise_Paris",

            SPHEROID["Clarke 1880 (IGN)",6378249.2,293.4660212936265,

                AUTHORITY["EPSG","7011"]],

            AUTHORITY["EPSG","6807"]],

        PRIMEM["Paris",2.33722917],

        UNIT["degree",0.0174532925199433],

        AUTHORITY["EPSG","4807"]],

    PROJECTION["Lambert_Conformal_Conic_1SP"],

    PARAMETER["latitude_of_origin",46.8],

    PARAMETER["central_meridian",0],

    PARAMETER["scale_factor",0.99987742],

    PARAMETER["false_easting",600000],

    PARAMETER["false_northing",2200000],

    UNIT["metre",1,

        AUTHORITY["EPSG","9001"]],

    AUTHORITY["EPSG","27582"]]

Origin = (601499.999999999420000,2428999.999999997700000)

Pixel Size = (0.125000000000000,-0.125000000000000)

Metadata:

  AREA_OR_POINT=Area

Image Structure Metadata:

  COMPRESSION=PACKBITS

  INTERLEAVE=BAND

Corner Coordinates:

Upper Left  (  601500.000, 2429000.000) (  0d 1'13.55"E, 48d51'33.85"N)

Lower Left  (  601500.000, 2428500.000) (  0d 1'13.54"E, 48d51'17.67"N)

Upper Right (  602000.000, 2429000.000) (  0d 1'38.07"E, 48d51'33.84"N)

Lower Right (  602000.000, 2428500.000) (  0d 1'38.06"E, 48d51'17.66"N)

Center      (  601750.000, 2428750.000) (  0d 1'25.80"E, 48d51'25.75"N)

Band 1 Block=4000x1 Type=Byte, ColorInterp=Palette

  Color Table (RGB with 256 entries)

    0: 31,45,31,255

    1: 30,52,40,255

    2: 41,50,29,255

    3: 39,46,35,255

    4: 44,57,42,255

 

 

To read it I started from the example of the gdal website :
http://www.gdal.org/gdal_tutorial.html

 

GDALAllRegister();

this->_pGDALDataSet = (GDALDataset *) GDALOpen( _NomFichierImport.c_str(),
GA_ReadOnly );

 

In debug mode, the pszProjection field of _pGDALDataSet is :

PROJCS[?unamed?,GEOGCS[?unamed?,DATUM[?unknown?,SPHEROID[?unretrievable?
etc


 

Can someone tell me what I did wrong ?

 

 

Best regards,

Fran?ois 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081008/c9c64c2a/attachment.html
From roth.luke at gmail.com  Wed Oct  8 14:02:23 2008
From: roth.luke at gmail.com (Luke Roth)
Date: Wed Oct  8 14:02:25 2008
Subject: [gdal-dev] GDAL block cache question
Message-ID: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>

Hi everybody,

I've been working on writing an image viewer using GDAL, and I'd like
to take advantage of the block cache to avoid keeping multiple copies
of things in memory where I can.  I'm currently using the
GetLockedBlockRef() function, which works well, but can sometimes lead
to large delays when scrolling around and reading in new data.  Is
there any easy way to check to see if a particular block is present in
the cache before trying to read it?  I've found the
TryGetLockedBlockRef() function, which I could use to read the data
from the cache, note which blocks are not valid, and go back and read
those blocks in idle time or in a separate thread, but it's protected
and I don't really want to mess with the GDAL class hierarchy if I
don't have to.  Is there a straightforward way to do this?

Thanks,

Luke
From joelodom at gmail.com  Wed Oct  8 14:23:05 2008
From: joelodom at gmail.com (Joel Odom)
Date: Wed Oct  8 14:23:07 2008
Subject: [gdal-dev] KML Parsing Performance
Message-ID: <d422b4500810081123h6cc43fdbo309651c052ec80b0@mail.gmail.com>

I'd like to know how I may get better performance reading a KML file.  I
have a file with 9,640 points.  I've found that it takes about 16 seconds to
read through the entire file (see the code snapshot below).  The exact same
data in Shapefile format takes a second or less to read using the same code
snippet.  I'm using 1.5.2 with libexpat.  Any hints?  Thanks.

OGRLayer* layer = poDS->GetLayer(0);
int count = layer->GetFeatureCount();
for (int i = 0; i < count; i++) layer->GetNextFeature(); // 16 seconds


-- 
http://giscoder.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081008/bb57c665/attachment.html
From warmerdam at pobox.com  Wed Oct  8 15:33:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  8 15:33:31 2008
Subject: [gdal-dev] GDAL block cache question
In-Reply-To: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
Message-ID: <48ED0AFA.7070806@pobox.com>

Luke Roth wrote:
> Hi everybody,
> 
> I've been working on writing an image viewer using GDAL, and I'd like
> to take advantage of the block cache to avoid keeping multiple copies
> of things in memory where I can.  I'm currently using the
> GetLockedBlockRef() function, which works well, but can sometimes lead
> to large delays when scrolling around and reading in new data.  Is
> there any easy way to check to see if a particular block is present in
> the cache before trying to read it?  I've found the
> TryGetLockedBlockRef() function, which I could use to read the data
> from the cache, note which blocks are not valid, and go back and read
> those blocks in idle time or in a separate thread, but it's protected
> and I don't really want to mess with the GDAL class hierarchy if I
> don't have to.  Is there a straightforward way to do this?

Luke,

I would not be adverse to making this method public instead of protected.
I'd suggest you try out this approach locally and if it accomplishes what
you need file a ticket on the issue - hopefully before GDAL 1.6.0 beta1 is
issued.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From antonio.valentino at tiscali.it  Wed Oct  8 15:33:48 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Wed Oct  8 15:35:12 2008
Subject: [gdal-dev] GDAL block cache question
In-Reply-To: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
Message-ID: <20081008213348.191eb269@tiscali.it>

Il giorno Wed, 8 Oct 2008 14:02:23 -0400
"Luke Roth" <roth.luke@gmail.com> ha scritto:

> Hi everybody,
> 
> I've been working on writing an image viewer using GDAL, and I'd like

Hi Luke,
unfortunately I don't have an answer for you but I would like to ask
you some more about the application you are working on.
It seems to me it is written in C++, is it?
Which is the target platform?
Which GUI toolkit are you going to use?
Will it be open source?
Do you have in mind a particular target about data (optical/SAR images,
raster/vector data)? 
What about meta-data and geographic info?

> to take advantage of the block cache to avoid keeping multiple copies
> of things in memory where I can.  I'm currently using the
> GetLockedBlockRef() function, which works well, but can sometimes lead
> to large delays when scrolling around and reading in new data.  Is
> there any easy way to check to see if a particular block is present in
> the cache before trying to read it?  I've found the
> TryGetLockedBlockRef() function, which I could use to read the data
> from the cache, note which blocks are not valid, and go back and read
> those blocks in idle time or in a separate thread, but it's protected
> and I don't really want to mess with the GDAL class hierarchy if I
> don't have to.  Is there a straightforward way to do this?

I hope I'm not too boring.

thanks

-- 
Antonio Valentino
From warmerdam at pobox.com  Wed Oct  8 15:45:57 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  8 15:46:14 2008
Subject: [Gdal-dev] Trouble reading Geotiff projection
In-Reply-To: <009f01c92965$be4ef0d0$6302320a@ouest.teamlog.intra>
References: <009f01c92965$be4ef0d0$6302320a@ouest.teamlog.intra>
Message-ID: <48ED0DF5.1070405@pobox.com>

CELLIER Fran?ois wrote:
> Hi everybody,
> 
>  
> 
> I need to read geotiff with the gdal library. This geotif had no 
> projection so I opened it through Global Mapper and Export it in order 
> to have a projection within it. When I do a gdalinfo on the file I have :
> 
>  
> 
> Driver: GTiff/GeoTIFF
> 
> Files: testAvecProj.tif
> 
> Size is 4000, 4000
> 
> Coordinate System is:
> 
> PROJCS["NTF (Paris) / France II",
...
> 
> GDALAllRegister();
> 
> this->_pGDALDataSet = (GDALDataset *) GDALOpen( 
> _NomFichierImport.c_str(), GA_ReadOnly );
> 
>  
> 
> In debug mode, the pszProjection field of _pGDALDataSet is :
> 
> PROJCS[?unamed?,GEOGCS[?unamed?,DATUM[?unknown?,SPHEROID[?unretrievable? 
> etc?
> 
>  
> 
> Can someone tell me what I did wrong ?

Fran?ois,

To get names like "NTF (Paris) / France II" for the coordinate system
strings from a GeoTIFF GDAL needs to lookup the geotiff codes in the
support files pcs.csv and gcs.csv normally living in gdal/data, and
installed in locations like /usr/local/share/gdal.

If they are not found you will get things like "unnamed".  You may
find you need to set the GDAL_DATA environment variable to point to
the directory where these data files are found.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From gok at aerometric-ak.com  Wed Oct  8 15:45:11 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Wed Oct  8 15:48:28 2008
Subject: [gdal-dev] lost gdal_polygonize
Message-ID: <3054411AF4728548AD6D7137190D56B303E13609@admin1.aeromap.com>

Frank,
I see alg/polygonize.cpp in the trunk, no gdal_polygonize.cpp in apps
yet.
Do you have code outline how this app should look like in the main()?

Thanks for great support!

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, October 07, 2008 9:19 PM
To: Gennady Khokhorin
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] lost gdal_polygonize

Gennady Khokhorin wrote:
> Can not find gdal_polygonize utility:
> http://www.gdal.org/gdal_polygonize.html
> Want to extract polygons based on color range
> 
> Any help, please.
> GDAL 1.5.1

Gennady,

gdal_polygonize is only available in trunk, not the 1.5.x series.  It is
a
new capability.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Oct  8 15:57:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  8 15:58:17 2008
Subject: [gdal-dev] PGeo TestCapability always returns FALSE
In-Reply-To: <EE8C2D034A022444B87B1332B3978105139B9EB0@extonpo1.bentley.com>
References: <EE8C2D034A022444B87B1332B3978105139B9EB0@extonpo1.bentley.com>
Message-ID: <48ED10C6.1080903@pobox.com>

Todd.Southen@bentley.com wrote:
> Hi all,
> 
> In my application, I'm calling layer->TestCapability(OLCRandomRead)
> before calling layer->GetFeature(fid).  When I try this with a PGeo
> datasource, TestCapability always returns FALSE.  
> 
> Looking at the OGRPGeoLayer code this indeed seems to be the case:
> 
>     int OGRPGeoLayer::TestCapability( const char * pszCap )
>     {
>         if( EQUAL(pszCap,OLCRandomRead) )
>             return FALSE;
> 
>         else if( EQUAL(pszCap,OLCFastFeatureCount) )
>             return FALSE;
> 
>         else if( EQUAL(pszCap,OLCFastSpatialFilter) )
>             return FALSE;
> 
>         else if( EQUAL(pszCap,OLCTransactions) )
>             return FALSE;
> 
>         else 
>             return FALSE;
>     }
> 
> Is this a bug?
> 
> Should I be calling TestCapability before calling GetFeature?
> GetFeature seems to work for the PGeo datasource even though
> TestCapability is returning FALSE.

Todd,

Contrary to the documentation at:

   http://www.gdal.org/ogr/classOGRLayer.html#eedbda1a62f9b89b8e5f24332cf22286

it appears that OGRLayer::GetFeature() always works.  But for drivers
without a custom implementation it is slow because it just uses
ResetReading(), and GetNextFeature() to search for the corresponding
feature.  So I will adjust the documentation to indicate that the
OLCRandomRead test really means "does this layer support optimized
reading by feature id".

The second issue is whether the various flags are true.  Note that there
are two classes derived from OGRPGeoLayer.  One for direct access to
tables, and one for results from ExecuteSQL().

The OGRPGeoTableLayer class returns TRUE for OCLSequentialWrite,
OCLRandomWrite and OCLCreateField.  Howeever, it returns the default
for everything else even though it *ought* to TRUE for OLCRandomRead,
OLCFastFeatureCount and OLCFastSpatialFilter.

I have created a ticket on this issue.  I would encourage you to add
yourself as a cc: so you will be notified when it is fixed.  I'll try to
get this in today for the 1.5.3 release.

   http://trac.osgeo.org/gdal/ticket/2601

I would add that in general the OGR drivers tend to be sloppy about
returning the proper testcapability values which significantly undermines
the utility of the method.  I encourage anyone noting inconsistencies to
file tickets so we can fix things up.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Wed Oct  8 17:15:25 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed Oct  8 17:14:42 2008
Subject: [gdal-dev] How do I re-size a BSB (KAP) file?
Message-ID: <48ED22ED.7040405@noaa.gov>

Hi all,

I'm trying to use the GDAL utilities to re-size a NOAA Raster Chart. 
They are pretty huge, so I want it at say, 1/4 of the resolution. GDAL 
can't write BSB format (patent issues -- arrrgg!), but that's OK, any 
reasonable format is fine. I've tried:


gdal_translate -outsize 25%  25% -of GTiff 18474_1.KAP 18474_1_25.tif


This seems to work, I get a tif file that is smaller, and looks right in 
a non-geo-referencing image viewer. However, when I open it up in QGIS, 
it gets squished. I think the issue is that the tiff is not in the 
mercator projection the orginal is in, so the pixels are not square in 
lat-long coords.

I also think I see why. If you run gdal info on the KAP file, you get:

Driver: BSB/Maptech BSB Nautical Charts
Files: 18474_1.KAP
Size is 8385, 12764
Coordinate System is `'
GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 
84",6378137,298.257223563,AUTHORITY["EPSG",7030]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG",6326]],PRIMEM["Greenwich",0,AUTHORITY["EPSG",8901]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG",9108]],AXIS["Lat",NORTH],AXIS["Long",EAST],AUTHORITY["EPSG",4326]]
GCP[  0]: Id=GCP_1, Info=
           (514,11759) -> (-122.71125,47.2631666667,0)
GCP[  1]: Id=GCP_2, Info=
           (514,595) -> (-122.71125,47.6648333333,0)

... and a whole bunch more GCPs


It looks like GDAL does not know that it is in a Mercator projection. 
Why not? the info is there in the .KAP header.

Is it just a missing feature of the BSB driver?

If so, how hard would it be to add? (I'm not much a C++ programmer)

If it were added, would what I'm trying to do work the way I expect?

Is there a work-around in the mean time?

Here is the relevent part of the KAP header:

CRR/
VER/3.0
BSB/NA=PUGET SOUND SHILSHOLE BAY TO COMMENCEMENT BAY,NU=1679,RA=8385,12764
     DU=254
KNP/SC=40000,GD=NAD83,PR=MERCATOR,PP=47.467,PI=5.000,SP=,SK=0.0000000
     TA=90.0000000,UN=FATHOMS AND FEET,SD=MEAN LOWER LOW 
WATER,DX=4.00,DY=4.00

** I think that means:

   SC: scale - 1:40,000
   GDL: datum -- NAD83
   PR: Projection -- mercator
   PP: Projection Parameter -- in this case, it's the latitude of the 
given scale(what's this called?)
   PI: ???
   SP: ???
   SK: Skew angle -- 0.0 (I don't know what units that is in...
   TA: ??? -- 90
   UN: depth units -- not relevant for GDAL, though it would be nice if 
it got stored somewhere.
   SD: Sounding datum -- see above
   DX: X pixel size -- 4.00 (I think in meters )
   DY: Y pixel size -- 4.00    ""


I think that's enough to get the whole projection, though I think you'd 
need at least one GCP to position the file.

Without altering GDAL, can I extract that info from the header, and pass 
in a projection to gdal_translate? what would I pass in? How would I 
pass it in?

Does GDAL have a policy as to what it does if a file has both full 
projection info and GCPS?

-Chris

(I've enclosed the entire header, in case there is missing info from my 
above extraction)



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
-------------- next part --------------
!
CRR/
VER/3.0
BSB/NA=PUGET SOUND SHILSHOLE BAY TO COMMENCEMENT BAY,NU=1679,RA=8385,12764
    DU=254
KNP/SC=40000,GD=NAD83,PR=MERCATOR,PP=47.467,PI=5.000,SP=,SK=0.0000000
    TA=90.0000000,UN=FATHOMS AND FEET,SD=MEAN LOWER LOW WATER,DX=4.00,DY=4.00
KNQ/EC=RF,GD=NARC,VC=UNKNOWN,SC=MLLW,PC=MC,P1=UNKNOWN,P2=47.467
    P3=NOT_APPLICABLE,P4=NOT_APPLICABLE,GC=NOT_APPLICABLE,RM=POLYNOMIAL
CED/SE=08,RE=01,ED=10/01/2003
NTM/NE=08.160,ND=09/01/2007,BF=OFF,BD=10/01/2003
ADN0001/USCG;13;06/12/2007;;08/28/2007;
ADN0002/CHS;13;;;06/29/2007;
ADN0003/NIMA;13;09/30/2006;;09/01/2007;
ARE0001/,47.544917,-122.635472,ADD,Fl Y 4s 4ft Priv
    Port Orchard Marina East Breakwater Lt,13|LN|2407|06/12/2007|06/15/2007|||
    |
ARE0002/,47.374792,-122.459528,ADD,3_3 Obstn      Chart No. 1: K41
    Obstruction in Fathoms and Feet,13|CL|468-20|04/13/2007|05/29/2007|14153|
    2307||06/05/2007
ARE0003/,47.386156,-122.440778,ADD,1_1 Snag      Chart No. 1: K41
    Obstruction in Fathoms and Feet,13|CL|468-20|04/13/2007|05/29/2007|14153|
    2307||06/05/2007
ARE0004/,47.373425,-122.456428,ADD,1_2 Wk    Chart No. 1: K26
    Wreck in Fathoms and Feet,13|CL|468-20|04/13/2007|05/29/2007|14153||2307|
    06/05/2007
ARE0005/,47.268560,-122.555298,DEL,"D" Fl 4s Priv
    Tacoma Narrows Construction LMB D,13|CG|1307|03/27/2007|04/02/2007|||||
ARE0006/,47.274017,-122.555858,DEL,"A" Fl 4s Priv
    Tacoma Narrows Construction LMB A,13|CG|1307|03/27/2007|04/02/2007|||||
ARE0007/,47.272300,-122.550744,DEL,"B" Fl 4s Priv
    Tacoma Narrows Construction LMB B,13|CG|1307|03/27/2007|04/02/2007|||||
ARE0008/,47.271040,-122.559012,DEL,"C" Fl 4s Priv
    Tacoma Narrows Construction LMB C,13|CG|1307|03/27/2007|04/02/2007|||||
ARE0009/,47.562942,-122.534208,DEL,1 fm 5 ft,Sounding in Fathoms & Feet,13|CL
    137-20|03/30/2006|02/09/2007|13849||0807||02/20/2007
ARE0010/,47.562556,-122.533411,ADD
    rock with 3 fms 4 ft sounding; (Chart No. 1:K14.2) and label: Rk
    Rock in Fathoms and Feet,13|CL|137-20|03/30/2006|02/09/2007|13849||0807|
    02/20/2007
ARE0011/,47.661965,-122.435705,REV,Al WR 10s 27ft 16M HORN (Bl 10s)
    West Point Light,13|LN|0207|01/09/2007|01/11/2007|||||
ARE0012/,47.610778,-122.354389,DEL,5 fms 1 ft,Sounding in Fathoms & Feet,13|CL
    1370-2|11/17/2006|12/11/2006|13541||5106||12/19/2006
ARE0013/,47.610528,-122.354500,ADD,7 fms 3 ft,Sounding in Fathoms & Feet,13|CL
    1370-2|11/17/2006|12/11/2006|13541||5106||12/19/2006
ARE0014/,47.587917,-122.377483,ADD,"A" W Or C   Priv,Seacrest Warning Buoy A,13
    LN|4506|11/07/2006|11/24/2006|||||
ARE0015/,47.588900,-122.378800,ADD,"B"  W Or C Priv,Seacrest Warning Buoy B,13
    LN|4506|11/07/2006|11/24/2006|||||
ARE0016/,47.590433,-122.380917,ADD,"C"  W Or C  Priv,Seacrest Warning Buoy C,13
    LN|4506|11/07/2006|11/24/2006|||||
ARE0017/,47.268333,-122.550000,DEL,HORNS (2),Tacoma Narrows Bridge HORNS,13|WN
    3906|09/30/2006|10/03/2006|||||
ARE0018/,47.273333,-122.556111,DEL,Fl 4s Priv
    Tacoma Narrows Outfall Pipe Lighted Buoy,13|LN|2806|07/11/2006|07/13/2006|
    |||
ARE0019/,47.341667,-122.341667,REV,3 Fl Y 4s Priv
    Redondo Floating Breakwater Lights (3),13|LN|2306|06/06/2006|06/12/2006|||
    |
ARE0020/,47.272300,-122.550744,ADD,"B" Fl 4s Priv
    Tacoma Narrows Construction LMB B,13|LN|0406|01/24/2006|02/01/2006|||||
ARE0021/,47.271040,-122.559012,ADD,"C" Fl 4s Priv
    Tacoma Narrows Construction LMB C,13|LN|0406|01/24/2006|02/01/2006|||||
ARE0022/,47.268560,-122.555298,ADD,"D" Fl 4s Priv
    Tacoma Narrows Construction LMB D,13|LN|0406|01/24/2006|02/01/2006|||||
ARE0023/,47.274017,-122.555858,ADD,"A" Fl 4s Priv
    Tacoma Narrows Construction LMB A,13|LN|0406|01/24/2006|02/01/2006|||||
ARE0024/,47.576273,-122.420551,REV,Fl 5s 39 ft 15M,Alki Point Lt,13|LN|4505
    11/08/2005|11/15/2005|||||
ARE0025/,47.623385,-122.500533,ADD,W Or "A" Priv,Wyckoff Regulatory Buoy A,13
    LN|4505|11/08/2005|11/15/2005|||||
ARE0026/,47.623640,-122.504672,ADD,W Or "B" Priv,Wyckoff Regulatory Buoy B,13
    LN|4505|11/08/2005|11/15/2005|||||
ARE0027/,47.618358,-122.360369,ADD,Chart No. 1: L41.1,Sewer  PT 1 OF 2,13|CL
    36-200|08/22/2002|02/11/2005|10305||0805||02/22/2005
ARE0028/,47.617361,-122.361961,ADD,Chart No. 1: L41.1,Sewer  PT 2 OF 2,13|CL
    36-200|08/22/2002|02/11/2005|10305||0805||02/22/2005
ARE0029/,47.565552,-122.613699,REV,Fl R 6s 24ft 5M "12",Pt Herron LT 12,13|LN
    0305|01/18/2005|01/24/2005|||||
ARE0030/,47.453127,-122.438609,ADD,Fl 6s Priv,EAST VASHON OUTFALL LB,13|LN|4604
    11/16/2004|11/24/2004|||||
ARE0031/,47.282500,-122.410833,ADD
    SECURITY ZONE 165.1321 (see note A); Chart No. 1: N1.2
    Security Zone Point 1 of 6,13|CL|128004|08/27/2004|11/09/2004|8270||4604|
    11/16/2004
ARE0032/,47.284722,-122.414444,ADD,Chart No. 1: N1.2,Security Zone Point 2 of 6
    13|CL|128004|08/27/2004|11/09/2004|8270||4604||11/16/2004
ARE0033/,47.278333,-122.421667,ADD,Chart No. 1: N1.2,Security Zone Point 3 of 6
    13|CL|128004|08/27/2004|11/09/2004|8270||4604||11/16/2004
ARE0034/,47.273056,-122.426667,ADD,Chart No. 1: N1.2,Security Zone Point 4 of 6
    13|CL|128004|08/27/2004|11/09/2004|8270||4604||11/16/2004
ARE0035/,47.269444,-122.424167,ADD,Chart No. 1: N1.2,Security Zone Point 5 of 6
    13|CL|128004|08/27/2004|11/09/2004|8270||4604||11/16/2004
ARE0036/,47.269861,-122.422222,ADD,Chart No. 1: N1.2,Security Zone Point 6 of 6
    13|CL|128004|08/27/2004|11/09/2004|8270||4604||11/16/2004
ARE0037/,47.661667,-122.464722,REV,Y "SG" Fl Y 2.5s RACON (-.)
    PUGET SOUND LB SG,13|NC|18474|10/01/2003|10/05/2004|||||
ARE0038/,47.575833,-122.451389,REV,Y "T" Fl Y 2.5s,PUGET SOUND LB T,13|NC|18474
    10/01/2003|10/05/2004|8347||4104||10/12/2004
ARE0039/,47.271944,-122.419444,REV,F Y 14ft Priv,SITCUM WW LT,13|NC|18474
    10/01/2003|10/05/2004|8347||4104||10/12/2004
ARE0040/,47.285000,-122.410833,REV,F Y 7ft BELL Priv PA,PORT TACOMA #25 LT,13
    NC|18474|10/01/2003|10/05/2004|8347||4104||10/12/2004
ARE0041/,47.273333,-122.556111,ADD,Fl 4s Priv,TAKOMA NARROWS LB,13|LN|3704
    09/14/2004|09/20/2004|||||
ARE0042/,47.316778,-122.548111,REV,Fl 6s 21ft 9M HORN (Bl 15s)
    POINT DEFIANCE LT,13|LN|3504|08/31/2004|09/03/2004|||||
ARE0043/,47.278389,-122.416167,R&R,R "2" Fl R 4s Priv,BLAIR WATERWAY LB 2,13|LN
    2904|07/20/2004|07/26/2004|||||
ARE0044/,47.341667,-122.341667,ADD,3 Fl Y 4s Priv,REDONDO BKW LTS,13|LN|2204
    06/01/2004|06/08/2004|||||
ARE0045/,47.598861,-122.387917,REV,Fl 2.5s 15ft 15M,DUWAMISH HEAD LT,13|LN|1704
    04/27/2004|05/03/2004|||||
ARE0046/,47.447889,-122.404583,REV,Y "TA" Fl Y 2.5s,PUGET SOUND LB TA,13|LN
    5003|12/16/2003|12/19/2003|||||
ARE0047/,47.296111,-122.431222,DEL,PA,VISIBLE WRECK,13|BP|181343|08/28/2003
    11/06/2003|6928||4603||11/18/2003
ARE0048/,47.296361,-122.430167,ADD,7fm 4ft  Wk,SOUND IN FM & FT,13|BP|181343
    08/28/2003|11/06/2003|6928||4603||11/18/2003
ARE0049/,47.272333,-122.419972,DEL,Subm dols,SUBM DOLPHINS,13|BP|181343
    08/28/2003|11/06/2003|6928||4603||11/18/2003
ARE0050/,47.272833,-122.556833,ADD,Bridge under construction Pt 1 of 2
    BRIDGE DASH LINES,13|CL|113703|06/19/2003|10/25/2003|6726||4403|
    11/04/2003
ARE0051/,47.263444,-122.545194,ADD,Bridge under construction Pt 2 of 2
    BRIDGE DASH LINES,13|CL|113703|06/19/2003|10/25/2003|||||
ARE0052/,47.268583,-122.551500,ADD,NONE,MAGENTA SCREEN,13|CL|113703|06/19/2003
    10/25/2003|6726||4403||11/04/2003
ARE0053/,47.661417,-122.464528,REV,Y "SG" Fl Y 2.5s RACON (-.).,PUGET SD LB SG
    13|LN|4103|10/14/2003|10/23/2003|||||
ARE0054/,47.513694,-122.473167,REL,Fl 4s 17ft 7M,POINT VASHON LIGHT,13|LN|4103
    10/14/2003|10/23/2003|||||
ARE0055/,47.575944,-122.451250,REV,Y "T" Fl Y 2.5s,PUGET SOUND SEP LB T,13|LN
    4103|10/14/2003|10/23/2003|||||
OST/1
IFM/4
RGB/1,0,0,0
RGB/2,255,255,255
RGB/3,244,232,193
RGB/4,239,216,163
RGB/5,214,219,201
RGB/6,219,181,242
RGB/7,170,216,229
RGB/8,145,145,145
RGB/9,114,114,114
RGB/10,150,176,155
RGB/11,94,153,193
RGB/12,219,73,150
RGB/13,209,221,239
DAY/1,0,0,0
DAY/2,255,255,255
DAY/3,238,223,161
DAY/4,214,192,107
DAY/5,181,181,123
DAY/6,219,181,242
DAY/7,170,216,229
DAY/8,145,145,145
DAY/9,114,114,114
DAY/10,38,212,84
DAY/11,37,138,191
DAY/12,219,73,150
DAY/13,185,210,240
DSK/1,0,0,0
DSK/2,128,128,128
DSK/3,119,112,81
DSK/4,107,96,54
DSK/5,91,91,62
DSK/6,110,91,121
DSK/7,85,108,115
DSK/8,73,73,73
DSK/9,57,57,57
DSK/10,19,106,42
DSK/11,19,69,96
DSK/12,110,37,75
DSK/13,93,105,120
NGT/1,55,55,55
NGT/2,0,0,0
NGT/3,30,21,13
NGT/4,24,19,10
NGT/5,0,23,12
NGT/6,17,0,0
NGT/7,0,15,15
NGT/8,30,30,30
NGT/9,35,35,35
NGT/10,1,50,1
NGT/11,0,55,55
NGT/12,64,0,64
NGT/13,0,0,38
NGR/1,0,0,0
NGR/2,255,0,0
NGR/3,220,0,0
NGR/4,191,0,0
NGR/5,175,0,0
NGR/6,213,0,0
NGR/7,199,0,0
NGR/8,145,0,0
NGR/9,114,0,0
NGR/10,120,0,0
NGR/11,104,0,0
NGR/12,145,0,0
NGR/13,204,0,0
GRY/1,0,0,0
GRY/2,255,255,255
GRY/3,215,215,215
GRY/4,191,191,191
GRY/5,175,175,175
GRY/6,203,203,203
GRY/7,199,199,199
GRY/8,145,145,145
GRY/9,114,114,114
GRY/10,120,120,120
GRY/11,104,104,104
GRY/12,138,138,138
GRY/13,199,199,199
PRC/1,0,0,0
PRC/2,255,255,255
PRC/3,247,239,181
PRC/4,214,192,107
PRC/5,181,191,123
PRC/6,219,181,242
PRC/7,170,216,229
PRC/8,140,140,140
PRC/9,114,114,114
PRC/10,38,212,84
PRC/11,37,138,191
PRC/12,219,73,150
PRC/13,181,206,240
PRG/1,0,0,0
PRG/2,255,255,255
PRG/3,222,222,222
PRG/4,191,191,191
PRG/5,175,175,175
PRG/6,213,213,213
PRG/7,199,199,199
PRG/8,145,145,145
PRG/9,114,114,114
PRG/10,120,120,120
PRG/11,104,104,104
PRG/12,145,145,145
PRG/13,204,204,204
REF/1,514,11759,47.2631666667,-122.7112500000
REF/2,514,595,47.6648333333,-122.7112500000
REF/3,7991,595,47.6648333333,-122.3145722222
REF/4,7991,11759,47.2631666667,-122.3145722222
REF/5,7637,11759,47.2631666667,-122.3333305556
REF/6,7637,9815,47.3333361111,-122.3333305556
REF/7,7637,7503,47.4166694444,-122.3333305556
REF/8,7637,5187,47.5000055556,-122.3333305556
REF/9,7637,2867,47.5833388889,-122.3333305556
REF/10,7637,595,47.6648333333,-122.3333305556
REF/11,6067,11759,47.2631666667,-122.4166666667
REF/12,6067,9815,47.3333361111,-122.4166666667
REF/13,6067,7503,47.4166694444,-122.4166666667
REF/14,6067,5187,47.5000055556,-122.4166666667
REF/15,6067,2867,47.5833388889,-122.4166666667
REF/16,6067,595,47.6648333333,-122.4166666667
REF/17,4496,11759,47.2631666667,-122.4999888889
REF/18,4496,9815,47.3333361111,-122.4999888889
REF/19,4496,7503,47.4166694444,-122.4999888889
REF/20,4496,5187,47.5000055556,-122.4999888889
REF/21,4496,2867,47.5833388889,-122.4999888889
REF/22,4496,595,47.6648333333,-122.4999888889
REF/23,2925,11759,47.2631666667,-122.5833222222
REF/24,2925,9815,47.3333361111,-122.5833222222
REF/25,2925,7503,47.4166694444,-122.5833222222
REF/26,2925,5187,47.5000055556,-122.5833222222
REF/27,2925,2867,47.5833388889,-122.5833222222
REF/28,2925,595,47.6648333333,-122.5833222222
REF/29,1355,11759,47.2631666667,-122.6666583333
REF/30,1355,9815,47.3333361111,-122.6666583333
REF/31,1355,7503,47.4166694444,-122.6666583333
REF/32,1355,5187,47.5000055556,-122.6666583333
REF/33,1355,2867,47.5833388889,-122.6666583333
REF/34,1355,595,47.6648333333,-122.6666583333
REF/35,7991,9815,47.3333361111,-122.3145722222
REF/36,514,9815,47.3333361111,-122.7112500000
REF/37,7991,7503,47.4166694444,-122.3145722222
REF/38,514,7503,47.4166694444,-122.7112500000
REF/39,7991,5187,47.5000055556,-122.3145722222
REF/40,514,5187,47.5000055556,-122.7112500000
REF/41,7991,2867,47.5833388889,-122.3145722222
REF/42,514,2867,47.5833388889,-122.7112500000
PLY/1,47.2631666667,-122.7112500000
PLY/2,47.6648333333,-122.7112500000
PLY/3,47.6648333333,-122.3145833333
PLY/4,47.2631666667,-122.3145833333
DTM/0.0000000000,0.0000000000
CPH/0.0000000000
WPX/2,2311576.545,18815.75937,-6.309108497,-0.140182405,-0.03549536405
    0.02065585633
WPY/2,708186.4854,11.00559239,-1757.49152,0.04301906108,-0.009801777112
    -274.2927295
PWX/2,-122.738527,5.305438564e-005,5.898059818e-016,5.22985145e-014
    -2.096406544e-020,-3.695181232e-020
PWY/2,47.68614829,-5.551115123e-017,-3.582066646e-005,3.494010907e-021
    3.494010907e-021,-1.277429242e-011
ERR/1,0.1356320000,0.0067008300,0.0000000566,0.0000070259
ERR/2,0.1386000000,0.0701996000,0.0000028586,0.0000070259
ERR/3,0.1137070000,0.0711470000,0.0000028586,0.0000061636
ERR/4,0.1110200000,0.0060865600,0.0000000566,0.0000061636
ERR/5,0.3248400000,0.0064205700,0.0000000566,0.0000170449
ERR/6,0.3239370000,0.0596109000,0.0000017397,0.0000170449
ERR/7,0.3231280000,0.0678959000,0.0000027401,0.0000170449
ERR/8,0.3226070000,0.0822854000,0.0000027508,0.0000170449
ERR/9,0.3223720000,0.1708380000,0.0000065533,0.0000170449
ERR/10,0.3224200000,0.0714072000,0.0000028586,0.0000170449
ERR/11,0.4267990000,0.0075384700,0.0000000566,0.0000225555
ERR/12,0.4274950000,0.0585503000,0.0000017397,0.0000225555
ERR/13,0.4280560000,0.0688884000,0.0000027401,0.0000225555
ERR/14,0.4283310000,0.0832098000,0.0000027508,0.0000225555
ERR/15,0.4283190000,0.1699820000,0.0000065533,0.0000225555
ERR/16,0.4280300000,0.0721970000,0.0000028586,0.0000225555
ERR/17,0.0813985000,0.0080588000,0.0000000566,0.0000045300
ERR/18,0.0809105000,0.0580873000,0.0000017397,0.0000045300
ERR/19,0.0805951000,0.0692834000,0.0000027401,0.0000045300
ERR/20,0.0805667000,0.0835367000,0.0000027508,0.0000045300
ERR/21,0.0808251000,0.1697230000,0.0000065533,0.0000045300
ERR/22,0.0813553000,0.0723893000,0.0000028586,0.0000045300
ERR/23,0.3782220000,0.0079817500,0.0000000566,0.0000202462
ERR/24,0.3779420000,0.0582217000,0.0000017397,0.0000202462
ERR/25,0.3778730000,0.0690810000,0.0000027401,0.0000202462
ERR/26,0.3780910000,0.0832662000,0.0000027508,0.0000202462
ERR/27,0.3785960000,0.1700620000,0.0000065533,0.0000202462
ERR/28,0.3793670000,0.0719841000,0.0000028586,0.0000202462
ERR/29,0.3792570000,0.0073071900,0.0000000566,0.0000201280
ERR/30,0.3793300000,0.0589535000,0.0000017397,0.0000201280
ERR/31,0.3791530000,0.0682810000,0.0000027401,0.0000201280
ERR/32,0.3786880000,0.0823982000,0.0000027508,0.0000201280
ERR/33,0.3779370000,0.1709980000,0.0000065533,0.0000201280
ERR/34,0.3769240000,0.0709815000,0.0000028586,0.0000201280
ERR/35,0.1119700000,0.0599320000,0.0000017397,0.0000061636
ERR/36,0.1356700000,0.0595906000,0.0000017397,0.0000070259
ERR/37,0.1128340000,0.0675901000,0.0000027401,0.0000061636
ERR/38,0.1359790000,0.0676076000,0.0000027401,0.0000070259
ERR/39,0.1134110000,0.0819949000,0.0000027508,0.0000061636
ERR/40,0.1365760000,0.0816883000,0.0000027508,0.0000070259
ERR/41,0.1137010000,0.1711130000,0.0000065533,0.0000061636
ERR/42,0.1374590000,0.1717440000,0.0000065533,0.0000070259
From even.rouault at mines-paris.org  Wed Oct  8 17:31:08 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct  8 17:31:13 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <op.uio838szqw3wu1@titan>
References: <48EBCCCD.2050409@pobox.com> <op.uio838szqw3wu1@titan>
Message-ID: <200810082331.09741.even.rouault@mines-paris.org>

FYI, with the fix done in http://trac.osgeo.org/gdal/ticket/2297, I've 
successfully built GDAL trunk with a HDF5 1.8.1 library (built from the 
source without any particular config option).

And I can also build it with libhdf4g-4.1r4-21 from the Ubuntu repository

If you have specific problems, it may be interesting to (re)open tickets with 
precise informations on your configure options and libraries versions.
From Todd.Southen at bentley.com  Wed Oct  8 17:33:31 2008
From: Todd.Southen at bentley.com (Todd.Southen@bentley.com)
Date: Wed Oct  8 17:34:27 2008
Subject: [gdal-dev] PGeo TestCapability always returns FALSE
In-Reply-To: <48ED10C6.1080903@pobox.com>
References: <EE8C2D034A022444B87B1332B3978105139B9EB0@extonpo1.bentley.com>
	<48ED10C6.1080903@pobox.com>
Message-ID: <EE8C2D034A022444B87B1332B3978105139F4847@extonpo1.bentley.com>

Wow, thanks for the quick response and fix Frank!

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Wednesday, October 08, 2008 12:58
To: Todd Southen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] PGeo TestCapability always returns FALSE

Todd.Southen@bentley.com wrote:
> Hi all,
> 
> In my application, I'm calling layer->TestCapability(OLCRandomRead)
> before calling layer->GetFeature(fid).  When I try this with a PGeo
> datasource, TestCapability always returns FALSE.  
> 
> Looking at the OGRPGeoLayer code this indeed seems to be the case:
> 
>     int OGRPGeoLayer::TestCapability( const char * pszCap )
>     {
>         if( EQUAL(pszCap,OLCRandomRead) )
>             return FALSE;
> 
>         else if( EQUAL(pszCap,OLCFastFeatureCount) )
>             return FALSE;
> 
>         else if( EQUAL(pszCap,OLCFastSpatialFilter) )
>             return FALSE;
> 
>         else if( EQUAL(pszCap,OLCTransactions) )
>             return FALSE;
> 
>         else 
>             return FALSE;
>     }
> 
> Is this a bug?
> 
> Should I be calling TestCapability before calling GetFeature?
> GetFeature seems to work for the PGeo datasource even though
> TestCapability is returning FALSE.

Todd,

Contrary to the documentation at:

 
http://www.gdal.org/ogr/classOGRLayer.html#eedbda1a62f9b89b8e5f24332cf22
286

it appears that OGRLayer::GetFeature() always works.  But for drivers
without a custom implementation it is slow because it just uses
ResetReading(), and GetNextFeature() to search for the corresponding
feature.  So I will adjust the documentation to indicate that the
OLCRandomRead test really means "does this layer support optimized
reading by feature id".

The second issue is whether the various flags are true.  Note that there
are two classes derived from OGRPGeoLayer.  One for direct access to
tables, and one for results from ExecuteSQL().

The OGRPGeoTableLayer class returns TRUE for OCLSequentialWrite,
OCLRandomWrite and OCLCreateField.  Howeever, it returns the default
for everything else even though it *ought* to TRUE for OLCRandomRead,
OLCFastFeatureCount and OLCFastSpatialFilter.

I have created a ticket on this issue.  I would encourage you to add
yourself as a cc: so you will be notified when it is fixed.  I'll try to
get this in today for the 1.5.3 release.

   http://trac.osgeo.org/gdal/ticket/2601

I would add that in general the OGR drivers tend to be sloppy about
returning the proper testcapability values which significantly
undermines
the utility of the method.  I encourage anyone noting inconsistencies to
file tickets so we can fix things up.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Oct  8 21:41:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct  8 21:41:29 2008
Subject: [gdal-dev] lost gdal_polygonize
In-Reply-To: <3054411AF4728548AD6D7137190D56B303E13609@admin1.aeromap.com>
References: <3054411AF4728548AD6D7137190D56B303E13609@admin1.aeromap.com>
Message-ID: <48ED6139.40009@pobox.com>

Gennady Khokhorin wrote:
> Frank,
> I see alg/polygonize.cpp in the trunk, no gdal_polygonize.cpp in apps
> yet.
> Do you have code outline how this app should look like in the main()?

Gennady,

The application is implemented in python.

   gdal/swig/python/scripts/gdal_polygonize.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From antonio.valentino at tiscali.it  Thu Oct  9 02:42:39 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Thu Oct  9 02:42:44 2008
Subject: [gdal-dev] GDAL block cache question
In-Reply-To: <20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
	<20081008213348.191eb269@tiscali.it>
	<20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
Message-ID: <20081009084239.47fbea7e@tiscali.it>

Il giorno Wed, 8 Oct 2008 16:23:16 -0400
"Luke Roth" <roth.luke@gmail.com> ha scritto:

> Antonio,
> 
> A lot of questions, let's see ... yes, it's a c++ application, using

:) I'm very curious because I started a similar project 

http://sourceforge.net/projects/gsdview/
http://gsdview.sourceforge.net/

but unfortunately it is stopped now :(

> wxWidgets for the GUI.  While I'm developing in Windows, the only
> dependencies so far are wxWidgets and GDAL, so it should cross-compile
> on Linux pretty easily.  As for the target imagery, I'm looking at
> pretty large aerial and satellite images (DOQQs, MODIS tiles), which

... so mainly optical sensors

> is why I'm not simply loading the whole image into memory.  Vector

this the main reason I started my project

> data viewing will also be supported, but it's not intended to be a
> full-fledged GIS package.  It's unlikely that I'll be able to open
> source the entire application, but I am thinking of releasing some of
> the lower-level components.  I know there are already a lot of

OK I'm not an expert of wxWidgets but if you think I can help you
testing your components on Linux x86_64

> open-source GIS packages out there (QGIS, MapWindow, uDig, GRASS,
> etc.) but none of them completely suit the purposes of the project
> that I'm working on, and it would take longer to modify them to suit
> my (fairly simple) needs than to write one from scratch.
> 
> Luke
> 
> On Wed, Oct 8, 2008 at 3:33 PM, Antonio Valentino
> <antonio.valentino@tiscali.it> wrote:
> > Il giorno Wed, 8 Oct 2008 14:02:23 -0400
> > "Luke Roth" <roth.luke@gmail.com> ha scritto:
> >
> >> Hi everybody,
> >>
> >> I've been working on writing an image viewer using GDAL, and I'd
> >> like
> >
> > Hi Luke,
> > unfortunately I don't have an answer for you but I would like to ask
> > you some more about the application you are working on.
> > It seems to me it is written in C++, is it?
> > Which is the target platform?
> > Which GUI toolkit are you going to use?
> > Will it be open source?
> > Do you have in mind a particular target about data (optical/SAR
> > images, raster/vector data)?
> > What about meta-data and geographic info?

-- 
Antonio Valentino
From goubetli at yahoo.fr  Thu Oct  9 08:05:19 2008
From: goubetli at yahoo.fr (GOUBET LIONEL)
Date: Thu Oct  9 08:12:03 2008
Subject: [gdal-dev] ogr option-spat
Message-ID: <957252.55637.qm@web26304.mail.ukl.yahoo.com>

Hi,
?
How use the options ?spat XMIN YMIN XMAX YMAX ?
?
I try but it doesn?t work ? All data layer is returned (same if I add in a table these columns).
What?s the problem ? What?s the utility of this focntion ?
?
Thanks you


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081009/14cfff9e/attachment.html
From guillaume.sueur at neogeo-online.net  Thu Oct  9 08:19:27 2008
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Thu Oct  9 08:19:30 2008
Subject: [gdal-dev] ogr option-spat
In-Reply-To: <957252.55637.qm@web26304.mail.ukl.yahoo.com>
References: <957252.55637.qm@web26304.mail.ukl.yahoo.com>
Message-ID: <48EDF6CF.8010304@neogeo-online.net>

Weird to say why it doesn't work when you don't know yourself what it
should really do...

This option (and not function) is designed to extract a specific extent
of your input data when using ogr2ogr.

Actually it SHOULD work as I use it really often. Check your
data/values/result, and provide more precise test case if it doesn't.

regards

Guillaume


GOUBET LIONEL a ?crit :
> Hi,
> 
>  
> 
> How use the options ?spat XMIN YMIN XMAX YMAX ?
> 
>  
> 
> I try but it doesn?t work ? All data layer is returned (same if I add in
> a table these columns).
> 
> What?s the problem ? What?s the utility of this focntion ?
> 
>  
> 
> Thanks you
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Guillaume SUEUR
G?rant
Neogeo Technologies SARL
46 RUE MATABIAU
31000 TOULOUSE
T?l : +33 6 74 91 95 20
http://www.neogeo-online.net
From warmerdam at pobox.com  Thu Oct  9 09:35:19 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  9 09:35:54 2008
Subject: [gdal-dev] ogr option-spat
In-Reply-To: <48EDF6CF.8010304@neogeo-online.net>
References: <957252.55637.qm@web26304.mail.ukl.yahoo.com>
	<48EDF6CF.8010304@neogeo-online.net>
Message-ID: <48EE0897.4090906@pobox.com>

Guillaume Sueur wrote:
> Weird to say why it doesn't work when you don't know yourself what it
> should really do...
> 
> This option (and not function) is designed to extract a specific extent
> of your input data when using ogr2ogr.
> 
> Actually it SHOULD work as I use it really often. Check your
> data/values/result, and provide more precise test case if it doesn't.

Folks,

The only thing I might add is that -spat does not actually clip
the returned geometries.  It returns all features whose geometries
touch the selection region but it returns the geometries intact, not
clipped.

Lionel, I think you will need to supply a specific example that
is not working for us to followup.  I will say that the spatial
filtering is done by the individual driver and there is always the
chance that some drivers do not do it properly.

Best regards,

> GOUBET LIONEL a ?crit :
>> Hi,
>>
>>  
>>
>> How use the options ?spat XMIN YMIN XMAX YMAX ?
>>
>>  
>>
>> I try but it doesn?t work ? All data layer is returned (same if I add in
>> a table these columns).
>>
>> What?s the problem ? What?s the utility of this focntion ?
>>
>>  
>>
>> Thanks you
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From aurelien.kamel at magellium.fr  Thu Oct  9 10:07:19 2008
From: aurelien.kamel at magellium.fr (=?iso-8859-1?Q?Aur=E9lien_Kamel?=)
Date: Thu Oct  9 10:07:24 2008
Subject: [gdal-dev] OGR: DXF driver
Message-ID: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>

Hello,

 

Does somebody knows where I could find (if existing) a DXF driver for OGR
that supports reading (writing is not necessary) ?

 

Thanks,

Aurel

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081009/c10f9c86/attachment.html
From arb at sat.dundee.ac.uk  Thu Oct  9 13:27:59 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Thu Oct  9 13:28:03 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <200810082331.09741.even.rouault@mines-paris.org>
References: <48EBCCCD.2050409@pobox.com> <op.uio838szqw3wu1@titan>
	<200810082331.09741.even.rouault@mines-paris.org>
Message-ID: <op.uirpgxnwqw3wu1@titan>

On Wed, 08 Oct 2008 22:31:08 +0100, Even Rouault <even.rouault@mines-paris.org> wrote:
> FYI, with the fix done in http://trac.osgeo.org/gdal/ticket/2297, I've
> successfully built GDAL trunk with a HDF5 1.8.1 library (built from the
> source without any particular config option).

You're right about hdf5, sorry, I was convinced I had to modify it but
your fix was sufficient.

However I did have to modify the following files to get gdal to build:
frmts/hdf4/hdf4imagedataset.cpp
frmts/hdf4/hdf-eos/SWapi.c
frmts/hdf4/hdf-eos/GDapi.c
frmts/hdf4/hdf4dataset.cpp

Andrew
From even.rouault at mines-paris.org  Thu Oct  9 13:36:51 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct  9 13:37:01 2008
Subject: [gdal-dev] OGR: DXF driver
In-Reply-To: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
Message-ID: <200810091936.52190.even.rouault@mines-paris.org>

Aur?lien,

Obviously, I'm not answering exactly to question, but in case you were not 
aware of it, there's a patch in trac for a - write-only- DXF driver for OGR : 
http://trac.osgeo.org/gdal/ticket/2555.

There's also a previous DXF driver now living in 'spike' (because of licencing 
reasons), with only writing capabilities too : 
http://trac.osgeo.org/gdal/browser/spike/dxfdwg

Le Thursday 09 October 2008 16:07:19 Aur?lien Kamel, vous avez ?crit?:
> Hello,
>
>
>
> Does somebody knows where I could find (if existing) a DXF driver for OGR
> that supports reading (writing is not necessary) ?
>
>
>
> Thanks,
>
> Aurel


From even.rouault at mines-paris.org  Thu Oct  9 13:41:18 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct  9 13:41:52 2008
Subject: [gdal-dev] GDAL Releases
In-Reply-To: <op.uirpgxnwqw3wu1@titan>
References: <48EBCCCD.2050409@pobox.com>
	<200810082331.09741.even.rouault@mines-paris.org>
	<op.uirpgxnwqw3wu1@titan>
Message-ID: <200810091941.19145.even.rouault@mines-paris.org>

Credits belong to FrankW for the hdf5 fix ;-)

Which version of the hdf4 library are you using ? What errors do you get ? etc 
etc.
Please make a ticket with all that if you want to have a chance that things 
get fixed. http://trac.osgeo.org/gdal/newticket

Le Thursday 09 October 2008 19:27:59 Andrew Brooks, vous avez ?crit?:
> On Wed, 08 Oct 2008 22:31:08 +0100, Even Rouault 
<even.rouault@mines-paris.org> wrote:
> > FYI, with the fix done in http://trac.osgeo.org/gdal/ticket/2297, I've
> > successfully built GDAL trunk with a HDF5 1.8.1 library (built from the
> > source without any particular config option).
>
> You're right about hdf5, sorry, I was convinced I had to modify it but
> your fix was sufficient.
>
> However I did have to modify the following files to get gdal to build:
> frmts/hdf4/hdf4imagedataset.cpp
> frmts/hdf4/hdf-eos/SWapi.c
> frmts/hdf4/hdf-eos/GDapi.c
> frmts/hdf4/hdf4dataset.cpp
>
> Andrew


From goubetli at yahoo.fr  Thu Oct  9 13:47:01 2008
From: goubetli at yahoo.fr (GOUBET LIONEL)
Date: Thu Oct  9 13:47:03 2008
Subject: [gdal-dev] ogr option-spat
Message-ID: <406647.23035.qm@web26304.mail.ukl.yahoo.com>

OK Frank and?Guillaune

Here are more precisions:
	1. I work with OSGEO4W with plugins oci.
	2. My datatable is a table Oracle spatial with a column geometry.
	3. If I launch ogr.exe with?-sql select * from myTable or with -sql select * from myTable -spat XMIN YMIN XMAX YMAX =>?the result is the same.
That's the reasons why I don't understand.
Do you have a example?
?
> Actually it SHOULD work as I use it really often. Check your
> data/values/result, and provide more precise test case if it doesn't.
Guillaume, what's your database ?
?
Thanks you very much?


----- Message d'origine ----
De : Frank Warmerdam <warmerdam@pobox.com>
? : guillaume.sueur@neogeo-online.net
Cc : GOUBET LIONEL <goubetli@yahoo.fr>; gdal-dev@lists.osgeo.org
Envoy? le : Jeudi, 9 Octobre 2008, 15h35mn 19s
Objet?: Re: [gdal-dev] ogr option-spat

Guillaume Sueur wrote:
> Weird to say why it doesn't work when you don't know yourself what it
> should really do...
> 
> This option (and not function) is designed to extract a specific extent
> of your input data when using ogr2ogr.
> 
> Actually it SHOULD work as I use it really often. Check your
> data/values/result, and provide more precise test case if it doesn't.

Folks,

The only thing I might add is that -spat does not actually clip
the returned geometries.? It returns all features whose geometries
touch the selection region but it returns the geometries intact, not
clipped.

Lionel, I think you will need to supply a specific example that
is not working for us to followup.? I will say that the spatial
filtering is done by the individual driver and there is always the
chance that some drivers do not do it properly.

Best regards,

> GOUBET LIONEL a ?crit :
>> Hi,
>>
>>? 
>>
>> How use the options ?spat XMIN YMIN XMAX YMAX ?
>>
>>? 
>>
>> I try but it doesn?t work ? All data layer is returned (same if I add in
>> a table these columns).
>>
>> What?s the problem ? What?s the utility of this focntion ?
>>
>>? 
>>
>> Thanks you
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081009/e7c2f580/attachment.html
From goubetli at yahoo.fr  Thu Oct  9 13:50:36 2008
From: goubetli at yahoo.fr (GOUBET LIONEL)
Date: Thu Oct  9 13:50:39 2008
Subject: [gdal-dev] ogr option-spat
Message-ID: <787722.45510.qm@web26305.mail.ukl.yahoo.com>

Excuses me I forgot to say that I make file output f? "MapInfo File" ...

Best regards,
Lionel


?


----- Message d'origine ----
De : GOUBET LIONEL <goubetli@yahoo.fr>
? : Frank Warmerdam <warmerdam@pobox.com>; guillaume.sueur@neogeo-online.net
Cc : gdal-dev@lists.osgeo.org
Envoy? le : Jeudi, 9 Octobre 2008, 19h47mn 01s
Objet?: Re : [gdal-dev] ogr option-spat


OK Frank and?Guillaune

Here are more precisions:
	1. I work with OSGEO4W with plugins oci.
	2. My datatable is a table Oracle spatial with a column geometry.
	3. If I launch ogr.exe with?-sql select * from myTable or with -sql select * from myTable -spat XMIN YMIN XMAX YMAX =>?the result is the same.
That's the reasons why I don't understand.
Do you have a example?
?
> Actually it SHOULD work as I use it really often. Check your
> data/values/result, and provide more precise test case if it doesn't.
Guillaume, what's your database ?
?
Thanks you very much?


----- Message d'origine ----
De : Frank Warmerdam <warmerdam@pobox.com>
? : guillaume.sueur@neogeo-online.net
Cc : GOUBET LIONEL <goubetli@yahoo.fr>; gdal-dev@lists.osgeo.org
Envoy? le : Jeudi, 9 Octobre 2008, 15h35mn 19s
Objet?: Re: [gdal-dev] ogr option-spat

Guillaume Sueur wrote:
> Weird to say why it doesn't work when you don't know yourself what it
> should really do...
> 
> This option (and not function) is designed to extract a specific extent
> of your input data when using ogr2ogr.
> 
> Actually it SHOULD work as I use it really often. Check your
> data/values/result, and provide more precise test case if it doesn't.

Folks,

The only thing I might add is that -spat does not actually clip
the returned geometries.? It returns all features whose geometries
touch the selection region but it returns the geometries intact, not
clipped.

Lionel, I think you will need to supply a specific example that
is not working for us to followup.? I will say that the spatial
filtering is done by the individual driver and there is always the
chance that some drivers do not do it properly.

Best regards,

> GOUBET LIONEL a ?crit :
>> Hi,
>>
>>? 
>>
>> How use the options ?spat XMIN YMIN XMAX YMAX ?
>>
>>? 
>>
>> I try but it doesn?t work ? All data layer is returned (same if I add in
>> a table these columns).
>>
>> What?s the problem ? What?s the utility of this focntion ?
>>
>>? 
>>
>> Thanks you
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081009/24493b56/attachment.html
From Chris.Barker at noaa.gov  Thu Oct  9 14:32:56 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Oct  9 14:32:09 2008
Subject: [gdal-dev] GDAL block cache question
In-Reply-To: <20081009084239.47fbea7e@tiscali.it>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
	<20081008213348.191eb269@tiscali.it>
	<20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it>
Message-ID: <48EE4E58.7040707@noaa.gov>

> "Luke Roth" <roth.luke@gmail.com> ha scritto:

>> wxWidgets for the GUI.  While I'm developing in Windows, the only
>> dependencies so far are wxWidgets and GDAL, so it should cross-compile
>> on Linux pretty easily.  As for the target imagery, I'm looking at
>> pretty large aerial and satellite images (DOQQs, MODIS tiles), which

Did you take a look at OSSIM? At some point in the past, they were 
wx-based, though I don't know what they are up to now.

Also, SAGA-GIS is worth a look.

Have you considered wxPython? It may be that your core image processing 
would need some C/C++, but there is no reason that the whole GUI has to 
be written in C++ (at at least no performance reason).

>> It's unlikely that I'll be able to open
>> source the entire application, but I am thinking of releasing some of
>> the lower-level components.

That would be great. If you have a component that can deal with images 
loaded with GDAL, and convert them to wxBitmaps or wxImages, or... I"d 
be very interested. Particularly if those components were (or could be ) 
wrapped for wxPython.

>> open-source GIS packages out there (QGIS, MapWindow, uDig, GRASS,
>> etc.) but none of them completely suit the purposes of the project
>> that I'm working on,

no, I like QGIS a fair bit, but it really chokes when you hand it a 
large image.

I'm doing similar stuff, and working on how to deal with large (though 
probably not as large as you) images, though all in python/wxpython.

If you can release some of your work, I'd be very interested.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From Chris.Barker at noaa.gov  Thu Oct  9 14:51:59 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Oct  9 14:51:13 2008
Subject: [gdal-dev] How do I re-size a BSB (KAP) file?
In-Reply-To: <48ED3D15.108@free.fr>
References: <48ED22ED.7040405@noaa.gov> <48ED3D15.108@free.fr>
Message-ID: <48EE52CF.1080409@noaa.gov>

NOTE: your original reply went only to me, you have to hit "reply all" 
for it to go to the list.

ValiSystem wrote:
> BSB support is very minimal.

I've noticed ;-)

I'd like to improve it, but I really have no idea where to start.

> What i do is warping the file before trying to do anything file the 
> file, to remove the gcps and have a pixel based transform for geo metadata.

what do you mean by a pixel based transform? you mean a geo-transform? 
If so, then I see your point -- mercator is not a linear projection, it 
cannot be represented exactly by an affine transform.

> But there is a big issue: gcps are expected to be in the projection 
> unit, which is not the case in BSB files : gcp are in lat/lon on a 
> mercator projected image.

well, as gcp are lat/lon, the projection is irrelevantly, I suppose.

> That means that for high scales, the approximation between mercator and 
> lat lon becomes visible, and your maps are not correct.

I'm still confused, the GCPs are accurate. I suspect if you use a 
polynomial or thin plate spline, you'd get awfully close. But anyway, 
it's also possible to get the parameters of the mercator projection by 
fitting to the GPS, even if you don't extract that data form the header 
(though you do need to know it is mercator, which most, but I don't 
think all, NOAA charts are).

> One way to solve 
> that is to extract bsb's gcps lat/lon coords, translate it to target 
> projection (generally WGS84/Mercator - EPSG:3395) and use the results 
> has -gcp parameter for gdal_translate.

I'm not sure I get this -- you mean pass in the new set of gcps to 
gdal_translate? Don't you still lose the information about the 
projection? It seems if I can pass in the projection definition and the 
scale, gdal_translate should be able to do the right thing without even 
using the gcps. I need a little prod in the right direction to get 
started though.

Thanks for your help,

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From lran at unc.edu  Thu Oct  9 14:56:19 2008
From: lran at unc.edu (Limei Ran)
Date: Thu Oct  9 14:57:05 2008
Subject: [gdal-dev] get fmrt grib
Message-ID: <48EE53D3.40705@unc.edu>

Hi:

Could you tell me how I can get grib format to build with gdal?  I am 
using a server and I do not have svn or I can install one.  Can I ftp 
grib format from somewhere?

Thanks,

Limei
From warmerdam at pobox.com  Thu Oct  9 15:10:55 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  9 15:11:16 2008
Subject: [gdal-dev] get fmrt grib
In-Reply-To: <48EE53D3.40705@unc.edu>
References: <48EE53D3.40705@unc.edu>
Message-ID: <48EE573F.9070806@pobox.com>

Limei Ran wrote:
> Hi:
> 
> Could you tell me how I can get grib format to build with gdal?  I am 
> using a server and I do not have svn or I can install one.  Can I ftp 
> grib format from somewhere?

Limei,

If you build from GDAL trunk (the development version) then GRIB format
is included by default.  Try grabbing the "trunk" zip or .tar.gz from:

  http://download.osgeo.org/gdal/daily/

The 1.5 branch GRIB support is considerably harder to setup and I think is
lacking in a number of other details.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Oct  9 15:28:36 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  9 15:28:58 2008
Subject: [gdal-dev] ogr option-spat
In-Reply-To: <787722.45510.qm@web26305.mail.ukl.yahoo.com>
References: <787722.45510.qm@web26305.mail.ukl.yahoo.com>
Message-ID: <48EE5B64.305@pobox.com>

GOUBET LIONEL wrote:
> Here are more precisions:
> 
>    1. I work with OSGEO4W with plugins oci.
>    2. My datatable is a table Oracle spatial with a column geometry.
>    3. If I launch ogr.exe with *-sql select * from myTable* or with
>       *-sql select * from myTable -spat XMIN YMIN XMAX YMAX =>* the
>       result is the same.
> 
> That's the reasons why I don't understand.

Lionel,

On review this is a bug in the Oracle driver.  It ignores spatial filters
passed to the ExecuteSQL() call.  If you file a ticket on this I should
be able to fix it fairly easily.  Some other RDBMS drivers may have similar
issues when passing in arbitrary SQL as opposed to "direct" table access.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From goubetli at yahoo.fr  Thu Oct  9 16:26:30 2008
From: goubetli at yahoo.fr (GOUBET LIONEL)
Date: Thu Oct  9 16:26:32 2008
Subject: [gdal-dev] ogr option-spat
Message-ID: <666438.95872.qm@web26308.mail.ukl.yahoo.com>

Thanks Frank

Netherless, I can to execute a sql request (SDO_RELATE with contains, etc...) filter and it works.
I a another way for the solution.

Best regards,
Lionel


----- Message d'origine ----
De : Frank Warmerdam <warmerdam@pobox.com>
? : GOUBET LIONEL <goubetli@yahoo.fr>
Cc : guillaume.sueur@neogeo-online.net; gdal-dev@lists.osgeo.org
Envoy? le : Jeudi, 9 Octobre 2008, 21h28mn 36s
Objet?: Re: Re : Re : [gdal-dev] ogr option-spat

GOUBET LIONEL wrote:
> Here are more precisions:
> 
>? ? 1. I work with OSGEO4W with plugins oci.
>? ? 2. My datatable is a table Oracle spatial with a column geometry.
>? ? 3. If I launch ogr.exe with *-sql select * from myTable* or with
>? ? ? *-sql select * from myTable -spat XMIN YMIN XMAX YMAX =>* the
>? ? ? result is the same.
> 
> That's the reasons why I don't understand.

Lionel,

On review this is a bug in the Oracle driver.? It ignores spatial filters
passed to the ExecuteSQL() call.? If you file a ticket on this I should
be able to fix it fairly easily.? Some other RDBMS drivers may have similar
issues when passing in arbitrary SQL as opposed to "direct" table access.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up? | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush? ? | Geospatial Programmer for Rent


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081009/ff769ac1/attachment.html
From Aaron.Sutula at noaa.gov  Thu Oct  9 19:26:38 2008
From: Aaron.Sutula at noaa.gov (Aaron Sutula)
Date: Thu Oct  9 19:26:40 2008
Subject: [gdal-dev] gdalwarp - Invalid Tiled GTiff
Message-ID: <48EE932E.8040604@noaa.gov>

Hi List,

I am attempting to create a mosaic of elevation data I have stored as a 
bunch of geotiff files. I am trying this with gdalwarp from FWtools 
2.0.6 (so there is bigtiff support). My approach is to gdalwarp one of 
the source geotiffs into an output geotiff  and specify that the output 
geotiff has a larger extent, my final extent for the mosaic. After that, 
I can gdalwarp the remaining source geotiffs into the first output geotiff.

The odd behaviour I'm noticing is that the initial gdalwarp into a 
geotiff with expanded extents creates an invalid goetiff if I specify an 
extent that is too large. I can't find any reason this is happening. The 
tests I am running are dealing with file sizes less than 4GB so I don't 
think it's a bigtiff issue.

The extent of the source tiff is -102 38 -96 40.

According to gdalinfo, I get a valid geotiff by running the command:

$ gdalwarp -te -102 38 -90.70 45.30 -tr 0.000277777777800 
0.000277777777800 -ot Int16 -srcnodata -3.4028234663852886e+38 
-dstnodata -9999 -co "TILED=YES" 1.tif merge19.tif

$ du merge19.tif
2098568    merge19.tif

$ du 1.tif
608160    1.tif

If I enlarge the extent by just 0.01 degrees or more in the x and y 
directions, I then get an invalid geotiff according to gdalinfo:

$ gdalwarp -te -102 38 -90.69 45.31 -tr 0.000277777777800 
0.000277777777800 -ot Int16 -srcnodata -3.4028234663852886e+38 
-dstnodata -9999 -co "TILED=YES" 1.tif merge18.tif

$ du merge18.tif
2111768    merge18.tif

$ gdalinfo merge18.tif
ERROR 4: `merge18.tif' not recognised as a supported file format.
gdalinfo failed - unable to open 'merge18.tif'.

I just tried running the previous command (which produced an invalid 
geotiff) without -co "TILED=YES" and it gave me a valid geotiff:

$ gdalwarp -te -102 38 -90.69 45.31 -tr 0.000277777777800 
0.000277777777800 -ot Int16 -srcnodata -3.4028234663852886e+38 
-dstnodata -9999 1.tif merge20.tif

$ du merge20.tif
2095204    merge20.tif

Being able to create a tiled geotiff is desirable; gdalwarp ran much 
faster with -co "TILED=YES" and I am under the impression that reading a 
tiled geotiff is more efficient.

Is there a limit on how you can expand the extent of a tiled output 
geotiff using gdalwarp?

Thank you,
Aaron

p.s. - I am aware of and curious about gdal_merge.py, but when I have 
tried it, it seems much more memory intensive than gdalwarp, especially 
in dealing with large files like mine. Let me know if I should 
investigate gdal_merge.py more. Thanks.





From warmerdam at pobox.com  Thu Oct  9 20:07:01 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct  9 20:07:22 2008
Subject: [gdal-dev] gdalwarp - Invalid Tiled GTiff
In-Reply-To: <48EE932E.8040604@noaa.gov>
References: <48EE932E.8040604@noaa.gov>
Message-ID: <48EE9CA5.9040701@pobox.com>

Aaron Sutula wrote:
> Hi List,
> 
> I am attempting to create a mosaic of elevation data I have stored as a 
> bunch of geotiff files. I am trying this with gdalwarp from FWtools 
> 2.0.6 (so there is bigtiff support). My approach is to gdalwarp one of 
> the source geotiffs into an output geotiff  and specify that the output 
> geotiff has a larger extent, my final extent for the mosaic. After that, 
> I can gdalwarp the remaining source geotiffs into the first output geotiff.
...
> $ du merge18.tif
> 2111768    merge18.tif
> 
> $ gdalinfo merge18.tif
> ERROR 4: `merge18.tif' not recognised as a supported file format.
> gdalinfo failed - unable to open 'merge18.tif'.

Aaron,

I think you are hitting the 2GB barrier.  A while ago we discovered the
logic for switching to the "large file api" which is necessary past 2GB
was not working properly in some unix and linux builds due to an unexpected
error code being returned from fopen().  This is exactly how it manifests.

Unfortunately there isn't a newer FWTools with the fix though the problem
is fixed.  If you can build from source yourself you should be ok.  Or
if you can keep the size a bit below 2GB you should be ok.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Thu Oct  9 21:37:35 2008
From: ivan.lucena at pmldnet.com (Ivan Lucena)
Date: Thu Oct  9 21:23:39 2008
Subject: [gdal-dev] GDAL block cache question
In-Reply-To: <48EE4E58.7040707@noaa.gov>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
	<20081008213348.191eb269@tiscali.it>
	<20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it>  <48EE4E58.7040707@noaa.gov>
Message-ID: <1223602655.25231.32.camel@think.brasil>

On Thu, 2008-10-09 at 11:32 -0700, Christopher Barker wrote:
> > "Luke Roth" <roth.luke@gmail.com> ha scritto:
> 
> >> wxWidgets for the GUI.  While I'm developing in Windows, the only
> >> dependencies so far are wxWidgets and GDAL, so it should cross-compile
> >> on Linux pretty easily.  As for the target imagery, I'm looking at
> >> pretty large aerial and satellite images (DOQQs, MODIS tiles), which
> 
> Did you take a look at OSSIM? At some point in the past, they were 
> wx-based, though I don't know what they are up to now.

It seams like they switched to qt. I know it is possible to find a lot
of references on the web where wx, qt, gtk, even Tcl/TK are compared.
But I am wondering if there is some Geospatial reason to pick qt instead
of wx.

> Have you considered wxPython? It may be that your core image processing 
> would need some C/C++, but there is no reason that the whole GUI has to 
> be written in C++ (at at least no performance reason).

wxPython is awesome. I wich they where around 10 years when I used
Tcl/TK on a project, a diagram editor for map algebra. That project
could be alive until today. :(

Some time I wish that OpenEv could use wxPython instead of python+TK. I
like OpenEv and I use it a lot, but it is hard to introduce it to end
users. "wx" produce much better results in term of adapting to the look
and feel of the hosting platform than Tk.

> That would be great. If you have a component that can deal with images 
> loaded with GDAL, and convert them to wxBitmaps or wxImages, or... I"d 
> be very interested. Particularly if those components were (or could be ) 
> wrapped for wxPython.

I completely agree with Chris.

Ivan

From warmerdam at pobox.com  Fri Oct 10 00:07:15 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 10 00:07:28 2008
Subject: [gdal-dev] GDAL 1.5.3RC1
Message-ID: <48EED4F3.6090403@pobox.com>

Folks,

I have prepared a 1.5.3 release candidate at:

   http://download.osgeo.org/gdal/gdal-1.5.3RC1.tar.gz
   http://download.osgeo.org/gdal/gdal153RC1.zip

Feedback is welcome. I'll call a motion to make it officially 1.5.3
tomorrow as I haven't had much chance to check it tonight.  It is now
available in OSGeo4W.

The NEWS:

= GDAL/OGR 1.5.3 =

  * #601 (GTiff): Correct handling of non-degree angular units.
  * #2285 (Python): Handle other pixel types in BandWriteArray() (64bit pct2rgb)
  * #2604 (configure): Better support for cross compiling.
  * #2601 (PGeo): Correct TestCapability() return values.
  * #2593 (ECW): Warn/error on illegal pixel data types written.
  * #2591 (NetCDF): Fix extreme memory use for large images.
  * #2589 (Shape): Various fixes for inner/outer ring categorization.
  * #2598 (ERS): Add support for HeaderOffset keyword.
  * #2596 (NITF): Fallback to .aux.xml (PAM) for nodata values.
  * #2586 (alg): Fix gdalsimplewarp on 64bit platforms.
  * #2575 (SRS): Improve oblique mercator morphing to/from ESRI PE format.
  * #2579 (FITS): Fix int32 case on 64bit platforms.
  * #2576 (raw): Fix crash when pixel offset is zero.
  * #2573 (ISIS3): Fix handling of multiband tiled files.
  * #2571 (ILWIS): Avoid exporting global called 'line'.
  * #2243 (HFA): Add FORCETOPESTRING option, ProjectionX applied to all bands.
  * #2564 (warper): Fix CInt16 support in warper.
  * #2562 (PAM): Allow empty category in .aux.xml and .vrt
  * #2546 (GTiff): Fix problems updating geotiff SRS in place.
  * #2554 (testepsg): Now built by default.
  * #2548 (esri2wkt): Fixed for use with NG Python bindings.
  * #???? (SDE): Remove inappropriate errors generation in SDE Open.
  * #???? (ECW): Correct manifest generation for plugin.
  * #2443 (JPEG): Improved handling for YCbCr, CMYK and YCbCrK JPEG files.
  * #2523 (HFA): Fix problem with compressed files with uninitialized blocks.
  * #2535 (JPEG): Fix restart problem in rare circumstances.
  * #2532 (NITF): Support decoding 12bit images.
  * #2533 (SRS): Ensure Clear() properly clears OGRSpatialReference state.
  * #2220 (OGR SQL): Improved string quote handling in OGR SQL.
  * #2528 (gcore): Fixed nodata mask handling for negative integer bands.
  * #1979 (port): Correct problems with CPLSPrintf/CPLString use.
  * #2525 (HFA): Fix crash in compressing data larger than 16bits.
  * #2425 (HFA): Open dependent file with same permissions as master file.
  * #2518 (warper): Fix thread handling in multiprocessing case.
  * #2513 (E00): Error out instead of crashing on compressed E00 files.
  * #2512 (GTiff): Ensure flushing works properly.
  * #1345 (configure): Improve PROJ.4 related search logic.
  * #2505 (HFA): Support nodata from .aux file.
  * #2508 (gdal_grid): Fix geotransform when -txe, -tye not provided.
  * #2504 (gcore): Fix nodata masking generation for odd pixel types.
  * #2499 (gcore): Fix crash in creation option validation.
  * #2494 (HDF4): Removed useless and dangerous redefinition of sincos().
  * #2459 (swig): Improve handling of strings the caller may not change.
  * #2475 (NITF): Fix 'adding BLOCKA TRE precludes writing IGEOLO'
  * #???? (swig): fix typemaps for SetMetadata()
  * #2426, #1986, #1677 (swig): Added to support GetGCPs, SetGCPs and 
GCPsToGeoTransform in the C# bindings
  * #2473 (swig): Avoid boolean related compile warning
  * #2471 (HFA): Avoid using .aux files with mismatched raster model.
  * #2472 (PCRaster): Add overview support.
  * #2465 (ADRG): Fix warning about not supporting update access.
  * #2464 (NetCDF): Fixed windows plugin name.
  * #2410 (MRSID): Improve support for DSDK 7.x.
  * #2457 (gcore): Improve reading when block cache is too small.
  * #2360 (GTiff): Fix problems writing odd bit depths.
  * #2455 (ogr2ogr): Fix the -gt option operation.
  * #2454 (ogr core): improve spatial filtering with polygons with holes.
  * #2451 (wince): Fix CPLStrtodDelim() building on WinCE.
  * #2449 (GTiff): Fix crash when using BLOCKYSIZE=1 for tiled files.
  * #2448 (GTiff): Handle mix of TIFF+PAM metadata properly.
  * #2428 (Shape): Add OGR_ORGANIZE_POLYGONS configuration option.
  * #2427 (HFA): Correct some problems with unitialized blocks and updating.
  * #2422 (HFA): Improve save/load of names for SRS.
  * #2437 (port): Improve handling of large file errors on different platforms.
  * #2415 (PAM/VRT): store nodata values in binary form to preserve precision.
  * #2436 (HFA): Support writing 1/2/4 bit data.
  * #2320 (ECW/JP2ECW): Fix up plugin naming.
  * #2435 (GTiff): Push JPEG compressed data into block cache to avoid redecoding
  * #2434 (alg): Make GeoLoc transformer more robust in case of errors.
  * #1000 (HFA): Fix reading of reduced precision 32bit floating point blocks.
  * #2396 (FITS): Fix crash if metadata is found.
  * #2409 (ogr2ogr): Force -gt to 1 with -skipfailures.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From johan.hallgren at logica.com  Fri Oct 10 00:29:47 2008
From: johan.hallgren at logica.com (Hallgren, Johan)
Date: Fri Oct 10 00:30:30 2008
Subject: [gdal-dev] C# OGR and memoryproblems.
Message-ID: <E6F608E47F9D504FA3BF7F0732620C93182AAB7756@SE-EX007.groupinfra.com>

Hello

We are using ogr to create a shapefile. We user C# as the development environment. We now have a problem that the process that runs the code doesn't release references to the shapefile. It's opened and created but there is no close function I could find.

At the ogr-home-page I found OGRDataSource::DestroyDataSource( poDS ); , it meybe can help me but I can't find any similar thing at the C# api.

Anyone knowing what causes that problem.

br
Johan

Johan Hallgren
Logica
Pelle Bergs backe 3
Box 1938, 791 19 Falun
Tel (och mobil): 023-547 46 (int: +46-2354746)
johan.hallgren@logica.com
http://www.logica.se

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081010/180d1c0a/attachment.html
From oueslati.cherif at gmail.com  Fri Oct 10 03:22:14 2008
From: oueslati.cherif at gmail.com (Cherif Oueslati)
Date: Fri Oct 10 03:22:17 2008
Subject: [gdal-dev] [GDAL dev][GDALRasterBand::IReadBlock] About how to read
	all the raster bands.
Message-ID: <d94dd9d00810100022v19fcceedw3ce8d4bac95a2078@mail.gmail.com>

Hello,



I am implementing a format specific driver to add new format. So i have to
read raster bands from a file in addition of the metadata given in the
header.

The gdalinfo.exe is working effeciently, by using an OGRSpatialReference
object. However i found a problem with the gdal_translate.exe application.

In fact, and when debugging, an error appears indicating that it's
impossible to write in certain memory address, knowing that the input file
to read contain 501 pixels (corresponding to nBlockXSize) and 501 lines
(corresponding to nBlockYSize).

To avoid this problem, i changed the number of iterations in the for loop,
which is allowing reading all the raster bands and filling into the pImage,
from (nBlockXSize*nBlockYSize) to (nBlockXSize*125).

As a consequence i obtain an image that is a part of the whole image to read
which is logic, since i'm not putting all the raster bands.



So to summarise the problem: (nBlockXSize*125) is the maximum rows that i
can put into the destination file image or i have to use all the
(nBlockXSize*nBlockYSize) raster bands.

I think that it's related to the default size of the destination file image.

I used CPLMalloc, CPLRealloc, memset and memcpy functions but it was
fruitless. Could you tell me how to modify this default size?

Otherwise have you any other suggestions.



With all my regards.

Cherif OUESLATI
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081010/ee896b36/attachment.html
From jrepetto at free.fr  Fri Oct 10 05:37:39 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Oct 10 05:37:45 2008
Subject: [gdal-dev] Re: [GDAL] #2593: gdal_translate crashes with
 libecwj2-3.3 when creating files
In-Reply-To: <48EF2102.1000307@free.fr>
References: <046.93253afd205e27a3e574c592945e7825@osgeo.org>
	<055.60ceabe91281e67f4ba68bb217ec0a63@osgeo.org>
	<48EF2102.1000307@free.fr>
Message-ID: <48EF2263.8040104@free.fr>

Jean-Claude Repetto a ?crit :
>
> I have tested 1.5.3RC1, it's OK in non-strict mode. But how to enable 
> strict mode ?
> 

Sorry, I hadn't seen the "-strict" option.
From jrepetto at free.fr  Fri Oct 10 05:31:46 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Oct 10 05:38:00 2008
Subject: [gdal-dev] Re: [GDAL] #2593: gdal_translate crashes with
 libecwj2-3.3 when creating files
In-Reply-To: <055.60ceabe91281e67f4ba68bb217ec0a63@osgeo.org>
References: <046.93253afd205e27a3e574c592945e7825@osgeo.org>
	<055.60ceabe91281e67f4ba68bb217ec0a63@osgeo.org>
Message-ID: <48EF2102.1000307@free.fr>

> #2593: gdal_translate crashes with libecwj2-3.3 when creating files
> -------------------------+--------------------------------------------------
>  Reporter:  neteler      |        Owner:  warmerdam
>      Type:  defect       |       Status:  closed   
>  Priority:  normal       |    Milestone:  1.5.3    
> Component:  GDAL_Raster  |      Version:  1.5.2    
>  Severity:  normal       |   Resolution:  fixed    
>  Keywords:  ecw          |  
> -------------------------+--------------------------------------------------
> Changes (by warmerdam):
> 
>   * status:  new => closed
>   * version:  svn-trunk => 1.5.2
>   * resolution:  => fixed
>   * milestone:  => 1.5.3
> 
> Comment:
> 
>  I have added pixel data type checking in ECWCreateCopy().  In non-strict
>  mode it just forces things to Byte and provides a warning. In strict mode
>  it errors out.  The changes are in trunk (r15484) and in the 1.5 branch
>  (r15485).
> 

Frank,

I have tested 1.5.3RC1, it's OK in non-strict mode. But how to enable 
strict mode ?

Regards,
Jean-Claude
From ivan.lucena at pmldnet.com  Fri Oct 10 08:13:55 2008
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Fri Oct 10 08:13:58 2008
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gW0dEQUwgZGV2XVtHREFMUmFzdGVyQmFuZDo6SVJlYWRCbG9ja10gQWJvdXQgaG93IHRvIHJlYWQJYWxsIHRoZSByYXN0ZXIgYmFuZHMu?=
Message-ID: <20081010121355.6948.qmail@s466.sureserver.com>

Hi There,

I am not quite sure that I understood your problem, but I am pretty sure that you can write whatever bock size you 
want. On the "GDAL implementation tutorial" [1] you should that especial attention to fill up those attributes:

GDALDataset::nRasterXSize
GDALDataset::nRasterYSize
GDALRasterBand::nBlockYSize
GDALRasterBand::nBlockXSize
GDALRasterBand::eDataType

That will tell how GDAL will handle its internal block buffers.

You can take a look at one of the drivers that I wrote as example:

http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/idrisi/IdrisiDataset.cpp#L500
http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/idrisi/IdrisiDataset.cpp#L1261

Regards,

Ivan



>  -------Original Message-------
>  From: Cherif Oueslati <oueslati.cherif@gmail.com>
>  Subject: [gdal-dev] [GDAL dev][GDALRasterBand::IReadBlock] About how to read	all the raster bands.
>  Sent: Oct 10 '08 07:22
>  
>  Hello,
>  
>  
>  I am implementing a format specific driver to add new format. So i have to
>  read raster bands from a file in addition of the metadata given in the
>  header.
>  
>  The gdalinfo.exe is working effeciently, by using an OGRSpatialReference
>  object. However i found a problem with the gdal_translate.exe application.
>  
>  
>  In fact, and when debugging, an error appears indicating that it's
>  impossible to write in certain memory address, knowing that the input file
>  to read contain 501 pixels (corresponding to nBlockXSize) and 501 lines
>  (corresponding to nBlockYSize).
>  
>  To avoid this problem, i changed the number of iterations in the for loop,
>  which is allowing reading all the raster bands and filling into the pImage,
>  from (nBlockXSize*nBlockYSize) to (nBlockXSize*125).
>  
>  As a consequence i obtain an image that is a part of the whole image to
>  read which is logic, since i'm not putting all the raster bands.
>  
>  
>  So to summarise the problem: (nBlockXSize*125) is the maximum rows that i
>  can put into the destination file image or i have to use all the
>  (nBlockXSize*nBlockYSize) raster bands.
>  
>  I think that it's related to the default size of the destination file
>  image.
>  
>  I used CPLMalloc, CPLRealloc, memset and memcpy functions but it was
>  fruitless. Could you tell me how to modify this default size?
>  
>  Otherwise have you any other suggestions.
>  
>  
>  With all my regards.
>  
>  Cherif OUESLATI
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From odonnems at yahoo.com  Fri Oct 10 10:14:39 2008
From: odonnems at yahoo.com (Michael ODonnell)
Date: Fri Oct 10 10:21:20 2008
Subject: [gdal-dev] getRasterTable and back again to matrix
Message-ID: <917367.78742.qm@web58003.mail.re3.yahoo.com>

I am using the getRasterTable to extract blocks of cell values from a raster dataset. After using this table to run statistical analysis, I would like to convert it back to a raster data set. To do this I am converting the table (predicted values) back to a matrix and then using putRasterData to insert the predicted values into a new raster data set. My question is what method should I be using to convert the table back to a raster data set. There does not seem to be a command (i.e., putRasterTable) to do this so I need to determine how the getRasterTable works. Does it start in the upper left cell, work across (right), then down and right like reading a book? If I know how this works then I can convert the predictions to a matrix using the same process. In other words I need to make sure I am writing the predictions in the same location as the cell values used to make the predictions. 

FYI: I am using the gdal library in R statistics package (rgdal).

thank you for the suggestions/help,
Mike



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081010/ccb94ac3/attachment.html
From bclay at ball.com  Fri Oct 10 10:28:10 2008
From: bclay at ball.com (Clay, Bruce)
Date: Fri Oct 10 10:28:14 2008
Subject: [gdal-dev] Release version of program crashes
In-Reply-To: <53F9CF533E1AA14EA1F8C5C08ABC08D204DB2CD9@ZDND.DND.boston.cob>
References: <53F9CF533E1AA14EA1F8C5C08ABC08D204DB2CD9@ZDND.DND.boston.cob>
Message-ID: <C482FF98AE985A47B8C982FD429C9E34028CBE0C@daytonmsg2k3.AERO.BALL.COM>

I have a GDAL / OGR based program that runs fine in debug mode on
Windows XP compiles with Visual Studio 2005 but when I try to run in
Release mode the program crashes.

Information is hard to get in release modes as you know so the details I
can provide are sketchy but I am hoping someone has seen a similar
problem and knows what is happening.

I put a break point in my GDAL error handler and indeed the code is
entering the handler.  It seems to crash every time after it hits the
error handler.  It does not appear to be triggering an exception because
it never hits the break point in my catch block.

The things that are getting triggered as errors are minor things like a
shapefile does not exist when I try to delete it just to make sure it
does not exist.  Another one is CreateField throws a message because
DateTime fields are invalid in shapefiles so a Date Field is created
instead.

I though I saw something on the net once that we have to do to get OGR
to throw and exception but I can not find it now.

Any thoughts would be greatly appreciated

Bruce




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
From cpadwick at digitalglobe.com  Fri Oct 10 10:26:57 2008
From: cpadwick at digitalglobe.com (Chris Padwick)
Date: Fri Oct 10 10:59:54 2008
Subject: [gdal-dev] gdal and WMS
Message-ID: <61695F5D53E0A74AA5A70E93BC9C256A04A604C1@COMAIL01.digitalglobe.com>

Hi,

 

Can anyone shoot me a quick example of using gdal to access a WMS
server?  Can you use one of the command line utilities to handle the xml
description file, or do you have to do it programmatically?

 

My gdal dist is compiled with xerces and libcurl.

 

I'm trying to use the example file at
http://www.remotesensing.org/gdal/frmt_wms.html

 

Thanks!

 

Chris

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081010/c42d247b/attachment-0001.html
From Chris.Barker at noaa.gov  Fri Oct 10 11:47:19 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Oct 10 11:46:29 2008
Subject: [gdal-dev] GDAL block cache question
In-Reply-To: <1223602655.25231.32.camel@think.brasil>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com>
	<20081008213348.191eb269@tiscali.it>
	<20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it> <48EE4E58.7040707@noaa.gov>
	<1223602655.25231.32.camel@think.brasil>
Message-ID: <48EF7907.4060108@noaa.gov>

Ivan Lucena wrote:
>> Did you take a look at OSSIM? At some point in the past, they were 
>> wx-based, though I don't know what they are up to now.
> 
> It seams like they switched to qt. I know it is possible to find a lot
> of references on the web where wx, qt, gtk, even Tcl/TK are compared.
> But I am wondering if there is some Geospatial reason to pick qt instead
> of wx.

I doubt it -- at least not with raster data. A while back wx's vector 
drawing was pretty limited (no alpha support), but it now has a better 
drawing API, or you can use it with Agg or Cairo, or?? There may well be 
other reasons to choose QT, but I doubt they are specific to Geospatial 
applications.

As a matter of fact, as much as I like QGIS, I think it would work 
better if it were written in wx, at least on teh MAc -- for example, teh 
file open dialog sucks -- with wx, it would use the native one, which 
would be much better.

> Some time I wish that OpenEv could use wxPython instead of python+TK.

It doesn't use Tk, it uses GTK, but your point is the same.

SAGA had promise, but it seems to be kind of stalled.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From jgomezdans at gmail.com  Fri Oct 10 12:05:25 2008
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Fri Oct 10 12:05:27 2008
Subject: [gdal-dev] EASE-grid projection
Message-ID: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>

Hi,
I am trying to wrap some EASE-grid data from NSIDC for global datasets.
NSIDC says it is based on the  Cylindrical Equal Area, and they do provide
both an EPSG code for it (3410), as well as a Proj string:
"+proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m" (see <
http://nsidc.org/data/atlas/epsg_3410.html>. It appears that GDAL supports
it, and the relevant line for it is in $GDAL_DATA/pcs.csv:
3410,NSIDC EASE-Grid
Global,9001,4053,19869,9834,1,0,8807,0,9001,8823,30,9102,8802,0,9102,8806,0,9001,,,,,,,,,

So far so good, but warping an image into something else doesn't work:
$ gdalwarp --debug on -of GTiff -s_srs "EPSG:3410" -t_srs 'EPSG:4326' INPUT
OUTPUT.tif
EPSG: No WKT support for projection method 9834.
ERROR 6: EPSG PCS/GCS code 3410 not found in EPSG support files.  Is this a
valid
EPSG coordinate system?
ERROR 1: Translating source or target SRS failed:
EPSG:3410

$ gdalwarp --debug on -of GTiff -s_srs "+proj=cea +lat_0=0 +lon_0=0
+lat_ts=30 +a=6371228.0 +units=m" -t_srs 'EPSG:4326' INPUT OUTPUT.tif
OGR_PROJ4: Can't find ellipse definition in:
+proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
ERROR 1: Translating source or target SRS failed:
+proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m

Hmmm.... Does anyone have any ideas around this?

Thanks!
Jose


-- 
Centre for Terrestrial Carbon Dynamics
Department of Geography, University College London
Gower Street, London WC1E 6BT, UK
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081010/f7a962fd/attachment.html
From jgomezdans at gmail.com  Fri Oct 10 12:20:51 2008
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Fri Oct 10 12:20:53 2008
Subject: [gdal-dev] Re: EASE-grid projection
In-Reply-To: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>
References: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>
Message-ID: <91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>

Hi,
I know it's unpolite to reply to self, but I think I might have cracked this
one. Comments welcomed...


2008/10/10 Jose Gomez-Dans <jgomezdans@gmail.com>

>
> $ gdalwarp --debug on -of GTiff -s_srs "+proj=cea +lat_0=0 +lon_0=0
> +lat_ts=30 +a=6371228.0 +units=m" -t_srs 'EPSG:4326' INPUT OUTPUT.tif
> OGR_PROJ4: Can't find ellipse definition in:
> +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
> ERROR 1: Translating source or target SRS failed:
> +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>

If I add the +ellps=sphere (hint is here:  <
http://nsidc.org/data/ease/ease_grid.html#whySpherical>. What's wrong with
having a flat Earth!!! :D), I am able to reproject the data.

Is this a sound approach?

Thanks,
Jose


-- 
Centre for Terrestrial Carbon Dynamics
Department of Geography, University College London
Gower Street, London WC1E 6BT, UK
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081010/06c6b1d1/attachment.html
From ivan.lucena at pmldnet.com  Fri Oct 10 12:24:10 2008
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Fri Oct 10 12:24:12 2008
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gR0RBTCBibG9jayBjYWNoZSBxdWVzdGlvbg==?=
Message-ID: <20081010162410.5043.qmail@s466.sureserver.com>

Chris,

>  I doubt it -- at least not with raster data. A while back wx's vector
>  drawing was pretty limited (no alpha support), but it now has a better
>  drawing API, or you can use it with Agg or Cairo, or?? There may well be
>  other reasons to choose QT, but I doubt they are specific to Geospatial
>  applications.

But regardless of the limitation of the core wxWidget componets, we can always go beyond that by using OpenGL. Isn't it right?

>  As a matter of fact, as much as I like QGIS, I think it would work
>  better if it were written in wx, at least on teh MAc -- for example, teh
>  file open dialog sucks -- with wx, it would use the native one, which
>  would be much better.

Yes, the Motif style open-file-dialog is always hard to swallow on Win or Mac.

>  > Some time I wish that OpenEv could use wxPython instead of python+TK.
>  It doesn't use Tk, it uses GTK, but your point is the same.

But it uses some other extra OpenGL extension for map display. Or it is part of GTK

Yes, and the open-file again is the same. But at least it doesn't use the TK detachable menus that looks like a toilet 
paper. I think that is a mention of that on "The Humane Interface" [Raskin]. It is just insane.

>  -Chris

Thanks Chris, that discussion and your suggestions are very helpful.

Ivan

From Aaron.Sutula at noaa.gov  Fri Oct 10 12:55:57 2008
From: Aaron.Sutula at noaa.gov (Aaron Sutula)
Date: Fri Oct 10 12:55:59 2008
Subject: [gdal-dev] gdalwarp - Invalid Tiled GTiff
In-Reply-To: <48EE9CA5.9040701@pobox.com>
References: <48EE932E.8040604@noaa.gov> <48EE9CA5.9040701@pobox.com>
Message-ID: <48EF891D.1010406@noaa.gov>

Hi Frank,

I built the svn development version of gdal with all internal libraries 
and that did the trick; 1.5.2 still had the bug. Thanks for the help.

Aaron

Frank Warmerdam wrote:
> Aaron Sutula wrote:
>> Hi List,
>>
>> I am attempting to create a mosaic of elevation data I have stored as 
>> a bunch of geotiff files. I am trying this with gdalwarp from FWtools 
>> 2.0.6 (so there is bigtiff support). My approach is to gdalwarp one 
>> of the source geotiffs into an output geotiff  and specify that the 
>> output geotiff has a larger extent, my final extent for the mosaic. 
>> After that, I can gdalwarp the remaining source geotiffs into the 
>> first output geotiff.
> ...
>> $ du merge18.tif
>> 2111768    merge18.tif
>>
>> $ gdalinfo merge18.tif
>> ERROR 4: `merge18.tif' not recognised as a supported file format.
>> gdalinfo failed - unable to open 'merge18.tif'.
>
> Aaron,
>
> I think you are hitting the 2GB barrier.  A while ago we discovered the
> logic for switching to the "large file api" which is necessary past 2GB
> was not working properly in some unix and linux builds due to an 
> unexpected
> error code being returned from fopen().  This is exactly how it 
> manifests.
>
> Unfortunately there isn't a newer FWTools with the fix though the problem
> is fixed.  If you can build from source yourself you should be ok.  Or
> if you can keep the size a bit below 2GB you should be ok.
>
> Best regards,
From condit at sdsc.edu  Fri Oct 10 13:32:11 2008
From: condit at sdsc.edu (Christopher Condit)
Date: Fri Oct 10 13:32:15 2008
Subject: [gdal-dev] KML Parsing Performance
In-Reply-To: <d422b4500810081123h6cc43fdbo309651c052ec80b0@mail.gmail.com>
References: <d422b4500810081123h6cc43fdbo309651c052ec80b0@mail.gmail.com>
Message-ID: <845AADAC1106E44996327D62097E4C6B01163904@et.ad.sdsc.edu>

Hi Joel-
>I'd like to know how I may get better performance reading a KML file. ?I have a >file with 9,640 points. ?I've found that it takes about 16 seconds to read >through the entire file (see the code snapshot below). ?The exact same data in >Shapefile format takes a second or less to read using the same code >snippet. ?I'm using 1.5.2 with libexpat. ?Any hints? ?Thanks.

I think there are few problems here. One is that XML is inherently slow. Second, it looks as though the getFeature code is looping through each child incrementally. I'm more familiar with libXML2 than expat and sadly I'm not aware of xpath functionality for expat (mainly because it's a sax parser). I would bet that writing an xpath query to grab the nth placemark (and allowing the underlying xml engine to execute it) would be much faster than looping over all the children of the layer. I don't know of a quick solution at this time, but it would be good to get a copy of your sample data (if possible) and file a ticket against it...

-Chris

Christopher Condit
San Diego Supercomputer Center
858-822-5483
condit@sdsc.edu


From dan at gina.alaska.edu  Fri Oct 10 14:09:38 2008
From: dan at gina.alaska.edu (Dan Stahlke)
Date: Fri Oct 10 14:28:37 2008
Subject: [gdal-dev] Re: EASE-grid projection
In-Reply-To: <91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>
References: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>
	<91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>
Message-ID: <48EF9A62.5080409@gina.alaska.edu>

Jose,

The north pole version works for me, perhaps because of the '+init=' 
part: (although that probably shouldn't matter...)
    gdalwarp -t_srs '+init=epsg:3408' ...
Maybe the equatorial version of EASE is different.

If you are giving the full proj4 definition "+proj=cea ..." you might 
try adding "+no_defs" at the end.  Otherwise, you usually end up getting 
some sort of default flatting value or something that tends to interfere 
whenever an explicit radius is specified.  Probably the "+ellps=sphere" 
ends up overriding the faulty default value.

- Dan

Jose Gomez-Dans wrote:
> Hi,
> I know it's unpolite to reply to self, but I think I might have 
> cracked this one. Comments welcomed...
>
>
> 2008/10/10 Jose Gomez-Dans <jgomezdans@gmail.com 
> <mailto:jgomezdans@gmail.com>>
>
>
>     $ gdalwarp --debug on -of GTiff -s_srs "+proj=cea +lat_0=0
>     +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m" -t_srs 'EPSG:4326'
>     INPUT OUTPUT.tif
>     OGR_PROJ4: Can't find ellipse definition in:
>     +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>     ERROR 1: Translating source or target SRS failed:
>     +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>
>
> If I add the +ellps=sphere (hint is here:  
> <http://nsidc.org/data/ease/ease_grid.html#whySpherical>. What's wrong 
> with having a flat Earth!!! :D), I am able to reproject the data.
>
> Is this a sound approach?
>
> Thanks,
> Jose
>
>
> -- 
> Centre for Terrestrial Carbon Dynamics
> Department of Geography, University College London
> Gower Street, London WC1E 6BT, UK
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From neteler at osgeo.org  Fri Oct 10 15:12:47 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Fri Oct 10 15:12:49 2008
Subject: [gdal-dev] Re: EASE-grid projection
In-Reply-To: <48EF9A62.5080409@gina.alaska.edu>
References: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>
	<91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>
	<48EF9A62.5080409@gina.alaska.edu>
Message-ID: <86782b610810101212k2ac4ecc4l114cee0e1a816c7@mail.gmail.com>

Dan, Jose,

On Fri, Oct 10, 2008 at 8:09 PM, Dan Stahlke <dan@gina.alaska.edu> wrote:
> Jose,
>
> The north pole version works for me, perhaps because of the '+init=' part:
> (although that probably shouldn't matter...)
>   gdalwarp -t_srs '+init=epsg:3408' ...

I wonder if this resolves
http://trac.osgeo.org/gdal/ticket/2584

where I obtained a flipped earth... (seen from North pole).

Thanks
Markus

> Maybe the equatorial version of EASE is different.
>
> If you are giving the full proj4 definition "+proj=cea ..." you might try
> adding "+no_defs" at the end.  Otherwise, you usually end up getting some
> sort of default flatting value or something that tends to interfere whenever
> an explicit radius is specified.  Probably the "+ellps=sphere" ends up
> overriding the faulty default value.
>
> - Dan
>
> Jose Gomez-Dans wrote:
>>
>> Hi,
>> I know it's unpolite to reply to self, but I think I might have cracked
>> this one. Comments welcomed...
>>
>>
>> 2008/10/10 Jose Gomez-Dans <jgomezdans@gmail.com
>> <mailto:jgomezdans@gmail.com>>
>>
>>
>>    $ gdalwarp --debug on -of GTiff -s_srs "+proj=cea +lat_0=0
>>    +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m" -t_srs 'EPSG:4326'
>>    INPUT OUTPUT.tif
>>    OGR_PROJ4: Can't find ellipse definition in:
>>    +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>>    ERROR 1: Translating source or target SRS failed:
>>    +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>>
>>
>> If I add the +ellps=sphere (hint is here:
>>  <http://nsidc.org/data/ease/ease_grid.html#whySpherical>. What's wrong with
>> having a flat Earth!!! :D), I am able to reproject the data.
>>
>> Is this a sound approach?
>>
>> Thanks,
>> Jose
>>
>>
>> --
>> Centre for Terrestrial Carbon Dynamics
>> Department of Geography, University College London
>> Gower Street, London WC1E 6BT, UK
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Open Source Geospatial Foundation
http://www.osgeo.org/
http://www.grassbook.org/
From warmerdam at pobox.com  Fri Oct 10 16:21:15 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 10 16:21:34 2008
Subject: [gdal-dev] Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
Message-ID: <48EFB93B.3040309@pobox.com>

Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release

This vote should be open till late on Tuesday.  Please vote or comment after
you have had a chance to try the release candidate.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From szekerest at gmail.com  Fri Oct 10 17:36:44 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Oct 10 17:36:47 2008
Subject: [gdal-dev] C# OGR and memoryproblems.
In-Reply-To: <E6F608E47F9D504FA3BF7F0732620C93182AAB7756@SE-EX007.groupinfra.com>
References: <E6F608E47F9D504FA3BF7F0732620C93182AAB7756@SE-EX007.groupinfra.com>
Message-ID: <f3b73b7d0810101436u111dcd83xa283f500bbd119f0@mail.gmail.com>

Johan,

Assuming you don't use the open-shared option the destructor of the
object should destroy the underlying dataset. For the garbage
collected environments (like .NET) it would be reasonable to put this
mechanism into an earlier method like Dispose, however it would
require some further investigation to implement such code properly,
you could submit a ticket with this problem anyways.

You could also test this issue by forcing the collection by using the
GC.Collect() API.

Best regards,

Tamas



2008/10/10 Hallgren, Johan <johan.hallgren@logica.com>:
> Hello
>
> We are using ogr to create a shapefile. We user C# as the development
> environment. We now have a problem that the process that runs the code
> doesn't release references to the shapefile. It's opened and created but
> there is no close function I could find.
>
> At the ogr-home-page I found OGRDataSource::DestroyDataSource( poDS ); , it
> meybe can help me but I can't find any similar thing at the C# api.
>
> Anyone knowing what causes that problem.
>
> br
> Johan
>
> Johan Hallgren
> Logica
> Pelle Bergs backe 3
> Box 1938, 791 19 Falun
> Tel (och mobil): 023-547 46 (int: +46-2354746)
> johan.hallgren@logica.com
> http://www.logica.se
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From a.neumann at carto.net  Sat Oct 11 06:22:11 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Sat Oct 11 06:22:16 2008
Subject: [gdal-dev] Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
In-Reply-To: <48EFB93B.3040309@pobox.com>
References: <48EFB93B.3040309@pobox.com>
Message-ID: <48F07E53.20802@carto.net>

Hi Frank,

Pirmin Kalberer is working the next week on some Interlis 
improvements/fixes. Ideally, these could go into GDAL 1.5.3.

Pirmin do you think this would be feasible?

Frank, can we wait a couple more days before the official release?

I certainly don't want to block the next gdal release, but if it is 
possible to wait for a few more days I'd appreciate it.

Thanks,
Andreas

Frank Warmerdam wrote:
> Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
>
> This vote should be open till late on Tuesday.  Please vote or comment 
> after
> you have had a chance to try the release candidate.
>
> Best regards,

From warmerdam at pobox.com  Sat Oct 11 13:39:23 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Oct 11 13:39:54 2008
Subject: [gdal-dev] Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
In-Reply-To: <48F07E53.20802@carto.net>
References: <48EFB93B.3040309@pobox.com> <48F07E53.20802@carto.net>
Message-ID: <48F0E4CB.5070607@pobox.com>

Andreas Neumann wrote:
> Hi Frank,
> 
> Pirmin Kalberer is working the next week on some Interlis 
> improvements/fixes. Ideally, these could go into GDAL 1.5.3.
> 
> Pirmin do you think this would be feasible?
> 
> Frank, can we wait a couple more days before the official release?
> 
> I certainly don't want to block the next gdal release, but if it is 
> possible to wait for a few more days I'd appreciate it.
> 

Andreas,

I am not really keen on holding back the release unless something
about 1.5.3RC1 is worse than 1.5.2 (I hate regression).  We don't have
to wait as long for 1.5.4 as we did for 1.5.3.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From brauplists at gmail.com  Sun Oct 12 16:05:29 2008
From: brauplists at gmail.com (Bruce Raup)
Date: Sun Oct 12 16:05:33 2008
Subject: [gdal-dev] Re: EASE-grid projection
In-Reply-To: <48EF9A62.5080409@gina.alaska.edu>
References: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>
	<91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>
	<48EF9A62.5080409@gina.alaska.edu>
Message-ID: <1464295a0810121305g35cd8c2bq2ab2b9a1e127477e@mail.gmail.com>

All,

We at NSIDC had the EASE-Grid projections added to the EPSG code list
last year or so, and I recently noticed that in the "share/proj/epsg"
file in FWTools, for the entry for 3410, it says:

# NSIDC EASE-Grid Global
# Unable to translate coordinate system EPSG:3410 into PROJ.4 format.

I don't understand why it says this, especially since the Proj.4
parameters are defined at

http://nsidc.org/data/atlas/epsg_3410.html

as pointed out by Jose.  Can anyone say why the epsg file says that?

Proj.4 doesn't deal with datums, so it can handle EASE-Grid just fine,
but it should be noted that EASE-Grid maps lon/lat, usually defined on
the WGS-84 datum, to a projection that uses a non-standard spheroid.
In other words, the datum ellipsoid and the projection ellipsoid are
not the same.  This is common for satellite-era data.  Unfortunately,
lots of software and data formats do not properly make this
distinction, or allow for this distinction, and so one can run into
problems.  For example, display software can display the wrong lon/lat
under the cursor by erroneously doing a datum shift after
unprojection.

Best regards,
Bruce

On Fri, Oct 10, 2008 at 12:09 PM, Dan Stahlke <dan@gina.alaska.edu> wrote:
> Jose,
>
> The north pole version works for me, perhaps because of the '+init=' part:
> (although that probably shouldn't matter...)
>   gdalwarp -t_srs '+init=epsg:3408' ...
> Maybe the equatorial version of EASE is different.
>
> If you are giving the full proj4 definition "+proj=cea ..." you might try
> adding "+no_defs" at the end.  Otherwise, you usually end up getting some
> sort of default flatting value or something that tends to interfere whenever
> an explicit radius is specified.  Probably the "+ellps=sphere" ends up
> overriding the faulty default value.
>
> - Dan
>
> Jose Gomez-Dans wrote:
>>
>> Hi,
>> I know it's unpolite to reply to self, but I think I might have cracked
>> this one. Comments welcomed...
>>
>>
>> 2008/10/10 Jose Gomez-Dans <jgomezdans@gmail.com
>> <mailto:jgomezdans@gmail.com>>
>>
>>
>>    $ gdalwarp --debug on -of GTiff -s_srs "+proj=cea +lat_0=0
>>    +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m" -t_srs 'EPSG:4326'
>>    INPUT OUTPUT.tif
>>    OGR_PROJ4: Can't find ellipse definition in:
>>    +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>>    ERROR 1: Translating source or target SRS failed:
>>    +proj=cea +lat_0=0 +lon_0=0 +lat_ts=30 +a=6371228.0 +units=m
>>
>>
>> If I add the +ellps=sphere (hint is here:
>>  <http://nsidc.org/data/ease/ease_grid.html#whySpherical>. What's wrong with
>> having a flat Earth!!! :D), I am able to reproject the data.
>>
>> Is this a sound approach?
>>
>> Thanks,
>> Jose
>>
>>
>> --
>> Centre for Terrestrial Carbon Dynamics
>> Department of Geography, University College London
>> Gower Street, London WC1E 6BT, UK
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Bruce Raup
http://cires.colorado.edu/~braup/
From mchapman at fortifieddatacom.com  Sun Oct 12 16:25:21 2008
From: mchapman at fortifieddatacom.com (Martin Chapman)
Date: Sun Oct 12 16:35:48 2008
Subject: [gdal-dev] null pointer check needed in shptree.c 
In-Reply-To: <1464295a0810121305g35cd8c2bq2ab2b9a1e127477e@mail.gmail.com>
References: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>	<91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>	<48EF9A62.5080409@gina.alaska.edu>
	<1464295a0810121305g35cd8c2bq2ab2b9a1e127477e@mail.gmail.com>
Message-ID: <002b01c92ca8$a6ffce40$f4ff6ac0$@com>

Frank,

In the file shptree.c on line 261  (psShape = SHPReadObject( hSHP, iShape
);) in function SHPCreateTree() when the call to SHPReadObject() returns
NULL the code crashes because the following line (262) tries to use the
psShape pointer without checking if it is NULL.  SHPReadObject() correctly
captures the error but stills fails in SHPCreateTree().  I know the shape
file is probably invalid but other shape drivers handle it correctly so it
would be nice if you could stick an if (psShape == NULL) check in there so
it doesn't just crash hard. If you need a file that does this please let me
know and I will send it to you.

Best regards,
Martin


From jasonbeverage at gmail.com  Sun Oct 12 18:45:26 2008
From: jasonbeverage at gmail.com (Jason Beverage)
Date: Sun Oct 12 18:45:28 2008
Subject: [gdal-dev] gdal2tiles status
Message-ID: <2c4bbbeb0810121545m762ed55aobd121f02ae4ed927@mail.gmail.com>

Hi all,

I noticed that the new gdal2tiles is going to have support for mercator
tiles compatible with MSVE.  What is the status of this work and is there a
scheduled release date?

Thanks!

Jason
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081012/54dd3581/attachment.html
From johan.hallgren at logica.com  Mon Oct 13 04:32:45 2008
From: johan.hallgren at logica.com (Hallgren, Johan)
Date: Mon Oct 13 04:33:55 2008
Subject: [gdal-dev] C# OGR and memoryproblems.
In-Reply-To: <f3b73b7d0810101436u111dcd83xa283f500bbd119f0@mail.gmail.com>
References: <E6F608E47F9D504FA3BF7F0732620C93182AAB7756@SE-EX007.groupinfra.com>
	<f3b73b7d0810101436u111dcd83xa283f500bbd119f0@mail.gmail.com>
Message-ID: <E6F608E47F9D504FA3BF7F0732620C93182C22F146@SE-EX007.groupinfra.com>

Hello again Tamas

First of all, we are working with a web service, so problems will arise in the asp-working process.

Let's see here. What are you meaning with "open-shared option" you're mention?

We tried to use Dispose() on datasource but the program crashed immediately. Then we used feature.Dispose() but that one didn't solve the problem, the program still crash at the second round (second call from outside).

We managed to solve the problem by turning the Web Service into an EXE. To start with the problem also appeared in the EXE but we changed three things in the code that seemed solve the problem in the exe.

The first thing we added was a call to Dispose() on a feature that was used in a while-loop.

The second thing we added was a call to the Drivers DeleteDataSource().

The third thing was to encapsulate the code in a using-statement.

The error went away in the EXE. But when we tried the code in the Web Service and it seems as we still got the same memory problem at the second round there.

Maybe we did something wrong when using OGR in a multithread environment, but it's a bit unclear here how we should do it.

/Johan
___________________________________


Johan Hallgren


Logica
Pelle Bergs backe 3
Box 1938, 791 19 Falun
Tel (och mobil): 023-547 46 (int: +46-2354746)
johan.hallgren@logica.com
http://www.logica.se

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com]
Sent: den 10 oktober 2008 23:37
To: Hallgren, Johan
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] C# OGR and memoryproblems.

Johan,

Assuming you don't use the open-shared option the destructor of the object should destroy the underlying dataset. For the garbage collected environments (like .NET) it would be reasonable to put this mechanism into an earlier method like Dispose, however it would require some further investigation to implement such code properly, you could submit a ticket with this problem anyways.

You could also test this issue by forcing the collection by using the
GC.Collect() API.

Best regards,

Tamas



2008/10/10 Hallgren, Johan <johan.hallgren@logica.com>:
> Hello
>
> We are using ogr to create a shapefile. We user C# as the development
> environment. We now have a problem that the process that runs the code
> doesn't release references to the shapefile. It's opened and created
> but there is no close function I could find.
>
> At the ogr-home-page I found OGRDataSource::DestroyDataSource( poDS );
> , it meybe can help me but I can't find any similar thing at the C# api.
>
> Anyone knowing what causes that problem.
>
> br
> Johan
>
> Johan Hallgren
> Logica
> Pelle Bergs backe 3
> Box 1938, 791 19 Falun
> Tel (och mobil): 023-547 46 (int: +46-2354746)
> johan.hallgren@logica.com http://www.logica.se
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From r.hogendoorn at hitt.nl  Mon Oct 13 04:49:04 2008
From: r.hogendoorn at hitt.nl (Rene Hogendoorn)
Date: Mon Oct 13 04:57:33 2008
Subject: [gdal-dev] GDAL 1.5.3RC1
Message-ID: <1223887744.19627.6.camel@calthrop.hitt.home>

Dear Frank,

Please apply ticket #2906 (HDF4 build issue, fixed on trunk) before
releasing 1.5.3.
The HDF4 issue prevents gdal from building out-of-the-box on opensuse >=
10.3.

Regards,

Rene Hogendoorn
From a.neumann at carto.net  Mon Oct 13 04:57:57 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon Oct 13 04:58:02 2008
Subject: [gdal-dev] Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
In-Reply-To: <48F0E4CB.5070607@pobox.com>
References: <48EFB93B.3040309@pobox.com> <48F07E53.20802@carto.net>
	<48F0E4CB.5070607@pobox.com>
Message-ID: <23461.193.246.86.39.1223888277.squirrel@webmail.customers.iirc.at>

Hi Frank and Pirmin,

If gdal 1.5.4 can be released soon, which should include Pirmins
improvements, its fine for me. Meanwhile I can install/test the trunk
builds on my Linux machines.

My problem is that I also have to maintain a couple of Windows machines
with gdal and QGIS which should get the improvements as well. I can't
compile on Windows, which means I am dependent on official gdal/QGIS
updates. Hence my interest of having Pirmins improvements in the official
builds.

Thanks,
Andreas

> Andreas Neumann wrote:
>> Hi Frank,
>>
>> Pirmin Kalberer is working the next week on some Interlis
>> improvements/fixes. Ideally, these could go into GDAL 1.5.3.
>>
>> Pirmin do you think this would be feasible?
>>
>> Frank, can we wait a couple more days before the official release?
>>
>> I certainly don't want to block the next gdal release, but if it is
>> possible to wait for a few more days I'd appreciate it.
>>
>
> Andreas,
>
> I am not really keen on holding back the release unless something
> about 1.5.3RC1 is worse than 1.5.2 (I hate regression).  We don't have
> to wait as long for 1.5.4 as we did for 1.5.3.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From szekerest at gmail.com  Mon Oct 13 10:58:27 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Oct 13 10:58:30 2008
Subject: [gdal-dev] C# OGR and memoryproblems.
In-Reply-To: <E6F608E47F9D504FA3BF7F0732620C93182C22F146@SE-EX007.groupinfra.com>
References: <E6F608E47F9D504FA3BF7F0732620C93182AAB7756@SE-EX007.groupinfra.com>
	<f3b73b7d0810101436u111dcd83xa283f500bbd119f0@mail.gmail.com>
	<E6F608E47F9D504FA3BF7F0732620C93182C22F146@SE-EX007.groupinfra.com>
Message-ID: <f3b73b7d0810130758x20758d47y20eadda546e91011@mail.gmail.com>

2008/10/13 Hallgren, Johan <johan.hallgren@logica.com>:

> Let's see here. What are you meaning with "open-shared option" you're mention?
>

Creating the Dataset by using Gdal.OpenShared() for example.


> We tried to use Dispose() on datasource but the program crashed immediately. Then we used feature.Dispose() but that one didn't solve the problem, the program still crash at the second round (second call from outside).
>
> We managed to solve the problem by turning the Web Service into an EXE. To start with the problem also appeared in the EXE but we changed three things in the code that seemed solve the problem in the exe.
>
> The first thing we added was a call to Dispose() on a feature that was used in a while-loop.
>
> The second thing we added was a call to the Drivers DeleteDataSource().
>
> The third thing was to encapsulate the code in a using-statement.
>
> The error went away in the EXE. But when we tried the code in the Web Service and it seems as we still got the same memory problem at the second round there.
>

Could you create a simple example so as to reproduce this behaviour?


Best regards,

Tamas
From cryan at csse.com.au  Mon Oct 13 20:45:28 2008
From: cryan at csse.com.au (Fodder)
Date: Mon Oct 13 20:45:29 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
Message-ID: <19965390.post@talk.nabble.com>


Hi All,

I am also very keen for an OGR DXF/DWG driver that supports reading and
writing. I imagine there would be many people that would take advantage of
this capability.

I would also be willing to contribute financially if somebody wanted to take
the project on board. I may not be able to fund the entire development, but
perhaps there are others that might also contribute....

Cheers,

Fodder




Aur?lien Kamel-2 wrote:
> 
> Hello,
> 
>  
> 
> Does somebody knows where I could find (if existing) a DXF driver for OGR
> that supports reading (writing is not necessary) ?
> 
>  
> 
> Thanks,
> 
> Aurel
> 
>  
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

-- 
View this message in context: http://www.nabble.com/OGR%3A-DXF-driver-tp19899742p19965390.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From klokan at klokan.cz  Tue Oct 14 05:44:32 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Tue Oct 14 05:44:35 2008
Subject: [gdal-dev] gdal2tiles status
In-Reply-To: <2c4bbbeb0810121545m762ed55aobd121f02ae4ed927@mail.gmail.com>
References: <2c4bbbeb0810121545m762ed55aobd121f02ae4ed927@mail.gmail.com>
Message-ID: <6e41d95b0810140244g41f07c4k83551fb8f40c7683@mail.gmail.com>

Hi,

> I noticed that the new gdal2tiles is going to have support for mercator
> tiles compatible with MSVE.  What is the status of this work and is there a
> scheduled release date?

I would like to have the new version in GDAL 1.6.
I am working on cleaning it and merging with SVN trunk... from this
week on again actively ...

The raw but running code is now available in my gdal svn sandbox
(klokan), but it is using some SWIG functions added in the latest GDAL
trunk (overview scaling, rgba palette in vrt) which is not available
yet in binaries like FWTools. So to use it now you need to compile
GDAL 1.6 from SVN source code anyway...

I am going to publish a wx-based GUI for it as well...
http://www.maptiler.org/. Work is in progress too...
For more info search the archive of this conference for my Summer of
Code reports and check the website of maptiler...

I will write a post to this conference about the progress for sure.

Klokan Petr Pridal
From klokan at klokan.cz  Tue Oct 14 05:48:36 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Tue Oct 14 05:48:39 2008
Subject: [gdal-dev] Creating Google map tiles with gdal2tiles.py
In-Reply-To: <9c2015090810060939j5cf49fb5gb971eda2f0549d21@mail.gmail.com>
References: <9c2015090810060939j5cf49fb5gb971eda2f0549d21@mail.gmail.com>
Message-ID: <6e41d95b0810140248o501bd54cw89c080632e02ef9d@mail.gmail.com>

Hi Roger,

> I'm curious if anyone has succesfully used gdal2tiles.py to create Google
> Map tiles?  It seems to work very well at creating KML superoverlays, but I
> have not been able to get Map tiles that are positioned correctly with it.
> I have tried it against imagery that is in EPSG:4326, as well as in
> EPSG:900913.  In both cases I get strange results which seem to indicate
> some sort of SRS weirdness.

Answer is: generation of Google Maps tiles is possible, but not
available yet in the GDAL trunk version. I am working on merging now.
In the new version of gdal2tiles you don't need to reproject your
raster in advance, as the utility itself is doing the reprojection.

Please check the archive of the gdal-dev conference. Search
"gdal2tiles" and "maptiler".

Klokan
From a.neumann at carto.net  Tue Oct 14 10:24:44 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue Oct 14 10:24:48 2008
Subject: [gdal-dev] gdal and python problems
Message-ID: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>

Hi,

I was compiling gdal with python support from svn-trunk and ran into the
same problem as described at

http://www.nabble.com/Problem-with-gdal_polygonize.py-td19839558.html

When I start a python script I get the following error message:

------------------
gdal_merge.py -o orthofoto_2008.tif -init 255,255,255 -v -co
"COMPRESS=PACKBITS" -of GTiff OF_10cm/69*.tif
Traceback (most recent call last):
  File "/usr/local/bin/gdal_merge.py", line 31, in <module>
    import gdal
  File "/usr/local/lib/python2.5/site-packages/gdal.py", line 2, in <module>
    from osgeo.gdal import deprecation_warn
  File "/usr/local/lib/python2.5/site-packages/osgeo/gdal.py", line 7, in
<module>
    import _gdal
ImportError: /usr/local/lib/python2.5/site-packages/osgeo/_gdal.so:
undefined symbol: GDALPolygonize
------------------

My system is Ubuntu 8.10 (Intrepid Ibex). I used the following configure
options:

./configure --with-perl --with-python --with-xerces --with-sqlite
--with-pg=/usr/local/pgsql/bin/pg_config --enable-bigtiff
--with-odbc=/usr/lib --with-libtiff=internal
--with-grass=/usr/local/grass-6.3.0

Here is the output of configure:

--------------------
GDAL is now configured for x86_64-unknown-linux-gnu

  Installation directory:    /usr/local
  C compiler:                gcc -g -O2
  C++ compiler:              g++ -g -O2

  LIBTOOL support:           yes

  LIBZ support:              external
  GRASS support:             grass57+
  CFITSIO support:           no
  PCRaster support:          internal
  NetCDF support:            no
  LIBPNG support:            external
  LIBTIFF support:           internal (BigTIFF=yes)
  LIBGEOTIFF support:        internal
  LIBJPEG support:           external
  LIBGIF support:            internal
  OGDI support:              no
  HDF4 support:              no
  HDF5 support:              no
  Kakadu support:            no
  JasPer support:            yes (GeoJP2=no)
  ECW support:               no
  MrSID support:             no
  MSG support:               no
  GRIB support:              yes
  cURL support (wms/wcs/...):yes
  PostgreSQL support:        yes
  MySQL support:             no
  Ingres support:            no
  Xerces-C support:          yes
  NAS support:               no
  Expat support:             yes
  ODBC support:              yes
  PGeo support:              yes
  OCI support:               no
  SDE support:               no
  DODS support:              no
  SQLite support:            yes
  DWGdirect support          no
  PANORAMA GIS support:      no
  INFORMIX DataBlade support:no
  GEOS support:              yes


  Old-gen python          no
  SWIG Bindings:          python perl

  Statically link PROJ.4:    no
  enable OGR building:       yes
  enable pthread support:    no
  hide internal symbols:     no

-----------------------

Maybe I am missing some python packages. On Ubuntu 8.10 there are a
gazillion of python packages. I made sure I installed the swig and sip,
incl. the dev packages.

Any idea what went wrong with my install or which package I am missing?

Thanks,
Andreas

-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From warmerdam at pobox.com  Tue Oct 14 10:39:56 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 14 10:40:21 2008
Subject: [gdal-dev] Re: EASE-grid projection
In-Reply-To: <1464295a0810121305g35cd8c2bq2ab2b9a1e127477e@mail.gmail.com>
References: <91d218430810100905uff27a34y7fda3f4950f869ba@mail.gmail.com>
	<91d218430810100920u415e794fy34d3028b68ad8624@mail.gmail.com>
	<48EF9A62.5080409@gina.alaska.edu>
	<1464295a0810121305g35cd8c2bq2ab2b9a1e127477e@mail.gmail.com>
Message-ID: <48F4AF3C.8010903@pobox.com>

Bruce Raup wrote:
> All,
> 
> We at NSIDC had the EASE-Grid projections added to the EPSG code list
> last year or so, and I recently noticed that in the "share/proj/epsg"
> file in FWTools, for the entry for 3410, it says:
> 
> # NSIDC EASE-Grid Global
> # Unable to translate coordinate system EPSG:3410 into PROJ.4 format.
> 
> I don't understand why it says this, especially since the Proj.4
> parameters are defined at

Bruce,

It says this because EPSG projection method 9834 (Lambert Cylindrical
Equal Area) has no translation support in gdal/ogr/ogr_fromepsg.cpp.

If you file a ticket on this issue I can add it.

> http://nsidc.org/data/atlas/epsg_3410.html
> 
> as pointed out by Jose.  Can anyone say why the epsg file says that?
> 
> Proj.4 doesn't deal with datums, so it can handle EASE-Grid just fine,
> but it should be noted that EASE-Grid maps lon/lat, usually defined on
> the WGS-84 datum, to a projection that uses a non-standard spheroid.
> In other words, the datum ellipsoid and the projection ellipsoid are
> not the same.  This is common for satellite-era data.  Unfortunately,
> lots of software and data formats do not properly make this
> distinction, or allow for this distinction, and so one can run into
> problems.  For example, display software can display the wrong lon/lat
> under the cursor by erroneously doing a datum shift after
> unprojection.

This is most annoying since there seems to be no standard way of representing
such a coordinate system in WKT (for instance).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Oct 14 11:10:50 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 14 11:11:11 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <19965390.post@talk.nabble.com>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com>
Message-ID: <48F4B67A.2060403@pobox.com>

Fodder wrote:
> Hi All,
> 
> I am also very keen for an OGR DXF/DWG driver that supports reading and
> writing. I imagine there would be many people that would take advantage of
> this capability.
> 
> I would also be willing to contribute financially if somebody wanted to take
> the project on board. I may not be able to fund the entire development, but
> perhaps there are others that might also contribute....

Folks,

I had a client request for a simple DXF read/write driver and prepared
the following proposal.  It might prove to be of interest to someone
interested in implementing DXF support.  Alternatively if someone wanted
to fund the work I would be prepared to do it under these terms.  I'd
prefer not to do the styling work if I could avoid it - or at least
leave it as a follow on effort.



	OGR DXF Read/Write Driver
	=========================


Purpose
-------

To implement a read/write OGR DXF driver.


Technical Notes
---------------

Generally speaking the implementation will be done on the basis of the
DXF 2000 specification from Autodesk.  Features of newer versions of DXF
will not generally be supported, though hopefully some newer DXF files
can be read if they use older styles of geometric objects.   The provided
sample files were for an older version of AutoCAD than DXF 2000 and should
be well supported.

  * At a minimum the following DXF geometry types should be supported for
    reading:

      LINE, POLYLINE, LWPOLYLINE, POINT, VERTEX, TEXT

  * The following geometric types will be supported for reading if suitable
    examples are available, and if the client indicates an interest:

      ARC, CIRCLE, 3DFACE, ELLIPSE, MLINE, SPLINE

  * There are no plans to implement the following geometric types:

      IMAGE, REGION, HATCH, OLE*, SHAPE, RAY, MTEXT, BODY, 3DSOLID, ATTRIB,
      DIMENSION, INSERT, LEADER, VIEWPORT, WIPEOUT

  * When reading and writing the Polyline flag "1" code will be used to
    mark and recognise POLYLINE objects that are actually rings of a polygon
    (as is generated by the shpdxf utility for instance).

  * In general the DXF writer will write point geometries as POINT,
    linestrings as POLYLINE and polygons as specially marked POLYLINEs.
    Features with collection geometries (MULTIPOLYGON, MULTILINE, MULTIPOINT,
    GEOMETRYCOLLECTION) will be written as if each component geometry was a
    feature.

  * For the most part section of the DXF file other than the ENTITIES section
    will be ignored, or written in a minimal form.

  * Each feature read will have a "LAYER" attribute.  All features in one DXF
    file will be treated as a single OGRLayer (named according to the basename
    of the dxf file).

  * When writing, the DXF LAYER name will be written from the corresponding
    feature attribute named LAYER - if that does not exist it will be
    written from the name associated with the OGRLayer.

  * There is no standard coordinate system definition approach for DXF,
    so the OGR DXF driver would not support reading or writing coordinate
    system definitions.


OGR Feature Styling
-------------------

As an optional item, an attempt will be made to capture feature styling
(line color, line width, text size and angle, etc) in the form defined by
the OGR Feature Style Specification:

   http://www.gdal.org/ogr/ogr_feature_style.html

This associates the feature styling with a feature in a special text
format.  These feature style strings are utilized by a few OGR client
applications to display features as originally intended.  Currently the
main applications honouring OGR feature style strings are MapServer and
OpenEV.  The other file formats supported in this manner are DGN and Mapinfo.

Feature styling would also be utilized to produced styled DXF entities
if available in the source features when writing to DXF.


Prototyping
-----------

The OGR DXF read/write driver being proposed here should be considered
to be a prototype or "limited use" DXF driver.  It will be tailored for the
requirements of the particular client, and will have many limitations.  If
a very general purpose DXF driver is desired, a second implementation phase
might be contemplated, and would operate based on the lessons learned during
implementation and use of this original driver.


Sample Data
-----------

During implementation a variety of sample data will be collected from the
internet.  It is also important that the client supply a variety of sample
datasets representative of the sorts of DXF files they desire to be able
to read.


Intellectual Property
---------------------

The resulting OGR DXF driver will be placed under the usual GDAL/OGR MIT/X
style open source license.  The copyright may be held by the client, or if
they do not wish this, by Frank Warmerdam.

The intention is to implement this component from scratch, and there
are no expected dependencies on external libraries like DIME, dxflib or
the Open Design Alliance libraries.


Pricing
-------

Basic Read/Write OGR DXF Driver: 2200 Euros

OGR Feature Styling: 1200 Euros


Timeline
--------

A preliminary driver would be delivered (in source form) within four weeks of
proposal acceptance.  A final driver (incorporating client feedback) would
be completed within two weeks of receiving client feedback.




-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Oct 14 11:16:08 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 14 11:16:31 2008
Subject: [gdal-dev] gdal and python problems
In-Reply-To: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>
References: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>
Message-ID: <48F4B7B8.1010904@pobox.com>

Andreas Neumann wrote:
> Hi,
> 
> I was compiling gdal with python support from svn-trunk and ran into the
> same problem as described at
> 
> http://www.nabble.com/Problem-with-gdal_polygonize.py-td19839558.html
> 
> When I start a python script I get the following error message:
> 
> ------------------
> gdal_merge.py -o orthofoto_2008.tif -init 255,255,255 -v -co
> "COMPRESS=PACKBITS" -of GTiff OF_10cm/69*.tif
> Traceback (most recent call last):
>   File "/usr/local/bin/gdal_merge.py", line 31, in <module>
>     import gdal
>   File "/usr/local/lib/python2.5/site-packages/gdal.py", line 2, in <module>
>     from osgeo.gdal import deprecation_warn
>   File "/usr/local/lib/python2.5/site-packages/osgeo/gdal.py", line 7, in
> <module>
>     import _gdal
> ImportError: /usr/local/lib/python2.5/site-packages/osgeo/_gdal.so:
> undefined symbol: GDALPolygonize
> ------------------
> 
> My system is Ubuntu 8.10 (Intrepid Ibex). I used the following configure
> options:

Andreas,

My guess would be that the GDAL Python bindings are ending up running
against an older libgdal.so.  Is it possible that you have a
/usr/lib/libgdal.so that is 1.5.x and getting picked up instead of
/usr/local/lib/libgdal.so?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From tyler.erickson at mtu.edu  Tue Oct 14 12:46:09 2008
From: tyler.erickson at mtu.edu (Tyler Erickson)
Date: Tue Oct 14 12:47:14 2008
Subject: [gdal-dev] gdal_polygonize losing the projection info?
Message-ID: <48F4CCD1.8090902@mtu.edu>

I have been trying to use gdal_polygonize to convert a TIF to an ESRI
Shapefile, but it seems to be losing the projection information (i.e. no
*.prj file is created). 

The following output illustrates the loss of projection information. 
I'm currently using gdal trunk revision 15512.

Any suggestions on how to keep the projection info?

-------------------------------------------------------

$ gdalinfo testimage.tif

Driver: GTiff/GeoTIFF
Files: testimage.tif
Size is 5233, 1966
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235629972,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-130.538185630190014,39.997456711953717)
Pixel Size = (0.005086568914294,-0.005086568914294)
Metadata:
  AREA_OR_POINT=Point
  TIFFTAG_SOFTWARE=MODIS Reprojection Tool  v4.0 February 2008
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (-130.5381856,  39.9974567) (130d32'17.47"W, 39d59'50.84"N)
Lower Left  (-130.5381856,  29.9972622) (130d32'17.47"W, 29d59'50.14"N)
Upper Right (-103.9201705,  39.9974567) (103d55'12.61"W, 39d59'50.84"N)
Lower Right (-103.9201705,  29.9972622) (103d55'12.61"W, 29d59'50.14"N)
Center      (-117.2291781,  34.9973595) (117d13'45.04"W, 34d59'50.49"N)
Band 1 Block=5233x1 Type=Int16, ColorInterp=Gray

$ /usr/local/gdal/trunk/bin/gdal_polygonize.py testimage.tif -f 'ESRI
Shapefile' test.shp

Creating output test.shp of format ESRI Shapefile.
0...10...20...30...40...50...60...70...80...90...100 - done.

$ ogrinfo test.shp test -so

INFO: Open of `test.shp'
      using driver `ESRI Shapefile' successful.
Layer name: test
Geometry: Polygon
Feature Count: 5592
Extent: (-130.538186, 29.997262) - (-103.920171, 39.997457)
Layer SRS WKT:
(unknown)
DN: Real (11.0)


-- 
Tyler A. Erickson, Ph.D.
Research Scientist, Michigan Tech Research Institute, and 
Adjunct Assistant Professor, Dept. of Civil & Environmental Engineering
Michigan Technological University
3600 Green Court, Suite 100
Ann Arbor, MI 48105
W 83.6889?, N 42.3021? (WGS84) 
tyler.erickson@mtu.edu 
(734) 913-6846
www.mtri.org
www.michiganview.org

From warmerdam at pobox.com  Tue Oct 14 12:57:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 14 12:58:09 2008
Subject: [gdal-dev] gdal_polygonize losing the projection info?
In-Reply-To: <48F4CCD1.8090902@mtu.edu>
References: <48F4CCD1.8090902@mtu.edu>
Message-ID: <48F4CF8C.1030700@pobox.com>

Tyler Erickson wrote:
> I have been trying to use gdal_polygonize to convert a TIF to an ESRI
> Shapefile, but it seems to be losing the projection information (i.e. no
> *.prj file is created). 
> 
> The following output illustrates the loss of projection information. 
> I'm currently using gdal trunk revision 15512.
> 
> Any suggestions on how to keep the projection info?

Tyler,

This was a problem with the gdal_polygonize.py script.  I have modified it
to preserve the coordinate system when creating an output file in subversion.

http://svn.osgeo.org/gdal/trunk/gdal/swig/python/scripts/gdal_polygonize.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue Oct 14 14:46:56 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Oct 14 14:47:03 2008
Subject: [gdal-dev] Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
In-Reply-To: <48EFB93B.3040309@pobox.com>
References: <48EFB93B.3040309@pobox.com>
Message-ID: <200810142046.56233.even.rouault@mines-paris.org>

+1 

Best regards

Le Friday 10 October 2008 22:21:15 Frank Warmerdam, vous avez ?crit?:
> Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
>
> This vote should be open till late on Tuesday.  Please vote or comment
> after you have had a chance to try the release candidate.
>
> Best regards,


From szekerest at gmail.com  Tue Oct 14 17:23:06 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Oct 14 17:23:10 2008
Subject: [gdal-dev] Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
In-Reply-To: <48EFB93B.3040309@pobox.com>
References: <48EFB93B.3040309@pobox.com>
Message-ID: <f3b73b7d0810141423p6a4e1f3ibc8af29fb1927d49@mail.gmail.com>

+1 to the release.

Best regards,

Tamas


2008/10/10 Frank Warmerdam <warmerdam@pobox.com>:
> Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
>
> This vote should be open till late on Tuesday.  Please vote or comment after
> you have had a chance to try the release candidate.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From cryan at csse.com.au  Tue Oct 14 21:42:48 2008
From: cryan at csse.com.au (Fodder)
Date: Tue Oct 14 21:42:51 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <48F4B67A.2060403@pobox.com>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
Message-ID: <19985330.post@talk.nabble.com>


Hi Frank,

Thanks, this would be great, although I can't fund it in completion (Euro
>>>> Aussie dollar :) .Would you be prepared to develop just the READ side
of the driver, and what do you think that would cost (without styling)?

Alternatively, are other users/organisations interested in jointly
contributing?

On your proposal, you say that it would not support REGION, is it normal for
polygons to be recorded as special polylines in DXF (such as from AutoCAD
for example)? 

Would it support attributes, such as a DXF of contour lines with elevation
attributes?

Cheers,

Fodder



Frank Warmerdam-2 wrote:
> 
> Fodder wrote:
>> Hi All,
>> 
>> I am also very keen for an OGR DXF/DWG driver that supports reading and
>> writing. I imagine there would be many people that would take advantage
>> of
>> this capability.
>> 
>> I would also be willing to contribute financially if somebody wanted to
>> take
>> the project on board. I may not be able to fund the entire development,
>> but
>> perhaps there are others that might also contribute....
> 
> Folks,
> 
> I had a client request for a simple DXF read/write driver and prepared
> the following proposal.  It might prove to be of interest to someone
> interested in implementing DXF support.  Alternatively if someone wanted
> to fund the work I would be prepared to do it under these terms.  I'd
> prefer not to do the styling work if I could avoid it - or at least
> leave it as a follow on effort.
> 
> 
> 
> 	OGR DXF Read/Write Driver
> 	=========================
> 
> 
> Purpose
> -------
> 
> To implement a read/write OGR DXF driver.
> 
> 
> Technical Notes
> ---------------
> 
> Generally speaking the implementation will be done on the basis of the
> DXF 2000 specification from Autodesk.  Features of newer versions of DXF
> will not generally be supported, though hopefully some newer DXF files
> can be read if they use older styles of geometric objects.   The provided
> sample files were for an older version of AutoCAD than DXF 2000 and should
> be well supported.
> 
>   * At a minimum the following DXF geometry types should be supported for
>     reading:
> 
>       LINE, POLYLINE, LWPOLYLINE, POINT, VERTEX, TEXT
> 
>   * The following geometric types will be supported for reading if
> suitable
>     examples are available, and if the client indicates an interest:
> 
>       ARC, CIRCLE, 3DFACE, ELLIPSE, MLINE, SPLINE
> 
>   * There are no plans to implement the following geometric types:
> 
>       IMAGE, REGION, HATCH, OLE*, SHAPE, RAY, MTEXT, BODY, 3DSOLID,
> ATTRIB,
>       DIMENSION, INSERT, LEADER, VIEWPORT, WIPEOUT
> 
>   * When reading and writing the Polyline flag "1" code will be used to
>     mark and recognise POLYLINE objects that are actually rings of a
> polygon
>     (as is generated by the shpdxf utility for instance).
> 
>   * In general the DXF writer will write point geometries as POINT,
>     linestrings as POLYLINE and polygons as specially marked POLYLINEs.
>     Features with collection geometries (MULTIPOLYGON, MULTILINE,
> MULTIPOINT,
>     GEOMETRYCOLLECTION) will be written as if each component geometry was
> a
>     feature.
> 
>   * For the most part section of the DXF file other than the ENTITIES
> section
>     will be ignored, or written in a minimal form.
> 
>   * Each feature read will have a "LAYER" attribute.  All features in one
> DXF
>     file will be treated as a single OGRLayer (named according to the
> basename
>     of the dxf file).
> 
>   * When writing, the DXF LAYER name will be written from the
> corresponding
>     feature attribute named LAYER - if that does not exist it will be
>     written from the name associated with the OGRLayer.
> 
>   * There is no standard coordinate system definition approach for DXF,
>     so the OGR DXF driver would not support reading or writing coordinate
>     system definitions.
> 
> 
> OGR Feature Styling
> -------------------
> 
> As an optional item, an attempt will be made to capture feature styling
> (line color, line width, text size and angle, etc) in the form defined by
> the OGR Feature Style Specification:
> 
>    http://www.gdal.org/ogr/ogr_feature_style.html
> 
> This associates the feature styling with a feature in a special text
> format.  These feature style strings are utilized by a few OGR client
> applications to display features as originally intended.  Currently the
> main applications honouring OGR feature style strings are MapServer and
> OpenEV.  The other file formats supported in this manner are DGN and
> Mapinfo.
> 
> Feature styling would also be utilized to produced styled DXF entities
> if available in the source features when writing to DXF.
> 
> 
> Prototyping
> -----------
> 
> The OGR DXF read/write driver being proposed here should be considered
> to be a prototype or "limited use" DXF driver.  It will be tailored for
> the
> requirements of the particular client, and will have many limitations.  If
> a very general purpose DXF driver is desired, a second implementation
> phase
> might be contemplated, and would operate based on the lessons learned
> during
> implementation and use of this original driver.
> 
> 
> Sample Data
> -----------
> 
> During implementation a variety of sample data will be collected from the
> internet.  It is also important that the client supply a variety of sample
> datasets representative of the sorts of DXF files they desire to be able
> to read.
> 
> 
> Intellectual Property
> ---------------------
> 
> The resulting OGR DXF driver will be placed under the usual GDAL/OGR MIT/X
> style open source license.  The copyright may be held by the client, or if
> they do not wish this, by Frank Warmerdam.
> 
> The intention is to implement this component from scratch, and there
> are no expected dependencies on external libraries like DIME, dxflib or
> the Open Design Alliance libraries.
> 
> 
> Pricing
> -------
> 
> Basic Read/Write OGR DXF Driver: 2200 Euros
> 
> OGR Feature Styling: 1200 Euros
> 
> 
> Timeline
> --------
> 
> A preliminary driver would be delivered (in source form) within four weeks
> of
> proposal acceptance.  A final driver (incorporating client feedback) would
> be completed within two weeks of receiving client feedback.
> 
> 
> 
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/OGR%3A-DXF-driver-tp19899742p19985330.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From ben at remoteinformation.com.au  Tue Oct 14 23:23:43 2008
From: ben at remoteinformation.com.au (Ben Madin)
Date: Tue Oct 14 23:50:15 2008
Subject: [gdal-dev] Build gdal 1.5.2 on FreeBSD
Message-ID: <F4660261-30C8-4F17-8FEC-EDB9EF03573B@remoteinformation.com.au>

G'day all,

after failing to build 1.5.0 with the ports collection on FreeBSD I  
have downloaded sources and tried from scratch using the default  
configure (actually, I want php but for mapscript, so I don't know if  
I need to specify it here as swig was giving me enormous problems in  
the port build)

I'm really not a sources person, so apologies in advance if I have  
something really basic wrong - it took me ages to work out using gmake  
instead of make..!

so configure gave me this :

GDAL is now configured for i386-unknown-freebsd7.0

   Installation directory:    /usr/local
   C compiler:                gcc -g -O2
   C++ compiler:              g++ -g -O2

   LIBTOOL support:           yes

   LIBZ support:              external
   GRASS support:             no
   CFITSIO support:           no
   PCRaster support:          internal
   NetCDF support:            no
   LIBPNG support:            internal
   LIBTIFF support:           external (BigTIFF=no)
   LIBGEOTIFF support:        external
   LIBJPEG support:           internal
   LIBGIF support:            internal
   OGDI support:              no
   HDF4 support:              no
   HDF5 support:              no
   Kakadu support:            no
   JasPer support:            yes (GeoJP2=no)
   ECW support:               no
   MrSID support:             no
   GRIB support:              no
   cURL support (wms/wcs/...):yes
   PostgreSQL support:        yes
   MySQL support:             no
   Xerces-C support:            no
   Expat support:             yes
   ODBC support:              no
   PGeo support:              no
   OCI support:               no
   SDE support:               no
   DODS support:              no
   SQLite support:            no
   DWGdirect support          no
   PANORAMA GIS support:      no
   INFORMIX DataBlade support:no
   GEOS support:              yes


   Old-gen python          no
   SWIG Bindings:          no

   Statically link PROJ.4:    no
   enable OGR building:       yes
   enable pthread support:    no
   hide internal symbols:     no

But when I gmake, I get some OK, then :

gmake[2]: Entering directory `/usr/home/ben/gdal-1.5.2/frmts/gtiff'
/bin/sh /usr/home/ben/gdal-1.5.2/libtool --mode=compile --tag=CXX g++ - 
g -O2  -Wall  -I/usr/home/ben/gdal-1.5.2/port -I/usr/home/ben/ 
gdal-1.5.2/gcore -I/usr/home/ben/gdal-1.5.2/alg -I/usr/home/ben/ 
gdal-1.5.2/ogr -I/usr/home/ben/gdal-1.5.2/ogr/ogrsf_frmts  - 
DOGR_ENABLED -I/usr/home/ben/gdal-1.5.2/port  -c -o ../o/geotiff.o  
geotiff.cpp
libtool: compile:  g++ -g -O2 -Wall -I/usr/home/ben/gdal-1.5.2/port -I/ 
usr/home/ben/gdal-1.5.2/gcore -I/usr/home/ben/gdal-1.5.2/alg -I/usr/ 
home/ben/gdal-1.5.2/ogr -I/usr/home/ben/gdal-1.5.2/ogr/ogrsf_frmts - 
DOGR_ENABLED -I/usr/home/ben/gdal-1.5.2/port -c geotiff.cpp  -fPIC - 
DPIC -o ../o/.libs/geotiff.o
geotiff.cpp:33:20: error: tiffio.h: No such file or directory
geotiff.cpp:34:21: error: xtiffio.h: No such file or directory
geotiff.cpp:35:21: error: geotiff.h: No such file or directory
geotiff.cpp:36:27: error: geo_normalize.h: No such file or directory
geotiff.cpp:37:23: error: geovalues.h: No such file or directory
In file included from geotiff.cpp:38:
tif_ovrcache.h:46: error: 'uint32' does not name a type
tif_ovrcache.h:47: error: 'uint32' does not name a type
tif_ovrcache.h:49: error: 'uint32' does not name a type
tif_ovrcache.h:50: error: 'uint32' does not name a type
tif_ovrcache.h:51: error: 'uint16' does not name a type
tif_ovrcache.h:52: error: 'uint16' does not name a type
tif_ovrcache.h:62: error: 'toff_t' does not name a type
tif_ovrcache.h:63: error: ISO C++ forbids declaration of 'TIFF' with  
no type
tif_ovrcache.h:63: error: expected ';' before '*' token
tif_ovrcache.h:68: error: 'TIFF' was not declared in this scope
tif_ovrcache.h:68: error: 'hTIFF' was not declared in this scope
tif_ovrcache.h:68: error: expected primary-expression before 'int'
tif_ovrcache.h:68: error: initializer expression list treated as  
compound expression
tif_ovrcache.h:72: error: variable or field 'TIFFBuildOverviews'  
declared void
tif_ovrcache.h:72: error: 'TIFF' was not declared in this scope
tif_ovrcache.h:72: error: expected primary-expression before ',' token
tif_ovrcache.h:72: error: expected primary-expression before 'int'
tif_ovrcache.h:72: error: expected primary-expression before 'int'
tif_ovrcache.h:72: error: expected primary-expression before 'int'
tif_ovrcache.h:72: error: expected primary-expression before 'const'
tif_ovrcache.h:73: error: expected primary-expression before 'int'
tif_ovrcache.h:73: error: expected primary-expression before 'void'
tif_ovrcache.h:75: error: variable or field 'TIFF_ProcessFullResBlock'  
declared void
tif_ovrcache.h:75: error: 'TIFF' was not declared in this scope
tif_ovrcache.h:75: error: 'hTIFF' was not declared in this scope
tif_ovrcache.h:75: error: expected primary-expression before 'int'
tif_ovrcache.h:76: error: expected primary-expression before 'int'
tif_ovrcache.h:76: error: expected primary-expression before 'int'
tif_ovrcache.h:77: error: expected primary-expression before 'int'
tif_ovrcache.h:78: error: expected primary-expression before 'int'
tif_ovrcache.h:78: error: expected primary-expression before '*' token
tif_ovrcache.h:78: error: 'papoRawBIs' was not declared in this scope
tif_ovrcache.h:79: error: expected primary-expression before 'int'
tif_ovrcache.h:79: error: expected primary-expression before 'int'
tif_ovrcache.h:80: error: expected primary-expression before 'unsigned'
tif_ovrcache.h:81: error: expected primary-expression before 'int'
tif_ovrcache.h:81: error: expected primary-expression before 'int'
tif_ovrcache.h:82: error: expected primary-expression before 'int'
tif_ovrcache.h:82: error: expected primary-expression before 'const'
tif_ovrcache.h:84: error: 'toff_t' does not name a type
geotiff.cpp:46: error: 'GTIF' was not declared in this scope
geotiff.cpp:46: error: expected primary-expression before ',' token
geotiff.cpp:46: error: 'GTIFDefn' was not declared in this scope
geotiff.cpp:46: error: expected primary-expression before ')' token
geotiff.cpp:46: error: initializer expression list treated as compound  
expression
geotiff.cpp:47: error: 'GTIF' was not declared in this scope
geotiff.cpp:47: error: expected primary-expression before ',' token
geotiff.cpp:47: error: expected primary-expression before 'const'
geotiff.cpp:47: error: initializer expression list treated as compound  
expression
geotiff.cpp:61: error: expected constructor, destructor, or type  
conversion before '*' token
geotiff.cpp:80: error: ISO C++ forbids declaration of 'TIFF' with no  
type
geotiff.cpp:80: error: expected ';' before '*' token
geotiff.cpp:82: error: 'toff_t' does not name a type
geotiff.cpp:85: error: 'uint16' does not name a type
geotiff.cpp:86: error: 'uint16' does not name a type
geotiff.cpp:87: error: 'uint16' does not name a type
geotiff.cpp:88: error: 'uint32' does not name a type
geotiff.cpp:89: error: 'uint16' does not name a type
geotiff.cpp:90: error: 'uint16' does not name a type
geotiff.cpp:91: error: 'uint16' does not name a type
geotiff.cpp:95: error: 'uint32' does not name a type
geotiff.cpp:96: error: 'uint32' does not name a type
geotiff.cpp:120: error: 'toff_t' has not been declared
geotiff.cpp:159: error: 'TIFF' has not been declared
geotiff.cpp:159: error: 'toff_t' has not been declared
geotiff.cpp:178: error: 'TIFF' has not been declared
geotiff.cpp:179: error: 'TIFF' has not been declared
geotiff.cpp: In constructor  
'GTiffRasterBand::GTiffRasterBand(GTiffDataset*, int)':
geotiff.cpp:251: error: 'uint16' was not declared in this scope
geotiff.cpp:251: error: expected `;' before 'nSampleFormat'
geotiff.cpp:255: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:258: error: 'nSampleFormat' was not declared in this scope
geotiff.cpp:258: error: 'SAMPLEFORMAT_INT' was not declared in this  
scope
geotiff.cpp:262: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:264: error: 'nSampleFormat' was not declared in this scope
geotiff.cpp:264: error: 'SAMPLEFORMAT_INT' was not declared in this  
scope
geotiff.cpp:269: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:271: error: 'nSampleFormat' was not declared in this scope
geotiff.cpp:271: error: 'SAMPLEFORMAT_COMPLEXINT' was not declared in  
this scope
geotiff.cpp:273: error: 'SAMPLEFORMAT_IEEEFP' was not declared in this  
scope
geotiff.cpp:275: error: 'SAMPLEFORMAT_INT' was not declared in this  
scope
geotiff.cpp:280: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:282: error: 'nSampleFormat' was not declared in this scope
geotiff.cpp:282: error: 'SAMPLEFORMAT_IEEEFP' was not declared in this  
scope
geotiff.cpp:284: error: 'SAMPLEFORMAT_COMPLEXIEEEFP' was not declared  
in this scope
geotiff.cpp:286: error: 'SAMPLEFORMAT_COMPLEXINT' was not declared in  
this scope
geotiff.cpp:289: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:291: error: 'nSampleFormat' was not declared in this scope
geotiff.cpp:291: error: 'SAMPLEFORMAT_COMPLEXIEEEFP' was not declared  
in this scope
geotiff.cpp:300: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:300: error: 'PHOTOMETRIC_RGB' was not declared in this scope
geotiff.cpp:301: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:301: error: 'PHOTOMETRIC_YCBCR' was not declared in this  
scope
geotiff.cpp:302: error: 'class GTiffDataset' has no member named  
'nCompression'
geotiff.cpp:302: error: 'COMPRESSION_JPEG' was not declared in this  
scope
geotiff.cpp:314: error: 'v' was not declared in this scope
geotiff.cpp:315: error: expected `;' before 'count'
geotiff.cpp:317: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:317: error: 'TIFFTAG_EXTRASAMPLES' was not declared in  
this scope
geotiff.cpp:317: error: 'count' was not declared in this scope
geotiff.cpp:317: error: 'TIFFGetField' was not declared in this scope
geotiff.cpp:319: error: 'EXTRASAMPLE_ASSOCALPHA' was not declared in  
this scope
geotiff.cpp:330: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:340: error: 'v' was not declared in this scope
geotiff.cpp:341: error: expected `;' before 'count'
geotiff.cpp:343: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:343: error: 'TIFFTAG_EXTRASAMPLES' was not declared in  
this scope
geotiff.cpp:343: error: 'count' was not declared in this scope
geotiff.cpp:343: error: 'TIFFGetField' was not declared in this scope
geotiff.cpp:345: error: 'EXTRASAMPLE_ASSOCALPHA' was not declared in  
this scope
geotiff.cpp:356: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:356: error: 'PHOTOMETRIC_MINISBLACK' was not declared in  
this scope
geotiff.cpp:360: error: 'v' was not declared in this scope
geotiff.cpp:361: error: expected `;' before 'count'
geotiff.cpp:363: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:363: error: 'TIFFTAG_EXTRASAMPLES' was not declared in  
this scope
geotiff.cpp:363: error: 'count' was not declared in this scope
geotiff.cpp:363: error: 'TIFFGetField' was not declared in this scope
geotiff.cpp:366: error: 'class GTiffDataset' has no member named  
'nSamplesPerPixel'
geotiff.cpp:369: error: 'EXTRASAMPLE_ASSOCALPHA' was not declared in  
this scope
geotiff.cpp:381: error: 'class GTiffDataset' has no member named  
'nBlockXSize'
geotiff.cpp:382: error: 'class GTiffDataset' has no member named  
'nBlockYSize'
geotiff.cpp: In member function 'virtual CPLErr  
GTiffRasterBand::IReadBlock(int, int, void*)':
geotiff.cpp:398: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:398: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:399: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:399: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:403: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:403: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:407: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:407: error: 'PLANARCONFIG_SEPARATE' was not declared in  
this scope
geotiff.cpp:441: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:441: error: 'PLANARCONFIG_SEPARATE' was not declared in  
this scope
geotiff.cpp:446: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:446: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:448: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:449: error: 'TIFFReadEncodedTile' was not declared in this  
scope
geotiff.cpp:460: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:461: error: 'TIFFReadEncodedStrip' was not declared in  
this scope
geotiff.cpp:528: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:548: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp: In member function 'virtual CPLErr  
GTiffRasterBand::IWriteBlock(int, int, void*)':
geotiff.cpp:587: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:587: error: 'PLANARCONFIG_SEPARATE' was not declared in  
this scope
geotiff.cpp:593: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:593: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:595: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:595: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:596: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:597: error: 'TIFFWriteEncodedTile' was not declared in  
this scope
geotiff.cpp:602: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:602: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:603: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:604: error: 'TIFFWriteEncodedStrip' was not declared in  
this scope
geotiff.cpp:627: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp: In member function 'virtual CPLErr  
GTiffRasterBand::SetColorInterpretation(GDALColorInterp)':
geotiff.cpp:803: error: 'class GTiffDataset' has no member named  
'nSamplesPerPixel'
geotiff.cpp:804: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:804: error: 'PHOTOMETRIC_MINISBLACK' was not declared in  
this scope
geotiff.cpp:806: error: 'uint16' was not declared in this scope
geotiff.cpp:806: error: expected `;' before 'v'
geotiff.cpp:808: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:808: error: 'TIFFTAG_EXTRASAMPLES' was not declared in  
this scope
geotiff.cpp:808: error: 'v' was not declared in this scope
geotiff.cpp:808: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:816: error: 'class GTiffDataset' has no member named  
'nSamplesPerPixel'
geotiff.cpp:817: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:817: error: 'PHOTOMETRIC_RGB' was not declared in this scope
geotiff.cpp:819: error: 'uint16' was not declared in this scope
geotiff.cpp:819: error: expected `;' before 'v'
geotiff.cpp:821: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:821: error: 'TIFFTAG_EXTRASAMPLES' was not declared in  
this scope
geotiff.cpp:821: error: 'v' was not declared in this scope
geotiff.cpp:821: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp: In member function 'virtual CPLErr  
GTiffRasterBand::SetColorTable(GDALColorTable*)':
geotiff.cpp:860: error: 'class GTiffDataset' has no member named  
'nSamplesPerPixel'
geotiff.cpp:908: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:908: error: 'TIFFTAG_PHOTOMETRIC' was not declared in this  
scope
geotiff.cpp:908: error: 'PHOTOMETRIC_PALETTE' was not declared in this  
scope
geotiff.cpp:908: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:909: error: 'class GTiffDataset' has no member named 'hTIFF'
geotiff.cpp:909: error: 'TIFFTAG_COLORMAP' was not declared in this  
scope
geotiff.cpp: In member function 'virtual CPLErr  
GTiffRGBABand::IReadBlock(int, int, void*)':
geotiff.cpp:1064: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1064: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1066: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1069: error: 'uint32' was not declared in this scope
geotiff.cpp:1069: error: expected primary-expression before ')' token
geotiff.cpp:1069: error: 'TIFFReadRGBATile' was not declared in this  
scope
geotiff.cpp:1082: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1084: error: 'uint32' was not declared in this scope
geotiff.cpp:1084: error: expected primary-expression before ')' token
geotiff.cpp:1084: error: 'TIFFReadRGBAStrip' was not declared in this  
scope
geotiff.cpp:1106: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1106: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp: In constructor  
'GTiffBitmapBand::GTiffBitmapBand(GTiffDataset*, int)':
geotiff.cpp:1208: error: 'class GTiffDataset' has no member named  
'nPhotometric'
geotiff.cpp:1208: error: 'PHOTOMETRIC_MINISWHITE' was not declared in  
this scope
geotiff.cpp: In member function 'virtual CPLErr  
GTiffBitmapBand::IWriteBlock(int, int, void*)':
geotiff.cpp:1255: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1260: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1262: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1263: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1270: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1270: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1272: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1272: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:1273: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1274: error: 'TIFFWriteEncodedTile' was not declared in  
this scope
geotiff.cpp:1279: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1279: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:1280: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1281: error: 'TIFFWriteEncodedStrip' was not declared in  
this scope
geotiff.cpp: In member function 'virtual CPLErr  
GTiffBitmapBand::IReadBlock(int, int, void*)':
geotiff.cpp:1303: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1303: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1304: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1304: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:1308: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1308: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp: In constructor  
'GTiffOddBitsBand::GTiffOddBitsBand(GTiffDataset*, int)':
geotiff.cpp:1392: error: 'class GTiffDataset' has no member named  
'nSampleFormat'
geotiff.cpp:1392: error: 'SAMPLEFORMAT_IEEEFP' was not declared in  
this scope
geotiff.cpp:1394: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1394: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1396: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp: In member function 'virtual CPLErr  
GTiffOddBitsBand::IWriteBlock(int, int, void*)':
geotiff.cpp:1432: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:1432: error: 'PLANARCONFIG_SEPARATE' was not declared in  
this scope
geotiff.cpp:1440: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1445: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1447: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1448: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1455: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1455: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1457: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1457: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:1458: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1459: error: 'TIFFWriteEncodedTile' was not declared in  
this scope
geotiff.cpp:1464: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1464: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:1465: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1466: error: 'TIFFWriteEncodedStrip' was not declared in  
this scope
geotiff.cpp:1518: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1523: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1525: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1526: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1527: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp: In member function 'virtual CPLErr  
GTiffOddBitsBand::IReadBlock(int, int, void*)':
geotiff.cpp:1555: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1555: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1556: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1556: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:1560: error: 'class GTiffDataset' has no member named  
'hTIFF'
geotiff.cpp:1560: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:1565: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:1565: error: 'PLANARCONFIG_SEPARATE' was not declared in  
this scope
geotiff.cpp:1592: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1597: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1599: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:1599: error: 'PLANARCONFIG_SEPARATE' was not declared in  
this scope
geotiff.cpp:1603: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1612: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1628: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1633: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:1633: error: 'PLANARCONFIG_CONTIG' was not declared in  
this scope
geotiff.cpp:1635: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1636: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1640: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1687: error: 'class GTiffDataset' has no member named  
'nPlanarConfig'
geotiff.cpp:1687: error: 'PLANARCONFIG_CONTIG' was not declared in  
this scope
geotiff.cpp:1689: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1690: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1694: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1712: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1716: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp:1720: error: 'class GTiffDataset' has no member named  
'nBitsPerSample'
geotiff.cpp: In constructor 'GTiffDataset::GTiffDataset()':
geotiff.cpp:1752: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1764: error: 'nDirOffset' was not declared in this scope
geotiff.cpp: In destructor 'virtual GTiffDataset::~GTiffDataset()':
geotiff.cpp:1808: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1814: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1828: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1828: error: 'XTIFFClose' was not declared in this scope
geotiff.cpp: In member function 'CPLErr GTiffDataset::FlushBlockBuf()':
geotiff.cpp:1859: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1859: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1860: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:1862: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:1864: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1864: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1867: error: 'TIFFWriteEncodedTile' was not declared in  
this scope
geotiff.cpp:1877: error: 'TIFFWriteEncodedStrip' was not declared in  
this scope
geotiff.cpp: In member function 'CPLErr  
GTiffDataset::LoadBlockBuf(int)':
geotiff.cpp:1916: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1916: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1917: error: 'TIFFTileSize' was not declared in this scope
geotiff.cpp:1919: error: 'TIFFStripSize' was not declared in this scope
geotiff.cpp:1944: error: 'nBlockXSize' was not declared in this scope
geotiff.cpp:1947: error: 'nBlockYSize' was not declared in this scope
geotiff.cpp:1969: error: 'hTIFF' was not declared in this scope
geotiff.cpp:1969: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:1972: error: 'TIFFReadEncodedTile' was not declared in  
this scope
geotiff.cpp:1986: error: 'TIFFReadEncodedStrip' was not declared in  
this scope
geotiff.cpp: In member function 'void GTiffDataset::Crystalize()':
geotiff.cpp:2018: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2022: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2022: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:2022: error: 'TIFFWriteCheck' was not declared in this scope
geotiff.cpp:2023: error: 'TIFFWriteDirectory' was not declared in this  
scope
geotiff.cpp:2025: error: 'TIFFSetDirectory' was not declared in this  
scope
geotiff.cpp:2026: error: 'nDirOffset' was not declared in this scope
geotiff.cpp:2026: error: 'TIFFCurrentDirOffset' was not declared in  
this scope
geotiff.cpp: In member function 'int  
GTiffDataset::IsBlockAvailable(int)':
geotiff.cpp:2042: error: 'toff_t' was not declared in this scope
geotiff.cpp:2042: error: 'panByteCounts' was not declared in this scope
geotiff.cpp:2044: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2044: error: 'TIFFIsTiled' was not declared in this scope
geotiff.cpp:2045: error: 'TIFFTAG_TILEBYTECOUNTS' was not declared in  
this scope
geotiff.cpp:2045: error: 'TIFFGetField' was not declared in this scope
geotiff.cpp:2047: error: 'TIFFTAG_STRIPBYTECOUNTS' was not declared in  
this scope
geotiff.cpp: In member function 'virtual CPLErr  
GTiffDataset::IBuildOverviews(const char*, int, int*, int, int*, int  
(*)(double, const char*, void*), void*)':
geotiff.cpp:2128: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2128: error: 'TIFFFlush' was not declared in this scope
geotiff.cpp:2171: error: 'nBitsPerSample' was not declared in this scope
geotiff.cpp:2182: error: 'nPhotometric' was not declared in this scope
geotiff.cpp:2182: error: 'PHOTOMETRIC_PALETTE' was not declared in  
this scope
geotiff.cpp:2253: error: 'toff_t' was not declared in this scope
geotiff.cpp:2253: error: expected `;' before 'nOverviewOffset'
geotiff.cpp:2261: error: 'nOverviewOffset' was not declared in this  
scope
geotiff.cpp:2263: error: 'nPlanarConfig' was not declared in this scope
geotiff.cpp:2264: error: 'nSamplesPerPixel' was not declared in this  
scope
geotiff.cpp:2265: error: 'nCompression' was not declared in this scope
geotiff.cpp:2265: error: 'nPhotometric' was not declared in this scope
geotiff.cpp:2265: error: 'nSampleFormat' was not declared in this scope
geotiff.cpp:2267: error: 'TIFF_WriteOverview' was not declared in this  
scope
geotiff.cpp: In member function 'void GTiffDataset::WriteGeoTIFFInfo()':
geotiff.cpp:2394: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2394: error: 'TIFFTAG_GEOPIXELSCALE' was not declared in  
this scope
geotiff.cpp:2394: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2403: error: 'TIFFTAG_GEOTIEPOINTS' was not declared in  
this scope
geotiff.cpp:2419: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2419: error: 'TIFFTAG_GEOTRANSMATRIX' was not declared in  
this scope
geotiff.cpp:2419: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2462: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2462: error: 'TIFFTAG_GEOTIEPOINTS' was not declared in  
this scope
geotiff.cpp:2463: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2472: error: 'GTIF' was not declared in this scope
geotiff.cpp:2472: error: 'psGTIF' was not declared in this scope
geotiff.cpp:2474: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2474: error: 'GTIFNew' was not declared in this scope
geotiff.cpp:2475: error: 'GTIFSetFromOGISDefn' cannot be used as a  
function
geotiff.cpp:2481: error: 'GTRasterTypeGeoKey' was not declared in this  
scope
geotiff.cpp:2481: error: 'TYPE_SHORT' was not declared in this scope
geotiff.cpp:2482: error: 'RasterPixelIsPoint' was not declared in this  
scope
geotiff.cpp:2482: error: 'GTIFKeySet' was not declared in this scope
geotiff.cpp:2485: error: 'GTIFWriteKeys' was not declared in this scope
geotiff.cpp:2486: error: 'GTIFFree' was not declared in this scope
geotiff.cpp: At global scope:
geotiff.cpp:2551: error: 'TIFF' has not been declared
geotiff.cpp: In function 'void  
WriteMDMetadata(GDALMultiDomainMetadata*, int*, CPLXMLNode**,  
CPLXMLNode**, int)':
geotiff.cpp:2585: error: 'TIFFTAG_DOCUMENTNAME' was not declared in  
this scope
geotiff.cpp:2585: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2587: error: 'TIFFTAG_IMAGEDESCRIPTION' was not declared  
in this scope
geotiff.cpp:2587: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2589: error: 'TIFFTAG_SOFTWARE' was not declared in this  
scope
geotiff.cpp:2589: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2591: error: 'TIFFTAG_DATETIME' was not declared in this  
scope
geotiff.cpp:2591: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2593: error: 'TIFFTAG_ARTIST' was not declared in this scope
geotiff.cpp:2593: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2595: error: 'TIFFTAG_HOSTCOMPUTER' was not declared in  
this scope
geotiff.cpp:2595: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2597: error: 'TIFFTAG_COPYRIGHT' was not declared in this  
scope
geotiff.cpp:2597: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2599: error: 'TIFFTAG_XRESOLUTION' was not declared in  
this scope
geotiff.cpp:2599: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2601: error: 'TIFFTAG_YRESOLUTION' was not declared in  
this scope
geotiff.cpp:2601: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp:2603: error: 'TIFFTAG_RESOLUTIONUNIT' was not declared in  
this scope
geotiff.cpp:2603: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp: At global scope:
geotiff.cpp:2621: error: 'TIFF' has not been declared
geotiff.cpp: In static member function 'static void  
GTiffDataset::WriteMetadata(GDALDataset*, int*, int)':
geotiff.cpp:2706: error: 'TIFFSetField' was not declared in this scope
geotiff.cpp: At global scope:
geotiff.cpp:2717: error: variable or field 'WriteNoDataValue' declared  
void
geotiff.cpp:2717: error: 'TIFF' was not declared in this scope
geotiff.cpp:2717: error: 'hTIFF' was not declared in this scope
geotiff.cpp:2717: error: expected primary-expression before 'double'
geotiff.cpp:2728: error: 'int GTiffDataset::SetDirectory' is not a  
static member of 'class GTiffDataset'
geotiff.cpp:2728: error: 'toff_t' was not declared in this scope
geotiff.cpp:2730: error: expected ',' or ';' before '{' token
gmake[2]: *** [../o/geotiff.o] Error 1
gmake[2]: Leaving directory `/usr/home/ben/gdal-1.5.2/frmts/gtiff'
gmake[1]: *** [gtiff-install-obj] Error 2
gmake[1]: Leaving directory `/usr/home/ben/gdal-1.5.2/frmts'
gmake: *** [frmts-target] Error 2

So I try using configure

./configure --with-geotiff=NO

but it doesn't change the configure file output (ie still   LIBGEOTIFF  
support:        external)

so I read on and try

./configure --with-geotiff=internal

and it does change the configure output (now   LIBGEOTIFF  
support:        internal)

and it looks different, but I'm afraid it means nothing to me...

gmake[2]: Entering directory `/usr/home/ben/gdal-1.5.2/frmts/gtiff'
(cd libgeotiff; gmake install-obj)
gmake[3]: Entering directory `/usr/home/ben/gdal-1.5.2/frmts/gtiff/ 
libgeotiff'
/bin/sh /usr/home/ben/gdal-1.5.2/libtool --mode=compile --tag=CC gcc - 
c -I../../port -DOGR_ENABLED -I/usr/home/ben/gdal-1.5.2/port  -g -O2  - 
Wall -Wdeclaration-after-statement   xtiff.c -o ../../o/xtiff.o
libtool: compile:  gcc -c -I../../port -DOGR_ENABLED -I/usr/home/ben/ 
gdal-1.5.2/port -g -O2 -Wall -Wdeclaration-after-statement xtiff.c  - 
fPIC -DPIC -o ../../o/.libs/xtiff.o
In file included from xtiff.c:17:
xtiffio.h:10:20: error: tiffio.h: No such file or directory
In file included from xtiff.c:17:
xtiffio.h:69: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '*' token
xtiffio.h:70: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '*' token
xtiffio.h:71: error: expected ')' before '*' token
xtiffio.h:73: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '*' token
xtiff.c:30: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before 'xtiffFieldInfo'
xtiff.c:54: error: expected ')' before '*' token
xtiff.c:65: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '_ParentExtender'
xtiff.c:74: error: expected ')' before '*' token
xtiff.c: In function 'XTIFFInitialize':
xtiff.c:108: error: '_ParentExtender' undeclared (first use in this  
function)
xtiff.c:108: error: (Each undeclared identifier is reported only once
xtiff.c:108: error: for each function it appears in.)
xtiff.c:108: warning: implicit declaration of function  
'TIFFSetTagExtender'
xtiff.c:108: error: '_XTIFFDefaultDirectory' undeclared (first use in  
this function)
xtiff.c: At top level:
xtiff.c:134: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '*' token
xtiff.c:150: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '*' token
xtiff.c:166: error: expected '=', ',', ';', 'asm' or '__attribute__'  
before '*' token
xtiff.c:202: error: expected ')' before '*' token
gmake[3]: *** [../../o/xtiff.o] Error 1
gmake[3]: Leaving directory `/usr/home/ben/gdal-1.5.2/frmts/gtiff/ 
libgeotiff'
gmake[2]: *** [lib-geotiff] Error 2
gmake[2]: Leaving directory `/usr/home/ben/gdal-1.5.2/frmts/gtiff'
gmake[1]: *** [gtiff-install-obj] Error 2
gmake[1]: Leaving directory `/usr/home/ben/gdal-1.5.2/frmts'
gmake: *** [frmts-target] Error 2

any help would be greatfully appreciated

cheers

Ben



-- 

Ben Madin
REMOTE INFORMATION

t : +61 8 9192 5455
f : +61 8 9192 5535
m : 0448 887 220
Broome   WA   6725

ben@remoteinformation.com.au



							Out here, it pays to know...


From anton at orkney.co.jp  Wed Oct 15 01:04:46 2008
From: anton at orkney.co.jp (Anton Patrushev)
Date: Wed Oct 15 01:04:49 2008
Subject: [gdal-dev] OGR: GetField methods problem
Message-ID: <a0d5dff50810142204v3dd4ebcci7d88c04ceb43312c@mail.gmail.com>

Hi,

I have a problem with compiling my stuff for RHEL5.
I always get following errors:

/usr/include/ogr_feature.h undefined reference to
'OGRFeature::GetFieldAsDouble(int)'
/usr/include/ogr_feature.h undefined reference to
'OGRFeature::GetFieldAsInteger(int)'
/usr/include/ogr_feature.h undefined reference to
'OGRFeatureDefn::GetFieldIndex(char const*)'

I installed gdal and gdal-dev 1.4.4-1 from RPMs.
Am I missing something?

Thank you,
Anton.
From neteler at osgeo.org  Wed Oct 15 02:49:42 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Oct 15 02:49:44 2008
Subject: [gdal-dev] Build gdal 1.5.2 on FreeBSD
In-Reply-To: <F4660261-30C8-4F17-8FEC-EDB9EF03573B@remoteinformation.com.au>
References: <F4660261-30C8-4F17-8FEC-EDB9EF03573B@remoteinformation.com.au>
Message-ID: <86782b610810142349r37f00c66va45e10ca8cd5e7f7@mail.gmail.com>

On Wed, Oct 15, 2008 at 5:23 AM, Ben Madin <ben@remoteinformation.com.au> wrote:
> G'day all,
>
> after failing to build 1.5.0 with the ports collection on FreeBSD I have
> downloaded sources and tried from scratch using the default configure
...
>  NetCDF support:            no
>  LIBPNG support:            internal
>  LIBTIFF support:           external (BigTIFF=no)
>  LIBGEOTIFF support:        external

Since you requested the external LIBTIFF, you will have to install it.
Or:
run configure with additionally
   --with-geotiff=internal --with-libtiff=internal

to use the built-in LIBTIFF.

Markus
From a.neumann at carto.net  Wed Oct 15 03:28:41 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed Oct 15 03:28:44 2008
Subject: [gdal-dev] gdal and python problems
In-Reply-To: <48F4B7B8.1010904@pobox.com>
References: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>
	<48F4B7B8.1010904@pobox.com>
Message-ID: <10704.193.246.86.39.1224055721.squirrel@webmail.customers.iirc.at>

Thank you very much - problem solved. There was an indeed an old version
of libgdal around (gdal1.5.2 - also self-compiled under /usr/local/lib)

The strange thing is that the svn trunk version reports as older
(libgdal.so.1.12.0) even if it is newer than gdal1.5.2, which reports as
libgdal.so.1.12.2

Thanks again for the hint,
Andreas


> Andreas Neumann wrote:
>> Hi,
>>
>> I was compiling gdal with python support from svn-trunk and ran into the
>> same problem as described at
>>
>> http://www.nabble.com/Problem-with-gdal_polygonize.py-td19839558.html
>>
>> When I start a python script I get the following error message:
>>
>> ------------------
>> gdal_merge.py -o orthofoto_2008.tif -init 255,255,255 -v -co
>> "COMPRESS=PACKBITS" -of GTiff OF_10cm/69*.tif
>> Traceback (most recent call last):
>>   File "/usr/local/bin/gdal_merge.py", line 31, in <module>
>>     import gdal
>>   File "/usr/local/lib/python2.5/site-packages/gdal.py", line 2, in
>> <module>
>>     from osgeo.gdal import deprecation_warn
>>   File "/usr/local/lib/python2.5/site-packages/osgeo/gdal.py", line 7,
>> in
>> <module>
>>     import _gdal
>> ImportError: /usr/local/lib/python2.5/site-packages/osgeo/_gdal.so:
>> undefined symbol: GDALPolygonize
>> ------------------
>>
>> My system is Ubuntu 8.10 (Intrepid Ibex). I used the following configure
>> options:
>
> Andreas,
>
> My guess would be that the GDAL Python bindings are ending up running
> against an older libgdal.so.  Is it possible that you have a
> /usr/lib/libgdal.so that is 1.5.x and getting picked up instead of
> /usr/local/lib/libgdal.so?
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From ben at remoteinformation.com.au  Wed Oct 15 03:54:31 2008
From: ben at remoteinformation.com.au (Ben Madin)
Date: Wed Oct 15 03:54:41 2008
Subject: [gdal-dev] Build gdal 1.5.2 on FreeBSD
In-Reply-To: <86782b610810142349r37f00c66va45e10ca8cd5e7f7@mail.gmail.com>
References: <F4660261-30C8-4F17-8FEC-EDB9EF03573B@remoteinformation.com.au>
	<86782b610810142349r37f00c66va45e10ca8cd5e7f7@mail.gmail.com>
Message-ID: <2EABE25C-13E6-4E71-AB0A-BEDB9469237A@remoteinformation.com.au>

G'day Markus,

I didn't realise I needed to do both - so that got me over that hump,  
but now it is hung up on jpeg 2000 (which I don't seem to be able to  
turn off using --with-jasper=NO)

So I'm getting this...

gmake -C jpeg2000 install-obj
gmake[2]: Entering directory `/usr/home/ben/gdal-1.5.2/frmts/jpeg2000'
/bin/sh /usr/home/ben/gdal-1.5.2/libtool --mode=compile --tag=CXX g++ - 
g -O2  -Wall  -I/usr/home/ben/gdal-1.5.2/port -I/usr/home/ben/ 
gdal-1.5.2/gcore -I/usr/home/ben/gdal-1.5.2/alg -I/usr/home/ben/ 
gdal-1.5.2/ogr -I/usr/home/ben/gdal-1.5.2/ogr/ogrsf_frmts  - 
DOGR_ENABLED -I/usr/home/ben/gdal-1.5.2/port  -c -o ../o/ 
jpeg2000dataset.o jpeg2000dataset.cpp
libtool: compile:  g++ -g -O2 -Wall -I/usr/home/ben/gdal-1.5.2/port -I/ 
usr/home/ben/gdal-1.5.2/gcore -I/usr/home/ben/gdal-1.5.2/alg -I/usr/ 
home/ben/gdal-1.5.2/ogr -I/usr/home/ben/gdal-1.5.2/ogr/ogrsf_frmts - 
DOGR_ENABLED -I/usr/home/ben/gdal-1.5.2/port -c jpeg2000dataset.cpp  - 
fPIC -DPIC -o ../o/.libs/jpeg2000dataset.o
jpeg2000dataset.cpp:34:27: error: jasper/jasper.h: No such file or  
directory
jpeg2000dataset.cpp:147: error: 'jas_stream_t' has not been declared
jpeg2000dataset.cpp:148: error: 'jas_stream_t' has not been declared
jpeg2000dataset.cpp:154: warning: 'jp2_box_get' initialized and  
declared 'extern'

etc...

I've tried with --with-jpeg=internal and without in the ./configure.

I have a libjasper in /usr/local/lib, and a libjpeg - no mention of  
jpeg 2000 though.

cheers

Ben





On 15/10/2008, at 2:49 PM, Markus Neteler wrote:

> On Wed, Oct 15, 2008 at 5:23 AM, Ben Madin <ben@remoteinformation.com.au 
> > wrote:
>> G'day all,
>>
>> after failing to build 1.5.0 with the ports collection on FreeBSD I  
>> have
>> downloaded sources and tried from scratch using the default configure
> ...
>> NetCDF support:            no
>> LIBPNG support:            internal
>> LIBTIFF support:           external (BigTIFF=no)
>> LIBGEOTIFF support:        external
>
> Since you requested the external LIBTIFF, you will have to install it.
> Or:
> run configure with additionally
>   --with-geotiff=internal --with-libtiff=internal
>
> to use the built-in LIBTIFF.
>
> Markus

-- 

Ben Madin
REMOTE INFORMATION

t : +61 8 9192 5455
f : +61 8 9192 5535
m : 0448 887 220
Broome   WA   6725

ben@remoteinformation.com.au



							Out here, it pays to know...


From aurelien.kamel at magellium.fr  Wed Oct 15 10:28:19 2008
From: aurelien.kamel at magellium.fr (=?iso-8859-1?Q?Aur=E9lien_Kamel?=)
Date: Wed Oct 15 10:28:25 2008
Subject: [gdal-dev] RE: CPLXMLNode, no GetChilds()'like method ?
Message-ID: <200810151428.m9FESLqC014554@smtp02.msg.oleane.net>

I found my answer. I can use the public attribute psNext that point to the
next sibling.

Sorry.
aurel

-----Message d'origine-----
De?: Aur?lien Kamel [mailto:aurelien.kamel@magellium.fr] 
Envoy??: mercredi 15 octobre 2008 16:24
??: 'gdal-dev@lists.osgeo.org'
Objet?: CPLXMLNode, no GetChilds()'like method ?

Hello,

I have to parse a XML file in a driver I'm writing for OGR and I would like
to do a recursive method that would take a xml node as argument and then
call itself on each of the child of this node.

Is there a way to get the child list of a node with CPLXMLNode ? For the
moment I can't figure how I could do this with cpl_minixml...

http://www.gdal.org/cpl__minixml_8h.html

Thanks,
Cheers,
aurel



From warmerdam at pobox.com  Wed Oct 15 10:41:12 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 15 10:41:37 2008
Subject: [gdal-dev] Build gdal 1.5.2 on FreeBSD
In-Reply-To: <2EABE25C-13E6-4E71-AB0A-BEDB9469237A@remoteinformation.com.au>
References: <F4660261-30C8-4F17-8FEC-EDB9EF03573B@remoteinformation.com.au>
	<86782b610810142349r37f00c66va45e10ca8cd5e7f7@mail.gmail.com>
	<2EABE25C-13E6-4E71-AB0A-BEDB9469237A@remoteinformation.com.au>
Message-ID: <48F60108.6090506@pobox.com>

Ben Madin wrote:
> G'day Markus,
> 
> I didn't realise I needed to do both - so that got me over that hump, 
> but now it is hung up on jpeg 2000 (which I don't seem to be able to 
> turn off using --with-jasper=NO)

Ben,

Try instead --with-jasper=no or --without-jasper.  The configure logic
is case sensitive and does not treat NO the same as no.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From lran at unc.edu  Wed Oct 15 10:41:48 2008
From: lran at unc.edu (Limei Ran)
Date: Wed Oct 15 10:42:14 2008
Subject: [gdal-dev] get fmrt grib
In-Reply-To: <48EE573F.9070806@pobox.com>
References: <48EE53D3.40705@unc.edu> <48EE573F.9070806@pobox.com>
Message-ID: <20081015104148.94d8y8qjgo4c4go0@webmail3.isis.unc.edu>


Hi Frank:

I got gdal-svn-trunk-2008.10.14.tar.gz.  When I compiled it on Linux 
server 32bits I got the following errors:

================================
gt_overview.cpp: In function `toff_t GTIFFWriteDirectory(TIFF*, int, 
int, int, int, int, int, int, int, int, int, int, int, short unsigned 
int*, short unsigned int*, short unsigned int*, int, short unsigned 
int*, const char*)':
gt_overview.cpp:75: error: `TIFFFreeDirectory' was not declared in this scope
gt_overview.cpp:75: warning: unused variable 'TIFFFreeDirectory'
make[2]: *** [../o/gt_overview.o] Error 1
make[2]: Leaving directory 
`/nas/uncch/depts/cep/emc/lran/mims/mimssp_10_2007/src/libs/gdal-svn-trunk-2008.10.14/frmts/gtiff'
make[1]: *** [gtiff-install-obj] Error 2
make[1]: Leaving directory 
`/nas/uncch/depts/cep/emc/lran/mims/mimssp_10_2007/src/libs/gdal-svn-trunk-2008.10.14/frmts'
make: *** [frmts-target] Error 2
=================================

Could you tell me how I can fix it?

Thanks,

Limei


Quoting Frank Warmerdam:

> Limei Ran wrote:
>> Hi:
>>
>> Could you tell me how I can get grib format to build with gdal?  I 
>> am using a server and I do not have svn or I can install one.  Can I 
>> ftp grib format from somewhere?
>
> Limei,
>
> If you build from GDAL trunk (the development version) then GRIB format
> is included by default.  Try grabbing the "trunk" zip or .tar.gz from:
>
>  http://download.osgeo.org/gdal/daily/
>
> The 1.5 branch GRIB support is considerably harder to setup and I think is
> lacking in a number of other details.
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


From warmerdam at pobox.com  Wed Oct 15 10:43:47 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 15 10:44:08 2008
Subject: [gdal-dev] gdal and python problems
In-Reply-To: <10704.193.246.86.39.1224055721.squirrel@webmail.customers.iirc.at>
References: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>
	<48F4B7B8.1010904@pobox.com>
	<10704.193.246.86.39.1224055721.squirrel@webmail.customers.iirc.at>
Message-ID: <48F601A3.2000503@pobox.com>

Andreas Neumann wrote:
> Thank you very much - problem solved. There was an indeed an old version
> of libgdal around (gdal1.5.2 - also self-compiled under /usr/local/lib)
> 
> The strange thing is that the svn trunk version reports as older
> (libgdal.so.1.12.0) even if it is newer than gdal1.5.2, which reports as
> libgdal.so.1.12.2

Andreas,

This is because the svn versioning information for shared libraries is
not normally "set" until release time (ie. 1.6.0) so it is basically just
a clone of what it was for 1.5.0 release time.

I could bump the version now in svn but I will almost certainly forget
I did so at 1.6.0 release and bump it again.  I suppose version inflation
isn't really a terrible thing.  I'll go ahead and do that.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From aurelien.kamel at magellium.fr  Wed Oct 15 10:23:37 2008
From: aurelien.kamel at magellium.fr (=?iso-8859-1?Q?Aur=E9lien_Kamel?=)
Date: Wed Oct 15 10:45:42 2008
Subject: [gdal-dev] CPLXMLNode, no GetChilds()'like method ?
In-Reply-To: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>
Message-ID: <200810151423.m9FENdKU028873@smtp04.msg.oleane.net>

Hello,

I have to parse a XML file in a driver I'm writing for OGR and I would like
to do a recursive method that would take a xml node as argument and then
call itself on each of the child of this node.

Is there a way to get the child list of a node with CPLXMLNode ? For the
moment I can't figure how I could do this with cpl_minixml...

http://www.gdal.org/cpl__minixml_8h.html

Thanks,
Cheers,
aurel



From warmerdam at pobox.com  Wed Oct 15 11:02:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 15 11:02:35 2008
Subject: [gdal-dev] get fmrt grib
In-Reply-To: <20081015104148.94d8y8qjgo4c4go0@webmail3.isis.unc.edu>
References: <48EE53D3.40705@unc.edu> <48EE573F.9070806@pobox.com>
	<20081015104148.94d8y8qjgo4c4go0@webmail3.isis.unc.edu>
Message-ID: <48F605F6.7040207@pobox.com>

Limei Ran wrote:
> 
> Hi Frank:
> 
> I got gdal-svn-trunk-2008.10.14.tar.gz.  When I compiled it on Linux 
> server 32bits I got the following errors:
> 
> ================================
> gt_overview.cpp: In function `toff_t GTIFFWriteDirectory(TIFF*, int, 
> int, int, int, int, int, int, int, int, int, int, int, short unsigned 
> int*, short unsigned int*, short unsigned int*, int, short unsigned 
> int*, const char*)':
> gt_overview.cpp:75: error: `TIFFFreeDirectory' was not declared in this 
> scope
> gt_overview.cpp:75: warning: unused variable 'TIFFFreeDirectory'
> make[2]: *** [../o/gt_overview.o] Error 1
> make[2]: Leaving directory 
> `/nas/uncch/depts/cep/emc/lran/mims/mimssp_10_2007/src/libs/gdal-svn-trunk-2008.10.14/frmts/gtiff' 
> 
> make[1]: *** [gtiff-install-obj] Error 2
> make[1]: Leaving directory 
> `/nas/uncch/depts/cep/emc/lran/mims/mimssp_10_2007/src/libs/gdal-svn-trunk-2008.10.14/frmts' 
> 
> make: *** [frmts-target] Error 2
> =================================

Limei,

I have checked, and TIFFFreeDirectory() has existed in libtiff since 2003 so
I find it hard to imagine you have a libtiff so old it lacks this function.
But, try configuring with the option "--with-libtiff=internal" and see if that
helps.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Oct 15 11:10:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 15 11:11:03 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <19985330.post@talk.nabble.com>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
	<19985330.post@talk.nabble.com>
Message-ID: <48F607F1.4050102@pobox.com>

Fodder wrote:
> Hi Frank,
> 
> Thanks, this would be great, although I can't fund it in completion (Euro
>>>>> Aussie dollar :) .Would you be prepared to develop just the READ side
> of the driver, and what do you think that would cost (without styling)?

Fodder,

I would be willing to implement only read support, though it would not
reduce the pricing all that much.

> Alternatively, are other users/organisations interested in jointly
> contributing?
> 
> On your proposal, you say that it would not support REGION, is it normal for
> polygons to be recorded as special polylines in DXF (such as from AutoCAD
> for example)? 

I'm afraid I'm not entirely sure what is normal.  I reviewed DXF docs,
a couple example files, and the GRASS DXF import program in preparing the
proposal, but DXF is still a bit of a mystery to me.  The proposal was
deliberately simplistic to match my current level of understanding.

> Would it support attributes, such as a DXF of contour lines with elevation
> attributes?

Generally no, though there is some opportunity improve the driver a bit
for easily recognizable attributes.  I have avoided doing a DXF driver for
many years because while the format is not so complicated, there are a
wide variety of ways for applications to encode complete geometries and
attach attributes.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From a.neumann at carto.net  Wed Oct 15 11:12:17 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed Oct 15 11:12:21 2008
Subject: [gdal-dev] gdal and python problems
In-Reply-To: <48F601A3.2000503@pobox.com>
References: <33303.193.246.86.39.1223994284.squirrel@webmail.customers.iirc.at>
	<48F4B7B8.1010904@pobox.com>
	<10704.193.246.86.39.1224055721.squirrel@webmail.customers.iirc.at>
	<48F601A3.2000503@pobox.com>
Message-ID: <27263.193.246.86.39.1224083537.squirrel@webmail.customers.iirc.at>

> This is because the svn versioning information for shared libraries is
> not normally "set" until release time (ie. 1.6.0) so it is basically just
> a clone of what it was for 1.5.0 release time.
>
> I could bump the version now in svn but I will almost certainly forget
> I did so at 1.6.0 release and bump it again.  I suppose version inflation
> isn't really a terrible thing.  I'll go ahead and do that.

not a problem at all. One just has to be aware about it.

I am glad it works fine now.

Andreas

-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From a.neumann at carto.net  Wed Oct 15 11:18:37 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed Oct 15 11:18:41 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <48F607F1.4050102@pobox.com>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
	<19985330.post@talk.nabble.com> <48F607F1.4050102@pobox.com>
Message-ID: <37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>

Frank,

can you do a very rough estimate how much it would cost to implement the
read/write dxf driver based on your proposal? Would you deal with dwgs
also, or just dxf - how similar/different are dxf and dwg?

We could help financing it, but not the whole thing. If a couple of
interested parties would collaborate for the financing it could work.

dxf would definitely be interesting to have in ogr. I know that there can
be a wide variety of dxf files from the different products that generate
dxf.

Andreas


> Fodder wrote:
>> Hi Frank,
>>
>> Thanks, this would be great, although I can't fund it in completion
>> (Euro
>>>>>> Aussie dollar :) .Would you be prepared to develop just the READ
>>>>>> side
>> of the driver, and what do you think that would cost (without styling)?
>
> Fodder,
>
> I would be willing to implement only read support, though it would not
> reduce the pricing all that much.
>
>> Alternatively, are other users/organisations interested in jointly
>> contributing?
>>
>> On your proposal, you say that it would not support REGION, is it normal
>> for
>> polygons to be recorded as special polylines in DXF (such as from
>> AutoCAD
>> for example)?
>
> I'm afraid I'm not entirely sure what is normal.  I reviewed DXF docs,
> a couple example files, and the GRASS DXF import program in preparing the
> proposal, but DXF is still a bit of a mystery to me.  The proposal was
> deliberately simplistic to match my current level of understanding.
>
>> Would it support attributes, such as a DXF of contour lines with
>> elevation
>> attributes?
>
> Generally no, though there is some opportunity improve the driver a bit
> for easily recognizable attributes.  I have avoided doing a DXF driver for
> many years because while the format is not so complicated, there are a
> wide variety of ways for applications to encode complete geometries and
> attach attributes.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From warmerdam at pobox.com  Wed Oct 15 11:35:39 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 15 11:35:57 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
	<19985330.post@talk.nabble.com> <48F607F1.4050102@pobox.com>
	<37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>
Message-ID: <48F60DCB.5090607@pobox.com>

Andreas Neumann wrote:
> Frank,
> 
> can you do a very rough estimate how much it would cost to implement the
> read/write dxf driver based on your proposal? 

Andreas,

I think the proposal already covered the pricing for a read/write dxf
driver.  It was 2200 euros which is a fixed quote - not an estimate.

 > Would you deal with dwgs
> also, or just dxf - how similar/different are dxf and dwg?

Absolutely not DWGs.  They are a completely different file format,
though one can imagine that the data models are closely related.
Implementing DWG read support without using the open design alliance
libraries would run at least two orders of magnitude more money and
I just wouldn't have the time to do it anyways.

> We could help financing it, but not the whole thing. If a couple of
> interested parties would collaborate for the financing it could work.

I'm not especially interested in collecting multiple contributors for this
task.  I have done this in the past and serving multiple masters on one
(tiny) contract does not make my end of things any easier.  If a couple
organizations wanted to get together to fund it, I would still want to
serve one technical point of contact for the purposes of reviewing and
accepting deliverables.

> dxf would definitely be interesting to have in ogr. I know that there can
> be a wide variety of dxf files from the different products that generate
> dxf.

Right - it is important to realize that what I propose is a fairly
simplistic DXF driver - not an attempt to do an all-singing, all-dancing
job.

I would note that the activity is not terribly complicated, and I would
welcome others taking a crack at it.  I am not particularly trying to drum
up business for myself here.

I should also note that there is a contributed "write only" dxf driver
sitting in Trac currently waiting for integration.  It is using dxflib
(which I'm not so keen on), and doesn't do the read side that is of
greatest interest.  But it might be a base on which someone could build
the read side of things.

   http://trac.osgeo.org/gdal/ticket/2555

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bfraser at geoanalytic.com  Wed Oct 15 11:56:50 2008
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Oct 15 11:59:04 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <48F60DCB.5090607@pobox.com>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>	<19965390.post@talk.nabble.com>
	<48F4B67A.2060403@pobox.com>	<19985330.post@talk.nabble.com>
	<48F607F1.4050102@pobox.com>	<37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>
	<48F60DCB.5090607@pobox.com>
Message-ID: <48F612C2.3020709@geoanalytic.com>



Frank Warmerdam wrote:
>> 
> I would note that the activity is not terribly complicated, and I would
> welcome others taking a crack at it.  I am not particularly trying to drum
> up business for myself here.
> 
> I should also note that there is a contributed "write only" dxf driver
> sitting in Trac currently waiting for integration.  It is using dxflib
> (which I'm not so keen on), and doesn't do the read side that is of
> greatest interest.  But it might be a base on which someone could build
> the read side of things.
> 
>   http://trac.osgeo.org/gdal/ticket/2555
> 
> Best regards,

Frank,

  FYI, there's a minimalist DXF reader in VTP (VTP\TerrainSDK\vtdata\DxfParser.cpp).  Likely a little too c++ for GDAL/OGR to be used as-is, but might be a useful supplement to the doc you've gathered (and the licensing is as libre as it gets).

Brent Fraser
From jaadfoo at gmail.com  Wed Oct 15 13:29:49 2008
From: jaadfoo at gmail.com (Jamie Adams)
Date: Wed Oct 15 13:29:52 2008
Subject: [gdal-dev] error using gdaltindex on grass rasters
Message-ID: <f4339510810151029k5b02db5co55016aae116a52d9@mail.gmail.com>

Hello all,

I needed to create a shapefile index of all the rasters in a grass mapset so
I ran:

ls /grass/location/mapset/cellhd/* | xargs gdaltindex all.shp

and got this error:

Warning 1: GRASS warning: Unable to open datum table file
</usr/local/share/gdal/grass//etc/datum.table>
/usr/local/share/gdal/grass//etc/ellipse.table: No such file or directory
Warning 1: GRASS warning: Unable to open ellipsoid table file
</usr/local/share/gdal/grass//etc/ellipse.table>
Warning 1: GRASS fatal error: Invalid ellipsoid <wgs84> in file

I created a symlink 'grass' in /usr/local/share/gdal/ pointing to my grass
install root, and that seemed to fix the issue.

I built both gdal and grass from source, plus added gdal-grass read support
via http://trac.osgeo.org/gdal/wiki/GRASS.  Should gdaltindex work as-is, or
did I miss a step somewhere?


Thanks,

-Jamie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081015/88d578e4/attachment.html
From a.neumann at carto.net  Wed Oct 15 15:46:50 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed Oct 15 15:46:55 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <48F60DCB.5090607@pobox.com>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
	<19985330.post@talk.nabble.com> <48F607F1.4050102@pobox.com>
	<37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>
	<48F60DCB.5090607@pobox.com>
Message-ID: <48F648AA.1030409@carto.net>

Hi Frank,
>
> I think the proposal already covered the pricing for a read/write dxf
> driver.  It was 2200 euros which is a fixed quote - not an estimate.
>

hm, seems I did not read it to the end. Sorry. Euro 2200 seems 
reasonable and should not be a problem to raise. I expected it to be 
more expensive.

In your proposal you mention that arcs and other curves could be 
supported if the client has interest in it. In Switzerland, Arcs are 
widely used in survey data. Support for arcs would be important. Do you 
plan to convert those arcs to vertices, similar to the Interlis driver? 
For the long-term - are there plans for upcoming ogr versions to support 
the transformation of arcs and curves? More and more formats support 
them and it would be great if an upcoming ogr version could handle arcs.
> > Would you deal with dwgs
>> also, or just dxf - how similar/different are dxf and dwg?
>
> Absolutely not DWGs.  They are a completely different file format,
> though one can imagine that the data models are closely related.
> Implementing DWG read support without using the open design alliance
> libraries would run at least two orders of magnitude more money and
> I just wouldn't have the time to do it anyways.
thanks for clarifying this.

>> We could help financing it, but not the whole thing. If a couple of
>> interested parties would collaborate for the financing it could work.
>
> I'm not especially interested in collecting multiple contributors for 
> this
> task.  I have done this in the past and serving multiple masters on one
> (tiny) contract does not make my end of things any easier.  If a couple
> organizations wanted to get together to fund it, I would still want to
> serve one technical point of contact for the purposes of reviewing and
> accepting deliverables.

I understand. It is not a big contract. I will see who could take the 
lead. I know of several organizations in Switzerland who would have an 
interest in an OGR dxf driver, in particular if it would enable the 
display of dxf files within QuantumGIS. I will investigate and see who 
could be the single point of contact for you.

>> dxf would definitely be interesting to have in ogr. I know that there 
>> can
>> be a wide variety of dxf files from the different products that generate
>> dxf.
>
> Right - it is important to realize that what I propose is a fairly
> simplistic DXF driver - not an attempt to do an all-singing, all-dancing
> job.
>
Sure - it is more a client/demand driven project.

I will get back about it in the next couple days.

Andreas

-- 
--
Andreas Neumann
B?schacherstrasse 6
CH-8624 Gr?t (Gossau ZH)
Switzerland
Phone: ++41-44-2736668
Email: a.neumann@carto.net

Web: http://www.carto.net/neumann/
SVG Examples: http://www.carto.net/papers/svg/samples/
SVG.Open: http://www.svgopen.org/

From warmerdam at pobox.com  Wed Oct 15 16:12:45 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 15 16:13:03 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <48F648AA.1030409@carto.net>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
	<19985330.post@talk.nabble.com> <48F607F1.4050102@pobox.com>
	<37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>
	<48F60DCB.5090607@pobox.com> <48F648AA.1030409@carto.net>
Message-ID: <48F64EBD.8000109@pobox.com>

Andreas Neumann wrote:
> In your proposal you mention that arcs and other curves could be 
> supported if the client has interest in it. In Switzerland, Arcs are 
> widely used in survey data. Support for arcs would be important. Do you 
> plan to convert those arcs to vertices, similar to the Interlis driver? 
> For the long-term - are there plans for upcoming ogr versions to support 
> the transformation of arcs and curves? More and more formats support 
> them and it would be great if an upcoming ogr version could handle arcs.

Andreas,

If curves are supported they would be approximated using line
strings as is done in several other drivers.

There is a new (a couple years old now) simple features geometry
model from OGC that includes some kinds of curves.  I would like
to upgrade OGR to support this new geometry model at some point but
this is a substantial effort and demand for this upgrade has been
weak so far.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jeremiahosullivan at gmail.com  Wed Oct 15 16:41:24 2008
From: jeremiahosullivan at gmail.com (Jerry O'Sullivan)
Date: Wed Oct 15 16:41:27 2008
Subject: [gdal-dev] OGR and C#
Message-ID: <67fe0b0810151341q3fecff05vd3cd979f72c86680@mail.gmail.com>

Hi,

I have got OGR working in my C# app by adding FWTools bin folder to PATH
during run-time. I would like to be able to distribute my application
without the requirement for the user's PC to have FWTools installed.

Is it possible to just include the dlls in the bin folder and if so what
dlls do I need

Any advice would be greatly appreciated

Thanks,
Jerry
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081015/53db111e/attachment.html
From neteler at osgeo.org  Wed Oct 15 16:45:52 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Oct 15 16:45:55 2008
Subject: [gdal-dev] error using gdaltindex on grass rasters
In-Reply-To: <f4339510810151029k5b02db5co55016aae116a52d9@mail.gmail.com>
References: <f4339510810151029k5b02db5co55016aae116a52d9@mail.gmail.com>
Message-ID: <86782b610810151345j7a0b5314j2100a178b645db25@mail.gmail.com>

On Wed, Oct 15, 2008 at 7:29 PM, Jamie Adams <jaadfoo@gmail.com> wrote:
> Hello all,
>
> I needed to create a shapefile index of all the rasters in a grass mapset so
> I ran:
>
> ls /grass/location/mapset/cellhd/* | xargs gdaltindex all.shp
>
> and got this error:
>
> Warning 1: GRASS warning: Unable to open datum table file
> </usr/local/share/gdal/grass//etc/datum.table>
> /usr/local/share/gdal/grass//etc/ellipse.table: No such file or directory
> Warning 1: GRASS warning: Unable to open ellipsoid table file
> </usr/local/share/gdal/grass//etc/ellipse.table>
> Warning 1: GRASS fatal error: Invalid ellipsoid <wgs84> in file

Since GDAL 1.3.1 it should be resolved, see
http://trac.osgeo.org/gdal/ticket/822

Which version do you use?

Markus

> I created a symlink 'grass' in /usr/local/share/gdal/ pointing to my grass
> install root, and that seemed to fix the issue.
>
> I built both gdal and grass from source, plus added gdal-grass read support
> via http://trac.osgeo.org/gdal/wiki/GRASS.  Should gdaltindex work as-is, or
> did I miss a step somewhere?
>
>
> Thanks,
>
> -Jamie
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Open Source Geospatial Foundation
http://www.osgeo.org/
http://www.grassbook.org/
From jaadfoo at gmail.com  Wed Oct 15 16:47:47 2008
From: jaadfoo at gmail.com (Jamie Adams)
Date: Wed Oct 15 16:47:49 2008
Subject: [gdal-dev] error using gdaltindex on grass rasters
In-Reply-To: <86782b610810151345j7a0b5314j2100a178b645db25@mail.gmail.com>
References: <f4339510810151029k5b02db5co55016aae116a52d9@mail.gmail.com>
	<86782b610810151345j7a0b5314j2100a178b645db25@mail.gmail.com>
Message-ID: <f4339510810151347y6a5b864ax784dcd78e0568721@mail.gmail.com>

I'm using GDAL 1.5.2 built on Ubuntu 8.04.

On Wed, Oct 15, 2008 at 1:45 PM, Markus Neteler <neteler@osgeo.org> wrote:

> On Wed, Oct 15, 2008 at 7:29 PM, Jamie Adams <jaadfoo@gmail.com> wrote:
> > Hello all,
> >
> > I needed to create a shapefile index of all the rasters in a grass mapset
> so
> > I ran:
> >
> > ls /grass/location/mapset/cellhd/* | xargs gdaltindex all.shp
> >
> > and got this error:
> >
> > Warning 1: GRASS warning: Unable to open datum table file
> > </usr/local/share/gdal/grass//etc/datum.table>
> > /usr/local/share/gdal/grass//etc/ellipse.table: No such file or directory
> > Warning 1: GRASS warning: Unable to open ellipsoid table file
> > </usr/local/share/gdal/grass//etc/ellipse.table>
> > Warning 1: GRASS fatal error: Invalid ellipsoid <wgs84> in file
>
> Since GDAL 1.3.1 it should be resolved, see
> http://trac.osgeo.org/gdal/ticket/822
>
> Which version do you use?
>
> Markus
>
> > I created a symlink 'grass' in /usr/local/share/gdal/ pointing to my
> grass
> > install root, and that seemed to fix the issue.
> >
> > I built both gdal and grass from source, plus added gdal-grass read
> support
> > via http://trac.osgeo.org/gdal/wiki/GRASS.  Should gdaltindex work
> as-is, or
> > did I miss a step somewhere?
> >
> >
> > Thanks,
> >
> > -Jamie
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
>
> --
> Open Source Geospatial Foundation
> http://www.osgeo.org/
> http://www.grassbook.org/
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081015/0cbfbfb5/attachment.html
From szekerest at gmail.com  Wed Oct 15 17:00:22 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Oct 15 17:00:27 2008
Subject: [gdal-dev] OGR and C#
In-Reply-To: <67fe0b0810151341q3fecff05vd3cd979f72c86680@mail.gmail.com>
References: <67fe0b0810151341q3fecff05vd3cd979f72c86680@mail.gmail.com>
Message-ID: <f3b73b7d0810151400g1d6aa660yfd592f9d4281c98a@mail.gmail.com>

Jerry,

It depends on which drivers/features are actually used by your OGR
script, my best advice is to copy *.dll into your executing directory.
You could narrow down the required set of the dll-s by inspecting the
dependencies by using the dependency walker tool or use SysInternals
filemon to see which dll-s have been loaded at run-time.

Best regards,

Tamas




2008/10/15 Jerry O'Sullivan <jeremiahosullivan@gmail.com>:
> Hi,
>
> I have got OGR working in my C# app by adding FWTools bin folder to PATH
> during run-time. I would like to be able to distribute my application
> without the requirement for the user's PC to have FWTools installed.
>
> Is it possible to just include the dlls in the bin folder and if so what
> dlls do I need
>
> Any advice would be greatly appreciated
>
> Thanks,
> Jerry
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From jeremiahosullivan at gmail.com  Wed Oct 15 17:03:01 2008
From: jeremiahosullivan at gmail.com (Jerry O'Sullivan)
Date: Wed Oct 15 17:03:03 2008
Subject: [gdal-dev] OGR and C#
In-Reply-To: <f3b73b7d0810151400g1d6aa660yfd592f9d4281c98a@mail.gmail.com>
References: <67fe0b0810151341q3fecff05vd3cd979f72c86680@mail.gmail.com>
	<f3b73b7d0810151400g1d6aa660yfd592f9d4281c98a@mail.gmail.com>
Message-ID: <67fe0b0810151403o5ddb8faex63d9afccdfb2629d@mail.gmail.com>

Tamas,

Thanks for that, filemon is a good idea...I'll go snooping!

Thanks,
Jerry

2008/10/15 Tamas Szekeres <szekerest@gmail.com>

> Jerry,
>
> It depends on which drivers/features are actually used by your OGR
> script, my best advice is to copy *.dll into your executing directory.
> You could narrow down the required set of the dll-s by inspecting the
> dependencies by using the dependency walker tool or use SysInternals
> filemon to see which dll-s have been loaded at run-time.
>
> Best regards,
>
> Tamas
>
>
>
>
> 2008/10/15 Jerry O'Sullivan <jeremiahosullivan@gmail.com>:
> > Hi,
> >
> > I have got OGR working in my C# app by adding FWTools bin folder to PATH
> > during run-time. I would like to be able to distribute my application
> > without the requirement for the user's PC to have FWTools installed.
> >
> > Is it possible to just include the dlls in the bin folder and if so what
> > dlls do I need
> >
> > Any advice would be greatly appreciated
> >
> > Thanks,
> > Jerry
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081015/d8185f54/attachment.html
From daniele.romagnoli at geo-solutions.it  Thu Oct 16 04:02:07 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Thu Oct 16 04:02:19 2008
Subject: [gdal-dev] Supporting ECW as GDAL plugin.
Message-ID: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>

Hi list,
I would like to get some information about how to support ECW as a GDAL's
plugin.
Andrea Aime, back from the FOSS4G, have proposed to improve the support to
ECW format offered by our ImageIO-Ext project,
by leveraging on GDAL plugin mechanism.
Which steps are involved to support ECW Driver as a plugin? (on both
Windows/Linux).
Should I also tweak the java bindings generation step to handle this?

Any information/suggestion/link would be greatly appreciated. (I have
already taken a look at ticket 2385)

Thank you very much.
Regards,
Daniele

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081016/318aeb7e/attachment.html
From aurelien.kamel at magellium.fr  Thu Oct 16 04:29:45 2008
From: aurelien.kamel at magellium.fr (=?iso-8859-1?Q?Aur=E9lien_Kamel?=)
Date: Thu Oct 16 04:29:49 2008
Subject: [gdal-dev] RE: CPLXMLNode, no GetChilds()'like method ?
In-Reply-To: <200810151428.m9FESLqC014554@smtp02.msg.oleane.net>
Message-ID: <200810160829.m9G8TjSX009639@smtp06.msg.oleane.net>

Actually I have one more question for you. Imagine you have an xml file like
this :

---- start of xml file ----
<?xml version="1.0"?>

<a b="xxx">
  <b>
    ...
  </b>
</a>
---- end of xml file ----

How can you access to the node "a" if you don't know its name ? I tried to
do a recursive function that would loop on all the nodes of the file
starting from ROOT.

With the following code I'll only recurse on the "<?xml version="1.0"?>"
node.

bool
MyDriver::parse(const char *filename) {
  CPLXMLNode* xmlNode = CPLParseXMLFile(filename);
  If (!xmlNode) return false;
  return parseLoop(xmlNode);
}

bool
MyDriver::parseLoop(CPLXMLNode *node) {
  std::cout << "Currently recursing on node: " << node->pszValue <<
std::endl;
  
  for (CPLXMLNode *brother = node->psChild;
       brother;
       brother = brother->psNext)
    if (!parseLoop(brother)) return false;

  return true;
}

Any idea how I'll could recurse on all the nodes that are child of ROOT ?

Thanks,
aurel

-----Message d'origine-----
De?: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] De la part de Aur?lien Kamel
Envoy??: mercredi 15 octobre 2008 16:28
??: gdal-dev@lists.osgeo.org
Objet?: [gdal-dev] RE: CPLXMLNode, no GetChilds()'like method ?

I found my answer. I can use the public attribute psNext that point to the
next sibling.

Sorry.
aurel

-----Message d'origine-----
De?: Aur?lien Kamel [mailto:aurelien.kamel@magellium.fr] 
Envoy??: mercredi 15 octobre 2008 16:24
??: 'gdal-dev@lists.osgeo.org'
Objet?: CPLXMLNode, no GetChilds()'like method ?

Hello,

I have to parse a XML file in a driver I'm writing for OGR and I would like
to do a recursive method that would take a xml node as argument and then
call itself on each of the child of this node.

Is there a way to get the child list of a node with CPLXMLNode ? For the
moment I can't figure how I could do this with cpl_minixml...

http://www.gdal.org/cpl__minixml_8h.html

Thanks,
Cheers,
aurel



_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From anton at orkney.co.jp  Thu Oct 16 04:38:09 2008
From: anton at orkney.co.jp (Anton Patrushev)
Date: Thu Oct 16 04:38:12 2008
Subject: [gdal-dev] OGR: GetField methods problem
In-Reply-To: <86782b610810160121n66fb375fg57c149b11cd9ad9d@mail.gmail.com>
References: <a0d5dff50810142204v3dd4ebcci7d88c04ceb43312c@mail.gmail.com>
	<86782b610810142344o467e779eq3f35a5acca4d70b0@mail.gmail.com>
	<a0d5dff50810160112h2395f25cva79d03b21f259b98@mail.gmail.com>
	<86782b610810160121n66fb375fg57c149b11cd9ad9d@mail.gmail.com>
Message-ID: <a0d5dff50810160138s6400a9c3xbb1f8a861094a562@mail.gmail.com>

Oh, my!
I thought I'm replying to the list! Sorry.

My message is quoted below anyway.

Anton.

On 10/16/08, Markus Neteler <neteler@osgeo.org> wrote:
> Hi Anton,
>
>
>  On Thu, Oct 16, 2008 at 10:12 AM, Anton Patrushev <anton@orkney.co.jp> wrote:
>  > Hi Markus,
>  >
>  > I installed the newer version for Ubuntu and it works flawlessly.
>  > Thank you.
>
>
> Great - please also tell the list :)
>
>  cheers
>  Markus
>
>
>  > On 10/15/08, Markus Neteler <neteler@osgeo.org> wrote:
>  >> Hi Anton,
>  >>
>  >>
>  >>  On Wed, Oct 15, 2008 at 7:04 AM, Anton Patrushev <anton@orkney.co.jp> wrote:
>  >>  > Hi,
>  >>  >
>  >>  > I have a problem with compiling my stuff for RHEL5.
>  >>  > I always get following errors:
>  >>  >
>  >>  > /usr/include/ogr_feature.h undefined reference to
>  >>  > 'OGRFeature::GetFieldAsDouble(int)'
>  >>  > /usr/include/ogr_feature.h undefined reference to
>  >>  > 'OGRFeature::GetFieldAsInteger(int)'
>  >>  > /usr/include/ogr_feature.h undefined reference to
>  >>  > 'OGRFeatureDefn::GetFieldIndex(char const*)'
>  >>  >
>  >>  > I installed gdal and gdal-dev 1.4.4-1 from RPMs.
>  >>  > Am I missing something?
>  >>
>  >>
>  >> 1.4.4 is fairly old, see
>  >>  http://trac.osgeo.org/gdal/wiki#Releases
>  >>
>  >>  Maybe a newer version would help (you may try to take the
>  >>  SRPM, extract the SPEC file and apply it to 1.5.2).
>  >>
>  >>
>  >>  Markus
>  >>
>  >
>
>
>
>
> --
>  Open Source Geospatial Foundation
>  http://www.osgeo.org/
>  http://www.grassbook.org/
>
From a.neumann at carto.net  Thu Oct 16 06:48:24 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Oct 16 06:48:29 2008
Subject: [gdal-dev] Supporting ECW as GDAL plugin.
In-Reply-To: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
References: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
Message-ID: <25493.193.246.86.39.1224154104.squirrel@webmail.customers.iirc.at>

Hi Daniele,

You need to install the ecw libraries. For Unix/Linux/MacOSX you need to
compile from source. You can get the libraries from
http://www.ermapper.com/ProductView.aspx?t=131 - after installing the
libraries you need to tell gdal where to find them and re-compile gdal.

I don't know what the exact licence terms are. It is a commercial product
and in the past there was a limitation that files with the public version
could not grow past 500MB in size, which is pretty severe limitation.

The binary versions fwtools (http://fwtools.maptools.org/) should contain
ecw support, but I don't know if the limitation exists or not.

Because of this limitation I am currently not using ecw.

Maybe there was a change in the licence terms, however. I am not totally
up to date.

See also http://www.gdal.org/frmt_ecw.html

> Hi list,
> I would like to get some information about how to support ECW as a GDAL's
> plugin.
> Andrea Aime, back from the FOSS4G, have proposed to improve the support to
> ECW format offered by our ImageIO-Ext project,
> by leveraging on GDAL plugin mechanism.
> Which steps are involved to support ECW Driver as a plugin? (on both
> Windows/Linux).
> Should I also tweak the java bindings generation step to handle this?
>
> Any information/suggestion/link would be greatly appreciated. (I have
> already taken a look at ticket 2385)
>
> Thank you very much.
> Regards,
> Daniele
>
> --
> -------------------------------------------------------
> Eng. Daniele Romagnoli
> Software Engineer
>
> GeoSolutions S.A.S.
> Via Carignoni 51
> 55041 Camaiore (LU)
> Italy
>
> phone: +39 0584983027
> fax:     +39 0584983027
> mob:   +39 328 0559267
>
>
> http://www.geo-solutions.it
>
> -------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From James_Cook at blm.gov  Thu Oct 16 09:46:25 2008
From: James_Cook at blm.gov (James_Cook@blm.gov)
Date: Thu Oct 16 09:58:12 2008
Subject: [gdal-dev] Reprojection of textual lat-longs from Python script
Message-ID: <OFAB3D7145.5CCB84CD-ON872574E4.004B4CC2-872574E4.004BA946@blm.gov>


I understand that GDAL/OGR includes the Proj.4 library, but I haven't found
any documentation explaining how I can transform a textfile of NAD27
coordinates to NAD83 from a Python script.  Can anyone point me in the
right direction?

Jim Cook, GIS Specialist
BLM  Colorado State Office
2850 Youngfield Street
Lakewood, CO 80215
303.239.3692
james_cook@blm.gov



From warmerdam at pobox.com  Thu Oct 16 11:11:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 16 11:12:15 2008
Subject: [gdal-dev] Reprojection of textual lat-longs from Python script
In-Reply-To: <OFAB3D7145.5CCB84CD-ON872574E4.004B4CC2-872574E4.004BA946@blm.gov>
References: <OFAB3D7145.5CCB84CD-ON872574E4.004B4CC2-872574E4.004BA946@blm.gov>
Message-ID: <48F759B7.7080700@pobox.com>

James_Cook@blm.gov wrote:
> I understand that GDAL/OGR includes the Proj.4 library, but I haven't found
> any documentation explaining how I can transform a textfile of NAD27
> coordinates to NAD83 from a Python script.  Can anyone point me in the
> right direction?

Jim,

There is some information on GDAL/OGR coordinate system services (in terms
of the C++ API) at:

   http://www.gdal.org/ogr/osr_tutorial.html

You might also find the following python script useful as an example
of coordinate system services:

   http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/tolatlong.py

Also, from the commandline you could use the following to transform
a text file of NAD27 points to NAD83:

  gdaltransform -s_srs NAD27 -t_srs NAD83 < nad27.txt > nad83.txt

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Oct 16 11:27:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 16 11:27:56 2008
Subject: [gdal-dev] RE: CPLXMLNode, no GetChilds()'like method ?
In-Reply-To: <200810160829.m9G8TjSX009639@smtp06.msg.oleane.net>
References: <200810160829.m9G8TjSX009639@smtp06.msg.oleane.net>
Message-ID: <48F75D61.3070502@pobox.com>

Aur?lien Kamel wrote:
> Actually I have one more question for you. Imagine you have an xml file like
> this :
> 
> ---- start of xml file ----
> <?xml version="1.0"?>
> 
> <a b="xxx">
>   <b>
>     ...
>   </b>
> </a>
> ---- end of xml file ----
> 
> How can you access to the node "a" if you don't know its name ? I tried to
> do a recursive function that would loop on all the nodes of the file
> starting from ROOT.
> 
> With the following code I'll only recurse on the "<?xml version="1.0"?>"
> node.
> 
> bool
> MyDriver::parse(const char *filename) {
>   CPLXMLNode* xmlNode = CPLParseXMLFile(filename);
>   If (!xmlNode) return false;
>   return parseLoop(xmlNode);
> }
> 
> bool
> MyDriver::parseLoop(CPLXMLNode *node) {
>   std::cout << "Currently recursing on node: " << node->pszValue <<
> std::endl;
>   
>   for (CPLXMLNode *brother = node->psChild;
>        brother;
>        brother = brother->psNext)
>     if (!parseLoop(brother)) return false;
> 
>   return true;
> }
> 
> Any idea how I'll could recurse on all the nodes that are child of ROOT ?

Aurel,

The code looks ok except that it misses the siblings of the root node.
In a case like the above file the "a" element will be a sibling of the
<?xml...> node, not a child.

There are numerous examples of code for recursing and searching the XML
document in gdal/port/cpl_minixml.cpp.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From a.neumann at carto.net  Thu Oct 16 11:27:53 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Thu Oct 16 11:27:58 2008
Subject: [gdal-dev] mod_python problems, bigtiff
Message-ID: <32323.193.246.86.39.1224170873.squirrel@webmail.customers.iirc.at>

Hi,

I have a very simple python script that queries some metadata from raster
images. The script works fine on the console and in a web application with
mod_python. I am still rather new to python and mod_python.

A problem arises when I query meta information of big tiff files, larger
than 4GB. In this case the script works fine when I run it from the
command line, but fails when I run it from the server with mod_python.

Here is the error message from the apache error-log:

--------------

[Thu Oct 16 17:22:00 2008] [notice] mod_python (pid=32194,
interpreter='srv139.stadt-uster.ch'): Importing module
'/home/www/www/datenextraktion_dev/extract_meta.py'
ERROR 1:
/home/www/mapserverdata/orthofotos/release_2008/orthofoto_2008.tif:This is
a BigTIFF file.  This format not supported
by this version of libtiff.
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] mod_python
(pid=32194, interpreter='srv139.stadt-uster.ch', phase='PythonHandler',
handler='mod_python.publisher'): Application error
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] ServerName:
'srv139.stadt-uster.ch'
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] DocumentRoot:
'/home/www/www/'
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] URI:
'/datenextraktion_dev/extract_meta.py/raster'
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] Location: None
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] Directory: '/'
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] Filename:
'/home/www/www/datenextraktion_dev/extract_meta.py'
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] PathInfo: '/raster'
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] Traceback (most
recent call last):
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/usr/lib/python2.5/site-packages/mod_python/importer.py", line 1537, in
HandlerDispatch\n    default=default_handler, arg=req,
silent=hlist.silent)
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/usr/lib/python2.5/site-packages/mod_python/importer.py", line 1229, in
_process_target\n    result = _execute_target(config, req, object, arg)
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/usr/lib/python2.5/site-packages/mod_python/importer.py", line 1128, in
_execute_target\n    result = object(arg)
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/usr/lib/python2.5/site-packages/mod_python/publisher.py", line 213, in
handler\n    published = publish_object(req, object)
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/usr/lib/python2.5/site-packages/mod_python/publisher.py", line 425, in
publish_object\n    return publish_object(req,util.apply_fs_data(object,
req.form, req=req))
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/usr/lib/python2.5/site-packages/mod_python/util.py", line 554, in
apply_fs_data\n    return object(**args)
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101]   File
"/home/www/www/datenextraktion_dev/extract_meta.py", line 18, in raster\n 
 
req.write('\\t<driver>'+dataset.GetDriver().ShortName+'/'+dataset.GetDriver().LongName+'</driver>\\n')
[Thu Oct 16 17:22:00 2008] [error] [client 192.168.1.101] AttributeError:
'NoneType' object has no attribute 'GetDriver'

------------

My guess was that mod_python picks up a different version of gdal.py and
the osgeo package but I can only find one installation of gdal.py on the
server. I also explicitly set the paths to the packages/modules in the
apache config:

PythonOption mod_python.importer.path
"['/usr/local/lib/python2.5/site-packages','/usr/lib/python2.5/site-packages']"

Are there any other ideas why my script works in the command line and not
in the web environment?

Thanks,
Andreas

-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From warmerdam at pobox.com  Thu Oct 16 11:30:33 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 16 11:31:02 2008
Subject: [gdal-dev] Supporting ECW as GDAL plugin.
In-Reply-To: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
References: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
Message-ID: <48F75E19.6020909@pobox.com>

Daniele Romagnoli wrote:
> Hi list,
> I would like to get some information about how to support ECW as a 
> GDAL's plugin.
> Andrea Aime, back from the FOSS4G, have proposed to improve the support 
> to ECW format offered by our ImageIO-Ext project,
> by leveraging on GDAL plugin mechanism.
> Which steps are involved to support ECW Driver as a plugin? (on both 
> Windows/Linux).
> Should I also tweak the java bindings generation step to handle this?
> 
> Any information/suggestion/link would be greatly appreciated. (I have 
> already taken a look at ticket 2385)

Daniele,

In addition to the notes already provided by someone else,
you might also want to review (and possibly improve) the wiki
topic:

   http://trac.osgeo.org/gdal/wiki/ECW

I would note that no change is required for the java binding
generation when adding new formats or plugins.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Oct 16 11:56:54 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 16 11:57:17 2008
Subject: [gdal-dev] Re: Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
In-Reply-To: <48EFB93B.3040309@pobox.com>
References: <48EFB93B.3040309@pobox.com>
Message-ID: <48F76446.5060509@pobox.com>

Frank Warmerdam wrote:
> Motion: Adopt GDAL 1.5.3RC1 as official 1.5.3 Release
> 
> This vote should be open till late on Tuesday.  Please vote or comment 
> after you have had a chance to try the release candidate.

Folks,

I'm +1 on this motion as well.

I declare the motion passed with support from Tamas, Even and myself and
no PSC opposition from the PSC.

There were a few items mentioned as desirable but missing from this release
but I think it is more appropriate to hold a 1.5.4 release within a month
or so that captures those if we can get them incorporated.  Without a paid
maintainer some bug patches are delayed getting incorporated.

I'll take care of updating the web site, etc with the 1.5.3 release, and
announcing it on gdal-announce.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From daniele.romagnoli at geo-solutions.it  Thu Oct 16 11:58:25 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Thu Oct 16 11:58:28 2008
Subject: [gdal-dev] Supporting ECW as GDAL plugin.
In-Reply-To: <48F75E19.6020909@pobox.com>
References: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
	<48F75E19.6020909@pobox.com>
Message-ID: <7221db410810160858i3067467dg97276035da0602ff@mail.gmail.com>

Folks,
thank for the info.
I'll take a look on them this evening when I'll back to home.

Regards,
Daniele

On Thu, Oct 16, 2008 at 5:30 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Daniele Romagnoli wrote:
>
>> Hi list,
>> I would like to get some information about how to support ECW as a GDAL's
>> plugin.
>> Andrea Aime, back from the FOSS4G, have proposed to improve the support to
>> ECW format offered by our ImageIO-Ext project,
>> by leveraging on GDAL plugin mechanism.
>> Which steps are involved to support ECW Driver as a plugin? (on both
>> Windows/Linux).
>> Should I also tweak the java bindings generation step to handle this?
>>
>> Any information/suggestion/link would be greatly appreciated. (I have
>> already taken a look at ticket 2385)
>>
>
> Daniele,
>
> In addition to the notes already provided by someone else,
> you might also want to review (and possibly improve) the wiki
> topic:
>
>  http://trac.osgeo.org/gdal/wiki/ECW
>
> I would note that no change is required for the java binding
> generation when adding new formats or plugins.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081016/db9cc7eb/attachment.html
From Chris.Barker at noaa.gov  Thu Oct 16 12:11:06 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Oct 16 12:11:02 2008
Subject: [gdal-dev] mod_python problems, bigtiff
In-Reply-To: <32323.193.246.86.39.1224170873.squirrel@webmail.customers.iirc.at>
References: <32323.193.246.86.39.1224170873.squirrel@webmail.customers.iirc.at>
Message-ID: <48F7679A.80705@noaa.gov>

Andreas Neumann wrote:
> My guess was that mod_python picks up a different version of gdal.py and
> the osgeo package but I can only find one installation of gdal.py on the
> server.

This is total guess, but it could be possible that there is more than 
one copy of one of the libraries (libgdal or libtiff ?), that's where 
the difference would be, not in the python code anyway.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From nbarker at ittvis.com  Thu Oct 16 12:54:21 2008
From: nbarker at ittvis.com (Norman Barker)
Date: Thu Oct 16 13:25:00 2008
Subject: [gdal-dev] CPLHttp and CURL_HOME
Message-ID: <B1B624F7C110834B96594065A74F3A540916B5CE@gemini.rsinc.com>

Hi,
 
within GDAL is there a way to get libcurl to pickup the .curlrc (_curlrc
on windows) files, in particular to set --insecure flag so that gdal can
talk to self-signed https wcs and wms (and in my case jpips)?
 
The curl utility can pick up the conf file if either curl_home is set,
or in the user path, and I understood that libcurl could do this too but
currently this doesn't seem to be happening.
 
If there is way to pass these settings into GDAL from the shell then
that would be very useful.
 
thanks,
 
Norman
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081016/62eaef79/attachment.html
From nbarker at ittvis.com  Thu Oct 16 13:32:40 2008
From: nbarker at ittvis.com (Norman Barker)
Date: Thu Oct 16 13:32:42 2008
Subject: [gdal-dev] visual leak detector support
Message-ID: <B1B624F7C110834B96594065A74F3A540916B5D0@gemini.rsinc.com>

Hi,
 
I see that visual leak detector support has been added to gdal
nmake.opt, and I have turned this on.
 
However the visual studio project files use a make file configuration,
how do you actually get the leak detector to work?
 
The docs at http://trac.osgeo.org/gdal/ticket/2009 are a little sparse.
 
thanks,
 
Norman
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081016/5d21ff9f/attachment.html
From aaime at opengeo.org  Thu Oct 16 13:34:51 2008
From: aaime at opengeo.org (Andrea Aime)
Date: Thu Oct 16 13:34:56 2008
Subject: [gdal-dev] Supporting ECW as GDAL plugin.
In-Reply-To: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
References: <7221db410810160102g44cbef8bmea2f48abf67bac5c@mail.gmail.com>
Message-ID: <48F77B3B.5030800@opengeo.org>

Daniele Romagnoli ha scritto:
> Hi list,
> I would like to get some information about how to support ECW as a 
> GDAL's plugin.
> Andrea Aime, back from the FOSS4G, have proposed to improve the support 
> to ECW format offered by our ImageIO-Ext project,
> by leveraging on GDAL plugin mechanism.
> Which steps are involved to support ECW Driver as a plugin? (on both 
> Windows/Linux).
> Should I also tweak the java bindings generation step to handle this?
> 
> Any information/suggestion/link would be greatly appreciated. (I have 
> already taken a look at ticket 2385)

I have vague memories of a flag in the makefile that allowed
the ecw support to be built separately. The drill was something like
1) build gdal without ecw support (so that it's not statically linked)
2) go into the ecw format directory and build there independently,
    after tweaking the makefile or somethign like that
3) place the resulting library in a special directory

Cheers
Andrea
From reedc+gdal at ctech.com  Thu Oct 16 13:47:06 2008
From: reedc+gdal at ctech.com (Reed Copsey, Jr.)
Date: Thu Oct 16 13:47:08 2008
Subject: [gdal-dev] Using GDAL.Transformer from C#
Message-ID: <d82dce9d0810161047m2da763d1w2557e254e9abd359@mail.gmail.com>

I'm looking for the best approach to figuring out the specific projected
coordinate of a raster read via the GDAL C# wrappers.
If I open a dataset using Gdal.Open(...) which has projection information,
what is the best way in C# to determine the actual coordinate of a specific
pixel?


For example, I want to determine where, in projected space, the pixel at
[50,25] in image coordinates might lie.

Right now, I'm calculating this by hand using the
dataset.GetGeoTransform(...) array, but this is less simple if the
transformation isn't simple.  I'd ideally like a solution that works with
GCP defined datasets, as well.

It looks like GDAL.Transformer is the way to go here, but the C# wrappers
only seem to work by taking a dataset to project from and to, and then
transforming a coordinate from one to the other.  Is the best approach to
create a dataset in memory with 1 pixel wide spacing, located at the origin,
and use that as from and the loaded dataset as the "to" dataset?  Is there
an easier/simpler/faster approach?

Thank you,
Reed Copsey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081016/4f541f26/attachment.html
From lran at unc.edu  Thu Oct 16 14:42:40 2008
From: lran at unc.edu (Limei Ran)
Date: Thu Oct 16 14:43:03 2008
Subject: [gdal-dev] get fmrt grib
In-Reply-To: <48F605F6.7040207@pobox.com>
References: <48EE53D3.40705@unc.edu> <48EE573F.9070806@pobox.com>
	<20081015104148.94d8y8qjgo4c4go0@webmail3.isis.unc.edu>
	<48F605F6.7040207@pobox.com>
Message-ID: <48F78B20.8050404@unc.edu>

Hi Frank:

Thank you very much and it worked.

Limei

Frank Warmerdam wrote:

> Limei Ran wrote:
>
>>
>> Hi Frank:
>>
>> I got gdal-svn-trunk-2008.10.14.tar.gz.  When I compiled it on Linux 
>> server 32bits I got the following errors:
>>
>> ================================
>> gt_overview.cpp: In function `toff_t GTIFFWriteDirectory(TIFF*, int, 
>> int, int, int, int, int, int, int, int, int, int, int, short unsigned 
>> int*, short unsigned int*, short unsigned int*, int, short unsigned 
>> int*, const char*)':
>> gt_overview.cpp:75: error: `TIFFFreeDirectory' was not declared in 
>> this scope
>> gt_overview.cpp:75: warning: unused variable 'TIFFFreeDirectory'
>> make[2]: *** [../o/gt_overview.o] Error 1
>> make[2]: Leaving directory 
>> `/nas/uncch/depts/cep/emc/lran/mims/mimssp_10_2007/src/libs/gdal-svn-trunk-2008.10.14/frmts/gtiff' 
>>
>> make[1]: *** [gtiff-install-obj] Error 2
>> make[1]: Leaving directory 
>> `/nas/uncch/depts/cep/emc/lran/mims/mimssp_10_2007/src/libs/gdal-svn-trunk-2008.10.14/frmts' 
>>
>> make: *** [frmts-target] Error 2
>> =================================
>
>
> Limei,
>
> I have checked, and TIFFFreeDirectory() has existed in libtiff since 
> 2003 so
> I find it hard to imagine you have a libtiff so old it lacks this 
> function.
> But, try configuring with the option "--with-libtiff=internal" and see 
> if that
> helps.
>
> Best regards,


From sjahputerao at missouri.edu  Thu Oct 16 17:03:29 2008
From: sjahputerao at missouri.edu (Ozy Sjahputera)
Date: Thu Oct 16 17:04:32 2008
Subject: [gdal-dev] Problem with image overview creation in GTiff files
Message-ID: <48F7AC21.3000306@missouri.edu>

I am trying to create image overviews for a GTiff file using 
GDALDataset::BuildOverviews. I keep getting various errors such as:

ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "ImageWidth" while 
writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag 
"PlanarConfiguration" while writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "BitsPerSample" 
while writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "SamplesPerPixel" 
while writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag 
"PhotometricInterpretation" while writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "SampleFormat" while 
writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileWidth" while 
writing
ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileLength" while 
writing
ERROR 1: TIFFBuildOverviews:Can not write tiles to a stripped image


Here is my code:

    int OverviewList[5] = { 2, 4, 8, 16, 32 };
    CPLErr overview_err = outDS->BuildOverviews( "AVERAGE_MAGPHASE", 5, 
OverviewList, 0, NULL, NULL, NULL );


I have used BuildOverviews before on HFA images and they are fine. Any idea?

Thanks
Ozy
From szekerest at gmail.com  Thu Oct 16 17:07:18 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct 16 17:07:21 2008
Subject: [gdal-dev] Using GDAL.Transformer from C#
In-Reply-To: <d82dce9d0810161047m2da763d1w2557e254e9abd359@mail.gmail.com>
References: <d82dce9d0810161047m2da763d1w2557e254e9abd359@mail.gmail.com>
Message-ID: <f3b73b7d0810161407y55f3b040j8afdd5ed573d935a@mail.gmail.com>

Hi,

Here is an example extracted from the gdalinfo.cs sample application
(http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALInfo.cs)

private static string GDALInfoGetPosition(Dataset ds, double x, double y)
{
      double[] adfGeoTransform = new double[6];
      double  dfGeoX, dfGeoY;
      ds.GetGeoTransform(adfGeoTransform);

      dfGeoX = adfGeoTransform[0] + adfGeoTransform[1] * x +
adfGeoTransform[2] * y;
      dfGeoY = adfGeoTransform[3] + adfGeoTransform[4] * x +
adfGeoTransform[5] * y;

      return dfGeoX.ToString() + ", " + dfGeoY.ToString();
}


Best regards,

Tamas



2008/10/16 Reed Copsey, Jr. <reedc+gdal@ctech.com>:
> I'm looking for the best approach to figuring out the specific projected
> coordinate of a raster read via the GDAL C# wrappers.
> If I open a dataset using Gdal.Open(...) which has projection information,
> what is the best way in C# to determine the actual coordinate of a specific
> pixel?
>
> For example, I want to determine where, in projected space, the pixel at
> [50,25] in image coordinates might lie.
> Right now, I'm calculating this by hand using the
> dataset.GetGeoTransform(...) array, but this is less simple if the
> transformation isn't simple.  I'd ideally like a solution that works with
> GCP defined datasets, as well.
> It looks like GDAL.Transformer is the way to go here, but the C# wrappers
> only seem to work by taking a dataset to project from and to, and then
> transforming a coordinate from one to the other.  Is the best approach to
> create a dataset in memory with 1 pixel wide spacing, located at the origin,
> and use that as from and the loaded dataset as the "to" dataset?  Is there
> an easier/simpler/faster approach?
> Thank you,
> Reed Copsey
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From aurelien.kamel at magellium.fr  Fri Oct 17 03:49:35 2008
From: aurelien.kamel at magellium.fr (=?iso-8859-1?Q?Aur=E9lien_Kamel?=)
Date: Fri Oct 17 03:49:44 2008
Subject: [gdal-dev] RE: CPLXMLNode, no GetChilds()'like method ?
In-Reply-To: <48F75D61.3070502@pobox.com>
Message-ID: <200810170749.m9H7ne6p002255@smtp04.msg.oleane.net>

Frank,

Actually I modified my code, now I drop all the nodes that starts with <? or
<! at the beginning of my file so that I only have the "main" node (<svg in
my case) before parsing the buffer with CPLParseXMLString. Maybe not the
best way to do the job but it works.

Thanks for your help,
Cheers,
aurel

-----Message d'origine-----
De?: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Envoy??: jeudi 16 octobre 2008 17:27
??: Aur?lien Kamel
Cc?: gdal-dev@lists.osgeo.org
Objet?: Re: [gdal-dev] RE: CPLXMLNode, no GetChilds()'like method ?

Aur?lien Kamel wrote:
> Actually I have one more question for you. Imagine you have an xml file
like
> this :
> 
> ---- start of xml file ----
> <?xml version="1.0"?>
> 
> <a b="xxx">
>   <b>
>     ...
>   </b>
> </a>
> ---- end of xml file ----
> 
> How can you access to the node "a" if you don't know its name ? I tried to
> do a recursive function that would loop on all the nodes of the file
> starting from ROOT.
> 
> With the following code I'll only recurse on the "<?xml version="1.0"?>"
> node.
> 
> bool
> MyDriver::parse(const char *filename) {
>   CPLXMLNode* xmlNode = CPLParseXMLFile(filename);
>   If (!xmlNode) return false;
>   return parseLoop(xmlNode);
> }
> 
> bool
> MyDriver::parseLoop(CPLXMLNode *node) {
>   std::cout << "Currently recursing on node: " << node->pszValue <<
> std::endl;
>   
>   for (CPLXMLNode *brother = node->psChild;
>        brother;
>        brother = brother->psNext)
>     if (!parseLoop(brother)) return false;
> 
>   return true;
> }
> 
> Any idea how I'll could recurse on all the nodes that are child of ROOT ?

Aurel,

The code looks ok except that it misses the siblings of the root node.
In a case like the above file the "a" element will be a sibling of the
<?xml...> node, not a child.

There are numerous examples of code for recursing and searching the XML
document in gdal/port/cpl_minixml.cpp.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ivan.lucena at pmldnet.com  Fri Oct 17 10:38:22 2008
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Fri Oct 17 10:38:25 2008
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gdmlzdWFsIGxlYWsgZGV0ZWN0b3Igc3VwcG9ydA==?=
Message-ID: <20081017143823.32694.qmail@s466.sureserver.com>

Hi Norman,

I think that Mateusz would be the person to answer it better and I am not doing much use of MSVC this days, but I 
remember seen a message from VLD coming up at the end of the execution, on the output window, even using 
those makefile projects (makgdal71.vcproj). Basically all the debugging functionalities work for those kind of VC 
project, there is not reason why VLD shouldn't. I believe that VLD should also work on command line. You probably 
need to change some setting on VLD to tell where to write the report. But you are right, it is not working anymore. 
I think we need to check the compilation/debugging flags to see what is going on. There was a big change at some 
point (a year ago?...) and it might be affecting the use of VLD.

Best regards,

Ivan


>  -------Original Message-------
>  From: Norman Barker <nbarker@ittvis.com>
>  Subject: [gdal-dev] visual leak detector support
>  Sent: Oct 16 '08 17:32
>  
>  Hi,
>  
>  I see that visual  leak detector support has been added to gdal nmake.opt,
>  and I have turned this  on.
>  
>  However the visual  studio project files use a make file configuration,
>  how do you actually get the  leak detector to work?
>  
>  The docs at [LINK: http://trac.osgeo.org/gdal/ticket/2009]
>  http://trac.osgeo.org/gdal/ticket/2009 are  a little sparse.
>  
>  thanks,
>  
>  Norman
>  
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nbarker at ittvis.com  Fri Oct 17 11:14:31 2008
From: nbarker at ittvis.com (Norman Barker)
Date: Fri Oct 17 11:14:36 2008
Subject: [gdal-dev] visual leak detector support
In-Reply-To: <20081017143823.32694.qmail@s466.sureserver.com>
References: <20081017143823.32694.qmail@s466.sureserver.com>
Message-ID: <B1B624F7C110834B96594065A74F3A540916B5D3@gemini.rsinc.com>

Cc'd the list

Thanks Ivan!  Any comments on how to enable this from the command line
so that when I run gdalinfo in debug I can see if I am leaking!

Thanks.

-----Original Message-----
From: Lucena, Ivan [mailto:ivan.lucena@pmldnet.com] 
Sent: Friday, October 17, 2008 8:38 AM
To: Norman Barker; 
Subject: Re: [gdal-dev] visual leak detector support

Hi Norman,

I think that Mateusz would be the person to answer it better and I am
not doing much use of MSVC this days, but I 
remember seen a message from VLD coming up at the end of the execution,
on the output window, even using 
those makefile projects (makgdal71.vcproj). Basically all the debugging
functionalities work for those kind of VC 
project, there is not reason why VLD shouldn't. I believe that VLD
should also work on command line. You probably 
need to change some setting on VLD to tell where to write the report.
But you are right, it is not working anymore. 
I think we need to check the compilation/debugging flags to see what is
going on. There was a big change at some 
point (a year ago?...) and it might be affecting the use of VLD.

Best regards,

Ivan


>  -------Original Message-------
>  From: Norman Barker <nbarker@ittvis.com>
>  Subject: [gdal-dev] visual leak detector support
>  Sent: Oct 16 '08 17:32
>  
>  Hi,
>  
>  I see that visual  leak detector support has been added to gdal
nmake.opt,
>  and I have turned this  on.
>  
>  However the visual  studio project files use a make file
configuration,
>  how do you actually get the  leak detector to work?
>  
>  The docs at [LINK: http://trac.osgeo.org/gdal/ticket/2009]
>  http://trac.osgeo.org/gdal/ticket/2009 are  a little sparse.
>  
>  thanks,
>  
>  Norman
>  
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org]
gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Fri Oct 17 14:40:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 17 14:41:11 2008
Subject: [gdal-dev] Problem with image overview creation in GTiff files
In-Reply-To: <48F7AC21.3000306@missouri.edu>
References: <48F7AC21.3000306@missouri.edu>
Message-ID: <48F8DC30.9070204@pobox.com>

Ozy Sjahputera wrote:
> I am trying to create image overviews for a GTiff file using 
> GDALDataset::BuildOverviews. I keep getting various errors such as:
> 
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
> writing
...
> writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileLength" while 
> writing
> ERROR 1: TIFFBuildOverviews:Can not write tiles to a stripped image
> 
> 
> Here is my code:
> 
>    int OverviewList[5] = { 2, 4, 8, 16, 32 };
>    CPLErr overview_err = outDS->BuildOverviews( "AVERAGE_MAGPHASE", 5, 
> OverviewList, 0, NULL, NULL, NULL );
> 
> 
> I have used BuildOverviews before on HFA images and they are fine. Any 
> idea?

Ozy,

I'm surprised.  I wonder if you might have opened your file in read-only
mode?  Can you reproduce the problem with the gdaladdo commandline program?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From randre at gmail.com  Fri Oct 17 18:45:15 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Fri Oct 17 18:45:18 2008
Subject: [gdal-dev] nodata value assigned via script
Message-ID: <9c2015090810171545l277e3011t5fc1de38e942d73d@mail.gmail.com>

Hi,

I'm getting raster data written by different people who can't seem to use
the same nodata values.  I'm reading the data files via the Python API to
GDAL, and doing various calculations on the data values, then writing new
rasters with the results of my calculations.  Is there a "nodata" value that
I can assign to a pixel that the gdal utilities will recognize as such later
on?  All my other values are 32-bit floating point values, so I'm not sure
what value to assign.

Thanks.

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081017/2aa54518/attachment.html
From matt.wilkie at gov.yk.ca  Fri Oct 17 18:57:50 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Oct 17 18:58:24 2008
Subject: [gdal-dev] nodata value assigned via script
In-Reply-To: <9c2015090810171545l277e3011t5fc1de38e942d73d@mail.gmail.com>
References: <9c2015090810171545l277e3011t5fc1de38e942d73d@mail.gmail.com>
Message-ID: <48F9186E.3010901@gov.yk.ca>

Wow, a python question I actually know the answer too!  :)

 From python you can use "band.SetNoDataValue( float(null_value) )". For 
this in context see this tiny utility:
http://maphew.googlecode.com/svn/trunk/gis/gdal_extras/bin/gdalsetnull.py

And the doc on this function:
http://www.gdal.org/classGDALRasterBand.html#c6f081d253dee55c372e54cfdd8f05a6

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


Roger Andr? wrote:
> Hi,
> 
> I'm getting raster data written by different people who can't seem to 
> use the same nodata values.  I'm reading the data files via the Python 
> API to GDAL, and doing various calculations on the data values, then 
> writing new rasters with the results of my calculations.  Is there a 
> "nodata" value that I can assign to a pixel that the gdal utilities will 
> recognize as such later on?  All my other values are 32-bit floating 
> point values, so I'm not sure what value to assign.
> 
> Thanks.
> 
> Roger
> --
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From anton at orkney.co.jp  Fri Oct 17 22:45:49 2008
From: anton at orkney.co.jp (Anton Patrushev)
Date: Fri Oct 17 22:45:51 2008
Subject: [gdal-dev] OGR: GetField methods problem
In-Reply-To: <86782b610810160121n66fb375fg57c149b11cd9ad9d@mail.gmail.com>
References: <a0d5dff50810142204v3dd4ebcci7d88c04ceb43312c@mail.gmail.com>
	<86782b610810142344o467e779eq3f35a5acca4d70b0@mail.gmail.com>
	<a0d5dff50810160112h2395f25cva79d03b21f259b98@mail.gmail.com>
	<86782b610810160121n66fb375fg57c149b11cd9ad9d@mail.gmail.com>
Message-ID: <a0d5dff50810171945x35052338ifcd7ab2ab095aa84@mail.gmail.com>

Hi there,

It is strange, but I have this problem again with the fresh
installation of Ubuntu 8.04.
I took GDAL 1.5.1 .deb packages from here
http://les-ejk.cz/ubuntu/dists/hardy/multiverse/binary-i386/ and they
look OK.
But when I'm trying to compile my stuff, I get

/usr/include/gdal/ogr_feature.h undefined reference to
'OGRFeature::GetFieldAsDouble(int)'
/usr/include/gdal/ogr_feature.h undefined reference to
'OGRFeature::GetFieldAsInteger(int)'
/usr/include/gdal/ogr_feature.h undefined reference to
'OGRFeatureDefn::GetFieldIndex(char const*)'

just like with RHEL before.
It looks pretty strange, 'cause I have all header files from gdal-dev.

When I compiled 1.5.3 from sources with the same Ubuntu versions it
was OK, but for server I'd like to have packages, 'cause they are
easier to manage.

Probably I miss something.
Does anybody had those errors before?

Thank you,
Anton.

On Thu, Oct 16, 2008 at 5:21 PM, Markus Neteler <neteler@osgeo.org> wrote:
> Hi Anton,
>
> On Thu, Oct 16, 2008 at 10:12 AM, Anton Patrushev <anton@orkney.co.jp> wrote:
>> Hi Markus,
>>
>> I installed the newer version for Ubuntu and it works flawlessly.
>> Thank you.
>
> Great - please also tell the list :)
>
> cheers
> Markus
>
>> On 10/15/08, Markus Neteler <neteler@osgeo.org> wrote:
>>> Hi Anton,
>>>
>>>
>>>  On Wed, Oct 15, 2008 at 7:04 AM, Anton Patrushev <anton@orkney.co.jp> wrote:
>>>  > Hi,
>>>  >
>>>  > I have a problem with compiling my stuff for RHEL5.
>>>  > I always get following errors:
>>>  >
>>>  > /usr/include/ogr_feature.h undefined reference to
>>>  > 'OGRFeature::GetFieldAsDouble(int)'
>>>  > /usr/include/ogr_feature.h undefined reference to
>>>  > 'OGRFeature::GetFieldAsInteger(int)'
>>>  > /usr/include/ogr_feature.h undefined reference to
>>>  > 'OGRFeatureDefn::GetFieldIndex(char const*)'
>>>  >
>>>  > I installed gdal and gdal-dev 1.4.4-1 from RPMs.
>>>  > Am I missing something?
>>>
>>>
>>> 1.4.4 is fairly old, see
>>>  http://trac.osgeo.org/gdal/wiki#Releases
>>>
>>>  Maybe a newer version would help (you may try to take the
>>>  SRPM, extract the SPEC file and apply it to 1.5.2).
>>>
>>>
>>>  Markus
>>>
>>
>
>
>
> --
> Open Source Geospatial Foundation
> http://www.osgeo.org/
> http://www.grassbook.org/
>
From klokan at klokan.cz  Sat Oct 18 03:40:10 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Sat Oct 18 03:40:14 2008
Subject: [gdal-dev] nodata value assigned via script
In-Reply-To: <48F9186E.3010901@gov.yk.ca>
References: <9c2015090810171545l277e3011t5fc1de38e942d73d@mail.gmail.com>
	<48F9186E.3010901@gov.yk.ca>
Message-ID: <6e41d95b0810180040x104beb79sa72ea98795646180@mail.gmail.com>

Hi Roger,

Matt answered the question already...

The official documentation for handling masks and nodata values in GDAL is:
http://trac.osgeo.org/gdal/wiki/rfc15_nodatabitmask

and the complete python interface is tested in this file:
http://trac.osgeo.org/gdal/browser/trunk/autotest/gcore/mask.py

Klokan

On Sat, Oct 18, 2008 at 12:57 AM, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> Wow, a python question I actually know the answer too!  :)
>
> From python you can use "band.SetNoDataValue( float(null_value) )". For this
> in context see this tiny utility:
> http://maphew.googlecode.com/svn/trunk/gis/gdal_extras/bin/gdalsetnull.py
>
> And the doc on this function:
> http://www.gdal.org/classGDALRasterBand.html#c6f081d253dee55c372e54cfdd8f05a6
>
> cheers,
>
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
>
> Roger Andr? wrote:
>>
>> Hi,
>>
>> I'm getting raster data written by different people who can't seem to use
>> the same nodata values.  I'm reading the data files via the Python API to
>> GDAL, and doing various calculations on the data values, then writing new
>> rasters with the results of my calculations.  Is there a "nodata" value that
>> I can assign to a pixel that the gdal utilities will recognize as such later
>> on?  All my other values are 32-bit floating point values, so I'm not sure
>> what value to assign.
>>
>> Thanks.
>>
>> Roger
>> --
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From randre at gmail.com  Sat Oct 18 15:58:13 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Sat Oct 18 15:58:17 2008
Subject: [gdal-dev] nodata value assigned via script
In-Reply-To: <6e41d95b0810180040x104beb79sa72ea98795646180@mail.gmail.com>
References: <9c2015090810171545l277e3011t5fc1de38e942d73d@mail.gmail.com>
	<48F9186E.3010901@gov.yk.ca>
	<6e41d95b0810180040x104beb79sa72ea98795646180@mail.gmail.com>
Message-ID: <9c2015090810181258x38d2ab41m77c55cd0af3cdd1d@mail.gmail.com>

Excellent!  Thanks very much for the info, and links to the docs.
--

On Sat, Oct 18, 2008 at 12:40 AM, Klokan Petr P?idal <klokan@klokan.cz>wrote:

> Hi Roger,
>
> Matt answered the question already...
>
> The official documentation for handling masks and nodata values in GDAL is:
> http://trac.osgeo.org/gdal/wiki/rfc15_nodatabitmask
>
> and the complete python interface is tested in this file:
> http://trac.osgeo.org/gdal/browser/trunk/autotest/gcore/mask.py
>
> Klokan
>
> On Sat, Oct 18, 2008 at 12:57 AM, Matt Wilkie <matt.wilkie@gov.yk.ca>
> wrote:
> > Wow, a python question I actually know the answer too!  :)
> >
> > From python you can use "band.SetNoDataValue( float(null_value) )". For
> this
> > in context see this tiny utility:
> >
> http://maphew.googlecode.com/svn/trunk/gis/gdal_extras/bin/gdalsetnull.py
> >
> > And the doc on this function:
> >
> http://www.gdal.org/classGDALRasterBand.html#c6f081d253dee55c372e54cfdd8f05a6
> >
> > cheers,
> >
> > matt wilkie
> > --------------------------------------------
> > Geographic Information,
> > Information Management and Technology,
> > Yukon Department of Environment
> > 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> > 867-667-8133 Tel * 867-393-7003 Fax
> > http://environmentyukon.gov.yk.ca/geomatics/
> > --------------------------------------------
> >
> >
> > Roger Andr? wrote:
> >>
> >> Hi,
> >>
> >> I'm getting raster data written by different people who can't seem to
> use
> >> the same nodata values.  I'm reading the data files via the Python API
> to
> >> GDAL, and doing various calculations on the data values, then writing
> new
> >> rasters with the results of my calculations.  Is there a "nodata" value
> that
> >> I can assign to a pixel that the gdal utilities will recognize as such
> later
> >> on?  All my other values are 32-bit floating point values, so I'm not
> sure
> >> what value to assign.
> >>
> >> Thanks.
> >>
> >> Roger
> >> --
> >>
> >>
> >> ------------------------------------------------------------------------
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081018/635e7ed8/attachment.html
From craig.miller at spatialminds.com  Sat Oct 18 20:20:41 2008
From: craig.miller at spatialminds.com (craig.miller@spatialminds.com)
Date: Sat Oct 18 20:20:44 2008
Subject: [gdal-dev] Interleave Bands with RasterIO?
In-Reply-To: <000401c9317b$1186dfc0$0400a8c0@bug>
References: <BAY120-W24BDA0B9A9C813A4E44DFEF9320@phx.gbl>
	<000401c9317b$1186dfc0$0400a8c0@bug>
Message-ID: <BAY120-W526DD588F6982172C7124F92C0@phx.gbl>

I have a BGRA buffer in memory, and a multi-band RGBA TIF image.  Is it possible to use RasterIO to read in values from each band and neatly interleave them in my buffer.

For example if I was loading an RGBA image I am hoping to be able to make 4 separate RasterIO calls.  

Assuming a BGRA image looks like:

0 - blue byte

8 - green byte

16 - red byte

24 - alpha byte

32 - blue byte

40 - green byte

48 - red byte

56 - alpha byte

64 - ....

The first RasterIO call would read in the blue values and insert them at 0, 32, 64, etc making it look like:

0 - blue byte


8 - 


16 - 


24 - 


32 - blue byte


40 - 


48 - 


56 - 


64 - ....

The second RasterIO call would read the green values and insert them at 8, 40, etc making it look like:

0 - blue byte



8 - green byte



16 - 



24 - 



32 - blue byte



40 - green byte



48 - 



56 - 



64 - ....

Rinse and repeat for red and alpha.

Is this possible, or is there a much much simpler way that I'm overlooking?  I've been looking at the paramaters for RasterIO but can't seem to get it to work.  I do understand that I can just read the values into a separate buffer and memcpy them over to my image buffer.  I was trying to minimize the total number of times the same data has to be copied.

Thanks for the help.

Craig

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081019/c66a4740/attachment.html
From legeochen at gmail.com  Sat Oct 18 21:49:11 2008
From: legeochen at gmail.com (legeochen)
Date: Sat Oct 18 21:49:14 2008
Subject: [gdal-dev] Interleave Bands with RasterIO?
In-Reply-To: <BAY120-W526DD588F6982172C7124F92C0@phx.gbl>
References: <BAY120-W24BDA0B9A9C813A4E44DFEF9320@phx.gbl>
	<000401c9317b$1186dfc0$0400a8c0@bug>
	<BAY120-W526DD588F6982172C7124F92C0@phx.gbl>
Message-ID: <b508b9770810181849m785db631t4e62caf02a60379a@mail.gmail.com>

This is how i do it. I hope it is what you want:)
    GByte *myGdalScanData=(GByte *)
CPLMalloc(theRasterViewport->drawableAreaXDim*theRasterViewport->drawableAreaYDim*4);
    if (myGdalScanData == NULL)
    {
        std::cout<<"scan data is null! ";
    }
    else
    {
        CPLErr myErr = GDALRasterIO( myGdalRedBand, GF_Read,
                                    theRasterViewport->rectXOffset,
                                    theRasterViewport->rectYOffset,
                                    theRasterViewport->clippedWidth,
                                    theRasterViewport->clippedHeight,
                                    myGdalScanData+0,
                                    theRasterViewport->drawableAreaXDim,
                                    theRasterViewport->drawableAreaYDim,
                                    GDT_Byte,
4,theRasterViewport->drawableAreaXDim *4  );
        myErr = GDALRasterIO( myGdalGreenBand, GF_Read,
                                    theRasterViewport->rectXOffset,
                                    theRasterViewport->rectYOffset,
                                    theRasterViewport->clippedWidth,
                                    theRasterViewport->clippedHeight,
                                    myGdalScanData+1,
                                    theRasterViewport->drawableAreaXDim,
                                    theRasterViewport->drawableAreaYDim,
                                    GDT_Byte,
4,theRasterViewport->drawableAreaXDim* 4 );
        myErr = GDALRasterIO( myGdalBlueBand, GF_Read,
                                    theRasterViewport->rectXOffset,
                                    theRasterViewport->rectYOffset,
                                    theRasterViewport->clippedWidth,
                                    theRasterViewport->clippedHeight,
                                    myGdalScanData+2,
                                    theRasterViewport->drawableAreaXDim,
                                    theRasterViewport->drawableAreaYDim,
                                    GDT_Byte,
4,theRasterViewport->drawableAreaXDim * 4 );
        myErr = GDALRasterIO( myGdalBlueBand, GF_Read,
                                    theRasterViewport->rectXOffset,
                                    theRasterViewport->rectYOffset,
                                    theRasterViewport->clippedWidth,
                                    theRasterViewport->clippedHeight,
                                    myGdalScanData+3,
                                    theRasterViewport->drawableAreaXDim,
                                    theRasterViewport->drawableAreaYDim,
                                    GDT_Byte,
4,theRasterViewport->drawableAreaXDim * 4 );
        if (myErr != CPLE_None)
        {
            std::cout<< "RaterIO  error: " << CPLGetLastErrorMsg();
        }
    }

2008/10/19 <craig.miller@spatialminds.com>

> I have a BGRA buffer in memory, and a multi-band RGBA TIF image.  Is it
> possible to use RasterIO to read in values from each band and neatly
> interleave them in my buffer.
>
> For example if I was loading an RGBA image I am hoping to be able to make 4
> separate RasterIO calls.
>
> Assuming a BGRA image looks like:
>
> 0 - blue byte
> 8 - green byte
> 16 - red byte
> 24 - alpha byte
> 32 - blue byte
> 40 - green byte
> 48 - red byte
> 56 - alpha byte
> 64 - ....
>
> The first RasterIO call would read in the blue values and insert them at 0,
> 32, 64, etc making it look like:
>
> 0 - blue byte
> 8 -
> 16 -
> 24 -
> 32 - blue byte
> 40 -
> 48 -
> 56 -
> 64 - ....
>
> The second RasterIO call would read the green values and insert them at 8,
> 40, etc making it look like:
>
> 0 - blue byte
> 8 - green byte
> 16 -
> 24 -
> 32 - blue byte
> 40 - green byte
> 48 -
> 56 -
> 64 - ....
>
> Rinse and repeat for red and alpha.
>
> Is this possible, or is there a much much simpler way that I'm
> overlooking?  I've been looking at the paramaters for RasterIO but can't
> seem to get it to work.  I do understand that I can just read the values
> into a separate buffer and memcpy them over to my image buffer.  I was
> trying to minimize the total number of times the same data has to be copied.
>
> Thanks for the help.
>
> Craig
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081019/8528aab1/attachment-0001.html
From nowak at xpam.de  Sun Oct 19 01:28:30 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Sun Oct 19 01:28:52 2008
Subject: [gdal-dev] Interleave Bands with RasterIO?
In-Reply-To: <BAY120-W526DD588F6982172C7124F92C0@phx.gbl>
References: <BAY120-W24BDA0B9A9C813A4E44DFEF9320@phx.gbl>	<000401c9317b$1186dfc0$0400a8c0@bug>
	<BAY120-W526DD588F6982172C7124F92C0@phx.gbl>
Message-ID: <48FAC57E.9070005@xpam.de>

int bands[4] = { 3, 2, 1, 4 };
GDALDataset::RasterIO(..., 4, bands, 32, 32 * xSize, 1);

but then you probably mixed bits with bytes so:

int bands[4] = { 3, 2, 1, 4 };
GDALDataset::RasterIO(..., 4, bands, 4, 4 * xSize, 1);

craig.miller@spatialminds.com wrote:
> I have a BGRA buffer in memory, and a multi-band RGBA TIF image.  Is it 
> possible to use RasterIO to read in values from each band and neatly 
> interleave them in my buffer.
> 
> For example if I was loading an RGBA image I am hoping to be able to 
> make 4 separate RasterIO calls. 
> 
> Assuming a BGRA image looks like:
> 
> 0 - blue byte
> 8 - green byte
> 16 - red byte
> 24 - alpha byte
> 32 - blue byte
> 40 - green byte
> 48 - red byte
> 56 - alpha byte
> 64 - ....
> 
> The first RasterIO call would read in the blue values and insert them at 
> 0, 32, 64, etc making it look like:
> 
> 0 - blue byte
> 8 -
> 16 -
> 24 -
> 32 - blue byte
> 40 -
> 48 -
> 56 -
> 64 - ....
> 
> The second RasterIO call would read the green values and insert them at 
> 8, 40, etc making it look like:
> 
> 0 - blue byte
> 8 - green byte
> 16 -
> 24 -
> 32 - blue byte
> 40 - green byte
> 48 -
> 56 -
> 64 - ....
> 
> Rinse and repeat for red and alpha.
> 
> Is this possible, or is there a much much simpler way that I'm 
> overlooking?  I've been looking at the paramaters for RasterIO but can't 
> seem to get it to work.  I do understand that I can just read the values 
> into a separate buffer and memcpy them over to my image buffer.  I was 
> trying to minimize the total number of times the same data has to be copied.
> 
> Thanks for the help.
> 
> Craig
> 
>  
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From pascal.darre at laposte.net  Sun Oct 19 12:06:39 2008
From: pascal.darre at laposte.net (darrepac)
Date: Sun Oct 19 12:06:41 2008
Subject: [Gdal-dev] Is Gdal2tiles working somewhere?
Message-ID: <20056950.post@talk.nabble.com>


Hello,

Little bit provoking subject because I really like Gdal2tiles but I do not
see any way to get rid of the pixel viewer in openlayers and be able to
combine a non-world raster map layer created by Gdal2tiles and an other
classical WMS layer...
I never saw any example of this working. Even example of Kolkan, like this
nice one: http://www.maptiler.org/example-usgs-drg-grand-canyon-gtiff/ has
been generated for Google Maps!

Am I oblige to use Google Maps?? Or to use Microsoft Map Cruncher and to
make the necessary code to make it work inside Openlayers? Shame no?

thanks for any help or news about Gdal2tiles
-- 
View this message in context: http://www.nabble.com/Is-Gdal2tiles-working-somewhere--tp20056950p20056950.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From schut at sarvision.nl  Mon Oct 20 03:52:03 2008
From: schut at sarvision.nl (Vincent Schut)
Date: Mon Oct 20 03:52:06 2008
Subject: [gdal-dev] Problem with image overview creation in GTiff files
In-Reply-To: <48F8DC30.9070204@pobox.com>
References: <48F7AC21.3000306@missouri.edu> <48F8DC30.9070204@pobox.com>
Message-ID: <48FC38A3.4010706@sarvision.nl>

Frank Warmerdam wrote:
> Ozy Sjahputera wrote:
>> I am trying to create image overviews for a GTiff file using 
>> GDALDataset::BuildOverviews. I keep getting various errors such as:
>>
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" 
>> while writing
> ...
>> writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileLength" while 
>> writing
>> ERROR 1: TIFFBuildOverviews:Can not write tiles to a stripped image
>>
>>
>> Here is my code:
>>
>>    int OverviewList[5] = { 2, 4, 8, 16, 32 };
>>    CPLErr overview_err = outDS->BuildOverviews( "AVERAGE_MAGPHASE", 5, 
>> OverviewList, 0, NULL, NULL, NULL );
>>
>>
>> I have used BuildOverviews before on HFA images and they are fine. Any 
>> idea?
> 
> Ozy,
> 
> I'm surprised.  I wonder if you might have opened your file in read-only
> mode?  Can you reproduce the problem with the gdaladdo commandline program?
> 
> Best regards,

Frank,

I'm encountering this issue pretty frequently. It happens when I create 
a tiled, compressed tiff (I'm using python but apparently that doesn't 
make a difference), write tile data into it, and then call the 
buildOverviews method. I thought I'd reported this issue (at least to 
this list), but it might have slipped my mind. Because I've found and by 
default implemented a fairly simple workaround, I totally forgot about 
it till now. The workaround is simple: first close and reopen the 
dataset, then buildOverviews. Haven't tried if flushing instead of 
reopening is enough.
Should I file a ticket on this?

Vincent.
From thob at dmu.dk  Mon Oct 20 11:27:05 2008
From: thob at dmu.dk (Becker, Thomas)
Date: Mon Oct 20 11:33:50 2008
Subject: [gdal-dev] he5 is not a supported format?
In-Reply-To: <20081009084239.47fbea7e@tiscali.it>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com><20081008213348.191eb269@tiscali.it><20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it>
Message-ID: <D4AB8C2051A3D1449495F8E45815E6002739735C@dmupost.dmu.dk>

Hi listers,
 
I have a problem reading he5 files with gdal. After installing FWTools 2.0.6 on a Suse 9 machine (compiled the sources) it seems like I do not have support of HDF5 files. The files I have are from the OMI tropospheric NO2 data archive (http://www.temis.nl/airpollution/no2col/omi_data_col3.php?) and when I try to read them with gdalinfo I am getting the following failure:
 
ERROR 4: `gdalinfo failed - unable to open 'OMI-Aura_L2-OMDOMINO_2008m1007t2337-o22510_v883-2008m1008t031738.he5 not recognised as a supported file format.
 
gdalinfo failed - unable to open 'OMI-Aura_L2-OMDOMINO_2008m1007t2337-o22510_v883-2008m1008t031738.he5'.


I am using gdalinfo version GDAL 1.6.0dev, FWTools 2.0.6, released 2008/02/03.

Can someone tell me how to get it to work?


Thx, Thomas
From warmerdam at pobox.com  Mon Oct 20 12:09:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 20 12:10:17 2008
Subject: [gdal-dev] he5 is not a supported format?
In-Reply-To: <D4AB8C2051A3D1449495F8E45815E6002739735C@dmupost.dmu.dk>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com><20081008213348.191eb269@tiscali.it><20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it>
	<D4AB8C2051A3D1449495F8E45815E6002739735C@dmupost.dmu.dk>
Message-ID: <48FCAD4F.2010701@pobox.com>

Becker, Thomas wrote:
> Hi listers,
> 
> I have a problem reading he5 files with gdal. After installing FWTools 2.0.6
> on a Suse 9 machine (compiled the sources) it seems like I do not have
> support of HDF5 files. The files I have are from the OMI tropospheric NO2
> data archive (http://www.temis.nl/airpollution/no2col/omi_data_col3.php?)
> and when I try to read them with gdalinfo I am getting the following
> failure:
> 
> ERROR 4: `gdalinfo failed - unable to open
> 'OMI-Aura_L2-OMDOMINO_2008m1007t2337-o22510_v883-2008m1008t031738.he5 not
> recognised as a supported file format.
> 
> gdalinfo failed - unable to open
> 'OMI-Aura_L2-OMDOMINO_2008m1007t2337-o22510_v883-2008m1008t031738.he5'.
> 
> 
> I am using gdalinfo version GDAL 1.6.0dev, FWTools 2.0.6, released
> 2008/02/03.

Thomas,

I can confirm that FWTools for windows 2.2.6 (the current release)
includes HDF5 support.  You might want to confirm whether your FWTools
release includes HDF5 by issuing the command:

gdalinfo --format hdf5

If you get something like:

Format Details:
   Short Name: HDF5
   Long Name: Hierarchical Data Format Release 5
   Extension: hdf5
   Help Topic: frmt_hdf5.html

then you have the driver.

The file(s) you reference seem pretty big so I have avoided downloading
and testing myself. But if you have the HDF5 driver and cannot open your
files it is likely they are an HDF5 variation not supported by the driver.
Filing a ticket in the GDAL trac would be helpful in this situation, but
please at least test with the latest FWTools first.

Best regards,--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rush at winkey.org  Mon Oct 20 12:56:24 2008
From: rush at winkey.org (brian)
Date: Mon Oct 20 12:56:29 2008
Subject: [gdal-dev] Problem with image overview creation in GTiff files
In-Reply-To: <48F7AC21.3000306@missouri.edu>
References: <48F7AC21.3000306@missouri.edu>
Message-ID: <1224521784.15881.2.camel@winkey.org>

by any chance do these tiffs have 4 bands? rgba?

brian

On Thu, 2008-10-16 at 16:03 -0500, Ozy Sjahputera wrote:
> I am trying to create image overviews for a GTiff file using 
> GDALDataset::BuildOverviews. I keep getting various errors such as:
> 
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
> writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "ImageWidth" while 
> writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag 
> "PlanarConfiguration" while writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "BitsPerSample" 
> while writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "SamplesPerPixel" 
> while writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
> writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag 
> "PhotometricInterpretation" while writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "SampleFormat" while 
> writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileWidth" while 
> writing
> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileLength" while 
> writing
> ERROR 1: TIFFBuildOverviews:Can not write tiles to a stripped image
> 
> 
> Here is my code:
> 
>     int OverviewList[5] = { 2, 4, 8, 16, 32 };
>     CPLErr overview_err = outDS->BuildOverviews( "AVERAGE_MAGPHASE", 5, 
> OverviewList, 0, NULL, NULL, NULL );
> 
> 
> I have used BuildOverviews before on HFA images and they are fine. Any idea?
> 
> Thanks
> Ozy
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From randre at gmail.com  Mon Oct 20 14:37:34 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon Oct 20 14:37:38 2008
Subject: [gdal-dev] Problem reprojecting from EPSG:4326 to EPSG:900913
Message-ID: <9c2015090810201137l3cd344a7r3ba40077f524ff28@mail.gmail.com>

Hi Everyone,

I'm having some issues when reprojecting data via a WMS request to
MapServer.  While I realize this only touches on the gdal side of things
slightly (I'm using the gdal driver and FWTools version 2.0.6 in Linux), I'm
hoping the problem is one that someone on this list may have encountered.
Very briefly, here's what's happening.  I have an image file that is
completely unprojected, and which spans a global extent in pixels that are
.025 x .025 degrees in size.  I have assigned this file an SRS of EPSG:4326,
and am trying to display it with an SRS of 900913 in Google Maps.  The
reprojection seems to work, at least in that the edges of the data set line
up correctly with all of the features in Google Maps, but there are
horizontal lines across my data in various places.  When I replicate the WMS
call for one of these bad tiles,

http://localhost/cgi-bin/mapserv?
map=/var/www/mapfiles/test_20m/test.map
&layers=imagery
&srs=EPSG%3A900913
&version=1.1.1
&bbox=-20037508.34%2C-20037508.34%2C-10018754.1704%2C-10018754.1704
&service=WMS
&width=256
&styles=
&format=image%2Fpng
&request=GetMap
&height=256

I get back an image that is 256 x 256 pixels, but where the bottom 4 rows of
pixels are essentially empty (they're filled with the MapServer background
color).  The pixels that are correctly represented are also stretched a bit
in the Y-axis as well.  If I screw around with my projection definition for
EPSG:900913 and add an ellipsoid definition, +ellps=WGS84, the missing 4
pixels will be correctly rendered in this particular example, but if I look
closely at other parts of the data, in other zoom levels, the same problem
reappears.

I've also tried reprojecting the data to EPSG:900913 first, and then
displaying the data in Google Maps without making any sort of reprojection
request.  What I get then from the image request above is a tile that is
filled 2/3 with correctly sized pixels (no y-axis stretch), and 1/3 is
empty.  So I'm guessing that my definition of Google's projection is not
correct, but I have no clue how to fix it.  I've used the definition found
at http://spatialreference.org/ref/user/google-projection/, and also at
http://trac.openlayers.org/wiki/SphericalMercator.

<900913> +proj=merc +ellps=WGS84 +a=6378137 +b=6378137 +lat_ts=0.0
+lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs <>

It seems pretty well researched at both of these sites, but I have never
seen the "+nadgrids=@null" parameter before.  I've read the info about it at
http://proj.maptools.org/faq.html, but don't fully understand it.

Thanks in advance for any help or advice you can give me.

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081020/0bc0d3f0/attachment.html
From even.rouault at mines-paris.org  Mon Oct 20 14:56:39 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 20 14:56:55 2008
Subject: [gdal-dev] Problem with image overview creation in GTiff files
In-Reply-To: <48FC38A3.4010706@sarvision.nl>
References: <48F7AC21.3000306@missouri.edu> <48F8DC30.9070204@pobox.com>
	<48FC38A3.4010706@sarvision.nl>
Message-ID: <200810202056.41016.even.rouault@mines-paris.org>

Vincent,

Thanks for your hints. I've tried the following python script :

import gdal
ds=gdal.GetDriverByName('GTiff').Create('tiled.tif',10000,10000,4)
ds.GetRasterBand(1).Fill(0)
ds.BuildOverviews('NEAR', overviewlist = [2])

(I think it is important that the size of the image must be big enough in 
comparison to the block cache so that actual data goes to the disk before the 
overview building. The fact that it is tiled and compressed doesn't change 
the behaviour)

On trunk, the scripts fails with the error messages reported in the previous 
emails. I also confirms that closing and reopening in update mode works 
around the error.
On branches/1.5 it succeeds.

Then I imported frmt/gtiff/libtiff/* from a trunk tree into an 1.5 tree, 
compiled and the test fails
And the opposite,  I imported frmt/gtiff/libtiff/* from a 1.5 tree into a 
trunk tree, compiled and the test succeeds

So it is clearly a refresh from upstream libtiff in trunk since 1.5 that broke 
that test.

Ticket http://trac.osgeo.org/gdal/ticket/2621 created

Even

Le Monday 20 October 2008 09:52:03 Vincent Schut, vous avez ?crit?:
> Frank Warmerdam wrote:
> > Ozy Sjahputera wrote:
> >> I am trying to create image overviews for a GTiff file using
> >> GDALDataset::BuildOverviews. I keep getting various errors such as:
> >>
> >> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression"
> >> while writing
> >
> > ...
> >
> >> writing
> >> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileLength" while
> >> writing
> >> ERROR 1: TIFFBuildOverviews:Can not write tiles to a stripped image
> >>
> >>
> >> Here is my code:
> >>
> >>    int OverviewList[5] = { 2, 4, 8, 16, 32 };
> >>    CPLErr overview_err = outDS->BuildOverviews( "AVERAGE_MAGPHASE", 5,
> >> OverviewList, 0, NULL, NULL, NULL );
> >>
> >>
> >> I have used BuildOverviews before on HFA images and they are fine. Any
> >> idea?
> >
> > Ozy,
> >
> > I'm surprised.  I wonder if you might have opened your file in read-only
> > mode?  Can you reproduce the problem with the gdaladdo commandline
> > program?
> >
> > Best regards,
>
> Frank,
>
> I'm encountering this issue pretty frequently. It happens when I create
> a tiled, compressed tiff (I'm using python but apparently that doesn't
> make a difference), write tile data into it, and then call the
> buildOverviews method. I thought I'd reported this issue (at least to
> this list), but it might have slipped my mind. Because I've found and by
> default implemented a fairly simple workaround, I totally forgot about
> it till now. The workaround is simple: first close and reopen the
> dataset, then buildOverviews. Haven't tried if flushing instead of
> reopening is enough.
> Should I file a ticket on this?
>
> Vincent.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From klokan at klokan.cz  Mon Oct 20 17:22:00 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Mon Oct 20 17:22:03 2008
Subject: [Gdal-dev] Is Gdal2tiles working somewhere?
In-Reply-To: <20056950.post@talk.nabble.com>
References: <20056950.post@talk.nabble.com>
Message-ID: <6e41d95b0810201422ncf9a7bfo59b4245b81062703@mail.gmail.com>

Hello Pascal,

I am not completely sure what kind of example you would like to see...

Would you like to generate TMS tiles for a map in local map
projection (like French RGF93 based Lambert) and overlay it with
existing data from WMS server in the same projection?

That's not supported now. It means to add the Local TMS Profile to GDAL2Tiles...

Old GDAL2Tiles supports only raster based cutting.
New GDAL2Tiles from this year (the one I used for Grand Canyon overlay
tiles) generates only Global Mercator profile tiles.

I hope somewhen during this week I will publish a merged version of
those two which will support TMS tiles in the Mercator profile
(EPSG:900913), in the Gedetic profile (EPSG:4326) and also the old
raster based tiles.

The Local TMS profile described in
http://wiki.osgeo.org/wiki/Tile_Map_Service_Specification does not
have high priority for me right now. If you would like to include it
in GDAL2Tiles, I will be happy to cooperate with you on that. Feel
free to contact me directly.

> I never saw any example of this working. Even example of Kolkan, like this
> nice one: http://www.maptiler.org/example-usgs-drg-grand-canyon-gtiff/ has
> been generated for Google Maps!
>
> Am I oblige to use Google Maps?? Or to use Microsoft Map Cruncher and to
> make the necessary code to make it work inside Openlayers? Shame no?

In case you would like to only add WMS map to the generated OpenLayers
viewer with TMS tiles please check the OpenLayers project
documentation and the example
http://www.openlayers.org/dev/examples/spherical-mercator.html, which
includes both TMS and WMS layer.

The example HTML viewer generated by old GDAL2Tiles is using pixel
based coordinates, but there is commented section with sample of
projected coordinate specification in the code as well. Just play a bit with the
JavaScript code...
I will repair that in the new version of GDAL2Tiles...

TMS (and GDAL2Tiles) is not limited to the spherical mercator, but
global tile profiles is what people needs most when generating tiles.

Klokan

On Sun, Oct 19, 2008 at 6:06 PM, darrepac <pascal.darre@laposte.net> wrote:
>
> Hello,
>
> Little bit provoking subject because I really like Gdal2tiles but I do not
> see any way to get rid of the pixel viewer in openlayers and be able to
> combine a non-world raster map layer created by Gdal2tiles and an other
> classical WMS layer...
> I never saw any example of this working. Even example of Kolkan, like this
> nice one: http://www.maptiler.org/example-usgs-drg-grand-canyon-gtiff/ has
> been generated for Google Maps!
>
> Am I oblige to use Google Maps?? Or to use Microsoft Map Cruncher and to
> make the necessary code to make it work inside Openlayers? Shame no?
>
> thanks for any help or news about Gdal2tiles
> --
> View this message in context: http://www.nabble.com/Is-Gdal2tiles-working-somewhere--tp20056950p20056950.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dron at ak4719.spb.edu  Tue Oct 21 02:11:41 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Oct 21 02:22:15 2008
Subject: [gdal-dev] OGR: GetField methods problem
In-Reply-To: <a0d5dff50810171945x35052338ifcd7ab2ab095aa84@mail.gmail.com>
References: <a0d5dff50810142204v3dd4ebcci7d88c04ceb43312c@mail.gmail.com>
	<86782b610810142344o467e779eq3f35a5acca4d70b0@mail.gmail.com>
	<a0d5dff50810160112h2395f25cva79d03b21f259b98@mail.gmail.com>
	<86782b610810160121n66fb375fg57c149b11cd9ad9d@mail.gmail.com>
	<a0d5dff50810171945x35052338ifcd7ab2ab095aa84@mail.gmail.com>
Message-ID: <20081021061141.GA10439@ak4719.spb.edu>

Anton,

On Sat, Oct 18, 2008 at 11:45:49AM +0900, Anton Patrushev wrote:
> It is strange, but I have this problem again with the fresh
> installation of Ubuntu 8.04.
> I took GDAL 1.5.1 .deb packages from here
> http://les-ejk.cz/ubuntu/dists/hardy/multiverse/binary-i386/ and they
> look OK.
> But when I'm trying to compile my stuff, I get
> 
> /usr/include/gdal/ogr_feature.h undefined reference to
> 'OGRFeature::GetFieldAsDouble(int)'
> /usr/include/gdal/ogr_feature.h undefined reference to
> 'OGRFeature::GetFieldAsInteger(int)'
> /usr/include/gdal/ogr_feature.h undefined reference to
> 'OGRFeatureDefn::GetFieldIndex(char const*)'
> 
> just like with RHEL before.
> It looks pretty strange, 'cause I have all header files from gdal-dev.

That means you forgot to link with the GDAL library. Try to add '-lgdal'
option to you compilation command line.

Best regards,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From schut at sarvision.nl  Tue Oct 21 02:25:46 2008
From: schut at sarvision.nl (Vincent Schut)
Date: Tue Oct 21 02:25:50 2008
Subject: [gdal-dev] Problem with image overview creation in GTiff files
In-Reply-To: <1224521784.15881.2.camel@winkey.org>
References: <48F7AC21.3000306@missouri.edu>
	<1224521784.15881.2.camel@winkey.org>
Message-ID: <48FD75EA.10508@sarvision.nl>

brian wrote:
> by any chance do these tiffs have 4 bands? rgba?
>   
In my case (not the original reporter), no. Happens with any number of 
bands, well, at least with 3 and 7. Datatypes byte, float32 and int16, 
if I recall correctly.

Vincent.
> brian
>
> On Thu, 2008-10-16 at 16:03 -0500, Ozy Sjahputera wrote:
>   
>> I am trying to create image overviews for a GTiff file using 
>> GDALDataset::BuildOverviews. I keep getting various errors such as:
>>
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
>> writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "ImageWidth" while 
>> writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag 
>> "PlanarConfiguration" while writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "BitsPerSample" 
>> while writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "SamplesPerPixel" 
>> while writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "Compression" while 
>> writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag 
>> "PhotometricInterpretation" while writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "SampleFormat" while 
>> writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileWidth" while 
>> writing
>> ERROR 1: TIFFSetField:VISUAL.tif: Cannot modify tag "TileLength" while 
>> writing
>> ERROR 1: TIFFBuildOverviews:Can not write tiles to a stripped image
>>
>>
>> Here is my code:
>>
>>     int OverviewList[5] = { 2, 4, 8, 16, 32 };
>>     CPLErr overview_err = outDS->BuildOverviews( "AVERAGE_MAGPHASE", 5, 
>> OverviewList, 0, NULL, NULL, NULL );
>>
>>
>> I have used BuildOverviews before on HFA images and they are fine. Any idea?
>>
>> Thanks
>> Ozy
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>     
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   

From anton at orkney.co.jp  Tue Oct 21 02:44:39 2008
From: anton at orkney.co.jp (Anton Patrushev)
Date: Tue Oct 21 02:44:40 2008
Subject: [gdal-dev] OGR: GetField methods problem
In-Reply-To: <20081021061141.GA10439@ak4719.spb.edu>
References: <a0d5dff50810142204v3dd4ebcci7d88c04ceb43312c@mail.gmail.com>
	<86782b610810142344o467e779eq3f35a5acca4d70b0@mail.gmail.com>
	<a0d5dff50810160112h2395f25cva79d03b21f259b98@mail.gmail.com>
	<86782b610810160121n66fb375fg57c149b11cd9ad9d@mail.gmail.com>
	<a0d5dff50810171945x35052338ifcd7ab2ab095aa84@mail.gmail.com>
	<20081021061141.GA10439@ak4719.spb.edu>
Message-ID: <a0d5dff50810202344j6b41aafs326d48132b4c6514@mail.gmail.com>

Hi Andrey,

Of course I'm linking GDAL :)
But I finally got it!
Somehow I was using different versions of gdal and gdal-dev packages
(gdal-dev was newer).

Cheers,
Anton.

On 10/21/08, Andrey Kiselev <dron@ak4719.spb.edu> wrote:
> Anton,
>
>
>  On Sat, Oct 18, 2008 at 11:45:49AM +0900, Anton Patrushev wrote:
>  > It is strange, but I have this problem again with the fresh
>  > installation of Ubuntu 8.04.
>  > I took GDAL 1.5.1 .deb packages from here
>  > http://les-ejk.cz/ubuntu/dists/hardy/multiverse/binary-i386/ and they
>  > look OK.
>  > But when I'm trying to compile my stuff, I get
>  >
>  > /usr/include/gdal/ogr_feature.h undefined reference to
>  > 'OGRFeature::GetFieldAsDouble(int)'
>  > /usr/include/gdal/ogr_feature.h undefined reference to
>  > 'OGRFeature::GetFieldAsInteger(int)'
>  > /usr/include/gdal/ogr_feature.h undefined reference to
>  > 'OGRFeatureDefn::GetFieldIndex(char const*)'
>  >
>  > just like with RHEL before.
>  > It looks pretty strange, 'cause I have all header files from gdal-dev.
>
>
> That means you forgot to link with the GDAL library. Try to add '-lgdal'
>  option to you compilation command line.
>
>  Best regards,
>  Andrey
>
>
>
>  --
>  Andrey V. Kiselev
>  ICQ# 26871517
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From thob at dmu.dk  Tue Oct 21 03:24:36 2008
From: thob at dmu.dk (Becker, Thomas)
Date: Tue Oct 21 03:24:42 2008
Subject: [gdal-dev] he5 is not a supported format?
In-Reply-To: <48FCAD4F.2010701@pobox.com>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com><20081008213348.191eb269@tiscali.it><20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it>
	<D4AB8C2051A3D1449495F8E45815E6002739735C@dmupost.dmu.dk>
	<48FCAD4F.2010701@pobox.com>
Message-ID: <D4AB8C2051A3D1449495F8E45815E60027397392@dmupost.dmu.dk>

 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Monday, October 20, 2008 6:10 PM
To: Becker, Thomas
Cc: 'gdal-dev@lists.osgeo.org'
Subject: Re: [gdal-dev] he5 is not a supported format?

Becker, Thomas wrote:
> Hi listers,
> 
> I have a problem reading he5 files with gdal. After installing FWTools 2.0.6
> on a Suse 9 machine (compiled the sources) it seems like I do not have
> support of HDF5 files. The files I have are from the OMI tropospheric NO2
> data archive (http://www.temis.nl/airpollution/no2col/omi_data_col3.php?)
> and when I try to read them with gdalinfo I am getting the following
> failure:
> 
> ERROR 4: `gdalinfo failed - unable to open
> 'OMI-Aura_L2-OMDOMINO_2008m1007t2337-o22510_v883-2008m1008t031738.he5 not
> recognised as a supported file format.
> 
> gdalinfo failed - unable to open
> 'OMI-Aura_L2-OMDOMINO_2008m1007t2337-o22510_v883-2008m1008t031738.he5'.
> 
> 
> I am using gdalinfo version GDAL 1.6.0dev, FWTools 2.0.6, released
> 2008/02/03.

Thomas,

I can confirm that FWTools for windows 2.2.6 (the current release)
includes HDF5 support.  You might want to confirm whether your FWTools
release includes HDF5 by issuing the command:

gdalinfo --format hdf5

If you get something like:

Format Details:
   Short Name: HDF5
   Long Name: Hierarchical Data Format Release 5
   Extension: hdf5
   Help Topic: frmt_hdf5.html

then you have the driver.

The file(s) you reference seem pretty big so I have avoided downloading
and testing myself. But if you have the HDF5 driver and cannot open your
files it is likely they are an HDF5 variation not supported by the driver.
Filing a ticket in the GDAL trac would be helpful in this situation, but
please at least test with the latest FWTools first.

Best regards,--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


Frank,

I followed your advice to check if the driver is in place and you are right. The FWTools I am running do not include HDF5. However, I do not run the FWTools on a Windows machine but on Linux Suse 9. So I was wondering why the Linux version 2.0.6 of the FWTools (according to http://fwtools.maptools.org/ the current release) does not support HDF5?

When i was installing the FWTools there is only the install.sh which I used and the README.1ST. In the README.1ST HDF support is mentioned, but something went wrong.

Frank, maybe you can help me out once again!

I am also willing to run the FWTools on a Windows machine, but do I have the HDF driver at Windows or do I have to compile the driver on Windows with the VisualStudio archives from the HDF Group?

Thanks,
Thomas
From pascal.darre at laposte.net  Tue Oct 21 03:56:53 2008
From: pascal.darre at laposte.net (darrepac)
Date: Tue Oct 21 03:56:56 2008
Subject: [Gdal-dev] Is Gdal2tiles working somewhere?
In-Reply-To: <6e41d95b0810201422ncf9a7bfo59b4245b81062703@mail.gmail.com>
References: <20056950.post@talk.nabble.com>
	<6e41d95b0810201422ncf9a7bfo59b4245b81062703@mail.gmail.com>
Message-ID: <20085245.post@talk.nabble.com>


Hello Klokan



Klokan Petr P?idal wrote:
> 
> 
> 
> In case you would like to only add WMS map to the generated OpenLayers
> viewer with TMS tiles please check the OpenLayers project
> documentation and the example
> http://www.openlayers.org/dev/examples/spherical-mercator.html, which
> includes both TMS and WMS layer.
> 
> The example HTML viewer generated by old GDAL2Tiles is using pixel
> based coordinates, but there is commented section with sample of
> projected coordinate specification in the code as well. Just play a bit
> with the
> JavaScript code...
> I will repair that in the new version of GDAL2Tiles...
> 

You get it! I would like to see the same example of Grand Canyon but with
openlayers. I tried to play with the commented section of the generated
openlayers html but without success so far.



-- 
View this message in context: http://www.nabble.com/Is-Gdal2tiles-working-somewhere--tp20056950p20085245.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From aurelien.kamel at magellium.fr  Tue Oct 21 04:34:51 2008
From: aurelien.kamel at magellium.fr (=?iso-8859-1?Q?Aur=E9lien_Kamel?=)
Date: Tue Oct 21 04:34:56 2008
Subject: [gdal-dev] OGR Driver running under Linux, crashing under Windows
Message-ID: <200810210834.m9L8YqSs018288@smtp03.msg.oleane.net>

Hello,

 

I just implemented a SVG driver for OGR that works perfectly under Linux
(RedHat) with openev etc but I can?t get it working under windows.

 

When I try ?ogrinfo --formats? in a FWTools shell I see my driver listed as
readonly which is correct. But when I try ?ogrinfo ?ro samplefile.svg?
ogrinfo crash. The instance of my class OGRSVGDriver is null (I mean the
pointer ?this? in this class is equal to NULL). I?m compiling my driver with
Visual Studio 2005 and I?m linking with the lib gdal I have in FWTools
2.2.6.

 

Anybody already had such a problem ? I can?t figure where does the problem
come from


 

Regards,

Aurel

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081021/b9c634b3/attachment.html
From Dimitri.Sarafinof at ign.fr  Tue Oct 21 06:48:33 2008
From: Dimitri.Sarafinof at ign.fr (Dimitri Sarafinof)
Date: Tue Oct 21 06:51:27 2008
Subject: [gdal-dev] Kakadu library and Component transform with GDAL
Message-ID: <144AEF321DE541D19A447C4FCF2B029F@ign.fr>

Hello,

 

I?m working in the French National Geographic Institute on a project for the
French Ministry of Defence. The goal is to encode imagery in JPEG 2000.

We?re working with Kakadu library v6 (we?ve got a Commercial Enterprise
licence) and there?s no option to use the components transform (in
particular ICT) when it?s linked to GDAL. This option seems to be very
useful to compress RGB imagery and have better quality. It?s recommended to
use it for RGB data but we can?t do it with GDAL. So we would to know if
this option is going to be implemented next wit

 

Thanks a lot

 

Regards

 

 

Dimitri Sarafinof

Direction Technique ? Cellule Normalisation

Institut G?ographique National

2, Av. Pasteur 94165 Saint Mand? Cedex - France

tel: +33 1 43 98 80 00 - poste: 73 97

portable : +33 6 37 07 67 74

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081021/a481d8fc/attachment.html
From warmerdam at pobox.com  Tue Oct 21 10:31:04 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 21 10:31:26 2008
Subject: [gdal-dev] Kakadu library and Component transform with GDAL
In-Reply-To: <144AEF321DE541D19A447C4FCF2B029F@ign.fr>
References: <144AEF321DE541D19A447C4FCF2B029F@ign.fr>
Message-ID: <48FDE7A8.9050602@pobox.com>

Dimitri Sarafinof wrote:
> Hello,
> 
>  
> 
> I?m working in the French National Geographic Institute on a project for 
> the French Ministry of Defence. The goal is to encode imagery in JPEG 2000.
> 
> We?re working with Kakadu library v6 (we?ve got a Commercial Enterprise 
> licence) and there?s no option to use the components transform (in 
> particular ICT) when it?s linked to GDAL. This option seems to be very 
> useful to compress RGB imagery and have better quality. It?s recommended 
> to use it for RGB data but we can?t do it with GDAL. So we would to know 
> if this option is going to be implemented next wit

Dimitri,

Are you talking about encoding the actual image in a different color space,
like YCbCr?  I have no plans to implement this but I would certainly be
open to incorporating a patch that does this if you could come up with one.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Oct 21 10:39:06 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 21 10:39:26 2008
Subject: [gdal-dev] he5 is not a supported format?
In-Reply-To: <D4AB8C2051A3D1449495F8E45815E60027397392@dmupost.dmu.dk>
References: <20ecc0f10810081102t42c62b96of51095d785dafaa3@mail.gmail.com><20081008213348.191eb269@tiscali.it><20ecc0f10810081323t3b690333gc2a45814bd6f9c5c@mail.gmail.com>
	<20081009084239.47fbea7e@tiscali.it>
	<D4AB8C2051A3D1449495F8E45815E6002739735C@dmupost.dmu.dk>
	<48FCAD4F.2010701@pobox.com>
	<D4AB8C2051A3D1449495F8E45815E60027397392@dmupost.dmu.dk>
Message-ID: <48FDE98A.5080109@pobox.com>

Becker, Thomas wrote:
> 
> Frank,
> 
> I followed your advice to check if the driver is in place and you are right.
> The FWTools I am running do not include HDF5. However, I do not run the
> FWTools on a Windows machine but on Linux Suse 9. So I was wondering why the
> Linux version 2.0.6 of the FWTools (according to
> http://fwtools.maptools.org/ the current release) does not support HDF5?

Thomas,

It is just a omission.  HDF5 can work fine on linux.  Unfortunately, I'm
not in a position to produce new Linux FWTools releases at this time so I can't
easily correct this.

> When i was installing the FWTools there is only the install.sh which I used
> and the README.1ST. In the README.1ST HDF support is mentioned, but
> something went wrong.

The linux version does support HDF4.

> Frank, maybe you can help me out once again!
> 
> I am also willing to run the FWTools on a Windows machine, but do I have the
> HDF driver at Windows or do I have to compile the driver on Windows with the
> VisualStudio archives from the HDF Group?

The FWTools for windows (recent release) already includes HDF5 so you shouldn't
need to compile anything if you just wanted to use gdal_translate or other
existing tools.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mo at discoveraai.com  Tue Oct 21 11:09:24 2008
From: mo at discoveraai.com (Mo Wang)
Date: Tue Oct 21 11:09:26 2008
Subject: [gdal-dev] to write earth coordinates into NITF image subheader
Message-ID: <9E8339A1A958CA43851FF336135F43ADC07E07@admin.discover-aai.office>

Hi all,

 

There is a function called NITFReadBLOCKA_GCPs in nitfimage.c that can
read earth coordinates for image corner locations in the NITF image
subheader to provide higher precision. Is there a function that can
write higher precision earth coordinates into the NITF image subheader?
Is there an option in gdal_translate so that the earth coordinates can
be written into the NITF image subheader? Thanks in advance.

 

Mo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081021/8c8a1b35/attachment.html
From warmerdam at pobox.com  Tue Oct 21 11:20:57 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 21 11:21:26 2008
Subject: [gdal-dev] to write earth coordinates into NITF image subheader
In-Reply-To: <9E8339A1A958CA43851FF336135F43ADC07E07@admin.discover-aai.office>
References: <9E8339A1A958CA43851FF336135F43ADC07E07@admin.discover-aai.office>
Message-ID: <48FDF359.60201@pobox.com>

Mo Wang wrote:
> Hi all,
> 
>  
> 
> There is a function called NITFReadBLOCKA_GCPs in nitfimage.c that can 
> read earth coordinates for image corner locations in the NITF image 
> subheader to provide higher precision. Is there a function that can 
> write higher precision earth coordinates into the NITF image subheader? 
> Is there an option in gdal_translate so that the earth coordinates can 
> be written into the NITF image subheader? Thanks in advance.

Mo,

Currently GDAL does not support creating a BLOCKA segment automatically
from GCPs.  If you know exactly what you are doing, you can create BLOCKA
segment but you need to pass the appropriate creation options when creating
the NITF file.  There is some documentation of this in:

   http://www.gdal.org/frmt_nitf.html

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Dimitri.Sarafinof at ign.fr  Tue Oct 21 10:56:12 2008
From: Dimitri.Sarafinof at ign.fr (Dimitri Sarafinof)
Date: Tue Oct 21 11:24:20 2008
Subject: [gdal-dev] Kakadu library and Component transform with GDAL
In-Reply-To: <48FDE7A8.9050602@pobox.com>
Message-ID: <6685DED06A08461C83727D12B30E6E19@ign.fr>

Dimitri Sarafinof wrote:
> Hello,
> 
>  
> 
> I'm working in the French National Geographic Institute on a project for 
> the French Ministry of Defence. The goal is to encode imagery in JPEG
2000.
> 
> We're working with Kakadu library v6 (we've got a Commercial Enterprise 
> licence) and there's no option to use the components transform (in 
> particular ICT) when it's linked to GDAL. This option seems to be very 
> useful to compress RGB imagery and have better quality. It's recommended 
> to use it for RGB data but we can't do it with GDAL. So we would to know 
> if this option is going to be implemented next wit

Dimitri,

Are you talking about encoding the actual image in a different color space,
like YCbCr?  I have no plans to implement this but I would certainly be
open to incorporating a patch that does this if you could come up with one.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


Franck,

I'm talking about encoding an RGB image with a multiple component transform
which is described in JPEG 2000 specification (ISO 15444-1, Annexe G.2 and
G.3). This is a decorrelating transformation applied to the first three
components of an image...it's not really a color space change because JPEG
2000 data are displaying in RGB. 
That can be made with the Kakadu binaries (option "CyccC=yes" with
Kdu_compress). We've also seen that it was automatically used with ECWJP2
library but not with the JP2KAK one...

Best Regards

Dimitri

From Shawn.Gong at drdc-rddc.gc.ca  Tue Oct 21 12:24:02 2008
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Tue Oct 21 12:23:23 2008
Subject: [gdal-dev] write gtk list using a fix width font
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E120227@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

I am displaying an ASCII file content to a gtk scrolled window, using
GtkListItem() and GtkList(). The problem is that I want to use a fix
width font so that text indents are aligned.  Python default font is
Arial. Is there an easy way to use Courier font 10pt?


thanks,
Shawn


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081021/4edf050a/attachment.html
From warmerdam at pobox.com  Tue Oct 21 13:05:47 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 21 13:06:11 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Planning Meeting
Message-ID: <48FE0BEB.3050804@pobox.com>

Folks,

I'd like to hold a meeting for planning the GDAL/OGR 1.6 release this
Friday at 10:00am EST (1400 GMT).

   http://trac.osgeo.org/gdal/wiki/ThirdMeeting

All members of the development community with an interest in the release
are invited to attend.  We should be planning our release timetable, and
establishing if there are new features to get in before the release efforts
start.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From cryan at csse.com.au  Wed Oct 22 02:01:36 2008
From: cryan at csse.com.au (Fodder)
Date: Wed Oct 22 02:01:38 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <20080602111220.GB19383@ak4719.spb.edu>
References: <17591913.post@talk.nabble.com> <48433C99.1000207@pobox.com>
	<17592248.post@talk.nabble.com>
	<20080602111220.GB19383@ak4719.spb.edu>
Message-ID: <20104473.post@talk.nabble.com>


The latest version of GdalGrid (in FWTools) seems to not use the radius
values properly for the Nearest algorithm. In my project, I used 4000 for
both but I ended up with very little circles around the data points. Using
the same radius values for the Inverse Distance algorithm produced values
for the entire display (which is what I would expect because my entire
project is 4000x4000).

Cheers,
Fodder




Andrey Kiselev wrote:
> 
> On Sun, Jun 01, 2008 at 05:29:26PM -0700, Fodder wrote:
>> - One more thing I've noticed. The 'nearest' interpolation algorithm
>> doesn't seem to accept the defaults of 0 (meaning whole array) for
>> radius1 & radius 2, when used like this:
> 
> That is know bug and it was fixed:
> 
>  http://trac.osgeo.org/gdal/ticket/2237
> 
> Just grab the newer GDAL.
> 
> Best regards,
> Andrey
> 
> -- 
> Andrey V. Kiselev
> ICQ# 26871517
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/gdal_grid%3A-Comments-from-a-new-player-tp17591913p20104473.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From cryan at csse.com.au  Wed Oct 22 02:16:08 2008
From: cryan at csse.com.au (Fodder)
Date: Wed Oct 22 02:16:14 2008
Subject: [Gdal-dev] OGR: DXF driver
In-Reply-To: <48F648AA.1030409@carto.net>
References: <200810091407.m99E7Lhv009854@smtp01.msg.oleane.net>
	<19965390.post@talk.nabble.com> <48F4B67A.2060403@pobox.com>
	<19985330.post@talk.nabble.com> <48F607F1.4050102@pobox.com>
	<37155.193.246.86.39.1224083917.squirrel@webmail.customers.iirc.at>
	<48F60DCB.5090607@pobox.com> <48F648AA.1030409@carto.net>
Message-ID: <20104608.post@talk.nabble.com>


Hi,

Please refer to my email, I'm happy to play a role.

Cheers,

Fodder



Andreas Neumann-7 wrote:
> 
> I understand. It is not a big contract. I will see who could take the 
> lead. I know of several organizations in Switzerland who would have an 
> interest in an OGR dxf driver, in particular if it would enable the 
> display of dxf files within QuantumGIS. I will investigate and see who 
> could be the single point of contact for you.

-- 
View this message in context: http://www.nabble.com/OGR%3A-DXF-driver-tp19899742p20104608.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From dron at ak4719.spb.edu  Wed Oct 22 03:34:14 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Oct 22 03:51:24 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <20104473.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com> <48433C99.1000207@pobox.com>
	<17592248.post@talk.nabble.com>
	<20080602111220.GB19383@ak4719.spb.edu>
	<20104473.post@talk.nabble.com>
Message-ID: <20081022073414.GA26032@ak4719.spb.edu>

On Tue, Oct 21, 2008 at 11:01:36PM -0700, Fodder wrote:
> The latest version of GdalGrid (in FWTools) seems to not use the
> radius values properly for the Nearest algorithm. In my project, I
> used 4000 for both but I ended up with very little circles around the
> data points. Using the same radius values for the Inverse Distance
> algorithm produced values for the entire display (which is what I
> would expect because my entire project is 4000x4000).

I have found (and fixed) the small problem introduced with my previous
fix for

 http://trac.osgeo.org/gdal/ticket/2237

It goes in trunk and 1.5 brunch.

Best regards,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From dron at ak4719.spb.edu  Wed Oct 22 03:36:18 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Oct 22 03:51:25 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Planning Meeting
In-Reply-To: <48FE0BEB.3050804@pobox.com>
References: <48FE0BEB.3050804@pobox.com>
Message-ID: <20081022073618.GB26032@ak4719.spb.edu>

On Tue, Oct 21, 2008 at 01:05:47PM -0400, Frank Warmerdam wrote:
> I'd like to hold a meeting for planning the GDAL/OGR 1.6 release this
> Friday at 10:00am EST (1400 GMT).
> 
>   http://trac.osgeo.org/gdal/wiki/ThirdMeeting

+1


-- 
Andrey V. Kiselev
ICQ# 26871517
From saretta.lucca at hotmail.it  Wed Oct 22 09:27:04 2008
From: saretta.lucca at hotmail.it (sara lucca)
Date: Wed Oct 22 09:27:06 2008
Subject: [gdal-dev] (no subject)
Message-ID: <BLU107-W5476931DABE78A3C813F6A81290@phx.gbl>


Hi,

I'm an Italian university student and I'm working on LiDAR scanlations with GRASS and the data I'm using were in LAS format. 
One of the problem I've encountered is the conversion of the LAS file in file that GRASS can manage (ASCII).


I
saw that this format is not present in your supported format and I
would like to know if there is any project aimed at adding this format
in your vector format list.


Sorry for my bad english and thanks for the attention
Sara

_________________________________________________________________
Screensaver e sfondi? Scaricali dallo Spaces di Doretta!
https://cid-97b0d995232b954a.skydrive.live.com/home.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081022/eec054d2/attachment.html
From neteler at osgeo.org  Wed Oct 22 09:49:06 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Oct 22 09:49:08 2008
Subject: [gdal-dev] (no subject)
In-Reply-To: <BLU107-W5476931DABE78A3C813F6A81290@phx.gbl>
References: <BLU107-W5476931DABE78A3C813F6A81290@phx.gbl>
Message-ID: <86782b610810220649l3a91e03ao40f2db5d7718774e@mail.gmail.com>

On Wed, Oct 22, 2008 at 3:27 PM, sara lucca <saretta.lucca@hotmail.it> wrote:
> Hi,
>
> I'm an Italian university student and I'm working on LiDAR scanlations with
> GRASS and the data I'm using were in LAS format.
> One of the problem I've encountered is the conversion of the LAS file in
> file that GRASS can manage (ASCII).
>
> I saw that this format is not present in your supported format and I would
> like to know if there is any project aimed at adding this format in your
> vector format list.

C'? una nuova libreria:
libLAS - LAS 1.0/1.1 ASPRS LiDAR data translation toolset
http://liblas.org/

che contiene 'las2txt.txt':
http://liblas.org/browser/trunk/doc/las2txt.txt

poi v.in.ascii... dovrebbe funzionare.

Vedi anche
http://hobu.biz/2008/02/09/liblas-open-source-lidarlas-format-library/

ciao
Markus
From joelodom at gmail.com  Wed Oct 22 10:09:10 2008
From: joelodom at gmail.com (Joel Odom)
Date: Wed Oct 22 10:09:13 2008
Subject: [gdal-dev] Heap Corruption
Message-ID: <d422b4500810220709l4e05d694m8c82af38eb2cfcb9@mail.gmail.com>

Anybody knows why these two lines of code cause corruption on the heap?
 Thanks.
OGRPoint* ogr_point = new OGRPoint(5.0, 5.0);
delete ogr_point;




-- 
http://giscoder.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081022/0a94661d/attachment.html
From warmerdam at pobox.com  Wed Oct 22 10:23:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 22 10:24:02 2008
Subject: [gdal-dev] Heap Corruption
In-Reply-To: <d422b4500810220709l4e05d694m8c82af38eb2cfcb9@mail.gmail.com>
References: <d422b4500810220709l4e05d694m8c82af38eb2cfcb9@mail.gmail.com>
Message-ID: <48FF375C.5030701@pobox.com>

Joel Odom wrote:
> Anybody knows why these two lines of code cause corruption on the heap? 
>  Thanks.
> 
> OGRPoint* ogr_point = new OGRPoint(5.0, 5.0);
> delete ogr_point;

Joel,

My guess is that you are doing this "cross heap".  Are you running on windows?
Do you build your application calling OGR with /MD?  If not your application
code may have a distinct heap from the GDAL DLL and this makes it very hard
to safely create and destroy c++ objects using new and delete.

Assuming you don't want to harmonize the heap, the normal solution is to
ensure creation and destruction are done within the DLL.  So change to
something like:

   OGRPoint *ogr_point = (OGRPoint *)
            OGRGeometryFactory::createGeometry( wkbPoint );

   ogr_point->setX( 5.0 );
   ogr_point->setY( 5.0 );

   ...

   OGRGeometryFactory::destroyGeometry( ogr_point );

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From joelodom at gmail.com  Wed Oct 22 10:34:59 2008
From: joelodom at gmail.com (Joel Odom)
Date: Wed Oct 22 10:35:02 2008
Subject: [gdal-dev] Heap Corruption
In-Reply-To: <48FF375C.5030701@pobox.com>
References: <d422b4500810220709l4e05d694m8c82af38eb2cfcb9@mail.gmail.com>
	<48FF375C.5030701@pobox.com>
Message-ID: <d422b4500810220734y37d7d883n25a16c9ac0f99917@mail.gmail.com>

Frank, this was the problem.  Thanks for your help.
For the list archives, here is another working sample (essentially the same
as what Frank put below).

OGRPoint* p = (OGRPoint*)OGRGeometryFactory::createGeometry(wkbPoint);
p->setX(3.141);
p->setY(2.718);
OGRGeometryFactory::destroyGeometry(p);




On Wed, Oct 22, 2008 at 10:23 AM, Frank Warmerdam <warmerdam@pobox.com>wrote:

> Joel Odom wrote:
>
>> Anybody knows why these two lines of code cause corruption on the heap?
>>  Thanks.
>>
>> OGRPoint* ogr_point = new OGRPoint(5.0, 5.0);
>> delete ogr_point;
>>
>
> Joel,
>
> My guess is that you are doing this "cross heap".  Are you running on
> windows?
> Do you build your application calling OGR with /MD?  If not your
> application
> code may have a distinct heap from the GDAL DLL and this makes it very hard
> to safely create and destroy c++ objects using new and delete.
>
> Assuming you don't want to harmonize the heap, the normal solution is to
> ensure creation and destruction are done within the DLL.  So change to
> something like:
>
>  OGRPoint *ogr_point = (OGRPoint *)
>           OGRGeometryFactory::createGeometry( wkbPoint );
>
>  ogr_point->setX( 5.0 );
>  ogr_point->setY( 5.0 );
>
>  ...
>
>  OGRGeometryFactory::destroyGeometry( ogr_point );
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
http://giscoder.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081022/553922f3/attachment.html
From prushfor at NRCan.gc.ca  Wed Oct 22 11:53:52 2008
From: prushfor at NRCan.gc.ca (Rushforth, Peter)
Date: Wed Oct 22 11:53:55 2008
Subject: [gdal-dev] Using ogr / gdal libraries in java programs
Message-ID: <E3942D3EB127854BBBC18511759DD0030148FC59@S0-OTT-X2.nrn.nrcan.gc.ca>

Hi,

I'm interested in using ogr and gdal libraries in java applications.  Would you please point me to relevant wiki / documentation / external web sites which might help in figuring out how to do that? Is there javadoc on the library? How does that work, anyway?

Or, if anyone has a code example of this, that would be probably even better, as I could code by modification.

Thanks!

Cheers,

Peter Rushforth
Technology Advisor / Conseiller technique
GeoConnections / G?oConnexions
650-615 Booth St. / rue Booth
Ottawa ON K1A 0E9
E-mail / Courriel: Peter.Rushforth@NRCan.gc.ca 
Phone / T?lephone: (613) 943-0784 
Fax / telecopier:  (613) 947-2410
From warmerdam at pobox.com  Wed Oct 22 12:54:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 22 12:55:21 2008
Subject: [gdal-dev] Using ogr / gdal libraries in java programs
In-Reply-To: <E3942D3EB127854BBBC18511759DD0030148FC59@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <E3942D3EB127854BBBC18511759DD0030148FC59@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <48FF5ADB.5070208@pobox.com>

Rushforth, Peter wrote:
> Hi,
> 
> I'm interested in using ogr and gdal libraries in java applications.  Would
> you please point me to relevant wiki / documentation / external web sites
> which might help in figuring out how to do that? Is there javadoc on the
> library? How does that work, anyway?
> 
> Or, if anyone has a code example of this, that would be probably even
> better, as I could code by modification.

Peter,

The primary information on using GDAL from Java is accessable from:

   http://trac.osgeo.org/gdal/wiki/GdalOgrInJava

Note that this is a wiki and you are encouraged to extend it.

There are no javadoc docs for the GDAL Java bindings.  You are generally
expected to work out the java details by examination of the .java files and
relate them back to the C++ docs as reference.

Building the Java bindings has proven a bit challenging (for me at least) in
the past, but it is doable.  I would note that the Java bindings are currently
without an active primary maintainer so they don't get as much love as they
ought to.

OSGeo4W includes a gdal-java package if you are working on windows.  On
Linux or MacOS X I think you will need to build them yourself from source.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Kai-Behncke at gmx.de  Wed Oct 22 15:32:02 2008
From: Kai-Behncke at gmx.de (Kai Behncke)
Date: Wed Oct 22 15:32:05 2008
Subject: [gdal-dev] Odd things after using ogr2ogr
Message-ID: <20081022193202.217080@gmx.net>

Dear users,

I have tried to find out for several hours a misterious thing.

I have downloaded data from Open Street Map. With Quantum GIS I selected some streets
 and exported that selection to a new shapefile (selektion_roads).
Eveything seems to be fine.

With ogrinfo I get the following output:

http://www.selbstverwaltung-bundesweit.de/test/selektion_roads_4326.PNG

Than I reprojected these data with ogr2ogr.

I did like that:"ogr2ogr -t_srs epsg:31467 E:/selektion_roads_31467.shp E:/selektion_roads.shp

Again I did "ogrinfo" and everything looks fine:


http://www.selbstverwaltung-bundesweit.de/test/selektion_roads_31467.PNG


then the weird thing start. I Load "selektion_roads_4326" in Quantum GIS (under the 4326-projection)
and after that "selektion_roads_31467" (here I use on the fly the 4326-projection)
but the layer don`t lay over each other, there is a mismatch of about 50 meter.

See her:
http://www.selbstverwaltung-bundesweit.de/test/mystery.PNG

How can this be?  Might this be a bug in reprojection?

Thank you for any hints in advance, Kai
-- 
Psssst! Schon vom neuen GMX MultiMessenger geh?rt? Der kann`s mit allen: http://www.gmx.net/de/go/multimessenger
From warmerdam at pobox.com  Wed Oct 22 16:27:34 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 22 16:28:04 2008
Subject: [gdal-dev] Odd things after using ogr2ogr
In-Reply-To: <20081022193202.217080@gmx.net>
References: <20081022193202.217080@gmx.net>
Message-ID: <48FF8CB6.4070109@pobox.com>

Kai Behncke wrote:
> then the weird thing start. I Load "selektion_roads_4326" in Quantum GIS (under the 4326-projection)
> and after that "selektion_roads_31467" (here I use on the fly the 4326-projection)
> but the layer don`t lay over each other, there is a mismatch of about 50 meter.
> 
> See her:
> http://www.selbstverwaltung-bundesweit.de/test/mystery.PNG
> 
> How can this be?  Might this be a bug in reprojection?

Kai,

I imagine there is an issue with how the datum shifting is being done.
It looks to me that by default EPSG:31467 does not have datum shift
parameters supplied with it (as expected by GDAL/OGR).

Is it possible that your qgis uses PROJ.4.4.9 and your ogr2ogr uses
4.5.0?  (or the other way around)?

If so, the default rules for shifting between ellipsoids without stated
datum parameters will be different.

Even if they are the same version, I would suspect that one way there
are proper datum shift parameters being used, and the other way there
are not.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From michaeljean at ncf.ca  Wed Oct 22 17:29:58 2008
From: michaeljean at ncf.ca (G. Michael Jean)
Date: Wed Oct 22 18:03:08 2008
Subject: [gdal-dev] using gdal_translate with RS2
Message-ID: <9e0599c807.9c8079e059@ncf.ca>

Hi

I am trying to read RS2 format using gdal and output a GTiff. On my
primary system i686 32 bit ubuntu o/s it doesn't work:

mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
gdal_translate product.xml out.tif
Input file contains subdatasets. Please, select one of them for reading.
mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
Input file contains subdatasets. Please, select one of them for reading.
mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
cd ..
mjean@buttercup:~/products$ cd RS*
mjean@buttercup:~/products/RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF$
gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
Input file contains subdatasets. Please, select one of them for reading.
mjean@buttercup:~/products/RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF$
uname -a
Linux buttercup 2.6.24-21-generic #1 SMP Mon Aug 25 17:32:09 UTC 2008
i686 GNU/Linux


When I try the same command/data on a windows system it works:
D:\RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF>gdal_translate
RADARSAT_2_CALIB:BETA0:product.xml test.tif

Input file size is 8766, 7731

0...10...20...30...40...50...60...70...80...90...100 - done.



D:\PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF>gdal_translate
RADARSAT_2_CALIB:BETA0:product.xml

test.tif

Warning 1: TIFFReadDirectory:Unknown field with tag 34595 (0x8723)
encountered

Warning 1: TIFFReadDirectory:Unknown field with tag 34595 (0x8723)
encountered

Input file size is 11893, 11464

0...10...20...30...40...50...60...70...80...90...100 - done.



D:\PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF>ver



Microsoft Windows XP [Version 5.1.2600]


Has anyone else experienced this? Is the RS2 driver fully
tested/supported for linux as well as windows?

Michael
From philippe at cowpig.ca  Wed Oct 22 18:14:35 2008
From: philippe at cowpig.ca (Philippe Vachon)
Date: Wed Oct 22 18:37:39 2008
Subject: [gdal-dev] using gdal_translate with RS2
In-Reply-To: <9e0599c807.9c8079e059@ncf.ca>
References: <9e0599c807.9c8079e059@ncf.ca>
Message-ID: <20081022221435.GC13088@cowpig.ca>

Hi,

Just out of curiosity, are you using the 'stable' branch, GDAL 1.5? I'm
unable to reproduce the issue using the development branch, but I don't
have a GDAL 1.5 tree handy to build and test. What I might suggest is
grabbing a snapshot of the GDAL 1.6 tree (or doing an SVN checkout of
it), building it on your Ubuntu system, then running gdal_translate in
the apps/ directory there.

I actually am guilty of the opposite crime -- I haven't tested the
driver on Windows, but the development I did was done on Linux. Good to
see that it works there, though.

Cheers,
Phil

On Wed, Oct 22, 2008 at 05:29:58PM -0400, G. Michael Jean wrote:
> Hi
> 
> I am trying to read RS2 format using gdal and output a GTiff. On my
> primary system i686 32 bit ubuntu o/s it doesn't work:
> 
> mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
> gdal_translate product.xml out.tif
> Input file contains subdatasets. Please, select one of them for reading.
> mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
> gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
> Input file contains subdatasets. Please, select one of them for reading.
> mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
> cd ..
> mjean@buttercup:~/products$ cd RS*
> mjean@buttercup:~/products/RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF$
> gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
> Input file contains subdatasets. Please, select one of them for reading.
> mjean@buttercup:~/products/RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF$
> uname -a
> Linux buttercup 2.6.24-21-generic #1 SMP Mon Aug 25 17:32:09 UTC 2008
> i686 GNU/Linux
> 
> 
> When I try the same command/data on a windows system it works:
> D:\RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF>gdal_translate
> RADARSAT_2_CALIB:BETA0:product.xml test.tif
> 
> Input file size is 8766, 7731
> 
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> 
> 
> 
> D:\PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF>gdal_translate
> RADARSAT_2_CALIB:BETA0:product.xml
> 
> test.tif
> 
> Warning 1: TIFFReadDirectory:Unknown field with tag 34595 (0x8723)
> encountered
> 
> Warning 1: TIFFReadDirectory:Unknown field with tag 34595 (0x8723)
> encountered
> 
> Input file size is 11893, 11464
> 
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> 
> 
> 
> D:\PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF>ver
> 
> 
> 
> Microsoft Windows XP [Version 5.1.2600]
> 
> 
> Has anyone else experienced this? Is the RS2 driver fully
> tested/supported for linux as well as windows?
> 
> Michael
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From randre at gmail.com  Wed Oct 22 19:38:20 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Oct 22 19:38:22 2008
Subject: [gdal-dev] Going between gdal nodata and GMT NaN
Message-ID: <9c2015090810221638h21fd8904w40564598da0420ad@mail.gmail.com>

Sooooooo... apparently nodata values are not converted to NaN when doing
something like a gdal_translate from GeoTiff to GMT format.  Is there a way
that anyone knows to do this?

Thanks,

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081022/d399c8a2/attachment.html
From cryan at csse.com.au  Wed Oct 22 21:33:44 2008
From: cryan at csse.com.au (Fodder)
Date: Wed Oct 22 21:33:46 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <20081022073414.GA26032@ak4719.spb.edu>
References: <17591913.post@talk.nabble.com> <48433C99.1000207@pobox.com>
	<17592248.post@talk.nabble.com>
	<20080602111220.GB19383@ak4719.spb.edu>
	<20104473.post@talk.nabble.com>
	<20081022073414.GA26032@ak4719.spb.edu>
Message-ID: <20122862.post@talk.nabble.com>


Thanks Andrey


Andrey Kiselev wrote:
> 
> On Tue, Oct 21, 2008 at 11:01:36PM -0700, Fodder wrote:
>> The latest version of GdalGrid (in FWTools) seems to not use the
>> radius values properly for the Nearest algorithm. In my project, I
>> used 4000 for both but I ended up with very little circles around the
>> data points. Using the same radius values for the Inverse Distance
>> algorithm produced values for the entire display (which is what I
>> would expect because my entire project is 4000x4000).
> 
> I have found (and fixed) the small problem introduced with my previous
> fix for
> 
>  http://trac.osgeo.org/gdal/ticket/2237
> 
> It goes in trunk and 1.5 brunch.
> 
> Best regards,
> Andrey
> 
> 
> -- 
> Andrey V. Kiselev
> ICQ# 26871517
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/gdal_grid%3A-Comments-from-a-new-player-tp17591913p20122862.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From dron at ak4719.spb.edu  Thu Oct 23 02:26:54 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Thu Oct 23 02:36:16 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <20122862.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com> <48433C99.1000207@pobox.com>
	<17592248.post@talk.nabble.com>
	<20080602111220.GB19383@ak4719.spb.edu>
	<20104473.post@talk.nabble.com>
	<20081022073414.GA26032@ak4719.spb.edu>
	<20122862.post@talk.nabble.com>
Message-ID: <20081023062654.GA8672@ak4719.spb.edu>

On Wed, Oct 22, 2008 at 06:33:44PM -0700, Fodder wrote:
> > I have found (and fixed) the small problem introduced with my
> > previous fix for
> > 
> >  http://trac.osgeo.org/gdal/ticket/2237
> > 
> > It goes in trunk and 1.5 brunch.
> 
> Thanks Andrey

Please, test whether it fixes your problem.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From Kai-Behncke at gmx.de  Thu Oct 23 05:01:29 2008
From: Kai-Behncke at gmx.de (Kai Behncke)
Date: Thu Oct 23 05:01:33 2008
Subject: [gdal-dev] Odd things after using ogr2ogr
In-Reply-To: <48FF8CB6.4070109@pobox.com>
References: <20081022193202.217080@gmx.net> <48FF8CB6.4070109@pobox.com>
Message-ID: <20081023090129.23400@gmx.net>

Dear Frank,

thank you for that hint.

> I imagine there is an issue with how the datum shifting is being done.
> It looks to me that by default EPSG:31467 does not have datum shift
> parameters supplied with it (as expected by GDAL/OGR).

Is there a possibility to put this datum shift parameters manually?

> Even if they are the same version, I would suspect that one way there
> are proper datum shift parameters being used, and the other way there
> are not.

In which way there are proper datum shift parametes used?

Thank you very much again, Kai

-- 
GMX Kostenlose Spiele: Einfach online spielen und Spa? haben mit Pastry Passion!
http://games.entertainment.gmx.net/de/entertainment/games/free/puzzle/6169196
From bh at ipf.tuwien.ac.at  Thu Oct 23 05:27:29 2008
From: bh at ipf.tuwien.ac.at (=?ISO-8859-1?Q?Bernhard_H=F6fle?=)
Date: Thu Oct 23 05:43:29 2008
Subject: [gdal-dev] GRASS support for Windows
Message-ID: <49004381.7030106@ipf.tuwien.ac.at>

Hi!

I have seen ticket #1983 (http://trac.osgeo.org/gdal/ticket/1983). I would like to compile GDAL (on 
Windows) with GRASS support using Visual Studio (i.e. nmake). Unfortunately, I cannot give it a try 
because the link to the VC GRASS built (within QGIS SVN?: 
https://svn.qgis.org/trac/browser/trunk/qgis/src/providers/grass/vc/) does not work anymore and I do 
need the GRASS *.lib files.

Is this patch (ticket #1983), posted 1 year ago, the latest state for building with GRASS support 
for windows?

Thanks in advance,
Bernhard

From Kai-Behncke at gmx.de  Thu Oct 23 06:03:35 2008
From: Kai-Behncke at gmx.de (Kai Behncke)
Date: Thu Oct 23 06:03:39 2008
Subject: [gdal-dev] Odd things after using ogr2ogr
In-Reply-To: <20081023090129.23400@gmx.net>
References: <20081022193202.217080@gmx.net> <48FF8CB6.4070109@pobox.com>
	<20081023090129.23400@gmx.net>
Message-ID: <20081023100335.60730@gmx.net>

Dear users:

I did it in the following way: With gdalwarp I projected an air image to 31467.
With ogr2ogr I transformed a shape from 4326 to 31467.

To have a comparison I transformed my data also with ArcGIS.

Then I loaded the data (in Quantum GIS and in ArcGIS)- everything looked fine, so I have got what I want.
Furthermore I compared with other already projected geodata, everything wonderfull!


Then I loaded the original-shape file (4326) in Quantum GIS and made on the fly
 a projection of these data to 31467 - and then the skip occured.

You can see the result in the following image:
http://www.selbstverwaltung-bundesweit.de/test/loesung.PNG

(selektion_roads are the original data (4326) projected to 31467 in Q-GIS,
selektion_roads_31467 transformed with fwtools).

However, with the air image and selektion_roads_31467 I have got what I wanted.

Best regards, Kai
-------- Original-Nachricht --------
> Datum: Thu, 23 Oct 2008 11:01:29 +0200
> Von: "Kai Behncke" <Kai-Behncke@gmx.de>
> An: Frank Warmerdam <warmerdam@pobox.com>, gdal-dev@lists.osgeo.org
> Betreff: Re: [gdal-dev] Odd things after using ogr2ogr

> Dear Frank,
> 
> thank you for that hint.
> 
> > I imagine there is an issue with how the datum shifting is being done.
> > It looks to me that by default EPSG:31467 does not have datum shift
> > parameters supplied with it (as expected by GDAL/OGR).
> 
> Is there a possibility to put this datum shift parameters manually?
> 
> > Even if they are the same version, I would suspect that one way there
> > are proper datum shift parameters being used, and the other way there
> > are not.
> 
> In which way there are proper datum shift parametes used?
> 
> Thank you very much again, Kai
> 
> -- 
> GMX Kostenlose Spiele: Einfach online spielen und Spa? haben mit Pastry
> Passion!
> http://games.entertainment.gmx.net/de/entertainment/games/free/puzzle/6169196
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Ist Ihr Browser Vista-kompatibel? Jetzt die neuesten 
Browser-Versionen downloaden: http://www.gmx.net/de/go/browser
From neteler at osgeo.org  Thu Oct 23 06:28:43 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Oct 23 06:28:45 2008
Subject: [gdal-dev] GRASS support for Windows
In-Reply-To: <49004381.7030106@ipf.tuwien.ac.at>
References: <49004381.7030106@ipf.tuwien.ac.at>
Message-ID: <86782b610810230328q96b2c7dq3d63cd0f961e6b2a@mail.gmail.com>

On Thu, Oct 23, 2008 at 11:27 AM, Bernhard H?fle <bh@ipf.tuwien.ac.at> wrote:
> Is this patch (ticket #1983), posted 1 year ago, the latest state for
> building with GRASS support for windows?

I have added a comment there:
http://trac.osgeo.org/gdal/ticket/1983#comment:2

Markus
From Steven.Mullins at dmme.virginia.gov  Thu Oct 23 08:13:19 2008
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Thu Oct 23 08:14:17 2008
Subject: [gdal-dev] Build OGR with ESRI SDE
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8303C237A7@exch2k1.dmmenet.mme.state.va.us>

I am interested in using OGR to read data from an ArcSDE (9.2-9.3) database.  The manual page at http://www.gdal.org/ogr/drv_sde.html indicates that GDAL must be compiled "with the ESRI provided ArcSDE client libraries".  

Before I sink a lot a time into this, can anyone share their experience compiling OGR with ESRI libraries for SDE?  What specific steps need to be taken to accomplish this?

Thanks in advance for your help.

Steve

From szekerest at gmail.com  Thu Oct 23 08:45:21 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct 23 08:45:23 2008
Subject: [gdal-dev] Build OGR with ESRI SDE
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8303C237A7@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8303C237A7@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <f3b73b7d0810230545n4fdecfa0jfc7869a57c536c77@mail.gmail.com>

Steve,

If you require a Windows based build, you should identify the location
of your SDE client lib and header files and modify your gdal nmake.opt
accordingly:

SDE_ENABLED = YES
SDE_VERSION=92
SDE_PLUGIN = YES
SDE_SDK = C:\arcgis\arcsde
SDE_INC = $(SDE_SDK)\include
SDE_LIB = $(SDE_SDK)\lib\pe$(SDE_VERSION).lib \
          $(SDE_SDK)\lib\sde$(SDE_VERSION).lib
$(SDE_SDK)\lib\sg$(SDE_VERSION).lib


In a Visual Studio command prompt you can do something like:

> cd [GDAL_DIR]\ogr\ogrsf_frmts\sde
> nmake /f makefile.vc ogr_SDE.dll
> cd [GDAL_DIR]\frmts\sde
> nmake /f makefile.vc plugin
	
Best regards,

Tamas



2008/10/23 Mullins, Steven <Steven.Mullins@dmme.virginia.gov>:
> I am interested in using OGR to read data from an ArcSDE (9.2-9.3) database.  The manual page at http://www.gdal.org/ogr/drv_sde.html indicates that GDAL must be compiled "with the ESRI provided ArcSDE client libraries".
>
> Before I sink a lot a time into this, can anyone share their experience compiling OGR with ESRI libraries for SDE?  What specific steps need to be taken to accomplish this?
>
> Thanks in advance for your help.
>
> Steve
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Thu Oct 23 10:19:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 23 10:20:06 2008
Subject: [gdal-dev] Build OGR with ESRI SDE
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8303C237A7@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8303C237A7@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <490087FD.7010703@pobox.com>

Mullins, Steven wrote:
> I am interested in using OGR to read data from an ArcSDE (9.2-9.3) database.
> The manual page at http://www.gdal.org/ogr/drv_sde.html indicates that GDAL
> must be compiled "with the ESRI provided ArcSDE client libraries".
> 
> Before I sink a lot a time into this, can anyone share their experience
> compiling OGR with ESRI libraries for SDE?  What specific steps need to be
> taken to accomplish this?

Steve,

On linux this boils down to setting one or both of:

   --with-sde=DIR        Include ESRI SDE support (DIR is SDE's install dir).
   --with-sde-version=VERSION NUMBER  Set ESRI SDE version number (Default is 80)

when configuring.  On Windows setting of:

#SDE_ENABLED = YES
#SDE_VERSION=91
#SDE_PLUGIN = NO
#SDE_SDK = C:\arcgis\arcsde
#SDE_INC = $(SDE_SDK)\include
#SDE_LIB = $(SDE_SDK)\lib\pe$(SDE_VERSION).lib \
#          $(SDE_SDK)\lib\sde$(SDE_VERSION).lib 
$(SDE_SDK)\lib\sg$(SDE_VERSION).lib

in gdal/nmake.opt


I'd appreciate someone setting up a topic on SDE under:

   http://trac.osgeo.org/gdal/wiki/BuildHints

if interesting information is collected.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Steven.Mullins at dmme.virginia.gov  Thu Oct 23 10:41:57 2008
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Thu Oct 23 10:42:35 2008
Subject: [gdal-dev] Build OGR with ESRI SDE
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8304C39794@exch2k1.dmmenet.mme.state.va.us>

Thanks everyone for the pointers.  I assume the Linux version compiles with GCC.  From what I read, Visual Studio is needed for a win32 compile, which I do not have.  Any chance I could do this with GCC in win32? 

Thanks again,

Steve

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent: Thu, October 23, 2008 10:20 AM
To: Mullins, Steven
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Build OGR with ESRI SDE


Mullins, Steven wrote:
> I am interested in using OGR to read data from an ArcSDE (9.2-9.3) database.
> The manual page at http://www.gdal.org/ogr/drv_sde.html indicates that GDAL
> must be compiled "with the ESRI provided ArcSDE client libraries".
> 
> Before I sink a lot a time into this, can anyone share their experience
> compiling OGR with ESRI libraries for SDE?  What specific steps need to be
> taken to accomplish this?

Steve,

On linux this boils down to setting one or both of:

   --with-sde=DIR        Include ESRI SDE support (DIR is SDE's install dir).
   --with-sde-version=VERSION NUMBER  Set ESRI SDE version number (Default is 80)

when configuring.  On Windows setting of:

#SDE_ENABLED = YES
#SDE_VERSION=91
#SDE_PLUGIN = NO
#SDE_SDK = C:\arcgis\arcsde
#SDE_INC = $(SDE_SDK)\include
#SDE_LIB = $(SDE_SDK)\lib\pe$(SDE_VERSION).lib \
#          $(SDE_SDK)\lib\sde$(SDE_VERSION).lib 
$(SDE_SDK)\lib\sg$(SDE_VERSION).lib

in gdal/nmake.opt


I'd appreciate someone setting up a topic on SDE under:

   http://trac.osgeo.org/gdal/wiki/BuildHints

if interesting information is collected.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu Oct 23 11:15:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 23 11:15:41 2008
Subject: [gdal-dev] Odd things after using ogr2ogr
In-Reply-To: <20081023090129.23400@gmx.net>
References: <20081022193202.217080@gmx.net> <48FF8CB6.4070109@pobox.com>
	<20081023090129.23400@gmx.net>
Message-ID: <490094FB.4050400@pobox.com>

Kai Behncke wrote:
> Dear Frank,
> 
> thank you for that hint.
> 
>> I imagine there is an issue with how the datum shifting is being done.
>> It looks to me that by default EPSG:31467 does not have datum shift
>> parameters supplied with it (as expected by GDAL/OGR).
> 
> Is there a possibility to put this datum shift parameters manually?

Kai,

Yes, it should be possible though perhaps tricky.

With ogr2ogr you can replace EPSG:31467 with a PROJ.4 style definition
instead which would look like this:

   +proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +datum=potsdam

without any datum shift parameters.  Doh! I see that in fact this
does have datum shift parameters since +datum=potsdam expands internally
within PROJ.4 to:

   +towgs84=606.0,23.0,413.0 +ellps=bessel

OK - so EPSG:31467 is likely fine.  I imagine the problem then is that
QGIS is not associating appropriate datum shift parameters when back-shifting.
I tried assigning EPSG:31467 to a shapefile here, and then examining what
OGR uses as the PROJ.4 translation and got:

   +proj=tmerc +lat_0=0 +lon_0=9 +k=1 +x_0=3500000 +y_0=0 +ellps=bessel

So the problem appears to be that once the coordinate system is converted
to ESRI WKT format (in the .prj file associated with the shapefile) the
relationship of the coordinate system to the potsdam DHDN 1950 datum is
lost - at least as far as OGR can work out.  So presumably the datum
shift is properly applied by ogr2ogr, but thereafter OGR (and consequently
QGIS) does not recognise the datum properly.

This is a common sort of problem.  Even when we know the properly EPSG
datum shift info it is often lost when the coordinate system is converted
to less expressive file formats.

One work around would be to add some specific translation rules
for datums named D_Deutsches_Hauptdreiecksnetz in the OGR
morphFromESRI() code but this would need to be done on a case by
case basis for all datums of interest and to be honest I'm not even
sure OGR is converting this to the expected ESRI datum name.

Grr.  I'm so sick of coordinate system related issues!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From michaeljean at ncf.ca  Thu Oct 23 12:15:00 2008
From: michaeljean at ncf.ca (G. Michael Jean)
Date: Thu Oct 23 12:15:01 2008
Subject: [gdal-dev] using gdal_translate with RS2
Message-ID: <b3671b9434.b9434b3671@ncf.ca>

Thanks for the response Phil.

When I looked more closely at my linux system I learned that using
synaptic to install gdal on ubuntu from source
http://archive.canonical.com/ubuntu (hardy) gave me version 1.4.4. I
hadn't noticed  the version installed was out of date. I installed 1.6
by compiling source as you suggested, ran my test again and it worked.

mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
Input file size is 11893, 11464
0...10...20...30...40...50...60...70...80...90...100 - done.
mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$
gdal_translate
Usage: gdal_translate [--help-general]
       [-ot {Byte/Int16/UInt16/UInt32/Int32/Float32/Float64/
             CInt16/CInt32/CFloat32/CFloat64}] [-strict]
       [-of format] [-b band] [-expand {rgb|rgba}]
       [-outsize xsize[%] ysize[%]]
       [-scale [src_min src_max [dst_min dst_max]]]
       [-srcwin xoff yoff xsize ysize] [-projwin ulx uly lrx lry]
       [-a_srs srs_def] [-a_ullr ulx uly lrx lry] [-a_nodata value]
       [-gcp pixel line easting northing [elevation]]*
       [-mo "META-TAG=VALUE"]* [-quiet] [-sds]
       [-co "NAME=VALUE"]*
       src_dataset dst_dataset

GDAL 1.6.0dev, released 2008/00/00


Much appreciated!

----- Original Message -----
From: Philippe Vachon <philippe@cowpig.ca>
Date: Wednesday, October 22, 2008 6:14 pm
Subject: Re: [gdal-dev] using gdal_translate with RS2

> Hi,
> 
> Just out of curiosity, are you using the 'stable' branch, GDAL 1.5? 
> I'munable to reproduce the issue using the development branch, but 
> I don't
> have a GDAL 1.5 tree handy to build and test. What I might suggest is
> grabbing a snapshot of the GDAL 1.6 tree (or doing an SVN checkout of
> it), building it on your Ubuntu system, then running gdal_translate in
> the apps/ directory there.
> 
> I actually am guilty of the opposite crime -- I haven't tested the
> driver on Windows, but the development I did was done on Linux. 
> Good to
> see that it works there, though.
> 
> Cheers,
> Phil
> 
> On Wed, Oct 22, 2008 at 05:29:58PM -0400, G. Michael Jean wrote:
> > Hi
> > 
> > I am trying to read RS2 format using gdal and output a GTiff. On my
> > primary system i686 32 bit ubuntu o/s it doesn't work:
> > 
> > 
>
mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$>
gdal_translate product.xml out.tif
> > Input file contains subdatasets. Please, select one of them for 
> reading.> 
>
mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$>
gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
> > Input file contains subdatasets. Please, select one of them for 
> reading.> 
>
mjean@buttercup:~/products/PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF$>
cd ..
> > mjean@buttercup:~/products$ cd RS*
> > 
>
mjean@buttercup:~/products/RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF$>
gdal_translate RADARSAT_2_CALIB:BETA0:product.xml out.tif
> > Input file contains subdatasets. Please, select one of them for 
> reading.> 
>
mjean@buttercup:~/products/RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF$>
uname -a
> > Linux buttercup 2.6.24-21-generic #1 SMP Mon Aug 25 17:32:09 UTC 
> 2008> i686 GNU/Linux
> > 
> > 
> > When I try the same command/data on a windows system it works:
> > 
>
D:\RS2_OK2775_PK36076_DK35381_S2_20081010_130353_HH_HV_SGF>gdal_translate>
RADARSAT_2_CALIB:BETA0:product.xml test.tif
> > 
> > Input file size is 8766, 7731
> > 
> > 0...10...20...30...40...50...60...70...80...90...100 - done.
> > 
> > 
> > 
> > 
>
D:\PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF>gdal_translate>
RADARSAT_2_CALIB:BETA0:product.xml
> > 
> > test.tif
> > 
> > Warning 1: TIFFReadDirectory:Unknown field with tag 34595 (0x8723)
> > encountered
> > 
> > Warning 1: TIFFReadDirectory:Unknown field with tag 34595 (0x8723)
> > encountered
> > 
> > Input file size is 11893, 11464
> > 
> > 0...10...20...30...40...50...60...70...80...90...100 - done.
> > 
> > 
> > 
> > 
>
D:\PK5351_DK112_RS2_OK645_PK5351_DK112_W2_S5_S6_01205_20080307_225936_HH_HV_SGF>ver>

> > 
> > 
> > Microsoft Windows XP [Version 5.1.2600]
> > 
> > 
> > Has anyone else experienced this? Is the RS2 driver fully
> > tested/supported for linux as well as windows?
> > 
> > Michael
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From szekerest at gmail.com  Thu Oct 23 12:21:07 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct 23 12:21:09 2008
Subject: [gdal-dev] Build OGR with ESRI SDE
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C39794@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C39794@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <f3b73b7d0810230921l65ba8645n562d2e0982c95fda@mail.gmail.com>

2008/10/23 Mullins, Steven <Steven.Mullins@dmme.virginia.gov>:
> Thanks everyone for the pointers.  I assume the Linux version compiles with GCC.  From what I read, Visual Studio is needed for a win32 compile, which I do not have.

You can download and install the Visual Studio Express for free:

http://www.microsoft.com/Express/


You can probably compile GDAL with CygWin as well, however it may
require further hackings in the gnu makefiles which may be
challenging.


Best regards,

Tamas
From even.rouault at mines-paris.org  Thu Oct 23 14:18:21 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 23 14:18:54 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Planning Meeting
In-Reply-To: <48FE0BEB.3050804@pobox.com>
References: <48FE0BEB.3050804@pobox.com>
Message-ID: <200810232018.22799.even.rouault@mines-paris.org>

I won't be able to attend. FYI, I don't plan personally any new features that 
would delay the release process.

Recently I think I hit #2621 while using gdal in an app. As I was writing my 
code against trunk, I've corrected it to work around (close and re-open) 
without realizing it was a regression but that could break some existing apps 
(in my case, a 'save as' function with overview building at the same time)

Le Tuesday 21 October 2008 19:05:47 Frank Warmerdam, vous avez ?crit?:
> Folks,
>
> I'd like to hold a meeting for planning the GDAL/OGR 1.6 release this
> Friday at 10:00am EST (1400 GMT).
>
>    http://trac.osgeo.org/gdal/wiki/ThirdMeeting
>
> All members of the development community with an interest in the release
> are invited to attend.  We should be planning our release timetable, and
> establishing if there are new features to get in before the release efforts
> start.
>
> Best regards,


From guanqf at gmail.com  Thu Oct 23 15:25:56 2008
From: guanqf at gmail.com (Qingfeng (Gene) Guan)
Date: Thu Oct 23 15:26:10 2008
Subject: [gdal-dev] a question about GDALDataset::RasterIO
Message-ID: <4900CFC4.1040604@gmail.com>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081023/cabba3da/attachment.html
From matt.wilkie at gov.yk.ca  Thu Oct 23 16:51:05 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Oct 23 16:51:14 2008
Subject: [gdal-dev] error allocatint [sic] destination buffer
Message-ID: <4900E3B9.6080704@gov.yk.ca>

Dear gdal-dev,

I'm mosaicking a series of DEMs with gdalwarp and getting a series of 
errors in the form:

    ERROR 2: Out of memory allocatint 428788524 byte destination buffer.

My command is (wrapped for legibility):

   gdalwarp -r bilinear -multi --config GDAL_CACHEMAX 500 -wm 500
    -ot uint16 -dstnodata 0
    y:\GeoTIFF\DEM\cded50k\\dem_105a.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105b.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105c.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105d.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105e.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105f.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105g.tif
    y:\GeoTIFF\DEM\cded50k\\dem_105h.tif
    dem_mosaic.tif

the input files in question can be nabbed from 
ftp://ftp.geomaticsyukon.ca/DEMs/CDED_50k/

gdalwarp --version
GDAL 1.5.3, released 2008/09/09 (on WinXPx64 SP2, osgeo4w)

Is this a bug (aside from misspelling "allocating")? If not, what am I 
doing wrong? I've used these options before though perhaps not in this 
combination.

best regards,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From szekerest at gmail.com  Thu Oct 23 17:15:27 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct 23 17:15:30 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Planning Meeting
In-Reply-To: <48FE0BEB.3050804@pobox.com>
References: <48FE0BEB.3050804@pobox.com>
Message-ID: <f3b73b7d0810231415i32e3743ev61a6c31715cbeb33@mail.gmail.com>

It looks like a good plan, I hope I can attend.
Currently I don't have any pending additions which would block the
release process, however I volunteer to extend the windows slaves of
the buildbot configuration by adding further drivers to be compiled
in, and alter the autotest to use SWIG python when running the tests.
I guess this will help to detect some further issues before the release.

Best regards,

Tamas



2008/10/21 Frank Warmerdam <warmerdam@pobox.com>:
> Folks,
>
> I'd like to hold a meeting for planning the GDAL/OGR 1.6 release this
> Friday at 10:00am EST (1400 GMT).
>
>  http://trac.osgeo.org/gdal/wiki/ThirdMeeting
>
> All members of the development community with an interest in the release
> are invited to attend.  We should be planning our release timetable, and
> establishing if there are new features to get in before the release efforts
> start.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From even.rouault at mines-paris.org  Thu Oct 23 17:29:18 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Oct 23 17:29:22 2008
Subject: [gdal-dev] error allocatint [sic] destination buffer
In-Reply-To: <4900E3B9.6080704@gov.yk.ca>
References: <4900E3B9.6080704@gov.yk.ca>
Message-ID: <200810232329.19163.even.rouault@mines-paris.org>

The only idea I have is pretty obvious and I guess you'd already have it, you 
probably require more memory than available. The --config GDAL_CACHEMAX 
500 -wm 500 options require at least 1 GB. Otherwise it's a more subtle bug. 
Unfortunately it's not very practical to try to reproduce it as your input 
datasets are pretty big to download.

I've downloaded the first two files and observed that they are at the same 
resolution and projection so you could probably use gdal_merge.py instead 
From bclay at ball.com  Thu Oct 23 17:32:09 2008
From: bclay at ball.com (Clay, Bruce)
Date: Thu Oct 23 17:34:47 2008
Subject: [gdal-dev] Build OGR with ESRI SDE
In-Reply-To: <1C6192D3F2755C45A2D0658D6FE5ED8304C39794@exch2k1.dmmenet.mme.state.va.us>
References: <1C6192D3F2755C45A2D0658D6FE5ED8304C39794@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <C482FF98AE985A47B8C982FD429C9E34028CC55B@daytonmsg2k3.AERO.BALL.COM>

Steve:
  One word of caution is to make sure you build all of the supporting
modules (expat, xerces, geos etc) in the same mode.  I spent
considerable time over that past week chasing bizarre crashes that gave
heap errors and other crashes down in Microsoft space only to find that
one of the lower level modules pulled in msvcp80.dll (or something
similar and the other modules pulled in the debug version of the same
file.  

I don't know how ESRI gets GDAL.dll to run on all systems unless they
include files from the c++ redistribution patch in their installation
because in addition to the above headaches I also have to apply a
Microsoft patch to the computers to get even the most basic GDAL program
(like gdalinfo) to run.  It will run where the compiler is but when you
are ready to distribute the program it must be built in release mode and
the patch must go on.

If you also intend to create a c# application to work with ESRI code
make sure your OGR c# code is built with the same execution mode.  Other
than a few headaches like the above you can merge GDAL and ArcObjects
together to get visualization and speed.  Let the GDAL/OGR code do the
heavy lifting and the ArcObjects code do the rest.

Ok, so it was a bit more than one word of caution.

Bruce


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Mullins, Steven
Sent: Thursday, October 23, 2008 10:42 AM
To: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Build OGR with ESRI SDE

Thanks everyone for the pointers.  I assume the Linux version compiles
with GCC.  From what I read, Visual Studio is needed for a win32
compile, which I do not have.  Any chance I could do this with GCC in
win32? 

Thanks again,

Steve

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent: Thu, October 23, 2008 10:20 AM
To: Mullins, Steven
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Build OGR with ESRI SDE


Mullins, Steven wrote:
> I am interested in using OGR to read data from an ArcSDE (9.2-9.3)
database.
> The manual page at http://www.gdal.org/ogr/drv_sde.html indicates that
GDAL
> must be compiled "with the ESRI provided ArcSDE client libraries".
> 
> Before I sink a lot a time into this, can anyone share their
experience
> compiling OGR with ESRI libraries for SDE?  What specific steps need
to be
> taken to accomplish this?

Steve,

On linux this boils down to setting one or both of:

   --with-sde=DIR        Include ESRI SDE support (DIR is SDE's install
dir).
   --with-sde-version=VERSION NUMBER  Set ESRI SDE version number
(Default is 80)

when configuring.  On Windows setting of:

#SDE_ENABLED = YES
#SDE_VERSION=91
#SDE_PLUGIN = NO
#SDE_SDK = C:\arcgis\arcsde
#SDE_INC = $(SDE_SDK)\include
#SDE_LIB = $(SDE_SDK)\lib\pe$(SDE_VERSION).lib \
#          $(SDE_SDK)\lib\sde$(SDE_VERSION).lib 
$(SDE_SDK)\lib\sg$(SDE_VERSION).lib

in gdal/nmake.opt


I'd appreciate someone setting up a topic on SDE under:

   http://trac.osgeo.org/gdal/wiki/BuildHints

if interesting information is collected.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
From ivan.lucena at pmldnet.com  Thu Oct 23 18:33:21 2008
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Thu Oct 23 18:33:22 2008
Subject: =?utf-8?B?UkU6IFtnZGFsLWRldl0gQnVpbGQgT0dSIHdpdGggRVNSSSBTREU=?=
Message-ID: <20081023223321.22016.qmail@s466.sureserver.com>

Bruce,

>  I don't know how ESRI gets GDAL.dll to run on all systems unless they
>  include files from the c++ redistribution patch in their installation
>  because in addition to the above headaches I also have to apply a
>  Microsoft patch to the computers to get even the most basic GDAL program
>  (like gdalinfo) to run.  It will run where the compiler is but when you
>  are ready to distribute the program it must be built in release mode and
>  the patch must go on.

I had a similar problem a year ago developing a ArcMap extension that also uses GDAL. 

Since my ArcObject-based-DLL was launched on ArcMAP it was carrying the same process environment, meaning the same PATH and GDAL_DRIVER_PATH environment variable. The GDAL distribution on ArcGIS doesn't need to use GDAL_DRIVER_PATH but I wanted it load my plugin. The problem is that their GDAL 13 was no compatible with the one we all use and makes the loadlibrary to crash.

I tried to set and reset those variable internally on my code, before and after using the GDAL but that prove to be a bad idea since it certainly could cause disruption on ArcMAP.

The solution was to get their version of gdal_i.lib and .h's, but I guess you (or the entity you represent) would need to be a ESRI business partner to get that. 

Then I was able to compile my GDAL plugin and let the gdal13.dll on ArcMAP to find and load my plugin successfully.

Good luck and please keep us posted.

Ivan


From matt.wilkie at gov.yk.ca  Thu Oct 23 19:50:22 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Oct 23 19:50:55 2008
Subject: [gdal-dev] error allocatint [sic] destination buffer
In-Reply-To: <200810232329.19163.even.rouault@mines-paris.org>
References: <4900E3B9.6080704@gov.yk.ca>
	<200810232329.19163.even.rouault@mines-paris.org>
Message-ID: <49010DBE.2060201@gov.yk.ca>

Hi Even,

I have 4gb of ram on this machine and task manager reported max usage
was around 2gb. I wasn't using gdal_merge because in the past that
hasn't produced a seamless mosaic. That was some years ago though so I
should probably try again.

I tried again specifying 300 instead of 500 for memory usage and it 
worked, topping out at 2.9gb of ram usage according to sysinternals 
Process Explorer. So I'm guessing that the first time the 2gb figure I 
was seeing in ram usage was what gdal was already using, not what it 
asked for and failed to get.

thanks,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


Even Rouault wrote:
> The only idea I have is pretty obvious and I guess you'd already have it, you 
> probably require more memory than available. The --config GDAL_CACHEMAX 
> 500 -wm 500 options require at least 1 GB. Otherwise it's a more subtle bug. 
> Unfortunately it's not very practical to try to reproduce it as your input 
> datasets are pretty big to download.
> 
> I've downloaded the first two files and observed that they are at the same 
> resolution and projection so you could probably use gdal_merge.py instead 
> 
> 


From daniele.romagnoli at geo-solutions.it  Fri Oct 24 03:36:28 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Fri Oct 24 03:36:31 2008
Subject: [gdal-dev] Is it possible to "hide" some ERROR messages?
Message-ID: <7221db410810240036u44dea3b9o240fe55a2db84880@mail.gmail.com>

Hi list,
Is it somehow possible to customize/hide some GDAL error messages?
I know error messages are really useful to fix/understand problems.
Anyway, let me expose my use case:

I simply need to check if I can obtain a Dataset for a file and return a
boolean.
If I get a Dataset, great! Otherwise... no problem. :)
The user won't see messages like this "ERROR 4: `c:\mydataformat.frmt' not
recognised as a supported file format" (although by this way he will never
know why no Dataset has ben acquired).

Is there some setConfigOption("xxx",) to hide (some) error messages?

Thank you.
Regards,

Daniele


-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081024/901beb6b/attachment.html
From battisti at actgate.com  Fri Oct 24 06:45:51 2008
From: battisti at actgate.com (Andrea Battisti)
Date: Fri Oct 24 06:45:59 2008
Subject: [gdal-dev] Projection info when creating GeoTIFFs
Message-ID: <4901A75F.2050303@actgate.com>

Hi all,


I have a quick question on how the Projection information is handled
when creating GeoTIFF files using GDAL's GTIFF driver.

As stated here:
http://www.gdal.org/frmt_gtiff.html

GDAL uses some auxiliary .csv files to pick-up the correct CS.

>From this message:
http://lists.osgeo.org/pipermail/gdal-dev/2008-October/018555.html

I see that those files are: pcs.csv and gcs.csv but it is unclear to me
if they should (or not) be edited adding the desired projection.


How does the process work for a generic Projection?
As an example, what are the steps needed to convert an existing file
using the 'tpeqd' projection (wkt: 'PROJECTION["Two_Point_Equidistant"]' )
to a GeoTIFF file with the same projection?
Using GDAL's CreateCopy doesn't seem to preserve that projection, while
it does with different output drivers, e.g. HFA, VRT...



Thanks in advance!

-- 
Andrea Battisti
Applied Coherent Technology Corp.

From 2voodoo at gmx.de  Fri Oct 24 07:35:51 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Fri Oct 24 07:36:03 2008
Subject: [gdal-dev] Is it possible to "hide" some ERROR messages?
In-Reply-To: <7221db410810240036u44dea3b9o240fe55a2db84880@mail.gmail.com>
References: <7221db410810240036u44dea3b9o240fe55a2db84880@mail.gmail.com>
Message-ID: <4901B317.2040907@gmx.de>

Hi Daniele,

were to you get those error message? Since GDAL is a library  it
shouldn't come up with thing like this - at least not errors which are
shown to the user automatically (like message boxes or std::out prints
(I guess). So if your application gets no dataset for a file it will get
NULL returned, you can then do with this information what you want -
either inform the user about it or not.

Bye,
Tom

Daniele Romagnoli schrieb:
> Hi list,
> Is it somehow possible to customize/hide some GDAL error messages?
> I know error messages are really useful to fix/understand problems.
> Anyway, let me expose my use case:
>
> I simply need to check if I can obtain a Dataset for a file and return
> a boolean.
> If I get a Dataset, great! Otherwise... no problem. :)
> The user won't see messages like this "ERROR 4: `c:\mydataformat.frmt'
> not recognised as a supported file format" (although by this way he
> will never know why no Dataset has ben acquired).
>
> Is there some setConfigOption("xxx",) to hide (some) error messages?
>
> Thank you.
> Regards,
>
> Daniele
>
>
> -- 
> -------------------------------------------------------
> Eng. Daniele Romagnoli
> Software Engineer
>
> GeoSolutions S.A.S.
> Via Carignoni 51
> 55041 Camaiore (LU)
> Italy
>
> phone: +39 0584983027
> fax:     +39 0584983027
> mob:   +39 328 0559267
>
>
> http://www.geo-solutions.it
>
> -------------------------------------------------------
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From schut at sarvision.nl  Fri Oct 24 07:44:35 2008
From: schut at sarvision.nl (Vincent Schut)
Date: Fri Oct 24 07:44:37 2008
Subject: [gdal-dev] Is it possible to "hide" some ERROR messages?
In-Reply-To: <4901B317.2040907@gmx.de>
References: <7221db410810240036u44dea3b9o240fe55a2db84880@mail.gmail.com>
	<4901B317.2040907@gmx.de>
Message-ID: <4901B523.8070207@sarvision.nl>

Daniele,

this thread should give you some hints:

http://lists.osgeo.org/pipermail/gdal-dev/2003-March/000323.html

Regards,
Vincent.

Tom Kazimiers wrote:
> Hi Daniele,
>
> were to you get those error message? Since GDAL is a library  it
> shouldn't come up with thing like this - at least not errors which are
> shown to the user automatically (like message boxes or std::out prints
> (I guess). So if your application gets no dataset for a file it will get
> NULL returned, you can then do with this information what you want -
> either inform the user about it or not.
>
> Bye,
> Tom
>
> Daniele Romagnoli schrieb:
>   
>> Hi list,
>> Is it somehow possible to customize/hide some GDAL error messages?
>> I know error messages are really useful to fix/understand problems.
>> Anyway, let me expose my use case:
>>
>> I simply need to check if I can obtain a Dataset for a file and return
>> a boolean.
>> If I get a Dataset, great! Otherwise... no problem. :)
>> The user won't see messages like this "ERROR 4: `c:\mydataformat.frmt'
>> not recognised as a supported file format" (although by this way he
>> will never know why no Dataset has ben acquired).
>>
>> Is there some setConfigOption("xxx",) to hide (some) error messages?
>>
>> Thank you.
>> Regards,
>>
>> Daniele
>>
>>
>> -- 
>> -------------------------------------------------------
>> Eng. Daniele Romagnoli
>> Software Engineer
>>
>> GeoSolutions S.A.S.
>> Via Carignoni 51
>> 55041 Camaiore (LU)
>> Italy
>>
>> phone: +39 0584983027
>> fax:     +39 0584983027
>> mob:   +39 328 0559267
>>
>>
>> http://www.geo-solutions.it
>>
>> -------------------------------------------------------
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>     
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   

From daniele.romagnoli at geo-solutions.it  Fri Oct 24 08:35:12 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Fri Oct 24 08:35:16 2008
Subject: [gdal-dev] Is it possible to "hide" some ERROR messages?
In-Reply-To: <4901B523.8070207@sarvision.nl>
References: <7221db410810240036u44dea3b9o240fe55a2db84880@mail.gmail.com>
	<4901B317.2040907@gmx.de> <4901B523.8070207@sarvision.nl>
Message-ID: <7221db410810240535t45164cbaw4dfaee0655023737@mail.gmail.com>

Hi Tom, Vincent,
I'm using GDAL via Java by means of the SWIG bindings.
The error message automatically appears on the console when I call the
gdal.Open(name, accessType) method and GDAL is unable to open the dataset.
Anyway, I have just taken a look on the thread suggested by Vincent and now
I can quiet the errors. Thank you.

Regards,
Daniele


On Fri, Oct 24, 2008 at 1:44 PM, Vincent Schut <schut@sarvision.nl> wrote:

> Daniele,
>
> this thread should give you some hints:
>
> http://lists.osgeo.org/pipermail/gdal-dev/2003-March/000323.html
>
> Regards,
> Vincent.
>
>
> Tom Kazimiers wrote:
>
>> Hi Daniele,
>>
>> were to you get those error message? Since GDAL is a library  it
>> shouldn't come up with thing like this - at least not errors which are
>> shown to the user automatically (like message boxes or std::out prints
>> (I guess). So if your application gets no dataset for a file it will get
>> NULL returned, you can then do with this information what you want -
>> either inform the user about it or not.
>>
>> Bye,
>> Tom
>>
>> Daniele Romagnoli schrieb:
>>
>>
>>> Hi list,
>>> Is it somehow possible to customize/hide some GDAL error messages?
>>> I know error messages are really useful to fix/understand problems.
>>> Anyway, let me expose my use case:
>>>
>>> I simply need to check if I can obtain a Dataset for a file and return
>>> a boolean.
>>> If I get a Dataset, great! Otherwise... no problem. :)
>>> The user won't see messages like this "ERROR 4: `c:\mydataformat.frmt'
>>> not recognised as a supported file format" (although by this way he
>>> will never know why no Dataset has ben acquired).
>>>
>>> Is there some setConfigOption("xxx",) to hide (some) error messages?
>>>
>>> Thank you.
>>> Regards,
>>>
>>> Daniele
>>>
>>>
>>> --
>>> -------------------------------------------------------
>>> Eng. Daniele Romagnoli
>>> Software Engineer
>>>
>>> GeoSolutions S.A.S.
>>> Via Carignoni 51
>>> 55041 Camaiore (LU)
>>> Italy
>>>
>>> phone: +39 0584983027
>>> fax:     +39 0584983027
>>> mob:   +39 328 0559267
>>>
>>>
>>> http://www.geo-solutions.it
>>>
>>> -------------------------------------------------------
>>>
>>> ------------------------------------------------------------------------
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081024/fdafaf34/attachment-0001.html
From arb at sat.dundee.ac.uk  Fri Oct 24 12:46:26 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Fri Oct 24 12:46:30 2008
Subject: [gdal-dev] gdal_merge.py outputs bad geotiff?
Message-ID: <op.ujjfjonqqw3wu1@titan>

Hello

When I use gdal_merge.py to merge two files and write a geotiff
it creates a file which PhotoshopCS3 cannot read.  Yet the result
of passing that tiff through gdal_translate produces a different
tiff (of a completely different size) which *is* readable.

% gdal_merge.py -v -o merged1.tif -of gtiff tl10dtm/w001001.adf tl67dtm/w001001.adf

The Photoshop error is "Could not complete your request because of
a problem parsing the TIFF file"

% gdal_translate -of gtiff merged1.tif merged2.tif
Input file size is 1200, 1600
0...10...20...30...40...50...60...70...80...90...100 - done.

I don't understand the size of the first one given that there's
no compression:
% ls -l merged1.tif merged2.tif
       981186 merged1.tif
      3854344 merged2.tif

However the tiffinfo output and the gdalinfo output are identical
for both files (except for the TIFF directory offsets, see below.

Andrew


tiffinfo
TIFF Directory at offset 0xee622 (976418)
   Image Width: 1200 Image Length: 1600
   Bits/Sample: 16
   Sample Format: unsigned integer
   Compression Scheme: None
   Photometric Interpretation: min-is-black
   Samples/Pixel: 1
   Rows/Strip: 3
   Planar Configuration: single image plane
   Tag 33550: 50.000000,50.000000,0.000000
   Tag 33922: 0.000000,0.000000,0.000000,510000.000000,280000.000000,0.000000
   Tag 34735: 1,1,0,15,1024,0,1,1,1025,0,1,1,1026,34737,8,0,2048,0,1,4001,2049,34
737,49,8,2054,0,1,9102,3072,0,1,32767,3074,0,1,32767,3075,0,1,1,3076,0,1,9001,30
80,34736,1,1,3081,34736,1,0,3082,34736,1,3,3083,34736,1,4,3092,34736,1,2
   Tag 34736: 49.000000,-2.000000,0.999601,400000.000000,-100000.000000
   Tag 34737: unnamed|Unknown datum based upon the Airy 1830 ellipsoid|

gdalinfo
Driver: GTiff/GeoTIFF
Size is 1200, 1600
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["Unknown datum based upon the Airy 1830 ellipsoid",
         DATUM["Not_specified_based_on_Airy_1830_ellipsoid",
             SPHEROID["Airy 1830",6377563.396,299.3249646000043,
                 AUTHORITY["EPSG","7001"]],
             AUTHORITY["EPSG","6001"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4001"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",49],
     PARAMETER["central_meridian",-2],
     PARAMETER["scale_factor",0.999601272],
     PARAMETER["false_easting",400000],
     PARAMETER["false_northing",-100000],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (510000.000000000000000,280000.000000000000000)
Pixel Size = (50.000000000000000,-50.000000000000000)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  510000.000,  280000.000) (  0d22'58.02"W, 52d24'23.61"N)
Lower Left  (  510000.000,  200000.000) (  0d24'30.74"W, 51d41'15.02"N)
Upper Right (  570000.000,  280000.000) (  0d29'54.91"E, 52d23'28.35"N)
Lower Right (  570000.000,  200000.000) (  0d27'31.76"E, 51d40'21.17"N)
Center      (  540000.000,  240000.000) (  0d 2'29.21"E, 52d 2'25.00"N)
From even.rouault at mines-paris.org  Fri Oct 24 14:21:22 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct 24 14:21:41 2008
Subject: [gdal-dev] gdal_merge.py outputs bad geotiff?
In-Reply-To: <op.ujjfjonqqw3wu1@titan>
References: <op.ujjfjonqqw3wu1@titan>
Message-ID: <200810242021.22841.even.rouault@mines-paris.org>

Andrew,

my guess is that your merged1.tif TIFF has areas which are not initialized 
(black/transparent areas). gdal_merge.py probably doesn't write any data in 
them, thus leading to missing blocks in the file. GDAL support them in 
reading, but those kind of tiff files are maybe not supported by PhotoshopCS3  
(they are known not to be widely supported by some readers)
But when you gdal_translate it, those missing blocks will be finally written 
as empty blocks (filled with zero). That accounts for the difference in size.

Le Friday 24 October 2008 18:46:26 Andrew Brooks, vous avez ?crit?:
> Hello
>
> When I use gdal_merge.py to merge two files and write a geotiff
> it creates a file which PhotoshopCS3 cannot read.  Yet the result
> of passing that tiff through gdal_translate produces a different
> tiff (of a completely different size) which *is* readable.
>
> % gdal_merge.py -v -o merged1.tif -of gtiff tl10dtm/w001001.adf
> tl67dtm/w001001.adf
>
> The Photoshop error is "Could not complete your request because of
> a problem parsing the TIFF file"
>
> % gdal_translate -of gtiff merged1.tif merged2.tif
> Input file size is 1200, 1600
> 0...10...20...30...40...50...60...70...80...90...100 - done.
>
> I don't understand the size of the first one given that there's
> no compression:
> % ls -l merged1.tif merged2.tif
>        981186 merged1.tif
>       3854344 merged2.tif
>
> However the tiffinfo output and the gdalinfo output are identical
> for both files (except for the TIFF directory offsets, see below.
>
> Andrew
>
>
> tiffinfo
> TIFF Directory at offset 0xee622 (976418)
>    Image Width: 1200 Image Length: 1600
>    Bits/Sample: 16
>    Sample Format: unsigned integer
>    Compression Scheme: None
>    Photometric Interpretation: min-is-black
>    Samples/Pixel: 1
>    Rows/Strip: 3
>    Planar Configuration: single image plane
>    Tag 33550: 50.000000,50.000000,0.000000
>    Tag 33922:
> 0.000000,0.000000,0.000000,510000.000000,280000.000000,0.000000 Tag 34735:
> 1,1,0,15,1024,0,1,1,1025,0,1,1,1026,34737,8,0,2048,0,1,4001,2049,34
> 737,49,8,2054,0,1,9102,3072,0,1,32767,3074,0,1,32767,3075,0,1,1,3076,0,1,90
>01,30
> 80,34736,1,1,3081,34736,1,0,3082,34736,1,3,3083,34736,1,4,3092,34736,1,2
> Tag 34736: 49.000000,-2.000000,0.999601,400000.000000,-100000.000000 Tag
> 34737: unnamed|Unknown datum based upon the Airy 1830 ellipsoid|
>
> gdalinfo
> Driver: GTiff/GeoTIFF
> Size is 1200, 1600
> Coordinate System is:
> PROJCS["unnamed",
>      GEOGCS["Unknown datum based upon the Airy 1830 ellipsoid",
>          DATUM["Not_specified_based_on_Airy_1830_ellipsoid",
>              SPHEROID["Airy 1830",6377563.396,299.3249646000043,
>                  AUTHORITY["EPSG","7001"]],
>              AUTHORITY["EPSG","6001"]],
>          PRIMEM["Greenwich",0],
>          UNIT["degree",0.0174532925199433],
>          AUTHORITY["EPSG","4001"]],
>      PROJECTION["Transverse_Mercator"],
>      PARAMETER["latitude_of_origin",49],
>      PARAMETER["central_meridian",-2],
>      PARAMETER["scale_factor",0.999601272],
>      PARAMETER["false_easting",400000],
>      PARAMETER["false_northing",-100000],
>      UNIT["metre",1,
>          AUTHORITY["EPSG","9001"]]]
> Origin = (510000.000000000000000,280000.000000000000000)
> Pixel Size = (50.000000000000000,-50.000000000000000)
> Metadata:
>    AREA_OR_POINT=Area
> Image Structure Metadata:
>    INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (  510000.000,  280000.000) (  0d22'58.02"W, 52d24'23.61"N)
> Lower Left  (  510000.000,  200000.000) (  0d24'30.74"W, 51d41'15.02"N)
> Upper Right (  570000.000,  280000.000) (  0d29'54.91"E, 52d23'28.35"N)
> Lower Right (  570000.000,  200000.000) (  0d27'31.76"E, 51d40'21.17"N)
> Center      (  540000.000,  240000.000) (  0d 2'29.21"E, 52d 2'25.00"N)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From randre at gmail.com  Fri Oct 24 14:54:06 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Fri Oct 24 14:54:08 2008
Subject: [gdal-dev] Re: Going between gdal nodata and GMT NaN
In-Reply-To: <9c2015090810221638h21fd8904w40564598da0420ad@mail.gmail.com>
References: <9c2015090810221638h21fd8904w40564598da0420ad@mail.gmail.com>
Message-ID: <9c2015090810241154x77be071ctbb7906495efac6ab@mail.gmail.com>

Hmm, let me ask this a different way.  Does the GMT driver implemented in
gmtdataset.cpp support the creation of "Nan" values when writing to an
output dataset?

Thanks,

Roger
--

On Wed, Oct 22, 2008 at 4:38 PM, Roger Andr? <randre@gmail.com> wrote:

> Sooooooo... apparently nodata values are not converted to NaN when doing
> something like a gdal_translate from GeoTiff to GMT format.  Is there a way
> that anyone knows to do this?
>
> Thanks,
>
> Roger
> --
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081024/8aa44de3/attachment.html
From brianhone at gmail.com  Fri Oct 24 15:12:49 2008
From: brianhone at gmail.com (Brian Hone)
Date: Fri Oct 24 15:12:51 2008
Subject: [gdal-dev] Desktop App Map Server?
Message-ID: <6118e2f50810241212qe84aa0eq9f38a75f968c982d@mail.gmail.com>

Hi Folks,

Sorry if this is a newbie question, but I've looked all over and can't
find any good information.

I have a desktop app (wxGTK / C++ / OpenGL) on which I want to display
all manner of geo-images, in all manner of projections, etc.  I have
coded the ability to display simple NITF, etc. using GDAL, but I am
constantly finding image formats or projection systems which I haven't
supported.  I really want to have a data store with an API which looks
 something like:

getMapLayers( area, layers, resolution )

o It looks like OGDI is built to solve this problem, but I can't find
a 'howto'.
o PostGIS + GDAL?
o MapServer et al.? -  look good, but are more web focused.

Can anyone give me a good starting point?

Thanks much for your help,

Brian
From warmerdam at pobox.com  Fri Oct 24 15:21:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 24 15:21:38 2008
Subject: [gdal-dev] Desktop App Map Server?
In-Reply-To: <6118e2f50810241212qe84aa0eq9f38a75f968c982d@mail.gmail.com>
References: <6118e2f50810241212qe84aa0eq9f38a75f968c982d@mail.gmail.com>
Message-ID: <49022023.9050203@pobox.com>

Brian Hone wrote:
> Hi Folks,
> 
> Sorry if this is a newbie question, but I've looked all over and can't
> find any good information.
> 
> I have a desktop app (wxGTK / C++ / OpenGL) on which I want to display
> all manner of geo-images, in all manner of projections, etc.  I have
> coded the ability to display simple NITF, etc. using GDAL, but I am
> constantly finding image formats or projection systems which I haven't
> supported.  I really want to have a data store with an API which looks
>  something like:
> 
> getMapLayers( area, layers, resolution )
> 
> o It looks like OGDI is built to solve this problem, but I can't find
> a 'howto'.
> o PostGIS + GDAL?
> o MapServer et al.? -  look good, but are more web focused.
> 
> Can anyone give me a good starting point?

Brian,

I am not clear on what you are looking for that GDAL doesn't already do.

In your getMapLayers() function above, are you suggesting that it is
returning the area, layers and resolution?  Are you wanting it to work
for feature datasources as well as raster data sources?  If you support
NITF via GDAL - is there some reason you don't automatically support the
rest of the GDAL raster formats?

What are you using for projections?  Normally GDAL+PROJ.4 allows you
to support a wide set of coordinate systems without having to do anything
special for particular projections.

I guess I'm not getting the dilemma.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Oct 24 15:23:15 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 24 15:23:37 2008
Subject: [gdal-dev] Re: Going between gdal nodata and GMT NaN
In-Reply-To: <9c2015090810241154x77be071ctbb7906495efac6ab@mail.gmail.com>
References: <9c2015090810221638h21fd8904w40564598da0420ad@mail.gmail.com>
	<9c2015090810241154x77be071ctbb7906495efac6ab@mail.gmail.com>
Message-ID: <490220A3.80700@pobox.com>

Roger Andr? wrote:
> Hmm, let me ask this a different way.  Does the GMT driver implemented 
> in gmtdataset.cpp support the creation of "Nan" values when writing to 
> an output dataset?

Roger,

I see no support for handling NaN on read or write in gmtdataset.cpp.

So, no.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From blake at hailmail.net  Fri Oct 24 15:18:02 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Fri Oct 24 15:26:08 2008
Subject: [gdal-dev] Compiler warnings for dgnhelp.cpp ogrgeometryfactory.cpp
	ogrspatialreference.cpp
Message-ID: <94120855-82F6-4205-8511-D886B8AE233A@hailmail.net>

Gdal-dev,

I just had occasion to rebuild gdal from SVN trunk on Mac OS 10.5,  
which worked great.

I thought perhaps recording a few of the warnings might be useful.

Pasted below.

Dane


[...snip...]

libtool: compile:  g++ -g -O2 -Wall -I.. -I../.. -I/Users/spring/src/ 
gdal/port -I/Users/spring/src/gdal/gcore -I/Users/spring/src/gdal/alg - 
I/Users/spring/src/gdal/ogr -I/Users/spring/src/gdal/ogr/ogrsf_frmts - 
DOGR_ENABLED -D_REENTRANT -I/Users/spring/src/gdal/port -c  
dgnhelp.cpp  -fno-common -DPIC -o ../o/.libs/dgnhelp.o
dgnhelp.cpp: In function 'void DGNDumpElement(void*, DGNElemCore*,  
FILE*)':
dgnhelp.cpp:1052: warning: too many arguments for format

[...snip...]

libtool: compile:  g++ -DHAVE_MITAB -g -O2 -Wall -Iogrsf_frmts -I. -I/ 
Users/spring/src/gdal/port -I/Users/spring/src/gdal/gcore -I/Users/ 
spring/src/gdal/alg -I/Users/spring/src/gdal/ogr -I/Users/spring/src/ 
gdal/ogr/ogrsf_frmts -DPROJ_STATIC -DHAVE_GEOS=1 -I/usr/local/include - 
DOGR_ENABLED -D_REENTRANT -I/Users/spring/src/gdal/port -c  
ogrgeometryfactory.cpp  -fno-common -DPIC -o .libs/ogrgeometryfactory.o
ogrgeometryfactory.cpp: In static member function 'static OGRErr  
OGRGeometryFactory::createFromFgf(unsigned char*,  
OGRSpatialReference*, OGRGeometry**, int, int*)':
ogrgeometryfactory.cpp:1583: warning: 'poGC' may be used uninitialized  
in this function

[...snip...]

libtool: compile:  g++ -DHAVE_MITAB -g -O2 -Wall -Iogrsf_frmts -I. -I/ 
Users/spring/src/gdal/port -I/Users/spring/src/gdal/gcore -I/Users/ 
spring/src/gdal/alg -I/Users/spring/src/gdal/ogr -I/Users/spring/src/ 
gdal/ogr/ogrsf_frmts -DPROJ_STATIC -DHAVE_GEOS=1 -I/usr/local/include - 
DOGR_ENABLED -D_REENTRANT -I/Users/spring/src/gdal/port -c  
ogrspatialreference.cpp  -fno-common -DPIC -o .libs/ 
ogrspatialreference.o
ogrspatialreference.cpp: In member function 'const char*  
OGRSpatialReference::GetAxis(const char*, int, OGRAxisOrientation*)':
ogrspatialreference.cpp:5654: warning: 'poAxis' may be used  
uninitialized in this function
From warmerdam at pobox.com  Fri Oct 24 15:46:45 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 24 15:47:08 2008
Subject: [gdal-dev] Compiler warnings for dgnhelp.cpp
	ogrgeometryfactory.cpp ogrspatialreference.cpp
In-Reply-To: <94120855-82F6-4205-8511-D886B8AE233A@hailmail.net>
References: <94120855-82F6-4205-8511-D886B8AE233A@hailmail.net>
Message-ID: <49022625.2000905@pobox.com>

Dane Springmeyer wrote:
> Gdal-dev,
> 
> I just had occasion to rebuild gdal from SVN trunk on Mac OS 10.5, which 
> worked great.
> 
> I thought perhaps recording a few of the warnings might be useful.
> 
> Pasted below.


Dane,

Thanks. I have corrected these:

   http://trac.osgeo.org/gdal/changeset/15591
   http://trac.osgeo.org/gdal/changeset/15592

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From anders.moe at geocap.no  Mon Oct 27 04:02:10 2008
From: anders.moe at geocap.no (Anders Moe)
Date: Mon Oct 27 04:03:13 2008
Subject: [gdal-dev] No support for widestrings in ArcSDE driver for OGR ?
Message-ID: <BLU111-W60C7F1AFF2A5BEFECAE26FF2240@phx.gbl>

 
Hi all
 
Throughout GDAL 1.5 and 1.6+ I havent been able to reading most strings from ArcSDE using OGR, which is probably caused by the ArcSDE drivers lack of widestring support (?). Is this correct, or am I doing something wrong ? I'm pretty desperate for this to work now. Seems as if a lot of ArcSDE data is stored as widestrings, which seriously limits the applicability of my connection. Could anyone give me an update on this ? I've tried looking at the tickets but failed to find an entry that adressed this issue. Thanks, 
 
 
Anders.
_________________________________________________________________
Finn dine favorittklipp p? MSN Video.
http://video.msn.com/?mkt=nb-no&from=HMTAG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081027/781f7c3e/attachment.html
From arb at sat.dundee.ac.uk  Mon Oct 27 08:33:45 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Mon Oct 27 08:33:49 2008
Subject: [gdal-dev] gdal_merge.py outputs bad geotiff?
In-Reply-To: <200810242021.22841.even.rouault@mines-paris.org>
References: <op.ujjfjonqqw3wu1@titan>
	<200810242021.22841.even.rouault@mines-paris.org>
Message-ID: <op.ujonuj0tqw3wu1@titan>

On Fri, 24 Oct 2008 19:21:22 +0100, Even Rouault <even.rouault@mines-paris.org> wrote:

> my guess is that your merged1.tif TIFF has areas which are not initialized
> (black/transparent areas). gdal_merge.py probably doesn't write any data in
> them, thus leading to missing blocks in the file.

Thanks for the reply, that certainly seems to be the explanation.  It does
raise further questions though.

1. Should the gdal utilities' output be consistent with each other?
2. Should the default output format be the most compatible?
3. Should there be an option to turn on/off the writing of sparse files?

Andrew
From warmerdam at pobox.com  Mon Oct 27 09:52:01 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 27 09:52:28 2008
Subject: [gdal-dev] gdal_merge.py outputs bad geotiff?
In-Reply-To: <op.ujonuj0tqw3wu1@titan>
References: <op.ujjfjonqqw3wu1@titan>
	<200810242021.22841.even.rouault@mines-paris.org>
	<op.ujonuj0tqw3wu1@titan>
Message-ID: <4905C781.2070900@pobox.com>

Andrew Brooks wrote:
> On Fri, 24 Oct 2008 19:21:22 +0100, Even Rouault <even.rouault@mines-paris.org> wrote:
> 
>> my guess is that your merged1.tif TIFF has areas which are not initialized
>> (black/transparent areas). gdal_merge.py probably doesn't write any data in
>> them, thus leading to missing blocks in the file.
> 
> Thanks for the reply, that certainly seems to be the explanation.  It does
> raise further questions though.
> 
> 1. Should the gdal utilities' output be consistent with each other?

Andrew,

I don't see this as an inconsistency.

> 2. Should the default output format be the most compatible?

Yes, within reason it likely ought to be.

> 3. Should there be an option to turn on/off the writing of sparse files?

Yes, likely.  In fact it wouldn't so much be an option to turn sparse writing
on/off as it would be an option to push out zeroed blocks for all missing
blocks when a file is closed.

Feel free to file a ticket on this, and I'll try to fix it fairly soon.  The
default should presumably be to produce maximally compatible files even though
I wish the rest of the world would support sparse files in a sensible way.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mike.nidel at lmco.com  Mon Oct 27 10:26:41 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Mon Oct 27 10:26:29 2008
Subject: [gdal-dev] Java build error in GDAL 1.5.3
Message-ID: <E4692D1DCAD27245866154AF9CE126B11045B6B9@emss04m02.us.lmco.com>

I've just updated to the tagged 1.5.3 version of GDAL. I'm building the
Swig Java bindings, and I'm getting the following build error
(truncated, occurs a total of 8 times):

Buildfile: build.xml

compile:
    [javac] Compiling 39 source files to
C:\src\gdal-1.5.3\swig\java\build\class
es
    [javac]
C:\src\gdal-1.5.3\swig\java\org\gdal\gdal\ColorTable.java:35: cannot
 find symbol
    [javac] symbol  : method delete_ColorTable(long)
    [javac] location: class org.gdal.gdal.gdalJNI
    [javac]       gdalJNI.delete_ColorTable(swigCPtr);
    [javac]              ^


I know this relates to a patch that was provided by Daniele over at
Geosolutions. I applied the patch to a previous build but haven't
applied it to the 1.5.3 baseline on my system.

Is there any intention of fixing this in GDAL? Is it possible I've
missed or forgotten some discussion on the topic? Perhaps it's fixed in
a more recent build?


Mike
From cjanssen at iavo-rs.com  Mon Oct 27 10:16:48 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Mon Oct 27 10:46:52 2008
Subject: [gdal-dev] JPEG2000 question/issue
Message-ID: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>

I'm wondering if someone can help me with this. I'm trying to build GDAL with both support for MrSID and ECW while using the former for JPEG2000 support. It appears that as soon as libecw is linked in, it is being used as the JPEG2000 reader (even when I have MRSID_FLAGS = -DMRSID_J2K uncommented in the make options). I'm assuming this probably has something to do with the order that the drivers are tried at runtime. Is there a correct way to force the support to default to the MrSID library? Thanks for the help.

Christiaan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081027/0eb67f65/attachment.html
From warmerdam at pobox.com  Mon Oct 27 11:23:49 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 27 11:24:21 2008
Subject: [gdal-dev] JPEG2000 question/issue
In-Reply-To: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
References: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
Message-ID: <4905DD05.10303@pobox.com>

Christiaan Janssen wrote:
> I'm wondering if someone can help me with this. I'm trying to build GDAL 
> with both support for MrSID and ECW while using the former for JPEG2000 
> support. It appears that as soon as libecw is linked in, it is being 
> used as the JPEG2000 reader (even when I have MRSID_FLAGS = -DMRSID_J2K 
> uncommented in the make options). I'm assuming this probably has 
> something to do with the order that the drivers are tried at runtime. Is 
> there a correct way to force the support to default to the MrSID 
> library? Thanks for the help.

Christiaan,

Disabling the -DMRSID_J2K should disable the JP2MRSID driver though you
may need to do a clean build for the change in the nmake.opt to take
effect.

Alternatively you can force a particular driver to be ignored at runtime
using the GDAL_SKIP configuration variable.  Set it to the driver name you
want to ignore ... such as JP2MRSID.

It can be set in the environment, before running GDAL commands.

set GDAL_SKIP=JP2MRSID

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dany.geotools at gmail.com  Mon Oct 27 11:22:28 2008
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Mon Oct 27 11:27:47 2008
Subject: [gdal-dev] Java build error in GDAL 1.5.3
In-Reply-To: <E4692D1DCAD27245866154AF9CE126B11045B6B9@emss04m02.us.lmco.com>
References: <E4692D1DCAD27245866154AF9CE126B11045B6B9@emss04m02.us.lmco.com>
Message-ID: <7221db410810270822x3dc06187pf3f9f04825d8ec9a@mail.gmail.com>

Hi,
the thing I have noticed in 1.5.3 is that in "swig/include/gdal.i" there is:

#if !defined(SWIGJAVA)
%include "ColorTable.i"
#endif

In case you are building JAVA bindings, the include will be skipped
resulting in errors.
Not sure why this has been added.
In the patch I have provided to Mike, I have removed the !defined/endif
directives.

Moreover, in the patch, for "swig/include/java/gdal_java.i", the line:

"%typemap(javaimports) GDALColorTable %{"

have been substitued by

"%typemap(javaimports) GDALColorTableShadow %{"


Daniele

On Mon, Oct 27, 2008 at 3:26 PM, Nidel, Mike <mike.nidel@lmco.com> wrote:

> I've just updated to the tagged 1.5.3 version of GDAL. I'm building the
> Swig Java bindings, and I'm getting the following build error
> (truncated, occurs a total of 8 times):
>
> Buildfile: build.xml
>
> compile:
>    [javac] Compiling 39 source files to
> C:\src\gdal-1.5.3\swig\java\build\class
> es
>    [javac]
> C:\src\gdal-1.5.3\swig\java\org\gdal\gdal\ColorTable.java:35: cannot
>  find symbol
>    [javac] symbol  : method delete_ColorTable(long)
>    [javac] location: class org.gdal.gdal.gdalJNI
>    [javac]       gdalJNI.delete_ColorTable(swigCPtr);
>    [javac]              ^
>
>
> I know this relates to a patch that was provided by Daniele over at
> Geosolutions. I applied the patch to a previous build but haven't
> applied it to the 1.5.3 baseline on my system.
>
> Is there any intention of fixing this in GDAL? Is it possible I've
> missed or forgotten some discussion on the topic? Perhaps it's fixed in
> a more recent build?
>
>
> Mike
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081027/3c1c41d4/attachment.html
From warmerdam at pobox.com  Mon Oct 27 11:33:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 27 11:33:56 2008
Subject: [gdal-dev] Release Meeting Minutes
Message-ID: <4905DF48.8040609@pobox.com>

Folks,

I have written up the minutes from Friday's release meeting.

   http://trac.osgeo.org/gdal/wiki/ThirdMeeting

Key items:

     * Frank Warmerdam named release manager.
     * Last friday declared RFC freeze day ... that is, it is too late for
       new RFCs to go into the 1.6.0 release.

Release Schedule:
     * October 29th: Beta 1  (this Wednesday!)
     * November 12th: Beta 2
     * November 26th: RC 1
     * Additional RCs as needed (hopefully only a few days apart) till
       final release approved

Please try to get new development items completed by Wednesday and into
trunk for inclusion in beta1.  There will be two weeks for agreessive
bug fixing during the beta1 period.  The beta2 period should hopefully
be for more conservative bug fixing (avoiding riskier fixes for marginal
problems).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From cjanssen at iavo-rs.com  Mon Oct 27 11:41:41 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Mon Oct 27 11:42:01 2008
Subject: [gdal-dev] JPEG2000 question/issue
In-Reply-To: <4905DD05.10303@pobox.com>
Message-ID: <274FF4C8-EAB7-44C8-9F8E-19B5C369B081@iavo-rs.com>

Actually, I want the MrSID library to handle JPG2000 instead of the ECW library, while still maintaining support for standard ECW files. I think what your describing would be the opposite.

Christiaan 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Monday, October 27, 2008 11:24 AM
To: Christiaan Janssen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] JPEG2000 question/issue

Christiaan Janssen wrote:
> I'm wondering if someone can help me with this. I'm trying to build 
> GDAL with both support for MrSID and ECW while using the former for 
> JPEG2000 support. It appears that as soon as libecw is linked in, it 
> is being used as the JPEG2000 reader (even when I have MRSID_FLAGS = 
> -DMRSID_J2K uncommented in the make options). I'm assuming this 
> probably has something to do with the order that the drivers are tried 
> at runtime. Is there a correct way to force the support to default to 
> the MrSID library? Thanks for the help.

Christiaan,

Disabling the -DMRSID_J2K should disable the JP2MRSID driver though you may need to do a clean build for the change in the nmake.opt to take effect.

Alternatively you can force a particular driver to be ignored at runtime using the GDAL_SKIP configuration variable.  Set it to the driver name you want to ignore ... such as JP2MRSID.

It can be set in the environment, before running GDAL commands.

set GDAL_SKIP=JP2MRSID

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Oct 27 11:56:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 27 11:56:38 2008
Subject: [gdal-dev] JPEG2000 question/issue
In-Reply-To: <274FF4C8-EAB7-44C8-9F8E-19B5C369B081@iavo-rs.com>
References: <274FF4C8-EAB7-44C8-9F8E-19B5C369B081@iavo-rs.com>
Message-ID: <4905E497.2030807@pobox.com>

Christiaan Janssen wrote:
> Actually, I want the MrSID library to handle JPG2000 instead of the ECW library, while still maintaining support for standard ECW files. I think what your describing would be the opposite.

Christiaan,

Ah, then set GDAL_SKIP=JP2ECW.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mike.nidel at lmco.com  Mon Oct 27 11:38:48 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Mon Oct 27 12:03:38 2008
Subject: [gdal-dev] JPEG2000 question/issue
In-Reply-To: <4905DD05.10303@pobox.com>
References: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
	<4905DD05.10303@pobox.com>
Message-ID: <E4692D1DCAD27245866154AF9CE126B11045B8E8@emss04m02.us.lmco.com>

Interesting. I'd like to disable NITF handling, is this also possible
in the same way using GDAL_SKIP? Where is the definitive list of format
names that can be used in this way?

thanks,

Mike 

> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org 
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
> Sent: Monday, October 27, 2008 11:24 AM
> To: Christiaan Janssen
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] JPEG2000 question/issue
> 
> Christiaan Janssen wrote:
> > I'm wondering if someone can help me with this. I'm trying to build 
> > GDAL with both support for MrSID and ECW while using the former for 
> > JPEG2000 support. It appears that as soon as libecw is 
> linked in, it 
> > is being used as the JPEG2000 reader (even when I have 
> MRSID_FLAGS = 
> > -DMRSID_J2K uncommented in the make options). I'm assuming this 
> > probably has something to do with the order that the 
> drivers are tried 
> > at runtime. Is there a correct way to force the support to 
> default to 
> > the MrSID library? Thanks for the help.
> 
> Christiaan,
> 
> Disabling the -DMRSID_J2K should disable the JP2MRSID driver 
> though you may need to do a clean build for the change in the 
> nmake.opt to take effect.
> 
> Alternatively you can force a particular driver to be ignored 
> at runtime using the GDAL_SKIP configuration variable.  Set 
> it to the driver name you want to ignore ... such as JP2MRSID.
> 
> It can be set in the environment, before running GDAL commands.
> 
> set GDAL_SKIP=JP2MRSID
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From klandrus at progeny.net  Mon Oct 27 15:39:14 2008
From: klandrus at progeny.net (Kurt Landrus)
Date: Mon Oct 27 15:54:27 2008
Subject: [gdal-dev] Saving data to the TEXT domain NITF
Message-ID: <3ABD474B-9F88-4F9C-9B83-BB3F1D9BCC4C@progeny.net>

Hello;
	I working with GDAL to support NITF imagery, I'm having a problem  
with trying to save text data to the
I can read data from the Text segment just fine. However when I try to  
save data back to the nitf in the TEXT segment using the call
below,  I receive no err, but the data doesn't get saved.

	// save text segment to dataset.
	err = GDALSetMetadataItem(dataset, "DATA_0", tmp3, "TEXT");

When I try to verify the text in the TEXT segment using gdalinfo,  
there is no TEXT segment data contained in the NITF file.
Is there other calls required to set up this,  what I am doing wrong.
Thanks;

GDAL 1.5.2, released 2008/05/29
Linux merlin 2.6.18-53.el5PAE #1 SMP Wed Oct 10 16:48:18 EDT 2007 i686  
i686 i386 GNU/Linux


Kurt Landrus
Progeny Systems Corp.
klandrus@progeny.net
Office: 	703-368-6107 x424
Lab: 	703-368-6107 x520



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081027/4ed2e1af/attachment.html
From warmerdam at pobox.com  Mon Oct 27 15:59:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 27 16:00:22 2008
Subject: [gdal-dev] Saving data to the TEXT domain NITF
In-Reply-To: <3ABD474B-9F88-4F9C-9B83-BB3F1D9BCC4C@progeny.net>
References: <3ABD474B-9F88-4F9C-9B83-BB3F1D9BCC4C@progeny.net>
Message-ID: <49061DB4.3050707@pobox.com>

Kurt Landrus wrote:
> Hello;
> I working with GDAL to support NITF imagery, I'm having a problem 
> with trying to save text data to the 
> I can read data from the Text segment just fine. However when I try to 
> save data back to the nitf in the TEXT segment using the call
> below,  I receive no err, but the data doesn't get saved.
> 
> // save text segment to dataset.
> err = GDALSetMetadataItem(dataset, "DATA_0", tmp3, "TEXT");
> 
> When I try to verify the text in the TEXT segment using gdalinfo, there 
> is no TEXT segment data contained in the NITF file.
> Is there other calls required to set up this,  what I am doing wrong.
> Thanks;

Kurt,

I believe that at this time the GDAL NITF driver does not support writing
out text segments.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ragi at burhum.com  Mon Oct 27 16:17:21 2008
From: ragi at burhum.com (Ragi Y. Burhum)
Date: Mon Oct 27 16:17:24 2008
Subject: [gdal-dev] Re: No support for widestrings in ArcSDE driver for OGR ?
Message-ID: <738927440810271317h4131f91era7526ea1b3cb9481@mail.gmail.com>

On Mon, Oct 27, 2008 at 8:33 AM, <gdal-dev-request@lists.osgeo.org> wrote:

>
> Message: 1
> Date: Mon, 27 Oct 2008 08:02:10 +0000
> From: Anders Moe <anders.moe@geocap.no>
> Subject: [gdal-dev] No support for widestrings in ArcSDE driver for
>        OGR ?
> To: <gdal-dev@lists.osgeo.org>
> Message-ID: <BLU111-W60C7F1AFF2A5BEFECAE26FF2240@phx.gbl>
> Content-Type: text/plain; charset="iso-8859-1"
>
>
> Hi all
>
> Throughout GDAL 1.5 and 1.6+ I havent been able to reading most strings
> from ArcSDE using OGR, which is probably caused by the ArcSDE drivers lack
> of widestring support (?). Is this correct, or am I doing something wrong ?
> I'm pretty desperate for this to work now. Seems as if a lot of ArcSDE data
> is stored as widestrings, which seriously limits the applicability of my
> connection. Could anyone give me an update on this ? I've tried looking at
> the tickets but failed to find an entry that adressed this issue. Thanks,
>
>
> Anders.
>

Starting from 9.3 (or was it 9.2?) the strings created by ArcCatalog are
widestring by default. I took a quick look at ogrsdelayer.cpp and
ogrsdedatasource.cpp and that code is only consuming the non-Unicode API.

Frank: I did see that OGRSDELayer::Initialize(..) maps an OGR OFTWideString
(a type that the documentation says it is deprecated) to an SDE widestring
(i.e. SE_NSTRING_TYPE) if #SE_NSTRING_TYPE is defined, however
OGRSDELayer::TranslateSDERecord() does not have a case statement for
SE_NSTRING_TYPE (and therefore has no call to
SE_stream_get_nstring<http://edndoc.esri.com/arcsde/9.3/api/capi/schemaobjects/streams/strmgetnstring.htm>).


A quick fix to at least be able to consume the sde unicode strings would be
to add that case for that switch statement and take the result and encode
the UTF16 string to UTF8.

I would fix it myself and submit a patch, but ironically enough, I don't
have a way to test it or compile it since I don't have ArcSDE nor ArcGIS
anywhere... should I submit a ticket?

Thanks,

- Ragi Yaser Burhum
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081027/ca5014bd/attachment.html
From warmerdam at pobox.com  Mon Oct 27 16:32:50 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Oct 27 16:33:21 2008
Subject: [gdal-dev] Re: No support for widestrings in ArcSDE driver for
	OGR ?
In-Reply-To: <738927440810271317h4131f91era7526ea1b3cb9481@mail.gmail.com>
References: <738927440810271317h4131f91era7526ea1b3cb9481@mail.gmail.com>
Message-ID: <49062572.3020800@pobox.com>

Ragi Y. Burhum wrote:
> On Mon, Oct 27, 2008 at 8:33 AM, <gdal-dev-request@lists.osgeo.org 
>     Hi all
> 
>     Throughout GDAL 1.5 and 1.6+ I havent been able to reading most
>     strings from ArcSDE using OGR, which is probably caused by the
>     ArcSDE drivers lack of widestring support (?). Is this correct, or
>     am I doing something wrong ? I'm pretty desperate for this to work
>     now. Seems as if a lot of ArcSDE data is stored as widestrings,
>     which seriously limits the applicability of my connection. Could
>     anyone give me an update on this ? I've tried looking at the tickets
>     but failed to find an entry that adressed this issue. Thanks,
> 
> 
>     Anders.
> 
> 
> Starting from 9.3 (or was it 9.2?) the strings created by ArcCatalog are 
> widestring by default. I took a quick look at ogrsdelayer.cpp and 
> ogrsdedatasource.cpp and that code is only consuming the non-Unicode API.
> 
> Frank: I did see that OGRSDELayer::Initialize(..) maps an OGR 
> OFTWideString (a type that the documentation says it is deprecated) to 
> an SDE widestring (i.e. SE_NSTRING_TYPE) if #SE_NSTRING_TYPE is defined, 
> however OGRSDELayer::TranslateSDERecord() does not have a case statement 
> for SE_NSTRING_TYPE (and therefore has no call to SE_stream_get_nstring 
> <http://edndoc.esri.com/arcsde/9.3/api/capi/schemaobjects/streams/strmgetnstring.htm>). 
> 
> 
> A quick fix to at least be able to consume the sde unicode strings would 
> be to add that case for that switch statement and take the result and 
> encode the UTF16 string to UTF8.
> 
> I would fix it myself and submit a patch, but ironically enough, I don't 
> have a way to test it or compile it since I don't have ArcSDE nor ArcGIS 
> anywhere... should I submit a ticket?

Ragi,

I'm in the same position - no SDE instance to test against.  A patch might
be good if either Howard or Anders are willing to commit to testing it out.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Mon Oct 27 15:11:26 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Oct 27 16:41:04 2008
Subject: [gdal-dev] JPEG2000 question/issue
In-Reply-To: <E4692D1DCAD27245866154AF9CE126B11045B8E8@emss04m02.us.lmco.com>
References: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
	<4905DD05.10303@pobox.com>
	<E4692D1DCAD27245866154AF9CE126B11045B8E8@emss04m02.us.lmco.com>
Message-ID: <200810272011.27291.even.rouault@mines-paris.org>

Look at the 'Code' column athttp://gdal.org/formats_list.html

or the code reported by "gdalinfo --formats"

Le Monday 27 October 2008 16:38:48 Nidel, Mike, vous avez ?crit?:
> Interesting. I'd like to disable NITF handling, is this also possible
> in the same way using GDAL_SKIP? Where is the definitive list of format
> names that can be used in this way?
>
> thanks,
>
> Mike
>
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org
> > [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
> > Sent: Monday, October 27, 2008 11:24 AM
> > To: Christiaan Janssen
> > Cc: gdal-dev@lists.osgeo.org
> > Subject: Re: [gdal-dev] JPEG2000 question/issue
> >
> > Christiaan Janssen wrote:
> > > I'm wondering if someone can help me with this. I'm trying to build
> > > GDAL with both support for MrSID and ECW while using the former for
> > > JPEG2000 support. It appears that as soon as libecw is
> >
> > linked in, it
> >
> > > is being used as the JPEG2000 reader (even when I have
> >
> > MRSID_FLAGS =
> >
> > > -DMRSID_J2K uncommented in the make options). I'm assuming this
> > > probably has something to do with the order that the
> >
> > drivers are tried
> >
> > > at runtime. Is there a correct way to force the support to
> >
> > default to
> >
> > > the MrSID library? Thanks for the help.
> >
> > Christiaan,
> >
> > Disabling the -DMRSID_J2K should disable the JP2MRSID driver
> > though you may need to do a clean build for the change in the
> > nmake.opt to take effect.
> >
> > Alternatively you can force a particular driver to be ignored
> > at runtime using the GDAL_SKIP configuration variable.  Set
> > it to the driver name you want to ignore ... such as JP2MRSID.
> >
> > It can be set in the environment, before running GDAL commands.
> >
> > set GDAL_SKIP=JP2MRSID
> >
> > Best regards,
> > --
> > ---------------------------------------+----------------------
> > ----------
> > ---------------------------------------+------
> > I set the clouds in motion - turn up   | Frank Warmerdam,
> > warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam
> > and watch the world go round - Rush    | Geospatial
> > Programmer for Rent
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From matt.gregory at oregonstate.edu  Mon Oct 27 19:21:18 2008
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Mon Oct 27 19:50:28 2008
Subject: [gdal-dev] Python / ArcGIS / zlib conflict
Message-ID: <451453C181B199458A55B2B1723FAC00014E0C22@SAGE.forestry.oregonstate.edu>

Hi all,

This is very tangentially a GDAL question, but something that's
affecting my python builds from trunk.  

I'm using Python 2.4.4 for reasons unrelated to GDAL.  Recently, I
upgraded to ArcGIS 9.3 and they've put zlib.dll into their bin directory
(usually C:\Program Files\ArcGIS\bin) and then added this to PYTHONPATH
on install.  Because PYTHONPATH is getting sourced before the core
Python directories (e.g. C:\Python24\DLLs), it's hitting the ArcInfo
zlib.dll (not a Python DLL) before hitting the Python zlib.pyd.  

When I run 'python setup.py install' from the swig/python directory, it
is no longer building the EGG in my site-packages folder because it's
not finding the correct zlib.  It is still copying over all of the
python modules and osgeo folder, but they are no longer in the EGG
(which was really nice!).  

I'm a relative newbie at Python; is there a way of having the
C:\Python24\DLLs folder being sourced first without adding it to my
PYTHONPATH?  It seems strange to me that ArcGIS would put the 'bin'
directory (that had all kinds of other stuff besides Python DLLs) into
PYTHONPATH, but I may not have a good grasp of the complexities here ...

thanks for advice,
matt
From maphew at gmail.com  Tue Oct 28 07:32:33 2008
From: maphew at gmail.com (Matt Wilkie)
Date: Tue Oct 28 07:32:37 2008
Subject: [gdal-dev] gdal_priv.h not found on ubuntu
Message-ID: <c61d98af0810280432j3db9750eq2d5eaca55144a934@mail.gmail.com>

Hello Folks,   I could use some hand-holding please... :)

I'm trying to compile Matt Perry's hillshade
[http://www.perrygeo.net/wordpress/?p=7] utility on Ubuntu 8.10 (amd64
if that makes a difference). I'm told "hillshade.cpp:24:23: error:
gdal_priv.h: No such file or directory". I have installed libgdal1-dev
and verified gdal_priv.h does exist in /usr/include/gdal. What am I
missing?


thanks,

-- 
-matt
From szekerest at gmail.com  Tue Oct 28 08:31:29 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Oct 28 08:31:31 2008
Subject: [gdal-dev] Installing test databases/servers online for the GDAL
	project
Message-ID: <f3b73b7d0810280531h5ed29f43l126026041d87b83c@mail.gmail.com>

Folks,

I'm not totally sure whether this topic has already been discussed or
not, however I'd like to see your opinion about.

I've just worked on adding further drivers to Windows buildbot slaves,
as I consider it would be reasonable to have them regularly tested
especialy during the beta/release period of the GDAL project. I've
noticed that many of the tests rely on the existence of some external
servers like for mysql, oci, sde, pgsql, wcs. Currently none of these
servers are available online therefore those tests are skipped in the
testing process.

I'd wonder if we could somehow get those servers online, however I'm
not sure who is responsible to maintain the corresponding databases.
Assuming that there's no explicit owner of these servers would it be
reasonable to establish such test servers for the GDAL project
permanently?

Another benefit of such an addition would be that the developers could
track down and fix issues related to these drivers without having to
wait for the component owner to take the required action. Most of the
developers (like me) cannot afford spending such amount of $$$ to have
those servers (like SDE or Oracle Spatial) installed locally, but I
sometimes have a couple of issues reported with SDE and OCI which
should be handled in short term.

One of the issues have to be considered in this topic is a security
related problem, I guess it's undesired to allow everyone to have
read/write access to those databases, however I think we could
separate those connection strings from the autotest scripts and load
them from an external file by the scripts.

I expect the GDAL project could collect enough sponsorship to support
and mainain these servers or we could also establish that OSGEO-wide
if the idea seems reasonable for the other projects as well.


Any ideas?


Best regards,

Tamas
From Sjur.A.Kolberg at sintef.no  Tue Oct 28 08:26:45 2008
From: Sjur.A.Kolberg at sintef.no (Kolberg Sjur A)
Date: Tue Oct 28 08:48:09 2008
Subject: [gdal-dev] Definition conflict in HDF4 driver?
Message-ID: <AC3559779B145744A3FA06C52D00BD0F04196D9F@SINTEFXCH01.sintef.no>

Hello, list...

I am trying to compile GDAL 1.5.3 with HDF and GRIB drivers, under MSVC 2005-SP1, using the project files distributed at http://vterrain.org/Distrib/gdal.html <http://vterrain.org/Distrib/gdal.html> . I have installed pre-built binaries for HDF42r3 and HDF5-1.8.1. and the libraries they depend on. 
 
I seem to get a conflict between the GDAL file hdf4dataset.h and the HDF4 file mfhdfi.h concerning 'UNKNOWN' as an enum definition:
1>c:\program files\gdal-1.5.3\frmts\hdf4\hdf4dataset.h(55) : error C2365: 'UNKNOWN' : redefinition; previous definition was 'enumerator'
1> c:\program files\hdf42r3\include\mfhdfi.h(26) : see declaration of 'UNKNOWN'
 
The revelant code appears as 
 
in mfhdfi.h: (#included in mfhdf.h, which is #included in hdf4dataset.cpp and hdf4imagedataset.cpp).
typedef enum
{
IS_SDSVAR=0, /* variable is an actual SDS */
IS_CRDVAR=1, /* variable is a coordinate variable */
UNKNOWN=2  /* variable is created before HDF4.2r2, unknown type */
} hdf_vartype_t;
 
and in hdf4dataset.h:
typedef enum // Types of data products:
{
GDAL_HDF4, // HDF written by GDAL
EOS_GRID, // HDF-EOS Grid
EOS_SWATH, // HDF-EOS Swath
EOS_SWATH_GEOL, // HDF-EOS Swath Geolocation Array
SEAWIFS_L1A, // SeaWiFS Level-1A Data
SEAWIFS_L2, // SeaWiFS Level-2 Data
SEAWIFS_L3, // SeaWiFS Level-3 Standard Mapped Image
HYPERION_L1, // Hyperion L1 Data Product
UNKNOWN
} HDF4SubdatasetType;
 
 
A couple of additional errors seems to follow from this conflict:
1>..\..\frmts\hdf4\hdf4imagedataset.cpp(2294) : error C2440: '=' : cannot convert from 'hdf_vartype_t' to 'HDF4SubdatasetType'
1> Conversion to enumeration type requires an explicit cast (static_cast, C-style cast or function-style cast)
1>..\..\frmts\hdf4\hdf4dataset.cpp(744) : error C2440: '=' : cannot convert from 'hdf_vartype_t' to 'HDF4SubdatasetType'
1> Conversion to enumeration type requires an explicit cast (static_cast, C-style cast or function-style cast)
 
 
Is this because I downloaded the latest pre-built HDF4 (4.2r3)  and thus ignored the http://trac.osgeo.org/gdal/wiki/HDF <http://trac.osgeo.org/gdal/wiki/HDF>  stating "HDF 4.2r1 is generally the preferred version if working from source"?
 
 
 

Also, in hdf4imagedataset.cpp lines 854 to 859 go:

if ( (SDsetattr( hSD, pszName, DFNT_CHAR8,
strlen(pszValue) + 1, pszValue )) < 0 );
{
CPLDebug( "HDF4Image",
"Cannot write metadata information to output file");
}
 
in which the semicolon ending the IF statement prevents the CPLDebug from ever being executed. Is this intentional?
 
 
Regards, Sjur K :-)
 

Sjur Kolberg
SINTEF Energiforskning A/S
Sem S?lands vei 11
7465 Trondheim
tlf. 73 59 72 78
fax  73 59 72 50 

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081028/3be77d92/attachment.html
From ivan.lucena at pmldnet.com  Tue Oct 28 08:55:15 2008
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Tue Oct 28 08:55:17 2008
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gSW5zdGFsbGluZyB0ZXN0IGRhdGFiYXNlcy9zZXJ2ZXJzIG9ubGluZSBmb3IgdGhlIEdEQUwJcHJvamVjdA==?=
Message-ID: <20081028125515.30298.qmail@s466.sureserver.com>

Tamas,

Very good point!

>  Another benefit of such an addition would be that the developers could
>  track down and fix issues related to these drivers without having to
>  wait for the component owner to take the required action. Most of the
>  developers (like me) cannot afford spending such amount of $$$ to have
>  those servers (like SDE or Oracle Spatial) installed locally, but I
>  sometimes have a couple of issues reported with SDE and OCI which
>  should be handled in short term.

I just want to comment that it is perfectly legal to install and run Oracle and Oracle Spatial without buying any 
expensive license for the time you need it, as long as it is used only for test and software development. I am not 
talking about Oracle XE, but the real one with SDE_SDS, SDE_GEOMETRIC, SDE_GEORASTER, SDE_PC etc. I would 
be willing help installing it on GDAL servers it if that helps.

Best regards,

Ivan

From mike.nidel at lmco.com  Tue Oct 28 09:59:57 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Tue Oct 28 09:59:44 2008
Subject: [gdal-dev] Formats question (was Re: JPEG2000 question/issue)
In-Reply-To: <200810272011.27291.even.rouault@mines-paris.org>
References: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
	<4905DD05.10303@pobox.com>
	<E4692D1DCAD27245866154AF9CE126B11045B8E8@emss04m02.us.lmco.com>
	<200810272011.27291.even.rouault@mines-paris.org>
Message-ID: <E4692D1DCAD27245866154AF9CE126B1104AAB9C@emss04m02.us.lmco.com>

That was what I was looking for, thank you.

Now a new question, is there a way to remove formats from the
build entirely? Obviously there is for formats that require
external libraries, they just don't get uncommented in the
nmake.opt. But what about, for example, disabling NITF at
compile time? I would actually like to disable ALL gdal formats
except MrSID, but NITF causes a particular problem for me
because I already have an NITF reader and there is a conflict
in the way I'm loading the readers.

thanks,

Mike

> -----Original Message-----
> From: Even Rouault [mailto:even.rouault@mines-paris.org] 
> Sent: Monday, October 27, 2008 3:11 PM
> To: gdal-dev@lists.osgeo.org
> Cc: Nidel, Mike
> Subject: Re: [gdal-dev] JPEG2000 question/issue
> 
> Look at the 'Code' column athttp://gdal.org/formats_list.html
> 
> or the code reported by "gdalinfo --formats"
> 
> Le Monday 27 October 2008 16:38:48 Nidel, Mike, vous avez ?crit?:
> > Interesting. I'd like to disable NITF handling, is this 
> also possible 
> > in the same way using GDAL_SKIP? Where is the definitive list of 
> > format names that can be used in this way?
> >
> > thanks,
> >
> > Mike
> >
> > > -----Original Message-----
> > > From: gdal-dev-bounces@lists.osgeo.org 
> > > [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank 
> > > Warmerdam
> > > Sent: Monday, October 27, 2008 11:24 AM
> > > To: Christiaan Janssen
> > > Cc: gdal-dev@lists.osgeo.org
> > > Subject: Re: [gdal-dev] JPEG2000 question/issue
> > >
> > > Christiaan Janssen wrote:
> > > > I'm wondering if someone can help me with this. I'm trying to 
> > > > build GDAL with both support for MrSID and ECW while using the 
> > > > former for JPEG2000 support. It appears that as soon as 
> libecw is
> > >
> > > linked in, it
> > >
> > > > is being used as the JPEG2000 reader (even when I have
> > >
> > > MRSID_FLAGS =
> > >
> > > > -DMRSID_J2K uncommented in the make options). I'm assuming this 
> > > > probably has something to do with the order that the
> > >
> > > drivers are tried
> > >
> > > > at runtime. Is there a correct way to force the support to
> > >
> > > default to
> > >
> > > > the MrSID library? Thanks for the help.
> > >
> > > Christiaan,
> > >
> > > Disabling the -DMRSID_J2K should disable the JP2MRSID 
> driver though 
> > > you may need to do a clean build for the change in the 
> nmake.opt to 
> > > take effect.
> > >
> > > Alternatively you can force a particular driver to be ignored at 
> > > runtime using the GDAL_SKIP configuration variable.  Set 
> it to the 
> > > driver name you want to ignore ... such as JP2MRSID.
> > >
> > > It can be set in the environment, before running GDAL commands.
> > >
> > > set GDAL_SKIP=JP2MRSID
> > >
> > > Best regards,
> > > --
> > > ---------------------------------------+----------------------
> > > ----------
> > > ---------------------------------------+------
> > > I set the clouds in motion - turn up   | Frank Warmerdam,
> > > warmerdam@pobox.com
> > > light and sound - activate the windows | 
> http://pobox.com/~warmerdam
> > > and watch the world go round - Rush    | Geospatial
> > > Programmer for Rent
> > >
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
From k.dejong at geo.uu.nl  Tue Oct 28 09:34:19 2008
From: k.dejong at geo.uu.nl (Kor de Jong)
Date: Tue Oct 28 10:47:17 2008
Subject: [gdal-dev] Definition conflict in HDF4 driver?
In-Reply-To: <AC3559779B145744A3FA06C52D00BD0F04196D9F@SINTEFXCH01.sintef.no>
References: <AC3559779B145744A3FA06C52D00BD0F04196D9F@SINTEFXCH01.sintef.no>
Message-ID: <200810281434.19602.k.dejong@geo.uu.nl>

Hi Sjur,

On Tuesday 28 October 2008 13:26:45 Kolberg Sjur A wrote:
> I seem to get a conflict between the GDAL file hdf4dataset.h and the HDF4
> file mfhdfi.h concerning 'UNKNOWN' as an enum definition: 1>c:\program
> files\gdal-1.5.3\frmts\hdf4\hdf4dataset.h(55) : error C2365: 'UNKNOWN' :
> redefinition; previous definition was 'enumerator' 1> c:\program
> files\hdf42r3\include\mfhdfi.h(26) : see declaration of 'UNKNOWN'

I recognize the message and fixed it like this (as per some tip I found
some time ago while Googling on the error message):

sed -i "s! UNKNOWN! UNKNOWNPRODUCT!" frmts/hdf4/*.{h,cpp}
sed -i "s!\"UNKNOWN!\"UNKNOWNPRODUCT!" frmts/hdf4/*.{h,cpp}

(Replace UNKNOWN by UNKNOWNPRODUCT in the relevant files to prevent
the conflict. Note the space and double quote in front of the words.)

Other than that I was able to build Gdal with hdf4.2r3 support.

Kor
From warmerdam at pobox.com  Tue Oct 28 11:31:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 28 11:32:03 2008
Subject: [gdal-dev] Formats question (was Re: JPEG2000 question/issue)
In-Reply-To: <E4692D1DCAD27245866154AF9CE126B1104AAB9C@emss04m02.us.lmco.com>
References: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
	<4905DD05.10303@pobox.com>
	<E4692D1DCAD27245866154AF9CE126B11045B8E8@emss04m02.us.lmco.com>
	<200810272011.27291.even.rouault@mines-paris.org>
	<E4692D1DCAD27245866154AF9CE126B1104AAB9C@emss04m02.us.lmco.com>
Message-ID: <49073050.8060501@pobox.com>

Nidel, Mike wrote:
> That was what I was looking for, thank you.
> 
> Now a new question, is there a way to remove formats from the
> build entirely? Obviously there is for formats that require
> external libraries, they just don't get uncommented in the
> nmake.opt. But what about, for example, disabling NITF at
> compile time? I would actually like to disable ALL gdal formats
> except MrSID, but NITF causes a particular problem for me
> because I already have an NITF reader and there is a conflict
> in the way I'm loading the readers.

Mike,

On windows you can remove the -DFRMT_<format> declarations from
EXTRAFLAGS in gdal/frmts/makefile.vc to drop particular standard formats.
On unix/linux you can remove formats from the GDAL_FORMATS macro in
GDALmake.opt after configuring.

Note that some formats depend on others and so some combinations of
removals will not work.

In applications you can also deregister drivers after calling
GDALAllRegister() or you can just register selective drivers using
their corresponding register calls.

To deregister a driver do something like:

   GDALDriverManager *poDM = GetGDALDriverManager();

   GDALAllRegister();
   poDM->DeregisterDriver( poDM->GetDriverByName( "NITF" ) );

To register only selective drivers skip GDALAllRegister() and call
the desired registration functions.

#include "gdal_frmts.h"

...
   GDALRegister_MrSID();
   GDALRegister_JPEG();

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Oct 28 11:42:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 28 11:42:44 2008
Subject: [gdal-dev] gdal_priv.h not found on ubuntu
In-Reply-To: <c61d98af0810280432j3db9750eq2d5eaca55144a934@mail.gmail.com>
References: <c61d98af0810280432j3db9750eq2d5eaca55144a934@mail.gmail.com>
Message-ID: <490732D6.6050305@pobox.com>

Matt Wilkie wrote:
> Hello Folks,   I could use some hand-holding please... :)
> 
> I'm trying to compile Matt Perry's hillshade
> [http://www.perrygeo.net/wordpress/?p=7] utility on Ubuntu 8.10 (amd64
> if that makes a difference). I'm told "hillshade.cpp:24:23: error:
> gdal_priv.h: No such file or directory". I have installed libgdal1-dev
> and verified gdal_priv.h does exist in /usr/include/gdal. What am I
> missing?

Matt,

Try:

g++ -I/usr/include/gdal hillshade.cpp -lgdal -o hillshade

PS. I'm interested in adopting Matt Perry's utillities into GDAL proper at
some point to streamline their use and maintenance.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From neteler at osgeo.org  Tue Oct 28 12:02:33 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Tue Oct 28 12:02:37 2008
Subject: [gdal-dev] gdal_priv.h not found on ubuntu
In-Reply-To: <490732D6.6050305@pobox.com>
References: <c61d98af0810280432j3db9750eq2d5eaca55144a934@mail.gmail.com>
	<490732D6.6050305@pobox.com>
Message-ID: <86782b610810280902t55098818q3dec1a19806e891e@mail.gmail.com>

On Tue, Oct 28, 2008 at 4:42 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> PS. I'm interested in adopting Matt Perry's utillities into GDAL proper at
> some point to streamline their use and maintenance.

Frank,

this would be great. I am long term user of these tools.

Markus
From Chris.Barker at noaa.gov  Tue Oct 28 12:25:55 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Tue Oct 28 12:25:52 2008
Subject: [gdal-dev] Python / ArcGIS / zlib conflict
In-Reply-To: <451453C181B199458A55B2B1723FAC00014E0C22@SAGE.forestry.oregonstate.edu>
References: <451453C181B199458A55B2B1723FAC00014E0C22@SAGE.forestry.oregonstate.edu>
Message-ID: <49073D13.3080104@noaa.gov>

Gregory, Matthew wrote:
> It seems strange to me that ArcGIS would put the 'bin'
> directory (that had all kinds of other stuff besides Python DLLs) into
> PYTHONPATH, but I may not have a good grasp of the complexities here ...

My rant:


Why the heck do folks using python to script their own tools use a 
standard install, but then treat python as their own little playground?

It makes it very difficult to use Python as a general purpose 
development tool if ESRI, or whoever, is messing with the environment.

If you want to use python to script your own stuff, either do a private 
install, or DO NOT mess with anything global, such as PYTHONPATH.

Sorry, I don't have a solution that won't break ESRI stuff, but I am 
telling you that the problem is what they've done, NOT your grasp of the 
complexities.

sigh.

-Chris

no wait -- one possible option: it appears you're having difficulties in 
the build/install stage -- if that's it, then you may be able to simply 
re-set PYTHONPATH before running setup.py


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From klandrus at progeny.net  Tue Oct 28 14:50:59 2008
From: klandrus at progeny.net (Kurt Landrus)
Date: Tue Oct 28 14:51:02 2008
Subject: (nwl)  Re: [gdal-dev] Saving data to the TEXT domain NITF
In-Reply-To: <49061DB4.3050707@pobox.com>
References: <3ABD474B-9F88-4F9C-9B83-BB3F1D9BCC4C@progeny.net>
	<49061DB4.3050707@pobox.com>
Message-ID: <5FEC60EA-92C0-416D-BAD8-F2A0DCE833DF@progeny.net>

How hard would it be to add support, is there a lot that needs to be  
added to the framework, or is there just code that needs to be added
to the nitf driver itself?  i.e. is the code required straightforward  
enough that I can look at adding it and uploading changes?
Any tips on where I can start looking at this?
Thanks;


Kurt Landrus
Progeny Systems Corp.
klandrus@progeny.net
Office: 	703-368-6107 x424
Lab: 	703-368-6107 x520



On Oct 27, 2008, at 3:59 PM, Frank Warmerdam wrote:

> Kurt Landrus wrote:
>> Hello;
>> I working with GDAL to support NITF imagery, I'm having a problem  
>> with trying to save text data to the I can read data from the Text  
>> segment just fine. However when I try to save data back to the nitf  
>> in the TEXT segment using the call
>> below,  I receive no err, but the data doesn't get saved.
>> // save text segment to dataset.
>> err = GDALSetMetadataItem(dataset, "DATA_0", tmp3, "TEXT");
>> When I try to verify the text in the TEXT segment using gdalinfo,  
>> there is no TEXT segment data contained in the NITF file.
>> Is there other calls required to set up this,  what I am doing wrong.
>> Thanks;
>
> Kurt,
>
> I believe that at this time the GDAL NITF driver does not support  
> writing
> out text segments.
>
> Best regards,
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for  
> Rent
>

From warmerdam at pobox.com  Tue Oct 28 14:59:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 28 14:59:37 2008
Subject: [gdal-dev] Definition conflict in HDF4 driver?
In-Reply-To: <200810281434.19602.k.dejong@geo.uu.nl>
References: <AC3559779B145744A3FA06C52D00BD0F04196D9F@SINTEFXCH01.sintef.no>
	<200810281434.19602.k.dejong@geo.uu.nl>
Message-ID: <490760FD.4020707@pobox.com>

Kor de Jong wrote:
> Hi Sjur,
> 
> On Tuesday 28 October 2008 13:26:45 Kolberg Sjur A wrote:
>> I seem to get a conflict between the GDAL file hdf4dataset.h and the HDF4
>> file mfhdfi.h concerning 'UNKNOWN' as an enum definition: 1>c:\program
>> files\gdal-1.5.3\frmts\hdf4\hdf4dataset.h(55) : error C2365: 'UNKNOWN' :
>> redefinition; previous definition was 'enumerator' 1> c:\program
>> files\hdf42r3\include\mfhdfi.h(26) : see declaration of 'UNKNOWN'
> 
> I recognize the message and fixed it like this (as per some tip I found
> some time ago while Googling on the error message):
> 
> sed -i "s! UNKNOWN! UNKNOWNPRODUCT!" frmts/hdf4/*.{h,cpp}
> sed -i "s!\"UNKNOWN!\"UNKNOWNPRODUCT!" frmts/hdf4/*.{h,cpp}
> 
> (Replace UNKNOWN by UNKNOWNPRODUCT in the relevant files to prevent
> the conflict. Note the space and double quote in front of the words.)
> 
> Other than that I was able to build Gdal with hdf4.2r3 support.

Kor,

Is this something you would be willing to commit in trunk before the
Beta is snapped later tomorrow?  If not could you or Sjur file a ticket
on the issue?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue Oct 28 15:06:29 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Oct 28 15:06:33 2008
Subject: [gdal-dev] Definition conflict in HDF4 driver?
In-Reply-To: <490760FD.4020707@pobox.com>
References: <AC3559779B145744A3FA06C52D00BD0F04196D9F@SINTEFXCH01.sintef.no>
	<200810281434.19602.k.dejong@geo.uu.nl>
	<490760FD.4020707@pobox.com>
Message-ID: <200810282006.29911.even.rouault@mines-paris.org>

A similar fix is already in trunk, and in branches/1.5 (but too late for 
1.5.3, so it will be available in GDAL 1.5.4)

See ticket http://trac.osgeo.org/gdal/ticket/2609

Le Tuesday 28 October 2008 19:59:09, vous avez ?crit?:
> Is this something you would be willing to commit in trunk before the
> Beta is snapped later tomorrow? ?If not could you or Sjur file a ticket
> on the issue?


From warmerdam at pobox.com  Tue Oct 28 15:08:06 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 28 15:08:43 2008
Subject: [gdal-dev] Installing test databases/servers online for the GDAL
	project
In-Reply-To: <f3b73b7d0810280531h5ed29f43l126026041d87b83c@mail.gmail.com>
References: <f3b73b7d0810280531h5ed29f43l126026041d87b83c@mail.gmail.com>
Message-ID: <49076316.9030302@pobox.com>

Tamas Szekeres wrote:
> Folks,
> 
> I'm not totally sure whether this topic has already been discussed or
> not, however I'd like to see your opinion about.
> 
> I've just worked on adding further drivers to Windows buildbot slaves,
> as I consider it would be reasonable to have them regularly tested
> especialy during the beta/release period of the GDAL project. I've
> noticed that many of the tests rely on the existence of some external
> servers like for mysql, oci, sde, pgsql, wcs. Currently none of these
> servers are available online therefore those tests are skipped in the
> testing process.
> 
> I'd wonder if we could somehow get those servers online, however I'm
> not sure who is responsible to maintain the corresponding databases.
> Assuming that there's no explicit owner of these servers would it be
> reasonable to establish such test servers for the GDAL project
> permanently?

Tamas,

I am interested in having as many of the databases enabled in at least
one of the buildbot slave instances.  Possibly Ari and I can get some of
them working on buildtest.osgeo.org as he migrates some of our GDAL
build slaves there.

I will note that SDE is pretty involved and non-free.  Currently I'm hoping
that Howard will be able to test SDE reasonably frequently.

As Ivan mentioned, it is permitted to install the full Oracle software
without cost as long as it is only being used for development, not
production.  So I'd like to get an oracle instance running somewhere
reasonably centrally accessable for testing and development.  However, the
operating system on buildtest.osgeo.org seems to be too old/odd to
accomplish this.  I tried and failed.  There has been some discussion of
OSGeo purchasing a server beefy enough to run several VMs.  It might be
practical to have one of those VMs used for testing and include an oracle
instance.

There is no reason, other than time, that we can't get mysql, postgres,
and ingres working on buildtest.osgeo.org.   I'd also like to get a
dependable WCS and WMS instance going somewhere.  I've setup my own
WCS test instance in the past, but the system ended up dying
(geodata.telascience.org) and I never got around to setting it up again.
Once again, just a matter of someone willing to do the work and document
it.

I'm a bit leery about providing open database services on the internet.
One concern is that it may make for very slow automated testing for
those with significant network latency.  My second concern is security.
I have no idea how dangerous a publically accessable mysql or postgres
instance is.  But I'm not keen on leaving a door wide open to crackers.
This might be more practical if we could provide it in a VM that we
could just restart from a clean image when needed.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue Oct 28 15:09:57 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Oct 28 15:10:02 2008
Subject: [gdal-dev] Installing test databases/servers online for the GDAL
	project
In-Reply-To: <f3b73b7d0810280531h5ed29f43l126026041d87b83c@mail.gmail.com>
References: <f3b73b7d0810280531h5ed29f43l126026041d87b83c@mail.gmail.com>
Message-ID: <200810282009.57302.even.rouault@mines-paris.org>

As far as pgsql and mysql are concerned, the first few lines of ogr_pg.py and 
ogr_mysql.py describe what is required to set up the databases. For these 
ones, it is pretty easy. For the other servers, I can't say.

For the record:
#
# To create the required PostGIS instance do something like:
#
#  $ createdb autotest
#  $ createlang plpgsql autotest
#  $ psql autotest < ~/postgis.sql
#

#
# To create the required MySQL instance do something like:
#
#  $ mysql -u root -p
#     mysql> CREATE DATABASE autotest;
#     mysql> GRANT ALL ON autotest.* 
TO 'THE_USER_THAT_RUNS_AUTOTEST'@'localhost';
#




Le Tuesday 28 October 2008 13:31:29, vous avez ?crit?:
> Folks,
>
> I'm not totally sure whether this topic has already been discussed or
> not, however I'd like to see your opinion about.
>
> I've just worked on adding further drivers to Windows buildbot slaves,
> as I consider it would be reasonable to have them regularly tested
> especialy during the beta/release period of the GDAL project. I've
> noticed that many of the tests rely on the existence of some external
> servers like for mysql, oci, sde, pgsql, wcs. Currently none of these
> servers are available online therefore those tests are skipped in the
> testing process.
>
> I'd wonder if we could somehow get those servers online, however I'm
> not sure who is responsible to maintain the corresponding databases.
> Assuming that there's no explicit owner of these servers would it be
> reasonable to establish such test servers for the GDAL project
> permanently?
>
> Another benefit of such an addition would be that the developers could
> track down and fix issues related to these drivers without having to
> wait for the component owner to take the required action. Most of the
> developers (like me) cannot afford spending such amount of $$$ to have
> those servers (like SDE or Oracle Spatial) installed locally, but I
> sometimes have a couple of issues reported with SDE and OCI which
> should be handled in short term.
>
> One of the issues have to be considered in this topic is a security
> related problem, I guess it's undesired to allow everyone to have
> read/write access to those databases, however I think we could
> separate those connection strings from the autotest scripts and load
> them from an external file by the scripts.
>
> I expect the GDAL project could collect enough sponsorship to support
> and mainain these servers or we could also establish that OSGEO-wide
> if the idea seems reasonable for the other projects as well.
>
>
> Any ideas?
>
>
> Best regards,
>
> Tamas
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue Oct 28 16:22:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Oct 28 16:23:28 2008
Subject: (nwl)  Re: [gdal-dev] Saving data to the TEXT domain NITF
In-Reply-To: <5FEC60EA-92C0-416D-BAD8-F2A0DCE833DF@progeny.net>
References: <3ABD474B-9F88-4F9C-9B83-BB3F1D9BCC4C@progeny.net>
	<49061DB4.3050707@pobox.com>
	<5FEC60EA-92C0-416D-BAD8-F2A0DCE833DF@progeny.net>
Message-ID: <490774A2.2010900@pobox.com>

Kurt Landrus wrote:
> How hard would it be to add support, is there a lot that needs to be 
> added to the framework, or is there just code that needs to be added
> to the nitf driver itself?  i.e. is the code required straightforward 
> enough that I can look at adding it and uploading changes?
> Any tips on where I can start looking at this?

Kurt,

I haven't done a careful analysis of how hard it would be to add.
The NITF create code is currently rather simplistic, and assumes a fairly
fixed file and image header.  I did recently add support for TREs on the
file object which generalized things a little bit.

The code in question is NITFCreate() in gdal/frmts/nitf/nitffile.c.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From szekerest at gmail.com  Tue Oct 28 18:36:30 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Oct 28 18:36:33 2008
Subject: [gdal-dev] Installing test databases/servers online for the GDAL
	project
In-Reply-To: <49076316.9030302@pobox.com>
References: <f3b73b7d0810280531h5ed29f43l126026041d87b83c@mail.gmail.com>
	<49076316.9030302@pobox.com>
Message-ID: <f3b73b7d0810281536r6a691530m77040c65be347990@mail.gmail.com>

Frank, Even, Ivan,

Thank you all for your comments,

It great to hear that most of these are available for free, so we
'only' have to deal with setting them up. Yes, a 'gdaltest' VM image
would be helpful, we could easily set up and run all of those
databases locally on each buildbot machine so we wouldn't have to
concern about the security very much.

However when looking into the scripts I have further technical issues
that should also be addressed. Some of the tests use fixed dbnames on
the localhost (like for postgis, mysql and ingres) therefore we cannot
install the databases in separate machines/VM images. Moreover
currently all the windows slaves are hosted on a single machine and we
should use at least separate database names for each of the slaves in
order to avoid the interferece between them.

The ogr_oci tests use the OCI_DSNAME environment variable which is
much better because I can set the environment for each instance
separately. The only drawback of this is that the buildbot dumps the
environment variables of the host machine to the web, so we cannot
store passwords in these variables safely. I'd prefer if the tests
were load the connection strings from external files instead.

With regards to the OGR SDE tests all of the credentials are contained
by the script with a fixed server IP address, therefore I wouldn't
have the chance to set up a proper environment even if I had an SDE
instance locally.

The lack of an available SDE instance is a big problem of some of the
developers. Would it be expensive to purchase a valid license for
GDAL/OsGeo? Do they have a developer like construction for testing
purposes?


Best regards,

Tamas



2008/10/28 Frank Warmerdam <warmerdam@pobox.com>:
> Tamas Szekeres wrote:
>>
>> Folks,
>>
>> I'm not totally sure whether this topic has already been discussed or
>> not, however I'd like to see your opinion about.
>>
>> I've just worked on adding further drivers to Windows buildbot slaves,
>> as I consider it would be reasonable to have them regularly tested
>> especialy during the beta/release period of the GDAL project. I've
>> noticed that many of the tests rely on the existence of some external
>> servers like for mysql, oci, sde, pgsql, wcs. Currently none of these
>> servers are available online therefore those tests are skipped in the
>> testing process.
>>
>> I'd wonder if we could somehow get those servers online, however I'm
>> not sure who is responsible to maintain the corresponding databases.
>> Assuming that there's no explicit owner of these servers would it be
>> reasonable to establish such test servers for the GDAL project
>> permanently?
>
> Tamas,
>
> I am interested in having as many of the databases enabled in at least
> one of the buildbot slave instances.  Possibly Ari and I can get some of
> them working on buildtest.osgeo.org as he migrates some of our GDAL
> build slaves there.
>
> I will note that SDE is pretty involved and non-free.  Currently I'm hoping
> that Howard will be able to test SDE reasonably frequently.
>
> As Ivan mentioned, it is permitted to install the full Oracle software
> without cost as long as it is only being used for development, not
> production.  So I'd like to get an oracle instance running somewhere
> reasonably centrally accessable for testing and development.  However, the
> operating system on buildtest.osgeo.org seems to be too old/odd to
> accomplish this.  I tried and failed.  There has been some discussion of
> OSGeo purchasing a server beefy enough to run several VMs.  It might be
> practical to have one of those VMs used for testing and include an oracle
> instance.
>
> There is no reason, other than time, that we can't get mysql, postgres,
> and ingres working on buildtest.osgeo.org.   I'd also like to get a
> dependable WCS and WMS instance going somewhere.  I've setup my own
> WCS test instance in the past, but the system ended up dying
> (geodata.telascience.org) and I never got around to setting it up again.
> Once again, just a matter of someone willing to do the work and document
> it.
>
> I'm a bit leery about providing open database services on the internet.
> One concern is that it may make for very slow automated testing for
> those with significant network latency.  My second concern is security.
> I have no idea how dangerous a publically accessable mysql or postgres
> instance is.  But I'm not keen on leaving a door wide open to crackers.
> This might be more practical if we could provide it in a VM that we
> could just restart from a clean image when needed.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
From nico.mandery at geops.de  Wed Oct 29 03:25:48 2008
From: nico.mandery at geops.de (Nico Mandery)
Date: Wed Oct 29 03:49:44 2008
Subject: [gdal-dev] Desktop App Map Server?
In-Reply-To: <6118e2f50810241212qe84aa0eq9f38a75f968c982d@mail.gmail.com>
References: <6118e2f50810241212qe84aa0eq9f38a75f968c982d@mail.gmail.com>
Message-ID: <49080FFC.50206@geops.de>

Brian Hone schrieb:
> Hi Folks,
>
> Sorry if this is a newbie question, but I've looked all over and can't
> find any good information.
>
> I have a desktop app (wxGTK / C++ / OpenGL) on which I want to display
> all manner of geo-images, in all manner of projections, etc.  I have
> coded the ability to display simple NITF, etc. using GDAL, but I am
> constantly finding image formats or projection systems which I haven't
> supported.  I really want to have a data store with an API which looks
>  something like:
>
> getMapLayers( area, layers, resolution )
>
> o It looks like OGDI is built to solve this problem, but I can't find
> a 'howto'.
> o PostGIS + GDAL?
> o MapServer et al.? -  look good, but are more web focused.
>
> Can anyone give me a good starting point?
>
> Thanks much for your help,
>   

Hi Brian,

Maybe mapnik the thing you are looking for. It also supports GDAL as 
datasource.
http://mapnik.org

nico
From ari.jolma at tkk.fi  Wed Oct 29 08:04:44 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Oct 29 08:04:54 2008
Subject: [gdal-dev] MSYS buildslave
Message-ID: <4908515C.1000700@tkk.fi>

All,

I've set up a buildslave, which builds GDAL from a fresh checkout of the 
trunk in Windows using the MSYS environment. Currently the build is 
quite lean and only Perl bindings are built in addition to the core dll 
and apps. Only Perl tests are run.

The slave is listed on http://buildbot.osgeo.org:8500/waterfall and it 
runs on a vmware'd windows on my desktop machine at work. The slave was 
easy to set up - once I understood that the buildmaster listens at port 
1500 and *not* at 8500.

The build is not quite right out of box, I've had to add two small hacks 
(done by small perl scripts at each build):

- edit GNUmakefile in gdal root to replace ${GDAL_ROOT} with "." 
(ticket: #2127)
- edit swig/perl/Makefile.PL to add c:/msys/1.0/local/{lib|include}, 
which contains some things that get into gdal core (curl, geos) in my system

Ari

-- 
Prof. Ari Jolma
Environmental Management Information Technology
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 4511 address: POBox 5300, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://geoinformatics.tkk.fi



From Kai-Behncke at gmx.de  Wed Oct 29 09:17:26 2008
From: Kai-Behncke at gmx.de (Kai Behncke)
Date: Wed Oct 29 09:17:31 2008
Subject: [gdal-dev] Problem in using gdaltransform
Message-ID: <20081029131726.15830@gmx.net>

Dear users,

I have got a problem using gdaltransform on Windows XP (Fwtools 2.2.6).

If I try the example from http://www.gdal.org/gdaltransform.html

using gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370 177502 311865


....I always get:
ERROR 4: `177502' does not exist in the file system,
and is not recognised as a supported dataset name.


....what kinds of dataset are accepted?
Is there a way to type in coordinates in the line?

Thank you very much in advance, Kai
-- 
GMX Download-Spiele: Preizsturz! Alle Puzzle-Spiele Deluxe ?ber 60% billiger.
http://games.entertainment.gmx.net/de/entertainment/games/download/puzzle/index.html
From klokan at klokan.cz  Wed Oct 29 09:33:44 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Wed Oct 29 09:33:47 2008
Subject: [gdal-dev] Problem in using gdaltransform
In-Reply-To: <20081029131726.15830@gmx.net>
References: <20081029131726.15830@gmx.net>
Message-ID: <6e41d95b0810290633x31ad9afdyf21a3000b7bfc6f5@mail.gmail.com>

Dear Kai,

The coordinates itself are expected on the standard input not as parameter...

Use command:
gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370

and after it is running type in the values followed by Enter
177502 311865

It will print the transformed coordinates.

In case you need to transform a text file with coordinates use the
pipes or input/output forwarding...
example:
gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370 <input.txt >output.txt

Best regards

Klokan


On Wed, Oct 29, 2008 at 2:17 PM, Kai Behncke <Kai-Behncke@gmx.de> wrote:
> Dear users,
>
> I have got a problem using gdaltransform on Windows XP (Fwtools 2.2.6).
>
> If I try the example from http://www.gdal.org/gdaltransform.html
>
> using gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370 177502 311865
>
>
> ....I always get:
> ERROR 4: `177502' does not exist in the file system,
> and is not recognised as a supported dataset name.
>
>
> ....what kinds of dataset are accepted?
> Is there a way to type in coordinates in the line?
>
> Thank you very much in advance, Kai
> --
> GMX Download-Spiele: Preizsturz! Alle Puzzle-Spiele Deluxe ?ber 60% billiger.
> http://games.entertainment.gmx.net/de/entertainment/games/download/puzzle/index.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Wed Oct 29 10:41:31 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 29 10:42:04 2008
Subject: [gdal-dev] MSYS buildslave
In-Reply-To: <4908515C.1000700@tkk.fi>
References: <4908515C.1000700@tkk.fi>
Message-ID: <4908761B.9060606@pobox.com>

Ari Jolma wrote:
> All,
> 
> I've set up a buildslave, which builds GDAL from a fresh checkout of the 
> trunk in Windows using the MSYS environment. Currently the build is 
> quite lean and only Perl bindings are built in addition to the core dll 
> and apps. Only Perl tests are run.

Ari,

Excellent!  The one addition I'd be particularly keen to see would be
building the python bindings and running the python test suite since it
is our comprehensive "standard" test suite.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mike.nidel at lmco.com  Wed Oct 29 10:45:10 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Wed Oct 29 10:44:58 2008
Subject: [gdal-dev] Formats question (was Re: JPEG2000 question/issue)
In-Reply-To: <49073050.8060501@pobox.com>
References: <24CCF31F-2F20-43BF-AFF3-AB7F329E5EA5@iavo-rs.com>
	<4905DD05.10303@pobox.com>
	<E4692D1DCAD27245866154AF9CE126B11045B8E8@emss04m02.us.lmco.com>
	<200810272011.27291.even.rouault@mines-paris.org>
	<E4692D1DCAD27245866154AF9CE126B1104AAB9C@emss04m02.us.lmco.com>
	<49073050.8060501@pobox.com>
Message-ID: <E4692D1DCAD27245866154AF9CE126B1104FB45E@emss04m02.us.lmco.com>

It worked like a charm, thanks.

Just a note: disabling gtiff made gdalinfo not build, and jpeg also
had a similar effect on some step of the build. So I reenabled those
and everything builds happily.

much appreciated!

Mike

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
> Sent: Tuesday, October 28, 2008 11:31 AM
> To: Nidel, Mike
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Formats question (was Re: JPEG2000 
> question/issue)
> 
> Nidel, Mike wrote:
> > That was what I was looking for, thank you.
> > 
> > Now a new question, is there a way to remove formats from the build 
> > entirely? Obviously there is for formats that require external 
> > libraries, they just don't get uncommented in the 
> nmake.opt. But what 
> > about, for example, disabling NITF at compile time? I would 
> actually 
> > like to disable ALL gdal formats except MrSID, but NITF causes a 
> > particular problem for me because I already have an NITF reader and 
> > there is a conflict in the way I'm loading the readers.
> 
> Mike,
> 
> On windows you can remove the -DFRMT_<format> declarations 
> from EXTRAFLAGS in gdal/frmts/makefile.vc to drop particular 
> standard formats.
> On unix/linux you can remove formats from the GDAL_FORMATS 
> macro in GDALmake.opt after configuring.
> 
> Note that some formats depend on others and so some 
> combinations of removals will not work.
> 
> In applications you can also deregister drivers after calling
> GDALAllRegister() or you can just register selective drivers 
> using their corresponding register calls.
> 
> To deregister a driver do something like:
> 
>    GDALDriverManager *poDM = GetGDALDriverManager();
> 
>    GDALAllRegister();
>    poDM->DeregisterDriver( poDM->GetDriverByName( "NITF" ) );
> 
> To register only selective drivers skip GDALAllRegister() and 
> call the desired registration functions.
> 
> #include "gdal_frmts.h"
> 
> ...
>    GDALRegister_MrSID();
>    GDALRegister_JPEG();
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> 
From aborruso at tin.it  Wed Oct 29 14:52:41 2008
From: aborruso at tin.it (iomeneandrei)
Date: Wed Oct 29 14:52:43 2008
Subject: [Gdal-dev] SQLite problem
Message-ID: <20233548.post@talk.nabble.com>


Hi all,
I have created a sqlite spatial db with ogr2ogr, starting from a simple
shapefile.

I'm able to read the proper info of this sqlite db with ogrinfo.

If I add a column to this sqlite db inside the table where I have the
WKT_GEOMETRY, ogrinfo is no more able to read properly this db.

Is it possible to add a column to  a sqlite spatial db without destroy the
spatial component?

I'm using SQLite Manager 0.3.15 for firefox to edit the db.

I'm attaching the original sqlite file: 
http://www.nabble.com/file/p20233548/output1.sqlite output1.sqlite 

Thank you,

Andrea

-----
Andrea Borruso

----------------------------------------------------
email: aborruso@tin.it
blog: http://blog.spaziogis.it
----------------------------------------------------
-- 
View this message in context: http://www.nabble.com/SQLite-problem-tp20233548p20233548.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Wed Oct 29 15:19:52 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 29 15:19:56 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <20233548.post@talk.nabble.com>
References: <20233548.post@talk.nabble.com>
Message-ID: <200810292019.52750.even.rouault@mines-paris.org>

This must be a problem with your SQLite client.

I used the sqlite3 console gui and did on your database:
ALTER TABLE output ADD COLUMN newcolumn VARCHAR;

ogrinfo was still working afterwards.

Le Wednesday 29 October 2008 19:52:41 iomeneandrei, vous avez ?crit?:
> d a column to this sqlite db inside the table where I have the
> WKT_GEOMETRY, ogrinfo is no more able to read properly this db.


From warmerdam at pobox.com  Wed Oct 29 15:24:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 29 15:25:23 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <20233548.post@talk.nabble.com>
References: <20233548.post@talk.nabble.com>
Message-ID: <4908B880.700@pobox.com>

iomeneandrei wrote:
> Hi all,
> I have created a sqlite spatial db with ogr2ogr, starting from a simple
> shapefile.
> 
> I'm able to read the proper info of this sqlite db with ogrinfo.
> 
> If I add a column to this sqlite db inside the table where I have the
> WKT_GEOMETRY, ogrinfo is no more able to read properly this db.
> 
> Is it possible to add a column to  a sqlite spatial db without destroy the
> spatial component?
> 
> I'm using SQLite Manager 0.3.15 for firefox to edit the db.
> 
> I'm attaching the original sqlite file: 
> http://www.nabble.com/file/p20233548/output1.sqlite output1.sqlite 

Andrea,

The file you referenced seems to work fine with my (trunk) ogrinfo.  Can you
provide an example that ogrinfo can't read?  Generally, adding new columns to
a spatial table should not cause problems for OGR.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Oct 29 17:27:02 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 29 17:27:38 2008
Subject: [gdal-dev] SetEquarectangular() changes
Message-ID: <4908D526.9090300@pobox.com>

Didier,

I've backed out r15642 (in r15643) for the time being because I suspect it
included some unrelated changes that were inadvertant.

   http://trac.osgeo.org/gdal/changeset/15642

For instance some of the changes to geo_normalize.c and geo_ctrans.inc which
really need to start out upstream in libgeotiff.  Also, the UOMLengthInMeters
changes in gt_wkt_srs.cpp seem unrelated to the stated reason for the commit.
Likewise many changes in nitfdataset.cpp.

There also seems to be substantial alterations to ogr_srs_api.h  that I don't
really understand.

The core reason for the change seemed to be to replace use of
SetEquirectangular() with calls to SetEquirectangular2() with the first
argument being zero.  I'm not sure this is a great idea.  Can we not leave
SetEquirectangular and just have it call SetEquirectangular2() with the first
argument as 0.0?  This would minimize changes, and leave the API so that
private plugins won't be broken.  Generally speaking, I'm not keen on changing
existing parts of the C++ API when easily avoidable as it seems to be in
this case.

I'd appreciate it if you could review the changes you want to make and apply
them more narrowly.  I find commits from root can be pretty dangerous!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From didier.richard at ign.fr  Wed Oct 29 18:14:46 2008
From: didier.richard at ign.fr (RICHARD Didier)
Date: Wed Oct 29 18:23:16 2008
Subject: [gdal-dev] Re: SetEquarectangular() changes
In-Reply-To: <4908D526.9090300@pobox.com>
References: <4908D526.9090300@pobox.com>
Message-ID: <33245.87.231.96.39.1225318486.squirrel@webmail.ign.fr>


> Didier,
>

Frank,

> I've backed out r15642 (in r15643) for the time being because I suspect it
> included some unrelated changes that were inadvertant.
>
>    http://trac.osgeo.org/gdal/changeset/15642
>
> For instance some of the changes to geo_normalize.c and geo_ctrans.inc
> which
> really need to start out upstream in libgeotiff.

You're right, you wrote you a mail in between saying that the ticket
numbering in the commit's log was wrong : 2507 is to be replaced by
2478...

>  Also, the UOMLengthInMeters
> changes in gt_wkt_srs.cpp seem unrelated to the stated reason for the
> commit.

Same reason.

> Likewise many changes in nitfdataset.cpp.
>

Same reason.

> There also seems to be substantial alterations to ogr_srs_api.h  that I
> don't
> really understand.
>

ogr_srs_api.h : I don't understand too as my local file diff with the
reverted trunk is as follows :

--- /data/svn/GDAL/ogr/ogr_srs_api.h    2008-10-29 22:49:05.000000000 +0100
+++ ogr/ogr_srs_api.h   2008-10-29 10:58:20.000000000 +0100
@@ -1,5 +1,5 @@
 /******************************************************************************
- * $Id: ogr_srs_api.h 15643 2008-10-29 21:18:47Z warmerdam $
+ * $Id: ogr_srs_api.h 15280 2008-09-01 14:52:56Z dron $
  *
  * Project:  OpenGIS Simple Features Reference Implementation
  * Purpose:  C API and constant declarations for OGR Spatial References.
@@ -107,8 +107,8 @@
 #define SRS_PT_EQUIRECTANGULAR  "Equirectangular"
 #define SRS_PT_GALL_STEREOGRAPHIC                                       \
                                 "Gall_Stereographic"
-#define SRS_PT_GAUSSLABORDEREUNION                                      \
-                                "Gauss_Laborde_Sphere_Geometric_Mean"
+#define SRS_PT_GAUSSSCHREIBERTMERCATOR                                   
  \
+                                "Gauss_Schreiber_Transverse_Mercator"
 #define SRS_PT_GEOSTATIONARY_SATELLITE                                  \
                                 "Geostationary_Satellite"
 #define SRS_PT_GOODE_HOMOLOSINE "Goode_Homolosine"
@@ -429,9 +429,9 @@
 /** Equirectangular generalized form */
 OGRErr CPL_DLL OSRSetEquirectangular2( OGRSpatialReferenceH hSRS,
                               double dfCenterLat, double dfCenterLong,
-                              double dfPseudoStdParallel1,
                               double dfFalseEasting,
-                              double dfFalseNorthing );
+                              double dfFalseNorthing,
+                              double dfPseudoStdParallel1  /* = 0.0 */);

 /** Gall Stereograpic */
 OGRErr CPL_DLL OSRSetGS( OGRSpatialReferenceH hSRS, double
dfCentralMeridian,
@@ -446,8 +446,8 @@
                            double dfCentralMeridian, double
dfSatelliteHeight,
                            double dfFalseEasting, double dfFalseNorthing );

-/** Gauss Laborde Reunion */
-OGRErr CPL_DLL OSRSetGaussLabordeReunion( OGRSpatialReferenceH hSRS,
+/** Gauss Schreiber Transverse Mercator */
+OGRErr CPL_DLL OSRSetGaussSchreiberTMercator( OGRSpatialReferenceH hSRS,
                                   double dfCenterLat, double dfCenterLong,
                                   double dfScale,
                                   double dfFalseEasting,

something wrong happend ?

> The core reason for the change seemed to be to replace use of
> SetEquirectangular() with calls to SetEquirectangular2() with the first
> argument being zero.  I'm not sure this is a great idea.  Can we not leave
> SetEquirectangular and just have it call SetEquirectangular2() with the
> first
> argument as 0.0?  This would minimize changes, and leave the API so that
> private plugins won't be broken.  Generally speaking, I'm not keen on
> changing
> existing parts of the C++ API when easily avoidable as it seems to be in
> this case.
>

The core reason was two fold :
- reply to ticket 2478 as you mentionned above with SetEquirectangular()
and SetEquirectangular2();
- make GDAL / PROJ.4.6.1 compatible (gstmerc changes)

> I'd appreciate it if you could review the changes you want to make and
> apply
> them more narrowly.  I find commits from root can be pretty dangerous!
>

When I first proposed SetEquirectangular2() the purpose was to keep the
API similar as you mentionned. The ticket 2478 drove me in the wrong
direction in trying to merge to two SetEquirectangular*() methods.

As my first objective was to use GDAL 1.6.0 / PROJ4.6.1, I will only focus
on the gstmerc changes (hopping I have enough time as the deadline is
today --I mean wednesday-- for 1.6.0).

Sorry Frank and devs for the inconvenience,

> Best regards,

Sincerely,

didier
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
RICHARD Didier - Chef du p?le technique du G?oportail
2/4, avenue Pasteur - 94165 Saint Mand? Cedex
T?l : +33 (0) 1 43 98 83 23
From warmerdam at pobox.com  Wed Oct 29 18:23:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 29 18:23:30 2008
Subject: [gdal-dev] Re: SetEquarectangular() changes
In-Reply-To: <33245.87.231.96.39.1225318486.squirrel@webmail.ign.fr>
References: <4908D526.9090300@pobox.com>
	<33245.87.231.96.39.1225318486.squirrel@webmail.ign.fr>
Message-ID: <4908E24B.8080306@pobox.com>

RICHARD Didier wrote:
>> Didier,
>>
> 
> Frank,
> 
>> I've backed out r15642 (in r15643) for the time being because I suspect it
>> included some unrelated changes that were inadvertant.
>>
>>    http://trac.osgeo.org/gdal/changeset/15642
>>
>> For instance some of the changes to geo_normalize.c and geo_ctrans.inc
>> which
>> really need to start out upstream in libgeotiff.
> 
> You're right, you wrote you a mail in between saying that the ticket
> numbering in the commit's log was wrong : 2507 is to be replaced by
> 2478...
> 
>>  Also, the UOMLengthInMeters
>> changes in gt_wkt_srs.cpp seem unrelated to the stated reason for the
>> commit.
> 
> Same reason.

Didier,

OK, but the changes are still inappropriate and have nothing to
do with Equirectangular.

>> Likewise many changes in nitfdataset.cpp.
>>
> 
> Same reason.

Ditto

>> There also seems to be substantial alterations to ogr_srs_api.h  that I
>> don't
>> really understand.
>>
> 
> ogr_srs_api.h : I don't understand too as my local file diff with the
> reverted trunk is as follows :

See:

http://trac.osgeo.org/gdal/changeset/15642#file14

For some reason massive amounts of stuff were removed, and the C++
definitions from ogr_spatialref.h got inserted.

>> The core reason for the change seemed to be to replace use of
>> SetEquirectangular() with calls to SetEquirectangular2() with the first
>> argument being zero.  I'm not sure this is a great idea.  Can we not leave
>> SetEquirectangular and just have it call SetEquirectangular2() with the
>> first
>> argument as 0.0?  This would minimize changes, and leave the API so that
>> private plugins won't be broken.  Generally speaking, I'm not keen on
>> changing
>> existing parts of the C++ API when easily avoidable as it seems to be in
>> this case.
>>
> 
> The core reason was two fold :
> - reply to ticket 2478 as you mentionned above with SetEquirectangular()
> and SetEquirectangular2();
> - make GDAL / PROJ.4.6.1 compatible (gstmerc changes)
> 
>> I'd appreciate it if you could review the changes you want to make and
>> apply
>> them more narrowly.  I find commits from root can be pretty dangerous!
>>
> 
> When I first proposed SetEquirectangular2() the purpose was to keep the
> API similar as you mentionned. The ticket 2478 drove me in the wrong
> direction in trying to merge to two SetEquirectangular*() methods.
> 
> As my first objective was to use GDAL 1.6.0 / PROJ4.6.1, I will only focus
> on the gstmerc changes (hopping I have enough time as the deadline is
> today --I mean wednesday-- for 1.6.0).

I won't be snapping beta1 for several hours so if you can apply a gstmerc
change that would be good.  If there are changes required in libgeotiff we
will need to also look into that.  If you don't manage it tonight, it is
still ok to put them in before beta2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From aborruso at tin.it  Wed Oct 29 18:39:19 2008
From: aborruso at tin.it (iomeneandrei)
Date: Wed Oct 29 18:39:22 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <4908B880.700@pobox.com>
References: <20233548.post@talk.nabble.com> <4908B880.700@pobox.com>
Message-ID: <20237327.post@talk.nabble.com>


Hi Frank,
thank you very much.

Frank Warmerdam-2 wrote:
> 
> The file you referenced seems to work fine with my (trunk) ogrinfo.  Can
> you
> provide an example that ogrinfo can't read?  Generally, adding new columns
> to
> a spatial table should not cause problems for OGR.
> 
The file I have attache was the right one.
I have used this query:
ALTER TABLE "main"."output" ADD COLUMN "test" VARCHAR

And I have had the file I'm attaching now 
http://www.nabble.com/file/p20237327/output2.sqlite output2.sqlite .

I'm not able to read it with ogrinfo.

My sqlite client is this:
https://addons.mozilla.org/en-US/firefox/addon/5817

Thank you,

Andrea

-----
Andrea Borruso

----------------------------------------------------
email: aborruso@tin.it
blog: http://blog.spaziogis.it
----------------------------------------------------
-- 
View this message in context: http://www.nabble.com/SQLite-problem-tp20233548p20237327.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From aborruso at tin.it  Wed Oct 29 18:41:50 2008
From: aborruso at tin.it (iomeneandrei)
Date: Wed Oct 29 18:41:52 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <200810292019.52750.even.rouault@mines-paris.org>
References: <20233548.post@talk.nabble.com>
	<200810292019.52750.even.rouault@mines-paris.org>
Message-ID: <20237363.post@talk.nabble.com>


Hi Even,
thank you very much.

Even Rouault wrote:
> 
> This must be a problem with your SQLite client.
> 

I will make some test with another client.

Best regards,

Andrea


-----
Andrea Borruso

----------------------------------------------------
email: aborruso@tin.it
blog: http://blog.spaziogis.it
----------------------------------------------------
-- 
View this message in context: http://www.nabble.com/SQLite-problem-tp20233548p20237363.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Wed Oct 29 18:44:37 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 29 18:44:43 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <20237327.post@talk.nabble.com>
References: <20233548.post@talk.nabble.com> <4908B880.700@pobox.com>
	<20237327.post@talk.nabble.com>
Message-ID: <200810292344.38409.even.rouault@mines-paris.org>

I can read output2.sqlite with ogrinfo:

INFO: Open of `output2.sqlite'
      using driver `SQLite' successful.

Layer name: output
Geometry: Point
Feature Count: 2
Extent: (13.000000, 38.000000) - (13.500000, 39.000000)
Layer SRS WKT:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.01745329251994328,
        AUTHORITY["EPSG","9122"]],
    AUTHORITY["EPSG","4326"]]
id: String (0.0)
testo: String (0.0)
xi: String (0.0)
yi: String (0.0)
test: String (0.0)
OGRFeature(output):1
  id (String) = 1
  testo (String) = ciao
  xi (String) = 13.000000
  yi (String) = 38.000000
  test (String) = (null)
  POINT (13 38)

OGRFeature(output):2
  id (String) = 2
  testo (String) = bau
  xi (String) = 13.500000
  yi (String) = 39.000000
  test (String) = (null)
  POINT (13.499999999999996 39.0)


I believe having read somewhere that old versions of sqlite libraries didn't 
handle well changing the structure of a table after its creation. Is there 
any chance that your GDAL build links to an old sqlite library ?

Le Wednesday 29 October 2008 23:39:19 iomeneandrei, vous avez ?crit?:
> Hi Frank,
> thank you very much.
>
> Frank Warmerdam-2 wrote:
> > The file you referenced seems to work fine with my (trunk) ogrinfo.  Can
> > you
> > provide an example that ogrinfo can't read?  Generally, adding new
> > columns to
> > a spatial table should not cause problems for OGR.
>
> The file I have attache was the right one.
> I have used this query:
> ALTER TABLE "main"."output" ADD COLUMN "test" VARCHAR
>
> And I have had the file I'm attaching now
> http://www.nabble.com/file/p20237327/output2.sqlite output2.sqlite .
>
> I'm not able to read it with ogrinfo.
>
> My sqlite client is this:
> https://addons.mozilla.org/en-US/firefox/addon/5817
>
> Thank you,
>
> Andrea
>
> -----
> Andrea Borruso
>
> ----------------------------------------------------
> email: aborruso@tin.it
> blog: http://blog.spaziogis.it
> ----------------------------------------------------


From even.rouault at mines-paris.org  Wed Oct 29 18:49:09 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Oct 29 18:49:12 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <200810292344.38409.even.rouault@mines-paris.org>
References: <20233548.post@talk.nabble.com> <20237327.post@talk.nabble.com>
	<200810292344.38409.even.rouault@mines-paris.org>
Message-ID: <200810292349.09273.even.rouault@mines-paris.org>

Yes, see http://www.sqlite.org/lang_altertable.html
You need SQLite > 3.1.3

Le Wednesday 29 October 2008 23:44:37 Even Rouault, vous avez ?crit?:
> I can read output2.sqlite with ogrinfo:
>
> INFO: Open of `output2.sqlite'
>       using driver `SQLite' successful.
>
> Layer name: output
> Geometry: Point
> Feature Count: 2
> Extent: (13.000000, 38.000000) - (13.500000, 39.000000)
> Layer SRS WKT:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.257223563,
>             AUTHORITY["EPSG","7030"]],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0,
>         AUTHORITY["EPSG","8901"]],
>     UNIT["degree",0.01745329251994328,
>         AUTHORITY["EPSG","9122"]],
>     AUTHORITY["EPSG","4326"]]
> id: String (0.0)
> testo: String (0.0)
> xi: String (0.0)
> yi: String (0.0)
> test: String (0.0)
> OGRFeature(output):1
>   id (String) = 1
>   testo (String) = ciao
>   xi (String) = 13.000000
>   yi (String) = 38.000000
>   test (String) = (null)
>   POINT (13 38)
>
> OGRFeature(output):2
>   id (String) = 2
>   testo (String) = bau
>   xi (String) = 13.500000
>   yi (String) = 39.000000
>   test (String) = (null)
>   POINT (13.499999999999996 39.0)
>
>
> I believe having read somewhere that old versions of sqlite libraries
> didn't handle well changing the structure of a table after its creation. Is
> there any chance that your GDAL build links to an old sqlite library ?
>
> Le Wednesday 29 October 2008 23:39:19 iomeneandrei, vous avez ?crit?:
> > Hi Frank,
> > thank you very much.
> >
> > Frank Warmerdam-2 wrote:
> > > The file you referenced seems to work fine with my (trunk) ogrinfo. 
> > > Can you
> > > provide an example that ogrinfo can't read?  Generally, adding new
> > > columns to
> > > a spatial table should not cause problems for OGR.
> >
> > The file I have attache was the right one.
> > I have used this query:
> > ALTER TABLE "main"."output" ADD COLUMN "test" VARCHAR
> >
> > And I have had the file I'm attaching now
> > http://www.nabble.com/file/p20237327/output2.sqlite output2.sqlite .
> >
> > I'm not able to read it with ogrinfo.
> >
> > My sqlite client is this:
> > https://addons.mozilla.org/en-US/firefox/addon/5817
> >
> > Thank you,
> >
> > Andrea
> >
> > -----
> > Andrea Borruso
> >
> > ----------------------------------------------------
> > email: aborruso@tin.it
> > blog: http://blog.spaziogis.it
> > ----------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From aborruso at tin.it  Wed Oct 29 19:05:38 2008
From: aborruso at tin.it (iomeneandrei)
Date: Wed Oct 29 19:05:39 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <200810292349.09273.even.rouault@mines-paris.org>
References: <20233548.post@talk.nabble.com> <4908B880.700@pobox.com>
	<20237327.post@talk.nabble.com>
	<200810292344.38409.even.rouault@mines-paris.org>
	<200810292349.09273.even.rouault@mines-paris.org>
Message-ID: <20237748.post@talk.nabble.com>


Hi Even,

Even Rouault wrote:
> 
> Yes, see http://www.sqlite.org/lang_altertable.html
> You need SQLite > 3.1.3
> 
to build my sqlite spatial db I use ogr2ogr utility I have in the lates
fwtools for windows.
The same for ogrinfo. Whit this I have:
"FAILURE:
Unable to open datasource `C:\output2.sqlite"

How is it possible to have sqlite > 3.1.3 inside fwtools?

Thank you for all,

Andrea




-----
Andrea Borruso

----------------------------------------------------
email: aborruso@tin.it
blog: http://blog.spaziogis.it
----------------------------------------------------
-- 
View this message in context: http://www.nabble.com/SQLite-problem-tp20233548p20237748.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From maphew at gmail.com  Wed Oct 29 21:13:22 2008
From: maphew at gmail.com (Matt Wilkie)
Date: Wed Oct 29 21:13:24 2008
Subject: [gdal-dev] gdal_priv.h not found on ubuntu
In-Reply-To: <490732D6.6050305@pobox.com>
References: <c61d98af0810280432j3db9750eq2d5eaca55144a934@mail.gmail.com>
	<490732D6.6050305@pobox.com>
Message-ID: <c61d98af0810291813r2ba3112akfe37d3aeed79d60d@mail.gmail.com>

> Try:
>
> g++ -I/usr/include/gdal hillshade.cpp -lgdal -o hillshade

Thank you for the suggestion, still no good though:

:~/src/demtools$ g++ -I/usr/include/gdal hillshade.cpp -lgdal -o hillshade
/usr/bin/ld: cannot find -lgdal
collect2: ld returned 1 exit status

:~/src/demtools$ g++ -I/usr/include/gdal hillshade.cpp -o hillshade
/tmp/ccisRgYI.o: In function `main':
hillshade.cpp:(.text+0x295): undefined reference to `GDALAllRegister'
hillshade.cpp:(.text+0x2a6): undefined reference to `GDALOpen'
hillshade.cpp:(.text+0x2d5): undefined reference to
`GDALDataset::GetRasterBand(int)'
hillshade.cpp:(.text+0x34b): undefined reference to `GDALRasterBand::GetXSize()'
hillshade.cpp:(.text+0x35a): undefined reference to `GDALRasterBand::GetYSize()'
hillshade.cpp:(.text+0x36f): undefined reference to `CPLMalloc'
hillshade.cpp:(.text+0x37d): undefined reference to `CPLMalloc'
hillshade.cpp:(.text+0x386): undefined reference to `GetGDALDriverManager'
hillshade.cpp:(.text+0x392): undefined reference to
`GDALDriverManager::GetDriverByName(char const*)'
hillshade.cpp:(.text+0x3d4): undefined reference to
`GDALDriver::Create(char const*, int, int, int, GDALDataType, char**)'
hillshade.cpp:(.text+0x43e): undefined reference to
`GDALDataset::GetRasterBand(int)'
hillshade.cpp:(.text+0x534): undefined reference to
`GDALRasterBand::RasterIO(GDALRWFlag, int, int, int, int, void*, int,
int, GDALDataType, int, int)'
hillshade.cpp:(.text+0x9c5): undefined reference to
`GDALRasterBand::RasterIO(GDALRWFlag, int, int, int, int, void*, int,
int, GDALDataType, int, int)'
collect2: ld returned 1 exit status



-- 
-matt
From warmerdam at pobox.com  Wed Oct 29 23:00:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Oct 29 23:00:51 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Beta 1 Available
Message-ID: <4909234D.2090408@pobox.com>

Folks,

I have prepared the GDAL/OGR 1.6.0 Beta1 release.  This is the first of
two planned betas, the second is planned for November 12th.  The source is
available at:

   http://download.osgeo.org/gdal/gdal-1.6.0beta1.tar.gz
   http://download.osgeo.org/gdal/gdal160beta1.zip

I have also snapped the Python autotest suite.  It can be downloaded from:

   http://download.osgeo.org/gdal/gdalautotest-1.6.0-beta1.tar.gz
   http://download.osgeo.org/gdal/gdalautotest-1.6.0-beta1.zip

Instructions on running and interpreting the autotest suite are available
at:

   http://trac.osgeo.org/gdal/wiki/TestingNotes

Andrey Kiselev will be preparing test matrix document very soon in which
notes can be made about test coverage:

   http://trac.osgeo.org/gdal/wiki/TestMatrix160

New bugs found should be filed in Trac normally.

   http://trac.osgeo.org/gdal

GDAL developers and users are encouraged to treat the coming two weeks
as the "prime time" for bug finding and fixing.  Once beta2 starts we will
take a more cautious approach to changes.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From woklist at kyngchaos.com  Wed Oct 29 23:33:08 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Oct 29 23:33:12 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Beta 1 Available
In-Reply-To: <4909234D.2090408@pobox.com>
References: <4909234D.2090408@pobox.com>
Message-ID: <0A885978-DABD-4F35-A29B-FF6931B7CD6E@kyngchaos.com>

Is there an overview of changes?  The NEWS file hasn't been updated  
since 1.5.0 prerelease.

On Oct 29, 2008, at 10:00 PM, Frank Warmerdam wrote:

> Folks,
>
> I have prepared the GDAL/OGR 1.6.0 Beta1 release.  This is the first  
> of
> two planned betas, the second is planned for November 12th.  The  
> source is
> available at:
>
>  http://download.osgeo.org/gdal/gdal-1.6.0beta1.tar.gz
>  http://download.osgeo.org/gdal/gdal160beta1.zip


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

First Pogril: Why is life like sticking your head in a bucket filled  
with hyena offal?
Second Pogril: I don't know.  Why IS life like sticking your head in a  
bucket filled with hyena offal?
First Pogril: I don't know either.  Wretched, isn't it?

-HitchHiker's Guide to the Galaxy


From warmerdam at pobox.com  Thu Oct 30 00:56:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 30 00:56:33 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Beta 1 Available
In-Reply-To: <0A885978-DABD-4F35-A29B-FF6931B7CD6E@kyngchaos.com>
References: <4909234D.2090408@pobox.com>
	<0A885978-DABD-4F35-A29B-FF6931B7CD6E@kyngchaos.com>
Message-ID: <49093E69.1000502@pobox.com>

William Kyngesburye wrote:
> Is there an overview of changes?  The NEWS file hasn't been updated 
> since 1.5.0 prerelease.

William,

There isn't yet a NEWS file update available.  It is produced rather
manually and I didn't have the time/energy to do it today.  It will be
in place for the first RC, hopefully for beta2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From aborruso at tin.it  Thu Oct 30 06:18:06 2008
From: aborruso at tin.it (iomeneandrei)
Date: Thu Oct 30 06:18:08 2008
Subject: [Gdal-dev] SQLite problem
In-Reply-To: <20237748.post@talk.nabble.com>
References: <20233548.post@talk.nabble.com> <4908B880.700@pobox.com>
	<20237327.post@talk.nabble.com>
	<200810292344.38409.even.rouault@mines-paris.org>
	<200810292349.09273.even.rouault@mines-paris.org>
	<20237748.post@talk.nabble.com>
Message-ID: <20243956.post@talk.nabble.com>


Hi all,
I have change client and I have no more problems.

Thank you for all. 

This is a great mailing list.

Best regards,

a

P.S. the client is http://sqliteadmin.orbmu2k.de/

-----
Andrea Borruso

----------------------------------------------------
email: aborruso@tin.it
blog: http://blog.spaziogis.it
----------------------------------------------------
-- 
View this message in context: http://www.nabble.com/SQLite-problem-tp20233548p20243956.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From david.goughnour at elantech-inc.com  Thu Oct 30 06:57:04 2008
From: david.goughnour at elantech-inc.com (Dave Goughnour)
Date: Thu Oct 30 06:58:34 2008
Subject: [gdal-dev] C# API Memory Issues
Message-ID: <1E7A524A0E2B5245BAD5C5D35884AC950B09FAAD9D@TAUROS.Elantech-Inc.local>

Hello

I am trying to write a simple program that imports Tiger data and uses the OGR C# API to export it to various shape files. Importing the Tiger data in C# is not a problem and I basically copied the code from the createdata.cs sample program to export the geometries to multiple shapefiles (I'm parsing the Tiger data into around 20 different shape files). This seems to work fine for small sample sets but when I try to process larger sets I get the infamous 'Attempted to read or write protected memory. This is often an indication that other memory is corrupt.' exception. If I look at the exception details the stack trace is:

   at OSGeo.OGR.OgrPINVOKE.delete_Feature(HandleRef jarg1)
   at OSGeo.OGR.Feature.Dispose()
   at OSGeo.OGR.Feature.Finalize()

I've even stripped my code down to simply generate a whole bunch of points at the same location (i.e. pass a hardcoded string to Geometry.CreateFromWKT) and it still throws this exception at somewhat random, but frequent points.

Are there known memory issues with the C# API?
Is there something I am supposed to be doing to cleanup that is not in the createdata.cs example?

Note that if I call GC.SuppressFinalize on all the features I create it seems to work but I am sure this is not the correct solution.

Any Ideas?

Thanks
Dave Goughnour


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081030/9b3685a3/attachment.html
From szekerest at gmail.com  Thu Oct 30 08:22:16 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Oct 30 08:22:19 2008
Subject: [gdal-dev] C# API Memory Issues
In-Reply-To: <1E7A524A0E2B5245BAD5C5D35884AC950B09FAAD9D@TAUROS.Elantech-Inc.local>
References: <1E7A524A0E2B5245BAD5C5D35884AC950B09FAAD9D@TAUROS.Elantech-Inc.local>
Message-ID: <f3b73b7d0810300522l145a8dc2x8aefe9f69a5347fc@mail.gmail.com>

2008/10/30 Dave Goughnour <david.goughnour@elantech-inc.com>:
> Are there known memory issues with the C# API?
>


I'm not aware of any. Could you boil down an example application to be
able reproduce it?

Best regards,

Tamas
From Sjur.A.Kolberg at sintef.no  Thu Oct 30 10:17:49 2008
From: Sjur.A.Kolberg at sintef.no (Kolberg Sjur A)
Date: Thu Oct 30 10:17:43 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Beta 1 Available
In-Reply-To: <4909234D.2090408@pobox.com>
References: <4909234D.2090408@pobox.com>
Message-ID: <AC3559779B145744A3FA06C52D00BD0F04196DA4@SINTEFXCH01.sintef.no>


Hello,

I just built GDAL1.6beta1 under Windows, VS2005, using the compiler IDE and modified project files distributed from http://vterrain.org/Distrib/gdal.html. Builds and tests fine with some GRIB, HDF4 and HDF5 data, if someone wants the updated VS2005 project file let me know.

Sjur  :-)


Sjur Kolberg
SINTEF Energiforskning A/S
Sem S?lands vei 11
7465 Trondheim
tlf. 73 59 72 78
fax  73 59 72 50  

> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org 
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
> Sent: 30 oktober 2008 04:00
> To: gdal-dev; gdal-announce@lists.osgeo.org
> Subject: [gdal-dev] GDAL/OGR 1.6.0 Beta 1 Available
> 
> Folks,
> 
> I have prepared the GDAL/OGR 1.6.0 Beta1 release.  This is 
> the first of two planned betas, the second is planned for 
> November 12th.  The source is available at:
> 
>    http://download.osgeo.org/gdal/gdal-1.6.0beta1.tar.gz
>    http://download.osgeo.org/gdal/gdal160beta1.zip
> 
> I have also snapped the Python autotest suite.  It can be 
> downloaded from:
> 
>    http://download.osgeo.org/gdal/gdalautotest-1.6.0-beta1.tar.gz
>    http://download.osgeo.org/gdal/gdalautotest-1.6.0-beta1.zip
> 
> Instructions on running and interpreting the autotest suite 
> are available
> at:
> 
>    http://trac.osgeo.org/gdal/wiki/TestingNotes
> 
> Andrey Kiselev will be preparing test matrix document very 
> soon in which notes can be made about test coverage:
> 
>    http://trac.osgeo.org/gdal/wiki/TestMatrix160
> 
> New bugs found should be filed in Trac normally.
> 
>    http://trac.osgeo.org/gdal
> 
> GDAL developers and users are encouraged to treat the coming 
> two weeks as the "prime time" for bug finding and fixing.  
> Once beta2 starts we will take a more cautious approach to changes.
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From warmerdam at pobox.com  Thu Oct 30 10:46:27 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 30 10:47:02 2008
Subject: [gdal-dev] GDAL/OGR 1.6.0 Beta 1 Available
In-Reply-To: <4909234D.2090408@pobox.com>
References: <4909234D.2090408@pobox.com>
Message-ID: <4909C8C3.2090807@pobox.com>

Frank Warmerdam wrote:
> Folks,
> 
> I have prepared the GDAL/OGR 1.6.0 Beta1 release.  This is the first of
> two planned betas, the second is planned for November 12th.  The source is
> available at:
> 
>   http://download.osgeo.org/gdal/gdal-1.6.0beta1.tar.gz
>   http://download.osgeo.org/gdal/gdal160beta1.zip
> 
> I have also snapped the Python autotest suite.  It can be downloaded from:
> 
>   http://download.osgeo.org/gdal/gdalautotest-1.6.0-beta1.tar.gz
>   http://download.osgeo.org/gdal/gdalautotest-1.6.0-beta1.zip

Folks,

I neglected to mention that the 1.6.0 beta1 source has been used in the
latest FWTools for windows (2.2.8):

   http://home.gdal.org/fwtools/FWTools228.exe

Also, the "gdal-dev" package in OSGeo4W has been updated with the beta
source.

   http://osgeo4w.osgeo.org/

The gdal-dev package needs to be installed via the "advanced install"
sequence.  Once installed you need to run the "gdaldev" bat file in the
OSGeo4W command shell to use the gdal-dev package instead of the 1.5.3
version for the gdal utilities and python scripts.

Note that there is currently no way in OSGeo4W to use gdal-dev with other
GDAL using packages like MapServer, or OpenEV which always use the
standard GDAL package (1.5.3).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dron at ak4719.spb.edu  Thu Oct 30 10:38:42 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Thu Oct 30 10:51:45 2008
Subject: [gdal-dev] MSYS buildslave
In-Reply-To: <4908515C.1000700@tkk.fi>
References: <4908515C.1000700@tkk.fi>
Message-ID: <20081030143842.GA21961@ak4719.spb.edu>

On Wed, Oct 29, 2008 at 02:04:44PM +0200, Ari Jolma wrote:
> I've set up a buildslave, which builds GDAL from a fresh checkout of
> the trunk in Windows using the MSYS environment. Currently the build
> is quite lean and only Perl bindings are built in addition to the core
> dll and apps. Only Perl tests are run.

Ari,

If you are planning to extend a build to include NG Python bindings note
that there is one problem. For some reason module built from 
swig/python/extensions/gdalconst_wrap.c cannot be loaded by the stock
Python binaries (built with MSVS 2003). I have ended up renaming that
file in gdalconst_wrap.cpp with the appropriate change in
swig/python/setup.py and everything works fine after that. The problem
is weird and I failed to pin it down, so the above workaround.

Otherwise of that bug Python stuff should be perfectly compilable and
usable with the official binary Python distribution.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From warmerdam at pobox.com  Thu Oct 30 11:13:47 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 30 11:14:20 2008
Subject: [gdal-dev] gdal_priv.h not found on ubuntu
In-Reply-To: <c61d98af0810291813r2ba3112akfe37d3aeed79d60d@mail.gmail.com>
References: <c61d98af0810280432j3db9750eq2d5eaca55144a934@mail.gmail.com>
	<490732D6.6050305@pobox.com>
	<c61d98af0810291813r2ba3112akfe37d3aeed79d60d@mail.gmail.com>
Message-ID: <4909CF2B.3040305@pobox.com>

Matt Wilkie wrote:
>> Try:
>>
>> g++ -I/usr/include/gdal hillshade.cpp -lgdal -o hillshade
> 
> Thank you for the suggestion, still no good though:
> 
> :~/src/demtools$ g++ -I/usr/include/gdal hillshade.cpp -lgdal -o hillshade
> /usr/bin/ld: cannot find -lgdal
> collect2: ld returned 1 exit status
> 

Matt,

I don't know where the gdal library gets put, perhaps /usr/lib/gdal?

If so, it might help to do:

  g++ -I/usr/include/gdal hillshade.cpp -L/usr/lib/gdal -lgdal -o hillshade

You might also find the following works for you:

  g++ `gdal-config --cflags` hillshade.cpp -o hillshade `gdal-config --libs`

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Chris.Barker at noaa.gov  Thu Oct 30 12:04:30 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Oct 30 12:04:20 2008
Subject: [gdal-dev] MSYS buildslave
In-Reply-To: <20081030143842.GA21961@ak4719.spb.edu>
References: <4908515C.1000700@tkk.fi> <20081030143842.GA21961@ak4719.spb.edu>
Message-ID: <4909DB0E.8040809@noaa.gov>

Andrey Kiselev wrote:
> Otherwise of that bug Python stuff should be perfectly compilable and
> usable with the official binary Python distribution.

At least with python2.5 I'm not sure about 2.6, but earlier pythons 
required some patching to work with MingGW binaries.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From klokan at klokan.cz  Thu Oct 30 12:43:16 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Thu Oct 30 12:43:20 2008
Subject: [gdal-dev] New GDAL2Tiles in GDAL SVN trunk + 1.6.0 Beta1
Message-ID: <6e41d95b0810300943h18b1cf4au8ce3cd3b5c5a1a@mail.gmail.com>

Hello,

new version of GDAL2Tiles utility is now part of GDAL SVN tree and
GDAL 1.6.0 Beta1 release.
It is the version which generates tiles compatible with Google Maps
and also web presentation similar to this one:
http://www.maptiler.org/example-usgs-drg-grand-canyon-gtiff/ more info
about the application at http://www.maptiler.org/.
Only thing you have to do for map publishing is to upload the
generated directory with tiles into your webserver.

GDAL2Tiles is now in beta, so expect some bugs and feel free to report them...
Stable version of the utility should come with stable GDAL 1.6
(probably in the end of November).

How to test it right now:

Windows users can use available binaries from OSGeo4W gdal-dev package:
(step by step: http://help.maptiler.org/betatest)
GDAL2Tiles depends on next-generation Python bindings, which means
FWTools is not supported now :-(.

For other platforms you have to compile latest GDAL from source code,
but I guess binaries for 1.6 beta and rc will appear soon too...

List of the features in new GDAL2Tiles:

- Support for tiles compatible with Google Maps (TMS Mercator
EPSG:900913), Google Earth (TMS Geodetic EPSG:4326) and raster based
tiles (Raster).
- Enormous improvement on quality of tile rendering, you can choose a
resampling algorithm.
- OpenLayers 2.7 based html viewer 'ready to use' for all tile
profiles, so you can combine tiles with WMS and another maps easily.
- Google Maps viewer with new Opacity Control:
http://www.maptiler.org/google-maps-overlay-opacity-control/
- Generation of KML SuperOverlay for Google Earth with maxlodpixels
- Automatic reprojection of raster from any source spatial reference
system into the global tiles. Only requirement is correct georeference
specified in the input file.
- GDAL itself is bringing support for TIFF/GeoTIFF, MrSID, ECW,
JPEG2000, Erdas HFA, NOAA BSB, JPEG and more
(http://www.gdal.org/formats_list.html)
- You can specify zoom levels which you would like to generate
- There is support for both NODATA and Alpha band transparency

Big thanks to all GDAL developers for help, also for support from
Google and BRGM: GDAL2Tiles is going to be used for scanned geological
maps of whole France with resolution up to 1:50.000, tiles for Google
Earth & Maps are going to be delivered by a farm of servers with
lighttpd. Another big usage of gdal2tiles is planned for old maps of
Scotland in NLS.uk.

There is an multi-platform GUI on the way at http://www.maptiler.org/
(Look at: http://www.maptiler.org/img/screenshot-alpha.jpg).

Ideas for features that are on the TODO list for GDAL2Tiles:

- Generation of the mapfile with tileindexes for all tile levels -
fast WMS access to the tile tree as an alternative to static tiles
would be simple with MapServer then
- Merging of tile trees (adding of new rasters into existing trees)
for updating raster data in the tree
- Improvement of the speed generation for multi-core processor by
python multiprocessing module
- Optimization of the size for produced (PNG) tiles for speed boost
when downloading, support for JPEG tiles
- Amazon S3 as storage for tiles (merge from tilecache project)
- Google App Engine as storage for tiles
...

Feel free to contact me in case you would like to contribute with some
code or write a patch... or give a donation for support further
development of GDAL2Tiles or MapTiler.

Best regards

Klokan Petr Pridal
From kyle.leonard at honeywell.com  Thu Oct 30 13:36:14 2008
From: kyle.leonard at honeywell.com (Leonard, Kyle B)
Date: Thu Oct 30 13:37:20 2008
Subject: [gdal-dev] Custom GDAL Driver with ArcGIS 9.3
Message-ID: <D7A044126E75EC43AA5545DD2E573C91024FD444@DE08EV803.global.ds.honeywell.com>

Has anyone had any luck with configuring a custom GDAL driver with
ArcGIS 9.3?

 

I have a custom raster DLL in the ESRI RDO format that I am trying to
convert to GDAL format.  I have followed the "GDAL Driver Implementation
Tutorial" found at http://www.gdal.org/gdal_drivertut.html.   I then
linked in ESRI's GDAL library found at
http://edn.esri.com/index.cfm?fa=downloads.detail&downloadId=204 to
create my new GDAL driver.  I then followed the configuration steps
provided on the ESRI Developer Network page previously noted, but ArcGIS
does not seem to recognize my DLL.

 

Any tips or tricks that you know of would be appreciated.

 

Thanks,

 

Kyle Leonard                                Honeywell Aerospace

Database Engineer                                       15001 NE 36th St
(M/S L2A)

EGPWS Engineering                                     Redmond, WA
98073-9701

 
TEL:  (425) 885-8118

kyle.leonard@honeywell.com                   FAX: (425) 885-2994

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081030/eb1d3d46/attachment.html
From ivan.lucena at pmldnet.com  Thu Oct 30 14:14:19 2008
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Thu Oct 30 14:14:21 2008
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gQ3VzdG9tIEdEQUwgRHJpdmVyIHdpdGggQXJjR0lTIDkuMw==?=
Message-ID: <20081030181420.3575.qmail@s466.sureserver.com>

Kile,

I did the same thing years a go. I wrote a RDO then I it converted it to a GDAL 1.3 driver and latter I set it up as a GDAL plugin to be 
seem by ArcGIS 9.2. One thing that helped me a lot was to load everything in a VC2003 project and run ArcMAP in debug mode. But 
you probably know that.

Thanks to tell us that they decided to make their GDAL branch public. Some people were waiting for that. I apologize for given the 
wrong information a week ago.

Ivan

>  -------Original Message-------
>  From: Leonard, Kyle B <kyle.leonard@honeywell.com>
>  Subject: [gdal-dev] Custom GDAL Driver with ArcGIS 9.3
>  Sent: Oct 30 '08 17:36
>  
>  Has anyone had any luck with configuring a custom GDAL driver with ArcGIS
>  9.3?
>  
>  
>  I have a custom raster DLL in the ESRI RDO format that I am trying to
>  convert to GDAL format.  I have followed the ?GDAL Driver
>  Implementation Tutorial? found at [LINK:
>  http://www.gdal.org/gdal_drivertut.html]
>  http://www.gdal.org/gdal_drivertut.html.   I then linked in ESRI?s
>  GDAL library found at [LINK:
>  http://edn.esri.com/index.cfm?fa=downloads.detail&downloadId=204]
>  http://edn.esri.com/index.cfm?fa=downloads.detail&downloadId=204 to create
>  my new GDAL driver.  I then followed the configuration steps provided on
>  the ESRI Developer Network page previously noted, but ArcGIS does not seem
>  to recognize my DLL.
>  
>  
>  Any tips or tricks that you know of would be appreciated.
>  
>  
>  Thanks,
>  
>  
>  KYLE LEONARD                                HONEYWELL AEROSPACE
>  
>  Database Engineer                                       15001 NE 36th St
>  (M/S L2A)
>  
>  EGPWS Engineering                                     Redmond, WA
>  98073-9701
>  
>  
>  TEL:  (425) 885-8118
>  
>  [LINK: mailto:kyle.leonard@honeywell.com] kyle.leonard@honeywell.com
>  FAX: (425) 885-2994
>  
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From pgao at esri.com  Thu Oct 30 19:41:09 2008
From: pgao at esri.com (Peng Gao)
Date: Thu Oct 30 19:53:31 2008
Subject: Can't build without INCLUDE_OGR_FRMTS = YES (RE: [gdal-dev] GDAL/OGR
	1.6.0 Beta 1 Available)
In-Reply-To: <4909C8C3.2090807@pobox.com>
References: <4909234D.2090408@pobox.com> <4909C8C3.2090807@pobox.com>
Message-ID: <A383B271E8D0DF47B51972FCEB438DC7098BA2B4@twistedwire.esri.com>

 
Frank,

I am getting unresolved symbols without "INCLUDE_OGR_FRMTS = YES". I am
building
GDAL 1.6.0 Beta 1 using VS2008 on Windows XP.
Is there a way to keep building GDAL 1.6.0 without OGR? The release dll
size difference is 3.6M (gdal15.dll without OGR) vs. 4.8M (gdal16dev.dll
with OGR).

Thanks,
Gao, Peng


        link /nologo /dll /INCLUDE:_OGRFeatureStylePuller
/INCLUDE:_OSRValidate
  /INCLUDE:_OPTGetProjectionMethods  /INCLUDE:_OGR_G_GetPointCount
/INCLUDE:_GDA
LSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48
/INCLUDE:_GDALComputeMedia
nCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28
/INCLUDE:_OCTNewCoordinateTransforma
tion@8  port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj ogr\ogr.lib
C:\A
rcGIS\SharedArcGIS\DepFiles\lib\Kakadu\kdu60.lib
/LIBPATH:C:\GDAL\codec\hdf4\dl
l Ws2_32.lib   C:\GDAL\codec\DSDK\lib\Release_md\lti_dsdk_dll.lib
advapi32.lib u
ser32.lib
C:/ArcGIS/SharedArcGIS/DepFiles/Lib/Curl/libcurl.li
b   gcore\Version.res  /out:gdal16.dll /implib:gdal_i.lib
   Creating library gdal_i.lib and object gdal_i.exp
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRGeometry * __thiscall OGRLayer::GetSpatialFilter(void)"
(?GetSpatialFilt
er@OGRLayer@@UAEPAVOGRGeometry@@XZ)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual v
oid __thiscall OGRLayer::SetSpatialFilter(class OGRGeometry *)"
(?SetSpatialFilt
er@OGRLayer@@UAEXPAVOGRGeometry@@@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual v
oid __thiscall
OGRLayer::SetSpatialFilterRect(double,double,double,double)" (?Se
tSpatialFilterRect@OGRLayer@@UAEXNNNN@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::SetAttributeFilter(char const *)"
(?SetAttributeFilter@O
GRLayer@@UAEHPBD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::SetNextByIndex(long)"
(?SetNextByIndex@OGRLayer@@UAEHJ@Z
)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRFeature * __thiscall OGRLayer::GetFeature(long)"
(?GetFeature@OGRLayer@@
UAEPAVOGRFeature@@J@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::SetFeature(class OGRFeature *)"
(?SetFeature@OGRLayer@@U
AEHPAVOGRFeature@@@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::CreateFeature(class OGRFeature *)"
(?CreateFeature@OGRLa
yer@@UAEHPAVOGRFeature@@@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::DeleteFeature(long)"
(?DeleteFeature@OGRLayer@@UAEHJ@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::GetFeatureCount(int)"
(?GetFeatureCount@OGRLayer@@UAEHH@
Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::GetExtent(class OGREnvelope *,int)"
(?GetExtent@OGRLayer
@@UAEHPAVOGREnvelope@@H@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
har const * __thiscall OGRLayer::GetInfo(char const *)"
(?GetInfo@OGRLayer@@UAEP
BDPBD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::CreateField(class OGRFieldDefn *,int)"
(?CreateField@OGR
Layer@@UAEHPAVOGRFieldDefn@@H@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::SyncToDisk(void)" (?SyncToDisk@OGRLayer@@UAEHXZ)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::StartTransaction(void)"
(?StartTransaction@OGRLayer@@UAE
HXZ)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::CommitTransaction(void)"
(?CommitTransaction@OGRLayer@@U
AEHXZ)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRLayer::RollbackTransaction(void)"
(?RollbackTransaction@OGRLaye
r@@UAEHXZ)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
har const * __thiscall OGRLayer::GetFIDColumn(void)"
(?GetFIDColumn@OGRLayer@@UA
EPBDXZ)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
har const * __thiscall OGRLayer::GetGeometryColumn(void)"
(?GetGeometryColumn@OG
RLayer@@UAEPBDXZ)
gdalrasterize.obj : error LNK2019: unresolved external symbol "public:
virtual _
_thiscall OGRLayer::~OGRLayer(void)" (??1OGRLayer@@UAE@XZ) referenced in
functio
n "public: virtual void * __thiscall OGRLayer::`scalar deleting
destructor'(unsi
gned int)" (??_GOGRLayer@@UAEPAXI@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRLayer * __thiscall OGRDataSource::GetLayerByName(char const *)"
(?GetLay
erByName@OGRDataSource@@UAEPAVOGRLayer@@PBD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRDataSource::DeleteLayer(int)"
(?DeleteLayer@OGRDataSource@@UAEH
H@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRLayer * __thiscall OGRDataSource::CreateLayer(char const *,class
OGRSpat
ialReference *,enum OGRwkbGeometryType,char * *)"
(?CreateLayer@OGRDataSource@@U
AEPAVOGRLayer@@PBDPAVOGRSpatialReference@@W4OGRwkbGeometryType@@PAPAD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRLayer * __thiscall OGRDataSource::CopyLayer(class OGRLayer
*,char const
*,char * *)" (?CopyLayer@OGRDataSource@@UAEPAVOGRLayer@@PAV2@PBDPAPAD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRLayer * __thiscall OGRDataSource::ExecuteSQL(char const *,class
OGRGeome
try *,char const *)"
(?ExecuteSQL@OGRDataSource@@UAEPAVOGRLayer@@PBDPAVOGRGeomet
ry@@0@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual v
oid __thiscall OGRDataSource::ReleaseResultSet(class OGRLayer *)"
(?ReleaseResul
tSet@OGRDataSource@@UAEXPAVOGRLayer@@@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRDataSource::SyncToDisk(void)"
(?SyncToDisk@OGRDataSource@@UAEHX
Z)
gdalrasterize.obj : error LNK2019: unresolved external symbol "public:
virtual _
_thiscall OGRDataSource::~OGRDataSource(void)"
(??1OGRDataSource@@UAE@XZ) refere
nced in function "public: virtual void * __thiscall
OGRDataSource::`scalar delet
ing destructor'(unsigned int)" (??_GOGRDataSource@@UAEPAXI@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRDataSource * __thiscall OGRSFDriver::CreateDataSource(char const
*,char
* *)" (?CreateDataSource@OGRSFDriver@@UAEPAVOGRDataSource@@PBDPAPAD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual i
nt __thiscall OGRSFDriver::DeleteDataSource(char const *)"
(?DeleteDataSource@OG
RSFDriver@@UAEHPBD@Z)
gdalrasterize.obj : error LNK2001: unresolved external symbol "public:
virtual c
lass OGRDataSource * __thiscall OGRSFDriver::CopyDataSource(class
OGRDataSource
*,char const *,char * *)"
(?CopyDataSource@OGRSFDriver@@UAEPAVOGRDataSource@@PAV
2@PBDPAPAD@Z)
gdalrasterize.obj : error LNK2019: unresolved external symbol "public:
virtual _
_thiscall OGRSFDriver::~OGRSFDriver(void)" (??1OGRSFDriver@@UAE@XZ)
referenced i
n function "public: virtual void * __thiscall OGRSFDriver::`scalar
deleting dest
ructor'(unsigned int)" (??_GOGRSFDriver@@UAEPAXI@Z)
gdal16.dll : fatal error LNK1120: 32 unresolved externals
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
9.0\VC\BIN
\link.EXE"' : return code '0x460'
Stop.
From warmerdam at pobox.com  Thu Oct 30 20:15:17 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 30 20:15:39 2008
Subject: Can't build without INCLUDE_OGR_FRMTS = YES (RE: [gdal-dev]
	GDAL/OGR 1.6.0 Beta 1 Available)
In-Reply-To: <A383B271E8D0DF47B51972FCEB438DC7098BA2B4@twistedwire.esri.com>
References: <4909234D.2090408@pobox.com> <4909C8C3.2090807@pobox.com>
	<A383B271E8D0DF47B51972FCEB438DC7098BA2B4@twistedwire.esri.com>
Message-ID: <490A4E15.9010901@pobox.com>

Peng Gao wrote:
>  
> Frank,
> 
> I am getting unresolved symbols without "INCLUDE_OGR_FRMTS = YES". I am
> building
> GDAL 1.6.0 Beta 1 using VS2008 on Windows XP.
> Is there a way to keep building GDAL 1.6.0 without OGR? The release dll
> size difference is 3.6M (gdal15.dll without OGR) vs. 4.8M (gdal16dev.dll
> with OGR).
...
>         link /nologo /dll /INCLUDE:_OGRFeatureStylePuller
> /INCLUDE:_OSRValidate
>   /INCLUDE:_OPTGetProjectionMethods  /INCLUDE:_OGR_G_GetPointCount
> /INCLUDE:_GDA
> LSimpleImageWarp@36  /INCLUDE:_GDALReprojectImage@48
> /INCLUDE:_GDALComputeMedia
> nCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28
> /INCLUDE:_OCTNewCoordinateTransforma
> tion@8  port\*.obj gcore\*.obj alg\*.obj frmts\o\*.obj ogr\ogr.lib
> C:\A

Gao,

The makefiles and software is slightly broken in this regard.  If you file
a ticket on this I'll try to have it resolved before beta2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From JARED.RUBIN at saic.com  Thu Oct 30 20:12:00 2008
From: JARED.RUBIN at saic.com (Jared Rubin)
Date: Thu Oct 30 20:27:39 2008
Subject: [gdal-dev] gdal swig python ReadAsArray limit
Message-ID: <1225411920.4230.28.camel@pelican.tucson.saic.com>

GDAL community,
  I am using the python bindings to gdal. I am unable to read a whole
NITF image that is 25600x19200 and UInt16 in one call to ReadAsArray
I end up getting a core dump. I can open smaller size images.

Does gdal have a size limit on the python/numpy interface?


inSet = gdal.OpenShared(args[0])
buf = inSet.GetRasterBand(1).ReadAsArray()


I am using 
numpy-1.0.4
swig-1.3.29
python-2.4.4
gdal-1.5.0


thanks
Jared

From warmerdam at pobox.com  Thu Oct 30 20:51:46 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Oct 30 20:52:06 2008
Subject: [gdal-dev] gdal swig python ReadAsArray limit
In-Reply-To: <1225411920.4230.28.camel@pelican.tucson.saic.com>
References: <1225411920.4230.28.camel@pelican.tucson.saic.com>
Message-ID: <490A56A2.2030607@pobox.com>

Jared Rubin wrote:
> GDAL community,
>   I am using the python bindings to gdal. I am unable to read a whole
> NITF image that is 25600x19200 and UInt16 in one call to ReadAsArray
> I end up getting a core dump. I can open smaller size images.
> 
> Does gdal have a size limit on the python/numpy interface?
> 
> 
> inSet = gdal.OpenShared(args[0])
> buf = inSet.GetRasterBand(1).ReadAsArray()

Jared,

First, that's a 9.8GB array.  So I assume you are working in a 64bit
build of the software.  Personally I just don't think you ought to be
treating images this large as single chunks to be thrown around and
operated on with numpy.

Second, there was a bug in the some part of GDAL in 1.5.0 (fixed by
1.5.3 I think) that made it impossible to read into a memory buffer
larger than 2GB - though there was no problem with large datasets.

So, if you really want to do this, I'd suggest upgrading to 1.5.3 or
even GDAL 1.6.0 beta1.  Try again.  If things still crash consider
filing a ticket though I don't personally have hardware that would
less me work out this sort of a problem effectively.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ari.jolma at tkk.fi  Fri Oct 31 03:09:11 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Fri Oct 31 03:17:53 2008
Subject: [gdal-dev] The slowness of gdal_grid
Message-ID: <490AAF17.9010504@tkk.fi>

I'm doing some laser scanning data -> geotiff interpolations and I'm 
finding that they take some time - the current run has been going on for 
~20 hours now.

The current run is for a 3 by 2 kilometer area, which I'm interpolating 
into a raster with 1 m x 1 m cells. The data is in PostGIS but it 
shouldn't matter:

gdal_grid -a invdist:radius1=10:radius2=10 -txe 3350505 3353786 -tye 
6692068 6694105 -outsize 3281 2037 -of GTiff -ot Float32 -l nummela 
PG:dbname=nummela nummela.tiff
Grid data type is "Float32"
Grid size = (3281 2037).
Corner coordinates = (3350504.500000 6694105.500000)-(3353786.500000 
6692067.500000).
Grid cell size = (1.000000 1.000000).
Source point count = 2588809.
Algorithm name: "invdist".
Options are 
"power=2.000000:smoothing=0.000000:radius1=10.000000:radius2=10.000000:angle=0.000000:max_points=0:min_points=0:nodata=0.000000"

Any ideas how to make things faster? I did a interpolation to 2 m x 2 m 
raster earlier, which was faster but not very fast either.

Best regards,

Ari

From daniele.romagnoli at geo-solutions.it  Fri Oct 31 03:46:31 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Fri Oct 31 03:46:33 2008
Subject: [gdal-dev] Is BigTIFF supported on GDAL 1.5.3?
Message-ID: <7221db410810310046q2df7c772t7f924a53560f177b@mail.gmail.com>

Hi list,
I have a simple quick question:
Is BigTIFF supported on GDAL 1.5.3?

Regards,
Daniele

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081031/fd236a3d/attachment.html
From jordi.inglada at cnes.fr  Fri Oct 31 03:30:37 2008
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Fri Oct 31 03:55:33 2008
Subject: [gdal-dev] Spacecraft Technology Course at CNES
Message-ID: <1225438237.3150.9.camel@localhost>

Dear all,

You may be interested by this.

Best regards,

J. Inglada

> > -------- Message transf?r? --------
> > Sujet: Annonce TTVS 2009
> > Date: Thu, 23 Oct 2008 10:46:52 +0100
> > 
> > 
> > 
> > 
> >         The TTVS course is an introduction to all of the techniques
> >         and technology used for 
> >         building and operating spacecraft. It describes the
> >         characteristics and specific design 
> >         constraints of space technology, as well as the techniques
> >         and technology 
> >         of flight subsystems and equipment.

> > 
> >                 For information  :
> > http://cnes.cborg.net/ttvs2009/
> > 
> > 
-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 


From williampaul28 at yahoo.com  Fri Oct 31 05:17:17 2008
From: williampaul28 at yahoo.com (william paul)
Date: Fri Oct 31 05:24:01 2008
Subject: [gdal-dev] gdal_merge
Message-ID: <405306.77178.qm@web38407.mail.mud.yahoo.com>



Hello to everybody:

I want to use gdal_merge.py to mosaic four images. The images have the same size, but the content of the images overlaps only in some areas. The value for each images is something like : 1, 2, 3, 4
I want to mosaic all the files, but I want to be able to specify which image will overlap what image, for example, the order of overlapping should be: 1 covers 2, 2 covers 3, 3 covers 4 without no blending (opaque), so the final image will have values 1, 2, 3, 4, each values corresponding to its position in the overlapping images

I have tried with: gdal_merge.py -0 merge.tif -of GTiff image1.tif image2.tif image3.tif image4.tif, but I get the merge images with 0 values on most of the image and a 4 value on the position of the last image

Please, may I receive and example for doing this?

Thank you

William



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20081031/b97d6576/attachment.html
From warmerdam at pobox.com  Fri Oct 31 09:04:19 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 31 09:04:42 2008
Subject: [gdal-dev] Is BigTIFF supported on GDAL 1.5.3?
In-Reply-To: <7221db410810310046q2df7c772t7f924a53560f177b@mail.gmail.com>
References: <7221db410810310046q2df7c772t7f924a53560f177b@mail.gmail.com>
Message-ID: <490B0253.2030801@pobox.com>

Daniele Romagnoli wrote:
> Hi list,
> I have a simple quick question:
> Is BigTIFF supported on GDAL 1.5.3?

Daniele,

BigTIFF is supported by all versions of GDAL since 1.5.0 as long
as you build with libtiff4.  The internal version of libtiff in GDAL 1.5.0
and later is libtiff4 so building --with-libtiff=internal will do the
trick.

You can confirm your build supports BigTIFF by checking for the BIGTIFF
option in the output of "gdalinfo --format gtiff".  It should look like this:

   <Option name="BIGTIFF" type="boolean" description="Force creation of BigTIFF 
file"/>

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri Oct 31 09:12:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Oct 31 09:12:29 2008
Subject: [gdal-dev] gdal_merge
In-Reply-To: <405306.77178.qm@web38407.mail.mud.yahoo.com>
References: <405306.77178.qm@web38407.mail.mud.yahoo.com>
Message-ID: <490B0427.8050006@pobox.com>

william paul wrote:
>  
> Hello to everybody:
>  
> I want to use gdal_merge.py to mosaic four images. The images have the 
> same size, but the content of the images overlaps only in some areas. 
> The value for each images is something like : 1, 2, 3, 4
> I want to mosaic all the files, but I want to be able to specify which 
> image will overlap what image, for example, the order of overlapping 
> should be: 1 covers 2, 2 covers 3, 3 covers 4 without no blending 
> (opaque), so the final image will have values 1, 2, 3, 4, each values 
> corresponding to its position in the overlapping images
>  
> I have tried with: gdal_merge.py -0 merge.tif -of GTiff image1.tif 
> image2.tif image3.tif image4.tif, but I get the merge images with 0 
> values on most of the image and a 4 value on the position of the last image
>  
> Please, may I receive and example for doing this?

William,

No the four images include regions that should be considered "nodata"?  That
is areas that should not be copied into the destination image?  Would the
pixel value in these areas happen to be zero?  If so, try adding the
switch "-n 0" to the command.

eg.
gdal_merge.py -0 merge.tif -of GTiff -n 0 \
         image1.tif image2.tif image3.tif image4.tif

By the way, to get the order of precidence you want you should also reverse
the order of the input images so that image1.tif is last (overlayed to top
of everything else).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jordi.inglada at cnes.fr  Fri Oct 31 14:28:56 2008
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Fri Oct 31 14:28:57 2008
Subject: [gdal-dev] OTB 2.6 Available
Message-ID: <1225477736.3150.42.camel@localhost>

Dear all,

OTB 2.6, code name Halloween, has just been released. See the detailed
announce here:

http://blog.orfeo-toolbox.org/uncategorized/otb-26-halloween-release-available

Best regards,

J. Inglada

-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 


From even.rouault at mines-paris.org  Fri Oct 31 14:38:09 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct 31 14:38:13 2008
Subject: [gdal-dev] The slowness of gdal_grid
In-Reply-To: <490AAF17.9010504@tkk.fi>
References: <490AAF17.9010504@tkk.fi>
Message-ID: <200810311938.09926.even.rouault@mines-paris.org>

Ari,

the slowness of gdal_grid when fed with a big number of point features is a 
known issue. See ticket #2411. I had attached a patch to speed up the 
process. You could give it a try.

Le Friday 31 October 2008 08:09:11 Ari Jolma, vous avez ?crit?:
> I'm doing some laser scanning data -> geotiff interpolations and I'm
> finding that they take some time - the current run has been going on for
> ~20 hours now.
>
> The current run is for a 3 by 2 kilometer area, which I'm interpolating
> into a raster with 1 m x 1 m cells. The data is in PostGIS but it
> shouldn't matter:
>
> gdal_grid -a invdist:radius1=10:radius2=10 -txe 3350505 3353786 -tye
> 6692068 6694105 -outsize 3281 2037 -of GTiff -ot Float32 -l nummela
> PG:dbname=nummela nummela.tiff
> Grid data type is "Float32"
> Grid size = (3281 2037).
> Corner coordinates = (3350504.500000 6694105.500000)-(3353786.500000
> 6692067.500000).
> Grid cell size = (1.000000 1.000000).
> Source point count = 2588809.
> Algorithm name: "invdist".
> Options are
> "power=2.000000:smoothing=0.000000:radius1=10.000000:radius2=10.000000:angl
>e=0.000000:max_points=0:min_points=0:nodata=0.000000"
>
> Any ideas how to make things faster? I did a interpolation to 2 m x 2 m
> raster earlier, which was faster but not very fast either.
>
> Best regards,
>
> Ari
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From szekerest at gmail.com  Fri Oct 31 17:32:59 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Oct 31 17:33:03 2008
Subject: [gdal-dev] The slowness of gdal_grid
In-Reply-To: <200810311938.09926.even.rouault@mines-paris.org>
References: <490AAF17.9010504@tkk.fi>
	<200810311938.09926.even.rouault@mines-paris.org>
Message-ID: <f3b73b7d0810311432y59b5a6f9g2a9fbfe08cda3996@mail.gmail.com>

Even,

Does this approach provide a significant performance increment
comparing to the search ellipse option in the inverse distance
algorithm?

When I've been recently playing with gdal_grid I could gain further
increment by reducing the number of the floating point operations in
the inner loop of the algorithm (see
GDALGridInverseDistanceToAPowerNoSearch for example), like:

1. Getting out the dfSmoothing * dfSmoothing multiplication from the loop
2. In case when dfPower = 2 we could save using of sqrt and pow at all.
3. Replace CPLIsEqual with a faster approach

It must be noted that I had no chance to rely on the assumption that
the distant points doesn't affect the value of the result, especially
when the points are based on non-geograpic related quantities.

Best regards,

Tamas



2008/10/31 Even Rouault <even.rouault@mines-paris.org>:
> Ari,
>
> the slowness of gdal_grid when fed with a big number of point features is a
> known issue. See ticket #2411. I had attached a patch to speed up the
> process. You could give it a try.
>
> Le Friday 31 October 2008 08:09:11 Ari Jolma, vous avez ?crit :
>> I'm doing some laser scanning data -> geotiff interpolations and I'm
>> finding that they take some time - the current run has been going on for
>> ~20 hours now.
>>
>> The current run is for a 3 by 2 kilometer area, which I'm interpolating
>> into a raster with 1 m x 1 m cells. The data is in PostGIS but it
>> shouldn't matter:
>>
>> gdal_grid -a invdist:radius1=10:radius2=10 -txe 3350505 3353786 -tye
>> 6692068 6694105 -outsize 3281 2037 -of GTiff -ot Float32 -l nummela
>> PG:dbname=nummela nummela.tiff
>> Grid data type is "Float32"
>> Grid size = (3281 2037).
>> Corner coordinates = (3350504.500000 6694105.500000)-(3353786.500000
>> 6692067.500000).
>> Grid cell size = (1.000000 1.000000).
>> Source point count = 2588809.
>> Algorithm name: "invdist".
>> Options are
>> "power=2.000000:smoothing=0.000000:radius1=10.000000:radius2=10.000000:angl
>>e=0.000000:max_points=0:min_points=0:nodata=0.000000"
>>
>> Any ideas how to make things faster? I did a interpolation to 2 m x 2 m
>> raster earlier, which was faster but not very fast either.
>>
>> Best regards,
>>
>> Ari
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From even.rouault at mines-paris.org  Fri Oct 31 18:05:22 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Oct 31 18:05:27 2008
Subject: [gdal-dev] The slowness of gdal_grid
In-Reply-To: <f3b73b7d0810311432y59b5a6f9g2a9fbfe08cda3996@mail.gmail.com>
References: <490AAF17.9010504@tkk.fi>
	<200810311938.09926.even.rouault@mines-paris.org>
	<f3b73b7d0810311432y59b5a6f9g2a9fbfe08cda3996@mail.gmail.com>
Message-ID: <200810312305.23606.even.rouault@mines-paris.org>

Tamas,

yes I believe it provides an additionnal performance increment as 
GDALGridInverseDistanceToAPower iterates over the whole set of OGR points 
even if it rejects most of them when it tests whether they are in the ellipse 
or not

The approach in the patch goes further. It starts by making a quadree with all 
the OGR points that are in the neighbourhood of the GDAL block processed by 
GDALGridCreateFromOGRLayer. For that search to be efficient, a spatial 
indexed OGR layer is recommanded.
Then for each cell of the grid in the GDAL block, you define a radius of 
influence (number of neighbour grid cells) to restrict the number of points 
that are going to be taken into account by the interpolation function. 
Fetching those points in the quadtree is very fast.

This approach works well when you are sure that you don't have to take into 
account points that are far from the cell to be interpolated.

Le Friday 31 October 2008 22:32:59 Tamas Szekeres, vous avez ?crit?:
> Even,
>
> Does this approach provide a significant performance increment
> comparing to the search ellipse option in the inverse distance
> algorithm?
>
> When I've been recently playing with gdal_grid I could gain further
> increment by reducing the number of the floating point operations in
> the inner loop of the algorithm (see
> GDALGridInverseDistanceToAPowerNoSearch for example), like:
>
> 1. Getting out the dfSmoothing * dfSmoothing multiplication from the loop
> 2. In case when dfPower = 2 we could save using of sqrt and pow at all.
> 3. Replace CPLIsEqual with a faster approach
>
> It must be noted that I had no chance to rely on the assumption that
> the distant points doesn't affect the value of the result, especially
> when the points are based on non-geograpic related quantities.
>
> Best regards,
>
> Tamas
>
> 2008/10/31 Even Rouault <even.rouault@mines-paris.org>:
> > Ari,
> >
> > the slowness of gdal_grid when fed with a big number of point features is
> > a known issue. See ticket #2411. I had attached a patch to speed up the
> > process. You could give it a try.
> >
> > Le Friday 31 October 2008 08:09:11 Ari Jolma, vous avez ?crit :
> >> I'm doing some laser scanning data -> geotiff interpolations and I'm
> >> finding that they take some time - the current run has been going on for
> >> ~20 hours now.
> >>
> >> The current run is for a 3 by 2 kilometer area, which I'm interpolating
> >> into a raster with 1 m x 1 m cells. The data is in PostGIS but it
> >> shouldn't matter:
> >>
> >> gdal_grid -a invdist:radius1=10:radius2=10 -txe 3350505 3353786 -tye
> >> 6692068 6694105 -outsize 3281 2037 -of GTiff -ot Float32 -l nummela
> >> PG:dbname=nummela nummela.tiff
> >> Grid data type is "Float32"
> >> Grid size = (3281 2037).
> >> Corner coordinates = (3350504.500000 6694105.500000)-(3353786.500000
> >> 6692067.500000).
> >> Grid cell size = (1.000000 1.000000).
> >> Source point count = 2588809.
> >> Algorithm name: "invdist".
> >> Options are
> >> "power=2.000000:smoothing=0.000000:radius1=10.000000:radius2=10.000000:a
> >>ngl e=0.000000:max_points=0:min_points=0:nodata=0.000000"
> >>
> >> Any ideas how to make things faster? I did a interpolation to 2 m x 2 m
> >> raster earlier, which was faster but not very fast either.
> >>
> >> Best regards,
> >>
> >> Ari
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


