From marco.hugentobler at karto.baug.ethz.ch  Tue Jul  1 02:09:50 2008
From: marco.hugentobler at karto.baug.ethz.ch (Hugentobler  Marco)
Date: Tue Jul  1 02:13:19 2008
Subject: AW: [gdal-dev] GDAL & WMS
References: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
	<1214860573.6901.1.camel@vertical>
Message-ID: <04DA676AA276F045B32D0F95783D78440AF876@EX6.d.ethz.ch>

Hi Nikos,

QGIS has it's own WMS client implementation.
I think it is not a problem of GDAL, it seems as if the NASA server is sometimes down or is slow due to many requests.

Regards,
Marco


-----Urspr?ngliche Nachricht-----
Von: gdal-dev-bounces@lists.osgeo.org im Auftrag von Nikos Alexandris
Gesendet: Mo 30.06.2008 23:16
An: Courtney Schitka
Cc: gdal-dev@lists.osgeo.org
Betreff: Re: [gdal-dev] GDAL & WMS
 
On Mon, 2008-06-30 at 17:10 -0400, Courtney Schitka wrote:
> Has anyone noticed a huge performance issue with GDAL and WMS lately ?
> I've noticed a HUGE problems using the NASA JPL servers lately as in I
> can't seem to get data from them or anything. GDAL hasn't been rebuilt
> recompiled and the client code I am using hasn't changed at all
> either. 
> 
> Cheers
> Courtney

Does QGIS use GDAL's WMS capabilities? If yes, then I think I observed
the same problem while trying to access NASA's JPL.

Greets,

Nikos

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



From guillaume.huby.lists at gmail.com  Tue Jul  1 03:19:40 2008
From: guillaume.huby.lists at gmail.com (guillaume huby)
Date: Tue Jul  1 03:19:49 2008
Subject: [Fwd: [gdal-dev] The proj.dll mistery]
In-Reply-To: <4869D8AC.2030502@geosys.com>
References: <4869D8AC.2030502@geosys.com>
Message-ID: <ddc797c30807010019j3bbc78b4ld40d4224042c2ef6@mail.gmail.com>

> -------- Message original --------
> Sujet: [gdal-dev] The proj.dll mistery
> Date: Mon, 30 Jun 2008 23:46:55 +0100
> De: Joaquim Luis <jluis@ualg.pt>
> Pour :: gdal-dev@lists.osgeo.org
>
> Hi,
>
> OK, I recovered from a  mysterious sudden stop working of my gdalwarp
> and ogrproj MEX files. All I had were error messages like
>
> "Failed to create coordinate transformation between the
> following coordinate systems.  This may be because they
> are not transformable, or because projection services
> (PROJ.4 DLL/.so) could not be loaded."
>
> But not long ago those worked ok. It turn out that probably the culprit
> was the "VantagePoint" here pointed out recently, that installed an
> older (incompatible??) version of proj.dll on "C:\WINDOWS\system32"  (I
> hate softs that do it).
>
> When I have dll conflicts, I always use the Dependency Walker to help me
> out, but in this case (an others??) the gdal.dll (trunk version) didn't
> show up any dependency on proj.dll. So it was a matter of "and what if
> it is in system32?" lucky guess that allowed me to solve the problem.
> There are plenty of dll dependencies on gdal.dll. Why not on proj.dll?
>

Joaquim,

I had the same problem some time ago, the message you had appeared in the
middle of a Matlab session.

The problem solved when I restarted Matlab ...

Now that you pointed out that accessing to different releases of proj.dll
might cause the problem, I will check it if the message appear again ...

Thanks,
Guillaume.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080701/09d0b50f/attachment.html
From jukka.rahkonen at mmmtike.fi  Tue Jul  1 03:54:09 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jul  1 03:54:28 2008
Subject: [gdal-dev] Re: gdalwarp and 900913
References: <20080630150422.GA15302@q.rho.net>
Message-ID: <loom.20080701T075150-124@post.gmane.org>

Wendell Turner <wendell <at> enflight.com> writes:

> 
> Does the gdalwarp distributed in FWtools 2.0.6 know about
> epsg:900913 (Google Maps Global Mercator)?  It doesn't seem
> to like this:
>   ./gdalwarp mymap.tif -t_srs "+init=epsg:900913"

> 

Hi,

No problem with FWTools 2.0.6 on Windows:

d:\ohjelmat\FWTools2.0.6>gdalwarp -t_srs epsg:900913 temp.tif tempgoogle.tif
Creating output file that is 10131P x 10144L.
Processing input file temp.tif.
Using internal nodata values (eg. 0) for image temp.tif.
0...10...20...30...40...50...60...70...80...90...100 - done.

-Jukka Rahkonen-


From jukka.rahkonen at mmmtike.fi  Tue Jul  1 04:37:33 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jul  1 04:37:48 2008
Subject: [gdal-dev] Re: GDAL & WMS
References: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
Message-ID: <loom.20080701T083528-566@post.gmane.org>

Courtney Schitka <c.schitka <at> gmail.com> writes:

> 
> Has anyone noticed a huge performance issue with GDAL and WMS lately ? I've
noticed a HUGE problems using the NASA JPL servers lately as in I can't seem to
get data from them or anything. GDAL hasn't been rebuilt recompiled and the
client code I am using hasn't changed at all either. CheersCourtney

Hi,

I guess that the reason is told on the front page at http://onearth.jpl.nasa.gov/ 

ATTENTION:

Due to server overloading, client applications are strongly advised to use the
existing tile datasets wherever possible, as described in the Tiled WMS or
Google Earth KML support

Frequent and repetitive requests for non-cached, small WMS tiles require an
excessive amount of server resources and will be blocked in order to preserve
server functionality. The OnEarth server is an experimental technology
demonstrator and does not have enough resources to support these requests.
An alternative solution already exists in the form of tiled WMS
While sets of tiles with different sizes and alignment can be added when needed,
for large datasets the duplication of storage, processing and data management
resources is prohibitive. 

-Jukka Rahkonen-

From arb at sat.dundee.ac.uk  Tue Jul  1 05:44:03 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Jul  1 05:44:07 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <486971DC.1030403@pobox.com>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <486971DC.1030403@pobox.com>
Message-ID: <op.udlxbpwdqw3wu1@titan>

On Tue, 01 Jul 2008 00:53:00 +0100, Frank Warmerdam <warmerdam@pobox.com> wrote:

>> "Failed to create coordinate transformation between the
>> following coordinate systems.  This may be because they
>> are not transformable, or because projection services
>> (PROJ.4 DLL/.so) could not be loaded."
>>
> It seems to me that the error message was pretty specific about what went
> wrong.

I think error messages which say "this OR that" are confusing.
Would it be possible to be more explicit about exactly which
condition caused the error?

Andrew
From arb at sat.dundee.ac.uk  Tue Jul  1 05:48:20 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Jul  1 05:48:23 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <006e01c8db0c$c6786a90$53693fb0$@com>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <006e01c8db0c$c6786a90$53693fb0$@com>
Message-ID: <op.udlxiuo7qw3wu1@titan>

On Tue, 01 Jul 2008 00:55:28 +0100, Martin Chapman <mchapman@texelinc.com> wrote:

> I apologize that VantagePoint caused a problem for you.  We will make the
> fix to the install and get the proj.dll out of the system32 directory.

There's nothing wrong with installing a shared library into a shared
directory.  But it's unforgivable to replace an existing shared library
with an older version!  Is it difficult to check version numbers?

A related story about version number checking: just yesterday I was
installing a brand new DVB card (SkyStar2) which gave this error:
"You have XP, service pack 3. You need XP service pack 2 or later.
Windows is out-of-date so installation will terminate."   D'oh!!!

Andrew
From arb at sat.dundee.ac.uk  Tue Jul  1 06:14:30 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Jul  1 06:14:33 2008
Subject: [gdal-dev] Import raw binary with pixel-geolocation
Message-ID: <op.udlyqgc4qw3wu1@titan>

Hello

Is it possible to import/warp raw binary data which has no projection just
associated arrays of latitude/longitude for each pixel?

How about if the latitude/longitude arrays were sub-sampled?  For example
MODIS 250m resolution has coordinates at 1000m resolution.

Would it be easier if I converted the data into HDF format first?  If so,
what SD names does the HDF importer use when looking for latitude and
longitude geolocation arrays?

Andrew
From warmerdam at pobox.com  Tue Jul  1 08:32:17 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul  1 08:32:49 2008
Subject: [gdal-dev] Import raw binary with pixel-geolocation
In-Reply-To: <op.udlyqgc4qw3wu1@titan>
References: <op.udlyqgc4qw3wu1@titan>
Message-ID: <486A23D1.20102@pobox.com>

Andrew Brooks wrote:
> Hello
> 
> Is it possible to import/warp raw binary data which has no projection just
> associated arrays of latitude/longitude for each pixel?
> 
> How about if the latitude/longitude arrays were sub-sampled?  For example
> MODIS 250m resolution has coordinates at 1000m resolution.

Andrew,

You can make the raw binary available for use in GDAL by writing an XML VRT
file that describes the raw binary file(s).  This is described in the
virtual format tutorial - note particularly the later section ".vrt
Descriptions for Raw Files".

   http://www.gdal.org/gdal_vrttut.html

You can utilize the geolocation (lat/long) arrays even if they are subsampled
as long as you know the details.  For more information on this, read up on
geolocation array support in:

   http://trac.osgeo.org/gdal/wiki/rfc4_geolocate

The geolocation metadata will need to be included in the VRT file defined
above.  Note that you may need two .vrt files, one for the main image, and
one for the geolocation arrays (even if they both happen to live in the
same raw binary file).

What you want to do is fairly complicated to achieve with GDAL, but doable.
If you get the raw image access working, but have trouble with the geolocation
stuff feel free to contact me privately for some additional hints and answers.

> Would it be easier if I converted the data into HDF format first?  If so,
> what SD names does the HDF importer use when looking for latitude and
> longitude geolocation arrays?

If you have an easy way of writing the HDF file yourself, you could
take this approach.  However, it is unclear exactly what you would need
to produce for things to work with GDAL.  GDAL does support two classes of
HDF products with geolocation arrays.  Some particular MODIS product format
and HDF-EOS swaths with geolocation in the normal HDF-EOS fashion.

But my suggestion is to go with the VRT files.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Jul  1 08:38:37 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul  1 08:38:58 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <op.udlxiuo7qw3wu1@titan>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <006e01c8db0c$c6786a90$53693fb0$@com>
	<op.udlxiuo7qw3wu1@titan>
Message-ID: <486A254D.5090600@pobox.com>

Andrew Brooks wrote:
> On Tue, 01 Jul 2008 00:55:28 +0100, Martin Chapman <mchapman@texelinc.com> wrote:
> 
>> I apologize that VantagePoint caused a problem for you.  We will make the
>> fix to the install and get the proj.dll out of the system32 directory.
> 
> There's nothing wrong with installing a shared library into a shared
> directory.  But it's unforgivable to replace an existing shared library
> with an older version!  Is it difficult to check version numbers?

Folks,

Well, I'm not sure it is all that easy to check versions.  I don't believe
I embed version information in PROJ.DLL in a microsoft windows specific
fashion.

Also, I've been producing windows software for a decade and a half and
I still don't know how to check DLL versions and compare them.  I know
there is a way, but I've never investigated it.

I generally avoid putting stuff in \windows\system32 because it is so
hard to avoid interfering with something else, but I am also frequently
frustrated when older DLLs in \windows\system32 get picked up ahead of
the ones I provide in my custom path.  I frequently have this problem
with MrSID and ECW DLLs for instance.  There are aspects of this problem
that I blame squarely on Microsoft for their system architecture.   It is
still too hard to distribute an application and ensure it uses my own
DLLs in preference to the ones in the system directory.

For FWTools my approach was actually to build most of the DLLs I *can*
build myself, and to append _fw in the dll name to avoid conflicts.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jluis at ualg.pt  Tue Jul  1 09:44:23 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue Jul  1 09:44:28 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <486A254D.5090600@pobox.com>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>	<4869625F.1030905@ualg.pt>
	<006e01c8db0c$c6786a90$53693fb0$@com>	<op.udlxiuo7qw3wu1@titan>
	<486A254D.5090600@pobox.com>
Message-ID: <486A34B7.80403@ualg.pt>

Frank Warmerdam wrote:
> Andrew Brooks wrote:
>> On Tue, 01 Jul 2008 00:55:28 +0100, Martin Chapman 
>> <mchapman@texelinc.com> wrote:
>>
>>> I apologize that VantagePoint caused a problem for you.  We will 
>>> make the
>>> fix to the install and get the proj.dll out of the system32 directory.
>>
>> There's nothing wrong with installing a shared library into a shared
>> directory.  But it's unforgivable to replace an existing shared library
>> with an older version!  Is it difficult to check version numbers?

Andrew,
I didn't say that VantagePoint  replaced an existing newer proj.dll
It was enough to put it's own on \windows\system32 to make it have 
precedence over the existing one that sits right to the side of the gdal.dll


> For FWTools my approach was actually to build most of the DLLs I *can*
> build myself, and to append _fw in the dll name to avoid conflicts.
>

Frank,

Excuse me for my ignorance, but do you do than to tell the programs to 
use the proj_fw.dll instead of any proj.dll that may be trailing around?

Thanks
Joaquim
From warmerdam at pobox.com  Tue Jul  1 10:03:32 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul  1 10:04:05 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <486A34B7.80403@ualg.pt>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <006e01c8db0c$c6786a90$53693fb0$@com>
	<op.udlxiuo7qw3wu1@titan> <486A254D.5090600@pobox.com>
	<486A34B7.80403@ualg.pt>
Message-ID: <486A3934.4060007@pobox.com>

Joaquim Luis wrote:
>  Frank,
> 
> Excuse me for my ignorance, but do you do than to tell the programs to 
> use the proj_fw.dll instead of any proj.dll that may be trailing around?

Joaquim,

I build GDAL using the -DPROJ_STATIC option discussed a bit earlier in this
thread.   That is, I uncomment the following options in gdal/nmake.opt and
adjust according to local paths:

# PROJ.4 stuff
# Uncomment the following lines to link PROJ.4 library statically. Otherwise
# it will be linked dynamically during runtime.
#PROJ_FLAGS = -DPROJ_STATIC
#PROJ_INCLUDE = -Id:\projects\proj.4\src
#PROJ_LIBRARY = d:\projects\proj.4\src\proj_i.lib

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Jul  1 10:18:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul  1 10:18:26 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <48692D31.9000101@o2.pl>
References: <48622179.4030906@o2.pl> <4862508B.2010303@pobox.com>
	<48625D18.6060100@o2.pl> <48625F8A.1050108@pobox.com>
	<48692D31.9000101@o2.pl>
Message-ID: <486A3C9D.4060302@pobox.com>

Maciej Sieczka wrote:
> How about the former then - how do I best fetch the list of *real* EPSG
> codes that my instalation of GDAL is able to recognize? Is extracting
> them from pcs.csv and gcs.csv a good approach?

Maciej,

Yes

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jrepetto at free.fr  Tue Jul  1 10:52:39 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue Jul  1 10:52:45 2008
Subject: [gdal-dev] Re: gdalwarp and 900913
In-Reply-To: <loom.20080701T075150-124@post.gmane.org>
References: <20080630150422.GA15302@q.rho.net>
	<loom.20080701T075150-124@post.gmane.org>
Message-ID: <486A44B7.6070602@free.fr>

Jukka Rahkonen a ?crit :
> Wendell Turner <wendell <at> enflight.com> writes:
> 
>> Does the gdalwarp distributed in FWtools 2.0.6 know about
>> epsg:900913 (Google Maps Global Mercator)?  It doesn't seem
>> to like this:
>>   ./gdalwarp mymap.tif -t_srs "+init=epsg:900913"
> 
> 

The official EPSG code for Google Maps Global Mercator is EPSG:3785.

From jukka.rahkonen at mmmtike.fi  Tue Jul  1 13:51:41 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Jul  1 13:51:51 2008
Subject: [gdal-dev] Re: gdalwarp and 900913
References: <20080630150422.GA15302@q.rho.net>
	<loom.20080701T075150-124@post.gmane.org>
	<486A44B7.6070602@free.fr>
Message-ID: <loom.20080701T174932-749@post.gmane.org>

Jean-Claude Repetto <jrepetto <at> free.fr> writes:

> 
> Jukka Rahkonen a ?crit :
> > Wendell Turner <wendell <at> enflight.com> writes:
> > 
> >> Does the gdalwarp distributed in FWtools 2.0.6 know about
> >> epsg:900913 
> 
> The official EPSG code for Google Maps Global Mercator is EPSG:3785.

...but FWTools version 2.0.6 came before that and knew only 900013.


-Jukka Rahkonen-


From tutey at o2.pl  Tue Jul  1 17:17:35 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Jul  1 17:16:30 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485FDFA1.2010504@o2.pl>
References: <485EC632.5030905@o2.pl>
	<485EC87D.7010504@pobox.com>	<485ED11D.70104@o2.pl>
	<485ED8FD.4070305@pobox.com>	<485F603D.7090207@o2.pl>
	<485FD74C.70405@pobox.com> <485FDFA1.2010504@o2.pl>
Message-ID: <486A9EEF.9030704@o2.pl>

Maciej Sieczka pisze:
> Frank Warmerdam pisze:
>> Maciej Sieczka wrote:
>>> Frank Warmerdam pisze:

>>> $ gdal_translate -co "TILED=NO" -co "BLOCKYSIZE=1" check.tif
>>> check3.tif Input file size is 4090, 2216 ERROR 1:
>>> TIFFReadDirectory:Cannot handle zero number of tiles

>> Strange, I do not see the same behavior

> I'll investigate and let you know in days.

I can't find the data anymore and can't reproduce with other GeoTIFF. Sorry!

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From jonathan at jonathanwagner.net  Tue Jul  1 18:13:30 2008
From: jonathan at jonathanwagner.net (Jonathan Wagner)
Date: Tue Jul  1 18:13:33 2008
Subject: [gdal-dev] Re: [GDAL] #2447: Attempt to read past EOF ...
 dtm000082/../info/arc.dir
 (GDAL 1.5.1 does not read projection info from arcgrid)
In-Reply-To: <055.4a9a59326185d5489ec88601a93fbc3b@osgeo.org>
References: <046.f2290c73183f5d2ea2cb2002e2bad0f9@osgeo.org>
	<055.4a9a59326185d5489ec88601a93fbc3b@osgeo.org>
Message-ID: <09c2cd97630dd49ad80b92d3de186f32@jonathanwagner.net>

Anyone have a clue as to the resolution of this.  It only occurs in Linux
and occurs in 1.5.x as well as SVN trunk.

Here's a sample file that it fails on (~47 MB).

http://stuff.jonathanwagner.net/srtm.tar.bz2

Jonathan

Sample output:

$ ./bin/gdalinfo ~/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110
ERROR 3: Attempt to read past EOF in
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/../info/arc.dir.
ERROR 4: Failed to open table srtm_n30_w110.VAT
Driver: AIG/Arc/Info Binary Grid
Files: /home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110
       /home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110.aux
      
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/sta.adf
      
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/hdr.adf
      
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/dblbnd.adf
       /home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/log
      
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/w001001.adf
      
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/w001001x.adf
      
/home/flightgear/Work/Elevation/SRTM/SRTM90_ESRI/srtm_n30_w110/metadata.xml
Size is 12001, 12001
Coordinate System is `'
Origin = (-120.000416666700005,40.000416666633001)
Pixel Size = (0.000833333333000,-0.000833333333000)
Corner Coordinates:
Upper Left  (-120.0004167,  40.0004167)
Lower Left  (-120.0004167,  29.9995833)
Upper Right (-109.9995833,  40.0004167)
Lower Right (-109.9995833,  29.9995833)
Center      (-115.0000000,  35.0000000)
Band 1 Block=376x4 Type=Float32, ColorInterp=Undefined
  Min=-126.000 Max=4409.000
  NoData Value=-3.4028234663852886e+38
  Metadata:
    LAYER_TYPE=athematic


On Tue, 01 Jul 2008 21:06:29 -0000, "GDAL" <trac@osgeo.org> wrote:
> #2447: Attempt to read past EOF ... dtm000082/../info/arc.dir (GDAL 1.5.1
> does not
> read projection info from arcgrid)
>
-------------------------+--------------------------------------------------
>  Reporter:  neteler      |        Owner:  warmerdam
>      Type:  defect       |       Status:  new      
>  Priority:  normal       |    Milestone:           
> Component:  GDAL_Raster  |      Version:  svn-trunk
>  Severity:  normal       |   Resolution:           
>  Keywords:               |  
>
-------------------------+--------------------------------------------------
> Changes (by jwagner):
> 
>   * summary:  Attempt to read past EOF ... dtm000082/../info/arc.dir =>
>               Attempt to read past EOF ...
>               dtm000082/../info/arc.dir (GDAL 1.5.1 does not
>               read projection info from arcgrid)
> 
> Comment:
> 
>  I'm seeing the same output here on some SRTM files.  Also, this problem
>  only occurs on Linux and not Windows and only fails on ArcGrid Info
> files,
>  not GeoTIFF.  It doesn't seem to effect the raster data I/O, but fails
> to
>  read the projection.  Also of note is that data downloaded from the USGS
>  Seamless server does not fail.
> 
>  Here's a SRTM file which fails should be public domain (47MB):
>  [http://stuff.jonathanwagner.net/srtm.tar.bz2]
> 
>
-- 
--
Jonathan Wagner
From sfkeller at gmail.com  Tue Jul  1 19:31:27 2008
From: sfkeller at gmail.com (Stefan Keller)
Date: Tue Jul  1 19:31:30 2008
Subject: [gdal-dev] GML to Shapefile
Message-ID: <25bc040b0807011631g6fb284b7w3d38f096488a712f@mail.gmail.com>

Hi,

I tried to convert a GML file to Shapefile whereas the GML contains points,
linestrings and polygons (see GML snippet below).

The command goes something like this: % ogr2ogr -f "ESRI Shapefile" outdir
mydata.gml

Now, what I'm getting out is mydata.shp (+.dbf/shx) and alayer.shp
(+.dbf/shx), where mydata contains point type and alayer contains linestring
type.  => Why is there an additional linestring shapefile but no polygon
shapefile?

-- Stefan

GML snippet of mydata.gml:
...
<gml:featureMember>
<osm:way fid="4304746">
<osm:id>4304746</osm:id>
<osm:timestamp>2008-03-25T21:31:01+00:00</osm:timestamp>
<osm:user>Sch?uble Michele</osm:user>
<osm:geometryProperty>
<gml:polygonMember>
<gml:Polygon>
<gml:outerBoundaryIs>
<gml:LinearRing>
<gml:coordinates>8.8971245,47.2066117 8.8958854,47.2065926
8.8951875,47.2061166 8.893922,47.2073953 8.8921772,47.2079074  ...
8.8971383,47.2051962 8.8962002,47.2044168 8.8955145,47.2051218
8.8966504,47.2060895 8.8971132,47.2060825 8.8971245,47.2066117
</gml:coordinates>
</gml:LinearRing>
</gml:outerBoundaryIs>
</gml:Polygon>
</gml:polygonMember>
</osm:geometryProperty>
<osm:natural>water</osm:natural>
</osm:way>
</gml:featureMember>
<gml:featureMember>
<osm:way fid="4684550">
<osm:id>4684550</osm:id>
<osm:timestamp>2008-04-28T16:55:00+01:00</osm:timestamp>
<osm:user>Sch?uble Michele</osm:user>
<osm:geometryProperty>
<gml:LineString>
<gml:coordinates>8.8370022,47.2301952 8.8368472,47.2301807
8.8355139,47.2296331 8.832977,47.2291911 8.8297158,47.2285296
8.8256068,47.2278459 8.8223489,47.2273065 8.8188251,47.2267218
8.8183819,47.2267204 </gml:coordinates>
</gml:LineString>
</osm:geometryProperty>
<osm:highway>primary</osm:highway>
</osm:way>
</gml:featureMember>
....
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/116a37ce/attachment.html
From nowak at xpam.de  Tue Jul  1 19:34:26 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Tue Jul  1 19:34:44 2008
Subject: [gdal-dev] Re: GDAL & WMS
In-Reply-To: <loom.20080701T083528-566@post.gmane.org>
References: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
	<loom.20080701T083528-566@post.gmane.org>
Message-ID: <486ABF02.60909@xpam.de>

http://trac.osgeo.org/gdal/ticket/2450
should help

Jukka Rahkonen wrote:
> Courtney Schitka <c.schitka <at> gmail.com> writes:
> 
>> Has anyone noticed a huge performance issue with GDAL and WMS lately ? I've
> noticed a HUGE problems using the NASA JPL servers lately as in I can't seem to
> get data from them or anything. GDAL hasn't been rebuilt recompiled and the
> client code I am using hasn't changed at all either. CheersCourtney
> 
> Hi,
> 
> I guess that the reason is told on the front page at http://onearth.jpl.nasa.gov/ 
> 
> ATTENTION:
> 
> Due to server overloading, client applications are strongly advised to use the
> existing tile datasets wherever possible, as described in the Tiled WMS or
> Google Earth KML support
> 
> Frequent and repetitive requests for non-cached, small WMS tiles require an
> excessive amount of server resources and will be blocked in order to preserve
> server functionality. The OnEarth server is an experimental technology
> demonstrator and does not have enough resources to support these requests.
> An alternative solution already exists in the form of tiled WMS
> While sets of tiles with different sizes and alignment can be added when needed,
> for large datasets the duplication of storage, processing and data management
> resources is prohibitive. 
> 
> -Jukka Rahkonen-

From amendizabal at indra.es  Wed Jul  2 02:32:07 2008
From: amendizabal at indra.es (Mendizabal Vicente, Ainhoa)
Date: Wed Jul  2 02:32:09 2008
Subject: [gdal-dev] RV: RGB Tiled - non Tiled Images
Message-ID: <B3335C9766DAB244A0EA827A798E3C875DC2BF@MADARRMAIL3.indra.es>

Hi, 

 

I was trying to generate an RGB non-tiled image from a Grey tiled Image like this:

 

            GDALAllRegister();

            

            GDALDataset *m_InputImage;

            GDALRasterBand *InputRasterBand;

 

            m_InputImage = (GDALDataset*)GDALOpen("D: \\DAT_01.001_tiled.tif", GA_ReadOnly);

 

            char **papszOptions = NULL;

            papszOptions = CSLSetNameValue(papszOptions, "TILED", "YES");

            GDALDataset *m_OutputImage = (GDALDataset*)GDALCreate(m_InputImage->GetDriver(), D:\\Remuestreo.tif", 1024, 1024, 3, GDT_Byte, papszOptions);

            GDALRasterBand *OutputRasterBand;

            

            int rowTile;

            int colTile;

            int colOff = 3;

            int rowOff = 3;

            int band;

            

            InputRasterBand = m_InputImage->GetRasterBand(1);

            unsigned char* Buffer;

            Buffer = (unsigned char *) malloc(256*256*sizeof(unsigned char));

            for(rowTile = 0; rowTile < 4; rowTile ++)

            {

                        for(colTile = 0; colTile <4; colTile++)

                        {

                                   for(band = 1; band<=3; band ++)

                                   {

 

                                               InputRasterBand->ReadBlock(colTile + colOff, rowTile + rowOff, (void*)Buffer);

                                               OutputRasterBand = m_OutputImage->GetRasterBand(band);

                                               OutputRasterBand->WriteBlock(colTile, rowTile, (void*)Buffer);

                                   }

                        }

            }

            

    GDALDataset *OutputShown2;

    OutputShown2 = m_OutputImage->GetDriver()->CreateCopy("D\\RemuestreoShown.tif", m_OutputImage, false, NULL, NULL, NULL);

            

    free(Buffer);

            

    GDALClose(m_OutputImage);

    GDALClose(OutputShown2);

 

But I could not view properly the resulting image.

 

Looking for the original problem I've tried simply to transform a RGB non-tiled Image to tiled, and then I've made it non-tiled again:

 

gdal_transform -co 'tiled=yes'    Original.tif         Tiled.tif

gdal_transform -co 'tiled=no'      Tiled.tif             Result.tif

 

but, I can't view properly the Image Result.tif. ?What I've made wrong?

 

Thank you

 

Ainhoa

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/521e0110/attachment-0001.html
From plieger at knmi.nl  Wed Jul  2 04:07:49 2008
From: plieger at knmi.nl (Maarten Plieger)
Date: Wed Jul  2 04:08:58 2008
Subject: [gdal-dev] Parse ISO 8601 formatted timestamps
Message-ID: <486B3755.1060909@knmi.nl>

Hi,

Are there existing functions in GDAL to parse ISO 8601 formatted timestamps?
I would like to convert a string of the form YYYYMMDDThhmmss.ss to a 
juliandate and back.

Thanks,
Maarten Plieger

-- 
Maarten Plieger
KNMI, R&D Information and Observation Technology, De Bilt
(t) +31 30 2206330 

From jrepetto at free.fr  Wed Jul  2 04:44:39 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed Jul  2 04:44:49 2008
Subject: [gdal-dev] Georeferencing an ECW file
In-Reply-To: <47AB330B.3060105@free.fr>
References: <47AB330B.3060105@free.fr>
Message-ID: <486B3FF7.4040806@free.fr>

Jean-Claude Repetto wrote :
> 
> I have some ECW files that do not include datum, projection and 
> coordinates.
> Is there a GDAL tool that can be used to add these informations into the 
> header of the ECW files, without decompressing and compressing again the 
> image ?
> 

Since ERMapper's ECW Header Editor is available only for Windows, I have 
written a small utility program to do the job. It is called ecwhed, and 
I have released it under the GPL v2 license. It is available at 
http://jrepetto.free.fr/ecwhed .

Jean-Claude
From warmerdam at pobox.com  Wed Jul  2 06:29:25 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  2 06:29:49 2008
Subject: [gdal-dev] GML to Shapefile
In-Reply-To: <25bc040b0807011631g6fb284b7w3d38f096488a712f@mail.gmail.com>
References: <25bc040b0807011631g6fb284b7w3d38f096488a712f@mail.gmail.com>
Message-ID: <486B5885.6030004@pobox.com>

Stefan,

Unfortunately you have not provided enough of your GML file to
tell what is going on.  It appears that the features with the line
and polygon geometries are of the same feature class (that is will
appear as one layer in OGR).  If this is the case, then only one
shapefile will be created and it will be assigned a geometry type
based on the first feature geometry encountered during the transfer.

Assuming it does not make sense to restructure the GML file, I
would suggest you do something like:

ogr2ogr -skipfailures -f "ESRI Shapefile"
     out_line.shp mydata.gml mydata_layer -nlt LINESTRING

ogr2ogr -skipfailures -f "ESRI Shapefile"
     out_poly.shp mydata.gml mydata_layer -nlt POLYGON

Please replace "mydata_layer" with the name of the layer (feature
class) holding the line/polygon geometries.  These commands are
essentially attempting to translate the layer twice, onces as lines
and once as polygons.

Best regards,

Stefan Keller wrote:
> Hi,
>  
> I tried to convert a GML file to Shapefile whereas the GML contains 
> points, linestrings and polygons (see GML snippet below).
>  
> The command goes something like this: % ogr2ogr -f "ESRI Shapefile" 
> outdir mydata.gml
>  
> Now, what I'm getting out is mydata.shp (+.dbf/shx) and alayer.shp 
> (+.dbf/shx), where mydata contains point type and alayer contains 
> linestring type.  => Why is there an additional linestring shapefile but 
> no polygon shapefile?
>  
> -- Stefan
>  
> GML snippet of mydata.gml:
> ...
> <gml:featureMember>
> <osm:way fid="4304746">
> <osm:id>4304746</osm:id>
> <osm:timestamp>2008-03-25T21:31:01+00:00</osm:timestamp>
> <osm:user>Sch?uble Michele</osm:user>
> <osm:geometryProperty>
> <gml:polygonMember>
> <gml:Polygon>
> <gml:outerBoundaryIs>
> <gml:LinearRing>
> <gml:coordinates>8.8971245,47.2066117 8.8958854,47.2065926 
> 8.8951875,47.2061166 8.893922,47.2073953 8.8921772,47.2079074  ...  
> 8.8971383,47.2051962 8.8962002,47.2044168 8.8955145,47.2051218 
> 8.8966504,47.2060895 8.8971132,47.2060825 8.8971245,47.2066117 
> </gml:coordinates>
> </gml:LinearRing>
> </gml:outerBoundaryIs>
> </gml:Polygon>
> </gml:polygonMember>
> </osm:geometryProperty>
> <osm:natural>water</osm:natural>
> </osm:way>
> </gml:featureMember>
> <gml:featureMember>
> <osm:way fid="4684550">
> <osm:id>4684550</osm:id>
> <osm:timestamp>2008-04-28T16:55:00+01:00</osm:timestamp>
> <osm:user>Sch?uble Michele</osm:user>
> <osm:geometryProperty>
> <gml:LineString>
> <gml:coordinates>8.8370022,47.2301952 8.8368472,47.2301807 
> 8.8355139,47.2296331 8.832977,47.2291911 8.8297158,47.2285296 
> 8.8256068,47.2278459 8.8223489,47.2273065 8.8188251,47.2267218 
> 8.8183819,47.2267204 </gml:coordinates>
> </gml:LineString>
> </osm:geometryProperty>
> <osm:highway>primary</osm:highway>
> </osm:way>
> </gml:featureMember>
> ....
>  
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Wed Jul  2 07:01:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  2 07:01:45 2008
Subject: [gdal-dev] Parse ISO 8601 formatted timestamps
In-Reply-To: <486B3755.1060909@knmi.nl>
References: <486B3755.1060909@knmi.nl>
Message-ID: <486B6004.6090603@pobox.com>

Maarten Plieger wrote:
> Hi,
> 
> Are there existing functions in GDAL to parse ISO 8601 formatted 
> timestamps?
> I would like to convert a string of the form YYYYMMDDThhmmss.ss to a 
> juliandate and back.

Maarten,

GDAL/OGR has no support (I am aware of) for Julian dates.  Most textual
parsing for OGR is encapsulated in the OGRParseDate() function with docs
looking like:


/**
  * Parse date string.
  *
  * This function attempts to parse a date string in a variety of formats
  * into the OGRField.Date format suitable for use with OGR.  Generally
  * speaking this function is expecting values like:
  *
  *   YYYY-MM-DD HH:MM:SS+nn
  *
  * The seconds may also have a decimal portion (which is ignored).  And
  * just dates (YYYY-MM-DD) or just times (HH:MM:SS) are also supported.
  * The date may also be in YYYY/MM/DD format.  If the year is less than 100
  * and greater than 30 a "1900" century value will be set.  If it is less than
  * 30 and greater than -1 then a "2000" century value will be set.  In
  * the future this function may be generalized, and additional control
  * provided through nOptions, but an nOptions value of "0" should always do
  * a reasonable default form of processing.
  *
  * The value of psField will be indeterminate if the function fails (returns
  * FALSE).
  *
  * @param pszInput the input date string.
  * @param psField the OGRField that will be updated with the parsed result.
  * @param nOptions parsing options, for now always 0.
  *
  * @return TRUE if apparently successful or FALSE on failure.
  */

int OGRParseDate( const char *pszInput, OGRField *psField, int nOptions )

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From geotech.sarel at gmail.com  Wed Jul  2 07:13:43 2008
From: geotech.sarel at gmail.com (Sarel Coetzer)
Date: Wed Jul  2 07:13:46 2008
Subject: [gdal-dev] PostGIS- geometry_column table
Message-ID: <89f54d350807020413g65e96ad4q814e0e7c4cede34e@mail.gmail.com>

Hi

I have noticed that I can't transform or extract PostGIS layers with FWtools
if the "geometry_column table" isn't updated.
Previously I have re-named or just deleted PostGIS-layers manually but
without the "geometry_column table" updating.

For example:

postgislayer -* lake* re-named to *midmar_lake* but then
"geometry_column.f_table_name"  "* lake***"  not updated nor can I edit it
manually*.

*Does anyone have suggestions how I can manage this?*
*If possible please give SQL statement example.
*

*Many thanks

Sarel*
*
-- 
"http://sarelgis.blogspot.com/"
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/40a3dc0f/attachment.html
From warmerdam at pobox.com  Wed Jul  2 07:18:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  2 07:18:25 2008
Subject: [gdal-dev] RV: RGB Tiled - non Tiled Images
In-Reply-To: <B3335C9766DAB244A0EA827A798E3C875DC2BF@MADARRMAIL3.indra.es>
References: <B3335C9766DAB244A0EA827A798E3C875DC2BF@MADARRMAIL3.indra.es>
Message-ID: <486B63F5.7090801@pobox.com>

Mendizabal Vicente, Ainhoa wrote:
> But I could not view properly the resulting image.
> 
>  
> 
> Looking for the original problem I?ve tried simply to transform a RGB 
> non-tiled Image to tiled, and then I?ve made it non-tiled again:
> 
>  
> 
> gdal_transform ?co ?tiled=yes?    Original.tif         Tiled.tif
> 
> gdal_transform ?co ?tiled=no?      Tiled.tif             Result.tif
> 
>  
> 
> but, I can?t view properly the Image Result.tif. ?What I?ve made wrong?

Ainhoa,

What version of GDAL are you using?  (try gdalinfo --version to find out).

What software are you using for viewing?  Do you get any specific errors?

Generally speaking there are many crappy TIFF viewers in this world, so it
is possible that the viewer you are using does not support something in the
produced files from GDAL.  I *suspect* you are getting "band interleaved"
TIFF files from GDAL which are not so widely supported.  If this is the case
using -co INTERLEAVE=PIXEL in the translations might help.  However, GDAL 1.5
and newer products pixel interleaved files by default.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From randre at gmail.com  Wed Jul  2 12:15:32 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Jul  2 12:15:34 2008
Subject: [gdal-dev] EXIF geotagging with GDAL?
Message-ID: <9c2015090807020915s2c32848dx1bc188417b698b69@mail.gmail.com>

Hi Everyone,

I'm writing to ask if anyone has used the GDAL library in conjunction with
something else (PIL probably) to create geotagged images?

I'd like to write a simple app that takes a placename and an image filename,
does a quick geocoding using the Google Maps geocoder, and then writes the
lat/lon into the image header.  I haven't found a good reference yet that
describes what the EXIF header info should look like, but I see that
gdalinfo reports EXIF info when run on an image with tags in it.

Thanks in advance for any suggestions you might have.

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/e5dd5afd/attachment.html
From arb at sat.dundee.ac.uk  Wed Jul  2 13:47:30 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Wed Jul  2 13:47:33 2008
Subject: [gdal-dev] EXIF geotagging with GDAL?
In-Reply-To: <9c2015090807020915s2c32848dx1bc188417b698b69@mail.gmail.com>
References: <9c2015090807020915s2c32848dx1bc188417b698b69@mail.gmail.com>
Message-ID: <op.udoedg1cqw3wu1@titan>

On Wed, 02 Jul 2008 17:15:32 +0100, Roger Andr? <randre@gmail.com> wrote:
> I'm writing to ask if anyone has used the GDAL library in conjunction with
> something else (PIL probably) to create geotagged images?
>
> I'd like to write a simple app that takes a placename and an image filename,
> does a quick geocoding using the Google Maps geocoder, and then writes the
> lat/lon into the image header.  I haven't found a good reference yet that
> describes what the EXIF header info should look like, but I see that
> gdalinfo reports EXIF info when run on an image with tags in it.

Hi

Use ExifTool to write the EXIF tags, it's the best :-)

Use gpsPhoto.pl to do the geocoding (it uses ExifTool internally); it has
an option to convert place names to lat/lon.

Andrew
From c.schitka at gmail.com  Wed Jul  2 14:20:15 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Wed Jul  2 14:20:18 2008
Subject: [gdal-dev] GDAL Reading tiles ?
Message-ID: <e66a4dbf0807021120v71c6ed58tf26da844e55e2d54@mail.gmail.com>

There's a number of discussions and utitlites to convert a geotiff type data
set to a tile(s). Is there anyway for GDAL to read a whole one of these
tiles at a time. I am looking for a way to speed up data access. So if it
could read a tile at time it be good, or would it make sense to create a
memory data set with one of these tiles and have GDAL read from the memory
data set. Would that be faster then the two conventional methods for reading
data from various files.

Courtney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/cbc4a0fd/attachment.html
From frdcn at hotmail.com  Wed Jul  2 16:27:31 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Jul  2 16:28:33 2008
Subject: [gdal-dev] Problems building gdal for win ce
Message-ID: <BAY110-W153CF0EC565DF6A20E3D41B2990@phx.gbl>

Hi:

I?m trying to compile gdal for windows mobile, using windows mobile 5 sdk
and visual studio 2005 but  I?m getting an undefined reference to localeconv
in method  CPLStrtodDelim and undefined reference to GDALWarpCutlineMasker
in method GDALWarpOperation::WarpRegionToBuffer.

Have someone had this problems, any idea to solve them?

Thanks in advance
Godofredo Contreras

_________________________________________________________________
Don't get caught with egg on your face. Play chicktionary!
http://club.live.com/chicktionary.aspx?icid=chick_wlhmtextlink1_feb
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/005b5a02/attachment.html
From even.rouault at mines-paris.org  Wed Jul  2 17:10:26 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jul  2 17:10:32 2008
Subject: [gdal-dev] Problems building gdal for win ce
In-Reply-To: <BAY110-W153CF0EC565DF6A20E3D41B2990@phx.gbl>
References: <BAY110-W153CF0EC565DF6A20E3D41B2990@phx.gbl>
Message-ID: <200807022310.26977.even.rouault@mines-paris.org>

Try the attached patch. Please confirm if it works (I've no WINCE available) 
and I'll commit that

Index: port/cpl_strtod.cpp
===================================================================
--- port/cpl_strtod.cpp (r?vision 14798)
+++ port/cpl_strtod.cpp (copie de travail)
@@ -145,6 +145,56 @@
 /*                          CPLStrtodDelim()                            */
 /************************************************************************/

+static void CPLReplacePointByLocalePoint(char* pszNumber, char point)
+{
+#if defined(WIN32CE)
+    static char byPoint = 0;
+    if (byPoint == 0)
+    {
+        char szBuf[16];
+        sprintf(szBuf, "%.1f", 1.0);
+        byPoint = szBuf[1];
+    }
+    if (point != byPoint)
+    {
+        int     i = 0;
+
+        while ( pszNumber[i] )
+        {
+            if ( pszNumber[i] == point )
+            {
+                pszNumber[i] = byPoint;
+                break;
+            }
+            i++;
+        }
+    }
+#else
+    struct lconv *poLconv = localeconv();
+    if ( poLconv
+         && poLconv->decimal_point
+         && strlen(poLconv->decimal_point) > 0 )
+    {
+        int     i = 0;
+        char    byPoint = poLconv->decimal_point[0];
+
+        if (point != byPoint)
+        {
+            while ( pszNumber[i] )
+            {
+                if ( pszNumber[i] == point )
+                {
+                    pszNumber[i] = byPoint;
+                    break;
+                }
+                i++;
+            }
+        }
+    }
+#endif
+}
+
+
 /**
  * Converts ASCII string to floating point number using specified delimiter.
  *
@@ -170,30 +220,12 @@
 /*  with the one, taken from locale settings and use standard strtod()  */
 /*  on that buffer.                                                     */
 /* -------------------------------------------------------------------- */
-
-    struct lconv *poLconv = localeconv();
     char        *pszNumber = CPLStrdup( nptr );
     double      dfValue;
     int         nError;

-    if ( poLconv
-         && poLconv->decimal_point
-         && strlen(poLconv->decimal_point) > 0 )
-    {
-        int     i = 0;
-        char    byPoint = poLconv->decimal_point[0];
+    CPLReplacePointByLocalePoint(pszNumber, point);

-        while ( pszNumber[i] )
-        {
-            if ( pszNumber[i] == point )
-            {
-                pszNumber[i] = byPoint;
-                break;
-            }
-            i++;
-        }
-    }
-
     dfValue = strtod( pszNumber, endptr );
     nError = errno;

@@ -263,29 +295,12 @@
 /*  on that buffer.                                                     */
 /* -------------------------------------------------------------------- */

-    struct lconv *poLconv = localeconv();
     char        *pszNumber = CPLStrdup( nptr );
     double      dfValue;
     int         nError;

-    if ( poLconv
-         && poLconv->decimal_point
-         && strlen(poLconv->decimal_point) > 0 )
-    {
-        int     i = 0;
-        char    byPoint = poLconv->decimal_point[0];
+    CPLReplacePointByLocalePoint(pszNumber, point);

-        while ( pszNumber[i] )
-        {
-            if ( pszNumber[i] == point )
-            {
-                pszNumber[i] = byPoint;
-                break;
-            }
-            i++;
-        }
-    }
-
     dfValue = strtof( pszNumber, endptr );
     nError = errno;


Le Wednesday 02 July 2008 22:27:31 godofredo contreras, vous avez ?crit?:
> Hi:
>
> I?m trying to compile gdal for windows mobile, using windows mobile 5 sdk
> and visual studio 2005 but  I?m getting an undefined reference to
> localeconv in method  CPLStrtodDelim and undefined reference to
> GDALWarpCutlineMasker in method GDALWarpOperation::WarpRegionToBuffer.
>
> Have someone had this problems, any idea to solve them?
>
> Thanks in advance
> Godofredo Contreras
>
> _________________________________________________________________
> Don't get caught with egg on your face. Play chicktionary!
> http://club.live.com/chicktionary.aspx?icid=chick_wlhmtextlink1_feb


-------------- next part --------------
A non-text attachment was scrubbed...
Name: cpl_strtod.cpp.patch
Type: text/x-diff
Size: 3310 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080702/75aff618/cpl_strtod.cpp.bin
From amendizabal at indra.es  Thu Jul  3 03:07:52 2008
From: amendizabal at indra.es (Mendizabal Vicente, Ainhoa)
Date: Thu Jul  3 03:07:56 2008
Subject: [gdal-dev] RV: RGB Tiled - non Tiled Images
In-Reply-To: <486B63F5.7090801@pobox.com>
References: <B3335C9766DAB244A0EA827A798E3C875DC2BF@MADARRMAIL3.indra.es>
	<486B63F5.7090801@pobox.com>
Message-ID: <B3335C9766DAB244A0EA827A798E3C875DC978@MADARRMAIL3.indra.es>

I've just made an update of my GDAL version, and now all seem to work properly.

Thanks a lot

Ainhoa

-----Mensaje original-----
De: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Enviado el: mi?rcoles, 02 de julio de 2008 13:18
Para: Mendizabal Vicente, Ainhoa
CC: gdal-dev@lists.osgeo.org
Asunto: Re: [gdal-dev] RV: RGB Tiled - non Tiled Images

Mendizabal Vicente, Ainhoa wrote:
> But I could not view properly the resulting image.
> 
>  
> 
> Looking for the original problem I've tried simply to transform a RGB 
> non-tiled Image to tiled, and then I've made it non-tiled again:
> 
>  
> 
> gdal_transform -co 'tiled=yes'    Original.tif         Tiled.tif
> 
> gdal_transform -co 'tiled=no'      Tiled.tif             Result.tif
> 
>  
> 
> but, I can't view properly the Image Result.tif. ?What I've made wrong?

Ainhoa,

What version of GDAL are you using?  (try gdalinfo --version to find out).

What software are you using for viewing?  Do you get any specific errors?

Generally speaking there are many crappy TIFF viewers in this world, so it
is possible that the viewer you are using does not support something in the
produced files from GDAL.  I *suspect* you are getting "band interleaved"
TIFF files from GDAL which are not so widely supported.  If this is the case
using -co INTERLEAVE=PIXEL in the translations might help.  However, GDAL 1.5
and newer products pixel interleaved files by default.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ozturkhar at hotmail.com  Thu Jul  3 08:49:10 2008
From: ozturkhar at hotmail.com (=?windows-1254?Q?Harun_=D6ZT=DCRK?=)
Date: Thu Jul  3 08:50:12 2008
Subject: [gdal-dev] crop polygon GDAL
In-Reply-To: <mailman.2581.1215088109.3101.gdal-dev@lists.osgeo.org>
References: <mailman.2581.1215088109.3101.gdal-dev@lists.osgeo.org>
Message-ID: <BLU125-W2357BB21D91D331BE32017B9980@phx.gbl>


Hi everyone,
 Is there a simple way to crop same part of raster using via gdal. Couldsomebody send sample or usage of this operation? Thanks.
 
Harun
_________________________________________________________________
Connect to the next generation of MSN Messenger?
http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080703/fefde145/attachment.html
From plieger at knmi.nl  Thu Jul  3 10:04:44 2008
From: plieger at knmi.nl (Maarten Plieger)
Date: Thu Jul  3 10:04:48 2008
Subject: [gdal-dev] Copying metadata - GDALGetMetadata returns nothing in
 UMN MapServer WCS
Message-ID: <486CDC7C.9020703@knmi.nl>

Hi,
Currently I am working on a driver which writes NetCDF4/NetCDF3, with a 
lot of metadata. The idea is that metadata from the sourcefiles will be 
available in the destination file, when using for example gdal_translate.
I am wondering why I can't retrieve metadata in the CreateCopy function, 
when I am using gdal in the WCS of UMN MapServer...
I use this: papszMetadata = GDALGetMetadata( (GDALDataset *) poDS,"");
This returns metadata when I use gdal_translate.
The problem is that no metadata is returned when I use the driver in UMN 
MapServer WCS.

I Guess it has something to do with mapserver creating a virtual layer, 
somewhere loosing the the information. Maybe mapserver thinks that only 
the raster data is necessary?
I see this in my loggings of apache:
GDAL: GDALDriver::Create(MEM,msSaveImageGDAL_temp,1440,720,1,Int16,(nil))

Please Help! What am I doing wrong? I guess there is a simple solution? 
Or is it true that metadata is lost in mapserver...?
Thanks in advance,
Maarten


-- 
Maarten Plieger
KNMI, R&D Information and Observation Technology, De Bilt
(t) +31 30 2206330 

From jordi.inglada at cnes.fr  Thu Jul  3 10:12:33 2008
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Thu Jul  3 10:12:40 2008
Subject: [gdal-dev] OTB Live CD at ISPRS and IGARSS
Message-ID: <1215094353.3154.125.camel@localhost>

Dear all,

We just wanted to announce that live CD's with OTB 2.2.0 will be
available for distribution during ISPRS (3-11 July) and IGARSS (6-11
July).

So for those of you going to either Beijing or Boston do not hesitate to
come to see us at the end of our presentations:

Emmanuel CHRISTOPHE (Eastern hemisphere)
and
Jordi INGLADA (Western hemisphere).

Will this be the beginning of OTB's World domination?

Meanwhile, you can download the OTB Live CD ISO image from
<http://www.melaneum.com/OTB/otblive/>.

Best regards,

J. Inglada

PS: As usual, all the information about OTB is at <http://otb.cnes.fr>.

-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 


From warmerdam at pobox.com  Thu Jul  3 10:18:20 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul  3 10:18:32 2008
Subject: [gdal-dev] Copying metadata - GDALGetMetadata returns nothing in
	UMN MapServer WCS
In-Reply-To: <486CDC7C.9020703@knmi.nl>
References: <486CDC7C.9020703@knmi.nl>
Message-ID: <486CDFAC.3000704@pobox.com>

Maarten Plieger wrote:
> Hi,
> Currently I am working on a driver which writes NetCDF4/NetCDF3, with a 
> lot of metadata. The idea is that metadata from the sourcefiles will be 
> available in the destination file, when using for example gdal_translate.
> I am wondering why I can't retrieve metadata in the CreateCopy function, 
> when I am using gdal in the WCS of UMN MapServer...
> I use this: papszMetadata = GDALGetMetadata( (GDALDataset *) poDS,"");
> This returns metadata when I use gdal_translate.
> The problem is that no metadata is returned when I use the driver in UMN 
> MapServer WCS.
> 
> I Guess it has something to do with mapserver creating a virtual layer, 
> somewhere loosing the the information. Maybe mapserver thinks that only 
> the raster data is necessary?

Maarten,

Yes, I believe this is the problem.  MapServer essentially renders into
a memory bitmap wraps this as a MEM dataset, and then writes to the output
format from that.  This loses all metadata except for the geolocation
(geotransform) which we recreate.

> I see this in my loggings of apache:
> GDAL: GDALDriver::Create(MEM,msSaveImageGDAL_temp,1440,720,1,Int16,(nil))
> 
> Please Help! What am I doing wrong? I guess there is a simple solution? 
> Or is it true that metadata is lost in mapserver...?

Generally, yes, that is what it means.

It is hard to know how to carry through metadata since a single WCS
layer could actually consist of many images.  If you wish to experiment
with this, I believe we would need a special way for mapwcs.c to pass
a template source dataset to msSaveImage() to use as a source of metadata
when writing (finally in msSaveImageGDAL()).

I have not pursued this angle because it is not entirely clear what
metadata it would be desirable to preserve, and because it is not "natural"
given the mapserver data flow model.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Thu Jul  3 11:26:40 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul  3 11:27:04 2008
Subject: [gdal-dev] Re: [SoC] SoC GDAL2Tiles: Status Report
In-Reply-To: <6e41d95b0806300912s3e18f088hbe9be75d3d387a61@mail.gmail.com>
References: <6e41d95b0806300912s3e18f088hbe9be75d3d387a61@mail.gmail.com>
Message-ID: <486CEFB0.7080208@pobox.com>

Klokan Petr P?idal wrote:
> Hi,
> 
> My SoC project description: http://trac.osgeo.org/gdal/wiki/SoCGDAL2Tiles
> 
> There are things we (gdal-dev) need to decide:
> 
> 1) Clearly define the role of GDAL2Tiles.
> The functionality is overlaying with gdal_retile.py utility.
> In my opinion gdal2tiles should be more gdal2webtiles ;-) -
> so it should concentrate more on TMS and Google Maps tiles
> (Spherical Mercator tiles), generation of a web viewer and KML
> SuperOverlay for Google Earth.
> 
> Is there a need for generation tiles in formats other then PNG/JPEG
> with tile type of bands other then RGB(A) 8-bit?
> What about functionality like generation shape file tileindex (for
> MapServer) or world files for produced tiles?
> The tile size is in the world of web tiles mostly fixed on 256x256
> (just iPhone needs smaller version 128x128, and NASA WorldWind has
> 512x512). I guess size of tiles should be variable (now GDAL2Tiles
> uses fixed 256).
> 
> Utility gdal_retile implements cutting into tiles as well, where is
> the border between those two utilities?

Klokan,

I would agree that gdal2tiles should focus on web ready tile tree
output rather than attempting to be a universal tile production script.

I must confess I'm not exactly clear on the boundary between
gdal2tiles and gdal_retile.  There might end up being some things that
could be done with either, but the key (I think) is to ensure that
web tile serving can be accomplished smoothly with gdal2tiles.py.

> 2) How to improve quality of rendering - scale algorithm is now nearest
> neighbour because GDAL2Tiles utilize GDAL's ReadRaster function, which
> should be fastest.
> Either I will query from GDAL bigger region with nearest
> algorithm and then downscale it inside of the NumPy Array, or I will
> switch to warping API (I will need that anyway for warping between map
> projections).
> 
> Does it make sense to implement the scale down in memory - because of
> speed, or I should not bother
> with that and simply use warping api, same as gdal_retile do? FrankW?

I'm not clear on how the whole process works.  I will warn that the
warp api resampling kernels are generally not suitable for massive
downscaling (as presumably is used for the higher level overviews).
Instead, something like averaging may be better.  You could accomplish
this in memory with numpy, or possibly, use the averaging logic used
for "gdaladdo" (the gdal overview builder).  I will be exposing this
logic through swig soon in trunk for other purposes.

> 3) I would like to have support for possibly all input data in
> gdal2tiles, it means to include for example functionality from pct2rgb.py into
> GDAL2TIles (people are complaing and reporting that as a bug).
> Same with the conversion from 16-bit and 1-bit bands into 8-bit.

I agree that "pct2rgb" and "scaling to 8bit" logic is desirable in
gdal2tiles.

> 4) Improvement on the speed of gdal2tiles - I thought about generating
> metatiles - something like 5 tiles with one request - in the row
> probably - to improve the speed on sequential-only drivers.
> JPEG is now horribly slow for example, any tips how to make GDAL2Tiles faster?

I can't answer off hand.  I'd like to see you spend some time analysing
and describing the performance bottlenecks in the current process and
then I might have useful advice.

For instance, is it jpeg read or writing that is slow?  Are you re-reading
input jpegs many times?  Are you reading small sections out of big jpegs?

> 5) I would like to see GDAL2TIles be able to warp the tiles -
> from different projections as well to remove the need to pre-process
> temporary file with gdalwarp.

I would expect this to be a substantial complication.  One alternative
might be to use a warped VRT as input to gdal2tiles (or generated with
gdal2tiles).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From john.tull at wildnevada.org  Thu Jul  3 11:50:39 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Thu Jul  3 11:51:14 2008
Subject: [gdal-dev] crop polygon GDAL
In-Reply-To: <BLU125-W2357BB21D91D331BE32017B9980@phx.gbl>
References: <mailman.2581.1215088109.3101.gdal-dev@lists.osgeo.org>
	<BLU125-W2357BB21D91D331BE32017B9980@phx.gbl>
Message-ID: <4C2D40C6-6486-48A7-B4FE-E335217C6FA6@wildnevada.org>

On Jul 3, 2008, at 5:49 AM, Harun ?ZT?RK wrote:

> Hi everyone,
>
> Is there a simple way to crop same part of raster using via gdal.  
> Could
> somebody send sample or usage of this operation? Thanks.

gdal_rasterize (http://www.gdal.org/gdal_rasterize.html) is worth a  
look. It is the only way I have found to do raster clips using a  
vector. It will not trim or crop the actual raster, so you likely want  
to reduce the raster to a rectangle that covers the coordinates of  
interest. You can use gdal_translate with the -projwin option, or use  
gdalwarp with the -te option.

Example crop:
gdal_rasterize -b 1 -b 2 -b 3 -burn 255 -l shapefile_layer_name -i  
shapefile.shp raster_file.tif

Regards,
John
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080703/14f51c4d/attachment.html
From frdcn at hotmail.com  Thu Jul  3 12:11:22 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Thu Jul  3 12:11:25 2008
Subject: [gdal-dev] Problems building gdal for win ce
In-Reply-To: <200807022310.26977.even.rouault@mines-paris.org>
References: <BAY110-W153CF0EC565DF6A20E3D41B2990@phx.gbl>
	<200807022310.26977.even.rouault@mines-paris.org>
Message-ID: <BAY110-W480BDF8EAF0F61BE3E4AD3B2980@phx.gbl>


Hi:

Thank you for the patch, it works correctly. I applied to my working copy of
trunk and It compiles without problem.

One more question, I had a problem with function VSI_STAT64
being undefined. I added the following define in src/port/cpl_config.h 

#define VSI_STAT64 stat

it compiles, but I am not sure if this is correct or it can
cause some problems later.

Regards
Godofredo Contreras



> From: even.rouault@mines-paris.org
> To: frdcn@hotmail.com
> Subject: Re: [gdal-dev] Problems building gdal for win ce
> Date: Wed, 2 Jul 2008 23:10:26 +0200
> CC: gdal-dev@lists.osgeo.org
> 
> Try the attached patch. Please confirm if it works (I've no WINCE available) 
> and I'll commit that
> 
> Index: port/cpl_strtod.cpp
> ===================================================================
> --- port/cpl_strtod.cpp (r?vision 14798)
> +++ port/cpl_strtod.cpp (copie de travail)
> @@ -145,6 +145,56 @@
>  /*                          CPLStrtodDelim()                            */
>  /************************************************************************/
> 
> +static void CPLReplacePointByLocalePoint(char* pszNumber, char point)
> +{
> +#if defined(WIN32CE)
> +    static char byPoint = 0;
> +    if (byPoint == 0)
> +    {
> +        char szBuf[16];
> +        sprintf(szBuf, "%.1f", 1.0);
> +        byPoint = szBuf[1];
> +    }
> +    if (point != byPoint)
> +    {
> +        int     i = 0;
> +
> +        while ( pszNumber[i] )
> +        {
> +            if ( pszNumber[i] == point )
> +            {
> +                pszNumber[i] = byPoint;
> +                break;
> +            }
> +            i++;
> +        }
> +    }
> +#else
> +    struct lconv *poLconv = localeconv();
> +    if ( poLconv
> +         && poLconv->decimal_point
> +         && strlen(poLconv->decimal_point) > 0 )
> +    {
> +        int     i = 0;
> +        char    byPoint = poLconv->decimal_point[0];
> +
> +        if (point != byPoint)
> +        {
> +            while ( pszNumber[i] )
> +            {
> +                if ( pszNumber[i] == point )
> +                {
> +                    pszNumber[i] = byPoint;
> +                    break;
> +                }
> +                i++;
> +            }
> +        }
> +    }
> +#endif
> +}
> +
> +
>  /**
>   * Converts ASCII string to floating point number using specified delimiter.
>   *
> @@ -170,30 +220,12 @@
>  /*  with the one, taken from locale settings and use standard strtod()  */
>  /*  on that buffer.                                                     */
>  /* -------------------------------------------------------------------- */
> -
> -    struct lconv *poLconv = localeconv();
>      char        *pszNumber = CPLStrdup( nptr );
>      double      dfValue;
>      int         nError;
> 
> -    if ( poLconv
> -         && poLconv->decimal_point
> -         && strlen(poLconv->decimal_point) > 0 )
> -    {
> -        int     i = 0;
> -        char    byPoint = poLconv->decimal_point[0];
> +    CPLReplacePointByLocalePoint(pszNumber, point);
> 
> -        while ( pszNumber[i] )
> -        {
> -            if ( pszNumber[i] == point )
> -            {
> -                pszNumber[i] = byPoint;
> -                break;
> -            }
> -            i++;
> -        }
> -    }
> -
>      dfValue = strtod( pszNumber, endptr );
>      nError = errno;
> 
> @@ -263,29 +295,12 @@
>  /*  on that buffer.                                                     */
>  /* -------------------------------------------------------------------- */
> 
> -    struct lconv *poLconv = localeconv();
>      char        *pszNumber = CPLStrdup( nptr );
>      double      dfValue;
>      int         nError;
> 
> -    if ( poLconv
> -         && poLconv->decimal_point
> -         && strlen(poLconv->decimal_point) > 0 )
> -    {
> -        int     i = 0;
> -        char    byPoint = poLconv->decimal_point[0];
> +    CPLReplacePointByLocalePoint(pszNumber, point);
> 
> -        while ( pszNumber[i] )
> -        {
> -            if ( pszNumber[i] == point )
> -            {
> -                pszNumber[i] = byPoint;
> -                break;
> -            }
> -            i++;
> -        }
> -    }
> -
>      dfValue = strtof( pszNumber, endptr );
>      nError = errno;
> 
> 
> Le Wednesday 02 July 2008 22:27:31 godofredo contreras, vous avez ?crit :
> > Hi:
> >
> > I?m trying to compile gdal for windows mobile, using windows mobile 5 sdk
> > and visual studio 2005 but  I?m getting an undefined reference to
> > localeconv in method  CPLStrtodDelim and undefined reference to
> > GDALWarpCutlineMasker in method GDALWarpOperation::WarpRegionToBuffer.
> >
> > Have someone had this problems, any idea to solve them?
> >
> > Thanks in advance
> > Godofredo Contreras
> >
> > _________________________________________________________________
> > Don't get caught with egg on your face. Play chicktionary!
> > http://club.live.com/chicktionary.aspx?icid=chick_wlhmtextlink1_feb
> 
> 

_________________________________________________________________
Windows Live Hotmail is giving away Zunes. Enter for your chance to win.
http://www.windowslive-hotmail.com/ZuneADay/?locale=en-US&ocid=TXT_TAGLM_Mobile_Zune_V3
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080703/689dd272/attachment.html
From even.rouault at mines-paris.org  Thu Jul  3 13:48:51 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Jul  3 13:48:56 2008
Subject: [gdal-dev] Problems building gdal for win ce
In-Reply-To: <BAY110-W480BDF8EAF0F61BE3E4AD3B2980@phx.gbl>
References: <BAY110-W153CF0EC565DF6A20E3D41B2990@phx.gbl>
	<200807022310.26977.even.rouault@mines-paris.org>
	<BAY110-W480BDF8EAF0F61BE3E4AD3B2980@phx.gbl>
Message-ID: <200807031948.52372.even.rouault@mines-paris.org>

I've commited the localeconv() workaround

> One more question, I had a problem with function VSI_STAT64
> being undefined. I added the following define in src/port/cpl_config.h
>
> #define VSI_STAT64 stat
>
> it compiles, but I am not sure if this is correct or it can
> cause some problems later.

In cpl_config.h.vc (regular Windows config file), I see :

#if (_MSC_VER < 1500)
#  define VSI_STAT64 _stat
#  define VSI_STAT64_T _stat
#else
#  define VSI_STAT64 _stat64
#  define VSI_STAT64_T __stat64
#endif

Maybe this works for WinCE too ? You might create a ticket to report about 
your findings.

>
> Regards
> Godofredo Contreras
>
From mhanson at photon.com  Thu Jul  3 14:24:20 2008
From: mhanson at photon.com (Matt Hanson)
Date: Thu Jul  3 14:24:28 2008
Subject: [gdal-dev] UTM zone
Message-ID: <0719BE42F22E0A46857DF72644EC5D70691E7B@pj-exchange.photon.com>

Hi, 

I'm using ogr2ogr to convert from a geographic coordinate system to UTM.
I've been specifying the EPSG code to use.  Is there a way for ogr2ogr
to automatically calculate the proper UTM zone from the geographic
extent?

matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080703/4d40d70b/attachment.html
From warmerdam at pobox.com  Thu Jul  3 14:44:17 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul  3 14:44:33 2008
Subject: [gdal-dev] UTM zone
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70691E7B@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70691E7B@pj-exchange.photon.com>
Message-ID: <486D1E01.5040006@pobox.com>

Matt Hanson wrote:
> Hi,
> 
> I?m using ogr2ogr to convert from a geographic coordinate system to 
> UTM.  I?ve been specifying the EPSG code to use.  Is there a way for 
> ogr2ogr to automatically calculate the proper UTM zone from the 
> geographic extent?

Matt,

No

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From neteler at osgeo.org  Thu Jul  3 16:07:21 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Jul  3 16:07:24 2008
Subject: [gdal-dev] UTM zone
In-Reply-To: <486D1E01.5040006@pobox.com>
References: <0719BE42F22E0A46857DF72644EC5D70691E7B@pj-exchange.photon.com>
	<486D1E01.5040006@pobox.com>
Message-ID: <86782b610807031307p39f8a546gd8a933f9da53e66c@mail.gmail.com>

On Thu, Jul 3, 2008 at 8:44 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Matt Hanson wrote:
>>
>> Hi,
>>
>> I'm using ogr2ogr to convert from a geographic coordinate system to UTM.
>>  I've been specifying the EPSG code to use.  Is there a way for ogr2ogr to
>> automatically calculate the proper UTM zone from the geographic extent?
>
> Matt,
>
> No

Matt,
you can find other scripts doing that here:
http://grass.osgeo.org/wiki/GRASS_AddOns#Miscellaneous_Add-ons

Markus
From frank.horowitz at csiro.au  Fri Jul  4 01:08:57 2008
From: frank.horowitz at csiro.au (Frank Horowitz)
Date: Fri Jul  4 01:19:33 2008
Subject: [gdal-dev] Reading ERS format with "HeaderOffset" field
Message-ID: <D6098B8C-E8A3-4595-B35E-39FE2C235D50@csiro.au>

Hi all,

We've been trying to read some ERS ("foo.ers") files in ERMapper raw  
raster format. While many of them work perfectly (thanks for the great  
software, BTW!) we're finding a bug in reading some of those files  
which incorporate the "HeaderOffset" field.

The obvious thing is happening when reading a file with such a header:  
the values are shifted right "HeaderOffset" pixels, and the header is  
being read as data in the image.

Looking through the code, I had a go a hacking (emphasis on hacking) a  
simple patch:

--- /home/bonzo3/frank/src/gdal/gdal_vanilla/gdal-1.5.1/frmts/ers/ 
ersdataset.cpp	2007-09-04 12:20:57.000000000 +0800
+++ ersdataset.cpp	2008-07-03 16:01:24.000000000 +0800
@@ -674,6 +674,16 @@
     poDS->nRasterYSize = atoi(poHeader- 
 >Find( "RasterInfo.NrOfLines" ));

/*  
-------------------------------------------------------------------- */
+/*     Get the HeaderOffset if it exists in the  
header                  */
+/*  
-------------------------------------------------------------------- */
+    int headerOffset;
+    headerOffset = 0;
+    if( poHeader->FindNode( "HeaderOffset" ) != NULL )
+    {
+       headerOffset = atoi(poHeader->Find( "HeaderOffset" ));
+    }
+
+/*  
-------------------------------------------------------------------- */
/*      Establish the data  
type.                                        */
/*  
-------------------------------------------------------------------- */
     GDALDataType eType;
@@ -776,9 +786,9 @@
                 poDS->SetBand(
                     iBand+1,
                     new RawRasterBand( poDS, iBand+1, poDS->fpImage,
-                                       iWordSize * iBand * poDS- 
 >nRasterXSize,
+                                       headerOffset + iWordSize *  
iBand * poDS->nRasterXSize,
                                        iWordSize,
-                                       iWordSize * nBands * poDS- 
 >nRasterXSize,
+                                       headerOffset + iWordSize *  
nBands * poDS->nRasterXSize,
                                        eType, bNative, TRUE ));
             }
         }

The trouble is, I'm shooting blind, without understanding details of  
GDAL's data model, API, codebase, etc. etc. etc. This patch does not  
appear to work, with results ranging from simple failure to account  
for the header when actually reading such a file to segfaults.

At this point, I'm going to ask for advice from the experts on this  
list. What else need to be done to actually do the job?

Thanks in advance for any help you might be able to provide!
	Cheers,
		Frank Horowitz
		CSIRO
		Perth, Australia




From 27949218 at qq.com  Fri Jul  4 05:18:34 2008
From: 27949218 at qq.com (=?ISO-8859-1?B?d293?=)
Date: Fri Jul  4 05:18:40 2008
Subject: [gdal-dev] about reading OGR feature style file *.ofs
Message-ID: <tencent_56266C4609CF37E83C941101@qq.com>

Hi,
     I have created a style file  border.ofs for a polygon shape file border.shp.  Here's the ofs file content:
 OFS-Version: 1.0
StyleField: ""
DefaultStyle: PEN(C:#000000) 
road:         PEN(c:#FF0000,w:5px)
lake:         BRUSH(fc:#0000FF);LINE(c:#000000)
billboard:    SYMBOL(c:#00FF00,id:"ogr-sym-9")
label:        LABEL(f:"Times New Roman",s:12pt,t:{"China"})
 When i try to get the style, i have the following two questions:
 1. Did ogr provide mathod to get style from *.ofs file, or we shall read it line by line  by users and then convert the style strings to Style Table to be accessed by OGRStyle referenced classes ?
    If it did, when call shape driver to read shp file, dose the driver automatically read the style into OGRLayer? if so, then how can i get style with OGRLayer?
 2. Is OGRLayer::GetStyleTable only available for getting style table from *.tlb file? I try to use it to read the above  file border.ofs   with  these codes:
   OGRStyleTable* pStyleTable;
  pStyleTable = pLayer->GetStyleTable();
  but failed. 
 Please help me. By the way, if someone has examples about styles, would you mail me some?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080704/685e8fc3/attachment.html
From szekerest at gmail.com  Fri Jul  4 06:34:24 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Jul  4 06:34:27 2008
Subject: [gdal-dev] about reading OGR feature style file *.ofs
In-Reply-To: <tencent_56266C4609CF37E83C941101@qq.com>
References: <tencent_56266C4609CF37E83C941101@qq.com>
Message-ID: <f3b73b7d0807040334r766eccbek5577a01560458982@mail.gmail.com>

Hi,

As far as I remember the OGR style table concept hasn't been
implemented yet. At the moment you can store the styles only at
feature level. If a driver doesn't support the feature level styles
internally then you can place the style strings into a field named
'OGR_STYLE' that can be handled by OGR automatically.

Best regards,

Tamas


2008/7/4 wow <27949218@qq.com>:
> Hi,
>   I have created a style file  border.ofs for a polygon shape file
> border.shp.  Here's the ofs file content:
> OFS-Version: 1.0
> StyleField: ""
> DefaultStyle: PEN(C:#000000)
> road:         PEN(c:#FF0000,w:5px)
> lake:         BRUSH(fc:#0000FF);LINE(c:#000000)
> billboard:    SYMBOL(c:#00FF00,id:"ogr-sym-9")
> label:        LABEL(f:"Times New Roman",s:12pt,t:{"China"})
> When i try to get the style, i have the following two questions:
> 1. Did ogr provide mathod to get style from *.ofs file, or we shall read it
> line by line  by users and then convert the style strings to Style Table to
> be accessed by OGRStyle referenced classes ?
>    If it did, when call shape driver to read shp file, dose the driver
> automatically read the style into OGRLayer? if so, then how can i get style
> with OGRLayer?
> 2. Is OGRLayer::GetStyleTable only available for getting style table from
> *.tlb file? I try to use it to read the above  file border.ofs   with  these
> codes:
>   OGRStyleTable* pStyleTable;
>   pStyleTable = pLayer->GetStyleTable();
>  but failed.
> Please help me. By the way, if someone has examples about styles, would you
> mail me some?
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From mwtoews at sfu.ca  Fri Jul  4 11:00:02 2008
From: mwtoews at sfu.ca (Michael Toews)
Date: Fri Jul  4 12:22:16 2008
Subject: [gdal-dev] GDAL Raster Formats table
Message-ID: <486E3AF2.10600@sfu.ca>

As someone who uses GDAL sporadically, I reference the GDAL Raster 
Formats table http://www.gdal.org/formats_list.html . It would be of 
great convenience for the table to have some additional columns:

    * Compression type (options should be: lossy, lossless, none)
    * Supports NoData (options should be: yes, no)
    * Number of bands (either a single number like 1 or 3, a range, or a
      known/unknown upper limit)

Is this too much of a request? I do see that the HTML is hand-edited, so 
I realize this might take some time to do. Thanks.

+mt
From warmerdam at pobox.com  Fri Jul  4 16:28:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jul  4 16:28:57 2008
Subject: [gdal-dev] GDAL Raster Formats table
In-Reply-To: <486E3AF2.10600@sfu.ca>
References: <486E3AF2.10600@sfu.ca>
Message-ID: <486E87ED.9010901@pobox.com>

Michael Toews wrote:
> As someone who uses GDAL sporadically, I reference the GDAL Raster 
> Formats table http://www.gdal.org/formats_list.html . It would be of 
> great convenience for the table to have some additional columns:
> 
>    * Compression type (options should be: lossy, lossless, none)
>    * Supports NoData (options should be: yes, no)
>    * Number of bands (either a single number like 1 or 3, a range, or a
>      known/unknown upper limit)
> 
> Is this too much of a request? I do see that the HTML is hand-edited, so 
> I realize this might take some time to do. Thanks.

Michael,

I'm not really that keen on making this table more complicated.  It is already
poorly maintained, and often out of sync with reality.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Jul  4 17:56:54 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jul  4 17:57:17 2008
Subject: [gdal-dev] Reading ERS format with "HeaderOffset" field
In-Reply-To: <D6098B8C-E8A3-4595-B35E-39FE2C235D50@csiro.au>
References: <D6098B8C-E8A3-4595-B35E-39FE2C235D50@csiro.au>
Message-ID: <486E9CA6.3090706@pobox.com>

Frank Horowitz wrote:
> Hi all,
> 
> We've been trying to read some ERS ("foo.ers") files in ERMapper raw 
> raster format. While many of them work perfectly (thanks for the great 
> software, BTW!) we're finding a bug in reading some of those files which 
> incorporate the "HeaderOffset" field.
> 
> The obvious thing is happening when reading a file with such a header: 
> the values are shifted right "HeaderOffset" pixels, and the header is 
> being read as data in the image.
> 
> Looking through the code, I had a go a hacking (emphasis on hacking) a 
> simple patch:
...
> +/* -------------------------------------------------------------------- */
> /*      Establish the data type.                                        */
> /* -------------------------------------------------------------------- */
>     GDALDataType eType;
> @@ -776,9 +786,9 @@
>                 poDS->SetBand(
>                     iBand+1,
>                     new RawRasterBand( poDS, iBand+1, poDS->fpImage,
> -                                       iWordSize * iBand * 
> poDS->nRasterXSize,
> +                                       headerOffset + iWordSize * iBand 
> * poDS->nRasterXSize,
>                                        iWordSize,
> -                                       iWordSize * nBands * 
> poDS->nRasterXSize,
> +                                       headerOffset + iWordSize * 
> nBands * poDS->nRasterXSize,
>                                        eType, bNative, TRUE ));
>             }
>         }
> 
> The trouble is, I'm shooting blind, without understanding details of 
> GDAL's data model, API, codebase, etc. etc. etc. This patch does not 
> appear to work, with results ranging from simple failure to account for 
> the header when actually reading such a file to segfaults.

The RawRasterBand() arguments are:

                  RawRasterBand( GDALDataset *poDS, int nBand, FILE * fpRaw,
                                 vsi_l_offset nImgOffset, int nPixelOffset,
                                 int nLineOffset,
                                 GDALDataType eDataType, int bNativeOrder,
                                 int bIsVSIL = FALSE, int bOwnsFP = FALSE );

the only one you need to offset by the header amount is nImgOffset.
It looks like you also modified the line offset.  Try it with:

                 poDS->SetBand(
                     iBand+1,
                     new RawRasterBand( poDS, iBand+1, poDS->fpImage,
                                        headerOffset + iWordSize * iBand * 
poDS->nRasterXSize,
                                        iWordSize,
                                        iWordSize * nBands * poDS->nRasterXSize,
                                        eType, bNative, TRUE ));

If that works, please submit a ticket with the patch and I'll apply
it in the master.   A small dataset demonstrating use of the header offset
would also be helpful.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From peter.vogt at jrc.it  Sat Jul  5 02:35:54 2008
From: peter.vogt at jrc.it (Peter Vogt)
Date: Sat Jul  5 02:36:16 2008
Subject: [gdal-dev] fwtools linux update
Message-ID: <486F164A.2030001@jrc.it>

Dear Frank,

the FWTools Linux version (2.0.6) seems to be a bit older than its 
Windows counterpart (2.2.2) and for example does not provide 
gdal2tiles.py, which is included in the Windows version for quite some 
time already. Would it be possible for you to build an updated Linux 
version of FWTools, including gdal2tiles?

best regards,
-peter
From warmerdam at pobox.com  Sat Jul  5 13:15:35 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Jul  5 13:15:58 2008
Subject: [gdal-dev] fwtools linux update
In-Reply-To: <486F164A.2030001@jrc.it>
References: <486F164A.2030001@jrc.it>
Message-ID: <486FAC37.6090504@pobox.com>

Peter Vogt wrote:
> Dear Frank,
> 
> the FWTools Linux version (2.0.6) seems to be a bit older than its 
> Windows counterpart (2.2.2) and for example does not provide 
> gdal2tiles.py, which is included in the Windows version for quite some 
> time already. Would it be possible for you to build an updated Linux 
> version of FWTools, including gdal2tiles?

Peter,

This might have been better discussed on the fwtools list.

I am currently unable to rebuild fwtools on linux due to the death of my
old server, and the differences in various versions of things on the new
one.  So, for the time being, FWTools builds for linux have ceased.

I do hope to resolve the issues at some point, but it is not very high
priority and there is no timeline.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From gregor at hostgis.com  Sat Jul  5 15:22:10 2008
From: gregor at hostgis.com (Gregor Mosheh)
Date: Sat Jul  5 15:30:06 2008
Subject: [gdal-dev] Re: fwtools linux
In-Reply-To: <486FAC37.6090504@pobox.com>
References: <486F164A.2030001@jrc.it> <486FAC37.6090504@pobox.com>
Message-ID: <486FC9E2.7070207@hostgis.com>

Hey, Frank.
Is there anything I/HostGIS can do to help with FWTools builds for 
Linux? We have servers to spare, and some expertise in building 
MapServer, and we do use FWTools when HostGIS Linux isn't appropriate.

What can we do to help?

-- 
Gregor Mosheh / Greg Allensworth    BS, A+, Network+, Security+, Server+
System Administrator, Lead Programmer
HostGIS development & hosting services, http://www.HostGIS.com/

"Remember that no one cares if you can back up,
  only if you can restore." - AMANDA
From warmerdam at pobox.com  Sat Jul  5 15:39:03 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Jul  5 15:39:31 2008
Subject: [gdal-dev] Re: fwtools linux
In-Reply-To: <486FC9E2.7070207@hostgis.com>
References: <486F164A.2030001@jrc.it> <486FAC37.6090504@pobox.com>
	<486FC9E2.7070207@hostgis.com>
Message-ID: <486FCDD7.6070901@pobox.com>

Gregor Mosheh wrote:
> Hey, Frank.
> Is there anything I/HostGIS can do to help with FWTools builds for 
> Linux? We have servers to spare, and some expertise in building 
> MapServer, and we do use FWTools when HostGIS Linux isn't appropriate.
> 
> What can we do to help?

Gregor,

It isn't the lack of a server that is the problem.  It is the fact that I've
now had to transition to a newer server with newer tools versions and it means
I have to update lots of bits and pieces to put together a working
distribution.

For the time being I'm putting much of my packaging effort into OSGeo4W
so I just am not making the day or so of work it will likely take to get
FWTools for linux working again.

Other than the lack of OpenEV, I would encourage folks to use other
Linux builds such as FGS or the DebianGIS binaries in the meantime.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From gregor at hostgis.com  Sat Jul  5 15:41:27 2008
From: gregor at hostgis.com (Gregor Mosheh)
Date: Sat Jul  5 15:41:27 2008
Subject: [gdal-dev] Re: fwtools linux
In-Reply-To: <486FCDD7.6070901@pobox.com>
References: <486F164A.2030001@jrc.it> <486FAC37.6090504@pobox.com>
	<486FC9E2.7070207@hostgis.com> <486FCDD7.6070901@pobox.com>
Message-ID: <486FCE67.7020508@hostgis.com>

Oops; I had meant to email off-list.

Frank Warmerdam wrote:
> It isn't the lack of a server that is the problem.  It is the fact that 
> I've now had to transition to a newer server with newer tools versions
...
> I have to update lots of bits and pieces to put together a working
> distribution.

Oy, tell me about it.


> For the time being I'm putting much of my packaging effort into OSGeo4W
> so I just am not making the day or so of work it will likely take to get
> FWTools for linux working again.

OSGeo4W? Is that the new name for MS4W? Very nice.


> Other than the lack of OpenEV, I would encourage folks to use other
> Linux builds such as FGS or the DebianGIS binaries in the meantime.

Fair enough. Thanks for the tip.

-- 
Gregor Mosheh / Greg Allensworth    BS, A+, Network+, Security+, Server+
System Administrator, Lead Programmer
HostGIS development & hosting services, http://www.HostGIS.com/

"Remember that no one cares if you can back up,
  only if you can restore." - AMANDA
From tutey at o2.pl  Sat Jul  5 17:54:37 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat Jul  5 17:53:25 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <486A3C9D.4060302@pobox.com>
References: <48622179.4030906@o2.pl> <4862508B.2010303@pobox.com>
	<48625D18.6060100@o2.pl> <48625F8A.1050108@pobox.com>
	<48692D31.9000101@o2.pl> <486A3C9D.4060302@pobox.com>
Message-ID: <486FED9D.5090404@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> how do I best fetch the list of *real* EPSG codes that my 
>> instalation of GDAL is able to recognize? Is extracting them from 
>> pcs.csv and gcs.csv a good approach?

> Yes

Cool. I only have a following problem - as I parse the pcs.csv and
gcs.csv like this [1], the following codes:

2218 2221 2296 2297 2298 2299 2300 2301 2302 2303 2304 2305 2306 2307
2963 2985 2986 3052 3053 3139 3144 3145 3173 3295 3410 3993 32600 32700

yield:

ERROR 6: EPSG PCS/GCS code <code goes here> not found in EPSG support
files. Is this a valid EPSG coordinate system?

I expected that a code extracted from pcs/gcs.csv should be valid for
GDAL. What am I missing?



Also, a couple of codes yield:

ERROR 6: No translation for Tunisia_Mining_Grid to PROJ.4 format is known.

ERROR 6: No translation for Transverse_Mercator_South_Orientated to
PROJ.4 format is known.

ERROR 6: No translation for Laborde_Oblique_Mercator to PROJ.4 format is
known.

I found a reference for that [2], so I briefly understand what's the
culprit and that we are just to ignore the problem for now. Out of
curiosity anyway - has there been any progress on the issue?

Maciek

[1]
for i in `awk 'NR>1' /usr/local/share/gdal/pcs.csv | cut -d, -f1`; do
printf "$i "; epsg_tr.py -proj4 $i; done

for i in `awk 'NR>1' /usr/local/share/gdal/gcs.csv | cut -d, -f1`; do
printf "$i "; epsg_tr.py -proj4 $i; done

[2]http://lists.osgeo.org/pipermail/gdal-dev/2008-February/016249.html

-- 
Maciej Sieczka
www.sieczka.org
From blake at hailmail.net  Mon Jul  7 01:22:55 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Mon Jul  7 01:30:53 2008
Subject: [gdal-dev] crop polygon GDAL
In-Reply-To: <BLU125-W2357BB21D91D331BE32017B9980@phx.gbl>
References: <mailman.2581.1215088109.3101.gdal-dev@lists.osgeo.org>
	<BLU125-W2357BB21D91D331BE32017B9980@phx.gbl>
Message-ID: <88BE908B-633E-411F-B45F-B85CF392C1A6@hailmail.net>


Gdal_translate with the -projwin or -srcwin options can essentially  
crop out of part of a raster given the bounding coordinates of interest.

An example can be found here:

http://trac.osgeo.org/gdal/wiki/FAQRaster#HowdoIusegdal_translatetoextractorclipasub-sectionofaraster


Dane


On Jul 3, 2008, at 5:49 AM, Harun ?ZT?RK wrote:

> Hi everyone,
>
> Is there a simple way to crop same part of raster using via gdal.  
> Could
> somebody send sample or usage of this operation? Thanks.
>
> Harun
>
>
> Connect to the next generation of MSN Messenger  Get it now!  
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080706/6167d1b3/attachment.html
From szekerest at gmail.com  Tue Jul  8 05:19:55 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jul  8 05:19:58 2008
Subject: [gdal-dev] Re: Calling OGR.SpatialReference.ImportFromWKT from
	vb.NET
In-Reply-To: <9C85452EF241E14EACF1FD68DD26329CC18D94@iwr-ml1hec.hec.ds.usace.army.mil>
References: <9C85452EF241E14EACF1FD68DD26329CC18D93@iwr-ml1hec.hec.ds.usace.army.mil>
	<9C85452EF241E14EACF1FD68DD26329CC18D94@iwr-ml1hec.hec.ds.usace.army.mil>
Message-ID: <f3b73b7d0807080219s5311eef3y88922277d31c1d29@mail.gmail.com>

Hi,

You cannot use ImportFromWkt at the moment due to a missing typemap in
the C# bindings. You might want to submit a ticket
http://trac.osgeo.org/gdal/newticket and I'll take care of
implementing it.

For an equivalent solution, you could also use the SpatialReference
constuctor that accepts the wkt as the constructor in the signature
below:

public SpatialReference(string wkt)

Best regards,

Tamas



2008/7/8 Ackerman, Cameron T HEC <Cameron.Ackerman@usace.army.mil>:
>
> Tamas:
>
> I received a bounce back from the list, stating  I am unable to post to the
> mailing list.  I was unable to identify the need to create an account or sign
> up in order to post.  Please see below...
>
> cam
>
> -----Original Message-----
> From: Ackerman, Cameron T HEC
> Sent: Monday, July 07, 2008 4:43 PM
> To: gdal-dev@lists.osgeo.org
> Cc: Smith, Michael ERDC-CRREL-NH
> Subject: Calling OGR.SpatialReference.ImportFromWKT from vb.NET
>
> Hi Dev Team:
>
> I'm struggling with the usage of the OGR.SpatialReference.ImportFromWKT
> method.  I would like to generate a Spatial Reference from a file or string.
>
> The ImportFromWkt method uses a SWIGTYPE_p_p_char type, which I cannot figure
> out how to generate.
>
> Sample code looks something like this:
>    Dim fn As String = dataPath & "\" & "epsg_3785.wkt"
>    Dim r As New System.IO.StreamReader(fn)
>    Dim wkt As String = r.ReadToEnd()
>    Dim sr As New OSGeo.OGR.SpatialReference("")
>
>    Dim argh As New OSGeo.OGR.SWIGTYPE_p_p_char
>    argh = CChar(sr)
>
>    sr.ImportFromWkt(argh)
>
> Thanks for any insight.
> As you can see from the above, I'm trying to create a spatial reference
> for EPSG code 3785 (which isn't supported currently when trying the
> ImportFromEPSG).
>
> Thanks,
> cam
>
>
> Cameron T. Ackerman, P.E., D.WRE
> Hydraulic Engineer
> US Army Corps of Engineers, Institute for Water Resources
> Hydrologic Engineering Center, CEIWR-HEC
> 609 Second St., Davis CA 95616
> 530.756.1104
>
> cameron.t.ackerman@usace.army.mil
> www.hec.usace.army.mil
>
>
From antonio.valentino at tiscali.it  Tue Jul  8 06:50:09 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Tue Jul  8 06:50:16 2008
Subject: [gdal-dev] coarse co-registration
Message-ID: <20080708125009.59424250@tiscali.it>

Hi,

I have 3 different SAR datasets of the same area and I would like to
generate an RGB image from them.

How can I get data re-sampled on the same grid using GDAL utilities?

Thanks

-- 
Antonio Valentino
From antonio.valentino at tiscali.it  Tue Jul  8 08:48:17 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Tue Jul  8 08:48:25 2008
Subject: [gdal-dev] coarse co-registration
In-Reply-To: <20080708125009.59424250@tiscali.it>
References: <20080708125009.59424250@tiscali.it>
Message-ID: <20080708144817.4bba97af@tiscali.it>

Il giorno Tue, 8 Jul 2008 12:50:09 +0200
Antonio Valentino <antonio.valentino@tiscali.it> ha scritto:

> Hi,
> 
> I have 3 different SAR datasets of the same area and I would like to
> generate an RGB image from them.
> 
> How can I get data re-sampled on the same grid using GDAL utilities?
> 
> Thanks
> 


OK.

Solved with gdal_merge.py

-- 
Antonio Valentino
From plieger at knmi.nl  Tue Jul  8 08:50:35 2008
From: plieger at knmi.nl (Maarten Plieger)
Date: Tue Jul  8 08:51:52 2008
Subject: [gdal-dev] Copying metadata - GDALGetMetadata returns nothing
	in UMN MapServer WCS
Message-ID: <4873629B.3090404@knmi.nl>

Frank,
Thanks a lot for your help. I managed to pass the metadata through 
mapserver with just a few lines of code, by modifying the files you 
mentioned, and by adding a pointer named papszMetadata to mapserver.h.
The GDALDataset->SetMetadata (char **,"") and char ** GDALGetMetadata( 
(GDALDataset *) poDS,""); functions do now also work with UMN Mapserver 
WCS.

In the attachment a patch for UMN MapServer is provided which makes the 
metadata functions work. What it does is basically get the metadata with 
GDALGetMetadata in mapwcs.h, and set the metadata by using 
GDALSetMetadata in mapgdal.c. I use CSLDuplicate and CSLDestroy to 
duplicate and to destroy the metadata.
Duplicating the metadata means that is also needs to be destroyed. I 
added an extra parameter to the function msWCSGetCoverageMetadata to say 
whether it should Duplicate the global metadata or not.
 This is the function: static int msWCSGetCoverageMetadata( layerObj 
*layer, coverageMetadataObj *cm, int copymeta) ;
When copymeta is set to TRUE, the metadata is copied,  and 
cm->papszMetadata needs to be destroyed somewhere.
(I guess there is space for some improvement)

The patch can be applied on the mapserver-5.0.2 directory. (tar -xzvf 
mapserver-5.0.2.tar.gz; patch -p0 <mapserver-5.0.2_metadata.patch)

You should be cautious when using metadata with multiple layers, I use 
one layer at a time.

Best Regards,
 Maarten

PS: if you want to use netcdf or hdf files with subdatasets using UMN 
MapServer WCS, you should also apply the mapserver-5.0.2_mapstring patch

Frank Warmerdam schreef:
Maarten Plieger wrote:
> Hi,
> Currently I am working on a driver which writes NetCDF4/NetCDF3, with 
> a lot of metadata. The idea is that metadata from the sourcefiles will 
> be available in the destination file, when using for example 
> gdal_translate.
> I am wondering why I can't retrieve metadata in the CreateCopy 
> function, when I am using gdal in the WCS of UMN MapServer...
> I use this: papszMetadata = GDALGetMetadata( (GDALDataset *) poDS,"");
> This returns metadata when I use gdal_translate.
> The problem is that no metadata is returned when I use the driver in 
> UMN MapServer WCS.
>
> I Guess it has something to do with mapserver creating a virtual 
> layer, somewhere loosing the the information. Maybe mapserver thinks 
> that only the raster data is necessary?

Maarten,

Yes, I believe this is the problem.  MapServer essentially renders into
a memory bitmap wraps this as a MEM dataset, and then writes to the output
format from that.  This loses all metadata except for the geolocation
(geotransform) which we recreate.

> I see this in my loggings of apache:
> GDAL: GDALDriver::Create(MEM,msSaveImageGDAL_temp,1440,720,1,Int16,(nil))
>
> Please Help! What am I doing wrong? I guess there is a simple 
> solution? Or is it true that metadata is lost in mapserver...?

Generally, yes, that is what it means.

It is hard to know how to carry through metadata since a single WCS
layer could actually consist of many images.  If you wish to experiment
with this, I believe we would need a special way for mapwcs.c to pass
a template source dataset to msSaveImage() to use as a source of metadata
when writing (finally in msSaveImageGDAL()).

I have not pursued this angle because it is not entirely clear what
metadata it would be desirable to preserve, and because it is not "natural"
given the mapserver data flow model.

Best regards,

-- 
Maarten Plieger
KNMI, R&D Information and Observation Technology, De Bilt
(t) +31 30 2206330 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: mapserver-5.0.2_metadata.patch
Type: text/x-patch
Size: 5177 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080708/702d70b1/mapserver-5.0.2_metadata.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mapserver-5.0.2_mapstring.patch
Type: text/x-patch
Size: 569 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080708/702d70b1/mapserver-5.0.2_mapstring.bin
From mike.nidel at lmco.com  Tue Jul  8 09:24:22 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Tue Jul  8 09:25:25 2008
Subject: [gdal-dev] SWIG java build error GDAL 1.5
Message-ID: <4AED24BD6C1AA742B80AFBB823D0655A0EE0C7A9@emss09m03.us.lmco.com>

I'm building GDAL 1.5 from the branch, platform is Win32 with VC 9.0.

I'm getting the following error when running

nmake /f makefile.vc java

from GDAL_HOME/swig



   Creating library osrjni.lib and object osrjni.exp
        set JAVA_HOME="C:\Program Files\Java\jdk1.5.0_14"
        C:\apache-ant-1.6.3\bin\ant
Files\Java\jdk1.5.0_14"" was unexpected at this time.
NMAKE : fatal error U1077: 'C:\apache-ant-1.6.3\bin\ant.BAT' : return
code '0xff
'
Stop.
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
9.0\VC\BIN
\nmake.EXE"' : return code '0x2'
Stop.


Has anyone else seen this?

If I remove the line

  set JAVA_HOME="$(JAVA_HOME)"


on line 14 of swig/java/makefile.vc then the build works fine.

I see that there is an attempt here to account for JAVA_HOME variables
with spaces (e.g. C:\Program Files\Java...). I did need to make a
separate modification to nmake.opt: change

JAVA_INCLUDE=-I$(JAVA_HOME)\include -I$(JAVA_HOME)\include\win32

to

JAVA_INCLUDE=-I"$(JAVA_HOME)\include" -I"$(JAVA_HOME)\include\win32"


Perhaps these changes should be checked into the branch?

thanks,

Mike
From c.schitka at gmail.com  Tue Jul  8 11:42:07 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Tue Jul  8 11:42:12 2008
Subject: [gdal-dev] Process many DEM's into 1
Message-ID: <e66a4dbf0807080842u1945cc89u19c5ae6de98a0559@mail.gmail.com>

Hi List,

You guys have been great. Today my problem is I've downloaded 400 dem's from
an FTP server I was wondering if there was anyway using FWTools or what have
you, to turn many dem's into 1 dem. The files are seperate and together
cover one contiguous area. Rather then opening every one I would like to
turn them into 1 file so all i have to do is open 1 of them.

Thanks for the help
Courtney.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080708/e6b9407c/attachment.html
From oliver.eichler at gmx.de  Tue Jul  8 11:48:41 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Tue Jul  8 11:52:56 2008
Subject: [gdal-dev] Process many DEM's into 1
In-Reply-To: <e66a4dbf0807080842u1945cc89u19c5ae6de98a0559@mail.gmail.com>
References: <e66a4dbf0807080842u1945cc89u19c5ae6de98a0559@mail.gmail.com>
Message-ID: <200807081748.41918.oliver.eichler@gmx.de>

On Tuesday, 8. July 2008 17:42:07 Courtney Schitka wrote:
> Hi List,
>
> You guys have been great. Today my problem is I've downloaded 400 dem's
> from an FTP server I was wondering if there was anyway using FWTools or
> what have you, to turn many dem's into 1 dem. The files are seperate and
> together cover one contiguous area. Rather then opening every one I would
> like to turn them into 1 file so all i have to do is open 1 of them.
>

I would try to do:

gdalwarp <file1> <file2> ... <outputfile>

Oliver
From wollez at gmx.net  Tue Jul  8 11:55:12 2008
From: wollez at gmx.net (WolfgangZ)
Date: Tue Jul  8 11:55:23 2008
Subject: [gdal-dev] coordinate transformation problem in python
Message-ID: <g502l1$bkb$1@ger.gmane.org>

Hi all,

I was trying to program a short script in python to do coordinate 
transformation from latlong/WGS84 to GaussKr?ger Zone 4. An example how 
to do that is on the gdal web page. To keep it simple I used the EPSG 
codes. Here my code (ps I know that it should be "from osgeo import ogr" 
but I run my code on the recent version of FWTools 2.2.2):

import ogr

#original SRS
oSRS=ogr.osr.SpatialReference()
oSRS.ImportFromEPSG(4326)

#target SRS
tSRS=ogr.osr.SpatialReference()
tSRS.ImportFromEPSG(31468)

poCT=ogr.osr.CoordinateTransformation(oSRS,tSRS)

x=12.074760
y=47.893320
res=poCT.TransformPoint(x,y,0.)
print 'x= %10.2f , y= %10.2f' % (res[0],res[1])


The result is
x= 4505693.98 , y= 5306127.81

I checked against another software and got a different result:
4505697, 5306126

Then I tried it with cs2cs.exe ad the result from there is:
cs2cs.exe +proj=latlong +datum=WGS84 +to +proj=tmerc +lat_0=0 +lon_0=12 
k=1.000000 +x_0=4500000 +y_0=0 +ellps=bessel 
+towgs84=591.28,81.35,396.39,1.477,-0.0736,-1.458,9.82 +units=m +no_defs
12.074760 47.893320
4505696.75      5306125.78 -52.43

I suppose the my python code is ignoring the different ellipsoid. Is 
that behaviour desired? What about other gdal software like gdalwarp?

Thanks for any clarification.
Wolfgang


From wollez at gmx.net  Tue Jul  8 12:05:21 2008
From: wollez at gmx.net (WolfgangZ)
Date: Tue Jul  8 12:05:35 2008
Subject: [gdal-dev] Re: coordinate transformation problem in python
In-Reply-To: <g502l1$bkb$1@ger.gmane.org>
References: <g502l1$bkb$1@ger.gmane.org>
Message-ID: <g50382$dkl$1@ger.gmane.org>

WolfgangZ schrieb:
> Hi all,
> 
> I was trying to program a short script in python to do coordinate 
> transformation from latlong/WGS84 to GaussKr?ger Zone 4. An example how 
> to do that is on the gdal web page. To keep it simple I used the EPSG 
> codes. Here my code (ps I know that it should be "from osgeo import ogr" 
> but I run my code on the recent version of FWTools 2.2.2):
> 
> import ogr
> 
> #original SRS
> oSRS=ogr.osr.SpatialReference()
> oSRS.ImportFromEPSG(4326)
> 
> #target SRS
> tSRS=ogr.osr.SpatialReference()
> tSRS.ImportFromEPSG(31468)
> 
> poCT=ogr.osr.CoordinateTransformation(oSRS,tSRS)
> 
> x=12.074760
> y=47.893320
> res=poCT.TransformPoint(x,y,0.)
> print 'x= %10.2f , y= %10.2f' % (res[0],res[1])
> 
> 
> The result is
> x= 4505693.98 , y= 5306127.81
> 
> I checked against another software and got a different result:
> 4505697, 5306126
> 
> Then I tried it with cs2cs.exe ad the result from there is:
> cs2cs.exe +proj=latlong +datum=WGS84 +to +proj=tmerc +lat_0=0 +lon_0=12 
> k=1.000000 +x_0=4500000 +y_0=0 +ellps=bessel 
> +towgs84=591.28,81.35,396.39,1.477,-0.0736,-1.458,9.82 +units=m +no_defs
> 12.074760 47.893320
> 4505696.75      5306125.78 -52.43
> 
> I suppose the my python code is ignoring the different ellipsoid. Is 
> that behaviour desired? What about other gdal software like gdalwarp?
> 
> Thanks for any clarification.
> Wolfgang

to extent the example, cs2cs gives the same result when using the EPSG 
codes:

cs2cs.exe +init=EPSG:4326 +to +init=EPSG:31468
12.074760 47.893320
4505693.98      5306127.81 -3.67

Regards
Wolfgang

From warmerdam at pobox.com  Tue Jul  8 12:29:53 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul  8 12:30:20 2008
Subject: [gdal-dev] coordinate transformation problem in python
In-Reply-To: <g502l1$bkb$1@ger.gmane.org>
References: <g502l1$bkb$1@ger.gmane.org>
Message-ID: <48739601.9090208@pobox.com>

WolfgangZ wrote:
> #target SRS
> tSRS=ogr.osr.SpatialReference()
> tSRS.ImportFromEPSG(31468)

Wolfgang,

When I check what OGR uses for EPSG:31468 I see:

    +proj=tmerc +lat_0=0 +lon_0=12 +k=1 +x_0=4500000 +y_0=0 +ellps=bessel 
+datum=potsdam +units=m +no_defs

I see that PROJ defines datum=potsdam as:

      potsdam bessel       towgs84=606.0,23.0,413.0
                           Potsdam Rauenberg 1950 DHDN

> Then I tried it with cs2cs.exe ad the result from there is:
> cs2cs.exe +proj=latlong +datum=WGS84 +to +proj=tmerc +lat_0=0 +lon_0=12 
> k=1.000000 +x_0=4500000 +y_0=0 +ellps=bessel 
> +towgs84=591.28,81.35,396.39,1.477,-0.0736,-1.458,9.82 +units=m +no_defs
> 12.074760 47.893320
> 4505696.75      5306125.78 -52.43
> 
> I suppose the my python code is ignoring the different ellipsoid. Is 
> that behaviour desired? What about other gdal software like gdalwarp?

So in my opinion you are getting different results between cs2cs and
OGR because OGR uses different datum definitions than you are using.

You might be better off uses importFromProj4() instead of ImportFromEPSG()
if you have particular ideas on the datum shift you want to use.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Tue Jul  8 16:44:27 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Jul  8 16:44:36 2008
Subject: [gdal-dev] Process many DEM's into 1
In-Reply-To: <200807081748.41918.oliver.eichler@gmx.de>
References: <e66a4dbf0807080842u1945cc89u19c5ae6de98a0559@mail.gmail.com>
	<200807081748.41918.oliver.eichler@gmx.de>
Message-ID: <4873D1AB.8050102@gov.yk.ca>

Hi Courtney, Oliver,

 > I would try to do:
 >
 > gdalwarp <file1> <file2> ... <outputfile>

Depending on the source data, this may not handle overlap between tiles 
very well. For the canadian CDED dems from geobase.ca I had to use the 
src and dstnodata options:

   gdalwarp -srcnodata -32767 -dstnodata -32767 ...etc

It can also speed up things dramatically to use the -wm and -multi 
options (working memory and multithreaded).

Some scripts I used are at 
http://sydney.freeearthfoundation.com/mattwilkie/draft/canada_50k_dem/scripts/

(Unlike the script there, don't use "-co compress=lzw" though! it will 
make your images larger than if no compression is used. 
http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#a-coCOMPRESSisbroken )

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


Oliver Eichler wrote:
> On Tuesday, 8. July 2008 17:42:07 Courtney Schitka wrote:
>> Hi List,
>>
>> You guys have been great. Today my problem is I've downloaded 400 dem's
>> from an FTP server I was wondering if there was anyway using FWTools or
>> what have you, to turn many dem's into 1 dem. The files are seperate and
>> together cover one contiguous area. Rather then opening every one I would
>> like to turn them into 1 file so all i have to do is open 1 of them.
>>
> 
> I would try to do:
> 
> gdalwarp <file1> <file2> ... <outputfile>
> 
> Oliver
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From neteler at osgeo.org  Tue Jul  8 17:19:28 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Tue Jul  8 17:19:31 2008
Subject: [gdal-dev] Process many DEM's into 1
In-Reply-To: <200807081748.41918.oliver.eichler@gmx.de>
References: <e66a4dbf0807080842u1945cc89u19c5ae6de98a0559@mail.gmail.com>
	<200807081748.41918.oliver.eichler@gmx.de>
Message-ID: <86782b610807081419j102bf61ew59fdf79a716aed60@mail.gmail.com>

On Tue, Jul 8, 2008 at 5:48 PM, Oliver Eichler <oliver.eichler@gmx.de> wrote:
> On Tuesday, 8. July 2008 17:42:07 Courtney Schitka wrote:
>> Hi List,
>>
>> You guys have been great. Today my problem is I've downloaded 400 dem's
>> from an FTP server I was wondering if there was anyway using FWTools or
>> what have you, to turn many dem's into 1 dem. The files are seperate and
>> together cover one contiguous area. Rather then opening every one I would
>> like to turn them into 1 file so all i have to do is open 1 of them.
>>
>
> I would try to do:
>
> gdalwarp <file1> <file2> ... <outputfile>

You can also use wildcards like "file*.tif". See

http://gfoss.blogspot.com/2008/06/gdal-raster-data-tips-and-tricks.html
-> Merging many small adjacent DEMs into one big map (B)

Markus
From ozturkhar at hotmail.com  Wed Jul  9 01:55:51 2008
From: ozturkhar at hotmail.com (kalapu)
Date: Wed Jul  9 01:55:54 2008
Subject: [Gdal-dev] crop polygon GDAL
Message-ID: <18258147.post@talk.nabble.com>


Is there a simple way to crop same part of raster using via gdal. Could
somebody send sample or usage of this operation? Thanks.
-- 
View this message in context: http://www.nabble.com/crop-polygon-GDAL-tp18258147p18258147.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From yann.chemin at gmail.com  Wed Jul  9 02:54:20 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Wed Jul  9 02:54:23 2008
Subject: [gdal-dev] how to create a latitude map
Message-ID: <4f37eb890807082354t2963cae3pec62c550ed7a9ca4@mail.gmail.com>

Hello,

how would you go to write a GDAL-based code to return latitude (or
longitude) as pixel values?

Thanks,
Yann

-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
---------------------------------------------------
Opportunities are usually disguised as hard work,
so most people don't recognize them.
From amendizabal at indra.es  Wed Jul  9 03:04:53 2008
From: amendizabal at indra.es (Mendizabal Vicente, Ainhoa)
Date: Wed Jul  9 03:04:56 2008
Subject: [gdal-dev] CoordinateTransformation towgs84 parameter
Message-ID: <B3335C9766DAB244A0EA827A798E3C876574FE@MADARRMAIL3.indra.es>

Hi all, 

 

I just want to know if the "OGRCreateCoordinateTransformation" function
takes into account the names of the datums involved (specified in the
WKT), or if it is necessary to specify the TOWGS84 parameter for each
Coordinate System. In this case, where I can get this parameter for each
datum?

 

Thanks a lot

 

Ainhoa Mendizabal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080709/b1a573d7/attachment.html
From yann.chemin at gmail.com  Wed Jul  9 06:41:37 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Wed Jul  9 06:41:41 2008
Subject: [gdal-dev] Re: how to create a latitude map
In-Reply-To: <4f37eb890807082354t2963cae3pec62c550ed7a9ca4@mail.gmail.com>
References: <4f37eb890807082354t2963cae3pec62c550ed7a9ca4@mail.gmail.com>
Message-ID: <4f37eb890807090341h301f3e78i18c7bdc8bb899592@mail.gmail.com>

...answering to it:

double geomx[6]={0.0};
double longitude, latitude;
if(GDALGetGeoTransform(hDataset1,geomx)==CE_None){
             /* Do Nothing */
} else {
             printf("ERROR: Projection acquisition problem from Band1\n");
             exit(1);
}
latitude = geomx[3] + geomx[4] * col + geomx[5] * row;



2008/7/9 Yann Chemin <yann.chemin@gmail.com>:
> Hello,
>
> how would you go to write a GDAL-based code to return latitude (or
> longitude) as pixel values?
>
> Thanks,
> Yann
>
> --
> Yann Chemin
> International Rice Research Institute
> Office: http://www.irri.org/gis
> Perso: http://www.freewebs.com/ychemin
> ---------------------------------------------------
> Opportunities are usually disguised as hard work,
> so most people don't recognize them.
>



-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
---------------------------------------------------
Opportunities are usually disguised as hard work,
so most people don't recognize them.
From klokan at klokan.cz  Wed Jul  9 07:22:08 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Wed Jul  9 07:22:11 2008
Subject: [gdal-dev] GDAL2TILES - tiles background color
In-Reply-To: <190430c0806172236u5e685005j140281b86f46883c@mail.gmail.com>
References: <190430c0806172236u5e685005j140281b86f46883c@mail.gmail.com>
Message-ID: <6e41d95b0807090422o75133dc4vab5a26071597770e@mail.gmail.com>

Hello folks,

I was discussing this problem with Gianni, he is using GDAL2Tiles for
publishing aerial imagery in a project for Italian government.
The problem was not in the GDAL2Tiles application but in the input
data. That raster had white nodata areas, but it was in loosy
compression (ECW), so I suggested this workflow, which runs well:

nearblack -white -o stintino.tif stintino.ecw
gdalwarp -srcnodata 255 -dstalpha stintino.tif stintino-with-alpha.tif
gdal2tiles stintino-with-alpha.tif

- First step is generating real white in the almost white areas (ECW is
uses loosy compression so white is not 255,255,255 but sometimes
252,254,255 etc.)

- Second step converts the raster with real white (RGB) to raster with
transparency - gdalinfo tells you: 4 bands (RGBA)

- Third is generation of the tiles from file with transparency..

For Google Earth overlay tiles you need to specify in the third step
(gdalwarp) the projection of Google Earth, e.g. "-t_srs epsg:4326".

Just in case somebody will have similar problems, to have a solution
in conference archive...

Best regards

Klokan

BTW Is there any plan to add -dstalpha (generation of alpha channel)
to nearblack utility?

On Wed, Jun 18, 2008 at 7:36 AM, Gianni Barrotta
<giannibarrotta@gmail.com> wrote:
> Hi list,
> I need some advice on gdal2tiles; I need to customize the background color
> for tiles, now gdal2tiles generate white  color in the nodata border for
> maps with width and height not modulo 256.
> I've read in this ticket:
> http://trac.osgeo.org/gdal/ticket/1763
> that the nodata value should be selectable, but I can't find a way to do so.
> Could you please help me?
> Thank's.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Wed Jul  9 07:54:02 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  9 07:54:30 2008
Subject: [gdal-dev] GDAL2TILES - tiles background color
In-Reply-To: <6e41d95b0807090422o75133dc4vab5a26071597770e@mail.gmail.com>
References: <190430c0806172236u5e685005j140281b86f46883c@mail.gmail.com>
	<6e41d95b0807090422o75133dc4vab5a26071597770e@mail.gmail.com>
Message-ID: <4874A6DA.2080903@pobox.com>

Klokan Petr P?idal wrote:
> BTW Is there any plan to add -dstalpha (generation of alpha channel)
> to nearblack utility?


Klokan,

There are no plans to add this though it would be fairly easy and I can
see that it would be desirable.

I would add that nearblack was recently upgraded (in trunk) to scan in
from the top and bottom as well as from the sides and so does a better
job than it used to.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Wed Jul  9 08:35:43 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  9 08:36:02 2008
Subject: [gdal-dev] CoordinateTransformation towgs84 parameter
In-Reply-To: <B3335C9766DAB244A0EA827A798E3C876574FE@MADARRMAIL3.indra.es>
References: <B3335C9766DAB244A0EA827A798E3C876574FE@MADARRMAIL3.indra.es>
Message-ID: <4874B09F.3020501@pobox.com>

Mendizabal Vicente, Ainhoa wrote:
> Hi all,
> 
>  
> 
> I just want to know if the ?OGRCreateCoordinateTransformation? function 
> takes into account the names of the datums involved (specified in the 
> WKT), or if it is necessary to specify the TOWGS84 parameter for each 
> Coordinate System. In this case, where I can get this parameter for each 
> datum?

Ainhoa,

The names of datums are generally not significant to OGR, with a few
exceptions (ie. special rules for recognising NAD27 for instance).

Generally, with the exception of NAD27, you should attempt to provide a
TOWGS84 parameter if you want datum shifts.

Finding appropriate values is difficult.  The EPSG database has some (often
multiple possibilities per datum).  There are a variety of other sources,
such as national mapping agencies.  Which value is best often depends on
the region of interest within the applicable area of the datum.

I have no good answer.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Wed Jul  9 09:13:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  9 09:14:11 2008
Subject: [gdal-dev] how to create a latitude map
In-Reply-To: <4f37eb890807082354t2963cae3pec62c550ed7a9ca4@mail.gmail.com>
References: <4f37eb890807082354t2963cae3pec62c550ed7a9ca4@mail.gmail.com>
Message-ID: <4874B98C.9060406@pobox.com>

Yann Chemin wrote:
> Hello,
> 
> how would you go to write a GDAL-based code to return latitude (or
> longitude) as pixel values?

Yann,

You are wanting to write this in C/C++?

Loosely speaking I think you need to:

  o Create a GDAL GenImgProjTransformer from the image to lat/long.
  o Invoke the transformer for each pixel in the image, and record the
    results to a new output band/file.

You might look at gdal/apps/gdaltransform.cpp as an example of how to
create an image transformer (a function for transforming from image
coordinates to some other image or georeferenced coordinates).

Invoking a transformer is a bit expensive, so call it on an array of
locations for a whole line, rather than making a call for each pixel.

The following docs may be of help:

   http://www.gdal.org/ogr/osr_tutorial.html
   http://www.gdal.org/gdal__alg_8h.html#7671696d085085a0bfba3c3df9ffcc0a

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From roth.luke at gmail.com  Wed Jul  9 09:31:12 2008
From: roth.luke at gmail.com (Luke Roth)
Date: Wed Jul  9 09:31:15 2008
Subject: [gdal-dev] SpatiaLite
Message-ID: <20ecc0f10807090631p60611f76gfa237452f8557b77@mail.gmail.com>

I've just noticed that SpatiaLite 2.0 has been released.  For those
not familiar with SpatiaLite, it's a pretty full-featured spatial
extension to SQLite (now supporting spatial indexing via R-trees, as
well as OpenGIS functions & spatial metadata).  I know there's some
support for SQLite in OGR, but the last time I checked it was
incomplete; would it be worth looking into integrating this package
into OGR instead of replicating it?  I don't know enough about the OGR
internals to know how difficult this would be.  One possible roadblock
would be the LGPL license, although if OGR simply links to the
SpatiaLite DLL I imagine this would be OK.

Luke
From warmerdam at pobox.com  Wed Jul  9 09:44:22 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  9 09:44:53 2008
Subject: [gdal-dev] SpatiaLite
In-Reply-To: <20ecc0f10807090631p60611f76gfa237452f8557b77@mail.gmail.com>
References: <20ecc0f10807090631p60611f76gfa237452f8557b77@mail.gmail.com>
Message-ID: <4874C0B6.1070302@pobox.com>

Luke Roth wrote:
> I've just noticed that SpatiaLite 2.0 has been released.  For those
> not familiar with SpatiaLite, it's a pretty full-featured spatial
> extension to SQLite (now supporting spatial indexing via R-trees, as
> well as OpenGIS functions & spatial metadata).  I know there's some
> support for SQLite in OGR, but the last time I checked it was
> incomplete; would it be worth looking into integrating this package
> into OGR instead of replicating it?  I don't know enough about the OGR
> internals to know how difficult this would be.  One possible roadblock
> would be the LGPL license, although if OGR simply links to the
> SpatiaLite DLL I imagine this would be OK.

Luke,

There are a couple ways of integrating SpatialLite.

1) One is just to add OGR support for the SpatialLite geometry format,
but not to directly take advantage of SpatialLite predicates.  They would
of course be available for direct analysis.

2) The other approach is to actually have the spatial lite extension loaded
when OGR is accessing the sqlite db.  Then we could (presumably) use
spatialite functions to access geometries, and make all the spatiallite
sql syntax available for OGR ExecuteSQL() strings passed by the user.

I've been mostly looking at the first option since it doesn't require any
special linking against spatial lite or figuring out how/when to try and
load the extension.

I'd note the LGPL license is not an issue as long as spatiallite is
kept as a distinct extension/sharedlib.  I would not however want to
include LGPL code directly in GDAL due to the complication for the
licensing involved.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jasonbeverage at gmail.com  Wed Jul  9 11:30:46 2008
From: jasonbeverage at gmail.com (Jason Beverage)
Date: Wed Jul  9 11:30:49 2008
Subject: [gdal-dev] Overviews stored in ESRI aux files
Message-ID: <2c4bbbeb0807090830n294089cftcb22823554a249d1@mail.gmail.com>

Hi all,

I've got a customer that has GeoTiff data with overviews stored in an aux
file.  When loading these files in ArcGIS, the files look fine.  However,
when I load them into our GDAL based application or OpenEV, the images do
not render properly and have an overall green or blue tint to them until you
zoom into the highest level of detail when GDAL hits the tif file directly.

Deleting the aux files and regenerating the overviews using gdaladdo causes
the images to render correctly.

Is there any known limitation or issues with GDAL using overviews generated
by ArcGIS in aux files?

Thanks!

Jason
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080709/e3044610/attachment.html
From warmerdam at pobox.com  Wed Jul  9 11:37:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  9 11:38:17 2008
Subject: [gdal-dev] Overviews stored in ESRI aux files
In-Reply-To: <2c4bbbeb0807090830n294089cftcb22823554a249d1@mail.gmail.com>
References: <2c4bbbeb0807090830n294089cftcb22823554a249d1@mail.gmail.com>
Message-ID: <4874DB45.2060802@pobox.com>

Jason Beverage wrote:
> Hi all,
> 
> I've got a customer that has GeoTiff data with overviews stored in an 
> aux file.  When loading these files in ArcGIS, the files look fine.  
> However, when I load them into our GDAL based application or OpenEV, the 
> images do not render properly and have an overall green or blue tint to 
> them until you zoom into the highest level of detail when GDAL hits the 
> tif file directly.
> 
> Deleting the aux files and regenerating the overviews using gdaladdo 
> causes the images to render correctly.
> 
> Is there any known limitation or issues with GDAL using overviews 
> generated by ArcGIS in aux files?

Jason,

I have not encountered this issue before.  The only time I've run into
.aux overviews causing problems was when they were for 1bit base layers
in which case ArcGIS created the overviews as 0-255 greyscale.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Cameron.Ackerman at usace.army.mil  Wed Jul  9 16:37:00 2008
From: Cameron.Ackerman at usace.army.mil (Ackerman, Cameron T HEC)
Date: Wed Jul  9 16:37:03 2008
Subject: [gdal-dev] ESRI Binary .FLT files
In-Reply-To: <9C85452EF241E14EACF1FD68DD26329CC18DB9@iwr-ml1hec.hec.ds.usace.army.mil>
References: <9C85452EF241E14EACF1FD68DD26329CC18DB9@iwr-ml1hec.hec.ds.usace.army.mil>
Message-ID: <9C85452EF241E14EACF1FD68DD26329CC18DBE@iwr-ml1hec.hec.ds.usace.army.mil>



Hi All:

Looking to import the ESRI Binary Float format (.flt with .hdr).
My search has come up with the need to add the 
nbits 32   to the .hdr file (with, perhaps, pixeltype float)

I'm trying to use dataset = gdal.open(fltfile, readonly)

Is the .FLT format supported (or in a different method)?

Thank you,
cam



Cameron T. Ackerman, P.E., D.WRE
Hydraulic Engineer
US Army Corps of Engineers, Institute for Water Resources
Hydrologic Engineering Center, CEIWR-HEC
609 Second St., Davis CA 95616
530.756.1104
 
cameron.t.ackerman@usace.army.mil
www.hec.usace.army.mil

From bclay at ball.com  Wed Jul  9 16:29:58 2008
From: bclay at ball.com (Clay, Bruce)
Date: Wed Jul  9 16:48:51 2008
Subject: [gdal-dev] GDAL/OGR to Oracle connect problems
Message-ID: <C482FF98AE985A47B8C982FD429C9E34026A0234@daytonmsg2k3.AERO.BALL.COM>

I have an OGR application that runs fine on my development system.  When
I moved the program to the target system I can not connect to the Oracle
database.  The first round of problems seemed to be related to the
Visual Studio C++ redistributable files.  After installing them, one of
the systems quit throwing exceptions but still won't connect and the
other systems continues to throw exceptions.

 

I am using Visual Studio 2005 C++ running on XP.  I am using GDAL_1.5.2.

 

When I use OGR to connect I use the connection string
"OCI:username/Password@databaseInstance" as the OCI driver instructions
said to do.

 

My development system has the Oracle client tools but neither target
system do.  How does OGR resolve the instance name to host and port?  If
the client tools are installed there is a TNS name file that has this
information.  

 

Does OGR require the Oracle client tools to be installed before it will
connect?

 

Bruce

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080709/df5093bf/attachment.html
From armin.burger at gmx.net  Wed Jul  9 17:26:29 2008
From: armin.burger at gmx.net (Armin Burger)
Date: Wed Jul  9 17:26:30 2008
Subject: [gdal-dev] ogr2ogr and +towgs84
Message-ID: <48752D05.4060601@gmx.net>

Hi everybody

I need to convert a shapefile in a UTM projection with datum ED50 to a 
WGS84 based projection (LAEA, Epsg 3035). I applied the datum shift 
parameters using "+towgs84", like

ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=utm +zone=30 +ellps=intl 
+units=m +towgs84=-131.0,-100.3,-163.4,-1.244,-0.020,-1.144,9.39 
+no_defs"  -t_srs "EPSG:3035"  with_datumshift test.shp

but it seems whatever I write for +towgs84 has no effect. I can drop it 
completely or use other values, the result is always the same. Is the 
+towgs84 parameter just not used or do I use a wrong definition somewhere?

GDAL version used is the one from FWTools 2.1.0 (Win)

Thanks for any help

Armin
From szekerest at gmail.com  Wed Jul  9 17:37:02 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Jul  9 17:37:05 2008
Subject: [gdal-dev] GDAL doesn't compile with LizardTech GeoExpress SDK 7
Message-ID: <f3b73b7d0807091437je060aeaj2e7600bf2bc855f1@mail.gmail.com>

Hi All,

Due to the API change, GDAL now cannot compile with the latest
GeoExpress SDK, and unfortunately the older versions are not available
to download anymore.
Are we planning to update to the newer versions?

Best regards,

Tamas
From warmerdam at pobox.com  Wed Jul  9 17:47:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul  9 17:47:48 2008
Subject: [gdal-dev] ogr2ogr and +towgs84
In-Reply-To: <48752D05.4060601@gmx.net>
References: <48752D05.4060601@gmx.net>
Message-ID: <487531EC.4090903@pobox.com>

Armin Burger wrote:
> Hi everybody
> 
> I need to convert a shapefile in a UTM projection with datum ED50 to a 
> WGS84 based projection (LAEA, Epsg 3035). I applied the datum shift 
> parameters using "+towgs84", like
> 
> ogr2ogr -f "ESRI Shapefile" -s_srs "+proj=utm +zone=30 +ellps=intl 
> +units=m +towgs84=-131.0,-100.3,-163.4,-1.244,-0.020,-1.144,9.39 
> +no_defs"  -t_srs "EPSG:3035"  with_datumshift test.shp
> 
> but it seems whatever I write for +towgs84 has no effect. I can drop it 
> completely or use other values, the result is always the same. Is the 
> +towgs84 parameter just not used or do I use a wrong definition somewhere?
> 
> GDAL version used is the one from FWTools 2.1.0 (Win)

Armin,

EPSG:3035 translates as:


PROJCS["ETRS89 / ETRS-LAEA",
     GEOGCS["ETRS89",
         DATUM["European_Terrestrial_Reference_System_1989",
             SPHEROID["GRS 1980",6378137,298.257222101,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6258"]],
         PRIMEM["Greenwich",0,
             AUTHORITY["EPSG","8901"]],
         UNIT["degree",0.01745329251994328,
             AUTHORITY["EPSG","9122"]],
         AUTHORITY["EPSG","4258"]],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     PROJECTION["Lambert_Azimuthal_Equal_Area"],
     PARAMETER["latitude_of_center",52],
     PARAMETER["longitude_of_center",10],
     PARAMETER["false_easting",4321000],
     PARAMETER["false_northing",3210000],
     AUTHORITY["EPSG","3035"],
     AXIS["X",EAST],
     AXIS["Y",NORTH]]

or in PROJ.4 :

  +proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 
+units=m +no_defs

So the problem is that it does not have any datum shift info, and so datum
shifting is disabled in PROJ.4.

If you want to treat EPSG:3035 as being on a WGS84 datum try using:

  -t_srs '+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +datum=WGS84'

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From keo at keo.cz  Wed Jul  9 20:43:05 2008
From: keo at keo.cz (=?ISO-8859-1?Q?V=E1clav_Klus=E1k?=)
Date: Wed Jul  9 20:43:08 2008
Subject: [gdal-dev] SoC Report: GDAL TMS driver
Message-ID: <aeac0d590807091743i77e2917dy8de3f8e3b10c4917@mail.gmail.com>

Report for week 30.6.2008 -- 6.7.2008.

I finished a sketch of the driver. Compilable but not usable, XML parsing
was missing. I tried to come up with some way to enable the driver to
operate on huge datasets without sacrifising performance. I came up with a
solution involving several caching schemes, each tailored to different use
case (Dataset::RasterIO, RasterBand::RasterIO, RasterBand::ReadBlock). After
some deliberation it turned up it is of basicaly no use due to two reasons.

1) The way Dataset::RasterIO works. It just calls RasterIO on each raster
band in turn. The tiled dataset would be more efficient if the IO was
performed per block as in BlockBasedIO. This doesn't support Overviews
however.

2) This plan presumed that RasterBand blocks are 1:1 mappable to tiles on
disk, but actualy they are not. More on this in the next report.


Plan for the following week:

-- Learn how to use cpl_minxml.
-- Figure out different way to cache the tiles. Aggressive prefetching as I
intended before is probably out of question.

V?clav "Keo" Klus?k
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080710/c5a750aa/attachment.html
From jennifer at greeninfo.org  Wed Jul  9 23:03:34 2008
From: jennifer at greeninfo.org (Jennifer Strahan)
Date: Wed Jul  9 23:34:47 2008
Subject: [gdal-dev] transforming epsg:900913 to Calif. Teale Albers y-shift
	problem
Message-ID: <48757C06.70108@greeninfo.org>

Hello All,

I'm using OpenLayers and Featureserver to draw shapes on top of a Google 
base map and save into my PostGIS database.  The geometry column is 
using ESPG: 900913.  Now, I'd like to export out a shapefile for use in 
ArcGIS, using the California Teale Albers projection. I tried the 
following and am ending up with an ~18,000 meter Y shift and a little 
bit of an X shift.
$ret = shell_exec ("ogr2ogr -f 'ESRI Shapefile' 
/var/tmp/shapefile/parkinfo_edits.shp 'PG:dbname=parkinfo_edit 
host=localhost user=pgsql password=*****' -s_srs EPSG:900913 -sql 
'Select * from holdingsfeb08_new' -t_srs '+proj=aea +lat_1=34.00 
+lat_2=40.50 +lat_0=0.00 +lon_0=-120.00 +x_0=0.000 +y_0=-4000000.000 
+ellps=GRS80 +units=m +datum=NAD83'");

I went to spatialreference.org and have been trying various 
projections.  In each case I'm getting the same results.
Do you have any suggestions?

Thanks,
Jennifer
From abhay.menon at gmail.com  Thu Jul 10 00:05:35 2008
From: abhay.menon at gmail.com (abhay menon)
Date: Thu Jul 10 00:05:39 2008
Subject: [gdal-dev] GDAL/OGR to Oracle connect problems
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34026A0234@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34026A0234@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <7a30cd70807092105p45af44ben45671102c45865e@mail.gmail.com>

Hi Bruce,

OGR does requires Oracle Client as matter any dotnet or C++ app that is been
built for oracle based process need's it.

Secondly, You could use the Oracle's Instant Client : which keep everything
to bare minimum you find it here :
http://www.oracle.com/technology/tech/oci/instantclient/index.html

Include the dll or install a Oracle client.

also  databaseInstance you can use the //<servername>:<port>/<database
instance> to connect if you using Instant Client. as you don't need to
specify the TNS entry for the same.

Rgds.

Abhay.



On Thu, Jul 10, 2008 at 1:59 AM, Clay, Bruce <bclay@ball.com> wrote:

>  I have an OGR application that runs fine on my development system.  When
> I moved the program to the target system I can not connect to the Oracle
> database.  The first round of problems seemed to be related to the Visual
> Studio C++ redistributable files.  After installing them, one of the systems
> quit throwing exceptions but still won't connect and the other systems
> continues to throw exceptions.
>
>
>
> I am using Visual Studio 2005 C++ running on XP.  I am using GDAL_1.5.2.
>
>
>
> When I use OGR to connect I use the connection string
> "OCI:username/Password@databaseInstance" as the OCI driver instructions
> said to do.
>
>
>
> My development system has the Oracle client tools but neither target system
> do.  How does OGR resolve the instance name to host and port?  If the client
> tools are installed there is a TNS name file that has this information.
>
>
>
> Does OGR require the Oracle client tools to be installed before it will
> connect?
>
>
>
> Bruce
>
>
>
> This message and any enclosures are intended only for the addressee.  Please
> notify the sender by email if you are not the intended recipient.  If you are
> not the intended recipient, you may not use, copy, disclose, or distribute this
> message or its contents or enclosures to any other person and any such actions
> may be unlawful.  Ball reserves the right to monitor and review all messages
> and enclosures sent to or from this email address.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080710/da127dfd/attachment-0001.html
From tutey at o2.pl  Thu Jul 10 03:44:57 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Thu Jul 10 03:43:36 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <486FED9D.5090404@o2.pl>
References: <48622179.4030906@o2.pl>
	<4862508B.2010303@pobox.com>	<48625D18.6060100@o2.pl>
	<48625F8A.1050108@pobox.com>	<48692D31.9000101@o2.pl>
	<486A3C9D.4060302@pobox.com> <486FED9D.5090404@o2.pl>
Message-ID: <4875BDF9.3010503@o2.pl>

Maciej Sieczka pisze:
> Frank Warmerdam pisze:
>> Maciej Sieczka wrote:

>>> how do I best fetch the list of *real* EPSG codes that my instalation 
>>> of GDAL is able to recognize? Is extracting them from pcs.csv and 
>>> gcs.csv a good approach?

>> Yes

> Cool. I only have a following problem - as I parse the pcs.csv and
> gcs.csv like this [1], the following codes:
> 
> 2218 2221 2296 2297 2298 2299 2300 2301 2302 2303 2304 2305 2306 2307
> 2963 2985 2986 3052 3053 3139 3144 3145 3173 3295 3410 3993 32600 32700
> 
> yield:
> 
> ERROR 6: EPSG PCS/GCS code <code goes here> not found in EPSG support
> files. Is this a valid EPSG coordinate system?

An example:

$ grep "^2218," /usr/local/share/gdal/pcs.csv

2218,"Scoresbysund 1952 / Greenland zone 5 
east",9001,4195,18425,9826,1,0,8801,70.3,9110,8807,0,9001,8805,1,9201,8802,-24,9110,8806,0,9001,,,,,,

$ epsg_tr.py 2218

ERROR 6: EPSG PCS/GCS code 2218 not found in EPSG support files.  Is 
this a valid
EPSG coordinate system?
PROJCS["Scoresbysund 1952 / Greenland zone 5 east",
     GEOGCS["Scoresbysund 1952",
         DATUM["Scoresbysund_1952",
             SPHEROID["International 1924",6378388,297,
                 AUTHORITY["EPSG","7022"]],
             TOWGS84[105,326,-102.5,0,0,0.814,-0.6],
             AUTHORITY["EPSG","6195"]],
         PRIMEM["Greenwich",0,
             AUTHORITY["EPSG","8901"]],
         UNIT["degree",0.01745329251994328,
             AUTHORITY["EPSG","9122"]],
         AUTHORITY["EPSG","4195"]],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]

> I expected that a code extracted from pcs/gcs.csv should be valid for
> GDAL. What am I missing?
 >
 >
> Also, a couple of codes yield:
> 
> ERROR 6: No translation for Tunisia_Mining_Grid to PROJ.4 format is known.
> 
> ERROR 6: No translation for Transverse_Mercator_South_Orientated to
> PROJ.4 format is known.
> 
> ERROR 6: No translation for Laborde_Oblique_Mercator to PROJ.4 format is
> known.
> 
> I found a reference for that [2], so I briefly understand what's the
> culprit and that we are just to ignore the problem for now. Out of
> curiosity anyway - has there been any progress on the issue?
 >
> [1]
> for i in `awk 'NR>1' /usr/local/share/gdal/pcs.csv | cut -d, -f1`; do
> printf "$i "; epsg_tr.py -proj4 $i; done
> 
> for i in `awk 'NR>1' /usr/local/share/gdal/gcs.csv | cut -d, -f1`; do
> printf "$i "; epsg_tr.py -proj4 $i; done
> 
> [2]http://lists.osgeo.org/pipermail/gdal-dev/2008-February/016249.html

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From mike.nidel at lmco.com  Thu Jul 10 09:29:02 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Thu Jul 10 09:31:01 2008
Subject: [gdal-dev] GDAL SWIG + Java and MS VC 9.0
Message-ID: <4AED24BD6C1AA742B80AFBB823D0655A0EEB35BD@emss09m03.us.lmco.com>

Hi everyone,

I've finally managed to get GDAL building and running on Windows with
MrSID 7.0, using nmake from MS Visual Studio 9.0/2008. I'm building from
the 1.5 branch; 1.5.2 doesn't have quite what I need for MrSID 7.0 and I
didn't want to build from the 1.6/trunk.

I was getting this error R6034 that caused my Java app to fail to load
the gdaljni.dll. After days of investigation suggesting that the problem
was related to manifest files, I finally learned that although
gdal15.dll does get built with a manifest, the gdaljni.dll and
gdalconst.dll do not. Here is a thread about manifests that helped me:

http://forums.msdn.microsoft.com/en-US/vcgeneral/thread/9fbc9292-11b8-4e
e4-94a4-5223546df280

The fix that I had to implement was small once I found it (aren't they
always?):

In GDAL_HOME/swig/java/makefile.vc, change the following:

gdal_dir:
	cd gdal
	$(MAKE) /f makefile.vc
	cd ..
	link gdal_wrap.obj $(GDALLIB) /out:gdaljni.dll /DLL


to add a line at the end to incorporate the manifest into the dll:

gdal_dir:
	cd gdal
	$(MAKE) /f makefile.vc
	cd ..
	link gdal_wrap.obj $(GDALLIB) /out:gdaljni.dll /DLL
	if exist gdaljni.dll.manifest mt -manifest gdaljni.dll.manifest
-outputresource:gdaljni.dll;2



I repeated this same thing for the other 3 dlls in that makefile.

I'm still not sure why it wasn't enough to put the gdaljni.dll.manifest
file in the same dir as the dll, but after debugging inside of the MS
CRT source code, I was convinced it wasn't loading the CRT DLLs from a
manifest. I did this fix and it works, and it means a few less files
(.manifest) to bundle with my apps so that's good too.

Do you think this could be patched and checked into the gdal 1.5 branch?
That would help me greatly. I am going to be shipping a product based on
this build... is there a plan to release a 1.5.3 in the next couple
weeks? If not, the downside is that I will have built DLLs that cannot
be reproduced easily because they will be from a snapshot of the build.
Even a tag like 1.5.3b or 1.5.3-pre would help me recover the exact
version I'm building against in case I run into problems down the road
and need to rebuild.

I've attached my makefile.vc, hopefully it'll go through. Please note: I
also had to remove the line:

  set JAVA_HOME="$(JAVA_HOME)"

because it caused the quotes around JAVA_HOME to get doubled, e.g.
""C:\Program Files..."", which ant did not like. If this part of the fix
is not acceptible for general users, go ahead and take it out.

It's my hope that this will help somebody else who's trying to build in
a similar environment as myself.


Thanks,

Mike


PS - if you ever have a similar problem, one useful trick is to drag
your .dll into the MS Visual Studio window, and it can show you whether
the DLL has a manifest.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: makefile.vc
Type: application/octet-stream
Size: 1530 bytes
Desc: makefile.vc
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080710/a6156c5b/makefile.obj
From rob.braswell at unh.edu  Thu Jul 10 10:02:43 2008
From: rob.braswell at unh.edu (Bobby H. Braswell)
Date: Thu Jul 10 10:50:07 2008
Subject: [gdal-dev] copy features in python ogr
Message-ID: <C51FA7C3-65BD-4A55-9AAD-4AF63046BF63@unh.edu>


Hi-

I'm trying to make a script that will read a single-polygon shapefile,  
apply a buffer to the polygon (using shapely) and then write out a new  
file with two polygon features representing the original and the  
buffered region. Rather than creating a new polygon shapefile from  
scratch, I'm wondering if I can just make a copy of the contents of  
the source file (one layer, one feature), add the new feature, then  
write the new contents (one layer, two features) to an output shapefile.

I'm looking at the "CopyLayer" method of the source file, but can't  
seem to get the inputs right, and anyway I'm not sure if that's the  
way to go. Any suggestions would be appreciated.

Thanks very much,
Rob Braswell
University of New Hampshire

From sgillies at frii.com  Thu Jul 10 11:12:14 2008
From: sgillies at frii.com (Sean Gillies)
Date: Thu Jul 10 11:29:14 2008
Subject: [gdal-dev] copy features in python ogr
In-Reply-To: <C51FA7C3-65BD-4A55-9AAD-4AF63046BF63@unh.edu>
References: <C51FA7C3-65BD-4A55-9AAD-4AF63046BF63@unh.edu>
Message-ID: <487626CE.6040300@frii.com>

Bobby H. Braswell wrote:
> 
> Hi-
> 
> I'm trying to make a script that will read a single-polygon shapefile,
> apply a buffer to the polygon (using shapely) and then write out a new
> file with two polygon features representing the original and the
> buffered region. Rather than creating a new polygon shapefile from
> scratch, I'm wondering if I can just make a copy of the contents of the
> source file (one layer, one feature), add the new feature, then write
> the new contents (one layer, two features) to an output shapefile.
> 
> I'm looking at the "CopyLayer" method of the source file, but can't seem
> to get the inputs right, and anyway I'm not sure if that's the way to
> go. Any suggestions would be appreciated.
> 
> Thanks very much,
> Rob Braswell
> University of New Hampshire

Hi Rob,

Keep in mind that you can also buffer geometries using osgeo.ogr only,
and it's probably more efficient to do so if you've already imported
osgeo.ogr to read and write the shapefiles.

I'm not sure if CopyLayer copies features as well as the layer definition.

Cheers,
Sean
From matt.wilkie at gov.yk.ca  Thu Jul 10 12:58:46 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Jul 10 12:59:21 2008
Subject: [gdal-dev] densify line?
Message-ID: <48763FC6.9030609@gov.yk.ca>

Hello All,

Does ogr have a densify line option or utility?

The goal is to densify (add vertices at regular intervals) to a 1 
dergree by 1 degree fishnet grid before projecting from WGS84 to UTM (or 
whatever) so the result follows earth curvature rather then jumping 
straight from corner point to corner point.

I could use Arcinfo DENSIFYARC, but would like to avoid having to 
convert to a coverage if I can.

thanks,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From warmerdam at pobox.com  Thu Jul 10 13:29:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul 10 13:30:05 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <48763FC6.9030609@gov.yk.ca>
References: <48763FC6.9030609@gov.yk.ca>
Message-ID: <487646F8.9010808@pobox.com>

Matt Wilkie wrote:
> Hello All,
> 
> Does ogr have a densify line option or utility?
> 
> The goal is to densify (add vertices at regular intervals) to a 1 
> dergree by 1 degree fishnet grid before projecting from WGS84 to UTM (or 
> whatever) so the result follows earth curvature rather then jumping 
> straight from corner point to corner point.
> 
> I could use Arcinfo DENSIFYARC, but would like to avoid having to 
> convert to a coverage if I can.

Matt,

No, no such capability exists in OGR to the best of my knowledge.

The Value() method on OGRCurve might be helpful to identify points along
a line string at particular distance intervals.

/**
  * \fn void OGRCurve::Value( double dfDistance, OGRPoint * poPoint ) const;
  *
  * Fetch point at given distance along curve.
  *
  * This method relates to the SF COM ICurve::get_Value() method.
  *
  * @param dfDistance distance along the curve at which to sample position.
  *                   This distance should be between zero and get_Length()
  *                   for this curve.
  * @param poPoint the point to be assigned the curve position.
  */

If someone were inclined to implement it, I think a Densify() method
on OGRGeometry would be nice.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From blake at hailmail.net  Thu Jul 10 13:37:43 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Thu Jul 10 13:37:40 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <48763FC6.9030609@gov.yk.ca>
References: <48763FC6.9030609@gov.yk.ca>
Message-ID: <C0CA06A9-D64C-4556-87C8-119F4E202D04@hailmail.net>

Hi Matt,

ST_Segmentize() in postgis sounds like it might do the trick.

Dane


On Jul 10, 2008, at 9:58 AM, Matt Wilkie wrote:

> Hello All,
>
> Does ogr have a densify line option or utility?
>
> The goal is to densify (add vertices at regular intervals) to a 1  
> dergree by 1 degree fishnet grid before projecting from WGS84 to UTM  
> (or whatever) so the result follows earth curvature rather then  
> jumping straight from corner point to corner point.
>
> I could use Arcinfo DENSIFYARC, but would like to avoid having to  
> convert to a coverage if I can.
>
> thanks,
>
> -- 
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From matt.wilkie at gov.yk.ca  Thu Jul 10 14:07:32 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Jul 10 14:07:39 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <C0CA06A9-D64C-4556-87C8-119F4E202D04@hailmail.net>
References: <48763FC6.9030609@gov.yk.ca>
	<C0CA06A9-D64C-4556-87C8-119F4E202D04@hailmail.net>
Message-ID: <48764FE4.6060409@gov.yk.ca>

 > ST_Segmentize() in postgis sounds like it might do the trick.

Thanks for the pointer Dane. I'll leave that thought for a future 
project. If I have to convert to an alternate format anyway I might as 
well use one more familiar to me.


matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From bryan at ideotrope.org  Thu Jul 10 14:13:42 2008
From: bryan at ideotrope.org (Bryan Keith)
Date: Thu Jul 10 14:44:23 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <48763FC6.9030609@gov.yk.ca>
References: <48763FC6.9030609@gov.yk.ca>
Message-ID: <1496.64.78.232.178.1215713622.squirrel@ideotrope.org>

Matt,

I did something like this a while ago in ogr and Python.  Some of the code
is attached.  You may find it useful.  It's certainly not in the form of a
ready-to-use utility.

Bryan

> Hello All,
>
> Does ogr have a densify line option or utility?
>
> The goal is to densify (add vertices at regular intervals) to a 1
> dergree by 1 degree fishnet grid before projecting from WGS84 to UTM (or
> whatever) so the result follows earth curvature rather then jumping
> straight from corner point to corner point.
>
> I could use Arcinfo DENSIFYARC, but would like to avoid having to
> convert to a coverage if I can.
>
> thanks,
>
> --
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
import ogr
import math
#AddVerticesToLN will add vertices to a LN (mLN) so that no vertices will be
#farther than dDist from each other
#instead of creating the LN, this routine will just return a list of vertices
#currently this routine only supports LNs where mLN.GetGeometryCount() == 0
def AddVerticesToLN(mLN, dDist):
  lPTs = []
  for i in range(mLN.GetPointCount() - 1):
    #get the current two vertices and their distance
    X1 = mLN.GetX(i)
    Y1 = mLN.GetY(i)
    X2 = mLN.GetX(i + 1)
    Y2 = mLN.GetY(i + 1)
    dDXY = ReturnDistance(X1, X2, Y1, Y2)
    #include the current vertex in the output list
    lPTs += [[X1, Y1]]
    #if the distance between the vertices is greater than dDist, then I
    #need to add vertices
    if (dDXY > dDist):
      #how many segments do I need to make?
      fCount = float(dDXY) / dDist
      iCount = int(fCount)
      if (iCount != fCount):
        iCount += 1
      #calculate the distance of each new segment
      dDistNew = dDXY / iCount
      dDistAlong = dDistNew
      #make the new PTs
      for j in range(iCount - 1):
        lPTs += [AlongSimple(X1, Y1, X2, Y2, dDistAlong)]
        dDistAlong += dDistNew
  #add the final vertex
  lPTs += [[X2, Y2]]
  return lPTs
#AlongSimple is a simple version of the along function since I don't have a
#current need to implement a real version.
#This simply takes 2 XY pairs as input and a distance along the LN that
#they create.
#It returns the new XY at dDist along the LN
def AlongSimple(X1, Y1, X2, Y2, dDist):
  #vertical LN case
  if (X1 == X2):
    X3 = X1
    if (Y1 < Y2):
      Y3 = Y1 + dDist
    else:
      Y3 = Y1 - dDist
  #horizontal LN case
  elif (Y1 == Y2):
    Y3 = Y1
    if (X1 < X2):
      X3 = X1 + dDist
    else:
      X3 = X1 - dDist
  #diagonal LN case
  else:
    m = (Y2 - Y1) / (X2 - X1)
    a = math.atan(m)
    dX = math.cos(a) * dDist
    dY = math.sin(a) * dDist
    if (X1 < X2):
      Y3 = Y1 + dY
      X3 = X1 + dX
    else:
      Y3 = Y1 - dY
      X3 = X1 - dX
  return [X3, Y3]
def ReturnDistance(x1, x2, y1, y2, z1 = 0, z2 = 0):
  return ((x2 - x1) ** 2 + (y2 - y1) ** 2 + (z2 - z1) ** 2) ** 0.5
From dan at inlet.geol.sc.edu  Thu Jul 10 15:51:20 2008
From: dan at inlet.geol.sc.edu (ChiefDan)
Date: Thu Jul 10 15:51:22 2008
Subject: [Gdal-dev] Install Error occuring in swig/python
In-Reply-To: <18385793.post@talk.nabble.com>
References: <18385793.post@talk.nabble.com>
Message-ID: <18390509.post@talk.nabble.com>


I found a solution to my issue. What I ended up doing was editing the
GNUMakefile in swig/python and changing PYTHON=python to
PYTHON=/home/dramage/local/bin/python.

It seems like there needs to be a way to specify an alternate path to use
for python if it is not in the default directory.

-- 
View this message in context: http://www.nabble.com/Install-Error-occuring-in-swig-python-tp18385793p18390509.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Shawn.Gong at drdc-rddc.gc.ca  Thu Jul 10 16:29:08 2008
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Thu Jul 10 16:29:11 2008
Subject: [gdal-dev] gdal 1.5.2 build error on Windows XP
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E120124@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

when I tried to build gdal 1.5.2 on Windows XP I got following error.
Any ideas?

thanks,
Shawn

C:\build18\gdal-1.5.2\frmts>cd hfa   && nmake /NOLOGO /f makefile.vc
&& cd ..
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfaband.cpp
hfaband.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfadataset.cpp
hfadataset.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfadictionary.cpp
hfadictionary.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfaentry.cpp
hfaentry.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfafield.cpp
hfafield.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfaopen.cpp
hfaopen.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfatype.cpp
hfatype.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfacompress.cpp
hfacompress.cpp
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg   /c hfa_overviews.cpp
hfa_overviews.cpp
        xcopy /D  /Y *.obj ..\o
C:hfaband.obj
C:hfacompress.obj
C:hfadataset.obj
C:hfadictionary.obj
C:hfaentry.obj
C:hfafield.obj
C:hfaopen.obj
C:hfatype.obj
C:hfa_overviews.obj
9 File(s) copied

C:\build18\gdal-1.5.2\frmts>cd gtiff   && nmake /NOLOGO /f makefile.vc
&& cd ..
        cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr
-I..\..\gcore
  -I..\..\alg  -Ilibtiff -DBIGTIFF_SUPPORT -Ilibgeotiff  /c geotiff.cpp
geotiff.cpp
geotiff.cpp(2744) : error C2520: conversion from unsigned __int64 to
double not implemented, use signed __int64
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080710/a310a607/attachment-0001.html
From warmerdam at pobox.com  Thu Jul 10 16:48:16 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul 10 16:48:40 2008
Subject: [gdal-dev] gdal 1.5.2 build error on Windows XP
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E120124@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E120124@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <48767590.6040904@pobox.com>

Gong, Shawn (Contractor) wrote:
> C:\build18\gdal-1.5.2\frmts>cd gtiff   && nmake /NOLOGO /f makefile.vc   
> && cd ..
> 
>         cl /nologo /MD /EHsc /Ox /DNDEBUG -I..\..\port -I..\..\ogr 
> -I..\..\gcore
> 
>   -I..\..\alg  -Ilibtiff -DBIGTIFF_SUPPORT -Ilibgeotiff  /c geotiff.cpp
> 
> geotiff.cpp
> 
> geotiff.cpp(2744) : error C2520: conversion from unsigned __int64 to 
> double not implemented, use signed __int64

Shawn,

I see you are still using VC6!

The offending statement on line 2744 can be safely removed.  I believe it
is just a debug statement.  I ran into the same issue recently in a VC6
build.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From even.rouault at mines-paris.org  Thu Jul 10 16:50:19 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Jul 10 16:50:24 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <48763FC6.9030609@gov.yk.ca>
References: <48763FC6.9030609@gov.yk.ca>
Message-ID: <200807102250.20758.even.rouault@mines-paris.org>

For your information, I've just added in GDAL trunk a segmentize() method to 
OGRGeometry and a "-segmentize" option to ogr2ogr.

Le Thursday 10 July 2008 18:58:46 Matt Wilkie, vous avez ?crit?:
> Hello All,
>
> Does ogr have a densify line option or utility?
>
> The goal is to densify (add vertices at regular intervals) to a 1
> dergree by 1 degree fishnet grid before projecting from WGS84 to UTM (or
> whatever) so the result follows earth curvature rather then jumping
> straight from corner point to corner point.
>
> I could use Arcinfo DENSIFYARC, but would like to avoid having to
> convert to a coverage if I can.
>
> thanks,


From matt.wilkie at gov.yk.ca  Thu Jul 10 17:06:03 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Jul 10 17:06:36 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <200807102250.20758.even.rouault@mines-paris.org>
References: <48763FC6.9030609@gov.yk.ca>
	<200807102250.20758.even.rouault@mines-paris.org>
Message-ID: <487679BB.1000903@gov.yk.ca>

wow, talk about speed.
thanks Even!

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


Even Rouault wrote:
> For your information, I've just added in GDAL trunk a segmentize() method to 
> OGRGeometry and a "-segmentize" option to ogr2ogr.
> 
> Le Thursday 10 July 2008 18:58:46 Matt Wilkie, vous avez ?crit :
>> Hello All,
>>
>> Does ogr have a densify line option or utility?
>>
>> The goal is to densify (add vertices at regular intervals) to a 1
>> dergree by 1 degree fishnet grid before projecting from WGS84 to UTM (or
>> whatever) so the result follows earth curvature rather then jumping
>> straight from corner point to corner point.
>>
>> I could use Arcinfo DENSIFYARC, but would like to avoid having to
>> convert to a coverage if I can.
>>
>> thanks,
> 
> 
> 
> 

From hobu.inc at gmail.com  Thu Jul 10 20:02:18 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Jul 10 20:02:23 2008
Subject: [gdal-dev] densify line?
In-Reply-To: <487679BB.1000903@gov.yk.ca>
References: <48763FC6.9030609@gov.yk.ca>
	<200807102250.20758.even.rouault@mines-paris.org>
	<487679BB.1000903@gov.yk.ca>
Message-ID: <3B0D72B1-B9A2-4C06-A7A3-A743C5F10CB5@gmail.com>

Here's a script that I wrote to do it also.  It only works on  
LINESTRINGs at the moment and isn't as cool as Even's solution :)

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples/densify.py

It does have a few fancier options about what to do with the slop if  
you want *exactly* regular intervals though...

Howard
On Jul 10, 2008, at 4:06 PM, Matt Wilkie wrote:

> wow, talk about speed.
> thanks Even!
>
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
>
> Even Rouault wrote:
>> For your information, I've just added in GDAL trunk a segmentize()  
>> method to OGRGeometry and a "-segmentize" option to ogr2ogr.
>> Le Thursday 10 July 2008 18:58:46 Matt Wilkie, vous avez ?crit :
>>> Hello All,
>>>
>>> Does ogr have a densify line option or utility?
>>>
>>> The goal is to densify (add vertices at regular intervals) to a 1
>>> dergree by 1 degree fishnet grid before projecting from WGS84 to  
>>> UTM (or
>>> whatever) so the result follows earth curvature rather then jumping
>>> straight from corner point to corner point.
>>>
>>> I could use Arcinfo DENSIFYARC, but would like to avoid having to
>>> convert to a coverage if I can.
>>>
>>> thanks,
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From keo at keo.cz  Fri Jul 11 08:58:58 2008
From: keo at keo.cz (=?ISO-8859-1?Q?V=E1clav_Klus=E1k?=)
Date: Fri Jul 11 08:59:01 2008
Subject: [gdal-dev] SoC Report: GDAL TMS driver
Message-ID: <aeac0d590807110558k68fb7c38kd767d7aa109392d2@mail.gmail.com>

Report for week 7.--11..7.2008.

I learned how to use cpl_minixml to parse TMS TileMap file. From this the
first executable read driver for TMS followed. I tried it on datasets
created by gdal2tiles.py using gdal_translate. Found a bug in gdal2tiles
which Klokan promptly fixed. As I mentioned in the previous report, all my
initial attempts to tile caching went out of the window. So for the time
being I implemented the IReadBlock in the most straightforward way possible
-- just read the tile from disk, perform raster IO and destroy the tile
dataset. Turns out GDALRasterBand has its own block cache. I have to
investigate it further to determine how big it is etc. and how it would
interact with my driver.

The code worked, sort of. I found out the hard way the differences between
TMS and GDAL raster abstractions. GDAL has raster with (0,0) coordinates in
the top left corner and can work on them in blocks. TMS has blocks (tiles)
but it has (0,0) in the bottom left corner. So, if raster height is not a
multiple of tile height the GDAL blocks does not map 1:1 to tiles. If the
IReadBlock was implemented the way it was, it would have to read two tiles
and create one block from them. On top of this, some drivers (PNG for
example) doesn't like nonlinear acces which would be necessary in this case.
To solve this I introduced tile cache which holds predefined number of tiles
in MEM datasets. IReadBlock read data from the two according cached tiles.

Again, this worked, sort of. The problem is that IReadBlock has to fill the
buffer using two RasterIO calls and have to calculate appropriate offset in
the buffer for the second call. The code I have written works for BMP
datasets but not for GeoTiff, so there is some bug I will have to fix. I
sent this code to Frank for review as he requested.

What do to next:

Found out how to reliably and portably fill one buffer from two sources.
Additional positive effect of this is that then I could simplify the tile
cache. Now it is a set of MEM GDALDatasets. But that is probably not
necessary. It could just be one giant buffer into which the data would be
loaded during cache fill and from which the IReadBlock would copy the data
to its source buffer. After this works, jump to the writing part of driver.
In terms of raster IO it would be already almost done, but the Create method
has to create a directory structure and generate the XML file basen on
creation options, which I have not investigated much yet.

V?clav "Keo" Klus?k
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080711/4cd3a01a/attachment.html
From dmorissette at mapgears.com  Fri Jul 11 09:29:51 2008
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Fri Jul 11 09:42:59 2008
Subject: [gdal-dev] Annotations in Personal GeoDatabases
Message-ID: <4877604F.4060005@mapgears.com>

Frank,

The driver docs at http://gdal.org/ogr/drv_pgeo.html do not make any 
mention of support (or not) of annotations in ESRI Personal 
GeoDatabases. Are annotations supported at all? Ar they simply returned 
as points with a text/angle attribute? Would it be possible to add 
support for returning OGR style strings for annotations (i.e. do we have 
a way to get to the information)?

Thanks

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From warmerdam at pobox.com  Fri Jul 11 09:59:08 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jul 11 09:59:26 2008
Subject: [gdal-dev] Annotations in Personal GeoDatabases
In-Reply-To: <4877604F.4060005@mapgears.com>
References: <4877604F.4060005@mapgears.com>
Message-ID: <4877672C.6060900@pobox.com>

Daniel Morissette wrote:
> Frank,
> 
> The driver docs at http://gdal.org/ogr/drv_pgeo.html do not make any 
> mention of support (or not) of annotations in ESRI Personal 
> GeoDatabases. Are annotations supported at all? Ar they simply returned 
> as points with a text/angle attribute? Would it be possible to add 
> support for returning OGR style strings for annotations (i.e. do we have 
> a way to get to the information)?

Daniel,

There is no special support for annotations as far as I know, and I'm not
even sure how they are handled now.  Without ArcGIS it is often difficult
for me to know what the stuff in a personal geodatabase actually is supposed
to look like.

It might be possible to return annotations with style strings, but it
would take some investigation to even establish if it is possible.  The
investigation would be the bulk of the work to actually implement it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From klokan at klokan.cz  Fri Jul 11 12:14:02 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Fri Jul 11 12:14:06 2008
Subject: [gdal-dev] SoC GDAL2Tiles: Poster, Zurich Office, Global Tiles
Message-ID: <6e41d95b0807110914h19cbe573u476e021946dd7f74@mail.gmail.com>

Hello folks,

Yesterday I successfully presented my SoC project GDAL2Tiles in Google
Zurich Office, on the Open Source Jam session.
It was a nice experience, I think I made a good advertisement for GDAL
:-), and I was speaking with some of the engineers about GDAL2Tiles as
well. I also saw all the attractions of the Zurich Office. Look at
http://www.youtube.com/watch?v=TPz1Mou-Xxk

There is a poster for GDAL2Tiles Project, so if you are interested you
can have a look at:
http://www.mzk.cz/~klokan/gdal2tiles-poster.pdf

The slideshow from that presentation is published as well, there is a
screen cast from Google Earth and and life preview of practical usage
of GDAL2Tiles in the National Library of Scotland (a map from
collection of British Library - a raster map with size over 30 GB).
http://www.youtube.com/watch?v=K3OiifZQEqE

I got a report about broken GDAL2Tiles functionality (KMZ generation),
and I realized there is probably a bug (or a disappeared feature) in
latest Google Earth KMZ implementation - so I should report it to
developers.
Keo reported a bug in tilemapresource.xml in GDAL2Tiles. Now it is
patched in svn gdal trunk.

I created a sandbox in gdal svn and uploaded there the python
tmsprofiles.py module, which implements two classes: GlobalMercator
and GlobalGeodetic. With those classes you can do all coordinate
conversion you need for generation of tiles, which are compatible with
Google Maps.
It is also a base for any conversion of tiles between TMS, Google-like
coordinates, Microsoft QuadTree names.
You can easily generate a list of tiles intersecting your raster map
(bounding box), and for each tile get extent in epsg:900913 or
epsg:4326.
All of this functionality is necessary for new generation of GDAL2Tiles

A shell script which is using gdalwarp for creating tiles was
generated with this python module, just to test the correctness of the
tile creation. It is running, so next week I think I will publish some
global tiles with viewer on top of Google Maps.

I was playing a lot with VRT warp xml format, and I realized that it
is excellent for purpose of GDAL2Tiles raster reprojection. Thank you
a lot GDAL developers for this functionality.

There was also some work done on Google Maps API browser, for
supporting tile overlay. It is a base for new googlemaps.html
template, which is included in GDAL2Tiles.

I submitted the Midterm Evaluation, Hobu: please submit it as well...

Best regards

Klokan
From mateusz at loskot.net  Fri Jul 11 12:20:54 2008
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Fri Jul 11 12:21:00 2008
Subject: [gdal-dev] SoC GDAL2Tiles: Poster, Zurich Office, Global Tiles
In-Reply-To: <6e41d95b0807110914h19cbe573u476e021946dd7f74@mail.gmail.com>
References: <6e41d95b0807110914h19cbe573u476e021946dd7f74@mail.gmail.com>
Message-ID: <48778866.5090208@loskot.net>

Klokan Petr P?idal pisze:
> Hello folks,
> 
> Yesterday I successfully presented my SoC project GDAL2Tiles in Google
> Zurich Office, on the Open Source Jam session.
> It was a nice experience, I think I made a good advertisement for GDAL
> :-), and I was speaking with some of the engineers about GDAL2Tiles as
> well. I also saw all the attractions of the Zurich Office. Look at
> http://www.youtube.com/watch?v=TPz1Mou-Xxk


Petr,

Congratulations! Great job!

Ciao
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From dmorissette at mapgears.com  Fri Jul 11 13:39:28 2008
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Fri Jul 11 13:39:53 2008
Subject: [gdal-dev] Annotations in Personal GeoDatabases
In-Reply-To: <4877672C.6060900@pobox.com>
References: <4877604F.4060005@mapgears.com> <4877672C.6060900@pobox.com>
Message-ID: <48779AD0.6020103@mapgears.com>

Frank Warmerdam wrote:
> 
> It might be possible to return annotations with style strings, but it
> would take some investigation to even establish if it is possible.  The
> investigation would be the bulk of the work to actually implement it.
> 

Thanks for the answer Frank. I'm not too familiar with that stuff 
either, I'll see if I could get more info from the client who asked 
about this.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From fevans at harris.com  Fri Jul 11 13:45:17 2008
From: fevans at harris.com (fevans)
Date: Fri Jul 11 13:45:19 2008
Subject: [Gdal-dev] Workaround for DataSet.GetGCPs from c#/java?
In-Reply-To: <f3b73b7d0706190928i4e9f7fga050183f6ec2e16b@mail.gmail.com>
References: <2DBB9F887DAA394FA75D98474EA5730D0399CEF5@vader.prologic-inc.com>
	<f3b73b7d0706190928i4e9f7fga050183f6ec2e16b@mail.gmail.com>
Message-ID: <18409180.post@talk.nabble.com>


I see the milestone for this is GDAL 1.5.3.
http://trac.osgeo.org/gdal/ticket/1677

Is there any other way to access the GCPs in java/c#? For example, would it
be possible to construct a "SWIGTYPE_p_int", and a "SWIGTYPE_p_GDAL_GCP[]" ?
I experimented a little but sort of hit a swig wall.

BTW, keep up the great work Tamas.



Tamas Szekeres wrote:
> 
> 2007/6/19, Jason Beverage <jbeverage@prologic-inc.com>:
>> Hi all,
>>
>> It seems like the signature for DataSet.GetGCPs is incorrect in the C#
>> bindings.  It is currently:
>> void DataSet.GetGCPs(SWIGTYPE_p_int nGCPs, SWIGTYPE_p_p_GDAL_GCP pGCPs)
>>
>> It seems like it should be:
>> GCP[] Dataset.GetGCPs();
>>
>> Should I open a ticket?
>>
>> Thanks,
>>
>> Jason
>>
> 
> Yes please, and assign the ticket to the CSharpBindings component
> 
> Best regards,
> 
> Tamas Szekeres
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409180.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mateusz at loskot.net  Fri Jul 11 13:47:09 2008
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Fri Jul 11 13:47:18 2008
Subject: [gdal-dev] Annotations in Personal GeoDatabases
In-Reply-To: <48779AD0.6020103@mapgears.com>
References: <4877604F.4060005@mapgears.com> <4877672C.6060900@pobox.com>
	<48779AD0.6020103@mapgears.com>
Message-ID: <48779C9D.5010903@loskot.net>

Daniel Morissette pisze:
> Frank Warmerdam wrote:
>>
>> It might be possible to return annotations with style strings, but it
>> would take some investigation to even establish if it is possible.  The
>> investigation would be the bulk of the work to actually implement it.
>>
> 
> Thanks for the answer Frank. I'm not too familiar with that stuff 
> either, I'll see if I could get more info from the client who asked 
> about this.

BTW, I believe the PGeo driver needs a little of love, I mean short 
review of its status against current versions of unixODBC and MDBTools 
on Unix.

IMO, may be unclear to users in what conditions the PGeo driver is fully 
  usable or partially usable.

Just a suggestions based on my own feeling on this topic. Leaving to 
Frank to decide.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From szekerest at gmail.com  Fri Jul 11 13:59:09 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Jul 11 13:59:13 2008
Subject: [Gdal-dev] Workaround for DataSet.GetGCPs from c#/java?
In-Reply-To: <18409180.post@talk.nabble.com>
References: <2DBB9F887DAA394FA75D98474EA5730D0399CEF5@vader.prologic-inc.com>
	<f3b73b7d0706190928i4e9f7fga050183f6ec2e16b@mail.gmail.com>
	<18409180.post@talk.nabble.com>
Message-ID: <f3b73b7d0807111059r7e44eb2di603d0a603b6bab9c@mail.gmail.com>

Hi,

This will requre a bindings specific implementation, I'll be trying to
implement something in this weekend if this issue is pressing for you.
But it will only affect the c# interface, though

Best regards,

Tamas



2008/7/11 fevans <fevans@harris.com>:
>
> I see the milestone for this is GDAL 1.5.3.
> http://trac.osgeo.org/gdal/ticket/1677
>
> Is there any other way to access the GCPs in java/c#? For example, would it
> be possible to construct a "SWIGTYPE_p_int", and a "SWIGTYPE_p_GDAL_GCP[]" ?
> I experimented a little but sort of hit a swig wall.
>
> BTW, keep up the great work Tamas.
>
>
>
> Tamas Szekeres wrote:
>>
>> 2007/6/19, Jason Beverage <jbeverage@prologic-inc.com>:
>>> Hi all,
>>>
>>> It seems like the signature for DataSet.GetGCPs is incorrect in the C#
>>> bindings.  It is currently:
>>> void DataSet.GetGCPs(SWIGTYPE_p_int nGCPs, SWIGTYPE_p_p_GDAL_GCP pGCPs)
>>>
>>> It seems like it should be:
>>> GCP[] Dataset.GetGCPs();
>>>
>>> Should I open a ticket?
>>>
>>> Thanks,
>>>
>>> Jason
>>>
>>
>> Yes please, and assign the ticket to the CSharpBindings component
>>
>> Best regards,
>>
>> Tamas Szekeres
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>
>
> --
> View this message in context: http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409180.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From fevans at harris.com  Fri Jul 11 14:02:52 2008
From: fevans at harris.com (fevans)
Date: Fri Jul 11 14:02:54 2008
Subject: [Gdal-dev] Workaround for DataSet.GetGCPs from c#/java?
In-Reply-To: <f3b73b7d0807111059r7e44eb2di603d0a603b6bab9c@mail.gmail.com>
References: <2DBB9F887DAA394FA75D98474EA5730D0399CEF5@vader.prologic-inc.com>
	<f3b73b7d0706190928i4e9f7fga050183f6ec2e16b@mail.gmail.com>
	<18409180.post@talk.nabble.com>
	<f3b73b7d0807111059r7e44eb2di603d0a603b6bab9c@mail.gmail.com>
Message-ID: <18409442.post@talk.nabble.com>


OK, c# works for me. Will be on task all weekend so let me know if I can
help. 


Tamas Szekeres wrote:
> 
> Hi,
> 
> This will requre a bindings specific implementation, I'll be trying to
> implement something in this weekend if this issue is pressing for you.
> But it will only affect the c# interface, though
> 
> Best regards,
> 
> Tamas
> 
> 
> 
> 2008/7/11 fevans <fevans@harris.com>:
>>
>> I see the milestone for this is GDAL 1.5.3.
>> http://trac.osgeo.org/gdal/ticket/1677
>>
>> Is there any other way to access the GCPs in java/c#? For example, would
>> it
>> be possible to construct a "SWIGTYPE_p_int", and a
>> "SWIGTYPE_p_GDAL_GCP[]" ?
>> I experimented a little but sort of hit a swig wall.
>>
>> BTW, keep up the great work Tamas.
>>
>>
>>
>> Tamas Szekeres wrote:
>>>
>>> 2007/6/19, Jason Beverage <jbeverage@prologic-inc.com>:
>>>> Hi all,
>>>>
>>>> It seems like the signature for DataSet.GetGCPs is incorrect in the C#
>>>> bindings.  It is currently:
>>>> void DataSet.GetGCPs(SWIGTYPE_p_int nGCPs, SWIGTYPE_p_p_GDAL_GCP pGCPs)
>>>>
>>>> It seems like it should be:
>>>> GCP[] Dataset.GetGCPs();
>>>>
>>>> Should I open a ticket?
>>>>
>>>> Thanks,
>>>>
>>>> Jason
>>>>
>>>
>>> Yes please, and assign the ticket to the CSharpBindings component
>>>
>>> Best regards,
>>>
>>> Tamas Szekeres
>>> _______________________________________________
>>> Gdal-dev mailing list
>>> Gdal-dev@lists.maptools.org
>>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409180.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409442.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Cameron.Ackerman at usace.army.mil  Fri Jul 11 14:17:33 2008
From: Cameron.Ackerman at usace.army.mil (Ackerman, Cameron T HEC)
Date: Fri Jul 11 14:17:36 2008
Subject: [gdal-dev] ESRI Binary .FLT files
Message-ID: <9C85452EF241E14EACF1FD68DD26329CC18DEA@iwr-ml1hec.hec.ds.usace.army.mil>


Has anyone any experience reading in ESRI Binary Float format files (.flt and
.hdr).  I have found discussions leading the need to add the nbits
and pixeltype keywords to the header file (.hdr) but no success stories
(myself included).

Class:  Dataset, Method: Open,
dataset = gdal.open(fltfile, readmethod)

Any advice would be appreciated.
Thanks, cam
From mhanson at photon.com  Fri Jul 11 14:18:28 2008
From: mhanson at photon.com (Matt Hanson)
Date: Fri Jul 11 14:18:38 2008
Subject: [gdal-dev] Description in ENVI driver
Message-ID: <0719BE42F22E0A46857DF72644EC5D70691EFD@pj-exchange.photon.com>

Hi,  I'm trying to access the Description field that appears in most
ENVI .hdr files.     GetDescription only retrieves the filename as that
is the behavior for GDALDatasets (GDALRasterbands supports a
description) and GetMetadata doesn't work as description doesn't appear
in the list.   

Anyone have any idea how to get this?

matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080711/8da2da8d/attachment.html
From warmerdam at pobox.com  Fri Jul 11 16:19:38 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jul 11 16:20:05 2008
Subject: [gdal-dev] Description in ENVI driver
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70691EFD@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70691EFD@pj-exchange.photon.com>
Message-ID: <4877C05A.6020809@pobox.com>

Matt Hanson wrote:
> Hi,  I?m trying to access the Description field that appears in most 
> ENVI .hdr files.     GetDescription only retrieves the filename as that 
> is the behavior for GDALDatasets (GDALRasterbands supports a 
> description) and GetMetadata doesn?t work as description doesn?t appear 
> in the list.  
> 
> Anyone have any idea how to get this?

Matt,

I see little no evidence that the current ENVI driver captures the dataset
level description.  It does capture the band names and return them as
descriptions on the band objects.

If you want dataset level descriptions, new code will need to be implemented.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Sat Jul 12 20:03:19 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Jul 12 20:03:21 2008
Subject: [gdal-dev] Should we use boolean type at the SWIG interface?
Message-ID: <f3b73b7d0807121703sddff2bfx8b219d62f9771bed@mail.gmail.com>

Devs,

By using boolean type in the SWIG bindings I currently get a number if
warnings when compiling the generated code:
http://buildbot.osgeo.org:8500/builders/szekerest-vc71-full/builds/36/steps/csharp-make/logs/stdio

Since there are no boolean value exposed by the gdal dll I suppose we
can use integers instead of booleans at the wrappers as well.

Any objection to relpace 'bool' with 'int' in ogr.i?

Best regards,

Tamas
From huntc at internode.on.net  Sun Jul 13 04:35:53 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Sun Jul 13 04:41:00 2008
Subject: [gdal-dev] Correct gdalwarp usage from UTM to Equidistant
	Cylindrical Projection
Message-ID: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>

Hi there,

First off, wow, gdal is great.

I'm obviously new to gdal so I'm hoping that you'll put up with what  
I'm sure will be regarded as a "newbie" style of question.

I have an image from Terraserver that is in a UTM 30 projection. I  
need to convert it to a Equidistant Cylindrical Projection. I would  
like to verify that I'm using the gdalwarp command properly so I'm  
helping that you can help me.

Here's the image info I have;

> Image Information:
> Date Taken: 1/1/1999
> Native Resolution: 15
> File Size: 3000 x 3000 (9.0 megapixels)
> Image Area: 18,225.00 sq km
>
> Coordinate Information:
> Center point Latitude: 51.46660 (51? 27' 60")
> Center point Longitude: -0.44990 (0? 26' 60")
>
> Upper left corner Latitude: 52.09038 (52? 5' 25")
> Upper left corner Longitude: -1.39985 (-1? 23' 59")
> Lower right corner Latitude: 50.83562 (50? 50' 8")
> Lower right corner Longitude: 0.47438 (0? 28' 28")
>
> Geo-reference Information:
> Projection: UTM Zone 30
> Datum: WGS 84
> Image Units: Meters

Furthermore, here's the associated tfw file contents:

> 45.000000
> 0.000000
> 0.000000
> -45.000000
> 609626.000120
> 5772299.000249


FInally here's the command I think I should be using:

> gdalwarp -s_srs '+proj=utm +zone=30 +datum=WGS84 +x_0=609626.000120  
> +y_0=5772299.000249' -t_srs '+proj=eqc' -dstalpha -multi  
> 169460-65786.tif out.tif

I certainly get a resultant image but I'm not experienced enough with  
cartography to understand whether the image is correct.

One thing that does confuse me slightly is that the centre lat/long in  
the resultant image is not the same as in the source image... I would  
have expected that they would be, or at least that the top left corner  
(which is what I thinking the northerly and easterly parameters point  
to) should be the same.

Another thing: I would expect to specify either a scale, a resolution  
or the other corner of the image... do I need to include something  
more in the command for this?

Thanks for any enlightenment. I'm fascinated by cartography and relish  
the prospect of learning gdal more.

Kind regards,
Christopher
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080713/4aa2dde3/attachment.html
From warmerdam at pobox.com  Sun Jul 13 13:08:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jul 13 13:08:33 2008
Subject: [gdal-dev] Should we use boolean type at the SWIG interface?
In-Reply-To: <f3b73b7d0807121703sddff2bfx8b219d62f9771bed@mail.gmail.com>
References: <f3b73b7d0807121703sddff2bfx8b219d62f9771bed@mail.gmail.com>
Message-ID: <487A3670.8040805@pobox.com>

Tamas Szekeres wrote:
> Devs,
> 
> By using boolean type in the SWIG bindings I currently get a number if
> warnings when compiling the generated code:
> http://buildbot.osgeo.org:8500/builders/szekerest-vc71-full/builds/36/steps/csharp-make/logs/stdio
> 
> Since there are no boolean value exposed by the gdal dll I suppose we
> can use integers instead of booleans at the wrappers as well.
> 
> Any objection to relpace 'bool' with 'int' in ogr.i?

Tamas,

I believe it would be simplest to expose boolean results as a int.

I see that the C API already treats the return result of TestCapability()
as an int.  I'm not sure why it was done differently in the swig include
file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Sun Jul 13 13:58:28 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Jul 13 13:58:31 2008
Subject: [gdal-dev] Should we use boolean type at the SWIG interface?
In-Reply-To: <487A3670.8040805@pobox.com>
References: <f3b73b7d0807121703sddff2bfx8b219d62f9771bed@mail.gmail.com>
	<487A3670.8040805@pobox.com>
Message-ID: <f3b73b7d0807131058id07d0f5y507c4c3dcc15ff6a@mail.gmail.com>

Frank,

I'd rather not to change the API as I've suggested before because many
existing code may rely on it. By using this change the existing
scripts should use the !=0 suffix in the conditions and this change
may be confusing.

What I would propose now is to change the related code according to
the following example:

bool TestCapability (const char *cap) {
    return OGR_Dr_TestCapability(self, cap) > 0? true: false;
  }

How about this way?

Tamas



2008/7/13 Frank Warmerdam <warmerdam@pobox.com>:
> Tamas Szekeres wrote:
>>
>> Devs,
>>
>> By using boolean type in the SWIG bindings I currently get a number if
>> warnings when compiling the generated code:
>>
>> http://buildbot.osgeo.org:8500/builders/szekerest-vc71-full/builds/36/steps/csharp-make/logs/stdio
>>
>> Since there are no boolean value exposed by the gdal dll I suppose we
>> can use integers instead of booleans at the wrappers as well.
>>
>> Any objection to relpace 'bool' with 'int' in ogr.i?
>
> Tamas,
>
> I believe it would be simplest to expose boolean results as a int.
>
> I see that the C API already treats the return result of TestCapability()
> as an int.  I'm not sure why it was done differently in the swig include
> file.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
From szekerest at gmail.com  Sun Jul 13 14:02:24 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Jul 13 14:02:27 2008
Subject: [gdal-dev] Should we use boolean type at the SWIG interface?
In-Reply-To: <f3b73b7d0807131058id07d0f5y507c4c3dcc15ff6a@mail.gmail.com>
References: <f3b73b7d0807121703sddff2bfx8b219d62f9771bed@mail.gmail.com>
	<487A3670.8040805@pobox.com>
	<f3b73b7d0807131058id07d0f5y507c4c3dcc15ff6a@mail.gmail.com>
Message-ID: <f3b73b7d0807131102j2ff406e9x201ea83a05401e93@mail.gmail.com>

Or simply

 bool TestCapability (const char *cap) {
    return (OGR_Dr_TestCapability(self, cap) > 0);
  }


2008/7/13 Tamas Szekeres <szekerest@gmail.com>:
> Frank,
>
> I'd rather not to change the API as I've suggested before because many
> existing code may rely on it. By using this change the existing
> scripts should use the !=0 suffix in the conditions and this change
> may be confusing.
>
> What I would propose now is to change the related code according to
> the following example:
>
> bool TestCapability (const char *cap) {
>    return OGR_Dr_TestCapability(self, cap) > 0? true: false;
>  }
>
> How about this way?
>
> Tamas
>
>
>
> 2008/7/13 Frank Warmerdam <warmerdam@pobox.com>:
>> Tamas Szekeres wrote:
>>>
>>> Devs,
>>>
>>> By using boolean type in the SWIG bindings I currently get a number if
>>> warnings when compiling the generated code:
>>>
>>> http://buildbot.osgeo.org:8500/builders/szekerest-vc71-full/builds/36/steps/csharp-make/logs/stdio
>>>
>>> Since there are no boolean value exposed by the gdal dll I suppose we
>>> can use integers instead of booleans at the wrappers as well.
>>>
>>> Any objection to relpace 'bool' with 'int' in ogr.i?
>>
>> Tamas,
>>
>> I believe it would be simplest to expose boolean results as a int.
>>
>> I see that the C API already treats the return result of TestCapability()
>> as an int.  I'm not sure why it was done differently in the swig include
>> file.
>>
>> Best regards,
>> --
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam,
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>>
>>
>
From warmerdam at pobox.com  Sun Jul 13 14:46:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jul 13 14:46:17 2008
Subject: [gdal-dev] Should we use boolean type at the SWIG interface?
In-Reply-To: <f3b73b7d0807131102j2ff406e9x201ea83a05401e93@mail.gmail.com>
References: <f3b73b7d0807121703sddff2bfx8b219d62f9771bed@mail.gmail.com>
	<487A3670.8040805@pobox.com>
	<f3b73b7d0807131058id07d0f5y507c4c3dcc15ff6a@mail.gmail.com>
	<f3b73b7d0807131102j2ff406e9x201ea83a05401e93@mail.gmail.com>
Message-ID: <487A4D68.4070600@pobox.com>

Tamas Szekeres wrote:
> Or simply
> 
>  bool TestCapability (const char *cap) {
>     return (OGR_Dr_TestCapability(self, cap) > 0);
>   }
> 
> 
> 2008/7/13 Tamas Szekeres <szekerest@gmail.com>:
>> Frank,
>>
>> I'd rather not to change the API as I've suggested before because many
>> existing code may rely on it. By using this change the existing
>> scripts should use the !=0 suffix in the conditions and this change
>> may be confusing.
>>
>> What I would propose now is to change the related code according to
>> the following example:
>>
>> bool TestCapability (const char *cap) {
>>    return OGR_Dr_TestCapability(self, cap) > 0? true: false;
>>  }
>>
>> How about this way?

Tamas,

This is acceptable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Shawn.Gong at drdc-rddc.gc.ca  Mon Jul 14 11:29:26 2008
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Mon Jul 14 11:29:29 2008
Subject: [gdal-dev] gdalinfo on RSAT-1 ScanSAR Narrow (or Wide)
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E12012F@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

Does GDAL tool identify RSAT-1 ScanSAR Narrow A from Narrow B?
When I run gdalinfo, it only extracts
"CEOS_LOGICAL_VOLUME_ID=RSAT-1-SAR-SCN"
and "get_dataset()GetMetadata()" doesn't tell either (whether it
consists of W1, W2 or W2, S5, S6).

I know someone has written C program to extract this info from its
metadata. Just wonder if I use existing gdal tool in Python.

thanks,
Shawn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080714/9251bf5e/attachment.html
From matt.gregory at oregonstate.edu  Mon Jul 14 12:26:15 2008
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Mon Jul 14 12:48:39 2008
Subject: [gdal-dev] using GDAL tiled datasets within ArcMap
Message-ID: <451453C181B199458A55B2B1723FAC00014E0804@SAGE.forestry.oregonstate.edu>

Hi list,

I've used gdal2tiles to create tiled datasets out of very large rasters.
However, I have only viewed the resultant PNGs within a web browser or
in Google Earth.  Does anybody have experience with viewing the results
within an ArcMap session?  If I'm understanding the format correctly,
ArcMap would have to be able to render an OSGeo Tile Map Service in
order for this to work?  It doesn't appear that ArcMap is able to take
advantage of the KML created with the -forcekml option.

Please straighten me out if I'm way off here.

thanks, matt
From crschmidt at metacarta.com  Mon Jul 14 13:01:24 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Mon Jul 14 13:01:26 2008
Subject: [gdal-dev] using GDAL tiled datasets within ArcMap
In-Reply-To: <451453C181B199458A55B2B1723FAC00014E0804@SAGE.forestry.oregonstate.edu>
References: <451453C181B199458A55B2B1723FAC00014E0804@SAGE.forestry.oregonstate.edu>
Message-ID: <20080714170123.GA26489@metacarta.com>

On Mon, Jul 14, 2008 at 09:26:15AM -0700, Gregory, Matthew wrote:
> Hi list,
> 
> I've used gdal2tiles to create tiled datasets out of very large rasters.
> However, I have only viewed the resultant PNGs within a web browser or
> in Google Earth.  Does anybody have experience with viewing the results
> within an ArcMap session?  If I'm understanding the format correctly,
> ArcMap would have to be able to render an OSGeo Tile Map Service in
> order for this to work?  It doesn't appear that ArcMap is able to take
> advantage of the KML created with the -forcekml option.

Your evaluation sounds correct, and I'm not aware of any way to read
these tilesets in ArcMap.

Regards,
-- 
Christopher Schmidt
MetaCarta
From frdcn at hotmail.com  Mon Jul 14 15:09:16 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Mon Jul 14 15:09:18 2008
Subject: [gdal-dev] undefined GDALAutoCreateWarpedVRT
Message-ID: <BAY110-W4550B0F24E64BB28898282B28D0@phx.gbl>

Hi:
 
I am using gdal in windows mobile 5 but I got
and undefined reference when calling GDALAutoCreateWarpedVRT
analysing the code I found that GDALAutoCreateWarpedVRT is defined
in gdalwarper.h but I couldn't find the implementation. Is this a bug
or am I doing something wrong?
 
Thanks
 
Godofredo Contreras 
_________________________________________________________________
The i?m Talkaton. Can 30-days of conversation change the world?
http://www.imtalkathon.com/?source=EML_WLH_Talkathon_ChangeWorld
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080714/ad06df6e/attachment.html
From warmerdam at pobox.com  Mon Jul 14 16:15:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jul 14 16:16:07 2008
Subject: [gdal-dev] undefined GDALAutoCreateWarpedVRT
In-Reply-To: <BAY110-W4550B0F24E64BB28898282B28D0@phx.gbl>
References: <BAY110-W4550B0F24E64BB28898282B28D0@phx.gbl>
Message-ID: <487BB3E1.9060900@pobox.com>

godofredo contreras wrote:
> Hi:
>  
> I am using gdal in windows mobile 5 but I got
> and undefined reference when calling GDALAutoCreateWarpedVRT
> analysing the code I found that GDALAutoCreateWarpedVRT is defined
> in gdalwarper.h but I couldn't find the implementation. Is this a bug
> or am I doing something wrong?

Godofredo,

This function is implemented in gdal/frmts/vrt/vrtwarped.cpp.

I don't know why it isn't found.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From nharding at extendthereach.com  Mon Jul 14 16:23:46 2008
From: nharding at extendthereach.com (Ned Harding)
Date: Mon Jul 14 16:23:56 2008
Subject: [gdal-dev] FW: Vertical Mapper grid format
Message-ID: <3B6819E719271748B923CE3CDBD4EC9803A78093@srcmail1.extendthereach.com>

FYI - I got this email about the GRD file format and posting it in case other people are interested.

ned.

---------------------------------------
I saw your postings on gmane.comp.gis.gdal.devel and tried to answer them on that forum, but my posting was rejected because I was not subscribed to that group. Below is some more info on this format which you may find useful. This has been determined by reverse engineering example files. You're welcome to post this info on the forum, but please leave my email address off. Ta.

----

The information Andrew provided agrees with what I have found out about this format, but below is a bit more detail.

The first 5 bytes of the file can also be "HGPC8" if the grid is classified. In this case the file extension with be ".GRC" instead of ".GRD". Classified grids can store either an 8-bit or 16-bit value for each grid cell. To determine which it is you need to look at the byte at offset 1023. This will normally be zero for a GRD grid, but for GRC grids, it can be either 0 or 2. A value of 0 means values are 16-bit, while a value of 2 means values are 8-bit. 16-bits are used if there are 255 or more classes.

Note that the (MinX,MinY) position is the centre of the bottom-left cell.

Offset 0: "HGPC1" or "HGPC8"
Offset 5: Version number (4-byte float) - usually 1.0 or 2.0
Offset 9: Number of columns (2-byte short)
Offset 11: Number of rows (2-byte short)
Offset 13: Min X (8-byte double)
Offset 21: Max X (8-byte double)
Offset 29: Min Y (8-byte double)
Offset 37: Max Y (8-byte double)
Offset 45: Min Z (4-byte float)
Offset 49: Max Z (4-byte float)
Offset 61: String describing the grid
Offset 93: String for units used e.g. "meters"
Offset 256: Coordinate system string in MapInfo format e.g. "CoordSys Earth..."
Offset 512: Units code (1 byte). Codes 0 thru 32 are same as MapInfo's ones, 
others are unique to Vertical Mapper.
Offset 513: Display flags (1 byte)
Offset 516: Number of colours in colour/inflection table (2-byte short)
Offset 518: Colour/inflection table (7 bytes per entry: 4-byte float value, 
then R G B bytes)
Offset 966: Shading azimuth (4-byte float)
Offset 970: Shading inclination (4-byte float)
Offset 1023: Value size indicator (0 if 2-byte values, 2 if 1-byte values)
Offset 1024: Grid data (either 1-byte or 2-bytes per grid cell)

The grid data can be followed by relief shading data (1 byte per grid cell) if bit 6 of the display flags is set.

If the grid is classified, a table follows the grid data which contains an 
entry for each class including the value, RGB colour, and a label. The label can include hierarchical components (separated by "/"'s) to allow it to be displayed in a tree in Vertical Mapper.

Cheers,
Anthony.



From dnelson99 at gmail.com  Mon Jul 14 18:18:59 2008
From: dnelson99 at gmail.com (David M Nelson)
Date: Mon Jul 14 18:19:01 2008
Subject: [Gdal-dev] Using VRT to project/rotate tiff files on-the-fly
Message-ID: <18448351.post@talk.nabble.com>


I have a series of unprojected, single-frame images.  We want to be able to
project them on-the-fly by generating a VRT file for each image.  However,
none of the images are oriented north-up--they are all uniquely oriented
because of the flightpath taken by the platform during the time of
acquisition.  I have not been able to find a way to generate a VRT that
takes orientation into account.  I tried to use the X-rotation and the
Y-rotation, but this completely distorts the image setting some of the
coordinate values to 35,000+ deg.  I think that the orientation values are
supposed to be for the reference frame anyway and not the images (?).

So my question is: is there a way to generate a VRT file which will project
and orient correctly an unprojected image?

Thanks for your help!

David
-- 
View this message in context: http://www.nabble.com/Using-VRT-to-project-rotate-tiff-files-on-the-fly-tp18448351p18448351.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Mon Jul 14 19:08:28 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Jul 14 19:08:41 2008
Subject: [Gdal-dev] Workaround for DataSet.GetGCPs from c#/java?
In-Reply-To: <18409442.post@talk.nabble.com>
References: <2DBB9F887DAA394FA75D98474EA5730D0399CEF5@vader.prologic-inc.com>
	<f3b73b7d0706190928i4e9f7fga050183f6ec2e16b@mail.gmail.com>
	<18409180.post@talk.nabble.com>
	<f3b73b7d0807111059r7e44eb2di603d0a603b6bab9c@mail.gmail.com>
	<18409442.post@talk.nabble.com>
Message-ID: <f3b73b7d0807141608i7dc4d693oe93d32ebf4d7e58c@mail.gmail.com>

FYI: I've just added the implementation for the Dataset.GetGCPs,
Dataset.SetGCPs and GCPsToGeotransform for the C# bindings in the
SVN-trunk. I've added the use cases for these functions in the
GDALWrite and GDALInfo sample applications. Will also apply these in
the stable branch soon.


Best regards,

Tamas


2008/7/11 fevans <fevans@harris.com>:
>
> OK, c# works for me. Will be on task all weekend so let me know if I can
> help.
>
>
> Tamas Szekeres wrote:
>>
>> Hi,
>>
>> This will requre a bindings specific implementation, I'll be trying to
>> implement something in this weekend if this issue is pressing for you.
>> But it will only affect the c# interface, though
>>
>> Best regards,
>>
>> Tamas
>>
>>
>>
>> 2008/7/11 fevans <fevans@harris.com>:
>>>
>>> I see the milestone for this is GDAL 1.5.3.
>>> http://trac.osgeo.org/gdal/ticket/1677
>>>
>>> Is there any other way to access the GCPs in java/c#? For example, would
>>> it
>>> be possible to construct a "SWIGTYPE_p_int", and a
>>> "SWIGTYPE_p_GDAL_GCP[]" ?
>>> I experimented a little but sort of hit a swig wall.
>>>
>>> BTW, keep up the great work Tamas.
>>>
>>>
>>>
>>> Tamas Szekeres wrote:
>>>>
>>>> 2007/6/19, Jason Beverage <jbeverage@prologic-inc.com>:
>>>>> Hi all,
>>>>>
>>>>> It seems like the signature for DataSet.GetGCPs is incorrect in the C#
>>>>> bindings.  It is currently:
>>>>> void DataSet.GetGCPs(SWIGTYPE_p_int nGCPs, SWIGTYPE_p_p_GDAL_GCP pGCPs)
>>>>>
>>>>> It seems like it should be:
>>>>> GCP[] Dataset.GetGCPs();
>>>>>
>>>>> Should I open a ticket?
>>>>>
>>>>> Thanks,
>>>>>
>>>>> Jason
>>>>>
>>>>
>>>> Yes please, and assign the ticket to the CSharpBindings component
>>>>
>>>> Best regards,
>>>>
>>>> Tamas Szekeres
>>>> _______________________________________________
>>>> Gdal-dev mailing list
>>>> Gdal-dev@lists.maptools.org
>>>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>
>>> --
>>> View this message in context:
>>> http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409180.html
>>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
> --
> View this message in context: http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409442.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From yann.chemin at gmail.com  Mon Jul 14 22:51:46 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Mon Jul 14 22:51:50 2008
Subject: [gdal-dev] from Linux to Windows,
	from osgeo import gdal and friends...
Message-ID: <4f37eb890807141951s1bdc3d68vae21af277226e5fa@mail.gmail.com>

Hello,

Anybody could point to a Windows setup.exe file that could make this
work everywhere on the Windows machine?

from osgeo import gdalnumeric
from osgeo import gdal
from osgeo import gdalconst

Thanks,
Yann

-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
From yann.chemin at gmail.com  Mon Jul 14 23:09:43 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Mon Jul 14 23:09:46 2008
Subject: [gdal-dev] Re: from Linux to Windows,
	from osgeo import gdal and friends...
In-Reply-To: <4f37eb890807141951s1bdc3d68vae21af277226e5fa@mail.gmail.com>
References: <4f37eb890807141951s1bdc3d68vae21af277226e5fa@mail.gmail.com>
Message-ID: <4f37eb890807142009r1a825d51sceff6111fd1256aa@mail.gmail.com>

ok got it:

http://pypi.python.org/packages/2.5/G/GDAL/GDAL-1.5.2.win32-py2.5.exe

take gdal15.dll, libcurl.dll, libgeos_c_fw.dll, and zlib1.dll from
http://download.osgeo.org/gdal/win32/1.5/gdalwin32exe150.zip
and keep them close from your .py applications requiring from osgeo import...

thanks
Yann

2008/7/15 Yann Chemin <yann.chemin@gmail.com>:
> Hello,
>
> Anybody could point to a Windows setup.exe file that could make this
> work everywhere on the Windows machine?
>
> from osgeo import gdalnumeric
> from osgeo import gdal
> from osgeo import gdalconst
>
> Thanks,
> Yann
>
> --
> Yann Chemin
> International Rice Research Institute
> Office: http://www.irri.org/gis
> Perso: http://www.freewebs.com/ychemin
>



-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
From yann.chemin at gmail.com  Tue Jul 15 05:27:29 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Tue Jul 15 05:27:33 2008
Subject: [gdal-dev] From Linux to Windows (2)
Message-ID: <4f37eb890807150227p3ed3310dy233654c32838eef1@mail.gmail.com>

Hello again,

I have a very simple GDAL-python code (LoadFile() then NDVI calculations).
when I run it on my laptop (Debian/Sid 2Gb RAM) there is no problem,
only few seconds for a 65Mb (x2) image inputs.
When I do the same in Windows, it gets stuck in the NDVI equation saying:

"(nirchan-redchan)/(nirchan+redchan)
MemoryError"

The Windows Desktop I use is 4Gb RAM and is loaded with standard python+GDAL.

Any comment would be welcome
Yann

-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
From warmerdam at pobox.com  Tue Jul 15 08:58:18 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 15 08:58:38 2008
Subject: [gdal-dev] From Linux to Windows (2)
In-Reply-To: <4f37eb890807150227p3ed3310dy233654c32838eef1@mail.gmail.com>
References: <4f37eb890807150227p3ed3310dy233654c32838eef1@mail.gmail.com>
Message-ID: <487C9EEA.8000109@pobox.com>

Yann Chemin wrote:
> Hello again,
> 
> I have a very simple GDAL-python code (LoadFile() then NDVI calculations).
> when I run it on my laptop (Debian/Sid 2Gb RAM) there is no problem,
> only few seconds for a 65Mb (x2) image inputs.
> When I do the same in Windows, it gets stuck in the NDVI equation saying:
> 
> "(nirchan-redchan)/(nirchan+redchan)
> MemoryError"
> 
> The Windows Desktop I use is 4Gb RAM and is loaded with standard python+GDAL.

Yann,

I presume this is an issue with how windows handles address space and that
the process is unable to allocate more 32bit addressable RAM on windows
even though there is lots of physical RAM left.  I'm not exactly clear on
why you run into this on Windows and not on Linux but their memory
management does differ significantly.

My suggestion is that you alter your script to operate on smaller chunks
of the file at a time which will unfortunately complicate it quite a bit.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Jul 15 13:10:23 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 15 13:10:58 2008
Subject: [Gdal-dev] Using VRT to project/rotate tiff files on-the-fly
In-Reply-To: <18448351.post@talk.nabble.com>
References: <18448351.post@talk.nabble.com>
Message-ID: <487CD9FF.8070604@pobox.com>

David M Nelson wrote:
> I have a series of unprojected, single-frame images.  We want to be able to
> project them on-the-fly by generating a VRT file for each image.  However,
> none of the images are oriented north-up--they are all uniquely oriented
> because of the flightpath taken by the platform during the time of
> acquisition.  I have not been able to find a way to generate a VRT that
> takes orientation into account.  I tried to use the X-rotation and the
> Y-rotation, but this completely distorts the image setting some of the
> coordinate values to 35,000+ deg.  I think that the orientation values are
> supposed to be for the reference frame anyway and not the images (?).
> 
> So my question is: is there a way to generate a VRT file which will project
> and orient correctly an unprojected image?

David,

If they are still very regularly sampled (only requiring an affine
transformation to a north up uniform grid) you should be able to express
the georeferencing with an appropriate geotransform though computing it may
be a bit tricky.

If the are not necessarily really regular you could create a VRT that
expresses their georeferencing in terms of georeferenced locations at
known pixel control points (ie. GCPs). A simple example of an image
georeferenced with GCPs using a VRT is:

<VRTDataset rasterXSize="512" rasterYSize="512">
   <Metadata/>
   <GCPList>
     <GCP Id="1" Pixel="0.0000" Line="0.0000" X="1.000000000000E+04" 
Y="5.000000000000E+03"/>
     <GCP Id="2" Pixel="500.0000" Line="0.0000" X="1.200000000000E+04" 
Y="7.000000000000E+03"/>
     <GCP Id="3" Pixel="250.0000" Line="500.0000" X="9.000000000000E+03" 
Y="6.000000000000E+03"/>
   </GCPList>
   <VRTRasterBand dataType="Byte" band="1">
     <Metadata/>
     <ColorInterp>Gray</ColorInterp>
     <SimpleSource>
       <SourceFilename relativeToVRT="1">gcp.tif</SourceFilename>
       <SourceBand>1</SourceBand>
       <SourceProperties RasterXSize="512" RasterYSize="512" DataType="Byte" 
BlockXSize="512" BlockYSize="16"/>
       <SrcRect xOff="0" yOff="0" xSize="512" ySize="512"/>
       <DstRect xOff="0" yOff="0" xSize="512" ySize="512"/>
     </SimpleSource>
   </VRTRasterBand>
</VRTDataset>

However, this depends on the application reading the image knowing how
to utilize GCPs which many do not.  You could actually rectify the image
with gdalwarp.  But if you don't want to do that you can also create a
"warped vrt" which is a virtual image representing what gdalwarp would
have produced.  For instance, for the above this might look like:

<VRTDataset rasterXSize="1448" rasterYSize="724" subClass="VRTWarpedDataset">
   <GeoTransform>  7.9520000000000000e+03,  2.8284271247461898e+00, 
0.0000000000000000e+00,  7.0480000000000000e+03,  0.0000000000000000e+00, 
-2.8284271247461898e+00</GeoTransform>
   <VRTRasterBand dataType="Byte" band="1" subClass="VRTWarpedRasterBand"/>
   <BlockXSize>512</BlockXSize>
   <BlockYSize>128</BlockYSize>
   <GDALWarpOptions>
     <WarpMemoryLimit>6.71089e+07</WarpMemoryLimit>
     <ResampleAlg>NearestNeighbour</ResampleAlg>
     <WorkingDataType>Byte</WorkingDataType>
     <Option name="INIT_DEST">0</Option>
     <SourceDataset relativeToVRT="1">gcp.tif</SourceDataset>
     <Transformer>
       <ApproxTransformer>
         <MaxError>0.125</MaxError>
         <BaseTransformer>
           <GenImgProjTransformer>
             <SrcGCPTransformer>
               <GCPTransformer>
                 <Order>1</Order>
                 <Reversed>0</Reversed>
                 <GCPList>
                   <GCP Id="1" Pixel="0.0000" Line="0.0000" 
X="1.000000000000E+04" Y="5.000000000000E+03"/>
                   <GCP Id="2" Pixel="500.0000" Line="0.0000" 
X="1.200000000000E+04" Y="7.000000000000E+03"/>
                   <GCP Id="3" Pixel="250.0000" Line="500.0000" 
X="9.000000000000E+03" Y="6.000000000000E+03"/>
                 </GCPList>
               </GCPTransformer>
             </SrcGCPTransformer>
 
<DstGeoTransform>7952,2.82842712474619,0,7048,0,-2.82842712474619</DstGeoTransform>
 
<DstInvGeoTransform>-2811.456561997713,0.3535533905932738,0,2491.844296901394,0,-0.3535533905932738</DstInvGeoTransform>
           </GenImgProjTransformer>
         </BaseTransformer>
       </ApproxTransformer>
     </Transformer>
     <BandList>
       <BandMapping src="1" dst="1"/>
     </BandList>
   </GDALWarpOptions>
</VRTDataset>

Any GDAL supporting application will read the warped vrt as a north up image.
The commands I used to create the above examples are:

gdal_translate plain.tif gcp.tif -gcp 0 0 10000 5000
         -gcp 500 0 12000 7000 -gcp 250 500 9000 6000

gdal_translate gcp.tif gcp.vrt -of VRT

gdalwarp -of VRT gcp.tif warped.vrt

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From huntc at internode.on.net  Tue Jul 15 18:58:02 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Tue Jul 15 18:58:08 2008
Subject: [gdal-dev] Re: Correct gdalwarp usage from UTM to Equidistant
	Cylindrical Projection
In-Reply-To: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
Message-ID: <4832DED8-7E52-4AF4-9872-C1D47EBED355@internode.on.net>

Anyone? :-)

On 13/07/2008, at 6:35 PM, Christopher Hunt wrote:

> Hi there,
>
> First off, wow, gdal is great.
>
> I'm obviously new to gdal so I'm hoping that you'll put up with what  
> I'm sure will be regarded as a "newbie" style of question.
>
> I have an image from Terraserver that is in a UTM 30 projection. I  
> need to convert it to a Equidistant Cylindrical Projection. I would  
> like to verify that I'm using the gdalwarp command properly so I'm  
> helping that you can help me.
>
> Here's the image info I have;
>
>> Image Information:
>> Date Taken: 1/1/1999
>> Native Resolution: 15
>> File Size: 3000 x 3000 (9.0 megapixels)
>> Image Area: 18,225.00 sq km
>>
>> Coordinate Information:
>> Center point Latitude: 51.46660 (51? 27' 60")
>> Center point Longitude: -0.44990 (0? 26' 60")
>>
>> Upper left corner Latitude: 52.09038 (52? 5' 25")
>> Upper left corner Longitude: -1.39985 (-1? 23' 59")
>> Lower right corner Latitude: 50.83562 (50? 50' 8")
>> Lower right corner Longitude: 0.47438 (0? 28' 28")
>>
>> Geo-reference Information:
>> Projection: UTM Zone 30
>> Datum: WGS 84
>> Image Units: Meters
>
> Furthermore, here's the associated tfw file contents:
>
>> 45.000000
>> 0.000000
>> 0.000000
>> -45.000000
>> 609626.000120
>> 5772299.000249
>
>
> FInally here's the command I think I should be using:
>
>> gdalwarp -s_srs '+proj=utm +zone=30 +datum=WGS84 +x_0=609626.000120  
>> +y_0=5772299.000249' -t_srs '+proj=eqc' -dstalpha -multi  
>> 169460-65786.tif out.tif
>
> I certainly get a resultant image but I'm not experienced enough  
> with cartography to understand whether the image is correct.
>
> One thing that does confuse me slightly is that the centre lat/long  
> in the resultant image is not the same as in the source image... I  
> would have expected that they would be, or at least that the top  
> left corner (which is what I thinking the northerly and easterly  
> parameters point to) should be the same.
>
> Another thing: I would expect to specify either a scale, a  
> resolution or the other corner of the image... do I need to include  
> something more in the command for this?
>
> Thanks for any enlightenment. I'm fascinated by cartography and  
> relish the prospect of learning gdal more.
>
> Kind regards,
> Christopher

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080716/4c80144c/attachment.html
From warmerdam at pobox.com  Tue Jul 15 20:09:06 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 15 20:09:34 2008
Subject: [gdal-dev] Correct gdalwarp usage from UTM to Equidistant
	Cylindrical Projection
In-Reply-To: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
Message-ID: <487D3C22.3070501@pobox.com>

Christopher Hunt wrote:
>> Upper left corner Latitude: 52.09038 (52? 5' 25")
>> Upper left corner Longitude: -1.39985 (-1? 23' 59")
>> Lower right corner Latitude: 50.83562 (50? 50' 8")
>> Lower right corner Longitude: 0.47438 (0? 28' 28")
>>
>> Geo-reference Information: 
>> Projection: UTM Zone 30
>> Datum: WGS 84
>> Image Units: Meters
> 
> Furthermore, here's the associated tfw file contents:
> 
>> 45.000000
>> 0.000000
>> 0.000000
>> -45.000000
>> 609626.000120
>> 5772299.000249

Christopher,

This world file gives consistent locations for the upper left
corner.  I didn't try the bottom right corner, but how did you
come up with 45 meter pixels when the metadata indicated
"Native Resolution: 15" which I might guess to mean 15m pixels?


> FInally here's the command I think I should be using:
> 
>> gdalwarp -s_srs '+proj=utm +zone=30 +datum=WGS84 +x_0=609626.000120 
>> +y_0=5772299.000249' -t_srs '+proj=eqc' -dstalpha -multi 
>> 169460-65786.tif out.tif

Please, always use datum definitions when using PROJ.4 style strings.
So the -t_srs argument would be '+proj=eqc +datum=WGS84'.  It likely
doesn't matter, but it makes my skin crawl not to have this specified.

> I certainly get a resultant image but I'm not experienced enough with 
> cartography to understand whether the image is correct.
> 
> One thing that does confuse me slightly is that the centre lat/long in 
> the resultant image is not the same as in the source image... I would 
> have expected that they would be, or at least that the top left corner 
> (which is what I thinking the northerly and easterly parameters point 
> to) should be the same.

The center and top left should be similar, but need not be exactly
the same.  The UTM image will have a non-rectangular shape in a
different projection and so the region of the output image will be
somewhat larger than the original image (to contain the odd shape).
This will have some effect on corners and center.  But the differences
should be modest.

> Another thing: I would expect to specify either a scale, a resolution or 
> the other corner of the image... do I need to include something more in 
> the command for this?

The gdalwarp command will default to creating the output image with a
similar pixel size to the source image.  But you can specify a particular
pixel size or extents if you want fine control.

It would have been interesting if you could have included the gdalinfo
report for the output file so we could easily compare the region to the
region described in your metadata.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From huntc at internode.on.net  Tue Jul 15 22:16:15 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Tue Jul 15 22:16:43 2008
Subject: [gdal-dev] Correct gdalwarp usage from UTM to Equidistant
	Cylindrical Projection
In-Reply-To: <487D3C22.3070501@pobox.com>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
Message-ID: <7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>

Hi Frank,

Thanks so much for responding. Here are my responses...

On 16/07/2008, at 10:09 AM, Frank Warmerdam wrote:

> This world file gives consistent locations for the upper left
> corner.  I didn't try the bottom right corner, but how did you
> come up with 45 meter pixels when the metadata indicated
> "Native Resolution: 15" which I might guess to mean 15m pixels?
Yes, that is interesting isn't it... the description of the image  
(ReadMe.txt) and the world file both came from TerraServer.

Given that the overall area is 18,225.00 sq km (it also tells me that  
in the readme) and the dimensions are 3000x3000, I get 45m per pixel.  
So who knows what the 15 refers to...

>>>
> Please, always use datum definitions when using PROJ.4 style strings.
> So the -t_srs argument would be '+proj=eqc +datum=WGS84'.  It likely
> doesn't matter, but it makes my skin crawl not to have this specified.
We wouldn't want that! I shall do this.

>> I certainly get a resultant image but I'm not experienced enough  
>> with cartography to understand whether the image is correct.
>> One thing that does confuse me slightly is that the centre lat/long  
>> in the resultant image is not the same as in the source image... I  
>> would have expected that they would be, or at least that the top  
>> left corner (which is what I thinking the northerly and easterly  
>> parameters point to) should be the same.
>
> The center and top left should be similar, but need not be exactly
> the same.  The UTM image will have a non-rectangular shape in a
> different projection and so the region of the output image will be
> somewhat larger than the original image (to contain the odd shape).
> This will have some effect on corners and center.  But the differences
> should be modest.
Thanks for the explanation.

> The gdalwarp command will default to creating the output image with a
> similar pixel size to the source image.  But you can specify a  
> particular
> pixel size or extents if you want fine control.
>
> It would have been interesting if you could have included the gdalinfo
> report for the output file so we could easily compare the region to  
> the
> region described in your metadata.
Here's the gdalinfo:

Driver: GTiff/GeoTIFF
Files: /Volumes/Users HD/Users/huntc/Documents/Class Action Doco/Titan  
Class/Heathrow/169460-65786.tif
Size is 3000, 3000
Coordinate System is `'
Origin = (609603.500119999982417,5772321.500249000266194)
Pixel Size = (45.000000000000000,-45.000000000000000)
Metadata:
   TIFFTAG_XRESOLUTION=96
   TIFFTAG_YRESOLUTION=96
   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  609603.500, 5772321.500)
Lower Left  (  609603.500, 5637321.500)
Upper Right (  744603.500, 5772321.500)
Lower Right (  744603.500, 5637321.500)
Center      (  677103.500, 5704821.500)
Band 1 Block=3000x1 Type=Byte, ColorInterp=Red
Band 2 Block=3000x1 Type=Byte, ColorInterp=Green
Band 3 Block=3000x1 Type=Byte, ColorInterp=Blue

Finally then, here's how my command now looks - is it complete?

   gdalwarp -s_srs '+proj=utm +zone=30 +datum=WGS84' -t_srs '+proj=eqc  
+datum=WGS84' -dstalpha -multi 169460-65786.tif out.tif

(I'm presuming that I don't need to specify the northerly or easterly  
component because the file contains this as the origin... and also,  
the origin assumes the top left corner...)

Thanks again for your help.

Cheers,
-C

From warmerdam at pobox.com  Tue Jul 15 22:27:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 15 22:27:38 2008
Subject: [gdal-dev] Correct gdalwarp usage from UTM to Equidistant
	Cylindrical Projection
In-Reply-To: <7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
Message-ID: <487D5C8C.1000104@pobox.com>

Christopher Hunt wrote:
>> It would have been interesting if you could have included the gdalinfo
>> report for the output file so we could easily compare the region to the
>> region described in your metadata.
> Here's the gdalinfo:
> 
> Driver: GTiff/GeoTIFF
> Files: /Volumes/Users HD/Users/huntc/Documents/Class Action Doco/Titan 
> Class/Heathrow/169460-65786.tif
> Size is 3000, 3000
> Coordinate System is `'
> Origin = (609603.500119999982417,5772321.500249000266194)
> Pixel Size = (45.000000000000000,-45.000000000000000)
> Metadata:
>   TIFFTAG_XRESOLUTION=96
>   TIFFTAG_YRESOLUTION=96
>   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
> Image Structure Metadata:
>   INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  (  609603.500, 5772321.500)
> Lower Left  (  609603.500, 5637321.500)
> Upper Right (  744603.500, 5772321.500)
> Lower Right (  744603.500, 5637321.500)
> Center      (  677103.500, 5704821.500)
> Band 1 Block=3000x1 Type=Byte, ColorInterp=Red
> Band 2 Block=3000x1 Type=Byte, ColorInterp=Green
> Band 3 Block=3000x1 Type=Byte, ColorInterp=Blue
> 
> Finally then, here's how my command now looks - is it complete?
> 
>   gdalwarp -s_srs '+proj=utm +zone=30 +datum=WGS84' -t_srs '+proj=eqc 
> +datum=WGS84' -dstalpha -multi 169460-65786.tif out.tif
> 
> (I'm presuming that I don't need to specify the northerly or easterly 
> component because the file contains this as the origin... and also, the 
> origin assumes the top left corner...)
> 
> Thanks again for your help.

Christopher,

Everything looks fine, but I had actually been hoping to see the
gdalinfo report for the *output* file, not the input.  The output
should have a coordinate system attached, so we should actually see
that lat/long corner coordinates in addition to the projected coordinates.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From huntc at internode.on.net  Tue Jul 15 22:47:12 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Tue Jul 15 22:47:22 2008
Subject: [gdal-dev] Correct gdalwarp usage from UTM to Equidistant
	Cylindrical Projection
In-Reply-To: <487D5C8C.1000104@pobox.com>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
	<487D5C8C.1000104@pobox.com>
Message-ID: <86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>

On 16/07/2008, at 12:27 PM, Frank Warmerdam wrote:

> Everything looks fine, but I had actually been hoping to see the
> gdalinfo report for the *output* file, not the input.  The output
> should have a coordinate system attached, so we should actually see
> that lat/long corner coordinates in addition to the projected  
> coordinates.
Ah - sorry - here you are:

Driver: GTiff/GeoTIFF
Files: out.tif
Size is 3780, 2360
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["WGS 84",
         DATUM["WGS_1984",
             SPHEROID["WGS 84",6378137,298.2572235630016,
                 AUTHORITY["EPSG","7030"]],
             AUTHORITY["EPSG","6326"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4326"]],
     PROJECTION["Equirectangular"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",0],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (-160532.836602925264742,5798698.057208529673517)
Pixel Size = (59.180187349429140,-59.180187349429140)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( -160532.837, 5798698.057) (  1d26'31.53"W, 52d 5'26.13"N)
Lower Left  ( -160532.837, 5659032.815) (  1d26'31.53"W, 50d50'9.44"N)
Upper Right (   63168.272, 5798698.057) (  0d34'2.82"E, 52d 5'26.13"N)
Lower Right (   63168.272, 5659032.815) (  0d34'2.82"E, 50d50'9.44"N)
Center      (  -48682.283, 5728865.436) (  0d26'14.35"W, 51d27'47.79"N)
Band 1 Block=3780x1 Type=Byte, ColorInterp=Red
   Mask Flags: PER_DATASET ALPHA
Band 2 Block=3780x1 Type=Byte, ColorInterp=Green
   Mask Flags: PER_DATASET ALPHA
Band 3 Block=3780x1 Type=Byte, ColorInterp=Blue
   Mask Flags: PER_DATASET ALPHA
Band 4 Block=3780x1 Type=Byte, ColorInterp=Alpha

Thanks again for the verification.

Cheers,
-C
From sts5678 at yahoo.com  Wed Jul 16 11:53:21 2008
From: sts5678 at yahoo.com (stephen tan)
Date: Wed Jul 16 11:53:22 2008
Subject: [gdal-dev] reading large image files
Message-ID: <409252.40587.qm@web50609.mail.re2.yahoo.com>

I have a nitf image that I am trying to read into an array using gdal-1.5.1.  The file is about 1.5G .

gdalinfo returns the following information:
    Size is 27552, 25196
    ...
    Band 1 Block=1024x1024 Type=UInt16, ColorInterp=Undefined

I have tried to read the image into an array using the following code:
    GDALDataset  *poDataset;

    GDALAllRegister();

    poDataset = (GDALDataset *) GDALOpenShared( fname.c_str(), 
GA_ReadOnly );
    if( poDataset == NULL )
    {
        cerr << "Could not open file: " << fname << endl;
        exit(1);
    }

    int width = poDataset->GetRasterXSize();
    int height = poDataset->GetRasterYSize();
    int bands = poDataset->GetRasterCount();

    GDALRasterBand  *poBand;
    int nBlockXSize, nBlockYSize;
   
    poBand = poDataset->GetRasterBand( 1 );

    poBand->GetBlockSize( &nBlockXSize, &nBlockYSize );

    //float* data;
    //data = (float *) CPLMalloc(sizeof(float)*width*height*bands);

    float* data;
    data = new float[width*height*bands];

    //GByte* data;
    //data = (GByte *) CPLMalloc(sizeof(float)*width*height*bands);

    //GByte data[width*height*bands];

    if(poBand->RasterIO( GF_Read, 0, 0, width, height, data, width, 
height, GDT_Byte, 0, 0 ))
    {
        cerr << "Error: Could not read image data." << endl;
        exit(1);
    }
    GDALClose(poDataset);

No errors are returned.  I let it run for several mins before I hit CTRL+C.
Any C++ suggestions on getting the image into a 1D array and/or 2D array 
would be most helpful.  The above code works for smaller images.  I have also tried different GDALSetCacheMax with no success.

Thanks


      
From even.rouault at mines-paris.org  Wed Jul 16 15:03:33 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jul 16 15:03:40 2008
Subject: [gdal-dev] reading large image files
In-Reply-To: <409252.40587.qm@web50609.mail.re2.yahoo.com>
References: <409252.40587.qm@web50609.mail.re2.yahoo.com>
Message-ID: <200807162103.34428.even.rouault@mines-paris.org>

Stephen,

My first answer was "Maybe you have not waited long enough... ;-)"

But I could also reproduce the slowness with GDAL <= 1.5.2 while reading such 
a huge amount of data into one call.
There was an inefficient reading strategy in GDALRasterBand::IRasterIO that 
your dataset precisely hits, that is to say raster with big raster dimensions 
and tiled data. This is bug #2457 and it has been fixed recently in the SVN 
branch of 1.5 (in r14863) and trunk. I can confirm that updating to r14863 of 
branches/1.5 fixes the slowlyness.

So several solutions come to mind :
* try to read your file piece by piece (ideally by adjusting your requests on 
block boundaries)
* update to the SVN version 
* wait for the next release 
* try with GDAL_CACHEMAX=54, because 54 MB = 56 623 104 bytes > (1024 * 1024 * 
2) * (27552 / 1024). See #2457 for the explanation of that formula ;-) 

(Side note, I see one error in your code. You ask for GDT_Byte data but you 
allocate a float array. )

Best regards

Le Wednesday 16 July 2008 17:53:21 stephen tan, vous avez ?crit?:
> I have a nitf image that I am trying to read into an array using
> gdal-1.5.1.  The file is about 1.5G .
>
> gdalinfo returns the following information:
>     Size is 27552, 25196
>     ...
>     Band 1 Block=1024x1024 Type=UInt16, ColorInterp=Undefined
>
> I have tried to read the image into an array using the following code:
>     GDALDataset  *poDataset;
>
>     GDALAllRegister();
>
>     poDataset = (GDALDataset *) GDALOpenShared( fname.c_str(),
> GA_ReadOnly );
>     if( poDataset == NULL )
>     {
>         cerr << "Could not open file: " << fname << endl;
>         exit(1);
>     }
>
>     int width = poDataset->GetRasterXSize();
>     int height = poDataset->GetRasterYSize();
>     int bands = poDataset->GetRasterCount();
>
>     GDALRasterBand  *poBand;
>     int nBlockXSize, nBlockYSize;
>
>     poBand = poDataset->GetRasterBand( 1 );
>
>     poBand->GetBlockSize( &nBlockXSize, &nBlockYSize );
>
>     //float* data;
>     //data = (float *) CPLMalloc(sizeof(float)*width*height*bands);
>
>     float* data;
>     data = new float[width*height*bands];
>
>     //GByte* data;
>     //data = (GByte *) CPLMalloc(sizeof(float)*width*height*bands);
>
>     //GByte data[width*height*bands];
>
>     if(poBand->RasterIO( GF_Read, 0, 0, width, height, data, width,
> height, GDT_Byte, 0, 0 ))
>     {
>         cerr << "Error: Could not read image data." << endl;
>         exit(1);
>     }
>     GDALClose(poDataset);
>
> No errors are returned.  I let it run for several mins before I hit CTRL+C.
> Any C++ suggestions on getting the image into a 1D array and/or 2D array
> would be most helpful.  The above code works for smaller images.  I have
> also tried different GDALSetCacheMax with no success.
>
> Thanks
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From dnelson99 at gmail.com  Wed Jul 16 17:08:36 2008
From: dnelson99 at gmail.com (David M Nelson)
Date: Wed Jul 16 16:30:17 2008
Subject: [Gdal-dev] Using VRT to project/rotate tiff files on-the-fly
In-Reply-To: <487CD9FF.8070604@pobox.com>
References: <18448351.post@talk.nabble.com> <487CD9FF.8070604@pobox.com>
Message-ID: <18496651.post@talk.nabble.com>


Thanks for the response, Frank.  I've been able to parse through and figure
out most of the code.  I am a little unclear on the DstGeoTransform part
of the second script.  Do I understand that the DstGeoTransform describes
the original projection coordinates and the DstInvGeoTransform describes
the destination projection coordinates (and that everything is in meters)?
I am also not sure about the function of the GCP since the GeoTransform
already defined the UL pixel value?  I just want to make sure that I
understand the differences between the control point sets.

Thanks!

David





Frank Warmerdam-2 wrote:
> 
> David M Nelson wrote:
>> I have a series of unprojected, single-frame images.  We want to be able
>> to
>> project them on-the-fly by generating a VRT file for each image. 
>> However,
>> none of the images are oriented north-up--they are all uniquely oriented
>> because of the flightpath taken by the platform during the time of
>> acquisition.  I have not been able to find a way to generate a VRT that
>> takes orientation into account.  I tried to use the X-rotation and the
>> Y-rotation, but this completely distorts the image setting some of the
>> coordinate values to 35,000+ deg.  I think that the orientation values
>> are
>> supposed to be for the reference frame anyway and not the images (?).
>> 
>> So my question is: is there a way to generate a VRT file which will
>> project
>> and orient correctly an unprojected image?
> 
> David,
> 
> If they are still very regularly sampled (only requiring an affine
> transformation to a north up uniform grid) you should be able to express
> the georeferencing with an appropriate geotransform though computing it
> may
> be a bit tricky.
> 
> If the are not necessarily really regular you could create a VRT that
> expresses their georeferencing in terms of georeferenced locations at
> known pixel control points (ie. GCPs). A simple example of an image
> georeferenced with GCPs using a VRT is:
> 
> <VRTDataset rasterXSize="512" rasterYSize="512">
>    <Metadata/>
>    <GCPList>
>      <GCP Id="1" Pixel="0.0000" Line="0.0000" X="1.000000000000E+04" 
> Y="5.000000000000E+03"/>
>      <GCP Id="2" Pixel="500.0000" Line="0.0000" X="1.200000000000E+04" 
> Y="7.000000000000E+03"/>
>      <GCP Id="3" Pixel="250.0000" Line="500.0000" X="9.000000000000E+03" 
> Y="6.000000000000E+03"/>
>    </GCPList>
>    <VRTRasterBand dataType="Byte" band="1">
>      <Metadata/>
>      <ColorInterp>Gray</ColorInterp>
>      <SimpleSource>
>        <SourceFilename relativeToVRT="1">gcp.tif</SourceFilename>
>        <SourceBand>1</SourceBand>
>        <SourceProperties RasterXSize="512" RasterYSize="512"
> DataType="Byte" 
> BlockXSize="512" BlockYSize="16"/>
>        <SrcRect xOff="0" yOff="0" xSize="512" ySize="512"/>
>        <DstRect xOff="0" yOff="0" xSize="512" ySize="512"/>
>      </SimpleSource>
>    </VRTRasterBand>
> </VRTDataset>
> 
> However, this depends on the application reading the image knowing how
> to utilize GCPs which many do not.  You could actually rectify the image
> with gdalwarp.  But if you don't want to do that you can also create a
> "warped vrt" which is a virtual image representing what gdalwarp would
> have produced.  For instance, for the above this might look like:
> 
> <VRTDataset rasterXSize="1448" rasterYSize="724"
> subClass="VRTWarpedDataset">
>    <GeoTransform>  7.9520000000000000e+03,  2.8284271247461898e+00, 
> 0.0000000000000000e+00,  7.0480000000000000e+03,  0.0000000000000000e+00, 
> -2.8284271247461898e+00</GeoTransform>
>    <VRTRasterBand dataType="Byte" band="1"
> subClass="VRTWarpedRasterBand"/>
>    <BlockXSize>512</BlockXSize>
>    <BlockYSize>128</BlockYSize>
>    <GDALWarpOptions>
>      <WarpMemoryLimit>6.71089e+07</WarpMemoryLimit>
>      <ResampleAlg>NearestNeighbour</ResampleAlg>
>      <WorkingDataType>Byte</WorkingDataType>
>      <Option name="INIT_DEST">0</Option>
>      <SourceDataset relativeToVRT="1">gcp.tif</SourceDataset>
>      <Transformer>
>        <ApproxTransformer>
>          <MaxError>0.125</MaxError>
>          <BaseTransformer>
>            <GenImgProjTransformer>
>              <SrcGCPTransformer>
>                <GCPTransformer>
>                  <Order>1</Order>
>                  <Reversed>0</Reversed>
>                  <GCPList>
>                    <GCP Id="1" Pixel="0.0000" Line="0.0000" 
> X="1.000000000000E+04" Y="5.000000000000E+03"/>
>                    <GCP Id="2" Pixel="500.0000" Line="0.0000" 
> X="1.200000000000E+04" Y="7.000000000000E+03"/>
>                    <GCP Id="3" Pixel="250.0000" Line="500.0000" 
> X="9.000000000000E+03" Y="6.000000000000E+03"/>
>                  </GCPList>
>                </GCPTransformer>
>              </SrcGCPTransformer>
>  
> <DstGeoTransform>7952,2.82842712474619,0,7048,0,-2.82842712474619</DstGeoTransform>
>  
> <DstInvGeoTransform>-2811.456561997713,0.3535533905932738,0,2491.844296901394,0,-0.3535533905932738</DstInvGeoTransform>
>            </GenImgProjTransformer>
>          </BaseTransformer>
>        </ApproxTransformer>
>      </Transformer>
>      <BandList>
>        <BandMapping src="1" dst="1"/>
>      </BandList>
>    </GDALWarpOptions>
> </VRTDataset>
> 
> Any GDAL supporting application will read the warped vrt as a north up
> image.
> The commands I used to create the above examples are:
> 
> gdal_translate plain.tif gcp.tif -gcp 0 0 10000 5000
>          -gcp 500 0 12000 7000 -gcp 250 500 9000 6000
> 
> gdal_translate gcp.tif gcp.vrt -of VRT
> 
> gdalwarp -of VRT gcp.tif warped.vrt
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/Using-VRT-to-project-rotate-tiff-files-on-the-fly-tp18448351p18496651.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From frdcn at hotmail.com  Wed Jul 16 18:20:50 2008
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed Jul 16 18:21:08 2008
Subject: [gdal-dev] undefined GDALAutoCreateWarpedVRT
In-Reply-To: <487BB3E1.9060900@pobox.com>
References: <BAY110-W4550B0F24E64BB28898282B28D0@phx.gbl>
	<487BB3E1.9060900@pobox.com>
Message-ID: <BAY110-W307E03F6FC4CA3EE3AA577B28F0@phx.gbl>

Hi Frank:

Thank you for your reply. I searched the function within
visual studio ide, that was the reason I couldn`t find it.
Also the wince project and solution for visual studio are
outdated. 

These are the changes needed to visual studio
project to compile for windows mobile 2005:

1.-in file cpl_config.h.WINCE I added this line:

#define VSI_STAT64 stat

2.-The following files were deleted from project because they don`t exist
../src/frmts/gtiff/tiff_overview.c
../src/frmts/gtiff/tiff_ovrcache.c
../src/frmts/gtiff/tiff_ovrcache.h

3.-I added the following files to port folder
in project.

cpl_hash_set.cpp
cpl_hash_set.h
cplkeywordparser.cpp
cplkeywordparser.h

4.-I added the following files to gcore folder
in project

gdal_rpcimdio.cpp

5.-To be able to use GDALAutoCreateWarpedVRT I added
the following folders and all of their files to  frmts folder
in project.

raw
vrt

6.-in properties preprocesor i added

FRMT_vrt
FRMT_raw

7.- Finally I added the includes to 

/frmts/vrt
/frmts/raw

After all this changes I succesfully compiled gdal for windows ce
and use GDALAutoCreateWarpedVRT method


Regards
Godofredo Contreras 


> Date: Mon, 14 Jul 2008 16:15:29 -0400
> From: warmerdam@pobox.com
> To: frdcn@hotmail.com
> CC: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] undefined GDALAutoCreateWarpedVRT
> 
> godofredo contreras wrote:
> > Hi:
> >  
> > I am using gdal in windows mobile 5 but I got
> > and undefined reference when calling GDALAutoCreateWarpedVRT
> > analysing the code I found that GDALAutoCreateWarpedVRT is defined
> > in gdalwarper.h but I couldn't find the implementation. Is this a bug
> > or am I doing something wrong?
> 
> Godofredo,
> 
> This function is implemented in gdal/frmts/vrt/vrtwarped.cpp.
> 
> I don't know why it isn't found.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 

_________________________________________________________________
Keep your kids safer online with Windows Live Family Safety.
http://www.windowslive.com/family_safety/overview.html?ocid=TXT_TAGLM_WL_family_safety_072008
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080716/2d49ab8a/attachment.html
From arb at sat.dundee.ac.uk  Thu Jul 17 07:09:16 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Thu Jul 17 07:09:19 2008
Subject: [gdal-dev] Import raw binary with pixel-geolocation
In-Reply-To: <486A23D1.20102@pobox.com>
References: <op.udlyqgc4qw3wu1@titan> <486A23D1.20102@pobox.com>
Message-ID: <op.uefnxqobqw3wu1@titan>

On Tue, 01 Jul 2008 13:32:17 +0100, Frank Warmerdam <warmerdam@pobox.com> wrote:
>
> Andrew Brooks wrote:
>>
>> Is it possible to import/warp raw binary data which has no projection just
>> associated arrays of latitude/longitude for each pixel?
>
> You can make the raw binary available for use in GDAL by writing an XML VRT
> file that describes the raw binary file(s).

For the benefit of others I will describe how to do this below.

However there is a problem: warping is done in the reverse direction so the
output image end up full of holes, especially at the edges.

See http://www.sat.dundee.ac.uk/~arb/gdalwarp.jpg

Is there an option to perform the warping in the opposite direction (mapping
each image pixel into the raw data) ?

If not, is there an option to perform dilation?

Andrew


Sample VRT file for the image data contains pointers to two other VRT files,
one for latitude and one for longitude:

<VRTDataset rasterXSize="2048" rasterYSize="964">
   <Metadata domain="GEOLOCATION">
     <MDI key="X_DATASET">N11_part.lon.vrt</MDI>
     <MDI key="X_BAND">1</MDI>
     <MDI key="Y_DATASET">N11_part.lat.vrt</MDI>
     <MDI key="Y_BAND">1</MDI>
     <MDI key="PIXEL_OFFSET">0</MDI>
     <MDI key="LINE_OFFSET">0</MDI>
     <MDI key="PIXEL_STEP">1</MDI>
     <MDI key="LINE_STEP">1</MDI>
   </Metadata>
   <SRS>GEOGCS[&quot;WGS 72&quot;,DATUM[&quot;WGS_1972&quot;,SPHEROID[&quot;WGS 72&quot;,6378135,298.26,AUTHORITY[&quot;EPSG&quot;,&quot;7043&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6322&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.01745329251994328,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4322&quot;]]</SRS>
   <VRTRasterBand dataType="UInt16" band="1" subClass="VRTRawRasterBand">
     <ColorInterp>Red</ColorInterp>
	<SourceFilename relativetoVRT="1">N11_part.dat</SourceFilename>
     <ImageOffset>1500</ImageOffset>
     <PixelOffset>10</PixelOffset>
     <LineOffset>22180</LineOffset>
     <ByteOrder>LSB</ByteOrder>
   </VRTRasterBand>
</VRTDataset>

The image data is in the file N11_part.dat.

The VRT file for the latitude (N11_part.lat.vrt in this example) :

<VRTDataset rasterXSize="2048" rasterYSize="964">
   <SRS>GEOGCS[&quot;WGS 72&quot;,DATUM[&quot;WGS_1972&quot;,SPHEROID[&quot;WGS 72&quot;,6378135,298.26,AUTHORITY[&quot;EPSG&quot;,&quot;7043&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6322&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.01745329251994328,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;4322&quot;]]</SRS>
   <VRTRasterBand dataType="Float32" band="1" subClass="VRTRawRasterBand">
	<SourceFilename relativetoVRT="1">N11_part.lat</SourceFilename>
     <ByteOrder>LSB</ByteOrder>
   </VRTRasterBand>
</VRTDataset>

The latitude data is in the file N11_part.lat.

-- 
From mateusz at loskot.net  Thu Jul 17 10:05:42 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 10:05:48 2008
Subject: [gdal-dev] Maintenance Report (till July 15, 2008)
Message-ID: <487F51B6.7020300@loskot.net>

Folks,

Here is updated version of GDAL Maintenance Report:

http://trac.osgeo.org/gdal/wiki/MaintenanceReportsByMateusz2008

Currently, I'm focused on Oracle / OCI driver bugs and improvements.
So, if you would like to report any problems or requests to the OCI 
driver, this is a very good time to do it. Please, submit anything you 
have as a ticket to the Trac (http://trac.osgeo.org/gdal/newticket).

Simply, it's easier to focus on particular area of GDAL code, on OCI
driver in this case, and work on improvements in batch.

Regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Thu Jul 17 10:14:02 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 10:14:12 2008
Subject: [gdal-dev] undefined GDALAutoCreateWarpedVRT
In-Reply-To: <BAY110-W307E03F6FC4CA3EE3AA577B28F0@phx.gbl>
References: <BAY110-W4550B0F24E64BB28898282B28D0@phx.gbl>	<487BB3E1.9060900@pobox.com>
	<BAY110-W307E03F6FC4CA3EE3AA577B28F0@phx.gbl>
Message-ID: <487F53AA.5030709@loskot.net>

godofredo contreras wrote:
> Hi Frank:
>
> Thank you for your reply. I searched the function within
> visual studio ide, that was the reason I couldn`t find it.
> Also the wince project and solution for visual studio are
> outdated.

Godofredo,

Yes, you are correct. The WinCE project files are out of date.
I'll try to bring them back to usable shape very soon.

I've submitted your report as Ticket:

http://trac.osgeo.org/gdal/ticket/2479

Thanks!
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From max at geoinova.com  Thu Jul 17 10:22:47 2008
From: max at geoinova.com (Maksim Sestic)
Date: Thu Jul 17 10:22:50 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
Message-ID: <18509648.post@talk.nabble.com>


Hi all,

I just had a working GDAL 1.5.1 copy (custom build), then I uninstalled VS
2005 along with various support libraries for this and that (installed as VS
2005 prerequisite) and installed VS 2008. GDAL is not working anymore: when
I try to run any of the gdal*.exe files (i.e. gdal_translate.exe) it stops
with following message:

The system cannot execute the specified program.

If I try utilizing GDAL managed wrappers via .NET it throws following
exception:

************** Exception Text **************
System.TypeInitializationException: The type initializer for
'OSGeo.GDAL.Gdal' threw an exception. --->
System.TypeInitializationException: The type initializer for
'OSGeo.GDAL.GdalPINVOKE' threw an exception. --->
System.TypeInitializationException: The type initializer for
'SWIGExceptionHelper' threw an exception. ---> System.DllNotFoundException:
Unable to load DLL 'gdal_wrap': This application has failed to start because
the application configuration is incorrect. Reinstalling the application may
fix this problem. (Exception from HRESULT: 0x800736B1)
   at
OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal(ExceptionDelegate
applicationDelegate, ExceptionDelegate arithmeticDelegate, ExceptionDelegate
divideByZeroDelegate, ExceptionDelegate indexOutOfRangeDelegate,
ExceptionDelegate invalidCastDelegate, ExceptionDelegate
invalidOperationDelegate, ExceptionDelegate ioDelegate, ExceptionDelegate
nullReferenceDelegate, ExceptionDelegate outOfMemoryDelegate,
ExceptionDelegate overflowDelegate, ExceptionDelegate
systemExceptionDelegate)
   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
   --- End of inner exception stack trace ---
   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
   at OSGeo.GDAL.GdalPINVOKE..cctor()
   --- End of inner exception stack trace ---
   at OSGeo.GDAL.GdalPINVOKE.TermProgress_get()
   at OSGeo.GDAL.Gdal..cctor()
   --- End of inner exception stack trace ---
   at OSGeo.GDAL.Gdal.AllRegister()


Obviously failing at Gdal.AllRegister(), although the same setup works on
the other machine having VS 2005 installed. I guess I'm missing some
VC...something library - but, which one?

Regards,
Maksim Sestic


-- 
View this message in context: http://www.nabble.com/GDAL-1.5.1-distribution---something%27s-missing-tp18509648p18509648.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From max at geoinova.com  Thu Jul 17 10:27:34 2008
From: max at geoinova.com (Maksim Sestic)
Date: Thu Jul 17 10:27:36 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <18509648.post@talk.nabble.com>
References: <18509648.post@talk.nabble.com>
Message-ID: <18509746.post@talk.nabble.com>


One more note: gdal_wrap.dll is there, sitting at the same folder.

I didn't rebuild GDAL libs, I simply unistalled VS 2005 and installed VS
2008. Then it stopped working.

Regards,
Maksim Sestic



Maksim Sestic wrote:
> 
> Hi all,
> 
> I just had a working GDAL 1.5.1 copy (custom build), then I uninstalled VS
> 2005 along with various support libraries for this and that (installed as
> VS 2005 prerequisite) and installed VS 2008. GDAL is not working anymore:
> when I try to run any of the gdal*.exe files (i.e. gdal_translate.exe) it
> stops with following message:
> 
> The system cannot execute the specified program.
> 
> If I try utilizing GDAL managed wrappers via .NET it throws following
> exception:
> 
> ************** Exception Text **************
> System.TypeInitializationException: The type initializer for
> 'OSGeo.GDAL.Gdal' threw an exception. --->
> System.TypeInitializationException: The type initializer for
> 'OSGeo.GDAL.GdalPINVOKE' threw an exception. --->
> System.TypeInitializationException: The type initializer for
> 'SWIGExceptionHelper' threw an exception. --->
> System.DllNotFoundException: Unable to load DLL 'gdal_wrap': This
> application has failed to start because the application configuration is
> incorrect. Reinstalling the application may fix this problem. (Exception
> from HRESULT: 0x800736B1)
>    at
> OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal(ExceptionDelegate
> applicationDelegate, ExceptionDelegate arithmeticDelegate,
> ExceptionDelegate divideByZeroDelegate, ExceptionDelegate
> indexOutOfRangeDelegate, ExceptionDelegate invalidCastDelegate,
> ExceptionDelegate invalidOperationDelegate, ExceptionDelegate ioDelegate,
> ExceptionDelegate nullReferenceDelegate, ExceptionDelegate
> outOfMemoryDelegate, ExceptionDelegate overflowDelegate, ExceptionDelegate
> systemExceptionDelegate)
>    at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
>    --- End of inner exception stack trace ---
>    at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
>    at OSGeo.GDAL.GdalPINVOKE..cctor()
>    --- End of inner exception stack trace ---
>    at OSGeo.GDAL.GdalPINVOKE.TermProgress_get()
>    at OSGeo.GDAL.Gdal..cctor()
>    --- End of inner exception stack trace ---
>    at OSGeo.GDAL.Gdal.AllRegister()
> 
> 
> Obviously failing at Gdal.AllRegister(), although the same setup works on
> the other machine having VS 2005 installed. I guess I'm missing some
> VC...something library - but, which one?
> 
> Regards,
> Maksim Sestic
> 
> 
> 

-- 
View this message in context: http://www.nabble.com/GDAL-1.5.1-distribution---something%27s-missing-tp18509648p18509746.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mateusz at loskot.net  Thu Jul 17 10:29:55 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 10:30:02 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <18509648.post@talk.nabble.com>
References: <18509648.post@talk.nabble.com>
Message-ID: <487F5763.60900@loskot.net>

Maksim Sestic wrote:
> Obviously failing at Gdal.AllRegister(), although the same setup works on
> the other machine having VS 2005 installed. I guess I'm missing some
> VC...something library - but, which one?

Maksim,

Try to use Dependency Walker (http://www.dependencywalker.com/), also
known as depende.exe in bin directory of Visual Studio, to find what DLL
files can not be found.

I'm quite sure that you don't have C/C++ run-time libraries actually
uninstalled after you've removed Visual C++ 2005.

You can download the redistributable package from microsoft.com:

1) if you didn't use SP1 for Visual Studio 2005

http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4C13-9C99-220B62A191EE&displaylang=en

2) if you did use SP1 for VS2005

http://www.microsoft.com/downloads/info.aspx?na=47&p=1&SrcDisplayLang=en&SrcCategoryId=&SrcFamilyId=32bc1bee-a3f9-4c13-9c99-220b62a191ee&u=details.aspx%3ffamilyid%3d200B2FD9-AE1A-4A14-984D-389C36F85647%26displaylang%3den

I'm not sure if these links won't get broken, but if they will,
just google for:

Microsoft Visual C++ 2005 Redistributable Package

or

Microsoft Visual C++ 2005 SP1 Redistributable Package

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From szekerest at gmail.com  Thu Jul 17 10:31:26 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Jul 17 10:31:29 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <18509648.post@talk.nabble.com>
References: <18509648.post@talk.nabble.com>
Message-ID: <f3b73b7d0807170731k7d740690l66e8872d8d0ad917@mail.gmail.com>

Maksim,

My best bet is that the crt runtime dll cannot be accessed that the
binaries have been compiled against.
But you can use a dependency tracking tool to make sure about the
dll-s that are not available on the system.
As far as I remember the compiler dependent crt redistributable
package is available to install for free.

Best regards,

Tamas


2008/7/17 Maksim Sestic <max@geoinova.com>:
>
> Hi all,
>
> I just had a working GDAL 1.5.1 copy (custom build), then I uninstalled VS
> 2005 along with various support libraries for this and that (installed as VS
> 2005 prerequisite) and installed VS 2008. GDAL is not working anymore: when
> I try to run any of the gdal*.exe files (i.e. gdal_translate.exe) it stops
> with following message:
>
> The system cannot execute the specified program.
>
> If I try utilizing GDAL managed wrappers via .NET it throws following
> exception:
>
> ************** Exception Text **************
> System.TypeInitializationException: The type initializer for
> 'OSGeo.GDAL.Gdal' threw an exception. --->
> System.TypeInitializationException: The type initializer for
> 'OSGeo.GDAL.GdalPINVOKE' threw an exception. --->
> System.TypeInitializationException: The type initializer for
> 'SWIGExceptionHelper' threw an exception. ---> System.DllNotFoundException:
> Unable to load DLL 'gdal_wrap': This application has failed to start because
> the application configuration is incorrect. Reinstalling the application may
> fix this problem. (Exception from HRESULT: 0x800736B1)
>   at
> OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal(ExceptionDelegate
> applicationDelegate, ExceptionDelegate arithmeticDelegate, ExceptionDelegate
> divideByZeroDelegate, ExceptionDelegate indexOutOfRangeDelegate,
> ExceptionDelegate invalidCastDelegate, ExceptionDelegate
> invalidOperationDelegate, ExceptionDelegate ioDelegate, ExceptionDelegate
> nullReferenceDelegate, ExceptionDelegate outOfMemoryDelegate,
> ExceptionDelegate overflowDelegate, ExceptionDelegate
> systemExceptionDelegate)
>   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
>   --- End of inner exception stack trace ---
>   at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
>   at OSGeo.GDAL.GdalPINVOKE..cctor()
>   --- End of inner exception stack trace ---
>   at OSGeo.GDAL.GdalPINVOKE.TermProgress_get()
>   at OSGeo.GDAL.Gdal..cctor()
>   --- End of inner exception stack trace ---
>   at OSGeo.GDAL.Gdal.AllRegister()
>
>
> Obviously failing at Gdal.AllRegister(), although the same setup works on
> the other machine having VS 2005 installed. I guess I'm missing some
> VC...something library - but, which one?
>
> Regards,
> Maksim Sestic
>
>
> --
> View this message in context: http://www.nabble.com/GDAL-1.5.1-distribution---something%27s-missing-tp18509648p18509648.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From mateusz at loskot.net  Thu Jul 17 10:32:29 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 10:32:35 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <487F5763.60900@loskot.net>
References: <18509648.post@talk.nabble.com> <487F5763.60900@loskot.net>
Message-ID: <487F57FD.4080908@loskot.net>

Mateusz Loskot wrote:
> Maksim Sestic wrote:
>> Obviously failing at Gdal.AllRegister(), although the same setup works on
>> the other machine having VS 2005 installed. I guess I'm missing some
>> VC...something library - but, which one?
> 
> Maksim,
> 
> Try to use Dependency Walker (http://www.dependencywalker.com/), also
> known as depende.exe in bin directory of Visual Studio,

It should be depends.exe

Ciao
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From max at geoinova.com  Thu Jul 17 10:43:02 2008
From: max at geoinova.com (Maksim Sestic)
Date: Thu Jul 17 10:43:03 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <487F5763.60900@loskot.net>
References: <18509648.post@talk.nabble.com> <487F5763.60900@loskot.net>
Message-ID: <18510116.post@talk.nabble.com>


Hi Mateusz,

In all the horror I simply forgot about dependacy walker :-) Since I'm
maintaining several GDAL installations I simply though that something Got
Broken (tm) :-) 

Now, here's the missing libs:

MSVCP80D.DLL
MSVCR80.DLL
MSVCR80D.DLL
DWMAPI.DLL

I'll check both Microsoft Visual C++ 2005 Redistributable Package and
Microsoft Visual C++ 2005 SP1 Redistributable Package to see which one's the
right one.

Will report which one works, other folks switching to VS 2008 may find it
useful.

Regards,
Maksim Sestic





Mateusz Loskot wrote:
> 
> Maksim Sestic wrote:
>> Obviously failing at Gdal.AllRegister(), although the same setup works on
>> the other machine having VS 2005 installed. I guess I'm missing some
>> VC...something library - but, which one?
> 
> Maksim,
> 
> Try to use Dependency Walker (http://www.dependencywalker.com/), also
> known as depende.exe in bin directory of Visual Studio, to find what DLL
> files can not be found.
> 
> I'm quite sure that you don't have C/C++ run-time libraries actually
> uninstalled after you've removed Visual C++ 2005.
> 
> You can download the redistributable package from microsoft.com:
> 
> 1) if you didn't use SP1 for Visual Studio 2005
> 
> http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4C13-9C99-220B62A191EE&displaylang=en
> 
> 2) if you did use SP1 for VS2005
> 
> http://www.microsoft.com/downloads/info.aspx?na=47&p=1&SrcDisplayLang=en&SrcCategoryId=&SrcFamilyId=32bc1bee-a3f9-4c13-9c99-220b62a191ee&u=details.aspx%3ffamilyid%3d200B2FD9-AE1A-4A14-984D-389C36F85647%26displaylang%3den
> 
> I'm not sure if these links won't get broken, but if they will,
> just google for:
> 
> Microsoft Visual C++ 2005 Redistributable Package
> 
> or
> 
> Microsoft Visual C++ 2005 SP1 Redistributable Package
> 
> Greetings
> -- 
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> -----
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
> 

-- 
View this message in context: http://www.nabble.com/GDAL-1.5.1-distribution---something%27s-missing-tp18509648p18510116.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mateusz at loskot.net  Thu Jul 17 10:54:32 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 10:54:42 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <18510116.post@talk.nabble.com>
References: <18509648.post@talk.nabble.com> <487F5763.60900@loskot.net>
	<18510116.post@talk.nabble.com>
Message-ID: <487F5D28.7060202@loskot.net>

Maksim Sestic wrote:
> Hi Mateusz,
> 
> In all the horror I simply forgot about dependacy walker :-) Since I'm
> maintaining several GDAL installations I simply though that something Got
> Broken (tm) :-) 
> 
> Now, here's the missing libs:
> 
> MSVCP80D.DLL
> MSVCR80.DLL
> MSVCR80D.DLL
> DWMAPI.DLL


So, missing are:
- C Run-time library, optimized
- C library, debug
- C++ library, debug

> I'll check both Microsoft Visual C++ 2005 Redistributable Package and
> Microsoft Visual C++ 2005 SP1 Redistributable Package to see which one's the
> right one.
> 
> Will report which one works, other folks switching to VS 2008 may find it
> useful.

I can tell you know that the redistributable will not work because it 
won't install debug binaries of C/C++ run-time libraries.

According to Microsoft Visual Studio EULA, debug binaries of run-time
libs are *only* shipped with Visual Studio installation.
The redistributable package of run-time libraries are dedicated to
end-users, so debug binaries are not included there.

Why? Becuase according to EULA, it's forbidden to share debug binaries 
with end-users/client, etc. IOW, if you compile your program as debug 
binary, you are not allowed to send it to your client, unless your 
client has installed complete environment of Visual Studio.

So, I'm afraid, but looks like you will have to reinstall VS2005 back
or rebuild GDAL using VS2008 you have already installed.

Regards
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From bclay at ball.com  Thu Jul 17 10:58:12 2008
From: bclay at ball.com (Clay, Bruce)
Date: Thu Jul 17 11:07:03 2008
Subject: [gdal-dev] Oracle Connection issues
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>

Two questions and one lesson learned passed on

 

1. I built an application using GDAL 1.5.2 and Oracle 9.2 client tools.
Everything works fine on my development system.  When I take the
application to the customer system I can not connect to the Oracle
database and I am not getting an error that explains why.  The target
system does have Oracle 10.2 client tools installed.  Do versions have a
match between the development system and the target system to work with
Oracle?  And if so what patch level in the version do we have to match?
For example, there are 4 digits in the Oracle version number.  Do all 4
digits have to be the same as what is compiled into GDAL for GDAL to be
able to connect?

 

2. There seems to be a long pause when I connect to Oracle.  I used the
debugger to follow the process and it looks like an internal structure
is created in GDAL memory space that contains information about all of
the tables in Oracle including the field names and data types.  We have
a database with several tables so this takes a while to build.  Is there
a way to get GDAL to do a quick connect without building this structure
every time I connect?

 

 

Lesson learned.

 

It seems that Microsoft has removed normal C++ support form the
operating system and starting with programs built with Visual Studio
2005 a separate redistributable patch (link shown below) has to be
applied to the operating system to add the libraries required to run C++
based applications.  This also applies to C# applications that call DLLs
such as GDAL.  The error message that you will see will not be very
helpful but may include a mention of "side-by-side".  More typically it
will just say the application can not run and reinstallation may help.
Additionally, debug versions of the program will not run on a computer
that does not have Visual Studio and the Microsoft rules state that
debug versions of their libraries can not be distributed.  This of
course really puts those of us who have to do a lot of rapid prototyping
and quick release of tools in a bind.  Yes I realize this only adds to
the normal reluctance to use Microsoft stuff.

 

Patch download link:

 
http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4
C13-9C99-220B62A191EE&displaylang=en

 

So the lesson learned: build GDAL and all of it's dependent libraries in
release mode before trying to move off of the development system.

 

Bruce




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080717/687d2d3d/attachment-0001.html
From abhay.menon at gmail.com  Thu Jul 17 11:37:28 2008
From: abhay.menon at gmail.com (abhay menon)
Date: Thu Jul 17 11:37:33 2008
Subject: [gdal-dev] Oracle Connection issues
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <7a30cd70807170837n35764bdxe266aa15fad7235f@mail.gmail.com>

Hi Bruce,

Just quick answer to 1 question...

The Client version of Oracle 10g R2 do have some issue of it own. Still the
difference in the API of Oracle 9i to 10g is at large ( especially OCI and
OCCI api). As a suggestion I would recommend you to use the same version of
oracle as that of the client system.

Saying that 10.2.x.x and 10.1.x.x are also varying from each other too. I
have past experience of running into trouble with them as well (i.e. not in
GDAL/OGR context). But for implementation with OGR for pulling or pushing
data to Oracle have been successful. So try using either 10.1 or 10.2
version of Oracle Client.

Note :.
The structure validation and memory implementation is more of part of OCI
than of OGR ( Mateusz correct me, if am wrong ).

Rgds.
Abhay.

On Thu, Jul 17, 2008 at 8:28 PM, Clay, Bruce <bclay@ball.com> wrote:

>  Two questions and one lesson learned passed on
>
>
>
> 1. I built an application using GDAL 1.5.2 and Oracle 9.2 client tools.
> Everything works fine on my development system.  When I take the application
> to the customer system I can not connect to the Oracle database and I am not
> getting an error that explains why.  The target system does have Oracle 10.2
> client tools installed.  Do versions have a match between the development
> system and the target system to work with Oracle?  And if so what patch
> level in the version do we have to match?  For example, there are 4 digits
> in the Oracle version number.  Do all 4 digits have to be the same as what
> is compiled into GDAL for GDAL to be able to connect?
>
>
>
> 2. There seems to be a long pause when I connect to Oracle.  I used the
> debugger to follow the process and it looks like an internal structure is
> created in GDAL memory space that contains information about all of the
> tables in Oracle including the field names and data types.  We have a
> database with several tables so this takes a while to build.  Is there a way
> to get GDAL to do a quick connect without building this structure every time
> I connect?
>
>
>
>
>
> Lesson learned.
>
>
>
> It seems that Microsoft has removed normal C++ support form the operating
> system and starting with programs built with Visual Studio 2005 a separate
> redistributable patch (link shown below) has to be applied to the operating
> system to add the libraries required to run C++ based applications.  This
> also applies to C# applications that call DLLs such as GDAL.  The error
> message that you will see will not be very helpful but may include a mention
> of "side-by-side".  More typically it will just say the application can not
> run and reinstallation may help.  Additionally, debug versions of the
> program will not run on a computer that does not have Visual Studio and the
> Microsoft rules state that debug versions of their libraries can not be
> distributed.  This of course really puts those of us who have to do a lot of
> rapid prototyping and quick release of tools in a bind.  Yes I realize this
> only adds to the normal reluctance to use Microsoft stuff.
>
>
>
> Patch download link:
>
>
> http://www.microsoft.com/downloads/details.aspx?FamilyId=32BC1BEE-A3F9-4C13-9C99-220B62A191EE&displaylang=en
>
>
>
> So the lesson learned: build GDAL and all of it's dependent libraries in
> release mode before trying to move off of the development system.
>
>
>
> Bruce
>
> This message and any enclosures are intended only for the addressee.  Please
> notify the sender by email if you are not the intended recipient.  If you are
> not the intended recipient, you may not use, copy, disclose, or distribute this
> message or its contents or enclosures to any other person and any such actions
> may be unlawful.  Ball reserves the right to monitor and review all messages
> and enclosures sent to or from this email address.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080717/f2afd8d2/attachment.html
From mateusz at loskot.net  Thu Jul 17 11:46:17 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 11:46:23 2008
Subject: [gdal-dev] Oracle Connection issues
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <487F6949.70700@loskot.net>

Clay, Bruce wrote:
> Two questions and one lesson learned passed on
> 
> 1. I built an application using GDAL 1.5.2 and Oracle 9.2 client
> tools. Everything works fine on my development system.  When I take
> the application to the customer system I can not connect to the
> Oracle database and I am not getting an error that explains why.  The
> target system does have Oracle 10.2 client tools installed.  Do
> versions have a match between the development system and the target
> system to work with Oracle?

Bruce,

The versions mix seems to be an issue here.
Re-linking may be required, see "Statically-Linked and
Dynamically-Linked Applications" sections here

http://www.acs.ilstu.edu/docs/oracle/appdev.101/b10779/oci01int.htm#421861

http://download.oracle.com/docs/cd/B28359_01/appdev.111/b28395/oci01int.htm#i421879

> And if so what patch level in the version do wehave to match? For
> example, there are 4 digits in the Oracle version number.  Do all 4 
> digits have to be the same as what is compiled into GDAL for GDAL to
> be able to connect?

AFAIK, basic OCI API is compatible across 8,9, 10 and 11 (not counting
new functions introduced in subsequent releases).
The issue is that in most cases you need to relink your software with
new version of OCI library.

> 2. There seems to be a long pause when I connect to Oracle.  I used
> the debugger to follow the process and it looks like an internal
> structure is created in GDAL memory space that contains information
> about all of the tables in Oracle including the field names and data
> types.  We have a database with several tables so this takes a while
> to build.  Is there a way to get GDAL to do a quick connect without
> building this structure every time I connect?

You may try to request only selected table(s)
See [1] how to provide list of tables

[1] http://gdal.org/ogr/drv_oci.html

> Lesson learned.
> 
> It seems that Microsoft has removed normal C++ support form the 
> operating system and starting with programs built with Visual Studio 
> 2005 a separate redistributable patch (link shown below) has to be 
> applied to the operating system to add the libraries required to run
> C++ based applications.

Yes

> This also applies to C# applications that call DLLs such as GDAL.
> The error message that you will see will not be very helpful but may
> include a mention of ?side-by-side?.  More typically it will just say
> the application can not run and reinstallation may help. 
> Additionally, debug versions of the program will not run on a
> computer that does not have Visual Studio and the Microsoft rules
> state that debug versions of their libraries can not be distributed.

Yes, exactly.

> So the lesson learned: build GDAL and all of it?s dependent libraries
> in release mode before trying to move off of the development system.

Yes, that's the only option.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Thu Jul 17 11:54:24 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 11:54:31 2008
Subject: [gdal-dev] Oracle Connection issues
In-Reply-To: <7a30cd70807170837n35764bdxe266aa15fad7235f@mail.gmail.com>
References: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
	<7a30cd70807170837n35764bdxe266aa15fad7235f@mail.gmail.com>
Message-ID: <487F6B30.9050707@loskot.net>

abhay menon wrote:
> Hi Bruce,
> 
> Just quick answer to 1 question...
> 
> The Client version of Oracle 10g R2 do have some issue of it own. Still
> the difference in the API of Oracle 9i to 10g is at large ( especially
> OCI and OCCI api). As a suggestion I would recommend you to use the same
> version of oracle as that of the client system.
> 
> Saying that 10.2.x.x and 10.1.x.x are also varying from each other too.
> I have past experience of running into trouble with them as well (i.e.
> not in GDAL/OGR context). But for implementation with OGR for pulling or
> pushing data to Oracle have been successful. So try using either 10.1 or
> 10.2 version of Oracle Client.

I agree, though this table presents quite good compatibility across OCI
versions:

http://www.tar.hu/sqlbible/sqlbible0121.html

> Note :.
> The structure validation and memory implementation is more of part of
> OCI than of OGR ( Mateusz correct me, if am wrong ).

The OGR OCI driver does open & read Oracle spatial tables and caches
their schema definition. So, it's may be faster to provide table list
when connecting, to build the cache faster and smaller.
If a database consits of large number of spatial tables, it may take a
longer while to collect all this information.

Regards
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From max at geoinova.com  Thu Jul 17 12:22:57 2008
From: max at geoinova.com (Maksim Sestic)
Date: Thu Jul 17 12:22:59 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <487F5D28.7060202@loskot.net>
References: <18509648.post@talk.nabble.com> <487F5763.60900@loskot.net>
	<18510116.post@talk.nabble.com> <487F5D28.7060202@loskot.net>
Message-ID: <18512413.post@talk.nabble.com>


Hi Mateusz,

I see... Although it's quite strange, I'm building GDAL via command line:

nmake /f makefile.vc MSVC_VER=1400

while I commented out debugging option in nmake.opt (have optimized build
uncommented). Is this debug flag hiding somewhere else? Since it's still
requiring MSVCP80D.DLL and MSVCR80D.DLL files (I presume D stands for
"Debug").


Regards,
Maksim Sestic



Mateusz Loskot wrote:
> 
> Maksim Sestic wrote:
>> Hi Mateusz,
>> 
>> In all the horror I simply forgot about dependacy walker :-) Since I'm
>> maintaining several GDAL installations I simply though that something Got
>> Broken (tm) :-) 
>> 
>> Now, here's the missing libs:
>> 
>> MSVCP80D.DLL
>> MSVCR80.DLL
>> MSVCR80D.DLL
>> DWMAPI.DLL
> 
> 
> So, missing are:
> - C Run-time library, optimized
> - C library, debug
> - C++ library, debug
> 
>> I'll check both Microsoft Visual C++ 2005 Redistributable Package and
>> Microsoft Visual C++ 2005 SP1 Redistributable Package to see which one's
>> the
>> right one.
>> 
>> Will report which one works, other folks switching to VS 2008 may find it
>> useful.
> 
> I can tell you know that the redistributable will not work because it 
> won't install debug binaries of C/C++ run-time libraries.
> 
> According to Microsoft Visual Studio EULA, debug binaries of run-time
> libs are *only* shipped with Visual Studio installation.
> The redistributable package of run-time libraries are dedicated to
> end-users, so debug binaries are not included there.
> 
> Why? Becuase according to EULA, it's forbidden to share debug binaries 
> with end-users/client, etc. IOW, if you compile your program as debug 
> binary, you are not allowed to send it to your client, unless your 
> client has installed complete environment of Visual Studio.
> 
> So, I'm afraid, but looks like you will have to reinstall VS2005 back
> or rebuild GDAL using VS2008 you have already installed.
> 
> Regards
> -- 
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> -----
> -- 
> Mateusz Loskot
> http://mateusz.loskot.net
> 

-- 
View this message in context: http://www.nabble.com/GDAL-1.5.1-distribution---something%27s-missing-tp18509648p18512413.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mateusz at loskot.net  Thu Jul 17 12:35:32 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 17 12:35:39 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
In-Reply-To: <18512413.post@talk.nabble.com>
References: <18509648.post@talk.nabble.com>
	<487F5763.60900@loskot.net>	<18510116.post@talk.nabble.com>
	<487F5D28.7060202@loskot.net> <18512413.post@talk.nabble.com>
Message-ID: <487F74D4.6090404@loskot.net>

Maksim Sestic wrote:
> Hi Mateusz,
> 
> I see... Although it's quite strange, I'm building GDAL via command line:
> 
> nmake /f makefile.vc MSVC_VER=1400
> 
> while I commented out debugging option in nmake.opt (have optimized build
> uncommented). Is this debug flag hiding somewhere else?

I'd suggest you to grep through all makefile.vc files
to see if /MDd or /MTd flags are used anywhere.

Generally, there are very few flags (3 with debug and non-debug
variants) that control linkage against C/C++ run-time libraries

http://msdn.microsoft.com/en-us/library/2kzt1wy3(VS.80).aspx

> Since it's still
> requiring MSVCP80D.DLL and MSVCR80D.DLL files (I presume D stands for
> "Debug").

Hmm, are you sure that they are dependencies of gdal.dll itself
or perhaps one of GDAL dependency links against debug binaries,
For instance, if you did build libcurl or expact yourself and then
linked GDAL against them, that's the problem.
So, all GDAL dependencies you have built yourself need to be re-build as
release too.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From warmerdam at pobox.com  Thu Jul 17 14:45:49 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul 17 14:46:17 2008
Subject: [gdal-dev] Oracle Connection issues
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34FEFF3F@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <487F935D.1020505@pobox.com>

Clay, Bruce wrote:
> 2. There seems to be a long pause when I connect to Oracle.  I used the 
> debugger to follow the process and it looks like an internal structure 
> is created in GDAL memory space that contains information about all of 
> the tables in Oracle including the field names and data types.  We have 
> a database with several tables so this takes a while to build.  Is there 
> a way to get GDAL to do a quick connect without building this structure 
> every time I connect?

Bruce,

Per the OCI driver docs:

"""
When opening a database, it's name should be specified in the form
"OCI:userid/password@database_instance:table,table".  The list of tables
is optional.  The database_instance portion may be omitted
when accessing the default local database instance.<p>
"""

If you provide an explicit list of tables of interest, only those will
be converted into OGR layers, which can greatly accelerate the time to
establish access to the database.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dnelson99 at gmail.com  Thu Jul 17 20:50:32 2008
From: dnelson99 at gmail.com (David M Nelson)
Date: Thu Jul 17 20:50:35 2008
Subject: [Gdal-dev] Using VRT to project/rotate tiff files on-the-fly
In-Reply-To: <18496651.post@talk.nabble.com>
References: <18448351.post@talk.nabble.com> <487CD9FF.8070604@pobox.com>
	<18496651.post@talk.nabble.com>
Message-ID: <18520772.post@talk.nabble.com>


Disregard the second question as we figured out that the second script
was generated by the gdalwarp of the first script.

Thanks again Frank!

Here's what we did:

Using 4 GCP for each of the image corners, we first derived the basic *.vrt.
The image filename and the vrt filename had to be the same for it to work.
All coordinates used were simple GCS.  The image was 16 bit single single
band.

<VRTDataset rasterXSize="16193" rasterYSize="16193">
 <Metadata/>
 <GCPList>
   <GCP Id="1" Pixel="0.0000" Line="0.0000" X="44.5962400" Y="17.7531250"/>
   <GCP Id="2" Pixel="16192.0000" Line="0.0000" X="50.4539309"
Y="15.4314191"/>
   <GCP Id="3" Pixel="16192.0000" Line="16192.0000" X="47.9521170"
Y="9.9314724"/>
   <GCP Id="4" Pixel="0.0000" Line="16192.0000" X="42.3048904"
Y="12.1465804"/>
 </GCPList>
 <VRTRasterBand dataType="UInt16" band="1">
   <Metadata/>
   <ColorInterp>Gray</ColorInterp>
   <SimpleSource>
     <SourceFilename relativeToVRT="1">LRG_IMAGE.tif</SourceFilename>
     <SourceBand>1</SourceBand>
     <SourceProperties RasterXSize="16193" RasterYSize="16193"
DataType="UInt16" BlockXSize="512" BlockYSize="512"/>
     <SrcRect xOff="0" yOff="0" xSize="16193" ySize="16193"/>
     <DstRect xOff="0" yOff="0" xSize="16193" ySize="16193"/>
   </SimpleSource>
 </VRTRasterBand>
</VRTDataset>

Then to create the output warped vrt, we simply performed the gdalwarp:
gdalwarp -of VRT LRG_IMAGE.vrt WARP2.vrt

The generated output file contained the following:

<VRTDataset rasterXSize="21926" rasterYSize="21045"
subClass="VRTWarpedDataset">
 <GeoTransform>  4.2252126314763458e+01,  3.7168429155331572e-04, 
0.0000000000000000e+00,  1.7726475525000001e+01,  0.0000000000000000e+00,
-3.7168429155331572e-04</GeoTransform>
  <VRTRasterBand dataType="UInt16" band="1" subClass="VRTWarpedRasterBand"/>
  <BlockXSize>512</BlockXSize>
  <BlockYSize>128</BlockYSize>
  <GDALWarpOptions>
    <WarpMemoryLimit>6.71089e+07</WarpMemoryLimit>
    <ResampleAlg>NearestNeighbour</ResampleAlg>
    <WorkingDataType>UInt16</WorkingDataType>
    <Option name="INIT_DEST">0</Option>
    <SourceDataset relativeToVRT="0">LRG_IMAGE.vrt</SourceDataset>
    <Transformer>
      <ApproxTransformer>
        <MaxError>0.125</MaxError>
        <BaseTransformer>
          <GenImgProjTransformer>
            <SrcGCPTransformer>
              <GCPTransformer>
                <Order>1</Order>
                <Reversed>0</Reversed>
                <GCPList>
                  <GCP Id="1" Pixel="0.0000" Line="0.0000"
X="4.459624000000E+01" Y="1.775312500000E+01"/>
                  <GCP Id="2" Pixel="16192.0000" Line="0.0000"
X="5.045393090000E+01" Y="1.543141910000E+01"/>
                  <GCP Id="3" Pixel="16192.0000" Line="16192.0000"
X="4.795211700000E+01" Y="9.931472400000E+00"/>
                  <GCP Id="4" Pixel="0.0000" Line="16192.0000"
X="4.230489040000E+01" Y="1.214658040000E+01"/>
                </GCPList>
              </GCPTransformer>
            </SrcGCPTransformer>
           
<DstGeoTransform>42.25212631476346,0.0003716842915533157,0,17.726475525,0,-0.0003716842915533157</DstGeoTransform>
           
<DstInvGeoTransform>-113677.4603472922,2690.45537496587,0,47692.29135543721,0,-2690.45537496587</DstInvGeoTransform>
          </GenImgProjTransformer>
        </BaseTransformer>
      </ApproxTransformer>
    </Transformer>
    <BandList>
      <BandMapping src="1" dst="1"/>
    </BandList>
  </GDALWarpOptions>
</VRTDataset>

This script was readable in our application and projected the rotated image
onto the basemap.

Awesome!

David




David M Nelson wrote:
> 
> Thanks for the response, Frank.  I've been able to parse through and
> figure
> out most of the code.  I am a little unclear on the DstGeoTransform part
> of the second script.  Do I understand that the DstGeoTransform describes
> the original projection coordinates and the DstInvGeoTransform describes
> the destination projection coordinates (and that everything is in meters)?
> I am also not sure about the function of the GCP since the GeoTransform
> already defined the UL pixel value?  I just want to make sure that I
> understand the differences between the control point sets.
> 
> Thanks!
> 
> David
> 
> 
> 
> 
> 
> Frank Warmerdam-2 wrote:
>> 
>> David M Nelson wrote:
>>> I have a series of unprojected, single-frame images.  We want to be able
>>> to
>>> project them on-the-fly by generating a VRT file for each image. 
>>> However,
>>> none of the images are oriented north-up--they are all uniquely oriented
>>> because of the flightpath taken by the platform during the time of
>>> acquisition.  I have not been able to find a way to generate a VRT that
>>> takes orientation into account.  I tried to use the X-rotation and the
>>> Y-rotation, but this completely distorts the image setting some of the
>>> coordinate values to 35,000+ deg.  I think that the orientation values
>>> are
>>> supposed to be for the reference frame anyway and not the images (?).
>>> 
>>> So my question is: is there a way to generate a VRT file which will
>>> project
>>> and orient correctly an unprojected image?
>> 
>> David,
>> 
>> If they are still very regularly sampled (only requiring an affine
>> transformation to a north up uniform grid) you should be able to express
>> the georeferencing with an appropriate geotransform though computing it
>> may
>> be a bit tricky.
>> 
>> If the are not necessarily really regular you could create a VRT that
>> expresses their georeferencing in terms of georeferenced locations at
>> known pixel control points (ie. GCPs). A simple example of an image
>> georeferenced with GCPs using a VRT is:
>> 
>> <VRTDataset rasterXSize="512" rasterYSize="512">
>>    <Metadata/>
>>    <GCPList>
>>      <GCP Id="1" Pixel="0.0000" Line="0.0000" X="1.000000000000E+04" 
>> Y="5.000000000000E+03"/>
>>      <GCP Id="2" Pixel="500.0000" Line="0.0000" X="1.200000000000E+04" 
>> Y="7.000000000000E+03"/>
>>      <GCP Id="3" Pixel="250.0000" Line="500.0000" X="9.000000000000E+03" 
>> Y="6.000000000000E+03"/>
>>    </GCPList>
>>    <VRTRasterBand dataType="Byte" band="1">
>>      <Metadata/>
>>      <ColorInterp>Gray</ColorInterp>
>>      <SimpleSource>
>>        <SourceFilename relativeToVRT="1">gcp.tif</SourceFilename>
>>        <SourceBand>1</SourceBand>
>>        <SourceProperties RasterXSize="512" RasterYSize="512"
>> DataType="Byte" 
>> BlockXSize="512" BlockYSize="16"/>
>>        <SrcRect xOff="0" yOff="0" xSize="512" ySize="512"/>
>>        <DstRect xOff="0" yOff="0" xSize="512" ySize="512"/>
>>      </SimpleSource>
>>    </VRTRasterBand>
>> </VRTDataset>
>> 
>> However, this depends on the application reading the image knowing how
>> to utilize GCPs which many do not.  You could actually rectify the image
>> with gdalwarp.  But if you don't want to do that you can also create a
>> "warped vrt" which is a virtual image representing what gdalwarp would
>> have produced.  For instance, for the above this might look like:
>> 
>> <VRTDataset rasterXSize="1448" rasterYSize="724"
>> subClass="VRTWarpedDataset">
>>    <GeoTransform>  7.9520000000000000e+03,  2.8284271247461898e+00, 
>> 0.0000000000000000e+00,  7.0480000000000000e+03,  0.0000000000000000e+00, 
>> -2.8284271247461898e+00</GeoTransform>
>>    <VRTRasterBand dataType="Byte" band="1"
>> subClass="VRTWarpedRasterBand"/>
>>    <BlockXSize>512</BlockXSize>
>>    <BlockYSize>128</BlockYSize>
>>    <GDALWarpOptions>
>>      <WarpMemoryLimit>6.71089e+07</WarpMemoryLimit>
>>      <ResampleAlg>NearestNeighbour</ResampleAlg>
>>      <WorkingDataType>Byte</WorkingDataType>
>>      <Option name="INIT_DEST">0</Option>
>>      <SourceDataset relativeToVRT="1">gcp.tif</SourceDataset>
>>      <Transformer>
>>        <ApproxTransformer>
>>          <MaxError>0.125</MaxError>
>>          <BaseTransformer>
>>            <GenImgProjTransformer>
>>              <SrcGCPTransformer>
>>                <GCPTransformer>
>>                  <Order>1</Order>
>>                  <Reversed>0</Reversed>
>>                  <GCPList>
>>                    <GCP Id="1" Pixel="0.0000" Line="0.0000" 
>> X="1.000000000000E+04" Y="5.000000000000E+03"/>
>>                    <GCP Id="2" Pixel="500.0000" Line="0.0000" 
>> X="1.200000000000E+04" Y="7.000000000000E+03"/>
>>                    <GCP Id="3" Pixel="250.0000" Line="500.0000" 
>> X="9.000000000000E+03" Y="6.000000000000E+03"/>
>>                  </GCPList>
>>                </GCPTransformer>
>>              </SrcGCPTransformer>
>>  
>> <DstGeoTransform>7952,2.82842712474619,0,7048,0,-2.82842712474619</DstGeoTransform>
>>  
>> <DstInvGeoTransform>-2811.456561997713,0.3535533905932738,0,2491.844296901394,0,-0.3535533905932738</DstInvGeoTransform>
>>            </GenImgProjTransformer>
>>          </BaseTransformer>
>>        </ApproxTransformer>
>>      </Transformer>
>>      <BandList>
>>        <BandMapping src="1" dst="1"/>
>>      </BandList>
>>    </GDALWarpOptions>
>> </VRTDataset>
>> 
>> Any GDAL supporting application will read the warped vrt as a north up
>> image.
>> The commands I used to create the above examples are:
>> 
>> gdal_translate plain.tif gcp.tif -gcp 0 0 10000 5000
>>          -gcp 500 0 12000 7000 -gcp 250 500 9000 6000
>> 
>> gdal_translate gcp.tif gcp.vrt -of VRT
>> 
>> gdalwarp -of VRT gcp.tif warped.vrt
>> 
>> Best regards,
>> -- 
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam,
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | President OSGeo,
>> http://osgeo.org
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> 
> 
> 

-- 
View this message in context: http://www.nabble.com/Using-VRT-to-project-rotate-tiff-files-on-the-fly-tp18448351p18520772.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From everyourgokul at gmail.com  Fri Jul 18 02:19:56 2008
From: everyourgokul at gmail.com (Gokul.S.Kartha)
Date: Fri Jul 18 02:20:03 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
Message-ID: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>

Hi all

  i am facing some problems while porting gdal into arm based devices,may i
know whether it is possible to port gdal to arm ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080718/0aa1996f/attachment.html
From 2voodoo at gmx.de  Fri Jul 18 03:00:12 2008
From: 2voodoo at gmx.de (Tom Kazimiers)
Date: Fri Jul 18 03:00:27 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
In-Reply-To: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
References: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
Message-ID: <48803F7C.5030709@gmx.de>

Hi,

I don't know how it is with the current version but 1.4 was successfully 
ported to Windows CE devices by Mateusz Loskot. Version 1.5 can be 
compiled, too, but some minor fixes have to be done - I will try to 
compile the current version the following week.
As far as I can say everything, except some Problems with loading 
GeoTiffs with CCITT Fax and other compressions, works very well. One 
thing which kept me up a while was that you have to limit the memory 
usage by hand to 4MB (or whatever you want to give GDAL :) ).
So yes, it is possible and you need not to port it, but compile it like 
described on the GDAL website: http://www.gdal.org/wince.html

Regards,
Tom

Gokul.S.Kartha schrieb:
>
> Hi all
>
>   i am facing some problems while porting gdal into arm based 
> devices,may i know whether it is possible to port gdal to arm ?
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From oliver.eichler at gmx.de  Fri Jul 18 09:27:38 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Fri Jul 18 09:31:37 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
In-Reply-To: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
References: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
Message-ID: <200807181527.39261.oliver.eichler@gmx.de>

On Friday, 18. July 2008 08:19:56 Gokul.S.Kartha wrote:
> Hi all
>
>   i am facing some problems while porting gdal into arm based devices,may i
> know whether it is possible to port gdal to arm ?

I use GDAL 1.5.2 on the OpenEmbedded Linux distribution on a FSC Loox n560 
(pxa27xx). No problems so far.

Oliver
From rkanne at ara.com  Fri Jul 18 09:42:01 2008
From: rkanne at ara.com (Roy Kanne ARA/SED)
Date: Fri Jul 18 09:48:44 2008
Subject: [Gdal-dev] GDAL 1.5.1 distribution - something's missing
Message-ID: <B3CB5AFD4126584AB4CF3DD45B267A53088291FE@thorin.ara.wan>

Maksim,

 

I just ran into the same problem when switching between a debug and
release build. I needed to ensure that all of my .obj files were also
cleaned out before doing the release build to completely remove the
dependency on the debug dlls.

 

Roy Kanne

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080718/0eb8ea6c/attachment.html
From klokan at klokan.cz  Fri Jul 18 12:12:36 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Fri Jul 18 12:12:40 2008
Subject: [gdal-dev] SoC GDAL2Tiles: First Google Maps Overlay,
	Tile Quality Discussion
Message-ID: <6e41d95b0807180912v27a3280bod95d105896f7fa8@mail.gmail.com>

Hello everybody,

I was working on the Google Maps API based browser template. There are
first tiles overlaying Google Maps...
Have a look at:

http://www.klokan.cz/projects/gdal2tiles/overlay/googlemaps.html

BTW Source raster is the freely available NOAA BSB marine map of the
Vancouver area and Victoria town, where was the last FOSS4G conference
;-)

Similar web map browser is going be generated by the new version of
GDAL2Tiles for any raster data with georeference just by one command -
same way like you now generate the non-overlaying viewer with the
stable version of this GDAL utility
(http://www.gdal.org/gdal2tiles.html).

The template for overlay is not yet ready. I am missing changeable
transparency control (it seems I will need to make my own). I would
like to place the label layer from Satellite on top of custom overlay,
but somehow the zPriority is not running as it should (anybody has
experience with that?).
Later on I should definitely prettify the JavaScript code, so be
patient, please.
Google Earth embedded in the webbrowser is there as well (plugin is
now available only under Windows) - it will display the same tiles as
map overlay.

The implementation of similar changes on the OpenLayers based template
for TMS viewer is still waiting for me.

I was testing several ways how to generate high quality tiles by GDAL
python interface:

- It seems I will always use ReadRaster() for query the original
raster (this is using nearest neighbour algorithm) to get the window
of size 1024x1024 pixels.
This window will be scaled down (billinear or cubic?) by
ReprojectImage() to the size 256x256 pixels in memory (GDAL 'MEM'
driver).
Before the scaling the conversion to RGB has to be done as well as the
conversion to Byte band type, in case source raster does not have that
parameters.

If I use a query window smaller then 4 x width (1024 for 256 pixel
result) the quality of the result was quite poor.

- Alternative way how to generate high quality tiles for the upper
levels of the tile pyramid is by reading of already generated tiles
from the lower levels of the pyramid. This approach is used by
gdal_retile.py utility (there is a simple cache mechanism), the source
code of which I was examining during the last week.

Maybe the second approach will be more efficient for generation of
tiles from warped VRT datasets.

Any idea what approach for generating tiles for the upper levels of
the pyramid should be used to receive high quality tiles in reasonable
time?

All the best for coming weekend...

Klokan
From mathieu at inventis.ca  Fri Jul 18 13:21:54 2008
From: mathieu at inventis.ca (Mathieu Lahaye)
Date: Fri Jul 18 14:01:51 2008
Subject: [gdal-dev] ogr2gui - project development
Message-ID: <20080718172153.B62F32D48@fep3.cogeco.net>

Hi,

My company developed a graphical user interface (GUI) for ogr2ogr. We
created an open source project called ogr2gui.

We intend to make this application available to GIS users who aren't
comfortable with the ogr2ogr syntax or looking for a fast, easy and free
geospatial data translator.

 

You can download the source code or the installer at: inventis.ca/ogr2gui

Note that this is only RC 0.1 and only few data formats are supported. We'll
add some more as soon as possible.

 

We're currently looking for some people who'd like to get involved in this
utility program development. 

We'd also like to get some feedback about the project.do you think it's
useful? should it looks different? functions we should add or remove, etc.

 

All comments or suggestions are welcome!

 

Thanks,

 

Mathieu Lahaye

mathieu@inventis.ca

www.inventis.ca

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080718/13afe428/attachment.html
From mateusz at loskot.net  Fri Jul 18 15:09:11 2008
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Fri Jul 18 15:09:19 2008
Subject: [gdal-dev] ogr2gui - project development
In-Reply-To: <20080718172153.B62F32D48@fep3.cogeco.net>
References: <20080718172153.B62F32D48@fep3.cogeco.net>
Message-ID: <4880EA57.9010902@loskot.net>

Mathieu Lahaye pisze:
> Hi,
> 
> My company developed a graphical user interface (GUI) for ogr2ogr. We
> created an open source project called ogr2gui.

Mathieu,

Sounds very interesting.
I'll try to take a look at it.


> We intend to make this application available to GIS users who aren't
> comfortable with the ogr2ogr syntax or looking for a fast, easy and free
> geospatial data translator.

AFAIU, you mean free as Free and Open Source, right?

> You can download the source code or the installer at: inventis.ca/ogr2gui


Cool

> Note that this is only RC 0.1 and only few data formats are supported. We'll
> add some more as soon as possible.
> 
> We're currently looking for some people who'd like to get involved in this
> utility program development. 
> 
> We'd also like to get some feedback about the project.do you think it's
> useful? should it looks different? functions we should add or remove, etc.
 >
> All comments or suggestions are welcome!

Please, appologize my ignorance, but my first comment would be to 
translate the website and other docs to english :-)

Ciao
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Fri Jul 18 15:17:50 2008
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Fri Jul 18 15:17:56 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
In-Reply-To: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
References: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
Message-ID: <4880EC5E.2000706@loskot.net>

Gokul.S.Kartha pisze:
> Hi all
> 
>   i am facing some problems while porting gdal into arm based devices,may i
> know whether it is possible to port gdal to arm ?

Gokul,

I don't know what device, system platform and C/C++ implementation you 
have in mind (would be helpful if you could be more specific), but 
assuming Windows CE platform and Visual C++ compiler, GDAL works on that.

However, I have to confess that I have failed my duty keeping Visual C++ 
project files for Windows CE up to date, so compilation may fail for 
some not-so-critical-but-annoying  reasons. I hope to fix it soon.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Fri Jul 18 15:21:01 2008
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Fri Jul 18 15:21:08 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
In-Reply-To: <200807181527.39261.oliver.eichler@gmx.de>
References: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
	<200807181527.39261.oliver.eichler@gmx.de>
Message-ID: <4880ED1D.9070205@loskot.net>

Oliver Eichler pisze:
> On Friday, 18. July 2008 08:19:56 Gokul.S.Kartha wrote:
>> Hi all
>>
>>   i am facing some problems while porting gdal into arm based devices,may i
>> know whether it is possible to port gdal to arm ?
> 
> I use GDAL 1.5.2 on the OpenEmbedded Linux distribution on a FSC Loox n560 
> (pxa27xx). No problems so far.

Oliver,

It's good to know.
Perhas you could describe installation process on GDAL Wiki [1]

[1] http://trac.osgeo.org/gdal/wiki
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From yann.chemin at gmail.com  Fri Jul 18 22:39:04 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Fri Jul 18 22:39:07 2008
Subject: [gdal-dev] band overview into numpy array how-to?
Message-ID: <4f37eb890807181939r19ecd8edh5ac70927b8f6fd65@mail.gmail.com>

Hi I am trying to get an image into a numpy array (for later display
in wx.Image)

it is to have a view of the image at a screen size resolution more or less.
Due to the nature of the images (large size),
it will be easier to interact with overviews for display.
How can I load an overview into a numpy array?


Unless there is a better way... Please kindly suggest.

Thanks,
Yann

-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
From antonio.valentino at tiscali.it  Sat Jul 19 02:40:56 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Sat Jul 19 02:41:26 2008
Subject: [gdal-dev] band overview into numpy array how-to?
In-Reply-To: <4f37eb890807181939r19ecd8edh5ac70927b8f6fd65@mail.gmail.com>
References: <4f37eb890807181939r19ecd8edh5ac70927b8f6fd65@mail.gmail.com>
Message-ID: <20080719084056.6c61a474@tiscali.it>

Il giorno Sat, 19 Jul 2008 09:39:04 +0700
"Yann Chemin" <yann.chemin@gmail.com> ha scritto:

> Hi I am trying to get an image into a numpy array (for later display
> in wx.Image)
> 
> it is to have a view of the image at a screen size resolution more or
> less. Due to the nature of the images (large size),
> it will be easier to interact with overviews for display.
> How can I load an overview into a numpy array?

gdal.Band.GetOverview(self, ov_index)  --> RasterBand instance

gdal.Band.ReadAsArray(self, xoff=0, yoff=0, win_xsize=None,
win_ysize=None, buf_xsize=None, buf_ysize=None, buf_obj=None)

-- 
Antonio Valentino
From oliver.eichler at gmx.de  Sat Jul 19 08:06:30 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Sat Jul 19 08:10:52 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
In-Reply-To: <4880ED1D.9070205@loskot.net>
References: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>
	<200807181527.39261.oliver.eichler@gmx.de>
	<4880ED1D.9070205@loskot.net>
Message-ID: <200807191406.30965.oliver.eichler@gmx.de>

On Friday, 18. July 2008 21:21:01 you wrote:
> Oliver Eichler pisze:
> > On Friday, 18. July 2008 08:19:56 Gokul.S.Kartha wrote:
> >> Hi all
> >>
> >>   i am facing some problems while porting gdal into arm based
> >> devices,may i know whether it is possible to port gdal to arm ?
> >
> > I use GDAL 1.5.2 on the OpenEmbedded Linux distribution on a FSC Loox
> > n560 (pxa27xx). No problems so far.
>
> Oliver,
>
> It's good to know.
> Perhas you could describe installation process on GDAL Wiki [1]
>
> [1] http://trac.osgeo.org/gdal/wiki


Hi Mateusz,

can't say no to this :) Done it!

Oliver
From warmerdam at pobox.com  Sat Jul 19 11:45:33 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Jul 19 11:45:51 2008
Subject: [gdal-dev] band overview into numpy array how-to?
In-Reply-To: <20080719084056.6c61a474@tiscali.it>
References: <4f37eb890807181939r19ecd8edh5ac70927b8f6fd65@mail.gmail.com>
	<20080719084056.6c61a474@tiscali.it>
Message-ID: <48820C1D.7060801@pobox.com>

Antonio Valentino wrote:
> Il giorno Sat, 19 Jul 2008 09:39:04 +0700
> "Yann Chemin" <yann.chemin@gmail.com> ha scritto:
> 
>> Hi I am trying to get an image into a numpy array (for later display
>> in wx.Image)
>>
>> it is to have a view of the image at a screen size resolution more or
>> less. Due to the nature of the images (large size),
>> it will be easier to interact with overviews for display.
>> How can I load an overview into a numpy array?
> 
> gdal.Band.GetOverview(self, ov_index)  --> RasterBand instance
> 
> gdal.Band.ReadAsArray(self, xoff=0, yoff=0, win_xsize=None,
> win_ysize=None, buf_xsize=None, buf_ysize=None, buf_obj=None)
> 

Yann,

I would add that ReadAsArray() will automatically make use of available
overviews if buf_xsize/buf_ysize are less than win_xsize/win_ysize as
appropriate.  So generally, just use ReadAsArray() to request your desired
region and indicate the reduced resolution you want to load it at, and
the overviews will be used when appropriate and available.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From even.rouault at mines-paris.org  Sat Jul 19 13:15:50 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Jul 19 13:15:55 2008
Subject: [gdal-dev] ogr2gui - project development
In-Reply-To: <20080718172153.B62F32D48@fep3.cogeco.net>
References: <20080718172153.B62F32D48@fep3.cogeco.net>
Message-ID: <200807191915.51453.even.rouault@mines-paris.org>

Hi,

nice idea.

I'm a Linux guy and I tried to compiled it on my Ubuntu 7.10 box. I didn't 
manage to compile it with wx2.8 (I'm not familiar at all with building with 
wxwidget)

I tried :
g++ App.cpp Dnd.cpp 
Frm.cpp -I/usr/include/wx-2.8 -I/usr/lib/wx/include/base-unicode-release-2.8 
`gdal-config --cflags` `gdal-config --libs` -o ogr2gui

but I get errors because DND is not defined. 
In /usr/lib/wx/include/base-unicode-release-2.8/wx/setup.h
#define wxUSE_DRAG_AND_DROP 0

I tried then to disable Dnd.cpp, but I get other errors about wxFrame.

If it was me, I would have chose GTK instead of wxwidgets (I'm a GTK 
lover ;-))

I've looked a bit at the source code.
A few remarks :
* I've the feeling that you're not launching ogr2ogr executable, but using OGR 
API instead. Right ? I'm a bit confused since there's a function that formats 
a string with ogr2ogr.exe in it
* you should maybe consider using the C API instead of the C++ API to be able 
not to depend too much of the version of OGR.

As far as features as concerned, I think that looking at all the options of 
ogr2ogr is a good start : SQL request, bounding box, choice of the layer(s) 
to translate, etc etc...
For output formats, you could propose the various dataset creation options
For database formats, you could propose the various fields that help people 
create the connection string. For example, for postgres, the database name, 
user name, password, etc etc...

On the screenshot, I see that there are checkboxes for append, update, 
overwrite. Some (all ?) of them are exclusive, so maybe radiobuttons would be 
more appropriate.
The "Projection" label shoud probably by renamed to "Target projection" if it 
is the case. Showing the source projection could also be usefull. If no 
source projection is defined, then it should be defined.

Adding a LICENCE file in the tar.gz would be good too. I had to dig into the 
source to see that it's GPL

Well, I think that's enough for a Father Christmas Letter ;-)

Best regards

Le Friday 18 July 2008 19:21:54, vous avez ?crit?:
> Hi,
>
> My company developed a graphical user interface (GUI) for ogr2ogr. We
> created an open source project called ogr2gui.
>
> We intend to make this application available to GIS users who aren't
> comfortable with the ogr2ogr syntax or looking for a fast, easy and free
> geospatial data translator.
>
>
>
> You can download the source code or the installer at: inventis.ca/ogr2gui
>
> Note that this is only RC 0.1 and only few data formats are supported.
> We'll add some more as soon as possible.
>
>
>
> We're currently looking for some people who'd like to get involved in this
> utility program development.
>
> We'd also like to get some feedback about the project.do you think it's
> useful? should it looks different? functions we should add or remove, etc.
>
>
>
> All comments or suggestions are welcome!
>
>
>
> Thanks,
>
>
>
> Mathieu Lahaye
>
> mathieu@inventis.ca
>
> www.inventis.ca


From mateusz at loskot.net  Sat Jul 19 17:26:04 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Jul 19 17:26:12 2008
Subject: [gdal-dev] Problem with Porting GDAL into Arm device
In-Reply-To: <200807191406.30965.oliver.eichler@gmx.de>
References: <fc18e15a0807172319p382749b7nf35ff3c5dc94c629@mail.gmail.com>	<200807181527.39261.oliver.eichler@gmx.de>	<4880ED1D.9070205@loskot.net>
	<200807191406.30965.oliver.eichler@gmx.de>
Message-ID: <48825BEC.1070600@loskot.net>

Oliver Eichler wrote:
> On Friday, 18. July 2008 21:21:01 you wrote:
>> Oliver Eichler pisze:
>>> On Friday, 18. July 2008 08:19:56 Gokul.S.Kartha wrote:
>>>> Hi all
>>>>
>>>>   i am facing some problems while porting gdal into arm based
>>>> devices,may i know whether it is possible to port gdal to arm ?
>>> I use GDAL 1.5.2 on the OpenEmbedded Linux distribution on a FSC Loox
>>> n560 (pxa27xx). No problems so far.
>> Oliver,
>>
>> It's good to know.
>> Perhas you could describe installation process on GDAL Wiki [1]
>>
>> [1] http://trac.osgeo.org/gdal/wiki
> 
> 
> Hi Mateusz,
> 
> can't say no to this :) Done it!

Oliver,

Fantastic, thank you very much!

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From yann.chemin at gmail.com  Sat Jul 19 20:28:47 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Sat Jul 19 20:28:52 2008
Subject: [gdal-dev] band overview into numpy array how-to?
In-Reply-To: <48820C1D.7060801@pobox.com>
References: <4f37eb890807181939r19ecd8edh5ac70927b8f6fd65@mail.gmail.com>
	<20080719084056.6c61a474@tiscali.it> <48820C1D.7060801@pobox.com>
Message-ID: <4f37eb890807191728m52e6d14cle4c869d9fd145423@mail.gmail.com>

oh! thanks, that is a nice feature...
I'll clean up and start again from that then.

2008/7/19 Frank Warmerdam <warmerdam@pobox.com>:
> Antonio Valentino wrote:
>>
>> Il giorno Sat, 19 Jul 2008 09:39:04 +0700
>> "Yann Chemin" <yann.chemin@gmail.com> ha scritto:
>>
>>> Hi I am trying to get an image into a numpy array (for later display
>>> in wx.Image)
>>>
>>> it is to have a view of the image at a screen size resolution more or
>>> less. Due to the nature of the images (large size),
>>> it will be easier to interact with overviews for display.
>>> How can I load an overview into a numpy array?
>>
>> gdal.Band.GetOverview(self, ov_index)  --> RasterBand instance
>>
>> gdal.Band.ReadAsArray(self, xoff=0, yoff=0, win_xsize=None,
>> win_ysize=None, buf_xsize=None, buf_ysize=None, buf_obj=None)
>>
>
> Yann,
>
> I would add that ReadAsArray() will automatically make use of available
> overviews if buf_xsize/buf_ysize are less than win_xsize/win_ysize as
> appropriate.  So generally, just use ReadAsArray() to request your desired
> region and indicate the reduced resolution you want to load it at, and
> the overviews will be used when appropriate and available.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
From wendell at enflight.com  Sat Jul 19 21:56:55 2008
From: wendell at enflight.com (Wendell Turner)
Date: Sat Jul 19 21:56:57 2008
Subject: [gdal-dev] generate shapefile from program
Message-ID: <20080720015655.GA1413@q.rho.net>

Can someone point me to a python program that will generate
a shapefile from scratch?

Given an extent, projection, and set of lat/lng to place
some markers or images, I would like a python (or c or c++)
program to generate a shapefile for an overlay with
mapserver/openlayers.  I think ogr may be able to do this,
and saw many examples of how to change existing shapefiles,
but not to generate one from scratch.

Mapnik gave the impression that it could do it, but was
fairly difficult to compile.

Thanks,

Wendell

From joe at omc-international.com.au  Sat Jul 19 23:09:45 2008
From: joe at omc-international.com.au (joe@omc-international.com.au)
Date: Sat Jul 19 23:40:08 2008
Subject: [gdal-dev] generate shapefile from program
In-Reply-To: <20080720015655.GA1413@q.rho.net>
References: <20080720015655.GA1413@q.rho.net>
Message-ID: <41747.58.178.185.68.1216523385.squirrel@polaris.omc-international.com.au>

> Can someone point me to a python program that will generate
> a shapefile from scratch?
>
> Given an extent, projection, and set of lat/lng to place
> some markers or images, I would like a python (or c or c++)
> program to generate a shapefile for an overlay with
> mapserver/openlayers.  I think ogr may be able to do this,
> and saw many examples of how to change existing shapefiles,
> but not to generate one from scratch.

I found this page from Sean Gillies blog to be very helpful:

http://sgillies.net/blog/16/graticule-hacking-with-ogr/

but you will need to play around a bit to modify it to handle points.

Hope that helps,

Joe

From jgreenberg at arc.nasa.gov  Sun Jul 20 14:55:54 2008
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Sun Jul 20 14:58:27 2008
Subject: [gdal-dev] reading large image files
In-Reply-To: <200807162103.34428.even.rouault@mines-paris.org>
References: <409252.40587.qm@web50609.mail.re2.yahoo.com>
	<200807162103.34428.even.rouault@mines-paris.org>
Message-ID: <48838A3A.90907@arc.nasa.gov>

I want to back up Even's statement about trying to read a file 
piece-by-piece.  About 99% of raster processes are better handled with 
"tiled" processing -- a nice balance between i/o, memory and sanity 
would be to read the image one line at a time, perform your processing 
on that line, write that line out, then move to the next one:

(generically)
for i = 1, number of lines
    read line i
    analyze line i
    write results of line i to output file
end for

If you want to get more creative (or are doing spatial processing), you 
might want to read a set of lines, restricted by your memory usage.  
There are almost no raster processes that ever need an entire image read 
into memory at one time.

--j

Even Rouault wrote:
> Stephen,
>
> My first answer was "Maybe you have not waited long enough... ;-)"
>
> But I could also reproduce the slowness with GDAL <= 1.5.2 while reading such 
> a huge amount of data into one call.
> There was an inefficient reading strategy in GDALRasterBand::IRasterIO that 
> your dataset precisely hits, that is to say raster with big raster dimensions 
> and tiled data. This is bug #2457 and it has been fixed recently in the SVN 
> branch of 1.5 (in r14863) and trunk. I can confirm that updating to r14863 of 
> branches/1.5 fixes the slowlyness.
>
> So several solutions come to mind :
> * try to read your file piece by piece (ideally by adjusting your requests on 
> block boundaries)
> * update to the SVN version 
> * wait for the next release 
> * try with GDAL_CACHEMAX=54, because 54 MB = 56 623 104 bytes > (1024 * 1024 * 
> 2) * (27552 / 1024). See #2457 for the explanation of that formula ;-) 
>
> (Side note, I see one error in your code. You ask for GDT_Byte data but you 
> allocate a float array. )
>
> Best regards
>
> Le Wednesday 16 July 2008 17:53:21 stephen tan, vous avez ?crit :
>   
>> I have a nitf image that I am trying to read into an array using
>> gdal-1.5.1.  The file is about 1.5G .
>>
>> gdalinfo returns the following information:
>>     Size is 27552, 25196
>>     ...
>>     Band 1 Block=1024x1024 Type=UInt16, ColorInterp=Undefined
>>
>> I have tried to read the image into an array using the following code:
>>     GDALDataset  *poDataset;
>>
>>     GDALAllRegister();
>>
>>     poDataset = (GDALDataset *) GDALOpenShared( fname.c_str(),
>> GA_ReadOnly );
>>     if( poDataset == NULL )
>>     {
>>         cerr << "Could not open file: " << fname << endl;
>>         exit(1);
>>     }
>>
>>     int width = poDataset->GetRasterXSize();
>>     int height = poDataset->GetRasterYSize();
>>     int bands = poDataset->GetRasterCount();
>>
>>     GDALRasterBand  *poBand;
>>     int nBlockXSize, nBlockYSize;
>>
>>     poBand = poDataset->GetRasterBand( 1 );
>>
>>     poBand->GetBlockSize( &nBlockXSize, &nBlockYSize );
>>
>>     //float* data;
>>     //data = (float *) CPLMalloc(sizeof(float)*width*height*bands);
>>
>>     float* data;
>>     data = new float[width*height*bands];
>>
>>     //GByte* data;
>>     //data = (GByte *) CPLMalloc(sizeof(float)*width*height*bands);
>>
>>     //GByte data[width*height*bands];
>>
>>     if(poBand->RasterIO( GF_Read, 0, 0, width, height, data, width,
>> height, GDT_Byte, 0, 0 ))
>>     {
>>         cerr << "Error: Could not read image data." << endl;
>>         exit(1);
>>     }
>>     GDALClose(poDataset);
>>
>> No errors are returned.  I let it run for several mins before I hit CTRL+C.
>> Any C++ suggestions on getting the image into a 1D array and/or 2D array
>> would be most helpful.  The above code works for smaller images.  I have
>> also tried different GDALSetCacheMax with no success.
>>
>> Thanks
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>     
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   

From wendell at enflight.com  Sun Jul 20 19:01:17 2008
From: wendell at enflight.com (Wendell Turner)
Date: Sun Jul 20 19:01:20 2008
Subject: [gdal-dev] generate shapefile from program
In-Reply-To: <41747.58.178.185.68.1216523385.squirrel@polaris.omc-international.com.au>
References: <20080720015655.GA1413@q.rho.net>
	<41747.58.178.185.68.1216523385.squirrel@polaris.omc-international.com.au>
Message-ID: <20080720230117.GA9968@q.rho.net>

On Sun, Jul 20, 2008 at 01:09:45PM +1000, joe@omc-international.com.au wrote:
> > Can someone point me to a python program that will generate
> > a shapefile from scratch?
> >
> > Given an extent, projection, and set of lat/lng to place
> > some markers or images, I would like a python (or c or c++)
> > program to generate a shapefile for an overlay with
> > mapserver/openlayers.  I think ogr may be able to do this,
> > and saw many examples of how to change existing shapefiles,
> > but not to generate one from scratch.
> 
> I found this page from Sean Gillies blog to be very helpful:
> 
> http://sgillies.net/blog/16/graticule-hacking-with-ogr/
> 
> but you will need to play around a bit to modify it to handle points.

Thank you, but something is not right yet.

I was able to compile mapserver and the python libraries so
that the graticule program runs & produces nice png images.

However, mapserv doesn't like the .shp and complains about
 msDBFgetItemIndex(): DBASE file error. Item 'location' not found.

What is mapserver complaining about in the .shp file, and
where is it looking for the location item?  How do i add
that to the .shp file?

Thanks,

Wendell


From SriRam.PrasadBhasker at rmsi.com  Mon Jul 21 08:32:22 2008
From: SriRam.PrasadBhasker at rmsi.com (SriRam.PrasadBhasker@rmsi.com)
Date: Mon Jul 21 08:33:47 2008
Subject: [gdal-dev] Nodata Raster Calue 
Message-ID: <OFD5152623.BE1355E8-ON6525748D.0044BC4E-6525748D.0044E6B4@rmsi.com>

I have a Jp2 16 Bit Image [ GreyScale ]

This has a NoData value ... I want to change the NoData value to White 
Color

Can anyone let me know the Syntax for getting this done thru 
GDAL_TRANSLATE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080721/b43b594c/attachment.html
From fevans at harris.com  Mon Jul 21 10:27:57 2008
From: fevans at harris.com (fevans)
Date: Mon Jul 21 10:27:59 2008
Subject: [Gdal-dev] Workaround for DataSet.GetGCPs from c#/java?
In-Reply-To: <f3b73b7d0807141608i7dc4d693oe93d32ebf4d7e58c@mail.gmail.com>
References: <2DBB9F887DAA394FA75D98474EA5730D0399CEF5@vader.prologic-inc.com>
	<f3b73b7d0706190928i4e9f7fga050183f6ec2e16b@mail.gmail.com>
	<18409180.post@talk.nabble.com>
	<f3b73b7d0807111059r7e44eb2di603d0a603b6bab9c@mail.gmail.com>
	<18409442.post@talk.nabble.com>
	<f3b73b7d0807141608i7dc4d693oe93d32ebf4d7e58c@mail.gmail.com>
Message-ID: <18569794.post@talk.nabble.com>


Tamas:
Works great. Thanks!!!
http://download.osgeo.org/gdal/daily/gdalsvn-stable-20080721.zip


Tamas Szekeres wrote:
> 
> FYI: I've just added the implementation for the Dataset.GetGCPs,
> Dataset.SetGCPs and GCPsToGeotransform for the C# bindings in the
> SVN-trunk. I've added the use cases for these functions in the
> GDALWrite and GDALInfo sample applications. Will also apply these in
> the stable branch soon.
> 
> 
> Best regards,
> 
> Tamas
> 
> 
> 2008/7/11 fevans <fevans@harris.com>:
>>
>> OK, c# works for me. Will be on task all weekend so let me know if I can
>> help.
>>
>>
>> Tamas Szekeres wrote:
>>>
>>> Hi,
>>>
>>> This will requre a bindings specific implementation, I'll be trying to
>>> implement something in this weekend if this issue is pressing for you.
>>> But it will only affect the c# interface, though
>>>
>>> Best regards,
>>>
>>> Tamas
>>>
>>>
>>>
>>> 2008/7/11 fevans <fevans@harris.com>:
>>>>
>>>> I see the milestone for this is GDAL 1.5.3.
>>>> http://trac.osgeo.org/gdal/ticket/1677
>>>>
>>>> Is there any other way to access the GCPs in java/c#? For example,
>>>> would
>>>> it
>>>> be possible to construct a "SWIGTYPE_p_int", and a
>>>> "SWIGTYPE_p_GDAL_GCP[]" ?
>>>> I experimented a little but sort of hit a swig wall.
>>>>
>>>> BTW, keep up the great work Tamas.
>>>>
>>>>
>>>>
>>>> Tamas Szekeres wrote:
>>>>>
>>>>> 2007/6/19, Jason Beverage <jbeverage@prologic-inc.com>:
>>>>>> Hi all,
>>>>>>
>>>>>> It seems like the signature for DataSet.GetGCPs is incorrect in the
>>>>>> C#
>>>>>> bindings.  It is currently:
>>>>>> void DataSet.GetGCPs(SWIGTYPE_p_int nGCPs, SWIGTYPE_p_p_GDAL_GCP
>>>>>> pGCPs)
>>>>>>
>>>>>> It seems like it should be:
>>>>>> GCP[] Dataset.GetGCPs();
>>>>>>
>>>>>> Should I open a ticket?
>>>>>>
>>>>>> Thanks,
>>>>>>
>>>>>> Jason
>>>>>>
>>>>>
>>>>> Yes please, and assign the ticket to the CSharpBindings component
>>>>>
>>>>> Best regards,
>>>>>
>>>>> Tamas Szekeres
>>>>> _______________________________________________
>>>>> Gdal-dev mailing list
>>>>> Gdal-dev@lists.maptools.org
>>>>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>>>>
>>>>>
>>>>
>>>> --
>>>> View this message in context:
>>>> http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409180.html
>>>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> --
>> View this message in context:
>> http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18409442.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/DataSet.GCPs-Method-in-C--Bindings-tp11197327p18569794.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From fevans at harris.com  Mon Jul 21 11:18:52 2008
From: fevans at harris.com (fevans)
Date: Mon Jul 21 11:18:54 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
	<f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
Message-ID: <18570865.post@talk.nabble.com>


Tamas, with regards to mono/gdal bindings, I suspect I'm doing something
wrong in the build process. Clearly the buildbots are passing. 

One item that's been bothering me is line 50 of "swig\csharp\GNUMakefile"
Its generating a config-xml wrapper for the dll, but thet XML is mal-Formed.

echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\">" >> $*_csharp.dll.config

Generates: <dllmap dll="gdal_wrap" target="libgdalcsharp.la">
Should be: <dllmap dll="gdal_wrap" target="libgdalcsharp.la" />

So either these wrappers are not used, or I'm digging in the wrong place. 
The nightly builds at "http://buildbot.osgeo.org/gdal-full/" are still
inaccessible.


./mkinterface.sh
make -f GNUmakefile

====================================================
make test
LC_ALL=C mono createdata.exe Data pointlayer

Unhandled Exception: System.TypeInitializationException: An exception was
thrown by the type initializer for OSGeo.OGR.gr --->
System.TypeInitializationException: An exception was thrown by the type
initializer for OSGeo.OGR.OgrPINVOKE --> System.TypeInitializationException:
An exception was thrown by the type initializer for SWIGExceptionHelper --->
Systm.DllNotFoundException: libogrcsharp.la
  at (wrapper managed-to-native)
SWIGExceptionHelper:SWIGRegisterExceptionCallbacks_Ogr
(OSGeo.OGR.OgrPINVOKE/SWIGExcepionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptinHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHeper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelpr/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelperExceptionDelegate)
  at OSGeo.OGR.OgrPINVOKE+SWIGExceptionHelper..cctor () [0x00000] --- End of
inner exception stack trace ---

  at OSGeo.OGR.OgrPINVOKE..cctor () [0x00000] --- End of inner exception
stack trace ---

  at OSGeo.OGR.Ogr..cctor () [0x00000] --- End of inner exception stack
trace ---

  at CreateData.Main (System.String[] args) [0x00000] 
make: *** [test] Error 1
====================================================


Tamas Szekeres wrote:
> 
> 2008/6/11 Evans, Frank <fevans@harris.com>:
>> Tamas, thanks for the test-results link. I had read that tests were
>> passing, but the log-detail provided a lot of useful info. I will try
>> SWIG 1.3.31 this weekend, and let everyone know. I can't switch mono
>> versions, at least not easily. Are the library outputs for the automated
>> builds accessible?
>>
> 
> The build directory of the linux builders used to be accessible from
> the following link:
> http://buildbot.osgeo.org/gdal-full/
> http://buildbot.osgeo.org/gdal-quick/
> 
> But it seems like having a permission problem at the moment.
> 
>> I know I'm asking for speculation, but do you think there's a
>> 32-bit/64-bit issue?
>>
> 
> I`ve been trying on debian AMD64 as I`ve noted in my previous post so
> I doubt that this is a 64 bit OS related issue.
> The version of swig and mono might even more be an issue.
> 
> Best regards,
> 
> Tamas
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p18570865.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From sfkeller at gmail.com  Mon Jul 21 14:47:33 2008
From: sfkeller at gmail.com (Stefan Keller)
Date: Mon Jul 21 14:47:36 2008
Subject: [gdal-dev] ogr2gui - project development
In-Reply-To: <20080718172153.B62F32D48@fep3.cogeco.net>
References: <20080718172153.B62F32D48@fep3.cogeco.net>
Message-ID: <25bc040b0807211147y7efb087m1ac38dc1775cea45@mail.gmail.com>

Salut Matthieu,

Nice idea!

It's a good alternative to our GeoConverter (http://geoconverter.hsr.ch) -
especially for large files.

I actually could'nt test it right away as the Windows Installer on this PC
is disabled (opened it instead with 'LessMSIerables'). Would'nt it be more
"open source" like, when there is only a single executable 'ogr2gui.exe'
(only with registry entries if really needed...)?

When looking at the screen shots, I'm missing an optional "Source SRS (EPSG
no.)" field, because many GIS formats don't have SRS information available.
Yours, Stefan


2008/7/18 Mathieu Lahaye <mathieu@inventis.ca>:

>  Hi,
>
> My company developed a graphical user interface (GUI) for ogr2ogr. We
> created an open source project called ogr2gui.
>
> We intend to make this application available to GIS users who aren't
> comfortable with the ogr2ogr syntax or looking for a fast, easy and free
> geospatial data translator.
>
>
>
> You can download the source code or the installer at: inventis.ca/ogr2gui
>
> Note that this is only RC 0.1 and only few data formats are supported.
> We'll add some more as soon as possible?
>
>
>
> We're currently looking for some people who'd like to get involved in this
> utility program development.
>
> We'd also like to get some feedback about the project?do you think it's
> useful? should it looks different? functions we should add or remove, etc.
>
>
>
> All comments or suggestions are welcome!
>
>
>
> Thanks,
>
>
>
> *Mathieu Lahaye*
>
> mathieu@inventis.ca
>
> www.inventis.ca
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080721/39f11664/attachment.html
From desch-mosher at lanl.gov  Mon Jul 21 15:25:35 2008
From: desch-mosher at lanl.gov (Diana Esch-Mosher)
Date: Mon Jul 21 15:56:56 2008
Subject: [gdal-dev] extracting polynomial from gdalwarp
Message-ID: <4884E2AF.6060109@lanl.gov>

I have a set of images (domain A) and another set of images (domain B), 
both with available GCPs

I want to:

1) determine a minimum second order polynomial transform from domain A 
-> domain B using the two sets of GCPs

2) apply that transform to domain A GCPs to get domain B GCP's

Could someone please point out the correct path through GDALWARP to 
calculate and then save the polynomial.

Thanks,

Diana M. Esch-Mosher

From szekerest at gmail.com  Mon Jul 21 17:03:42 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Jul 21 17:03:46 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <18570865.post@talk.nabble.com>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
	<f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
	<18570865.post@talk.nabble.com>
Message-ID: <f3b73b7d0807211403h2dca72e0ta63d57b475d9e73@mail.gmail.com>

Frank,

I've committed in the SVN trunk to produce well formed xml with the
development version. However I doubt if it causes this problem.
Probably your environment settings like incorrect LD_LIBRARY_PATH
prevents from loading the gdal so or the related so-s (like proj).
At the buildbot configurations those pathes have been set manually to
the correct directories.

Best regards,

Tamas



2008/7/21 fevans <fevans@harris.com>:
>
> Tamas, with regards to mono/gdal bindings, I suspect I'm doing something
> wrong in the build process. Clearly the buildbots are passing.
>
> One item that's been bothering me is line 50 of "swig\csharp\GNUMakefile"
> Its generating a config-xml wrapper for the dll, but thet XML is mal-Formed.
>
> echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\">" >> $*_csharp.dll.config
>
> Generates: <dllmap dll="gdal_wrap" target="libgdalcsharp.la">
> Should be: <dllmap dll="gdal_wrap" target="libgdalcsharp.la" />
>
> So either these wrappers are not used, or I'm digging in the wrong place.
> The nightly builds at "http://buildbot.osgeo.org/gdal-full/" are still
> inaccessible.
>
>
> ./mkinterface.sh
> make -f GNUmakefile
>
> ====================================================
> make test
> LC_ALL=C mono createdata.exe Data pointlayer
>
> Unhandled Exception: System.TypeInitializationException: An exception was
> thrown by the type initializer for OSGeo.OGR.gr --->
> System.TypeInitializationException: An exception was thrown by the type
> initializer for OSGeo.OGR.OgrPINVOKE --> System.TypeInitializationException:
> An exception was thrown by the type initializer for SWIGExceptionHelper --->
> Systm.DllNotFoundException: libogrcsharp.la
>  at (wrapper managed-to-native)
> SWIGExceptionHelper:SWIGRegisterExceptionCallbacks_Ogr
> (OSGeo.OGR.OgrPINVOKE/SWIGExcepionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptinHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHeper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelpr/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelperExceptionDelegate)
>  at OSGeo.OGR.OgrPINVOKE+SWIGExceptionHelper..cctor () [0x00000] --- End of
> inner exception stack trace ---
>
>  at OSGeo.OGR.OgrPINVOKE..cctor () [0x00000] --- End of inner exception
> stack trace ---
>
>  at OSGeo.OGR.Ogr..cctor () [0x00000] --- End of inner exception stack
> trace ---
>
>  at CreateData.Main (System.String[] args) [0x00000]
> make: *** [test] Error 1
> ====================================================
>
>
> Tamas Szekeres wrote:
>>
>> 2008/6/11 Evans, Frank <fevans@harris.com>:
>>> Tamas, thanks for the test-results link. I had read that tests were
>>> passing, but the log-detail provided a lot of useful info. I will try
>>> SWIG 1.3.31 this weekend, and let everyone know. I can't switch mono
>>> versions, at least not easily. Are the library outputs for the automated
>>> builds accessible?
>>>
>>
>> The build directory of the linux builders used to be accessible from
>> the following link:
>> http://buildbot.osgeo.org/gdal-full/
>> http://buildbot.osgeo.org/gdal-quick/
>>
>> But it seems like having a permission problem at the moment.
>>
>>> I know I'm asking for speculation, but do you think there's a
>>> 32-bit/64-bit issue?
>>>
>>
>> I`ve been trying on debian AMD64 as I`ve noted in my previous post so
>> I doubt that this is a 64 bit OS related issue.
>> The version of swig and mono might even more be an issue.
>>
>> Best regards,
>>
>> Tamas
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
> --
> View this message in context: http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p18570865.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From wendell at enflight.com  Mon Jul 21 20:12:59 2008
From: wendell at enflight.com (Wendell Turner)
Date: Mon Jul 21 20:13:02 2008
Subject: [gdal-dev] ogrinfo and gml?
Message-ID: <20080722001259.GA7689@q.rho.net>

Why do the examples of ogrinfo not work? That is, the
example shows a coal_dep.gml with contents of:

<gml:featureMember>
<Coal_Deposits fid="1">
<UNKNOWN>0.000</UNKNOWN>
<NA>0.000</NA>
<ID>2</ID>
<ID2>2</ID2>
<MARK>7</MARK>
<COALKEY>110</COALKEY>
<COALKEY2>110</COALKEY2>
<ogr:geometryProperty>
<gml:Point>
<gml:coordinates>78.531,50.694</gml:coordinates>
</gml:Point>
</ogr:geometryProperty>
</Coal_Deposits>
</gml:featureMember>

Yet ogrinfo doesn't recognize it:
  > ogrinfo coal_dep.gml 
  FAILURE:
  Unable to open datasource `coal_dep.gml' with the following drivers.
  ...
  -> GML

This seems to indicate that the GML driver is compiled into
ogrinfo, but the file is not recognized.  Why is that?

There are no projection associated with the gml file, so are
the coordinates in whatever the layer projection coordinates
are?

The example is off of the page:
  http://mapserver.gis.umn.edu/docs/reference/vector_data/gml

Wendell

From tutey at o2.pl  Tue Jul 22 03:30:01 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Tue Jul 22 03:28:24 2008
Subject: [gdal-dev] check if libm defines sincos() at build time
Message-ID: <48858C79.5070205@o2.pl>

Folks,

On GRASS andd QGIS MLs it was noticed that GDAL should "be a bit more
careful about defining sincos, i.e. have configure actually check
whether libm defines sincos()". See [1], [2] for the whole story, [3]
for resume.

[1]http://www.nabble.com/forum/ViewPost.jtp?post=18555960&framed=y
[2]http://www.nabble.com/forum/ViewPost.jtp?post=18581292&framed=y
[3]http://www.nabble.com/forum/ViewPost.jtp?post=18579971&framed=y

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From arb at sat.dundee.ac.uk  Tue Jul 22 05:25:25 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Jul 22 05:25:29 2008
Subject: [gdal-dev] check if libm defines sincos() at build time
In-Reply-To: <48858C79.5070205@o2.pl>
References: <48858C79.5070205@o2.pl>
Message-ID: <op.ueosgn0sqw3wu1@titan>

On Tue, 22 Jul 2008 08:30:01 +0100, Maciej Sieczka <tutey@o2.pl> wrote:

> have configure actually check whether libm defines sincos()".

And don't forget that on Solaris sincos() is defined in libsunmath.

On old versions of Solaris it used to be wise to use
  -Bstatic -lsunmath -Bdynamic
in case libsunmath was not installed by default.

Andrew
From fevans at harris.com  Tue Jul 22 06:31:28 2008
From: fevans at harris.com (Evans, Frank)
Date: Tue Jul 22 06:35:32 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <f3b73b7d0807211403h2dca72e0ta63d57b475d9e73@mail.gmail.com>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
	<f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
	<18570865.post@talk.nabble.com>
	<f3b73b7d0807211403h2dca72e0ta63d57b475d9e73@mail.gmail.com>
Message-ID: <AB39AC95FD69E249A5DA5B487C727D1301009B04@mlbe2k4.cs.myharris.net>

I agree the dll.config isn't the main issue. I've tried renaming files,
linking statically, linking dynamically. After a while, experimentation
makes the baseline suspect, so I blast it and start over. Its definitely
something on my end. Some basic mistake. I need to get more
swig-knowledge.

Thanks again for all your help. BTW, I ran "strace -e trace=open mono
GDALInfo.exe ..."


open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Monday, July 21, 2008 5:04 PM
To: Evans, Frank
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [Gdal-dev] c# Bindings in Mono/Linux


Frank,

I've committed in the SVN trunk to produce well formed xml with the
development version. However I doubt if it causes this problem.
Probably your environment settings like incorrect LD_LIBRARY_PATH
prevents from loading the gdal so or the related so-s (like proj).
At the buildbot configurations those pathes have been set manually to
the correct directories.

Best regards,

Tamas



2008/7/21 fevans <fevans@harris.com>:
>
> Tamas, with regards to mono/gdal bindings, I suspect I'm doing
something
> wrong in the build process. Clearly the buildbots are passing.
>
> One item that's been bothering me is line 50 of
"swig\csharp\GNUMakefile"
> Its generating a config-xml wrapper for the dll, but thet XML is
mal-Formed.
>
> echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\">" >>
$*_csharp.dll.config
>
> Generates: <dllmap dll="gdal_wrap" target="libgdalcsharp.la">
> Should be: <dllmap dll="gdal_wrap" target="libgdalcsharp.la" />
>
> So either these wrappers are not used, or I'm digging in the wrong
place.
> The nightly builds at "http://buildbot.osgeo.org/gdal-full/" are still
> inaccessible.
>
>
> ./mkinterface.sh
> make -f GNUmakefile
>
> ====================================================
> make test
> LC_ALL=C mono createdata.exe Data pointlayer
>
> Unhandled Exception: System.TypeInitializationException: An exception
was
> thrown by the type initializer for OSGeo.OGR.gr --->
> System.TypeInitializationException: An exception was thrown by the
type
> initializer for OSGeo.OGR.OgrPINVOKE -->
System.TypeInitializationException:
> An exception was thrown by the type initializer for
SWIGExceptionHelper --->
> Systm.DllNotFoundException: libogrcsharp.la
>  at (wrapper managed-to-native)
> SWIGExceptionHelper:SWIGRegisterExceptionCallbacks_Ogr
>
(OSGeo.OGR.OgrPINVOKE/SWIGExcepionHelper/ExceptionDelegate,OSGeo.OGR.Ogr
PINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGE
xceptinHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper
/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionelper/ExceptionDele
gate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OG
R.OgrPINVOKE/SWIGExceptionHeper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/S
WIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionH
elpr/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/Exceptio
nDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelperExceptionDelegate)
>  at OSGeo.OGR.OgrPINVOKE+SWIGExceptionHelper..cctor () [0x00000] ---
End of
> inner exception stack trace ---
>
>  at OSGeo.OGR.OgrPINVOKE..cctor () [0x00000] --- End of inner
exception
> stack trace ---
>
>  at OSGeo.OGR.Ogr..cctor () [0x00000] --- End of inner exception stack
> trace ---
>
>  at CreateData.Main (System.String[] args) [0x00000]
> make: *** [test] Error 1
> ====================================================
>
>
> Tamas Szekeres wrote:
>>
>> 2008/6/11 Evans, Frank <fevans@harris.com>:
>>> Tamas, thanks for the test-results link. I had read that tests were
>>> passing, but the log-detail provided a lot of useful info. I will
try
>>> SWIG 1.3.31 this weekend, and let everyone know. I can't switch mono
>>> versions, at least not easily. Are the library outputs for the
automated
>>> builds accessible?
>>>
>>
>> The build directory of the linux builders used to be accessible from
>> the following link:
>> http://buildbot.osgeo.org/gdal-full/
>> http://buildbot.osgeo.org/gdal-quick/
>>
>> But it seems like having a permission problem at the moment.
>>
>>> I know I'm asking for speculation, but do you think there's a
>>> 32-bit/64-bit issue?
>>>
>>
>> I`ve been trying on debian AMD64 as I`ve noted in my previous post so
>> I doubt that this is a 64 bit OS related issue.
>> The version of swig and mono might even more be an issue.
>>
>> Best regards,
>>
>> Tamas
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
> --
> View this message in context:
http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p18570865.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From fevans at harris.com  Tue Jul 22 06:53:48 2008
From: fevans at harris.com (fevans)
Date: Tue Jul 22 06:57:53 2008
Subject: [Gdal-dev] ./configure options
Message-ID: <18586854.post@talk.nabble.com>


This message is related to the following thread.
http://www.nabble.com/c--Bindings-in-Mono-Linux-td17709337.html

Trying to get the c# bindings working in mono linux. The buildbots are
working, so clearly its a configuration or env issue on my end. Does anyone
have any general configuration advice on this? My config summary is listed
below. The items which concern me most are:

SWIG Bindings:          no
Statically link PROJ.4:    no
enable pthread support:    no

Based on all my experience, the SWIG bindings don't build automatically. But
I'm not sure if this is normal.

============================================
GDAL is now configured for x86_64-unknown-linux-gnu

  Installation directory:    /ssa/users/fevans/gdal-1.5.3dev
  C compiler:                gcc -g -O2
  C++ compiler:              g++ -g -O2

  LIBTOOL support:           yes

  LIBZ support:              external
  GRASS support:             no
  CFITSIO support:           no
  PCRaster support:          internal
  NetCDF support:            no
  LIBPNG support:            external
  LIBTIFF support:           external (BigTIFF=no)
  LIBGEOTIFF support:        internal
  LIBJPEG support:           internal
  LIBGIF support:            internal
  OGDI support:              no
  HDF4 support:              no
  HDF5 support:              no
  Kakadu support:            no
  JasPer support:            no
  ECW support:               no
  MrSID support:             no
  GRIB support:              no
  cURL support (wms/wcs/...):yes
  PostgreSQL support:        no
  MySQL support:             no
  Xerces-C support:            no
  Expat support:             yes
  ODBC support:              no
  PGeo support:              no
  OCI support:               no
  SDE support:               no
  DODS support:              no
  SQLite support:            no
  DWGdirect support          no
  PANORAMA GIS support:      no
  INFORMIX DataBlade support:no
  GEOS support:              yes


  Old-gen python          no
  SWIG Bindings:          no

  Statically link PROJ.4:    no
  enable OGR building:       yes
  enable pthread support:    no
  hide internal symbols:     no


-- 
View this message in context: http://www.nabble.com/.-configure-options-tp18586854p18586854.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From arb at sat.dundee.ac.uk  Tue Jul 22 07:17:33 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue Jul 22 07:18:47 2008
Subject: [gdal-dev] Filling in holes when warping
Message-ID: <op.ueoxnjepqw3wu1@titan>

Hi

I'm getting the following holes:

http://www.sat.dundee.ac.uk/~arb/gdalwarp.jpg

when I use gdalwarp on an image with a geolocation array.

Should I file a bug?

Andrew
From szekerest at gmail.com  Tue Jul 22 09:51:03 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jul 22 10:18:53 2008
Subject: [Gdal-dev] ./configure options
In-Reply-To: <18586854.post@talk.nabble.com>
References: <18586854.post@talk.nabble.com>
Message-ID: <f3b73b7d0807220651u72a76b46rab137847c7f5fe68@mail.gmail.com>

Frank,

According to the previous posts you might want to check the followings:

1. Do the dependent libraries  (like libogrcsharp, gdal, proj, ..)
available to load by the system. See the LD_LIBRARY_PATH settings.
2. You can also make a test with a previous version of mono. We use
1.2.2.1 on the buildbot machine. There have been a couple of issues
reported with some of the newer versions as far as I remember.
3. You could also try using SWIG 1.3.31 like at the buildbot slaves,
but I hope the newer versions will also work.
4. You might want to try using the --without-libtool configure option,
though I'm not aware of much issues with the libtool builds (the
epimetheus slave is configure with libtool on osx) but it might also
be an issue, definitely.

Best regards,

Tamas


2008/7/22 fevans <fevans@harris.com>:
>
> This message is related to the following thread.
> http://www.nabble.com/c--Bindings-in-Mono-Linux-td17709337.html
>
> Trying to get the c# bindings working in mono linux. The buildbots are
> working, so clearly its a configuration or env issue on my end. Does anyone
> have any general configuration advice on this? My config summary is listed
> below. The items which concern me most are:
>
> SWIG Bindings:          no
> Statically link PROJ.4:    no
> enable pthread support:    no
>
> Based on all my experience, the SWIG bindings don't build automatically. But
> I'm not sure if this is normal.
>
> ============================================
> GDAL is now configured for x86_64-unknown-linux-gnu
>
>  Installation directory:    /ssa/users/fevans/gdal-1.5.3dev
>  C compiler:                gcc -g -O2
>  C++ compiler:              g++ -g -O2
>
>  LIBTOOL support:           yes
>
>  LIBZ support:              external
>  GRASS support:             no
>  CFITSIO support:           no
>  PCRaster support:          internal
>  NetCDF support:            no
>  LIBPNG support:            external
>  LIBTIFF support:           external (BigTIFF=no)
>  LIBGEOTIFF support:        internal
>  LIBJPEG support:           internal
>  LIBGIF support:            internal
>  OGDI support:              no
>  HDF4 support:              no
>  HDF5 support:              no
>  Kakadu support:            no
>  JasPer support:            no
>  ECW support:               no
>  MrSID support:             no
>  GRIB support:              no
>  cURL support (wms/wcs/...):yes
>  PostgreSQL support:        no
>  MySQL support:             no
>  Xerces-C support:            no
>  Expat support:             yes
>  ODBC support:              no
>  PGeo support:              no
>  OCI support:               no
>  SDE support:               no
>  DODS support:              no
>  SQLite support:            no
>  DWGdirect support          no
>  PANORAMA GIS support:      no
>  INFORMIX DataBlade support:no
>  GEOS support:              yes
>
>
>  Old-gen python          no
>  SWIG Bindings:          no
>
>  Statically link PROJ.4:    no
>  enable OGR building:       yes
>  enable pthread support:    no
>  hide internal symbols:     no
>
>
> --
> View this message in context: http://www.nabble.com/.-configure-options-tp18586854p18586854.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ari.jolma at tkk.fi  Tue Jul 22 10:48:27 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue Jul 22 09:47:00 2008
Subject: [gdal-dev] Bindings for the histogram method of band
Message-ID: <4885F33B.8030509@tkk.fi>

The trac.osgeo.org does not answer so I'll put this here.

Hobu, would it be ok to have (int len, int *output) typemap. They can be 
used in GetHistogram method like this (note that the API is same for C# 
but it must use different typemaps. From Band.i:

#ifndef SWIGCSHARP
%feature( "kwargs" ) GetHistogram;
%apply (int len, int *output) {(int nBuckets, int *panHistogram)};
%apply (IF_ERROR_RETURN_NONE) { (CPLErr) };
#else
%apply (int inout[ANY]) {int *panHistogram};
#endif /* SWIGCSHARP */
  CPLErr GetHistogram( double dfMin=-0.5,
                     double dfMax=255.5,
                     int nBuckets=256, /* as in GDAL docs */
                     int *panHistogram = NULL,
                     int bIncludeOutOfRange = 0,
                     int bApproxOk = 1,
                     GDALProgressFunc callback = NULL,
                     void* callback_data=NULL ) {
    return GDALGetRasterHistogram(  self,
                                dfMin,
                                dfMax,
                                nBuckets,
                                panHistogram,
                                bIncludeOutOfRange,
                                bApproxOk,
                                callback,
                                callback_data);
  }
#ifndef SWIGCSHARP
%clear (int nBuckets, int *panHistogram);
%clear (CPLErr);
#else
%clear int *panHistogram;
#endif /* SWIGCSHARP */

And the typemaps for Perl: Note the slight abuse of check for malloc. 
This is tested and works.

%typemap(in,numinputs=1) (int len, int *output)
{
  /* %typemap(in,numinputs=1) (int len, int *output) */
  $1 = SvIV($input);
}
%typemap(check) (int len, int *output)
{
  /* %typemap(check) (int len, int *output) */
  if ($1 < 1) $1 = 1; /* stop idiocy */
  $2 = (int *)CPLMalloc( $1 * sizeof(int) );
   
}
%typemap(argout,fragment="CreateArrayFromIntArray") (int len, int *output)
{
  /* %typemap(argout) (int len, int *output) */
  $result = CreateArrayFromIntArray( $2, $1 );
  argvi++;
}
%typemap(freearg) (int len, int *output)
{
  /* %typemap(freearg) (int len, int *output) */
  CPLFree($2);
}


Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From szekerest at gmail.com  Tue Jul 22 10:48:32 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jul 22 09:48:36 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <AB39AC95FD69E249A5DA5B487C727D1301009B04@mlbe2k4.cs.myharris.net>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
	<f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
	<18570865.post@talk.nabble.com>
	<f3b73b7d0807211403h2dca72e0ta63d57b475d9e73@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009B04@mlbe2k4.cs.myharris.net>
Message-ID: <f3b73b7d0807220748v56597313p2731a03c317dc2e7@mail.gmail.com>

Frank,

It looks like either libgdalcsharp.la or one of it's dependencies is
not available to load, or incorrect version can be loaded with the
current LD_LIBRARY_PATH setting. Please check that the same version of
gdal is loading that the csharp bindings have been compiled against.

Best regards,

Tamas



2008/7/22 Evans, Frank <fevans@harris.com>:
> I agree the dll.config isn't the main issue. I've tried renaming files,
> linking statically, linking dynamically. After a while, experimentation
> makes the baseline suspect, so I blast it and start over. Its definitely
> something on my end. Some basic mistake. I need to get more
> swig-knowledge.
>
> Thanks again for all your help. BTW, I ran "strace -e trace=open mono
> GDALInfo.exe ..."
>
>
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
>
> -----Original Message-----
> From: Tamas Szekeres [mailto:szekerest@gmail.com]
> Sent: Monday, July 21, 2008 5:04 PM
> To: Evans, Frank
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [Gdal-dev] c# Bindings in Mono/Linux
>
>
> Frank,
>
> I've committed in the SVN trunk to produce well formed xml with the
> development version. However I doubt if it causes this problem.
> Probably your environment settings like incorrect LD_LIBRARY_PATH
> prevents from loading the gdal so or the related so-s (like proj).
> At the buildbot configurations those pathes have been set manually to
> the correct directories.
>
> Best regards,
>
> Tamas
>
>
>
> 2008/7/21 fevans <fevans@harris.com>:
>>
>> Tamas, with regards to mono/gdal bindings, I suspect I'm doing
> something
>> wrong in the build process. Clearly the buildbots are passing.
>>
>> One item that's been bothering me is line 50 of
> "swig\csharp\GNUMakefile"
>> Its generating a config-xml wrapper for the dll, but thet XML is
> mal-Formed.
>>
>> echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\">" >>
> $*_csharp.dll.config
>>
>> Generates: <dllmap dll="gdal_wrap" target="libgdalcsharp.la">
>> Should be: <dllmap dll="gdal_wrap" target="libgdalcsharp.la" />
>>
>> So either these wrappers are not used, or I'm digging in the wrong
> place.
>> The nightly builds at "http://buildbot.osgeo.org/gdal-full/" are still
>> inaccessible.
>>
>>
>> ./mkinterface.sh
>> make -f GNUmakefile
>>
>> ====================================================
>> make test
>> LC_ALL=C mono createdata.exe Data pointlayer
>>
>> Unhandled Exception: System.TypeInitializationException: An exception
> was
>> thrown by the type initializer for OSGeo.OGR.gr --->
>> System.TypeInitializationException: An exception was thrown by the
> type
>> initializer for OSGeo.OGR.OgrPINVOKE -->
> System.TypeInitializationException:
>> An exception was thrown by the type initializer for
> SWIGExceptionHelper --->
>> Systm.DllNotFoundException: libogrcsharp.la
>>  at (wrapper managed-to-native)
>> SWIGExceptionHelper:SWIGRegisterExceptionCallbacks_Ogr
>>
> (OSGeo.OGR.OgrPINVOKE/SWIGExcepionHelper/ExceptionDelegate,OSGeo.OGR.Ogr
> PINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGE
> xceptinHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper
> /ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionelper/ExceptionDele
> gate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OG
> R.OgrPINVOKE/SWIGExceptionHeper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/S
> WIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionH
> elpr/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/Exceptio
> nDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelperExceptionDelegate)
>>  at OSGeo.OGR.OgrPINVOKE+SWIGExceptionHelper..cctor () [0x00000] ---
> End of
>> inner exception stack trace ---
>>
>>  at OSGeo.OGR.OgrPINVOKE..cctor () [0x00000] --- End of inner
> exception
>> stack trace ---
>>
>>  at OSGeo.OGR.Ogr..cctor () [0x00000] --- End of inner exception stack
>> trace ---
>>
>>  at CreateData.Main (System.String[] args) [0x00000]
>> make: *** [test] Error 1
>> ====================================================
>>
>>
>> Tamas Szekeres wrote:
>>>
>>> 2008/6/11 Evans, Frank <fevans@harris.com>:
>>>> Tamas, thanks for the test-results link. I had read that tests were
>>>> passing, but the log-detail provided a lot of useful info. I will
> try
>>>> SWIG 1.3.31 this weekend, and let everyone know. I can't switch mono
>>>> versions, at least not easily. Are the library outputs for the
> automated
>>>> builds accessible?
>>>>
>>>
>>> The build directory of the linux builders used to be accessible from
>>> the following link:
>>> http://buildbot.osgeo.org/gdal-full/
>>> http://buildbot.osgeo.org/gdal-quick/
>>>
>>> But it seems like having a permission problem at the moment.
>>>
>>>> I know I'm asking for speculation, but do you think there's a
>>>> 32-bit/64-bit issue?
>>>>
>>>
>>> I`ve been trying on debian AMD64 as I`ve noted in my previous post so
>>> I doubt that this is a 64 bit OS related issue.
>>> The version of swig and mono might even more be an issue.
>>>
>>> Best regards,
>>>
>>> Tamas
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> --
>> View this message in context:
> http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p18570865.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
From fevans at harris.com  Tue Jul 22 11:08:32 2008
From: fevans at harris.com (Evans, Frank)
Date: Tue Jul 22 11:07:12 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <f3b73b7d0807220748v56597313p2731a03c317dc2e7@mail.gmail.com>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
	<f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
	<18570865.post@talk.nabble.com>
	<f3b73b7d0807211403h2dca72e0ta63d57b475d9e73@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009B04@mlbe2k4.cs.myharris.net>
	<f3b73b7d0807220748v56597313p2731a03c317dc2e7@mail.gmail.com>
Message-ID: <AB39AC95FD69E249A5DA5B487C727D1301009B06@mlbe2k4.cs.myharris.net>

OK, I'll zero in on that.  One thing I noticed was that the
"swig/csharp/gdal" directory has a "makefile.vc", but not a GNUmakefile.

During one of my numerous experiments, I manually compiled
"swig/csharp/gdal_wrap.o" by running

gcc -shared -Wl,-soname,libgdal_wrap.so -o libgdal_wrap.so  gdal_wrap.o
(or something like that).
 
Of course the strace output doesn't show any calls to *wrap*. Different
naming convention. This might be irrelevant, but at this point I don't
enough to rule out anything. 

I realize that from your perspective this looks like random flailing,
and I have to admit it is. Once again thanks very much for the ideas.
When I finally resolve this, I'll definitely created a detailed post.

-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Tuesday, July 22, 2008 10:49 AM
To: Evans, Frank
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [Gdal-dev] c# Bindings in Mono/Linux


Frank,

It looks like either libgdalcsharp.la or one of it's dependencies is
not available to load, or incorrect version can be loaded with the
current LD_LIBRARY_PATH setting. Please check that the same version of
gdal is loading that the csharp bindings have been compiled against.

Best regards,

Tamas



2008/7/22 Evans, Frank <fevans@harris.com>:
> I agree the dll.config isn't the main issue. I've tried renaming
files,
> linking statically, linking dynamically. After a while,
experimentation
> makes the baseline suspect, so I blast it and start over. Its
definitely
> something on my end. Some basic mistake. I need to get more
> swig-knowledge.
>
> Thanks again for all your help. BTW, I ran "strace -e trace=open mono
> GDALInfo.exe ..."
>
>
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
> open("libgdalcsharp.la", O_RDONLY|O_LARGEFILE) = 4
> open("./.libs/libgdalcsharp.so.1", O_RDONLY) = 4
>
> -----Original Message-----
> From: Tamas Szekeres [mailto:szekerest@gmail.com]
> Sent: Monday, July 21, 2008 5:04 PM
> To: Evans, Frank
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [Gdal-dev] c# Bindings in Mono/Linux
>
>
> Frank,
>
> I've committed in the SVN trunk to produce well formed xml with the
> development version. However I doubt if it causes this problem.
> Probably your environment settings like incorrect LD_LIBRARY_PATH
> prevents from loading the gdal so or the related so-s (like proj).
> At the buildbot configurations those pathes have been set manually to
> the correct directories.
>
> Best regards,
>
> Tamas
>
>
>
> 2008/7/21 fevans <fevans@harris.com>:
>>
>> Tamas, with regards to mono/gdal bindings, I suspect I'm doing
> something
>> wrong in the build process. Clearly the buildbots are passing.
>>
>> One item that's been bothering me is line 50 of
> "swig\csharp\GNUMakefile"
>> Its generating a config-xml wrapper for the dll, but thet XML is
> mal-Formed.
>>
>> echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\">" >>
> $*_csharp.dll.config
>>
>> Generates: <dllmap dll="gdal_wrap" target="libgdalcsharp.la">
>> Should be: <dllmap dll="gdal_wrap" target="libgdalcsharp.la" />
>>
>> So either these wrappers are not used, or I'm digging in the wrong
> place.
>> The nightly builds at "http://buildbot.osgeo.org/gdal-full/" are
still
>> inaccessible.
>>
>>
>> ./mkinterface.sh
>> make -f GNUmakefile
>>
>> ====================================================
>> make test
>> LC_ALL=C mono createdata.exe Data pointlayer
>>
>> Unhandled Exception: System.TypeInitializationException: An exception
> was
>> thrown by the type initializer for OSGeo.OGR.gr --->
>> System.TypeInitializationException: An exception was thrown by the
> type
>> initializer for OSGeo.OGR.OgrPINVOKE -->
> System.TypeInitializationException:
>> An exception was thrown by the type initializer for
> SWIGExceptionHelper --->
>> Systm.DllNotFoundException: libogrcsharp.la
>>  at (wrapper managed-to-native)
>> SWIGExceptionHelper:SWIGRegisterExceptionCallbacks_Ogr
>>
>
(OSGeo.OGR.OgrPINVOKE/SWIGExcepionHelper/ExceptionDelegate,OSGeo.OGR.Ogr
>
PINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGE
>
xceptinHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper
>
/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionelper/ExceptionDele
>
gate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/ExceptionDelegate,OSGeo.OG
>
R.OgrPINVOKE/SWIGExceptionHeper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/S
>
WIGExceptionHelper/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionH
>
elpr/ExceptionDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelper/Exceptio
> nDelegate,OSGeo.OGR.OgrPINVOKE/SWIGExceptionHelperExceptionDelegate)
>>  at OSGeo.OGR.OgrPINVOKE+SWIGExceptionHelper..cctor () [0x00000] ---
> End of
>> inner exception stack trace ---
>>
>>  at OSGeo.OGR.OgrPINVOKE..cctor () [0x00000] --- End of inner
> exception
>> stack trace ---
>>
>>  at OSGeo.OGR.Ogr..cctor () [0x00000] --- End of inner exception
stack
>> trace ---
>>
>>  at CreateData.Main (System.String[] args) [0x00000]
>> make: *** [test] Error 1
>> ====================================================
>>
>>
>> Tamas Szekeres wrote:
>>>
>>> 2008/6/11 Evans, Frank <fevans@harris.com>:
>>>> Tamas, thanks for the test-results link. I had read that tests were
>>>> passing, but the log-detail provided a lot of useful info. I will
> try
>>>> SWIG 1.3.31 this weekend, and let everyone know. I can't switch
mono
>>>> versions, at least not easily. Are the library outputs for the
> automated
>>>> builds accessible?
>>>>
>>>
>>> The build directory of the linux builders used to be accessible from
>>> the following link:
>>> http://buildbot.osgeo.org/gdal-full/
>>> http://buildbot.osgeo.org/gdal-quick/
>>>
>>> But it seems like having a permission problem at the moment.
>>>
>>>> I know I'm asking for speculation, but do you think there's a
>>>> 32-bit/64-bit issue?
>>>>
>>>
>>> I`ve been trying on debian AMD64 as I`ve noted in my previous post
so
>>> I doubt that this is a 64 bit OS related issue.
>>> The version of swig and mono might even more be an issue.
>>>
>>> Best regards,
>>>
>>> Tamas
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> --
>> View this message in context:
>
http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p18570865.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
From szekerest at gmail.com  Tue Jul 22 11:14:53 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jul 22 11:14:57 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <AB39AC95FD69E249A5DA5B487C727D1301009B06@mlbe2k4.cs.myharris.net>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
	<f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>
	<18570865.post@talk.nabble.com>
	<f3b73b7d0807211403h2dca72e0ta63d57b475d9e73@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009B04@mlbe2k4.cs.myharris.net>
	<f3b73b7d0807220748v56597313p2731a03c317dc2e7@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009B06@mlbe2k4.cs.myharris.net>
Message-ID: <f3b73b7d0807220814w335a7d64p84c962e50839ff69@mail.gmail.com>

2008/7/22 Evans, Frank <fevans@harris.com>:
> OK, I'll zero in on that.  One thing I noticed was that the
> "swig/csharp/gdal" directory has a "makefile.vc", but not a GNUmakefile.
>

You should use:

make veryclean
make interface
make
make test

in the swig/csharp directory assuming mono and swig available in the
PATH and gdal have been configured and built previously.

Only the windows builds contain makefiles in the subsequent directories.

Tamas
From warmerdam at pobox.com  Tue Jul 22 12:18:18 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 22 12:18:48 2008
Subject: [gdal-dev] Filling in holes when warping
In-Reply-To: <op.ueoxnjepqw3wu1@titan>
References: <op.ueoxnjepqw3wu1@titan>
Message-ID: <4886084A.70407@pobox.com>

Andrew Brooks wrote:
> Hi
> 
> I'm getting the following holes:
> 
> http://www.sat.dundee.ac.uk/~arb/gdalwarp.jpg
> 
> when I use gdalwarp on an image with a geolocation array.
> 
> Should I file a bug?

Andrew,

You can file a bug.  I imagine this is a limitation of the "hole filling"
code:

http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalgeoloc.cpp#L267

You might want to try changing this code to go more than 3 iterations and
see if it helps.

It might be best to make this go till no more filling needs to be done or
too use a more general purpose hole filling approach.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From chris.melick at baronservices.com  Tue Jul 22 12:28:13 2008
From: chris.melick at baronservices.com (Chris Melick)
Date: Tue Jul 22 12:30:14 2008
Subject: [gdal-dev] GDAL GRIB
Message-ID: <001901c8ec17$efc531a0$cf4f94e0$@melick@baronservices.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 4807 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080722/3924aa0e/attachment.jpe
From chris.melick at baronservices.com  Tue Jul 22 12:32:18 2008
From: chris.melick at baronservices.com (Chris Melick)
Date: Tue Jul 22 12:34:19 2008
Subject: [gdal-dev] GDAL GRIB - Updated
Message-ID: <002501c8ec18$81c85820$85590860$@melick@baronservices.com>

Greetings,

 

I'm new to GDAL and the mailing list.  I would like to create a geoTIFF from
NCEP model GRIB files using the GDAL GRIB driver.  Could someone please
point me in the direction of an example of how I might do this?

 

Thank you,

Chris Melick

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080722/9ce5a5ad/attachment.html
From matt.wilkie at gov.yk.ca  Tue Jul 22 13:36:09 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Jul 22 13:36:24 2008
Subject: [gdal-dev] Nodata Raster Calue
In-Reply-To: <OFD5152623.BE1355E8-ON6525748D.0044BC4E-6525748D.0044E6B4@rmsi.com>
References: <OFD5152623.BE1355E8-ON6525748D.0044BC4E-6525748D.0044E6B4@rmsi.com>
Message-ID: <48861A89.50101@gov.yk.ca>

Hi SriRam,

Try gdalwarp like this:

    gdalwarp -dstnodata 255 infile.tif outfile.tif

If NoData is not defined in the source image in manner gdal 
automatically recognises you'll need to specify it like so (assuming 
pure black is NoData):

    gdalwarp -srcnodata 0 -dstnodata 255 infile.tif outfile.tif

You can also use RGB quoted triplets:

    gdalwarp -dstnodata "255 0 120"

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


SriRam.PrasadBhasker@rmsi.com wrote:
> 
> I have a Jp2 16 Bit Image [ GreyScale ]
> 
> This has a NoData value ... I want to change the NoData value to White 
> Color
> 
> Can anyone let me know the Syntax for getting this done thru GDAL_TRANSLATE
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From estrada.adam at gmail.com  Tue Jul 22 17:21:26 2008
From: estrada.adam at gmail.com (MapGeek)
Date: Tue Jul 22 17:21:29 2008
Subject: [gdal-dev] MrSID Auxiliary File Reading
Message-ID: <6d3bdf92-72eb-44bd-9570-f2686f2d2432@m36g2000hse.googlegroups.com>

All,
    I have a series of MrSID images and none of them have any spatial
information in the header.  I know that this is common for older
versions of the MrSID format and there are ways to get around this.  I
have seen a very common way of doing this in ArcCatalog by "applying"
the projection in an XML file.  I have one such XML file that
references the ArcGIS 9.2 XML schema and the projection in this case
is referenced in the WKT tags.  When I run Gdalinfo on the file, it
recognizes that there is an XML file that goes with the .sid but
apparently does not recognize the ESRI Schema.

- <Metadata domain="xml:ESRI" format="xml">
- <GeodataXform xsi:type="typens:IdentityXform" xmlns:xsi="http://
www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/
XMLSchema" xmlns:typens="http://www.esri.com/schemas/ArcGIS/9.2">
- <SpatialReference xsi:type="typens:ProjectedCoordinateSystem">
 
<WKT>PROJCS["NAD_1983_HARN_StatePlane_Washington_North_FIPS_4601_Feet",GEOGCS["GCS_North_American_1983_HARN",DATUM["D_North_American_1983_HARN",SPHEROID["GRS_1980",
6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",
0.0174532925199433]],PROJECTION["Lambert_Conformal_Conic"],PARAMETER["False_Easting",
1640416.666666667],PARAMETER["False_Northing",
0.0],PARAMETER["Central_Meridian",-120.8333333333333],PARAMETER["Standard_Parallel_1",
47.5],PARAMETER["Standard_Parallel_2",
48.73333333333333],PARAMETER["Latitude_Of_Origin",47.0],UNIT["Foot_US",
0.3048006096012192]]</WKT>
  <XOrigin>-117104299.999822</XOrigin>
  <YOrigin>-99539599.9998605</YOrigin>
  <XYScale>15624.999984</XYScale>
  <ZOrigin>0</ZOrigin>
  <ZScale>8192</ZScale>
  <MOrigin>0</MOrigin>
  <MScale>16000</MScale>
  <XYTolerance>5.12000000524288E-04</XYTolerance>
  <ZTolerance>2</ZTolerance>
  <MTolerance>0.0005</MTolerance>
  <HighPrecision>true</HighPrecision>
  </SpatialReference>
  </GeodataXform>
  </Metadata>

Can anyone lend some advise on how to get GDAL to read the projection
info in these XML files?

Thanks,
Adam
From hobu.inc at gmail.com  Tue Jul 22 17:57:37 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue Jul 22 17:57:42 2008
Subject: [gdal-dev] Bindings for the histogram method of band
In-Reply-To: <4885F33B.8030509@tkk.fi>
References: <4885F33B.8030509@tkk.fi>
Message-ID: <1C0F435C-8011-4F30-9936-166E15B900FB@gmail.com>


On Jul 22, 2008, at 9:48 AM, Ari Jolma wrote:

> The trac.osgeo.org does not answer so I'll put this here.
>
> Hobu, would it be ok to have (int len, int *output) typemap. They  
> can be used in GetHistogram method like this (note that the API is  
> same for C# but it must use different typemaps. From Band.i:
>
> %typemap(check) (int len, int *output)
> {
> /* %typemap(check) (int len, int *output) */
> if ($1 < 1) $1 = 1; /* stop idiocy */
> $2 = (int *)CPLMalloc( $1 * sizeof(int) );
>  }


Ari,

This isn't too different from what I proposed except for I think that  
abusing the check typemap like that (malloc'ing the integer array) is  
a recipe for disaster.  The check typemap could possibly be run  
multiple times, right?  Otherwise, it looks pretty close to what I had  
for a proposal http://trac.osgeo.org/gdal/changeset/14941 .

I'm open to changing the GetHistogram function signature within Band.i  
however you guys wish (ideally to support just using  (int len, int  
*output) and not having a special typemap for just this function), and  
while it would be nice that we wouldn't need the #ifdefs for every  
possible language we might ever support ;), it's not the end of the  
world either...

Howard



From guillaume.huby.lists at gmail.com  Wed Jul 23 03:13:57 2008
From: guillaume.huby.lists at gmail.com (guillaume huby)
Date: Wed Jul 23 03:13:59 2008
Subject: [Fwd: [gdal-dev] GDAL GRIB - Updated]
In-Reply-To: <4886D93A.3040803@geosys.com>
References: <4886D93A.3040803@geosys.com>
Message-ID: <ddc797c30807230013w1664548btbed6a499f21896d1@mail.gmail.com>

Hello,


-------- Message original --------
> Sujet:  [gdal-dev] GDAL GRIB - Updated
> Date:   Tue, 22 Jul 2008 11:32:18 -0500
> De:     Chris Melick <chris.melick@baronservices.com>
> Pour ::         <gdal-dev@lists.osgeo.org>
>
> I'm new to GDAL and the mailing list.  I would like to create a geoTIFF
> from NCEP model GRIB files using the GDAL GRIB driver.  Could someone
> please point me in the direction of an example of how I might do this?
>

I'm using gdal_translate of FWTools distrib to do this and it works
perfectly (e.g. gdal_translate gribFileName.grb tifFileName.tif) !

Have a look at http://www.gdal.org/gdal_translate.html.

Good luck !
Guillaume.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080723/b853a860/attachment.html
From szekerest at gmail.com  Wed Jul 23 05:16:05 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Jul 23 05:16:08 2008
Subject: [gdal-dev] Bindings for the histogram method of band
In-Reply-To: <1C0F435C-8011-4F30-9936-166E15B900FB@gmail.com>
References: <4885F33B.8030509@tkk.fi>
	<1C0F435C-8011-4F30-9936-166E15B900FB@gmail.com>
Message-ID: <f3b73b7d0807230216v4b74f471g4d56995a8933b7b7@mail.gmail.com>

Using the same approach for the csharp bindings seems much more
complicated than the current method. Currently the caller (at the
csharp side) allocates a fixed length int array and the default
marshaler takes care of passing the array to the unmanaged (C) part of
the code. There's no need to do extra memory allocations inside the
wrapper code and using the existing 'int argin[ANY]' typemap does the
right thing when mapping this type.

Since I continue to think about a different implementation for c# I
leave the decision about this topic to the other bindings maintainers.

Best regards,

Tamas


2008/7/22 Howard Butler <hobu.inc@gmail.com>:
>
> On Jul 22, 2008, at 9:48 AM, Ari Jolma wrote:
>
>> The trac.osgeo.org does not answer so I'll put this here.
>>
>> Hobu, would it be ok to have (int len, int *output) typemap. They can be
>> used in GetHistogram method like this (note that the API is same for C# but
>> it must use different typemaps. From Band.i:
>>
>> %typemap(check) (int len, int *output)
>> {
>> /* %typemap(check) (int len, int *output) */
>> if ($1 < 1) $1 = 1; /* stop idiocy */
>> $2 = (int *)CPLMalloc( $1 * sizeof(int) );
>>  }
>
>
> Ari,
>
> This isn't too different from what I proposed except for I think that
> abusing the check typemap like that (malloc'ing the integer array) is a
> recipe for disaster.  The check typemap could possibly be run multiple
> times, right?  Otherwise, it looks pretty close to what I had for a proposal
> http://trac.osgeo.org/gdal/changeset/14941 .
>
> I'm open to changing the GetHistogram function signature within Band.i
> however you guys wish (ideally to support just using  (int len, int *output)
> and not having a special typemap for just this function), and while it would
> be nice that we wouldn't need the #ifdefs for every possible language we
> might ever support ;), it's not the end of the world either...
>
> Howard
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From tutey at o2.pl  Wed Jul 23 08:23:33 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Jul 23 08:21:59 2008
Subject: [gdal-dev] check if libm defines sincos() at build time
In-Reply-To: <op.ueosgn0sqw3wu1@titan>
References: <48858C79.5070205@o2.pl> <op.ueosgn0sqw3wu1@titan>
Message-ID: <488722C5.7050405@o2.pl>

I have opened a ticket for the issue: 
http://trac.osgeo.org/gdal/ticket/2497.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From ari.jolma at tkk.fi  Wed Jul 23 06:44:37 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Jul 23 08:49:45 2008
Subject: [gdal-dev] Bindings for the histogram method of band
In-Reply-To: <1C0F435C-8011-4F30-9936-166E15B900FB@gmail.com>
References: <4885F33B.8030509@tkk.fi>
	<1C0F435C-8011-4F30-9936-166E15B900FB@gmail.com>
Message-ID: <48870B95.7030502@tkk.fi>

Howard Butler kirjoitti:
>
> On Jul 22, 2008, at 9:48 AM, Ari Jolma wrote:
>
>> The trac.osgeo.org does not answer so I'll put this here.
>>
>> Hobu, would it be ok to have (int len, int *output) typemap. They can 
>> be used in GetHistogram method like this (note that the API is same 
>> for C# but it must use different typemaps. From Band.i:
>>
>> %typemap(check) (int len, int *output)
>> {
>> /* %typemap(check) (int len, int *output) */
>> if ($1 < 1) $1 = 1; /* stop idiocy */
>> $2 = (int *)CPLMalloc( $1 * sizeof(int) );
>>  }
>
>
> Ari,
>
> This isn't too different from what I proposed except for I think that 
> abusing the check typemap like that (malloc'ing the integer array) is 
> a recipe for disaster.  The check typemap could possibly be run 
> multiple times, right?  Otherwise, it looks pretty close to what I had 
> for a proposal http://trac.osgeo.org/gdal/changeset/14941 .

Yes.. in fact I just merged the two signatures (which are the same), 
changed the default nBuckets to 256 (as in GDAL docs) and added the (int 
len, int *output) typemap for non-c#. Ok, so you're suggesting I make 
that typemap #ifdef Perl. I don't think check is ever run multiple times 
for one match. Using check typemap seems to be the only possibility, if 
I want to keep the signature unchaged (I was first proposing a change to 
it in the trac message).

I'm for generic typemaps and returning an integer array from a C 
function with (int len, int *output) pattern is one IMHO.

Ok, I'll commit this change so that it does nothing for other languages 
than Perl.

Cheers,

Ari

>
> I'm open to changing the GetHistogram function signature within Band.i 
> however you guys wish (ideally to support just using  (int len, int 
> *output) and not having a special typemap for just this function), and 
> while it would be nice that we wouldn't need the #ifdefs for every 
> possible language we might ever support ;), it's not the end of the 
> world either...
>
> Howard
>
>
>


-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ari.jolma at tkk.fi  Thu Jul 24 03:31:41 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Thu Jul 24 03:30:08 2008
Subject: [gdal-dev] exceptions in bindings
Message-ID: <48882FDD.8090101@tkk.fi>

Hobu,

Still looking at the GetHistogram binding, one thing that puzzles me is 
the CPLErrorReset call. It is there and it is also in all the 
Operations.i bindings. In Perl that leads to it being called twice 
(which probably does no harm), because all methods are wrapped by 
cpl_exceptions.i with it:

CPLErrorReset();
$action
CPLErr eclass = CPLGetLastErrorType();
... check the eclass and possibly throw an exception

But cpl_exceptions.i does not seem to be used by Python, which has its 
python_exceptions.i. It is very similar to cpl_exceptions.i but lacks 
the CPLErrorReset() call. I don't understand the comment in 
python_exceptions.i:

"This was the cpl_exceptions.i code. But since python is the only one 
different (should support old method as well as new one) it was moved 
into this file."

Is there a particular reason for not having CPLErrorReset() in the 
%exception for Python? Does the comment mean that somebody thought of 
deleting cpl_exceptions.i?

I'm also adding the IF_ERROR_RETURN_NONE specifically for GetHistogram 
although I think it should probably be the default for Perl. The name is 
also misleading at least in the Perl case as it really means "do not 
return the error code (since we're using exceptions)".

Regards,

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From ari.jolma at tkk.fi  Thu Jul 24 03:51:01 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Thu Jul 24 03:49:26 2008
Subject: [gdal-dev] OT: subversion configuration
Message-ID: <48883465.4070405@tkk.fi>

I'm annoyed because I can't configure subversion properly for my local 
copy of GDAL repository.

I want to keep all files locally LF also in Windows. I've set

[auto-props]
*.* = svn:eol-style=LF

in svn config. However, when I commit, the file is converted into CRLF 
and also when I update, the files are CRLF.

Any help appreciated,

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From beartreeyoga at yahoo.co.uk  Thu Jul 24 04:56:41 2008
From: beartreeyoga at yahoo.co.uk (Derek Bain)
Date: Thu Jul 24 04:58:43 2008
Subject: [gdal-dev] Digital Nautical Charts and shp2img problem
Message-ID: <522617.17383.qm@web23001.mail.ird.yahoo.com>

Hi

I am using shp2img to test my mapfile for mapserver. The functions runs
and returns no error to the console window but the output image file
generated only shows 1 pixel out of many. Does anyone know of a way to
get shp2img to work with DNC's.

This is my command line
shp2img.exe -m C:\ms4w\apps\dnc2.map -o C:\ms4w\apps\est.png -map_debug 3

Derek



      __________________________________________________________
Not happy with your email address?.
Get the one you really want - millions of new email addresses available now at Yahoo! http://uk.docs.yahoo.com/ymail/new.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080724/1d1d4c72/attachment.html
From beartreeyoga at yahoo.co.uk  Thu Jul 24 06:05:31 2008
From: beartreeyoga at yahoo.co.uk (Derek Bain)
Date: Thu Jul 24 06:05:35 2008
Subject: [gdal-dev] shp2img problem?
Message-ID: <401076.80006.qm@web23002.mail.ird.yahoo.com>

Hi

I am using shp2img to test my mapfile.. The functions runs and returns no error to the console window but the output image file generated is only 1K in size and shows a vertical line 2x1 pixels, not the expected output.

Can anyone give me some help in getting this to work

Derek

This is my command line
shp2img.exe -m C:\ms4w\apps\dnc2.map -o C:\ms4w\apps\test.png -all_debug 5

and its debug output is
[Thu Jul 24 10:54:45 2008].750000 msOGRFileOpen(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030)...
[Thu Jul 24 10:54:45 2008].750000 OGROPen(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030)
[Thu Jul 24 10:54:46 2008].156000 msConnPoolRegister(coastl@ecr(*)_line,gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,01D25AE8)
[Thu Jul 24 10:54:46 2008].156000 msOGRFileWhichShapes: Setting spatial filter to -180.000000 -119.899833 180.000000 119.899833
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=0, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=1, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=2, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=3, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=4, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=5, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=6, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=7, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=8, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=9, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=10, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=11, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=12, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=13, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=14, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=15, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=16, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=17, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=18, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=19, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=20, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=21, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=22, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=23, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=24, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=25, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=26, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=27, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=28, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=29, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=30, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=31, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=32, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=33, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=34, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=35, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=36, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=37, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=38, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=39, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=40, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=41, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=42, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=43, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=44, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=45, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=46, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=47, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=48, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=49, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=50, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=51, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=52, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=53, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=54, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=55, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=56, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=57, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=58, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=59, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=60, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=61, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=62, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=63, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=64, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=65, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=66, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=67, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=68, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=69, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=70, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=71, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=72, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=73, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=74, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=75, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=76, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=77, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=78, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=79, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=80, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=81, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=82, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=83, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=84, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=85, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=86, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=87, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=88, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=89, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=90, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=91, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=92, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=93, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=94, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=95, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=96, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=97, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=98, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=99, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=100, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=101, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning shape=102, tile=0
[Thu Jul 24 10:54:46 2008].156000 msOGRFileNextShape: Returning MS_DONE (no more shapes)
[Thu Jul 24 10:54:46 2008].156000 msOGRLayerClose(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030).
[Thu Jul 24 10:54:46 2008].156000 msOGRFileClose(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,7).
[Thu Jul 24 10:54:46 2008].156000 msConnPoolRelease(coastl@ecr(*)_line,gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,01D25AE8)
[Thu Jul 24 10:54:46 2008].156000 msConnPoolClose(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,01D25AE8)
[Thu Jul 24 10:54:46 2008].171000 msDrawMap(): Layer 0 (coastl@ecr(*)_line), 0.421s
[Thu Jul 24 10:54:46 2008].171000 msOGRFileOpen(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030)...
[Thu Jul 24 10:54:46 2008].171000 OGROPen(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030)
[Thu Jul 24 10:54:46 2008].484000 msConnPoolRegister(hydarea@hyd(*)_area,gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,01D80B40)
[Thu Jul 24 10:54:46 2008].484000 msOGRFileWhichShapes: Setting spatial filter to -180.000000 -119.899833 180.000000 119.899833
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=0, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=1, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=2, tile=0
[Thu Jul 24 10:54:46 2008]..484000 msOGRFileNextShape: Returning shape=3, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=4, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=5, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=6, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=7, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=8, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=9, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=10, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=11, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=12, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=13, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=14, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=15, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=16, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=17, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=18, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=19, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=20, tile=0
[Thu Jul 24 10:54:46 2008].484000 msOGRFileNextShape: Returning shape=21, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=22, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=23, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=24, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=25, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=26, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=27, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=28, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=29, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=30, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=31, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=32, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=33, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=34, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=35, tile=0
[Thu Jul 24 10:54:46 2008].500000 msOGRFileNextShape: Returning shape=36, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=37, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=38, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=39, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=40, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=41, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=42, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=43, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=44, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=45, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=46, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=47, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=48, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=49, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=50, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=51, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=52, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=53, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=54, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=55, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=56, tile=0
[Thu Jul 24 10:54:46 2008].515000 msOGRFileNextShape: Returning shape=57, tile=0
[Thu Jul 24 10:54:46 2008].531000 msOGRFileNextShape: Returning shape=58, tile=0
[Thu Jul 24 10:54:46 2008].531000 msOGRFileNextShape: Returning shape=59, tile=0
[Thu Jul 24 10:54:46 2008].531000 msOGRFileNextShape: Returning shape=60, tile=0
[Thu Jul 24 10:54:46 2008].531000 msOGRFileNextShape: Returning shape=61, tile=0
[Thu Jul 24 10:54:46 2008].531000 msOGRFileNextShape: Returning shape=62, tile=0
[Thu Jul 24 10:54:46 2008].531000 msOGRFileNextShape: Returning MS_DONE (no more shapes)
[Thu Jul 24 10:54:46 2008].531000 msOGRLayerClose(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030).
[Thu Jul 24 10:54:46 2008].531000 msOGRFileClose(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,13).
[Thu Jul 24 10:54:46 2008].531000 msConnPoolRelease(hydarea@hyd(*)_area,gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,01D80B40)
[Thu Jul 24 10:54:46 2008].531000 msConnPoolClose(gltp:/vrf/C:/ms4w/apps/data/DNC13/H1316030,01D80B40)
[Thu Jul 24 10:54:46 2008].531000 msDrawMap(): Layer 1 (hydarea@hyd(*)_area), 0.360s
[Thu Jul 24 10:54:46 2008].531000 msDrawMap(): Drawing Label Cache, 0.000s
[Thu Jul 24 10:54:46 2008].531000 msDrawMap() total time: 0.781s
[Thu Jul 24 10:54:46 2008].546000 msFreeMap(): freeing map at 01365A48.


      __________________________________________________________
Not happy with your email address?.
Get the one you really want - millions of new email addresses available now at Yahoo! http://uk.docs.yahoo.com/ymail/new.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080724/ba5fb43e/attachment-0001.html
From arb at sat.dundee.ac.uk  Thu Jul 24 08:33:42 2008
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Thu Jul 24 08:33:46 2008
Subject: [gdal-dev] Filling in holes when warping
In-Reply-To: <4886084A.70407@pobox.com>
References: <op.ueoxnjepqw3wu1@titan> <4886084A.70407@pobox.com>
Message-ID: <op.uesqig0fqw3wu1@titan>

On Tue, 22 Jul 2008 17:18:18 +0100, Frank Warmerdam <warmerdam@pobox.com> wrote:
> I imagine this is a limitation of the "hole filling" code:
>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalgeoloc.cpp#L267
>
> You might want to try changing this code to go more than 3 iterations and
> see if it helps.

The loop serves no purpose at the moment (other than wasting some time!)
because iterations after the first simply do the same thing again.  I think
you want to mark a newly-filled pixel as valid, for example something like
	pabyValidFlag[iBMX+iBMY*nBMXSize] = 1 ??

Obviously I don't understand the code because I found that increasing the
size of the backmap (currently 1.3 times bigger than something else) made
the holes worse.  Using a factor of 0.5 actually gave me an image without
any holes at all!  Maybe the output image wasn't actually correct but at
first glance it seemed fine :-)

Andrew
From hobu.inc at gmail.com  Thu Jul 24 11:54:22 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Jul 24 11:54:27 2008
Subject: [gdal-dev] exceptions in bindings
In-Reply-To: <48882FDD.8090101@tkk.fi>
References: <48882FDD.8090101@tkk.fi>
Message-ID: <3DCBDC3A-9D03-4FA3-8225-36C69999CC53@gmail.com>


On Jul 24, 2008, at 2:31 AM, Ari Jolma wrote:

> Hobu,
>
> Still looking at the GetHistogram binding, one thing that puzzles me  
> is the CPLErrorReset call. It is there and it is also in all the  
> Operations.i bindings. In Perl that leads to it being called twice  
> (which probably does no harm), because all methods are wrapped by  
> cpl_exceptions.i with it:
>
> CPLErrorReset();
> $action
> CPLErr eclass = CPLGetLastErrorType();
> ... check the eclass and possibly throw an exception
>
> But cpl_exceptions.i does not seem to be used by Python, which has  
> its python_exceptions.i. It is very similar to cpl_exceptions.i but  
> lacks the CPLErrorReset() call. I don't understand the comment in  
> python_exceptions.i:
>
> "This was the cpl_exceptions.i code. But since python is the only  
> one different (should support old method as well as new one) it was  
> moved into this file."
>
> Is there a particular reason for not having CPLErrorReset() in the  
> %exception for Python? Does the comment mean that somebody thought  
> of deleting cpl_exceptions.i?
>

I'm not positive, but I think the rationale for this is in the Python  
case where we are using return codes rather than exceptions, the user  
needs to control the ability of when the CPL error reset happens.  If  
a user were to forget to call the reset due to an error in a previous  
function call, they would get an error pertaining to the wrong  
function call.  I think the CPLErrorReset calls that exist in the  
methods are to hand hold the user in this instance.

Frankly, I'd love to ditch the return code idiom for Python entirely  
and have exceptions always be on, but a certain Frank has a rather  
strong say about preserving the old behavior :).  It would be much  
simpler in a lot of ways, and tracebacks would have a lot more meaning  
in bug reports.  I find it frustrating that we can never revisit these  
kinds of decisions (because they would cause people to have to change  
some of their own code), and we must live with them forever.

I'd also love it if CPL had an error *stack* rather than just an error  
bit so I as a user and bindings maintainer doesn't have to worry about  
sequencing all of the check-the-bit, read-the-bit, clear-the-bit  
calls.   Then we wouldn't have to litter the code with CPLErrorReset  
all over the place.  I think this would be possible without changing  
our error API and could provide a lot of benefit.  If other folks saw  
it as a good thing and there was support for it, I would probably  
pursue it.

> I'm also adding the IF_ERROR_RETURN_NONE specifically for  
> GetHistogram although I think it should probably be the default for  
> Perl. The name is also misleading at least in the Perl case as it  
> really means "do not return the error code (since we're using  
> exceptions)".

For any other language besides Python (because of its history), I  
think it makes a lot of sense to not bother at all with return codes  
if there is a problem and rely on exceptions if the language supports  
it.


From mateusz at loskot.net  Thu Jul 24 12:56:05 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 24 12:56:12 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <48883465.4070405@tkk.fi>
References: <48883465.4070405@tkk.fi>
Message-ID: <4888B425.7010703@loskot.net>

Ari Jolma wrote:
> I'm annoyed because I can't configure subversion properly for my local 
> copy of GDAL repository.
> 
> I want to keep all files locally LF also in Windows. I've set
> 
> [auto-props]
> *.* = svn:eol-style=LF
> 
> in svn config. However, when I commit, the file is converted into CRLF 
> and also when I update, the files are CRLF.
> 
> Any help appreciated,

Ari,

Your configuration file is OK.
The problem is that auto-props are set on files only while adding or 
importing new file.

http://svnbook.red-bean.com/en/1.1/ch07.html

"The auto-props section controls the Subversion client's ability to 
automatically set properties on files when they are added or imported."


And then, Subversion uses these settings during further processing of 
that file, ie. during commit.

In other words, if svn:eol-style was not set to LF for all .c, .cpp and 
.h files while they were being imported to the SVN, then the eol-style 
is by default set to native.

Run this command and you will see that all C/C++ header files have 
svn:eol-style set to native:

$ find . -name '*.h' | xargs svn propget svn:eol-style | grep LF

Now, if we want to change it to LF, we have to issue svn propset

svn propset -R svn:eol-style LF *.cpp
svn propset -R svn:eol-style LF *.c
svn propset -R svn:eol-style LF *.h

or svn propedit command:

svn propedit svn:eol-style file.cpp

and change native to LF

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Thu Jul 24 13:07:17 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 24 13:07:23 2008
Subject: [gdal-dev] Contour interpolation tool
Message-ID: <4888B6C5.2030105@loskot.net>

Folks,

Perhaps someone would need it, but can't find.
Here is an interesting utility based on GDAL and CImg libraries:

http://www.imagico.de/contour_interpolate/

Unfortunately, the original package with version 0.3 includes only C++ 
source code files, no building configuration, no building instruction, 
etc. Plus, it doesn't compile with latest version of CImg.

I've fixed this tool and added hand-made Makefile.
Here is improved package available

http://mateusz.loskot.net/tmp/gdal/contour_interpolate-0.3-mloskot.tar.gz

I've tested building it on Linux, Ubuntu 7.04.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From gregor at hostgis.com  Thu Jul 24 13:27:11 2008
From: gregor at hostgis.com (Gregor Mosheh)
Date: Thu Jul 24 13:27:16 2008
Subject: [gdal-dev] Contour interpolation tool
In-Reply-To: <4888B6C5.2030105@loskot.net>
References: <4888B6C5.2030105@loskot.net>
Message-ID: <4888BB6F.6010504@hostgis.com>

Mateusz Loskot wrote:
> Perhaps someone would need it, but can't find.
> Here is an interesting utility based on GDAL and CImg libraries:
> http://www.imagico.de/contour_interpolate/

What does this do that gdal_contour doesn't do, or doesn't do as well? 
Does it render an image, for instance, rather than generating the vector 
data?

-- 
Gregor Mosheh / Greg Allensworth, BS, A+
System Administrator
HostGIS cartographic development & hosting services
http://www.HostGIS.com/

"Remember that no one cares if you can back up,
  only if you can restore." - AMANDA
From warmerdam at pobox.com  Thu Jul 24 14:19:31 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jul 24 14:20:31 2008
Subject: [gdal-dev] Filling in holes when warping
In-Reply-To: <op.uesqig0fqw3wu1@titan>
References: <op.ueoxnjepqw3wu1@titan> <4886084A.70407@pobox.com>
	<op.uesqig0fqw3wu1@titan>
Message-ID: <4888C7B3.8000900@pobox.com>

Andrew Brooks wrote:
> On Tue, 22 Jul 2008 17:18:18 +0100, Frank Warmerdam <warmerdam@pobox.com> wrote:
>> I imagine this is a limitation of the "hole filling" code:
>>
>> http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdalgeoloc.cpp#L267
>>
>> You might want to try changing this code to go more than 3 iterations and
>> see if it helps.
> 
> The loop serves no purpose at the moment (other than wasting some time!)
> because iterations after the first simply do the same thing again.  I think
> you want to mark a newly-filled pixel as valid, for example something like
> 	pabyValidFlag[iBMX+iBMY*nBMXSize] = 1 ??
> 
> Obviously I don't understand the code because I found that increasing the
> size of the backmap (currently 1.3 times bigger than something else) made
> the holes worse.  Using a factor of 0.5 actually gave me an image without
> any holes at all!  Maybe the output image wasn't actually correct but at
> first glance it seemed fine :-)

Andrew,

Ouch - how embarrassing.  I've filed a ticket, and will fix this - at least
in trunk.

   http://trac.osgeo.org/gdal/ticket/2501

The *theory* behind the 1.3 times multipler for the backmap is that the
resolution of the geolocation information is not generally completely
uniform, so by producing the backmap at a higher resolution and filling
in the holes we avoid losing much of the information in the original map.

In practice, things still break down if the geolocation array is very
irregular in resolution.

If we oversample too much then the current interpolation mechanism
collapses because the interpolator is no longer filling holes with values
bilinearly interpolated from all directions, but instead is just spreading
values.

Anyways, thanks for the analysis, and I'll fix the iteration thing.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mateusz at loskot.net  Thu Jul 24 15:53:43 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 24 15:53:48 2008
Subject: [gdal-dev] Contour interpolation tool
In-Reply-To: <4888BB6F.6010504@hostgis.com>
References: <4888B6C5.2030105@loskot.net> <4888BB6F.6010504@hostgis.com>
Message-ID: <4888DDC7.20206@loskot.net>

Gregor Mosheh wrote:
> Mateusz Loskot wrote:
>> Perhaps someone would need it, but can't find.
>> Here is an interesting utility based on GDAL and CImg libraries:
>> http://www.imagico.de/contour_interpolate/
> 
> What does this do that gdal_contour doesn't do, or doesn't do as well? 
> Does it render an image, for instance, rather than generating the vector 
> data?

Gregor,

I've not used contour_interpolate myself, but just taken care it builds 
cleanly on Linux. However, as I can tell, it does exactly the opposite 
what gdal_contour does.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From rezso at rdsor.ro  Thu Jul 24 16:17:52 2008
From: rezso at rdsor.ro (Balint Cristian)
Date: Thu Jul 24 16:20:59 2008
Subject: [gdal-dev] Contour interpolation tool
In-Reply-To: <4888DDC7.20206@loskot.net>
References: <4888B6C5.2030105@loskot.net> <4888BB6F.6010504@hostgis.com>
	<4888DDC7.20206@loskot.net>
Message-ID: <09BE42496F7149528112E2545696AF6B@Yoda>


>>> Here is an interesting utility based on GDAL and CImg libraries:
>>> http://www.imagico.de/contour_interpolate/


 Does this colorate a DEM file ?

I wrote recently a similar tool if folks are interested.

  It colorates a DEM after a predefined legend.csv file, 
hower it just colorate over several pre-defined segment
values of legend, linear interpolation or color gradient 
still not works (some code but too early), but i share the 
source code with some examples with pleasure:

http://openrisc.rdsor.ro/segment-dem/segment-dem.tar.bz2

  The good part is that its 100% relyed on gdal, i tryed much
to follow coding style too,  so i didnt use cimg e.g., there are 
some experimental linear color interpolation in HSV space 
instead of RGB but it still require more-tweaking 
(i study now some algorithm for it, how GIMP apply colorize/gradient)
outupt is not good for human eyes still for the interpolation option,
non interpolation works well however (see CLi switches).

 I used it for some generated gdal_grid datas in conjunction with 
gdal's VRT driver stuff, to 'colorize' the  obtained DEM for 
some pollution datas, the produced datas are very nice
and at last satisfy me to not use proprietary vendor tool at all
and be able to done the job with some magic scripting:

http://openrisc.rdsor.ro/segment-dem/out.TIF

  If someone see fantasy we can still work on the interpolation
issue, plus i might suggest insted of statical legend.cvs file
an inteligent internal legend-generator option too wich its
pretty possible at last ArcGIS spatial analyst do it well
with  many options including the mentioned 
auto-legend-classification one. Subject cen be extended
and well thinked, I consider a complete lack of such a good 
free tool for now.


//cristian
From mateusz at loskot.net  Thu Jul 24 16:23:26 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Jul 24 16:23:33 2008
Subject: [gdal-dev] Contour interpolation tool
In-Reply-To: <09BE42496F7149528112E2545696AF6B@Yoda>
References: <4888B6C5.2030105@loskot.net> <4888BB6F.6010504@hostgis.com>
	<4888DDC7.20206@loskot.net> <09BE42496F7149528112E2545696AF6B@Yoda>
Message-ID: <4888E4BE.2020508@loskot.net>

Balint Cristian wrote:
> 
>>>> Here is an interesting utility based on GDAL and CImg libraries:
>>>> http://www.imagico.de/contour_interpolate/
> 
> 
> Does this colorate a DEM file ?
> 
> I wrote recently a similar tool if folks are interested.

Perhaps, don't know. As I said, I've not used this tool.
But I'm sure you will find out from the docs:

http://www.imagico.de/contour_interpolate/

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From rezso at rdsor.ro  Thu Jul 24 16:30:20 2008
From: rezso at rdsor.ro (Balint Cristian)
Date: Thu Jul 24 16:33:29 2008
Subject: [gdal-dev] Contour interpolation tool
In-Reply-To: <4888E4BE.2020508@loskot.net>
References: <4888B6C5.2030105@loskot.net> <4888BB6F.6010504@hostgis.com>
	<4888DDC7.20206@loskot.net> <09BE42496F7149528112E2545696AF6B@Yoda>
	<4888E4BE.2020508@loskot.net>
Message-ID: <F03978CF27EA40BAAA30213B60C5C86E@Yoda>


Paff, very nice stuff  :)

 It does all the things I dreamed so far I read
the doc, at last at interpolation of the colors chapter.
  I will try it, cimg is a bit annoying, plus
it can't be convinced to work with a custom 
legend if its really neccessary, or convince the
tool (as it mention in the doc) to be able to generate a 
legend file (at last seems to be able in memory for itself to 
autosegment).


----- Original Message ----- 
From: "Mateusz Loskot" <mateusz@loskot.net>
To: "Balint Cristian" <rezso@rdsor.ro>
Cc: "Gregor Mosheh" <gregor@hostgis.com>; <gdal-dev@lists.osgeo.org>
Sent: Thursday, July 24, 2008 11:23 PM
Subject: Re: [gdal-dev] Contour interpolation tool


> Balint Cristian wrote:
>> 
>>>>> Here is an interesting utility based on GDAL and CImg libraries:
>>>>> http://www.imagico.de/contour_interpolate/
>> 
>> 
>> Does this colorate a DEM file ?
>> 
>> I wrote recently a similar tool if folks are interested.
> 
> Perhaps, don't know. As I said, I've not used this tool.
> But I'm sure you will find out from the docs:
> 
> http://www.imagico.de/contour_interpolate/
> 
> Greetings
> -- 
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
> 
>
From mateusz at loskot.net  Fri Jul 25 06:37:38 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Jul 25 06:37:46 2008
Subject: [gdal-dev] ogrinfo and gml?
In-Reply-To: <20080722001259.GA7689@q.rho.net>
References: <20080722001259.GA7689@q.rho.net>
Message-ID: <4889ACF2.2060501@loskot.net>

Wendell Turner wrote:
> Why do the examples of ogrinfo not work? That is, the
> example shows a coal_dep.gml with contents of:
> 
> <gml:featureMember>
> <Coal_Deposits fid="1">
> <UNKNOWN>0.000</UNKNOWN>
> <NA>0.000</NA>
> <ID>2</ID>
> <ID2>2</ID2>
> <MARK>7</MARK>
> <COALKEY>110</COALKEY>
> <COALKEY2>110</COALKEY2>
> <ogr:geometryProperty>
> <gml:Point>
> <gml:coordinates>78.531,50.694</gml:coordinates>
> </gml:Point>
> </ogr:geometryProperty>
> </Coal_Deposits>
> </gml:featureMember>
> 
> Yet ogrinfo doesn't recognize it:
>   > ogrinfo coal_dep.gml 
>   FAILURE:
>   Unable to open datasource `coal_dep.gml' with the following drivers.
>   ...
>   -> GML
> 
> This seems to indicate that the GML driver is compiled into
> ogrinfo, but the file is not recognized.  Why is that?
> 
> There are no projection associated with the gml file, so are
> the coordinates in whatever the layer projection coordinates
> are?
> 
> The example is off of the page:
>   http://mapserver.gis.umn.edu/docs/reference/vector_data/gml

Wendel,

The document you pasted is incomplete.
For instance, XML prolog is missing there.
Add this as the first line:

<?xml version='1.0' encoding="UTF-8" ?>

Regards
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From crschmidt at metacarta.com  Fri Jul 25 07:42:16 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Fri Jul 25 07:42:19 2008
Subject: [gdal-dev] ogrinfo and gml?
In-Reply-To: <4889ACF2.2060501@loskot.net>
References: <20080722001259.GA7689@q.rho.net> <4889ACF2.2060501@loskot.net>
Message-ID: <20080725114215.GA24544@metacarta.com>

On Fri, Jul 25, 2008 at 12:37:38PM +0200, Mateusz Loskot wrote:
> Wendell Turner wrote:
> > Why do the examples of ogrinfo not work? That is, the
> > example shows a coal_dep.gml with contents of:
> > 
> > <gml:featureMember>
> > <Coal_Deposits fid="1">
> > <UNKNOWN>0.000</UNKNOWN>
> > <NA>0.000</NA>
> > <ID>2</ID>
> > <ID2>2</ID2>
> > <MARK>7</MARK>
> > <COALKEY>110</COALKEY>
> > <COALKEY2>110</COALKEY2>
> > <ogr:geometryProperty>
> > <gml:Point>
> > <gml:coordinates>78.531,50.694</gml:coordinates>
> > </gml:Point>
> > </ogr:geometryProperty>
> > </Coal_Deposits>
> > </gml:featureMember>
> > 
> > Yet ogrinfo doesn't recognize it:
> >   > ogrinfo coal_dep.gml 
> >   FAILURE:
> >   Unable to open datasource `coal_dep.gml' with the following drivers.
> >   ...
> >   -> GML
> > 
> > This seems to indicate that the GML driver is compiled into
> > ogrinfo, but the file is not recognized.  Why is that?
> > 
> > There are no projection associated with the gml file, so are
> > the coordinates in whatever the layer projection coordinates
> > are?
> > 
> > The example is off of the page:
> >   http://mapserver.gis.umn.edu/docs/reference/vector_data/gml
> 
> Wendel,
> 
> The document you pasted is incomplete.
> For instance, XML prolog is missing there.
> Add this as the first line:
> 
> <?xml version='1.0' encoding="UTF-8" ?>

XML Prologs are not required in XML, and I have no reason to believe
they are required by OGR.

The problem seems more likely to be the fact that this is a standalone
gml:featureMember without a collection: in general, this would be
wrapped inside something like a wfs:featureCollection or something
similar...

Regards,
-- 
Christopher Schmidt
MetaCarta
From mateusz at loskot.net  Fri Jul 25 08:06:38 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Jul 25 08:06:45 2008
Subject: [gdal-dev] ogrinfo and gml?
In-Reply-To: <20080725114215.GA24544@metacarta.com>
References: <20080722001259.GA7689@q.rho.net> <4889ACF2.2060501@loskot.net>
	<20080725114215.GA24544@metacarta.com>
Message-ID: <4889C1CE.2070109@loskot.net>

Christopher Schmidt wrote:
> On Fri, Jul 25, 2008 at 12:37:38PM +0200, Mateusz Loskot wrote:
>> Wendell Turner wrote:
>>> Why do the examples of ogrinfo not work? That is, the
>>> example shows a coal_dep.gml with contents of:
>>>
>>> <gml:featureMember>
>>> <Coal_Deposits fid="1">
>>> <UNKNOWN>0.000</UNKNOWN>
>>> <NA>0.000</NA>
>>> <ID>2</ID>
>>> <ID2>2</ID2>
>>> <MARK>7</MARK>
>>> <COALKEY>110</COALKEY>
>>> <COALKEY2>110</COALKEY2>
>>> <ogr:geometryProperty>
>>> <gml:Point>
>>> <gml:coordinates>78.531,50.694</gml:coordinates>
>>> </gml:Point>
>>> </ogr:geometryProperty>
>>> </Coal_Deposits>
>>> </gml:featureMember>
>>>
>>> Yet ogrinfo doesn't recognize it:
>>>   > ogrinfo coal_dep.gml 
>>>   FAILURE:
>>>   Unable to open datasource `coal_dep.gml' with the following drivers.
>>>   ...
>>>   -> GML
>>>
>>> This seems to indicate that the GML driver is compiled into
>>> ogrinfo, but the file is not recognized.  Why is that?
>>>
>>> There are no projection associated with the gml file, so are
>>> the coordinates in whatever the layer projection coordinates
>>> are?
>>>
>>> The example is off of the page:
>>>   http://mapserver.gis.umn.edu/docs/reference/vector_data/gml
>> Wendel,
>>
>> The document you pasted is incomplete.
>> For instance, XML prolog is missing there.
>> Add this as the first line:
>>
>> <?xml version='1.0' encoding="UTF-8" ?>
> 
> XML Prologs are not required in XML, and I have no reason to believe
> they are required by OGR.
> 
> The problem seems more likely to be the fact that this is a standalone
> gml:featureMember without a collection: in general, this would be
> wrapped inside something like a wfs:featureCollection or something
> similar...

Yes, I agree the prolog is optional, but GML driver expects to find
target namespace in the root element.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Fri Jul 25 08:11:45 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Jul 25 08:11:51 2008
Subject: [gdal-dev] ogrinfo and gml?
In-Reply-To: <4889C1CE.2070109@loskot.net>
References: <20080722001259.GA7689@q.rho.net>
	<4889ACF2.2060501@loskot.net>	<20080725114215.GA24544@metacarta.com>
	<4889C1CE.2070109@loskot.net>
Message-ID: <4889C301.3090108@loskot.net>

Mateusz Loskot wrote:
> Christopher Schmidt wrote:
>> On Fri, Jul 25, 2008 at 12:37:38PM +0200, Mateusz Loskot wrote:
>>> Wendell Turner wrote:
>>>> Why do the examples of ogrinfo not work? That is, the
>>>> example shows a coal_dep.gml with contents of:
>>>>
>>>> <gml:featureMember>
>>>> <Coal_Deposits fid="1">
>>>> <UNKNOWN>0.000</UNKNOWN>
>>>> <NA>0.000</NA>
>>>> <ID>2</ID>
>>>> <ID2>2</ID2>
>>>> <MARK>7</MARK>
>>>> <COALKEY>110</COALKEY>
>>>> <COALKEY2>110</COALKEY2>
>>>> <ogr:geometryProperty>
>>>> <gml:Point>
>>>> <gml:coordinates>78.531,50.694</gml:coordinates>
>>>> </gml:Point>
>>>> </ogr:geometryProperty>
>>>> </Coal_Deposits>
>>>> </gml:featureMember>
>>>>
>>>> Yet ogrinfo doesn't recognize it:
>>>>   > ogrinfo coal_dep.gml   FAILURE:
>>>>   Unable to open datasource `coal_dep.gml' with the following drivers.
>>>>   ...
>>>>   -> GML
>>>>
>>>> This seems to indicate that the GML driver is compiled into
>>>> ogrinfo, but the file is not recognized.  Why is that?
>>>>
>>>> There are no projection associated with the gml file, so are
>>>> the coordinates in whatever the layer projection coordinates
>>>> are?
>>>>
>>>> The example is off of the page:
>>>>   http://mapserver.gis.umn.edu/docs/reference/vector_data/gml
>>> Wendel,
>>>
>>> The document you pasted is incomplete.
>>> For instance, XML prolog is missing there.
>>> Add this as the first line:
>>>
>>> <?xml version='1.0' encoding="UTF-8" ?>
>>
>> XML Prologs are not required in XML, and I have no reason to believe
>> they are required by OGR.
>>
>> The problem seems more likely to be the fact that this is a standalone
>> gml:featureMember without a collection: in general, this would be
>> wrapped inside something like a wfs:featureCollection or something
>> similar...
> 
> Yes, I agree the prolog is optional, but GML driver expects to find
> target namespace in the root element.

Forgot to include this:

http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/gml/ogrgmldatasource.cpp#L159


Ciao
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From crschmidt at metacarta.com  Fri Jul 25 08:21:23 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Fri Jul 25 08:21:29 2008
Subject: [gdal-dev] ogrinfo and gml?
In-Reply-To: <4889C1CE.2070109@loskot.net>
References: <20080722001259.GA7689@q.rho.net> <4889ACF2.2060501@loskot.net>
	<20080725114215.GA24544@metacarta.com>
	<4889C1CE.2070109@loskot.net>
Message-ID: <20080725122123.GA25027@metacarta.com>

On Fri, Jul 25, 2008 at 02:06:38PM +0200, Mateusz Loskot wrote:
> Christopher Schmidt wrote:
> >On Fri, Jul 25, 2008 at 12:37:38PM +0200, Mateusz Loskot wrote:
> >>Wendell Turner wrote:
> >>>Why do the examples of ogrinfo not work? That is, the
> >>>example shows a coal_dep.gml with contents of:
> >>>
> >>><gml:featureMember>
> >>><Coal_Deposits fid="1">
> Yes, I agree the prolog is optional, but GML driver expects to find
> target namespace in the root element.

Right, which means the prolog is not the problem here -- the fact that
this is an illegal XML document is. :) 

Specifically, it's a namespaced doc with no namespace declarations.

Wendell,

The page that you copy pasted from says:

 "Example of text in a GML file:"

Note that this does not say that this is the *entire* file:
specifically, it is one *feature* in the file, not a file itself. It is
not valid XML nor valid GML.

Regards,
-- 
Christopher Schmidt
MetaCarta
From mateusz at loskot.net  Fri Jul 25 08:58:54 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Jul 25 08:59:03 2008
Subject: [gdal-dev] ogrinfo and gml?
In-Reply-To: <20080725122123.GA25027@metacarta.com>
References: <20080722001259.GA7689@q.rho.net> <4889ACF2.2060501@loskot.net>
	<20080725114215.GA24544@metacarta.com>
	<4889C1CE.2070109@loskot.net>
	<20080725122123.GA25027@metacarta.com>
Message-ID: <4889CE0E.2040200@loskot.net>

Christopher Schmidt wrote:
> On Fri, Jul 25, 2008 at 02:06:38PM +0200, Mateusz Loskot wrote:
>> Christopher Schmidt wrote:
>>> On Fri, Jul 25, 2008 at 12:37:38PM +0200, Mateusz Loskot wrote:
>>>> Wendell Turner wrote:
>>>>> Why do the examples of ogrinfo not work? That is, the
>>>>> example shows a coal_dep.gml with contents of:
>>>>>
>>>>> <gml:featureMember>
>>>>> <Coal_Deposits fid="1">
>> Yes, I agree the prolog is optional, but GML driver expects to find
>> target namespace in the root element.
> 
> Right, which means the prolog is not the problem here -- the fact that
> this is an illegal XML document is. :) 

Yes, Chris, you are perfectly correct.
I always use XML prolog, so I assumed myself it's not optional.
I should read the XML spec more carefully instead :-)

> Specifically, it's a namespaced doc with no namespace declarations.

Yes.

Ciao
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From patrick.cannon at barcosoft.com  Fri Jul 25 11:34:49 2008
From: patrick.cannon at barcosoft.com (Patrick Cannon)
Date: Fri Jul 25 11:29:33 2008
Subject: [gdal-dev] GDALSetGeoTransform, & using masks
Message-ID: <200807251034.49610.patrick.cannon@barcosoft.com>

Hello Everyone,

I have what I hope to be just a couple of quick questions.

I am in the process of writting my own driver/dataset for BSB files so I can 
support version 4 and 5 files. ?This way the code for handling these files 
is not in the standard GDAL library and should isolate it from Maptech.

I have run into a bit of a snag though. ?Is it possible to create an affine 
transform matrix from the GCP values? ?Or could I use Polynomial X to L, Y 
to L, L to X and L to Y values?

I have a class to handled the Polynomials and convert between Map to Pixel 
and Pixel to map but, I do not see a clean way of implementing this within 
the GDAL framework.

My next question has to do with masks. ?For example, the chart image has a 
white border around it and I do not want it to show/count when asking the 
dataset to build the image. ?This is further complicated by needing to use 
a polygon instead of a rectangle to describe the visible part of the image.

Is it possible to use a mask to hide the unwanted portion? 
Even if I am only reading part of the image?
Is there an example somewhere on how to do this?
Is there a better way to handle this? ?

Thank you for any help or guidance you can provide.

Best regards,
Patrick Cannon
From nhv at cape.com  Fri Jul 25 13:22:24 2008
From: nhv at cape.com (Norman Vine)
Date: Fri Jul 25 13:32:12 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <48883465.4070405@tkk.fi>
Message-ID: <20080725171506.87CEC30E93D@mrelay1.cape.com>

Ari Jolma writes:
> 
> I'm annoyed because I can't configure subversion properly for 
> my local 
> copy of GDAL repository.
> 
> I want to keep all files locally LF also in Windows. I've set
> 
> [auto-props]
> *.* = svn:eol-style=LF
> 
> in svn config. However, when I commit, the file is converted 
> into CRLF 
> and also when I update, the files are CRLF.
> 
> Any help appreciated,

Ari,

AFAIK the easiest way to do this is to use the Cygwin tools

Your local SVN repository will need to be on a Unix Mount

 http://cygwin.com/cygwin-ug-net/using-textbinary.html

HTH

Norman

From cjanssen at iavo-rs.com  Fri Jul 25 15:09:35 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Fri Jul 25 15:39:44 2008
Subject: [gdal-dev] CADRG subdataset access help
In-Reply-To: <200807251034.49610.patrick.cannon@barcosoft.com>
Message-ID: <EDE3618E-98AE-459B-9ACD-F90B3E9465F6@iavo-rs.com>

How exactly does one go about accessing the raster data in an format that contains subdatasets like CADRG? Any help would be greatly appreciated.

Christiaan

From even.rouault at mines-paris.org  Fri Jul 25 15:42:42 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Jul 25 15:42:47 2008
Subject: [gdal-dev] CADRG subdataset access help
In-Reply-To: <EDE3618E-98AE-459B-9ACD-F90B3E9465F6@iavo-rs.com>
References: <EDE3618E-98AE-459B-9ACD-F90B3E9465F6@iavo-rs.com>
Message-ID: <200807252142.43224.even.rouault@mines-paris.org>

Not so difficult.
Example taken from the GDAL autotest suite:

$ gdalinfo A.TOC
Driver: RPFTOC/Raster Product Format TOC format
Files: A.TOC
Size is 1536, 1536
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AXIS["Lat",NORTH],
    AXIS["Long",EAST],
    AUTHORITY["EPSG","4326"]]
Origin = (1.999941600000000,36.000117500000002)
Pixel Size = (0.001783387630208,-0.001346181640625)
Subdatasets:
  SUBDATASET_1_NAME=NITF_TOC_ENTRY:CADRG_ONC_1,000,000_2_0:A.TOC
  SUBDATASET_1_DESC=CADRG:ONC:Operational Navigation Chart:1,000,000:2:0
Corner Coordinates:
Upper Left  (   1.9999416,  36.0001175) (  1d59'59.79"E, 36d 0'0.42"N)
Lower Left  (   1.9999416,  33.9323825) (  1d59'59.79"E, 33d55'56.58"N)
Upper Right (   4.7392250,  36.0001175) (  4d44'21.21"E, 36d 0'0.42"N)
Lower Right (   4.7392250,  33.9323825) (  4d44'21.21"E, 33d55'56.58"N)
Center      (   3.3695833,  34.9662500) (  3d22'10.50"E, 34d57'58.50"N)

You can use the above value of SUBDATASET_1_NAME as the name for any GDALOpen 
call, so a gdalinfo on it gives what you want :

$ gdalinfo -noct NITF_TOC_ENTRY:CADRG_ONC_1,000,000_2_0:A.TOC
Driver: RPFTOC/Raster Product Format TOC format
Files: none associated
Size is 1536, 1536
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AXIS["Lat",NORTH],
    AXIS["Long",EAST],
    AUTHORITY["EPSG","4326"]]
Origin = (1.999941600000000,36.000117500000002)
Pixel Size = (0.001783387630208,-0.001346181640625)
Metadata:
  FILENAME_0=./RPFTOC01.ON2
  NITF_SCALE=1,000,000
  NITF_SERIES_ABBREVIATION=ONC
  NITF_SERIES_NAME=Operational Navigation Chart
Corner Coordinates:
Upper Left  (   1.9999416,  36.0001175) (  1d59'59.79"E, 36d 0'0.42"N)
Lower Left  (   1.9999416,  33.9323825) (  1d59'59.79"E, 33d55'56.58"N)
Upper Right (   4.7392250,  36.0001175) (  4d44'21.21"E, 36d 0'0.42"N)
Lower Right (   4.7392250,  33.9323825) (  4d44'21.21"E, 33d55'56.58"N)
Center      (   3.3695833,  34.9662500) (  3d22'10.50"E, 34d57'58.50"N)
Band 1 Block=128x128 Type=Byte, ColorInterp=Palette
  NoData Value=216
  Color Table (RGB with 217 entries)



Le Friday 25 July 2008 21:09:35 Christiaan Janssen, vous avez ?crit?:
> How exactly does one go about accessing the raster data in an format that
> contains subdatasets like CADRG? Any help would be greatly appreciated.
>
> Christiaan
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Fri Jul 25 15:51:43 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jul 25 15:52:05 2008
Subject: [gdal-dev] CADRG subdataset access help
In-Reply-To: <EDE3618E-98AE-459B-9ACD-F90B3E9465F6@iavo-rs.com>
References: <EDE3618E-98AE-459B-9ACD-F90B3E9465F6@iavo-rs.com>
Message-ID: <488A2ECF.7060901@pobox.com>

Christiaan Janssen wrote:
> How exactly does one go about accessing the raster data in an format that
> contains subdatasets like CADRG? Any help would be greatly appreciated.
> 

Christiaan,

Are you working programmatically or as a user with end-user tools like gdalinfo
and gdal_translate?

For an end user, one would normally run gdalinfo against the file/dataset and
see the reported subdataset names.  Then run gdalinfo or gdal_translate against
the desired subdataset name.

Scripts/applications operate similarly, fetching the subdataset names from
metadata.

You may find it helpful to read the section titled "SUBDATASETS Domain" in
this doc:

   http://www.gdal.org/gdal_datamodel.html

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From cjanssen at iavo-rs.com  Fri Jul 25 16:02:55 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Fri Jul 25 16:03:14 2008
Subject: [gdal-dev] CADRG subdataset access help
In-Reply-To: <488A2ECF.7060901@pobox.com>
Message-ID: <229CDDA8-AB57-49FB-8965-4089262E9119@iavo-rs.com>

I'm working programmatically. I sort of understand the mechanism described in the suggested document but would greatly appreciate a short snippet to show how one goes about opening the subdataset. I'm guessing in the example described on the web page that to open the first dataset I would call GDALOpen as follows:

GDALOpen("NITF_IM:0:multi_1b.ntf", GDALAccess::GA_ReadOnly);

Christiaan

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Friday, July 25, 2008 3:52 PM
To: Christiaan Janssen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] CADRG subdataset access help

Christiaan Janssen wrote:
> How exactly does one go about accessing the raster data in an format 
> that contains subdatasets like CADRG? Any help would be greatly appreciated.
> 

Christiaan,

Are you working programmatically or as a user with end-user tools like gdalinfo and gdal_translate?

For an end user, one would normally run gdalinfo against the file/dataset and see the reported subdataset names.  Then run gdalinfo or gdal_translate against the desired subdataset name.

Scripts/applications operate similarly, fetching the subdataset names from metadata.

You may find it helpful to read the section titled "SUBDATASETS Domain" in this doc:

   http://www.gdal.org/gdal_datamodel.html

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From warmerdam at pobox.com  Fri Jul 25 16:53:52 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jul 25 16:54:22 2008
Subject: [gdal-dev] CADRG subdataset access help
In-Reply-To: <229CDDA8-AB57-49FB-8965-4089262E9119@iavo-rs.com>
References: <229CDDA8-AB57-49FB-8965-4089262E9119@iavo-rs.com>
Message-ID: <488A3D60.1090101@pobox.com>

Christiaan Janssen wrote:
> I'm working programmatically. I sort of understand the mechanism described in the suggested document but would greatly appreciate a short snippet to show how one goes about opening the subdataset. I'm guessing in the example described on the web page that to open the first dataset I would call GDALOpen as follows:
> 
> GDALOpen("NITF_IM:0:multi_1b.ntf", GDALAccess::GA_ReadOnly);

Christiaan,

Yes, though you don't normally need to qualify GA_ReadOnly.  The following
code chunk out of gdal_translate (used to recurse over subdatasets) might
also be helpful.

/* -------------------------------------------------------------------- */
/*      Handle subdatasets.                                             */
/* -------------------------------------------------------------------- */
     if( CSLCount(GDALGetMetadata( hDataset, "SUBDATASETS" )) > 0 )
     {
         if( !bCopySubDatasets )
         {
             fprintf( stderr,
                      "Input file contains subdatasets. Please, select one of 
them for reading.\n" );
         }
         else
         {
             char **papszSubdatasets = GDALGetMetadata(hDataset,"SUBDATASETS");
             char *pszSubDest = (char *) CPLMalloc(strlen(pszDest)+32);
             int i;
             int bOldSubCall = bSubCall;

             argv[iDstFileArg] = pszSubDest;
             bSubCall = TRUE;
             for( i = 0; papszSubdatasets[i] != NULL; i += 2 )
             {
                 argv[iSrcFileArg] = strstr(papszSubdatasets[i],"=")+1;
                 sprintf( pszSubDest, "%s%d", pszDest, i/2 + 1 );
                 if( ProxyMain( argc, argv ) != 0 )
                     break;
             }

             bSubCall = bOldSubCall;
             CPLFree( pszSubDest );
         }

         GDALClose( hDataset );

         if( !bSubCall )
         {
             GDALDumpOpenDatasets( stderr );
             GDALDestroyDriverManager();
         }
         return 1;
     }



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ari.jolma at tkk.fi  Sat Jul 26 03:38:26 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sat Jul 26 03:36:51 2008
Subject: [gdal-dev] exceptions in bindings
In-Reply-To: <3DCBDC3A-9D03-4FA3-8225-36C69999CC53@gmail.com>
References: <48882FDD.8090101@tkk.fi>
	<3DCBDC3A-9D03-4FA3-8225-36C69999CC53@gmail.com>
Message-ID: <488AD472.2020107@tkk.fi>

Howard Butler kirjoitti:
>
>
> I'm not positive, but I think the rationale for this is in the Python 
> case where we are using return codes rather than exceptions, the user 
> needs to control the ability of when the CPL error reset happens.  If 
> a user were to forget to call the reset due to an error in a previous 
> function call, they would get an error pertaining to the wrong 
> function call.  I think the CPLErrorReset calls that exist in the 
> methods are to hand hold the user in this instance.

"in this instance" .. but the calls are always there

>
> Frankly, I'd love to ditch the return code idiom for Python entirely 
> and have exceptions always be on, but a certain Frank has a rather 
> strong say about preserving the old behavior :).  It would be much 
> simpler in a lot of ways, and tracebacks would have a lot more meaning 
> in bug reports.  I find it frustrating that we can never revisit these 
> kinds of decisions (because they would cause people to have to change 
> some of their own code), and we must live with them forever.

Wouldn't it be just the same to the outside world in this case if the 
CPLErrorReset were also in Python case in %exception once rather than in 
the wrapper (Band.i) several times? %exception is used in any case, 
isn't it? I mean that to me it looks that having CPLErrorReset in Python 
%exception would just make the .i files a bit simpler and in the Perl 
case at least remove the duplicate call? Could this be tested by making 
the change and running the Python tests?

I'm just trying to reduce the unnecessary complication in the bindings a 
bit...

Ari

From ari.jolma at tkk.fi  Sat Jul 26 03:58:38 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sat Jul 26 03:57:03 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <4888B425.7010703@loskot.net>
References: <48883465.4070405@tkk.fi> <4888B425.7010703@loskot.net>
Message-ID: <488AD92E.2040307@tkk.fi>

Mateusz Loskot kirjoitti:
> Ari Jolma wrote:
>> I'm annoyed because I can't configure subversion properly for my 
>> local copy of GDAL repository.
>>
>> I want to keep all files locally LF also in Windows. I've set
>>
>
> In other words, if svn:eol-style was not set to LF for all .c, .cpp 
> and .h files while they were being imported to the SVN, then the 
> eol-style is by default set to native.
>
> svn propset -R svn:eol-style LF *.h
>

Thanks Mateusz,

In the menu Tortoise adds into file managers in Windows, there is a 
properties command, which opens a window of Property => Value data (of 
the file I presume). The svn:eol-style seems to be native always. I 
changed this to LF and the effect is just what I want. The file comes 
back LF even if I delete it, i.e., the property is set also in the server.

I assume I shouldn't set the property to LF for files which I don't 
"own" (everything else than the Perl bindings)? Although I think the 
policy was to have the files in the repository to be LF?

Regards,

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From mateusz at loskot.net  Sat Jul 26 09:05:01 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Jul 26 09:05:08 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <488AD92E.2040307@tkk.fi>
References: <48883465.4070405@tkk.fi> <4888B425.7010703@loskot.net>
	<488AD92E.2040307@tkk.fi>
Message-ID: <488B20FD.8080300@loskot.net>

Ari Jolma wrote:
> Mateusz Loskot kirjoitti:
>> Ari Jolma wrote:
>>> I'm annoyed because I can't configure subversion properly for my 
>>> local copy of GDAL repository.
>>> 
>>> I want to keep all files locally LF also in Windows. I've set
>>> 
>> 
>> In other words, if svn:eol-style was not set to LF for all .c, .cpp
>>  and .h files while they were being imported to the SVN, then the 
>> eol-style is by default set to native.
>> 
>> svn propset -R svn:eol-style LF *.h
>> 
> 
> Thanks Mateusz,
> 
> In the menu Tortoise adds into file managers in Windows, there is a 
> properties command, which opens a window of Property => Value data 
> (of the file I presume). The svn:eol-style seems to be native always.
>  I changed this to LF and the effect is just what I want. The file 
> comes back LF even if I delete it, i.e., the property is set also in 
> the server.

Ari,

OK, good for me I understood the problem.

> I assume I shouldn't set the property to LF for files which I don't 
> "own" (everything else than the Perl bindings)?

I don't know as I'm not maintaining the policy.
If in doubts, I believe it is a good idea to discuss it with others.


> Although I think the policy was to have the files in the repository
> to  be LF?

AFAIK, SVN internally stores files with LF, but it doesn't influence
what users see in their local copies.

Greetings
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From albertvd at gmail.com  Sat Jul 26 15:37:28 2008
From: albertvd at gmail.com (Albert)
Date: Sat Jul 26 15:37:29 2008
Subject: [gdal-dev] Encrypted S57 data files
Message-ID: <66e9a78f0807261237j67a3df20rb8dd4b0f7261a5c@mail.gmail.com>

Hi All,

Most commercially provided S57 data files are encrypted using the S63
data protection scheme.

Is GDAL able to decrypt these files?

Thanks,

Albert
From even.rouault at mines-paris.org  Sat Jul 26 15:44:53 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Jul 26 15:44:58 2008
Subject: [gdal-dev] Encrypted S57 data files
In-Reply-To: <66e9a78f0807261237j67a3df20rb8dd4b0f7261a5c@mail.gmail.com>
References: <66e9a78f0807261237j67a3df20rb8dd4b0f7261a5c@mail.gmail.com>
Message-ID: <200807262144.54533.even.rouault@mines-paris.org>

Albert,

This topic has been raised in the following thread :
http://osdir.com/ml/gis.gdal.devel/2005-03/msg00042.html

The conclusion of that thread still applies today.

So the short answer is : no

Le Saturday 26 July 2008 21:37:28 Albert, vous avez ?crit?:
> encrypted


From Chris.Barker at noaa.gov  Sat Jul 26 16:24:18 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Sat Jul 26 17:23:36 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <488AD92E.2040307@tkk.fi>
References: <48883465.4070405@tkk.fi> <4888B425.7010703@loskot.net>
	<488AD92E.2040307@tkk.fi>
Message-ID: <488B87F2.70007@noaa.gov>

Ari Jolma wrote:
>>> I want to keep all files locally LF also in Windows. I've set

Unfortunately, I don't think SVN supports this idea. The eol-style 
property is set on the file, and everyone that checks it out gets that 
property. What this means is that it is that what it is set to is a 
project level decision, and my experience says that "native" is the only 
  reasonable option for text files -- you simply can't count on editors 
dealing with non-native line feeds properly(even though many do), and 
you really get a mess if they don't.

> In the menu Tortoise adds into file managers in Windows, there is a 
> properties command, which opens a window of Property => Value data (of 
> the file I presume). The svn:eol-style seems to be native always. I 
> changed this to LF and the effect is just what I want. The file comes 
> back LF even if I delete it, i.e., the property is set also in the server.

right, but that means that anyone else that checks out that file on any 
system is going to get LF, and if they have a stupid Windows editor or 
compiler, that could cause problems.

> I assume I shouldn't set the property to LF for files which I don't 
> "own" (everything else than the Perl bindings)? 

The trouble is that even though you are the primary editor of the Perl 
bindings, others will, at the very least, check out the files and look 
at them or compile them. I don't think it's a good idea to have 
different systems for different parts of the the same project -- 
wouldn't it get messy for you, if no one else?

Why do you need LF on Windows? Why not just use Windows line endings on 
windows? With a decent editor is should be completely transparent anyway.

Ideally, your SVN client would let you define what "native" linefeeds 
mean to you, but I don't know that Tortoise (or any other) client 
supports that. You might try a feature request.

-Chris






-- 
Christopher Barker, Ph.D.
Oceanographer

NOAA/OR&R/HAZMAT         (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception
From crschmidt at metacarta.com  Sat Jul 26 18:08:06 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Sat Jul 26 18:08:10 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <20080725171506.87CEC30E93D@mrelay1.cape.com>
References: <48883465.4070405@tkk.fi>
	<20080725171506.87CEC30E93D@mrelay1.cape.com>
Message-ID: <20080726220806.GA4739@metacarta.com>

On Fri, Jul 25, 2008 at 01:22:24PM -0400, Norman Vine wrote:
> Ari Jolma writes:
> > 
> > I'm annoyed because I can't configure subversion properly for 
> > my local 
> > copy of GDAL repository.
> > 
> > I want to keep all files locally LF also in Windows. I've set
> > 
> AFAIK the easiest way to do this is to use the Cygwin tools
> 
> Your local SVN repository will need to be on a Unix Mount
> 
>  http://cygwin.com/cygwin-ug-net/using-textbinary.html

Agreed. If you want Unix-style file endings, using the Cygwin class of
tools will get you that, since Cygwin acts like a Unix tool.

Regards,
-- 
Christopher Schmidt
MetaCarta
From ari.jolma at tkk.fi  Sun Jul 27 06:10:33 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sun Jul 27 15:14:03 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <488B87F2.70007@noaa.gov>
References: <48883465.4070405@tkk.fi> <4888B425.7010703@loskot.net>
	<488AD92E.2040307@tkk.fi> <488B87F2.70007@noaa.gov>
Message-ID: <488C4999.5090301@tkk.fi>

Christopher Barker kirjoitti:
>> I assume I shouldn't set the property to LF for files which I don't 
>> "own" (everything else than the Perl bindings)? 
>
> The trouble is that even though you are the primary editor of the Perl 
> bindings, others will, at the very least, check out the files and look 
> at them or compile them. I don't think it's a good idea to have 
> different systems for different parts of the the same project -- 
> wouldn't it get messy for you, if no one else?

you're probably right

>
> Why do you need LF on Windows? Why not just use Windows line endings 
> on windows? With a decent editor is should be completely transparent 
> anyway.

I use emacs for editing and while there may be a way to configure it to 
not to show the ^M, I don't know it.

>
> Ideally, your SVN client would let you define what "native" linefeeds 
> mean to you, but I don't know that Tortoise (or any other) client 
> supports that. You might try a feature request.

I thought so too.

Ari

From woodbri at swoodbridge.com  Sat Jul 26 22:01:08 2008
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Sun Jul 27 15:14:33 2008
Subject: [gdal-dev] Mapinfo .GST file support?
Message-ID: <488BD6E4.5070606@swoodbridge.com>

Hi all,

Does ogr2ogr support Mapinfo .gst files?
Is there a spec available for GST files?

After spending some time looking at google results, I'm not sure I have 
much more clue about this than before I started, other than I think I 
get the fact that a GST file might be like a mapfile is to mapserver.

I have a mapfile and shapefiles and a client that wants maps if .gst 
format. I assume I can translate the shapefiles to .tab files, but I'm 
not sure what to do about the .gst file.

Any help and/or pointers would be appreciated.

TIA,
   -Steve W
From AWilliams at rapidmap.com  Sun Jul 27 23:44:56 2008
From: AWilliams at rapidmap.com (Andrew Williams)
Date: Sun Jul 27 23:48:00 2008
Subject: [gdal-dev] Mapinfo .GST file support?
In-Reply-To: <488BD6E4.5070606@swoodbridge.com>
References: <488BD6E4.5070606@swoodbridge.com>
Message-ID: <29C3A52E0876C94C97BD6443FA96F73371B50C672A@rms03.rapidmap.local>

I'm not much help other than to confirm your suspicions that a GST is similar to a mapfile.

In Mapinfo speak a geoset is a script file containing the locations of Mapinfo tables and what to do with them when you open them.

Such as in which order, zoom layering etc.

Other than that they don't do much.

The Geoset is primarily developed for the Mapinfo development environments such as MapX(deprecated)/MapXMobile(PDA) and MapXtreme(Web/Desktop).

Applications built using these environments open Geosets natively.

I'm not suggesting you need these just saying that's why the Geoset exists.

If you have access to the MapX development environment or a MapX application there is a utility called the Geoset Manager. You'll find it in the install directory. As the name suggests it allows you to configure the geoset and these other parameters.

Even Mapinfo's own documentation doesn't reveal the specification of the format. It basically says "You have geoset manager for this, so use it" (Heaven forbid, somebody might want to use it for an allied purpose.)

Anyway you may wish to check out the Google group Mapinfo-L. There are many specialists there who may be able to answer your question about Geoset parsing.

There is also www.directionsmag.com

This is a site dedicated to spatial technology with a tools download section. If you search the Mapinfo Professional tools section for "Geoset" you may find a Mapbasic script in uncompiled form that may give you an idea about how to process a Geoset. It will be for Mapinfo but Mapbasic is a very "basic" language and the .mb files can be read with a text editor. You may be able to derive a method for parsing the GST file to create a similar mapfile.

Other than that Geosets are pretty primitive. You may consider an "empirical" method based on an existing GST file. Not ideal but there you have it.

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Stephen Woodbridge
Sent: Sunday, 27 July 2008 12:01 PM
To: Gdal-Dev
Subject: [gdal-dev] Mapinfo .GST file support?

Hi all,

Does ogr2ogr support Mapinfo .gst files?
Is there a spec available for GST files?

After spending some time looking at google results, I'm not sure I have
much more clue about this than before I started, other than I think I
get the fact that a GST file might be like a mapfile is to mapserver.

I have a mapfile and shapefiles and a client that wants maps if .gst
format. I assume I can translate the shapefiles to .tab files, but I'm
not sure what to do about the .gst file.

Any help and/or pointers would be appreciated.

TIA,
   -Steve W
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From giannibarrotta at gmail.com  Mon Jul 28 03:56:37 2008
From: giannibarrotta at gmail.com (Gianni Barrotta)
Date: Mon Jul 28 03:56:40 2008
Subject: [gdal-dev] GDAL on 64 bit environments
Message-ID: <190430c0807280056h1ebc3bb9ibce28b4f3c51f097@mail.gmail.com>

Hi,
I want to use gdal on a 64 bit OS (XEON wiht Red Hat ES 5), but it seems
that fwtools is released just for 32 bit systems.
What's the right way to install GDAL on 64 bit OS?
Thank's.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080728/c338ab2b/attachment.html
From mateusz at loskot.net  Mon Jul 28 04:14:17 2008
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Mon Jul 28 04:14:24 2008
Subject: [gdal-dev] GDAL on 64 bit environments
In-Reply-To: <190430c0807280056h1ebc3bb9ibce28b4f3c51f097@mail.gmail.com>
References: <190430c0807280056h1ebc3bb9ibce28b4f3c51f097@mail.gmail.com>
Message-ID: <488D7FD9.6030201@loskot.net>

Gianni Barrotta pisze:
> Hi,
> I want to use gdal on a 64 bit OS (XEON wiht Red Hat ES 5), but it seems
> that fwtools is released just for 32 bit systems.
> What's the right way to install GDAL on 64 bit OS?
> Thank's.

If there are no 64-bit packages for your distribution, then the next 
option is to build GDAL from sources.

Regards
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mateusz at loskot.net  Mon Jul 28 05:58:05 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Jul 28 05:59:55 2008
Subject: [gdal-dev] GDAL on 64 bit environments
In-Reply-To: <190430c0807280243xacbd0dt2ab37f634aedd486@mail.gmail.com>
References: <190430c0807280056h1ebc3bb9ibce28b4f3c51f097@mail.gmail.com>	
	<488D7FD9.6030201@loskot.net> <op.uezvzan0qw3wu1@titan>
	<190430c0807280243xacbd0dt2ab37f634aedd486@mail.gmail.com>
Message-ID: <488D982D.208@loskot.net>

Gianni Barrotta wrote:
> Ok, I'm going to try with the 32 bit FWTools, probably it won't use the full
> 64 bit CPU, am I wrong?

Regarding performance advantage, generally speaking, yes it won't.
Your programs will run as it are executed on 32-bit system. 
Specifically, depends on actual architecture [1]

[1] http://en.wikipedia.org/wiki/64-bit#32_vs_64_bit
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From cjanssen at iavo-rs.com  Mon Jul 28 07:57:28 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Mon Jul 28 07:57:55 2008
Subject: [gdal-dev] CADRG subdataset access help
In-Reply-To: <488A3D60.1090101@pobox.com>
Message-ID: <C608EB42-EAF6-4FDA-9E70-C034BFFD010B@iavo-rs.com>

Your help is invaluable, thanks again.

Christiaan 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Friday, July 25, 2008 4:54 PM
To: Christiaan Janssen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] CADRG subdataset access help

Christiaan Janssen wrote:
> I'm working programmatically. I sort of understand the mechanism described in the suggested document but would greatly appreciate a short snippet to show how one goes about opening the subdataset. I'm guessing in the example described on the web page that to open the first dataset I would call GDALOpen as follows:
> 
> GDALOpen("NITF_IM:0:multi_1b.ntf", GDALAccess::GA_ReadOnly);

Christiaan,

Yes, though you don't normally need to qualify GA_ReadOnly.  The following code chunk out of gdal_translate (used to recurse over subdatasets) might also be helpful.

/* -------------------------------------------------------------------- */
/*      Handle subdatasets.                                             */
/* -------------------------------------------------------------------- */
     if( CSLCount(GDALGetMetadata( hDataset, "SUBDATASETS" )) > 0 )
     {
         if( !bCopySubDatasets )
         {
             fprintf( stderr,
                      "Input file contains subdatasets. Please, select one of them for reading.\n" );
         }
         else
         {
             char **papszSubdatasets = GDALGetMetadata(hDataset,"SUBDATASETS");
             char *pszSubDest = (char *) CPLMalloc(strlen(pszDest)+32);
             int i;
             int bOldSubCall = bSubCall;

             argv[iDstFileArg] = pszSubDest;
             bSubCall = TRUE;
             for( i = 0; papszSubdatasets[i] != NULL; i += 2 )
             {
                 argv[iSrcFileArg] = strstr(papszSubdatasets[i],"=")+1;
                 sprintf( pszSubDest, "%s%d", pszDest, i/2 + 1 );
                 if( ProxyMain( argc, argv ) != 0 )
                     break;
             }

             bSubCall = bOldSubCall;
             CPLFree( pszSubDest );
         }

         GDALClose( hDataset );

         if( !bSubCall )
         {
             GDALDumpOpenDatasets( stderr );
             GDALDestroyDriverManager();
         }
         return 1;
     }



-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org



From Chris.Barker at noaa.gov  Mon Jul 28 12:47:53 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Jul 28 12:45:35 2008
Subject: [gdal-dev] OT: subversion configuration
In-Reply-To: <488C4999.5090301@tkk.fi>
References: <48883465.4070405@tkk.fi> <4888B425.7010703@loskot.net>
	<488AD92E.2040307@tkk.fi> <488B87F2.70007@noaa.gov>
	<488C4999.5090301@tkk.fi>
Message-ID: <488DF839.7010809@noaa.gov>

Ari Jolma wrote:
>> Why do you need LF on Windows? Why not just use Windows line endings 
>> on windows? With a decent editor is should be completely transparent 
>> anyway.
> 
> I use emacs for editing and while there may be a way to configure it to 
> not to show the ^M, I don't know it.

Emacs can do everything, so I suspect there is a way to get it to deal 
with Windows line endings properly. In fact, aside from the spurious ^M, 
which you could ignore, I suspect that it is putting in just plain old 
LF when you add new line endings, thus resulting in a mixed line ending 
file, which is to be avoided. I'd poke around in the Emacs docs and 
lists, this should be doable.

This is from:
http://www.gnu.org/software/emacs/windows/big.html

5.6 How can I control CR/LF translation?

There are a number of methods by which you can control automatic CR/LF 
translation in Emacs, a situation that reflects the fact that the 
default support was not very robust in the past. For a discussion of 
this issue, take a look at this collection of email messages on the topic.

5.6.1 Automatic CR/LF translation

For existing files, Emacs scans the file to determine the line ending 
convention as part of the same scan it does to determine the file 
encoding. Embedded Ctrl-M (ASCII 13) characters and inconsistent line 
ends can confuse the automatic scanning, and Emacs will present the file 
in Unix (LF) mode with the Ctrl-M characters displayed as `^M'. It does 
this to be safe, as no data loss will occur if the file is really binary 
and the Ctrl-M characters are significant.

5.6.2 CR/LF translation by file extension

The variable file-name-buffer-file-type-alist holds a list of filename 
patterns and their associated type; binary or text. Files marked as 
binary will not have line-end detection performed on them, and instead 
will always be displayed as is. With auto-detection in recent versions 
of Emacs, this is seldom useful for existing files, but can still be 
used to influence the choice of line ends for newly created files.

5.6.3 CR/LF translation by file system

The variable untranslated-filesystem-list defines whole directory trees 
that should not have CR/LF autodetection performed on them. The list can 
be manipulated with the functions add-untranslated-filesystem and 
remove-untranslated-filesystem. With auto-detection in recent versions 
of Emacs, this is seldom useful for existing files, but can still be 
used to influence the choice of line ends for newly created files.


-CHB



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From chris.melick at baronservices.com  Mon Jul 28 12:57:39 2008
From: chris.melick at baronservices.com (Chris Melick)
Date: Mon Jul 28 12:58:02 2008
Subject: [gdal-dev] FLIP image in Y
Message-ID: <001801c8f0d3$0b8a0720$229e1560$@melick@baronservices.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 4807 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080728/db079a42/attachment.jpe
From patrick.cannon at barcosoft.com  Mon Jul 28 13:04:22 2008
From: patrick.cannon at barcosoft.com (Patrick Cannon)
Date: Mon Jul 28 12:58:52 2008
Subject: [gdal-dev] Masking
Message-ID: <200807281204.22845.patrick.cannon@barcosoft.com>

Hello,

Has anyone used the GDAL mask feature?

I would like to mark part of an image as transparent.  The area is defined 
as a polygon.

I have been trying to find documentation or examples on how to use the mask 
feature but, so far no luck.

Could someone please point me in the right direction?

Many thanks for your help.

Best regards,
Patrick Cannon
Barco Software LLC
From chris.melick at baronservices.com  Mon Jul 28 12:59:01 2008
From: chris.melick at baronservices.com (Chris Melick)
Date: Mon Jul 28 12:59:22 2008
Subject: [gdal-dev] FLIP image in Y
Message-ID: <001e01c8f0d3$3bcf5bb0$b36e1310$@melick@baronservices.com>

Greetings,

 

I am having problems with images in CED projection appearing upside down in
OpenEV using netcdf/GeoTiff formats.  I see somewhere doing some searching
around that there is now a means to use a FLIP option in the Y direction.
With what utility do I accomplish this however? I'm unclear on the
specifics.  

 

Thanks,

Chris

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080728/54aa9a2e/attachment.html
From warmerdam at pobox.com  Mon Jul 28 13:26:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jul 28 13:26:56 2008
Subject: [gdal-dev] Masking
In-Reply-To: <200807281204.22845.patrick.cannon@barcosoft.com>
References: <200807281204.22845.patrick.cannon@barcosoft.com>
Message-ID: <488E0145.9050701@pobox.com>

Patrick Cannon wrote:
> Hello,
> 
> Has anyone used the GDAL mask feature?
> 
> I would like to mark part of an image as transparent.  The area is defined 
> as a polygon.
> 
> I have been trying to find documentation or examples on how to use the mask 
> feature but, so far no luck.
> 
> Could someone please point me in the right direction?

Patrick,

According to the RFC:

   http://trac.osgeo.org/gdal/wiki/rfc15_nodatabitmask

You can call CreateMaskBand() on either a GDALRasterBand or a GDALDataset,
likely passing in the flag "0" for a per-band plain validity mask.

After calling CreateMaskBand() you would presumably call GetMaskBand()
on the target base band to fetch the newly created mask band.  Then just
write to it conventionally using RasterIO().

I use some caveats because it isn't often used in this fashion.  Mostly the
masking is currently used to expose mask information already embedded in
datasets.

Let me know if you run into problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From even.rouault at mines-paris.org  Mon Jul 28 13:51:40 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Jul 28 13:51:47 2008
Subject: [gdal-dev] Motion: Commiter Status for Didier Richard
In-Reply-To: <200803032000.17414.even.rouault@mines-paris.org>
References: <200803032000.17414.even.rouault@mines-paris.org>
Message-ID: <200807281951.40852.even.rouault@mines-paris.org>

Folks,

I realize I neglected to follow up on this vote (sorry, for that delay 
Didier...). ?I declare the motion passed.

The voting was:

? ?+1: HowardB, EvenR, TamasS, FrankW, DanielM

Best regards,

Even Rouault

Le Monday 03 March 2008 20:00:17 Even Rouault, vous avez ?crit?:
> Motion: Commiter Status for Didier Richard
>
> Didier has contributed recently the new OGR Geoconcept driver, improvements
> to OSR to add new projection support and a few bug fixes/patches. He is
> also a PROJ.4 and GeoServer commiter. Having commit access will surely be
> easier for him to keep us his good work.
>
> Didier has reviewed RFC 3 on commiter responsibilities, and has agreed to
> them.
>
> Starting with a +1 from me.
>
> Best regards,
>
> Even Rouault
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From woodbri at swoodbridge.com  Mon Jul 28 16:37:03 2008
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Mon Jul 28 15:36:17 2008
Subject: [gdal-dev] Mapinfo .GST file support?
In-Reply-To: <29C3A52E0876C94C97BD6443FA96F73371B50C672A@rms03.rapidmap.local>
References: <488BD6E4.5070606@swoodbridge.com>
	<29C3A52E0876C94C97BD6443FA96F73371B50C672A@rms03.rapidmap.local>
Message-ID: <488E2DEF.5000108@swoodbridge.com>

Hi all,

Thank you Frank, Richard, and Andrew for your thoughtful responses. I 
will follow up on some of the suggestions you made and see where I can 
get with this if it goes forward. Mostly, I think it is more hassle than 
its worth for one small job.

Thanks,
-Steve
From huntc at internode.on.net  Tue Jul 29 09:26:58 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Tue Jul 29 09:26:58 2008
Subject: [gdal-dev] Guidance sought on using gdal-translate
In-Reply-To: <86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
	<487D5C8C.1000104@pobox.com>
	<86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>
Message-ID: <FB1D14A7-39F2-4B39-86C0-E125C7BE543F@internode.on.net>

Hi there,

Being new to gdal I'm hoping that someone can help me by verifying my  
gdal_translate command. Thanks in advance.

I have an aerial photo of an airport which I therefore assume is  
orthographic. Three points have been provided to me which I am  
assuming to be wgs84:

point1 = -0.49310374, 51.47858961
point2 = -0.46551585, 51.47177116
point3 = -0.43439870, 51.46490423

The x and y pixel positions appear to be as follows:

61, 115
465, 280
899, 435

I then determine the easting/northing values using proj:

 > proj +proj=ortho +datum=WGS84
 > -0.49310374 51.47858961
-34186.74	4990098.00
 > -0.46551585 51.47177116
-32278.95	4989625.23
 > -0.43439870 51.46490423
-30125.85	4989149.04
 > ^C

Given the above is this the correct command to geocode my image?

 > gdal_translate -a_srs '+proj=ortho +datum=WGS84' \
-gcp 61 115 -34186.74 4990098.00 \
-gcp 465 280 -32278.95 4989625.23 \
-gcp 899 435 -30125.85 4989149.04 \
inputfile.jpg outputfile.tif

I ask because if I subsequently warp using:

gdalwarp -t_srs '+proj=eqc +datum=WGS84' -dstalpha -multi  
outputfile.tif outputfile-eqc.tif

...then things don't look quite right... (a 1024x650 image becomes a  
2923x456 image).

Thanks again for any help.

Cheers,
-C
From dadiaztorres at gmail.com  Tue Jul 29 11:24:49 2008
From: dadiaztorres at gmail.com (Daniel Diaz)
Date: Tue Jul 29 11:24:53 2008
Subject: [gdal-dev] make install error GDAL 1.5.2
Message-ID: <b0e7be150807290824r5f61b933y2775ff326ead7797@mail.gmail.com>

I'am trying to install gdal from the trunk with mrsid option and the
make succeed, the  installation succeed but it gave me this error in
the make install
make -C mrsid install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/mrsid'
make[2]: Nothing to be done for `install-obj'.

also the gdalinfo --formats does not report any mrsid format as supported.

l# gdalinfo --version
GDAL 1.5.2, released 2008/05/29


I'am sending you the complete installation log

OS ubuntu

Thanks for your help
-------------- next part --------------
(cd port; make)
make[1]: Entering directory `/home/danieldiaz/gdal/port'
make[1]: Nothing to be done for `default'.
make[1]: Leaving directory `/home/danieldiaz/gdal/port'
(cd gcore; make)
make[1]: Entering directory `/home/danieldiaz/gdal/gcore'
make[1]: Nothing to be done for `default'.
make[1]: Leaving directory `/home/danieldiaz/gdal/gcore'
(cd alg; make)
make[1]: Entering directory `/home/danieldiaz/gdal/alg'
make[1]: Nothing to be done for `default'.
make[1]: Leaving directory `/home/danieldiaz/gdal/alg'
(cd frmts; make)
make[1]: Entering directory `/home/danieldiaz/gdal/frmts'
make -C gxf install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/gxf'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/gxf'
make -C gtiff install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/gtiff'
(cd libgeotiff; make install-obj)
make[3]: Entering directory `/home/danieldiaz/gdal/frmts/gtiff/libgeotiff'
make[3]: Nothing to be done for `install-obj'.
make[3]: Leaving directory `/home/danieldiaz/gdal/frmts/gtiff/libgeotiff'
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/gtiff'
make -C hfa install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/hfa'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/hfa'
make -C aigrid install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/aigrid'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/aigrid'
make -C aaigrid install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/aaigrid'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/aaigrid'
make -C ceos install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/ceos'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/ceos'
make -C ceos2 install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/ceos2'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/ceos2'
make -C iso8211 install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/iso8211'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/iso8211'
make -C xpm install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/xpm'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/xpm'
make -C sdts install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/sdts'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/sdts'
make -C raw install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/raw'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/raw'
make -C dted install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/dted'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/dted'
make -C mem install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/mem'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/mem'
make -C jdem install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/jdem'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/jdem'
make -C envisat install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/envisat'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/envisat'
make -C elas install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/elas'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/elas'
make -C fit install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/fit'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/fit'
make -C vrt install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/vrt'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/vrt'
make -C usgsdem install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/usgsdem'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/usgsdem'
make -C l1b install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/l1b'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/l1b'
make -C nitf install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/nitf'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/nitf'
make -C bmp install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/bmp'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/bmp'
make -C pcidsk install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/pcidsk'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/pcidsk'
make -C airsar install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/airsar'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/airsar'
make -C rs2 install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/rs2'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/rs2'
make -C ilwis install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/ilwis'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/ilwis'
make -C rmf install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/rmf'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/rmf'
make -C rik install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/rik'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/rik'
make -C leveller install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/leveller'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/leveller'
make -C sgi install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/sgi'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/sgi'
make -C srtmhgt install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/srtmhgt'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/srtmhgt'
make -C idrisi install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/idrisi'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/idrisi'
make -C gsg install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/gsg'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/gsg'
make -C ingr install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/ingr'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/ingr'
make -C ers install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/ers'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/ers'
make -C jaxapalsar install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/jaxapalsar'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/jaxapalsar'
make -C dimap install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/dimap'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/dimap'
make -C gff install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/gff'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/gff'
make -C cosar install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/cosar'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/cosar'
make -C pds install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/pds'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/pds'
make -C adrg install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/adrg'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/adrg'
make -C coasp install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/coasp'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/coasp'
make -C tsx install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/tsx'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/tsx'
make -C terragen install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/terragen'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/terragen'
make -C blx install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/blx'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/blx'
make -C msgn install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/msgn'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/msgn'
make -C wcs install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/wcs'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/wcs'
make -C wms install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/wms'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/wms'
make -C grib install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/grib'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/grib'
make -C bsb install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/bsb'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/bsb'
make -C mrsid install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/mrsid'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/mrsid'
make -C jpeg2000 install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/jpeg2000'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/jpeg2000'
make -C hdf5 install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/hdf5'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/hdf5'
make -C hdf4 install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/hdf4'
(cd hdf-eos; make install-obj)
make[3]: Entering directory `/home/danieldiaz/gdal/frmts/hdf4/hdf-eos'
make[3]: Nothing to be done for `install-obj'.
make[3]: Leaving directory `/home/danieldiaz/gdal/frmts/hdf4/hdf-eos'
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/hdf4'
make -C gif install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/gif'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/gif'
make -C jpeg install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/jpeg'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/jpeg'
make -C png install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/png'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/png'
make -C netcdf install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/netcdf'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/netcdf'
make -C pcraster install-obj
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/pcraster'
make[2]: Nothing to be done for `install-obj'.
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/pcraster'
make[1]: Leaving directory `/home/danieldiaz/gdal/frmts'
(cd ogr; make lib )
make[1]: Entering directory `/home/danieldiaz/gdal/ogr'
(cd ogrsf_frmts; make)
make[2]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts'
make -C generic
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/generic'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/generic'
make -C avc
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/avc'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/avc'
make -C bna
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/bna'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/bna'
make -C csv
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/csv'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/csv'
make -C dgn
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/dgn'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/dgn'
make -C geojson
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/geojson'
make -C jsonc
make[4]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/geojson/jsonc'
make[4]: Nothing to be done for `default'.
make[4]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/geojson/jsonc'
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/geojson'
make -C gml
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/gml'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/gml'
make -C gmt
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/gmt'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/gmt'
make -C mem
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/mem'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/mem'
make -C kml
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/kml'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/kml'
make -C mitab
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/mitab'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/mitab'
make -C ntf
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/ntf'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/ntf'
make -C gpx
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/gpx'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/gpx'
make -C rec
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/rec'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/rec'
make -C s57
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/s57'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/s57'
make -C sdts
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/sdts'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/sdts'
make -C shape
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/shape'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/shape'
make -C tiger
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/tiger'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/tiger'
make -C vrt
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/vrt'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/vrt'
make -C geoconcept
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/geoconcept'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/geoconcept'
make -C xplane
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/xplane'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/xplane'
make -C ili
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/ili'
make -C iom
make[4]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/ili/iom'
make[4]: Nothing to be done for `default'.
make[4]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/ili/iom'
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/ili'
make -C odbc
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/odbc'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/odbc'
make -C pgeo
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/pgeo'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/pgeo'
make -C pg
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/pg'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/pg'
make -C sqlite
make[3]: Entering directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/sqlite'
make[3]: Nothing to be done for `default'.
make[3]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts/sqlite'
make[2]: Leaving directory `/home/danieldiaz/gdal/ogr/ogrsf_frmts'
make[1]: Leaving directory `/home/danieldiaz/gdal/ogr'
make libgdal.la
make[1]: Entering directory `/home/danieldiaz/gdal'
make[1]: `libgdal.la' is up to date.
make[1]: Leaving directory `/home/danieldiaz/gdal'
(cd apps; make)
make[1]: Entering directory `/home/danieldiaz/gdal/apps'
make[1]: Nothing to be done for `default'.
make[1]: Leaving directory `/home/danieldiaz/gdal/apps'
/home/danieldiaz/gdal/install-sh -d /usr/local/lib
for f in libgdal.la ; do /bin/sh /home/danieldiaz/gdal/libtool --mode=install /home/danieldiaz/gdal/install-sh -c $f /usr/local/lib ; done
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/libgdal.so.1.12.0 /usr/local/lib/libgdal.so.1.12.0
libtool: install: (cd /usr/local/lib && { ln -s -f libgdal.so.1.12.0 libgdal.so.1 || { rm -f libgdal.so.1 && ln -s libgdal.so.1.12.0 libgdal.so.1; }; })
libtool: install: (cd /usr/local/lib && { ln -s -f libgdal.so.1.12.0 libgdal.so || { rm -f libgdal.so && ln -s libgdal.so.1.12.0 libgdal.so; }; })
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/libgdal.lai /usr/local/lib/libgdal.la
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/libgdal.a /usr/local/lib/libgdal.a
libtool: install: chmod 644 /usr/local/lib/libgdal.a
libtool: install: ranlib /usr/local/lib/libgdal.a
libtool: finish: PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/home/danieldiaz/fwtools/FWTools-2.0.6/bin_safe:/sbin" ldconfig -n /usr/local/lib
----------------------------------------------------------------------
Libraries have been installed in:
   /usr/local/lib

If you ever happen to want to link against installed libraries
in a given directory, LIBDIR, you must either use libtool, and
specify the full pathname of the library, or use the `-LLIBDIR'
flag during linking and do at least one of the following:
   - add LIBDIR to the `LD_LIBRARY_PATH' environment variable
     during execution
   - add LIBDIR to the `LD_RUN_PATH' environment variable
     during linking
   - use the `-Wl,-rpath -Wl,LIBDIR' linker flag
   - have your system administrator add LIBDIR to `/etc/ld.so.conf'

See any operating system documentation about shared libraries for
more information, such as the ld(1) and ld.so(8) manual pages.
----------------------------------------------------------------------
/home/danieldiaz/gdal/install-sh -d /usr/local/bin
/home/danieldiaz/gdal/install-sh -d /usr/local/share/gdal
/home/danieldiaz/gdal/install-sh -d /usr/local/include
(cd port; make install)
make[1]: Entering directory `/home/danieldiaz/gdal/port'
for f in *.h ; do /home/danieldiaz/gdal/install-sh -c -m 0644 $f /usr/local/include ; done
make[1]: Leaving directory `/home/danieldiaz/gdal/port'
(cd gcore; make install)
make[1]: Entering directory `/home/danieldiaz/gdal/gcore'
for f in *.h ; do /home/danieldiaz/gdal/install-sh -c -m 0644 $f /usr/local/include ; done
make[1]: Leaving directory `/home/danieldiaz/gdal/gcore'
(cd frmts; make install)
make[1]: Entering directory `/home/danieldiaz/gdal/frmts'
make -C vrt install
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/vrt'
/home/danieldiaz/gdal/install-sh -c -m 0644 vrtdataset.h /usr/local/include
/home/danieldiaz/gdal/install-sh -c -m 0644 gdal_vrt.h /usr/local/include
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/vrt'
make -C mem install
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/mem'
/home/danieldiaz/gdal/install-sh -c -m 0644 memdataset.h /usr/local/include
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/mem'
make -C raw install
make[2]: Entering directory `/home/danieldiaz/gdal/frmts/raw'
/home/danieldiaz/gdal/install-sh -c -m 0644 rawdataset.h /usr/local/include
make[2]: Leaving directory `/home/danieldiaz/gdal/frmts/raw'
make[1]: Leaving directory `/home/danieldiaz/gdal/frmts'
(cd alg; make install)
make[1]: Entering directory `/home/danieldiaz/gdal/alg'
for f in *.h ; do /home/danieldiaz/gdal/install-sh -c -m 0644 $f /usr/local/include ; done
make[1]: Leaving directory `/home/danieldiaz/gdal/alg'
(cd ogr; make install)
make[1]: Entering directory `/home/danieldiaz/gdal/ogr'
for f in ogr_core.h ogr_feature.h ogr_geometry.h ogr_p.h ogr_spatialref.h ogr_srs_api.h ogrsf_frmts/ogrsf_frmts.h ogr_featurestyle.h ogr_api.h ; \
	    do /home/danieldiaz/gdal/install-sh -c -m 0644 $f /usr/local/include ; \
	done
make[1]: Leaving directory `/home/danieldiaz/gdal/ogr'
(cd apps; make install)
make[1]: Entering directory `/home/danieldiaz/gdal/apps'
for f in gdalinfo gdal_translate gdaladdo gdalwarp nearblack gdalmanage gdalenhance gdaltransform gdal_contour gdaltindex gdal_rasterize gdal_grid ogrinfo ogr2ogr ogrtindex ; do /bin/sh /home/danieldiaz/gdal/libtool --mode=install /home/danieldiaz/gdal/install-sh -c $f /usr/local/bin ; done
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdalinfo /usr/local/bin/gdalinfo
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdal_translate /usr/local/bin/gdal_translate
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdaladdo /usr/local/bin/gdaladdo
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdalwarp /usr/local/bin/gdalwarp
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/nearblack /usr/local/bin/nearblack
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdalmanage /usr/local/bin/gdalmanage
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdalenhance /usr/local/bin/gdalenhance
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdaltransform /usr/local/bin/gdaltransform
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdal_contour /usr/local/bin/gdal_contour
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdaltindex /usr/local/bin/gdaltindex
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdal_rasterize /usr/local/bin/gdal_rasterize
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/gdal_grid /usr/local/bin/gdal_grid
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/ogrinfo /usr/local/bin/ogrinfo
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/ogr2ogr /usr/local/bin/ogr2ogr
libtool: install: /home/danieldiaz/gdal/install-sh -c .libs/ogrtindex /usr/local/bin/ogrtindex
/bin/sh /home/danieldiaz/gdal/libtool --mode=install /home/danieldiaz/gdal/install-sh -c gdal-config-inst /usr/local/bin/gdal-config
libtool: install: /home/danieldiaz/gdal/install-sh -c gdal-config-inst /usr/local/bin/gdal-config
make[1]: Leaving directory `/home/danieldiaz/gdal/apps'
for f in LICENSE.TXT data/*.* ; do /home/danieldiaz/gdal/install-sh -c -m 0644 $f /usr/local/share/gdal ; done
/bin/sh /home/danieldiaz/gdal/libtool --mode=finish --silent /usr/local/lib
From mateusz at loskot.net  Tue Jul 29 11:52:32 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Jul 29 11:52:40 2008
Subject: [gdal-dev] make install error GDAL 1.5.2
In-Reply-To: <b0e7be150807290824r5f61b933y2775ff326ead7797@mail.gmail.com>
References: <b0e7be150807290824r5f61b933y2775ff326ead7797@mail.gmail.com>
Message-ID: <488F3CC0.9050604@loskot.net>

Daniel Diaz wrote:
> I'am trying to install gdal from the trunk with mrsid option and the
> make succeed, the  installation succeed but it gave me this error in
> the make install
> make -C mrsid install-obj
> make[2]: Entering directory `/home/danieldiaz/gdal/frmts/mrsid'
> make[2]: Nothing to be done for `install-obj'.
> 
> also the gdalinfo --formats does not report any mrsid format as supported.
> 
> l# gdalinfo --version
> GDAL 1.5.2, released 2008/05/29

Daniel,

I see you have FWTools in your PATH.
Is it possible that you are executing gdalinfo from FWTools?

What options you exactly used with ./configure ?
What ./configure reports about MrSID stuff?

Regards
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From warmerdam at pobox.com  Tue Jul 29 13:10:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 29 13:10:36 2008
Subject: [gdal-dev] make install error GDAL 1.5.2
In-Reply-To: <b0e7be150807290824r5f61b933y2775ff326ead7797@mail.gmail.com>
References: <b0e7be150807290824r5f61b933y2775ff326ead7797@mail.gmail.com>
Message-ID: <488F4EF5.5080307@pobox.com>

Daniel Diaz wrote:
> I'am trying to install gdal from the trunk with mrsid option and the
> make succeed, the  installation succeed but it gave me this error in
> the make install
> make -C mrsid install-obj
> make[2]: Entering directory `/home/danieldiaz/gdal/frmts/mrsid'
> make[2]: Nothing to be done for `install-obj'.

Daniel,

This is not an error.   It is an informational message from make
indicating nothing needed to be done - presumably because the object
code was all up to date.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Jul 29 13:15:10 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 29 13:15:37 2008
Subject: [gdal-dev] Guidance sought on using gdal-translate
In-Reply-To: <FB1D14A7-39F2-4B39-86C0-E125C7BE543F@internode.on.net>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
	<487D5C8C.1000104@pobox.com>
	<86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>
	<FB1D14A7-39F2-4B39-86C0-E125C7BE543F@internode.on.net>
Message-ID: <488F501E.3090608@pobox.com>

Christopher Hunt wrote:
> Hi there,
> 
> Being new to gdal I'm hoping that someone can help me by verifying my 
> gdal_translate command. Thanks in advance.
> 
> I have an aerial photo of an airport which I therefore assume is 
> orthographic. Three points have been provided to me which I am assuming 
> to be wgs84:
> 
> point1 = -0.49310374, 51.47858961
> point2 = -0.46551585, 51.47177116
> point3 = -0.43439870, 51.46490423
> 
> The x and y pixel positions appear to be as follows:
> 
> 61, 115
> 465, 280
> 899, 435
> 
> I then determine the easting/northing values using proj:
> 
>  > proj +proj=ortho +datum=WGS84
>  > -0.49310374 51.47858961
> -34186.74    4990098.00
>  > -0.46551585 51.47177116
> -32278.95    4989625.23
>  > -0.43439870 51.46490423
> -30125.85    4989149.04
>  > ^C
> 
> Given the above is this the correct command to geocode my image?
> 
>  > gdal_translate -a_srs '+proj=ortho +datum=WGS84' \
> -gcp 61 115 -34186.74 4990098.00 \
> -gcp 465 280 -32278.95 4989625.23 \
> -gcp 899 435 -30125.85 4989149.04 \
> inputfile.jpg outputfile.tif
> 
> I ask because if I subsequently warp using:
> 
> gdalwarp -t_srs '+proj=eqc +datum=WGS84' -dstalpha -multi outputfile.tif 
> outputfile-eqc.tif
> 
> ...then things don't look quite right... (a 1024x650 image becomes a 
> 2923x456 image).

Chris,

Given your assumptions I believe you have done things properly.  I would
suggest you question your assumptions - particularly that the image is
in an orthographic projection and that if it is in an orthographic
projection that default lat_0 and lon_0 values are appropriate.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From stanley at fresco.sr.unh.edu  Tue Jul 29 14:41:42 2008
From: stanley at fresco.sr.unh.edu (Stanley Glidden)
Date: Tue Jul 29 14:45:21 2008
Subject: [gdal-dev] Downsampling with gdalwarp
Message-ID: <488F6466.10509@fresco.sr.unh.edu>

Hi,

Can someone tell me if anything has changed in terms of being able to
downsample using averaging with gdalwarp. I found a post from a few years
back that said the only way to accomplish this is through an option in the
virtual file driver. Is this still the case? If so what is the syntax to downsample
with the virtual file driver?

Thanks.

sjg


>From the post a few years back:

http://lists.osgeo.org/pipermail/gdal-dev/2004-March/002231.html

For the kind of downsampling you seem to want to do, I think the averaging
is
the best approach.  Unfortunately, that is not currently offered by
gdalwarp,
and because of the non-linear (in general) nature of the geometric
transformations in gdalwarp, it would be hard to implement "averaging"
appropriate.  It is however available in the overviewing building code and
as an option in the virtual file driver.  Perhaps I should have a convenient
way of downsampling images with averaging via a GDAL utility ... perhaps
gdal_translate or a custom algorithm.

From warmerdam at pobox.com  Tue Jul 29 14:54:19 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 29 14:54:43 2008
Subject: [gdal-dev] Downsampling with gdalwarp
In-Reply-To: <488F6466.10509@fresco.sr.unh.edu>
References: <488F6466.10509@fresco.sr.unh.edu>
Message-ID: <488F675B.9010606@pobox.com>

Stanley Glidden wrote:
> Hi,
> 
> Can someone tell me if anything has changed in terms of being able to
> downsample using averaging with gdalwarp. I found a post from a few years
> back that said the only way to accomplish this is through an option in the
> virtual file driver. Is this still the case? If so what is the syntax to 
> downsample
> with the virtual file driver?

Stanley,

I'm not exactly sure how averaging would be accomplished with the
VRT driver, though I think it would be possible.

However, I recently (in trunk) exposed the overview generation function
for direct use from the swig bindings.  This means that generating an
average downsampled image could be accomplished like this in python:

import gdal

srcfile = gdal.Open('utm.tif')

dstfile1 = gdal.GetDriverByName('GTiff').Create('avg1.tif', 200, 100, 1,
                                                gdal.GDT_Byte )
dstfile2 = gdal.GetDriverByName('GTiff').Create('avg2.tif', 100, 50, 1,
                                                gdal.GDT_Byte )

gdal.RegenerateOverview( srcfile.GetRasterBand(1),
                          [dstfile1.GetRasterBand(1),
                           dstfile2.GetRasterBand(1)],
                          'average' )

Perhaps that would be the easiest approach.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mike.nidel at lmco.com  Tue Jul 29 15:57:37 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Tue Jul 29 15:58:06 2008
Subject: [gdal-dev] Swig Java bindings GDAL 1.5 Windows
Message-ID: <E4692D1DCAD27245866154AF9CE126B10F0CEA94@emss04m02.us.lmco.com>

I'm building GDAL 1.5 (from the branch) on both Linux and Windows. I
noticed a difference in the way swig is invoked between the GNUMakefile
and the makefile.vc. The result is java code that's slightly different
at first glance but vastly different when you run it (it leads to a
hotspot crash). I traced the problem to the "-nopgcpp" argument -- this
causes the signatures of the generated Java functions to change. The
flag is present in the linux build but not in the makefile.vc for the
windows build.

So in my own build I'm adding -nopgcpp to GDAL/swig/makefile.vc for each
of the java packages, but I wanted to see if, first of all, this makes
sense, and second of all, perhaps someone else might want to know about
this and make the same change in the baseline.

regards,

Mike
From warmerdam at pobox.com  Tue Jul 29 16:39:38 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 29 16:40:12 2008
Subject: [gdal-dev] Swig Java bindings GDAL 1.5 Windows
In-Reply-To: <E4692D1DCAD27245866154AF9CE126B10F0CEA94@emss04m02.us.lmco.com>
References: <E4692D1DCAD27245866154AF9CE126B10F0CEA94@emss04m02.us.lmco.com>
Message-ID: <488F800A.6060009@pobox.com>

Nidel, Mike wrote:
> I'm building GDAL 1.5 (from the branch) on both Linux and Windows. I
> noticed a difference in the way swig is invoked between the GNUMakefile
> and the makefile.vc. The result is java code that's slightly different
> at first glance but vastly different when you run it (it leads to a
> hotspot crash). I traced the problem to the "-nopgcpp" argument -- this
> causes the signatures of the generated Java functions to change. The
> flag is present in the linux build but not in the makefile.vc for the
> windows build.
> 
> So in my own build I'm adding -nopgcpp to GDAL/swig/makefile.vc for each
> of the java packages, but I wanted to see if, first of all, this makes
> sense, and second of all, perhaps someone else might want to know about
> this and make the same change in the baseline.

Mike,

I fought with this a few months ago and ended up commiting:

   http://trac.osgeo.org/gdal/changeset/14323

Unfortunately, it appears I didn't write up anything in the wiki or a ticket
about the issue so now I can't recall all the details.  But basically, yes,
it seems like it is necessary for the bindings to be generated with -nopgcpp
and this really ought to be in the makefiles used to run swig.

Perhaps you could file a ticket on the issue with your findings, and a pointer
to r14323 suggesting the needed additional changes.

I have a vague recollection this issue may have related to specific versions
of swig.

PS. you may also want to contribute to one or both of:

   http://trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructions
   http://trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructionsUnix

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From huntc at internode.on.net  Tue Jul 29 17:56:45 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Tue Jul 29 17:55:25 2008
Subject: [gdal-dev] Guidance sought on using gdal-translate
In-Reply-To: <488F501E.3090608@pobox.com>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
	<487D5C8C.1000104@pobox.com>
	<86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>
	<FB1D14A7-39F2-4B39-86C0-E125C7BE543F@internode.on.net>
	<488F501E.3090608@pobox.com>
Message-ID: <6FD022B3-B5AE-4D1C-9599-2FFA27BB2980@internode.on.net>

Hi Frank,

Thanks for the reply and for the confirmation that I'm on the right  
track.

Dumb newbie question: wouldn't most aerial photos taken, say, from  
12,000ft be ortho in their projection?

Cheers,
-C

From warmerdam at pobox.com  Tue Jul 29 19:07:11 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jul 29 19:07:25 2008
Subject: [gdal-dev] Guidance sought on using gdal-translate
In-Reply-To: <6FD022B3-B5AE-4D1C-9599-2FFA27BB2980@internode.on.net>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
	<487D5C8C.1000104@pobox.com>
	<86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>
	<FB1D14A7-39F2-4B39-86C0-E125C7BE543F@internode.on.net>
	<488F501E.3090608@pobox.com>
	<6FD022B3-B5AE-4D1C-9599-2FFA27BB2980@internode.on.net>
Message-ID: <488FA29F.10501@pobox.com>

Christopher Hunt wrote:
> Hi Frank,
> 
> Thanks for the reply and for the confirmation that I'm on the right track.
> 
> Dumb newbie question: wouldn't most aerial photos taken, say, from 
> 12,000ft be ortho in their projection?

Christopher,

I don't think that is a good assumption at all.  And if you were going to
go with that assumption it seems to me you would want the projection center
to be in the photo center.

But then, I'm in the habit of treating projections as black boxes, and I
seldom try to physically interprete their characteristics.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From huntc at internode.on.net  Wed Jul 30 03:38:18 2008
From: huntc at internode.on.net (Christopher Hunt)
Date: Wed Jul 30 03:38:22 2008
Subject: [gdal-dev] Guidance sought on using gdal-translate
In-Reply-To: <488FA29F.10501@pobox.com>
References: <E268F017-2CDB-4968-A908-63280DA3C4A7@internode.on.net>
	<487D3C22.3070501@pobox.com>
	<7890CB5F-AAF1-4ADF-8EB6-3368B105855B@internode.on.net>
	<487D5C8C.1000104@pobox.com>
	<86A4D80B-9ED4-406F-8293-5BE9E7181CAB@internode.on.net>
	<FB1D14A7-39F2-4B39-86C0-E125C7BE543F@internode.on.net>
	<488F501E.3090608@pobox.com>
	<6FD022B3-B5AE-4D1C-9599-2FFA27BB2980@internode.on.net>
	<488FA29F.10501@pobox.com>
Message-ID: <DB0F35D0-8235-4512-850C-0F6D8063B920@internode.on.net>

On 30/07/2008, at 9:07 AM, Frank Warmerdam wrote:

> Christopher Hunt wrote:
>> Hi Frank,
>> Thanks for the reply and for the confirmation that I'm on the right  
>> track.
>> Dumb newbie question: wouldn't most aerial photos taken, say, from  
>> 12,000ft be ortho in their projection?
>
> Christopher,
>
> I don't think that is a good assumption at all.  And if you were  
> going to
> go with that assumption it seems to me you would want the projection  
> center
> to be in the photo center.
Ah yes, so if the projection centre were approximately 51.47177116,  
-0.46551585 then:

 > proj +proj=ortho +datum=WGS84 +lat_0=51.47177116 +lon_0=-0.46551585
 > -0.49310374 51.47858961
-1912.68	759.39
 > -0.46551585 51.47177116
0.00	0.00
 > -0.43439870 51.46490423
2158.02	-763.96
 > ^C

...to get my eastings and northings and then:

gdal_translate -a_srs '+proj=ortho +datum=WGS84 +lat_0=51.47177116  
+lon_0=-0.46551585' \
   -gcp 61 115 -1912.68 759.39 \
   -gcp 465 280 0.00 0.00 \
   -gcp 899 435 2158.02 -763.96 \
   infile outfile

i.e. the +lat_0 and +lon_0 centres the projection right?

Unfortunately the above still doesn't yield the result I'm expecting.

> But then, I'm in the habit of treating projections as black boxes,  
> and I
> seldom try to physically interprete their characteristics.
Understood. Unfortunately I don't have a great deal of projection  
information for the image that I have.

Thanks for any further guidance.

Cheers,
-C
From mike.nidel at lmco.com  Wed Jul 30 09:20:20 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Wed Jul 30 09:20:52 2008
Subject: [gdal-dev] linking MrSID with GDAL
Message-ID: <E4692D1DCAD27245866154AF9CE126B10F0CF042@emss04m02.us.lmco.com>

Is there an option to use to statically link the MrSID GeoDSDK into the
gdal.dll/libgdal.so? Actually this seems to happen automatically on
Linux with libgdal.so, but not with the windows build. I'm not familiar
enough with the Microsoft compiler/linker to know how to do this but if
there's already an option in one of the config files that would be
great.

thanks,

Mike
From timmichelsen at gmx-topmail.de  Wed Jul 30 10:31:46 2008
From: timmichelsen at gmx-topmail.de (Tim Michelsen)
Date: Wed Jul 30 10:31:58 2008
Subject: [gdal-dev] feature proposal: ogr_merge
Message-ID: <loom.20080730T142642-217@post.gmane.org>

Hello,
I would like to ask whether it is possible to include a program to merge vector
files just like gdal_merge.py

Please see a related discussion on the GRASS user list:
Re: import a folder full of shapefiles and reproject on-the-fly?
http://thread.gmane.org/gmane.comp.gis.grass.user/24911/focus=24936

There, users discussed the import of a folder with shapefiles into grass for
generating a mosaik. I think this could be of use for many users.

A sample script that works:
http://thread.gmane.org/gmane.comp.gis.grass.user/24911/focus=24936

It would be nice if this could get included into the GDAL/OGR distribution.

Thanks & kind regards,
Timmie

P.S.: I would have created a bugreport for this. But my OSGEO doesn't allow to
enter a new bug.

From warmerdam at pobox.com  Wed Jul 30 10:35:35 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jul 30 10:36:01 2008
Subject: [gdal-dev] linking MrSID with GDAL
In-Reply-To: <E4692D1DCAD27245866154AF9CE126B10F0CF042@emss04m02.us.lmco.com>
References: <E4692D1DCAD27245866154AF9CE126B10F0CF042@emss04m02.us.lmco.com>
Message-ID: <48907C37.1030104@pobox.com>

Nidel, Mike wrote:
> Is there an option to use to statically link the MrSID GeoDSDK into the
> gdal.dll/libgdal.so? Actually this seems to happen automatically on
> Linux with libgdal.so, but not with the windows build. I'm not familiar
> enough with the Microsoft compiler/linker to know how to do this but if
> there's already an option in one of the config files that would be
> great.

Mike,

In the MrSID DSDK 6 for windows I see a lib/Release/lti_dsdk.lib file which
is presumably the static library.  You can modify the MRSID_LIB macro in
nmake.opt to use this library instead of the dll stub library.

There may be a similar choice on linux, but you would likely have to manually
edit the GDALmake.opt to use the library you want.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From lran at unc.edu  Wed Jul 30 14:03:18 2008
From: lran at unc.edu (Limei Ran)
Date: Wed Jul 30 14:24:06 2008
Subject: [gdal-dev] GDAL in 64bits Linux environment
Message-ID: <4890ACE6.7030106@unc.edu>

Hi:

I am having some errors in compiling GDAL on our new 64bits Linux 
server.  Could you tell me whether gdal1.5.2 has been tested on 64bit 
Linux or what I need to change in the configure file?

Thanks,

Limei

From even.rouault at mines-paris.org  Wed Jul 30 14:31:43 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jul 30 14:31:52 2008
Subject: [gdal-dev] GDAL in 64bits Linux environment
In-Reply-To: <4890ACE6.7030106@unc.edu>
References: <4890ACE6.7030106@unc.edu>
Message-ID: <200807302031.44357.even.rouault@mines-paris.org>

Limei,

I believe some of the core developers use 64bit Linux as their daily work 
environment, so it is certainly not a fundamental problem. However, you must 
be more specific of the problem you have and include traces of the result of 
the compilation, dependencies installed etc etc

Le Wednesday 30 July 2008 20:03:18 Limei Ran, vous avez ?crit?:
> Hi:
>
> I am having some errors in compiling GDAL on our new 64bits Linux
> server.  Could you tell me whether gdal1.5.2 has been tested on 64bit
> Linux or what I need to change in the configure file?
>
> Thanks,
>
> Limei
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From lran at unc.edu  Wed Jul 30 14:52:52 2008
From: lran at unc.edu (Limei Ran)
Date: Wed Jul 30 14:53:02 2008
Subject: [gdal-dev] GDAL in 64bits Linux environment
In-Reply-To: <E4692D1DCAD27245866154AF9CE126B10F0CF73E@emss04m02.us.lmco.com>
References: <4890ACE6.7030106@unc.edu>
	<E4692D1DCAD27245866154AF9CE126B10F0CF73E@emss04m02.us.lmco.com>
Message-ID: <4890B884.5060201@unc.edu>

Hi Mike:

Thanks for your reply and the following is my error:
================================
libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
libtool: link: g++ -shared -nostdlib 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crti.o 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtbeginS.o 
.libs/libgdal.la.lnkscript  -Wl,-rpath 
-Wl,/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/local/lib 
-Wl,-rpath 
-Wl,/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/local/lib 
-L/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/local/lib 
/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/local/lib/libproj.so 
-lsqlite3 -L/usr/lib /usr/lib/libexpat.so -lgif -ljpeg -ltiff -lpng -lz 
-lrt -ldl -L/usr/lib/gcc/x86_64-redhat-linux/4.1.2 
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64 
-L/lib/../lib64 -L/usr/lib/../lib64 -lstdc++ -lm -lc -lgcc_s 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtendS.o 
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crtn.o      
-Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.12.2
/usr/lib/libexpat.so: could not read symbols: File in wrong format
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory 
`/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/gdal-1.5.2'
make: *** [check-lib] Error 2
====================================

In the old 32bits environment, it worked fine.

Thanks,

Limei

Nidel, Mike wrote:

>I've gotten it to work using the 1.5 branch. I didn't have to do
>anything specific to 64-bit
>as far as I know. What are your errors?
>
>Mike
>
>  
>
>>-----Original Message-----
>>From: gdal-dev-bounces@lists.osgeo.org 
>>[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Limei Ran
>>Sent: Wednesday, July 30, 2008 2:03 PM
>>To: gdal-dev@lists.osgeo.org
>>Subject: [gdal-dev] GDAL in 64bits Linux environment
>>
>>Hi:
>>
>>I am having some errors in compiling GDAL on our new 64bits 
>>Linux server.  Could you tell me whether gdal1.5.2 has been 
>>tested on 64bit Linux or what I need to change in the configure file?
>>
>>Thanks,
>>
>>Limei
>>
>>_______________________________________________
>>gdal-dev mailing list
>>gdal-dev@lists.osgeo.org
>>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>    
>>

From even.rouault at mines-paris.org  Wed Jul 30 14:58:30 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jul 30 14:58:34 2008
Subject: [gdal-dev] GDAL in 64bits Linux environment
In-Reply-To: <4890B884.5060201@unc.edu>
References: <4890ACE6.7030106@unc.edu>
	<E4692D1DCAD27245866154AF9CE126B10F0CF73E@emss04m02.us.lmco.com>
	<4890B884.5060201@unc.edu>
Message-ID: <200807302058.30917.even.rouault@mines-paris.org>

Well, clearly the problem is /usr/lib/libexpat.so that must be 32 bit on your 
distro. It should fetch /usr/lib64/libexpat.so instead. I think someone 
reported similar problem not so long ago on the mailing list. You should 
fetch the archives to see if there was a solution.
Otherwise you can try to patch GDALmake.opt generated by configure to correct 
this, or compile without expat if you don't need KML and GPX read support.

Le Wednesday 30 July 2008 20:52:52 Limei Ran, vous avez ?crit?:
> Hi Mike:
>
> Thanks for your reply and the following is my error:
> ================================
> libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
> libtool: link: g++ -shared -nostdlib
> /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crti.o
> /usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtbeginS.o
> .libs/libgdal.la.lnkscript  -Wl,-rpath
> -Wl,/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/lo
>cal/lib -Wl,-rpath
> -Wl,/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/lo
>cal/lib
> -L/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/loca
>l/lib
> /nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/proj-4.6.0/local/
>lib/libproj.so -lsqlite3 -L/usr/lib /usr/lib/libexpat.so -lgif -ljpeg -ltiff
> -lpng -lz -lrt -ldl -L/usr/lib/gcc/x86_64-redhat-linux/4.1.2
> -L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64
> -L/lib/../lib64 -L/usr/lib/../lib64 -lstdc++ -lm -lc -lgcc_s
> /usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtendS.o
> /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crtn.o
> -Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.12.2
> /usr/lib/libexpat.so: could not read symbols: File in wrong format
> collect2: ld returned 1 exit status
> make[1]: *** [libgdal.la] Error 1
> make[1]: Leaving directory
> `/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/gdal-1.5.2'
> make: *** [check-lib] Error 2
> ====================================
>
> In the old 32bits environment, it worked fine.
>
> Thanks,
>
> Limei
>
> Nidel, Mike wrote:
> >I've gotten it to work using the 1.5 branch. I didn't have to do
> >anything specific to 64-bit
> >as far as I know. What are your errors?
> >
> >Mike
> >
> >>-----Original Message-----
> >>From: gdal-dev-bounces@lists.osgeo.org
> >>[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Limei Ran
> >>Sent: Wednesday, July 30, 2008 2:03 PM
> >>To: gdal-dev@lists.osgeo.org
> >>Subject: [gdal-dev] GDAL in 64bits Linux environment
> >>
> >>Hi:
> >>
> >>I am having some errors in compiling GDAL on our new 64bits
> >>Linux server.  Could you tell me whether gdal1.5.2 has been
> >>tested on 64bit Linux or what I need to change in the configure file?
> >>
> >>Thanks,
> >>
> >>Limei
> >>
> >>_______________________________________________
> >>gdal-dev mailing list
> >>gdal-dev@lists.osgeo.org
> >>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From mike.nidel at lmco.com  Wed Jul 30 15:06:10 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Wed Jul 30 15:31:03 2008
Subject: [gdal-dev] GDAL in 64bits Linux environment
In-Reply-To: <200807302058.30917.even.rouault@mines-paris.org>
References: <4890ACE6.7030106@unc.edu>
	<E4692D1DCAD27245866154AF9CE126B10F0CF73E@emss04m02.us.lmco.com>
	<4890B884.5060201@unc.edu>
	<200807302058.30917.even.rouault@mines-paris.org>
Message-ID: <E4692D1DCAD27245866154AF9CE126B10F0CF84A@emss04m02.us.lmco.com>

You're right, I didn't read carefully enough.
I had a problem with not finding libjpeg.la so i disabled
libtool and it solved the problem. Now whenever I see
"libXYZ.la" that's what I always think of. Flashbacks,
I suppose. :)

> -----Original Message-----
> From: Even Rouault [mailto:even.rouault@mines-paris.org] 
> Sent: Wednesday, July 30, 2008 2:59 PM
> To: gdal-dev@lists.osgeo.org
> Cc: Limei Ran; Nidel, Mike
> Subject: Re: [gdal-dev] GDAL in 64bits Linux environment
> 
> Well, clearly the problem is /usr/lib/libexpat.so that must 
> be 32 bit on your distro. It should fetch 
> /usr/lib64/libexpat.so instead. I think someone reported 
> similar problem not so long ago on the mailing list. You 
> should fetch the archives to see if there was a solution.
> Otherwise you can try to patch GDALmake.opt generated by 
> configure to correct this, or compile without expat if you 
> don't need KML and GPX read support.
> 
> Le Wednesday 30 July 2008 20:52:52 Limei Ran, vous avez ?crit?:
> > Hi Mike:
> >
> > Thanks for your reply and the following is my error:
> > ================================
> > libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
> > libtool: link: g++ -shared -nostdlib
> > /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crti.o
> > /usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtbeginS.o
> > .libs/libgdal.la.lnkscript  -Wl,-rpath  
> >-Wl,/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs
> /proj-4.6.
> >0/lo
> >cal/lib -Wl,-rpath
> > 
> >-Wl,/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs
> /proj-4.6.
> >0/lo
> >cal/lib
> > 
> >-L/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/p
> roj-4.6.0/
> >loca
> >l/lib
> > 
> >/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/pro
> j-4.6.0/lo
> >cal/ lib/libproj.so -lsqlite3 -L/usr/lib /usr/lib/libexpat.so -lgif 
> >-ljpeg -ltiff  -lpng -lz -lrt -ldl 
> >-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2
> > -L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64
> > -L/lib/../lib64 -L/usr/lib/../lib64 -lstdc++ -lm -lc -lgcc_s  
> >/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtendS.o
> > /usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crtn.o
> > -Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.12.2
> > /usr/lib/libexpat.so: could not read symbols: File in wrong format
> > collect2: ld returned 1 exit status
> > make[1]: *** [libgdal.la] Error 1
> > make[1]: Leaving directory
> > 
> `/nas/uncch/depts/cep/emc/lran/mims/mimssp_8_2008/src/libs/gdal-1.5.2'
> > make: *** [check-lib] Error 2
> > ====================================
> >
> > In the old 32bits environment, it worked fine.
> >
> > Thanks,
> >
> > Limei
> >
> > Nidel, Mike wrote:
> > >I've gotten it to work using the 1.5 branch. I didn't have to do 
> > >anything specific to 64-bit as far as I know. What are your errors?
> > >
> > >Mike
> > >
> > >>-----Original Message-----
> > >>From: gdal-dev-bounces@lists.osgeo.org 
> > >>[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Limei Ran
> > >>Sent: Wednesday, July 30, 2008 2:03 PM
> > >>To: gdal-dev@lists.osgeo.org
> > >>Subject: [gdal-dev] GDAL in 64bits Linux environment
> > >>
> > >>Hi:
> > >>
> > >>I am having some errors in compiling GDAL on our new 64bits Linux 
> > >>server.  Could you tell me whether gdal1.5.2 has been tested on 
> > >>64bit Linux or what I need to change in the configure file?
> > >>
> > >>Thanks,
> > >>
> > >>Limei
> > >>
> > >>_______________________________________________
> > >>gdal-dev mailing list
> > >>gdal-dev@lists.osgeo.org
> > >>http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
From tutey at o2.pl  Wed Jul 30 18:01:56 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Jul 30 18:00:21 2008
Subject: [gdal-dev] could GDAL enforce towgs84=0,0,0 for ETRS89-based CRSs?
Message-ID: <4890E4D4.2040208@o2.pl>

Hi,

Due to a change in PROJ 4.6.0, no datum shift is aplied when
reprojecting between a CRS which has an implicit datum definition (e.g.
Pulkovo 1942/58-based EPSG 4179, for which GDAL uses
towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84) and an ETRS89-based
CRS, e.g. EPSG 2180, that has no implicit towgs84 or datum.

The above results in reprojection errors of about 150 m and makes using
EPSG codes for ETRS89-based CRS impossible. Could PROJ.4 and GDAL
enforce towgs84=0,0,0 for all ETRS89 CRSs that have no implicit datum
definition otherwise?

For instance, GRASS always forces towgs84=0,0,0 for EPSG 2180 and does
the reprojection right.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From daniele.romagnoli at geo-solutions.it  Thu Jul 31 12:52:04 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Thu Jul 31 12:52:05 2008
Subject: [gdal-dev] Question about GDAL 1.4.5 release date
Message-ID: <7221db410807310952u310076deu92b7f3d5d2e39ef7@mail.gmail.com>

Hi list,
we are thinking about tagging a version of our ImageIO-Ext project (actually
based on GDAL 1.4.4).
In such a context I would like to know if a date for the release #1.4.5 has
already been estimated.
And what about GDAL 1.5.3?

Thank you very much.

Best Regards,
Daniele Romagnoli

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080731/5fa33398/attachment.html
From rsoconnor at gmail.com  Thu Jul 31 13:25:14 2008
From: rsoconnor at gmail.com (Rory O'Connor)
Date: Thu Jul 31 13:25:16 2008
Subject: [gdal-dev] gdaladdo and huge files
Message-ID: <f549a78e0807311025y18b91dfah892cde04c78a84f2@mail.gmail.com>

Hello,

gdaladdo is having issues with an ENVI file that is 45 GBytes big. I run the
command:

gdaladdo bigfile 2 4 8 16 32 64 128 256 512 1024

The following error message is produced:
ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded

Is gdaladdo supposed to work with files this big? BIGTIFF should be enabled.

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080731/35ff3bb1/attachment.html
From mitchelljj98 at gmail.com  Thu Jul 31 13:39:23 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Thu Jul 31 13:39:27 2008
Subject: [gdal-dev] How can I generate an empty geotiff based on the extent
	of the shape file?
Message-ID: <fa2ac0580807311039g57e2143dj78ea1d6f0dcbb2de@mail.gmail.com>

The output for gdal_rasterize has to be an existing geotiff.  If I don't
have an existing geotiff for the associated area how can I generate an empty
geotiff based on the extent of the shape file that I will be using as the
source for gdal_rasterize?

Thanks,

-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080731/5061291f/attachment.html
From blake at hailmail.net  Thu Jul 31 15:11:28 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Thu Jul 31 15:11:24 2008
Subject: [gdal-dev] How can I generate an empty geotiff based on the
	extent of the shape file?
In-Reply-To: <fa2ac0580807311039g57e2143dj78ea1d6f0dcbb2de@mail.gmail.com>
References: <fa2ac0580807311039g57e2143dj78ea1d6f0dcbb2de@mail.gmail.com>
Message-ID: <10FD6A2C-04ED-4861-9D18-01DE6BF9C02E@hailmail.net>

Hi John,

If you can't use use gdal_translate to flatten an existing raster you  
can try creating one from scratch using one of the supported language  
bindings.

The python bindings work particularly well for this since you can hook  
into numpy.

See: http://trac.osgeo.org/gdal/wiki/FAQRaster#HowcanIcreateablankrasterbasedonavectorfilesextentsforusewithgdal_rasterize

Cheers,

Dane


On Jul 31, 2008, at 10:39 AM, John Mitchell wrote:

> The output for gdal_rasterize has to be an existing geotiff.  If I  
> don't have an existing geotiff for the associated area how can I  
> generate an empty geotiff based on the extent of the shape file that  
> I will be using as the source for gdal_rasterize?
>
> Thanks,
>
> -- 
> John J. Mitchell
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nikos.alexandris at felis.uni-freiburg.de  Thu Jul 31 18:05:12 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Thu Jul 31 18:05:14 2008
Subject: [gdal-dev] Using GIMPs Fuzzy Select tool on orthophotos (geotiff)
Message-ID: <1217541912.14976.12.camel@vertical>

Apologies for cross-posting.

Can someone tell me why I should NOT use GIMPs "Fuzzy Select" tool to
select various "features" from an image (e.g. orthophoto), save
selection in a new file, add geo-metadata from the original image [1]
and continue my work in GRASS? It works so nice!

?Could a tool like that implemented in GRASS to assist image
interpretation for example?

Thank you, Nikos

From nikos.alexandris at felis.uni-freiburg.de  Thu Jul 31 18:15:01 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Thu Jul 31 18:15:03 2008
Subject: [gdal-dev] Tiled vs Stripped TIFs,
	how many overviews and why (wirh gdaladdo)?
Message-ID: <1217542501.14976.18.camel@vertical>

There has been a lot of discussion lately about using
gdal_translate/gdalwarp with or without the "-co TILED=YES" option,
about overviews and more. How can I determine what is best for my 300
photos? I want faster loading and as less disk usage as possible... what
everybody wants :-)

1. What is the purpose of TILED images? And what of stripped? What and
when is best?

2. If overviews make zooming (panning?) faster, how many overviews
should I add? Why only "gdaladdo -r neatest some.tif 2 4 6 8 16" and not
"[...] 2 4 6 8 16 32 64 256"

Should all those be tested and empirically decide what is fast/small
enough?

Thank you, Nikos

From greenberg at ucdavis.edu  Thu Jul 31 18:51:30 2008
From: greenberg at ucdavis.edu (Jonathan Greenberg)
Date: Thu Jul 31 18:59:45 2008
Subject: [gdal-dev] Re: [GRASS-user] Using GIMPs Fuzzy Select tool on
	orthophotos (geotiff)
In-Reply-To: <1217541912.14976.12.camel@vertical>
References: <1217541912.14976.12.camel@vertical>
Message-ID: <489241F2.3080407@ucdavis.edu>

Nikos:

    Have you checked out any of the new minirasterstrip features in 
starspan yet?  It takes vector data (any format that OGR supports), 
extracts a window (user defined size) around the vector out of a set of 
rasters (anything that GDAL supports), compiles it into a single image, 
and references the original vector data with the new compilation image.

    http://starspan.casil.ucdavis.edu

    Note: there is a small bug that will be fixed soon with the 
referenced vector -- once you get the minirasterstrip raster made, 
you'll need to re-define the raster projection to "arbitrary" with the 
original pixel size to get the associated vector lined up properly.

--j

P.S. Windows binaries (including an installer) and a java gui are now 
part of starspan!  Enjoy!



Nikos Alexandris wrote:
> Apologies for cross-posting.
>
> Can someone tell me why I should NOT use GIMPs "Fuzzy Select" tool to
> select various "features" from an image (e.g. orthophoto), save
> selection in a new file, add geo-metadata from the original image [1]
> and continue my work in GRASS? It works so nice!
>
> ?Could a tool like that implemented in GRASS to assist image
> interpretation for example?
>
> Thank you, Nikos
>
> _______________________________________________
> grass-user mailing list
> grass-user@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/grass-user
>
>   

-- 
Jonathan A. Greenberg, PhD
Postdoctoral Scholar
Center for Spatial Technologies and Remote Sensing (CSTARS)
University of California, Davis
One Shields Avenue
The Barn, Room 250N
Davis, CA 95616
Cell: 415-794-5043
AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307

From 27949218 at qq.com  Thu Jul 31 23:21:04 2008
From: 27949218 at qq.com (=?ISO-8859-1?B?d293?=)
Date: Thu Jul 31 23:21:11 2008
Subject: [gdal-dev] Update existing shape file
Message-ID: <tencent_76B899EF78F4C6202FE9B61F@qq.com>

Hi,
   I wanna set new field value to an existing shape file which has been opened with update access, but it doesn't work, my code like this:
  
   OGRFeature* pFeature = pLayer->GetFeature(2); 
  int nIdx = pFeature->GetFieldIndex("Name");
 pFeature->UnsetField(nIdx);
 pFeature->SetField( "Name", "hanJ reiver" );
  
   Anyone give me some advices? 
 ------------------
  To the world you're little, but to a person you're the world.
                                             Chen Xuexia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080801/c49f0783/attachment.html
