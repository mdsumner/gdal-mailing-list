From andreas at theosys.at  Sun Jun  1 07:29:07 2008
From: andreas at theosys.at (Andreas Theofilu)
Date: Sun Jun  1 07:30:14 2008
Subject: [gdal-dev] Converting between datum
Message-ID: <200806011329.07450.andreas@theosys.at>

Hi to all,

I'm developing a software where I'm reading GPS coordinates out of a Garmin 
device and show a track on the screen (look at 
http://www.theosys/sportwatcher for the software). I use GDAL to get a map 
over WMS to display it underneath the track. This works well as long as the 
map uses WGS84 (or EPSG:4326), like the Garmin device does.

But I use the WMS server http://www.geoland.at/ who is able to accept 
coordinates in EPSG:4326 and EPSG:31287 format. Both works, bit using 
EPSG:4326 results in a map sifted a little to the left and bottom compared to 
the coordinates of the Garmin device (does not happen with other WMS servers 
like http://onearth.jpl.nasa.gov). Therefore I tried to convert to 
EPSG:31287. With the following code snippet, I convert the coordinates of the 
wanted rectangular:

        oSourceSRS.SetWellKnownGeogCS ("WGS84");
        oTargetSRS.importFromEPSG(31287);
        poCT = OGRCreateCoordinateTransformation (&oSourceSRS, &oTargetSRS);

This works and I get a result consisting of several tiles each 256x256 pixels, 
but the map parts on the tiles are rotated a little to the right, compared to 
the track (the used WMS file is attached). GDAL seems to try to compensate 
this and shows the tiles are shifted accordingly. This means, that some part 
of the tiles is shown twice. Short: It looks ugly and wrong.

If I do no conversion, the result is not rotated and looks correct, but my 
track is a little bit shifted to the right and top. But the angle is correct.

What I'm doing wrong? Is it the WMS server who gives me a wrong result or is 
there something else I should do to shift my track to the right place? 
Because I understand only the very most basics, I'm lost.

-- 
Andreas Theofilu
TheoSys - Software Systems and Solutions
http://www.theosys.at
Tel.: +43 676 / 786 53 89
-------------- next part --------------
<GDAL_WMS>
   <Service name="WMS">
      <Version>1.1.1</Version>
      <ServerURL>http://www.geoland.at/geolandWMS/service.aspx?</serverURL>
      <SRS>EPSG:31287</SRS>
      <CRS>CRS:84</CRS>
      <ImageFormat>image/png</ImageFormat>
      <Layers>Flug_Orthofoto,Landesgrenzen,Bezirke,Gemeinden,Radwanderrouten,Autobahn,Landesstr_B,Landesstr_L,Orientierungskarte,Geonamen</Layers>
      <BBoxOrder>xyXY</BBoxOrder>
   </Service>
   <DataWindow>
      <UpperLeftX>617411.848069</UpperLeftX>
      <UpperLeftY>481866.732917</UpperLeftY>
      <LowerRightX>625999.900655</LowerRightX>
      <LowerRightY>480111.024886</LowerRightY>
      <SizeX>916</SizeX>
      <SizeY>150</SizeY>
   </DataWindow>
   <Projection>EPSG:4326</Projection>
   <BandsCount>4</BandsCount>
   <BlockSizeX>256</BlockSizeX>
   <BlockSizeY>256</BlockSizeY>
   <OverviewCount>10</OverviewCount>
   <Cache>
      <Path>/home/andreas/.gdalwmscache</Path>
      <Depth>2</Depth>
      <Extension>.png</Extension>
   </Cache>
   <OfflineMode>false</OfflineMode>
   <AdviseRead>false</AdviseRead>
   <VerifyAdviseRead>true</VerifyAdviseRead>
</GDAL_WMS>
From warmerdam at pobox.com  Sun Jun  1 08:01:53 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jun  1 08:02:14 2008
Subject: [gdal-dev] Converting between datum
In-Reply-To: <200806011329.07450.andreas@theosys.at>
References: <200806011329.07450.andreas@theosys.at>
Message-ID: <48428FB1.9010509@pobox.com>

Andreas Theofilu wrote:
> What I'm doing wrong? Is it the WMS server who gives me a wrong result or is 
> there something else I should do to shift my track to the right place? 
> Because I understand only the very most basics, I'm lost.

Andreas,

I tried the file, and saw the effect you were seeing (just a simple
gdal_translate track.wms out.tif shows the effect).

I noticed that the .wms file definition was such that non-square
pixels were being requested from the server.  I tried changing this to
use square pixels (by adjusting the extents) and things then seemed
to work fine.  I examined the actual http requests being made, and as
far as I can see GDAL was requesting the tiles properly in the non-square
pixel case, so I'm guessing the server doesn't handle non-square pixels
properly even though it is expected under the WMS specification.  This was
a problem with MapServer's WMS implementation for a few years for instance.

So, try changing your DataWindow definition to:

    <DataWindow>
       <UpperLeftX>617400</UpperLeftX>
       <UpperLeftY>481865</UpperLeftY>
       <LowerRightX>626560</LowerRightX>
       <LowerRightY>480365</LowerRightY>
       <SizeX>916</SizeX>
       <SizeY>150</SizeY>
    </DataWindow>

BTW, I don't think it is meaningful for you to have <SRS> set to
EPSG:31287 and <CRS> set to EPSG:4326 in your WMS file.  This does not
appear to cause any sort of reprojection, so you should really have
both of these set the same (to EPSG:31287).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jluis at ualg.pt  Sun Jun  1 12:46:31 2008
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Sun Jun  1 12:46:34 2008
Subject: [gdal-dev] Building with HDF4 on Mc OSX
In-Reply-To: <20080531170211.307514o8l4neykys@wmail.ualg.pt>
References: <20080531170211.307514o8l4neykys@wmail.ualg.pt>
Message-ID: <20080601184631.42775r6m3tfrogv4@wmail.ualg.pt>

Hi,

With the kind help of William I was able to trace the problem.
Apparently the problem was due the fact that I hadn't configure HDF4  
with libsz.
(well, I didn't even had libsz in the system).

But building HDF4 with libsz still failed in the GDAL config

configure:22026: gcc -o conftest -g -O2   conftest.c -lmfhdf -ldf  
-ljpeg -lnetcdf -lz  -ldl  >&5
Undefined symbols:
   "_SZ_BufftoBuffCompress", referenced from:
       _HCIcszip_term in libdf.a(cszip.o)
   "_SZ_encoder_enabled", referenced from:
       _HCget_config_info in libdf.a(hcomp.o)
       _HCIcszip_staccess in libdf.a(cszip.o)
       _HCPcszip_write in libdf.a(cszip.o)
       _HCPcszip_write in libdf.a(cszip.o)
   "_SZ_BufftoBuffDecompress", referenced from:
       _HCIcszip_decode in libdf.a(cszip.o)


Notice that there is no -lsz on the compiling instruction.
So I hacked the configure script and added -lsz and finaly GDAL says  
it has HDF4 support.

But this is highly unorthodox

Joaquim Luis

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.

From cryan at csse.com.au  Sun Jun  1 19:43:13 2008
From: cryan at csse.com.au (Fodder)
Date: Sun Jun  1 19:43:17 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
Message-ID: <17591913.post@talk.nabble.com>


Hi All,

Just a few things I've noticed since I've been playing around with gdal_grid
(I'm using the vrt/csv driver):

   - It's important to put the whole path of the csv file in the vrt file
(even if they're in the same directory) if you are running gdal_grid.exe
from a different locaion.
   - With the EHdr output format, it seem to be necessary to switch the YMin
& YMax around in the -tye parameter. The YMin value seems to be used for the
ULYMap tag in the .hdr file. Is this a bug?
   - A lat/long WGS projection reference seems to be added to the grid if no
projection string is passed. I would have thought that a blank projection or
non-earth projection would be better.

Finally, a question, to integrate this with a windows app, how do I know
when gdal_grid is finished? Can I test for the existance of the output file
with certain permissions or could this lead me astray?
-- 
View this message in context: http://www.nabble.com/gdal_grid%3A-Comments-from-a-new-player-tp17591913p17591913.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Chris.Eustace at petrosys.com.au  Sun Jun  1 19:40:29 2008
From: Chris.Eustace at petrosys.com.au (Chris Eustace)
Date: Sun Jun  1 19:48:15 2008
Subject: [gdal-dev] Change to SetMercator and SetMercator2SP creates WKT
 without Latitude of Origin parameter
Message-ID: <4843336D.1080103@petrosys.com.au>

This question is probably directed to Frank.

Our autotests here at work have shown there are differences between the 
CRS WKT strings generated from GDAL v1.4.4 to GDAL v1.5.1.

I've scanned around a bit and noticed that ogrspatialreference.cpp has 
altered between these versions.

I did a bit more hunting and found that the GDAL changeset number 
concerned is 12207. The subject relates to moving sfc/oledb stuff for 
the move to spike.

My question is, whether the changes to the SetMercator calls are 
intended changes to ogrspatialreference.cpp or not? What we are seeing 
here is that if "dfCenterLat" is 0.0, that Latitude Of Origin parameter 
is no longer present in the resultant WKT.

Thanks for your time,
Chris Eustace.
From warmerdam at pobox.com  Sun Jun  1 20:19:37 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jun  1 20:19:52 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <17591913.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com>
Message-ID: <48433C99.1000207@pobox.com>

Fodder wrote:
> Hi All,
> 
> Just a few things I've noticed since I've been playing around with gdal_grid
> (I'm using the vrt/csv driver):
> 
>    - It's important to put the whole path of the csv file in the vrt file
> (even if they're in the same directory) if you are running gdal_grid.exe
> from a different locaion.

Fodder,

I believer there is a "relativeToVRT" attribute on the filename element
in the VRT file that can be set to 1 (or TRUE) if you want the path to
be interpreted as relative to the vrt file.

>    - With the EHdr output format, it seem to be necessary to switch the YMin
> & YMax around in the -tye parameter. The YMin value seems to be used for the
> ULYMap tag in the .hdr file. Is this a bug?

no idea.

>    - A lat/long WGS projection reference seems to be added to the grid if no
> projection string is passed. I would have thought that a blank projection or
> non-earth projection would be better.

no idea.

> Finally, a question, to integrate this with a windows app, how do I know
> when gdal_grid is finished? Can I test for the existance of the output file
> with certain permissions or could this lead me astray?

Depending on how you launch he subprocess there should be a variety of ways of
testing if the process is complete.  You can't be confident that the file is
completely written till the gdal_grid process terminates.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Sun Jun  1 20:25:35 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jun  1 20:25:49 2008
Subject: [gdal-dev] Change to SetMercator and SetMercator2SP creates WKT
	without Latitude of Origin parameter
In-Reply-To: <4843336D.1080103@petrosys.com.au>
References: <4843336D.1080103@petrosys.com.au>
Message-ID: <48433DFF.8020000@pobox.com>

Chris Eustace wrote:
> This question is probably directed to Frank.
> 
> Our autotests here at work have shown there are differences between the 
> CRS WKT strings generated from GDAL v1.4.4 to GDAL v1.5.1.
> 
> I've scanned around a bit and noticed that ogrspatialreference.cpp has 
> altered between these versions.
> 
> I did a bit more hunting and found that the GDAL changeset number 
> concerned is 12207. The subject relates to moving sfc/oledb stuff for 
> the move to spike.
> 
> My question is, whether the changes to the SetMercator calls are 
> intended changes to ogrspatialreference.cpp or not? What we are seeing 
> here is that if "dfCenterLat" is 0.0, that Latitude Of Origin parameter 
> is no longer present in the resultant WKT.

Chris,

Hmm, that is funky.  It clearly has nothing to do with the migration of
oledb stuff to spike.  It must have got caught up in a big commit by
accident.  I'm not sure what the rationale for it was.

Is this ommission causing problems for something?  Generally GDAL itself
will assume zero values for parameters like this if they are omitted.

I assume at the time I was looking into some issue with software packages
not expecting this parameter for Mercator (perhaps ArcGIS?) and was
experimenting with only including it if it was non-default, but I don't
recall in any detail.

I would suggest you file a ticket on the issue, and include any notes
on why it is causing you problems.  I can at least check ArcGIS PE WKT
and see if it includes this parameter.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From cryan at csse.com.au  Sun Jun  1 20:29:26 2008
From: cryan at csse.com.au (Fodder)
Date: Sun Jun  1 20:29:28 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <48433C99.1000207@pobox.com>
References: <17591913.post@talk.nabble.com> <48433C99.1000207@pobox.com>
Message-ID: <17592248.post@talk.nabble.com>


Thanks Frank for your reply,

- One more thing I've noticed. The 'nearest' interpolation algorithm doesn't
seem to accept the defaults of 0 (meaning whole array) for radius1 & radius
2, when used like this:

gdal_grid -a nearest:radius1=0.0:radius2=0.0:angle=0.0:nodata=-1000000000
-txe ...

it generates a grid full of nodata values. I have to set it to:

gdal_grid -a
nearest:radius1=10000000:radius2=1000000:angle=0.0:nodata=-1000000000 -txe

to get a correct Theisson Polygon style interpolation.

Cheers


Frank Warmerdam-2 wrote:
> 
> Fodder wrote:
>> Hi All,
>> 
>> Just a few things I've noticed since I've been playing around with
>> gdal_grid
>> (I'm using the vrt/csv driver):
>> 
>>    - It's important to put the whole path of the csv file in the vrt file
>> (even if they're in the same directory) if you are running gdal_grid.exe
>> from a different locaion.
> 
> Fodder,
> 
> I believer there is a "relativeToVRT" attribute on the filename element
> in the VRT file that can be set to 1 (or TRUE) if you want the path to
> be interpreted as relative to the vrt file.
> 
>>    - With the EHdr output format, it seem to be necessary to switch the
>> YMin
>> & YMax around in the -tye parameter. The YMin value seems to be used for
>> the
>> ULYMap tag in the .hdr file. Is this a bug?
> 
> no idea.
> 
>>    - A lat/long WGS projection reference seems to be added to the grid if
>> no
>> projection string is passed. I would have thought that a blank projection
>> or
>> non-earth projection would be better.
> 
> no idea.
> 
>> Finally, a question, to integrate this with a windows app, how do I know
>> when gdal_grid is finished? Can I test for the existance of the output
>> file
>> with certain permissions or could this lead me astray?
> 
> Depending on how you launch he subprocess there should be a variety of
> ways of
> testing if the process is complete.  You can't be confident that the file
> is
> completely written till the gdal_grid process terminates.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/gdal_grid%3A-Comments-from-a-new-player-tp17591913p17592248.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From pagameba at gmail.com  Sun Jun  1 21:16:08 2008
From: pagameba at gmail.com (Paul Spencer)
Date: Sun Jun  1 21:16:16 2008
Subject: [gdal-dev] help using gdal_grid ...
Message-ID: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>

Hi,

I have a set of x,y,z data in text files.  There are about 1800  
individual files.  Each file has several thousand points.  The sum  
total is about 14.5 million entries.

I would like to convert this into a DEM so I can make contours and  
hillshade.

My first attempt has been to concatenate all the files into a single  
file, create a VRT file, and run gdal_grid on the resulting file.  It  
took about 4 hours for gdal_grid (running at 99.5% of one core on my  
macbookpro) to output the first '0' in the progress monitor so I  
abandoned this process :)

So I would like some advice on how to tune the parameters to gdal_grid  
to get reasonable results in a more suitable amount of time.

The data has been collected at approximately 70 meter intervals or  
less depending on the terrain.

The area of coverage is in ESPG:2036 and is

2302989.998137,7597784.001173 - 2716502.001863,7388826.998827

which is about 413000 m x 209000 m

Questions:

* what is a reasonable -outsize value?  Originally I though 5900 x  
3000 based on the 70 m per measurement thing, but perhaps that is way  
too big?

* invdist seems to be the slowest algorithm based on some quick tests  
on individual files.  Is there much difference between average and  
nearest?  What values of radius1 and radius2 will work the fastest  
while still producing reasonable results of the -outsize above?

* would it be better to convert from CSV to something else (shp?) first?

* would it be better to process individual input files then run  
gdal_merge.py on the result?

Cheers

Paul

__________________________________________

   Paul Spencer
   Chief Technology Officer
   DM Solutions Group Inc
   http://www.dmsolutions.ca/
From szekerest at gmail.com  Mon Jun  2 05:17:52 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Jun  2 05:17:55 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
Message-ID: <f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>

Paul,

In the recent days I've run into the same performance problem
according to the large number of the scattered points. I admit I could
get a significant performance increment by reducing the number of the
floating point operations in the inner loop of the invdist
implementation. I've also created a custom invdist when the power is
2.0 so the that the pow() function can totally be eliminated in this
special case. I've been thinking of contributing back of these changes
but I'm hesitant to mess the things up with funky optimizations inside
the code. Maybe a bug report along with a patch would be more
reasonable from me.

Best regards,

Tamas



2008/6/2 Paul Spencer <pagameba@gmail.com>:
> Hi,
>
> I have a set of x,y,z data in text files.  There are about 1800 individual
> files.  Each file has several thousand points.  The sum total is about 14.5
> million entries.
>
> I would like to convert this into a DEM so I can make contours and
> hillshade.
>
> My first attempt has been to concatenate all the files into a single file,
> create a VRT file, and run gdal_grid on the resulting file.  It took about 4
> hours for gdal_grid (running at 99.5% of one core on my macbookpro) to
> output the first '0' in the progress monitor so I abandoned this process :)
>
> So I would like some advice on how to tune the parameters to gdal_grid to
> get reasonable results in a more suitable amount of time.
>
> The data has been collected at approximately 70 meter intervals or less
> depending on the terrain.
>
> The area of coverage is in ESPG:2036 and is
>
> 2302989.998137,7597784.001173 - 2716502.001863,7388826.998827
>
> which is about 413000 m x 209000 m
>
> Questions:
>
> * what is a reasonable -outsize value?  Originally I though 5900 x 3000
> based on the 70 m per measurement thing, but perhaps that is way too big?
>
> * invdist seems to be the slowest algorithm based on some quick tests on
> individual files.  Is there much difference between average and nearest?
>  What values of radius1 and radius2 will work the fastest while still
> producing reasonable results of the -outsize above?
>
> * would it be better to convert from CSV to something else (shp?) first?
>
> * would it be better to process individual input files then run
> gdal_merge.py on the result?
>
> Cheers
>
> Paul
>
> __________________________________________
>
>  Paul Spencer
>  Chief Technology Officer
>  DM Solutions Group Inc
>  http://www.dmsolutions.ca/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From pagameba at gmail.com  Mon Jun  2 07:09:26 2008
From: pagameba at gmail.com (Paul Spencer)
Date: Mon Jun  2 07:09:54 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
	<f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>
Message-ID: <3A94BFA5-B530-422E-9996-AE70DF749506@gmail.com>

Thanks for the feedback, Tamas.

I took the drastic step of going and looking at the code last  
night :)  I'm not a gdal developer so this was a pretty scary step for  
me.  What I discovered is that (in psuedo code) the logic of gdal_grid  
is:

gdal_grid
   for each column in outsize
     for each row in outsize
       cell = grid_function()

grid_function
   for each point in the input
     calculate cell value.

so in my case, even the least expensive operation is looping about  
133168000000000 times (14.5 million points over a grid of 3200 x 2900)  
plus doing whatever calculation is required.  This doesn't seem  
efficient to me - I can only conceive of 50 points (in my data set)  
being significant in calculating a cell value.  Even several hundred  
points being considered would be a vast improvement.

Right now, I am considering a couple of options, since it seems  
unlikely I have the skill level to change gdal_grid:

1. all my data is split over about 1800 files each covering a much  
smaller geographic area than I am computing for the final result.  I  
think a much more efficient option will be to process them  
individually and combine the resulting DEM.  However, I expect this to  
produce noticeable edge effects.  So I am thinking of combining the  
nine files surrounding the one I am working on and processing those  
points for a very small raster (say 32x32) and doing a moving window  
on the points to produce about 1800 tif files that can then be merged  
into a single DEM.

2. putting all the points into a postgis table and selecting out  
windows of points to calculate cell values and writing some sort of  
(*gasp*) python script to write individual cell values.

I just did some rough calculations on the last one and assuming 100 ms  
per query and calculation, it should complete in about 25 hours -  
waaay better!

I think a vast improvement could be made to gdal_grid by first  
processing all the input points to index them spatially then only  
passing a subset of the points to the grid function for actual  
processing.  I have no clue where to start with this in gdal/ogr  
although I suspect that much of the functionality is there in the code  
already.

Fortunately, I should see Frank today and will bend his ear about  
this :)

Cheers

Paul

On 2-Jun-08, at 5:17 AM, Tamas Szekeres wrote:

> Paul,
>
> In the recent days I've run into the same performance problem
> according to the large number of the scattered points. I admit I could
> get a significant performance increment by reducing the number of the
> floating point operations in the inner loop of the invdist
> implementation. I've also created a custom invdist when the power is
> 2.0 so the that the pow() function can totally be eliminated in this
> special case. I've been thinking of contributing back of these changes
> but I'm hesitant to mess the things up with funky optimizations inside
> the code. Maybe a bug report along with a patch would be more
> reasonable from me.
>
> Best regards,
>
> Tamas
>
>
>
> 2008/6/2 Paul Spencer <pagameba@gmail.com>:
>> Hi,
>>
>> I have a set of x,y,z data in text files.  There are about 1800  
>> individual
>> files.  Each file has several thousand points.  The sum total is  
>> about 14.5
>> million entries.
>>
>> I would like to convert this into a DEM so I can make contours and
>> hillshade.
>>
>> My first attempt has been to concatenate all the files into a  
>> single file,
>> create a VRT file, and run gdal_grid on the resulting file.  It  
>> took about 4
>> hours for gdal_grid (running at 99.5% of one core on my macbookpro)  
>> to
>> output the first '0' in the progress monitor so I abandoned this  
>> process :)
>>
>> So I would like some advice on how to tune the parameters to  
>> gdal_grid to
>> get reasonable results in a more suitable amount of time.
>>
>> The data has been collected at approximately 70 meter intervals or  
>> less
>> depending on the terrain.
>>
>> The area of coverage is in ESPG:2036 and is
>>
>> 2302989.998137,7597784.001173 - 2716502.001863,7388826.998827
>>
>> which is about 413000 m x 209000 m
>>
>> Questions:
>>
>> * what is a reasonable -outsize value?  Originally I though 5900 x  
>> 3000
>> based on the 70 m per measurement thing, but perhaps that is way  
>> too big?
>>
>> * invdist seems to be the slowest algorithm based on some quick  
>> tests on
>> individual files.  Is there much difference between average and  
>> nearest?
>> What values of radius1 and radius2 will work the fastest while still
>> producing reasonable results of the -outsize above?
>>
>> * would it be better to convert from CSV to something else (shp?)  
>> first?
>>
>> * would it be better to process individual input files then run
>> gdal_merge.py on the result?
>>
>> Cheers
>>
>> Paul
>>
>> __________________________________________
>>
>> Paul Spencer
>> Chief Technology Officer
>> DM Solutions Group Inc
>> http://www.dmsolutions.ca/
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

From dron at ak4719.spb.edu  Mon Jun  2 07:07:42 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Jun  2 07:15:36 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <17591913.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com>
Message-ID: <20080602110742.GA19383@ak4719.spb.edu>

On Sun, Jun 01, 2008 at 04:43:13PM -0700, Fodder wrote:
> Just a few things I've noticed since I've been playing around with
> gdal_grid (I'm using the vrt/csv driver):
> 
>    - With the EHdr output format, it seem to be necessary to switch
>    the YMin & YMax around in the -tye parameter. The YMin value seems
>    to be used for the ULYMap tag in the .hdr file. Is this a bug?

I will take a look at that.

>    - A lat/long WGS projection reference seems to be added to the grid
>    if no projection string is passed. I would have thought that a
>    blank projection or non-earth projection would be better.

Yes, that is a bug. I will fix it.

> Finally, a question, to integrate this with a windows app, how do I
> know when gdal_grid is finished? Can I test for the existance of the
> output file with certain permissions or could this lead me astray?

Note, there is a C API for gridding:

 http://www.gdal.org/gdal__alg_8h.html#1fdef40bcdbc98eff2328b0d093d3a22
 
gdal_grid is just a wrapper around the GDALGridCreate() function. It is
better to use the C API directly in the custom applications.
(Unfortunately we don't have a wrapper for other languages yet).

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From dron at ak4719.spb.edu  Mon Jun  2 07:12:20 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Jun  2 07:15:37 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <17592248.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com> <48433C99.1000207@pobox.com>
	<17592248.post@talk.nabble.com>
Message-ID: <20080602111220.GB19383@ak4719.spb.edu>

On Sun, Jun 01, 2008 at 05:29:26PM -0700, Fodder wrote:
> - One more thing I've noticed. The 'nearest' interpolation algorithm
> doesn't seem to accept the defaults of 0 (meaning whole array) for
> radius1 & radius 2, when used like this:

That is know bug and it was fixed:

 http://trac.osgeo.org/gdal/ticket/2237

Just grab the newer GDAL.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From punk.kish at gmail.com  Mon Jun  2 07:22:17 2008
From: punk.kish at gmail.com (P Kishor)
Date: Mon Jun  2 07:22:20 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <3A94BFA5-B530-422E-9996-AE70DF749506@gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
	<f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>
	<3A94BFA5-B530-422E-9996-AE70DF749506@gmail.com>
Message-ID: <cdf6db500806020422r19f55c35leb98f0f703a67be8@mail.gmail.com>

On 6/2/08, Paul Spencer <pagameba@gmail.com> wrote:
> Thanks for the feedback, Tamas.
>
>  I took the drastic step of going and looking at the code last night :)  I'm
> not a gdal developer so this was a pretty scary step for me.  What I
> discovered is that (in psuedo code) the logic of gdal_grid is:
>
>  gdal_grid
>   for each column in outsize
>     for each row in outsize
>       cell = grid_function()
>
>  grid_function
>   for each point in the input
>     calculate cell value.
>
>  so in my case, even the least expensive operation is looping about
> 133168000000000 times (14.5 million points over a grid of 3200 x 2900) plus
> doing whatever calculation is required.  This doesn't seem efficient to me -
> I can only conceive of 50 points (in my data set) being significant in
> calculating a cell value.  Even several hundred points being considered
> would be a vast improvement.
>
>  Right now, I am considering a couple of options, since it seems unlikely I
> have the skill level to change gdal_grid:
>
>  1. all my data is split over about 1800 files each covering a much smaller
> geographic area than I am computing for the final result.  I think a much
> more efficient option will be to process them individually and combine the
> resulting DEM.  However, I expect this to produce noticeable edge effects.
> So I am thinking of combining the nine files surrounding the one I am
> working on and processing those points for a very small raster (say 32x32)
> and doing a moving window on the points to produce about 1800 tif files that
> can then be merged into a single DEM.
>
>  2. putting all the points into a postgis table and selecting out windows of
> points to calculate cell values and writing some sort of (*gasp*) python
> script to write individual cell values.
>
>  I just did some rough calculations on the last one and assuming 100 ms per
> query and calculation, it should complete in about 25 hours - waaay better!

You are absolutely on the right track. I would put the entire dataset
into SQLite, convert the grid_function() into a SQLite function, and
then update the table with cell values.

With proper INDEXes on the coordinates table, this should be a lot faster.

Could you send me a nod to where the grid_function() is located? (The
source code file name and line numbers). I am curious about this.





>
>  I think a vast improvement could be made to gdal_grid by first processing
> all the input points to index them spatially then only passing a subset of
> the points to the grid function for actual processing.  I have no clue where
> to start with this in gdal/ogr although I suspect that much of the
> functionality is there in the code already.
>
>  Fortunately, I should see Frank today and will bend his ear about this :)
>
>  Cheers
>
>  Paul
>
>
>  On 2-Jun-08, at 5:17 AM, Tamas Szekeres wrote:
>
>
> > Paul,
> >
> > In the recent days I've run into the same performance problem
> > according to the large number of the scattered points. I admit I could
> > get a significant performance increment by reducing the number of the
> > floating point operations in the inner loop of the invdist
> > implementation. I've also created a custom invdist when the power is
> > 2.0 so the that the pow() function can totally be eliminated in this
> > special case. I've been thinking of contributing back of these changes
> > but I'm hesitant to mess the things up with funky optimizations inside
> > the code. Maybe a bug report along with a patch would be more
> > reasonable from me.
> >
> > Best regards,
> >
> > Tamas
> >
> >
> >
> > 2008/6/2 Paul Spencer <pagameba@gmail.com>:
> >
> > > Hi,
> > >
> > > I have a set of x,y,z data in text files.  There are about 1800
> individual
> > > files.  Each file has several thousand points.  The sum total is about
> 14.5
> > > million entries.
> > >
> > > I would like to convert this into a DEM so I can make contours and
> > > hillshade.
> > >
> > > My first attempt has been to concatenate all the files into a single
> file,
> > > create a VRT file, and run gdal_grid on the resulting file.  It took
> about 4
> > > hours for gdal_grid (running at 99.5% of one core on my macbookpro) to
> > > output the first '0' in the progress monitor so I abandoned this process
> :)
> > >
> > > So I would like some advice on how to tune the parameters to gdal_grid
> to
> > > get reasonable results in a more suitable amount of time.
> > >
> > > The data has been collected at approximately 70 meter intervals or less
> > > depending on the terrain.
> > >
> > > The area of coverage is in ESPG:2036 and is
> > >
> > > 2302989.998137,7597784.001173 - 2716502.001863,7388826.998827
> > >
> > > which is about 413000 m x 209000 m
> > >
> > > Questions:
> > >
> > > * what is a reasonable -outsize value?  Originally I though 5900 x 3000
> > > based on the 70 m per measurement thing, but perhaps that is way too
> big?
> > >
> > > * invdist seems to be the slowest algorithm based on some quick tests on
> > > individual files.  Is there much difference between average and nearest?
> > > What values of radius1 and radius2 will work the fastest while still
> > > producing reasonable results of the -outsize above?
> > >
> > > * would it be better to convert from CSV to something else (shp?) first?
> > >
> > > * would it be better to process individual input files then run
> > > gdal_merge.py on the result?
> > >
> > > Cheers
> > >
> > > Paul
> > >
> > > __________________________________________
> > >
> > > Paul Spencer
> > > Chief Technology Officer
> > > DM Solutions Group Inc
> > > http://www.dmsolutions.ca/
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > >
> > >
> >
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Puneet Kishor http://punkish.eidesis.org/
Nelson Institute for Environmental Studies http://www.nelson.wisc.edu/
Open Source Geospatial Foundation (OSGeo) http://www.osgeo.org/
From dron at ak4719.spb.edu  Mon Jun  2 07:29:13 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Jun  2 07:30:34 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
Message-ID: <20080602112913.GC19383@ak4719.spb.edu>

Paul,

On Sun, Jun 01, 2008 at 09:16:08PM -0400, Paul Spencer wrote:
> I have a set of x,y,z data in text files.  There are about 1800  
> individual files.  Each file has several thousand points.  The sum  
> total is about 14.5 million entries.

For every pixel of the output raster the whole set of the input points
will be revowed. So the best way to go is to split your area in smaller
tiles. If you have the one XYZ file per tile then you can just combine
9 XYZ files together for each output raster tile and do gdal_grid on
that smaller sets. Then gdal_merge resukting raster tiles. This should
be pretty good scriptable, the trick is only required on region borders.

> * what is a reasonable -outsize value?  Originally I though 5900 x  
> 3000 based on the 70 m per measurement thing, but perhaps that is way  
> too big?

That is totally depend on what is your final purpose and expected final
resolution. If you want to get the best possible resolution the choose a
step that is close to average distance between your input points (at
someday computation of this metric will be added to the list of gdal_grid
features :-).

> * invdist seems to be the slowest algorithm based on some quick tests  
> on individual files.  Is there much difference between average and  
> nearest?  What values of radius1 and radius2 will work the fastest  
> while still producing reasonable results of the -outsize above?

I have created the preliminary version of the GDAL Grid tutorial. It
does not contain too much examples yet, but basic information is already
there:

 http://www.gdal.org/grid_tutorial.html

Nearest Neighbour is a way different from the Moving Average. Actually
the best usage of NN is to convert XYZ array, created from the regular
grid back into that grid. If you know that your points are located near
the grid nodes then NN will do the job for you.

> * would it be better to convert from CSV to something else (shp?)
> first?

No way. But I think that importing data in database with tiling approach
suggested above may help. Spatial filtering could be done efficienly
inside DB.

> * would it be better to process individual input files then run  
> gdal_merge.py on the result?

Yes, I think so.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From dron at ak4719.spb.edu  Mon Jun  2 07:33:57 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Jun  2 07:45:35 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
	<f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>
Message-ID: <20080602113357.GD19383@ak4719.spb.edu>

On Mon, Jun 02, 2008 at 11:17:52AM +0200, Tamas Szekeres wrote:
> In the recent days I've run into the same performance problem
> according to the large number of the scattered points. I admit I could
> get a significant performance increment by reducing the number of the
> floating point operations in the inner loop of the invdist
> implementation. I've also created a custom invdist when the power is
> 2.0 so the that the pow() function can totally be eliminated in this
> special case. I've been thinking of contributing back of these changes
> but I'm hesitant to mess the things up with funky optimizations inside
> the code. Maybe a bug report along with a patch would be more
> reasonable from me.

Tamas,

There is a plenty of room for optimization in that code, both
computationally and algorithmically. E.g., the input array could be
sorted before usage. But I don't want to touch this code until we will
have a test suite for that.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From pagameba at gmail.com  Mon Jun  2 08:30:26 2008
From: pagameba at gmail.com (Paul Spencer)
Date: Mon Jun  2 08:30:45 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <cdf6db500806020422r19f55c35leb98f0f703a67be8@mail.gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
	<f3b73b7d0806020217m3ed6b10eubebfbd00f3bcd5b5@mail.gmail.com>
	<3A94BFA5-B530-422E-9996-AE70DF749506@gmail.com>
	<cdf6db500806020422r19f55c35leb98f0f703a67be8@mail.gmail.com>
Message-ID: <0D53B3FB-A67A-4BB8-8D3F-116E73C478A3@gmail.com>


http://svn.osgeo.org/gdal/trunk/gdal/alg/gdalgrid.cpp

Cheers

Paul

On 2-Jun-08, at 7:22 AM, P Kishor wrote:

> Could you send me a nod to where the grid_function() is located? (The
> source code file name and line numbers). I am curious about this.

From andreas at theosys.at  Mon Jun  2 09:16:43 2008
From: andreas at theosys.at (Andreas Theofilu)
Date: Mon Jun  2 09:16:52 2008
Subject: [gdal-dev] Converting between datum
In-Reply-To: <48428FB1.9010509@pobox.com>
References: <200806011329.07450.andreas@theosys.at>
	<48428FB1.9010509@pobox.com>
Message-ID: <200806021516.43677.andreas@theosys.at>

Am Sonntag, 1. Juni 2008 14:01:53 schrieben Sie:
Frank, thanks for that hint. It seems to work, but:

> So, try changing your DataWindow definition to:
>
>     <DataWindow>
>        <UpperLeftX>617400</UpperLeftX>
>        <UpperLeftY>481865</UpperLeftY>
>        <LowerRightX>626560</LowerRightX>
>        <LowerRightY>480365</LowerRightY>
>        <SizeX>916</SizeX>
>        <SizeY>150</SizeY>
>     </DataWindow>
>

call me stupid, but I can't figure out how you calculated these values. 
Allthough I know what square pixel means, I don't know how I can calculate 
them. Could you or anybody else point me to a page where I may find a 
documentation on how to do that?

-- 
Andreas Theofilu
TheoSys - Software Systems and Solutions
http://www.theosys.at
Tel.: +43 676 / 786 53 89
From dron at ak4719.spb.edu  Mon Jun  2 09:20:03 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Jun  2 09:30:36 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <17591913.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com>
Message-ID: <20080602132003.GB20820@ak4719.spb.edu>

On Sun, Jun 01, 2008 at 04:43:13PM -0700, Fodder wrote:
>    - With the EHdr output format, it seem to be necessary to switch the YMin
> & YMax around in the -tye parameter. The YMin value seems to be used for the
> ULYMap tag in the .hdr file. Is this a bug?
>    - A lat/long WGS projection reference seems to be added to the grid if no
> projection string is passed. I would have thought that a blank projection or
> non-earth projection would be better.

I tried to reproduce these errors and did not succeeded. Could you be
more specific how do you get them? I need a VRT file content and your
command line options.

Best regards,
Andrey


-- 
Andrey V. Kiselev
ICQ# 26871517
From bryan at ideotrope.org  Mon Jun  2 10:37:57 2008
From: bryan at ideotrope.org (Bryan Keith)
Date: Mon Jun  2 11:10:45 2008
Subject: [gdal-dev] Converting between datum
In-Reply-To: <200806021516.43677.andreas@theosys.at>
References: <200806011329.07450.andreas@theosys.at>
	<48428FB1.9010509@pobox.com> <200806021516.43677.andreas@theosys.at>
Message-ID: <2326.64.78.232.178.1212417477.squirrel@ideotrope.org>

> Am Sonntag, 1. Juni 2008 14:01:53 schrieben Sie:
> Frank, thanks for that hint. It seems to work, but:
>
>> So, try changing your DataWindow definition to:
>>
>>     <DataWindow>
>>        <UpperLeftX>617400</UpperLeftX>
>>        <UpperLeftY>481865</UpperLeftY>
>>        <LowerRightX>626560</LowerRightX>
>>        <LowerRightY>480365</LowerRightY>
>>        <SizeX>916</SizeX>
>>        <SizeY>150</SizeY>
>>     </DataWindow>
>>
>
> call me stupid, but I can't figure out how you calculated these values.
> Allthough I know what square pixel means, I don't know how I can calculate
> them. Could you or anybody else point me to a page where I may find a
> documentation on how to do that?
>

Andreas,

Here you see how to calculate the cellsize from the given numbers:

>>> 481865 - 480365
1500
>>> _ / 150.
10.0
>>> 626560 - 617400
9160
>>> _ / 916.
10.0

So Frank made square cells size 10.0.  In the other direction you need to
slightly increase your extent and then calculate the number of pixels in x
and y so that you get square cells.

Bryan

> --
> Andreas Theofilu
> TheoSys - Software Systems and Solutions
> http://www.theosys.at
> Tel.: +43 676 / 786 53 89
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From Shawn.Gong at drdc-rddc.gc.ca  Mon Jun  2 12:08:30 2008
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Mon Jun  2 12:08:34 2008
Subject: [gdal-dev] HDF librpc.a error on Cygwin
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E1200AE@ottawaex02.Ottawa.drdc-rddc.gc.ca>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Makefile
Type: application/octet-stream
Size: 658 bytes
Desc: Makefile
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080602/ad80bdcd/Makefile.obj
From fevans at harris.com  Mon Jun  2 15:45:16 2008
From: fevans at harris.com (fevans)
Date: Mon Jun  2 15:45:18 2008
Subject: [Gdal-dev] Gdal_wrap/mono/Linux
In-Reply-To: <17534379.post@talk.nabble.com>
References: <17534379.post@talk.nabble.com>
Message-ID: <17609243.post@talk.nabble.com>


Resending after subscribing to mailing list.



fevans wrote:
> 
> Has anyone succeeded in running the gdal c# bindings in Mono/Linux? 
> 
> I've downloaded and compiled the source for gdal-1.5.1 in GNU/Linux. 
> I've compiled the swig/csharp bindings.
> 
> When I run "mono GDALinfo" I get a usage statement.
> When I run "mono GDALinfo foo.tif", I get type loader-exception. 
> 
> Comparing this with my windows distribution, I believe that gdal_wrap
> isn't getting compiled in Linux. In the directory
> "gdal-1.5.1/swig/csharp/gdal" there is a makefile.vc, but no GNUMakefile.
> 
> Given what I've read in the mono-docs about native binding in general, I
> think that if I can compile gdal_wrap .cpp into "libgdal_wrap.so".
> 
> Am I on the right track? Has anyone else done this? Thanks in advance.
> 

-- 
View this message in context: http://www.nabble.com/Gdal_wrap-mono-Linux-tp17534379p17609243.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From michael.omalley at spadac.com  Mon Jun  2 17:21:18 2008
From: michael.omalley at spadac.com (Michael J. O'Malley)
Date: Mon Jun  2 17:22:40 2008
Subject: [gdal-dev] 1.5.1 with MrSID DSDK 7?
Message-ID: <4B3B3C35D34C9345BC8914C199882E28133D7EF3@SPATCEX003.spadac.com>

Has anyone successfully compiled 1.5.1 against version 7.0.0.2167 of LizardTech's DSDK?  I compiled without incident using 6.0.7.1408, but 7 is giving me numerous linking errors out of the box.
I'm trying to make the changes necessary to handle the difference in APIs, but I'm wondering if I'm missing something obvious.


  Thanks,
                Mike

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080602/9fc29439/attachment.html
From cryan at csse.com.au  Mon Jun  2 19:20:09 2008
From: cryan at csse.com.au (Fodder)
Date: Mon Jun  2 19:20:12 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <20080602132003.GB20820@ak4719.spb.edu>
References: <17591913.post@talk.nabble.com>
	<20080602132003.GB20820@ak4719.spb.edu>
Message-ID: <17613002.post@talk.nabble.com>


http://www.nabble.com/file/p17613002/gdalgrid.vrt gdalgrid.vrt 

Hi Andrey,

I have attached the vrt file, the commandline, I have used is:

gdal_grid -a
invdist:power=2.0:smoothing=0.0:radius1=0.0:radius2=0.0:angle=0.0:max_points=0:min_points=0:nodata=-1000000000
-txe 322435.436500705 326982.517891606 -tye 6366087.01529708
6369483.98111739 -outsize 937 700 -of EHdr -ot Float32 -l gdalgrid
"gdalgrid.vrt" "rain_stations.flt"

The .hdr file that is created contains the tag 'ULYMAP        
6366089.44170124' which seem to be creating problems for me since that is
the YMin coord for the grid.

Regarding the other issue, I think this was my mistake. I had a shapefile
with the same name in the directory and I guess GDAL was reading the
projection from it's .prj file.

Sorry also about reporting old bugs..., I am using the FWTools build of GDAL
with ECW/SID as I don't really want to get into commpiling my own versions
etc.


Andrey Kiselev wrote:
> 
> I tried to reproduce these errors and did not succeeded. Could you be
> more specific how do you get them? I need a VRT file content and your
> command line options.
> 
> Best regards,
> Andrey
> 
> 
> -- 
> Andrey V. Kiselev
> ICQ# 26871517
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/gdal_grid%3A-Comments-from-a-new-player-tp17591913p17613002.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Chris.Eustace at petrosys.com.au  Mon Jun  2 22:48:31 2008
From: Chris.Eustace at petrosys.com.au (Chris Eustace)
Date: Mon Jun  2 22:48:36 2008
Subject: [gdal-dev] Change to SetMercator and SetMercator2SP creates WKT
	without Latitude of Origin parameter
In-Reply-To: <48433DFF.8020000@pobox.com>
References: <4843336D.1080103@petrosys.com.au> <48433DFF.8020000@pobox.com>
Message-ID: <4844B0FF.2040001@petrosys.com.au>

Frank Warmerdam wrote:
> Chris Eustace wrote:
>> This question is probably directed to Frank.
>>
>> Our autotests here at work have shown there are differences between 
>> the CRS WKT strings generated from GDAL v1.4.4 to GDAL v1.5.1.
>>
>> I've scanned around a bit and noticed that ogrspatialreference.cpp 
>> has altered between these versions.
>>
>> I did a bit more hunting and found that the GDAL changeset number 
>> concerned is 12207. The subject relates to moving sfc/oledb stuff for 
>> the move to spike.
>>
>> My question is, whether the changes to the SetMercator calls are 
>> intended changes to ogrspatialreference.cpp or not? What we are 
>> seeing here is that if "dfCenterLat" is 0.0, that Latitude Of Origin 
>> parameter is no longer present in the resultant WKT.
>
> Chris,
>
> Hmm, that is funky.  It clearly has nothing to do with the migration of
> oledb stuff to spike.  It must have got caught up in a big commit by
> accident.  I'm not sure what the rationale for it was.
>
> Is this ommission causing problems for something?  Generally GDAL itself
> will assume zero values for parameters like this if they are omitted.
>
> I assume at the time I was looking into some issue with software packages
> not expecting this parameter for Mercator (perhaps ArcGIS?) and was
> experimenting with only including it if it was non-default, but I don't
> recall in any detail.
>
> I would suggest you file a ticket on the issue, and include any notes
> on why it is causing you problems.  I can at least check ArcGIS PE WKT
> and see if it includes this parameter.
>
> Best regards,
We had a close look here as to where and how we use the CRS WKT. For us, 
everything comes in and goes out through GDAL so, as you correctly say, 
there is no problem as any missing parameters will have zero assumed for 
their values.

So, no issue for us and I'm therefore not planning to file a ticket. It 
was just that our unit autotests picked up a difference so I was more 
after a clarification - especially since your "funky" changeset did not 
seem to represent that particular change.

So, all good here.

Thanks for your time,
Chris Eustace.
From yann.chemin at gmail.com  Mon Jun  2 23:24:19 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Mon Jun  2 23:24:23 2008
Subject: [gdal-dev] linking problem: cannot find frmts/o/.libs/aigccitt.o
Message-ID: <4f37eb890806022024kb4d726crac8858579869b21b@mail.gmail.com>

Hello list,

I am a bit stuck here and would gladly have a piece of enlightenment...
I am trying to compile gdal on a computer, and somehow /usr/bin/ld
does not find a file that exists.

...puzzled
thanks for any help,
Yann

libtool: link: rm -fr  .libs/libgdal.la.lnkscript
libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
libtool: link: g++ -shared -nostdlib /usr/lib/../lib64/crti.o
/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/crtbeginS.o
.libs/libgdal.la.lnkscript  -Wl,-rpath -Wl,/usr/lib64 -Wl,-rpath
-Wl,/usr/local/lib/../lib -Wl,-rpath -Wl,/usr/lib64 -Wl,-rpath
-Wl,/usr/local/lib/../lib -L/usr/lib64 -L/usr/local/lib
/usr/lib64/libexpat.so /usr/lib64/libjpeg.so -ltiff -lpng
-L/usr/local/pgsql/lib -lpq -lz -lrt -ldl
-L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4
-L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/../../../../lib64
-L/lib/../lib64 -L/usr/lib/../lib64
-L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/../../..
/usr/local/lib/../lib/libstdc++.so
-L/export/home/ychemin/gcc/x86_64-unknown-linux-gnu/32/libstdc++-v3/src
-L/export/home/ychemin/gcc/x86_64-unknown-linux-gnu/32/libstdc++-v3/src/.libs
-L/export/home/ychemin/gcc/host-x86_64-unknown-linux-gnu/gcc/32
-L/usr/local/lib/../lib
-L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/../../../../lib
-L/lib/../lib -L/usr/lib/../lib
-L/export/home/ychemin/gcc/host-x86_64-unknown-linux-gnu/gcc -lm -lc
-lgcc_s /usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/crtendS.o
/usr/lib/../lib64/crtn.o        -Wl,-soname -Wl,libgdal.so.1 -o
.libs/libgdal.so.1.12.1
/usr/bin/ld: skipping incompatible
/export/home/ychemin/gdal-svn-stable-2008.05.22/frmts/o/.libs/aigccitt.o
when searching for
/export/home/ychemin/gdal-svn-stable-2008.05.22/frmts/o/.libs/aigccitt.o
/usr/bin/ld: cannot find
/export/home/ychemin/gdal-svn-stable-2008.05.22/frmts/o/.libs/aigccitt.o
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/export/home/ychemin/gdal-svn-stable-2008.05.22'
make: *** [check-lib] Error 2


-- 
Yann Chemin
International Rice Research Institute
Office: http://www.irri.org/gis
Perso: http://www.freewebs.com/ychemin
From mpg at lizardtech.com  Tue Jun  3 00:29:22 2008
From: mpg at lizardtech.com (Michael P. Gerlek)
Date: Tue Jun  3 00:29:26 2008
Subject: [gdal-dev] RE: 1.5.1 with MrSID DSDK 7? (Michael J. O'Malley)
In-Reply-To: <20080603032423.E4BFAE01748@lists.osgeo.org>
References: <20080603032423.E4BFAE01748@lists.osgeo.org>
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD1202735B6F@sea-srv-ms3.lizardtech.com>

Major versions of our SDK are not API-compatible, so this is going to
require changes to the GDAL driver.  Howard, William, and Andrey are
aware of the issue...

The changes are relatively simple, fortunately.  I'm on travel right
now, but if no one's gotten to this by next week I'll be happy to try
and whip up some patches.

-mpg

> Date: Mon, 2 Jun 2008 17:21:18 -0400
> From: "Michael J. O'Malley" <michael.omalley@spadac.com>
> Subject: [gdal-dev] 1.5.1 with MrSID DSDK 7?
> 
> Has anyone successfully compiled 1.5.1 against version 
> 7.0.0.2167 of LizardTech's DSDK?  I compiled without incident 
> using 6.0.7.1408, but 7 is giving me numerous linking errors 
> out of the box.
> I'm trying to make the changes necessary to handle the 
> difference in APIs, but I'm wondering if I'm missing 
> something obvious.
> 
> 
>   Thanks,
>                 Mike
From xingfu81 at gmail.com  Tue Jun  3 05:33:50 2008
From: xingfu81 at gmail.com (lee heng hock)
Date: Tue Jun  3 05:33:55 2008
Subject: [gdal-dev] Enquiry regarding building of overviews
Message-ID: <361c82e30806030233q10a84bbev7c5eca7bd0a04982@mail.gmail.com>

hi,

I attempted to build overviews for .tiff files on Linux and windows. For the
windows version, building of overviews worked fine. But on linux, I have
this error message:

"ERROR 1: IReadBlock failed at X offset ... "

I did a google search and seems to me that this problem is inherent in gdal.
Is this problem existent only in Linux but not on windows?

Regards
Heng Hock

On Tue, Jun 3, 2008 at 12:00 AM, <gdal-dev-request@lists.osgeo.org> wrote:

> Send gdal-dev mailing list submissions to
>        gdal-dev@lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.osgeo.org/mailman/listinfo/gdal-dev
> or, via email, send a message with subject or body 'help' to
>        gdal-dev-request@lists.osgeo.org
>
> You can reach the person managing the list at
>        gdal-dev-owner@lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of gdal-dev digest..."
>
>
> Today's Topics:
>
>   1. Re: Converting between datum (Bryan Keith)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 2 Jun 2008 08:37:57 -0600 (MDT)
> From: "Bryan Keith" <bryan@ideotrope.org>
> Subject: Re: [gdal-dev] Converting between datum
> To: "Andreas Theofilu" <andreas@theosys.at>
> Cc: GDAL list <gdal-dev@lists.osgeo.org>
> Message-ID: <2326.64.78.232.178.1212417477.squirrel@ideotrope.org>
> Content-Type: text/plain;charset=iso-8859-1
>
> > Am Sonntag, 1. Juni 2008 14:01:53 schrieben Sie:
> > Frank, thanks for that hint. It seems to work, but:
> >
> >> So, try changing your DataWindow definition to:
> >>
> >>     <DataWindow>
> >>        <UpperLeftX>617400</UpperLeftX>
> >>        <UpperLeftY>481865</UpperLeftY>
> >>        <LowerRightX>626560</LowerRightX>
> >>        <LowerRightY>480365</LowerRightY>
> >>        <SizeX>916</SizeX>
> >>        <SizeY>150</SizeY>
> >>     </DataWindow>
> >>
> >
> > call me stupid, but I can't figure out how you calculated these values.
> > Allthough I know what square pixel means, I don't know how I can
> calculate
> > them. Could you or anybody else point me to a page where I may find a
> > documentation on how to do that?
> >
>
> Andreas,
>
> Here you see how to calculate the cellsize from the given numbers:
>
> >>> 481865 - 480365
> 1500
> >>> _ / 150.
> 10.0
> >>> 626560 - 617400
> 9160
> >>> _ / 916.
> 10.0
>
> So Frank made square cells size 10.0.  In the other direction you need to
> slightly increase your extent and then calculate the number of pixels in x
> and y so that you get square cells.
>
> Bryan
>
> > --
> > Andreas Theofilu
> > TheoSys - Software Systems and Solutions
> > http://www.theosys.at
> > Tel.: +43 676 / 786 53 89
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
>
>
> ------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> End of gdal-dev Digest, Vol 49, Issue 4
> ***************************************
>



-- 
Regards
Heng Hock
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080603/f66f22d3/attachment.html
From dron at ak4719.spb.edu  Tue Jun  3 10:30:12 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Jun  3 10:45:41 2008
Subject: [Gdal-dev] gdal_grid: Comments from a new player
In-Reply-To: <17613002.post@talk.nabble.com>
References: <17591913.post@talk.nabble.com>
	<20080602132003.GB20820@ak4719.spb.edu>
	<17613002.post@talk.nabble.com>
Message-ID: <20080603143012.GA3301@ak4719.spb.edu>

On Mon, Jun 02, 2008 at 04:20:09PM -0700, Fodder wrote:
> I have attached the vrt file, the commandline, I have used is:
> 
> gdal_grid -a
> invdist:power=2.0:smoothing=0.0:radius1=0.0:radius2=0.0:angle=0.0:max_points=0:min_points=0:nodata=-1000000000
> -txe 322435.436500705 326982.517891606 -tye 6366087.01529708
> 6369483.98111739 -outsize 937 700 -of EHdr -ot Float32 -l gdalgrid
> "gdalgrid.vrt" "rain_stations.flt"
> 
> The .hdr file that is created contains the tag 'ULYMAP        
> 6366089.44170124' which seem to be creating problems for me since that is
> the YMin coord for the grid.

Ah, I see where the problem is. The origin of coordinate system is a top
left corner of the image, so in your case the YMin will be
6369483.98111739 and YMax will be 6366087.01529708. See here for
details:

 http://www.gdal.org/gdal_datamodel.html#gdal_datamodel_dataset_gtm

Maybe I should better detail this in documentation.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From even.rouault at mines-paris.org  Tue Jun  3 13:48:22 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Jun  3 13:48:33 2008
Subject: [gdal-dev] Enquiry regarding building of overviews
In-Reply-To: <361c82e30806030233q10a84bbev7c5eca7bd0a04982@mail.gmail.com>
References: <361c82e30806030233q10a84bbev7c5eca7bd0a04982@mail.gmail.com>
Message-ID: <200806031948.23366.even.rouault@mines-paris.org>

Hi,

You have to more specific on which GDAL version you are using, whether it is 
compiled using internal or external libtiff, the properties of your TIFF 
file. If external libtiff, which libtiff version it is, etc etc. But 
generally, there's no incompatibility between Linux and overview building. 
The same combination of GDAL + libtiff versions should yield the same results 
on both Windows and Linux. 

If using an "old" GDAL and/or libtiff version, you should also consider 
upgrading to latest GDAL and compiling it with internal libtiff support. For 
your information, there were problems with older GDAL&libtiff versions when 
building overviews on TIFF files in compressed formats like LZW or JPEG that 
have been solved since then.

Le Tuesday 03 June 2008 11:33:50 lee heng hock, vous avez ?crit?:
> hi,
>
> I attempted to build overviews for .tiff files on Linux and windows. For
> the windows version, building of overviews worked fine. But on linux, I
> have this error message:
>
> "ERROR 1: IReadBlock failed at X offset ... "
>
> I did a google search and seems to me that this problem is inherent in
> gdal. Is this problem existent only in Linux but not on windows?
>
> Regards
> Heng Hock
>
> On Tue, Jun 3, 2008 at 12:00 AM, <gdal-dev-request@lists.osgeo.org> wrote:
> > Send gdal-dev mailing list submissions to
> >        gdal-dev@lists.osgeo.org
> >
> > To subscribe or unsubscribe via the World Wide Web, visit
> >        http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > or, via email, send a message with subject or body 'help' to
> >        gdal-dev-request@lists.osgeo.org
> >
> > You can reach the person managing the list at
> >        gdal-dev-owner@lists.osgeo.org
> >
> > When replying, please edit your Subject line so it is more specific
> > than "Re: Contents of gdal-dev digest..."
> >
> >
> > Today's Topics:
> >
> >   1. Re: Converting between datum (Bryan Keith)
> >
> >
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Mon, 2 Jun 2008 08:37:57 -0600 (MDT)
> > From: "Bryan Keith" <bryan@ideotrope.org>
> > Subject: Re: [gdal-dev] Converting between datum
> > To: "Andreas Theofilu" <andreas@theosys.at>
> > Cc: GDAL list <gdal-dev@lists.osgeo.org>
> > Message-ID: <2326.64.78.232.178.1212417477.squirrel@ideotrope.org>
> > Content-Type: text/plain;charset=iso-8859-1
> >
> > > Am Sonntag, 1. Juni 2008 14:01:53 schrieben Sie:
> > >
> > > Frank, thanks for that hint. It seems to work, but:
> > >> So, try changing your DataWindow definition to:
> > >>
> > >>     <DataWindow>
> > >>        <UpperLeftX>617400</UpperLeftX>
> > >>        <UpperLeftY>481865</UpperLeftY>
> > >>        <LowerRightX>626560</LowerRightX>
> > >>        <LowerRightY>480365</LowerRightY>
> > >>        <SizeX>916</SizeX>
> > >>        <SizeY>150</SizeY>
> > >>     </DataWindow>
> > >
> > > call me stupid, but I can't figure out how you calculated these values.
> > > Allthough I know what square pixel means, I don't know how I can
> >
> > calculate
> >
> > > them. Could you or anybody else point me to a page where I may find a
> > > documentation on how to do that?
> >
> > Andreas,
> >
> > Here you see how to calculate the cellsize from the given numbers:
> > >>> 481865 - 480365
> >
> > 1500
> >
> > >>> _ / 150.
> >
> > 10.0
> >
> > >>> 626560 - 617400
> >
> > 9160
> >
> > >>> _ / 916.
> >
> > 10.0
> >
> > So Frank made square cells size 10.0.  In the other direction you need to
> > slightly increase your extent and then calculate the number of pixels in
> > x and y so that you get square cells.
> >
> > Bryan
> >
> > > --
> > > Andreas Theofilu
> > > TheoSys - Software Systems and Solutions
> > > http://www.theosys.at
> > > Tel.: +43 676 / 786 53 89
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > ------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > End of gdal-dev Digest, Vol 49, Issue 4
> > ***************************************


From even.rouault at mines-paris.org  Tue Jun  3 13:58:57 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Jun  3 13:59:03 2008
Subject: [gdal-dev] linking problem: cannot find frmts/o/.libs/aigccitt.o
In-Reply-To: <4f37eb890806022024kb4d726crac8858579869b21b@mail.gmail.com>
References: <4f37eb890806022024kb4d726crac8858579869b21b@mail.gmail.com>
Message-ID: <200806031958.57502.even.rouault@mines-paris.org>

I've the feeling that's an issue about compiling in 64bit mode and that they 
are 32 bit libraries in your link path. For example, I 
see "-L/export/home/ychemin/gcc/host-x86_64-unknown-linux-gnu/gcc/32" in the 
command line.

Le Tuesday 03 June 2008 05:24:19 Yann Chemin, vous avez ?crit?:
> Hello list,
>
> I am a bit stuck here and would gladly have a piece of enlightenment...
> I am trying to compile gdal on a computer, and somehow /usr/bin/ld
> does not find a file that exists.
>
> ...puzzled
> thanks for any help,
> Yann
>
> libtool: link: rm -fr  .libs/libgdal.la.lnkscript
> libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
> libtool: link: g++ -shared -nostdlib /usr/lib/../lib64/crti.o
> /usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/crtbeginS.o
> .libs/libgdal.la.lnkscript  -Wl,-rpath -Wl,/usr/lib64 -Wl,-rpath
> -Wl,/usr/local/lib/../lib -Wl,-rpath -Wl,/usr/lib64 -Wl,-rpath
> -Wl,/usr/local/lib/../lib -L/usr/lib64 -L/usr/local/lib
> /usr/lib64/libexpat.so /usr/lib64/libjpeg.so -ltiff -lpng
> -L/usr/local/pgsql/lib -lpq -lz -lrt -ldl
> -L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4
> -L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/../../../../lib64
> -L/lib/../lib64 -L/usr/lib/../lib64
> -L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/../../..
> /usr/local/lib/../lib/libstdc++.so
> -L/export/home/ychemin/gcc/x86_64-unknown-linux-gnu/32/libstdc++-v3/src
> -L/export/home/ychemin/gcc/x86_64-unknown-linux-gnu/32/libstdc++-v3/src/.li
>bs -L/export/home/ychemin/gcc/host-x86_64-unknown-linux-gnu/gcc/32
> -L/usr/local/lib/../lib
> -L/usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/../../../../lib
> -L/lib/../lib -L/usr/lib/../lib
> -L/export/home/ychemin/gcc/host-x86_64-unknown-linux-gnu/gcc -lm -lc
> -lgcc_s /usr/local/lib/gcc/x86_64-unknown-linux-gnu/4.2.4/crtendS.o
> /usr/lib/../lib64/crtn.o        -Wl,-soname -Wl,libgdal.so.1 -o
> .libs/libgdal.so.1.12.1
> /usr/bin/ld: skipping incompatible
> /export/home/ychemin/gdal-svn-stable-2008.05.22/frmts/o/.libs/aigccitt.o
> when searching for
> /export/home/ychemin/gdal-svn-stable-2008.05.22/frmts/o/.libs/aigccitt.o
> /usr/bin/ld: cannot find
> /export/home/ychemin/gdal-svn-stable-2008.05.22/frmts/o/.libs/aigccitt.o
> collect2: ld returned 1 exit status
> make[1]: *** [libgdal.la] Error 1
> make[1]: Leaving directory
> `/export/home/ychemin/gdal-svn-stable-2008.05.22' make: *** [check-lib]
> Error 2


From xingfu81 at gmail.com  Wed Jun  4 00:15:36 2008
From: xingfu81 at gmail.com (lee heng hock)
Date: Wed Jun  4 00:15:41 2008
Subject: [gdal-dev] Enquiry regarding building of overviews
In-Reply-To: <200806031948.23366.even.rouault@mines-paris.org>
References: <361c82e30806030233q10a84bbev7c5eca7bd0a04982@mail.gmail.com>
	<200806031948.23366.even.rouault@mines-paris.org>
Message-ID: <361c82e30806032115g6b03192cpeecdb0a56fd0c0c2@mail.gmail.com>

Hi Even,

Thanks for replying. I am currently using gdal version 1.5.1. I realised
previously the gdal issue i had with building overviews was because I used
external libtiff library. (probably version 3.8). After switching to using
the internally built libtiff library that comes with gdal, everything is
working well.

Thanks alot
Heng Hock


On Wed, Jun 4, 2008 at 1:48 AM, Even Rouault <even.rouault@mines-paris.org>
wrote:

> Hi,
>
> You have to more specific on which GDAL version you are using, whether it
> is
> compiled using internal or external libtiff, the properties of your TIFF
> file. If external libtiff, which libtiff version it is, etc etc. But
> generally, there's no incompatibility between Linux and overview building.
> The same combination of GDAL + libtiff versions should yield the same
> results
> on both Windows and Linux.
>
> If using an "old" GDAL and/or libtiff version, you should also consider
> upgrading to latest GDAL and compiling it with internal libtiff support.
> For
> your information, there were problems with older GDAL&libtiff versions when
> building overviews on TIFF files in compressed formats like LZW or JPEG
> that
> have been solved since then.
>
> Le Tuesday 03 June 2008 11:33:50 lee heng hock, vous avez ?crit :
> > hi,
> >
> > I attempted to build overviews for .tiff files on Linux and windows. For
> > the windows version, building of overviews worked fine. But on linux, I
> > have this error message:
> >
> > "ERROR 1: IReadBlock failed at X offset ... "
> >
> > I did a google search and seems to me that this problem is inherent in
> > gdal. Is this problem existent only in Linux but not on windows?
> >
> > Regards
> > Heng Hock
> >
> > On Tue, Jun 3, 2008 at 12:00 AM, <gdal-dev-request@lists.osgeo.org>
> wrote:
> > > Send gdal-dev mailing list submissions to
> > >        gdal-dev@lists.osgeo.org
> > >
> > > To subscribe or unsubscribe via the World Wide Web, visit
> > >        http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > > or, via email, send a message with subject or body 'help' to
> > >        gdal-dev-request@lists.osgeo.org
> > >
> > > You can reach the person managing the list at
> > >        gdal-dev-owner@lists.osgeo.org
> > >
> > > When replying, please edit your Subject line so it is more specific
> > > than "Re: Contents of gdal-dev digest..."
> > >
> > >
> > > Today's Topics:
> > >
> > >   1. Re: Converting between datum (Bryan Keith)
> > >
> > >
> > > ----------------------------------------------------------------------
> > >
> > > Message: 1
> > > Date: Mon, 2 Jun 2008 08:37:57 -0600 (MDT)
> > > From: "Bryan Keith" <bryan@ideotrope.org>
> > > Subject: Re: [gdal-dev] Converting between datum
> > > To: "Andreas Theofilu" <andreas@theosys.at>
> > > Cc: GDAL list <gdal-dev@lists.osgeo.org>
> > > Message-ID: <2326.64.78.232.178.1212417477.squirrel@ideotrope.org>
> > > Content-Type: text/plain;charset=iso-8859-1
> > >
> > > > Am Sonntag, 1. Juni 2008 14:01:53 schrieben Sie:
> > > >
> > > > Frank, thanks for that hint. It seems to work, but:
> > > >> So, try changing your DataWindow definition to:
> > > >>
> > > >>     <DataWindow>
> > > >>        <UpperLeftX>617400</UpperLeftX>
> > > >>        <UpperLeftY>481865</UpperLeftY>
> > > >>        <LowerRightX>626560</LowerRightX>
> > > >>        <LowerRightY>480365</LowerRightY>
> > > >>        <SizeX>916</SizeX>
> > > >>        <SizeY>150</SizeY>
> > > >>     </DataWindow>
> > > >
> > > > call me stupid, but I can't figure out how you calculated these
> values.
> > > > Allthough I know what square pixel means, I don't know how I can
> > >
> > > calculate
> > >
> > > > them. Could you or anybody else point me to a page where I may find a
> > > > documentation on how to do that?
> > >
> > > Andreas,
> > >
> > > Here you see how to calculate the cellsize from the given numbers:
> > > >>> 481865 - 480365
> > >
> > > 1500
> > >
> > > >>> _ / 150.
> > >
> > > 10.0
> > >
> > > >>> 626560 - 617400
> > >
> > > 9160
> > >
> > > >>> _ / 916.
> > >
> > > 10.0
> > >
> > > So Frank made square cells size 10.0.  In the other direction you need
> to
> > > slightly increase your extent and then calculate the number of pixels
> in
> > > x and y so that you get square cells.
> > >
> > > Bryan
> > >
> > > > --
> > > > Andreas Theofilu
> > > > TheoSys - Software Systems and Solutions
> > > > http://www.theosys.at
> > > > Tel.: +43 676 / 786 53 89
> > > > _______________________________________________
> > > > gdal-dev mailing list
> > > > gdal-dev@lists.osgeo.org
> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > >
> > > ------------------------------
> > >
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > >
> > > End of gdal-dev Digest, Vol 49, Issue 4
> > > ***************************************
>
>
>


-- 
Regards
Heng Hock
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080604/22e5698c/attachment.html
From pmallas at rsmas.miami.edu  Wed Jun  4 16:22:15 2008
From: pmallas at rsmas.miami.edu (Paul Mallas)
Date: Wed Jun  4 16:22:27 2008
Subject: [gdal-dev] Byte swapping (esp for ENVI format output) & RSAT2 doc
Message-ID: <g26thn$afv$1@ger.gmane.org>

Hello,

Does any gdal utility (like gdal_translate) have the capacity to byte 
swap data, especially for the ENVI output format?  I have poked around a 
bit in the documents and the answer seems to be "no."  But byte swapping 
seems like something that some gdal utility should do.

Also, the GDAL RS2 xml product page references RadarSat document 
RN-RP-51-27. I have hunted around the internet and not found it.  Is it 
available somewhere?

Thanks,
Paul

From bfraser at geoanalytic.com  Wed Jun  4 17:17:44 2008
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Jun  4 17:17:46 2008
Subject: [gdal-dev] Re: Open source API to convert raster to polygons?
	( Roger Andr? )
In-Reply-To: <47913919.6020705@gi.alaska.edu>
References: <20080118170007.722ACE00F01@lists.osgeo.org>
	<47913919.6020705@gi.alaska.edu>
Message-ID: <48470678.6040307@geoanalytic.com>

Dan (and others),

I've compiled your gdal_trace_outline code on Windows XP / VS2003.NET with only a few minor problems (I can send details if you are interested).

Unfortunately I've got a bunch (56) 1-bit tiff files generated from an image segmentation process I want lines (ok, polygons) for.  So I really want to vectorize the centerline of the pixels, not their outlines.  How hard would it be to modify gdal_trace_outline to do this?

To others interested:  
	I've experimented with ras2vec (http://www.xmailserver.org/davide.html) and had some success, but it misses generating a few line segments where the "edge" pixels are adjacent. I've been able to use OpenJump to polygonize the lines (after bumping up the allocated memory on startup), so that part is ok.

	I plan on looking into Grass too...

Thanks!
Brent Fraser
GeoAnalytic Inc. 

Dan Stahlke wrote:
> I have a C program that will create a polygon around the non-zero pixels 
> of an image.  It was written for Unix so I don't know how hard it would 
> be to get it to compile in Windows.  The program is fast though - the 
> reading of the image from disk takes as long as the actual polygon 
> tracing.  There are many options available including the ability to use 
> the Douglas-Peucker algorithm to reduce the number of points in the 
> polygon.  Output is in WKT format and can be either in the projection of 
> the source image or in longitude/latitude.  Here is the link to the 
> source code:
> http://www.gina.alaska.edu/page.xml?group=projects&page=gdalscripts
> 
> gdal-dev-request@lists.osgeo.org wrote:
>> Hi Ricardo,
>>
>> I had to do the same thing yesterday and wrote the script that's 
>> attached here.  It will read a raster data file and create a polygon 
>> for each pixel that does not have a value of 0.0.  The input, output 
>> and pixel value are all hard-coded, and the script is pretty crude, 
>> but it seems to work.  I'll warn you ahead of time that the shapefiles 
>> it creates are large, with a very high feature count. Oh, and I make 
>> no attempt to assign SRS, the shapefile will be in whatever projection 
>> the input raster is in.
>>
>> Hope that helps,
>>
>> Roger
>> -- 
>> PS - If anyone else reads this and has suggestions for optimizing 
>> performance, I would really welcome them.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From matt.wilkie at gov.yk.ca  Wed Jun  4 17:52:04 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Jun  4 17:52:08 2008
Subject: [gdal-dev] gdal translate error converting ArcGRID binary to ASCII
In-Reply-To: <cdf6db500805311220i43f06054r43110d004298f1c5@mail.gmail.com>
References: <cdf6db500805311125i4c533a06wc338bc578a55a620@mail.gmail.com>	<F2248315-8BF9-4FDE-9BB9-051FADE9B0A7@kyngchaos.com>
	<cdf6db500805311220i43f06054r43110d004298f1c5@mail.gmail.com>
Message-ID: <48470E84.4080106@gov.yk.ca>

Hi Puneet,

No don't flatten the directories. ArcInfo expects a nested file 
structure. The following example is for an Arcinfo binary grid called 
"thegridname":

./log
./info/arc.dir
./info/arc0000.dat
./info/arc0000.nit
./info/arc0001.dat
./info/arc0001.nit
./thegridname/dblbnd.adf
./thegridname/hdr.adf
./thegridname/log
./thegridname/metadata.xml
./thegridname/prj.adf
./thegridname/sta.adf
./thegridname/vat.adf
./thegridname/w001001.adf
./thegridname/w001001x.adf

Some of the files are optional, and some are not used by gdal (the major 
one being the 'info' directory and contents). You can pare the list down 
to the following and gdal_translate will still work (though arcinfo will 
not):

./thegridname/dblbnd.adf
./thegridname/hdr.adf
./thegridname/prj.adf        # optional but desired projection info
./thegridname/sta.adf
./thegridname/w001001.adf
./thegridname/w001001x.adf


Based on your error message and example, the files were not created by 
ArcInfo as in Arc grid names cannot start with a number (that said, gdal 
doesn't care about that restriction). I would try renaming the files 
like this and try again:

./76980974/dblbnd.adf
./76980974/prj.adf
./76980974/w001001.adf
./76980974/hdr.adf
./76980974/sta.adf
./76980974/w001001x.adf

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


P Kishor wrote:
> On 5/31/08, William Kyngesburye <woklist@kyngchaos.com> wrote:
>> On May 31, 2008, at 1:25 PM, P Kishor wrote:
>>
>>
>>> [01:45 PM] ~/Data/climate_change/cartagena_arcgrid$ ls
>> *.adf
>>> 76980974\76980974\dblbnd.adf*   76980974\76980974\prj.adf*
>>> 76980974\76980974\w001001.adf*
>>> 76980974\76980974\hdr.adf*      76980974\76980974\sta.adf*
>>> 76980974\76980974\w001001x.adf*
>>> [01:46 PM] ~/Data/climate_change/cartagena_arcgrid$
>> gdal_translate -of
>>> AAIGrid 76980974\\76980974\\w001001.adf out.grd
>>> ERROR 4: `76980974\76980974\w001001.adf' not recognised as a supported
>>> file format.
>>>
>>> GDALOpen failed - 4
>>> `76980974\76980974\w001001.adf' not recognised as a supported file format.
>>>
>>> I am on an Intel Macbook Pro with Mac OS X 10.5.3.
>>>
>>>
>>  One possibility is the backslashes - I see that often when downloading a
>> zip made on Windows and they expand into a flat file layout, but they
>> indicate a directory and file structure that GDAL may be expecting.  Try
>> removing the prefix of 'folders' from all the file names so it looks like:
>>
>>  dblbnd.adf
>>  hdr.adf
>>  prj.adf
>>  sta.adf
>>  w001001.adf
>>  w001001x.adf
>>
>>  and put it in a folder named '76980974'.
>>
> 
> I suspected as such, but instead of putting all of them in a single
> folder, I built a folder hierarchy as suggested by the back slashes (I
> am not really conversant with the ArcGRID file/folder structure).
> 
> I will flatten the list and try it again.
> 
> Thanks.
> 
> Puneet.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From jordi.inglada at cnes.fr  Thu Jun  5 03:05:09 2008
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Thu Jun  5 03:28:55 2008
Subject: [gdal-dev] ORFEO Toolbox (OTB) 2.2 available
Message-ID: <1212649509.9642.319.camel@localhost>

Dear all, 

We are proud to announce the availability of OTB-2.2.0. 

ORFEO Toolbox (OTB) is CNES' open source library of image processing
algorithms. OTB is based on the medical image processing library ITK and
offers particular features for remote sensing image processing in
general and for high spatial resolution images in particular. OTB is
distributed under a free software licence CeCILL (similar to GPL) to
encourage contribution from users and to promote reproducible research.

You can go to <http://otb.cnes.fr> and follow the download link there. 

In terms of applications, we are now shipping supervised classification
tools using SVM and Self Organising Maps. This tools can work with huge
images having up to 100 bands. We have also modified the Interactive
Change Detection application so it can be used with huge images. This
application can be now used in operational environments.

At the library level, we have integrated among other:
- the SIFT algorithm, 
- the sensor models for ERS, Envisat ASAR, Radarsat (1&2), TerraSAR-X
and, of course Cosmo Skymed. Some of these models need further
validation when data will be available,
- import and export of vector data (only Shapefile format is supported
now, KML will come soon)
- geodesic morphology and morphological profiles.

The detailed documentation can be downloaded also from
<http://otb.cnes.fr>. The PDF file is 596 pages
long, so think twice before printing it (then, choose not to print it).

Do not hesitate to use the users' list
<http://groups.google.com/group/otb-users> if you need support, or
contact us directly at <otb@cnes.fr>.

The Orfeo Toolbox live CD updated with the OTB 2.2.0 is also available
for download at http://www.melaneum.com/OTB/otblive/ .

Additionally to the OS (based on Xubuntu 8.04), this CD contains:
- sources and binary of the Orfeo Toolbox library
- Orfeo Toolbox applications (viewer, change detection, road
extraction...)
- full documentation (Software Guide and doxygen API)
- a step-by-step guide to start with OTB.

Enjoy OTB!

Jordi Inglada, for the OTB Development Team.
-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 


From ari.jolma at tkk.fi  Thu Jun  5 03:50:53 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Thu Jun  5 03:51:07 2008
Subject: [gdal-dev] AVCBin driver really slow on e00 data
Message-ID: <48479ADD.5040606@tkk.fi>

I have a fairly large (43MB) e00 ascii data file. ogrinfo spends a 
couple of minutes to report that it contains ARC, CNT, LAB, PAL and RPL 
layers. The command

ogrinfo x.e00 PAL

opens the file and reports eventually that there are a certain number of 
features and then seems to take forever. PAL is a polygon feature class. 
ogrinfo on LAB points works much faster.

Why is it so time consuming to look into polygon features inside e00?

Regards,

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ismail at namtrac.org  Thu Jun  5 04:31:46 2008
From: ismail at namtrac.org (=?UTF-8?Q?=C4=B0smail_D=C3=B6nmez?=)
Date: Thu Jun  5 04:31:47 2008
Subject: [gdal-dev] Reading height data from DEM files
Message-ID: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>

Hi all,

I got DTED Level 0 map and I am trying to get the height profile
between two points in the map. There are examples to get
longitude/latitude of any point in the map but I can't see how I can
find the height of a point. Any help or keywords for searching is
appeciated.

Best Regards,
ismail

-- 
Never learn by your mistakes, if you do you may never dare to try again.
From pagameba at gmail.com  Thu Jun  5 09:09:29 2008
From: pagameba at gmail.com (Paul Spencer)
Date: Thu Jun  5 09:09:40 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <20080602112913.GC19383@ak4719.spb.edu>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
	<20080602112913.GC19383@ak4719.spb.edu>
Message-ID: <E9A1E24B-0D1E-4178-80B5-74A7F6F523A2@gmail.com>

Thanks Andrey.  Sorry for the delay in replying - I was busy trying  
different options :)  I'll say at the start that I ended up using  
GRASS and getting the result I wanted in pretty decent time.  I'd  
never used GRASS before and I was totally amazed at how quickly I was  
able to get what I wanted done - I guess you could say that GDAL drove  
me to use GRASS ;)

What I did try to do with gdal_grid was to process the individual  
files.  Each file consisted of several thousand points collected over  
a roughly square area for which I know exactly what the bounding box  
is.  My script combined the target file with the surrounding files (if  
they existed) so I had a moving 3x3 grid of input files to feed the  
smaller central file with points to feed gdal_grid to produce a raster  
of about 40x40 pixels to get my desired resolution of 70m per pixel.   
I also broke it up so that I could run several processes  
simultaneously.  On an amazon ec2 high compute instance, I let this  
run for about 24 hours with 4 parallel processes and it still didn't  
finish.

I also tried to combine some of the resulting tifs using gdal_merge.py  
to see what the output was looking like, and ran into problems with  
the tif files being vertically upside down (thus confusing  
gdal_merge).  I'm reasonably certain that the input was being fed in  
correctly according to the docs so I am not sure why they are upside- 
down - I saw another post recently with this problem but I didn't dig  
into it and assume that the problem is on my side.

Ok, so that's what I tried with about 1.8 million points (I miscounted  
originally) and I never actually succeeded in producing a DEM.  GRASS  
was able to suck in the points and produce a smoothed DEM in about 4  
hours on my mac including my learning curve having never actually used  
GRASS.  It is entirely possible that my scripts are inefficient etc  
but it seems to me that gdal_grid is not really suitable for  
processing large amounts of elevation data at this point in time.

With all due respect to the developers, I would suggest that the web  
page for gdal_grid give a bit more detail about the potential  
performance problems and some strategies for optimizing gdal_grid.

It might also be a reasonable enhancement to introduce a mechanism for  
windowing the input data into small buckets based on some grid size -  
for instance, it might be very reasonable to have a 10x10 window and  
pre-process the input points into each spatial area then run the  
analysis on the 10x10 window using the points from that window plus  
the surrounding 8 windows (for instance).  I think this approach would  
(in at least my case) have produced much faster results with no  
difference in the resulting output.

Cheers

Paul

On 2-Jun-08, at 7:29 AM, Andrey Kiselev wrote:

> Paul,
>
> On Sun, Jun 01, 2008 at 09:16:08PM -0400, Paul Spencer wrote:
>> I have a set of x,y,z data in text files.  There are about 1800
>> individual files.  Each file has several thousand points.  The sum
>> total is about 14.5 million entries.
>
> For every pixel of the output raster the whole set of the input points
> will be revowed. So the best way to go is to split your area in  
> smaller
> tiles. If you have the one XYZ file per tile then you can just combine
> 9 XYZ files together for each output raster tile and do gdal_grid on
> that smaller sets. Then gdal_merge resukting raster tiles. This should
> be pretty good scriptable, the trick is only required on region  
> borders.
>
>> * what is a reasonable -outsize value?  Originally I though 5900 x
>> 3000 based on the 70 m per measurement thing, but perhaps that is way
>> too big?
>
> That is totally depend on what is your final purpose and expected  
> final
> resolution. If you want to get the best possible resolution the  
> choose a
> step that is close to average distance between your input points (at
> someday computation of this metric will be added to the list of  
> gdal_grid
> features :-).
>
>> * invdist seems to be the slowest algorithm based on some quick tests
>> on individual files.  Is there much difference between average and
>> nearest?  What values of radius1 and radius2 will work the fastest
>> while still producing reasonable results of the -outsize above?
>
> I have created the preliminary version of the GDAL Grid tutorial. It
> does not contain too much examples yet, but basic information is  
> already
> there:
>
> http://www.gdal.org/grid_tutorial.html
>
> Nearest Neighbour is a way different from the Moving Average. Actually
> the best usage of NN is to convert XYZ array, created from the regular
> grid back into that grid. If you know that your points are located  
> near
> the grid nodes then NN will do the job for you.
>
>> * would it be better to convert from CSV to something else (shp?)
>> first?
>
> No way. But I think that importing data in database with tiling  
> approach
> suggested above may help. Spatial filtering could be done efficienly
> inside DB.
>
>> * would it be better to process individual input files then run
>> gdal_merge.py on the result?
>
> Yes, I think so.
>
> Best regards,
> Andrey
>
> -- 
> Andrey V. Kiselev
> ICQ# 26871517
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Thu Jun  5 09:12:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun  5 09:12:36 2008
Subject: [gdal-dev] AVCBin driver really slow on e00 data
In-Reply-To: <48479ADD.5040606@tkk.fi>
References: <48479ADD.5040606@tkk.fi>
Message-ID: <4847E62E.5020305@pobox.com>

Ari Jolma wrote:
> I have a fairly large (43MB) e00 ascii data file. ogrinfo spends a 
> couple of minutes to report that it contains ARC, CNT, LAB, PAL and RPL 
> layers. The command
> 
> ogrinfo x.e00 PAL
> 
> opens the file and reports eventually that there are a certain number of 
> features and then seems to take forever. PAL is a polygon feature class. 
> ogrinfo on LAB points works much faster.
> 
> Why is it so time consuming to look into polygon features inside e00?

Ari,

In order to read the PAL layer, the reader spends a great deal of time
seeking around in the file collecting the nodes and arcs in order to form
them into a polygon geometry for each feature.

I think you will see better performance if you first convert the e00 file
into a binary coverage with the avcimport utility.  The performance of the
OGR E00 driver is really not acceptable for large polygon files.

I would also note there have been reports that the polygons are not always
properly reconstructed, so the results may not even be right when directly
accessing the e00 files.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Thu Jun  5 09:55:50 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun  5 09:56:09 2008
Subject: [gdal-dev] Re: Motion: Adopt GDAL/OGR 1.5.2 RC3 as 1.5.2
In-Reply-To: <483F13BD.1060604@pobox.com>
References: <483F13BD.1060604@pobox.com>
Message-ID: <4847F066.70105@pobox.com>

Frank Warmerdam wrote:
> 
> Folks,
> 
> I have a new release candidate up that includes the CPLAtof() fixes
> (#2036 related) as well as some GeoJSON improvements.
> 
>   http://download.osgeo.org/gdal/gdal-1.5.2RC3.tar.gz
>   http://download.osgeo.org/gdal/gdal152RC3.zip
> 
> Motion: GDAL 1.5.2 RC2 is adopted as the official GDAL 1.5.2 release.
> 
> Please vote after testing within the next two days, and we can issue the
> official release on Tuesday (I'm out Monday).

Folks,

This motion has failed to get any PSC member support.  I'll state I'm
+1 on release 1.5.2RC3 as 1.5.2.  If we don't get at least one more PSC
member to review the release and express support for the release it
cannot proceed.  I'd prefer a bit more than one more!

The deficiencies noted so far as that we still don't support the latest
HDF5 and MrSID libraries.  I consider these significant, but ok to be
put off to a 1.5.3 release so there is some time to address them properly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From usenet at fuchsschwanzdomain.de  Thu Jun  5 11:14:46 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Thu Jun  5 11:20:17 2008
Subject: [gdal-dev] NITF JPEG2000 read support?
Message-ID: <g28vt6$d4$1@ultimate100.geggus.net>

Dear gdal developers,

I am fiddeling with NITF JPEG2000 read support (with limited success so
far).

What is the current state of NITF JPEG2000 in gdal?


When trying to use jasper I get the following message:

> gdalinfo test_jpg2000.nsf
ERROR 4: 
2K_SUBFILE:1070,40040,test_jpg2000.nsf' does not exist in the file system,
and is not recognised as a supported dataset name.

ERROR 1: Unable to open JPEG2000 image within NITF file.
Is the JP2KAK driver available?
gdalinfo failed - unable to open 'test_jpg2000.nsf'.


Using ecwj2 the I get a different message, but it still does not work:

> gdalinfo test_jpg2000.nsf
ERROR 1: An error has occurred: Error 86 "File is invalid or corrupt"  file
"" line 0
ERROR 1: Unable to open JPEG2000 image within NITF file.
Is the JP2KAK driver available?
gdalinfo failed - unable to open 'test_jpg2000.nsf'.

Unfortunately I was unable to test with the kakadu library as I did not find
an evaluation Version.

Regards

Sven


-- 
"If you don't make lower-resolution mapping data publicly
available, there will be people with their cars and GPS
devices, driving around with their laptops" (Tim Berners-Lee)
/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From szekerest at gmail.com  Thu Jun  5 11:21:40 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Jun  5 11:21:42 2008
Subject: [gdal-dev] Re: Motion: Adopt GDAL/OGR 1.5.2 RC3 as 1.5.2
In-Reply-To: <4847F066.70105@pobox.com>
References: <483F13BD.1060604@pobox.com> <4847F066.70105@pobox.com>
Message-ID: <f3b73b7d0806050821w71488bc3sf96ccabdc4468f51@mail.gmail.com>

+1 to the motion

Tamas


2008/6/5, Frank Warmerdam <warmerdam@pobox.com>:
> Frank Warmerdam wrote:
> >
> > Folks,
> >
> > I have a new release candidate up that includes the CPLAtof() fixes
> > (#2036 related) as well as some GeoJSON improvements.
> >
> >  http://download.osgeo.org/gdal/gdal-1.5.2RC3.tar.gz
> >  http://download.osgeo.org/gdal/gdal152RC3.zip
> >
> > Motion: GDAL 1.5.2 RC2 is adopted as the official GDAL 1.5.2 release.
> >
> > Please vote after testing within the next two days, and we can issue the
> > official release on Tuesday (I'm out Monday).
> >
>
> Folks,
>
> This motion has failed to get any PSC member support.  I'll state I'm
> +1 on release 1.5.2RC3 as 1.5.2.  If we don't get at least one more PSC
> member to review the release and express support for the release it
> cannot proceed.  I'd prefer a bit more than one more!
>
> The deficiencies noted so far as that we still don't support the latest
> HDF5 and MrSID libraries.  I consider these significant, but ok to be
> put off to a 1.5.3 release so there is some time to address them properly.
>
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From michele.sanges at otomelara.it  Thu Jun  5 10:04:34 2008
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Thu Jun  5 11:36:06 2008
Subject: [gdal-dev] GDALComputeRasterMinMax and 'nodata value'.
Message-ID: <1212674674.3229.13.camel@pigreco>

Hi,

why the function GDALComputeRasterMinMax() computes the two values
taking in account also the 'nodata value'?

For example:

# gdalinfo E020N40.DEM

Driver: EHdr/ESRI .hdr Labelled
Files: E020N40.DEM
       E020N40.HDR
       E020N40.STX
       E020N40.PRJ
Size is 4800, 6000
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AXIS["Lat",NORTH],
    AXIS["Long",EAST],
    AUTHORITY["EPSG","4326"]]
Origin = (20.000000000000004,39.999999999999993)
Pixel Size = (0.008333333333330,-0.008333333333330)
Corner Coordinates:
Upper Left  (  20.0000000,  40.0000000) ( 20d 0'0.00"E, 40d 0'0.00"N)
Lower Left  (  20.0000000, -10.0000000) ( 20d 0'0.00"E, 10d 0'0.00"S)
Upper Right (  60.0000000,  40.0000000) ( 60d 0'0.00"E, 40d 0'0.00"N)
Lower Right (  60.0000000, -10.0000000) ( 60d 0'0.00"E, 10d 0'0.00"S)
Center      (  40.0000000,  15.0000000) ( 40d 0'0.00"E, 15d 0'0.00"N)
Band 1 Block=4800x1 Type=UInt16, ColorInterp=Undefined
  Min=-9999.000 Max=5825.000 
  Minimum=-9999.000, Maximum=5825.000, Mean=-2347.600, StdDev=4873.500
  NoData Value=-9999


Regards.
Michele
From warmerdam at pobox.com  Thu Jun  5 14:13:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun  5 14:14:14 2008
Subject: [gdal-dev] GDALComputeRasterMinMax and 'nodata value'.
In-Reply-To: <1212674674.3229.13.camel@pigreco>
References: <1212674674.3229.13.camel@pigreco>
Message-ID: <48482CDF.1090307@pobox.com>

Michele Sanges wrote:
> Hi,
> 
> why the function GDALComputeRasterMinMax() computes the two values
> taking in account also the 'nodata value'?
> 
> For example:
> 
> # gdalinfo E020N40.DEM
...
> Band 1 Block=4800x1 Type=UInt16, ColorInterp=Undefined
>   Min=-9999.000 Max=5825.000 
>   Minimum=-9999.000, Maximum=5825.000, Mean=-2347.600, StdDev=4873.500
>   NoData Value=-9999

Michele,

I believe these values are computed by the GDALRasterBand::ComputeStatistics()
method which appears to include nodata handling.  So I'm not exactly sure why
it isn't excluding -9999 properly.  Perhaps a round off issue?

Can you submit a ticket with a dataset demonstrating the issue? Hopefully
a small dataset?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dron at ak4719.spb.edu  Thu Jun  5 14:55:41 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Thu Jun  5 15:00:41 2008
Subject: [gdal-dev] help using gdal_grid ...
In-Reply-To: <E9A1E24B-0D1E-4178-80B5-74A7F6F523A2@gmail.com>
References: <B16D8DE2-AE1E-446C-80DF-071C9BF6000C@gmail.com>
	<20080602112913.GC19383@ak4719.spb.edu>
	<E9A1E24B-0D1E-4178-80B5-74A7F6F523A2@gmail.com>
Message-ID: <20080605185541.GD4994@ak4719.spb.edu>

On Thu, Jun 05, 2008 at 09:09:29AM -0400, Paul Spencer wrote:
> Ok, so that's what I tried with about 1.8 million points (I miscounted
> originally) and I never actually succeeded in producing a DEM.  GRASS
> was able to suck in the points and produce a smoothed DEM in about 4
> hours on my mac including my learning curve having never actually used
> GRASS.  It is entirely possible that my scripts are inefficient etc
> but it seems to me that gdal_grid is not really suitable for
> processing large amounts of elevation data at this point in time.
> 
> With all due respect to the developers, I would suggest that the web
> page for gdal_grid give a bit more detail about the potential
> performance problems and some strategies for optimizing gdal_grid.
> 
> It might also be a reasonable enhancement to introduce a mechanism for
> windowing the input data into small buckets based on some grid size -
> for instance, it might be very reasonable to have a 10x10 window and
> pre-process the input points into each spatial area then run the
> analysis on the 10x10 window using the points from that window plus
> the surrounding 8 windows (for instance).  I think this approach would
> (in at least my case) have produced much faster results with no
> difference in the resulting output.

Hi Paul,

The actual problem is that I haven't tried to optimize gdal_grid at all
yet. My purpose on this stage is to get correct results and start
thinking about optimization later (it can be quite a long term, because
gdal_grid in its current state solves my problems very well and I do not
have a pressing need for improvements). Also there is always some
trade-off between performance and flexibility, becasue I need a way to
read data from any OGR source and I need to do that programmatically
using the C API. That is certainly a thing that GRASS can't do for me
;-)

But I am open for any suggestions and criticism, the only problem is
that I can't start to fix it immediately. I can suggest to create a
ticket discribing troubles people have with the gdal_grid, so I will
have it as a permanent notice.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From zhaops at hotmail.com  Thu Jun  5 15:21:18 2008
From: zhaops at hotmail.com (Peisheng)
Date: Thu Jun  5 15:21:30 2008
Subject: [gdal-dev] Re: netcdf option build error
References: <0CF7F60C-352C-4592-8D0C-4E0F51ACCEFC@openosx.com>
	<12322476-51DB-430B-8EC0-5C92BFF20256@kyngchaos.com>
	<99ACBC8C-FBB3-4F62-A9BA-272CE83CA63E@OpenOSX.com>
	<91AA0C23-D893-455F-A31C-9FC9552757AB@OpenOSX.com>
	<2AFD6BB3-8141-4022-9BB9-C97F08AC0678@kyngchaos.com>
	<DC5F5E37-3687-4031-B404-026407D552C5@openosx.com>
	<029FFC1A-CFCB-4240-8E2C-FDDEB8900E54@kyngchaos.com>
	<99DCC105-A178-40BF-8693-D3A91F595ABB@OpenOSX.com>
	<F3EE7F9C-DEBC-4CA1-9FCC-60D890414253@OpenOSX.com>
	<BDFB87C6-1EF0-4162-A986-AE78EA437C57@openosx.com>
Message-ID: <loom.20080605T191757-361@post.gmane.org>



> 
> My CFLAGS and CPPFLAGS were set to include both my HDF4 and HDF5  
> include directories. I unset them and it builds beautifully.

How do you set them? Please tell me the detail. 
Otherwise, I have to download 42.r2.

Thanks.


From craig.miller at spatialminds.com  Fri Jun  6 01:27:30 2008
From: craig.miller at spatialminds.com (Craig Miller)
Date: Fri Jun  6 01:27:04 2008
Subject: [gdal-dev] watermark and copyright
Message-ID: <043001c8c796$03eb4030$0bc1c090$@miller@spatialminds.com>

I have a client who is looking to watermark and set the copyright headers in
a large batch of geotiffs.

Does anyone have any gdal based code (or other), an existing tool, or other
method to accomplish either, both, or part of these tasks?

Thanks for the help,
Craig
 


No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.524 / Virus Database: 269.24.6/1480 - Release Date: 6/3/2008
7:00 AM
 

From pmallas at rsmas.miami.edu  Fri Jun  6 09:47:09 2008
From: pmallas at rsmas.miami.edu (Paul Mallas)
Date: Fri Jun  6 09:47:21 2008
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) & RSAT2
	doc
In-Reply-To: <g26thn$afv$1@ger.gmane.org>
References: <g26thn$afv$1@ger.gmane.org>
Message-ID: <g2bf4t$849$1@ger.gmane.org>

Get lost you loser.

Just wanted one response.

Paul Mallas wrote:
> Hello,
> 
> Does any gdal utility (like gdal_translate) have the capacity to byte 
> swap data, especially for the ENVI output format?  I have poked around a 
> bit in the documents and the answer seems to be "no."  But byte swapping 
> seems like something that some gdal utility should do.
> 
> Also, the GDAL RS2 xml product page references RadarSat document 
> RN-RP-51-27. I have hunted around the internet and not found it.  Is it 
> available somewhere?
> 
> Thanks,
> Paul

From Shawn.Gong at drdc-rddc.gc.ca  Fri Jun  6 09:55:33 2008
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Fri Jun  6 09:55:37 2008
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) &
	RSAT2doc
In-Reply-To: <g2bf4t$849$1@ger.gmane.org>
References: <g26thn$afv$1@ger.gmane.org> <g2bf4t$849$1@ger.gmane.org>
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E1200C0@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi Paul  and list,
RadarSat document RN-RP-51-27 can be found at
http://www.radarsat2.info/product/51-2713_-_RSAT-2_Product_Format_Defini
tion_-_Iss1_7.pdf

Shawn


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Paul Mallas
Sent: Friday, June 06, 2008 9:47 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) &
RSAT2doc

Get lost you loser.

Just wanted one response.

Paul Mallas wrote:
> Hello,
> 
> Does any gdal utility (like gdal_translate) have the capacity to byte 
> swap data, especially for the ENVI output format?  I have poked around
a 
> bit in the documents and the answer seems to be "no."  But byte
swapping 
> seems like something that some gdal utility should do.
> 
> Also, the GDAL RS2 xml product page references RadarSat document 
> RN-RP-51-27. I have hunted around the internet and not found it.  Is
it 
> available somewhere?
> 
> Thanks,
> Paul

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From pmallas at rsmas.miami.edu  Fri Jun  6 10:39:02 2008
From: pmallas at rsmas.miami.edu (Paul Mallas)
Date: Fri Jun  6 10:40:07 2008
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) &
	RSAT2doc
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E1200C0@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <g26thn$afv$1@ger.gmane.org> <g2bf4t$849$1@ger.gmane.org>
	<DF1471B5C308B346BF5A2AEA00C5615E1200C0@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <48494C06.5080903@rsmas.miami.edu>

Thanks to Shawn for the document.

I inadvertently posted a reply to myself - in a moment of silliness I 
typed a reply to my post but did not mean to send it.

Sorry for the nonsense and the extra clutter.


Gong, Shawn (Contractor) wrote:
> hi Paul  and list,
> RadarSat document RN-RP-51-27 can be found at
> http://www.radarsat2.info/product/51-2713_-_RSAT-2_Product_Format_Defini
> tion_-_Iss1_7.pdf
>
> Shawn
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Paul Mallas
> Sent: Friday, June 06, 2008 9:47 AM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) &
> RSAT2doc
>
> Get lost you loser.
>
> Just wanted one response.
>
> Paul Mallas wrote:
>   
>> Hello,
>>
>> Does any gdal utility (like gdal_translate) have the capacity to byte 
>> swap data, especially for the ENVI output format?  I have poked around
>>     
> a 
>   
>> bit in the documents and the answer seems to be "no."  But byte
>>     
> swapping 
>   
>> seems like something that some gdal utility should do.
>>
>> Also, the GDAL RS2 xml product page references RadarSat document 
>> RN-RP-51-27. I have hunted around the internet and not found it.  Is
>>     
> it 
>   
>> available somewhere?
>>
>> Thanks,
>> Paul
>>     
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   

From bfraser at geoanalytic.com  Fri Jun  6 11:07:39 2008
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Fri Jun  6 11:08:07 2008
Subject: [gdal-dev] Re: Open source API to convert raster to polygons?
In-Reply-To: <6e41d95b0806042345n5e5fb608w9b7f7a575165857a@mail.gmail.com>
References: <20080118170007.722ACE00F01@lists.osgeo.org>	
	<47913919.6020705@gi.alaska.edu> <48470678.6040307@geoanalytic.com>
	<6e41d95b0806042345n5e5fb608w9b7f7a575165857a@mail.gmail.com>
Message-ID: <484952BB.7050008@geoanalytic.com>

Klokan,

  I couldn't get Autotrace to give me what I wanted.  In the end I wrote some code using GDAL and OGR for the raster and vector I/O.

  Most raster-to-vector problems are far more difficult than mine; in those cases, the need is to re-constitute a scanned map (or drawing) to it's original "vector" format.  For my simple problem, I just needed to connect adjacent pixels with line segments.

Thanks!
Brent

Klokan Petr P?idal wrote:
> Hi Brent,
> 
> have you tried "autotrace"? It has the centerline functionality and
> several parameters to tweek the result.
> To a shapefile you will have to go trough DXF, probably. And you need
> to correctly handle conversion from raster coordinates to a map one.
> 
> http://autotrace.sourceforge.net/
> 
> Autotrace is open-source, are the algorithms interesting (and useful)
> for GIS tools as well?
> 
> Another program, which came to my mind is "potrace". There is a list
> of "Similar Projects:" on the autotrace website.
> Can you later on post a note about the toolchain you have choosen?
> 
> Klokan
> 
> On Wed, Jun 4, 2008 at 11:17 PM, Brent Fraser <bfraser@geoanalytic.com> wrote:
>> Dan (and others),
>>
>> I've compiled your gdal_trace_outline code on Windows XP / VS2003.NET with
>> only a few minor problems (I can send details if you are interested).
>>
>> Unfortunately I've got a bunch (56) 1-bit tiff files generated from an image
>> segmentation process I want lines (ok, polygons) for.  So I really want to
>> vectorize the centerline of the pixels, not their outlines.  How hard would
>> it be to modify gdal_trace_outline to do this?
>>
>> To others interested:          I've experimented with ras2vec
>> (http://www.xmailserver.org/davide.html) and had some success, but it misses
>> generating a few line segments where the "edge" pixels are adjacent. I've
>> been able to use OpenJump to polygonize the lines (after bumping up the
>> allocated memory on startup), so that part is ok.
>>
>>        I plan on looking into Grass too...
>>
>> Thanks!
>> Brent Fraser
>> GeoAnalytic Inc.
From Chris.Barker at noaa.gov  Fri Jun  6 12:00:05 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri Jun  6 11:56:57 2008
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) & RSAT2
	doc
In-Reply-To: <g2bf4t$849$1@ger.gmane.org>
References: <g26thn$afv$1@ger.gmane.org> <g2bf4t$849$1@ger.gmane.org>
Message-ID: <48495F05.6040002@noaa.gov>



> Paul Mallas wrote:
>> Does any gdal utility (like gdal_translate) have the capacity to byte 
>> swap data, especially for the ENVI output format?

I don't know if there is a way for GDAL to do it, but it would be a 
pretty short scrip tin python with numpy -- load the rasterband into a 
numpy array, byteswap it, then save it back.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From pmallas at rsmas.miami.edu  Fri Jun  6 12:09:45 2008
From: pmallas at rsmas.miami.edu (Paul Mallas)
Date: Fri Jun  6 12:09:48 2008
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) & RSAT2
	doc
In-Reply-To: <48495F05.6040002@noaa.gov>
References: <g26thn$afv$1@ger.gmane.org> <g2bf4t$849$1@ger.gmane.org>
	<48495F05.6040002@noaa.gov>
Message-ID: <48496149.4090507@rsmas.miami.edu>

Thanks for the note - I went ahead and wrote a small c++ program to do 
this. 

Pretty easy to implement, but it seemed like something that would be in 
the gdal utilities.

Christopher Barker wrote:
>
>
>> Paul Mallas wrote:
>>> Does any gdal utility (like gdal_translate) have the capacity to 
>>> byte swap data, especially for the ENVI output format?
>
> I don't know if there is a way for GDAL to do it, but it would be a 
> pretty short scrip tin python with numpy -- load the rasterband into a 
> numpy array, byteswap it, then save it back.
>
> -Chris
>
>

From jukka.rahkonen at mmmtike.fi  Fri Jun  6 12:09:45 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Jun  6 12:09:56 2008
Subject: [gdal-dev] Re: NITF JPEG2000 read support?
References: <g28vt6$d4$1@ultimate100.geggus.net>
Message-ID: <loom.20080606T160735-676@post.gmane.org>

Sven Geggus <usenet <at> fuchsschwanzdomain.de> writes:

> 
> Dear gdal developers,
> 
> I am fiddeling with NITF JPEG2000 read support (with limited success so
> far).

---

> Unfortunately I was unable to test with the kakadu library as I did not find
> an evaluation Version.


Gdal included in FWTools has jpeg2000 support through Kakadu (JP2KAK).

-Jukka Rahkonen-

 

From even.rouault at mines-paris.org  Fri Jun  6 13:08:02 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Jun  6 13:08:09 2008
Subject: [gdal-dev] Re: Motion: Adopt GDAL/OGR 1.5.2 RC3 as 1.5.2
In-Reply-To: <4847F066.70105@pobox.com>
References: <483F13BD.1060604@pobox.com> <4847F066.70105@pobox.com>
Message-ID: <200806061908.03314.even.rouault@mines-paris.org>

+1 for me

Even

Le Thursday 05 June 2008 15:55:50 Frank Warmerdam, vous avez ?crit?:
> Frank Warmerdam wrote:
> > Folks,
> >
> > I have a new release candidate up that includes the CPLAtof() fixes
> > (#2036 related) as well as some GeoJSON improvements.
> >
> >   http://download.osgeo.org/gdal/gdal-1.5.2RC3.tar.gz
> >   http://download.osgeo.org/gdal/gdal152RC3.zip
> >
> > Motion: GDAL 1.5.2 RC2 is adopted as the official GDAL 1.5.2 release.
> >
> > Please vote after testing within the next two days, and we can issue the
> > official release on Tuesday (I'm out Monday).
>
> Folks,
>
> This motion has failed to get any PSC member support.  I'll state I'm
> +1 on release 1.5.2RC3 as 1.5.2.  If we don't get at least one more PSC
> member to review the release and express support for the release it
> cannot proceed.  I'd prefer a bit more than one more!
>
> The deficiencies noted so far as that we still don't support the latest
> HDF5 and MrSID libraries.  I consider these significant, but ok to be
> put off to a 1.5.3 release so there is some time to address them properly.
>
> Best regards,


From warmerdam at pobox.com  Fri Jun  6 13:10:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun  6 13:11:28 2008
Subject: [gdal-dev] Re: Byte swapping (esp for ENVI format output) &
	RSAT2 doc
In-Reply-To: <48496149.4090507@rsmas.miami.edu>
References: <g26thn$afv$1@ger.gmane.org> <g2bf4t$849$1@ger.gmane.org>
	<48495F05.6040002@noaa.gov> <48496149.4090507@rsmas.miami.edu>
Message-ID: <48496FA2.8050600@pobox.com>

Paul Mallas wrote:
> Thanks for the note - I went ahead and wrote a small c++ program to do 
> this.
> Pretty easy to implement, but it seemed like something that would be in 
> the gdal utilities.
> 
> Christopher Barker wrote:
>>
>>
>>> Paul Mallas wrote:
>>>> Does any gdal utility (like gdal_translate) have the capacity to 
>>>> byte swap data, especially for the ENVI output format?
>>
>> I don't know if there is a way for GDAL to do it, but it would be a 
>> pretty short scrip tin python with numpy -- load the rasterband into a 
>> numpy array, byteswap it, then save it back.

Paul,

If you prepare a VRT file description of a raw file you can describe
the byte order of the data.  Some of the other "raw file header" formats
also include byte order information.

   http://www.gdal.org/gdal_vrttut.html (scan for "Descriptions for raw files")

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Jun  6 13:12:32 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun  6 13:13:12 2008
Subject: [gdal-dev] Re: Motion: Adopt GDAL/OGR 1.5.2 RC3 as 1.5.2
In-Reply-To: <200806061908.03314.even.rouault@mines-paris.org>
References: <483F13BD.1060604@pobox.com> <4847F066.70105@pobox.com>
	<200806061908.03314.even.rouault@mines-paris.org>
Message-ID: <48497000.7050306@pobox.com>

Even Rouault wrote:
> +1 for me
> 
> Even
> 
> Le Thursday 05 June 2008 15:55:50 Frank Warmerdam, vous avez ?crit :
>> Frank Warmerdam wrote:
>>> Folks,
>>>
>>> I have a new release candidate up that includes the CPLAtof() fixes
>>> (#2036 related) as well as some GeoJSON improvements.
>>>
>>>   http://download.osgeo.org/gdal/gdal-1.5.2RC3.tar.gz
>>>   http://download.osgeo.org/gdal/gdal152RC3.zip
>>>
>>> Motion: GDAL 1.5.2 RC2 is adopted as the official GDAL 1.5.2 release.

Ok, I declare this motion passed with support from Tamas, Frank and Even.

I'll rename the RC files, and migrate 1.5.2 milestone tickets to 1.5.3.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Jun  6 13:16:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun  6 13:17:35 2008
Subject: [gdal-dev] GDAL/OGR 1.5.2 Released
Message-ID: <48497103.8000900@pobox.com>

Folks,

I'm pleased to announce the release of GDAL/OGR 1.5.2, a 1.5.x stable
branch bug fix release.

   http://download.osgeo.org/gdal/gdal-1.5.2.tar.gz
   http://download.osgeo.org/gdal/gdal152.zip

The following bugs were fixed since the 1.5.1 release.

  * #2036 (CPL): Fix precision issues with CPLAtof() functions.
  * #2386 (OGR): Fix ExecuteSQL() with empty query.
  * #2349 (GML): Fix memory bug in GetNextFeature() when using attribute filter.
  * #2145 (GDAL): Fix segfault when building overviews with USE_RRD YES.
  * #2382 (GDAL): Fix INST_DATA setting (/share/gdal instead of /share)
  * #2369 (AAIGRID): Fix buffer type in CreateCopy()
  * #2372 (GTIff): Fix buffer overflow in GTIFGetOGISDefn()
  * #2366 (NITF): Fix one byte buffer overflow for TEXT data
  * #2358 (OGR SQL): Fix segfault processing select on layer with no attributes
  * #2363 (HTTP): Fix logic to read file via /tmp
  * #2362 (NITF): Fix crash on NITF file with no image segment
  * #2123 (PG): Use auth_srid for matching against spatial_ref_sys
  * #2289 (SGI): Avoid reconising SRTMHGT files as SGI files
  * #2050 (MingW): Fix for Expat detection on MinGW
  * #2350 (OCI): Fix buffer size problem when reading back negative numbers
  * #2348 (USGSDEM): Support broken file format variation
  * #2339 (ODBC): Win32 only support for multi-byte text
  * #2335 (Interlis): Fix crash in open with empty datasource name
  * #2334 (OGR): Fix OGRGeometryCollection::getCoordinateDimension()
  * #2231 (Java): Removed ColorTable from Java Bindings
  * #2317 (GeoJson): Fix min/max build problem on some platforms
  * #2323 (OGR): NULL is valid argument to SetGeometry/SetGeometryDirectly
  * #2135 (NITF): Fix improper reporting of lat/long coordinates in some cases
  * #2322 (GTiff): Fix formating of driver capabilities XML to be valid
  * #2321 (ISIS3): Fix earth model meter/kilometer mixup
  * #2318 (CPL): Normalize /vsimem paths so they work smoothly on windows
  * #2314 (CPL): Fix bug with url encoding in CPLEscapeString()
  * #2309 (Shape): Fix crash dealing with unknown field types in debug mode
  * #2303 (PG): Fix buffer overwrite in PG driver
  * #1951 (Warp): Fix Lanczos Resample Anomolies near nodata values
  * #2301 (Warp): Fix memory allocator/deallocator mismatch for TPS
  * #2300 (Warp): Fix TPS initialization bug causing occational TPS failures
  * #2291 (CPL): Fix memory corruption in CPLResetExtension() with empty path
  * #2288 (GDAL): Path fix on win32 for GDALDriverManager::AutoLoadDrivers
  * #2277 (RMF): fix crash with coordinate system import
  * #1935 (ECW): Be more careful deciding what geotransform to ignore
  * #???? (GeoJSON): Support reading/writing 2.5D geometries.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From sfkeller at gmail.com  Fri Jun  6 14:18:43 2008
From: sfkeller at gmail.com (Stefan Keller)
Date: Fri Jun  6 14:18:52 2008
Subject: [gdal-dev] watermark and copyright
In-Reply-To: <-5991005083519074563@unknownmsgid>
References: <-5991005083519074563@unknownmsgid>
Message-ID: <25bc040b0806061118o7bd88cj7cb5428bf46798c0@mail.gmail.com>

Did you already try http://www.jjtc.com/Steganography/tools.html ?

-- Stefan
 P.S. What about watermarking vectors with OGR? We've successfully written
an Java prototype for this to embed up to 8 chars. The restriction is that a
minimum of 1000 points - including supporting points of linestrings - is
needed.

2008/6/6 Craig Miller <craig.miller@spatialminds.com>:

> I have a client who is looking to watermark and set the copyright headers
> in
> a large batch of geotiffs.
>
> Does anyone have any gdal based code (or other), an existing tool, or other
> method to accomplish either, both, or part of these tasks?
>
> Thanks for the help,
> Craig
>
>
>
> No virus found in this outgoing message.
> Checked by AVG.
> Version: 7.5.524 / Virus Database: 269.24.6/1480 - Release Date: 6/3/2008
> 7:00 AM
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080606/2a277877/attachment.html
From usenet at fuchsschwanzdomain.de  Fri Jun  6 15:51:05 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Fri Jun  6 15:51:10 2008
Subject: [gdal-dev] Re: NITF JPEG2000 read support?
References: <g28vt6$d4$1@ultimate100.geggus.net>
	<loom.20080606T160735-676@post.gmane.org>
Message-ID: <g2c4f9$1fj$1@ultimate100.geggus.net>

Jukka Rahkonen <jukka.rahkonen@mmmtike.fi> wrote:

> Gdal included in FWTools has jpeg2000 support through Kakadu (JP2KAK).

As I would need to build my own gdal from source (Linux/AMD64). Wehre
did you get the Kakadu library from. Do you have a licence?

Can you confirm, that gdalinfo works with an nsif file containing a
j2k image?

Unfortunately I can not post my testfile, as it contains confidential
material.

Sven

-- 
Why are there so many Unix-haters-handbooks and not even one
Microsoft-Windows-haters handbook?
Gurer vf ab arrq sbe n unaqobbx gb ungr Zvpebfbsg Jvaqbjf!
/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From warmerdam at pobox.com  Fri Jun  6 16:06:27 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun  6 16:06:47 2008
Subject: [gdal-dev] Re: NITF JPEG2000 read support?
In-Reply-To: <g2c4f9$1fj$1@ultimate100.geggus.net>
References: <g28vt6$d4$1@ultimate100.geggus.net>
	<loom.20080606T160735-676@post.gmane.org>
	<g2c4f9$1fj$1@ultimate100.geggus.net>
Message-ID: <484998C3.9010208@pobox.com>

Sven Geggus wrote:
> Jukka Rahkonen <jukka.rahkonen@mmmtike.fi> wrote:
> 
>> Gdal included in FWTools has jpeg2000 support through Kakadu (JP2KAK).
> 
> As I would need to build my own gdal from source (Linux/AMD64). Wehre
> did you get the Kakadu library from. Do you have a licence?

Sven,

You would need a license for the Kakadu library though there is a
reasonably priced option for personal use.

> Can you confirm, that gdalinfo works with an nsif file containing a
> j2k image?

I have confirmed I can access an NITF file with JPEG2000 imagery using
either the JP2KAK (Kakadu) driver, or the JP2ECW (ECW SDK) driver.  I
think it should also work with the JP2MrSID driver though I don't have
that handy for testing.  I believe it does not work with the JasPer
based "JPEG2000" driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From usenet at fuchsschwanzdomain.de  Fri Jun  6 16:16:59 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Fri Jun  6 16:17:02 2008
Subject: [gdal-dev] Re: NITF JPEG2000 read support?
References: <g28vt6$d4$1@ultimate100.geggus.net>
	<loom.20080606T160735-676@post.gmane.org>
	<g2c4f9$1fj$1@ultimate100.geggus.net> <484998C3.9010208@pobox.com>
Message-ID: <g2c5vr$27s$1@ultimate100.geggus.net>

Frank Warmerdam <warmerdam@pobox.com> wrote:

> You would need a license for the Kakadu library though there is a
> reasonably priced option for personal use.

Well, it is not personal use, what I intend to do.

> I have confirmed I can access an NITF file with JPEG2000 imagery using
> either the JP2KAK (Kakadu) driver, or the JP2ECW (ECW SDK) driver.

This is indeed a strange thing, because I was unable to use ecwj2 as well,
as you can see in my original Mail. I think my best bet would be to check my
file with the FWTools Version of gdalinfo.

> I believe it does not work with the JasPer based "JPEG2000" driver.

I already suspected this, because the nitf Dokumentation is talking about
ecwj2 and kakadu only.

Sven

-- 
Threading is a performance hack.
(The Art of Unix Programming by Eric S. Raymond)

/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From warmerdam at pobox.com  Fri Jun  6 16:30:21 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun  6 16:30:39 2008
Subject: [gdal-dev] Re: NITF JPEG2000 read support?
In-Reply-To: <g2c5vr$27s$1@ultimate100.geggus.net>
References: <g28vt6$d4$1@ultimate100.geggus.net>
	<loom.20080606T160735-676@post.gmane.org>
	<g2c4f9$1fj$1@ultimate100.geggus.net> <484998C3.9010208@pobox.com>
	<g2c5vr$27s$1@ultimate100.geggus.net>
Message-ID: <48499E5D.9060301@pobox.com>

Sven Geggus wrote:
> Frank Warmerdam <warmerdam@pobox.com> wrote:
> 
>> You would need a license for the Kakadu library though there is a
>> reasonably priced option for personal use.
> 
> Well, it is not personal use, what I intend to do.
> 
>> I have confirmed I can access an NITF file with JPEG2000 imagery using
>> either the JP2KAK (Kakadu) driver, or the JP2ECW (ECW SDK) driver.
> 
> This is indeed a strange thing, because I was unable to use ecwj2 as well,
> as you can see in my original Mail. I think my best bet would be to check my
> file with the FWTools Version of gdalinfo.

Sven,

Well, this is something that could be examined in more detail.  JPEG2000
in NITF *can* work with the ECW based driver.  With the FWTools build
you can set the GDAL_SKIP environment variable to JP2KAK to avoid the
Kakadu driver if you want to see how the ECW SDK based driver works.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Shawn.Gong at drdc-rddc.gc.ca  Fri Jun  6 16:57:34 2008
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Fri Jun  6 16:57:37 2008
Subject: [gdal-dev] how to manipulate and save only one band
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E1200C2@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

I appreciate if someone shows me how to manipulate and save only one
band out of a multi-band raster.

someone wrote codes as follows (results are band 1 is modified, the rest
remain same)
vrtds=gdal.Open(vrtstr)  # multi-band raster
self.new_ds = gtiff_driver.CreateCopy( fname, vrtds, options =
['TILED=YES',],..)
bandobj = self.new_ds.GetRasterBand(1)
	datablock = gdalnumeric.BandReadAsArray( bandobj, ..)
	... ...
	gdalnumeric.BandWriteArray( bandobj, datablock, 0,..)

What I would like to do is: only keep the modified band_1 and delete
rest bands from "self.new_ds"
does gdal_dataset has a method called DeleteBand()?

thanks,
Shawn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080606/6367cd95/attachment.html
From blake at hailmail.net  Fri Jun  6 20:20:44 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Fri Jun  6 20:20:39 2008
Subject: [gdal-dev] Correct way to create a new GTiff,
	with numpy.zeros() and python bindings
Message-ID: <16F73525-2FE4-4CD0-86FA-13672235638E@hailmail.net>

Hi list,

Im just starting to use the python bindings and have been  
experimenting with gdal_rasterize which great results, effectively  
burning in multiple different colors based on some related vector  
shapefile attributes.  The trick to getting started was that I did not  
have any raster (at the right extent and resolution) to copy from, so  
to get started I followed the api tutorial to create and new Gtiff.

This code works perfectly for my usecase:

from osgeo import gdal
from osgeo import osr
import numpy

driver = gdal.GetDriverByName('GTiff')
dst_ds = driver.Create( "/Users/spring/projects/wind/data/processed/ 
wpc_final.tif", 7850, 3500, 4, gdal.GDT_Byte)
dst_ds.SetGeoTransform( [-124.75, .001, 0.0, 49.02, 0.0, -.001] )
srs = osr.SpatialReference()
srs.ImportFromEPSG(4326)
dst_ds.SetProjection( srs.ExportToWkt() )


But the tutorial also has the step of writing zeros over the image  
with numpy. Since I am already burning in the required values into my  
raster with gdal_rasterize this seems not to matter, but I am really  
curious for future uses how to get this step working. Starting with  
zeros, or any default value would be useful.

So, if I execute the following code block next:

zeros = numpy.zeros( (7850, 3500) )
dst_ds.GetRasterBand(1).WriteArray( zeros )
dst_ds.GetRasterBand(2).WriteArray( zeros )
dst_ds.GetRasterBand(3).WriteArray( zeros )
dst_ds.GetRasterBand(4).WriteArray( zeros )


I get the error:
'ValueError: array larger than output file, or offset off edge'  which  
obviously means that I am writing the wrong size numpy array into my  
raster.

So, what do I need to know to figure out the right dimensions for the  
numpy.zeros() function? Some slick fraction of my image size in pixels  
and my geotransform?

Thanks,

Dane

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080606/6a30e701/attachment-0001.html
From antonio.valentino at tiscali.it  Sat Jun  7 04:59:21 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Sat Jun  7 04:59:24 2008
Subject: [gdal-dev] Correct way to create a new GTiff, with
	numpy.zeros() and python bindings
In-Reply-To: <16F73525-2FE4-4CD0-86FA-13672235638E@hailmail.net>
References: <16F73525-2FE4-4CD0-86FA-13672235638E@hailmail.net>
Message-ID: <20080607105921.432b6137@tiscali.it>

Il giorno Fri, 6 Jun 2008 17:20:44 -0700
Dane Springmeyer <blake@hailmail.net> ha scritto:

> Hi list,
> 
> Im just starting to use the python bindings and have been  
> experimenting with gdal_rasterize which great results, effectively  
> burning in multiple different colors based on some related vector  
> shapefile attributes.  The trick to getting started was that I did
> not have any raster (at the right extent and resolution) to copy
> from, so to get started I followed the api tutorial to create and new
> Gtiff.
> 
> This code works perfectly for my usecase:
> 
> from osgeo import gdal
> from osgeo import osr
> import numpy
> 
> driver = gdal.GetDriverByName('GTiff')
> dst_ds = driver.Create( "/Users/spring/projects/wind/data/processed/ 
> wpc_final.tif", 7850, 3500, 4, gdal.GDT_Byte)
> dst_ds.SetGeoTransform( [-124.75, .001, 0.0, 49.02, 0.0, -.001] )
> srs = osr.SpatialReference()
> srs.ImportFromEPSG(4326)
> dst_ds.SetProjection( srs.ExportToWkt() )
> 
> 
> But the tutorial also has the step of writing zeros over the image  
> with numpy. Since I am already burning in the required values into
> my raster with gdal_rasterize this seems not to matter, but I am
> really curious for future uses how to get this step working. Starting
> with zeros, or any default value would be useful.
> 
> So, if I execute the following code block next:
> 
> zeros = numpy.zeros( (7850, 3500) )

Dane,
here you are getting a floating point array. Try to print zeros.dtype.
In my opinion the correct code should be

zeros = numpy.zeros( (7850, 3500), dtype=numpy.uint8 )

or something similar.

> dst_ds.GetRasterBand(1).WriteArray( zeros )
> dst_ds.GetRasterBand(2).WriteArray( zeros )
> dst_ds.GetRasterBand(3).WriteArray( zeros )
> dst_ds.GetRasterBand(4).WriteArray( zeros )
> 
> 
> I get the error:
> 'ValueError: array larger than output file, or offset off edge'
> which obviously means that I am writing the wrong size numpy array
> into my raster.
> 
> So, what do I need to know to figure out the right dimensions for
> the numpy.zeros() function? Some slick fraction of my image size in
> pixels and my geotransform?
> 
> Thanks,
> 
> Dane
> 


-- 
Antonio Valentino
From fevans at harris.com  Sat Jun  7 10:17:40 2008
From: fevans at harris.com (fevans)
Date: Sat Jun  7 10:17:42 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
Message-ID: <17709337.post@talk.nabble.com>


This message captures my unsuccessful attempts to get c# bindings to work
under mono/Linux.
Hopefully it will help someone else.

IMPORTANT: If your like me, you're quickly scanning the web looking for a
solution. This is not a solution. It is a snapshot of what was tried, and
what didn't work.

These attempts were made with the following sources

http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
http://download.osgeo.org/gdal/gdal-1.5.2.tar.gz

Environment:
Mono Rev:	1.9.1
Linux:      	2.6.9-67.0.15.ELsmp x86_64 x86_64 x86_64 GNU/Linux
Swig:     	1.3.35



Reference Discussion Threads:
In investigating the possibility that this was a 32-bit v.s. 64-bit issue, I
found the following threads.
(Linux 64)
http://lists.osgeo.org/pipermail/gdal-dev/2005-October/006838.html
(Linux 64)
http://lists.osgeo.org/pipermail/mapserver-users/2006-November/020562.html
(Windows 64)	http://article.gmane.org/gmane.comp.gis.gdal.devel/14807

Attachment Descriptions:
gdal1.5.2.configuration.log	Contains the output of the ./configure command.
gdal1.5.2.build.log           	Contains the output of the build.
gdal1.5.2.build.warnings.log	Summary of warnings produced by build.
mono.shlib.cop.gdal_wrap.log     Run 'mono-shlib-cop gdal_csharp.dll'



Build Procedures:
./configure --without-libtool --prefix=/ssa/users/fevans/apps/gdal-1.5.2
make >& gdal1.5.2.build.log &
cd swig
make
cd csharp
make
cd $GDAL_SRC_ROOT
make install
export PATH="/ssa/users/fevans/apps/gdal-1.5.2/bin:$PATH"
export
LD_LIBRARY_PATH="/ssa/users/fevans/apps/gdal-1.5.2/lib:$LD_LIBRARY_PATH"






Required Modifications
There is an error in "swig/csharp/GNUmakefile"
Change line 50 from :	echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\" >" >>
$*_csharp.dll.config
                          To:	echo "<dllmap dll=\""$*"_wrap\"
target=\""$@"\" />" >> $*_csharp.dll.config


Other things Tried
1. Copy bindings to gdal install location. The makefile doesn't do this.
After swig/csharp make test failed, I tried numerous things without success.
 - Copy all exes and libs from swig/csharp to $GDAL_HOME/bin or
$GDAL_HOME/lib
 - In addition copy *.dll, *.dll.config to $GDAL_HOME/bin 

export GDAL_DATA=/ssa/users/fevans/apps/gdal-1.5.2/share/gdal
export
LD_LIBRARY_PATH="/ssa/users/fevans/apps/gdal-1.5.2/lib:$LD_LIBRARY_PATH"
export PATH="/ssa/users/fevans/apps/gdal-1.5.2/bin:$PATH"

cd $GDAL_HOME/bin
mono ./GDALInfo.exe /tmp/anImage.tif
Application error: An exception was thrown by the type initializer for
OSGeo.GDAL.Gdal
mono --verbose   ./GDALInfo.exe /tmp/anImage.tif > GDALInfo.exe.stacktrace



2. Modify Gdalmake.opt.in to use lib64.
   This didn't help.

Rename the libraries-Tried modifying the dll.config "dllmap" entries. For
example, change "libgdalcsharp.so" to "libgdal_wrap.so"
-Tried the renaming the libgdalcsharp.so libraries.
-Tried renaming the libraries as described in the previous steps, but did it
in the GNUMakefile, and rebuilt.

Setting MONO_PATH
Didn't help.


Modify the csharp.opt file
This didn't help me. But I'm wondering if the MONO=YES variable needs to be
set in Linux.
I tried it both ways, without success.

#Uncomment the following line if you want to compile with MONO on windows
#MONO = YES

#Comment the following line out if you want to link against the gdal dll
#CSHARP_STATIC_LINKAGE = YES


http://www.nabble.com/file/p17709337/gdal1.5.2.configuration.log
gdal1.5.2.configuration.log 
http://www.nabble.com/file/p17709337/gdal1.5.2.build.log gdal1.5.2.build.log 
http://www.nabble.com/file/p17709337/gdal1.5.2.build.warnings.log
gdal1.5.2.build.warnings.log 
http://www.nabble.com/file/p17709337/gdal1.5.2.make.install.log
gdal1.5.2.make.install.log 
http://www.nabble.com/file/p17709337/gdal1.5.2.swig.build.log
gdal1.5.2.swig.build.log 
http://www.nabble.com/file/p17709337/gdal1.5.2.swig.build.warnings.log
gdal1.5.2.swig.build.warnings.log 
http://www.nabble.com/file/p17709337/gdal1.5.2.swig.csharp.make.test.log
gdal1.5.2.swig.csharp.make.test.log 
http://www.nabble.com/file/p17709337/GDALInfo.exe.stacktrace
GDALInfo.exe.stacktrace 
http://www.nabble.com/file/p17709337/mono.shlib.cop.gdal_wrap.log
mono.shlib.cop.gdal_wrap.log 

-- 
View this message in context: http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p17709337.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From blake at hailmail.net  Sat Jun  7 14:06:19 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Sat Jun  7 14:06:15 2008
Subject: [gdal-dev] Correct way to create a new GTiff,
	with numpy.zeros() and python bindings (resolved)
In-Reply-To: <20080607105921.432b6137@tiscali.it>
References: <16F73525-2FE4-4CD0-86FA-13672235638E@hailmail.net>
	<20080607105921.432b6137@tiscali.it>
Message-ID: <D74FE1BC-E505-4ABA-A43A-FB030EC1A544@hailmail.net>

Hi Antonio,

Thanks for the suggestion to check my numpy types. I dug into the  
various Gdal types and numpty types and saw that I'll have to be  
careful to keep sync.

However, with a little more digging I think I found the simple  
problem: my axis needed to be reversed when calling the numpy function.

This code below now works:


# create a 4 band geotiff with RGB bands all zero and Alpha band fully  
non-transparent

from osgeo import gdal
from osgeo import osr
import numpy

driver = gdal.GetDriverByName('GTiff')
dst_ds = driver.Create( "test.tif", 7850, 3500, 4, gdal.GDT_Byte)
dst_ds.SetGeoTransform( [-124.75, .001, 0.0, 49.02, 0.0, -.001] )
srs = osr.SpatialReference()
srs.ImportFromEPSG(4326)
dst_ds.SetProjection( srs.ExportToWkt() )
zeros = numpy.zeros( (3500, 7850), numpy.uint8 )
dst_ds.GetRasterBand(1).WriteArray( zeros )
dst_ds.GetRasterBand(2).WriteArray( zeros )
dst_ds.GetRasterBand(3).WriteArray( zeros )
opaque = numpy.ones((3500,7850), numpy.uint8 )*255
dst_ds.GetRasterBand(4).WriteArray( opaque )


Cheers,

Dane


On Jun 7, 2008, at 1:59 AM, Antonio Valentino wrote:

> Il giorno Fri, 6 Jun 2008 17:20:44 -0700
> Dane Springmeyer <blake@hailmail.net> ha scritto:
>
>> Hi list,
>>
>> Im just starting to use the python bindings and have been
>> experimenting with gdal_rasterize which great results, effectively
>> burning in multiple different colors based on some related vector
>> shapefile attributes.  The trick to getting started was that I did
>> not have any raster (at the right extent and resolution) to copy
>> from, so to get started I followed the api tutorial to create and new
>> Gtiff.
>>
>> This code works perfectly for my usecase:
>>
>> from osgeo import gdal
>> from osgeo import osr
>> import numpy
>>
>> driver = gdal.GetDriverByName('GTiff')
>> dst_ds = driver.Create( "/Users/spring/projects/wind/data/processed/
>> wpc_final.tif", 7850, 3500, 4, gdal.GDT_Byte)
>> dst_ds.SetGeoTransform( [-124.75, .001, 0.0, 49.02, 0.0, -.001] )
>> srs = osr.SpatialReference()
>> srs.ImportFromEPSG(4326)
>> dst_ds.SetProjection( srs.ExportToWkt() )
>>
>>
>> But the tutorial also has the step of writing zeros over the image
>> with numpy. Since I am already burning in the required values into
>> my raster with gdal_rasterize this seems not to matter, but I am
>> really curious for future uses how to get this step working. Starting
>> with zeros, or any default value would be useful.
>>
>> So, if I execute the following code block next:
>>
>> zeros = numpy.zeros( (7850, 3500) )
>
> Dane,
> here you are getting a floating point array. Try to print zeros.dtype.
> In my opinion the correct code should be
>
> zeros = numpy.zeros( (7850, 3500), dtype=numpy.uint8 )
>
> or something similar.
>
>> dst_ds.GetRasterBand(1).WriteArray( zeros )
>> dst_ds.GetRasterBand(2).WriteArray( zeros )
>> dst_ds.GetRasterBand(3).WriteArray( zeros )
>> dst_ds.GetRasterBand(4).WriteArray( zeros )
>>
>>
>> I get the error:
>> 'ValueError: array larger than output file, or offset off edge'
>> which obviously means that I am writing the wrong size numpy array
>> into my raster.
>>
>> So, what do I need to know to figure out the right dimensions for
>> the numpy.zeros() function? Some slick fraction of my image size in
>> pixels and my geotransform?
>>
>> Thanks,
>>
>> Dane
>>
>
>
> -- 
> Antonio Valentino
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080607/012b46f4/attachment.html
From szekerest at gmail.com  Sat Jun  7 18:30:21 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Jun  7 18:30:24 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <17709337.post@talk.nabble.com>
References: <17709337.post@talk.nabble.com>
Message-ID: <f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>

Hi,

I`ve just tried http://download.osgeo.org/gdal/gdal-1.5.2.tar.gz on my
debian AMD64 installation following your compile steps (the install
directory was different). After the successful build I had managed to
run `make test` in the /csharp directory without further hackings and
file copies. (the csharp related files .so .dll .config was in the
same directory where the application has been started)

However my mono and SWIG version are different:

szekerest@sirius:~$ swig -version

SWIG Version 1.3.31

Compiled with g++ [x86_64-unknown-linux-gnu]
Please see http://www.swig.org for reporting bugs and further information
szekerest@sirius:~$ mcs --version
Mono C# compiler version 1.2.2.1
szekerest@sirius:~$ cat /proc/version
Linux version 2.6.18-5-amd64 (Debian 2.6.18.dfsg.1-13etch6)
(dannf@debian.org) (gcc version 4.1.2 20061115 (prerelease) (Debian
4.1.1-21)) #1 SMP Tue Dec 18 21:39:26 UTC 2007



FYI: The expected compile outputs and the `make test` results can be
inspected at the buildbot:

http://buildbot.osgeo.org:8500/waterfall


Best regards,

Tamas


2008/6/7 fevans <fevans@harris.com>:
>
> This message captures my unsuccessful attempts to get c# bindings to work
> under mono/Linux.
> Hopefully it will help someone else.
>
> IMPORTANT: If your like me, you're quickly scanning the web looking for a
> solution. This is not a solution. It is a snapshot of what was tried, and
> what didn't work.
>
> These attempts were made with the following sources
>
> http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
> http://download.osgeo.org/gdal/gdal-1.5.2.tar.gz
>
> Environment:
> Mono Rev:       1.9.1
> Linux:          2.6.9-67.0.15.ELsmp x86_64 x86_64 x86_64 GNU/Linux
> Swig:           1.3.35
>
>
>
> Reference Discussion Threads:
> In investigating the possibility that this was a 32-bit v.s. 64-bit issue, I
> found the following threads.
> (Linux 64)
> http://lists.osgeo.org/pipermail/gdal-dev/2005-October/006838.html
> (Linux 64)
> http://lists.osgeo.org/pipermail/mapserver-users/2006-November/020562.html
> (Windows 64)    http://article.gmane.org/gmane.comp.gis.gdal.devel/14807
>
> Attachment Descriptions:
> gdal1.5.2.configuration.log     Contains the output of the ./configure command.
> gdal1.5.2.build.log             Contains the output of the build.
> gdal1.5.2.build.warnings.log    Summary of warnings produced by build.
> mono.shlib.cop.gdal_wrap.log     Run 'mono-shlib-cop gdal_csharp.dll'
>
>
>
> Build Procedures:
> ./configure --without-libtool --prefix=/ssa/users/fevans/apps/gdal-1.5.2
> make >& gdal1.5.2.build.log &
> cd swig
> make
> cd csharp
> make
> cd $GDAL_SRC_ROOT
> make install
> export PATH="/ssa/users/fevans/apps/gdal-1.5.2/bin:$PATH"
> export
> LD_LIBRARY_PATH="/ssa/users/fevans/apps/gdal-1.5.2/lib:$LD_LIBRARY_PATH"
>
>
>
>
>
>
> Required Modifications
> There is an error in "swig/csharp/GNUmakefile"
> Change line 50 from :   echo "<dllmap dll=\""$*"_wrap\" target=\""$@"\" >" >>
> $*_csharp.dll.config
>                          To:   echo "<dllmap dll=\""$*"_wrap\"
> target=\""$@"\" />" >> $*_csharp.dll.config
>
>
> Other things Tried
> 1. Copy bindings to gdal install location. The makefile doesn't do this.
> After swig/csharp make test failed, I tried numerous things without success.
>  - Copy all exes and libs from swig/csharp to $GDAL_HOME/bin or
> $GDAL_HOME/lib
>  - In addition copy *.dll, *.dll.config to $GDAL_HOME/bin
>
> export GDAL_DATA=/ssa/users/fevans/apps/gdal-1.5.2/share/gdal
> export
> LD_LIBRARY_PATH="/ssa/users/fevans/apps/gdal-1.5.2/lib:$LD_LIBRARY_PATH"
> export PATH="/ssa/users/fevans/apps/gdal-1.5.2/bin:$PATH"
>
> cd $GDAL_HOME/bin
> mono ./GDALInfo.exe /tmp/anImage.tif
> Application error: An exception was thrown by the type initializer for
> OSGeo.GDAL.Gdal
> mono --verbose   ./GDALInfo.exe /tmp/anImage.tif > GDALInfo.exe.stacktrace
>
>
>
> 2. Modify Gdalmake.opt.in to use lib64.
>   This didn't help.
>
> Rename the libraries-Tried modifying the dll.config "dllmap" entries. For
> example, change "libgdalcsharp.so" to "libgdal_wrap.so"
> -Tried the renaming the libgdalcsharp.so libraries.
> -Tried renaming the libraries as described in the previous steps, but did it
> in the GNUMakefile, and rebuilt.
>
> Setting MONO_PATH
> Didn't help.
>
>
> Modify the csharp.opt file
> This didn't help me. But I'm wondering if the MONO=YES variable needs to be
> set in Linux.
> I tried it both ways, without success.
>
> #Uncomment the following line if you want to compile with MONO on windows
> #MONO = YES
>
> #Comment the following line out if you want to link against the gdal dll
> #CSHARP_STATIC_LINKAGE = YES
>
>
> http://www.nabble.com/file/p17709337/gdal1.5.2.configuration.log
> gdal1.5.2.configuration.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.build.log gdal1.5.2.build.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.build.warnings.log
> gdal1.5.2.build.warnings.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.make.install.log
> gdal1.5.2.make.install.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.swig.build.log
> gdal1.5.2.swig.build.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.swig.build.warnings.log
> gdal1.5.2.swig.build.warnings.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.swig.csharp.make.test.log
> gdal1.5.2.swig.csharp.make.test.log
> http://www.nabble.com/file/p17709337/GDALInfo.exe.stacktrace
> GDALInfo.exe.stacktrace
> http://www.nabble.com/file/p17709337/mono.shlib.cop.gdal_wrap.log
> mono.shlib.cop.gdal_wrap.log
>
> --
> View this message in context: http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p17709337.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ismail at namtrac.org  Sun Jun  8 12:39:42 2008
From: ismail at namtrac.org (=?UTF-8?Q?=C4=B0smail_D=C3=B6nmez?=)
Date: Sun Jun  8 12:39:44 2008
Subject: [gdal-dev] Re: Reading height data from DEM files
In-Reply-To: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>
References: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>
Message-ID: <19e566510806080939n646659d1q9d182acb4261143b@mail.gmail.com>

On Thu, Jun 5, 2008 at 11:31 AM, ?smail D?nmez <ismail@namtrac.org> wrote:
> Hi all,
>
> I got DTED Level 0 map and I am trying to get the height profile
> between two points in the map. There are examples to get
> longitude/latitude of any point in the map but I can't see how I can
> find the height of a point. Any help or keywords for searching is
> appeciated.

Replying to myself I think RasterIO is what I need. Any confirmation
on this would be great.


Thanks,
ismail

-- 
Never learn by your mistakes, if you do you may never dare to try again.
From oliver.eichler at gmx.de  Sun Jun  8 12:56:11 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Sun Jun  8 12:55:45 2008
Subject: [gdal-dev] Re: Reading height data from DEM files
In-Reply-To: <19e566510806080939n646659d1q9d182acb4261143b@mail.gmail.com>
References: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>
	<19e566510806080939n646659d1q9d182acb4261143b@mail.gmail.com>
Message-ID: <200806081856.11838.oliver.eichler@gmx.de>

On Sunday, 8. June 2008 18:39:42 ?smail D?nmez wrote:
> On Thu, Jun 5, 2008 at 11:31 AM, ?smail D?nmez <ismail@namtrac.org> wrote:
> > Hi all,
> >
> > I got DTED Level 0 map and I am trying to get the height profile
> > between two points in the map. There are examples to get
> > longitude/latitude of any point in the map but I can't see how I can
> > find the height of a point. Any help or keywords for searching is
> > appeciated.
>
> Replying to myself I think RasterIO is what I need. Any confirmation
> on this would be great.

Hi Ismail,

yes, you have to get the 4 points close to your wanted point via RasterIO and 
interpolate.

Oliver

From ismail at namtrac.org  Sun Jun  8 14:12:56 2008
From: ismail at namtrac.org (=?UTF-8?Q?=C4=B0smail_D=C3=B6nmez?=)
Date: Sun Jun  8 14:12:58 2008
Subject: [gdal-dev] Re: Reading height data from DEM files
In-Reply-To: <200806081856.11838.oliver.eichler@gmx.de>
References: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>
	<19e566510806080939n646659d1q9d182acb4261143b@mail.gmail.com>
	<200806081856.11838.oliver.eichler@gmx.de>
Message-ID: <19e566510806081112j4b9755a8r58a2adae9a218e78@mail.gmail.com>

Hi,

On Sun, Jun 8, 2008 at 7:56 PM, Oliver Eichler <oliver.eichler@gmx.de> wrote:
> On Sunday, 8. June 2008 18:39:42 ?smail D?nmez wrote:
>> On Thu, Jun 5, 2008 at 11:31 AM, ?smail D?nmez <ismail@namtrac.org> wrote:
>> > Hi all,
>> >
>> > I got DTED Level 0 map and I am trying to get the height profile
>> > between two points in the map. There are examples to get
>> > longitude/latitude of any point in the map but I can't see how I can
>> > find the height of a point. Any help or keywords for searching is
>> > appeciated.
>>
>> Replying to myself I think RasterIO is what I need. Any confirmation
>> on this would be great.
>
> Hi Ismail,
>
> yes, you have to get the 4 points close to your wanted point via RasterIO and
> interpolate.

Since I have to calculate elevation for all points in dted file, I
tried something like this:

>>> from osgeo import gdal
>>> f = gdal.Open("n30.dt0")
>>> f.ReadAsArray()

array([[  0,   0,   0, ...,  76,  75,  77],
       [  0,   0,   0, ...,  54,  57,  59],
       [  0,   0,   0, ...,  62,  60,  63],
       ...,
       [ 18,  17,  16, ..., -28, -28, -19],
       [ 22,  17,  17, ..., -21, -19, -27],
       [ 20,  16,  14, ..., -29, -27, -38]], dtype=int16)

So in the final array, array [x][y] would give me elevation data for
(x,y) coordinates (relative to the dted file), am I correct?

Thanks,
ismail


-- 
Never learn by your mistakes, if you do you may never dare to try again.
From usenet at fuchsschwanzdomain.de  Mon Jun  9 05:03:52 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Mon Jun  9 05:03:57 2008
Subject: [gdal-dev] Re: NITF JPEG2000 read support?
References: <g28vt6$d4$1@ultimate100.geggus.net>
	<loom.20080606T160735-676@post.gmane.org>
	<g2c4f9$1fj$1@ultimate100.geggus.net> <484998C3.9010208@pobox.com>
	<g2c5vr$27s$1@ultimate100.geggus.net> <48499E5D.9060301@pobox.com>
Message-ID: <g2irlo$om5$1@ultimate100.geggus.net>

Frank Warmerdam <warmerdam@pobox.com> wrote:

> Well, this is something that could be examined in more detail.  JPEG2000
> in NITF *can* work with the ECW based driver.  With the FWTools build
> you can set the GDAL_SKIP environment variable to JP2KAK to avoid the
> Kakadu driver if you want to see how the ECW SDK based driver works.

This is going to get real strange now:

 bin/ > ./gdalinfo ~/geoimages/test_jpg2000.nsf
ERROR 1: Kakadu Core Error: Main code-stream header appears corrupt!
ERROR 1: Unable to open JPEG2000 image within NITF file.
Is the JP2KAK driver available?
gdalinfo failed - unable to open '/home/geg/geoimages/test_jpg2000.nsf'.
--[ geg@venus ]---[ /home/geg/tmp/FWTools-2.0.6/bin
]---------------------------
 bin/ > export GDAL_SKIP=JP2KAK
--[ geg@venus ]---[ /home/geg/tmp/FWTools-2.0.6/bin
]---------------------------
 bin/ > ./gdalinfo ~/geoimages/test_jpg2000.nsf
ERROR 1: An error has occurred: Error 86 "File is invalid or corrupt"  file "" line 0
ERROR 1: Unable to open JPEG2000 image within NITF file.
Is the JP2KAK driver available?
gdalinfo failed - unable to open '/home/geg/geoimages/test_jpg2000.nsf'.

Probably my file is corrupted somehow.

Is there any nitf/j2k test-file available for download somewhere on the net?

Regards

Sven

-- 
"We don't know the OS that God uses, but the Vatican uses Linux"
                               (Sister Judith Zoebelein, Vatican Webmaster)

/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From dron at ak4719.spb.edu  Mon Jun  9 05:48:45 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Jun  9 06:00:50 2008
Subject: [gdal-dev] MrSID DSDK 7.x support
Message-ID: <20080609094845.GA23444@ak4719.spb.edu>

Folks,

I just checked in the changes required to support the new MrSID DSDK. It
should work both in trunk and 1.5 branch (will be available in the next
stable release). See an appropriate ticket for details:

 http://trac.osgeo.org/gdal/ticket/2410

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From jukka.rahkonen at mmmtike.fi  Mon Jun  9 09:49:08 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Jun  9 09:49:23 2008
Subject: [gdal-dev] Listgeo -tfw trouble
Message-ID: <loom.20080609T133731-244@post.gmane.org>

Hi,

I am trying to generate world files for GeoTIFF images with command
listgeo -tfw tfwtest.tif However, it leads to this error:
TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.

Tfwtest.tif is subsampled image done with gdal_translate from an original
written by gdal_warp. Image is in epsg:3067 projection (ETRS-TM35FIN). I tried
running listgeo from FWTools 1.3.6 and 2.0.6 versions. Listgeo works with some
other images. Any idea why listgeo does not like my images? Gdalinfo listing of
tfwtest.tif follows.

-Jukka Rahkonen-

Driver: GTiff/GeoTIFF
Files: tfwtest.tif
Size is 100, 100
Coordinate System is:
PROJCS["ETRS89 / ETRS-TM35FIN",
    GEOGCS["ETRS89",
        DATUM["European_Terrestrial_Reference_System_1989",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6258"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4258"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",27],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","3067"]]
Origin = (624282.000000000000000,6934522.000000000000000)
Pixel Size = (52.259999999999998,-52.259999999999998)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  624282.000, 6934522.000) ( 29d24'52.35"E, 62d31'14.82"N)
Lower Left  (  624282.000, 6929296.000) ( 29d24'38.71"E, 62d28'26.10"N)
Upper Right (  629508.000, 6934522.000) ( 29d30'57.44"E, 62d31'8.38"N)
Lower Right (  629508.000, 6929296.000) ( 29d30'43.24"E, 62d28'19.67"N)
Center      (  626895.000, 6931909.000) ( 29d27'47.94"E, 62d29'47.28"N)
Band 1 Block=100x27 Type=Byte, ColorInterp=Red
  NoData Value=0
Band 2 Block=100x27 Type=Byte, ColorInterp=Green
  NoData Value=0
Band 3 Block=100x27 Type=Byte, ColorInterp=Blue
  NoData Value=0


From jukka.rahkonen at mmmtike.fi  Mon Jun  9 09:56:55 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Jun  9 09:57:10 2008
Subject: [gdal-dev] Re: Listgeo -tfw trouble
References: <loom.20080609T133731-244@post.gmane.org>
Message-ID: <loom.20080609T135539-458@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:

> 
> Hi,
> 
> I am trying to generate world files for GeoTIFF images with command
> listgeo -tfw tfwtest.tif However, it leads to this error:
> TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.
> 
> Tfwtest.tif is subsampled image done with gdal_translate from an original
> written by gdal_warp. Image is in epsg:3067 projection (ETRS-TM35FIN). I tried
> running listgeo from FWTools 1.3.6 and 2.0.6 versions. Listgeo works with some
> other images. Any idea why listgeo does not like my images? Gdalinfo listing of
> tfwtest.tif follows.

And here comes the listgeo listing as well:

TIFFReadDirectory: Warning, tfwtest.tif: unknown field with tag 42113 (0xa481) e
ncountered.
Geotiff_Information:
   Version: 1
   Key_Revision: 1.0
   Tagged_Information:
      ModelTiepointTag (2,3):
         0                0                0
         624282           6934522          0
      ModelPixelScaleTag (1,3):
         52.26            52.26            0
      End_Of_Tags.
   Keyed_Information:
      GTModelTypeGeoKey (Short,1): ModelTypeProjected
      GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
      GTCitationGeoKey (Ascii,22): "ETRS89 / ETRS-TM35FIN"
      GeogCitationGeoKey (Ascii,7): "ETRS89"
      GeogAngularUnitsGeoKey (Short,1): Angular_Degree
      ProjectedCSTypeGeoKey (Short,1): Unknown-3067
      ProjLinearUnitsGeoKey (Short,1): Linear_Meter
      End_Of_Keys.
   End_Of_Geotiff.

PCS = 3067 (ETRS89 / ETRS-TM35FIN)
Projection = 16065 (TM35FIN)
Projection Method: CT_TransverseMercator
   ProjNatOriginLatGeoKey: 0.000000 (  0d 0' 0.00"N)
   ProjNatOriginLongGeoKey: 27.000000 ( 27d 0' 0.00"E)
   ProjScaleAtNatOriginGeoKey: 0.999600
   ProjFalseEastingGeoKey: 500000.000000 m
   ProjFalseNorthingGeoKey: 0.000000 m
GCS: 4258/ETRS89
Datum: 6258/European Terrestrial Reference System 1989
Ellipsoid: 7019/GRS 1980 (6378137.00,6356752.31)
Prime Meridian: 8901/Greenwich (0.000000/  0d 0' 0.00"E)
Projection Linear Units: 9001/metre (1.000000m)

Corner Coordinates:
Upper Left    (  624282.000, 6934522.000)
Lower Left    (  624282.000, 6929296.000)
Upper Right   (  629508.000, 6934522.000)
Lower Right   (  629508.000, 6929296.000)
Center        (  626895.000, 6931909.000)




From warmerdam at pobox.com  Mon Jun  9 10:34:38 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun  9 10:35:04 2008
Subject: [gdal-dev] Listgeo -tfw trouble
In-Reply-To: <loom.20080609T133731-244@post.gmane.org>
References: <loom.20080609T133731-244@post.gmane.org>
Message-ID: <484D3F7E.2030904@pobox.com>

Jukka Rahkonen wrote:
> Hi,
> 
> I am trying to generate world files for GeoTIFF images with command
> listgeo -tfw tfwtest.tif However, it leads to this error:
> TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.

Jukka,

The above message is just a warning, not an error.  Tag 42113 is the
GDAL nodata tag, and is otherwise ignored by listgeo.  Do you have reason
to believe listgeo was not working?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Jukka.Rahkonen at mmmtike.fi  Mon Jun  9 11:57:36 2008
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon Jun  9 12:14:55 2008
Subject: [gdal-dev] Listgeo -tfw trouble
References: <loom.20080609T133731-244@post.gmane.org>
	<484D3F7E.2030904@pobox.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E33E15@tikka.haapa.mmm.fi>

Frank Warmerdam wrote:
 
>Jukka Rahkonen wrote:
> Hi,
> 
>> I am trying to generate world files for GeoTIFF images with command
>> listgeo -tfw tfwtest.tif However, it leads to this error:
>> TIFFReadDirectory: Warning, Unknown field with tag 42113 (0xa481) encountered.

> Jukka,

> The above message is just a warning, not an error.  Tag 42113 is the
> GDAL nodata tag, and is otherwise ignored by listgeo.  Do you have reason
> to believe listgeo was not working?

Sorry, no trouble at all actually.  Listgeo does create tfw file, I just somehow 
did not see it first.

-Jukka-
From Chris.Barker at noaa.gov  Mon Jun  9 12:38:58 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Jun  9 12:35:47 2008
Subject: [gdal-dev] Correct way to create a new GTiff,
	with numpy.zeros() and python bindings (resolved)
In-Reply-To: <D74FE1BC-E505-4ABA-A43A-FB030EC1A544@hailmail.net>
References: <16F73525-2FE4-4CD0-86FA-13672235638E@hailmail.net>
	<20080607105921.432b6137@tiscali.it>
	<D74FE1BC-E505-4ABA-A43A-FB030EC1A544@hailmail.net>
Message-ID: <484D5CA2.3040200@noaa.gov>

Frank and/or Howard,

Dane Springmeyer wrote:
> However, with a little more digging I think I found the simple problem: 

> my axis needed to be reversed when calling the numpy function:

> dst_ds = driver.Create( "test.tif", 7850, 3500, 4, gdal.GDT_Byte)
...
> zeros = numpy.zeros( (3500, 7850), numpy.uint8 )
...
 > dst_ds.GetRasterBand(1).WriteArray( zeros )

This seems to highlight a unfortunate mis-match in the GDAL/numpy api. 
As numpy arrays can be internally stored in either Fortran or C order 
(or other options, actually), it would be nice if there could be a match 
of index order.

Of course, it may be too late now, as we'd want to preserve backward 
compatibility.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From ismail at namtrac.org  Mon Jun  9 13:06:52 2008
From: ismail at namtrac.org (=?UTF-8?Q?=C4=B0smail_D=C3=B6nmez?=)
Date: Mon Jun  9 13:06:55 2008
Subject: [gdal-dev] Re: Reading height data from DEM files
In-Reply-To: <19e566510806091000w4b0d9f01seda0fdde78973a07@mail.gmail.com>
References: <19e566510806050131l1fbca668j607713fef3546a99@mail.gmail.com>
	<19e566510806080939n646659d1q9d182acb4261143b@mail.gmail.com>
	<200806081856.11838.oliver.eichler@gmx.de>
	<19e566510806081112j4b9755a8r58a2adae9a218e78@mail.gmail.com>
	<484D5DE4.5020202@noaa.gov>
	<19e566510806091000w4b0d9f01seda0fdde78973a07@mail.gmail.com>
Message-ID: <19e566510806091006u23119492x945fc5d52f375280@mail.gmail.com>

Hi,

On Mon, Jun 9, 2008 at 7:44 PM, Christopher Barker
<Chris.Barker@noaa.gov> wrote:
> ?smail D?nmez wrote:
>>
>> Since I have to calculate elevation for all points in dted file, I
>> tried something like this:
>>
>>>>> from osgeo import gdal
>>>>> f = gdal.Open("n30.dt0")
>>>>> f.ReadAsArray()
>>
>> array([[  0,   0,   0, ...,  76,  75,  77],
>>       [  0,   0,   0, ...,  54,  57,  59],
>>       [  0,   0,   0, ...,  62,  60,  63],
>>       ...,
>>       [ 18,  17,  16, ..., -28, -28, -19],
>>       [ 22,  17,  17, ..., -21, -19, -27],
>>       [ 20,  16,  14, ..., -29, -27, -38]], dtype=int16)
>>
>> So in the final array, array [x][y] would give me elevation data for
>> (x,y) coordinates (relative to the dted file), am I correct?
>
> You want to use: array[x,y] -- the array is a 2-d array. What you wrote will
> work, but is far less efficient -- it creates a 1-d array object, then pulls
> your item out of that.

Indeed it takes like 0.2 seconds per DTED file.

> Do go read up on numpy -- it provides a lot of nifty features for this kind
> of work.

Thanks for the pointer.

--
Never learn by your mistakes, if you do you may never dare to try again.
From jaadfoo at gmail.com  Mon Jun  9 15:27:50 2008
From: jaadfoo at gmail.com (Jamie Adams)
Date: Mon Jun  9 15:27:53 2008
Subject: [gdal-dev] Excessive memory usage in python script
Message-ID: <f4339510806091227o265bc4aaxf58c1aacf569ec12@mail.gmail.com>

Hello all,

I've got a python script that reads and extracts elevation subdatasets from
an HDF5 raster.  There are hundreds of these and I'm running into issues
where system memory usage grows increasingly until I get a system "memory
could not be read" error.  All the subdatasets are 600x600 and result in
1.4MB GeoTiffs.  Extracting 6 of these in a row, I get a memory usage as
high as 160MB.  I believe I made it through about 20 of these before the
system choked.

How can I get the memory usage under control?  I'm not concerned about a
minimal footprint, just one that won't crash python.  I've tried various
combinations of del statements at the end of the loop and they seem to make
no difference.  I've also tried removing the Numeric.multiply line just to
make sure I wasn't creating any circular references.  Not sure what else to
do, any advice appreciated.

-Jamie

On WinXP with FWTools version 2.10.

Here's a basic rundown of the script:

###########

for i in hdf_sub:
  outfile = i+'.tif'

  indataset = gdal.Open(i)
  inband = indataset.GetRasterBand(1)

  format = "GTiff"
  outdataset.driver.Create(outfile, inband.XSize, inband.YSize, 1,
gdal.GDT_Float32)
  outband = outdataset.GetRasterBand(1)

  ## Set the geotransform & projection ##
  ......blah...blah

  ## Read data into Numeric array
  temp_out = inband.ReadAsArray(0, 0, inband.XSize, inband.YSize)

  ## Make all values negative
  ## Tried without this line, made no difference
  temp_out = Numeric.multiply(temp_out, -1)

  ## The data is stored reversed on the y-axis, reverse and write
  outband.WriteArray(temp_out[::-1])

###########
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080609/19339da1/attachment.html
From warmerdam at pobox.com  Mon Jun  9 15:34:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun  9 15:35:22 2008
Subject: [gdal-dev] Excessive memory usage in python script
In-Reply-To: <f4339510806091227o265bc4aaxf58c1aacf569ec12@mail.gmail.com>
References: <f4339510806091227o265bc4aaxf58c1aacf569ec12@mail.gmail.com>
Message-ID: <484D85D8.4040609@pobox.com>


>   format = "GTiff"
>   outdataset.driver.Create(outfile, inband.XSize, inband.YSize, 1, 
> gdal.GDT_Float32)
>   outband = outdataset.GetRasterBand(1)

Jamie,

I'm very suspicious about the above, and I *suspect* it is orphaning
the new dataset objects created with the Create() call which might
be responsible for your resource leak.

I would suggest:

   format = "GTiff"
   outdataset = gdal.GetDriverByName(format).Create(....)

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Chris.Barker at noaa.gov  Mon Jun  9 15:40:07 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Mon Jun  9 15:36:46 2008
Subject: [gdal-dev] Excessive memory usage in python script
In-Reply-To: <f4339510806091227o265bc4aaxf58c1aacf569ec12@mail.gmail.com>
References: <f4339510806091227o265bc4aaxf58c1aacf569ec12@mail.gmail.com>
Message-ID: <484D8717.2000104@noaa.gov>

Jamie Adams wrote:
> How can I get the memory usage under control? 

sorry I can't help with this, but as a numpy evangelist...

>   temp_out = Numeric.multiply(temp_out, -1)

this creates and unneeded copy, but you can do:

temp_out *= -1

to do it in-place. (that's certainly work with numpy, but I'm pretty 
sure it's supported in Numeric as well)

One other thought is to use pyTables to get your HDF data, and write the 
geotiffs with GDAL:

http://www.pytables.org/moin

Sorry I couldn't be of more help.

-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From jaadfoo at gmail.com  Mon Jun  9 15:58:00 2008
From: jaadfoo at gmail.com (Jamie Adams)
Date: Mon Jun  9 15:58:02 2008
Subject: [gdal-dev] Excessive memory usage in python script
In-Reply-To: <484D85D8.4040609@pobox.com>
References: <f4339510806091227o265bc4aaxf58c1aacf569ec12@mail.gmail.com>
	<484D85D8.4040609@pobox.com>
Message-ID: <f4339510806091258w54ab0957vbc89a6610bc7adf7@mail.gmail.com>

Oops, I forgot to include:

driver = GetDriverByName(format)

I went ahead and rewrote the line you suggested, same problems though.

Thanks,

Jamie

On Mon, Jun 9, 2008 at 12:34 PM, Frank Warmerdam <warmerdam@pobox.com>
wrote:

>
>   format = "GTiff"
>>  outdataset.driver.Create(outfile, inband.XSize, inband.YSize, 1,
>> gdal.GDT_Float32)
>>  outband = outdataset.GetRasterBand(1)
>>
>
> Jamie,
>
> I'm very suspicious about the above, and I *suspect* it is orphaning
> the new dataset objects created with the Create() call which might
> be responsible for your resource leak.
>
> I would suggest:
>
>  format = "GTiff"
>  outdataset = gdal.GetDriverByName(format).Create(....)
>
> Good luck,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080609/29ff240b/attachment.html
From mpg at lizardtech.com  Mon Jun  9 19:09:21 2008
From: mpg at lizardtech.com (Michael P. Gerlek)
Date: Mon Jun  9 19:09:23 2008
Subject: [gdal-dev] RE: MrSID DSDK 7.x support
In-Reply-To: <20080609160010.1B35BE016B8@lists.osgeo.org>
References: <20080609160010.1B35BE016B8@lists.osgeo.org>
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD1202735CFF@sea-srv-ms3.lizardtech.com>

You guys beat me to it -- thanks!

-mpg


> Date: Mon, 9 Jun 2008 13:48:45 +0400
> From: Andrey Kiselev <dron@ak4719.spb.edu>
> Subject: [gdal-dev] MrSID DSDK 7.x support
> 
> Folks,
> 
> I just checked in the changes required to support the new 
> MrSID DSDK. It
> should work both in trunk and 1.5 branch (will be available 
> in the next
> stable release). See an appropriate ticket for details:
> 
>  http://trac.osgeo.org/gdal/ticket/2410
> 
> Best regards,
> Andrey
> 
> -- 
> Andrey V. Kiselev
> ICQ# 26871517
From ismail at namtrac.org  Tue Jun 10 02:00:07 2008
From: ismail at namtrac.org (=?UTF-8?Q?=C4=B0smail_D=C3=B6nmez?=)
Date: Tue Jun 10 02:00:08 2008
Subject: [gdal-dev] GDALRasterBand::GetUnitType() is not available in Python?
Message-ID: <19e566510806092300n2e34f9a8sa65cdc962e6921fe@mail.gmail.com>

Hi,

Looks like GDALRasterBand::GetUnitType() is not available in Python
bindings. Is there any reason for this, or is it simply just missing?
If the latter I'll try to add it myself.

Regards,
ismail

-- 
Never learn by your mistakes, if you do you may never dare to try again.
From warmerdam at pobox.com  Tue Jun 10 08:23:57 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 10 08:24:20 2008
Subject: [gdal-dev] GDALRasterBand::GetUnitType() is not available in
	Python?
In-Reply-To: <19e566510806092300n2e34f9a8sa65cdc962e6921fe@mail.gmail.com>
References: <19e566510806092300n2e34f9a8sa65cdc962e6921fe@mail.gmail.com>
Message-ID: <484E725D.1040900@pobox.com>

?smail D?nmez wrote:
> Hi,
> 
> Looks like GDALRasterBand::GetUnitType() is not available in Python
> bindings. Is there any reason for this, or is it simply just missing?
> If the latter I'll try to add it myself.

Ismail,

I believe it was just omitted.  It is only implemented for a few formats
so it doesn't see a lot of use.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ismail at namtrac.org  Tue Jun 10 08:54:13 2008
From: ismail at namtrac.org (=?UTF-8?Q?=C4=B0smail_D=C3=B6nmez?=)
Date: Tue Jun 10 08:54:15 2008
Subject: [gdal-dev] GDALRasterBand::GetUnitType() is not available in
	Python?
In-Reply-To: <484E725D.1040900@pobox.com>
References: <19e566510806092300n2e34f9a8sa65cdc962e6921fe@mail.gmail.com>
	<484E725D.1040900@pobox.com>
Message-ID: <19e566510806100554qdb57babu6375892a53e77593@mail.gmail.com>

Hi Frank,

On Tue, Jun 10, 2008 at 3:23 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> ?smail D?nmez wrote:
>>
>> Hi,
>>
>> Looks like GDALRasterBand::GetUnitType() is not available in Python
>> bindings. Is there any reason for this, or is it simply just missing?
>> If the latter I'll try to add it myself.
>
> Ismail,
>
> I believe it was just omitted.  It is only implemented for a few formats
> so it doesn't see a lot of use.

Its useful for DTED files at least, so I'll cook up a patch for it, thanks.

Regards,
ismail

-- 
Never learn by your mistakes, if you do you may never dare to try again.
From dron at ak4719.spb.edu  Tue Jun 10 09:36:04 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Tue Jun 10 09:45:56 2008
Subject: [gdal-dev] RE: MrSID DSDK 7.x support
In-Reply-To: <DBEC881B4E22D1449F5FAC530E1ADD1202735CFF@sea-srv-ms3.lizardtech.com>
References: <20080609160010.1B35BE016B8@lists.osgeo.org>
	<DBEC881B4E22D1449F5FAC530E1ADD1202735CFF@sea-srv-ms3.lizardtech.com>
Message-ID: <20080610133604.GA11089@ak4719.spb.edu>

On Mon, Jun 09, 2008 at 04:09:21PM -0700, Michael P. Gerlek wrote:
> You guys beat me to it -- thanks!
> > 
> > I just checked in the changes required to support the new MrSID
> > DSDK. It should work both in trunk and 1.5 branch (will be available
> > in the next stable release). See an appropriate ticket for details:
> > 
> >  http://trac.osgeo.org/gdal/ticket/2410

It so happens that the new DSDK support is incomplete. JPEG2000 is not
available through the MrSID DSDK 7.x. And there is no easy way to
fix it because of DSDK API breakage. So for now use "--with-jp2mrsid=no"
until the problem will be solved. DSDK 6.x should work fine.

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From usenet at fuchsschwanzdomain.de  Tue Jun 10 13:58:30 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Tue Jun 10 13:58:35 2008
Subject: [gdal-dev] Kartentrash! Jetzt neun, nun auch in Karlsruhe...
Message-ID: <g2mfc6$sgg$1@ultimate100.geggus.net>

http://informationfreeway.org/?lat=6272755.45707&lon=942348.92166&zoom=12

Die Bahnlinie ist irgendwie auch verschwunden.

Entweder "Samuel Fohl" ist frei erfunden, oder Typ spinnt komplett.

Kann man den K?se irgendwie komplett r?ckg?ngig machen? Ich hab
leider keine Tracks oder Luftbilder von besagtem Gebiet.

Bei Mapnik stimmts noch!

Gruss

Sven

-- 
"Those who do not understand Unix are condemned to reinvent it, poorly"
(Henry Spencer)

/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From usenet at fuchsschwanzdomain.de  Tue Jun 10 14:01:33 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Tue Jun 10 14:01:36 2008
Subject: [gdal-dev] Re: Kartentrash! Jetzt neun, nun auch in Karlsruhe...
References: <g2mfc6$sgg$1@ultimate100.geggus.net>
Message-ID: <g2mfht$smg$1@ultimate100.geggus.net>

Sven Geggus <usenet@fuchsschwanzdomain.de> wrote:

> http://informationfreeway.org/?lat=6272755.45707&lon=942348.92166&zoom=12

*argh*

Sorry, wrong List :(

Please cancel if possible

Sven

-- 
Threading is a performance hack.
(The Art of Unix Programming by Eric S. Raymond)

/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From randre at gmail.com  Tue Jun 10 20:02:09 2008
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Tue Jun 10 20:02:17 2008
Subject: [gdal-dev] Polygon winding order in ogrinfo output
Message-ID: <9c2015090806101702v4cff22bkc5e6ba94881b190d@mail.gmail.com>

Just a quick question to find out how the clockwise winding order is
established in ogrinfo output.  Is this because the original data file being
read was created with the polygons in that order, or is it a "feature" of
ogr's?

Thanks.

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080610/2b66bffc/attachment.html
From warmerdam at pobox.com  Tue Jun 10 20:18:34 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Jun 10 20:18:53 2008
Subject: [gdal-dev] Polygon winding order in ogrinfo output
In-Reply-To: <9c2015090806101702v4cff22bkc5e6ba94881b190d@mail.gmail.com>
References: <9c2015090806101702v4cff22bkc5e6ba94881b190d@mail.gmail.com>
Message-ID: <484F19DA.8030204@pobox.com>

Roger Andr? wrote:
> Just a quick question to find out how the clockwise winding order is 
> established in ogrinfo output.  Is this because the original data file 
> being read was created with the polygons in that order, or is it a 
> "feature" of ogr's?

Roger,

OGR uses the simple features geometry model which places no requirements
on the winding direction of polygon rings.  So generally speaking the
winding direction is not defined - often it will be whatever was most
convenient when reading from the source files.

The Shapefile *writer* does have to rewind polygon rings to put them into
the required winding order for shapefiles.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From michele.sanges at otomelara.it  Wed Jun 11 03:57:24 2008
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Wed Jun 11 03:59:04 2008
Subject: [gdal-dev] Image values greater than the maximum.
Message-ID: <1213171044.2673.32.camel@pigreco>

I noticed a problem in my code; it's reproducible with the
Arc/Info_ASCII_GRID gdal dataset taken from:

http://download.osgeo.org/gdal/data/aaigrid/095b_dem_90m.asc

If I call the function GDALComputeRasterMinMax() with the second
parameter 'bApproxOK' set to FALSE, I get the values:

* min=213
* max=538

Then, when I go to read the image with the ReadIO function, all of the
values are within this range and this is ok.

Instead if I call the function GDALComputeRasterMinMax() with the second
parameter 'bApproxOK' set to TRUE, I get the same above min and max
values but when I go to read the image, some of the values are greater
than the maximum.

Why the parameter 'bApproxOK' has influence on the values of data?

Thanks.
Michele

From warmerdam at pobox.com  Wed Jun 11 04:35:04 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 11 04:35:07 2008
Subject: [gdal-dev] Image values greater than the maximum.
In-Reply-To: <1213171044.2673.32.camel@pigreco>
References: <1213171044.2673.32.camel@pigreco>
Message-ID: <931f8ea90806110135wb586da8u952488fb542e932d@mail.gmail.com>

Michele,

This is quite surprising. I'd appreciate your filing a detailed ticket
on the issue.

Best regards,
FrankW

On Wed, Jun 11, 2008 at 3:57 AM, Michele Sanges
<michele.sanges@otomelara.it> wrote:
> I noticed a problem in my code; it's reproducible with the
> Arc/Info_ASCII_GRID gdal dataset taken from:
>
> http://download.osgeo.org/gdal/data/aaigrid/095b_dem_90m.asc
>
> If I call the function GDALComputeRasterMinMax() with the second
> parameter 'bApproxOK' set to FALSE, I get the values:
>
> * min=213
> * max=538
>
> Then, when I go to read the image with the ReadIO function, all of the
> values are within this range and this is ok.
>
> Instead if I call the function GDALComputeRasterMinMax() with the second
> parameter 'bApproxOK' set to TRUE, I get the same above min and max
> values but when I go to read the image, some of the values are greater
> than the maximum.
>
> Why the parameter 'bApproxOK' has influence on the values of data?
>
> Thanks.
> Michele
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush | Geospatial Programmer for Rent
From even.rouault at mines-paris.org  Wed Jun 11 14:01:34 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Jun 11 14:01:43 2008
Subject: [gdal-dev] Image values greater than the maximum.
In-Reply-To: <1213171044.2673.32.camel@pigreco>
References: <1213171044.2673.32.camel@pigreco>
Message-ID: <200806112001.35026.even.rouault@mines-paris.org>

Michele,

Here's what I tried on 1.5 SVN branch :

even@pc-amd64:~/downloads/mapserver/gdal.svn.commit/branches/1.5/gdal$ 
apps/gdalinfo -stats ../../../gdal/095b_dem_90m.asc
Driver: AAIGrid/Arc/Info ASCII Grid
Files: ../../../gdal/095b_dem_90m.asc
....
  Minimum=213.000, Maximum=578.000, Mean=354.816, StdDev=83.352
  NoData Value=-9999

even@pc-amd64:~/downloads/mapserver/gdal.svn.commit/branches/1.5/gdal$ 
apps/gdalinfo -approx_stats ../../../gdal/095b_dem_90m.asc
Driver: AAIGrid/Arc/Info ASCII Grid
Files: ../../../gdal/095b_dem_90m.asc
...
  Minimum=213.000, Maximum=538.000, Mean=355.264, StdDev=83.247
  NoData Value=-9999

So, with bApproxOK=FALSE, the maximum is 578, where as with bApproxOK=TRUE it 
is 538. But, but, but, I had to remove the 095b_dem_90m.asc.aux.xml file that 
stores these results of computations. So I guess it is at the root of the 
strange phenomena you see.

You have probably done the first time an approximate computation, that was 
stored in the .aux.xml file, and then when you ask for an exact computation 
it finds the values in the .aux.xml file and doesn't compute them afterwards.
I don't think the bApproxOK paramater can have any influence on the RasterIO 
result (and really can't see how it could), but you probably got confused by 
the order in which you did all those operations.


Le Wednesday 11 June 2008 09:57:24 Michele Sanges, vous avez ?crit?:
> I noticed a problem in my code; it's reproducible with the
> Arc/Info_ASCII_GRID gdal dataset taken from:
>
> http://download.osgeo.org/gdal/data/aaigrid/095b_dem_90m.asc
>
> If I call the function GDALComputeRasterMinMax() with the second
> parameter 'bApproxOK' set to FALSE, I get the values:
>
> * min=213
> * max=538
>
> Then, when I go to read the image with the ReadIO function, all of the
> values are within this range and this is ok.
>
> Instead if I call the function GDALComputeRasterMinMax() with the second
> parameter 'bApproxOK' set to TRUE, I get the same above min and max
> values but when I go to read the image, some of the values are greater
> than the maximum.
>
> Why the parameter 'bApproxOK' has influence on the values of data?
>
> Thanks.
> Michele
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From fevans at harris.com  Wed Jun 11 14:24:35 2008
From: fevans at harris.com (Evans, Frank)
Date: Wed Jun 11 14:25:22 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
Message-ID: <AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>

Tamas, thanks for the test-results link. I had read that tests were
passing, but the log-detail provided a lot of useful info. I will try
SWIG 1.3.31 this weekend, and let everyone know. I can't switch mono
versions, at least not easily. Are the library outputs for the automated
builds accessible?

I know I'm asking for speculation, but do you think there's a
32-bit/64-bit issue?


-----Original Message-----
From: Tamas Szekeres [mailto:szekerest@gmail.com] 
Sent: Saturday, June 07, 2008 6:30 PM
To: Evans, Frank
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [Gdal-dev] c# Bindings in Mono/Linux


Hi,

I`ve just tried http://download.osgeo.org/gdal/gdal-1.5.2.tar.gz on my
debian AMD64 installation following your compile steps (the install
directory was different). After the successful build I had managed to
run `make test` in the /csharp directory without further hackings and
file copies. (the csharp related files .so .dll .config was in the
same directory where the application has been started)

However my mono and SWIG version are different:

szekerest@sirius:~$ swig -version

SWIG Version 1.3.31

Compiled with g++ [x86_64-unknown-linux-gnu]
Please see http://www.swig.org for reporting bugs and further
information
szekerest@sirius:~$ mcs --version
Mono C# compiler version 1.2.2.1
szekerest@sirius:~$ cat /proc/version
Linux version 2.6.18-5-amd64 (Debian 2.6.18.dfsg.1-13etch6)
(dannf@debian.org) (gcc version 4.1.2 20061115 (prerelease) (Debian
4.1.1-21)) #1 SMP Tue Dec 18 21:39:26 UTC 2007



FYI: The expected compile outputs and the `make test` results can be
inspected at the buildbot:

http://buildbot.osgeo.org:8500/waterfall


Best regards,

Tamas


2008/6/7 fevans <fevans@harris.com>:
>
> This message captures my unsuccessful attempts to get c# bindings to
work
> under mono/Linux.
> Hopefully it will help someone else.
>
> IMPORTANT: If your like me, you're quickly scanning the web looking
for a
> solution. This is not a solution. It is a snapshot of what was tried,
and
> what didn't work.
>
> These attempts were made with the following sources
>
> http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
> http://download.osgeo.org/gdal/gdal-1.5.2.tar.gz
>
> Environment:
> Mono Rev:       1.9.1
> Linux:          2.6.9-67.0.15.ELsmp x86_64 x86_64 x86_64 GNU/Linux
> Swig:           1.3.35
>
>
>
> Reference Discussion Threads:
> In investigating the possibility that this was a 32-bit v.s. 64-bit
issue, I
> found the following threads.
> (Linux 64)
> http://lists.osgeo.org/pipermail/gdal-dev/2005-October/006838.html
> (Linux 64)
>
http://lists.osgeo.org/pipermail/mapserver-users/2006-November/020562.ht
ml
> (Windows 64)
http://article.gmane.org/gmane.comp.gis.gdal.devel/14807
>
> Attachment Descriptions:
> gdal1.5.2.configuration.log     Contains the output of the ./configure
command.
> gdal1.5.2.build.log             Contains the output of the build.
> gdal1.5.2.build.warnings.log    Summary of warnings produced by build.
> mono.shlib.cop.gdal_wrap.log     Run 'mono-shlib-cop gdal_csharp.dll'
>
>
>
> Build Procedures:
> ./configure --without-libtool
--prefix=/ssa/users/fevans/apps/gdal-1.5.2
> make >& gdal1.5.2.build.log &
> cd swig
> make
> cd csharp
> make
> cd $GDAL_SRC_ROOT
> make install
> export PATH="/ssa/users/fevans/apps/gdal-1.5.2/bin:$PATH"
> export
>
LD_LIBRARY_PATH="/ssa/users/fevans/apps/gdal-1.5.2/lib:$LD_LIBRARY_PATH"
>
>
>
>
>
>
> Required Modifications
> There is an error in "swig/csharp/GNUmakefile"
> Change line 50 from :   echo "<dllmap dll=\""$*"_wrap\"
target=\""$@"\" >" >>
> $*_csharp.dll.config
>                          To:   echo "<dllmap dll=\""$*"_wrap\"
> target=\""$@"\" />" >> $*_csharp.dll.config
>
>
> Other things Tried
> 1. Copy bindings to gdal install location. The makefile doesn't do
this.
> After swig/csharp make test failed, I tried numerous things without
success.
>  - Copy all exes and libs from swig/csharp to $GDAL_HOME/bin or
> $GDAL_HOME/lib
>  - In addition copy *.dll, *.dll.config to $GDAL_HOME/bin
>
> export GDAL_DATA=/ssa/users/fevans/apps/gdal-1.5.2/share/gdal
> export
>
LD_LIBRARY_PATH="/ssa/users/fevans/apps/gdal-1.5.2/lib:$LD_LIBRARY_PATH"
> export PATH="/ssa/users/fevans/apps/gdal-1.5.2/bin:$PATH"
>
> cd $GDAL_HOME/bin
> mono ./GDALInfo.exe /tmp/anImage.tif
> Application error: An exception was thrown by the type initializer for
> OSGeo.GDAL.Gdal
> mono --verbose   ./GDALInfo.exe /tmp/anImage.tif >
GDALInfo.exe.stacktrace
>
>
>
> 2. Modify Gdalmake.opt.in to use lib64.
>   This didn't help.
>
> Rename the libraries-Tried modifying the dll.config "dllmap" entries.
For
> example, change "libgdalcsharp.so" to "libgdal_wrap.so"
> -Tried the renaming the libgdalcsharp.so libraries.
> -Tried renaming the libraries as described in the previous steps, but
did it
> in the GNUMakefile, and rebuilt.
>
> Setting MONO_PATH
> Didn't help.
>
>
> Modify the csharp.opt file
> This didn't help me. But I'm wondering if the MONO=YES variable needs
to be
> set in Linux.
> I tried it both ways, without success.
>
> #Uncomment the following line if you want to compile with MONO on
windows
> #MONO = YES
>
> #Comment the following line out if you want to link against the gdal
dll
> #CSHARP_STATIC_LINKAGE = YES
>
>
> http://www.nabble.com/file/p17709337/gdal1.5.2.configuration.log
> gdal1.5.2.configuration.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.build.log
gdal1.5.2.build.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.build.warnings.log
> gdal1.5.2.build.warnings.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.make.install.log
> gdal1.5.2.make.install.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.swig.build.log
> gdal1.5.2.swig.build.log
> http://www.nabble.com/file/p17709337/gdal1.5.2.swig.build.warnings.log
> gdal1.5.2.swig.build.warnings.log
>
http://www.nabble.com/file/p17709337/gdal1.5.2.swig.csharp.make.test.log
> gdal1.5.2.swig.csharp.make.test.log
> http://www.nabble.com/file/p17709337/GDALInfo.exe.stacktrace
> GDALInfo.exe.stacktrace
> http://www.nabble.com/file/p17709337/mono.shlib.cop.gdal_wrap.log
> mono.shlib.cop.gdal_wrap.log
>
> --
> View this message in context:
http://www.nabble.com/c--Bindings-in-Mono-Linux-tp17709337p17709337.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From lran at unc.edu  Wed Jun 11 14:32:07 2008
From: lran at unc.edu (Limei Ran)
Date: Wed Jun 11 14:33:02 2008
Subject: [gdal-dev] how to call netcdf functions
Message-ID: <48501A27.3010001@unc.edu>

Hi:

I compiled GDAL 1.5.1 with PROJ4 and netcdf 3.6.2.  I need to use some 
functions in the netcdf library defined in "netcdf.h". Which header file 
should I include in my application from installed GDAL include dir in 
order to access netcdf classes?  When I included netcdf.h and compiled 
my c++ codes, the compiler can not find  netcdf.h file. 
 
Thanks,

Limei
From szekerest at gmail.com  Wed Jun 11 16:29:30 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Jun 11 16:29:37 2008
Subject: [Gdal-dev] c# Bindings in Mono/Linux
In-Reply-To: <AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
References: <17709337.post@talk.nabble.com>
	<f3b73b7d0806071530y41dd71fatcd968bf9a741e311@mail.gmail.com>
	<AB39AC95FD69E249A5DA5B487C727D1301009A8F@mlbe2k4.cs.myharris.net>
Message-ID: <f3b73b7d0806111329o31d36f4of198171ea1986cee@mail.gmail.com>

2008/6/11 Evans, Frank <fevans@harris.com>:
> Tamas, thanks for the test-results link. I had read that tests were
> passing, but the log-detail provided a lot of useful info. I will try
> SWIG 1.3.31 this weekend, and let everyone know. I can't switch mono
> versions, at least not easily. Are the library outputs for the automated
> builds accessible?
>

The build directory of the linux builders used to be accessible from
the following link:
http://buildbot.osgeo.org/gdal-full/
http://buildbot.osgeo.org/gdal-quick/

But it seems like having a permission problem at the moment.

> I know I'm asking for speculation, but do you think there's a
> 32-bit/64-bit issue?
>

I`ve been trying on debian AMD64 as I`ve noted in my previous post so
I doubt that this is a 64 bit OS related issue.
The version of swig and mono might even more be an issue.

Best regards,

Tamas
From tim.bowden at westnet.com.au  Wed Jun 11 23:46:18 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Thu Jun 12 02:08:46 2008
Subject: [gdal-dev] osm xml and everything else
Message-ID: <1213242378.6065.7.camel@edoras>

I understand there was talk about an ogr-osm driver.  Did it ever get
anywhere?  If so, what state is it in?  If not, what is the current
recommended route to getting data between osm and everything else?  I'm
wanting to take snippets of osm xml and in the first instance, put it in
kml.  Ultimately, I'm wanting it in postgis where I can make real use of
it.  I'd also like to be able to easily suck new data out of postgis
into something osm can use.  Recommendations?

Thanks,
Tim Bowden

From geotech.sarel at gmail.com  Thu Jun 12 03:09:18 2008
From: geotech.sarel at gmail.com (Sarel Coetzer)
Date: Thu Jun 12 03:09:24 2008
Subject: [gdal-dev] fwtools problem
Message-ID: <89f54d350806120009g2d02022du225d353bded1c6a2@mail.gmail.com>

Hi

For some reason unknown to me it seems I cant get fwtools2.1.0 to function.

I installed it directly under c:\

Once in the shell I setup the following command:
ogr2ogr -f "KML" mykml.kml PG:"user=xxx dbname=xxx host=localhost
password=xxx port=xxx"  postgislayer

Failure Message:
Unable to open datasource 'xxx' with the following drivers.
"List of all drivers"


Regards
Sarel

-- 
"http://sarelgis.blogspot.com/"
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080612/01172cc9/attachment.html
From tim.bowden at westnet.com.au  Thu Jun 12 03:15:58 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Thu Jun 12 03:16:16 2008
Subject: [gdal-dev] osm xml and everything else
In-Reply-To: <AA31868BC8CE1B4DB132141A6556A20A0E69D0@dev010_ex.Dev.cadcorp.net>
References: <1213242378.6065.7.camel@edoras>
	<AA31868BC8CE1B4DB132141A6556A20A0E69D0@dev010_ex.Dev.cadcorp.net>
Message-ID: <1213254958.6065.8.camel@edoras>

On Thu, 2008-06-12 at 07:59 +0100, Martin Daly wrote:
> > I understand there was talk about an ogr-osm driver.  Did it ever get
> > anywhere?  If so, what state is it in?  If not, what is the current
> > recommended route to getting data between osm and everything else?
> I'm
> > wanting to take snippets of osm xml and in the first instance, put it
> in
> > kml.  Ultimately, I'm wanting it in postgis where I can make real use
> of
> > it.  I'd also like to be able to easily suck new data out of postgis
> > into something osm can use.  Recommendations?
> 
> http://svn.openstreetmap.org/applications/utils/export/
> http://svn.openstreetmap.org/applications/utils/export/osm2kml/
> http://svn.openstreetmap.org/applications/utils/export/osm2pgsql/
> http://svn.openstreetmap.org/applications/utils/import/
> 
> M

Thanks Martin, just goes to show how much I know about osm!

Regards,
Tim Bowden

From Martin.Daly at cadcorp.com  Thu Jun 12 02:59:35 2008
From: Martin.Daly at cadcorp.com (Martin Daly)
Date: Thu Jun 12 04:43:58 2008
Subject: [gdal-dev] osm xml and everything else
In-Reply-To: <1213242378.6065.7.camel@edoras>
References: <1213242378.6065.7.camel@edoras>
Message-ID: <AA31868BC8CE1B4DB132141A6556A20A0E69D0@dev010_ex.Dev.cadcorp.net>

> I understand there was talk about an ogr-osm driver.  Did it ever get
> anywhere?  If so, what state is it in?  If not, what is the current
> recommended route to getting data between osm and everything else?
I'm
> wanting to take snippets of osm xml and in the first instance, put it
in
> kml.  Ultimately, I'm wanting it in postgis where I can make real use
of
> it.  I'd also like to be able to easily suck new data out of postgis
> into something osm can use.  Recommendations?

http://svn.openstreetmap.org/applications/utils/export/
http://svn.openstreetmap.org/applications/utils/export/osm2kml/
http://svn.openstreetmap.org/applications/utils/export/osm2pgsql/
http://svn.openstreetmap.org/applications/utils/import/

M
From Martin.Daly at cadcorp.com  Thu Jun 12 03:41:56 2008
From: Martin.Daly at cadcorp.com (Martin Daly)
Date: Thu Jun 12 05:10:43 2008
Subject: [gdal-dev] osm xml and everything else
In-Reply-To: <1213254958.6065.8.camel@edoras>
References: <1213242378.6065.7.camel@edoras>
	<AA31868BC8CE1B4DB132141A6556A20A0E69D0@dev010_ex.Dev.cadcorp.net>
	<1213254958.6065.8.camel@edoras>
Message-ID: <AA31868BC8CE1B4DB132141A6556A20A0E69D1@dev010_ex.Dev.cadcorp.net>

> Thanks Martin, just goes to show how much I know about osm!

Whereas I know just enough to be dangerous :)

M
From usenet at fuchsschwanzdomain.de  Thu Jun 12 05:20:58 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Thu Jun 12 05:21:01 2008
Subject: [gdal-dev] Re: osm xml and everything else
References: <1213242378.6065.7.camel@edoras>
Message-ID: <g2qppq$7uc$1@ultimate100.geggus.net>

Tim Bowden <tim.bowden@westnet.com.au> wrote:

> I'd also like to be able to easily suck new data out of postgis into
> something osm can use.  Recommendations?

The better List for asking stuff like this should be dev@openstreetmap.org.

http://lists.openstreetmap.org/cgi-bin/mailman/listinfo/dev

There are also regular shapefile exports from europe on
http://download.geofabrik.de/osm/europe/

Regards

Sven

-- 
Those who would give up Essential Liberty to purchase a little Temporary
Safety, deserve neither Liberty nor Safety (Benjamin Franklin)

/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From xavi.almolda+OGR at gmail.com  Thu Jun 12 05:26:16 2008
From: xavi.almolda+OGR at gmail.com (Xavi Almolda)
Date: Thu Jun 12 05:26:19 2008
Subject: [gdal-dev] Checking for a NULL value in a field using OGR
In-Reply-To: <f65d2c9b0806120222t4ebc9df6va2c507419f7fae2e@mail.gmail.com>
References: <f65d2c9b0806120222t4ebc9df6va2c507419f7fae2e@mail.gmail.com>
Message-ID: <f65d2c9b0806120226k2131681ckd0570db158463598@mail.gmail.com>

Hello,

I am using OGR to read information from ESRI Shapefile files. I have a
problem with empty or null fields. I need to know when a value for a field
has not been set. Something like an isNull() or isSet() function.
For example, if I read a value as integer from a field that is empty, the
value returned is a 0. The same value is returned if the field has a value
of 0.

Is there any way to check for these empty or not set field values using OGR
?

Thank you,

Xavi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080612/7e865dfa/attachment.html
From otto.dassau at gmx.de  Thu Jun 12 07:05:34 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Thu Jun 12 07:06:39 2008
Subject: [gdal-dev] compile gdal with hdf4 support
Message-ID: <20080612130534.2d8871fc@nature>

Hi, 

I fail to compile GDAL 1.5.2 with HDF4 support on OpenSuSE 10.3, can someone
give a hint?

libtool: compile:  gcc -g -O2 -Wall -Wdeclaration-after-statement
-I/usr/src/packages/BUILD/gdal-1.5.2/port
-I/usr/src/packages/BUILD/gdal-1.5.2/gcore
-I/usr/src/packages/BUILD/gdal-1.5.2/alg
-I/usr/src/packages/BUILD/gdal-1.5.2/ogr
-I/usr/src/packages/BUILD/gdal-1.5.2/ogr/ogrsf_frmts
-I/usr/src/packages/BUILD/gdal-1.5.2/ogr -I. -DOGR_ENABLED
-I/usr/src/packages/BUILD/gdal-1.5.2/port -c EHapi.c -o ../../o/EHapi.o
>/dev/null 2>&1
/bin/sh /usr/src/packages/BUILD/gdal-1.5.2/libtool --mode=compile --tag=CC
/gcc -g -O2  -Wall -Wdeclaration-after-statement
/-I/usr/src/packages/BUILD/gdal-1.5.2/port
/-I/usr/src/packages/BUILD/gdal-1.5.2/gcore
/-I/usr/src/packages/BUILD/gdal-1.5.2/alg
/-I/usr/src/packages/BUILD/gdal-1.5.2/ogr
/-I/usr/src/packages/BUILD/gdal-1.5.2/ogr/ogrsf_frmts
/-I/usr/src/packages/BUILD/gdal-1.5.2/ogr -I. -DOGR_ENABLED
/-I/usr/src/packages/BUILD/gdal-1.5.2/port   -c -o ../../o/GDapi.o GDapi.c
libtool: compile:  gcc -g -O2 -Wall -Wdeclaration-after-statement
-I/usr/src/packages/BUILD/gdal-1.5.2/port
-I/usr/src/packages/BUILD/gdal-1.5.2/gcore
-I/usr/src/packages/BUILD/gdal-1.5.2/alg
-I/usr/src/packages/BUILD/gdal-1.5.2/ogr
-I/usr/src/packages/BUILD/gdal-1.5.2/ogr/ogrsf_frmts
-I/usr/src/packages/BUILD/gdal-1.5.2/ogr -I. -DOGR_ENABLED
-I/usr/src/packages/BUILD/gdal-1.5.2/port -c GDapi.c  -fPIC -DPIC -o
../../o/.libs/GDapi.o
GDapi.c: In function 'GDsdid':
GDapi.c:10873: error: 'MAX_VAR_DIMS' undeclared (first use in this function)
GDapi.c:10873: error: (Each undeclared identifier is reported only once
GDapi.c:10873: error: for each function it appears in.)
GDapi.c:10873: warning: unused variable 'dims'
make[3]: *** [../../o/GDapi.o] Error 1
make[3]: Leaving directory
`/usr/src/packages/BUILD/gdal-1.5.2/frmts/hdf4/hdf-eos'
make[2]: *** [lib-hdfeos] Error 2
make[2]: Leaving directory `/usr/src/packages/BUILD/gdal-1.5.2/frmts/hdf4'
make[1]: *** [hdf4-install-obj] Error 2
make[1]: Leaving directory `/usr/src/packages/BUILD/gdal-1.5.2/frmts'
make: *** [frmts-target] Error 2

thanks a lot,
 Otto

From Martin.Spott at mgras.net  Thu Jun 12 08:29:20 2008
From: Martin.Spott at mgras.net (Martin Spott)
Date: Thu Jun 12 08:30:12 2008
Subject: [gdal-dev] osm xml and everything else
References: <1213242378.6065.7.camel@edoras>
Message-ID: <g2r4r0$ehi$1@osprey.mgras.de>

Tim Bowden wrote:

> [...] Ultimately, I'm wanting it in postgis where I can make real use of
> it.  I'd also like to be able to easily suck new data out of postgis
> into something osm can use.  Recommendations?

Getting 'foreign' formats into OSM might prove to be challenging ....

Just to suck small areas into PostGIS I'd say 'osm2pgsql' is your
friend. If you're just looking for occasional snippets, then I might
have this download page on offer for you - I'm updating the OSM
layer(s) approx. every month:

  http://mapserver.flightgear.org/download.psp

Cheers,
	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------
From geotech.sarel at gmail.com  Thu Jun 12 08:37:11 2008
From: geotech.sarel at gmail.com (Sarel Coetzer)
Date: Thu Jun 12 08:37:13 2008
Subject: [gdal-dev] Unable to open datasource
Message-ID: <89f54d350806120537y720a8cc1y849bb0f8d8d7137e@mail.gmail.com>

Hi

For some strange reason my FWTools packages seems to work only for certain
databases. I am able to convert a postgis layer to what ever I want but with
a particular postgres database where there are two schema's present it seems
it can't read the data source, even though my GIS data is housed in the
public schema.

Anybody with a solution?

Many thanks
Sarel

-- 
"http://sarelgis.blogspot.com/"
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080612/4e561885/attachment.html
From szekerest at gmail.com  Thu Jun 12 11:34:34 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Jun 12 11:34:37 2008
Subject: [gdal-dev] Checking for a NULL value in a field using OGR
In-Reply-To: <f65d2c9b0806120226k2131681ckd0570db158463598@mail.gmail.com>
References: <f65d2c9b0806120222t4ebc9df6va2c507419f7fae2e@mail.gmail.com>
	<f65d2c9b0806120226k2131681ckd0570db158463598@mail.gmail.com>
Message-ID: <f3b73b7d0806120834i5936d6c1tf939801fb06711b6@mail.gmail.com>

You could probably use OGRFeature::IsFieldSet but I doubt if it is
properly handled by the driver for the numeric fields.

Best regards,

Tamas


2008/6/12 Xavi Almolda <xavi.almolda+OGR@gmail.com>:
> Hello,
>
> I am using OGR to read information from ESRI Shapefile files. I have a
> problem with empty or null fields. I need to know when a value for a field
> has not been set. Something like an isNull() or isSet() function.
> For example, if I read a value as integer from a field that is empty, the
> value returned is a 0. The same value is returned if the field has a value
> of 0.
>
> Is there any way to check for these empty or not set field values using OGR
> ?
>
> Thank you,
>
> Xavi
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From xavi.almolda+OGR at gmail.com  Thu Jun 12 12:16:01 2008
From: xavi.almolda+OGR at gmail.com (Xavi Almolda)
Date: Thu Jun 12 12:19:28 2008
Subject: [gdal-dev] Checking for a NULL value in a field using OGR
In-Reply-To: <f3b73b7d0806120834i5936d6c1tf939801fb06711b6@mail.gmail.com>
References: <f65d2c9b0806120222t4ebc9df6va2c507419f7fae2e@mail.gmail.com>
	<f65d2c9b0806120226k2131681ckd0570db158463598@mail.gmail.com>
	<f3b73b7d0806120834i5936d6c1tf939801fb06711b6@mail.gmail.com>
Message-ID: <f65d2c9b0806120916n1ff9f52fn5281f897fc3d99d1@mail.gmail.com>

Thank you Tamas. This is exactly what I was looking for.

I wonder why this method does not appear in the documentation.

Regards,

Xavi

On Thu, Jun 12, 2008 at 5:34 PM, Tamas Szekeres <szekerest@gmail.com> wrote:
> You could probably use OGRFeature::IsFieldSet but I doubt if it is
> properly handled by the driver for the numeric fields.
>
> Best regards,
>
> Tamas
>
>
> 2008/6/12 Xavi Almolda <xavi.almolda+OGR@gmail.com>:
>> Hello,
>>
>> I am using OGR to read information from ESRI Shapefile files. I have a
>> problem with empty or null fields. I need to know when a value for a field
>> has not been set. Something like an isNull() or isSet() function.
>> For example, if I read a value as integer from a field that is empty, the
>> value returned is a 0. The same value is returned if the field has a value
>> of 0.
>>
>> Is there any way to check for these empty or not set field values using OGR
>> ?
>>
>> Thank you,
>>
>> Xavi
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
From even.rouault at mines-paris.org  Thu Jun 12 13:56:25 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Jun 12 13:56:31 2008
Subject: [gdal-dev] Checking for a NULL value in a field using OGR
In-Reply-To: <f65d2c9b0806120916n1ff9f52fn5281f897fc3d99d1@mail.gmail.com>
References: <f65d2c9b0806120222t4ebc9df6va2c507419f7fae2e@mail.gmail.com>
	<f3b73b7d0806120834i5936d6c1tf939801fb06711b6@mail.gmail.com>
	<f65d2c9b0806120916n1ff9f52fn5281f897fc3d99d1@mail.gmail.com>
Message-ID: <200806121956.26475.even.rouault@mines-paris.org>

Good point ! This was documented indeed, but due to a mismatch between the 
actual C++ signature and the signature in the documentation, doxygen didn't 
generate the documentation... Fixed now. Website will be updated soon.

Le Thursday 12 June 2008 18:16:01 Xavi Almolda, vous avez ?crit?:
> Thank you Tamas. This is exactly what I was looking for.
>
> I wonder why this method does not appear in the documentation.
>
> Regards,
>
> Xavi
>
> On Thu, Jun 12, 2008 at 5:34 PM, Tamas Szekeres <szekerest@gmail.com> wrote:
> > You could probably use OGRFeature::IsFieldSet but I doubt if it is
> > properly handled by the driver for the numeric fields.
> >
> > Best regards,
> >
> > Tamas
> >
> > 2008/6/12 Xavi Almolda <xavi.almolda+OGR@gmail.com>:
> >> Hello,
> >>
> >> I am using OGR to read information from ESRI Shapefile files. I have a
> >> problem with empty or null fields. I need to know when a value for a
> >> field has not been set. Something like an isNull() or isSet() function.
> >> For example, if I read a value as integer from a field that is empty,
> >> the value returned is a 0. The same value is returned if the field has a
> >> value of 0.
> >>
> >> Is there any way to check for these empty or not set field values using
> >> OGR ?
> >>
> >> Thank you,
> >>
> >> Xavi
> >>
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From rezso at rdsor.ro  Thu Jun 12 22:23:19 2008
From: rezso at rdsor.ro (Balint Cristian)
Date: Thu Jun 12 22:38:41 2008
Subject: [gdal-dev] compile gdal with hdf4 support
In-Reply-To: <20080612130534.2d8871fc@nature>
References: <20080612130534.2d8871fc@nature>
Message-ID: <200806130523.19705.rezso@rdsor.ro>


> GDapi.c:10873: error: 'MAX_VAR_DIMS' undeclared (first use in this
> function) GDapi.c:10873: error: (Each undeclared identifier is reported
> only once GDapi.c:10873: error: for each function it appears in.)
> GDapi.c:10873: warning: unused variable 'dims'

Hello Otto,

Try run following snipped in your bash shell, make sure
you are in root of gdal source folder:

# bug 189337 c8
# HAVE_NETCDF is not present anymore in hdf
pushd frmts/hdf4
for file in `find . -type f -name "*.*"`
do
  sed -i \
    -e 's|MAX_NC_NAME|H4_MAX_NC_NAME|' \
    -e 's|MAX_VAR_DIMS|H4_MAX_VAR_DIMS|' \
    -e 's|MAX_NC_DIMS|H4_MAX_NC_DIMS|g' \
    -e 's|UNKNOWN|H4_UNKNOWN|g' \
   $file
done
popd

This should fix it.

//cristian
From jluis at ualg.pt  Thu Jun 12 23:03:48 2008
From: jluis at ualg.pt (jluis@ualg.pt)
Date: Thu Jun 12 23:03:52 2008
Subject: [gdal-dev] compile gdal with hdf4 support
In-Reply-To: <20080612130534.2d8871fc@nature>
References: <20080612130534.2d8871fc@nature>
Message-ID: <20080613050348.42207831shozmavo@wmail.ualg.pt>

Quoting Otto Dassau <otto.dassau@gmx.de>:

> Hi,
>
> I fail to compile GDAL 1.5.2 with HDF4 support on OpenSuSE 10.3, can someone
> give a hint?

Otto,

This thing is highly mysterious. About a week ago I was able to  
compile 1.5.2RC2 but now I get the same error (and the same with the  
trunk version).

The missing macros are defined in netcdf.h and I don't understand how  
they are fund sometimes and not others. So end of the story. To end  
the suffering
add this to HdfEosDef.h

#ifndef MAX_VAR_DIMS		/* defined in netcdf.h */
#define MAX_VAR_DIMS 1024
#endif



and this to hdf4dataset.h

#ifndef MAX_VAR_DIMS		/* defined in netcdf.h */
#define MAX_VAR_DIMS 1024
#endif
#ifndef MAX_NC_NAME
#define MAX_NC_NAME 256
#endif
#ifndef MAX_NC_DIMS
#define MAX_NC_DIMS 5000
#endif


Joaquim Luis

>
> libtool: compile:  gcc -g -O2 -Wall -Wdeclaration-after-statement
> -I/usr/src/packages/BUILD/gdal-1.5.2/port
> -I/usr/src/packages/BUILD/gdal-1.5.2/gcore
> -I/usr/src/packages/BUILD/gdal-1.5.2/alg
> -I/usr/src/packages/BUILD/gdal-1.5.2/ogr
> -I/usr/src/packages/BUILD/gdal-1.5.2/ogr/ogrsf_frmts
> -I/usr/src/packages/BUILD/gdal-1.5.2/ogr -I. -DOGR_ENABLED
> -I/usr/src/packages/BUILD/gdal-1.5.2/port -c EHapi.c -o ../../o/EHapi.o
>> /dev/null 2>&1
> /bin/sh /usr/src/packages/BUILD/gdal-1.5.2/libtool --mode=compile --tag=CC
> /gcc -g -O2  -Wall -Wdeclaration-after-statement
> /-I/usr/src/packages/BUILD/gdal-1.5.2/port
> /-I/usr/src/packages/BUILD/gdal-1.5.2/gcore
> /-I/usr/src/packages/BUILD/gdal-1.5.2/alg
> /-I/usr/src/packages/BUILD/gdal-1.5.2/ogr
> /-I/usr/src/packages/BUILD/gdal-1.5.2/ogr/ogrsf_frmts
> /-I/usr/src/packages/BUILD/gdal-1.5.2/ogr -I. -DOGR_ENABLED
> /-I/usr/src/packages/BUILD/gdal-1.5.2/port   -c -o ../../o/GDapi.o GDapi.c
> libtool: compile:  gcc -g -O2 -Wall -Wdeclaration-after-statement
> -I/usr/src/packages/BUILD/gdal-1.5.2/port
> -I/usr/src/packages/BUILD/gdal-1.5.2/gcore
> -I/usr/src/packages/BUILD/gdal-1.5.2/alg
> -I/usr/src/packages/BUILD/gdal-1.5.2/ogr
> -I/usr/src/packages/BUILD/gdal-1.5.2/ogr/ogrsf_frmts
> -I/usr/src/packages/BUILD/gdal-1.5.2/ogr -I. -DOGR_ENABLED
> -I/usr/src/packages/BUILD/gdal-1.5.2/port -c GDapi.c  -fPIC -DPIC -o
> ../../o/.libs/GDapi.o
> GDapi.c: In function 'GDsdid':
> GDapi.c:10873: error: 'MAX_VAR_DIMS' undeclared (first use in this function)
> GDapi.c:10873: error: (Each undeclared identifier is reported only once
> GDapi.c:10873: error: for each function it appears in.)
> GDapi.c:10873: warning: unused variable 'dims'
> make[3]: *** [../../o/GDapi.o] Error 1
> make[3]: Leaving directory
> `/usr/src/packages/BUILD/gdal-1.5.2/frmts/hdf4/hdf-eos'
> make[2]: *** [lib-hdfeos] Error 2
> make[2]: Leaving directory `/usr/src/packages/BUILD/gdal-1.5.2/frmts/hdf4'
> make[1]: *** [hdf4-install-obj] Error 2
> make[1]: Leaving directory `/usr/src/packages/BUILD/gdal-1.5.2/frmts'
> make: *** [frmts-target] Error 2
>
> thanks a lot,
>  Otto
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.

From jerome.waymel-ste-exterieure at fr.thalesgroup.com  Fri Jun 13 03:34:53 2008
From: jerome.waymel-ste-exterieure at fr.thalesgroup.com (jwaymel)
Date: Fri Jun 13 03:34:55 2008
Subject: [Gdal-dev] gdal output georeference
Message-ID: <17816836.post@talk.nabble.com>


Hello

I am working on a conversion pipeline in order to convert mercator tiff
files (not georeferenced) to latlong geotiff.
For the moment I only try to obtain approximately consistent output. The
problem is that my output latitudes are completely inconsistent.

Here are the steps and th results :
==========
  STEP 1 : I use proj command to locate top left corner and bottom right
corner (46N,2W and 43N,1E)
      proj +proj=merc
      46 -2
      5120697 -221194
      43 1
      4786738 110580

  I fill in a tfw file with this information ( source data 448*640)
740.5669643
0
0
-521.8109375
-221194
5120697
     
==========
  STEP 2 : I use geotifcp to create my input file for gdal using tfw file
      geotifcp -e input.tfw input.tif input_geotif.tif

      listgeo input_geotif.tif

     Geotiff_Information:
   Version: 1
   Key_Revision: 1.0
   Tagged_Information:
      ModelTiepointTag (2,3):
         0.5              0.5              0
         -221194          5120697          0
      ModelPixelScaleTag (1,3):
         740.566964       521.810938       0
      End_Of_Tags.
   Keyed_Information:
      End_Of_Keys.
   End_Of_Geotiff.


Corner Coordinates:
Upper Left    ( -221564.283, 5120957.905)
Lower Left    ( -221564.283, 4786998.905)
Upper Right   (  110209.717, 5120957.905)
Lower Right   (  110209.717, 4786998.905)
Center        (  -55677.283, 4953978.405)

==========
  STEP 3 :  I launch gdalwarp
     gdalwarp -s_srs "+proj=merc" -t_srs WGS84 input_geotif.tif output.tif

=========
  STEP 4 : I check my output with listgeo : latitudes do not match at all my
input

Geotiff_Information:
   Version: 1
   Key_Revision: 1.0
   Tagged_Information:
      ModelTiepointTag (2,3):
         0                0                0
         -1.99034582      41.9234149       0
      ModelPixelScaleTag (1,3):
         0.00480331681    0.00480331681    0
      End_Of_Tags.
   Keyed_Information:
      GTModelTypeGeoKey (Short,1): ModelTypeGeographic
      GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
      GeographicTypeGeoKey (Short,1): GCS_WGS_84
      GeogCitationGeoKey (Ascii,7): "WGS 84"
      GeogAngularUnitsGeoKey (Short,1): Angular_Degree
      End_Of_Keys.
   End_Of_Geotiff.

GCS: 4326/WGS 84
Datum: 6326/World Geodetic System 1984
Ellipsoid: 7030/WGS 84 (6378137.00,6356752.31)
Prime Meridian: 8901/Greenwich (0.000000/  0d 0' 0.00"E)

Corner Coordinates:
Upper Left    (  1d59'25.24"W, 41d55'24.29"N)
Lower Left    (  1d59'25.24"W, 39d38'30.62"N)
Upper Right   (  0d59'15.76"E, 41d55'24.29"N)
Lower Right   (  0d59'15.76"E, 39d38'30.62"N)
Center        (  0d30' 4.74"W, 40d46'57.46"N)

You can see my output top latitude is 41d55' instead of 46d00' !
 Do you have any hint ?

Best regards, and thanks a lot for having read until this line !


  I
-- 
View this message in context: http://www.nabble.com/gdal-output-georeference-tp17816836p17816836.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From guillaume.sueur at neogeo-online.net  Fri Jun 13 08:27:00 2008
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Fri Jun 13 08:57:17 2008
Subject: [gdal-dev] gdal build with dwg support
Message-ID: <48526794.1070703@neogeo-online.net>

Hi list,

I'm trying hard to build gdal-ogr with openAlliance dwgdirect lib.
I've resolved many little problems already, but I still have this one :
/usr/local/src/gdal-1.5.1/.libs/libgdal.so: undefined reference to 
`OdDbHostAppServices2::key() const'

Looks like libgdal tries to link with dwgdirect and can't, right ?
why does gdal needs dwg driver ?
is there a workaround ?

Thanks
-- 
Guillaume

From otto.dassau at gmx.de  Fri Jun 13 09:53:06 2008
From: otto.dassau at gmx.de (Otto Dassau)
Date: Fri Jun 13 09:54:12 2008
Subject: [gdal-dev] compile gdal with hdf4 support
In-Reply-To: <200806130523.19705.rezso@rdsor.ro>
References: <20080612130534.2d8871fc@nature>
	<200806130523.19705.rezso@rdsor.ro>
Message-ID: <20080613155306.2e4756db@nature>

Hi Christian, 

thanks a lot for your hint, it worked well so I finally used it to create
gdal 1.5.2 packages with hdf4 support for OpenSuSE. The packages are available
at the Application:/Geo/ repository:

regards,
 Otto

On Fri, 13 Jun 2008 05:23:19 +0300
Balint Cristian <rezso@rdsor.ro> wrote:

> 
> > GDapi.c:10873: error: 'MAX_VAR_DIMS' undeclared (first use in this
> > function) GDapi.c:10873: error: (Each undeclared identifier is reported
> > only once GDapi.c:10873: error: for each function it appears in.)
> > GDapi.c:10873: warning: unused variable 'dims'
> 
> Hello Otto,
> 
> Try run following snipped in your bash shell, make sure
> you are in root of gdal source folder:
> 
> # bug 189337 c8
> # HAVE_NETCDF is not present anymore in hdf
> pushd frmts/hdf4
> for file in `find . -type f -name "*.*"`
> do
>   sed -i \
>     -e 's|MAX_NC_NAME|H4_MAX_NC_NAME|' \
>     -e 's|MAX_VAR_DIMS|H4_MAX_VAR_DIMS|' \
>     -e 's|MAX_NC_DIMS|H4_MAX_NC_DIMS|g' \
>     -e 's|UNKNOWN|H4_UNKNOWN|g' \
>    $file
> done
> popd
> 
> This should fix it.
> 
> //cristian
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From nharding at extendthereach.com  Fri Jun 13 11:30:16 2008
From: nharding at extendthereach.com (Ned Harding)
Date: Fri Jun 13 11:31:24 2008
Subject: [gdal-dev] Vertical Mapper GRD files
Message-ID: <3B6819E719271748B923CE3CDBD4EC98038E5AAE@srcmail1.extendthereach.com>

Does anyone have any information about how to read Vertical Mapper
GRD/GRC files?  I haven't been able to find much on them.

 

Ned Harding

CTO

SRC, LLC

3825 Iris Avenue, Suite 150

Boulder, CO 80301
(303) 440-8896 x104
nharding@extendthereach.com <mailto:nharding@extendthereach.com> 

 

Visit SRC on the web at www.ExtendTheReach.com
<http://www.extendthereach.com/> 

See SRC in Action at www.DemographicsNow.com
<http://www.demographicsnow.com/> 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080613/0c5a20e7/attachment-0001.html
From dvieira at municipia.pt  Fri Jun 13 11:34:13 2008
From: dvieira at municipia.pt (Diogo Vieira)
Date: Fri Jun 13 11:34:15 2008
Subject: [gdal-dev] Problem with driver to ArcSDE Raster Catalogs!!
Message-ID: <AA838C71B162AE48B0967FB43528631A115C51@pat.municipia.pt>

Hi,

 

I am a user of Mapserver and I want to connect to ArcSDE Raster Catalogs from Mapserver.

For what I read in the page http://www.gdal.org/frmt_sde.html, actually GDAL does not support the reading of "ESRI ArcSDE Raster Catalogs"!!

I made an example, and I only obtained to load the first image of ArcSDE Raster Catalogs. I think that driver ArcSDE (through the lib GDAL) did not get the information of the images in the catalog, that is, the index of diverse tiles. Summarizing, the driver can read raster from ArcSDE, correct??...but can?t read the Raster Catalogs, correct? So, what I can do to decide this limitation?

 

Thanks a lot,

Diogo Vieira

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080613/0e3cb2ee/attachment.html
From jaadfoo at gmail.com  Fri Jun 13 14:02:00 2008
From: jaadfoo at gmail.com (Jamie Adams)
Date: Fri Jun 13 14:02:08 2008
Subject: [gdal-dev] gdalinfo and HDF5 metadata
Message-ID: <f4339510806131102y4f6423e1y3b5859394b9f2375@mail.gmail.com>

I've got a HDF5 file that has data projected both geographic and in north
polar stereographic.  The internal directories are different, but the end
file name is the same ("//geo/2.00000/2_1" vs "//nps/2.00000/2_1").  I've
verified using hdfview that the metadata exists for both.

I noticed gdalinfo is only returning bounding information for one dataset or
the other.  The metadata is returned in the format "2_1:west=17.5".  In this
case, is gdalinfo only displaying one unique entry where there may have been
multiples stored internally?

I ran into a similar issue with the python bindings, I noticed it was filed
as a bug: http://trac.osgeo.org/gdal/ticket/2412.

Thanks,

Jamie Adams
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080613/6f984346/attachment.html
From jluis at ualg.pt  Fri Jun 13 17:34:55 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Fri Jun 13 17:35:01 2008
Subject: [gdal-dev] More on compiling with HDF4, now on Windows
Message-ID: <4852E7FF.9000401@ualg.pt>

The nmake.opt settings won't let us compile with HDF42r2.

While for 42r1 all we need is to set (like indicated in the file)

HDF4_DIR =    c:\prorgrams\HDF42r1
HDF4_LIB =    /LIBPATH:$(HDF4_DIR)\lib Ws2_32.lib

The above doesn't work for HDF42r2 (some 700 symbols not found)

By trial (and it worths what it worths) this worked
HDF4_LIB =   $(HDF4_DIR)\dll\hm422m.lib $(HDF4_DIR)\dll\hd422m.lib 
$(HDF4_DIR)\dll\mfhdf_fcstubdll.lib Ws2_32.lib

Joaquim Luis

From legeochen at gmail.com  Sat Jun 14 04:26:52 2008
From: legeochen at gmail.com (=?GB2312?B?s8LBvNbc?=)
Date: Sat Jun 14 04:26:56 2008
Subject: [gdal-dev] GDAL WINCE cannot read data
Message-ID: <b508b9770806140126w5b7a515blb250f78a83a03f83@mail.gmail.com>

I am new to gdal. I just download gdal1.5.1 for wince, and compiled it
successfully. But when I try to read some data from file, like Erdas
Imangine(*.img),GoeTiff, or shapefile I foud no driver supporting reading
 these data.  I get nothing after reading data. I just cannot figure it out.
Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080614/6119a8c2/attachment.html
From jmckenna at gatewaygeomatics.com  Sat Jun 14 07:56:14 2008
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Sat Jun 14 08:03:03 2008
Subject: [gdal-dev] More on compiling with HDF4, now on Windows
In-Reply-To: <4852E7FF.9000401@ualg.pt>
References: <4852E7FF.9000401@ualg.pt>
Message-ID: <5783A97E-C522-4581-8052-339C725598E2@gatewaygeomatics.com>

The MapServer buildkit[1] contains HDF5-1.6.5 and compiles with no  
issues with MSVC.

[1] http://download.osgeo.org/buildkit/


---
Jeff McKenna
FOSS4G Consulting and Training Services
http://www.gatewaygeomatics.com/





On 13-Jun-08, at 5:34 PM, Joaquim Luis wrote:

> The nmake.opt settings won't let us compile with HDF42r2.
>
> While for 42r1 all we need is to set (like indicated in the file)
>
> HDF4_DIR =    c:\prorgrams\HDF42r1
> HDF4_LIB =    /LIBPATH:$(HDF4_DIR)\lib Ws2_32.lib
>
> The above doesn't work for HDF42r2 (some 700 symbols not found)
>
> By trial (and it worths what it worths) this worked
> HDF4_LIB =   $(HDF4_DIR)\dll\hm422m.lib $(HDF4_DIR)\dll\hd422m.lib $ 
> (HDF4_DIR)\dll\mfhdf_fcstubdll.lib Ws2_32.lib
>
> Joaquim Luis
>
From nikos.alexandris at felis.uni-freiburg.de  Sat Jun 14 10:34:02 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Sat Jun 14 10:34:18 2008
Subject: [gdal-dev] Opening grass raster maps with OpenEV -
	Youhoooooooooo!!!!
Message-ID: <1213454042.18170.6.camel@vertical>

Well,

probably most experienced users/developers/geo-hackers know that but I
never really find the way to open GRASS raster maps with OpenEV
directly.

And it is so simple: open the raster maps from within the "cellhd"
directory. Why bother to export once and a while to do some quick
checks/ comparisons???

It's awesome. It's just an unbreakable combination all this stuff.

Thanks,

Nikos



From neteler at osgeo.org  Sat Jun 14 17:34:55 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Sat Jun 14 17:35:34 2008
Subject: [gdal-dev] Re: [GRASS-user] Opening grass raster maps with OpenEV -
	Youhoooooooooo!!!!
In-Reply-To: <1213454042.18170.6.camel@vertical>
References: <1213454042.18170.6.camel@vertical>
Message-ID: <86782b610806141434q2cf17102l69f6c6890bc23683@mail.gmail.com>

On Sat, Jun 14, 2008 at 4:34 PM, Nikos Alexandris
<nikos.alexandris@felis.uni-freiburg.de> wrote:
> Well,
>
> probably most experienced users/developers/geo-hackers know that but I
> never really find the way to open GRASS raster maps with OpenEV
> directly.
>
> And it is so simple: open the raster maps from within the "cellhd"
> directory.

Yes... see
http://www.gdal.org/frmt_grass.html
:)

Markus
From nikos.alexandris at felis.uni-freiburg.de  Sat Jun 14 22:41:48 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Sat Jun 14 22:42:16 2008
Subject: [gdal-dev] Re: [Qgis-user] ArcGis mdb file
In-Reply-To: <DDE93E67-A75B-4624-9E12-BB83C6F9EAC0@kyngchaos.com>
References: <4853A481.9070300@gmail.com>
	<200806141312.38517.Ralf.Suhr@bauing.uni-weimar.de>
	<4853A959.9070306@ija.csic.es> <1213443437.10613.7.camel@vertical>
	<0BF8F79B-DC54-4482-8849-8E7CE5F5C378@gatewaygeomatics.com>
	<72B32095-58D9-4AB3-9B11-8F8A9D96B245@wildnevada.org>
	<DDE93E67-A75B-4624-9E12-BB83C6F9EAC0@kyngchaos.com>
Message-ID: <1213497708.7370.8.camel@vertical>

On Sat, 2008-06-14 at 19:24 -0500, William Kyngesburye wrote:
> On linux, it uses the mdbtools library, and accesses the MDB thru  
> ODBC.  while it works on Linux, I've had trouble getting it to work on  
> OSX, and I'm STILL waiting for a bug fix on another ODBC Access  
> driver :(  So really, only OSX is out of luck for now.
> 
> On Jun 14, 2008, at 5:05 PM, John C. Tull wrote:
> 
> > Although I am pretty certain that format requires Windows as an  
> > Access lib is used by gdal. So no joy on Linux or OS X without a  
> > virtual machine.
> >
> > Regards,
> > John
> >
> > On Jun 14, 2008, at 5:29 AM, Jeff McKenna wrote:
> >
> >> GDAL does have read support for mdb files (http://gdal.org/ogr/drv_pgeo.html)....so 
> >>  you should be able to use GDAL's ogr2ogr utility to convert your  
> >> mdb into a readable format for QGIS.
> >>
> >> --jeff

Maybe all this should be posted in gdal (?... sorry for cross-posting).

I followed the instructions and it works for me under Ubuntu 64bit ;-)
Yet, I get some "strange" error and no layers reported ?

ogrinfo PGeo:rlp_db1
GDB_GeomColumns is not a table in this database
INFO: Open of `PGeo:rlp_db1'
      using driver `PGeo' successful.

From tim.bowden at westnet.com.au  Sun Jun 15 09:44:21 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sun Jun 15 10:10:22 2008
Subject: [gdal-dev] osm xml and everything else
In-Reply-To: <g2r4r0$ehi$1@osprey.mgras.de>
References: <1213242378.6065.7.camel@edoras>  <g2r4r0$ehi$1@osprey.mgras.de>
Message-ID: <1213537461.6064.43.camel@edoras>

Thanks Martin & Sven, most appreciated.

Regards,
Tim Bowden
On Thu, 2008-06-12 at 12:29 +0000, Martin Spott wrote:
> Tim Bowden wrote:
> 
> > [...] Ultimately, I'm wanting it in postgis where I can make real use of
> > it.  I'd also like to be able to easily suck new data out of postgis
> > into something osm can use.  Recommendations?
> 
> Getting 'foreign' formats into OSM might prove to be challenging ....
> 
> Just to suck small areas into PostGIS I'd say 'osm2pgsql' is your
> friend. If you're just looking for occasional snippets, then I might
> have this download page on offer for you - I'm updating the OSM
> layer(s) approx. every month:
> 
>   http://mapserver.flightgear.org/download.psp
> 
> Cheers,
> 	Martin.
-- 
vim is a good example of an IDE done properly.  emacs is an example of
an IDE done poorly.  Anything that involves little pictures is a
mis-umderstanding of what an IDE should be.

From jordi.inglada at cnes.fr  Mon Jun 16 02:49:50 2008
From: jordi.inglada at cnes.fr (Jordi Inglada)
Date: Mon Jun 16 02:53:32 2008
Subject: [gdal-dev] 2008 summer school on very high resolution remote sensing
Message-ID: <1213598990.6511.55.camel@localhost>

Dear all,

You may be interested in the upcoming 2008 Summer School on Very High
Resolution Remote Sensing which will be held in Grenoble, France, over a
week (September 8-12).

CNES will take care of organizing lab sessions using the ORFEO Toolbox 
(an open source library for remote sensing image processing algorithms, 
http://otb.cnes.fr).

For detailed information please visit
<http://www.gipsa-lab.inpg.fr/summerschool2008/dis/>.

Best regards,

Jordi Inglada

-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09 


From nikos.alexandris at felis.uni-freiburg.de  Mon Jun 16 11:38:38 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Mon Jun 16 11:39:12 2008
Subject: [gdal-dev] Using the CORINE2000 land cover/land use data base
	with GRASS-GIS under Ubuntu-linux 8.04
In-Reply-To: <1211100553.6771.18.camel@vertical>
References: <1211100553.6771.18.camel@vertical>
Message-ID: <1213630718.9138.69.camel@vertical>

On Sun, 2008-05-18 at 10:49 +0200, Nikos Alexandris wrote:
[...]

I would like to thank Mr. Silver and Mr. Zachariadis for their comments
upon the first version of the CORINE with GRASS tutorial.

The new corrected/re-styled document replaced the first "bad-looking"
version and is to be found in the same web-link as before:

http://www.isprs-studentconsortium.org/assets/files/Material_reports/Volume_2_No2/CORINE_withGRASS.pdf



Thank you,

Nikos

From andreas at theosys.at  Mon Jun 16 12:35:02 2008
From: andreas at theosys.at (Andreas Theofilu)
Date: Mon Jun 16 12:35:07 2008
Subject: [gdal-dev] How to access a part of an image
Message-ID: <200806161835.02801.andreas@theosys.at>

Hi to all,

I have here a PNG image of a map where I know the geo coordinates of the upper 
left corner and the lower right corner. Of course I know the pixels in X and 
Y dimensions.

Now I want to display only a part of that image. I know the upper left corner 
in geo coordinates and also the lower right corner of the rectangular I want 
to show. I also know the pixel dimensions of the window on the screen, where 
I want to display the map. The size in pixels of the window on the screen 
does not correspond to the pixels of the image.

I'm able to open the image with GDAL, but I don't know how I should tell GDAL 
about the geo dimensions of the image (tried it with SetGeoTransform())? And 
how can I tell GDAL about the rectangular I wand to load from the image?

I tried to compute this myself and could successfull calculate the X and Y 
offset in pixels, where to start loading the image. I then give this to 
RasterIO() and was able to read only a part of the image, but with wrong 
dimensions of course, because GDAL didn't knew the wanted pixels in X and Y 
directions.

Is there another way to do that?

-- 
Andreas Theofilu
TheoSys - Software Systems and Solutions
http://www.theosys.at
Tel.: +43 676 / 786 53 89
From crschmidt at metacarta.com  Mon Jun 16 14:16:11 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Mon Jun 16 14:16:14 2008
Subject: [gdal-dev] GeoJSON 1.0 Release
Message-ID: <20080616181611.GA9573@metacarta.com>

Thought this might be interesting, for those of you using OGR: OGR has
had pretty good GeoJSON support for quite a while now, and although the
1.0 spec doesn't change a whole lot, this is the 'final' 1.0 release from
the GeoJSON community, which seems interesting.

The GeoJSON Authors are proud to announce the finalization of the
GeoJSON 1.0 Specification.

Representing more than a year's worth of community discussion and
development, the GeoJSON specification describes an easy to use,
extensible format for transferring geographic data over the web. With
support in more than 20 different applications, GeoJSON is already
quickly becoming a de facto standard for transferring geographic data in
a JSON format. The finalization of the spec represents the final step in
formalizing the GeoJSON format for encoding this data.

More information on GeoJSON can be found at http://geojson.org/ , or
from the GeoJSON mailing list at
http://lists.geojson.org/listinfo.cgi/geojson-geojson.org .

Regards,
-- 
Christopher Schmidt
MetaCarta
From c.schitka at gmail.com  Mon Jun 16 15:17:46 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Mon Jun 16 15:17:52 2008
Subject: [gdal-dev] Creating a Shape File(s)
Message-ID: <e66a4dbf0806161217r788893dav8986c6c0ef1c6b95@mail.gmail.com>

Hi All,

Today I have an interesting problem. I know the 4 corners of a bounding box
for a geographical area. I wish to create a shape file knowing only these 4
co-ordinates. I was thinking that the best way to do something like this,
would be to put them into a CSV file, following the directions specified
here: http://www.gdal.org/ogr/drv_csv.html .Then taking that CSV  file and
relying on the  VRT driver to read it and using ogr2ogr to create a shape
file from my CSV file. What I am curious about. Is this: When I create the
associated VRT file to accompany my CSV so the vrt driver can read it.
Obviously the GeometryType is wkbPolygon and the LayerSRS is assumed to be
WGS84.


But what does the GeometryField encoding look like ? The example from the
url above only specifies pts. And I couldn't find one for polygons. Could
someone please shed some light on this. OR if you have a different/better
way to approach this without the aid of an ESRI product.

  <GeometryType>wkbPoint</GeometryType>
      <LayerSRS>WGS84</LayerSRS>
   <GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude"/>


Thanks for your help.

Courtney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080616/82a56115/attachment.html
From szekerest at gmail.com  Mon Jun 16 16:00:15 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Jun 16 16:00:18 2008
Subject: [gdal-dev] How to access a part of an image
In-Reply-To: <200806161835.02801.andreas@theosys.at>
References: <200806161835.02801.andreas@theosys.at>
Message-ID: <f3b73b7d0806161300m4718a1d1r6445dab76f2c0bc4@mail.gmail.com>

Andreas,

If you use RasterIO the nXSize,nYSiye should correspond to the
nBufXSize nBufYSize to avoid the image decimation / replication
according to
http://www.gdal.org/classGDALDataset.html#e077c53268d2272eebed10b891a05743

Best regards,

Tamas


2008/6/16 Andreas Theofilu <andreas@theosys.at>:
> Hi to all,
>
> I have here a PNG image of a map where I know the geo coordinates of the upper
> left corner and the lower right corner. Of course I know the pixels in X and
> Y dimensions.
>
> Now I want to display only a part of that image. I know the upper left corner
> in geo coordinates and also the lower right corner of the rectangular I want
> to show. I also know the pixel dimensions of the window on the screen, where
> I want to display the map. The size in pixels of the window on the screen
> does not correspond to the pixels of the image.
>
> I'm able to open the image with GDAL, but I don't know how I should tell GDAL
> about the geo dimensions of the image (tried it with SetGeoTransform())? And
> how can I tell GDAL about the rectangular I wand to load from the image?
>
> I tried to compute this myself and could successfull calculate the X and Y
> offset in pixels, where to start loading the image. I then give this to
> RasterIO() and was able to read only a part of the image, but with wrong
> dimensions of course, because GDAL didn't knew the wanted pixels in X and Y
> directions.
>
> Is there another way to do that?
>
> --
> Andreas Theofilu
> TheoSys - Software Systems and Solutions
> http://www.theosys.at
> Tel.: +43 676 / 786 53 89
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From szekerest at gmail.com  Mon Jun 16 16:05:40 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Jun 16 16:05:43 2008
Subject: [gdal-dev] Creating a Shape File(s)
In-Reply-To: <e66a4dbf0806161217r788893dav8986c6c0ef1c6b95@mail.gmail.com>
References: <e66a4dbf0806161217r788893dav8986c6c0ef1c6b95@mail.gmail.com>
Message-ID: <f3b73b7d0806161305l4873fc3anf275d02d67016026@mail.gmail.com>

Hi,

You might want to use something like:

<GeometryField encoding="WKT" field="mywktfield"/>

And specify the geometry in WKT format in the source dataset.
http://dev.mysql.com/doc/refman/5.0/en/gis-wkt-format.html

Best regards,

Tamas



2008/6/16 Courtney Schitka <c.schitka@gmail.com>:
> Hi All,
>
> Today I have an interesting problem. I know the 4 corners of a bounding box
> for a geographical area. I wish to create a shape file knowing only these 4
> co-ordinates. I was thinking that the best way to do something like this,
> would be to put them into a CSV file, following the directions specified
> here: http://www.gdal.org/ogr/drv_csv.html .Then taking that CSV  file and
> relying on the  VRT driver to read it and using ogr2ogr to create a shape
> file from my CSV file. What I am curious about. Is this: When I create the
> associated VRT file to accompany my CSV so the vrt driver can read it.
> Obviously the GeometryType is wkbPolygon and the LayerSRS is assumed to be
> WGS84.
>
>
> But what does the GeometryField encoding look like ? The example from the
> url above only specifies pts. And I couldn't find one for polygons. Could
> someone please shed some light on this. OR if you have a different/better
> way to approach this without the aid of an ESRI product.
>
>   <GeometryType>wkbPoint</GeometryType>
>       <LayerSRS>WGS84</LayerSRS>
>    <GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude"/>
>
> Thanks for your help.
>
> Courtney
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From andreas at theosys.at  Tue Jun 17 00:59:59 2008
From: andreas at theosys.at (Andreas Theofilu)
Date: Tue Jun 17 01:00:03 2008
Subject: [gdal-dev] How to access a part of an image
Message-ID: <200806170700.00009.andreas@theosys.at>

Am Montag, 16. Juni 2008 22:00:15 schrieben Sie:
> Andreas,
>
> If you use RasterIO the nXSize,nYSiye should correspond to the
> nBufXSize nBufYSize to avoid the image decimation / replication
> according to
> http://www.gdal.org/classGDALDataset.html#e077c53268d2272eebed10b891a05743
>
Thanks. This is the case and in the mean time I found out how I can load only 
a part of the image. What I'm searching for is a function or a way to define 
the dimensions of the image in geo coordinates and have a function giving me 
the pixel coordinate, width and height of the wanted part of the image. But 
such functions seems not to be part of GDAL.

-- 
Andreas Theofilu
TheoSys - Software Systems and Solutions
http://www.theosys.at
Tel.: +43 676 / 786 53 89
From szekerest at gmail.com  Tue Jun 17 04:58:29 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Jun 17 04:58:32 2008
Subject: [gdal-dev] How to access a part of an image
In-Reply-To: <200806170700.00009.andreas@theosys.at>
References: <200806170700.00009.andreas@theosys.at>
Message-ID: <f3b73b7d0806170158j32eaf05eq24f50a7354d9749c@mail.gmail.com>

Andreas,

You could do such things by using the affine transformation
coefficients as described at:

http://www.gdal.org/classGDALDataset.html#f9593cc241e7d140f5f3c4798a43a668

Best regards,

Tamas


2008/6/17 Andreas Theofilu <andreas@theosys.at>:
> Am Montag, 16. Juni 2008 22:00:15 schrieben Sie:
>> Andreas,
>>
>> If you use RasterIO the nXSize,nYSiye should correspond to the
>> nBufXSize nBufYSize to avoid the image decimation / replication
>> according to
>> http://www.gdal.org/classGDALDataset.html#e077c53268d2272eebed10b891a05743
>>
> Thanks. This is the case and in the mean time I found out how I can load only
> a part of the image. What I'm searching for is a function or a way to define
> the dimensions of the image in geo coordinates and have a function giving me
> the pixel coordinate, width and height of the wanted part of the image. But
> such functions seems not to be part of GDAL.
>
> --
> Andreas Theofilu
> TheoSys - Software Systems and Solutions
> http://www.theosys.at
> Tel.: +43 676 / 786 53 89
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From giannibarrotta at gmail.com  Wed Jun 18 01:36:52 2008
From: giannibarrotta at gmail.com (Gianni Barrotta)
Date: Wed Jun 18 01:36:55 2008
Subject: [gdal-dev] GDAL2TILES - tiles background color
Message-ID: <190430c0806172236u5e685005j140281b86f46883c@mail.gmail.com>

Hi list,
I need some advice on gdal2tiles; I need to customize the background color
for tiles, now gdal2tiles generate white  color in the nodata border for
maps with width and height not modulo 256.
I've read in this ticket:
http://trac.osgeo.org/gdal/ticket/1763
that the nodata value should be selectable, but I can't find a way to do so.
Could you please help me?
Thank's.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080618/a11d66a9/attachment.html
From Volker.Wichmann at uibk.ac.at  Wed Jun 18 05:03:08 2008
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Wed Jun 18 05:16:59 2008
Subject: [gdal-dev] AAIGrid decimal precision
Message-ID: <4858CF4C.1020703@uibk.ac.at>

Hi,

I have the following problem: the format of my data is originally 
arc/info ascii with two decimals (e.g. 1002.35). For processing, I need 
to use/convert to GeoTiff (Float32). And in the end, I use 
gdal_translate to write the processed data again as arc/info ascii. But 
now there are over 10 decimals written (e.g. 2003.73324423545) which 
causes the file to take about twice the size of the original raster.
so my question is actually if there is any control on the decimal 
precision written to ascii files? I see that the AAIGrid driver uses " 
%6.20g" for printing, so I could patch this. But it would be nicer to 
have a feature like a driver creation option to specify the number of 
decimals desired.

any help is appreciated,
thanks,
Volker

From warmerdam at pobox.com  Wed Jun 18 11:04:36 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 18 11:04:59 2008
Subject: [gdal-dev] AAIGrid decimal precision
In-Reply-To: <4858CF4C.1020703@uibk.ac.at>
References: <4858CF4C.1020703@uibk.ac.at>
Message-ID: <48592404.70709@pobox.com>

Volker Wichmann wrote:
> Hi,
> 
> I have the following problem: the format of my data is originally 
> arc/info ascii with two decimals (e.g. 1002.35). For processing, I need 
> to use/convert to GeoTiff (Float32). And in the end, I use 
> gdal_translate to write the processed data again as arc/info ascii. But 
> now there are over 10 decimals written (e.g. 2003.73324423545) which 
> causes the file to take about twice the size of the original raster.
> so my question is actually if there is any control on the decimal 
> precision written to ascii files? I see that the AAIGrid driver uses " 
> %6.20g" for printing, so I could patch this. But it would be nicer to 
> have a feature like a driver creation option to specify the number of 
> decimals desired.

Volker,

I would encourage you to file an enhancement request for this.  It would
be quite easily to add some sort of precision control creation option.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From bthoen at gisnet.com  Wed Jun 18 19:12:16 2008
From: bthoen at gisnet.com (Bill Thoen)
Date: Wed Jun 18 19:17:34 2008
Subject: [gdal-dev] Problems compiling GDAL 1.5.1
Message-ID: <48599650.3000204@gisnet.com>

I ran into a problem compiling GDAL 1.5.1 on my Linux Fedora Core 9 
system. The error seems to be caused by max and min macros with the 
wrong number of parameters. Anyone else run into this and what's the fix?

Below is the relevant section of the log that reported this:

/bin/sh /home/bthoen/Install/gdal-1.5.1/libtool --mode=compile --tag=CXX 
g++ -g -O2  -Wall  -I. -I.. -I../.. 
-I/home/bthoen/Install/gdal-1.5.1/port 
-I/home/bthoen/Install/gdal-1.5.1/gcore 
-I/home/bthoen/Install/gdal-1.5.1/alg 
-I/home/bthoen/Install/gdal-1.5.1/ogr 
-I/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts -DOGR_ENABLED 
-I/home/bthoen/Install/gdal-1.5.1/port  -c -o ../o/ogrgeojsonlayer.o 
ogrgeojsonlayer.cpp
libtool: compile:  g++ -g -O2 -Wall -I. -I.. -I../.. 
-I/home/bthoen/Install/gdal-1.5.1/port 
-I/home/bthoen/Install/gdal-1.5.1/gcore 
-I/home/bthoen/Install/gdal-1.5.1/alg 
-I/home/bthoen/Install/gdal-1.5.1/ogr 
-I/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts -DOGR_ENABLED 
-I/home/bthoen/Install/gdal-1.5.1/port -c ogrgeojsonlayer.cpp  -fPIC 
-DPIC -o ../o/.libs/ogrgeojsonlayer.o
In file included from 
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl_algo.h:66,
                 from 
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/algorithm:67,
                 from ogrgeojsonlayer.cpp:32:
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:248:41: 
error: macro "max" passed 3 arguments, but takes just 2
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:259:41: 
error: macro "min" passed 3 arguments, but takes just 2
In file included from 
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl_algo.h:66,
                 from 
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/algorithm:67,
                 from ogrgeojsonlayer.cpp:32:
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:244: 
error: expected unqualified-id before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:244: 
error: expected `)' before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:244: 
error: expected `)' before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:244: 
error: expected initializer before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:248: 
error: template declaration of 'const _Tp& std::max'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:255: 
error: expected unqualified-id before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:255: 
error: expected `)' before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:255: 
error: expected `)' before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:255: 
error: expected initializer before 'const'
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/algorithmfwd.h:259: 
error: template declaration of 'const _Tp& std::min'
In file included from 
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/algorithm:67,
                 from ogrgeojsonlayer.cpp:32:
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl_algo.h: 
In function 'void std::__merge_sort_loop(_RandomAccessIterator1, 
_RandomAccessIterator1, _RandomAccessIterator2, _Distance)':
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl_algo.h:2884: 
error: expected unqualified-id before '(' token
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl_algo.h: 
In function 'void std::__merge_sort_loop(_RandomAccessIterator1, 
_RandomAccessIterator1, _RandomAccessIterator2, _Distance, _Compare)':
/usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl_algo.h:2908: 
error: expected unqualified-id before '(' token
ogrgeojsonlayer.cpp: In member function 'void 
OGRGeoJSONLayer::DetectGeometryType()':
ogrgeojsonlayer.cpp:377: warning: unused variable 'lyrType'
make[3]: *** [../o/ogrgeojsonlayer.o] Error 1
make[3]: Leaving directory 
`/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts/geojson'
make[2]: *** [geojson-target] Error 2
make[2]: Leaving directory `/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts'
make[1]: *** [sublibs] Error 2
make[1]: Leaving directory `/home/bthoen/Install/gdal-1.5.1/ogr'
make: *** [ogr-target] Error 2

From Bob.Bruce at pobox.com  Thu Jun 19 10:14:02 2008
From: Bob.Bruce at pobox.com (Bob Bruce)
Date: Thu Jun 19 11:14:01 2008
Subject: [gdal-dev] RE: GDAL JPEG2000 Problems
In-Reply-To: <2D7230119FDBCE4DB0984678195B920033BF2C@OC1EX04.ME.MBGOV.CA>
Message-ID: <000301c8d216$ba1c4ef0$6401a8c0@cs41617>

I recently decided to try to use the JPEG2000 image types for the
distribution of orthophotography as an open source alternative to MrSID. I
hadn't had any experience with this image type before so I've been learning
and trying to make it work. I have had poor success so I thought that I'd
try and look for help here.

I was having some problems with output JP2 images from GDAL and noticed that
my version of FWTools was a bit old so today I downloaded and installed the
latest version of FWTools. Immediately I noticed that the only JPEG2000
output format left is the ECW one. What happened to the Kakadu and the
JasPer formats that were previously in GDAL? I understand that ECW has a
conversion limit and this will be a concern for me as I try and make mosaics
of blocks of photography.

So I went on to use the ECW JPEG2000 and ran into problems. I converted one
of our 73Mb colour orthophotos (GeoTiff - we have 744 of them from our
latest contract) to ECW JP2 and immediately noticed problems. In the output
ECWJP2 file the entire 135m bottom of the image was replaced by bands of
data 255m wide X 135m high that was taken 135m from the right side and 135
up from the bottom. The entire right 135m of the image is replaced with a
band taken starting 2X135m from the right and a further 135m to the right.
The original GeoTiff appeared fine when viewed in QGIS, gvSIG and some
proprietary GIS packages. QGIS showed these bands of data along the bottom
and along the right side of the image.

I am using version: GDAL 1.6.0dev, FWTools 2.2.1, released 2008/06/17 of the
software.

Does anyone know what I could be doing wrong in converting this image?

thanks,
		Bob Bruce

Here is info about the original geotiff image and the output JPEG2000ECW
image:

C:\CARIS\data\MapconSampleOrthos\JPEG2000Test>dir
 Volume in drive C has no label.
 Volume Serial Number is ACDA-7596

 Directory of C:\CARIS\data\MapconSampleOrthos\JPEG2000Test

18/06/2008  05:05 PM    <DIR>          .
18/06/2008  05:05 PM    <DIR>          ..
21/05/2008  06:38 PM        75,040,806 4305610.tif

C:\CARIS\data\MapconSampleOrthos\JPEG2000Test>gdal_translate -of JP2ECW
4305610.tif 4305610ECW.jp2
Warning 1: TIFFReadDirectory:Unknown field with tag 33918 (0x847e)
encountered
Warning 1: TIFFFetchNormalTag:ASCII value for tag "GeoASCIIParams" does not
end in null byte
Input file size is 5000, 5000
0...10...20...30...40...50...60...70...80...90...100 - done.

C:\CARIS\data\MapconSampleOrthos\JPEG2000Test>dir
 Volume in drive C has no label.
 Volume Serial Number is ACDA-7596

 Directory of C:\CARIS\data\MapconSampleOrthos\JPEG2000Test

18/06/2008  05:40 PM    <DIR>          .
18/06/2008  05:40 PM    <DIR>          ..
21/05/2008  06:38 PM        75,040,806 4305610.tif
18/06/2008  05:40 PM        16,487,327 4305610ECW.jp2
18/06/2008  05:40 PM               240 4305610ECW.jp2.aux.xml

C:\CARIS\data\MapconSampleOrthos\JPEG2000Test>gdalinfo 4305610.tif
Warning 1: TIFFReadDirectory:Unknown field with tag 33918 (0x847e)
encountered
Warning 1: TIFFFetchNormalTag:ASCII value for tag "GeoASCIIParams" does not
end in null byte
Driver: GTiff/GeoTIFF
Files: 4305610.tif
Size is 5000, 5000
Coordinate System is:
PROJCS["NAD83 / UTM zone 14N",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4269"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-99],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","26914"]]
Origin = (430000.000000000000000,5615000.000000000000000)
Pixel Size = (0.999999999941792,-0.999999999068677)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_XRESOLUTION=1
  TIFFTAG_YRESOLUTION=1
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  430000.000, 5615000.000) ( 99d59'27.05"W, 50d40'57.42"N)
Lower Left  (  430000.000, 5610000.000) ( 99d59'23.65"W, 50d38'15.57"N)
Upper Right (  435000.000, 5615000.000) ( 99d55'12.30"W, 50d40'59.51"N)
Lower Right (  435000.000, 5610000.000) ( 99d55'9.14"W, 50d38'17.66"N)
Center      (  432500.000, 5612500.000) ( 99d57'18.04"W, 50d39'37.56"N)
Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue

C:\CARIS\data\MapconSampleOrthos\JPEG2000Test>gdalinfo 4305610ECW.jp2
Driver: JP2ECW/ERMapper JPEG2000
Files: 4305610ECW.jp2
       4305610ECW.jp2.aux.xml
Size is 5000, 5000
Coordinate System is:
PROJCS["NAD83 / UTM zone 14N",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4269"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-99],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","26914"]]
Origin = (430000.000000000000000,5615000.000000000000000)
Pixel Size = (0.999999999941792,-0.999999999068677)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_XRESOLUTION=1
  TIFFTAG_YRESOLUTION=1
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (  430000.000, 5615000.000) ( 99d59'27.05"W, 50d40'57.42"N)
Lower Left  (  430000.000, 5610000.000) ( 99d59'23.65"W, 50d38'15.57"N)
Upper Right (  435000.000, 5615000.000) ( 99d55'12.30"W, 50d40'59.51"N)
Lower Right (  435000.000, 5610000.000) ( 99d55'9.14"W, 50d38'17.66"N)
Center      (  432500.000, 5612500.000) ( 99d57'18.04"W, 50d39'37.56"N)
Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
  Overviews: arbitrary
Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
  Overviews: arbitrary
Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue
  Overviews: arbitrary

From warmerdam at pobox.com  Thu Jun 19 11:30:59 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun 19 11:32:22 2008
Subject: [gdal-dev] RE: GDAL JPEG2000 Problems
In-Reply-To: <000301c8d216$ba1c4ef0$6401a8c0@cs41617>
References: <000301c8d216$ba1c4ef0$6401a8c0@cs41617>
Message-ID: <485A7BB3.3090306@pobox.com>

Bob Bruce wrote:
> I was having some problems with output JP2 images from GDAL and noticed that
> my version of FWTools was a bit old so today I downloaded and installed the
> latest version of FWTools. Immediately I noticed that the only JPEG2000
> output format left is the ECW one. What happened to the Kakadu and the
> JasPer formats that were previously in GDAL?

Bob,

I don't think I've ever distributed FWTools for windows with the JasPer
driver enabled.  I removed the Kakadu driver because after a review of the
Kakadu license terms I came to the conclusion that I might not be properly
operating within the limits of the license in distributing it as part of
FWTools.

FWTools *should* include the JP2MrSID driver as well, but I see that it is
normally read-only.

 > I understand that ECW has a
> conversion limit and this will be a concern for me as I try and make mosaics
> of blocks of photography.
> 
> So I went on to use the ECW JPEG2000 and ran into problems. I converted one
> of our 73Mb colour orthophotos (GeoTiff - we have 744 of them from our
> latest contract) to ECW JP2 and immediately noticed problems. In the output
> ECWJP2 file the entire 135m bottom of the image was replaced by bands of
> data 255m wide X 135m high that was taken 135m from the right side and 135
> up from the bottom. The entire right 135m of the image is replaced with a
> band taken starting 2X135m from the right and a further 135m to the right.
> The original GeoTiff appeared fine when viewed in QGIS, gvSIG and some
> proprietary GIS packages. QGIS showed these bands of data along the bottom
> and along the right side of the image.

This is an unexpected result. I'd offer to look more deeply into it, but
the ECW code is just a bear to work with, and on windows I'm using a fairly
old set of ECW code (and with some questionable hacking of my own involved).
I'm afraid of it!

I'm really not too sure where to go with this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From even.rouault at mines-paris.org  Thu Jun 19 13:42:17 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Jun 19 13:42:23 2008
Subject: [gdal-dev] Problems compiling GDAL 1.5.1
In-Reply-To: <48599650.3000204@gisnet.com>
References: <48599650.3000204@gisnet.com>
Message-ID: <200806191942.18173.even.rouault@mines-paris.org>

This bug was known as http://trac.osgeo.org/gdal/ticket/2317 and has been 
fixed in GDAL 1.5.2.

So, just upgrade ;-)

Le Thursday 19 June 2008 01:12:16 Bill Thoen, vous avez ?crit?:
> I ran into a problem compiling GDAL 1.5.1 on my Linux Fedora Core 9
> system. The error seems to be caused by max and min macros with the
> wrong number of parameters. Anyone else run into this and what's the fix?
>
> Below is the relevant section of the log that reported this:
>
> /bin/sh /home/bthoen/Install/gdal-1.5.1/libtool --mode=compile --tag=CXX
> g++ -g -O2  -Wall  -I. -I.. -I../..
> -I/home/bthoen/Install/gdal-1.5.1/port
> -I/home/bthoen/Install/gdal-1.5.1/gcore
> -I/home/bthoen/Install/gdal-1.5.1/alg
> -I/home/bthoen/Install/gdal-1.5.1/ogr
> -I/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts -DOGR_ENABLED
> -I/home/bthoen/Install/gdal-1.5.1/port  -c -o ../o/ogrgeojsonlayer.o
> ogrgeojsonlayer.cpp
> libtool: compile:  g++ -g -O2 -Wall -I. -I.. -I../..
> -I/home/bthoen/Install/gdal-1.5.1/port
> -I/home/bthoen/Install/gdal-1.5.1/gcore
> -I/home/bthoen/Install/gdal-1.5.1/alg
> -I/home/bthoen/Install/gdal-1.5.1/ogr
> -I/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts -DOGR_ENABLED
> -I/home/bthoen/Install/gdal-1.5.1/port -c ogrgeojsonlayer.cpp  -fPIC
> -DPIC -o ../o/.libs/ogrgeojsonlayer.o
> In file included from
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl
>_algo.h:66, from
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/algorith
>m:67, from ogrgeojsonlayer.cpp:32:
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:248:41: error: macro "max" passed 3 arguments, but takes just 2
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:259:41: error: macro "min" passed 3 arguments, but takes just 2
> In file included from
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl
>_algo.h:66, from
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/algorith
>m:67, from ogrgeojsonlayer.cpp:32:
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:244: error: expected unqualified-id before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:244: error: expected `)' before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:244: error: expected `)' before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:244: error: expected initializer before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:248: error: template declaration of 'const _Tp& std::max'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:255: error: expected unqualified-id before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:255: error: expected `)' before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:255: error: expected `)' before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:255: error: expected initializer before 'const'
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/alg
>orithmfwd.h:259: error: template declaration of 'const _Tp& std::min'
> In file included from
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/algorith
>m:67, from ogrgeojsonlayer.cpp:32:
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl
>_algo.h: In function 'void std::__merge_sort_loop(_RandomAccessIterator1,
> _RandomAccessIterator1, _RandomAccessIterator2, _Distance)':
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl
>_algo.h:2884: error: expected unqualified-id before '(' token
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl
>_algo.h: In function 'void std::__merge_sort_loop(_RandomAccessIterator1,
> _RandomAccessIterator1, _RandomAccessIterator2, _Distance, _Compare)':
> /usr/lib/gcc/i386-redhat-linux/4.3.0/../../../../include/c++/4.3.0/bits/stl
>_algo.h:2908: error: expected unqualified-id before '(' token
> ogrgeojsonlayer.cpp: In member function 'void
> OGRGeoJSONLayer::DetectGeometryType()':
> ogrgeojsonlayer.cpp:377: warning: unused variable 'lyrType'
> make[3]: *** [../o/ogrgeojsonlayer.o] Error 1
> make[3]: Leaving directory
> `/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts/geojson'
> make[2]: *** [geojson-target] Error 2
> make[2]: Leaving directory
> `/home/bthoen/Install/gdal-1.5.1/ogr/ogrsf_frmts' make[1]: *** [sublibs]
> Error 2
> make[1]: Leaving directory `/home/bthoen/Install/gdal-1.5.1/ogr'
> make: *** [ogr-target] Error 2
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From Volker.Wichmann at uibk.ac.at  Thu Jun 19 14:21:50 2008
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Thu Jun 19 14:19:13 2008
Subject: [gdal-dev] AAIGrid decimal precision
In-Reply-To: <48592404.70709@pobox.com>
References: <4858CF4C.1020703@uibk.ac.at> <48592404.70709@pobox.com>
Message-ID: <485AA3BE.8000007@uibk.ac.at>

Frank Warmerdam wrote:

> Volker,
>
> I would encourage you to file an enhancement request for this.  It would
> be quite easily to add some sort of precision control creation option.
>
> Best regards,


Even,
thanks a lot for the quick response and implementation (r14724) !!!

best regards,
Volker

From Steven.Mullins at dmme.virginia.gov  Thu Jun 19 14:26:18 2008
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Thu Jun 19 14:27:39 2008
Subject: [gdal-dev] Units to Feet in ECW Metadata
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8303C2373F@exch2k1.dmmenet.mme.state.va.us>

Hello all.  I've ran into a bit of trouble doing a geotiff to ECW conversion.  I started with a geotiff with a gdalinfo dump of:

Driver: GTiff/GeoTIFF
Files: duty_01.tif
Size is 9073, 10904
Coordinate System is:
PROJCS["NAD27 / Virginia South",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke 1866",6378206.4,294.9786982139006,
                AUTHORITY["EPSG","7008"]],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4267"]],
    PROJECTION["Lambert_Conformal_Conic_2SP"],
    PARAMETER["standard_parallel_1",36.76666666666667],
    PARAMETER["standard_parallel_2",37.96666666666667],
    PARAMETER["latitude_of_origin",36.33333333333334],
    PARAMETER["central_meridian",-78.5],
    PARAMETER["false_easting",2000004.000008],
    PARAMETER["false_northing",0],
    UNIT["foot",0.3048,
        AUTHORITY["EPSG","9002"]],
    AUTHORITY["EPSG","32047"]]
Origin = (901010.167897604870000,312728.275525033300000)
Pixel Size = (5.105997194290739,-5.105997194290740)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=AutoCAD Raster Design 2008
  TIFFTAG_XRESOLUTION=25
  TIFFTAG_YRESOLUTION=25
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  901010.168,  312728.276) ( 82d16'15.11"W, 37d 7'55.18"N)
Lower Left  (  901010.168,  257052.482) ( 82d15'47.70"W, 36d58'45.10"N)
Upper Right (  947336.880,  312728.276) ( 82d 6'43.43"W, 37d 8'13.08"N)
Lower Right (  947336.880,  257052.482) ( 82d 6'17.19"W, 36d59'2.97"N)
Center      (  924173.524,  284890.379) ( 82d11'15.85"W, 37d 3'29.18"N)
Band 1 Block=9073x2 Type=Byte, ColorInterp=Red
  Overviews: 116x140
  Mask Flags: PER_DATASET ALPHA
Band 2 Block=9073x2 Type=Byte, ColorInterp=Green
  Overviews: 116x140
  Mask Flags: PER_DATASET ALPHA
Band 3 Block=9073x2 Type=Byte, ColorInterp=Blue
  Overviews: 116x140
  Mask Flags: PER_DATASET ALPHA
Band 4 Block=9073x2 Type=Byte, ColorInterp=Alpha
  Overviews: 116x140

Notice that the projection units are feet.  Now I transfore this GeoTiff to a ECW with the following command:

gdal_translate -b 1 -b 2 -b 3 -of ECW -co "TARGET=85" duty_01.tif duty_01.ecw

A GDAL dump of the resulting ECW is as follows:

Driver: ECW/ERMapper Compressed Wavelets
Files: duty_01.ecw
       duty_01.ecw.aux.xml
Size is 9073, 10904
Coordinate System is:
PROJCS["LM2VIRSF",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke 1866",6378206.4,294.978698213898,
                AUTHORITY["EPSG","7008"]],
            TOWGS84[-3,142,183,0,0,0,0],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4267"]],
    PROJECTION["Lambert_Conformal_Conic_2SP"],
    PARAMETER["standard_parallel_1",36.7666667],
    PARAMETER["standard_parallel_2",37.9666667],
    PARAMETER["latitude_of_origin",37.3674801],
    PARAMETER["central_meridian",-78.49999999999994],
    PARAMETER["false_easting",2000000],
    PARAMETER["false_northing",376513.28],
    UNIT["Meter",1]]
Origin = (901010.167897604870000,312728.275525033300000)
Pixel Size = (5.105997194290739,-5.105997194290740)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=AutoCAD Raster Design 2008
  TIFFTAG_XRESOLUTION=25
  TIFFTAG_YRESOLUTION=25
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (  901010.168,  312728.276) ( 90d44'37.95"W, 36d 8'58.51"N)
Lower Left  (  901010.168,  257052.482) ( 90d39'51.81"W, 35d39'7.62"N)
Upper Right (  947336.880,  312728.276) ( 90d13'59.38"W, 36d12'8.84"N)
Lower Right (  947336.880,  257052.482) ( 90d 9'24.93"W, 35d42'16.70"N)
Center      (  924173.524,  284890.379) ( 90d26'58.38"W, 35d55'38.92"N)
Band 1 Block=9073x1 Type=Byte, ColorInterp=Red
  Overviews: arbitrary
  Metadata:
    LAYER_TYPE=athematic
Band 2 Block=9073x1 Type=Byte, ColorInterp=Green
  Overviews: arbitrary
  Metadata:
    LAYER_TYPE=athematic
Band 3 Block=9073x1 Type=Byte, ColorInterp=Blue
  Overviews: arbitrary
  Metadata:
    LAYER_TYPE=athematic

Now the units are in Meters and the ESPG code for my projection EPSG:32047 has been dropped.  Another twist is that ACAD correctly projects the resulting ECW, while ARCGIS does not.  Seems that ACAD ignores the UNITS tag while ARCGIS does not.  

Does anyone know how to make ECW keep the correct projection unit?

Thanks,

Steve
From jukka.rahkonen at mmmtike.fi  Thu Jun 19 17:05:59 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Jun 19 17:06:14 2008
Subject: [gdal-dev] Re: Units to Feet in ECW Metadata
References: <1C6192D3F2755C45A2D0658D6FE5ED8303C2373F@exch2k1.dmmenet.mme.state.va.us>
Message-ID: <loom.20080619T205255-785@post.gmane.org>

Mullins, Steven <Steven.Mullins <at> dmme.virginia.gov> writes:

> 
> Hello all.  I've ran into a bit of trouble doing a geotiff to ECW conversion.  
...
...
> 
> Now the units are in Meters and the ESPG code for my projection EPSG:32047 has
been dropped.  Another twist is
> that ACAD correctly projects the resulting ECW, while ARCGIS does not.  Seems
that ACAD ignores the UNITS
> tag while ARCGIS does not.  
> 
> Does anyone know how to make ECW keep the correct projection unit?

Hi,

All I know is that you can correct your image afterwards by using free ECW Image
Header Editor that can be downloaded from http://ermapper.com/ProductView.aspx?t=189

Gdal document at http://www.gdal.org/frmt_ecw.html tells:
When writing coordinate system information to ECW files, many less common
coordinate systems are not mapped properly. If you know the ERMapper name for
the coordinate system you can force it to be set at creation time with the PROJ
and DATUM creation options.

So it may be difficult to get a proper ECW projection directly from gdal, but
knowing the exact names that ER Mapper is using for your projection and datum
might help in it. Unfortunately ECW Header Editor does not have a list of ECW
projections. Projection names can be found from ER Mapper Professional user
manual that can be downloaded from http://ermapper.com/Documents.aspx?t=213&dc=17

-Jukka Rahkonen-

From Laurent.Saez at developpement-durable.gouv.fr  Fri Jun 20 02:03:42 2008
From: Laurent.Saez at developpement-durable.gouv.fr (=?UTF-8?Q?=22SAEZ_Laurent_=2D_CETE_M=C3=A9diterr=2E=2FDI=2FETER=22?=)
Date: Fri Jun 20 02:03:45 2008
Subject: [gdal-dev] ogrinfo returns Polygon geometry as unknown (any) with
	TAB file
Message-ID: <485B483E.6090201@developpement-durable.gouv.fr>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: 3polygons.zip
Type: application/x-zip-compressed
Size: 1634 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080620/ffbd5eb3/3polygons-0001.bin
From warmerdam at pobox.com  Fri Jun 20 02:54:23 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 20 02:54:33 2008
Subject: [gdal-dev] ogrinfo returns Polygon geometry as unknown (any)
	with TAB file
In-Reply-To: <485B483E.6090201@developpement-durable.gouv.fr>
References: <485B483E.6090201@developpement-durable.gouv.fr>
Message-ID: <485B541F.9030505@pobox.com>

SAEZ Laurent - CETE M?diterr./DI/ETER wrote:
> Hi list,
> 
> I've a big problem with ogrinfo.
> I've tried with several versions of FWTools (1.3.9 to 2.2.1).
> I've a web application that uses ogrinfo to validate MapInfo? files.
> Ogrinfo doesn't return the right geometry with TAB file that contains 
> polygons. Ogrinfo reports "Geometry: Unknown (any)".
> Why ?
> I've create a simple table (3polygons.TAB) with three polygons (not 
> multi-polygons and without holes).

Laurent,

I believe the mapinfo driver deliberately reports an unknown geometry
type for polygon files because it is unable to tell from the header
whether the file will contain a mix of polygon and multipolygons.
If it does then it is not proper to label the layer as either
polygon or multipolygon since they are mutually exclusive geometry
classes in the OGC simple features geometry model.

So, I think things are working as expected.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Steven.Mullins at dmme.virginia.gov  Fri Jun 20 09:26:58 2008
From: Steven.Mullins at dmme.virginia.gov (Mullins, Steven)
Date: Fri Jun 20 09:27:26 2008
Subject: [gdal-dev] Re: Units to Feet in ECW Metadata
Message-ID: <1C6192D3F2755C45A2D0658D6FE5ED8303C23740@exch2k1.dmmenet.mme.state.va.us>

Jukka,

Thanks for the tip!  I added "-co PROJ=LM2VIRSF" to my conversion, and the resulting gdal dump was:

Driver: ECW/ERMapper Compressed Wavelets
Files: duty_01.ecw
       duty_01.ecw.aux.xml
Size is 9073, 10904
Coordinate System is:
PROJCS["NAD27 / Virginia South",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke 1866",6378206.4,294.9786982139006,
                AUTHORITY["EPSG","7008"]],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4267"]],
    PROJECTION["Lambert_Conformal_Conic_2SP"],
    PARAMETER["standard_parallel_1",36.76666666666667],
    PARAMETER["standard_parallel_2",37.96666666666667],
    PARAMETER["latitude_of_origin",36.33333333333334],
    PARAMETER["central_meridian",-78.5],
    PARAMETER["false_easting",2000004.000008],
    PARAMETER["false_northing",0],
    UNIT["foot",0.3048,
        AUTHORITY["EPSG","9002"]],
    AUTHORITY["EPSG","32047"]]
Origin = (901010.167897604870000,312728.275525033300000)
Pixel Size = (5.105997194290739,-5.105997194290740)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=AutoCAD Raster Design 2008
  TIFFTAG_XRESOLUTION=25
  TIFFTAG_YRESOLUTION=25
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (  901010.168,  312728.276) ( 82d16'15.11"W, 37d 7'55.18"N)
Lower Left  (  901010.168,  257052.482) ( 82d15'47.70"W, 36d58'45.10"N)
Upper Right (  947336.880,  312728.276) ( 82d 6'43.43"W, 37d 8'13.08"N)
Lower Right (  947336.880,  257052.482) ( 82d 6'17.19"W, 36d59'2.97"N)
Center      (  924173.524,  284890.379) ( 82d11'15.85"W, 37d 3'29.18"N)
Band 1 Block=9073x1 Type=Byte, ColorInterp=Red
  Overviews: arbitrary
  Metadata:
    LAYER_TYPE=athematic
Band 2 Block=9073x1 Type=Byte, ColorInterp=Green
  Overviews: arbitrary
  Metadata:
    LAYER_TYPE=athematic
Band 3 Block=9073x1 Type=Byte, ColorInterp=Blue
  Overviews: arbitrary
  Metadata:
    LAYER_TYPE=athematic

This is the correct projection information, except that international feet is used instead of US Feet, but that is not critical.  A look at the projection info reveals that the ER projection LM2VIRSF is not shown in the output, though it was specified on the command line.  However, if I convert without using "-co PROJ=LM2VIRSF" on the command line, the resulting ECW file has the following coordinate system info, with "LM2VIRSF" in the header:

PROJCS["LM2VIRSF",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke 1866",6378206.4,294.978698213898,
                AUTHORITY["EPSG","7008"]],
            TOWGS84[-3,142,183,0,0,0,0],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4267"]],
    PROJECTION["Lambert_Conformal_Conic_2SP"],
    PARAMETER["standard_parallel_1",36.7666667],
    PARAMETER["standard_parallel_2",37.9666667],
    PARAMETER["latitude_of_origin",37.3674801],
    PARAMETER["central_meridian",-78.49999999999994],
    PARAMETER["false_easting",2000000],
    PARAMETER["false_northing",376513.28],
    UNIT["Meter",1]]

This is the opposite of what I would expect.  When I delare "LM2VIRSF" it does not show up in the header, when I do not delare it, it shows up in the header.  And while the new ECW file gdalinfo dump shows a near-perfect wkt projection def, arcgis does not recognize the projection as valid.  Odd behavior.  If I could just change the UNITS tag by itself, I think I could make it work.

Thanks again!

Steve



-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org]On Behalf Of Jukka Rahkonen
Sent: Thu, June 19, 2008 5:06 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re: Units to Feet in ECW Metadata


Mullins, Steven <Steven.Mullins <at> dmme.virginia.gov> writes:

> 
> Hello all.  I've ran into a bit of trouble doing a geotiff to ECW conversion.  
...
...
> 
> Now the units are in Meters and the ESPG code for my projection EPSG:32047 has
been dropped.  Another twist is
> that ACAD correctly projects the resulting ECW, while ARCGIS does not.  Seems
that ACAD ignores the UNITS
> tag while ARCGIS does not.  
> 
> Does anyone know how to make ECW keep the correct projection unit?

Hi,

All I know is that you can correct your image afterwards by using free ECW Image
Header Editor that can be downloaded from http://ermapper.com/ProductView.aspx?t=189

Gdal document at http://www.gdal.org/frmt_ecw.html tells:
When writing coordinate system information to ECW files, many less common
coordinate systems are not mapped properly. If you know the ERMapper name for
the coordinate system you can force it to be set at creation time with the PROJ
and DATUM creation options.

So it may be difficult to get a proper ECW projection directly from gdal, but
knowing the exact names that ER Mapper is using for your projection and datum
might help in it. Unfortunately ECW Header Editor does not have a list of ECW
projections. Projection names can be found from ER Mapper Professional user
manual that can be downloaded from http://ermapper.com/Documents.aspx?t=213&dc=17

-Jukka Rahkonen-

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From guillaume.sueur at neogeo-online.net  Fri Jun 20 11:36:37 2008
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Fri Jun 20 11:36:43 2008
Subject: [gdal-dev] ogr2ogr projection problem
Message-ID: <485BCE85.3040409@neogeo-online.net>

Hi,

I've noticed a problem using ogr2ogr for MapInfo files creation. the 
destination projection doesn't seem to be set in the resulting file, 
causing MapInfo opening it as 'non earth projection'.
Here is the ogrinfo of my input file :
PROJCS["unnamed",
     GEOGCS["unnamed",
         DATUM["NTF_Paris_Meridian",
             SPHEROID["Clarke 1880 (modified for 
IGN)",6378249.2,293.4660213],
             TOWGS84[-168,-60,320,-0,-0,-0,0]],
         PRIMEM["non-Greenwich",2.337229166667],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["standard_parallel_1",43.199291275544],
     PARAMETER["standard_parallel_2",44.996093814511],
     PARAMETER["latitude_of_origin",44.1],
     PARAMETER["central_meridian",0],
     PARAMETER["false_easting",600000],
     PARAMETER["false_northing",200000],
     UNIT["Meter",1.0]]

If I create a shapefile, with :
  ogr2ogr -a_srs 'EPSG:27563' -t_srs 'EPSG:27563' -f 'ESRI Shapefile' 
test myfile.TAB

the ogrinfo on the new shapefile gives :
PROJCS["NTF (Paris) / Lambert Sud France",
     GEOGCS["NTF (Paris)",
         DATUM["Nouvelle_Triangulation_Francaise",
             SPHEROID["Clarke_1880_IGN",6378249.2,293.4660212936269]],
         PRIMEM["Paris",2.33722917],
         UNIT["grad",0.01570796326794897]],
     PROJECTION["Lambert_Conformal_Conic_1SP"],
     PARAMETER["latitude_of_origin",49],
     PARAMETER["central_meridian",0],
     PARAMETER["scale_factor",0.999877499],
     PARAMETER["false_easting",600000],
     PARAMETER["false_northing",200000],
     UNIT["Meter",1]]

but the same transformation for a mapInfo file gives back :
Layer SRS WKT:
LOCAL_CS["Nonearth",
     UNIT["Meter",1.0]]

these commands with s_srs instead of a_srs gives the same results.

Any hint ?

Thanks

-- 
Guillaume SUEUR


From warmerdam at pobox.com  Fri Jun 20 12:30:27 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 20 12:30:55 2008
Subject: [gdal-dev] ogr2ogr projection problem
In-Reply-To: <485BCE85.3040409@neogeo-online.net>
References: <485BCE85.3040409@neogeo-online.net>
Message-ID: <485BDB23.5070509@pobox.com>

Guillaume Sueur wrote:
> Hi,
> 
> I've noticed a problem using ogr2ogr for MapInfo files creation. the 
> destination projection doesn't seem to be set in the resulting file, 
> causing MapInfo opening it as 'non earth projection'.
> Here is the ogrinfo of my input file :
> PROJCS["unnamed",
>     GEOGCS["unnamed",
>         DATUM["NTF_Paris_Meridian",
>             SPHEROID["Clarke 1880 (modified for 
> IGN)",6378249.2,293.4660213],
>             TOWGS84[-168,-60,320,-0,-0,-0,0]],
>         PRIMEM["non-Greenwich",2.337229166667],
>         UNIT["degree",0.0174532925199433]],
>     PROJECTION["Lambert_Conformal_Conic_2SP"],
>     PARAMETER["standard_parallel_1",43.199291275544],
>     PARAMETER["standard_parallel_2",44.996093814511],
>     PARAMETER["latitude_of_origin",44.1],
>     PARAMETER["central_meridian",0],
>     PARAMETER["false_easting",600000],
>     PARAMETER["false_northing",200000],
>     UNIT["Meter",1.0]]
...
> but the same transformation for a mapInfo file gives back :
> Layer SRS WKT:
> LOCAL_CS["Nonearth",
>     UNIT["Meter",1.0]]
> 
> these commands with s_srs instead of a_srs gives the same results.

Guillaume,

There is something about this coordinate system that OGR's mapinfo
driver does not know how to represent in mapinfo tab or mif format.
I'm not sure exactly what.  Certainly the non-greenwich prime meridian
is likely an issue.  Perhaps the LCC projection is also not supported.

I would suggest you file a ticket on this issue, but I am doubtful anything
will change in the near future.  I expect more straightforward coordinate
systems will work.

Best regards,
-- 

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From dvieira at municipia.pt  Fri Jun 20 13:55:09 2008
From: dvieira at municipia.pt (Diogo Vieira)
Date: Fri Jun 20 13:55:12 2008
Subject: [gdal-dev] Problem with driver to ArcSDE Raster Catalogs!!
Message-ID: <AA838C71B162AE48B0967FB43528631A115C54@pat.municipia.pt>

Hi,

 

I am a user of Mapserver and I want to connect to ArcSDE Raster Catalogs from Mapserver.

For what I read in the page http://www.gdal.org/frmt_sde.html, actually GDAL does not support the reading of "ESRI ArcSDE Raster Catalogs"!!

I made an example, and I only obtained to load the first image of ArcSDE Raster Catalogs. I think that driver ArcSDE (through the lib GDAL) did not get the information of the images in the catalog, that is, the index of diverse tiles. Summarizing, the driver can read raster from ArcSDE, correct??...but can?t read the Raster Catalogs, correct? So, what I can do to decide this limitation?

 

Thanks a lot,

Diogo Vieira

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080620/4a411ffc/attachment.html
From c.schitka at gmail.com  Fri Jun 20 18:23:46 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Fri Jun 20 18:23:49 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
Message-ID: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>

Good Day list.

I write you with kind of an urgent problem today. The company I am doing
some consulting for is using GDAL to read a majority of their data. They
just purchased 800$ worth of some GeoData from a third party company.
Everytime we try an dopen the data through Gdal I get. A problem with trying
to create a Coordinate Transform. See error

ERROR: No PROJ.4 translation for source SRS, coordinate

When I did a Gdal Info on the file. I find this information out

Coordinate System is:
PROJCS[,
    GEOGCS["unnamed",
        DATUM["unknown",
            SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
        PRIMEM["Greenwich",0],
        UNIT[,0.0174532925199433]],
    UNIT["unknown",1],
    AUTHORITY["EPSG","0"]]


Which I think is the root of my problem. Is ther ea good/easy way for me to
fix this ? quickly ?

Thanks Court.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080620/1f8222a7/attachment.html
From mchapman at texelinc.com  Fri Jun 20 18:39:18 2008
From: mchapman at texelinc.com (=?utf-8?B?TWFydGluIENoYXBtYW4=?=)
Date: Fri Jun 20 18:45:12 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
Message-ID: <1254515559-1214001844-cardhu_decombobulator_blackberry.rim.net-1890169911-@bxe144.bisx.prod.on.blackberry>

If you have control of the code then you could set the projection after the open by calling setProjectionRef()..  Just ignore the error if the gdaldataset pointer is not null.

Hope that helps.
Martin
.

Sent via BlackBerry by AT&T

-----Original Message-----
From: "Courtney Schitka" <c.schitka@gmail.com>

Date: Fri, 20 Jun 2008 18:23:46 
To:gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Urgent GDal failing to open a file.


Good Day list. 

I write you with kind of an urgent problem today. The company I am doing some consulting for is using GDAL to read a majority of their data. They just purchased 800$ worth of some GeoData from a third party company. Everytime we try an dopen the data through Gdal I get. A problem with trying to create a Coordinate Transform. See error
 
ERROR: No PROJ.4 translation for source SRS, coordinate

When I did a Gdal Info on the file. I find this information out

Coordinate System is:
PROJCS[,
??? GEOGCS["unnamed",
??????? DATUM["unknown",
 ??????????? SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
??????? PRIMEM["Greenwich",0],
??????? UNIT[,0.0174532925199433]],
??? UNIT["unknown",1],
??? AUTHORITY["EPSG","0"]]
 

Which I think is the root of my problem. Is ther ea good/easy way for me to fix this ? quickly ? 

Thanks Court.
 _______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Fri Jun 20 18:46:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 20 18:46:46 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
Message-ID: <485C3340.1010902@pobox.com>

Courtney Schitka wrote:
> Good Day list.
> 
> I write you with kind of an urgent problem today. The company I am doing 
> some consulting for is using GDAL to read a majority of their data. They 
> just purchased 800$ worth of some GeoData from a third party company. 
> Everytime we try an dopen the data through Gdal I get. A problem with 
> trying to create a Coordinate Transform. See error
> 
> ERROR: No PROJ.4 translation for source SRS, coordinate
> 
> When I did a Gdal Info on the file. I find this information out
> 
> Coordinate System is:
> PROJCS[,
>     GEOGCS["unnamed",
>         DATUM["unknown",
>             SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
>         PRIMEM["Greenwich",0],
>         UNIT[,0.0174532925199433]],
>     UNIT["unknown",1],
>     AUTHORITY["EPSG","0"]]
> 
> 
> Which I think is the root of my problem. Is ther ea good/easy way for me 
> to fix this ? quickly ?

Court,

I *suspect* GDAL is failing to find it's supporting coordinate system
files.  Try setting the GDAL_DATA environment variable to point to the
directory with the files like pcs.csv and ecw_cs.wkt.

It would also be helpful if you were able to indicate the file format
with the problem, the version of GDAL, and ideally a sample file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From c.schitka at gmail.com  Fri Jun 20 18:51:24 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Fri Jun 20 18:51:26 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <485C3340.1010902@pobox.com>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
	<485C3340.1010902@pobox.com>
Message-ID: <e66a4dbf0806201551i1563ea44hfdf0de953dd17b2f@mail.gmail.com>

Frank & Martian

Thanks for your prompt replies.

If I know the coordinate system the file is supposed to be, is there a way I
can inject that into the file it's self ? Without needing to edit the code
or setting the GDAL_DATA environment variable ? The file is a GeoTiff ? I'd
provide a sample but the file is 100+ M could take a bit.

Court

On Fri, Jun 20, 2008 at 6:46 PM, Frank Warmerdam <warmerdam@pobox.com>
wrote:

> Courtney Schitka wrote:
>
>> Good Day list.
>>
>> I write you with kind of an urgent problem today. The company I am doing
>> some consulting for is using GDAL to read a majority of their data. They
>> just purchased 800$ worth of some GeoData from a third party company.
>> Everytime we try an dopen the data through Gdal I get. A problem with trying
>> to create a Coordinate Transform. See error
>>
>> ERROR: No PROJ.4 translation for source SRS, coordinate
>>
>> When I did a Gdal Info on the file. I find this information out
>>
>> Coordinate System is:
>> PROJCS[,
>>    GEOGCS["unnamed",
>>        DATUM["unknown",
>>            SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
>>        PRIMEM["Greenwich",0],
>>        UNIT[,0.0174532925199433]],
>>    UNIT["unknown",1],
>>    AUTHORITY["EPSG","0"]]
>>
>>
>> Which I think is the root of my problem. Is ther ea good/easy way for me
>> to fix this ? quickly ?
>>
>
> Court,
>
> I *suspect* GDAL is failing to find it's supporting coordinate system
> files.  Try setting the GDAL_DATA environment variable to point to the
> directory with the files like pcs.csv and ecw_cs.wkt.
>
> It would also be helpful if you were able to indicate the file format
> with the problem, the version of GDAL, and ideally a sample file.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080620/9043727d/attachment-0001.html
From mchapman at texelinc.com  Fri Jun 20 18:51:53 2008
From: mchapman at texelinc.com (=?utf-8?B?TWFydGluIENoYXBtYW4=?=)
Date: Fri Jun 20 18:56:43 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <e66a4dbf0806201551i1563ea44hfdf0de953dd17b2f@mail.gmail.com>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com><485C3340.1010902@pobox.com><e66a4dbf0806201551i1563ea44hfdf0de953dd17b2f@mail.gmail.com>
Message-ID: <724764171-1214002599-cardhu_decombobulator_blackberry.rim.net-1790600400-@bxe144.bisx.prod.on.blackberry>

Yes, I would try Frank's suggestion first though.  If it doesn't work then you could re-write the file and assign a projection with create() or createCopy() on the driver object..

Martin

Sent via BlackBerry by AT&T

-----Original Message-----
From: "Courtney Schitka" <c.schitka@gmail.com>

Date: Fri, 20 Jun 2008 18:51:24 
To:"Frank Warmerdam" <warmerdam@pobox.com>
Cc:gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Urgent GDal failing to open a file.


Frank & Martian 

Thanks for your prompt replies.

If I know the coordinate system the file is supposed to be, is there a way I can inject that into the file it's self ? Without needing to edit the code or setting the GDAL_DATA environment variable ? The file is a GeoTiff ? I'd provide a sample but the file is 100+ M could take a bit. 
 
Court


On Fri, Jun 20, 2008 at 6:46 PM, Frank Warmerdam <warmerdam@pobox.com <mailto:warmerdam@pobox.com> > wrote:
 


Courtney Schitka wrote:
 Good Day list.
 
 I write you with kind of an urgent problem today. The company I am doing some consulting for is using GDAL to read a majority of their data. They just purchased 800$ worth of some GeoData from a third party company. Everytime we try an dopen the data through Gdal I get. A problem with trying to create a Coordinate Transform. See error
 
 ERROR: No PROJ.4 translation for source SRS, coordinate
 
 When I did a Gdal Info on the file. I find this information out
 
 Coordinate System is:
 PROJCS[,
 ? ?GEOGCS["unnamed",
 ? ? ? ?DATUM["unknown",
 ? ? ? ? ? ?SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
 ? ? ? ?PRIMEM["Greenwich",0],
 ? ? ? ?UNIT[,0.0174532925199433]],
 ? ?UNIT["unknown",1],
 ? ?AUTHORITY["EPSG","0"]]
 
 
 Which I think is the root of my problem. Is ther ea good/easy way for me to fix this ? quickly ?
 
 Court,
 
 I *suspect* GDAL is failing to find it's supporting coordinate system
 files. ?Try setting the GDAL_DATA environment variable to point to the
 directory with the files like pcs.csv and ecw_cs.wkt.
 
 It would also be helpful if you were able to indicate the file format
 with the problem, the version of GDAL, and ideally a sample file.
 
 Best regards,
 -- 
 ---------------------------------------+--------------------------------------
 I set the clouds in motion - turn up ? | Frank Warmerdam, warmerdam@pobox.com <mailto:warmerdam@pobox.com> 
 light and sound - activate the windows | http://pobox.com/~warmerdam <http://pobox.com/%7Ewarmerdam> 
 and watch the world go round - Rush ? ?| President OSGeo, http://osgeo.org <http://osgeo.org> 
 
 
 _______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From c.schitka at gmail.com  Fri Jun 20 19:01:31 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Fri Jun 20 19:01:33 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <724764171-1214002599-cardhu_decombobulator_blackberry.rim.net-1790600400-@bxe144.bisx.prod.on.blackberry>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
	<485C3340.1010902@pobox.com>
	<e66a4dbf0806201551i1563ea44hfdf0de953dd17b2f@mail.gmail.com>
	<724764171-1214002599-cardhu_decombobulator_blackberry.rim.net-1790600400-@bxe144.bisx.prod.on.blackberry>
Message-ID: <e66a4dbf0806201601v5aee6d10se39b3a5b84e3c16b@mail.gmail.com>

And I was hoping for an easy solution with FWTools or something... Thanks
for the suggestions boys. Looks like I've got a long night a head of me.

On Fri, Jun 20, 2008 at 6:51 PM, Martin Chapman <mchapman@texelinc.com>
wrote:

> Yes, I would try Frank's suggestion first though.  If it doesn't work then
> you could re-write the file and assign a projection with create() or
> createCopy() on the driver object..
>
> Martin
>
> Sent via BlackBerry by AT&T
>
> -----Original Message-----
> From: "Courtney Schitka" <c.schitka@gmail.com>
>
> Date: Fri, 20 Jun 2008 18:51:24
> To:"Frank Warmerdam" <warmerdam@pobox.com>
> Cc:gdal-dev@lists.osgeo.org <Cc%3Agdal-dev@lists.osgeo.org>
> Subject: Re: [gdal-dev] Urgent GDal failing to open a file.
>
>
> Frank & Martian
>
> Thanks for your prompt replies.
>
> If I know the coordinate system the file is supposed to be, is there a way
> I can inject that into the file it's self ? Without needing to edit the code
> or setting the GDAL_DATA environment variable ? The file is a GeoTiff ? I'd
> provide a sample but the file is 100+ M could take a bit.
>
> Court
>
>
> On Fri, Jun 20, 2008 at 6:46 PM, Frank Warmerdam <warmerdam@pobox.com<mailto:
> warmerdam@pobox.com> > wrote:
>
>
>
> Courtney Schitka wrote:
>  Good Day list.
>
>  I write you with kind of an urgent problem today. The company I am doing
> some consulting for is using GDAL to read a majority of their data. They
> just purchased 800$ worth of some GeoData from a third party company.
> Everytime we try an dopen the data through Gdal I get. A problem with trying
> to create a Coordinate Transform. See error
>
>  ERROR: No PROJ.4 translation for source SRS, coordinate
>
>  When I did a Gdal Info on the file. I find this information out
>
>  Coordinate System is:
>  PROJCS[,
>     GEOGCS["unnamed",
>         DATUM["unknown",
>             SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
>         PRIMEM["Greenwich",0],
>         UNIT[,0.0174532925199433]],
>     UNIT["unknown",1],
>     AUTHORITY["EPSG","0"]]
>
>
>  Which I think is the root of my problem. Is ther ea good/easy way for me
> to fix this ? quickly ?
>
>  Court,
>
>  I *suspect* GDAL is failing to find it's supporting coordinate system
>  files.  Try setting the GDAL_DATA environment variable to point to the
>  directory with the files like pcs.csv and ecw_cs.wkt.
>
>  It would also be helpful if you were able to indicate the file format
>  with the problem, the version of GDAL, and ideally a sample file.
>
>  Best regards,
>  --
>
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com <mailto:warmerdam@pobox.com>
>  light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam><
> http://pobox.com/%7Ewarmerdam>
>  and watch the world go round - Rush    | President OSGeo,
> http://osgeo.org <http://osgeo.org>
>
>
>  _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080620/692c806d/attachment.html
From warmerdam at pobox.com  Fri Jun 20 19:22:50 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 20 19:23:21 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <e66a4dbf0806201601v5aee6d10se39b3a5b84e3c16b@mail.gmail.com>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>
	<485C3340.1010902@pobox.com>
	<e66a4dbf0806201551i1563ea44hfdf0de953dd17b2f@mail.gmail.com>
	<724764171-1214002599-cardhu_decombobulator_blackberry.rim.net-1790600400-@bxe144.bisx.prod.on.blackberry>
	<e66a4dbf0806201601v5aee6d10se39b3a5b84e3c16b@mail.gmail.com>
Message-ID: <485C3BCA.1090702@pobox.com>

Courtney Schitka wrote:
> And I was hoping for an easy solution with FWTools or something... 
> Thanks for the suggestions boys. Looks like I've got a long night a head 
> of me.

Courtney,

You can assign a coordinate system as part of a dataset copy using
the gdal_translate command like this:

   gdal_translate -a_srs abc.wkt in.tif out.tif

Assuming in.wkt contains the well known text coordinate system definition.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tim.bowden at westnet.com.au  Fri Jun 20 22:14:53 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Fri Jun 20 22:14:55 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
Message-ID: <1214014493.6867.19.camel@edoras>

I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
them if they're >2gb in size, but there's no problem with the same setup
on ubuntu 7.10.

Details:
Ubuntu 7.10
gcc --version
gcc (GCC) 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)
ubuntu gcc package: 4.1.2-9ubuntu2
kernel: ubuntu packaged 2.6.22-14-generic
glibc: 2.6.1-1ubuntu9

Ubuntu 8.04
gcc --version
gcc (GCC) 4.2.3 (Ubuntu 4.2.3-2ubuntu7)
ubuntu gcc package: 4.2.3-1ubuntu3
kernel: ubuntu packaged 2.6.24-19-generic
glibc: 2.7-10ubuntu3

On both PC's (from source):
gdal: gdal-1.5.2
ecw: libecwj2-3.3

The binary FWTools dist exhibits the same outcomes- works on bunty 7.10,
fails on 8.04 for ecw's >2gb.

I'm not at all sure where it may be going wrong, but having a wild
guess, I'd think either kernel, glibc or something else.

Can anyone replicate these results?

Does anyone have any ideas as to what's going on, and more importantly,
how to fix it?

Thanks,
Tim Bowden

From c.schitka at gmail.com  Sat Jun 21 01:22:48 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Sat Jun 21 01:22:50 2008
Subject: [gdal-dev] Urgent GDAL not opening file. Bad SRS
Message-ID: <e66a4dbf0806202222t3f47be5fj459e466210766de8@mail.gmail.com>

Ok... So what I think I've decided to do, is remove the coordinate
information from the geotiff. and have GDAL tell me it doesn't have a proper
SRS then promt the user to enter an SRS through a wizard dialogue or
something. I know this is possible because we have some geotiffs that don't
have an SRS already, when I do a gdal info I get this

Coordinate System is `'

Can I through something like a gdal_translate

Replace this co-ordinate information that's giving me a hard time with.

PROJCS[,GEOGCS["unnamed",DATUM["unknown",SPHEROID["unretrievable - using
WGS84",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT[,0.0174532925199433]],UNIT["unknown",1],AUTHORITY["EPSG","0"]]



To simply be empty. If so what's the make wkt string I need to provide to do
so I can't seem to find it.

Thank you
Courtney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080621/62792d3e/attachment.html
From ivan.lucena at pmldnet.com  Sat Jun 21 01:26:47 2008
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Lucena,=20Ivan?=)
Date: Sat Jun 21 01:26:48 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
Message-ID: <20080621052647.21775.qmail@s466.sureserver.com>

For a long time I don't deal with ECW but isn't it a matter of file size limitation on the *free* ECW library?
Regards.

>  -------Original Message-------
>  From: Tim Bowden <tim.bowden@westnet.com.au>
>  Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
>  Sent: Jun 21 '08 02:14
>  
>  I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
>  them if they're >2gb in size, but there's no problem with the same setup
>  on ubuntu 7.10.
>  
>  Details:
>  Ubuntu 7.10
>  gcc --version
>  gcc (GCC) 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)
>  ubuntu gcc package: 4.1.2-9ubuntu2
>  kernel: ubuntu packaged 2.6.22-14-generic
>  glibc: 2.6.1-1ubuntu9
>  
>  Ubuntu 8.04
>  gcc --version
>  gcc (GCC) 4.2.3 (Ubuntu 4.2.3-2ubuntu7)
>  ubuntu gcc package: 4.2.3-1ubuntu3
>  kernel: ubuntu packaged 2.6.24-19-generic
>  glibc: 2.7-10ubuntu3
>  
>  On both PC's (from source):
>  gdal: gdal-1.5.2
>  ecw: libecwj2-3.3
>  
>  The binary FWTools dist exhibits the same outcomes- works on bunty 7.10,
>  fails on 8.04 for ecw's >2gb.
>  
>  I'm not at all sure where it may be going wrong, but having a wild
>  guess, I'd think either kernel, glibc or something else.
>  
>  Can anyone replicate these results?
>  
>  Does anyone have any ideas as to what's going on, and more importantly,
>  how to fix it?
>  
>  Thanks,
>  Tim Bowden
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From tim.bowden at westnet.com.au  Sat Jun 21 01:41:25 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sat Jun 21 01:41:47 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <20080621052647.21775.qmail@s466.sureserver.com>
References: <20080621052647.21775.qmail@s466.sureserver.com>
Message-ID: <1214026885.6867.22.camel@edoras>


On Sat, 2008-06-21 at 05:26 +0000, Lucena, Ivan wrote:
> For a long time I don't deal with ECW but isn't it a matter of file
>  size limitation on the *free* ECW library? Regards.
> 
The size limit is a licensing issue, not a technical one; Same code
either way.  Besides, the "free" license is a long way from being free
in any meaningful way.

Regards,
Tim Bowden

> >  -------Original Message-------
> >  From: Tim Bowden <tim.bowden@westnet.com.au>
> >  Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
> >  Sent: Jun 21 '08 02:14
> >  
> >  I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
> >  them if they're >2gb in size, but there's no problem with the same setup
> >  on ubuntu 7.10.
> >  
> >  Details:
> >  Ubuntu 7.10
> >  gcc --version
> >  gcc (GCC) 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)
> >  ubuntu gcc package: 4.1.2-9ubuntu2
> >  kernel: ubuntu packaged 2.6.22-14-generic
> >  glibc: 2.6.1-1ubuntu9
> >  
> >  Ubuntu 8.04
> >  gcc --version
> >  gcc (GCC) 4.2.3 (Ubuntu 4.2.3-2ubuntu7)
> >  ubuntu gcc package: 4.2.3-1ubuntu3
> >  kernel: ubuntu packaged 2.6.24-19-generic
> >  glibc: 2.7-10ubuntu3
> >  
> >  On both PC's (from source):
> >  gdal: gdal-1.5.2
> >  ecw: libecwj2-3.3
> >  
> >  The binary FWTools dist exhibits the same outcomes- works on bunty 7.10,
> >  fails on 8.04 for ecw's >2gb.
> >  
> >  I'm not at all sure where it may be going wrong, but having a wild
> >  guess, I'd think either kernel, glibc or something else.
> >  
> >  Can anyone replicate these results?
> >  
> >  Does anyone have any ideas as to what's going on, and more importantly,
> >  how to fix it?
> >  
> >  Thanks,
> >  Tim Bowden
> >  
> >  _______________________________________________
> >  gdal-dev mailing list
> >  gdal-dev@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  
-- 
vim is a good example of an IDE done properly.  emacs is an example of
an IDE done poorly.  Anything that involves little pictures is a
mis-umderstanding of what an IDE should be.

From ivan.lucena at pmldnet.com  Sat Jun 21 01:47:13 2008
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Lucena,=20Ivan?=)
Date: Sat Jun 21 01:47:15 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
Message-ID: <20080621054713.20251.qmail@s466.sureserver.com>

Oh. I got it. So, the file size restriction on the "unpaid" license is not hard coded anymore. Good to know. Thanks.


>  -------Original Message-------
>  From: Tim Bowden <tim.bowden@westnet.com.au>
>  Subject: Re: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
>  Sent: Jun 21 '08 05:41
>  
>  
>  On Sat, 2008-06-21 at 05:26 +0000, Lucena, Ivan wrote:
>  > For a long time I don't deal with ECW but isn't it a matter of file
>  >  size limitation on the *free* ECW library? Regards.
>  >
>  The size limit is a licensing issue, not a technical one; Same code
>  either way.  Besides, the "free" license is a long way from being free
>  in any meaningful way.
>  
>  Regards,
>  Tim Bowden
>  
>  > >  -------Original Message-------
>  > >  From: Tim Bowden <tim.bowden@westnet.com.au>
>  > >  Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
>  > >  Sent: Jun 21 '08 02:14
>  > >  
>  > >  I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
>  > >  them if they're >2gb in size, but there's no problem with the same setup
>  > >  on ubuntu 7.10.
>  > >  
>  > >  Details:
>  > >  Ubuntu 7.10
>  > >  gcc --version
>  > >  gcc (GCC) 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)
>  > >  ubuntu gcc package: 4.1.2-9ubuntu2
>  > >  kernel: ubuntu packaged 2.6.22-14-generic
>  > >  glibc: 2.6.1-1ubuntu9
>  > >  
>  > >  Ubuntu 8.04
>  > >  gcc --version
>  > >  gcc (GCC) 4.2.3 (Ubuntu 4.2.3-2ubuntu7)
>  > >  ubuntu gcc package: 4.2.3-1ubuntu3
>  > >  kernel: ubuntu packaged 2.6.24-19-generic
>  > >  glibc: 2.7-10ubuntu3
>  > >  
>  > >  On both PC's (from source):
>  > >  gdal: gdal-1.5.2
>  > >  ecw: libecwj2-3.3
>  > >  
>  > >  The binary FWTools dist exhibits the same outcomes- works on bunty 7.10,
>  > >  fails on 8.04 for ecw's >2gb.
>  > >  
>  > >  I'm not at all sure where it may be going wrong, but having a wild
>  > >  guess, I'd think either kernel, glibc or something else.
>  > >  
>  > >  Can anyone replicate these results?
>  > >  
>  > >  Does anyone have any ideas as to what's going on, and more importantly,
>  > >  how to fix it?
>  > >  
>  > >  Thanks,
>  > >  Tim Bowden
>  > >  
>  > >  _______________________________________________
>  > >  gdal-dev mailing list
>  > >  gdal-dev@lists.osgeo.org
>  > >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  > >  
>  --
>  vim is a good example of an IDE done properly.  emacs is an example of
>  an IDE done poorly.  Anything that involves little pictures is a
>  mis-umderstanding of what an IDE should be.
>  
>  
From guillaume.sueur at neogeo-online.net  Sat Jun 21 04:17:11 2008
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Sat Jun 21 04:17:16 2008
Subject: [gdal-dev] ogr2ogr projection problem
In-Reply-To: <485BDB23.5070509@pobox.com>
References: <485BCE85.3040409@neogeo-online.net> <485BDB23.5070509@pobox.com>
Message-ID: <485CB907.8020906@neogeo-online.net>

Hi,

Try to explain to french people their CRS are not straightforward when 
they have been designed by IGN ! ;-)

That's a big issue for me, and I think I could maybe fund it. Do you 
have any idea of the amount of work it would require ?


Thanks,


Guillaume

From guillaume.sueur at neogeo-online.net  Sat Jun 21 04:53:27 2008
From: guillaume.sueur at neogeo-online.net (Guillaume Sueur)
Date: Sat Jun 21 04:53:34 2008
Subject: [gdal-dev] ogr2ogr projection problem
In-Reply-To: <485BDB23.5070509@pobox.com>
References: <485BCE85.3040409@neogeo-online.net> <485BDB23.5070509@pobox.com>
Message-ID: <485CC187.80501@neogeo-online.net>

actually, isn't it already the problem described in ticket 481 : 
ogr2ogr: SHAPE-> MapInfo conversion - proj info get's lost

it seems to apply to MapInfo -> MapInfo reprojection as well then.

Guillaume

Frank Warmerdam a ?crit :
> Guillaume Sueur wrote:
>> Hi,
>>
>> I've noticed a problem using ogr2ogr for MapInfo files creation. the 
>> destination projection doesn't seem to be set in the resulting file, 
>> causing MapInfo opening it as 'non earth projection'.
>> Here is the ogrinfo of my input file :
>> PROJCS["unnamed",
>>     GEOGCS["unnamed",
>>         DATUM["NTF_Paris_Meridian",
>>             SPHEROID["Clarke 1880 (modified for 
>> IGN)",6378249.2,293.4660213],
>>             TOWGS84[-168,-60,320,-0,-0,-0,0]],
>>         PRIMEM["non-Greenwich",2.337229166667],
>>         UNIT["degree",0.0174532925199433]],
>>     PROJECTION["Lambert_Conformal_Conic_2SP"],
>>     PARAMETER["standard_parallel_1",43.199291275544],
>>     PARAMETER["standard_parallel_2",44.996093814511],
>>     PARAMETER["latitude_of_origin",44.1],
>>     PARAMETER["central_meridian",0],
>>     PARAMETER["false_easting",600000],
>>     PARAMETER["false_northing",200000],
>>     UNIT["Meter",1.0]]
> ...
>> but the same transformation for a mapInfo file gives back :
>> Layer SRS WKT:
>> LOCAL_CS["Nonearth",
>>     UNIT["Meter",1.0]]
>>
>> these commands with s_srs instead of a_srs gives the same results.
> 
> Guillaume,
> 
> There is something about this coordinate system that OGR's mapinfo
> driver does not know how to represent in mapinfo tab or mif format.
> I'm not sure exactly what.  Certainly the non-greenwich prime meridian
> is likely an issue.  Perhaps the LCC projection is also not supported.
> 
> I would suggest you file a ticket on this issue, but I am doubtful anything
> will change in the near future.  I expect more straightforward coordinate
> systems will work.
> 
> Best regards,


From neteler at osgeo.org  Sat Jun 21 09:04:02 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Sat Jun 21 09:04:05 2008
Subject: [gdal-dev] WKT recognition problem with some Polish prj files
Message-ID: <86782b610806210604o7b8faccfgac636cb8032b8a91@mail.gmail.com>

Hi,

attached PUWG_1965_Strefa_I.prj isn't properly recognized in GRASS
(which uses OGR for that). The file was given to me as official WKT file
during the cascadoss.eu workshop. The problem seems to be
  PROJECTION["Double_Stereographic"]
which should be probably
  PROJECTION["Stereographic"]
only?
(related discussion I found in
 http://article.gmane.org/gmane.comp.gis.grass.user/17053
)

In a presentation from FrankW I found:

Warmerdam:
 Stereographic
Aka Oblique Stereographic
 +proj=stere +lat_0=<origin lat>
 +lon_0=<origin long> +k=<scale factor>
 +x_0=<false easting> +y_0=<false northing>

Example (Poland Zone 1):
 +proj=stere +lat_0=50d37.5 +lon_0=21d5
 +k=0.9998 +x_0=4637000 +y_0=5647000
 +ellps=krass +units=m
 +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84

replacing
PROJECTION["Double_Stereographic"]
-> PROJECTION["Stereographic"]
seems to solve it.

Another one I found is:

PROJCS["UWPP_1992",
GEOGCS["GCS_ETRF_1989",
DATUM["D_ETRF_1989",
SPHEROID["WGS_1984",6378137.0,298.257223563]],
PRIMEM["Greenwich",0.0],
UNIT["Degree",0.0174532925199433],
AXIS["Longitude",EAST],
AXIS["Latitude",NORTH]],
PROJECTION["Gauss-Kruger"],
PARAMETER["False_Easting",500000.0],
PARAMETER["False_Northing",-5300000.0],
PARAMETER["Central_Meridian",19.0],
PARAMETER["Scale_Factor",0.9993],
PARAMETER["Latitude_Of_Origin",0.0],
UNIT["Metre",1.0],
AXIS["x",EAST],
AXIS["y",NORTH]]

where
  PROJECTION["Gauss-Kruger"]
should be
  PROJECTION["Transverse_Mercator"]

Can we auto-mangle that in OGR?

In GRASS we have support to fix broken datum names but
no way to do the same for PROJECTION since OGR does the
parsing for us.

thanks
Markus
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PUWG_1965_Strefa_I.prj
Type: application/octet-stream
Size: 424 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080621/d8a10ded/PUWG_1965_Strefa_I.obj
From richard.greenwood at gmail.com  Sat Jun 21 09:33:33 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Sat Jun 21 09:33:39 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <1214014493.6867.19.camel@edoras>
References: <1214014493.6867.19.camel@edoras>
Message-ID: <ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>

On Fri, Jun 20, 2008 at 8:14 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
> them if they're >2gb in size, but there's no problem with the same setup
> on ubuntu 7.10.

How exactly does it fail? I just did a gdalinfo on a ~4GB ecw on
Ubuntu 8.04 w/ FW Tools 2.0.6 w/o a problem.

-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com
From tim.bowden at westnet.com.au  Sat Jun 21 09:57:03 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sat Jun 21 09:57:05 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
References: <1214014493.6867.19.camel@edoras>
	<ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
Message-ID: <1214056623.6038.8.camel@edoras>

On Sat, 2008-06-21 at 07:33 -0600, Richard Greenwood wrote:
> On Fri, Jun 20, 2008 at 8:14 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> > I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
> > them if they're >2gb in size, but there's no problem with the same setup
> > on ubuntu 7.10.
> 
> How exactly does it fail? I just did a gdalinfo on a ~4GB ecw on
> Ubuntu 8.04 w/ FW Tools 2.0.6 w/o a problem.
$ gdalinfo testfile_large.ecw
ERROR 4: `testfile_large.ecw' not recognised as a supported file format.

gdalinfo failed - unable to open 'testfile_large.ecw'.

Strange that it works for you and not me.  I've got this happening on
two different systems- one a vmware guest, on on bare metal. Not sure
what's going on.  Are you on a 32 or 64 bit cpu?

Regards,
Tim Bowden


From richard.greenwood at gmail.com  Sat Jun 21 10:44:02 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Sat Jun 21 10:44:05 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <1214056623.6038.8.camel@edoras>
References: <1214014493.6867.19.camel@edoras>
	<ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
	<1214056623.6038.8.camel@edoras>
Message-ID: <ae9185aa0806210744v1eb0f395i856bc57354d618f9@mail.gmail.com>

On Sat, Jun 21, 2008 at 7:57 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> On Sat, 2008-06-21 at 07:33 -0600, Richard Greenwood wrote:
>> On Fri, Jun 20, 2008 at 8:14 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
>> > I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
>> > them if they're >2gb in size, but there's no problem with the same setup
>> > on ubuntu 7.10.
>>
>> How exactly does it fail? I just did a gdalinfo on a ~4GB ecw on
>> Ubuntu 8.04 w/ FW Tools 2.0.6 w/o a problem.
> $ gdalinfo testfile_large.ecw
> ERROR 4: `testfile_large.ecw' not recognised as a supported file format.
>
> gdalinfo failed - unable to open 'testfile_large.ecw'.
>
> Strange that it works for you and not me.  I've got this happening on
> two different systems- one a vmware guest, on on bare metal. Not sure
> what's going on.  Are you on a 32 or 64 bit cpu?

Doing gdalinfo on a mounted Samba filesystem on a ~4GB ecw file works,
however, when I copy the same file to the local HD I get:

$ gdalinfo _2006_Aerial_Photography.ecw
ERROR 4: `_2006_Aerial_Photography.ecw' not recognised as a supported
file format.

gdalinfo failed - unable to open '_2006_Aerial_Photography.ecw'.


-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com
From tim.bowden at westnet.com.au  Sat Jun 21 11:00:39 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sat Jun 21 11:00:43 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <ae9185aa0806210744v1eb0f395i856bc57354d618f9@mail.gmail.com>
References: <1214014493.6867.19.camel@edoras>
	<ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
	<1214056623.6038.8.camel@edoras>
	<ae9185aa0806210744v1eb0f395i856bc57354d618f9@mail.gmail.com>
Message-ID: <1214060439.6038.16.camel@edoras>

On Sat, 2008-06-21 at 08:44 -0600, Richard Greenwood wrote:
> On Sat, Jun 21, 2008 at 7:57 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> > On Sat, 2008-06-21 at 07:33 -0600, Richard Greenwood wrote:
> >> On Fri, Jun 20, 2008 at 8:14 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> >> > I've got a bit of a problem with ecw's on ubuntu 8.04; gdal can't read
> >> > them if they're >2gb in size, but there's no problem with the same setup
> >> > on ubuntu 7.10.
> >>
> >> How exactly does it fail? I just did a gdalinfo on a ~4GB ecw on
> >> Ubuntu 8.04 w/ FW Tools 2.0.6 w/o a problem.
> > $ gdalinfo testfile_large.ecw
> > ERROR 4: `testfile_large.ecw' not recognised as a supported file format.
> >
> > gdalinfo failed - unable to open 'testfile_large.ecw'.
> >
> > Strange that it works for you and not me.  I've got this happening on
> > two different systems- one a vmware guest, on on bare metal. Not sure
> > what's going on.  Are you on a 32 or 64 bit cpu?
> 
> Doing gdalinfo on a mounted Samba filesystem on a ~4GB ecw file works,
> however, when I copy the same file to the local HD I get:
> 
> $ gdalinfo _2006_Aerial_Photography.ecw
> ERROR 4: `_2006_Aerial_Photography.ecw' not recognised as a supported
> file format.
> 
> gdalinfo failed - unable to open '_2006_Aerial_Photography.ecw'.
> 
*me scratches head* and not for the first time.  I wasn't expecting that
to make a difference.  No idea what to make of it.  Just to make sure
I've got it right, the samba share was being served from a mac was it?
And you were running gdalinfo from ubuntu 8.04?  or the other way
around?

Regards,
Tim Bowden

From richard.greenwood at gmail.com  Sat Jun 21 11:09:01 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Sat Jun 21 11:09:04 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <1214060439.6038.16.camel@edoras>
References: <1214014493.6867.19.camel@edoras>
	<ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
	<1214056623.6038.8.camel@edoras>
	<ae9185aa0806210744v1eb0f395i856bc57354d618f9@mail.gmail.com>
	<1214060439.6038.16.camel@edoras>
Message-ID: <ae9185aa0806210809l1dcf4083s8dd77689a9437015@mail.gmail.com>

On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> *me scratches head* and not for the first time.  I wasn't expecting that
> to make a difference.  No idea what to make of it.  Just to make sure
> I've got it right, the samba share was being served from a mac was it?
> And you were running gdalinfo from ubuntu 8.04?  or the other way
> around?

I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
mounted via Samba and gdalinfo was fine. Copied the same file to the
local ext3 partition and got the error. I'll be trying the same file
on a Slackware server in the next couple days.

Obviously a work around is to split the ecw file into tiles.

Rich

-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com
From tim.bowden at westnet.com.au  Sat Jun 21 11:28:56 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sat Jun 21 11:29:01 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <ae9185aa0806210809l1dcf4083s8dd77689a9437015@mail.gmail.com>
References: <1214014493.6867.19.camel@edoras>
	<ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
	<1214056623.6038.8.camel@edoras>
	<ae9185aa0806210744v1eb0f395i856bc57354d618f9@mail.gmail.com>
	<1214060439.6038.16.camel@edoras>
	<ae9185aa0806210809l1dcf4083s8dd77689a9437015@mail.gmail.com>
Message-ID: <1214062136.6038.26.camel@edoras>


On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
> On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> > *me scratches head* and not for the first time.  I wasn't expecting that
> > to make a difference.  No idea what to make of it.  Just to make sure
> > I've got it right, the samba share was being served from a mac was it?
> > And you were running gdalinfo from ubuntu 8.04?  or the other way
> > around?
> 
> I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
> mounted via Samba and gdalinfo was fine. Copied the same file to the
> local ext3 partition and got the error. I'll be trying the same file
> on a Slackware server in the next couple days.

Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
would make a difference, but I've got no other ideas.
> 
> Obviously a work around is to split the ecw file into tiles.
> 
Ugly solution for me.  I've got (client rather) abt 350gb+ of ecw's
mostly over 2gb each being served up by mapserver that will be updated
every three months .  Hate to have to automate that in a failsafe way.

Tim 

> Rich
> 
-- 
vim is a good example of an IDE done properly.  emacs is an example of
an IDE done poorly.  Anything that involves little pictures is a
mis-umderstanding of what an IDE should be.

From c.schitka at gmail.com  Sat Jun 21 12:40:23 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Sat Jun 21 12:40:26 2008
Subject: [gdal-dev] GDAL Translate to remove SRS
Message-ID: <e66a4dbf0806210940h2dcaca89uc56b4a2dad076590@mail.gmail.com>

Can I use gdal_translate to remove an existing SRS in a geotiff and replace
it with an empty one by specifying -a_srs (WHATEVER it is for an empty wkt).


If so what is the wkt format I need to specify for an empty SRS

Thanks
Court
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080621/f1887667/attachment.html
From mariusjigmond at hotmail.com  Sat Jun 21 18:13:40 2008
From: mariusjigmond at hotmail.com (Marius Jigmond)
Date: Sat Jun 21 18:13:42 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
Message-ID: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl>



Tim Bowden wrote:

  On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
  
  
    On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
    
    
      *me scratches head* and not for the first time.  I wasn't expecting that
to make a difference.  No idea what to make of it.  Just to make sure
I've got it right, the samba share was being served from a mac was it?
And you were running gdalinfo from ubuntu 8.04?  or the other way
around?
      
    
    I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
mounted via Samba and gdalinfo was fine. Copied the same file to the
local ext3 partition and got the error. I'll be trying the same file
on a Slackware server in the next couple days.
    
  
  
Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
would make a difference, but I've got no other ideas.
  
  
    Obviously a work around is to split the ecw file into tiles.

    
  
  Ugly solution for me.  I've got (client rather) abt 350gb+ of ecw's
mostly over 2gb each being served up by mapserver that will be updated
every three months .  Hate to have to automate that in a failsafe way.

Tim 

  
  
    Rich

    
  

This might be related to a similar issue I had reading tiff's larger
than 2GB also on Ubuntu 8.04. I have the exact same error, while it
works on Ubuntu 7.10. I never got to the bottom of it, but I suspect
something is broken in Ubuntu 8.04.



Marius


_________________________________________________________________
The i?m Talkathon starts 6/24/08.? For now, give amongst yourselves.
http://www.imtalkathon.com?source=TXT_EML_WLH_LearnMore_GiveAmongst
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080621/a39d9170/attachment.html
From jukka.rahkonen at mmmtike.fi  Sat Jun 21 18:26:32 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sat Jun 21 18:26:46 2008
Subject: [gdal-dev] Re: GDAL Translate to remove SRS
References: <e66a4dbf0806210940h2dcaca89uc56b4a2dad076590@mail.gmail.com>
Message-ID: <loom.20080621T222143-198@post.gmane.org>

Courtney Schitka <c.schitka <at> gmail.com> writes:

> 
> Can I use gdal_translate to remove an existing SRS in a geotiff and replace it
with an empty one by specifying -a_srs (WHATEVER it is for an empty wkt). If so
what is the wkt format I need to specify for an empty SRSThanks Court

Hi,

Would you be satisfied with a normal tiff image + world file for georefencing?
That is achieved by 

gdal_translate -of GTiff -co profile=baseline -co tfw=yes

I have needed that sometimes for cleaning geotiff images containing wrong tags,
for example units in fathoms instead of meters.

-Jukka Rahkonen-



From richard.greenwood at gmail.com  Sat Jun 21 23:19:09 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Sat Jun 21 23:19:12 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <1214062136.6038.26.camel@edoras>
References: <1214014493.6867.19.camel@edoras>
	<ae9185aa0806210633mcd4f8d4qdd0df3699c753ef3@mail.gmail.com>
	<1214056623.6038.8.camel@edoras>
	<ae9185aa0806210744v1eb0f395i856bc57354d618f9@mail.gmail.com>
	<1214060439.6038.16.camel@edoras>
	<ae9185aa0806210809l1dcf4083s8dd77689a9437015@mail.gmail.com>
	<1214062136.6038.26.camel@edoras>
Message-ID: <ae9185aa0806212019x38f04dd2lc6f8ab11e9f90db7@mail.gmail.com>

On Sat, Jun 21, 2008 at 9:28 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
>
> On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
>> On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
>> > *me scratches head* and not for the first time.  I wasn't expecting that
>> > to make a difference.  No idea what to make of it.  Just to make sure
>> > I've got it right, the samba share was being served from a mac was it?
>> > And you were running gdalinfo from ubuntu 8.04?  or the other way
>> > around?
>>
>> I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
>> mounted via Samba and gdalinfo was fine. Copied the same file to the
>> local ext3 partition and got the error. I'll be trying the same file
>> on a Slackware server in the next couple days.
>
> Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
> would make a difference, but I've got no other ideas.

FWIW - I copied my 4GB ecw to a Slackware Linux server and gdalinfo
does not report any errors. I'm using the same version of FW Tools
(2.0.6) on both my Ubuntu 8.04 laptop and the Slackware server.

-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com
From tim.bowden at westnet.com.au  Sun Jun 22 00:28:24 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sun Jun 22 00:28:49 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl>
Message-ID: <1214108905.6038.37.camel@edoras>

On Sat, 2008-06-21 at 18:13 -0400, Marius Jigmond wrote:
> Tim Bowden wrote: 
> > On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
> >   
> > > On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden &lt;tim.bowden@westnet.com.au&gt; wrote:
> > >     
> > > > *me scratches head* and not for the first time.  I wasn't expecting that
> > > > to make a difference.  No idea what to make of it.  Just to make sure
> > > > I've got it right, the samba share was being served from a mac was it?
> > > > And you were running gdalinfo from ubuntu 8.04?  or the other way
> > > > around?
> > > >       
> > > I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
> > > mounted via Samba and gdalinfo was fine. Copied the same file to the
> > > local ext3 partition and got the error. I'll be trying the same file
> > > on a Slackware server in the next couple days.
> > >     
> > 
> > Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
> > would make a difference, but I've got no other ideas.
> >   
> > > Obviously a work around is to split the ecw file into tiles.
> > > 
> > >     
> > Ugly solution for me.  I've got (client rather) abt 350gb+ of ecw's
> > mostly over 2gb each being served up by mapserver that will be updated
> > every three months .  Hate to have to automate that in a failsafe way.
> > 
> > Tim 
> > 
> >   
> > > Rich
> > > 
> > >     
> This might be related to a similar issue I had reading tiff's larger
> than 2GB also on Ubuntu 8.04. I have the exact same error, while it
> works on Ubuntu 7.10. I never got to the bottom of it, but I suspect
> something is broken in Ubuntu 8.04.
> 
> Marius
> 
I just got the same result with a geotiff >2gb.  I think we can say
libecwj is in the clear for now.

Richard, is your slackware ext3?  Next step is to test ubuntu 8.04 with
non ext3 filesystem and see what pops out.

Regards,
Tim Bowden

From richard.greenwood at gmail.com  Sun Jun 22 07:45:41 2008
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Sun Jun 22 07:45:44 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <1214108905.6038.37.camel@edoras>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl>
	<1214108905.6038.37.camel@edoras>
Message-ID: <ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>

On Sat, Jun 21, 2008 at 10:28 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> On Sat, 2008-06-21 at 18:13 -0400, Marius Jigmond wrote:
>> Tim Bowden wrote:
>> > On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
>> >
>> > > On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden &lt;tim.bowden@westnet.com.au&gt; wrote:
>> > >
>> > > > *me scratches head* and not for the first time.  I wasn't expecting that
>> > > > to make a difference.  No idea what to make of it.  Just to make sure
>> > > > I've got it right, the samba share was being served from a mac was it?
>> > > > And you were running gdalinfo from ubuntu 8.04?  or the other way
>> > > > around?
>> > > >
>> > > I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
>> > > mounted via Samba and gdalinfo was fine. Copied the same file to the
>> > > local ext3 partition and got the error. I'll be trying the same file
>> > > on a Slackware server in the next couple days.
>> > >
>> >
>> > Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
>> > would make a difference, but I've got no other ideas.
>> >
>> > > Obviously a work around is to split the ecw file into tiles.
>> > >
>> > >
>> > Ugly solution for me.  I've got (client rather) abt 350gb+ of ecw's
>> > mostly over 2gb each being served up by mapserver that will be updated
>> > every three months .  Hate to have to automate that in a failsafe way.
>> >
>> > Tim
>> >
>> >
>> > > Rich
>> > >
>> > >
>> This might be related to a similar issue I had reading tiff's larger
>> than 2GB also on Ubuntu 8.04. I have the exact same error, while it
>> works on Ubuntu 7.10. I never got to the bottom of it, but I suspect
>> something is broken in Ubuntu 8.04.
>>
>> Marius
>>
> I just got the same result with a geotiff >2gb.  I think we can say
> libecwj is in the clear for now.
>
> Richard, is your slackware ext3?

No. It is  reiserfs.


-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com
From c.schitka at gmail.com  Sun Jun 22 09:59:27 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Sun Jun 22 09:59:30 2008
Subject: [gdal-dev] Re: GDAL Translate to remove SRS
In-Reply-To: <loom.20080621T222143-198@post.gmane.org>
References: <e66a4dbf0806210940h2dcaca89uc56b4a2dad076590@mail.gmail.com>
	<loom.20080621T222143-198@post.gmane.org>
Message-ID: <e66a4dbf0806220659t4b4b6046rca275731764cc646@mail.gmail.com>

-Jukka,

Well the file is already geo-referenced so I am not trying to add
geo-referencing to it. I am trying to remove the SRS from it. So I was
hoping that by using gdal_translate -a_srs (EMPTY WKT here). I was hoping
that someone could tell me what I needed to put in for a WKT to make the SRS
appear to be empty.

Thanks
Courtney

On Sat, Jun 21, 2008 at 6:26 PM, Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>
wrote:

> Courtney Schitka <c.schitka <at> gmail.com> writes:
>
> >
> > Can I use gdal_translate to remove an existing SRS in a geotiff and
> replace it
> with an empty one by specifying -a_srs (WHATEVER it is for an empty wkt).
> If so
> what is the wkt format I need to specify for an empty SRSThanks Court
>
> Hi,
>
> Would you be satisfied with a normal tiff image + world file for
> georefencing?
> That is achieved by
>
> gdal_translate -of GTiff -co profile=baseline -co tfw=yes
>
> I have needed that sometimes for cleaning geotiff images containing wrong
> tags,
> for example units in fathoms instead of meters.
>
> -Jukka Rahkonen-
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080622/beffb3dd/attachment-0001.html
From warmerdam at pobox.com  Sun Jun 22 10:33:12 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jun 22 10:33:34 2008
Subject: [gdal-dev] Re: GDAL Translate to remove SRS
In-Reply-To: <e66a4dbf0806220659t4b4b6046rca275731764cc646@mail.gmail.com>
References: <e66a4dbf0806210940h2dcaca89uc56b4a2dad076590@mail.gmail.com>
	<loom.20080621T222143-198@post.gmane.org>
	<e66a4dbf0806220659t4b4b6046rca275731764cc646@mail.gmail.com>
Message-ID: <485E62A8.90300@pobox.com>

Courtney Schitka wrote:
> -Jukka,
> 
> Well the file is already geo-referenced so I am not trying to add 
> geo-referencing to it. I am trying to remove the SRS from it. So I was 
> hoping that by using gdal_translate -a_srs (EMPTY WKT here). I was 
> hoping that someone could tell me what I needed to put in for a WKT to 
> make the SRS appear to be empty.

Courtney,

The -co profile=baseline creation option suggested by Jukka strips off
items like the coordinate system definition.  The tfw=yes was suggested
as a way of preserving the coordinates.

Unfortunately, I'm not aware of a way of specifying an empty SRS.

Best regards,

> On Sat, Jun 21, 2008 at 6:26 PM, Jukka Rahkonen 
...
>     gdal_translate -of GTiff -co profile=baseline -co tfw=yes

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Sun Jun 22 11:32:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Jun 22 11:31:17 2008
Subject: [gdal-dev] cannot build gdal-grass
Message-ID: <485E7072.3080706@o2.pl>

Hi

gdal-grass 1.4.3 refuses to build against GDAL 1.5.2 r14751 and GRASS 
6.4 r31801.

Details:

$ $ cat /etc/ld.so.conf.d/libc.conf
# libc default configuration
/usr/local/lib
/usr/local/grass-6.4.svn/lib
/usr/local/qgis/lib

$ sudo ldconfig

$ ./configure --prefix=/usr/local --with-grass=/usr/local/grass-6.4.svn
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking for ranlib... ranlib
checking for g++ -shared ... yes
checking for gdal-config... /usr/local/bin/gdal-config
using /usr/local/lib/gdalplugins as GDAL shared library autoload directory
checking for G_asprintf in -lgrass_gis... no
configure: error: --with-grass=/usr/local/grass-6.4.svn requested, but
libraries not found! Perhaps you need to set LD_LIBRARY_PATH to include
/usr/local/grass-6.4.svn/lib



That's strange, because:

$ cd /usr/local/grass-6.4.svn/lib

$ nm libgrass_gis.so | grep G_asprintf
0000000000013da0 T G_asprintf

and

$ cat /etc/ld.so.conf.d/libc.conf
# libc default configuration
/usr/local/lib
/usr/local/grass-6.4.svn/lib
/usr/local/qgis/lib

What could be wrong? This used to work couple of days ago.

Debian testing amd64.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From tim.bowden at westnet.com.au  Sun Jun 22 11:47:08 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sun Jun 22 11:47:13 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl>
	<1214108905.6038.37.camel@edoras>
	<ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
Message-ID: <1214149628.6067.2.camel@edoras>

On Sun, 2008-06-22 at 05:45 -0600, Richard Greenwood wrote:
> On Sat, Jun 21, 2008 at 10:28 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> > On Sat, 2008-06-21 at 18:13 -0400, Marius Jigmond wrote:
> >> Tim Bowden wrote:
> >> > On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
> >> >
> >> > > On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden &lt;tim.bowden@westnet.com.au&gt; wrote:
> >> > >
> >> > > > *me scratches head* and not for the first time.  I wasn't expecting that
> >> > > > to make a difference.  No idea what to make of it.  Just to make sure
> >> > > > I've got it right, the samba share was being served from a mac was it?
> >> > > > And you were running gdalinfo from ubuntu 8.04?  or the other way
> >> > > > around?
> >> > > >
> >> > > I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
> >> > > mounted via Samba and gdalinfo was fine. Copied the same file to the
> >> > > local ext3 partition and got the error. I'll be trying the same file
> >> > > on a Slackware server in the next couple days.
> >> > >
> >> >
> >> > Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
> >> > would make a difference, but I've got no other ideas.
> >> >
> >> > > Obviously a work around is to split the ecw file into tiles.
> >> > >
> >> > >
> >> > Ugly solution for me.  I've got (client rather) abt 350gb+ of ecw's
> >> > mostly over 2gb each being served up by mapserver that will be updated
> >> > every three months .  Hate to have to automate that in a failsafe way.
> >> >
> >> > Tim
> >> >
> >> >
> >> > > Rich
> >> > >
> >> > >
> >> This might be related to a similar issue I had reading tiff's larger
> >> than 2GB also on Ubuntu 8.04. I have the exact same error, while it
> >> works on Ubuntu 7.10. I never got to the bottom of it, but I suspect
> >> something is broken in Ubuntu 8.04.
> >>
> >> Marius
> >>
> > I just got the same result with a geotiff >2gb.  I think we can say
> > libecwj is in the clear for now.
> >
> > Richard, is your slackware ext3?
> 
> No. It is  reiserfs.
> 
I've just tried reiserfs on ubuntu 8.04 and there is no change in the
problem.  I'm going to chase this one up in bunty land, as it seems
clear this is an ubuntu specific problem.  I'll report back if I ever
get to the bottom of it.

Regards,
Tim Bowden

From c.schitka at gmail.com  Sun Jun 22 13:32:30 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Sun Jun 22 13:32:32 2008
Subject: [gdal-dev] Re: GDAL Translate to remove SRS
In-Reply-To: <485E62A8.90300@pobox.com>
References: <e66a4dbf0806210940h2dcaca89uc56b4a2dad076590@mail.gmail.com>
	<loom.20080621T222143-198@post.gmane.org>
	<e66a4dbf0806220659t4b4b6046rca275731764cc646@mail.gmail.com>
	<485E62A8.90300@pobox.com>
Message-ID: <e66a4dbf0806221032j3daaab87r4905a00dcee7594e@mail.gmail.com>

Frank & Jukka,

You're suggestion worked to do exactly what I wanted it to do thank you very
much.

On Sun, Jun 22, 2008 at 10:33 AM, Frank Warmerdam <warmerdam@pobox.com>
wrote:

> Courtney Schitka wrote:
>
>> -Jukka,
>>
>> Well the file is already geo-referenced so I am not trying to add
>> geo-referencing to it. I am trying to remove the SRS from it. So I was
>> hoping that by using gdal_translate -a_srs (EMPTY WKT here). I was hoping
>> that someone could tell me what I needed to put in for a WKT to make the SRS
>> appear to be empty.
>>
>
> Courtney,
>
> The -co profile=baseline creation option suggested by Jukka strips off
> items like the coordinate system definition.  The tfw=yes was suggested
> as a way of preserving the coordinates.
>
> Unfortunately, I'm not aware of a way of specifying an empty SRS.
>
> Best regards,
>
>  On Sat, Jun 21, 2008 at 6:26 PM, Jukka Rahkonen
>>
> ...
>
>>    gdal_translate -of GTiff -co profile=baseline -co tfw=yes
>>
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080622/204657e6/attachment.html
From glynn at gclements.plus.com  Sun Jun 22 14:23:33 2008
From: glynn at gclements.plus.com (Glynn Clements)
Date: Sun Jun 22 14:23:14 2008
Subject: [gdal-dev] Re: [GRASS-dev] cannot build gdal-grass
In-Reply-To: <485E7072.3080706@o2.pl>
References: <485E7072.3080706@o2.pl>
Message-ID: <18526.39077.158988.30222@cerise.gclements.plus.com>


Maciej Sieczka wrote:

> gdal-grass 1.4.3 refuses to build against GDAL 1.5.2 r14751 and GRASS 
> 6.4 r31801.

> checking for G_asprintf in -lgrass_gis... no
> configure: error: --with-grass=/usr/local/grass-6.4.svn requested, but
> libraries not found! Perhaps you need to set LD_LIBRARY_PATH to include
> /usr/local/grass-6.4.svn/lib

> What could be wrong? This used to work couple of days ago.

Look in config.log for the actual error message.

When configure says that a library is "not found", it means that it
couldn't link against it. There are a whole load of reasons why that
might be the case.

-- 
Glynn Clements <glynn@gclements.plus.com>
From tim.bowden at westnet.com.au  Sun Jun 22 14:25:13 2008
From: tim.bowden at westnet.com.au (Tim Bowden)
Date: Sun Jun 22 14:25:22 2008
Subject: [gdal-dev] Ubuntu, gdal & ecw's >2gb on IA32
In-Reply-To: <1214149628.6067.2.camel@edoras>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl>
	<1214108905.6038.37.camel@edoras>
	<ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
	<1214149628.6067.2.camel@edoras>
Message-ID: <1214159113.6067.9.camel@edoras>

Fix found by FrankW on irc.  See http://trac.osgeo.org/gdal/ticket/2437
for bug report and solution.

Thanks all for assistance in sorting this one.
Tim Bowden

On Sun, 2008-06-22 at 23:47 +0800, Tim Bowden wrote:
> On Sun, 2008-06-22 at 05:45 -0600, Richard Greenwood wrote:
> > On Sat, Jun 21, 2008 at 10:28 PM, Tim Bowden <tim.bowden@westnet.com.au> wrote:
> > > On Sat, 2008-06-21 at 18:13 -0400, Marius Jigmond wrote:
> > >> Tim Bowden wrote:
> > >> > On Sat, 2008-06-21 at 09:09 -0600, Richard Greenwood wrote:
> > >> >
> > >> > > On Sat, Jun 21, 2008 at 9:00 AM, Tim Bowden &lt;tim.bowden@westnet.com.au&gt; wrote:
> > >> > >
> > >> > > > *me scratches head* and not for the first time.  I wasn't expecting that
> > >> > > > to make a difference.  No idea what to make of it.  Just to make sure
> > >> > > > I've got it right, the samba share was being served from a mac was it?
> > >> > > > And you were running gdalinfo from ubuntu 8.04?  or the other way
> > >> > > > around?
> > >> > > >
> > >> > > I'm running 32 bit Ubuntu Hardy 8.04. I had a Windows XP NTFS drive
> > >> > > mounted via Samba and gdalinfo was fine. Copied the same file to the
> > >> > > local ext3 partition and got the error. I'll be trying the same file
> > >> > > on a Slackware server in the next couple days.
> > >> > >
> > >> >
> > >> > Ah, perhaps it's worth trying on a non ext3 filesystem.  Not sure how it
> > >> > would make a difference, but I've got no other ideas.
> > >> >
> > >> > > Obviously a work around is to split the ecw file into tiles.
> > >> > >
> > >> > >
> > >> > Ugly solution for me.  I've got (client rather) abt 350gb+ of ecw's
> > >> > mostly over 2gb each being served up by mapserver that will be updated
> > >> > every three months .  Hate to have to automate that in a failsafe way.
> > >> >
> > >> > Tim
> > >> >
> > >> >
> > >> > > Rich
> > >> > >
> > >> > >
> > >> This might be related to a similar issue I had reading tiff's larger
> > >> than 2GB also on Ubuntu 8.04. I have the exact same error, while it
> > >> works on Ubuntu 7.10. I never got to the bottom of it, but I suspect
> > >> something is broken in Ubuntu 8.04.
> > >>
> > >> Marius
> > >>
> > > I just got the same result with a geotiff >2gb.  I think we can say
> > > libecwj is in the clear for now.
> > >
> > > Richard, is your slackware ext3?
> > 
> > No. It is  reiserfs.
> > 
> I've just tried reiserfs on ubuntu 8.04 and there is no change in the
> problem.  I'm going to chase this one up in bunty land, as it seems
> clear this is an ubuntu specific problem.  I'll report back if I ever
> get to the bottom of it.
> 
> Regards,
> Tim Bowden
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-- 
vim is a good example of an IDE done properly.  emacs is an example of
an IDE done poorly.  Anything that involves little pictures is a
mis-umderstanding of what an IDE should be.

From tutey at o2.pl  Sun Jun 22 15:36:14 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Jun 22 15:35:29 2008
Subject: [gdal-dev] Re: [GRASS-dev] cannot build gdal-grass
In-Reply-To: <18526.39077.158988.30222@cerise.gclements.plus.com>
References: <485E7072.3080706@o2.pl>
	<18526.39077.158988.30222@cerise.gclements.plus.com>
Message-ID: <485EA9AE.7000804@o2.pl>

Glynn Clements pisze:
> Maciej Sieczka wrote:
> 
>> gdal-grass 1.4.3 refuses to build against GDAL 1.5.2 r14751 and
>> GRASS 6.4 r31801.
>> 
>> checking for G_asprintf in -lgrass_gis... no configure: error:
>> --with-grass=/usr/local/grass-6.4.svn requested, but libraries not
>> found! Perhaps you need to set LD_LIBRARY_PATH to include 
>> /usr/local/grass-6.4.svn/lib
>> 
>> What could be wrong? This used to work couple of days ago.

> Look in config.log for the actual error message.

Right.

Here's the relevant part I guess:

configure:2939: checking for G_asprintf in -lgrass_gis
configure:2969: gcc -o conftest -O2 conftest.c -lgrass_gis
-L/usr/local/grass-6.4.svn/lib -lgrass_I -lgrass_vask -lgrass_gmath
-lgrass_gis -lgrass_datetime -lgrass_gproj -lgrass_vect -lgrass_dbmibase
-lgrass_dbmiclient -lgrass_dgl -lgrass_dig2 -lgrass_rtree -lgrass_linkm
-L/usr/local/lib -lgdal >&5
/usr/bin/ld: cannot find -lgrass_I
collect2: ld returned 1 exit status
configure:2975: $? = 1
configure: failed program was:
| /* confdefs.h. */
|
| #define PACKAGE_NAME ""
| #define PACKAGE_TARNAME ""
| #define PACKAGE_VERSION ""
| #define PACKAGE_STRING ""
| #define PACKAGE_BUGREPORT ""
| #ifdef __cplusplus
| extern "C" void exit (int) throw ();
| #endif
| #define USE_GNUCC 1
| #define USE_GNUCC 1
| /* end confdefs.h. */
|
| /* Override any gcc2 internal prototype to avoid an error. */
| #ifdef __cplusplus
| extern "C"
| #endif
| /* We use char because int might match the return type of a gcc2
| builtin and then its argument prototype would still apply. */
| char G_asprintf ();
| int
| main ()
| {
| G_asprintf ();
| ;
| return 0;
| }
configure:3001: result: no
configure:3015: error: --with-grass=/usr/local/grass-6.4.svn requested,
but libraries not found! Perhaps you need to set LD_LIBRARY_PATH to
include /usr/local/grass-6.4.svn/lib?

> When configure says that a library is "not found", it means that it 
> couldn't link against it. There are a whole load of reasons why that 
> might be the case.

Any hints?

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From tutey at o2.pl  Sun Jun 22 17:37:54 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Jun 22 17:37:06 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
Message-ID: <485EC632.5030905@o2.pl>

Hi!

I have a tiled GeoTIFF at input:

$ gdalinfo ~/check.tif | grep Block
Band 1 Block=256x256 Type=Byte, ColorInterp=Palette

I want to make it stripped, yet the output of:

$ gdal_translate -co "TILED=NO" check.tif check2.tif

seems still tiled:

$ gdalinfo ~/check2.tif | grep Block
Band 1 Block=4090x2 Type=Byte, ColorInterp=Palette

I expected "Block=WIDTHx1". Is there something wrong or my bad?

-- 
Maciej Sieczka
www.sieczka.org
From warmerdam at pobox.com  Sun Jun 22 17:47:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jun 22 17:48:46 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485EC632.5030905@o2.pl>
References: <485EC632.5030905@o2.pl>
Message-ID: <485EC87D.7010504@pobox.com>

Maciej Sieczka wrote:
> Hi!
> 
> I have a tiled GeoTIFF at input:
> 
> $ gdalinfo ~/check.tif | grep Block
> Band 1 Block=256x256 Type=Byte, ColorInterp=Palette
> 
> I want to make it stripped, yet the output of:
> 
> $ gdal_translate -co "TILED=NO" check.tif check2.tif
> 
> seems still tiled:
> 
> $ gdalinfo ~/check2.tif | grep Block
> Band 1 Block=4090x2 Type=Byte, ColorInterp=Palette
> 
> I expected "Block=WIDTHx1". Is there something wrong or my bad?

Maciej,

The traditional TIFF logic is to create strips which are 8K or so.  If
you want each strip to be a single scanline, try also specifying
-co BLOCKYSIZE=1.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Sun Jun 22 18:24:29 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Jun 22 18:23:43 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485EC87D.7010504@pobox.com>
References: <485EC632.5030905@o2.pl> <485EC87D.7010504@pobox.com>
Message-ID: <485ED11D.70104@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> I have a tiled GeoTIFF at input:
>> 
>> $ gdalinfo ~/check.tif | grep Block Band 1 Block=256x256 Type=Byte,
>> ColorInterp=Palette
>> 
>> I want to make it stripped, yet the output of:
>> 
>> $ gdal_translate -co "TILED=NO" check.tif check2.tif
>> 
>> seems still tiled:
>> 
>> $ gdalinfo ~/check2.tif | grep Block Band 1 Block=4090x2 Type=Byte,
>> ColorInterp=Palette
>> 
>> I expected "Block=WIDTHx1". Is there something wrong or my bad?

> The traditional TIFF logic is to create strips which are 8K or so.
> If you want each strip to be a single scanline, try also specifying 
> -co BLOCKYSIZE=1.

Frank,

Thanks for the hint. Unfortunatelly gdal_translate segfaults then:

Starting program: /usr/local/bin/gdal_translate -co "TILED=YES" -co
"BLOCKYSIZE=1" check.tif check3.tif
[Thread debugging using libthread_db enabled]
warning: Lowest section in /usr/lib/libicudata.so.38 is .hash at
0000000000000120
Input file size is 4090, 2216
0ERROR 1: _TIFFVSetField:check3.tif: Bad value 1 for "TileLength" tag
ERROR 1: TIFFReadDirectory:Cannot handle zero number of tiles
ERROR 1: TIFFReadDirectory:Cannot handle zero number of tiles
[New Thread 0x2b7d1400eb30 (LWP 12676)]

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x2b7d1400eb30 (LWP 12676)]
GTiffCreateCopy (pszFilename=0x610f70 "check3.tif", poSrcDS=0x613340,
bStrict=<value optimized out>, papszOptions=0x610f90,
pfnProgress=0x401f20 <GDALTermProgress@plt>, pProgressData=0x0)
at geotiff.cpp:4609
4609 hTIFF = (TIFF*) poDS->GetInternalHandle(NULL);
(gdb) bt
#0 GTiffCreateCopy (pszFilename=0x610f70 "check3.tif", poSrcDS=0x613340,
bStrict=<value optimized out>, papszOptions=0x610f90,
pfnProgress=0x401f20 <GDALTermProgress@plt>, pProgressData=0x0)
at geotiff.cpp:4609
#1 0x00002b7d0d4819cc in GDALDriver::CreateCopy (this=0x606c40,
pszFilename=0x610f70 "check3.tif", poSrcDS=0x613340, bStrict=0,
papszOptions=0x610f90, pfnProgress=0x401f20 <GDALTermProgress@plt>,
pProgressData=0x0) at gdaldriver.cpp:529
#2 0x00000000004039bf in ProxyMain (argc=<value optimized out>,
argv=0x610f20)
at gdal_translate.cpp:590
#3 0x00002b7d118561c4 in __libc_start_main () from /lib/libc.so.6
#4 0x0000000000401f89 in _start ()

Using 1.5.2 r14751 on amd64 Debian testing.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From warmerdam at pobox.com  Sun Jun 22 18:58:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Jun 22 18:58:34 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485ED11D.70104@o2.pl>
References: <485EC632.5030905@o2.pl> <485EC87D.7010504@pobox.com>
	<485ED11D.70104@o2.pl>
Message-ID: <485ED8FD.4070305@pobox.com>

Maciej Sieczka wrote:
> Frank,
> 
> Thanks for the hint. Unfortunatelly gdal_translate segfaults then:
> 
> Starting program: /usr/local/bin/gdal_translate -co "TILED=YES" -co
> "BLOCKYSIZE=1" check.tif check3.tif

Maciek,

It appears you switched back to TILED=YES from TILED=NO.  A blockysize of
1 is not legal for tiled files.  I'm not sure why things crashed though.
You might want to file a ticket on that aspect.

But try:

gdal_translate -co TILED=NO -co BLOCKYSIZE=1 check.tif check3.tif

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From glynn at gclements.plus.com  Sun Jun 22 19:38:37 2008
From: glynn at gclements.plus.com (Glynn Clements)
Date: Sun Jun 22 19:38:19 2008
Subject: [gdal-dev] Re: [GRASS-dev] cannot build gdal-grass
In-Reply-To: <485EA9AE.7000804@o2.pl>
References: <485E7072.3080706@o2.pl>
	<18526.39077.158988.30222@cerise.gclements.plus.com>
	<485EA9AE.7000804@o2.pl>
Message-ID: <18526.57981.597352.27834@cerise.gclements.plus.com>


Maciej Sieczka wrote:

> >> gdal-grass 1.4.3 refuses to build against GDAL 1.5.2 r14751 and
> >> GRASS 6.4 r31801.
> >> 
> >> checking for G_asprintf in -lgrass_gis... no configure: error:
> >> --with-grass=/usr/local/grass-6.4.svn requested, but libraries not
> >> found! Perhaps you need to set LD_LIBRARY_PATH to include 
> >> /usr/local/grass-6.4.svn/lib
> >> 
> >> What could be wrong? This used to work couple of days ago.
> 
> > Look in config.log for the actual error message.
> 
> Right.
> 
> Here's the relevant part I guess:
> 
> /usr/bin/ld: cannot find -lgrass_I

Ah. The imagery library isn't called libgrass_I any more; it's now
called libgrass_imagery.

It was changed at the same time that I moved the clustering code to a
separate library. However, I didn't realise that it had been
back-ported to 6.4.

You can probably get around the problem by adding a symlink, e.g.:

	ln -s libgrass_imagery.so /usr/local/grass-6.4.svn/lib/libgrass_I.so

-- 
Glynn Clements <glynn@gclements.plus.com>
From AWilliams at rapidmap.com  Sun Jun 22 19:45:51 2008
From: AWilliams at rapidmap.com (Andrew Williams)
Date: Sun Jun 22 19:48:11 2008
Subject: [gdal-dev] Vertical Mapper GRD files
In-Reply-To: <3B6819E719271748B923CE3CDBD4EC98038E5AAE@srcmail1.extendthereach.com>
References: <3B6819E719271748B923CE3CDBD4EC98038E5AAE@srcmail1.extendthereach.com>
Message-ID: <29C3A52E0876C94C97BD6443FA96F7336EF69A116C@rms03.rapidmap.local>

Man this is the bane of my existence. I too was challenged with the requirement to extract data in Mapinfo from a Vertical Mapper grid.

Vertical Mapper grids are actually not native grids to Mapinfo. Vertical mapper was written by a third party called Northwood Geosceince in Canada. Mapinfo acquired them some years ago as I understand it.

Other then the VMSDK which is about USD$700 there is almost nothing about the format available.

If it's not against the rules of the forum here is a link to the Mapinfo-L Google Group with athread I started about this very issue.

http://groups.google.com/group/mapinfo-l/browse_thread/thread/175f375be41d7e23

I also had a colleague who did some work on breaking down the format.

Below are his discoveries. His skills far exceed mine.

I hope you can make use of this.

byte 0, 4 characters "HGPC"
byte 4, 1 character "1" (version)

byte 9, 2 byte integer - no of X pixels
byte 11, 2 byte integer - no of Y pixels
byte 13, 8 byte double - min X coordinate
byte 21, 8 byte double - max X coordinate
byte 29, 8 byte double - min Y coordinate
byte 37, 8 byte double - max Y coordinate
byte 45, 4 byte float - min Z value
byte 49, 4 byte float - max Z value

Data starts at byte 1028 and is a stream of 16-bit integer
values.  0 is noval.  Data is stretched to use values
1-65535.  Use Z min and Z max to reconstruct original
Z values.

 Some resources I've found:

This includes a file spec for a related file format - not the same but documents some conventions
http://testdrive.mapinfo.com/TECHSUPP/MIPROD.NSF/0/9ba1b248cfac072285256eae004d123e/$FILE/SDK%202.6.pdf

Some basic code for the 3d file format
http://testdrive.mapinfo.com/techsupp/miprod.nsf/kbase_by_product/BAABD8094414825785256D12004CD1CE

AND
I managed to get the first GRD file loaded into PostGIS
with my python code.

To match the alignment with our reference data I had to add an offset of
exactly 2 grid pixels east, which is a bit odd, but there you
go.  I expected a half-pixel uncertainty since I wasn't sure if the
coordinates are the centre or edge of the pixel, but a 2 pixel
shift doesn't make any obvious sense.

I'd suggest if you are uncertain about your file types the
Vertical Mapper GRD files are easily distinguished by the
characters "HGPC " in the first 4 bytes.  If the 5th byte
is "." then it is a 3d file, which is well documented.  If the
5th byte is "1" then it is a 2d file, which is what I have, and
I have not found documentation.

I used a Unix box (FreeBSD) for my exploratory analysis.  If you have
access to one you can check the first bytes for this signature
with something like this:
    od -c myfile.grd | head

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Ned Harding
Sent: Saturday, 14 June 2008 1:30 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Vertical Mapper GRD files

Does anyone have any information about how to read Vertical Mapper GRD/GRC files?  I haven't been able to find much on them.

Ned Harding
CTO
SRC, LLC
3825 Iris Avenue, Suite 150
Boulder, CO 80301
(303) 440-8896 x104
nharding@extendthereach.com<mailto:nharding@extendthereach.com>

Visit SRC on the web at www.ExtendTheReach.com<http://www.extendthereach.com/>
See SRC in Action at www.DemographicsNow.com<http://www.demographicsnow.com/>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080623/d41b1425/attachment.html
From neteler at osgeo.org  Mon Jun 23 03:54:11 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Mon Jun 23 03:54:15 2008
Subject: [gdal-dev] Re: [GRASS-dev] cannot build gdal-grass
In-Reply-To: <18526.57981.597352.27834@cerise.gclements.plus.com>
References: <485E7072.3080706@o2.pl>
	<18526.39077.158988.30222@cerise.gclements.plus.com>
	<485EA9AE.7000804@o2.pl>
	<18526.57981.597352.27834@cerise.gclements.plus.com>
Message-ID: <86782b610806230054l5b093f52l1ce607ef77162d2d@mail.gmail.com>

On Mon, Jun 23, 2008 at 1:38 AM, Glynn Clements
<glynn@gclements.plus.com> wrote:
> Maciej Sieczka wrote:
>
>> >> gdal-grass 1.4.3 refuses to build against GDAL 1.5.2 r14751 and
>> >> GRASS 6.4 r31801.
>> >>
>> >> checking for G_asprintf in -lgrass_gis... no configure: error:
>> >> --with-grass=/usr/local/grass-6.4.svn requested, but libraries not
>> >> found! Perhaps you need to set LD_LIBRARY_PATH to include
>> >> /usr/local/grass-6.4.svn/lib
>> >>
>> >> What could be wrong? This used to work couple of days ago.
>>
>> > Look in config.log for the actual error message.
>>
>> Right.
>>
>> Here's the relevant part I guess:
>>
>> /usr/bin/ld: cannot find -lgrass_I
>
> Ah. The imagery library isn't called libgrass_I any more; it's now
> called libgrass_imagery.
>
> It was changed at the same time that I moved the clustering code to a
> separate library. However, I didn't realise that it had been
> back-ported to 6.4.

Obviously we cannot change a library name in 6.x as it is
hardcoded here:
http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/grass/pkg/configure.in#L126

I have reverted the name change in 6.4.svn.
Maciej, it should work again if you use 6.x.

One day, however, the plugin and GRASS 7 need a library name sync or some
condition in above indicated GDAL file.

Markus
From tutey at o2.pl  Mon Jun 23 04:35:09 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Jun 23 04:34:23 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485ED8FD.4070305@pobox.com>
References: <485EC632.5030905@o2.pl> <485EC87D.7010504@pobox.com>
	<485ED11D.70104@o2.pl> <485ED8FD.4070305@pobox.com>
Message-ID: <485F603D.7090207@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> Thanks for the hint. Unfortunatelly gdal_translate segfaults then:
>>
>> Starting program: /usr/local/bin/gdal_translate -co "TILED=YES" -co
>> "BLOCKYSIZE=1" check.tif check3.tif

> It appears you switched back to TILED=YES from TILED=NO.

Sorry! It was late.

> A blockysize of
> 1 is not legal for tiled files.  I'm not sure why things crashed though.
> You might want to file a ticket on that aspect.

Will do.

> But try:
> 
> gdal_translate -co TILED=NO -co BLOCKYSIZE=1 check.tif check3.tif

Seems to work, but throws out an error:

$ gdal_translate -co "TILED=NO" -co "BLOCKYSIZE=1" check.tif check3.tif
Input file size is 4090, 2216
ERROR 1: TIFFReadDirectory:Cannot handle zero number of tiles
0...10...20...30...40...50...60...70...80...90...100 - done.

Is everything OK?

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From antonio.valentino at tiscali.it  Mon Jun 23 11:31:43 2008
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon Jun 23 11:31:48 2008
Subject: [gdal-dev] looking for a fresher version of python bindings
Message-ID: <20080623173143.5ef3c99d@tiscali.it>

Hi list,
I'm using GDAL python bindings on windows and I need the GetSubDatasets
method of dataset objects.  Unfortunately this method seems to be
missing in version 1.5.0.

http://pypi.python.org/pypi/GDAL/1.5.0

Where can I find a newer version of python bindings?
Of course it would be nice to have a pre-build binary version :)

Thanks

-- 
Antonio Valentino
From hobu.inc at gmail.com  Mon Jun 23 11:52:23 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Jun 23 11:53:13 2008
Subject: [gdal-dev] looking for a fresher version of python bindings
In-Reply-To: <20080623173143.5ef3c99d@tiscali.it>
References: <20080623173143.5ef3c99d@tiscali.it>
Message-ID: <BC7C41DB-1028-4B07-9E55-614F07AE87EE@gmail.com>

Antonio,

I have refreshed the bindings to 1.5.2 on PyPI

http://pypi.python.org/pypi/GDAL

Howard

On Jun 23, 2008, at 10:31 AM, Antonio Valentino wrote:

> Hi list,
> I'm using GDAL python bindings on windows and I need the  
> GetSubDatasets
> method of dataset objects.  Unfortunately this method seems to be
> missing in version 1.5.0.
>
> http://pypi.python.org/pypi/GDAL/1.5.0
>
> Where can I find a newer version of python bindings?
> Of course it would be nice to have a pre-build binary version :)
>
> Thanks
>
> -- 
> Antonio Valentino
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Jun 23 13:03:08 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 23 13:03:48 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485F603D.7090207@o2.pl>
References: <485EC632.5030905@o2.pl> <485EC87D.7010504@pobox.com>
	<485ED11D.70104@o2.pl> <485ED8FD.4070305@pobox.com>
	<485F603D.7090207@o2.pl>
Message-ID: <485FD74C.70405@pobox.com>

Maciej Sieczka wrote:
> Frank Warmerdam pisze:
>> Maciej Sieczka wrote:
> 
>>> Thanks for the hint. Unfortunatelly gdal_translate segfaults then:
>>>
>>> Starting program: /usr/local/bin/gdal_translate -co "TILED=YES" -co
>>> "BLOCKYSIZE=1" check.tif check3.tif
> 
>> It appears you switched back to TILED=YES from TILED=NO.
> 
> Sorry! It was late.
> 
>> A blockysize of
>> 1 is not legal for tiled files.  I'm not sure why things crashed though.
>> You might want to file a ticket on that aspect.
> 
> Will do.
> 
>> But try:
>>
>> gdal_translate -co TILED=NO -co BLOCKYSIZE=1 check.tif check3.tif
> 
> Seems to work, but throws out an error:
> 
> $ gdal_translate -co "TILED=NO" -co "BLOCKYSIZE=1" check.tif check3.tif
> Input file size is 4090, 2216
> ERROR 1: TIFFReadDirectory:Cannot handle zero number of tiles
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> 
> Is everything OK?

Maciek,

Strange, I do not see the same behavior:

warmerda@gdal64[13]% gdal_translate -co TILED=NO -co BLOCKYSIZE=1 utm.tif 
out.tif --debug off
Input file size is 512, 512
0...10...20...30...40...50...60...70...80...90...100 - done.

The error message is concerning to me, but it is hard to know if things
worked or not.  Viewing the resulting file, and inspecting a tiffinfo
report on it would be helpful.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Mon Jun 23 13:38:41 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Jun 23 13:37:53 2008
Subject: [gdal-dev] TILED=NO creates a tiled TIFF?
In-Reply-To: <485FD74C.70405@pobox.com>
References: <485EC632.5030905@o2.pl> <485EC87D.7010504@pobox.com>
	<485ED11D.70104@o2.pl> <485ED8FD.4070305@pobox.com>
	<485F603D.7090207@o2.pl> <485FD74C.70405@pobox.com>
Message-ID: <485FDFA1.2010504@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:
>> Frank Warmerdam pisze:

>> $ gdal_translate -co "TILED=NO" -co "BLOCKYSIZE=1" check.tif check3.tif
>> Input file size is 4090, 2216
>> ERROR 1: TIFFReadDirectory:Cannot handle zero number of tiles

> Strange, I do not see the same behavior

I'll investigate and let you know in days.

Cheers
Maciek

-- 
Maciej Sieczka
www.sieczka.org
From warmerdam at pobox.com  Mon Jun 23 14:11:47 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 23 14:12:17 2008
Subject: [gdal-dev] looking for a fresher version of python bindings
In-Reply-To: <BC7C41DB-1028-4B07-9E55-614F07AE87EE@gmail.com>
References: <20080623173143.5ef3c99d@tiscali.it>
	<BC7C41DB-1028-4B07-9E55-614F07AE87EE@gmail.com>
Message-ID: <485FE763.1010405@pobox.com>

Howard Butler wrote:
> Antonio,
> 
> I have refreshed the bindings to 1.5.2 on PyPI
> 
> http://pypi.python.org/pypi/GDAL

Folks,

I would add that I have prepared GDAL/OGR Python bindings for OSGeo4W
on the weekend, and for those wanting the bindings in context of a broader
set of OSGeo tools on windows that might also be a good source of binaries.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From pgao at esri.com  Mon Jun 23 15:56:25 2008
From: pgao at esri.com (Peng Gao)
Date: Mon Jun 23 15:58:20 2008
Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
In-Reply-To: <ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl><1214108905.6038.37.camel@edoras>
	<ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
Message-ID: <A383B271E8D0DF47B51972FCEB438DC707AAEC20@twistedwire.esri.com>


HI,

I am trying to build GDAL 1.5.2 with ECW SDK 3.3 using VS2008, and
getting
some build errors. Have anyone here built GDAL/ECW using VS2008? There
is
a thread, 
"ECW SDK 3.3 occur error C2059 with VC2008"
(http://forums.ermapper.com/viewtopic.php?p=7194#7194)
on ECW SDK forum, discussing the problem. 
But there is no solution.

Thanks for any help
Gao, Peng
From matt.wilkie at gov.yk.ca  Tue Jun 24 13:56:42 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Jun 24 13:56:48 2008
Subject: [gdal-dev] Urgent GDal failing to open a file.
In-Reply-To: <e66a4dbf0806201601v5aee6d10se39b3a5b84e3c16b@mail.gmail.com>
References: <e66a4dbf0806201523s2ea6de17w3a1ec19fb9156124@mail.gmail.com>	<485C3340.1010902@pobox.com>	<e66a4dbf0806201551i1563ea44hfdf0de953dd17b2f@mail.gmail.com>	<724764171-1214002599-cardhu_decombobulator_blackberry.rim.net-1790600400-@bxe144.bisx.prod.on.blackberry>
	<e66a4dbf0806201601v5aee6d10se39b3a5b84e3c16b@mail.gmail.com>
Message-ID: <4861355A.40906@gov.yk.ca>

Hi Courtney,

Likely too late for your project, but this meagre script will copy a 
projection from one raster to another without needing to create a new file:
http://code.google.com/p/maphew/source/browse/trunk/gis/gdal_extras/bin/gdalcopyproj.py

for use with fwtools just plunk it into your fwtools/bin directory.

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


Courtney Schitka wrote:
> And I was hoping for an easy solution with FWTools or something... 
> Thanks for the suggestions boys. Looks like I've got a long night a head 
> of me.
> 
> On Fri, Jun 20, 2008 at 6:51 PM, Martin Chapman <mchapman@texelinc.com 
> <mailto:mchapman@texelinc.com>> wrote:
> 
>     Yes, I would try Frank's suggestion first though.  If it doesn't
>     work then you could re-write the file and assign a projection with
>     create() or createCopy() on the driver object..
> 
>     Martin
> 
>     Sent via BlackBerry by AT&T
> 
>     -----Original Message-----
>     From: "Courtney Schitka" <c.schitka@gmail.com
>     <mailto:c.schitka@gmail.com>>
> 
>     Date: Fri, 20 Jun 2008 18:51:24
>     To:"Frank Warmerdam" <warmerdam@pobox.com <mailto:warmerdam@pobox.com>>
>     Cc:gdal-dev@lists.osgeo.org <mailto:Cc%3Agdal-dev@lists.osgeo.org>
>     Subject: Re: [gdal-dev] Urgent GDal failing to open a file.
> 
> 
>     Frank & Martian
> 
>     Thanks for your prompt replies.
> 
>     If I know the coordinate system the file is supposed to be, is there
>     a way I can inject that into the file it's self ? Without needing to
>     edit the code or setting the GDAL_DATA environment variable ? The
>     file is a GeoTiff ? I'd provide a sample but the file is 100+ M
>     could take a bit.
> 
>     Court
> 
> 
>     On Fri, Jun 20, 2008 at 6:46 PM, Frank Warmerdam
>     <warmerdam@pobox.com <mailto:warmerdam@pobox.com>
>     <mailto:warmerdam@pobox.com <mailto:warmerdam@pobox.com>> > wrote:
> 
> 
> 
>     Courtney Schitka wrote:
>      Good Day list.
> 
>      I write you with kind of an urgent problem today. The company I am
>     doing some consulting for is using GDAL to read a majority of their
>     data. They just purchased 800$ worth of some GeoData from a third
>     party company. Everytime we try an dopen the data through Gdal I
>     get. A problem with trying to create a Coordinate Transform. See error
> 
>      ERROR: No PROJ.4 translation for source SRS, coordinate
> 
>      When I did a Gdal Info on the file. I find this information out
> 
>      Coordinate System is:
>      PROJCS[,
>         GEOGCS["unnamed",
>             DATUM["unknown",
>                 SPHEROID["unretrievable - using
>     WGS84",6378137,298.257223563]],
>             PRIMEM["Greenwich",0],
>             UNIT[,0.0174532925199433]],
>         UNIT["unknown",1],
>         AUTHORITY["EPSG","0"]]
> 
> 
>      Which I think is the root of my problem. Is ther ea good/easy way
>     for me to fix this ? quickly ?
> 
>      Court,
> 
>      I *suspect* GDAL is failing to find it's supporting coordinate system
>      files.  Try setting the GDAL_DATA environment variable to point to the
>      directory with the files like pcs.csv and ecw_cs.wkt.
> 
>      It would also be helpful if you were able to indicate the file format
>      with the problem, the version of GDAL, and ideally a sample file.
> 
>      Best regards,
>      --
>      ---------------------------------------+--------------------------------------
>      I set the clouds in motion - turn up   | Frank Warmerdam,
>     warmerdam@pobox.com <mailto:warmerdam@pobox.com>
>     <mailto:warmerdam@pobox.com <mailto:warmerdam@pobox.com>>
>      light and sound - activate the windows |
>     http://pobox.com/~warmerdam <http://pobox.com/%7Ewarmerdam>
>     <http://pobox.com/%7Ewarmerdam>
>      and watch the world go round - Rush    | President OSGeo,
>     http://osgeo.org <http://osgeo.org>
> 
> 
>      _______________________________________________
>     gdal-dev mailing list
>     gdal-dev@lists.osgeo.org <mailto:gdal-dev@lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mrosen at lizardtech.com  Tue Jun 24 14:28:18 2008
From: mrosen at lizardtech.com (Michael Rosen)
Date: Tue Jun 24 14:28:21 2008
Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
In-Reply-To: <A383B271E8D0DF47B51972FCEB438DC707AAEC20@twistedwire.esri.com>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl><1214108905.6038.37.camel@edoras><ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
	<A383B271E8D0DF47B51972FCEB438DC707AAEC20@twistedwire.esri.com>
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD1201C02C14@sea-srv-ms3.lizardtech.com>

We build an older version of gdal with this version of the ecw library
under vc9 ( vc 2008).   Specifically, we build NCSEcw_Static.  It's
nothing special as far as I can see.  

msr



-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peng Gao
Sent: Monday, June 23, 2008 12:56 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008


HI,

I am trying to build GDAL 1.5.2 with ECW SDK 3.3 using VS2008, and
getting
some build errors. Have anyone here built GDAL/ECW using VS2008? There
is
a thread, 
"ECW SDK 3.3 occur error C2059 with VC2008"
(http://forums.ermapper.com/viewtopic.php?p=7194#7194)
on ECW SDK forum, discussing the problem. 
But there is no solution.

Thanks for any help
Gao, Peng
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From pgao at esri.com  Tue Jun 24 15:17:50 2008
From: pgao at esri.com (Peng Gao)
Date: Tue Jun 24 15:17:51 2008
Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
In-Reply-To: <DBEC881B4E22D1449F5FAC530E1ADD1201C02C14@sea-srv-ms3.lizardtech.com>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl><1214108905.6038.37.camel@edoras><ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
	<A383B271E8D0DF47B51972FCEB438DC707AAEC20@twistedwire.esri.com>
	<DBEC881B4E22D1449F5FAC530E1ADD1201C02C14@sea-srv-ms3.lizardtech.com>
Message-ID: <A383B271E8D0DF47B51972FCEB438DC707AAF6A8@twistedwire.esri.com>

Michael,
Thanks for the info.

The following is the compile errors I got when I try to build GDAL with
ECW enabled using VS2008. 


1>Compiling...
1>cl : Command line warning D9035 : option 'Wp64' has been deprecated
and will be removed in a future release
1>jp2userbox.cpp
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 'BOOLEAN' :
forcing value to bool 'true' or 'false' (performance warning)
1>ecwdataset.cpp
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 'BOOLEAN' :
forcing value to bool 'true' or 'false' (performance warning)
1>.\ecwdataset.cpp(730) : warning C4244: 'initializing' : conversion
from 'double' to 'float', possible loss of data
1>ecwcreatecopy.cpp
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 'BOOLEAN' :
forcing value to bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(194) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(406) : warning C4244: 'argument' : conversion from
'GIntBig' to 'int', possible loss of data
1>.\ecwcreatecopy.cpp(656) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(691) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(696) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>Generating Code...
1>Build log was saved at
"file://c:\GDAL\gdal\frmts\ecw\Release\BuildLog.htm"


> -----Original Message-----
> From: Michael Rosen [mailto:mrosen@lizardtech.com] 
> Sent: Tuesday, June 24, 2008 11:28 AM
> To: Peng Gao; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> 
> We build an older version of gdal with this version of the ecw library
> under vc9 ( vc 2008).   Specifically, we build NCSEcw_Static.  It's
> nothing special as far as I can see.  
> 
> msr
> 
> 
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peng Gao
> Sent: Monday, June 23, 2008 12:56 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> 
> 
> HI,
> 
> I am trying to build GDAL 1.5.2 with ECW SDK 3.3 using 
> VS2008, and getting some build errors. Have anyone here built 
> GDAL/ECW using VS2008? There is a thread, "ECW SDK 3.3 occur 
> error C2059 with VC2008"
> (http://forums.ermapper.com/viewtopic.php?p=7194#7194)
> on ECW SDK forum, discussing the problem. 
> But there is no solution.
> 
From mhanson at photon.com  Tue Jun 24 16:56:59 2008
From: mhanson at photon.com (Matt Hanson)
Date: Tue Jun 24 16:58:05 2008
Subject: [gdal-dev] Affine validation
Message-ID: <0719BE42F22E0A46857DF72644EC5D70691DE1@pj-exchange.photon.com>

Hello,

We wrote a GDAL driver for our own format but I have recently noticed
that gdalinfo is reporting incorrect corners for our driver, but not for
the equivalent datafile in ENVI format.  

It looks like the ENVI driver is correctly determining the sign on the
pixel size (which appear to always be positive), whereas our driver is
not and giving y-coordinates in the opposite direction from the origin
then what they are.   To be more specific we currently use UTM
projection and it's giving the coordinate of the lower right hand corner
as higher than top left coordinate when it should be lower (for northern
hemisphere).   I thought it was because our header file was reporting a
positive y-scale when it should be negative (and in fact it does work as
expected if I manually edit the header file and give it a negative
y-scale), but the ENVI .hdr file also has a positive y-scale, so the
driver must be checking and assigning the proper sign.

Rather than dig through the code for a while I was hoping someone might
be able to point me in the right direction for where this check might be
occurring, and where it should be done?   

Thanks in advance!

matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080624/10ffa88c/attachment.html
From tutey at o2.pl  Wed Jun 25 06:44:09 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Jun 25 06:43:16 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
Message-ID: <48622179.4030906@o2.pl>

Hi

I need to produce a complete list of GDAL supported EPSG codes. How to
do it? I tried parsing the *.csv files in share/gdal dir, but eg. none
of them includes code 900913, which is however recognized by epsg_tr.py
as "Google Maps Global Mercator". This SRS is mentioned only in
cubewerx_extra.wkt. Which other SRSs need special handling so that I
don't miss them?

-- 
Maciej Sieczka
www.sieczka.org
From warmerdam at pobox.com  Wed Jun 25 10:04:59 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 25 10:05:26 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <48622179.4030906@o2.pl>
References: <48622179.4030906@o2.pl>
Message-ID: <4862508B.2010303@pobox.com>

Maciej Sieczka wrote:
> Hi
> 
> I need to produce a complete list of GDAL supported EPSG codes. How to
> do it? I tried parsing the *.csv files in share/gdal dir, but eg. none
> of them includes code 900913, which is however recognized by epsg_tr.py
> as "Google Maps Global Mercator". This SRS is mentioned only in
> cubewerx_extra.wkt. Which other SRSs need special handling so that I
> don't miss them?

Maciej,

900913 is not really an EPSG code.

Do you want real EPSG codes or also every other crappy thing someone has
pushed into the EPSG name space for some special purpose?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From neteler at osgeo.org  Wed Jun 25 10:18:39 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Jun 25 10:18:42 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <4862508B.2010303@pobox.com>
References: <48622179.4030906@o2.pl> <4862508B.2010303@pobox.com>
Message-ID: <86782b610806250718v2cbb315wa0190317ac4931d0@mail.gmail.com>

On Wed, Jun 25, 2008 at 4:04 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Maciej Sieczka wrote:
>>
>> Hi
>>
>> I need to produce a complete list of GDAL supported EPSG codes. How to
>> do it? I tried parsing the *.csv files in share/gdal dir, but eg. none
>> of them includes code 900913, which is however recognized by epsg_tr.py
>> as "Google Maps Global Mercator". This SRS is mentioned only in
>> cubewerx_extra.wkt. Which other SRSs need special handling so that I
>> don't miss them?
>
> Maciej,
>
> 900913 is not really an EPSG code.
>
> Do you want real EPSG codes or also every other crappy thing someone has
> pushed into the EPSG name space for some special purpose?

Frank,

not sure about crappy:

[neteler@markus gdal]$ grep 900913 data/*
data/cubewerx_extra.wkt:900913,PROJCS["Google Maps Global
Mercator",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.01745329251994328,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Mercator_2SP"],PARAMETER["standard_parallel_1",0],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1],EXTENSION["PROJ4","+proj=merc
+a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0
+units=m +nadgrids=@null +wktext  +no_defs"]]

[neteler@markus proj]$ grep 900913 nad/*
nad/esri.extra:<900913> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0
+lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext
+no_defs <>

Best regards,
Markus
From tutey at o2.pl  Wed Jun 25 10:58:32 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Jun 25 10:57:43 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <4862508B.2010303@pobox.com>
References: <48622179.4030906@o2.pl> <4862508B.2010303@pobox.com>
Message-ID: <48625D18.6060100@o2.pl>

Frank Warmerdam pisze:

> 900913 is not really an EPSG code.

Yes I know.

> Do you want real EPSG codes or also every other crappy thing someone
> has pushed into the EPSG name space for some special purpose?

The latter. Ie. all the codes that epsg_tr.py is able to process - like
the 900913.

Maciek

-- 
Maciej Sieczka
www.sieczka.org
From warmerdam at pobox.com  Wed Jun 25 11:08:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Jun 25 11:09:25 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <48625D18.6060100@o2.pl>
References: <48622179.4030906@o2.pl> <4862508B.2010303@pobox.com>
	<48625D18.6060100@o2.pl>
Message-ID: <48625F8A.1050108@pobox.com>

Maciej Sieczka wrote:
> Frank Warmerdam pisze:
> 
>> 900913 is not really an EPSG code.
> 
> Yes I know.
> 
>> Do you want real EPSG codes or also every other crappy thing someone
>> has pushed into the EPSG name space for some special purpose?
> 
> The latter. Ie. all the codes that epsg_tr.py is able to process - like
> the 900913.

Maciej,

There is no uniform mechanism to accomplish this.  You can just give epsg_tr.py
a wide numeric range and it will try everything in the range but it will likely
take an inordinate amount of time.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ddnebert at usgs.gov  Wed Jun 25 12:00:08 2008
From: ddnebert at usgs.gov (doug_nebert)
Date: Wed Jun 25 12:00:11 2008
Subject: [Gdal-dev] Building superoverlay from remote WMS host
Message-ID: <18113134.post@talk.nabble.com>


In support of WMS operated in slower parts of the Internet, and in the
interest of providing a view of the maps in a cached "superoverlay" for
Google Earth and other savvy KML clients, has anyone developed a script that
could be aimed at a remote WMS host and patiently extract a multi-layered
tile scheme and save the tiled data and KML to the invoking host?

I see that GDAL has some support for extracting/reading from WMS: 
  http://www.gdal.org/frmt_wms.html

and a python utility for writing to kml with what I believe are super
overlays:
  http://www.gdal.org/gdal2tiles.html

But has anyone considered putting these together with a configuration file
to build such a solution? Anyone interested in sharing a prototype?

Doug.
-- 
View this message in context: http://www.nabble.com/Building-superoverlay-from-remote-WMS-host-tp18113134p18113134.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Konstantin.Baumann at hpi.uni-potsdam.de  Wed Jun 25 11:50:29 2008
From: Konstantin.Baumann at hpi.uni-potsdam.de (Baumann, Konstantin)
Date: Wed Jun 25 12:19:27 2008
Subject: [gdal-dev] GDAL & WMS
Message-ID: <5AC0F51A926CD442BC08D55DA7DAB1D40B5DFC64@3mxma1r.hpi.uni-potsdam.de>

Hi!

1.	I would like to use the GDAL WMS driver. But without doing a
GetCapabilities request out of the box and with the need of creating a
special XML file for each server, the driver seems to be a little bit
useless to me (from an end user's point of view). Is there somewhere the
GetCapabilities-script mentioned here:
http://trac.osgeo.org/gdal/wiki/SoCWMSDriver? Where do I get the needed
<SizeX> and <SizeY> values from? The GetCapabilities request of a WMS
does not return these values...
	
2.	I have tried to use the first WMS-XML-file from here:
http://www.gdal.org/frmt_wms.html, to access a WMS server; however the
GDALOpen()-call fails (returns NULL). The WMS driver is available
(verified with "gdalinfo --formats"). Are there any requirements to the
filename used for the XML filename (I used "D:\wms-test.xml" and inside
of my C++-code "D:\\wms-test.xml")?

Kind regards,
    Kosta
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080625/d808a16e/attachment.html
From usenet at fuchsschwanzdomain.de  Wed Jun 25 17:51:16 2008
From: usenet at fuchsschwanzdomain.de (Sven Geggus)
Date: Wed Jun 25 17:51:21 2008
Subject: [gdal-dev] Re: a complete list of GDAL supported EPSG codes
References: <48622179.4030906@o2.pl>
Message-ID: <g3uekk$1ca$1@ultimate100.geggus.net>

Maciej Sieczka <tutey@o2.pl> wrote:

> I need to produce a complete list of GDAL supported EPSG codes. How to
> do it? I tried parsing the *.csv files in share/gdal dir, but eg. none
> of them includes code 900913, which is however recognized by epsg_tr.py
> as "Google Maps Global Mercator".

900913 is 1337-speak for GOOGLE (http://en.wikipedia.org/wiki/Leet)

Sven

-- 
C is quirky, flawed, and an enormous success
(Dennis M. Ritchie)

/me is giggls@ircnet, http://sven.gegg.us/ on the Web
From nowak at xpam.de  Wed Jun 25 18:18:48 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Wed Jun 25 18:42:55 2008
Subject: [gdal-dev] GDAL & WMS
In-Reply-To: <5AC0F51A926CD442BC08D55DA7DAB1D40B5DFC64@3mxma1r.hpi.uni-potsdam.de>
References: <5AC0F51A926CD442BC08D55DA7DAB1D40B5DFC64@3mxma1r.hpi.uni-potsdam.de>
Message-ID: <4862C448.4050207@xpam.de>

Baumann, Konstantin wrote:
>    1. I would like to use the GDAL WMS driver. But without doing a
>       GetCapabilities request out of the box and with the need of
>       creating a special XML file for each server, the driver seems to
>       be a little bit useless to me (from an end user's point of view).
>       Is there somewhere the GetCapabilities-script mentioned here:
>       http://trac.osgeo.org/gdal/wiki/SoCWMSDriver? Where do I get the
>       needed <SizeX> and <SizeY> values from? The GetCapabilities
>       request of a WMS does not return these values...

Exactly, GetCapabilities doesnt provide all the required values and they 
are quite hard to guess without human help. Set SizeX and SizeY based on 
expected data resolution.

>    2. I have tried to use the first WMS-XML-file from here:
>       http://www.gdal.org/frmt_wms.html, to access a WMS server; however
>       the GDALOpen()-call fails (returns NULL). The WMS driver is
>       available (verified with "gdalinfo --formats"). Are there any
>       requirements to the filename used for the XML filename (I used
>       "D:\wms-test.xml" and inside of my C++-code "D:\\wms-test.xml")?

Run gdalinfo D:\wms-test.xml, if it works its a problem with your code 
(are you calling GDALAllRegister, linking with the correct gdal dll, 
etc). If it doesnt it should at least print some error messages ...

From jrepetto at free.fr  Thu Jun 26 08:52:41 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Jun 26 09:14:03 2008
Subject: [gdal-dev] GUI for gdalwarp ?
Message-ID: <48639119.20302@free.fr>

Hi,

Is there a GUI that allows entering GCPs graphically and then calls
gdalwarp to calibrate a map ?

Thanks,
Jean-Claude

From warmerdam at pobox.com  Thu Jun 26 09:15:56 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Jun 26 09:16:15 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <48639119.20302@free.fr>
References: <48639119.20302@free.fr>
Message-ID: <4863968C.6030307@pobox.com>

Jean-Claude Repetto wrote:
> Hi,
> 
> Is there a GUI that allows entering GCPs graphically and then calls
> gdalwarp to calibrate a map ?

Jean-Claude,

No, I'm afraid not.  Unless you count:

   http://labs.metacarta.com/rectifier/

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jonahd at gmail.com  Thu Jun 26 09:29:09 2008
From: jonahd at gmail.com (Jonah Duckles)
Date: Thu Jun 26 09:29:11 2008
Subject: [Gdal-dev] Building superoverlay from remote WMS host
In-Reply-To: <18113134.post@talk.nabble.com>
References: <18113134.post@talk.nabble.com>
Message-ID: <cc32b9a50806260629s36acf137v4bef0916f920524a@mail.gmail.com>

Try TileCache at:
http://tilecache.org/

On Wed, Jun 25, 2008 at 11:00 AM, doug_nebert <ddnebert@usgs.gov> wrote:
>
> In support of WMS operated in slower parts of the Internet, and in the
> interest of providing a view of the maps in a cached "superoverlay" for
> Google Earth and other savvy KML clients, has anyone developed a script that
> could be aimed at a remote WMS host and patiently extract a multi-layered
> tile scheme and save the tiled data and KML to the invoking host?
>
> I see that GDAL has some support for extracting/reading from WMS:
>  http://www.gdal.org/frmt_wms.html
>
> and a python utility for writing to kml with what I believe are super
> overlays:
>  http://www.gdal.org/gdal2tiles.html
>
> But has anyone considered putting these together with a configuration file
> to build such a solution? Anyone interested in sharing a prototype?
>
> Doug.
> --
> View this message in context: http://www.nabble.com/Building-superoverlay-from-remote-WMS-host-tp18113134p18113134.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From neteler at osgeo.org  Thu Jun 26 10:12:11 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Jun 26 10:12:17 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <48639119.20302@free.fr>
References: <48639119.20302@free.fr>
Message-ID: <86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>

On Thu, Jun 26, 2008 at 2:52 PM, Jean-Claude Repetto <jrepetto@free.fr> wrote:
> Hi,
>
> Is there a GUI that allows entering GCPs graphically and then calls
> gdalwarp to calibrate a map ?

As third-party tool, QGIS (www.qgis.org) offers a graphical interface
to such functionality. Internally it calls gdalwarp.

Markus
From flavio.rigolon at gmail.com  Thu Jun 26 10:24:44 2008
From: flavio.rigolon at gmail.com (Flavio Rigolon)
Date: Thu Jun 26 10:24:46 2008
Subject: [gdal-dev] v.in.ogr in grass with where condition
Message-ID: <2ce45db00806260724s623eb6a7md0c0d904e7b38721@mail.gmail.com>

Hi all,
 sorry for my bad english.
 I'm trying to import some shp files into GRASS via "v.in.ogr".
The shp contain contour data (lines) with attribute storing z values.
Is there a way to tell "v.in.ogr" a SQL string to import only contours
referred do z value ending by zero?
I.e.: I don't want to import contour with z value that are multiple of "5".

Thanks for the help
flavio

-- 
io uso Debian GNU/Linux
user #413018 counter.li.org

<<usiamo formati aperti!>>
http://it.wikipedia.org/wiki/Formato_aperto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080626/406d656d/attachment.html
From neteler at osgeo.org  Thu Jun 26 10:36:33 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Jun 26 10:36:35 2008
Subject: [gdal-dev] v.in.ogr in grass with where condition
In-Reply-To: <2ce45db00806260724s623eb6a7md0c0d904e7b38721@mail.gmail.com>
References: <2ce45db00806260724s623eb6a7md0c0d904e7b38721@mail.gmail.com>
Message-ID: <86782b610806260736s7313fa37ia3ec204b91d2a508@mail.gmail.com>

On Thu, Jun 26, 2008 at 4:24 PM, Flavio Rigolon
<flavio.rigolon@gmail.com> wrote:
> Hi all,
>  sorry for my bad english.
>  I'm trying to import some shp files into GRASS via "v.in.ogr".
> The shp contain contour data (lines) with attribute storing z values.
> Is there a way to tell "v.in.ogr" a SQL string to import only contours
> referred do z value ending by zero?
> I.e.: I don't want to import contour with z value that are multiple of "5".

To give some background to this list, the thread come from the gfoss.it
list):

v.in.ogr uses OGR for the "where" parameter:

       OGR_L_SetAttributeFilter (Ogr_layer, where_opt->answer );

http://www.gdal.org/ogr/ogr__api_8h.html#4000d426bf26ad7cc7d4012634c93f09

Does OGR_L_SetAttributeFilter() support a subset of SQL?

Markus
From crschmidt at metacarta.com  Thu Jun 26 10:44:01 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Thu Jun 26 10:44:02 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <4863968C.6030307@pobox.com>
References: <48639119.20302@free.fr> <4863968C.6030307@pobox.com>
Message-ID: <20080626144400.GC14947@metacarta.com>

On Thu, Jun 26, 2008 at 09:15:56AM -0400, Frank Warmerdam wrote:
> Jean-Claude Repetto wrote:
> >Hi,
> >
> >Is there a GUI that allows entering GCPs graphically and then calls
> >gdalwarp to calibrate a map ?
> 
> Jean-Claude,
> 
> No, I'm afraid not.  Unless you count:
> 
>   http://labs.metacarta.com/rectifier/

I'd say that fits all the points asked for; though it does lack in the
'open source' department, that was only implied, not specified ;)

Regards,
-- 
Christopher Schmidt
MetaCarta
From daniele.romagnoli at geo-solutions.it  Thu Jun 26 10:52:52 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Thu Jun 26 10:52:55 2008
Subject: [gdal-dev] Is 64 bit supported on MrSID SDK6?
Message-ID: <7221db410806260752l34d2283x5b7166fceba8b39a@mail.gmail.com>

Hi list,
An user is trying to build GDAL with support for MrSID (SDK6) on a 64 bit
machine on SuSe, getting PLATFORM errors.
Does SDK6 support 64Bit or it is only supported with the new SDK7?

Thank you very much.

Cheers,
Daniele
-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080626/f13f2114/attachment.html
From rezso at rdsor.ro  Thu Jun 26 10:48:22 2008
From: rezso at rdsor.ro (Balint Cristian)
Date: Thu Jun 26 10:53:27 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <20080626144400.GC14947@metacarta.com>
References: <48639119.20302@free.fr> <4863968C.6030307@pobox.com>
	<20080626144400.GC14947@metacarta.com>
Message-ID: <7E8B5A5DA601466FB7BBE355FFDE4089@Yoda>




> On Thu, Jun 26, 2008 at 09:15:56AM -0400, Frank Warmerdam wrote:
>> Jean-Claude Repetto wrote:
>> >Hi,
>> >
>> >Is there a GUI that allows entering GCPs graphically and then calls
>> >gdalwarp to calibrate a map ?
>> 

I am working on a robust CLI tool based over
gdal/geos library wich can do automated georeference of
cartographic raster maps which contain mercator
or any other border straight lines.
  Tool works simply, it do full-radon transform 
(a higly accelerated and optimized one) to extract 
straight lines, than got intersection points. Intersection 
points are corelated  using 'ransac' scale/rotation invariant 
method against a generated grid which is generated out 
from knowing of raster map's name/position, and resulted 
valid points are inserted into raster as gcp.
  Advantage is that it can do mercator grid reference 
instead of just 4 corner points only one, and is fully
automated.

 Preliminary results showing how accurate is radon 
transform, and its complete noise-immunity:

http://openrisc.rdsor.ro/radon-020k.TIF

   However code is not complete yet, but i assume next month
will be, including extensive usage documentation and description how
it works, with math fundaments too. I got impressive results so far, 
basicaly on a sample of random ~1000 raster maps not a single 
line was missed  or error induced, radon simply do an amasing
job to detect any straight line, no mather how much noise we have
or how poor are the lines due to bad low quality scans.

  Project is intended as a free one, its subject of my PhD thesis,
i will happily publish it as i will done it, code its simple and not exceed
2k lines, but the math behind is the real killer part.
 I hope it will get some interest from peoples around the world
but lets see, i have no time set up a wiki to document development 
process and my intention i better focus to finish it rather than 
form a small team or wiki pages whatever.


 More details on radon:
http://eivind.imm.dtu.dk/staff/ptoft/Radon/Radon.html

 However my merit in this work is the accelerated radon, 
its a difference to do 30hour over 20k*20k pixel or just 15
minutes, plus corelated points should perfect valid/invalid match
using a modified ransac algorithm.

//cristian


From crschmidt at metacarta.com  Thu Jun 26 11:51:38 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Thu Jun 26 11:51:41 2008
Subject: [gdal-dev] Is 64 bit supported on MrSID SDK6?
In-Reply-To: <7221db410806260752l34d2283x5b7166fceba8b39a@mail.gmail.com>
References: <7221db410806260752l34d2283x5b7166fceba8b39a@mail.gmail.com>
Message-ID: <20080626155138.GB16003@metacarta.com>

On Thu, Jun 26, 2008 at 04:52:52PM +0200, Daniele Romagnoli wrote:
> Hi list,
> An user is trying to build GDAL with support for MrSID (SDK6) on a 64 bit
> machine on SuSe, getting PLATFORM errors.
> Does SDK6 support 64Bit or it is only supported with the new SDK7?

Only 7.

Regards,
-- 
Christopher Schmidt
MetaCarta
From jrepetto at free.fr  Thu Jun 26 11:57:04 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Thu Jun 26 12:17:38 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>
References: <48639119.20302@free.fr>
	<86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>
Message-ID: <4863BC50.4040507@free.fr>

Markus Neteler wrote :
> On Thu, Jun 26, 2008 at 2:52 PM, Jean-Claude Repetto <jrepetto@free.fr> wrote:
>> Hi,
>>
>> Is there a GUI that allows entering GCPs graphically and then calls
>> gdalwarp to calibrate a map ?
> 
> As third-party tool, QGIS (www.qgis.org) offers a graphical interface
> to such functionality. Internally it calls gdalwarp.
> 

Thanks Markus. I have tried it, it is nice and easy to use. 
Unfortunately it lacks one feature I need, that is the possibility to 
choose the output resolution (parameter -tr of gdalwarp). Maybe it is 
not difficult to add this feature, I'll ask on the QGIS ML.

Jean-Claude
From mrosen at lizardtech.com  Thu Jun 26 12:35:19 2008
From: mrosen at lizardtech.com (Michael Rosen)
Date: Thu Jun 26 12:35:20 2008
Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
In-Reply-To: <A383B271E8D0DF47B51972FCEB438DC707AAF6A8@twistedwire.esri.com>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl><1214108905.6038.37.camel@edoras><ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
	<A383B271E8D0DF47B51972FCEB438DC707AAEC20@twistedwire.esri.com>
	<DBEC881B4E22D1449F5FAC530E1ADD1201C02C14@sea-srv-ms3.lizardtech.com>
	<A383B271E8D0DF47B51972FCEB438DC707AAF6A8@twistedwire.esri.com>
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD1201C02C24@sea-srv-ms3.lizardtech.com>

Hmm... which target is it building?  Which file is compiling?  Can you
build NCSEcw_Static?  Here's what we get:


  C:\Program Files (x86)\Microsoft Visual Studio
9.0\Common7\IDE\..\..\vc\vcpackages\vcbuild.exe
c:\bob\work\win32-vc9__HEAD\xt_lib_ecw\build\win32-vc9\..\..\src\libecwj
2-3.3\Source\C\NCSEcw\NCSEcw\NCSEcw_Static\NCSEcw_Static-vc9.tmp_Release
_Win32.vcproj "Release|Win32"

...

  Microsoft (R) Visual C++ Project Builder - Command Line Version
9.00.21022
  Copyright (C) Microsoft Corporation. All rights reserved.
  
  Build started: Project: NCSEcw_Static, Configuration: Release|Win32
  Compiling...

  NCSJPCBuffer.cpp
..\..\NCSJP2\NCSJPCBuffer.cpp(530): warning C4244: '*=' : conversion
from 'const INT32' to 'INT16', possible loss of data
  NCSJPC.cpp
..\..\NCSJP2\NCSJPC.cpp(195): warning C4244: '=' : conversion from
'UINT32' to 'UINT8', possible loss of data
..\..\NCSJP2\NCSJPC.cpp(196): warning C4244: '=' : conversion from
'UINT32' to 'UINT16', possible loss of data
..\..\NCSJP2\NCSJPC.cpp(203): warning C4244: '=' : conversion from
'UINT32' to 'UINT16', possible loss of data
  NCSJP2XMLBox.cpp
..\..\NCSJP2\NCSJP2XMLBox.cpp(42): warning C4100: 'Stream' :
unreferenced formal parameter
..\..\NCSJP2\NCSJP2XMLBox.cpp(42): warning C4100: 'JP2File' :
unreferenced formal parameter
..\..\NCSJP2\NCSJP2XMLBox.cpp(53): warning C4189:
'pStreamNCSJP2_CHECKIO' : local variable is initialized but not
referenced
..\..\NCSJP2\NCSJP2XMLBox.cpp(53): warning C4189: 'pErrorNCSJP2_CHECKIO'
: local variable is initialized but not referenced
  NCSJP2WorldBox.cpp
..\..\NCSJP2\NCSJP2WorldBox.cpp(155): warning C4100: 'JP2File' :
unreferenced formal parameter
..\..\NCSJP2\NCSJP2WorldBox.cpp(207): warning C4189:
'pStreamNCSJP2_CHECKIO' : local variable is initialized but not
referenced
..\..\NCSJP2\NCSJP2WorldBox.cpp(207): warning C4189:
'pErrorNCSJP2_CHECKIO' : local variable is initialized but not
referenced
  Generating Code...
  Compiling...
  NCSJP2UUIDListBox.cpp
..\..\NCSJP2\NCSJP2UUIDListBox.cpp(44): warning C4100: 'JP2File' :
unreferenced formal parameter
  NCSJP2UUIDInfoBox.cpp
  NCSJP2UUIDBox.cpp
..\..\NCSJP2\NCSJP2UUIDBox.cpp(47): warning C4100: 'JP2File' :
unreferenced formal parameter
  NCSJP2SuperBox.cpp
  NCSJP2SignatureBox.cpp
..\..\NCSJP2\NCSJP2SignatureBox.cpp(51): warning C4100: 'JP2File' :
unreferenced formal parameter
  NCSJP2ResolutionBox.cpp
  NCSJP2PCSBox.cpp
..\..\NCSJP2\NCSJP2PCSBox.cpp(184): warning C4100: 'JP2File' :
unreferenced formal parameter
..\..\NCSJP2\NCSJP2PCSBox.cpp(390): warning C4189:
'pStreamNCSJP2_CHECKIO' : local variable is initialized but not
referenced
..\..\NCSJP2\NCSJP2PCSBox.cpp(390): warning C4189:
'pErrorNCSJP2_CHECKIO' : local variable is initialized but not
referenced
..\..\NCSJP2\NCSJP2PCSBox.cpp(581): warning C4244: '=' : conversion from
'int' to 'UINT16', possible loss of data
..\..\NCSJP2\NCSJP2PCSBox.cpp(398): warning C4100: 'szFilename' :
unreferenced formal parameter
..\..\NCSJP2\NCSJP2PCSBox.cpp(888): warning C4244: '=' : conversion from
'INT32' to 'UINT16', possible loss of data
...

-----Original Message-----
From: Peng Gao [mailto:pgao@esri.com] 
Sent: Tuesday, June 24, 2008 12:18 PM
To: Michael Rosen; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008

Michael,
Thanks for the info.

The following is the compile errors I got when I try to build GDAL with
ECW enabled using VS2008. 


1>Compiling...
1>cl : Command line warning D9035 : option 'Wp64' has been deprecated
and will be removed in a future release
1>jp2userbox.cpp
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 'BOOLEAN' :
forcing value to bool 'true' or 'false' (performance warning)
1>ecwdataset.cpp
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 'BOOLEAN' :
forcing value to bool 'true' or 'false' (performance warning)
1>.\ecwdataset.cpp(730) : warning C4244: 'initializing' : conversion
from 'double' to 'float', possible loss of data
1>ecwcreatecopy.cpp
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
error : '<L_TYPE_raw>'
1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: unexpected
token(s) preceding ';'
1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 'BOOLEAN' :
forcing value to bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(194) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(406) : warning C4244: 'argument' : conversion from
'GIntBig' to 'int', possible loss of data
1>.\ecwcreatecopy.cpp(656) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(691) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>.\ecwcreatecopy.cpp(696) : warning C4800: 'int' : forcing value to
bool 'true' or 'false' (performance warning)
1>Generating Code...
1>Build log was saved at
"file://c:\GDAL\gdal\frmts\ecw\Release\BuildLog.htm"


> -----Original Message-----
> From: Michael Rosen [mailto:mrosen@lizardtech.com] 
> Sent: Tuesday, June 24, 2008 11:28 AM
> To: Peng Gao; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> 
> We build an older version of gdal with this version of the ecw library
> under vc9 ( vc 2008).   Specifically, we build NCSEcw_Static.  It's
> nothing special as far as I can see.  
> 
> msr
> 
> 
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peng Gao
> Sent: Monday, June 23, 2008 12:56 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> 
> 
> HI,
> 
> I am trying to build GDAL 1.5.2 with ECW SDK 3.3 using 
> VS2008, and getting some build errors. Have anyone here built 
> GDAL/ECW using VS2008? There is a thread, "ECW SDK 3.3 occur 
> error C2059 with VC2008"
> (http://forums.ermapper.com/viewtopic.php?p=7194#7194)
> on ECW SDK forum, discussing the problem. 
> But there is no solution.
> 
From gshibaya at gmail.com  Thu Jun 26 13:17:38 2008
From: gshibaya at gmail.com (gen)
Date: Thu Jun 26 13:17:39 2008
Subject: [gdal-dev] gdal_translate for Lambert Conformal Conical
Message-ID: <b7469123-a1b5-4edd-be31-efdbcd06d809@w8g2000prd.googlegroups.com>

Hello,

I'm trying to create a geotiff file from PNG map file which uses
Lambert Conformal Conical coordinate system, and hitting a road block.

$ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
-121.9248 32.9250 -112.9434 -a_srs '+proj=llc +lon0=90w +lat_0=25n
+lat_1=25n' test.png dest.tif
Failed to process SRS definition: +proj=llc +lon0=90w +lat_0=25n
+lat_1=25n

$ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
-121.9248 32.9250 -112.9434 -a_srs EPSG:9801 test.png dest.tif
ERROR 6: EPSG PCS/GCS code 9801 not found in EPSG support files.  Is
this a valid
EPSG coordinate system?
Failed to process SRS definition: EPSG:9801

Any idea what I am missing?

I downloaded gdal as part of FWTools package http://fwtools.maptools.org/

Thanks in advance,
-Gen
From oliver.eichler at gmx.de  Thu Jun 26 14:04:30 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Thu Jun 26 14:09:10 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <4863BC50.4040507@free.fr>
References: <48639119.20302@free.fr>
	<86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>
	<4863BC50.4040507@free.fr>
Message-ID: <200806262004.30960.oliver.eichler@gmx.de>

On Thursday, 26. June 2008 17:57:04 Jean-Claude Repetto wrote:
> Markus Neteler wrote :
> > On Thu, Jun 26, 2008 at 2:52 PM, Jean-Claude Repetto <jrepetto@free.fr> 
wrote:
> >> Hi,
> >>
> >> Is there a GUI that allows entering GCPs graphically and then calls
> >> gdalwarp to calibrate a map ?
> >
> > As third-party tool, QGIS (www.qgis.org) offers a graphical interface
> > to such functionality. Internally it calls gdalwarp.
>
> Thanks Markus. I have tried it, it is nice and easy to use.
> Unfortunately it lacks one feature I need, that is the possibility to
> choose the output resolution (parameter -tr of gdalwarp). Maybe it is
> not difficult to add this feature, I'll ask on the QGIS ML.

Hi Jean-Claud,

you might consider QLandkarte GT, too. (www.qlandkarte.org) It's it's less 
scientific like QGis, but somehow esier to use. And, yes I can add that -tr 
parameter if you need it ;)

Oliver
From pagameba at gmail.com  Thu Jun 26 15:38:20 2008
From: pagameba at gmail.com (Paul Spencer)
Date: Thu Jun 26 15:38:24 2008
Subject: [gdal-dev] gdal_translate for Lambert Conformal Conical
In-Reply-To: <b7469123-a1b5-4edd-be31-efdbcd06d809@w8g2000prd.googlegroups.com>
References: <b7469123-a1b5-4edd-be31-efdbcd06d809@w8g2000prd.googlegroups.com>
Message-ID: <E5196AF7-390F-4F4E-A4EA-7EBA2A679FDF@gmail.com>

Gen,

is your png file already in the lcc projection and you are just trying  
to assign the projection to it?

Your first proj string looks suspicious to me, I suspect 90w should be  
-90 and 25n should be just 25

Your second proj string should use lower case 'epsg' - this is because  
epsg is actually the name of a proj dictionary and 9801 is the value  
to look up in that dictionary - the dictionary is in lower case and  
this is important on linux systems.

Cheers

Paul

On 26-Jun-08, at 1:17 PM, gen wrote:

> Hello,
>
> I'm trying to create a geotiff file from PNG map file which uses
> Lambert Conformal Conical coordinate system, and hitting a road block.
>
> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
> -121.9248 32.9250 -112.9434 -a_srs '+proj=llc +lon0=90w +lat_0=25n
> +lat_1=25n' test.png dest.tif
> Failed to process SRS definition: +proj=llc +lon0=90w +lat_0=25n
> +lat_1=25n
>
> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
> -121.9248 32.9250 -112.9434 -a_srs EPSG:9801 test.png dest.tif
> ERROR 6: EPSG PCS/GCS code 9801 not found in EPSG support files.  Is
> this a valid
> EPSG coordinate system?
> Failed to process SRS definition: EPSG:9801
>
> Any idea what I am missing?
>
> I downloaded gdal as part of FWTools package http://fwtools.maptools.org/
>
> Thanks in advance,
> -Gen
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From gshibaya at gmail.com  Thu Jun 26 15:59:35 2008
From: gshibaya at gmail.com (Gen Shibayama)
Date: Thu Jun 26 15:59:38 2008
Subject: [gdal-dev] gdal_translate for Lambert Conformal Conical
In-Reply-To: <E5196AF7-390F-4F4E-A4EA-7EBA2A679FDF@gmail.com>
References: <b7469123-a1b5-4edd-be31-efdbcd06d809@w8g2000prd.googlegroups.com>
	<E5196AF7-390F-4F4E-A4EA-7EBA2A679FDF@gmail.com>
Message-ID: <6ea3a4e50806261259g5dea2c2apf83bfdea026e401f@mail.gmail.com>

Hi Paul,

Thanks for the info. I also found much more stupid mistake (I typo'ed
lcc as llc).

Lowercase epsg didn't work either, but I think that's ok as long as I
have one way to accomplish what I need to do.

Yes, my png file is in the lcc projection, and I just need to add
geotiff information for now. Untimately, I'll further process the file
with gdalwarp and convert it into EPSG 4326 coordinate system, and
overlay the image on Google Earth.

Here is the png file.

http://www.soaringsearch.com/files/test.png

Now I realized another problem. My current command line is as follows.
As you can see from the image, all four corners are on different lats
and longs, but I can specify only Upper Left and Lower Right with
-a_ullr option.

$ gdal_translate -of GTiff -co INTERLEAVE=PIXEL  -a_ullr 41.5569
-121.9248 32.9250 -112.9434 -a_srs '+proj=lcc +lon_0=-95 +lat_1=25
+lat_2=25' test.png dest.tif

Am I doomed?

-Gen

On Thu, Jun 26, 2008 at 12:38 PM, Paul Spencer <pagameba@gmail.com> wrote:
> Gen,
>
> is your png file already in the lcc projection and you are just trying to
> assign the projection to it?
>
> Your first proj string looks suspicious to me, I suspect 90w should be -90
> and 25n should be just 25
>
> Your second proj string should use lower case 'epsg' - this is because epsg
> is actually the name of a proj dictionary and 9801 is the value to look up
> in that dictionary - the dictionary is in lower case and this is important
> on linux systems.
>
> Cheers
>
> Paul
>
> On 26-Jun-08, at 1:17 PM, gen wrote:
>
>> Hello,
>>
>> I'm trying to create a geotiff file from PNG map file which uses
>> Lambert Conformal Conical coordinate system, and hitting a road block.
>>
>> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
>> -121.9248 32.9250 -112.9434 -a_srs '+proj=llc +lon0=90w +lat_0=25n
>> +lat_1=25n' test.png dest.tif
>> Failed to process SRS definition: +proj=llc +lon0=90w +lat_0=25n
>> +lat_1=25n
>>
>> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
>> -121.9248 32.9250 -112.9434 -a_srs EPSG:9801 test.png dest.tif
>> ERROR 6: EPSG PCS/GCS code 9801 not found in EPSG support files.  Is
>> this a valid
>> EPSG coordinate system?
>> Failed to process SRS definition: EPSG:9801
>>
>> Any idea what I am missing?
>>
>> I downloaded gdal as part of FWTools package http://fwtools.maptools.org/
>>
>> Thanks in advance,
>> -Gen
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
From pagameba at gmail.com  Thu Jun 26 16:03:39 2008
From: pagameba at gmail.com (Paul Spencer)
Date: Thu Jun 26 16:03:45 2008
Subject: [gdal-dev] gdal_translate for Lambert Conformal Conical
In-Reply-To: <6ea3a4e50806261259g5dea2c2apf83bfdea026e401f@mail.gmail.com>
References: <b7469123-a1b5-4edd-be31-efdbcd06d809@w8g2000prd.googlegroups.com>
	<E5196AF7-390F-4F4E-A4EA-7EBA2A679FDF@gmail.com>
	<6ea3a4e50806261259g5dea2c2apf83bfdea026e401f@mail.gmail.com>
Message-ID: <73C344F1-4BF3-4228-9A00-3B4A2CD03D1E@gmail.com>

I think you should be using the lcc coordinates of the corners instead  
of degrees, then it should be fine.

Cheers

Paul

On 26-Jun-08, at 3:59 PM, Gen Shibayama wrote:

> Hi Paul,
>
> Thanks for the info. I also found much more stupid mistake (I typo'ed
> lcc as llc).
>
> Lowercase epsg didn't work either, but I think that's ok as long as I
> have one way to accomplish what I need to do.
>
> Yes, my png file is in the lcc projection, and I just need to add
> geotiff information for now. Untimately, I'll further process the file
> with gdalwarp and convert it into EPSG 4326 coordinate system, and
> overlay the image on Google Earth.
>
> Here is the png file.
>
> http://www.soaringsearch.com/files/test.png
>
> Now I realized another problem. My current command line is as follows.
> As you can see from the image, all four corners are on different lats
> and longs, but I can specify only Upper Left and Lower Right with
> -a_ullr option.
>
> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL  -a_ullr 41.5569
> -121.9248 32.9250 -112.9434 -a_srs '+proj=lcc +lon_0=-95 +lat_1=25
> +lat_2=25' test.png dest.tif
>
> Am I doomed?
>
> -Gen
>
> On Thu, Jun 26, 2008 at 12:38 PM, Paul Spencer <pagameba@gmail.com>  
> wrote:
>> Gen,
>>
>> is your png file already in the lcc projection and you are just  
>> trying to
>> assign the projection to it?
>>
>> Your first proj string looks suspicious to me, I suspect 90w should  
>> be -90
>> and 25n should be just 25
>>
>> Your second proj string should use lower case 'epsg' - this is  
>> because epsg
>> is actually the name of a proj dictionary and 9801 is the value to  
>> look up
>> in that dictionary - the dictionary is in lower case and this is  
>> important
>> on linux systems.
>>
>> Cheers
>>
>> Paul
>>
>> On 26-Jun-08, at 1:17 PM, gen wrote:
>>
>>> Hello,
>>>
>>> I'm trying to create a geotiff file from PNG map file which uses
>>> Lambert Conformal Conical coordinate system, and hitting a road  
>>> block.
>>>
>>> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
>>> -121.9248 32.9250 -112.9434 -a_srs '+proj=llc +lon0=90w +lat_0=25n
>>> +lat_1=25n' test.png dest.tif
>>> Failed to process SRS definition: +proj=llc +lon0=90w +lat_0=25n
>>> +lat_1=25n
>>>
>>> $ gdal_translate -of GTiff -co INTERLEAVE=PIXEL -a_ullr 41.5569
>>> -121.9248 32.9250 -112.9434 -a_srs EPSG:9801 test.png dest.tif
>>> ERROR 6: EPSG PCS/GCS code 9801 not found in EPSG support files.  Is
>>> this a valid
>>> EPSG coordinate system?
>>> Failed to process SRS definition: EPSG:9801
>>>
>>> Any idea what I am missing?
>>>
>>> I downloaded gdal as part of FWTools package http://fwtools.maptools.org/
>>>
>>> Thanks in advance,
>>> -Gen
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>

From mchapman at texelinc.com  Thu Jun 26 18:36:06 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Thu Jun 26 18:43:08 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <200806262004.30960.oliver.eichler@gmx.de>
References: <48639119.20302@free.fr>	<86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>	<4863BC50.4040507@free.fr>
	<200806262004.30960.oliver.eichler@gmx.de>
Message-ID: <008901c8d7dd$0638a920$12a9fb60$@com>

Jean-Claud,

http://fortifiedgis.com/products/desktop/ .  The 30 trial download has a GUI
wizard built on GDALWarp.  You can run as a separate utility or integrated
into the desktop tool.  It also has GUI wizards based on several other GDAL
/ OGR utilities.

Marty


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Oliver Eichler
Sent: Thursday, June 26, 2008 12:05 PM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GUI for gdalwarp ?

On Thursday, 26. June 2008 17:57:04 Jean-Claude Repetto wrote:
> Markus Neteler wrote :
> > On Thu, Jun 26, 2008 at 2:52 PM, Jean-Claude Repetto <jrepetto@free.fr> 
wrote:
> >> Hi,
> >>
> >> Is there a GUI that allows entering GCPs graphically and then calls
> >> gdalwarp to calibrate a map ?
> >
> > As third-party tool, QGIS (www.qgis.org) offers a graphical interface
> > to such functionality. Internally it calls gdalwarp.
>
> Thanks Markus. I have tried it, it is nice and easy to use.
> Unfortunately it lacks one feature I need, that is the possibility to
> choose the output resolution (parameter -tr of gdalwarp). Maybe it is
> not difficult to add this feature, I'll ask on the QGIS ML.

Hi Jean-Claud,

you might consider QLandkarte GT, too. (www.qlandkarte.org) It's it's less 
scientific like QGis, but somehow esier to use. And, yes I can add that -tr 
parameter if you need it ;)

Oliver
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mchapman at texelinc.com  Thu Jun 26 18:36:55 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Thu Jun 26 18:43:57 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <4863BC50.4040507@free.fr>
References: <48639119.20302@free.fr>	<86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>
	<4863BC50.4040507@free.fr>
Message-ID: <008a01c8d7dd$23a46620$6aed3260$@com>

Jean-Claud,

http://fortifiedgis.com/products/desktop/ .  The 30 trial download has a GUI
wizard built on GDALWarp.  You can run as a separate utility or integrated
into the desktop tool.  It also has GUI wizards based on several other GDAL
/ OGR utilities.

Marty


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jean-Claude Repetto
Sent: Thursday, June 26, 2008 9:57 AM
To: Markus Neteler
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GUI for gdalwarp ?

Markus Neteler wrote :
> On Thu, Jun 26, 2008 at 2:52 PM, Jean-Claude Repetto <jrepetto@free.fr>
wrote:
>> Hi,
>>
>> Is there a GUI that allows entering GCPs graphically and then calls
>> gdalwarp to calibrate a map ?
> 
> As third-party tool, QGIS (www.qgis.org) offers a graphical interface
> to such functionality. Internally it calls gdalwarp.
> 

Thanks Markus. I have tried it, it is nice and easy to use. 
Unfortunately it lacks one feature I need, that is the possibility to 
choose the output resolution (parameter -tr of gdalwarp). Maybe it is 
not difficult to add this feature, I'll ask on the QGIS ML.

Jean-Claude
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Volker.Wichmann at uibk.ac.at  Fri Jun 27 03:58:31 2008
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Fri Jun 27 03:59:58 2008
Subject: [gdal-dev] gdalwarp - source srs definition
Message-ID: <48649DA7.6090109@uibk.ac.at>

Hi,

I have a bunch of esri ascii rasters, from which I generate subsets via 
gdalwarp. All the asciis have the same projection, e.g.:

cat dtm_utm09091.prj
PROJECTION UTM
UNITS meters
SPHEROID WGS84
DATUM WGS84
ZONE 32
PARAMETERS

gdalinfo dtm_utm09091.ascii
Driver: AAIGrid/Arc/Info ASCII Grid
Size is 1281, 1121
Coordinate System is:
PROJCS["UTM Zone 32, Northern Hemisphere",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["meters",1]]
Origin = (659398.750000000000000,5170401.250000000000000)
Pixel Size = (2.500000000000000,-2.500000000000000)
Corner Coordinates:
Upper Left  (  659398.750, 5170401.250) ( 11d 5'1.71"E, 46d40'5.48"N)
Lower Left  (  659398.750, 5167598.750) ( 11d 4'58.22"E, 46d38'34.75"N)
Upper Right (  662601.250, 5170401.250) ( 11d 7'32.32"E, 46d40'2.71"N)
Lower Right (  662601.250, 5167598.750) ( 11d 7'28.76"E, 46d38'31.98"N)
Center      (  661000.000, 5169000.000) ( 11d 6'15.25"E, 46d39'18.74"N)
Band 1 Block=1281x1 Type=Float32, ColorInterp=Undefined
  NoData Value=-9999

I create subsets with gdalwarp, e.g.
gdalwarp -te 671998.75 5131893.75 682141.25 5141126.25 -of GTiff -ot 
Float32 -dstnodata -9999  dtm_utm03113.ascii dtm_utm03111.ascii dtm_sub.tif

I do not define -s_srs, as I suspect it is read from the input files 
when I look in the gdalwarp code. The strange thing is now, that 
gdalwarp sometimes reports
ERROR 1: Failed to import coordinate system `'.
on some of the rasters and thus does not write the projection info to 
the output file. When I run gdalinfo on each input file, everything is 
reported correctly.
Has anybody encountered this too and could give me some hints?

Thanks,
Volker

PS:
gdalinfo --version
GDAL 1.4.3.0, released 2007/10/28


From warmerdam at pobox.com  Fri Jun 27 09:44:12 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 27 09:44:36 2008
Subject: [gdal-dev] gdalwarp - source srs definition
In-Reply-To: <48649DA7.6090109@uibk.ac.at>
References: <48649DA7.6090109@uibk.ac.at>
Message-ID: <4864EEAC.9050903@pobox.com>

Volker Wichmann wrote:
..,
> I do not define -s_srs, as I suspect it is read from the input files 
> when I look in the gdalwarp code. The strange thing is now, that 
> gdalwarp sometimes reports
> ERROR 1: Failed to import coordinate system `'.
> on some of the rasters and thus does not write the projection info to 
> the output file. When I run gdalinfo on each input file, everything is 
> reported correctly.
> Has anybody encountered this too and could give me some hints?

Volker,

This sounds like some subtle kind of bug.  If you can isolate one particular
file that demonstrates is it might be appropriate to file a bug on the
problem.  You can just provide the portion of the ascii grid file up to
the start of the raster values.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mike.nidel at lmco.com  Fri Jun 27 10:49:31 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Fri Jun 27 11:20:13 2008
Subject: [gdal-dev] GDAL 1.5+ and MrSID
Message-ID: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D684@emss09m03.us.lmco.com>

Sorry if this is a bit long and jumbled for a first post.

I'm trying to get MrSID read access from Java. I'm starting from the
imageio-ext project (http://imageio-ext.dev.java.net), which at the
moment relies on GDAL 1.4.4. Meanwhile, GDAL 1.4.4 only supports MrSID
SDK 6.0. 

When trying to build GDAL 1.4.4 with MrSID 6.0, I got the following:

> In file included from
> /home/mnidel/Geo_DSDK-6.0.7.1407/include/support/lt_types.h:28,
>                 from mrsiddataset.cpp:50:
> /home/mnidel/Geo_DSDK-6.0.7.1407/include/support/lt_platform.h:181:8:
> #error PLATFORM ERROR: LINUX, but unknown architecture
> /home/mnidel/Geo_DSDK-6.0.7.1407/include/support/lt_platform.h:206:5:
> #error PLATFORM ERROR: unknown architecture
> make[2]: *** [../o/mrsiddataset.o] Error 1
> make[2]: Leaving directory `/home/mnidel/gdal-1.4.4/frmts/mrsid'
> make[1]: *** [mrsid-install-obj] Error 2
> make[1]: Leaving directory `/home/mnidel/gdal-1.4.4/frmts'
> make: *** [frmts-target] Error 2


This is on SuSE Linux on x68_64, it seems like somehow the "i386" define
wasn't happening. We guessed that this might be a problem with 64-bit
not being supported by MrSID 6.0. So I decided to take the leap and
build a newer version of GDAL with MrSID 7.0, then see if I could get
the imageio-ext java libraries to work with the newer GDAL.

I've been following a few of the threads online regarding building GDAL
on MrSID 7.0, and the various issues that have cropped up. It seems like
the latest revisions to get MrSID 7 working with 1.5+ are in the 1.5
branch, but not in any tag (e.g. 1.5.2, the latest 1.5.x I saw). So one
question is, is there any plan to release a 1.5.3 soon, with support for
MrSID 7.0?

But my primary reason for writing was to pass on my experience with
libjpeg.la. I got a compile error when trying to build off the 1.5
branch. It's the same as mentioned here:

http://lists.osgeo.org/pipermail/gdal-dev/2006-May/008975.html

the error:

>/usr/bin/sed: can't read /usr/lib/libjpg.la: No such file or directory
>libtool: link: '/usr/lib/libjpg.la' is not a valid libtool archive
>make[1]: *** [libgdal.la] Error 1

In that thread, the person downloaded libjpeg-devel and installed it to
get the libjpeg.la file. However, I downloaded the latest libjpeg-devel
for SuSE and it didn't contain libjpeg.la. After trying to steal this
file from another distribution and having it not work anyway, I started
to think maybe this was a problem with how libtool was being invoked.

After more Googling, I came upon a mostly-unrelated mention of the
--without-libtool option, so I re-ran

./configure --with-mrsid=/mrsidpath --without-libtool

and at this point, the build finally worked and the errors with
libjpeg.la disappeared.

So my reason for posting is to ask: Has anyone else seen this problem,
and if so has anyone else solved it in this way or in another way? Does
anyone have a theory why the --without-libtool option works? It was a
shot in the dark, so I'm really not sure what could have been wrong with
libtool, although I did notice that libtool is bundled with gdal, but
since /usr/bin/libtool appears first on my path, running "which libtool"
returns /usr/bin/libtool.

I haven't dug into the build deeply enough to know which libtool is
getting called, whether perhaps running make is calling gdal's libtool
explicitly. Maybe the answer is just to change my path...?

Any thoughts? Thanks for your patience with a first-time poster.


Mike
From pgao at esri.com  Fri Jun 27 11:30:39 2008
From: pgao at esri.com (Peng Gao)
Date: Fri Jun 27 11:30:44 2008
Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
In-Reply-To: <DBEC881B4E22D1449F5FAC530E1ADD1201C02C24@sea-srv-ms3.lizardtech.com>
References: <BAY142-W29D666EA9C73383070B57FB2A40@phx.gbl><1214108905.6038.37.camel@edoras><ae9185aa0806220445i1187c2c4q9b3588566d37b7df@mail.gmail.com>
	<A383B271E8D0DF47B51972FCEB438DC707AAEC20@twistedwire.esri.com>
	<DBEC881B4E22D1449F5FAC530E1ADD1201C02C14@sea-srv-ms3.lizardtech.com>
	<A383B271E8D0DF47B51972FCEB438DC707AAF6A8@twistedwire.esri.com>
	<DBEC881B4E22D1449F5FAC530E1ADD1201C02C24@sea-srv-ms3.lizardtech.com>
Message-ID: <A383B271E8D0DF47B51972FCEB438DC707B9FADA@twistedwire.esri.com>

Michael,

I got the error from simply building GDAL using VS2008 with the ECW SDK
that was built
before using VS2003. I'll eventually need to rebuild ECW SDK as three
dlls using
VS2008. I read on ermapper forum, people is getting similar compile
errors when building
ECW SDK using VS2008.

 

> -----Original Message-----
> From: Michael Rosen [mailto:mrosen@lizardtech.com] 
> Sent: Thursday, June 26, 2008 9:35 AM
> To: Peng Gao; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> 
> Hmm... which target is it building?  Which file is compiling? 
>  Can you build NCSEcw_Static?  Here's what we get:
> 
> 
>   C:\Program Files (x86)\Microsoft Visual Studio 
> 9.0\Common7\IDE\..\..\vc\vcpackages\vcbuild.exe
> c:\bob\work\win32-vc9__HEAD\xt_lib_ecw\build\win32-vc9\..\..\s
> rc\libecwj
> 2-3.3\Source\C\NCSEcw\NCSEcw\NCSEcw_Static\NCSEcw_Static-vc9.t
> mp_Release
> _Win32.vcproj "Release|Win32"
> 
> ...
> 
>   Microsoft (R) Visual C++ Project Builder - Command Line Version
> 9.00.21022
>   Copyright (C) Microsoft Corporation. All rights reserved.
>   
>   Build started: Project: NCSEcw_Static, Configuration: Release|Win32
>   Compiling...
> 
>   NCSJPCBuffer.cpp
> ..\..\NCSJP2\NCSJPCBuffer.cpp(530): warning C4244: '*=' : 
> conversion from 'const INT32' to 'INT16', possible loss of data
>   NCSJPC.cpp
> ..\..\NCSJP2\NCSJPC.cpp(195): warning C4244: '=' : conversion 
> from 'UINT32' to 'UINT8', possible loss of data
> ..\..\NCSJP2\NCSJPC.cpp(196): warning C4244: '=' : conversion 
> from 'UINT32' to 'UINT16', possible loss of data
> ..\..\NCSJP2\NCSJPC.cpp(203): warning C4244: '=' : conversion 
> from 'UINT32' to 'UINT16', possible loss of data
>   NCSJP2XMLBox.cpp
> ..\..\NCSJP2\NCSJP2XMLBox.cpp(42): warning C4100: 'Stream' :
> unreferenced formal parameter
> ..\..\NCSJP2\NCSJP2XMLBox.cpp(42): warning C4100: 'JP2File' :
> unreferenced formal parameter
> ..\..\NCSJP2\NCSJP2XMLBox.cpp(53): warning C4189:
> 'pStreamNCSJP2_CHECKIO' : local variable is initialized but 
> not referenced
> ..\..\NCSJP2\NCSJP2XMLBox.cpp(53): warning C4189: 
> 'pErrorNCSJP2_CHECKIO'
> : local variable is initialized but not referenced
>   NCSJP2WorldBox.cpp
> ..\..\NCSJP2\NCSJP2WorldBox.cpp(155): warning C4100: 'JP2File' :
> unreferenced formal parameter
> ..\..\NCSJP2\NCSJP2WorldBox.cpp(207): warning C4189:
> 'pStreamNCSJP2_CHECKIO' : local variable is initialized but 
> not referenced
> ..\..\NCSJP2\NCSJP2WorldBox.cpp(207): warning C4189:
> 'pErrorNCSJP2_CHECKIO' : local variable is initialized but 
> not referenced
>   Generating Code...
>   Compiling...
>   NCSJP2UUIDListBox.cpp
> ..\..\NCSJP2\NCSJP2UUIDListBox.cpp(44): warning C4100: 'JP2File' :
> unreferenced formal parameter
>   NCSJP2UUIDInfoBox.cpp
>   NCSJP2UUIDBox.cpp
> ..\..\NCSJP2\NCSJP2UUIDBox.cpp(47): warning C4100: 'JP2File' :
> unreferenced formal parameter
>   NCSJP2SuperBox.cpp
>   NCSJP2SignatureBox.cpp
> ..\..\NCSJP2\NCSJP2SignatureBox.cpp(51): warning C4100: 'JP2File' :
> unreferenced formal parameter
>   NCSJP2ResolutionBox.cpp
>   NCSJP2PCSBox.cpp
> ..\..\NCSJP2\NCSJP2PCSBox.cpp(184): warning C4100: 'JP2File' :
> unreferenced formal parameter
> ..\..\NCSJP2\NCSJP2PCSBox.cpp(390): warning C4189:
> 'pStreamNCSJP2_CHECKIO' : local variable is initialized but 
> not referenced
> ..\..\NCSJP2\NCSJP2PCSBox.cpp(390): warning C4189:
> 'pErrorNCSJP2_CHECKIO' : local variable is initialized but 
> not referenced
> ..\..\NCSJP2\NCSJP2PCSBox.cpp(581): warning C4244: '=' : 
> conversion from 'int' to 'UINT16', possible loss of data
> ..\..\NCSJP2\NCSJP2PCSBox.cpp(398): warning C4100: 'szFilename' :
> unreferenced formal parameter
> ..\..\NCSJP2\NCSJP2PCSBox.cpp(888): warning C4244: '=' : 
> conversion from 'INT32' to 'UINT16', possible loss of data ...
> 
> -----Original Message-----
> From: Peng Gao [mailto:pgao@esri.com]
> Sent: Tuesday, June 24, 2008 12:18 PM
> To: Michael Rosen; gdal-dev@lists.osgeo.org
> Subject: RE: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> 
> Michael,
> Thanks for the info.
> 
> The following is the compile errors I got when I try to build 
> GDAL with ECW enabled using VS2008. 
> 
> 
> 1>Compiling...
> 1>cl : Command line warning D9035 : option 'Wp64' has been deprecated
> and will be removed in a future release
> 1>jp2userbox.cpp
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 
> 'BOOLEAN' :
> forcing value to bool 'true' or 'false' (performance warning)
> 1>ecwdataset.cpp
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 
> 'BOOLEAN' :
> forcing value to bool 'true' or 'false' (performance warning)
> 1>.\ecwdataset.cpp(730) : warning C4244: 'initializing' : conversion
> from 'double' to 'float', possible loss of data
> 1>ecwcreatecopy.cpp
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(51) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(53) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(55) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(64) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(66) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(68) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(70) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(72) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2059: syntax
> error : '<L_TYPE_raw>'
> 1>c:\gdal\codec\ecw\include\NCSJPCBuffer.h(74) : error C2238: 
> unexpected
> token(s) preceding ';'
> 1>c:\gdal\gdal\frmts\ecw\vsiiostream.h(114) : warning C4800: 
> 'BOOLEAN' :
> forcing value to bool 'true' or 'false' (performance warning)
> 1>.\ecwcreatecopy.cpp(194) : warning C4800: 'int' : forcing value to
> bool 'true' or 'false' (performance warning)
> 1>.\ecwcreatecopy.cpp(406) : warning C4244: 'argument' : 
> conversion from
> 'GIntBig' to 'int', possible loss of data
> 1>.\ecwcreatecopy.cpp(656) : warning C4800: 'int' : forcing value to
> bool 'true' or 'false' (performance warning)
> 1>.\ecwcreatecopy.cpp(691) : warning C4800: 'int' : forcing value to
> bool 'true' or 'false' (performance warning)
> 1>.\ecwcreatecopy.cpp(696) : warning C4800: 'int' : forcing value to
> bool 'true' or 'false' (performance warning)
> 1>Generating Code...
> 1>Build log was saved at
> "file://c:\GDAL\gdal\frmts\ecw\Release\BuildLog.htm"
> 
> 
> > -----Original Message-----
> > From: Michael Rosen [mailto:mrosen@lizardtech.com]
> > Sent: Tuesday, June 24, 2008 11:28 AM
> > To: Peng Gao; gdal-dev@lists.osgeo.org
> > Subject: RE: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> > 
> > We build an older version of gdal with this version of the 
> ecw library
> > under vc9 ( vc 2008).   Specifically, we build NCSEcw_Static.  It's
> > nothing special as far as I can see.  
> > 
> > msr
> > 
> > 
> > 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org 
> > [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peng Gao
> > Sent: Monday, June 23, 2008 12:56 PM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Building GDAL with ECW SDK 3.3 using VC2008
> > 
> > 
> > HI,
> > 
> > I am trying to build GDAL 1.5.2 with ECW SDK 3.3 using VS2008, and 
> > getting some build errors. Have anyone here built GDAL/ECW using 
> > VS2008? There is a thread, "ECW SDK 3.3 occur error C2059 
> with VC2008"
> > (http://forums.ermapper.com/viewtopic.php?p=7194#7194)
> > on ECW SDK forum, discussing the problem. 
> > But there is no solution.
> > 
> 
> 
From hobu.inc at gmail.com  Fri Jun 27 11:32:08 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Jun 27 11:32:13 2008
Subject: [gdal-dev] GDAL 1.5+ and MrSID
In-Reply-To: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D684@emss09m03.us.lmco.com>
References: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D684@emss09m03.us.lmco.com>
Message-ID: <864B7056-4C50-456A-87FA-59F2B9A3A466@gmail.com>


On Jun 27, 2008, at 9:49 AM, Nidel, Mike wrote:
>
> I've been following a few of the threads online regarding building  
> GDAL
> on MrSID 7.0, and the various issues that have cropped up. It seems  
> like
> the latest revisions to get MrSID 7 working with 1.5+ are in the 1.5
> branch, but not in any tag (e.g. 1.5.2, the latest 1.5.x I saw). So  
> one
> question is, is there any plan to release a 1.5.3 soon, with support  
> for
> MrSID 7.0?

Mike,

Just two days ago I compiled MrSID 7.0 on x86_64 against trunk and it  
worked quite well.  Give that combination a try and see if you can  
make any progress.   You'll have to say --with-jp2mrsid=no because the  
7.0 SDK doesn't have JP2 in it.

Howard
From mike.nidel at lmco.com  Fri Jun 27 11:44:04 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Fri Jun 27 12:18:27 2008
Subject: [gdal-dev] GDAL 1.5+ and MrSID
In-Reply-To: <864B7056-4C50-456A-87FA-59F2B9A3A466@gmail.com>
References: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D684@emss09m03.us.lmco.com>
	<864B7056-4C50-456A-87FA-59F2B9A3A466@gmail.com>
Message-ID: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D726@emss09m03.us.lmco.com>

That's a good start. Like I said, it seems to work with 1.5 branch
but I just wasn't sure about the libtool issue. I didn't have to
configure with --with-jp2mrsid=no for some reason, although I did
read about how the JP2 support isn't there anymore in 7.0.

For now, since I have 1.5 working with the imageio-ext library,
I'm going to continue down the path I was on.

I take it the trunk is 1.6? Is there any plan to release an official
version of 1.6 soon?


thanks for the reply,

Mike
 

> -----Original Message-----
> From: Howard Butler [mailto:hobu.inc@gmail.com] 
> Sent: Friday, June 27, 2008 11:32 AM
> To: Nidel, Mike
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] GDAL 1.5+ and MrSID
> 
> 
> On Jun 27, 2008, at 9:49 AM, Nidel, Mike wrote:
> >
> > I've been following a few of the threads online regarding building 
> > GDAL on MrSID 7.0, and the various issues that have cropped up. It 
> > seems like the latest revisions to get MrSID 7 working with 
> 1.5+ are 
> > in the 1.5 branch, but not in any tag (e.g. 1.5.2, the 
> latest 1.5.x I 
> > saw). So one question is, is there any plan to release a 
> 1.5.3 soon, 
> > with support for MrSID 7.0?
> 
> Mike,
> 
> Just two days ago I compiled MrSID 7.0 on x86_64 against 
> trunk and it worked quite well.  Give that combination a try 
> and see if you can  
> make any progress.   You'll have to say --with-jp2mrsid=no 
> because the  
> 7.0 SDK doesn't have JP2 in it.
> 
> Howard
> 
From hobu.inc at gmail.com  Fri Jun 27 12:38:05 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Jun 27 12:38:10 2008
Subject: [gdal-dev] GDAL 1.5+ and MrSID
In-Reply-To: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D726@emss09m03.us.lmco.com>
References: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D684@emss09m03.us.lmco.com>
	<864B7056-4C50-456A-87FA-59F2B9A3A466@gmail.com>
	<4AED24BD6C1AA742B80AFBB823D0655A0EC6D726@emss09m03.us.lmco.com>
Message-ID: <6981FFBA-E586-4E7C-905E-0A4C60643409@gmail.com>

Actually, I misspoke about no JP2 in 7.0.  It's there, but it changed  
quite significantly and GDAL maybe hasn't been updated to use it quite  
yet.

http://trac.osgeo.org/gdal/ticket/2410

I think the plan is for 1.6 to be released sometime this fall, but we  
haven't started the planning process for 1.6 yet.  Frank could comment  
on what his expectations are for 1.6...

Howard

On Jun 27, 2008, at 10:44 AM, Nidel, Mike wrote:

> That's a good start. Like I said, it seems to work with 1.5 branch
> but I just wasn't sure about the libtool issue. I didn't have to
> configure with --with-jp2mrsid=no for some reason, although I did
> read about how the JP2 support isn't there anymore in 7.0.
>
> For now, since I have 1.5 working with the imageio-ext library,
> I'm going to continue down the path I was on.
>
> I take it the trunk is 1.6? Is there any plan to release an official
> version of 1.6 soon?
>
>
> thanks for the reply,
>
> Mike
>
>
>> -----Original Message-----
>> From: Howard Butler [mailto:hobu.inc@gmail.com]
>> Sent: Friday, June 27, 2008 11:32 AM
>> To: Nidel, Mike
>> Cc: gdal-dev@lists.osgeo.org
>> Subject: Re: [gdal-dev] GDAL 1.5+ and MrSID
>>
>>
>> On Jun 27, 2008, at 9:49 AM, Nidel, Mike wrote:
>>>
>>> I've been following a few of the threads online regarding building
>>> GDAL on MrSID 7.0, and the various issues that have cropped up. It
>>> seems like the latest revisions to get MrSID 7 working with
>> 1.5+ are
>>> in the 1.5 branch, but not in any tag (e.g. 1.5.2, the
>> latest 1.5.x I
>>> saw). So one question is, is there any plan to release a
>> 1.5.3 soon,
>>> with support for MrSID 7.0?
>>
>> Mike,
>>
>> Just two days ago I compiled MrSID 7.0 on x86_64 against
>> trunk and it worked quite well.  Give that combination a try
>> and see if you can
>> make any progress.   You'll have to say --with-jp2mrsid=no
>> because the
>> 7.0 SDK doesn't have JP2 in it.
>>
>> Howard
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mike.nidel at lmco.com  Fri Jun 27 12:39:51 2008
From: mike.nidel at lmco.com (Nidel, Mike)
Date: Fri Jun 27 12:40:12 2008
Subject: [gdal-dev] GDAL 1.5+ and MrSID
In-Reply-To: <6981FFBA-E586-4E7C-905E-0A4C60643409@gmail.com>
References: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D684@emss09m03.us.lmco.com>
	<864B7056-4C50-456A-87FA-59F2B9A3A466@gmail.com>
	<4AED24BD6C1AA742B80AFBB823D0655A0EC6D726@emss09m03.us.lmco.com>
	<6981FFBA-E586-4E7C-905E-0A4C60643409@gmail.com>
Message-ID: <4AED24BD6C1AA742B80AFBB823D0655A0EC6D7DA@emss09m03.us.lmco.com>

Yep, I'm familiar with that ticket.

So if 1.6 isn't going to be out yet for a few months,
would it be possible to tag a 1.5.3 that we know works
with MrSID 7.0? That would make my life easier...
 

> -----Original Message-----
> From: Howard Butler [mailto:hobu.inc@gmail.com] 
> Sent: Friday, June 27, 2008 12:38 PM
> To: Nidel, Mike
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] GDAL 1.5+ and MrSID
> 
> Actually, I misspoke about no JP2 in 7.0.  It's there, but it 
> changed quite significantly and GDAL maybe hasn't been 
> updated to use it quite yet.
> 
> http://trac.osgeo.org/gdal/ticket/2410
> 
> I think the plan is for 1.6 to be released sometime this 
> fall, but we haven't started the planning process for 1.6 
> yet.  Frank could comment on what his expectations are for 1.6...
> 
> Howard
> 
> On Jun 27, 2008, at 10:44 AM, Nidel, Mike wrote:
> 
> > That's a good start. Like I said, it seems to work with 1.5 
> branch but 
> > I just wasn't sure about the libtool issue. I didn't have 
> to configure 
> > with --with-jp2mrsid=no for some reason, although I did 
> read about how 
> > the JP2 support isn't there anymore in 7.0.
> >
> > For now, since I have 1.5 working with the imageio-ext library, I'm 
> > going to continue down the path I was on.
> >
> > I take it the trunk is 1.6? Is there any plan to release an 
> official 
> > version of 1.6 soon?
> >
> >
> > thanks for the reply,
> >
> > Mike
> >
> >
> >> -----Original Message-----
> >> From: Howard Butler [mailto:hobu.inc@gmail.com]
> >> Sent: Friday, June 27, 2008 11:32 AM
> >> To: Nidel, Mike
> >> Cc: gdal-dev@lists.osgeo.org
> >> Subject: Re: [gdal-dev] GDAL 1.5+ and MrSID
> >>
> >>
> >> On Jun 27, 2008, at 9:49 AM, Nidel, Mike wrote:
> >>>
> >>> I've been following a few of the threads online regarding 
> building 
> >>> GDAL on MrSID 7.0, and the various issues that have 
> cropped up. It 
> >>> seems like the latest revisions to get MrSID 7 working with
> >> 1.5+ are
> >>> in the 1.5 branch, but not in any tag (e.g. 1.5.2, the
> >> latest 1.5.x I
> >>> saw). So one question is, is there any plan to release a
> >> 1.5.3 soon,
> >>> with support for MrSID 7.0?
> >>
> >> Mike,
> >>
> >> Just two days ago I compiled MrSID 7.0 on x86_64 against 
> trunk and it 
> >> worked quite well.  Give that combination a try and see if you can
> >> make any progress.   You'll have to say --with-jp2mrsid=no
> >> because the
> >> 7.0 SDK doesn't have JP2 in it.
> >>
> >> Howard
> >>
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From robert.chansky at l-3com.com  Fri Jun 27 16:38:53 2008
From: robert.chansky at l-3com.com (robert.chansky@l-3com.com)
Date: Fri Jun 27 15:39:38 2008
Subject: [gdal-dev] GDALRasterBand into GdkPixmap / GdkPixbuf?
Message-ID: <48654FDD.9060202@L-3Com.com>

Hello,

I'm new to the list and have been immersed in GDAL for the last few 
days. I have some avenues of attack for my problem, but wanted to run it 
past the experts.

What I'm trying to do: Integrate GDAL's extensive format library with a 
large simulation (JSAF) used by the Navy. They want to have charts/maps 
displayed on the tactical map. I want to convert map files (my sample 
data is in CADRG format, but with GDAL that shouldn't matter) into 
GdkPixmaps (I suppose GdkPixbufs is what it would really use) to tile 
onto the display.

Restrictions: Our display system is GTK-2.0. It's all C/C++, so I can't 
bring Python in.


I've gotten a bit lost in the code. I can see other implementations, but 
they require Qt or OpenGL. Is there a simple implementation in straight 
GTK that I can grab?

I'd really appreciate it.
Rob Chansky

From Volker.Wichmann at uibk.ac.at  Fri Jun 27 15:46:04 2008
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Fri Jun 27 15:47:38 2008
Subject: [gdal-dev] gdalwarp - source srs definition
In-Reply-To: <4864EEAC.9050903@pobox.com>
References: <48649DA7.6090109@uibk.ac.at> <4864EEAC.9050903@pobox.com>
Message-ID: <4865437C.4030900@uibk.ac.at>

Frank Warmerdam wrote:
> Volker Wichmann wrote:
> ..,
>> I do not define -s_srs, as I suspect it is read from the input files 
>> when I look in the gdalwarp code. The strange thing is now, that 
>> gdalwarp sometimes reports
>> ERROR 1: Failed to import coordinate system `'.
>> on some of the rasters and thus does not write the projection info to 
>> the output file. When I run gdalinfo on each input file, everything 
>> is reported correctly.
>> Has anybody encountered this too and could give me some hints?
>
> Volker,
>
> This sounds like some subtle kind of bug.  If you can isolate one 
> particular
> file that demonstrates is it might be appropriate to file a bug on the
> problem.  You can just provide the portion of the ascii grid file up to
> the start of the raster values.
Frank,

while building a test case for a bug report I was working on a machine 
where GDAL 1.5.1 is installed - and encountered no problems. The problem 
seems to be solved in this version, although I'm not sure about what 
makes the difference when looking at the changes history since GDAL 1.4.3.0.
Trying the test case again with GDAL 1.4.3.0 reproduces the error.
I'm not sure if it's appropriate to file a bug report?

Anyway, we're planning to upgrade all our GDAL versions soon. Doing so 
would be really facilitated if there would be some 'make dist clean' 
available for GDAL - so this is somewhat a feature request ;-)  
Or is it save to just remove the old sources and build the new ones?

Thanks,
Volker





From warmerdam at pobox.com  Fri Jun 27 16:01:36 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Jun 27 16:02:01 2008
Subject: [gdal-dev] gdalwarp - source srs definition
In-Reply-To: <4865437C.4030900@uibk.ac.at>
References: <48649DA7.6090109@uibk.ac.at> <4864EEAC.9050903@pobox.com>
	<4865437C.4030900@uibk.ac.at>
Message-ID: <48654720.40509@pobox.com>

Volker Wichmann wrote:
> Frank,
> 
> while building a test case for a bug report I was working on a machine 
> where GDAL 1.5.1 is installed - and encountered no problems. The problem 
> seems to be solved in this version, although I'm not sure about what 
> makes the difference when looking at the changes history since GDAL 
> 1.4.3.0.
> Trying the test case again with GDAL 1.4.3.0 reproduces the error.
> I'm not sure if it's appropriate to file a bug report?

Volker,

No, there is little point filing a ticket if you can't reproduce the
problem with the current code.  It was quite possibly fixed, perhaps
as a side effect of some other fix or change.

> Anyway, we're planning to upgrade all our GDAL versions soon. Doing so 
> would be really facilitated if there would be some 'make dist clean' 
> available for GDAL - so this is somewhat a feature request ;-)  Or is it 
> save to just remove the old sources and build the new ones?

I thought you were going to request "make uninstall".  I'm not sure what
you think "make dist clean" would do.  There is already a clean target.

Generally speaking upgrading can be accomplished by pulling down a new source
tree, building and installing it over the old installed tree.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Volker.Wichmann at uibk.ac.at  Fri Jun 27 16:05:43 2008
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Fri Jun 27 16:07:11 2008
Subject: [gdal-dev] gdalwarp - source srs definition
In-Reply-To: <48654720.40509@pobox.com>
References: <48649DA7.6090109@uibk.ac.at> <4864EEAC.9050903@pobox.com>
	<4865437C.4030900@uibk.ac.at> <48654720.40509@pobox.com>
Message-ID: <48654817.2010608@uibk.ac.at>

Frank Warmerdam wrote:
> Generally speaking upgrading can be accomplished by pulling down a new 
> source
> tree, building and installing it over the old installed tree.
Frank,

thanks for that information, seems I was a little bit overcautious up to 
now ...

Volker

From edward.hyer.ctr at nrlmry.navy.mil  Fri Jun 27 20:34:26 2008
From: edward.hyer.ctr at nrlmry.navy.mil (Hyer, Dr. Edward (Post Doc))
Date: Fri Jun 27 20:34:28 2008
Subject: [gdal-dev] XY Point extraction from raster
Message-ID: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>

I have been very pleased with the way I can use 'gdaltransform' to wrap
a long set of operations into a single-line command. I am trying to
extract point data from an HDF file, and with:

gdaltransform -i -t_srs EPSG:4326 HDF_FILE.hdf < points_dd.txt >
points_xy.txt

I can feed it a set of XY geographic locations, and it will spit out
corresponding image coordinates.

Now, how can I actually pull the data, just for those specific
coordinates?

I use PDL in Perl for numerics, but this seems like something I should
be able to do with the command-line utilities.

Thanks for any tips/tricks,

--Edward H.

Dr. Edward J. Hyer
Post-Doctoral Researcher
Naval Research Laboratory
Marine Meteorology Division
7 Grace Hopper Avenue, Stop 2
Monterey, California 93940
831-656-4023
FAX 831-656-4769
edward.hyer@nrlmry.navy.mil
From jrepetto at free.fr  Sat Jun 28 08:26:08 2008
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Sat Jun 28 08:28:26 2008
Subject: [gdal-dev] GUI for gdalwarp ?
In-Reply-To: <200806262004.30960.oliver.eichler@gmx.de>
References: <48639119.20302@free.fr>	<86782b610806260712n71175bfbl19fbed604a0e2d50@mail.gmail.com>	<4863BC50.4040507@free.fr>
	<200806262004.30960.oliver.eichler@gmx.de>
Message-ID: <48662DE0.80304@free.fr>

Oliver Eichler wrote :

> you might consider QLandkarte GT, too. (www.qlandkarte.org) It's it's less 
> scientific like QGis, but somehow esier to use. And, yes I can add that -tr 
> parameter if you need it ;)
> 

Oliver,

Thanks for your message. Your software works well to add GCPs. Then I 
can use directly gdalwarp with the parameters I need.

Regards,
Jean-Claude
From dylan.beaudette at gmail.com  Sat Jun 28 13:27:13 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Sat Jun 28 13:27:15 2008
Subject: [gdal-dev] XY Point extraction from raster
In-Reply-To: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
Message-ID: <3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>

Hi,

I use a tool called 'Starspan' for these type of operations: it is
command line, and works with any GDAL-compatible raster/vector format.

http://starspan.casil.ucdavis.edu/doku/doku.php

Cheers,

Dylan

On Fri, Jun 27, 2008 at 5:34 PM, Hyer, Dr. Edward (Post Doc)
<edward.hyer.ctr@nrlmry.navy.mil> wrote:
> I have been very pleased with the way I can use 'gdaltransform' to wrap
> a long set of operations into a single-line command. I am trying to
> extract point data from an HDF file, and with:
>
> gdaltransform -i -t_srs EPSG:4326 HDF_FILE.hdf < points_dd.txt >
> points_xy.txt
>
> I can feed it a set of XY geographic locations, and it will spit out
> corresponding image coordinates.
>
> Now, how can I actually pull the data, just for those specific
> coordinates?
>
> I use PDL in Perl for numerics, but this seems like something I should
> be able to do with the command-line utilities.
>
> Thanks for any tips/tricks,
>
> --Edward H.
>
> Dr. Edward J. Hyer
> Post-Doctoral Researcher
> Naval Research Laboratory
> Marine Meteorology Division
> 7 Grace Hopper Avenue, Stop 2
> Monterey, California 93940
> 831-656-4023
> FAX 831-656-4769
> edward.hyer@nrlmry.navy.mil
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From bthoen at gisnet.com  Sat Jun 28 17:11:55 2008
From: bthoen at gisnet.com (Bill Thoen)
Date: Sat Jun 28 16:58:00 2008
Subject: [gdal-dev] E00 Translation tools - Hard to Find
Message-ID: <4866A91B.3000607@gisnet.com>

I've just spent about an hour searching for an E00 translator that would 
run in Linux via a command line, but I didn't find anything. There's one 
that converts to AVE code, and there source code for one called "Little 
Shape Conversion" at http://sourceforge.net/projects/shapetools that's 
missing its libshp source code directory, and there's lots of broken links.

I've got a large collection off ASCII E00 files that I want to convert 
to MapInfo TAB.  Apparently ogr2ogr doesn't do this,but is there 
something in Linux land that does?  I can use  MUT that comes with 
MapInfo (which I'm doing since this is a rush job), but I'd like a unix 
solution too. Is there any such tool out there, or do I have to build my 
own?

Thanks,
- Bill Thoen

From warmerdam at pobox.com  Sat Jun 28 17:35:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Jun 28 17:35:59 2008
Subject: [gdal-dev] E00 Translation tools - Hard to Find
In-Reply-To: <4866A91B.3000607@gisnet.com>
References: <4866A91B.3000607@gisnet.com>
Message-ID: <4866AEA1.50408@pobox.com>

Bill Thoen wrote:
> I've just spent about an hour searching for an E00 translator that would 
> run in Linux via a command line, but I didn't find anything. There's one 
> that converts to AVE code, and there source code for one called "Little 
> Shape Conversion" at http://sourceforge.net/projects/shapetools that's 
> missing its libshp source code directory, and there's lots of broken links.
> 
> I've got a large collection off ASCII E00 files that I want to convert 
> to MapInfo TAB.  Apparently ogr2ogr doesn't do this,but is there 
> something in Linux land that does?  I can use  MUT that comes with 
> MapInfo (which I'm doing since this is a rush job), but I'd like a unix 
> solution too. Is there any such tool out there, or do I have to build my 
> own?

Bill,

I'm not sure why you think ogr2ogr doesn't do this.  I have had problems
with the OGR E00 polygon assembly.  If that is the issue, it is helpful
to use the avcimport tool to convert the e00 files to binary coverages
first, and then use ogr2ogr from that.

   http://avce00.maptools.org/

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Sat Jun 28 18:24:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Jun 28 18:24:41 2008
Subject: [gdal-dev] E00 Translation tools - Hard to Find
In-Reply-To: <4866B872.4080908@gisnet.com>
References: <4866A91B.3000607@gisnet.com> <4866AEA1.50408@pobox.com>
	<4866B872.4080908@gisnet.com>
Message-ID: <4866BA0D.40402@pobox.com>

Bill Thoen wrote:
> Frank Warmerdam wrote:
>>
>> I'm not sure why you think ogr2ogr doesn't do this.  I have had problems
> 
> Actually, I don't see ArcINFO Export  (.e00)  listed as one of the 
> supported formats at http://www.gdal.org/ogr/ogr_formats.html. Is this 
> list not up-to-date, or am I just not recognizing it?
> 
> Also, I'm using GDAL 1.5.2, which I think is the latest, and when I run 
> ogrinfo --formats, I don't see e00 listed there either. I do see AVCBin, 
> but if I could skip a translation step that would be better.

Bill,

The AVCBin driver actually supported E00 files too for a while, but apparently
this was not documented anywhere.  I have made the E00 driver a distinct driver
and added documentation this evening to clarify things.

Thanks for pointing out this inconsistency.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ari.jolma at tkk.fi  Sun Jun 29 07:05:01 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sun Jun 29 07:13:05 2008
Subject: [gdal-dev] XY Point extraction from raster
In-Reply-To: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
Message-ID: <48676C5D.2000609@tkk.fi>

Hyer, Dr. Edward (Post Doc) kirjoitti:
> I have been very pleased with the way I can use 'gdaltransform' to wrap
> a long set of operations into a single-line command. I am trying to
> extract point data from an HDF file, and with:
>
> gdaltransform -i -t_srs EPSG:4326 HDF_FILE.hdf < points_dd.txt >
> points_xy.txt
>
> I can feed it a set of XY geographic locations, and it will spit out
> corresponding image coordinates.
>
> Now, how can I actually pull the data, just for those specific
> coordinates?
>
> I use PDL in Perl for numerics, but this seems like something I should
> be able to do with the command-line utilities.
>   

If you have working Perl wrappers, it should be easy once you have the 
band object:

$data = $band->ReadTile($x, $y, 1, 1);
$pixel = $data->[0][0];

If the HDF file is not too big and you have lots of pixels, then perhaps

$data = $band->ReadTile;
$pixel = $data->[$x][$y];

is faster. ReadTile appeared in GDAL 1.5.

I also use PDL sometimes (mostly because of PDL::NetCDF), but did not 
have the need to pull in data from rasters directly to PDL. If there's 
interest, we could perhaps write a PDL::GDAL module.

Ari

> Thanks for any tips/tricks,
>
> --Edward H.
>
> Dr. Edward J. Hyer
> Post-Doctoral Researcher
> Naval Research Laboratory
> Marine Meteorology Division
> 7 Grace Hopper Avenue, Stop 2
> Monterey, California 93940
> 831-656-4023
> FAX 831-656-4769
> edward.hyer@nrlmry.navy.mil
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   


-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From simboss1 at gmail.com  Mon Jun 30 05:10:40 2008
From: simboss1 at gmail.com (Simone Giannecchini)
Date: Mon Jun 30 05:10:42 2008
Subject: [gdal-dev] Tiling and erdas imagine forma
Message-ID: <961f4d9e0806300210x2b493c54s4ce75080bcbec388@mail.gmail.com>

HI list,
I have a quick question, is there a way to convert a striped HFA file
(W*1 large tiles) to a tiled HFA file (let's say 256*256 tile
dimensions)?
I have been using gdal_translate for doing such a thing for geotiff
files, but while I kind of remember that HFA files should support
tiling, I see no option to control it from the driver page.

Thanks,
Simone.

-- 
-------------------------------------------------------
Eng. Simone Giannecchini
President /CEO GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 333 8128928


http://www.geo-solutions.it

-------------------------------------------------------
From dany.geotools at gmail.com  Mon Jun 30 05:15:07 2008
From: dany.geotools at gmail.com (Daniele Romagnoli)
Date: Mon Jun 30 05:15:10 2008
Subject: [gdal-dev] Tiling and erdas imagine forma
In-Reply-To: <961f4d9e0806300210x2b493c54s4ce75080bcbec388@mail.gmail.com>
References: <961f4d9e0806300210x2b493c54s4ce75080bcbec388@mail.gmail.com>
Message-ID: <7221db410806300215u1fdf8c77meecd18168ef38d8e@mail.gmail.com>

Hi Simone,
using the "gdalinfo --format HFA" command, I see the BLOCKSIZE create option
in the list.
Try with that option.

Cheers,
Daniele



On Mon, Jun 30, 2008 at 11:10 AM, Simone Giannecchini <simboss1@gmail.com>
wrote:

> HI list,
> I have a quick question, is there a way to convert a striped HFA file
> (W*1 large tiles) to a tiled HFA file (let's say 256*256 tile
> dimensions)?
> I have been using gdal_translate for doing such a thing for geotiff
> files, but while I kind of remember that HFA files should support
> tiling, I see no option to control it from the driver page.
>
> Thanks,
> Simone.
>
> --
> -------------------------------------------------------
> Eng. Simone Giannecchini
> President /CEO GeoSolutions S.A.S.
> Via Carignoni 51
> 55041 Camaiore (LU)
> Italy
>
> phone: +39 0584983027
> fax: +39 0584983027
> mob: +39 333 8128928
>
>
> http://www.geo-solutions.it
>
> -------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080630/d75319a4/attachment.html
From simboss1 at gmail.com  Mon Jun 30 06:00:34 2008
From: simboss1 at gmail.com (Simone Giannecchini)
Date: Mon Jun 30 06:00:37 2008
Subject: [gdal-dev] Tiling and erdas imagine forma
In-Reply-To: <7221db410806300215u1fdf8c77meecd18168ef38d8e@mail.gmail.com>
References: <961f4d9e0806300210x2b493c54s4ce75080bcbec388@mail.gmail.com>
	<7221db410806300215u1fdf8c77meecd18168ef38d8e@mail.gmail.com>
Message-ID: <961f4d9e0806300300n48030244qb0ee118a60d8eeb6@mail.gmail.com>

Thanks daniele,
I should have you asked before posting :-).


Simone.

On Mon, Jun 30, 2008 at 11:15 AM, Daniele Romagnoli
<dany.geotools@gmail.com> wrote:
> Hi Simone,
> using the "gdalinfo --format HFA" command, I see the BLOCKSIZE create option
> in the list.
> Try with that option.
>
> Cheers,
> Daniele
>
>
>
> On Mon, Jun 30, 2008 at 11:10 AM, Simone Giannecchini <simboss1@gmail.com>
> wrote:
>>
>> HI list,
>> I have a quick question, is there a way to convert a striped HFA file
>> (W*1 large tiles) to a tiled HFA file (let's say 256*256 tile
>> dimensions)?
>> I have been using gdal_translate for doing such a thing for geotiff
>> files, but while I kind of remember that HFA files should support
>> tiling, I see no option to control it from the driver page.
>>
>> Thanks,
>> Simone.
>>
>> --
>> -------------------------------------------------------
>> Eng. Simone Giannecchini
>> President /CEO GeoSolutions S.A.S.
>> Via Carignoni 51
>> 55041 Camaiore (LU)
>> Italy
>>
>> phone: +39 0584983027
>> fax: +39 0584983027
>> mob: +39 333 8128928
>>
>>
>> http://www.geo-solutions.it
>>
>> -------------------------------------------------------
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
> -------------------------------------------------------
> Eng. Daniele Romagnoli
> Software Engineer
>
> GeoSolutions S.A.S.
> Via Carignoni 51
> 55041 Camaiore (LU)
> Italy
>
> phone: +39 0584983027
> fax: +39 0584983027
> mob: +39 328 0559267
>
>
> http://www.geo-solutions.it
>
> -------------------------------------------------------
>



-- 
-------------------------------------------------------
Eng. Simone Giannecchini
President /CEO GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 333 8128928


http://www.geo-solutions.it

-------------------------------------------------------
From neteler at osgeo.org  Mon Jun 30 08:40:26 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Mon Jun 30 08:40:29 2008
Subject: [gdal-dev] Attempt to read past EOF ... dtm000082/../info/arc.dir
Message-ID: <86782b610806300540q4e47201by84b565c11f0ecb07@mail.gmail.com>

Hi,

I have received a set of (official governmental) DTM files which all
report subsequent errors:

gdalinfo /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082
ERROR 3: Attempt to read past EOF in
/home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/../info/arc.dir.
ERROR 4: Failed to open table dtm000082.VAT
Driver: AIG/Arc/Info Binary Grid
Files: /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082
       /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/log
       /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/w001001.adf
       /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/dblbnd.adf
       /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/w001001x.adf
       /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/sta.adf
       /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/hdr.adf
Size is 2000, 2000
Coordinate System is `'
Origin = (666000.000000000000000,5148000.000000000000000)
Pixel Size = (1.000000000000000,-1.000000000000000)
Corner Coordinates:
Upper Left  (  666000.000, 5148000.000)
Lower Left  (  666000.000, 5146000.000)
Upper Right (  668000.000, 5148000.000)
Lower Right (  668000.000, 5146000.000)
Center      (  667000.000, 5147000.000)
Band 1 Block=500x4 Type=Float32, ColorInterp=Undefined
  Min=1046.885 Max=1489.255
  NoData Value=-3.4028234663852886e+38

ls /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082
dblbnd.adf  hdr.adf  log  sta.adf  w001001.adf  w001001x.adf

GDAL is luckily able to extract the data anyway but it doesn't look well.
My question is if this could be a GDAL problem or rather a broken
data set (I have 1750 of them). Before notifying them I want  to be sure
that GDAL operates ok.

thanks,
Markus
From jonathan at jonathanwagner.net  Mon Jun 30 08:49:26 2008
From: jonathan at jonathanwagner.net (Jonathan Wagner)
Date: Mon Jun 30 08:49:30 2008
Subject: [gdal-dev] Attempt to read past EOF ... dtm000082/../info/arc.dir
In-Reply-To: <86782b610806300540q4e47201by84b565c11f0ecb07@mail.gmail.com>
References: <86782b610806300540q4e47201by84b565c11f0ecb07@mail.gmail.com>
Message-ID: <bb0041f9636806827a0025eb6364b109@jonathanwagner.net>


I'm seeing the same issue with some SRTM iles from ESRI and would be
curious to know the consequences as well.  Using gdal 1.5.1

Jonathan Wagner

On Mon, 30 Jun 2008 14:40:26 +0200, "Markus Neteler" <neteler@osgeo.org>
wrote:
> Hi,
> 
> I have received a set of (official governmental) DTM files which all
> report subsequent errors:
> 
> gdalinfo /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082
> ERROR 3: Attempt to read past EOF in
> /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/../info/arc.dir.
> ERROR 4: Failed to open table dtm000082.VAT
> Driver: AIG/Arc/Info Binary Grid
> Files: /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082
>        /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/log
>       
/home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/w001001.adf
>        /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/dblbnd.adf
>       
> /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/w001001x.adf
>        /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/sta.adf
>        /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082/hdr.adf
> Size is 2000, 2000
> Coordinate System is `'
> Origin = (666000.000000000000000,5148000.000000000000000)
> Pixel Size = (1.000000000000000,-1.000000000000000)
> Corner Coordinates:
> Upper Left  (  666000.000, 5148000.000)
> Lower Left  (  666000.000, 5146000.000)
> Upper Right (  668000.000, 5148000.000)
> Lower Right (  668000.000, 5146000.000)
> Center      (  667000.000, 5147000.000)
> Band 1 Block=500x4 Type=Float32, ColorInterp=Undefined
>   Min=1046.885 Max=1489.255
>   NoData Value=-3.4028234663852886e+38
> 
> ls /home/neteler/data/DTM_wgs84_orto_grd/B_1mX1m/dtm000082
> dblbnd.adf  hdr.adf  log  sta.adf  w001001.adf  w001001x.adf
> 
> GDAL is luckily able to extract the data anyway but it doesn't look well.
> My question is if this could be a GDAL problem or rather a broken
> data set (I have 1750 of them). Before notifying them I want  to be sure
> that GDAL operates ok.
> 
> thanks,
> Markus
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Jun 30 09:47:46 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 30 09:48:54 2008
Subject: [gdal-dev] Attempt to read past EOF ... dtm000082/../info/arc.dir
In-Reply-To: <86782b610806300540q4e47201by84b565c11f0ecb07@mail.gmail.com>
References: <86782b610806300540q4e47201by84b565c11f0ecb07@mail.gmail.com>
Message-ID: <4868E402.9030506@pobox.com>

Markus Neteler wrote:
> Hi,
> 
> I have received a set of (official governmental) DTM files which all
...

  able to extract the data anyway but it doesn't look well.
> My question is if this could be a GDAL problem or rather a broken
> data set (I have 1750 of them). Before notifying them I want  to be sure
> that GDAL operates ok.

Markus,

I would encourage you to file a ticket with a reference dataset.  It could
easily be a GDAL problem rather than a data problem.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From craig.leat at gmail.com  Mon Jun 30 11:07:18 2008
From: craig.leat at gmail.com (Craig Leat)
Date: Mon Jun 30 11:07:21 2008
Subject: [gdal-dev] Error building 1.5.2 on Ubuntu Gutsy
Message-ID: <1fef7d9b0806300807ma0a6b26p4f4f58a20bf0a34d@mail.gmail.com>

Hi

I grabbed gdal 1.5.2 via svn and configured as follows:
./configure --enable-shared=yes --with-gnu-ld=yes --with-libz=internal
--with-grass=no --with-png=internal --with-libtiff=internal
--with-geotiff=internal --with-jpeg=internal --with-gif=internal
--with-ecw=no --with-mrsid=/usr/local/bin/Geo_DSDK-6.0.7.1407
--with-curl=/usr/bin/curl-config --with-python

Configure seems happy, but make throws the following errors:
libtool: compile:  gcc -c -I../../port -g -O2 -Wall
-Wdeclaration-after-statement -DOGR_ENABLED -D_REENTRANT
-I/usr/local/src/gdal-1.5.2/port -DZIP_SUPPORT -DPIXARLOG_SUPPORT
-I../../zlib -DJPEG_SUPPORT -DOJPEG_SUPPORT -I../../jpeg/libjpeg
tif_fax3.c  -fPIC -DPIC -o ../../o/.libs/tif_fax3.o
tif_fax3.c: In function 'Fax3DecodeRLE':
tif_fax3.c:1531: internal compiler error: Segmentation fault
Please submit a full bug report,
with preprocessed source if appropriate.
See <URL:http://gcc.gnu.org/bugs.html> for instructions.
For Debian GNU/Linux specific bug reporting instructions,
see <URL:file:///usr/share/doc/gcc-4.1/README.Bugs>.
Preprocessed source stored into /tmp/ccUuLtJG.out file, please attach
this to your bugreport.
make[3]: *** [../../o/tif_fax3.o] Error 1
make[3]: Leaving directory `/usr/local/src/gdal-1.5.2/frmts/gtiff/libtiff'
make[2]: *** [lib-tiff] Error 2
make[2]: Leaving directory `/usr/local/src/gdal-1.5.2/frmts/gtiff'
make[1]: *** [gtiff-install-obj] Error 2
make[1]: Leaving directory `/usr/local/src/gdal-1.5.2/frmts'
make: *** [frmts-target] Error 2

Any pointers on what I am doing wrong?

Thanks

Craig

My system:
Ubuntu Gutsy
gdal 1.5.2
gcc 4.1.3
From wendell at enflight.com  Mon Jun 30 11:04:22 2008
From: wendell at enflight.com (Wendell Turner)
Date: Mon Jun 30 11:12:17 2008
Subject: [gdal-dev] gdalwarp and 900913
Message-ID: <20080630150422.GA15302@q.rho.net>

Does the gdalwarp distributed in FWtools 2.0.6 know about
epsg:900913 (Google Maps Global Mercator)?  It doesn't seem
to like this:
  ./gdalwarp mymap.tif -t_srs "+init=epsg:900913"

900913 is not in gcs.csv, but it is in cubewerx_extra.wkt in
that same directory.  Can the definition be merged in to
gcs.csv, or can the parameters in that definition be used as
t_srs arguments?  This doesn't work either:

  ./gdalwarp  mymap.tif -t_srs "+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs" > flailing_around.tif

Or do I need to compile gdalwarp from sources to get this
definition?

Thanks,

Wendell

From Konstantin.Baumann at hpi.uni-potsdam.de  Mon Jun 30 11:19:08 2008
From: Konstantin.Baumann at hpi.uni-potsdam.de (Baumann, Konstantin)
Date: Mon Jun 30 11:18:47 2008
Subject: [gdal-dev] GDAL & WMS
In-Reply-To: <4862C448.4050207@xpam.de>
References: <5AC0F51A926CD442BC08D55DA7DAB1D40B5DFC64@3mxma1r.hpi.uni-potsdam.de>
	<4862C448.4050207@xpam.de>
Message-ID: <5AC0F51A926CD442BC08D55DA7DAB1D40BBDEDCA@3mxma1r.hpi.uni-potsdam.de>

> -----Original Message-----
> From: Adam Nowacki [mailto:nowak@xpam.de] 
> Sent: Thursday, June 26, 2008 12:19 AM
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] GDAL & WMS
> 
> Baumann, Konstantin wrote:
> >    1. I would like to use the GDAL WMS driver. But without doing a
> >       GetCapabilities request out of the box and with the need of
> >       creating a special XML file for each server, the 
> driver seems to
> >       be a little bit useless to me (from an end user's 
> point of view).
> >       Is there somewhere the GetCapabilities-script mentioned here:
> >       http://trac.osgeo.org/gdal/wiki/SoCWMSDriver? Where 
> do I get the
> >       needed <SizeX> and <SizeY> values from? The GetCapabilities
> >       request of a WMS does not return these values...
> 
> Exactly, GetCapabilities doesnt provide all the required 
> values and they are quite hard to guess without human help. 
> Set SizeX and SizeY based on expected data resolution.

That is not very satisfactory but there seems to be really no way to get
to this information via the standarized WMS interface... :-((

> >    2. I have tried to use the first WMS-XML-file from here:
> >       http://www.gdal.org/frmt_wms.html, to access a WMS 
> server; however
> >       the GDALOpen()-call fails (returns NULL). The WMS driver is
> >       available (verified with "gdalinfo --formats"). Are there any
> >       requirements to the filename used for the XML filename (I used
> >       "D:\wms-test.xml" and inside of my C++-code 
> "D:\\wms-test.xml")?
> 
> Run gdalinfo D:\wms-test.xml, if it works its a problem with 
> your code (are you calling GDALAllRegister, linking with the 
> correct gdal dll, etc). If it doesnt it should at least print 
> some error messages ...

Problem solved: the subdir for the spatial reference system infos was
not found... :-(
From klokan at klokan.cz  Mon Jun 30 12:12:42 2008
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Mon Jun 30 12:12:44 2008
Subject: [gdal-dev] SoC GDAL2Tiles: Status Report
Message-ID: <6e41d95b0806300912s3e18f088hbe9be75d3d387a61@mail.gmail.com>

Hi,

My SoC project description: http://trac.osgeo.org/gdal/wiki/SoCGDAL2Tiles

There are things we (gdal-dev) need to decide:

1) Clearly define the role of GDAL2Tiles.
The functionality is overlaying with gdal_retile.py utility.
In my opinion gdal2tiles should be more gdal2webtiles ;-) -
so it should concentrate more on TMS and Google Maps tiles
(Spherical Mercator tiles), generation of a web viewer and KML
SuperOverlay for Google Earth.

Is there a need for generation tiles in formats other then PNG/JPEG
with tile type of bands other then RGB(A) 8-bit?
What about functionality like generation shape file tileindex (for
MapServer) or world files for produced tiles?
The tile size is in the world of web tiles mostly fixed on 256x256
(just iPhone needs smaller version 128x128, and NASA WorldWind has
512x512). I guess size of tiles should be variable (now GDAL2Tiles
uses fixed 256).

Utility gdal_retile implements cutting into tiles as well, where is
the border between those two utilities?

2) How to improve quality of rendering - scale algorithm is now nearest
neighbour because GDAL2Tiles utilize GDAL's ReadRaster function, which
should be fastest.
Either I will query from GDAL bigger region with nearest
algorithm and then downscale it inside of the NumPy Array, or I will
switch to warping API (I will need that anyway for warping between map
projections).

Does it make sense to implement the scale down in memory - because of
speed, or I should not bother
with that and simply use warping api, same as gdal_retile do? FrankW?

3) I would like to have support for possibly all input data in
gdal2tiles, it means to include for example functionality from pct2rgb.py into
GDAL2TIles (people are complaing and reporting that as a bug).
Same with the conversion from 16-bit and 1-bit bands into 8-bit.

4) Improvement on the speed of gdal2tiles - I thought about generating
metatiles - something like 5 tiles with one request - in the row
probably - to improve the speed on sequential-only drivers.
JPEG is now horribly slow for example, any tips how to make GDAL2Tiles faster?

5) I would like to see GDAL2TIles be able to warp the tiles -
from different projections as well to remove the need to pre-process
temporary file with gdalwarp.

But first  I will start to implement algorithm generating TMS global
profile tiles from rasters in
EPSG:900913 and EPSG:4326.

Here is the list of tasks I did on SoC project (I was concentrated
more on the OpenLayers part of my project so far):

- I have now an account in OpenLayers trac/svn as well as private SVN sendbox.

- (I submitted an OpenLayers patch for Zoomify
#http://trac.openlayers.org/ticket/1285 - but I still have to work on
it) - this is very close to TMS modification driver I promised for
SoC.

- I rewrote a perl script of from USNaviguide
(http://www.usnaviguide.com/google-tiles.htm) to python (to understand
the code behind Google Maps). I returns coordinates of all overlaying
tiles for any bounding box given in WGS84
longlat coordinates.
But I will practically not use it in GDAL2Tiles, as I need EPSG:900913
coordinates for
generation of the tiles. Look at:
http://crschmidt.net/~crschmidt/spherical_mercator.html

I would like to have algorithm to query raster in EPSG:900913 for
Spherical Mercator Tile generation ready for the first deadline on
July 7-14th.

Comments are welcome....

Klokan
From tutey at o2.pl  Mon Jun 30 15:00:01 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Mon Jun 30 14:59:01 2008
Subject: [gdal-dev] a complete list of GDAL supported EPSG codes
In-Reply-To: <48625F8A.1050108@pobox.com>
References: <48622179.4030906@o2.pl> <4862508B.2010303@pobox.com>
	<48625D18.6060100@o2.pl> <48625F8A.1050108@pobox.com>
Message-ID: <48692D31.9000101@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:
>> Frank Warmerdam pisze:

>>> 900913 is not really an EPSG code.

>> Yes I know.

>>> Do you want real EPSG codes or also every other crappy thing 
>>> someone has pushed into the EPSG name space for some special 
>>> purpose?

>> The latter. Ie. all the codes that epsg_tr.py is able to process -
>>  like the 900913.

> There is no uniform mechanism to accomplish this.  You can just give
>  epsg_tr.py a wide numeric range and it will try everything in the 
> range but it will likely take an inordinate amount of time.

How about the former then - how do I best fetch the list of *real* EPSG
codes that my instalation of GDAL is able to recognize? Is extracting
them from pcs.csv and gcs.csv a good approach?

Thanks,
Maciek

-- 
Maciej Sieczka
www.sieczka.org
From c.schitka at gmail.com  Mon Jun 30 17:10:01 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Mon Jun 30 17:10:05 2008
Subject: [gdal-dev] GDAL & WMS
Message-ID: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>

Has anyone noticed a huge performance issue with GDAL and WMS lately ? I've
noticed a HUGE problems using the NASA JPL servers lately as in I can't seem
to get data from them or anything. GDAL hasn't been rebuilt recompiled and
the client code I am using hasn't changed at all either.

Cheers
Courtney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080630/0e15508c/attachment.html
From nikos.alexandris at felis.uni-freiburg.de  Mon Jun 30 17:16:13 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Mon Jun 30 17:17:19 2008
Subject: [gdal-dev] GDAL & WMS
In-Reply-To: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
References: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
Message-ID: <1214860573.6901.1.camel@vertical>

On Mon, 2008-06-30 at 17:10 -0400, Courtney Schitka wrote:
> Has anyone noticed a huge performance issue with GDAL and WMS lately ?
> I've noticed a HUGE problems using the NASA JPL servers lately as in I
> can't seem to get data from them or anything. GDAL hasn't been rebuilt
> recompiled and the client code I am using hasn't changed at all
> either. 
> 
> Cheers
> Courtney

Does QGIS use GDAL's WMS capabilities? If yes, then I think I observed
the same problem while trying to access NASA's JPL.

Greets,

Nikos

From even.rouault at mines-paris.org  Mon Jun 30 17:18:36 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Jun 30 17:18:40 2008
Subject: [gdal-dev] GDAL & WMS
In-Reply-To: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
References: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
Message-ID: <200806302318.37054.even.rouault@mines-paris.org>

I've noticed that too and I think the problem is on the server side. The wms_4 
test from GDAL autotest takes a big amount of time before failing : the 
returned image from the NASA JPL server is 0 byte length.

Here's the culprit WMS request :
http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&version=1.1.1&layers=modis,global_mosaic&styles=&srs=EPSG:4326&format=image/jpeg&width=1024&height=1024&bbox=-180.00000000,89.86175997,-179.86175997,90.00000000

If you modify it to only return the global_mosaic layer, the request returns 
in a few seconds, but the image is totaly black (probably OK for that part of 
the world ?).

Le Monday 30 June 2008 23:10:01 Courtney Schitka, vous avez ?crit?:
> Has anyone noticed a huge performance issue with GDAL and WMS lately ? I've
> noticed a HUGE problems using the NASA JPL servers lately as in I can't
> seem to get data from them or anything. GDAL hasn't been rebuilt recompiled
> and the client code I am using hasn't changed at all either.
>
> Cheers
> Courtney


From c.schitka at gmail.com  Mon Jun 30 17:36:09 2008
From: c.schitka at gmail.com (Courtney Schitka)
Date: Mon Jun 30 17:36:12 2008
Subject: [gdal-dev] GDAL & WMS
In-Reply-To: <200806302318.37054.even.rouault@mines-paris.org>
References: <e66a4dbf0806301410h7e8ab2a8s99f075557621cf6d@mail.gmail.com>
	<200806302318.37054.even.rouault@mines-paris.org>
Message-ID: <e66a4dbf0806301436j2318fb05jbbaa7da0154a8c0f@mail.gmail.com>

Furthermore, when I do actually get a response. A lot of times GDAL fails to
load data and subsquent requests fail in a timely manner this time. What
seems to be happening. is that OnEarth is handing back a response to the
GDAL client and it's getting a 200 (So Gdal thinks everything is ok.
However inside of that XML response I would suggest the server is handing
back a "BAD RESPONSE" or a response that says the server cannot fulfill the
request. So GDAL takes that response and then tries to supply data from it.
Without looking indepth at what the actual response contains. I am not sure
if this is a problem at the GDAL driver level or an issue in the underlying
support libraries.

Courtney.

On Mon, Jun 30, 2008 at 5:18 PM, Even Rouault <even.rouault@mines-paris.org>
wrote:

> I've noticed that too and I think the problem is on the server side. The
> wms_4
> test from GDAL autotest takes a big amount of time before failing : the
> returned image from the NASA JPL server is 0 byte length.
>
> Here's the culprit WMS request :
>
> http://onearth.jpl.nasa.gov/wms.cgi?request=GetMap&version=1.1.1&layers=modis,global_mosaic&styles=&srs=EPSG:4326&format=image/jpeg&width=1024&height=1024&bbox=-180.00000000,89.86175997,-179.86175997,90.00000000
>
> If you modify it to only return the global_mosaic layer, the request
> returns
> in a few seconds, but the image is totaly black (probably OK for that part
> of
> the world ?).
>
> Le Monday 30 June 2008 23:10:01 Courtney Schitka, vous avez ?crit :
> > Has anyone noticed a huge performance issue with GDAL and WMS lately ?
> I've
> > noticed a HUGE problems using the NASA JPL servers lately as in I can't
> > seem to get data from them or anything. GDAL hasn't been rebuilt
> recompiled
> > and the client code I am using hasn't changed at all either.
> >
> > Cheers
> > Courtney
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080630/ca115a41/attachment.html
From jluis at ualg.pt  Mon Jun 30 18:46:55 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Jun 30 18:47:03 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
Message-ID: <4869625F.1030905@ualg.pt>

Hi,

OK, I recovered from a  mysterious sudden stop working of my gdalwarp 
and ogrproj MEX files. All I had were error messages like

"Failed to create coordinate transformation between the
following coordinate systems.  This may be because they
are not transformable, or because projection services
(PROJ.4 DLL/.so) could not be loaded."

But not long ago those worked ok. It turn out that probably the culprit 
was the "VantagePoint" here pointed out recently, that installed an 
older (incompatible??) version of proj.dll on "C:\WINDOWS\system32"  (I 
hate softs that do it).

When I have dll conflicts, I always use the Dependency Walker to help me 
out, but in this case (an others??) the gdal.dll (trunk version) didn't 
show up any dependency on proj.dll. So it was a matter of "and what if 
it is in system32?" lucky guess that allowed me to solve the problem.
There are plenty of dll dependencies on gdal.dll. Why not on proj.dll?

Thanks

Joaquim Luis

From warmerdam at pobox.com  Mon Jun 30 19:53:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 30 19:53:23 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <4869625F.1030905@ualg.pt>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt>
Message-ID: <486971DC.1030403@pobox.com>

Joaquim Luis wrote:
> Hi,
> 
> OK, I recovered from a  mysterious sudden stop working of my gdalwarp 
> and ogrproj MEX files. All I had were error messages like
> 
> "Failed to create coordinate transformation between the
> following coordinate systems.  This may be because they
> are not transformable, or because projection services
> (PROJ.4 DLL/.so) could not be loaded."
> 
> But not long ago those worked ok. It turn out that probably the culprit 
> was the "VantagePoint" here pointed out recently, that installed an 
> older (incompatible??) version of proj.dll on "C:\WINDOWS\system32"  (I 
> hate softs that do it).
> 
> When I have dll conflicts, I always use the Dependency Walker to help me 
> out, but in this case (an others??) the gdal.dll (trunk version) didn't 
> show up any dependency on proj.dll. So it was a matter of "and what if 
> it is in system32?" lucky guess that allowed me to solve the problem.
> There are plenty of dll dependencies on gdal.dll. Why not on proj.dll?

Joaquim,

For better or worse, many years ago I had the bright idea of making PROJ.DLL
(or libproj.so) demand loaded when needed so that it wouldn't be a "hard"
dependency of GDAL making it harder for people to get things built.  So
it does not show up as a dependency.  This is similar to how plugins are
handled.  They also won't show up.

It seems to me that the error message was pretty specific about what went
wrong.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mchapman at texelinc.com  Mon Jun 30 19:55:28 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Mon Jun 30 19:55:57 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <4869625F.1030905@ualg.pt>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt>
Message-ID: <006e01c8db0c$c6786a90$53693fb0$@com>

Joaquim,

I apologize that VantagePoint caused a problem for you.  We will make the
fix to the install and get the proj.dll out of the system32 directory.  Our
problem was that after upgrading to gdal 1.5x we could not get the proj dll
to load if it wasn't in the path and the only path it would work with was
the system32.

Sorry again,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Joaquim Luis
Sent: Monday, June 30, 2008 4:47 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] The proj.dll mistery

Hi,

OK, I recovered from a  mysterious sudden stop working of my gdalwarp 
and ogrproj MEX files. All I had were error messages like

"Failed to create coordinate transformation between the
following coordinate systems.  This may be because they
are not transformable, or because projection services
(PROJ.4 DLL/.so) could not be loaded."

But not long ago those worked ok. It turn out that probably the culprit 
was the "VantagePoint" here pointed out recently, that installed an 
older (incompatible??) version of proj.dll on "C:\WINDOWS\system32"  (I 
hate softs that do it).

When I have dll conflicts, I always use the Dependency Walker to help me 
out, but in this case (an others??) the gdal.dll (trunk version) didn't 
show up any dependency on proj.dll. So it was a matter of "and what if 
it is in system32?" lucky guess that allowed me to solve the problem.
There are plenty of dll dependencies on gdal.dll. Why not on proj.dll?

Thanks

Joaquim Luis

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jluis at ualg.pt  Mon Jun 30 20:11:00 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Jun 30 20:11:08 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <006e01c8db0c$c6786a90$53693fb0$@com>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <006e01c8db0c$c6786a90$53693fb0$@com>
Message-ID: <48697614.3030106@ualg.pt>

Martin Chapman wrote:
> Joaquim,
>
> I apologize that VantagePoint caused a problem for you.  We will make the
> fix to the install and get the proj.dll out of the system32 directory.  Our
> problem was that after upgrading to gdal 1.5x we could not get the proj dll
> to load if it wasn't in the path and the only path it would work with was
> the system32.
>
> Sorry again,
> Martin
>   

Martin,

Don't feel particularly guilty. Many softwares do so. The real guilty 
one is Bill that let codes install in the core system directories.

Joaquim

From jluis at ualg.pt  Mon Jun 30 20:14:58 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Jun 30 20:15:23 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <486971DC.1030403@pobox.com>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <486971DC.1030403@pobox.com>
Message-ID: <48697702.1060207@ualg.pt>

Frank Warmerdam wrote:
>
> Joaquim,
>
> For better or worse, many years ago I had the bright idea of making 
> PROJ.DLL
> (or libproj.so) demand loaded when needed so that it wouldn't be a "hard"
> dependency of GDAL making it harder for people to get things built.  So
> it does not show up as a dependency.  This is similar to how plugins are
> handled.  They also won't show up.

Frank,

So what is the purpose of this section in nmake.opt?
I tried with it uncommented but it made no difference.

# PROJ.4 stuff
# Uncomment the following lines to link PROJ.4 library statically. Otherwise
# it will be linked dynamically during runtime.
#PROJ_FLAGS = -DPROJ_STATIC
#PROJ_INCLUDE = -IC:\programs\proj4\proj-4.6.0\bin
#PROJ_LIBRARY = C:\programs\proj4\proj-4.6.0\bin\proj_i.lib

Joaquim
From warmerdam at pobox.com  Mon Jun 30 20:31:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Jun 30 20:31:21 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <48697702.1060207@ualg.pt>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>
	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <486971DC.1030403@pobox.com>
	<48697702.1060207@ualg.pt>
Message-ID: <48697AC9.8080303@pobox.com>

Joaquim Luis wrote:
> Frank Warmerdam wrote:
>>
>> Joaquim,
>>
>> For better or worse, many years ago I had the bright idea of making 
>> PROJ.DLL
>> (or libproj.so) demand loaded when needed so that it wouldn't be a "hard"
>> dependency of GDAL making it harder for people to get things built.  So
>> it does not show up as a dependency.  This is similar to how plugins are
>> handled.  They also won't show up.
> 
> Frank,
> 
> So what is the purpose of this section in nmake.opt?
> I tried with it uncommented but it made no difference.
> 
> # PROJ.4 stuff
> # Uncomment the following lines to link PROJ.4 library statically. 
> Otherwise
> # it will be linked dynamically during runtime.
> #PROJ_FLAGS = -DPROJ_STATIC
> #PROJ_INCLUDE = -IC:\programs\proj4\proj-4.6.0\bin
> #PROJ_LIBRARY = C:\programs\proj4\proj-4.6.0\bin\proj_i.lib

Joaquim,

This is an alternative to dynamically loading PROJ.4.  You might
find you need to do a clean build with these options uncommented.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mchapman at texelinc.com  Mon Jun 30 20:32:22 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Mon Jun 30 20:32:52 2008
Subject: [gdal-dev] The proj.dll mistery
In-Reply-To: <48697614.3030106@ualg.pt>
References: <27E9A4902ED9624E87D483E362A5E0AA11D18B@pallas.w2k.nrlmry.navy.mil>	<3c5546140806281027i68bea9c7y606e18c8373c2971@mail.gmail.com>
	<4869625F.1030905@ualg.pt> <006e01c8db0c$c6786a90$53693fb0$@com>
	<48697614.3030106@ualg.pt>
Message-ID: <000001c8db11$ee207290$ca6157b0$@com>

Joaquim,

Thank you for not being harsh.  It's wrong though because it causes major
headaches as you pointed out.  For what it's worth, I have made the change
and will post it tomorrow so others don't incur the same issue.

Thanks again,
Martin


-----Original Message-----
From: Joaquim Luis [mailto:jluis@ualg.pt] 
Sent: Monday, June 30, 2008 6:11 PM
To: Martin Chapman
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] The proj.dll mistery

Martin Chapman wrote:
> Joaquim,
>
> I apologize that VantagePoint caused a problem for you.  We will make the
> fix to the install and get the proj.dll out of the system32 directory.
Our
> problem was that after upgrading to gdal 1.5x we could not get the proj
dll
> to load if it wasn't in the path and the only path it would work with was
> the system32.
>
> Sorry again,
> Martin
>   

Martin,

Don't feel particularly guilty. Many softwares do so. The real guilty 
one is Bill that let codes install in the core system directories.

Joaquim


