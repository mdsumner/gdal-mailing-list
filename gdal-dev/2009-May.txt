From wesmota at gmail.com  Fri May  1 09:49:35 2009
From: wesmota at gmail.com (Wesley)
Date: Fri May  1 09:49:39 2009
Subject: [gdal-dev] Gdal + numpy + interpolation
Message-ID: <11af79650905010649u5656e312l7f5b38d45d3bf57d@mail.gmail.com>

Hi fellows,

It's my first time here and I would like to interpolate some points
using gdal raster utilities and numpy. Do you have any example about
it?

Thanks!
From piklas at gmail.com  Fri May  1 13:22:07 2009
From: piklas at gmail.com (Nicolas B.)
Date: Fri May  1 13:22:09 2009
Subject: [gdal-dev] Gdal + numpy + interpolation
In-Reply-To: <11af79650905010649u5656e312l7f5b38d45d3bf57d@mail.gmail.com>
References: <11af79650905010649u5656e312l7f5b38d45d3bf57d@mail.gmail.com>
Message-ID: <180c4dbd0905011022h2694f827xe184a168dd66b6af@mail.gmail.com>

Hi Wesley

I don't know about numpy
but here's an example in which a  gdal command for interpolating point .csv
values using inverse distance is called from python
the raster layer is created using vrt
------------------------------------------------------------------------------------------------------------------------------------

*gdal_grid -a invdist:power=1.0:smoothing=50.0
-txe"+str(xmin)+str(xmax)+"-tye"*

*+str(ymin)+str(ymax)+" -of GTiff -ot Float64 -l input  input.vrt
output.tif").readlines()*

*
--------------------------------------------------------------------------------------------------------------------
*

you can reach other gdal_grid interpolation techniques here

http://www.gdal.org/gdal_grid.html#gdal_grid_algorithms

i don't know if it these algorithms are still maintained

Regards

Nicolas BOZON
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090501/80d35a86/attachment.html
From alobolistas at gmail.com  Sat May  2 07:47:47 2009
From: alobolistas at gmail.com (Agustin Lobo)
Date: Sat May  2 07:47:55 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
Message-ID: <49FC32E3.2040502@gmail.com>

What are the plans for these 2 tickets?
I think that "The idea is allowing users to add easily MrSID support to
a binary distribution of GDAL" is a very useful one.
Actually, are these 2 patches ready to be used? or should
we wait for further development?

Thanks

Agus


-- 
Dr. Agustin Lobo
Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
LLuis Sole Sabaris s/n
08028 Barcelona
Spain
Tel. 34 934095410
Fax. 34 934110012
email: Agustin.Lobo@ija.csic.es
http://www.ija.csic.es/gt/obster
-------------- next part --------------
A non-text attachment was scrubbed...
Name: alobolistas.vcf
Type: text/x-vcard
Size: 251 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090502/2b8580c5/alobolistas.vcf
From warmerdam at pobox.com  Sat May  2 11:18:34 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat May  2 11:18:52 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <49FC32E3.2040502@gmail.com>
References: <49FC32E3.2040502@gmail.com>
Message-ID: <49FC644A.2030109@pobox.com>

Agustin Lobo wrote:
> What are the plans for these 2 tickets?
> I think that "The idea is allowing users to add easily MrSID support to
> a binary distribution of GDAL" is a very useful one.
> Actually, are these 2 patches ready to be used? or should
> we wait for further development?

Agus,

I basically disagree with the approach in 2385 of having a standalone package
for the ECW plugin with it's own configure machinery.  I see that 2683 is
somewhat similar.

I'm going to close these tickets as WONTFIX, though folks are welcome to use
the patches for their own use.

I think it is more appropriate to improve the "in tree" plugin configuration
and makefile logic rather than pushing drivers out as their own packages.

I did do it for the grass driver, I must admit, but - as always - GRASS
is special.  Well, that was mostly because there was a complex order
issue with GRASS.  We needed to build GDAL, then GRASS, then the gdal-grass
plugin.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From frankie at debian.org  Sun May  3 18:28:18 2009
From: frankie at debian.org (Francesco Paolo Lovergine)
Date: Sun May  3 18:30:22 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <49FC644A.2030109@pobox.com>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
Message-ID: <20090503222818.GA3994@frankie.is-a-geek.org>

On Sat, May 02, 2009 at 11:18:34AM -0400, Frank Warmerdam wrote:
> Agustin Lobo wrote:
>> What are the plans for these 2 tickets?
>> I think that "The idea is allowing users to add easily MrSID support to
>> a binary distribution of GDAL" is a very useful one.
>> Actually, are these 2 patches ready to be used? or should
>> we wait for further development?
>
> Agus,
>
> I basically disagree with the approach in 2385 of having a standalone package
> for the ECW plugin with it's own configure machinery.  I see that 2683 is
> somewhat similar.
>
> I'm going to close these tickets as WONTFIX, though folks are welcome to use
> the patches for their own use.
>
> I think it is more appropriate to improve the "in tree" plugin configuration
> and makefile logic rather than pushing drivers out as their own packages.
>

The reason for those patches is having an independent compilation unit. This is
the only purpose for a plugin hack for ecw/mrsid, i.e. to solve a
licensing problem. But for that, I agree that a more general approach to
support a plugin mechanism (possibly with a versioning support) would be nice. 
Are you thinking to something like an apache-like mechanism to support DSO modules?
It would be useful defining the constraints for that you are thinking.

> I did do it for the grass driver, I must admit, but - as always - GRASS
> is special.  Well, that was mostly because there was a complex order
> issue with GRASS.  We needed to build GDAL, then GRASS, then the gdal-grass
> plugin.
>
> Best regards,

-- 
Francesco P. Lovergine
From warmerdam at pobox.com  Sun May  3 22:41:55 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun May  3 22:42:04 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <20090503222818.GA3994@frankie.is-a-geek.org>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
	<20090503222818.GA3994@frankie.is-a-geek.org>
Message-ID: <49FE55F3.8070700@pobox.com>

Francesco Paolo Lovergine wrote:
> On Sat, May 02, 2009 at 11:18:34AM -0400, Frank Warmerdam wrote:
>> I'm going to close these tickets as WONTFIX, though folks are welcome to use
>> the patches for their own use.
>>
>> I think it is more appropriate to improve the "in tree" plugin configuration
>> and makefile logic rather than pushing drivers out as their own packages.
>>
> 
> The reason for those patches is having an independent compilation unit. This is
> the only purpose for a plugin hack for ecw/mrsid, i.e. to solve a
> licensing problem. But for that, I agree that a more general approach to
> support a plugin mechanism (possibly with a versioning support) would be nice. 
> Are you thinking to something like an apache-like mechanism to support DSO modules?
> It would be useful defining the constraints for that you are thinking.

Frankie,

I'm afraid I don't understand what you mean by "independent compilation
unit" or why exactly the licensing issues of ecw and mrsid make them special
with regard to how the plugin gets compiled.

I don't know how apache handles DSO modules, so I can't comment on whether
things would evolve in that direction.

I am imagining adding configure options to specify particular drivers should
be build and installed as plugins.

So in addition to --with-ecw=<path to ecw sdk> there might also be
--with-ecw-as-plugin which would cause the ECW driver to be built and
installed as a plugin.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From frankie at debian.org  Mon May  4 03:53:36 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Mon May  4 03:53:48 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <49FE55F3.8070700@pobox.com>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
	<20090503222818.GA3994@frankie.is-a-geek.org>
	<49FE55F3.8070700@pobox.com>
Message-ID: <20090504075335.GA4471@mithrandir>

On Sun, May 03, 2009 at 10:41:55PM -0400, Frank Warmerdam wrote:
> Francesco Paolo Lovergine wrote:
>> On Sat, May 02, 2009 at 11:18:34AM -0400, Frank Warmerdam wrote:
>>> I'm going to close these tickets as WONTFIX, though folks are welcome to use
>>> the patches for their own use.
>>>
>>> I think it is more appropriate to improve the "in tree" plugin configuration
>>> and makefile logic rather than pushing drivers out as their own packages.
>>>
>>
>> The reason for those patches is having an independent compilation unit. This is
>> the only purpose for a plugin hack for ecw/mrsid, i.e. to solve a
>> licensing problem. But for that, I agree that a more general approach to
>> support a plugin mechanism (possibly with a versioning support) would 
>> be nice. Are you thinking to something like an apache-like mechanism to 
>> support DSO modules?
>> It would be useful defining the constraints for that you are thinking.
>
> Frankie,
>
> I'm afraid I don't understand what you mean by "independent compilation
> unit" or why exactly the licensing issues of ecw and mrsid make them special
> with regard to how the plugin gets compiled.
>

The reason for having a separated source is allow adding both supports
to a pre-compiled gdal that does not enable them. An independent compilation
unit is stuff that can be compiled a part and added to the base after.

Both ecw and mrsid
SDK require accepting a specific EULA beforei building/using
and do not distribute sources and/or patches for the sources 
(both .deb and .rpm stuff can require them) in the case of ecw,
so it is an problem for binary distributions distribute a gdal+ecw and/or
gdal+mrsid.

> I don't know how apache handles DSO modules, so I can't comment on whether
> things would evolve in that direction.
>
> I am imagining adding configure options to specify particular drivers should
> be build and installed as plugins.
>
> So in addition to --with-ecw=<path to ecw sdk> there might also be
> --with-ecw-as-plugin which would cause the ECW driver to be built and
> installed as a plugin.
>
> Best regards,

That's absolutely reasonable and can co-exists with the previous goal.

-- 
Francesco P. Lovergine
From alobolistas at gmail.com  Mon May  4 04:41:00 2009
From: alobolistas at gmail.com (Agustin Lobo)
Date: Mon May  4 04:41:11 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <20090504075335.GA4471@mithrandir>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
	<20090503222818.GA3994@frankie.is-a-geek.org>
	<49FE55F3.8070700@pobox.com> <20090504075335.GA4471@mithrandir>
Message-ID: <49FEAA1C.1000000@gmail.com>

As I'm not a developer, I might not be understanding the
alternative to patches 2385 and 2683 that is suggested. But as a user
and teacher of students using open source GIS packages, I do understand
the requirements, which IMHO are:

1. A clear way to compile gdal with ecw and mrsid support, and a
clear way of using the generated package for the compilation of
an open source GIS pacakge (I.e., QGIS, gvsig) able to display ecw and 
mrsid images.

2. As most users of open source GIS (and certainly all my students)
will never compile anything but install binaries, and these binaries
come (it seems that because of licensing issues) with no ecw and no 
mrsid support
for linux distributions,
we do require a way to add this support to the binary distribution of
the GIS package somehow.
I thought that patches 2385 and 2683 were suggesting a way of solving this
problem.

Actually, this support is present for windows binary distributions of QGIS,
provided the user takes the steps described at the end of page
http://sites.google.com/site/eospansite/qsig-for-windows
(mainly thanks to directions provided by Micha Silver) for example. But
the same type of solution does not exist for any binary distribution of QGIS
for Linux.

Having ecw and mrsid support is critical for any GIS package to be 
considered
as a practical tool here, because all our official (and free) 
orthoimagery is
distributed in those formats. Therefore, at present, only windows versions
of QGIS can be considered a practical GIS tool.

Hope there is some way of solving this problem. Frank, is your suggestion
becoming a new ticket? Any estimate of when this solution could be 
implemented?

Closing tickets 2385 and 2683 with WONTFIX and not opening a new one
aiming to solve the problem would be very worrying.

Thank you all for your work on gdal.

Agus
-- 

Dr. Agustin Lobo
Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
LLuis Sole Sabaris s/n
08028 Barcelona
Spain
Tel. 34 934095410
Fax. 34 934110012
email: Agustin.Lobo@ija.csic.es
http://www.ija.csic.es/gt/obster



Francesco P. Lovergine wrote:
> On Sun, May 03, 2009 at 10:41:55PM -0400, Frank Warmerdam wrote:
>   
>> Francesco Paolo Lovergine wrote:
>>     
>>> On Sat, May 02, 2009 at 11:18:34AM -0400, Frank Warmerdam wrote:
>>>       
>>>> I'm going to close these tickets as WONTFIX, though folks are welcome to use
>>>> the patches for their own use.
>>>>
>>>> I think it is more appropriate to improve the "in tree" plugin configuration
>>>> and makefile logic rather than pushing drivers out as their own packages.
>>>>
>>>>         
>>> The reason for those patches is having an independent compilation unit. This is
>>> the only purpose for a plugin hack for ecw/mrsid, i.e. to solve a
>>> licensing problem. But for that, I agree that a more general approach to
>>> support a plugin mechanism (possibly with a versioning support) would 
>>> be nice. Are you thinking to something like an apache-like mechanism to 
>>> support DSO modules?
>>> It would be useful defining the constraints for that you are thinking.
>>>       
>> Frankie,
>>
>> I'm afraid I don't understand what you mean by "independent compilation
>> unit" or why exactly the licensing issues of ecw and mrsid make them special
>> with regard to how the plugin gets compiled.
>>
>>     
>
> The reason for having a separated source is allow adding both supports
> to a pre-compiled gdal that does not enable them. An independent compilation
> unit is stuff that can be compiled a part and added to the base after.
>
> Both ecw and mrsid
> SDK require accepting a specific EULA beforei building/using
> and do not distribute sources and/or patches for the sources 
> (both .deb and .rpm stuff can require them) in the case of ecw,
> so it is an problem for binary distributions distribute a gdal+ecw and/or
> gdal+mrsid.
>
>   
>> I don't know how apache handles DSO modules, so I can't comment on whether
>> things would evolve in that direction.
>>
>> I am imagining adding configure options to specify particular drivers should
>> be build and installed as plugins.
>>
>> So in addition to --with-ecw=<path to ecw sdk> there might also be
>> --with-ecw-as-plugin which would cause the ECW driver to be built and
>> installed as a plugin.
>>
>> Best regards,
>>     
>
> That's absolutely reasonable and can co-exists with the previous goal.
>
>   

From szekerest at gmail.com  Mon May  4 05:38:58 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon May  4 05:39:01 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <49FEAA1C.1000000@gmail.com>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
	<20090503222818.GA3994@frankie.is-a-geek.org>
	<49FE55F3.8070700@pobox.com> <20090504075335.GA4471@mithrandir>
	<49FEAA1C.1000000@gmail.com>
Message-ID: <f3b73b7d0905040238y872a1e3secb448364e3e6aa2@mail.gmail.com>

2009/5/4 Agustin Lobo <alobolistas@gmail.com>

>
> Actually, this support is present for windows binary distributions of QGIS,
> provided the user takes the steps described at the end of page
> http://sites.google.com/site/eospansite/qsig-for-windows
> (mainly thanks to directions provided by Micha Silver) for example. But
> the same type of solution does not exist for any binary distribution of
> QGIS
> for Linux.
>

Agustin,

I have an impression that this is because the GDAL Windows builds support
building ECW as a plugin but this is not the case with the linux builds by
default, isn't it?
By this means it would indeed be reasonable to establish the counterpart of
this option (like Frank suggested by using a --with-ecw-as-plugin option) in
the default configuration mechanism, but using a completely different
compilation line would be quite undesired.

Feel free to open up a ticket in this topic, I hope someone will be able to
take care of it (patches are welcomed).

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090504/28eeaa64/attachment.html
From frankie at debian.org  Mon May  4 08:12:19 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Mon May  4 08:12:26 2009
Subject: [gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <f3b73b7d0905040238y872a1e3secb448364e3e6aa2@mail.gmail.com>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
	<20090503222818.GA3994@frankie.is-a-geek.org>
	<49FE55F3.8070700@pobox.com> <20090504075335.GA4471@mithrandir>
	<49FEAA1C.1000000@gmail.com>
	<f3b73b7d0905040238y872a1e3secb448364e3e6aa2@mail.gmail.com>
Message-ID: <20090504121219.GA24052@mithrandir>

On Mon, May 04, 2009 at 11:38:58AM +0200, Tamas Szekeres wrote:
> 2009/5/4 Agustin Lobo <alobolistas@gmail.com>
> 
> >
> > Actually, this support is present for windows binary distributions of QGIS,
> > provided the user takes the steps described at the end of page
> > http://sites.google.com/site/eospansite/qsig-for-windows
> > (mainly thanks to directions provided by Micha Silver) for example. But
> > the same type of solution does not exist for any binary distribution of
> > QGIS
> > for Linux.
> >
> 
> Agustin,
> 
> I have an impression that this is because the GDAL Windows builds support
> building ECW as a plugin but this is not the case with the linux builds by
> default, isn't it?

Currently - but for some patches a la gdal-grass - building of a plugin 
is not supported on linux, and anyway (but this is Debian/Ubuntu specific) 
it is not supportable by distributions due to the external SDK licenses. That's the 
reason to allow external plugins by separated building units on Linux: that 
would avoid user to rebuild the whole beast from scratch...

> By this means it would indeed be reasonable to establish the counterpart of
> this option (like Frank suggested by using a --with-ecw-as-plugin option) in
> the default configuration mechanism, but using a completely different
> compilation line would be quite undesired.
> 
> Feel free to open up a ticket in this topic, I hope someone will be able to
> take care of it (patches are welcomed).
> 

-- 
Francesco P. Lovergine
From derrick.hoffman at ultra-prologic.com  Mon May  4 11:44:18 2009
From: derrick.hoffman at ultra-prologic.com (Derrick Hoffman)
Date: Mon May  4 11:46:52 2009
Subject: [gdal-dev] Problem with old projection string
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>

Hello:

 

A project I am working on has recently updgraded to GDAL 1.6 from an
older version (I'm not sure, but I think 1.3)

 

I have a raster with an older projection string that is stored in a .prj
file and looks like this:

 

PROJCS["UTM Zone 17, Northern
Hemisphere",GEOGCS["NAD83",DATUM["North_American_Datum_1983",SPHEROID["G
RS
1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],TOWGS84[0,0,0,0,0,
0,0],AUTHORITY["EPSG","6269"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","89
01"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AXIS["L
at",NORTH],AXIS["Long",EAST],AUTHORITY["EPSG","4269"]],PROJECTION["Trans
verse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_me
ridian",-81],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",
500000],PARAMETER["false_northing",0],UNIT["Meter",1]]

 

I am trying to get the coordinates in lat/lon using some code that looks
like this:

 

//Get GDAL reprojection transform

void * pTransformArg = GDALCreateReprojectionTransformer(sourceArray,
destArray);

 

//Transform

int success;

double inX = x;

double inY = y;

double inZ = z;

 

GDALReprojectionTransform(pTransformArg, FALSE, 1, &inX, &inY, &inZ,
&success);

 

Where destArray is -> "GEOGCS[\"WGS
84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPS
G\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT
[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[
\"EPSG\",\"4326\"]]";

 

My problem is that when the dataset is opened, the projection string it
reports is just "Local_CS[""]"

 

Any ideas on how I can get the projection for the file in a manner that
my GDAL conversion will work, or an alternative method for converting?

 

Thanks

Derrick Hoffman

Software Engineer

Pro Logic Inc.

304 333-2680 x 322

derrick.hoffman@ultra-prologic.com

 


This e-mail from Ultra Electronics, ProLogic and any attachments to it are confidential to the intended recipient and may also be privileged or controlled by U.S. export control laws and regulations. No technical data, information or other items provided by Ultra Electronics, ProLogic in connection with this email shall be shared or provided to any foreign persons, entities, or subsidiaries without the expressed written authorization of Ultra Electronic, ProLogic.  If you have received it in error please notify the sender and delete it from your system. If you are not the intended recipient you must not copy it or use it for any purpose nor disclose or distribute its contents to any other person.  

All communications may be subject to interception or monitoring for operational and/or security purposes. Please rely on your own virus checking as the sender cannot accept any liability for any damage arising from any bug or virus infection.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090504/dd038200/attachment-0001.html
From warmerdam at pobox.com  Mon May  4 11:58:01 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May  4 11:58:14 2009
Subject: [gdal-dev] Problem with old projection string
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>
Message-ID: <49FF1089.9060402@pobox.com>

Derrick Hoffman wrote:
> //Get GDAL reprojection transform
> 
> void * pTransformArg = GDALCreateReprojectionTransformer(sourceArray, 
> destArray);

Derrick

Does the above function return a non-NULL result?  Does the
GDALReprojectionTransform() function seem to be doing the right
thing (ie. success is TRUE and result coordiantes are geographic)?

> My problem is that when the dataset is opened, the projection string it 
> reports is just ?Local_CS[??]?
> 
> Any ideas on how I can get the projection for the file in a manner that 
> my GDAL conversion will work, or an alternative method for converting?

It seems to me that the problem isn't specifically with the coordinate
reprojection, but with how the output file is created - a matter you
haven't described.  What is the output format?  How are you setting the
coordinate system on the output file?  Possibly you will need to provide
more context.

I will say I don't see any inherent problem with the output coordinate
system definition you are using.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From derrick.hoffman at ultra-prologic.com  Mon May  4 12:01:57 2009
From: derrick.hoffman at ultra-prologic.com (Derrick Hoffman)
Date: Mon May  4 12:04:25 2009
Subject: [gdal-dev] Problem with old projection string
In-Reply-To: <49FF1089.9060402@pobox.com>
References: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>
	<49FF1089.9060402@pobox.com>
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D089BE315@vader.prologic-inc.com>

pTransformArg is null. 
As a side note, even when opening the file in FWTools 2.3.0, the
projection reported is just -> Local_CS[""]

Thanks :) 

Derrick Hoffman

Software Engineer

Pro Logic Inc.

304 333-2680 x 322

derrick.hoffman@ultra-prologic.com

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Monday, May 04, 2009 11:58 AM
To: Derrick Hoffman
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Problem with old projection string

Derrick Hoffman wrote:
> //Get GDAL reprojection transform
> 
> void * pTransformArg = GDALCreateReprojectionTransformer(sourceArray, 
> destArray);

Derrick

Does the above function return a non-NULL result?  Does the
GDALReprojectionTransform() function seem to be doing the right
thing (ie. success is TRUE and result coordiantes are geographic)?

> My problem is that when the dataset is opened, the projection string
it 
> reports is just "Local_CS[""]"
> 
> Any ideas on how I can get the projection for the file in a manner
that 
> my GDAL conversion will work, or an alternative method for converting?

It seems to me that the problem isn't specifically with the coordinate
reprojection, but with how the output file is created - a matter you
haven't described.  What is the output format?  How are you setting the
coordinate system on the output file?  Possibly you will need to provide
more context.

I will say I don't see any inherent problem with the output coordinate
system definition you are using.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



This e-mail from Ultra Electronics, ProLogic and any attachments to it are confidential to the intended recipient and may also be privileged or controlled by U.S. export control laws and regulations. No technical data, information or other items provided by Ultra Electronics, ProLogic in connection with this email shall be shared or provided to any foreign persons, entities, or subsidiaries without the expressed written authorization of Ultra Electronic, ProLogic.  If you have received it in error please notify the sender and delete it from your system. If you are not the intended recipient you must not copy it or use it for any purpose nor disclose or distribute its contents to any other person.  

All communications may be subject to interception or monitoring for operational and/or security purposes. Please rely on your own virus checking as the sender cannot accept any liability for any damage arising from any bug or virus infection.

From warmerdam at pobox.com  Mon May  4 12:18:34 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May  4 12:18:50 2009
Subject: [gdal-dev] Problem with old projection string
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D089BE315@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>
	<49FF1089.9060402@pobox.com>
	<2DBB9F887DAA394FA75D98474EA5730D089BE315@vader.prologic-inc.com>
Message-ID: <49FF155A.4090503@pobox.com>

Derrick Hoffman wrote:
> pTransformArg is null. 
> As a side note, even when opening the file in FWTools 2.3.0, the
> projection reported is just -> Local_CS[""]

Derrick,

I have tried the following command which essentially creates a coordinate
transformer for the source and destination coordinate systems and then
transforms the point.  It seems to work ok:

warmerda@gdal64[22]% cat src.wkt
PROJCS["UTM Zone 17, Northern 
Hemisphere",GEOGCS["NAD83",DATUM["North_American_Datum_1983",SPHEROID["GRS 
1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6269"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],AUTHORITY["EPSG","4269"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-81],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["Meter",1]]
warmerda@gdal64[23]% cat dst.wkt
GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 
84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4326\"]]

warmerda@gdal64[24]% testepsg -t src.wkt dst.wkt 100000 2000000
OGRCT: Source: +proj=utm +zone=17 +ellps=GRS80 +datum=NAD83 +units=m +no_defs
OGRCT: Target: +proj=longlat +ellps=WGS84 +no_defs
(100000.000000,2000000.000000,0.000000) -> (-84.777358,18.051740,0.000000)

So, I conclude that the problem is likely to be something specific about
your configuration.  One possibility is that there is no PROJ library in
your path and this is causing creation of the reprojector to fail.

Hmm, in your original message you wrote:

My problem is that when the dataset is opened, the projection string it reports 
is just ?Local_CS[??]?

Is it possible you were referring to the source dataset, and that
the "sourceArray" passed to GDALCreateReprojectionTransformer() is this
LOCAL_CS value?

If that is the case we need to focus on the input file, and why the source
driver would not be getting the coordinate system properly.  If that is the
case, please indicate the details of the input file (for instance the format).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From derrick.hoffman at ultra-prologic.com  Mon May  4 12:23:43 2009
From: derrick.hoffman at ultra-prologic.com (Derrick Hoffman)
Date: Mon May  4 12:26:20 2009
Subject: [gdal-dev] Problem with old projection string
In-Reply-To: <49FF155A.4090503@pobox.com>
References: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>
	<49FF1089.9060402@pobox.com>
	<2DBB9F887DAA394FA75D98474EA5730D089BE315@vader.prologic-inc.com>
	<49FF155A.4090503@pobox.com>
Message-ID: <2DBB9F887DAA394FA75D98474EA5730D089BE34B@vader.prologic-inc.com>

Yes, you are correct on both.

That transform will work just fine.

The issue is the projection that comes out of the dataset.

The source wkt is retrieved from the raster using:

const char* projection = dataset->GetProjectionRef();

This itself returns "Local_CS[""]"

We have multiple files, a .bmp and two .tif files, which all use a .prj
and a world file to define the spatial reference.  All are in the same
area with similar .prj files, and all report "Local_CS[""]" as their
projection.

If you need more information please let me know.  I can also send you
the source files used if that will be of any help.

Derrick Hoffman

Software Engineer

Pro Logic Inc.

304 333-2680 x 322

derrick.hoffman@ultra-prologic.com


-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Monday, May 04, 2009 12:19 PM
To: Derrick Hoffman
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Problem with old projection string

Derrick Hoffman wrote:
> pTransformArg is null. 
> As a side note, even when opening the file in FWTools 2.3.0, the
> projection reported is just -> Local_CS[""]

Derrick,

I have tried the following command which essentially creates a
coordinate
transformer for the source and destination coordinate systems and then
transforms the point.  It seems to work ok:

warmerda@gdal64[22]% cat src.wkt
PROJCS["UTM Zone 17, Northern 
Hemisphere",GEOGCS["NAD83",DATUM["North_American_Datum_1983",SPHEROID["G
RS 
1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],TOWGS84[0,0,0,0,0,
0,0],AUTHORITY["EPSG","6269"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","89
01"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9108"]],AXIS["L
at",NORTH],AXIS["Long",EAST],AUTHORITY["EPSG","4269"]],PROJECTION["Trans
verse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_me
ridian",-81],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",
500000],PARAMETER["false_northing",0],UNIT["Meter",1]]
warmerda@gdal64[23]% cat dst.wkt
GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 
84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPS
G\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT
[\"degree\",0.01745329251994328,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[
\"EPSG\",\"4326\"]]

warmerda@gdal64[24]% testepsg -t src.wkt dst.wkt 100000 2000000
OGRCT: Source: +proj=utm +zone=17 +ellps=GRS80 +datum=NAD83 +units=m
+no_defs
OGRCT: Target: +proj=longlat +ellps=WGS84 +no_defs
(100000.000000,2000000.000000,0.000000) ->
(-84.777358,18.051740,0.000000)

So, I conclude that the problem is likely to be something specific about
your configuration.  One possibility is that there is no PROJ library in
your path and this is causing creation of the reprojector to fail.

Hmm, in your original message you wrote:

My problem is that when the dataset is opened, the projection string it
reports 
is just "Local_CS[""]"

Is it possible you were referring to the source dataset, and that
the "sourceArray" passed to GDALCreateReprojectionTransformer() is this
LOCAL_CS value?

If that is the case we need to focus on the input file, and why the
source
driver would not be getting the coordinate system properly.  If that is
the
case, please indicate the details of the input file (for instance the
format).

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



This e-mail from Ultra Electronics, ProLogic and any attachments to it are confidential to the intended recipient and may also be privileged or controlled by U.S. export control laws and regulations. No technical data, information or other items provided by Ultra Electronics, ProLogic in connection with this email shall be shared or provided to any foreign persons, entities, or subsidiaries without the expressed written authorization of Ultra Electronic, ProLogic.  If you have received it in error please notify the sender and delete it from your system. If you are not the intended recipient you must not copy it or use it for any purpose nor disclose or distribute its contents to any other person.  

All communications may be subject to interception or monitoring for operational and/or security purposes. Please rely on your own virus checking as the sender cannot accept any liability for any damage arising from any bug or virus infection.

From warmerdam at pobox.com  Mon May  4 12:39:40 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May  4 12:40:13 2009
Subject: [gdal-dev] Problem with old projection string
In-Reply-To: <2DBB9F887DAA394FA75D98474EA5730D089BE34B@vader.prologic-inc.com>
References: <2DBB9F887DAA394FA75D98474EA5730D089BE2E1@vader.prologic-inc.com>
	<49FF1089.9060402@pobox.com>
	<2DBB9F887DAA394FA75D98474EA5730D089BE315@vader.prologic-inc.com>
	<49FF155A.4090503@pobox.com>
	<2DBB9F887DAA394FA75D98474EA5730D089BE34B@vader.prologic-inc.com>
Message-ID: <49FF1A4C.6000809@pobox.com>

Derrick Hoffman wrote:
> Yes, you are correct on both.
> 
> That transform will work just fine.
> 
> The issue is the projection that comes out of the dataset.
> 
> The source wkt is retrieved from the raster using:
> 
> const char* projection = dataset->GetProjectionRef();
> 
> This itself returns "Local_CS[""]"
> 
> We have multiple files, a .bmp and two .tif files, which all use a .prj
> and a world file to define the spatial reference.  All are in the same
> area with similar .prj files, and all report "Local_CS[""]" as their
> projection.
> 
> If you need more information please let me know.  I can also send you
> the source files used if that will be of any help.

Derrick,

Normally the BMP and GTIFF drivers do not look for .prj files.  Are you
sure this used to work with an earlier GDAL?  Perhaps you folks made
local modifications to search for .prj files?

I think currently the only drivers that look for .prj files are the
shapefile, arcinfo binary grid, and possibly a few other esri format
drivers.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pssmaniam at hotmail.com  Mon May  4 23:07:30 2009
From: pssmaniam at hotmail.com (Sundaram Subramaniam)
Date: Mon May  4 23:07:33 2009
Subject: [gdal-dev] RE:HELLO-----HI-----3.15    9
Message-ID: <BAY144-W12BBFBDCF944A66C8117DB8690@phx.gbl>



Hey?
how are you doing recently? 
I would like to introduce you a very good company and its website is ((((((((www.more-deals.com)))))) It can offer you all kinds of electronic products that you may be in need,such as laptops ,gps ,TV LCD,cell  phones,ps3,MP3/4,motorcycles and etc........ 
You can take some time to have a check ,there must be something interesting you 'd like to  purchase .
The contact email: ele_motors@188.com MSN: more-deals@hotmail.com
TEL:0086+13683614819
Hope you can enjoy yourself in shopping from that company ! 
Regards Y 
_________________________________________________________________
Planning the weekend ? Here?s what is happening in your town.
http://msn.asklaila.com/events/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090505/a022c801/attachment.html
From rigal at rapideye.de  Tue May  5 07:07:47 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Tue May  5 07:36:58 2009
Subject: [gdal-dev] Does the OGR PotsGis driver support by default UTF-8 ?
Message-ID: <200905051307.47284.rigal@rapideye.de>

Hi all,

I have a problem with using the ExecuteSQL command of ogr within Python...
My version of GDAL/OGR is 1.5.1

I first open the connexion normally, without problem, with my UTF-8 Database.
I sent some insert commands with ascii values without problem, there are added 
and taken into account.

BUT when I send the query beginning with :
"INSERT INTO wheat09.fields VALUES 
('687a86d7-8989-4572-a75b-d6b4e9a469b8', 'FORGERET 1', 2009, 0.00, 
10.07, 'profond', 'Bl? tendre', [...]"
I have a crash in the ExecuteSQL function of ogr.py, line 343, that is 
expecting 'ascii', on the character 122 "?".

The string given to the ExecuteSQL function is of type Unicode String.

I don't want ExecuteSQL to expect ascii, but UTF-8. And from what I read from 
the GDAL homepage, it should be UTF-8....


I could read in the drv_pg.html page that :
"By default it is assumed that text being sent to Postgres is in the UTF-8 
encoding. This is fine for plain ASCII, but can result in errors for extended 
characters (ASCII 155+, LATIN1, etc). While OGR provides no direct control 
over this, you can set the PGCLIENTENCODING environment variable to indicate 
the format being provided. For instance, if your text is LATIN1 you could set 
the environment variable to LATIN1 before using OGR and input would be 
assumed to be LATIN1 instead of UTF-8."


Any suggestions or help is highly appreciated !

Regards,
Matthieu

-- 
Matthieu Rigal
Product Development

RapidEye AG                           Tel: +49-(0)3381-89 04 331
Molkenmarkt 30                       Fax: +49-(0)3381-89 04 101
14776 Brandenburg/Havel
Germany                                  http://www.rapideye.de

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany

Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel Schmalz
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified

*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.

The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From a.neumann at carto.net  Tue May  5 07:53:25 2009
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue May  5 08:12:54 2009
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF file
Message-ID: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>

Hi GDAL users/developers,

Is it possible to overwrite georeferencing information of an existing
geotiff file? For some reasons, some of the files I received have
georeferencing information in Millimeters instead of Meters. All of my
data uses meters as units.

I thought that maybe it is possible to create a tfw file and modify the
tfw file, but since the tiff file also has the original georeferencing
information in millimeters, the internal georeferencing still takes
precedence over the external tfw file. Is there some way to force gdal to
prefer the tfw file?

If not - what else could I do? Write different projection files?

Actually, I don't want to modify the rasters at all, just the
georeferencing information.

Thanks for any hints,
Andreas


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From bea at ixsea.com  Tue May  5 08:31:14 2009
From: bea at ixsea.com (=?iso-8859-1?Q?Beno=EEt_Andrieu?=)
Date: Tue May  5 08:31:19 2009
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF
	file
In-Reply-To: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
References: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
Message-ID: <14CAD19DC92B4EA1B42B2687C5D354B7@ixsea.local>

Hi,

Some times ago, I tried to update the georeferencing information by code but it didn't seem to work.
My solution was to first destroy the informations by using gdal_translate with -co PROFILE=BASELINE
Then to use the new Tiff with a prj file to have a GTiff

PROFILE=[GDALGeoTIFF/GeoTIFF/BASELINE]: Control what non-baseline tags are emitted by GDAL.

    * With GDALGeoTIFF (the default) various GDAL custom tags may be written.
    * With GeoTIFF only GeoTIFF tags will be added to the baseline.
    * With BASELINE no GDAL or GeoTIFF tags will be written. BASELINE is occationally useful when writing files to be read by 
applications intolerant of unrecognised tags.

There could be some better way...

Regards,

Beno?t Andrieu
bea@ixsea.com
benoit.andrieu@gmail.com

----- Original Message ----- 
From: "Andreas Neumann" <a.neumann@carto.net>
To: <gdal-dev@lists.osgeo.org>
Sent: Tuesday, May 05, 2009 1:53 PM
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF file


> Hi GDAL users/developers,
>
> Is it possible to overwrite georeferencing information of an existing
> geotiff file? For some reasons, some of the files I received have
> georeferencing information in Millimeters instead of Meters. All of my
> data uses meters as units.
>
> I thought that maybe it is possible to create a tfw file and modify the
> tfw file, but since the tiff file also has the original georeferencing
> information in millimeters, the internal georeferencing still takes
> precedence over the external tfw file. Is there some way to force gdal to
> prefer the tfw file?
>
> If not - what else could I do? Write different projection files?
>
> Actually, I don't want to modify the rasters at all, just the
> georeferencing information.
>
> Thanks for any hints,
> Andreas
>
>
> -- 
> Andreas Neumann
> http://www.carto.net/neumann/
> http://www.svgopen.org/
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev 

From nikos.alexandris at felis.uni-freiburg.de  Tue May  5 08:41:06 2009
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Tue May  5 08:40:58 2009
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF
	file
In-Reply-To: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
References: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
Message-ID: <1241527266.15232.24.camel@vertical>


Andreas N:
> Hi GDAL users/developers,
> Is it possible to overwrite georeferencing information of an existing
> geotiff [*] file?

Not sure that it will do the job but it might be interesting to have a
look at the utilities listgeo, geotifcp (part of geotiff-bin under
linux).

Kind regards, Nikos

[*] GeoTiff, http://trac.osgeo.org/geotiff
[2] http://www.remotesensing.org/geotiff/listgeo.html
[3] http://www.remotesensing.org/geotiff/geotifcp.html

From a.neumann at carto.net  Tue May  5 09:03:33 2009
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue May  5 09:03:36 2009
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF 
	file
In-Reply-To: <14CAD19DC92B4EA1B42B2687C5D354B7@ixsea.local>
References: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
	<14CAD19DC92B4EA1B42B2687C5D354B7@ixsea.local>
Message-ID: <39109.193.246.86.39.1241528613.squirrel@webmail.carto.net>

Thanks Nikos and Beno?t!

The solution with the BASELINE profile seems to work perfect. Haven't
thought about that!

Thank you for your quick help!

Andreas


On Tue, May 5, 2009 2:31 pm, Beno?t Andrieu wrote:
> Hi,
>
> Some times ago, I tried to update the georeferencing information by code
> but it didn't seem to work.
> My solution was to first destroy the informations by using gdal_translate
> with -co PROFILE=BASELINE
> Then to use the new Tiff with a prj file to have a GTiff
>
> PROFILE=[GDALGeoTIFF/GeoTIFF/BASELINE]: Control what non-baseline tags are
> emitted by GDAL.
>
>     * With GDALGeoTIFF (the default) various GDAL custom tags may be
> written.
>     * With GeoTIFF only GeoTIFF tags will be added to the baseline.
>     * With BASELINE no GDAL or GeoTIFF tags will be written. BASELINE is
> occationally useful when writing files to be read by
> applications intolerant of unrecognised tags.
>
> There could be some better way...
>
> Regards,
>
> Beno?t Andrieu
> bea@ixsea.com
> benoit.andrieu@gmail.com
>
> ----- Original Message -----
> From: "Andreas Neumann" <a.neumann@carto.net>
> To: <gdal-dev@lists.osgeo.org>
> Sent: Tuesday, May 05, 2009 1:53 PM
> Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF
> file
>
>
>> Hi GDAL users/developers,
>>
>> Is it possible to overwrite georeferencing information of an existing
>> geotiff file? For some reasons, some of the files I received have
>> georeferencing information in Millimeters instead of Meters. All of my
>> data uses meters as units.
>>
>> I thought that maybe it is possible to create a tfw file and modify the
>> tfw file, but since the tiff file also has the original georeferencing
>> information in millimeters, the internal georeferencing still takes
>> precedence over the external tfw file. Is there some way to force gdal
>> to
>> prefer the tfw file?
>>
>> If not - what else could I do? Write different projection files?
>>
>> Actually, I don't want to modify the rasters at all, just the
>> georeferencing information.
>>
>> Thanks for any hints,
>> Andreas
>>
>>
>> --
>> Andreas Neumann
>> http://www.carto.net/neumann/
>> http://www.svgopen.org/
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From hobu.inc at gmail.com  Tue May  5 11:41:10 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue May  5 11:41:14 2009
Subject: [gdal-dev] Re: 1.6.1 release planned for May 8th
In-Reply-To: <C728BA8B-D27F-4B9E-9D67-0C57438BFA53@gmail.com>
References: <C728BA8B-D27F-4B9E-9D67-0C57438BFA53@gmail.com>
Message-ID: <B75C8771-A75B-4AAF-A900-7C747FF9C6BA@gmail.com>


On Apr 24, 2009, at 3:20 PM, Howard Butler wrote:

> All,
>
> I would like to step forward as release manager for the 1.6.1  
> release, and I would like to produce the 1.6.1RC1 on May 8th.   
> Consider this your notice to complete any bugs or backports for the  
> 1.6 branch.
>
> http://trac.osgeo.org/gdal/milestone/1.6.1
>
> Howard

Just a reminder that the 1.6.1 release candidate is planned for this  
Friday.  There are currently 43 tickets <http://trac.osgeo.org/gdal/query?status=new&status=assigned&status=reopened&milestone=1.6.1 
 > that need to be either pushed forward or closed.

Howard
From even.rouault at mines-paris.org  Tue May  5 14:31:12 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May  5 14:31:27 2009
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF
	file
In-Reply-To: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
References: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
Message-ID: <200905052031.13311.even.rouault@mines-paris.org>

You can use the -a_srs and/or -a_ullr options (depending if you're interested 
in the SRS or the georeferenced coordinates) of gdal_translate to produce a 
new GeoTIFF with overriden information.

Le Tuesday 05 May 2009 13:53:25 Andreas Neumann, vous avez ?crit?:
> Hi GDAL users/developers,
>
> Is it possible to overwrite georeferencing information of an existing
> geotiff file? For some reasons, some of the files I received have
> georeferencing information in Millimeters instead of Meters. All of my
> data uses meters as units.
>
> I thought that maybe it is possible to create a tfw file and modify the
> tfw file, but since the tiff file also has the original georeferencing
> information in millimeters, the internal georeferencing still takes
> precedence over the external tfw file. Is there some way to force gdal to
> prefer the tfw file?
>
> If not - what else could I do? Write different projection files?
>
> Actually, I don't want to modify the rasters at all, just the
> georeferencing information.
>
> Thanks for any hints,
> Andreas


From arb at sat.dundee.ac.uk  Tue May  5 14:35:14 2009
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Tue May  5 14:37:14 2009
Subject: [gdal-dev] Overwriting Georeferencing Information of a GeoTIFF
	file
In-Reply-To: <200905052031.13311.even.rouault@mines-paris.org>
References: <47317.193.246.86.39.1241524405.squirrel@webmail.carto.net>
	<200905052031.13311.even.rouault@mines-paris.org>
Message-ID: <op.utgy80y5qw3wu1@titan>

>
> Actually, I don't want to modify the rasters at all, just the
> georeferencing information.

The libtiff utilities now include a utility called applygeo which can change
the georeferencing tags without rewriting the raster data.

Andrew

From even.rouault at mines-paris.org  Tue May  5 14:44:54 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May  5 14:45:03 2009
Subject: [gdal-dev] Does the OGR PotsGis driver support by default UTF-8 ?
In-Reply-To: <200905051307.47284.rigal@rapideye.de>
References: <200905051307.47284.rigal@rapideye.de>
Message-ID: <200905052044.54911.even.rouault@mines-paris.org>

Matthieu,

You didn't include the full stack trace that you got, so it's just a guess. 
But it looks like more a problem with your use of non ASCII characters in 
Python than an issue in GDAL itself and its support of UTF-8 in the 
PostgreSQL driver. My knowledge of Python is rather weak, but I'd advise you 
to avoid directly using non ASCII characters in strings in your code, but 
rather encode them as hexadecimal sequences. For example, '\xc3\xa9' is the 
UTF-8 encoding of the eacute character.

Alternatively, you could refer to http://www.python.org/dev/peps/pep-0263/ to 
define the encoding of your Python source file.

For example, the following script will display two eacute characters, provided 
that your text editor is indeed using UTF-8 encoding.

#!/usr/bin/python
# -*- coding: utf-8 -*-
print '\xc3\xa9'
print '?'

Best regards,

Even

Le Tuesday 05 May 2009 13:07:47 Matthieu Rigal, vous avez ?crit?:
> Hi all,
>
> I have a problem with using the ExecuteSQL command of ogr within Python...
> My version of GDAL/OGR is 1.5.1
>
> I first open the connexion normally, without problem, with my UTF-8
> Database. I sent some insert commands with ascii values without problem,
> there are added and taken into account.
>
> BUT when I send the query beginning with :
> "INSERT INTO wheat09.fields VALUES
> ('687a86d7-8989-4572-a75b-d6b4e9a469b8', 'FORGERET 1', 2009, 0.00,
> 10.07, 'profond', 'Bl? tendre', [...]"
> I have a crash in the ExecuteSQL function of ogr.py, line 343, that is
> expecting 'ascii', on the character 122 "?".
>
> The string given to the ExecuteSQL function is of type Unicode String.
>
> I don't want ExecuteSQL to expect ascii, but UTF-8. And from what I read
> from the GDAL homepage, it should be UTF-8....
>
>
> I could read in the drv_pg.html page that :
> "By default it is assumed that text being sent to Postgres is in the UTF-8
> encoding. This is fine for plain ASCII, but can result in errors for
> extended characters (ASCII 155+, LATIN1, etc). While OGR provides no direct
> control over this, you can set the PGCLIENTENCODING environment variable to
> indicate the format being provided. For instance, if your text is LATIN1
> you could set the environment variable to LATIN1 before using OGR and input
> would be assumed to be LATIN1 instead of UTF-8."
>
>
> Any suggestions or help is highly appreciated !
>
> Regards,
> Matthieu


From brettwiesner at gmail.com  Tue May  5 16:27:50 2009
From: brettwiesner at gmail.com (brettwiesner)
Date: Tue May  5 16:29:52 2009
Subject: [gdal-dev] When does the env var GDAL_DATA get processed?
Message-ID: <4A00A146.8070607@gmail.com>

Hi,

I have an application that programatically sets the GDAL_DATA 
environment variable. However,  when I do this I get errors complaining 
that it can't find GDAL_DATA. When I use an application like process 
explorer to see the environment of the process I see that I am correctly 
setting the environment variable to what I want. If I run the 
application from a batch file that "sets" the env var before running the 
application then things work.

Because I can see from process explorer that I'm correctly setting the 
env var for the process, I am left to believe that some dll get's loaded 
and the GDAL_DATA env var is used before my code gets a chance to set 
it. Is this possible? When/ where does the value of the env var 
GDAL_DATA get used?

Thanks,
Brett

From a.neumann at carto.net  Wed May  6 02:58:15 2009
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed May  6 02:58:22 2009
Subject: [gdal-dev] Converting big Intergraph cit files
Message-ID: <39953.193.246.86.39.1241593095.squirrel@webmail.carto.net>

Hi all,

I am trying to convert Intergraph cit files. While it works perfectly fine
for medium-size cit files it fails for bigger cit files. I get the
following error message:

user@server:/home/www/mapserverdata/lk_alt$ gdal_translate -of GTiff
-a_srs EPSG:21781 -a_nodata 0 -co 'TFW=YES' -co 'COMPRESS=PACKBITS' -co
'NBITS=1' /home/an/server/geonis/UsterAV01/LK_Raster/B_Kirchuster/b04.cit
b04.tif
Input file size is 46368, 46368
0ERROR 6: Too big block : 46368 * 46368
ERROR 6: Too big block : 46368 * 46368
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0

Files with sizes below 30000 x 30000 pixels convert fine.

I know, those eccentric Intergraph raster files are going to die/fade
away, anyway - that's why I want to convert them to something more
mainstream ...

Is there any compile-time switch or a commandline option I could use to
work around the problem with bigger cit files?

http://www.gdal.org/frmt_intergraphraster.html doesn't list any size
limitations with the intergraph drivers.

Thanks,
Andreas

-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From clairlune.register at gmail.com  Wed May  6 05:32:31 2009
From: clairlune.register at gmail.com (reg ister)
Date: Wed May  6 05:32:34 2009
Subject: [gdal-dev] GEM 6 sinusoidal projection
Message-ID: <8eed5f210905060232o4e21a9c6hf5b198a0aa77d61e@mail.gmail.com>

Hello everyone,
i ve ran into some odd projection and i would like to know if i can use gdal
to reproject georeferenced data in this projection (gcp included in my
raster) . I'm used to gdal and projections but here i can't seem to find
enough information.
The idea is to reproject to a DGG (discrete global grid) The projection is
an adapted sinusoidal grid with an ellipsoid based on GEM 6 model (Goddard
Earth Model)

Any insight or experience is apreciated but if no one already encountered
such a thing here are some precise questions that can help me

I never encountered the name DGG before, does it implies some specific
feature about projection or is it just a synonym of grid ?
the grid considered seems to be composed of octaedrons, is it even relevant
when projecting data considering i have the ellipsoid and type of projection
?
I have the major and minor axises for GEM 6 ellipsoid, would it be correct (
and possible ) to specify these to gdal along with a sinusoidal projection
to reproject my data?
as you may have noticed, is said adapted sinusoidal grid... i don't what
adapted implies. would it be possible in gdal to "adapt" the built in
sinusoidal projection ( to what cost in dev )?


any help apreciated.

Thanks everyone, keep up the good work
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090506/c8aa9d23/attachment.html
From P.Halls at york.ac.uk  Wed May  6 05:53:13 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Wed May  6 05:53:20 2009
Subject: [gdal-dev] GEM 6 sinusoidal projection
In-Reply-To: <8eed5f210905060232o4e21a9c6hf5b198a0aa77d61e@mail.gmail.com>
References: <8eed5f210905060232o4e21a9c6hf5b198a0aa77d61e@mail.gmail.com>
Message-ID: <4A015E09.9020602@york.ac.uk>

For detailed information on DGG's see http://cs.sou.edu/~sahrk/dgg/.

There is a paper in the journal Cartography and Geographic Information Science, 
'Geodesic Discrete Global Grid Systems' by Kevin Sahr, Denis White and A. Jon 
Kimerling, linked from the above web page, which surveys DDG in detail.  In 
summary, DDG is a data structure, based on 'regular, multi-resolution partitions 
of polyhedra' where 'each region has a single point associated with it'.  It is 
analogous to Voronoi cells, but regular, rather than irregular.  'Usually, this 
series consists of increasingly finer resolution grids; i.e., the grids in the 
series have a monotonically increasing number of cells.' - this seems similar to 
using a quad-tree approach.

'Grids based on square partitions are by far the most familiar to users, and 
they map efficiently to common data structures and display devices. But such 
grids also have limitations. Discrete Global Grid Systems induced by the 
latitude?longitude graticule do not have equal-area cell regions, which 
complicates statistical analysis on these grids.'  A wide variety of cell forms 
have been proposed by various workers but, according to Sahr et al, 'It is 
highly unlikely that any single Geodesic DGGS will ever prove optimal for all 
applications. Many of the proposed systems include design innovations in 
particular areas, though their construction may have involved other, less 
desirable design choices.'

I rather doubt GDAL has the functions for this approach, but I may be wrong.

Peter

reg ister wrote:
> Hello everyone,
> i ve ran into some odd projection and i would like to know if i can use gdal
> to reproject georeferenced data in this projection (gcp included in my
> raster) . I'm used to gdal and projections but here i can't seem to find
> enough information.
> The idea is to reproject to a DGG (discrete global grid) The projection is
> an adapted sinusoidal grid with an ellipsoid based on GEM 6 model (Goddard
> Earth Model)
> 
> Any insight or experience is apreciated but if no one already encountered
> such a thing here are some precise questions that can help me
> 
> I never encountered the name DGG before, does it implies some specific
> feature about projection or is it just a synonym of grid ?
> the grid considered seems to be composed of octaedrons, is it even relevant
> when projecting data considering i have the ellipsoid and type of projection
> ?
> I have the major and minor axises for GEM 6 ellipsoid, would it be correct (
> and possible ) to specify these to gdal along with a sinusoidal projection
> to reproject my data?
> as you may have noticed, is said adapted sinusoidal grid... i don't what
> adapted implies. would it be possible in gdal to "adapt" the built in
> sinusoidal projection ( to what cost in dev )?
> 
> 
> any help apreciated.
> 
> Thanks everyone, keep up the good work
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From rigal at rapideye.de  Wed May  6 07:02:45 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Wed May  6 07:03:03 2009
Subject: [gdal-dev] Does the OGR PotsGis driver support by default UTF-8 ?
In-Reply-To: <200905052044.54911.even.rouault@mines-paris.org>
References: <200905051307.47284.rigal@rapideye.de>
	<200905052044.54911.even.rouault@mines-paris.org>
Message-ID: <200905061302.45910.rigal@rapideye.de>

Hi Even,

You were actually right, it comes from my script.
I already defined it the way you suggested, I was reading values from a XML 
file defined as UTF-8 and the script was sending values as unicode string to 
the ExecuteSQL command.

Even if it is UTF-8, it seems that the ExecuteSQL only handles String. I just 
had to make :
sSql = sSql.encore('utf8')
to solve the problem

I don't know if it is a feature or a bug...

A part from that, by inserting the commands via the function, I was 
disappointed that there is no possibility to catch the errors of this 
function by using try, except and that even redirecting StdOut or StdErr in 
Python through sys.stdout and sys.stderr won't allow me to write to a file 
the results of the SQL commands...

Best regards,
Matthieu

On Tuesday 05 May 2009 20:44:54 Even Rouault wrote:
> Matthieu,
>
> You didn't include the full stack trace that you got, so it's just a guess.
> But it looks like more a problem with your use of non ASCII characters in
> Python than an issue in GDAL itself and its support of UTF-8 in the
> PostgreSQL driver. My knowledge of Python is rather weak, but I'd advise
> you to avoid directly using non ASCII characters in strings in your code,
> but rather encode them as hexadecimal sequences. For example, '\xc3\xa9' is
> the UTF-8 encoding of the eacute character.
>
> Alternatively, you could refer to http://www.python.org/dev/peps/pep-0263/
> to define the encoding of your Python source file.
>
> For example, the following script will display two eacute characters,
> provided that your text editor is indeed using UTF-8 encoding.
>
> #!/usr/bin/python
> # -*- coding: utf-8 -*-
> print '\xc3\xa9'
> print '?'
>
> Best regards,
>
> Even
>
> Le Tuesday 05 May 2009 13:07:47 Matthieu Rigal, vous avez ?crit?:
> > Hi all,
> >
> > I have a problem with using the ExecuteSQL command of ogr within
> > Python... My version of GDAL/OGR is 1.5.1
> >
> > I first open the connexion normally, without problem, with my UTF-8
> > Database. I sent some insert commands with ascii values without problem,
> > there are added and taken into account.
> >
> > BUT when I send the query beginning with :
> > "INSERT INTO wheat09.fields VALUES
> > ('687a86d7-8989-4572-a75b-d6b4e9a469b8', 'FORGERET 1', 2009, 0.00,
> > 10.07, 'profond', 'Bl? tendre', [...]"
> > I have a crash in the ExecuteSQL function of ogr.py, line 343, that is
> > expecting 'ascii', on the character 122 "?".
> >
> > The string given to the ExecuteSQL function is of type Unicode String.
> >
> > I don't want ExecuteSQL to expect ascii, but UTF-8. And from what I read
> > from the GDAL homepage, it should be UTF-8....
> >
> >
> > I could read in the drv_pg.html page that :
> > "By default it is assumed that text being sent to Postgres is in the
> > UTF-8 encoding. This is fine for plain ASCII, but can result in errors
> > for extended characters (ASCII 155+, LATIN1, etc). While OGR provides no
> > direct control over this, you can set the PGCLIENTENCODING environment
> > variable to indicate the format being provided. For instance, if your
> > text is LATIN1 you could set the environment variable to LATIN1 before
> > using OGR and input would be assumed to be LATIN1 instead of UTF-8."
> >
> >
> > Any suggestions or help is highly appreciated !
> >
> > Regards,
> > Matthieu



-- 
Matthieu Rigal
Product Development

RapidEye AG                           Tel: +49-(0)3381-89 04 331
Molkenmarkt 30                       Fax: +49-(0)3381-89 04 101
14776 Brandenburg/Havel
Germany                                  http://www.rapideye.de

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany

Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel Schmalz
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified

*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.

The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From mohwawang at yahoo.com  Wed May  6 09:28:38 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed May  6 09:28:41 2009
Subject: [gdal-dev] where is the source code of gdaldem
Message-ID: <87137.67857.qm@web32602.mail.mud.yahoo.com>


Hi all,

According to http://www.gdal.org/gdaldem.html there is a utility program gdaldem. But where is the source code? I could not find it in ~/apps in gdal-1.6.0. Thank you for help.

Mo


      
From mateusz at loskot.net  Wed May  6 09:42:28 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed May  6 09:42:17 2009
Subject: [gdal-dev] where is the source code of gdaldem
In-Reply-To: <87137.67857.qm@web32602.mail.mud.yahoo.com>
References: <87137.67857.qm@web32602.mail.mud.yahoo.com>
Message-ID: <4A0193C4.9070902@loskot.net>

mohwawang wrote:
> Hi all,
> 
> According to http://www.gdal.org/gdaldem.html there is a utility
> program gdaldem. But where is the source code? I could not find it in
> ~/apps in gdal-1.6.0. Thank you for help.

References to the history of gdaldem:
http://trac.osgeo.org/gdal/ticket/2640
http://trac.osgeo.org/gdal/ticket/2975

Source code:
http://svn.osgeo.org/gdal/trunk/gdal/apps/gdaldem.cpp

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From mohwawang at yahoo.com  Wed May  6 09:55:35 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed May  6 09:55:41 2009
Subject: [gdal-dev] where is the source code of gdaldem
Message-ID: <348140.46214.qm@web32604.mail.mud.yahoo.com>


Mateusz,

Thank you so much!

Mo

--- On Wed, 5/6/09, Mateusz Loskot <mateusz@loskot.net> wrote:

> From: Mateusz Loskot <mateusz@loskot.net>
> Subject: Re: [gdal-dev] where is the source code of gdaldem
> To: "mohwawang" <mohwawang@yahoo.com>
> Cc: gdal-dev@lists.osgeo.org
> Date: Wednesday, May 6, 2009, 9:42 AM
> mohwawang wrote:
> > Hi all,
> > 
> > According to http://www.gdal.org/gdaldem.html there is a utility
> > program gdaldem. But where is the source code? I could
> not find it in
> > ~/apps in gdal-1.6.0. Thank you for help.
> 
> References to the history of gdaldem:
> http://trac.osgeo.org/gdal/ticket/2640
> http://trac.osgeo.org/gdal/ticket/2975
> 
> Source code:
> http://svn.osgeo.org/gdal/trunk/gdal/apps/gdaldem.cpp
> 
> Best regards,
> -- Mateusz Loskot, http://mateusz.loskot.net
> 


      
From ivan.lucena at pmldnet.com  Wed May  6 10:01:38 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Wed May  6 10:01:55 2009
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gQ29udmVydGluZyBiaWcgSW50ZXJncmFwaCBjaXQgZmlsZXM=?=
Message-ID: <20090506140138.24652.qmail@s466.sureserver.com>

Andreas,

If that issue is related to http://trac.osgeo.org/gdal/ticket/1959 check the version you are using.

Ivan


>  -------Original Message-------
>  From: Andreas Neumann <a.neumann@carto.net>
>  Subject: [gdal-dev] Converting big Intergraph cit files
>  Sent: May 06 '09 01:58
>  
>  Hi all,
>  
>  I am trying to convert Intergraph cit files. While it works perfectly fine
>  for medium-size cit files it fails for bigger cit files. I get the
>  following error message:
>  
>  user@server:/home/www/mapserverdata/lk_alt$ gdal_translate -of GTiff
>  -a_srs EPSG:21781 -a_nodata 0 -co 'TFW=YES' -co 'COMPRESS=PACKBITS' -co
>  'NBITS=1' /home/an/server/geonis/UsterAV01/LK_Raster/B_Kirchuster/b04.cit
>  b04.tif
>  Input file size is 46368, 46368
>  0ERROR 6: Too big block : 46368 * 46368
>  ERROR 6: Too big block : 46368 * 46368
>  ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
>  
>  Files with sizes below 30000 x 30000 pixels convert fine.
>  
>  I know, those eccentric Intergraph raster files are going to die/fade
>  away, anyway - that's why I want to convert them to something more
>  mainstream ...
>  
>  Is there any compile-time switch or a commandline option I could use to
>  work around the problem with bigger cit files?
>  
>  http://www.gdal.org/frmt_intergraphraster.html doesn't list any size
>  limitations with the intergraph drivers.
>  
>  Thanks,
>  Andreas
>  
>  --
>  Andreas Neumann
>  http://www.carto.net/neumann/
>  http://www.svgopen.org/
>  
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  

From a.neumann at carto.net  Wed May  6 10:26:18 2009
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed May  6 10:26:24 2009
Subject: [gdal-dev] Converting big Intergraph cit files
In-Reply-To: <20090506140138.24652.qmail@s466.sureserver.com>
References: <20090506140138.24652.qmail@s466.sureserver.com>
Message-ID: <39575.193.246.86.39.1241619978.squirrel@webmail.carto.net>

Thanks, Lucena.

This seems to the issue. I am using 1.6.0 (not trunk). Meanwhile I was
able to solve the issue with nconvert (xnview) as a workaround.

Thanks,
Andreas

On Wed, May 6, 2009 4:01 pm, Lucena, Ivan wrote:
> Andreas,
>
> If that issue is related to http://trac.osgeo.org/gdal/ticket/1959 check
> the version you are using.
>
> Ivan
>
>
>>  -------Original Message-------
>>  From: Andreas Neumann <a.neumann@carto.net>
>>  Subject: [gdal-dev] Converting big Intergraph cit files
>>  Sent: May 06 '09 01:58
>>
>>  Hi all,
>>
>>  I am trying to convert Intergraph cit files. While it works perfectly
>> fine
>>  for medium-size cit files it fails for bigger cit files. I get the
>>  following error message:
>>
>>  user@server:/home/www/mapserverdata/lk_alt$ gdal_translate -of GTiff
>>  -a_srs EPSG:21781 -a_nodata 0 -co 'TFW=YES' -co 'COMPRESS=PACKBITS' -co
>>  'NBITS=1'
>> /home/an/server/geonis/UsterAV01/LK_Raster/B_Kirchuster/b04.cit
>>  b04.tif
>>  Input file size is 46368, 46368
>>  0ERROR 6: Too big block : 46368 * 46368
>>  ERROR 6: Too big block : 46368 * 46368
>>  ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
>>
>>  Files with sizes below 30000 x 30000 pixels convert fine.
>>
>>  I know, those eccentric Intergraph raster files are going to die/fade
>>  away, anyway - that's why I want to convert them to something more
>>  mainstream ...
>>
>>  Is there any compile-time switch or a commandline option I could use to
>>  work around the problem with bigger cit files?
>>
>>  http://www.gdal.org/frmt_intergraphraster.html doesn't list any size
>>  limitations with the intergraph drivers.
>>
>>  Thanks,
>>  Andreas
>>
>>  --
>>  Andreas Neumann
>>  http://www.carto.net/neumann/
>>  http://www.svgopen.org/
>>
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From rigal at rapideye.de  Wed May  6 10:38:41 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Wed May  6 10:38:57 2009
Subject: [gdal-dev] ogr shapefile driver improvment suggestion
Message-ID: <200905061638.41287.rigal@rapideye.de>

Hi all,

Reading the details of the ESRI Shapefile driver, noticing that there is no 
dataset creation option, I had one idea.

When I am converting a shapefile from Lat/Lon to UTM, the produced dataset has 
some strange sizes in both direction, i.e. approx 36m and 45m.

Wouldn't it be a nice enhancement to have the possibility to set 
-dsco X:5 Y:5
or similar when translating a shapefile to a meter/UTM projection ?

Best regards,
Mattheu

-- 
Matthieu Rigal
Product Development

RapidEye AG                           Tel: +49-(0)3381-89 04 331
Molkenmarkt 30                       Fax: +49-(0)3381-89 04 101
14776 Brandenburg/Havel
Germany                                  http://www.rapideye.de

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany

Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel Schmalz
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified

*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.

The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From a.neumann at carto.net  Wed May  6 10:48:06 2009
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed May  6 10:48:11 2009
Subject: [gdal-dev] gdal_merge problems: Negative size passed to 
 PyString_FromStringAndSize
Message-ID: <25001.193.246.86.39.1241621286.squirrel@webmail.carto.net>

Hi,

when trying to merge several tif-files (which had been converted
previously from Intergraph cit files), I am running into this error
message:

------------------
Traceback (most recent call last):
  File "/usr/local/bin/gdal_merge.py", line 427, in <module>
    fi.copy_into( t_fh, band, band, nodata )
  File "/usr/local/bin/gdal_merge.py", line 227, in copy_into
    nodata_arg )
  File "/usr/local/bin/gdal_merge.py", line 47, in raster_copy
    nodata )
  File "/usr/local/bin/gdal_merge.py", line 83, in raster_copy_with_nodata
    t_xsize, t_ysize )
  File
"/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/gdal.py",
line 835, in ReadAsArray
    buf_xsize, buf_ysize, buf_obj )
  File
"/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/gdal_array.py",
line 133, in BandReadAsArray
    buf_xsize, buf_ysize, datatype )
  File
"/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/gdal.py",
line 760, in ReadRaster
    return _gdal.Band_ReadRaster(*args, **kwargs)
SystemError: Negative size passed to PyString_FromStringAndSize
-------------------

Here is the full output on the console:

-------------------
user@server:/home/www/mapserverdata/lk_alt$ gdal_merge.py -o lk_temp.tif
-v -pct -n 0 -co "COMPRESS=PACKBITS" -co "TFW=YES" -co "NBITS=1" -of GTiff
*.tif

Filename: a01.tif
File Size: 28472x26038x1
Pixel Size: 21.309260 x -21.309260
UL:(697464582.163983,246084878.899647)  
LR:(698071299.411614,245530028.390592)
Copy 0,0,28472,26038 to 188240,126705,28472,26038.

Filename: a02.tif
File Size: 24160x28218x1
Pixel Size: 21.230390 x -21.230390
UL:(697286138.813619,245944920.434487)  
LR:(697799065.024075,245345841.303417)
Copy 0,0,24160,28218 to 179866,133273,24071,28114.

Filename: a03.tif
File Size: 26216x27335x1
Pixel Size: 21.269071 x -21.269071
UL:(697114396.075814,245751868.805884)  
LR:(697671986.053984,245170478.736716)
Copy 0,0,26216,27335 to 171807,142332,26167,27284.

Filename: a04.tif
File Size: 17872x19283x1
Pixel Size: 21.261870 x -21.261870
UL:(697099986.585252,245480003.161529)  
LR:(697479978.724770,245070010.523530)
Copy 0,0,17872,19283 to 171130,155090,17833,19241.

Filename: a08.tif
File Size: 23752x16245x1
Pixel Size: 21.232318 x -21.232318
UL:(698050620.444508,244842631.462299)  
LR:(698554930.459851,244497712.457615)
Copy 0,0,23752,16245 to 215742,185001,23666,16187.

Filename: a11.tif
File Size: 24400x16474x1
Pixel Size: 21.323216 x -21.323216
UL:(697718296.416720,244772005.407177)  
LR:(698238582.877453,244420726.753320)
Copy 0,0,24400,16474 to 200146,188315,24417,16485.

Filename: a12.tif
File Size: 24408x16596x1
Pixel Size: 21.254795 x -21.254795
UL:(697739107.795265,244895195.793969)  
LR:(698257894.833442,244542451.214913)
Copy 0,0,24408,16596 to 201123,182534,24346,16554.

Filename: a13.tif
File Size: 24528x16717x1
Pixel Size: 21.205679 x -21.205679
UL:(697550378.662813,244869450.636213)  
LR:(698070511.552925,244514955.303369)
Copy 0,0,24528,16717 to 192266,183742,24410,16636.

Filename: a14.tif
File Size: 23704x15928x1
Pixel Size: 21.194084 x -21.194084
UL:(697467610.635638,244699489.553303)  
LR:(697969995.203918,244361910.182582)
Copy 0,0,23704,15928 to 188382,191718,23576,15843.

Filename: a15.tif
File Size: 26600x23647x1
Pixel Size: 21.363833 x -21.363833
UL:(697203460.772593,245052711.229103)  
LR:(697771738.725908,244547520.674139)
Copy 0,0,26600,23647 to 175986,175142,26669,23708.

Filename: a16.tif
File Size: 25752x20613x1
Pixel Size: 21.239623 x -21.239623
UL:(697230262.042617,245223588.146429)  
LR:(697777224.810537,244785775.800392)
Copy 0,0,25752,20613 to 177244,167123,25668,20546.

Filename: a17a.tif
File Size: 33472x32446x1
Pixel Size: 10.649660 x -10.649660
UL:(697137093.161691,245272668.126460)  
LR:(697493558.572938,244927129.266120)
Copy 0,0,33472,32446 to 172872,164820,16728,16216.

Filename: a17b.tif
File Size: 28648x27155x1
Pixel Size: 10.646166 x -10.646166
UL:(697155315.453531,245126818.638231)  
LR:(697460306.821276,244837721.996542)
Copy 0,0,28648,27155 to 173727,171665,14313,13567.

Filename: a17c.tif
File Size: 25536x20030x1
Pixel Size: 10.703696 x -10.703696
UL:(697106785.470579,244992288.887373)  
LR:(697380115.045865,244777893.861018)
Copy 0,0,25536,20030 to 171449,177978,12828,10061.

Filename: a18.tif
File Size: 24320x15931x1
Pixel Size: 21.267855 x -21.267855
UL:(696988895.367595,244903125.100124)  
LR:(697506129.596569,244564306.905150)
Copy 0,0,24320,15931 to 165917,182162,24273,15900.

Filename: a19.tif
File Size: 24120x15834x1
Pixel Size: 21.231927 x -21.231927
UL:(696987778.979646,244682174.526910)  
LR:(697499893.051158,244345988.199865)
Copy 0,0,24120,15834 to 165865,192531,24033,15777.

Filename: a20.tif
File Size: 23928x30047x1
Pixel Size: 21.197387 x -21.197387
UL:(697159122.101568,244758201.154124)  
LR:(697666333.189349,244121283.252311)
Copy 0,0,23928,30047 to 173905,188963,23803,29890.

Filename: a21.tif
File Size: 24408x16665x1
Pixel Size: 21.297079 x -21.297079
UL:(697492717.281869,244504989.972687)  
LR:(698012536.394027,244150074.145740)
Copy 0,0,24408,16665 to 189560,200846,24395,16656.

Filename: a22.tif
File Size: 23616x16571x1
Pixel Size: 21.264780 x -21.264780
UL:(697417036.817021,244399776.304582)  
LR:(697919225.865369,244047397.632488)
Copy 0,0,23616,16571 to 186009,205783,23567,16537.

Filename: a23.tif
File Size: 25624x29314x1
Pixel Size: 21.223764 x -21.223764
UL:(697662502.145363,244415030.489332)  
LR:(698206339.866522,243792877.080104)
Copy 0,0,25624,29314 to 197528,205067,25522,29197.

Filename: a25.tif
File Size: 25472x25427x1
Pixel Size: 42.431795 x -42.431795
UL:(697837651.400476,244274906.596461)  
LR:(698918474.082743,243195993.344970)
Copy 0,0,25472,25427 to 205747,211643,50722,50632.
Traceback (most recent call last):
  File "/usr/local/bin/gdal_merge.py", line 427, in <module>
    fi.copy_into( t_fh, band, band, nodata )
  File "/usr/local/bin/gdal_merge.py", line 227, in copy_into
    nodata_arg )
  File "/usr/local/bin/gdal_merge.py", line 47, in raster_copy
    nodata )
  File "/usr/local/bin/gdal_merge.py", line 83, in raster_copy_with_nodata
    t_xsize, t_ysize )
  File
"/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/gdal.py",
line 835, in ReadAsArray
    buf_xsize, buf_ysize, buf_obj )
  File
"/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/gdal_array.py",
line 133, in BandReadAsArray
    buf_xsize, buf_ysize, datatype )
  File
"/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/gdal.py",
line 760, in ReadRaster
    return _gdal.Band_ReadRaster(*args, **kwargs)
SystemError: Negative size passed to PyString_FromStringAndSize
-------------------

Is this a problem with my data, georeferencing or projection or is it a
problem in gdal_merge?

Thanks for any idea what might be wrong in this case!

Andreas

-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From giohappy at gmail.com  Wed May  6 11:02:30 2009
From: giohappy at gmail.com (G. Allegri)
Date: Wed May  6 11:02:33 2009
Subject: [gdal-dev] python/OGR error: interpreter crashes calling geometries
	method stored inside a python list
Message-ID: <e12429640905060802l4d8a3a22ubb6ddf59ebf4f40e@mail.gmail.com>

I try to explain the problem. I need to setup a python list from a set
of geometries extrcted from a multipolygon layer.
I do the following (this is an excerpt, obviously):

source = ogr.Open(self.selectionshape)
layer = source.GetLayerByIndex(0)
geometries = []
features = [layer.GetFeature(i) for i in range(layer.GetFeatureCount())]
geometries = [features[i].GetGeometryRef() for i in range(len(features))]

When I call whatever Geometry methos, ie IsValid(), the python
interpreter crashes and exits. It doesn't happen if I call them
directly on the geometries (before including them inside the list), so
it seems related to the insertion inside the list.
Has anybody faced this before? Is it a bug or a problem with my code?

Thanks,
Giovanni
From hobu.inc at gmail.com  Wed May  6 11:09:32 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed May  6 11:09:36 2009
Subject: [gdal-dev] python/OGR error: interpreter crashes calling
	geometries method stored inside a python list
In-Reply-To: <e12429640905060802l4d8a3a22ubb6ddf59ebf4f40e@mail.gmail.com>
References: <e12429640905060802l4d8a3a22ubb6ddf59ebf4f40e@mail.gmail.com>
Message-ID: <6992F0C8-7EA5-404B-876A-ED5102CEA0B4@gmail.com>


On May 6, 2009, at 10:02 AM, G. Allegri wrote:
> geometries = [features[i].GetGeometryRef() for i in  
> range(len(features))]

features[i] is a temporary and goes poof once it goes out of scope.   
GetGeometryRef depends on features[i] staying alive for *its* entire  
lifetime as well.  In short, you can't depend on the reference  
counting of the objects in this instance.

I will note this is awful, but it should not segfault:

geometries =  
[ogr.CreateGeometryFromWkb(features[i].GetGeometryRef().ExportToWkb())  
for i in range(len(features))]


From giohappy at gmail.com  Wed May  6 11:22:57 2009
From: giohappy at gmail.com (G. Allegri)
Date: Wed May  6 11:23:04 2009
Subject: [gdal-dev] python/OGR error: interpreter crashes calling 
	geometries method stored inside a python list
In-Reply-To: <6992F0C8-7EA5-404B-876A-ED5102CEA0B4@gmail.com>
References: <e12429640905060802l4d8a3a22ubb6ddf59ebf4f40e@mail.gmail.com>
	<6992F0C8-7EA5-404B-876A-ED5102CEA0B4@gmail.com>
Message-ID: <e12429640905060822j42b3028fod6b0b83daa8fbb95@mail.gmail.com>

I imagined it was something with features scope. Thanks Howard, for
now I will use your snippet... as I can't find a different way to
prevent the problem.

2009/5/6 Howard Butler <hobu.inc@gmail.com>:
>
> On May 6, 2009, at 10:02 AM, G. Allegri wrote:
>>
>> geometries = [features[i].GetGeometryRef() for i in range(len(features))]
>
> features[i] is a temporary and goes poof once it goes out of scope.
> ?GetGeometryRef depends on features[i] staying alive for *its* entire
> lifetime as well. ?In short, you can't depend on the reference counting of
> the objects in this instance.
>
> I will note this is awful, but it should not segfault:
>
> geometries =
> [ogr.CreateGeometryFromWkb(features[i].GetGeometryRef().ExportToWkb()) for i
> in range(len(features))]
>
>
>
From da at donnellandallred.com  Wed May  6 12:08:50 2009
From: da at donnellandallred.com (David Anderson)
Date: Wed May  6 12:23:22 2009
Subject: [gdal-dev] ESRI Personal Geodatabase Write Access?
Message-ID: <96EB34DF9A4D98499087BB0C701AC0FE0F50E3@pe2800.office.local>

Does the OGR provider support write access to ESRI personal
geodatabases?  I have tried to find the answer on the web but can't
figure it out.  If not, does anyone know of another way to write to
these with Map 3D?

 

Thanks,

David

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090506/ce823b17/attachment.html
From giohappy at gmail.com  Wed May  6 12:27:40 2009
From: giohappy at gmail.com (G. Allegri)
Date: Wed May  6 12:27:42 2009
Subject: [gdal-dev] best method to check points in polygon?
Message-ID: <e12429640905060927s6eb49869gf2321e160992391c@mail.gmail.com>

I need to check "points in polygon" over various thousands of points
and regional scale polygons. A for loop iteration + intersect() over
the points geometries is absolutely inefficient. Is there a faster
method? I'm on the way to test the Shpely iterators, but I would like
to remain with OGR...

thanks again,
giovanni
From mateusz at loskot.net  Wed May  6 12:41:37 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed May  6 12:41:25 2009
Subject: [gdal-dev] best method to check points in polygon?
In-Reply-To: <e12429640905060927s6eb49869gf2321e160992391c@mail.gmail.com>
References: <e12429640905060927s6eb49869gf2321e160992391c@mail.gmail.com>
Message-ID: <4A01BDC1.6030702@loskot.net>

G. Allegri wrote:
> I need to check "points in polygon" over various thousands of points
> and regional scale polygons. A for loop iteration + intersect() over
> the points geometries is absolutely inefficient.

What you you need is OGRGeometry::Within or OGRGeometry::Contains,
not intersect.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From mateusz at loskot.net  Wed May  6 12:43:16 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed May  6 12:43:04 2009
Subject: [gdal-dev] ESRI Personal Geodatabase Write Access?
In-Reply-To: <96EB34DF9A4D98499087BB0C701AC0FE0F50E3@pe2800.office.local>
References: <96EB34DF9A4D98499087BB0C701AC0FE0F50E3@pe2800.office.local>
Message-ID: <4A01BE24.8050109@loskot.net>

David Anderson wrote:
> Does the OGR provider support write access to ESRI personal 
> geodatabases?  I have tried to find the answer on the web but can?t 
> figure it out.

http://gdal.org/ogr/drv_pgeo.html

"OGR optionally supports reading ESRI Personal GeoDatabase .mdb
files via ODBC."

It means, no write support.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From even.rouault at mines-paris.org  Wed May  6 14:38:43 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May  6 14:39:01 2009
Subject: [gdal-dev] where is the source code of gdaldem
In-Reply-To: <87137.67857.qm@web32602.mail.mud.yahoo.com>
References: <87137.67857.qm@web32602.mail.mud.yahoo.com>
Message-ID: <200905062038.44005.even.rouault@mines-paris.org>

Mo,

If you read carefully the very top of the page, you'll see that the utility 
will only be available in GDAL 1.7.0, so it's normal you don't find it in 
gdal-1.6.0

Mateusz also quoted http://trac.osgeo.org/gdal/ticket/2975. Currently, there 
is a discussion between the GDAL and GRASS projects about the proper 
licencing & copyright attribution ot this utility (that may be removed from 
GDAL depending on the outcome of the discussion). So I'd encourage you to 
avoid distributing or reusing the current source code in SVN until this 
ticket has been closed and we can confirm that X/MIT licence is appropriate.

Thank you,

Even

Le Wednesday 06 May 2009 15:28:38 mohwawang, vous avez ?crit?:
> Hi all,
>
> According to http://www.gdal.org/gdaldem.html there is a utility program
> gdaldem. But where is the source code? I could not find it in ~/apps in
> gdal-1.6.0. Thank you for help.
>
> Mo
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at mines-paris.org  Wed May  6 14:42:37 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May  6 14:42:46 2009
Subject: [gdal-dev] ogr shapefile driver improvment suggestion
In-Reply-To: <200905061638.41287.rigal@rapideye.de>
References: <200905061638.41287.rigal@rapideye.de>
Message-ID: <200905062042.37584.even.rouault@mines-paris.org>

I don't understand your problem/suggestion : what do you mean by "has some 
strange sizes in both direction" ?

Normally, if you want to convert a shapefile, to let's say UTM N31 WGS84, you 
would do :
ogr2ogr -t_srs EPSG:32631 shape_in_utm.shp shape_in_latlon.shp

Le Wednesday 06 May 2009 16:38:41 Matthieu Rigal, vous avez ?crit?:
> Hi all,
>
> Reading the details of the ESRI Shapefile driver, noticing that there is no
> dataset creation option, I had one idea.
>
> When I am converting a shapefile from Lat/Lon to UTM, the produced dataset
> has some strange sizes in both direction, i.e. approx 36m and 45m.
>
> Wouldn't it be a nice enhancement to have the possibility to set
> -dsco X:5 Y:5
> or similar when translating a shapefile to a meter/UTM projection ?
>
> Best regards,
> Mattheu


From even.rouault at mines-paris.org  Wed May  6 14:59:44 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May  6 14:59:54 2009
Subject: [gdal-dev] Does the OGR PotsGis driver support by default UTF-8 ?
In-Reply-To: <200905061302.45910.rigal@rapideye.de>
References: <200905051307.47284.rigal@rapideye.de>
	<200905052044.54911.even.rouault@mines-paris.org>
	<200905061302.45910.rigal@rapideye.de>
Message-ID: <200905062059.44640.even.rouault@mines-paris.org>

Matthieu,

the following script works like a charm for me:

#!/usr/bin/python
# -*- coding: utf-8 -*-
import ogr
ds = ogr.Open('PG:')
ds.ExecuteSQL("CREATE TABLE foo2 (col VARCHAR)")
ds.ExecuteSQL("INSERT INTO foo2 (col) VALUES ('?')")
ds.ExecuteSQL("DROP TABLE foo2")

You didn't specify which GDAL version you use, so if you use something older 
than GDAL 1.6, you could try upgrading.

About catching the errors :
- If the errors comes from Python itself before getting OGR, then you can 
catch errors with normal Python mechanisms.
- If it really comes from inside OGR, errors are reported by default on the 
standard error interface :
   * You can get the last error issued with gdal.GetLastErrorMsg().
   * You can also make GDAL quiet by using 
gdal.PushErrorHandler('CPLQuiertErrorHandler') / gdal.PopErrorHandler().
   * Otherwise, to be more Python'ish, you can add 'ogr.UseExceptions()' at 
the beginning of the script, and that will (generally) issue a Python 
exception each time an error occurs on OGR side.

GDAL/OGR can also be more verbose if you compile it with debug support and 
define the CPL_DEBUG environment variable when running your application.

Le Wednesday 06 May 2009 13:02:45 Matthieu Rigal, vous avez ?crit?:
> Hi Even,
>
> You were actually right, it comes from my script.
> I already defined it the way you suggested, I was reading values from a XML
> file defined as UTF-8 and the script was sending values as unicode string
> to the ExecuteSQL command.
>
> Even if it is UTF-8, it seems that the ExecuteSQL only handles String. I
> just had to make :
> sSql = sSql.encore('utf8')
> to solve the problem
>
> I don't know if it is a feature or a bug...
>
> A part from that, by inserting the commands via the function, I was
> disappointed that there is no possibility to catch the errors of this
> function by using try, except and that even redirecting StdOut or StdErr in
> Python through sys.stdout and sys.stderr won't allow me to write to a file
> the results of the SQL commands...
>
> Best regards,
> Matthieu
>
> On Tuesday 05 May 2009 20:44:54 Even Rouault wrote:
> > Matthieu,
> >
> > You didn't include the full stack trace that you got, so it's just a
> > guess. But it looks like more a problem with your use of non ASCII
> > characters in Python than an issue in GDAL itself and its support of
> > UTF-8 in the PostgreSQL driver. My knowledge of Python is rather weak,
> > but I'd advise you to avoid directly using non ASCII characters in
> > strings in your code, but rather encode them as hexadecimal sequences.
> > For example, '\xc3\xa9' is the UTF-8 encoding of the eacute character.
> >
> > Alternatively, you could refer to
> > http://www.python.org/dev/peps/pep-0263/ to define the encoding of your
> > Python source file.
> >
> > For example, the following script will display two eacute characters,
> > provided that your text editor is indeed using UTF-8 encoding.
> >
> > #!/usr/bin/python
> > # -*- coding: utf-8 -*-
> > print '\xc3\xa9'
> > print '?'
> >
> > Best regards,
> >
> > Even
> >
> > Le Tuesday 05 May 2009 13:07:47 Matthieu Rigal, vous avez ?crit?:
> > > Hi all,
> > >
> > > I have a problem with using the ExecuteSQL command of ogr within
> > > Python... My version of GDAL/OGR is 1.5.1
> > >
> > > I first open the connexion normally, without problem, with my UTF-8
> > > Database. I sent some insert commands with ascii values without
> > > problem, there are added and taken into account.
> > >
> > > BUT when I send the query beginning with :
> > > "INSERT INTO wheat09.fields VALUES
> > > ('687a86d7-8989-4572-a75b-d6b4e9a469b8', 'FORGERET 1', 2009, 0.00,
> > > 10.07, 'profond', 'Bl? tendre', [...]"
> > > I have a crash in the ExecuteSQL function of ogr.py, line 343, that is
> > > expecting 'ascii', on the character 122 "?".
> > >
> > > The string given to the ExecuteSQL function is of type Unicode String.
> > >
> > > I don't want ExecuteSQL to expect ascii, but UTF-8. And from what I
> > > read from the GDAL homepage, it should be UTF-8....
> > >
> > >
> > > I could read in the drv_pg.html page that :
> > > "By default it is assumed that text being sent to Postgres is in the
> > > UTF-8 encoding. This is fine for plain ASCII, but can result in errors
> > > for extended characters (ASCII 155+, LATIN1, etc). While OGR provides
> > > no direct control over this, you can set the PGCLIENTENCODING
> > > environment variable to indicate the format being provided. For
> > > instance, if your text is LATIN1 you could set the environment variable
> > > to LATIN1 before using OGR and input would be assumed to be LATIN1
> > > instead of UTF-8."
> > >
> > >
> > > Any suggestions or help is highly appreciated !
> > >
> > > Regards,
> > > Matthieu


From mohwawang at yahoo.com  Wed May  6 15:29:45 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed May  6 15:29:47 2009
Subject: [gdal-dev] where is the source code of gdaldem
Message-ID: <463303.59677.qm@web32606.mail.mud.yahoo.com>


Even,

I understood. Thank you.

Mo

--- On Wed, 5/6/09, Even Rouault <even.rouault@mines-paris.org> wrote:

> From: Even Rouault <even.rouault@mines-paris.org>
> Subject: Re: [gdal-dev] where is the source code of gdaldem
> To: gdal-dev@lists.osgeo.org
> Cc: "mohwawang" <mohwawang@yahoo.com>
> Date: Wednesday, May 6, 2009, 2:38 PM
> Mo,
> 
> If you read carefully the very top of the page, you'll see
> that the utility 
> will only be available in GDAL 1.7.0, so it's normal you
> don't find it in 
> gdal-1.6.0
> 
> Mateusz also quoted http://trac.osgeo.org/gdal/ticket/2975. Currently,
> there 
> is a discussion between the GDAL and GRASS projects about
> the proper 
> licencing & copyright attribution ot this utility (that
> may be removed from 
> GDAL depending on the outcome of the discussion). So I'd
> encourage you to 
> avoid distributing or reusing the current source code in
> SVN until this 
> ticket has been closed and we can confirm that X/MIT
> licence is appropriate.
> 
> Thank you,
> 
> Even
> 
> Le Wednesday 06 May 2009 15:28:38 mohwawang, vous avez
> ?crit?:
> > Hi all,
> >
> > According to http://www.gdal.org/gdaldem.html there is a utility
> program
> > gdaldem. But where is the source code? I could not
> find it in ~/apps in
> > gdal-1.6.0. Thank you for help.
> >
> > Mo
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 


      
From even.rouault at mines-paris.org  Wed May  6 15:36:09 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May  6 15:36:21 2009
Subject: [gdal-dev] gdal_merge problems: Negative size passed to
	PyString_FromStringAndSize
In-Reply-To: <25001.193.246.86.39.1241621286.squirrel@webmail.carto.net>
References: <25001.193.246.86.39.1241621286.squirrel@webmail.carto.net>
Message-ID: <200905062136.10491.even.rouault@mines-paris.org>

Le Wednesday 06 May 2009 16:48:06 Andreas Neumann, vous avez ?crit?:
> Hi,
> Filename: a25.tif
> File Size: 25472x25427x1
> Pixel Size: 42.431795 x -42.431795
> UL:(697837651.400476,244274906.596461)
> LR:(698918474.082743,243195993.344970)
> Copy 0,0,25472,25427 to 205747,211643,50722,50632.

--> here's the issue. a25.tif is resampled from 25472x25427 to a 50722x50632 
raster. But as gdal_merge.py just operates on full buffers, this results in 
trying to allocate 50722x50632 pixels = 2 568 156 304 bytes, which is above 
the largest 32 bit (signed) integer whose value is 2 147 483 647. So this 
value is interpreated as a negative size by Python...

To make the story short, you didn't do anything wrong. You've just hit a known 
limitation of gdal_merge.py. 

The issue is that the default pixel size used for the destination merged file 
is the pixel size of the first source raster processed, in your case 
21.309260 x -21.309260 for a01.tif. But a25.tif on which the error occurs has 
a pixel size of  42.431795 x -42.431795. So it must be nearly over-sampled by 
a factor of 2, so that accounts for his size going from 25472x25427 to a 
50722x50632.

There are several workarounds :
- use the -ps flag of gdal_merge.py to increase the pixel size of the 
destination raster. "-ps 30 30" would probably work (provided that you've 
enough memory)
- or add a preprocessing step that cuts a25.tif into 4 smaller pieces. This 
can be done with 4 calls to gdal_translate by using the -srcwin option
- or use gdalwarp to do the same thing. It has not the limitation of 
gdal_merge.py, but it is known to be much slower.

Patches to improve gdal_merge.py are welcome ;-)

> Traceback (most recent call last):
>   File "/usr/local/bin/gdal_merge.py", line 427, in <module>
>     fi.copy_into( t_fh, band, band, nodata )
>   File "/usr/local/bin/gdal_merge.py", line 227, in copy_into
>     nodata_arg )
>   File "/usr/local/bin/gdal_merge.py", line 47, in raster_copy
>     nodata )
>   File "/usr/local/bin/gdal_merge.py", line 83, in raster_copy_with_nodata
>     t_xsize, t_ysize )
>   File
> "/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/g
>dal.py", line 835, in ReadAsArray
>     buf_xsize, buf_ysize, buf_obj )
>   File
> "/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/g
>dal_array.py", line 133, in BandReadAsArray
>     buf_xsize, buf_ysize, datatype )
>   File
> "/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/g
>dal.py", line 760, in ReadRaster
>     return _gdal.Band_ReadRaster(*args, **kwargs)
> SystemError: Negative size passed to PyString_FromStringAndSize
> -------------------
>
> Is this a problem with my data, georeferencing or projection or is it a
> problem in gdal_merge?
>
> Thanks for any idea what might be wrong in this case!
>
> Andreas


From giohappy at gmail.com  Wed May  6 16:19:32 2009
From: giohappy at gmail.com (G. Allegri)
Date: Wed May  6 16:19:35 2009
Subject: [gdal-dev] best method to check points in polygon?
In-Reply-To: <4A01BDC1.6030702@loskot.net>
References: <e12429640905060927s6eb49869gf2321e160992391c@mail.gmail.com>
	<4A01BDC1.6030702@loskot.net>
Message-ID: <e12429640905061319i109be85arebd16b4ca3824350@mail.gmail.com>

Hi Mateusz.
At now I do the following:

for g in self._selectionGeometries:
	for i in range(self._centroids.GetGeometryCount()):
		p = self._centroids.GetGeometryRef(i)
			if p.Intersect(p):
			indexes.append(i)

which is not the faster code on the earth! But it's faster then
asserting Contains or Within, at least from my test. How would you use
them to extract points from the two geometries, without iteration?

2009/5/6 Mateusz Loskot <mateusz@loskot.net>:
> G. Allegri wrote:
>>
>> I need to check "points in polygon" over various thousands of points
>> and regional scale polygons. A for loop iteration + intersect() over
>> the points geometries is absolutely inefficient.
>
> What you you need is OGRGeometry::Within or OGRGeometry::Contains,
> not intersect.
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
>
From mohwawang at yahoo.com  Wed May  6 17:22:23 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed May  6 17:22:25 2009
Subject: [gdal-dev] free raster elevation model download
Message-ID: <394430.45945.qm@web32606.mail.mud.yahoo.com>


Hi all,

Is there a website that provides free download for raster elevation model (DEM) that can be used by the gdal utility gdal_contour? Thanks.

Mo


      
From mateusz at loskot.net  Wed May  6 17:33:53 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed May  6 17:33:58 2009
Subject: [gdal-dev] best method to check points in polygon?
In-Reply-To: <e12429640905061319i109be85arebd16b4ca3824350@mail.gmail.com>
References: <e12429640905060927s6eb49869gf2321e160992391c@mail.gmail.com>	
	<4A01BDC1.6030702@loskot.net>
	<e12429640905061319i109be85arebd16b4ca3824350@mail.gmail.com>
Message-ID: <4A020241.1020109@loskot.net>

G. Allegri wrote:
> Hi Mateusz. At now I do the following:
> 
> for g in self._selectionGeometries: for i in
> range(self._centroids.GetGeometryCount()): p =
> self._centroids.GetGeometryRef(i) if p.Intersect(p):
-------------------------^^^^^^^^^^^^^^^^^

p in same p ?

> indexes.append(i)
> 
> which is not the faster code on the earth! But it's faster then 
> asserting Contains or Within, at least from my test.

Intersect is a different predicate (answers different question) than
Contains and Within. I don't understand from the code above what's your
goal. Perhaps "which is faster" is just a wrong question.

> How would you use them to extract points from the two geometries,
> without iteration?

Extract?
They are predicates. Meaning, all these functions give binary answer
(true or false) about relation between two geometries.

See samples here:

http://trac.osgeo.org/gdal/browser/trunk/autotest/ogr/ogr_geos.py

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From neteler at osgeo.org  Wed May  6 17:41:36 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed May  6 17:41:39 2009
Subject: [gdal-dev] free raster elevation model download
In-Reply-To: <394430.45945.qm@web32606.mail.mud.yahoo.com>
References: <394430.45945.qm@web32606.mail.mud.yahoo.com>
Message-ID: <86782b610905061441w5b0c288du1af0a5ac64c966ff@mail.gmail.com>

On Wed, May 6, 2009 at 11:22 PM, mohwawang <mohwawang@yahoo.com> wrote:
>
> Hi all,
>
> Is there a website that provides free download for raster elevation model (DEM) that can be used by the gdal utility gdal_contour? Thanks.

Check here for a collection:
http://grass.osgeo.org/wiki/Geodata

Markus
From mohwawang at yahoo.com  Wed May  6 19:13:57 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed May  6 19:14:00 2009
Subject: [gdal-dev] free raster elevation model download
Message-ID: <926646.7887.qm@web32602.mail.mud.yahoo.com>


I didn't find in there anything that can be directly used as an input DEM raster for gdal_contour.

Mo

--- On Wed, 5/6/09, Markus Neteler <neteler@osgeo.org> wrote:

> From: Markus Neteler <neteler@osgeo.org>
> Subject: Re: [gdal-dev] free raster elevation model download
> To: "mohwawang" <mohwawang@yahoo.com>
> Cc: "gdal-dev" <gdal-dev@lists.osgeo.org>
> Date: Wednesday, May 6, 2009, 5:41 PM
> On Wed, May 6, 2009 at 11:22 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> >
> > Hi all,
> >
> > Is there a website that provides free download for
> raster elevation model (DEM) that can be used by the gdal
> utility gdal_contour? Thanks.
> 
> Check here for a collection:
> http://grass.osgeo.org/wiki/Geodata
> 
> Markus
> 


      
From matt at klaric.com  Wed May  6 19:30:39 2009
From: matt at klaric.com (Matt Klaric)
Date: Wed May  6 19:30:41 2009
Subject: [gdal-dev] free raster elevation model download
In-Reply-To: <394430.45945.qm@web32606.mail.mud.yahoo.com>
References: <394430.45945.qm@web32606.mail.mud.yahoo.com>
Message-ID: <eba00f2b0905061630l1c4effe4v78ca34eb628dac46@mail.gmail.com>

On Wed, May 6, 2009 at 4:22 PM, mohwawang <mohwawang@yahoo.com> wrote:

>
> Is there a website that provides free download for raster elevation model
> (DEM) that can be used by the gdal utility gdal_contour? Thanks.
>
>
NASA:
ftp://e0srp01u.ecs.nasa.gov/srtm/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090506/17b67241/attachment.html
From jorsion at gmail.com  Wed May  6 22:26:32 2009
From: jorsion at gmail.com (jor sion)
Date: Wed May  6 22:26:34 2009
Subject: [gdal-dev] How to access HDF subdatasets via ArcGIS Engine
Message-ID: <8c2bdf730905061926y91bbb05vc72c5a81d85a2955@mail.gmail.com>

Hi,

I have read the method to read HDF files here:

http://edndoc.esri.com/arcobjects/9.2/NET/6068a0e3-4265-47f3-b1eb-68cb498e78f1.htm

but there is something wrong when access HDF files with multiple
subdatasets.

it seems that it is  only  applicable to HDF files wiht only ont subdataset.


Best wishes,

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090507/c9858fc4/attachment.html
From jorsion at gmail.com  Thu May  7 04:45:02 2009
From: jorsion at gmail.com (jor sion)
Date: Thu May  7 04:45:07 2009
Subject: [gdal-dev] how to access Image palette in HDF files
Message-ID: <8c2bdf730905070145l49bb72bdlc7d7bf2fd7e2b609@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/png
Size: 3310 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090507/fba2ca15/attachment.png
From clairlune.register at gmail.com  Thu May  7 07:46:45 2009
From: clairlune.register at gmail.com (reg ister)
Date: Thu May  7 07:46:49 2009
Subject: [gdal-dev] GEM 6 sinusoidal projection
In-Reply-To: <4A015E09.9020602@york.ac.uk>
References: <8eed5f210905060232o4e21a9c6hf5b198a0aa77d61e@mail.gmail.com>
	<4A015E09.9020602@york.ac.uk>
Message-ID: <8eed5f210905070446x511ecca1t1b7e8697e0407cd8@mail.gmail.com>

Thanks for the information, i had already found some things like that.
As a matter of fact it appears i misunderstood what i need to do.
I need to reproject data in that are on "some kind" of sinusoidal projection
with a GEM6 ellispsoid to some regular lat/lon grid.

My initial raster in "GEM6" is georeferenced (gcps) so i think i will be
able to use gdal to reproject this data. As i can't test this because i do
not have any input data right now, can anyone confirm ?

2009/5/6 Peter J Halls <P.Halls@york.ac.uk>

> For detailed information on DGG's see http://cs.sou.edu/~sahrk/dgg/<http://cs.sou.edu/%7Esahrk/dgg/>
> .
>
> There is a paper in the journal Cartography and Geographic Information
> Science, 'Geodesic Discrete Global Grid Systems' by Kevin Sahr, Denis White
> and A. Jon Kimerling, linked from the above web page, which surveys DDG in
> detail.  In summary, DDG is a data structure, based on 'regular,
> multi-resolution partitions of polyhedra' where 'each region has a single
> point associated with it'.  It is analogous to Voronoi cells, but regular,
> rather than irregular.  'Usually, this series consists of increasingly finer
> resolution grids; i.e., the grids in the series have a monotonically
> increasing number of cells.' - this seems similar to using a quad-tree
> approach.
>
> 'Grids based on square partitions are by far the most familiar to users,
> and they map efficiently to common data structures and display devices. But
> such grids also have limitations. Discrete Global Grid Systems induced by
> the latitude?longitude graticule do not have equal-area cell regions, which
> complicates statistical analysis on these grids.'  A wide variety of cell
> forms have been proposed by various workers but, according to Sahr et al,
> 'It is highly unlikely that any single Geodesic DGGS will ever prove optimal
> for all applications. Many of the proposed systems include design
> innovations in particular areas, though their construction may have involved
> other, less desirable design choices.'
>
> I rather doubt GDAL has the functions for this approach, but I may be
> wrong.
>
> Peter
>
> reg ister wrote:
>
>> Hello everyone,
>> i ve ran into some odd projection and i would like to know if i can use
>> gdal
>> to reproject georeferenced data in this projection (gcp included in my
>> raster) . I'm used to gdal and projections but here i can't seem to find
>> enough information.
>> The idea is to reproject to a DGG (discrete global grid) The projection is
>> an adapted sinusoidal grid with an ellipsoid based on GEM 6 model (Goddard
>> Earth Model)
>>
>> Any insight or experience is apreciated but if no one already encountered
>> such a thing here are some precise questions that can help me
>>
>> I never encountered the name DGG before, does it implies some specific
>> feature about projection or is it just a synonym of grid ?
>> the grid considered seems to be composed of octaedrons, is it even
>> relevant
>> when projecting data considering i have the ellipsoid and type of
>> projection
>> ?
>> I have the major and minor axises for GEM 6 ellipsoid, would it be correct
>> (
>> and possible ) to specify these to gdal along with a sinusoidal projection
>> to reproject my data?
>> as you may have noticed, is said adapted sinusoidal grid... i don't what
>> adapted implies. would it be possible in gdal to "adapt" the built in
>> sinusoidal projection ( to what cost in dev )?
>>
>>
>> any help apreciated.
>>
>> Thanks everyone, keep up the good work
>>
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
> --
>
> --------------------------------------------------------------------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806     Fax: 01904 433740
> Snail mail: Computing Service, University of York, Heslington, York YO10
> 5DD
> This message has the status of a private and personal communication
>
> --------------------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090507/7e49c751/attachment-0001.html
From ivan.lucena at pmldnet.com  Thu May  7 09:14:16 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Thu May  7 09:14:18 2009
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gaG93IHRvIGFjY2VzcyBJbWFnZSBwYWxldHRlIGluIEhERiBmaWxlcw==?=
Message-ID: <20090507131416.16527.qmail@s466.sureserver.com>

Hi JoSn,

If you can't get it from GetColorTable() I believe that the problem is that the HDF driver doesn't recognize the internal schema of the files you have. If 
it was one of the well know formats it should work, like if you download MODIS Vegetation product for example. So I can foresee three options for 
you:

- If that is a well know HDF product, file a ticket as a request for improvement, if not:

- If you need to process several files of that product the color tables should be the same: use some kind of HDF tool to dump the colors on a text file 
and edit a GDAL VRT file. Maybe you can find the text code in plain text on the product description.

- Try to access the HDFEOS libraries from your C# code - that is the hard one - and find the color table yourself.

I hope that it helps,

Ivan

>  -------Original Message-------
>  From: jor sion <jorsion@gmail.com>
>  Subject: [gdal-dev] how to access Image palette in HDF files
>  Sent: May 07 '09 03:45
>  
>  Hi,
>  ?
>  I am using GDAL in CSharp to read the information from HDF files.
>  ?
>  [LINK: mailto:gdal-dev@lists.osgeo.org] I do not know how to access the
>  information Image palette in HDF files. The picture below shows the file
>  structure of the HDF file I used.
>  
>  and I want to got the information of Image palette.?
>  
>  
>  Any suggestions?
>  ?
>  
>  
>  Best wishes,
>  
>  --
>  JoSn
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From emiliomayorga at gmail.com  Thu May  7 12:49:23 2009
From: emiliomayorga at gmail.com (Emilio Mayorga)
Date: Thu May  7 12:49:25 2009
Subject: [gdal-dev] how to access Image palette in HDF files
In-Reply-To: <20090507131416.16527.qmail@s466.sureserver.com>
References: <20090507131416.16527.qmail@s466.sureserver.com>
Message-ID: <b0d146420905070949m372a8742r2be00ac17d58aff@mail.gmail.com>

That file description doesn't look like HDFEOS. But gdalinfo should
give enough info to figure it out.

-Emilio Mayorga


On Thu, May 7, 2009 at 6:14 AM, Lucena, Ivan <ivan.lucena@pmldnet.com> wrote:
> Hi JoSn,
>
> If you can't get it from GetColorTable() I believe that the problem is that the HDF driver doesn't recognize the internal schema of the files you have. If
> it was one of the well know formats it should work, like if you download MODIS Vegetation product for example. So I can foresee three options for
> you:
>
> - If that is a well know HDF product, file a ticket as a request for improvement, if not:
>
> - If you need to process several files of that product the color tables should be the same: use some kind of HDF tool to dump the colors on a text file
> and edit a GDAL VRT file. Maybe you can find the text code in plain text on the product description.
>
> - Try to access the HDFEOS libraries from your C# code - that is the hard one - and find the color table yourself.
>
> I hope that it helps,
>
> Ivan
>
>> ?-------Original Message-------
>> ?From: jor sion <jorsion@gmail.com>
>> ?Subject: [gdal-dev] how to access Image palette in HDF files
>> ?Sent: May 07 '09 03:45
>>
>> ?Hi,
>> ??
>> ?I am using GDAL in CSharp to read the information from HDF files.
>> ??
>> ?[LINK: mailto:gdal-dev@lists.osgeo.org] I do not know how to access the
>> ?information Image palette in HDF files. The picture below shows the file
>> ?structure of the HDF file I used.
>>
>> ?and I want to got the information of Image palette.?
>>
>>
>> ?Any suggestions?
>> ??
>>
>>
>> ?Best wishes,
>>
>> ?--
>> ?JoSn
>>
>> ?--------------------
>> ?_______________________________________________
>> ?gdal-dev mailing list
>> ?[LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>> ?[LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>> ?http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ari.jolma at tkk.fi  Thu May  7 14:18:57 2009
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Thu May  7 14:20:23 2009
Subject: [gdal-dev] When does the env var GDAL_DATA get processed?
In-Reply-To: <4A00A146.8070607@gmail.com>
References: <4A00A146.8070607@gmail.com>
Message-ID: <4A032611.6030806@tkk.fi>

brettwiesner kirjoitti:
> Hi,
>
> I have an application that programatically sets the GDAL_DATA 
> environment variable. However,  when I do this I get errors 
> complaining that it can't find GDAL_DATA. When I use an application 
> like process explorer to see the environment of the process I see that 
> I am correctly setting the environment variable to what I want. If I 
> run the application from a batch file that "sets" the env var before 
> running the application then things work.
>
> Because I can see from process explorer that I'm correctly setting the 
> env var for the process, I am left to believe that some dll get's 
> loaded and the GDAL_DATA env var is used before my code gets a chance 
> to set it. Is this possible? When/ where does the value of the env var 
> GDAL_DATA get used?

Does the error message you get specifically mention GDAL_DATA? I.e., 
does it contain "...Try setting the GDAL_DATA environment variable..."? 
I believe that's the only error message which refers to GDAL_DATA and 
it's called from OGRSpatialReference::importFromEPSGA in 
ogr_fromepsg.cpp. That method "Initialize SRS based on EPSG GCS or PCS 
code." (from docs). It shoudn't be called in an initialization of a DLL.

GDAL_DATA is used often when GDAL needs to find files, but if GDAL_DATA 
is not found there's no complaints.

Regards,

Ari

>
> Thanks,
> Brett
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Prof. Ari Jolma
Environmental Management Information Technology
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 4511 address: POBox 5300, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://geoinformatics.tkk.fi

From randre at gmail.com  Thu May  7 15:26:30 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu May  7 15:33:26 2009
Subject: [gdal-dev] free raster elevation model download
In-Reply-To: <eba00f2b0905061630l1c4effe4v78ca34eb628dac46@mail.gmail.com>
References: <394430.45945.qm@web32606.mail.mud.yahoo.com>
	<eba00f2b0905061630l1c4effe4v78ca34eb628dac46@mail.gmail.com>
Message-ID: <9c2015090905071226s248c72c6gbdfe37405f9c612d@mail.gmail.com>

http://srtm.csi.cgiar.org/
--

On Wed, May 6, 2009 at 4:30 PM, Matt Klaric <matt@klaric.com> wrote:

>
>
> On Wed, May 6, 2009 at 4:22 PM, mohwawang <mohwawang@yahoo.com> wrote:
>
>>
>> Is there a website that provides free download for raster elevation model
>> (DEM) that can be used by the gdal utility gdal_contour? Thanks.
>>
>>
> NASA:
> ftp://e0srp01u.ecs.nasa.gov/srtm/
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090507/7c754743/attachment.html
From brettwiesner at gmail.com  Thu May  7 16:31:13 2009
From: brettwiesner at gmail.com (brettwiesner)
Date: Thu May  7 16:32:24 2009
Subject: [gdal-dev] When does the env var GDAL_DATA get processed?
In-Reply-To: <4A032611.6030806@tkk.fi>
References: <4A00A146.8070607@gmail.com> <4A032611.6030806@tkk.fi>
Message-ID: <4A034511.20005@gmail.com>

Hi Ari, See inline:
> brettwiesner kirjoitti:
>> Hi,
>>
>> I have an application that programatically sets the GDAL_DATA 
>> environment variable. However,  when I do this I get errors 
>> complaining that it can't find GDAL_DATA. When I use an application 
>> like process explorer to see the environment of the process I see 
>> that I am correctly setting the environment variable to what I want. 
>> If I run the application from a batch file that "sets" the env var 
>> before running the application then things work.
>>
>> Because I can see from process explorer that I'm correctly setting 
>> the env var for the process, I am left to believe that some dll get's 
>> loaded and the GDAL_DATA env var is used before my code gets a chance 
>> to set it. Is this possible? When/ where does the value of the env 
>> var GDAL_DATA get used?
>
> Does the error message you get specifically mention GDAL_DATA? I.e., 
> does it contain "...Try setting the GDAL_DATA environment 
> variable..."? I believe that's the only error message which refers to 
> GDAL_DATA and it's called from OGRSpatialReference::importFromEPSGA in 
> ogr_fromepsg.cpp. That method "Initialize SRS based on EPSG GCS or PCS 
> code." (from docs). It shoudn't be called in an initialization of a DLL.
>
> GDAL_DATA is used often when GDAL needs to find files, but if 
> GDAL_DATA is not found there's no complaints.
Yes that's the error message. It goes on the say somthing about trying 
to find gcs.csv which is there but since it can't find the env var, it 
doesn't find the data. This is weird because I set the env var using the 
win32 function SetEnvironmentVariable() before the call to 
OGRSpatialReference is made. Since I was setting the variable and 
getting this message I suspected that GDAL_DATA was being read by 
something at startup.

Is there some code I can write that can tell me what gdal thinks the 
GDAL_DATA env var is set to?

Thanks,
Brett
From edomazlicky at tacomacc.edu  Thu May  7 16:23:22 2009
From: edomazlicky at tacomacc.edu (Domazlicky, Eric)
Date: Thu May  7 16:35:29 2009
Subject: [gdal-dev] free raster elevation model download
In-Reply-To: <eba00f2b0905061630l1c4effe4v78ca34eb628dac46@mail.gmail.com>
References: <394430.45945.qm@web32606.mail.mud.yahoo.com>
	<eba00f2b0905061630l1c4effe4v78ca34eb628dac46@mail.gmail.com>
Message-ID: <B7F858CF2D73F6459DDD8F14F68019D40DF89229@XMail.tccnet.edu>

Not sure what region you want but the University of Washington has it
for many areas of the Northwest USA, links to LIDAR data (some of which
is available in DEM) too.

http://gis.ess.washington.edu/data/raster/index.html

 

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Matt Klaric
Sent: Wednesday, May 06, 2009 4:31 PM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] free raster elevation model download

 

 

On Wed, May 6, 2009 at 4:22 PM, mohwawang <mohwawang@yahoo.com> wrote:


Is there a website that provides free download for raster elevation
model (DEM) that can be used by the gdal utility gdal_contour? Thanks.


NASA:
ftp://e0srp01u.ecs.nasa.gov/srtm/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090507/1164f6c5/attachment.html
From mohwawang at yahoo.com  Thu May  7 16:49:19 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Thu May  7 16:49:21 2009
Subject: [gdal-dev] free raster elevation model download
Message-ID: <4689.69620.qm@web32603.mail.mud.yahoo.com>


Matt,

Thank you very much. This set of elevation raster images is pretty good in accuracy and it's easy to download and use.

Mo

--- On Wed, 5/6/09, Matt Klaric <matt@klaric.com> wrote:

> From: Matt Klaric <matt@klaric.com>
> Subject: Re: [gdal-dev] free raster elevation model download
> To: gdal-dev@lists.osgeo.org
> Date: Wednesday, May 6, 2009, 7:30 PM
> 
> 
> On Wed, May 6, 2009 at 4:22 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> 
> 
> 
> 
> Is there a website that provides free download for raster
> elevation model (DEM) that can be used by the gdal utility
> gdal_contour? Thanks.
> 
> 
> 
> NASA:
> ftp://e0srp01u.ecs.nasa.gov/srtm/
> 
> 
> -----Inline Attachment Follows-----
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


      
From mohwawang at yahoo.com  Thu May  7 16:50:58 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Thu May  7 16:51:00 2009
Subject: [gdal-dev] free raster elevation model download
Message-ID: <387927.13233.qm@web32607.mail.mud.yahoo.com>


Roger,

Thank you very much.

Mo

--- On Thu, 5/7/09, Roger Andr? <randre@gmail.com> wrote:

> From: Roger Andr? <randre@gmail.com>
> Subject: Re: [gdal-dev] free raster elevation model download
> To: "Matt Klaric" <matt@klaric.com>
> Cc: gdal-dev@lists.osgeo.org
> Date: Thursday, May 7, 2009, 3:26 PM
> http://srtm.csi.cgiar.org/
> --
> 
> On Wed, May 6, 2009 at 4:30 PM,
> Matt Klaric <matt@klaric.com>
> wrote:
> 
> 
> 
> On Wed, May 6, 2009 at 4:22 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> 
> 
> 
> 
> 
> Is there a website that provides free download for raster
> elevation model (DEM) that can be used by the gdal utility
> gdal_contour? Thanks.
> 
> 
> 
> NASA:
> ftp://e0srp01u.ecs.nasa.gov/srtm/
> 
> 
> _______________________________________________
> 
> gdal-dev mailing list
> 
> gdal-dev@lists.osgeo.org
> 
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -----Inline Attachment Follows-----
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


      
From mohwawang at yahoo.com  Thu May  7 16:52:53 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Thu May  7 16:52:55 2009
Subject: [gdal-dev] free raster elevation model download
Message-ID: <859321.68182.qm@web32606.mail.mud.yahoo.com>


Domazlicky,

Thank you.

Mo

--- On Thu, 5/7/09, Domazlicky, Eric <edomazlicky@tacomacc.edu> wrote:

> From: Domazlicky, Eric <edomazlicky@tacomacc.edu>
> Subject: RE: [gdal-dev] free raster elevation model download
> To: "Matt Klaric" <matt@klaric.com>, gdal-dev@lists.osgeo.org
> Date: Thursday, May 7, 2009, 4:23 PM
> 
> 
> 
>  
>  
> 
> 
> 
> 
> 
> 
>  
> 
> 
> 
> Not sure what region you want
> but the University of Washington
> has it for many areas of the Northwest USA, links to LIDAR
> data (some of which
> is available in DEM) too. 
> 
> http://gis.ess.washington.edu/data/raster/index.html
> 
> 
>  ? 
> 
>  ? 
> 
> 
> 
> From:
> gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On
> Behalf Of Matt Klaric
> 
> Sent: Wednesday, May 06, 2009 4:31 PM
> 
> To: gdal-dev@lists.osgeo.org
> 
> Subject: Re: [gdal-dev] free raster elevation model
> download 
> 
> 
> 
>  ? 
> 
> 
> ? 
> 
> 
> 
> On Wed, May 6, 2009 at 4:22 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote: 
> 
> 
> 
> Is there a website that provides free download for raster
> elevation model (DEM)
> that can be used by the gdal utility gdal_contour?
> Thanks. 
> 
> 
> 
> 
> 
> NASA:
> 
> ftp://e0srp01u.ecs.nasa.gov/srtm/
> 
> 
> 
> 
>  
> 
> 
> 
> -----Inline Attachment Follows-----
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


      
From xiaodong.zhang2 at und.edu  Thu May  7 17:22:00 2009
From: xiaodong.zhang2 at und.edu (Xiaodong Zhang)
Date: Thu May  7 17:51:25 2009
Subject: [gdal-dev] acronym for OGR
Message-ID: <4A0350F8.7090506@und.edu>

Hi there,

I have a simple question to ask: what does OGR stand for?

Thanks
Xiaodong

From ksshannon at gmail.com  Thu May  7 18:02:02 2009
From: ksshannon at gmail.com (Kyle Shannon)
Date: Thu May  7 18:02:24 2009
Subject: [gdal-dev] acronym for OGR
In-Reply-To: <4A0350F8.7090506@und.edu>
References: <4A0350F8.7090506@und.edu>
Message-ID: <c28f2e140905071502y18761fd7nd284887b1f7c4e85@mail.gmail.com>

http://trac.osgeo.org/gdal/wiki/FAQGeneral#WhatdoesOGRstandsfor
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
ksshannon@gmail.com
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


On Thu, May 7, 2009 at 3:22 PM, Xiaodong Zhang <xiaodong.zhang2@und.edu>wrote:

> Hi there,
>
> I have a simple question to ask: what does OGR stand for?
>
> Thanks
> Xiaodong
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090507/5acfc3e5/attachment.html
From szekerest at gmail.com  Thu May  7 18:43:06 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu May  7 18:43:09 2009
Subject: [gdal-dev] When does the env var GDAL_DATA get processed?
In-Reply-To: <4A034511.20005@gmail.com>
References: <4A00A146.8070607@gmail.com> <4A032611.6030806@tkk.fi>
	<4A034511.20005@gmail.com>
Message-ID: <f3b73b7d0905071543m74db997nef1122ebca48db40@mail.gmail.com>

2009/5/7 brettwiesner <brettwiesner@gmail.com>

> Yes that's the error message. It goes on the say somthing about trying to
> find gcs.csv which is there but since it can't find the env var, it doesn't
> find the data. This is weird because I set the env var using the win32
> function SetEnvironmentVariable() before the call to OGRSpatialReference is
> made. Since I was setting the variable and getting this message I suspected
> that GDAL_DATA was being read by something at startup.
>

Hi,

I'm afraid you won't be able to set the environment variable this way. GDAL
is using getenv() to retrieve the value which operated on a local copy of
the variables created when the process is started. By this means the env
variable should be set before the process is spawned.



>
> Is there some code I can write that can tell me what gdal thinks the
> GDAL_DATA env var is set to?
>

You should instead use SetConfigOption or PushFinderLocation (both exposed
to the SWIG API) for this purpose.


Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090508/5f10d8f7/attachment.html
From pcreso at pcreso.com  Thu May  7 19:10:10 2009
From: pcreso at pcreso.com (pcreso@pcreso.com)
Date: Thu May  7 19:10:12 2009
Subject: [gdal-dev] acronym for OGR
Message-ID: <934649.75488.qm@web33205.mail.mud.yahoo.com>


I'm not sure if anyone knows, the last time I saw this discussed there was no clear answer. This doesn't help muc...

http://www.acronymattic.com/OGR.html

At a guess it was something like Open Geometry Reformatter, which makes about as much sense as anything :-)

If anyone does know, could this be added to the website?


Cheers,

  Brent Wood


--- On Fri, 5/8/09, Xiaodong Zhang <xiaodong.zhang2@und.edu> wrote:

> From: Xiaodong Zhang <xiaodong.zhang2@und.edu>
> Subject: [gdal-dev] acronym for OGR
> To: "gdal dev" <gdal-dev@lists.osgeo.org>
> Date: Friday, May 8, 2009, 9:22 AM
> Hi there,
> 
> I have a simple question to ask: what does OGR stand for?
> 
> Thanks
> Xiaodong
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From mateusz at loskot.net  Thu May  7 19:59:50 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu May  7 19:59:56 2009
Subject: [gdal-dev] acronym for OGR
In-Reply-To: <934649.75488.qm@web33205.mail.mud.yahoo.com>
References: <934649.75488.qm@web33205.mail.mud.yahoo.com>
Message-ID: <4A0375F6.7010207@loskot.net>

pcreso@pcreso.com wrote:
> I'm not sure if anyone knows, the last time I saw this discussed
> there was no clear answer. This doesn't help muc...
> 
> http://www.acronymattic.com/OGR.html
> 
> At a guess it was something like Open Geometry Reformatter, which
> makes about as much sense as anything :-)
> 
> If anyone does know, could this be added to the website?

It has been added a year ago

http://trac.osgeo.org/gdal/wiki/FAQGeneral?action=diff&version=4&old_version=3


Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From warmerdam at pobox.com  Fri May  8 09:22:14 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May  8 09:21:59 2009
Subject: [gdal-dev] FOSS4G 2009 Registration Opens
Message-ID: <4A043206.7050605@pobox.com>

Folks,

FOSS4G is always the premier open source geospatial event of the
year, and an important venue for MapServer and a variety of related
projects.  I would encourage folks to attend, and to present on
GDAL related activities.

Frank

-------


2009 Free and Open Source Software for Geospatial (FOSS4G)
October 20-23, Sydney, Australia

   http://2009.foss4g.org/

   Register prior to the July 31st Early Bird Deadline to
   save on your registration fees!

   Join 500 other geospatial professionals in
   exploring and explaining the world of
   OPEN SOURCE geospatial software.

   Workshops, labs, presentations, and networking,
   all in beautiful Sydney, Australia.

SUBMIT A PRESENTATION

   Submit a presentation online at
   http://2009.foss4g.org/presentations/

   The deadline for submissions is June 1st, 2009.

   FOSS4G presentations are 25 minute talks, with 5 minute
   question and answer sessions at the end. Presentations
   cover the use or development of open source geospatial
   software. Anyone can submit a presentation proposal and
   take part in the conference as a presenter. More
   information is available on the presentations page on
   the website.

EXHIBITOR AND SPONSORSHIP OPPORTUNITIES

   For information on exhibitor and sponsorship opportunities,
   see http://2009.foss4g.org/sponsorship/ or contact Cameron Shorter,
   Conference Chair via email at cameron.shorter@gmail.com.

   We hope to see you in Sydney, Australia in October!

   Yours,

   The FOSS4G 2009 Conference Committee


From hobu.inc at gmail.com  Fri May  8 22:24:46 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri May  8 22:24:49 2009
Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
Message-ID: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>

All,

The GDAL team is pleased to announce the release of GDAL 1.6.1 RC1.   
According to the roadmap, exactly 100 bugs have been addressed in this  
release.   Because this is our first maintenance release in the 1.6  
series, and the list is quite large, I am not posting the list of bugs  
fixed in this email.  Navigate to <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News 
 > to see if your pet burr has been excised.

* http://download.osgeo.org/gdal/gdal-1.6.1-RC1.tar.gz
* http://download.osgeo.org/gdal/gdal161-RC1.zip

Please test thoroughly, as I am a new release manager, this is my  
first GDAL release, and I may have missed something as part of the  
release process.  If no significant issues are identified, a PSC vote  
will be called for to promote this RC to final on Wednesday or  
Thursday next week.

Howard
From everyourgokul at gmail.com  Sat May  9 05:18:01 2009
From: everyourgokul at gmail.com (Gokul Kartha)
Date: Sat May  9 05:19:03 2009
Subject: [gdal-dev] Personal invitation from Gokul Kartha
Message-ID: <20090509051801.1815773144@unyk.com>

Personal invitation from Gokul Kartha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090509/a0101ffe/attachment.html
From even.rouault at mines-paris.org  Sat May  9 05:40:02 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May  9 05:40:14 2009
Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
In-Reply-To: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
Message-ID: <200905091140.03257.even.rouault@mines-paris.org>

Howard,

The only serious issue I've found is that the Perl bindings don't build. They 
fail with the following error message:

"
perl Makefile.PL
Building in GDAL distro tree
GDAL version (1.6.1) and module version (1.6.0) do not match at Makefile.PL 
line 50.
"

I've identified that the GDAL version is hard coded to '1.6.0' in 
swig/include/perl/gdal_perl.i. Bumping GDAL_VERSION to '1.6.1' in it seems 
sufficient to make the build go on, provided that the generated files are 
regenerated (namely swig/perl/lib/Geo/GDAL.pm). Likely, another step to add 
in our HOWTO-RELEASE process...

I've also noticed that the generated files in SVN for swig/perl are clearly 
out of date, but in your snapshot, you have regenerated them, right ? 
Probably a missing commit, but not a big deal if we decide to delete them in 
SVN finally.

Last point, the NEWS file is usually updated in branches/1.6 before tag 
creation, so that it is up-to-date in the .zip/.tar.gz archive.
In a previous version of http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News, I 
had also added the fixes that have gone to 1.5 branch since 1.5.4, and thus 
are also included in 1.6.1, but that disappeared when you refreshed it in 
last version. I'm not sure what the policy is in that case. So we have 117 
bugs closed in 1.6.1 ;-)

Even

Le Saturday 09 May 2009 04:24:46 Howard Butler, vous avez ?crit?:
> All,
>
> The GDAL team is pleased to announce the release of GDAL 1.6.1 RC1.
> According to the roadmap, exactly 100 bugs have been addressed in this
> release.   Because this is our first maintenance release in the 1.6
> series, and the list is quite large, I am not posting the list of bugs
> fixed in this email.  Navigate to
> <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News
>
>  > to see if your pet burr has been excised.
>
> * http://download.osgeo.org/gdal/gdal-1.6.1-RC1.tar.gz
> * http://download.osgeo.org/gdal/gdal161-RC1.zip
>
> Please test thoroughly, as I am a new release manager, this is my
> first GDAL release, and I may have missed something as part of the
> release process.  If no significant issues are identified, a PSC vote
> will be called for to promote this RC to final on Wednesday or
> Thursday next week.
>
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From ivan.lucena at pmldnet.com  Sat May  9 07:31:26 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Sat May  9 07:31:29 2009
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gR0RBTCAxLjYuMSBSQzEgUmVsZWFzZWQ=?=
Message-ID: <20090509113126.24976.qmail@s466.sureserver.com>

Howard,

I ran gdal_autotest/run_all.py and it crashed Python at that point:

---
Running tests from gcore/tiff_ovr.py
  TEST: tiff_ovr_1 ... success
  TEST: tiff_ovr_2 ... success
  TEST: tiff_ovr_3 ... success
  TEST: tiff_ovr_3bis ... success
  TEST: tiff_ovr_4 ... success
  TEST: tiff_ovr_5 ... success
  TEST: tiff_ovr_6 ... success
  TEST: tiff_ovr_7 ... success
  TEST: tiff_ovr_8 ... success
  TEST: tiff_ovr_9 ... success
  TEST: tiff_ovr_10 ... success
  TEST: tiff_ovr_11 ... success
  TEST: tiff_ovr_12 ... success
  TEST: tiff_ovr_13 ... success
  TEST: tiff_ovr_14 ... success
  TEST: tiff_ovr_15 ... success
  TEST: tiff_ovr_16 ... success
  TEST: tiff_ovr_17 ... success
  TEST: tiff_ovr_18 ... success
  TEST: tiff_ovr_19 ... success
  TEST: tiff_ovr_20 ... success
  TEST: tiff_ovr_21 ... success
  TEST: tiff_ovr_22 ... success
  TEST: tiff_ovr_23 ... success
  TEST: tiff_ovr_24 ... success
  TEST: tiff_ovr_25 ... success
  TEST: tiff_ovr_26 ... success
  TEST: tiff_ovr_27 ...
E:\Dev\gdal_autotest >
E:\Dev\gdal_autotest>gdalinfo --version
GDAL 1.6.1, released 2009/05/09
---

Regards,

Ivan



>  -------Original Message-------
>  From: Howard Butler <hobu.inc@gmail.com>
>  Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
>  Sent: May 08 '09 21:24
>  
>  All,
>  
>  The GDAL team is pleased to announce the release of GDAL 1.6.1 RC1.??
>  According to the roadmap, exactly 100 bugs have been addressed in this??
>  release.?? Because this is our first maintenance release in the 1.6??
>  series, and the list is quite large, I am not posting the list of bugs??
>  fixed in this email.??Navigate to <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News
>  > to see if your pet burr has been excised.
>  
>  * http://download.osgeo.org/gdal/gdal-1.6.1-RC1.tar.gz
>  * http://download.osgeo.org/gdal/gdal161-RC1.zip
>  
>  Please test thoroughly, as I am a new release manager, this is my??
>  first GDAL release, and I may have missed something as part of the??
>  release process.??If no significant issues are identified, a PSC vote??
>  will be called for to promote this RC to final on Wednesday or??
>  Thursday next week.
>  
>  Howard
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  

From even.rouault at mines-paris.org  Sat May  9 07:37:15 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May  9 07:37:26 2009
Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
In-Reply-To: <20090509113126.24976.qmail@s466.sureserver.com>
References: <20090509113126.24976.qmail@s466.sureserver.com>
Message-ID: <200905091337.16367.even.rouault@mines-paris.org>

Ivan,

I guess you have run trunk autotest, instead of 1.6 branch autotest.
(last test for 1.6 branch autotest is tiff_ovr_19). It is not surprising that 
you get crashes on some steps when running autotest of trunk with earlier 
GDAL version, as new test steps are introduced to test some bug fixes that 
only go into trunk.

So I think it is not an issue for 1.6.1 release.

Best regards,

Even

Le Saturday 09 May 2009 13:31:26 Lucena, Ivan, vous avez ?crit?:
> Howard,
>
> I ran gdal_autotest/run_all.py and it crashed Python at that point:
>
> ---
> Running tests from gcore/tiff_ovr.py
>   TEST: tiff_ovr_1 ... success
>   TEST: tiff_ovr_2 ... success
>   TEST: tiff_ovr_3 ... success
>   TEST: tiff_ovr_3bis ... success
>   TEST: tiff_ovr_4 ... success
>   TEST: tiff_ovr_5 ... success
>   TEST: tiff_ovr_6 ... success
>   TEST: tiff_ovr_7 ... success
>   TEST: tiff_ovr_8 ... success
>   TEST: tiff_ovr_9 ... success
>   TEST: tiff_ovr_10 ... success
>   TEST: tiff_ovr_11 ... success
>   TEST: tiff_ovr_12 ... success
>   TEST: tiff_ovr_13 ... success
>   TEST: tiff_ovr_14 ... success
>   TEST: tiff_ovr_15 ... success
>   TEST: tiff_ovr_16 ... success
>   TEST: tiff_ovr_17 ... success
>   TEST: tiff_ovr_18 ... success
>   TEST: tiff_ovr_19 ... success
>   TEST: tiff_ovr_20 ... success
>   TEST: tiff_ovr_21 ... success
>   TEST: tiff_ovr_22 ... success
>   TEST: tiff_ovr_23 ... success
>   TEST: tiff_ovr_24 ... success
>   TEST: tiff_ovr_25 ... success
>   TEST: tiff_ovr_26 ... success
>   TEST: tiff_ovr_27 ...
> E:\Dev\gdal_autotest >
> E:\Dev\gdal_autotest>gdalinfo --version
> GDAL 1.6.1, released 2009/05/09
> ---
>
> Regards,
>
> Ivan
>
> >  -------Original Message-------
> >  From: Howard Butler <hobu.inc@gmail.com>
> >  Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
> >  Sent: May 08 '09 21:24
> >
> >  All,
> >
> >  The GDAL team is pleased to announce the release of GDAL 1.6.1 RC1.??
> >  According to the roadmap, exactly 100 bugs have been addressed in this??
> >  release.?? Because this is our first maintenance release in the 1.6??
> >  series, and the list is quite large, I am not posting the list of bugs??
> >  fixed in this email.??Navigate to
> > <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News
> >
> >  > to see if your pet burr has been excised.
> >
> >  * http://download.osgeo.org/gdal/gdal-1.6.1-RC1.tar.gz
> >  * http://download.osgeo.org/gdal/gdal161-RC1.zip
> >
> >  Please test thoroughly, as I am a new release manager, this is my??
> >  first GDAL release, and I may have missed something as part of the??
> >  release process.??If no significant issues are identified, a PSC vote??
> >  will be called for to promote this RC to final on Wednesday or??
> >  Thursday next week.
> >
> >  Howard
> >  _______________________________________________
> >  gdal-dev mailing list
> >  gdal-dev@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jolma at cc.hut.fi  Sat May  9 09:09:10 2009
From: jolma at cc.hut.fi (Ari Jolma)
Date: Sat May  9 09:45:23 2009
Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
In-Reply-To: <200905091140.03257.even.rouault@mines-paris.org>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<200905091140.03257.even.rouault@mines-paris.org>
Message-ID: <fe6cebe3f826.f826fe6cebe3@cc.hut.fi>

From: Even Rouault <even.rouault@mines-paris.org>
> 
> The only serious issue I've found is that the Perl bindings don't 
> build. They 
> fail with the following error message:
> 
> "
> perl Makefile.PL
> Building in GDAL distro tree
> GDAL version (1.6.1) and module version (1.6.0) do not match at 
> Makefile.PL 
> line 50.
> "
> 
> I've identified that the GDAL version is hard coded to '1.6.0' in 
> swig/include/perl/gdal_perl.i. Bumping GDAL_VERSION to '1.6.1' in 
> it seems 
> sufficient to make the build go on, provided that the generated 
> files are 
> regenerated (namely swig/perl/lib/Geo/GDAL.pm). Likely, another 
> step to add 
> in our HOWTO-RELEASE process...

Thanks Even! I'm sorry for my negligence.

Some kind of automation could be implemented to pick the GDAL_VERSION
into gdal_perl.i I assume.

The version is there to be able to check against building the Perl
bindings against incompatible GDAL main.

> 
> I've also noticed that the generated files in SVN for swig/perl are 
> clearly 
> out of date, but in your snapshot, you have regenerated them, right 
> ? 
> Probably a missing commit, but not a big deal if we decide to 
> delete them in 
> SVN finally.
> 

I'm looking forward to that.

Ari

From ivan.lucena at pmldnet.com  Sat May  9 18:30:36 2009
From: ivan.lucena at pmldnet.com (Ivan)
Date: Sat May  9 18:30:07 2009
Subject: [gdal-dev] GDAL 1.6.1 RC1 Released
In-Reply-To: <200905091337.16367.even.rouault@mines-paris.org>
References: <20090509113126.24976.qmail@s466.sureserver.com>
	<200905091337.16367.even.rouault@mines-paris.org>
Message-ID: <4A06040C.9090101@pmldnet.com>

Even, Howard,

Even Rouault wrote:
> Ivan,
> 
> I guess you have run trunk autotest, instead of 1.6 branch autotest.
> (last test for 1.6 branch autotest is tiff_ovr_19). It is not surprising that 
> you get crashes on some steps when running autotest of trunk with earlier 
> GDAL version, as new test steps are introduced to test some bug fixes that 
> only go into trunk.

That is probably the case.

Regards,

Ivan

From buchuki at gmail.com  Sun May 10 16:32:53 2009
From: buchuki at gmail.com (Dusty Phillips)
Date: Sun May 10 16:33:19 2009
Subject: [gdal-dev] Working with overviews (in python)
Message-ID: <7ecb79cc0905101332h5b590126k196a4d070a303d32@mail.gmail.com>

Hi there,

This is almost certainly an RTFM question, but I need a pointer to
what manual pages I need to read. I'm quite new to gdal and coming to
it backwards. I'm working with python and basically trying to
implement the suggestion Frank makes here in python:

http://lists.osgeo.org/pipermail/gdal-dev/2009-March/020200.html

So I've run gdaladdo on a .vrt file to create a vrt.ovr file; the .vrt
file is processed by another python script later. The problem is that
the overviews are not high enough quality and I'd like to warp the
overviews using cubic spline sampling.

I know a little bit how to work with ReprojectImage as discussed in
the above post. The thing I don't understand is how to get the dataset
handles for a specific overview so I can regenerate it. I'm pretty
sure this is a fundamental misunderstanding of how overviews are
generated and handled in gdal, but I can't find any documentation to
enlighten me.

Frank says in the above post:
"For instance, this C entry point could likely be used with hSrcDS
being the base datset, and hDstDS being the dataset for the
overviews."

My understanding is that I will have to reproject each individual zoom
level into the overview file using a different SetGeoTransform, so I
need somehow to reference a dataset in the overview at an individual
zoom level. Am I misunderstanding?

Thanks for any links or additional information,

Dusty
From even.rouault at mines-paris.org  Sun May 10 16:57:09 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May 10 16:57:20 2009
Subject: [gdal-dev] Working with overviews (in python)
In-Reply-To: <7ecb79cc0905101332h5b590126k196a4d070a303d32@mail.gmail.com>
References: <7ecb79cc0905101332h5b590126k196a4d070a303d32@mail.gmail.com>
Message-ID: <200905102257.10402.even.rouault@mines-paris.org>

Hi,

As Frank said in his email, there's work needed in GDAL internals to do what 
you want properly. But I've just found a workaround that might work if you 
only plan to use the produced (external) overviews with GDAL. The trick is to 
generate the overviews by hand with gdalwarp.

Let's say that your input file is 1024x1024 large.
Then try :
gdalwarp -rcs -ts 512 512 input.tif input.tif.ovr
gdalwarp -rcs -ts 256 256 input.tif.ovr input.tif.ovr.ovr
gdalwarp -rcs -ts 128 128 input.tif.ovr.ovr input.tif.ovr.ovr.ovr

By chance, GDAL can handle overviews of overviews...

Best regards,
Even
From richard.greenwood at gmail.com  Sun May 10 20:25:07 2009
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Sun May 10 20:25:09 2009
Subject: [gdal-dev] ogr2ogr non-spatial
Message-ID: <ae9185aa0905101725w6739e94foe5959c3bb85771f7@mail.gmail.com>

A quick success story and note of thanks here. I often need to move
many database tables from AS/400 DB2 into PostgreSQL. Out of habit I
tended to do this with MS SQL Server DTS or MS Access. Neither of
these were giving me any joy on a recent project. Finally the light
went on in my head and I tried ogr2ogr and it worked perfectly - easy
to script, easy to log progress and errors, easy to install, etc, etc.
We all know what a powerful tool ogr2ogr is for our spatial data, but
I was overlooking its utility for more mundane tasks. Thanks Frank, et
al for a great, versatile tool!

Regards,
-- 
Richard Greenwood
richard.greenwood@gmail.com
www.greenwoodmap.com
From a.neumann at carto.net  Mon May 11 03:02:28 2009
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon May 11 03:02:39 2009
Subject: [gdal-dev] gdal_merge problems: Negative size passed to  
	PyString_FromStringAndSize
In-Reply-To: <200905062136.10491.even.rouault@mines-paris.org>
References: <25001.193.246.86.39.1241621286.squirrel@webmail.carto.net>
	<200905062136.10491.even.rouault@mines-paris.org>
Message-ID: <35421.193.246.86.39.1242025348.squirrel@webmail.carto.net>

Hi Even,

Thank you for your very detailed explanation.

I can now see what the problem is and was able to work around it by
splitting up the larger files first that would exceed the maximum size.

Andreas

On Wed, May 6, 2009 9:36 pm, Even Rouault wrote:
> Le Wednesday 06 May 2009 16:48:06 Andreas Neumann, vous avez ?crit?:
>> Hi,
>> Filename: a25.tif
>> File Size: 25472x25427x1
>> Pixel Size: 42.431795 x -42.431795
>> UL:(697837651.400476,244274906.596461)
>> LR:(698918474.082743,243195993.344970)
>> Copy 0,0,25472,25427 to 205747,211643,50722,50632.
>
> --> here's the issue. a25.tif is resampled from 25472x25427 to a
> 50722x50632
> raster. But as gdal_merge.py just operates on full buffers, this results
> in
> trying to allocate 50722x50632 pixels = 2 568 156 304 bytes, which is
> above
> the largest 32 bit (signed) integer whose value is 2 147 483 647. So this
> value is interpreated as a negative size by Python...
>
> To make the story short, you didn't do anything wrong. You've just hit a
> known
> limitation of gdal_merge.py.
>
> The issue is that the default pixel size used for the destination merged
> file
> is the pixel size of the first source raster processed, in your case
> 21.309260 x -21.309260 for a01.tif. But a25.tif on which the error occurs
> has
> a pixel size of  42.431795 x -42.431795. So it must be nearly over-sampled
> by
> a factor of 2, so that accounts for his size going from 25472x25427 to a
> 50722x50632.
>
> There are several workarounds :
> - use the -ps flag of gdal_merge.py to increase the pixel size of the
> destination raster. "-ps 30 30" would probably work (provided that you've
> enough memory)
> - or add a preprocessing step that cuts a25.tif into 4 smaller pieces.
> This
> can be done with 4 calls to gdal_translate by using the -srcwin option
> - or use gdalwarp to do the same thing. It has not the limitation of
> gdal_merge.py, but it is known to be much slower.
>
> Patches to improve gdal_merge.py are welcome ;-)
>
>> Traceback (most recent call last):
>>   File "/usr/local/bin/gdal_merge.py", line 427, in <module>
>>     fi.copy_into( t_fh, band, band, nodata )
>>   File "/usr/local/bin/gdal_merge.py", line 227, in copy_into
>>     nodata_arg )
>>   File "/usr/local/bin/gdal_merge.py", line 47, in raster_copy
>>     nodata )
>>   File "/usr/local/bin/gdal_merge.py", line 83, in
>> raster_copy_with_nodata
>>     t_xsize, t_ysize )
>>   File
>> "/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/g
>>dal.py", line 835, in ReadAsArray
>>     buf_xsize, buf_ysize, buf_obj )
>>   File
>> "/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/g
>>dal_array.py", line 133, in BandReadAsArray
>>     buf_xsize, buf_ysize, datatype )
>>   File
>> "/usr/lib/python2.5/site-packages/GDAL-1.6.0-py2.5-linux-x86_64.egg/osgeo/g
>>dal.py", line 760, in ReadRaster
>>     return _gdal.Band_ReadRaster(*args, **kwargs)
>> SystemError: Negative size passed to PyString_FromStringAndSize
>> -------------------
>>
>> Is this a problem with my data, georeferencing or projection or is it a
>> problem in gdal_merge?
>>
>> Thanks for any idea what might be wrong in this case!
>>
>> Andreas
>
>
>


-- 
Andreas Neumann
http://www.carto.net/neumann/
http://www.svgopen.org/

From mukeshkb4u at gmail.com  Mon May 11 05:08:38 2009
From: mukeshkb4u at gmail.com (mukeshkb4u)
Date: Mon May 11 05:08:40 2009
Subject: [Gdal-dev] "gdalce.dll" & "gdalce_i.lib" for CE
In-Reply-To: <d8b8d6400701090354k4b2a2c2as6b766a3e066f1204@mail.gmail.com>
References: <d8b8d6400701090354k4b2a2c2as6b766a3e066f1204@mail.gmail.com>
Message-ID: <1242032918512-2861961.post@n2.nabble.com>


Helo Sir,
>From your Posts,i guess you have made GDAL working on wince.
I am able to compile the GDAL for wince. But Dont know how to proceed
further.
Can you please help me in this regard providing me some simple applications
to use GDAL or any references.

regards
Mukesh kumar
-- 
View this message in context: http://n2.nabble.com/%22gdalce.dll%22---%22gdalce_i.lib%22-for-CE-tp2028494p2861961.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From massimodisasha at yahoo.it  Mon May 11 10:04:21 2009
From: massimodisasha at yahoo.it (massimo di stefano)
Date: Mon May 11 10:11:28 2009
Subject: [gdal-dev] gdal-grass on mac osx, build errors
Message-ID: <DB96C78F-1A07-4D65-A260-BC5EDC65D73E@yahoo.it>







hi i'm tring to have gdal-grass installed on osx using grass7+gdal svn,
i compiled gdal, then grass,

then cd in the gdal source/frmts/grass

run make dist to create the tar.gz package.

i configured it using : ./configure --with-gdal=/usr/local/gdal/bin/ 
gdal-config --with-grass=/usr/local/grass-7.0.svn/

but iget these error :

cd /Users/Shared/source/gdal-grass-1.7.0
macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ ./configure --with- 
gdal=/usr/local/gdal/bin/gdal-config --with-grass=/usr/local/ 
grass-7.0.svn/
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking for ranlib... ranlib
Undefined symbols:
   "_main", referenced from:
       start in crt1.10.5.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
checking for g++ -dynamiclib ... yes
user supplied gdal-config (/usr/local/gdal/bin/gdal-config)
using /usr/local/gdal//lib/gdalplugins as GDAL shared library autoload  
directory
checking for G_asprintf in -lgrass_gis... no
checking for G_putenv in -lgrass_gis... yes
configure: creating ./config.status
config.status: creating Makefile
macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ make
g++ -Wall -fPIC  -DUSE_CPL -DGRASS_GISBASE=\"/usr/local/grass-7.0.svn/ 
\" -I/usr/local/gdal//include -I/usr/local/grass-7.0.svn//include   -c  
-o grass57dataset.o grass57dataset.cpp
In file included from grass57dataset.cpp:45:
/usr/local/grass-7.0.svn//include/grass/gprojects.h:21:22: error:  
proj_api.h: No such file or directory
/usr/local/grass-7.0.svn//include/grass/gprojects.h:35: error:  
?projPJ? does not name a type
make: *** [grass57dataset.o] Error 1



need i to configure and build gdal giving the proj path ?

i've proj installed as framework in : /Library/Frameworks/ 
PROJ.framework/

i tried to work around the problem adding
in the gdal-grass makefile,
-L and -I path to where i've proj installed

but don't fix the problem instead give me an other error

macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ make
g++ -Wall -fPIC  -DUSE_CPL -DGRASS_GISBASE=\"/usr/local/grass-7.0.svn/ 
\" -I/usr/local/gdal//include -I/usr/local/grass-7.0.svn//include   -c  
-o grass57dataset.o grass57dataset.cpp
g++ -dynamiclib grass57dataset.o -L/usr/local/grass-7.0.svn//lib - 
lgrass_gmath -lgrass_gis -lgrass_datetime -lgrass_gproj -lgrass_vect - 
lgrass_dbmibase -lgrass_dbmiclient -lgrass_dgl -lgrass_dig2 - 
lgrass_rtree -lgrass_linkm -L/usr/local/gdal//lib -lgdal  -o  
gdal_GRASS.so
Undefined symbols:
   "_I_get_group_ref", referenced from:
       GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
   "_I_init_group_ref", referenced from:
       GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
   "_I_free_group_ref", referenced from:
       GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make: *** [gdal_GRASS.so] Error 1



... restoring the original Makefile and installig proj from source in / 
usr/local
give me the exacltly same error ad i hadd adding -L and -I in the  
makefile





have you any suggestion ?

thaks!











Massimo Di Stefano
massimodisasha@yahoo.it

epifanio on   irc.freenode.net  /join gfoss







Chiacchiera con i tuoi amici in tempo reale! 
 http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com 
From woklist at kyngchaos.com  Mon May 11 10:35:37 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon May 11 10:35:41 2009
Subject: [gdal-dev] gdal-grass on mac osx, build errors
In-Reply-To: <DB96C78F-1A07-4D65-A260-BC5EDC65D73E@yahoo.it>
References: <DB96C78F-1A07-4D65-A260-BC5EDC65D73E@yahoo.it>
Message-ID: <09860EC2-F3CF-4C09-88C1-A6DA4307C090@kyngchaos.com>

You should be able to build the GRASS plugin off my GDAL framework, to  
avoid unnecessary duplication, and retain all the other formats built  
into my framework.  Though there might be a version issue between GDAL  
1.7/GRASS plugin and my GDAL 1.6 framework.

I'll look into and get back to you.  I have a makefile that I use  
myself that I can adapt.

On May 11, 2009, at 9:04 AM, massimo di stefano wrote:

> hi i'm tring to have gdal-grass installed on osx using grass7+gdal  
> svn,
> i compiled gdal, then grass,
>
> then cd in the gdal source/frmts/grass
>
> run make dist to create the tar.gz package.
>
> i configured it using : ./configure --with-gdal=/usr/local/gdal/bin/ 
> gdal-config --with-grass=/usr/local/grass-7.0.svn/
>
> but iget these error :
>
> cd /Users/Shared/source/gdal-grass-1.7.0
> macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ ./configure --with- 
> gdal=/usr/local/gdal/bin/gdal-config --with-grass=/usr/local/ 
> grass-7.0.svn/
> checking for gcc... gcc
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables...
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc accepts -g... yes
> checking for gcc option to accept ANSI C... none needed
> checking for g++... g++
> checking whether we are using the GNU C++ compiler... yes
> checking whether g++ accepts -g... yes
> checking for ranlib... ranlib
> Undefined symbols:
>  "_main", referenced from:
>      start in crt1.10.5.o
> ld: symbol(s) not found
> collect2: ld returned 1 exit status
> checking for g++ -dynamiclib ... yes
> user supplied gdal-config (/usr/local/gdal/bin/gdal-config)
> using /usr/local/gdal//lib/gdalplugins as GDAL shared library  
> autoload directory
> checking for G_asprintf in -lgrass_gis... no
> checking for G_putenv in -lgrass_gis... yes
> configure: creating ./config.status
> config.status: creating Makefile
> macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ make
> g++ -Wall -fPIC  -DUSE_CPL -DGRASS_GISBASE=\"/usr/local/ 
> grass-7.0.svn/\" -I/usr/local/gdal//include -I/usr/local/ 
> grass-7.0.svn//include   -c -o grass57dataset.o grass57dataset.cpp
> In file included from grass57dataset.cpp:45:
> /usr/local/grass-7.0.svn//include/grass/gprojects.h:21:22: error:  
> proj_api.h: No such file or directory
> /usr/local/grass-7.0.svn//include/grass/gprojects.h:35: error:  
> ?projPJ? does not name a type
> make: *** [grass57dataset.o] Error 1
>
>
>
> need i to configure and build gdal giving the proj path ?
>
> i've proj installed as framework in : /Library/Frameworks/ 
> PROJ.framework/
>
> i tried to work around the problem adding
> in the gdal-grass makefile,
> -L and -I path to where i've proj installed
>
> but don't fix the problem instead give me an other error
>
> macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ make
> g++ -Wall -fPIC  -DUSE_CPL -DGRASS_GISBASE=\"/usr/local/ 
> grass-7.0.svn/\" -I/usr/local/gdal//include -I/usr/local/ 
> grass-7.0.svn//include   -c -o grass57dataset.o grass57dataset.cpp
> g++ -dynamiclib grass57dataset.o -L/usr/local/grass-7.0.svn//lib - 
> lgrass_gmath -lgrass_gis -lgrass_datetime -lgrass_gproj -lgrass_vect  
> -lgrass_dbmibase -lgrass_dbmiclient -lgrass_dgl -lgrass_dig2 - 
> lgrass_rtree -lgrass_linkm -L/usr/local/gdal//lib -lgdal  -o  
> gdal_GRASS.so
> Undefined symbols:
>  "_I_get_group_ref", referenced from:
>      GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
>  "_I_init_group_ref", referenced from:
>      GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
>  "_I_free_group_ref", referenced from:
>      GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
> ld: symbol(s) not found
> collect2: ld returned 1 exit status
> make: *** [gdal_GRASS.so] Error 1
>
>
>
> ... restoring the original Makefile and installig proj from source  
> in /usr/local
> give me the exacltly same error ad i hadd adding -L and -I in the  
> makefile
>
>
>
>
>
> have you any suggestion ?
>
> thaks!
>
>
>
>
>
>
>
>
>
>
>
> Massimo Di Stefano
> massimodisasha@yahoo.it
>
> epifanio on   irc.freenode.net  /join gfoss
>
>
>
>
>
>
>
> Chiacchiera con i tuoi amici in tempo reale!
> http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"The beast is actively interested only in now, and, as it is always  
now and always shall be, there is an eternity of time for the  
accomplishment of objects."

- the wisdom of Tarzan





From diarenwhan at yahoo.co.uk  Mon May 11 12:35:54 2009
From: diarenwhan at yahoo.co.uk (Diaren)
Date: Mon May 11 12:35:56 2009
Subject: [Gdal-dev] Building a Projection Dialog
Message-ID: <1242059754551-2864027.post@n2.nabble.com>


Using the SWIG C# libraries I'm attemtping to build a projected/Geographic
SpatialReference creation/edit dialog like you see in various GIS
applications, which has as the main components:

Projection Method
Projection Parameters
Datum
Edit Datum -> Ellipsoid, 3/7 Parameter Transformation parameters

The end result of the dialog would be to return a SpatialReference object.

I've opened the files in the data folder e.g epsg.wkt, pcs.csv,
gt_datum.csv, but am not sure of a rock solid way to build this dialog with
all the options. And even if I could list all the options, is there a
simpler way to set the parameters on a SpatialReference object other than
calling SetTM or one of the many other similar methods.

Basically, I'm not the most confident person on coordinate systems and is
attemting to build this common dialog, some help with how the dialog options
should map to the specific methods on SpatialReference would be greatly
appreciated? It may even make a good code snippet tutorial for GDAL.

-- 
View this message in context: http://n2.nabble.com/Building-a-Projection-Dialog-tp2864027p2864027.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From diarenwhan at yahoo.co.uk  Mon May 11 12:37:54 2009
From: diarenwhan at yahoo.co.uk (Diaren)
Date: Mon May 11 12:37:55 2009
Subject: [Gdal-dev] Building a Projection Dialog
Message-ID: <1242059874541-2864034.post@n2.nabble.com>


Using the SWIG C# libraries I'm attemtping to build a projected/Geographic
SpatialReference creation/edit dialog like you see in various GIS
applications, which has as the main components:

Projection Method
Projection Parameters
Datum
Edit Datum -> Ellipsoid, 3/7 Parameter Transformation parameters

The end result of the dialog would be to return a SpatialReference object.

I've opened the files in the data folder e.g epsg.wkt, pcs.csv,
gt_datum.csv, but am not sure of a rock solid way to build this dialog with
all the options. And even if I could list all the options, is there a
simpler way to set the parameters on a SpatialReference object other than
calling SetTM or one of the many other similar methods.

Basically, I'm not the most confident person on coordinate systems and is
attemting to build this common dialog, some help with how the dialog options
should map to the specific methods on SpatialReference would be greatly
appreciated? It may even make a good code snippet tutorial for GDAL.

-- 
View this message in context: http://n2.nabble.com/Building-a-Projection-Dialog-tp2864034p2864034.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From woklist at kyngchaos.com  Mon May 11 13:15:18 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon May 11 13:15:23 2009
Subject: [gdal-dev] gdal-grass on mac osx, build errors
In-Reply-To: <09860EC2-F3CF-4C09-88C1-A6DA4307C090@kyngchaos.com>
References: <DB96C78F-1A07-4D65-A260-BC5EDC65D73E@yahoo.it>
	<09860EC2-F3CF-4C09-88C1-A6DA4307C090@kyngchaos.com>
Message-ID: <C93989F3-E8DF-4BA9-AB6A-D19F010C69B1@kyngchaos.com>

OK, try this.

This is the GDAL 1.6 GRASS source with the patches from trunk so that  
it works with GRASS 7.  It includes my makefile modified to build for  
GRASS 7.  But, you need to build GRASS 7 as a Mac application, though  
it could be modified to use a unix GRASS build.

It builds for my GDAL 1.6 framework, and uses my PROJ framework.

cd to this source folder and just type 'make'.  It builds the GRASS  
plugins into a 'distLEO' subfolder.  You can leave them there.

To override the builtin GRASS plugins in my framework, set the  
GDAL_DRIVER_PATH before running any commands (GDAL or GRASS) that use  
GDAL (fill in the path to your distLEO folder mentioned above):

export GDAL_DRIVER_PATH=/path/to/distLEO


-------------- next part --------------
A non-text attachment was scrubbed...
Name: grass7.zip
Type: application/zip
Size: 29460 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090511/c764ce1a/grass7-0001.zip
-------------- next part --------------


On May 11, 2009, at 9:35 AM, William Kyngesburye wrote:

> You should be able to build the GRASS plugin off my GDAL framework,  
> to avoid unnecessary duplication, and retain all the other formats  
> built into my framework.  Though there might be a version issue  
> between GDAL 1.7/GRASS plugin and my GDAL 1.6 framework.
>
> I'll look into and get back to you.  I have a makefile that I use  
> myself that I can adapt.
>
> On May 11, 2009, at 9:04 AM, massimo di stefano wrote:
>
>> hi i'm tring to have gdal-grass installed on osx using grass7+gdal  
>> svn,
>> i compiled gdal, then grass,
>>
>> then cd in the gdal source/frmts/grass
>>
>> run make dist to create the tar.gz package.
>>
>> i configured it using : ./configure --with-gdal=/usr/local/gdal/bin/ 
>> gdal-config --with-grass=/usr/local/grass-7.0.svn/
>>
>> but iget these error :
>>
>> cd /Users/Shared/source/gdal-grass-1.7.0
>> macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ ./configure --with- 
>> gdal=/usr/local/gdal/bin/gdal-config --with-grass=/usr/local/ 
>> grass-7.0.svn/
>> checking for gcc... gcc
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables...
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc accepts -g... yes
>> checking for gcc option to accept ANSI C... none needed
>> checking for g++... g++
>> checking whether we are using the GNU C++ compiler... yes
>> checking whether g++ accepts -g... yes
>> checking for ranlib... ranlib
>> Undefined symbols:
>> "_main", referenced from:
>>     start in crt1.10.5.o
>> ld: symbol(s) not found
>> collect2: ld returned 1 exit status
>> checking for g++ -dynamiclib ... yes
>> user supplied gdal-config (/usr/local/gdal/bin/gdal-config)
>> using /usr/local/gdal//lib/gdalplugins as GDAL shared library  
>> autoload directory
>> checking for G_asprintf in -lgrass_gis... no
>> checking for G_putenv in -lgrass_gis... yes
>> configure: creating ./config.status
>> config.status: creating Makefile
>> macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ make
>> g++ -Wall -fPIC  -DUSE_CPL -DGRASS_GISBASE=\"/usr/local/ 
>> grass-7.0.svn/\" -I/usr/local/gdal//include -I/usr/local/ 
>> grass-7.0.svn//include   -c -o grass57dataset.o grass57dataset.cpp
>> In file included from grass57dataset.cpp:45:
>> /usr/local/grass-7.0.svn//include/grass/gprojects.h:21:22: error:  
>> proj_api.h: No such file or directory
>> /usr/local/grass-7.0.svn//include/grass/gprojects.h:35: error:  
>> ?projPJ? does not name a type
>> make: *** [grass57dataset.o] Error 1
>>
>>
>>
>> need i to configure and build gdal giving the proj path ?
>>
>> i've proj installed as framework in : /Library/Frameworks/ 
>> PROJ.framework/
>>
>> i tried to work around the problem adding
>> in the gdal-grass makefile,
>> -L and -I path to where i've proj installed
>>
>> but don't fix the problem instead give me an other error
>>
>> macbook-pro-15-di-sasha:gdal-grass-1.7.0 sasha$ make
>> g++ -Wall -fPIC  -DUSE_CPL -DGRASS_GISBASE=\"/usr/local/ 
>> grass-7.0.svn/\" -I/usr/local/gdal//include -I/usr/local/ 
>> grass-7.0.svn//include   -c -o grass57dataset.o grass57dataset.cpp
>> g++ -dynamiclib grass57dataset.o -L/usr/local/grass-7.0.svn//lib - 
>> lgrass_gmath -lgrass_gis -lgrass_datetime -lgrass_gproj - 
>> lgrass_vect -lgrass_dbmibase -lgrass_dbmiclient -lgrass_dgl - 
>> lgrass_dig2 -lgrass_rtree -lgrass_linkm -L/usr/local/gdal//lib - 
>> lgdal  -o gdal_GRASS.so
>> Undefined symbols:
>> "_I_get_group_ref", referenced from:
>>     GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
>> "_I_init_group_ref", referenced from:
>>     GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
>> "_I_free_group_ref", referenced from:
>>     GRASSDataset::Open(GDALOpenInfo*)       in grass57dataset.o
>> ld: symbol(s) not found
>> collect2: ld returned 1 exit status
>> make: *** [gdal_GRASS.so] Error 1
>>
>>
>>
>> ... restoring the original Makefile and installig proj from source  
>> in /usr/local
>> give me the exacltly same error ad i hadd adding -L and -I in the  
>> makefile
>>
>>
>>
>>
>>
>> have you any suggestion ?
>>
>> thaks!
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> Massimo Di Stefano
>> massimodisasha@yahoo.it
>>
>> epifanio on   irc.freenode.net  /join gfoss
>>
>>
>>
>>
>>
>>
>>
>> Chiacchiera con i tuoi amici in tempo reale!
>> http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "The beast is actively interested only in now, and, as it is always  
> now and always shall be, there is an eternity of time for the  
> accomplishment of objects."
>
> - the wisdom of Tarzan
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"We are at war with them. Neither in hatred nor revenge and with no  
particular pleasure I shall kill every ___ I can until the war is  
over. That is my duty."

"Don't you even hate 'em?"

"What good would it do if I did? If all the many millions of people of  
the allied nations devoted an entire year exclusively to hating the  
____ it wouldn't kill one ___ nor shorten the war one day."

<Ha, ha> "And it might give 'em all stomach ulcers."

- Tarzan, on war

From randre at gmail.com  Mon May 11 13:32:53 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon May 11 13:32:55 2009
Subject: [gdal-dev] FOSS4G 2009 Registration Opens
In-Reply-To: <4A043206.7050605@pobox.com>
References: <4A043206.7050605@pobox.com>
Message-ID: <9c2015090905111032n3a526b23ubb1e7c8020cde2fe@mail.gmail.com>

Just out of curiosity, how is the location of FOSS4G determined?

Thanks,

Roger
--

On Fri, May 8, 2009 at 6:22 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:

> Folks,
>
> FOSS4G is always the premier open source geospatial event of the
> year, and an important venue for MapServer and a variety of related
> projects.  I would encourage folks to attend, and to present on
> GDAL related activities.
>
> Frank
>
> -------
>
>
> 2009 Free and Open Source Software for Geospatial (FOSS4G)
> October 20-23, Sydney, Australia
>
>  http://2009.foss4g.org/
>
>  Register prior to the July 31st Early Bird Deadline to
>  save on your registration fees!
>
>  Join 500 other geospatial professionals in
>  exploring and explaining the world of
>  OPEN SOURCE geospatial software.
>
>  Workshops, labs, presentations, and networking,
>  all in beautiful Sydney, Australia.
>
> SUBMIT A PRESENTATION
>
>  Submit a presentation online at
>  http://2009.foss4g.org/presentations/
>
>  The deadline for submissions is June 1st, 2009.
>
>  FOSS4G presentations are 25 minute talks, with 5 minute
>  question and answer sessions at the end. Presentations
>  cover the use or development of open source geospatial
>  software. Anyone can submit a presentation proposal and
>  take part in the conference as a presenter. More
>  information is available on the presentations page on
>  the website.
>
> EXHIBITOR AND SPONSORSHIP OPPORTUNITIES
>
>  For information on exhibitor and sponsorship opportunities,
>  see http://2009.foss4g.org/sponsorship/ or contact Cameron Shorter,
>  Conference Chair via email at cameron.shorter@gmail.com.
>
>  We hope to see you in Sydney, Australia in October!
>
>  Yours,
>
>  The FOSS4G 2009 Conference Committee
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090511/3478c3b0/attachment.html
From warmerdam at pobox.com  Mon May 11 14:14:48 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 11 14:15:06 2009
Subject: [gdal-dev] FOSS4G 2009 Registration Opens
In-Reply-To: <9c2015090905111032n3a526b23ubb1e7c8020cde2fe@mail.gmail.com>
References: <4A043206.7050605@pobox.com>
	<9c2015090905111032n3a526b23ubb1e7c8020cde2fe@mail.gmail.com>
Message-ID: <4A086B18.6070803@pobox.com>

Roger Andr? wrote:
> Just out of curiosity, how is the location of FOSS4G determined?

Roger,

OSGeo has a "Conference Committee" that issues an RFP annually requesting
proposals from folks interested in hosting the conference.  The committee
selects one proposal from the responses based on a variety of objective
and subjective criteria.  This selection is recommended to the OSGeo
board for final approval.

For 2009 there was only one proposal - for Australia.  In 2008 and 2010
there were roughly four proposals.

   http://wiki.osgeo.org/wiki/Conference_Committee

I am a member of the committee, and Jeff McKenna is the chair.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jmckenna at gatewaygeomatics.com  Mon May 11 14:13:02 2009
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Mon May 11 14:20:46 2009
Subject: [gdal-dev] FOSS4G 2009 Registration Opens
In-Reply-To: <9c2015090905111032n3a526b23ubb1e7c8020cde2fe@mail.gmail.com>
References: <4A043206.7050605@pobox.com>
	<9c2015090905111032n3a526b23ubb1e7c8020cde2fe@mail.gmail.com>
Message-ID: <4A086AAE.2050204@gatewaygeomatics.com>

Roger Andr? wrote:
> Just out of curiosity, how is the location of FOSS4G determined?
> 

There is an OSGeo conference committee[1] which manages this decision. 
The general process is:

- conference committee develops a Request for hosting Proposals document
- RFP is brought to OSGeo Board for approval
- RFP for hosting is released
- the committee analyzes the proposals on the criteria listed in the 
RFP[2]
- the committee's decision is then brought to the OSGeo Board for approval.

If you have more questions please join the conference_dev mailing 
list[3].  Thanks.

-jeff


[1] http://wiki.osgeo.org/wiki/Conference_Committee
[2] http://www.osgeo.org/conference/rfp
[3] http://lists.osgeo.org/mailman/listinfo/conference_dev




-- 
Jeff McKenna
FOSS4G Consulting and Training Services
http://www.gatewaygeomatics.com/


From warmerdam at pobox.com  Mon May 11 14:23:29 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 11 14:23:49 2009
Subject: [Gdal-dev] Building a Projection Dialog
In-Reply-To: <1242059874541-2864034.post@n2.nabble.com>
References: <1242059874541-2864034.post@n2.nabble.com>
Message-ID: <4A086D21.9000000@pobox.com>

Diaren wrote:
> Using the SWIG C# libraries I'm attemtping to build a projected/Geographic
> SpatialReference creation/edit dialog like you see in various GIS
> applications, which has as the main components:
> 
> Projection Method
> Projection Parameters
> Datum
> Edit Datum -> Ellipsoid, 3/7 Parameter Transformation parameters
> 
> The end result of the dialog would be to return a SpatialReference object.
> 
> I've opened the files in the data folder e.g epsg.wkt, pcs.csv,
> gt_datum.csv, but am not sure of a rock solid way to build this dialog with
> all the options. And even if I could list all the options, is there a
> simpler way to set the parameters on a SpatialReference object other than
> calling SetTM or one of the many other similar methods.

Diaren,

It is possible to more directly create the spatial reference nodes rather
than calling stuff like SetTM(), but if you do this you should try to
be pretty careful.  The specific methods ensure the right parameters
are created and gives us a place to do any extra normalization that might
be required.  You can look at the methods to see what they do - normally
pretty simple.

OGRErr OGRSpatialReference::SetTM( double dfCenterLat, double dfCenterLong,
                                    double dfScale,
                                    double dfFalseEasting,
                                    double dfFalseNorthing )

{
     SetProjection( SRS_PT_TRANSVERSE_MERCATOR );
     SetNormProjParm( SRS_PP_LATITUDE_OF_ORIGIN, dfCenterLat );
     SetNormProjParm( SRS_PP_CENTRAL_MERIDIAN, dfCenterLong );
     SetNormProjParm( SRS_PP_SCALE_FACTOR, dfScale );
     SetNormProjParm( SRS_PP_FALSE_EASTING, dfFalseEasting );
     SetNormProjParm( SRS_PP_FALSE_NORTHING, dfFalseNorthing );

     return OGRERR_NONE;
}

> Basically, I'm not the most confident person on coordinate systems and is
> attemting to build this common dialog, some help with how the dialog options
> should map to the specific methods on SpatialReference would be greatly
> appreciated? It may even make a good code snippet tutorial for GDAL.

I will mention the rarely used OPT functions:

char CPL_DLL ** OPTGetProjectionMethods();
char CPL_DLL ** OPTGetParameterList( const char * pszProjectionMethod,
                              char ** ppszUserName );
int CPL_DLL OPTGetParameterInfo( const char * pszProjectionMethod,
                                  const char * pszParameterName,
                                  char ** ppszUserName,
                                  char ** ppszType,
                                  double *pdfDefaultValue );

These are intended to allow an application to fetch a list of
projection methods and then find out what parameters go with them
and some other information about them.  The code for these methods
is in gdal/ogr/ogr_opt.cpp and they are documented at:

http://www.gdal.org/ogr/ogr__srs__api_8h.html#dc8a62ab9c92100ac23acae8825a7fab

My main concern is that the tables supporting these functions are not
always well maintained and so their information may be somewhat out
of date.  Nevertheless they should be good for common coordinate systems.

I have not checked to see if they are exposed through swig or not.  If
they are not, we should likely try and add them for 1.7.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From randre at gmail.com  Mon May 11 14:23:58 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon May 11 14:24:00 2009
Subject: [gdal-dev] FOSS4G 2009 Registration Opens
In-Reply-To: <4A086AAE.2050204@gatewaygeomatics.com>
References: <4A043206.7050605@pobox.com>
	<9c2015090905111032n3a526b23ubb1e7c8020cde2fe@mail.gmail.com>
	<4A086AAE.2050204@gatewaygeomatics.com>
Message-ID: <9c2015090905111123q64d01925rb78122294161b9dd@mail.gmail.com>

Hi Jeff,

I have no other questions, and thanks for explaining how the selection
process works.

Roger
--

On Mon, May 11, 2009 at 11:13 AM, Jeff McKenna <
jmckenna@gatewaygeomatics.com> wrote:

> Roger Andr? wrote:
>
>> Just out of curiosity, how is the location of FOSS4G determined?
>>
>>
> There is an OSGeo conference committee[1] which manages this decision. The
> general process is:
>
> - conference committee develops a Request for hosting Proposals document
> - RFP is brought to OSGeo Board for approval
> - RFP for hosting is released
> - the committee analyzes the proposals on the criteria listed in the RFP[2]
> - the committee's decision is then brought to the OSGeo Board for approval.
>
> If you have more questions please join the conference_dev mailing list[3].
>  Thanks.
>
> -jeff
>
>
> [1] http://wiki.osgeo.org/wiki/Conference_Committee
> [2] http://www.osgeo.org/conference/rfp
> [3] http://lists.osgeo.org/mailman/listinfo/conference_dev
>
>
>
>
> --
> Jeff McKenna
> FOSS4G Consulting and Training Services
> http://www.gatewaygeomatics.com/
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090511/b72da8db/attachment.html
From even.rouault at mines-paris.org  Mon May 11 14:37:10 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 11 14:37:23 2009
Subject: [Gdal-dev] Building a Projection Dialog
In-Reply-To: <4A086D21.9000000@pobox.com>
References: <1242059874541-2864034.post@n2.nabble.com>
	<4A086D21.9000000@pobox.com>
Message-ID: <200905112037.11992.even.rouault@mines-paris.org>

Indeed, the OPT functions are exposed through swig.

Here's the comment from swig/include/osr.i :

/*
 * Python has it's own custom interface to GetProjectionMethods().which 
returns
 * fairly complex structure.
 *
 * All other languages will have a more simplistic interface which is
 * exactly the same as the C api.
 * 
 */

I've checked that the Python osr.GetProjectionMethods() works as expected, but 
I wouldn't be surprised if the other languages miss the necessary typemaps.
From diarenwhan at yahoo.co.uk  Mon May 11 15:53:19 2009
From: diarenwhan at yahoo.co.uk (Diaren)
Date: Mon May 11 15:53:30 2009
Subject: [Gdal-dev] Building a Projection Dialog
In-Reply-To: <4A086D21.9000000@pobox.com>
References: <1242059874541-2864034.post@n2.nabble.com>
	<4A086D21.9000000@pobox.com>
Message-ID: <1242071599879-2865108.post@n2.nabble.com>



Frank Warmerdam wrote:
> 
> I will mention the rarely used OPT functions:
> 
> char CPL_DLL ** OPTGetProjectionMethods();
> char CPL_DLL ** OPTGetParameterList( const char * pszProjectionMethod,
>                               char ** ppszUserName );
> int CPL_DLL OPTGetParameterInfo( const char * pszProjectionMethod,
>                                   const char * pszParameterName,
>                                   char ** ppszUserName,
>                                   char ** ppszType,
>                                   double *pdfDefaultValue );
> 
> These are intended to allow an application to fetch a list of
> projection methods and then find out what parameters go with them
> and some other information about them.  The code for these methods
> is in gdal/ogr/ogr_opt.cpp and they are documented at:
> 
> http://www.gdal.org/ogr/ogr__srs__api_8h.html#dc8a62ab9c92100ac23acae8825a7fab
> 

Indeed those methods are exposed, a small example follows with how one could
build a list of the available projection methods.
     
       var projectionMethods = Osr.GetProjectionMethods();

            Console.WriteLine("\nProjection
Methods\n===================================");
            for (i = 0; i < projectionMethods.Length; i++)
            {
                Console.WriteLine(projectionMethods[i]);
                string username;
                var paramList =
Osr.GetProjectionMethodParameterList(projectionMethods[i], out username);
                for (var p = 0; p < paramList.Length; p++)
                {
                    string plname;
                    string pltype;
                    var defaultValue = 0d;
                    Osr.GetProjectionMethodParamInfo(projectionMethods[i],
paramList[p], out plname, out pltype, ref defaultValue);
                    Console.WriteLine("  {0}, {1}, {2}, {3}", username,
plname, pltype, defaultValue);
                }
            }

Which returns something like:

Projection Methods
===================================
Transverse_Mercator
  Transverse Mercator, Latitude of Origin, Lat,
  Transverse Mercator, Central Meridian, Long, 0
  Transverse Mercator, Scale Factor, Ratio, 1
  Transverse Mercator, False Easting, m, 0
  Transverse Mercator, False Northing, m, 0



> OGRErr OGRSpatialReference::SetTM( double dfCenterLat, double
> dfCenterLong,
>                                     double dfScale,
>                                     double dfFalseEasting,
>                                     double dfFalseNorthing )
> 
> {
>      SetProjection( SRS_PT_TRANSVERSE_MERCATOR );
>      SetNormProjParm( SRS_PP_LATITUDE_OF_ORIGIN, dfCenterLat );
>      SetNormProjParm( SRS_PP_CENTRAL_MERIDIAN, dfCenterLong );
>      SetNormProjParm( SRS_PP_SCALE_FACTOR, dfScale );
>      SetNormProjParm( SRS_PP_FALSE_EASTING, dfFalseEasting );
>      SetNormProjParm( SRS_PP_FALSE_NORTHING, dfFalseNorthing );
> 
>      return OGRERR_NONE;
> }
> 

Ah ok, so as opposed to building some wierd code to call the appropriate
method e.g. SetTM I can use SetNormProjParam, hence thinking about this as
'building a dialog',  I assume the parameter names returned from 
Osr.GetProjectionMethodParamInfo (as in the earlier example) map directly to
the SRS_PP_* constants e.g. SRS_PP_LATITUDE_OF_ORIGIN  is 'Latitude of
Origin'.?

That would solve part of the dialog... the next part is listing / editing
the supported Datums. There are various files in the data folder namely:
coordinate_axis.csv
cubewerx_extra.wkt
ecw_cs.wkt
ellipsoid.csv
epsg.wkt
esri_extra.wkt
gcs.csv
gcs.override.csv
gdalicon.png
GDALLogoBW.svg
GDALLogoColor.svg
GDALLogoGS.svg
gdal_datum.csv
gt_datum.csv
gt_ellips.csv
pcs.csv
pcs.override.csv
prime_meridian.csv
projop_wparm.csv
s57agencies.csv
s57attributes.csv
s57attributes_aml.csv
s57attributes_iw.csv
s57expectedinput.csv
s57objectclasses.csv
s57objectclasses_aml.csv
s57objectclasses_iw.csv
seed_2d.dgn
seed_3d.dgn
stateplane.csv
unit_of_measure.csv

By examining some of these files, I can see the list of datums with their
ellipsoids, but can't see a sensible way of reading the files and producing
a list of datums along with their associated ellipsoids, as I don't know
what some of the columns mean or how robust the relationships are. It would
be real handy if someone could tell me which of these files is actually
required by GDAL/Proj and how the relationships between datums and
ellipsoids is established, as such so that I can build a drop down of
available datums, alogn with an Add / Edit button which would again ahave a
dropdown with the available ellipsoids. This way I can also even build a
database driven approach which may generate these files as our application
is launched or something.

-- 
View this message in context: http://n2.nabble.com/Building-a-Projection-Dialog-tp2864034p2865108.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From ragi at burhum.com  Mon May 11 19:03:30 2009
From: ragi at burhum.com (Ragi Y. Burhum)
Date: Mon May 11 19:03:32 2009
Subject: [gdal-dev] gdalwarp for ED50 UTM zone 31N to WGS84
Message-ID: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com>

I was just sending this e-mail so that it can be searched through the
archives. Thanks to Even Rouault for walking me through something that
should have been obvious :)

Originally, I was having trouble finding the right parameters for gdalwarp
to be able to warp some imagery that I got from Spain. These were in ED50 /
UTM zone 31N:

rburhum@cuzconix:~/p_bug$ gdalinfo exported_from_original_sid_file.tif
Driver: GTiff/GeoTIFF
Files: exported_from_original_sid_file.tif
Size is 6946, 4800
Coordinate System is:
PROJCS["ED50 / UTM zone 31N",
    GEOGCS["ED50",
        DATUM["European_Datum_1950",
            SPHEROID["International 1924",6378388,297.0000000000014,
                AUTHORITY["EPSG","7022"]],
            AUTHORITY["EPSG","6230"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4230"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",3],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","23031"]]
Origin = (327720.000000000000000,4730783.500000000000000)
Pixel Size = (0.500000000000000,-0.500000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  327720.000, 4730783.500) (  0d53'46.94"E, 42d42'34.10"N)
Lower Left  (  327720.000, 4728383.500) (  0d53'49.56"E, 42d41'16.35"N)
Upper Right (  331193.000, 4730783.500) (  0d56'19.50"E, 42d42'36.88"N)
Lower Right (  331193.000, 4728383.500) (  0d56'22.08"E, 42d41'19.12"N)
Center      (  329456.500, 4729583.500) (  0d55'4.52"E, 42d41'56.62"N)
Band 1 Block=6946x1 Type=Byte, ColorInterp=Red
Band 2 Block=6946x1 Type=Byte, ColorInterp=Green
Band 3 Block=6946x1 Type=Byte, ColorInterp=Blue


In order to get it to work correctly, I had to use the right +towgs84
parameters from
http://earth-info.nga.mil/GandG/coordsys/onlinedatum/CountryEuropeTable.html.
Although the table showed  -84 (+/-5), -107(+/-6), -120 (+/-3), for my
own
purposes -87, -98, -121 seemed to work best based on my source data.

so the command line would be:

 gdalwarp -s_srs "+proj=utm +zone=31 +ellps=intl +units=m
+towgs84=-87,-101,-121 +no_defs" -t_srs EPSG:4326
exported_from_original_sid_file.tif testout.tif

Hope this helps someone else,

- Ragi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090511/a8c2afe2/attachment.html
From hobu.inc at gmail.com  Mon May 11 23:18:55 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon May 11 23:19:01 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
Message-ID: <00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>


All,

The GDAL team is pleased to announce the release of GDAL 1.6.1 RC2.   
According to the roadmap for both the 1.5.x and 1.6.x bugs, ~ 120 bugs  
have been addressed in this release.   Because this is our first  
maintenance release in the 1.6 series, and the list is quite large, I  
am not posting the list of bugs fixed in this email.  Navigate to <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News 
 > to see if your pet burr has been excised.

* http://download.osgeo.org/gdal/gdal-1.6.1-RC2.tar.gz
* http://download.osgeo.org/gdal/gdal161-RC2.zip

The following issues have been addressed since RC1:

GeoRaster GeoTransform issue - http://trac.osgeo.org/gdal/ticket/2990
SetProjection and jpeg-compressed GeoTIFFs - http://trac.osgeo.org/gdal/ticket/2988
GDALOpenShared dataset closing - http://trac.osgeo.org/gdal/ticket/2897

Howard
From woklist at kyngchaos.com  Mon May 11 23:40:39 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon May 11 23:40:43 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
Message-ID: <22A1DB2A-3C4F-4834-98A5-D4B34CA97D91@kyngchaos.com>

Just got done testing RC1... Autotests all OK on OSX except for a new  
failure:

   TEST: tiff_ovr_10: tiff_ovr_10_interverted ... ERROR 1:  
TIFFFetchDirectory:tmp/ovr10.tif: Can not read TIFF directory count
ERROR 1: TIFFReadDirectory:Failed to read directory at offset 1276248064
fail
     Failed to open copy of test dataset.


Also, I noticed that gdalbuildvrt was added to the default build  
(#2987).  No complaints, but I thought it was going to wait for 1.7  
release.  Is there going to be a new doc package with a help file for  
this?

On May 11, 2009, at 10:18 PM, Howard Butler wrote:

>
> All,
>
> The GDAL team is pleased to announce the release of GDAL 1.6.1 RC2.   
> According to the roadmap for both the 1.5.x and 1.6.x bugs, ~ 120  
> bugs have been addressed in this release.   Because this is our  
> first maintenance release in the 1.6 series, and the list is quite  
> large, I am not posting the list of bugs fixed in this email.   
> Navigate to <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News> to  
> see if your pet burr has been excised.
>
> * http://download.osgeo.org/gdal/gdal-1.6.1-RC2.tar.gz
> * http://download.osgeo.org/gdal/gdal161-RC2.zip
>
> The following issues have been addressed since RC1:
>
> GeoRaster GeoTransform issue - http://trac.osgeo.org/gdal/ticket/2990
> SetProjection and jpeg-compressed GeoTIFFs - http://trac.osgeo.org/gdal/ticket/2988
> GDALOpenShared dataset closing - http://trac.osgeo.org/gdal/ticket/ 
> 2897
>
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly  
what the universe is for and why it is here, it will instantly  
disappear and be replaced by something even more bizarrely  
inexplicable.  There is another theory which states that this has  
already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro


From ivan.lucena at pmldnet.com  Tue May 12 00:08:09 2009
From: ivan.lucena at pmldnet.com (Ivan)
Date: Tue May 12 00:07:52 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <22A1DB2A-3C4F-4834-98A5-D4B34CA97D91@kyngchaos.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<22A1DB2A-3C4F-4834-98A5-D4B34CA97D91@kyngchaos.com>
Message-ID: <4A08F629.1060709@pmldnet.com>

William,

I might be wrong but I think that this TIFFReadDirectory error is because you need to use the GDAL 
internal libtiff/geotiff libraries as in Linux:

./configure --with-libtiff=internal --with-geotiff=internal

Regards,

Ivan

William Kyngesburye wrote:
> Just got done testing RC1... Autotests all OK on OSX except for a new 
> failure:
> 
>   TEST: tiff_ovr_10: tiff_ovr_10_interverted ... ERROR 1: 
> TIFFFetchDirectory:tmp/ovr10.tif: Can not read TIFF directory count
> ERROR 1: TIFFReadDirectory:Failed to read directory at offset 1276248064
> fail
>     Failed to open copy of test dataset.
> 
> 
> Also, I noticed that gdalbuildvrt was added to the default build 
> (#2987).  No complaints, but I thought it was going to wait for 1.7 
> release.  Is there going to be a new doc package with a help file for this?
> 
> On May 11, 2009, at 10:18 PM, Howard Butler wrote:
> 
>>
>> All,
>>
>> The GDAL team is pleased to announce the release of GDAL 1.6.1 RC2.  
>> According to the roadmap for both the 1.5.x and 1.6.x bugs, ~ 120 bugs 
>> have been addressed in this release.   Because this is our first 
>> maintenance release in the 1.6 series, and the list is quite large, I 
>> am not posting the list of bugs fixed in this email.  Navigate to 
>> <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News> to see if your 
>> pet burr has been excised.
>>
>> * http://download.osgeo.org/gdal/gdal-1.6.1-RC2.tar.gz
>> * http://download.osgeo.org/gdal/gdal161-RC2.zip
>>
>> The following issues have been addressed since RC1:
>>
>> GeoRaster GeoTransform issue - http://trac.osgeo.org/gdal/ticket/2990
>> SetProjection and jpeg-compressed GeoTIFFs - 
>> http://trac.osgeo.org/gdal/ticket/2988
>> GDALOpenShared dataset closing - http://trac.osgeo.org/gdal/ticket/2897
>>
>> Howard
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> Theory of the Universe
> 
> There is a theory which states that if ever anyone discovers exactly 
> what the universe is for and why it is here, it will instantly disappear 
> and be replaced by something even more bizarrely inexplicable.  There is 
> another theory which states that this has already happened.
> 
> -Hitchhiker's Guide to the Galaxy 2nd season intro
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From woklist at kyngchaos.com  Tue May 12 00:38:51 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue May 12 00:38:57 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <4A08F629.1060709@pmldnet.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<22A1DB2A-3C4F-4834-98A5-D4B34CA97D91@kyngchaos.com>
	<4A08F629.1060709@pmldnet.com>
Message-ID: <605F4693-AE7B-415B-9910-334DCB15A5AD@kyngchaos.com>

Same external libtiff 4 beta and internal geotiff as I've always  
used.  Actually newer, beta 3, than I used in GDAL 1.6.0 (beta 2).   
Maybe something important has been updated in libtiff since beta 3?

I see that there are a lot of very recent changes in the internal  
libtiff, maybe they are related to the many changes in the gtiff  
driver.  If so, it would be nice to have a new libtiff beta.

On May 11, 2009, at 11:08 PM, Ivan wrote:

> William,
>
> I might be wrong but I think that this TIFFReadDirectory error is  
> because you need to use the GDAL internal libtiff/geotiff libraries  
> as in Linux:
>
> ./configure --with-libtiff=internal --with-geotiff=internal
>
> Regards,
>
> Ivan
>
> William Kyngesburye wrote:
>> Just got done testing RC1... Autotests all OK on OSX except for a  
>> new failure:
>>  TEST: tiff_ovr_10: tiff_ovr_10_interverted ... ERROR 1:  
>> TIFFFetchDirectory:tmp/ovr10.tif: Can not read TIFF directory count
>> ERROR 1: TIFFReadDirectory:Failed to read directory at offset  
>> 1276248064
>> fail
>>    Failed to open copy of test dataset.
>>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"This is a question about the past, is it? ... How can I tell that the  
past isn't a fiction designed to account for the discrepancy between  
my immediate physical sensations and my state of mind?"

- The Ruler of the Universe


From ari.jolma at tkk.fi  Tue May 12 01:58:35 2009
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue May 12 01:58:40 2009
Subject: [Gdal-dev] Building a Projection Dialog
In-Reply-To: <200905112037.11992.even.rouault@mines-paris.org>
References: <1242059874541-2864034.post@n2.nabble.com>
	<4A086D21.9000000@pobox.com>
	<200905112037.11992.even.rouault@mines-paris.org>
Message-ID: <4A09100B.6040504@tkk.fi>

Even Rouault kirjoitti:
> Indeed, the OPT functions are exposed through swig.
>
>
> I've checked that the Python osr.GetProjectionMethods() works as expected, but 
> I wouldn't be surprised if the other languages miss the necessary typemaps

Perl code:

use Geo::GDAL;

my $methods = Geo::OSR::GetProjectionMethods;
for my $method (@$methods) {
    my ($params, $projection) = 
Geo::OSR::GetProjectionMethodParameterList($method);
    print "PROJECTION METHOD: $projection\n";
    for my $param (@$params) {
        my ($name, $type, $defaultval) = 
Geo::OSR::GetProjectionMethodParamInfo($method, $param);
        print "  PARAMETER: $name, TYPE: $type, DEFAULT VALUE: 
$defaultval\n";
    }
}

Lists human readable names of known projection methods and their 
parameters with types and default values.

Ari

-- 
Prof. Ari Jolma
Environmental Management Information Technology
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 4511 address: POBox 5300, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://geoinformatics.tkk.fi

From jrepetto at free.fr  Tue May 12 02:17:03 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Tue May 12 02:17:21 2009
Subject: [gdal-dev] gdalwarp for ED50 UTM zone 31N to WGS84
In-Reply-To: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com>
References: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com>
Message-ID: <4A09145F.5020909@free.fr>

Ragi Y. Burhum a ?crit :
> 
> In order to get it to work correctly, I had to use the right +towgs84 
> parameters from 
> http://earth-info.nga.mil/GandG/coordsys/onlinedatum/CountryEuropeTable.html 
> . Although the table showed  -84 (+/-5), -107(+/-6), -120 (+/-3), for my 
> own purposes -87, -98, -121 seemed to work best based on my source data.

Hello,

Other parameters are used in this PROJ.4 ML thread :
<http://osdir.com/ml/gis.proj-4.devel/2006-12/msg00000.html>

I don't know if they are better than yours, but they seem to be official.

Jean-Claude

From ari.jolma at tkk.fi  Tue May 12 10:12:17 2009
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue May 12 10:12:22 2009
Subject: [Gdal-dev] Building a Projection Dialog
In-Reply-To: <1242071599879-2865108.post@n2.nabble.com>
References: <1242059874541-2864034.post@n2.nabble.com>
	<4A086D21.9000000@pobox.com>
	<1242071599879-2865108.post@n2.nabble.com>
Message-ID: <4A0983C1.7080307@tkk.fi>

Diaren kirjoitti:
> That would solve part of the dialog... the next part is listing / editing
> the supported Datums. There are various files in the data folder namely:
> coordinate_axis.csv
> ...
>   

Diaren,

I'm not an authoritative source (Frank is), but let me try. The csv 
files are key files, which I suppose you need to read in by yourself 
(there is code for parsing csv in GDAL though but that is not exposed to 
swig). They are copied to GDAL from libgeotiff, take a look at 
https://svn.osgeo.org/metacrs/geotiff/trunk/libgeotiff/csv/ The README 
file explains how they are made from EPSG database.

Ari

-- 
Prof. Ari Jolma
Environmental Management Information Technology
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 4511 address: POBox 5300, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://geoinformatics.tkk.fi

From warmerdam at pobox.com  Tue May 12 10:26:59 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 12 10:27:24 2009
Subject: [Gdal-dev] Building a Projection Dialog
In-Reply-To: <4A0983C1.7080307@tkk.fi>
References: <1242059874541-2864034.post@n2.nabble.com>
	<4A086D21.9000000@pobox.com> <1242071599879-2865108.post@n2.nabble.com>
	<4A0983C1.7080307@tkk.fi>
Message-ID: <4A098733.4070904@pobox.com>

Ari Jolma wrote:
> Diaren kirjoitti:
>> That would solve part of the dialog... the next part is listing / editing
>> the supported Datums. There are various files in the data folder namely:
>> coordinate_axis.csv
>> ...
>>   
> 
> Diaren,
> 
> I'm not an authoritative source (Frank is), but let me try. The csv 
> files are key files, which I suppose you need to read in by yourself 
> (there is code for parsing csv in GDAL though but that is not exposed to 
> swig). They are copied to GDAL from libgeotiff, take a look at 
> https://svn.osgeo.org/metacrs/geotiff/trunk/libgeotiff/csv/ The README 
> file explains how they are made from EPSG database.

Diaren,

Ari is quite right.  I'd add that the gcs.csv file would likely be the
one you want to focus on for letting the user select a geographic coordinate
system.  This is the set of EPSG geographic coordinate systems.   For each
GCS it holds information on the EPSG GCS code, the prime meridian,
datum, ellipsoid and, in some cases, a suggested datum shift transformation
to WGS84.

You could actually try and let people compose geographic coordinate systems
from their own selection of datum, prime meridian and ellipsoid but I'm
not really sure you will get much additional value.

One think you *should* do is allow overriding/providing TOWGS84 datum
shift values since the provided set is quite incomplete and often people
will need to use values more appropriate to their work area.

The area is somewhat complex and you will likely need to do some research
to get a good grasp on the topic.  The gcs.csv file is built from the
EPSG database, but by denormalizing a variety of EPSG tables to produce
collected GCS information in a single record.

One aspect I have traditionally ignored is "area of use".  In theory you
could utilize this field to show a restricted set of GCSes likely to be
of interest to people in a limited region.  I have no specific advice on
this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From hobu.inc at gmail.com  Tue May 12 11:39:31 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue May 12 11:39:43 2009
Subject: [gdal-dev] SWIG bindings motions
Message-ID: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>

Dear SWIG bindings devs,

I would like to propose the following motions for the upcoming 1.7  
GDAL release:

1) All swig bindings will be regenerated as part of the release process.
2) We will move up to SWIG 1.3.39 by for the release generation.

As far as motion 1 is concerned, I would note that some of the  
generated code would need to stay in subversion because it is  
convenient and useful for things like the buildbot.  If we wanted to  
take things to the point of removing all of the generated code from  
subversion, I would be supportive of that, but it would take some  
infrastructure work.  We wouldn't have to remove the generated code  
from subversion as part of either of these motions, but I think we  
should remove the requirement of individual swig devs having to worry  
about updating bindings around release time (we already have removed  
this requirement for perl and .net, btw.  Now we would remove it for  
the others).

Howard


From ari.jolma at tkk.fi  Tue May 12 11:51:46 2009
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Tue May 12 11:51:50 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
Message-ID: <4A099B12.4080700@tkk.fi>

+1

Ari

Howard Butler kirjoitti:
> Dear SWIG bindings devs,
>
> I would like to propose the following motions for the upcoming 1.7 
> GDAL release:
>
> 1) All swig bindings will be regenerated as part of the release process.
> 2) We will move up to SWIG 1.3.39 by for the release generation.
>
> As far as motion 1 is concerned, I would note that some of the 
> generated code would need to stay in subversion because it is 
> convenient and useful for things like the buildbot.  If we wanted to 
> take things to the point of removing all of the generated code from 
> subversion, I would be supportive of that, but it would take some 
> infrastructure work.  We wouldn't have to remove the generated code 
> from subversion as part of either of these motions, but I think we 
> should remove the requirement of individual swig devs having to worry 
> about updating bindings around release time (we already have removed 
> this requirement for perl and .net, btw.  Now we would remove it for 
> the others).
>
> Howard
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Prof. Ari Jolma
Environmental Management Information Technology
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 4511 address: POBox 5300, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://geoinformatics.tkk.fi

From warmerdam at pobox.com  Tue May 12 13:37:24 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 12 13:37:50 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
Message-ID: <4A09B3D4.5000905@pobox.com>

Howard Butler wrote:
> Dear SWIG bindings devs,
> 
> I would like to propose the following motions for the upcoming 1.7 GDAL 
> release:
> 
> 1) All swig bindings will be regenerated as part of the release process.
> 2) We will move up to SWIG 1.3.39 by for the release generation.

+0

I don't have the background to judge the appropriateness, but these seem
like reasonable steps.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue May 12 14:01:17 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 12 14:01:31 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
Message-ID: <200905122001.19502.even.rouault@mines-paris.org>

Howard,

I have well understood that you suggest to refresh it always as part of the 
release process, so the following question only applies during development 
time.

If we keep the generated code in SVN for conveniency for buildbot, when are we 
supposed to refresh that generated code in SVN ?
- each time a .i is changed ? (This might not be sufficient, as changing 
some .h can also affect generated code, for enumerations for example)
- from time to time ?
- just before the release ?

My feeling is that if we don't refresh it regularly, the purpose of buildbot 
testing the "latest & greatest" is somehow defeated. I don't really know the 
difficulty of adding the swig generation as part of the buildbot tasks, but 
that would solve the above question.

Anyway, this is complementary to the mentions, for which I'm +1.

Le Tuesday 12 May 2009 17:39:31 Howard Butler, vous avez ?crit?:
> Dear SWIG bindings devs,
>
> I would like to propose the following motions for the upcoming 1.7
> GDAL release:
>
> 1) All swig bindings will be regenerated as part of the release process.
> 2) We will move up to SWIG 1.3.39 by for the release generation.
>
> As far as motion 1 is concerned, I would note that some of the
> generated code would need to stay in subversion because it is
> convenient and useful for things like the buildbot.  If we wanted to
> take things to the point of removing all of the generated code from
> subversion, I would be supportive of that, but it would take some
> infrastructure work.  We wouldn't have to remove the generated code
> from subversion as part of either of these motions, but I think we
> should remove the requirement of individual swig devs having to worry
> about updating bindings around release time (we already have removed
> this requirement for perl and .net, btw.  Now we would remove it for
> the others).
>
> Howard
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From kmckelvey at lizardtech.com  Tue May 12 14:18:50 2009
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Tue May 12 14:18:56 2009
Subject: [gdal-dev] wgs84 -> utm
Message-ID: <C55473998E248B4DAEC5342D698DFE85C1E96F4E@sea-srv-mail.lizardtech.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: world_utm18.jpg
Type: image/jpeg
Size: 18889 bytes
Desc: world_utm18.jpg
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090512/1cd696ed/world_utm18-0001.jpg
From warmerdam at pobox.com  Tue May 12 14:36:17 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 12 14:36:42 2009
Subject: [gdal-dev] wgs84 -> utm
In-Reply-To: <C55473998E248B4DAEC5342D698DFE85C1E96F4E@sea-srv-mail.lizardtech.com>
References: <C55473998E248B4DAEC5342D698DFE85C1E96F4E@sea-srv-mail.lizardtech.com>
Message-ID: <4A09C1A1.6080506@pobox.com>

Kirk McKelvey wrote:
> When I try to warp the entire world (WGS84) into a UTM zone using 
> gdalwarp, I get a black image.
> 
>  
> 
> This is not surprising given the valid domain for such a transformation.
> 
>  
> 
> The first problem is that the bounding box gets reprojected into outer 
> space (again, b/c it is outside the valid domain).  But once I ?found? 
> the data, I was able to get something quasi-sensible out of GDAL (image 
> attached).  South America shows twice, which, although pretty cool, is 
> another reflection of the domain problem.
> 
>  
> 
> So my question is: How can I tell programmatically whether (1) any given 
> warp operation makes sense and (2) what its valid input domain is?

Kirk,

I do not have a good answer for this.  I have not been able to do it
in a general way.

> I was surprised to find that the success vector of 
> GDALReprojectionTransform() does not return failures for out-of-domain 
> inputs (at least it did not in this case).  Is it intended to?

This depends in part on what PROJ.4 does.  Traditionally the transverse
mercator project did not consider any values out of range and so all
transformation succeeded even if the results were crazy.  I recently
modified the PROJ.4 tm projection to consider anything 90 degrees off
the central meridian as a failure which should get propagated up through
the transformer as FALSE in the success vector.

Some projections with distinct horizons do already fail for over the horizon
transformations.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue May 12 14:46:25 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 12 14:46:39 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <605F4693-AE7B-415B-9910-334DCB15A5AD@kyngchaos.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<4A08F629.1060709@pmldnet.com>
	<605F4693-AE7B-415B-9910-334DCB15A5AD@kyngchaos.com>
Message-ID: <200905122046.27121.even.rouault@mines-paris.org>

William,

I've verified that one of the updates of internal libtiff from CVS head 
includes two missing byte-swapping (see 
http://trac.osgeo.org/gdal/changeset/16836#file5 and 
http://bugzilla.maptools.org/show_bug.cgi?id=1924) that explain the error you 
get with an older libtiff 4.0beta.

I'm not very surprised that upgrading to the new libtiff version is necessary 
for the current geotiff driver, as it just worked by chance with the 
combination of geotiff driver & internal libtiff of 1.6.0, so the conclusion 
is : just upgrade your libtiff to CVS head or use internal libtiff.

About gdalbuildvrt, some people apparently wanted it badly in 1.6.1, so here 
it is ;-) The related man and HTML pages for the utility will also be 
generated in the build process (if that's what you mean by "a new doc package 
with a help file for this").

Best regards,

Even

Le Tuesday 12 May 2009 06:38:51 William Kyngesburye, vous avez ?crit?:
> Same external libtiff 4 beta and internal geotiff as I've always
> used.  Actually newer, beta 3, than I used in GDAL 1.6.0 (beta 2).
> Maybe something important has been updated in libtiff since beta 3?
>
> I see that there are a lot of very recent changes in the internal
> libtiff, maybe they are related to the many changes in the gtiff
> driver.  If so, it would be nice to have a new libtiff beta.
>
> On May 11, 2009, at 11:08 PM, Ivan wrote:
> > William,
> >
> > I might be wrong but I think that this TIFFReadDirectory error is
> > because you need to use the GDAL internal libtiff/geotiff libraries
> > as in Linux:
> >
> > ./configure --with-libtiff=internal --with-geotiff=internal
> >
> > Regards,
> >
> > Ivan
> >
> > William Kyngesburye wrote:
> >> Just got done testing RC1... Autotests all OK on OSX except for a
> >> new failure:
> >>  TEST: tiff_ovr_10: tiff_ovr_10_interverted ... ERROR 1:
> >> TIFFFetchDirectory:tmp/ovr10.tif: Can not read TIFF directory count
> >> ERROR 1: TIFFReadDirectory:Failed to read directory at offset
> >> 1276248064
> >> fail
> >>    Failed to open copy of test dataset.
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "This is a question about the past, is it? ... How can I tell that the
> past isn't a fiction designed to account for the discrepancy between
> my immediate physical sensations and my state of mind?"
>
> - The Ruler of the Universe
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From woklist at kyngchaos.com  Tue May 12 15:15:15 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue May 12 15:15:18 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <200905122046.27121.even.rouault@mines-paris.org>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<4A08F629.1060709@pmldnet.com>
	<605F4693-AE7B-415B-9910-334DCB15A5AD@kyngchaos.com>
	<200905122046.27121.even.rouault@mines-paris.org>
Message-ID: <38367D73-E1A6-43D9-A976-80B50283458D@kyngchaos.com>

On May 12, 2009, at 1:46 PM, Even Rouault wrote:

> William,
>
> I've verified that one of the updates of internal libtiff from CVS  
> head
> includes two missing byte-swapping (see
> http://trac.osgeo.org/gdal/changeset/16836#file5 and
> http://bugzilla.maptools.org/show_bug.cgi?id=1924) that explain the  
> error you
> get with an older libtiff 4.0beta.
>
> I'm not very surprised that upgrading to the new libtiff version is  
> necessary
> for the current geotiff driver, as it just worked by chance with the
> combination of geotiff driver & internal libtiff of 1.6.0, so the  
> conclusion
> is : just upgrade your libtiff to CVS head or use internal libtiff.
>
I can update to CVS, but it would be nice to have a new beta package  
so there is some defined reasonably stable point in the source.

> About gdalbuildvrt, some people apparently wanted it badly in 1.6.1,  
> so here
> it is ;-)

Yeah, I've received a few requests for it myself for my OSX binaries ;)

> The related man and HTML pages for the utility will also be
> generated in the build process (if that's what you mean by "a new  
> doc package
> with a help file for this").
>
According to Frank, the doc build option in the source is not really  
meant for public consumption.  I had problems getting doxygen working  
reliably on OSX (something about some extra bits for doxygen needed by  
GDAL?).  Frank has been providing premade doc packages as a separate  
zip download since 1.3.


-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin


From kmckelvey at lizardtech.com  Tue May 12 15:36:01 2009
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Tue May 12 15:36:06 2009
Subject: [gdal-dev] wgs84 -> utm
In-Reply-To: <4A09C1A1.6080506@pobox.com>
References: <C55473998E248B4DAEC5342D698DFE85C1E96F4E@sea-srv-mail.lizardtech.com>
	<4A09C1A1.6080506@pobox.com>
Message-ID: <C55473998E248B4DAEC5342D698DFE85C1E96F55@sea-srv-mail.lizardtech.com>

Thanks Frank.  I will look at updating proj4 and in general deal with this on a case-by-case basis.

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, May 12, 2009 11:36 AM
To: Kirk McKelvey
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] wgs84 -> utm

Kirk McKelvey wrote:
> When I try to warp the entire world (WGS84) into a UTM zone using 
> gdalwarp, I get a black image.
> 
>  
> 
> This is not surprising given the valid domain for such a transformation.
> 
>  
> 
> The first problem is that the bounding box gets reprojected into outer 
> space (again, b/c it is outside the valid domain).  But once I "found" 
> the data, I was able to get something quasi-sensible out of GDAL (image 
> attached).  South America shows twice, which, although pretty cool, is 
> another reflection of the domain problem.
> 
>  
> 
> So my question is: How can I tell programmatically whether (1) any given 
> warp operation makes sense and (2) what its valid input domain is?

Kirk,

I do not have a good answer for this.  I have not been able to do it
in a general way.

> I was surprised to find that the success vector of 
> GDALReprojectionTransform() does not return failures for out-of-domain 
> inputs (at least it did not in this case).  Is it intended to?

This depends in part on what PROJ.4 does.  Traditionally the transverse
mercator project did not consider any values out of range and so all
transformation succeeded even if the results were crazy.  I recently
modified the PROJ.4 tm projection to consider anything 90 degrees off
the central meridian as a failure which should get propagated up through
the transformer as FALSE in the success vector.

Some projections with distinct horizons do already fail for over the horizon
transformations.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From szekerest at gmail.com  Tue May 12 15:49:04 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue May 12 15:49:06 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
Message-ID: <f3b73b7d0905121249g4a37511ck705f2e96f70639d2@mail.gmail.com>

+1

I don't think we should keep any of the generated stuff just because of the
buildbot. All of the builders should be capable to generate the bindings as
part of the build steps. Only the path to the swig executable should be
detected/specified. The Windows buildslaves are OK in this regard.

Best regards

Tamas



2009/5/12 Howard Butler <hobu.inc@gmail.com>

> Dear SWIG bindings devs,
>
> I would like to propose the following motions for the upcoming 1.7 GDAL
> release:
>
> 1) All swig bindings will be regenerated as part of the release process.
> 2) We will move up to SWIG 1.3.39 by for the release generation.
>
> As far as motion 1 is concerned, I would note that some of the generated
> code would need to stay in subversion because it is convenient and useful
> for things like the buildbot.  If we wanted to take things to the point of
> removing all of the generated code from subversion, I would be supportive of
> that, but it would take some infrastructure work.  We wouldn't have to
> remove the generated code from subversion as part of either of these
> motions, but I think we should remove the requirement of individual swig
> devs having to worry about updating bindings around release time (we already
> have removed this requirement for perl and .net, btw.  Now we would remove
> it for the others).
>
> Howard
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090512/0a99f48e/attachment.html
From kstealth25 at hotmail.com  Tue May 12 15:52:06 2009
From: kstealth25 at hotmail.com (Kristen C)
Date: Tue May 12 15:52:07 2009
Subject: [Gdal-dev] ogr2ogr and regular expressions
Message-ID: <1242157926119-2871252.post@n2.nabble.com>


I am working with Tigerline edge files, and I want to identify all
interstates in Texas.  I have a huge shapefile that contains all Texas
roads.  I know how to use ogr2ogr to extract all shapes -where ?FULLNAME =
?I- 35?? for example.  But I need to extract all shapes that have the
characters ?I-? anywhere within FULLNAME. 

Can I use regular expressions in ogr2ogr (i.e. -where ?FULLNAME = \I-^\?). 
If I can use regular expressions, can someone point me to example syntax for
regular expressions in ogr2ogr?

If I can?t use regular expressions in ogr2ogr, how would I solve this
problem?  If I have to write a Python scrip, are there any examples of how
to run a python script in FWtools?

Thanks!    
-- 
View this message in context: http://n2.nabble.com/ogr2ogr-and-regular-expressions-tp2871252p2871252.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From woklist at kyngchaos.com  Tue May 12 16:23:54 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue May 12 16:23:58 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <38367D73-E1A6-43D9-A976-80B50283458D@kyngchaos.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<4A08F629.1060709@pmldnet.com>
	<605F4693-AE7B-415B-9910-334DCB15A5AD@kyngchaos.com>
	<200905122046.27121.even.rouault@mines-paris.org>
	<38367D73-E1A6-43D9-A976-80B50283458D@kyngchaos.com>
Message-ID: <A23E5DD9-981A-4D69-BA7E-07A2BCB4E386@kyngchaos.com>

On May 12, 2009, at 2:15 PM, William Kyngesburye wrote:

> On May 12, 2009, at 1:46 PM, Even Rouault wrote:
>
>> I'm not very surprised that upgrading to the new libtiff version is  
>> necessary
>> for the current geotiff driver, as it just worked by chance with the
>> combination of geotiff driver & internal libtiff of 1.6.0, so the  
>> conclusion
>> is : just upgrade your libtiff to CVS head or use internal libtiff.
>>
> I can update to CVS, but it would be nice to have a new beta package  
> so there is some defined reasonably stable point in the source.


CVS libtiff = autotest success

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy


From warmerdam at pobox.com  Tue May 12 16:28:27 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 12 16:28:48 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <f3b73b7d0905121249g4a37511ck705f2e96f70639d2@mail.gmail.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
	<f3b73b7d0905121249g4a37511ck705f2e96f70639d2@mail.gmail.com>
Message-ID: <4A09DBEB.7040007@pobox.com>

Tamas Szekeres wrote:
> +1
> 
> I don't think we should keep any of the generated stuff just because of 
> the buildbot. All of the builders should be capable to generate the 
> bindings as part of the build steps. Only the path to the swig 
> executable should be detected/specified. The Windows buildslaves are OK 
> in this regard.

Folks,

I know i'm just a feeble pathetic person, but I'm having trouble keeping
up with swig developments and pecularities.  If we move to requiring
developers working from subversion to have their own swig I'm going to be
left in a position where I cannot build the python bindings on my of my
systems - and that means less testing from my end.

I've also got to the point where FWTools CSharp bindings are no longer
being built properly and I don't know why or how to fix it.

If you flush the bindings out of subversion you will lose the involvement
of some developers.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From woklist at kyngchaos.com  Tue May 12 16:52:58 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue May 12 16:53:01 2009
Subject: [gdal-dev] GDAL 1.6.1 RC2 Released
In-Reply-To: <22A1DB2A-3C4F-4834-98A5-D4B34CA97D91@kyngchaos.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<22A1DB2A-3C4F-4834-98A5-D4B34CA97D91@kyngchaos.com>
Message-ID: <F02D4C18-0FC4-4C6D-9AD5-5C618FD9ACC2@kyngchaos.com>

P.S.  Strangely, ECW write tests are succeeding on OSX.  The ECW  
library itself is known to have problems writing ECW format on OSX, so  
the GDAL tests never succeeded before.

Maybe the ecw library wasn't the problem, as I thought...

On May 11, 2009, at 10:40 PM, William Kyngesburye wrote:

> Just got done testing RC1... Autotests all OK on OSX except for a  
> new failure:
>
>  TEST: tiff_ovr_10: tiff_ovr_10_interverted ... ERROR 1:  
> TIFFFetchDirectory:tmp/ovr10.tif: Can not read TIFF directory count
> ERROR 1: TIFFReadDirectory:Failed to read directory at offset  
> 1276248064
> fail
>    Failed to open copy of test dataset.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.

From szekerest at gmail.com  Tue May 12 17:43:25 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue May 12 17:43:28 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <4A09DBEB.7040007@pobox.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
	<f3b73b7d0905121249g4a37511ck705f2e96f70639d2@mail.gmail.com>
	<4A09DBEB.7040007@pobox.com>
Message-ID: <f3b73b7d0905121443k6953e641kc0d05b523318bc90@mail.gmail.com>

2009/5/12 Frank Warmerdam <warmerdam@pobox.com>

>
> I've also got to the point where FWTools CSharp bindings are no longer
> being built properly and I don't know why or how to fix it.
>

Frank,

Do you have more specific information about the issue above? I'm not aware
of any problems when building the recent versions.


>
> If you flush the bindings out of subversion you will lose the involvement
> of some developers.
>

With regards of SWIG C# we would require to commit 50+ files because of a
single change in an interface file which is quite unmaintainable. The python
bindings might not suffer from this problem though, but having the binaries
in SVN each SWIG maintainers should require to commit the generated stuff of
the affected languages as well, so as to keep the things consistent,
otherwise those involved developers would only test (and report issues) with
some older versions instead of getting the recent fixes when checking out
the bindings.

Is that a big requirement for the devs to install SWIG on a particular
machine?  (I'm not sure about the issues here, the Windows users just
download the swigwin package and use it)  They also have to have many other
stuff (like python, perl, mono, the libraries like geos, xerces etc) for a
successful build. Why having the SWIG library is extraordinary among the
others?


Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090512/f843acbd/attachment.html
From brettwiesner at gmail.com  Tue May 12 18:14:33 2009
From: brettwiesner at gmail.com (brettwiesner)
Date: Tue May 12 18:15:49 2009
Subject: [gdal-dev] When does the env var GDAL_DATA get processed?
In-Reply-To: <f3b73b7d0905071543m74db997nef1122ebca48db40@mail.gmail.com>
References: <4A00A146.8070607@gmail.com> <4A032611.6030806@tkk.fi>	
	<4A034511.20005@gmail.com>
	<f3b73b7d0905071543m74db997nef1122ebca48db40@mail.gmail.com>
Message-ID: <4A09F4C9.905@gmail.com>

Thanks. That was it.

Tamas Szekeres wrote:
>
>
> 2009/5/7 brettwiesner <brettwiesner@gmail.com 
> <mailto:brettwiesner@gmail.com>>
>
>     Yes that's the error message. It goes on the say somthing about
>     trying to find gcs.csv which is there but since it can't find the
>     env var, it doesn't find the data. This is weird because I set the
>     env var using the win32 function SetEnvironmentVariable() before
>     the call to OGRSpatialReference is made. Since I was setting the
>     variable and getting this message I suspected that GDAL_DATA was
>     being read by something at startup.
>
>
> Hi,
>
> I'm afraid you won't be able to set the environment variable this way. 
> GDAL is using getenv() to retrieve the value which operated on a local 
> copy of the variables created when the process is started. By this 
> means the env variable should be set before the process is spawned.
>  
>  
>
>
>     Is there some code I can write that can tell me what gdal thinks
>     the GDAL_DATA env var is set to?
>
>
> You should instead use SetConfigOption or PushFinderLocation (both 
> exposed to the SWIG API) for this purpose.
>
>
> Best regards,
>
> Tamas
>

From shkwak74 at nate.com  Wed May 13 05:37:40 2009
From: shkwak74 at nate.com (Sunny K)
Date: Wed May 13 05:37:43 2009
Subject: [Gdal-dev] Create HDF5 Problem
Message-ID: <1242207460904-2880597.post@n2.nabble.com>


Hi,

I want to create HDF5 format file.
So, I programmed as following C# source code.

But, when I call Create() method, the following error message was happend.
   "GDALDriver::Create()... no create method implemted for this format"

I don't know that GDAL libray cannot support HDF5 creation or I used wrong
method.

I'd appreciate it if you would tell me some information to solve this
problem. 

-----------------------------------------------------------------------------------------------
        public void CreateData(string strPath)
        {
            OSGeo.GDAL.Driver drv = Gdal.GetDriverByName("HDF5");

            int w = 512;
            int h = 512;
            Dataset ds = drv.Create(strPath, w, h, 1, DataType.GDT_Byte,
null);        }

-----------------------------------------------------------------------------------------------

Best regards,
- sunny
-- 
View this message in context: http://n2.nabble.com/Create-HDF5-Problem-tp2880597p2880597.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Wed May 13 06:02:06 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed May 13 06:02:09 2009
Subject: [Gdal-dev] Create HDF5 Problem
In-Reply-To: <1242207460904-2880597.post@n2.nabble.com>
References: <1242207460904-2880597.post@n2.nabble.com>
Message-ID: <f3b73b7d0905130302n64ce790dk972a643acc2eb1de@mail.gmail.com>

Sunny,


The HDF5 driver doesn't support the dataset creation at the moment.


Best regards,

Tamas



2009/5/13 Sunny K <shkwak74@nate.com>

>
> Hi,
>
> I want to create HDF5 format file.
> So, I programmed as following C# source code.
>
> But, when I call Create() method, the following error message was happend.
>   "GDALDriver::Create()... no create method implemted for this format"
>
> I don't know that GDAL libray cannot support HDF5 creation or I used wrong
> method.
>
> I'd appreciate it if you would tell me some information to solve this
> problem.
>
>
> -----------------------------------------------------------------------------------------------
>        public void CreateData(string strPath)
>        {
>            OSGeo.GDAL.Driver drv = Gdal.GetDriverByName("HDF5");
>
>            int w = 512;
>            int h = 512;
>            Dataset ds = drv.Create(strPath, w, h, 1, DataType.GDT_Byte,
> null);        }
>
>
> -----------------------------------------------------------------------------------------------
>
> Best regards,
> - sunny
> --
> View this message in context:
> http://n2.nabble.com/Create-HDF5-Problem-tp2880597p2880597.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090513/9c14f833/attachment.html
From hobu.inc at gmail.com  Wed May 13 15:07:49 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed May 13 15:07:56 2009
Subject: [gdal-dev] Motion: Promote GDAL 1.6.1 RC2 to final
In-Reply-To: <00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
Message-ID: <46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>

All,

I would like to motion to promote the 1.6.1 RC2 release to final.   
Voting is open until Friday afternoon, and should the motion pass, I  
will rename the file and make the final announcement to gdal-announce  
and other outlets.

/me starts with a +1

Howard
From dmorissette at mapgears.com  Wed May 13 15:38:29 2009
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed May 13 15:38:32 2009
Subject: [gdal-dev] Motion: Promote GDAL 1.6.1 RC2 to final
In-Reply-To: <46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
Message-ID: <4A0B21B5.3070203@mapgears.com>

Howard Butler wrote:
> 
> I would like to motion to promote the 1.6.1 RC2 release to final.  
> Voting is open until Friday afternoon, and should the motion pass, I 
> will rename the file and make the final announcement to gdal-announce 
> and other outlets.
> 

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From even.rouault at mines-paris.org  Wed May 13 16:05:46 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 13 16:05:58 2009
Subject: [gdal-dev] Motion: Promote GDAL 1.6.1 RC2 to final
In-Reply-To: <46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
Message-ID: <200905132205.47421.even.rouault@mines-paris.org>

+1 

Le Wednesday 13 May 2009 21:07:49 Howard Butler, vous avez ?crit?:
> All,
>
> I would like to motion to promote the 1.6.1 RC2 release to final.
> Voting is open until Friday afternoon, and should the motion pass, I
> will rename the file and make the final announcement to gdal-announce
> and other outlets.
>
> /me starts with a +1
>
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From szekerest at gmail.com  Wed May 13 16:13:54 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed May 13 16:13:57 2009
Subject: [gdal-dev] Motion: Promote GDAL 1.6.1 RC2 to final
In-Reply-To: <46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
Message-ID: <f3b73b7d0905131313v3f0be2ebx3ce191590b650bc@mail.gmail.com>

+1


2009/5/13 Howard Butler <hobu.inc@gmail.com>

> All,
>
> I would like to motion to promote the 1.6.1 RC2 release to final.  Voting
> is open until Friday afternoon, and should the motion pass, I will rename
> the file and make the final announcement to gdal-announce and other outlets.
>
> /me starts with a +1
>
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090513/244702f9/attachment.html
From jorge.arevalo at gmail.com  Wed May 13 18:14:35 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Wed May 13 18:14:58 2009
Subject: [gdal-dev] gdalwarp for ED50 UTM zone 31N to WGS84
In-Reply-To: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com>
References: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com>
Message-ID: <cb4457700905131514h5c420f6fjf5b0e1acb8c85348@mail.gmail.com>

Hello,

I'm from Spain, and I can confirm your parameters. These worked for me as
well.

Regards
Jorge


On Tue, May 12, 2009 at 1:03 AM, Ragi Y. Burhum <ragi@burhum.com> wrote:

> I was just sending this e-mail so that it can be searched through the
> archives. Thanks to Even Rouault for walking me through something that
> should have been obvious :)
>
> Originally, I was having trouble finding the right parameters for gdalwarp
> to be able to warp some imagery that I got from Spain. These were in ED50 /
> UTM zone 31N:
>
> rburhum@cuzconix:~/p_bug$ gdalinfo exported_from_original_sid_file.tif
> Driver: GTiff/GeoTIFF
> Files: exported_from_original_sid_file.tif
> Size is 6946, 4800
> Coordinate System is:
> PROJCS["ED50 / UTM zone 31N",
>     GEOGCS["ED50",
>         DATUM["European_Datum_1950",
>             SPHEROID["International 1924",6378388,297.0000000000014,
>                 AUTHORITY["EPSG","7022"]],
>             AUTHORITY["EPSG","6230"]],
>         PRIMEM["Greenwich",0],
>         UNIT["degree",0.0174532925199433],
>         AUTHORITY["EPSG","4230"]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",0],
>     PARAMETER["central_meridian",3],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",0],
>     UNIT["metre",1,
>         AUTHORITY["EPSG","9001"]],
>     AUTHORITY["EPSG","23031"]]
> Origin = (327720.000000000000000,4730783.500000000000000)
> Pixel Size = (0.500000000000000,-0.500000000000000)
> Metadata:
>   AREA_OR_POINT=Area
> Image Structure Metadata:
>   INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  (  327720.000, 4730783.500) (  0d53'46.94"E, 42d42'34.10"N)
> Lower Left  (  327720.000, 4728383.500) (  0d53'49.56"E, 42d41'16.35"N)
> Upper Right (  331193.000, 4730783.500) (  0d56'19.50"E, 42d42'36.88"N)
> Lower Right (  331193.000, 4728383.500) (  0d56'22.08"E, 42d41'19.12"N)
> Center      (  329456.500, 4729583.500) (  0d55'4.52"E, 42d41'56.62"N)
> Band 1 Block=6946x1 Type=Byte, ColorInterp=Red
> Band 2 Block=6946x1 Type=Byte, ColorInterp=Green
> Band 3 Block=6946x1 Type=Byte, ColorInterp=Blue
>
>
> In order to get it to work correctly, I had to use the right +towgs84
> parameters from
> http://earth-info.nga.mil/GandG/coordsys/onlinedatum/CountryEuropeTable.html. Although the table showed  -84 (+/-5), -107(+/-6), -120 (+/-3), for my own
> purposes -87, -98, -121 seemed to work best based on my source data.
>
> so the command line would be:
>
>  gdalwarp -s_srs "+proj=utm +zone=31 +ellps=intl +units=m
> +towgs84=-87,-101,-121 +no_defs" -t_srs EPSG:4326
> exported_from_original_sid_file.tif testout.tif
>
> Hope this helps someone else,
>
> - Ragi
>
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090514/6980b122/attachment.html
From ragi at burhum.com  Wed May 13 18:33:23 2009
From: ragi at burhum.com (Ragi Y. Burhum)
Date: Wed May 13 18:33:26 2009
Subject: [gdal-dev] gdalwarp for ED50 UTM zone 31N to WGS84
In-Reply-To: <cb4457700905131514h5c420f6fjf5b0e1acb8c85348@mail.gmail.com>
References: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com>
	<cb4457700905131514h5c420f6fjf5b0e1acb8c85348@mail.gmail.com>
Message-ID: <738927440905131533p7ad33458reb53d548ad6d24dc@mail.gmail.com>

Gracias Jorge

2009/5/13 Jorge Ar?valo <jorge.arevalo@gmail.com>

> Hello,
>
> I'm from Spain, and I can confirm your parameters. These worked for me as
> well.
>
> Regards
> Jorge
>
>
> On Tue, May 12, 2009 at 1:03 AM, Ragi Y. Burhum <ragi@burhum.com> wrote:
>
>> I was just sending this e-mail so that it can be searched through the
>> archives. Thanks to Even Rouault for walking me through something that
>> should have been obvious :)
>>
>> Originally, I was having trouble finding the right parameters for gdalwarp
>> to be able to warp some imagery that I got from Spain. These were in ED50 /
>> UTM zone 31N:
>>
>> rburhum@cuzconix:~/p_bug$ gdalinfo exported_from_original_sid_file.tif
>> Driver: GTiff/GeoTIFF
>> Files: exported_from_original_sid_file.tif
>> Size is 6946, 4800
>> Coordinate System is:
>> PROJCS["ED50 / UTM zone 31N",
>>     GEOGCS["ED50",
>>         DATUM["European_Datum_1950",
>>             SPHEROID["International 1924",6378388,297.0000000000014,
>>                 AUTHORITY["EPSG","7022"]],
>>             AUTHORITY["EPSG","6230"]],
>>         PRIMEM["Greenwich",0],
>>         UNIT["degree",0.0174532925199433],
>>         AUTHORITY["EPSG","4230"]],
>>     PROJECTION["Transverse_Mercator"],
>>     PARAMETER["latitude_of_origin",0],
>>     PARAMETER["central_meridian",3],
>>     PARAMETER["scale_factor",0.9996],
>>     PARAMETER["false_easting",500000],
>>     PARAMETER["false_northing",0],
>>     UNIT["metre",1,
>>         AUTHORITY["EPSG","9001"]],
>>     AUTHORITY["EPSG","23031"]]
>> Origin = (327720.000000000000000,4730783.500000000000000)
>> Pixel Size = (0.500000000000000,-0.500000000000000)
>> Metadata:
>>   AREA_OR_POINT=Area
>> Image Structure Metadata:
>>   INTERLEAVE=PIXEL
>> Corner Coordinates:
>> Upper Left  (  327720.000, 4730783.500) (  0d53'46.94"E, 42d42'34.10"N)
>> Lower Left  (  327720.000, 4728383.500) (  0d53'49.56"E, 42d41'16.35"N)
>> Upper Right (  331193.000, 4730783.500) (  0d56'19.50"E, 42d42'36.88"N)
>> Lower Right (  331193.000, 4728383.500) (  0d56'22.08"E, 42d41'19.12"N)
>> Center      (  329456.500, 4729583.500) (  0d55'4.52"E, 42d41'56.62"N)
>> Band 1 Block=6946x1 Type=Byte, ColorInterp=Red
>> Band 2 Block=6946x1 Type=Byte, ColorInterp=Green
>> Band 3 Block=6946x1 Type=Byte, ColorInterp=Blue
>>
>>
>> In order to get it to work correctly, I had to use the right +towgs84
>> parameters from
>> http://earth-info.nga.mil/GandG/coordsys/onlinedatum/CountryEuropeTable.html. Although the table showed  -84 (+/-5), -107(+/-6), -120 (+/-3), for my own
>> purposes -87, -98, -121 seemed to work best based on my source data.
>>
>> so the command line would be:
>>
>>  gdalwarp -s_srs "+proj=utm +zone=31 +ellps=intl +units=m
>> +towgs84=-87,-101,-121 +no_defs" -t_srs EPSG:4326
>> exported_from_original_sid_file.tif testout.tif
>>
>> Hope this helps someone else,
>>
>> - Ragi
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090513/fc863105/attachment-0001.html
From jorge.arevalo at gmail.com  Wed May 13 18:38:56 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Wed May 13 18:39:18 2009
Subject: [gdal-dev] gdalwarp for ED50 UTM zone 31N to WGS84
In-Reply-To: <738927440905131533p7ad33458reb53d548ad6d24dc@mail.gmail.com>
References: <738927440905111603n1cab2736i40c6f9142d30c6dd@mail.gmail.com> 
	<cb4457700905131514h5c420f6fjf5b0e1acb8c85348@mail.gmail.com> 
	<738927440905131533p7ad33458reb53d548ad6d24dc@mail.gmail.com>
Message-ID: <cb4457700905131538w41a0648dvf178e7d7065f953c@mail.gmail.com>

De nada :-). Y suerte


2009/5/14 Ragi Y. Burhum <ragi@burhum.com>

> Gracias Jorge
>
> 2009/5/13 Jorge Ar?valo <jorge.arevalo@gmail.com>
>
>  Hello,
>>
>> I'm from Spain, and I can confirm your parameters. These worked for me as
>> well.
>>
>> Regards
>> Jorge
>>
>>
>> On Tue, May 12, 2009 at 1:03 AM, Ragi Y. Burhum <ragi@burhum.com> wrote:
>>
>>> I was just sending this e-mail so that it can be searched through the
>>> archives. Thanks to Even Rouault for walking me through something that
>>> should have been obvious :)
>>>
>>> Originally, I was having trouble finding the right parameters for
>>> gdalwarp to be able to warp some imagery that I got from Spain. These were
>>> in ED50 / UTM zone 31N:
>>>
>>> rburhum@cuzconix:~/p_bug$ gdalinfo exported_from_original_sid_file.tif
>>> Driver: GTiff/GeoTIFF
>>> Files: exported_from_original_sid_file.tif
>>> Size is 6946, 4800
>>> Coordinate System is:
>>> PROJCS["ED50 / UTM zone 31N",
>>>     GEOGCS["ED50",
>>>         DATUM["European_Datum_1950",
>>>             SPHEROID["International 1924",6378388,297.0000000000014,
>>>                 AUTHORITY["EPSG","7022"]],
>>>             AUTHORITY["EPSG","6230"]],
>>>         PRIMEM["Greenwich",0],
>>>         UNIT["degree",0.0174532925199433],
>>>         AUTHORITY["EPSG","4230"]],
>>>     PROJECTION["Transverse_Mercator"],
>>>     PARAMETER["latitude_of_origin",0],
>>>     PARAMETER["central_meridian",3],
>>>     PARAMETER["scale_factor",0.9996],
>>>     PARAMETER["false_easting",500000],
>>>     PARAMETER["false_northing",0],
>>>     UNIT["metre",1,
>>>         AUTHORITY["EPSG","9001"]],
>>>     AUTHORITY["EPSG","23031"]]
>>> Origin = (327720.000000000000000,4730783.500000000000000)
>>> Pixel Size = (0.500000000000000,-0.500000000000000)
>>> Metadata:
>>>   AREA_OR_POINT=Area
>>> Image Structure Metadata:
>>>   INTERLEAVE=PIXEL
>>> Corner Coordinates:
>>> Upper Left  (  327720.000, 4730783.500) (  0d53'46.94"E, 42d42'34.10"N)
>>> Lower Left  (  327720.000, 4728383.500) (  0d53'49.56"E, 42d41'16.35"N)
>>> Upper Right (  331193.000, 4730783.500) (  0d56'19.50"E, 42d42'36.88"N)
>>> Lower Right (  331193.000, 4728383.500) (  0d56'22.08"E, 42d41'19.12"N)
>>> Center      (  329456.500, 4729583.500) (  0d55'4.52"E, 42d41'56.62"N)
>>> Band 1 Block=6946x1 Type=Byte, ColorInterp=Red
>>> Band 2 Block=6946x1 Type=Byte, ColorInterp=Green
>>> Band 3 Block=6946x1 Type=Byte, ColorInterp=Blue
>>>
>>>
>>> In order to get it to work correctly, I had to use the right +towgs84
>>> parameters from
>>> http://earth-info.nga.mil/GandG/coordsys/onlinedatum/CountryEuropeTable.html. Although the table showed  -84 (+/-5), -107(+/-6), -120 (+/-3), for my own
>>> purposes -87, -98, -121 seemed to work best based on my source data.
>>>
>>> so the command line would be:
>>>
>>>  gdalwarp -s_srs "+proj=utm +zone=31 +ellps=intl +units=m
>>> +towgs84=-87,-101,-121 +no_defs" -t_srs EPSG:4326
>>> exported_from_original_sid_file.tif testout.tif
>>>
>>> Hope this helps someone else,
>>>
>>> - Ragi
>>>
>>>
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090514/70d96213/attachment.html
From jorge.arevalo at gmail.com  Wed May 13 18:42:13 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Wed May 13 18:42:35 2009
Subject: [gdal-dev] My introduction as GSoC 09 student
Message-ID: <cb4457700905131542w22a83537n3d58630f5eaa3f23@mail.gmail.com>

Hello everybody,

I'm one of the students selected for the GSoC 09 - GDAL projects.
Specifically, I'm going to work on the PostGIS / WKT Raster driver
implementation (http://trac.osgeo.org/gdal/wiki/SummerOfCode).

During last year, I've been working with GDAL and PostGIS, and I fell in
love with GIS development :-). The GDAL community helped me a lot, and I
think that is time to pay you back, and to modestly contribute to this great
open source project.

So, time to work. And I have a question: May I use the GDAL wiki to inform
about my work and share it? Better to use this wide-used wiki that create my
own one, I think. In this case, who can provide me login data?

Thanks in advance, anyway, and good summer!

Jorge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090514/bc68e427/attachment.html
From szekerest at gmail.com  Thu May 14 04:37:52 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu May 14 04:37:55 2009
Subject: [gdal-dev] My introduction as GSoC 09 student
In-Reply-To: <cb4457700905131542w22a83537n3d58630f5eaa3f23@mail.gmail.com>
References: <cb4457700905131542w22a83537n3d58630f5eaa3f23@mail.gmail.com>
Message-ID: <f3b73b7d0905140137g24b3ef1eh7ab9b0273fcc7994@mail.gmail.com>

2009/5/14 Jorge Ar?valo <jorge.arevalo@gmail.com>

> Hello everybody,
>
> I'm one of the students selected for the GSoC 09 - GDAL projects.
> Specifically, I'm going to work on the PostGIS / WKT Raster driver
> implementation (http://trac.osgeo.org/gdal/wiki/SummerOfCode).
>
> During last year, I've been working with GDAL and PostGIS, and I fell in
> love with GIS development :-). The GDAL community helped me a lot, and I
> think that is time to pay you back, and to modestly contribute to this great
> open source project.
>

Jorge,

Welcome on the board, I hope I (as your mentor) will be able to help you to
work this out successfully, feel free to ask your questions/ share your
experiences either on this list or by contacting me directly.



>
> So, time to work. And I have a question: May I use the GDAL wiki to inform
> about my work and share it? Better to use this wide-used wiki that create my
> own one, I think. In this case, who can provide me login data?
>


The gdal trac wiki  (http://trac.osgeo.org/gdal/wiki) is a good place to
share this information. To submit wiki pages, create or update bug reports,
you'll need to create an osgeo userid: http://www.osgeo.org/osgeo_userid

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090514/9927b506/attachment.html
From yehya_imam at yahoo.com  Thu May 14 15:21:11 2009
From: yehya_imam at yahoo.com (yehya imam)
Date: Thu May 14 15:27:54 2009
Subject: [gdal-dev] gdalwarp and NOAA L1b
Message-ID: <70837.70386.qm@web37307.mail.mud.yahoo.com>

Dear GDAL'ers,

I've downloaded AVHRR L1b images from NOAA CLASS. I'm trying to rectify the images via gdalwarp -tps. The output is obviously erroneous as per gdalinfo (also tried to open image in GRASS). I would appreciate your help in resolving this issue. Alternatively, could you please recommend another public tool to perform the task?

>> Here is the gdalinfo -nogcp for the original image:
***********
Driver: L1B/NOAA Polar Orbiter Level 1b Data Set
Files: NSS.LHRR.ND.D94235.S1612.E1622.B1701313.GC
Size is 2048, 191
Coordinate System is `'
Metadata:
  DATASET_NAME=NSS.LHRR.ND.D94235.S1612.E1622.B1701313.GC
  SATELLITE=NOAA-12(D)
  DATA_TYPE=AVHRR LAC
  REVOLUTION=17013
  SOURCE=Fairbanks, Alaska, USA (formerly Gilmore Creek)
  PROCESSING_CENTER=NOAA/NESDIS - Suitland, Maryland, USA
  START=year: 1994, day: 235, millisecond: 58454903
  STOP=year: 1994, day: 235, millisecond: 58494236
  LOCATION=Descending
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  191.0)
Upper Right ( 2048.0,    0.0)
Lower Right ( 2048.0,  191.0)
Center      ( 1024.0,   95.5)
Band 1 Block=2048x1 Type=UInt16, ColorInterp=Undefined
  Description = AVHRR Channel 1:  0.58  micrometers -- 0.68 micrometers
Band 2 Block=2048x1 Type=UInt16, ColorInterp=Undefined
  Description = AVHRR Channel 2:  0.725 micrometers -- 1.10 micrometers
Band 3 Block=2048x1 Type=UInt16, ColorInterp=Undefined
  Description = AVHRR Channel 3:  3.55  micrometers -- 3.93 micrometers
Band 4 Block=2048x1 Type=UInt16, ColorInterp=Undefined
  Description = AVHRR Channel 4:  10.3  micrometers -- 11.3 micrometers
Band 5 Block=2048x1 Type=UInt16, ColorInterp=Undefined
  Description = AVHRR Channel 5:  11.5  micrometers -- 12.5 micrometers
*************

>> A sample of GCPs returned by gdalinfo with no flags
*************
GCP[  0]: Id=, Info=
          (25.5,0.5) -> (-142.140625,54.984375,0)
GCP[  1]: Id=, Info=
          (225.5,0.5) -> (-134.1015625,54.8984375,0)
GCP[  2]: Id=, Info=
          (105.5,0.5) -> (-138.1640625,55.0078125,0)
GCP[  3]: Id=, Info=
          (625.5,0.5) -> (-126.4375,54.3125,0)
GCP[  4]: Id=, Info=
          (185.5,0.5) -> (-135.28125,54.9453125,0)
GCP[  5]: Id=, Info=
          (225.5,0.5) -> (-134.1015625,54.8984375,0)
GCP[  6]: Id=, Info=
          (1225.5,0.5) -> (-119.21875,53.28125,0)
GCP[  7]: Id=, Info=
          (305.5,0.5) -> (-132.0703125,54.7890625,0)
GCP[  8]: Id=, Info=
          (345.5,0.5) -> (-131.1875,54.734375,0)
GCP[  9]: Id=, Info=
          (385.5,0.5) -> (-130.375,54.671875,0)
GCP[ 10]: Id=, Info=
          (2025.5,0.5) -> (-103.5546875,49.1796875,0)
**************


>> Issuing gdalwarp -tps NSS.LHRR.ND.D94235.S1612.E1622.B1701313.GC sample4.tif
**************
There is a problem to invert the interpolation matrix
 There is a problem to invert the interpolation matrix
Creating output file that is 2042P x 420L.
Processing input file NSS.LHRR.ND.D94235.S1612.E1622.B1701313.GC.
 There is a problem to invert the interpolation matrix
 There is a problem to invert the interpolation matrix
0...10...20...30...40...50...60...70...80...90...100 - done.
***************

>> gdalinfo on sampl4.tif returns
***************
Driver: GTiff/GeoTIFF
Files: sample4.tif
Size is 2042, 420
Coordinate System is:
GEOGCS["WGS 72",
    DATUM["WGS_1972",
        SPHEROID["WGS 72",6378135,298.2600000000056,
            AUTHORITY["EPSG","7043"]],
        AUTHORITY["EPSG","6322"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4322"]]
Origin = (40192486126073056.000000000000000,2696296989708398592.000000000000000)
Pixel Size = (6420214358024886.000000000000000,-6420214358024886.000000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (40192486126073056.000,2696296989708398592.000) (-2147483648d-2147483648'144692950053862998016.00"E,-2147483648d-2147483648'9706669162950232637440.00"N)
Lower Left  (40192486126073056.000,-193040662053528.000) (-2147483648d-2147483648'144692950053862998016.00"E,-2147483648d-2147483648'694946383392700800.00"S)
Upper Right (13150270205212891136.000,2696296989708398592.000) (-2147483648d-2147483648'47340972738766404845568.00"E,-2147483648d-2147483648'9706669162950232637440.00"N)
Lower Right (13150270205212891136.000,-193040662053528.000) (-2147483648d-2147483648'47340972738766404845568.00"E,-2147483648d-2147483648'694946383392700800.00"S)
Center      (6595231345669481472.000,1348051974523172608.000) (-2147483648d-2147483648'23742832844410135248896.00"E,-2147483648d-2147483648'4852987108283421556736.00"N)
Band 1 Block=2042x1 Type=UInt16, ColorInterp=Gray
Band 2 Block=2042x1 Type=UInt16, ColorInterp=Undefined
Band 3 Block=2042x1 Type=UInt16, ColorInterp=Undefined
Band 4 Block=2042x1 Type=UInt16, ColorInterp=Undefined
Band 5 Block=2042x1 Type=UInt16, ColorInterp=Undefined
******************

Thanks,
Yehya



      __________________________________________________________________
Get a sneak peak at messages with a handy reading pane with All new Yahoo! Mail: http://ca.promos.yahoo.com/newmail/overview2/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090514/e9d9060e/attachment.html
From Sjur.A.Kolberg at sintef.no  Thu May 14 17:44:16 2009
From: Sjur.A.Kolberg at sintef.no (Sjur Kolberg)
Date: Thu May 14 17:52:34 2009
Subject: [gdal-dev] (no subject)
Message-ID: <72251B925CE10A478606EEAC6AA683BE0F59A2B6D3@SINTEFEXMBX01.sintef.no>

 
Hello, GDAL list;
 
Can anyone suggest what prevents the following GDALSuggestedWarpOutput 
from calculating an approximate geotransform? The resulting suggested 
GeoTransform is just a copy of the original GeoTransform.
 
Version is GDAL 1.6.0beta1 under Windows XP, I use Visual Studio 2005, 
this is a MFC application. poDataset is a 9900 band GRIB 1 data set 
from ECMWF. It appears to be read in OK, I can extract 
plausible metadata both from the dataset and from each band. 
 
   SourceWKT is (CString)
GEOGCS["Coordinate System imported from GRIB file",DATUM["unknown",
SPHEROID["Sphere",6367470,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]
   SourceWKT is from poDataset->GetProjectionRef()
 
   TargetWKT is (CString)
PROJCS["UTM 32 North (WGS84)",GEOGCS["WGS 84",DATUM["WGS_1984",
SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],
TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",
0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,
AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],
AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],
PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",9],
PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],
PARAMETER["false_northing",0],UNIT["Meter",1]]
   TargetWKT is from 
ogrspatref.SetProjCS(msg);                        // CString msg is just a name
ogrspatref.SetWellKnownGeogCS( "WGS84" );
if (ogrspatref.SetUTM( zone, i ) != OGRERR_NONE)  // zone==32, i==1 for northern hem.
 
 
And the code goes:


void *hTransformArg = GDALCreateGenImgProjTransformer( 
poDataset, sourceWKT, NULL, targetWKT, FALSE, 0, 1 );

CPLAssert( hTransformArg != NULL );

if (GDALSuggestedWarpOutput(pSrcDS, GDALGenImgProjTransform, 
hTransformArg, SugGeoTransform, &nPixels, &nLines )  != CE_None )

throw new GeneralExcpt("GDALSuggestedWarpOutput failed");




No exception is thown or other error, so everything 
seems OK, but the resulting SugGeoTransform is:

  [0] 4.0000000000000000 double
  [1] 0.25000000000000000 double
  [2] 0.00000000000000000 double
  [3] 65.000000000000000 double
  [4] 0.00000000000000000 double
  [5] -0.25000000000000000 double
and nPixels, nLines are 33, 45 
This happens to be exactly the GeoTransform of poDataSet, in degrees.
 
 
I guess I'm missing something obvious, but I've spent some evenings now.
 
Thanks for any help.
 
Sjur K :-)
From even.rouault at mines-paris.org  Thu May 14 18:00:39 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 14 18:00:50 2009
Subject: [gdal-dev] (no subject)
In-Reply-To: <72251B925CE10A478606EEAC6AA683BE0F59A2B6D3@SINTEFEXMBX01.sintef.no>
References: <72251B925CE10A478606EEAC6AA683BE0F59A2B6D3@SINTEFEXMBX01.sintef.no>
Message-ID: <200905150000.40504.even.rouault@mines-paris.org>

I've not reviewed closely your code, but I'd suggest you to study the source 
code for gdalwarp, that probably contains the missing bit.

I think you should probably try using GDALCreateGenImgProjTransformer2() 
instead of GDALCreateGenImgProjTransformer(). That's what gdalwarp.cpp 
does...

http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdalwarp.cpp


From jorsion at gmail.com  Thu May 14 22:37:48 2009
From: jorsion at gmail.com (jor sion)
Date: Thu May 14 22:37:49 2009
Subject: [gdal-dev] about SetRasterColorInterpretation
Message-ID: <8c2bdf730905141937lb2b8bb7r83e4161f973aec4d@mail.gmail.com>

Hi,

I used the the SetRasterColorInterpretation() method to modified the
ColorInterpretation of a band, but it failed.

so SetRasterColorInterpretation() doesn't work?

If I want to modify the ColorInterpretation of a band, what should I do?

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090515/5e099a5f/attachment.html
From arb at sat.dundee.ac.uk  Fri May 15 07:46:49 2009
From: arb at sat.dundee.ac.uk (Andrew Brooks)
Date: Fri May 15 07:47:29 2009
Subject: [gdal-dev] gdalwarp and NOAA L1b
In-Reply-To: <70837.70386.qm@web37307.mail.mud.yahoo.com>
References: <70837.70386.qm@web37307.mail.mud.yahoo.com>
Message-ID: <op.utyy0bz7qw3wu1@titan>

On Thu, 14 May 2009 20:21:11 +0100, yehya imam <yehya_imam@yahoo.com> wrote:
>
> I've downloaded AVHRR L1b images from NOAA CLASS. I'm trying to rectify the images via gdalwarp -tps. The output is obviously erroneous as per gdalinfo 

The error message "There is a problem to invert the interpolation matrix" explains why gdalinfo gave erroneous information.

I too have had great difficulties with gdalwarp and L1B.

The way the driver reports the geolocation data is not optimal and the methods used to process the data are also not optimal so it's no surprise that the result is often broken.

I submitted a patch to fix one of the issues but it was never applied; you can download it from here: http://trac.osgeo.org/gdal/ticket/2501

I also submitted some code to perform proper interpolation but nobody has made use of it.

I started a dialogue with the driver author who said he was going to rewrite it but then he went silent and I've not heard from him since.

One method I've used in the past to get some results is as follows:

1) Extract ALL of the geolocation data myself (51 points per scan line) since the driver normally subsamples
2) Interpolate this myself (Lagrangian method) to get 2048 points per scan line
3) Create two VRT files for the latitude and longitude data
4) Create a VRT file describing the image data in the file which references the two geolocation VRT files
5) Use the VRT file with my patched version of gdalwarp

This was successful for me in the past but when I tried it again recently it failed.  I can give you more details if you want though.

Andrew

From neteler at osgeo.org  Fri May 15 08:06:47 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Fri May 15 08:06:50 2009
Subject: [gdal-dev] gdalwarp and NOAA L1b
In-Reply-To: <op.utyy0bz7qw3wu1@titan>
References: <70837.70386.qm@web37307.mail.mud.yahoo.com>
	<op.utyy0bz7qw3wu1@titan>
Message-ID: <86782b610905150506m33ca3882ia64b5185ce0d7325@mail.gmail.com>

On Fri, May 15, 2009 at 1:46 PM, Andrew Brooks <arb@sat.dundee.ac.uk> wrote:
> On Thu, 14 May 2009 20:21:11 +0100, yehya imam <yehya_imam@yahoo.com> wrote:
>>
>> I've downloaded AVHRR L1b images from NOAA CLASS. I'm trying to rectify the images via gdalwarp -tps. The output is obviously erroneous as per gdalinfo
>
> The error message "There is a problem to invert the interpolation matrix" explains why gdalinfo gave erroneous information.
>
> I too have had great difficulties with gdalwarp and L1B.

Me, too. I gave up so far but your answer raised my interest. I still
want to process large amounts of NOAA L1b.

> The way the driver reports the geolocation data is not optimal and the methods used to process the data are also not optimal so it's no surprise that the result is often broken.
>
> I submitted a patch to fix one of the issues but it was never applied; you can download it from here: http://trac.osgeo.org/gdal/ticket/2501

(sidenote: I see you aren't in CC in that ticket)

> I also submitted some code to perform proper interpolation but nobody has made use of it.

Was that submitted as ticket, too? I would like to try it.

> I started a dialogue with the driver author who said he was going to rewrite it but then he went silent and I've not heard from him since.
>
> One method I've used in the past to get some results is as follows:
>
> 1) Extract ALL of the geolocation data myself (51 points per scan line) since the driver normally subsamples
> 2) Interpolate this myself (Lagrangian method) to get 2048 points per scan line
> 3) Create two VRT files for the latitude and longitude data
> 4) Create a VRT file describing the image data in the file which references the two geolocation VRT files
> 5) Use the VRT file with my patched version of gdalwarp
>
> This was successful for me in the past but when I tried it again recently it failed. ?I can give you more details if you want though.

Perhaps it is worth to document that in the trac Wiki?

thanks
Markus
From warmerdam at pobox.com  Fri May 15 10:22:13 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May 15 10:22:35 2009
Subject: [gdal-dev] about SetRasterColorInterpretation
In-Reply-To: <8c2bdf730905141937lb2b8bb7r83e4161f973aec4d@mail.gmail.com>
References: <8c2bdf730905141937lb2b8bb7r83e4161f973aec4d@mail.gmail.com>
Message-ID: <4A0D7A95.8040609@pobox.com>

jor sion wrote:
> Hi,
>  
> I used the the SetRasterColorInterpretation() method to modified the 
> ColorInterpretation of a band, but it failed.
>  
> so SetRasterColorInterpretation() doesn't work?
> 
> If I want to modify the ColorInterpretation of a band, what should I do?

JoSn,

This method is not operational for very many drivers.

I see that if the PAM mechanism is enabled all PAM enabled drivers will
actually store the color interpretation in the .aux.xml file.  What version
of GDAL are you using?  What file format?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Fri May 15 10:34:13 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May 15 10:34:36 2009
Subject: [gdal-dev] (no subject)
In-Reply-To: <72251B925CE10A478606EEAC6AA683BE0F59A2B6D3@SINTEFEXMBX01.sintef.no>
References: <72251B925CE10A478606EEAC6AA683BE0F59A2B6D3@SINTEFEXMBX01.sintef.no>
Message-ID: <4A0D7D65.8060109@pobox.com>

Sjur Kolberg wrote:
>  
> Hello, GDAL list;
>  
> Can anyone suggest what prevents the following GDALSuggestedWarpOutput 
> from calculating an approximate geotransform? The resulting suggested 
> GeoTransform is just a copy of the original GeoTransform.
>  
> Version is GDAL 1.6.0beta1 under Windows XP, I use Visual Studio 2005, 
> this is a MFC application. poDataset is a 9900 band GRIB 1 data set 
> from ECMWF. It appears to be read in OK, I can extract 
> plausible metadata both from the dataset and from each band. 
>  
>    SourceWKT is (CString)
> GEOGCS["Coordinate System imported from GRIB file",DATUM["unknown",
> SPHEROID["Sphere",6367470,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]
>    SourceWKT is from poDataset->GetProjectionRef()
>  
>    TargetWKT is (CString)
> PROJCS["UTM 32 North (WGS84)",GEOGCS["WGS 84",DATUM["WGS_1984",
> SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],
> TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",
> 0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,
> AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],
> AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],
> PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",9],
> PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],
> PARAMETER["false_northing",0],UNIT["Meter",1]]
>    TargetWKT is from 
> ogrspatref.SetProjCS(msg);                        // CString msg is just a name
> ogrspatref.SetWellKnownGeogCS( "WGS84" );
> if (ogrspatref.SetUTM( zone, i ) != OGRERR_NONE)  // zone==32, i==1 for northern hem.
>  
>  
> And the code goes:
> 
> 
> void *hTransformArg = GDALCreateGenImgProjTransformer( 
> poDataset, sourceWKT, NULL, targetWKT, FALSE, 0, 1 );
> 
> CPLAssert( hTransformArg != NULL );
> 
> if (GDALSuggestedWarpOutput(pSrcDS, GDALGenImgProjTransform, 
> hTransformArg, SugGeoTransform, &nPixels, &nLines )  != CE_None )

Sjur,

I tried this (test.wkt is the UTM WKT) and it seems to work plausibly:

testepsg -t 'GEOGCS["Coordinate System imported from GRIB 
file",DATUM["unknown",SPHEROID["Sphere",6367470,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]' 
test.wkt 4 65
OGRCT: Source: +proj=longlat +a=6367470 +b=6367470 +no_defs
OGRCT: Target: +proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs
(4.000000,65.000000,0.000000) -> (264409.202311,7217779.091236,0.000000)

So, the reprojection operation can apparently work.  The behavior you
are seeing appears to be congruent with reprojection doing nothing.
Is there any possibility that the PROJ library is not built into your
GDAL?

I see no other reason things should not work as you have constructed
them.  All I can see is to either debug through and see what is going
wrong, or to submit a ticket with info on how to reproduce the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mhanson at photon.com  Fri May 15 13:11:24 2009
From: mhanson at photon.com (Matt Hanson)
Date: Fri May 15 13:11:32 2009
Subject: [gdal-dev] GDALWarp GCP
Message-ID: <3EA46FE628EC0E49BE8F300C64B45C4B02473B@pj-exchange.photon.com>

Hello,   I sent the email to the list in April but it's gotten no
response.    I've since scoured the 'net and the GDAL archives, tried
countless number of permutations and every time end up with a blank
image.   I'm obviously missing something, yet the archives and
documentation don't provide any clear explanation of how this may be
accomplished.    Any pointers would be greatly appreciated!
Thanks!
Matt

Wed, 22 Apr 2009 08:28:58 -0700
Hello, 

I'm having trouble getting an image warped  properly using GCPs.   I'm
wondering if I'm missing a piece in my code.

Here  I am warping from an image with a presumably unknown projection to
a georeferenced reference image.   The images have been registered
either manually or automatically and the GCPs come from that -
pixel/line in the unknown image corresponding to georeferenced
coordinates in the reference image.

************************************************************
GDALWarpOptions *psWarpOptions = GDALCreateWarpOptions();

psWarpOptions->pTransformerArg = GDALCreateGCPTransformer(gdalgcpssize,
gdalgcps, order, 0);
psWarpOptions->pfnTransformer = GDALGCPTransform;
psWarpOptions->eResampleAlg = GRA_NearestNeighbour;

psWarpOptions->hSrcDS = // Set to source image
psWarpOptions->nBandCount = 0; 
psWarpOptions->pfnProgress = GDALTermProgress;   

double adfDstGeoTransform[6];
int nPixels=0, nLines=0;
GDALSuggestedWarpOutput( psWarpOptions->hSrcDS, GDALGCPTransform, 
psWarpOptions->pTransformerArg, adfDstGeoTransform, &nPixels, &nLines
                

// Create new output image of size nPixels x nLines
// Copy Projection info from georeferenced image
psWarpOptions->hDstDS = // Set to new output image

// Initialize and execute the warp operation
GDALWarpOperation oOperation;
oOperation.Initialize( psWarpOptions );
oOperation.ChunkAndWarpImage( 0, 0, nPixels, nLines );
************************************************************

Are these essentially the correct steps to do this?    GDAL runs without
any errors and generates an output image which has the correct
projection info and reasonable looking geographic corner coordinates.
However the resulting image is all black.

Thanks in advance for any clues anyone could provide!

matt


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090515/4f9aa539/attachment.html
From even.rouault at mines-paris.org  Fri May 15 13:29:44 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 15 13:29:57 2009
Subject: [gdal-dev] GDALWarp GCP
In-Reply-To: <3EA46FE628EC0E49BE8F300C64B45C4B02473B@pj-exchange.photon.com>
References: <3EA46FE628EC0E49BE8F300C64B45C4B02473B@pj-exchange.photon.com>
Message-ID: <200905151929.45311.even.rouault@mines-paris.org>

Matt,

The symptoms you get are compatible with a common mistake : forgetting to 
close the output dataset with GDALClose().

Otherwise, if it's a more serious issue, I'd advise you studying carefully the 
source code of gdalwarp : 
http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdalwarp.cpp

(I've tested that if I modify gdalwarp.cpp to remove the closing of the output 
dataset, I just get your symptoms)

Best regards,

Even
From antonio.valentino at tiscali.it  Fri May 15 14:15:06 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri May 15 14:16:12 2009
Subject: [gdal-dev] [ANN] GSDView v. 0.5.9
Message-ID: <20090515201506.758918e9@tiscali.it>

Hi list,
I'm pleased to announce the availability of GSDView v. 0.5.9.

Geo-Spatial Data Viewer (GSDView) is a lightweight viewer for
geo-spatial data and products.
It is written in python and Qt4 and uses the GDAL library for data
access.

GSDView is modular and has a simple plug-in architecture.

You can find it at

http://sourceforge.net/projects/gsdview


-- 
Antonio Valentino
From antonio.valentino at tiscali.it  Fri May 15 14:42:55 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri May 15 14:43:10 2009
Subject: [gdal-dev] [ANN] GSDView v. 0.5.9
In-Reply-To: <0B481AE0-19A5-4672-A9FD-299B9B33E478@mac.com>
References: <20090515201506.758918e9@tiscali.it>
	<0B481AE0-19A5-4672-A9FD-299B9B33E478@mac.com>
Message-ID: <20090515204255.0c2f1af3@tiscali.it>

Il giorno Fri, 15 May 2009 14:25:25 -0400
Greg Coats <gregcoats@mac.com> ha scritto:

> Does GSDView support displaying GeoTIFF and GeoJPEG2000 images?
> Greg

GSDView should be able to open all file formats supported by the local
installation of GDAL.

Currently it is not able to handle RGB images and raster bands with
sighed data types. 

In case of raster bands with complex data type the module is extracted.

Best regards 

-- 
Antonio Valentino
From antonio.valentino at tiscali.it  Fri May 15 15:03:10 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri May 15 15:04:14 2009
Subject: [gdal-dev] [ANN] GSDView v. 0.5.9
In-Reply-To: <FA3A6EE1-0AAF-4BD9-B2BD-1826B1278B83@mac.com>
References: <20090515201506.758918e9@tiscali.it>
	<0B481AE0-19A5-4672-A9FD-299B9B33E478@mac.com>
	<20090515204255.0c2f1af3@tiscali.it>
	<FA3A6EE1-0AAF-4BD9-B2BD-1826B1278B83@mac.com>
Message-ID: <20090515210310.140f64ec@tiscali.it>

Il giorno Fri, 15 May 2009 14:49:52 -0400
Greg Coats <gregcoats@mac.com> ha scritto:

> All of my images are color images with 8 bits for Red, 8 bits for  
> Green, 8 bits for Blue.
> You seem to be saying GSDView can display all GDAL supported image  
> formats, but that GSDView can only display grey scale images.

You can *open* a dataset containing an RGB image but can't display it
in RGB mode. You can only display each single 8bit raster band in
gray scale mode.

Visualization of colour images will be supported in future versions of
the SW.


-- 
Antonio Valentino
From hobu.inc at gmail.com  Fri May 15 16:38:02 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri May 15 16:38:06 2009
Subject: [gdal-dev] Motion: Promote GDAL 1.6.1 RC2 to final
In-Reply-To: <f3b73b7d0905131313v3f0be2ebx3ce191590b650bc@mail.gmail.com>
References: <F4465699-1655-4564-AC4C-6F7E17CE490E@gmail.com>
	<00B3672D-6DD1-49FD-9B09-4D5F1972F803@gmail.com>
	<46CCB4C2-8989-46D9-9E92-0393160EDAB9@gmail.com>
	<f3b73b7d0905131313v3f0be2ebx3ce191590b650bc@mail.gmail.com>
Message-ID: <1E286048-91C8-4524-A4EA-70FC7030DEC1@gmail.com>

Folks,

I declare this motion passed.  I will rename the RC2 file and post a  
message to -announce shortly.

Thanks,

Howard
From hobu.inc at gmail.com  Fri May 15 16:49:37 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri May 15 16:49:43 2009
Subject: [gdal-dev] GDAL 1.6.1 Released
Message-ID: <E811D199-1F14-4924-B220-7BB96B6610B4@gmail.com>

The GDAL team is pleased to announce the release of GDAL 1.6.1 final.   
GDAL 1.6.1 is the first maintenance release of the 1.6 branch, and it  
includes fixes for nearly 120 bugs.  See the release notes at <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News 
 > for more details.

- http://download.osgeo.org/gdal/gdal-1.6.1.tar.gz
- http://download.osgeo.org/gdal/gdal161.zip

Howard
From Sjur.A.Kolberg at sintef.no  Fri May 15 16:58:39 2009
From: Sjur.A.Kolberg at sintef.no (Sjur Kolberg)
Date: Fri May 15 16:58:43 2009
Subject: [gdal-dev] (no subject) > GDALSuggestedWarpOutput()  only
	returns the unaltered source geotransform
In-Reply-To: <4A0D7D65.8060109@pobox.com>
References: <72251B925CE10A478606EEAC6AA683BE0F59A2B6D3@SINTEFEXMBX01.sintef.no>
	<4A0D7D65.8060109@pobox.com>
Message-ID: <72251B925CE10A478606EEAC6AA683BE0F5AF58473@SINTEFEXMBX01.sintef.no>



Yes, thanks, Frank. That was it.

Or even easier, I simply copied a proj.dll from another location into the directory where my program (and gdal.dll) resides.

Is it so that gdal looks for proj.dll without being linked with proj.lib, and without complaining if it's not found?

I'll build a gdal with debug info, allowing me to track.

Best regards and thanks,

Sjur :-)


 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Friday, May 15, 2009 4:34 PM
To: Sjur Kolberg
Cc: 'gdal-dev@lists.osgeo.org'
Subject: Re: [gdal-dev] (no subject)


Sjur,

I tried this (test.wkt is the UTM WKT) and it seems to work plausibly:

testepsg -t 'GEOGCS["Coordinate System imported from GRIB file",DATUM["unknown",SPHEROID["Sphere",6367470,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]' 
test.wkt 4 65
OGRCT: Source: +proj=longlat +a=6367470 +b=6367470 +no_defs
OGRCT: Target: +proj=utm +zone=32 +ellps=WGS84 +datum=WGS84 +units=m +no_defs
(4.000000,65.000000,0.000000) -> (264409.202311,7217779.091236,0.000000)

So, the reprojection operation can apparently work.  The behavior you are seeing appears to be congruent with reprojection doing nothing.
Is there any possibility that the PROJ library is not built into your GDAL?

I see no other reason things should not work as you have constructed them.  All I can see is to either debug through and see what is going wrong, or to submit a ticket with info on how to reproduce the problem.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



Sjur Kolberg wrote:
>  
> Hello, GDAL list;
>  
> Can anyone suggest what prevents the following GDALSuggestedWarpOutput 
> from calculating an approximate geotransform? The resulting suggested 
> GeoTransform is just a copy of the original GeoTransform.
>  
> Version is GDAL 1.6.0beta1 under Windows XP, I use Visual Studio 2005, 
> this is a MFC application. poDataset is a 9900 band GRIB 1 data set 
> from ECMWF. It appears to be read in OK, I can extract plausible 
> metadata both from the dataset and from each band.
>  
>    SourceWKT is (CString)
> GEOGCS["Coordinate System imported from GRIB file",DATUM["unknown", 
> SPHEROID["Sphere",6367470,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]
>    SourceWKT is from poDataset->GetProjectionRef()
>  
>    TargetWKT is (CString)
> PROJCS["UTM 32 North (WGS84)",GEOGCS["WGS 84",DATUM["WGS_1984", 
> SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],
> TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",
> 0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,
> AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],
> AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],
> PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",9],
> PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],
> PARAMETER["false_northing",0],UNIT["Meter",1]]
>    TargetWKT is from 
> ogrspatref.SetProjCS(msg);                        // CString msg is just a name
> ogrspatref.SetWellKnownGeogCS( "WGS84" ); if (ogrspatref.SetUTM( zone, 
> i ) != OGRERR_NONE)  // zone==32, i==1 for northern hem.
>  
>  
> And the code goes:
> 
> 
> void *hTransformArg = GDALCreateGenImgProjTransformer( poDataset, 
> sourceWKT, NULL, targetWKT, FALSE, 0, 1 );
> 
> CPLAssert( hTransformArg != NULL );
> 
> if (GDALSuggestedWarpOutput(pSrcDS, GDALGenImgProjTransform, 
> hTransformArg, SugGeoTransform, &nPixels, &nLines )  != CE_None )
From Micha at arava.co.il  Sat May 16 11:43:24 2009
From: Micha at arava.co.il (Micha Silver)
Date: Sat May 16 11:43:26 2009
Subject: [Gdal-dev] Tickets 2385 and 2683 (ECW and MrSID plugins)
In-Reply-To: <f3b73b7d0905040238y872a1e3secb448364e3e6aa2@mail.gmail.com>
References: <49FC32E3.2040502@gmail.com> <49FC644A.2030109@pobox.com>
	<20090503222818.GA3994@frankie.is-a-geek.org>
	<49FE55F3.8070700@pobox.com> <20090504075335.GA4471@mithrandir>
	<49FEAA1C.1000000@gmail.com>
	<f3b73b7d0905040238y872a1e3secb448364e3e6aa2@mail.gmail.com>
Message-ID: <1242488604844-2912914.post@n2.nabble.com>




Tamas Szekeres wrote:
> 
> 2009/5/4 Agustin Lobo <alobolistas@gmail.com>
> 
>>
>> Actually, this support is present for windows binary distributions of
>> QGIS,
>> provided the user takes the steps described at the end of page
>> http://sites.google.com/site/eospansite/qsig-for-windows
>> (mainly thanks to directions provided by Micha Silver) for example. But
>> the same type of solution does not exist for any binary distribution of
>> QGIS
>> for Linux.
>>
> 
> Agustin,
> 
> I have an impression that this is because the GDAL Windows builds support
> building ECW as a plugin but this is not the case with the linux builds by
> default, isn't it?
> 
> While I'm NOT a developer, I don't think that's strictly true. I think
> that the difference with Windows builds is simply that "someone" created a
> gdal binary with ecw and mrsid enabled. All you need is to add the erdas
> *.dll's to get it to work. And requires you to register (agreeing to their
> licence) to download the SDK.
> -- 
> Micha
> 
> 
> 
> By this means it would indeed be reasonable to establish the counterpart
> of
> this option (like Frank suggested by using a --with-ecw-as-plugin option)
> in
> the default configuration mechanism, but using a completely different
> compilation line would be quite undesired.
> 
> Feel free to open up a ticket in this topic, I hope someone will be able
> to
> take care of it (patches are welcomed).
> 
> Best regards,
> 
> Tamas
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

-- 
View this message in context: http://n2.nabble.com/Tickets-2385-and-2683-%28ECW-and-MrSID-plugins%29-tp2767156p2912914.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jordi.inglada at cnes.fr  Sun May 17 04:57:23 2009
From: jordi.inglada at cnes.fr (jordi inglada)
Date: Sun May 17 04:57:25 2009
Subject: [gdal-dev] ORFEO Toolbox 3.0 available
Message-ID: <c90dd6a90905170157w4416f8c6n1328efb18dbd2617@mail.gmail.com>

Dear all,

CNES is proud to announce the availability of the new major stable version
of ORFEO Toolbox: OTB 3.0 "Manh? de Carnaval"

   - These are the applications shipped with OTB 3.0
      - Urban area extraction (Pl?iades, QB, Ikonos, SPOT5)
      - Image to Data Base registration (Pl?iades/QB)
   - The library includes these additions
      - Radiometric indices (vegetation, water, soil)
      - Optimized texture computations including Haralick, SFS, Pantex, Edge
      density
      - Object-based segmentation and filtering
      - Visualization refactoring
      - LSD line segment detector and right angle detector
      - PCA computation
      - Automated loading of radiometric correction parameters (SPOT,
      Ikonos)
      - Attribute support for shapefile (reading only)
      - Optimization of vector data
      - Updated OSSIM library
      - Updated ITK library
      - Miscellaneous bug fixes (support for gdal 1.6)

As usual, you can go to http://www.orfeo-toolbox.org/ and follow the
download link or get directly to Sourceforge
http://sourceforge.net/projects/orfeo-toolbox/ and get the packages there.
Full source code, Software Guide and Windows binaries are available.
 OTB is an open source library which makes available a full set of building
blocks for implementing remote sensing image processing going from low level
pixel processing to advanced map applications. All this thanks to, among
others, ITK, GDAL and OSSIM.

Best regards,

J. Inglada
-- 
CNES - DCT/SI/AP - BPI 1219
18, avenue Edouard Belin
31401 Toulouse Cedex 09 - France
Tel. +33.(0)5.61.27.33.97 - Fax. +33.(0)5.61.28.31.09
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090517/32252665/attachment.html
From woklist at kyngchaos.com  Sun May 17 22:35:56 2009
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sun May 17 22:35:59 2009
Subject: [gdal-dev] GDAL 1.6.1 Released
In-Reply-To: <E811D199-1F14-4924-B220-7BB96B6610B4@gmail.com>
References: <E811D199-1F14-4924-B220-7BB96B6610B4@gmail.com>
Message-ID: <F04CF863-0382-4FFD-9531-9BB6486E15CD@kyngchaos.com>

How about that updated docs package? (with the new gdalbuildvrt help  
page)

I suppose I could snag the html from the current gdal.org site...

On May 15, 2009, at 3:49 PM, Howard Butler wrote:

> The GDAL team is pleased to announce the release of GDAL 1.6.1  
> final.  GDAL 1.6.1 is the first maintenance release of the 1.6  
> branch, and it includes fixes for nearly 120 bugs.  See the release  
> notes at <http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News> for  
> more details.
>
> - http://download.osgeo.org/gdal/gdal-1.6.1.tar.gz
> - http://download.osgeo.org/gdal/gdal161.zip
>
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

All generalizations are dangerous, even this one.


From ksshannon at gmail.com  Sun May 17 22:59:58 2009
From: ksshannon at gmail.com (Kyle Shannon)
Date: Sun May 17 23:00:20 2009
Subject: [gdal-dev] GDAL 1.6.1 Released
In-Reply-To: <F04CF863-0382-4FFD-9531-9BB6486E15CD@kyngchaos.com>
References: <E811D199-1F14-4924-B220-7BB96B6610B4@gmail.com> 
	<F04CF863-0382-4FFD-9531-9BB6486E15CD@kyngchaos.com>
Message-ID: <c28f2e140905171959s7c6b6348r2d6f6ed6e9cea215@mail.gmail.com>

Hello everyone,
I just checked the trac and saw that there was still 38 tickets for release
1.6.1.  Are these tickets being bumped to 1.6.2? Or is trac not up to date
or not being used for the release schedule.  Thank you.

kss
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
ksshannon@gmail.com
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


On Sun, May 17, 2009 at 8:35 PM, William Kyngesburye
<woklist@kyngchaos.com>wrote:

> How about that updated docs package? (with the new gdalbuildvrt help page)
>
> I suppose I could snag the html from the current gdal.org site...
>
>
> On May 15, 2009, at 3:49 PM, Howard Butler wrote:
>
>  The GDAL team is pleased to announce the release of GDAL 1.6.1 final.
>>  GDAL 1.6.1 is the first maintenance release of the 1.6 branch, and it
>> includes fixes for nearly 120 bugs.  See the release notes at <
>> http://trac.osgeo.org/gdal/wiki/Release/1.6.1-News> for more details.
>>
>> - http://download.osgeo.org/gdal/gdal-1.6.1.tar.gz
>> - http://download.osgeo.org/gdal/gdal161.zip
>>
>> Howard
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> All generalizations are dangerous, even this one.
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090517/6299d655/attachment.html
From hobu.inc at gmail.com  Mon May 18 00:15:02 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon May 18 00:15:07 2009
Subject: [gdal-dev] GDAL 1.6.1 Released
In-Reply-To: <c28f2e140905171959s7c6b6348r2d6f6ed6e9cea215@mail.gmail.com>
References: <E811D199-1F14-4924-B220-7BB96B6610B4@gmail.com>
	<F04CF863-0382-4FFD-9531-9BB6486E15CD@kyngchaos.com>
	<c28f2e140905171959s7c6b6348r2d6f6ed6e9cea215@mail.gmail.com>
Message-ID: <DD97EE76-AC5C-423B-BDCE-3BAFDC220AA1@gmail.com>


On May 17, 2009, at 9:59 PM, Kyle Shannon wrote:

> Hello everyone,
> I just checked the trac and saw that there was still 38 tickets for  
> release 1.6.1.  Are these tickets being bumped to 1.6.2? Or is trac  
> not up to date or not being used for the release schedule.  Thank you.

Yes, these will be kicked forward to 1.6.2 (or 1.7, depending on the  
circumstances)

Howard
From warmerdam at pobox.com  Mon May 18 00:21:09 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 18 00:21:23 2009
Subject: [gdal-dev] GDAL 1.6.1 Released
In-Reply-To: <c28f2e140905171959s7c6b6348r2d6f6ed6e9cea215@mail.gmail.com>
References: <E811D199-1F14-4924-B220-7BB96B6610B4@gmail.com> 
	<F04CF863-0382-4FFD-9531-9BB6486E15CD@kyngchaos.com>
	<c28f2e140905171959s7c6b6348r2d6f6ed6e9cea215@mail.gmail.com>
Message-ID: <4A10E235.7030102@pobox.com>

Kyle Shannon wrote:
> Hello everyone,
> I just checked the trac and saw that there was still 38 tickets for 
> release 1.6.1.  Are these tickets being bumped to 1.6.2? Or is trac not 
> up to date or not being used for the release schedule.  Thank you.

Kyle,

I have marked 1.6.1 complete, and migrated the remaining tickets to 1.6.2.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From renato.feijo.rocha at gmail.com  Mon May 18 15:14:02 2009
From: renato.feijo.rocha at gmail.com (Renato Feijo da Rocha)
Date: Mon May 18 15:14:15 2009
Subject: [gdal-dev] How can I use gdal library.
Message-ID: <608498c40905181214j6e0fd533g74790b99b5df8786@mail.gmail.com>

Hello friends.
I am a begginner user of gdal.
I would like know how can I use gdal library. I am building a small routine
to work with SAR image and I would like use gdal to open SAR images with
Geotiff format.
Thanks.

Renato
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090518/0438a6e2/attachment.html
From ckarney at sarnoff.com  Mon May 18 16:04:23 2009
From: ckarney at sarnoff.com (Charles Karney)
Date: Mon May 18 16:35:32 2009
Subject: [gdal-dev] FWTools 2.3.0 does find State Plane projection
	information
Message-ID: <ssrmy9ajhyw.fsf@puffin.sarnoff.com>

FWTools 2.2.8 and 2.3.0 seem not to know about some state plane
coordinate systems, while gdal under Linux and Cygwin report the correct
projection data.

For example, I have some imagery (a GeoTiff) for Florida downloaded from
the USGS site.  The cygwin version of listgeo reports:

  Geotiff_Information:
     Version: 1
     Key_Revision: 1.0
     Tagged_Information:
	ModelTiepointTag (2,3):
	   0                0                0                
	   419093.218       185211.481       0                
	ModelPixelScaleTag (1,3):
	   0.30480061       0.30480061       0                
	End_Of_Tags.
     Keyed_Information:
	GTModelTypeGeoKey (Short,1): ModelTypeProjected
	GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
	GTCitationGeoKey (Ascii,271): "IMAGINE GeoTIFF Support\n
	 Projection Name = NAD_1983_StatePlane_Florida_North_FIPS_0903_Feet\n
	 Units = us_survey_feet\n
	 GeoTIFF Units = meters"
	ProjectedCSTypeGeoKey (Short,1): PCS_NAD83_Florida_North
	PCSCitationGeoKey (Ascii,189): "IMAGINE GeoTIFF Support\n
	 State Plane Zone -903\n
	 NAD = 83"
	End_Of_Keys.
     End_Of_Geotiff.

  PCS = 26960 (NAD83 / Florida North)
  Projection = 10933 (SPCS83 Florida North zone (meters))
  Projection Method: CT_LambertConfConic_2SP
     ProjFalseOriginLatGeoKey: 29.000000 ( 29d 0' 0.00"N)
     ProjFalseOriginLongGeoKey: -84.500000 ( 84d30' 0.00"W)
     ProjStdParallel1GeoKey: 30.750000 ( 30d45' 0.00"N)
     ProjStdParallel2GeoKey: 29.583333 ( 29d35' 0.00"N)
     ProjFalseEastingGeoKey: 600000.000000 m
     ProjFalseNorthingGeoKey: 0.000000 m
  GCS: 4269/NAD83
  Datum: 6269/North American Datum 1983
  Ellipsoid: 7019/GRS 1980 (6378137.00,6356752.31)
  Prime Meridian: 8901/Greenwich (0.000000/  0d 0' 0.00"E)
  Projection Linear Units: 9001/metre (1.000000m)

  Corner Coordinates:
  Upper Left    (  419093.218,  185211.481)  ( 86d23'15.45"W, 30d39'26.37"N)
  Lower Left    (  419093.218,  183070.562)  ( 86d23'14.12"W, 30d38'16.86"N)
  Upper Right   (  420296.571,  185211.481)  ( 86d22'30.26"W, 30d39'27.02"N)
  Lower Right   (  420296.571,  183070.562)  ( 86d22'28.94"W, 30d38'17.50"N)
  Center        (  419694.894,  184141.021)  ( 86d22'52.19"W, 30d38'51.94"N)

The version of lisgeo in FWTools2.3.0 reports the same information up to
the PCS line.  Then it has

  PCS = 26960 (name unknown)
  Projection = 10933 ()

and the corner points are listed without the lat/long equivalents.

I see that there's a stateplane.csv in the FWTools distribution.  But it
appears not to be read?  (I can provide the GeoTiff, if necessary.)

Thanks.

-- 
Charles Karney <ckarney@sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662
From warmerdam at pobox.com  Mon May 18 19:02:51 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 18 19:03:02 2009
Subject: [gdal-dev] How can I use gdal library.
In-Reply-To: <608498c40905181214j6e0fd533g74790b99b5df8786@mail.gmail.com>
References: <608498c40905181214j6e0fd533g74790b99b5df8786@mail.gmail.com>
Message-ID: <4A11E91B.2040306@pobox.com>

Renato Feijo da Rocha wrote:
> Hello friends.
> I am a begginner user of gdal.
> I would like know how can I use gdal library. I am building a small 
> routine to work with SAR image and I would like use gdal to open SAR 
> images with Geotiff format.

Renato,

I would suggest you review the GDAL API Tutorial at:

   http://www.gdal.org/gdal_tutorial.html

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue May 19 00:48:13 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 19 00:48:24 2009
Subject: [gdal-dev] My introduction as GSoC 09 student
In-Reply-To: <f3b73b7d0905140137g24b3ef1eh7ab9b0273fcc7994@mail.gmail.com>
References: <cb4457700905131542w22a83537n3d58630f5eaa3f23@mail.gmail.com>
	<f3b73b7d0905140137g24b3ef1eh7ab9b0273fcc7994@mail.gmail.com>
Message-ID: <4A123A0D.8090505@pobox.com>

Tamas Szekeres wrote:
> 
> 
> 2009/5/14 Jorge Ar?valo <jorge.arevalo@gmail.com 
> <mailto:jorge.arevalo@gmail.com>>
> 
>     Hello everybody,
> 
>     I'm one of the students selected for the GSoC 09 - GDAL projects.
>     Specifically, I'm going to work on the PostGIS / WKT Raster driver
>     implementation (http://trac.osgeo.org/gdal/wiki/SummerOfCode).
> 
>     During last year, I've been working with GDAL and PostGIS, and I
>     fell in love with GIS development :-). The GDAL community helped me
>     a lot, and I think that is time to pay you back, and to modestly
>     contribute to this great open source project.

Jorge,

I think Tamas has covered the points about the wiki userid, etc.  I'm hoping
to work with Tamas as a back-up mentor on your project this summer.

When adding docs on your project please link it (in place of the http link to
the gsoc pages at google) on:

   http://trac.osgeo.org/gdal/wiki/SoCProjects

I'd suggest you skim a few of the previous years pages to get an idea of what
is expected.

I'd like to suggest that you, me and Tamas meet in IRC sometime this week
to discuss more details of your project.  In addition to being subscribed
to gdal-dev and the soc@lists.osgeo.org mailing list you should also subscribe
to the postgis-devel list where most design discussions of the WKTRaster
stuff is happening.

I believe Wolf also would like students to provide a status report every week
or two over the summer on the gdal-dev and soc@lists.osgeo.org mailing list.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bclay at ball.com  Tue May 19 11:39:20 2009
From: bclay at ball.com (Clay, Bruce)
Date: Tue May 19 12:15:24 2009
Subject: [gdal-dev] HDF5 link problem
Message-ID: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>

I downloaded the latest version of HDF5 from
ftp://ftp.hdfgroup.org/HDF5/current/bin/windows/ and am trying to build
HDF5 support into GDAL 1.6.1.

Unfortuneately when I enable HDF5 suuport in the nmake.opt I get
unresolved link errors the interesting thing is that the errors are not
just for HDF5.  I do have SDE enabled and GRIB is enabled by default.  I
don't know that the first unresolved is but all of the error go away if
I take HDF5 out of the build.

 

   Creating library gdal_i.lib and object gdal_i.exp

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_GEOR referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_HDF5Image referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_HDF5 referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_SDE referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_GRIB referenced in function _GDALAllRegister@0

gdal16.dll : fatal error LNK1120: 5 unresolved externals

NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
8\VC\BIN\link.EXE"' : return code '0x460'

Stop.

 

Has anyone seen this behavior and/or have a solution?

 

Bruce

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090519/00548a6e/attachment.html
From Shawn.Gong at drdc-rddc.gc.ca  Tue May 19 12:31:26 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Tue May 19 12:31:33 2009
Subject: [gdal-dev] HDF5 link problem
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26E906@ottawaex02.Ottawa.drdc-rddc.gc.ca>

Bruce,

 

I have built HDF5-166-win-vs2005 into GDAL1.6.0 and overnight stable
branch.

Try not to use the latest HDF5, use V1.66 instead.

thanks, 
Shawn 

 

________________________________

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Clay, Bruce
Sent: Tuesday, May 19, 2009 11:39 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] HDF5 link problem

 

I downloaded the latest version of HDF5 from
ftp://ftp.hdfgroup.org/HDF5/current/bin/windows/ and am trying to build
HDF5 support into GDAL 1.6.1.

Unfortuneately when I enable HDF5 suuport in the nmake.opt I get
unresolved link errors the interesting thing is that the errors are not
just for HDF5.  I do have SDE enabled and GRIB is enabled by default.  I
don't know that the first unresolved is but all of the error go away if
I take HDF5 out of the build.

 

   Creating library gdal_i.lib and object gdal_i.exp

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_GEOR referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_HDF5Image referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_HDF5 referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_SDE referenced in function _GDALAllRegister@0

gdalallregister.obj : error LNK2019: unresolved external symbol
_GDALRegister_GRIB referenced in function _GDALAllRegister@0

gdal16.dll : fatal error LNK1120: 5 unresolved externals

NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
8\VC\BIN\link.EXE"' : return code '0x460'

Stop.

 

Has anyone seen this behavior and/or have a solution?

 

Bruce

 



This message and any enclosures are intended only for the addressee.
Please  
notify the sender by email if you are not the intended recipient.  If
you are  
not the intended recipient, you may not use, copy, disclose, or
distribute this  
message or its contents or enclosures to any other person and any such
actions  
may be unlawful.  Ball reserves the right to monitor and review all
messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090519/9fdc2384/attachment.html
From szekerest at gmail.com  Tue May 19 12:57:21 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue May 19 12:57:24 2009
Subject: [gdal-dev] HDF5 link problem
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <f3b73b7d0905190957h2c503754h7d55385f9fa16808@mail.gmail.com>

Bruce,

I'm using hdf5-1.8.2 and it seems working well.

You can obtain the binaries and build SDKs from here:
http://vbkto.dyndns.org:1280/sdk/Default.aspx

Best regards,

Tamas



2009/5/19 Clay, Bruce <bclay@ball.com>

>  I downloaded the latest version of HDF5 from
> ftp://ftp.hdfgroup.org/HDF5/current/bin/windows/ and am trying to build
> HDF5 support into GDAL 1.6.1.
>
> Unfortuneately when I enable HDF5 suuport in the nmake.opt I get unresolved
> link errors the interesting thing is that the errors are not just for HDF5.
> I do have SDE enabled and GRIB is enabled by default.  I don?t know that the
> first unresolved is but all of the error go away if I take HDF5 out of the
> build.
>
>
>
>    Creating library gdal_i.lib and object gdal_i.exp
>
> gdalallregister.obj : error LNK2019: unresolved external symbol
> _GDALRegister_GEOR referenced in function _GDALAllRegister@0
>
> gdalallregister.obj : error LNK2019: unresolved external symbol
> _GDALRegister_HDF5Image referenced in function _GDALAllRegister@0
>
> gdalallregister.obj : error LNK2019: unresolved external symbol
> _GDALRegister_HDF5 referenced in function _GDALAllRegister@0
>
> gdalallregister.obj : error LNK2019: unresolved external symbol
> _GDALRegister_SDE referenced in function _GDALAllRegister@0
>
> gdalallregister.obj : error LNK2019: unresolved external symbol
> _GDALRegister_GRIB referenced in function _GDALAllRegister@0
>
> gdal16.dll : fatal error LNK1120: 5 unresolved externals
>
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio
> 8\VC\BIN\link.EXE"' : return code '0x460'
>
> Stop.
>
>
>
> Has anyone seen this behavior and/or have a solution?
>
>
>
> Bruce
>
>
>
> This message and any enclosures are intended only for the addressee.  Please
> notify the sender by email if you are not the intended recipient.  If you are
> not the intended recipient, you may not use, copy, disclose, or distribute this
> message or its contents or enclosures to any other person and any such actions
> may be unlawful.  Ball reserves the right to monitor and review all messages
> and enclosures sent to or from this email address.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090519/f43bcd6d/attachment-0001.html
From stevensw at erau.edu  Tue May 19 13:49:47 2009
From: stevensw at erau.edu (Wendy Fay Stevenson)
Date: Tue May 19 13:51:50 2009
Subject: [gdal-dev] GDALClose causing segfault
Message-ID: <20090519134947.ANQ51220@mymail.erau.edu>

Hi

I'm using the GDAL api on LINUX to warp an image.  I open a GIF image, warp it and save it as a Geotiff virtual file.  Then I use CreateCopy to create a GIF file.  Everything works fine except occasionally it gives a segfault when I attempt to call GDALClose on the original dataset (opened with GDALOpen).  It happens about every 1 in six times I run it.

Has anybody else encountered this problem?
Is there a specific order in which the datasets should be closed?

regards
Wendy
From even.rouault at mines-paris.org  Tue May 19 14:00:44 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 19 14:00:55 2009
Subject: [gdal-dev] GDALClose causing segfault
In-Reply-To: <20090519134947.ANQ51220@mymail.erau.edu>
References: <20090519134947.ANQ51220@mymail.erau.edu>
Message-ID: <200905192000.45509.even.rouault@mines-paris.org>

Wendy,

You could try to run Valgrind on your program to get an idea of what goes 
wrong. If you think that it is a GDAL bug and you have a way of reproducing 
it with a small program demonstrating the problem, you could post it as a 
Trac ticket.

Otherwise there is no required order for closing the input or output datasets. 
The only important thing is not to reuse it afterwards of course.

Best regards,
Even

Le Tuesday 19 May 2009 19:49:47 Wendy Fay Stevenson, vous avez ?crit?:
> Hi
>
> I'm using the GDAL api on LINUX to warp an image.  I open a GIF image, warp
> it and save it as a Geotiff virtual file.  Then I use CreateCopy to create
> a GIF file.  Everything works fine except occasionally it gives a segfault
> when I attempt to call GDALClose on the original dataset (opened with
> GDALOpen).  It happens about every 1 in six times I run it.
>
> Has anybody else encountered this problem?
> Is there a specific order in which the datasets should be closed?
>
> regards
> Wendy
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue May 19 14:05:58 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 19 14:06:15 2009
Subject: [gdal-dev] GDALClose causing segfault
In-Reply-To: <20090519134947.ANQ51220@mymail.erau.edu>
References: <20090519134947.ANQ51220@mymail.erau.edu>
Message-ID: <4A12F506.6040201@pobox.com>

Wendy Fay Stevenson wrote:
> Hi
> 
> I'm using the GDAL api on LINUX to warp an image.  I open a GIF image, warp it and save it as a Geotiff virtual file.  Then I use CreateCopy to create a GIF file.  Everything works fine except occasionally it gives a segfault when I attempt to call GDALClose on the original dataset (opened with GDALOpen).  It happens about every 1 in six times I run it.
> 
> Has anybody else encountered this problem?
> Is there a specific order in which the datasets should be closed?

Wendy,

No reason for this is immediately obvious, but if you are working on
Linux I would strongly encourage you to try your program under valgrind.
It is very good at identifying heap corruption, memory overwrite, post-free
memory use and similar problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mateusz at loskot.net  Tue May 19 19:30:14 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue May 19 19:30:19 2009
Subject: [gdal-dev] Relax KML driver about xmlns
Message-ID: <4A134106.8080209@loskot.net>

Hi,

Would it make sense to relax a bit the KML driver here [1] so it
accepts <kml> root without xmlns attribute?

One user reported to me that he is not able to read this file [2]
using OGR KML driver and I found this is because of missing xmlns in
<kml> root element. The KML was produced by some unknown
software shipped with some GPS logger.

I'm wondering if there are more KML generators in use that
produce <kml> element without xmlns attribute.


[1]
http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/kml/kml.cpp#L268
[2] http://mateusz.loskot.net/tmp/gdal/no-xmlns.kml

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From randre at gmail.com  Tue May 19 20:49:14 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Tue May 19 20:49:17 2009
Subject: [gdal-dev] Relax KML driver about xmlns
In-Reply-To: <4A134106.8080209@loskot.net>
References: <4A134106.8080209@loskot.net>
Message-ID: <9c2015090905191749t30f553c1ke7c38b423eb09f7c@mail.gmail.com>

Are you doing any version-dependent actions, or just checking for one of
three versions?  If not, then yes, I'd say take the namespace requirement
out.

Roger
--

On Tue, May 19, 2009 at 4:30 PM, Mateusz Loskot <mateusz@loskot.net> wrote:

> Hi,
>
> Would it make sense to relax a bit the KML driver here [1] so it
> accepts <kml> root without xmlns attribute?
>
> One user reported to me that he is not able to read this file [2]
> using OGR KML driver and I found this is because of missing xmlns in
> <kml> root element. The KML was produced by some unknown
> software shipped with some GPS logger.
>
> I'm wondering if there are more KML generators in use that
> produce <kml> element without xmlns attribute.
>
>
> [1]
>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/kml/kml.cpp#L268
> [2] http://mateusz.loskot.net/tmp/gdal/no-xmlns.kml
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090519/b0151016/attachment.html
From shkwak74 at nate.com  Wed May 20 08:18:38 2009
From: shkwak74 at nate.com (Sunny K)
Date: Wed May 20 08:18:40 2009
Subject: [Gdal-dev] Format Conversion
Message-ID: <1242821918431-2945771.post@n2.nabble.com>


Hi,

I devloping the file conversion program, and have two problems.
   - Visual Studio 2008
   - C#

1) read HDF5 -> resize -> save as JPEG
   I found the methods of HDF5 reading and Save As JPEG.
   But, I don't know how can I resize it in C#.

   In C++ sample code, 
   Before call the "CreateCopy(...)", It used the VRTDataSet for resizing.
   But, in C#, I cannot find it.

2) HDF5 to GeoTiff
   I try to covert from HDF5 to Geotiff using CreateCopy() method.
   But, when I call the CreateCopy(), the following error message is
occured.
   "An unhandled excception of type 'System.StackOverflowEception' occurred
in gdal_cshap.dll"

   The size of HDF5 is about 150 MB.

-- 
View this message in context: http://n2.nabble.com/Format-Conversion-tp2945771p2945771.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From frdcn at hotmail.com  Wed May 20 11:46:55 2009
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed May 20 11:48:02 2009
Subject: [gdal-dev] error when opening wcs descriptor
Message-ID: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>


Hi:

 

I compiled gdal 1.6 from svn source with libcurl, when running gdalinfo --formats wcs, and wms support is listed.

But when running gdalinfo descriptor.xml I get the following error:

 

ERROR 6: GDAL/OGR not compiled with libcurl support, remote requests not support
ed.
gdalinfo failed - unable to open 'nwgis.xml'.

 

 

why is wcs format is listed as supported but giving an error of not being compiled with libcurl?

 

 

Regards

Godofredo Contreras

_________________________________________________________________
Hotmail? goes with you. 
http://windowslive.com/Tutorial/Hotmail/Mobile?ocid=TXT_TAGLM_WL_HM_Tutorial_Mobile1_052009
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090520/46fc87f2/attachment.html
From condit at sdsc.edu  Wed May 20 13:34:26 2009
From: condit at sdsc.edu (Christopher Condit)
Date: Wed May 20 13:39:59 2009
Subject: [gdal-dev] Relax KML driver about xmlns
In-Reply-To: <4A134106.8080209@loskot.net>
References: <4A134106.8080209@loskot.net>
Message-ID: <845AADAC1106E44996327D62097E4C6B012BC0B0@et.ad.sdsc.edu>

Hi Mateusz-
> Would it make sense to relax a bit the KML driver here [1] so it
> accepts <kml> root without xmlns attribute?

The problem is that the KML schema had many iterations before becoming
an OGC standard and in some cases those schema changes are not backward
compatible. The namespace exists to alert the client as to which version
of the schema to expect. However - I'm not sure what portion of the
schema that OGR uses actually changed.

> One user reported to me that he is not able to read this file [2]
> using OGR KML driver and I found this is because of missing xmlns in
> <kml> root element. The KML was produced by some unknown
> software shipped with some GPS logger.
> 
> I'm wondering if there are more KML generators in use that
> produce <kml> element without xmlns attribute.

I see your point here. I think the onus is the software generating the
KML as it is part of the specification. How about this: if the document
element _is_ kml and the version _is not_ found or not recognized OGR
issues a warning and proceeds as if the KML were 2.2?

-Chris

Christopher Condit
condit@sdsc.edu
(858) 822-5483



From even.rouault at mines-paris.org  Wed May 20 13:43:55 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 20 13:44:06 2009
Subject: [gdal-dev] error when opening wcs descriptor
In-Reply-To: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
References: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
Message-ID: <200905201943.56414.even.rouault@mines-paris.org>

Godofredo,

This is very surprising. wms and wcs drivers are only compiled if libcurl is 
available.

Assuming your platform is Linux :
My guess is that you have configured a first time without libcurl support, 
compiled, observed that libcurl support was missing, reconfigured with 
libcurl support and compiled again... without cleaning. But the second 
compilation did not recompile the necessary file(s), in that instance 
port/cpl_http.cpp. If you just 'touch' it and compile, this should work. But 
as a rule of thumb, the safest way is to make clean after running again 
configure.

Best regards,

Even

Le Wednesday 20 May 2009 17:46:55 godofredo contreras, vous avez ?crit?:
> Hi:
>
>
>
> I compiled gdal 1.6 from svn source with libcurl, when running gdalinfo
> --formats wcs, and wms support is listed.
>
> But when running gdalinfo descriptor.xml I get the following error:
>
>
>
> ERROR 6: GDAL/OGR not compiled with libcurl support, remote requests not
> support ed.
> gdalinfo failed - unable to open 'nwgis.xml'.
>
>
>
>
>
> why is wcs format is listed as supported but giving an error of not being
> compiled with libcurl?
>
>
>
>
>
> Regards
>
> Godofredo Contreras
>
> _________________________________________________________________
> Hotmail? goes with you.
> http://windowslive.com/Tutorial/Hotmail/Mobile?ocid=TXT_TAGLM_WL_HM_Tutoria
>l_Mobile1_052009


From even.rouault at mines-paris.org  Wed May 20 13:49:04 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 20 13:49:15 2009
Subject: [gdal-dev] Relax KML driver about xmlns
In-Reply-To: <845AADAC1106E44996327D62097E4C6B012BC0B0@et.ad.sdsc.edu>
References: <4A134106.8080209@loskot.net>
	<845AADAC1106E44996327D62097E4C6B012BC0B0@et.ad.sdsc.edu>
Message-ID: <200905201949.04808.even.rouault@mines-paris.org>

I've verified that the KML driver only looks for a known version (2.0, 2.1, 
2.2), but doesn't make any other use of it, so we could reasonably implement 
Christopher's proposal : "if the document element _is_ kml and the version 
_is not_ found or not recognized OGR issues a warning and proceeds as if the 
KML were 2.2"

Le Wednesday 20 May 2009 19:34:26 Christopher Condit, vous avez ?crit?:
> Hi Mateusz-
>
> > Would it make sense to relax a bit the KML driver here [1] so it
> > accepts <kml> root without xmlns attribute?
>
> The problem is that the KML schema had many iterations before becoming
> an OGC standard and in some cases those schema changes are not backward
> compatible. The namespace exists to alert the client as to which version
> of the schema to expect. However - I'm not sure what portion of the
> schema that OGR uses actually changed.
>
> > One user reported to me that he is not able to read this file [2]
> > using OGR KML driver and I found this is because of missing xmlns in
> > <kml> root element. The KML was produced by some unknown
> > software shipped with some GPS logger.
> >
> > I'm wondering if there are more KML generators in use that
> > produce <kml> element without xmlns attribute.
>
> I see your point here. I think the onus is the software generating the
> KML as it is part of the specification. How about this: if the document
> element _is_ kml and the version _is not_ found or not recognized OGR
> issues a warning and proceeds as if the KML were 2.2?
>
> -Chris
>
> Christopher Condit
> condit@sdsc.edu
> (858) 822-5483
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From frdcn at hotmail.com  Wed May 20 15:33:31 2009
From: frdcn at hotmail.com (godofredo contreras)
Date: Wed May 20 15:33:33 2009
Subject: [gdal-dev] error when opening wcs descriptor
In-Reply-To: <200905201943.56414.even.rouault@mines-paris.org>
References: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
	<200905201943.56414.even.rouault@mines-paris.org>
Message-ID: <COL103-W491F5D618AD04969BEE31B2580@phx.gbl>


Thank you for your answer Even:

 

I'm using windows xp, and building with visual studio 2005, you're right the problem was caused for compilation without a previous clean. I did an

 

 nmake /f makefile.vc clean

 

 and after that an

 

 nmake /f makefile.vc

 

now it is working correctly.

 

Regards

Godofredo Contreras
 
> From: even.rouault@mines-paris.org
> To: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] error when opening wcs descriptor
> Date: Wed, 20 May 2009 19:43:55 +0200
> CC: frdcn@hotmail.com
> 
> Godofredo,
> 
> This is very surprising. wms and wcs drivers are only compiled if libcurl is 
> available.
> 
> Assuming your platform is Linux :
> My guess is that you have configured a first time without libcurl support, 
> compiled, observed that libcurl support was missing, reconfigured with 
> libcurl support and compiled again... without cleaning. But the second 
> compilation did not recompile the necessary file(s), in that instance 
> port/cpl_http.cpp. If you just 'touch' it and compile, this should work. But 
> as a rule of thumb, the safest way is to make clean after running again 
> configure.
> 
> Best regards,
> 
> Even
> 
> Le Wednesday 20 May 2009 17:46:55 godofredo contreras, vous avez ?crit :
> > Hi:
> >
> >
> >
> > I compiled gdal 1.6 from svn source with libcurl, when running gdalinfo
> > --formats wcs, and wms support is listed.
> >
> > But when running gdalinfo descriptor.xml I get the following error:
> >
> >
> >
> > ERROR 6: GDAL/OGR not compiled with libcurl support, remote requests not
> > support ed.
> > gdalinfo failed - unable to open 'nwgis.xml'.
> >
> >
> >
> >
> >
> > why is wcs format is listed as supported but giving an error of not being
> > compiled with libcurl?
> >
> >
> >
> >
> >
> > Regards
> >
> > Godofredo Contreras
> >
> > _________________________________________________________________
> > Hotmail? goes with you.
> > http://windowslive.com/Tutorial/Hotmail/Mobile?ocid=TXT_TAGLM_WL_HM_Tutoria
> >l_Mobile1_052009
> 
> 

_________________________________________________________________
Hotmail? goes with you. 
http://windowslive.com/Tutorial/Hotmail/Mobile?ocid=TXT_TAGLM_WL_HM_Tutorial_Mobile1_052009
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090520/fdf3d162/attachment.html
From bryan at ideotrope.org  Wed May 20 16:10:31 2009
From: bryan at ideotrope.org (Bryan Keith)
Date: Wed May 20 16:31:34 2009
Subject: [gdal-dev] Local coordinate system and proj4
In-Reply-To: <COL103-W491F5D618AD04969BEE31B2580@phx.gbl>
References: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
	<200905201943.56414.even.rouault@mines-paris.org>
	<COL103-W491F5D618AD04969BEE31B2580@phx.gbl>
Message-ID: <3671.64.15.96.66.1242850231.squirrel@ideotrope.org>

Hello,

I've been sent an ESRI coordinate system file (.prj) that looks like this:

PROJCS["Unknown",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Local"],PARAMETER["False_Easting",68396.30349583333],PARAMETER["False_Northing",207061.59375],PARAMETER["Scale_Factor",1.0],PARAMETER["Azimuth",0.0],PARAMETER["Longitude_Of_Center",-117.0],PARAMETER["Latitude_Of_Center",41.29],UNIT["Foot_US",0.3048006096012192]]

When I try to use this definition in proj4 using ogr tools, I get this error:

ERROR 6: No translation for Local to PROJ.4 format is known.

Is there a way to use this projection information with proj4?  ESRI ArcMap
seems to be to translate from these coordinates to lat-long WGS84.

Bryan

From bryan at ideotrope.org  Wed May 20 17:08:45 2009
From: bryan at ideotrope.org (Bryan Keith)
Date: Wed May 20 17:08:47 2009
Subject: [gdal-dev] Local coordinate system and proj4
In-Reply-To: <000601c9d98a$902fb650$b08f22f0$@com>
References: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
	<200905201943.56414.even.rouault@mines-paris.org>
	<COL103-W491F5D618AD04969BEE31B2580@phx.gbl>
	<3671.64.15.96.66.1242850231.squirrel@ideotrope.org>
	<000601c9d98a$902fb650$b08f22f0$@com>
Message-ID: <3816.64.15.96.66.1242853725.squirrel@ideotrope.org>

Martin,

That did it.  It is in Nevada.  I don't know if it's a stateplane
coordinate system with an unusual false easting and northing or something
else.

I replaced "Local" with "Transverse_Mercator".  The reprojection worked. 
I compared the results with what ArcMap calculates, and the greatest
difference is < 1 cm.  That's good enough for what I'm doing.  Thank you
for the help.

Bryan

> Looks to me like it is a state plane projection for somewhere in Nevada.
> Maybe try using Transverse Mercator as the PROJCS.  I'm not a GIS pro
> though
> so take my advice with a grain of salt.
>
> Martin
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Bryan Keith
> Sent: Wednesday, May 20, 2009 2:11 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Local coordinate system and proj4
>
> Hello,
>
> I've been sent an ESRI coordinate system file (.prj) that looks like this:
>
> PROJCS["Unknown",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984
> ",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329
> 25199433]],PROJECTION["Local"],PARAMETER["False_Easting",68396.30349583333],
> PARAMETER["False_Northing",207061.59375],PARAMETER["Scale_Factor",1.0],PARAM
> ETER["Azimuth",0.0],PARAMETER["Longitude_Of_Center",-117.0],PARAMETER["Latit
> ude_Of_Center",41.29],UNIT["Foot_US",0.3048006096012192]]
>
> When I try to use this definition in proj4 using ogr tools, I get this
> error:
>
> ERROR 6: No translation for Local to PROJ.4 format is known.
>
> Is there a way to use this projection information with proj4?  ESRI ArcMap
> seems to be to translate from these coordinates to lat-long WGS84.
>
> Bryan
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>


From chapmanm at pixia.com  Wed May 20 17:14:00 2009
From: chapmanm at pixia.com (Martin Chapman)
Date: Wed May 20 17:21:49 2009
Subject: [gdal-dev] Local coordinate system and proj4
In-Reply-To: <3816.64.15.96.66.1242853725.squirrel@ideotrope.org>
References: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
	<200905201943.56414.even.rouault@mines-paris.org>
	<COL103-W491F5D618AD04969BEE31B2580@phx.gbl>
	<3671.64.15.96.66.1242850231.squirrel@ideotrope.org>
	<000601c9d98a$902fb650$b08f22f0$@com>
	<3816.64.15.96.66.1242853725.squirrel@ideotrope.org>
Message-ID: <000701c9d98f$e5709080$b051b180$@com>

Bryan,

Glad to hear it.  Attached is a zip file of the different Nevada state plane
definitions.  Maybe they will help as well.

Martin

-----Original Message-----
From: Bryan Keith [mailto:bryan@ideotrope.org] 
Sent: Wednesday, May 20, 2009 3:09 PM
To: Martin Chapman
Cc: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Local coordinate system and proj4

Martin,

That did it.  It is in Nevada.  I don't know if it's a stateplane
coordinate system with an unusual false easting and northing or something
else.

I replaced "Local" with "Transverse_Mercator".  The reprojection worked. 
I compared the results with what ArcMap calculates, and the greatest
difference is < 1 cm.  That's good enough for what I'm doing.  Thank you
for the help.

Bryan

> Looks to me like it is a state plane projection for somewhere in Nevada.
> Maybe try using Transverse Mercator as the PROJCS.  I'm not a GIS pro
> though
> so take my advice with a grain of salt.
>
> Martin
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Bryan Keith
> Sent: Wednesday, May 20, 2009 2:11 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Local coordinate system and proj4
>
> Hello,
>
> I've been sent an ESRI coordinate system file (.prj) that looks like this:
>
>
PROJCS["Unknown",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984
>
",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329
>
25199433]],PROJECTION["Local"],PARAMETER["False_Easting",68396.30349583333],
>
PARAMETER["False_Northing",207061.59375],PARAMETER["Scale_Factor",1.0],PARAM
>
ETER["Azimuth",0.0],PARAMETER["Longitude_Of_Center",-117.0],PARAMETER["Latit
> ude_Of_Center",41.29],UNIT["Foot_US",0.3048006096012192]]
>
> When I try to use this definition in proj4 using ogr tools, I get this
> error:
>
> ERROR 6: No translation for Local to PROJ.4 format is known.
>
> Is there a way to use this projection information with proj4?  ESRI ArcMap
> seems to be to translate from these coordinates to lat-long WGS84.
>
> Bryan
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Nevada_StatePlane_Projections.zip
Type: application/x-zip-compressed
Size: 6215 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090520/1f595e93/Nevada_StatePlane_Projections-0001.bin
From mateusz at loskot.net  Wed May 20 19:31:39 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed May 20 19:31:44 2009
Subject: [gdal-dev] Relax KML driver about xmlns
In-Reply-To: <845AADAC1106E44996327D62097E4C6B012BC0B0@et.ad.sdsc.edu>
References: <4A134106.8080209@loskot.net>
	<845AADAC1106E44996327D62097E4C6B012BC0B0@et.ad.sdsc.edu>
Message-ID: <4A1492DB.7050403@loskot.net>

Christopher Condit wrote:
> Hi Mateusz-
>> Would it make sense to relax a bit the KML driver here [1] so it
>> accepts <kml> root without xmlns attribute?
> 
> The problem is that the KML schema had many iterations before becoming
> an OGC standard and in some cases those schema changes are not backward
> compatible. The namespace exists to alert the client as to which version
> of the schema to expect. However - I'm not sure what portion of the
> schema that OGR uses actually changed.

Christopher,

AFAICT, the schema version is not used anywhere in the driver, for
instance, to control conditional processing, etc.
So,for now, there seems to be little point to require presence of
xmlns attribute.

>> One user reported to me that he is not able to read this file [2]
>> using OGR KML driver and I found this is because of missing xmlns in
>> <kml> root element. The KML was produced by some unknown
>> software shipped with some GPS logger.
>>
>> I'm wondering if there are more KML generators in use that
>> produce <kml> element without xmlns attribute.
> 
> I see your point here. I think the onus is the software generating the
> KML as it is part of the specification. How about this: if the document
> element _is_ kml and the version _is not_ found or not recognized OGR
> issues a warning and proceeds as if the KML were 2.2?

Yes, for me, this is a good idea.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From yehya_imam at yahoo.com  Thu May 21 06:52:38 2009
From: yehya_imam at yahoo.com (yehya imam)
Date: Thu May 21 06:52:40 2009
Subject: [gdal-dev] reading NOAA coastwatch hdf using GDAL
Message-ID: <188094.65803.qm@web37301.mail.mud.yahoo.com>

Dear GDALers,

I'm trying to read CoastWatch HDF files in GRASS GIS. These files can be downloaded from NOAA CLASS at http://www.class.ncdc.noaa.gov/saa/products/welcome.
I could not read the files directly into GRASS and have thought to extract just the SST channel (dataset) from the hdf into a gtif that is readable by GRASS.

Have someone on this list used the GDAL utilities to manipulate CW-hdf files (warp and export one band into tif with full projection info)? The affine transformation coeffs, included in the metadata, seems to be unreachable by GDAL utils.

Regards,
Yehya


      __________________________________________________________________
Get the name you've always wanted @ymail.com or @rocketmail.com! Go to http://ca.promos.yahoo.com/jacko/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090521/cc615d15/attachment.html
From warmerdam at pobox.com  Thu May 21 08:45:01 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 21 08:45:00 2009
Subject: [gdal-dev] Local coordinate system and proj4
In-Reply-To: <3671.64.15.96.66.1242850231.squirrel@ideotrope.org>
References: <COL103-W5841E8A12A16587D5AE82BB2580@phx.gbl>
	<200905201943.56414.even.rouault@mines-paris.org>
	<COL103-W491F5D618AD04969BEE31B2580@phx.gbl>
	<3671.64.15.96.66.1242850231.squirrel@ideotrope.org>
Message-ID: <4A154CCD.9010907@pobox.com>

Bryan Keith wrote:
> Hello,
> 
> I've been sent an ESRI coordinate system file (.prj) that looks like this:
> 
> PROJCS["Unknown",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Local"],PARAMETER["False_Easting",68396.30349583333],PARAMETER["False_Northing",207061.59375],PARAMETER["Scale_Factor",1.0],PARAMETER["Azimuth",0.0],PARAMETER["Longitude_Of_Center",-117.0],PARAMETER["Latitude_Of_Center",41.29],UNIT["Foot_US",0.3048006096012192]]
> 
> When I try to use this definition in proj4 using ogr tools, I get this error:
> 
> ERROR 6: No translation for Local to PROJ.4 format is known.
> 
> Is there a way to use this projection information with proj4?  ESRI ArcMap
> seems to be to translate from these coordinates to lat-long WGS84.

Bryan,

I have no idea what PROJECTION["Local"] represents.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From armin.burger at gmx.net  Fri May 22 05:13:46 2009
From: armin.burger at gmx.net (Armin Burger)
Date: Fri May 22 05:13:51 2009
Subject: [gdal-dev] Status of Spatialite support
Message-ID: <4A166CCA.5090102@gmx.net>

Hi everybody

I would like to test the spatialite format that should be supported by 
gdal starting with v1.7. Is it already working in current dev version (I 
would mainly need the read functionality with spatial index support in 
interaction with Mapserver)?

Would I need to take the full export of current trunk or could I just 
use gdal 1.6 and add the sqlite directory from trunk?

Thanks for any help

Armin
From alobolistas at gmail.com  Fri May 22 05:54:01 2009
From: alobolistas at gmail.com (Agustin Lobo)
Date: Fri May 22 05:54:29 2009
Subject: [gdal-dev] ECW support (Re: [Qgis-user] Raster data formats)
In-Reply-To: <1242984600.6850.0.camel@sibirica>
References: <1242413759.5147.21.camel@bering>	
	<4A0DBD4B.30904@wildintellect.com>
	<4A0E6D6A.5070009@linfiniti.com>	 <4A0E9799.9010706@gmail.com>
	<1242828614.15669.100.camel@sibirica>	
	<4A166DA9.4060103@gmail.com> <1242984600.6850.0.camel@sibirica>
Message-ID: <4A167639.6060304@gmail.com>

Apparently, there is no problem for including ECW support
in gdal binaries ?
http://n2.nabble.com/Tickets-2385-and-2683-(ECW-and-MrSID-plugins)-tt2767156.html#none

Giovanni Manghi wrote:
> http://lists.osgeo.org/pipermail/qgis-developer/2009-May/006931.html
>   

> *Paolo Cavallini* cavallini at faunalia.it 
> <mailto:qgis-developer%40lists.osgeo.org?Subject=%5BQgis-developer%5D%20%5BFwd%3A%20RE%3A%20%5BFwd%3A%20ECW%20licence%5D%5D&In-Reply-To=>
> /Wed May 20 01:59:55 EDT 2009/
>
>     * Previous message: [Qgis-developer] Refreshing some part of map
>       <http://lists.osgeo.org/pipermail/qgis-developer/2009-May/006930.html>
>     * Next message: [Qgis-developer] [Fwd: RE: [Fwd: ECW licence]]
>       <http://lists.osgeo.org/pipermail/qgis-developer/2009-May/006933.html>
>     * *Messages sorted by:* [ date ]
>       <http://lists.osgeo.org/pipermail/qgis-developer/2009-May/date.html#6931>
>       [ thread ]
>       <http://lists.osgeo.org/pipermail/qgis-developer/2009-May/thread.html#6931>
>       [ subject ]
>       <http://lists.osgeo.org/pipermail/qgis-developer/2009-May/subject.html#6931>
>       [ author ]
>       <http://lists.osgeo.org/pipermail/qgis-developer/2009-May/author.html#6931>
>
>
> ------------------------------------------------------------------------
> Hi all.
> I receive this reply from ERDAS. I hope this will solve the issue. If
> not, please let me know, so we'll try to clarify the remaining issues.
> All the best.
>
> -------- Messaggio Originale  --------
> Oggetto: RE: [Fwd: ECW licence]
> Data: Tue, 19 May 2009 14:27:42 -0400
>
> Hi,
>
> Yes.  This is perfectly fine, so long as you comply with the license
> conditions:
>
> - Desktop only application
> - Support ECWP
> - Limit compression to 500mb (uncompressed input size)
>
>
> Please let me know how you get on?  I keep a list of all ECW-supported
> applications :)
>
> Thanks,
>
>
> Richard
>
> -----Original Message-----
> From: Paolo Cavallini [mailto:cavallini at faunalia.it <http://lists.osgeo.org/mailman/listinfo/qgis-developer>]
> Sent: Tuesday, May 19, 2009 1:42 PM
>
> Richard Orchard ha scritto:
> >/ You are able to add read support for ECW files, and compression
> />/ limited to 500mb uncompressed input into your desktop application, at
> />/ no charge.
> />/ 
> />/ However, to comply with the license you must also support the
> />/ streaming ECWP  protocol.  This is explained in, and part of, the
> />/ same software development kit.
> />/ 
> />/ If you would like to compress larger amounts of data, or install the
> />/ SDK on server-side systems, you would need to obtain a commercial
> />/ license,
> /
> Dear Richard,
> thanks for your reply. We are aware of the technical limitations of ECW
> SDK, but we are still uncertain about the legal side of the problem. Can
> we compile QGIS with ECW support, using Erdas SDK, and redistribute
> freely the resulting package?
> This will, in our view, increase both the attractiveness of QGIS to
> professional GIS users and the popularity of ECW as a format.
> Thanking you in advance.
> All the best.
> -- 
> Paolo Cavallini: http://www.faunalia.it/pc
>
> -- 
> Paolo Cavallini: http://www.faunalia.it/pc
>   

From even.rouault at mines-paris.org  Fri May 22 06:13:28 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 22 06:13:45 2009
Subject: [gdal-dev] Status of Spatialite support
In-Reply-To: <4A166CCA.5090102@gmx.net>
References: <4A166CCA.5090102@gmx.net>
Message-ID: <200905221213.31587.even.rouault@mines-paris.org>

Armin,

There is already some spatialite support in GDAL 1.6 that enables to read 
simple SpatiaLite geometries (point, linestring, polygon) without needing to 
link against libspatialite.

In GDAL 1.7dev, write support has also been added, as well as creating 
SpatiaLite compatible databases.
Yesterday, I've finally added the (optionnal) capability to link against 
libspatialite instead of libsqlite3, to benefit from the spatial enabled SQL 
functions that it provides (spatial queries + spatial indexing). So 
spatialite support should be mostly complete by now.

You should be able to take the ogr/ogrsf_frmts/sqlite directory from trunk in 
GDAL 1.6, but if you want to benefit from linking against libspatialite, 
you'll also have to patch configure and GDALmakeopt.in. See 
http://trac.osgeo.org/gdal/changeset/17083

For the sake of simplicity, if you don't have to deal with sticking to GDAL 
1.6 ABI, I'd advise you to grab a snapshot from GDAL 1.7dev.

Best regards,

Even

Le Friday 22 May 2009 11:13:46, vous avez ?crit?:
> Hi everybody
>
> I would like to test the spatialite format that should be supported by
> gdal starting with v1.7. Is it already working in current dev version (I
> would mainly need the read functionality with spatial index support in
> interaction with Mapserver)?
>
> Would I need to take the full export of current trunk or could I just
> use gdal 1.6 and add the sqlite directory from trunk?
>
> Thanks for any help
>
> Armin
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From frankie at debian.org  Fri May 22 07:07:09 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Fri May 22 07:07:13 2009
Subject: [gdal-dev] Re: ECW support (Re: [Qgis-user] Raster data formats)
In-Reply-To: <20090522105949.GA17833@mithrandir>
References: <1242413759.5147.21.camel@bering>
	<4A0DBD4B.30904@wildintellect.com>
	<4A0E6D6A.5070009@linfiniti.com> <4A0E9799.9010706@gmail.com>
	<1242828614.15669.100.camel@sibirica>
	<4A166DA9.4060103@gmail.com> <1242984600.6850.0.camel@sibirica>
	<4A167639.6060304@gmail.com> <20090522105949.GA17833@mithrandir>
Message-ID: <20090522110709.GC17833@mithrandir>

On Fri, May 22, 2009 at 12:59:49PM +0200, Francesco P. Lovergine wrote:
> On Fri, May 22, 2009 at 11:54:01AM +0200, Agustin Lobo wrote:
> > Apparently, there is no problem for including ECW support
> > in gdal binaries ?
> > http://n2.nabble.com/Tickets-2385-and-2683-(ECW-and-MrSID-plugins)-tt2767156.html#none
> >
> 
> It does not change nothing. 
> 

s/not// :)

-- 
Francesco P. Lovergine
From frankie at debian.org  Fri May 22 06:59:49 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Fri May 22 07:12:01 2009
Subject: [gdal-dev] Re: ECW support (Re: [Qgis-user] Raster data formats)
In-Reply-To: <4A167639.6060304@gmail.com>
References: <1242413759.5147.21.camel@bering>
	<4A0DBD4B.30904@wildintellect.com>
	<4A0E6D6A.5070009@linfiniti.com> <4A0E9799.9010706@gmail.com>
	<1242828614.15669.100.camel@sibirica>
	<4A166DA9.4060103@gmail.com> <1242984600.6850.0.camel@sibirica>
	<4A167639.6060304@gmail.com>
Message-ID: <20090522105949.GA17833@mithrandir>

On Fri, May 22, 2009 at 11:54:01AM +0200, Agustin Lobo wrote:
> Apparently, there is no problem for including ECW support
> in gdal binaries ?
> http://n2.nabble.com/Tickets-2385-and-2683-(ECW-and-MrSID-plugins)-tt2767156.html#none
>

It does not change nothing. GDAL is free, GDAL+ECW is not-free, stop. Still required
having two different building units. In a few, binary modules for that will be
available for the most used platform on debian.gfoss.it for lenny/squeeze/sid.


-- 
Francesco P. Lovergine
From sz at giscad.de  Fri May 22 13:26:10 2009
From: sz at giscad.de (Stefan Zaunseder)
Date: Fri May 22 13:56:50 2009
Subject: [gdal-dev] SQL Server (V 2008)  Driver?
Message-ID: <4A16E032.90501@giscad.de>

Hello list,

is there any ongoing work or are there any plans for a SQL Server 
(Version 2008, which supports geographic/geometric data) driver in OGR? 
Or is it possible to use the ODBC driver for SQL Server in a 	reasonable 
manner?

If not, is anybody except us interested in such a driver?

Regards,

Stefan Zaunseder

-- 

GISCAD-Institut - Prof. Dr. Gerd Peyke, Dipl.-Inform. Stefan Zaunseder
B?ro LA - Moosburger Stra?e 8 - 84169 Altfraunhofen
Fon: 08705/1377 - Fax: 08705/1367
http://www.giscad.de/
From matt.wilkie at gov.yk.ca  Fri May 22 15:42:33 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri May 22 15:42:40 2009
Subject: [gdal-dev] offtopic: spatialreference.org broken entry for Mexixo
	CCL
Message-ID: <4A170029.4080004@gov.yk.ca>

Hello,

This entry on spatialreference.org do not seem to have a proj4 entry:
http://spatialreference.org/ref/sr-org/4682/

my best attempt to reconstruct what it should be from the WKT reports 
which do work is:

   +proj=lcc  +datum=wgs84 +x_0=2500000 +y_0=0
   +lon_0=-102 +lat_0=12 +lat_1=17.5 +lat_2=29.5
   +units=m

is this correct?

thanks,

-- 
matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
-------------------------------------------- 

From szekerest at gmail.com  Fri May 22 18:19:19 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri May 22 18:19:22 2009
Subject: [gdal-dev] SQL Server (V 2008) Driver?
In-Reply-To: <4A16E032.90501@giscad.de>
References: <4A16E032.90501@giscad.de>
Message-ID: <f3b73b7d0905221519m2e78e3a3hbf6c8275b6f857b5@mail.gmail.com>

Hi Stefan

I've been asked to implement SQL Server 2008 support in OGR, and add data
source creation support with the ODBC driver, but the company finally
couldn't sponsor this project so this effort have been stopped.

The current ODBC implementation can connect to the SQL Server databases but
the geometry field can only be a valid WKB binary field or a WKT text field.
Your could also use the OGR VRT driver attached to the ODBC driver to
extract point geometries from X,Y coordinates in a non-spatial database
table.


Best regards,

Tamas





2009/5/22 Stefan Zaunseder <sz@giscad.de>

> Hello list,
>
> is there any ongoing work or are there any plans for a SQL Server (Version
> 2008, which supports geographic/geometric data) driver in OGR? Or is it
> possible to use the ODBC driver for SQL Server in a    reasonable manner?
>
> If not, is anybody except us interested in such a driver?
>
> Regards,
>
> Stefan Zaunseder
>
> --
>
> GISCAD-Institut - Prof. Dr. Gerd Peyke, Dipl.-Inform. Stefan Zaunseder
> B?ro LA - Moosburger Stra?e 8 - 84169 Altfraunhofen
> Fon: 08705/1377 - Fax: 08705/1367
> http://www.giscad.de/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090523/64f8266e/attachment.html
From armin.burger at gmx.net  Sat May 23 05:03:19 2009
From: armin.burger at gmx.net (Armin Burger)
Date: Sat May 23 05:03:25 2009
Subject: [gdal-dev] Status of Spatialite support
In-Reply-To: <200905221213.31587.even.rouault@mines-paris.org>
References: <4A166CCA.5090102@gmx.net>
	<200905221213.31587.even.rouault@mines-paris.org>
Message-ID: <4A17BBD7.1030307@gmx.net>

Even

thanks for the reply. I downloaded the 1.7 dev version and used the flag

--with-spatialite=/usr/local/include/spatialite

But the configure output was

checking for SpatiaLite... checking for spatialite_init in 
-lspatialite... yes
disabled

and then from the summary at the end:

  SpatiaLite support:        no

The installation of the spatialite libraries did no add a 
'spatialite_init' file. All files installed were under 
/usr/local/include/ and /usr/local/lib.

Is there anything to change for running configure?

Best regards

Armin

On 22/05/2009 12:13, Even Rouault wrote:
> Armin,
> 
> There is already some spatialite support in GDAL 1.6 that enables to read 
> simple SpatiaLite geometries (point, linestring, polygon) without needing to 
> link against libspatialite.
> 
> In GDAL 1.7dev, write support has also been added, as well as creating 
> SpatiaLite compatible databases.
> Yesterday, I've finally added the (optionnal) capability to link against 
> libspatialite instead of libsqlite3, to benefit from the spatial enabled SQL 
> functions that it provides (spatial queries + spatial indexing). So 
> spatialite support should be mostly complete by now.
> 
> You should be able to take the ogr/ogrsf_frmts/sqlite directory from trunk in 
> GDAL 1.6, but if you want to benefit from linking against libspatialite, 
> you'll also have to patch configure and GDALmakeopt.in. See 
> http://trac.osgeo.org/gdal/changeset/17083
> 
> For the sake of simplicity, if you don't have to deal with sticking to GDAL 
> 1.6 ABI, I'd advise you to grab a snapshot from GDAL 1.7dev.
> 
> Best regards,
> 
> Even
> 
> Le Friday 22 May 2009 11:13:46, vous avez ?crit :
>> Hi everybody
>>
>> I would like to test the spatialite format that should be supported by
>> gdal starting with v1.7. Is it already working in current dev version (I
>> would mainly need the read functionality with spatial index support in
>> interaction with Mapserver)?
>>
>> Would I need to take the full export of current trunk or could I just
>> use gdal 1.6 and add the sqlite directory from trunk?
>>
>> Thanks for any help
>>
>> Armin
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From even.rouault at mines-paris.org  Sat May 23 05:32:39 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 23 05:32:50 2009
Subject: [gdal-dev] Status of Spatialite support
In-Reply-To: <4A17BBD7.1030307@gmx.net>
References: <4A166CCA.5090102@gmx.net>
	<200905221213.31587.even.rouault@mines-paris.org>
	<4A17BBD7.1030307@gmx.net>
Message-ID: <200905231132.40347.even.rouault@mines-paris.org>

Armin,

The path behind the --with-spatialite flag must be the "prefix" of 
installation of spatialite, not the path to the include files. In your case, 
I'd try --with-spatialite=/usr/local.

It will search a libspatialite.so in /usr/local/lib, and the following include 
files : /usr/local/include/spatialite.h 
and  /usr/local/include/spatialite/sqlite3.h

Note that I've done my tests with the libspatialite-linux-x86-2.3.0.tar.gz 
archive.

FYI, the 'spatialite_init' is a function that is looked in the 
libspatialite.so. It is not a separate file.

Best regards,

Even

Le Saturday 23 May 2009 11:03:19 Armin Burger, vous avez ?crit?:
> Even
>
> thanks for the reply. I downloaded the 1.7 dev version and used the flag
>
> --with-spatialite=/usr/local/include/spatialite
>
> But the configure output was
>
> checking for SpatiaLite... checking for spatialite_init in
> -lspatialite... yes
> disabled
>
> and then from the summary at the end:
>
>   SpatiaLite support:        no
>
> The installation of the spatialite libraries did no add a
> 'spatialite_init' file. All files installed were under
> /usr/local/include/ and /usr/local/lib.
>
> Is there anything to change for running configure?
>
> Best regards
>
> Armin
>
> On 22/05/2009 12:13, Even Rouault wrote:
> > Armin,
> >
> > There is already some spatialite support in GDAL 1.6 that enables to read
> > simple SpatiaLite geometries (point, linestring, polygon) without needing
> > to link against libspatialite.
> >
> > In GDAL 1.7dev, write support has also been added, as well as creating
> > SpatiaLite compatible databases.
> > Yesterday, I've finally added the (optionnal) capability to link against
> > libspatialite instead of libsqlite3, to benefit from the spatial enabled
> > SQL functions that it provides (spatial queries + spatial indexing). So
> > spatialite support should be mostly complete by now.
> >
> > You should be able to take the ogr/ogrsf_frmts/sqlite directory from
> > trunk in GDAL 1.6, but if you want to benefit from linking against
> > libspatialite, you'll also have to patch configure and GDALmakeopt.in.
> > See
> > http://trac.osgeo.org/gdal/changeset/17083
> >
> > For the sake of simplicity, if you don't have to deal with sticking to
> > GDAL 1.6 ABI, I'd advise you to grab a snapshot from GDAL 1.7dev.
> >
> > Best regards,
> >
> > Even
> >
> > Le Friday 22 May 2009 11:13:46, vous avez ?crit :
> >> Hi everybody
> >>
> >> I would like to test the spatialite format that should be supported by
> >> gdal starting with v1.7. Is it already working in current dev version (I
> >> would mainly need the read functionality with spatial index support in
> >> interaction with Mapserver)?
> >>
> >> Would I need to take the full export of current trunk or could I just
> >> use gdal 1.6 and add the sqlite directory from trunk?
> >>
> >> Thanks for any help
> >>
> >> Armin
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From frankie at debian.org  Sat May 23 06:17:43 2009
From: frankie at debian.org (Francesco Paolo Lovergine)
Date: Sat May 23 06:19:51 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <f3b73b7d0905121443k6953e641kc0d05b523318bc90@mail.gmail.com>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
	<f3b73b7d0905121249g4a37511ck705f2e96f70639d2@mail.gmail.com>
	<4A09DBEB.7040007@pobox.com>
	<f3b73b7d0905121443k6953e641kc0d05b523318bc90@mail.gmail.com>
Message-ID: <20090523101743.GA18640@frankie.is-a-geek.org>

On Tue, May 12, 2009 at 11:43:25PM +0200, Tamas Szekeres wrote:
> 2009/5/12 Frank Warmerdam <warmerdam@pobox.com>
> 
> >
> > I've also got to the point where FWTools CSharp bindings are no longer
> > being built properly and I don't know why or how to fix it.
> >
> 
> Frank,
> 
> Do you have more specific information about the issue above? I'm not aware
> of any problems when building the recent versions.
> 
> 

If the swig stuff was by default auto-regenerated at building time we could have
some problems from time to time in Debian/Ubuntu, due to recurrent
problems in moving from one distributed swig version to another. We found 
problems in 1.3.38 and possibly all previously used versions after lenny release, for
instance (on the python side). At the same time, sometimes regenerating is required, but
that's generally something which is better left to builders and
packagers IMHO.

-- 
Francesco P. Lovergine
From frankie at debian.org  Sat May 23 06:19:16 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Sat May 23 06:21:20 2009
Subject: [gdal-dev] HDF5 link problem
In-Reply-To: <f3b73b7d0905190957h2c503754h7d55385f9fa16808@mail.gmail.com>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>
	<f3b73b7d0905190957h2c503754h7d55385f9fa16808@mail.gmail.com>
Message-ID: <20090523101915.GB18640@frankie.is-a-geek.org>

On Tue, May 19, 2009 at 06:57:21PM +0200, Tamas Szekeres wrote:
> Bruce,
> 
> I'm using hdf5-1.8.2 and it seems working well.
> 
> You can obtain the binaries and build SDKs from here:
> http://vbkto.dyndns.org:1280/sdk/Default.aspx
> 
> Best regards,
> 
> Tamas
> 

Note that 1.8 can be built in 1.6 compatibility mode or not.
Maybe that does the difference...

> 
> 2009/5/19 Clay, Bruce <bclay@ball.com>
> 
> >  I downloaded the latest version of HDF5 from
> > ftp://ftp.hdfgroup.org/HDF5/current/bin/windows/ and am trying to build
> > HDF5 support into GDAL 1.6.1.
> >
> > Unfortuneately when I enable HDF5 suuport in the nmake.opt I get unresolved
> > link errors the interesting thing is that the errors are not just for HDF5.
> > I do have SDE enabled and GRIB is enabled by default.  I don?t know that the
> > first unresolved is but all of the error go away if I take HDF5 out of the
> > build.
> >

-- 
Francesco P. Lovergine
From armin.burger at gmx.net  Sat May 23 06:48:05 2009
From: armin.burger at gmx.net (Armin Burger)
Date: Sat May 23 06:48:11 2009
Subject: [gdal-dev] Status of Spatialite support
In-Reply-To: <200905231132.40347.even.rouault@mines-paris.org>
References: <4A166CCA.5090102@gmx.net>
	<200905221213.31587.even.rouault@mines-paris.org>
	<4A17BBD7.1030307@gmx.net>
	<200905231132.40347.even.rouault@mines-paris.org>
Message-ID: <4A17D465.7060404@gmx.net>

Even

thanks again. Now it works.

armin

On 23/05/2009 11:32, Even Rouault wrote:
> Armin,
> 
> The path behind the --with-spatialite flag must be the "prefix" of 
> installation of spatialite, not the path to the include files. In your case, 
> I'd try --with-spatialite=/usr/local.
> 
> It will search a libspatialite.so in /usr/local/lib, and the following include 
> files : /usr/local/include/spatialite.h 
> and  /usr/local/include/spatialite/sqlite3.h
> 
> Note that I've done my tests with the libspatialite-linux-x86-2.3.0.tar.gz 
> archive.
> 
> FYI, the 'spatialite_init' is a function that is looked in the 
> libspatialite.so. It is not a separate file.
> 
> Best regards,
> 
> Even
> 
> Le Saturday 23 May 2009 11:03:19 Armin Burger, vous avez ?crit :
>> Even
>>
>> thanks for the reply. I downloaded the 1.7 dev version and used the flag
>>
>> --with-spatialite=/usr/local/include/spatialite
>>
>> But the configure output was
>>
>> checking for SpatiaLite... checking for spatialite_init in
>> -lspatialite... yes
>> disabled
>>
>> and then from the summary at the end:
>>
>>   SpatiaLite support:        no
>>
>> The installation of the spatialite libraries did no add a
>> 'spatialite_init' file. All files installed were under
>> /usr/local/include/ and /usr/local/lib.
>>
>> Is there anything to change for running configure?
>>
>> Best regards
>>
>> Armin
>>
>> On 22/05/2009 12:13, Even Rouault wrote:
>>> Armin,
>>>
>>> There is already some spatialite support in GDAL 1.6 that enables to read
>>> simple SpatiaLite geometries (point, linestring, polygon) without needing
>>> to link against libspatialite.
>>>
>>> In GDAL 1.7dev, write support has also been added, as well as creating
>>> SpatiaLite compatible databases.
>>> Yesterday, I've finally added the (optionnal) capability to link against
>>> libspatialite instead of libsqlite3, to benefit from the spatial enabled
>>> SQL functions that it provides (spatial queries + spatial indexing). So
>>> spatialite support should be mostly complete by now.
>>>
>>> You should be able to take the ogr/ogrsf_frmts/sqlite directory from
>>> trunk in GDAL 1.6, but if you want to benefit from linking against
>>> libspatialite, you'll also have to patch configure and GDALmakeopt.in.
>>> See
>>> http://trac.osgeo.org/gdal/changeset/17083
>>>
>>> For the sake of simplicity, if you don't have to deal with sticking to
>>> GDAL 1.6 ABI, I'd advise you to grab a snapshot from GDAL 1.7dev.
>>>
>>> Best regards,
>>>
>>> Even
>>>
>>> Le Friday 22 May 2009 11:13:46, vous avez ?crit :
>>>> Hi everybody
>>>>
>>>> I would like to test the spatialite format that should be supported by
>>>> gdal starting with v1.7. Is it already working in current dev version (I
>>>> would mainly need the read functionality with spatial index support in
>>>> interaction with Mapserver)?
>>>>
>>>> Would I need to take the full export of current trunk or could I just
>>>> use gdal 1.6 and add the sqlite directory from trunk?
>>>>
>>>> Thanks for any help
>>>>
>>>> Armin
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From szekerest at gmail.com  Sat May 23 07:45:51 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat May 23 07:45:54 2009
Subject: [gdal-dev] SWIG bindings motions
In-Reply-To: <20090523101743.GA18640@frankie.is-a-geek.org>
References: <50DCFCE6-7058-43D1-84B2-938E1A3024B5@gmail.com>
	<f3b73b7d0905121249g4a37511ck705f2e96f70639d2@mail.gmail.com>
	<4A09DBEB.7040007@pobox.com>
	<f3b73b7d0905121443k6953e641kc0d05b523318bc90@mail.gmail.com>
	<20090523101743.GA18640@frankie.is-a-geek.org>
Message-ID: <f3b73b7d0905230445p36e755bdsbb30efa2bf2bc20e@mail.gmail.com>

2009/5/23 Francesco Paolo Lovergine <frankie@debian.org>

>
> If the swig stuff was by default auto-regenerated at building time we could
> have
> some problems from time to time in Debian/Ubuntu, due to recurrent
> problems in moving from one distributed swig version to another. We found
> problems in 1.3.38 and possibly all previously used versions after lenny
> release, for
> instance (on the python side). At the same time, sometimes regenerating is
> required, but
> that's generally something which is better left to builders and
> packagers IMHO.
>

Francesco,

Did you mention about building GDAL from SVN on by using the release source
packages? I think we are about to support including the SWIG generated stuff
in the release packages, but take that out of the SVN version control. In
this regard you could probably compile the release source packages without
problems.

In case if you'd build directly from the SVN you'll require to install the
supported SWIG version in your development machine.

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090523/f608e012/attachment.html
From szekerest at gmail.com  Sat May 23 07:58:35 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat May 23 07:58:38 2009
Subject: [gdal-dev] HDF5 link problem
In-Reply-To: <20090523101915.GB18640@frankie.is-a-geek.org>
References: <C482FF98AE985A47B8C982FD429C9E34027EBD27@daytonmsg2k3.AERO.BALL.COM>
	<f3b73b7d0905190957h2c503754h7d55385f9fa16808@mail.gmail.com>
	<20090523101915.GB18640@frankie.is-a-geek.org>
Message-ID: <f3b73b7d0905230458h2068971fo342e5b244f7621a9@mail.gmail.com>

I don't think we explicitly set the 1.6 compatibility mode in the builds. I
assume the 1.8 mode is the default setting.

Best regards,

Tamas



2009/5/23 Francesco P. Lovergine <frankie@debian.org>

> On Tue, May 19, 2009 at 06:57:21PM +0200, Tamas Szekeres wrote:
> > Bruce,
> >
> > I'm using hdf5-1.8.2 and it seems working well.
> >
> > You can obtain the binaries and build SDKs from here:
> > http://vbkto.dyndns.org:1280/sdk/Default.aspx
> >
> > Best regards,
> >
> > Tamas
> >
>
> Note that 1.8 can be built in 1.6 compatibility mode or not.
> Maybe that does the difference...
>
> >
> > 2009/5/19 Clay, Bruce <bclay@ball.com>
> >
> > >  I downloaded the latest version of HDF5 from
> > > ftp://ftp.hdfgroup.org/HDF5/current/bin/windows/ and am trying to
> build
> > > HDF5 support into GDAL 1.6.1.
> > >
> > > Unfortuneately when I enable HDF5 suuport in the nmake.opt I get
> unresolved
> > > link errors the interesting thing is that the errors are not just for
> HDF5.
> > > I do have SDE enabled and GRIB is enabled by default.  I don?t know
> that the
> > > first unresolved is but all of the error go away if I take HDF5 out of
> the
> > > build.
> > >
>
> --
> Francesco P. Lovergine
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090523/379ae263/attachment.html
From jerome at georezo.net  Sat May 23 08:27:43 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Sat May 23 08:27:53 2009
Subject: [gdal-dev] Configure with ogdi 32
Message-ID: <1E4F001E6AC14C88A38762BE91A4BF4B@JCPORTABLE>

Hello,

When I execute ./configure on linux system, I see that the script test the 
libogdi31. However the last ogdi version is 32.

In the input options, I have put the ogdi32 lib directory, and that seem ok.

But why any version of ogdi lib can not be detected as other lib such as 
jpeg or gif ?


Thanks,


J?r?me Cuinet
============== 

From even.rouault at mines-paris.org  Sat May 23 13:37:49 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 23 13:38:00 2009
Subject: [gdal-dev] Configure with ogdi 32
In-Reply-To: <1E4F001E6AC14C88A38762BE91A4BF4B@JCPORTABLE>
References: <1E4F001E6AC14C88A38762BE91A4BF4B@JCPORTABLE>
Message-ID: <200905231937.51238.even.rouault@mines-paris.org>

For those interested, see http://trac.osgeo.org/gdal/ticket/3007 that includes 
a fix for this issue.

Le Saturday 23 May 2009 14:27:43 Cuinet J?r?me, vous avez ?crit?:
> Hello,
>
> When I execute ./configure on linux system, I see that the script test the
> libogdi31. However the last ogdi version is 32.
>
> In the input options, I have put the ogdi32 lib directory, and that seem
> ok.
>
> But why any version of ogdi lib can not be detected as other lib such as
> jpeg or gif ?
>
>
> Thanks,
>
>
> J?r?me Cuinet
> ==============
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From Baas at speerit.nl  Mon May 25 04:06:40 2009
From: Baas at speerit.nl (Jelmer Baas)
Date: Mon May 25 04:15:05 2009
Subject: [gdal-dev] OGR, Oracle Spatial and styleitem auto.
Message-ID: <68C97F84EAD0174799AC6FCEE219DEF2619B85@batavia.Speerit.local>

Hello,

I'm using OGR and MapServer to retreive and draw data from Oracle
Spatial. I'm using the styleitem auto tag in my mapfile, so that OGR
figures out the style automaticly.

My test data is a number of polylines. I can change the color of the
line by setting PEN(c:#00ff00), but changing the line width doesn't seem
to work. When I try PEN(c:#00FF00,w:10px), nothing happens. I tried this
with px, pt, cm, big numbers, low numbers, nothing works. 

Am I doing something wrong, here? 

Also, I couldn't find anything in the documentation about multiple
styles per object. In MapInfo it's possible to have a 2px red line with
a black border, or a red dashed line with a blue background, for
example. Is that also possible in the OGR style?

Thanks for your time.

With kind regards,
Jelmer Baas
From warmerdam at pobox.com  Mon May 25 10:02:13 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 25 10:02:29 2009
Subject: [gdal-dev] OGR, Oracle Spatial and styleitem auto.
In-Reply-To: <68C97F84EAD0174799AC6FCEE219DEF2619B85@batavia.Speerit.local>
References: <68C97F84EAD0174799AC6FCEE219DEF2619B85@batavia.Speerit.local>
Message-ID: <4A1AA4E5.3070307@pobox.com>

Jelmer Baas wrote:
> Hello,
> 
> I'm using OGR and MapServer to retreive and draw data from Oracle
> Spatial. I'm using the styleitem auto tag in my mapfile, so that OGR
> figures out the style automaticly.

Jelmer,

The existing Oracle OCI driver does not return style information for
features from Oracle, so generally speaking styleitem auto in MapServer
will not do anything useful against Oracle.

> My test data is a number of polylines. I can change the color of the
> line by setting PEN(c:#00ff00), but changing the line width doesn't seem
> to work. When I try PEN(c:#00FF00,w:10px), nothing happens. I tried this
> with px, pt, cm, big numbers, low numbers, nothing works. 
> 
> Am I doing something wrong, here? 

I'm not sure how you are trying to associate styles with features, so it
is hard to comment.

> Also, I couldn't find anything in the documentation about multiple
> styles per object. In MapInfo it's possible to have a 2px red line with
> a black border, or a red dashed line with a blue background, for
> example. Is that also possible in the OGR style?

Style tools can be concatenated with a semicolon seperator.

My suggestion would be that you do mapserver styling using mapserver
class/style primatives rather than trying to use OGR styling and styleitem
auto.  Styleitem auto is most useful with formats like dgn, and mapinfo that
have extensive styling information intrinsic in the source data.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Baas at speerit.nl  Mon May 25 10:08:43 2009
From: Baas at speerit.nl (Jelmer Baas)
Date: Mon May 25 10:08:49 2009
Subject: [gdal-dev] OGR, Oracle Spatial and styleitem auto.
In-Reply-To: <4A1AA4E5.3070307@pobox.com>
References: <68C97F84EAD0174799AC6FCEE219DEF2619B85@batavia.Speerit.local>
	<4A1AA4E5.3070307@pobox.com>
Message-ID: <68C97F84EAD0174799AC6FCEE219DEF2619BE7@batavia.Speerit.local>

> > I'm using OGR and MapServer to retreive and draw data from Oracle
> > Spatial. I'm using the styleitem auto tag in my mapfile, so that OGR
> > figures out the style automaticly.
> 
> Jelmer,
> 
> The existing Oracle OCI driver does not return style information for
> features from Oracle, so generally speaking styleitem auto in 
> MapServer
> will not do anything useful against Oracle.
> 
> > My test data is a number of polylines. I can change the color of the
> > line by setting PEN(c:#00ff00), but changing the line width 
> doesn't seem
> > to work. When I try PEN(c:#00FF00,w:10px), nothing happens. 
> I tried this
> > with px, pt, cm, big numbers, low numbers, nothing works. 
> > 
> > Am I doing something wrong, here? 
> 
> I'm not sure how you are trying to associate styles with 
> features, so it
> is hard to comment.
> 
> > Also, I couldn't find anything in the documentation about multiple
> > styles per object. In MapInfo it's possible to have a 2px 
> red line with
> > a black border, or a red dashed line with a blue background, for
> > example. Is that also possible in the OGR style?
> 
> Style tools can be concatenated with a semicolon seperator.
> 
> My suggestion would be that you do mapserver styling using mapserver
> class/style primatives rather than trying to use OGR styling 
> and styleitem
> auto.  Styleitem auto is most useful with formats like dgn, 
> and mapinfo that
> have extensive styling information intrinsic in the source data.

Frank,

Thank you for your reply. I posted the original question (about OGR and
styleitem auto) in the MapServer mailing list, and got my answer there
from Tamas. Quote: "If you are using OGR to access the Oracle Spatial
data source, you could specify a valid OGR style string in the table by
adding field with name: 'OGR_STYLE'. In this case OGR will extract the
feature style automatically when using the STYLEITEM "AUTO" option with
this OGR layer."

This works like a charm. I also posted my question about linewidth
there, and Daniel answered a few minutes ago that I need to add a
"default-circle" symbol in my symbol file. This also works perfectly.
Before that, Tamas suggested that I posted this question in the gdal
mailing list.

I apologize for the mailing list spam. I did learn something new though,
about the ;-operator in the style tool.

Thanks for taking the time to respond.

Regards,
Jelmer Baas

From moodleyp at cs.ukzn.ac.za  Wed May 27 06:06:10 2009
From: moodleyp at cs.ukzn.ac.za (Poovendran Moodley)
Date: Wed May 27 06:12:48 2009
Subject: [gdal-dev] GDAL Python Development: Area Selection
Message-ID: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com>

Hi there,

I want to select only a region of a raster file; that is, suppose I know the
coordinates that form a bounding box around a region, I want to select just
that region and write it to another file.

I'm rather new to GDAL and thus far I'm only aware of one way to do this;
since I'm using Python:

> scanline = band.ReadRaster( 0, 0, band.XSize, 1, band.XSize, 1, GDT_Float32 <http://www.gdal.org/gdal_8h.html#22e22ce0a55036a96f652765793fb7a4f5cbd2f96abffd9ac061fc0dced5cbba> )
>
> I believe that I can specify the window of raster data to read using the
3rd till 6th input parameters of the above method (with reasonable size
reads untill the entire regions I'm interested in is read).

Is there some other way this was suppose to be done? The method above will
require me to convert my coordinates into rows and columns (I think) which
is fine... but leaves room for error so I'd like to only rely on GDAL
routines. Can someone please advise? It could very well be that I'm totally
mistaken... I hope this isn't such a bad question...

Kind regards
Pooven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090527/ea161547/attachment.html
From adube at mapgears.com  Wed May 27 08:01:15 2009
From: adube at mapgears.com (Alexandre Dube)
Date: Wed May 27 08:06:34 2009
Subject: [gdal-dev] ogr2ogr encoding
Message-ID: <4A1D2B8B.2060806@mapgears.com>

Hi,

  I need to add a dbf file to a postgis database.  I use ogr2ogr with 
the postgresql driver for that.  Problem is, I get an encoding error :

=== ERROR START ===
Warning 1: PQescapeString(): incomplete multibyte character

  input: 'R?o'
    got: 'R?o '

ERROR 1: INSERT command for new feature failed.
ERROR:  invalid byte sequence for encoding "UTF8": 0xed6f20
HINT:  This error can also happen if the byte sequence does not match 
the encoding expected by the server, which is controlled by 
"client_encoding".
=== ERROR END ===

  I tried to set the database encoding of my database with \encoding or 
SET CLIENT_ENCODING TO 'encoding'; but it's not working.  I tried latin1 
and UTF8.  What am I missing ?

-- 
Alexandre Dub?
Mapgears
www.mapgears.com

From warmerdam at pobox.com  Wed May 27 13:10:16 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 27 13:10:26 2009
Subject: [gdal-dev] ogr2ogr encoding
In-Reply-To: <4A1D2B8B.2060806@mapgears.com>
References: <4A1D2B8B.2060806@mapgears.com>
Message-ID: <4A1D73F8.3010401@pobox.com>

Alexandre Dube wrote:
> Hi,
> 
>  I need to add a dbf file to a postgis database.  I use ogr2ogr with the 
> postgresql driver for that.  Problem is, I get an encoding error :
> 
> === ERROR START ===
> Warning 1: PQescapeString(): incomplete multibyte character
> 
>  input: 'R?o'
>    got: 'R?o '
> 
> ERROR 1: INSERT command for new feature failed.
> ERROR:  invalid byte sequence for encoding "UTF8": 0xed6f20
> HINT:  This error can also happen if the byte sequence does not match 
> the encoding expected by the server, which is controlled by 
> "client_encoding".
> === ERROR END ===
> 
>  I tried to set the database encoding of my database with \encoding or 
> SET CLIENT_ENCODING TO 'encoding'; but it's not working.  I tried latin1 
> and UTF8.  What am I missing ?

Alexandre,

The OGR Postgres driver help says:

"""
By default it is assumed that text being sent to Postgres is in the UTF-8
encoding.  This is fine for plain ASCII, but can result in errors for
extended characters (ASCII 155+, LATIN1, etc).  While OGR provides no direct
control over this, you can set the PGCLIENTENCODING environment variable
to indicate the format being provided.  For instance, if your text is
LATIN1 you could set the environment variable to LATIN1 before using OGR
and input would be assumed to be LATIN1 instead of UTF-8. <p>
"""

Could you try setting the PGCLIENTENCODING environment variable to LATIN1
before running ogr2ogr?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ckarney at sarnoff.com  Wed May 27 14:41:57 2009
From: ckarney at sarnoff.com (Charles Karney)
Date: Wed May 27 14:42:11 2009
Subject: [gdal-dev] Thread safety of GDAL projection machinery?
Message-ID: <ssrws82s80a.fsf@puffin.sarnoff.com>

I have a multi-threaded application with reads the geodata out of many
files using GDAL.

For each image, it calls

  GDALCreateGenImgProjTransformer(// Source
				  dataset,GDALGetProjectionRef(dataset),
				  // Dest (NULL means dest is geo)
				  NULL, WGS84.c_str(),
				  // Don't use GCPs
				  0, 0, 0 );

and I then compute the lat/long of the 4 image corners.

I call

    GDALAllRegister();

before entering the multi-threaded portion of the code.

With files that require that pcs.csv be read, I get the following error
messages

    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed.
    ERROR 2: CPLRealloc(): Out of memory allocating 1956 bytes.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/datum.csv failed.
    ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/ellipsoid.csv failed.
    ERROR 2: CPLRealloc(): Out of memory allocating 409 bytes.
    ERROR 1: No PROJ.4 translation for source SRS, coordinate
    transformation initialization has failed.

This is with 6 threads.  The error messages change from invocation to
invocation as is typical with multi-threading bugs.

If I change the code so that one a single thread is handling the GDAL
stuff, everything works OK.

* Is this "supposed" to work?

* Do I need to do something outside the threaded portion of the code to
  initialize the projection machinery?

* If it's known not to work, what GDAL calls do I need to protect with
  locks?

Thanks for the help!

-- 
Charles Karney <ckarney@sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662
From even.rouault at mines-paris.org  Wed May 27 15:35:43 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 27 15:35:58 2009
Subject: [gdal-dev] GDAL Python Development: Area Selection
In-Reply-To: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com>
References: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com>
Message-ID: <200905272135.44255.even.rouault@mines-paris.org>

Pooven,

You're doing things the right way. GDAL doesn't provide any high-level 
function to extract a region from a bounding box expressed in projected 
coordinates. You have to compute the pixel coordinates of the corner of the 
bounding box yourself by using the inverse of the geotransform matrix 
returned by the GetGeoTransform() method of the dataset.

gt = ds.GetGeoTransform()
x_pixel = (x_projected - gt[0]) / gt[1]
y_pixel = (y_projected - gt[3]) / gt[5]

(provided that your raster doesn't has any rotation or shearing, that is to 
say that gt[2] = gt[4] = 0)

Best regards,
Even

Le Wednesday 27 May 2009 12:06:10 Poovendran Moodley, vous avez ?crit?:
> Hi there,
>
> I want to select only a region of a raster file; that is, suppose I know
> the coordinates that form a bounding box around a region, I want to select
> just that region and write it to another file.
>
> I'm rather new to GDAL and thus far I'm only aware of one way to do this;
>
> since I'm using Python:
> > scanline = band.ReadRaster( 0, 0, band.XSize, 1, band.XSize, 1,
> > GDT_Float32
> > <http://www.gdal.org/gdal_8h.html#22e22ce0a55036a96f652765793fb7a4f5cbd2f
> >96abffd9ac061fc0dced5cbba> )
> >
> > I believe that I can specify the window of raster data to read using the
>
> 3rd till 6th input parameters of the above method (with reasonable size
> reads untill the entire regions I'm interested in is read).
>
> Is there some other way this was suppose to be done? The method above will
> require me to convert my coordinates into rows and columns (I think) which
> is fine... but leaves room for error so I'd like to only rely on GDAL
> routines. Can someone please advise? It could very well be that I'm totally
> mistaken... I hope this isn't such a bad question...
>
> Kind regards
> Pooven


From bclay at ball.com  Wed May 27 15:46:08 2009
From: bclay at ball.com (Clay, Bruce)
Date: Wed May 27 15:46:29 2009
Subject: [gdal-dev] libLas
Message-ID: <C482FF98AE985A47B8C982FD429C9E3402EE85CC@daytonmsg2k3.AERO.BALL.COM>

Are there any plans to fold libLas into the GDAL development tree?  In
it's current offshoot it takes quite a bit of manipulation due to the
dependencies.  I even had one link error for stlPort for a dependency.
I did manage to get liblas.lib but Visual Studio complained a bunch
about duplicate declarations.

 

I tried to build using the gdal-1.6.1 source tree but geo_simpletags.h
is not in that path so used libgeotiff-1.2.5 which requires libTiff,
jpeg-6b etc

 

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090527/5a2ecd8d/attachment.html
From even.rouault at mines-paris.org  Wed May 27 15:49:45 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 27 15:49:55 2009
Subject: [gdal-dev] Thread safety of GDAL projection machinery?
In-Reply-To: <ssrws82s80a.fsf@puffin.sarnoff.com>
References: <ssrws82s80a.fsf@puffin.sarnoff.com>
Message-ID: <200905272149.45550.even.rouault@mines-paris.org>

Charles,

At first sight, you're likely doing things the right way and probably 
discovered a bug related to multi-threading in GDAL. The use of 
GDALCreateGenImgProjTransformer() should be thread-safe (provided that you 
don't use the same dataset in the different threads)

By reviewing the code of 2 files that are used in the retrieving and parsing 
of the csv files, there are a few variables that are supposed to be 
thread-local (CPL_THREADLOCAL), but this is currently a no-op.

But as it's just a guess and maybe not the real cause for your problems, 
ideally, you could file a bug in the GDAL Trac with a small program that 
reproduces your issue, so that it can be investigated further.

Best regards,

Even

Le Wednesday 27 May 2009 20:41:57 Charles Karney, vous avez ?crit?:
> I have a multi-threaded application with reads the geodata out of many
> files using GDAL.
>
> For each image, it calls
>
>   GDALCreateGenImgProjTransformer(// Source
> 				  dataset,GDALGetProjectionRef(dataset),
> 				  // Dest (NULL means dest is geo)
> 				  NULL, WGS84.c_str(),
> 				  // Don't use GCPs
> 				  0, 0, 0 );
>
> and I then compute the lat/long of the 4 image corners.
>
> I call
>
>     GDALAllRegister();
>
> before entering the multi-threaded portion of the code.
>
> With files that require that pcs.csv be read, I get the following error
> messages
>
>     ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv
> failed. ERROR 3: Read of file c:/Program Files
> (x86)/FWTools2.2.8/data/pcs.csv failed. ERROR 2: CPLRealloc(): Out of
> memory allocating 1956 bytes.
>     ERROR 3: Read of file c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv
> failed. ERROR 3: Read of file c:/Program Files
> (x86)/FWTools2.2.8/data/pcs.csv failed. ERROR 3: Read of file c:/Program
> Files (x86)/FWTools2.2.8/data/pcs.csv failed. ERROR 3: Read of file
> c:/Program Files (x86)/FWTools2.2.8/data/pcs.csv failed. ERROR 3: Read of
> file c:/Program Files (x86)/FWTools2.2.8/data/datum.csv failed. ERROR 3:
> Read of file c:/Program Files (x86)/FWTools2.2.8/data/ellipsoid.csv failed.
> ERROR 2: CPLRealloc(): Out of memory allocating 409 bytes.
>     ERROR 1: No PROJ.4 translation for source SRS, coordinate
>     transformation initialization has failed.
>
> This is with 6 threads.  The error messages change from invocation to
> invocation as is typical with multi-threading bugs.
>
> If I change the code so that one a single thread is handling the GDAL
> stuff, everything works OK.
>
> * Is this "supposed" to work?
>
> * Do I need to do something outside the threaded portion of the code to
>   initialize the projection machinery?
>
> * If it's known not to work, what GDAL calls do I need to protect with
>   locks?
>
> Thanks for the help!


From hobu.inc at gmail.com  Wed May 27 17:06:21 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed May 27 17:06:26 2009
Subject: [gdal-dev] libLas
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E3402EE85CC@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E3402EE85CC@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <0F697E57-52DC-49BC-8D24-9349BB0DD974@gmail.com>


On May 27, 2009, at 2:46 PM, Clay, Bruce wrote:

> Are there any plans to fold libLas into the GDAL development tree?

No.  libLAS is an entirely separate software project.  Additionally,  
its object model and data type (extremely dense point clouds with  
attributes) doesn't cleanly map to anything in GDAL or OGR.  It is  
highly unlikely it will be included in GDAL in the near future.


> In it?s current offshoot it takes quite a bit of manipulation due to  
> the dependencies.

libLAS is not a development offshoot of GDAL.  It is a separate  
software project.  libLAS' only relation to GDAL is the las2ogr tool  
and libLAS' ability to optionally use GDAL for well known text spatial  
referencing system description support.  I would also note that libLAS  
has no required dependencies.  libgeotiff, GDAL, and libspatialindex  
(in trunk) are all optional dependencies to support spatial  
referencing and (at the next release) spatial indexing.

> I even had one link error for stlPort for a dependency.

Were you compiling with MSVC 6?  Only MSVC 7.1+ is supported or tested  
on Windows.  When compiling on 7.1+, there should be no stlport  
dependency.

> I did manage to get liblas.lib but Visual Studio complained a bunch  
> about duplicate declarations.

It would be appropriate to participate on the liblas-devel mailing  
list with your experiences and feedback on libLAS.

>
> I tried to build using the gdal-1.6.1 source tree but  
> geo_simpletags.h is not in that path so used libgeotiff-1.2.5 which  
> requires libTiff, jpeg-6b etc

libLAS can be built against a GDAL trunk source tree (1.7+, which has  
not been released) or against a libgeotiff-1.2.5 tree for LAS spatial  
referencing system support.  There was a bug in 1.2.5 that prevents  
GeoTIFF ASCII tags from being used through the simpletags interface,  
however.

From ckarney at Sarnoff.com  Wed May 27 17:17:39 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Wed May 27 17:19:18 2009
Subject: [gdal-dev] Thread safety of GDAL projection machinery?
In-Reply-To: <200905272149.45550.even.rouault@mines-paris.org>
References: <ssrws82s80a.fsf@puffin.sarnoff.com>,
	<200905272149.45550.even.rouault@mines-paris.org>
Message-ID: <CED6B4B383C5F0418DAFEA443A0033C2C06BCC432A@MALIBU.sarnoff.internal>

Thanks for the reply.

> At first sight, you're likely doing things the right way and probably
> discovered a bug related to multi-threading in GDAL. The use of
> GDALCreateGenImgProjTransformer() should be thread-safe (provided that you
> don't use the same dataset in the different threads)

Yes, each thread is dealing with a separate set of files.

> By reviewing the code of 2 files that are used in the retrieving and parsing
> of the csv files, there are a few variables that are supposed to be
> thread-local (CPL_THREADLOCAL), but this is currently a no-op.
>
> But as it's just a guess and maybe not the real cause for your problems,
> ideally, you could file a bug in the GDAL Trac with a small program that
> reproduces your issue, so that it can be investigated further.

It's probably going to be tough for me to carve out a test case.
However, can I turn the question around?  If CPL_THREADLOCAL is a noop,
how can the code in cpl_csv.cpp possibly be thread safe?

In the meantime, I've put a lock around by GDAL calls which avoids the
errors (but probably with penalty in performance).

--
Charles Karney <ckarney@sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662
From even.rouault at mines-paris.org  Wed May 27 18:05:05 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 27 18:05:19 2009
Subject: [gdal-dev] Thread safety of GDAL projection machinery?
In-Reply-To: <CED6B4B383C5F0418DAFEA443A0033C2C06BCC432A@MALIBU.sarnoff.internal>
References: <ssrws82s80a.fsf@puffin.sarnoff.com>
	<200905272149.45550.even.rouault@mines-paris.org>
	<CED6B4B383C5F0418DAFEA443A0033C2C06BCC432A@MALIBU.sarnoff.internal>
Message-ID: <200905280005.06752.even.rouault@mines-paris.org>

Le Wednesday 27 May 2009 23:17:39 Karney, Charles, vous avez ?crit?:
> Thanks for the reply.
>
> > At first sight, you're likely doing things the right way and probably
> > discovered a bug related to multi-threading in GDAL. The use of
> > GDALCreateGenImgProjTransformer() should be thread-safe (provided that
> > you don't use the same dataset in the different threads)
>
> Yes, each thread is dealing with a separate set of files.
>
> > By reviewing the code of 2 files that are used in the retrieving and
> > parsing of the csv files, there are a few variables that are supposed to
> > be thread-local (CPL_THREADLOCAL), but this is currently a no-op.
> >
> > But as it's just a guess and maybe not the real cause for your problems,
> > ideally, you could file a bug in the GDAL Trac with a small program that
> > reproduces your issue, so that it can be investigated further.
>
> It's probably going to be tough for me to carve out a test case.
> However, can I turn the question around?  If CPL_THREADLOCAL is a noop,
> how can the code in cpl_csv.cpp possibly be thread safe?

You're right. That part of the code isn't currently thread-safe, and should 
likely be fixed. So this is a bug, as GDAL core is intended to be thread-safe 
(with somes restrictions, like operating on different dataset handles, 
etc...). But it's hard to tell without a way of reproducing if it is 
significant in the issue you're running into. It might be somewhere else in 
GDAL.

>
> In the meantime, I've put a lock around by GDAL calls which avoids the
> errors (but probably with penalty in performance).
>
> --
> Charles Karney <ckarney@sarnoff.com>
> Sarnoff Corporation, Princeton, NJ 08543-5300
>
> Tel: +1 609 734 2312
> Fax: +1 609 734 2662


From mateusz at loskot.net  Wed May 27 18:13:20 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed May 27 18:13:30 2009
Subject: [gdal-dev] libLas
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E3402EE85CC@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E3402EE85CC@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <4A1DBB00.7000506@loskot.net>

Clay, Bruce wrote:
> I even had one link error for stlPort for a dependency. 

I don't get any link errors.

> I did manage to get liblas.lib but Visual Studio complained a bunch
> about duplicate declarations.

It does not complain for me.

Sorry, my magic sphere has been suffering from significant
lack of power recently.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From warmerdam at pobox.com  Wed May 27 22:40:09 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 27 22:40:07 2009
Subject: [gdal-dev] 1.6-esri to Trunk Merge
Message-ID: <4A1DF989.1030103@pobox.com>

Folks,

I have created a personal branch of GDAL 1.6 in /sandbox/warmerdam/1.6-esri
which includes a large variety of ESRI local changes and that I plan to back
port various 1.7 features needed by ESRI for an upcoming release.

I have attempted to review the ESRI local changes - primarily represented by
a large changset (r17058) - and forward port appropriate ones in small
chunks with descriptions into trunk in the last week or so.  I prepared a
brief report on the activity for those who are interested.

   http://trac.osgeo.org/gdal/wiki/2009_ESRI_Merge

I'm hoping to continue working on the items labelled Deferred, at some point,
likely in cooperation with ESRI staff.

This email is just a heads-up on recent activity, and to give anyone
interested a pointer to the report on the work.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From adube at mapgears.com  Thu May 28 08:34:44 2009
From: adube at mapgears.com (Alexandre Dube)
Date: Thu May 28 08:34:49 2009
Subject: [gdal-dev] ogr2ogr encoding
In-Reply-To: <4A1D73F8.3010401@pobox.com>
References: <4A1D2B8B.2060806@mapgears.com> <4A1D73F8.3010401@pobox.com>
Message-ID: <4A1E84E4.60009@mapgears.com>

Hi Frank,

Frank Warmerdam wrote:
>
> Alexandre,
>
> The OGR Postgres driver help says:
>
> """
> By default it is assumed that text being sent to Postgres is in the UTF-8
> encoding.  This is fine for plain ASCII, but can result in errors for
> extended characters (ASCII 155+, LATIN1, etc).  While OGR provides no 
> direct
> control over this, you can set the PGCLIENTENCODING environment variable
> to indicate the format being provided.  For instance, if your text is
> LATIN1 you could set the environment variable to LATIN1 before using OGR
> and input would be assumed to be LATIN1 instead of UTF-8. <p>
> """
>
> Could you try setting the PGCLIENTENCODING environment variable to LATIN1
> before running ogr2ogr?
>
> Best regards,

I tried to set PGCLIENTENCODING to LATIN1 but I got the same error.  My 
terminal is also set to latin1 and when I get the error I can see the 
character correctly.  Changing it to utf8, I see a <?> character 
instead, so I assume the dbf is in latin1.

Is there a way I could be sure of the dbf encoding ?  It's a file from 
the tiger data set, maybe someone already know that ?  I checked in the 
tiger doc but didn't find anything.

Thanks,

-- 
Alexandre Dub?
Mapgears
www.mapgears.com

From adube at mapgears.com  Thu May 28 08:48:18 2009
From: adube at mapgears.com (Alexandre Dube)
Date: Thu May 28 08:48:24 2009
Subject: [gdal-dev] ogr2ogr encoding [RESOLVED]
In-Reply-To: <4A1E84E4.60009@mapgears.com>
References: <4A1D2B8B.2060806@mapgears.com> <4A1D73F8.3010401@pobox.com>
	<4A1E84E4.60009@mapgears.com>
Message-ID: <4A1E8812.807@mapgears.com>

Hi Frank,

Alexandre Dube wrote:
>
> I tried to set PGCLIENTENCODING to LATIN1 but I got the same error.  
> My terminal is also set to latin1 and when I get the error I can see 
> the character correctly.  Changing it to utf8, I see a <?> character 
> instead, so I assume the dbf is in latin1.
>
> Is there a way I could be sure of the dbf encoding ?  It's a file from 
> the tiger data set, maybe someone already know that ?  I checked in 
> the tiger doc but didn't find anything.
>
> Thanks,
>

My bad !  I thought that :

PGCLIENTENCODING=LATIN1;

was enough since using echo $PGCLIENTENCODING returned my value, but it 
was not actually set.  Doing this worked :

export PGCLIENTENCODING=LATIN1;

(still learning a lot in linux...)

Many thanks,

-- 
Alexandre Dub?
Mapgears
www.mapgears.com

From moodleyp at cs.ukzn.ac.za  Fri May 29 02:43:08 2009
From: moodleyp at cs.ukzn.ac.za (Poovendran Moodley)
Date: Fri May 29 02:43:33 2009
Subject: [gdal-dev] GDAL Python Development: Area Selection
In-Reply-To: <200905272135.44255.even.rouault@mines-paris.org>
References: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com> 
	<200905272135.44255.even.rouault@mines-paris.org>
Message-ID: <b18bbf6f0905282343rc0449f7i3ed0883c7513dc5@mail.gmail.com>

Hi Even,

I'm really appreciative of your help! And yes, gt[2] = gt[4] = 0 :) Here's
the code that I've written thus far (for those that are interested --
hopefully I'm not mistaken in my coding!):
def select(filename, x1, y1, x2, y2):
    dataset = gdal.Open( filename, GA_ReadOnly )
    colStart = int(math.ceil((x1 - gt[0])/gt[1]))
    rowStart = int(math.ceil((y1 - gt[3])/gt[5]))
    colEnd = int(math.ceil((x2 - gt[0])/gt[1]))
    rowEnd = int(math.ceil((y2 - gt[3])/gt[5]))
    band = dataset.GetRasterBand(1)
    n = colEnd - colStart + 1
    colStart = colStart - 1 #Because ReadRaster begins at row 0
    for k in range(rowStart - 1, rowEnd):
        scanline = band.ReadRaster(colStart, k, n, 1, n, 1, GDT_Float32) '''
reading 1 row at a time within specified window '''
        tuple_of_floats = struct.unpack('f' * n, scanline)
        print tuple_of_floats

It took me a while to fully understand how ReadRaster works. I read a post
in the FWTools newsgroup:
http://lists.maptools.org/pipermail/fwtools/2005-September/000138.html
The guy there explained the usage quite well. It's a pity that there isn't
more documentation readily available. Thank you again for your assistance
Even! All of the best to you :)

Kind regards
Pooven

On Wed, May 27, 2009 at 9:35 PM, Even Rouault
<even.rouault@mines-paris.org>wrote:

> Pooven,
>
> You're doing things the right way. GDAL doesn't provide any high-level
> function to extract a region from a bounding box expressed in projected
> coordinates. You have to compute the pixel coordinates of the corner of the
> bounding box yourself by using the inverse of the geotransform matrix
> returned by the GetGeoTransform() method of the dataset.
>
> gt = ds.GetGeoTransform()
> x_pixel = (x_projected - gt[0]) / gt[1]
> y_pixel = (y_projected - gt[3]) / gt[5]
>
> (provided that your raster doesn't has any rotation or shearing, that is to
> say that gt[2] = gt[4] = 0)
>
> Best regards,
> Even
>
> Le Wednesday 27 May 2009 12:06:10 Poovendran Moodley, vous avez ?crit :
> > Hi there,
> >
> > I want to select only a region of a raster file; that is, suppose I know
> > the coordinates that form a bounding box around a region, I want to
> select
> > just that region and write it to another file.
> >
> > I'm rather new to GDAL and thus far I'm only aware of one way to do this;
> >
> > since I'm using Python:
> > > scanline = band.ReadRaster( 0, 0, band.XSize, 1, band.XSize, 1,
> > > GDT_Float32
> > > <
> http://www.gdal.org/gdal_8h.html#22e22ce0a55036a96f652765793fb7a4f5cbd2f
> > >96abffd9ac061fc0dced5cbba> )
> > >
> > > I believe that I can specify the window of raster data to read using
> the
> >
> > 3rd till 6th input parameters of the above method (with reasonable size
> > reads untill the entire regions I'm interested in is read).
> >
> > Is there some other way this was suppose to be done? The method above
> will
> > require me to convert my coordinates into rows and columns (I think)
> which
> > is fine... but leaves room for error so I'd like to only rely on GDAL
> > routines. Can someone please advise? It could very well be that I'm
> totally
> > mistaken... I hope this isn't such a bad question...
> >
> > Kind regards
> > Pooven
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090529/c8ec325d/attachment.html
From rigal at rapideye.de  Fri May 29 06:11:53 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Fri May 29 06:12:05 2009
Subject: [gdal-dev] non-fully conform output of gdalwarp
Message-ID: <200905291211.54261.rigal@rapideye.de>

Hi guys,

Working with GDAL 1.6.1, I got some strange result. It is not very 
compromising, because the result is OK, but it shall be enhanced, or I shall 
learn how to use it.

giving the following command :
gdalwarp -t_srs 'PROJCS["ETRS89_GRS80_3",GEOGCS["LUA_ETRS89",DATUM["D_GRS_1980",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",15.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]' 
8_WGS84.tif 8_ETRS89.tif

will create the desired file, and project it fine, but doing :
gdalinfo 8_ETRS89.tif
will show :
PROJCS["ETRS89_GRS80_3",
    GEOGCS["LUA_ETRS89",
        DATUM["unknown",
            SPHEROID["unnamed",6378137,298.2572221010042]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",15],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",3500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]

Why is the Datum set to unknown and the spheroid to unnamed ?

It also causes some other software to warn that the projection is not the same 
(as the desired)...

Best regards,
Matthieu
-- 
Matthieu Rigal
Product Development

RapidEye AG                           Tel: +49-(0)3381-89 04 331
Molkenmarkt 30                       Fax: +49-(0)3381-89 04 101
14776 Brandenburg/Havel
Germany                                  http://www.rapideye.de

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany

Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel Schmalz
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified

*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.

The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From nico.mandery at geops.de  Fri May 29 05:57:39 2009
From: nico.mandery at geops.de (Nico Mandery)
Date: Fri May 29 06:21:56 2009
Subject: [gdal-dev] ogr2ogr encoding
In-Reply-To: <4A1D2B8B.2060806@mapgears.com>
References: <4A1D2B8B.2060806@mapgears.com>
Message-ID: <4A1FB193.5010709@geops.de>

Hi,

I had a similar problem with german umlauts not to long ago. I solved it
by specifing the client encodung in the postgresql connection string

example:
ogr2ogr -f PostgreSQL PG:"dbname=mydb options='-c
client_encoding=latin1'" .....

hope it helps,
nico


Alexandre Dube schrieb:
> Hi,
> 
>  I need to add a dbf file to a postgis database.  I use ogr2ogr with the
> postgresql driver for that.  Problem is, I get an encoding error :
> 
> === ERROR START ===
> Warning 1: PQescapeString(): incomplete multibyte character
> 
>  input: 'R?o'
>    got: 'R?o '
> 
> ERROR 1: INSERT command for new feature failed.
> ERROR:  invalid byte sequence for encoding "UTF8": 0xed6f20
> HINT:  This error can also happen if the byte sequence does not match
> the encoding expected by the server, which is controlled by
> "client_encoding".
> === ERROR END ===
> 
>  I tried to set the database encoding of my database with \encoding or
> SET CLIENT_ENCODING TO 'encoding'; but it's not working.  I tried latin1
> and UTF8.  What am I missing ?
> 
From ivan.lucena at pmldnet.com  Fri May 29 07:49:01 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Fri May 29 07:49:04 2009
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gbm9uLWZ1bGx5IGNvbmZvcm0gb3V0cHV0IG9mIGdkYWx3YXJw?=
Message-ID: <20090529114901.22312.qmail@s466.sureserver.com>

If you use DATUM["GRS_1980" instead of DATUM["D_GRS_1980" it might work. See http://spatialreference.org for 
more info.


>  -------Original Message-------
>  From: Matthieu Rigal <rigal@rapideye.de>
>  Subject: [gdal-dev] non-fully conform output of gdalwarp
>  Sent: May 29 '09 05:11
>  
>  Hi guys,
>  
>  Working with GDAL 1.6.1, I got some strange result. It is not very
>  compromising, because the result is OK, but it shall be enhanced, or I shall
>  learn how to use it.
>  
>  giving the following command :
>  gdalwarp -t_srs 
'PROJCS["ETRS89_GRS80_3",GEOGCS["LUA_ETRS89",DATUM["D_GRS_1980",SPHEROID["GRS_1980",6378137.0,2
98.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Merc
ator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",1
5.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]'
>  8_WGS84.tif 8_ETRS89.tif
>  
>  will create the desired file, and project it fine, but doing :
>  gdalinfo 8_ETRS89.tif
>  will show :
>  PROJCS["ETRS89_GRS80_3",
>  ????GEOGCS["LUA_ETRS89",
>  ????????DATUM["unknown",
>  ????????????SPHEROID["unnamed",6378137,298.2572221010042]],
>  ????????PRIMEM["Greenwich",0],
>  ????????UNIT["degree",0.0174532925199433]],
>  ????PROJECTION["Transverse_Mercator"],
>  ????PARAMETER["latitude_of_origin",0],
>  ????PARAMETER["central_meridian",15],
>  ????PARAMETER["scale_factor",0.9996],
>  ????PARAMETER["false_easting",3500000],
>  ????PARAMETER["false_northing",0],
>  ????UNIT["metre",1,
>  ????????AUTHORITY["EPSG","9001"]]]
>  
>  Why is the Datum set to unknown and the spheroid to unnamed ?
>  
>  It also causes some other software to warn that the projection is not the same
>  (as the desired)...
>  
>  Best regards,
>  Matthieu
>  --
>  Matthieu Rigal
>  Product Development
>  
>  RapidEye AG?????????????????????????? Tel: +49-(0)3381-89 04 331
>  Molkenmarkt 30?????????????????????? Fax: +49-(0)3381-89 04 101
>  14776 Brandenburg/Havel
>  Germany??????????????????????????????????http://www.rapideye.de
>  
>  RapidEye AG
>  Molkenmarkt 30
>  14776 Brandenburg an der Havel
>  Germany
>  
>  Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
>  Management Board/Vorstand: Wolfgang G. Biedermann
>  Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel Schmalz
>  Commercial Register/Handelsregister Potsdam HRB 17 796
>  Tax Number/Steuernummer: 048/100/00053
>  VAT-Ident-Number/Ust.-ID: DE 199331235
>  DIN EN ISO 9001 certified
>  
>  *************************************************************************
>  Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
>  Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
>  E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
>  Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
>  die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
>  
>  The information in this e-mail is intended for the named recipients
>  only. It may contain privileged and confidential information. If you
>  have received this communication in error, any use, copying or
>  dissemination of its contents is strictly prohibited. Please erase all
>  copies of the message along with any included attachments and notify
>  RapidEye AG or the sender immediately by telephone at the number
>  indicated on this page.
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  

From rigal at rapideye.de  Fri May 29 07:56:48 2009
From: rigal at rapideye.de (Matthieu Rigal)
Date: Fri May 29 07:56:59 2009
Subject: [gdal-dev] non-fully conform output of gdalwarp
In-Reply-To: <20090529114901.22312.qmail@s466.sureserver.com>
References: <20090529114901.22312.qmail@s466.sureserver.com>
Message-ID: <200905291356.49915.rigal@rapideye.de>

Hi Ivan,

I should have mentioned it, but I already tested it, by changing the DATUM, 
the file is nicely projected, but the header still has this unknown and 
unnamed fields...

Could it actually come from my GEOS or proj4 libraries ? Or can it only come 
from GDAL ?

Best regards,
Matthieu


On Friday 29 May 2009 13:49:01 Lucena, Ivan wrote:
> If you use DATUM["GRS_1980" instead of DATUM["D_GRS_1980" it might work.
> See http://spatialreference.org for more info.
>
> >  -------Original Message-------
> >  From: Matthieu Rigal <rigal@rapideye.de>
> >  Subject: [gdal-dev] non-fully conform output of gdalwarp
> >  Sent: May 29 '09 05:11
> >
> >  Hi guys,
> >
> >  Working with GDAL 1.6.1, I got some strange result. It is not very
> >  compromising, because the result is OK, but it shall be enhanced, or I
> > shall learn how to use it.
> >
> >  giving the following command :
> >  gdalwarp -t_srs
>
> 'PROJCS["ETRS89_GRS80_3",GEOGCS["LUA_ETRS89",DATUM["D_GRS_1980",SPHEROID["G
>RS_1980",6378137.0,2
> 98.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],P
>ROJECTION["Transverse_Merc
> ator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0]
>,PARAMETER["Central_Meridian",1
> 5.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],U
>NIT["Meter",1.0]]'
>
> >  8_WGS84.tif 8_ETRS89.tif
> >
> >  will create the desired file, and project it fine, but doing :
> >  gdalinfo 8_ETRS89.tif
> >  will show :
> >  PROJCS["ETRS89_GRS80_3",
> >  ????GEOGCS["LUA_ETRS89",
> >  ????????DATUM["unknown",
> >  ????????????SPHEROID["unnamed",6378137,298.2572221010042]],
> >  ????????PRIMEM["Greenwich",0],
> >  ????????UNIT["degree",0.0174532925199433]],
> >  ????PROJECTION["Transverse_Mercator"],
> >  ????PARAMETER["latitude_of_origin",0],
> >  ????PARAMETER["central_meridian",15],
> >  ????PARAMETER["scale_factor",0.9996],
> >  ????PARAMETER["false_easting",3500000],
> >  ????PARAMETER["false_northing",0],
> >  ????UNIT["metre",1,
> >  ????????AUTHORITY["EPSG","9001"]]]
> >
> >  Why is the Datum set to unknown and the spheroid to unnamed ?
> >
> >  It also causes some other software to warn that the projection is not
> > the same (as the desired)...
> >
> >  Best regards,
> >  Matthieu
> >  --
> >  Matthieu Rigal
> >  Product Development
> >
> >  RapidEye AG?????????????????????????? Tel: +49-(0)3381-89 04 331
> >  Molkenmarkt 30?????????????????????? Fax: +49-(0)3381-89 04 101
> >  14776 Brandenburg/Havel
> >  Germany??????????????????????????????????http://www.rapideye.de
> >
> >  RapidEye AG
> >  Molkenmarkt 30
> >  14776 Brandenburg an der Havel
> >  Germany
> >
> >  Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
> >  Management Board/Vorstand: Wolfgang G. Biedermann
> >  Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel
> > Schmalz Commercial Register/Handelsregister Potsdam HRB 17 796
> >  Tax Number/Steuernummer: 048/100/00053
> >  VAT-Ident-Number/Ust.-ID: DE 199331235
> >  DIN EN ISO 9001 certified
> >
> > 
> > *************************************************************************
> > Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
> > Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
> > E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
> > Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
> > die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
> >
> >  The information in this e-mail is intended for the named recipients
> >  only. It may contain privileged and confidential information. If you
> >  have received this communication in error, any use, copying or
> >  dissemination of its contents is strictly prohibited. Please erase all
> >  copies of the message along with any included attachments and notify
> >  RapidEye AG or the sender immediately by telephone at the number
> >  indicated on this page.
> >  _______________________________________________
> >  gdal-dev mailing list
> >  gdal-dev@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Matthieu Rigal
Product Development

RapidEye AG                           Tel: +49-(0)3381-89 04 331
Molkenmarkt 30                       Fax: +49-(0)3381-89 04 101
14776 Brandenburg/Havel
Germany                                  http://www.rapideye.de

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany

Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: Axel Schmalz
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified

*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.

The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From antonio.valentino at tiscali.it  Fri May 29 08:28:08 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri May 29 08:28:21 2009
Subject: [gdal-dev] Strange behaviour of gdal_translate
Message-ID: <20090529142808.01a5d10e@valentinows>

Hi list,
I'm trying to convert the attached virtual file into a regular geo-tiff.

Note that the dataset defines both a geo-transform and GCPs but
they have different projections.

After conversion if I call gdalinfo on the result file I get

$ gdalinfo out.tif
Driver: GTiff/GeoTIFF 
Files:out.tif
Size is 22000, 21890 Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235630016,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (359183.000000000000000,4696272.000000000000000)
Pixel Size = (0.500000000000000,-0.500000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  359183.000, 4696272.000) (359183d 0'0.00"E,4696272d
0'17179869184.00"N) Lower Left  (  359183.000, 4685327.000) (359183d
0'0.00"E,4685327d 0'17179869184.00"N) Upper Right (  370183.000,
4696272.000) (370183d 0'0.00"E,4696272d 0'17179869184.00"N) Lower Right
(  370183.000, 4685327.000) (370183d 0'0.00"E,4685327d
0'17179869184.00"N) Center      (  364683.000, 4690799.500) (364683d
0'0.00"E,4690799d30'17179869184.00"N) Band 1 Block=22000x1 Type=UInt16,
ColorInterp=Gray NoData Value=0



The generated geo-tiff has wrong projection info.

Is this a but? 

Is there some rule to determine which geographic information is
authoritative?


Best regards

-- 
Antonio Valentino
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CSKS1_GEC_B_S2_33_HH_RA_SF_20090507052430_20090507052438_S01_SBI_geo.vrt
Type: application/octet-stream
Size: 2850 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090529/f528cf76/CSKS1_GEC_B_S2_33_HH_RA_SF_20090507052430_20090507052438_S01_SBI_geo.obj
From even.rouault at mines-paris.org  Fri May 29 13:59:57 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 29 14:00:09 2009
Subject: [gdal-dev] GDAL Python Development: Area Selection
In-Reply-To: <b18bbf6f0905282343rc0449f7i3ed0883c7513dc5@mail.gmail.com>
References: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com>
	<200905272135.44255.even.rouault@mines-paris.org>
	<b18bbf6f0905282343rc0449f7i3ed0883c7513dc5@mail.gmail.com>
Message-ID: <200905291959.58879.even.rouault@mines-paris.org>

Pooven,

We clearly miss a specific documentation for the GDAL Python bindings 
(contributions welcome !). The OGR ones have docstring help generated from 
C++ doxygen.

Generally, the Python API is close to the C++ one that is documented on the 
website, but there are a few specific methods like ReadRaster() that are 
specific to the binding. There's also the Javadoc of the Java bindings 
(http://gdal.org/java/) that can be somehow useful, as they share a lot of 
things in common, but expect a few differences too.

A few other potential helpfull pointers :
* Someone brought my attention to the following site, 
http://www.gis.usu.edu/~chrisg/python/, that has very interesting slides and 
exercices about how to use GDAL/OGR in Python.
* The various utilities written in Python, can also serve as exemple : 
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/scripts
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/samples

(Ah, and Frank Warmerdam, "the guy there" answering in the post you refer to, 
is the main author of GDAL ;-) )

Even

Le Friday 29 May 2009 08:43:08 Poovendran Moodley, vous avez ?crit?:
> Hi Even,
>
> I'm really appreciative of your help! And yes, gt[2] = gt[4] = 0 :) Here's
> the code that I've written thus far (for those that are interested --
> hopefully I'm not mistaken in my coding!):
> def select(filename, x1, y1, x2, y2):
>     dataset = gdal.Open( filename, GA_ReadOnly )
>     colStart = int(math.ceil((x1 - gt[0])/gt[1]))
>     rowStart = int(math.ceil((y1 - gt[3])/gt[5]))
>     colEnd = int(math.ceil((x2 - gt[0])/gt[1]))
>     rowEnd = int(math.ceil((y2 - gt[3])/gt[5]))
>     band = dataset.GetRasterBand(1)
>     n = colEnd - colStart + 1
>     colStart = colStart - 1 #Because ReadRaster begins at row 0
>     for k in range(rowStart - 1, rowEnd):
>         scanline = band.ReadRaster(colStart, k, n, 1, n, 1, GDT_Float32)
> ''' reading 1 row at a time within specified window '''
>         tuple_of_floats = struct.unpack('f' * n, scanline)
>         print tuple_of_floats
>
> It took me a while to fully understand how ReadRaster works. I read a post
> in the FWTools newsgroup:
> http://lists.maptools.org/pipermail/fwtools/2005-September/000138.html
> The guy there explained the usage quite well. It's a pity that there isn't
> more documentation readily available. Thank you again for your assistance
> Even! All of the best to you :)
>
> Kind regards
> Pooven
>
> On Wed, May 27, 2009 at 9:35 PM, Even Rouault
>
> <even.rouault@mines-paris.org>wrote:
> > Pooven,
> >
> > You're doing things the right way. GDAL doesn't provide any high-level
> > function to extract a region from a bounding box expressed in projected
> > coordinates. You have to compute the pixel coordinates of the corner of
> > the bounding box yourself by using the inverse of the geotransform matrix
> > returned by the GetGeoTransform() method of the dataset.
> >
> > gt = ds.GetGeoTransform()
> > x_pixel = (x_projected - gt[0]) / gt[1]
> > y_pixel = (y_projected - gt[3]) / gt[5]
> >
> > (provided that your raster doesn't has any rotation or shearing, that is
> > to say that gt[2] = gt[4] = 0)
> >
> > Best regards,
> > Even
> >
> > Le Wednesday 27 May 2009 12:06:10 Poovendran Moodley, vous avez ?crit :
> > > Hi there,
> > >
> > > I want to select only a region of a raster file; that is, suppose I
> > > know the coordinates that form a bounding box around a region, I want
> > > to
> >
> > select
> >
> > > just that region and write it to another file.
> > >
> > > I'm rather new to GDAL and thus far I'm only aware of one way to do
> > > this;
> > >
> > > since I'm using Python:
> > > > scanline = band.ReadRaster( 0, 0, band.XSize, 1, band.XSize, 1,
> > > > GDT_Float32
> > > > <
> >
> > http://www.gdal.org/gdal_8h.html#22e22ce0a55036a96f652765793fb7a4f5cbd2f
> >
> > > >96abffd9ac061fc0dced5cbba> )
> > > >
> > > > I believe that I can specify the window of raster data to read using
> >
> > the
> >
> > > 3rd till 6th input parameters of the above method (with reasonable size
> > > reads untill the entire regions I'm interested in is read).
> > >
> > > Is there some other way this was suppose to be done? The method above
> >
> > will
> >
> > > require me to convert my coordinates into rows and columns (I think)
> >
> > which
> >
> > > is fine... but leaves room for error so I'd like to only rely on GDAL
> > > routines. Can someone please advise? It could very well be that I'm
> >
> > totally
> >
> > > mistaken... I hope this isn't such a bad question...
> > >
> > > Kind regards
> > > Pooven


From hobu.inc at gmail.com  Fri May 29 14:08:05 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri May 29 14:08:14 2009
Subject: [gdal-dev] GDAL Python Development: Area Selection
In-Reply-To: <200905291959.58879.even.rouault@mines-paris.org>
References: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com>
	<200905272135.44255.even.rouault@mines-paris.org>
	<b18bbf6f0905282343rc0449f7i3ed0883c7513dc5@mail.gmail.com>
	<200905291959.58879.even.rouault@mines-paris.org>
Message-ID: <52CD52C5-C2A4-41E4-8D3F-BCA903BE9273@gmail.com>


On May 29, 2009, at 12:59 PM, Even Rouault wrote:
>
> * Someone brought my attention to the following site,
> http://www.gis.usu.edu/~chrisg/python/, that has very interesting  
> slides and
> exercices about how to use GDAL/OGR in Python.

That's awesome!  We need to spread links to that everywhere :)

Great work Chris, if you're listening.

Howard
From even.rouault at mines-paris.org  Fri May 29 14:17:00 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 29 14:17:10 2009
Subject: [gdal-dev] GDAL Python Development: Area Selection
In-Reply-To: <52CD52C5-C2A4-41E4-8D3F-BCA903BE9273@gmail.com>
References: <b18bbf6f0905270306m4b1b88b2k1a567a5a4c6f6654@mail.gmail.com>
	<200905291959.58879.even.rouault@mines-paris.org>
	<52CD52C5-C2A4-41E4-8D3F-BCA903BE9273@gmail.com>
Message-ID: <200905292017.01045.even.rouault@mines-paris.org>

I've added a few days ago the link in the 
http://trac.osgeo.org/gdal/wiki/GdalOgrInPython page (section Tutorial), with 
Chris permission.

Le Friday 29 May 2009 20:08:05 Howard Butler, vous avez ?crit?:
> On May 29, 2009, at 12:59 PM, Even Rouault wrote:
> > * Someone brought my attention to the following site,
> > http://www.gis.usu.edu/~chrisg/python/, that has very interesting
> > slides and
> > exercices about how to use GDAL/OGR in Python.
>
> That's awesome!  We need to spread links to that everywhere :)
>
> Great work Chris, if you're listening.
>
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at mines-paris.org  Fri May 29 14:17:07 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 29 14:17:15 2009
Subject: [gdal-dev] Strange behaviour of gdal_translate
In-Reply-To: <20090529142808.01a5d10e@valentinows>
References: <20090529142808.01a5d10e@valentinows>
Message-ID: <200905292017.07476.even.rouault@mines-paris.org>

Antonio,

The behaviour you get is more or less expected. Generally in GDAL, either you 
have a geotransform with its projection, either you have GCPs with their 
associated projection. But having both at the same time isn't really 
supported. The fact that the VRT seems to accept that is more an accident 
than a feature I think.
As far as GeoTIFF is concerned, it's not a restriction of the driver, as the 
specification clearly doesn't support that. To make it short : you can have 
only one GeoTag that defines the projection, and you can have, either a 
tiepoint and the pixel size, either the geotransform matrix, either a list of 
GCP.  See http://www.remotesensing.org/geotiff/spec/geotiff2.6.html#2.6.1

Even

Le Friday 29 May 2009 14:28:08 Antonio Valentino, vous avez ?crit?:
> Hi list,
> I'm trying to convert the attached virtual file into a regular geo-tiff.
>
> Note that the dataset defines both a geo-transform and GCPs but
> they have different projections.
>
> After conversion if I call gdalinfo on the result file I get
>
> $ gdalinfo out.tif
> Driver: GTiff/GeoTIFF
> Files:out.tif
> Size is 22000, 21890 Coordinate System is:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.2572235630016,
>             AUTHORITY["EPSG","7030"]],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0],
>     UNIT["degree",0.0174532925199433],
>     AUTHORITY["EPSG","4326"]]
> Origin = (359183.000000000000000,4696272.000000000000000)
> Pixel Size = (0.500000000000000,-0.500000000000000)
> Metadata:
>   AREA_OR_POINT=Area
> Image Structure Metadata:
>   INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left  (  359183.000, 4696272.000) (359183d 0'0.00"E,4696272d
> 0'17179869184.00"N) Lower Left  (  359183.000, 4685327.000) (359183d
> 0'0.00"E,4685327d 0'17179869184.00"N) Upper Right (  370183.000,
> 4696272.000) (370183d 0'0.00"E,4696272d 0'17179869184.00"N) Lower Right
> (  370183.000, 4685327.000) (370183d 0'0.00"E,4685327d
> 0'17179869184.00"N) Center      (  364683.000, 4690799.500) (364683d
> 0'0.00"E,4690799d30'17179869184.00"N) Band 1 Block=22000x1 Type=UInt16,
> ColorInterp=Gray NoData Value=0
>
>
>
> The generated geo-tiff has wrong projection info.
>
> Is this a but?
>
> Is there some rule to determine which geographic information is
> authoritative?
>
>
> Best regards


From even.rouault at mines-paris.org  Fri May 29 14:32:30 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 29 14:32:40 2009
Subject: [gdal-dev] non-fully conform output of gdalwarp
In-Reply-To: <200905291211.54261.rigal@rapideye.de>
References: <200905291211.54261.rigal@rapideye.de>
Message-ID: <200905292032.30957.even.rouault@mines-paris.org>

Matthieu,

I can also reproduce it with GDAL 1.6.1, but no longer with GDAL 1.7.0dev. 
Significatn changes have been done in trunk concerning preservation of 
citations in the GeoTIFF driver. The most significant for your use case is 
probably http://trac.osgeo.org/gdal/changeset/15993 that adds Imagine 
citation support. Not sure how other software will like it.

Here's the output with GDAL 1.7.0dev

$ 
gdalwarp -t_srs 'PROJCS["ETRS89_GRS80_3",GEOGCS["LUA_ETRS89",DATUM["D_GRS_1980",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",15.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]' 
byte.tif byte_etrs.tif

$ gdalinfo byte_etrs.tif 
Driver: GTiff/GeoTIFF
Files: byte_etrs.tif
Size is 23, 44
Coordinate System is:
PROJCS["ETRS89_GRS80_3",
    GEOGCS["LUA_ETRS89",
        DATUM["D_GRS_1980",
            SPHEROID["GRS_1980",6378137,298.257222101]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",15],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",3500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (5754460.888622452504933,35335406.682907812297344)
Pixel Size = (999.222226262158188,-999.222226262158188)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( 5754460.889,35335406.683) ( 15d 0'0.00"E, 90d 0'0.00"N)
Lower Left  ( 5754460.889,35291440.905) ( 15d 0'0.00"E, 90d 0'0.00"N)
Upper Right ( 5777443.000,35335406.683) ( 15d 0'0.00"E, 90d 0'0.00"N)
Lower Right ( 5777443.000,35291440.905) ( 15d 0'0.00"E, 90d 0'0.00"N)
Center      ( 5765951.944,35313423.794) ( 15d 0'0.00"E, 90d 0'0.00"N)
Band 1 Block=23x44 Type=Byte, ColorInterp=Gray

$ tiffdump -m 200 byte_etrs.tif
byte_etrs.tif:
Magic: 0x4949 <little-endian> Version: 0x2a
Directory 0: offset 1158 (0x486) next 0 (0)
ImageWidth (256) SHORT (3) 1<23>
ImageLength (257) SHORT (3) 1<44>
BitsPerSample (258) SHORT (3) 1<8>
Compression (259) SHORT (3) 1<1>
Photometric (262) SHORT (3) 1<1>
StripOffsets (273) LONG (4) 1<146>
SamplesPerPixel (277) SHORT (3) 1<1>
RowsPerStrip (278) SHORT (3) 1<44>
StripByteCounts (279) LONG (4) 1<1012>
PlanarConfig (284) SHORT (3) 1<1>
SampleFormat (339) SHORT (3) 1<1>
33550 (0x830e) DOUBLE (12) 3<999.222 999.222 0>
33922 (0x8482) DOUBLE (12) 6<0 0 0 5.75446e+06 3.53354e+07 0>
34735 (0x87af) SHORT (3) 88<1 1 0 20 1024 0 1 1 1025 0 1 1 1026 34737 15 0 
2048 0 1 32767 2049 34737 82 15 2050 0 1 32767 2054 0 1 9102 2056 0 1 32767 
2057 34736 1 5 2059 34736 1 6 2061 34736 1 7 3072 0 1 32767 3074 0 1 32767 
3075 0 1 1 3076 0 1 9001 3080 34736 1 1 3081 34736 1 0 3082 34736 1 3 3083 
34736 1 4 3092 34736 1 2 0 0 0 0>
34736 (0x87b0) DOUBLE (12) 8<0 15 0.9996 3.5e+06 0 6.37814e+06 298.257 0>
34737 (0x87b1) ASCII (2) 98<ETRS89_GRS80_3|GCS Name = LUA_ETRS89|Datum = 
D_GRS_1980|Ellipsoid = GRS_1980|Primem = Greenwich||\0>


Le Friday 29 May 2009 12:11:53 Matthieu Rigal, vous avez ?crit?:
> 'PROJCS["ETRS89_GRS80_3",GEOGCS["LUA_ETRS89",DATUM["D_GRS_1980",SPHEROID["G
>RS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0
>174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting
>",3500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",15
>.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],UNI
>T["Meter",1.0]]' 8_WGS84.tif 8_ETRS89.tif


From antonio.valentino at tiscali.it  Fri May 29 16:53:04 2009
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri May 29 16:53:09 2009
Subject: [gdal-dev] Strange behaviour of gdal_translate
In-Reply-To: <200905292017.07476.even.rouault@mines-paris.org>
References: <20090529142808.01a5d10e@valentinows>
	<200905292017.07476.even.rouault@mines-paris.org>
Message-ID: <20090529225304.41b0c402@tiscali.it>

Il giorno Fri, 29 May 2009 20:17:07 +0200
Even Rouault <even.rouault@mines-paris.org> ha scritto:

> Antonio,
> 
> The behaviour you get is more or less expected. Generally in GDAL,
> either you have a geotransform with its projection, either you have
> GCPs with their associated projection. But having both at the same
> time isn't really supported. The fact that the VRT seems to accept
> that is more an accident than a feature I think.
> As far as GeoTIFF is concerned, it's not a restriction of the driver,
> as the specification clearly doesn't support that. To make it short :
> you can have only one GeoTag that defines the projection, and you can
> have, either a tiepoint and the pixel size, either the geotransform
> matrix, either a list of GCP.  See
> http://www.remotesensing.org/geotiff/spec/geotiff2.6.html#2.6.1
> 
> Even

OK, thanks Even.

-- 
Antonio Valentino
From mitchelljj98 at gmail.com  Sat May 30 09:12:55 2009
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Sat May 30 09:12:57 2009
Subject: [gdal-dev] converting epsg:4326 coordinates to spherical mercator
	(google maps) epsg:900913
Message-ID: <fa2ac0580905300612lfaaa1f2p5b0301b4302f79d0@mail.gmail.com>

Hi,
If I have a lon,lat decimal degree epsg:4326 coordinate how do I convert it
to spherical mercator (google maps) epsg:900913?

Thanks,

-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090530/425218a2/attachment.html
From jrepetto at free.fr  Sat May 30 13:32:58 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Sat May 30 13:33:07 2009
Subject: [gdal-dev] converting epsg:4326 coordinates to spherical mercator
	(google maps) epsg:900913
In-Reply-To: <fa2ac0580905300612lfaaa1f2p5b0301b4302f79d0@mail.gmail.com>
References: <fa2ac0580905300612lfaaa1f2p5b0301b4302f79d0@mail.gmail.com>
Message-ID: <4A216DCA.8020601@free.fr>

John Mitchell a ?crit :
> Hi,
> 
> If I have a lon,lat decimal degree epsg:4326 coordinate how do I convert 
> it to spherical mercator (google maps) epsg:900913?

epsg:900913 is obsolete. The correct EPSG code is 3785.

You can use cs2cs from the PROJ4 project to do the conversion.

HTH,
Jean-Claude
From rkgeorge at cadmaps.com  Sat May 30 18:28:26 2009
From: rkgeorge at cadmaps.com (Randy George)
Date: Sat May 30 18:35:36 2009
Subject: FW: [gdal-dev] converting epsg:4326 coordinates to spherical
	mercator	(google maps) epsg:900913
Message-ID: <010001c9e175$f3cb73f0$db625bd0$@com>

I think EPSG changed their minds last Feb

This appears to be the new one: 
http://www.epsg-registry.org/export.htm?gml=urn:ogc:def:crs:EPSG::3857 

EPSG:3785 shows isdeprecated true since Feb
http://www.epsg-registry.org/export.htm?gml=urn:ogc:def:crs:EPSG::3785 

Of course subject to further notice from EPSG? I don't know how many
projects reflect the change though.

This is pretty close:
        private Point Mercator(double lon, double lat)
        {
            /* spherical mercator for Google, VE, Yahoo etc
             * epsg:900913 R= 6378137 
             * x = longitude
             * y= R*ln(tan(pi/4 + latitude/2)
             */
            double x = 6378137.0 * Math.PI / 180 * lon;
            double y = 6378137.0 *
Math.Log(Math.Tan(Math.PI/180*(45+lat/2.0)));
            return new Point(x,y);
        }

randy

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jean-Claude REPETTO
Sent: Saturday, May 30, 2009 11:33 AM
To: gdal-dev@lists.osgeo.org
Cc: John Mitchell
Subject: Re: [gdal-dev] converting epsg:4326 coordinates to spherical
mercator (google maps) epsg:900913

John Mitchell a ?crit :
> Hi,
> 
> If I have a lon,lat decimal degree epsg:4326 coordinate how do I convert 
> it to spherical mercator (google maps) epsg:900913?

epsg:900913 is obsolete. The correct EPSG code is 3785.

You can use cs2cs from the PROJ4 project to do the conversion.

HTH,
Jean-Claude
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jorsion at gmail.com  Sat May 30 21:47:46 2009
From: jorsion at gmail.com (jor sion)
Date: Sat May 30 21:47:48 2009
Subject: [gdal-dev] 8 bit or 24 bit
Message-ID: <8c2bdf730905301847o3b9735f6k3b19e0416d6cc835@mail.gmail.com>

Hi,

How to judge an image in hdf files is 8 bit or 24 bit?

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090531/b90c9cc5/attachment.html
From jorge.arevalo at gmail.com  Sun May 31 05:33:50 2009
From: jorge.arevalo at gmail.com (=?UTF-8?Q?Jorge_Ar=C3=A9valo?=)
Date: Sun May 31 05:34:13 2009
Subject: [gdal-dev] WKT Raster Driver weekly report
In-Reply-To: <cb4457700905291853v33d29151ya58f73645e62e0c4@mail.gmail.com>
References: <cb4457700905291853v33d29151ya58f73645e62e0c4@mail.gmail.com>
Message-ID: <cb4457700905310233kf86a57y6f2aedbbfa382ab0@mail.gmail.com>

Hello,

My name is Jorge Ar?valo, and I'm working in the implementation of a
read-only gdal driver for WKT Raster extension to PostGIS.

I've created a blog for this project: http://www.gis4free.org/blog/

My first report, in this blog, is
http://www.gis4free.org/blog/2009/05/30/gsoc-09-weekly-report-1-2305-2905/

And you can follow the project on this gdal trac page
http://trac.osgeo.org/gdal/wiki/WKTRasterDriver


Best regards and good coding!
Jorge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090531/c566c296/attachment.html
From warmerdam at pobox.com  Sun May 31 14:07:29 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun May 31 14:07:44 2009
Subject: [gdal-dev] 8 bit or 24 bit
In-Reply-To: <8c2bdf730905301847o3b9735f6k3b19e0416d6cc835@mail.gmail.com>
References: <8c2bdf730905301847o3b9735f6k3b19e0416d6cc835@mail.gmail.com>
Message-ID: <4A22C761.50003@pobox.com>

jor sion wrote:
> Hi,
>  
> How to judge an image in hdf files is 8 bit or 24 bit?

Jor,

Check the number of bands with GDALDataset::GetRasterCount().  If this is
three, then it is likely what you call 24bit,and if it is 1 then it is
likely 8bit.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From edomazlicky at gmail.com  Sun May 31 16:47:38 2009
From: edomazlicky at gmail.com (edomazlicky)
Date: Sun May 31 16:47:40 2009
Subject: [Gdal-dev] Warping a warped file C# bindings
Message-ID: <1243802858650-3003215.post@n2.nabble.com>


I am trying to warp a NAD27 UTM file to Google Mercator 900913. My
understanding is that for this to happen you have to first warp the file to
WGS84 and then to 900913. I have tried going straight from NAD27->900913 and
I get projection errors similar to if you plotted a WGS84 coordinate on a
NAD27 map. So to accomplish this two-step warp I have been trying to do
something kind of like this:

Dim oWGS84 As New OSGeo.OSR.SpatialReference("")
' WGS84 UTM Zone 10
oWGS84.ImportFromEPSG(32610)
Dim wgs84_wkt As String = ""
oWGS84.ExportToPrettyWkt(wgs84_wkt, 0)
InterMed = OSGeo.GDAL.Gdal.AutoCreateWarpedVRT(SrcGdalDataSet, src_wkt,
wgs84_wkt, eReSample, 0.125)
GdalDataSet = OSGeo.GDAL.Gdal.AutoCreateWarpedVRT(InterMed, wgs84_wkt,
dst_wkt, eReSample, 0.125)

Where src_wkt contains the NAD27 WKT and dst_wkt contains the 900913 WKT.
This doesn't work- I am getting the same results I get if I try to go
straight from NAD27->900913. However if instead I warp the file in gdal_warp
first to WGS84 and then go from that to 900913 it works fine. Is there
anyway to warp these files without making a new file fist? I would like for
it all to be done in memory without messing with temporary files or calling
gdal_warp externally.
-- 
View this message in context: http://n2.nabble.com/Warping-a-warped-file-C--bindings-tp3003215p3003215.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

