From belasalwa at yahoo.fr  Wed Apr  1 04:46:05 2009
From: belasalwa at yahoo.fr (belaqziz salwa)
Date: Wed Apr  1 04:46:08 2009
Subject: [gdal-dev] xml file for accessing to a wcs server
Message-ID: <774985.69759.qm@web26004.mail.ukl.yahoo.com>

Hi Frank,

this is my WCS service description file: 

-------------------------------------------------

<WCS_GDAL>
?
<ServiceURL>http://localhost:81/cgi-bin/mapserv.exe?map=NDVI.map&amp;SERVICE=WCS&amp;CRS=EPSG:26191&amp;</ServiceURL>
? <CoverageName>NDVI</CoverageName>
? <supportedCRSs>EPSG:26191</supportedCRSs>
? <PreferredFormat>gtiff</PreferredFormat>
? <GetCoverageExtra>&amp;BBOX=279728,114867,296168,125307&amp;time=2002-11-07</GetCoverageExtra>
? <Version>1.0.0</Version>
? <BlockXSize>551</BlockXSize>
? <BlockYSize>351</BlockYSize>
? <BandCount>1</BandCount>
?
 <BandIdentifier>bands</BandIdentifier>
? <BandType>Byte</BandType>
</WCS_GDAL>
-----------------------------------------------

 and the Mapfile :

-------------------------------------

MAP
? NAME wcs
? STATUS ON
? SHAPEPATH "C:/PROJ/R3"
? INTERLACE ON
? TRANSPARENT ON
? UNITS METERS? 
? DEBUG ON 

PROJECTION
??? "init=epsg:26191"
END

LAYER
??? NAME "NDVI_index"
??? STATUS OFF
??? #DATA DATA/NDVI/NDVI_9i2e_R3
??? DATA ndvi.shp
??? FILTERITEM 'TIME'
??? FILTER '%time%' 
??? UNITS
 METERS
??? TRANSFORM TRUE
??? DEBUG ON
??? TYPE tileindex
??? PROJECTION
??? ? "init=epsg:26191"
??? END
??? DUMP TRUE
END

LAYER
??? NAME "NDVI"
??? STATUS OFF
??? UNITS METERS
??? TRANSFORM TRUE
??? DEBUG ON
??? TYPE RASTER 
??? TILEINDEX "NDVI_index"
??? PROJECTION
??? ? "init=epsg:26191"
??? END
??? DUMP TRUE
?? 
??? METADATA
????? "wcs_name"??? "NDVI"
????? "wcs_label"?? "NDVI R3"
??? ? "wcs_abstract" "blabla"
??? ? "wcs_description"
 "blabla"
??? ? "wcs_bandcount" "1"
??? ? "wcs_rangeset_name"?? "bands"?????????????? 
????? "wcs_rangeset_label"? "bands"???? 
????? "wcs_rangeset_axes" "bands"??? ? 
??? ? "wcs_formats" "gtiff" 
????? "wcs_srs"?? "EPSG:26191"
????? "wcs_extent" "279728 114867 296168 125307"
????? "wcs_resolution" "30 30"? 
??? ? "wcs_timeitem" "_date"
???
? "wcs_timeposition"
'2002-09-01,2002-11-07,2002-12-25,2003-01-26,2003-02-11,2003-02-27,2003-03-31,2003-04-16,2003-05-18,2003-08-31'
???
 END
END

END

----------------------------------------------------------

Thanks for help,

Best regards,


?

--- En date de?: Mer 1.4.09, belaqziz salwa <belasalwa@yahoo.fr> a ?crit?:

De: belaqziz salwa <belasalwa@yahoo.fr>
Objet: [gdal-dev] xml file for accessing to a wcs server
?: gdal-dev@lists.osgeo.org
Date: Mercredi 1 Avril 2009, 1h05

Hi,

for Accessing to a WCS server i created a local service description xml file,but when i
tested the gdal_translate command, i have the following error:

C:\Inetpub\wps>gdal_translate -of GTIFF wcs.xml wcs.tif -srcwin 0 0 547 347
Input file size is 548, 348
0ERROR 1: Returned tile does not match expected band count.
Open GDAL Datasets:
? 1 N GTiff?????? -1 547x347x3 /vsimem/wcs/00E2F5F0/wcsresult.dat

I also tried to re-compile gdal, but i have error :

??????? cd apps
??????? nmake /nologo /f makefile.vc
??????? cl /nologo /MD /EHsc /Ox /W3 /D_CRT_SECURE_NO_DEPRECATE /D_CRT_NONSTDC_NO_DEPRECATE /DNDEBUG -I..\port -I..\ogr -I..\gcore? -I..\alg
 -I..\ogr\ogrsf_frmts?? -I..\frmts -I..\alg -I..\ogr -I..\ogr\ogrsf_frmts gdalinfo.c? ..\gdal_i.lib /link
gdalinfo.c
gdalinfo.obj : error LNK2019: unresolved external symbol _GDALAllRegister@0 referenced in function _main
gdalinfo.exe : fatal error LNK1120: 1 unresolved externals
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio 8\VC\BIN\cl.EXE"' : return code '0x2'


thanks for your help

Salwa.





      
-----La pi?ce jointe associ?e suit-----

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/eb1b4c4d/attachment.html
From wollez at gmx.net  Wed Apr  1 05:15:57 2009
From: wollez at gmx.net (WolfgangZ)
Date: Wed Apr  1 05:16:06 2009
Subject: [gdal-dev] Re: removing of transparency possible?
In-Reply-To: <49D2BFAF.2060004@pobox.com>
References: <gqu471$9fl$1@ger.gmane.org> <49D2BFAF.2060004@pobox.com>
Message-ID: <gqvbc9$4cp$1@ger.gmane.org>

Frank Warmerdam schrieb:
> 
> Are you referring to an alpha band?  If so, you could select a subset of
> bands with gdal_translate using the -b flag.
> 
> 
> eg.
> 
> gdal_translate -b 1 -b 2 -b 3 rgba.tif rgb.jpg
> 
> Best regards,

Hello Frank,

thanks for your help, this worked! Sometimes the solution is too simple.

Wolfgang

From nikos.alexandris at felis.uni-freiburg.de  Wed Apr  1 05:37:38 2009
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Apr  1 05:37:50 2009
Subject: [gdal-dev] The latest ISPRS-SC Newsletter
Message-ID: <1238578658.6748.11.camel@vertical>

Sort of off-topic the Open-Source article this time... or maybe not!? 

Link to the Newsletter:
http://isprs-studentconsortium.org/assets/files/Newsletter_Vo3_No1_March.pdf

Link to the full "Open Source" article:
http://isprs-studentconsortium.org/assets/files/Turn_the_World.pdf

(
Apologies especially to gdal-dev members since it's not directly related
with the list. Well, maybe it is a bit...
)

Kindest regards, Nikos
---

P.S. The ISPRS-SC Newsletter team will be happy to receive more ideas
and contributions concerning Open Source Geospatial Applications.

If you are a student, excited about GIS, Remote Sensing and Open Source,
then you do know that the "Open Source" way of making software (=the
real way) is a big wave getting bigger and bigger... Maybe it's time to
ride on it :-)

The community needs YOU. The Newsletter needs YOU. Contact me if you are
interested for the Newsletter.

From wroberts at csir.co.za  Wed Apr  1 06:09:54 2009
From: wroberts at csir.co.za (Wesley Roberts)
Date: Wed Apr  1 06:10:37 2009
Subject: [gdal-dev] The latest ISPRS-SC Newsletter
In-Reply-To: <1238578658.6748.11.camel@vertical>
References: <1238578658.6748.11.camel@vertical>
Message-ID: <49D35992.8E3B.0073.0@csir.co.za>

Hi Nikos,

Nice article, I like the idea of rotating the earth map for a new perspective. It would look even more strange if you added the vectors defining countries and labeling them with country names.

Perhaps an idea for the next article?

Cheers,
Wesley  
 
>>> Nikos Alexandris <nikos.alexandris@felis.uni-freiburg.de> 04/01/09 11:37 AM >>> 
Sort of off-topic the Open-Source article this time... or maybe not!? 

Link to the Newsletter:
http://isprs-studentconsortium.org/assets/files/Newsletter_Vo3_No1_March.pdf

Link to the full "Open Source" article:
http://isprs-studentconsortium.org/assets/files/Turn_the_World.pdf

(
Apologies especially to gdal-dev members since it's not directly related
with the list. Well, maybe it is a bit...
)

Kindest regards, Nikos
---

P.S. The ISPRS-SC Newsletter team will be happy to receive more ideas
and contributions concerning Open Source Geospatial Applications.

If you are a student, excited about GIS, Remote Sensing and Open Source,
then you do know that the "Open Source" way of making software (=the
real way) is a big wave getting bigger and bigger... Maybe it's time to
ride on it :-)

The community needs YOU. The Newsletter needs YOU. Contact me if you are
interested for the Newsletter.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
This message is subject to the CSIR's copyright terms and conditions, e-mail legal notice, and implemented Open Document Format (ODF) standard. 
The full disclaimer details can be found at http://www.csir.co.za/disclaimer.html.

This message has been scanned for viruses and dangerous content by MailScanner, 
and is believed to be clean.  MailScanner thanks Transtec Computers for their support.

From mateusz at loskot.net  Wed Apr  1 06:23:31 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Apr  1 06:23:38 2009
Subject: [gdal-dev] in memory KML
In-Reply-To: <49D253AF.3060505@pobox.com>
References: <C482FF98AE985A47B8C982FD429C9E3402D563C6@daytonmsg2k3.AERO.BALL.COM>	<C482FF98AE985A47B8C982FD429C9E3402D563CD@daytonmsg2k3.AERO.BALL.COM>
	<49D253AF.3060505@pobox.com>
Message-ID: <49D340A3.10008@loskot.net>

Frank Warmerdam wrote:
> Clay, Bruce wrote:
>> After a bit more digging I am not sure I asked the right question.
>>
>>  
>>
>> What I want to do is read feature information from a shapefile or 
>> other data source and get a string that contains the feature 
>> information encoded in KML that I can pass directly into Google 
>> Earth.  I know I can do this operation is I open the shapefile write 
>> the KML data to disk then open the kml file up with fopen then read it 
>> into memory and send it t Google Earth but I would like to save the 
>> disk write the read operation.
>>
>>  
>>
>> Any thoughts?
> 
> Bruce,
> 
> I've skimmed the KML driver and there is no sign that it uses the VSI*L
> API for file access, so I don't see any way you can write results to a
> memory buffer without substantial recoding in the kml driver.


Looks like a candidate for proposal for the GSoC 2009

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From belasalwa at yahoo.fr  Wed Apr  1 06:36:47 2009
From: belasalwa at yahoo.fr (salwa)
Date: Wed Apr  1 06:36:48 2009
Subject: [Gdal-dev] xml file for accessing to a wcs server
In-Reply-To: <49D2BCF0.7050807@pobox.com>
References: <388993.72243.qm@web26001.mail.ukl.yahoo.com>
	<49D2BCF0.7050807@pobox.com>
Message-ID: <1238582207653-2568314.post@n2.nabble.com>


Hi Frank,

this is my WCS service description file:

-------------------------------------------------

<WCS_GDAL>
  <ServiceURL>http://localhost:81/cgi-bin/mapserv.exe?map=NDVI.map&amp;SERVICE=WCS&amp;CRS=EPSG:26191&amp;</ServiceURL>
  <CoverageName>NDVI</CoverageName>
  <supportedCRSs>EPSG:26191</supportedCRSs>
  <PreferredFormat>gtiff</PreferredFormat>
  <GetCoverageExtra>&amp;BBOX=279728,114867,296168,125307&amp;time=2002-11-07</GetCoverageExtra>
  <Version>1.0.0</Version>
  <BlockXSize>551</BlockXSize>
  <BlockYSize>351</BlockYSize>
  <BandCount>1</BandCount>
  <BandIdentifier>bands</BandIdentifier>
  <BandType>Byte</BandType>
</WCS_GDAL>
-----------------------------------------------

and the Mapfile :

-------------------------------------

MAP
  NAME wcs
  STATUS ON
  SHAPEPATH "C:/PROJ/R3"
  INTERLACE ON
  TRANSPARENT ON
  UNITS METERS 
  DEBUG ON

PROJECTION
    "init=epsg:26191"
END

LAYER
    NAME "NDVI_index"
    STATUS OFF
    #DATA DATA/NDVI/NDVI_9i2e_R3
    DATA ndvi.shp
    FILTERITEM 'TIME'
    FILTER '%time%'
    UNITS METERS
    TRANSFORM TRUE
    DEBUG ON
    TYPE tileindex
    PROJECTION
      "init=epsg:26191"
    END
    DUMP TRUE
END

LAYER
    NAME "NDVI"
    STATUS OFF
    UNITS METERS
    TRANSFORM TRUE
    DEBUG ON
    TYPE RASTER
    TILEINDEX "NDVI_index"
    PROJECTION
      "init=epsg:26191"
    END
    DUMP TRUE
  
    METADATA
      "wcs_name"    "NDVI"
      "wcs_label"   "NDVI R3"
      "wcs_abstract" "blabla"
      "wcs_description" "blabla"
      "wcs_bandcount" "1"
      "wcs_rangeset_name"   "bands"              
      "wcs_rangeset_label"  "bands"    
      "wcs_rangeset_axes" "bands"     
      "wcs_formats" "gtiff"
      "wcs_srs"   "EPSG:26191"
      "wcs_extent" "279728 114867 296168 125307"
      "wcs_resolution" "30 30" 
      "wcs_timeitem" "_date"
      "wcs_timeposition" '2002-09-01,2002-11-07,2002-12-25,2003-01-26,2003-02-11,2003-02-27,2003-03-31,2003-04-16,2003-05-18,2003-08-31'
    END
END

END

----------------------------------------------------------

Thanks for help,

Best regards,


belaqziz salwa wrote:
> Hi,
> 
> for Accessing to a WCS server i created a local service description xml 
> file,but when i
> tested the gdal_translate command, i have the following error:
> 
> C:\Inetpub\wps>gdal_translate -of GTIFF wcs.xml wcs.tif -srcwin 0 0 547 347
> Input file size is 548, 348
> 0ERROR 1: Returned tile does not match expected band count.
> Open GDAL Datasets:
>   1 N GTiff       -1 547x347x3 /vsimem/wcs/00E2F5F0/wcsresult.dat

Salwa,

It would be helpful if you could provide the WCS service
description file, assuming the WCS service is public.

> I also tried to re-compile gdal, but i have error :
> 
>         cd apps
>         nmake /nologo /f makefile.vc
>         cl /nologo /MD /EHsc /Ox /W3 /D_CRT_SECURE_NO_DEPRECATE 
> /D_CRT_NONSTDC_NO_DEPRECATE /DNDEBUG -I..\port -I..\ogr -I..\gcore  
> -I..\alg -I..\ogr\ogrsf_frmts   -I..\frmts -I..\alg -I..\ogr 
> -I..\ogr\ogrsf_frmts gdalinfo.c  ..\gdal_i.lib /link
> gdalinfo.c
> gdalinfo.obj : error LNK2019: unresolved external symbol 
> _GDALAllRegister@0 referenced in function _main
> gdalinfo.exe : fatal error LNK1120: 1 unresolved externals
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio 
> 8\VC\BIN\cl.EXE"' : return code '0x2'

That is odd.  I have no opinion on why it is happening.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
View this message in context: http://n2.nabble.com/xml-file-for-accessing-to-a-wcs-server-tp2566259p2568314.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From belasalwa at yahoo.fr  Wed Apr  1 06:38:19 2009
From: belasalwa at yahoo.fr (salwa)
Date: Wed Apr  1 06:38:21 2009
Subject: [Gdal-dev] xml file for accessing to a wcs server
In-Reply-To: <49D2BCF0.7050807@pobox.com>
References: <388993.72243.qm@web26001.mail.ukl.yahoo.com>
	<49D2BCF0.7050807@pobox.com>
Message-ID: <1238582299657-2568319.post@n2.nabble.com>


Hi Frank,

this is my WCS service description file:

-------------------------------------------------

<WCS_GDAL>
  <ServiceURL>http://localhost:81/cgi-bin/mapserv.exe?map=NDVI.map&amp;SERVICE=WCS&amp;CRS=EPSG:26191&amp;</ServiceURL>
  <CoverageName>NDVI</CoverageName>
  <supportedCRSs>EPSG:26191</supportedCRSs>
  <PreferredFormat>gtiff</PreferredFormat>
  <GetCoverageExtra>&amp;BBOX=279728,114867,296168,125307&amp;time=2002-11-07</GetCoverageExtra>
  <Version>1.0.0</Version>
  <BlockXSize>551</BlockXSize>
  <BlockYSize>351</BlockYSize>
  <BandCount>1</BandCount>
  <BandIdentifier>bands</BandIdentifier>
  <BandType>Byte</BandType>
</WCS_GDAL>
-----------------------------------------------

and the Mapfile :

-------------------------------------

MAP
  NAME wcs
  STATUS ON
  SHAPEPATH "C:/PROJ/R3"
  INTERLACE ON
  TRANSPARENT ON
  UNITS METERS 
  DEBUG ON

PROJECTION
    "init=epsg:26191"
END

LAYER
    NAME "NDVI_index"
    STATUS OFF
    #DATA DATA/NDVI/NDVI_9i2e_R3
    DATA ndvi.shp
    FILTERITEM 'TIME'
    FILTER '%time%'
    UNITS METERS
    TRANSFORM TRUE
    DEBUG ON
    TYPE tileindex
    PROJECTION
      "init=epsg:26191"
    END
    DUMP TRUE
END

LAYER
    NAME "NDVI"
    STATUS OFF
    UNITS METERS
    TRANSFORM TRUE
    DEBUG ON
    TYPE RASTER
    TILEINDEX "NDVI_index"
    PROJECTION
      "init=epsg:26191"
    END
    DUMP TRUE
  
    METADATA
      "wcs_name"    "NDVI"
      "wcs_label"   "NDVI R3"
      "wcs_abstract" "blabla"
      "wcs_description" "blabla"
      "wcs_bandcount" "1"
      "wcs_rangeset_name"   "bands"              
      "wcs_rangeset_label"  "bands"    
      "wcs_rangeset_axes" "bands"     
      "wcs_formats" "gtiff"
      "wcs_srs"   "EPSG:26191"
      "wcs_extent" "279728 114867 296168 125307"
      "wcs_resolution" "30 30" 
      "wcs_timeitem" "_date"
      "wcs_timeposition" '2002-09-01,2002-11-07,2002-12-25,2003-01-26,2003-02-11,2003-02-27,2003-03-31,2003-04-16,2003-05-18,2003-08-31'
    END
END

END

----------------------------------------------------------

Thanks for help,

Best regards,

-- 
View this message in context: http://n2.nabble.com/xml-file-for-accessing-to-a-wcs-server-tp2566259p2568319.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From klokan at klokan.cz  Wed Apr  1 07:57:26 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Wed Apr  1 08:04:23 2009
Subject: [gdal-dev] help with resampling via python
In-Reply-To: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
References: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
Message-ID: <6e41d95b0904010457t321f9b74nab47d365b9f65b31@mail.gmail.com>

Hi Chris,

You have two options in GDAL API for resampling via Python:

gdal.RegenerateOverview() with 'average' and 'mode' algorithms.
and
gdal.ReprojectImage() with 'bilinear','cubic','cubicspline' and
'lanczos' algorithms.

Example of such functionality is in gdal2tiles.py in function
GDAL2Tiles.scale_query_to_tile():
http://code.google.com/p/maptiler/source/browse/trunk/maptiler/gdal2tiles.py#1433

I am resampling in memory (because I am working only with small tiles
with usual size 256x256px):

mem_drv = gdal.GetDriverByName( 'MEM' )
target = mem_drv.Create('', outputXsize, outputYsize, bands)

I think gdal.ReprojectImage() would be able to rescale also into VRT dataset.

Another choice is to create copy into the VRT dataset and change the
target raster size in XML attributes manually in the text.
In that case the average algorithm in VRT is exposed by the
<AveragedSource> tag...

Best,

Klokan

2009/4/1 Chris Somerlot <csomerlot@gmail.com>:
> Having trouble figuring out how to resample an image to a different?cell
> size from python. I looked over the VRT driver page and have been?trying to
> get this to work:
>
> from osgeo import gdal
>
> gdal.AllRegister()
>
> src = gdal.Open('DOQ_test.TIF')
> drv = gdal.GetDriverByName('VRT')
> dst = drv.CreateCopy("", src, 0)
>
> dst.RasterXSize = '125'
>
> But it seems the cell size in the datasets and the bands are read?only? Is
> there any programmatic way to do this?
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From jgomezdans at gmail.com  Wed Apr  1 08:07:36 2009
From: jgomezdans at gmail.com (Jose =?utf-8?q?G=C3=B3mez-Dans?=)
Date: Wed Apr  1 08:07:37 2009
Subject: [gdal-dev] help with resampling via python
In-Reply-To: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
References: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
Message-ID: <200904011307.36722.jgomezdans@gmail.com>

Hi,

On Wednesday 01 April 2009 00:47:50 Chris Somerlot wrote:
> Having trouble figuring out how to resample an image to a different cell
> size from python. I looked over the VRT driver page and have been trying to
> get this to work:

I do this by reading in the data, and using numpy/scipy to calculate values of 
the new raster data. 

Jose
-- 
RSU ? Dept. of Geography ? University College ? Gower St, London WC1E 6BT UK
EMM ? Dept. of Geography ? King's College ?  Strand, London WC2R 2LS UK
From klokan at klokan.cz  Wed Apr  1 08:09:56 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Wed Apr  1 08:10:00 2009
Subject: [gdal-dev] gdal2tiles strangeness
In-Reply-To: <781bff30903311657n7f29d083xd7c54aa0abed3a54@mail.gmail.com>
References: <781bff30903310937t4a9b6347hef2b27cbe1ca18d6@mail.gmail.com>
	<6e41d95b0903311335k7074f73v6e5314ddb7215065@mail.gmail.com>
	<781bff30903311657n7f29d083xd7c54aa0abed3a54@mail.gmail.com>
Message-ID: <6e41d95b0904010509u3113e52ey7fc5e0cdb6ecc0d5@mail.gmail.com>

Mano,

> Thanks for the pointer. So it looks like, right now, there's a bug in
> gdal2tiles, according to ?Jesse? Any news on when that might be fixed?

Just use this gdal2tiles.py:
http://maptiler.googlecode.com/svn/trunk/maptiler/gdal2tiles.py

The issue he is referring is fixed in MapTiler SVN:
http://code.google.com/p/maptiler/issues/detail?id=9
Commited in maptiler SVN in r17 on Mar 20, 2009.

I am proposing to fix all known bugs during this summer as part of
Google Summer of Code project, and also implement support for OGC WMTS
standard, publish a stable version of MapTiler
(http://www.maptiler.org/) and synchronize the code with GDAL SVN.

Klokan

>
> Mano
>
> 2009/3/31 Klokan Petr P?idal <klokan@klokan.cz>:
>> Mano,
>>
>> If you would like to have both Google Maps and Google Earth
>> presentation for a global map then you must generate two tile sets,
>> because Google Maps supports only Mercator tiles (EPSG:900913) and
>> Google Earth only geodetic (EPSG:4326).
>>
>> GDAL2Tiles has as a default tile profile 'mercator', it means that it
>> will warp your input into Spherical Mercator internally.
>> To create tiles and KML for Google Earth for your EPSG:4326 input data
>> you should use -p "raster".
>>
>> From the "gdal2tiles --help":
>>
>> -k, --force-kml ? ? Generate KML for Google Earth - default for 'geodetic'
>> ? ? ? ? ? ? ? ? ? ? ? ?profile and 'raster' in EPSG:4326. For a dataset with
>> ? ? ? ? ? ? ? ? ? ? ? ?different projection use with caution!
>>
>> Detailed description of recommended step by step usage of gdal2tiles
>> for global maps was posted by Jesse Varner
>> from CIRES & NOAA/NGDC, who used gdal2tiles for official presentation
>> of Global magnetic anomaly map EMAG2 (for Google Maps/Earth) at:
>> http://ngdc.noaa.gov/geomag/data/Google_Maps/EMAG2/index.html
>>
>> His post is here:
>> http://groups.google.com/group/maptiler/msg/fe105e27a62711e4
>>
>> Best regards,
>>
>> Klokan
>>
>> On Tue, Mar 31, 2009 at 6:37 PM, Mano Marks <mmarks@google.com> wrote:
>>> I'm getting started with gdal2tiles, and I'm getting strange results.
>>>
>>> I downloaded a blue marble jpg from NASA:
>>> http://www.nasa.gov/vision/earth/features/blue_marble.html
>>>
>>> And I ran the following command lines:
>>>
>>> gdal_translate -of VRT -a_srs EPSG:4326 -gcp 0 0 -180 90 -gcp 21600 0
>>> 180 90 -gcp 21600 10800 180 -90 world_200401.jpg bluemarble1.vrt
>>>
>>> gdalwarp -of VRT -t_srs EPSG:4326 bluemarble1.vrt bluemarble2.vrt
>>>
>>> gdal2tiles -k bluemarble2.vrt
>>>
>>> Of course, the last step took awhile.
>>>
>>> The Google Maps and OpenLayers output was fine. However, the KML had
>>> some odd results. When loaded directly, it looked fine, but when I
>>> zoomed out, it appeared that what was the equivalent of zoom 0 and 1
>>> the images retain a Mercator projection. Is this a known issue, or did
>>> I do something wrong?
>>>
>>> --
>>> Mano Marks
>>> Geo Developer Advocate
>>> Google, Inc.
>>> mmarks@google.com
>>> http://twitter.com/ManoMarks
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> http://blog.klokan.cz/
>> http://www.maptiler.org/
>> http://www.oldmapsonline.org/
>>
>
>
>
> --
> Mano Marks
> Geo Developer Advocate
> Google, Inc.
> mmarks@google.com
> http://twitter.com/ManoMarks
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From meenu.monu at gmail.com  Wed Apr  1 08:45:47 2009
From: meenu.monu at gmail.com (meenu monu)
Date: Wed Apr  1 08:45:50 2009
Subject: [gdal-dev] mapserver c#mapscript with mapinfo data folder
Message-ID: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>

dear friend

i created one mapserver website using vs2005 c# mapscript ...gis data is
based on some sample data available in net....now everything is working
fine...now the mapfile is "c:\data\gisdata.map"...now my requirement is i
have a data folder which is done based on mapinfo professional...i want to
call that data folder from visual studio instaed of gisdata.map file...how
it is possible...can u give me step by step instructions to do this??

with regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/723ab36b/attachment.html
From klokan at klokan.cz  Wed Apr  1 08:52:31 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Wed Apr  1 08:52:33 2009
Subject: [gdal-dev] using gcp's without giving coordinates
In-Reply-To: <5c218180903301345l7fc1f8dco46b8b9d2fe1c0926@mail.gmail.com>
References: <5c218180903301345l7fc1f8dco46b8b9d2fe1c0926@mail.gmail.com>
Message-ID: <6e41d95b0904010552r4488bf15r98fd94323f3939a9@mail.gmail.com>

Hi,

I am not familiar with OziExplorer Map files, but I have seen a
project trying to implement what you need, maybe you can reuse it (and
probably improve it and add support of different projections):

http://ozi2geotiff.svn.sourceforge.net/viewvc/ozi2geotiff/trunk/ozi2geotiff.py?view=markup

I guess you would like to have affine transformation georeference from
your GCPs points in your example with gdal_translate.
Then you should either warp your raster with gdalwarp utility or use a
tool like gcps2wld.py to calculate a best fitting World file and keep
raster as it is.

Klokan

P.S.
A standalone application for World file generation then you can use
independently on GDAL is:
http://blog.oldmapsonline.org/2008/06/georeferencing-images-by-control-points.html
or very simple python script doing the calculation as well:
http://code.google.com/p/oldmapsonline/source/browse/trunk/gcps2wld/python-no-dep/gcps2wld.py

2009/3/30 erik <whatevar89@gmail.com>:
> Hello,
>
> I'm trying to convert a map from OziExplorer Map file fromat to Geotiff.
> FOr this i'm using the calibration points in the Map file as Ground Control
> Points.
>
> I do the following:
>
> gdal_translate \
> -gcp 203 52 529000 4191000 \
> -gcp 5174 3096 544000 4182000 \
> -gcp 5201 99 544000 4191000 \
> -gcp 176 3051 529000 4182000 \
> -gcp 1861 1067 534000 4188000 \
> -gcp 3517 2081 539000 4185000 \
> -gcp 3526 1083 539000 4188000 \
> -gcp 1851 2066 534000 4185000 \
> -gcp 2844 2742 537000 4183000 \
> -a_srs "+proj=utm? +ellps=intl? +k=0.999600? +x_0=500000.0? +y_0=0.0
> +zone=30? +units=m
> +towgs84=-125.098545,-76.000054,-156.198703,0.0,0.0,-1.129,8.30463103
> +no_defs" \
> map.bmp \
> map.tif
>
> However doing this still gives the maps upper left corner start at 0-0.
> I was wondering if there was a way to make gdal infer the correct corners of
> the map from the gcp's without specifying them directly.
> Or is there another way to achieve this without specifying the coord
> corners? (The calibration points are not corner-based)
> One solution would be to calculate the corners myself programmatically (from
> the pixels), but this would be the least good solution.
>
> Many thanks,
> Erik
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From szekerest at gmail.com  Wed Apr  1 09:04:50 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Apr  1 09:04:53 2009
Subject: [gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
Message-ID: <f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>

What did you mean by "calling a data folder"? Do you intend to construct a
new map in C# mapscript?

Best regards,

Tamas


2009/4/1 meenu monu <meenu.monu@gmail.com>

> dear friend
>
> i created one mapserver website using vs2005 c# mapscript ...gis data is
> based on some sample data available in net....now everything is working
> fine...now the mapfile is "c:\data\gisdata.map"...now my requirement is i
> have a data folder which is done based on mapinfo professional...i want to
> call that data folder from visual studio instaed of gisdata.map file...how
> it is possible...can u give me step by step instructions to do this??
>
> with regards
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/1bcc7541/attachment.html
From jmpmcmanus at gmail.com  Wed Apr  1 09:17:59 2009
From: jmpmcmanus at gmail.com (James McManus)
Date: Wed Apr  1 09:18:01 2009
Subject: [gdal-dev] libgrass
Message-ID: <8203a1260904010617uab22bd7i82b69c1b8f2ea704@mail.gmail.com>

When I use gdalinfo on a GRASS raster file I get the following error
message:

error while loading shared libraries: libgrass_dgl.so: cannot open shared
object file: No such file or directory

The libgrass libraries are installed in /usr/lib64 but they all have
.so.6.3.0 suffix's.  When I attempt to compile libgrass from source at:

http://home.gdal.org/projects/grass/

I get a configure error:

checking host system type... Invalid configuration
`x86_64-unknown-linux-gnu': machine `x86_64-unknown' not recognized

How can I fix either one of these so I can use gdalinfo on GRASS raster
files?

Thanks
Jim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/1517aba5/attachment.html
From warmerdam at pobox.com  Wed Apr  1 10:24:25 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  1 10:24:32 2009
Subject: [gdal-dev] libgrass
In-Reply-To: <8203a1260904010617uab22bd7i82b69c1b8f2ea704@mail.gmail.com>
References: <8203a1260904010617uab22bd7i82b69c1b8f2ea704@mail.gmail.com>
Message-ID: <49D37919.3050808@pobox.com>

James McManus wrote:
> When I use gdalinfo on a GRASS raster file I get the following error 
> message:
> 
> error while loading shared libraries: libgrass_dgl.so: cannot open 
> shared object file: No such file or directory
> 
> The libgrass libraries are installed in /usr/lib64 but they all have 
> .so.6.3.0 suffix's.

James,

I'm not sure what is up with the above.  Do you have the grass shared
library directory in your LD_LIBRARY_PATH?

 >  When I attempt to compile libgrass from source at:
> 
> http://home.gdal.org/projects/grass/
> 
> I get a configure error:
> 
> checking host system type... Invalid configuration 
> `x86_64-unknown-linux-gnu': machine `x86_64-unknown' not recognized

That libgrass is quite ancient now and I don't think it is suitable for
use with modern GRASS or even perhaps modern GDAL.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Apr  1 10:29:21 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  1 10:29:27 2009
Subject: [Gdal-dev] xml file for accessing to a wcs server
In-Reply-To: <1238582299657-2568319.post@n2.nabble.com>
References: <388993.72243.qm@web26001.mail.ukl.yahoo.com>
	<49D2BCF0.7050807@pobox.com> <1238582299657-2568319.post@n2.nabble.com>
Message-ID: <49D37A41.6090705@pobox.com>

salwa wrote:
> Hi Frank,
> 
> this is my WCS service description file:
> 
> -------------------------------------------------
> 
> <WCS_GDAL>
>   <ServiceURL>http://localhost:81/cgi-bin/mapserv.exe?map=NDVI.map&amp;SERVICE=WCS&amp;CRS=EPSG:26191&amp;</ServiceURL>
>   <CoverageName>NDVI</CoverageName>
>   <supportedCRSs>EPSG:26191</supportedCRSs>
>   <PreferredFormat>gtiff</PreferredFormat>
>   <GetCoverageExtra>&amp;BBOX=279728,114867,296168,125307&amp;time=2002-11-07</GetCoverageExtra>
>   <Version>1.0.0</Version>
>   <BlockXSize>551</BlockXSize>
>   <BlockYSize>351</BlockYSize>
>   <BandCount>1</BandCount>
>   <BandIdentifier>bands</BandIdentifier>
>   <BandType>Byte</BandType>
> </WCS_GDAL>

Salwa,

Did you create all the entries in the WCS description file above yourself?
Or were some populated automatically by GDAL when it first fetched the
coverage description?   If you manually set the <BandCount> to 1, but
the service is actually returning 3 band results you would get the error
you saw.  From the mapfile it is hard to establish exactly what would
be returned for a GTiff format request.  Since the service is local I can't
test from here.

It is also odd that you are overriding the BBOX in <GetCoverageExtra> and
the block size specified is pretty unusual.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From neteler at osgeo.org  Wed Apr  1 10:32:14 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Apr  1 10:32:18 2009
Subject: [gdal-dev] libgrass
In-Reply-To: <49D37919.3050808@pobox.com>
References: <8203a1260904010617uab22bd7i82b69c1b8f2ea704@mail.gmail.com>
	<49D37919.3050808@pobox.com>
Message-ID: <86782b610904010732n251c79afqc577149cc5138652@mail.gmail.com>

On Wed, Apr 1, 2009 at 4:24 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> James McManus wrote:
...
>> ?When I attempt to compile libgrass from source at:
>>
>> http://home.gdal.org/projects/grass/
...
> That libgrass is quite ancient now and I don't think it is suitable for
> use with modern GRASS or even perhaps modern GDAL.

Here are recent instructions how to get GRASS support into
GDAL using the plugin:
http://grass.osgeo.org/wiki/Compile_and_install_GRASS_and_QGIS_with_GDAL/OGR_Plugin

best
Markus
From maplabs at light42.com  Wed Apr  1 11:25:56 2009
From: maplabs at light42.com (Brian Hamlin)
Date: Wed Apr  1 10:32:31 2009
Subject: [gdal-dev] Simple OGR C API call
Message-ID: <653627CA-1ED1-11DE-8768-0003936901F0@light42.com>

Suppose a layer is created  with the memory driver.
How do you write that layer to a Postgres database?

(OGR_Dr_CopyDataSource() appears *not* to be the answer - it implicitly 
creates the new layer, and Postgres driver doesnt support create.. )

thanks
   -Brian


==
Brian Hamlin
ISDE5 Steering Committee
Planetwork.net

From warmerdam at pobox.com  Wed Apr  1 10:57:29 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  1 10:57:39 2009
Subject: [gdal-dev] Re: [GRASS-windows] gdalinfo about the dir
In-Reply-To: <22241342.419451238596331449.JavaMail.coremail@yeahapp4.yeah.net>
References: <22241342.419451238596331449.JavaMail.coremail@yeahapp4.yeah.net>
Message-ID: <49D380D9.90103@pobox.com>

apachemaven wrote:
> I have commite the problem: when run the commond gdalinfo d:\data\aa.hdf
> I get the subdatasets,then I want to get the info of the subdataset for 
> example
> gdalinfo HDF4_EOS:EOS_SWATH:"D:\data\aa.hdf":mod35:Scan_Start_Time
> because the ":" in the path,I get the error message,I know if I am 
> working the cmd window I can go into the data path
...
>   cmd = "cmd /c  gdalinfo " + GrassMain.ccat + ggm.getImageName(map);

Hi,

I believe the problem is that you do not escape the double quotes
when passing them via the commandline.  It is important that the
double quotes make it into GDALOpen() so that the D: will be treated
as part of the one path token when things are parsed.

So, if you were to specify things on the commandline I think you would
need to do it as:

  gdalinfo HDF4_EOS:EOS_SWATH:\"D:\data\aa.hdf\":mod35:Scan_Start_Time

The exact escaping mechanisms and requirements may vary depending on
the command shell used.  What is important is that after all shell
processing the double quotes still remain around the path portion
inside the call to GDALOpen.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From apachemaven at yeah.net  Wed Apr  1 10:32:11 2009
From: apachemaven at yeah.net (apachemaven)
Date: Wed Apr  1 11:02:29 2009
Subject: [gdal-dev] gdalinfo about the dir
Message-ID: <22241342.419451238596331449.JavaMail.coremail@yeahapp4.yeah.net>

I have commite the problem: when run the commond gdalinfo d:\data\aa.hdf
I get the subdatasets,then I want to get the info of the subdataset for example 
gdalinfo HDF4_EOS:EOS_SWATH:"D:\data\aa.hdf":mod35:Scan_Start_Time
because the ":" in the path,I get the error message,I know if I am working the cmd window I can go into the data path 
---C:\Documents and Settings\Administrator> D:
---D:\> cd data\HDF
---D:\> gdalinfo aa.tif
then I can run the command successfully,
But now I have to call the command in a java programe by
-----------------------------------
  FwtMain fm = new FwtMain(); //this is to initize a calss fwmain which to call the gdal command (I have install the gdal lin)
  String[] env = fm.getEnv(); //get the envriorment confignation arry
  cmd = "cmd /c  gdalinfo " + GrassMain.ccat + ggm.getImageName(map);
  Process p1 = Runtime.getRuntime().exec(cmd, env);
------------------------------------
At this suitation how can I call the command? I can only get the infomation of the parent hdf,but the subdataset can not....



 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/6531131c/attachment.html
From ivan.lucena at pmldnet.com  Wed Apr  1 11:40:49 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Wed Apr  1 11:41:15 2009
Subject: [gdal-dev] VRT Pixel Functions in Python (?)
Message-ID: <20090401154049.32203.qmail@s466.sureserver.com>

Hi there,

Would be possible to write a 'VRT Pixel Function' [1] in Python? Probably not. But wouldn't that be nice?

Ivan

[1] - http://www.gdal.org/gdal_vrttut.html

From jorsion at gmail.com  Wed Apr  1 11:52:41 2009
From: jorsion at gmail.com (jor sion)
Date: Wed Apr  1 11:52:44 2009
Subject: [gdal-dev] Read Datasets with three ranks in HDF file by GDAL in
	CSharp
Message-ID: <8c2bdf730904010852j357b2482l4c0e5e6955a69c7c@mail.gmail.com>

Hi,

I am trying to read HDF files by GDAL in CSharp. The trouble is I can only
access the first,second rank of the datasets with three ranks, but i can not
access any information

about the third rank. because I can only get the RasterXSize and RasterYSize
from dataset, but there is no RasterZSize.


Best regards,

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/b399e97c/attachment.html
From csomerlot at gmail.com  Wed Apr  1 11:55:46 2009
From: csomerlot at gmail.com (Chris Somerlot)
Date: Wed Apr  1 11:55:54 2009
Subject: [gdal-dev] help with resampling via python
In-Reply-To: <6e41d95b0904010457t321f9b74nab47d365b9f65b31@mail.gmail.com>
References: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
	<6e41d95b0904010457t321f9b74nab47d365b9f65b31@mail.gmail.com>
Message-ID: <9a8f0670904010855i47061f4ehe34006693f4aa004@mail.gmail.com>

That was the other method I was trying, reading the VRT file into memory
using the new (to me) xml.etree.ElementTree lib. I was missing the
<AveragedSource> tag, though, thanks.

2009/4/1 Klokan Petr P?idal <klokan@klokan.cz>

> Hi Chris,
>
> You have two options in GDAL API for resampling via Python:
>
> gdal.RegenerateOverview() with 'average' and 'mode' algorithms.
> and
> gdal.ReprojectImage() with 'bilinear','cubic','cubicspline' and
> 'lanczos' algorithms.
>
> Example of such functionality is in gdal2tiles.py in function
> GDAL2Tiles.scale_query_to_tile():
>
> http://code.google.com/p/maptiler/source/browse/trunk/maptiler/gdal2tiles.py#1433
>
> I am resampling in memory (because I am working only with small tiles
> with usual size 256x256px):
>
> mem_drv = gdal.GetDriverByName( 'MEM' )
> target = mem_drv.Create('', outputXsize, outputYsize, bands)
>
> I think gdal.ReprojectImage() would be able to rescale also into VRT
> dataset.
>
> Another choice is to create copy into the VRT dataset and change the
> target raster size in XML attributes manually in the text.
> In that case the average algorithm in VRT is exposed by the
> <AveragedSource> tag...
>
> Best,
>
> Klokan
>
> 2009/4/1 Chris Somerlot <csomerlot@gmail.com>:
> > Having trouble figuring out how to resample an image to a different cell
> > size from python. I looked over the VRT driver page and have been trying
> to
> > get this to work:
> >
> > from osgeo import gdal
> >
> > gdal.AllRegister()
> >
> > src = gdal.Open('DOQ_test.TIF')
> > drv = gdal.GetDriverByName('VRT')
> > dst = drv.CreateCopy("", src, 0)
> >
> > dst.RasterXSize = '125'
> >
> > But it seems the cell size in the datasets and the bands are read only?
> Is
> > there any programmatic way to do this?
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
> --
> http://blog.klokan.cz/
> http://www.maptiler.org/
> http://www.oldmapsonline.org/
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/a0d58093/attachment.html
From belasalwa at yahoo.fr  Wed Apr  1 12:06:43 2009
From: belasalwa at yahoo.fr (salwa)
Date: Wed Apr  1 12:06:45 2009
Subject: [Gdal-dev] xml file for accessing to a wcs server
In-Reply-To: <49D37A41.6090705@pobox.com>
References: <388993.72243.qm@web26001.mail.ukl.yahoo.com>
	<49D2BCF0.7050807@pobox.com>
	<1238582299657-2568319.post@n2.nabble.com>
	<49D37A41.6090705@pobox.com>
Message-ID: <1238602003174-2569952.post@n2.nabble.com>


Hi Frank,

I just changed the version to 1.1.0 and it's work now.

Thanks for your help

Best regards.
-- 
View this message in context: http://n2.nabble.com/xml-file-for-accessing-to-a-wcs-server-tp2566259p2569952.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From bryan at ideotrope.org  Wed Apr  1 12:08:34 2009
From: bryan at ideotrope.org (Bryan Keith)
Date: Wed Apr  1 12:08:37 2009
Subject: [gdal-dev] gdal_fillnodata does not write out nodata value to
	metadata
Message-ID: <4290.64.78.232.178.1238602114.squirrel@ideotrope.org>

When I run gdal_fillnodata, it fills some of my nodata spaces and doesn't
fill others because I specify -md.  However, the output file doesn't have
the nodata value written out in the metadata.  Is this the expected
behaviour?

See more details below.

Bryan

>gdalinfo -mm dem_nd.tif
Driver: GTiff/GeoTIFF
Files: dem_nd.tif
Size is 2097, 4240
Origin = (356923.827030129150000,213184.316585366210000)
Pixel Size = (9.997661921267978,-9.997661921267978)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  356923.827,  213184.317) (112d38'50.61"W, 46d 7'27.87"N)
Lower Left  (  356923.827,  170794.230) (112d37'31.81"W, 45d44'35.42"N)
Upper Right (  377888.924,  213184.317) (112d22'34.28"W, 46d 7'53.99"N)
Lower Right (  377888.924,  170794.230) (112d21'22.25"W, 45d45'1.36"N)
Center      (  367406.376,  191989.273) (112d30'4.64"W, 45d56'14.94"N)
Band 1 Block=2097x1 Type=Float32, ColorInterp=Gray
    Computed Min/Max=1431.040,3083.580
  NoData Value=-32766

>gdal_fillnodata -md 2 dem_nd.tif dem_temp.tif

>gdalinfo -mm dem_temp.tif
Driver: GTiff/GeoTIFF
Files: dem_temp.tif
Size is 2097, 4240
Origin = (356923.827030129150000,213184.316585366210000)
Pixel Size = (9.997661921267978,-9.997661921267978)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  356923.827,  213184.317) (112d38'50.61"W, 46d 7'27.87"N)
Lower Left  (  356923.827,  170794.230) (112d37'31.81"W, 45d44'35.42"N)
Upper Right (  377888.924,  213184.317) (112d22'34.28"W, 46d 7'53.99"N)
Lower Right (  377888.924,  170794.230) (112d21'22.25"W, 45d45'1.36"N)
Center      (  367406.376,  191989.273) (112d30'4.64"W, 45d56'14.94"N)
Band 1 Block=2097x1 Type=Float32, ColorInterp=Gray
    Computed Min/Max=-32766.000,3083.580

so I have to fix it like this:

>gdal_translate -a_nodata -32766 dem_temp.tif dem.tif



From jmpmcmanus at gmail.com  Wed Apr  1 12:22:18 2009
From: jmpmcmanus at gmail.com (James McManus)
Date: Wed Apr  1 12:22:19 2009
Subject: [gdal-dev] libgrass
In-Reply-To: <86782b610904010732n251c79afqc577149cc5138652@mail.gmail.com>
References: <8203a1260904010617uab22bd7i82b69c1b8f2ea704@mail.gmail.com>
	<49D37919.3050808@pobox.com>
	<86782b610904010732n251c79afqc577149cc5138652@mail.gmail.com>
Message-ID: <8203a1260904010922n3120964dva4556557edc70d39@mail.gmail.com>

gdalinfo knows where the /usr/lib64 directory is located, but it is
expecting files with a .so suffix.  I installed libgrass using fedora's yum.
It does not produce grass libraries with a .so suffix.

Trying a different approach, I installed grass on /usr/local and recompiled
gdal setting --with-grass to the grass directory in /usr/local and
--with-libgrass to the lib directory in the grass directory. I now get this
message:

Warning 1: GRASS warning: Unable to open datum table file
</usr/etc/datum.table>
Warning 1: GRASS warning: Unable to open ellipsoid table file
</usr/etc/ellipse.table>
Warning 1: GRASS fatal error: Invalid ellipsoid <grs80> in file

How do I set gdal up so it will look for these tables in the etc directory
under grass on /usr/local?

Thanks
Jim

On Wed, Apr 1, 2009 at 10:32 AM, Markus Neteler <neteler@osgeo.org> wrote:

> On Wed, Apr 1, 2009 at 4:24 PM, Frank Warmerdam <warmerdam@pobox.com>
> wrote:
> > James McManus wrote:
> ...
> >>  When I attempt to compile libgrass from source at:
> >>
> >> http://home.gdal.org/projects/grass/
> ...
> > That libgrass is quite ancient now and I don't think it is suitable for
> > use with modern GRASS or even perhaps modern GDAL.
>
> Here are recent instructions how to get GRASS support into
> GDAL using the plugin:
>
> http://grass.osgeo.org/wiki/Compile_and_install_GRASS_and_QGIS_with_GDAL/OGR_Plugin
>
> best
> Markus
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/ecb313a0/attachment.html
From maplabs at light42.com  Wed Apr  1 13:47:33 2009
From: maplabs at light42.com (Brian Hamlin)
Date: Wed Apr  1 12:47:47 2009
Subject: [gdal-dev] Simple OGR C API call
In-Reply-To: <653627CA-1ED1-11DE-8768-0003936901F0@light42.com>
References: <653627CA-1ED1-11DE-8768-0003936901F0@light42.com>
Message-ID: <2E15AD4A-1EE5-11DE-8768-0003936901F0@light42.com>

It seems the source of my trouble was the connection string
The Postgres driver is creating layers just fine, just not whole 
databases..
now wrangling with append options and data format and such
I'll post the example once its worked out
   -Brian

On Apr 1, 2009, at 7:25 AM, Brian Hamlin wrote:

> Suppose a layer is created  with the memory driver.
> How do you write that layer to a Postgres database?
>
> (OGR_Dr_CopyDataSource() appears *not* to be the answer - it 
> implicitly creates the new layer, and Postgres driver doesnt support 
> create.. )
>
> thanks
>   -Brian
>
>
> ==
> Brian Hamlin
> ISDE5 Steering Committee
> Planetwork.net
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From neteler at osgeo.org  Wed Apr  1 13:24:51 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Apr  1 13:24:54 2009
Subject: [gdal-dev] libgrass
In-Reply-To: <8203a1260904010922n3120964dva4556557edc70d39@mail.gmail.com>
References: <8203a1260904010617uab22bd7i82b69c1b8f2ea704@mail.gmail.com>
	<49D37919.3050808@pobox.com>
	<86782b610904010732n251c79afqc577149cc5138652@mail.gmail.com>
	<8203a1260904010922n3120964dva4556557edc70d39@mail.gmail.com>
Message-ID: <86782b610904011024x70995333t85b03ac6fe96aa15@mail.gmail.com>

On Wed, Apr 1, 2009 at 6:22 PM, James McManus <jmpmcmanus@gmail.com> wrote:
> gdalinfo knows where the /usr/lib64 directory is located, but it is
> expecting files with a .so suffix.? I installed libgrass using fedora's yum.
> It does not produce grass libraries with a .so suffix.

As a GRASS developer I confirm Frank's observation: libgrass is
ancient and will only work with GRASS 4 and GRASS 5 and the
respective old GDAL versions. Maybe even non-functional on
64bit platforms which weren't so much in use in those days...

Markus
From jmpmcmanus at gmail.com  Wed Apr  1 14:51:38 2009
From: jmpmcmanus at gmail.com (James McManus)
Date: Wed Apr  1 14:51:42 2009
Subject: [gdal-dev] gdalinfo
Message-ID: <8203a1260904011151m49a69235q74a54aaabba48ec9@mail.gmail.com>

When I run gdalinfo on a GRASS binary file it looks for table files, such as
datum.table, in /usr/etc/ instead of /usr/local/grass-6.4.0RC2/etc/ where
they are located.

I have the GRASS and GDAL library path set in /etc/ld.so.conf.  I also tried
setting the grass "etc" directory in .bash_profile PATH, but that did not
work.  How do I tell gdal to look for tables in the
/usr/local/grass-6.4.ORC2/etc directory?

Thanks
Jim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/c469d469/attachment.html
From mmarks at google.com  Wed Apr  1 15:12:46 2009
From: mmarks at google.com (Mano Marks)
Date: Wed Apr  1 15:12:55 2009
Subject: [gdal-dev] in memory KML
In-Reply-To: <49D340A3.10008@loskot.net>
References: <C482FF98AE985A47B8C982FD429C9E3402D563C6@daytonmsg2k3.AERO.BALL.COM>
	<C482FF98AE985A47B8C982FD429C9E3402D563CD@daytonmsg2k3.AERO.BALL.COM>
	<49D253AF.3060505@pobox.com> <49D340A3.10008@loskot.net>
Message-ID: <781bff30904011212h57bec6e0t30805f4c1938d786@mail.gmail.com>

Seems like libkml would be a good candidate for handling KML in memory.

On Wed, Apr 1, 2009 at 3:23 AM, Mateusz Loskot <mateusz@loskot.net> wrote:
> Frank Warmerdam wrote:
>>
>> Clay, Bruce wrote:
>>>
>>> After a bit more digging I am not sure I asked the right question.
>>>
>>>
>>> What I want to do is read feature information from a shapefile or other
>>> data source and get a string that contains the feature information encoded
>>> in KML that I can pass directly into Google Earth. ?I know I can do this
>>> operation is I open the shapefile write the KML data to disk then open the
>>> kml file up with fopen then read it into memory and send it t Google Earth
>>> but I would like to save the disk write the read operation.
>>>
>>>
>>> Any thoughts?
>>
>> Bruce,
>>
>> I've skimmed the KML driver and there is no sign that it uses the VSI*L
>> API for file access, so I don't see any way you can write results to a
>> memory buffer without substantial recoding in the kml driver.
>
>
> Looks like a candidate for proposal for the GSoC 2009
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks
Join me for Google I/O, Google's biggest Developer Conference, in San
Francisco, May 27th and 28th, 2009
http://code.google.com/events/io/
From bclay at ball.com  Wed Apr  1 15:22:51 2009
From: bclay at ball.com (Clay, Bruce)
Date: Wed Apr  1 15:22:55 2009
Subject: [gdal-dev] in memory KML
In-Reply-To: <781bff30904011212h57bec6e0t30805f4c1938d786@mail.gmail.com>
References: <C482FF98AE985A47B8C982FD429C9E3402D563C6@daytonmsg2k3.AERO.BALL.COM><C482FF98AE985A47B8C982FD429C9E3402D563CD@daytonmsg2k3.AERO.BALL.COM><49D253AF.3060505@pobox.com>
	<49D340A3.10008@loskot.net>
	<781bff30904011212h57bec6e0t30805f4c1938d786@mail.gmail.com>
Message-ID: <C482FF98AE985A47B8C982FD429C9E3402D5650C@daytonmsg2k3.AERO.BALL.COM>


LibKml can do the in memory file and a lot of other things but the documentation / examples are rather thin.  There is documentation that tells you what the parameters of a call are supposed to be but not to tell you when to use a given method.  They have several test apps but for the most part they only test a single class at a time.  

For example, I am trying to set the attributes in a kml message.  The leverage expat to do a lot of the xml stuff and the attributes seem to relate directly to the expat attributes and not to the way they are used when OGR creates a KML file.

There are very few examples shown when I Google on the web for examples.

All in all it looks quite capable but it takes a bit of digging to find out how to do things.

Then there is the licenses issue.  I can use it in my app without problems but using it in an open source GDAL plug-in may be an issue.

Bruce

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Mano Marks
Sent: Wednesday, April 01, 2009 3:13 PM
To: Mateusz Loskot
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] in memory KML

Seems like libkml would be a good candidate for handling KML in memory.

On Wed, Apr 1, 2009 at 3:23 AM, Mateusz Loskot <mateusz@loskot.net> wrote:
> Frank Warmerdam wrote:
>>
>> Clay, Bruce wrote:
>>>
>>> After a bit more digging I am not sure I asked the right question.
>>>
>>>
>>> What I want to do is read feature information from a shapefile or other
>>> data source and get a string that contains the feature information encoded
>>> in KML that I can pass directly into Google Earth. ?I know I can do this
>>> operation is I open the shapefile write the KML data to disk then open the
>>> kml file up with fopen then read it into memory and send it t Google Earth
>>> but I would like to save the disk write the read operation.
>>>
>>>
>>> Any thoughts?
>>
>> Bruce,
>>
>> I've skimmed the KML driver and there is no sign that it uses the VSI*L
>> API for file access, so I don't see any way you can write results to a
>> memory buffer without substantial recoding in the kml driver.
>
>
> Looks like a candidate for proposal for the GSoC 2009
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks
Join me for Google I/O, Google's biggest Developer Conference, in San
Francisco, May 27th and 28th, 2009
http://code.google.com/events/io/
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
From jgomezdans at gmail.com  Wed Apr  1 15:47:28 2009
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Wed Apr  1 15:47:32 2009
Subject: [gdal-dev] help with resampling via python
In-Reply-To: <6e41d95b0904010457t321f9b74nab47d365b9f65b31@mail.gmail.com>
References: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
	<6e41d95b0904010457t321f9b74nab47d365b9f65b31@mail.gmail.com>
Message-ID: <91d218430904011247k183764fbi929d8912218813fa@mail.gmail.com>

Hi Klokan,

2009/4/1 Klokan Petr P?idal <klokan@klokan.cz>

> gdal.RegenerateOverview() with 'average' and 'mode' algorithms.
> and
> gdal.ReprojectImage() with 'bilinear','cubic','cubicspline' and
> 'lanczos' algorithms.


That's quite cool, but does RegenerateOverview() take into account NODATA
values when doing the 'mode' or 'average'? It would be nice if it could
ignore them!

Thanks,
Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/8470d98e/attachment.html
From warmerdam at pobox.com  Wed Apr  1 15:56:26 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  1 15:56:35 2009
Subject: [gdal-dev] help with resampling via python
In-Reply-To: <91d218430904011247k183764fbi929d8912218813fa@mail.gmail.com>
References: <9a8f0670903311647m1adbe2a4v7e1a2092cab8d91@mail.gmail.com>
	<6e41d95b0904010457t321f9b74nab47d365b9f65b31@mail.gmail.com>
	<91d218430904011247k183764fbi929d8912218813fa@mail.gmail.com>
Message-ID: <49D3C6EA.5050002@pobox.com>

Jose Gomez-Dans wrote:
> Hi Klokan,
> 
> 2009/4/1 Klokan Petr P?idal <klokan@klokan.cz <mailto:klokan@klokan.cz>>
> 
>     gdal.RegenerateOverview() with 'average' and 'mode' algorithms.
>     and
>     gdal.ReprojectImage() with 'bilinear','cubic','cubicspline' and
>     'lanczos' algorithms.
> 
> 
> That's quite cool, but does RegenerateOverview() take into account 
> NODATA values when doing the 'mode' or 'average'? It would be nice if it 
> could ignore them!

Jose,

It appears based on review of the code that the "AVERAGE" overview
generation algorithm does ignore pixels determined to be nodata.

I have not experimentally confirmed this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Apr  1 16:08:59 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  1 16:09:07 2009
Subject: [gdal-dev] VRT Pixel Functions in Python (?)
In-Reply-To: <20090401154049.32203.qmail@s466.sureserver.com>
References: <20090401154049.32203.qmail@s466.sureserver.com>
Message-ID: <49D3C9DB.6000304@pobox.com>

Lucena, Ivan wrote:
> Hi there,
> 
> Would be possible to write a 'VRT Pixel Function' [1] in Python? Probably not. But wouldn't that be nice?

Ivan,

It would be nice, but likely also quite slow.  There is currently
no support for doing this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mmarks at google.com  Wed Apr  1 16:23:50 2009
From: mmarks at google.com (Mano Marks)
Date: Wed Apr  1 16:23:54 2009
Subject: [gdal-dev] in memory KML
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E3402D5650C@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E3402D563C6@daytonmsg2k3.AERO.BALL.COM>
	<C482FF98AE985A47B8C982FD429C9E3402D563CD@daytonmsg2k3.AERO.BALL.COM>
	<49D253AF.3060505@pobox.com> <49D340A3.10008@loskot.net>
	<781bff30904011212h57bec6e0t30805f4c1938d786@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E3402D5650C@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <781bff30904011323g62b08efeqe50ae3bc91740a53@mail.gmail.com>

Yes, we need to develop some more documentation. If you want to use
libkml in your app, we are answering questions on it in the KML
Developer Forum: http://groups.google.com/group/kml-support.

BSD license tends to be pretty liberal, that's why we used it.

On Wed, Apr 1, 2009 at 12:22 PM, Clay, Bruce <bclay@ball.com> wrote:
>
> LibKml can do the in memory file and a lot of other things but the documentation / examples are rather thin. ?There is documentation that tells you what the parameters of a call are supposed to be but not to tell you when to use a given method. ?They have several test apps but for the most part they only test a single class at a time.
>
> For example, I am trying to set the attributes in a kml message. ?The leverage expat to do a lot of the xml stuff and the attributes seem to relate directly to the expat attributes and not to the way they are used when OGR creates a KML file.
>
> There are very few examples shown when I Google on the web for examples.
>
> All in all it looks quite capable but it takes a bit of digging to find out how to do things.
>
> Then there is the licenses issue. ?I can use it in my app without problems but using it in an open source GDAL plug-in may be an issue.
>
> Bruce
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Mano Marks
> Sent: Wednesday, April 01, 2009 3:13 PM
> To: Mateusz Loskot
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] in memory KML
>
> Seems like libkml would be a good candidate for handling KML in memory.
>
> On Wed, Apr 1, 2009 at 3:23 AM, Mateusz Loskot <mateusz@loskot.net> wrote:
>> Frank Warmerdam wrote:
>>>
>>> Clay, Bruce wrote:
>>>>
>>>> After a bit more digging I am not sure I asked the right question.
>>>>
>>>>
>>>> What I want to do is read feature information from a shapefile or other
>>>> data source and get a string that contains the feature information encoded
>>>> in KML that I can pass directly into Google Earth. ?I know I can do this
>>>> operation is I open the shapefile write the KML data to disk then open the
>>>> kml file up with fopen then read it into memory and send it t Google Earth
>>>> but I would like to save the disk write the read operation.
>>>>
>>>>
>>>> Any thoughts?
>>>
>>> Bruce,
>>>
>>> I've skimmed the KML driver and there is no sign that it uses the VSI*L
>>> API for file access, so I don't see any way you can write results to a
>>> memory buffer without substantial recoding in the kml driver.
>>
>>
>> Looks like a candidate for proposal for the GSoC 2009
>>
>> Best regards,
>> --
>> Mateusz Loskot, http://mateusz.loskot.net
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Mano Marks
> Geo Developer Advocate
> http://twitter.com/ManoMarks
> Join me for Google I/O, Google's biggest Developer Conference, in San
> Francisco, May 27th and 28th, 2009
> http://code.google.com/events/io/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> This message and any enclosures are intended only for the addressee. ?Please
> notify the sender by email if you are not the intended recipient. ?If you are
> not the intended recipient, you may not use, copy, disclose, or distribute this
> message or its contents or enclosures to any other person and any such actions
> may be unlawful. ?Ball reserves the right to monitor and review all messages
> and enclosures sent to or from this email address.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks
Join me for Google I/O, Google's biggest Developer Conference, in San
Francisco, May 27th and 28th, 2009
http://code.google.com/events/io/
From mateusz at loskot.net  Wed Apr  1 16:31:35 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed Apr  1 16:31:43 2009
Subject: [gdal-dev] BuildBot administration
Message-ID: <49D3CF27.9080705@loskot.net>

Folks,

Recently, I've resurected OSGeo BuilBot farm:

http://buildbot.osgeo.org/

It took me months to get the job done.
I've back to my BuildBot duties now.
Although I've not settled in new home, so I'm not connected
with stable link, but using GSM.

I'd really want to avoid such long out-off-service periods in future.
So, I'd like to ask if there is anyone who would be interested
in stepping on position of backup admin of BuildBot.
It needs some experience with Unix environment, shell,
and Python. All the configuration files use Python syntax.

Certainly, I will provide support and explain all details of
configuration and the BuildBot service.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From javierurien+gdal at gmail.com  Wed Apr  1 17:09:41 2009
From: javierurien+gdal at gmail.com (Javier Urien)
Date: Wed Apr  1 17:09:57 2009
Subject: [gdal-dev] BuildBot administration
In-Reply-To: <d2595b180904011357k7543a15ew4d13f7b5699793f3@mail.gmail.com>
References: <49D3CF27.9080705@loskot.net>
	<d2595b180904011357k7543a15ew4d13f7b5699793f3@mail.gmail.com>
Message-ID: <d2595b180904011409s5b64aa39tb03152ed7edba7c3@mail.gmail.com>

On Wed, Apr 1, 2009 at 17:31, Mateusz Loskot <mateusz@loskot.net> wrote:

> Folks,
>
> Recently, I've resurected OSGeo BuilBot farm:
>
> http://buildbot.osgeo.org/
>
> It took me months to get the job done.
> I've back to my BuildBot duties now.
> Although I've not settled in new home, so I'm not connected
> with stable link, but using GSM.
>
> I'd really want to avoid such long out-off-service periods in future.
> So, I'd like to ask if there is anyone who would be interested
> in stepping on position of backup admin of BuildBot.
> It needs some experience with Unix environment, shell,
> and Python. All the configuration files use Python syntax.
>
> Certainly, I will provide support and explain all details of
> configuration and the BuildBot service.
>


Hey Mateuz,

  I would like to get to know the bot however I do not know if I will have
enough time, it will depend on the workload imposed by the admin job. I am
familiar with python and *nix.
  If you think it will not take too much time I will be glad to be of
assistance.

Regards.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/fe4717be/attachment.html
From szekerest at gmail.com  Wed Apr  1 17:19:20 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Apr  1 17:19:23 2009
Subject: [gdal-dev] BuildBot administration
In-Reply-To: <49D3CF27.9080705@loskot.net>
References: <49D3CF27.9080705@loskot.net>
Message-ID: <f3b73b7d0904011419ua4a8409vec16b2af465dc9b3@mail.gmail.com>

Mateusz,

I'd volunteer to be a backup admin and I think I have enough precognition to
do it so.

In the recent days however I encountered problems logging in via SSH. The
user name is accepted but timeout occurred when submitting the password.
I've also found sometimes the CPU utilization having permanent 100% at the
server caused by some other processes which might also be a problem there,
not related to the BB itself.

Best regards,

Tamas



2009/4/1 Mateusz Loskot <mateusz@loskot.net>

> Folks,
>
> Recently, I've resurected OSGeo BuilBot farm:
>
> http://buildbot.osgeo.org/
>
> It took me months to get the job done.
> I've back to my BuildBot duties now.
> Although I've not settled in new home, so I'm not connected
> with stable link, but using GSM.
>
> I'd really want to avoid such long out-off-service periods in future.
> So, I'd like to ask if there is anyone who would be interested
> in stepping on position of backup admin of BuildBot.
> It needs some experience with Unix environment, shell,
> and Python. All the configuration files use Python syntax.
>
> Certainly, I will provide support and explain all details of
> configuration and the BuildBot service.
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> Charter Member of OSGeo, http://osgeo.org
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090401/60b2a7d3/attachment-0001.html
From nikos.alexandris at felis.uni-freiburg.de  Wed Apr  1 18:30:59 2009
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Apr  1 18:31:00 2009
Subject: [gdal-dev] The latest ISPRS-SC Newsletter
In-Reply-To: <49D35992.8E3B.0073.0@csir.co.za>
References: <1238578658.6748.11.camel@vertical>
	<49D35992.8E3B.0073.0@csir.co.za>
Message-ID: <1238625059.6206.5.camel@vertical>

On Wed, 2009-04-01 at 12:09 +0200, Wesley Roberts wrote:
> Hi Nikos,
> Nice article, I like the idea of rotating the earth map for a new
> perspective. It would look even more strange if you added the vectors
> defining countries and labeling them with country names.
> Perhaps an idea for the next article?
> 
> Cheers,
> Wesley  

Thank you for the idea Wesley :-). Of course I am also happy that you
share your thoughts about the article.

Kindest regards, Nikos

From emmanuel.sambale at gmail.com  Wed Apr  1 21:28:26 2009
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Wed Apr  1 21:28:28 2009
Subject: [gdal-dev] convert qct format to geotiff
In-Reply-To: <4a27540a0904011547m7e5f8d50i46146495e245313f@mail.gmail.com>
References: <f902f9840903291905w287cf0b6oabfaea031e728a00@mail.gmail.com>
	<4a27540a0904011547m7e5f8d50i46146495e245313f@mail.gmail.com>
Message-ID: <f902f9840904011828r2bf49b01jdf3f39854733b440@mail.gmail.com>

Andrew,

Thank you for looking into this.

> I would love to spend some time improving the software to allow
> conversion to geotiff but the original author wasn't able to decode
> the georeferencing polynomials and that's not something I can do
> myself. ?I'm can't put effort into improving the software until we can
> get the georeferencing correct since that is fundamental. ?Have you
> heard from anyone else about this format? ?It would be great if we
> could get together and solve it some how.

Unfortunately, I can't find any other resource on the web related to QCT.
All I know is it "behaves" like MrSid when I browse the data in Memo-Map.
I can send you sample data to test if you like.

-- 
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------
From meenu.monu at gmail.com  Thu Apr  2 01:01:02 2009
From: meenu.monu at gmail.com (meenu)
Date: Thu Apr  2 01:01:05 2009
Subject: [Gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
	<f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
Message-ID: <1238648462872-2573340.post@n2.nabble.com>


hi thanks for the reply...let me describe in detail....i did one website using vs2005 C#  using the available project TutorialMapServer(http://www.paolocorti.net/2006/09/20/mapserver-tutorial-for-c-mapscript-asp-net/)....in that project i am calling gis data in web.config file like as follows

<add key="mapFilePath" value="C:\Documents and Settings\Administrator\Desktop\Mapserver(5.2.1)-Mapscript\data\csharptutorial.map"/>

...everything is working fine ...based on the "csharptutorial.map".......i have a set of gis data folder done by mapinfo professional...in that data folder each layer have 4 files(DAT,.ID,.MAP,.TAB),....

now my requirement is insteadof csharptutorial.map i want to call mapinfo 'data' folder...how it is possible???


-- 
View this message in context: http://n2.nabble.com/mapserver-c-mapscript-with-mapinfo-data-folder-tp2568756p2573340.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From meenu.monu at gmail.com  Thu Apr  2 01:21:04 2009
From: meenu.monu at gmail.com (meenu)
Date: Thu Apr  2 01:21:06 2009
Subject: [Gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <1238648462872-2573340.post@n2.nabble.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
	<f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
	<1238648462872-2573340.post@n2.nabble.com>
Message-ID: <1238649664754-2573422.post@n2.nabble.com>


ii
-- 
View this message in context: http://n2.nabble.com/mapserver-c-mapscript-with-mapinfo-data-folder-tp2568756p2573422.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From chaitanya.ch at gmail.com  Thu Apr  2 01:53:39 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu Apr  2 01:53:44 2009
Subject: [Gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <1238648462872-2573340.post@n2.nabble.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
	<f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
	<1238648462872-2573340.post@n2.nabble.com>
Message-ID: <eb502d880904012253x35976365nd63c676bd8121e02@mail.gmail.com>

Meenu,

You have to specify the layers in the .map file (as in
csharptutorial.map). The .MAP files in the data folder are probably
something else; check that. You need to have the "mapserver format
mapfile" to specify the layers you want to display. So you can move
the file "csharptutorial.map" to wherever you want as long as you
update the paths mentioned in it. Please do tell the outcome here.

Regards,

On Thu, Apr 2, 2009 at 10:31 AM, meenu <meenu.monu@gmail.com> wrote:
>
> hi thanks for the reply...let me describe in detail....i did one website using vs2005 C# ?using the available project TutorialMapServer(http://www.paolocorti.net/2006/09/20/mapserver-tutorial-for-c-mapscript-asp-net/)....in that project i am calling gis data in web.config file like as follows
>
> <add key="mapFilePath" value="C:\Documents and Settings\Administrator\Desktop\Mapserver(5.2.1)-Mapscript\data\csharptutorial.map"/>
>
> ...everything is working fine ...based on the "csharptutorial.map".......i have a set of gis data folder done by mapinfo professional...in that data folder each layer have 4 files(DAT,.ID,.MAP,.TAB),....
>
> now my requirement is insteadof csharptutorial.map i want to call mapinfo 'data' folder...how it is possible???
>
>
> --
> View this message in context: http://n2.nabble.com/mapserver-c-mapscript-with-mapinfo-data-folder-tp2568756p2573340.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Chaitanya kumar CH.
From meenu.monu at gmail.com  Thu Apr  2 02:44:25 2009
From: meenu.monu at gmail.com (meenu)
Date: Thu Apr  2 02:44:36 2009
Subject: [Gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <eb502d880904012253x35976365nd63c676bd8121e02@mail.gmail.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
	<f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
	<1238648462872-2573340.post@n2.nabble.com>
	<eb502d880904012253x35976365nd63c676bd8121e02@mail.gmail.com>
Message-ID: <1238654665417-2573619.post@n2.nabble.com>


hi friend wt u said is right...my problem is how can i add that layer to this map file...for example i have one table POI...this layer indicating 4 files such as POI.DAT,POI.ID,POI.MAP,POI.TAB......how can i add this layer to this existing map file...i added the coding is as follows...no error found but in map this layer is not showing....in bin directory 2 files is thre based on OGR "ogr_OCI.dll" and "ogr_SDE.dll"...is any other files required for this OGR set up????

LAYER
NAME POI
TYPE POLYGON
STATUS DEFAULT
CONNECTIONTYPE OGR
CONNECTION "C:\Documents and Settings\Administrator\Desktop\julie\Mapserver 5.2.1 pjt\Mapserver(5.2.1)-Mapscript\data\POI.TAB"
STYLEITEM "AUTO"
CLASS
        NAME "POI"
END
END # Layer



-- 
View this message in context: http://n2.nabble.com/mapserver-c-mapscript-with-mapinfo-data-folder-tp2568756p2573619.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Thu Apr  2 04:51:18 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Apr  2 04:51:21 2009
Subject: [Gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <1238654665417-2573619.post@n2.nabble.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
	<f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
	<1238648462872-2573340.post@n2.nabble.com>
	<eb502d880904012253x35976365nd63c676bd8121e02@mail.gmail.com>
	<1238654665417-2573619.post@n2.nabble.com>
Message-ID: <f3b73b7d0904020151t6ba74e4by73e85b40d626a282@mail.gmail.com>

meenu,

I assume the layer is read correctly but the map is to be drawn with wrong
extent without specifying that in the mapfile. You should also specify the
projection of the layer and the map to be able to set the extent correctly.

Use ogrinfo.exe to find out the actual extent and projection of the layer
you have.

Best regards,

Tamas



2009/4/2 meenu <meenu.monu@gmail.com>

>
> hi friend wt u said is right...my problem is how can i add that layer to
> this map file...for example i have one table POI...this layer indicating 4
> files such as POI.DAT,POI.ID,POI.MAP,POI.TAB......how can i add this layer
> to this existing map file...i added the coding is as follows...no error
> found but in map this layer is not showing....in bin directory 2 files is
> thre based on OGR "ogr_OCI.dll" and "ogr_SDE.dll"...is any other files
> required for this OGR set up????
>
> LAYER
> NAME POI
> TYPE POLYGON
> STATUS DEFAULT
> CONNECTIONTYPE OGR
> CONNECTION "C:\Documents and Settings\Administrator\Desktop\julie\Mapserver
> 5.2.1 pjt\Mapserver(5.2.1)-Mapscript\data\POI.TAB"
> STYLEITEM "AUTO"
> CLASS
>        NAME "POI"
> END
> END # Layer
>
>
>
> --
> View this message in context:
> http://n2.nabble.com/mapserver-c-mapscript-with-mapinfo-data-folder-tp2568756p2573619.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090402/685b8e05/attachment.html
From meenu.monu at gmail.com  Thu Apr  2 07:22:22 2009
From: meenu.monu at gmail.com (meenu)
Date: Thu Apr  2 07:22:24 2009
Subject: [Gdal-dev] mapserver c#mapscript with mapinfo data folder
In-Reply-To: <f3b73b7d0904020151t6ba74e4by73e85b40d626a282@mail.gmail.com>
References: <e2140a740904010545s5ad681cfndd59c87daf000ee5@mail.gmail.com>
	<f3b73b7d0904010604o7d7d21e7y9d5edc25f711ab7b@mail.gmail.com>
	<1238648462872-2573340.post@n2.nabble.com>
	<eb502d880904012253x35976365nd63c676bd8121e02@mail.gmail.com>
	<1238654665417-2573619.post@n2.nabble.com>
	<f3b73b7d0904020151t6ba74e4by73e85b40d626a282@mail.gmail.com>
Message-ID: <1238671342681-2574602.post@n2.nabble.com>


hi tamas...great answer...wt u said is correct..it was the problem with the extent value...i forgot to change that value....now i foundout extend value using ogrinfo.exe....change the values in map file...lt is working fine ..thank u so much....
regards

meenu
-- 
View this message in context: http://n2.nabble.com/mapserver-c-mapscript-with-mapinfo-data-folder-tp2568756p2574602.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Thu Apr  2 09:50:25 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr  2 09:50:43 2009
Subject: [gdal-dev] Re: Motion: Negotiate Maintainer Contract with Chaitanya
	Kumar CH
In-Reply-To: <49C016C4.4020407@pobox.com>
References: <49C016C4.4020407@pobox.com>
Message-ID: <49D4C2A1.1090606@pobox.com>

Frank Warmerdam wrote:
> Motion: The GDAL PSC authorizes Frank Warmerdam to negotiate a contract
> for GDAL maintenance services for 500 hours over 5 months at $12USD/hr for
> a maximum of $6000USD with Chaitanya Kumar CH.  The work will be done
> pursuant to the terms described in RFC 9: GDAL Paid Maintainer Guidelines
> with Frank Warmerdam acting as supervisor for the maintainer.

Folks,

I neglected to close this motion last month.  I declare this motion
approved with support from FrankW, HowardB, TamasS, DanielM, and EvenR.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mjollnir.ray at gmail.com  Thu Apr  2 10:03:56 2009
From: mjollnir.ray at gmail.com (mjollnir)
Date: Thu Apr  2 10:03:58 2009
Subject: [Gdal-dev] how can i get the error msg
Message-ID: <1238681036459-2575343.post@n2.nabble.com>


hi,

when i handle a bad jpg file, like this:
eErr = GDALRasterIO(hBand, GF_Read, 0, 0, nXSize, nYSize,......)

i got this error message in console:
Premature end of JPEG file

i'm wonder where the error msg come from. because i found that: eErr == CE_None

when i use this code the code quiet the msg:
CPLPushErrorHandler( CPLQuietErrorHandler );
eErr = GDALRasterIO(hBand, GF_Read, 0, 0, nXSize, nYSize,......)

the error msg still be there.

so, my question is:
where the error msg come  from, how can i quiet it or handle it.
and how can i know the image file is bad before i process it.

-- 
View this message in context: http://n2.nabble.com/how-can-i-get-the-error-msg-tp2575343p2575343.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Thu Apr  2 11:05:37 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr  2 11:05:57 2009
Subject: [Gdal-dev] how can i get the error msg
In-Reply-To: <1238681036459-2575343.post@n2.nabble.com>
References: <1238681036459-2575343.post@n2.nabble.com>
Message-ID: <49D4D441.7060302@pobox.com>

mjollnir wrote:
> hi,
> 
> when i handle a bad jpg file, like this:
> eErr = GDALRasterIO(hBand, GF_Read, 0, 0, nXSize, nYSize,......)
> 
> i got this error message in console:
> Premature end of JPEG file
> 
> i'm wonder where the error msg come from. because i found that: eErr == CE_None
> 
> when i use this code the code quiet the msg:
> CPLPushErrorHandler( CPLQuietErrorHandler );
> eErr = GDALRasterIO(hBand, GF_Read, 0, 0, nXSize, nYSize,......)
> 
> the error msg still be there.
> 
> so, my question is:
> where the error msg come  from, how can i quiet it or handle it.
> and how can i know the image file is bad before i process it.

mjollnir,

It looks like this warning is issued by libjpeg in the fill_input_buffer
function:

fill_input_buffer (j_decompress_ptr cinfo)
{
   my_src_ptr src = (my_src_ptr) cinfo->src;
   size_t nbytes;

   nbytes = JFREAD(src->infile, src->buffer, INPUT_BUF_SIZE);

   if (nbytes <= 0) {
     if (src->start_of_file)     /* Treat empty input file as fatal error */
       ERREXIT(cinfo, JERR_INPUT_EMPTY);
     WARNMS(cinfo, JWRN_JPEG_EOF);
     /* Insert a fake EOI marker */
     src->buffer[0] = (JOCTET) 0xFF;
     src->buffer[1] = (JOCTET) JPEG_EOI;
     nbytes = 2;
   }

   src->pub.next_input_byte = src->buffer;
   src->pub.bytes_in_buffer = nbytes;
   src->start_of_file = FALSE;

   return TRUE;
}

It appears that while we (GDAL) overrides the error exit
handler for the libjpeg library, we do not override the warning
handler so the warnings are just issued to stdout or stderr.

If you file a ticket on this, I can likely correct the warning
handling.  However, it is unlikely to be treated as a fatal error
since the authors of libjpeg have apparently decided that a
truncated file should not be treated as an error.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mjollnir.ray at gmail.com  Thu Apr  2 11:25:55 2009
From: mjollnir.ray at gmail.com (mjollnir)
Date: Thu Apr  2 11:25:57 2009
Subject: [Gdal-dev] how can i get the error msg
In-Reply-To: <49D4D441.7060302@pobox.com>
References: <1238681036459-2575343.post@n2.nabble.com>
	<49D4D441.7060302@pobox.com>
Message-ID: <1238685955629-2575846.post@n2.nabble.com>


It's ok. thanks form your reply.

can i know the health status of the image file before process it.


mjollnir,

It looks like this warning is issued by libjpeg in the fill_input_buffer
function:

fill_input_buffer (j_decompress_ptr cinfo)
{
   my_src_ptr src = (my_src_ptr) cinfo->src;
   size_t nbytes;

   nbytes = JFREAD(src->infile, src->buffer, INPUT_BUF_SIZE);

   if (nbytes <= 0) {
     if (src->start_of_file)     /* Treat empty input file as fatal error */
       ERREXIT(cinfo, JERR_INPUT_EMPTY);
     WARNMS(cinfo, JWRN_JPEG_EOF);
     /* Insert a fake EOI marker */
     src->buffer[0] = (JOCTET) 0xFF;
     src->buffer[1] = (JOCTET) JPEG_EOI;
     nbytes = 2;
   }

   src->pub.next_input_byte = src->buffer;
   src->pub.bytes_in_buffer = nbytes;
   src->start_of_file = FALSE;

   return TRUE;
}

It appears that while we (GDAL) overrides the error exit
handler for the libjpeg library, we do not override the warning
handler so the warnings are just issued to stdout or stderr.

If you file a ticket on this, I can likely correct the warning
handling.  However, it is unlikely to be treated as a fatal error
since the authors of libjpeg have apparently decided that a
truncated file should not be treated as an error.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
View this message in context: http://n2.nabble.com/how-can-i-get-the-error-msg-tp2575343p2575846.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From aloboaleu at gmail.com  Thu Apr  2 12:52:00 2009
From: aloboaleu at gmail.com (Agustin Lobo)
Date: Thu Apr  2 12:52:09 2009
Subject: [gdal-dev] Problem with gdal_merge.py (ubuntu 8.04)
Message-ID: <49D4ED30.5030807@gmail.com>

Hi!
I run gdal_merge.py and get:

$ /usr/local/FWTools-2.0.6/bin_safe/gdal_merge.py -v -o 
PICT0126radcorr.tif -separate PICT0126Nradcorr.tif PICT0126Rradcorr.tif 
PICT0126Gradcorr.tif

Filename: PICT0126Nradcorr.tif
File Size: 2560x1920x1
Pixel Size: 1.000000 x 1.000000
UL:(0.000000,0.000000)   LR:(2560.000000,1920.000000)
Copy 0,0,2560,1920 to 0,0,2560,1920.

Filename: PICT0126Rradcorr.tif
File Size: 2560x1920x1
Pixel Size: 1.000000 x 1.000000
UL:(0.000000,0.000000)   LR:(2560.000000,1920.000000)
Copy 0,0,2560,1920 to 0,0,2560,1920.
Traceback (most recent call last):
   File "/usr/local/FWTools-2.0.6/bin/gdal_merge.py", line 505, in ?
     fi.copy_into( t_fh, 1, t_band, nodata )
   File "/usr/local/FWTools-2.0.6/bin/gdal_merge.py", line 303, in copy_into
     nodata_arg )
   File "/usr/local/FWTools-2.0.6/bin/gdal_merge.py", line 133, in 
raster_copy
     t_band = t_fh.GetRasterBand( t_band_n )
   File "/usr/local/FWTools-2.0.6/pymod/gdal.py", line 648, in GetRasterBand
     raise ValueError, 'Out of range band requested: %d' % i
ValueError: Out of range band requested: 2

Am I doing something wrong? According to what I've found, this is the 
correct syntax.

I include gdalinfo:

$ gdalinfo  PICT0126Rradcorr.tif
Driver: GTiff/GeoTIFF
Files: PICT0126Rradcorr.tif
Size is 2560, 1920
Coordinate System is `'
Image Structure Metadata:
   INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 1920.0)
Upper Right ( 2560.0,    0.0)
Lower Right ( 2560.0, 1920.0)
Center      ( 1280.0,  960.0)
Band 1 Block=2560x1 Type=Float32, ColorInterp=Gray


Thanks

Agus

-- 
Dr. Agustin Lobo
Institut de Ciencies de la Terra "Jaume Almera" (CSIC)
LLuis Sole Sabaris s/n
08028 Barcelona
Spain
Tel. 34 934095410
Fax. 34 934110012
email: Agustin.Lobo@ija.csic.es
http://www.ija.csic.es/gt/obster
From whatevar89 at gmail.com  Thu Apr  2 13:19:35 2009
From: whatevar89 at gmail.com (erik)
Date: Thu Apr  2 13:19:38 2009
Subject: [gdal-dev] using gcp's without giving coordinates
In-Reply-To: <6e41d95b0904010552r4488bf15r98fd94323f3939a9@mail.gmail.com>
References: <5c218180903301345l7fc1f8dco46b8b9d2fe1c0926@mail.gmail.com>
	<6e41d95b0904010552r4488bf15r98fd94323f3939a9@mail.gmail.com>
Message-ID: <5c218180904021019k4a3ab14ch70723419d71c9f9a@mail.gmail.com>

Thanks, Klokan. I'll check this out.

On Wed, Apr 1, 2009 at 2:52 PM, Klokan Petr P?idal <klokan@klokan.cz> wrote:

> Hi,
>
> I am not familiar with OziExplorer Map files, but I have seen a
> project trying to implement what you need, maybe you can reuse it (and
> probably improve it and add support of different projections):
>
>
> http://ozi2geotiff.svn.sourceforge.net/viewvc/ozi2geotiff/trunk/ozi2geotiff.py?view=markup
>
> I guess you would like to have affine transformation georeference from
> your GCPs points in your example with gdal_translate.
> Then you should either warp your raster with gdalwarp utility or use a
> tool like gcps2wld.py to calculate a best fitting World file and keep
> raster as it is.
>
> Klokan
>
> P.S.
> A standalone application for World file generation then you can use
> independently on GDAL is:
>
> http://blog.oldmapsonline.org/2008/06/georeferencing-images-by-control-points.html
> or very simple python script doing the calculation as well:
>
> http://code.google.com/p/oldmapsonline/source/browse/trunk/gcps2wld/python-no-dep/gcps2wld.py
>
> 2009/3/30 erik <whatevar89@gmail.com>:
> > Hello,
> >
> > I'm trying to convert a map from OziExplorer Map file fromat to Geotiff.
> > FOr this i'm using the calibration points in the Map file as Ground
> Control
> > Points.
> >
> > I do the following:
> >
> > gdal_translate \
> > -gcp 203 52 529000 4191000 \
> > -gcp 5174 3096 544000 4182000 \
> > -gcp 5201 99 544000 4191000 \
> > -gcp 176 3051 529000 4182000 \
> > -gcp 1861 1067 534000 4188000 \
> > -gcp 3517 2081 539000 4185000 \
> > -gcp 3526 1083 539000 4188000 \
> > -gcp 1851 2066 534000 4185000 \
> > -gcp 2844 2742 537000 4183000 \
> > -a_srs "+proj=utm  +ellps=intl  +k=0.999600  +x_0=500000.0  +y_0=0.0
> > +zone=30  +units=m
> > +towgs84=-125.098545,-76.000054,-156.198703,0.0,0.0,-1.129,8.30463103
> > +no_defs" \
> > map.bmp \
> > map.tif
> >
> > However doing this still gives the maps upper left corner start at 0-0.
> > I was wondering if there was a way to make gdal infer the correct corners
> of
> > the map from the gcp's without specifying them directly.
> > Or is there another way to achieve this without specifying the coord
> > corners? (The calibration points are not corner-based)
> > One solution would be to calculate the corners myself programmatically
> (from
> > the pixels), but this would be the least good solution.
> >
> > Many thanks,
> > Erik
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
>
> --
> http://blog.klokan.cz/
> http://www.maptiler.org/
> http://www.oldmapsonline.org/
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090402/bde3ab68/attachment.html
From bclay at ball.com  Thu Apr  2 17:13:29 2009
From: bclay at ball.com (Clay, Bruce)
Date: Thu Apr  2 17:13:34 2009
Subject: [gdal-dev] GDAL / libKml interaction causes app to crash
Message-ID: <C482FF98AE985A47B8C982FD429C9E3402D5661F@daytonmsg2k3.AERO.BALL.COM>

This question is most likely a problem with libkml.  I did post a
message on the libkml forum as well.  My apologies if you are subscribed
to both asnd getting this message twice.

 

I am working on an application that uses GDAL and libKml.  Everything
was going fine until I added KmzFile::CreateFromKmlFilepath to create a
kmz file.  The application crashes in GDAL space during start up while
registering the plugins.  The only common link I can find is both
applications are using zlib and minizip.  I downloaded the latest
version of zlib which appears to be the same one currently used by
libkml as well as GDAL. Even though I use  zlibstat.lib in my
application I still get 15 unresolved externals.  In the original setup
I linked in minizip.lib but minizip is only created as an executable in
the current version.  Some of the unresolved externals are shohw at the
end of this message.

 

Is there a known work around to this problem?

 

 

Error     19         error LNK2019: unresolved external symbol _zipClose
referenced in function "public: __thiscall
kmlengine::ZlibImpl::~ZlibImpl(void)" (??1ZlibImpl@kmlengine@@QAE@XZ)
libkmlengine.lib  

Error     20         error LNK2019: unresolved external symbol _unzClose
referenced in function "public: __thiscall
kmlengine::ZlibImpl::~ZlibImpl(void)" (??1ZlibImpl@kmlengine@@QAE@XZ)
libkmlengine.lib  

Error     21         error LNK2019: unresolved external symbol
_unzGoToFirstFile referenced in function "public: static class
kmlengine::KmzFile * __cdecl kmlengine::KmzFile::OpenFromString(class
std::basic_string<char,struct std::char_traits<char>,class
std::allocator<char> > const &)"
(?OpenFromString@KmzFile@kmlengine@@SAPAV12@ABV?$basic_string@DU?$char_t
raits@D@std@@V?$allocator@D@2@@std@@@Z) libkmlengine.lib  

 

Bruce

 

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090402/7655ef09/attachment.html
From mmarks at google.com  Thu Apr  2 20:50:54 2009
From: mmarks at google.com (Mano Marks)
Date: Thu Apr  2 20:50:59 2009
Subject: [gdal-dev] gdal2tiles strangeness
In-Reply-To: <6e41d95b0904010509u3113e52ey7fc5e0cdb6ecc0d5@mail.gmail.com>
References: <781bff30903310937t4a9b6347hef2b27cbe1ca18d6@mail.gmail.com>
	<6e41d95b0903311335k7074f73v6e5314ddb7215065@mail.gmail.com>
	<781bff30903311657n7f29d083xd7c54aa0abed3a54@mail.gmail.com>
	<6e41d95b0904010509u3113e52ey7fc5e0cdb6ecc0d5@mail.gmail.com>
Message-ID: <781bff30904021750p6c56396fx97381b93cf9db96e@mail.gmail.com>

So, using -p "raster" creates far worse distortion in the KML. I'm back to
not using it. I get distortion only at the highest zoom levels that way.

2009/4/1 Klokan Petr P?idal <klokan@klokan.cz>

> Mano,
>
> > Thanks for the pointer. So it looks like, right now, there's a bug in
> > gdal2tiles, according to  Jesse? Any news on when that might be fixed?
>
> Just use this gdal2tiles.py:
> http://maptiler.googlecode.com/svn/trunk/maptiler/gdal2tiles.py
>
> The issue he is referring is fixed in MapTiler SVN:
> http://code.google.com/p/maptiler/issues/detail?id=9
> Commited in maptiler SVN in r17 on Mar 20, 2009.
>
> I am proposing to fix all known bugs during this summer as part of
> Google Summer of Code project, and also implement support for OGC WMTS
> standard, publish a stable version of MapTiler
> (http://www.maptiler.org/) and synchronize the code with GDAL SVN.
>
> Klokan
>
> >
> > Mano
> >
> > 2009/3/31 Klokan Petr P?idal <klokan@klokan.cz>:
> >> Mano,
> >>
> >> If you would like to have both Google Maps and Google Earth
> >> presentation for a global map then you must generate two tile sets,
> >> because Google Maps supports only Mercator tiles (EPSG:900913) and
> >> Google Earth only geodetic (EPSG:4326).
> >>
> >> GDAL2Tiles has as a default tile profile 'mercator', it means that it
> >> will warp your input into Spherical Mercator internally.
> >> To create tiles and KML for Google Earth for your EPSG:4326 input data
> >> you should use -p "raster".
> >>
> >> From the "gdal2tiles --help":
> >>
> >> -k, --force-kml     Generate KML for Google Earth - default for
> 'geodetic'
> >>                        profile and 'raster' in EPSG:4326. For a dataset
> with
> >>                        different projection use with caution!
> >>
> >> Detailed description of recommended step by step usage of gdal2tiles
> >> for global maps was posted by Jesse Varner
> >> from CIRES & NOAA/NGDC, who used gdal2tiles for official presentation
> >> of Global magnetic anomaly map EMAG2 (for Google Maps/Earth) at:
> >> http://ngdc.noaa.gov/geomag/data/Google_Maps/EMAG2/index.html
> >>
> >> His post is here:
> >> http://groups.google.com/group/maptiler/msg/fe105e27a62711e4
> >>
> >> Best regards,
> >>
> >> Klokan
> >>
> >> On Tue, Mar 31, 2009 at 6:37 PM, Mano Marks <mmarks@google.com> wrote:
> >>> I'm getting started with gdal2tiles, and I'm getting strange results.
> >>>
> >>> I downloaded a blue marble jpg from NASA:
> >>> http://www.nasa.gov/vision/earth/features/blue_marble.html
> >>>
> >>> And I ran the following command lines:
> >>>
> >>> gdal_translate -of VRT -a_srs EPSG:4326 -gcp 0 0 -180 90 -gcp 21600 0
> >>> 180 90 -gcp 21600 10800 180 -90 world_200401.jpg bluemarble1.vrt
> >>>
> >>> gdalwarp -of VRT -t_srs EPSG:4326 bluemarble1.vrt bluemarble2.vrt
> >>>
> >>> gdal2tiles -k bluemarble2.vrt
> >>>
> >>> Of course, the last step took awhile.
> >>>
> >>> The Google Maps and OpenLayers output was fine. However, the KML had
> >>> some odd results. When loaded directly, it looked fine, but when I
> >>> zoomed out, it appeared that what was the equivalent of zoom 0 and 1
> >>> the images retain a Mercator projection. Is this a known issue, or did
> >>> I do something wrong?
> >>>
> >>> --
> >>> Mano Marks
> >>> Geo Developer Advocate
> >>> Google, Inc.
> >>> mmarks@google.com
> >>> http://twitter.com/ManoMarks
> >>> _______________________________________________
> >>> gdal-dev mailing list
> >>> gdal-dev@lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>>
> >>
> >>
> >>
> >> --
> >> http://blog.klokan.cz/
> >> http://www.maptiler.org/
> >> http://www.oldmapsonline.org/
> >>
> >
> >
> >
> > --
> > Mano Marks
> > Geo Developer Advocate
> > Google, Inc.
> > mmarks@google.com
> > http://twitter.com/ManoMarks
> >
>
>
>
> --
> http://blog.klokan.cz/
> http://www.maptiler.org/
> http://www.oldmapsonline.org/
>



-- 
Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks
Join me for Google I/O, Google's biggest Developer Conference, in San
Francisco, May 27th and 28th, 2009
http://code.google.com/events/io/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090402/b5cd1fa2/attachment-0001.html
From sts5678 at yahoo.com  Fri Apr  3 01:44:52 2009
From: sts5678 at yahoo.com (stephen tan)
Date: Fri Apr  3 01:51:33 2009
Subject: [gdal-dev] problem building static gdal with static kakadu
Message-ID: <502042.77462.qm@web50606.mail.re2.yahoo.com>


I am having problems compiling a static build of gdal-1.5.1 with a static library of kakadu-6.1.1.  The static kakadu library, libkdu.a, resides in /usr/local/kakadu-6.1.1/lib.

I configure gdal with the following options:
--disable-shared
--with-kakadu=/usr/local/kakadu-6.1.1

I receive several undefined reference errors when trying to build the gdal binaries (ie. gdalinfo, gdal_translate, etc).  The errors are against the kdu objects.

I then tried the following options in place of "--disable-shared":
--without-ld-shared --without-libtool

This successfully compiled and produced binaries that seemed to be linked to the static gdal library (ldd gdalinfo did not pop up any libgdal.so).

What is the difference in the configure options?  Any suggestions on getting disable-shared working?

Thanks


      
From schut at sarvision.nl  Fri Apr  3 02:04:41 2009
From: schut at sarvision.nl (Vincent Schut)
Date: Fri Apr  3 02:04:44 2009
Subject: [Gdal-dev] how can i get the error msg
In-Reply-To: <1238685955629-2575846.post@n2.nabble.com>
References: <1238681036459-2575343.post@n2.nabble.com>	<49D4D441.7060302@pobox.com>
	<1238685955629-2575846.post@n2.nabble.com>
Message-ID: <49D5A6F9.5070409@sarvision.nl>

mjollnir wrote:
> It's ok. thanks form your reply.
>
> can i know the health status of the image file before process it.
>   
You could try opening and reading its contents first? If the file is 
bad, I'd say you'd probably get an error somewhere while reading it. On 
the command line I'd do this with 'gdalinfo -mm <file>'.

Vincent
From klokan at klokan.cz  Fri Apr  3 06:04:20 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Fri Apr  3 06:04:22 2009
Subject: [gdal-dev] gdal2tiles strangeness
In-Reply-To: <781bff30904021750p6c56396fx97381b93cf9db96e@mail.gmail.com>
References: <781bff30903310937t4a9b6347hef2b27cbe1ca18d6@mail.gmail.com>
	<6e41d95b0903311335k7074f73v6e5314ddb7215065@mail.gmail.com>
	<781bff30903311657n7f29d083xd7c54aa0abed3a54@mail.gmail.com>
	<6e41d95b0904010509u3113e52ey7fc5e0cdb6ecc0d5@mail.gmail.com>
	<781bff30904021750p6c56396fx97381b93cf9db96e@mail.gmail.com>
Message-ID: <6e41d95b0904030304w223013d6m107cfc599e976177@mail.gmail.com>

Dear Mano,

You are right, gdal2tiles.py in stable GDAL 1.6 has a bug for KML
generation in "-p raster", which is now fixed in gdal-trunk as well as
in maptiler SVN...

Here is it step by step for your process:

- Download the latest gdal2tiles from gdal-trunk or maptiler svn and
save it on your disk:
http://maptiler.googlecode.com/svn/trunk/maptiler/gdal2tiles.py

- Download the "world.200401.3x21600x10800.jpg" (or any other world map):
http://earthobservatory.nasa.gov/Features/BlueMarble/BlueMarble_monthlies.php

- Assign georeference and srs:
gdal_translate -of vrt -a_srs epsg:4326 -a_ullr -180 90 180 -90
world.200401.3x21600x10800.jpg world.vrt

- Create 'raster' tiles (it will automatically generate KML, because
input is epsg:4326):
python ./gdal2tiles.py -p raster world.vrt

Open doc.kml in Google Earth...  ;-)

If you don't want to update the gdal2tiles utility and you need
workflow with stable GDAL 1.6 then use:

gdal2tiles -p geodetic world.vrt

It will generate you correct KML for Google Earth directly and viewer
compatible with OpenLayers base map and other WMS, WMS-C, and TMS
services, but your map will be resampled to one of the fixed map
scales - according the TMS Global Geodetic profile definition:
http://wiki.osgeo.org/wiki/Tile_Map_Service_Specification

Best regards,

Klokan

2009/4/3 Mano Marks <mmarks@google.com>:
> So, using -p "raster" creates far worse distortion in the KML. I'm back to
> not using it. I get distortion only at the highest zoom levels that way.
>
> 2009/4/1 Klokan Petr P?idal <klokan@klokan.cz>
>>
>> Mano,
>>
>> > Thanks for the pointer. So it looks like, right now, there's a bug in
>> > gdal2tiles, according to ?Jesse? Any news on when that might be fixed?
>>
>> Just use this gdal2tiles.py:
>> http://maptiler.googlecode.com/svn/trunk/maptiler/gdal2tiles.py
>>
>> The issue he is referring is fixed in MapTiler SVN:
>> http://code.google.com/p/maptiler/issues/detail?id=9
>> Commited in maptiler SVN in r17 on Mar 20, 2009.
>>
>> I am proposing to fix all known bugs during this summer as part of
>> Google Summer of Code project, and also implement support for OGC WMTS
>> standard, publish a stable version of MapTiler
>> (http://www.maptiler.org/) and synchronize the code with GDAL SVN.
>>
>> Klokan
>>
>> >
>> > Mano
>> >
>> > 2009/3/31 Klokan Petr P?idal <klokan@klokan.cz>:
>> >> Mano,
>> >>
>> >> If you would like to have both Google Maps and Google Earth
>> >> presentation for a global map then you must generate two tile sets,
>> >> because Google Maps supports only Mercator tiles (EPSG:900913) and
>> >> Google Earth only geodetic (EPSG:4326).
>> >>
>> >> GDAL2Tiles has as a default tile profile 'mercator', it means that it
>> >> will warp your input into Spherical Mercator internally.
>> >> To create tiles and KML for Google Earth for your EPSG:4326 input data
>> >> you should use -p "raster".
>> >>
>> >> From the "gdal2tiles --help":
>> >>
>> >> -k, --force-kml ? ? Generate KML for Google Earth - default for
>> >> 'geodetic'
>> >> ? ? ? ? ? ? ? ? ? ? ? ?profile and 'raster' in EPSG:4326. For a dataset
>> >> with
>> >> ? ? ? ? ? ? ? ? ? ? ? ?different projection use with caution!
>> >>
>> >> Detailed description of recommended step by step usage of gdal2tiles
>> >> for global maps was posted by Jesse Varner
>> >> from CIRES & NOAA/NGDC, who used gdal2tiles for official presentation
>> >> of Global magnetic anomaly map EMAG2 (for Google Maps/Earth) at:
>> >> http://ngdc.noaa.gov/geomag/data/Google_Maps/EMAG2/index.html
>> >>
>> >> His post is here:
>> >> http://groups.google.com/group/maptiler/msg/fe105e27a62711e4
>> >>
>> >> Best regards,
>> >>
>> >> Klokan
>> >>
>> >> On Tue, Mar 31, 2009 at 6:37 PM, Mano Marks <mmarks@google.com> wrote:
>> >>> I'm getting started with gdal2tiles, and I'm getting strange results.
>> >>>
>> >>> I downloaded a blue marble jpg from NASA:
>> >>> http://www.nasa.gov/vision/earth/features/blue_marble.html
>> >>>
>> >>> And I ran the following command lines:
>> >>>
>> >>> gdal_translate -of VRT -a_srs EPSG:4326 -gcp 0 0 -180 90 -gcp 21600 0
>> >>> 180 90 -gcp 21600 10800 180 -90 world_200401.jpg bluemarble1.vrt
>> >>>
>> >>> gdalwarp -of VRT -t_srs EPSG:4326 bluemarble1.vrt bluemarble2.vrt
>> >>>
>> >>> gdal2tiles -k bluemarble2.vrt
>> >>>
>> >>> Of course, the last step took awhile.
>> >>>
>> >>> The Google Maps and OpenLayers output was fine. However, the KML had
>> >>> some odd results. When loaded directly, it looked fine, but when I
>> >>> zoomed out, it appeared that what was the equivalent of zoom 0 and 1
>> >>> the images retain a Mercator projection. Is this a known issue, or did
>> >>> I do something wrong?
>> >>>
>> >>> --
>> >>> Mano Marks
>> >>> Geo Developer Advocate
>> >>> Google, Inc.
>> >>> mmarks@google.com
>> >>> http://twitter.com/ManoMarks
>> >>> _______________________________________________
>> >>> gdal-dev mailing list
>> >>> gdal-dev@lists.osgeo.org
>> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >>>
>> >>
>> >>
>> >>
>> >> --
>> >> http://blog.klokan.cz/
>> >> http://www.maptiler.org/
>> >> http://www.oldmapsonline.org/
>> >>
>> >
>> >
>> >
>> > --
>> > Mano Marks
>> > Geo Developer Advocate
>> > Google, Inc.
>> > mmarks@google.com
>> > http://twitter.com/ManoMarks
>> >
>>
>>
>>
>> --
>> http://blog.klokan.cz/
>> http://www.maptiler.org/
>> http://www.oldmapsonline.org/
>
>
>
> --
> Mano Marks
> Geo Developer Advocate
> http://twitter.com/ManoMarks
> Join me for Google I/O, Google's biggest Developer Conference, in San
> Francisco, May 27th and 28th, 2009
> http://code.google.com/events/io/
>
>
-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From mmarks at google.com  Fri Apr  3 19:24:52 2009
From: mmarks at google.com (Mano Marks)
Date: Fri Apr  3 19:24:57 2009
Subject: [gdal-dev] gdal2tiles strangeness
In-Reply-To: <6e41d95b0904030304w223013d6m107cfc599e976177@mail.gmail.com>
References: <781bff30903310937t4a9b6347hef2b27cbe1ca18d6@mail.gmail.com>
	<6e41d95b0903311335k7074f73v6e5314ddb7215065@mail.gmail.com>
	<781bff30903311657n7f29d083xd7c54aa0abed3a54@mail.gmail.com>
	<6e41d95b0904010509u3113e52ey7fc5e0cdb6ecc0d5@mail.gmail.com>
	<781bff30904021750p6c56396fx97381b93cf9db96e@mail.gmail.com>
	<6e41d95b0904030304w223013d6m107cfc599e976177@mail.gmail.com>
Message-ID: <781bff30904031624g5e7f0053qb862850c670261e2@mail.gmail.com>

Hi Klokan,

Thanks for all your help on this. The steps you outlined are very
similar to what I tried originally. Even with the new gdal2tiles.py,
and following your instructions exactly, I get the same result. When I
open the doc.kml it looks great. But when you zoom out, the tiles
shift to what I believe are projected images.

Adding -p geodetic does fix the problem, but it would be nice to
figure out if this is a bug and then fix it.

Mano

2009/4/3 Klokan Petr P?idal <klokan@klokan.cz>:
> Dear Mano,
>
> You are right, gdal2tiles.py in stable GDAL 1.6 has a bug for KML
> generation in "-p raster", which is now fixed in gdal-trunk as well as
> in maptiler SVN...
>
> Here is it step by step for your process:
>
> - Download the latest gdal2tiles from gdal-trunk or maptiler svn and
> save it on your disk:
> http://maptiler.googlecode.com/svn/trunk/maptiler/gdal2tiles.py
>
> - Download the "world.200401.3x21600x10800.jpg" (or any other world map):
> http://earthobservatory.nasa.gov/Features/BlueMarble/BlueMarble_monthlies.php
>
> - Assign georeference and srs:
> gdal_translate -of vrt -a_srs epsg:4326 -a_ullr -180 90 180 -90
> world.200401.3x21600x10800.jpg world.vrt
>
> - Create 'raster' tiles (it will automatically generate KML, because
> input is epsg:4326):
> python ./gdal2tiles.py -p raster world.vrt
>
> Open doc.kml in Google Earth... ?;-)
>
> If you don't want to update the gdal2tiles utility and you need
> workflow with stable GDAL 1.6 then use:
>
> gdal2tiles -p geodetic world.vrt
>
> It will generate you correct KML for Google Earth directly and viewer
> compatible with OpenLayers base map and other WMS, WMS-C, and TMS
> services, but your map will be resampled to one of the fixed map
> scales - according the TMS Global Geodetic profile definition:
> http://wiki.osgeo.org/wiki/Tile_Map_Service_Specification
>
> Best regards,
>
> Klokan
>
> 2009/4/3 Mano Marks <mmarks@google.com>:
>> So, using -p "raster" creates far worse distortion in the KML. I'm back to
>> not using it. I get distortion only at the highest zoom levels that way.
>>
>> 2009/4/1 Klokan Petr P?idal <klokan@klokan.cz>
>>>
>>> Mano,
>>>
>>> > Thanks for the pointer. So it looks like, right now, there's a bug in
>>> > gdal2tiles, according to ?Jesse? Any news on when that might be fixed?
>>>
>>> Just use this gdal2tiles.py:
>>> http://maptiler.googlecode.com/svn/trunk/maptiler/gdal2tiles.py
>>>
>>> The issue he is referring is fixed in MapTiler SVN:
>>> http://code.google.com/p/maptiler/issues/detail?id=9
>>> Commited in maptiler SVN in r17 on Mar 20, 2009.
>>>
>>> I am proposing to fix all known bugs during this summer as part of
>>> Google Summer of Code project, and also implement support for OGC WMTS
>>> standard, publish a stable version of MapTiler
>>> (http://www.maptiler.org/) and synchronize the code with GDAL SVN.
>>>
>>> Klokan
>>>
>>> >
>>> > Mano
>>> >
>>> > 2009/3/31 Klokan Petr P?idal <klokan@klokan.cz>:
>>> >> Mano,
>>> >>
>>> >> If you would like to have both Google Maps and Google Earth
>>> >> presentation for a global map then you must generate two tile sets,
>>> >> because Google Maps supports only Mercator tiles (EPSG:900913) and
>>> >> Google Earth only geodetic (EPSG:4326).
>>> >>
>>> >> GDAL2Tiles has as a default tile profile 'mercator', it means that it
>>> >> will warp your input into Spherical Mercator internally.
>>> >> To create tiles and KML for Google Earth for your EPSG:4326 input data
>>> >> you should use -p "raster".
>>> >>
>>> >> From the "gdal2tiles --help":
>>> >>
>>> >> -k, --force-kml ? ? Generate KML for Google Earth - default for
>>> >> 'geodetic'
>>> >> ? ? ? ? ? ? ? ? ? ? ? ?profile and 'raster' in EPSG:4326. For a dataset
>>> >> with
>>> >> ? ? ? ? ? ? ? ? ? ? ? ?different projection use with caution!
>>> >>
>>> >> Detailed description of recommended step by step usage of gdal2tiles
>>> >> for global maps was posted by Jesse Varner
>>> >> from CIRES & NOAA/NGDC, who used gdal2tiles for official presentation
>>> >> of Global magnetic anomaly map EMAG2 (for Google Maps/Earth) at:
>>> >> http://ngdc.noaa.gov/geomag/data/Google_Maps/EMAG2/index.html
>>> >>
>>> >> His post is here:
>>> >> http://groups.google.com/group/maptiler/msg/fe105e27a62711e4
>>> >>
>>> >> Best regards,
>>> >>
>>> >> Klokan
>>> >>
>>> >> On Tue, Mar 31, 2009 at 6:37 PM, Mano Marks <mmarks@google.com> wrote:
>>> >>> I'm getting started with gdal2tiles, and I'm getting strange results.
>>> >>>
>>> >>> I downloaded a blue marble jpg from NASA:
>>> >>> http://www.nasa.gov/vision/earth/features/blue_marble.html
>>> >>>
>>> >>> And I ran the following command lines:
>>> >>>
>>> >>> gdal_translate -of VRT -a_srs EPSG:4326 -gcp 0 0 -180 90 -gcp 21600 0
>>> >>> 180 90 -gcp 21600 10800 180 -90 world_200401.jpg bluemarble1.vrt
>>> >>>
>>> >>> gdalwarp -of VRT -t_srs EPSG:4326 bluemarble1.vrt bluemarble2.vrt
>>> >>>
>>> >>> gdal2tiles -k bluemarble2.vrt
>>> >>>
>>> >>> Of course, the last step took awhile.
>>> >>>
>>> >>> The Google Maps and OpenLayers output was fine. However, the KML had
>>> >>> some odd results. When loaded directly, it looked fine, but when I
>>> >>> zoomed out, it appeared that what was the equivalent of zoom 0 and 1
>>> >>> the images retain a Mercator projection. Is this a known issue, or did
>>> >>> I do something wrong?
>>> >>>
>>> >>> --
>>> >>> Mano Marks
>>> >>> Geo Developer Advocate
>>> >>> Google, Inc.
>>> >>> mmarks@google.com
>>> >>> http://twitter.com/ManoMarks
>>> >>> _______________________________________________
>>> >>> gdal-dev mailing list
>>> >>> gdal-dev@lists.osgeo.org
>>> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> >>>
>>> >>
>>> >>
>>> >>
>>> >> --
>>> >> http://blog.klokan.cz/
>>> >> http://www.maptiler.org/
>>> >> http://www.oldmapsonline.org/
>>> >>
>>> >
>>> >
>>> >
>>> > --
>>> > Mano Marks
>>> > Geo Developer Advocate
>>> > Google, Inc.
>>> > mmarks@google.com
>>> > http://twitter.com/ManoMarks
>>> >
>>>
>>>
>>>
>>> --
>>> http://blog.klokan.cz/
>>> http://www.maptiler.org/
>>> http://www.oldmapsonline.org/
>>
>>
>>
>> --
>> Mano Marks
>> Geo Developer Advocate
>> http://twitter.com/ManoMarks
>> Join me for Google I/O, Google's biggest Developer Conference, in San
>> Francisco, May 27th and 28th, 2009
>> http://code.google.com/events/io/
>>
>>
> --
> http://blog.klokan.cz/
> http://www.maptiler.org/
> http://www.oldmapsonline.org/
>



-- 
Mano Marks
Geo Developer Advocate
http://twitter.com/ManoMarks
Join me for Google I/O, Google's biggest Developer Conference, in San
Francisco, May 27th and 28th, 2009
http://code.google.com/events/io/
From luckmdw at gmail.com  Sat Apr  4 03:11:43 2009
From: luckmdw at gmail.com (=?GB2312?B?wu3R3sjj?=)
Date: Sat Apr  4 03:11:47 2009
Subject: [gdal-dev] a trouled problem about PROJ-4
Message-ID: <c5958fa00904040011l74c0f001w868d634ad774daa1@mail.gmail.com>

Hello,my friends:
   I have a trouble that trouble me so  long.in a few weeks ago,i accepte a
project to compile a program about gps application,which use the
proj.4.6.1,to ran on the intel Xscale  pxa270 Platform.in the fowllow,i
configure the PROJ and then compile it on the cross-compiling toolchain.
#!/bin/bash
rm -f config.cache config.status
make clean
CC=arm-linux-gcc \
CXX=arm-linux-g++ \
#CFLAGS="-pipe -s -O2 -march=armv5te -mtune=xscale" \
#LDFLAGS="-Wl,-O1"
./configure --prefix=/root/gis \
  --build=i686-pc-linux-gnu \
  --host=arm-linux \
  --target=arm-linux\
  --with-PACKAGE=yes \
  --enable-FEATURE=yes
make
make install

 I will also post a section of my program that include the pj_init()
function that seems cause the error.
void EngineCommon::initialize_proj_ref()
{
    if(projRef != NULL) release_proj_ref();

    char* parameters[]={"proj=lcc","ellps=WGS84"};

//double lat_1=45;
//double lat_2=60;
      if(!(projRef = pj_init(2,parameters))){
     //if(!(projRef = pj_init_plus(*parameters))){
        printf("Projection Initialization Failure:
%d\n%s\n",pj_errno,pj_strerrno(pj_errno));
      printf("error number:%d\n",pj_errno);

    }

}
    my program can run on the pc succsessfully ,but when i transplantate
after compile it together with the proj which utilize the arm
cross-compiling toolchian,and then run on the Xscale platform,some
information may suggest some error on the terminal,confer to the follow;

   Projection Initialization Failure: -21
    conic lat_1 =
-lat_2
    error
number:-21
    table poi_category already
exists
    466163d,0d,0
    Aborted
      but i don't konw the reason ,two weeks have elapsed and i am in urgent
for solving the problem , is any friend encouter the same situation ,any
suggestion is thanking,help me please!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090404/d5926485/attachment.html
From whatevar89 at gmail.com  Sat Apr  4 05:09:52 2009
From: whatevar89 at gmail.com (erik)
Date: Sat Apr  4 05:09:55 2009
Subject: [gdal-dev] gdalwarp and image size change
Message-ID: <5c218180904040209h32698ac7h662fbc2c791169e1@mail.gmail.com>

Hi,

I'm new to gdal, geotiffs & stuff, so sorry if this all seems obvious.
I've been trying to reproject a geotiff from "+proj=utm +zone=29 +ellps=intl
+units=m +no_defs" (European 1950, zone 29 - Portugal) to WGS84.

gdalwarp -s_srs "+proj=utm +zone=29 +ellps=intl +units=m +no_defs" -t_srs
"+proj=latlong +datum=WGS84" map.tif map3.tif

The original file is 5366 x 3387
but ... the reprojected file is 5695 x 2863

With the naked eye I can't see much change. Is this behaviour normal?

Concerning the original file, it was built with gcp's in gdal_translate and
then warped in the original projection. Maybe this isn't enough? In the
ozi2geotiff.py script I see he does a second translate with several creation
options (-co) for tiled, block(x,y)size, compress and predictor. As well as
some other stuff with convert, listgeo and geotifcp.

Thanks,
Erik.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090404/2848ee80/attachment.html
From even.rouault at mines-paris.org  Sat Apr  4 07:06:06 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Apr  4 07:06:26 2009
Subject: [gdal-dev] gdalwarp and image size change
In-Reply-To: <5c218180904040209h32698ac7h662fbc2c791169e1@mail.gmail.com>
References: <5c218180904040209h32698ac7h662fbc2c791169e1@mail.gmail.com>
Message-ID: <200904041306.09032.even.rouault@mines-paris.org>

The small difference in sizes is not so small and at the first sight, it 
doesn't look wrong.

But the reprojection might not be as exact as you wish. If you use proj >= 
4.6.0, no ellipsoid changes would have been done, as your source SRS has no 
datum specification, but only an ellipsoid specification. You should probably 
add +towgs84 parameters in your source SRS to specify a datum shift.

"The big change in PROJ 4.6.0 was that pj_transform() will no longer try to
apply datum shifts if either the source or destination lack a datum
declaration (either +datum, +towgs84 or +nadgrids)"

Le Saturday 04 April 2009 11:09:52 erik, vous avez ?crit?:
> Hi,
>
> I'm new to gdal, geotiffs & stuff, so sorry if this all seems obvious.
> I've been trying to reproject a geotiff from "+proj=utm +zone=29
> +ellps=intl +units=m +no_defs" (European 1950, zone 29 - Portugal) to
> WGS84.
>
> gdalwarp -s_srs "+proj=utm +zone=29 +ellps=intl +units=m +no_defs" -t_srs
> "+proj=latlong +datum=WGS84" map.tif map3.tif
>
> The original file is 5366 x 3387
> but ... the reprojected file is 5695 x 2863
>
> With the naked eye I can't see much change. Is this behaviour normal?
>
> Concerning the original file, it was built with gcp's in gdal_translate and
> then warped in the original projection. Maybe this isn't enough? In the
> ozi2geotiff.py script I see he does a second translate with several
> creation options (-co) for tiled, block(x,y)size, compress and predictor.
> As well as some other stuff with convert, listgeo and geotifcp.
>
> Thanks,
> Erik.


From meenu.monu at gmail.com  Sun Apr  5 02:47:50 2009
From: meenu.monu at gmail.com (meenu)
Date: Sun Apr  5 02:47:52 2009
Subject: [Gdal-dev] hiow can i convert mapinfo workspace to mapserver mapfile?
Message-ID: <1238914070054-2587806.post@n2.nabble.com>


hi all...advance thanks...i downloaded wor2map.zip for converting mapinfo workspace to mapserver map file...but how can i use this wor2map for this convertion...in this folder 3 files is there .MBX,.MB,.DEF...how can use this files for converting my mapinfo files to mapserver mapfle???
-- 
View this message in context: http://n2.nabble.com/hiow-can-i-convert-mapinfo-workspace-to-mapserver-mapfile--tp2587806p2587806.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jorsion at gmail.com  Sun Apr  5 03:12:22 2009
From: jorsion at gmail.com (jor sion)
Date: Sun Apr  5 03:12:25 2009
Subject: [gdal-dev] How to get the group information
Message-ID: <8c2bdf730904050012v1b582ec2i65b599e416560356@mail.gmail.com>

Hi,

I am programing in csharp to read hdf file with GDAL.

Anybody knows how to get groups' information in HDF files in CSharp. I don't
know how can i get the information about groups. I can only get SDS by the
subdatasets domain,

but I cant get the information of the table dataset in hdf files. Is table
not SDS?


Best regards,

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090405/7111b295/attachment.html
From meenu.monu at gmail.com  Sun Apr  5 08:42:02 2009
From: meenu.monu at gmail.com (meenu)
Date: Sun Apr  5 08:42:03 2009
Subject: [Gdal-dev] some doubts about mapserver website
Message-ID: <1238935322349-2588474.post@n2.nabble.com>


hi all...
can anybody help me to answer some questions about maserver website...
i created one mapserver website using c#mapscript in vs2005 with the use of  mapinfo .TAB files.....web is loading fine with basic requirements...now i have some doubts...

1.what is the format of gis data which is showing in to the website???
2.where is the database of gis data??whether the database is  data folder of mapinfo or not???
3.whther mapserver support arabic fonts done by mapinfo??
4.how this gisdata coming to mapserver website(using mapscript)??is any diagram available in net?


regards
meenu
-- 
View this message in context: http://n2.nabble.com/some-doubts-about-mapserver-website-tp2588474p2588474.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mateusz at loskot.net  Sun Apr  5 08:57:26 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun Apr  5 08:57:35 2009
Subject: [Gdal-dev] some doubts about mapserver website
In-Reply-To: <1238935322349-2588474.post@n2.nabble.com>
References: <1238935322349-2588474.post@n2.nabble.com>
Message-ID: <49D8AAB6.8090306@loskot.net>

meenu wrote:
> hi all...
> can anybody help me to answer some questions about maserver website...

These questions belong to MapServer mailing lists [1], but not here.

[1] http://lists.osgeo.org/

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From yongdu at canada.com  Sun Apr  5 20:23:58 2009
From: yongdu at canada.com (yong du)
Date: Sun Apr  5 20:29:26 2009
Subject: [gdal-dev] Hello, Why I can't send email to this account?
Message-ID: <20090406002924.32FF4E00725@lists.osgeo.org>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090405/a14ad6c0/attachment.html
From yongdu at canada.com  Sun Apr  5 21:37:17 2009
From: yongdu at canada.com (yong du)
Date: Sun Apr  5 21:37:20 2009
Subject: [gdal-dev] "Open Subarea" of Geotiff with openEV
Message-ID: <20090406013718.1FFAFE00725@lists.osgeo.org>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090405/477f5362/attachment.html
From warmerdam at pobox.com  Sun Apr  5 23:13:25 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Apr  5 23:13:42 2009
Subject: [gdal-dev] "Open Subarea" of Geotiff with openEV
In-Reply-To: <20090406013718.1FFAFE00725@lists.osgeo.org>
References: <20090406013718.1FFAFE00725@lists.osgeo.org>
Message-ID: <49D97355.4050403@pobox.com>

yong du wrote:
> Hello,
> I am using OpenEV to read geotiff file converted from CEOS format of 
> Radarsat SAR image. What I am trying to do is to cut a subarea in the 
> whole scene. When I run "open subarea", it doesn't work. Any solution 
> and advice?

Yong,

I have corrected a bug with the open_subarea.py tool.   The patch looks like:

diff -r1.3 open_subarea.py
178a179
 >             self.band_num_list = [1]


This changes the tools/open_subarea.py file such that the end of the
method file_selection_ok() looks like:

         else:
             self.band_num_list = [1]
             self.band_grid.hide()
  	self.dialog.show()

This problem only affects files with one band.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From agiannas at geo.auth.gr  Mon Apr  6 09:03:26 2009
From: agiannas at geo.auth.gr (APOSTOLOS)
Date: Mon Apr  6 09:03:28 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
In-Reply-To: <1136158046.7862.10.camel@localhost.localdomain>
References: <1136158046.7862.10.camel@localhost.localdomain>
Message-ID: <1239023006643-2592943.post@n2.nabble.com>





Dear list 
I want to built MSG DRIVER for GDAL in order to read hrit data. I have dowloaded Wavelet Transform Software 2.04 in my UBUNTU I tried to follow the building instructions in http://www.gdal.org/frmt_msg.html Ihave also applied the patch for the WAVELET i found in the site http://trac.osgeo.org/gdal/ticket/2168

in my folder msg i put the fixes that enable MSG compilation with GCC 4.3.2

frmts/msg# ls -l
total 172
-rwxr-xr-x 1 root root 71088 2009-04-06 13:15 configure.in
-rw-r--r-- 1 root root 13789 2009-04-06 13:09 msgcommand.cpp
-rw-r--r-- 1 root root  2667 2009-04-06 13:28 msgcommand.h
-rw-r--r-- 1 root root 31957 2009-04-06 13:43 msgdataset.cpp
-rw-r--r-- 1 root root  3753 2009-04-06 13:45 msgdataset.h
-rw-r--r-- 1 root root  7024 2009-04-06 13:47 prologue.cpp
-rw-r--r-- 1 root root  3730 2009-04-06 13:50 prologue.h
drwxr-xr-x 5 root root  4096 2009-04-06 10:49 PublicDecompWT
-rw-r--r-- 1 root root  5618 2009-04-06 13:11 reflectancecalculator.cpp
-rw-r--r-- 1 root root  2579 2009-04-06 13:55 reflectancecalculator.h
-rw-r--r-- 1 root root  5506 2009-04-06 13:12 xritheaderparser.cpp
-rw-r--r-- 1 root root  2635 2009-04-06 13:56 xritheaderparser.h

But when i try to enable MSG driver: i get the following 

root@root1-desktop:~/frmts# ./configure.in --with-msg
./configure.in: line 2: dnl: command not found
./configure.in: line 3: dnl: command not found
./configure.in: line 4: dnl: command not found
./configure.in: line 5: dnl: command not found
./configure.in: line 6: dnl: command not found
./configure.in: line 7: dnl: command not found
./configure.in: line 8: dnl: command not found
./configure.in: line 9: dnl: command not found
./configure.in: line 10: syntax error near unexpected token `('
./configure.in: line 10: `dnl Copyright (c) 2000, Frank Warmerdam'
root@root1-desktop:~/frmts# 


Because i am new in linux i would appreciated if someone would give me detailled instructions about building MSG DRIVER IN GDAL 

Thanks in advance for your time



-- 
View this message in context: http://n2.nabble.com/MSG-Interface-tp2024510p2592943.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From agiannas at geo.auth.gr  Mon Apr  6 10:13:55 2009
From: agiannas at geo.auth.gr (APOSTOLOS)
Date: Mon Apr  6 10:13:57 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
Message-ID: <1239027235635-2593313.post@n2.nabble.com>




Dear list 
I want to built MSG DRIVER for GDAL in order to read hrit data. I have dowloaded Wavelet Transform Software 2.04 in my UBUNTU I tried to follow the building instructions in http://www.gdal.org/frmt_msg.html Ihave also applied the patch for the WAVELET i found in the site http://trac.osgeo.org/gdal/ticket/2168

in my folder msg i put the fixes that enable MSG compilation with GCC 4.3.2 

frmts/msg# ls -l 
total 172 
-rwxr-xr-x 1 root root 71088 2009-04-06 13:15 configure.in 
-rw-r--r-- 1 root root 13789 2009-04-06 13:09 msgcommand.cpp 
-rw-r--r-- 1 root root  2667 2009-04-06 13:28 msgcommand.h 
-rw-r--r-- 1 root root 31957 2009-04-06 13:43 msgdataset.cpp 
-rw-r--r-- 1 root root  3753 2009-04-06 13:45 msgdataset.h 
-rw-r--r-- 1 root root  7024 2009-04-06 13:47 prologue.cpp 
-rw-r--r-- 1 root root  3730 2009-04-06 13:50 prologue.h 
drwxr-xr-x 5 root root  4096 2009-04-06 10:49 PublicDecompWT 
-rw-r--r-- 1 root root  5618 2009-04-06 13:11 reflectancecalculator.cpp 
-rw-r--r-- 1 root root  2579 2009-04-06 13:55 reflectancecalculator.h 
-rw-r--r-- 1 root root  5506 2009-04-06 13:12 xritheaderparser.cpp 
-rw-r--r-- 1 root root  2635 2009-04-06 13:56 xritheaderparser.h 

But when i try to enable MSG driver: i get the following 

root@root1-desktop:~/frmts# ./configure.in --with-msg 
./configure.in: line 2: dnl: command not found 
./configure.in: line 3: dnl: command not found 
./configure.in: line 4: dnl: command not found 
./configure.in: line 5: dnl: command not found 
./configure.in: line 6: dnl: command not found 
./configure.in: line 7: dnl: command not found 
./configure.in: line 8: dnl: command not found 
./configure.in: line 9: dnl: command not found 
./configure.in: line 10: syntax error near unexpected token `(' 
./configure.in: line 10: `dnl Copyright (c) 2000, Frank Warmerdam' 
root@root1-desktop:~/frmts# 


Because i am new in linux i would appreciated if someone would give me detailled instructions about building MSG DRIVER IN GDAL 

Thanks in advance for your time 


-- 
View this message in context: http://n2.nabble.com/How-to-enable-MSG-DRIVER-tp2593313p2593313.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Mon Apr  6 10:37:22 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Apr  6 10:37:41 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
In-Reply-To: <1239023006643-2592943.post@n2.nabble.com>
References: <1136158046.7862.10.camel@localhost.localdomain>
	<1239023006643-2592943.post@n2.nabble.com>
Message-ID: <49DA13A2.1000301@pobox.com>

APOSTOLOS wrote:
> root@root1-desktop:~/frmts# ./configure.in --with-msg

You should be running ./configure, not ./configure.in.

Try:

./configure --with-msg

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From agiannas at geo.auth.gr  Mon Apr  6 11:01:24 2009
From: agiannas at geo.auth.gr (Apostolos Giannakos)
Date: Mon Apr  6 11:04:19 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
In-Reply-To: <49DA13A2.1000301@pobox.com>
References: <1136158046.7862.10.camel@localhost.localdomain>
	<1239023006643-2592943.post@n2.nabble.com> <49DA13A2.1000301@pobox.com>
Message-ID: <20090406180124.yxee35p5w0c004wg@webmail.auth.gr>


Dear Warmerdam,

First i would like to thank you for your immediate response
The problem is that when i run ./configure --with -msg in the /frmts  
and it doesn;t find the file

Can you please give me detailed instructions about how to build the  
MSG DRIVER because i am quite frunstrated with the whole procedure

Thanks

?????? ?????? ??? Frank Warmerdam <warmerdam@pobox.com>:

> APOSTOLOS wrote:
>> root@root1-desktop:~/frmts# ./configure.in --with-msg
>
> You should be running ./configure, not ./configure.in.
>
> Try:
>
> ./configure --with-msg
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent




From jgomezdans at gmail.com  Mon Apr  6 11:23:24 2009
From: jgomezdans at gmail.com (Jose =?utf-8?q?G=C3=B3mez-Dans?=)
Date: Mon Apr  6 11:23:15 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
In-Reply-To: <20090406180124.yxee35p5w0c004wg@webmail.auth.gr>
References: <1136158046.7862.10.camel@localhost.localdomain>
	<49DA13A2.1000301@pobox.com>
	<20090406180124.yxee35p5w0c004wg@webmail.auth.gr>
Message-ID: <200904061623.24833.jgomezdans@gmail.com>

On Monday 06 April 2009 16:01:24 Apostolos Giannakos wrote:
> Dear Warmerdam,
>
> First i would like to thank you for your immediate response
> The problem is that when i run ./configure --with -msg in the /frmts
> and it doesn;t find the file

The configure script is in the main directory (i.e., you download the source 
tarball, uncompress it, cd into the created directory, and issue 
your ./configure command).

Jose


-- 
RSU ? Dept. of Geography ? University College ? Gower St, London WC1E 6BT UK
EMM ? Dept. of Geography ? King's College ?  Strand, London WC2R 2LS UK
From jdt113 at msstate.edu  Mon Apr  6 16:07:26 2009
From: jdt113 at msstate.edu (jteasis)
Date: Mon Apr  6 16:08:20 2009
Subject: [Gdal-dev] adding two SpatialReferences
Message-ID: <1239048446817-2595147.post@n2.nabble.com>


Anybody know how I can take the Projection and Parameters of one SpatialReference and added it to anotehr SpatialReference that only has the ProjCS, GeoGCS, and Datum, Spheroid....
-- 
View this message in context: http://n2.nabble.com/adding-two-SpatialReferences-tp2595147p2595147.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From satelliteterra at gmail.com  Mon Apr  6 16:49:15 2009
From: satelliteterra at gmail.com (Terra Modis)
Date: Mon Apr  6 16:49:19 2009
Subject: [gdal-dev] How Can I Built Model
Message-ID: <8131dd660904061349w1c42c93ap2799b219b888b72b@mail.gmail.com>

Hello!

I use Open EV for only a reprojection tool and i am trying to find a way to
built up a model.
Are there any possibility to do it?

Thanks..
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090406/c84d3cca/attachment.html
From jorsion at gmail.com  Mon Apr  6 23:29:06 2009
From: jorsion at gmail.com (jor sion)
Date: Mon Apr  6 23:29:08 2009
Subject: [gdal-dev] How to get the document structure information of HDF
	files
Message-ID: <8c2bdf730904062029k792fbeefwbb2e452e461b5d6d@mail.gmail.com>

Hi,

Using GDAL to read HDF files in CSharp, but I do not know how to parse the

document  structure, that is, how to get the vgroup information, then with
the

information of vgroup and vdata, the tree view can be formed, just like the
table

of centent in hdf explorer.


Best regards,

-- 
JoSn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090407/3d7d3755/attachment.html
From agiannas at geo.auth.gr  Tue Apr  7 04:12:31 2009
From: agiannas at geo.auth.gr (APOSTOLOS)
Date: Tue Apr  7 04:12:32 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
In-Reply-To: <200904061623.24833.jgomezdans@gmail.com>
References: <1136158046.7862.10.camel@localhost.localdomain>
	<49DA13A2.1000301@pobox.com>
	<20090406180124.yxee35p5w0c004wg@webmail.auth.gr>
	<200904061623.24833.jgomezdans@gmail.com>
Message-ID: <1239091951526-2597626.post@n2.nabble.com>





Dear list 

in order to clear the mess i sum the following things i have made:1) created a folder frmts/msg and extracted there my Wavelet 2.04 2) I followed the instructions for the patch for wavelet and changed the libraries 3) I have also downloaded a patch and saved it in frmts/msg/PublicDecompWT (the patch includes many filles like msgcommand.cpp, msgcommand.h......)

The only configure like file i found is the one that Frank created. Do i save it in the folder frmts/msg/PublicDecompWT like the others and in order to configure do i have to rename configure.in?


Thanks in Advance







On Monday 06 April 2009 16:01:24 Apostolos Giannakos wrote:
> Dear Warmerdam,
>
> First i would like to thank you for your immediate response
> The problem is that when i run ./configure --with -msg in the /frmts
> and it doesn;t find the file

The configure script is in the main directory (i.e., you download the source 
tarball, uncompress it, cd into the created directory, and issue 
your ./configure command).

Jose


-- 
RSU ? Dept. of Geography ? University College ? Gower St, London WC1E 6BT UK
EMM ? Dept. of Geography ? King's College ?  Strand, London WC2R 2LS UK
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
View this message in context: http://n2.nabble.com/MSG-Interface-tp2024510p2597626.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From rec at geodesign.com.br  Tue Apr  7 07:12:10 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Tue Apr  7 07:15:24 2009
Subject: [gdal-dev] Developing support in MSVC6 & Other
Message-ID: <20090407110959.591B813380A6@smtp.cluster002.whservidor.com>

Folks,

I installed the ready Windows binaries (FWTools) including the 
developer support files. I also downloaded the source files but did 
not compile it.

I tried compiling ogr-capi_test.c  with MS Visual C/C++ 6.0, but get 
several errors:
error LINK2001: unresolved external symbol

What do I need to do to resolve this issue?

Thanks for your help,

Reinaldo

From jef at norbit.de  Tue Apr  7 07:30:14 2009
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Tue Apr  7 07:30:22 2009
Subject: [gdal-dev] Developing support in MSVC6 & Other
In-Reply-To: <20090407110959.591B813380A6@smtp.cluster002.whservidor.com>
References: <20090407110959.591B813380A6@smtp.cluster002.whservidor.com>
Message-ID: <20090407113014.GA20663@norbit.de>

Hi Reinaldo,

On Tue, 07. Apr 2009 at 08:12:10 -0300, Reinaldo Escada Chohfi wrote:
> I tried compiling ogr-capi_test.c  with MS Visual C/C++ 6.0, but get 
> several errors:
> error LINK2001: unresolved external symbol

Which symbols?


J?rgen

-- 
J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de

-- 
norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
Rheinstrasse 13, 26506 Norden
GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502

From rec at geodesign.com.br  Tue Apr  7 08:15:09 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Tue Apr  7 08:13:06 2009
Subject: [gdal-dev] Developing support in MSVC6 & Other
In-Reply-To: <20090407113014.GA20663@norbit.de>
References: <20090407110959.591B813380A6@smtp.cluster002.whservidor.com>
	<20090407113014.GA20663@norbit.de>
Message-ID: <20090407121302.0B3FB5C0011@smtp.cluster002.whservidor.com>

Hi Jurgen,

Lots of them.

Reinaldo

At 08:30 AM 4/7/2009, J?rgen E. Fischer wrote:
>Hi Reinaldo,
>
>On Tue, 07. Apr 2009 at 08:12:10 -0300, Reinaldo Escada Chohfi wrote:
> > I tried compiling ogr-capi_test.c  with MS Visual C/C++ 6.0, but get
> > several errors:
> > error LINK2001: unresolved external symbol
>
>Which symbols?
>
>
>J?rgen
>
>--
>J?rgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-20
>Dipl.-Inf. (FH)           Rheinstra?e 13            Fax. +49-4931-918175-50
>Software Engineer         D-26506 Norden               http://www.norbit.de
>
>--
>norBIT Gesellschaft fuer Unternehmensberatung und Informationssysteme mbH
>Rheinstrasse 13, 26506 Norden
>GF: Jelto Buurman, HR: Amtsgericht Emden, HRB 5502
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev@lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev

Reinaldo Escada Chohfi
Diretor Geral
GeoDesign Internacional - www.geodesign.com.br

E-mail: rec@geodesign.com.br
Tel./Fax: +55-12-3153-5115
Skype: rechohfi

Intelig?ncia e Tecnologia GeoEspacial de Ponta

GeoPDF, MrSID, JPEG 2000 e DjVu

GIS, WebGIS, Processamento de Imagens Geogr?ficas,
Sensoriamento Remoto de Alta Resolu??o

Compress?o de Imagens e Documentos Digitalizados
Servidor de Conte?do - Sistemas de Visualiza??o - Integra??o de Sistemas

Distribuidor Autorizado Ricoh Geo-Imaging
Revendedor Autorizado da Applied Imagery, Blue 
Marble Geographics, Celarten, LizardTech e TerraGo

Rua Vila Peralta, 42
12607-040 - Lorena - SP - Brasil

Informa??o confidencial. N?o retransmitir sem autoriza??o.
Copyright (c) 2009 GeoDesign Internacional
Todos os direitos reservados.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090407/4cccae8a/attachment.html
From j.donovan at virtalis.com  Tue Apr  7 08:19:52 2009
From: j.donovan at virtalis.com (John Donovan)
Date: Tue Apr  7 08:19:57 2009
Subject: [gdal-dev] Developing support in MSVC6 & Other
Message-ID: <C8891C79DFCAB347B9221DF3890EDD2F2ABD89@topdog.Virtalis.local>

Hi Reinaldo,

Then you're not linking against some library or other.

-John


________________________________

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Reinaldo Escada Chohfi
Sent: 07 April 2009 13:15
To: J?rgen E. Fischer; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Developing support in MSVC6 & Other


Hi Jurgen,

Lots of them.

Reinaldo

______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Security System. ______________________________________________________________________
From mateusz at loskot.net  Tue Apr  7 08:27:06 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Apr  7 08:27:03 2009
Subject: [gdal-dev] Developing support in MSVC6 & Other
In-Reply-To: <20090407121302.0B3FB5C0011@smtp.cluster002.whservidor.com>
References: <20090407110959.591B813380A6@smtp.cluster002.whservidor.com>	<20090407113014.GA20663@norbit.de>
	<20090407121302.0B3FB5C0011@smtp.cluster002.whservidor.com>
Message-ID: <49DB469A.3040604@loskot.net>

Reinaldo Escada Chohfi wrote:
> Hi Jurgen,
> 
> Lots of them.

What about reading GDAL documentation first?

http://trac.osgeo.org/gdal/wiki/BuildingOnWindows

"Projects linking against GDAL should include the directory specified in
INCDIR in the include path, and the directory specified in LIBDIR in
their /LIBPATH. To use gdal link against the gdal_i.lib stub library."

Don't forget to read MSDN about how to configure Visual C++
project of your program about adding include directories
and linking libraries.


Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From chaitanya.ch at gmail.com  Tue Apr  7 09:24:51 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue Apr  7 09:24:54 2009
Subject: [Gdal-dev] How to enable MSG DRIVER
In-Reply-To: <1239091951526-2597626.post@n2.nabble.com>
References: <1136158046.7862.10.camel@localhost.localdomain>
	<49DA13A2.1000301@pobox.com>
	<20090406180124.yxee35p5w0c004wg@webmail.auth.gr>
	<200904061623.24833.jgomezdans@gmail.com>
	<1239091951526-2597626.post@n2.nabble.com>
Message-ID: <eb502d880904070624w1766716fh370b1a6a24427fce@mail.gmail.com>

Just compiling the files in frmts/msg is not going to be enough. You
should compile the code from the main directory (that contains the
folders alg,apps,frmts,gcore,ogr,port, etc.). The configure script is
in the same directory. If you want, you can disable other drivers
using the configure script.

On Tue, Apr 7, 2009 at 1:42 PM, APOSTOLOS <agiannas@geo.auth.gr> wrote:
>
> Dear list
>
> in order to clear the mess i sum the following things i have made:1) created a folder frmts/msg and extracted there my Wavelet 2.04 2) I followed the instructions for the patch for wavelet and changed the libraries 3) I have also downloaded a patch and saved it in frmts/msg/PublicDecompWT (the patch includes many filles like msgcommand.cpp, msgcommand.h......)
>
> The only configure like file i found is the one that Frank created. Do i save it in the folder frmts/msg/PublicDecompWT like the others and in order to configure do i have to rename configure.in?
>
>
> Thanks in Advance
>
>
>
> On Monday 06 April 2009 16:01:24 Apostolos Giannakos wrote:
>> Dear Warmerdam,
>>
>> First i would like to thank you for your immediate response
>> The problem is that when i run ./configure --with -msg in the /frmts
>> and it doesn;t find the file
>
> The configure script is in the main directory (i.e., you download the source
> tarball, uncompress it, cd into the created directory, and issue
> your ./configure command).
>
> Jose
>
>
> --
> RSU ? Dept. of Geography ? University College ? Gower St, London WC1E 6BT UK
> EMM ? Dept. of Geography ? King's College ? ?Strand, London WC2R 2LS UK
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
> View this message in context: http://n2.nabble.com/MSG-Interface-tp2024510p2597626.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

-- 
Chaitanya kumar CH.
From ckarney at Sarnoff.com  Tue Apr  7 11:46:42 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Tue Apr  7 11:47:48 2009
Subject: [gdal-dev] (1) NITF imagery in polar regions; (2) Memory question
Message-ID: <91F640D26AB8E54982706321A514CA265130B23F72@MALIBU.sarnoff.internal>

(1) The documentation for NITF data says that it typically uses a polar
projection north of 80N where

    x = (90-lat) * sin(lon)
    y = (90-lat) * -cos(lon)

(not sure I have the phase of lon right...).  I have an ONC image
00028053.on9 where the projection is in this form (lat = 80N is
circular).

However GDAL thinks there's merely an affine transformation between
image space and geographic coordinates.  So when I warp the image to
WGS84 geographic coordinates, lat = 80N is still curved.

Is this a problem with the meta data in my file?  Or is GDAL mishandling
these images at high latitudes.

(I can provide the image file, if necessary.)

(2) I'm having a problem figuring out from the documentation what the
precise rules are on allocating and freeing memory.  In some cases, it's
spelled out.  In others, I'm left to guess.  For example, after

  GDALWarpOptions *warpopt = NULL;
  warpopt = GDALCreateWarpOptions();
  warpopt->panSrcBands = (int *) CPLMalloc(sizeof(int) * totchan);

how does the memory allocated by CPLMalloc get freed.  When I do

  GDALDestroyWarpOptions( warpopt );

or do I have to free it explicitly?

Perhaps this is documented in some place I have stumbled on yet.  Or
perhaps, there's a convention in the prefix letters ("pan") that tells
me how it's handled.

Any guidance would be appreciated.  (I'm using the C++ interface.)

--
Charles Karney <ckarney@sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662
From warmerdam at pobox.com  Tue Apr  7 12:29:56 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Apr  7 12:30:17 2009
Subject: [gdal-dev] (1) NITF imagery in polar regions; (2) Memory question
In-Reply-To: <91F640D26AB8E54982706321A514CA265130B23F72@MALIBU.sarnoff.internal>
References: <91F640D26AB8E54982706321A514CA265130B23F72@MALIBU.sarnoff.internal>
Message-ID: <49DB7F84.6040707@pobox.com>

Karney, Charles wrote:
> (1) The documentation for NITF data says that it typically uses a polar
> projection north of 80N where
> 
>     x = (90-lat) * sin(lon)
>     y = (90-lat) * -cos(lon)
> 
> (not sure I have the phase of lon right...).  I have an ONC image
> 00028053.on9 where the projection is in this form (lat = 80N is
> circular).
> 
> However GDAL thinks there's merely an affine transformation between
> image space and geographic coordinates.  So when I warp the image to
> WGS84 geographic coordinates, lat = 80N is still curved.
> 
> Is this a problem with the meta data in my file?  Or is GDAL mishandling
> these images at high latitudes.
> 
> (I can provide the image file, if necessary.)

Charles,

I would encourage you to file a ticket on this, with a pointer to the
data.

> (2) I'm having a problem figuring out from the documentation what the
> precise rules are on allocating and freeing memory.  In some cases, it's
> spelled out.  In others, I'm left to guess.  For example, after
> 
>   GDALWarpOptions *warpopt = NULL;
>   warpopt = GDALCreateWarpOptions();
>   warpopt->panSrcBands = (int *) CPLMalloc(sizeof(int) * totchan);
> 
> how does the memory allocated by CPLMalloc get freed.  When I do
> 
>   GDALDestroyWarpOptions( warpopt );
> 
> or do I have to free it explicitly?

In this particular case GDALDestroyWarpOptions() frees the memory.
The rules are quite vague with regard to the warp options structure.
In fact the whole warp api does not meet what I consider to be
an adequate ease of use.  This is one of the reasons I have hesitated
to "swig wrap it" as it stands.

More generally in the C++ API I try to make it clear in the docs
for particular functions.  In some cases fetching functions
include Ref in the name, indicating that the method is returning
a reference to an internal copy (like GetProjectionRef()).  Generally
speaking methods do no assume ownership of arguments passed in
unless explicitly stated.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Tue Apr  7 13:34:27 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Apr  7 13:34:45 2009
Subject: [gdal-dev] Summer of Code Mentors
Message-ID: <49DB8EA3.20607@pobox.com>

Folks,

We are supposed to provide Wolf with a list of prioritized projects for
the Google Summer of Code ranking today.  However, I realize I don't even
know who is signed up as a mentor on behalf of GDAL this year other than
myself and Tim Keitt.

I would appreciate it if any signed up mentors could contact me today
(ideally in IRC - #gdal) to let me know of their availability, what projects
they would be willing to mentor (click on willing to mentor on the google
site) and what projects they think are best/worst.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rec at geodesign.com.br  Tue Apr  7 23:14:21 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Tue Apr  7 23:12:14 2009
Subject: [gdal-dev] Developing support in MSVC6 & Other
In-Reply-To: <49DB469A.3040604@loskot.net>
References: <20090407110959.591B813380A6@smtp.cluster002.whservidor.com>
	<20090407113014.GA20663@norbit.de>
	<20090407121302.0B3FB5C0011@smtp.cluster002.whservidor.com>
	<49DB469A.3040604@loskot.net>
Message-ID: <20090408031209.B017F133805E@smtp.cluster002.whservidor.com>

Hi again,

We passed through the "error LINK2001: unresolved external symbol" errors.

We are stuck with the following error message now:

gr_capi_test.c
..\gdalwin32-1.4.1\include\cpl_port.h(106) : fatal error C1001: 
INTERNAL COMPILER ERROR
         (compiler file 'msc1.cpp', line 1786)
          Please choose the Technical Support command on the Visual C++
          Help menu, or open the Technical Support help file for more 
information
Error executing cl.exe.

ogr_capi_test.exe - 1 error(s), 0 warning(s)

Any suggestions on how to get through this one?

Thanks in advance,

Reinaldo

At 09:27 AM 4/7/2009, Mateusz Loskot wrote:
>Reinaldo Escada Chohfi wrote:
>>Hi Jurgen,
>>Lots of them.
>
>What about reading GDAL documentation first?
>
>http://trac.osgeo.org/gdal/wiki/BuildingOnWindows
>
>"Projects linking against GDAL should include the directory specified in
>INCDIR in the include path, and the directory specified in LIBDIR in
>their /LIBPATH. To use gdal link against the gdal_i.lib stub library."
>
>Don't forget to read MSDN about how to configure Visual C++
>project of your program about adding include directories
>and linking libraries.
>
>
>Best regards,
>--
>Mateusz Loskot, http://mateusz.loskot.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090408/d81becb8/attachment.html
From dichpu at gmail.com  Tue Apr  7 23:37:12 2009
From: dichpu at gmail.com (chao ding)
Date: Tue Apr  7 23:37:15 2009
Subject: [gdal-dev] how to add the gcp to a tif and make it to a geotiff?
Message-ID: <596d96600904072037n6454f219x7be55c5805a51bd3@mail.gmail.com>

how to add the gcp to a tif and make it to a geotiff?
use gdal_translate -gcp we could do this.
(in gdal_translate.cpp=A3=A9
else if( EQUAL(argv[i],"-gcp") && i < argc - 4 )
{
   /* -gcp pixel line easting northing [elev] */

   nGCPCount++;
   pasGCPs =3D (GDAL_GCP *)
       CPLRealloc( pasGCPs, sizeof(GDAL_GCP) * nGCPCount );
   GDALInitGCPs( 1, pasGCPs + nGCPCount - 1 );


   pasGCPs[nGCPCount-1].dfGCPPixel =3D atof(argv[++i]);
   pasGCPs[nGCPCount-1].dfGCPLine =3D atof(argv[++i]);
   pasGCPs[nGCPCount-1].dfGCPX =3D atof(argv[++i]);
   pasGCPs[nGCPCount-1].dfGCPY =3D atof(argv[++i]);
   if( argv[i+1] !=3D NULL
       && (atof(argv[i+1]) !=3D 0.0 || argv[i+1][0] =3D=3D '0') )
       pasGCPs[nGCPCount-1].dfGCPZ =3D atof(argv[++i]);


   /* should set id and info? */



}


I wrtie   in my code =A3=BA

char* szFilter =3D "TIFF(*.tif)|*.tif|BMP (*.bmp)|*.bmp|JPG (*.jpg)|
*.jpg|Image(*.img)|*.img||";
CFileDialog     dlg(FALSE,TEXT(szFilter),NULL,OFN_HIDEREADONLY |
OFN_OVERWRITEPROMPT,TEXT(szFilter),this);

if(dlg.DoModal()=3D=3DIDOK)
{
       CString strSaveName =3D dlg.GetPathName();           //=BB=F1=B5=C3=
=B1=A3=B4=E6=B5=C4=CD=EA=D5=FB=C2=B7=BE=B6
       GDALAllRegister();
       GDALDataset* poDataset;
       poDataset =3D (GDALDataset *) GDALOpen(filename , GA_Update );

       if( !poDataset =3D=3D NULL )
       {
               VRTDataset *poVDS;//=B4=B4=BD=A8=D0=E9=C4=E2=CA=FD=BE=DD=BC=
=AF
               int nRasterXSize =3D poDataset->GetRasterXSize();
               int nRasterYSize =3D poDataset->GetRasterYSize();
               poVDS =3D (VRTDataset *) VRTCreate( nRasterXSize, nRasterYSi=
ze );
               char * pszOutputSRS =3D "WGS_84";
               poVDS->SetProjection( pszOutputSRS );//SRS=C9=E8=CE=AA=D0=C2=
=B5=BC=C8=EB=B5=C4SRS

               if(m_bChangeCoords)
               {
                       double        adfGeoTransform[6];
                       adfGeoTransform[0] =3D 20;        //m_dTLX;
                       adfGeoTransform[1] =3D 2; //m_dCellX;
                       adfGeoTransform[2] =3D 0;
                       adfGeoTransform[3] =3D 20;        //m_dTLY;
                       adfGeoTransform[4] =3D 0;
                       adfGeoTransform[5] =3D -2;        //m_dCellY;
                       poVDS->SetGeoTransform( adfGeoTransform );//        =
    }

               GDAL_GCP  * pasGCPs =3D NULL;
               int mGcpCount =3D 4;
               //gcplist
               pasGCPs =3D (GDAL_GCP *)CPLRealloc( pasGCPs, sizeof(GDAL_GCP=
) *
mGcpCount );

               pasGCPs[0].dfGCPPixel =3D 0;
               pasGCPs[0].dfGCPLine =3D 0;
               pasGCPs[0].dfGCPX =3D 863909;
               pasGCPs[0].dfGCPY =3D 993283;
               pasGCPs[0].dfGCPZ =3D 0;
               pasGCPs[0].pszId =3D "1";
               pasGCPs[0].pszInfo =3D "info 1";


               pasGCPs[1].dfGCPPixel =3D 0;
               pasGCPs[1].dfGCPLine =3D 201;
               pasGCPs[1].dfGCPX =3D 863909;
               pasGCPs[1].dfGCPY =3D 1024899;
               pasGCPs[1].dfGCPZ =3D 0;
               pasGCPs[1].pszId =3D "2";
               pasGCPs[1].pszInfo =3D "info 2";

               pasGCPs[2].dfGCPPixel =3D 201;
               pasGCPs[2].dfGCPLine =3D 201;
               pasGCPs[2].dfGCPX =3D 809988;
               pasGCPs[2].dfGCPY =3D 1024899;
               pasGCPs[2].dfGCPZ =3D 0;
               pasGCPs[2].pszId =3D "3";
               pasGCPs[2].pszInfo =3D "info 3";

               pasGCPs[3].dfGCPPixel =3D 201;
               pasGCPs[3].dfGCPLine =3D 0;
               pasGCPs[3].dfGCPX =3D 809988;
               pasGCPs[3].dfGCPY =3D 0;
               pasGCPs[3].dfGCPZ =3D 0;
               pasGCPs[3].pszId =3D "4";
               pasGCPs[3].pszInfo =3D "info 4";

               char * m_GcpProjection =3D "WGS_84";
               poVDS->SetGCPs(mGcpCount,pasGCPs,m_GcpProjection);
               if
(poVDS->SetGCPs(mGcpCount,pasGCPs,m_GcpProjection)=3D=3DCE_None) //=CB=B5=
=C3=F7
setgcp=CA=C7=B3=C9=B9=A6=B5=C4,=B5=AB=CA=C7=D5=E2=C0=EF=B2=A2=CE=B4=B8=FC=
=B8=C4tif=A3=AC
               {
                       AfxMessageBox("ok");
               }

               double madfGeoTransform[6] =3D {444720, 2.5, 0, 3751320, 0, =
-2.5};/
               char * src_adfGeoTransform =3D poDataset->GetGeoTransform();
               poVDS->SetGeoTransform( madfGeoTransform);
               poVDS->SetProjection(mProjection);
               poVDS->SetGCPs(mGcpCount,pasGCPs,m_GcpProjection);
               poVDS->SetMetadata( poDataset->GetMetadata( ) );//=D4=AA=CA=
=FD=BE=DD=B1=A3=B3=D6=BE=C9=B5=C4

               char * mGcpProjection;
               poVDS->GetGCPProjection();

               AfxMessageBox(poVDS->GetGCPProjection());
               AfxMessageBox(poVDS->GetGCPCount());
               AfxMessageBox(m_GcpProjection);

               int i =3D 0;
               int nBandCount =3D poDataset->GetRasterCount();
               for( i =3D 0; i < nBandCount; i++ )
               {
                       VRTSourcedRasterBand   *poVRTBand;
                       GDALRasterBand  *poSrcBand;
                       GDALDataType    eBandType;

                       poSrcBand =3D poDataset->GetRasterBand(i+1);
                       eBandType =3D poSrcBand->GetRasterDataType();
                       //       Create this band.
                       poVDS->AddBand( eBandType, NULL );
                       poVRTBand =3D (VRTSourcedRasterBand *)
poVDS->GetRasterBand( i+1 );
                       poVRTBand->AddSimpleSource( poSrcBand, 0, 0,nRasterX=
Size,
nRasterYSize,0,0,nRasterXSize, nRasterYSize);


                       /*
--------------------------------------------------------------------
*/
                       /*      copy over some other information of
interest.    */
                       /*
--------------------------------------------------------------------
*/
                       poVRTBand->CopyCommonInfoFrom( poSrcBand );
               }//for
               //  Write to the output file using CopyCreate().
               GDALDriver * poDriver =3D NULL;
               poDriver =3D poDataset->GetDriver();
               GDALDataset* pNewDs =3D poDriver->CreateCopy( (LPCTSTR)strSa=
veName,
poVDS, FALSE, NULL,NULL,NULL);
               //GDALDataset* mNewDs =3D RasterIO()
               if( pNewDs!=3D NULL)
                       delete pNewDs;

               delete poVDS;
               CPLFree( pszOutputSRS );


       }//if !poDataset =3D=3D NULL

       if(poDataset !=3D NULL)
       delete poDataset;
From puppingeo at gmail.com  Wed Apr  8 08:12:29 2009
From: puppingeo at gmail.com (Marco Puppin)
Date: Wed Apr  8 08:12:31 2009
Subject: [gdal-dev] translate many ascii file in a folder to another folder
Message-ID: <fbd291980904080512y8ce4678t948c0d633dc59089@mail.gmail.com>

Hello everyone,

i am new with gdal and i need someone help. I need to translate a lots of
ascii file in some other formats, dem for example.
I searched a lot in the net but i couldn't find the right command to do
that.  I mean, i found some but i always get an error message. I miss
something...
My files are in the folder E:\ascii, and i'll put the new ones into E:\dem.
What's the right command, please???? Do you need some other information or
these are enough?
thanks in advance...

mp


-- 
Puppin Marco (Dott. in Geologia)
Via Silos 2
30027 San Don? di Piave
Venezia
Tel: 0421 564842
Cell: 346 5799566
E-mail:puppingeo@gmail.com <E-mail%3Apuppingeo@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090408/a94455ad/attachment.html
From ivan.lucena at pmldnet.com  Wed Apr  8 08:29:59 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Wed Apr  8 08:30:01 2009
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gdHJhbnNsYXRlIG1hbnkgYXNjaWkgZmlsZSBpbiBhIGZvbGRlciB0byBhbm90aGVyIGZvbGRlcg==?=
Message-ID: <20090408122959.29485.qmail@s466.sureserver.com>

What OS are you in? What output format is that, JDEM, USGSDEM, an elevation model in any other raster format? 

Check the "for" help (type "for help" on Windows, "man for" on UNIX). 

Example in Windows with Geotiff output:

C:\> for  %I  in  (E:\asci\*.asc)  do  gdal_translate  -of gtiff  %I  E:\dem\%~nI.tif

Replace the file extension if need.

>  -------Original Message-------
>  From: Marco Puppin <puppingeo@gmail.com>
>  Subject: [gdal-dev] translate many ascii file in a folder to another folder
>  Sent: Apr 08 '09 12:12
>  
>  Hello everyone,
>  ?
>  i am new with gdal and i need someone help. I need  to translate a lots of
>  ascii file in some other formats, dem for  example.
>  I searched a lot in the net but i couldn't find the  right command to
>  do that.?  I mean, i found some but i always get an error message. I miss
>  something...
>  
>  My files are in the folder E:\ascii, and i'll put  the new ones into
>  E:\dem.
>  What's the right command, please???? Do you need some other
>  information or these are enough?
>  
>  thanks in advance...
>  ?
>  mp
>  
>  --
>  Puppin Marco (Dott. in Geologia)
>  Via Silos 2
>  30027 San Don?  di Piave
>  Venezia
>  Tel: 0421 564842
>  Cell: 346 5799566
>  [LINK: mailto:E-mail%3Apuppingeo@gmail.com] E-mail:puppingeo@gmail.com
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From chalda at seznam.cz  Wed Apr  8 09:57:20 2009
From: chalda at seznam.cz (chalda)
Date: Wed Apr  8 10:22:15 2009
Subject: [gdal-dev] ECW codec compression question
Message-ID: <49DCAD40.20406@seznam.cz>

Hello,

I have question about setting of compression of the ECW codec. I have 
read the article on the page http://www.gdal.org/frmt_ecw.html and there 
is said that option TARGET=percent sets size reduction as a percentage 
of the original image.

I'm using the ECW codec through gdal_translate by this comma
gdal_translate -of JP2ECW -co "TARGET=10" input_image.tif out_image.jp2

But when I'm changing the number option of the TARGET then no change of 
quality or the size of the image occurs. Or better the changes begins 
around the number 50 but before all options 0-50 returs the same 
"quality results".

By the mentioned page that shouldn't be correct. Could somebody explain 
me please what how the quality option works here?

Thanks a lot
Ondrej Chaloupka
From warmerdam at pobox.com  Wed Apr  8 12:23:07 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  8 12:23:33 2009
Subject: [gdal-dev] ECW codec compression question
In-Reply-To: <49DCAD40.20406@seznam.cz>
References: <49DCAD40.20406@seznam.cz>
Message-ID: <49DCCF6B.4040503@pobox.com>

chalda wrote:
> Hello,
> 
> I have question about setting of compression of the ECW codec. I have 
> read the article on the page http://www.gdal.org/frmt_ecw.html and there 
> is said that option TARGET=percent sets size reduction as a percentage 
> of the original image.
> 
> I'm using the ECW codec through gdal_translate by this comma
> gdal_translate -of JP2ECW -co "TARGET=10" input_image.tif out_image.jp2
> 
> But when I'm changing the number option of the TARGET then no change of 
> quality or the size of the image occurs. Or better the changes begins 
> around the number 50 but before all options 0-50 returs the same 
> "quality results".
> 
> By the mentioned page that shouldn't be correct. Could somebody explain 
> me please what how the quality option works here?

Ondrej,

The TARGET parameter sets a target reduction for the algorithm, but in
some cases low information images will be compressed more than requested.
If your image has a relatively low information density it may be that the
least compression the library is capable of providing is 50%.

The thing to keep in mind is that TARGET is a hint to the library - not
an exact definition of how much compression will be achieved.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rec at geodesign.com.br  Wed Apr  8 12:32:28 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Wed Apr  8 12:30:28 2009
Subject: [gdal-dev] Developing support in MSVC 6
Message-ID: <20090408163025.1748618A8165@smtp.cluster002.whservidor.com>

Hi again,

We passed through the "error LINK2001: unresolved external symbol" errors.

We are stuck with the following error message now:

gr_capi_test.c
..\gdalwin32-1.4.1\include\cpl_port.h(106) : fatal error C1001: 
INTERNAL COMPILER ERROR
         (compiler file 'msc1.cpp', line 1786)
          Please choose the Technical Support command on the Visual C++
          Help menu, or open the Technical Support help file for more 
information
Error executing cl.exe.

ogr_capi_test.exe - 1 error(s), 0 warning(s)

Any suggestions on how to get through this one?

Thanks in advance,

Reinaldo

At 09:27 AM 4/7/2009, Mateusz Loskot wrote:
>Reinaldo Escada Chohfi wrote:
>>Hi Jurgen,
>>Lots of them.
>
>What about reading GDAL documentation first?
>
>http://trac.osgeo.org/gdal/wiki/BuildingOnWindows
>
>"Projects linking against GDAL should include the directory specified in
>INCDIR in the include path, and the directory specified in LIBDIR in
>their /LIBPATH. To use gdal link against the gdal_i.lib stub library."
>
>Don't forget to read MSDN about how to configure Visual C++
>project of your program about adding include directories
>and linking libraries.
>
>
>Best regards,
>--
>Mateusz Loskot, http://mateusz.loskot.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090408/6b6773d4/attachment.html
From stevensw at erau.edu  Wed Apr  8 14:31:32 2009
From: stevensw at erau.edu (Wendy Fay Stevenson)
Date: Wed Apr  8 14:33:34 2009
Subject: [gdal-dev] Building 1.6.0 on Windows XP
Message-ID: <20090408143132.AMT35610@mymail.erau.edu>

Hi

I have successfully built Gdal-1.5.3 on Windows using Visual Studio 2008.  I am trying to build the latest release but I obtain an unresolved external for _HFAAuxBuildOverviews.  How can I fix this error.

I have read all the information I could find on building gdal for windows but nowhere does it mention what other dependencies are needed for this version.  

Any help in this regard would be appreciated:-)

Wendy
From warmerdam at pobox.com  Wed Apr  8 14:46:06 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr  8 14:46:26 2009
Subject: [gdal-dev] Building 1.6.0 on Windows XP
In-Reply-To: <20090408143132.AMT35610@mymail.erau.edu>
References: <20090408143132.AMT35610@mymail.erau.edu>
Message-ID: <49DCF0EE.6010700@pobox.com>

Wendy Fay Stevenson wrote:
> Hi
> 
> I have successfully built Gdal-1.5.3 on Windows using Visual Studio 2008.  I am trying to build the latest release but I obtain an unresolved external for _HFAAuxBuildOverviews.  How can I fix this error.
> 
> I have read all the information I could find on building gdal for windows but nowhere does it mention what other dependencies are needed for this version.  
> 
> Any help in this regard would be appreciated:-)

Wendy,

Could you quote the actual error message you get (including a couple lines
before and after)?

By latest release, I assume you mean gdal 1.6.0?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Wed Apr  8 15:16:18 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Wed Apr  8 15:16:19 2009
Subject: [gdal-dev] How to free memory allocated by ReadRaster, Python API
Message-ID: <20090408191618.18458.qmail@s466.sureserver.com>

Hi,

I have a small Python script that uses ReadRaster to collect some values in order to do some math.

The problem is that once I run the script through a Python IDE I can see the memory usage increasing but it does 
not decrease at the end. 

After some runs I got a out of memory crash on the IDE itself (PythonWin).

My code is something like that:

{{{

for b in range(nbands):
  for yoff in range(ysize):
    for xoff in range(xsize):
      buffer = ds.ReadRaster(xoff,yoff,1,1,1,1,datatype,range(1,1+nbands)
      #
      # formulas and numpy calls
      #
      buffer = None
      
ds = None

}}}

I am running with all my formulas commented just to isolate the memory problem. It just reads and does nothing.

Does anybody has any advise on how to free that buffer?

Thanks in advance,

Regards,

Ivan


From mohwawang at yahoo.com  Wed Apr  8 16:31:40 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed Apr  8 16:31:43 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <902084.75222.qm@web32605.mail.mud.yahoo.com>


Hi all,

I used gdal_translate to convert a tif image to a nitf image as:
>gdal_translate -of nitf in.tif out.ntf -co ICORDS=G
Input file size is 561, 420
0...10...20...30...40...50...60...70...80...90...100 - done.

I can display both in.tif and out.ntf with OpenEV. So both in.tif and out.ntf were ok to OpenEV.

With a simple Google Earth kml file(specifying the LanLonBox)(printed below) I could import the in.tif to Google Earth viewer to the right geo-location. So in.tif was ok to GE. 

However, after replacing the image file name from in.tif to out.ntf in the same kml file (printed below) I could not import the out.ntf to Google Earth viewer (shown as a big red cross in a big red rectangle at the geo-location in the GE viewer). So out.ntf was not ok to GE. Any ideal about what might cause the problem? Was the use of gdal_translate wrong or missing some options? I tried not to use -co ICRODS=G but I got the same problem. Thank you.

printed kml for in.tif:

<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2"
 xmlns:gx="http://www.google.com/kml/ext/2.2"
 xmlns:kml="http://www.opengis.net/kml/2.2"
 xmlns:atom="http://www.w3.org/2005/Atom">
<GroundOverlay>
  <description>
*** Meta-Data ***
    Lat = 42.808863
  </description>
    <name>in.tif</name>
    <Icon>
       <href>in.tif</href>
       <viewBoundScale>0.75</viewBoundScale>
    </Icon>
      <LatLonBox>
         <north>42.8093748999134</north>
         <south>42.8082925732318</south>
         <east>-70.887525562763</east>
         <west>-70.8894939447889</west>
         <rotation>-95.909027</rotation>
      </LatLonBox>
</GroundOverlay>
</kml>

printed kml for out.ntf:

<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2"
 xmlns:gx="http://www.google.com/kml/ext/2.2"
 xmlns:kml="http://www.opengis.net/kml/2.2"
 xmlns:atom="http://www.w3.org/2005/Atom">
<GroundOverlay>
  <description>
*** Meta-Data ***
    Lat = 42.808863
  </description>
    <name>out.ntf</name>
    <Icon>
       <href>out.ntf</href>
       <viewBoundScale>0.75</viewBoundScale>
    </Icon>
      <LatLonBox>
         <north>42.8093748999134</north>
         <south>42.8082925732318</south>
         <east>-70.887525562763</east>
         <west>-70.8894939447889</west>
         <rotation>-95.909027</rotation>
      </LatLonBox>
</GroundOverlay>
</kml>

Best Regards,

Mo Wang 


      
From even.rouault at mines-paris.org  Wed Apr  8 16:32:40 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr  8 16:32:50 2009
Subject: [gdal-dev] How to free memory allocated by ReadRaster, Python API
In-Reply-To: <20090408191618.18458.qmail@s466.sureserver.com>
References: <20090408191618.18458.qmail@s466.sureserver.com>
Message-ID: <200904082232.40552.even.rouault@mines-paris.org>

Ivan,

yes I can also reproduce it with GDAL 1.6.0 swig python bindings. This was a 
memory leak in a python typemap that has been fixed in the stable branch SVN 
(most probably by http://trac.osgeo.org/gdal/changeset/16453) and trunk SVN.

Best regards,

Even



From even.rouault at mines-paris.org  Wed Apr  8 16:44:34 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr  8 16:44:44 2009
Subject: [gdal-dev] How to free memory allocated by ReadRaster, Python API
In-Reply-To: <20090408191618.18458.qmail@s466.sureserver.com>
References: <20090408191618.18458.qmail@s466.sureserver.com>
Message-ID: <200904082244.35163.even.rouault@mines-paris.org>

And I forgot to mention that if you need to operate on big images, you'll have 
probably suboptimal/poor performance by just extracting one pixel at a time, 
as there's a non neglectable overhead for each binding function call, 
especially that one. I'd advise you to read bigger chunks at once, and then 
iterate on the result buffer.

Le Wednesday 08 April 2009 21:16:18 Lucena, Ivan, vous avez ?crit?:
> Hi,
>
> I have a small Python script that uses ReadRaster to collect some values in
> order to do some math.
>
> The problem is that once I run the script through a Python IDE I can see
> the memory usage increasing but it does not decrease at the end.
>
> After some runs I got a out of memory crash on the IDE itself (PythonWin).
>
> My code is something like that:
>
> {{{
>
> for b in range(nbands):
>   for yoff in range(ysize):
>     for xoff in range(xsize):
>       buffer = ds.ReadRaster(xoff,yoff,1,1,1,1,datatype,range(1,1+nbands)
>       #
>       # formulas and numpy calls
>       #
>       buffer = None
>
> ds = None
>
> }}}
>
> I am running with all my formulas commented just to isolate the memory
> problem. It just reads and does nothing.
>
> Does anybody has any advise on how to free that buffer?
>
> Thanks in advance,
>
> Regards,
>
> Ivan
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From mohwawang at yahoo.com  Wed Apr  8 17:21:07 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed Apr  8 17:21:09 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate 
Message-ID: <839754.36959.qm@web32602.mail.mud.yahoo.com>


Hi all,

My apology if you get this email twice. I myself didn't get the first one so I thought others might not get it either.
 
I used gdal_translate to convert a tif image to a nitf image as:
>gdal_translate -of nitf in.tif out.ntf -co ICORDS=G
Input file size is 561, 420
0...10...20...30...40...50...60...70...80...90...100 - done.

I can display both in.tif and out.ntf with OpenEV. So both in.tif and out.ntf were ok to OpenEV.

With a simple Google Earth kml file(specifying the LanLonBox)(printed below) I could import the in.tif to Google Earth viewer to the right geo-location. So in.tif was ok to GE.

However, after replacing the image file name from in.tif to out.ntf in the same kml file (printed below) I could not import the out.ntf to Google Earth viewer (shown as a big red cross in a big red rectangle at the geo-location in the GE viewer). So out.ntf was not ok to GE. Any ideal about what might cause the problem? Was the use of gdal_translate wrong or missing some options? I tried not to use -co ICRODS=G but I got the same problem. Thank you.

printed kml for in.tif:

<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2"
xmlns:gx="http://www.google.com/kml/ext/2.2"
xmlns:kml="http://www.opengis.net/kml/2.2"
xmlns:atom="http://www.w3.org/2005/Atom">
<GroundOverlay>
  <description>
*** Meta-Data ***
    Lat = 42.808863
  </description>
    <name>in.tif</name>
    <Icon>
       <href>in.tif</href>
       <viewBoundScale>0.75</viewBoundScale>
    </Icon>
      <LatLonBox>
         <north>42.8093748999134</north>
         <south>42.8082925732318</south>
         <east>-70.887525562763</east>
         <west>-70.8894939447889</west>
         <rotation>-95.909027</rotation>
      </LatLonBox>
</GroundOverlay>
</kml>

printed kml for out.ntf:

<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2"
xmlns:gx="http://www.google.com/kml/ext/2.2"
xmlns:kml="http://www.opengis.net/kml/2.2"
xmlns:atom="http://www.w3.org/2005/Atom">
<GroundOverlay>
  <description>
*** Meta-Data ***
    Lat = 42.808863
  </description>
    <name>out.ntf</name>
    <Icon>
       <href>out.ntf</href>
       <viewBoundScale>0.75</viewBoundScale>
    </Icon>
      <LatLonBox>
         <north>42.8093748999134</north>
         <south>42.8082925732318</south>
         <east>-70.887525562763</east>
         <west>-70.8894939447889</west>
         <rotation>-95.909027</rotation>
      </LatLonBox>
</GroundOverlay>
</kml>

Best Regards,

Mo Wang 


      
From szekerest at gmail.com  Wed Apr  8 17:24:25 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Apr  8 17:24:27 2009
Subject: [gdal-dev] Building 1.6.0 on Windows XP
In-Reply-To: <20090408143132.AMT35610@mymail.erau.edu>
References: <20090408143132.AMT35610@mymail.erau.edu>
Message-ID: <f3b73b7d0904081424j223879ffl371c6244ee479fcd@mail.gmail.com>

I'm not aware any further dependencies of the hfa driver so it should
compile.
You might want to try the build SDKs available here for your
compiler/platform.
http://vbkto.dyndns.org:1280/sdk/index.html

Just extract any type 'nmake gdal' in a Visual Studio Command Prompt to
build it.

Best regards,

Tamas


2009/4/8 Wendy Fay Stevenson <stevensw@erau.edu>

> Hi
>
> I have successfully built Gdal-1.5.3 on Windows using Visual Studio 2008.
>  I am trying to build the latest release but I obtain an unresolved external
> for _HFAAuxBuildOverviews.  How can I fix this error.
>
> I have read all the information I could find on building gdal for windows
> but nowhere does it mention what other dependencies are needed for this
> version.
>
> Any help in this regard would be appreciated:-)
>
> Wendy
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090408/6a22376b/attachment.html
From ivan.lucena at pmldnet.com  Wed Apr  8 17:31:59 2009
From: ivan.lucena at pmldnet.com (Ivan Lucena)
Date: Wed Apr  8 17:31:45 2009
Subject: [gdal-dev] How to free memory allocated by ReadRaster, Python API
In-Reply-To: <200904082244.35163.even.rouault@mines-paris.org>
References: <20090408191618.18458.qmail@s466.sureserver.com>
	<200904082244.35163.even.rouault@mines-paris.org>
Message-ID: <49DD17CF.7040906@pmldnet.com>

Hi Even,

D'accord. Good tip.

Although I am planning to read a relative large number of bands (temporal series) I can probably 
enlarge my query windows and balance the memory load that it will take. I would do that if I was 
developing some kind of application. The thing is that Python + GDAL + numpy is a wonderful data 
exploration lab and that is all that I am doing in that case.

But about your previous reply, I am far from that machine now but I am almost sure that am using the 
latest 'and greatest' trunk code. But I probably should run the setup.py again and re-install the 
extension, right?

My best regards,

Ivan

Even Rouault wrote:
> And I forgot to mention that if you need to operate on big images, you'll have 
> probably suboptimal/poor performance by just extracting one pixel at a time, 
> as there's a non neglectable overhead for each binding function call, 
> especially that one. I'd advise you to read bigger chunks at once, and then 
> iterate on the result buffer.
> 
> Le Wednesday 08 April 2009 21:16:18 Lucena, Ivan, vous avez ?crit :
>> Hi,
>>
>> I have a small Python script that uses ReadRaster to collect some values in
>> order to do some math.
>>
>> The problem is that once I run the script through a Python IDE I can see
>> the memory usage increasing but it does not decrease at the end.
>>
>> After some runs I got a out of memory crash on the IDE itself (PythonWin).
>>
>> My code is something like that:
>>
>> {{{
>>
>> for b in range(nbands):
>>   for yoff in range(ysize):
>>     for xoff in range(xsize):
>>       buffer = ds.ReadRaster(xoff,yoff,1,1,1,1,datatype,range(1,1+nbands)
>>       #
>>       # formulas and numpy calls
>>       #
>>       buffer = None
>>
>> ds = None
>>
>> }}}
>>
>> I am running with all my formulas commented just to isolate the memory
>> problem. It just reads and does nothing.
>>
>> Does anybody has any advise on how to free that buffer?
>>
>> Thanks in advance,
>>
>> Regards,
>>
>> Ivan
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> 

From even.rouault at mines-paris.org  Wed Apr  8 17:49:08 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr  8 17:49:17 2009
Subject: [gdal-dev] How to free memory allocated by ReadRaster, Python API
In-Reply-To: <49DD17CF.7040906@pmldnet.com>
References: <20090408191618.18458.qmail@s466.sureserver.com>
	<200904082244.35163.even.rouault@mines-paris.org>
	<49DD17CF.7040906@pmldnet.com>
Message-ID: <200904082349.08843.even.rouault@mines-paris.org>

Le Wednesday 08 April 2009 23:31:59 Ivan Lucena, vous avez ?crit?:
> Hi Even,
>
> D'accord. Good tip.
>
> Although I am planning to read a relative large number of bands (temporal
> series) I can probably enlarge my query windows and balance the memory load
> that it will take. I would do that if I was developing some kind of
> application. The thing is that Python + GDAL + numpy is a wonderful data
> exploration lab and that is all that I am doing in that case.
>
> But about your previous reply, I am far from that machine now but I am
> almost sure that am using the latest 'and greatest' trunk code. But I
> probably should run the setup.py again and re-install the extension, right?

Yes, you need to rebuild and install the bindings. In that instance, the leak 
was in them, not in the core GDAL library.

>
> My best regards,
>
> Ivan
>
> Even Rouault wrote:
> > And I forgot to mention that if you need to operate on big images, you'll
> > have probably suboptimal/poor performance by just extracting one pixel at
> > a time, as there's a non neglectable overhead for each binding function
> > call, especially that one. I'd advise you to read bigger chunks at once,
> > and then iterate on the result buffer.
> >
> > Le Wednesday 08 April 2009 21:16:18 Lucena, Ivan, vous avez ?crit :
> >> Hi,
> >>
> >> I have a small Python script that uses ReadRaster to collect some values
> >> in order to do some math.
> >>
> >> The problem is that once I run the script through a Python IDE I can see
> >> the memory usage increasing but it does not decrease at the end.
> >>
> >> After some runs I got a out of memory crash on the IDE itself
> >> (PythonWin).
> >>
> >> My code is something like that:
> >>
> >> {{{
> >>
> >> for b in range(nbands):
> >>   for yoff in range(ysize):
> >>     for xoff in range(xsize):
> >>       buffer =
> >> ds.ReadRaster(xoff,yoff,1,1,1,1,datatype,range(1,1+nbands) #
> >>       # formulas and numpy calls
> >>       #
> >>       buffer = None
> >>
> >> ds = None
> >>
> >> }}}
> >>
> >> I am running with all my formulas commented just to isolate the memory
> >> problem. It just reads and does nothing.
> >>
> >> Does anybody has any advise on how to free that buffer?
> >>
> >> Thanks in advance,
> >>
> >> Regards,
> >>
> >> Ivan
> >>
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From mohwawang at yahoo.com  Wed Apr  8 18:27:15 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed Apr  8 18:27:17 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <653523.51848.qm@web32605.mail.mud.yahoo.com>


Hi all,

I'm sorry that this is the third time I tried to send this message out because I myself didn't get the first two through gdal-dev@lists.osgeo.org so I thought others might not get it either.

I used gdal_translate to convert a tif image to a nitf image as:
>gdal_translate -of nitf in.tif out.ntf -co ICORDS=G
Input file size is 561, 420
0...10...20...30...40...50...60...70...80...90...100 - done.

I can display both in.tif and out.ntf with OpenEV. So both in.tif and out.ntf were ok to OpenEV.

With a simple Google Earth kml file(specifying the LanLonBox)(printed below) I could import the in.tif to Google Earth viewer to the right geo-location. So in.tif was ok to GE.

However, after replacing the image file name from in.tif to out.ntf in the same kml file (printed below) I could not import the out.ntf to Google Earth viewer (shown as a big red cross in a big red rectangle at the geo-location in the GE viewer). So out.ntf was not ok to GE. Any ideal about what might cause the problem? Was the use of gdal_translate wrong or missing some options? I tried not to use -co ICRODS=G but I got the same problem. Thank you.

printed kml for in.tif:

<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2"
xmlns:gx="http://www.google.com/kml/ext/2.2"
xmlns:kml="http://www.opengis.net/kml/2.2"
xmlns:atom="http://www.w3.org/2005/Atom">
<GroundOverlay>
  <description>
*** Meta-Data ***
    Lat = 42.808863
  </description>
    <name>in.tif</name>
    <Icon>
       <href>in.tif</href>
       <viewBoundScale>0.75</viewBoundScale>
    </Icon>
      <LatLonBox>
         <north>42.8093748999134</north>
         <south>42.8082925732318</south>
         <east>-70.887525562763</east>
         <west>-70.8894939447889</west>
         <rotation>-95.909027</rotation>
      </LatLonBox>
</GroundOverlay>
</kml>

printed kml for out.ntf: same as in.tif except:

    <name>out.ntf</name>
    <Icon>
       <href>out.ntf</href>
       <viewBoundScale>0.75</viewBoundScale>
    </Icon>

Best Regards,

Mo Wang



      
From randre at gmail.com  Wed Apr  8 22:45:34 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Apr  8 22:45:36 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image 
	converted from a tif image by gdal_translate
In-Reply-To: <653523.51848.qm@web32605.mail.mud.yahoo.com>
References: <653523.51848.qm@web32605.mail.mud.yahoo.com>
Message-ID: <9c2015090904081945w77d98e49h4e6104f92508f215@mail.gmail.com>

See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
I don't believe the "NITF (rw+): National Imagery Transmission Format" is
supported by Google Earth.

Roger
--

On Wed, Apr 8, 2009 at 3:27 PM, mohwawang <mohwawang@yahoo.com> wrote:

>
> Hi all,
>
> I'm sorry that this is the third time I tried to send this message out
> because I myself didn't get the first two through gdal-dev@lists.osgeo.orgso I thought others might not get it either.
>
> I used gdal_translate to convert a tif image to a nitf image as:
> >gdal_translate -of nitf in.tif out.ntf -co ICORDS=G
> Input file size is 561, 420
> 0...10...20...30...40...50...60...70...80...90...100 - done.
>
> I can display both in.tif and out.ntf with OpenEV. So both in.tif and
> out.ntf were ok to OpenEV.
>
> With a simple Google Earth kml file(specifying the LanLonBox)(printed
> below) I could import the in.tif to Google Earth viewer to the right
> geo-location. So in.tif was ok to GE.
>
> However, after replacing the image file name from in.tif to out.ntf in the
> same kml file (printed below) I could not import the out.ntf to Google Earth
> viewer (shown as a big red cross in a big red rectangle at the geo-location
> in the GE viewer). So out.ntf was not ok to GE. Any ideal about what might
> cause the problem? Was the use of gdal_translate wrong or missing some
> options? I tried not to use -co ICRODS=G but I got the same problem. Thank
> you.
>
> printed kml for in.tif:
>
> <?xml version="1.0" encoding="UTF-8"?>
> <kml xmlns="http://www.opengis.net/kml/2.2"
> xmlns:gx="http://www.google.com/kml/ext/2.2"
> xmlns:kml="http://www.opengis.net/kml/2.2"
> xmlns:atom="http://www.w3.org/2005/Atom">
> <GroundOverlay>
>  <description>
> *** Meta-Data ***
>    Lat = 42.808863
>  </description>
>    <name>in.tif</name>
>    <Icon>
>       <href>in.tif</href>
>       <viewBoundScale>0.75</viewBoundScale>
>    </Icon>
>      <LatLonBox>
>         <north>42.8093748999134</north>
>         <south>42.8082925732318</south>
>         <east>-70.887525562763</east>
>         <west>-70.8894939447889</west>
>         <rotation>-95.909027</rotation>
>      </LatLonBox>
> </GroundOverlay>
> </kml>
>
> printed kml for out.ntf: same as in.tif except:
>
>    <name>out.ntf</name>
>    <Icon>
>       <href>out.ntf</href>
>       <viewBoundScale>0.75</viewBoundScale>
>    </Icon>
>
> Best Regards,
>
> Mo Wang
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090408/5d8c0a6a/attachment.html
From mohwawang at yahoo.com  Wed Apr  8 23:51:21 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Wed Apr  8 23:51:23 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <552467.80227.qm@web32605.mail.mud.yahoo.com>


Google Earth 5.0 supports NITF see 
http://earth.google.com/intl/en/userguide/v5/ug_importdata.html

[Importing Imagery

You can open GIS imagery files in Google Earth Pro or EC and have the files correctly projected over the proper map coordinates in the 3D viewer. Google Earth Pro and EC support the following types of GIS imagery:

    * TIFF (.tif), including GeoTiff and compressed TIFF files
    * National Imagery Transmission Format (.ntf)
    * Erdas Imagine Images (.img) 

In addition, you can also import the following images. Because they do not contain projection information, you must manually edit their coordinates for correct positioning:

    * Atlantis MFF Raster (.hdr)
    * PCIDSK Database File (.pix)
    * Portable Pixmap Format (.pnm)
    * Device Independent Bitmap (.bmp) 

Note - All imagery files must contain the correct projection information in order to be accurately re-projected by the Google Earth software.]

 
Mo

--- On Wed, 4/8/09, Roger Andr? <randre@gmail.com> wrote:

> From: Roger Andr? <randre@gmail.com>
> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image  converted from a tif image by gdal_translate
> To: "mohwawang" <mohwawang@yahoo.com>
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> Date: Wednesday, April 8, 2009, 10:45 PM
> See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> I don't believe the "NITF (rw+): National Imagery
> Transmission Format" is supported by Google Earth.
> 
> 
> Roger
> --
> 
> On Wed, Apr 8, 2009 at 3:27 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> 
> 
> 
> Hi all,
> 
> 
> 
> I'm sorry that this is the third time I tried to send
> this message out because I myself didn't get the first
> two through gdal-dev@lists.osgeo.org
> so I thought others might not get it either.
> 
> 
> 
> 
> I used gdal_translate to convert a tif image to a nitf
> image as:
> 
> >gdal_translate -of nitf in.tif out.ntf -co ICORDS=G
> 
> Input file size is 561, 420
> 
> 0...10...20...30...40...50...60...70...80...90...100 -
> done.
> 
> 
> 
> I can display both in.tif and out.ntf with OpenEV. So both
> in.tif and out.ntf were ok to OpenEV.
> 
> 
> 
> With a simple Google Earth kml file(specifying the
> LanLonBox)(printed below) I could import the in.tif to
> Google Earth viewer to the right geo-location. So in.tif was
> ok to GE.
> 
> 
> 
> However, after replacing the image file name from in.tif to
> out.ntf in the same kml file (printed below) I could not
> import the out.ntf to Google Earth viewer (shown as a big
> red cross in a big red rectangle at the geo-location in the
> GE viewer). So out.ntf was not ok to GE. Any ideal about
> what might cause the problem? Was the use of gdal_translate
> wrong or missing some options? I tried not to use -co
> ICRODS=G but I got the same problem. Thank you.
> 
> 
> 
> 
> printed kml for in.tif:
> 
> 
> 
> <?xml version="1.0"
> encoding="UTF-8"?>
> 
> <kml xmlns="http://www.opengis.net/kml/2.2"
> 
> xmlns:gx="http://www.google.com/kml/ext/2.2"
> 
> xmlns:kml="http://www.opengis.net/kml/2.2"
> 
> xmlns:atom="http://www.w3.org/2005/Atom">
> 
> <GroundOverlay>
> 
>  ?<description>
> 
> *** Meta-Data ***
> 
>  ? ?Lat = 42.808863
> 
>  ?</description>
> 
>  ? ?<name>in.tif</name>
> 
>  ? ?<Icon>
> 
>  ? ? ? <href>in.tif</href>
> 
>  ? ? ?
> <viewBoundScale>0.75</viewBoundScale>
> 
>  ? ?</Icon>
> 
>  ? ? ?<LatLonBox>
> 
>  ? ? ? ? <north>42.8093748999134</north>
> 
>  ? ? ? ? <south>42.8082925732318</south>
> 
>  ? ? ? ? <east>-70.887525562763</east>
> 
>  ? ? ? ? <west>-70.8894939447889</west>
> 
>  ? ? ? ? <rotation>-95.909027</rotation>
> 
>  ? ? ?</LatLonBox>
> 
> </GroundOverlay>
> 
> </kml>
> 
> 
> 
> printed kml for out.ntf: same as in.tif
> except:
> 
> 
> 
>  ? ?<name>out.ntf</name>
> 
>  ? ?<Icon>
> 
>  ? ? ? <href>out.ntf</href>
> 
>  ? ? ?
> <viewBoundScale>0.75</viewBoundScale>
> 
>  ? ?</Icon>
> 
> 
> 
> Best Regards,
> 
> 
> 
> Mo Wang
> 
> 
> 
> 
> 
> 
> 
> 
> 
> _______________________________________________
> 
> gdal-dev mailing list
> 
> gdal-dev@lists.osgeo.org
> 
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> 


      
From randre at gmail.com  Thu Apr  9 00:44:40 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Apr  9 00:44:43 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image 
	converted from a tif image by gdal_translate
In-Reply-To: <552467.80227.qm@web32605.mail.mud.yahoo.com>
References: <552467.80227.qm@web32605.mail.mud.yahoo.com>
Message-ID: <9c2015090904082144h5c5096a0w38e79c8401123a4c@mail.gmail.com>

Granted, I haven't tried V 5 yet, but your quote also states, "Google Earth
Pro or EC".  Are you using one of those versions of the client?  In any
case, if the file opens in OpenEV, chances are good that the .ntf generated
by gdal is ok, and that there is some sort of problem with how Google Earth
is reading it.  Have you tried emailing the KML support list as well?
--

On Wed, Apr 8, 2009 at 8:51 PM, mohwawang <mohwawang@yahoo.com> wrote:

>
> Google Earth 5.0 supports NITF see
> http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
>
> [Importing Imagery
>
> You can open GIS imagery files in Google Earth Pro or EC and have the files
> correctly projected over the proper map coordinates in the 3D viewer. Google
> Earth Pro and EC support the following types of GIS imagery:
>
>    * TIFF (.tif), including GeoTiff and compressed TIFF files
>    * National Imagery Transmission Format (.ntf)
>    * Erdas Imagine Images (.img)
>
> In addition, you can also import the following images. Because they do not
> contain projection information, you must manually edit their coordinates for
> correct positioning:
>
>    * Atlantis MFF Raster (.hdr)
>    * PCIDSK Database File (.pix)
>    * Portable Pixmap Format (.pnm)
>    * Device Independent Bitmap (.bmp)
>
> Note - All imagery files must contain the correct projection information in
> order to be accurately re-projected by the Google Earth software.]
>
>
> Mo
>
> --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com> wrote:
>
> > From: Roger Andr? <randre@gmail.com>
> > Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image
>  converted from a tif image by gdal_translate
> > To: "mohwawang" <mohwawang@yahoo.com>
> > Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> > Date: Wednesday, April 8, 2009, 10:45 PM
> > See
> http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> > I don't believe the "NITF (rw+): National Imagery
> > Transmission Format" is supported by Google Earth.
> >
> >
> > Roger
> > --
> >
> > On Wed, Apr 8, 2009 at 3:27 PM,
> > mohwawang <mohwawang@yahoo.com>
> > wrote:
> >
> >
> >
> > Hi all,
> >
> >
> >
> > I'm sorry that this is the third time I tried to send
> > this message out because I myself didn't get the first
> > two through gdal-dev@lists.osgeo.org
> > so I thought others might not get it either.
> >
> >
> >
> >
> > I used gdal_translate to convert a tif image to a nitf
> > image as:
> >
> > >gdal_translate -of nitf in.tif out.ntf -co ICORDS=G
> >
> > Input file size is 561, 420
> >
> > 0...10...20...30...40...50...60...70...80...90...100 -
> > done.
> >
> >
> >
> > I can display both in.tif and out.ntf with OpenEV. So both
> > in.tif and out.ntf were ok to OpenEV.
> >
> >
> >
> > With a simple Google Earth kml file(specifying the
> > LanLonBox)(printed below) I could import the in.tif to
> > Google Earth viewer to the right geo-location. So in.tif was
> > ok to GE.
> >
> >
> >
> > However, after replacing the image file name from in.tif to
> > out.ntf in the same kml file (printed below) I could not
> > import the out.ntf to Google Earth viewer (shown as a big
> > red cross in a big red rectangle at the geo-location in the
> > GE viewer). So out.ntf was not ok to GE. Any ideal about
> > what might cause the problem? Was the use of gdal_translate
> > wrong or missing some options? I tried not to use -co
> > ICRODS=G but I got the same problem. Thank you.
> >
> >
> >
> >
> > printed kml for in.tif:
> >
> >
> >
> > <?xml version="1.0"
> > encoding="UTF-8"?>
> >
> > <kml xmlns="http://www.opengis.net/kml/2.2"
> >
> > xmlns:gx="http://www.google.com/kml/ext/2.2"
> >
> > xmlns:kml="http://www.opengis.net/kml/2.2"
> >
> > xmlns:atom="http://www.w3.org/2005/Atom">
> >
> > <GroundOverlay>
> >
> >   <description>
> >
> > *** Meta-Data ***
> >
> >     Lat = 42.808863
> >
> >   </description>
> >
> >     <name>in.tif</name>
> >
> >     <Icon>
> >
> >        <href>in.tif</href>
> >
> >
> > <viewBoundScale>0.75</viewBoundScale>
> >
> >     </Icon>
> >
> >       <LatLonBox>
> >
> >          <north>42.8093748999134</north>
> >
> >          <south>42.8082925732318</south>
> >
> >          <east>-70.887525562763</east>
> >
> >          <west>-70.8894939447889</west>
> >
> >          <rotation>-95.909027</rotation>
> >
> >       </LatLonBox>
> >
> > </GroundOverlay>
> >
> > </kml>
> >
> >
> >
> > printed kml for out.ntf: same as in.tif
> > except:
> >
> >
> >
> >     <name>out.ntf</name>
> >
> >     <Icon>
> >
> >        <href>out.ntf</href>
> >
> >
> > <viewBoundScale>0.75</viewBoundScale>
> >
> >     </Icon>
> >
> >
> >
> > Best Regards,
> >
> >
> >
> > Mo Wang
> >
> >
> >
> >
> >
> >
> >
> >
> >
> > _______________________________________________
> >
> > gdal-dev mailing list
> >
> > gdal-dev@lists.osgeo.org
> >
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> >
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090408/beff8690/attachment.html
From agiannas at geo.auth.gr  Thu Apr  9 04:24:12 2009
From: agiannas at geo.auth.gr (APOSTOLOS)
Date: Thu Apr  9 04:24:16 2009
Subject: [Gdal-dev] Read and convert MSG2 hrit data with GDAL-MSG DRIVER
Message-ID: <1239265452790-2609915.post@n2.nabble.com>



Dear list 

First all i would like to thank all the people in the list answered my questions. I finally managed to install MSG DRIVER but i have some questions about how to import and convert HRIT MSG2 images with GDAL 

I followed the example of the instructions from http://www.gdal.org/frmt_msg.html but i did not manage  to convert HRIT to tif. 

My code bellow 

gdal_translate -of MSG(/home/tolis/Desktop/2003/06/05/H-000-MSG2__-MSG2_PAR____-WV_062___-000001___-200802281200-C_) /home/tolis/Desktop/output/outfile.tif
bash: syntax error near unexpected token `('
tolis@ubuntu:~/gdal-1.6.0$ 

Any suggestions what i am doing wrong?   Also what i realy want is to convert MSG2 HRIT thermal bands  for segments 7 and 8 to images to brightness temperatures. Because i have 96 images per day is there any batch process for this kind of procedure?
Does GDAL support this procedure?

Thanks in advance for your time






-- 
View this message in context: http://n2.nabble.com/Read-and-convert-MSG2-hrit-data-with-GDAL-MSG-DRIVER-tp2609915p2609915.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From wroberts at csir.co.za  Thu Apr  9 04:45:11 2009
From: wroberts at csir.co.za (Wesley Roberts)
Date: Thu Apr  9 04:45:56 2009
Subject: [Gdal-dev] Read and convert MSG2 hrit data with GDAL-MSG
	DRIVER
In-Reply-To: <1239265452790-2609915.post@n2.nabble.com>
References: <1239265452790-2609915.post@n2.nabble.com>
Message-ID: <49DDD1B6.8E3B.0073.0@csir.co.za>

Hi  APOSTOLOS

Looks like you could maybe leave out the brackets so 
 
gdal_translate -of MSG(/home/tolis/Desktop/2003/06/05/H-000-MSG2__-MSG2_PAR____-WV_062___-000001___-200802281200-C_) /home/tolis/Desktop/output/outfile.tif

should be 

gdal_translate -of MSG /home/tolis/Desktop/2003/06/05/H-000-MSG2__-MSG2_PAR____-WV_062___-000001___-200802281200-C_ /home/tolis/Desktop/output/outfile.tif

Am not sure about the file extension wrt the HRIT image but I think the brackets are whats causing the problem.

In regards to the batch processing of your 96 images, it seems you are working linux and should be able to write a fairly simple bash script to repeat the above command. I am not much of a bash scripter myself but I am sure you can find a tutorial on the net, check out the following for an introduction

http://wooledge.org:8000/BashFAQ#head-590f0a3ee41da32fb949a23423096437367343b0

http://db.glug-bom.org/Documentation/abs-guide/index.html

HTH,
WEsley


>>> APOSTOLOS <agiannas@geo.auth.gr> 04/09/09 10:24 AM >>> 


Dear list 

First all i would like to thank all the people in the list answered my questions. I finally managed to install MSG DRIVER but i have some questions about how to import and convert HRIT MSG2 images with GDAL 

I followed the example of the instructions from http://www.gdal.org/frmt_msg.html but i did not manage  to convert HRIT to tif. 

My code bellow 

gdal_translate -of MSG(/home/tolis/Desktop/2003/06/05/H-000-MSG2__-MSG2_PAR____-WV_062___-000001___-200802281200-C_) /home/tolis/Desktop/output/outfile.tif
bash: syntax error near unexpected token `('
tolis@ubuntu:~/gdal-1.6.0$ 

Any suggestions what i am doing wrong?   Also what i realy want is to convert MSG2 HRIT thermal bands  for segments 7 and 8 to images to brightness temperatures. Because i have 96 images per day is there any batch process for this kind of procedure?
Does GDAL support this procedure?

Thanks in advance for your time






-- 
View this message in context: http://n2.nabble.com/Read-and-convert-MSG2-hrit-data-with-GDAL-MSG-DRIVER-tp2609915p2609915.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
This message is subject to the CSIR's copyright terms and conditions, e-mail legal notice, and implemented Open Document Format (ODF) standard. 
The full disclaimer details can be found at http://www.csir.co.za/disclaimer.html.

This message has been scanned for viruses and dangerous content by MailScanner, 
and is believed to be clean.  MailScanner thanks Transtec Computers for their support.

From agiannas at geo.auth.gr  Thu Apr  9 09:03:38 2009
From: agiannas at geo.auth.gr (APOSTOLOS)
Date: Thu Apr  9 09:03:40 2009
Subject: [Gdal-dev] Read and convert MSG2 hrit data with GDAL-MSG DRIVER
In-Reply-To: <1239265452790-2609915.post@n2.nabble.com>
References: <1239265452790-2609915.post@n2.nabble.com>
Message-ID: <1239282218784-2610947.post@n2.nabble.com>




Dear list 

>From the gdal_translate command the MSG DRIVER reads only MSGN native. Does anyone know even if i have made the configure command and instaled the MSG DRIVER  why i can;t import HRIT wHEN I try to run the procedure? it gives me 

tolis@ubuntu:~/gdal-1.6.0$ gdal_translate -of HFA '/home/tolis/H-000-MSG2__-MSG2________-IR_087___-000007___-200802280000-C_' /home/tolis/Desktop/out_hrit.img
ERROR 4: `/home/tolis/H-000-MSG2__-MSG2________-IR_087___-000007___-200802280000-C_' not recognised as a supported file format.

GDALOpen failed - 4
`/home/tolis/H-000-MSG2__-MSG2________-IR_087___-000007___-200802280000-C_' not recognised as a supported file format.


in case someone else wants it the gdal_translate command to convert to img from MSG .nat files is 

tolis@ubuntu:~$ gdal_translate -of HFA '/home/tolis/Desktop/2003/06/05/MSG1-SEVI-MSG15-0100-NA-20050919001240.662000000Z-596358.nat' /home/tolis/Desktop/OUTPUT.img
Input file size is 1504, 1052
0...10...20...30...40...50...60...70...80...90...100 - done.


tolis@ubuntu:~/gdal-1.6.0$ gdal_translate --formats
Supported Formats:
  VRT (rw+): Virtual Raster
  GTiff (rw+): GeoTIFF
  NITF (rw+): National Imagery Transmission Format
  RPFTOC (ro): Raster Product Format TOC format
  HFA (rw+): Erdas Imagine Images (.img)
  SAR_CEOS (ro): CEOS SAR Image
  CEOS (ro): CEOS Image
  JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
  GFF (ro): Ground-based SAR Applications Testbed File Format (.gff)
  ELAS (rw+): ELAS
  AIG (ro): Arc/Info Binary Grid
  AAIGrid (rw): Arc/Info ASCII Grid
  SDTS (ro): SDTS Raster
  DTED (rw): DTED Elevation Raster
  PNG (rw): Portable Network Graphics
  JPEG (rw): JPEG JFIF
  MEM (rw+): In Memory Raster
  JDEM (ro): Japanese DEM (.mem)
  GIF (rw): Graphics Interchange Format (.gif)
  ESAT (ro): Envisat Image Format
  BSB (ro): Maptech BSB Nautical Charts
  XPM (rw): X11 PixMap Format
  BMP (rw+): MS Windows Device Independent Bitmap
  DIMAP (ro): SPOT DIMAP
  AirSAR (ro): AirSAR Polarimetric Image
  RS2 (ro): RadarSat 2 XML Product
  PCIDSK (rw+): PCIDSK Database File
  PCRaster (rw): PCRaster Raster File
  ILWIS (rw+): ILWIS Raster Map
  SGI (rw+): SGI Image File Format 1.0
  SRTMHGT (rw): SRTMHGT File Format
  Leveller (rw+): Leveller heightfield
  Terragen (rw+): Terragen heightfield
  GMT (rw): GMT NetCDF Grid Format
  netCDF (rw): Network Common Data Format
  HDF4 (ro): Hierarchical Data Format Release 4
  HDF4Image (rw+): HDF4 Dataset
  ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
  ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
  PDS (ro): NASA Planetary Data System
  ERS (rw+): ERMapper .ers Labelled
  JPEG2000 (rw): JPEG-2000 part 1 (ISO/IEC 15444-1)
  L1B (ro): NOAA Polar Orbiter Level 1b Data Set
  FIT (rw): FIT Image
  GRIB (ro): GRIdded Binary (.grb)
  RMF (rw+): Raster Matrix Format
  WCS (ro): OGC Web Coverage Service
  WMS (ro): OGC Web Map Service
<MSGN (ro): EUMETSAT Archive native (.nat)
  RST (rw+): Idrisi Raster A.1
  INGR (rw+): Intergraph Raster
  GSAG (rw): Golden Software ASCII Grid (.grd)
  GSBG (rw+): Golden Software Binary Grid (.grd)
  GS7BG (ro): Golden Software 7 Binary Grid (.grd)
  COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
  TSX (ro): TerraSAR-X Product
  COASP (ro): DRDC COASP SAR Processor Raster
  PNM (rw+): Portable Pixmap Format (netpbm)
  DOQ1 (ro): USGS DOQ (Old Style)
  DOQ2 (ro): USGS DOQ (New Style)
  ENVI (rw+): ENVI .hdr Labelled
  EHdr (rw+): ESRI .hdr Labelled
  GenBin (ro): Generic Binary (.hdr Labelled)
  PAux (rw+): PCI .aux Labelled
  MFF (rw+): Vexcel MFF Raster
  MFF2 (rw+): Vexcel MFF2 (HKV) Raster
  FujiBAS (ro): Fuji BAS Scanner Image
  GSC (ro): GSC Geogrid
  FAST (ro): EOSAT FAST Format
  BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
  LAN (ro): Erdas .LAN/.GIS
  CPG (ro): Convair PolGASP
  IDA (rw+): Image Data and Analysis
  NDF (ro): NLAPS Data Format
  EIR (ro): Erdas Imagine Raw
  DIPEx (ro): DIPEx
  LCP (ro): FARSITE v.4 Landscape File (.lcp)
  RIK (ro): Swedish Grid RIK (.rik)
  USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
  GXF (ro): GeoSoft Grid Exchange Format
  HTTP (ro): HTTP Fetching Wrapper
  HDF5 (ro): Hierarchical Data Format Release 5
  HDF5Image (ro): HDF5 Dataset
  ADRG (rw+): ARC Digitized Raster Graphics
  BLX (rw): Magellan topo (.blx)





Dear list 

First all i would like to thank all the people in the list answered my questions. I finally managed to install MSG DRIVER but i have some questions about how to import and convert HRIT MSG2 images with GDAL 

I followed the example of the instructions from http://www.gdal.org/frmt_msg.html but i did not manage  to convert HRIT to tif. 

My code bellow 

gdal_translate -of MSG(/home/tolis/Desktop/2003/06/05/H-000-MSG2__-MSG2_PAR____-WV_062___-000001___-200802281200-C_) /home/tolis/Desktop/output/outfile.tif
bash: syntax error near unexpected token `('
tolis@ubuntu:~/gdal-1.6.0$ 

Any suggestions what i am doing wrong?   Also what i realy want is to convert MSG2 HRIT thermal bands  for segments 7 and 8 to images to brightness temperatures. Because i have 96 images per day is there any batch process for this kind of procedure?
Does GDAL support this procedure?

Thanks in advance for your time







-- 
View this message in context: http://n2.nabble.com/Read-and-convert-MSG2-hrit-data-with-GDAL-MSG-DRIVER-tp2609915p2610947.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From woodbri at swoodbridge.com  Thu Apr  9 10:27:53 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Thu Apr  9 09:27:38 2009
Subject: [gdal-dev] Spherical Mercator projects and overviews?
Message-ID: <49DE05E9.9090507@swoodbridge.com>

Hi all,

I have a question regarding imagery in spherical mercator projection in 
geotiff images. Do overviews work correctly?

For example, I use EPSG:4326 and build lots of overviews and I can zoom 
in and out and pan without a problem. Can I do the same thing with 
EPSG:900913 (spherical mercator projection).

I'm working with LandSat imagery over large area and scale ranges.

Thanks,
   -Steve
From warmerdam at pobox.com  Thu Apr  9 10:46:26 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr  9 10:46:47 2009
Subject: [gdal-dev] Spherical Mercator projects and overviews?
In-Reply-To: <49DE05E9.9090507@swoodbridge.com>
References: <49DE05E9.9090507@swoodbridge.com>
Message-ID: <49DE0A42.1020204@pobox.com>

Stephen Woodbridge wrote:
> Hi all,
> 
> I have a question regarding imagery in spherical mercator projection in 
> geotiff images. Do overviews work correctly?
> 
> For example, I use EPSG:4326 and build lots of overviews and I can zoom 
> in and out and pan without a problem. Can I do the same thing with 
> EPSG:900913 (spherical mercator projection).
> 
> I'm working with LandSat imagery over large area and scale ranges.

Steve,

I can't see any reason that overviews would not work on spherical
mercator when they work on images in other coordinate systems.  The
overview handling is independent of the georeferencing.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From woodbri at swoodbridge.com  Thu Apr  9 12:25:04 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Thu Apr  9 11:24:50 2009
Subject: [gdal-dev] Spherical Mercator projects and overviews?
In-Reply-To: <49DE0A42.1020204@pobox.com>
References: <49DE05E9.9090507@swoodbridge.com> <49DE0A42.1020204@pobox.com>
Message-ID: <49DE2160.4050806@swoodbridge.com>

Frank Warmerdam wrote:
> Stephen Woodbridge wrote:
>> Hi all,
>>
>> I have a question regarding imagery in spherical mercator projection 
>> in geotiff images. Do overviews work correctly?
>>
>> For example, I use EPSG:4326 and build lots of overviews and I can 
>> zoom in and out and pan without a problem. Can I do the same thing 
>> with EPSG:900913 (spherical mercator projection).
>>
>> I'm working with LandSat imagery over large area and scale ranges.
> 
> Steve,
> 
> I can't see any reason that overviews would not work on spherical
> mercator when they work on images in other coordinate systems.  The
> overview handling is independent of the georeferencing.
> 

Frank,

Thanks this is what I was hoping the answer would be.

My fear was that I would run into something like UTM zones and that you 
can not have one global data set in UTM. So spherical Mercator is 
projects the world into a single x-y plane similar to the way 
geographical is treating the global as stretched onto a single x-y 
plane.  This seems reasonable, I just never thought about it before.

Now I get to reproject everything yet again :)

Thanks,
   -Steve
From crschmidt at metacarta.com  Thu Apr  9 11:26:57 2009
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Thu Apr  9 11:26:59 2009
Subject: [gdal-dev] Spherical Mercator projects and overviews?
In-Reply-To: <49DE2160.4050806@swoodbridge.com>
References: <49DE05E9.9090507@swoodbridge.com> <49DE0A42.1020204@pobox.com>
	<49DE2160.4050806@swoodbridge.com>
Message-ID: <20090409152656.GI6886@metacarta.com>

On Thu, Apr 09, 2009 at 11:25:04AM -0500, Stephen Woodbridge wrote:
> Frank Warmerdam wrote:
> >Stephen Woodbridge wrote:
> >>Hi all,
> >>
> >>I have a question regarding imagery in spherical mercator projection 
> >>in geotiff images. Do overviews work correctly?
> >>
> >>For example, I use EPSG:4326 and build lots of overviews and I can 
> >>zoom in and out and pan without a problem. Can I do the same thing 
> >>with EPSG:900913 (spherical mercator projection).
> >>
> >>I'm working with LandSat imagery over large area and scale ranges.
> >
> >Steve,
> >
> >I can't see any reason that overviews would not work on spherical
> >mercator when they work on images in other coordinate systems.  The
> >overview handling is independent of the georeferencing.
> >
> 
> Frank,
> 
> Thanks this is what I was hoping the answer would be.
> 
> My fear was that I would run into something like UTM zones and that you 
> can not have one global data set in UTM. So spherical Mercator is 
> projects the world into a single x-y plane similar to the way 
> geographical is treating the global as stretched onto a single x-y 
> plane.  This seems reasonable, I just never thought about it before.

Where 'the whole world' in mercator can't actually be 'the whole world';
you have to pick a reasonable north/south cutoff since the tangent of 90
is infinity/undefined.

-- Chris

> Now I get to reproject everything yet again :)
> 
> Thanks,
>   -Steve
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Christopher Schmidt
MetaCarta
From mohwawang at yahoo.com  Thu Apr  9 11:37:23 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Thu Apr  9 11:37:25 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <751231.71585.qm@web32606.mail.mud.yahoo.com>


Roger,

I'm using Google Earth Pro 5.0. Thank you for the suggestions.

Google Earth Pro 4.0 also supports importing NITF: 
http://earth.google.com/userguide/v4/ug_importdata.html that is for importing your data (including vector data and imagery data) to the Places of Google Earth while http://earth.google.com/userguide/v4/ug_imageoverlays.html is for "Using Image Overlays and 3D Models".

See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places for the difference between Layers and Places in GE.

This is the first time I'm importing geo-referenced images to Google Earth Pro and so far I don't have much luck. As I said that I could not use GE to import the NITF images converted from gdal_translate (with EPSG:4326 that is the same projection, Simple Cylindrical projection, or known as Lat/Lon WGS84 that GE uses). So I tried to narrow down the problem. This time I imported to GE an native Erdas IMAGINE image (.img) (with UTM projection that GE supports too) but still failed. The later test case has nothing to do with gdal and is purely a question for GE. That .img image can be opened by both IMAGINE and OpenEV.

The NITF image (converted by gdal_translate) not just could not be opened by GE it could not be opened by ENVI 4.1 either. It can be opened by OpenEV (tightly related to gdal) though. So it could be a problem in either gdal_translate or ENVI (I doubt though) or both.

Thanks.

Mo

--- On Thu, 4/9/09, Roger Andr? <randre@gmail.com> wrote:

> From: Roger Andr? <randre@gmail.com>
> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image  converted from a tif image by gdal_translate
> To: "mohwawang" <mohwawang@yahoo.com>
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> Date: Thursday, April 9, 2009, 12:44 AM
> Granted, I haven't tried V 5 yet,
> but your quote also states, "Google Earth Pro or
> EC".? Are you using one of those versions of the
> client?? In any case, if the file opens in OpenEV, chances
> are good that the .ntf generated by gdal is ok, and that
> there is some sort of problem with how Google Earth is
> reading it.? Have you tried emailing the KML support list
> as well?
> 
> --
> 
> On Wed, Apr 8, 2009 at 8:51 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> 
> 
> 
> Google Earth 5.0 supports NITF see
> 
> http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
> 
> 
> 
> [Importing Imagery
> 
> 
> 
> You can open GIS imagery files in Google Earth Pro or EC
> and have the files correctly projected over the proper map
> coordinates in the 3D viewer. Google Earth Pro and EC
> support the following types of GIS imagery:
> 
> 
> 
>  ? ?* TIFF (.tif), including GeoTiff and compressed TIFF
> files
> 
>  ? ?* National Imagery Transmission Format (.ntf)
> 
>  ? ?* Erdas Imagine Images (.img)
> 
> 
> 
> In addition, you can also import the following images.
> Because they do not contain projection information, you must
> manually edit their coordinates for correct positioning:
> 
> 
> 
>  ? ?* Atlantis MFF Raster (.hdr)
> 
>  ? ?* PCIDSK Database File (.pix)
> 
>  ? ?* Portable Pixmap Format (.pnm)
> 
>  ? ?* Device Independent Bitmap (.bmp)
> 
> 
> 
> Note - All imagery files must contain the correct
> projection information in order to be accurately
> re-projected by the Google Earth software.]
> 
> 
> 
> 
> 
> Mo
> 
> 
> 
> --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
> wrote:
> 
> 
> 
> > From: Roger Andr? <randre@gmail.com>
> 
> > Subject: Re: [gdal-dev] Problem in importing to Google
> Earth a nitf image ?converted from a tif image by
> gdal_translate
> 
> > To: "mohwawang" <mohwawang@yahoo.com>
> 
> > Cc: "gdal-dev@lists.osgeo.org"
> <gdal-dev@lists.osgeo.org>
> 
> > Date: Wednesday, April 8, 2009, 10:45 PM
> 
> > See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> 
> > I don't believe the "NITF (rw+): National
> Imagery
> 
> > Transmission Format" is supported by Google
> Earth.
> 
> >
> 
> >
> 
> > Roger
> 
> > --
> 
> >
> 
> > On Wed, Apr 8, 2009 at 3:27 PM,
> 
> > mohwawang <mohwawang@yahoo.com>
> 
> > wrote:
> 
> >
> 
> >
> 
> >
> 
> > Hi all,
> 
> >
> 
> >
> 
> >
> 
> > I'm sorry that this is the third time I tried to
> send
> 
> > this message out because I myself didn't get the
> first
> 
> > two through gdal-dev@lists.osgeo.org
> 
> > so I thought others might not get it either.
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > I used gdal_translate to convert a tif image to a
> nitf
> 
> > image as:
> 
> >
> 
> > >gdal_translate -of nitf in.tif out.ntf -co
> ICORDS=G
> 
> >
> 
> > Input file size is 561, 420
> 
> >
> 
> > 0...10...20...30...40...50...60...70...80...90...100
> -
> 
> > done.
> 
> >
> 
> >
> 
> >
> 
> > I can display both in.tif and out.ntf with OpenEV. So
> both
> 
> > in.tif and out.ntf were ok to OpenEV.
> 
> >
> 
> >
> 
> >
> 
> > With a simple Google Earth kml file(specifying the
> 
> > LanLonBox)(printed below) I could import the in.tif
> to
> 
> > Google Earth viewer to the right geo-location. So
> in.tif was
> 
> > ok to GE.
> 
> >
> 
> >
> 
> >
> 
> > However, after replacing the image file name from
> in.tif to
> 
> > out.ntf in the same kml file (printed below) I could
> not
> 
> > import the out.ntf to Google Earth viewer (shown as a
> big
> 
> > red cross in a big red rectangle at the geo-location
> in the
> 
> > GE viewer). So out.ntf was not ok to GE. Any ideal
> about
> 
> > what might cause the problem? Was the use of
> gdal_translate
> 
> > wrong or missing some options? I tried not to use -co
> 
> > ICRODS=G but I got the same problem. Thank you.
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > printed kml for in.tif:
> 
> >
> 
> >
> 
> >
> 
> > <?xml version="1.0"
> 
> > encoding="UTF-8"?>
> 
> >
> 
> > <kml xmlns="http://www.opengis.net/kml/2.2"
> 
> >
> 
> > xmlns:gx="http://www.google.com/kml/ext/2.2"
> 
> >
> 
> > xmlns:kml="http://www.opengis.net/kml/2.2"
> 
> >
> 
> > xmlns:atom="http://www.w3.org/2005/Atom">
> 
> >
> 
> > <GroundOverlay>
> 
> >
> 
> > ??<description>
> 
> >
> 
> > *** Meta-Data ***
> 
> >
> 
> > ?? ?Lat = 42.808863
> 
> >
> 
> > ??</description>
> 
> >
> 
> > ?? ?<name>in.tif</name>
> 
> >
> 
> > ?? ?<Icon>
> 
> >
> 
> > ?? ? ? <href>in.tif</href>
> 
> >
> 
> > ?? ? ?
> 
> > <viewBoundScale>0.75</viewBoundScale>
> 
> >
> 
> > ?? ?</Icon>
> 
> >
> 
> > ?? ? ?<LatLonBox>
> 
> >
> 
> > ?? ? ? ?
> <north>42.8093748999134</north>
> 
> >
> 
> > ?? ? ? ?
> <south>42.8082925732318</south>
> 
> >
> 
> > ?? ? ? ?
> <east>-70.887525562763</east>
> 
> >
> 
> > ?? ? ? ?
> <west>-70.8894939447889</west>
> 
> >
> 
> > ?? ? ? ?
> <rotation>-95.909027</rotation>
> 
> >
> 
> > ?? ? ?</LatLonBox>
> 
> >
> 
> > </GroundOverlay>
> 
> >
> 
> > </kml>
> 
> >
> 
> >
> 
> >
> 
> > printed kml for out.ntf: same as in.tif
> 
> > except:
> 
> >
> 
> >
> 
> >
> 
> > ?? ?<name>out.ntf</name>
> 
> >
> 
> > ?? ?<Icon>
> 
> >
> 
> > ?? ? ? <href>out.ntf</href>
> 
> >
> 
> > ?? ? ?
> 
> > <viewBoundScale>0.75</viewBoundScale>
> 
> >
> 
> > ?? ?</Icon>
> 
> >
> 
> >
> 
> >
> 
> > Best Regards,
> 
> >
> 
> >
> 
> >
> 
> > Mo Wang
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > _______________________________________________
> 
> >
> 
> > gdal-dev mailing list
> 
> >
> 
> > gdal-dev@lists.osgeo.org
> 
> >
> 
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> >
> 
> >
> 
> >
> 
> >
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 


      
From aaron_sims at ncsu.edu  Thu Apr  9 11:50:13 2009
From: aaron_sims at ncsu.edu (Aaron Sims)
Date: Thu Apr  9 12:00:11 2009
Subject: [gdal-dev] multi-dimensional coordinate variables
Message-ID: <49DE1935.8030809@ncsu.edu>

All,

I am trying to view a netcdf file in grass via gdal.  The netcdf data is 
on a projected grid so the latitudes and longitudes are are unique at 
each point (i.e. 2D coordinate variables).
gdal  doesnt seem to understand the georeferencing information whn I try 
to follow the CF-1.0 specs on multi-dimensional coordinate variables,
http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.0/cf-conventions.html#id2888361
Below is the header info from ncdump and the resulting info coming from 
gdalinfo. Can you use multi-dimensional coordinate variables in 
conjunction with gdal?
If so, can you advise what I need to do to make my netcdf file work with 
gdal?

Thank you,
Aaron

*NCDUMP output:*
 >>>>> ncdump -h conc_20081208071500.nc
netcdf conc_20081208071500 {
dimensions:
        Time = UNLIMITED ; // (1 currently)
        DateStrLen = 14 ;
        xc = 299 ;
        yr = 301 ;
        nspecies = 1 ;
        nageclass = 1 ;
variables:
        char Times(Time, DateStrLen) ;
                Times:long_name = "time" ;
                Times:units = "minutes since Wed Apr  8 15:49:19 2009" ;
        float wet(Time, nageclass, nspecies, yr, xc) ;
                wet:long_name = "WET DEPOSITION" ;
                wet:units = "ppm" ;
                wet:coordinates = "lon lat" ;
        float dry(Time, nageclass, nspecies, yr, xc) ;
                dry:long_name = "DRY DEPOSITION" ;
                dry:units = "ppm" ;
                dry:coordinates = "lon lat" ;
        float xc(xc) ;
                xc:long_name = "x-coordinate in Cartesian system" ;
                xc:units = "m" ;
        float yr(yr) ;
                yr:long_name = "y-coordinate in Cartesian system" ;
                yr:units = "m" ;
        float nspecies(nspecies) ;
                nspecies:long_name = "number of species" ;
                nspecies:standard_name = "number_of_species" ;
        float nageclass(nageclass) ;
                nageclass:long_name = "number of age classes" ;
                nageclass:standard_name = "number_of_ageclasses" ;
        float lat(yr, xc) ;
                lat:long_name = "latitude" ;
                lat:units = "degrees_north" ;
        float lon(yr, xc) ;
                lon:long_name = "longitude" ;
                lon:units = "degrees_east" ;

*GDALINFO output:*
 >>>>gdalinfo NETCDF:"conc_20081208071500.nc":dry
Driver: netCDF/Network Common Data Format
Files: none associated
Size is 299, 301
Coordinate System is `'
Origin = (0.500000000000000,301.500000000000000)
Pixel Size = (1.000000000000000,-1.000000000000000)
Metadata:
  NC_GLOBAL#title=FLEXPART Concentration Grids
  NC_GLOBAL#institution=State Climate Office of NC
  NC_GLOBAL#history=Created on Wed Apr  8 15:49:19 2009
  NC_GLOBAL#reference=http://www.nc-climate.ncsu.edu
  NC_GLOBAL#Conventions=CF-1.0
  dry#long_name=DRY DEPOSITION
  dry#units=C
  dry#coordinates=lon lat
  xc#long_name=x-coordinate in Cartesian system
  xc#units=m
  yr#long_name=y-coordinate in Cartesian system
  yr#units=m
  nspecies#long_name=number of species
  nspecies#standard_name=number_of_species
  nageclass#long_name=number of age classes
  nageclass#standard_name=number_of_ageclasses
Corner Coordinates:
Upper Left  (       0.500,     301.500)
Lower Left  (   0.5000000,   0.5000000)
Upper Right (     299.500,     301.500)
Lower Right (     299.500,       0.500)
Center      (     150.000,     151.000)
Band 1 Block=299x1 Type=Float32, ColorInterp=Undefined
  NoData Value=9.96920996838686905e+36
  Metadata:
    NETCDF_VARNAME=dry
    NETCDF_DIMENSION_Time=1
    NETCDF_DIMENSION_nageclass=1.000000
    NETCDF_DIMENSION_nspecies=1.000000
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090409/65e735a5/attachment.html
From randre at gmail.com  Thu Apr  9 12:47:11 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Apr  9 12:47:14 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image 
	converted from a tif image by gdal_translate
In-Reply-To: <751231.71585.qm@web32606.mail.mud.yahoo.com>
References: <751231.71585.qm@web32606.mail.mud.yahoo.com>
Message-ID: <9c2015090904090947m5e3b383bt708e07e56303a936@mail.gmail.com>

Hi Mo,

Thanks for that pointer on the differences between GE Layers and Places.
I'll be sure to take a close look at those links.  I've had occasion in the
past to view georeferenced imagery in Google Earth, much of it created or
altered by gdal in some way, so this topic interests me.

I'm curious, is your goal to view the NITF format specifically and to have
GE read the internal georeferencing info, or is it just to view the image in
GE?  It sounds like you have already accomplished the latter using a KML
Ground Overlay and a tif, a method which has also worked reliably for me in
the past as well. I've also had success with PNG and JPEG format files.

Since in your .nitf test the georeferencing was supplied by the KML file,
the red "X" you are getting implies to me that the image format isn't being
correctly interpreted by GE for some reason.  The fact that Envi chokes on
it as well does seem to point to gdal as a possible culprit, although the
NITF format is not one that I have seen very much.  Have you tried importing
the GeoTIFF version of your file directly into GE Pro as well?  Also, do you
have a .nitf file that was not created by gdal, and which you could use to
test GE via the "Add Image Overlay" tool?

Roger
--

On Thu, Apr 9, 2009 at 8:37 AM, mohwawang <mohwawang@yahoo.com> wrote:

>
> Roger,
>
> I'm using Google Earth Pro 5.0. Thank you for the suggestions.
>
> Google Earth Pro 4.0 also supports importing NITF:
> http://earth.google.com/userguide/v4/ug_importdata.html that is for
> importing your data (including vector data and imagery data) to the Places
> of Google Earth while
> http://earth.google.com/userguide/v4/ug_imageoverlays.html is for "Using
> Image Overlays and 3D Models".
>
> See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_placesfor the difference between Layers and Places in GE.
>
> This is the first time I'm importing geo-referenced images to Google Earth
> Pro and so far I don't have much luck. As I said that I could not use GE to
> import the NITF images converted from gdal_translate (with EPSG:4326 that is
> the same projection, Simple Cylindrical projection, or known as Lat/Lon
> WGS84 that GE uses). So I tried to narrow down the problem. This time I
> imported to GE an native Erdas IMAGINE image (.img) (with UTM projection
> that GE supports too) but still failed. The later test case has nothing to
> do with gdal and is purely a question for GE. That .img image can be opened
> by both IMAGINE and OpenEV.
>
> The NITF image (converted by gdal_translate) not just could not be opened
> by GE it could not be opened by ENVI 4.1 either. It can be opened by OpenEV
> (tightly related to gdal) though. So it could be a problem in either
> gdal_translate or ENVI (I doubt though) or both.
>
> Thanks.
>
> Mo
>
> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com> wrote:
>
> > From: Roger Andr? <randre@gmail.com>
> > Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image
>  converted from a tif image by gdal_translate
> > To: "mohwawang" <mohwawang@yahoo.com>
> > Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> > Date: Thursday, April 9, 2009, 12:44 AM
> > Granted, I haven't tried V 5 yet,
> > but your quote also states, "Google Earth Pro or
> > EC".  Are you using one of those versions of the
> > client?  In any case, if the file opens in OpenEV, chances
> > are good that the .ntf generated by gdal is ok, and that
> > there is some sort of problem with how Google Earth is
> > reading it.  Have you tried emailing the KML support list
> > as well?
> >
> > --
> >
> > On Wed, Apr 8, 2009 at 8:51 PM,
> > mohwawang <mohwawang@yahoo.com>
> > wrote:
> >
> >
> >
> > Google Earth 5.0 supports NITF see
> >
> > http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
> >
> >
> >
> > [Importing Imagery
> >
> >
> >
> > You can open GIS imagery files in Google Earth Pro or EC
> > and have the files correctly projected over the proper map
> > coordinates in the 3D viewer. Google Earth Pro and EC
> > support the following types of GIS imagery:
> >
> >
> >
> >     * TIFF (.tif), including GeoTiff and compressed TIFF
> > files
> >
> >     * National Imagery Transmission Format (.ntf)
> >
> >     * Erdas Imagine Images (.img)
> >
> >
> >
> > In addition, you can also import the following images.
> > Because they do not contain projection information, you must
> > manually edit their coordinates for correct positioning:
> >
> >
> >
> >     * Atlantis MFF Raster (.hdr)
> >
> >     * PCIDSK Database File (.pix)
> >
> >     * Portable Pixmap Format (.pnm)
> >
> >     * Device Independent Bitmap (.bmp)
> >
> >
> >
> > Note - All imagery files must contain the correct
> > projection information in order to be accurately
> > re-projected by the Google Earth software.]
> >
> >
> >
> >
> >
> > Mo
> >
> >
> >
> > --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
> > wrote:
> >
> >
> >
> > > From: Roger Andr? <randre@gmail.com>
> >
> > > Subject: Re: [gdal-dev] Problem in importing to Google
> > Earth a nitf image  converted from a tif image by
> > gdal_translate
> >
> > > To: "mohwawang" <mohwawang@yahoo.com>
> >
> > > Cc: "gdal-dev@lists.osgeo.org"
> > <gdal-dev@lists.osgeo.org>
> >
> > > Date: Wednesday, April 8, 2009, 10:45 PM
> >
> > > See
> http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> >
> > > I don't believe the "NITF (rw+): National
> > Imagery
> >
> > > Transmission Format" is supported by Google
> > Earth.
> >
> > >
> >
> > >
> >
> > > Roger
> >
> > > --
> >
> > >
> >
> > > On Wed, Apr 8, 2009 at 3:27 PM,
> >
> > > mohwawang <mohwawang@yahoo.com>
> >
> > > wrote:
> >
> > >
> >
> > >
> >
> > >
> >
> > > Hi all,
> >
> > >
> >
> > >
> >
> > >
> >
> > > I'm sorry that this is the third time I tried to
> > send
> >
> > > this message out because I myself didn't get the
> > first
> >
> > > two through gdal-dev@lists.osgeo.org
> >
> > > so I thought others might not get it either.
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > > I used gdal_translate to convert a tif image to a
> > nitf
> >
> > > image as:
> >
> > >
> >
> > > >gdal_translate -of nitf in.tif out.ntf -co
> > ICORDS=G
> >
> > >
> >
> > > Input file size is 561, 420
> >
> > >
> >
> > > 0...10...20...30...40...50...60...70...80...90...100
> > -
> >
> > > done.
> >
> > >
> >
> > >
> >
> > >
> >
> > > I can display both in.tif and out.ntf with OpenEV. So
> > both
> >
> > > in.tif and out.ntf were ok to OpenEV.
> >
> > >
> >
> > >
> >
> > >
> >
> > > With a simple Google Earth kml file(specifying the
> >
> > > LanLonBox)(printed below) I could import the in.tif
> > to
> >
> > > Google Earth viewer to the right geo-location. So
> > in.tif was
> >
> > > ok to GE.
> >
> > >
> >
> > >
> >
> > >
> >
> > > However, after replacing the image file name from
> > in.tif to
> >
> > > out.ntf in the same kml file (printed below) I could
> > not
> >
> > > import the out.ntf to Google Earth viewer (shown as a
> > big
> >
> > > red cross in a big red rectangle at the geo-location
> > in the
> >
> > > GE viewer). So out.ntf was not ok to GE. Any ideal
> > about
> >
> > > what might cause the problem? Was the use of
> > gdal_translate
> >
> > > wrong or missing some options? I tried not to use -co
> >
> > > ICRODS=G but I got the same problem. Thank you.
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > > printed kml for in.tif:
> >
> > >
> >
> > >
> >
> > >
> >
> > > <?xml version="1.0"
> >
> > > encoding="UTF-8"?>
> >
> > >
> >
> > > <kml xmlns="http://www.opengis.net/kml/2.2"
> >
> > >
> >
> > > xmlns:gx="http://www.google.com/kml/ext/2.2"
> >
> > >
> >
> > > xmlns:kml="http://www.opengis.net/kml/2.2"
> >
> > >
> >
> > > xmlns:atom="http://www.w3.org/2005/Atom">
> >
> > >
> >
> > > <GroundOverlay>
> >
> > >
> >
> > >   <description>
> >
> > >
> >
> > > *** Meta-Data ***
> >
> > >
> >
> > >     Lat = 42.808863
> >
> > >
> >
> > >   </description>
> >
> > >
> >
> > >     <name>in.tif</name>
> >
> > >
> >
> > >     <Icon>
> >
> > >
> >
> > >        <href>in.tif</href>
> >
> > >
> >
> > >
> >
> > > <viewBoundScale>0.75</viewBoundScale>
> >
> > >
> >
> > >     </Icon>
> >
> > >
> >
> > >       <LatLonBox>
> >
> > >
> >
> > >
> > <north>42.8093748999134</north>
> >
> > >
> >
> > >
> > <south>42.8082925732318</south>
> >
> > >
> >
> > >
> > <east>-70.887525562763</east>
> >
> > >
> >
> > >
> > <west>-70.8894939447889</west>
> >
> > >
> >
> > >
> > <rotation>-95.909027</rotation>
> >
> > >
> >
> > >       </LatLonBox>
> >
> > >
> >
> > > </GroundOverlay>
> >
> > >
> >
> > > </kml>
> >
> > >
> >
> > >
> >
> > >
> >
> > > printed kml for out.ntf: same as in.tif
> >
> > > except:
> >
> > >
> >
> > >
> >
> > >
> >
> > >     <name>out.ntf</name>
> >
> > >
> >
> > >     <Icon>
> >
> > >
> >
> > >        <href>out.ntf</href>
> >
> > >
> >
> > >
> >
> > > <viewBoundScale>0.75</viewBoundScale>
> >
> > >
> >
> > >     </Icon>
> >
> > >
> >
> > >
> >
> > >
> >
> > > Best Regards,
> >
> > >
> >
> > >
> >
> > >
> >
> > > Mo Wang
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > > _______________________________________________
> >
> > >
> >
> > > gdal-dev mailing list
> >
> > >
> >
> > > gdal-dev@lists.osgeo.org
> >
> > >
> >
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090409/be2f9a5b/attachment-0001.html
From warmerdam at pobox.com  Thu Apr  9 13:17:47 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr  9 13:18:05 2009
Subject: [gdal-dev] multi-dimensional coordinate variables
In-Reply-To: <49DE1935.8030809@ncsu.edu>
References: <49DE1935.8030809@ncsu.edu>
Message-ID: <49DE2DBB.6020503@pobox.com>

Aaron Sims wrote:
> All,
> 
> I am trying to view a netcdf file in grass via gdal.  The netcdf data is 
> on a projected grid so the latitudes and longitudes are are unique at 
> each point (i.e. 2D coordinate variables).
> gdal  doesnt seem to understand the georeferencing information whn I try 
> to follow the CF-1.0 specs on multi-dimensional coordinate variables,
> http://cf-pcmdi.llnl.gov/documents/cf-conventions/1.0/cf-conventions.html#id2888361
> Below is the header info from ncdump and the resulting info coming from 
> gdalinfo. Can you use multi-dimensional coordinate variables in 
> conjunction with gdal?
> If so, can you advise what I need to do to make my netcdf file work with 
> gdal?

Aaron,

Unfortunately, the GDAL NetCDF driver does not currently support using
lat/lon arrays for georeferencing an image (what we call geolocation
arrays in GDAL).  This is a deficiency in the driver, though even if it
was supported there are still only a few GDAL tools that take advantage
of geolocation arrays.

If you can work out what the projected coordinate system is, and what the
proper geotransform (origin and pixel size) would apply for the file, you
could attach this to the image using something like a VRT file.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From klokan at klokan.cz  Thu Apr  9 14:41:02 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Thu Apr  9 14:41:07 2009
Subject: [gdal-dev] Spherical Mercator projects and overviews?
In-Reply-To: <20090409152656.GI6886@metacarta.com>
References: <49DE05E9.9090507@swoodbridge.com> <49DE0A42.1020204@pobox.com>
	<49DE2160.4050806@swoodbridge.com>
	<20090409152656.GI6886@metacarta.com>
Message-ID: <6e41d95b0904091141i2049b387q77a6bd94f9f18c16@mail.gmail.com>

Stephen,

if you are interested to visually see the extent of tiles of Spherical
Mercator (EPSG:900913) as it is used by Google Maps and similar
services you can play a bit with this mashup:

http://www.maptiler.org/google-maps-coordinates-tile-bounds-projection/

When you click it shows you an info-balloon with the extents of the
clicked tile.

The standard maximal extent is:

WGS84 datum (longitude/latitude):
-180 -85.05112877980659
180 85.0511287798066

Spherical Mercator (meters):
-20037508.342789244 -20037508.342789244
20037508.342789244 20037508.342789244

Best,

Klokan

On Thu, Apr 9, 2009 at 5:26 PM, Christopher Schmidt
<crschmidt@metacarta.com> wrote:
> On Thu, Apr 09, 2009 at 11:25:04AM -0500, Stephen Woodbridge wrote:
>> Frank Warmerdam wrote:
>> >Stephen Woodbridge wrote:
>> >>Hi all,
>> >>
>> >>I have a question regarding imagery in spherical mercator projection
>> >>in geotiff images. Do overviews work correctly?
>> >>
>> >>For example, I use EPSG:4326 and build lots of overviews and I can
>> >>zoom in and out and pan without a problem. Can I do the same thing
>> >>with EPSG:900913 (spherical mercator projection).
>> >>
>> >>I'm working with LandSat imagery over large area and scale ranges.
>> >
>> >Steve,
>> >
>> >I can't see any reason that overviews would not work on spherical
>> >mercator when they work on images in other coordinate systems. ?The
>> >overview handling is independent of the georeferencing.
>> >
>>
>> Frank,
>>
>> Thanks this is what I was hoping the answer would be.
>>
>> My fear was that I would run into something like UTM zones and that you
>> can not have one global data set in UTM. So spherical Mercator is
>> projects the world into a single x-y plane similar to the way
>> geographical is treating the global as stretched onto a single x-y
>> plane. ?This seems reasonable, I just never thought about it before.
>
> Where 'the whole world' in mercator can't actually be 'the whole world';
> you have to pick a reasonable north/south cutoff since the tangent of 90
> is infinity/undefined.
>
> -- Chris
>
>> Now I get to reproject everything yet again :)
>>
>> Thanks,
>> ? -Steve
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
> Christopher Schmidt
> MetaCarta
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From rec at geodesign.com.br  Thu Apr  9 15:26:50 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Thu Apr  9 15:24:45 2009
Subject: [gdal-dev] gdalwin32exe160 & gdalwin32dev160
Message-ID: <20090409192441.62EBA13382E9@smtp.cluster002.whservidor.com>

Frank,

We got the C/C++ programs to work using gdalwin32exe141 & gdalwin32dev141.

We would like to link it to gdalwin32exe160 & 
gdalwin32dev160.  We can only find the 
gdalwin32exe160.zip.  When do you expect to have the gdalwin32dev160 available?

Thanks for your support.

Bets regards,

Reinaldo

Reinaldo Escada Chohfi
Diretor Geral
GeoDesign Internacional - www.geodesign.com.br

E-mail: rec@geodesign.com.br
Tel./Fax: +55-12-3153-5115
Skype: rechohfi

Intelig?ncia e Tecnologia GeoEspacial de Ponta

GeoPDF, MrSID, JPEG 2000 e DjVu

GIS, WebGIS, Processamento de Imagens Geogr?ficas,
Sensoriamento Remoto de Alta Resolu??o

Compress?o de Imagens e Documentos Digitalizados
Servidor de Conte?do - Sistemas de Visualiza??o - Integra??o de Sistemas

Distribuidor Autorizado Ricoh Geo-Imaging
Revendedor Autorizado da Applied Imagery, Blue 
Marble Geographics, Celarten, LizardTech e TerraGo

Rua Vila Peralta, 42
12607-040 - Lorena - SP - Brasil

Informa??o confidencial. N?o retransmitir sem autoriza??o.
Copyright (c) 2009 GeoDesign Internacional
Todos os direitos reservados.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090409/1cbd1c03/attachment.html
From mohwawang at yahoo.com  Thu Apr  9 16:21:01 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Thu Apr  9 16:21:03 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <77918.26722.qm@web32607.mail.mud.yahoo.com>


Hi Roger,

My goal is to be able to directly import NITF image to GE without using KML. You can see the advantage of this application - if it works. I'm glad that you have viewed in GE georeferenced imagery created or altered by gdal. Maybe you can point out what I did wrong.

It is good that you asked about GeoTIFF. So I used gdal_translate to convert the tif image to a GeoTIFF image. I tried to drag and drop the GeoTIFF image to GE but nothing happened. I did not see the GeoTIFF image in GE and I did not get any error message either.

I can open the GeoTIFF image with OpenEV and I can read the lan/lon coordinates and they are correct. One thing is that it seems that OpenEV does not set North to Up. Its orientation aligns with the file coordinates - (0,0) is at the upper left corner. I then opened tif file in the same OpenEV and they match to each other.

Again, I can import the tif image with its kml to GE but I can not import the GeoTIFF to GE (without using kml), it seems that nothing happened. I can import the GeoTIFF to GE with kml - though that is not what I want. But the GeoTIFF is better than the NITF that could not be imported to GE even with the same kml.

What's wrong with GeoTIFF? I mean why I could not import it to GE? I listed the gdal_translate command line here:

>gdal_translate -of GTiff tiff.tif gtiff.gtf -a_srs EPSG:4326 -gcp 0 0 -70.887525562763 42.8093748999134 -gcp 560 0 -70.887525562763 42.8082925732318 -gcp 560 419 -70.8894939447889 42.8082925732318 -gcp 0 419 -70.8894939447889 42.8093748999134

I don't have a .ntif file that was not created by gdal to test GE via the "Import Image Tool".

Thanks.

Mo 
 

--- On Thu, 4/9/09, Roger Andr? <randre@gmail.com> wrote:

> From: Roger Andr? <randre@gmail.com>
> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image  converted from a tif image by gdal_translate
> To: "mohwawang" <mohwawang@yahoo.com>
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> Date: Thursday, April 9, 2009, 12:47 PM
> Hi Mo,
> 
> Thanks for that pointer on the differences between GE
> Layers and Places.? I'll be sure to take a close look
> at those links.? I've had occasion in the past to view
> georeferenced imagery in Google Earth, much of it created or
> altered by gdal in some way, so this topic interests me.
> 
> 
> I'm curious, is your goal to view the NITF format
> specifically and to have GE read the internal georeferencing
> info, or is it just to view the image in GE?? It sounds
> like you have already accomplished the latter using a KML
> Ground Overlay and a tif, a method which has also worked
> reliably for me in the past as well. I've also had
> success with PNG and JPEG format files.? 
> 
> 
> Since in your .nitf test the georeferencing was supplied by
> the KML file, the red "X" you are getting implies
> to me that the image format isn't being correctly
> interpreted by GE for some reason.? The fact that Envi
> chokes on it as well does seem to point to gdal as a
> possible culprit, although the NITF format is not one that I
> have seen very much.? Have you tried importing the GeoTIFF
> version of your file directly into GE Pro as well?? Also,
> do you have a .nitf file that was not created by gdal, and
> which you could use to test GE via the "Add Image
> Overlay" tool?
> 
> 
> Roger
> --
> 
> On Thu, Apr 9, 2009 at 8:37 AM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> 
> 
> 
> Roger,
> 
> 
> 
> I'm using Google Earth Pro 5.0. Thank you for the
> suggestions.
> 
> 
> 
> Google Earth Pro 4.0 also supports importing NITF:
> 
> http://earth.google.com/userguide/v4/ug_importdata.html
> that is for importing your data (including vector data and
> imagery data) to the Places of Google Earth while http://earth.google.com/userguide/v4/ug_imageoverlays.html
> is for "Using Image Overlays and 3D Models".
> 
> 
> 
> 
> See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places
> for the difference between Layers and Places in GE.
> 
> 
> 
> 
> This is the first time I'm importing geo-referenced
> images to Google Earth Pro and so far I don't have much
> luck. As I said that I could not use GE to import the NITF
> images converted from gdal_translate (with EPSG:4326 that is
> the same projection, Simple Cylindrical projection, or known
> as Lat/Lon WGS84 that GE uses). So I tried to narrow down
> the problem. This time I imported to GE an native Erdas
> IMAGINE image (.img) (with UTM projection that GE supports
> too) but still failed. The later test case has nothing to do
> with gdal and is purely a question for GE. That .img image
> can be opened by both IMAGINE and OpenEV.
> 
> 
> 
> 
> The NITF image (converted by gdal_translate) not just could
> not be opened by GE it could not be opened by ENVI 4.1
> either. It can be opened by OpenEV (tightly related to gdal)
> though. So it could be a problem in either gdal_translate or
> ENVI (I doubt though) or both.
> 
> 
> 
> 
> Thanks.
> 
> 
> 
> Mo
> 
> 
> 
> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
> wrote:
> 
> 
> 
> > From: Roger Andr? <randre@gmail.com>
> 
> > Subject: Re: [gdal-dev] Problem in importing to Google
> Earth a nitf image ?converted from a tif image by
> gdal_translate
> 
> > To: "mohwawang" <mohwawang@yahoo.com>
> 
> > Cc: "gdal-dev@lists.osgeo.org"
> <gdal-dev@lists.osgeo.org>
> 
> > Date: Thursday, April 9, 2009, 12:44 AM
> 
> > Granted, I haven't
> tried V 5 yet,
> 
> > but your quote also states, "Google Earth Pro or
> 
> > EC".? Are you using one of those versions of
> the
> 
> > client?? In any case, if the file opens in OpenEV,
> chances
> 
> > are good that the .ntf generated by gdal is ok, and
> that
> 
> > there is some sort of problem with how Google Earth
> is
> 
> > reading it.? Have you tried emailing the KML support
> list
> 
> > as well?
> 
> >
> 
> > --
> 
> >
> 
> > On Wed, Apr 8, 2009 at 8:51 PM,
> 
> > mohwawang <mohwawang@yahoo.com>
> 
> > wrote:
> 
> >
> 
> >
> 
> >
> 
> > Google Earth 5.0 supports NITF see
> 
> >
> 
> > http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
> 
> >
> 
> >
> 
> >
> 
> > [Importing Imagery
> 
> >
> 
> >
> 
> >
> 
> > You can open GIS imagery files in Google Earth Pro or
> EC
> 
> > and have the files correctly projected over the proper
> map
> 
> > coordinates in the 3D viewer. Google Earth Pro and EC
> 
> > support the following types of GIS imagery:
> 
> >
> 
> >
> 
> >
> 
> > ?? ?* TIFF (.tif), including GeoTiff and compressed
> TIFF
> 
> > files
> 
> >
> 
> > ?? ?* National Imagery Transmission Format (.ntf)
> 
> >
> 
> > ?? ?* Erdas Imagine Images (.img)
> 
> >
> 
> >
> 
> >
> 
> > In addition, you can also import the following
> images.
> 
> > Because they do not contain projection information,
> you must
> 
> > manually edit their coordinates for correct
> positioning:
> 
> >
> 
> >
> 
> >
> 
> > ?? ?* Atlantis MFF Raster (.hdr)
> 
> >
> 
> > ?? ?* PCIDSK Database File (.pix)
> 
> >
> 
> > ?? ?* Portable Pixmap Format (.pnm)
> 
> >
> 
> > ?? ?* Device Independent Bitmap (.bmp)
> 
> >
> 
> >
> 
> >
> 
> > Note - All imagery files must contain the correct
> 
> > projection information in order to be accurately
> 
> > re-projected by the Google Earth software.]
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > Mo
> 
> >
> 
> >
> 
> >
> 
> > --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
> 
> > wrote:
> 
> >
> 
> >
> 
> >
> 
> > > From: Roger Andr? <randre@gmail.com>
> 
> >
> 
> > > Subject: Re: [gdal-dev] Problem in importing to
> Google
> 
> > Earth a nitf image ?converted from a tif image by
> 
> > gdal_translate
> 
> >
> 
> > > To: "mohwawang" <mohwawang@yahoo.com>
> 
> >
> 
> > > Cc: "gdal-dev@lists.osgeo.org"
> 
> > <gdal-dev@lists.osgeo.org>
> 
> >
> 
> > > Date: Wednesday, April 8, 2009, 10:45 PM
> 
> >
> 
> > > See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> 
> >
> 
> > > I don't believe the "NITF (rw+):
> National
> 
> > Imagery
> 
> >
> 
> > > Transmission Format" is supported by Google
> 
> > Earth.
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Roger
> 
> >
> 
> > > --
> 
> >
> 
> > >
> 
> >
> 
> > > On Wed, Apr 8, 2009 at 3:27 PM,
> 
> >
> 
> > > mohwawang <mohwawang@yahoo.com>
> 
> >
> 
> > > wrote:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Hi all,
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > I'm sorry that this is the third time I tried
> to
> 
> > send
> 
> >
> 
> > > this message out because I myself didn't get
> the
> 
> > first
> 
> >
> 
> > > two through gdal-dev@lists.osgeo.org
> 
> >
> 
> > > so I thought others might not get it either.
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > I used gdal_translate to convert a tif image to
> a
> 
> > nitf
> 
> >
> 
> > > image as:
> 
> >
> 
> > >
> 
> >
> 
> > > >gdal_translate -of nitf in.tif out.ntf -co
> 
> > ICORDS=G
> 
> >
> 
> > >
> 
> >
> 
> > > Input file size is 561, 420
> 
> >
> 
> > >
> 
> >
> 
> > >
> 0...10...20...30...40...50...60...70...80...90...100
> 
> > -
> 
> >
> 
> > > done.
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > I can display both in.tif and out.ntf with
> OpenEV. So
> 
> > both
> 
> >
> 
> > > in.tif and out.ntf were ok to OpenEV.
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > With a simple Google Earth kml file(specifying
> the
> 
> >
> 
> > > LanLonBox)(printed below) I could import the
> in.tif
> 
> > to
> 
> >
> 
> > > Google Earth viewer to the right geo-location.
> So
> 
> > in.tif was
> 
> >
> 
> > > ok to GE.
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > However, after replacing the image file name
> from
> 
> > in.tif to
> 
> >
> 
> > > out.ntf in the same kml file (printed below) I
> could
> 
> > not
> 
> >
> 
> > > import the out.ntf to Google Earth viewer (shown
> as a
> 
> > big
> 
> >
> 
> > > red cross in a big red rectangle at the
> geo-location
> 
> > in the
> 
> >
> 
> > > GE viewer). So out.ntf was not ok to GE. Any
> ideal
> 
> > about
> 
> >
> 
> > > what might cause the problem? Was the use of
> 
> > gdal_translate
> 
> >
> 
> > > wrong or missing some options? I tried not to use
> -co
> 
> >
> 
> > > ICRODS=G but I got the same problem. Thank you.
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > printed kml for in.tif:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > <?xml version="1.0"
> 
> >
> 
> > > encoding="UTF-8"?>
> 
> >
> 
> > >
> 
> >
> 
> > > <kml xmlns="http://www.opengis.net/kml/2.2"
> 
> >
> 
> > >
> 
> >
> 
> > > xmlns:gx="http://www.google.com/kml/ext/2.2"
> 
> >
> 
> > >
> 
> >
> 
> > > xmlns:kml="http://www.opengis.net/kml/2.2"
> 
> >
> 
> > >
> 
> >
> 
> > > xmlns:atom="http://www.w3.org/2005/Atom">
> 
> >
> 
> > >
> 
> >
> 
> > > <GroundOverlay>
> 
> >
> 
> > >
> 
> >
> 
> > > ??<description>
> 
> >
> 
> > >
> 
> >
> 
> > > *** Meta-Data ***
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?Lat = 42.808863
> 
> >
> 
> > >
> 
> >
> 
> > > ??</description>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?<name>in.tif</name>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?<Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? <href>in.tif</href>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ?
> 
> >
> 
> > >
> <viewBoundScale>0.75</viewBoundScale>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?</Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ?<LatLonBox>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? ?
> 
> > <north>42.8093748999134</north>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? ?
> 
> > <south>42.8082925732318</south>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? ?
> 
> > <east>-70.887525562763</east>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? ?
> 
> > <west>-70.8894939447889</west>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? ?
> 
> > <rotation>-95.909027</rotation>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ?</LatLonBox>
> 
> >
> 
> > >
> 
> >
> 
> > > </GroundOverlay>
> 
> >
> 
> > >
> 
> >
> 
> > > </kml>
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > printed kml for out.ntf: same as in.tif
> 
> >
> 
> > > except:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?<name>out.ntf</name>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?<Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ? <href>out.ntf</href>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ? ?
> 
> >
> 
> > >
> <viewBoundScale>0.75</viewBoundScale>
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?</Icon>
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Best Regards,
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Mo Wang
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > _______________________________________________
> 
> >
> 
> > >
> 
> >
> 
> > > gdal-dev mailing list
> 
> >
> 
> > >
> 
> >
> 
> > > gdal-dev@lists.osgeo.org
> 
> >
> 
> > >
> 
> >
> 
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 


      
From randre at gmail.com  Thu Apr  9 16:30:10 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Thu Apr  9 16:30:13 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image 
	converted from a tif image by gdal_translate
In-Reply-To: <77918.26722.qm@web32607.mail.mud.yahoo.com>
References: <77918.26722.qm@web32607.mail.mud.yahoo.com>
Message-ID: <9c2015090904091330p5e7a0b06s569ab853c77e913a@mail.gmail.com>

Hi Mo,

What is the gdalinfo output for the GeoTIFF that you created?  If you didn't
get an error when you tried to load it in GE, perhaps the georeferencing in
the image doesn't quite match what you specified in your KML.

Roger
--

On Thu, Apr 9, 2009 at 1:21 PM, mohwawang <mohwawang@yahoo.com> wrote:

>
> Hi Roger,
>
> My goal is to be able to directly import NITF image to GE without using
> KML. You can see the advantage of this application - if it works. I'm glad
> that you have viewed in GE georeferenced imagery created or altered by gdal.
> Maybe you can point out what I did wrong.
>
> It is good that you asked about GeoTIFF. So I used gdal_translate to
> convert the tif image to a GeoTIFF image. I tried to drag and drop the
> GeoTIFF image to GE but nothing happened. I did not see the GeoTIFF image in
> GE and I did not get any error message either.
>
> I can open the GeoTIFF image with OpenEV and I can read the lan/lon
> coordinates and they are correct. One thing is that it seems that OpenEV
> does not set North to Up. Its orientation aligns with the file coordinates -
> (0,0) is at the upper left corner. I then opened tif file in the same OpenEV
> and they match to each other.
>
> Again, I can import the tif image with its kml to GE but I can not import
> the GeoTIFF to GE (without using kml), it seems that nothing happened. I can
> import the GeoTIFF to GE with kml - though that is not what I want. But the
> GeoTIFF is better than the NITF that could not be imported to GE even with
> the same kml.
>
> What's wrong with GeoTIFF? I mean why I could not import it to GE? I listed
> the gdal_translate command line here:
>
> >gdal_translate -of GTiff tiff.tif gtiff.gtf -a_srs EPSG:4326 -gcp 0 0
> -70.887525562763 42.8093748999134 -gcp 560 0 -70.887525562763
> 42.8082925732318 -gcp 560 419 -70.8894939447889 42.8082925732318 -gcp 0 419
> -70.8894939447889 42.8093748999134
>
> I don't have a .ntif file that was not created by gdal to test GE via the
> "Import Image Tool".
>
> Thanks.
>
> Mo
>
>
> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com> wrote:
>
> > From: Roger Andr? <randre@gmail.com>
> > Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image
>  converted from a tif image by gdal_translate
> > To: "mohwawang" <mohwawang@yahoo.com>
> > Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> > Date: Thursday, April 9, 2009, 12:47 PM
> > Hi Mo,
> >
> > Thanks for that pointer on the differences between GE
> > Layers and Places.  I'll be sure to take a close look
> > at those links.  I've had occasion in the past to view
> > georeferenced imagery in Google Earth, much of it created or
> > altered by gdal in some way, so this topic interests me.
> >
> >
> > I'm curious, is your goal to view the NITF format
> > specifically and to have GE read the internal georeferencing
> > info, or is it just to view the image in GE?  It sounds
> > like you have already accomplished the latter using a KML
> > Ground Overlay and a tif, a method which has also worked
> > reliably for me in the past as well. I've also had
> > success with PNG and JPEG format files.
> >
> >
> > Since in your .nitf test the georeferencing was supplied by
> > the KML file, the red "X" you are getting implies
> > to me that the image format isn't being correctly
> > interpreted by GE for some reason.  The fact that Envi
> > chokes on it as well does seem to point to gdal as a
> > possible culprit, although the NITF format is not one that I
> > have seen very much.  Have you tried importing the GeoTIFF
> > version of your file directly into GE Pro as well?  Also,
> > do you have a .nitf file that was not created by gdal, and
> > which you could use to test GE via the "Add Image
> > Overlay" tool?
> >
> >
> > Roger
> > --
> >
> > On Thu, Apr 9, 2009 at 8:37 AM,
> > mohwawang <mohwawang@yahoo.com>
> > wrote:
> >
> >
> >
> > Roger,
> >
> >
> >
> > I'm using Google Earth Pro 5.0. Thank you for the
> > suggestions.
> >
> >
> >
> > Google Earth Pro 4.0 also supports importing NITF:
> >
> > http://earth.google.com/userguide/v4/ug_importdata.html
> > that is for importing your data (including vector data and
> > imagery data) to the Places of Google Earth while
> http://earth.google.com/userguide/v4/ug_imageoverlays.html
> > is for "Using Image Overlays and 3D Models".
> >
> >
> >
> >
> > See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places
> > for the difference between Layers and Places in GE.
> >
> >
> >
> >
> > This is the first time I'm importing geo-referenced
> > images to Google Earth Pro and so far I don't have much
> > luck. As I said that I could not use GE to import the NITF
> > images converted from gdal_translate (with EPSG:4326 that is
> > the same projection, Simple Cylindrical projection, or known
> > as Lat/Lon WGS84 that GE uses). So I tried to narrow down
> > the problem. This time I imported to GE an native Erdas
> > IMAGINE image (.img) (with UTM projection that GE supports
> > too) but still failed. The later test case has nothing to do
> > with gdal and is purely a question for GE. That .img image
> > can be opened by both IMAGINE and OpenEV.
> >
> >
> >
> >
> > The NITF image (converted by gdal_translate) not just could
> > not be opened by GE it could not be opened by ENVI 4.1
> > either. It can be opened by OpenEV (tightly related to gdal)
> > though. So it could be a problem in either gdal_translate or
> > ENVI (I doubt though) or both.
> >
> >
> >
> >
> > Thanks.
> >
> >
> >
> > Mo
> >
> >
> >
> > --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
> > wrote:
> >
> >
> >
> > > From: Roger Andr? <randre@gmail.com>
> >
> > > Subject: Re: [gdal-dev] Problem in importing to Google
> > Earth a nitf image  converted from a tif image by
> > gdal_translate
> >
> > > To: "mohwawang" <mohwawang@yahoo.com>
> >
> > > Cc: "gdal-dev@lists.osgeo.org"
> > <gdal-dev@lists.osgeo.org>
> >
> > > Date: Thursday, April 9, 2009, 12:44 AM
> >
> > > Granted, I haven't
> > tried V 5 yet,
> >
> > > but your quote also states, "Google Earth Pro or
> >
> > > EC".  Are you using one of those versions of
> > the
> >
> > > client?  In any case, if the file opens in OpenEV,
> > chances
> >
> > > are good that the .ntf generated by gdal is ok, and
> > that
> >
> > > there is some sort of problem with how Google Earth
> > is
> >
> > > reading it.  Have you tried emailing the KML support
> > list
> >
> > > as well?
> >
> > >
> >
> > > --
> >
> > >
> >
> > > On Wed, Apr 8, 2009 at 8:51 PM,
> >
> > > mohwawang <mohwawang@yahoo.com>
> >
> > > wrote:
> >
> > >
> >
> > >
> >
> > >
> >
> > > Google Earth 5.0 supports NITF see
> >
> > >
> >
> > > http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
> >
> > >
> >
> > >
> >
> > >
> >
> > > [Importing Imagery
> >
> > >
> >
> > >
> >
> > >
> >
> > > You can open GIS imagery files in Google Earth Pro or
> > EC
> >
> > > and have the files correctly projected over the proper
> > map
> >
> > > coordinates in the 3D viewer. Google Earth Pro and EC
> >
> > > support the following types of GIS imagery:
> >
> > >
> >
> > >
> >
> > >
> >
> > >     * TIFF (.tif), including GeoTiff and compressed
> > TIFF
> >
> > > files
> >
> > >
> >
> > >     * National Imagery Transmission Format (.ntf)
> >
> > >
> >
> > >     * Erdas Imagine Images (.img)
> >
> > >
> >
> > >
> >
> > >
> >
> > > In addition, you can also import the following
> > images.
> >
> > > Because they do not contain projection information,
> > you must
> >
> > > manually edit their coordinates for correct
> > positioning:
> >
> > >
> >
> > >
> >
> > >
> >
> > >     * Atlantis MFF Raster (.hdr)
> >
> > >
> >
> > >     * PCIDSK Database File (.pix)
> >
> > >
> >
> > >     * Portable Pixmap Format (.pnm)
> >
> > >
> >
> > >     * Device Independent Bitmap (.bmp)
> >
> > >
> >
> > >
> >
> > >
> >
> > > Note - All imagery files must contain the correct
> >
> > > projection information in order to be accurately
> >
> > > re-projected by the Google Earth software.]
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > > Mo
> >
> > >
> >
> > >
> >
> > >
> >
> > > --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
> >
> > > wrote:
> >
> > >
> >
> > >
> >
> > >
> >
> > > > From: Roger Andr? <randre@gmail.com>
> >
> > >
> >
> > > > Subject: Re: [gdal-dev] Problem in importing to
> > Google
> >
> > > Earth a nitf image  converted from a tif image by
> >
> > > gdal_translate
> >
> > >
> >
> > > > To: "mohwawang" <mohwawang@yahoo.com>
> >
> > >
> >
> > > > Cc: "gdal-dev@lists.osgeo.org"
> >
> > > <gdal-dev@lists.osgeo.org>
> >
> > >
> >
> > > > Date: Wednesday, April 8, 2009, 10:45 PM
> >
> > >
> >
> > > > See
> http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> >
> > >
> >
> > > > I don't believe the "NITF (rw+):
> > National
> >
> > > Imagery
> >
> > >
> >
> > > > Transmission Format" is supported by Google
> >
> > > Earth.
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > Roger
> >
> > >
> >
> > > > --
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > On Wed, Apr 8, 2009 at 3:27 PM,
> >
> > >
> >
> > > > mohwawang <mohwawang@yahoo.com>
> >
> > >
> >
> > > > wrote:
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > Hi all,
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > I'm sorry that this is the third time I tried
> > to
> >
> > > send
> >
> > >
> >
> > > > this message out because I myself didn't get
> > the
> >
> > > first
> >
> > >
> >
> > > > two through gdal-dev@lists.osgeo.org
> >
> > >
> >
> > > > so I thought others might not get it either.
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > I used gdal_translate to convert a tif image to
> > a
> >
> > > nitf
> >
> > >
> >
> > > > image as:
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > >gdal_translate -of nitf in.tif out.ntf -co
> >
> > > ICORDS=G
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > Input file size is 561, 420
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> > 0...10...20...30...40...50...60...70...80...90...100
> >
> > > -
> >
> > >
> >
> > > > done.
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > I can display both in.tif and out.ntf with
> > OpenEV. So
> >
> > > both
> >
> > >
> >
> > > > in.tif and out.ntf were ok to OpenEV.
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > With a simple Google Earth kml file(specifying
> > the
> >
> > >
> >
> > > > LanLonBox)(printed below) I could import the
> > in.tif
> >
> > > to
> >
> > >
> >
> > > > Google Earth viewer to the right geo-location.
> > So
> >
> > > in.tif was
> >
> > >
> >
> > > > ok to GE.
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > However, after replacing the image file name
> > from
> >
> > > in.tif to
> >
> > >
> >
> > > > out.ntf in the same kml file (printed below) I
> > could
> >
> > > not
> >
> > >
> >
> > > > import the out.ntf to Google Earth viewer (shown
> > as a
> >
> > > big
> >
> > >
> >
> > > > red cross in a big red rectangle at the
> > geo-location
> >
> > > in the
> >
> > >
> >
> > > > GE viewer). So out.ntf was not ok to GE. Any
> > ideal
> >
> > > about
> >
> > >
> >
> > > > what might cause the problem? Was the use of
> >
> > > gdal_translate
> >
> > >
> >
> > > > wrong or missing some options? I tried not to use
> > -co
> >
> > >
> >
> > > > ICRODS=G but I got the same problem. Thank you.
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > printed kml for in.tif:
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > <?xml version="1.0"
> >
> > >
> >
> > > > encoding="UTF-8"?>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > <kml xmlns="http://www.opengis.net/kml/2.2"
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > xmlns:gx="http://www.google.com/kml/ext/2.2"
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > xmlns:kml="http://www.opengis.net/kml/2.2"
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > xmlns:atom="http://www.w3.org/2005/Atom">
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > <GroundOverlay>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >   <description>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > *** Meta-Data ***
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     Lat = 42.808863
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >   </description>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     <name>in.tif</name>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     <Icon>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >        <href>in.tif</href>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> > <viewBoundScale>0.75</viewBoundScale>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     </Icon>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >       <LatLonBox>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > > <north>42.8093748999134</north>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > > <south>42.8082925732318</south>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > > <east>-70.887525562763</east>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > > <west>-70.8894939447889</west>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > > <rotation>-95.909027</rotation>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >       </LatLonBox>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > </GroundOverlay>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > </kml>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > printed kml for out.ntf: same as in.tif
> >
> > >
> >
> > > > except:
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     <name>out.ntf</name>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     <Icon>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >        <href>out.ntf</href>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> > <viewBoundScale>0.75</viewBoundScale>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >     </Icon>
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > Best Regards,
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > Mo Wang
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > _______________________________________________
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > gdal-dev mailing list
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > gdal-dev@lists.osgeo.org
> >
> > >
> >
> > > >
> >
> > >
> >
> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> > >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090409/23992f70/attachment-0001.html
From mohwawang at yahoo.com  Thu Apr  9 16:56:47 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Thu Apr  9 16:56:50 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <210356.60830.qm@web32608.mail.mud.yahoo.com>


Hi Roger,

gdalinfo gave me only info about coordinates of GCPs but I doubt that are much useful to GE. Any other way (other than using GCP in gdal_translate) to embed the coordinates info to the GeoTIFF file?

Thanks.

Mo

Driver: GTiff/GeoTIFF
Files: gdal_translate_tif_to_gtiff.gtf
Size is 561, 420
Coordinate System is `'
GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]]
GCP[  0]: Id=1, Info=
          (0,0) -> (-70.887525562763,42.8093748999134,0)
GCP[  1]: Id=2, Info=
          (560,0) -> (-70.887525562763,42.8082925732318,0)
GCP[  2]: Id=3, Info=
          (560,419) -> (-70.8894939447889,42.8082925732318,0)
GCP[  3]: Id=4, Info=
          (0,419) -> (-70.8894939447889,42.8093748999134,0)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_XRESOLUTION=300
  TIFFTAG_YRESOLUTION=300
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  420.0)
Upper Right (  561.0,    0.0)
Lower Right (  561.0,  420.0)
Center      (  280.5,  210.0)
Band 1 Block=561x4 Type=Byte, ColorInterp=Red
Band 2 Block=561x4 Type=Byte, ColorInterp=Green
Band 3 Block=561x4 Type=Byte, ColorInterp=Blue

------


--- On Thu, 4/9/09, Roger Andr? <randre@gmail.com> wrote:

> From: Roger Andr? <randre@gmail.com>
> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image  converted from a tif image by gdal_translate
> To: "mohwawang" <mohwawang@yahoo.com>
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> Date: Thursday, April 9, 2009, 4:30 PM
> Hi Mo,
> 
> What is the gdalinfo output for the GeoTIFF that you
> created?? If you didn't get an error when you tried to
> load it in GE, perhaps the georeferencing in the image
> doesn't quite match what you specified in your KML.
> 
> 
> Roger
> --
> 
> On Thu, Apr 9, 2009 at 1:21 PM,
> mohwawang <mohwawang@yahoo.com>
> wrote:
> 
> 
> 
> Hi Roger,
> 
> 
> 
> My goal is to be able to directly import NITF image to GE
> without using KML. You can see the advantage of this
> application - if it works. I'm glad that you have viewed
> in GE georeferenced imagery created or altered by gdal.
> Maybe you can point out what I did wrong.
> 
> 
> 
> 
> It is good that you asked about GeoTIFF. So I used
> gdal_translate to convert the tif image to a GeoTIFF image.
> I tried to drag and drop the GeoTIFF image to GE but nothing
> happened. I did not see the GeoTIFF image in GE and I did
> not get any error message either.
> 
> 
> 
> 
> I can open the GeoTIFF image with OpenEV and I can read the
> lan/lon coordinates and they are correct. One thing is that
> it seems that OpenEV does not set North to Up. Its
> orientation aligns with the file coordinates - (0,0) is at
> the upper left corner. I then opened tif file in the same
> OpenEV and they match to each other.
> 
> 
> 
> 
> Again, I can import the tif image with its kml to GE but I
> can not import the GeoTIFF to GE (without using kml), it
> seems that nothing happened. I can import the GeoTIFF to GE
> with kml - though that is not what I want. But the GeoTIFF
> is better than the NITF that could not be imported to GE
> even with the same kml.
> 
> 
> 
> 
> What's wrong with GeoTIFF? I mean why I could not
> import it to GE? I listed the gdal_translate command line
> here:
> 
> 
> 
> >gdal_translate -of GTiff tiff.tif gtiff.gtf -a_srs
> EPSG:4326 -gcp 0 0 -70.887525562763 42.8093748999134 -gcp
> 560 0 -70.887525562763 42.8082925732318 -gcp 560 419
> -70.8894939447889 42.8082925732318 -gcp 0 419
> -70.8894939447889 42.8093748999134
> 
> 
> 
> 
> I don't have a .ntif file that was not created by gdal
> to test GE via the "Import Image Tool".
> 
> 
> 
> Thanks.
> 
> 
> 
> Mo
> 
> 
> 
> 
> 
> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
> wrote:
> 
> 
> 
> > From: Roger Andr? <randre@gmail.com>
> 
> > Subject: Re: [gdal-dev] Problem in importing to Google
> Earth a nitf image ?converted from a tif image by
> gdal_translate
> 
> > To: "mohwawang" <mohwawang@yahoo.com>
> 
> > Cc: "gdal-dev@lists.osgeo.org"
> <gdal-dev@lists.osgeo.org>
> 
> > Date: Thursday, April 9, 2009, 12:47 PM
> 
> > Hi Mo,
> 
> >
> 
> > Thanks for that pointer on the differences between GE
> 
> > Layers and Places.? I'll be sure to take a close
> look
> 
> > at those links.? I've had occasion in the past to
> view
> 
> > georeferenced imagery in Google Earth, much of it
> created or
> 
> > altered by gdal in some way, so this topic interests
> me.
> 
> >
> 
> >
> 
> > I'm curious, is your goal to view the NITF format
> 
> > specifically and to have GE read the internal
> georeferencing
> 
> > info, or is it just to view the image in GE?? It
> sounds
> 
> > like you have already accomplished the latter using a
> KML
> 
> > Ground Overlay and a tif, a method which has also
> worked
> 
> > reliably for me in the past as well. I've also
> had
> 
> > success with PNG and JPEG format files.?
> 
> >
> 
> >
> 
> > Since in your .nitf test the georeferencing was
> supplied by
> 
> > the KML file, the red "X" you are getting
> implies
> 
> > to me that the image format isn't being correctly
> 
> > interpreted by GE for some reason.? The fact that
> Envi
> 
> > chokes on it as well does seem to point to gdal as a
> 
> > possible culprit, although the NITF format is not one
> that I
> 
> > have seen very much.? Have you tried importing the
> GeoTIFF
> 
> > version of your file directly into GE Pro as well??
> Also,
> 
> > do you have a .nitf file that was not created by gdal,
> and
> 
> > which you could use to test GE via the "Add
> Image
> 
> > Overlay" tool?
> 
> >
> 
> >
> 
> > Roger
> 
> > --
> 
> >
> 
> > On Thu, Apr 9, 2009 at 8:37 AM,
> 
> > mohwawang <mohwawang@yahoo.com>
> 
> > wrote:
> 
> >
> 
> >
> 
> >
> 
> > Roger,
> 
> >
> 
> >
> 
> >
> 
> > I'm using Google Earth Pro 5.0. Thank you for the
> 
> > suggestions.
> 
> >
> 
> >
> 
> >
> 
> > Google Earth Pro 4.0 also supports importing NITF:
> 
> >
> 
> > http://earth.google.com/userguide/v4/ug_importdata.html
> 
> > that is for importing your data (including vector data
> and
> 
> > imagery data) to the Places of Google Earth while http://earth.google.com/userguide/v4/ug_imageoverlays.html
> 
> > is for "Using Image Overlays and 3D
> Models".
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places
> 
> > for the difference between Layers and Places in GE.
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > This is the first time I'm importing
> geo-referenced
> 
> > images to Google Earth Pro and so far I don't have
> much
> 
> > luck. As I said that I could not use GE to import the
> NITF
> 
> > images converted from gdal_translate (with EPSG:4326
> that is
> 
> > the same projection, Simple Cylindrical projection, or
> known
> 
> > as Lat/Lon WGS84 that GE uses). So I tried to narrow
> down
> 
> > the problem. This time I imported to GE an native
> Erdas
> 
> > IMAGINE image (.img) (with UTM projection that GE
> supports
> 
> > too) but still failed. The later test case has nothing
> to do
> 
> > with gdal and is purely a question for GE. That .img
> image
> 
> > can be opened by both IMAGINE and OpenEV.
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > The NITF image (converted by gdal_translate) not just
> could
> 
> > not be opened by GE it could not be opened by ENVI
> 4.1
> 
> > either. It can be opened by OpenEV (tightly related to
> gdal)
> 
> > though. So it could be a problem in either
> gdal_translate or
> 
> > ENVI (I doubt though) or both.
> 
> >
> 
> >
> 
> >
> 
> >
> 
> > Thanks.
> 
> >
> 
> >
> 
> >
> 
> > Mo
> 
> >
> 
> >
> 
> >
> 
> > --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
> 
> > wrote:
> 
> >
> 
> >
> 
> >
> 
> > > From: Roger Andr? <randre@gmail.com>
> 
> >
> 
> > > Subject: Re: [gdal-dev] Problem in importing to
> Google
> 
> > Earth a nitf image ?converted from a tif image by
> 
> > gdal_translate
> 
> >
> 
> > > To: "mohwawang" <mohwawang@yahoo.com>
> 
> >
> 
> > > Cc: "gdal-dev@lists.osgeo.org"
> 
> > <gdal-dev@lists.osgeo.org>
> 
> >
> 
> > > Date: Thursday, April 9, 2009, 12:44 AM
> 
> >
> 
> > > Granted, I haven't
> 
> > tried V 5 yet,
> 
> >
> 
> > > but your quote also states, "Google Earth
> Pro or
> 
> >
> 
> > > EC".? Are you using one of those versions
> of
> 
> > the
> 
> >
> 
> > > client?? In any case, if the file opens in
> OpenEV,
> 
> > chances
> 
> >
> 
> > > are good that the .ntf generated by gdal is ok,
> and
> 
> > that
> 
> >
> 
> > > there is some sort of problem with how Google
> Earth
> 
> > is
> 
> >
> 
> > > reading it.? Have you tried emailing the KML
> support
> 
> > list
> 
> >
> 
> > > as well?
> 
> >
> 
> > >
> 
> >
> 
> > > --
> 
> >
> 
> > >
> 
> >
> 
> > > On Wed, Apr 8, 2009 at 8:51 PM,
> 
> >
> 
> > > mohwawang <mohwawang@yahoo.com>
> 
> >
> 
> > > wrote:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Google Earth 5.0 supports NITF see
> 
> >
> 
> > >
> 
> >
> 
> > > http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > [Importing Imagery
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > You can open GIS imagery files in Google Earth
> Pro or
> 
> > EC
> 
> >
> 
> > > and have the files correctly projected over the
> proper
> 
> > map
> 
> >
> 
> > > coordinates in the 3D viewer. Google Earth Pro
> and EC
> 
> >
> 
> > > support the following types of GIS imagery:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* TIFF (.tif), including GeoTiff and
> compressed
> 
> > TIFF
> 
> >
> 
> > > files
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* National Imagery Transmission Format
> (.ntf)
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* Erdas Imagine Images (.img)
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > In addition, you can also import the following
> 
> > images.
> 
> >
> 
> > > Because they do not contain projection
> information,
> 
> > you must
> 
> >
> 
> > > manually edit their coordinates for correct
> 
> > positioning:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* Atlantis MFF Raster (.hdr)
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* PCIDSK Database File (.pix)
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* Portable Pixmap Format (.pnm)
> 
> >
> 
> > >
> 
> >
> 
> > > ?? ?* Device Independent Bitmap (.bmp)
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Note - All imagery files must contain the
> correct
> 
> >
> 
> > > projection information in order to be accurately
> 
> >
> 
> > > re-projected by the Google Earth software.]
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > Mo
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
> 
> >
> 
> > > wrote:
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > > > From: Roger Andr? <randre@gmail.com>
> 
> >
> 
> > >
> 
> >
> 
> > > > Subject: Re: [gdal-dev] Problem in importing
> to
> 
> > Google
> 
> >
> 
> > > Earth a nitf image ?converted from a tif image
> by
> 
> >
> 
> > > gdal_translate
> 
> >
> 
> > >
> 
> >
> 
> > > > To: "mohwawang" <mohwawang@yahoo.com>
> 
> >
> 
> > >
> 
> >
> 
> > > > Cc: "gdal-dev@lists.osgeo.org"
> 
> >
> 
> > > <gdal-dev@lists.osgeo.org>
> 
> >
> 
> > >
> 
> >
> 
> > > > Date: Wednesday, April 8, 2009, 10:45 PM
> 
> >
> 
> > >
> 
> >
> 
> > > > See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> 
> >
> 
> > >
> 
> >
> 
> > > > I don't believe the "NITF (rw+):
> 
> > National
> 
> >
> 
> > > Imagery
> 
> >
> 
> > >
> 
> >
> 
> > > > Transmission Format" is supported by
> Google
> 
> >
> 
> > > Earth.
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > Roger
> 
> >
> 
> > >
> 
> >
> 
> > > > --
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > On Wed, Apr 8, 2009 at 3:27 PM,
> 
> >
> 
> > >
> 
> >
> 
> > > > mohwawang <mohwawang@yahoo.com>
> 
> >
> 
> > >
> 
> >
> 
> > > > wrote:
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > Hi all,
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > I'm sorry that this is the third time I
> tried
> 
> > to
> 
> >
> 
> > > send
> 
> >
> 
> > >
> 
> >
> 
> > > > this message out because I myself didn't
> get
> 
> > the
> 
> >
> 
> > > first
> 
> >
> 
> > >
> 
> >
> 
> > > > two through gdal-dev@lists.osgeo.org
> 
> >
> 
> > >
> 
> >
> 
> > > > so I thought others might not get it
> either.
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > I used gdal_translate to convert a tif image
> to
> 
> > a
> 
> >
> 
> > > nitf
> 
> >
> 
> > >
> 
> >
> 
> > > > image as:
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > >gdal_translate -of nitf in.tif out.ntf
> -co
> 
> >
> 
> > > ICORDS=G
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > Input file size is 561, 420
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> > 0...10...20...30...40...50...60...70...80...90...100
> 
> >
> 
> > > -
> 
> >
> 
> > >
> 
> >
> 
> > > > done.
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >

> 
> > >
> 
> >
> 
> > > > I can display both in.tif and out.ntf with
> 
> > OpenEV. So
> 
> >
> 
> > > both
> 
> >
> 
> > >
> 
> >
> 
> > > > in.tif and out.ntf were ok to OpenEV.
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > With a simple Google Earth kml
> file(specifying
> 
> > the
> 
> >
> 
> > >
> 
> >
> 
> > > > LanLonBox)(printed below) I could import
> the
> 
> > in.tif
> 
> >
> 
> > > to
> 
> >
> 
> > >
> 
> >
> 
> > > > Google Earth viewer to the right
> geo-location.
> 
> > So
> 
> >
> 
> > > in.tif was
> 
> >
> 
> > >
> 
> >
> 
> > > > ok to GE.
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > However, after replacing the image file
> name
> 
> > from
> 
> >
> 
> > > in.tif to
> 
> >
> 
> > >
> 
> >
> 
> > > > out.ntf in the same kml file (printed below)
> I
> 
> > could
> 
> >
> 
> > > not
> 
> >
> 
> > >
> 
> >
> 
> > > > import the out.ntf to Google Earth viewer
> (shown
> 
> > as a
> 
> >
> 
> > > big
> 
> >
> 
> > >
> 
> >
> 
> > > > red cross in a big red rectangle at the
> 
> > geo-location
> 
> >
> 
> > > in the
> 
> >
> 
> > >
> 
> >
> 
> > > > GE viewer). So out.ntf was not ok to GE.
> Any
> 
> > ideal
> 
> >
> 
> > > about
> 
> >
> 
> > >
> 
> >
> 
> > > > what might cause the problem? Was the use
> of
> 
> >
> 
> > > gdal_translate
> 
> >
> 
> > >
> 
> >
> 
> > > > wrong or missing some options? I tried not
> to use
> 
> > -co
> 
> >
> 
> > >
> 
> >
> 
> > > > ICRODS=G but I got the same problem. Thank
> you.
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > printed kml for in.tif:
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > <?xml version="1.0"
> 
> >
> 
> > >
> 
> >
> 
> > > > encoding="UTF-8"?>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > <kml xmlns="http://www.opengis.net/kml/2.2"
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > xmlns:gx="http://www.google.com/kml/ext/2.2"
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > xmlns:kml="http://www.opengis.net/kml/2.2"
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > xmlns:atom="http://www.w3.org/2005/Atom">
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > <GroundOverlay>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ??<description>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > *** Meta-Data ***
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?Lat = 42.808863
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ??</description>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?<name>in.tif</name>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?<Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? <href>in.tif</href>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ?
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> > <viewBoundScale>0.75</viewBoundScale>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?</Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ?<LatLonBox>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? ?
> 
> >
> 
> > > <north>42.8093748999134</north>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? ?
> 
> >
> 
> > > <south>42.8082925732318</south>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? ?
> 
> >
> 
> > > <east>-70.887525562763</east>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? ?
> 
> >
> 
> > > <west>-70.8894939447889</west>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? ?
> 
> >
> 
> > > <rotation>-95.909027</rotation>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ?</LatLonBox>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > </GroundOverlay>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > </kml>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > printed kml for out.ntf: same as in.tif
> 
> >
> 
> > >
> 
> >
> 
> > > > except:
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?<name>out.ntf</name>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?<Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ? <href>out.ntf</href>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ? ?
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> > <viewBoundScale>0.75</viewBoundScale>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > ?? ?</Icon>
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > Best Regards,
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > Mo Wang
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> _______________________________________________
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > gdal-dev mailing list
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > gdal-dev@lists.osgeo.org
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> > >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> >
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 


      
From oalvarez00 at gmail.com  Thu Apr  9 19:24:57 2009
From: oalvarez00 at gmail.com (alvarez00)
Date: Thu Apr  9 19:24:59 2009
Subject: [Gdal-dev] 1-band TIFF FILE color ramp NEEDED
Message-ID: <1239319497735-2613963.post@n2.nabble.com>


I'm trying to make a color ramp for a 1-band tiff file or a jpeg. I have a 1-band tiff file and I converted that tiff file into VRT. I was reading some of the posts and some suggest to modify the VRT file and add a ColorTable tag but that doesn't work. My objective is to show the tiff(or)jpeg on google earth. I'm running version 1.4.1.0 of gdal. Below is the VRT file without any modifications. What I modify was the '<ColorInterp>Gray</ColorInterp>' to '<ColorInterp>Palette</ColorInterp>' and added a ColorTable.

VRTDataset rasterXSize="1200" rasterYSize="1096">
  <SRS>GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.2572221010002,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0],UNIT[&quot;degree&quot;,0.0174532925199433],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]]</SRS>
  <GeoTransform> -1.2459079918952935e+02,  8.9964705882352915e-03,  0.0000000000000000e+00,  4.2216820949146452e+01,  0.0000000000000000e+00, -8.9964705882352915e-03</GeoTransform>
  <Metadata>
    <MDI key="AREA_OR_POINT">Area</MDI>
  </Metadata>
  <VRTRasterBand dataType="Float32" band="1">
    <Metadata/>
    <NoDataValue>-3.40282346638529E+38</NoDataValue>
    <ColorInterp>Gray</ColorInterp>
    <SimpleSource>
      <SourceFilename relativeToVRT="1">GoesWest1V1561915.tif</SourceFilename>
      <SourceBand>1</SourceBand>
      <SrcRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
      <DstRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
    </SimpleSource>
  </VRTRasterBand>
</VRTDataset>

-- 
View this message in context: http://n2.nabble.com/1-band-TIFF-FILE-color-ramp-NEEDED-tp2613963p2613963.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From rec at geodesign.com.br  Thu Apr  9 22:38:03 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Thu Apr  9 22:36:04 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
Message-ID: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>

Hello all,

We place this piece of code to test how coordinate transformation 
works with OGR.

         OGRSpatialReference oSourceSRS, oTargetSRS;
         OGRCoordinateTransformation *poCT;
         double  x1, y1;

         oSourceSRS="EPSG:4326";
         oTargetSRS="EPSG:4989";

         poCT = OGRCreateCoordinateTransformation( &oSourceSRS, &oTargetSRS );
         x1 = -45.859485925833;
         y1 = -23.2101365278;

         printf("%lf %lf \n",x1,y1);
		
		if( poCT == NULL || !poCT->Transform( 1, &x1, &y1 ) )
             printf( "Transformation failed.\n" );
         else
             printf( "(-45.859485925833,-23.2101365278) -> (%f,%f)\n",
                      x1, y1 );

The program compiles fine, but it gives the following runtime error:

ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
OGRCoordinateTransformation failed.

Isn't PROj.4 (proj.lib) built in OGR?

Any help is appreciate.

Thanks,

Reinaldo

From hobu.inc at gmail.com  Fri Apr 10 00:25:51 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Apr 10 00:33:37 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
Message-ID: <7B86C0D8-D245-4E72-907E-011F8312B529@gmail.com>


On Apr 9, 2009, at 9:38 PM, Reinaldo Escada Chohfi wrote:

> Hello all,
>
> We place this piece of code to test how coordinate transformation  
> works with OGR.
>
>        OGRSpatialReference oSourceSRS, oTargetSRS;
>        OGRCoordinateTransformation *poCT;
>        double  x1, y1;
>
>        oSourceSRS="EPSG:4326";
>        oTargetSRS="EPSG:4989";

I don't see how this could compile.  You need to instantiate  
oSourceSRS and oTargetSRS with OSRNewSpatialReference, and then use a  
call like OSRImportFromEPSG or OSRSetFromUserInput on the objects to  
get valid SpatialReferences.

>
> The program compiles fine, but it gives the following runtime error:
>
> ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
> OGRCoordinateTransformation failed.
>
> Isn't PROj.4 (proj.lib) built in OGR?
>

No, it is loaded at runtime unless you use have PROJ_FLAGS = - 
DPROJ_STATIC in your nmake.opt when you compile.  Otherwise, you must  
ensure that GDAL_DATA and/or PROJ_LIB environment variables are set,  
and the necessary data can be found in those locations *and* the  
proj.dll that was linked with GDAL at compile time is able to be found  
at runtime.
From gregcoats at mac.com  Thu Apr  9 23:54:49 2009
From: gregcoats at mac.com (Greg Coats)
Date: Fri Apr 10 00:56:01 2009
Subject: [gdal-dev] Seeking to pay for the development of a QGIS project file
In-Reply-To: <77918.26722.qm@web32607.mail.mud.yahoo.com>
References: <77918.26722.qm@web32607.mail.mud.yahoo.com>
Message-ID: <F8A9E526-C808-4AAB-B8AE-BBBDCBEE1490@mac.com>

For the Charleston, South Carolina urban area, I have quantity=1360,  
0.60 meter resolution georeferenced GeoJP2 images.  I have created  
several reduced-resolution mosaic images, that in effect form a 25 GB  
image pyramid.  When zoomed out, it is only necessary to draw pixels  
from one (not all) of the reduced resolution mosaic images.  I have  
built an ESRI ArcGIS interface that provides for intuitive, seamless  
panning, and zooming in and out through all of these images.

I would like to have prepared a functionally similar, easy to use,  
QGIS project file that would access, based on the current scale, the  
appropriate reduced-resolution mosaic image, and as the user zooms  
in, seamlessly displays the appropriate GeoJP2 image.  The GDAL  
utility gdalbuildvrt would be used to define the boundaries of the  
1360, full resolution images.  I am seeking to pay someone to develop  
the QGIS project file.  If you are interested, then please contact me.
Greg Coats
From schut at sarvision.nl  Fri Apr 10 03:15:11 2009
From: schut at sarvision.nl (Vincent Schut)
Date: Fri Apr 10 03:15:16 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
In-Reply-To: <210356.60830.qm@web32608.mail.mud.yahoo.com>
References: <210356.60830.qm@web32608.mail.mud.yahoo.com>
Message-ID: <49DEF1FF.7060000@sarvision.nl>

mohwawang wrote:
> Hi Roger,
>
> gdalinfo gave me only info about coordinates of GCPs but I doubt that are much useful to GE. Any other way (other than using GCP in gdal_translate) to embed the coordinates info to the GeoTIFF file?
>   
Mo,

I doubt GE will read and use your gcp's. And as there is not 
georeferencing (as: standard geotiff georeferencing) in your tiff, GE 
will fail to place your image.
I'd try to run your tiff through gdalwarp instead of gdal_translate. 
Good chance that gdalwarp will convert your unprojected image with gcp's 
into a real projected geotiff.
Just try: 'gdalwarp <inimage.tif> <outimage.tif>' and then check your 
outimage with gdal_info. It should now give you proper lat/lon values 
for the corner coordinates, instead of pixel indices.

Vincent.
> Thanks.
>
> Mo
>
> Driver: GTiff/GeoTIFF
> Files: gdal_translate_tif_to_gtiff.gtf
> Size is 561, 420
> Coordinate System is `'
> GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]]
> GCP[  0]: Id=1, Info=
>           (0,0) -> (-70.887525562763,42.8093748999134,0)
> GCP[  1]: Id=2, Info=
>           (560,0) -> (-70.887525562763,42.8082925732318,0)
> GCP[  2]: Id=3, Info=
>           (560,419) -> (-70.8894939447889,42.8082925732318,0)
> GCP[  3]: Id=4, Info=
>           (0,419) -> (-70.8894939447889,42.8093748999134,0)
> Metadata:
>   AREA_OR_POINT=Area
>   TIFFTAG_XRESOLUTION=300
>   TIFFTAG_YRESOLUTION=300
>   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
> Image Structure Metadata:
>   INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  (    0.0,    0.0)
> Lower Left  (    0.0,  420.0)
> Upper Right (  561.0,    0.0)
> Lower Right (  561.0,  420.0)
> Center      (  280.5,  210.0)
> Band 1 Block=561x4 Type=Byte, ColorInterp=Red
> Band 2 Block=561x4 Type=Byte, ColorInterp=Green
> Band 3 Block=561x4 Type=Byte, ColorInterp=Blue
>
> ------
>
>
> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com> wrote:
>
>   
>> From: Roger Andr? <randre@gmail.com>
>> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image  converted from a tif image by gdal_translate
>> To: "mohwawang" <mohwawang@yahoo.com>
>> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
>> Date: Thursday, April 9, 2009, 4:30 PM
>> Hi Mo,
>>
>> What is the gdalinfo output for the GeoTIFF that you
>> created?  If you didn't get an error when you tried to
>> load it in GE, perhaps the georeferencing in the image
>> doesn't quite match what you specified in your KML.
>>
>>
>> Roger
>> --
>>
>> On Thu, Apr 9, 2009 at 1:21 PM,
>> mohwawang <mohwawang@yahoo.com>
>> wrote:
>>
>>
>>
>> Hi Roger,
>>
>>
>>
>> My goal is to be able to directly import NITF image to GE
>> without using KML. You can see the advantage of this
>> application - if it works. I'm glad that you have viewed
>> in GE georeferenced imagery created or altered by gdal.
>> Maybe you can point out what I did wrong.
>>
>>
>>
>>
>> It is good that you asked about GeoTIFF. So I used
>> gdal_translate to convert the tif image to a GeoTIFF image.
>> I tried to drag and drop the GeoTIFF image to GE but nothing
>> happened. I did not see the GeoTIFF image in GE and I did
>> not get any error message either.
>>
>>
>>
>>
>> I can open the GeoTIFF image with OpenEV and I can read the
>> lan/lon coordinates and they are correct. One thing is that
>> it seems that OpenEV does not set North to Up. Its
>> orientation aligns with the file coordinates - (0,0) is at
>> the upper left corner. I then opened tif file in the same
>> OpenEV and they match to each other.
>>
>>
>>
>>
>> Again, I can import the tif image with its kml to GE but I
>> can not import the GeoTIFF to GE (without using kml), it
>> seems that nothing happened. I can import the GeoTIFF to GE
>> with kml - though that is not what I want. But the GeoTIFF
>> is better than the NITF that could not be imported to GE
>> even with the same kml.
>>
>>
>>
>>
>> What's wrong with GeoTIFF? I mean why I could not
>> import it to GE? I listed the gdal_translate command line
>> here:
>>
>>
>>
>>     
>>> gdal_translate -of GTiff tiff.tif gtiff.gtf -a_srs
>>>       
>> EPSG:4326 -gcp 0 0 -70.887525562763 42.8093748999134 -gcp
>> 560 0 -70.887525562763 42.8082925732318 -gcp 560 419
>> -70.8894939447889 42.8082925732318 -gcp 0 419
>> -70.8894939447889 42.8093748999134
>>
>>
>>
>>
>> I don't have a .ntif file that was not created by gdal
>> to test GE via the "Import Image Tool".
>>
>>
>>
>> Thanks.
>>
>>
>>
>> Mo
>>
>>
>>
>>
>>
>> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
>> wrote:
>>
>>
>>
>>     
>>> From: Roger Andr? <randre@gmail.com>
>>>       
>>> Subject: Re: [gdal-dev] Problem in importing to Google
>>>       
>> Earth a nitf image  converted from a tif image by
>> gdal_translate
>>
>>     
>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>       
>>> Cc: "gdal-dev@lists.osgeo.org"
>>>       
>> <gdal-dev@lists.osgeo.org>
>>
>>     
>>> Date: Thursday, April 9, 2009, 12:47 PM
>>>       
>>> Hi Mo,
>>>       
>>> Thanks for that pointer on the differences between GE
>>>       
>>> Layers and Places.  I'll be sure to take a close
>>>       
>> look
>>
>>     
>>> at those links.  I've had occasion in the past to
>>>       
>> view
>>
>>     
>>> georeferenced imagery in Google Earth, much of it
>>>       
>> created or
>>
>>     
>>> altered by gdal in some way, so this topic interests
>>>       
>> me.
>>
>>     
>>> I'm curious, is your goal to view the NITF format
>>>       
>>> specifically and to have GE read the internal
>>>       
>> georeferencing
>>
>>     
>>> info, or is it just to view the image in GE?  It
>>>       
>> sounds
>>
>>     
>>> like you have already accomplished the latter using a
>>>       
>> KML
>>
>>     
>>> Ground Overlay and a tif, a method which has also
>>>       
>> worked
>>
>>     
>>> reliably for me in the past as well. I've also
>>>       
>> had
>>
>>     
>>> success with PNG and JPEG format files. 
>>>       
>>> Since in your .nitf test the georeferencing was
>>>       
>> supplied by
>>
>>     
>>> the KML file, the red "X" you are getting
>>>       
>> implies
>>
>>     
>>> to me that the image format isn't being correctly
>>>       
>>> interpreted by GE for some reason.  The fact that
>>>       
>> Envi
>>
>>     
>>> chokes on it as well does seem to point to gdal as a
>>>       
>>> possible culprit, although the NITF format is not one
>>>       
>> that I
>>
>>     
>>> have seen very much.  Have you tried importing the
>>>       
>> GeoTIFF
>>
>>     
>>> version of your file directly into GE Pro as well? 
>>>       
>> Also,
>>
>>     
>>> do you have a .nitf file that was not created by gdal,
>>>       
>> and
>>
>>     
>>> which you could use to test GE via the "Add
>>>       
>> Image
>>
>>     
>>> Overlay" tool?
>>>       
>>> Roger
>>>       
>>> --
>>>       
>>> On Thu, Apr 9, 2009 at 8:37 AM,
>>>       
>>> mohwawang <mohwawang@yahoo.com>
>>>       
>>> wrote:
>>>       
>>> Roger,
>>>       
>>> I'm using Google Earth Pro 5.0. Thank you for the
>>>       
>>> suggestions.
>>>       
>>> Google Earth Pro 4.0 also supports importing NITF:
>>>       
>>> http://earth.google.com/userguide/v4/ug_importdata.html
>>>       
>>> that is for importing your data (including vector data
>>>       
>> and
>>
>>     
>>> imagery data) to the Places of Google Earth while http://earth.google.com/userguide/v4/ug_imageoverlays.html
>>>       
>>> is for "Using Image Overlays and 3D
>>>       
>> Models".
>>
>>     
>>> See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places
>>>       
>>> for the difference between Layers and Places in GE.
>>>       
>>> This is the first time I'm importing
>>>       
>> geo-referenced
>>
>>     
>>> images to Google Earth Pro and so far I don't have
>>>       
>> much
>>
>>     
>>> luck. As I said that I could not use GE to import the
>>>       
>> NITF
>>
>>     
>>> images converted from gdal_translate (with EPSG:4326
>>>       
>> that is
>>
>>     
>>> the same projection, Simple Cylindrical projection, or
>>>       
>> known
>>
>>     
>>> as Lat/Lon WGS84 that GE uses). So I tried to narrow
>>>       
>> down
>>
>>     
>>> the problem. This time I imported to GE an native
>>>       
>> Erdas
>>
>>     
>>> IMAGINE image (.img) (with UTM projection that GE
>>>       
>> supports
>>
>>     
>>> too) but still failed. The later test case has nothing
>>>       
>> to do
>>
>>     
>>> with gdal and is purely a question for GE. That .img
>>>       
>> image
>>
>>     
>>> can be opened by both IMAGINE and OpenEV.
>>>       
>>> The NITF image (converted by gdal_translate) not just
>>>       
>> could
>>
>>     
>>> not be opened by GE it could not be opened by ENVI
>>>       
>> 4.1
>>
>>     
>>> either. It can be opened by OpenEV (tightly related to
>>>       
>> gdal)
>>
>>     
>>> though. So it could be a problem in either
>>>       
>> gdal_translate or
>>
>>     
>>> ENVI (I doubt though) or both.
>>>       
>>> Thanks.
>>>       
>>> Mo
>>>       
>>> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
>>>       
>>> wrote:
>>>       
>>>> From: Roger Andr? <randre@gmail.com>
>>>>         
>>>> Subject: Re: [gdal-dev] Problem in importing to
>>>>         
>> Google
>>
>>     
>>> Earth a nitf image  converted from a tif image by
>>>       
>>> gdal_translate
>>>       
>>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>>         
>>>> Cc: "gdal-dev@lists.osgeo.org"
>>>>         
>>> <gdal-dev@lists.osgeo.org>
>>>       
>>>> Date: Thursday, April 9, 2009, 12:44 AM
>>>>         
>>>> Granted, I haven't
>>>>         
>>> tried V 5 yet,
>>>       
>>>> but your quote also states, "Google Earth
>>>>         
>> Pro or
>>
>>     
>>>> EC".  Are you using one of those versions
>>>>         
>> of
>>
>>     
>>> the
>>>       
>>>> client?  In any case, if the file opens in
>>>>         
>> OpenEV,
>>
>>     
>>> chances
>>>       
>>>> are good that the .ntf generated by gdal is ok,
>>>>         
>> and
>>
>>     
>>> that
>>>       
>>>> there is some sort of problem with how Google
>>>>         
>> Earth
>>
>>     
>>> is
>>>       
>>>> reading it.  Have you tried emailing the KML
>>>>         
>> support
>>
>>     
>>> list
>>>       
>>>> as well?
>>>>         
>>>> --
>>>>         
>>>> On Wed, Apr 8, 2009 at 8:51 PM,
>>>>         
>>>> mohwawang <mohwawang@yahoo.com>
>>>>         
>>>> wrote:
>>>>         
>>>> Google Earth 5.0 supports NITF see
>>>>         
>>>> http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
>>>>         
>>>> [Importing Imagery
>>>>         
>>>> You can open GIS imagery files in Google Earth
>>>>         
>> Pro or
>>
>>     
>>> EC
>>>       
>>>> and have the files correctly projected over the
>>>>         
>> proper
>>
>>     
>>> map
>>>       
>>>> coordinates in the 3D viewer. Google Earth Pro
>>>>         
>> and EC
>>
>>     
>>>> support the following types of GIS imagery:
>>>>         
>>>>     * TIFF (.tif), including GeoTiff and
>>>>         
>> compressed
>>
>>     
>>> TIFF
>>>       
>>>> files
>>>>         
>>>>     * National Imagery Transmission Format
>>>>         
>> (.ntf)
>>
>>     
>>>>     * Erdas Imagine Images (.img)
>>>>         
>>>> In addition, you can also import the following
>>>>         
>>> images.
>>>       
>>>> Because they do not contain projection
>>>>         
>> information,
>>
>>     
>>> you must
>>>       
>>>> manually edit their coordinates for correct
>>>>         
>>> positioning:
>>>       
>>>>     * Atlantis MFF Raster (.hdr)
>>>>         
>>>>     * PCIDSK Database File (.pix)
>>>>         
>>>>     * Portable Pixmap Format (.pnm)
>>>>         
>>>>     * Device Independent Bitmap (.bmp)
>>>>         
>>>> Note - All imagery files must contain the
>>>>         
>> correct
>>
>>     
>>>> projection information in order to be accurately
>>>>         
>>>> re-projected by the Google Earth software.]
>>>>         
>>>> Mo
>>>>         
>>>> --- On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
>>>>         
>>>> wrote:
>>>>         
>>>>> From: Roger Andr? <randre@gmail.com>
>>>>>           
>>>>> Subject: Re: [gdal-dev] Problem in importing
>>>>>           
>> to
>>
>>     
>>> Google
>>>       
>>>> Earth a nitf image  converted from a tif image
>>>>         
>> by
>>
>>     
>>>> gdal_translate
>>>>         
>>>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>>>           
>>>>> Cc: "gdal-dev@lists.osgeo.org"
>>>>>           
>>>> <gdal-dev@lists.osgeo.org>
>>>>         
>>>>> Date: Wednesday, April 8, 2009, 10:45 PM
>>>>>           
>>>>> See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
>>>>>           
>>>>> I don't believe the "NITF (rw+):
>>>>>           
>>> National
>>>       
>>>> Imagery
>>>>         
>>>>> Transmission Format" is supported by
>>>>>           
>> Google
>>
>>     
>>>> Earth.
>>>>         
>>>>> Roger
>>>>>           
>>>>> --
>>>>>           
>>>>> On Wed, Apr 8, 2009 at 3:27 PM,
>>>>>           
>>>>> mohwawang <mohwawang@yahoo.com>
>>>>>           
>>>>> wrote:
>>>>>           
>>>>> Hi all,
>>>>>           
>>>>> I'm sorry that this is the third time I
>>>>>           
>> tried
>>
>>     
>>> to
>>>       
>>>> send
>>>>         
>>>>> this message out because I myself didn't
>>>>>           
>> get
>>
>>     
>>> the
>>>       
>>>> first
>>>>         
>>>>> two through gdal-dev@lists.osgeo.org
>>>>>           
>>>>> so I thought others might not get it
>>>>>           
>> either.
>>
>>     
>>>>> I used gdal_translate to convert a tif image
>>>>>           
>> to
>>
>>     
>>> a
>>>       
>>>> nitf
>>>>         
>>>>> image as:
>>>>>           
>>>>>> gdal_translate -of nitf in.tif out.ntf
>>>>>>             
>> -co
>>
>>     
>>>> ICORDS=G
>>>>         
>>>>> Input file size is 561, 420
>>>>>           
>>> 0...10...20...30...40...50...60...70...80...90...100
>>>       
>>>> -
>>>>         
>>>>> done.
>>>>>           
>
>   
>>>>> I can display both in.tif and out.ntf with
>>>>>           
>>> OpenEV. So
>>>       
>>>> both
>>>>         
>>>>> in.tif and out.ntf were ok to OpenEV.
>>>>>           
>>>>> With a simple Google Earth kml
>>>>>           
>> file(specifying
>>
>>     
>>> the
>>>       
>>>>> LanLonBox)(printed below) I could import
>>>>>           
>> the
>>
>>     
>>> in.tif
>>>       
>>>> to
>>>>         
>>>>> Google Earth viewer to the right
>>>>>           
>> geo-location.
>>
>>     
>>> So
>>>       
>>>> in.tif was
>>>>         
>>>>> ok to GE.
>>>>>           
>>>>> However, after replacing the image file
>>>>>           
>> name
>>
>>     
>>> from
>>>       
>>>> in.tif to
>>>>         
>>>>> out.ntf in the same kml file (printed below)
>>>>>           
>> I
>>
>>     
>>> could
>>>       
>>>> not
>>>>         
>>>>> import the out.ntf to Google Earth viewer
>>>>>           
>> (shown
>>
>>     
>>> as a
>>>       
>>>> big
>>>>         
>>>>> red cross in a big red rectangle at the
>>>>>           
>>> geo-location
>>>       
>>>> in the
>>>>         
>>>>> GE viewer). So out.ntf was not ok to GE.
>>>>>           
>> Any
>>
>>     
>>> ideal
>>>       
>>>> about
>>>>         
>>>>> what might cause the problem? Was the use
>>>>>           
>> of
>>
>>     
>>>> gdal_translate
>>>>         
>>>>> wrong or missing some options? I tried not
>>>>>           
>> to use
>>
>>     
>>> -co
>>>       
>>>>> ICRODS=G but I got the same problem. Thank
>>>>>           
>> you.
>>
>>     
>>>>> printed kml for in.tif:
>>>>>           
>>>>> <?xml version="1.0"
>>>>>           
>>>>> encoding="UTF-8"?>
>>>>>           
>>>>> <kml xmlns="http://www.opengis.net/kml/2.2"
>>>>>           
>>>>> xmlns:gx="http://www.google.com/kml/ext/2.2"
>>>>>           
>>>>> xmlns:kml="http://www.opengis.net/kml/2.2"
>>>>>           
>>>>> xmlns:atom="http://www.w3.org/2005/Atom">
>>>>>           
>>>>> <GroundOverlay>
>>>>>           
>>>>>   <description>
>>>>>           
>>>>> *** Meta-Data ***
>>>>>           
>>>>>     Lat = 42.808863
>>>>>           
>>>>>   </description>
>>>>>           
>>>>>     <name>in.tif</name>
>>>>>           
>>>>>     <Icon>
>>>>>           
>>>>>        <href>in.tif</href>
>>>>>           
>>>>>       
>>>>>           
>>> <viewBoundScale>0.75</viewBoundScale>
>>>       
>>>>>     </Icon>
>>>>>           
>>>>>       <LatLonBox>
>>>>>           
>>>>>         
>>>>>           
>>>> <north>42.8093748999134</north>
>>>>         
>>>>>         
>>>>>           
>>>> <south>42.8082925732318</south>
>>>>         
>>>>>         
>>>>>           
>>>> <east>-70.887525562763</east>
>>>>         
>>>>>         
>>>>>           
>>>> <west>-70.8894939447889</west>
>>>>         
>>>>>         
>>>>>           
>>>> <rotation>-95.909027</rotation>
>>>>         
>>>>>       </LatLonBox>
>>>>>           
>>>>> </GroundOverlay>
>>>>>           
>>>>> </kml>
>>>>>           
>>>>> printed kml for out.ntf: same as in.tif
>>>>>           
>>>>> except:
>>>>>           
>>>>>     <name>out.ntf</name>
>>>>>           
>>>>>     <Icon>
>>>>>           
>>>>>        <href>out.ntf</href>
>>>>>           
>>>>>       
>>>>>           
>>> <viewBoundScale>0.75</viewBoundScale>
>>>       
>>>>>     </Icon>
>>>>>           
>>>>> Best Regards,
>>>>>           
>>>>> Mo Wang
>>>>>           
>> _______________________________________________
>>
>>     
>>>>> gdal-dev mailing list
>>>>>           
>>>>> gdal-dev@lists.osgeo.org
>>>>>           
>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>           
>>
>>
>>
>>
>>
>>
>>
>>
>>     
>
>
>       
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   

From warmerdam at pobox.com  Fri Apr 10 10:36:43 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 10 10:36:50 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
Message-ID: <49DF597B.80803@pobox.com>

Reinaldo Escada Chohfi wrote:
> Hello all,
> 
> We place this piece of code to test how coordinate transformation works 
> with OGR.
> 
>         OGRSpatialReference oSourceSRS, oTargetSRS;
>         OGRCoordinateTransformation *poCT;
>         double  x1, y1;
> 
>         oSourceSRS="EPSG:4326";
>         oTargetSRS="EPSG:4989";
> 
>         poCT = OGRCreateCoordinateTransformation( &oSourceSRS, 
> &oTargetSRS );
>         x1 = -45.859485925833;
>         y1 = -23.2101365278;
> 
>         printf("%lf %lf \n",x1,y1);
>        
>         if( poCT == NULL || !poCT->Transform( 1, &x1, &y1 ) )
>             printf( "Transformation failed.\n" );
>         else
>             printf( "(-45.859485925833,-23.2101365278) -> (%f,%f)\n",
>                      x1, y1 );
> 
> The program compiles fine, but it gives the following runtime error:
> 
> ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
> OGRCoordinateTransformation failed.
> 
> Isn't PROj.4 (proj.lib) built in OGR?

Reinaldo,

In the default configuration PROJ.4 is loaded at runtime rather than
being linked against at build time.  This was a slightly peculiar and
unusual decision on my part many years ago.  Do you have PROJ.dll available
in your PATH?  If not, you will need to add it for reprojection support.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rec at geodesign.com.br  Fri Apr 10 10:48:13 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Fri Apr 10 10:46:04 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <7B86C0D8-D245-4E72-907E-011F8312B529@gmail.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
	<7B86C0D8-D245-4E72-907E-011F8312B529@gmail.com>
Message-ID: <20090410144600.53C4518A80D8@smtp.cluster002.whservidor.com>

Hello,

The code compiles because it is part of a bigger program.  This is 
just the portion on Coordinate Transformation.

Any additional comment is welcomed.

I did not compile GDAL. I am using gdalwin32exe141 & gdalwin32dev141 
pre-built GDAL.

Thanks for your help.

Reinaldo

At 01:25 AM 4/10/2009, Howard Butler wrote:

>On Apr 9, 2009, at 9:38 PM, Reinaldo Escada Chohfi wrote:
>
>>Hello all,
>>
>>We place this piece of code to test how coordinate transformation
>>works with OGR.
>>
>>        OGRSpatialReference oSourceSRS, oTargetSRS;
>>        OGRCoordinateTransformation *poCT;
>>        double  x1, y1;
>>
>>        oSourceSRS="EPSG:4326";
>>        oTargetSRS="EPSG:4989";
>
>I don't see how this could compile.  You need to instantiate
>oSourceSRS and oTargetSRS with OSRNewSpatialReference, and then use a
>call like OSRImportFromEPSG or OSRSetFromUserInput on the objects to
>get valid SpatialReferences.
>
>>
>>The program compiles fine, but it gives the following runtime error:
>>
>>ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
>>OGRCoordinateTransformation failed.
>>
>>Isn't PROj.4 (proj.lib) built in OGR?
>
>No, it is loaded at runtime unless you use have PROJ_FLAGS = - 
>DPROJ_STATIC in your nmake.opt when you compile.  Otherwise, you must
>ensure that GDAL_DATA and/or PROJ_LIB environment variables are set,
>and the necessary data can be found in those locations *and* the
>proj.dll that was linked with GDAL at compile time is able to be found
>at runtime.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/939d9e53/attachment.html
From warmerdam at pobox.com  Fri Apr 10 10:59:59 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 10 11:00:04 2009
Subject: [Gdal-dev] 1-band TIFF FILE color ramp NEEDED
In-Reply-To: <1239319497735-2613963.post@n2.nabble.com>
References: <1239319497735-2613963.post@n2.nabble.com>
Message-ID: <49DF5EEF.2090609@pobox.com>

alvarez00 wrote:
> I'm trying to make a color ramp for a 1-band tiff file or a jpeg. I have a
> 1-band tiff file and I converted that tiff file into VRT. I was reading some
> of the posts and some suggest to modify the VRT file and add a ColorTable
> tag but that doesn't work. My objective is to show the tiff(or)jpeg on
> google earth. I'm running version 1.4.1.0 of gdal. Below is the VRT file
> without any modifications. What I modify was the
> '<ColorInterp>Gray</ColorInterp>' to '<ColorInterp>Palette</ColorInterp>'
> and added a ColorTable.

Hi,

After modifying the VRT file to include a color table (why didn't you
show us that VRT file!) what did you do?  Did you try to open the VRT
in GE?  Did you gdal_translate that VRT back to a new geotiff and try to
view that?    Can you expand on "but that doesn't work"?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mateusz at loskot.net  Fri Apr 10 11:10:04 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Apr 10 11:10:18 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <20090410144600.53C4518A80D8@smtp.cluster002.whservidor.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>	<7B86C0D8-D245-4E72-907E-011F8312B529@gmail.com>
	<20090410144600.53C4518A80D8@smtp.cluster002.whservidor.com>
Message-ID: <49DF614C.6020109@loskot.net>

Reinaldo Escada Chohfi wrote:
> Hello,
> 
> The code compiles because it is part of a bigger program.  This is
> just the portion on Coordinate Transformation.

It doesn't matter actually how big is the program.
Howard is referring to this particular assignment:

OGRSpatialReference oSourceSRS, oTargetSRS;
oSourceSRS="EPSG:4326";
oTargetSRS="EPSG:4989";


It is invalid C++ code and it would be surprising if this code even
compiles, no matter what compiler you use.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From mitchelljj98 at gmail.com  Fri Apr 10 11:11:30 2009
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Fri Apr 10 11:11:32 2009
Subject: [gdal-dev] gdal_translate to get rid of 3th band:
Message-ID: <fa2ac0580904100811m437ea3a0s1e62b4ca2f7649b2@mail.gmail.com>

Hi,
When running gdal_translate to get rid of the 3th band of a 3 band RGB
geotiff image:

gdal_translate -b 1 -b 2 sourcefilename outputfilename

It got rid of the 3rd band but it made the first band gray and the second
band undefined which caused the new geotiff to be gray.

How can I keep the color of the first 2 bands when getting rid of the 3rd
band

Thanks,

John Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/16689959/attachment.html
From warmerdam at pobox.com  Fri Apr 10 11:41:38 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 10 11:41:51 2009
Subject: [gdal-dev] gdal_translate to get rid of 3th band:
In-Reply-To: <fa2ac0580904100811m437ea3a0s1e62b4ca2f7649b2@mail.gmail.com>
References: <fa2ac0580904100811m437ea3a0s1e62b4ca2f7649b2@mail.gmail.com>
Message-ID: <49DF68B2.3040101@pobox.com>

John Mitchell wrote:
> Hi,
> 
> When running gdal_translate to get rid of the 3th band of a 3 band RGB 
> geotiff image:
> 
> gdal_translate -b 1 -b 2 sourcefilename outputfilename
> 
> It got rid of the 3rd band but it made the first band gray and the 
> second band undefined which caused the new geotiff to be gray.
> 
> How can I keep the color of the first 2 bands when getting rid of the 
> 3rd band

John,

TIFF does not have a concept of per-band color interpretation so you
essentially need to pick RGB for a 3 band file or grayscale for a 1-2
band file.

There just isn't a proper way of expressing what you want in TIFF format.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mohwawang at yahoo.com  Fri Apr 10 11:49:55 2009
From: mohwawang at yahoo.com (mohwawang)
Date: Fri Apr 10 11:49:57 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
Message-ID: <456275.87076.qm@web32603.mail.mud.yahoo.com>


Vincent,

I tried gdalwarp as:
>gdalwarp in.tif out.tif
ERROR 1: Unable to compute a transformation between pixel/line and georeferenced coordinate for in.tif.
There is no affine transformation and no GCPs.

I guess gdalwarp needs GCPs in in.tif that does not have GCPs in it.

I also tried gdal_translate again and this time I used -a_ullr as:
>gdal_translate -of GTiff in.tif out.gtf -a_srs EPSG:4326 -a_ullr -70.887525562763 42.8093748999134 -70.8894939447889 42.8082925732318

Then gdalinfo showed correct corner coordinates. But GE still could not import the out.gtf.

Mo

>gdalinfo out.gtf
Driver: GTiff/GeoTIFF
Files: out.gtf
Size is 561, 420
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235630016,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-70.887525562763003,42.809374899913401)
Pixel Size = (-0.000003508702363,-0.000002576968290)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_XRESOLUTION=300
  TIFFTAG_YRESOLUTION=300
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( -70.8875256,  42.8093749) 
Lower Left  ( -70.8875256,  42.8082926) 
Upper Right ( -70.8894939,  42.8093749) 
Lower Right ( -70.8894939,  42.8082926) 
Center      ( -70.8885098,  42.8088337) 
Band 1 Block=561x4 Type=Byte, ColorInterp=Red
Band 2 Block=561x4 Type=Byte, ColorInterp=Green
Band 3 Block=561x4 Type=Byte, ColorInterp=Blue

--- On Fri, 4/10/09, Vincent Schut <schut@sarvision.nl> wrote:

> From: Vincent Schut <schut@sarvision.nl>
> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image converted from a tif image by gdal_translate
> To: 
> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
> Date: Friday, April 10, 2009, 3:15 AM
> mohwawang wrote:
> > Hi Roger,
> > 
> > gdalinfo gave me only info about coordinates of GCPs
> but I doubt that are much useful to GE. Any other way (other
> than using GCP in gdal_translate) to embed the coordinates
> info to the GeoTIFF file?
> >???
> Mo,
> 
> I doubt GE will read and use your gcp's. And as there is
> not georeferencing (as: standard geotiff georeferencing) in
> your tiff, GE will fail to place your image.
> I'd try to run your tiff through gdalwarp instead of
> gdal_translate. Good chance that gdalwarp will convert your
> unprojected image with gcp's into a real projected geotiff.
> Just try: 'gdalwarp <inimage.tif>
> <outimage.tif>' and then check your outimage with
> gdal_info. It should now give you proper lat/lon values for
> the corner coordinates, instead of pixel indices.
> 
> Vincent.
> > Thanks.
> > 
> > Mo
> > 
> > Driver: GTiff/GeoTIFF
> > Files: gdal_translate_tif_to_gtiff.gtf
> > Size is 561, 420
> > Coordinate System is `'
> > GCP Projection = GEOGCS["WGS
> 84",DATUM["WGS_1984",SPHEROID["WGS
> 84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]]
> > GCP[? 0]: Id=1, Info=
> >? ? ? ? ???(0,0)
> -> (-70.887525562763,42.8093748999134,0)
> > GCP[? 1]: Id=2, Info=
> >? ? ? ? ???(560,0)
> -> (-70.887525562763,42.8082925732318,0)
> > GCP[? 2]: Id=3, Info=
> >? ? ? ? ???(560,419)
> -> (-70.8894939447889,42.8082925732318,0)
> > GCP[? 3]: Id=4, Info=
> >? ? ? ? ???(0,419)
> -> (-70.8894939447889,42.8093748999134,0)
> > Metadata:
> >???AREA_OR_POINT=Area
> >???TIFFTAG_XRESOLUTION=300
> >???TIFFTAG_YRESOLUTION=300
> >???TIFFTAG_RESOLUTIONUNIT=2
> (pixels/inch)
> > Image Structure Metadata:
> >???INTERLEAVE=PIXEL
> > Corner Coordinates:
> > Upper Left? (? ? 0.0,? ?
> 0.0)
> > Lower Left? (? ? 0.0,? 420.0)
> > Upper Right (? 561.0,? ? 0.0)
> > Lower Right (? 561.0,? 420.0)
> > Center? ? ? (? 280.5,?
> 210.0)
> > Band 1 Block=561x4 Type=Byte, ColorInterp=Red
> > Band 2 Block=561x4 Type=Byte, ColorInterp=Green
> > Band 3 Block=561x4 Type=Byte, ColorInterp=Blue
> > 
> > ------
> > 
> > 
> > --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
> wrote:
> > 
> >???
> >> From: Roger Andr? <randre@gmail.com>
> >> Subject: Re: [gdal-dev] Problem in importing to
> Google Earth a nitf image? converted from a tif image
> by gdal_translate
> >> To: "mohwawang" <mohwawang@yahoo.com>
> >> Cc: "gdal-dev@lists.osgeo.org"
> <gdal-dev@lists.osgeo.org>
> >> Date: Thursday, April 9, 2009, 4:30 PM
> >> Hi Mo,
> >> 
> >> What is the gdalinfo output for the GeoTIFF that
> you
> >> created?? If you didn't get an error when you
> tried to
> >> load it in GE, perhaps the georeferencing in the
> image
> >> doesn't quite match what you specified in your
> KML.
> >> 
> >> 
> >> Roger
> >> --
> >> 
> >> On Thu, Apr 9, 2009 at 1:21 PM,
> >> mohwawang <mohwawang@yahoo.com>
> >> wrote:
> >> 
> >> 
> >> 
> >> Hi Roger,
> >> 
> >> 
> >> 
> >> My goal is to be able to directly import NITF
> image to GE
> >> without using KML. You can see the advantage of
> this
> >> application - if it works. I'm glad that you have
> viewed
> >> in GE georeferenced imagery created or altered by
> gdal.
> >> Maybe you can point out what I did wrong.
> >> 
> >> 
> >> 
> >> 
> >> It is good that you asked about GeoTIFF. So I
> used
> >> gdal_translate to convert the tif image to a
> GeoTIFF image.
> >> I tried to drag and drop the GeoTIFF image to GE
> but nothing
> >> happened. I did not see the GeoTIFF image in GE
> and I did
> >> not get any error message either.
> >> 
> >> 
> >> 
> >> 
> >> I can open the GeoTIFF image with OpenEV and I can
> read the
> >> lan/lon coordinates and they are correct. One
> thing is that
> >> it seems that OpenEV does not set North to Up.
> Its
> >> orientation aligns with the file coordinates -
> (0,0) is at
> >> the upper left corner. I then opened tif file in
> the same
> >> OpenEV and they match to each other.
> >> 
> >> 
> >> 
> >> 
> >> Again, I can import the tif image with its kml to
> GE but I
> >> can not import the GeoTIFF to GE (without using
> kml), it
> >> seems that nothing happened. I can import the
> GeoTIFF to GE
> >> with kml - though that is not what I want. But the
> GeoTIFF
> >> is better than the NITF that could not be imported
> to GE
> >> even with the same kml.
> >> 
> >> 
> >> 
> >> 
> >> What's wrong with GeoTIFF? I mean why I could not
> >> import it to GE? I listed the gdal_translate
> command line
> >> here:
> >> 
> >> 
> >> 
> >>? ???
> >>> gdal_translate -of GTiff tiff.tif gtiff.gtf
> -a_srs
> >>>? ? ???
> >> EPSG:4326 -gcp 0 0 -70.887525562763
> 42.8093748999134 -gcp
> >> 560 0 -70.887525562763 42.8082925732318 -gcp 560
> 419
> >> -70.8894939447889 42.8082925732318 -gcp 0 419
> >> -70.8894939447889 42.8093748999134
> >> 
> >> 
> >> 
> >> 
> >> I don't have a .ntif file that was not created by
> gdal
> >> to test GE via the "Import Image Tool".
> >> 
> >> 
> >> 
> >> Thanks.
> >> 
> >> 
> >> 
> >> Mo
> >> 
> >> 
> >> 
> >> 
> >> 
> >> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
> >> wrote:
> >> 
> >> 
> >> 
> >>? ???
> >>> From: Roger Andr? <randre@gmail.com>
> >>>? ? ???Subject: Re:
> [gdal-dev] Problem in importing to Google
> >>>? ? ???
> >> Earth a nitf image? converted from a tif
> image by
> >> gdal_translate
> >> 
> >>? ???
> >>> To: "mohwawang" <mohwawang@yahoo.com>
> >>>? ? ???Cc: "gdal-dev@lists.osgeo.org"
> >>>? ? ???
> >> <gdal-dev@lists.osgeo.org>
> >> 
> >>? ???
> >>> Date: Thursday, April 9, 2009, 12:47 PM
> >>>? ? ???Hi Mo,
> >>>? ? ???Thanks for that
> pointer on the differences between GE
> >>>? ? ???Layers and
> Places.? I'll be sure to take a close
> >>>? ? ???
> >> look
> >> 
> >>? ???
> >>> at those links.? I've had occasion in the
> past to
> >>>? ? ???
> >> view
> >> 
> >>? ???
> >>> georeferenced imagery in Google Earth, much of
> it
> >>>? ? ???
> >> created or
> >> 
> >>? ???
> >>> altered by gdal in some way, so this topic
> interests
> >>>? ? ???
> >> me.
> >> 
> >>? ???
> >>> I'm curious, is your goal to view the NITF
> format
> >>>? ? ???specifically
> and to have GE read the internal
> >>>? ? ???
> >> georeferencing
> >> 
> >>? ???
> >>> info, or is it just to view the image in
> GE?? It
> >>>? ? ???
> >> sounds
> >> 
> >>? ???
> >>> like you have already accomplished the latter
> using a
> >>>? ? ???
> >> KML
> >> 
> >>? ???
> >>> Ground Overlay and a tif, a method which has
> also
> >>>? ? ???
> >> worked
> >> 
> >>? ???
> >>> reliably for me in the past as well. I've
> also
> >>>? ? ???
> >> had
> >> 
> >>? ???
> >>> success with PNG and JPEG format files.?
> ? ???Since in your .nitf test the
> georeferencing was
> >>>? ? ???
> >> supplied by
> >> 
> >>? ???
> >>> the KML file, the red "X" you are getting
> >>>? ? ???
> >> implies
> >> 
> >>? ???
> >>> to me that the image format isn't being
> correctly
> >>>? ? ???interpreted by
> GE for some reason.? The fact that
> >>>? ? ???
> >> Envi
> >> 
> >>? ???
> >>> chokes on it as well does seem to point to
> gdal as a
> >>>? ? ???possible
> culprit, although the NITF format is not one
> >>>? ? ???
> >> that I
> >> 
> >>? ???
> >>> have seen very much.? Have you tried
> importing the
> >>>? ? ???
> >> GeoTIFF
> >> 
> >>? ???
> >>> version of your file directly into GE Pro as
> well?? ? ???
> >> Also,
> >> 
> >>? ???
> >>> do you have a .nitf file that was not created
> by gdal,
> >>>? ? ???
> >> and
> >> 
> >>? ???
> >>> which you could use to test GE via the "Add
> >>>? ? ???
> >> Image
> >> 
> >>? ???
> >>> Overlay" tool?
> >>>? ? ???Roger
> >>>? ? ???--
> >>>? ? ???On Thu, Apr 9,
> 2009 at 8:37 AM,
> >>>? ? ???mohwawang
> <mohwawang@yahoo.com>
> >>>? ? ???wrote:
> >>>? ? ???Roger,
> >>>? ? ???I'm using
> Google Earth Pro 5.0. Thank you for the
> >>>? ? ???suggestions.
> >>>? ? ???Google Earth
> Pro 4.0 also supports importing NITF:
> >>>? ? ???http://earth.google.com/userguide/v4/ug_importdata.html
> >>>? ? ???that is for
> importing your data (including vector data
> >>>? ? ???
> >> and
> >> 
> >>? ???
> >>> imagery data) to the Places of Google Earth
> while http://earth.google.com/userguide/v4/ug_imageoverlays.html
> >>>? ? ???is for "Using
> Image Overlays and 3D
> >>>? ? ???
> >> Models".
> >> 
> >>? ???
> >>> See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places
> >>>? ? ???for the
> difference between Layers and Places in GE.
> >>>? ? ???This is the
> first time I'm importing
> >>>? ? ???
> >> geo-referenced
> >> 
> >>? ???
> >>> images to Google Earth Pro and so far I don't
> have
> >>>? ? ???
> >> much
> >> 
> >>? ???
> >>> luck. As I said that I could not use GE to
> import the
> >>>? ? ???
> >> NITF
> >> 
> >>? ???
> >>> images converted from gdal_translate (with
> EPSG:4326
> >>>? ? ???
> >> that is
> >> 
> >>? ???
> >>> the same projection, Simple Cylindrical
> projection, or
> >>>? ? ???
> >> known
> >> 
> >>? ???
> >>> as Lat/Lon WGS84 that GE uses). So I tried to
> narrow
> >>>? ? ???
> >> down
> >> 
> >>? ???
> >>> the problem. This time I imported to GE an
> native
> >>>? ? ???
> >> Erdas
> >> 
> >>? ???
> >>> IMAGINE image (.img) (with UTM projection that
> GE
> >>>? ? ???
> >> supports
> >> 
> >>? ???
> >>> too) but still failed. The later test case has
> nothing
> >>>? ? ???
> >> to do
> >> 
> >>? ???
> >>> with gdal and is purely a question for GE.
> That .img
> >>>? ? ???
> >> image
> >> 
> >>? ???
> >>> can be opened by both IMAGINE and OpenEV.
> >>>? ? ???The NITF image
> (converted by gdal_translate) not just
> >>>? ? ???
> >> could
> >> 
> >>? ???
> >>> not be opened by GE it could not be opened by
> ENVI
> >>>? ? ???
> >> 4.1
> >> 
> >>? ???
> >>> either. It can be opened by OpenEV (tightly
> related to
> >>>? ? ???
> >> gdal)
> >> 
> >>? ???
> >>> though. So it could be a problem in either
> >>>? ? ???
> >> gdal_translate or
> >> 
> >>? ???
> >>> ENVI (I doubt though) or both.
> >>>? ? ???Thanks.
> >>>? ? ???Mo
> >>>? ? ???--- On Thu,
> 4/9/09, Roger Andr? <randre@gmail.com>
> >>>? ? ???wrote:
> >>>? ? ???
> >>>> From: Roger Andr? <randre@gmail.com>
> >>>>? ? ?
> ???Subject: Re: [gdal-dev] Problem in
> importing to
> >>>>? ? ? ???
> >> Google
> >> 
> >>? ???
> >>> Earth a nitf image? converted from a tif
> image by
> >>>? ? ???gdal_translate
> >>>? ? ???
> >>>> To: "mohwawang" <mohwawang@yahoo.com>
> >>>>? ? ? ???Cc:
> "gdal-dev@lists.osgeo.org"
> >>>>? ? ? ???
> >>> <gdal-dev@lists.osgeo.org>
> >>>? ? ???
> >>>> Date: Thursday, April 9, 2009, 12:44 AM
> >>>>? ? ?
> ???Granted, I haven't
> >>>>? ? ? ???
> >>> tried V 5 yet,
> >>>? ? ???
> >>>> but your quote also states, "Google Earth
> >>>>? ? ? ???
> >> Pro or
> >> 
> >>? ???
> >>>> EC".? Are you using one of those
> versions
> >>>>? ? ? ???
> >> of
> >> 
> >>? ???
> >>> the
> >>>? ? ???
> >>>> client?? In any case, if the file
> opens in
> >>>>? ? ? ???
> >> OpenEV,
> >> 
> >>? ???
> >>> chances
> >>>? ? ???
> >>>> are good that the .ntf generated by gdal
> is ok,
> >>>>? ? ? ???
> >> and
> >> 
> >>? ???
> >>> that
> >>>? ? ???
> >>>> there is some sort of problem with how
> Google
> >>>>? ? ? ???
> >> Earth
> >> 
> >>? ???
> >>> is
> >>>? ? ???
> >>>> reading it.? Have you tried emailing
> the KML
> >>>>? ? ? ???
> >> support
> >> 
> >>? ???
> >>> list
> >>>? ? ???
> >>>> as well?
> >>>>? ? ? ???--
> >>>>? ? ? ???On
> Wed, Apr 8, 2009 at 8:51 PM,
> >>>>? ? ?
> ???mohwawang <mohwawang@yahoo.com>
> >>>>? ? ?
> ???wrote:
> >>>>? ? ?
> ???Google Earth 5.0 supports NITF see
> >>>>? ? ? ???http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
> >>>>? ? ?
> ???[Importing Imagery
> >>>>? ? ? ???You
> can open GIS imagery files in Google Earth
> >>>>? ? ? ???
> >> Pro or
> >> 
> >>? ???
> >>> EC
> >>>? ? ???
> >>>> and have the files correctly projected
> over the
> >>>>? ? ? ???
> >> proper
> >> 
> >>? ???
> >>> map
> >>>? ? ???
> >>>> coordinates in the 3D viewer. Google Earth
> Pro
> >>>>? ? ? ???
> >> and EC
> >> 
> >>? ???
> >>>> support the following types of GIS
> imagery:
> >>>>? ? ? ? ?
> ???* TIFF (.tif), including GeoTiff and
> >>>>? ? ? ???
> >> compressed
> >> 
> >>? ???
> >>> TIFF
> >>>? ? ???
> >>>> files
> >>>>? ? ? ? ?
> ???* National Imagery Transmission Format
> >>>>? ? ? ???
> >> (.ntf)
> >> 
> >>? ???
> >>>>? ???* Erdas Imagine
> Images (.img)
> >>>>? ? ? ???In
> addition, you can also import the following
> >>>>? ? ? ???
> >>> images.
> >>>? ? ???
> >>>> Because they do not contain projection
> >>>>? ? ? ???
> >> information,
> >> 
> >>? ???
> >>> you must
> >>>? ? ???
> >>>> manually edit their coordinates for
> correct
> >>>>? ? ? ???
> >>> positioning:
> >>>? ? ???
> >>>>? ???* Atlantis MFF
> Raster (.hdr)
> >>>>? ? ? ? ?
> ???* PCIDSK Database File (.pix)
> >>>>? ? ? ? ?
> ???* Portable Pixmap Format (.pnm)
> >>>>? ? ? ? ?
> ???* Device Independent Bitmap (.bmp)
> >>>>? ? ? ???Note
> - All imagery files must contain the
> >>>>? ? ? ???
> >> correct
> >> 
> >>? ???
> >>>> projection information in order to be
> accurately
> >>>>? ? ?
> ???re-projected by the Google Earth
> software.]
> >>>>? ? ? ???Mo
> >>>>? ? ? ???---
> On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
> >>>>? ? ?
> ???wrote:
> >>>>? ? ? ???
> >>>>> From: Roger Andr? <randre@gmail.com>
> >>>>>? ? ? ?
> ???Subject: Re: [gdal-dev] Problem in
> importing
> >>>>>? ? ? ?
> ???
> >> to
> >> 
> >>? ???
> >>> Google
> >>>? ? ???
> >>>> Earth a nitf image? converted from a
> tif image
> >>>>? ? ? ???
> >> by
> >> 
> >>? ???
> >>>> gdal_translate
> >>>>? ? ? ???
> >>>>> To: "mohwawang" <mohwawang@yahoo.com>
> >>>>>? ? ? ?
> ???Cc: "gdal-dev@lists.osgeo.org"
> >>>>>? ? ? ?
> ???
> >>>> <gdal-dev@lists.osgeo.org>
> >>>>? ? ? ???
> >>>>> Date: Wednesday, April 8, 2009, 10:45
> PM
> >>>>>? ? ? ?
> ???See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
> >>>>>? ? ? ?
> ???I don't believe the "NITF (rw+):
> >>>>>? ? ? ?
> ???
> >>> National
> >>>? ? ???
> >>>> Imagery
> >>>>? ? ? ???
> >>>>> Transmission Format" is supported by
> >>>>>? ? ? ?
> ???
> >> Google
> >> 
> >>? ???
> >>>> Earth.
> >>>>? ? ? ???
> >>>>> Roger
> >>>>>? ? ? ?
> ???--
> >>>>>? ? ? ?
> ???On Wed, Apr 8, 2009 at 3:27 PM,
> >>>>>? ? ? ?
> ???mohwawang <mohwawang@yahoo.com>
> >>>>>? ? ? ?
> ???wrote:
> >>>>>? ? ? ?
> ???Hi all,
> >>>>>? ? ? ?
> ???I'm sorry that this is the third time I
> >>>>>? ? ? ?
> ???
> >> tried
> >> 
> >>? ???
> >>> to
> >>>? ? ???
> >>>> send
> >>>>? ? ? ???
> >>>>> this message out because I myself
> didn't
> >>>>>? ? ? ?
> ???
> >> get
> >> 
> >>? ???
> >>> the
> >>>? ? ???
> >>>> first
> >>>>? ? ? ???
> >>>>> two through gdal-dev@lists.osgeo.org
> >>>>>? ? ? ?
> ???so I thought others might not get it
> >>>>>? ? ? ?
> ???
> >> either.
> >> 
> >>? ???
> >>>>> I used gdal_translate to convert a tif
> image
> >>>>>? ? ? ?
> ???
> >> to
> >> 
> >>? ???
> >>> a
> >>>? ? ???
> >>>> nitf
> >>>>? ? ? ???
> >>>>> image as:
> >>>>>? ? ? ?
> ???
> >>>>>> gdal_translate -of nitf in.tif
> out.ntf
> >>>>>>? ? ? ? ?
> ???
> >> -co
> >> 
> >>? ???
> >>>> ICORDS=G
> >>>>? ? ? ???
> >>>>> Input file size is 561, 420
> >>>>>? ? ? ?
> ???
> >>>
> 0...10...20...30...40...50...60...70...80...90...100
> >>>? ? ???
> >>>> -
> >>>>? ? ? ???
> >>>>> done.
> >>>>>? ? ? ?
> ???
> > 
> >???
> >>>>> I can display both in.tif and out.ntf
> with
> >>>>>? ? ? ?
> ???
> >>> OpenEV. So
> >>>? ? ???
> >>>> both
> >>>>? ? ? ???
> >>>>> in.tif and out.ntf were ok to OpenEV.
> >>>>>? ? ? ?
> ???With a simple Google Earth kml
> >>>>>? ? ? ?
> ???
> >> file(specifying
> >> 
> >>? ???
> >>> the
> >>>? ? ???
> >>>>> LanLonBox)(printed below) I could
> import
> >>>>>? ? ? ?
> ???
> >> the
> >> 
> >>? ???
> >>> in.tif
> >>>? ? ???
> >>>> to
> >>>>? ? ? ???
> >>>>> Google Earth viewer to the right
> >>>>>? ? ? ?
> ???
> >> geo-location.
> >> 
> >>? ???
> >>> So
> >>>? ? ???
> >>>> in.tif was
> >>>>? ? ? ???
> >>>>> ok to GE.
> >>>>>? ? ? ?
> ???However, after replacing the image file
> >>>>>? ? ? ?
> ???
> >> name
> >> 
> >>? ???
> >>> from
> >>>? ? ???
> >>>> in.tif to
> >>>>? ? ? ???
> >>>>> out.ntf in the same kml file (printed
> below)
> >>>>>? ? ? ?
> ???
> >> I
> >> 
> >>? ???
> >>> could
> >>>? ? ???
> >>>> not
> >>>>? ? ? ???
> >>>>> import the out.ntf to Google Earth
> viewer
> >>>>>? ? ? ?
> ???
> >> (shown
> >> 
> >>? ???
> >>> as a
> >>>? ? ???
> >>>> big
> >>>>? ? ? ???
> >>>>> red cross in a big red rectangle at
> the
> >>>>>? ? ? ?
> ???
> >>> geo-location
> >>>? ? ???
> >>>> in the
> >>>>? ? ? ???
> >>>>> GE viewer). So out.ntf was not ok to
> GE.
> >>>>>? ? ? ?
> ???
> >> Any
> >> 
> >>? ???
> >>> ideal
> >>>? ? ???
> >>>> about
> >>>>? ? ? ???
> >>>>> what might cause the problem? Was the
> use
> >>>>>? ? ? ?
> ???
> >> of
> >> 
> >>? ???
> >>>> gdal_translate
> >>>>? ? ? ???
> >>>>> wrong or missing some options? I tried
> not
> >>>>>? ? ? ?
> ???
> >> to use
> >> 
> >>? ???
> >>> -co
> >>>? ? ???
> >>>>> ICRODS=G but I got the same problem.
> Thank
> >>>>>? ? ? ?
> ???
> >> you.
> >> 
> >>? ???
> >>>>> printed kml for in.tif:
> >>>>>? ? ? ?
> ???<?xml version="1.0"
> >>>>>? ? ? ?
> ???encoding="UTF-8"?>
> >>>>>? ? ? ?
> ???<kml xmlns="http://www.opengis.net/kml/2.2"
> >>>>>? ? ? ?
> ???xmlns:gx="http://www.google.com/kml/ext/2.2"
> >>>>>? ? ? ?
> ???xmlns:kml="http://www.opengis.net/kml/2.2"
> >>>>>? ? ? ?
> ???xmlns:atom="http://www.w3.org/2005/Atom">
> >>>>>? ? ? ?
> ???<GroundOverlay>
> >>>>>? ? ? ? ?
> ???<description>
> >>>>>? ? ? ?
> ???*** Meta-Data ***
> >>>>>? ? ? ? ?
> ? ???Lat = 42.808863
> >>>>>? ? ? ? ?
> ???</description>
> >>>>>? ? ? ? ?
> ? ???<name>in.tif</name>
> >>>>>? ? ? ? ?
> ? ???<Icon>
> >>>>>? ? ? ? ?
> ? ? ? ? <href>in.tif</href>
> >>>>>? ? ? ? ?
> ? ? ? ? ? ? ?
> ???
> >>>
> <viewBoundScale>0.75</viewBoundScale>
> >>>? ? ???
> >>>>>? ???</Icon>
> >>>>>? ? ? ? ?
> ? ? ???<LatLonBox>
> >>>>>? ? ? ? ?
> ? ? ? ? ? ? ? ?
> ???
> >>>>
> <north>42.8093748999134</north>
> >>>>? ? ? ???
> >>>>>? ? ? ? ?
> ? ? ? ???
> >>>>
> <south>42.8082925732318</south>
> >>>>? ? ? ???
> >>>>>? ? ? ? ?
> ? ? ? ???
> >>>> <east>-70.887525562763</east>
> >>>>? ? ? ???
> >>>>>? ? ? ? ?
> ? ? ? ???
> >>>>
> <west>-70.8894939447889</west>
> >>>>? ? ? ???
> >>>>>? ? ? ? ?
> ? ? ? ???
> >>>>
> <rotation>-95.909027</rotation>
> >>>>? ? ? ???
> >>>>>? ?
> ???</LatLonBox>
> >>>>>? ? ? ?
> ???</GroundOverlay>
> >>>>>? ? ? ?
> ???</kml>
> >>>>>? ? ? ?
> ???printed kml for out.ntf: same as in.tif
> >>>>>? ? ? ?
> ???except:
> >>>>>? ? ? ? ?
> ? ???<name>out.ntf</name>
> >>>>>? ? ? ? ?
> ? ???<Icon>
> >>>>>? ? ? ? ?
> ? ? ? ?
> <href>out.ntf</href>
> >>>>>? ? ? ? ?
> ? ? ? ? ? ? ?
> ???
> >>>
> <viewBoundScale>0.75</viewBoundScale>
> >>>? ? ???
> >>>>>? ???</Icon>
> >>>>>? ? ? ?
> ???Best Regards,
> >>>>>? ? ? ?
> ???Mo Wang
> >>>>>? ? ? ?
> ???
> >> _______________________________________________
> >> 
> >>? ???
> >>>>> gdal-dev mailing list
> >>>>>? ? ? ?
> ???gdal-dev@lists.osgeo.org
> >>>>>? ? ? ?
> ???http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>>>>? ? ? ?
> ???
> >> 
> >> 
> >> 
> >> 
> >> 
> >> 
> >> 
> >> 
> >>? ???
> > 
> > 
> >? ?
> ???_______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >???
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


      
From rec at geodesign.com.br  Fri Apr 10 12:34:28 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Fri Apr 10 12:32:18 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <49DF597B.80803@pobox.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
	<49DF597B.80803@pobox.com>
Message-ID: <20090410163214.A724D1338049@smtp.cluster002.whservidor.com>

Thanks Frank,

Yes, I do have the proj.dll is in my path.

Also, I am looking for the gdalwin32dev160.  Is it available, or we 
don't need it anymore, just the gdalwin32exe160?

I've been using gdalwin32exe141 & gdalwin32dev141.

Thanks,

Reinaldo


At 11:36 AM 4/10/2009, Frank Warmerdam wrote:
>Reinaldo Escada Chohfi wrote:
>>Hello all,
>>We place this piece of code to test how coordinate transformation 
>>works with OGR.
>>         OGRSpatialReference oSourceSRS, oTargetSRS;
>>         OGRCoordinateTransformation *poCT;
>>         double  x1, y1;
>>         oSourceSRS="EPSG:4326";
>>         oTargetSRS="EPSG:4989";
>>         poCT = OGRCreateCoordinateTransformation( &oSourceSRS, 
>> &oTargetSRS );
>>         x1 = -45.859485925833;
>>         y1 = -23.2101365278;
>>         printf("%lf %lf \n",x1,y1);
>>
>>         if( poCT == NULL || !poCT->Transform( 1, &x1, &y1 ) )
>>             printf( "Transformation failed.\n" );
>>         else
>>             printf( "(-45.859485925833,-23.2101365278) -> (%f,%f)\n",
>>                      x1, y1 );
>>The program compiles fine, but it gives the following runtime error:
>>ERROR 6: Unable to load PROJ.4 library (proj.dll), creation of
>>OGRCoordinateTransformation failed.
>>Isn't PROj.4 (proj.lib) built in OGR?
>
>Reinaldo,
>
>In the default configuration PROJ.4 is loaded at runtime rather than
>being linked against at build time.  This was a slightly peculiar and
>unusual decision on my part many years ago.  Do you have PROJ.dll available
>in your PATH?  If not, you will need to add it for reprojection support.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/508672b2/attachment.html
From agiannas at geo.auth.gr  Fri Apr 10 12:42:53 2009
From: agiannas at geo.auth.gr (APOSTOLOS)
Date: Fri Apr 10 12:42:55 2009
Subject: [Gdal-dev] GDAL SUPPORTS ONLY MSGN(NAT) AND NOT MSG (HRIT) FILES ?
Message-ID: <1239381773974-2617105.post@n2.nabble.com>




Dear list 


SINCE  last week i have been strugling installing MSG DRIVER. I managed to install MSG DRIVE but i can convert only native format and NOT HRIT!!!!

 I really wander if ANYONE has read MSG2 HRIT dataset?
Because THE FILE  http://www.gdal.org/frmt_msgn.html says that GDAL supports reading only of MSG native files. 

i HOPE SOMEONE HAS FACED THE SAME PROBLEM AND ANSWER MY QUESTIONS

THANKS
-- 
View this message in context: http://n2.nabble.com/GDAL-SUPPORTS-ONLY-MSGN%28NAT%29-AND-NOT-MSG-%28HRIT%29-FILES---tp2617105p2617105.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Fri Apr 10 12:48:45 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 10 12:48:48 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <20090410163214.A724D1338049@smtp.cluster002.whservidor.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
	<49DF597B.80803@pobox.com>
	<20090410163214.A724D1338049@smtp.cluster002.whservidor.com>
Message-ID: <49DF786D.4050303@pobox.com>

Reinaldo Escada Chohfi wrote:
> Thanks Frank,
> 
> Yes, I do have the proj.dll is in my path.
> 
> Also, I am looking for the gdalwin32dev160.  Is it available, or we 
> don't need it anymore, just the gdalwin32exe160?
> 
> I've been using gdalwin32exe141 & gdalwin32dev141.

Reinaldo,

It appears that a gdalwin32dev160.zip was not produced, but I don't know
why.  The dev kit is needed if you want to build applications against
GDAL.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rec at geodesign.com.br  Fri Apr 10 13:11:24 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Fri Apr 10 13:09:14 2009
Subject: [gdal-dev] Problem with OGRCreateCoordinateTransformation
In-Reply-To: <49DF786D.4050303@pobox.com>
References: <20090410023602.4444418A85E0@smtp.cluster002.whservidor.com>
	<49DF597B.80803@pobox.com>
	<20090410163214.A724D1338049@smtp.cluster002.whservidor.com>
	<49DF786D.4050303@pobox.com>
Message-ID: <20090410170911.2594718A8095@smtp.cluster002.whservidor.com>

Frank,

Could you please build the gdalwin32dev160.zip and make it available, 
or is someone else that does that?

Thanks,

Reinaldo

At 01:48 PM 4/10/2009, Frank Warmerdam wrote:
>Reinaldo Escada Chohfi wrote:
>>Thanks Frank,
>>Yes, I do have the proj.dll is in my path.
>>Also, I am looking for the gdalwin32dev160.  Is it available, or we 
>>don't need it anymore, just the gdalwin32exe160?
>>I've been using gdalwin32exe141 & gdalwin32dev141.
>
>Reinaldo,
>
>It appears that a gdalwin32dev160.zip was not produced, but I don't know
>why.  The dev kit is needed if you want to build applications against
>GDAL.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/07c062db/attachment.html
From mateusz at loskot.net  Fri Apr 10 14:15:02 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri Apr 10 14:15:14 2009
Subject: [Gdal-dev] GDAL SUPPORTS ONLY MSGN(NAT) AND NOT MSG (HRIT) FILES ?
In-Reply-To: <1239381773974-2617105.post@n2.nabble.com>
References: <1239381773974-2617105.post@n2.nabble.com>
Message-ID: <49DF8CA6.8040706@loskot.net>

APOSTOLOS wrote:
> Dear list
> 
> SINCE  last week i have been strugling installing MSG DRIVER. I
> managed to install MSG DRIVE but i can convert only native format and
> NOT HRIT!!!!

> I really wander if ANYONE has read MSG2 HRIT dataset? Because THE
> FILE  http://www.gdal.org/frmt_msgn.html says that GDAL supports
> reading only of MSG native files.

Have you tried this?

http://www.gdal.org/frmt_msg.html


> i HOPE SOMEONE HAS FACED THE SAME PROBLEM AND ANSWER MY QUESTIONS

There is no need to shout [1] in the subject or anywhere.
We can hear you very well :-)

[1] http://www.hoax-slayer.com/do-not-use-all-capitals.html

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From randre at gmail.com  Fri Apr 10 16:56:28 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Fri Apr 10 16:56:31 2009
Subject: [Gdal-dev] 1-band TIFF FILE color ramp NEEDED
In-Reply-To: <1239319497735-2613963.post@n2.nabble.com>
References: <1239319497735-2613963.post@n2.nabble.com>
Message-ID: <9c2015090904101356u614e3a24t178759e0ab01998c@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: discreet_gray2color.py
Type: text/x-python
Size: 2227 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/6d5de684/discreet_gray2color-0001.py
From woodbri at swoodbridge.com  Fri Apr 10 19:29:39 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Fri Apr 10 18:29:45 2009
Subject: [gdal-dev] Problem projection world shapefile from EPSG:4326 to
	EPSG:900913
Message-ID: <49DFD663.3030903@swoodbridge.com>

Hi all,

I have a world shapefile and when I project it from EPSG:4326 to 
EPSG:900913 I get strange lines wrapping around east-west wise.

ogr2ogr -t_srs EPSG:900913 -s_srs EPSG:4326 . ../world/world-fixed.shp

I have attached the image.

Unprojected extents:

$ shpdump world-fixed.shp | head -4
Shapefile Type: Polygon   # of Shapes: 270

File Bounds: (    -180.000,     -59.487,0,0)
          to  (     180.000,      83.633,0,0)

Projected extents:

$ shpdump world-fixed.shp | head -4
Shapefile Type: Polygon   # of Shapes: 270

File Bounds: (-20037465.485,-8286424.371,0,0)
          to  (20037506.673,18428201.547,0,0)

Any thoughts on this?
How can I fix it?

Thanks,
   -Steve
-------------- next part --------------
A non-text attachment was scrubbed...
Name: world.png
Type: image/png
Size: 18889 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/5f34dad4/world.png
From rec at geodesign.com.br  Fri Apr 10 20:06:18 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Fri Apr 10 20:04:08 2009
Subject: [gdal-dev] Link to Download gdalwin32dev160
Message-ID: <20090411000404.EF9C61338093@smtp.cluster002.whservidor.com>

Folks,

Does anyone know the link to download gdalwin32dev160.zip?

Thanks in advance.

Reinaldo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090410/4993a564/attachment-0001.html
From mateusz at loskot.net  Sat Apr 11 06:43:07 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Apr 11 06:43:20 2009
Subject: [gdal-dev] Link to Download gdalwin32dev160
In-Reply-To: <20090411000404.EF9C61338093@smtp.cluster002.whservidor.com>
References: <20090411000404.EF9C61338093@smtp.cluster002.whservidor.com>
Message-ID: <49E0743B.5080906@loskot.net>

Reinaldo Escada Chohfi wrote:
> Folks,
> 
> Does anyone know the link to download gdalwin32dev160.zip?

Has Frank confirmed that he made the build?

http://lists.osgeo.org/pipermail/gdal-dev/2009-April/020377.html

It looks like not, so you need to wait:

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
Charter Member of OSGeo, http://osgeo.org
From szekerest at gmail.com  Sat Apr 11 17:36:50 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Apr 11 17:36:52 2009
Subject: [gdal-dev] Link to Download gdalwin32dev160
In-Reply-To: <20090411000404.EF9C61338093@smtp.cluster002.whservidor.com>
References: <20090411000404.EF9C61338093@smtp.cluster002.whservidor.com>
Message-ID: <f3b73b7d0904111436y3fe39c20ue32cb4cc6335bc59@mail.gmail.com>

You could also try with the dev or binary packages available to download
from here:

 http://vbkto.dyndns.org:1280/sdk/index.html

Best regards,

Tamas


2009/4/11 Reinaldo Escada Chohfi <rec@geodesign.com.br>

>  Folks,
>
> Does anyone know the link to download gdalwin32dev160.zip?
>
> Thanks in advance.
>
> Reinaldo
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090411/d7f3deb8/attachment.html
From oalvarez00 at gmail.com  Sat Apr 11 20:05:12 2009
From: oalvarez00 at gmail.com (alvarez00)
Date: Sat Apr 11 20:05:14 2009
Subject: [Gdal-dev] 1-band TIFF FILE color ramp NEEDED
In-Reply-To: <9c2015090904101356u614e3a24t178759e0ab01998c@mail.gmail.com>
References: <1239319497735-2613963.post@n2.nabble.com>
	<9c2015090904101356u614e3a24t178759e0ab01998c@mail.gmail.com>
Message-ID: <1239494712852-2622398.post@n2.nabble.com>


Hi Roger,

I'm trying to run the python code you suggested but I keep getting this error :
Traceback (most recent call last):
  File "discreet_gray2color.py", line 14, in <module>
    gdal.TermProgress = gdal.TermProgress_nocb
AttributeError: 'module' object has no attribute 'TermProgress_nocb' "

I don't know if it's the version of gdal I'm using or something else. (i'm using gdal 1.4.1.0)

thanks,




Here's another way you can do it, a Python script that will create discreet
color classes from a grayscale image.  It uses a function named MakeColor
which is currently set to work on Z values between 0 and 255.  You can test
it by converting your file into an 8-bit version (gdal_translate -scale -ot
Byte <infile> <outfile> ), and then running the tool on it.  Once you see
how it works, it should be pretty simple to modify the function to deal with
the actual ranges in your data.

Roger
--

On Thu, Apr 9, 2009 at 4:24 PM, alvarez00 <oalvarez00@gmail.com> wrote:

>
> I'm trying to make a color ramp for a 1-band tiff file or a jpeg. I have a
> 1-band tiff file and I converted that tiff file into VRT. I was reading some
> of the posts and some suggest to modify the VRT file and add a ColorTable
> tag but that doesn't work. My objective is to show the tiff(or)jpeg on
> google earth. I'm running version 1.4.1.0 of gdal. Below is the VRT file
> without any modifications. What I modify was the
> '<ColorInterp>Gray</ColorInterp>' to '<ColorInterp>Palette</ColorInterp>'
> and added a ColorTable.
>
> VRTDataset rasterXSize="1200" rasterYSize="1096">
>  <SRS>GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS
> 1980&quot;,6378137,298.2572221010002,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0],UNIT[&quot;degree&quot;,0.0174532925199433],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]]</SRS>
>  <GeoTransform> -1.2459079918952935e+02,  8.9964705882352915e-03,
>  0.0000000000000000e+00,  4.2216820949146452e+01,  0.0000000000000000e+00,
> -8.9964705882352915e-03</GeoTransform>
>  <Metadata>
>    <MDI key="AREA_OR_POINT">Area</MDI>
>  </Metadata>
>  <VRTRasterBand dataType="Float32" band="1">
>    <Metadata/>
>    <NoDataValue>-3.40282346638529E+38</NoDataValue>
>    <ColorInterp>Gray</ColorInterp>
>    <SimpleSource>
>      <SourceFilename
> relativeToVRT="1">GoesWest1V1561915.tif</SourceFilename>
>      <SourceBand>1</SourceBand>
>      <SrcRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
>      <DstRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
>    </SimpleSource>
>  </VRTRasterBand>
> </VRTDataset>
>
> --
> View this message in context:
> http://n2.nabble.com/1-band-TIFF-FILE-color-ramp-NEEDED-tp2613963p2613963.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

#! /usr/bin/env python

# Create a colored image based on LUT in MakeColor function

# Author: Roger Andre, October 2008

# Usage: discreet_gray2color.py <infile> <outfile>

from osgeo import gdal
import sys
import numpy
import os.path
gdal.TermProgress = gdal.TermProgress_nocb

src_file = sys.argv[1]
dst_file = sys.argv[2]
out_bands = 3

def MakeColor(z_value):
  '''LUT for color ramp. Keys are pixel values, hash values are RGB triplets.'''
  color_dict = {
    0:[102,0,255],
   25:[20,82,255],
   50:[0,194,224],
   75:[0,255,122],
  100:[41,255,0],
  125:[204,255,0],
  150:[245,194,0],
  175:[224,118,0],
  200:[168,46,0],
  225:[105,0,0],
  250:[64,0,0],
  255:[0,0,0]}

  key_list = color_dict.keys()
  key_list.sort()
  while len(key_list) > 0:
    last_val = key_list[-1]
    if z_value >= last_val:
      return color_dict[last_val]
    else:
      key_list.remove(last_val)

# Print some info
print "Creating %s" % (dst_file)

# Open source file
src_ds = gdal.Open( src_file )
src_band = src_ds.GetRasterBand(1)

# create destination file
dst_driver = gdal.GetDriverByName('GTiff')
dst_ds = dst_driver.Create(dst_file, src_ds.RasterXSize, src_ds.RasterYSize, out_bands, gdal.GDT_Byte) 

# create output bands
band1 = numpy.zeros([src_ds.RasterYSize, src_ds.RasterXSize])
band2 = numpy.zeros([src_ds.RasterYSize, src_ds.RasterXSize])
band3 = numpy.zeros([src_ds.RasterYSize, src_ds.RasterXSize])

# set the projection and georeferencing info
dst_ds.SetProjection( src_ds.GetProjection() )
dst_ds.SetGeoTransform( src_ds.GetGeoTransform() )

# read the source file
gdal.TermProgress( 0.0 )
for iY in range(src_ds.RasterYSize):
  src_data = src_band.ReadAsArray(0,iY,src_ds.RasterXSize,1)
  col_values = src_data[0] # array of z_values, one per row in source data
  for iX in range(src_ds.RasterXSize):
    z_value = col_values[iX]
    # print z_value # uncomment to see what value breaks color ramp
    [R,G,B] = MakeColor(z_value)
    band1[iY][iX] = R
    band2[iY][iX] = G
    band3[iY][iX] = B
  gdal.TermProgress( (iY+1.0) / src_ds.RasterYSize )

# write each band out
dst_ds.GetRasterBand(1).WriteArray(band1)
dst_ds.GetRasterBand(2).WriteArray(band2)
dst_ds.GetRasterBand(3).WriteArray(band3)

dst_ds = None

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
View this message in context: http://n2.nabble.com/1-band-TIFF-FILE-color-ramp-NEEDED-tp2613963p2622398.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From oalvarez00 at gmail.com  Sat Apr 11 20:19:00 2009
From: oalvarez00 at gmail.com (alvarez00)
Date: Sat Apr 11 20:19:02 2009
Subject: [Gdal-dev] 1-band TIFF FILE color ramp NEEDED
In-Reply-To: <49DF5EEF.2090609@pobox.com>
References: <1239319497735-2613963.post@n2.nabble.com>
	<49DF5EEF.2090609@pobox.com>
Message-ID: <1239495540643-2622431.post@n2.nabble.com>


Hi Frank,
here is how I modify the vrt file:
<VRTDataset rasterXSize="1200" rasterYSize="1096">
  <SRS>GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS 1980&quot;,6378137,298.2572221010002,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0],UNIT[&quot;degree&quot;,0.0174532925199433],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]]</SRS>
  <GeoTransform> -1.2459079918952935e+02,  8.9964705882352915e-03,  0.0000000000000000e+00,  4.2216820949146452e+01,  0.0000000000000000e+00, -8.9964705882352915e-03</GeoTransform>
  <Metadata>
    <MDI key="AREA_OR_POINT">Area</MDI>
  </Metadata>
  <VRTRasterBand dataType="Byte" band="1">
    <Metadata/>
    <NoDataValue>-3.40282346638529E+38</NoDataValue>
    <ColorInterp>Palette</ColorInterp>
     <ColorTable>
       <Entry c1="255" c2="255" c3="255" c4="255"/>
       <Entry c1="0" c2="0" c3="0" c4="255"/>
       <Entry c1="35" c2="66" c3="55" c4="77"/> 
     </ColorTable> 
    <ComplexSource>
      <SourceFilename relativeToVRT="1">GoesWest1V1561915.tiff</SourceFilename>
      <SourceBand>1</SourceBand>
      <SrcRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
      <DstRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
      <ScaleOffset>0</ScaleOffset>
      <ScaleRatio>2559.99</ScaleRatio>
    </ComplexSource>
  </VRTRasterBand>
</VRTDataset>


Yes I have tried to import the vrt file into GE but the same thing it showed in gray scale, also I tried to convert the modify VRT file back to geotiff but the same thing (gray scale). 

thanks


Hi,

After modifying the VRT file to include a color table (why didn't you
show us that VRT file!) what did you do?  Did you try to open the VRT
in GE?  Did you gdal_translate that VRT back to a new geotiff and try to
view that?    Can you expand on "but that doesn't work"?

Best regards,
-- 

-- 
View this message in context: http://n2.nabble.com/1-band-TIFF-FILE-color-ramp-NEEDED-tp2613963p2622431.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From rec at geodesign.com.br  Sun Apr 12 11:05:13 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Sun Apr 12 11:03:11 2009
Subject: [gdal-dev] Link to Download gdalwin32dev160
Message-ID: <20090412150308.C2D7C1338054@smtp.cluster002.whservidor.com>

Folks,

Does anyone know the link to download gdalwin32dev160.zip that one 
needs with the gdalwin32exe160.zip?

Thanks in advance.

Reinaldo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090412/8041842c/attachment.html
From randre at gmail.com  Sun Apr 12 11:30:18 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Sun Apr 12 11:30:21 2009
Subject: [Gdal-dev] 1-band TIFF FILE color ramp NEEDED
In-Reply-To: <1239494712852-2622398.post@n2.nabble.com>
References: <1239319497735-2613963.post@n2.nabble.com>
	<9c2015090904101356u614e3a24t178759e0ab01998c@mail.gmail.com>
	<1239494712852-2622398.post@n2.nabble.com>
Message-ID: <9c2015090904120830v2cce5e97ifa2db2754f48176c@mail.gmail.com>

Sorry about that.  It has to do with the little progress indicator that runs
when gdal processes a file.  There are different ways of invoking it, and my
mileage varies with each of them.  I think it is based on what version of
gdal you're using.  Anyhow, 2 ways you can deal with this.  I think with
your version of gdal you can just remove the import statement, line 14 (
gdal.TermProgress = gdal.TermProgress_nocb ), entirely. If that doesn't
work, just remove all 3 lines that have "TermProgress" in them.  You won't
have a status indicator then to tell you how far along the coloring is, but
the program should run.  Also, just fyi that the colorization won't be
incredibly fast. It takes around 5 minutes to color an image that is 2500 x
2500 pixels on my machine.  There is obviously room for optimization here
;).
--

On Sat, Apr 11, 2009 at 5:05 PM, alvarez00 <oalvarez00@gmail.com> wrote:

>
> Hi Roger,
>
> I'm trying to run the python code you suggested but I keep getting this
> error :
> Traceback (most recent call last):
>  File "discreet_gray2color.py", line 14, in <module>
>    gdal.TermProgress = gdal.TermProgress_nocb
> AttributeError: 'module' object has no attribute 'TermProgress_nocb' "
>
> I don't know if it's the version of gdal I'm using or something else. (i'm
> using gdal 1.4.1.0)
>
> thanks,
>
>
>
>
> Here's another way you can do it, a Python script that will create discreet
> color classes from a grayscale image.  It uses a function named MakeColor
> which is currently set to work on Z values between 0 and 255.  You can test
> it by converting your file into an 8-bit version (gdal_translate -scale -ot
> Byte <infile> <outfile> ), and then running the tool on it.  Once you see
> how it works, it should be pretty simple to modify the function to deal
> with
> the actual ranges in your data.
>
> Roger
> --
>
> On Thu, Apr 9, 2009 at 4:24 PM, alvarez00 <oalvarez00@gmail.com> wrote:
>
> >
> > I'm trying to make a color ramp for a 1-band tiff file or a jpeg. I have
> a
> > 1-band tiff file and I converted that tiff file into VRT. I was reading
> some
> > of the posts and some suggest to modify the VRT file and add a ColorTable
> > tag but that doesn't work. My objective is to show the tiff(or)jpeg on
> > google earth. I'm running version 1.4.1.0 of gdal. Below is the VRT file
> > without any modifications. What I modify was the
> > '<ColorInterp>Gray</ColorInterp>' to '<ColorInterp>Palette</ColorInterp>'
> > and added a ColorTable.
> >
> > VRTDataset rasterXSize="1200" rasterYSize="1096">
> >
>  <SRS>GEOGCS[&quot;NAD83&quot;,DATUM[&quot;North_American_Datum_1983&quot;,SPHEROID[&quot;GRS
> >
> 1980&quot;,6378137,298.2572221010002,AUTHORITY[&quot;EPSG&quot;,&quot;7019&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6269&quot;]],PRIMEM[&quot;Greenwich&quot;,0],UNIT[&quot;degree&quot;,0.0174532925199433],AUTHORITY[&quot;EPSG&quot;,&quot;4269&quot;]]</SRS>
> >  <GeoTransform> -1.2459079918952935e+02,  8.9964705882352915e-03,
> >  0.0000000000000000e+00,  4.2216820949146452e+01,
>  0.0000000000000000e+00,
> > -8.9964705882352915e-03</GeoTransform>
> >  <Metadata>
> >    <MDI key="AREA_OR_POINT">Area</MDI>
> >  </Metadata>
> >  <VRTRasterBand dataType="Float32" band="1">
> >    <Metadata/>
> >    <NoDataValue>-3.40282346638529E+38</NoDataValue>
> >    <ColorInterp>Gray</ColorInterp>
> >    <SimpleSource>
> >      <SourceFilename
> > relativeToVRT="1">GoesWest1V1561915.tif</SourceFilename>
> >      <SourceBand>1</SourceBand>
> >      <SrcRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
> >      <DstRect xOff="0" yOff="0" xSize="1200" ySize="1096"/>
> >    </SimpleSource>
> >  </VRTRasterBand>
> > </VRTDataset>
> >
> > --
> > View this message in context:
> >
> http://n2.nabble.com/1-band-TIFF-FILE-color-ramp-NEEDED-tp2613963p2613963.html
> > Sent from the GDAL - Dev mailing list archive at Nabble.com.
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
> #! /usr/bin/env python
>
> # Create a colored image based on LUT in MakeColor function
>
> # Author: Roger Andre, October 2008
>
> # Usage: discreet_gray2color.py <infile> <outfile>
>
> from osgeo import gdal
> import sys
> import numpy
> import os.path
> gdal.TermProgress = gdal.TermProgress_nocb
>
> src_file = sys.argv[1]
> dst_file = sys.argv[2]
> out_bands = 3
>
> def MakeColor(z_value):
>  '''LUT for color ramp. Keys are pixel values, hash values are RGB
> triplets.'''
>  color_dict = {
>    0:[102,0,255],
>   25:[20,82,255],
>   50:[0,194,224],
>   75:[0,255,122],
>  100:[41,255,0],
>  125:[204,255,0],
>  150:[245,194,0],
>  175:[224,118,0],
>  200:[168,46,0],
>  225:[105,0,0],
>  250:[64,0,0],
>  255:[0,0,0]}
>
>  key_list = color_dict.keys()
>  key_list.sort()
>  while len(key_list) > 0:
>    last_val = key_list[-1]
>    if z_value >= last_val:
>      return color_dict[last_val]
>    else:
>      key_list.remove(last_val)
>
> # Print some info
> print "Creating %s" % (dst_file)
>
> # Open source file
> src_ds = gdal.Open( src_file )
> src_band = src_ds.GetRasterBand(1)
>
> # create destination file
> dst_driver = gdal.GetDriverByName('GTiff')
> dst_ds = dst_driver.Create(dst_file, src_ds.RasterXSize,
> src_ds.RasterYSize, out_bands, gdal.GDT_Byte)
>
> # create output bands
> band1 = numpy.zeros([src_ds.RasterYSize, src_ds.RasterXSize])
> band2 = numpy.zeros([src_ds.RasterYSize, src_ds.RasterXSize])
> band3 = numpy.zeros([src_ds.RasterYSize, src_ds.RasterXSize])
>
> # set the projection and georeferencing info
> dst_ds.SetProjection( src_ds.GetProjection() )
> dst_ds.SetGeoTransform( src_ds.GetGeoTransform() )
>
> # read the source file
> gdal.TermProgress( 0.0 )
> for iY in range(src_ds.RasterYSize):
>  src_data = src_band.ReadAsArray(0,iY,src_ds.RasterXSize,1)
>  col_values = src_data[0] # array of z_values, one per row in source data
>  for iX in range(src_ds.RasterXSize):
>    z_value = col_values[iX]
>    # print z_value # uncomment to see what value breaks color ramp
>    [R,G,B] = MakeColor(z_value)
>    band1[iY][iX] = R
>    band2[iY][iX] = G
>    band3[iY][iX] = B
>  gdal.TermProgress( (iY+1.0) / src_ds.RasterYSize )
>
> # write each band out
> dst_ds.GetRasterBand(1).WriteArray(band1)
> dst_ds.GetRasterBand(2).WriteArray(band2)
> dst_ds.GetRasterBand(3).WriteArray(band3)
>
> dst_ds = None
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> --
> View this message in context:
> http://n2.nabble.com/1-band-TIFF-FILE-color-ramp-NEEDED-tp2613963p2622398.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090412/44971650/attachment-0001.html
From mjollnir.ray at gmail.com  Sun Apr 12 11:45:48 2009
From: mjollnir.ray at gmail.com (mjollnir)
Date: Sun Apr 12 11:45:50 2009
Subject: [Gdal-dev] no file
In-Reply-To: <49D2389D.1010206@pobox.com>
References: <1238513242031-2563633.post@n2.nabble.com>
	<49D2389D.1010206@pobox.com>
Message-ID: <1239551148423-2624447.post@n2.nabble.com>


I found I cannot use the "virtual file" with ogr, such as read virual GEOJson file from memory buffer.
I guess the ogr doesn't support VSI* function,correct me if i'm wrong


Ray,

You can run the PNG encoder to a memory buffer "virtual file" using the
mechanism described at:

   http://www.gdal.org/cpl__vsi_8h.html#66e2e6f093fd42f8a941b962d4c8a19e

Then you would send the contents of the memory buffer off to the socket.

In theory you could also write a special file handler allowing you to
stream it directly to the socket without an intermediate memory buffer but
that would be very involved.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
View this message in context: http://n2.nabble.com/no-file-tp2563633p2624447.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mohwawang at yahoo.com  Sun Apr 12 13:03:58 2009
From: mohwawang at yahoo.com (mohwawang@yahoo.com)
Date: Sun Apr 12 13:03:59 2009
Subject: [gdal-dev] FIY: Test GDAL/OpenEV and Google Earth Pro with a test
	set for NITF
Message-ID: <213399.80890.qm@web32602.mail.mud.yahoo.com>


Hi all,

Just FYI. I have tested OpenEV and Google Earth Pro with two test NITF images from the NITFS Technical Board. I found that OpenEV can load those two NITF images properly while GE Pro can load one image but somehow the scale was wrong and it could not display the other image at all.

I posted the following message to Google Earth Community >> Forums >> Active Topics Past 7 days: Open Forum, Subject: Re: New Software Report a Bug by mohwa@4/12/09. I included it here.

Mo
----------
To Google Earth Community
[Hi all,

I report two NITF related bugs here.

I found that there was a website http://www.ismc.nga.mil/ntb/baseline/software/samplefile.html containing free test set of NITF files from the NITFS Technical Board. From the website you can select "NITF 2.1/NISF 1.0" that will lead you to a page containing 72 free test examples with description of the object of each test cases. I selected two test cases with real images.

One is test number 1: i_3001a.ntf with object "Can the system handle an uncompressed 1024x1024 8-bit mono image and file contains GEO data?(AIRFIELD)"

I downloaded this file and dragged & drop it to GE Pro. It flew to Tibet and a airfield was shown. The problem is the scale is very strange. The runway was measured as only 30 meters long and the airplanes only 0.4 meter long. All the background is very blur because the scale is somehow wrong. What's wrong? I used another open source executable, OpenEV to load the image successfully and the image is geo-referenced.

The other test case is test number 31: i_3090m.ntf with object "CIRARCC5 checks for proper interpretation of upper left VDC and drawing of center-closed CGM circular arcs across different quadrants." I don't know what the meaning of this object. However, I downloaded the image and again I can load the image with OpenEv successfully. I found that it was a photo of Boston and East Massachusetts. It was not geo-referenced. I then dragged and drop the file to GE Pro. I didn't see the "photo", though GE Pro gave me the Google Earth - Edit Photo Overlay dialog box. Where is the "photo"?

Thanks.

mohwa]




      
From warmerdam at pobox.com  Sun Apr 12 22:41:54 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Apr 12 22:42:14 2009
Subject: [Gdal-dev] no file
In-Reply-To: <1239551148423-2624447.post@n2.nabble.com>
References: <1238513242031-2563633.post@n2.nabble.com>
	<49D2389D.1010206@pobox.com> <1239551148423-2624447.post@n2.nabble.com>
Message-ID: <49E2A672.1@pobox.com>

mjollnir wrote:
> I found I cannot use the "virtual file" with ogr, such as read virual GEOJson file from memory buffer.
> I guess the ogr doesn't support VSI* function,correct me if i'm wrong

It depends on the individual driver.  Only some OGR and GDAL drivers support
virtual files.  Apparently the GeoJSON driver does not support it.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Sun Apr 12 22:47:03 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Apr 12 22:47:18 2009
Subject: [gdal-dev] Link to Download gdalwin32dev160
In-Reply-To: <20090412150308.C2D7C1338054@smtp.cluster002.whservidor.com>
References: <20090412150308.C2D7C1338054@smtp.cluster002.whservidor.com>
Message-ID: <49E2A7A7.5030303@pobox.com>

Reinaldo Escada Chohfi wrote:
> Folks,
> 
> Does anyone know the link to download gdalwin32dev160.zip that one needs 
> with the gdalwin32exe160.zip?

Reinaldo,

As I mentioned a few days ago, I never prepared this file.  I'm also not
planning on producing it in the very short term.  You might want to build
1.6 from source - it isn't too hard.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From rec at geodesign.com.br  Sun Apr 12 23:05:40 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Sun Apr 12 23:03:39 2009
Subject: [gdal-dev] Getting MITAB format out with projection
Message-ID: <20090413030335.CBD731338052@smtp.cluster002.whservidor.com>

Folks,

When I use the following piece of code in a program I can get the 
Shape files with the correct projection parameters in a .prj ESRI style file.

const char *pszDriverName = "ESRI Shapefile";
OGRSFDriver *poDriver;
OGRRegisterAll();
.
.
.
OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS( "EPSG:4326" );

oSRS.morphToESRI();
oSRS.exportToWkt( &pszWKT );

FILE *prj1;
prj1 = fopen("..\point_out.prj","w");
fprintf(prj1, "%s\n", pszWKT );

However, if I specify

const char *pszDriverName = "MapInfo File";
.
.
.
OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS( "EPSG:4326" );

I don't get the MapInfo files with the projection parameters.  I get 
the MapInfo files as a non-earth.

Any suggestions are welcomed to help in getting the MapInfo files 
with the correct projection information.

Thanks in advance.

Reinaldo


From edbond at gmail.com  Mon Apr 13 08:18:11 2009
From: edbond at gmail.com (Eduard Bondarenko)
Date: Mon Apr 13 08:18:15 2009
Subject: [gdal-dev] gdal2tiles.py and ProjNatOriginLongGeoKey
Message-ID: <49E32D83.1090300@googlemail.com>

Hello gdal,

I'm trying to convert GeoTIFF to TMS tiles using gdal2tiles.py script.

listgeo:
Geotiff_Information:
    Version: 1
    Key_Revision: 1.0
    Tagged_Information:
       ModelTiepointTag (2,3):
          0                0                0
          600449           4934034          0
       ModelPixelScaleTag (1,3):
          0.5              0.5              0
       End_Of_Tags.
    Keyed_Information:
       GTModelTypeGeoKey (Short,1): ModelTypeProjected
       GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
       GTCitationGeoKey (Ascii,257): "IMAGINE GeoTIFF Support\nCopyright 
1991 - 2006 by Leica Geosystems Geospatial Imaging, LLC. All Rights 
Reserved\n@(#)$RCSfile: egtf.c $ IMAGINE 9.1 $Revision: 22.0 $ $Date: 
2006/05/24 17:16:00 EST $\nProjection Name = UTM\nUnits = 
meters\nGeoTIFF Units = meters"
       ProjectedCSTypeGeoKey (Short,1): PCS_WGS84_UTM_zone_36N
       PCSCitationGeoKey (Ascii,244): "IMAGINE GeoTIFF 
Support\nCopyright 1991 - 2006 by Leica Geosystems Geospatial Imaging, 
LLC. All Rights Reserved\n@(#)$RCSfile: egtf.c $ IMAGINE 9.1 $Revision: 
22.0 $ $Date: 2006/05/24 17:16:00 EST $\nUTM Zone 36N\nEllipsoid = WGS 
84\nDatum = WGS 84"
       ProjLinearUnitsGeoKey (Short,1): Linear_Meter
       End_Of_Keys.
    End_Of_Geotiff.

PCS = 32636 (WGS 84 / UTM zone 36N)
Projection = 16036 (UTM zone 36N)
Projection Method: CT_TransverseMercator
    ProjNatOriginLatGeoKey: 0.000000 (  0d 0' 0.00"N)
    ProjNatOriginLongGeoKey: 33.000000 ( 33d 0' 0.00"E)
    ProjScaleAtNatOriginGeoKey: 0.999600
    ProjFalseEastingGeoKey: 500000.000000 m
    ProjFalseNorthingGeoKey: 0.000000 m
GCS: 4326/WGS 84
Datum: 6326/World Geodetic System 1984
Ellipsoid: 7030/WGS 84 (6378137.00,6356752.31)
Prime Meridian: 8901/Greenwich (0.000000/  0d 0' 0.00"E)
Projection Linear Units: 9001/metre (1.000000m)

Corner Coordinates:
Upper Left    (  600449.000, 4934034.000)  ( 34d15'52.85"E, 44d33' 9.50"N)
Lower Left    (  600449.000, 4931945.500)  ( 34d15'51.39"E, 44d32' 1.83"N)
Upper Right   (  602409.500, 4934034.000)  ( 34d17'21.69"E, 44d33' 8.51"N)
Lower Right   (  602409.500, 4931945.500)  ( 34d17'20.20"E, 44d32' 0.84"N)
Center        (  601429.250, 4932989.750)  ( 34d16'36.53"E, 44d32'35.17"N)

I use bash script to convert:
#!/bin/sh

input=1.tif
gdal_translate -of VRT -a_srs EPSG:900913 -gcp 0 0 600449 4934034 -gcp 
3921 4177 602409.5 4931945.5 -gcp 3921 0 602409.5 4934034 $input 2.vrt
rm 3.vrt
rm -rf sat
gdalwarp -of VRT -s_srs EPSG:900913 -t_srs EPSG:4326 2.vrt 3.vrt
./gdal2tiles.py -v -z 4-18 --s_srs EPSG:4326 3.vrt sat

The problem is tiles are generated but it looks like they lie far to the 
west from place they should be.

I guess ProjNatOriginLongGeoKey tells about this shift but I can't find 
out what it means and how use it?

Thanks in advance,
Eduard
From zacharyfisk at gmail.com  Mon Apr 13 16:36:42 2009
From: zacharyfisk at gmail.com (Zachary Fisk)
Date: Mon Apr 13 16:36:46 2009
Subject: [gdal-dev] gdal2tiles.py and ProjNatOriginLongGeoKey
In-Reply-To: <49E32D83.1090300@googlemail.com>
References: <49E32D83.1090300@googlemail.com>
Message-ID: <e11cb6a80904131336g5ee4ff3eg70bb621f48feb0ba@mail.gmail.com>

 I'm trying to merge about 345 tifs NED 10M data for the continental U.S. I
processed the data from ArcInfo Grid to tif (see bottom for the output of
one of the tifs from gdalinfo) using gdal_translate. The error below is
generated from the attempted merge, how I do build GDAL with BigTiff
support? Also I noticed my windows version of the tool supports the
--optfile parameter, but not the linux python script version. Can this
command handle all 345 files on one command? Are there other best practices
methods that I should be aware of, I prefer to process on the linux system
since they, but am open to processing on windows. Whatever works.


*Sample command parameters I'm passing to gdal_merge.py*
gdal_merge.py -o big2.tif -of GTIFF -co BIGTIFF=YES -co TILE=YES -co
COMPRESS=DEFLATE -co PREDICTOR=2 -co BLOCKXSIZE=128 -co BLOCKYSIZE=128
demgrid_101_1.tif demgrid_101_2.tif demgrid_101_3.tif demgrid_102_1.tif
demgrid_102_2.tif demgrid_102_3.tif demgrid_103_1.tif demgrid_103_2.tif
demgrid_103_3.tif demgrid_104_1.tif
Warning 6: BIGTIFF requested, but GDAL built without BigTIFF
enabled libtiff, request ignored.
Segmentation fault



*Output of one of the images passed to the gdal_merge.py from gdalinfo*
gdalinfo demgrid_101_1.tif
Driver: GTiff/GeoTIFF
Files: demgrid_101_1.tif
Size is 32400, 10800
Coordinate System is:
GEOGCS["NAD83",
    DATUM["North_American_Datum_1983",
        SPHEROID["GRS 1980",6378137,298.2572221010042,
            AUTHORITY["EPSG","7019"]],
        AUTHORITY["EPSG","6269"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4269"]]
Origin = (-120.000000000014793,47.000000000075204)
Pixel Size = (0.000092592592600,-0.000092592592600)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (-120.0000000,  47.0000000) (120d 0'0.00"W, 47d 0'0.00"N)
Lower Left  (-120.0000000,  46.0000000) (120d 0'0.00"W, 46d 0'0.00"N)
Upper Right (-117.0000000,  47.0000000) (117d 0'0.00"W, 47d 0'0.00"N)
Lower Right (-117.0000000,  46.0000000) (117d 0'0.00"W, 46d 0'0.00"N)
Center      (-118.5000000,  46.5000000) (118d30'0.00"W, 46d30'0.00"N)
Band 1 Block=32400x1 Type=Int16, ColorInterp=Gray
  NoData Value=-3.4028234663852886e+38
  Metadata:
    LAYER_TYPE=athematic
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090413/9b8d574a/attachment.html
From nbarker at ittvis.com  Mon Apr 13 16:44:38 2009
From: nbarker at ittvis.com (Norman Barker)
Date: Mon Apr 13 16:44:47 2009
Subject: [gdal-dev] jpip - update - code release
Message-ID: <B1B624F7C110834B96594065A74F3A540D0164AB@gemini.rsinc.com>

Hi,

 

I have updated the RFC on
http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support to
reflect the current prototype code.  

 

Code release is waiting on SVN access, IP release etc., but it gives me
time to complete a python demo in addition to Java ImageIO.

 

The initial work for this client is being donated by the company I work
for, http://www.ittvis.com <http://www.ittvis.com/>  

 

(Geospatial) JPIP server/clients are also available from Lizardtech,
Erdas and others, we welcome involvement from them in shaping the client
driver (I think mpg indicated that he could add some time).

 

Thoughts, comments appreciated.

 

Norman

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090413/729dcab5/attachment.html
From yk_nju at 163.com  Tue Apr 14 02:12:04 2009
From: yk_nju at 163.com (enjoylives)
Date: Tue Apr 14 02:12:15 2009
Subject: [Gdal-dev] Gdal HDF4 Support
Message-ID: <1239689524835-2631421.post@n2.nabble.com>


hello everyone, 
I need a compiled GDAL which supports HDF4/HDF5. 
I followed some instructions and compiled HDF5 successfully with HDF5 1.6.6 but compiling HDF4 really troubled me a lot. 
I tried HDF41r5, HDF42r1,HDF42r2,HDF42r5 with different forms of namek.opt information, such as : 
HDF4_PLUGIN = YES 
HDF4_DIR = D:\42r2-win-vs2005 
HDF4_LIB = $(HDF4_DIR)\dll\hm422m.lib $(HDF4_DIR)\dll\hd422m.lib \ 
                          $(HDF4_DIR)\dll\mfhdf_fcstubdll.lib Ws2_32.lib 
but these all failed because when I use gdalinfo --formats to look for the supported formats, I only find HDF5 but no HDF4. 

Looking for your kindly help! 
-- 
View this message in context: http://n2.nabble.com/Gdal-HDF4-Support-tp2631421p2631421.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From paul.malm at saabgroup.com  Tue Apr 14 02:22:21 2009
From: paul.malm at saabgroup.com (Malm Paul)
Date: Tue Apr 14 02:23:09 2009
Subject: [gdal-dev] charts on a sphere
In-Reply-To: <48C5EBE3.90505@pobox.com>
References: <48C480C2.8070005@pobox.com> <19385107.post@talk.nabble.com>
	<48C5EBE3.90505@pobox.com>
Message-ID: <9CE1BBC0D3132A43A391263616F51E7D601C6452EB@corpappl079.corp.saab.se>

 Hi list,
I?m going to draw vector charts on a sphere with openGL, each chart shall be cut into smaller "submaps". I first thought I could do it in x,y,z coords in WGS84 but the I have to render the vector data all the time when changing view. Now I?m more into that the vector data shall be projected to a cartesian coordinate system. Each submap is the rendered to a p-buffer (raster) for current zoom. Then I will drape the submap rasters on a spher for viewing in different angles.

What is the best projection to store the "submaps" in? Each submap shall connect to the adjacent submap and the submaps can go around the globe. Is it a stereographic projection with a uniqe center point for each submap that I shall use? Or is there something else that is better for me?

Kind regards,
Paul 
From schut at sarvision.nl  Tue Apr 14 03:35:54 2009
From: schut at sarvision.nl (Vincent Schut)
Date: Tue Apr 14 03:36:00 2009
Subject: [gdal-dev] Problem in importing to Google Earth a nitf image
	converted from a tif image by gdal_translate
In-Reply-To: <456275.87076.qm@web32603.mail.mud.yahoo.com>
References: <456275.87076.qm@web32603.mail.mud.yahoo.com>
Message-ID: <49E43CDA.7010001@sarvision.nl>

Hi Mo,

mohwawang wrote:
> Vincent,
>
> I tried gdalwarp as:
>   
>> gdalwarp in.tif out.tif
>>     
> ERROR 1: Unable to compute a transformation between pixel/line and georeferenced coordinate for in.tif.
> There is no affine transformation and no GCPs.
>
> I guess gdalwarp needs GCPs in in.tif that does not have GCPs in it.
>   
Ah, sorry about that. I assumed your in.tif had gcp's.
> I also tried gdal_translate again and this time I used -a_ullr as:
>   
>> gdal_translate -of GTiff in.tif out.gtf -a_srs EPSG:4326 -a_ullr -70.887525562763 42.8093748999134 -70.8894939447889 42.8082925732318
>>     
>
> Then gdalinfo showed correct corner coordinates. But GE still could not import the out.gtf.
>   
Well, at least you now have a proper north-up geotiff file with embedded 
projection and corner coordinates. I'd say any app that says it supports 
geotiffs should be able to read this file correctly.
I am sorry, but I have no idea why GE does not import this file 
correctly. I have no GE pro license, and no experience with viewing 
geotiff files in GE. You might wish to ask on a GE list/forum...

Regards,
Vincent.
> Mo
>
>   
>> gdalinfo out.gtf
>>     
> Driver: GTiff/GeoTIFF
> Files: out.gtf
> Size is 561, 420
> Coordinate System is:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.2572235630016,
>             AUTHORITY["EPSG","7030"]],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0],
>     UNIT["degree",0.0174532925199433],
>     AUTHORITY["EPSG","4326"]]
> Origin = (-70.887525562763003,42.809374899913401)
> Pixel Size = (-0.000003508702363,-0.000002576968290)
> Metadata:
>   AREA_OR_POINT=Area
>   TIFFTAG_XRESOLUTION=300
>   TIFFTAG_YRESOLUTION=300
>   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
> Image Structure Metadata:
>   INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  ( -70.8875256,  42.8093749) 
> Lower Left  ( -70.8875256,  42.8082926) 
> Upper Right ( -70.8894939,  42.8093749) 
> Lower Right ( -70.8894939,  42.8082926) 
> Center      ( -70.8885098,  42.8088337) 
> Band 1 Block=561x4 Type=Byte, ColorInterp=Red
> Band 2 Block=561x4 Type=Byte, ColorInterp=Green
> Band 3 Block=561x4 Type=Byte, ColorInterp=Blue
>
> --- On Fri, 4/10/09, Vincent Schut <schut@sarvision.nl> wrote:
>
>   
>> From: Vincent Schut <schut@sarvision.nl>
>> Subject: Re: [gdal-dev] Problem in importing to Google Earth a nitf image converted from a tif image by gdal_translate
>> To: 
>> Cc: "gdal-dev@lists.osgeo.org" <gdal-dev@lists.osgeo.org>
>> Date: Friday, April 10, 2009, 3:15 AM
>> mohwawang wrote:
>>     
>>> Hi Roger,
>>>
>>> gdalinfo gave me only info about coordinates of GCPs
>>>       
>> but I doubt that are much useful to GE. Any other way (other
>> than using GCP in gdal_translate) to embed the coordinates
>> info to the GeoTIFF file?
>>     
>>>    
>>>       
>> Mo,
>>
>> I doubt GE will read and use your gcp's. And as there is
>> not georeferencing (as: standard geotiff georeferencing) in
>> your tiff, GE will fail to place your image.
>> I'd try to run your tiff through gdalwarp instead of
>> gdal_translate. Good chance that gdalwarp will convert your
>> unprojected image with gcp's into a real projected geotiff.
>> Just try: 'gdalwarp <inimage.tif>
>> <outimage.tif>' and then check your outimage with
>> gdal_info. It should now give you proper lat/lon values for
>> the corner coordinates, instead of pixel indices.
>>
>> Vincent.
>>     
>>> Thanks.
>>>
>>> Mo
>>>
>>> Driver: GTiff/GeoTIFF
>>> Files: gdal_translate_tif_to_gtiff.gtf
>>> Size is 561, 420
>>> Coordinate System is `'
>>> GCP Projection = GEOGCS["WGS
>>>       
>> 84",DATUM["WGS_1984",SPHEROID["WGS
>> 84",6378137,298.2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]]
>>     
>>> GCP[  0]: Id=1, Info=
>>>            (0,0)
>>>       
>> -> (-70.887525562763,42.8093748999134,0)
>>     
>>> GCP[  1]: Id=2, Info=
>>>            (560,0)
>>>       
>> -> (-70.887525562763,42.8082925732318,0)
>>     
>>> GCP[  2]: Id=3, Info=
>>>            (560,419)
>>>       
>> -> (-70.8894939447889,42.8082925732318,0)
>>     
>>> GCP[  3]: Id=4, Info=
>>>            (0,419)
>>>       
>> -> (-70.8894939447889,42.8093748999134,0)
>>     
>>> Metadata:
>>>    AREA_OR_POINT=Area
>>>    TIFFTAG_XRESOLUTION=300
>>>    TIFFTAG_YRESOLUTION=300
>>>    TIFFTAG_RESOLUTIONUNIT=2
>>>       
>> (pixels/inch)
>>     
>>> Image Structure Metadata:
>>>    INTERLEAVE=PIXEL
>>> Corner Coordinates:
>>> Upper Left  (    0.0,   
>>>       
>> 0.0)
>>     
>>> Lower Left  (    0.0,  420.0)
>>> Upper Right (  561.0,    0.0)
>>> Lower Right (  561.0,  420.0)
>>> Center      (  280.5, 
>>>       
>> 210.0)
>>     
>>> Band 1 Block=561x4 Type=Byte, ColorInterp=Red
>>> Band 2 Block=561x4 Type=Byte, ColorInterp=Green
>>> Band 3 Block=561x4 Type=Byte, ColorInterp=Blue
>>>
>>> ------
>>>
>>>
>>> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
>>>       
>> wrote:
>>     
>>>    
>>>       
>>>> From: Roger Andr? <randre@gmail.com>
>>>> Subject: Re: [gdal-dev] Problem in importing to
>>>>         
>> Google Earth a nitf image  converted from a tif image
>> by gdal_translate
>>     
>>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>> Cc: "gdal-dev@lists.osgeo.org"
>>>>         
>> <gdal-dev@lists.osgeo.org>
>>     
>>>> Date: Thursday, April 9, 2009, 4:30 PM
>>>> Hi Mo,
>>>>
>>>> What is the gdalinfo output for the GeoTIFF that
>>>>         
>> you
>>     
>>>> created?  If you didn't get an error when you
>>>>         
>> tried to
>>     
>>>> load it in GE, perhaps the georeferencing in the
>>>>         
>> image
>>     
>>>> doesn't quite match what you specified in your
>>>>         
>> KML.
>>     
>>>> Roger
>>>> --
>>>>
>>>> On Thu, Apr 9, 2009 at 1:21 PM,
>>>> mohwawang <mohwawang@yahoo.com>
>>>> wrote:
>>>>
>>>>
>>>>
>>>> Hi Roger,
>>>>
>>>>
>>>>
>>>> My goal is to be able to directly import NITF
>>>>         
>> image to GE
>>     
>>>> without using KML. You can see the advantage of
>>>>         
>> this
>>     
>>>> application - if it works. I'm glad that you have
>>>>         
>> viewed
>>     
>>>> in GE georeferenced imagery created or altered by
>>>>         
>> gdal.
>>     
>>>> Maybe you can point out what I did wrong.
>>>>
>>>>
>>>>
>>>>
>>>> It is good that you asked about GeoTIFF. So I
>>>>         
>> used
>>     
>>>> gdal_translate to convert the tif image to a
>>>>         
>> GeoTIFF image.
>>     
>>>> I tried to drag and drop the GeoTIFF image to GE
>>>>         
>> but nothing
>>     
>>>> happened. I did not see the GeoTIFF image in GE
>>>>         
>> and I did
>>     
>>>> not get any error message either.
>>>>
>>>>
>>>>
>>>>
>>>> I can open the GeoTIFF image with OpenEV and I can
>>>>         
>> read the
>>     
>>>> lan/lon coordinates and they are correct. One
>>>>         
>> thing is that
>>     
>>>> it seems that OpenEV does not set North to Up.
>>>>         
>> Its
>>     
>>>> orientation aligns with the file coordinates -
>>>>         
>> (0,0) is at
>>     
>>>> the upper left corner. I then opened tif file in
>>>>         
>> the same
>>     
>>>> OpenEV and they match to each other.
>>>>
>>>>
>>>>
>>>>
>>>> Again, I can import the tif image with its kml to
>>>>         
>> GE but I
>>     
>>>> can not import the GeoTIFF to GE (without using
>>>>         
>> kml), it
>>     
>>>> seems that nothing happened. I can import the
>>>>         
>> GeoTIFF to GE
>>     
>>>> with kml - though that is not what I want. But the
>>>>         
>> GeoTIFF
>>     
>>>> is better than the NITF that could not be imported
>>>>         
>> to GE
>>     
>>>> even with the same kml.
>>>>
>>>>
>>>>
>>>>
>>>> What's wrong with GeoTIFF? I mean why I could not
>>>> import it to GE? I listed the gdal_translate
>>>>         
>> command line
>>     
>>>> here:
>>>>
>>>>
>>>>
>>>>      
>>>>         
>>>>> gdal_translate -of GTiff tiff.tif gtiff.gtf
>>>>>           
>> -a_srs
>>     
>>>>>        
>>>>>           
>>>> EPSG:4326 -gcp 0 0 -70.887525562763
>>>>         
>> 42.8093748999134 -gcp
>>     
>>>> 560 0 -70.887525562763 42.8082925732318 -gcp 560
>>>>         
>> 419
>>     
>>>> -70.8894939447889 42.8082925732318 -gcp 0 419
>>>> -70.8894939447889 42.8093748999134
>>>>
>>>>
>>>>
>>>>
>>>> I don't have a .ntif file that was not created by
>>>>         
>> gdal
>>     
>>>> to test GE via the "Import Image Tool".
>>>>
>>>>
>>>>
>>>> Thanks.
>>>>
>>>>
>>>>
>>>> Mo
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> --- On Thu, 4/9/09, Roger Andr? <randre@gmail.com>
>>>> wrote:
>>>>
>>>>
>>>>
>>>>      
>>>>         
>>>>> From: Roger Andr? <randre@gmail.com>
>>>>>        Subject: Re:
>>>>>           
>> [gdal-dev] Problem in importing to Google
>>     
>>>>>        
>>>>>           
>>>> Earth a nitf image  converted from a tif
>>>>         
>> image by
>>     
>>>> gdal_translate
>>>>
>>>>      
>>>>         
>>>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>>>        Cc: "gdal-dev@lists.osgeo.org"
>>>>>        
>>>>>           
>>>> <gdal-dev@lists.osgeo.org>
>>>>
>>>>      
>>>>         
>>>>> Date: Thursday, April 9, 2009, 12:47 PM
>>>>>        Hi Mo,
>>>>>        Thanks for that
>>>>>           
>> pointer on the differences between GE
>>     
>>>>>        Layers and
>>>>>           
>> Places.  I'll be sure to take a close
>>     
>>>>>        
>>>>>           
>>>> look
>>>>
>>>>      
>>>>         
>>>>> at those links.  I've had occasion in the
>>>>>           
>> past to
>>     
>>>>>        
>>>>>           
>>>> view
>>>>
>>>>      
>>>>         
>>>>> georeferenced imagery in Google Earth, much of
>>>>>           
>> it
>>     
>>>>>        
>>>>>           
>>>> created or
>>>>
>>>>      
>>>>         
>>>>> altered by gdal in some way, so this topic
>>>>>           
>> interests
>>     
>>>>>        
>>>>>           
>>>> me.
>>>>
>>>>      
>>>>         
>>>>> I'm curious, is your goal to view the NITF
>>>>>           
>> format
>>     
>>>>>        specifically
>>>>>           
>> and to have GE read the internal
>>     
>>>>>        
>>>>>           
>>>> georeferencing
>>>>
>>>>      
>>>>         
>>>>> info, or is it just to view the image in
>>>>>           
>> GE?  It
>>     
>>>>>        
>>>>>           
>>>> sounds
>>>>
>>>>      
>>>>         
>>>>> like you have already accomplished the latter
>>>>>           
>> using a
>>     
>>>>>        
>>>>>           
>>>> KML
>>>>
>>>>      
>>>>         
>>>>> Ground Overlay and a tif, a method which has
>>>>>           
>> also
>>     
>>>>>        
>>>>>           
>>>> worked
>>>>
>>>>      
>>>>         
>>>>> reliably for me in the past as well. I've
>>>>>           
>> also
>>     
>>>>>        
>>>>>           
>>>> had
>>>>
>>>>      
>>>>         
>>>>> success with PNG and JPEG format files. 
>>>>>           
>>      Since in your .nitf test the
>> georeferencing was
>>     
>>>>>        
>>>>>           
>>>> supplied by
>>>>
>>>>      
>>>>         
>>>>> the KML file, the red "X" you are getting
>>>>>        
>>>>>           
>>>> implies
>>>>
>>>>      
>>>>         
>>>>> to me that the image format isn't being
>>>>>           
>> correctly
>>     
>>>>>        interpreted by
>>>>>           
>> GE for some reason.  The fact that
>>     
>>>>>        
>>>>>           
>>>> Envi
>>>>
>>>>      
>>>>         
>>>>> chokes on it as well does seem to point to
>>>>>           
>> gdal as a
>>     
>>>>>        possible
>>>>>           
>> culprit, although the NITF format is not one
>>     
>>>>>        
>>>>>           
>>>> that I
>>>>
>>>>      
>>>>         
>>>>> have seen very much.  Have you tried
>>>>>           
>> importing the
>>     
>>>>>        
>>>>>           
>>>> GeoTIFF
>>>>
>>>>      
>>>>         
>>>>> version of your file directly into GE Pro as
>>>>>           
>> well?       
>>     
>>>> Also,
>>>>
>>>>      
>>>>         
>>>>> do you have a .nitf file that was not created
>>>>>           
>> by gdal,
>>     
>>>>>        
>>>>>           
>>>> and
>>>>
>>>>      
>>>>         
>>>>> which you could use to test GE via the "Add
>>>>>        
>>>>>           
>>>> Image
>>>>
>>>>      
>>>>         
>>>>> Overlay" tool?
>>>>>        Roger
>>>>>        --
>>>>>        On Thu, Apr 9,
>>>>>           
>> 2009 at 8:37 AM,
>>     
>>>>>        mohwawang
>>>>>           
>> <mohwawang@yahoo.com>
>>     
>>>>>        wrote:
>>>>>        Roger,
>>>>>        I'm using
>>>>>           
>> Google Earth Pro 5.0. Thank you for the
>>     
>>>>>        suggestions.
>>>>>        Google Earth
>>>>>           
>> Pro 4.0 also supports importing NITF:
>>     
>>>>>        http://earth.google.com/userguide/v4/ug_importdata.html
>>>>>        that is for
>>>>>           
>> importing your data (including vector data
>>     
>>>>>        
>>>>>           
>>>> and
>>>>
>>>>      
>>>>         
>>>>> imagery data) to the Places of Google Earth
>>>>>           
>> while http://earth.google.com/userguide/v4/ug_imageoverlays.html
>>     
>>>>>        is for "Using
>>>>>           
>> Image Overlays and 3D
>>     
>>>>>        
>>>>>           
>>>> Models".
>>>>
>>>>      
>>>>         
>>>>> See http://earth.google.com/userguide/v4/ug_layers.html#layers_vs_places
>>>>>        for the
>>>>>           
>> difference between Layers and Places in GE.
>>     
>>>>>        This is the
>>>>>           
>> first time I'm importing
>>     
>>>>>        
>>>>>           
>>>> geo-referenced
>>>>
>>>>      
>>>>         
>>>>> images to Google Earth Pro and so far I don't
>>>>>           
>> have
>>     
>>>>>        
>>>>>           
>>>> much
>>>>
>>>>      
>>>>         
>>>>> luck. As I said that I could not use GE to
>>>>>           
>> import the
>>     
>>>>>        
>>>>>           
>>>> NITF
>>>>
>>>>      
>>>>         
>>>>> images converted from gdal_translate (with
>>>>>           
>> EPSG:4326
>>     
>>>>>        
>>>>>           
>>>> that is
>>>>
>>>>      
>>>>         
>>>>> the same projection, Simple Cylindrical
>>>>>           
>> projection, or
>>     
>>>>>        
>>>>>           
>>>> known
>>>>
>>>>      
>>>>         
>>>>> as Lat/Lon WGS84 that GE uses). So I tried to
>>>>>           
>> narrow
>>     
>>>>>        
>>>>>           
>>>> down
>>>>
>>>>      
>>>>         
>>>>> the problem. This time I imported to GE an
>>>>>           
>> native
>>     
>>>>>        
>>>>>           
>>>> Erdas
>>>>
>>>>      
>>>>         
>>>>> IMAGINE image (.img) (with UTM projection that
>>>>>           
>> GE
>>     
>>>>>        
>>>>>           
>>>> supports
>>>>
>>>>      
>>>>         
>>>>> too) but still failed. The later test case has
>>>>>           
>> nothing
>>     
>>>>>        
>>>>>           
>>>> to do
>>>>
>>>>      
>>>>         
>>>>> with gdal and is purely a question for GE.
>>>>>           
>> That .img
>>     
>>>>>        
>>>>>           
>>>> image
>>>>
>>>>      
>>>>         
>>>>> can be opened by both IMAGINE and OpenEV.
>>>>>        The NITF image
>>>>>           
>> (converted by gdal_translate) not just
>>     
>>>>>        
>>>>>           
>>>> could
>>>>
>>>>      
>>>>         
>>>>> not be opened by GE it could not be opened by
>>>>>           
>> ENVI
>>     
>>>>>        
>>>>>           
>>>> 4.1
>>>>
>>>>      
>>>>         
>>>>> either. It can be opened by OpenEV (tightly
>>>>>           
>> related to
>>     
>>>>>        
>>>>>           
>>>> gdal)
>>>>
>>>>      
>>>>         
>>>>> though. So it could be a problem in either
>>>>>        
>>>>>           
>>>> gdal_translate or
>>>>
>>>>      
>>>>         
>>>>> ENVI (I doubt though) or both.
>>>>>        Thanks.
>>>>>        Mo
>>>>>        --- On Thu,
>>>>>           
>> 4/9/09, Roger Andr? <randre@gmail.com>
>>     
>>>>>        wrote:
>>>>>        
>>>>>           
>>>>>> From: Roger Andr? <randre@gmail.com>
>>>>>>      
>>>>>>             
>>    Subject: Re: [gdal-dev] Problem in
>> importing to
>>     
>>>>>>          
>>>>>>             
>>>> Google
>>>>
>>>>      
>>>>         
>>>>> Earth a nitf image  converted from a tif
>>>>>           
>> image by
>>     
>>>>>        gdal_translate
>>>>>        
>>>>>           
>>>>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>>>>          Cc:
>>>>>>             
>> "gdal-dev@lists.osgeo.org"
>>     
>>>>>>          
>>>>>>             
>>>>> <gdal-dev@lists.osgeo.org>
>>>>>        
>>>>>           
>>>>>> Date: Thursday, April 9, 2009, 12:44 AM
>>>>>>      
>>>>>>             
>>    Granted, I haven't
>>     
>>>>>>          
>>>>>>             
>>>>> tried V 5 yet,
>>>>>        
>>>>>           
>>>>>> but your quote also states, "Google Earth
>>>>>>          
>>>>>>             
>>>> Pro or
>>>>
>>>>      
>>>>         
>>>>>> EC".  Are you using one of those
>>>>>>             
>> versions
>>     
>>>>>>          
>>>>>>             
>>>> of
>>>>
>>>>      
>>>>         
>>>>> the
>>>>>        
>>>>>           
>>>>>> client?  In any case, if the file
>>>>>>             
>> opens in
>>     
>>>>>>          
>>>>>>             
>>>> OpenEV,
>>>>
>>>>      
>>>>         
>>>>> chances
>>>>>        
>>>>>           
>>>>>> are good that the .ntf generated by gdal
>>>>>>             
>> is ok,
>>     
>>>>>>          
>>>>>>             
>>>> and
>>>>
>>>>      
>>>>         
>>>>> that
>>>>>        
>>>>>           
>>>>>> there is some sort of problem with how
>>>>>>             
>> Google
>>     
>>>>>>          
>>>>>>             
>>>> Earth
>>>>
>>>>      
>>>>         
>>>>> is
>>>>>        
>>>>>           
>>>>>> reading it.  Have you tried emailing
>>>>>>             
>> the KML
>>     
>>>>>>          
>>>>>>             
>>>> support
>>>>
>>>>      
>>>>         
>>>>> list
>>>>>        
>>>>>           
>>>>>> as well?
>>>>>>          --
>>>>>>          On
>>>>>>             
>> Wed, Apr 8, 2009 at 8:51 PM,
>>     
>>>>>>      
>>>>>>             
>>    mohwawang <mohwawang@yahoo.com>
>>     
>>>>>>      
>>>>>>             
>>    wrote:
>>     
>>>>>>      
>>>>>>             
>>    Google Earth 5.0 supports NITF see
>>     
>>>>>>          http://earth.google.com/intl/en/userguide/v5/ug_importdata.html
>>>>>>      
>>>>>>             
>>    [Importing Imagery
>>     
>>>>>>          You
>>>>>>             
>> can open GIS imagery files in Google Earth
>>     
>>>>>>          
>>>>>>             
>>>> Pro or
>>>>
>>>>      
>>>>         
>>>>> EC
>>>>>        
>>>>>           
>>>>>> and have the files correctly projected
>>>>>>             
>> over the
>>     
>>>>>>          
>>>>>>             
>>>> proper
>>>>
>>>>      
>>>>         
>>>>> map
>>>>>        
>>>>>           
>>>>>> coordinates in the 3D viewer. Google Earth
>>>>>>             
>> Pro
>>     
>>>>>>          
>>>>>>             
>>>> and EC
>>>>
>>>>      
>>>>         
>>>>>> support the following types of GIS
>>>>>>             
>> imagery:
>>     
>>>>>>          
>>>>>>             
>>    * TIFF (.tif), including GeoTiff and
>>     
>>>>>>          
>>>>>>             
>>>> compressed
>>>>
>>>>      
>>>>         
>>>>> TIFF
>>>>>        
>>>>>           
>>>>>> files
>>>>>>          
>>>>>>             
>>    * National Imagery Transmission Format
>>     
>>>>>>          
>>>>>>             
>>>> (.ntf)
>>>>
>>>>      
>>>>         
>>>>>>      * Erdas Imagine
>>>>>>             
>> Images (.img)
>>     
>>>>>>          In
>>>>>>             
>> addition, you can also import the following
>>     
>>>>>>          
>>>>>>             
>>>>> images.
>>>>>        
>>>>>           
>>>>>> Because they do not contain projection
>>>>>>          
>>>>>>             
>>>> information,
>>>>
>>>>      
>>>>         
>>>>> you must
>>>>>        
>>>>>           
>>>>>> manually edit their coordinates for
>>>>>>             
>> correct
>>     
>>>>>>          
>>>>>>             
>>>>> positioning:
>>>>>        
>>>>>           
>>>>>>      * Atlantis MFF
>>>>>>             
>> Raster (.hdr)
>>     
>>>>>>          
>>>>>>             
>>    * PCIDSK Database File (.pix)
>>     
>>>>>>          
>>>>>>             
>>    * Portable Pixmap Format (.pnm)
>>     
>>>>>>          
>>>>>>             
>>    * Device Independent Bitmap (.bmp)
>>     
>>>>>>          Note
>>>>>>             
>> - All imagery files must contain the
>>     
>>>>>>          
>>>>>>             
>>>> correct
>>>>
>>>>      
>>>>         
>>>>>> projection information in order to be
>>>>>>             
>> accurately
>>     
>>>>>>      
>>>>>>             
>>    re-projected by the Google Earth
>> software.]
>>     
>>>>>>          Mo
>>>>>>          ---
>>>>>>             
>> On Wed, 4/8/09, Roger Andr? <randre@gmail.com>
>>     
>>>>>>      
>>>>>>             
>>    wrote:
>>     
>>>>>>          
>>>>>>             
>>>>>>> From: Roger Andr? <randre@gmail.com>
>>>>>>>        
>>>>>>>               
>>    Subject: Re: [gdal-dev] Problem in
>> importing
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> to
>>>>
>>>>      
>>>>         
>>>>> Google
>>>>>        
>>>>>           
>>>>>> Earth a nitf image  converted from a
>>>>>>             
>> tif image
>>     
>>>>>>          
>>>>>>             
>>>> by
>>>>
>>>>      
>>>>         
>>>>>> gdal_translate
>>>>>>          
>>>>>>             
>>>>>>> To: "mohwawang" <mohwawang@yahoo.com>
>>>>>>>        
>>>>>>>               
>>    Cc: "gdal-dev@lists.osgeo.org"
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>>>> <gdal-dev@lists.osgeo.org>
>>>>>>          
>>>>>>             
>>>>>>> Date: Wednesday, April 8, 2009, 10:45
>>>>>>>               
>> PM
>>     
>>>>>>>        
>>>>>>>               
>>    See http://earth.google.com/userguide/v4/ug_imageoverlays.html#requirements,
>>     
>>>>>>>        
>>>>>>>               
>>    I don't believe the "NITF (rw+):
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>>> National
>>>>>        
>>>>>           
>>>>>> Imagery
>>>>>>          
>>>>>>             
>>>>>>> Transmission Format" is supported by
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> Google
>>>>
>>>>      
>>>>         
>>>>>> Earth.
>>>>>>          
>>>>>>             
>>>>>>> Roger
>>>>>>>        
>>>>>>>               
>>    --
>>     
>>>>>>>        
>>>>>>>               
>>    On Wed, Apr 8, 2009 at 3:27 PM,
>>     
>>>>>>>        
>>>>>>>               
>>    mohwawang <mohwawang@yahoo.com>
>>     
>>>>>>>        
>>>>>>>               
>>    wrote:
>>     
>>>>>>>        
>>>>>>>               
>>    Hi all,
>>     
>>>>>>>        
>>>>>>>               
>>    I'm sorry that this is the third time I
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> tried
>>>>
>>>>      
>>>>         
>>>>> to
>>>>>        
>>>>>           
>>>>>> send
>>>>>>          
>>>>>>             
>>>>>>> this message out because I myself
>>>>>>>               
>> didn't
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> get
>>>>
>>>>      
>>>>         
>>>>> the
>>>>>        
>>>>>           
>>>>>> first
>>>>>>          
>>>>>>             
>>>>>>> two through gdal-dev@lists.osgeo.org
>>>>>>>        
>>>>>>>               
>>    so I thought others might not get it
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> either.
>>>>
>>>>      
>>>>         
>>>>>>> I used gdal_translate to convert a tif
>>>>>>>               
>> image
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> to
>>>>
>>>>      
>>>>         
>>>>> a
>>>>>        
>>>>>           
>>>>>> nitf
>>>>>>          
>>>>>>             
>>>>>>> image as:
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>>>>>> gdal_translate -of nitf in.tif
>>>>>>>>                 
>> out.ntf
>>     
>>>>>>>>          
>>>>>>>>                 
>>    
>>     
>>>> -co
>>>>
>>>>      
>>>>         
>>>>>> ICORDS=G
>>>>>>          
>>>>>>             
>>>>>>> Input file size is 561, 420
>>>>>>>        
>>>>>>>               
>>    
>>     
>> 0...10...20...30...40...50...60...70...80...90...100
>>     
>>>>>        
>>>>>           
>>>>>> -
>>>>>>          
>>>>>>             
>>>>>>> done.
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>    
>>>       
>>>>>>> I can display both in.tif and out.ntf
>>>>>>>               
>> with
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>>> OpenEV. So
>>>>>        
>>>>>           
>>>>>> both
>>>>>>          
>>>>>>             
>>>>>>> in.tif and out.ntf were ok to OpenEV.
>>>>>>>        
>>>>>>>               
>>    With a simple Google Earth kml
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> file(specifying
>>>>
>>>>      
>>>>         
>>>>> the
>>>>>        
>>>>>           
>>>>>>> LanLonBox)(printed below) I could
>>>>>>>               
>> import
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> the
>>>>
>>>>      
>>>>         
>>>>> in.tif
>>>>>        
>>>>>           
>>>>>> to
>>>>>>          
>>>>>>             
>>>>>>> Google Earth viewer to the right
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> geo-location.
>>>>
>>>>      
>>>>         
>>>>> So
>>>>>        
>>>>>           
>>>>>> in.tif was
>>>>>>          
>>>>>>             
>>>>>>> ok to GE.
>>>>>>>        
>>>>>>>               
>>    However, after replacing the image file
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> name
>>>>
>>>>      
>>>>         
>>>>> from
>>>>>        
>>>>>           
>>>>>> in.tif to
>>>>>>          
>>>>>>             
>>>>>>> out.ntf in the same kml file (printed
>>>>>>>               
>> below)
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> I
>>>>
>>>>      
>>>>         
>>>>> could
>>>>>        
>>>>>           
>>>>>> not
>>>>>>          
>>>>>>             
>>>>>>> import the out.ntf to Google Earth
>>>>>>>               
>> viewer
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> (shown
>>>>
>>>>      
>>>>         
>>>>> as a
>>>>>        
>>>>>           
>>>>>> big
>>>>>>          
>>>>>>             
>>>>>>> red cross in a big red rectangle at
>>>>>>>               
>> the
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>>> geo-location
>>>>>        
>>>>>           
>>>>>> in the
>>>>>>          
>>>>>>             
>>>>>>> GE viewer). So out.ntf was not ok to
>>>>>>>               
>> GE.
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> Any
>>>>
>>>>      
>>>>         
>>>>> ideal
>>>>>        
>>>>>           
>>>>>> about
>>>>>>          
>>>>>>             
>>>>>>> what might cause the problem? Was the
>>>>>>>               
>> use
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> of
>>>>
>>>>      
>>>>         
>>>>>> gdal_translate
>>>>>>          
>>>>>>             
>>>>>>> wrong or missing some options? I tried
>>>>>>>               
>> not
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> to use
>>>>
>>>>      
>>>>         
>>>>> -co
>>>>>        
>>>>>           
>>>>>>> ICRODS=G but I got the same problem.
>>>>>>>               
>> Thank
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> you.
>>>>
>>>>      
>>>>         
>>>>>>> printed kml for in.tif:
>>>>>>>        
>>>>>>>               
>>    <?xml version="1.0"
>>     
>>>>>>>        
>>>>>>>               
>>    encoding="UTF-8"?>
>>     
>>>>>>>        
>>>>>>>               
>>    <kml xmlns="http://www.opengis.net/kml/2.2"
>>     
>>>>>>>        
>>>>>>>               
>>    xmlns:gx="http://www.google.com/kml/ext/2.2"
>>     
>>>>>>>        
>>>>>>>               
>>    xmlns:kml="http://www.opengis.net/kml/2.2"
>>     
>>>>>>>        
>>>>>>>               
>>    xmlns:atom="http://www.w3.org/2005/Atom">
>>     
>>>>>>>        
>>>>>>>               
>>    <GroundOverlay>
>>     
>>>>>>>          
>>>>>>>               
>>    <description>
>>     
>>>>>>>        
>>>>>>>               
>>    *** Meta-Data ***
>>     
>>>>>>>          
>>>>>>>               
>>      Lat = 42.808863
>>     
>>>>>>>          
>>>>>>>               
>>    </description>
>>     
>>>>>>>          
>>>>>>>               
>>      <name>in.tif</name>
>>     
>>>>>>>          
>>>>>>>               
>>      <Icon>
>>     
>>>>>>>          
>>>>>>>               
>>         <href>in.tif</href>
>>     
>>>>>>>          
>>>>>>>               
>>              
>>    
>>     
>> <viewBoundScale>0.75</viewBoundScale>
>>     
>>>>>        
>>>>>           
>>>>>>>      </Icon>
>>>>>>>          
>>>>>>>               
>>        <LatLonBox>
>>     
>>>>>>>          
>>>>>>>               
>>                
>>    
>>     
>> <north>42.8093748999134</north>
>>     
>>>>>>          
>>>>>>             
>>>>>>>          
>>>>>>>               
>>          
>>     
>> <south>42.8082925732318</south>
>>     
>>>>>>          
>>>>>>             
>>>>>>>          
>>>>>>>               
>>          
>>     
>>>>>> <east>-70.887525562763</east>
>>>>>>          
>>>>>>             
>>>>>>>          
>>>>>>>               
>>          
>>     
>> <west>-70.8894939447889</west>
>>     
>>>>>>          
>>>>>>             
>>>>>>>          
>>>>>>>               
>>          
>>     
>> <rotation>-95.909027</rotation>
>>     
>>>>>>          
>>>>>>             
>>>>>>>    
>>>>>>>               
>>    </LatLonBox>
>>     
>>>>>>>        
>>>>>>>               
>>    </GroundOverlay>
>>     
>>>>>>>        
>>>>>>>               
>>    </kml>
>>     
>>>>>>>        
>>>>>>>               
>>    printed kml for out.ntf: same as in.tif
>>     
>>>>>>>        
>>>>>>>               
>>    except:
>>     
>>>>>>>          
>>>>>>>               
>>      <name>out.ntf</name>
>>     
>>>>>>>          
>>>>>>>               
>>      <Icon>
>>     
>>>>>>>          
>>>>>>>               
>>        
>> <href>out.ntf</href>
>>     
>>>>>>>          
>>>>>>>               
>>              
>>    
>>     
>> <viewBoundScale>0.75</viewBoundScale>
>>     
>>>>>        
>>>>>           
>>>>>>>      </Icon>
>>>>>>>        
>>>>>>>               
>>    Best Regards,
>>     
>>>>>>>        
>>>>>>>               
>>    Mo Wang
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>> _______________________________________________
>>>>
>>>>      
>>>>         
>>>>>>> gdal-dev mailing list
>>>>>>>        
>>>>>>>               
>>    gdal-dev@lists.osgeo.org
>>     
>>>>>>>        
>>>>>>>               
>>    http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>     
>>>>>>>        
>>>>>>>               
>>    
>>     
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>      
>>>>         
>>>    
>>>       
>>    _______________________________________________
>>     
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>    
>>>       
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     
>
>
>       
>   

From jukka.rahkonen at mmmtike.fi  Tue Apr 14 04:13:37 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Apr 14 04:14:00 2009
Subject: [gdal-dev] Gdal with TMS minidriver for Windows
Message-ID: <loom.20090414T081008-695@post.gmane.org>

Hi,

I would like to have a try with TMS minidriver. Can anybody estimate when it
will be included in some ready made Windows package?  FWTools 1.3.0 seems to
lack it.

-Jukka Rahkonen-

From szekerest at gmail.com  Tue Apr 14 05:57:33 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Apr 14 05:57:36 2009
Subject: [gdal-dev] Gdal with TMS minidriver for Windows
In-Reply-To: <loom.20090414T081008-695@post.gmane.org>
References: <loom.20090414T081008-695@post.gmane.org>
Message-ID: <f3b73b7d0904140257ibf177b2yba826cb789bb3728@mail.gmail.com>

Hi,

My build packages are updated from the SVN daily so it should contain the
recent addition if no further build options are required to include the
driver.
http://vbkto.dyndns.org:1280/sdk/index.html

Best regards,

Tamas



2009/4/14 Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>

> Hi,
>
> I would like to have a try with TMS minidriver. Can anybody estimate when
> it
> will be included in some ready made Windows package?  FWTools 1.3.0 seems
> to
> lack it.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090414/b01f0577/attachment.html
From Jukka.Rahkonen at mmmtike.fi  Tue Apr 14 06:57:45 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Tue Apr 14 07:06:09 2009
Subject: [gdal-dev] Gdal with TMS minidriver for Windows
In-Reply-To: <f3b73b7d0904140257ibf177b2yba826cb789bb3728@mail.gmail.com>
References: <loom.20090414T081008-695@post.gmane.org>
	<f3b73b7d0904140257ibf177b2yba826cb789bb3728@mail.gmail.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86F733A2@tikka.haapa.mmm.fi>

Hi,
 
Hi Tamas,
 
Thanks a lot, MSVC2003 (Win32) -development worked for me and Windows XP
almost immediately, I just had to copy gdal_data directory from FWTools
installation first.
 
-Jukka-
 
Tamas Szekeres  wrote:
 
 Hi,
 
> My build packages are updated from the SVN daily so it should contain
the recent addition 
>  if no further build  options are required to include the driver.
> http://vbkto.dyndns.org:1280/sdk/index.html
<http://vbkto.dyndns.org:1280/sdk/index.html> 
 
>  Best regards,
 
> Tamas
 
>>  Jukka Rahkonen <jukka.rahkonen@mmmtike.fi
<mailto:jukka.rahkonen@mmmtike.fi> >
 
>> Hi,
 
>>  I would like to have a try with TMS minidriver. Can anybody estimate
when it
>> will be included in some ready made Windows package?  FWTools 1.3.0
seems to
>> lack it.
 
>> -Jukka Rahkonen-
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090414/20813d9e/attachment.html
From rec at geodesign.com.br  Tue Apr 14 08:00:26 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Tue Apr 14 07:58:14 2009
Subject: [gdal-dev] Getting MITAB format out with projection
Message-ID: <20090414115811.2C89D133817C@smtp.cluster002.whservidor.com>

Folks,

When I use the following piece of code in a program I can get the 
Shape files with the correct projection parameters in a .prj ESRI style file.

const char *pszDriverName = "ESRI Shapefile";
OGRSFDriver *poDriver;
OGRRegisterAll();
.
.
.
OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS( "EPSG:4326" );

oSRS.morphToESRI();
oSRS.exportToWkt( &pszWKT );

FILE *prj1;
prj1 = fopen("..\point_out.prj","w");
fprintf(prj1, "%s\n", pszWKT );

However, if I specify

const char *pszDriverName = "MapInfo File";
.
.
.
OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS( "EPSG:4326" );

I don't get the MapInfo files with the projection parameters.  I get 
the MapInfo files as a non-earth.

Any suggestions are welcomed to help in getting the MapInfo files 
with the correct projection information.

Thanks in advance.

Reinaldo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090414/20bc5951/attachment.html
From rec at geodesign.com.br  Tue Apr 14 08:11:04 2009
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Tue Apr 14 08:33:07 2009
Subject: [gdal-dev] Getting MITAB format out with projection
Message-ID: <20090414123304.9940118A80F3@smtp.cluster002.whservidor.com>

Folks,

When I use the following piece of code in a program I can get the 
Shape files with the correct projection parameters in a .prj ESRI style file.

const char *pszDriverName = "ESRI Shapefile";
OGRSFDriver *poDriver;
OGRRegisterAll();
.
.
.
OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS( "EPSG:4326" );

oSRS.morphToESRI();
oSRS.exportToWkt( &pszWKT );

FILE *prj1;
prj1 = fopen("..\point_out.prj","w");
fprintf(prj1, "%s\n", pszWKT );

However, if I specify

const char *pszDriverName = "MapInfo File";
.
.
.
OGRSpatialReference oSRS;
oSRS.SetWellKnownGeogCS( "EPSG:4326" );

I don't get the MapInfo files with the projection parameters.  I get 
the MapInfo files as a non-earth.

Any suggestions are welcomed to help in getting the MapInfo files 
with the correct projection information.

Thanks in advance.

Reinaldo

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090414/29652d45/attachment.html
From dmueller at trentu.ca  Tue Apr 14 15:05:57 2009
From: dmueller at trentu.ca (Derek Mueller)
Date: Tue Apr 14 15:23:35 2009
Subject: [gdal-dev] Get real and turf imaginary from complex float...
Message-ID: <49E4DE95.1090309@trentu.ca>

I am new to gdal and it looks very promising ...but I am trying to make 
a geotiff with four bands from an RSat-2 SLC image but I don't need or 
want the imaginary part of the CFloat32 for now.

So far I have been able to extract the data and warp it to my favourite 
projection.  Can gdal separate the CFloat32 and save the just real part?

gdal_translate.exe "RADARSAT_2_CALIB:SIGMA0:product.xml" out.tif
gdalwarp -s_srs wgs84.prf -t_srs aeaIS.prf -r bilinear out.tif image.tif

Thanks,
Derek
From warmerdam at pobox.com  Tue Apr 14 17:02:55 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Apr 14 17:03:18 2009
Subject: [gdal-dev] Get real and turf imaginary from complex float...
In-Reply-To: <49E4DE95.1090309@trentu.ca>
References: <49E4DE95.1090309@trentu.ca>
Message-ID: <49E4F9FF.6080201@pobox.com>

Derek Mueller wrote:
> I am new to gdal and it looks very promising ...but I am trying to make 
> a geotiff with four bands from an RSat-2 SLC image but I don't need or 
> want the imaginary part of the CFloat32 for now.
> 
> So far I have been able to extract the data and warp it to my favourite 
> projection.  Can gdal separate the CFloat32 and save the just real part?
> 
> gdal_translate.exe "RADARSAT_2_CALIB:SIGMA0:product.xml" out.tif
> gdalwarp -s_srs wgs84.prf -t_srs aeaIS.prf -r bilinear out.tif image.tif

Derek,

gdal_translate "RADARSAT_2_CALIB:SIGMA0:product.xml" -ot Float32 out.tif

should be sufficient to discard the imaginary portion.  I'm not aware of any
easy way of taking the magnitude of the data which is also often desirable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From sarah.l.harris at jpl.nasa.gov  Tue Apr 14 16:55:58 2009
From: sarah.l.harris at jpl.nasa.gov (Harris, Sarah L)
Date: Tue Apr 14 17:25:13 2009
Subject: [gdal-dev] satellite image processing in Python
Message-ID: <1A5A077478A22E41A4723F01717B8129ABD1C7CF@ALTPHYEMBEVSP30.RES.AD.JPL>

Hello,
I would like to use this code written by Yann Chemin (see Feb 2009 gdal-dev archives)
but I keep getting a memory error. Can anyone help me fix this. I have put the entire error below the code.
Thanks in advance

F=[]
F.append('e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B10.TIF')
F.append('e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B20.TIF')
F.append('e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B30.TIF')
F.append('e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B40.TIF')
F.append('e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B50.TIF')
F.append('e:\Imagery\Landsat\Landsat7\L72040036_03620071224_B70.TIF')
# For Image Processing
from math import *
import numpy
from osgeo import gdal
from osgeo import gdalnumeric
from osgeo.gdal_array import *
from osgeo.gdalconst import *
# Set our output file format driver
driver = gdal.GetDriverByName( 'GTiff' )
# Set our output files Projection parameters
# from input file number 1
tmp = gdal.Open(F[0])
geoT = tmp.GetGeoTransform()
proJ = tmp.GetProjection()
del tmp
#DN to radiance conversion factors
#(Check if they are correct for your image)
LMax = [191.6,196.5,152.9,157.4,31.060,10.8]
Lmin = [-6.2,-6.4,-5.0,-5.1,-1.0,-0.35]
#Exo-Atmospheric band-wise irradiance
KEXO = [1970.0,1843.0,1555.0,1047.0,227.1,80.53]
#Unless you use p127r049 2000/11/04, these must be changed
sun_elevation = 27.7636885
doy = 358
#Cos(sun zenith angle) / (pi * (Sun-Earth distance)^2)
constant=(cos((90-sun_elevation) * pi/180 ) / (pi * (1+0.01672 * sin
(2 * pi * (doy - 93.5) / 365)) ** 2))
#Top Of Atmosphere Reflectance
for i in range (0,6):
        tmp = gdal.Open(F[i])
        btmp = tmp.GetRasterBand(1)
        b = BandReadAsArray(btmp,0,0,tmp.RasterXSize,tmp.RasterYSize)
        result = (b * ((LMax[i]-Lmin[i])/255.0) + Lmin[i]) / (constant *
KEXO[i])
        if i != 5:
                output_filename='b'+str(i+1)+'_ref.tif'
        else:
                output_filename='b'+str(i+2)+'_ref.tif'
        #Create output file with projection
        result = OpenArray(result)
        geot=result.SetGeoTransform( geoT )
        proj=result.SetProjection( proJ )
        output=driver.CreateCopy(output_filename, result)
        #Empty memory objects
        del result, b, tmp, btmp, output, geot, proj

#NDVI
NIR = LoadFile('b4_ref.tif')
Red = LoadFile('b3_ref.tif')
ndvi = (NIR-Red)/1.0*(NIR+Red)


Traceback (most recent call last):
  File "E:\python processing\Landsat_processing.py", line 75, in <module>
    Red = LoadFile('b3_ref.tif')
  File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 73, in LoadFile
    return DatasetReadAsArray( ds, xoff, yoff, xsize, ysize )
  File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 90, in DatasetReadAsArray
    return BandReadAsArray( ds.GetRasterBand(1), xoff, yoff, xsize, ysize)
  File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 138, in BandReadAsArray
    buf_xsize, buf_ysize, datatype )
  File "C:\Python25\Lib\site-packages\osgeo\gdal.py", line 760, in ReadRaster
    return _gdal.Band_ReadRaster(*args, **kwargs)
MemoryError
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090414/b5a47b69/attachment.html
From vincent.honnet at external.thalesgroup.com  Wed Apr 15 10:46:30 2009
From: vincent.honnet at external.thalesgroup.com (Vincent Honnet)
Date: Wed Apr 15 10:48:24 2009
Subject: [gdal-dev] ogr2ogr and extents
Message-ID: <49E5F346.8000801@external.thalesgroup.com>

Hi,

I am very new in this mailing list and I hope I don't ask for something 
already posted. If so, please excuse me.
I look a bit in the archive for my problem but found nothing relevant.

I want to tile my shapefiles with fixed extents in order to raster them 
to tif files and then to do some treatments in Photoshop.
I use for that a script with ogr2ogr used with the option -spat
The problem is that some shapfiles have a only small part of the extent 
filled with data. The result is that the extent of the croped shapefile 
is a bounding box of those data and not the extent I set with -spat:
for exemple with "-spat -136 -9 -127 0" I can get a shapefiles with 
-130.5 -8.2 -130.2 -8.1

Is there any possibility to get a shapefile with the extent I gave in 
the command line ?

Thanks a lot in advance,

Vincent
From nicolas.degarne at gmail.com  Wed Apr 15 10:54:55 2009
From: nicolas.degarne at gmail.com (Nicolas DEGARNE)
Date: Wed Apr 15 10:54:57 2009
Subject: [gdal-dev] How to make my GDAL code faster?
Message-ID: <3280c5c80904150754p5f868207w981d5d91d216a1bb@mail.gmail.com>

Hello,


Just to introduce, I am a student in internship in French Guyana.I'm French
and I have not wrote in English thing's for a wile so sorry for my bad
English.

I'm a beginning in GDAL in c (for the moment) with Ubuntu

I am trying to make a program extracting target from pictures in
tif(geotiff) for example Size X: 17553 // Size Y: 15226 ..

To detect target,I used a algorithm which get the mean of a windows 5x5 and
compare the energies off the windows with the central pixel.

I wants to improve my software in order to be faster  because for the moment
it spend 200s

To run through every pixel I used the process below

        hScanBloc1   = (GByte *) CPLMalloc(sizeof(GByte)*5);
        hScanBlocOut = (GByte *) CPLMalloc(sizeof(GByte)*1);


for( iLine = 0; iLine < nYSize-5; iLine++)
>             {
>             for( iCol = 0; iCol < nXSize-5; iCol++ )
>                 {
>
>                 //Get line from the windows
>                 eErr1 = GDALRasterIO( hBand1,     GF_Read,
> iCol,      iLine  ,   5,   1, hScanBloc1,      5,1,  GDT_Byte, 1, 1);
>                 eErr2 = GDALRasterIO( hBand1,     GF_Read,        iCol,
> (iLine+1),   5,   1, hScanBloc2,      5,1,  GDT_Byte, 1, 1);
>                 eErr3 = GDALRasterIO( hBand1,     GF_Read,        iCol,
> (iLine+2),   5,   1, hScanBloc3,      5,1,  GDT_Byte, 1, 1);
>                 eErr4 = GDALRasterIO( hBand1,     GF_Read,        iCol,
> (iLine+3),   5,   1, hScanBloc4,      5,1,  GDT_Byte, 1, 1);
>                 eErr5 = GDALRasterIO( hBand1,     GF_Read,        iCol,
> (iLine+4),   5,   1, hScanBloc5,      5,1,  GDT_Byte, 1, 1);
>
>                 //Get all value in the     Windows
>                 for(iWindows=0;iWindows<5;iWindows++)
>                 {
>                     Value=Value+hScanBloc1[iWindows];
>                     Value=Value+hScanBloc2[iWindows];
>                     Value=Value+hScanBloc3[iWindows];
>                     Value=Value+hScanBloc4[iWindows];
>                     Value=Value+hScanBloc5[iWindows];
>                 }
>



>                                         hScanBlocOut[0]=FinalValue;
>                                         eErr = GDALRasterIO( hBandOut1,
> GF_Write,iCol,iLine ,1,1 , hScanBlocOut,   1,1,  GDT_Byte, 1, 1);
>
>
>
>                                       CPLErr eErr;
>                                       eErr = GDALRasterIO( hBandOut1,
> GF_Write,iCol,iLine ,1,1 , hScanBlocOut,   1,1,  GDT_Byte, 1, 1);
>


I read on help and *gdal.h* File Reference that it could exist faster way so
I have some ideas like :
             Merging the code to c++
             Using Read/Write block
             Use Tile/Block to accelerate the process
             Use the Warpprocess to calulate windows mean's faster

I hope you understand my request and it was clear

Thanks for advance

Best Regards

Nicolas

-- 
Nicolas Degarne
76 rue de Nancy
94170 Le Perreux
06 84 93 80 94
nicolas.degarne@gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090415/400b93e4/attachment-0001.html
From warmerdam at pobox.com  Wed Apr 15 10:59:03 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr 15 10:59:31 2009
Subject: [gdal-dev] ogr2ogr and extents
In-Reply-To: <49E5F346.8000801@external.thalesgroup.com>
References: <49E5F346.8000801@external.thalesgroup.com>
Message-ID: <49E5F637.6020309@pobox.com>

Vincent Honnet wrote:
> Hi,
> 
> I am very new in this mailing list and I hope I don't ask for something 
> already posted. If so, please excuse me.
> I look a bit in the archive for my problem but found nothing relevant.
> 
> I want to tile my shapefiles with fixed extents in order to raster them 
> to tif files and then to do some treatments in Photoshop.
> I use for that a script with ogr2ogr used with the option -spat
> The problem is that some shapfiles have a only small part of the extent 
> filled with data. The result is that the extent of the croped shapefile 
> is a bounding box of those data and not the extent I set with -spat:
> for exemple with "-spat -136 -9 -127 0" I can get a shapefiles with 
> -130.5 -8.2 -130.2 -8.1
> 
> Is there any possibility to get a shapefile with the extent I gave in 
> the command line ?

Vincent,

The OGR shape driver does not currently support setting the extent value
in the shapefile header except as an aggregate of the features that get
written.  If this is particularly important to you, you should be able
to write a small C program to reset the extents in the headers.

Alternatively you could write a feature to each tile that is essentially
the founding rectangle of the extents you want, and then afterwards delete
this feature though there might be some negative side effects to this that
I can't immediately forsee.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed Apr 15 11:03:40 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr 15 11:04:03 2009
Subject: [gdal-dev] How to make my GDAL code faster?
In-Reply-To: <3280c5c80904150754p5f868207w981d5d91d216a1bb@mail.gmail.com>
References: <3280c5c80904150754p5f868207w981d5d91d216a1bb@mail.gmail.com>
Message-ID: <49E5F74C.2050902@pobox.com>

Nicolas DEGARNE wrote:
> I read on help and /gdal.h/ File Reference that it could exist faster 
> way so I have some ideas like :       
>              Merging the code to c++
>              Using Read/Write block
>              Use Tile/Block to accelerate the process
>              Use the Warpprocess to calulate windows mean's faster
> 
> I hope you understand my request and it was clear
>         

Nicolas,

My advice would be to read an entire 5 line swath into a buffer, and
then operate within that buffer.  Very small read/write operations
are pretty expensive with GDAL and your approach of reading five pixels
off one line as a single request is very very fine grained.

Switching to C++ will not help noticably (just reducing one level of
function call overhead, and a bit of extra checking the C API provides).

At this point there is little value in going to exact TIFF tiles or using
the block API.

The Warp API is also going to be very high overhead to compute means.

Once you overhaul things to operate on substantial swaths of data, there
may also be some other opportunities for optimizing within your algorithm
(rolling means, for instance) but first solve the big IO overhead bottleneck.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From nicolas.degarne at gmail.com  Wed Apr 15 15:27:24 2009
From: nicolas.degarne at gmail.com (Nicolas DEGARNE)
Date: Wed Apr 15 15:27:27 2009
Subject: [gdal-dev] How to make my GDAL code faster?
In-Reply-To: <49E5F74C.2050902@pobox.com>
References: <3280c5c80904150754p5f868207w981d5d91d216a1bb@mail.gmail.com>
	<49E5F74C.2050902@pobox.com>
Message-ID: <3280c5c80904151227j72097d34qf19c3ae413d30fd6@mail.gmail.com>

Hy,

Thanks for your help Frank,it's allowed me to improve my program from 200s
to 14s that's show a great progress.

I didn't understand what is "rolling mean" could you please explain me?

An other question, is it possible to make multithread process?

thanks a lot for your help

Best regards,

Nicolas







Once you overhaul things to operate on substantial swaths of data, there
may also be some other opportunities for optimizing within your algorithm
(rolling means, for instance) but first solve the big IO overhead
bottleneck.





2009/4/15 Frank Warmerdam <warmerdam@pobox.com>

> Nicolas DEGARNE wrote:
>
>> I read on help and /gdal.h/ File Reference that it could exist faster way
>> so I have some ideas like :                   Merging the code to c++
>>             Using Read/Write block
>>             Use Tile/Block to accelerate the process
>>             Use the Warpprocess to calulate windows mean's faster
>>
>> I hope you understand my request and it was clear
>>
>>
>
> Nicolas,
>
> My advice would be to read an entire 5 line swath into a buffer, and
> then operate within that buffer.  Very small read/write operations
> are pretty expensive with GDAL and your approach of reading five pixels
> off one line as a single request is very very fine grained.
>
> Switching to C++ will not help noticably (just reducing one level of
> function call overhead, and a bit of extra checking the C API provides).
>
> At this point there is little value in going to exact TIFF tiles or using
> the block API.
>
> The Warp API is also going to be very high overhead to compute means.
>
> Once you overhaul things to operate on substantial swaths of data, there
> may also be some other opportunities for optimizing within your algorithm
> (rolling means, for instance) but first solve the big IO overhead
> bottleneck.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>


-- 
Nicolas Degarne
76 rue de Nancy
94170 Le Perreux
06 84 93 80 94
nicolas.degarne@gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090415/13a887d0/attachment.html
From dmorissette at mapgears.com  Wed Apr 15 16:34:35 2009
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Apr 15 16:34:38 2009
Subject: [gdal-dev] New OGR_GEOM_AREA special field
Message-ID: <49E644DB.407@mapgears.com>

Hi GDAL Dev's,

I'd like to use a OGR SQL statement to filter features from a shapefile 
based on their area. e.g. keep only the large lakes in a water layer for 
instance.

A simple way to allow this would be to add a new OGR_GEOM_AREA special 
field on OGRFeatures that calls the OGRSurface::getArea() method and 
would be handled similar to the OGR_GEOM_WKT and other special fields in 
OGRFeature::GetFieldAsString?().

Another option could be to add operators on geometries in the SQL parser 
but that could be a bit more involved (e.g. "select ST_Area(geom) from 
...").

I have created a ticket about this which includes a patch for the new 
OGR_GEOM_AREA special field:

http://trac.osgeo.org/gdal/ticket/2949

What would you think of adding this to the SVN trunk? Or can anyone 
provide hints on the way to implement operators on geometries since that 
would clearly be a better solution but I'm not clear on the best way to 
add this to the OGR SQL engine.

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From randre at gmail.com  Wed Apr 15 19:25:19 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Apr 15 19:25:21 2009
Subject: [gdal-dev] Recommendation for what vector format to use?
Message-ID: <9c2015090904151625v3cfc342bwf9e8888a1b7fdcf4@mail.gmail.com>

Hi All,

I'm about to implement a new workflow that uses gdal_rasterize and it dawned
on me that A) I wasn't limited to using shapefiles, and B) that it would be
a heck of alot more convenient to use a binary data format that stored all
the information in a single file.

Is there such a thing?  Do you all have any recomendations for what a good
interchange format is?

Thanks,

Roger
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090415/965e95b2/attachment.html
From jukka.rahkonen at mmmtike.fi  Thu Apr 16 03:05:05 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu Apr 16 03:05:27 2009
Subject: [gdal-dev] Gdal2tiles generated Openlayers.html
Message-ID: <loom.20090416T065124-961@post.gmane.org>

Hi,

I had a try with gdal2tiles and split an image with it. It worked fine, as well
as the automatically created Googlemaps application.  However, the also
automatically created OpenLayers.html does not show the tiles for me when opened
with browser. Is it supposet to work in a similar way than the googlemaps.html 
 or should I be doing some extra steps, like reading the openlayers.html through
web server and not directly from local file?

-Jukka Rahkonen-

From bea at ixsea.com  Thu Apr 16 04:24:08 2009
From: bea at ixsea.com (=?iso-8859-1?Q?Beno=EEt_Andrieu?=)
Date: Thu Apr 16 04:24:13 2009
Subject: [gdal-dev] How to make my GDAL code faster?
In-Reply-To: <3280c5c80904151227j72097d34qf19c3ae413d30fd6@mail.gmail.com>
References: <3280c5c80904150754p5f868207w981d5d91d216a1bb@mail.gmail.com><49E5F74C.2050902@pobox.com>
	<3280c5c80904151227j72097d34qf19c3ae413d30fd6@mail.gmail.com>
Message-ID: <C644D01D539C4B60B9FC9D8A20AC2F1D@ixsea.local>

Hi Nicolas !

I would be interested to know what you finally did ! ^^

By "rolling mean", I think he suggests to not make all the computations for every window of 5x5 pixels.
If your mean uses a simple computation (average for example), you don't need to sum all the values for every window ; you can keep the previous results to make your computation.

About the multithreading, I don't use it in my code for the GDAL part (reading writing protected by mutexes) but I use it for the processing part.

Regards and bonne chance ! ^^

Beno?t Andrieu
bea@ixsea.com
benoit.andrieu@gmail.com
  ----- Original Message ----- 
  From: Nicolas DEGARNE 
  To: Frank Warmerdam ; gdal-dev@lists.osgeo.org 
  Sent: Wednesday, April 15, 2009 9:27 PM
  Subject: Re: [gdal-dev] How to make my GDAL code faster?


  Hy,

  Thanks for your help Frank,it's allowed me to improve my program from 200s to 14s that's show a great progress.

  I didn't understand what is "rolling mean" could you please explain me?

  An other question, is it possible to make multithread process?

  thanks a lot for your help

  Best regards,

  Nicolas







  Once you overhaul things to operate on substantial swaths of data, there
  may also be some other opportunities for optimizing within your algorithm
  (rolling means, for instance) but first solve the big IO overhead bottleneck.






  2009/4/15 Frank Warmerdam <warmerdam@pobox.com>

    Nicolas DEGARNE wrote:

      I read on help and /gdal.h/ File Reference that it could exist faster way so I have some ideas like :                   Merging the code to c++
                  Using Read/Write block
                  Use Tile/Block to accelerate the process
                  Use the Warpprocess to calulate windows mean's faster

      I hope you understand my request and it was clear
             



    Nicolas,

    My advice would be to read an entire 5 line swath into a buffer, and
    then operate within that buffer.  Very small read/write operations
    are pretty expensive with GDAL and your approach of reading five pixels
    off one line as a single request is very very fine grained.

    Switching to C++ will not help noticably (just reducing one level of
    function call overhead, and a bit of extra checking the C API provides).

    At this point there is little value in going to exact TIFF tiles or using
    the block API.

    The Warp API is also going to be very high overhead to compute means.

    Once you overhaul things to operate on substantial swaths of data, there
    may also be some other opportunities for optimizing within your algorithm
    (rolling means, for instance) but first solve the big IO overhead bottleneck.

    Best regards,
    -- 
    ---------------------------------------+--------------------------------------
    I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
    light and sound - activate the windows | http://pobox.com/~warmerdam
    and watch the world go round - Rush    | Geospatial Programmer for Rent





  -- 
  Nicolas Degarne
  76 rue de Nancy
  94170 Le Perreux
  06 84 93 80 94
  nicolas.degarne@gmail.com




------------------------------------------------------------------------------


  _______________________________________________
  gdal-dev mailing list
  gdal-dev@lists.osgeo.org
  http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090416/ce1eaafc/attachment.html
From P.Halls at york.ac.uk  Thu Apr 16 08:48:37 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu Apr 16 09:20:35 2009
Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on Solaris 10 /
 Sparc (1.5.x work)
Message-ID: <49E72925.7030904@york.ac.uk>

Dear All,

    I'm sure that I've done something wrong, but cannot see it!  I've pulled 
GDAL 1.6.0 and ran the same configure command as for 1.5.x, seeking to include 
xerces  (for GML).  Configure failed to find the xerces libraries with both gcc 
3.3 and the Sun compilers; I also had to drop Jasper, as I do not currently have 
this.  I got round the xerces problem for the Sun compilers (but get a new set 
of errors from gcc) by editing configure to add a reference to the XMLUni header 
file, as follows:

#include <xercesc/util/XercesDefs.hpp>
#include <xercesc/util/XMLUni.hpp>
#include <xercesc/util/PlatformUtils.hpp>

However, GDAL then fails to build, with multiple link errors of the same form as 
originally generated by configure:

Undefined                       first referenced
  symbol                             in file
int xercesc_2_7::XMLString::compareString(const unsigned short*const,const 
unsigned short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
unsigned short*xercesc_2_7::XMLString::replicate(const unsigned short*const) 
/usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
xercesc_2_7::XMLFormatter&xercesc_2_7::XMLFormatter::operator<<(const unsigned 
short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
void xercesc_2_7::XMLString::catString(unsigned short*const,const unsigned 
short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
xercesc_2_7::LocalFileFormatTarget::LocalFileFormatTarget(const 
char*const,xercesc_2_7::MemoryManager*const) 
/usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o

Checking the sources, the header file requests appear to be in order, so it 
would appear that I have some other problem that is masked by my edit to configure.

My current configure statement is

./configure 'CC=cc' 'CCC=CC' 
'--with-oci-include=/usr/appl/oracle/solaris/solaris32/instantclient10_1/sdk/include' 
'--with-oci-lib=/usr/appl/oracle/solaris/solaris32/instantclient10_1/lib' 
'--prefix=/usr/appl/bin/solaris/sparc' '--with-pcraster=internal' 
'--with-png=internal' '--with-libtiff=internal' '--with-geotiff=internal' 
'--with-jpeg=internal' '--with-xerces' 
'--with-xerces-inc=/usr/appl/bin/solaris/sparc/include/' 
'--with-xerces-lib=/usr/appl/bin/solaris/sparc/lib/libxerces-c.so.27' 
'--without-python' '--without-jasper'

Note that I have had to specify the libxerces-c.so.27, rather than just 
libxerces-c.so as I did at GDAL 1.5.x - they are the same version.

I can provide compilation logs, etc., should these be needed to identify where 
I've gone wrong.

Thanks and best wishes,

Peter

--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From puppingeo at gmail.com  Thu Apr 16 10:55:39 2009
From: puppingeo at gmail.com (Marco Puppin)
Date: Thu Apr 16 10:55:42 2009
Subject: [gdal-dev] export mdb in shp
Message-ID: <fbd291980904160755y5ce8e679y8c98fc810b6bb1da@mail.gmail.com>

Hi everyone,

i am in winz and i opened an mdb with ogrinfo, i am wondering if there's a
command to export all its shapes with just a command line. I checked the
http://www.gdal.org/ogr2ogr.html but i cannot understand much, sorry i am
still newbie.
I already export them one by one with OpenEV (they are 25, not so
impressive), but one layer come out without any information (1kb), and most
of all i'll like to know if the next time i could save some time.
Please if someone can also write me the command to convert the database in
another format (for example "GML"), i know i am very bad....

Thanks in advance,
Al? al?,

marco

-- 
Puppin Marco (Dott. in Geologia)
Via Silos 2
30027 San Don? di Piave
Venezia
Tel: 0421 564842
Cell: 346 5799566
E-mail:puppingeo@gmail.com <E-mail%3Apuppingeo@gmail.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090416/256775ce/attachment.html
From amanda.m.henneke at boeing.com  Thu Apr 16 11:06:45 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Thu Apr 16 11:29:28 2009
Subject: [gdal-dev] Geometry.Intersects and .Intersection
Message-ID: <A4A1B61586638F4C90EBCAC780B0617408840AC7@XCH-MW-2V2.mw.nos.boeing.com>

Hello everyone-

Has anyone played with Geometry.Intersects or Geometry.Intersection?  

I have an instance where the Geometry.Intersects method returns true on
two LinearRings, but then when I do the Intersection, it's returning
nothing (null).  I'm not sure why this would be.  I found a few things
on the web about the versions of FWTools.  I am using 1.3.5 with the C#
API for GDAL/OGR.

Any help/advice would be appreciated.  I've included a code snippet:

                     bool bIntersects = geoRing.Intersect(geoOldRing);

                     if (iPt > 0 && bIntersects)
                     {
                        Geometry geoRingDiff =
geoRing.Intersection(geoOldRing);
                        if (geoRingDiff != null)
                        {
                           wkbGeometryType gType =
geoRingDiff.GetGeometryType();
                           string text = "";
                           geoRingDiff.ExportToWkt(out text);
                           Console.WriteLine(text);
                           geoRingDiff.CloseRings();
                           geoRingNew = geoRing.Difference(geoRingDiff);
                           geoOldRing = geoRingNew.Clone();

                           // Add the ring to the polygon layer
                           geoPolygon.AddGeometry(geoRingNew);
                        }
                     }
   

Thanks,
Amanda

From warmerdam at pobox.com  Thu Apr 16 12:26:22 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr 16 12:26:42 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
Message-ID: <49E75C2E.9050108@pobox.com>

Motion: Grant Norman Barker GDAL/OGR commit access.

Norman has been involved with GDAL for several years, and is currently working
on a JPIP client prototype with progressive display support, and the associated
RFC (http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support).  I would
like him to have commit access so he can provide the prototype through the
GDAL /sandbox, and eventually provide on going support for it when it moves
into the mainline.

Norman will reply to the list indicating his agreement to RFC 3:

   http://trac.osgeo.org/gdal/wiki/rfc3_commiters

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pcorti at gmail.com  Thu Apr 16 12:27:19 2009
From: pcorti at gmail.com (Paolo Corti)
Date: Thu Apr 16 12:27:21 2009
Subject: [gdal-dev] Re: export mdb in shp
Message-ID: <dcb1683c0904160927t7d85d8e0sa17118817a90a3fc@mail.gmail.com>

> i am in winz and i opened an mdb with ogrinfo, i am wondering if there's a
> command to export all its shapes with just a command line. I checked the
> http://www.gdal.org/ogr2ogr.html but i cannot understand much, sorry i am
> still newbie.

Hi
you just need to use the ogr2ogr command, reference is here:
http://www.gdal.org/ogr2ogr.html

This is possible for exporting Geodatabase features to shapefile
features, while it is not possible the opposite (ogr2ogr supports
Geodatabase only for reading)

you are in windows so i think you will automatically find Geodatabase
as a supported file output in ogr2ogr (not like me, i am on linux)
If you would be in linux you would need to install and use unixODBC
driver as discussed here:
http://www.gdal.org/ogr/drv_pgeo.html

best regards
Paolo
From nbarker at ittvis.com  Thu Apr 16 12:36:24 2009
From: nbarker at ittvis.com (Norman Barker)
Date: Thu Apr 16 12:36:53 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
In-Reply-To: <49E75C2E.9050108@pobox.com>
References: <49E75C2E.9050108@pobox.com>
Message-ID: <B1B624F7C110834B96594065A74F3A540D0164BF@gemini.rsinc.com>

I agree with RFC 3 and have also cleared this (JPIP client driver) with
ITT VIS management.

Norman

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Thursday, April 16, 2009 10:26 AM
To: gdal-dev
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access

Motion: Grant Norman Barker GDAL/OGR commit access.

Norman has been involved with GDAL for several years, and is currently
working
on a JPIP client prototype with progressive display support, and the
associated
RFC (http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support).  I
would
like him to have commit access so he can provide the prototype through
the
GDAL /sandbox, and eventually provide on going support for it when it
moves
into the mainline.

Norman will reply to the list indicating his agreement to RFC 3:

   http://trac.osgeo.org/gdal/wiki/rfc3_commiters

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Peter.Rushforth at NRCan-RNCan.gc.ca  Thu Apr 16 12:55:53 2009
From: Peter.Rushforth at NRCan-RNCan.gc.ca (Rushforth, Peter)
Date: Thu Apr 16 12:55:55 2009
Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on Solaris 10
	/ Sparc (1.5.x work)
In-Reply-To: <49E72925.7030904@york.ac.uk>
References: <49E72925.7030904@york.ac.uk>
Message-ID: <E3942D3EB127854BBBC18511759DD003017C758F@S0-OTT-X2.nrn.nrcan.gc.ca>


 Peter,

Is it possible that what's in /usr/appl/bin/solaris/sparc/include/
is xerces 2.8 or other version?

Looks like a version issue to me, going by memory.

Peter 

> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org 
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peter J Halls
> Sent: April 16, 2009 8:49 AM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 
> on Solaris 10 / Sparc (1.5.x work)
> 
> Dear All,
> 
>     I'm sure that I've done something wrong, but cannot see 
> it!  I've pulled GDAL 1.6.0 and ran the same configure 
> command as for 1.5.x, seeking to include xerces  (for GML).  
> Configure failed to find the xerces libraries with both gcc
> 3.3 and the Sun compilers; I also had to drop Jasper, as I do 
> not currently have this.  I got round the xerces problem for 
> the Sun compilers (but get a new set of errors from gcc) by 
> editing configure to add a reference to the XMLUni header 
> file, as follows:
> 
> #include <xercesc/util/XercesDefs.hpp>
> #include <xercesc/util/XMLUni.hpp>
> #include <xercesc/util/PlatformUtils.hpp>
> 
> However, GDAL then fails to build, with multiple link errors 
> of the same form as originally generated by configure:
> 
> Undefined                       first referenced
>   symbol                             in file
> int xercesc_2_7::XMLString::compareString(const unsigned 
> short*const,const unsigned short*const) 
> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
> unsigned short*xercesc_2_7::XMLString::replicate(const 
> unsigned short*const) 
> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
> xercesc_2_7::XMLFormatter&xercesc_2_7::XMLFormatter::operator<
<(const unsigned
> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
> void xercesc_2_7::XMLString::catString(unsigned 
> short*const,const unsigned
> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
> xercesc_2_7::LocalFileFormatTarget::LocalFileFormatTarget(const
> char*const,xercesc_2_7::MemoryManager*const)
> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
> 
> Checking the sources, the header file requests appear to be 
> in order, so it would appear that I have some other problem 
> that is masked by my edit to configure.
> 
> My current configure statement is
> 
> ./configure 'CC=cc' 'CCC=CC' 
> '--with-oci-include=/usr/appl/oracle/solaris/solaris32/instant
client10_1/sdk/include' 
> '--with-oci-lib=/usr/appl/oracle/solaris/solaris32/instantclie
nt10_1/lib' 
> '--prefix=/usr/appl/bin/solaris/sparc' '--with-pcraster=internal' 
> '--with-png=internal' '--with-libtiff=internal' 
> '--with-geotiff=internal' 
> '--with-jpeg=internal' '--with-xerces' 
> '--with-xerces-inc=/usr/appl/bin/solaris/sparc/include/' 
> '--with-xerces-lib=/usr/appl/bin/solaris/sparc/lib/libxerces-c.so.27' 
> '--without-python' '--without-jasper'
> 
> Note that I have had to specify the libxerces-c.so.27, rather 
> than just libxerces-c.so as I did at GDAL 1.5.x - they are 
> the same version.
> 
> I can provide compilation logs, etc., should these be needed 
> to identify where I've gone wrong.
> 
> Thanks and best wishes,
> 
> Peter
> 
> --------------------------------------------------------------
> ------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806     Fax: 01904 433740
> Snail mail: Computing Service, University of York, 
> Heslington, York YO10 5DD This message has the status of a 
> private and personal communication
> --------------------------------------------------------------
> ------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From mateusz at loskot.net  Thu Apr 16 13:02:32 2009
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu Apr 16 13:02:18 2009
Subject: [gdal-dev] Geometry.Intersects and .Intersection
In-Reply-To: <A4A1B61586638F4C90EBCAC780B0617408840AC7@XCH-MW-2V2.mw.nos.boeing.com>
References: <A4A1B61586638F4C90EBCAC780B0617408840AC7@XCH-MW-2V2.mw.nos.boeing.com>
Message-ID: <49E764A8.1040201@loskot.net>

Henneke, Amanda M wrote:
> Hello everyone-
> 
> Has anyone played with Geometry.Intersects or Geometry.Intersection?  
> 
> I have an instance where the Geometry.Intersects method returns true on
> two LinearRings, but then when I do the Intersection, it's returning
> nothing (null).  I'm not sure why this would be.

It's almost impossible to judge if you won't show WKT of your geometries.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From didier.richard at ign.fr  Thu Apr 16 13:06:29 2009
From: didier.richard at ign.fr (RICHARD Didier)
Date: Thu Apr 16 13:20:37 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
In-Reply-To: <49E75C2E.9050108@pobox.com>
References: <49E75C2E.9050108@pobox.com>
Message-ID: <33642.87.231.96.39.1239901589.squirrel@webmail.ign.fr>


> Motion: Grant Norman Barker GDAL/OGR commit access.
>
> Norman has been involved with GDAL for several years, and is currently
> working
> on a JPIP client prototype with progressive display support, and the
> associated
> RFC (http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support).  I
> would
> like him to have commit access so he can provide the prototype through the
> GDAL /sandbox, and eventually provide on going support for it when it
> moves
> into the mainline.
>

+1

didier

> Norman will reply to the list indicating his agreement to RFC 3:
>
>    http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
RICHARD Didier - Chef du p?le technique du G?oportail
2/4, avenue Pasteur - 94165 Saint Mand? Cedex
T?l : +33 (0) 1 43 98 83 23
From even.rouault at mines-paris.org  Thu Apr 16 13:39:59 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Apr 16 13:40:09 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
In-Reply-To: <49E75C2E.9050108@pobox.com>
References: <49E75C2E.9050108@pobox.com>
Message-ID: <200904161939.59669.even.rouault@mines-paris.org>

+1

Le Thursday 16 April 2009 18:26:22 Frank Warmerdam, vous avez ?crit?:
> Motion: Grant Norman Barker GDAL/OGR commit access.
>
> Norman has been involved with GDAL for several years, and is currently
> working on a JPIP client prototype with progressive display support, and
> the associated RFC
> (http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support).  I would
> like him to have commit access so he can provide the prototype through the
> GDAL /sandbox, and eventually provide on going support for it when it moves
> into the mainline.
>
> Norman will reply to the list indicating his agreement to RFC 3:
>
>    http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,


From hobu.inc at gmail.com  Thu Apr 16 13:42:01 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Apr 16 13:42:06 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
In-Reply-To: <200904161939.59669.even.rouault@mines-paris.org>
References: <49E75C2E.9050108@pobox.com>
	<200904161939.59669.even.rouault@mines-paris.org>
Message-ID: <2C162ED1-6187-4958-B7BE-CFF4D43AAE66@gmail.com>

+1

On Apr 16, 2009, at 12:39 PM, Even Rouault wrote:

> +1
>
> Le Thursday 16 April 2009 18:26:22 Frank Warmerdam, vous avez ?crit :
>> Motion: Grant Norman Barker GDAL/OGR commit access.
>>
>> Norman has been involved with GDAL for several years, and is  
>> currently
>> working on a JPIP client prototype with progressive display  
>> support, and
>> the associated RFC
>> (http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support).   
>> I would
>> like him to have commit access so he can provide the prototype  
>> through the
>> GDAL /sandbox, and eventually provide on going support for it when  
>> it moves
>> into the mainline.
>>
>> Norman will reply to the list indicating his agreement to RFC 3:
>>
>>   http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>>
>> Best regards,
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From dmorissette at mapgears.com  Thu Apr 16 15:30:14 2009
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu Apr 16 15:30:17 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
In-Reply-To: <49E75C2E.9050108@pobox.com>
References: <49E75C2E.9050108@pobox.com>
Message-ID: <49E78746.2060000@mapgears.com>

Frank Warmerdam wrote:
> Motion: Grant Norman Barker GDAL/OGR commit access.
> 

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From alobolistas at gmail.com  Thu Apr 16 15:30:48 2009
From: alobolistas at gmail.com (Agustin Lobo)
Date: Thu Apr 16 15:30:52 2009
Subject: [gdal-dev] RAW formats in gdal?
Message-ID: <49E78768.7050707@gmail.com>

Are there plans to include some RAW formats from digital cameras
in gdal?

At least the one of these RAW formats, the one from foveon Sigma cameras
(x3f)) seems fully documented:
http://www.figuiere.net/hub/blog/?2005/04/29/167-disclosed-raw-format-sigmafoveon
http://www.photofo.com/x3f-raw-format/

Do you know if there is any way to transform this format into tif under
linux?

Thanks

Agus

-------------- next part --------------
A non-text attachment was scrubbed...
Name: alobolistas.vcf
Type: text/x-vcard
Size: 251 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090416/c8ce782a/alobolistas-0001.vcf
From warmerdam at pobox.com  Thu Apr 16 15:36:09 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Apr 16 15:36:27 2009
Subject: [gdal-dev] RAW formats in gdal?
In-Reply-To: <49E78768.7050707@gmail.com>
References: <49E78768.7050707@gmail.com>
Message-ID: <49E788A9.60004@pobox.com>

Agustin Lobo wrote:
> Are there plans to include some RAW formats from digital cameras
> in gdal?
> 
> At least the one of these RAW formats, the one from foveon Sigma cameras
> (x3f)) seems fully documented:
> http://www.figuiere.net/hub/blog/?2005/04/29/167-disclosed-raw-format-sigmafoveon 
> 
> http://www.photofo.com/x3f-raw-format/

Agus,

I have no plans in this regard.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From szekerest at gmail.com  Thu Apr 16 15:40:41 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Apr 16 15:40:44 2009
Subject: [gdal-dev] Motion: Grant Norman Barker Commit Access
In-Reply-To: <49E75C2E.9050108@pobox.com>
References: <49E75C2E.9050108@pobox.com>
Message-ID: <f3b73b7d0904161240l8f86515o7106f04a1ad777b3@mail.gmail.com>

+1

Tamas



2009/4/16 Frank Warmerdam <warmerdam@pobox.com>

> Motion: Grant Norman Barker GDAL/OGR commit access.
>
> Norman has been involved with GDAL for several years, and is currently
> working
> on a JPIP client prototype with progressive display support, and the
> associated
> RFC (http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support).  I
> would
> like him to have commit access so he can provide the prototype through the
> GDAL /sandbox, and eventually provide on going support for it when it moves
> into the mainline.
>
> Norman will reply to the list indicating his agreement to RFC 3:
>
>  http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090416/7164f281/attachment.html
From ckarney at Sarnoff.com  Thu Apr 16 16:56:27 2009
From: ckarney at Sarnoff.com (Karney, Charles)
Date: Thu Apr 16 16:58:58 2009
Subject: [gdal-dev] RAW formats in gdal?
In-Reply-To: <49E78768.7050707@gmail.com>
References: <49E78768.7050707@gmail.com>
Message-ID: <91F640D26AB8E54982706321A514CA2652B10F6CE9@MALIBU.sarnoff.internal>

> From: Agustin Lobo [alobolistas@gmail.com]
> Sent: Thursday, April 16, 2009 15:30
> To: gdal-dev@lists.osgeo.org

> Are there plans to include some RAW formats from digital cameras
> in gdal?

> At least the one of these RAW formats, the one from foveon Sigma cameras
> (x3f)) seems fully documented:
> http://www.figuiere.net/hub/blog/?2005/04/29/167-disclosed-raw-format-sigmafoveon
> http://www.photofo.com/x3f-raw-format/

> Do you know if there is any way to transform this format into tif under
> linux?

I don't know about these specific cameras.  However, I've used dcraw
successfully with other RAW camera images.  It works with Linux and
Windows.  See

http://www.cybercom.net/~dcoffin/dcraw/

--
Charles Karney <ckarney@sarnoff.com>
Sarnoff Corporation, Princeton, NJ 08543-5300

Tel: +1 609 734 2312
Fax: +1 609 734 2662
From pascal.darre at laposte.net  Thu Apr 16 17:34:44 2009
From: pascal.darre at laposte.net (darrepac)
Date: Thu Apr 16 17:34:49 2009
Subject: [Gdal-dev] rgb2pct is creating grey image
Message-ID: <1239917684830-2643666.post@n2.nabble.com>


Hello,

I was willing to transform a 24bits RGB Geotiff into a 8bits palette and so found that RGB2PCT was the tool to use. Unfortunately, it creates me a grey image with 2 colors in the palette...I have tried with the options -n 256 but I got the same result. Any clue?

thanks
Pascal
-- 
View this message in context: http://n2.nabble.com/rgb2pct-is-creating-grey-image-tp2643666p2643666.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From pascal.darre at laposte.net  Thu Apr 16 17:36:13 2009
From: pascal.darre at laposte.net (darrepac)
Date: Thu Apr 16 17:36:15 2009
Subject: [Gdal-dev] rgb2pct is creating grey image
In-Reply-To: <1239917684830-2643666.post@n2.nabble.com>
References: <1239917684830-2643666.post@n2.nabble.com>
Message-ID: <1239917773690-2643674.post@n2.nabble.com>


Forgot to mention, in case it has an effet, that my Tiff are BIGTIFF


Hello,

I was willing to transform a 24bits RGB Geotiff into a 8bits palette and so found that RGB2PCT was the tool to use. Unfortunately, it creates me a grey image with 2 colors in the palette...I have tried with the options -n 256 but I got the same result. Any clue?

thanks
Pascal


-- 
View this message in context: http://n2.nabble.com/rgb2pct-is-creating-grey-image-tp2643666p2643674.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From pascal.darre at laposte.net  Thu Apr 16 17:42:51 2009
From: pascal.darre at laposte.net (darrepac)
Date: Thu Apr 16 17:42:52 2009
Subject: [Gdal-dev] Problem resampling with gdal_warp
Message-ID: <1239918171062-2643694.post@n2.nabble.com>


HEllo,

I have a 45GB BIGTIFF file at 1m/pixel
With gdal_warp I am trying to resample it to 2m/pixel.
The process start but block at 0%.
I have changed the lanczos resampling algo to cubic in order to go faster but the status, after more than 2 days of processing is still 0% and the output file is already at 46GB but no more progressing

Any clue of what I am doing wrong or if the input file is too big?

thanks
Pascal
-- 
View this message in context: http://n2.nabble.com/Problem-resampling-with-gdal_warp-tp2643694p2643694.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From dmorissette at mapgears.com  Thu Apr 16 17:53:37 2009
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu Apr 16 17:53:45 2009
Subject: [gdal-dev] New OGR_GEOM_AREA special field
In-Reply-To: <49E644DB.407@mapgears.com>
References: <49E644DB.407@mapgears.com>
Message-ID: <49E7A8E1.60108@mapgears.com>

No comments? I'll go ahead and commit support for the new OGR_GEOM_AREA 
special field to trunk tomorrow then...

Daniel


Daniel Morissette wrote:
> Hi GDAL Dev's,
> 
> I'd like to use a OGR SQL statement to filter features from a shapefile 
> based on their area. e.g. keep only the large lakes in a water layer for 
> instance.
> 
> A simple way to allow this would be to add a new OGR_GEOM_AREA special 
> field on OGRFeatures that calls the OGRSurface::getArea() method and 
> would be handled similar to the OGR_GEOM_WKT and other special fields in 
> OGRFeature::GetFieldAsString?().
> 
> Another option could be to add operators on geometries in the SQL parser 
> but that could be a bit more involved (e.g. "select ST_Area(geom) from 
> ...").
> 
> I have created a ticket about this which includes a patch for the new 
> OGR_GEOM_AREA special field:
> 
> http://trac.osgeo.org/gdal/ticket/2949
> 
> What would you think of adding this to the SVN trunk? Or can anyone 
> provide hints on the way to implement operators on geometries since that 
> would clearly be a better solution but I'm not clear on the best way to 
> add this to the OGR SQL engine.
> 
> Daniel


-- 
Daniel Morissette
http://www.mapgears.com/
From szekerest at gmail.com  Thu Apr 16 18:03:01 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Apr 16 18:03:04 2009
Subject: [gdal-dev] New OGR_GEOM_AREA special field
In-Reply-To: <49E7A8E1.60108@mapgears.com>
References: <49E644DB.407@mapgears.com> <49E7A8E1.60108@mapgears.com>
Message-ID: <f3b73b7d0904161503k418a6f0bvf33d026ea4099f32@mail.gmail.com>

Daniel,

The patch seems reasonable to me. The function in the select list would also
be reasonable but it would require quite more of work and probably an RFC
would also be required in that case.

Best regards,

Tamas



2009/4/16 Daniel Morissette <dmorissette@mapgears.com>

> No comments? I'll go ahead and commit support for the new OGR_GEOM_AREA
> special field to trunk tomorrow then...
>
> Daniel
>
>
>
> Daniel Morissette wrote:
>
>> Hi GDAL Dev's,
>>
>> I'd like to use a OGR SQL statement to filter features from a shapefile
>> based on their area. e.g. keep only the large lakes in a water layer for
>> instance.
>>
>> A simple way to allow this would be to add a new OGR_GEOM_AREA special
>> field on OGRFeatures that calls the OGRSurface::getArea() method and would
>> be handled similar to the OGR_GEOM_WKT and other special fields in
>> OGRFeature::GetFieldAsString?().
>>
>> Another option could be to add operators on geometries in the SQL parser
>> but that could be a bit more involved (e.g. "select ST_Area(geom) from
>> ...").
>>
>> I have created a ticket about this which includes a patch for the new
>> OGR_GEOM_AREA special field:
>>
>> http://trac.osgeo.org/gdal/ticket/2949
>>
>> What would you think of adding this to the SVN trunk? Or can anyone
>> provide hints on the way to implement operators on geometries since that
>> would clearly be a better solution but I'm not clear on the best way to add
>> this to the OGR SQL engine.
>>
>> Daniel
>>
>
>
> --
> Daniel Morissette
> http://www.mapgears.com/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090417/f5ae5571/attachment.html
From pcorti at gmail.com  Thu Apr 16 19:12:17 2009
From: pcorti at gmail.com (Paolo Corti)
Date: Thu Apr 16 19:12:19 2009
Subject: [gdal-dev] Re: export mdb in shp
In-Reply-To: <fbd291980904161025w122d9aa1oe6497b72a614915@mail.gmail.com>
References: <dcb1683c0904160927t7d85d8e0sa17118817a90a3fc@mail.gmail.com>
	<fbd291980904161025w122d9aa1oe6497b72a614915@mail.gmail.com>
Message-ID: <dcb1683c0904161612r4f957752ndbd0dd8213e61b52@mail.gmail.com>

> thanks very much for the reply, but unlikely I am still in trouble. infact
> if I launch
>>ogr2ogr -f Esri Shapefile mappa.mdb
> 'Unable to find driver 'ESRI'
>
> What's wrong? maybe just my command, i said, i am very newbie...
>
> P.S: seeing your name you may speak italian... I am italian....

Hey Marco
this should make the trick:
ogr2ogr -f "ESRI Shapefile" output.shp input.mdb

let me know
ciao ;-)
From scott.sinclair.za at gmail.com  Fri Apr 17 02:58:49 2009
From: scott.sinclair.za at gmail.com (Scott Sinclair)
Date: Fri Apr 17 02:58:51 2009
Subject: [gdal-dev] satellite image processing in Python
In-Reply-To: <1A5A077478A22E41A4723F01717B8129ABD1C7CF@ALTPHYEMBEVSP30.RES.AD.JPL>
References: <1A5A077478A22E41A4723F01717B8129ABD1C7CF@ALTPHYEMBEVSP30.RES.AD.JPL>
Message-ID: <6a17e9ee0904162358le140e14qa1bb964175dea18a@mail.gmail.com>

> 2009/4/14 Harris, Sarah L <sarah.l.harris@jpl.nasa.gov>:
> I would like to use this code written by Yann Chemin (see Feb 2009 gdal-dev
> archives)
> but I keep getting a memory error. Can anyone help me fix this. I have put
> the entire error below the code.
> Thanks in advance
>
> F=[]

...

> Traceback (most recent call last):
> ? File "E:\python processing\Landsat_processing.py", line 75, in <module>
> ??? Red = LoadFile('b3_ref.tif')
> ? File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 73, in
> LoadFile
> ??? return DatasetReadAsArray( ds, xoff, yoff, xsize, ysize )
> ? File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 90, in
> DatasetReadAsArray
> ??? return BandReadAsArray( ds.GetRasterBand(1), xoff, yoff, xsize, ysize)
> ? File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 138, in
> BandReadAsArray
> ??? buf_xsize, buf_ysize, datatype )
> ? File "C:\Python25\Lib\site-packages\osgeo\gdal.py", line 760, in
> ReadRaster
> ??? return _gdal.Band_ReadRaster(*args, **kwargs)
> MemoryError

I guess this is related to a bug in the Python bindings discussed here:

http://lists.osgeo.org/pipermail/gdal-dev/2009-April/020334.html

If you can't rebuild the bindings from SVN, a work-around would be to
modify your Python script to process a single file based on a filename
argument on the command line, then process your data using a batch
file.

i.e. your script could be run from the command line as follows:

C:\> python script.py e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B10.TIF

and your batch file would look something like:

python script.py e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B10.TIF
python script.py e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B20.TIF
etc..

and run as

C:\> my_batch.bat

By processing each file in a new Python process, you'll be sure to
free the memory after processing the file.

Cheers,
Scott
From jukka.rahkonen at mmmtike.fi  Fri Apr 17 03:46:47 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Apr 17 03:47:02 2009
Subject: [gdal-dev] Re: Problem resampling with gdal_warp
References: <1239918171062-2643694.post@n2.nabble.com>
Message-ID: <loom.20090417T073251-499@post.gmane.org>

darrepac <pascal.darre <at> laposte.net> writes:

> 
> 
> HEllo,
> 
> I have a 45GB BIGTIFF file at 1m/pixel
> With gdal_warp I am trying to resample it to 2m/pixel.
> The process start but block at 0%.
> I have changed the lanczos resampling algo to cubic in order to go faster but
the status, after more than 2
> days of processing is still 0% and the output file is already at 46GB but no
more progressing
> 
> Any clue of what I am doing wrong or if the input file is too big?
> 
> thanks
> Pascal

Hi,

I made a quick test with these settings:
- 27 GB GeoTIFF image (size 72000 by 128000), 1 metre pixel size
- gdalwarp from FWTools 2.2.8
- Windows XP
- command: gdalwarp -tr 1000 1000 -rc 1m_test.tif 1000m_test.tif

It took 10 minutes to run and so far everything seemed to be OK.  But when I
changed resolution to -tr 2 2 gdalwarp really jammed.  Process started and used
all the processor time as usual, output tiff file was created, but after that
everyhing just stopped.  Processor load is zero and output tiff does not grow in
size.  The size of the output is 10240252 bytes and remains the same.

-Jukka Rahkonen-



From jukka.rahkonen at mmmtike.fi  Fri Apr 17 03:51:45 2009
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri Apr 17 03:55:04 2009
Subject: [gdal-dev] Re: Problem resampling with gdal_warp
References: <1239918171062-2643694.post@n2.nabble.com>
	<loom.20090417T073251-499@post.gmane.org>
Message-ID: <loom.20090417T074750-490@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:

> 
> It took 10 minutes to run and so far everything seemed to be OK. 
> But when I changed resolution to -tr 2 2 gdalwarp really jammed.
> Process started and used all the processor time as usual, 
> output tiff file was created, but after that everyhing just stopped.
> Processor load is zero and output tiff does not grow in
> size.  The size of the output is 10240252 bytes and remains the same.

Sorry, I gave a bit wrong information.  Gdalwarp process is alive and doing
something, but it is using only about 2-5% of the processor time, and memory
reserved by the process is increasing very slowly.

-Jukka-

From pcorti at gmail.com  Fri Apr 17 03:55:52 2009
From: pcorti at gmail.com (Paolo Corti)
Date: Fri Apr 17 03:55:53 2009
Subject: [gdal-dev] Re: export mdb in shp
In-Reply-To: <fbd291980904170043o4a856b8cqa312b129ea429c42@mail.gmail.com>
References: <dcb1683c0904160927t7d85d8e0sa17118817a90a3fc@mail.gmail.com>
	<fbd291980904161025w122d9aa1oe6497b72a614915@mail.gmail.com>
	<dcb1683c0904161612r4f957752ndbd0dd8213e61b52@mail.gmail.com>
	<fbd291980904170043o4a856b8cqa312b129ea429c42@mail.gmail.com>
Message-ID: <dcb1683c0904170055h74ec1059idaf1a6b816e3f477@mail.gmail.com>

On Fri, Apr 17, 2009 at 9:43 AM, Marco Puppin <puppingeo@gmail.com> wrote:
> Hey Paolo,
>
> oh yeah, your trik works!!!
> Perfectly, also the incriminated shape has been exported in all his
> geometries and data.
> Thanks so much, that was so easy, now i learned something..
> and if you write
>>ogr2ogr -f "ESRI Shapefile" output.mdb input.mdb
> he write a folder named output with all the shapes insides...
> Hey, just another thing. I know there's so much on the web but I am looking
> for a pdf guide of FWTools or something downlodable, so I can print it and
> bring it home and study it there. Do you now if there is any???

Hi Marco
for exporting multiple GDB feature classes (from the same GDB) you
need to provide a folder name:
ogr2ogr -f "ESRI Shapefile" output_dir input.mdb

in output_dir there will be as many shapefiles as many feature classes
are in GDB.

If you need help about the command line utility (ogr2ogr, ogrinfo,
etc...) the best places to find documentation is here:
http://www.gdal.org/
I am not aware of pdf docs about this.
For more information about ogr2ogr command line, check out this
excellent doc by Regina Obe:
http://www.bostongis.com/?content_name=ogr_cheatsheet#41

best regards!
Paolo
From P.Halls at york.ac.uk  Fri Apr 17 03:59:11 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Apr 17 03:59:15 2009
Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on Solaris
	10 / Sparc (1.5.x work)
In-Reply-To: <E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <49E72925.7030904@york.ac.uk>
	<E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <49E836CF.6050300@york.ac.uk>

Thanks for this suggestion, Peter.  Not really seeing how 1.5.0 could build in 
such circumstances yet 1.6.0 fail, I checked XercescVersion.hpp - which contains

#define XERCES_VERSION_MAJOR 2
#define XERCES_VERSION_MINOR 7
#define XERCES_VERSION_REVISION 0

Next, in order to be absolutely certain, I created subdirectories specific to 
Xercesc 2.7.0 in include and lib and, from the Xercesc 2.7.0 sources ran an 
install to these new directories.  Back in GDAL I ran gmake clean, changed the 
configure sequence to point to the new directories, ran configure and gmake, but 
the link failed again.

Yesterday, in my cut from the error message, I omitted these lines:

[Hint: static member xercesc_2_7::XMLPlatformUtils::fgMemoryManager must be 
defined in the program]

[Hint: static member xercesc_2_7::XMLUni::fgXercesScannerName must be defined in 
the program]

[Hint: static member xercesc_2_7::__RTTI__1nLxercesc_2_7RSAXParseException_ must 
be defined in the program]

[Hint: static member xercesc_2_7::XMLUni::fgXercescDefaultLocale must be defined 
in the program]

[Hint: static member xercesc_2_7::XMLUni::fgWFXMLScanner must be defined in the 
program]

[Hint: static member xercesc_2_7::__RTTI__1nLxercesc_2_7MXMLException_ must be 
defined in the program]

[Hint: static member xercesc_2_7::XMLUni::fgSAX2CoreNameSpaces must be defined 
in the program]

[Hint: static member xercesc_2_7::XMLUni::fgSAX2CoreValidation must be defined 
in the program]

[Hint: static member xercesc_2_7::XMLPlatformUtils::fgTransService must be 
defined in the program]

I've not programmed using the Xerces-c libraries so this is only guesswork, but 
these 'hints' suggest to me problems with include definitions in the sources.  I 
have not yet worked through every .cpp file in iom and gml - I guess that must 
be my next step, or simply to consider adding the Xerces-c header calls to a 
GDAL header used by every module.  Another course could be to diff between 1.5.0 
and 1.6.0 - but that presumes that there has been no significant work on these 
modules between the releases.

Thanks and best wishes,

Peter

Rushforth, Peter wrote:
>  Peter,
> 
> Is it possible that what's in /usr/appl/bin/solaris/sparc/include/
> is xerces 2.8 or other?
> 
> Looks like a version issue to me, going by memory.
> 
> Peter
> 
>> -----Original Message-----
>> From: gdal-dev-bounces@lists.osgeo.org 
>> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peter J Halls
>> Sent: April 16, 2009 8:49 AM
>> To: gdal-dev@lists.osgeo.org
>> Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 
>> on Solaris 10 / Sparc (1.5.x work)
>>
>> Dear All,
>>
>>     I'm sure that I've done something wrong, but cannot see 
>> it!  I've pulled GDAL 1.6.0 and ran the same configure 
>> command as for 1.5.x, seeking to include xerces  (for GML).  
>> Configure failed to find the xerces libraries with both gcc
>> 3.3 and the Sun compilers; I also had to drop Jasper, as I do 
>> not currently have this.  I got round the xerces problem for 
>> the Sun compilers (but get a new set of errors from gcc) by 
>> editing configure to add a reference to the XMLUni header 
>> file, as follows:
>>
>> #include <xercesc/util/XercesDefs.hpp>
>> #include <xercesc/util/XMLUni.hpp>
>> #include <xercesc/util/PlatformUtils.hpp>
>>
>> However, GDAL then fails to build, with multiple link errors 
>> of the same form as originally generated by configure:
>>
>> Undefined                       first referenced
>>   symbol                             in file
>> int xercesc_2_7::XMLString::compareString(const unsigned 
>> short*const,const unsigned short*const) 
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
>> unsigned short*xercesc_2_7::XMLString::replicate(const 
>> unsigned short*const) 
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
>> xercesc_2_7::XMLFormatter&xercesc_2_7::XMLFormatter::operator<
> <(const unsigned
>> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>> void xercesc_2_7::XMLString::catString(unsigned 
>> short*const,const unsigned
>> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>> xercesc_2_7::LocalFileFormatTarget::LocalFileFormatTarget(const
>> char*const,xercesc_2_7::MemoryManager*const)
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>>
>> Checking the sources, the header file requests appear to be 
>> in order, so it would appear that I have some other problem 
>> that is masked by my edit to configure.
>>
>> My current configure statement is
>>
>> ./configure 'CC=cc' 'CCC=CC' 
>> '--with-oci-include=/usr/appl/oracle/solaris/solaris32/instant
> client10_1/sdk/include' 
>> '--with-oci-lib=/usr/appl/oracle/solaris/solaris32/instantclie
> nt10_1/lib' 
>> '--prefix=/usr/appl/bin/solaris/sparc' '--with-pcraster=internal' 
>> '--with-png=internal' '--with-libtiff=internal' 
>> '--with-geotiff=internal' 
>> '--with-jpeg=internal' '--with-xerces' 
>> '--with-xerces-inc=/usr/appl/bin/solaris/sparc/include/' 
>> '--with-xerces-lib=/usr/appl/bin/solaris/sparc/lib/libxerces-c.so.27' 
>> '--without-python' '--without-jasper'
>>
>> Note that I have had to specify the libxerces-c.so.27, rather 
>> than just libxerces-c.so as I did at GDAL 1.5.x - they are 
>> the same version.
>>
>> I can provide compilation logs, etc., should these be needed 
>> to identify where I've gone wrong.
>>
>> Thanks and best wishes,
>>
>> Peter
>>
>> --------------------------------------------------------------
>> ------------------
>> Peter J Halls, GIS Advisor, University of York
>> Telephone: 01904 433806     Fax: 01904 433740
>> Snail mail: Computing Service, University of York, 
>> Heslington, York YO10 5DD This message has the status of a 
>> private and personal communication
>> --------------------------------------------------------------
>> ------------------
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From P.Halls at york.ac.uk  Fri Apr 17 04:24:44 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Apr 17 04:24:49 2009
Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on Solaris
	10 / Sparc (1.5.x work)
In-Reply-To: <E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <49E72925.7030904@york.ac.uk>
	<E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <49E83CCC.7010400@york.ac.uk>

Peter et al,

   I have now tracked down one of the undefined's to a change in the sources 
between 1.5.0 and 1.6.0 - gmlreader.cpp:

(working in 1.6.0 ...)

diff gmlreader.cpp /usr/postel/gdal-1.5.0/ogr/ogrsf_frmts/gml/gmlreader.cpp
2c2
<  * $Id: gmlreader.cpp 15773 2008-11-20 20:17:16Z rouault $
---
 >  * $Id: gmlreader.cpp 10645 2007-01-18 02:22:39Z warmerdam $
189,194c189,192
<         m_poSAXReader->setFeature( XMLUni::fgSAX2CoreValidation, false);
<
< #if XERCES_VERSION_MAJOR >= 3
<         m_poSAXReader->setFeature( XMLUni::fgXercesSchema, false);
< #else
<         m_poSAXReader->setFeature( XMLUni::fgSAX2CoreNameSpaces, false);
---
 >         m_poSAXReader->setFeature(
 >             XMLString::transcode("http://xml.org/sax/features/validation"), 
false);
 >         m_poSAXReader->setFeature(
 >             XMLString::transcode("http://xml.org/sax/features/namespaces"), 
false);
196,197d193
<
< #endif

The linker is complaining that XMLUni::fgSAX2CoreValidation is not defined in 
gmlreader.  The only includes in gmlreader.cpp are

grep include gmlreader.cpp
  * The above copyright notice and this permission notice shall be included
#include "gmlreader.h"
#include "cpl_error.h"
#  include "ogr_geometry.h"
#include "gmlreaderp.h"
#include "cpl_conv.h"

Indeed, no include file in the ogrsf_frmts/gml directory references XMLUni.hpp. 
  Digging a bit deeper, I find that configure for the versions of GDAL prior to 
1.6.0 that I have includes an include call to XMLUni.hpp, but that distributed 
with 1.6.0 had this line removed.

I will now experiment with where the Xercesc include files need to be provided 
and raise a ticket once I have got 1.6.0 working.

Thanks and best wishes,

Peter

Rushforth, Peter wrote:
>  Peter,
> 
> Is it possible that what's in /usr/appl/bin/solaris/sparc/include/
> is xerces 2.8 or other?
> 
> Looks like a version issue to me, going by memory.
> 
> Peter
> 
>> -----Original Message-----
>> From: gdal-dev-bounces@lists.osgeo.org 
>> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peter J Halls
>> Sent: April 16, 2009 8:49 AM
>> To: gdal-dev@lists.osgeo.org
>> Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 
>> on Solaris 10 / Sparc (1.5.x work)
>>
>> Dear All,
>>
>>     I'm sure that I've done something wrong, but cannot see 
>> it!  I've pulled GDAL 1.6.0 and ran the same configure 
>> command as for 1.5.x, seeking to include xerces  (for GML).  
>> Configure failed to find the xerces libraries with both gcc
>> 3.3 and the Sun compilers; I also had to drop Jasper, as I do 
>> not currently have this.  I got round the xerces problem for 
>> the Sun compilers (but get a new set of errors from gcc) by 
>> editing configure to add a reference to the XMLUni header 
>> file, as follows:
>>
>> #include <xercesc/util/XercesDefs.hpp>
>> #include <xercesc/util/XMLUni.hpp>
>> #include <xercesc/util/PlatformUtils.hpp>
>>
>> However, GDAL then fails to build, with multiple link errors 
>> of the same form as originally generated by configure:
>>
>> Undefined                       first referenced
>>   symbol                             in file
>> int xercesc_2_7::XMLString::compareString(const unsigned 
>> short*const,const unsigned short*const) 
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
>> unsigned short*xercesc_2_7::XMLString::replicate(const 
>> unsigned short*const) 
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
>> xercesc_2_7::XMLFormatter&xercesc_2_7::XMLFormatter::operator<
> <(const unsigned
>> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>> void xercesc_2_7::XMLString::catString(unsigned 
>> short*const,const unsigned
>> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>> xercesc_2_7::LocalFileFormatTarget::LocalFileFormatTarget(const
>> char*const,xercesc_2_7::MemoryManager*const)
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>>
>> Checking the sources, the header file requests appear to be 
>> in order, so it would appear that I have some other problem 
>> that is masked by my edit to configure.
>>
>> My current configure statement is
>>
>> ./configure 'CC=cc' 'CCC=CC' 
>> '--with-oci-include=/usr/appl/oracle/solaris/solaris32/instant
> client10_1/sdk/include' 
>> '--with-oci-lib=/usr/appl/oracle/solaris/solaris32/instantclie
> nt10_1/lib' 
>> '--prefix=/usr/appl/bin/solaris/sparc' '--with-pcraster=internal' 
>> '--with-png=internal' '--with-libtiff=internal' 
>> '--with-geotiff=internal' 
>> '--with-jpeg=internal' '--with-xerces' 
>> '--with-xerces-inc=/usr/appl/bin/solaris/sparc/include/' 
>> '--with-xerces-lib=/usr/appl/bin/solaris/sparc/lib/libxerces-c.so.27' 
>> '--without-python' '--without-jasper'
>>
>> Note that I have had to specify the libxerces-c.so.27, rather 
>> than just libxerces-c.so as I did at GDAL 1.5.x - they are 
>> the same version.
>>
>> I can provide compilation logs, etc., should these be needed 
>> to identify where I've gone wrong.
>>
>> Thanks and best wishes,
>>
>> Peter
>>
>> --------------------------------------------------------------
>> ------------------
>> Peter J Halls, GIS Advisor, University of York
>> Telephone: 01904 433806     Fax: 01904 433740
>> Snail mail: Computing Service, University of York, 
>> Heslington, York YO10 5DD This message has the status of a 
>> private and personal communication
>> --------------------------------------------------------------
>> ------------------
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From P.Halls at york.ac.uk  Fri Apr 17 05:53:01 2009
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Fri Apr 17 05:53:05 2009
Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on Solaris
	10 / Sparc (1.5.x work)
In-Reply-To: <E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <49E72925.7030904@york.ac.uk>
	<E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <49E8517D.9030102@york.ac.uk>

Got it: the problem proved to be libtool!  I've successfully built a working 
version of GDAL 1.6.0 by adding the '--without-libtool' to configure and tested 
this version using ogr2ogr to translate a gml file to ESRI Shapefile format. 
Fascinating, as libtool itself is unchanged between 1.5.x and 1.6.0, yet will 
build the one and not the other!  Ho hum.

Best wishes,

Peter

Rushforth, Peter wrote:
>  Peter,
> 
> Is it possible that what's in /usr/appl/bin/solaris/sparc/include/
> is xerces 2.8 or other?
> 
> Looks like a version issue to me, going by memory.
> 
> Peter
> 
>> -----Original Message-----
>> From: gdal-dev-bounces@lists.osgeo.org 
>> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Peter J Halls
>> Sent: April 16, 2009 8:49 AM
>> To: gdal-dev@lists.osgeo.org
>> Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 
>> on Solaris 10 / Sparc (1.5.x work)
>>
>> Dear All,
>>
>>     I'm sure that I've done something wrong, but cannot see 
>> it!  I've pulled GDAL 1.6.0 and ran the same configure 
>> command as for 1.5.x, seeking to include xerces  (for GML).  
>> Configure failed to find the xerces libraries with both gcc
>> 3.3 and the Sun compilers; I also had to drop Jasper, as I do 
>> not currently have this.  I got round the xerces problem for 
>> the Sun compilers (but get a new set of errors from gcc) by 
>> editing configure to add a reference to the XMLUni header 
>> file, as follows:
>>
>> #include <xercesc/util/XercesDefs.hpp>
>> #include <xercesc/util/XMLUni.hpp>
>> #include <xercesc/util/PlatformUtils.hpp>
>>
>> However, GDAL then fails to build, with multiple link errors 
>> of the same form as originally generated by configure:
>>
>> Undefined                       first referenced
>>   symbol                             in file
>> int xercesc_2_7::XMLString::compareString(const unsigned 
>> short*const,const unsigned short*const) 
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
>> unsigned short*xercesc_2_7::XMLString::replicate(const 
>> unsigned short*const) 
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
>> xercesc_2_7::XMLFormatter&xercesc_2_7::XMLFormatter::operator<
> <(const unsigned
>> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>> void xercesc_2_7::XMLString::catString(unsigned 
>> short*const,const unsigned
>> short*const) /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>> xercesc_2_7::LocalFileFormatTarget::LocalFileFormatTarget(const
>> char*const,xercesc_2_7::MemoryManager*const)
>> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
>>
>> Checking the sources, the header file requests appear to be 
>> in order, so it would appear that I have some other problem 
>> that is masked by my edit to configure.
>>
>> My current configure statement is
>>
>> ./configure 'CC=cc' 'CCC=CC' 
>> '--with-oci-include=/usr/appl/oracle/solaris/solaris32/instant
> client10_1/sdk/include' 
>> '--with-oci-lib=/usr/appl/oracle/solaris/solaris32/instantclie
> nt10_1/lib' 
>> '--prefix=/usr/appl/bin/solaris/sparc' '--with-pcraster=internal' 
>> '--with-png=internal' '--with-libtiff=internal' 
>> '--with-geotiff=internal' 
>> '--with-jpeg=internal' '--with-xerces' 
>> '--with-xerces-inc=/usr/appl/bin/solaris/sparc/include/' 
>> '--with-xerces-lib=/usr/appl/bin/solaris/sparc/lib/libxerces-c.so.27' 
>> '--without-python' '--without-jasper'
>>
>> Note that I have had to specify the libxerces-c.so.27, rather 
>> than just libxerces-c.so as I did at GDAL 1.5.x - they are 
>> the same version.
>>
>> I can provide compilation logs, etc., should these be needed 
>> to identify where I've gone wrong.
>>
>> Thanks and best wishes,
>>
>> Peter
>>
>> --------------------------------------------------------------
>> ------------------
>> Peter J Halls, GIS Advisor, University of York
>> Telephone: 01904 433806     Fax: 01904 433740
>> Snail mail: Computing Service, University of York, 
>> Heslington, York YO10 5DD This message has the status of a 
>> private and personal communication
>> --------------------------------------------------------------
>> ------------------
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From ivan.lucena at pmldnet.com  Fri Apr 17 08:26:34 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Fri Apr 17 08:26:35 2009
Subject: =?utf-8?B?UmU6IFtnZGFsLWRldl0gc2F0ZWxsaXRlIGltYWdlIHByb2Nlc3NpbmcgaW4gUHl0aG9u?=
Message-ID: <20090417122634.9250.qmail@s466.sureserver.com>

Hi there,

The problem that reported is gone. I just need to update from trunk and rebuild the python binder with swig. Scott 
is right, you can get around that problem by running your script image by image. In my case I was running the script 
on a cgi-bin environment, querying the same pixel location through out hundreds and hundreds of bands on a big-
geotiff. In that case there was no detectable memory leak because on a cgi-bin the Python interpreter is loaded and 
unloaded each time a webapp calls the script. But later I change my script to Apache/mod_python and in that case 
the Python interpreter is cached in memory with all the 'import' extensions and dependent libraries. That was when 
the problem begins, or like I reported on the previous message, when you are exploring the data on Python 
command line.

Anyway, everything is working nice and smoth now.

My best regards,

Ivan

>  -------Original Message-------
>  From: Scott Sinclair <scott.sinclair.za@gmail.com>
>  Subject: Re: [gdal-dev] satellite image processing in Python
>  Sent: Apr 17 '09 06:58
>  
>  > 2009/4/14 Harris, Sarah L <sarah.l.harris@jpl.nasa.gov>:
>  > I would like to use this code written by Yann Chemin (see Feb 2009 gdal-dev
>  > archives)
>  > but I keep getting a memory error. Can anyone help me fix this. I have put
>  > the entire error below the code.
>  > Thanks in advance
>  >
>  > F=[]
>  
>  ...
>  
>  > Traceback (most recent call last):
>  > ? File "E:\python processing\Landsat_processing.py", line 75, in <module>
>  > ??? Red = LoadFile('b3_ref.tif')
>  > ? File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 73, in
>  > LoadFile
>  > ??? return DatasetReadAsArray( ds, xoff, yoff, xsize, ysize )
>  > ? File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 90, in
>  > DatasetReadAsArray
>  > ??? return BandReadAsArray( ds.GetRasterBand(1), xoff, yoff, xsize, ysize)
>  > ? File "C:\Python25\lib\site-packages\osgeo\gdal_array.py", line 138, in
>  > BandReadAsArray
>  > ??? buf_xsize, buf_ysize, datatype )
>  > ? File "C:\Python25\Lib\site-packages\osgeo\gdal.py", line 760, in
>  > ReadRaster
>  > ??? return _gdal.Band_ReadRaster(*args, **kwargs)
>  > MemoryError
>  
>  I guess this is related to a bug in the Python bindings discussed here:
>  
>  http://lists.osgeo.org/pipermail/gdal-dev/2009-April/020334.html
>  
>  If you can't rebuild the bindings from SVN, a work-around would be to
>  modify your Python script to process a single file based on a filename
>  argument on the command line, then process your data using a batch
>  file.
>  
>  i.e. your script could be run from the command line as follows:
>  
>  C:\> python script.py e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B10.TIF
>  
>  and your batch file would look something like:
>  
>  python script.py e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B10.TIF
>  python script.py e:\Imagery\Landsat\Landsat7\L71040036_03620071224_B20.TIF
>  etc..
>  
>  and run as
>  
>  C:\> my_batch.bat
>  
>  By processing each file in a new Python process, you'll be sure to
>  free the memory after processing the file.
>  
>  Cheers,
>  Scott
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  

From warmerdam at pobox.com  Fri Apr 17 10:37:28 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 17 10:37:46 2009
Subject: [Gdal-dev] rgb2pct is creating grey image
In-Reply-To: <1239917684830-2643666.post@n2.nabble.com>
References: <1239917684830-2643666.post@n2.nabble.com>
Message-ID: <49E89428.5040606@pobox.com>

darrepac wrote:
> Hello,
> 
> I was willing to transform a 24bits RGB Geotiff into a 8bits palette and so
> found that RGB2PCT was the tool to use. Unfortunately, it creates me a grey
> image with 2 colors in the palette...I have tried with the options -n 256
> but I got the same result. Any clue?

Pascal,

I think you might need to file a ticket with a small input file and
details to reproduce this problem.  I don't know why it would be happening.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Peter.Rushforth at NRCan-RNCan.gc.ca  Fri Apr 17 10:54:26 2009
From: Peter.Rushforth at NRCan-RNCan.gc.ca (Rushforth, Peter)
Date: Fri Apr 17 10:54:29 2009
Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on Solaris 10
	/ Sparc (1.5.x work)
In-Reply-To: <49E8517D.9030102@york.ac.uk>
References: <49E72925.7030904@york.ac.uk>
	<E3942D3EB127854BBBC18511759DD003017C7586@S0-OTT-X2.nrn.nrcan.gc.ca>
	<49E8517D.9030102@york.ac.uk>
Message-ID: <E3942D3EB127854BBBC18511759DD003017C7674@S0-OTT-X2.nrn.nrcan.gc.ca>

Peter,

That rings a bell too.  Very good work, though enough to drive
you to distraction if your job is geo not IT!

Good for you for posting your work.

I suggested to sunfreeware.com that they might consider keeping 
a build of gdal available from their site, so as to mitigate
issues like this.  I notice they have proj4 available, so it
might be a shorter step to getting the whole system available.

Cheers,
Peter

> -----Original Message-----
> From: Peter J Halls [mailto:P.Halls@york.ac.uk] 
> Sent: April 17, 2009 5:53 AM
> To: Rushforth, Peter
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Problems building 1.6.0 with Xerces 
> 2.7 on Solaris 10 / Sparc (1.5.x work)
> 
> Got it: the problem proved to be libtool!  I've successfully 
> built a working version of GDAL 1.6.0 by adding the 
> '--without-libtool' to configure and tested this version 
> using ogr2ogr to translate a gml file to ESRI Shapefile format. 
> Fascinating, as libtool itself is unchanged between 1.5.x and 
> 1.6.0, yet will build the one and not the other!  Ho hum.
> 
> Best wishes,
> 
> Peter
> 
> Rushforth, Peter wrote:
> >  Peter,
> > 
> > Is it possible that what's in /usr/appl/bin/solaris/sparc/include/
> > is xerces 2.8 or other?
> > 
> > Looks like a version issue to me, going by memory.
> > 
> > Peter
> > 
> >> -----Original Message-----
> >> From: gdal-dev-bounces@lists.osgeo.org 
> >> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of 
> Peter J Halls
> >> Sent: April 16, 2009 8:49 AM
> >> To: gdal-dev@lists.osgeo.org
> >> Subject: [gdal-dev] Problems building 1.6.0 with Xerces 2.7 on 
> >> Solaris 10 / Sparc (1.5.x work)
> >>
> >> Dear All,
> >>
> >>     I'm sure that I've done something wrong, but cannot 
> see it!  I've 
> >> pulled GDAL 1.6.0 and ran the same configure command as for 1.5.x, 
> >> seeking to include xerces  (for GML).
> >> Configure failed to find the xerces libraries with both gcc
> >> 3.3 and the Sun compilers; I also had to drop Jasper, as I do not 
> >> currently have this.  I got round the xerces problem for the Sun 
> >> compilers (but get a new set of errors from gcc) by 
> editing configure 
> >> to add a reference to the XMLUni header file, as follows:
> >>
> >> #include <xercesc/util/XercesDefs.hpp> #include 
> >> <xercesc/util/XMLUni.hpp> #include <xercesc/util/PlatformUtils.hpp>
> >>
> >> However, GDAL then fails to build, with multiple link 
> errors of the 
> >> same form as originally generated by configure:
> >>
> >> Undefined                       first referenced
> >>   symbol                             in file
> >> int xercesc_2_7::XMLString::compareString(const unsigned 
> >> short*const,const unsigned short*const) 
> >> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
> >> unsigned short*xercesc_2_7::XMLString::replicate(const
> >> unsigned short*const)
> >> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/iom_basket.o
> >> xercesc_2_7::XMLFormatter&xercesc_2_7::XMLFormatter::operator<
> > <(const unsigned
> >> short*const) 
> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
> >> void xercesc_2_7::XMLString::catString(unsigned
> >> short*const,const unsigned
> >> short*const) 
> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
> >> xercesc_2_7::LocalFileFormatTarget::LocalFileFormatTarget(const
> >> char*const,xercesc_2_7::MemoryManager*const)
> >> /usr/postel/gdal-1.6.0/ogr/ogrsf_frmts/o/.libs/writer.o
> >>
> >> Checking the sources, the header file requests appear to 
> be in order, 
> >> so it would appear that I have some other problem that is 
> masked by 
> >> my edit to configure.
> >>
> >> My current configure statement is
> >>
> >> ./configure 'CC=cc' 'CCC=CC' 
> >> '--with-oci-include=/usr/appl/oracle/solaris/solaris32/instant
> > client10_1/sdk/include' 
> >> '--with-oci-lib=/usr/appl/oracle/solaris/solaris32/instantclie
> > nt10_1/lib' 
> >> '--prefix=/usr/appl/bin/solaris/sparc' '--with-pcraster=internal' 
> >> '--with-png=internal' '--with-libtiff=internal' 
> >> '--with-geotiff=internal' 
> >> '--with-jpeg=internal' '--with-xerces' 
> >> '--with-xerces-inc=/usr/appl/bin/solaris/sparc/include/' 
> >> 
> '--with-xerces-lib=/usr/appl/bin/solaris/sparc/lib/libxerces-c.so.27' 
> >> '--without-python' '--without-jasper'
> >>
> >> Note that I have had to specify the libxerces-c.so.27, rather than 
> >> just libxerces-c.so as I did at GDAL 1.5.x - they are the same 
> >> version.
> >>
> >> I can provide compilation logs, etc., should these be needed to 
> >> identify where I've gone wrong.
> >>
> >> Thanks and best wishes,
> >>
> >> Peter
> >>
> >> --------------------------------------------------------------
> >> ------------------
> >> Peter J Halls, GIS Advisor, University of York
> >> Telephone: 01904 433806     Fax: 01904 433740
> >> Snail mail: Computing Service, University of York, 
> Heslington, York 
> >> YO10 5DD This message has the status of a private and personal 
> >> communication
> >> --------------------------------------------------------------
> >> ------------------
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> 
> --
> --------------------------------------------------------------
> ------------------
> Peter J Halls, GIS Advisor, University of York
> Telephone: 01904 433806     Fax: 01904 433740
> Snail mail: Computing Service, University of York, 
> Heslington, York YO10 5DD This message has the status of a 
> private and personal communication
> --------------------------------------------------------------
> ------------------
> 
From chaitanya.ch at gmail.com  Fri Apr 17 11:23:36 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri Apr 17 11:23:39 2009
Subject: [gdal-dev] Work report of Chaitanya kumar CH (April 1,
	2009 - April 17, 2009)
Message-ID: <eb502d880904170823n4d940bbdm4a94254d45fd14ab@mail.gmail.com>

Frank, gdal-dev,

Please find the attached copy of my work report.

Best regards,
-- 
Chaitanya kumar CH.
+91-9848167848
-------------- next part --------------
???Work done from Wednesday, Apr 01, 2009 to Friday, Apr 17, 2009

Ticket #2930 (pending) (2 hr)
Categerized the warnings. Looked into the code. Researched for possibilities
of improvements. Needs discussion.

Ticket #2938 (done) (2 hr)

Ticket #2945 (done) (2 hr)

Ticket #2942 (done) (4 hr)

Ticket #2875 (done) (6 hr)

Ticket #2948 (done) (4 hr)

Ticket http://trac.osgeo.org/mapserver/ticket/2965 (pending) (0 hr)

gdal-dev and IRC (0 hr)

Clocked hours till now: 18 hrs

Present status:
Suspending my work from now "Apr 17, 19:30:28 2009 IST(+5:30)" to "Apr 21, 2009" on
account of my sister's wedding on Sunday. Will resume work on the morning of
Apr 22, 2009 IST.

--
Chaitanya kumar CH
chaitanyach@gmail.com
From dmueller at trentu.ca  Fri Apr 17 12:13:47 2009
From: dmueller at trentu.ca (Derek Mueller)
Date: Fri Apr 17 12:20:34 2009
Subject: [gdal-dev] Get real and turf imaginary from complex float...
In-Reply-To: <49E4F9FF.6080201@pobox.com>
References: <49E4DE95.1090309@trentu.ca> <49E4F9FF.6080201@pobox.com>
Message-ID: <49E8AABB.9020507@trentu.ca>

Thank you Frank,

I think I should have said, how do I get both the real and imaginary 
numbers out as Float32, since ultimately I do want to calculate 
magnitude (as you might have guessed). Then I could read the 'real' and 
'imaginary' numbers into IDL as 2 separate tiffs do do the calculation. 

I tried to import the CFloat32 directly into IDL/ENVI but it doesn't 
like the '64-bit pixel'.  Could there be a workaround by modifying tiff 
tags to say the CFloat32 data are actually 2 separate 32-bit numbers?

Thanks,
Derek


Frank Warmerdam wrote:
> Derek Mueller wrote:
>> I am new to gdal and it looks very promising ...but I am trying to 
>> make a geotiff with four bands from an RSat-2 SLC image but I don't 
>> need or want the imaginary part of the CFloat32 for now.
>>
>> So far I have been able to extract the data and warp it to my 
>> favourite projection.  Can gdal separate the CFloat32 and save the 
>> just real part?
>>
>> gdal_translate.exe "RADARSAT_2_CALIB:SIGMA0:product.xml" out.tif
>> gdalwarp -s_srs wgs84.prf -t_srs aeaIS.prf -r bilinear out.tif image.tif
>
> Derek,
>
> gdal_translate "RADARSAT_2_CALIB:SIGMA0:product.xml" -ot Float32 out.tif
>
> should be sufficient to discard the imaginary portion.  I'm not aware 
> of any
> easy way of taking the magnitude of the data which is also often 
> desirable.
>
> Best regards,

-- 

*Derek Mueller
*Roberta Bondar Fellow in Northern and Polar Studies
Geography Department, Trent University
1600 West Bank Drive,
Peterborough, ON K9J 7B8
Tel: (705) 748-1011, ext. 7153,
Fax:  (705) 748-1205
E-mail: dmueller@trentu.ca

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090417/a711cd02/attachment.html
From nbarker at ittvis.com  Fri Apr 17 12:59:09 2009
From: nbarker at ittvis.com (Norman Barker)
Date: Fri Apr 17 13:25:15 2009
Subject: [gdal-dev] JPIPKAK in the sandbox
References: <49E75C2E.9050108@pobox.com>
	<f3b73b7d0904161240l8f86515o7106f04a1ad777b3@mail.gmail.com>
Message-ID: <B1B624F7C110834B96594065A74F3A540CC5726E@gemini.rsinc.com>

Hi,

I have put the JPIPKAK prototype code in

http://svn.osgeo.org/gdal/sandbox/normanb/

and the original RFC is at

http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support

I have pruned the formats in this sandbox since I had a lot of problems uploading to SVN.

Comments appreciated.

Norman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090417/c531ab6d/attachment.html
From even.rouault at mines-paris.org  Fri Apr 17 13:34:25 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Apr 17 13:34:35 2009
Subject: [gdal-dev] JPIPKAK in the sandbox
In-Reply-To: <B1B624F7C110834B96594065A74F3A540CC5726E@gemini.rsinc.com>
References: <49E75C2E.9050108@pobox.com>
	<f3b73b7d0904161240l8f86515o7106f04a1ad777b3@mail.gmail.com>
	<B1B624F7C110834B96594065A74F3A540CC5726E@gemini.rsinc.com>
Message-ID: <200904171934.25753.even.rouault@mines-paris.org>

Norman,

I don't think the way you have created your sandbox is going to be efficient 
to track and review the changes. It appears you have done an *import* of a 
*modified* GDAL tree.

I think it would have been better to do that in several steps :
- delete the content of your sandbox in SVN
- create a branch of an unmodified GDAL tree into your sandbox: svn cp 
http://svn.osgeo.org/gdal/trunk/gdal 
http://svn.osgeo.org/gdal/sandbox/normanb
- checkout your sandbox in a working copy : svn co 
http://svn.osgeo.org/gdal/sandbox/normanb
- apply your changes to your working copy and commit them.

That way we'll be able to review the changes. And it will make a future merge 
to trunk a lot easier.

Even

Le Friday 17 April 2009 18:59:09 Norman Barker, vous avez ?crit?:
> Hi,
>
> I have put the JPIPKAK prototype code in
>
> http://svn.osgeo.org/gdal/sandbox/normanb/
>
> and the original RFC is at
>
> http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support
>
> I have pruned the formats in this sandbox since I had a lot of problems
> uploading to SVN.
>
> Comments appreciated.
>
> Norman


From nbarker at ittvis.com  Fri Apr 17 13:36:24 2009
From: nbarker at ittvis.com (Norman Barker)
Date: Fri Apr 17 13:37:08 2009
Subject: [gdal-dev] JPIPKAK in the sandbox
References: <49E75C2E.9050108@pobox.com>
	<f3b73b7d0904161240l8f86515o7106f04a1ad777b3@mail.gmail.com>
	<B1B624F7C110834B96594065A74F3A540CC5726E@gemini.rsinc.com>
	<200904171934.25753.even.rouault@mines-paris.org>
Message-ID: <B1B624F7C110834B96594065A74F3A540CC5726F@gemini.rsinc.com>

Even,

thanks, I will do this now.

Norman


-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org]
Sent: Fri 4/17/2009 11:34 AM
To: gdal-dev@lists.osgeo.org
Cc: Norman Barker
Subject: Re: [gdal-dev] JPIPKAK in the sandbox
 
Norman,

I don't think the way you have created your sandbox is going to be efficient 
to track and review the changes. It appears you have done an *import* of a 
*modified* GDAL tree.

I think it would have been better to do that in several steps :
- delete the content of your sandbox in SVN
- create a branch of an unmodified GDAL tree into your sandbox: svn cp 
http://svn.osgeo.org/gdal/trunk/gdal 
http://svn.osgeo.org/gdal/sandbox/normanb
- checkout your sandbox in a working copy : svn co 
http://svn.osgeo.org/gdal/sandbox/normanb
- apply your changes to your working copy and commit them.

That way we'll be able to review the changes. And it will make a future merge 
to trunk a lot easier.

Even

Le Friday 17 April 2009 18:59:09 Norman Barker, vous avez ?crit?:
> Hi,
>
> I have put the JPIPKAK prototype code in
>
> http://svn.osgeo.org/gdal/sandbox/normanb/
>
> and the original RFC is at
>
> http://trac.osgeo.org/gdal/wiki/rfc24_progressive_data_support
>
> I have pruned the formats in this sandbox since I had a lot of problems
> uploading to SVN.
>
> Comments appreciated.
>
> Norman



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090417/e15bbb89/attachment.html
From amanda.m.henneke at boeing.com  Fri Apr 17 13:40:15 2009
From: amanda.m.henneke at boeing.com (Henneke, Amanda M)
Date: Fri Apr 17 13:40:28 2009
Subject: [gdal-dev] Geometry.Intersects and .Intersection
In-Reply-To: <A4A1B61586638F4C90EBCAC780B0617408840AC7@XCH-MW-2V2.mw.nos.boeing.com>
References: <A4A1B61586638F4C90EBCAC780B0617408840AC7@XCH-MW-2V2.mw.nos.boeing.com>
Message-ID: <A4A1B61586638F4C90EBCAC780B0617408877C0E@XCH-MW-2V2.mw.nos.boeing.com>

I think I figured out why this wasn't working, I guess LinearRings
aren't considered full-fledged geometry objects, so it only works if you
add it to a polygon, then test for intersections.

Thanks anyway... 

Amanda 

-----Original Message-----
From: Henneke, Amanda M 
Sent: Thursday, April 16, 2009 10:07 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Geometry.Intersects and .Intersection

Hello everyone-

Has anyone played with Geometry.Intersects or Geometry.Intersection?  

I have an instance where the Geometry.Intersects method returns true on
two LinearRings, but then when I do the Intersection, it's returning
nothing (null).  I'm not sure why this would be.  I found a few things
on the web about the versions of FWTools.  I am using 1.3.5 with the C#
API for GDAL/OGR.

Any help/advice would be appreciated.  I've included a code snippet:

                     bool bIntersects = geoRing.Intersect(geoOldRing);

                     if (iPt > 0 && bIntersects)
                     {
                        Geometry geoRingDiff =
geoRing.Intersection(geoOldRing);
                        if (geoRingDiff != null)
                        {
                           wkbGeometryType gType =
geoRingDiff.GetGeometryType();
                           string text = "";
                           geoRingDiff.ExportToWkt(out text);
                           Console.WriteLine(text);
                           geoRingDiff.CloseRings();
                           geoRingNew = geoRing.Difference(geoRingDiff);
                           geoOldRing = geoRingNew.Clone();

                           // Add the ring to the polygon layer
                           geoPolygon.AddGeometry(geoRingNew);
                        }
                     }
   

Thanks,
Amanda

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Fri Apr 17 13:54:04 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 17 13:54:22 2009
Subject: [gdal-dev] Get real and turf imaginary from complex float...
In-Reply-To: <49E8AABB.9020507@trentu.ca>
References: <49E4DE95.1090309@trentu.ca> <49E4F9FF.6080201@pobox.com>
	<49E8AABB.9020507@trentu.ca>
Message-ID: <49E8C23C.40300@pobox.com>

Derek Mueller wrote:
> Thank you Frank,
> 
> I think I should have said, how do I get both the real and imaginary 
> numbers out as Float32, since ultimately I do want to calculate 
> magnitude (as you might have guessed). Then I could read the 'real' and 
> 'imaginary' numbers into IDL as 2 separate tiffs do do the calculation. 

Derek,

Currently nothing exists to extract the just imaginary component of a
complex channel to a real channel in any of the utilities.  You would
pretty much need to write a little script or C/C++ program to do it.

> I tried to import the CFloat32 directly into IDL/ENVI but it doesn't 
> like the '64-bit pixel'.  Could there be a workaround by modifying tiff 
> tags to say the CFloat32 data are actually 2 separate 32-bit numbers?

There is no mechanism to do this in TIFF, but you might find you can
export to a raw format and then alter the raw header to describe the
raw file differently.

The only raw format driver I can find that supports complex imagery is
the MFF2 (aka HKV) format.

If I translate a CInt16 dataset to MFF2 format (which creates a directory)
I get an attrib file that looks like:

channel.enumeration = 1
channel.interleave = { *pixel tile sequential }
extent.cols = 2500
extent.rows = 14795
pixel.encoding = { unsigned *twos-complement ieee-754 }
pixel.size = 32
pixel.field = { real *complex }
pixel.order = { *lsbf msbf }
version = 1.1

If I change this to look like:

channel.enumeration = 2
channel.interleave = { *pixel tile sequential }
extent.cols = 2500
extent.rows = 14795
pixel.encoding = { unsigned *twos-complement ieee-754 }
pixel.size = 16
pixel.field = { *real complex }
pixel.order = { *lsbf msbf }
version = 1.1

The the dataset is essentially treated as two Int16 bands.
Note that channel.enumeration was changed to 2, pixel.size was
changed from 32 to 16, and pixel.field now has the star by real
instead of complex.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From nicolas.degarne at gmail.com  Fri Apr 17 17:16:22 2009
From: nicolas.degarne at gmail.com (Nicolas DEGARNE)
Date: Fri Apr 17 17:16:24 2009
Subject: [gdal-dev] Data problem to create picture
Message-ID: <3280c5c80904171416jadebc35vb80701fde9df7dc7@mail.gmail.com>

Hy everybody,

I have a little probleme,

I have a GTiff picture and I make a traitement on this picture, my problem
appears to create the outpute picture for the moment I used the methods
below and it works but by changing data to 0/255

hDatasetOut = GDALCreateCopy( hDriver, OutputFile, hDataset, FALSE,NULL,
NULL, NULL );

But my outside data go from 0 to 6375 and I would like to create a picture
with longer data,like the example below.

hDatasetOut = GDALCreate( hDriver, OutputFile, nXSize, nYSize, 1,
GDT_UInt32, papszOptions );

This methods allow me to create an image but there are problems and the data
are not copied.

If someone have a solution...

Best regards

Nicolas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090417/5f685717/attachment.html
From woodbri at swoodbridge.com  Fri Apr 17 18:14:09 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Fri Apr 17 18:14:55 2009
Subject: [gdal-dev] gdalwarp differences between v1.5.2 and v1.4.4.0
Message-ID: <49E8FF31.7030008@swoodbridge.com>

Hi all,

I have a serious problem that you might be able to shed some light on.

I have a landsat geotif (actually lots of them) and when I projection 
them on a systems with v1.5.2 and v1.4.4.0 I get very different results!

The image sizes are different, the projection info is different, the 
pixel size is different.

And I think the imagery had shifted significantly in the vertical direction.

Thoughts on how to fix this using 1.4.4.0, I'm not sure I can upgrade 
the system because of package dependencies.

-Steve


Original image same on both systems:

$ gdalinfo n-41-25_0-0.tif
Driver: GTiff/GeoTIFF
Files: n-41-25_0-0.tif
Size is 27192, 18524
Coordinate System is:
GEOGCS["WGS 84",
     DATUM["WGS_1984",
         SPHEROID["WGS 84",6378137,298.2572235630016,
             AUTHORITY["EPSG","7030"]],
         AUTHORITY["EPSG","6326"]],
     PRIMEM["Greenwich",0],
     UNIT["degree",0.0174532925199433],
     AUTHORITY["EPSG","4326"]]
Origin = (59.228401534356898,27.479955940770701)
Pixel Size = (0.000138699063483,-0.000138699063483)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  59.2284015,  27.4799559) ( 59d13'42.25"E, 27d28'47.84"N)
Lower Left  (  59.2284015,  24.9106945) ( 59d13'42.25"E, 24d54'38.50"N)
Upper Right (  62.9999065,  27.4799559) ( 62d59'59.66"E, 27d28'47.84"N)
Lower Right (  62.9999065,  24.9106945) ( 62d59'59.66"E, 24d54'38.50"N)
Center      (  61.1141540,  26.1953252) ( 61d 6'50.95"E, 26d11'43.17"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Red
   NoData Value=0
   Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579, 
425x290, 213x145, 107x73, 54x37
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
   NoData Value=0
   Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579, 
425x290, 213x145, 107x73, 54x37
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
   NoData Value=0
   Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579, 
425x290, 213x145, 107x73, 54x37


I run this command on the two systems:

$ gdalwarp -s_srs EPSG:4326 -t_srs epsg:900913 -co TILED=YES 
landsat-af2/n-41-25_0-0.tif junk/n-41-25_0-0.tif

I get results on GDAL 1.5.2, released 2008/05/29:

$ gdalinfo junk/n-41-25_0-0.tif
Driver: GTiff/GeoTIFF
Files: junk/n-41-25_0-0.tif
Size is 26204, 19897
Coordinate System is:
PROJCS["Google Maps Global Mercator",
     GEOGCS["WGS 84",
         DATUM["WGS_1984",
             SPHEROID["WGS 84",6378137,298.2572235630016,
                 AUTHORITY["EPSG","7030"]],
             AUTHORITY["EPSG","6326"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4326"]],
     PROJECTION["Mercator_1SP"],
     PARAMETER["central_meridian",0],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (6593275.499304148368537,3183564.941239751409739)
Pixel Size = (16.021935325381026,-16.021935325381026)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( 6593275.499, 3183564.941) ( 59d13'42.25"E, 27d38'15.97"N)
Lower Left  ( 6593275.499, 2864776.494) ( 59d13'42.25"E, 25d 3'28.72"N)
Upper Right ( 7013114.293, 3183564.941) ( 62d59'59.56"E, 27d38'15.97"N)
Lower Right ( 7013114.293, 2864776.494) ( 62d59'59.56"E, 25d 3'28.72"N)
Center      ( 6803194.896, 3024170.718) ( 61d 6'50.90"E, 26d21'18.52"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Red
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue


I get results on GDAL 1.4.4.0, released 2007/11/23:

$ gdalinfo junk/n-41-25_0-0.tif
Driver: GTiff/GeoTIFF
Size is 26256, 19828
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["unnamed ellipse",
         DATUM["unknown",
             SPHEROID["unnamed",6378137,0]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Mercator_1SP"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",0],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (6593275.499304148368537,3163848.570181989576668)
Pixel Size = (15.990354027000551,-15.990354027000551)
Metadata:
   AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  ( 6593275.499, 3163848.570) ( 59d13'42.25"E, 27d19'21.76"N)
Lower Left  ( 6593275.499, 2846791.831) ( 59d13'42.25"E, 24d45'50.60"N)
Upper Right ( 7013118.235, 3163848.570) ( 62d59'59.69"E, 27d19'21.76"N)
Lower Right ( 7013118.235, 2846791.831) ( 62d59'59.69"E, 24d45'50.60"N)
Center      ( 6803196.867, 3005320.200) ( 61d 6'50.97"E, 26d 3'1.31"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Red
Band 2 Block=256x256 Type=Byte, ColorInterp=Green
Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
From even.rouault at mines-paris.org  Fri Apr 17 18:46:08 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Apr 17 18:46:21 2009
Subject: [gdal-dev] gdalwarp differences between v1.5.2 and v1.4.4.0
In-Reply-To: <49E8FF31.7030008@swoodbridge.com>
References: <49E8FF31.7030008@swoodbridge.com>
Message-ID: <200904180046.09607.even.rouault@mines-paris.org>

Stephen,

Which version gives the right result ?
I've checked that GDAL SVN trunk (1.7.0dev) gives the same result as the one 
you get with GDAL 1.5.2.
It looks like EPSG:900913 definition was added in data/cubewerx_extra.wkt for 
GDAL 1.5.0. I've tested again with GDAL 1.4.4 and it doesn't even manage to 
start the warping :
"ERROR 6: EPSG PCS/GCS code 900913 not found in EPSG support files.  Is this a 
valid
EPSG coordinate system?
ERROR 1: Translating source or target SRS failed:
EPSG:900913
"

So I don't understand how you can get it to work with GDAL 1.4.4.

Even

Le Saturday 18 April 2009 00:14:09 Stephen Woodbridge, vous avez ?crit?:
> Hi all,
>
> I have a serious problem that you might be able to shed some light on.
>
> I have a landsat geotif (actually lots of them) and when I projection
> them on a systems with v1.5.2 and v1.4.4.0 I get very different results!
>
> The image sizes are different, the projection info is different, the
> pixel size is different.
>
> And I think the imagery had shifted significantly in the vertical
> direction.
>
> Thoughts on how to fix this using 1.4.4.0, I'm not sure I can upgrade
> the system because of package dependencies.
>
> -Steve
>
>
> Original image same on both systems:
>
> $ gdalinfo n-41-25_0-0.tif
> Driver: GTiff/GeoTIFF
> Files: n-41-25_0-0.tif
> Size is 27192, 18524
> Coordinate System is:
> GEOGCS["WGS 84",
>      DATUM["WGS_1984",
>          SPHEROID["WGS 84",6378137,298.2572235630016,
>              AUTHORITY["EPSG","7030"]],
>          AUTHORITY["EPSG","6326"]],
>      PRIMEM["Greenwich",0],
>      UNIT["degree",0.0174532925199433],
>      AUTHORITY["EPSG","4326"]]
> Origin = (59.228401534356898,27.479955940770701)
> Pixel Size = (0.000138699063483,-0.000138699063483)
> Metadata:
>    AREA_OR_POINT=Area
> Image Structure Metadata:
>    INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  (  59.2284015,  27.4799559) ( 59d13'42.25"E, 27d28'47.84"N)
> Lower Left  (  59.2284015,  24.9106945) ( 59d13'42.25"E, 24d54'38.50"N)
> Upper Right (  62.9999065,  27.4799559) ( 62d59'59.66"E, 27d28'47.84"N)
> Lower Right (  62.9999065,  24.9106945) ( 62d59'59.66"E, 24d54'38.50"N)
> Center      (  61.1141540,  26.1953252) ( 61d 6'50.95"E, 26d11'43.17"N)
> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>    NoData Value=0
>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
> 425x290, 213x145, 107x73, 54x37
> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>    NoData Value=0
>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
> 425x290, 213x145, 107x73, 54x37
> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>    NoData Value=0
>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
> 425x290, 213x145, 107x73, 54x37
>
>
> I run this command on the two systems:
>
> $ gdalwarp -s_srs EPSG:4326 -t_srs epsg:900913 -co TILED=YES
> landsat-af2/n-41-25_0-0.tif junk/n-41-25_0-0.tif
>
> I get results on GDAL 1.5.2, released 2008/05/29:
>
> $ gdalinfo junk/n-41-25_0-0.tif
> Driver: GTiff/GeoTIFF
> Files: junk/n-41-25_0-0.tif
> Size is 26204, 19897
> Coordinate System is:
> PROJCS["Google Maps Global Mercator",
>      GEOGCS["WGS 84",
>          DATUM["WGS_1984",
>              SPHEROID["WGS 84",6378137,298.2572235630016,
>                  AUTHORITY["EPSG","7030"]],
>              AUTHORITY["EPSG","6326"]],
>          PRIMEM["Greenwich",0],
>          UNIT["degree",0.0174532925199433],
>          AUTHORITY["EPSG","4326"]],
>      PROJECTION["Mercator_1SP"],
>      PARAMETER["central_meridian",0],
>      PARAMETER["scale_factor",1],
>      PARAMETER["false_easting",0],
>      PARAMETER["false_northing",0],
>      UNIT["metre",1,
>          AUTHORITY["EPSG","9001"]]]
> Origin = (6593275.499304148368537,3183564.941239751409739)
> Pixel Size = (16.021935325381026,-16.021935325381026)
> Metadata:
>    AREA_OR_POINT=Area
> Image Structure Metadata:
>    INTERLEAVE=PIXEL
> Corner Coordinates:
> Upper Left  ( 6593275.499, 3183564.941) ( 59d13'42.25"E, 27d38'15.97"N)
> Lower Left  ( 6593275.499, 2864776.494) ( 59d13'42.25"E, 25d 3'28.72"N)
> Upper Right ( 7013114.293, 3183564.941) ( 62d59'59.56"E, 27d38'15.97"N)
> Lower Right ( 7013114.293, 2864776.494) ( 62d59'59.56"E, 25d 3'28.72"N)
> Center      ( 6803194.896, 3024170.718) ( 61d 6'50.90"E, 26d21'18.52"N)
> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>
>
> I get results on GDAL 1.4.4.0, released 2007/11/23:
>
> $ gdalinfo junk/n-41-25_0-0.tif
> Driver: GTiff/GeoTIFF
> Size is 26256, 19828
> Coordinate System is:
> PROJCS["unnamed",
>      GEOGCS["unnamed ellipse",
>          DATUM["unknown",
>              SPHEROID["unnamed",6378137,0]],
>          PRIMEM["Greenwich",0],
>          UNIT["degree",0.0174532925199433]],
>      PROJECTION["Mercator_1SP"],
>      PARAMETER["latitude_of_origin",0],
>      PARAMETER["central_meridian",0],
>      PARAMETER["scale_factor",1],
>      PARAMETER["false_easting",0],
>      PARAMETER["false_northing",0],
>      UNIT["metre",1,
>          AUTHORITY["EPSG","9001"]]]
> Origin = (6593275.499304148368537,3163848.570181989576668)
> Pixel Size = (15.990354027000551,-15.990354027000551)
> Metadata:
>    AREA_OR_POINT=Area
> Corner Coordinates:
> Upper Left  ( 6593275.499, 3163848.570) ( 59d13'42.25"E, 27d19'21.76"N)
> Lower Left  ( 6593275.499, 2846791.831) ( 59d13'42.25"E, 24d45'50.60"N)
> Upper Right ( 7013118.235, 3163848.570) ( 62d59'59.69"E, 27d19'21.76"N)
> Lower Right ( 7013118.235, 2846791.831) ( 62d59'59.69"E, 24d45'50.60"N)
> Center      ( 6803196.867, 3005320.200) ( 61d 6'50.97"E, 26d 3'1.31"N)
> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From woodbri at swoodbridge.com  Fri Apr 17 19:40:58 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Fri Apr 17 19:41:47 2009
Subject: [gdal-dev] gdalwarp differences between v1.5.2 and v1.4.4.0
In-Reply-To: <200904180046.09607.even.rouault@mines-paris.org>
References: <49E8FF31.7030008@swoodbridge.com>
	<200904180046.09607.even.rouault@mines-paris.org>
Message-ID: <49E9138A.4020907@swoodbridge.com>

Even,

gdal 1.5.0 gives the correct result.

I added the 900913 definition to /usr/share/proj/epsg files as:

# Spherical Mercator - Google
<900913> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 
+x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs

-Steve

Even Rouault wrote:
> Stephen,
> 
> Which version gives the right result ?
> I've checked that GDAL SVN trunk (1.7.0dev) gives the same result as the one 
> you get with GDAL 1.5.2.
> It looks like EPSG:900913 definition was added in data/cubewerx_extra.wkt for 
> GDAL 1.5.0. I've tested again with GDAL 1.4.4 and it doesn't even manage to 
> start the warping :
> "ERROR 6: EPSG PCS/GCS code 900913 not found in EPSG support files.  Is this a 
> valid
> EPSG coordinate system?
> ERROR 1: Translating source or target SRS failed:
> EPSG:900913
> "
> 
> So I don't understand how you can get it to work with GDAL 1.4.4.
> 
> Even
> 
> Le Saturday 18 April 2009 00:14:09 Stephen Woodbridge, vous avez ?crit :
>> Hi all,
>>
>> I have a serious problem that you might be able to shed some light on.
>>
>> I have a landsat geotif (actually lots of them) and when I projection
>> them on a systems with v1.5.2 and v1.4.4.0 I get very different results!
>>
>> The image sizes are different, the projection info is different, the
>> pixel size is different.
>>
>> And I think the imagery had shifted significantly in the vertical
>> direction.
>>
>> Thoughts on how to fix this using 1.4.4.0, I'm not sure I can upgrade
>> the system because of package dependencies.
>>
>> -Steve
>>
>>
>> Original image same on both systems:
>>
>> $ gdalinfo n-41-25_0-0.tif
>> Driver: GTiff/GeoTIFF
>> Files: n-41-25_0-0.tif
>> Size is 27192, 18524
>> Coordinate System is:
>> GEOGCS["WGS 84",
>>      DATUM["WGS_1984",
>>          SPHEROID["WGS 84",6378137,298.2572235630016,
>>              AUTHORITY["EPSG","7030"]],
>>          AUTHORITY["EPSG","6326"]],
>>      PRIMEM["Greenwich",0],
>>      UNIT["degree",0.0174532925199433],
>>      AUTHORITY["EPSG","4326"]]
>> Origin = (59.228401534356898,27.479955940770701)
>> Pixel Size = (0.000138699063483,-0.000138699063483)
>> Metadata:
>>    AREA_OR_POINT=Area
>> Image Structure Metadata:
>>    INTERLEAVE=PIXEL
>> Corner Coordinates:
>> Upper Left  (  59.2284015,  27.4799559) ( 59d13'42.25"E, 27d28'47.84"N)
>> Lower Left  (  59.2284015,  24.9106945) ( 59d13'42.25"E, 24d54'38.50"N)
>> Upper Right (  62.9999065,  27.4799559) ( 62d59'59.66"E, 27d28'47.84"N)
>> Lower Right (  62.9999065,  24.9106945) ( 62d59'59.66"E, 24d54'38.50"N)
>> Center      (  61.1141540,  26.1953252) ( 61d 6'50.95"E, 26d11'43.17"N)
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>>    NoData Value=0
>>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
>> 425x290, 213x145, 107x73, 54x37
>> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>>    NoData Value=0
>>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
>> 425x290, 213x145, 107x73, 54x37
>> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>>    NoData Value=0
>>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
>> 425x290, 213x145, 107x73, 54x37
>>
>>
>> I run this command on the two systems:
>>
>> $ gdalwarp -s_srs EPSG:4326 -t_srs epsg:900913 -co TILED=YES
>> landsat-af2/n-41-25_0-0.tif junk/n-41-25_0-0.tif
>>
>> I get results on GDAL 1.5.2, released 2008/05/29:
>>
>> $ gdalinfo junk/n-41-25_0-0.tif
>> Driver: GTiff/GeoTIFF
>> Files: junk/n-41-25_0-0.tif
>> Size is 26204, 19897
>> Coordinate System is:
>> PROJCS["Google Maps Global Mercator",
>>      GEOGCS["WGS 84",
>>          DATUM["WGS_1984",
>>              SPHEROID["WGS 84",6378137,298.2572235630016,
>>                  AUTHORITY["EPSG","7030"]],
>>              AUTHORITY["EPSG","6326"]],
>>          PRIMEM["Greenwich",0],
>>          UNIT["degree",0.0174532925199433],
>>          AUTHORITY["EPSG","4326"]],
>>      PROJECTION["Mercator_1SP"],
>>      PARAMETER["central_meridian",0],
>>      PARAMETER["scale_factor",1],
>>      PARAMETER["false_easting",0],
>>      PARAMETER["false_northing",0],
>>      UNIT["metre",1,
>>          AUTHORITY["EPSG","9001"]]]
>> Origin = (6593275.499304148368537,3183564.941239751409739)
>> Pixel Size = (16.021935325381026,-16.021935325381026)
>> Metadata:
>>    AREA_OR_POINT=Area
>> Image Structure Metadata:
>>    INTERLEAVE=PIXEL
>> Corner Coordinates:
>> Upper Left  ( 6593275.499, 3183564.941) ( 59d13'42.25"E, 27d38'15.97"N)
>> Lower Left  ( 6593275.499, 2864776.494) ( 59d13'42.25"E, 25d 3'28.72"N)
>> Upper Right ( 7013114.293, 3183564.941) ( 62d59'59.56"E, 27d38'15.97"N)
>> Lower Right ( 7013114.293, 2864776.494) ( 62d59'59.56"E, 25d 3'28.72"N)
>> Center      ( 6803194.896, 3024170.718) ( 61d 6'50.90"E, 26d21'18.52"N)
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>>
>>
>> I get results on GDAL 1.4.4.0, released 2007/11/23:
>>
>> $ gdalinfo junk/n-41-25_0-0.tif
>> Driver: GTiff/GeoTIFF
>> Size is 26256, 19828
>> Coordinate System is:
>> PROJCS["unnamed",
>>      GEOGCS["unnamed ellipse",
>>          DATUM["unknown",
>>              SPHEROID["unnamed",6378137,0]],
>>          PRIMEM["Greenwich",0],
>>          UNIT["degree",0.0174532925199433]],
>>      PROJECTION["Mercator_1SP"],
>>      PARAMETER["latitude_of_origin",0],
>>      PARAMETER["central_meridian",0],
>>      PARAMETER["scale_factor",1],
>>      PARAMETER["false_easting",0],
>>      PARAMETER["false_northing",0],
>>      UNIT["metre",1,
>>          AUTHORITY["EPSG","9001"]]]
>> Origin = (6593275.499304148368537,3163848.570181989576668)
>> Pixel Size = (15.990354027000551,-15.990354027000551)
>> Metadata:
>>    AREA_OR_POINT=Area
>> Corner Coordinates:
>> Upper Left  ( 6593275.499, 3163848.570) ( 59d13'42.25"E, 27d19'21.76"N)
>> Lower Left  ( 6593275.499, 2846791.831) ( 59d13'42.25"E, 24d45'50.60"N)
>> Upper Right ( 7013118.235, 3163848.570) ( 62d59'59.69"E, 27d19'21.76"N)
>> Lower Right ( 7013118.235, 2846791.831) ( 62d59'59.69"E, 24d45'50.60"N)
>> Center      ( 6803196.867, 3005320.200) ( 61d 6'50.97"E, 26d 3'1.31"N)
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From jrepetto at free.fr  Sat Apr 18 03:05:48 2009
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Sat Apr 18 03:06:40 2009
Subject: [gdal-dev] gdalwarp differences between v1.5.2 and v1.4.4.0
In-Reply-To: <49E9138A.4020907@swoodbridge.com>
References: <49E8FF31.7030008@swoodbridge.com>	<200904180046.09607.even.rouault@mines-paris.org>
	<49E9138A.4020907@swoodbridge.com>
Message-ID: <49E97BCC.2020405@free.fr>

Stephen Woodbridge wrote :
> 
> I added the 900913 definition to /usr/share/proj/epsg files as:
> 
> # Spherical Mercator - Google
> <900913> +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 
> +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs
> 
> -Steve

Hello,

The official EPSG code for Google Spherical Mercator is EPSG:3785.

Jean-Claude
From dmueller at trentu.ca  Sat Apr 18 08:53:14 2009
From: dmueller at trentu.ca (Derek Mueller)
Date: Sat Apr 18 08:53:15 2009
Subject: [gdal-dev] Get real and turf imaginary from complex float...
In-Reply-To: <49E8C23C.40300@pobox.com>
References: <49E4DE95.1090309@trentu.ca> <49E4F9FF.6080201@pobox.com>
	<49E8AABB.9020507@trentu.ca> <49E8C23C.40300@pobox.com>
Message-ID: <49E9CD3A.9040504@trentu.ca>

Thanks again Frank,

That's actually very straightforward and works well.

Derek

Frank Warmerdam wrote:
>> I tried to import the CFloat32 directly into IDL/ENVI but it doesn't 
>> like the '64-bit pixel'.  Could there be a workaround by modifying 
>> tiff tags to say the CFloat32 data are actually 2 separate 32-bit 
>> numbers?
>
> There is no mechanism to do this in TIFF, but you might find you can
> export to a raw format and then alter the raw header to describe the
> raw file differently.
>
> The only raw format driver I can find that supports complex imagery is
> the MFF2 (aka HKV) format.
>
> If I translate a CInt16 dataset to MFF2 format (which creates a 
> directory)
> I get an attrib file that looks like:
>
> channel.enumeration = 1
> channel.interleave = { *pixel tile sequential }
> extent.cols = 2500
> extent.rows = 14795
> pixel.encoding = { unsigned *twos-complement ieee-754 }
> pixel.size = 32
> pixel.field = { real *complex }
> pixel.order = { *lsbf msbf }
> version = 1.1
>
> If I change this to look like:
>
> channel.enumeration = 2
> channel.interleave = { *pixel tile sequential }
> extent.cols = 2500
> extent.rows = 14795
> pixel.encoding = { unsigned *twos-complement ieee-754 }
> pixel.size = 16
> pixel.field = { *real complex }
> pixel.order = { *lsbf msbf }
> version = 1.1
>
> The the dataset is essentially treated as two Int16 bands.
> Note that channel.enumeration was changed to 2, pixel.size was
> changed from 32 to 16, and pixel.field now has the star by real
> instead of complex.
>
> Best regards,
From woodbri at swoodbridge.com  Sat Apr 18 09:06:48 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Sat Apr 18 09:07:47 2009
Subject: [gdal-dev] gdalwarp differences between v1.5.2 and v1.4.4.0
In-Reply-To: <200904180046.09607.even.rouault@mines-paris.org>
References: <49E8FF31.7030008@swoodbridge.com>
	<200904180046.09607.even.rouault@mines-paris.org>
Message-ID: <49E9D068.4090901@swoodbridge.com>

Even,

I copied the newer data/cubewerx_extra.wkt over to the gdal 1.4.4 system 
and that seems to have fixed the problem.

I'm curious why just adding 900913 to epsg did not work for gdal, but 
did work for the mapserver which is projection the vectors on the fly.

-Steve

Even Rouault wrote:
> Stephen,
> 
> Which version gives the right result ?
> I've checked that GDAL SVN trunk (1.7.0dev) gives the same result as the one 
> you get with GDAL 1.5.2.
> It looks like EPSG:900913 definition was added in data/cubewerx_extra.wkt for 
> GDAL 1.5.0. I've tested again with GDAL 1.4.4 and it doesn't even manage to 
> start the warping :
> "ERROR 6: EPSG PCS/GCS code 900913 not found in EPSG support files.  Is this a 
> valid
> EPSG coordinate system?
> ERROR 1: Translating source or target SRS failed:
> EPSG:900913
> "
> 
> So I don't understand how you can get it to work with GDAL 1.4.4.
> 
> Even
> 
> Le Saturday 18 April 2009 00:14:09 Stephen Woodbridge, vous avez ?crit :
>> Hi all,
>>
>> I have a serious problem that you might be able to shed some light on.
>>
>> I have a landsat geotif (actually lots of them) and when I projection
>> them on a systems with v1.5.2 and v1.4.4.0 I get very different results!
>>
>> The image sizes are different, the projection info is different, the
>> pixel size is different.
>>
>> And I think the imagery had shifted significantly in the vertical
>> direction.
>>
>> Thoughts on how to fix this using 1.4.4.0, I'm not sure I can upgrade
>> the system because of package dependencies.
>>
>> -Steve
>>
>>
>> Original image same on both systems:
>>
>> $ gdalinfo n-41-25_0-0.tif
>> Driver: GTiff/GeoTIFF
>> Files: n-41-25_0-0.tif
>> Size is 27192, 18524
>> Coordinate System is:
>> GEOGCS["WGS 84",
>>      DATUM["WGS_1984",
>>          SPHEROID["WGS 84",6378137,298.2572235630016,
>>              AUTHORITY["EPSG","7030"]],
>>          AUTHORITY["EPSG","6326"]],
>>      PRIMEM["Greenwich",0],
>>      UNIT["degree",0.0174532925199433],
>>      AUTHORITY["EPSG","4326"]]
>> Origin = (59.228401534356898,27.479955940770701)
>> Pixel Size = (0.000138699063483,-0.000138699063483)
>> Metadata:
>>    AREA_OR_POINT=Area
>> Image Structure Metadata:
>>    INTERLEAVE=PIXEL
>> Corner Coordinates:
>> Upper Left  (  59.2284015,  27.4799559) ( 59d13'42.25"E, 27d28'47.84"N)
>> Lower Left  (  59.2284015,  24.9106945) ( 59d13'42.25"E, 24d54'38.50"N)
>> Upper Right (  62.9999065,  27.4799559) ( 62d59'59.66"E, 27d28'47.84"N)
>> Lower Right (  62.9999065,  24.9106945) ( 62d59'59.66"E, 24d54'38.50"N)
>> Center      (  61.1141540,  26.1953252) ( 61d 6'50.95"E, 26d11'43.17"N)
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>>    NoData Value=0
>>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
>> 425x290, 213x145, 107x73, 54x37
>> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>>    NoData Value=0
>>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
>> 425x290, 213x145, 107x73, 54x37
>> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>>    NoData Value=0
>>    Overviews: 13596x9262, 6798x4631, 3399x2316, 1700x1158, 850x579,
>> 425x290, 213x145, 107x73, 54x37
>>
>>
>> I run this command on the two systems:
>>
>> $ gdalwarp -s_srs EPSG:4326 -t_srs epsg:900913 -co TILED=YES
>> landsat-af2/n-41-25_0-0.tif junk/n-41-25_0-0.tif
>>
>> I get results on GDAL 1.5.2, released 2008/05/29:
>>
>> $ gdalinfo junk/n-41-25_0-0.tif
>> Driver: GTiff/GeoTIFF
>> Files: junk/n-41-25_0-0.tif
>> Size is 26204, 19897
>> Coordinate System is:
>> PROJCS["Google Maps Global Mercator",
>>      GEOGCS["WGS 84",
>>          DATUM["WGS_1984",
>>              SPHEROID["WGS 84",6378137,298.2572235630016,
>>                  AUTHORITY["EPSG","7030"]],
>>              AUTHORITY["EPSG","6326"]],
>>          PRIMEM["Greenwich",0],
>>          UNIT["degree",0.0174532925199433],
>>          AUTHORITY["EPSG","4326"]],
>>      PROJECTION["Mercator_1SP"],
>>      PARAMETER["central_meridian",0],
>>      PARAMETER["scale_factor",1],
>>      PARAMETER["false_easting",0],
>>      PARAMETER["false_northing",0],
>>      UNIT["metre",1,
>>          AUTHORITY["EPSG","9001"]]]
>> Origin = (6593275.499304148368537,3183564.941239751409739)
>> Pixel Size = (16.021935325381026,-16.021935325381026)
>> Metadata:
>>    AREA_OR_POINT=Area
>> Image Structure Metadata:
>>    INTERLEAVE=PIXEL
>> Corner Coordinates:
>> Upper Left  ( 6593275.499, 3183564.941) ( 59d13'42.25"E, 27d38'15.97"N)
>> Lower Left  ( 6593275.499, 2864776.494) ( 59d13'42.25"E, 25d 3'28.72"N)
>> Upper Right ( 7013114.293, 3183564.941) ( 62d59'59.56"E, 27d38'15.97"N)
>> Lower Right ( 7013114.293, 2864776.494) ( 62d59'59.56"E, 25d 3'28.72"N)
>> Center      ( 6803194.896, 3024170.718) ( 61d 6'50.90"E, 26d21'18.52"N)
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>>
>>
>> I get results on GDAL 1.4.4.0, released 2007/11/23:
>>
>> $ gdalinfo junk/n-41-25_0-0.tif
>> Driver: GTiff/GeoTIFF
>> Size is 26256, 19828
>> Coordinate System is:
>> PROJCS["unnamed",
>>      GEOGCS["unnamed ellipse",
>>          DATUM["unknown",
>>              SPHEROID["unnamed",6378137,0]],
>>          PRIMEM["Greenwich",0],
>>          UNIT["degree",0.0174532925199433]],
>>      PROJECTION["Mercator_1SP"],
>>      PARAMETER["latitude_of_origin",0],
>>      PARAMETER["central_meridian",0],
>>      PARAMETER["scale_factor",1],
>>      PARAMETER["false_easting",0],
>>      PARAMETER["false_northing",0],
>>      UNIT["metre",1,
>>          AUTHORITY["EPSG","9001"]]]
>> Origin = (6593275.499304148368537,3163848.570181989576668)
>> Pixel Size = (15.990354027000551,-15.990354027000551)
>> Metadata:
>>    AREA_OR_POINT=Area
>> Corner Coordinates:
>> Upper Left  ( 6593275.499, 3163848.570) ( 59d13'42.25"E, 27d19'21.76"N)
>> Lower Left  ( 6593275.499, 2846791.831) ( 59d13'42.25"E, 24d45'50.60"N)
>> Upper Right ( 7013118.235, 3163848.570) ( 62d59'59.69"E, 27d19'21.76"N)
>> Lower Right ( 7013118.235, 2846791.831) ( 62d59'59.69"E, 24d45'50.60"N)
>> Center      ( 6803196.867, 3005320.200) ( 61d 6'50.97"E, 26d 3'1.31"N)
>> Band 1 Block=256x256 Type=Byte, ColorInterp=Red
>> Band 2 Block=256x256 Type=Byte, ColorInterp=Green
>> Band 3 Block=256x256 Type=Byte, ColorInterp=Blue
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From klokan at klokan.cz  Sat Apr 18 12:32:17 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Sat Apr 18 12:32:20 2009
Subject: [gdal-dev] Gdal2tiles generated Openlayers.html
In-Reply-To: <loom.20090416T065124-961@post.gmane.org>
References: <loom.20090416T065124-961@post.gmane.org>
Message-ID: <6e41d95b0904180932s6c1ceb28n55c823e3275f392@mail.gmail.com>

Hi Jukka,

openlayers.html should run directly from the disk same as
googlemaps.html is running...

Did you specify Google Maps API key during generation of the code?

Can you please send me command you used for generation of the tiles
and if possible also a link to the presentation which is not running?
Firebug always help with debugging... but as I know there are no
problems with generated OpenLayers presentation.

Best,

Klokan

On Thu, Apr 16, 2009 at 9:05 AM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Hi,
>
> I had a try with gdal2tiles and split an image with it. It worked fine, as well
> as the automatically created Googlemaps application. ?However, the also
> automatically created OpenLayers.html does not show the tiles for me when opened
> with browser. Is it supposet to work in a similar way than the googlemaps.html
> ?or should I be doing some extra steps, like reading the openlayers.html through
> web server and not directly from local file?
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From klokan at klokan.cz  Sat Apr 18 12:48:01 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Sat Apr 18 12:48:05 2009
Subject: [gdal-dev] gdal2tiles.py and ProjNatOriginLongGeoKey
In-Reply-To: <49E32D83.1090300@googlemail.com>
References: <49E32D83.1090300@googlemail.com>
Message-ID: <6e41d95b0904180948q1ada5236h593a1592be6616e6@mail.gmail.com>

Hi Eduard,

you need to know correct georeference and spatial reference system for
your geodata - as soon as you have it then the tiles are rendered
correctly and directly. It seems your file has already georeference
embeded in EPSG:32636 (WGS 84 / UTM zone 36N).

I don't understand why are you assigning GCPs and EPSG:900913, warping
to EPSG:4326 and then letting gdal2tiles warp back to EPSG:900913
internally...

Try just:
> ./gdal2tiles.py -z 4-18 1.tif sat

You can also install MapTiler and just drag and drop your file to the GUI:
http://www.maptiler.org/

Best,

Klokan
-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From klokan at klokan.cz  Sat Apr 18 12:59:58 2009
From: klokan at klokan.cz (=?ISO-8859-2?Q?Klokan_Petr_P=F8idal?=)
Date: Sat Apr 18 13:00:01 2009
Subject: [gdal-dev] gdal2tiles.py and ProjNatOriginLongGeoKey
In-Reply-To: <e11cb6a80904131336g5ee4ff3eg70bb621f48feb0ba@mail.gmail.com>
References: <49E32D83.1090300@googlemail.com>
	<e11cb6a80904131336g5ee4ff3eg70bb621f48feb0ba@mail.gmail.com>
Message-ID: <6e41d95b0904180959k580699bu60f5ca9183ff18b9@mail.gmail.com>

Zachary,

do you really need a huge big from your files?

In case you need to use your merged data for generating tiles by
gdal2tiles (I guess you do because you posted your message to this
thread) you can use GDAL VRT driver for merging - which is just XML
file describing where is which file located in the huge result raster.

VRT merging can be done simply by writing your own XML, format is
described here:
http://www.gdal.org/gdal_vrttut.html

You can also use one of the existing utilities:
- gdalbuildvrt from GDAL 1.7 dev (GDAL svn trunk)
- gdal_vrtmerge
(http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/gdal_vrtmerge.py)
- preprocess.py from MapTiler SVN
(http://code.google.com/p/maptiler/source/browse/trunk/maptiler/preprocess.py)

Best,

Klokan

On Mon, Apr 13, 2009 at 10:36 PM, Zachary Fisk <zacharyfisk@gmail.com> wrote:
> ?I'm trying to merge about 345 tifs NED 10M data for the continental U.S. I
> processed the data from ArcInfo Grid to tif (see bottom for the output of
> one of the tifs from gdalinfo) using gdal_translate. The error below is
> generated from the attempted merge, how I do build GDAL with BigTiff
> support? Also I noticed my windows version of the tool supports the
> --optfile parameter, but not the linux python script version. Can this
> command handle all 345 files on one command? Are there other best practices
> methods that I should be aware of, I prefer to process on the linux system
> since they, but am open to processing on windows. Whatever works.
>
>
> Sample command parameters I'm passing to gdal_merge.py
> gdal_merge.py -o big2.tif -of GTIFF -co BIGTIFF=YES -co TILE=YES -co
> COMPRESS=DEFLATE -co PREDICTOR=2 -co BLOCKXSIZE=128 -co BLOCKYSIZE=128
> demgrid_101_1.tif demgrid_101_2.tif demgrid_101_3.tif demgrid_102_1.tif
> demgrid_102_2.tif demgrid_102_3.tif demgrid_103_1.tif demgrid_103_2.tif
> demgrid_103_3.tif demgrid_104_1.tif
> Warning 6: BIGTIFF requested, but GDAL built without BigTIFF
> enabled libtiff, request ignored.
> Segmentation fault
>
>
>
> Output of one of the images passed to the gdal_merge.py from gdalinfo
> gdalinfo demgrid_101_1.tif
> Driver: GTiff/GeoTIFF
> Files: demgrid_101_1.tif
> Size is 32400, 10800
> Coordinate System is:
> GEOGCS["NAD83",
> ??? DATUM["North_American_Datum_1983",
> ??????? SPHEROID["GRS 1980",6378137,298.2572221010042,
> ??????????? AUTHORITY["EPSG","7019"]],
> ??????? AUTHORITY["EPSG","6269"]],
> ??? PRIMEM["Greenwich",0],
> ??? UNIT["degree",0.0174532925199433],
> ??? AUTHORITY["EPSG","4269"]]
> Origin = (-120.000000000014793,47.000000000075204)
> Pixel Size = (0.000092592592600,-0.000092592592600)
> Metadata:
> ? AREA_OR_POINT=Area
> Image Structure Metadata:
> ? INTERLEAVE=BAND
> Corner Coordinates:
> Upper Left? (-120.0000000,? 47.0000000) (120d 0'0.00"W, 47d 0'0.00"N)
> Lower Left? (-120.0000000,? 46.0000000) (120d 0'0.00"W, 46d 0'0.00"N)
> Upper Right (-117.0000000,? 47.0000000) (117d 0'0.00"W, 47d 0'0.00"N)
> Lower Right (-117.0000000,? 46.0000000) (117d 0'0.00"W, 46d 0'0.00"N)
> Center????? (-118.5000000,? 46.5000000) (118d30'0.00"W, 46d30'0.00"N)
> Band 1 Block=32400x1 Type=Int16, ColorInterp=Gray
> ? NoData Value=-3.4028234663852886e+38
> ? Metadata:
> ??? LAYER_TYPE=athematic
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/
From geep999 at yahoo.co.uk  Sat Apr 18 16:53:53 2009
From: geep999 at yahoo.co.uk (geep999)
Date: Sat Apr 18 16:53:55 2009
Subject: [Gdal-dev] gdaltransform v.1.6.0 - result differs from documentation
Message-ID: <1240088033890-2657180.post@n2.nabble.com>


Hi,
I have own-compiled gdal-1.6.0 on Linux - Slackware 12.2.
The documentation for gdalwarp - http://www.gdal.org/gdaltransform.html  - shows
an example and a result:
Simple reprojection from one projected coordinate system to another:
gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
177502 311865
Produces the following output in meters in the "Belge 1972 / Belgian Lambert 72" projection:
244510.77404604 166154.532871342 -1046.79270555763

My gdaltransform (gdal-1.6.0) gives a different result:
gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
177502 311865
244422.238366377 165970.24545029 0

Is the example wrong? Is my gdal-1.6.0 somehow faulty?
Can anybody duplicate this or explain the difference?

Cheers,
Peter
-- 
View this message in context: http://n2.nabble.com/gdaltransform-v.1.6.0---result-differs-from-documentation-tp2657180p2657180.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jaadfoo at gmail.com  Sat Apr 18 17:01:59 2009
From: jaadfoo at gmail.com (Jamie Adams)
Date: Sat Apr 18 17:02:00 2009
Subject: [Gdal-dev] gdaltransform v.1.6.0 - result differs from 
	documentation
In-Reply-To: <1240088033890-2657180.post@n2.nabble.com>
References: <1240088033890-2657180.post@n2.nabble.com>
Message-ID: <f4339510904181401t24bb406fy28c2af04b6adc081@mail.gmail.com>

Looks like they may have added a towgs84 parameter to the proj definition
for 31370:

http://postgis.refractions.net/pipermail/postgis-commits/2008-May/000283.html

That would likely explain the shift - the documentation probably hasn't been
updated.

On Sat, Apr 18, 2009 at 1:53 PM, geep999 <geep999@yahoo.co.uk> wrote:

>
> Hi,
> I have own-compiled gdal-1.6.0 on Linux - Slackware 12.2.
> The documentation for gdalwarp - http://www.gdal.org/gdaltransform.html  -
> shows
> an example and a result:
> Simple reprojection from one projected coordinate system to another:
> gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
> 177502 311865
> Produces the following output in meters in the "Belge 1972 / Belgian
> Lambert 72" projection:
> 244510.77404604 166154.532871342 -1046.79270555763
>
> My gdaltransform (gdal-1.6.0) gives a different result:
> gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
> 177502 311865
> 244422.238366377 165970.24545029 0
>
> Is the example wrong? Is my gdal-1.6.0 somehow faulty?
> Can anybody duplicate this or explain the difference?
>
> Cheers,
> Peter
> --
> View this message in context:
> http://n2.nabble.com/gdaltransform-v.1.6.0---result-differs-from-documentation-tp2657180p2657180.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090418/0cf125d6/attachment.html
From geep999 at yahoo.co.uk  Sat Apr 18 18:42:15 2009
From: geep999 at yahoo.co.uk (geep999)
Date: Sat Apr 18 18:42:17 2009
Subject: [Gdal-dev] gdaltransform v.1.6.0 - result differs from
	documentation
In-Reply-To: <f4339510904181401t24bb406fy28c2af04b6adc081@mail.gmail.com>
References: <1240088033890-2657180.post@n2.nabble.com>
	<f4339510904181401t24bb406fy28c2af04b6adc081@mail.gmail.com>
Message-ID: <1240094535798-2657456.post@n2.nabble.com>


Hi,
Thanks for the reply. I'm not sure that it's due to that change however. I just tried 1.5.1 and 1.5.2 too. They give the same result as 1.6.0. (I tried 1.4.1 too, but that doesn't have a gdaltransform command!).
1.5.1 is March 2008, and that predates the May 2008 change that you mention.

I wonder if it's due to some supporting library somewhere? I have geos-3.1.0, ogdi-3.1.6, proj-4.6.1.
I'd feel happier if somebody else can duplicate my result.

Cheers,
Peter

Looks like they may have added a towgs84 parameter to the proj definition
for 31370:

http://postgis.refractions.net/pipermail/postgis-commits/2008-May/000283.html

That would likely explain the shift - the documentation probably hasn't been
updated.

On Sat, Apr 18, 2009 at 1:53 PM, geep999 <geep999@yahoo.co.uk> wrote:

>
> Hi,
> I have own-compiled gdal-1.6.0 on Linux - Slackware 12.2.
> The documentation for gdalwarp - http://www.gdal.org/gdaltransform.html  -
> shows
> an example and a result:
> Simple reprojection from one projected coordinate system to another:
> gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
> 177502 311865
> Produces the following output in meters in the "Belge 1972 / Belgian
> Lambert 72" projection:
> 244510.77404604 166154.532871342 -1046.79270555763
>
> My gdaltransform (gdal-1.6.0) gives a different result:
> gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
> 177502 311865
> 244422.238366377 165970.24545029 0
>
> Is the example wrong? Is my gdal-1.6.0 somehow faulty?
> Can anybody duplicate this or explain the difference?
>
> Cheers,
> Peter
> --
> View this message in context:
> http://n2.nabble.com/gdaltransform-v.1.6.0---result-differs-from-documentation-tp2657180p2657180.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
View this message in context: http://n2.nabble.com/gdaltransform-v.1.6.0---result-differs-from-documentation-tp2657180p2657456.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From romero619 at hotmail.com  Sun Apr 19 03:32:31 2009
From: romero619 at hotmail.com (P.Romero)
Date: Sun Apr 19 03:33:35 2009
Subject: [gdal-dev] Padding/spacing in mysql driver output
Message-ID: <BAY117-DS22422F7992F352785C73CF9790@phx.gbl>

Hi,
Im new to this list.
I use ogr w/ the mysql driver as part of a mapserver installation.

Im having an issue with the formatting of numeric results that are being
returned from a mysql query.
It appears that values originating from 'double'-typed fields in the MySQL
database are showing up in ogr's output with a large amount of 'blank space'
left-padding.

Here's an example of some output from running "ogrinfo -al
'myQueryFile.ovf'":

OGRFeature(mypoints):86
  max(recTS) (Integer) = 1240078380
  buoyName (String) = 51202
  lat (Real) =                     21
  lon (Real) =                   -158
  MAG (Real) =                    -371
  WDIR (Real) =                    -99
  WSPD (Real) =                    -99
  ADIR (Real) =                      81
  ts (DateTime) = 2009/04/04  0:43:00
  POINT (-157.680000000000007 21.420000000000002 0)

In case my hotmail account mangles the above output, here is a description
of what is occuring:
Any value with a datatype of 'Real' (i.e., 'double' in MySQL) is appearing
with approx. 20 spaces of left-padding. However, other datatypes are not
showing this large padding. 

The extra spacing is also showing up in my mapserver ogr/mysql query output;
its unnecessary, unwanted, & unacceptable, so Id like to remove it.

Is this spacing a bug, or by design?
How can I go about removing it from ogr's query results?

Thanks in advance,
P.Romero

From geep999 at yahoo.co.uk  Sun Apr 19 04:04:31 2009
From: geep999 at yahoo.co.uk (geep999)
Date: Sun Apr 19 04:04:42 2009
Subject: [Gdal-dev] gdaltransform v.1.6.0 - result differs from
	documentation
In-Reply-To: <1240094535798-2657456.post@n2.nabble.com>
References: <1240088033890-2657180.post@n2.nabble.com>
	<f4339510904181401t24bb406fy28c2af04b6adc081@mail.gmail.com>
	<1240094535798-2657456.post@n2.nabble.com>
Message-ID: <1240128271332-2658497.post@n2.nabble.com>


Answered my own question - duplicated the result on a different OS.
Installed Ubuntu's packaged  gdal-1.5.1 + proj-4.6.0 + geos-3.0.0 + ogdi-3.2.0 on a Virtual Machine running Ubuntu 8.10 - the Intrepid Ibex.
Exactly the same result:
@VMUBUNTU:~$  gdaltransform -s_srs EPSG:28992 -t_srs EPSG:31370
177502 311865
244422.238366377 165970.24545029 0

Seems that the documentation example is wrong.

Cheers,
Peter
-- 
View this message in context: http://n2.nabble.com/gdaltransform-v.1.6.0---result-differs-from-documentation-tp2657180p2658497.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Sun Apr 19 05:23:40 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Apr 19 05:23:52 2009
Subject: [gdal-dev] Padding/spacing in mysql driver output
In-Reply-To: <BAY117-DS22422F7992F352785C73CF9790@phx.gbl>
References: <BAY117-DS22422F7992F352785C73CF9790@phx.gbl>
Message-ID: <200904191123.42157.even.rouault@mines-paris.org>

Hi,

this behaviour is not specific to the MySQL driver. When a field has a 
specified width and precision, it will get formatted according to it. This 
behaviour was specifically introduced 10 years ago ! : 
http://trac.osgeo.org/gdal/changeset/745. So it looks like a behaviour by 
design, although I'm not clear on its justification. Maybe Frank will 
remember ?

If you look at the first lines of your ogrinfo dump, you'll see that the 
fields with left padding are declared in the form :
lat: Real(22.0)

One possible workaround is that you change your MySQL table definitions so 
that the columns are not of the form double(x,y) but just double.

Another one, quite inelegant and possibly not performing well, is to embed the 
content of your ovf file into another ovf file and use the CAST operator of 
OGR SQL (see http://gdal.org/ogr/ogr_sql.html)

For example:

<OGRVRTDataSource>
    <OGRVRTLayer name="poly">
        <SrcDataSource> <!-- here put your original OVF file, but 
XML-escaped -->
            &lt;OGRVRTDataSource&gt;
                &lt;OGRVRTLayer name="poly"&gt;
                    &lt;SrcDataSource&gt;MYSQL:even&lt;/SrcDataSource&gt;
                    &lt;SrcSQL&gt;SELECT area FROM poly&lt;/SrcSQL&gt;
                &lt;/OGRVRTLayer&gt;
            &lt;/OGRVRTDataSource&gt;
        </SrcDataSource>
	<!-- here cast every double field as float(1) -->
        <SrcSQL>SELECT CAST(area as float(1)) FROM poly</SrcSQL>
    </OGRVRTLayer>
</OGRVRTDataSource>

Best regards,
Even

Le Sunday 19 April 2009 09:32:31 P.Romero, vous avez ?crit?:
> Hi,
> Im new to this list.
> I use ogr w/ the mysql driver as part of a mapserver installation.
>
> Im having an issue with the formatting of numeric results that are being
> returned from a mysql query.
> It appears that values originating from 'double'-typed fields in the MySQL
> database are showing up in ogr's output with a large amount of 'blank
> space' left-padding.
>
> Here's an example of some output from running "ogrinfo -al
> 'myQueryFile.ovf'":
>
> OGRFeature(mypoints):86
>   max(recTS) (Integer) = 1240078380
>   buoyName (String) = 51202
>   lat (Real) =                     21
>   lon (Real) =                   -158
>   MAG (Real) =                    -371
>   WDIR (Real) =                    -99
>   WSPD (Real) =                    -99
>   ADIR (Real) =                      81
>   ts (DateTime) = 2009/04/04  0:43:00
>   POINT (-157.680000000000007 21.420000000000002 0)
>
> In case my hotmail account mangles the above output, here is a description
> of what is occuring:
> Any value with a datatype of 'Real' (i.e., 'double' in MySQL) is appearing
> with approx. 20 spaces of left-padding. However, other datatypes are not
> showing this large padding.
>
> The extra spacing is also showing up in my mapserver ogr/mysql query
> output; its unnecessary, unwanted, & unacceptable, so Id like to remove it.
>
> Is this spacing a bug, or by design?
> How can I go about removing it from ogr's query results?
>
> Thanks in advance,
> P.Romero
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From romero619 at hotmail.com  Sun Apr 19 05:39:49 2009
From: romero619 at hotmail.com (P.Romero)
Date: Sun Apr 19 05:39:57 2009
Subject: [gdal-dev] Padding/spacing in mysql driver output
In-Reply-To: <200904191123.42157.even.rouault@mines-paris.org>
References: <BAY117-DS22422F7992F352785C73CF9790@phx.gbl>
	<200904191123.42157.even.rouault@mines-paris.org>
Message-ID: <BAY117-DS2C3ECAC91EE6258065043F9790@phx.gbl>


 "If you look at the first lines of your ogrinfo dump, you'll see that the
fields with left padding are declared in the form :
lat: Real(22.0)"

- Where is this information? I didn?t see it; How can I access it?

"One possible workaround is that you change your MySQL table definitions so
that the columns are not of the form double(x,y) but just double."

- AFAIK, I never set a precision value for double fields when the tables
were created; they were created simply as 'double'. I'll need to
double-check this, but I honestly don?t believe that I set the precision;
perhaps MySQL defaults to '22' as the field size for doubles? I'll need to
look into this. Im hoping that I will, in fact, be able to adjust this
within MySQL...

I cant see any usefulness in this behavior; perhaps it would be worth
considering as a 'feature request' to eliminate this extra spacing in a
future release?

Thanks again for the help,
P.Romero
-----Original Message-----
From: Even Rouault [mailto:even.rouault@mines-paris.org] 
Sent: 2009-04-19 4:24 AM
To: gdal-dev@lists.osgeo.org
Cc: P.Romero; Frank Warmerdam
Subject: Re: [gdal-dev] Padding/spacing in mysql driver output

Hi,

this behaviour is not specific to the MySQL driver. When a field has a
specified width and precision, it will get formatted according to it. This
behaviour was specifically introduced 10 years ago ! : 
http://trac.osgeo.org/gdal/changeset/745. So it looks like a behaviour by
design, although I'm not clear on its justification. Maybe Frank will
remember ?

If you look at the first lines of your ogrinfo dump, you'll see that the
fields with left padding are declared in the form :
lat: Real(22.0)

One possible workaround is that you change your MySQL table definitions so
that the columns are not of the form double(x,y) but just double.

Another one, quite inelegant and possibly not performing well, is to embed
the content of your ovf file into another ovf file and use the CAST operator
of OGR SQL (see http://gdal.org/ogr/ogr_sql.html)

For example:

<OGRVRTDataSource>
    <OGRVRTLayer name="poly">
        <SrcDataSource> <!-- here put your original OVF file, but
XML-escaped -->
            &lt;OGRVRTDataSource&gt;
                &lt;OGRVRTLayer name="poly"&gt;
                    &lt;SrcDataSource&gt;MYSQL:even&lt;/SrcDataSource&gt;
                    &lt;SrcSQL&gt;SELECT area FROM poly&lt;/SrcSQL&gt;
                &lt;/OGRVRTLayer&gt;
            &lt;/OGRVRTDataSource&gt;
        </SrcDataSource>
	<!-- here cast every double field as float(1) -->
        <SrcSQL>SELECT CAST(area as float(1)) FROM poly</SrcSQL>
    </OGRVRTLayer>
</OGRVRTDataSource>

Best regards,
Even

Le Sunday 19 April 2009 09:32:31 P.Romero, vous avez ?crit?:
> Hi,
> Im new to this list.
> I use ogr w/ the mysql driver as part of a mapserver installation.
>
> Im having an issue with the formatting of numeric results that are 
> being returned from a mysql query.
> It appears that values originating from 'double'-typed fields in the 
> MySQL database are showing up in ogr's output with a large amount of 
> 'blank space' left-padding.
>
> Here's an example of some output from running "ogrinfo -al
> 'myQueryFile.ovf'":
>
> OGRFeature(mypoints):86
>   max(recTS) (Integer) = 1240078380
>   buoyName (String) = 51202
>   lat (Real) =                     21
>   lon (Real) =                   -158
>   MAG (Real) =                    -371
>   WDIR (Real) =                    -99
>   WSPD (Real) =                    -99
>   ADIR (Real) =                      81
>   ts (DateTime) = 2009/04/04  0:43:00
>   POINT (-157.680000000000007 21.420000000000002 0)
>
> In case my hotmail account mangles the above output, here is a 
> description of what is occuring:
> Any value with a datatype of 'Real' (i.e., 'double' in MySQL) is 
> appearing with approx. 20 spaces of left-padding. However, other 
> datatypes are not showing this large padding.
>
> The extra spacing is also showing up in my mapserver ogr/mysql query 
> output; its unnecessary, unwanted, & unacceptable, so Id like to remove
it.
>
> Is this spacing a bug, or by design?
> How can I go about removing it from ogr's query results?
>
> Thanks in advance,
> P.Romero
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



From Jukka.Rahkonen at mmmtike.fi  Sun Apr 19 07:18:55 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Sun Apr 19 07:18:58 2009
Subject: [gdal-dev] Gdal2tiles generated Openlayers.html
References: <loom.20090416T065124-961@post.gmane.org>
	<6e41d95b0904180932s6c1ceb28n55c823e3275f392@mail.gmail.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E34268@tikka.haapa.mmm.fi>

Hi,

I believe I could repeat the behaviour with a bit smaller image (the original was 27 gigabytes).
Environment:
- Windows Xp and Windows Vista
- Gdal2tiles.py from FWTools 2.0.6 (Windows)
(Note: gdal2tiles does not work for me with FWTools 2.2.8 and 2.3.0.  I am getting just an error:
gdal2tiles.py: error: This version of GDAL is not supported. Please upgrade to 1.6+.  Those FWTools versions seem to contain gdal version 1.7dev)
- Image: Plain tiff image with tfw file.  Is is in epsg:2393 projection, but gdal does not know it.
- Command: gdal2tiles c:\data\test.tif
- Result: Directory with tile structure and files googlemap.html, openlayers.html and tilemapresource.xml.  Double clicking googlemaps.htlm shows map controls and map in Firefox (version 3.0.8).  Double clicking openlayers.html shows Openlayers controls, header line etc. but no map.  I installed Firebug but I do not know yet what to read from it. Firefox itseld does not report any errors.  I may be able to give you a link tomorrow.  About googlemaps API key, i was able to add it to googlemaps.html afterwards and then I can access the tile presentation also through the net without problems.

Regards,

-Jukka Rahkonen-



Klokan Petr Pridal wrote:
 
Hi Jukka,

openlayers.html should run directly from the disk same as
googlemaps.html is running...

Did you specify Google Maps API key during generation of the code?

Can you please send me command you used for generation of the tiles
and if possible also a link to the presentation which is not running?
Firebug always help with debugging... but as I know there are no
problems with generated OpenLayers presentation.

Best,

Klokan

On Thu, Apr 16, 2009 at 9:05 AM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Hi,
>
> I had a try with gdal2tiles and split an image with it. It worked fine, as well
> as the automatically created Googlemaps application. ?However, the also
> automatically created OpenLayers.html does not show the tiles for me when opened
> with browser. Is it supposet to work in a similar way than the googlemaps.html
> ?or should I be doing some extra steps, like reading the openlayers.html through
> web server and not directly from local file?
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/

From even.rouault at mines-paris.org  Sun Apr 19 13:29:02 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun Apr 19 13:29:14 2009
Subject: [gdal-dev] Gdal2tiles generated Openlayers.html
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86E34268@tikka.haapa.mmm.fi>
References: <loom.20090416T065124-961@post.gmane.org>
	<6e41d95b0904180932s6c1ceb28n55c823e3275f392@mail.gmail.com>
	<CC197224AC75CE4DB23F739B16891B86E34268@tikka.haapa.mmm.fi>
Message-ID: <200904191929.03691.even.rouault@mines-paris.org>

For the issue of gdal2tiles.py with FWTools , see 
http://lists.maptools.org/pipermail/fwtools/2009-April/001546.html

Le Sunday 19 April 2009 13:18:55 Rahkonen Jukka, vous avez ?crit?:
> Hi,
>
> I believe I could repeat the behaviour with a bit smaller image (the
> original was 27 gigabytes). Environment:
> - Windows Xp and Windows Vista
> - Gdal2tiles.py from FWTools 2.0.6 (Windows)
> (Note: gdal2tiles does not work for me with FWTools 2.2.8 and 2.3.0.  I am
> getting just an error: gdal2tiles.py: error: This version of GDAL is not
> supported. Please upgrade to 1.6+.  Those FWTools versions seem to contain
> gdal version 1.7dev) - Image: Plain tiff image with tfw file.  Is is in
> epsg:2393 projection, but gdal does not know it. - Command: gdal2tiles
> c:\data\test.tif
> - Result: Directory with tile structure and files googlemap.html,
> openlayers.html and tilemapresource.xml.  Double clicking googlemaps.htlm
> shows map controls and map in Firefox (version 3.0.8).  Double clicking
> openlayers.html shows Openlayers controls, header line etc. but no map.  I
> installed Firebug but I do not know yet what to read from it. Firefox
> itseld does not report any errors.  I may be able to give you a link
> tomorrow.  About googlemaps API key, i was able to add it to
> googlemaps.html afterwards and then I can access the tile presentation also
> through the net without problems.
>
> Regards,
>
> -Jukka Rahkonen-
>
>
>
> Klokan Petr Pridal wrote:
>
> Hi Jukka,
>
> openlayers.html should run directly from the disk same as
> googlemaps.html is running...
>
> Did you specify Google Maps API key during generation of the code?
>
> Can you please send me command you used for generation of the tiles
> and if possible also a link to the presentation which is not running?
> Firebug always help with debugging... but as I know there are no
> problems with generated OpenLayers presentation.
>
> Best,
>
> Klokan
>
> On Thu, Apr 16, 2009 at 9:05 AM, Jukka Rahkonen
>
> <jukka.rahkonen@mmmtike.fi> wrote:
> > Hi,
> >
> > I had a try with gdal2tiles and split an image with it. It worked fine,
> > as well as the automatically created Googlemaps application. ?However,
> > the also automatically created OpenLayers.html does not show the tiles
> > for me when opened with browser. Is it supposet to work in a similar way
> > than the googlemaps.html or should I be doing some extra steps, like
> > reading the openlayers.html through web server and not directly from
> > local file?
> >
> > -Jukka Rahkonen-
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From Jukka.Rahkonen at mmmtike.fi  Sun Apr 19 17:32:21 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Sun Apr 19 17:32:24 2009
Subject: [gdal-dev] Gdal2tiles generated Openlayers.html
References: <loom.20090416T065124-961@post.gmane.org>
	<6e41d95b0904180932s6c1ceb28n55c823e3275f392@mail.gmail.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E34269@tikka.haapa.mmm.fi>

Hi,

Problem was mostly in too old version of gdal2tiles.py I was using.  I made another try with MapTiler, and it created a working openlayers.html file.  There were differences at least in the bounds and projections.
It is a bit confusing that new FWTools version comes with gdal2tiles that does not work.

Regards,

-Jukka Rahkonen-


Klokan Petr Pridal wrote:
 
Hi Jukka,

openlayers.html should run directly from the disk same as
googlemaps.html is running...

Did you specify Google Maps API key during generation of the code?

Can you please send me command you used for generation of the tiles
and if possible also a link to the presentation which is not running?
Firebug always help with debugging... but as I know there are no
problems with generated OpenLayers presentation.

Best,

Klokan

On Thu, Apr 16, 2009 at 9:05 AM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Hi,
>
> I had a try with gdal2tiles and split an image with it. It worked fine, as well
> as the automatically created Googlemaps application. ?However, the also
> automatically created OpenLayers.html does not show the tiles for me when opened
> with browser. Is it supposet to work in a similar way than the googlemaps.html
> ?or should I be doing some extra steps, like reading the openlayers.html through
> web server and not directly from local file?
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
http://blog.klokan.cz/
http://www.maptiler.org/
http://www.oldmapsonline.org/

From Shawn.Gong at drdc-rddc.gc.ca  Mon Apr 20 16:00:25 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Mon Apr 20 16:00:55 2009
Subject: [gdal-dev] build gdal-1.6.0 on CentOS Linux error
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26E882@ottawaex02.Ottawa.drdc-rddc.gc.ca>

Hi list,

I am trying to build gdal-1.6.0 on a 64-bit CentOS Linux.
Error message shows that -fPIC must be used.

However after I have added -fPIC in HDF4.2r4's CFLAGS in Makefile and in
Gdal CFLAGS in GDALmake.opt, the error persists:
/usr/bin/ld: /home/sgong/build_openev/dist/lib/libmfhdf.a(mfsd.o):
relocation R_X86_64_32 against `a local symbol' can not be used when
making a shared object; recompile with -fPIC

Would someone help?

thanks,
Shawn


==============================================
make[1]: Entering directory `/home/sgong/build_openev/gdal-1.6.0'
/bin/sh /home/sgong/build_openev/gdal-1.6.0/libtool --mode=link
g++   -I/usr/include -lsqlite3 -L/home/sgong/build_openev/dist/lib
-lhdf5  -L/home/sgong/build_openev/dist/lib -lmfhdf -ldf -lsz
-L/home/sgong/build_openev/dist -L/home/sgong/build_openev/dist/lib
-ljpeg -L/home/sgong/build_openev/dist
-L/home/sgong/build_openev/dist/lib -lnetcdf -lz
-L/home/sgong/build_openev/dist -L/home/sgong/build_openev/dist/lib  -lm
-lrt -ldl        -o libgdal.la
/home/sgong/build_openev/gdal-1.6.0/frmts/o/*.lo
/home/sgong/build_openev/gdal-1.6.0/gcore/*.lo
/home/sgong/build_openev/gdal-1.6.0/port/*.lo
/home/sgong/build_openev/gdal-1.6.0/alg/*.lo
/home/sgong/build_openev/gdal-1.6.0/ogr/ogrsf_frmts/o/*.lo
./ogr/ogrgeometryfactory.lo ./ogr/ogrpoint.lo ./ogr/ogrcurve.lo
./ogr/ogrlinestring.lo ./ogr/ogrlinearring.lo ./ogr/ogrpolygon.lo
./ogr/ogrutils.lo ./ogr/ogrgeometry.lo ./ogr/ogrgeometrycollection.lo
./ogr/ogrmultipolygon.lo ./ogr/ogrsurface.lo ./ogr/ogrmultipoint.lo
./ogr/ogrmultilinestring.lo ./ogr/ogr_api.lo ./ogr/ogrfeature.lo
./ogr/ogrfeaturedefn.lo ./ogr/ogrfeaturequery.lo
./ogr/ogrfeaturestyle.lo ./ogr/ogrfielddefn.lo
./ogr/ogrspatialreference.lo ./ogr/ogr_srsnode.lo ./ogr/ogr_srs_proj4.lo
./ogr/ogr_fromepsg.lo ./ogr/ogrct.lo ./ogr/ogr_opt.lo
./ogr/ogr_srs_esri.lo ./ogr/ogr_srs_pci.lo ./ogr/ogr_srs_usgs.lo
./ogr/ogr_srs_dict.lo ./ogr/ogr_srs_panorama.lo ./ogr/ogr_srs_erm.lo
./ogr/swq.lo ./ogr/ogr_srs_validate.lo ./ogr/ogr_srs_xml.lo
./ogr/ograssemblepolygon.lo ./ogr/ogr2gmlgeometry.lo
./ogr/gml2ogrgeometry.lo \
            -rpath /home/sgong/build_openev/dist/lib \
            -no-undefined \
            -version-info 14:0:13
libtool: link: rm -fr  .libs/libgdal.la.lnkscript
libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
libtool: link: g++ -shared -nostdlib
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crti.o
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtbeginS.o
.libs/libgdal.la.lnkscript  -Wl,-rpath
-Wl,/home/sgong/build_openev/dist/lib -Wl,-rpath
-Wl,/home/sgong/build_openev/dist/lib -lsqlite3
-L/home/sgong/build_openev/dist/lib
/home/sgong/build_openev/dist/lib/libhdf5.so
/home/sgong/build_openev/dist/lib/libmfhdf.a
/home/sgong/build_openev/dist/lib/libdf.a
/home/sgong/build_openev/dist/lib/libsz.so
-L/home/sgong/build_openev/dist -ljpeg
/home/sgong/build_openev/dist/lib/libnetcdf.a -lz -lrt -ldl
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2
-L/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64
-L/lib/../lib64 -L/usr/lib/../lib64 -lstdc++ -lm -lc -lgcc_s
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/crtendS.o
/usr/lib/gcc/x86_64-redhat-linux/4.1.2/../../../../lib64/crtn.o
-Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.13.0
/usr/bin/ld: /home/sgong/build_openev/dist/lib/libmfhdf.a(mfsd.o):
relocation R_X86_64_32 against `a local symbol' can not be used when
making a shared object; recompile with -fPIC
/home/sgong/build_openev/dist/lib/libmfhdf.a: could not read symbols:
Bad value
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/home/sgong/build_openev/gdal-1.6.0'
make: *** [check-lib] Error 2

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090420/6ae523a0/attachment.html
From mtj.ashbridge at gmail.com  Mon Apr 20 17:41:29 2009
From: mtj.ashbridge at gmail.com (Michael Ashbridge)
Date: Mon Apr 20 17:41:31 2009
Subject: [gdal-dev] Recommendation for what vector format to use?
In-Reply-To: <9c2015090904151625v3cfc342bwf9e8888a1b7fdcf4@mail.gmail.com>
References: <9c2015090904151625v3cfc342bwf9e8888a1b7fdcf4@mail.gmail.com>
Message-ID: <1ed805e50904201441i36295360sb7b0b0a21d8859dc@mail.gmail.com>

Protocol buffers are a nice hammer to swing at internal nails:
http://code.google.com/p/protobuf/

On Wed, Apr 15, 2009 at 4:25 PM, Roger Andr? <randre@gmail.com> wrote:
> Hi All,
>
> I'm about to implement a new workflow that uses gdal_rasterize and it dawned
> on me that A) I wasn't limited to using shapefiles, and B) that it would be
> a heck of alot more convenient to use a binary data format that stored all
> the information in a single file.
>
> Is there such a thing?? Do you all have any recomendations for what a good
> interchange format is?
>
> Thanks,
>
> Roger
> --
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Tue Apr 21 00:27:08 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Apr 21 00:27:16 2009
Subject: [gdal-dev] build gdal-1.6.0 on CentOS Linux error
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26E882@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26E882@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <49ED4B1C.8030205@pobox.com>

Gong, Shawn (Contractor) wrote:
> Hi list,
> 
> I am trying to build gdal-1.6.0 on a 64-bit CentOS Linux.
> 
> Error message shows that ?fPIC must be used.
> 
> However after I have added ?fPIC in HDF4.2r4?s CFLAGS in Makefile and in 
> Gdal CFLAGS in GDALmake.opt, the error persists:
> 
> /usr/bin/ld: /home/sgong/build_openev/dist/lib/libmfhdf.a(mfsd.o): 
> relocation R_X86_64_32 against `a local symbol' can not be used when 
> making a shared object; recompile with -fPIC
> 
> Would someone help?

Shawn,

I would guess you haven't rebuilt all portion of the HDF libraries with
-fPIC.  I'd keep working on hdf makefiles.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Apr 21 00:29:15 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Apr 21 00:29:23 2009
Subject: [gdal-dev] build gdal-1.6.0 on CentOS Linux error
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26E882@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26E882@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <49ED4B9B.80809@pobox.com>

Gong, Shawn (Contractor) wrote:
> Hi list,
> 
> I am trying to build gdal-1.6.0 on a 64-bit CentOS Linux.
> 
> Error message shows that ?fPIC must be used.
> 
> However after I have added ?fPIC in HDF4.2r4?s CFLAGS in Makefile and in 
> Gdal CFLAGS in GDALmake.opt, the error persists:
> 
> /usr/bin/ld: /home/sgong/build_openev/dist/lib/libmfhdf.a(mfsd.o): 
> relocation R_X86_64_32 against `a local symbol' can not be used when 
> making a shared object; recompile with -fPIC
> 
> Would someone help?

Shawn,

I would guess you haven't rebuilt all portion of the HDF libraries with
-fPIC.  I'd keep working on hdf makefiles.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From piva at meeo.it  Tue Apr 21 04:28:20 2009
From: piva at meeo.it (Giacomo Piva)
Date: Tue Apr 21 04:35:01 2009
Subject: [gdal-dev] Image segmentation
Message-ID: <493E77D6-55DC-4749-BF92-35F77265B777@meeo.it>

Hi All,
I'm looking for a function that create an image segmentation.
Is there a function in the GDAL collection that permit to do that?

Thanks
--
Giacomo Piva. <piva@meeo.it>


From warmerdam at pobox.com  Tue Apr 21 13:01:37 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Apr 21 13:01:59 2009
Subject: [gdal-dev] Image segmentation
In-Reply-To: <493E77D6-55DC-4749-BF92-35F77265B777@meeo.it>
References: <493E77D6-55DC-4749-BF92-35F77265B777@meeo.it>
Message-ID: <49EDFBF1.2080905@pobox.com>

Giacomo Piva wrote:
> Hi All,
> I'm looking for a function that create an image segmentation.
> Is there a function in the GDAL collection that permit to do that?

Giacomo,

No, I don't believe there is.

By segmentation do you mean single band reclassification (ie. values
0-10 map to 1, values 20-35 map to 2, etc)?   Or are you thinking of
multispectral classification?  Or perhaps something else?

In any event, there is nothing in GDAL itself to do any of these.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Tue Apr 21 14:34:43 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Apr 21 14:34:54 2009
Subject: [gdal-dev] Padding/spacing in mysql driver output
In-Reply-To: <BAY117-DS2C3ECAC91EE6258065043F9790@phx.gbl>
References: <BAY117-DS22422F7992F352785C73CF9790@phx.gbl>
	<200904191123.42157.even.rouault@mines-paris.org>
	<BAY117-DS2C3ECAC91EE6258065043F9790@phx.gbl>
Message-ID: <200904212034.43622.even.rouault@mines-paris.org>

CC'ing mapserver-dev as it is one potential place where this behaviour could 
be changed.

After discussing this subject with Frank, it appears that the left padding was 
added so that column oriented reports would line up nicely.
We are a bit shy to change this behaviour now in GDAL as some applications may 
rely on it for pretty formatting.

For your use case, one solution would be to do the stripping in mapserver 
itself (in mapogr.cpp). Currently it calls the OGR_F_GetFieldAsString(), 
which is the function that adds the left padding for numeric fields with a 
non zero width. A solution would be that mapserver checks the type of the 
field, and if it is numeric (OFT_Integer or OFT_Real), it removes any leading 
whitespace.

Le Sunday 19 April 2009 11:39:49 P.Romero, vous avez ?crit?:
>  "If you look at the first lines of your ogrinfo dump, you'll see that the
> fields with left padding are declared in the form :
> lat: Real(22.0)"
>
> - Where is this information? I didn?t see it; How can I access it?
>
> "One possible workaround is that you change your MySQL table definitions so
> that the columns are not of the form double(x,y) but just double."
>
> - AFAIK, I never set a precision value for double fields when the tables
> were created; they were created simply as 'double'. I'll need to
> double-check this, but I honestly don?t believe that I set the precision;
> perhaps MySQL defaults to '22' as the field size for doubles? I'll need to
> look into this. Im hoping that I will, in fact, be able to adjust this
> within MySQL...
>
> I cant see any usefulness in this behavior; perhaps it would be worth
> considering as a 'feature request' to eliminate this extra spacing in a
> future release?
>
> Thanks again for the help,
> P.Romero
> -----Original Message-----
> From: Even Rouault [mailto:even.rouault@mines-paris.org]
> Sent: 2009-04-19 4:24 AM
> To: gdal-dev@lists.osgeo.org
> Cc: P.Romero; Frank Warmerdam
> Subject: Re: [gdal-dev] Padding/spacing in mysql driver output
>
> Hi,
>
> this behaviour is not specific to the MySQL driver. When a field has a
> specified width and precision, it will get formatted according to it. This
> behaviour was specifically introduced 10 years ago ! :
> http://trac.osgeo.org/gdal/changeset/745. So it looks like a behaviour by
> design, although I'm not clear on its justification. Maybe Frank will
> remember ?
>
> If you look at the first lines of your ogrinfo dump, you'll see that the
> fields with left padding are declared in the form :
> lat: Real(22.0)
>
> One possible workaround is that you change your MySQL table definitions so
> that the columns are not of the form double(x,y) but just double.
>
> Another one, quite inelegant and possibly not performing well, is to embed
> the content of your ovf file into another ovf file and use the CAST
> operator of OGR SQL (see http://gdal.org/ogr/ogr_sql.html)
>
> For example:
>
> <OGRVRTDataSource>
>     <OGRVRTLayer name="poly">
>         <SrcDataSource> <!-- here put your original OVF file, but
> XML-escaped -->
>             &lt;OGRVRTDataSource&gt;
>                 &lt;OGRVRTLayer name="poly"&gt;
>                     &lt;SrcDataSource&gt;MYSQL:even&lt;/SrcDataSource&gt;
>                     &lt;SrcSQL&gt;SELECT area FROM poly&lt;/SrcSQL&gt;
>                 &lt;/OGRVRTLayer&gt;
>             &lt;/OGRVRTDataSource&gt;
>         </SrcDataSource>
> 	<!-- here cast every double field as float(1) -->
>         <SrcSQL>SELECT CAST(area as float(1)) FROM poly</SrcSQL>
>     </OGRVRTLayer>
> </OGRVRTDataSource>
>
> Best regards,
> Even
>
> Le Sunday 19 April 2009 09:32:31 P.Romero, vous avez ?crit?:
> > Hi,
> > Im new to this list.
> > I use ogr w/ the mysql driver as part of a mapserver installation.
> >
> > Im having an issue with the formatting of numeric results that are
> > being returned from a mysql query.
> > It appears that values originating from 'double'-typed fields in the
> > MySQL database are showing up in ogr's output with a large amount of
> > 'blank space' left-padding.
> >
> > Here's an example of some output from running "ogrinfo -al
> > 'myQueryFile.ovf'":
> >
> > OGRFeature(mypoints):86
> >   max(recTS) (Integer) = 1240078380
> >   buoyName (String) = 51202
> >   lat (Real) =                     21
> >   lon (Real) =                   -158
> >   MAG (Real) =                    -371
> >   WDIR (Real) =                    -99
> >   WSPD (Real) =                    -99
> >   ADIR (Real) =                      81
> >   ts (DateTime) = 2009/04/04  0:43:00
> >   POINT (-157.680000000000007 21.420000000000002 0)
> >
> > In case my hotmail account mangles the above output, here is a
> > description of what is occuring:
> > Any value with a datatype of 'Real' (i.e., 'double' in MySQL) is
> > appearing with approx. 20 spaces of left-padding. However, other
> > datatypes are not showing this large padding.
> >
> > The extra spacing is also showing up in my mapserver ogr/mysql query
> > output; its unnecessary, unwanted, & unacceptable, so Id like to remove
>
> it.
>
> > Is this spacing a bug, or by design?
> > How can I go about removing it from ogr's query results?
> >
> > Thanks in advance,
> > P.Romero
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From neteler at osgeo.org  Tue Apr 21 15:35:13 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Tue Apr 21 15:35:16 2009
Subject: [gdal-dev] Image segmentation
In-Reply-To: <49EDFBF1.2080905@pobox.com>
References: <493E77D6-55DC-4749-BF92-35F77265B777@meeo.it>
	<49EDFBF1.2080905@pobox.com>
Message-ID: <86782b610904211235x64ccb075g2cdf9e6c86b25569@mail.gmail.com>

On Tue, Apr 21, 2009 at 7:01 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Giacomo Piva wrote:
>>
>> Hi All,
>> I'm looking for a function that create an image segmentation.
>> Is there a function in the GDAL collection that permit to do that?
>
> Giacomo,
>
> No, I don't believe there is.
>
> By segmentation do you mean single band reclassification (ie. values
> 0-10 map to 1, values 20-35 map to 2, etc)? ? Or are you thinking of
> multispectral classification? ?Or perhaps something else?

Image segmentation is the spatial partitioning of an image typically.

> In any event, there is nothing in GDAL itself to do any of these.

In GRASS you can find it:
http://grass.osgeo.org/grass64/manuals/html64_user/i.smap.html

Best
Markus
From frankie at debian.org  Tue Apr 21 16:24:39 2009
From: frankie at debian.org (Francesco P. Lovergine)
Date: Tue Apr 21 16:26:36 2009
Subject: [gdal-dev] Image segmentation
In-Reply-To: <86782b610904211235x64ccb075g2cdf9e6c86b25569@mail.gmail.com>
References: <493E77D6-55DC-4749-BF92-35F77265B777@meeo.it>
	<49EDFBF1.2080905@pobox.com>
	<86782b610904211235x64ccb075g2cdf9e6c86b25569@mail.gmail.com>
Message-ID: <20090421202439.GC4033@frankie.is-a-geek.org>

On Tue, Apr 21, 2009 at 09:35:13PM +0200, Markus Neteler wrote:
> On Tue, Apr 21, 2009 at 7:01 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> > Giacomo Piva wrote:
> >>
> >> Hi All,
> >> I'm looking for a function that create an image segmentation.
> >> Is there a function in the GDAL collection that permit to do that?
> >
> > Giacomo,
> >
> > No, I don't believe there is.
> >
> > By segmentation do you mean single band reclassification (ie. values
> > 0-10 map to 1, values 20-35 map to 2, etc)? ? Or are you thinking of
> > multispectral classification? ?Or perhaps something else?
> 
> Image segmentation is the spatial partitioning of an image typically.
> 
> > In any event, there is nothing in GDAL itself to do any of these.
> 
> In GRASS you can find it:
> http://grass.osgeo.org/grass64/manuals/html64_user/i.smap.html
> 

There are other libraries that implement image segmentation.                                                                                                 
Among others, ITK and OpenCV. They are not specifically oriented                                                                                             
to satellite images anyway, so they could be adequate or not for
your purposes.

-- 
Francesco P. Lovergine
From jerome at georezo.net  Tue Apr 21 16:27:31 2009
From: jerome at georezo.net (=?iso-8859-1?Q?Cuinet_J=E9r=F4me?=)
Date: Tue Apr 21 16:27:39 2009
Subject: [gdal-dev] Image segmentation
In-Reply-To: <86782b610904211235x64ccb075g2cdf9e6c86b25569@mail.gmail.com>
References: <493E77D6-55DC-4749-BF92-35F77265B777@meeo.it><49EDFBF1.2080905@pobox.com>
	<86782b610904211235x64ccb075g2cdf9e6c86b25569@mail.gmail.com>
Message-ID: <4EBC94D5B5E94B258D8B3690B65C9573@JCPORTABLE>

So, it's like multispectral classification even if it can be processed 
theoretically with one band. We could not recongize this function under this 
name.


J?r?me
----- Original Message ----- 
From: "Markus Neteler" <neteler@osgeo.org>
To: "Frank Warmerdam" <warmerdam@pobox.com>
Cc: <gdal-dev@lists.osgeo.org>
Sent: Tuesday, April 21, 2009 9:35 PM
Subject: Re: [gdal-dev] Image segmentation


On Tue, Apr 21, 2009 at 7:01 PM, Frank Warmerdam <warmerdam@pobox.com> 
wrote:
> Giacomo Piva wrote:
>>
>> Hi All,
>> I'm looking for a function that create an image segmentation.
>> Is there a function in the GDAL collection that permit to do that?
>
> Giacomo,
>
> No, I don't believe there is.
>
> By segmentation do you mean single band reclassification (ie. values
> 0-10 map to 1, values 20-35 map to 2, etc)? Or are you thinking of
> multispectral classification? Or perhaps something else?

Image segmentation is the spatial partitioning of an image typically.

> In any event, there is nothing in GDAL itself to do any of these.

In GRASS you can find it:
http://grass.osgeo.org/grass64/manuals/html64_user/i.smap.html

Best
Markus
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From tjmgis at gmail.com  Tue Apr 21 18:34:20 2009
From: tjmgis at gmail.com (TJMartin)
Date: Tue Apr 21 18:34:22 2009
Subject: [Gdal-dev] gtiff file size compared to original tiff +wrld file
Message-ID: <1240353260236-2672921.post@n2.nabble.com>


Hi All

I am just getting started with gdal, and i have done a search but couldnt
find an answer.

I currently have 10,000 tiff files with their world files. My real aim is to
tile them up and make them easier to use in Geoserver or create an image
pyramid.

So i used gdal_translate to Geotiff, then was going to use gdalwarp to
mosaic, then tile them.

However the file size for geotiffs are between 4 and 15 times the size

4mb to 60mb

One set were originally 128mb and now 858mb.

So if i was to mosiac these and then tile them it will still be a huge
data/size volume to server via geoserver.


So my questions

1) Can i reduce the quality when translating to geotiff, and how much will
this affect the image quality when i mosaic and tile

2) Should i mosaic the tiff + world files instead and then tile them with
world files instead of using geotiffs

3) is there  a better way of doing this?

would really appreciate anyone's help

all the best

Tim

-- 
View this message in context: http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2672921.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From christian.mueller at nvoe.at  Wed Apr 22 01:50:59 2009
From: christian.mueller at nvoe.at (Christian =?iso-8859-1?Q?M=FCller?=)
Date: Wed Apr 22 01:56:24 2009
Subject: [gdal-dev] Re: gtiff file size compared to original tiff +wrld file
In-Reply-To: <1240353260236-2672921.post@n2.nabble.com>
References: <1240353260236-2672921.post@n2.nabble.com>
Message-ID: <20090422055059.13604.qmail@mail.linux4all.at>

Hi, I did this process last year many times and here is my experience 

1) I assume you omitted the create options, your original tiff files are 
compressed, the new ones not.
Look here http://www.gdal.org/frmt_gtiff.html, on the commandline it is  -co 
"COMPRESS=JPEG" as an example. 

2) Take a look at your tiles with gdalinfo, do the have a color table or 
more bands ?. If your tiles have
more bands, (e. g. one for read, one for green and one for blue), use 
gdal_merge.py with -pct to produce a big picture
having only one band and a color table. Create your tiles from the big 
picture. Geoserver will say thank you in terms
of memory usage and cpu performance. 

3) Decide, wich Geoserver module to use. There are 2 of them. There is a 
file based approach and a jdbc based
approach (Module imagemosic-jdbc). If you want to store the whole stuff in a 
database, use gdal_retile.py to procude your
tiles and pyramids and the imagemosic-jdbc module to import all the tiles. 
Both, gdal_retily.py and the imagemosaic-jdbc
module were developed by me, if you have questions, ask. 

The documentation is here 
http://docs.codehaus.org/display/GEOTDOC/Image+Mosaicing+Pyramidal+JDBC+Plug 
in
A tutorial for geoserver is here 
http://geoserver.org/display/GEOSDOC/Using+the+ImageMosaic+JDBC+Plugin 

christian 


TJMartin writes: 

> 
> Hi All 
> 
> I am just getting started with gdal, and i have done a search but couldnt
> find an answer. 
> 
> I currently have 10,000 tiff files with their world files. My real aim is to
> tile them up and make them easier to use in Geoserver or create an image
> pyramid. 
> 
> So i used gdal_translate to Geotiff, then was going to use gdalwarp to
> mosaic, then tile them. 
> 
> However the file size for geotiffs are between 4 and 15 times the size 
> 
> 4mb to 60mb 
> 
> One set were originally 128mb and now 858mb. 
> 
> So if i was to mosiac these and then tile them it will still be a huge
> data/size volume to server via geoserver. 
> 
> 
> So my questions 
> 
> 1) Can i reduce the quality when translating to geotiff, and how much will
> this affect the image quality when i mosaic and tile 
> 
> 2) Should i mosaic the tiff + world files instead and then tile them with
> world files instead of using geotiffs 
> 
> 3) is there  a better way of doing this? 
> 
> would really appreciate anyone's help 
> 
> all the best 
> 
> Tim 
> 
> -- 
> View this message in context: http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2672921.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com. 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
 

From tjmgis at gmail.com  Wed Apr 22 04:49:08 2009
From: tjmgis at gmail.com (TJMartin)
Date: Wed Apr 22 04:49:10 2009
Subject: [Gdal-dev] gtiff file size compared to original tiff +wrld file
In-Reply-To: <20090422055059.13604.qmail@mail.linux4all.at>
References: <1240353260236-2672921.post@n2.nabble.com>
	<20090422055059.13604.qmail@mail.linux4all.at>
Message-ID: <1240390148746-2674970.post@n2.nabble.com>


Hi christian

many thanks for your help, i will run this later on today/overnight :)

I saw that Geoserver tutorail using the database to store the files but
think i will stick with using just files.

will postback later on if and when i get it all running

thanks again

Tim



Christian M?ller wrote:
> 
> Hi, I did this process last year many times and here is my experience 
> 
> 1) I assume you omitted the create options, your original tiff files are 
> compressed, the new ones not.
> Look here http://www.gdal.org/frmt_gtiff.html, on the commandline it is 
> -co 
> "COMPRESS=JPEG" as an example. 
> 
> 2) Take a look at your tiles with gdalinfo, do the have a color table or 
> more bands ?. If your tiles have
> more bands, (e. g. one for read, one for green and one for blue), use 
> gdal_merge.py with -pct to produce a big picture
> having only one band and a color table. Create your tiles from the big 
> picture. Geoserver will say thank you in terms
> of memory usage and cpu performance. 
> 
> 3) Decide, wich Geoserver module to use. There are 2 of them. There is a 
> file based approach and a jdbc based
> approach (Module imagemosic-jdbc). If you want to store the whole stuff in
> a 
> database, use gdal_retile.py to procude your
> tiles and pyramids and the imagemosic-jdbc module to import all the tiles. 
> Both, gdal_retily.py and the imagemosaic-jdbc
> module were developed by me, if you have questions, ask. 
> 
> The documentation is here 
> http://docs.codehaus.org/display/GEOTDOC/Image+Mosaicing+Pyramidal+JDBC+Plug 
> in
> A tutorial for geoserver is here 
> http://geoserver.org/display/GEOSDOC/Using+the+ImageMosaic+JDBC+Plugin 
> 
> christian 
> 
> 
> TJMartin writes: 
> 
>> 
>> Hi All 
>> 
>> I am just getting started with gdal, and i have done a search but couldnt
>> find an answer. 
>> 
>> I currently have 10,000 tiff files with their world files. My real aim is
>> to
>> tile them up and make them easier to use in Geoserver or create an image
>> pyramid. 
>> 
>> So i used gdal_translate to Geotiff, then was going to use gdalwarp to
>> mosaic, then tile them. 
>> 
>> However the file size for geotiffs are between 4 and 15 times the size 
>> 
>> 4mb to 60mb 
>> 
>> One set were originally 128mb and now 858mb. 
>> 
>> So if i was to mosiac these and then tile them it will still be a huge
>> data/size volume to server via geoserver. 
>> 
>> 
>> So my questions 
>> 
>> 1) Can i reduce the quality when translating to geotiff, and how much
>> will
>> this affect the image quality when i mosaic and tile 
>> 
>> 2) Should i mosaic the tiff + world files instead and then tile them with
>> world files instead of using geotiffs 
>> 
>> 3) is there  a better way of doing this? 
>> 
>> would really appreciate anyone's help 
>> 
>> all the best 
>> 
>> Tim 
>> 
>> -- 
>> View this message in context:
>> http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2672921.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com. 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2674970.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Shawn.Gong at drdc-rddc.gc.ca  Wed Apr 22 10:24:02 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Wed Apr 22 10:24:09 2009
Subject: [gdal-dev] need suggestion on Linux OS
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

I'd appreciate suggestions on Linux OS. We'd like to build newest gdal,
as well as OpenEV2 using GTK2.
Have tried CentOS. But it libraries seem too conservative.

Is Fedora 9 a better choice?

thanks,
Shawn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090422/3c034361/attachment.html
From j.donovan at virtalis.com  Wed Apr 22 10:41:55 2009
From: j.donovan at virtalis.com (John Donovan)
Date: Wed Apr 22 10:42:02 2009
Subject: [gdal-dev] need suggestion on Linux OS
Message-ID: <C8891C79DFCAB347B9221DF3890EDD2F2AC0E3@topdog.Virtalis.local>

I'm building the latest gdal (literally as I type!), on Kubuntu Hardy
with no problems so far.

-JD 

> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org 
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Gong, 
> Shawn (Contractor)
> Sent: 22 April 2009 15:24
> To: gdal-dev; openev-discuss@lists.sourceforge.net
> Subject: [gdal-dev] need suggestion on Linux OS
> 
> hi list,
> 
> I'd appreciate suggestions on Linux OS. We'd like to build 
> newest gdal, as well as OpenEV2 using GTK2.
> 
> Have tried CentOS. But it libraries seem too conservative.
> 
> Is Fedora 9 a better choice?
> 
> thanks,
> 
> Shawn
> 
> 
> ______________________________________________________________________
> This email has been scanned for Virtalis Ltd by the 
> MessageLabs Email Security System.
> ______________________________________________________________________
> 
> 

______________________________________________________________________
This email has been scanned for Virtalis Ltd by the MessageLabs Email Security System. ______________________________________________________________________
From nikos.alexandris at felis.uni-freiburg.de  Wed Apr 22 11:19:09 2009
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Apr 22 11:18:26 2009
Subject: [gdal-dev] need suggestion on Linux OS
In-Reply-To: <C8891C79DFCAB347B9221DF3890EDD2F2AC0E3@topdog.Virtalis.local>
References: <C8891C79DFCAB347B9221DF3890EDD2F2AC0E3@topdog.Virtalis.local>
Message-ID: <1240413549.25606.3.camel@vertical>


Shawn:
> > I'd appreciate suggestions on Linux OS. We'd like to build 
> > newest gdal, as well as OpenEV2 using GTK2.
> > Have tried CentOS. But it libraries seem too conservative. 
> > Is Fedora 9 a better choice?


John D: 
> I'm building the latest gdal (literally as I type!), on Kubuntu Hardy
> with no problems so far.


FWIW, I discourage to set-up (yet) a production machine on latest Ubuntu
(=Jaunty). I face various issues, i.e. gdal compilation gives some
errors _today_, m.eigensystem (fortran-coded module in GRASS) won't run.

Kind regards, Nikos

From mhanson at photon.com  Wed Apr 22 11:27:47 2009
From: mhanson at photon.com (Matt Hanson)
Date: Wed Apr 22 11:28:54 2009
Subject: [gdal-dev] Using GCP Transformer
Message-ID: <3EA46FE628EC0E49BE8F300C64B45C4B024651@pj-exchange.photon.com>

Hello, 

I'm having trouble getting an image warped  properly using GCPs.   I'm
wondering if I'm missing a piece in my code.

Here  I am warping from an image with a presumably unknown projection to
a georeferenced reference image.   The images have been registered
either manually or automatically and the GCPs come from that -
pixel/line in the unknown image corresponding to georeferenced
coordinates in the reference image.

************************************************************
GDALWarpOptions *psWarpOptions = GDALCreateWarpOptions();

psWarpOptions->pTransformerArg = GDALCreateGCPTransformer(gdalgcpssize,
gdalgcps, order, 0);
psWarpOptions->pfnTransformer = GDALGCPTransform;
psWarpOptions->eResampleAlg = GRA_NearestNeighbour;

psWarpOptions->hSrcDS = // Set to source image
psWarpOptions->nBandCount = 0; 
psWarpOptions->pfnProgress = GDALTermProgress;   

double adfDstGeoTransform[6];
int nPixels=0, nLines=0;
GDALSuggestedWarpOutput( psWarpOptions->hSrcDS, GDALGCPTransform, 
psWarpOptions->pTransformerArg, adfDstGeoTransform, &nPixels, &nLines
		

// Create new output image of size nPixels x nLines
// Copy Projection info from georeferenced image
psWarpOptions->hDstDS = // Set to new output image

// Initialize and execute the warp operation
GDALWarpOperation oOperation;
oOperation.Initialize( psWarpOptions );
oOperation.ChunkAndWarpImage( 0, 0, nPixels, nLines );
************************************************************

Are these essentially the correct steps to do this?    GDAL runs without
any errors and generates an output image which has the correct
projection info and reasonable looking geographic corner coordinates.
However the resulting image is all black.

Thanks in advance for any clues anyone could provide!

matt

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090422/792cecb6/attachment.html
From pcreso at pcreso.com  Wed Apr 22 12:27:33 2009
From: pcreso at pcreso.com (pcreso@pcreso.com)
Date: Wed Apr 22 12:34:14 2009
Subject: [gdal-dev] need suggestion on Linux OS
Message-ID: <375774.9891.qm@web33202.mail.mud.yahoo.com>


Hi.

I suggest you look at OpenSuse. That's my preferred FOSS GIS platform for a few years now.

The guys that maintain the OpenSUuse GIS repository are really efficient & helpful. The couple of times I've wanted an updated package there I've emailed them & it's been done in a couple of days.

I've also compiled some from CVS, when I needed the very latest & haven't had any problems.

The repository (v11.1, 32 bit) is at:
http://download.opensuse.org/repositories/Application:/Geo/openSUSE_11.1/i586/

but it includes packages for other versions & other distros, 
http://download.opensuse.org/repositories/Application:/Geo/


Works well & I prefer running Suse to Debian variants... But both work & it's nice to have the choice. 


Cheers,

   Brent wood


--- On Thu, 4/23/09, John Donovan <j.donovan@virtalis.com> wrote:

> From: John Donovan <j.donovan@virtalis.com>
> Subject: RE: [gdal-dev] need suggestion on Linux OS
> To: "Gong, Shawn (Contractor)" <Shawn.Gong@drdc-rddc.gc.ca>, "gdal-dev" <gdal-dev@lists.osgeo.org>, openev-discuss@lists.sourceforge.net
> Date: Thursday, April 23, 2009, 2:41 AM
> I'm building the latest gdal
> (literally as I type!), on Kubuntu Hardy
> with no problems so far.
> 
> -JD 
> 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.osgeo.org
> 
> > [mailto:gdal-dev-bounces@lists.osgeo.org]
> On Behalf Of Gong, 
> > Shawn (Contractor)
> > Sent: 22 April 2009 15:24
> > To: gdal-dev; openev-discuss@lists.sourceforge.net
> > Subject: [gdal-dev] need suggestion on Linux OS
> > 
> > hi list,
> > 
> > I'd appreciate suggestions on Linux OS. We'd like to
> build 
> > newest gdal, as well as OpenEV2 using GTK2.
> > 
> > Have tried CentOS. But it libraries seem too
> conservative.
> > 
> > Is Fedora 9 a better choice?
> > 
> > thanks,
> > 
> > Shawn
> > 
> > 
> >
> ______________________________________________________________________
> > This email has been scanned for Virtalis Ltd by the 
> > MessageLabs Email Security System.
> >
> ______________________________________________________________________
> > 
> > 
> 
> ______________________________________________________________________
> This email has been scanned for Virtalis Ltd by the
> MessageLabs Email Security System.
> ______________________________________________________________________
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
From randre at gmail.com  Wed Apr 22 12:59:24 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Apr 22 12:59:27 2009
Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
Message-ID: <9c2015090904220959p634d0334q47dba5c87ddceb7c@mail.gmail.com>

Hi All,

I'm trying to port some of my existing PostGIS based workflow to ogr
utilities and shapefiles.  Is it possible to buffer a feature that I've
selected via the ogr2ogr "-where" clause?  I'd like end up with a single,
buffered feature in a stand-alone shapefile when I'm done.

Thanks,

Roger
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090422/81a4aeae/attachment.html
From randre at gmail.com  Wed Apr 22 12:55:28 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Apr 22 13:03:36 2009
Subject: [gdal-dev] need suggestion on Linux OS
In-Reply-To: <375774.9891.qm@web33202.mail.mud.yahoo.com>
References: <375774.9891.qm@web33202.mail.mud.yahoo.com>
Message-ID: <9c2015090904220955y5dba9d5bpcd225db100aa4ccb@mail.gmail.com>

I have been running a fairly complete open source GIS stack on a couple of
Ubuntu 8.04 machines for about 6 months.  I have had no problems getting
anything installed from source on them, and use the supporting libs that are
available via apt-get almost exclusively.  If anyone wants to see the
program manifest and the install steps, I'd be happy to send it to them.

Roger
--

On Wed, Apr 22, 2009 at 9:27 AM, <pcreso@pcreso.com> wrote:

>
> Hi.
>
> I suggest you look at OpenSuse. That's my preferred FOSS GIS platform for a
> few years now.
>
> The guys that maintain the OpenSUuse GIS repository are really efficient &
> helpful. The couple of times I've wanted an updated package there I've
> emailed them & it's been done in a couple of days.
>
> I've also compiled some from CVS, when I needed the very latest & haven't
> had any problems.
>
> The repository (v11.1, 32 bit) is at:
>
> http://download.opensuse.org/repositories/Application:/Geo/openSUSE_11.1/i586/
>
> but it includes packages for other versions & other distros,
> http://download.opensuse.org/repositories/Application:/Geo/
>
>
> Works well & I prefer running Suse to Debian variants... But both work &
> it's nice to have the choice.
>
>
> Cheers,
>
>   Brent wood
>
>
> --- On Thu, 4/23/09, John Donovan <j.donovan@virtalis.com> wrote:
>
> > From: John Donovan <j.donovan@virtalis.com>
> > Subject: RE: [gdal-dev] need suggestion on Linux OS
> > To: "Gong, Shawn (Contractor)" <Shawn.Gong@drdc-rddc.gc.ca>, "gdal-dev"
> <gdal-dev@lists.osgeo.org>, openev-discuss@lists.sourceforge.net
> > Date: Thursday, April 23, 2009, 2:41 AM
> > I'm building the latest gdal
> > (literally as I type!), on Kubuntu Hardy
> > with no problems so far.
> >
> > -JD
> >
> > > -----Original Message-----
> > > From: gdal-dev-bounces@lists.osgeo.org
> >
> > > [mailto:gdal-dev-bounces@lists.osgeo.org]
> > On Behalf Of Gong,
> > > Shawn (Contractor)
> > > Sent: 22 April 2009 15:24
> > > To: gdal-dev; openev-discuss@lists.sourceforge.net
> > > Subject: [gdal-dev] need suggestion on Linux OS
> > >
> > > hi list,
> > >
> > > I'd appreciate suggestions on Linux OS. We'd like to
> > build
> > > newest gdal, as well as OpenEV2 using GTK2.
> > >
> > > Have tried CentOS. But it libraries seem too
> > conservative.
> > >
> > > Is Fedora 9 a better choice?
> > >
> > > thanks,
> > >
> > > Shawn
> > >
> > >
> > >
> > ______________________________________________________________________
> > > This email has been scanned for Virtalis Ltd by the
> > > MessageLabs Email Security System.
> > >
> > ______________________________________________________________________
> > >
> > >
> >
> > ______________________________________________________________________
> > This email has been scanned for Virtalis Ltd by the
> > MessageLabs Email Security System.
> > ______________________________________________________________________
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090422/6be6d8b2/attachment.html
From neteler at osgeo.org  Wed Apr 22 14:42:25 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Apr 22 14:42:28 2009
Subject: [gdal-dev] need suggestion on Linux OS
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <86782b610904221142x2162c586pf6c0a2dd3508cfc0@mail.gmail.com>

On Wed, Apr 22, 2009 at 4:24 PM, Gong, Shawn (Contractor)
<Shawn.Gong@drdc-rddc.gc.ca> wrote:
> hi list,
>
> I?d appreciate suggestions on Linux OS. We?d like to build newest gdal, as
> well as OpenEV2 using GTK2.
>
> Have tried CentOS. But it libraries seem too conservative.

I am (meanwhile) a long term Mandriva user meanwhile and all GEOS, PROJ, GDAL,
GRASS, e00conv, QGIS, Mapserver, PostGIS ... is in their distribution included:
http://rpmfind.net/linux/RPM/mandriva/devel/cooker/x86_64/media/contrib/release/Sciences_Geosciences.html

Mandriva has all necessary development tools to compile and all required
dependencies. And they send patches to the GRASS and GDAL project,
so feedback is there.

Markus
From P.Halls at york.ac.uk  Wed Apr 22 14:56:01 2009
From: P.Halls at york.ac.uk (Peter Halls)
Date: Wed Apr 22 15:27:13 2009
Subject: [gdal-dev] need suggestion on Linux OS
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <Prayer.1.2.3.0904221956010.18120@webmail3.york.ac.uk>

As an institution, we prefer Fedora, although I have little experience of 
it myself. It is widely supported by commercial applications, as well as 
open source. I have built GDAL for Cygwin (not my primary platform, I 
hasten to add!) with only issues surrounding Xerces that I have not been 
able to resolve quickly and simply.

Whatever Linux you choose, you will likely have also to subscribe to one of 
the application services or regularly pull and build new versions of your 
libraries and tools - the versions shipped with the OS are rarely current - 
simply because of the difficulty of keeping such distributions up to date. 
Indeed, this is not confined to Linux - there are at least two such 
services for Sun's Solaris, for example.

Best wishes,

Peter

On Apr 22 2009, Gong, Shawn (Contractor) wrote:

>hi list,
>
>I'd appreciate suggestions on Linux OS. We'd like to build newest gdal,
>as well as OpenEV2 using GTK2.
>Have tried CentOS. But it libraries seem too conservative.
>
>Is Fedora 9 a better choice?
>
>thanks,
>Shawn
>
>
>
>

-- 
--------------------------------------------------------------------------
Peter Halls, University of York GIS Advisor
Snail Mail: Computing Service, Heslington, York YO10 5DD, England
Telephone: 01904 433806   FAX: 01904 433740

This message has the status of a private & personal communication
--------------------------------------------------------------------------



From warmerdam at pobox.com  Wed Apr 22 15:30:58 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr 22 15:31:10 2009
Subject: [gdal-dev] New RFC - Fast Open - for discussion
Message-ID: <49EF7072.5030304@pobox.com>

Folks,

I have drafted a preliminary version of a new RFC for discussion.

   http://trac.osgeo.org/gdal/wiki/rfc25_fast_open

Feedback is welcome.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jaadfoo at gmail.com  Wed Apr 22 15:32:58 2009
From: jaadfoo at gmail.com (Jamie Adams)
Date: Wed Apr 22 15:33:01 2009
Subject: [gdal-dev] need suggestion on Linux OS
In-Reply-To: <9c2015090904220955y5dba9d5bpcd225db100aa4ccb@mail.gmail.com>
References: <375774.9891.qm@web33202.mail.mud.yahoo.com>
	<9c2015090904220955y5dba9d5bpcd225db100aa4ccb@mail.gmail.com>
Message-ID: <f4339510904221232p9057187wad2140d9ec7a2332@mail.gmail.com>

+1 for Ubuntu

I too have been using Ubuntu 8.04 (Hardy) to compile and run GIS apps & libs
(grass, gdal, qgis, geos, proj, etc) and have had no problems at all.

On Wed, Apr 22, 2009 at 9:55 AM, Roger Andr? <randre@gmail.com> wrote:

> I have been running a fairly complete open source GIS stack on a couple of
> Ubuntu 8.04 machines for about 6 months.  I have had no problems getting
> anything installed from source on them, and use the supporting libs that are
> available via apt-get almost exclusively.  If anyone wants to see the
> program manifest and the install steps, I'd be happy to send it to them.
>
> Roger
> --
>
>
> On Wed, Apr 22, 2009 at 9:27 AM, <pcreso@pcreso.com> wrote:
>
>>
>> Hi.
>>
>> I suggest you look at OpenSuse. That's my preferred FOSS GIS platform for
>> a few years now.
>>
>> The guys that maintain the OpenSUuse GIS repository are really efficient &
>> helpful. The couple of times I've wanted an updated package there I've
>> emailed them & it's been done in a couple of days.
>>
>> I've also compiled some from CVS, when I needed the very latest & haven't
>> had any problems.
>>
>> The repository (v11.1, 32 bit) is at:
>>
>> http://download.opensuse.org/repositories/Application:/Geo/openSUSE_11.1/i586/
>>
>> but it includes packages for other versions & other distros,
>> http://download.opensuse.org/repositories/Application:/Geo/
>>
>>
>> Works well & I prefer running Suse to Debian variants... But both work &
>> it's nice to have the choice.
>>
>>
>> Cheers,
>>
>>   Brent wood
>>
>>
>> --- On Thu, 4/23/09, John Donovan <j.donovan@virtalis.com> wrote:
>>
>> > From: John Donovan <j.donovan@virtalis.com>
>> > Subject: RE: [gdal-dev] need suggestion on Linux OS
>> > To: "Gong, Shawn (Contractor)" <Shawn.Gong@drdc-rddc.gc.ca>, "gdal-dev"
>> <gdal-dev@lists.osgeo.org>, openev-discuss@lists.sourceforge.net
>> > Date: Thursday, April 23, 2009, 2:41 AM
>> > I'm building the latest gdal
>> > (literally as I type!), on Kubuntu Hardy
>> > with no problems so far.
>> >
>> > -JD
>> >
>> > > -----Original Message-----
>> > > From: gdal-dev-bounces@lists.osgeo.org
>> >
>> > > [mailto:gdal-dev-bounces@lists.osgeo.org]
>> > On Behalf Of Gong,
>> > > Shawn (Contractor)
>> > > Sent: 22 April 2009 15:24
>> > > To: gdal-dev; openev-discuss@lists.sourceforge.net
>> > > Subject: [gdal-dev] need suggestion on Linux OS
>> > >
>> > > hi list,
>> > >
>> > > I'd appreciate suggestions on Linux OS. We'd like to
>> > build
>> > > newest gdal, as well as OpenEV2 using GTK2.
>> > >
>> > > Have tried CentOS. But it libraries seem too
>> > conservative.
>> > >
>> > > Is Fedora 9 a better choice?
>> > >
>> > > thanks,
>> > >
>> > > Shawn
>> > >
>> > >
>> > >
>> > ______________________________________________________________________
>> > > This email has been scanned for Virtalis Ltd by the
>> > > MessageLabs Email Security System.
>> > >
>> > ______________________________________________________________________
>> > >
>> > >
>> >
>> > ______________________________________________________________________
>> > This email has been scanned for Virtalis Ltd by the
>> > MessageLabs Email Security System.
>> > ______________________________________________________________________
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090422/e2b5ad10/attachment-0001.html
From even.rouault at mines-paris.org  Wed Apr 22 15:54:36 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr 22 15:54:47 2009
Subject: [gdal-dev] New RFC - Fast Open - for discussion
In-Reply-To: <49EF7072.5030304@pobox.com>
References: <49EF7072.5030304@pobox.com>
Message-ID: <200904222154.37597.even.rouault@mines-paris.org>

Hi

Although I agree that the goal of fast opening is a good idea, as discussed on 
IRC, I'm not sure we need this RFC for the current work plan it contains :
* listing the files in the directory can already be skipped by defining 
GDAL_DISABLE_READDIR_ON_OPEN=YES. But perhaps this could benefit from the 
mechanism of thread local configuration option
* for the GeoTIFF driver, I think the code could be reworked so that 
collecting the coordinate system is done only when GetProjectionRef() is 
called. The .aux.xml file could be opened only when GetProjectionRef(), 
GetGeoTransform() or GetMetadata() are called. 
* since GDAL 1.6.0, the GDAL VRT driver can avoid opening the underlying 
datasets if the SourceProperties elements is defined for each SimpleSource. 
This is done by the gdalbuildvrt driver. So, opening a VRT dataset should be 
really quick. The underlying datasets are opened only when real data must be 
read from them.

Currently, one area where we cannot differ the processing is the instanciation 
of raster bands. The GetRasterBand() method in GDALDataset is not virtual, so 
they must be instanciated at the dataset opening. But this is probably only 
an issue for datasets with millions of bands.

Best regards,

Even

Le Wednesday 22 April 2009 21:30:58 Frank Warmerdam, vous avez ?crit?:
> Folks,
>
> I have drafted a preliminary version of a new RFC for discussion.
>
>    http://trac.osgeo.org/gdal/wiki/rfc25_fast_open
>
> Feedback is welcome.
>
> Best regards,


From pcreso at pcreso.com  Wed Apr 22 17:25:12 2009
From: pcreso at pcreso.com (pcreso@pcreso.com)
Date: Wed Apr 22 17:25:14 2009
Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
Message-ID: <701933.15216.qm@web33203.mail.mud.yahoo.com>


Yep.

In your ogr2ogr query string query try 
"select buffer(area, nn.nn) as geom from table where...;"

PostGIS will buffer it before sending it to GDAL for export to shapefile.

Or if you are repeatedly doing this, create a view in PostGIS with the buffer, & select this with GDAL, whichever suits....

Brent Wood



--- On Thu, 4/23/09, Roger Andr? <randre@gmail.com> wrote:

> From: Roger Andr? <randre@gmail.com>
> Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
> To: "gdal-dev" <gdal-dev@lists.osgeo.org>
> Date: Thursday, April 23, 2009, 4:59 AM
> Hi All,
> 
> I'm trying to port some of my existing PostGIS based
> workflow to ogr utilities and shapefiles.? Is it possible
> to buffer a feature that I've selected via the ogr2ogr
> "-where" clause?? I'd like end up with a
> single, buffered feature in a stand-alone shapefile when
> I'm done.
> 
> 
> Thanks,
> 
> Roger
> 
> 
> -----Inline Attachment Follows-----
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From randre at gmail.com  Wed Apr 22 18:37:58 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Wed Apr 22 18:38:00 2009
Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
In-Reply-To: <701933.15216.qm@web33203.mail.mud.yahoo.com>
References: <701933.15216.qm@web33203.mail.mud.yahoo.com>
Message-ID: <9c2015090904221537h3065fdd0p2442d3d6b9054684@mail.gmail.com>

Hi Brent,

Unfortunately the data is already out of Postgres, so I don't have that
option anymore.  I was hoping there might be some way of invoking a geos
function in ogr2ogr.

Thanks though,

Roger
--

On Wed, Apr 22, 2009 at 2:25 PM, <pcreso@pcreso.com> wrote:

>
> Yep.
>
> In your ogr2ogr query string query try
> "select buffer(area, nn.nn) as geom from table where...;"
>
> PostGIS will buffer it before sending it to GDAL for export to shapefile.
>
> Or if you are repeatedly doing this, create a view in PostGIS with the
> buffer, & select this with GDAL, whichever suits....
>
> Brent Wood
>
>
>
> --- On Thu, 4/23/09, Roger Andr? <randre@gmail.com> wrote:
>
> > From: Roger Andr? <randre@gmail.com>
> > Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
> > To: "gdal-dev" <gdal-dev@lists.osgeo.org>
> > Date: Thursday, April 23, 2009, 4:59 AM
> > Hi All,
> >
> > I'm trying to port some of my existing PostGIS based
> > workflow to ogr utilities and shapefiles.  Is it possible
> > to buffer a feature that I've selected via the ogr2ogr
> > "-where" clause?  I'd like end up with a
> > single, buffered feature in a stand-alone shapefile when
> > I'm done.
> >
> >
> > Thanks,
> >
> > Roger
> >
> >
> > -----Inline Attachment Follows-----
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090422/9dadd15a/attachment.html
From simone.giannecchini at geo-solutions.it  Wed Apr 22 18:49:54 2009
From: simone.giannecchini at geo-solutions.it (Simone Giannecchini)
Date: Wed Apr 22 18:56:20 2009
Subject: [Gdal-dev] gtiff file size compared to original tiff +wrld file
In-Reply-To: <1240390148746-2674970.post@n2.nabble.com>
References: <1240353260236-2672921.post@n2.nabble.com>
	<20090422055059.13604.qmail@mail.linux4all.at>
	<1240390148746-2674970.post@n2.nabble.com>
Message-ID: <961f4d9e0904221549v60e8bbcek1ee6dd3a7c83f32@mail.gmail.com>

Ciao Tim,
you should probably post these questions to the geoserver users mailing list.

Simone.
-------------------------------------------------------
Ing. Simone Giannecchini
GeoSolutions S.A.S.
Owner - Software Engineer
Via Carignoni 51
55041  Camaiore (LU)
Italy

phone: +39 0584983027
fax:      +39 0584983027
mob:    +39 333 8128928


http://www.geo-solutions.it
http://simboss.blogspot.com/
http://www.linkedin.com/in/simonegiannecchini

-------------------------------------------------------



On Wed, Apr 22, 2009 at 10:49 AM, TJMartin <tjmgis@gmail.com> wrote:
>
> Hi christian
>
> many thanks for your help, i will run this later on today/overnight :)
>
> I saw that Geoserver tutorail using the database to store the files but
> think i will stick with using just files.
>
> will postback later on if and when i get it all running
>
> thanks again
>
> Tim
>
>
>
> Christian M?ller wrote:
>>
>> Hi, I did this process last year many times and here is my experience
>>
>> 1) I assume you omitted the create options, your original tiff files are
>> compressed, the new ones not.
>> Look here http://www.gdal.org/frmt_gtiff.html, on the commandline it is
>> -co
>> "COMPRESS=JPEG" as an example.
>>
>> 2) Take a look at your tiles with gdalinfo, do the have a color table or
>> more bands ?. If your tiles have
>> more bands, (e. g. one for read, one for green and one for blue), use
>> gdal_merge.py with -pct to produce a big picture
>> having only one band and a color table. Create your tiles from the big
>> picture. Geoserver will say thank you in terms
>> of memory usage and cpu performance.
>>
>> 3) Decide, wich Geoserver module to use. There are 2 of them. There is a
>> file based approach and a jdbc based
>> approach (Module imagemosic-jdbc). If you want to store the whole stuff in
>> a
>> database, use gdal_retile.py to procude your
>> tiles and pyramids and the imagemosic-jdbc module to import all the tiles.
>> Both, gdal_retily.py and the imagemosaic-jdbc
>> module were developed by me, if you have questions, ask.
>>
>> The documentation is here
>> http://docs.codehaus.org/display/GEOTDOC/Image+Mosaicing+Pyramidal+JDBC+Plug
>> in
>> A tutorial for geoserver is here
>> http://geoserver.org/display/GEOSDOC/Using+the+ImageMosaic+JDBC+Plugin
>>
>> christian
>>
>>
>> TJMartin writes:
>>
>>>
>>> Hi All
>>>
>>> I am just getting started with gdal, and i have done a search but couldnt
>>> find an answer.
>>>
>>> I currently have 10,000 tiff files with their world files. My real aim is
>>> to
>>> tile them up and make them easier to use in Geoserver or create an image
>>> pyramid.
>>>
>>> So i used gdal_translate to Geotiff, then was going to use gdalwarp to
>>> mosaic, then tile them.
>>>
>>> However the file size for geotiffs are between 4 and 15 times the size
>>>
>>> 4mb to 60mb
>>>
>>> One set were originally 128mb and now 858mb.
>>>
>>> So if i was to mosiac these and then tile them it will still be a huge
>>> data/size volume to server via geoserver.
>>>
>>>
>>> So my questions
>>>
>>> 1) Can i reduce the quality when translating to geotiff, and how much
>>> will
>>> this affect the image quality when i mosaic and tile
>>>
>>> 2) Should i mosaic the tiff + world files instead and then tile them with
>>> world files instead of using geotiffs
>>>
>>> 3) is there ?a better way of doing this?
>>>
>>> would really appreciate anyone's help
>>>
>>> all the best
>>>
>>> Tim
>>>
>>> --
>>> View this message in context:
>>> http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2672921.html
>>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
> --
> View this message in context: http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2674970.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Wed Apr 22 19:47:04 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Apr 22 19:47:12 2009
Subject: [gdal-dev] New RFC - Fast Open - for discussion
In-Reply-To: <200904222154.37597.even.rouault@mines-paris.org>
References: <49EF7072.5030304@pobox.com>
	<200904222154.37597.even.rouault@mines-paris.org>
Message-ID: <49EFAC78.80405@pobox.com>

Even Rouault wrote:
> Hi
> 
> Although I agree that the goal of fast opening is a good idea, as discussed on 
> IRC, I'm not sure we need this RFC for the current work plan it contains :
> * listing the files in the directory can already be skipped by defining 
> GDAL_DISABLE_READDIR_ON_OPEN=YES. But perhaps this could benefit from the 
> mechanism of thread local configuration option
> * for the GeoTIFF driver, I think the code could be reworked so that 
> collecting the coordinate system is done only when GetProjectionRef() is 
> called. The .aux.xml file could be opened only when GetProjectionRef(), 
> GetGeoTransform() or GetMetadata() are called. 

Even,

Based on issues raised by you and Howard, I have withdrawn this RFC - at
least for the time being.  In the meantime I have created a ticket on the
slow behavior of the GeoTIFF driver and applied a few improvements including
the suggested "delayed coordinate system processing" change.  This does help
dramatically for GeoTIFF.  With these changes it does not seem worth
pursuing RFC 25 at this time, though I might revisit it in the future.

   http://trac.osgeo.org/gdal/ticket/2957

> * since GDAL 1.6.0, the GDAL VRT driver can avoid opening the underlying 
> datasets if the SourceProperties elements is defined for each SimpleSource. 
> This is done by the gdalbuildvrt driver. So, opening a VRT dataset should be 
> really quick. The underlying datasets are opened only when real data must be 
> read from them.

Understood, but there are still cases (such as requesting an overview of a
VRT mosaic) where many small files might be accessed.

> Currently, one area where we cannot differ the processing is the instanciation 
> of raster bands. The GetRasterBand() method in GDALDataset is not virtual, so 
> they must be instanciated at the dataset opening. But this is probably only 
> an issue for datasets with millions of bands.

Correct.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From abhay.menon at gmail.com  Wed Apr 22 23:31:37 2009
From: abhay.menon at gmail.com (Abhay)
Date: Wed Apr 22 23:31:56 2009
Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
In-Reply-To: <9c2015090904221537h3065fdd0p2442d3d6b9054684@mail.gmail.com>
References: <701933.15216.qm@web33203.mail.mud.yahoo.com>
	<9c2015090904221537h3065fdd0p2442d3d6b9054684@mail.gmail.com>
Message-ID: <7a30cd70904222031ia8e7d57i9ead1fac01fc348d@mail.gmail.com>

On Thu, Apr 23, 2009 at 4:07 AM, Roger Andr? <randre@gmail.com> wrote:

> Hi Brent,
>
> Unfortunately the data is already out of Postgres, so I don't have that
> option anymore.  I was hoping there might be some way of invoking a geos
> function in ogr2ogr.
>
> Thanks though,
>
> Roger
>  --
>
>
> On Wed, Apr 22, 2009 at 2:25 PM, <pcreso@pcreso.com> wrote:
>
>>
>> Yep.
>>
>> In your ogr2ogr query string query try
>> "select buffer(area, nn.nn) as geom from table where...;"
>>
>> PostGIS will buffer it before sending it to GDAL for export to shapefile.
>>
>> Or if you are repeatedly doing this, create a view in PostGIS with the
>> buffer, & select this with GDAL, whichever suits....
>>
>> Brent Wood
>>
>>
>>
>> --- On Thu, 4/23/09, Roger Andr? <randre@gmail.com> wrote:
>>
>> > From: Roger Andr? <randre@gmail.com>
>> > Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
>> > To: "gdal-dev" <gdal-dev@lists.osgeo.org>
>> > Date: Thursday, April 23, 2009, 4:59 AM
>> > Hi All,
>> >
>> > I'm trying to port some of my existing PostGIS based
>> > workflow to ogr utilities and shapefiles.  Is it possible
>> > to buffer a feature that I've selected via the ogr2ogr
>> > "-where" clause?  I'd like end up with a
>> > single, buffered feature in a stand-alone shapefile when
>> > I'm done.
>> >
>> >
>> > Thanks,
>> >
>> > Roger
>> >
>> >
>> > -----Inline Attachment Follows-----
>> >
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev@lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hi Roger,
I donot think there is way around in the ogr2ogr to create buffer that I
know of.

Instead you will need to write a code in C++ or python to do the same.
Rgds.
Abhay.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090423/0663f9cb/attachment-0001.html
From Luke.Pinner at environment.gov.au  Thu Apr 23 01:14:33 2009
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Thu Apr 23 01:21:32 2009
Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
References: <701933.15216.qm@web33203.mail.mud.yahoo.com><9c2015090904221537h3065fdd0p2442d3d6b9054684@mail.gmail.com>
	<7a30cd70904222031ia8e7d57i9ead1fac01fc348d@mail.gmail.com>
Message-ID: <64102B2FB850C345B04D09C82018F45F22212A@ACT01VEXCCL04.internal.govt>

Something like the following might get you started (note: limited testing and I'm no programmer :)
 
#buffer.py
import sys,os
from osgeo import ogr
 
def buffer(infile,outfile,buffdist):
    try:
        ds=ogr.Open(infile)
        drv=ds.GetDriver()
        if os.path.exists(outfile):
            drv.DeleteDataSource(outfile)
        drv.CopyDataSource(ds,outfile)
        ds.Destroy()
        
        ds=ogr.Open(outfile,1)
        lyr=ds.GetLayer(0)
        for i in range(0,lyr.GetFeatureCount()):
            feat=lyr.GetFeature(i)
            lyr.DeleteFeature(i)
            geom=feat.GetGeometryRef()
            feat.SetGeometry(geom.Buffer(float(buffdist)))
            lyr.CreateFeature(feat)
        ds.Destroy()
    except:return False
    return True
 
if __name__=='__main__':
    usage='usage: buffer <infile> <outfile> <distance>'
    if len(sys.argv) == 4:
        if buffer(sys.argv[1],sys.argv[2],sys.argv[3]):
            print 'Buffer succeeded!'
            sys.exit(0)
        else:
            print 'Buffer failed!'
            sys.exit(1)
    else:
        print usage
        sys.exit(1)


________________________________

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Abhay
Sent: Thursday, 23 April 2009 1:32 PM
To: Roger Andr?
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Is it possible to Buffer using ogr2ogr?




		--- On Thu, 4/23/09, Roger Andr? <randre@gmail.com> wrote:
		
		> From: Roger Andr? <randre@gmail.com>
		> Subject: [gdal-dev] Is it possible to Buffer using ogr2ogr?
		> To: "gdal-dev" <gdal-dev@lists.osgeo.org>
		> Date: Thursday, April 23, 2009, 4:59 AM
		
		> Hi All,
		>
		> I'm trying to port some of my existing PostGIS based
		> workflow to ogr utilities and shapefiles.  Is it possible
		> to buffer a feature that I've selected via the ogr2ogr
		> "-where" clause?  I'd like end up with a
		> single, buffered feature in a stand-alone shapefile when
		> I'm done.
		>
		>
		> Thanks,
		>
		> Roger
		>
		>
		
		> -----Inline Attachment Follows-----
		>
		> _______________________________________________
		> gdal-dev mailing list
		> gdal-dev@lists.osgeo.org
		> http://lists.osgeo.org/mailman/listinfo/gdal-dev
		



	_______________________________________________
	gdal-dev mailing list
	gdal-dev@lists.osgeo.org
	http://lists.osgeo.org/mailman/listinfo/gdal-dev
	


Hi Roger, 

I donot think there is way around in the ogr2ogr to create buffer that I know of.

Instead you will need to write a code in C++ or python to do the same.
Rgds.
Abhay.


------
If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments. 



Please consider the environment before printing this email.

------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090423/79b4be19/attachment.html
From tjmgis at gmail.com  Thu Apr 23 16:35:45 2009
From: tjmgis at gmail.com (TJMartin)
Date: Thu Apr 23 16:35:47 2009
Subject: [Gdal-dev] gtiff file size compared to original tiff +wrld file
In-Reply-To: <961f4d9e0904221549v60e8bbcek1ee6dd3a7c83f32@mail.gmail.com>
References: <1240353260236-2672921.post@n2.nabble.com>
	<20090422055059.13604.qmail@mail.linux4all.at>
	<1240390148746-2674970.post@n2.nabble.com>
	<961f4d9e0904221549v60e8bbcek1ee6dd3a7c83f32@mail.gmail.com>
Message-ID: <1240518945828-2686259.post@n2.nabble.com>


Christian and others

just to post an update that others might find useful.

Using the shell command line i used

For %I in C:\Data\250k\*.tif do gdal_translate ?of gtiff ?co ?COMPRESS=LZW?
%I C:\Data\250k\geotiffs\%~nI.tif


this ran through the entire folder translating my tiff_world files in LZW
compression to geotiffs with LZW compression. it worked v well and got the
same output size as the inputs (as you woudl expect)

then because of the file sizes i used gdalwarp rather than gdal_merge.py (as
i seen other posts where people had issues with large rasters)

i originally ran just using

Gdalwarp C:\Data\250k\geotiffs\*.tif  C:\Data\250k\geotiffs\merge.tif

and it took 5hrs and 40mins to process and gave me a merged ratser of 1.5gb
- i noticed my error, i forgot to add the COMPRESS option

so ran it again using the compression to LZW, this took 3hrs for the 56
files and resulted in a 675mb file. this i felt was still much larger than
the original files.

i used gdalinfo to check it was compressed, and the info said it was

so for the fun of it i ran a quick gdal_translate C:\...\merge.tif
C:\......\mosaic.tif -co "COMPRESS=YES"

and the results was a 147mb mosaic.

so i am not sure what the code is behind the gdalwarp compared to the
gdal_translate but would have thought they should compress the same.

if anyone knows why i get this difference would be great to know as it would
remove an extra step from the batch file.


Simone - i posted here rather than over at Geoserver because it was the gdal
that i couldnt seem to get working rather than the method of loading to
geoserver.




Simone Giannecchini-2 wrote:
> 
> Ciao Tim,
> you should probably post these questions to the geoserver users mailing
> list.
> 
> Simone.
> -------------------------------------------------------
> Ing. Simone Giannecchini
> GeoSolutions S.A.S.
> Owner - Software Engineer
> Via Carignoni 51
> 55041  Camaiore (LU)
> Italy
> 
> phone: +39 0584983027
> fax:      +39 0584983027
> mob:    +39 333 8128928
> 
> 
> http://www.geo-solutions.it
> http://simboss.blogspot.com/
> http://www.linkedin.com/in/simonegiannecchini
> 
> -------------------------------------------------------
> 
> 
> 
> On Wed, Apr 22, 2009 at 10:49 AM, TJMartin <tjmgis@gmail.com> wrote:
>>
>> Hi christian
>>
>> many thanks for your help, i will run this later on today/overnight :)
>>
>> I saw that Geoserver tutorail using the database to store the files but
>> think i will stick with using just files.
>>
>> will postback later on if and when i get it all running
>>
>> thanks again
>>
>> Tim
>>
>>
>>
>> Christian M?ller wrote:
>>>
>>> Hi, I did this process last year many times and here is my experience
>>>
>>> 1) I assume you omitted the create options, your original tiff files are
>>> compressed, the new ones not.
>>> Look here http://www.gdal.org/frmt_gtiff.html, on the commandline it is
>>> -co
>>> "COMPRESS=JPEG" as an example.
>>>
>>> 2) Take a look at your tiles with gdalinfo, do the have a color table or
>>> more bands ?. If your tiles have
>>> more bands, (e. g. one for read, one for green and one for blue), use
>>> gdal_merge.py with -pct to produce a big picture
>>> having only one band and a color table. Create your tiles from the big
>>> picture. Geoserver will say thank you in terms
>>> of memory usage and cpu performance.
>>>
>>> 3) Decide, wich Geoserver module to use. There are 2 of them. There is a
>>> file based approach and a jdbc based
>>> approach (Module imagemosic-jdbc). If you want to store the whole stuff
>>> in
>>> a
>>> database, use gdal_retile.py to procude your
>>> tiles and pyramids and the imagemosic-jdbc module to import all the
>>> tiles.
>>> Both, gdal_retily.py and the imagemosaic-jdbc
>>> module were developed by me, if you have questions, ask.
>>>
>>> The documentation is here
>>> http://docs.codehaus.org/display/GEOTDOC/Image+Mosaicing+Pyramidal+JDBC+Plug
>>> in
>>> A tutorial for geoserver is here
>>> http://geoserver.org/display/GEOSDOC/Using+the+ImageMosaic+JDBC+Plugin
>>>
>>> christian
>>>
>>>
>>> TJMartin writes:
>>>
>>>>
>>>> Hi All
>>>>
>>>> I am just getting started with gdal, and i have done a search but
>>>> couldnt
>>>> find an answer.
>>>>
>>>> I currently have 10,000 tiff files with their world files. My real aim
>>>> is
>>>> to
>>>> tile them up and make them easier to use in Geoserver or create an
>>>> image
>>>> pyramid.
>>>>
>>>> So i used gdal_translate to Geotiff, then was going to use gdalwarp to
>>>> mosaic, then tile them.
>>>>
>>>> However the file size for geotiffs are between 4 and 15 times the size
>>>>
>>>> 4mb to 60mb
>>>>
>>>> One set were originally 128mb and now 858mb.
>>>>
>>>> So if i was to mosiac these and then tile them it will still be a huge
>>>> data/size volume to server via geoserver.
>>>>
>>>>
>>>> So my questions
>>>>
>>>> 1) Can i reduce the quality when translating to geotiff, and how much
>>>> will
>>>> this affect the image quality when i mosaic and tile
>>>>
>>>> 2) Should i mosaic the tiff + world files instead and then tile them
>>>> with
>>>> world files instead of using geotiffs
>>>>
>>>> 3) is there ?a better way of doing this?
>>>>
>>>> would really appreciate anyone's help
>>>>
>>>> all the best
>>>>
>>>> Tim
>>>>
>>>> --
>>>> View this message in context:
>>>> http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2672921.html
>>>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2674970.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2686259.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Thu Apr 23 16:51:11 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Apr 23 16:51:22 2009
Subject: [Gdal-dev] gtiff file size compared to original tiff +wrld file
In-Reply-To: <1240518945828-2686259.post@n2.nabble.com>
References: <1240353260236-2672921.post@n2.nabble.com>
	<961f4d9e0904221549v60e8bbcek1ee6dd3a7c83f32@mail.gmail.com>
	<1240518945828-2686259.post@n2.nabble.com>
Message-ID: <200904232251.12510.even.rouault@mines-paris.org>

yes, it is known that gdalwarp -co COMPRESS=LZW will yield to a larger file 
than the one that you can obtain with gdal_translate. This is due to the how 
gdalwarp works internally and there's no obvious way of fixing.

See http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#a-coCOMPRESSisbroken and 
http://trac.osgeo.org/gdal/ticket/1688

Le Thursday 23 April 2009 22:35:45 TJMartin, vous avez ?crit?:
> Simone - i posted here rather than over at Geoserver because it was the
> gdal that i couldnt seem to get working rather than the method of loading
> to geoserver.


From tjmgis at gmail.com  Thu Apr 23 16:54:32 2009
From: tjmgis at gmail.com (TJMartin)
Date: Thu Apr 23 16:54:33 2009
Subject: [Gdal-dev] gtiff file size compared to original tiff +wrld file
In-Reply-To: <200904232251.12510.even.rouault@mines-paris.org>
References: <1240353260236-2672921.post@n2.nabble.com>
	<20090422055059.13604.qmail@mail.linux4all.at>
	<1240390148746-2674970.post@n2.nabble.com>
	<961f4d9e0904221549v60e8bbcek1ee6dd3a7c83f32@mail.gmail.com>
	<1240518945828-2686259.post@n2.nabble.com>
	<200904232251.12510.even.rouault@mines-paris.org>
Message-ID: <1240520072282-2686357.post@n2.nabble.com>


excellent Even

thank you, i thought it was something else i had missed.





Even Rouault wrote:
> 
> yes, it is known that gdalwarp -co COMPRESS=LZW will yield to a larger
> file 
> than the one that you can obtain with gdal_translate. This is due to the
> how 
> gdalwarp works internally and there's no obvious way of fixing.
> 
> See http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#a-coCOMPRESSisbroken
> and 
> http://trac.osgeo.org/gdal/ticket/1688
> 
> Le Thursday 23 April 2009 22:35:45 TJMartin, vous avez ?crit?:
>> Simone - i posted here rather than over at Geoserver because it was the
>> gdal that i couldnt seem to get working rather than the method of loading
>> to geoserver.
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://n2.nabble.com/gtiff-file-size-compared-to-original-tiff-%2Bwrld-file-tp2672921p2686357.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From shkwak74 at nate.com  Thu Apr 23 21:16:16 2009
From: shkwak74 at nate.com (Sunny K)
Date: Thu Apr 23 21:16:18 2009
Subject: [Gdal-dev] HDF5 problem in VS2008 C# Project
Message-ID: <1240535776311-2689126.post@n2.nabble.com>


Hi all,

I installed gdal library (release-1500-x64-gdal-1-6-mapserver-5-2.zip),  but
have some problems.
-	Windows vista 64bit
-	Visual Studio 2008 Standard.

I want to process hdf5 file.
When I executed following command, the error message was printed.
% gdalinfo hdf5
% ERROR 1: --format option given with format 'hdf5', but that format not
recognised.  Use the --formats option to get a list of available formats,
and use the short code (ie. GTiff or HFA) as the format identifier.

I'd appreciate it if you would tell me some information to solve this
problem.

Best regards,
- sunny 

-- 
View this message in context: http://n2.nabble.com/HDF5-problem-in-VS2008-C--Project-tp2689126p2689126.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Fri Apr 24 03:43:37 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Apr 24 03:43:40 2009
Subject: [Gdal-dev] HDF5 problem in VS2008 C# Project
In-Reply-To: <1240535776311-2689126.post@n2.nabble.com>
References: <1240535776311-2689126.post@n2.nabble.com>
Message-ID: <f3b73b7d0904240043q1852bb8cnd7a9e1076efbd009@mail.gmail.com>

Sunny,

The HDF5 driver is compiled as a plugin. You have to put the corresponding
dll (gdal_HDF5.dll, gdal_HDF5Image.dll) from the /bin/gdal/plugins
directory to the /gdalplugins subdirectory from where your application is
running.
Alternatively you can set the GDAL_DRIVER_PATH environment variable to point
to the directory where the plugin dll-s are located.

Best regards,

Tamas


2009/4/24 Sunny K <shkwak74@nate.com>

>
> Hi all,
>
> I installed gdal library (release-1500-x64-gdal-1-6-mapserver-5-2.zip),
>  but
> have some problems.
> -       Windows vista 64bit
> -       Visual Studio 2008 Standard.
>
> I want to process hdf5 file.
> When I executed following command, the error message was printed.
> % gdalinfo hdf5
> % ERROR 1: --format option given with format 'hdf5', but that format not
> recognised.  Use the --formats option to get a list of available formats,
> and use the short code (ie. GTiff or HFA) as the format identifier.
>
> I'd appreciate it if you would tell me some information to solve this
> problem.
>
> Best regards,
> - sunny
>
> --
> View this message in context:
> http://n2.nabble.com/HDF5-problem-in-VS2008-C--Project-tp2689126p2689126.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090424/1aacec20/attachment.html
From shkwak74 at nate.com  Fri Apr 24 06:17:52 2009
From: shkwak74 at nate.com (Sunny K)
Date: Fri Apr 24 06:17:54 2009
Subject: [Gdal-dev] HDF5 problem in VS2008 C# Project
In-Reply-To: <f3b73b7d0904240043q1852bb8cnd7a9e1076efbd009@mail.gmail.com>
References: <1240535776311-2689126.post@n2.nabble.com>
	<f3b73b7d0904240043q1852bb8cnd7a9e1076efbd009@mail.gmail.com>
Message-ID: <1240568272820-2691639.post@n2.nabble.com>


Thanks for your reply.

I set the GDAL_DRIVER_PATH environment variable.
And I can execute gdalinfo.exe of C++ version.

In gdalinfo.exe of C# version, I cannot still execute it. 
So, I tried to execute this command using other format (ex. GTIFF, HFA), it
was failed.
   "ERROR 4: 'gtiff' does not exxist in the file system, and is not
recignised as a supported dataset name."

Does I need any other settings?

Thanks, 
Sunny


Tamas Szekeres wrote:
> 
> Sunny,
> 
> The HDF5 driver is compiled as a plugin. You have to put the corresponding
> dll (gdal_HDF5.dll, gdal_HDF5Image.dll) from the /bin/gdal/plugins
> directory to the /gdalplugins subdirectory from where your application is
> running.
> Alternatively you can set the GDAL_DRIVER_PATH environment variable to
> point
> to the directory where the plugin dll-s are located.
> 
> Best regards,
> 
> Tamas
> 
> 
> 2009/4/24 Sunny K <shkwak74@nate.com>
> 
>>
>> Hi all,
>>
>> I installed gdal library (release-1500-x64-gdal-1-6-mapserver-5-2.zip),
>>  but
>> have some problems.
>> -       Windows vista 64bit
>> -       Visual Studio 2008 Standard.
>>
>> I want to process hdf5 file.
>> When I executed following command, the error message was printed.
>> % gdalinfo hdf5
>> % ERROR 1: --format option given with format 'hdf5', but that format not
>> recognised.  Use the --formats option to get a list of available formats,
>> and use the short code (ie. GTiff or HFA) as the format identifier.
>>
>> I'd appreciate it if you would tell me some information to solve this
>> problem.
>>
>> Best regards,
>> - sunny
>>
>> --
>> View this message in context:
>> http://n2.nabble.com/HDF5-problem-in-VS2008-C--Project-tp2689126p2689126.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

-- 
View this message in context: http://n2.nabble.com/HDF5-problem-in-VS2008-C--Project-tp2689126p2691639.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Fri Apr 24 07:12:30 2009
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Apr 24 07:12:33 2009
Subject: [Gdal-dev] HDF5 problem in VS2008 C# Project
In-Reply-To: <1240568272820-2691639.post@n2.nabble.com>
References: <1240535776311-2689126.post@n2.nabble.com>
	<f3b73b7d0904240043q1852bb8cnd7a9e1076efbd009@mail.gmail.com>
	<1240568272820-2691639.post@n2.nabble.com>
Message-ID: <f3b73b7d0904240412m7d53eb8bu4e5440e0285c07ec@mail.gmail.com>

You should also add the directories of /bin and /gdal/csharp to your PATH
environment, or copy all the dll-s into your executing directory to make it
available to load by the application.
The gdalinfo csharp example is not equal to the C++ command line tool you
have to use the simple form:

gdalinfo {GDAL dataset name}

Best regards,

Tamas





2009/4/24 Sunny K <shkwak74@nate.com>

>
> Thanks for your reply.
>
> I set the GDAL_DRIVER_PATH environment variable.
> And I can execute gdalinfo.exe of C++ version.
>
> In gdalinfo.exe of C# version, I cannot still execute it.
> So, I tried to execute this command using other format (ex. GTIFF, HFA), it
> was failed.
>   "ERROR 4: 'gtiff' does not exxist in the file system, and is not
> recignised as a supported dataset name."
>
> Does I need any other settings?
>
> Thanks,
> Sunny
>
>
> Tamas Szekeres wrote:
> >
> > Sunny,
> >
> > The HDF5 driver is compiled as a plugin. You have to put the
> corresponding
> > dll (gdal_HDF5.dll, gdal_HDF5Image.dll) from the /bin/gdal/plugins
> > directory to the /gdalplugins subdirectory from where your application is
> > running.
> > Alternatively you can set the GDAL_DRIVER_PATH environment variable to
> > point
> > to the directory where the plugin dll-s are located.
> >
> > Best regards,
> >
> > Tamas
> >
> >
> > 2009/4/24 Sunny K <shkwak74@nate.com>
> >
> >>
> >> Hi all,
> >>
> >> I installed gdal library (release-1500-x64-gdal-1-6-mapserver-5-2.zip),
> >>  but
> >> have some problems.
> >> -       Windows vista 64bit
> >> -       Visual Studio 2008 Standard.
> >>
> >> I want to process hdf5 file.
> >> When I executed following command, the error message was printed.
> >> % gdalinfo hdf5
> >> % ERROR 1: --format option given with format 'hdf5', but that format not
> >> recognised.  Use the --formats option to get a list of available
> formats,
> >> and use the short code (ie. GTiff or HFA) as the format identifier.
> >>
> >> I'd appreciate it if you would tell me some information to solve this
> >> problem.
> >>
> >> Best regards,
> >> - sunny
> >>
> >> --
> >> View this message in context:
> >>
> http://n2.nabble.com/HDF5-problem-in-VS2008-C--Project-tp2689126p2689126.html
> >> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> >>
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
> --
> View this message in context:
> http://n2.nabble.com/HDF5-problem-in-VS2008-C--Project-tp2689126p2691639.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090424/9d18b855/attachment-0001.html
From oakyangnjucn at gmail.com  Fri Apr 24 09:26:55 2009
From: oakyangnjucn at gmail.com (Yang Bo)
Date: Fri Apr 24 09:26:54 2009
Subject: [gdal-dev] need suggestion on Linux OS
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26E88F@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <200904242126.55407.oakyangnjucn@gmail.com>

On Wednesday 22 April 2009 22:24:02 Gong, Shawn (Contractor) wrote:
> hi list,
>
> I'd appreciate suggestions on Linux OS. We'd like to build newest gdal,
> as well as OpenEV2 using GTK2.
> Have tried CentOS. But it libraries seem too conservative.
>
> Is Fedora 9 a better choice?
>
> thanks,
> Shawn
+1 for OpenSuSE

Distributions are the same, but OpenSuSE has a good build service. You 
can keep things up to date but not need to compile them yourself.
From hobu.inc at gmail.com  Fri Apr 24 11:06:02 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Apr 24 11:13:12 2009
Subject: [gdal-dev] Motion: Matthew Perry as a GDAL committer
Message-ID: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>

Motion: Grant Matthew Perry GDAL commit access to maintain his  
excellent GDAL DEM tools in GDAL as utilities.

As described in http://trac.osgeo.org/gdal/ticket/2640 , I have begun  
porting Matthew's utilities to the GDAL C API and including them in  
GDAL.  Matthew should be able to maintain this code as it moves into  
the project, and maybe we can convince him in the future to do even  
more fun stuff like bindings maintenance :)

Provided he accepts RFC 3, http://trac.osgeo.org/gdal/wiki/rfc3_commiters 
  , I propose him commit access.

Howard
From randre at gmail.com  Fri Apr 24 12:12:21 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Fri Apr 24 12:12:23 2009
Subject: [gdal-dev] SRTM data and Pixel is area vs. Pixel is point
Message-ID: <9c2015090904240912i419dda17i5c05887050d4559f@mail.gmail.com>

Morning,

I have a bit of a conundrum which I'm trying to find an answer for,
and which is prompting a certain amount of contentious debate at work.
 I've downloaded a 1-deg x 1-deg SRTM tile from the GLCF site,
SRTM_f03_n007e000.tif.? Now from its name, this tile should have its
origin at N 7, E 0.

When I view the metadata for the tile, I see a helpful note that says,
"Metadata: AREA_OR_POINT=Area"

I assume from this that the data is using "PixellsArea" Raster Space,
as defined at http://www.remotesensing.org/geotiff/spec/geotiff2.5.html.
 This definition states that "The "PixelIsArea" raster grid space R,
which is the default, uses coordinates I and J, with (0,0) denoting
the upper-left corner of the image".  So my guess would be that the UL
corner coordinates of this raster should be (0, 8).  However, that is
not the case.

 - When I run gdalinfo against the tile, I get the following info:
  Upper Left  (  -0.0004167,   8.0004167)

- When I create a worldfile for the tile with gdal_translate, I get
the following pixel coords reported in it:
  -0.0000000000, 8.0000000033

- Also, when I create a shapefile of this tile's extents using
gdaltindex, I get the following extents reported:
Extent: (-0.000417, 6.999583) - (1.000417, 8.000417)

So my question is this, are we really all working with SRTM data that
is offset by 1/2 a pixel because of a discrepancy between
point-vs-area pixel registration?  This is coming to a head for us
because we need to do some raster analysis, and we're having a really
hard time understandind why the data keeps spanning meridians and
parallels.

Would appreciate any clarification or insights.

Roger
--
From matt.wilkie at gov.yk.ca  Fri Apr 24 12:22:56 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Apr 24 12:23:01 2009
Subject: [gdal-dev] more commands, less utilities
In-Reply-To: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
References: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
Message-ID: <49F1E760.3030907@gov.yk.ca>

> Upon reflection, I think we should congregate these utilities into a
> single utility -- gdaldem (I'm totally flexible on the name -- and
> have each be a separate operation within that rather than
> proliferating five more GDAL utilities.
  -- http://trac.osgeo.org/gdal/ticket/2640

I like the idea of gdaldem with commands rather than seperate utilities.

For some time I've considered proprosing that we do the same with gdal
so that `merge`, `warp`, `translate`, etc. become commands to a single
gdal utility. Ditto for ogr. I've hesitated because there is so much 
inertia (and I'd be asking others to do work that I can't!).


matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From matt.wilkie at gov.yk.ca  Fri Apr 24 12:14:39 2009
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri Apr 24 12:29:49 2009
Subject: [gdal-dev] Motion: Matthew Perry as a GDAL committer
In-Reply-To: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
References: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
Message-ID: <49F1E56F.3010903@gov.yk.ca>

It sounds to me like Matt Perry wants to hand over maintenance to 
someone else (though I wouldn't be surprised if he put in a hand now and 
again if he had commit access).

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


Howard Butler wrote:
> Motion: Grant Matthew Perry GDAL commit access to maintain his  
> excellent GDAL DEM tools in GDAL as utilities.
> 
> As described in http://trac.osgeo.org/gdal/ticket/2640 , I have begun  
> porting Matthew's utilities to the GDAL C API and including them in  
> GDAL.  Matthew should be able to maintain this code as it moves into  
> the project, and maybe we can convince him in the future to do even  
> more fun stuff like bindings maintenance :)
> 
> Provided he accepts RFC 3, http://trac.osgeo.org/gdal/wiki/rfc3_commiters 
>   , I propose him commit access.
> 
> Howard
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> .
> 
From warmerdam at pobox.com  Fri Apr 24 12:54:31 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 24 12:54:54 2009
Subject: [gdal-dev] more commands, less utilities
In-Reply-To: <49F1E760.3030907@gov.yk.ca>
References: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
	<49F1E760.3030907@gov.yk.ca>
Message-ID: <49F1EEC7.5050606@pobox.com>

Matt Wilkie wrote:
>> Upon reflection, I think we should congregate these utilities into a
>> single utility -- gdaldem (I'm totally flexible on the name -- and
>> have each be a separate operation within that rather than
>> proliferating five more GDAL utilities.
>  -- http://trac.osgeo.org/gdal/ticket/2640
> 
> I like the idea of gdaldem with commands rather than seperate utilities.
> 
> For some time I've considered proprosing that we do the same with gdal
> so that `merge`, `warp`, `translate`, etc. become commands to a single
> gdal utility. Ditto for ogr. I've hesitated because there is so much 
> inertia (and I'd be asking others to do work that I can't!).

Matt, etc,

I would say that before folks become too dependent on the existing
utility interface is the time to do a change like this.

I did introduce gdal_manage so that small operations would not need
to each be a distinct utility.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bfraser at geoanalytic.com  Fri Apr 24 12:59:07 2009
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Fri Apr 24 12:59:18 2009
Subject: [gdal-dev] more commands, less utilities
In-Reply-To: <49F1E760.3030907@gov.yk.ca>
References: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
	<49F1E760.3030907@gov.yk.ca>
Message-ID: <49F1EFDB.1070900@geoanalytic.com>

How about gdaldem2image for a name?  A little long, but less confusion over what it actually does...

Matt Wilkie wrote:
>> Upon reflection, I think we should congregate these utilities into a
>> single utility -- gdaldem (I'm totally flexible on the name -- and
>> have each be a separate operation within that rather than
>> proliferating five more GDAL utilities.
>  -- http://trac.osgeo.org/gdal/ticket/2640
> 
From warmerdam at pobox.com  Fri Apr 24 12:59:25 2009
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Apr 24 12:59:48 2009
Subject: [gdal-dev] SRTM data and Pixel is area vs. Pixel is point
In-Reply-To: <9c2015090904240912i419dda17i5c05887050d4559f@mail.gmail.com>
References: <9c2015090904240912i419dda17i5c05887050d4559f@mail.gmail.com>
Message-ID: <49F1EFED.8090303@pobox.com>

Roger Andr? wrote:
> Morning,
> 
> I have a bit of a conundrum which I'm trying to find an answer for,
> and which is prompting a certain amount of contentious debate at work.
>  I've downloaded a 1-deg x 1-deg SRTM tile from the GLCF site,
> SRTM_f03_n007e000.tif.  Now from its name, this tile should have its
> origin at N 7, E 0.
> 
> When I view the metadata for the tile, I see a helpful note that says,
> "Metadata: AREA_OR_POINT=Area"
> 
> I assume from this that the data is using "PixellsArea" Raster Space,
> as defined at http://www.remotesensing.org/geotiff/spec/geotiff2.5.html.
>  This definition states that "The "PixelIsArea" raster grid space R,
> which is the default, uses coordinates I and J, with (0,0) denoting
> the upper-left corner of the image".  So my guess would be that the UL
> corner coordinates of this raster should be (0, 8).  However, that is
> not the case.
> 
>  - When I run gdalinfo against the tile, I get the following info:
>   Upper Left  (  -0.0004167,   8.0004167)
> 
> - When I create a worldfile for the tile with gdal_translate, I get
> the following pixel coords reported in it:
>   -0.0000000000, 8.0000000033
> 
> - Also, when I create a shapefile of this tile's extents using
> gdaltindex, I get the following extents reported:
> Extent: (-0.000417, 6.999583) - (1.000417, 8.000417)
> 
> So my question is this, are we really all working with SRTM data that
> is offset by 1/2 a pixel because of a discrepancy between
> point-vs-area pixel registration?  This is coming to a head for us
> because we need to do some raster analysis, and we're having a really
> hard time understandind why the data keeps spanning meridians and
> parallels.

Roger,

I don't see a problem with the data.  It appears to have edge pixels
that are properly centered on the lat/long grid points.  It does imply
a single row/column of overlap with adjacent grid squares but I believe
that is typical of distributed SRTM data.

What, specifically, in the above seems wrong to you?

Where we do often have contentious debates is when a raster is marked
as PixelIsPoint.  In this case there is arguments about how it ought
to be represented by GDAL and there are often complaints that the
approach taken is off by half a pixel.  I think it would be much easier
if everyone in the world just distributed data in pixelisarea mode - no
risk of confusion and error.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From randre at gmail.com  Fri Apr 24 13:47:18 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Fri Apr 24 13:47:20 2009
Subject: [gdal-dev] SRTM data and Pixel is area vs. Pixel is point
In-Reply-To: <49F1EFED.8090303@pobox.com>
References: <9c2015090904240912i419dda17i5c05887050d4559f@mail.gmail.com>
	<49F1EFED.8090303@pobox.com>
Message-ID: <9c2015090904241047u5fd5e68amd87683f8eccabb16@mail.gmail.com>

Hi Frank,

I think the problem we're having is with this, "It does imply a single
row/column of overlap with adjacent grid squares but I believe that is
typical of distributed SRTM data."  I guess we were expecting there to
be zero overlap and for the tiles to line up edge-to-edge.

Thanks,

Roger
--

On Fri, Apr 24, 2009 at 9:59 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Roger Andr? wrote:
>>
>> Morning,
>>
>> I have a bit of a conundrum which I'm trying to find an answer for,
>> and which is prompting a certain amount of contentious debate at work.
>> ?I've downloaded a 1-deg x 1-deg SRTM tile from the GLCF site,
>> SRTM_f03_n007e000.tif. ?Now from its name, this tile should have its
>> origin at N 7, E 0.
>>
>> When I view the metadata for the tile, I see a helpful note that says,
>> "Metadata: AREA_OR_POINT=Area"
>>
>> I assume from this that the data is using "PixellsArea" Raster Space,
>> as defined at http://www.remotesensing.org/geotiff/spec/geotiff2.5.html.
>> ?This definition states that "The "PixelIsArea" raster grid space R,
>> which is the default, uses coordinates I and J, with (0,0) denoting
>> the upper-left corner of the image". ?So my guess would be that the UL
>> corner coordinates of this raster should be (0, 8). ?However, that is
>> not the case.
>>
>> ?- When I run gdalinfo against the tile, I get the following info:
>> ?Upper Left ?( ?-0.0004167, ? 8.0004167)
>>
>> - When I create a worldfile for the tile with gdal_translate, I get
>> the following pixel coords reported in it:
>> ?-0.0000000000, 8.0000000033
>>
>> - Also, when I create a shapefile of this tile's extents using
>> gdaltindex, I get the following extents reported:
>> Extent: (-0.000417, 6.999583) - (1.000417, 8.000417)
>>
>> So my question is this, are we really all working with SRTM data that
>> is offset by 1/2 a pixel because of a discrepancy between
>> point-vs-area pixel registration? ?This is coming to a head for us
>> because we need to do some raster analysis, and we're having a really
>> hard time understandind why the data keeps spanning meridians and
>> parallels.
>
> Roger,
>
> I don't see a problem with the data. ?It appears to have edge pixels
> that are properly centered on the lat/long grid points. ?It does imply
> a single row/column of overlap with adjacent grid squares but I believe
> that is typical of distributed SRTM data.
>
> What, specifically, in the above seems wrong to you?
>
> Where we do often have contentious debates is when a raster is marked
> as PixelIsPoint. ?In this case there is arguments about how it ought
> to be represented by GDAL and there are often complaints that the
> approach taken is off by half a pixel. ?I think it would be much easier
> if everyone in the world just distributed data in pixelisarea mode - no
> risk of confusion and error.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>
From armin.burger at gmx.net  Fri Apr 24 16:02:59 2009
From: armin.burger at gmx.net (Armin Burger)
Date: Fri Apr 24 16:03:09 2009
Subject: [gdal-dev] directory for ECW tmp files
Message-ID: <49F21AF3.20704@gmx.net>

Hi everybody

does anybody know if the tools like gdal_translate have a config 
parameter that allows to specify the directory used for the tmp files 
when creating ECW files? I made some tests on Linux and no environment 
vars like TMP, TEMP or TMPDIR were taken into account when creating the 
ECW files. The temporary files were always written to the same dir as 
the final ECW file.

Greetings

Armin
From hobu.inc at gmail.com  Fri Apr 24 16:20:01 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Apr 24 16:20:09 2009
Subject: [gdal-dev] 1.6.1 release planned for May 8th
Message-ID: <C728BA8B-D27F-4B9E-9D67-0C57438BFA53@gmail.com>

All,

I would like to step forward as release manager for the 1.6.1 release,  
and I would like to produce the 1.6.1RC1 on May 8th.  Consider this  
your notice to complete any bugs or backports for the 1.6 branch.

http://trac.osgeo.org/gdal/milestone/1.6.1

Howard
From Shawn.Gong at drdc-rddc.gc.ca  Fri Apr 24 16:36:22 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Fri Apr 24 16:36:30 2009
Subject: [gdal-dev] _gdal.dll problem on Windows using MSVC 8
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26E8A8@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

OS: Windows, Python binding: old generation, Compiler: MSVS 2005 (MSVC
8)
I have built Gdal-1.6.0 using older MSVC++ 6 (python 2.4) and ran it for
2 months without problem.  

Now I am building Gdal-1.6.0 using MSVC 8 and python 2.5.  Everything
else stayed the same. Build went fine.
But when I ran old-generation Python codes (e.g. OpenEV18), I got:

Traceback (most recent call last):
    import gdal
  File "C:\test\OpenEV\pymod\gdal.py", line 191, in <module>
    import _gdal
ImportError: No module named _gdal

I checked _gdal.dll. It has been generated in \local_install\pymod\
along with _gdal.dll.manifest
I then ran "mt -manifest _gdal.dll.manifest -outputresource:_gdal.dll;2"
and getting the same error.

I remade gdal by changing two lines in Gdal-1.6.0's name.opt:
	!IFNDEF MSVC_VER
	MSVC_VER=1400

	# Location of Visual C++ directory (only required for following
SETARGV stuff)
	VCDIR = C:\Program Files\Microsoft Visual Studio 8\VC
But still getting the same error.

Is this the MSVC's dll manifest problem or something else?

thanks,
Shawn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090424/db977276/attachment.html
From garrard.chris at gmail.com  Fri Apr 24 19:40:12 2009
From: garrard.chris at gmail.com (Chris Garrard)
Date: Fri Apr 24 19:40:14 2009
Subject: [gdal-dev] python support on solaris
Message-ID: <92022f530904241640v3fb3e7c3g2fdc17647a71f4cc@mail.gmail.com>

I've compiled GDAL 1.6.0 on Solaris 10, and most everything seems to work
fine.  However, I need Python support, but I get the following error when I
try to import the gdal module:

>>> from osgeo import gdal
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/opt/csw/lib/python2.5/site-packages/osgeo/gdal.py", line 7, in
<module>
    import _gdal
ImportError: ld.so.1: python: fatal: relocation error: file
/opt/csw/lib/python2.5/site-packages/osgeo/_gdal.so: symbol __1c2N6FI_pv_:
referenced symbol not found

I'd love to hear any ideas for how to solve this.

Thanks,
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090424/9a4da584/attachment.html
From hobu.inc at gmail.com  Fri Apr 24 22:28:41 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Fri Apr 24 22:28:45 2009
Subject: [gdal-dev] python support on solaris
In-Reply-To: <92022f530904241640v3fb3e7c3g2fdc17647a71f4cc@mail.gmail.com>
References: <92022f530904241640v3fb3e7c3g2fdc17647a71f4cc@mail.gmail.com>
Message-ID: <57EF8460-88CF-40F4-B145-D4EA2D1FBE0C@gmail.com>


On Apr 24, 2009, at 6:40 PM, Chris Garrard wrote:

> I've compiled GDAL 1.6.0 on Solaris 10, and most everything seems to  
> work fine.  However, I need Python support, but I get the following  
> error when I try to import the gdal module:
>
> >>> from osgeo import gdal
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
>   File "/opt/csw/lib/python2.5/site-packages/osgeo/gdal.py", line 7,  
> in <module>
>     import _gdal
> ImportError: ld.so.1: python: fatal: relocation error: file /opt/csw/ 
> lib/python2.5/site-packages/osgeo/_gdal.so: symbol __1c2N6FI_pv_:  
> referenced symbol not found
>
> I'd love to hear any ideas for how to solve this.

IIRC, I think relocation errors are often related to one thing or the  
other not doing position independent code (-fPIC).  I think you'll  
either need to compile Python or GDAL with -fPIC in the CPPFLAGS/ 
CFLAGS so they are both doing the same thing.

Howard
From brian.claywell at gmail.com  Sat Apr 25 04:13:40 2009
From: brian.claywell at gmail.com (Brian Claywell)
Date: Sat Apr 25 04:13:55 2009
Subject: [gdal-dev] Warping with modified source geotransform
Message-ID: <gsugnl$fq$1@ger.gmane.org>

Our image-to-image coregistration process produces an affine 
transformation matrix that specifies the pixel-space transformation 
necessary to transform the image B to match image A. Since a 
geotransform is just an affine pixel-space transformation, the original 
  image B geotransform can be combined with the coregistration 
transformation by matrix multiplication to yield a new image B 
geotransform. However, the new image B geotransform is not guaranteed to 
be north-up, so the image B (with its modified geotransform) needs to be 
warped into a north-up image, and to compute those parameters I've used 
the GDALSuggestedWarpOutput() function.

But I've run into a bit of a roadblock. The GDALGenImgProjTransformer 
and GDALSuggestedWarpOutput() both read the source geotransform directly 
from the source dataset, but I want to inject the modified source 
geotransform as described in the above paragraph. Unfortunately, as best 
I can tell, it's near impossible to modify the source geotransform of a 
GDALGenImgProjTransformer, because the struct definition for 
GDALGenImgProjTransformInfo is hidden away inside 
alg/gdaltransformer.cpp, so one can't cast from void* to 
GDALGenImgProjTransformInfo* to get at the adfSrcGeoTransform member (at 
least without replicating the struct definition in my own code, but I'd 
really rather avoid breaking GDAL's encapsulation there :) ).

Can anyone think of a way to accomplish this? Or is there a better way 
to do this that I haven't thought of?

Thanks!

-b

--
Brian Claywell
brian.claywell@gmail.com

From timmichelsen at gmx-topmail.de  Sun Apr 26 11:12:37 2009
From: timmichelsen at gmx-topmail.de (Timmie)
Date: Sun Apr 26 11:12:39 2009
Subject: [Gdal-dev] help in adjusting extend (bounding box) of 2 rasters
Message-ID: <1240758757490-2718131.post@n2.nabble.com>


Hello,
I have a problem overlaying 2 landsat files (GeoTIFF):
Both are registered in UTM 24S with SAD69 ( EPSG::29194).
The data provider attached different extends or bounding box to the two
files although they are containg / picturing the same area.
How can I spatically adjust the extends in order to overlay both exactly?

I tried with:
gdalwarp -te '-35.186165 -11.052296 -37.269419 -9.142462' source.tif
test2.tif

Then I got the error:
Creating output file that is 0P x 0L.
ERROR 1: Attempt to create 0x0 dataset is illegal,sizes must be larger than
zero.

Can you please assist me here.
Below you may find the projection information retrieved by gdalinfo.

Thanks in advance,
Timmie




## Source file

PROJCS["SAD69 / UTM zone 24S",
    GEOGCS["SAD69",
        DATUM["South_American_Datum_1969",
            SPHEROID["GRS 1967",6378160,298.2471674269971,
                AUTHORITY["EPSG","7036"]],
            AUTHORITY["EPSG","6291"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4291"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-39],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10000000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","29184"]]
Origin = (689205.000000000000000,8986272.000000000000000)
Pixel Size = (79.000000000000000,-79.000000000000000)
[...]
Corner Coordinates:
Upper Left  (  689205.000, 8986272.000) 
Lower Left  (  689205.000, 8777949.000) 
Upper Right (  914355.000, 8986272.000) 
Lower Right (  914355.000, 8777949.000) 
Center      (  801780.000, 8882110.500) 

## Target file

PROJCS["SAD69 / UTM zone 24S",
    GEOGCS["SAD69",
        DATUM["South_American_Datum_1969",
            SPHEROID["GRS 1967",6378160,298.2471674269971,
                AUTHORITY["EPSG","7036"]],
            AUTHORITY["EPSG","6291"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4291"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-39],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10000000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","29184"]]
Origin = (690160.000000000000000,8987200.000000000000000)
Pixel Size = (80.000000000000000,-80.000000000000000)
[...]
Corner Coordinates:
Upper Left  (  690160.000, 8987200.000) 
Lower Left  (  690160.000, 8777680.000) 
Upper Right (  916880.000, 8987200.000) 
Lower Right (  916880.000, 8777680.000) 
Center      (  803520.000, 8882440.000) 
-- 
View this message in context: http://n2.nabble.com/help-in-adjusting-extend-%28bounding-box%29-of-2-rasters-tp2718131p2718131.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From chaitanya.ch at gmail.com  Sun Apr 26 12:00:18 2009
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sun Apr 26 12:00:21 2009
Subject: [Gdal-dev] help in adjusting extend (bounding box) of 2 rasters
In-Reply-To: <1240758757490-2718131.post@n2.nabble.com>
References: <1240758757490-2718131.post@n2.nabble.com>
Message-ID: <eb502d880904260900u480ab9c9h5ac7646beb76ff8@mail.gmail.com>

Timmie,

On Sun, Apr 26, 2009 at 8:42 PM, Timmie <timmichelsen@gmx-topmail.de> wrote:

>
> I tried with:
> gdalwarp -te '-35.186165 -11.052296 -37.269419 -9.142462' source.tif
> test2.tif
>

Please check the xmin and xmax values

Regards,
-- 
Chaitanya kumar CH.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090426/99add912/attachment.html
From leith at leithalweapon.geek.nz  Mon Apr 27 02:25:02 2009
From: leith at leithalweapon.geek.nz (Leith Bade)
Date: Mon Apr 27 02:25:28 2009
Subject: [gdal-dev] Help with first GDAL program
Message-ID: <c9d9cad70904262325l2d8726a9y1b29e3ad9642447b@mail.gmail.com>

Hi,

I am new to GDAL and would like some guidance on a simple task that I am
writing a Python script for.

Given a set of GeoTIFFs I would like to find the max/min lat/long extent of
the set.

This will be for calculating pixel dimensions of a theoretical gdal_merge.py
type output, but for tiling into Google Earth.

Thanks,
Leith Bade
leith@leithalweapon.geek.nz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090427/87784c89/attachment.html
From massimodisasha at yahoo.it  Mon Apr 27 06:57:29 2009
From: massimodisasha at yahoo.it (massimo di stefano)
Date: Mon Apr 27 06:59:53 2009
Subject: [gdal-dev] gdal and gras from svn, export problem GTIFF - UINT32
Message-ID: <0CFDE19F-FE37-4B76-B8A0-8BEE51406846@yahoo.it>

Hi All, i'm having problems using gdal (svn version) from grass6.5
to export elevation data in format 'GTIF' type 'Byte'

Tring to export an elevation file from grass (elevation.10m from  
speardfish60 dataset)
in format "GTIF" type "UINT32"

--
$g.region rast=elevation.10m -ap
$r.out.gdal input=elevation.10m@PERMANENT format=GTiff type=UInt32  
output=/home/sasha/elev.tif
--

The grass version compiled using gdal from reposytory works fine,
while the grass compiled using gdal from svn give me a corrupted file.
The corrupted file has only 1/2 data ... the boundy box is correct,
but half of its data is set to 0

Please tell me if can i provide any log details,
or maybe instruction to compile gdal to have verbose log
.... or gdal commandline to test these particolar case-problem

(other format in r.out.gdal seems to works fine, but i don't tried all)


i've on my system (sidux64bit) 2 different gdal.

1) gdal from the debian gis repository, Version = 1.5.4-3 ;
2) gdal-svn, Version = 1.7.0dev, released 2008/11/26)

building from source grass (6.5 svn) :

1- using --with-gdal=/usr/bin/gdal-config
2- using --with-gdal=/usr/local/gdal/bin/gdal-config



These the procedure i'm following to build gdal and grass :

1) checkout gdal and grass6.5 from the relaive svn repo.

2) download ecw lib, gdal-grass plug-in

3) build ecw

4) build gdal using :
../configure --with-python

5) add gdal to ld path :
thouch /etc/ld.so.conf.d/gdal.conf
echo "/usr/local/gdal/lib" > /etc/ld.so.conf.d/gdal.conf
ldconfig



6) build grass using :

gdal-repo :

../configure --with-tcltk-includes=/usr/include/tcl8.5/ --with-ffmpeg -- 
with-ffmpeg-includes=/usr/include/ffmpeg/ --enable-64bit --with-cxx -- 
with-cairo --with-readline --with-sqlite --with-python --with- 
wxwidgets=/usr/bin/wx-config --with-postgres --with-postgres-includes=/ 
usr/include/postgresql/ --with-odbc--with-freetype --with-freetype- 
includes=/usr/include/freetype2/ --with-motif --with-proj-share=/usr/ 
share/proj/ --enable-largefile
--with-gdal=/usr/bin/gdal-config

gdal-svn :

../configure --with-tcltk-includes=/usr/include/tcl8.5/ --with-ffmpeg -- 
with-ffmpeg-includes=/usr/include/ffmpeg/ --enable-64bit --with-cxx -- 
with-cairo --with-readline --with-sqlite --with-python --with- 
wxwidgets=/usr/bin/wx-config --with-postgres --with-postgres-includes=/ 
usr/include/postgresql/ --with-odbc--with-freetype --with-freetype- 
includes=/usr/include/freetype2/ --with-motif --with-proj-share=/usr/ 
share/proj/ --enable-largefile
--with-gdal=/usr/local/gdal/bin/gdal-config

7) add grass to ld :
touch /etc/ld.so.conf.d/grass.conf
echo "/usr/local/grass-6.5.svn/lib" > /etc/ld.so.conf.d/grass.conf



8) build gdal-grass using :
../configure --with-gdal=/usr/local/gdal/bin/gdal-config --with-grass=/ 
usr/local/grass-6.5.svn/


9) compile gdal with grass support :
cd gdal ; make clean ; make dist clean
../configure --with-python --with-grass=/usr/local/grass-6.5.svn/



Thanks for any help and suggestion





Massimo Di Stefano
massimodisasha@yahoo.it

epifanio on   irc.freenode.net  /join gfoss













Chiacchiera con i tuoi amici in tempo reale! 
 http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com 

From SnapeM at rpsgroup.com  Mon Apr 27 11:36:51 2009
From: SnapeM at rpsgroup.com (Matthew Snape)
Date: Mon Apr 27 11:51:56 2009
Subject: [gdal-dev] problem with ogr2ogr
Message-ID: <605F55D8070C094AA2E2A9CBA2767A3C042CEF3A@EXMB1.eur.rpsgroup.com>

Dear List,

 

I am attempting to use ogr2ogr to append a shapefile to another
shapefile.  However, when the -update parameter is included the
incorrect source filename appears to be used.

 

ogr2ogr -append  -update -select meta_type,meta_id,meta_name
"C:/downloadworking/out.shp" "SSSI/sssi.shp"

 

ERROR 1: Failed to create file .shp file.

ERROR 4: Failed to open Shapefile `C:/downloadworking/out.shp\sssi.shp'.

 

ERROR 1: Terminating translation prematurely after failed translation of
layer sssi (use -skipfailures to skip errors)

 

I am using latest FW Tools on XP.

 

Any ideas?

 

Thanks.


This e-mail message and any attached file is the property of the sender and is sent in confidence to the addressee only. The contents are not to be disclosed to anyone other than
the addressee. Unauthorised recipients are requested to preserve this confidentiality and to advise the sender immediately of any error in transmission. If you experience difficulty 
with opening any attachments to this message, or with sending a reply by email, please telephone on + 44-(0)1235 438151 or fax on + 44-(0)1235 438188. 
Any advice contained in this e-mail or any accompanying file attached hereto is for information purposes only. RPS do not take any responsibility for differences between the original 
and the transmission copy or any amendments made thereafter. If the addressee requires RPS to be responsible for the contents of this e-mail, RPS will be pleased to issue a signed 
hard copy of the document upon request.
RPS Planning and Development Limited, company number: 02947164 (England). Registered office: Centurion Court, 85 Milton Park Abingdon Oxfordshire OX14 4RY.
RPS Group Plc web link: <http://www.rpsgroup.com>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090427/7aae64db/attachment.html
From jaadfoo at gmail.com  Mon Apr 27 12:23:34 2009
From: jaadfoo at gmail.com (Jamie Adams)
Date: Mon Apr 27 12:29:53 2009
Subject: [gdal-dev] gdal and gras from svn, export problem GTIFF - UINT32
In-Reply-To: <0CFDE19F-FE37-4B76-B8A0-8BEE51406846@yahoo.it>
References: <0CFDE19F-FE37-4B76-B8A0-8BEE51406846@yahoo.it>
Message-ID: <f4339510904270923s4f9f6df1r5e104c617b8792f9@mail.gmail.com>

I had a similar issue with gdal gtiff output awhile back and solved it by
using the internal gdal libtiff.  Try using "--with-libtiff=internal" when
compiling gdal.

-Jamie

On Mon, Apr 27, 2009 at 3:57 AM, massimo di stefano <massimodisasha@yahoo.it
> wrote:

> Hi All, i'm having problems using gdal (svn version) from grass6.5
> to export elevation data in format 'GTIF' type 'Byte'
>
> Tring to export an elevation file from grass (elevation.10m from
> speardfish60 dataset)
> in format "GTIF" type "UINT32"
>
> --
> $g.region rast=elevation.10m -ap
> $r.out.gdal input=elevation.10m@PERMANENT format=GTiff type=UInt32
> output=/home/sasha/elev.tif
> --
>
> The grass version compiled using gdal from reposytory works fine,
> while the grass compiled using gdal from svn give me a corrupted file.
> The corrupted file has only 1/2 data ... the boundy box is correct,
> but half of its data is set to 0
>
> Please tell me if can i provide any log details,
> or maybe instruction to compile gdal to have verbose log
> .... or gdal commandline to test these particolar case-problem
>
> (other format in r.out.gdal seems to works fine, but i don't tried all)
>
>
> i've on my system (sidux64bit) 2 different gdal.
>
> 1) gdal from the debian gis repository, Version = 1.5.4-3 ;
> 2) gdal-svn, Version = 1.7.0dev, released 2008/11/26)
>
> building from source grass (6.5 svn) :
>
> 1- using --with-gdal=/usr/bin/gdal-config
> 2- using --with-gdal=/usr/local/gdal/bin/gdal-config
>
>
>
> These the procedure i'm following to build gdal and grass :
>
> 1) checkout gdal and grass6.5 from the relaive svn repo.
>
> 2) download ecw lib, gdal-grass plug-in
>
> 3) build ecw
>
> 4) build gdal using :
> ../configure --with-python
>
> 5) add gdal to ld path :
> thouch /etc/ld.so.conf.d/gdal.conf
> echo "/usr/local/gdal/lib" > /etc/ld.so.conf.d/gdal.conf
> ldconfig
>
>
>
> 6) build grass using :
>
> gdal-repo :
>
> ../configure --with-tcltk-includes=/usr/include/tcl8.5/ --with-ffmpeg
> --with-ffmpeg-includes=/usr/include/ffmpeg/ --enable-64bit --with-cxx
> --with-cairo --with-readline --with-sqlite --with-python
> --with-wxwidgets=/usr/bin/wx-config --with-postgres
> --with-postgres-includes=/usr/include/postgresql/ --with-odbc--with-freetype
> --with-freetype-includes=/usr/include/freetype2/ --with-motif
> --with-proj-share=/usr/share/proj/ --enable-largefile
> --with-gdal=/usr/bin/gdal-config
>
> gdal-svn :
>
> ../configure --with-tcltk-includes=/usr/include/tcl8.5/ --with-ffmpeg
> --with-ffmpeg-includes=/usr/include/ffmpeg/ --enable-64bit --with-cxx
> --with-cairo --with-readline --with-sqlite --with-python
> --with-wxwidgets=/usr/bin/wx-config --with-postgres
> --with-postgres-includes=/usr/include/postgresql/ --with-odbc--with-freetype
> --with-freetype-includes=/usr/include/freetype2/ --with-motif
> --with-proj-share=/usr/share/proj/ --enable-largefile
> --with-gdal=/usr/local/gdal/bin/gdal-config
>
> 7) add grass to ld :
> touch /etc/ld.so.conf.d/grass.conf
> echo "/usr/local/grass-6.5.svn/lib" > /etc/ld.so.conf.d/grass.conf
>
>
>
> 8) build gdal-grass using :
> ../configure --with-gdal=/usr/local/gdal/bin/gdal-config
> --with-grass=/usr/local/grass-6.5.svn/
>
>
> 9) compile gdal with grass support :
> cd gdal ; make clean ; make dist clean
> ../configure --with-python --with-grass=/usr/local/grass-6.5.svn/
>
>
>
> Thanks for any help and suggestion
>
>
>
>
>
> Massimo Di Stefano
> massimodisasha@yahoo.it
>
> epifanio on   irc.freenode.net  /join gfoss
>
>
>
>
>
>
>
>
>
>
>
>
>
> Chiacchiera con i tuoi amici in tempo reale!
> http://it.yahoo.com/mail_it/foot/*http://it.messenger.yahoo.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090427/c65cebf9/attachment.html
From gfiske at whrc.org  Mon Apr 27 13:19:39 2009
From: gfiske at whrc.org (Greg Fiske)
Date: Mon Apr 27 13:30:08 2009
Subject: [gdal-dev] gdaltindex and nodata pixels
Message-ID: <008601c9c75c$59b3e410$0d1bac30$@org>

Has anyone modified gdaltindex to return a polygon shapefile indicating only
the data extent for each input image and not the full extent of the image
(i.e. ignore nodata pixels in the surrounding rectangle)?

 

Thanks for any advice,

 

Greg

 

Greg Fiske

Research Associate/GIS Manager

The Woods Hole Research Center

149 Woods Hole Road

Falmouth MA, 02540

508-540-9900x139

gfiske@whrc.org

http://whrc.org

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090427/c75da5fa/attachment.html
From even.rouault at mines-paris.org  Mon Apr 27 14:09:45 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Apr 27 14:09:57 2009
Subject: [gdal-dev] problem with ogr2ogr
In-Reply-To: <605F55D8070C094AA2E2A9CBA2767A3C042CEF3A@EXMB1.eur.rpsgroup.com>
References: <605F55D8070C094AA2E2A9CBA2767A3C042CEF3A@EXMB1.eur.rpsgroup.com>
Message-ID: <200904272009.46751.even.rouault@mines-paris.org>

Yes, this is a "feature" of ogr2ogr. See 
http://trac.osgeo.org/gdal/ticket/2771 which is exactly the same behaviour 
your see.

The solution is to add "-nln out" at the end of your ogr2ogr commandline, as 
the name of your source dataset is "sssi" (because of sshi.shp) and the name 
of your destination layer is "out" (because of out.shp). ogr2ogr cannot find 
a layer in the destination dataset matching "sssi", then it tries to create a 
new layer called "sssi", but as "out.shp" already exists and is not a 
directory, it doesn't work... Logical, isn't it ?

Even

Le Monday 27 April 2009 17:36:51 Matthew Snape, vous avez ?crit?:
> Dear List,
>
>
>
> I am attempting to use ogr2ogr to append a shapefile to another
> shapefile.  However, when the -update parameter is included the
> incorrect source filename appears to be used.
>
>
>
> ogr2ogr -append  -update -select meta_type,meta_id,meta_name
> "C:/downloadworking/out.shp" "SSSI/sssi.shp"
>
>
>
> ERROR 1: Failed to create file .shp file.
>
> ERROR 4: Failed to open Shapefile `C:/downloadworking/out.shp\sssi.shp'.
>
>
>
> ERROR 1: Terminating translation prematurely after failed translation of
> layer sssi (use -skipfailures to skip errors)
>
>
>
> I am using latest FW Tools on XP.
>
>
>
> Any ideas?
>
>
>
> Thanks.
>
>
> This e-mail message and any attached file is the property of the sender and
> is sent in confidence to the addressee only. The contents are not to be
> disclosed to anyone other than the addressee. Unauthorised recipients are
> requested to preserve this confidentiality and to advise the sender
> immediately of any error in transmission. If you experience difficulty with
> opening any attachments to this message, or with sending a reply by email,
> please telephone on + 44-(0)1235 438151 or fax on + 44-(0)1235 438188. Any
> advice contained in this e-mail or any accompanying file attached hereto is
> for information purposes only. RPS do not take any responsibility for
> differences between the original and the transmission copy or any
> amendments made thereafter. If the addressee requires RPS to be responsible
> for the contents of this e-mail, RPS will be pleased to issue a signed hard
> copy of the document upon request.
> RPS Planning and Development Limited, company number: 02947164 (England).
> Registered office: Centurion Court, 85 Milton Park Abingdon Oxfordshire
> OX14 4RY. RPS Group Plc web link: <http://www.rpsgroup.com>


From david.muse at firstworks.com  Mon Apr 27 14:31:09 2009
From: david.muse at firstworks.com (David Muse)
Date: Mon Apr 27 14:45:52 2009
Subject: [gdal-dev] bad coordinates after transformation
Message-ID: <1240857069.7386.8.camel@localhost.localdomain>

Hello all,

I wrote some code that reads data from a shapefile, converts it to WGS84
and puts it in a database.  It works fine with some shapefiles, but with
others the lat/lon that I get are really big numbers, like 500000 or
more.

It's possible that there's a bug in my code, but is there a utility that
comes with gdal that I could aim at the shapefile to see if it comes up
with a different result?

Maybe there's something odd with the .prj files too.

I get good results with this .prj file:

PROJCS["NAD_1927_StatePlane_Georgia_West_FIPS_1002",
	GEOGCS["GCS_North_American_1927",
		DATUM["D_North_American_1927",
			SPHEROID["Clarke_1866",6378206.4,294.9786982]
		],
		PRIMEM["Greenwich",0.0],
		UNIT["Degree",0.0174532925199433]
	],
	PROJECTION["Transverse_Mercator"],
	PARAMETER["False_Easting",500000.0],
	PARAMETER["False_Northing",0.0],
	PARAMETER["Central_Meridian",-84.16666666666667],
	PARAMETER["Scale_Factor",0.9999],
	PARAMETER["Latitude_Of_Origin",30.0],
	UNIT["Foot_US",0.3048006096012192]
]

But with this one I get the odd coordinates:

PROJCS["NAD_1983_UTM_Zone_16N",
	GEOGCS["GCS_North_American_1983",
		DATUM["D_North_American_1983",
			SPHEROID["GRS_1980",6378137.0,298.257222101]
		],
		PRIMEM["Greenwich",0.0],
		UNIT["Degree",0.0174532925199433]
	],
	PROJECTION["Transverse_Mercator"],
	PARAMETER["False_Easting",500000.0],
	PARAMETER["False_Northing",0.0],
	PARAMETER["Central_Meridian",-87.0],
	PARAMETER["Scale_Factor",0.9996],
	PARAMETER["Latitude_Of_Origin",0.0],
	UNIT["Meter",1.0]
]

Any ideas?

Thanks in advance,

David Muse
david.muse@firstworks.com


__________________________________________________
D O T E A S Y - "Join the web hosting revolution!"
             http://www.doteasy.com
From randre at gmail.com  Mon Apr 27 18:09:41 2009
From: randre at gmail.com (=?ISO-8859-1?Q?Roger_Andr=E9?=)
Date: Mon Apr 27 18:09:44 2009
Subject: [gdal-dev] Help with first GDAL program
In-Reply-To: <c9d9cad70904262325l2d8726a9y1b29e3ad9642447b@mail.gmail.com>
References: <c9d9cad70904262325l2d8726a9y1b29e3ad9642447b@mail.gmail.com>
Message-ID: <9c2015090904271509l51817f64w3618b4d387c9b110@mail.gmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: get_raster_info.py
Type: text/x-python
Size: 637 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090427/6eff823c/get_raster_info-0001.py
From leith at leithalweapon.geek.nz  Mon Apr 27 18:15:08 2009
From: leith at leithalweapon.geek.nz (Leith Bade)
Date: Mon Apr 27 18:15:24 2009
Subject: [gdal-dev] Help with first GDAL program
In-Reply-To: <9c2015090904271509l51817f64w3618b4d387c9b110@mail.gmail.com>
References: <c9d9cad70904262325l2d8726a9y1b29e3ad9642447b@mail.gmail.com> 
	<9c2015090904271509l51817f64w3618b4d387c9b110@mail.gmail.com>
Message-ID: <c9d9cad70904271515q4fc93c65l3f7bb0d172ac7702@mail.gmail.com>

Thanks for that.

Thanks,
Leith Bade
leith@leithalweapon.geek.nz



2009/4/28 Roger Andr? <randre@gmail.com>

> Hi Leith,
>
> This should help get you started.
>
> Roger
> --
>
>   On Sun, Apr 26, 2009 at 11:25 PM, Leith Bade <
> leith@leithalweapon.geek.nz> wrote:
>
>>  Hi,
>>
>> I am new to GDAL and would like some guidance on a simple task that I am
>> writing a Python script for.
>>
>> Given a set of GeoTIFFs I would like to find the max/min lat/long extent
>> of the set.
>>
>> This will be for calculating pixel dimensions of a theoretical
>> gdal_merge.py type output, but for tiling into Google Earth.
>>
>> Thanks,
>> Leith Bade
>> leith@leithalweapon.geek.nz
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090428/0118e6d4/attachment.html
From isajmeri at rediffmail.com  Tue Apr 28 00:57:30 2009
From: isajmeri at rediffmail.com (Ajmeri Iqbal)
Date: Tue Apr 28 01:05:12 2009
Subject: [gdal-dev] Help required for building GDAL 1.6.0 with Xerces 3.0.1
	support on Windows XP SP2
Message-ID: <20090428045730.59003.qmail@f4mail-235-246.rediffmail.com>

Dear All,I am&nbsp;trying&nbsp;to build GDAL 1.6.0 with Xerces 3.0.1 support on windows XP with SP2 using MinGW5.1.4 and MSYS1.0.I&nbsp;have&nbsp;sucessfully built&nbsp;Xerces 3.0.1&nbsp;and installed in /usr/local. However&nbsp;when&nbsp;I try to build gdal 1.6 with the ./configure &nbsp;--with-xerces=yes flag the Xerces support is not enabled in GDAL. The output indicates that the configure script was able to find the include files for xerces but fails to find the libraries.&nbsp;you can look at some part of &nbsp;my build output .::checking for MySQL... nochecking for Ingres... nochecking for Xerces C++ Parser headers in /usr/local/include and /usr/local/include/xercesc... foundchecking for Xerces C++ Parser libraries... not foundchecking for Xerces C++ Parser... nochecking for Expat XML Parser... nochecking for SQLConnect in -lodbc... no::I am obviously missing out something but I am not able to figure out what is it.I would appreciate if any one can point out how to enable the xerces support in&nbsp;gdal 1.6.With regardsIqbal
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090428/cde13bf9/attachment.html
From neteler at osgeo.org  Tue Apr 28 07:00:14 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Tue Apr 28 07:00:17 2009
Subject: [gdal-dev] GDAL, osgEarth and GDAL-GRASS plugin
Message-ID: <86782b610904280400v6690837ew28cba96466c4e377@mail.gmail.com>

Hi,

I am trying to feed osgEarth (OpenSceneGraph plugin [1]) directly with GRASS
data using the GDAL-GRASS plugin [2]. While the GRASS maps are
recognized (e.g., the osgdem tool [3] converts GRASS data without problems)
the following GDAL problem appears with osgearth:

osgviewer gdal_multiple_files_GRASS.earth
[osgEarth::GDAL] GDAL Driver found 1 files
  /home/neteler/software/osgearth/data/world.tif
[osgEarth::GDAL] GDAL Driver found 2 files
  /home/neteler/grassdata/latlong_wgs84/PERMANENT/cellhd/srtm2_north_italy.shade
  /home/neteler/grassdata/latlong_wgs84/PERMANENT/cellhd/srtm2_north_italy
0...10...20...30...40...50Warning 1: GRASS warning: GISBASE enviroment
variable was not set, using:
/home/neteler/grass64/dist.x86_64-unknown-linux-gnu
...60...70...80...90...100 - done.
gdalbuildvrt does not support heterogenous band characteristics.
Skipping /home/neteler/grassdata/latlong_wgs84/PERMANENT/cellhd/srtm2_north_italy
gdalbuildvrt does not support heterogenous band characteristics.
Skipping /home/neteler/grassdata/latlong_wgs84/PERMANENT/cellhd/srtm2_north_italy
Segmentation fault

Not sure what the error means... since "osgdem" is able to convert from the
GRASS format, why should "osgearth" fail? Apparently they use a
different mechanism
to  open GDAL maps? I am using OpenSceneGraph 2.8.

Thanks for any advice,
Markus

[1] http://wush.net/trac/osgearth
[2] http://grass.osgeo.org/wiki/Compile_and_install_GDAL-GRASS_plugin
[3] http://www.openscenegraph.org/projects/osg/wiki/Support/UserGuides/osgdem
From russell at flora.ca  Wed Apr 29 08:42:11 2009
From: russell at flora.ca (Russell McOrmond)
Date: Wed Apr 29 08:52:53 2009
Subject: [gdal-dev] converting WideString to String in ogr2ogr
Message-ID: <alpine.LFD.2.00.0904290823530.30297@calcutta.flora.ca>


   I'm trying to convert some data in ArcSDE that has WideStrings to an 
ESRI Shapefile.  The Data set has English and French text strings which 
are Unicode (WideString) encoded.   When I tried to convert:

ogr2ogr -f "ESRI Shapefile" SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2.shp 
"SDE:database,port:1234,sde,username,password,SOIL_XDATA.PED_CA_SLC_SOIL_ORDER_15M_R2"
ERROR 6: Can't create fields of type WideString on shapefile layers.

ERROR 6: Can't create fields of type WideString on shapefile layers.

ERROR 6: Can't create fields of type WideString on shapefile layers.


   The string fields are simply not created in the ESRI shapefile.  Is 
there a way to tell ogr2ogr to transcode these wide strings to whatever 
character encoding ESRI Shapefiles use for strings?


Note: I tried to do an export using ArcCatalog and ended up with a 
shapefile that when rendered as an image looks visually different.  I was 
told that ogr2ogr would give me a more accurate translation.  I note there 
is additional information such as SHAPE_AREA and SHAPE_LEN which the 
ArcCatalog export gave but ogr2ogr didn't.  Here is the ogrinfo first for 
the export and then the ogr2ogr:


$ ogrinfo -al -so soil_xapp/SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2.shp
INFO: Open of `soil_xapp/SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2.shp'
       using driver `ESRI Shapefile' successful.

Layer name: SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2
Geometry: Polygon
Feature Count: 13583
Extent: (-2341022.416100, -719755.272200) - (3009725.435700, 
3833267.122200)
Layer SRS WKT:
PROJCS["EPSG_42304_LCC",
     GEOGCS["GCS_North_American_1983",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS_1980",6378137.0,298.257222101]],
         PRIMEM["Greenwich",0.0],
         UNIT["Degree",0.0174532925199433]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["False_Easting",0.0],
     PARAMETER["False_Northing",0.0],
     PARAMETER["Central_Meridian",-95.0],
     PARAMETER["Standard_Parallel_1",49.0],
     PARAMETER["Standard_Parallel_2",77.0],
     PARAMETER["Latitude_Of_Origin",49.0],
     UNIT["Meter",1.0]]
SLC_SOIL_O: String (10.0)
SOIL_ORDER: String (30.0)
SOIL_ORD_1: String (30.0)
SOIL_ORD_2: Integer (5.0)
SHAPE_AREA: Real (19.11)
SHAPE_LEN: Real (19.11)


$ ogrinfo -al -so 
soil_xapp_ogr/SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2.shp
INFO: Open of `soil_xapp_ogr/SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2.shp'
       using driver `ESRI Shapefile' successful.

Layer name: SOIL_XDATA_PED_CA_SLC_SOIL_ORDER_15M_R2
Geometry: Polygon
Feature Count: 13583
Extent: (-2341022.416100, -719755.272200) - (3009725.435700, 
3833267.122200)
Layer SRS WKT:
PROJCS["EPSG_42304_LCC",
     GEOGCS["GCS_North_American_1983",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS_1980",6378137.0,298.257222101]],
         PRIMEM["Greenwich",0.0],
         UNIT["Degree",0.017453292519943295]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["False_Easting",0.0],
     PARAMETER["False_Northing",0.0],
     PARAMETER["Central_Meridian",-95.0],
     PARAMETER["Standard_Parallel_1",49.0],
     PARAMETER["Standard_Parallel_2",77.0],
     PARAMETER["Latitude_Of_Origin",49.0],
     UNIT["Meter",1.0]]
OBJECTID: Integer (10.0)
SOIL_ORDER: Integer (5.0)


-- 
  Russell McOrmond, Internet Consultant: <http://www.flora.ca/>
  Please help us tell the Canadian Parliament to protect our property
  rights as owners of Information Technology. Sign the petition!
  http://digital-copyright.ca/petition/ict/     http://KillBillC61.ca

  "The government, lobbied by legacy copyright holders and hardware
   manufacturers, can pry control over my camcorder, computer,
   home theatre, or portable media player from my cold dead hands!"
From Shawn.Gong at drdc-rddc.gc.ca  Wed Apr 29 10:31:09 2009
From: Shawn.Gong at drdc-rddc.gc.ca (Gong, Shawn (Contractor))
Date: Wed Apr 29 10:31:14 2009
Subject: [gdal-dev] gdal-1.6.0 Python binding on Windows
Message-ID: <DF1471B5C308B346BF5A2AEA00C5615E26E8B7@ottawaex02.Ottawa.drdc-rddc.gc.ca>

hi list,

I had asked how to build new-generation Python binding on Windows for
gdal, but got no answer.
(I know that on Linux, "configure --with-python" does it.  Couldn't find
similar thing on nmake.opt)

I did "nmake /f makefile.vc" and "nmake /f makefile.vc install"
It created gdal16.dll in \local_install\bin and _gdal.dll in
\local_install\pymod.
gdal.py (dated 2005-08-04) is copied in \local_install\pymod.

I downloaded the GDAL Python Bindings executable installer for Python
2.4 from http://pypi.python.org/pypi/GDAL/  (but I cannot use GDAL
Windows Binaries, I need to build customized drivers)
After installation, it created C:\Python24\Lib\site-packages\osgeo\ that
contains: _gdal.pyd, _gdal_array.pyd, _gdalconst.pyd, gdal.py

Its gdal.py is different than that in \local_install\pymod\ My question
is: is there a conflict on two versions of gdal.py and _gdal.dll vs
_gdal.pyd? 

When I call gdal.SerializeXMLTree() or gdal.Open(), python.exe crashes.
It can be tracked to gdal16.dll, which probably attributes to the above.

Appreciate help on how to build GDAL Python binding on Windows.

thanks,
Shawn


From Peter.Rushforth at NRCan-RNCan.gc.ca  Wed Apr 29 11:16:11 2009
From: Peter.Rushforth at NRCan-RNCan.gc.ca (Rushforth, Peter)
Date: Wed Apr 29 11:16:14 2009
Subject: [gdal-dev] ogr2ogr in fwtools 2.3 on windows gml to shp issue
Message-ID: <E3942D3EB127854BBBC18511759DD003017C7F66@S0-OTT-X2.nrn.nrcan.gc.ca>

Hi,

Using fwtools 2.3 on windows, I run the ogr2ogr command on a gml file to 
create a shp file.  

I get the following error message:

C:\Program Files\FWTools2.3.0\>ogr2ogr -f "ESRI Shapefile" peter.shp test.gml
ERROR 1: Too much data inside one element. File probably corrupted

When I cut down the number of coordinates in the gml:Polygon (to an extreme minimum),
the shp file is created.  But I can't do that in real life.

Also, I want to supply a gfs file to control attribute name mapping.  But it seems
to be ignored.

Thanks

Peter Rushforth
Technology Advisor / Conseiller technique
GeoConnections / G?oConnexions
650-615 Booth St. / rue Booth
Ottawa ON K1A 0E9
E-mail / Courriel: Peter.Rushforth@NRCan-RNCan.gc.ca 
Phone / T?lephone: (613) 943-0784 
Fax / telecopier:  (613) 947-2410
From even.rouault at mines-paris.org  Wed Apr 29 13:48:52 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr 29 13:49:05 2009
Subject: [gdal-dev] ogr2ogr in fwtools 2.3 on windows gml to shp issue
In-Reply-To: <E3942D3EB127854BBBC18511759DD003017C7F66@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <E3942D3EB127854BBBC18511759DD003017C7F66@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <200904291948.53879.even.rouault@mines-paris.org>

Hi,

As far as the message "ERROR 1: Too much data inside one element. File 
probably corrupted" is concerned, I think that FWTools-2.3.0 showed a 
temporary regression where the maximum size for a geometry was limited to 
100,000 bytes to avoid reading corrupted/hostile files. This limit was proved 
to be too low and raised to 10,000,000 bytes a bit later (see 
http://trac.osgeo.org/gdal/ticket/2818) and I believe that this fix went into 
FWTools-2.3.1. Unfortunately the FWTools home page isn't well updated and it 
only shows 2.3.0 as the latest version. But you can find here FWTools 2.3.1 : 
http://home.gdal.org/fwtools/FWTools231.exe

I was able to rename an attribute in a generated .gfs file and ogrinfo 
successfully returned the modified attribute name. So you'll have to provide 
more details, ideally a small GML file and the modified .gfs demonstrating a 
problem.

Best regards,
Even

Le Wednesday 29 April 2009 17:16:11, vous avez ?crit?:
> Hi,
>
> Using fwtools 2.3 on windows, I run the ogr2ogr command on a gml file to
> create a shp file.
>
> I get the following error message:
>
> C:\Program Files\FWTools2.3.0\>ogr2ogr -f "ESRI Shapefile" peter.shp
> test.gml ERROR 1: Too much data inside one element. File probably corrupted
>
> When I cut down the number of coordinates in the gml:Polygon (to an extreme
> minimum), the shp file is created.  But I can't do that in real life.
>
> Also, I want to supply a gfs file to control attribute name mapping.  But
> it seems to be ignored.
>
> Thanks
>
> Peter Rushforth
> Technology Advisor / Conseiller technique
> GeoConnections / G?oConnexions
> 650-615 Booth St. / rue Booth
> Ottawa ON K1A 0E9
> E-mail / Courriel: Peter.Rushforth@NRCan-RNCan.gc.ca
> Phone / T?lephone: (613) 943-0784
> Fax / telecopier:  (613) 947-2410
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From Doug_Newcomb at fws.gov  Wed Apr 29 14:18:09 2009
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Wed Apr 29 14:18:26 2009
Subject: [gdal-dev] ogr2ogr in fwtools 2.3 on windows gml to shp issue
In-Reply-To: <200904291948.53879.even.rouault@mines-paris.org>
Message-ID: <OFA776BBE9.40110EC2-ON852575A7.0063A298-852575A7.00648A30@fws.gov>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: graycol.gif
Type: image/gif
Size: 105 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090429/7d41af49/graycol.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pic04596.gif
Type: image/gif
Size: 1255 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090429/7d41af49/pic04596.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ecblank.gif
Type: image/gif
Size: 45 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090429/7d41af49/ecblank.gif
From even.rouault at mines-paris.org  Wed Apr 29 14:23:26 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr 29 14:23:36 2009
Subject: [gdal-dev] gdal-1.6.0 Python binding on Windows
In-Reply-To: <DF1471B5C308B346BF5A2AEA00C5615E26E8B7@ottawaex02.Ottawa.drdc-rddc.gc.ca>
References: <DF1471B5C308B346BF5A2AEA00C5615E26E8B7@ottawaex02.Ottawa.drdc-rddc.gc.ca>
Message-ID: <200904292023.26962.even.rouault@mines-paris.org>

I don't use Windows myself, but Tamas Szekeres provides a 
ready-to-use-and-compile SDK with multiple GDAL and MapServer versions and 
MSVC versions. And it has support for Python bindings.

See http://vbkto.dyndns.org:1280/sdk/Default.aspx

Le Wednesday 29 April 2009 16:31:09 Gong, Shawn (Contractor), vous avez 
?crit?:
> hi list,
>
> I had asked how to build new-generation Python binding on Windows for
> gdal, but got no answer.
> (I know that on Linux, "configure --with-python" does it.  Couldn't find
> similar thing on nmake.opt)
>
> I did "nmake /f makefile.vc" and "nmake /f makefile.vc install"
> It created gdal16.dll in \local_install\bin and _gdal.dll in
> \local_install\pymod.
> gdal.py (dated 2005-08-04) is copied in \local_install\pymod.
>
> I downloaded the GDAL Python Bindings executable installer for Python
> 2.4 from http://pypi.python.org/pypi/GDAL/  (but I cannot use GDAL
> Windows Binaries, I need to build customized drivers)
> After installation, it created C:\Python24\Lib\site-packages\osgeo\ that
> contains: _gdal.pyd, _gdal_array.pyd, _gdalconst.pyd, gdal.py
>
> Its gdal.py is different than that in \local_install\pymod\ My question
> is: is there a conflict on two versions of gdal.py and _gdal.dll vs
> _gdal.pyd?
>
> When I call gdal.SerializeXMLTree() or gdal.Open(), python.exe crashes.
> It can be tracked to gdal16.dll, which probably attributes to the above.
>
> Appreciate help on how to build GDAL Python binding on Windows.
>
> thanks,
> Shawn
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at mines-paris.org  Wed Apr 29 14:53:35 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr 29 14:53:52 2009
Subject: [gdal-dev] ogr2ogr in fwtools 2.3 on windows gml to shp issue
In-Reply-To: <OFA776BBE9.40110EC2-ON852575A7.0063A298-852575A7.00648A30@fws.gov>
References: <OFA776BBE9.40110EC2-ON852575A7.0063A298-852575A7.00648A30@fws.gov>
Message-ID: <200904292053.35862.even.rouault@mines-paris.org>

What is the relationship with the original topic of this thread ?

I'm not sure how you could run "gdal_polygonize" as such as there's no 
gdal_polygonize.bat provided by default, so I imagine you created your own.

Did you remember of running "setfw.bat" before to set up appropriate 
environment variables ? When doing that, I'm able to do "python 
bin\gdal_polygonize.py"

But anyway, this is of no use, since gdal_polygonize.py will require the new 
generation GDAL python bindings, but (for historical reasons) FWTools comes 
with old-generation GDAL python bindings that do not have the newer mappings, 
like the one needed for gdal_polygonize.py

Perhaps you should try osgeo4w.

Le Wednesday 29 April 2009 20:18:09 Doug_Newcomb@fws.gov, vous avez ?crit?:
> There seems to be an issue with the python scripts in fwtools 2.3.0 and
> 2.3.1
>
> Example:
>
>
> C:\Program Files\FWTools2.3.1>gdal_polygonize
> Traceback (most recent call last):
>   File "C:\PROGRA~1\FWTOOL~1.1\bin\gdal_polygonize.py", line 34, in
> <module>
>     import gdal, ogr, osr
>   File "C:\PROGRA~1\FWTOOL~1.1\pymod\gdal.py", line 191, in <module>
>     import _gdal
> ImportError: No module named _gdal
>
> C:\Program Files\FWTools2.3.1>
>
>
> Not complaining, just grateful the toolset is there for Windows.
>
> Doug
>
>
> Doug Newcomb
> USFWS
> Raleigh, NC
> 919-856-4520 ext. 14 doug_newcomb@fws.gov
> ---------------------------------------------------------------------------
>------------------------------
>
> The opinions I express are my own and are not representative of the
> official policy of the U.S.Fish and Wildlife Service or Dept. of Interior.
> Life is too short for undocumented, proprietary data formats.
>
>
>
>              Even Rouault
>              <even.rouault@min
>              es-paris.org>                                              To
>              Sent by:                  "Rushforth, Peter"
>              gdal-dev-bounces@         <Peter.Rushforth@nrcan-rncan.gc.ca>
>              lists.osgeo.org                                            cc
>                                        gdal-dev@lists.osgeo.org
>                                                                    Subject
>              04/29/2009 01:48          Re: [gdal-dev] ogr2ogr in fwtools
>              PM                        2.3 on windows gml to shp issue
>
>
>
>
>
>
>
>
>
>
> Hi,
>
> As far as the message "ERROR 1: Too much data inside one element. File
> probably corrupted" is concerned, I think that FWTools-2.3.0 showed a
> temporary regression where the maximum size for a geometry was limited to
> 100,000 bytes to avoid reading corrupted/hostile files. This limit was
> proved
> to be too low and raised to 10,000,000 bytes a bit later (see
> http://trac.osgeo.org/gdal/ticket/2818) and I believe that this fix went
> into
> FWTools-2.3.1. Unfortunately the FWTools home page isn't well updated and
> it
> only shows 2.3.0 as the latest version. But you can find here FWTools 2.3.1
>
> http://home.gdal.org/fwtools/FWTools231.exe
>
> I was able to rename an attribute in a generated .gfs file and ogrinfo
> successfully returned the modified attribute name. So you'll have to
> provide
> more details, ideally a small GML file and the modified .gfs demonstrating
> a
> problem.
>
> Best regards,
> Even
>
> Le Wednesday 29 April 2009 17:16:11, vous avez ?crit?:
> > Hi,
> >
> > Using fwtools 2.3 on windows, I run the ogr2ogr command on a gml file to
> > create a shp file.
> >
> > I get the following error message:
> >
> > C:\Program Files\FWTools2.3.0\>ogr2ogr -f "ESRI Shapefile" peter.shp
> > test.gml ERROR 1: Too much data inside one element. File probably
>
> corrupted
>
> > When I cut down the number of coordinates in the gml:Polygon (to an
>
> extreme
>
> > minimum), the shp file is created.  But I can't do that in real life.
> >
> > Also, I want to supply a gfs file to control attribute name mapping.  But
> > it seems to be ignored.
> >
> > Thanks
> >
> > Peter Rushforth
> > Technology Advisor / Conseiller technique
> > GeoConnections / G?oConnexions
> > 650-615 Booth St. / rue Booth
> > Ottawa ON K1A 0E9
> > E-mail / Courriel: Peter.Rushforth@NRCan-RNCan.gc.ca
> > Phone / T?lephone: (613) 943-0784
> > Fax / telecopier:  (613) 947-2410
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From ivan.lucena at pmldnet.com  Wed Apr 29 15:16:05 2009
From: ivan.lucena at pmldnet.com (=?utf-8?Q?Lucena,=20Ivan?=)
Date: Wed Apr 29 15:16:07 2009
Subject: [gdal-dev] Binder installer in GDAL trunk has the wrong version
Message-ID: <20090429191605.5258.qmail@s466.sureserver.com>

That is what I did:

C:\Dev\gdal\swig\python> python setup.py bdist_wininst

And that generates :

C:\Dev\gdal\swig\python\dist\GDAL-1.6.0.win32-py2.5.exe

It should be 1.7.0 

C:\Dev\gdal\swig\python>more ..\..\VERSION
1.7.0

The error seams to be at setup.py line 136:

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/setup.py#L136

Should I go ahead add a ticket and change it myself? 

Wouldn't be better to read from "..\..\VERSION" instead of hard code it?

Regards,

Ivan
From even.rouault at mines-paris.org  Wed Apr 29 15:24:21 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr 29 15:24:34 2009
Subject: [gdal-dev] ogr2ogr in fwtools 2.3 on windows gml to shp issue
In-Reply-To: <E3942D3EB127854BBBC18511759DD003017C7FD3@S0-OTT-X2.nrn.nrcan.gc.ca>
References: <E3942D3EB127854BBBC18511759DD003017C7F66@S0-OTT-X2.nrn.nrcan.gc.ca>
	<200904291948.53879.even.rouault@mines-paris.org>
	<E3942D3EB127854BBBC18511759DD003017C7FD3@S0-OTT-X2.nrn.nrcan.gc.ca>
Message-ID: <200904292124.22910.even.rouault@mines-paris.org>

Peter,

I've just finally completely removed that test on the maximum number of bytes 
inside a geometry tag. I've found a shapefile that translated to GML produces 
a single geometry element a bit more than 100 MB... and ogr can parse it 
succesfully. There was indeed a test on the number of entities that alone is 
enough to avoid the billion laugh attack.

Le Wednesday 29 April 2009 20:37:09 Rushforth, Peter, vous avez ?crit?:
> Hi Even,
>
> The billion laughs attack targets entity expansion, which I would
> have thought could be controlled by a parser feature instead of
> hard-coding a limit on the number of vertices in a polygon.
>
> 10,000,000 bytes would translate to about 270K vertices in my files,
> which I hope will be enough - I have doubts for northern islands though.
>
> Regarding the apparent non-reading of the gfs file by ogr2ogr, perhaps
> I was mislead by arcmap caching the schema, or at any rate I was unable
> to reproduce the problem with fwtools 2.3.1.
>
> Thanks for your help.
>
> Peter
>
> > -----Original Message-----
> > From: Even Rouault [mailto:even.rouault@mines-paris.org]
> > Sent: April 29, 2009 1:49 PM
> > To: Rushforth, Peter
> > Cc: gdal-dev@lists.osgeo.org
> > Subject: Re: [gdal-dev] ogr2ogr in fwtools 2.3 on windows gml
> > to shp issue
> >
> > Hi,
> >
> > As far as the message "ERROR 1: Too much data inside one
> > element. File probably corrupted" is concerned, I think that
> > FWTools-2.3.0 showed a temporary regression where the maximum
> > size for a geometry was limited to 100,000 bytes to avoid
> > reading corrupted/hostile files. This limit was proved to be
> > too low and raised to 10,000,000 bytes a bit later (see
> > http://trac.osgeo.org/gdal/ticket/2818) and I believe that
> > this fix went into FWTools-2.3.1. Unfortunately the FWTools
> > home page isn't well updated and it only shows 2.3.0 as the
> > latest version. But you can find here FWTools 2.3.1 :
> > http://home.gdal.org/fwtools/FWTools231.exe
> >
> > I was able to rename an attribute in a generated .gfs file
> > and ogrinfo successfully returned the modified attribute
> > name. So you'll have to provide more details, ideally a small
> > GML file and the modified .gfs demonstrating a problem.
> >
> > Best regards,
> > Even
> >
> > Le Wednesday 29 April 2009 17:16:11, vous avez ?crit?:
> > > Hi,
> > >
> > > Using fwtools 2.3 on windows, I run the ogr2ogr command on
> >
> > a gml file
> >
> > > to create a shp file.
> > >
> > > I get the following error message:
> > >
> > > C:\Program Files\FWTools2.3.0\>ogr2ogr -f "ESRI Shapefile"
> >
> > peter.shp
> >
> > > test.gml ERROR 1: Too much data inside one element. File probably
> > > corrupted
> > >
> > > When I cut down the number of coordinates in the gml:Polygon (to an
> > > extreme minimum), the shp file is created.  But I can't do
> >
> > that in real life.
> >
> > > Also, I want to supply a gfs file to control attribute name
> >
> > mapping.
> >
> > > But it seems to be ignored.
> > >
> > > Thanks
> > >
> > > Peter Rushforth
> > > Technology Advisor / Conseiller technique GeoConnections /
> > > G?oConnexions
> > > 650-615 Booth St. / rue Booth
> > > Ottawa ON K1A 0E9
> > > E-mail / Courriel: Peter.Rushforth@NRCan-RNCan.gc.ca Phone /
> > > T?lephone: (613) 943-0784 Fax / telecopier:  (613) 947-2410
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at mines-paris.org  Wed Apr 29 15:31:34 2009
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Apr 29 15:31:44 2009
Subject: [gdal-dev] Binder installer in GDAL trunk has the wrong version
In-Reply-To: <20090429191605.5258.qmail@s466.sureserver.com>
References: <20090429191605.5258.qmail@s466.sureserver.com>
Message-ID: <200904292131.35173.even.rouault@mines-paris.org>

In fact, updating the swig/python/setup.py is documented in point 3) of the 
HOWTO-RELEASE procedure. The question is : should be it updated now, during 
the development process, or just before producing the first beta/RC.

Le Wednesday 29 April 2009 21:16:05 Lucena, Ivan, vous avez ?crit?:
> That is what I did:
>
> C:\Dev\gdal\swig\python> python setup.py bdist_wininst
>
> And that generates :
>
> C:\Dev\gdal\swig\python\dist\GDAL-1.6.0.win32-py2.5.exe
>
> It should be 1.7.0
>
> C:\Dev\gdal\swig\python>more ..\..\VERSION
> 1.7.0
>
> The error seams to be at setup.py line 136:
>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/python/setup.py#L136
>
> Should I go ahead add a ticket and change it myself?
>
> Wouldn't be better to read from "..\..\VERSION" instead of hard code it?
>
> Regards,
>
> Ivan
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From yassefa at dmsolutions.ca  Wed Apr 29 16:50:07 2009
From: yassefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Wed Apr 29 16:50:25 2009
Subject: [gdal-dev] Re: Joining a shape file with a DBF file with ogr2ogr
In-Reply-To: <49F8B826.5080701@dmsolutions.ca>
References: <49F8B826.5080701@dmsolutions.ca>
Message-ID: <49F8BD7F.7010505@dmsolutions.ca>

Hi,

  I have a fairly large shape file (shp, shx, dbf) and a fairly small 
DBF file.  I would like to do a join on a specific field, with the 
expected result being a small shape file (same number of records as my 
small dbf file).  There are a couple of ways from what I can see that I 
could achieve this. one would be:
    - do a LEFT JOIN with the small dbf. This would result in creating a 
big shape file (+ attributes from the small dbf). I could then do 
another ogr2ogr and trim the data based on empty records.
  Although this works well, It is a bit slow for my needs (even if both 
DBFs are indexed).

   Could some one suggest a better way of achieving this?

Thanks

-- 
----------------------------------------------------------------
Assefa Yewondwossen
Software Analyst

Email: assefa@dmsolutions.ca
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------

From mitchelljj98 at gmail.com  Wed Apr 29 19:56:07 2009
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Wed Apr 29 19:56:09 2009
Subject: [gdal-dev] converting a multi-thousand polygon shapefile into a
	shapefile that just contains the exterior vertices
Message-ID: <fa2ac0580904291656u1dbc0989qe5e6e410441d6c05@mail.gmail.com>

Hi,

I have created a shape file via gdaltindex based a few thousand geotiff's.

I don't need all of the interior grids within this shape file just the
exterior vertices's.

How can I convert this shape file so that it does not have the interior grid
and just the exterior vertices's.

I am displaying this shape file within UMN MapServer and I want to increase
the performance by eliminating the drawing of the interior grids.

Thanks,

John Mitchell

-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20090429/1e07a71d/attachment.html
From woodbri at swoodbridge.com  Wed Apr 29 23:23:16 2009
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Wed Apr 29 23:23:53 2009
Subject: [gdal-dev] Re: Joining a shape file with a DBF file with ogr2ogr
In-Reply-To: <49F8BD7F.7010505@dmsolutions.ca>
References: <49F8B826.5080701@dmsolutions.ca> <49F8BD7F.7010505@dmsolutions.ca>
Message-ID: <49F919A4.6060905@swoodbridge.com>

Yewondwossen Assefa wrote:
> Hi,
> 
>  I have a fairly large shape file (shp, shx, dbf) and a fairly small DBF 
> file.  I would like to do a join on a specific field, with the expected 
> result being a small shape file (same number of records as my small dbf 
> file).  There are a couple of ways from what I can see that I could 
> achieve this. one would be:
>    - do a LEFT JOIN with the small dbf. This would result in creating a 
> big shape file (+ attributes from the small dbf). I could then do 
> another ogr2ogr and trim the data based on empty records.
>  Although this works well, It is a bit slow for my needs (even if both 
> DBFs are indexed).
> 
>   Could some one suggest a better way of achieving this?
> 
> Thanks
> 

How about using postGIS?
Yeah, I know this is the gdal list, but hey ... I'm just saying!

-Steve
From Jukka.Rahkonen at mmmtike.fi  Thu Apr 30 00:27:57 2009
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu Apr 30 00:28:02 2009
Subject: [gdal-dev] Re: [mapserver-users] converting a multi-thousand
	polygon shapefileinto a shapefile that just contains the
	exterior vertices
References: <fa2ac0580904291656u1dbc0989qe5e6e410441d6c05@mail.gmail.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E34299@tikka.haapa.mmm.fi>

Hi,

What you want is the union of all the individual image polygons.  At least it can be made with GIS applications like QGis or OpenJUMP. I don't know of any tool that could do it directly from command line but such can exist, though.

-Jukka Rahkonen-

John Mitchell wrote:
 
Hi,

I have created a shape file via gdaltindex based a few thousand geotiff's.

I don't need all of the interior grids within this shape file just the
exterior vertices's.

How can I convert this shape file so that it does not have the interior grid
and just the exterior vertices's.

I am displaying this shape file within UMN MapServer and I want to increase
the performance by eliminating the drawing of the interior grids.

Thanks,

John Mitchell

-- 
John J. Mitchell

From neteler at osgeo.org  Thu Apr 30 04:09:38 2009
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Apr 30 04:09:42 2009
Subject: [gdal-dev] Re: [mapserver-users] converting a multi-thousand 
	polygon shapefileinto a shapefile that just contains the exterior
	vertices
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86E34299@tikka.haapa.mmm.fi>
References: <fa2ac0580904291656u1dbc0989qe5e6e410441d6c05@mail.gmail.com>
	<CC197224AC75CE4DB23F739B16891B86E34299@tikka.haapa.mmm.fi>
Message-ID: <86782b610904300109u7bac7236k486582af5a7eb685@mail.gmail.com>

On Thu, Apr 30, 2009 at 6:27 AM, Rahkonen Jukka
<Jukka.Rahkonen@mmmtike.fi> wrote:
> Hi,
>
> What you want is the union of all the individual image polygons. ?At least it can be made with GIS applications like QGis or OpenJUMP. I don't know of any tool that could do it directly from command line but such can exist, though.

GRASS can do that (GUI and command line):

1. assign a common attribute value to all polygons
2. perform a dissolve.

Manual:
http://grass.osgeo.org/grass64/manuals/html64_user/v.reclass.html
http://grass.osgeo.org/grass64/manuals/html64_user/v.dissolve.html

Best
Markus
From yassefa at dmsolutions.ca  Thu Apr 30 09:29:50 2009
From: yassefa at dmsolutions.ca (Yewondwossen Assefa)
Date: Thu Apr 30 09:30:12 2009
Subject: [gdal-dev] Re: Joining a shape file with a DBF file with ogr2ogr
In-Reply-To: <49F919A4.6060905@swoodbridge.com>
References: <49F8B826.5080701@dmsolutions.ca> <49F8BD7F.7010505@dmsolutions.ca>
	<49F919A4.6060905@swoodbridge.com>
Message-ID: <49F9A7CE.6070907@dmsolutions.ca>

Stephen Woodbridge wrote:
> Yewondwossen Assefa wrote:
>> Hi,
>>
>>  I have a fairly large shape file (shp, shx, dbf) and a fairly small 
>> DBF file.  I would like to do a join on a specific field, with the 
>> expected result being a small shape file (same number of records as my 
>> small dbf file).  There are a couple of ways from what I can see that 
>> I could achieve this. one would be:
>>    - do a LEFT JOIN with the small dbf. This would result in creating 
>> a big shape file (+ attributes from the small dbf). I could then do 
>> another ogr2ogr and trim the data based on empty records.
>>  Although this works well, It is a bit slow for my needs (even if both 
>> DBFs are indexed).
>>
>>   Could some one suggest a better way of achieving this?
>>
>> Thanks
>>
> 
> How about using postGIS?
> Yeah, I know this is the gdal list, but hey ... I'm just saying!
> 
> -Steve
> 
Hi Steve,

   Thanks. In this particular case though, I am limited by the project 
to use shape files so I was just wondering if there were other tricks 
that could make this operation faster.

Best Regards,

-- 
----------------------------------------------------------------
Assefa Yewondwossen
Software Analyst

Email: assefa@dmsolutions.ca
http://www.dmsolutions.ca/

Phone: (613) 565-5056 (ext 14)
Fax:   (613) 565-0925
----------------------------------------------------------------

From hobu.inc at gmail.com  Thu Apr 30 15:58:10 2009
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Apr 30 15:58:16 2009
Subject: [gdal-dev] Re: Motion: Matthew Perry as a GDAL committer
In-Reply-To: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
References: <F1C56A56-FED6-4FF3-8AE4-6DC12758ECCD@gmail.com>
Message-ID: <D1B4F0C2-1C30-4EB6-981B-0DA0A0A01AB5@gmail.com>


On Apr 24, 2009, at 10:06 AM, Howard Butler wrote:

> Motion: Grant Matthew Perry GDAL commit access to maintain his  
> excellent GDAL DEM tools in GDAL as utilities.
>
> As described in http://trac.osgeo.org/gdal/ticket/2640 , I have  
> begun porting Matthew's utilities to the GDAL C API and including  
> them in GDAL.  Matthew should be able to maintain this code as it  
> moves into the project, and maybe we can convince him in the future  
> to do even more fun stuff like bindings maintenance :)
>
> Provided he accepts RFC 3, http://trac.osgeo.org/gdal/wiki/rfc3_commiters 
>  , I propose him commit access.
>
> Howard

I am retracting this motion, as no one has heard from Matthew.

Howard
