From werchowyna at epf.pl  Wed Feb  1 15:51:48 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ogrinfo --formats: rw/o/+
Message-ID: <20060201215148.9fda661e.werchowyna@epf.pl>

Frank,

Could 'ogrinfo --formats' specify which formats are supported for
reading or writing? Same as gdalinfo does...

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From pgao at esri.com  Wed Feb  1 16:24:48 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] What driver name to use for writing to HDF4
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20309DC77@firewire.esri.com>


What's format driver, HDF4 or HDF4Image, should I use? Can I use 
a regular output file name for HDF4Image instead of the coded subdataset
name,
if I need to use HDF4Image driver?

Thanks for any info,
Gao, Peng


From fx.gamoy at geomatika.fr  Thu Feb  2 04:18:28 2006
From: fx.gamoy at geomatika.fr (FX GAMOY)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] getting the geometry type of a shapefile with php_ogr
Message-ID: <200602021018.28810.fx.gamoy@geomatika.fr>


Hello Everybody,
is it a way to get the geometry type of a shapefile using php_ogr 
capabilities??

thanks 
Best regards
fx

From warmerdam at pobox.com  Thu Feb  2 08:51:48 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] What driver name to use for writing to HDF4
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20309DC77@firewire.esri.com>
References: <54808B311D66EB4E9CF4647B0DE707C20309DC77@firewire.esri.com>
Message-ID: <931f8ea90602020551p6f09de6du1c053428b02b790d@mail.gmail.com>

On 2/1/06, Peng Gao <pgao@esri.com> wrote:
>
> What's format driver, HDF4 or HDF4Image, should I use? Can I use
> a regular output file name for HDF4Image instead of the coded subdataset
> name,
> if I need to use HDF4Image driver?

Gao,

You would need to use the HDF4Image driver when
creating HDF4 data.  The HDF4 driver has no create
or create copy method.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jluis at ualg.pt  Thu Feb  2 14:40:38 2006
From: jluis at ualg.pt (jluis)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ENVISAT data comes out left-right fliped
In-Reply-To: <931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>
References: <20060130130128.GA20345@bartok.itc.it>
	<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>
Message-ID: <43E26036.9000003@ualg.pt>

Hi,

There is a problem with the ENVISAT driver. The data cames out
fliped left-right. I just checked with the cvs version that this
bug is still present.

Joaquim Luis

From warmerdam at pobox.com  Thu Feb  2 15:27:26 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ENVISAT data comes out left-right fliped
In-Reply-To: <43E26036.9000003@ualg.pt>
References: <20060130130128.GA20345@bartok.itc.it>
	<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>
	<43E26036.9000003@ualg.pt>
Message-ID: <931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>

On 2/2/06, jluis <jluis@ualg.pt> wrote:
> Hi,
>
> There is a problem with the ENVISAT driver. The data cames out
> fliped left-right. I just checked with the cvs version that this
> bug is still present.

Joaquim,

Can you provide a pointer to a dataset that demonstrates
this, and details on how you came to the conclusion?   This
should all be submitted in bugzilla.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jluis at ualg.pt  Thu Feb  2 16:36:33 2006
From: jluis at ualg.pt (jluis)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ENVISAT data comes out left-right fliped
In-Reply-To: <931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>
References: <20060130130128.GA20345@bartok.itc.it>	
	<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>	
	<43E26036.9000003@ualg.pt>
	<931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>
Message-ID: <43E27B61.2080109@ualg.pt>


> Can you provide a pointer to a dataset that demonstrates
> this, and details on how you came to the conclusion?   This
> should all be submitted in bugzilla.

Frank,
I got this file from a tutorial of Bilko
(http://www.noc.soton.ac.uk/bilko/)
Biko opens it correctly but my code that reads gdal
recognized formats into matlab shows it "fliplr"
The same happens when we use gdal_translate

gdal_translate.exe -b 5 MER_RR__1_Mediterranean.n1 lixo.tif

Its not obvious that the image is flipped because it's
a bit dark, but you can see that Italy is flipped.

ftp.ualg.pt/users/jluis/MER_RR__1_Mediterranean.zip

Joaquim

From collinsb at mitre.org  Thu Feb  2 16:38:52 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CA28A0E@IMCSRV1.MITRE.ORG>

To All,

I have added support for Java in the SWIG bindings section of the code.
As this is a first commit of some code, I would appreciate anyone who
could test it out!

Some notes:
The build process works on the MS box and the Linux box that I have
access to, but these two machines represent a very small portion of
possible platforms, so I anticipate some time to get the kinks worked
out of the build process.

I have used the most Java-natural classes where I could.  That means
exchanging Hashtable, Vector, and Color objects among other things.  If
you notice any incompatibilities with the intent of GDAL and my
choices, they can be changed.

I have used NIO Direct ByteBuffers for the main part of the data
exchange in the RasterIO.  Please note that I think this is by far the
fastest way to exchange data, but I'm open to other's suggestions.  If
you're using something older than Java 1.4 these will not work!

I have one test application in the apps directory, and I have another
to add soon that demonstrates the reading of raster data.


--
Ben Collins


From jluis at ualg.pt  Thu Feb  2 16:59:40 2006
From: jluis at ualg.pt (jluis)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] troubles building with hdf4 support
In-Reply-To: <931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>
References: <20060130130128.GA20345@bartok.itc.it>	
	<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>	
	<43E26036.9000003@ualg.pt>
	<931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>
Message-ID: <43E280CC.9070200@ualg.pt>

Hi again,
The (windows) build with hdf4 support stops complaining
about not finding hd421m.lib
I'm using the current hdf4 release - 42r1-win.ZIP
and it doesn't in fact contain that library but instead
hd421.lib & hm421.lib
How does gdal knows that it's looking for the hd421m.lib
library? I greped the full source code and found no reference
to it, except inside some .obj files.

Thanks

Joaquim Luis


From dem at acri-st.fr  Fri Feb  3 03:36:44 2006
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ENVISAT data comes out left-right fliped
In-Reply-To: <43E27B61.2080109@ualg.pt>
References: <20060130130128.GA20345@bartok.itc.it>		<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>		<43E26036.9000003@ualg.pt>	<931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>
	<43E27B61.2080109@ualg.pt>
Message-ID: <43E3161C.7070508@acri-st.fr>

Joaquim,

This isn't a bug.
MERIS Envisat files are geolocated using a GCPs list (in fact one GCP 
every 16 pixels). In the swath the file is left-right fliped, but it's 
the specifications. If you want apply the GCPs projection and then flip 
LR the file, you should use the gdalwarp GDAL utility:
gdalwarp MER_RR__1_Mediterranean.n1 MER_RR__1_Mediterranean.tif
(tested on Linux with FWTools-linux-1.0.0a7).

I've successfully viewed your file using FWTools OpenEV (FWTools1.0.0a8 
on Windows). With it you can directly display (unflipped) your .n1 file 
since OpenEV reproject on-the-fly the file using GCPs :)


Regards,

Julien


jluis a ?crit :
> 
>> Can you provide a pointer to a dataset that demonstrates
>> this, and details on how you came to the conclusion?   This
>> should all be submitted in bugzilla.
> 
> 
> Frank,
> I got this file from a tutorial of Bilko
> (http://www.noc.soton.ac.uk/bilko/)
> Biko opens it correctly but my code that reads gdal
> recognized formats into matlab shows it "fliplr"
> The same happens when we use gdal_translate
> 
> gdal_translate.exe -b 5 MER_RR__1_Mediterranean.n1 lixo.tif
> 
> Its not obvious that the image is flipped because it's
> a bit dark, but you can see that Italy is flipped.
> 
> ftp.ualg.pt/users/jluis/MER_RR__1_Mediterranean.zip
> 
> Joaquim
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

From nbarker at rsinc.com  Fri Feb  3 07:53:32 2006
From: nbarker at rsinc.com (Norman Barker)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <B67A5FB7A8114B47A70517C9C0D102E813170C@bath.uk.rsinc.com>



-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Collins,
Benjamin
Sent: Thursday, February 02, 2006 9:39 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Java SWIG bindings


To All,

I have added support for Java in the SWIG bindings section of the code.
As this is a first commit of some code, I would appreciate anyone who
could test it out!

Some notes:
The build process works on the MS box and the Linux box that I have
access to, but these two machines represent a very small portion of
possible platforms, so I anticipate some time to get the kinks worked
out of the build process.

I have used the most Java-natural classes where I could.  That means
exchanging Hashtable, Vector, and Color objects among other things.  If
you notice any incompatibilities with the intent of GDAL and my
choices, they can be changed.

I have used NIO Direct ByteBuffers for the main part of the data
exchange in the RasterIO.  Please note that I think this is by far the
fastest way to exchange data, but I'm open to other's suggestions.  If
you're using something older than Java 1.4 these will not work!

I have one test application in the apps directory, and I have another
to add soon that demonstrates the reading of raster data.


--
Ben Collins

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev

Hi Ben,

could you outline the process for building the Java SWIG wrappers for GDAL please.  I have checked out the code from CVS, but when I look at the swig directory I see both an ANT build file as well as makefiles.  I look forward to being able to try it out.

Many thanks,

Norman


From ker_31_toluca at yahoo.com.mx  Fri Feb  3 09:49:13 2006
From: ker_31_toluca at yahoo.com.mx (Nikolai Vladychevski)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Convert Raster to Shapefile
Message-ID: <20060203144913.94387.qmail@web50903.mail.yahoo.com>

Hello,
I have this problem:
I need to convert 15,000 rasters to shapefiles (by a
script). I have to  group them by color into polygons,
I will have 3-4 groups of color, for a 255 color
palete raster.
Is there any opensource application available to do
this task?

Any ideas will be very appriciated.

Regards
Nikolai


	
	
		
___________________________________________________________ 
Do You Yahoo!? 
La mejor conexi?n a Internet y <b >2GB</b> extra a tu correo por $100 al mes. http://net.yahoo.com.mx 


From collinsb at mitre.org  Fri Feb  3 10:16:30 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CA28AD1@IMCSRV1.MITRE.ORG>

In a preemptive move against any questions about how to use the
bindings, I will give these short directions:

0.5.  Make sure that swig/java/java.opt points to your java (JDK)
installation.

1.  Compile the SWIG wrappers into the C/C++ files and Java files.  The
result will be four C/C++ sources (which link between a JNI interface
and the GDAL/OGR DLL) and a number of Java source files in the
org/gdal/* directories that have a Plain Old Java Oject (POJO)
structure that calls into the JNI code.  This is already done in the
source tree since there is no binary code generation, just source
generation.

2.  Compile the C/C++ files into DLLs and the Java source files to a
jar.  This can be done by going into the swig/java directory and
calling 'make build' on GNU platforms (including cygwin) or running
'nmake -f makefile.vc' on MS platforms.  If the jar is not built for
you, run 'ant' and the java sources should be compiled into gdal.jar.
Now you have
 - .libs/lib*jni.so
 - gdal.jar

3.  Import what you need of gdal.jar into your source and go!  An
example is in the apps directory and is called gdalinfo.java.  Here's
how to get it running:
 - Go into the apps directory.
 - Compile with 'javac -classpath ../gdal.jar gdalinfo.java'
 - Run with 'java -cp ../gdal.jar -Djava.library.path=../.libs/
gdalinfo <filename>'


That's it!
--
Ben Collins


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Collins,
Benjamin
Sent: Thursday, February 02, 2006 4:39 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Java SWIG bindings

To All,

I have added support for Java in the SWIG bindings section of the code.
As this is a first commit of some code, I would appreciate anyone who
could test it out!

Some notes:
The build process works on the MS box and the Linux box that I have
access to, but these two machines represent a very small portion of
possible platforms, so I anticipate some time to get the kinks worked
out of the build process.

I have used the most Java-natural classes where I could.  That means
exchanging Hashtable, Vector, and Color objects among other things.  If
you notice any incompatibilities with the intent of GDAL and my
choices, they can be changed.

I have used NIO Direct ByteBuffers for the main part of the data
exchange in the RasterIO.  Please note that I think this is by far the
fastest way to exchange data, but I'm open to other's suggestions.  If
you're using something older than Java 1.4 these will not work!

I have one test application in the apps directory, and I have another
to add soon that demonstrates the reading of raster data.


--
Ben Collins

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From ker_31_toluca at yahoo.com.mx  Fri Feb  3 10:22:40 2006
From: ker_31_toluca at yahoo.com.mx (Nikolai Vladychevski)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Convert Raster to Shapefile
In-Reply-To: <82c245aa0602030709o521c5d23ra9d5128cc1895652@mail.gmail.com>
Message-ID: <20060203152240.56956.qmail@web50906.mail.yahoo.com>

Thanks Lennox,
we accept a try for your application.
In this file:
http://www.quazartecnologia.com/ejemplo-raster.tar.gz
I have put:
1. Input raster
2. Output shapefile 
So, I need kind of batch processing to convert each
raster file to a shapefile, just like in the file
attached.

Can this be done with your app?

Nikolai


 --- Lennox Antoine <lxnyce@gmail.com> escribi?:

> When you say group by color? What do you mean by
> this?
> Are you trying to export just the shapefile outline
> of all the rasters?
> I am looking for test cases for my application and
> this seems like a
> good one. I hasn't been oficially released yet, but
> it should be able
> to handle loading your 15000 rasters. You can either
> drag and drop
> them in, or use add directory to load them [right
> click on the tree
> for all options]. If you give me more details on
> what output you want,
> I can probably whip it up pretty quick.
> 
> http://www.lennoxgis.com/
> 
> 
> On 2/3/06, Nikolai Vladychevski
> <ker_31_toluca@yahoo.com.mx> wrote:
> > Hello,
> > I have this problem:
> > I need to convert 15,000 rasters to shapefiles (by
> a
> > script). I have to  group them by color into
> polygons,
> > I will have 3-4 groups of color, for a 255 color
> > palete raster.
> > Is there any opensource application available to
> do
> > this task?
> >
> > Any ideas will be very appriciated.
> >
> > Regards
> > Nikolai
> >
> >
> >
> >
> >
> >
>
___________________________________________________________
> > Do You Yahoo!?
> > La mejor conexi?n a Internet y <b >2GB</b> extra a
> tu correo por $100 al mes. http://net.yahoo.com.mx
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> >
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
> 




	
	
		
___________________________________________________________ 
Do You Yahoo!? 
La mejor conexi?n a Internet y <b >2GB</b> extra a tu correo por $100 al mes. http://net.yahoo.com.mx 


From lxnyce at gmail.com  Fri Feb  3 10:30:54 2006
From: lxnyce at gmail.com (Lennox Antoine)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Help With Transparent Colors
In-Reply-To: <6.2.1.2.0.20060124230542.042c8dd8@mailhost.geodesign.com.br>
References: <A8EC18764D27D04383CE3564CA19EA74432D80@NDJSEVS14.ndc.nasa.gov>
	<6.2.1.2.0.20060124230542.042c8dd8@mailhost.geodesign.com.br>
Message-ID: <82c245aa0602030730t6e3bc5cfj2d2173a0f5521538@mail.gmail.com>

I still haven't released it yet, but you have a partial solution to
this problem with my latest release. I have worked with the NY GIS
images as well, and found no package (including LizardTech's) can
graphically display or mosaic all the files. Most seem to die at
around 50. Go here : http://www.lennoxgis.com/

Download the 0.6 stable release.

1. Add all your files into GeoPaint either through drag and drop from
internet explorer or use the file open button in GeoPaint.
Alternatively, right click on the layer tree and there is an "Add
Directory" option which will recursively scan.

2. The rasters/vectors will start to load. When it all loads the tree
will refresh. You can right click on it to refresh it yourself. You
can also monitor the progress by clicking the little stop light
blinking in the main window.

3. Once they are all loaded, highlight them all in the treeview (make
sure you highlight them as only the highlighted ones will be
exported). Right click on it, and go to mosaic (or export). With
mosaic, choose a format that doesn't have the 2GB limit (like ERDAS
IMAGINE). You can modify the output dimensions as well as other
options. Type in the output filename last please [stupid bug where it
starts after it receives a filename].

I should be finished hooking up coordinate systems this weekend, so
you could do both steps in one pass. Try it with something smaller
first to get acquainted with it. I am taking any suggestions that you
guys might have.

Note that you can roam around thousands of SID's with even a very weak
machine. heck your memory footprint, very low. This goes for pretty
much all formats except ECW since the ECW sdk takes up ~1/3 system
memory by default.

Keep in mind the GeoSpatial IM is down currently, as I am still
searching for server hosting.

-Lennox


On 1/24/06, Reinaldo Escada Chohfi <rec@geodesign.com.br> wrote:
>  GeoExpress has both GUI and command line versions for batch processing.
> You can add 1000s of images to process using either version.
>
>  R.
>
>
>  At 10:15 PM 1/24/2006, Dolloff, Matthew D. (JSC-ER7) wrote:
>
>  I'm not sure how well GeoExpress is an option because we are talking about
> thousands of files and GB of data.  I need to batch the process.
>
>  ________________________________
>
>  From: Reinaldo Escada Chohfi [ mailto:rec@geodesign.com.br]
>  Sent: Tuesday, January 24, 2006 5:48 PM
>  To: Frank Warmerdam; Dolloff, Matthew D. (JSC-ER7)
>  Cc: gdal-dev@lists.maptools.org
>  Subject: Re: [Gdal-dev] Help With Transparent Colors
>
>  You can also use the GeoExpress 5.0 trial download from LizardTech (
> www.lizardtech.com) that allows you to mosaic and reproject .sid images in
> one step.  The trial download allows you to work with images that already
> are in .sid format without problems.  That way you don't need to go from
> MrSID to GeoTiff and make a large mosaic as a .sid image.
>
>  Best regards,
>
>  Reinaldo
>
>  At 09:06 PM 1/24/2006, Frank Warmerdam wrote:
>
>  On 1/24/06, Dolloff, Matthew D. (JSC-ER7) <matthew.d.dolloff@nasa.gov>
> wrote:
>  >
>  >
>  >
>  > Hello.  I am trying to convert some MrSID images into Geotiffs and tiling
>  > them together.  The MrSIDs are in state plane coordinate system and I
> need
>  > them in WGS84.  So I convert the MrSIDs to geotiffs using mrsiddecode
> from
>  > lizard tech.  Then I use gdal warp to change the projection type.  Then
> use
>  > gdal_merge to merge them together.  The problem is that I end up with a
>  > black collar when I warp the images and then when I merge them the images
>  > cover each other up.  Is there anyway, that I can crop those collars out?
>  > Here is the link where I am getting the sids
>  >
> http://www.nysgis.state.ny.us/gateway/mg/2001/suffolk/01ic_t_babylon_l06col.htm
>
>  Matt,
>
>  A couple of approaches would be:
>
>   o Use gdal_merge to merge the TIFFs before
>      reprojecting them.  Then gdalwarp the resulting
>      mosaic.
>
>   o Or create a big WGS84 mosaic file and gdalwarp
>      each non-WGS84 file into that, mosaicing at the
>      same time as reprojecting.
>
>  In the future gdalwarp will support multiple input
>  files, essentially replacing gdal_merge for many
>  purposes.  This is already in CVS if you were building
>  from source.  Another option would be to generate a
>  nodata value or better yet an alpha channel in the files
>  output by gdalwarp to keep track of the nodata pixels.
>
>  My suggestion would be the top most option, mosaic
>  then reproject.  Keep in mind that GeoTIFF only
>  supports file sizes up to 4GB.  So if your mosaic is
>  going to be large, you may need to do it in a format
>  like Erdas Imagine.
>
>  Best regards,
>  --
> ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>  _______________________________________________
>  Gdal-dev mailing list
>  Gdal-dev@lists.maptools.org
>  http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>  Reinaldo Escada Chohfi, Ph.D.
>  Diretor
>  GeoDesign Internacional
>
>  www.geodesign.com.br
>
>  E-mail: rec@geodesign.com.br
>
>  Tel./Fax: 0-XX-12-3153-5115 (Local)
>        55-12-3153-5115 (Intl.)
>
>  Intelig?ncia e Tecnologia Espacial de Ponta
>
>  Urbanismo, Estudos Ambientais, Monitoriamento Ambiental,
>  Geoprocessamento, GIS, Processamento de Imagens Geogr?ficas,
>  Sensoriamento Remoto: Imagens de Sat?lites
>
>  Compress?o de Imagens e Documentos Escanerizados
>  Servidor de Conte?do - Sistemas de Visualiza??o - Integra??o de Sistemas
>
>  Revendedor Autorizado da LizardTech e da Applied Imagery no Brasil
>
>  Vila Peralta, 42
>  12607-040 - Lorena - SP - Brasil
>
>  Informa??o confidencial. N?o retransmitir sem autoriza??o.
>  Copyright (c) 2005 GeoDesign Internacional
>  Todos os direitos reservados.
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


From ivan.mjartan at geovap.cz  Fri Feb  3 10:37:32 2006
From: ivan.mjartan at geovap.cz (Ivan Mjartan)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW small problem 
Message-ID: <001501c628d7$bfcdc0d0$1a01a8c0@pc24>

Hi all,

 

I have one question about minimum size of ECW raster

 

I tried create small ecw files and I tested that is no possible create smaller raster than 130*130px. 

 

So what is possible minimum size of ECW?

 

I tried use gdal_translate.exe to create ecw from bitmap (Windows Device Independent Bitmap) 1505*130px and I got this error 

 

ERROR 4: File c:\temp\testGdalAPP\t_2_2.ecw has unsupported number of bits per pixel. 

 

What it means? 

 

I don't understand because when I tried use gdal_translate.exe to create ecw from 3000*130 px bitmap(Windows Device Independent Bitmap) everything was fine.

 

Can somebody explain relation ECW <-> raster width and height 

 

I am using gdal 13 and ECW SDK 3.3

 

 

Thank you very much 

 

Ivan Mjartan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060203/4704da2c/attachment.html
From nbarker at rsinc.com  Fri Feb  3 10:46:36 2006
From: nbarker at rsinc.com (Norman Barker)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <B67A5FB7A8114B47A70517C9C0D102E813170E@bath.uk.rsinc.com>



-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Collins,
Benjamin
Sent: Friday, February 03, 2006 3:17 PM
To: gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Java SWIG bindings


In a preemptive move against any questions about how to use the
bindings, I will give these short directions:

0.5.  Make sure that swig/java/java.opt points to your java (JDK)
installation.

1.  Compile the SWIG wrappers into the C/C++ files and Java files.  The
result will be four C/C++ sources (which link between a JNI interface
and the GDAL/OGR DLL) and a number of Java source files in the
org/gdal/* directories that have a Plain Old Java Oject (POJO)
structure that calls into the JNI code.  This is already done in the
source tree since there is no binary code generation, just source
generation.

2.  Compile the C/C++ files into DLLs and the Java source files to a
jar.  This can be done by going into the swig/java directory and
calling 'make build' on GNU platforms (including cygwin) or running
'nmake -f makefile.vc' on MS platforms.  If the jar is not built for
you, run 'ant' and the java sources should be compiled into gdal.jar.
Now you have
 - .libs/lib*jni.so
 - gdal.jar

3.  Import what you need of gdal.jar into your source and go!  An
example is in the apps directory and is called gdalinfo.java.  Here's
how to get it running:
 - Go into the apps directory.
 - Compile with 'javac -classpath ../gdal.jar gdalinfo.java'
 - Run with 'java -cp ../gdal.jar -Djava.library.path=../.libs/
gdalinfo <filename>'


That's it!
--
Ben Collins


<snip>

hi Ben,

at the risk of sounding stupid, I have done the following on RHEL3 after doing ./configure, make as in the normal GDAL build.

cd swig  -> make
cd java  -> make

I get the following errors

mkdir -p org/gdal/gdal
mkdir -p org/gdal/gdalconst
mkdir -p org/gdal/ogr
mkdir -p org/gdal/osr
shared  ../../libgdal.la gdal_wrap.o -o libgdaljni.so
make: shared: Command not found
make: [libgdaljni.so] Error 127 (ignored)
shared  ../../libgdal.la ogr_wrap.o -o libogrjni.so
make: shared: Command not found
make: [libogrjni.so] Error 127 (ignored)
shared  ../../libgdal.la gdalconst_wrap.o -o libgdalconstjni.so
make: shared: Command not found
make: [libgdalconstjni.so] Error 127 (ignored)
shared  ../../libgdal.la osr_wrap.o -o libosrjni.so
make: shared: Command not found
make: [libosrjni.so] Error 127 (ignored)
cp ./.libs/*.so ./
cp: cannot stat `./.libs/*.so': No such file or directory
make: *** [build] Error 1

Do you have windows, and linux binaries of this at all?  I would like to get it compiling from source if possible.

Many thanks,

Norman




From collinsb at mitre.org  Fri Feb  3 10:57:05 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CA28AEA@IMCSRV1.MITRE.ORG>

LD_SHARED is often not definied in GDALmake.opt after a ./configure
(for some reason).  I have temporarily solved the problem for GNU
platforms by changing the target to call LD and use the -shared flag.
This, as well as the hard-coded -fPIC flag, will not translate to other
platforms; be warned.

A CVS update should solve the problem in your case.
--
Ben Collins

-----Original Message-----
From: Norman Barker [mailto:nbarker@rsinc.com] 
Sent: Friday, February 03, 2006 10:47 AM
To: Collins, Benjamin; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Java SWIG bindings



-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Collins,
Benjamin
Sent: Friday, February 03, 2006 3:17 PM
To: gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Java SWIG bindings


In a preemptive move against any questions about how to use the
bindings, I will give these short directions:

0.5.  Make sure that swig/java/java.opt points to your java (JDK)
installation.

1.  Compile the SWIG wrappers into the C/C++ files and Java files.  The
result will be four C/C++ sources (which link between a JNI interface
and the GDAL/OGR DLL) and a number of Java source files in the
org/gdal/* directories that have a Plain Old Java Oject (POJO)
structure that calls into the JNI code.  This is already done in the
source tree since there is no binary code generation, just source
generation.

2.  Compile the C/C++ files into DLLs and the Java source files to a
jar.  This can be done by going into the swig/java directory and
calling 'make build' on GNU platforms (including cygwin) or running
'nmake -f makefile.vc' on MS platforms.  If the jar is not built for
you, run 'ant' and the java sources should be compiled into gdal.jar.
Now you have
 - .libs/lib*jni.so
 - gdal.jar

3.  Import what you need of gdal.jar into your source and go!  An
example is in the apps directory and is called gdalinfo.java.  Here's
how to get it running:
 - Go into the apps directory.
 - Compile with 'javac -classpath ../gdal.jar gdalinfo.java'
 - Run with 'java -cp ../gdal.jar -Djava.library.path=../.libs/
gdalinfo <filename>'


That's it!
--
Ben Collins


<snip>

hi Ben,

at the risk of sounding stupid, I have done the following on RHEL3
after doing ./configure, make as in the normal GDAL build.

cd swig  -> make
cd java  -> make

I get the following errors

mkdir -p org/gdal/gdal
mkdir -p org/gdal/gdalconst
mkdir -p org/gdal/ogr
mkdir -p org/gdal/osr
shared  ../../libgdal.la gdal_wrap.o -o libgdaljni.so
make: shared: Command not found
make: [libgdaljni.so] Error 127 (ignored)
shared  ../../libgdal.la ogr_wrap.o -o libogrjni.so
make: shared: Command not found
make: [libogrjni.so] Error 127 (ignored)
shared  ../../libgdal.la gdalconst_wrap.o -o libgdalconstjni.so
make: shared: Command not found
make: [libgdalconstjni.so] Error 127 (ignored)
shared  ../../libgdal.la osr_wrap.o -o libosrjni.so
make: shared: Command not found
make: [libosrjni.so] Error 127 (ignored)
cp ./.libs/*.so ./
cp: cannot stat `./.libs/*.so': No such file or directory
make: *** [build] Error 1

Do you have windows, and linux binaries of this at all?  I would like
to get it compiling from source if possible.

Many thanks,

Norman




From zhang at aero.und.edu  Fri Feb  3 16:15:24 2006
From: zhang at aero.und.edu (Xiaodong Zhang)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] export an image to ascii text file
Message-ID: <43E3C7EC.8070405@aero.und.edu>

Hi,

I need to export an image (any projection) into an ascii file: coma 
delimited columns of lat, lon, band 1, band 2, ..... Before I get on 
that with GDAL library, does anyone have developed or know of such a 
program, which can be shared.

Thanks
Xiaodong

-- 
____________________________________________

Xiaodong Zhang
Department of Earth System Science & Policy
Clifford Hall, Box 9011
University of North Dakota
Grand Forks, ND 58202-9011
Tel. (701)777-6087 | Fax. (701)777-2940
E-mail: zhang@aero.und.edu
_____________________________________________


From chodgson at refractions.net  Fri Feb  3 16:16:56 2006
From: chodgson at refractions.net (Chris Hodgson)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] PostGIS CHIP Support - Tiled Pyramids?
Message-ID: <43E3C848.8090100@refractions.net>

Frank and others,

I recently became aware of the work on the PGCHIP driver for gdal:

http://simon.benjamin.free.fr/pgchip/

This has resparked my interest in developing a raster storage system for 
PostGIS. Paul Ramsey is generally opposed to this idea, and I think that 
  I agree with him in principal - however there is a continuous stream 
of people interested in raster support for postgis.

So what I am looking for is a solution that puts the least possible 
additional functionality into the database, but still allows maximal 
functionality by leveraging other tools - I think GDAL may be the right 
place for the additional functionality. The existing PGCHIP driver, as I 
see it, allows a database table to essentially act like a tiff file, or 
any other gdal datasource. This requires very minimal support from 
PostGIS - the CHIP type is already there, with a few improvements and/or 
a metadata table like geometry_columns, it should be able to do all that 
is needed.

For good performance however, we need support for tiling, and 
pyramidding. This COULD be built into the database, with additional 
metadata tables defining the pyramids, but I think it might make more 
sense to put this logic into GDAL.  I think that anything involving 
raster I/O would end up using GDAL anyway, and resampling and mosaicing 
logic really doesn't belong in the database. GDAL already supports tiles 
and pyramids that are internal to a datasource - Tiled TIFFs with 
overviews, and JPEG-2000 or other wavelet based files come to mind. But 
does it, or could it easily be made to, support external pyramids and 
tiles?

As far as I can tell, the external tiling and pyramidding is handled in 
Mapserver (Cheetah?), using gdaltindex and min/max resolutions on 
multiple layers. What I'm thinking of is being able to define pyramid 
sets in gdal-land, similar to the existing virtual raster support. Once 
the pyramid set is defined, data could be loaded into and read from it 
automagically... potentially the different layers of the pyramid could 
even reside in different datasets - I can't see why you would want to do 
that, but once you have that level of abstraction it should be easy.

Does something like this already exist? Have you ever thought about it 
before, Frank? Would it be hard to do? I haven't previously had my 
fingers too deep into the gdal codebase, but I'd be interested in trying 
to implement this, with your guidance, assuming it isn't already there 
and just hiding on me.

Let me know your thoughts,

Chris

From bryan at geomega.com  Fri Feb  3 16:37:27 2006
From: bryan at geomega.com (Bryan Keith)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] export an image to ascii text file
In-Reply-To: <43E3C7EC.8070405@aero.und.edu>
References: <43E3C7EC.8070405@aero.und.edu>
Message-ID: <43E3CD17.7020105@geomega.com>

Xiaodong,

Attached is a python script that I've used to do part of what you've 
asked for (I'm pretty sure this list accepts attachments).  It's not a 
polished tool, but the code may help you get started.

Note that the xy calculations are dependent on the cell size being the 
same in x and y.  You'll notice that this will only output a single band 
as it's currently written.  Also it doesn't attempt to project to lat 
and lon.  It outputs the coordinates of the images projection.

Even with these caveats maybe it helps.

Bryan

Bryan Keith
GIS Specialist
Geomega, Inc.
Boulder, CO, USA

Xiaodong Zhang wrote:

> Hi,
>
> I need to export an image (any projection) into an ascii file: coma 
> delimited columns of lat, lon, band 1, band 2, ..... Before I get on 
> that with GDAL library, does anyone have developed or know of such a 
> program, which can be shared.
>
> Thanks
> Xiaodong
>
-------------- next part --------------
import gdal, sys, struct
from gdalconst import *
def Usage():
	print "Usage: RasterToXYZ.py rastername rasterband outputasciifile"
	print "This routine will write out ascii XYZ data for the input raster."
	print "rasterband is typically 1 (the first band)"
	return
if len(sys.argv) != 4:
	Usage()
	sys.exit()
dataset = gdal.Open(sys.argv[1],GA_ReadOnly)
band = dataset.GetRasterBand(int(sys.argv[2]))
geotransform = dataset.GetGeoTransform()
#geotransform[0],geotransform[3] are the (x,y) of the upper left corner of the upper left
#pixel
#geotransform[1] is the cell size in x
#geotransform[5] is the cell size in y (in this case cell size is the same in x and y)
#the following line reads a row (constant y) of data (the top most (ymax) row)
#scanline = band.ReadRaster(0,0,band.XSize,1,band.XSize,1,GDT_Float32)
#tuple_of_floats = struct.unpack('f' * band.XSize, scanline)
#the following line reads the second row of data
#scanline = band.ReadRaster(0,1,band.XSize,1,band.XSize,1,GDT_Float32)
f = open(sys.argv[3],'w')
f.write('x,y,z\n')
for y in range(band.YSize): #from 0 to 838
  scanline = band.ReadRaster(0,y,band.XSize,1,band.XSize,1)
  tuple_of_floats = struct.unpack('f' * band.XSize, scanline)
  x = 0
  strY = str((geotransform[3] - (geotransform[1] * 0.5)) - (y * geotransform[1]))
  for z in tuple_of_floats:
    f.write(str((x * geotransform[1]) + geotransform[0] + (geotransform[1] * 0.5)) + ",")
    f.write(strY + ",")
    f.write(str(z) + '\n')
    x = x + 1
f.close()
From perrygeo at gmail.com  Fri Feb  3 16:47:37 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] export an image to ascii text file
In-Reply-To: <43E3C7EC.8070405@aero.und.edu>
References: <43E3C7EC.8070405@aero.und.edu>
Message-ID: <5383fa5e0602031347q450c851bv4e97c71a913e4e68@mail.gmail.com>

Xiaodong,

  There is a python script distributed with recent versions of gdal
called "gdal2xyz.py" . I haven't used it for multi-band images and it
appears that the script handles a single band at a time. You could use
this to create a seperate text file for each band or modify it to
output all bands to a single file.

matt

On 2/3/06, Xiaodong Zhang <zhang@aero.und.edu> wrote:
> Hi,
>
> I need to export an image (any projection) into an ascii file: coma
> delimited columns of lat, lon, band 1, band 2, ..... Before I get on
> that with GDAL library, does anyone have developed or know of such a
> program, which can be shared.
>
> Thanks
> Xiaodong
>
> --
> ____________________________________________
>
> Xiaodong Zhang
> Department of Earth System Science & Policy
> Clifford Hall, Box 9011
> University of North Dakota
> Grand Forks, ND 58202-9011
> Tel. (701)777-6087 | Fax. (701)777-2940
> E-mail: zhang@aero.und.edu
> _____________________________________________
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From bryan at geomega.com  Fri Feb  3 17:06:49 2006
From: bryan at geomega.com (Bryan Keith)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] export an image to ascii text file
In-Reply-To: <5383fa5e0602031347q450c851bv4e97c71a913e4e68@mail.gmail.com>
References: <43E3C7EC.8070405@aero.und.edu>
	<5383fa5e0602031347q450c851bv4e97c71a913e4e68@mail.gmail.com>
Message-ID: <43E3D3F9.8020304@geomega.com>

Matt,

Thanks for pointing that out.  That's a lot better than the one I put 
together.  When I sent my e-mail, I was wondering if Frank had already 
written something like that.

Bryan

Matthew Perry wrote:

>Xiaodong,
>
>  There is a python script distributed with recent versions of gdal
>called "gdal2xyz.py" . I haven't used it for multi-band images and it
>appears that the script handles a single band at a time. You could use
>this to create a seperate text file for each band or modify it to
>output all bands to a single file.
>
>matt
>
>On 2/3/06, Xiaodong Zhang <zhang@aero.und.edu> wrote:
>  
>
>>Hi,
>>
>>I need to export an image (any projection) into an ascii file: coma
>>delimited columns of lat, lon, band 1, band 2, ..... Before I get on
>>that with GDAL library, does anyone have developed or know of such a
>>program, which can be shared.
>>
>>Thanks
>>Xiaodong
>>
>>--
>>____________________________________________
>>
>>Xiaodong Zhang
>>Department of Earth System Science & Policy
>>Clifford Hall, Box 9011
>>University of North Dakota
>>Grand Forks, ND 58202-9011
>>Tel. (701)777-6087 | Fax. (701)777-2940
>>E-mail: zhang@aero.und.edu
>>_____________________________________________
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>    
>>
>
>
>--
>Matt Perry
>perrygeo@gmail.com
>http://www.perrygeo.net
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
>  
>

From chodgson at refractions.net  Fri Feb  3 19:49:15 2006
From: chodgson at refractions.net (Chris Hodgson)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal_translate Resampling?
Message-ID: <43E3FA0B.4030106@refractions.net>

Is there a way to specify what kind of resampling gdal_translate should 
use? It doesn't seem to be a parameter, yet it does do resampling as 
necessary... seems like the option is missing.

Chris

From tpl at hgl.com  Fri Feb  3 22:07:14 2006
From: tpl at hgl.com (Lillys, Theodore, P.E.)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] API for LINDAR data in LAS format
Message-ID: <CA202492F79A2543917161E3D2E23D2201900CD9@mercury.hgl.com>

Is anyone aware of an open source API for LINDAR data in LAS format
version 1.0 or 1.1?
Thanks
Ted
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060203/b4a745ce/attachment.html
From qyhu at mmc.shmtu.edu.cn  Sun Feb  5 06:49:16 2006
From: qyhu at mmc.shmtu.edu.cn (qyhu@mmc.shmtu.edu.cn)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Problem about reading S57 String Field
Message-ID: <61870.58.165.34.129.1139140156.4U Message Server
	2004@mail.shmtu.edu.cn>

Hi all,

I'm trying to read S57 files by using OGR,but every time when I read the
name of light (OBJNAM field of LIGHTS layer), null is returned even the
light has a name.Does anyone know how to solve the problem?

thanks in advance.

Regards,

Hu



From tflynch at gmail.com  Sun Feb  5 21:08:52 2006
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW small problem
In-Reply-To: <001501c628d7$bfcdc0d0$1a01a8c0@pc24>
References: <001501c628d7$bfcdc0d0$1a01a8c0@pc24>
Message-ID: <c39b2a650602051808s1eac19d1q5d7c010644f7a6fc@mail.gmail.com>

On 2/3/06, Ivan Mjartan <ivan.mjartan@geovap.cz> wrote:
> Hi all,
>
> I have one question about minimum size of ECW raster
>
> I tried create small ecw files and I tested that is no possible create
> smaller raster than 130*130px.
>
> So what is possible minimum size of ECW?
<snip>

Ivan,

ECW files have a minimum size of 128 x 128 pixels.  This is due to
certain assumptions made by the encoder.  Of course, given the
application area of the format (large imagery) this isn't much of a
limitation :-)

JPEG 2000 files don't have any such size restriction and can be as
small as 1x1 pixel.

I can't comment on the error you received from GDAL, except to state
that ECW files only ever use 8 bits per component per pixel (all data
is stored as unsigned 8 bit integers internally), so it seems likely
that it's erroneous.

Tom.

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From gus at vpac.org  Mon Feb  6 00:09:08 2006
From: gus at vpac.org (Angus MacAulay)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal-grass plugin
In-Reply-To: <c39b2a650602051808s1eac19d1q5d7c010644f7a6fc@mail.gmail.com>
References: <001501c628d7$bfcdc0d0$1a01a8c0@pc24>
	<c39b2a650602051808s1eac19d1q5d7c010644f7a6fc@mail.gmail.com>
Message-ID: <1139202548.2885.4.camel@dhcp-221.vpac.org>

Hi,

I'm trying to compile the gdal-grass plugin on Fedora 4, and I get this;

g++ -shared  grass57dataset.o -L/usr/local/grass-6.0.1/lib -lgrass_I
-lgrass_vask -lgr ass_gmath -lgrass_gis -lgrass_datetime -lgrass_gproj
-lgrass_vect -L/usr/local/lib -lg dal  -o gdal_GRASS.so
/usr/bin/ld: cannot find -lgrass_I
collect2: ld returned 1 exit status
make: *** [gdal_GRASS.so] Error 1

Any thoughts?

Regards
Gus MacAulay


From zhang at aero.und.edu  Mon Feb  6 00:59:47 2006
From: zhang at aero.und.edu (Xiaodong Zhang)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] export an image to ascii text file
In-Reply-To: <5383fa5e0602031347q450c851bv4e97c71a913e4e68@mail.gmail.com>
References: <43E3C7EC.8070405@aero.und.edu>
	<5383fa5e0602031347q450c851bv4e97c71a913e4e68@mail.gmail.com>
Message-ID: <43E6E5D3.7090705@aero.und.edu>

Thanks Matt and Bryan,

I modified gdal2xyz.py to outputs multiple bands to a single file. I 
really appreciate your help.This is the first time ever that I read and 
modify a python code; interesting language.

best
Xiaodong

Matthew Perry wrote:
> Xiaodong,
>
>   There is a python script distributed with recent versions of gdal
> called "gdal2xyz.py" . I haven't used it for multi-band images and it
> appears that the script handles a single band at a time. You could use
> this to create a seperate text file for each band or modify it to
> output all bands to a single file.
>
> matt
>
> On 2/3/06, Xiaodong Zhang <zhang@aero.und.edu> wrote:
>   
>> Hi,
>>
>> I need to export an image (any projection) into an ascii file: coma
>> delimited columns of lat, lon, band 1, band 2, ..... Before I get on
>> that with GDAL library, does anyone have developed or know of such a
>> program, which can be shared.
>>
>> Thanks
>> Xiaodong
>>
>> --
>> ____________________________________________
>>
>> Xiaodong Zhang
>> Department of Earth System Science & Policy
>> Clifford Hall, Box 9011
>> University of North Dakota
>> Grand Forks, ND 58202-9011
>> Tel. (701)777-6087 | Fax. (701)777-2940
>> E-mail: zhang@aero.und.edu
>> _____________________________________________
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>     
>
>
> --
> Matt Perry
> perrygeo@gmail.com
> http://www.perrygeo.net
>   


From mateusz at loskot.net  Mon Feb  6 03:11:56 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ogr_miattrind.cpp dependency
Message-ID: <43E704CC.5050008@loskot.net>

Hi,

As I revealed ogr\ogrsf_frmts\generic\ogr_miattrind.cpp file
is dedicated to MapInfo and has nothing to do with other drivers.
Am I right?

If I am, then why it seems to be required dependency even if I want to
build only shapefile support.
Generic OGRLayer::InitializeIndexSupport
calls OGRCreateDefaultLayerIndex and the only implementation of
OGRCreateDefaultLayerIndex function is available from ogr_miattrind.cpp
file:

OGRLayerAttrIndex *OGRCreateDefaultLayerIndex()
{
     return new OGRMILayerAttrIndex();
}

But as I said, ogr_miattrind.cpp is coupled with MapInfo driver, so 
currently there is no way to build OGR with shapefile driver but without 
MapInfo driver.
Am I right or I've missed something while analysing OGR sources.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Mon Feb  6 08:34:45 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] GDAL Joining Open Source Geospatial Foundation
Message-ID: <931f8ea90602060534y1c198159vd055edf5a1887fde@mail.gmail.com>

Folks,

I attended the lauch meeting for the Open Source Geospatial
Foundation in Chicago on saturday.  It went very well, and
I have taken the step of committing the GDAL/OGR project
to joining as one of the initial projects.   I was also elected to
the interim board of directors.

I am hoping we will have information up in the not too distant
future describing the foundation but it will take a while to hammer
out all the details.

In the coming months there are a few things that will be
done to make GDAL's membership a reality:

 o We will need to form a "GDAL Project Steering Committee"
    or something similar.   Foundation projects cannot be a
    dictatorship as GDAL is currently.  So I will be approaching
    a few major folks to join such a committee.  I hope in the
    future it will grow.  It will presumably be modelled to some
    extent on the MapServer Technical Steering Committee
    described in:

    http://mapserver.gis.umn.edu/development/rfc/ms-rfc-1

 o One benefit of the foundation is some degree of legal
    support and protection for the project.  The flip side of that
    is that the foundation needs to ensure some degree of
    rigor and process in how code comes into the project.  One
    part of that is getting committers to sign a legal agreement
    indicating that they agree that changes they commit will
    be under the GDAL/OGR license (MIT/X) and that they
    have the right to submit the code (they wrote it, have
    permission from their employer, etc).

 o Some degree of "vetting" of existing code will need to be
    done so we have assurance it is unencumbered.  Essentially
    the retroactive part of the previous step.

 o At some point some of the support infrastructure for GDAL
    is likely to move to foundation systems.  Stuff like CVS,
    and Bugzilla for instance.  The web site wll also likely appear
    under a foundation subsite (ie. gdal.osgeo.org) though I
    will also retain the current www.gdal.ogr address.  The
    web site will also be adapted to some degree to fit into
    the foundation "style".

 o Once details are worked out, I will also start making the
    rounds of corporate users of GDAL trying to drum up
    sponorships for the foundation.  The idea I floated with
    reasonable success at the formation meeting was that
    foundation sponsor ships be able to name project(s) that
    they want to support and that the majority of their
    sponsorship money would be made directly available to
    that project for support.  My idea being this would provide
    a means to provide some funding for nitty gritty ongoing
    maintenance.

I will provide more details as things progress, and I welcome
feedback.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb  6 08:37:53 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ogr_miattrind.cpp dependency
In-Reply-To: <43E704CC.5050008@loskot.net>
References: <43E704CC.5050008@loskot.net>
Message-ID: <931f8ea90602060537w21ff4d98y6d81064b87778798@mail.gmail.com>

On 2/6/06, Mateusz ?oskot <mateusz@loskot.net> wrote:
> Hi,
>
> As I revealed ogr\ogrsf_frmts\generic\ogr_miattrind.cpp file
> is dedicated to MapInfo and has nothing to do with other drivers.
> Am I right?
>
> If I am, then why it seems to be required dependency even if I want to
> build only shapefile support.
> Generic OGRLayer::InitializeIndexSupport
> calls OGRCreateDefaultLayerIndex and the only implementation of
> OGRCreateDefaultLayerIndex function is available from ogr_miattrind.cpp
> file:
>
> OGRLayerAttrIndex *OGRCreateDefaultLayerIndex()
> {
>      return new OGRMILayerAttrIndex();
> }
>
> But as I said, ogr_miattrind.cpp is coupled with MapInfo driver, so
> currently there is no way to build OGR with shapefile driver but without
> MapInfo driver.
> Am I right or I've missed something while analysing OGR sources.

Mateusz,

You are correct that you cannot currently build the shapefile
driver without also having the mapinfo driver.  The ogr_mitattrind.cpp
implements a "generic" attribute indexing mechanism that other
drivers can use.  But it is implemented using mapinfo TAB format,
hence the dependency.  Currently only the shapefile driver uses
this indexing mechanism.

I think the best solution to this would be to add some sort
of build/preprocessor magic so that if the mapinfo driver isn't
included in a build, the attribute indexing will also be dropped.
This may be a bit messy.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb  6 09:21:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal-grass plugin
In-Reply-To: <1139202548.2885.4.camel@dhcp-221.vpac.org>
References: <001501c628d7$bfcdc0d0$1a01a8c0@pc24>
	<c39b2a650602051808s1eac19d1q5d7c010644f7a6fc@mail.gmail.com>
	<1139202548.2885.4.camel@dhcp-221.vpac.org>
Message-ID: <931f8ea90602060621g554f67a2s540da7be4f9c16e3@mail.gmail.com>

On 2/6/06, Angus MacAulay <gus@vpac.org> wrote:
> Hi,
>
> I'm trying to compile the gdal-grass plugin on Fedora 4, and I get this;
>
> g++ -shared  grass57dataset.o -L/usr/local/grass-6.0.1/lib -lgrass_I
> -lgrass_vask -lgr ass_gmath -lgrass_gis -lgrass_datetime -lgrass_gproj
> -lgrass_vect -L/usr/local/lib -lg dal  -o gdal_GRASS.so
> /usr/bin/ld: cannot find -lgrass_I
> collect2: ld returned 1 exit status
> make: *** [gdal_GRASS.so] Error 1

Gus,

Do you have a libgrass_I.so or something similar in
/usr/local/grass-6.0.1/lib? I have:

ls -l /usr/local/grass-6.0.1/lib/libgrass_I*
-rwxr-xr-x  1 warmerda users 702124 Sep 30 16:45
/usr/local/grass-6.0.1/lib/libgrass_I.6.0.1.so
-rwxr-xr-x  1 warmerda users 298107 Sep 30 16:48
/usr/local/grass-6.0.1/lib/libgrass_Iortho.6.0.1.so
lrwxrwxrwx  1 warmerda users     24 Sep 30 16:57
/usr/local/grass-6.0.1/lib/libgrass_Iortho.so ->
libgrass_Iortho.6.0.1.so
lrwxrwxrwx  1 warmerda users     19 Sep 30 16:57
/usr/local/grass-6.0.1/lib/libgrass_I.so -> libgrass_I.6.0.1.so

Perhaps something is wrong in your GRASS install?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From s_jubeh at yahoo.com  Mon Feb  6 10:12:28 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Swig GDAL
Message-ID: <20060206151228.31076.qmail@web52705.mail.yahoo.com>

Hi all,
   
  Did any one swig gdal and create tcl interfaces to it.
   
  Regards
   
   
   

		
---------------------------------
Relax. Yahoo! Mail virus scanning helps detect nasty viruses!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060206/c55f89bf/attachment.html
From warmerdam at pobox.com  Mon Feb  6 10:31:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Swig GDAL
In-Reply-To: <20060206151228.31076.qmail@web52705.mail.yahoo.com>
References: <20060206151228.31076.qmail@web52705.mail.yahoo.com>
Message-ID: <931f8ea90602060731k378f8611kbc8ce7583a99ea8b@mail.gmail.com>

On 2/6/06, salah jubeh <s_jubeh@yahoo.com> wrote:
> Hi all,
>
> Did any one swig gdal and create tcl interfaces to it.

Salah,

I am not aware of any effort to produce Tcl bindings for
GDAL using SWIG.  We do have swig built interfaces
(of varying quality) for Python, Ruby, perl, Java, and c#.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From matt.wilkie at gov.yk.ca  Mon Feb  6 13:21:59 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal_translate Resampling?
In-Reply-To: <43E3FA0B.4030106@refractions.net>
References: <43E3FA0B.4030106@refractions.net>
Message-ID: <43E793C7.8050301@gov.yk.ca>

Chris Hodgson wrote:
> Is there a way to specify what kind of resampling gdal_translate should 
> use? It doesn't seem to be a parameter, yet it does do resampling as 
> necessary... seems like the option is missing.

	gdal_translate -co "Resample=Bilinear" ...

The options are 'Nearest, Bilinear, Cubic, CubicSpline' when the output 
is USGS-DEM/CDED. The docs say "Only has an effect when particular 
products like CDED50K are being produced. Defaults to Bilinear." But 
doesn't go on to say what the other formats might use the same option.
	http://gdal.maptools.org/frmt_usgsdem.html

Note: don't use Cubic or CubicSpline with images possessing nodata as 
the nodata is interpolated (Bug:793)
http://bugzilla.remotesensing.org/show_bug.cgi?id=793


cheers,


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From sewell at dramail.com  Mon Feb  6 14:23:31 2006
From: sewell at dramail.com (Ken Sewell)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
Message-ID: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>



I'm running off of the GDAL CVS (16 Jan) with the ecwsdk-3.2.11Jun2005 
package.  Gdal showed ecw support in the configure step. Both built and 
installed.  When I run gdalinfo on an ecw file I get the following:

ERROR 1: File open failed - 1
GDALOpen failed - 1
File open failed


This seems to be the relavent part of the strace dump:

open("Nellis_AFB_1m.aux", O_RDONLY)     = -1 ENOENT (No such file or directory)
open("Nellis_AFB_1m.aux", O_RDONLY)     = -1 ENOENT (No such file or directory)
open("Nellis_AFB_1m.ecw", O_RDONLY)     = 4
read(4, "e\2\1\2\10\4\0\0YV\0\0L\10\0\3\0\1\0@\0@\0\31\1\0\0\0\0"..., 8192) = 8192
close(4)                                = 0
mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|0x40, -1, 0) = 0x40000000
mprotect(0x40000000, 4096, PROT_NONE)   = 0
clone(child_stack=0x40800270, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x408009f0, tls=0x40800960, child_tidptr=0x408009f0) = 22081
futex(0x50edb8, FUTEX_WAKE, 1)          = 1
open("", O_RDONLY)                      = -1 ENOENT (No such file or directory)
open("", O_RDONLY)                      = -1 ENOENT (No such file or directory)
close(4294967295)                       = -1 EBADF (Bad file descriptor)
close(4294967295)                       = -1 EBADF (Bad file descriptor)
write(2, "ERROR 1: File open failed\n", 26) = 26
close(3)                                = 0
munmap(0x2aaaab06c000, 4096)            = 0
write(2, "GDALOpen failed - 1\nFile open failed", 37) = 37
sched_getparam(22081, { 0 })            = 0
sched_getscheduler(22081)               = 0 (SCHED_OTHER)
sched_yield()                           = 0
nanosleep({0, 1000}, NULL)              = 0


I'm running on SuSE 10.0/64-bit.  Can anyone shed some light on this for me?  Thanks.

Ken

From warmerdam at pobox.com  Mon Feb  6 14:59:02 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal_translate Resampling?
In-Reply-To: <43E793C7.8050301@gov.yk.ca>
References: <43E3FA0B.4030106@refractions.net> <43E793C7.8050301@gov.yk.ca>
Message-ID: <931f8ea90602061159v594b723alef8c1294b76e2bfb@mail.gmail.com>

On 2/6/06, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> Chris Hodgson wrote:
> > Is there a way to specify what kind of resampling gdal_translate should
> > use? It doesn't seem to be a parameter, yet it does do resampling as
> > necessary... seems like the option is missing.
>
>         gdal_translate -co "Resample=Bilinear" ...
>
> The options are 'Nearest, Bilinear, Cubic, CubicSpline' when the output
> is USGS-DEM/CDED. The docs say "Only has an effect when particular
> products like CDED50K are being produced. Defaults to Bilinear." But
> doesn't go on to say what the other formats might use the same option.
>         http://gdal.maptools.org/frmt_usgsdem.html
>
> Note: don't use Cubic or CubicSpline with images possessing nodata as
> the nodata is interpolated (Bug:793)
> http://bugzilla.remotesensing.org/show_bug.cgi?id=793

Chris,

Note the above is very specific to the USGSDEM writer.
Generally speaking nearest neighbour resampling is
always used by gdal_translate.

If you want to control resampling you should use gdalwarp.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb  6 15:35:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
Message-ID: <931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>

On 2/6/06, Ken Sewell <sewell@dramail.com> wrote:
>
>
> I'm running off of the GDAL CVS (16 Jan) with the ecwsdk-3.2.11Jun2005
> package.  Gdal showed ecw support in the configure step. Both built and
> installed.  When I run gdalinfo on an ecw file I get the following:
...
> I'm running on SuSE 10.0/64-bit.  Can anyone shed some light on this for me?  Thanks.

Ken,

You might want to verify that "gdalinfo --formats" lists
ECW format.  Also, I believe there is a 3.3 release
candidate available that would be better than the 3.2
version.  Lastly, I have not tried ECW on a 64bit machine
yet.  That might be a step too far in this case. :-)

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb  6 15:40:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Problem about reading S57 String Field
In-Reply-To: <8525455671985311801@unknownmsgid>
References: <8525455671985311801@unknownmsgid>
Message-ID: <931f8ea90602061240j7784a2fak85355d7a98ddf5c1@mail.gmail.com>

On 2/5/06, qyhu@mmc.shmtu.edu.cn <qyhu@mmc.shmtu.edu.cn> wrote:
> Hi all,
>
> I'm trying to read S57 files by using OGR,but every time when I read the
> name of light (OBJNAM field of LIGHTS layer), null is returned even the
> light has a name.Does anyone know how to solve the problem?

Hu,

If you are convinced that a particular object should
name a value in the OBJNAM field, then please
file a bug on the issue, and either attach the dataset
to the bug report, or email it directly to me if it is private
data.   The bug report will need to contain details of
what feature you think is missing the OBJNAM
value, and perhaps an indication of why you think that.

After confirming the value is missing with ogrinfo I
will next use 8211view (or even 8211dump) to inspect
the .000 file and try to find if the value is in it.  If so, I
will track through the code to find out where it gets
lost.

If you can show the same feature in an 8211view
report in the bug report, this will save me some time
tracking down the problem.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jeff.collins at vexcel.com  Mon Feb  6 18:06:00 2006
From: jeff.collins at vexcel.com (Jeffery D. Collins)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] histograms in vrts
Message-ID: <43E7D658.5070506@vexcel.com>

Hi all,

I have been experimenting with the new PAM implementation in 
gdal-1.3.1.   It looks very useful for carrying along metadata and 
georeferencing for those formats that do not support such data.  It also 
has the capability to store default histograms for each band in the 
associated dataset.  VRT files already support the former, but do not 
appear to support default histograms.  How difficult would it be to add 
such a feature?

-- 
Jeffery Collins



From warmerdam at pobox.com  Mon Feb  6 18:47:37 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] histograms in vrts
In-Reply-To: <43E7D658.5070506@vexcel.com>
References: <43E7D658.5070506@vexcel.com>
Message-ID: <931f8ea90602061547l60807118n1ab347810e8172ef@mail.gmail.com>

On 2/6/06, Jeffery D. Collins <jeff.collins@vexcel.com> wrote:
> Hi all,
>
> I have been experimenting with the new PAM implementation in
> gdal-1.3.1.   It looks very useful for carrying along metadata and
> georeferencing for those formats that do not support such data.  It also
> has the capability to store default histograms for each band in the
> associated dataset.  VRT files already support the former, but do not
> appear to support default histograms.  How difficult would it be to add
> such a feature?

Jeffery,

That is effectively a bug.  If you wouldn't mind
writing a bug report on it, I'll try and fixing it fairly
soon.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb  6 19:41:01 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ENVISAT data comes out left-right fliped
In-Reply-To: <43E3161C.7070508@acri-st.fr>
References: <20060130130128.GA20345@bartok.itc.it>
	<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>
	<43E26036.9000003@ualg.pt>
	<931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>
	<43E27B61.2080109@ualg.pt> <43E3161C.7070508@acri-st.fr>
Message-ID: <931f8ea90602061641h1a012957yae22b7557de9e01d@mail.gmail.com>

On 2/3/06, Julien Demaria <dem@acri-st.fr> wrote:
> Joaquim,
>
> This isn't a bug.
> MERIS Envisat files are geolocated using a GCPs list (in fact one GCP
> every 16 pixels). In the swath the file is left-right fliped, but it's
> the specifications. If you want apply the GCPs projection and then flip
> LR the file, you should use the gdalwarp GDAL utility:
> gdalwarp MER_RR__1_Mediterranean.n1 MER_RR__1_Mediterranean.tif
> (tested on Linux with FWTools-linux-1.0.0a7).
>
> I've successfully viewed your file using FWTools OpenEV (FWTools1.0.0a8
> on Windows). With it you can directly display (unflipped) your .n1 file
> since OpenEV reproject on-the-fly the file using GCPs :)

Joaquim,

Julien is dead-on in his analysis.  The images are
stored in a manner related to how they are collected,
but the geolocation info (GCPs) should allow you to
warp the image to north up if that is what you need.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From aykutkocak at superonline.com  Tue Feb  7 02:57:35 2006
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Simple SHP file creation with Python..
Message-ID: <43E852EF.7000201@superonline.com>

hi gdal users,

Could somebody suggest me any ptyhon example creating SHP files?

Thnx in advance


-- 
Aykut KO?AK

 Elektronik M?hendisi
(/Electronics Engineer/)
 
 E-Posta
(/E-Mail/ )

 aykutkocak@superonline.com
 http://www.kartoncozum.com


From mateusz at loskot.net  Tue Feb  7 03:15:02 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Simple SHP file creation with Python..
In-Reply-To: <43E852EF.7000201@superonline.com>
References: <43E852EF.7000201@superonline.com>
Message-ID: <43E85706.40404@loskot.net>

Aykut KO?AK wrote:
> hi gdal users,
> 
> Could somebody suggest me any ptyhon example creating SHP files?
> 

I hope tutorials below will be helpful:

http://zcologia.com/news/16
http://www.perrygeo.net/wordpress/?p=4

Those tutorials are not strictly OGR HOW-TOs but you will find there 
instructions how to create ESRI Shapefile with OGR from Python.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From aykutkocak at superonline.com  Tue Feb  7 07:03:33 2006
From: aykutkocak at superonline.com (=?UTF-8?B?QXlrdXQgS0/Dh0FL?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Simple SHP file creation with Python..API question
In-Reply-To: <43E85706.40404@loskot.net>
References: <43E852EF.7000201@superonline.com> <43E85706.40404@loskot.net>
Message-ID: <43E88C95.6040901@superonline.com>

Thanks those were very helpfull,

I have already written below code to update single point within a point 
type shape file, but it can not update the file.

I am not well experienced on OGR API yet!.

anybody comments on it ?

Aykut


import ogr,getopt,sys

shpfile='point.shp'
location='32.862450,39.966323'
(options, arguments) = getopt.getopt(sys.argv[1:], 
"l:f:h",["location=","file=","help"])
for (switch, val) in options:
if switch in ('-h', '--help'):
sys.stderr.write("usage: updateshp [-h] [-l] [--location] [-f] [--file]\n")
raise SystemExit,0
elif switch in ('-l','--location'):
location = val
elif switch in ('-f','--file'):
shpfile = val

def main():
global shpfile
global location
map=ogr.Open(shpfile,1)
layer=map.GetLayer(0)
ftr=layer.GetFeature(0)
geo_ref=ftr.GetGeometryRef()
geo=geo_ref.GetGeometryRef(0)
loc=location.split(',')
geo.SetPoint(0,float(loc[0]),float(loc[1]),0)
map.Release()
return
main()


Mateusz ?oskot wrote:

> Aykut KO?AK wrote:
>
>> hi gdal users,
>>
>> Could somebody suggest me any ptyhon example creating SHP files?
>>
>
> I hope tutorials below will be helpful:
>
> http://zcologia.com/news/16
> http://www.perrygeo.net/wordpress/?p=4
>
> Those tutorials are not strictly OGR HOW-TOs but you will find there 
> instructions how to create ESRI Shapefile with OGR from Python.
>
> Cheers



-- 
Aykut KO?AK

Elektronik M?hendisi
(/Electronics Engineer/)

E-Posta
(/E-Mail/ )

aykutkocak@superonline.com


From bartvde at xs4all.nl  Tue Feb  7 07:51:55 2006
From: bartvde at xs4all.nl (Bart van den Eijnden)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] release date
Message-ID: <9043.145.50.39.8.1139316715.squirrel@webmail.xs4all.nl>

Hi list,

when can we expect a new GDAL release (1.3.2?) ?

Best regards,
Bart


From s_jubeh at yahoo.com  Tue Feb  7 09:07:24 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Visual Studio
Message-ID: <20060207140724.29745.qmail@web52706.mail.yahoo.com>

I compiled GDAL using Visual Studio but i get an error with too tools "gdalinfo and gdal translate"
   
  gdalinfo error LNK2019: unresolved external symbol DALComputeRasterMinMax@12 referenced in function _main

  how this can be solved
   
   




Best Regard
 
Eng. Salah Al Jubeh

MCP,MCAD,MCSD 



Mobile:00306947192421

 



		
---------------------------------
Brings words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060207/0fead61a/attachment.html
From warmerdam at pobox.com  Tue Feb  7 09:09:54 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Simple SHP file creation with Python..API question
In-Reply-To: <43E88C95.6040901@superonline.com>
References: <43E852EF.7000201@superonline.com> <43E85706.40404@loskot.net>
	<43E88C95.6040901@superonline.com>
Message-ID: <931f8ea90602070609k1903382eqd8df6d7f99c157ba@mail.gmail.com>

On 2/7/06, Aykut KO?AK <aykutkocak@superonline.com> wrote:
>
> geo.SetPoint(0,float(loc[0]),float(loc[1]),0)
> map.Release()
> return
> main()

Aykut,

After updating the point geometry in your in-memory
feature, you need to push it back to the datastore to
save it.   Try adding something like:

  lyr.SetFeature( ftr )

after the SetPoint() call.

In place update of geometries in a shapefile is
relatively new and I only recently added test scripts
checking the capability.  Make sure you are using
at least GDAL/OGR 1.3.1.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Feb  7 09:31:31 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] release date
In-Reply-To: <9043.145.50.39.8.1139316715.squirrel@webmail.xs4all.nl>
References: <9043.145.50.39.8.1139316715.squirrel@webmail.xs4all.nl>
Message-ID: <931f8ea90602070631n68edd7d2ye4fc6e6009e029d5@mail.gmail.com>

On 2/7/06, Bart van den Eijnden <bartvde@xs4all.nl> wrote:
> Hi list,
>
> when can we expect a new GDAL release (1.3.2?) ?

Bart,

I hadn't really planned a release date, but I am getting
increasing pressure to have one. :-)

I will aim to have 1.3.2 out by the end of the month.
If possible I would like to include finished MySQL
Spatial support.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sewell at dramail.com  Tue Feb  7 10:06:05 2006
From: sewell at dramail.com (Ken Sewell)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>
Message-ID: <Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>


Yes, "gdalinfo --formats" does list "ECW (rw)"

I went ahead and downloaded the 3.3 RC1 and tried it on my 32-bit and my 
64-bit.  gdalinfo on both machines show ECW in the formats list.  ECW on 
the 32-bit seems to work, same error on the 64-bit.  The examples 
included with ecwsdk3.3rc1 do run on the 64-bit system.  I'm trying to 
dig further.  Is there an easy way to build a debug version of gdal?  I 
haven't found a config option or a makefile target to do this yet.

Ken

On Mon, 6 Feb 2006, Frank Warmerdam wrote:

> On 2/6/06, Ken Sewell <sewell@dramail.com> wrote:
> >
> >
> > I'm running off of the GDAL CVS (16 Jan) with the ecwsdk-3.2.11Jun2005
> > package.  Gdal showed ecw support in the configure step. Both built and
> > installed.  When I run gdalinfo on an ecw file I get the following:
> ...
> > I'm running on SuSE 10.0/64-bit.  Can anyone shed some light on this for me?  Thanks.
> 
> Ken,
> 
> You might want to verify that "gdalinfo --formats" lists
> ECW format.  Also, I believe there is a 3.3 release
> candidate available that would be better than the 3.2
> version.  Lastly, I have not tried ECW on a 64bit machine
> yet.  That might be a step too far in this case. :-)
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 

From charles.wivell at dnr.state.mn.us  Tue Feb  7 10:16:48 2006
From: charles.wivell at dnr.state.mn.us (Charles Wivell)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Re: regarding reading the NALPS NDF Data format to
	extract the Pixel data
Message-ID: <s3e8658d.050@co5.dnr.state.mn.us>


Hi Vijay;

Are you writing the code (in C++?).... If you are, it might be just as easy to write an NLAPS reader yourself....

Just parse the header file for the information you need. (such as)

BITS_PER_PIXEL=8;
PIXELS_PER_LINE=6725;
LINES_PER_DATA_FILE=5984;
NUMBER_OF_DATA_FILES=7;
DATA_FILE_INTERLEAVING=BSQ;

There are 7 bands to this image (DATA_FILE) and they are BSQ (but not really.... each band is in its own file .I1, .I2.....)


This is Byte data, so set up a memory buffer for each band:
unsigned char *BufferBand1;
BufferBand1 = new unsigned char[6725 * 5984];

Then read the data into the buffers....

Additional header information.....
UPPER_LEFT_CORNER=1021440.9717W,0353344.8107N,205903.465,3940265.465;
UPPER_RIGHT_CORNER=1000330.0455W,0351442.0994N,403711.109,3900729.474;
LOWER_RIGHT_CORNER=1002504.2293W,0333915.2393N,368532.074,3724720.680;
LOWER_LEFT_CORNER=1023348.1216W,0335802.3159N,170724.430,3764256.671;

MAP_PROJECTION_NAME=UTM;
USGS_PROJECTION_NUMBER=1;
USGS_MAP_ZONE=14;

The corner information is just: Longitude, Latitude, Easting, Northing
The Format: Longitude: DDDMMSS.SSS(EorW), Latitude: DDDMMSS.SSS (NorS), Easting in meters, Northing in meters

PIXEL_SPACING=30.0000,30.0000;
PIXEL_SPACING_UNITS=METERS;

The size of each pixel is 30 meters by 30 meters, so to find the Easting and Northing values... For each line you move through the image,
just subtract off 30 meters from Northing of the Upper left corner and for each pixel, add 30 meters to the Easting of the Upper left corner.

To get the pixel value at a point in the image....

unsigned char PixelValue;

int PixelLocation;

PixelLoction = line * nPixelsInLine + pixel;
PixelValue = BufferBand1[PixelLocation];

USGS_PROJECTION_PARAMETERS=6378137.000000000000000,6356752.314249999800000

6378137.0 is the semi-major axis of the ellipsoid and 6356752.3142499998 is the semi-minor axis of the ellipsoid and would be needed if you want to convert Easting/Northing to lat/Lon...

If you want to convert Northing/Easting to Latitude/Longitude, you can use libraries like GCTP (which is in C), which is what I use... I converted the UTM projection routines to C++;

Hope that helps

Chuck



>>> Vijay Akkineni <akkineni.vijay@gmail.com> 02/06/06 6:09 PM >>>
HiFrank,

            I tried  to import the landsat 5 images which are in NDF Format
to grass .I am not familliar how to do that in grass . I tried doing with
r.in.gdal but i was unsucesfull . The images i have got are in the format
below...

09/10/2005  06:45 AM             2,820 LT5030036000519410.H1 <-- Header
File.
09/10/2005  06:43 AM            83,701 LT5030036000519410.HI
09/10/2005  06:43 AM        40,242,400 LT5030036000519410.I1
09/10/2005  06:43 AM        40,242,400 LT5030036000519410.I2
09/10/2005  06:44 AM        40,242,400 LT5030036000519410.I3
09/10/2005  06:44 AM        40,242,400 LT5030036000519410.I4
09/10/2005  06:44 AM        40,242,400 LT5030036000519410.I5
09/10/2005  06:44 AM        40,242,400 LT5030036000519410.I6
09/10/2005  06:45 AM        40,242,400 LT5030036000519410.I7
09/10/2005  06:43 AM            14,577 LT5030036000519410.WO
09/10/2005  06:45 AM            15,298 README.TXT

I am attaching the header file so that u can have a  look at it . Can u tell
me the procedure to do it . What i am trying to do is that i need the
information of the pixels along with latitude and longitude . How can i do
the extraction of the information . Sorry For troubling you frank.  I have
no idea about GIS.

Regards,
Vijay Akkineni.



From warmerdam at pobox.com  Tue Feb  7 10:45:36 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Visual Studio
In-Reply-To: <20060207140724.29745.qmail@web52706.mail.yahoo.com>
References: <20060207140724.29745.qmail@web52706.mail.yahoo.com>
Message-ID: <931f8ea90602070745l9f15425k65da582080f9d8c3@mail.gmail.com>

On 2/7/06, salah jubeh <s_jubeh@yahoo.com> wrote:
>
> I compiled GDAL using Visual Studio but i get an error with too tools "gdalinfo and gdal translate"
>
> gdalinfo error LNK2019: unresolved external symbol DALComputeRasterMinMax@12 referenced in function _main

Salah,

Was this a build done with the nmake makefiles?    Or are
you making your own studio project file?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Feb  7 11:00:51 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>
	<Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>
Message-ID: <931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>

On 2/7/06, Ken Sewell <sewell@dramail.com> wrote:
>
> Yes, "gdalinfo --formats" does list "ECW (rw)"
>
> I went ahead and downloaded the 3.3 RC1 and tried it on my 32-bit and my
> 64-bit.  gdalinfo on both machines show ECW in the formats list.  ECW on
> the 32-bit seems to work, same error on the 64-bit.  The examples
> included with ecwsdk3.3rc1 do run on the 64-bit system.  I'm trying to
> dig further.  Is there an easy way to build a debug version of gdal?  I
> haven't found a config option or a makefile target to do this yet.

Ken,

How to build GDAL in debug mode is a closely guarded secret.
But if you promise not to tell anyone else, I'll pass it on.

Set the CFG environment variable to debug before building and
the debug options will be used.

eg.
$ export CFG=debug
$ make

Remember, it's secret.  I do this in a completely nonstandard
way to ensure no one but me (and now you) can debug GDAL.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From s_jubeh at yahoo.com  Tue Feb  7 11:08:42 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Visual Studio
In-Reply-To: <931f8ea90602070745l9f15425k65da582080f9d8c3@mail.gmail.com>
Message-ID: <20060207160842.55949.qmail@web52708.mail.yahoo.com>


Thank you frank for replaying 
  
 I downloaded  visual  studio solution form the net. and i was able to compile GDAL with it my  problem is compiling gdaltranslate and gdalinfo , i want to change some  code in gdal translate because the resulting ascii file missing a tag  which is nodatavalue
  
  i think this is a bug in the tool itself, 
  
  
  
  
Frank Warmerdam <warmerdam@pobox.com> wrote:  On 2/7/06, salah jubeh  wrote:
>
> I compiled GDAL using Visual Studio but i get an error with too tools "gdalinfo and gdal translate"
>
> gdalinfo error LNK2019: unresolved external symbol DALComputeRasterMinMax@12 referenced in function _main

Salah,

Was this a build done with the nmake makefiles?    Or are
you making your own studio project file?

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent





Best Regard
 
Eng. Salah Al Jubeh

MCP,MCAD,MCSD 



Mobile:00306947192421

 



		
---------------------------------
Brings words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060207/48d25402/attachment.html
From warmerdam at pobox.com  Tue Feb  7 11:20:05 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Visual Studio
In-Reply-To: <20060207160842.55949.qmail@web52708.mail.yahoo.com>
References: <931f8ea90602070745l9f15425k65da582080f9d8c3@mail.gmail.com>
	<20060207160842.55949.qmail@web52708.mail.yahoo.com>
Message-ID: <931f8ea90602070820v712109c7o66aa49cd5127db24@mail.gmail.com>

On 2/7/06, salah jubeh <s_jubeh@yahoo.com> wrote:
>
> Thank you frank for replaying
>
>  I downloaded  visual  studio solution form the net. and i was able to compile GDAL with it my  problem is compiling gdaltranslate and gdalinfo , i want to change some  code in gdal translate because the resulting ascii file missing a tag  which is nodatavalue
>
>   i think this is a bug in the tool itself,

Salah,

Ah, OK.  If you have build problems with the solution
file then I'm off the hook!   I only (attempt) to support use
of the the nmake base makefiles.

If you provide details on the nodata problem, this may be
something I could fix.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jluis at ualg.pt  Tue Feb  7 11:38:18 2006
From: jluis at ualg.pt (jluis)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ENVISAT data comes out left-right fliped
In-Reply-To: <931f8ea90602061641h1a012957yae22b7557de9e01d@mail.gmail.com>
References: <20060130130128.GA20345@bartok.itc.it>	
	<931f8ea90601301920u22c1c2ccs31c0ca68009d54e6@mail.gmail.com>	
	<43E26036.9000003@ualg.pt>	
	<931f8ea90602021227m6c8cfe06jb7e2a609e635d412@mail.gmail.com>	
	<43E27B61.2080109@ualg.pt> <43E3161C.7070508@acri-st.fr>
	<931f8ea90602061641h1a012957yae22b7557de9e01d@mail.gmail.com>
Message-ID: <43E8CCFA.8050706@ualg.pt>

Frank Warmerdam wrote:
> On 2/3/06, Julien Demaria <dem@acri-st.fr> wrote:
> 
>>Joaquim,
>>
>>This isn't a bug.
>>MERIS Envisat files are geolocated using a GCPs list (in fact one GCP
>>every 16 pixels). In the swath the file is left-right fliped, but it's
>>the specifications. If you want apply the GCPs projection and then flip
>>LR the file, you should use the gdalwarp GDAL utility:
>>gdalwarp MER_RR__1_Mediterranean.n1 MER_RR__1_Mediterranean.tif
>>(tested on Linux with FWTools-linux-1.0.0a7).
>>
>>I've successfully viewed your file using FWTools OpenEV (FWTools1.0.0a8
>>on Windows). With it you can directly display (unflipped) your .n1 file
>>since OpenEV reproject on-the-fly the file using GCPs :)
> 
> 
> Joaquim,
> 
> Julien is dead-on in his analysis.  The images are
> stored in a manner related to how they are collected,
> but the geolocation info (GCPs) should allow you to
> warp the image to north up if that is what you need.
> 

Frank and Julien,
Thanks.
I had some troubles with my mail and this subject slipped without acknowledgment.
Now that I now it I added a test (if ESAT) on my code to read it flipped.
I have not (yet?) implemented a warp facilitie to this importing code.

Joaquim Luis

From mateusz at loskot.net  Tue Feb  7 12:03:55 2006
From: mateusz at loskot.net (=?ISO-8859-2?Q?Mateusz_=A3oskot?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ogr_miattrind.cpp dependency
In-Reply-To: <931f8ea90602060537w21ff4d98y6d81064b87778798@mail.gmail.com>
References: <43E704CC.5050008@loskot.net>
	<931f8ea90602060537w21ff4d98y6d81064b87778798@mail.gmail.com>
Message-ID: <43E8D2FB.8030500@loskot.net>

Frank Warmerdam wrote:
> On 2/6/06, Mateusz ?oskot <mateusz@loskot.net> wrote:
> 
>>Hi,
>>
>>As I revealed ogr\ogrsf_frmts\generic\ogr_miattrind.cpp file
>>is dedicated to MapInfo and has nothing to do with other drivers.
>>Am I right?
>>
>>If I am, then why it seems to be required dependency even if I want to
>>build only shapefile support.
>>Generic OGRLayer::InitializeIndexSupport
>>calls OGRCreateDefaultLayerIndex and the only implementation of
>>OGRCreateDefaultLayerIndex function is available from ogr_miattrind.cpp
>>file:
>>
>>OGRLayerAttrIndex *OGRCreateDefaultLayerIndex()
>>{
>>     return new OGRMILayerAttrIndex();
>>}
>>
>>But as I said, ogr_miattrind.cpp is coupled with MapInfo driver, so
>>currently there is no way to build OGR with shapefile driver but without
>>MapInfo driver.
>>Am I right or I've missed something while analysing OGR sources.
> 
> 
> Mateusz,
> 
> You are correct that you cannot currently build the shapefile
> driver without also having the mapinfo driver.  The ogr_mitattrind.cpp
> implements a "generic" attribute indexing mechanism that other
> drivers can use.  But it is implemented using mapinfo TAB format,
> hence the dependency.  Currently only the shapefile driver uses
> this indexing mechanism.

I understand.


> I think the best solution to this would be to add some sort
> of build/preprocessor magic so that if the mapinfo driver isn't
> included in a build, the attribute indexing will also be dropped.
> This may be a bit messy.

Do you think it's something recommended or expected by other users?
Or there is no problem with current state of this configuration?

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From nbarker at rsinc.com  Tue Feb  7 12:09:40 2006
From: nbarker at rsinc.com (Norman Barker)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <B67A5FB7A8114B47A70517C9C0D102E8131729@bath.uk.rsinc.com>



-----Original Message-----
From: Collins, Benjamin [mailto:collinsb@mitre.org]
Sent: Friday, February 03, 2006 3:57 PM
To: Norman Barker; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Java SWIG bindings


LD_SHARED is often not definied in GDALmake.opt after a ./configure
(for some reason).  I have temporarily solved the problem for GNU
platforms by changing the target to call LD and use the -shared flag.
This, as well as the hard-coded -fPIC flag, will not translate to other
platforms; be warned.

A CVS update should solve the problem in your case.
--
Ben Collins

-----Original Message-----
From: Norman Barker [mailto:nbarker@rsinc.com] 
Sent: Friday, February 03, 2006 10:47 AM
To: Collins, Benjamin; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Java SWIG bindings



-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Collins,
Benjamin
<snip>
3.  Import what you need of gdal.jar into your source and go!  An
example is in the apps directory and is called gdalinfo.java.  Here's
how to get it running:
 - Go into the apps directory.
 - Compile with 'javac -classpath ../gdal.jar gdalinfo.java'
 - Run with 'java -cp ../gdal.jar -Djava.library.path=../.libs/
gdalinfo <filename>'

</snip>

Hi Ben,

I have managed to compile the bindings, get the jar file etc. and run java -cp .:../gdal.jar -Djava.library.path=..:../libs/ gdalinfo dataname and it kind of works.

However it complains of  Unable to load PROJ.4 library, and even adding /usr/local/lib to java.library.path doesn't help.  Is this something you have come accross?

Reading the JavaDocs, the use of NIO should make the data transfer fast, so I am looking forward to getting it working.

thanks,

Norman


From s_jubeh at yahoo.com  Tue Feb  7 13:37:53 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdaltranslate
Message-ID: <20060207183753.50206.qmail@web52705.mail.yahoo.com>

Hi
  
  I am using gdal translate to translate files to Ascii format i face a  problem in ascii tags one of the tags is missing which is  "NODATA_value".
  
  is it abug or not and how i can fix it.
  
  
  



Best Regard
 
Eng. Salah Al Jubeh

MCP,MCAD,MCSD 



Mobile:00306947192421

 



		
---------------------------------
Brings words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060207/2ca74874/attachment.html
From bill at binko.net  Tue Feb  7 13:53:32 2006
From: bill at binko.net (Bill Binko)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>	<Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>
	<931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
Message-ID: <43E8ECAC.2010200@binko.net>

To quote "The Wolf" from "Pulp Fiction"

"Pretty Please, with a cherry on top: fix the F*)(&ing Debug Build."

Seriously, I've known this secret for a while (and I won't reveal who 
squealed), but it's a pain in the ass when you forget it..

:)

Bill

Frank Warmerdam wrote:

>On 2/7/06, Ken Sewell <sewell@dramail.com> wrote:
>  
>
>>Yes, "gdalinfo --formats" does list "ECW (rw)"
>>
>>I went ahead and downloaded the 3.3 RC1 and tried it on my 32-bit and my
>>64-bit.  gdalinfo on both machines show ECW in the formats list.  ECW on
>>the 32-bit seems to work, same error on the 64-bit.  The examples
>>included with ecwsdk3.3rc1 do run on the 64-bit system.  I'm trying to
>>dig further.  Is there an easy way to build a debug version of gdal?  I
>>haven't found a config option or a makefile target to do this yet.
>>    
>>
>
>Ken,
>
>How to build GDAL in debug mode is a closely guarded secret.
>But if you promise not to tell anyone else, I'll pass it on.
>
>Set the CFG environment variable to debug before building and
>the debug options will be used.
>
>eg.
>$ export CFG=debug
>$ make
>
>Remember, it's secret.  I do this in a completely nonstandard
>way to ensure no one but me (and now you) can debug GDAL.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>  
>


From warmerdam at pobox.com  Tue Feb  7 14:25:36 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdaltranslate
In-Reply-To: <20060207183753.50206.qmail@web52705.mail.yahoo.com>
References: <20060207183753.50206.qmail@web52705.mail.yahoo.com>
Message-ID: <931f8ea90602071125t60249ec3r509c97e145544f8@mail.gmail.com>

On 2/7/06, salah jubeh <s_jubeh@yahoo.com> wrote:
> Hi
>
>   I am using gdal translate to translate files to Ascii format i face a  problem in ascii tags one of the tags is missing which is  "NODATA_value".
>
>   is it abug or not and how i can fix it.

Salah,

Within the last week or so I extended the ASCII Grid
(AAIGRID) driver to support putting the NODATA keyword
in the output .hdr file.  So, if you are building from source,
do grab the latest CVS snapshot.

Note, I emit the keyword NODATA, rather than NODATA_value.
I'm not sure why both exist, but the reader will accept either.
However, the whitepaper I have, and allmost all the examples
just use NODATA so I had the writer produce that.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sewell at dramail.com  Tue Feb  7 14:40:02 2006
From: sewell at dramail.com (Ken Sewell)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail> 
	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com> 
	<Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>
	<931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
Message-ID: <Pine.LNX.4.61.0602071432390.12516@primary-server.dramail>



Ok, I've traced through gdalinfo.  For anyone who's interested I found 
that gdb seems to get stuck in libecwj2-3.3/Source/C/NCSUtil/mutex.c in 
the function NCSMutexEnd:265 with the call to

pthread_mutex_unlock(&(pMutex->m));

After that point I get a 

Cannot access memory at 0x7fffffff4fb0

and gdb won't go on.  I'm not very knowledgable with pthreads, so I'm not 
sure what else I can do at this point.  Since it seems like a libecw 
issue at this point so I'm going to list it on the ecwsdk 3.3RC1 feedback 
page.  Unless any pthread guru's have any advice, I guess GDAL/ECW will 
have to go onto the back burner until ecwsdk 3.3rc2.

Ken

On Tue, 7 Feb 2006, Frank Warmerdam wrote:

> On 2/7/06, Ken Sewell <sewell@dramail.com> wrote:
> >
> > Yes, "gdalinfo --formats" does list "ECW (rw)"
> >
> > I went ahead and downloaded the 3.3 RC1 and tried it on my 32-bit and my
> > 64-bit.  gdalinfo on both machines show ECW in the formats list.  ECW on
> > the 32-bit seems to work, same error on the 64-bit.  The examples
> > included with ecwsdk3.3rc1 do run on the 64-bit system.  I'm trying to
> > dig further.  Is there an easy way to build a debug version of gdal?  I
> > haven't found a config option or a makefile target to do this yet.
> 
> Ken,
> 
> How to build GDAL in debug mode is a closely guarded secret.
> But if you promise not to tell anyone else, I'll pass it on.
> 
> Set the CFG environment variable to debug before building and
> the debug options will be used.
> 
> eg.
> $ export CFG=debug
> $ make
> 
> Remember, it's secret.  I do this in a completely nonstandard
> way to ensure no one but me (and now you) can debug GDAL.
> 
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 

From matt.wilkie at gov.yk.ca  Tue Feb  7 14:43:29 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] harmonize ogrinfo extents reporting (gdal utilities)
Message-ID: <43E8F861.6000602@gov.yk.ca>

Hi,

I'm trying to use ogrinfo to get the extents of a shapefile and then 
clip a raster to match using gdal_translate. Both datasets are in the 
same projection. However the numbers returned by ogrinfo aren't in the 
same order as that exptected by gdal_translate's -projwin.

I'm forever getting it wrong the first two or three times when I try and 
do the mental flipflops to get the numbers right for gdal_translate. 
Would it be possible to get ogr to return in the same order as gdal 
expects? Or can someone tell me what the ogr order is right now and I 
can do up a cheat sheet?

thanks :)


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From bfraser at geoanalytic.com  Tue Feb  7 15:09:24 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>
	<Pine.LNX.4.61.0602061606130.20868@primary-server.dramail><931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
	<Pine.LNX.4.61.0602071432390.12516@primary-server.dramail>
Message-ID: <0a0e01c62c22$63ea0870$160002c0@shark>

Ken,

  I think RC2 was released today
(http://www.ermapper.com/downloads/download_view.aspx?PRODUCT_VERSION_ID=288
)

Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada

----- Original Message ----- 
From: "Ken Sewell" <sewell@dramail.com>
To: "GDAL" <gdal-dev@lists.maptools.org>
Sent: Tuesday, February 07, 2006 12:40 PM
Subject: Re: [Gdal-dev] ECW File open failed


>
>
> Ok, I've traced through gdalinfo.  For anyone who's interested I found
> that gdb seems to get stuck in libecwj2-3.3/Source/C/NCSUtil/mutex.c in
> the function NCSMutexEnd:265 with the call to
>
> pthread_mutex_unlock(&(pMutex->m));
>
> After that point I get a
>
> Cannot access memory at 0x7fffffff4fb0
>
> and gdb won't go on.  I'm not very knowledgable with pthreads, so I'm not
> sure what else I can do at this point.  Since it seems like a libecw
> issue at this point so I'm going to list it on the ecwsdk 3.3RC1 feedback
> page.  Unless any pthread guru's have any advice, I guess GDAL/ECW will
> have to go onto the back burner until ecwsdk 3.3rc2.
>
> Ken
>
> On Tue, 7 Feb 2006, Frank Warmerdam wrote:
>
> > On 2/7/06, Ken Sewell <sewell@dramail.com> wrote:
> > >
> > > Yes, "gdalinfo --formats" does list "ECW (rw)"
> > >
> > > I went ahead and downloaded the 3.3 RC1 and tried it on my 32-bit and
my
> > > 64-bit.  gdalinfo on both machines show ECW in the formats list.  ECW
on
> > > the 32-bit seems to work, same error on the 64-bit.  The examples
> > > included with ecwsdk3.3rc1 do run on the 64-bit system.  I'm trying to
> > > dig further.  Is there an easy way to build a debug version of gdal?
I
> > > haven't found a config option or a makefile target to do this yet.
> >
> > Ken,
> >
> > How to build GDAL in debug mode is a closely guarded secret.
> > But if you promise not to tell anyone else, I'll pass it on.
> >
> > Set the CFG environment variable to debug before building and
> > the debug options will be used.
> >
> > eg.
> > $ export CFG=debug
> > $ make
> >
> > Remember, it's secret.  I do this in a completely nonstandard
> > way to ensure no one but me (and now you) can debug GDAL.
> >
> > Best regards,
> > --
>
> ---------------------------------------+----------------------------------
----
> > I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam
> > and watch the world go round - Rush    | Geospatial Programmer for Rent
> >
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue Feb  7 15:16:50 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <Pine.LNX.4.61.0602071432390.12516@primary-server.dramail>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>
	<Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>
	<931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
	<Pine.LNX.4.61.0602071432390.12516@primary-server.dramail>
Message-ID: <931f8ea90602071216i1ffb22cat7c676b160547f90@mail.gmail.com>

On 2/7/06, Ken Sewell <sewell@dramail.com> wrote:
>
>
> Ok, I've traced through gdalinfo.  For anyone who's interested I found
> that gdb seems to get stuck in libecwj2-3.3/Source/C/NCSUtil/mutex.c in
> the function NCSMutexEnd:265 with the call to
>
> pthread_mutex_unlock(&(pMutex->m));
>
> After that point I get a
>
> Cannot access memory at 0x7fffffff4fb0
>
> and gdb won't go on.  I'm not very knowledgable with pthreads, so I'm not
> sure what else I can do at this point.  Since it seems like a libecw
> issue at this point so I'm going to list it on the ecwsdk 3.3RC1 feedback
> page.  Unless any pthread guru's have any advice, I guess GDAL/ECW will
> have to go onto the back burner until ecwsdk 3.3rc2.

Ken,

This does sound like the sort of problem that might be
fixed in the next ECW SDK release.

Best regards,

--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Feb  7 15:22:52 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] harmonize ogrinfo extents reporting (gdal utilities)
In-Reply-To: <43E8F861.6000602@gov.yk.ca>
References: <43E8F861.6000602@gov.yk.ca>
Message-ID: <931f8ea90602071222k37c0030apf731f4087ce74384@mail.gmail.com>

On 2/7/06, Matt Wilkie <matt.wilkie@gov.yk.ca> wrote:
> Hi,
>
> I'm trying to use ogrinfo to get the extents of a shapefile and then
> clip a raster to match using gdal_translate. Both datasets are in the
> same projection. However the numbers returned by ogrinfo aren't in the
> same order as that exptected by gdal_translate's -projwin.
>
> I'm forever getting it wrong the first two or three times when I try and
> do the mental flipflops to get the numbers right for gdal_translate.
> Would it be possible to get ogr to return in the same order as gdal
> expects? Or can someone tell me what the ogr order is right now and I
> can do up a cheat sheet?

Matt,

I hesitate to change the ordering now, for fear of messing
people up who have come to expect the current order.

ogrinfo reports:
  xmin ymin xmax ymax

-projwin requires
  ulx uly lrx lry

xmin = ulx
ymin = lry
xmax = lrx
ymax = uly

If that helps

Best regards,

--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rcontreras_jimenez at hotmail.com  Mon Feb  6 12:34:09 2006
From: rcontreras_jimenez at hotmail.com (Roberto Carlos Contreras Jimenez)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] problems whit installation
Message-ID: <BAY24-F19B1F668F1BE8E8FA45CADF90E0@phx.gbl>

Helo. I have a problem, each time what  I install "gdal-bin-1.3.0-1.i386.rpm 
" showme the next sentence:
no install de next file "gdal-bin - 1.3.0-1", When i try install "  
gdal-python-1.3.0-1.i386.rpm" showme "gdal-python - 1.3.0-1". why. i dont 
understud.please I meed  help.
thakyou

att
Roberto

_________________________________________________________________
Consigue aqu? las mejores y mas recientes ofertas de trabajo en Am?rica 
Latina y USA: http://latam.msn.com/empleos/


From tflynch at gmail.com  Wed Feb  8 01:36:06 2006
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW File open failed
In-Reply-To: <0a0e01c62c22$63ea0870$160002c0@shark>
References: <Pine.LNX.4.61.0602061417450.20868@primary-server.dramail>
	<931f8ea90602061235t753d9afbpabc946558816183b@mail.gmail.com>
	<Pine.LNX.4.61.0602061606130.20868@primary-server.dramail>
	<931f8ea90602070800x4a5932c4jc798ed5d87827828@mail.gmail.com>
	<Pine.LNX.4.61.0602071432390.12516@primary-server.dramail>
	<0a0e01c62c22$63ea0870$160002c0@shark>
Message-ID: <c39b2a650602072236o571a076fta721d334194d3bab@mail.gmail.com>

Hi all,

Please do not download that preliminary cut of RC2 (actually, it's no
longer available).  I was just fooling about with our download
management system, a flaw in which happened to expose a new
distribution.  As you may have noticed, the download page was not
linked to from anywhere on the ER Mapper site.  I imagine it would've
required a fair bit of enthusiasm to actually find :-)

I will be putting up the actual cut later this afternoon (Australian
time), with which I've been using GDAL with a fair degree of success.

Ken, earlier today I had access to a Suse 64-bit machine and was able
to verify that the SDK built correctly and all the sample code that
ships with it ran correctly, or at least as far as I was able to
establish that without running large compressions.  I have not tested
against GDAL on that platform, but it wouldn't surprise me if I
obtained a similar result.

This release candidate is not intended to provide 64-bit support on
Linux, however if you bear with us the source tree should be available
on public CVS before too long, at which point patches will be
available more readily.

Thanks for your patience, guys.

Tom.

On 2/8/06, Brent Fraser <bfraser@geoanalytic.com> wrote:
> Ken,
>
>   I think RC2 was released today
> (http://www.ermapper.com/downloads/download_view.aspx?PRODUCT_VERSION_ID=288

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From s_jubeh at yahoo.com  Wed Feb  8 03:14:23 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] cvs
Message-ID: <20060208081423.33077.qmail@web52703.mail.yahoo.com>

Hi guys
   
  I am using the cvs utility for the first time, i want to know how can i access GDAL repository and compile it from cvs

		
---------------------------------
Relax. Yahoo! Mail virus scanning helps detect nasty viruses!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060208/76a559ca/attachment.html
From lists at b-open-solutions.it  Wed Feb  8 05:26:08 2006
From: lists at b-open-solutions.it (Alessandro Amici)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] cvs
In-Reply-To: <20060208081423.33077.qmail@web52703.mail.yahoo.com>
References: <20060208081423.33077.qmail@web52703.mail.yahoo.com>
Message-ID: <200602081126.08240.lists@b-open-solutions.it>


salah,

Alle 09:14, mercoled? 8 febbraio 2006, salah jubeh ha scritto:
>   I am using the cvs utility for the first time, i want to know how
> can i access GDAL repository

http://www.gdal.org/download.html

> and compile it from cvs 

http://www.gdal.org/gdal_building.html

you may also wish to check out the chapter "Before You Ask" of:

http://www.catb.org/~esr/faqs/smart-questions.html

cheers,
alessnadro

-- 
B-Open Solutions srl - http://www.bopen.it/
Sicurezza informatica e software Open Source su:
-- http://www.bopen.it/newsletter/200502/ --


From tflynch at gmail.com  Wed Feb  8 05:28:37 2006
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
Message-ID: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>

Hello,

I've put up release candidate 2 of the ECW JPEG 2000 SDK 3.3 now.  It
fixes quite a few major problems in the first release candidate.  I
hope you have a good experience with it, and if you have any feedback
on it, negative or positive, please feel free to get in touch either
on the GDAL list, which I am monitoring, or via private email.

http://www.ermapper.com/downloads/download_view.aspx?PRODUCT_VERSION_ID=288

Tom.

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From dpinte at itae.be  Wed Feb  8 05:51:44 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] LinearRing and GetGeometryType
Message-ID: <1139395904.7280.31.camel@geru-itae>

Hi,

I'm using the Python interface to OGR, but the problem will be
encountered in all the languages

As a subclass of OGRLineString, when calling geometry.GetGeometryType()
on a OGRLinearRing object, it returns ogr.wkbLineString type and not an
ogr.wkbLinearRing type.

It this behaviour normal ? or should it be modified ?

What should be the best fix for this problem ? 

[1] implement GetGeometryType in OGRLinearString ?
[2] if the current behaviour is the right way to do it, just fix it in
my ogr.py file redefining the GetGeometryType for the LinearRing
objects ?

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060208/b6f26e6d/attachment.bin
From collinsb at mitre.org  Wed Feb  8 09:44:42 2006
From: collinsb at mitre.org (Collins, Benjamin)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Java SWIG bindings
Message-ID: <8D27E2CDAF11D34F97E7445BCCCDB92CA28FBE@IMCSRV1.MITRE.ORG>


>-----Original Message-----
>From: gdal-dev-bounces@lists.maptools.org 
>[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Norman
Barker
>Sent: Tuesday, February 07, 2006 12:10 PM
>To: gdal-dev@lists.maptools.org
>Subject: RE: [Gdal-dev] Java SWIG bindings
>Hi Ben,
>
>I have managed to compile the bindings, get the jar file etc. 
>and run java -cp .:../gdal.jar -Djava.library.path=..:../libs/ 
>gdalinfo dataname and it kind of works.
>
>However it complains of  Unable to load PROJ.4 library, and 
>even adding /usr/local/lib to java.library.path doesn't help.  
>Is this something you have come accross?
>
>Reading the JavaDocs, the use of NIO should make the data 
>transfer fast, so I am looking forward to getting it working.
>
>thanks,
>
>Norman
>

Anyone with similar issues should note that Proj is loaded dynamically
(by gdal, not java) and needs to be on the OSs library path.  This can
be accomplished simply by setting the environment variable
LD_LIBRARY_PATH=/usr/local/bin.  A better way would be to add the path
into the /etc/ld.so.conf file and regen the ld.so.cache with
/sbin/ldconfig.

See man page (or google) for ldconfig.

If there be a better way, please let me know.
--
Ben


From aykutkocak at superonline.com  Wed Feb  8 10:23:18 2006
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGR Geometry Contains() function
Message-ID: <43EA0CE6.3040700@superonline.com>

Hi there,

In OGR object tree, is there any chance to adjust some kind of treshold 
for Contains() and similar compare functions? I have some data collected 
with GPS which has got 20 - 40 meters difference from my LINESTRINGs and 
I'd like to match these 2 datasets with a accuracy of eg.30 meters. 

P.S. : using python

BR

-- 
Aykut KO?AK

 Elektronik M?hendisi
(/Electronics Engineer/)
 
 E-Posta
(/E-Mail/ )

 aykutkocak@superonline.com


From mateusz at loskot.net  Wed Feb  8 10:36:06 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGR Geometry Contains() function
In-Reply-To: <43EA0CE6.3040700@superonline.com>
References: <43EA0CE6.3040700@superonline.com>
Message-ID: <43EA0FE6.7020700@loskot.net>

Aykut KO?AK wrote:
> Hi there,
> 
> In OGR object tree, is there any chance to adjust some kind of treshold 
> for Contains() and similar compare functions? I have some data collected 
> with GPS which has got 20 - 40 meters difference from my LINESTRINGs and 
> I'd like to match these 2 datasets with a accuracy of eg.30 meters.
> P.S. : using python

Take a look at OGRGeometry::Buffer or geos::Geometry::buffer

http://www.gdal.org/ogr/classOGRGeometry.html#ce5cb0b6728fa36d7e8e8a679244640c
http://geos.refractions.net/ro/doxygen_docs/html/classgeos_1_1Geometry.html#a40

They will return buffer as object of type of geometry and then you can 
perform spatial relations checks.

I'm not sure they are exposed for Python.
Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From dpinte at itae.be  Wed Feb  8 11:09:04 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGR Geometry Contains() function
In-Reply-To: <43EA0FE6.7020700@loskot.net>
References: <43EA0CE6.3040700@superonline.com> <43EA0FE6.7020700@loskot.net>
Message-ID: <1139414944.7280.34.camel@geru-itae>

Le mercredi 08 f?vrier 2006 ? 16:36 +0100, Mateusz ?oskot a ?crit :
> 
> http://www.gdal.org/ogr/classOGRGeometry.html#ce5cb0b6728fa36d7e8e8a679244640c
> http://geos.refractions.net/ro/doxygen_docs/html/classgeos_1_1Geometry.html#a40
> 
> They will return buffer as object of type of geometry and then you can 
> perform spatial relations checks.
> 
> I'm not sure they are exposed for Python.

They are exposed in Python :

did@geru-itae:~/$ python
Python 2.3.5 (#2, Nov 20 2005, 16:40:39)
[GCC 4.0.3 20051111 (prerelease) (Debian 4.0.2-4)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import ogr
>>> help(ogr.Geometry.Buffer)

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060208/8ff970a0/attachment.bin
From warmerdam at pobox.com  Wed Feb  8 11:10:26 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGR Geometry Contains() function
In-Reply-To: <43EA0CE6.3040700@superonline.com>
References: <43EA0CE6.3040700@superonline.com>
Message-ID: <931f8ea90602080810u4a554fcdq37579d8bdb0e63da@mail.gmail.com>

On 2/8/06, Aykut KO?AK <aykutkocak@superonline.com> wrote:
> Hi there,
>
> In OGR object tree, is there any chance to adjust some kind of treshold
> for Contains() and similar compare functions? I have some data collected
> with GPS which has got 20 - 40 meters difference from my LINESTRINGs and
> I'd like to match these 2 datasets with a accuracy of eg.30 meters.


Aykut,

As Mateusz mentions Buffer is the solution.  The Contains
operator is based on GEOS and does not include thresholds.
Buffer is exposed in Python.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From woklist at kyngchaos.com  Wed Feb  8 11:17:06 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
Message-ID: <C187EB7B-C010-4D92-8C81-1678CC4262AB@kyngchaos.com>

Er, that download page doesn't have a working download link.  I click  
the Download Now, it takes me back to the main download selection  
page, which eventually gets me back to this ECW SDK download page.   
Looks like other download pages do the same thing.

On Feb 8, 2006, at 4:28 AM, Tom Lynch wrote:

> Hello,
>
> I've put up release candidate 2 of the ECW JPEG 2000 SDK 3.3 now.  It
> fixes quite a few major problems in the first release candidate.  I
> hope you have a good experience with it, and if you have any feedback
> on it, negative or positive, please feel free to get in touch either
> on the GDAL list, which I am monitoring, or via private email.
>
> http://www.ermapper.com/downloads/download_view.aspx? 
> PRODUCT_VERSION_ID=288
>
> Tom.
>
-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly  
what the universe is for and why it is here, it will instantly  
disappear and be replaced by something even more bizarrely  
inexplicable.  There is another theory which states that this has  
already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro


From potts at cfl.rr.com  Wed Feb  8 11:45:27 2006
From: potts at cfl.rr.com (Garrett Potts)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <C187EB7B-C010-4D92-8C81-1678CC4262AB@kyngchaos.com>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
	<C187EB7B-C010-4D92-8C81-1678CC4262AB@kyngchaos.com>
Message-ID: <E791D5F4-B2DD-4F29-B33C-2EA9F31F9411@cfl.rr.com>

Hello:

I had to use my windows based laptop.  I had the same problems on  
MACOSX system.

Take care

Garrett
On Feb 8, 2006, at 11:17 AM, William Kyngesburye wrote:

> Er, that download page doesn't have a working download link.  I  
> click the Download Now, it takes me back to the main download  
> selection page, which eventually gets me back to this ECW SDK  
> download page.  Looks like other download pages do the same thing.
>
> On Feb 8, 2006, at 4:28 AM, Tom Lynch wrote:
>
>> Hello,
>>
>> I've put up release candidate 2 of the ECW JPEG 2000 SDK 3.3 now.  It
>> fixes quite a few major problems in the first release candidate.  I
>> hope you have a good experience with it, and if you have any feedback
>> on it, negative or positive, please feel free to get in touch either
>> on the GDAL list, which I am monitoring, or via private email.
>>
>> http://www.ermapper.com/downloads/download_view.aspx? 
>> PRODUCT_VERSION_ID=288
>>
>> Tom.
>>
> -----
> William Kyngesburye <kyngchaos@kyngchaos.com>
> http://www.kyngchaos.com/
>
> Theory of the Universe
>
> There is a theory which states that if ever anyone discovers  
> exactly what the universe is for and why it is here, it will  
> instantly disappear and be replaced by something even more  
> bizarrely inexplicable.  There is another theory which states that  
> this has already happened.
>
> -Hitchhiker's Guide to the Galaxy 2nd season intro
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From dpinte at itae.be  Wed Feb  8 11:47:49 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] python, multipolygon creation
Message-ID: <1139417269.7280.45.camel@geru-itae>

Hi,

I'm trying to write a function for simplifying polygons.

My input file is a shapefile containing 11 MULTIPOLYGON composed of only
1 LINEARRING.

I can read and simplify the LINEARRINGS but I cannot create add them to
a new MULTIPOLYGON. The AddGeometryDirectly() method seems to be doing
nothing.

Here is the problematic code :
-----------------------------------------------------------
 if geom.GetGeometryCount() > 0:
      print 'Multiple geometries : simplifying %s geometries' %
geom.GetGeometryCount()
      new_geom = []
      # for each LinearRing, simplify it and store it in a list 
      for i in xrange(geom.GetGeometryCount()):
        in_geom = geom.GetGeometryRef(i)
        new_geom.append( SimplifyGeometry( in_geom, tolerance ) )
      # Creating the output new MultiPolygon
      seg = ogr.Geometry( type= ogr.wkbMultiPolygon )
      # Adding the circles into the polygon
      for ng in new_geom:
 	print "Ng points %i" % ng.GetPointCount()
        seg.AddGeometryDirectly(ng)
      seg.CloseRings()
      print "New multipolygon has %i geometries" %
seg.GetGeometryCount()
      return seg
------------------------------------------------------------
Here is the output i always have :
------------------------------------------------------------
Multiple geometries : simplifying 1 geometries
Ng points 1841
New multipolygon has 0 geometries


At the end of the process my seg object does not contain any
geometry ... Is it a problem with the AddGeometryDirectly ?

I think i've missed something. 

Does anybody have an idea about my problem ?

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060208/7edfacd6/attachment.bin
From aykutkocak at superonline.com  Wed Feb  8 11:46:30 2006
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGR Geometry Contains() function
In-Reply-To: <931f8ea90602080810u4a554fcdq37579d8bdb0e63da@mail.gmail.com>
References: <43EA0CE6.3040700@superonline.com>
	<931f8ea90602080810u4a554fcdq37579d8bdb0e63da@mail.gmail.com>
Message-ID: <43EA2066.7060604@superonline.com>

Thanx to everbody for quick response,

        if (geo_cnt==0):
            buf=geo_ref.Buffer(3.500)
            if ( buf.Contains(pnt) == 1 ):
                pnt_index=i

working fine for now...

BR

Aykut

Frank Warmerdam wrote:

>On 2/8/06, Aykut KO?AK <aykutkocak@superonline.com> wrote:
>  
>
>>Hi there,
>>
>>In OGR object tree, is there any chance to adjust some kind of treshold
>>for Contains() and similar compare functions? I have some data collected
>>with GPS which has got 20 - 40 meters difference from my LINESTRINGs and
>>I'd like to match these 2 datasets with a accuracy of eg.30 meters.
>>    
>>
>
>
>Aykut,
>
>As Mateusz mentions Buffer is the solution.  The Contains
>operator is based on GEOS and does not include thresholds.
>Buffer is exposed in Python.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
>
>  
>


-- 
Aykut KO?AK

 Elektronik M?hendisi
(/Electronics Engineer/)
 
 E-Posta
(/E-Mail/ )

 aykutkocak@superonline.com


From aykutkocak at superonline.com  Wed Feb  8 11:53:24 2006
From: aykutkocak at superonline.com (=?ISO-8859-9?Q?Aykut_KO=C7AK?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGR Geometry Contains() function
In-Reply-To: <931f8ea90602080810u4a554fcdq37579d8bdb0e63da@mail.gmail.com>
References: <43EA0CE6.3040700@superonline.com>
	<931f8ea90602080810u4a554fcdq37579d8bdb0e63da@mail.gmail.com>
Message-ID: <43EA2204.1020508@superonline.com>

ups, for the records distance was 0.0002 not 3.500



Frank Warmerdam wrote:

>On 2/8/06, Aykut KO?AK <aykutkocak@superonline.com> wrote:
>  
>
>>Hi there,
>>
>>In OGR object tree, is there any chance to adjust some kind of treshold
>>for Contains() and similar compare functions? I have some data collected
>>with GPS which has got 20 - 40 meters difference from my LINESTRINGs and
>>I'd like to match these 2 datasets with a accuracy of eg.30 meters.
>>    
>>
>
>
>Aykut,
>
>As Mateusz mentions Buffer is the solution.  The Contains
>operator is based on GEOS and does not include thresholds.
>Buffer is exposed in Python.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
>
>  
>


-- 
Aykut KO?AK

 Elektronik M?hendisi
(/Electronics Engineer/)
 
 E-Posta
(/E-Mail/ )

 aykutkocak@superonline.com


From woklist at kyngchaos.com  Wed Feb  8 13:48:38 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <E791D5F4-B2DD-4F29-B33C-2EA9F31F9411@cfl.rr.com>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
	<C187EB7B-C010-4D92-8C81-1678CC4262AB@kyngchaos.com>
	<E791D5F4-B2DD-4F29-B33C-2EA9F31F9411@cfl.rr.com>
Message-ID: <C3A844E8-DC7F-4866-B686-D0C7A93C3721@kyngchaos.com>

Certainly not a very desirable solution, and for many not possible.   
I just tried FireFox on Mac OS X, same problem.  Also made sure popup  
and ad blocking were off in Safari and FireFox.

Looks like Virtual PC/Win2K works.  Now I see what's missing - for  
some reason on the Mac the "download_product.aspx? 
PRODUCT_VERSION_ID=288" part of the link is getting chopped off.  If  
I copy the whole link from Virtual PC and paste it in Safari, I get  
the download.  Yet in the page source in Safari, the whole link is  
there.

Oh.  Wierd.  The clickable area for the links from the top menu are  
extending over the Download Now link, so when I move the mouse left/ 
right over Download Now, I get different menu links.  I suspect some  
buggy HTML in the new download system.

On Feb 8, 2006, at 10:45 AM, Garrett Potts wrote:

> Hello:
>
> I had to use my windows based laptop.  I had the same problems on  
> MACOSX system.
>
> Take care
>
> Garrett
> On Feb 8, 2006, at 11:17 AM, William Kyngesburye wrote:
>
>> Er, that download page doesn't have a working download link.  I  
>> click the Download Now, it takes me back to the main download  
>> selection page, which eventually gets me back to this ECW SDK  
>> download page.  Looks like other download pages do the same thing.
>>
>> On Feb 8, 2006, at 4:28 AM, Tom Lynch wrote:
>>
>>> Hello,
>>>
>>> I've put up release candidate 2 of the ECW JPEG 2000 SDK 3.3  
>>> now.  It
>>> fixes quite a few major problems in the first release candidate.  I
>>> hope you have a good experience with it, and if you have any  
>>> feedback
>>> on it, negative or positive, please feel free to get in touch either
>>> on the GDAL list, which I am monitoring, or via private email.
>>>
>>> http://www.ermapper.com/downloads/download_view.aspx? 
>>> PRODUCT_VERSION_ID=288
>>>
>>> Tom.
>>>
>> -----
>> William Kyngesburye <kyngchaos@kyngchaos.com>
>> http://www.kyngchaos.com/
>>
>> Theory of the Universe
>>
>> There is a theory which states that if ever anyone discovers  
>> exactly what the universe is for and why it is here, it will  
>> instantly disappear and be replaced by something even more  
>> bizarrely inexplicable.  There is another theory which states that  
>> this has already happened.
>>
>> -Hitchhiker's Guide to the Galaxy 2nd season intro
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy


From RMcCulley at county24.com  Wed Feb  8 15:44:01 2006
From: RMcCulley at county24.com (Rob McCulley)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGRGeometry::Contains speed issue
Message-ID: <1E095D48112D90428817CB417AECDB6208299F@vermilion.county24.local>

Hi all,

I've got a python script that runs through a bunch of shapefiles, performs an OGRGeometry::Transform on them, adds a couple of attributes, and merges them all into one final shapefile.  All told it opens 76 shapefiles containing a total of ~18,000 polygons.  It performs this in about 10 minutes.

My area of interest is an irregular area which contains ~16,000 of the polygons. I added in a couple of lines to the script to check if the polygon was in the aoi, and set an attribute accordingly:

point = newGeom.Centroid()
aoiTest = aoiGeom.Contains(point)
if aoiTest == 1:
	aoiVal = 1
else:
	aoiVal = 0

There shouldn't ever be a situation where a polygon will cross the aoi boundary, but I use a centroid for the Contains, just in case it isn't perfect.

The problem I'm having is this makes things a lot slower.  The first run through after adding those lines of code was ~17 hours (At the end the script outputs the run time in seconds).  For my purposes, 17 hours is too long.  I know that the aoi polygon is quite complex (~4000 vertices), and that probably slows things down a bit, but that much?  Am I missing something, or is there a better way of doing this?

Thanks
Rob McCulley
GIS Coordinator
County of Vermilion River No. 24
(780) 846-2244
www.vermilion-river.ab.ca


From warmerdam at pobox.com  Wed Feb  8 16:07:23 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGRGeometry::Contains speed issue
In-Reply-To: <1E095D48112D90428817CB417AECDB6208299F@vermilion.county24.local>
References: <1E095D48112D90428817CB417AECDB6208299F@vermilion.county24.local>
Message-ID: <931f8ea90602081307nf3334f0t32851876cfb8853@mail.gmail.com>

On 2/8/06, Rob McCulley <RMcCulley@county24.com> wrote:
> Hi all,
>
> I've got a python script that runs through a bunch of shapefiles, performs an OGRGeometry::Transform on them, adds a couple of attributes, and merges them all into one final shapefile.  All told it opens 76 shapefiles containing a total of ~18,000 polygons.  It performs this in about 10 minutes.
>
> My area of interest is an irregular area which contains ~16,000 of the polygons. I added in a couple of lines to the script to check if the polygon was in the aoi, and set an attribute accordingly:
>
> point = newGeom.Centroid()
> aoiTest = aoiGeom.Contains(point)
> if aoiTest == 1:
>         aoiVal = 1
> else:
>         aoiVal = 0
>
> There shouldn't ever be a situation where a polygon will cross the aoi boundary, but I use a centroid for the Contains, just in case it isn't perfect.
>
> The problem I'm having is this makes things a lot slower.  The first run through after adding those lines of code was ~17 hours (At the end the script outputs the run time in seconds).  For my purposes, 17 hours is too long.  I know that the aoi polygon is quite complex (~4000 vertices), and that probably slows things down a bit, but that much?  Am I missing something, or is there a better way of doing this?

Rob,

It might be nice to determine if the it is the Contains
operation, or the Centroid which is expensive. I suspect
it is the contains, but I'm not sure.

It might make sense to setup a much similar, but slightly
smaller AOI and first do the contains test against that.
Then do the test against the whole AOI if the item isn't
trivially contained in the simplified AOI.  That should reduce
the cost of the Contains operation alot.

But we you really need to do is preserve the spatial index
thingy that GEOS computes internally for the AOI from
test to test.  There is no way to do that through OGR.
In fact, I don't know how to do it directly with GEOS either
but I gather it is possible with some degree of fiddling.

Various other hacky solutions which roughly boil down to
maintaining your own course spatial index could also be
applied but will substantially complicate your script.

Modulo this particular issue, I am pleased that ogr and python
was useful for this fairly interesting application.

Best regards,

--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sgillies at frii.com  Wed Feb  8 16:21:55 2006
From: sgillies at frii.com (Sean Gillies)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] OGRGeometry::Contains speed issue
In-Reply-To: <1E095D48112D90428817CB417AECDB6208299F@vermilion.county24.local>
References: <1E095D48112D90428817CB417AECDB6208299F@vermilion.county24.local>
Message-ID: <98DCBD0A-7C9D-4710-A21F-32CDB5B2ACE8@frii.com>

On Feb 8, 2006, at 1:44 PM, Rob McCulley wrote:

> Hi all,
>
> I've got a python script that runs through a bunch of shapefiles,  
> performs an OGRGeometry::Transform on them, adds a couple of  
> attributes, and merges them all into one final shapefile.  All told  
> it opens 76 shapefiles containing a total of ~18,000 polygons.  It  
> performs this in about 10 minutes.
>
> My area of interest is an irregular area which contains ~16,000 of  
> the polygons. I added in a couple of lines to the script to check  
> if the polygon was in the aoi, and set an attribute accordingly:
>
> point = newGeom.Centroid()
> aoiTest = aoiGeom.Contains(point)
> if aoiTest == 1:
> 	aoiVal = 1
> else:
> 	aoiVal = 0
>
> There shouldn't ever be a situation where a polygon will cross the  
> aoi boundary, but I use a centroid for the Contains, just in case  
> it isn't perfect.
>
> The problem I'm having is this makes things a lot slower.  The  
> first run through after adding those lines of code was ~17 hours  
> (At the end the script outputs the run time in seconds).  For my  
> purposes, 17 hours is too long.  I know that the aoi polygon is  
> quite complex (~4000 vertices), and that probably slows things down  
> a bit, but that much?  Am I missing something, or is there a better  
> way of doing this?
>
> Thanks
> Rob McCulley
> GIS Coordinator
> County of Vermilion River No. 24
> (780) 846-2244
> www.vermilion-river.ab.ca
>

Rob,

Try a two step approach:

1) if bounding boxes of the aoi and new geom intersect (fast):
2) make more rigorous evaluation of the intersection

aoiGeom.Intersects(newGeom) may be faster than computing the centroid  
and containment.

cheers,
Sean

---
Sean Gillies
sgillies at frii dot com
http://zcologia.com/news




From carabas at jippii.fi  Wed Feb  8 01:52:34 2006
From: carabas at jippii.fi (carabas@jippii.fi)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal_rasterize
Message-ID: <19722467.1139381554861.JavaMail.carabas@jippii.fi>

Dear all,

does the gdal_rasterize application really exist somewhere? It is listed 
in the gdal_utilities page, but cant find it in 1.3.1 apps directory...

cheers,

carabas

__
Saunalahti Xtra - Uusi GSM-vuokrapuhelin ja edistykselliset Xtra-palvelut k?ytt??si alk. 4,95 e/kk! http://saunalahti.fi/xtra/



From warmerdam at pobox.com  Wed Feb  8 17:40:20 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] gdal_rasterize
In-Reply-To: <19722467.1139381554861.JavaMail.carabas@jippii.fi>
References: <19722467.1139381554861.JavaMail.carabas@jippii.fi>
Message-ID: <931f8ea90602081440q6a28ae50y2da929ddd6a84a75@mail.gmail.com>

On 2/8/06, carabas@jippii.fi <carabas@jippii.fi> wrote:
> Dear all,
>
> does the gdal_rasterize application really exist somewhere? It is listed
> in the gdal_utilities page, but cant find it in 1.3.1 apps directory...

Carabas,

It is only available in GDAL CVS (and the nightly
snapshots) at this time.   It is nice that improvements
to the GDAL documentation appear on the web site
the same day.  The downside is that the web site
is documentiing GDAL-CVS and is often a bit out of
sync with the latest release.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Feb  8 21:20:58 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] python, multipolygon creation
In-Reply-To: <1139417269.7280.45.camel@geru-itae>
References: <1139417269.7280.45.camel@geru-itae>
Message-ID: <931f8ea90602081820s41204d40s665dea05226962b@mail.gmail.com>

On 2/8/06, Didrik Pinte <dpinte@itae.be> wrote:
> Hi,
>
> I'm trying to write a function for simplifying polygons.
>
> My input file is a shapefile containing 11 MULTIPOLYGON composed of only
> 1 LINEARRING.
>
> I can read and simplify the LINEARRINGS but I cannot create add them to
> a new MULTIPOLYGON. The AddGeometryDirectly() method seems to be doing
> nothing.
>
> Here is the problematic code :
> -----------------------------------------------------------
>  if geom.GetGeometryCount() > 0:
>       print 'Multiple geometries : simplifying %s geometries' %
> geom.GetGeometryCount()
>       new_geom = []
>       # for each LinearRing, simplify it and store it in a list
>       for i in xrange(geom.GetGeometryCount()):
>         in_geom = geom.GetGeometryRef(i)
>         new_geom.append( SimplifyGeometry( in_geom, tolerance ) )
>       # Creating the output new MultiPolygon
>       seg = ogr.Geometry( type= ogr.wkbMultiPolygon )
>       # Adding the circles into the polygon
>       for ng in new_geom:
>         print "Ng points %i" % ng.GetPointCount()
>         seg.AddGeometryDirectly(ng)
>       seg.CloseRings()
>       print "New multipolygon has %i geometries" %
> seg.GetGeometryCount()
>       return seg
> ------------------------------------------------------------
> Here is the output i always have :
> ------------------------------------------------------------
> Multiple geometries : simplifying 1 geometries
> Ng points 1841
> New multipolygon has 0 geometries
>
>
> At the end of the process my seg object does not contain any
> geometry ... Is it a problem with the AddGeometryDirectly ?
>
> I think i've missed something.
>
> Does anybody have an idea about my problem ?

Didrik,

I believe the problem is that you are attempting
add linearring's directly to a multipolygon.   A multipolygon
is supposed to hold only polygons.  And polygons have
linear rings.  The most direct fix was be to modify
SimplifyGeometry() to return a polygon instead of
a linearring.

The AddGeometryDirectly() method tests certain assumptions,
like the that multipolygons are only allowed to hold polygons, and
takes no action if the assumption fails.  I imagine it is returning
an error code.   It would perhaps be better if it issue an error
message or possibly threw an exception.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Feb  8 22:20:46 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] LinearRing and GetGeometryType
In-Reply-To: <1139395904.7280.31.camel@geru-itae>
References: <1139395904.7280.31.camel@geru-itae>
Message-ID: <931f8ea90602081920w242c6b93qe5866f4b0fa4bff4@mail.gmail.com>

On 2/8/06, Didrik Pinte <dpinte@itae.be> wrote:
> Hi,
>
> I'm using the Python interface to OGR, but the problem will be
> encountered in all the languages
>
> As a subclass of OGRLineString, when calling geometry.GetGeometryType()
> on a OGRLinearRing object, it returns ogr.wkbLineString type and not an
> ogr.wkbLinearRing type.
>
> It this behaviour normal ? or should it be modified ?
>
> What should be the best fix for this problem ?
>
> [1] implement GetGeometryType in OGRLinearString ?
> [2] if the current behaviour is the right way to do it, just fix it in
> my ogr.py file redefining the GetGeometryType for the LinearRing
> objects ?

Didrik,

The OGRLinearRing used to return wkbLinearRing (a
nonstandard made up code of mine) but I removed
it again a while ago.  I'm not really sure why.  If you
want to distinguish linear rings from line strings you
can check the geometry name (call GetGeometryName()).

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ari.jolma at tkk.fi  Thu Feb  9 01:37:37 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] release date
In-Reply-To: <931f8ea90602070631n68edd7d2ye4fc6e6009e029d5@mail.gmail.com>
References: <9043.145.50.39.8.1139316715.squirrel@webmail.xs4all.nl>
	<931f8ea90602070631n68edd7d2ye4fc6e6009e029d5@mail.gmail.com>
Message-ID: <43EAE331.7090405@tkk.fi>

Frank Warmerdam wrote:

>I will aim to have 1.3.2 out by the end of the month.
>  
>

Is there any possibility to get measures support into the next release?

It's been rather quiet on the swig side (at least from my point of 
view). I'm using the Perl bindings regularly without problems. Is there 
anything that should be done for the bindings for this release? I should 
at least work a bit on the docs.

Ari


From dpinte at itae.be  Thu Feb  9 07:00:44 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] python, multipolygon creation
In-Reply-To: <931f8ea90602081820s41204d40s665dea05226962b@mail.gmail.com>
References: <1139417269.7280.45.camel@geru-itae>
	<931f8ea90602081820s41204d40s665dea05226962b@mail.gmail.com>
Message-ID: <1139486444.7280.67.camel@geru-itae>

Le mercredi 08 f?vrier 2006 ? 21:20 -0500, Frank Warmerdam a ?crit :
> 
> The AddGeometryDirectly() method tests certain assumptions,
> like the that multipolygons are only allowed to hold polygons, and
> takes no action if the assumption fails.  I imagine it is returning
> an error code.   It would perhaps be better if it issue an error
> message or possibly threw an exception.

I got an error message. It's 3. I looked in the ogr.py file but there is
no definition of the return messages.

May I suggest one of the following :

[1] add a definition for OGRERR_NONE and
OGRERR_UNSUPPORTED_GEOMETRY_TYPE in ogr.py
[2] as suggested by you, issue an error message or throw an exception
(that should be more pythonic).

Thank you for the help

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060209/3d1bc51d/attachment.bin
From warmerdam at pobox.com  Thu Feb  9 08:02:58 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] release date
In-Reply-To: <43EAE331.7090405@tkk.fi>
References: <9043.145.50.39.8.1139316715.squirrel@webmail.xs4all.nl>
	<931f8ea90602070631n68edd7d2ye4fc6e6009e029d5@mail.gmail.com>
	<43EAE331.7090405@tkk.fi>
Message-ID: <931f8ea90602090502i33ba9955nbedca0fc2ae7ecd3@mail.gmail.com>

On 2/9/06, Ari Jolma <ari.jolma@tkk.fi> wrote:
> Is there any possibility to get measures support into the next release?

Ari,

I'm afraid there is no chance of getting measures in OGR
geometries introduced for 1.3.2.  It's a big job and I'm basically
waiting for the Simple Features revision working group at OGC
(on which I sit) to settle things out before I start implementing
this as part of a general "simple features" overhaul in OGR.  Given
that this is likely to result in various breakage, I may also take this
opportunity to do my long planned "unification" of OGR into GDAL.

> It's been rather quiet on the swig side (at least from my point of
> view). I'm using the Perl bindings regularly without problems. Is there
> anything that should be done for the bindings for this release? I should
> at least work a bit on the docs.

I would like to have a proper page on the web site dedicated to each
of the alternate interfaces to GDAL (python, perl, ruby, Java, VB6,
etc)  that work fairly well.  I don't know if all of them will get done
by 1.3.2, but if you can prepare a "one web page intro" to perl for
GDAL we can cover that off.

The various "gdalscripts" don't really get proper visibility on
the web page currently.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Feb  9 08:08:46 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] python, multipolygon creation
In-Reply-To: <1139486444.7280.67.camel@geru-itae>
References: <1139417269.7280.45.camel@geru-itae>
	<931f8ea90602081820s41204d40s665dea05226962b@mail.gmail.com>
	<1139486444.7280.67.camel@geru-itae>
Message-ID: <931f8ea90602090508i3053c19w51fafa22b6a5eba2@mail.gmail.com>

On 2/9/06, Didrik Pinte <dpinte@itae.be> wrote:
> I got an error message. It's 3. I looked in the ogr.py file but there is
> no definition of the return messages.
>
> May I suggest one of the following :
>
> [1] add a definition for OGRERR_NONE and
> OGRERR_UNSUPPORTED_GEOMETRY_TYPE in ogr.py

Didrik,

The problem I have with python declarations for all error
codes is that it could be a big hassle to maintain.  Of course
in practice I hate error code catalogs and so end up reusing the
same very small list of error codes (mostly OGRERR_NONE and
OGRERR_FAILURE), so perhaps my point is silly.

For the most part, it is sufficient to check for a nonzero return
to know you have an error.

> [2] as suggested by you, issue an error message or throw an exception
> (that should be more pythonic).

I think Kevin has it setup in the new interfaces so that you can
force all non-success return values from GDAL and OGR to blow
an exception if you make a particular call.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From skotea at gmail.com  Thu Feb  9 08:59:16 2006
From: skotea at gmail.com (skotea@gmail.com)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Building with Visual C++ 2005 Express
In-Reply-To: <43B5CD5A.40106@perkins.net>
References: <43B5A0AC.6070501@perkins.net> <43B5AE65.5070506@perkins.net>
	<54627.127.0.0.1.1135980967.squirrel@loskot.net>
	<43B5BD19.50809@perkins.net> <43B5C667.7090805@perkins.net>
	<43B5CD5A.40106@perkins.net>
Message-ID: <12ba1a4a0602090559u64cd6518h@mail.gmail.com>

Hi people !

Thanks for everything Simon it works (or in my case I hope it will) !
Everything seems good as I get that :
C:\warmerda
C:\warmerda\bld (only one subdir)
C:\warmerda\bld\bin
C:\warmerda\bld\data
C:\warmerda\bld\html
C:\warmerda\bld\include

But when I try to launch an exe from C:\warmerda\bld\bin I get this error
message (tranlsated from french) :
"This application cannot start because MSVCR80.dll is missing. Reinstalling
this application may solve the problem."

What did I miss ?
Thanks in advance people.

newbie scott (still trying a gdal compilation since december 05)


2005/12/31, Simon Perkins <sy@perkins.net>:
>
> For the benefit of other Visual C++ 2005 Express people, here's a summary
> of what I needed to do:
>
> 1) Download and install VC++ 2005 Express.
>
> 2) Download the Platform SDK, as described at:
>
> http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/
>
> 3) Set up paths in the IDE as described there. But also add the following
> two include paths:
>
> C:\Program Files\Microsoft Platform SDK\Include\atl
> C:\Program Files\Microsoft Platform SDK\Include\mfc
>
> 4) Since we build GDAL from the command line using nmake, I found I had to
> independently set up my LIB, INCLUDE and PATH environment variables to
> include the Visual C++ library, include and executable paths. The command
> shell that comes with VC++ does not unfortunately set these from the IDE
> options, so doesn't include the extra paths you add in the IDE... But that
> shell provides a good start - open it up and then copy the relevant bits of
> the above three variables to your system environment variables. Then add on
> the Platform SDK paths as above.
>
> 5) Modify the platform SDK atlbase.h file as described at:
>
> http://groups.yahoo.com/group/wtl/message/12850
>
> You don't actually need to install WTL for GDAL.
>
> 6) Everything should now compile using "nmake /f makefile.vc". If you do a
> nmake install or devinstall, then make sure the manifest files get copied
> along with the DLLs and EXEs. This should happen automatically with the
> latest CVS code.
>
>
> Next task, to check out those C# bindings so I never have to program in
> C++ again... :)
>
> Cheers,
>
> Sy
>
>
>
> Simon Perkins wrote:
>
> OK, got it all to work...
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060209/3dc9051f/attachment.html
From mateusz at loskot.net  Thu Feb  9 09:30:52 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Building with Visual C++ 2005 Express
In-Reply-To: <12ba1a4a0602090559u64cd6518h@mail.gmail.com>
References: <43B5A0AC.6070501@perkins.net>
	<43B5AE65.5070506@perkins.net>	<54627.127.0.0.1.1135980967.squirrel@loskot.net>	<43B5BD19.50809@perkins.net>
	<43B5C667.7090805@perkins.net>	<43B5CD5A.40106@perkins.net>
	<12ba1a4a0602090559u64cd6518h@mail.gmail.com>
Message-ID: <43EB521C.5090705@loskot.net>

skotea@gmail.com wrote:
> Hi people !
>  
> Thanks for everything Simon it works (or in my case I hope it will) !
> Everything seems good as I get that :
> C:\warmerda
> C:\warmerda\bld (only one subdir)
> C:\warmerda\bld\bin
> C:\warmerda\bld\data
> C:\warmerda\bld\html
> C:\warmerda\bld\include
>  
> But when I try to launch an exe from C:\warmerda\bld\bin I get this 
> error message (tranlsated from french) :
> "This application cannot start because MSVCR80.dll is missing. 
> Reinstalling this application may solve the problem."
>  
> What did I miss ?
> Thanks in advance people.


Take a look at this post:

http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=15218&SiteID=1

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From woklist at kyngchaos.com  Thu Feb  9 10:21:48 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
Message-ID: <CFDF0CD5-14DE-4F75-B1B3-9A11AFFA2622@kyngchaos.com>

Rats.  Still not working on Mac OS X.  Trace/BPT Trap error.  This is  
on 10.4/GCC 4 and 10.3/GCC 3.3 (at least I finally got it to build on  
10.3).  Built with the Gnu configure method, static libecwj2, dynamic  
libNCS* trio.  I even tried the examples this time, thinking GDAL  
might be causing problems.

Was this one of the major problems you mentioned?  Or are you still  
working on the Mac OS X issue?  Do you have any idea yet what the  
cause is?

Also, both in this RC2 and the previous RC1, the Mac Qmake build  
makefiles are missing, so I can't try that method to get a dynamic  
libecwj2.


On Feb 8, 2006, at 4:28 AM, Tom Lynch wrote:

> Hello,
>
> I've put up release candidate 2 of the ECW JPEG 2000 SDK 3.3 now.  It
> fixes quite a few major problems in the first release candidate.  I
> hope you have a good experience with it, and if you have any feedback
> on it, negative or positive, please feel free to get in touch either
> on the GDAL list, which I am monitoring, or via private email.
>
> http://www.ermapper.com/downloads/download_view.aspx? 
> PRODUCT_VERSION_ID=288
>
> Tom.

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

First Pogril: Why is life like sticking your head in a bucket filled  
with hyena offal?
Second Pogril: I don't know.  Why IS life like sticking your head in  
a bucket filled with hyena offal?
First Pogril: I don't know either.  Wretched, isn't it?

-HitchHiker's Guide to the Galaxy


From skotea at gmail.com  Thu Feb  9 10:06:47 2006
From: skotea at gmail.com (skotea@gmail.com)
Date: Wed Nov 21 11:49:59 2007
Subject: [Gdal-dev] Building with Visual C++ 2005 Express
In-Reply-To: <43EB521C.5090705@loskot.net>
References: <43B5A0AC.6070501@perkins.net> <43B5AE65.5070506@perkins.net>
	<54627.127.0.0.1.1135980967.squirrel@loskot.net>
	<43B5BD19.50809@perkins.net> <43B5C667.7090805@perkins.net>
	<43B5CD5A.40106@perkins.net>
	<12ba1a4a0602090559u64cd6518h@mail.gmail.com>
	<43EB521C.5090705@loskot.net>
Message-ID: <12ba1a4a0602090706s1fa35fbcp@mail.gmail.com>

thanks a lot Mateusz : it works now !
(I choose the easier solution : copy all "*.exe.manifest" files in the bin
dir)

2006/2/9, Mateusz ?oskot <mateusz@loskot.net>:
>
> skotea@gmail.com wrote:
> > Hi people !
> >
> > Thanks for everything Simon it works (or in my case I hope it will) !
> > Everything seems good as I get that :
> > C:\warmerda
> > C:\warmerda\bld (only one subdir)
> > C:\warmerda\bld\bin
> > C:\warmerda\bld\data
> > C:\warmerda\bld\html
> > C:\warmerda\bld\include
> >
> > But when I try to launch an exe from C:\warmerda\bld\bin I get this
> > error message (tranlsated from french) :
> > "This application cannot start because MSVCR80.dll is missing.
> > Reinstalling this application may solve the problem."
> >
> > What did I miss ?
> > Thanks in advance people.
>
>
> Take a look at this post:
>
> http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=15218&SiteID=1
>
> Cheers
> --
> Mateusz ?oskot
> http://mateusz.loskot.net
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060209/f0a757b8/attachment.html
From tflynch at gmail.com  Thu Feb  9 10:54:43 2006
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:50:00 2007
Subject: Fwd: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <c39b2a650602090753r576fe1eflff2be0532c08347d@mail.gmail.com>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
	<CFDF0CD5-14DE-4F75-B1B3-9A11AFFA2622@kyngchaos.com>
	<c39b2a650602090753r576fe1eflff2be0532c08347d@mail.gmail.com>
Message-ID: <c39b2a650602090754u43fbbcf6q961a064d6eb0f83f@mail.gmail.com>

On 2/9/06, William Kyngesburye <woklist@kyngchaos.com> wrote:

    Rats.  Still not working on Mac OS X.  Trace/BPT Trap error.  This is
    on 10.4/GCC 4 and 10.3/GCC 3.3 (at least I finally got it to build on
    10.3).  Built with the Gnu configure method, static libecwj2, dynamic
    libNCS* trio.  I even tried the examples this time, thinking GDAL
    might be causing problems.

    Was this one of the major problems you mentioned?  Or are you still
    working on the Mac OS X issue?  Do you have any idea yet what the
    cause is?

William,

Sounds like it.  I have seen that error during compressions on
MacOS X.   MacOS X has some known oddities in its POSIX threads
support, my current theory is that is breaking some assumptions made
by our portable threading code.  I have already had to do a couple of
evil things in there to make decompression support work correctly.

The Qmake files included in the build are expected to be deprecated in
future releases, but it's reasonably certain building with them
wouldn't fix this issue in any case.

Unfortunately, I will be offline for most of next week, and at this
point I can't give you an ETA on a fix.  It is on my agenda, because
most of the serious issues that have occurred with libecwj2 group
around the portable threading code.  It may be in need of more drastic
changes than the hacks that have occurred up to this point :-)

If you are interested in investigating and possibly fixing the problem
yourself, check out the files

$LIBECWJ2/Source/C/NCSUtil/thread.c
$LIBECWJ2/Source/C/NCSUtil/mutex.c

My first thought was that a reimplementation for MacOS X in terms of
Carbon multiprocessing services or mach threads might be in order.

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From warmerdam at pobox.com  Thu Feb  9 11:43:09 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ogr_miattrind.cpp dependency
In-Reply-To: <43E8D2FB.8030500@loskot.net>
References: <43E704CC.5050008@loskot.net>
	<931f8ea90602060537w21ff4d98y6d81064b87778798@mail.gmail.com>
	<43E8D2FB.8030500@loskot.net>
Message-ID: <931f8ea90602090843n5ef3c4buf2dcfe48e431ab53@mail.gmail.com>

On 2/7/06, Mateusz ?oskot <mateusz@loskot.net> wrote:
> > I think the best solution to this would be to add some sort
> > of build/preprocessor magic so that if the mapinfo driver isn't
> > included in a build, the attribute indexing will also be dropped.
> > This may be a bit messy.
>
> Do you think it's something recommended or expected by other users?
> Or there is no problem with current state of this configuration?

Mateusz,

This is an issue for very few users (developers).  I'm not keen
on doing anything about this, but if there is enough interest
(or better yet helpers) something could be done.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From matt.wilkie at gov.yk.ca  Thu Feb  9 12:58:59 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] [Fwd: [ESRI-L] Export to MOSS?]
Message-ID: <43EB82E3.9050705@gov.yk.ca>



-------- Original Message --------
Subject: [ESRI-L] Export to MOSS?
Date: Wed, 8 Feb 2006 09:08:27 -0800
From: brodgers@DELOITTE.CO.UK
Reply-To: brodgers@DELOITTE.CO.UK
To: ESRI-L@ESRI.COM

Has anyone written a script to convert polygon data directly from 
MID/MIF, SHP or e00 to MOSS? I want to avoid using the coverage to MOSS 
option in ArcInfo because of build/clean issues with overlapping 
objects. Thanks, B




From matt.wilkie at gov.yk.ca  Thu Feb  9 13:10:23 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] harmonize ogrinfo extents reporting (gdal utilities)
In-Reply-To: <931f8ea90602071222k37c0030apf731f4087ce74384@mail.gmail.com>
References: <43E8F861.6000602@gov.yk.ca>
	<931f8ea90602071222k37c0030apf731f4087ce74384@mail.gmail.com>
Message-ID: <43EB858F.90508@gov.yk.ca>

Hi Frank,

> I hesitate to change the ordering now, for fear of messing
> people up who have come to expect the current order.
> 
> ogrinfo reports:
>   xmin ymin xmax ymax
> 
> -projwin requires
>   ulx uly lrx lry
> 
> xmin = ulx
> ymin = lry
> xmax = lrx
> ymax = uly
> 
> If that helps

It does, thank you much.


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From matt.wilkie at gov.yk.ca  Thu Feb  9 14:53:05 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] gdal_merge invalid literal for int(): -3.40282e+038
In-Reply-To: <43DA90BB.8080705@gov.yk.ca>
References: <43D94AC4.4050408@gov.yk.ca>	<931f8ea90601261541ne3789c5n625ecb59d789cea6@mail.gmail.com>
	<43DA90BB.8080705@gov.yk.ca>
Message-ID: <43EB9DA1.7060802@gov.yk.ca>

Matt Wilkie wrote:
>>> Traceback (most recent call last):
>>>    File "c:\local\fwtools\bin\gdal_merge.py", line 362, in ?
>>>      nodata = int(argv[i])
>>> ValueError: invalid literal for int(): -3.40282e+038
>>
>> Matt,
>>
>> Please change the above line to "nodata = float(argv[i])"
>> and see if that works better.
>>
>> I have committed this change in CVS.
> 
> That works perfectly, thanks Frank!

Correction: I'm afraid there is still a bug. The fix specified above 
stops the error message, but the nodata values are not ignored.

Doesn't work:

gdal_merge -o merged.tif -n -3.40282e+038 etc...

Does work:

gdal_merge -o merged.tif -n -340282346638528860000000000000000000000.000 
etc...


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From caumann at ualberta.ca  Thu Feb  9 16:36:37 2006
From: caumann at ualberta.ca (Craig Aumann)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed to load NAD27-83 correction file
Message-ID: <1139520997.15180.21.camel@localhost.localdomain>

Trying to re-project in gdalwarp.  What is required to get around this
error?  

gdalwarp -s_srs EPSG:4267 -t_srs EPSG:4269 -te 373369 6127595 374393
6128619  -tr 1 1 -ts 1024 1024 -rb $TEMPDIR/$FILE.temp.tif
$TEMPDIR/extract.tif
ERROR 1: failed to load NAD27-83 correction file
ERROR 1: GDALSuggestedWarpOutput() failed because the passed
transformer failed.

I'm running Linux with:

> rpm -q gdal
gdal-1.3.0-2
> rpm -q proj
proj-4.4.9-1.fc4

Cheers!
Craig
-- 
CW-405 Biological Sciences Blding
University of Alberta
Edmonton AB
T6G 2E9
Phone: 780-492-1289
Fax:   780-492-9234



From warmerdam at pobox.com  Thu Feb  9 17:00:24 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed to load NAD27-83 correction file
In-Reply-To: <1139520997.15180.21.camel@localhost.localdomain>
References: <1139520997.15180.21.camel@localhost.localdomain>
Message-ID: <43EBBB78.70602@pobox.com>

Craig Aumann wrote:
> Trying to re-project in gdalwarp.  What is required to get around this
> error?  
> 
> gdalwarp -s_srs EPSG:4267 -t_srs EPSG:4269 -te 373369 6127595 374393
> 6128619  -tr 1 1 -ts 1024 1024 -rb $TEMPDIR/$FILE.temp.tif
> $TEMPDIR/extract.tif
> ERROR 1: failed to load NAD27-83 correction file
> ERROR 1: GDALSuggestedWarpOutput() failed because the passed
> transformer failed.
> 
> I'm running Linux with:
> 
>> rpm -q gdal
> gdal-1.3.0-2
>> rpm -q proj
> proj-4.4.9-1.fc4

Craig,

You may need to take this up with whoever you got the rpms from, as they
may not have packaged the datum shift files.

One work around is to install PROJ.4 from scratch in /usr/local from the
source.  Make sure you download and "overlay" the proj-datumgrid-1.3.zip
over your proj tree before configuring and building.  Once installed you
should have PROJ.4 in /usr/local, and some data files in
/usr/local/share/proj.  If they aren't getting used by default, set
the PROJ_LIB environment variable to point to that directory.

   ftp://ftp.remotesensing.org/proj/proj-datumgrid-1.3.zip

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ed at topozone.com  Thu Feb  9 17:05:42 2006
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed to load NAD27-83 correction file
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD91C@ptolemy.topozone.com>

Craig -

That error generally means that the required correction file can't be
found.  This is because either (a) the NAD grid shift files are not
installed properly, or (b) you are requesting a conversion for an area
outside the valid(installed) grid shift domains.

Those extents don't make sense as EPSG:4267 input values.  A part of the
conversion being attempted is to do a NAD datum shift with a longitude
of 373369 and a latitude of 6127595.  I believe the logic in PROJ will
permit those to be loaded (they may be clipped to "sane" values, I'm not
sure) and then PROJ will find that there is no valid grid shift file
available for that "location".

What is the correct input and desired output projection, and what is the
desired output extent in units of the output projection?

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Craig Aumann
Sent: Thursday, February 09, 2006 4:37 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Failed to load NAD27-83 correction file

Trying to re-project in gdalwarp.  What is required to get around this
error?  

gdalwarp -s_srs EPSG:4267 -t_srs EPSG:4269 -te 373369 6127595 374393
6128619  -tr 1 1 -ts 1024 1024 -rb $TEMPDIR/$FILE.temp.tif
$TEMPDIR/extract.tif ERROR 1: failed to load NAD27-83 correction file
ERROR 1: GDALSuggestedWarpOutput() failed because the passed transformer
failed.

I'm running Linux with:

> rpm -q gdal
gdal-1.3.0-2
> rpm -q proj
proj-4.4.9-1.fc4

Cheers!
Craig
--
CW-405 Biological Sciences Blding
University of Alberta
Edmonton AB
T6G 2E9
Phone: 780-492-1289
Fax:   780-492-9234


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From caumann at ualberta.ca  Thu Feb  9 18:17:15 2006
From: caumann at ualberta.ca (Craig Aumann)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed to load NAD27-83 correction file
In-Reply-To: <4BF377919225F449BB097CB76FFE9BC83DD91C@ptolemy.topozone.com>
References: <4BF377919225F449BB097CB76FFE9BC83DD91C@ptolemy.topozone.com>
Message-ID: <1139527035.15180.30.camel@localhost.localdomain>

Thanks!

I just need to go from UTM NAD27 to NAD 83.  Both are zone 12.  I
believe the NAD83 is GRS 80 as well. The area is NE Alberta. 

Cheers!
Craig




On Thu, 2006-02-09 at 17:05 -0500, Ed McNierney wrote:
> Craig -
> 
> That error generally means that the required correction file can't be
> found.  This is because either (a) the NAD grid shift files are not
> installed properly, or (b) you are requesting a conversion for an area
> outside the valid(installed) grid shift domains.
> 
> Those extents don't make sense as EPSG:4267 input values.  A part of the
> conversion being attempted is to do a NAD datum shift with a longitude
> of 373369 and a latitude of 6127595.  I believe the logic in PROJ will
> permit those to be loaded (they may be clipped to "sane" values, I'm not
> sure) and then PROJ will find that there is no valid grid shift file
> available for that "location".
> 
> What is the correct input and desired output projection, and what is the
> desired output extent in units of the output projection?
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: +1 (978) 251-4242
> Fax: +1 (978) 251-1396
> ed@topozone.com
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Craig Aumann
> Sent: Thursday, February 09, 2006 4:37 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] Failed to load NAD27-83 correction file
> 
> Trying to re-project in gdalwarp.  What is required to get around this
> error?  
> 
> gdalwarp -s_srs EPSG:4267 -t_srs EPSG:4269 -te 373369 6127595 374393
> 6128619  -tr 1 1 -ts 1024 1024 -rb $TEMPDIR/$FILE.temp.tif
> $TEMPDIR/extract.tif ERROR 1: failed to load NAD27-83 correction file
> ERROR 1: GDALSuggestedWarpOutput() failed because the passed transformer
> failed.
> 
> I'm running Linux with:
> 
> > rpm -q gdal
> gdal-1.3.0-2
> > rpm -q proj
> proj-4.4.9-1.fc4
> 
> Cheers!
> Craig
> --
> CW-405 Biological Sciences Blding
> University of Alberta
> Edmonton AB
> T6G 2E9
> Phone: 780-492-1289
> Fax:   780-492-9234
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 
-- 
CW-405 Biological Sciences Blding
University of Alberta
Edmonton AB
T6G 2E9
Phone: 780-492-1289
Fax:   780-492-9234



From pgao at esri.com  Thu Feb  9 18:25:17 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Can't open a sid image under Russian locale
Message-ID: <54808B311D66EB4E9CF4647B0DE707C2033237DC@firewire.esri.com>

GDAL can?t open a sid with a Russian path name. The problem seems to be the name conversion in

LTFileSpec. The following is the name before and after.

 

I am using DSDK 5.0.6

 

/* -------------------------------------------------------------------- */

/*      Create a corresponding GDALDataset.                             */

/* -------------------------------------------------------------------- */

    MrSIDDataset        *poDS;

    const LTFileSpec    oFileSpec( poOpenInfo->pszFilename );

 

 

Before poOpenInfo->pszFilename:

 

?\\collingwood\checklist_data\Raster\I18N\Russian\???dvim3_2.sid <file:///\\collingwood\checklist_data\Raster\I18N\Russian\???dvim3_2.sid> ?

 

After oFileSpec.path8:

 

 "\\collingwood\checklist_data\Raster\I18N\Russian\???????dvim3_2.sid"

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060209/55ea57b0/attachment.html
From ari.jolma at tkk.fi  Thu Feb  9 18:30:19 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed writing MultiLineString for MapInfo file
Message-ID: <43EBD08B.5050408@tkk.fi>

The new version of mitab_feature.cpp causes me problems.

It makes the swig/perl test.pl fail (quite correctly so I think) but 
when I fix the test.pl and add the required geometry 
(wkbMultiLineString) into the test feature, the mitab still fails, 
although I believe I'm making it correctly. I.e. I make first a 
LineString and put that into the MultiLineString.

I think the culprit is mitab_feature.cpp:2113, which has TAB_GEOM_PLINE 
and not TABL_GEOM_MULTIPLINE? Because here is the failure. Maybe 
somebody could test creating MultiLineStrings with MapInfo files in 
Python or something else?

By the way, in this case CPLError is called twice, first with 
"TABPolyline: Object contains invalid.." and then  "Failed writing 
geometry for feature..". Does the 2nd overwrite the 1st? At least in 
wrappers we just get the latter error text.

Still another thing, the wrapper codes in swig/perl, at least 
ogr_wrap.cpp is old and buggy (has throws!) and should be replaced by 
running "make wrappers".

I did not get very far in my gdal/ogr/swig/perl intro :)

Ari


From ed at topozone.com  Thu Feb  9 18:34:33 2006
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed to load NAD27-83 correction file
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DD91F@ptolemy.topozone.com>

Craig -

The EPSG codes for UTM Zone 12 NAD27 and UTM Zone 12 NAD83 are 26712 and
26912, respectively.  Those are the values you should be using in your
s_srs and t_srs parameters.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com 

-----Original Message-----
From: Craig Aumann [mailto:caumann@ualberta.ca] 
Sent: Thursday, February 09, 2006 6:17 PM
To: Ed McNierney
Cc: gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Failed to load NAD27-83 correction file

Thanks!

I just need to go from UTM NAD27 to NAD 83.  Both are zone 12.  I
believe the NAD83 is GRS 80 as well. The area is NE Alberta. 

Cheers!
Craig




On Thu, 2006-02-09 at 17:05 -0500, Ed McNierney wrote:
> Craig -
> 
> That error generally means that the required correction file can't be 
> found.  This is because either (a) the NAD grid shift files are not 
> installed properly, or (b) you are requesting a conversion for an area

> outside the valid(installed) grid shift domains.
> 
> Those extents don't make sense as EPSG:4267 input values.  A part of 
> the conversion being attempted is to do a NAD datum shift with a 
> longitude of 373369 and a latitude of 6127595.  I believe the logic in

> PROJ will permit those to be loaded (they may be clipped to "sane" 
> values, I'm not
> sure) and then PROJ will find that there is no valid grid shift file 
> available for that "location".
> 
> What is the correct input and desired output projection, and what is 
> the desired output extent in units of the output projection?
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: +1 (978) 251-4242
> Fax: +1 (978) 251-1396
> ed@topozone.com
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Craig Aumann
> Sent: Thursday, February 09, 2006 4:37 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] Failed to load NAD27-83 correction file
> 
> Trying to re-project in gdalwarp.  What is required to get around this

> error?
> 
> gdalwarp -s_srs EPSG:4267 -t_srs EPSG:4269 -te 373369 6127595 374393
> 6128619  -tr 1 1 -ts 1024 1024 -rb $TEMPDIR/$FILE.temp.tif 
> $TEMPDIR/extract.tif ERROR 1: failed to load NAD27-83 correction file 
> ERROR 1: GDALSuggestedWarpOutput() failed because the passed 
> transformer failed.
> 
> I'm running Linux with:
> 
> > rpm -q gdal
> gdal-1.3.0-2
> > rpm -q proj
> proj-4.4.9-1.fc4
> 
> Cheers!
> Craig
> --
> CW-405 Biological Sciences Blding
> University of Alberta
> Edmonton AB
> T6G 2E9
> Phone: 780-492-1289
> Fax:   780-492-9234
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 
--
CW-405 Biological Sciences Blding
University of Alberta
Edmonton AB
T6G 2E9
Phone: 780-492-1289
Fax:   780-492-9234




From caumann at ualberta.ca  Thu Feb  9 18:56:04 2006
From: caumann at ualberta.ca (Craig Aumann)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Failed to load NAD27-83 correction file
In-Reply-To: <4BF377919225F449BB097CB76FFE9BC83DD91F@ptolemy.topozone.com>
References: <4BF377919225F449BB097CB76FFE9BC83DD91F@ptolemy.topozone.com>
Message-ID: <1139529364.15180.33.camel@localhost.localdomain>

Thanks!  

I see I was looking in the wrong file...

On Thu, 2006-02-09 at 18:34 -0500, Ed McNierney wrote:
> Craig -
> 
> The EPSG codes for UTM Zone 12 NAD27 and UTM Zone 12 NAD83 are 26712 and
> 26912, respectively.  Those are the values you should be using in your
> s_srs and t_srs parameters.
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: +1 (978) 251-4242
> Fax: +1 (978) 251-1396
> ed@topozone.com 
> 
> -----Original Message-----
> From: Craig Aumann [mailto:caumann@ualberta.ca] 
> Sent: Thursday, February 09, 2006 6:17 PM
> To: Ed McNierney
> Cc: gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] Failed to load NAD27-83 correction file
> 
> Thanks!
> 
> I just need to go from UTM NAD27 to NAD 83.  Both are zone 12.  I
> believe the NAD83 is GRS 80 as well. The area is NE Alberta. 
> 
> Cheers!
> Craig
> 
> 
> 
> 
> On Thu, 2006-02-09 at 17:05 -0500, Ed McNierney wrote:
> > Craig -
> > 
> > That error generally means that the required correction file can't be 
> > found.  This is because either (a) the NAD grid shift files are not 
> > installed properly, or (b) you are requesting a conversion for an area
> 
> > outside the valid(installed) grid shift domains.
> > 
> > Those extents don't make sense as EPSG:4267 input values.  A part of 
> > the conversion being attempted is to do a NAD datum shift with a 
> > longitude of 373369 and a latitude of 6127595.  I believe the logic in
> 
> > PROJ will permit those to be loaded (they may be clipped to "sane" 
> > values, I'm not
> > sure) and then PROJ will find that there is no valid grid shift file 
> > available for that "location".
> > 
> > What is the correct input and desired output projection, and what is 
> > the desired output extent in units of the output projection?
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > Phone: +1 (978) 251-4242
> > Fax: +1 (978) 251-1396
> > ed@topozone.com
> > 
> > -----Original Message-----
> > From: gdal-dev-bounces@lists.maptools.org
> > [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Craig Aumann
> > Sent: Thursday, February 09, 2006 4:37 PM
> > To: gdal-dev@lists.maptools.org
> > Subject: [Gdal-dev] Failed to load NAD27-83 correction file
> > 
> > Trying to re-project in gdalwarp.  What is required to get around this
> 
> > error?
> > 
> > gdalwarp -s_srs EPSG:4267 -t_srs EPSG:4269 -te 373369 6127595 374393
> > 6128619  -tr 1 1 -ts 1024 1024 -rb $TEMPDIR/$FILE.temp.tif 
> > $TEMPDIR/extract.tif ERROR 1: failed to load NAD27-83 correction file 
> > ERROR 1: GDALSuggestedWarpOutput() failed because the passed 
> > transformer failed.
> > 
> > I'm running Linux with:
> > 
> > > rpm -q gdal
> > gdal-1.3.0-2
> > > rpm -q proj
> > proj-4.4.9-1.fc4
> > 
> > Cheers!
> > Craig
> > --
> > CW-405 Biological Sciences Blding
> > University of Alberta
> > Edmonton AB
> > T6G 2E9
> > Phone: 780-492-1289
> > Fax:   780-492-9234
> > 
> > 
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
> > 
> --
> CW-405 Biological Sciences Blding
> University of Alberta
> Edmonton AB
> T6G 2E9
> Phone: 780-492-1289
> Fax:   780-492-9234
> 
> 
> 
-- 
CW-405 Biological Sciences Blding
University of Alberta
Edmonton AB
T6G 2E9
Phone: 780-492-1289
Fax:   780-492-9234



From tflynch at gmail.com  Fri Feb 10 02:20:25 2006
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 Win32 binary distribution now
	available
Message-ID: <c39b2a650602092320s37b8a8adr3c617d8552ef06f5@mail.gmail.com>

I've added Win32 builds of the SDK DLLs to the ER Mapper website.  You
can access them at

http://www.ermapper.com/downloads/download_view.aspx?PRODUCT_VERSION_ID=289

(I hope the issues with downloading on Firefox/Safari have been fixed
- I flagged them to our webmaster when I saw the first reports a
couple of days ago.  Let me know if you're still having problems)

Amongst other things the distribution should include all the header
files required to build GDAL's ECW and JP2ECW drivers, unlike the
previous binary distribution.  I hope this will be convenient.

Please send feedback on the distribution to me or post it up on this
mailing list, or use the product beta feedback form on the ER Mapper
website.  I will be offline for a few days while I am moving house, so
in the absence of a timely response you might like to contact ER
Mapper development support instead.

Thanks,

Tom.

On 2/8/06, Tom Lynch <tflynch@gmail.com> wrote:
> Hello,
>
> I've put up release candidate 2 of the ECW JPEG 2000 SDK 3.3 now.  It
> fixes quite a few major problems in the first release candidate.  I
> hope you have a good experience with it, and if you have any feedback
> on it, negative or positive, please feel free to get in touch either
> on the GDAL list, which I am monitoring, or via private email.

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From s_jubeh at yahoo.com  Fri Feb 10 05:02:15 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Swig
Message-ID: <20060210100215.6554.qmail@web52710.mail.yahoo.com>

Hi Guys
  
  I want to try to swig gdal inorder to create a tcl binding, I want to ask from where i can download the interfaces files. 
  
  Thanks in advance
  
		
---------------------------------
Brings words and photos together (easily) with
 PhotoMail  - it's free and works with Yahoo! Mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060210/47d3b21d/attachment.html
From mateusz at loskot.net  Fri Feb 10 06:43:57 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Swig
In-Reply-To: <20060210100215.6554.qmail@web52710.mail.yahoo.com>
References: <20060210100215.6554.qmail@web52710.mail.yahoo.com>
Message-ID: <43EC7C7D.9020509@loskot.net>

salah jubeh wrote:
> Hi Guys
> 
> I want to try to swig gdal inorder to create a tcl binding, I want to 
> ask from where i can download the interfaces files.
> 

Checkout GDAL from CVS and then you will get swig subdirectory.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Fri Feb 10 06:48:18 2006
From: mateusz at loskot.net (=?ISO-8859-2?Q?Mateusz_=A3oskot?=)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ogr_miattrind.cpp dependency
In-Reply-To: <931f8ea90602090843n5ef3c4buf2dcfe48e431ab53@mail.gmail.com>
References: <43E704CC.5050008@loskot.net>	
	<931f8ea90602060537w21ff4d98y6d81064b87778798@mail.gmail.com>	
	<43E8D2FB.8030500@loskot.net>
	<931f8ea90602090843n5ef3c4buf2dcfe48e431ab53@mail.gmail.com>
Message-ID: <43EC7D82.2070603@loskot.net>

Frank Warmerdam wrote:
> On 2/7/06, Mateusz ?oskot <mateusz@loskot.net> wrote:
> 
>>>I think the best solution to this would be to add some sort
>>>of build/preprocessor magic so that if the mapinfo driver isn't
>>>included in a build, the attribute indexing will also be dropped.
>>>This may be a bit messy.
>>
>>Do you think it's something recommended or expected by other users?
>>Or there is no problem with current state of this configuration?
> 
> 
> This is an issue for very few users (developers).  I'm not keen
> on doing anything about this, but if there is enough interest
> (or better yet helpers) something could be done.

Frank,
OK, I'll leave it as is for now.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From bslater at comtekmail.com  Fri Feb 10 09:13:53 2006
From: bslater at comtekmail.com (Ben Slater)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Problems building from source on Linux
	(GDALRegister_DIPX)
Message-ID: <20060210061354.23AF90D7@dm20.mta.everyone.net>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060210/d325cf46/attachment.html
From neteler at itc.it  Fri Feb 10 09:41:41 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Color scaling to 8 bit?
Message-ID: <20060210144141.GL6218@bartok.itc.it>

Hi,

I tried to scale a 24bit IMG file to 8 bit, but failed.
Doing so, I observed another thing, the report of indices
which is very slow. Maybe it should not be printed at all?

time gdalinfo hanoi_lsat7_brovey_UTM48N_small.img
Driver: HFA/Erdas Imagine Images (.img)
Size is 1404, 2807
Coordinate System is:
PROJCS["UTM Zone 48, Northern Hemisphere",
...
Center      (  517560.000, 2361688.125) (105d10'9.72"E, 21d21'25.85"N)
Band 1 Block=64x64 Type=Int16, ColorInterp=Palette
  Description = Layer_1
  Metadata:
    COLOR_TABLE_RULES_COUNT=1024
    COLOR_TABLE_RULE_RGB_0=0.000000e+00 3.100000e+01 0 0 0 255 0 0
    COLOR_TABLE_RULE_RGB_1=3.200000e+01 6.300000e+01 0 8 0 255 8 0
    COLOR_TABLE_RULE_RGB_2=6.400000e+01 9.500000e+01 0 16 0 255 16 0
...
  <Row index="32762">
    <F>0.8352941176470589</F>
    <F>1</F>
    <F>1</F>
    <F>1</F>
  </Row>
  <Row index="32763">
    <F>0.8705882352941177</F>
    <F>1</F>
    <F>1</F>
    <F>1</F>
  </Row>
</GDALRasterAttributeTable>

real    1m0.206s
user    0m51.657s
sys     0m0.293s

Back to my problem, doing:

  gdal_translate -of HFA -scale -ot Byte hanoi_lsat7_brovey_UTM48N_small.img test_8bit.img
  Input file size is 1404, 2807
  0...10...20...30...40...50...60...70...80...90...100 - done.


still results in a non 8bit file:

  gdalinfo test_8bit.img
  ...
  32757: 172,255,255,255
  32758: 180,255,255,255
  32759: 189,255,255,255
  32760: 197,255,255,255
  32761: 205,255,255,255
  32762: 213,255,255,255
  32763: 222,255,255,255
  ...

Or is the file 8 bit but the color table remains 24bit?

Suggestions welcome,
thanks

 Markus


From warmerdam at pobox.com  Fri Feb 10 09:57:53 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Problems building from source on
	Linux	(GDALRegister_DIPX)
In-Reply-To: <20060210061354.23AF90D7@dm20.mta.everyone.net>
References: <20060210061354.23AF90D7@dm20.mta.everyone.net>
Message-ID: <43ECA9F1.9010006@pobox.com>

Ben Slater wrote:
> I'm trying to build GDAL from source on my home workstation running 
> PCLinuxOS 0.92.  I can run "./configure --without-jasper" without any 
> problems, but when I run "make", I get some errors and it quits out on 
> me.  Below is the last few lines of output on the terminal when it quits 
> on me.  It appears to be related to the OGR installation and 
> GDALRegister_DIPX - but I'm fairly new to Linux and compiling from 
> source, so I need some direction here.  Any help would be greatly 
> appreciated!

Ben,

The DIPEx driver is quite new, and was recently renamed from DIPX to
DIPEx.  You might try re-updating from CVS (or grabbing a new snapshot).
In some fashion I think you got an interim version that is mixed up.

Alternatively, a clean build might fix the problem if you are pulling
direct from CVS and just had some old object files sitting around.

I did do a clean build from CVS on a system other than my main dev
system last night, and it seemed to work ok.   And I don't see any
forgotten-to-commit files in my local tree.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, 
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From sforde at lizardtech.com  Fri Feb 10 17:43:05 2006
From: sforde at lizardtech.com (Sean Forde)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] GDALCreateReprojectionTransformer()
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD123A48BF@sea-srv-ms3.lizardtech.com>

I have run in to some run time issues that can be tracked back to a failure in GDALCreateReprojectionTransformer(). The code snippet as it stands is...

<snip>
    poForwardTransform = OGRCreateCoordinateTransformation(&oSrcSRS,&oDstSRS);

    if( poForwardTransform == NULL )
        // OGRCreateCoordinateTransformation() will report errors on its own.
        return NULL;

/* -------------------------------------------------------------------- */
/*      Create a structure to hold the transform info, and also         */
/*      build reverse transform.  We assume that if the forward         */
/*      transform can be created, then so can the reverse one.          */
/* -------------------------------------------------------------------- */
    GDALReprojectionTransformInfo *psInfo;

    psInfo = (GDALReprojectionTransformInfo *)
        CPLCalloc(sizeof(GDALReprojectionTransformInfo),1);

    psInfo->poForwardTransform = poForwardTransform;
    psInfo->poReverseTransform =
        OGRCreateCoordinateTransformation(&oDstSRS,&oSrcSRS);
</snip>

The problem is that psInfo->poReverseTransform is never checked. If OGRCreateCoordinateTransformation
failed and psInfo->poReverseTransform is NULL, then you will get a segfault later when you actually apply the reprojection. That is, it is assumed that psInfo->poReverseTransform is non-NULL.

To address this I would add the following lines:

<change>
    if ( psInfo->poReverseTransform == NULL )
    {
       delete psInfo->poForwardTransform;
       CPLFree(psInfo);
       return NULL;
    }
</change>

Doing so is consistent with the error handling for poForwardTransform a few lines previous. 

I am not sure of the process for submitting patches, so apologies in advance if I am using the wrong venue.

	-Sean

Sean Forde
Geospatial Engineering Manager
LizardTech, a Celartem Company
http://www.lizardtech.com
206-902-2874


From sforde at lizardtech.com  Fri Feb 10 19:13:13 2006
From: sforde at lizardtech.com (Sean Forde)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Can't open a sid image under Russian locale
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD123A48C3@sea-srv-ms3.lizardtech.com>

Peng,

I am not sure what the convention for the encoding of GDALOpenInfo->pszFileName. The mrsid driver expects poOpenInfo->pszFilename to be in OS-native encoding. If you are passing in UTF8, then it will be garbled.

I am not sure if this is a bug in the driver (i.e. should we be expecting poOpenInfo->pszFilename to be UTF8). If any one has clues as to the conventions/requirments of poOpenInfo->pszFilename, that would be helpful.

	-Sean


-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Peng Gao
Sent: Thursday, February 09, 2006 3:25 PM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Can't open a sid image under Russian locale


GDAL can?t open a sid with a Russian path name. The problem seems to be the name conversion in
LTFileSpec. The following is the name before and after.
 
I am using DSDK 5.0.6
 
/* -------------------------------------------------------------------- */
/*      Create a corresponding GDALDataset.                             */
/* -------------------------------------------------------------------- */
    MrSIDDataset        *poDS;
    const LTFileSpec    oFileSpec( poOpenInfo->pszFilename );
 
 
Before poOpenInfo->pszFilename:
 
?\\collingwood\checklist_data\Raster\I18N\Russian\???dvim3_2.sid?
 
After oFileSpec.path8:
 
 "\\collingwood\checklist_data\Raster\I18N\Russian\???????dvim3_2.sid"
 
 


From pgao at esri.com  Fri Feb 10 19:28:31 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Can't open a sid image under Russian locale
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20309DCE8@firewire.esri.com>

The path name passed into GDALOpen() is a multibyte string converted from
a Unicode string using Windows call wcstombs().

Gao, Peng

> -----Original Message-----
> From: Sean Forde [mailto:sforde@lizardtech.com] 
> Sent: Friday, February 10, 2006 4:13 PM
> To: Peng Gao; gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] Can't open a sid image under Russian locale
> 
> Peng,
> 
> I am not sure what the convention for the encoding of 
> GDALOpenInfo->pszFileName. The mrsid driver expects 
> poOpenInfo->pszFilename to be in OS-native encoding. If you 
> are passing in UTF8, then it will be garbled.
> 
> I am not sure if this is a bug in the driver (i.e. should we 
> be expecting poOpenInfo->pszFilename to be UTF8). If any one 
> has clues as to the conventions/requirments of 
> poOpenInfo->pszFilename, that would be helpful.
> 
> 	-Sean
> 
> 
> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org]On Behalf Of Peng Gao
> Sent: Thursday, February 09, 2006 3:25 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] Can't open a sid image under Russian locale
> 
> 
> GDAL can?t open a sid with a Russian path name. The problem 
> seems to be the name conversion in LTFileSpec. The following 
> is the name before and after.
>  
> I am using DSDK 5.0.6
>  
> /* 
> --------------------------------------------------------------
> ------ */
> /*      Create a corresponding GDALDataset.                   
>           */
> /* 
> --------------------------------------------------------------
> ------ */
>     MrSIDDataset        *poDS;
>     const LTFileSpec    oFileSpec( poOpenInfo->pszFilename );
>  
>  
> Before poOpenInfo->pszFilename:
>  
> ?\\collingwood\checklist_data\Raster\I18N\Russian\???dvim3_2.sid?
>  
> After oFileSpec.path8:
>  
>  "\\collingwood\checklist_data\Raster\I18N\Russian\???????dvim3_2.sid"
>  
>  
> 


From dylan.beaudette at gmail.com  Fri Feb 10 22:08:38 2006
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] gdal-grass-1.3.1.1 can't find grass libs ...
Message-ID: <200602101908.38602.dylan.beaudette@gmail.com>

ok- this has been asked about 100 times now, but on a certain machine the 
configure script for the gdal-grass plugin cannot find the libraries that 
grass installs....

here is what i have done so far

updated /etc/ld.so.conf   to include /usr/local/grass-6.1-cvs/lib/
sudo ldconfig

made symbolic links to grass libs into /usr/local/lib
sudo ldconfig

but somehow the configure script refuses to find -lgrass_gis

this is a Kubuntu machine

i have been able to compile the gdal-grass plugin  ok on other debian machines 
and ubuntu machines...

any thoughts?


-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341

From warmerdam at pobox.com  Fri Feb 10 23:43:47 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Can't open a sid image under Russian locale
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20309DCE8@firewire.esri.com>
References: <54808B311D66EB4E9CF4647B0DE707C20309DCE8@firewire.esri.com>
Message-ID: <43ED6B83.6040103@pobox.com>

Peng Gao wrote:
> The path name passed into GDALOpen() is a multibyte string converted from
> a Unicode string using Windows call wcstombs().

Sean,

This is the case in Gao's application at least.  In general, it should
be in a form suitable to pass to the fopen() call on the system in
question.  I believe similarly encoded filenames have worked fine with
fopen().

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From werchowyna at epf.pl  Sat Feb 11 16:22:01 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] adding 1 GCP pointless?
Message-ID: <20060211222201.441e4c59.werchowyna@epf.pl>

Hi,

I have just had the same issue which was left unanswered here
http://lists.maptools.org/pipermail/gdal-dev/2005-March/005352.html



Adding a single GCP doesn't yield an error:

$ gdal_translate -gcp 100 100 2000 2000 lzn.tif lzn2.tif

But the GCP is not added:

$ gdalinfo lzn2.tif
Driver: GTiff/GeoTIFF
Size is 720, 360
Coordinate System is `'
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_DOCUMENTNAME=/home/fishoo/tmp/lzn.tif
  TIFFTAG_XRESOLUTION=98
  TIFFTAG_YRESOLUTION=96
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  360.0)
Upper Right (  720.0,    0.0)
Lower Right (  720.0,  360.0)
Center      (  360.0,  180.0)
Band 1 Block=720x11 Type=Byte, ColorInterp=Red
Band 2 Block=720x11 Type=Byte, ColorInterp=Green
Band 3 Block=720x11 Type=Byte, ColorInterp=Blue


I noticed 2 GCPs is the minimum number to be effectively added. What is
the reason? Is it that less than 2 is not enough for warping the image
after? But is 2 enough? I though 1st order affine requires at least 3...

What i was trying to accomplish by adding 1 GCP is the following thing:
I've lost a worldfile for my tif. But I know the coordinates of one
characterstic object in the image. I thought I could just add it as
GCP using gdal_translate and then "move" the whole image to it's
destination with gdalwarp. Is this impossible?

Could gdal_translate issue a warning if adding 1 GCP is really
pointless?

Best,
Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From ickers at bigpond.com  Sun Feb 12 07:20:36 2006
From: ickers at bigpond.com (Rhys Ickeringill)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] adding 1 GCP pointless?
In-Reply-To: <20060211222201.441e4c59.werchowyna@epf.pl>
References: <20060211222201.441e4c59.werchowyna@epf.pl>
Message-ID: <op.s4u0kmyqkejhf7@nspp-p-144-138-27-61.prem.tmns.net.au>

Hi Maciek,

On Sun, 12 Feb 2006 08:22:01 +1100, Maciek Sieczka <werchowyna@epf.pl>  
wrote:
> Hi,
>
> I have just had the same issue which was left unanswered here
> http://lists.maptools.org/pipermail/gdal-dev/2005-March/005352.html
>
>
>
> Adding a single GCP doesn't yield an error:
>
> $ gdal_translate -gcp 100 100 2000 2000 lzn.tif lzn2.tif
>
> But the GCP is not added:
>
> $ gdalinfo lzn2.tif
> Driver: GTiff/GeoTIFF
> Size is 720, 360
> Coordinate System is `'
> Metadata:
>   AREA_OR_POINT=Area
>   TIFFTAG_DOCUMENTNAME=/home/fishoo/tmp/lzn.tif
>   TIFFTAG_XRESOLUTION=98
>   TIFFTAG_YRESOLUTION=96
>   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
> Corner Coordinates:
> Upper Left  (    0.0,    0.0)
> Lower Left  (    0.0,  360.0)
> Upper Right (  720.0,    0.0)
> Lower Right (  720.0,  360.0)
> Center      (  360.0,  180.0)
> Band 1 Block=720x11 Type=Byte, ColorInterp=Red
> Band 2 Block=720x11 Type=Byte, ColorInterp=Green
> Band 3 Block=720x11 Type=Byte, ColorInterp=Blue
>
>
> I noticed 2 GCPs is the minimum number to be effectively added. What is
> the reason? Is it that less than 2 is not enough for warping the image
> after? But is 2 enough? I though 1st order affine requires at least 3...
>
I can't answer the GDAL specific questions, but more generally...

A linear transform (a special case of an affine transform) requires two  
GCPs - this is minimum required to solve for the four image parameters  
offset (dx,dy), scale and orientation. Adding a third GCP allows extra  
possibilities including:
	* Some form of statistical analysis (ususally based on least squares  
techniques).
	* Solving of full affine transform (which includes an image shear  
parameter - there are pros and cons to doing this with remotely sensed  
data)

> What i was trying to accomplish by adding 1 GCP is the following thing:
> I've lost a worldfile for my tif. But I know the coordinates of one
> characterstic object in the image. I thought I could just add it as
> GCP using gdal_translate and then "move" the whole image to it's
> destination with gdalwarp. Is this impossible?
>
Unlikely AFAIK. With only one GCP, image scale and orientation cannot be  
calculated. If you are lucky and have (1) an image that has already been  
warped + resampled so the pixels are parallel to your chosen datum (2)  
have scale encoded in the TIF (I *think* TIFF format supports this), there  
may be value in using this one GCP to translate the image. If this is not  
the case, warping this image with gdal will be of no value.

> Could gdal_translate issue a warning if adding 1 GCP is really
> pointless?
>
> Best,
> Maciek
>

HTH,

Rhys

-- 
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/

From warmerdam at pobox.com  Sun Feb 12 19:02:49 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] adding 1 GCP pointless?
In-Reply-To: <20060211222201.441e4c59.werchowyna@epf.pl>
References: <20060211222201.441e4c59.werchowyna@epf.pl>
Message-ID: <43EFCCA9.6000302@pobox.com>

Maciek Sieczka wrote:
> I noticed 2 GCPs is the minimum number to be effectively added. What is
> the reason? Is it that less than 2 is not enough for warping the image
> after? But is 2 enough? I though 1st order affine requires at least 3...
> 
> What i was trying to accomplish by adding 1 GCP is the following thing:
> I've lost a worldfile for my tif. But I know the coordinates of one
> characterstic object in the image. I thought I could just add it as
> GCP using gdal_translate and then "move" the whole image to it's
> destination with gdalwarp. Is this impossible?
> 
> Could gdal_translate issue a warning if adding 1 GCP is really
> pointless?

Maciek,

Setting one gcp is pretty pointless, but I checked and gdal_translate was
writing the GCP.  However gdalinfo was not reporting it.  I have fixed
this in CVS.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jason.wangz at gmail.com  Sun Feb 12 22:32:35 2006
From: jason.wangz at gmail.com (Jason)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] How to get the adfMax and adfMin attributes in OGR
Message-ID: <68a815150602121932p685ac92dj@mail.gmail.com>

Does OGR encapulates methods to fetch these two attributes?


From warmerdam at pobox.com  Mon Feb 13 07:55:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] How to get the adfMax and adfMin attributes in OGR
In-Reply-To: <68a815150602121932p685ac92dj@mail.gmail.com>
References: <68a815150602121932p685ac92dj@mail.gmail.com>
Message-ID: <43F081AC.8060604@pobox.com>

Jason wrote:
> Does OGR encapulates methods to fetch these two attributes?

Jason,

I'm not sure what adfMax and adfMin are supposed to be.  Min/Max of
an attribute column?  Spatial extents?

Spatial extents can be fetched with GetExtent() on the OGRLayer.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From pgao at esri.com  Mon Feb 13 15:27:09 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Registering a format driver at run-time
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20309DCEF@firewire.esri.com>

I am trying to figure out a way I can load/register a GDAL driver at
run-time.
The way I go about it is as the following, for ECW for example:

1) Build/link GDAL13 without ECW;
2) Build/link ECW driver, ECW and GDAL import libraries, NCS*.lib, and
gdal_i.lib into a 
   separate dll, grf_ecw.dll;
3) Build/link my app with gdal_i.lib;
4) Load grf_ecw.dll at run-time using LoadLibrary, find register_ECW
symbol address, and call
   the function to register ECW with GDAL;

Are there any issues, technical and otherwise, at all to do this? 

My prototype mostly works, except I keep hitting unhandled exceptions
"Unhandled exception at 0x7c901230 in myapp.exe: User breakpoint" 
whenever a GDAL dataset is released. Can anyone help?

I am using VC++7 and Windows XP.


ntdll.dll!7c901230() 	
 	ntdll.dll!7c96c943() 	
 	ntdll.dll!7c96cd80() 	
 	ntdll.dll!7c96df66() 	
 	ntdll.dll!7c96e0d4() 	
 	ntdll.dll!7c926abe() 	
 	ntdll.dll!7c94a5d0() 	
 	ntdll.dll!7c9268ad() 	
 	ntdll.dll!7c926abe() 	
 	ntdll.dll!7c9268ad() 	
 	ntdll.dll!7c91056d() 	
 	ntdll.dll!7c911962() 	
 	ntdll.dll!7c926abe() 	
 	ntdll.dll!7c9268ad() 	
 	ntdll.dll!7c91056d() 	
 	ntdll.dll!7c9268ad() 	
>	NCSUtil.dll!NCSMutexEnd(NCSMutex * pMutex=0x7c911962)  Line 271
C
 	ntdll.dll!7c91056d() 	
 	ntdll.dll!7c911993() 	
 	ntdll.dll!7c911970() 	
 	ntdll.dll!7c91056d() 	
 	msvcr71.dll!02c4218a() 	
 	msvcr71.dll!02c4218f() 	
 	msvcr71.dll!02c4218a() 	
 	NCSEcw.dll!CNCSFile::`vector deleting destructor'()  + 0x4d
C++
 	grf_ecw.dll!ECWDataset::~ECWDataset()  Line 685 + 0x38	C++
 	grf_ecw.dll!ECWDataset::`vector deleting destructor'()  + 0x6c
C++
 	gdal13.dll!GDALClose(void * hDS=0x08a26ea8)  Line 1824 + 0x1e
C++
 	GdalRasterDB.dll!GdlRasterDataset::Close()  Line 2040	C++
 	GdalRasterDB.dll!GdlRasterDataset::~GdlRasterDataset()  Line 80
C++
 	GdalRasterDB.dll!GdlRasterDataset::`scalar deleting
destructor'()  + 0x16	C++
 	GdalRasterDB.dll!Unknown::InternalRelease()  Line 395 + 0x1f	
 	GdalRasterDB.dll!GdlRasterDataset::Release()  Line 32 + 0x28
C++


From glynn at gclements.plus.com  Sat Feb 11 18:29:47 2006
From: glynn at gclements.plus.com (Glynn Clements)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: [GRASSLIST:10260] gdal-grass-1.3.1.1 can't find
	grass libs ...
In-Reply-To: <200602101908.38602.dylan.beaudette@gmail.com>
References: <200602101908.38602.dylan.beaudette@gmail.com>
Message-ID: <17390.29547.802283.444177@cerise.gclements.plus.com>


Dylan Beaudette wrote:

> ok- this has been asked about 100 times now, but on a certain machine the 
> configure script for the gdal-grass plugin cannot find the libraries that 
> grass installs....

Check the config.log file for the actual error messages. If a
configure script says that it cannot "find" a library, what it
actually means is that it couldn't link a test program which uses that
library. There are plenty of reasons why the link can fail apart from
the library file not being in the correct place.

> here is what i have done so far
> 
> updated /etc/ld.so.conf   to include /usr/local/grass-6.1-cvs/lib/
> sudo ldconfig

This won't have any effect. ld.so.conf/ldconfig only control how the
loader finds libraries at run-time. They don't have any effect upon
build-time linking.

-- 
Glynn Clements <glynn@gclements.plus.com>

From warmerdam at pobox.com  Mon Feb 13 18:04:52 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Registering a format driver at run-time
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20309DCEF@firewire.esri.com>
References: <54808B311D66EB4E9CF4647B0DE707C20309DCEF@firewire.esri.com>
Message-ID: <43F11094.90007@pobox.com>

Peng Gao wrote:
> I am trying to figure out a way I can load/register a GDAL driver at
> run-time.
> The way I go about it is as the following, for ECW for example:
> 
> 1) Build/link GDAL13 without ECW;
> 2) Build/link ECW driver, ECW and GDAL import libraries, NCS*.lib, and
> gdal_i.lib into a 
>    separate dll, grf_ecw.dll;
> 3) Build/link my app with gdal_i.lib;
> 4) Load grf_ecw.dll at run-time using LoadLibrary, find register_ECW
> symbol address, and call
>    the function to register ECW with GDAL;
> 
> Are there any issues, technical and otherwise, at all to do this? 
> 
> My prototype mostly works, except I keep hitting unhandled exceptions
> "Unhandled exception at 0x7c901230 in myapp.exe: User breakpoint" 
> whenever a GDAL dataset is released. Can anyone help?
> 
> I am using VC++7 and Windows XP.

Gao,

Your approach is fine.  I believe the problem relates to deleting
something from the wrong heap context, though I am not sure of it at
all.

Could you try commenting out the following two lines?

             if( --poUnderlyingIOStream->nFileViewCount == 0 )
                 delete poUnderlyingIOStream;

This is in ~ECWDataset in gdal/frmts/ecw/ecwdataset.cpp.

By the way, there is another approach to plugins for drivers.
It is described (very briefly) at:

http://www.gdal.org/classGDALDriverManager.html#1e10f0276813a9996f7f7c57486e787b

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From pgao at esri.com  Mon Feb 13 19:33:42 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Registering a format driver at run-time
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20309DCF3@firewire.esri.com>

> Could you try commenting out the following two lines?
> 
>              if( --poUnderlyingIOStream->nFileViewCount == 0 )
>                  delete poUnderlyingIOStream;
> 

I tried and it didn't make any difference. 

One solution for the wrong heap context is to
destroy the dataset in the dll where it comes from.
Instead of deleting a dataset in GDALClose or directly in an app, each
driver
will provide matching Close() function that deletes/releases the dataset
returned from Open()/Create().

I think AutoLoadDrivers() will have similar problem.


> This is in ~ECWDataset in gdal/frmts/ecw/ecwdataset.cpp.
> 
> By the way, there is another approach to plugins for drivers.
> It is described (very briefly) at:
> 
> http://www.gdal.org/classGDALDriverManager.html#1e10f0276813a9
> 996f7f7c57486e787b
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> 
> 


From warmerdam at pobox.com  Mon Feb 13 19:43:50 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Registering a format driver at run-time
In-Reply-To: <54808B311D66EB4E9CF4647B0DE707C20309DCF3@firewire.esri.com>
References: <54808B311D66EB4E9CF4647B0DE707C20309DCF3@firewire.esri.com>
Message-ID: <43F127C6.1040504@pobox.com>

Peng Gao wrote:
>> Could you try commenting out the following two lines?
>>
>>              if( --poUnderlyingIOStream->nFileViewCount == 0 )
>>                  delete poUnderlyingIOStream;
>>
> 
> I tried and it didn't make any difference. 
> 
> One solution for the wrong heap context is to
> destroy the dataset in the dll where it comes from.
> Instead of deleting a dataset in GDALClose or directly in an app, each
> driver
> will provide matching Close() function that deletes/releases the dataset
> returned from Open()/Create().
> 
> I think AutoLoadDrivers() will have similar problem.

Gao,

Actually, I was thinking the problem might be between the ECW driver
and the underlying ECW SDK, not between the GDAL or application DLL
and the GDAL driver plugin.   But any of those *could* be an issue.

Indeed, calling GDALClose() is the application is generally preferred
to invoking delete directly on a dataset pointer for the reason given.

You might want to try commenting out the "delete poFileView" too, and
see if that happens.

What version of the ECW SDK are you using?  I think I may need to try
and reproduce the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From pgao at esri.com  Mon Feb 13 20:00:35 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Registering a format driver at run-time
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20309DCF5@firewire.esri.com>

> Gao,
> 
> Actually, I was thinking the problem might be between the ECW 
> driver and the underlying ECW SDK, not between the GDAL or 
> application DLL
> and the GDAL driver plugin.   But any of those *could* be an issue.
> 
> Indeed, calling GDALClose() is the application is generally 
> preferred to invoking delete directly on a dataset pointer 
> for the reason given.
> 
> You might want to try commenting out the "delete poFileView" 
> too, and see if that happens.
> 
> What version of the ECW SDK are you using?  I think I may 
> need to try and reproduce the problem.
> 

Commenting out the "delete poFileView" too fixed the exception.

I am using ECW SDK 3.3 RC2, built using VC++ 7.1 as three separate
release
dlls, NCSEcw.dll, NCSnet2.dll, and NCSUtil.dll.


Gao, Peng


From s_jubeh at yahoo.com  Tue Feb 14 15:35:06 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ERROR 6: SetColorInterpretation()
Message-ID: <20060214203506.7458.qmail@web52705.mail.yahoo.com>

Hi guys 
  
 I have got this error when i used gdal to translate  to HDF format. I want to know what does that mean . also the resulting  HDF seems to be good
  
  Input file size is 615, 529
  0...10...20...30...40...50...60...70...80...90...100 - done.
  ERROR 6: SetColorInterpretation() not supported for this dataset.
  (bin) 15 % 
  

		
---------------------------------
Relax. Yahoo! Mail virus scanning helps detect nasty viruses!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060214/5ea71323/attachment.html
From MChapman at sanz.com  Tue Feb 14 16:06:12 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] MrSID driver with 16bit output
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C31B@mailman.san.com>

I have a 16bit (GDT_UInt16) tiff file that I am trying to copy to a
UInt16 jp2 file using the MrSID esdk 6.x driver.  When I try to remap it
to 8-bit uchar it works fine.  When I try to just copy it to jp2 it
fails.  It looks like the only diff between the two operations is the
datatype used to initialize the JP2WriterManager object in the
JP2CreateCopy() method of the mrsiddataset.cpp file.  In
MrSIDDummyImageReader::initialize() the datatype is set to
LTI_DATATYPE_UINT16 instead of LTI_DATATYPE_UINT8.  Can anyone confirm
this to be a problem in the GDAL mrsid driver?

 

Best regards,

Martin 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060214/d6deb29d/attachment.html
From warmerdam at pobox.com  Tue Feb 14 16:09:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ERROR 6: SetColorInterpretation()
In-Reply-To: <20060214203506.7458.qmail@web52705.mail.yahoo.com>
References: <20060214203506.7458.qmail@web52705.mail.yahoo.com>
Message-ID: <43F246F2.2040006@pobox.com>

salah jubeh wrote:
> Hi guys
> 
> I have got this error when i used gdal to translate to HDF format. I 
> want to know what does that mean . also the resulting HDF seems to be good
> 
> Input file size is 615, 529
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> ERROR 6: SetColorInterpretation() not supported for this dataset.
> (bin) 15 %

Salah,

It means the source file had specific color interpretations for the source
bands (ie. red, green and blue) and tried to set those on the HDF file but
this failed.  That is undoubtedly because HDF format does not include
specific support for color interpretation.

This is not a serious error, and I believe the current CVS version of GDAL
supresses the message to avoid undue concern.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From pgao at esri.com  Tue Feb 14 22:57:08 2006
From: pgao at esri.com (Peng Gao)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Registering a format driver at run-time
Message-ID: <54808B311D66EB4E9CF4647B0DE707C20309DD05@firewire.esri.com>

Frank,

I matched up the compiler flags for ECW driver and ECW SDK. It is
working now.

Thanks,
Gao, Peng


> -----Original Message-----
> From: Peng Gao 
> Sent: Monday, February 13, 2006 5:01 PM
> To: 'Frank Warmerdam'
> Cc: gdal-dev@lists.maptools.org
> Subject: RE: [Gdal-dev] Registering a format driver at run-time
> 
> > Gao,
> > 
> > Actually, I was thinking the problem might be between the 
> ECW driver 
> > and the underlying ECW SDK, not between the GDAL or application DLL
> > and the GDAL driver plugin.   But any of those *could* be an issue.
> > 
> > Indeed, calling GDALClose() is the application is generally 
> preferred 
> > to invoking delete directly on a dataset pointer for the 
> reason given.
> > 
> > You might want to try commenting out the "delete poFileView" 
> > too, and see if that happens.
> > 
> > What version of the ECW SDK are you using?  I think I may 
> need to try 
> > and reproduce the problem.
> > 
> 
> Commenting out the "delete poFileView" too fixed the exception.
> 
> I am using ECW SDK 3.3 RC2, built using VC++ 7.1 as three 
> separate release dlls, NCSEcw.dll, NCSnet2.dll, and NCSUtil.dll.
> 
> 
> Gao, Peng


From warmerdam at pobox.com  Tue Feb 14 23:33:27 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] OGR Date Support
Message-ID: <43F2AF17.3090708@pobox.com>

Folks,

I have committed preliminary date support for OGR.  This includes a new
core date type (OFTDate), and would be more accurately called "date time"
support.

The OGRField union now includes another struct option that looks like:

     struct {
         GInt16  Year;
         GByte   Month;
         GByte   Day;
         GByte   Hour;
         GByte   Minute;
         GByte   Second;
         GByte   TZFlag; /* 0=unknown, 1=localtime(ambiguous),
                            100=GMT, 104=GMT+1, 80=GMT-5, etc */
     } Date;

The TZFlag is a funky mechanism to incorporate timezones by offset from
GMT (in 15 minute increments).  But if you just leave TZFlag 0 the timezone
is unknown which I suspect will often be the case.

Note there is no sub-second precision.  My hope is that this isn't too
important in the OGR context.

So far only the PostgreSQL and Shapefile (dbf) drivers have been
updated with date support.  I plan to extend it to MySQL this week.
Over time it will be added in a few more drivers with native date types.

Let me know if anyone runs into problems with the builds that might
be related.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Feb 14 23:36:25 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] MrSID driver with 16bit output
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C31B@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C31B@mailman.san.com>
Message-ID: <43F2AFC9.6020805@pobox.com>

Chapman, Martin wrote:
> I have a 16bit (GDT_UInt16) tiff file that I am trying to copy to a 
> UInt16 jp2 file using the MrSID esdk 6.x driver.  When I try to remap it 
> to 8-bit uchar it works fine.  When I try to just copy it to jp2 it 
> fails.  It looks like the only diff between the two operations is the 
> datatype used to initialize the JP2WriterManager object in the 
> JP2CreateCopy() method of the mrsiddataset.cpp file.  In 
> MrSIDDummyImageReader::initialize() the datatype is set to 
> LTI_DATATYPE_UINT16 instead of LTI_DATATYPE_UINT8.  Can anyone confirm 
> this to be a problem in the GDAL mrsid driver?

Martin,

I have confirmed the same behavior.  If you file a bug on this against
GDAL I'll try and dig into it tomorrow (Wednesday).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From marc.jacquin at magellium.fr  Wed Feb 15 04:59:36 2006
From: marc.jacquin at magellium.fr (Marc Jacquin)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Ogr2ogr crashes for MiF/Mid
In-Reply-To: <931f8ea90601270609w7d319ff6h50ab8797d5fc7a4c@mail.gmail.com>
Message-ID: <200602151000.k1FA02dD017737@smtp10.clb.oleane.net>

Hi all,

Ogr2ogr seems to be a convenient tool for transforming WKT geometries into
other formats like Shape files or MapInfo files.

But ogr2ogr crashes when using MapInfo File output, runs OK for the same
command line with ESRI Shapefile output.

ogr2ogr -f "MapInfo File" d:/temp/aaaa.mif PG:"user=xxx dbname=postgres
host=localhost port=5432 password=zzzz" -sql "select
Geomfromtext('POLYGON((-15 -15, -15 15, 15 15,15 -15,-15 -15))')"

It runs OK too with the name of a table instead of the SQL statement.

Thanks for helping.

Marc


From dmorissette at dmsolutions.ca  Wed Feb 15 08:18:15 2006
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Ogr2ogr crashes for MiF/Mid
In-Reply-To: <200602151000.k1FA02dD017737@smtp10.clb.oleane.net>
References: <200602151000.k1FA02dD017737@smtp10.clb.oleane.net>
Message-ID: <43F32A17.4050706@dmsolutions.ca>

Marc Jacquin wrote:
> Hi all,
> 
> Ogr2ogr seems to be a convenient tool for transforming WKT geometries into
> other formats like Shape files or MapInfo files.
> 
> But ogr2ogr crashes when using MapInfo File output, runs OK for the same
> command line with ESRI Shapefile output.
> 
> ogr2ogr -f "MapInfo File" d:/temp/aaaa.mif PG:"user=xxx dbname=postgres
> host=localhost port=5432 password=zzzz" -sql "select
> Geomfromtext('POLYGON((-15 -15, -15 15, 15 15,15 -15,-15 -15))')"
> 
> It runs OK too with the name of a table instead of the SQL statement.
> 

Marc,

Can you please try converting from the postgres DB to shapefile, and 
then from shapefile to mif/mid. If that still produces the crash then 
please submit a bug, attach the shapefile dataset that can be used to 
reproduce the problem, and assign it to me. Also please indicate which 
version of OGR you're using.

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------

From neteler at itc.it  Wed Feb 15 08:23:31 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] TIFF World file issue
Message-ID: <20060215132331.GN5253@bartok.itc.it>

Hi,

I was downloading a tile of "Natural Earth"
http://www.shadedrelief.com/natural/

The TFW file looks like this (world map):
cat LC_SR_W_16200_W.tfw
          0.01111111111111
          0.00000000000000
          0.00000000000000
          -0.01111111111111
          -180.00000000000000
          90.00000000000000

and gdalinfo reports:
gdalinfo LC_SR_W_16200_W.tif
Driver: GTiff/GeoTIFF
Size is 16200, 16200
Coordinate System is `'
Origin = (-180.005556,90.005556)
Pixel Size = (0.01111111,-0.01111111)
Metadata:
  TIFFTAG_SOFTWARE=Adobe Photoshop CS Macintosh
  TIFFTAG_DATETIME=2005:04:04 16:36:25
  TIFFTAG_XRESOLUTION=72
  TIFFTAG_YRESOLUTION=72
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (-180.0055556,  90.0055556)
Lower Left  (-180.0055556, -89.9944444)
Upper Right (  -0.0055556,  90.0055556)
Lower Right (  -0.0055556, -89.9944444)
Center      ( -90.0055556,   0.0055556)
Band 1 Block=16200x1 Type=Byte, ColorInterp=Red
Band 2 Block=16200x1 Type=Byte, ColorInterp=Green
Band 3 Block=16200x1 Type=Byte, ColorInterp=Blue

Is the TFW file wrong or the gdalinfo output?
As far as I know, TFW refers to the corner of a pixel [1]
which is not reflected in the gdalinfo output.
However, [2] says that TFW refers to the center of the pixel.

R tells me:
> options(digits=12)
> 90.0055556 - 0.01111111/2
[1] 90.000000045

> 16200 * 0.01111111
[1] 179.999982


Thanks

Markus

[1] http://lists.maptools.org/pipermail/gdal-dev/2004-April/002416.html
[2] http://lists.maptools.org/pipermail/gdal-dev/2005-May/005720.html

From warmerdam at pobox.com  Wed Feb 15 08:45:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Ogr2ogr crashes for MiF/Mid
In-Reply-To: <200602151000.k1FA02dD017737@smtp10.clb.oleane.net>
References: <200602151000.k1FA02dD017737@smtp10.clb.oleane.net>
Message-ID: <43F33079.3080706@pobox.com>

Marc Jacquin wrote:
> Hi all,
> 
> Ogr2ogr seems to be a convenient tool for transforming WKT geometries into
> other formats like Shape files or MapInfo files.
> 
> But ogr2ogr crashes when using MapInfo File output, runs OK for the same
> command line with ESRI Shapefile output.
> 
> ogr2ogr -f "MapInfo File" d:/temp/aaaa.mif PG:"user=xxx dbname=postgres
> host=localhost port=5432 password=zzzz" -sql "select
> Geomfromtext('POLYGON((-15 -15, -15 15, 15 15,15 -15,-15 -15))')"
> 
> It runs OK too with the name of a table instead of the SQL statement.

Marc,

I was able to reproduce your problem and found introducing at least one
attribute column avoided the problem:

ogr2ogr -f "MapInfo File" out.mif PG:dbname=warmerda -sql "select 1 as id, 
Geomfromtext('POLYGON((-15 -15, -15 15, 15 15,15 -15,-15 -15))')"

If you could file a bug against GDAL/OGR on this issue I will look into
fixing it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Feb 15 09:02:53 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] TIFF World file issue
In-Reply-To: <20060215132331.GN5253@bartok.itc.it>
References: <20060215132331.GN5253@bartok.itc.it>
Message-ID: <43F3348D.8030601@pobox.com>

Markus Neteler wrote:
> Is the TFW file wrong or the gdalinfo output?
> As far as I know, TFW refers to the corner of a pixel [1]
> which is not reflected in the gdalinfo output.
> However, [2] says that TFW refers to the center of the pixel.
> 
> R tells me:
>> options(digits=12)
>> 90.0055556 - 0.01111111/2
> [1] 90.000000045
> 
>> 16200 * 0.01111111

Markus,

The top left location indicated in a world file is the center of the
top left pixel.  In [1] I was not specific about the issue due to a rush
and this detail not seeming pertinent to the person in question.

So, in your case everything seems to be working fine.

Best regards,

> [1] http://lists.maptools.org/pipermail/gdal-dev/2004-April/002416.html
> [2] http://lists.maptools.org/pipermail/gdal-dev/2005-May/005720.html
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From landa.martin at gmail.com  Wed Feb 15 11:01:09 2006
From: landa.martin at gmail.com (Martin Landa)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: [GRASSLIST:10307] importing big ECW file with
	r.in.gdal
In-Reply-To: <43F32F37.9050701@pobox.com>
References: <f8fe65c40602150041o404f5732h@mail.gmail.com>
	<43F32F37.9050701@pobox.com>
Message-ID: <f8fe65c40602150801v49bd87deu@mail.gmail.com>

Dear Frank,

first of all, thanks a lot for quick reply.

I have tried to select a sub window from the source image. A strange
thing happen, the channels do not match. Maybe I am doing something
wrong...

gdal_translate -of GTiff -projwin 12E 52N 19E 47N Europe\
Landsat742.ecw Europe\ Landsat742.tif

or

gdal_translate -of GTiff -projwin 12 52 19 47 Europe\ Landsat742.ecw
Europe\ Landsat742.tif

The red channel covers selected region, the others are shifted..., see
the pictures bellow

http://k153-85.fsv.cvut.cz/~martin/.../ecw2tif/

2006/2/15, Frank Warmerdam <warmerdam@pobox.com>:

> > The red channel seems to be correct, the others contain only value
> > '0'. During import process the following errors occurred:
> >
> > ERROR 1: IReadBlock failed at X offset 0, Y offset 141969
> > ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 141969
>
> Martin,
>
> I'm not sure why this is happening, though it seems most likely to
> be the ECW reader failing when it starts work on the second band for
> some reason.
>
> > I have also tried to convert ECW file to GTiff by using
> > gdal_translate, also without any success.
> >
> > gdal_translate -of GTiff Europe\ Landsat742.ecw /mnt/hdb2/Europe\ Landsat742.tif
> > Input file size is 141970, 141970
> > 0...10...20...30.ERROR 1: TryWinRasterIO() failed for blocked scanline.
> > ERROR 1: IReadBlock failed at X offset 0, Y offset 0
> > ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0
>
> A 141970 x 141970 x 3 8bit file will be circa 60GB uncompressed.  TIFF
> files cannot be any larger than 4GB.  The error above is likely caused
> by GDAL trying to write a file larger than 4GB.

Yes, you are right, I forgot that there is the limit for GTiff format.

> You might want to try and translate to a format that supports large files,
> like Erdas Imagine, just to verify that the GDAL ECW reading is working ok.
>
> gdal_translate -of HFA Europe\ Landsat742.ecw /mnt/hdb2/Europe\ Landsat742.img
>
> If that works, then we know the data is not corrupt and that GDAL can
> read it.
>

I will try it.

> Does GRASS raster format support files larger than 4GB?   If not you will
> either have to downsample the image, or split it into smaller tiles.
>

As I know GRASS raster format supports files > 4GB(?)

Best regards, Martin


From Roger.Bivand at nhh.no  Wed Feb 15 11:02:15 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Windows linking to FWTools gdal_i.lib
Message-ID: <Pine.LNX.4.44.0602151630570.32490-100000@reclus.nhh.no>

In revising and extending the R GDAL bindings, I'm using VC++ (cl) under 
Windows on C API files. On Linux (GDAL 1.3.1) the references to:

OSRNewSpatialReference
OSRDestroySpatialReference
OSRExportToProj4
OSRExportToWkt

are found and work, but give error LNK2019 in the Windows linking step
when building the rgdal shared object, using Windows binary
FWTools1.0.0.7a gdal_i.lib. The LNK2019 error message prepends an
underscore to the function names. Curiously, it does not report that other
OSR* functions are not found in this function:

#include <R.h>
#include <Rinternals.h>
#include <Rdefines.h>

#include "ogr_api.h"

SEXP p4s_to_wkt(SEXP p4s, SEXP esri) {

    OGRSpatialReferenceH hSRS = NULL;
    char *pszSRS_WKT = NULL;
    SEXP ans;

    hSRS = (OGRSpatialReferenceH) OSRNewSpatialReference(NULL);
    if (OSRImportFromProj4(hSRS, CHAR(STRING_ELT(p4s, 0))) != OGRERR_NONE)
	error("Can't parse PROJ.4-style parameter string");
    if (INTEGER_POINTER(esri)[0] == 1) OSRMorphToESRI(hSRS);
    OSRExportToWkt(hSRS, &pszSRS_WKT);

    PROTECT(ans=NEW_CHARACTER(1));
    SET_STRING_ELT(ans, 0, COPY_TO_USER_STRING(pszSRS_WKT));

    OSRDestroySpatialReference(hSRS);
    UNPROTECT(1);

    return(ans);
}

but that could be because it gave up too soon. Is the GDAL build for 
FWTools not exporting some functions in the gdal_i.lib? 

The rgdal R package has some source files in C++, some in C, and I had 
intended to migrate to the C API. The equivalent C++ functions, like 
*.importFromProj4 and *.exportToWkt are found (or at least link doesn't 
complain.

The only message during the cl compile step was:

...\include\cpl_config.h(75) : warning C4068 : unknown pragma

refering to:

#pragma warning(disable: 4786)

but I don't know that this has any relevance, and is reported both for C 
and C++ files (for the include\cpl_config.h in FWTools1.0.0.7a).

I can put up the problem files on the rgdal CVS if that would help, but 
maybe this is a well-known problem?

I can also make an R-less C source file just to test this, if it would be 
useful.

Telling Windows users simply to install FWTools, put the FWTools/bin in
their PATH, and install the Windows binary rgdal package within R is much
easier than other options. It did work before I added spatial references,
but they are needed. We've tried MSYS and MinGW, which works, but is a
waste of effort when a fair number of thw Windows users have (or should
have) FWTools anyway. Reading OGR now works too, so leveraging off
GDAL/OGR is a very good way of doing things provided I sort out how to do
it portably ...

Best wishes,

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From MChapman at sanz.com  Wed Feb 15 12:08:06 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] OGR Date Support
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C31E@mailman.san.com>

Very nice.  Thanks Frank!

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Tuesday, February 14, 2006 9:33 PM
To: gdal
Subject: [Gdal-dev] OGR Date Support

Folks,

I have committed preliminary date support for OGR.  This includes a new
core date type (OFTDate), and would be more accurately called "date
time"
support.

The OGRField union now includes another struct option that looks like:

     struct {
         GInt16  Year;
         GByte   Month;
         GByte   Day;
         GByte   Hour;
         GByte   Minute;
         GByte   Second;
         GByte   TZFlag; /* 0=unknown, 1=localtime(ambiguous),
                            100=GMT, 104=GMT+1, 80=GMT-5, etc */
     } Date;

The TZFlag is a funky mechanism to incorporate timezones by offset from
GMT (in 15 minute increments).  But if you just leave TZFlag 0 the
timezone
is unknown which I suspect will often be the case.

Note there is no sub-second precision.  My hope is that this isn't too
important in the OGR context.

So far only the PostgreSQL and Shapefile (dbf) drivers have been
updated with date support.  I plan to extend it to MySQL this week.
Over time it will be added in a few more drivers with native date types.

Let me know if anyone runs into problems with the builds that might
be related.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From neteler at itc.it  Wed Feb 15 12:20:21 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: [GRASSLIST:10307] importing big ECW file with
	r.in.gdal
In-Reply-To: <f8fe65c40602150801v49bd87deu@mail.gmail.com>
References: <f8fe65c40602150041o404f5732h@mail.gmail.com>
	<43F32F37.9050701@pobox.com>
	<f8fe65c40602150801v49bd87deu@mail.gmail.com>
Message-ID: <20060215172021.GF5253@bartok.itc.it>

On Wed, Feb 15, 2006 at 05:01:09PM +0100, Martin Landa wrote:
> 2006/2/15, Frank Warmerdam <warmerdam@pobox.com>:
...
> > Does GRASS raster format support files larger than 4GB?   If not you will
> > either have to downsample the image, or split it into smaller tiles.
> >
> 
> As I know GRASS raster format supports files > 4GB(?)

GRASS 6 experimentally supports large file support if enabled
during compilation. There are known issues which still need
to be fixed.

Markus

From warmerdam at pobox.com  Wed Feb 15 12:51:54 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Windows linking to FWTools gdal_i.lib
In-Reply-To: <Pine.LNX.4.44.0602151630570.32490-100000@reclus.nhh.no>
References: <Pine.LNX.4.44.0602151630570.32490-100000@reclus.nhh.no>
Message-ID: <43F36A3A.6080503@pobox.com>

Roger Bivand wrote:
> In revising and extending the R GDAL bindings, I'm using VC++ (cl) under 
> Windows on C API files. On Linux (GDAL 1.3.1) the references to:
> 
> OSRNewSpatialReference
> OSRDestroySpatialReference
> OSRExportToProj4
> OSRExportToWkt
> 
> are found and work, but give error LNK2019 in the Windows linking step
> when building the rgdal shared object, using Windows binary
> FWTools1.0.0.7a gdal_i.lib. The LNK2019 error message prepends an
> underscore to the function names. Curiously, it does not report that other
> OSR* functions are not found in this function:

Roger,

The problem is that some (but not by any means all) C entry points in
OGR, OSR and GDAL are exported with standard call conventions for easier
use from Pascal and VB6.  If you look in ogr_srs_api.h you will see the
CPL_STDCALL attribute applied to some functions.

What is less clear to me is why your compiler isn't already adjusting
the calls to use stdcall conventions too.   When compiling with a
Microsoft compiler and not explicitly defining -DCPL_DISABLE_STDCALL
the CPL_STDCALL macro should be expanded to __stdcall and thus the
application should also know to call the functions with stdcall
conventions.

You are building with VC6, VC7 or VC7.1, right?

You might want to try and determine if CPL_STDCALL is properly being
defined as __stdcall in cpl_port.h (called from ogr_srs_api.h).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From kueda at nature.berkeley.edu  Wed Feb 15 13:00:48 2006
From: kueda at nature.berkeley.edu (Ken-ichi)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ruby examples?
Message-ID: <43F36C50.1050800@nature.berkeley.edu>

Hi all. 

I'm trying to figure out how to use the Ruby bindings in GDAL, but I 
can't seem to find any examples out there for even the most basic 
things, like setting all the constants.  The GDAL API Tutorial on 
gdal.org seems to have great docs for C, C++, and Python, but nothing 
for Ruby.  Can anyone provide some basic examples of how to open a file, 
etc?  I've gotten about as far as

require 'gdal/gdal'
require 'gdal/gdalconst'

but that's about it.

-- 
Ken-ichi Ueda
Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
University of California, Berkeley
Environmental Science, Policy, and Management
Berkeley, CA 94720
tel: 510.642.8322
fax: 510.642.1477
e-mail: kueda@nature.berkeley.edu


From Roger.Bivand at nhh.no  Wed Feb 15 13:05:29 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Windows linking to FWTools gdal_i.lib
In-Reply-To: <43F36A3A.6080503@pobox.com>
Message-ID: <Pine.LNX.4.44.0602151901400.32490-100000@reclus.nhh.no>

On Wed, 15 Feb 2006, Frank Warmerdam wrote:

> Roger Bivand wrote:
> > In revising and extending the R GDAL bindings, I'm using VC++ (cl) under 
> > Windows on C API files. On Linux (GDAL 1.3.1) the references to:
> > 
> > OSRNewSpatialReference
> > OSRDestroySpatialReference
> > OSRExportToProj4
> > OSRExportToWkt
> > 
> > are found and work, but give error LNK2019 in the Windows linking step
> > when building the rgdal shared object, using Windows binary
> > FWTools1.0.0.7a gdal_i.lib. The LNK2019 error message prepends an
> > underscore to the function names. Curiously, it does not report that other
> > OSR* functions are not found in this function:
> 
> Roger,
> 
> The problem is that some (but not by any means all) C entry points in
> OGR, OSR and GDAL are exported with standard call conventions for easier
> use from Pascal and VB6.  If you look in ogr_srs_api.h you will see the
> CPL_STDCALL attribute applied to some functions.
> 
> What is less clear to me is why your compiler isn't already adjusting
> the calls to use stdcall conventions too.   When compiling with a
> Microsoft compiler and not explicitly defining -DCPL_DISABLE_STDCALL
> the CPL_STDCALL macro should be expanded to __stdcall and thus the
> application should also know to call the functions with stdcall
> conventions.
> 
> You are building with VC6, VC7 or VC7.1, right?

Frank,

The linker says 7.10, so I guess it must be something like that.

My current work-around is to wrap calls to C++ versions of the unfound 
functions in extern "C" {} in a file named *.cpp - seems to find the files 
under Windows, I'll check that I can back-fit to gcc/g++ under Linux. I'll 
try that first and report back, and fall back on your suggestion if I'm 
not lucky.

Thanks for getting back so fast!

Roger

> 
> You might want to try and determine if CPL_STDCALL is properly being
> defined as __stdcall in cpl_port.h (called from ogr_srs_api.h).
> 
> Best regards,
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From rsheykhet at sanz.com  Wed Feb 15 18:57:16 2006
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] RasterIO tile size issue
Message-ID: <ED3A48B9840E594890A2BC172D119465050791F7@mailman.san.com>

Hi Frank, All:

	I have found an issue with GDALRasterIO() when dealing with very
big(long) images and/or very small tile cache.  The problem seems to
occur when RasterIO() attempts to write an area of a certain width (say
AW) to an image with a smaller tile width (say BW), and the tile cache
is not large enough to keep ceil(AW/BW) blocks cached.
	Assuming that the tile cache is completely turned off, here is
the scenario that I am observing.  Passed-in buffer size = 128x128,
image tile size=64x64.  RasterIO() starts writing the first line of the
passed in buffer, acquires the first 64x64 block B[0,0] of the image and
writes the first 64 samples to it.  Then it needs to continue writing
the left-over 64 bytes of same line and therefore acquires the next
block B[1,0] (to the right) and flushes B[0,0] block to disk.  After
writing the last 64 samples of this scanline, it moves on to writing the
second scan line, at which point the block B[0,0] is required again.  At
this point, the code at line 286 of rasterio.cpp is executed:
                int bJustInitialize = 
                    eRWFlag == GF_Write
                    && nYOff <= nLBlockY * nBlockYSize
                    && nYOff + nYSize >= (nLBlockY+1) * nBlockYSize
                    && nXOff <= nLBlockX * nBlockXSize
                    && nXOff + nXSize >= (nLBlockX+1) * nBlockXSize;

This code checks whether or not the block is completely contained within

the area covered by the passed in buffer.  If so, the code simply
allocates
a new tile without reading the data that has already been written to
disk.

I think that a check should be put in for figuring out whether this
RasterIO call has already written to this block, and the block should be
read from disk, if that's the case.

Thanks

Rostic



From warmerdam at pobox.com  Thu Feb 16 00:17:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] NOAA 14 GCP reading error
Message-ID: <43F40AF4.9030904@pobox.com>

Markus,

Good news!  I blew off all my paying clients for the evening and spent it
digging through the NOAA 14 GCP problem.  It turns out to have been
improper byte swapping code in the GCP reader.  It was applying 32bit byte
swapping to 16 bit data values for pre NOAA 15 data.

All fixed up in CVS now.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From Roger.Bivand at nhh.no  Thu Feb 16 02:54:45 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Windows linking to FWTools gdal_i.lib
In-Reply-To: <Pine.LNX.4.44.0602151901400.32490-100000@reclus.nhh.no>
Message-ID: <Pine.LNX.4.44.0602160845150.658-100000@reclus.nhh.no>

On Wed, 15 Feb 2006, Roger Bivand wrote:

> On Wed, 15 Feb 2006, Frank Warmerdam wrote:
> 
> > Roger Bivand wrote:
> > > In revising and extending the R GDAL bindings, I'm using VC++ (cl) under 
> > > Windows on C API files. On Linux (GDAL 1.3.1) the references to:
> > > 
> > > OSRNewSpatialReference
> > > OSRDestroySpatialReference
> > > OSRExportToProj4
> > > OSRExportToWkt
> > > 
> > > are found and work, but give error LNK2019 in the Windows linking step
> > > when building the rgdal shared object, using Windows binary
> > > FWTools1.0.0.7a gdal_i.lib. The LNK2019 error message prepends an
> > > underscore to the function names. Curiously, it does not report that other
> > > OSR* functions are not found in this function:
> > 
> > Roger,
> > 
> > The problem is that some (but not by any means all) C entry points in
> > OGR, OSR and GDAL are exported with standard call conventions for easier
> > use from Pascal and VB6.  If you look in ogr_srs_api.h you will see the
> > CPL_STDCALL attribute applied to some functions.
> > 
> > What is less clear to me is why your compiler isn't already adjusting
> > the calls to use stdcall conventions too.   When compiling with a
> > Microsoft compiler and not explicitly defining -DCPL_DISABLE_STDCALL
> > the CPL_STDCALL macro should be expanded to __stdcall and thus the
> > application should also know to call the functions with stdcall
> > conventions.
> > 
> > You are building with VC6, VC7 or VC7.1, right?
> 
> Frank,
> 
> The linker says 7.10, so I guess it must be something like that.
> 
> My current work-around is to wrap calls to C++ versions of the unfound 
> functions in extern "C" {} in a file named *.cpp - seems to find the files 
> under Windows, I'll check that I can back-fit to gcc/g++ under Linux. I'll 
> try that first and report back, and fall back on your suggestion if I'm 
> not lucky.
> 

Replacing the C API OSR calls by C++ calls worked. The function I 
cited before (which was trying to be C in a *.c file) became (in a *.cpp 
file):

#ifdef __cplusplus
extern "C" {
#endif
#include <R.h>
#include <Rinternals.h>
#include <Rdefines.h>

SEXP p4s_to_wkt(SEXP p4s, SEXP esri) {

    OGRSpatialReference hSRS = NULL;
    char *pszSRS_WKT = NULL;
    SEXP ans;

    if (hSRS.importFromProj4(CHAR(STRING_ELT(p4s, 0))) != OGRERR_NONE)
	error("Can't parse PROJ.4-style parameter string");
    if (INTEGER_POINTER(esri)[0] == 1) hSRS.morphToESRI();
    hSRS.exportToWkt(&pszSRS_WKT);

...

and works on both Linux and Windows (linked against FWTools gdal_i.lib). 
This is easier than trying to manipulate the calls - an open door is more 
inviting than picking the lock on a closed one!

I'll be putting up an alpha release through the R-sig-geo list soon, and 
will release when users have tried it out. For now, R <-> GDAL with 
support for spatial reference works, and R <- OGR with spatial reference. 
R -> shapefile works with shapelib, and R spatial reference to WKT (eg. 
*.prj) also works. Full R -> OGR can be added if need be. In R, use is 
made of sp classes, which fit quite neatly.

Thanks again, where would we be without GDAL!

Best wishes,

Roger

> Thanks for getting back so fast!
> 
> Roger
> 
> > 
> > You might want to try and determine if CPL_STDCALL is properly being
> > defined as __stdcall in cpl_port.h (called from ogr_srs_api.h).
> > 
> > Best regards,
> > 
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From neteler at itc.it  Thu Feb 16 08:26:04 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: NOAA 14 GCP reading error
In-Reply-To: <43F40AF4.9030904@pobox.com>
References: <43F40AF4.9030904@pobox.com>
Message-ID: <20060216132604.GM18731@bartok.itc.it>

Frank,

On Thu, Feb 16, 2006 at 12:17:40AM -0500, Frank Warmerdam wrote:
> Markus,
> 
> Good news!  I blew off all my paying clients for the evening and spent it
> digging through the NOAA 14 GCP problem.  It turns out to have been
> improper byte swapping code in the GCP reader.  It was applying 32bit byte
> swapping to 16 bit data values for pre NOAA 15 data.
> 
> All fixed up in CVS now.


I am REALLY grateful to you, thanks for givig this such a
high priority. Maybe useful since I want to use the data
to support our stud of infectious diseases in Northern Italy
(EU EDEN Project).
I hope it didn't take too long to discover the problem (maybe
I shouldn't ask :-).

Right now:
 cvs [update aborted]: connect to cvs.maptools.org(209.217.116.153):2401 failed: Connection timed out
 ...

traceroute cvs.maptools.org
...
22  * * *
23  206.191.0.99 (206.191.0.99)  173.033 ms  180.389 ms  196.334 ms
24  access2.magma.ca (64.26.173.116)  190.849 ms  135.873 ms  143.317 ms
25  * * *
...

I'll try later again,

 Markus

-- 
Markus Neteler     <neteler itc it>       http://mpa.itc.it
ITC-irst -  Centro per la Ricerca Scientifica e Tecnologica
MPBA - Predictive Models for Biol. & Environ. Data Analysis
Via Sommarive, 18        -       38050 Povo (Trento), Italy

From sylvain_duclos at yahoo.com  Thu Feb 16 16:20:58 2006
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ruby examples?
In-Reply-To: <43F36C50.1050800@nature.berkeley.edu>
Message-ID: <20060216212058.98862.qmail@web30708.mail.mud.yahoo.com>

Hi Ken-ichi,

This answer from  Charlie Savage
got me started:

http://lists.maptools.org/pipermail/gdal-dev/2005-December/007362.html



Sylvain.

--- Ken-ichi <kueda@nature.berkeley.edu> wrote:

> Hi all. 
> 
> I'm trying to figure out how to use the Ruby
> bindings in GDAL, but I 
> can't seem to find any examples out there for even
> the most basic 
> things, like setting all the constants.  The GDAL
> API Tutorial on 
> gdal.org seems to have great docs for C, C++, and
> Python, but nothing 
> for Ruby.  Can anyone provide some basic examples of
> how to open a file, 
> etc?  I've gotten about as far as
> 
> require 'gdal/gdal'
> require 'gdal/gdalconst'
> 
> but that's about it.
> 
> -- 
> Ken-ichi Ueda
> Kelly Research and Outreach Lab
> (http://kellylab.berkeley.edu)
> University of California, Berkeley
> Environmental Science, Policy, and Management
> Berkeley, CA 94720
> tel: 510.642.8322
> fax: 510.642.1477
> e-mail: kueda@nature.berkeley.edu
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


__________________________________________________
Do You Yahoo!?
Tired of spam?  Yahoo! Mail has the best spam protection around 
http://mail.yahoo.com 

From warmerdam at pobox.com  Thu Feb 16 17:35:20 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: RasterIO tile size issue
In-Reply-To: <ED3A48B9840E594890A2BC172D119465050791F7@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D119465050791F7@mailman.san.com>
Message-ID: <43F4FE28.5050204@pobox.com>

Sheykhet, Rostic wrote:
> Hi Frank, All:
> 
> 	I have found an issue with GDALRasterIO() when dealing with very
> big(long) images and/or very small tile cache.  The problem seems to
> occur when RasterIO() attempts to write an area of a certain width (say
> AW) to an image with a smaller tile width (say BW), and the tile cache
> is not large enough to keep ceil(AW/BW) blocks cached.
> 	Assuming that the tile cache is completely turned off, here is
> the scenario that I am observing.  Passed-in buffer size = 128x128,
> image tile size=64x64.  RasterIO() starts writing the first line of the
> passed in buffer, acquires the first 64x64 block B[0,0] of the image and
> writes the first 64 samples to it.  Then it needs to continue writing
> the left-over 64 bytes of same line and therefore acquires the next
> block B[1,0] (to the right) and flushes B[0,0] block to disk.  After
> writing the last 64 samples of this scanline, it moves on to writing the
> second scan line, at which point the block B[0,0] is required again.  At
> this point, the code at line 286 of rasterio.cpp is executed:
>                 int bJustInitialize = 
>                     eRWFlag == GF_Write
>                     && nYOff <= nLBlockY * nBlockYSize
>                     && nYOff + nYSize >= (nLBlockY+1) * nBlockYSize
>                     && nXOff <= nLBlockX * nBlockXSize
>                     && nXOff + nXSize >= (nLBlockX+1) * nBlockXSize;
> 
> This code checks whether or not the block is completely contained within
> 
> the area covered by the passed in buffer.  If so, the code simply
> allocates
> a new tile without reading the data that has already been written to
> disk.
> 
> I think that a check should be put in for figuring out whether this
> RasterIO call has already written to this block, and the block should be
> read from disk, if that's the case.

Rostic,

I see your point.

However, even with the fix you suggest performance will still be just terrible
as blocks are swapped in and out for each scanline processed.  Instead, I
think I will try and come up with an approach where I hold all the blocks
"locked" till all the scanlines being written to them are complete.  This will
resolve a pathological performance case and resolve this bug all at once.

Does that seem reasonable to you?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rsheykhet at sanz.com  Thu Feb 16 18:04:04 2006
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] RE: RasterIO tile size issue
Message-ID: <ED3A48B9840E594890A2BC172D11946505079772@mailman.san.com>

Frank,

	Though it is probably a significant departure from the current
algorithm, what came to my mind is a solution which instead of writing
the passed-in buffer line-by-line, writes it image-block-by-image-block.
So instead of writing line #1 across all the affected image blocks, it
would write all relevant pieces of all relevant lines onto the block #1,
then flush it to disk and never need to access it again in this
particular RasterIO() operation.

	The advantage, in my opinion, is that the blocks are written
completely one-by-one resulting in a very small memory footprint. The
tile cache is also not used at all, leaving more space in it for other
tiles.  	However, as mentioned above, and as you probably can
see, this would require writing a rather involved piece of code.

	In general, I would be very happy no matter what solution to the
problem is implemented.

Thanks a lot for your help

Rostic


 
-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Thursday, February 16, 2006 3:35 PM
To: Sheykhet, Rostic
Cc: gdal-dev@lists.maptools.org
Subject: Re: RasterIO tile size issue

Sheykhet, Rostic wrote:
> Hi Frank, All:
> 
> 	I have found an issue with GDALRasterIO() when dealing with very
> big(long) images and/or very small tile cache.  The problem seems to
> occur when RasterIO() attempts to write an area of a certain width
(say
> AW) to an image with a smaller tile width (say BW), and the tile cache
> is not large enough to keep ceil(AW/BW) blocks cached.
> 	Assuming that the tile cache is completely turned off, here is
> the scenario that I am observing.  Passed-in buffer size = 128x128,
> image tile size=64x64.  RasterIO() starts writing the first line of
the
> passed in buffer, acquires the first 64x64 block B[0,0] of the image
and
> writes the first 64 samples to it.  Then it needs to continue writing
> the left-over 64 bytes of same line and therefore acquires the next
> block B[1,0] (to the right) and flushes B[0,0] block to disk.  After
> writing the last 64 samples of this scanline, it moves on to writing
the
> second scan line, at which point the block B[0,0] is required again.
At
> this point, the code at line 286 of rasterio.cpp is executed:
>                 int bJustInitialize = 
>                     eRWFlag == GF_Write
>                     && nYOff <= nLBlockY * nBlockYSize
>                     && nYOff + nYSize >= (nLBlockY+1) * nBlockYSize
>                     && nXOff <= nLBlockX * nBlockXSize
>                     && nXOff + nXSize >= (nLBlockX+1) * nBlockXSize;
> 
> This code checks whether or not the block is completely contained
within
> 
> the area covered by the passed in buffer.  If so, the code simply
> allocates
> a new tile without reading the data that has already been written to
> disk.
> 
> I think that a check should be put in for figuring out whether this
> RasterIO call has already written to this block, and the block should
be
> read from disk, if that's the case.

Rostic,

I see your point.

However, even with the fix you suggest performance will still be just
terrible
as blocks are swapped in and out for each scanline processed.  Instead,
I
think I will try and come up with an approach where I hold all the
blocks
"locked" till all the scanlines being written to them are complete.
This will
resolve a pathological performance case and resolve this bug all at
once.

Does that seem reasonable to you?

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From condit at sdsc.edu  Thu Feb 16 18:56:12 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] creating a composite raster
Message-ID: <845AADAC1106E44996327D62097E4C6B86019F@et.ad.sdsc.edu>

I'm looking for a way to take three equally sized input raster files in
AAI/Grid format and convert each grid to a band in a single 24-bit
raster file (r, g, b, respectively).

Is there an easy way to accomplish this with GDAL?

 

Thanks,

Chris

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060216/5af9fb9e/attachment.html
From kueda at nature.berkeley.edu  Thu Feb 16 19:17:01 2006
From: kueda at nature.berkeley.edu (Ken-ichi)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] ruby examples?
In-Reply-To: <20060216212058.98862.qmail@web30708.mail.mud.yahoo.com>
References: <20060216212058.98862.qmail@web30708.mail.mud.yahoo.com>
Message-ID: <43F515FD.2080609@nature.berkeley.edu>

Ah, awesome.  I didn't know about gdalautotest, but, like you said, 
plenty of goodies.  For the record and for future Ruby nubies like 
myself, opening a GDAL dataset looks something like this:

require 'gdal/gdal'
dataset = Gdal::Gdal.open('filename.ext')

I haven't done much else with it yet, but I'll probably be back to 
report any major problems I have.

Thanks again!

Ken-ichi Ueda
Kelly Research and Outreach Lab (http://kellylab.berkeley.edu)
University of California, Berkeley
Environmental Science, Policy, and Management
Berkeley, CA 94720
tel: 510.642.8322
fax: 510.642.1477
e-mail: kueda@nature.berkeley.edu



s duclos wrote:
> Hi Ken-ichi,
>
> This answer from  Charlie Savage
> got me started:
>
> http://lists.maptools.org/pipermail/gdal-dev/2005-December/007362.html
>
>
>
> Sylvain.
>
> --- Ken-ichi <kueda@nature.berkeley.edu> wrote:
>
>   
>> Hi all. 
>>
>> I'm trying to figure out how to use the Ruby
>> bindings in GDAL, but I 
>> can't seem to find any examples out there for even
>> the most basic 
>> things, like setting all the constants.  The GDAL
>> API Tutorial on 
>> gdal.org seems to have great docs for C, C++, and
>> Python, but nothing 
>> for Ruby.  Can anyone provide some basic examples of
>> how to open a file, 
>> etc?  I've gotten about as far as
>>
>> require 'gdal/gdal'
>> require 'gdal/gdalconst'
>>
>> but that's about it.
>>
>> -- 
>> Ken-ichi Ueda
>> Kelly Research and Outreach Lab
>> (http://kellylab.berkeley.edu)
>> University of California, Berkeley
>> Environmental Science, Policy, and Management
>> Berkeley, CA 94720
>> tel: 510.642.8322
>> fax: 510.642.1477
>> e-mail: kueda@nature.berkeley.edu
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>>
>>     
>
>
> __________________________________________________
> Do You Yahoo!?
> Tired of spam?  Yahoo! Mail has the best spam protection around 
> http://mail.yahoo.com 
>   

From warmerdam at pobox.com  Thu Feb 16 19:57:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] creating a composite raster
In-Reply-To: <845AADAC1106E44996327D62097E4C6B86019F@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B86019F@et.ad.sdsc.edu>
Message-ID: <43F51F62.6010902@pobox.com>

Christopher Condit wrote:
> I?m looking for a way to take three equally sized input raster files in 
> AAI/Grid format and convert each grid to a band in a single 24-bit 
> raster file (r, g, b, respectively).
> 
> Is there an easy way to accomplish this with GDAL?

Chris,

If you have a GDAL build that includes the python support, you can
do "gdal_merge.py -o stack.tif -separate a.grd b.grd c.grd".

This would stack each of the .grd files into a separate band of the
output file, stack.tif.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Fri Feb 17 10:19:49 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: RasterIO tile size issue
In-Reply-To: <ED3A48B9840E594890A2BC172D11946505079772@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946505079772@mailman.san.com>
Message-ID: <43F5E995.9030707@pobox.com>

Sheykhet, Rostic wrote:
> Frank,
> 
> 	Though it is probably a significant departure from the current
> algorithm, what came to my mind is a solution which instead of writing
> the passed-in buffer line-by-line, writes it image-block-by-image-block.
> So instead of writing line #1 across all the affected image blocks, it
> would write all relevant pieces of all relevant lines onto the block #1,
> then flush it to disk and never need to access it again in this
> particular RasterIO() operation.
> 
> 	The advantage, in my opinion, is that the blocks are written
> completely one-by-one resulting in a very small memory footprint. The
> tile cache is also not used at all, leaving more space in it for other
> tiles.  	However, as mentioned above, and as you probably can
> see, this would require writing a rather involved piece of code.
> 
> 	In general, I would be very happy no matter what solution to the
> problem is implemented.

Rostic,

Yes, I was kicking this option around in my mind as well.  I think I will
take a crack at this approach as it removes my need for complicated
block locking logic, and gives the optimal memory footprint handling.  It
may also have some performance benefits even in plentiful memory cases.

The main downside is that it will take some careful coding to get just
right.

I would add there are several places with similar core loops.  It may
take a while to update them all, but I can address the most common
cases.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From mgleahy at golden.net  Fri Feb 17 11:48:11 2006
From: mgleahy at golden.net (Mike Leahy)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] extra qualification 'FITRasterBand::' on member
	'FITRasterBand'
Message-ID: <43F5FE4B.1000706@golden.net>

Hello list,

I'm wondering if anyone might recognize the errors I'm getting below 
when I try to compile gdal.  I'm currently running FC5 test 2...I'm 
pretty sure I got the same version to compile fine on FC4, so maybe this 
is an issue with gcc-4.1.0 that is the current release for FC5?  At any 
rate, regardless of what options I include in the configuration (i.e., 
disabling/internalizing as many options as possible), I get the same 
result.  I don't see anything recent in the list that suggests anyone 
else has the same problem...

Any ideas?  Should I just forget about getting this to work on FC5/gcc4 
for now?

Thanks in advance for any suggestions,
Mike

================================================

fitdataset.cpp:177: error: extra qualification 'FITRasterBand::' on 
member 'FITRasterBand'
fitdataset.cpp: In static member function 'static GDALDataset* 
FITDataset::Open(GDALOpenInfo*)':
fitdataset.cpp:1019: warning: dereferencing type-punned pointer will 
break strict-aliasing rules
make[2]: *** [../o/fitdataset.o] Error 1
make[2]: Leaving directory `/data/gdal-1.3.1/frmts/fit'
make[1]: *** [fit-install-obj] Error 2
make[1]: Leaving directory `/data/gdal-1.3.1/frmts'
make: *** [frmts-target] Error 2


From warmerdam at pobox.com  Fri Feb 17 11:55:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] MrSID driver with 16bit output
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C31B@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C31B@mailman.san.com>
Message-ID: <43F6000A.8000202@pobox.com>

Chapman, Martin wrote:
> I have a 16bit (GDT_UInt16) tiff file that I am trying to copy to a 
> UInt16 jp2 file using the MrSID esdk 6.x driver.  When I try to remap it 
> to 8-bit uchar it works fine.  When I try to just copy it to jp2 it 
> fails.  It looks like the only diff between the two operations is the 
> datatype used to initialize the JP2WriterManager object in the 
> JP2CreateCopy() method of the mrsiddataset.cpp file.  In 
> MrSIDDummyImageReader::initialize() the datatype is set to 
> LTI_DATATYPE_UINT16 instead of LTI_DATATYPE_UINT8.  Can anyone confirm 
> this to be a problem in the GDAL mrsid driver?

Martin / Kirk,

Could you verify your file is UInt16?  I tried with an Int16 file, and
it crashed.  It turns out I wasn't checking return values from stuff
like the initialize() method, and it was returning an error code indicating
"unsupported datatype [50903]".  If I force the output type to UInt16 things
seem to work fine.   This was all with Geo_ESDK-5.0.6.962.  Perhaps behavior
has changed in ESDK 6?

I am going to tighten up the error checking a bunch, but I don't see much
other action I can take for now.  Kirk can you comment on LTI_DATATYPE_
values that should work with JPEG2000?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Fri Feb 17 12:41:17 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] extra qualification 'FITRasterBand::' on
	member	'FITRasterBand'
In-Reply-To: <43F5FE4B.1000706@golden.net>
References: <43F5FE4B.1000706@golden.net>
Message-ID: <43F60ABD.8070108@pobox.com>

Mike Leahy wrote:
> Hello list,
> 
> I'm wondering if anyone might recognize the errors I'm getting below 
> when I try to compile gdal.  I'm currently running FC5 test 2...I'm 
> pretty sure I got the same version to compile fine on FC4, so maybe this 
> is an issue with gcc-4.1.0 that is the current release for FC5?  At any 
> rate, regardless of what options I include in the configuration (i.e., 
> disabling/internalizing as many options as possible), I get the same 
> result.  I don't see anything recent in the list that suggests anyone 
> else has the same problem...
> 
> Any ideas?  Should I just forget about getting this to work on FC5/gcc4 
> for now?
> 
> Thanks in advance for any suggestions,
> Mike
> 
> ================================================
> 
> fitdataset.cpp:177: error: extra qualification 'FITRasterBand::' on 
> member 'FITRasterBand'
> fitdataset.cpp: In static member function 'static GDALDataset* 

Mike,

Change:
     FITRasterBand::FITRasterBand( FITDataset *, int );

To:
     FITRasterBand( FITDataset *, int );

I have committed the same change in CVS.   Let me know if you
run into other problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From miller_joseph at bah.com  Fri Feb 17 13:14:04 2006
From: miller_joseph at bah.com (Miller Joseph)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Mysql support
Message-ID: <7585F83BC6F1DB4195D8496D9C68963A0117BA61@MCLNEXVS08.resource.ds.bah.com>

Hey all,
With some tweaking of ogrmysqllayer.cpp and pcrtypes.h I was able to get
the daily build of feb 13 to compile and link on a windows xp system
using visual c 6.0.
 
I used to ogr2ogr to create the Geometry_Columns table and I created a
spatial_ref_sys table as described in:
http://home.gdal.org/projects/osvecdb/sfsql-schema.html
 
I altered the geometry_columns so that the srid column was a foreign key
from the spatial ref table.
 
I am still not having luck having ogrinfo reflect the srid information I
entered.  I even made sure that data I entered using the Geomfromtext
function included the srid.  My question is whether I am doing something
wrong or if I should wait for a later build to be released before the
spatial_ref_sys table is supported??
 
Thanks in advance,
Joe Miller
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060217/9ad5182d/attachment.html
From MChapman at sanz.com  Fri Feb 17 13:19:47 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] MrSID driver with 16bit output
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C32B@mailman.san.com>

Frank / Kirk,

My file is UInt16.  Sounds like the same error I get.  Did you check in
your changes?  I'll test it out on my image.

Best regards,
Martin

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Friday, February 17, 2006 9:56 AM
To: Chapman, Martin
Cc: gdal-dev@lists.maptools.org; Kirk McKelvey
Subject: Re: [Gdal-dev] MrSID driver with 16bit output

Chapman, Martin wrote:
> I have a 16bit (GDT_UInt16) tiff file that I am trying to copy to a 
> UInt16 jp2 file using the MrSID esdk 6.x driver.  When I try to remap
it 
> to 8-bit uchar it works fine.  When I try to just copy it to jp2 it 
> fails.  It looks like the only diff between the two operations is the 
> datatype used to initialize the JP2WriterManager object in the 
> JP2CreateCopy() method of the mrsiddataset.cpp file.  In 
> MrSIDDummyImageReader::initialize() the datatype is set to 
> LTI_DATATYPE_UINT16 instead of LTI_DATATYPE_UINT8.  Can anyone confirm

> this to be a problem in the GDAL mrsid driver?

Martin / Kirk,

Could you verify your file is UInt16?  I tried with an Int16 file, and
it crashed.  It turns out I wasn't checking return values from stuff
like the initialize() method, and it was returning an error code
indicating
"unsupported datatype [50903]".  If I force the output type to UInt16
things
seem to work fine.   This was all with Geo_ESDK-5.0.6.962.  Perhaps
behavior
has changed in ESDK 6?

I am going to tighten up the error checking a bunch, but I don't see
much
other action I can take for now.  Kirk can you comment on LTI_DATATYPE_
values that should work with JPEG2000?

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kmckelvey at lizardtech.com  Fri Feb 17 13:22:41 2006
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] MrSID driver with 16bit output
Message-ID: <DBEC881B4E22D1449F5FAC530E1ADD127CBF11@sea-srv-ms3.lizardtech.com>

5.0 supported datatypes were:
  LTI_DATATYPE_UINT8
  LTI_DATATYPE_UINT16

6.0 supported datatypes are:
  LTI_DATATYPE_UINT8
  LTI_DATATYPE_SINT8
  LTI_DATATYPE_UINT16
  LTI_DATATYPE_SINT16
 

> -----Original Message-----
> From: Chapman, Martin [mailto:MChapman@sanz.com] 
> Sent: Friday, February 17, 2006 10:20 AM
> To: Frank Warmerdam
> Cc: gdal-dev@lists.maptools.org; Kirk McKelvey
> Subject: RE: [Gdal-dev] MrSID driver with 16bit output
> 
> Frank / Kirk,
> 
> My file is UInt16.  Sounds like the same error I get.  Did 
> you check in your changes?  I'll test it out on my image.
> 
> Best regards,
> Martin
> 
> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf 
> Of Frank Warmerdam
> Sent: Friday, February 17, 2006 9:56 AM
> To: Chapman, Martin
> Cc: gdal-dev@lists.maptools.org; Kirk McKelvey
> Subject: Re: [Gdal-dev] MrSID driver with 16bit output
> 
> Chapman, Martin wrote:
> > I have a 16bit (GDT_UInt16) tiff file that I am trying to copy to a
> > UInt16 jp2 file using the MrSID esdk 6.x driver.  When I 
> try to remap
> it 
> > to 8-bit uchar it works fine.  When I try to just copy it to jp2 it 
> > fails.  It looks like the only diff between the two 
> operations is the 
> > datatype used to initialize the JP2WriterManager object in the
> > JP2CreateCopy() method of the mrsiddataset.cpp file.  In
> > MrSIDDummyImageReader::initialize() the datatype is set to
> > LTI_DATATYPE_UINT16 instead of LTI_DATATYPE_UINT8.  Can 
> anyone confirm
> 
> > this to be a problem in the GDAL mrsid driver?
> 
> Martin / Kirk,
> 
> Could you verify your file is UInt16?  I tried with an Int16 
> file, and it crashed.  It turns out I wasn't checking return 
> values from stuff like the initialize() method, and it was 
> returning an error code indicating "unsupported datatype 
> [50903]".  If I force the output type to UInt16 things
> seem to work fine.   This was all with Geo_ESDK-5.0.6.962.  Perhaps
> behavior
> has changed in ESDK 6?
> 
> I am going to tighten up the error checking a bunch, but I 
> don't see much other action I can take for now.  Kirk can you 
> comment on LTI_DATATYPE_ values that should work with JPEG2000?
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial 
> Programmer for Rent
> 
> 


From hobu at iastate.edu  Fri Feb 17 14:18:19 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Mysql support
In-Reply-To: <7585F83BC6F1DB4195D8496D9C68963A0117BA61@MCLNEXVS08.resour
	ce.ds.bah.com>
References: <7585F83BC6F1DB4195D8496D9C68963A0117BA61@MCLNEXVS08.resource.ds.bah.com>
Message-ID: <6.2.3.4.2.20060217131703.03362d90@hobu.mail.iastate.edu>

Joe,

If you can do a cvs update, there were quite a few changes to the 
mysql driver yesterday and the day before.  These may have an impact 
on your issues.

Also, you can just let ogr2ogr *create* the spatial_ref_sys and 
geometry_columns table for you in a fresh database without manually 
doing it yourself.  Were you just letting ogr2ogr do it, or were you 
doing with some sort of sql command?

Howard

At 12:14 PM 2/17/2006, Miller Joseph wrote:
>Content-class: urn:content-classes:message
>Content-Type: multipart/alternative;
>         boundary="----_=_NextPart_001_01C633ED.EB75D952"
>
>Hey all,
>With some tweaking of ogrmysqllayer.cpp and pcrtypes.h I was able to 
>get the daily build of feb 13 to compile and link on a windows xp 
>system using visual c 6.0.
>
>I used to ogr2ogr to create the Geometry_Columns table and I created 
>a spatial_ref_sys table as described in: 
><http://home.gdal.org/projects/osvecdb/sfsql-schema.html>http://home.gdal.org/projects/osvecdb/sfsql-schema.html
>
>I altered the geometry_columns so that the srid column was a foreign 
>key from the spatial ref table.
>
>I am still not having luck having ogrinfo reflect the srid 
>information I entered.  I even made sure that data I entered using 
>the Geomfromtext function included the srid.  My question is whether 
>I am doing something wrong or if I should wait for a later build to 
>be released before the spatial_ref_sys table is supported??
>
>Thanks in advance,
>Joe Miller
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From mgleahy at golden.net  Fri Feb 17 17:26:46 2006
From: mgleahy at golden.net (Mike Leahy)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] extra qualification 'FITRasterBand::' on
	member	'FITRasterBand'
In-Reply-To: <43F60ABD.8070108@pobox.com>
References: <43F5FE4B.1000706@golden.net> <43F60ABD.8070108@pobox.com>
Message-ID: <43F64DA6.8030108@golden.net>

Hello Frank,

That seems to have done the trick.

I do have some other question relating to some issues I'm having with 
the configure script - but I wouldn't claim these to be vital, I'm just 
pointing them out (also I'm still using 1.3.1 - perhaps I should switch 
to the CVS?):

First, if I use '--with-geotiff=/usr', I get the error below, while 
ommitting it altogether, or using '--with-geotiff=yes' seems to detect 
the external library fine wihtout complaint:

checking for XTIFFClientOpen in -lgeotiff... no
configure: error: We require at least GeoTIFF 1.2.1. Consider using the 
one supplied with GDAL

I had compiles 1.2.2, even using a patch that I found online in the bug 
tracker, but which I think now was unecessary...

I also have a similar problem with the '--with-jasper' option.  If I 
supply the install folder, it will detect it, but GeoJP2=no in the 
configure status.  Setting this option to 'yes', or omitting it doesn't 
include the library support at all in the config status.  However, if I 
use no options with configure (e.g., './configure --prefix=/usr', and if 
I have the modified jasper from the gdal website installed, it will 
successfully detect the library, and set GeoJP2=yes.  Once I use the 
configure script with any additional options, I can't get the jasper 
module properly detected with GeoJP2 support, only without GeoJP2.

One last thing - I tried to add support for xerces.  However, I wasn't 
able to compile the source for it.  I installed rpms for FC4 (since none 
for FC5-i386 were available).  These rpms installed okay (at least no 
complaints regarding dependencies), but when I try to include the xerces 
library, I get the following:

checking for Xerces C++... requested, but compile or link fails!

g++ -I/usr/include -I/usr/include/xercesc -o conftest conftest.cpp 
-L/usr/lib -lxerces-c -lpthread -L/usr -L/usr/lib -ljasper -L/usr/lib 
missing -L/usr -L/usr/lib -logdi31 -L/usr -L/usr/lib -lgif -L/usr 
-L/usr/lib -ljpeg -L/usr/lib -ltiff -L/usr -L/usr/lib -lpng -L/usr 
-L/usr/lib -lnetcdf -L/usr/lib -lcsf -L/usr -L/usr/lib -lcfitsio 
-L/usr/lib -lpq -lz -L/usr -L/usr/lib -lm -lrt -ldl

I suppose this probably has to do with the xerces-c compiled for FC4 
rather than FC5, but maybe someone has some other insight?

Since I don't think I'm likely to be making use of Jpeg2000 to any great 
extent in the near future, I think I'm okay with the current state, as I 
can at least one way or another get support for everything else I'm 
installing. It would be nice to get the xerces working if I can, but I 
can do without it for now as well.

Thanks again for your help,
Mike


Frank Warmerdam wrote:
> Mike Leahy wrote:
>> Hello list,
>>
>> I'm wondering if anyone might recognize the errors I'm getting below 
>> when I try to compile gdal.  I'm currently running FC5 test 2...I'm 
>> pretty sure I got the same version to compile fine on FC4, so maybe 
>> this is an issue with gcc-4.1.0 that is the current release for FC5?  
>> At any rate, regardless of what options I include in the configuration 
>> (i.e., disabling/internalizing as many options as possible), I get the 
>> same result.  I don't see anything recent in the list that suggests 
>> anyone else has the same problem...
>>
>> Any ideas?  Should I just forget about getting this to work on 
>> FC5/gcc4 for now?
>>
>> Thanks in advance for any suggestions,
>> Mike
>>
>> ================================================
>>
>> fitdataset.cpp:177: error: extra qualification 'FITRasterBand::' on 
>> member 'FITRasterBand'
>> fitdataset.cpp: In static member function 'static GDALDataset* 
> 
> Mike,
> 
> Change:
>     FITRasterBand::FITRasterBand( FITDataset *, int );
> 
> To:
>     FITRasterBand( FITDataset *, int );
> 
> I have committed the same change in CVS.   Let me know if you
> run into other problems.
> 
> Best regards,

From matt.wilkie at gov.yk.ca  Fri Feb 17 18:07:07 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] download or buy BMNG dvd/cd ?
Message-ID: <43F6571B.60306@gov.yk.ca>

Hi Folks,   is there somewhere I can download or buy cdrom or dvd's for 
the full Blue Marble Next Generation dataset?  (georeferenced?) Our 
firewall disallows BitTorrent.

thanks,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From mgleahy at alumni.uwaterloo.ca  Fri Feb 17 11:47:21 2006
From: mgleahy at alumni.uwaterloo.ca (Mike Leahy)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] extra qualification 'FITRasterBand::' on member
	'FITRasterBand'
Message-ID: <43F5FE19.3000807@alumni.uwaterloo.ca>

Hello list,

I'm wondering if anyone might recognize the errors I'm getting below 
when I try to compile gdal.  I'm currently running FC5 test 2...I'm 
pretty sure I got the same version to compile fine on FC4, so maybe this 
is an issue with gcc-4.1.0 that is the current release for FC5?  At any 
rate, regardless of what options I include in the configuration (i.e., 
disabling/internalizing as many options as possible), I get the same 
result.  I don't see anything recent in the list that suggests anyone 
else has the same problem...

Any ideas?  Should I just forget about getting this to work on FC5/gcc4 
for now?

Thanks in advance for any suggestions,
Mike

================================================

fitdataset.cpp:177: error: extra qualification 'FITRasterBand::' on 
member 'FITRasterBand'
fitdataset.cpp: In static member function 'static GDALDataset* 
FITDataset::Open(GDALOpenInfo*)':
fitdataset.cpp:1019: warning: dereferencing type-punned pointer will 
break strict-aliasing rules
make[2]: *** [../o/fitdataset.o] Error 1
make[2]: Leaving directory `/data/gdal-1.3.1/frmts/fit'
make[1]: *** [fit-install-obj] Error 2
make[1]: Leaving directory `/data/gdal-1.3.1/frmts'
make: *** [frmts-target] Error 2

From mgleahy at golden.net  Fri Feb 17 18:52:14 2006
From: mgleahy at golden.net (Mike Leahy)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] extra qualification 'FITRasterBand::' on
	member	'FITRasterBand'
In-Reply-To: <43F60ABD.8070108@pobox.com>
References: <43F5FE4B.1000706@golden.net> <43F60ABD.8070108@pobox.com>
Message-ID: <43F661AE.3060406@golden.net>

Hello again,

I did in fact find some new problems with 1.3.1, so I switched to the 
CVS, and that seems to have addressed alot of the stuff I pointed out 
earlier, so I guess you can ignore my previous message.  However, now I 
get some new issues, which look somewhat similar, but I'm not sure how I 
should go about fixing these - I tried imitating the previous solution, 
but it I'm not having any luck:

make[2]: Entering directory `/data/mapserver/gdal/frmts/fits'
/bin/sh ../../libtool --mode=compile g++ -Wall  -O2   -I../../port 
-I../../gcore -I../../alg -I../../ogr -I../../ogr/ogrsf_frmts 
-DOGR_ENABLED -c -o ../o/fitsdataset.o fitsdataset.cpp
  g++ -Wall -O2 -I../../port -I../../gcore -I../../alg -I../../ogr 
-I../../ogr/ogrsf_frmts -DOGR_ENABLED -c fitsdataset.cpp  -fPIC -DPIC -o 
../o/.libs/fitsdataset.o
fitsdataset.cpp:104:20: error: fitsio.h: No such file or directory
fitsdataset.cpp:120: error: ISO C++ forbids declaration of 'fitsfile' 
with no type
fitsdataset.cpp:120: error: expected ';' before '*' token
fitsdataset.cpp:130: error: 'fitsfile' has not been declared
fitsdataset.cpp: In member function 'virtual CPLErr 
FITSRasterBand::IReadBlock(int, int, void*)':
fitsdataset.cpp:193: error: 'fitsfile' was not declared in this scope
fitsdataset.cpp:193: error: 'hFITS' was not declared in this scope
fitsdataset.cpp:193: error: 'class FITSDataset' has no member named 'hFITS'
fitsdataset.cpp:218: error: 'fits_read_img' was not declared in this scope
fitsdataset.cpp: In member function 'virtual CPLErr 
FITSRasterBand::IWriteBlock(int, int, void*)':
fitsdataset.cpp:237: error: 'fitsfile' was not declared in this scope
fitsdataset.cpp:237: error: 'hFITS' was not declared in this scope
fitsdataset.cpp:237: error: 'class FITSDataset' has no member named 'hFITS'
fitsdataset.cpp:250: error: 'fits_write_img' was not declared in this scope
fitsdataset.cpp:256: error: 'NUM_OVERFLOW' was not declared in this scope
fitsdataset.cpp: In constructor 'FITSDataset::FITSDataset()':
fitsdataset.cpp:303: error: 'hFITS' was not declared in this scope
fitsdataset.cpp: In destructor 'virtual FITSDataset::~FITSDataset()':
fitsdataset.cpp:313: error: 'hFITS' was not declared in this scope
fitsdataset.cpp:317: error: 'fits_movabs_hdu' was not declared in this scope
fitsdataset.cpp:318: error: 'fits_write_key_longwarn' was not declared 
in this scope
fitsdataset.cpp:351: error: 'fits_update_key_longstr' was not declared 
in this scope
fitsdataset.cpp:372: error: 'fits_close_file' was not declared in this scope
fitsdataset.cpp: At global scope:
fitsdataset.cpp:382: error: 'CPLErr FITSDataset::Init' is not a static 
member of 'class FITSDataset'
fitsdataset.cpp:382: error: 'fitsfile' was not declared in this scope
fitsdataset.cpp:382: error: 'hFITS_' was not declared in this scope
fitsdataset.cpp:382: error: expected primary-expression before 'bool'
fitsdataset.cpp:382: error: initializer expression list treated as 
compound expression
fitsdataset.cpp:382: error: expected ',' or ';' before '{' token
make[2]: *** [../o/fitsdataset.o] Error 1
make[2]: Leaving directory `/data/mapserver/gdal/frmts/fits'
make[1]: *** [fits-install-obj] Error 2
make[1]: Leaving directory `/data/mapserver/gdal/frmts'
make: *** [frmts-target] Error 2


Mike

Frank Warmerdam wrote:
> Mike Leahy wrote:
>> Hello list,
>>
>> I'm wondering if anyone might recognize the errors I'm getting below 
>> when I try to compile gdal.  I'm currently running FC5 test 2...I'm 
>> pretty sure I got the same version to compile fine on FC4, so maybe 
>> this is an issue with gcc-4.1.0 that is the current release for FC5?  
>> At any rate, regardless of what options I include in the configuration 
>> (i.e., disabling/internalizing as many options as possible), I get the 
>> same result.  I don't see anything recent in the list that suggests 
>> anyone else has the same problem...
>>
>> Any ideas?  Should I just forget about getting this to work on 
>> FC5/gcc4 for now?
>>
>> Thanks in advance for any suggestions,
>> Mike
>>
>> ================================================
>>
>> fitdataset.cpp:177: error: extra qualification 'FITRasterBand::' on 
>> member 'FITRasterBand'
>> fitdataset.cpp: In static member function 'static GDALDataset* 
> 
> Mike,
> 
> Change:
>     FITRasterBand::FITRasterBand( FITDataset *, int );
> 
> To:
>     FITRasterBand( FITDataset *, int );
> 
> I have committed the same change in CVS.   Let me know if you
> run into other problems.
> 
> Best regards,

From mgleahy at golden.net  Fri Feb 17 19:12:47 2006
From: mgleahy at golden.net (Mike Leahy)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] extra qualification 'FITRasterBand::'
	on	member	'FITRasterBand'
In-Reply-To: <43F661AE.3060406@golden.net>
References: <43F5FE4B.1000706@golden.net> <43F60ABD.8070108@pobox.com>
	<43F661AE.3060406@golden.net>
Message-ID: <43F6667F.1090803@golden.net>

Just for kicks, I bypassed the errors below by using --with-cfitsio=no 
in ./configure for the CVS version.  Now I get the following while its 
compiling OGR (which is much further than I was getting before)...

g++ -Wall -O2 -I.. -I../.. -I../../../port -I../../../gcore 
-I../../../alg -I../../../ogr -I../../../ogr/ogrsf_frmts -I/usr/include 
-I/usr/include/xercesc -DHAVE_GEOS=1 -I/usr/include -DOGR_ENABLED -c 
ogrili2layer.cpp  -fPIC -DPIC -o ../o/.libs/ogrili2layer.o
ogrili2layer.cpp: In constructor 'OGRILI2Layer::OGRILI2Layer(const 
char*, OGRSpatialReference*, int, OGRwkbGeometryType, OGRILI2DataSource*)':
ogrili2layer.cpp:76: error: no match for 'operator=' in 
'((OGRILI2Layer*)this)->OGRILI2Layer::listFeatureIt = 0'
/usr/lib/gcc/i386-redhat-linux/4.1.0/../../../../include/c++/4.1.0/bits/stl_list.h:189: 
note: candidates are: std::_List_const_iterator<OGRFeature*>& 
std::_List_const_iterator<OGRFeature*>::operator=(const 
std::_List_const_iterator<OGRFeature*>&)
ogrili2layer.cpp: In member function 'virtual OGRFeature* 
OGRILI2Layer::GetNextFeature()':
ogrili2layer.cpp:135: error: no match for 'operator==' in 
'((OGRILI2Layer*)this)->OGRILI2Layer::listFeatureIt == 0'
/usr/lib/gcc/i386-redhat-linux/4.1.0/../../../../include/c++/4.1.0/bits/stl_list.h:251: 
note: candidates are: bool 
std::_List_const_iterator<_Tp>::operator==(const 
std::_List_const_iterator<_Tp>&) const [with _Tp = OGRFeature*]
make[3]: *** [../o/ogrili2layer.o] Error 1
make[3]: Leaving directory `/data/mapserver/gdal/ogr/ogrsf_frmts/ili'
make[2]: *** [ili-target] Error 2
make[2]: Leaving directory `/data/mapserver/gdal/ogr/ogrsf_frmts'
make[1]: *** [sublibs] Error 2
make[1]: Leaving directory `/data/mapserver/gdal/ogr'
make: *** [ogr-target] Error 2

Mike Leahy wrote:
> Hello again,
> 
> I did in fact find some new problems with 1.3.1, so I switched to the 
> CVS, and that seems to have addressed alot of the stuff I pointed out 
> earlier, so I guess you can ignore my previous message.  However, now I 
> get some new issues, which look somewhat similar, but I'm not sure how I 
> should go about fixing these - I tried imitating the previous solution, 
> but it I'm not having any luck:
> 
> make[2]: Entering directory `/data/mapserver/gdal/frmts/fits'
> /bin/sh ../../libtool --mode=compile g++ -Wall  -O2   -I../../port 
> -I../../gcore -I../../alg -I../../ogr -I../../ogr/ogrsf_frmts 
> -DOGR_ENABLED -c -o ../o/fitsdataset.o fitsdataset.cpp
>  g++ -Wall -O2 -I../../port -I../../gcore -I../../alg -I../../ogr 
> -I../../ogr/ogrsf_frmts -DOGR_ENABLED -c fitsdataset.cpp  -fPIC -DPIC -o 
> ../o/.libs/fitsdataset.o
> fitsdataset.cpp:104:20: error: fitsio.h: No such file or directory
> fitsdataset.cpp:120: error: ISO C++ forbids declaration of 'fitsfile' 
> with no type
> fitsdataset.cpp:120: error: expected ';' before '*' token
> fitsdataset.cpp:130: error: 'fitsfile' has not been declared
> fitsdataset.cpp: In member function 'virtual CPLErr 
> FITSRasterBand::IReadBlock(int, int, void*)':
> fitsdataset.cpp:193: error: 'fitsfile' was not declared in this scope
> fitsdataset.cpp:193: error: 'hFITS' was not declared in this scope
> fitsdataset.cpp:193: error: 'class FITSDataset' has no member named 'hFITS'
> fitsdataset.cpp:218: error: 'fits_read_img' was not declared in this scope
> fitsdataset.cpp: In member function 'virtual CPLErr 
> FITSRasterBand::IWriteBlock(int, int, void*)':
> fitsdataset.cpp:237: error: 'fitsfile' was not declared in this scope
> fitsdataset.cpp:237: error: 'hFITS' was not declared in this scope
> fitsdataset.cpp:237: error: 'class FITSDataset' has no member named 'hFITS'
> fitsdataset.cpp:250: error: 'fits_write_img' was not declared in this scope
> fitsdataset.cpp:256: error: 'NUM_OVERFLOW' was not declared in this scope
> fitsdataset.cpp: In constructor 'FITSDataset::FITSDataset()':
> fitsdataset.cpp:303: error: 'hFITS' was not declared in this scope
> fitsdataset.cpp: In destructor 'virtual FITSDataset::~FITSDataset()':
> fitsdataset.cpp:313: error: 'hFITS' was not declared in this scope
> fitsdataset.cpp:317: error: 'fits_movabs_hdu' was not declared in this 
> scope
> fitsdataset.cpp:318: error: 'fits_write_key_longwarn' was not declared 
> in this scope
> fitsdataset.cpp:351: error: 'fits_update_key_longstr' was not declared 
> in this scope
> fitsdataset.cpp:372: error: 'fits_close_file' was not declared in this 
> scope
> fitsdataset.cpp: At global scope:
> fitsdataset.cpp:382: error: 'CPLErr FITSDataset::Init' is not a static 
> member of 'class FITSDataset'
> fitsdataset.cpp:382: error: 'fitsfile' was not declared in this scope
> fitsdataset.cpp:382: error: 'hFITS_' was not declared in this scope
> fitsdataset.cpp:382: error: expected primary-expression before 'bool'
> fitsdataset.cpp:382: error: initializer expression list treated as 
> compound expression
> fitsdataset.cpp:382: error: expected ',' or ';' before '{' token
> make[2]: *** [../o/fitsdataset.o] Error 1
> make[2]: Leaving directory `/data/mapserver/gdal/frmts/fits'
> make[1]: *** [fits-install-obj] Error 2
> make[1]: Leaving directory `/data/mapserver/gdal/frmts'
> make: *** [frmts-target] Error 2
> 
> 
> Mike
> 
> Frank Warmerdam wrote:
>> Mike Leahy wrote:
>>> Hello list,
>>>
>>> I'm wondering if anyone might recognize the errors I'm getting below 
>>> when I try to compile gdal.  I'm currently running FC5 test 2...I'm 
>>> pretty sure I got the same version to compile fine on FC4, so maybe 
>>> this is an issue with gcc-4.1.0 that is the current release for FC5?  
>>> At any rate, regardless of what options I include in the 
>>> configuration (i.e., disabling/internalizing as many options as 
>>> possible), I get the same result.  I don't see anything recent in the 
>>> list that suggests anyone else has the same problem...
>>>
>>> Any ideas?  Should I just forget about getting this to work on 
>>> FC5/gcc4 for now?
>>>
>>> Thanks in advance for any suggestions,
>>> Mike
>>>
>>> ================================================
>>>
>>> fitdataset.cpp:177: error: extra qualification 'FITRasterBand::' on 
>>> member 'FITRasterBand'
>>> fitdataset.cpp: In static member function 'static GDALDataset* 
>>
>> Mike,
>>
>> Change:
>>     FITRasterBand::FITRasterBand( FITDataset *, int );
>>
>> To:
>>     FITRasterBand( FITDataset *, int );
>>
>> I have committed the same change in CVS.   Let me know if you
>> run into other problems.
>>
>> Best regards,
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

From tonio_73 at tiscali.fr  Sat Feb 18 11:58:56 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] New to list, issue with Swiss grid
Message-ID: <c6ad857e690fb5623e0a39877b55dca6@tiscali.fr>

Hello,

I am new to this list, let me introduce myself.

I am not exactly a specialist in geography related topics. However, I  
use geography a lot while cruising around in the Alps where I live.
Actually, I came to GDAL while programming a tool to display GPS  
tracks: Le Petit Poucet (http://petit-poucet.org). It is far from a  
Google Earth killer but it is more open to any user data.

Here comes my question about the Swiss Grid. I would like to load a  
scan of a SwissTopo map whose grid is said to be CH1903. I have tried  
the WKT of  
http://www.remotesensing.org/geotiff/proj_list/ 
swiss_oblique_cylindrical.html but is does not work at all.
I have then used the WKT named LV03 in:  
http://lists.maptools.org/pipermail/gdal-dev/2004-October/004487.html
The false easting and northing are different and correspond to the one  
given on swisstopo.ch. The result when rewarped to WGS84 is close to  
correct but not exact: SRTM DEM does not match, WGS84 waypoints do not  
match with the same offset. Offset is southward (+ a little eastward).
GDAL is version 1.3.1.

Does anybody know of a better WKT for the Swisstopo maps?

Thanks,

Antoine


From miller_joseph at bah.com  Sat Feb 18 12:00:38 2006
From: miller_joseph at bah.com (Miller Joseph)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Mysql support
Message-ID: <7585F83BC6F1DB4195D8496D9C68963A0117BBE2@MCLNEXVS08.resource.ds.bah.com>

Howard,
I was manually using sql to create the tables.  I tried extracting sql
from the old perl script that came with mapserver to create the tables,
but it looks like you guys interpret the standard a little different (eg
the feature type as a varchar intead of an int in the geometry_columns
table).  I got the Feb 18 build and it worked fine for loading and
getting metadata using ogr2ogr and ogrinfo.  I then rebuilt mapserver
with the new gdal build but was unable to get anything to display using
shp2img.  I consistently get a "memory cannot be read error" followed by
the MySQL service crashing.  Is anyone else getting this or maybe it is
just a windows issue?  I am using mysql 5.0 on an xp pro machine.

Thanks,
Joe 

-----Original Message-----
From: Howard Butler [mailto:hobu@iastate.edu] 
Sent: Friday, February 17, 2006 2:18 PM
To: Miller Joseph; gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Mysql support

Joe,

If you can do a cvs update, there were quite a few changes to the mysql
driver yesterday and the day before.  These may have an impact on your
issues.

Also, you can just let ogr2ogr *create* the spatial_ref_sys and
geometry_columns table for you in a fresh database without manually
doing it yourself.  Were you just letting ogr2ogr do it, or were you
doing with some sort of sql command?

Howard

At 12:14 PM 2/17/2006, Miller Joseph wrote:
>Content-class: urn:content-classes:message
>Content-Type: multipart/alternative;
>         boundary="----_=_NextPart_001_01C633ED.EB75D952"
>
>Hey all,
>With some tweaking of ogrmysqllayer.cpp and pcrtypes.h I was able to 
>get the daily build of feb 13 to compile and link on a windows xp 
>system using visual c 6.0.
>
>I used to ogr2ogr to create the Geometry_Columns table and I created a 
>spatial_ref_sys table as described in:
><http://home.gdal.org/projects/osvecdb/sfsql-schema.html>http://home.gd
>al.org/projects/osvecdb/sfsql-schema.html
>
>I altered the geometry_columns so that the srid column was a foreign 
>key from the spatial ref table.
>
>I am still not having luck having ogrinfo reflect the srid information 
>I entered.  I even made sure that data I entered using the Geomfromtext

>function included the srid.  My question is whether I am doing 
>something wrong or if I should wait for a later build to be released 
>before the spatial_ref_sys table is supported??
>
>Thanks in advance,
>Joe Miller
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From s_jubeh at yahoo.com  Sun Feb 19 10:34:08 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] GDALRasterIO
Message-ID: <20060219153408.55781.qmail@web52715.mail.yahoo.com>

Hi guys
   
  I would like dump the content of image into an array to do some processing; I was able to extract rows 
   
  But I want to extract the whole image band  how this can be done
   
  I used this code 
   
  nXSize = GDALGetRasterBandXSize( hBand );
  nYSize = GDALGetRasterBandYSize( hBand );
   
  pafScan = (float *) CPLMalloc(sizeof(float)*nXSize*nYSize);
          GDALRasterIO( hBand, GF_Read, 0, 0, nXSize, nYSize, 
                        pafScan, nXSize,nYSize,GDT_Float32, 
                        0, 0 );
  But still when I say pafScan[10,10] it give me the value of 10th pixel in the first row
   




Best Regard
 
Eng. Salah Al Jubeh

MCP,MCAD,MCSD 



Mobile:00306947192421

 



			
---------------------------------
 Yahoo! Mail
 Use Photomail to share photos without annoying attachments.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060219/bfa8e915/attachment.html
From warmerdam at pobox.com  Sun Feb 19 11:10:43 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] GDALRasterIO
In-Reply-To: <20060219153408.55781.qmail@web52715.mail.yahoo.com>
References: <20060219153408.55781.qmail@web52715.mail.yahoo.com>
Message-ID: <43F89883.3000400@pobox.com>

salah jubeh wrote:
> Hi guys
>  
> I would like dump the content of image into an array to do some 
> processing; I was able to extract rows
>  
> But I want to extract the whole image band  how this can be done
>  
> I used this code
>  
> nXSize = GDALGetRasterBandXSize( hBand );
> nYSize = GDALGetRasterBandYSize( hBand );
>  
> pafScan = (float *) CPLMalloc(sizeof(float)*nXSize*nYSize);
>         GDALRasterIO( hBand, GF_Read, 0, 0, nXSize, nYSize,
>                       pafScan, nXSize,nYSize,GDT_Float32,
>                       0, 0 );
> But still when I say pafScan[10,10] it give me the value of 10^th pixel 
> in the first row

Salah,

How was pafScan declared?  If it is simply "float *pafScan;" then it
is a 1D array and you would need to do the 2d to 1d conversion yourself.

eg.

read pafScan[10 + 10 * nXSize]

The code itself looks fine for reading the whole band at once.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From hobu at iastate.edu  Sun Feb 19 12:47:37 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Mysql support
In-Reply-To: <7585F83BC6F1DB4195D8496D9C68963A0117BBE2@MCLNEXVS08.resource.ds.bah.com>
References: <7585F83BC6F1DB4195D8496D9C68963A0117BBE2@MCLNEXVS08.resource.ds.bah.com>
Message-ID: <p06200701c01e49aa6352@[192.168.11.4]>

Joe,

Section 3.2.2.2 of the OGC SFSQL Spec (99-049) doesn't seem to say 
anything about the storage of the geometry type column in the 
geometry_columns table.  By "standard" do you mean to say the OGC 
SFSQL spec, or how the shp2mysql perl script was loading the data? 
In the OGR MySQL driver, I am currently doing what PostGIS does for a 
geometry_columns table, which was a 30 character field for type.

I can only speculate on the MySQL crashing.  Is it the server 
crashing, or the client?  Is everything on Windows, or is the server 
on windows and the client is connecting from something else?

I did most of my development with 5.0.16.  Are you using the same 5.x 
version, or something different?  Frank did some work on getting 
things to behave well on the 4.x series, and he did some testing on 
Windows.  Anyway, the MySQL bugzilla had quite a few issues related 
to WKB generation.  This is one possibility.

The other is that query is possibly doing a double free and/or there 
is something funky with the spatial filter setting stuff.  Without a 
traceback, it is hard to know.

Any more info you can give me to go from would be great.  Also, you 
might put together a GDAL bugzilla report with this stuff and CC me 
to it.  We can track it there.

Howard



At 12:00 PM -0500 2/18/06, Miller Joseph wrote:
>Howard,
>I was manually using sql to create the tables.  I tried extracting sql
>from the old perl script that came with mapserver to create the tables,
>but it looks like you guys interpret the standard a little different (eg
>the feature type as a varchar intead of an int in the geometry_columns
>table).  I got the Feb 18 build and it worked fine for loading and
>getting metadata using ogr2ogr and ogrinfo.  I then rebuilt mapserver
>with the new gdal build but was unable to get anything to display using
>shp2img.  I consistently get a "memory cannot be read error" followed by
>the MySQL service crashing.  Is anyone else getting this or maybe it is
>just a windows issue?  I am using mysql 5.0 on an xp pro machine.
>
>Thanks,
>Joe
>
>-----Original Message-----
>From: Howard Butler [mailto:hobu@iastate.edu]
>Sent: Friday, February 17, 2006 2:18 PM
>To: Miller Joseph; gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] Mysql support
>
>Joe,
>
>If you can do a cvs update, there were quite a few changes to the mysql
>driver yesterday and the day before.  These may have an impact on your
>issues.
>
>Also, you can just let ogr2ogr *create* the spatial_ref_sys and
>geometry_columns table for you in a fresh database without manually
>doing it yourself.  Were you just letting ogr2ogr do it, or were you
>doing with some sort of sql command?
>
>Howard
>
>At 12:14 PM 2/17/2006, Miller Joseph wrote:
>>Content-class: urn:content-classes:message
>>Content-Type: multipart/alternative;
>>          boundary="----_=_NextPart_001_01C633ED.EB75D952"
>>
>>Hey all,
>>With some tweaking of ogrmysqllayer.cpp and pcrtypes.h I was able to
>>get the daily build of feb 13 to compile and link on a windows xp
>>system using visual c 6.0.
>>
>>I used to ogr2ogr to create the Geometry_Columns table and I created a
>>spatial_ref_sys table as described in:
>><http://home.gdal.org/projects/osvecdb/sfsql-schema.html>http://home.gd
>>al.org/projects/osvecdb/sfsql-schema.html
>>
>>I altered the geometry_columns so that the srid column was a foreign
>>key from the spatial ref table.
>>
>>I am still not having luck having ogrinfo reflect the srid information
>>I entered.  I even made sure that data I entered using the Geomfromtext
>
>>function included the srid.  My question is whether I am doing
>>something wrong or if I should wait for a later build to be released
>>before the spatial_ref_sys table is supported??
>>
>>Thanks in advance,
>>Joe Miller
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev


From support at geoimage.fr  Mon Feb 20 11:07:04 2006
From: support at geoimage.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Little problem in makefile.vc
Message-ID: <110b01c63637$b1374b50$0a01a8c0@pili>

Hello,

1/ I think there is a very little problem in makefile.vc from gdal 1.3.1.

The problem appears when trying to build with stdcal disabled (link problem).

In makefile.vc

!IFDEF STDCALL
BASE_INCLUDE = /INCLUDE:_GDALSimpleImageWarp@36 \
  /INCLUDE:_GDALReprojectImage@48 \
  /INCLUDE:_GDALComputeMedianCutPCT@32 \
  /INCLUDE:_GDALDitherRGB2PCT@28 \
  /INCLUDE:_vbSafeArrayToPtr@16 \
  /INCLUDE:_OCTNewCoordinateTransformation@8
!ELSE
BASE_INCLUDE = /INCLUDE:_GDALSimpleImageWarp \
  /INCLUDE:_GDALReprojectImage \
  /INCLUDE:_GDALComputeMedianCutPCT \
  /INCLUDE:_GDALDitherRGB2PCT \
  /INCLUDE:_OCTNewCoordinateTransformation@8
!ENDIF

The  last
    /INCLUDE:_OCTNewCoordinateTransformation@8
should be
   /INCLUDE:_OCTNewCoordinateTransformation

--------------------------------------------------------------------------------------------

2/ Does anyone here have already used GDAL driver plugins with ms4w ?


Regards,

Fr?d?ric.

_________________________________________________________________
Fr?d?ric Trastour - SpacEyes - dev@spaceyes.fr


From warmerdam at pobox.com  Mon Feb 20 12:00:42 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Little problem in makefile.vc
In-Reply-To: <110b01c63637$b1374b50$0a01a8c0@pili>
References: <110b01c63637$b1374b50$0a01a8c0@pili>
Message-ID: <43F9F5BA.8030704@pobox.com>

Fr?d?ric Trastour wrote:
> Hello,
> 
> 1/ I think there is a very little problem in makefile.vc from gdal 1.3.1.
> 
> The problem appears when trying to build with stdcal disabled (link problem).
> 
> In makefile.vc
> 
> !IFDEF STDCALL
> BASE_INCLUDE = /INCLUDE:_GDALSimpleImageWarp@36 \
>   /INCLUDE:_GDALReprojectImage@48 \
>   /INCLUDE:_GDALComputeMedianCutPCT@32 \
>   /INCLUDE:_GDALDitherRGB2PCT@28 \
>   /INCLUDE:_vbSafeArrayToPtr@16 \
>   /INCLUDE:_OCTNewCoordinateTransformation@8
> !ELSE
> BASE_INCLUDE = /INCLUDE:_GDALSimpleImageWarp \
>   /INCLUDE:_GDALReprojectImage \
>   /INCLUDE:_GDALComputeMedianCutPCT \
>   /INCLUDE:_GDALDitherRGB2PCT \
>   /INCLUDE:_OCTNewCoordinateTransformation@8
> !ENDIF
> 
> The  last
>     /INCLUDE:_OCTNewCoordinateTransformation@8
> should be
>    /INCLUDE:_OCTNewCoordinateTransformation

Fr?d?ric,

You are correct, and this was already fixed in CVS.

> 2/ Does anyone here have already used GDAL driver plugins with ms4w ?

I have built and deployed MrSID plugins for MS4W successfully.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From hobu at iastate.edu  Mon Feb 20 12:26:42 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:00 2007
Subject: Fwd: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <c39b2a650602090754u43fbbcf6q961a064d6eb0f83f@mail.gmail.co
 m>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
	<CFDF0CD5-14DE-4F75-B1B3-9A11AFFA2622@kyngchaos.com>
	<c39b2a650602090753r576fe1eflff2be0532c08347d@mail.gmail.com>
	<c39b2a650602090754u43fbbcf6q961a064d6eb0f83f@mail.gmail.com>
Message-ID: <6.2.3.4.2.20060220102628.030b6260@hobu.mail.iastate.edu>

An out-of-the-box ./configure and make on OSX gcc 4.0.1 died in a 
flurry of errors for me.  RC1 would not link properly.

Is there any possibility of an ECW-dev maillist and a public CVS so 
we can track things?

Another data point, although I don't know if it is useful, is that 
Python needs to do some magic to compile on OSX because of its borken 
semaphores.  Chasing down HAVE_BROKEN_POSIX_SEMAPHORES in the Python 
source code might give some 
ideas. 
<http://blogs.nuxeo.com/sections/blogs/florent_guillaume/2005_05_21_compiling_python_2_3_5>

Howard

At 09:54 AM 2/9/2006, Tom Lynch wrote:
>On 2/9/06, William Kyngesburye <woklist@kyngchaos.com> wrote:
>
>     Rats.  Still not working on Mac OS X.  Trace/BPT Trap error.  This is
>     on 10.4/GCC 4 and 10.3/GCC 3.3 (at least I finally got it to build on
>     10.3).  Built with the Gnu configure method, static libecwj2, dynamic
>     libNCS* trio.  I even tried the examples this time, thinking GDAL
>     might be causing problems.
>
>     Was this one of the major problems you mentioned?  Or are you still
>     working on the Mac OS X issue?  Do you have any idea yet what the
>     cause is?
>
>William,
>
>Sounds like it.  I have seen that error during compressions on
>MacOS X.   MacOS X has some known oddities in its POSIX threads
>support, my current theory is that is breaking some assumptions made
>by our portable threading code.  I have already had to do a couple of
>evil things in there to make decompression support work correctly.
>
>The Qmake files included in the build are expected to be deprecated in
>future releases, but it's reasonably certain building with them
>wouldn't fix this issue in any case.
>
>Unfortunately, I will be offline for most of next week, and at this
>point I can't give you an ETA on a fix.  It is on my agenda, because
>most of the serious issues that have occurred with libecwj2 group
>around the portable threading code.  It may be in need of more drastic
>changes than the hacks that have occurred up to this point :-)
>
>If you are interested in investigating and possibly fixing the problem
>yourself, check out the files
>
>$LIBECWJ2/Source/C/NCSUtil/thread.c
>$LIBECWJ2/Source/C/NCSUtil/mutex.c
>
>My first thought was that a reimplementation for MacOS X in terms of
>Carbon multiprocessing services or mach threads might be in order.
>
>--
>Tom Lynch
>Development, ER Mapper
>Phone:      +61 8 93882900
>Fax:        +61 8 93882901
>Email:      tom.lynch@ermapper.com
>Web:        http://www.ermapper.com
>Forums:     http://forum.ermapper.com
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From s_jubeh at yahoo.com  Mon Feb 20 16:42:21 2006
From: s_jubeh at yahoo.com (salah jubeh)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Set Projection
Message-ID: <20060220214221.66721.qmail@web52715.mail.yahoo.com>

Hello.
   
  I am creating an image out of another image, i read the meta data information  from one image and assign it to he other image.
  this is the code i use to do it.
   
  DALSetGeoTransform( hDstDS, adfGeoTransform );
  GDALSetProjection( hDstDS, pszPrettyWkt);
  
  hBand = GDALGetRasterBand( hDstDS, 1 );
  GDALRasterIO( hBand, GF_Write, 0, 0, nXSize, nYSize, 
  pafScanline, nXSize, nYSize, GDT_Float32, 0, 0 ); 
  GDALClose( hDstDS );
   
  When i comment the  GDALSetProjection( hDstDS, pszWkt); i find that the image geotransformation matrix was set correctly . Also when i use GDALSetProjection( hDstDS, pszWkt); the geo transformation matrix not inserted neither the projection.
   
  I checked the PszWkt it give me this 
   
  PROJCS["IMAGINE GeoTIFF Support
Copyright 1991 - 2001 by ERDAS, Inc. All Rights Reserved
@(#)$RCSfile: egtf.c $ $Revision: 1.10.1.6 $ $Date: 2003/10/17 16:36:51EDT $
Projection Name = Transverse Mercator
Uni",GEOGCS["IMAGINE GeoTIFF Support
Copyright 1991 - 2001 by ERDAS, Inc. All Rights Reserved
@(#)$RCSfile: egtf.c $ $Revision: 1.10.1.6 $ $Date: 2003/10/17 16:36:51EDT $
Unable to match Ellipsoid (Datum) to a Ge",DATUM["unknown",SPHEROID["unnamed",63
78137,298.2572220960423]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433
]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER
["central_meridian",24],PARAMETER["scale_factor",0.9996],PARAMETER["false_eastin
g",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]
]]
   
  The original image has this prjection  
   
  Projection: Transverse Mercartor
  Spheroid:GRS 180
  Datum:EGSA 97
   
  I notice here the datum and the spheroid are not recognized is this why i can not update the projection.
   

		
---------------------------------
Relax. Yahoo! Mail virus scanning helps detect nasty viruses!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060220/10a0ca1f/attachment.html
From miller_joseph at bah.com  Mon Feb 20 18:50:04 2006
From: miller_joseph at bah.com (Miller Joseph)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Mysql support
Message-ID: <7585F83BC6F1DB4195D8496D9C68963A0117BF29@MCLNEXVS08.resource.ds.bah.com>

Howard,
Sorry, didn't mean to imply that you were violating the OGC standard.
The shp2mysql perl script was doing some funky things with the metadata
tables that were throwing me off.

As for MySQL it was the server that was crashing.  I am using version
5.0.16.  Can you give me a heads up on setting up a trace?  (I am a Java
person normally)  I'd like to put together a proper bugzilla report.

Thanks,
Joe 

-----Original Message-----
From: Howard Butler [mailto:hobu@iastate.edu] 
Sent: Sunday, February 19, 2006 12:48 PM
To: Miller Joseph; gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] Mysql support

Joe,

Section 3.2.2.2 of the OGC SFSQL Spec (99-049) doesn't seem to say
anything about the storage of the geometry type column in the
geometry_columns table.  By "standard" do you mean to say the OGC SFSQL
spec, or how the shp2mysql perl script was loading the data? 
In the OGR MySQL driver, I am currently doing what PostGIS does for a
geometry_columns table, which was a 30 character field for type.

I can only speculate on the MySQL crashing.  Is it the server crashing,
or the client?  Is everything on Windows, or is the server on windows
and the client is connecting from something else?

I did most of my development with 5.0.16.  Are you using the same 5.x
version, or something different?  Frank did some work on getting things
to behave well on the 4.x series, and he did some testing on Windows.
Anyway, the MySQL bugzilla had quite a few issues related to WKB
generation.  This is one possibility.

The other is that query is possibly doing a double free and/or there is
something funky with the spatial filter setting stuff.  Without a
traceback, it is hard to know.

Any more info you can give me to go from would be great.  Also, you
might put together a GDAL bugzilla report with this stuff and CC me to
it.  We can track it there.

Howard



At 12:00 PM -0500 2/18/06, Miller Joseph wrote:
>Howard,
>I was manually using sql to create the tables.  I tried extracting sql 
>from the old perl script that came with mapserver to create the tables,

>but it looks like you guys interpret the standard a little different 
>(eg the feature type as a varchar intead of an int in the 
>geometry_columns table).  I got the Feb 18 build and it worked fine for

>loading and getting metadata using ogr2ogr and ogrinfo.  I then rebuilt

>mapserver with the new gdal build but was unable to get anything to 
>display using shp2img.  I consistently get a "memory cannot be read 
>error" followed by the MySQL service crashing.  Is anyone else getting 
>this or maybe it is just a windows issue?  I am using mysql 5.0 on an
xp pro machine.
>
>Thanks,
>Joe
>
>-----Original Message-----
>From: Howard Butler [mailto:hobu@iastate.edu]
>Sent: Friday, February 17, 2006 2:18 PM
>To: Miller Joseph; gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] Mysql support
>
>Joe,
>
>If you can do a cvs update, there were quite a few changes to the mysql

>driver yesterday and the day before.  These may have an impact on your 
>issues.
>
>Also, you can just let ogr2ogr *create* the spatial_ref_sys and 
>geometry_columns table for you in a fresh database without manually 
>doing it yourself.  Were you just letting ogr2ogr do it, or were you 
>doing with some sort of sql command?
>
>Howard
>
>At 12:14 PM 2/17/2006, Miller Joseph wrote:
>>Content-class: urn:content-classes:message
>>Content-Type: multipart/alternative;
>>          boundary="----_=_NextPart_001_01C633ED.EB75D952"
>>
>>Hey all,
>>With some tweaking of ogrmysqllayer.cpp and pcrtypes.h I was able to 
>>get the daily build of feb 13 to compile and link on a windows xp 
>>system using visual c 6.0.
>>
>>I used to ogr2ogr to create the Geometry_Columns table and I created a

>>spatial_ref_sys table as described in:
>><http://home.gdal.org/projects/osvecdb/sfsql-schema.html>http://home.g
>>d al.org/projects/osvecdb/sfsql-schema.html
>>
>>I altered the geometry_columns so that the srid column was a foreign 
>>key from the spatial ref table.
>>
>>I am still not having luck having ogrinfo reflect the srid information

>>I entered.  I even made sure that data I entered using the 
>>Geomfromtext
>
>>function included the srid.  My question is whether I am doing 
>>something wrong or if I should wait for a later build to be released 
>>before the spatial_ref_sys table is supported??
>>
>>Thanks in advance,
>>Joe Miller
>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@lists.maptools.org
>>http://lists.maptools.org/mailman/listinfo/gdal-dev


From awilliams at rapidmap.com.au  Mon Feb 20 19:44:55 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] gdal_merge.py Python config problem?
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC64543946@rmg-server03.rmg.local>

I'm quite familiar with GDAL executables, but I'm having trouble with Python.
 
I managed to actually get two images to merge correctly once. However I was called to another task and something has happened in the mean time and I cannot repeat the success,
 
I've learn't quite a bit about Python, but I must be missing something. I've configured environment variables and made sure all files required are available but I still get the error below.
 
It refers to the _gdal.dll. This file is available in all paths and is the same one that must have previously worked. Am I missing something in my Pythonwin configuration?
 
gdal.AllRegister()
AttributeError: 'module' object has no attribute 'AllRegister'


From awilliams at rapidmap.com.au  Mon Feb 20 20:26:12 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] gdal_merge.py Python config problem?
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC64543947@rmg-server03.rmg.local>

Correction to previous post. The error refers to gdal.py not _gdal.dll.
 
gdal.py contains the function AllAttributes so why the error?
 
regards
Andrew


From awilliams at rapidmap.com.au  Tue Feb 21 01:25:58 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] gdal_merge.py Python config problem?
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC6454394E@rmg-server03.rmg.local>

Solved with an upgrade of FWTools


From support at geoimage.fr  Tue Feb 21 09:50:37 2006
From: support at geoimage.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Little problem in makefile.vc
References: <110b01c63637$b1374b50$0a01a8c0@pili> <43F9F5BA.8030704@pobox.com>
	<114001c63641$96a0c2d0$0a01a8c0@pili> <43FA150C.80604@pobox.com>
Message-ID: <003601c636f6$2dd0c830$0a01a8c0@pili>

Franck,

> 
> I'm pretty sure this is what I did (VC6, /MD, GDAL 1.3.1).
> 

Ok, the problem is probably elsewhere.

> > The driver is recognized (my GDALRegister_GEO is called) but It seems that the call to
> > GetGDALDriverManager()->RegisterDriver fails : a call to the function
> > GDALGetDriverByName( "GEO" ) returns NULL just after the registering.
> > 
> > Note that the same driver works with the gdal distrib and  its utilities.
> 
> Hmm.  That is odd.  Was this with MS4W 1.4.0 (the most current release)?

Yes, this is the last version (ms4w_1.4.0.zip).

I have done many and many tests and I really can't localize the problem.

I have created a dummy driver without any dependencies ( my real driver uses a lot of external static 
libraries and I thank this could be the source of the problem ) and I can't load it.

This really look likes an incompatibility between gdal versions ( basic 1.3.1 and the one used in MS4W ),
for example, in my driver, i do :

   poDriver->pfnOpen   = DUMMYDataset::Open;
   poDriver->pfnCreate = DUMMYDataset::Create;
   poDriver->pfnDelete = DUMMYDataset::Delete;

   int iDummyDriverIndex = GetGDALDriverManager()->RegisterDriver( poDriver );

If i comment the two lines relative to pfnCreate and pfnDelete, i get a different crash. 
It looks like a structure alignment problem or a change in the class definition...

Have you any suggest which could help me to solve my problem ?

> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>

From warmerdam at pobox.com  Tue Feb 21 10:01:24 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Little problem in makefile.vc
In-Reply-To: <003601c636f6$2dd0c830$0a01a8c0@pili>
References: <110b01c63637$b1374b50$0a01a8c0@pili> <43F9F5BA.8030704@pobox.com>
	<114001c63641$96a0c2d0$0a01a8c0@pili> <43FA150C.80604@pobox.com>
	<003601c636f6$2dd0c830$0a01a8c0@pili>
Message-ID: <43FB2B44.8090500@pobox.com>

Fr?d?ric Trastour wrote:
> If i comment the two lines relative to pfnCreate and pfnDelete, i get a different crash. 
> It looks like a structure alignment problem or a change in the class definition...
> 
> Have you any suggest which could help me to solve my problem ?

Fr?d?ric,

It really seems like you are doing everything right.  I just don't know
what is going wrong.  I was definately able to do a few simple operations
with mrsid files at the MS4W commandline using the plugin I built using
a methodology that seems the same as yours.

It does *sound* like a version incompatibility.

Perhaps you could send me your "built" gdal 1.3.1 tree, and your dummy
plugin with a makefile, and I could try and reproduce the problem here.
If I can do that I might be able to see what is different in your approach
and mine.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ncombs at ll.mit.edu  Tue Feb 21 10:09:37 2006
From: ncombs at ll.mit.edu (Combs, Nathan)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] NITF RPCs
Message-ID: <E18D1DA2B6EEA74BABF84E383667D7A42C7D53@llexchange01.mitll.ad.local>

>From the archives it seems that gdal handles NITF RPCs to at least
*some* extent.  Not clear how to work with it, however.  Can anyone cite
any examples, or write-ups anywhere?

Two part question:

1.) how to extract the RPC from NITF?

2.) and if able, how to transform raster using RPC?

Nate


From warmerdam at pobox.com  Tue Feb 21 10:51:42 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] NITF RPCs
In-Reply-To: <E18D1DA2B6EEA74BABF84E383667D7A42C7D53@llexchange01.mitll.ad.local>
References: <E18D1DA2B6EEA74BABF84E383667D7A42C7D53@llexchange01.mitll.ad.local>
Message-ID: <43FB370E.8060305@pobox.com>

Combs, Nathan wrote:
>>From the archives it seems that gdal handles NITF RPCs to at least
> *some* extent.  Not clear how to work with it, however.  Can anyone cite
> any examples, or write-ups anywhere?
> 
> Two part question:
> 
> 1.) how to extract the RPC from NITF?

Nathan,


The RPC information is returned from the driver as metadata.
For instance, for one dataset I have, gdalinfo includes the following
in the metadata report:

   RPC_LINE_OFF=2520
   RPC_LINE_SCALE=2520
   RPC_SAMP_OFF=2504
   RPC_SAMP_SCALE=2505
   RPC_LONG_OFF=-117.1253
   RPC_LONG_SCALE=0.0622
   RPC_LAT_OFF=32.7202
   RPC_LAT_SCALE=0.0244
   RPC_HEIGHT_OFF=90
   RPC_HEIGHT_SCALE=277
   RPC_LINE_NUM_COEFF=-2906467 2550845 -999999900 -24324910 -35468.84 7819.843 
700675.7 -633405.3 -2407600 19543.19 1318.781 -13.44203 -731.5636 39.28982 
-6527.369 2123.481 234.6173 -3291.144 1635.182 3.829373
   RPC_LINE_DEN_COEFF=931676200 39787.48 2241341 -621650.7 677.63 -928.6143 
-1179.904 4434.102 -1982.792 -248.3078 -0.2481073 -0.1339328 
0.08416543999999999 0.2657089 1.047481 -0.3806082 -0.09638633000000001 
-4.24534 0.6259711 0.07214144
   RPC_SAMP_NUM_COEFF=412778500 999999900 1522162 -1892980 2133668 -218199 
-61598.93 44277.24 575.8538 -1073.874 -166.3197 4842.217 -2873.551 -384.2591 
718.42 -0.8920386 16.96099 -675.8154 -138.0064 1.187869
   RPC_SAMP_DEN_COEFF=429693600 18350.18 1033717 -286708.3 312.5263 -428.2814 
-544.1772999999999 2045.029 -914.4731 -114.5207 -0.1144283 -0.06177044 
0.03881751 0.1225462 0.4831034 -0.1755384 -0.04445384 -1.957971 0.2887009 
0.03327198
   RPC_MIN_LONG=-117.1564
   RPC_MAX_LONG=-117.0942
   RPC_MIN_LAT=32.708
   RPC_MAX_LAT=32.7324

There is a GDALRPCInfo structure and it can be populated
from metadata with the GDALExtractRPCInfo() function.  This
is not really considered fully supported though, and is not
documented.

> 2.) and if able, how to transform raster using RPC?

There is an RPC transformer that works with gdalwarp, but
currently it does not actually pull in the elevation values
so the results are bogus.  At best useful for coarse geolocation.

The RPC support was added so SilverEye could access the RPCs in
NITF files, but it has all it's own infrastructure to handle them.
The RPC transform stuff I did was mostly so I could do a few
experiments on my own.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From t.r.decarlo at larc.nasa.gov  Tue Feb 21 11:54:04 2006
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] download or buy BMNG dvd/cd ?
In-Reply-To: <43F6571B.60306@gov.yk.ca>
Message-ID: <000c01c63707$6c014880$959877c6@cts1149>

Matt,
Did you get a response to this question? I noticed that at the bottom of the
BlueMarble page (http://earthobservatory.nasa.gov/Newsroom/BlueMarble/)
there are instructions for folks like us without BitTorrent access:

Because of the very large file sizes, we are distributing the Blue Marble
primarily through BitTorrent. If you are unable to use BitTorrent, please
send email to: eo-bmng@eodomo.gsfc.nasa.gov to arrange an ftp download. Data
is made available on a first come/first serve basis.

--
Thom DeCarlo
--------------------------------------------------
    Do Not Meddle in the Affairs of Dragons
For You are Crunchy and Taste Good with Ketchup

> -----Original Message-----
> From: Matt Wilkie
> Sent: Friday, February 17, 2006 6:07 PM
> Cc: worldwind-dev@worldwindcentral.com; gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] download or buy BMNG dvd/cd ?
> 
> Hi Folks,   is there somewhere I can download or buy cdrom or dvd's for
> the full Blue Marble Next Generation dataset?  (georeferenced?) Our
> firewall disallows BitTorrent.
> 
> thanks,
> 
> --
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev



From lxnyce at gmail.com  Tue Feb 21 12:13:19 2006
From: lxnyce at gmail.com (Lennox Antoine)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] download or buy BMNG dvd/cd ?
In-Reply-To: <000c01c63707$6c014880$959877c6@cts1149>
References: <43F6571B.60306@gov.yk.ca> <000c01c63707$6c014880$959877c6@cts1149>
Message-ID: <82c245aa0602210913n103971f7v545794a1fcdab882@mail.gmail.com>

I found this one a while back :

http://snowy.arsc.alaska.edu/
http://snowy.arsc.alaska.edu/nasa/
http://snowy.arsc.alaska.edu/nasa/bmng/

If you submit the info the earthobservatory though, eventually they
will send you direct download links as well.

-Lennox


On 2/21/06, Thom DeCarlo <t.r.decarlo@larc.nasa.gov> wrote:
> Matt,
> Did you get a response to this question? I noticed that at the bottom of the
> BlueMarble page (http://earthobservatory.nasa.gov/Newsroom/BlueMarble/)
> there are instructions for folks like us without BitTorrent access:
>
> Because of the very large file sizes, we are distributing the Blue Marble
> primarily through BitTorrent. If you are unable to use BitTorrent, please
> send email to: eo-bmng@eodomo.gsfc.nasa.gov to arrange an ftp download. Data
> is made available on a first come/first serve basis.
>
> --
> Thom DeCarlo
> --------------------------------------------------
>     Do Not Meddle in the Affairs of Dragons
> For You are Crunchy and Taste Good with Ketchup
>
> > -----Original Message-----
> > From: Matt Wilkie
> > Sent: Friday, February 17, 2006 6:07 PM
> > Cc: worldwind-dev@worldwindcentral.com; gdal-dev@lists.maptools.org
> > Subject: [Gdal-dev] download or buy BMNG dvd/cd ?
> >
> > Hi Folks,   is there somewhere I can download or buy cdrom or dvd's for
> > the full Blue Marble Next Generation dataset?  (georeferenced?) Our
> > firewall disallows BitTorrent.
> >
> > thanks,
> >
> > --
> > matt wilkie
> > --------------------------------------------
> > Geographic Information,
> > Information Management and Technology,
> > Yukon Department of Environment
> > 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> > 867-667-8133 Tel * 867-393-7003 Fax
> > http://environmentyukon.gov.yk.ca/geomatics/
> > --------------------------------------------
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From matt.wilkie at gov.yk.ca  Tue Feb 21 14:07:55 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] download or buy BMNG dvd/cd ?
In-Reply-To: <000c01c63707$6c014880$959877c6@cts1149>
References: <000c01c63707$6c014880$959877c6@cts1149>
Message-ID: <43FB650B.9050003@gov.yk.ca>

Hi Thom,

> Did you get a response to this question? I noticed that at the bottom of the
> BlueMarble page (http://earthobservatory.nasa.gov/Newsroom/BlueMarble/)
> there are instructions for folks like us without BitTorrent access:
> 
> Because of the very large file sizes, we are distributing the Blue Marble
> primarily through BitTorrent. If you are unable to use BitTorrent, please
> send email to: eo-bmng@eodomo.gsfc.nasa.gov to arrange an ftp download. Data
> is made available on a first come/first serve basis.

yes I did get an answer from the WorldWind mailing list. There is http 
access via http://www8.arsc.edu/nasa/bmng/world_500m/
I had completely missed the reference to the note about arranging for 
ftp access; thank you.

take care,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From mateusz at loskot.net  Tue Feb 21 15:32:01 2006
From: mateusz at loskot.net (=?ISO-8859-2?Q?Mateusz_=A3oskot?=)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Re: Gdal under wince?
In-Reply-To: <43FB1F7C.6010109@pobox.com>
References: <43FAFA42.7070506@guadaltel.es> <43FB1F7C.6010109@pobox.com>
Message-ID: <43FB78C1.2080308@loskot.net>

Frank Warmerdam wrote:
> Jorge Garc?a Naz wrote:
> 
>> Hello Mr Warmerdam, I am interested to develop WinCE applications 
>> using GDAL. Is GDAL supported under WinCE? If not, do you know any
>> way to allow me to port GDAL to this platform.
> 
> 
> Jorge,
> 
> Mateusz Loskot is currently working on a wince port of parts of GDAL
> and OGR (primarily aimed at a few OGR formats).  He should be making
> an announcement about this work on gdal-dev in the next day or so.
> You might want to contact him directly for some details.

Yes, I'm working on it.
Short story is:
- I managed to buld OGR with drivers: generic, mitab, shape
- I have compiled and run OGR tutorial sample from the GDAL website,
so I can read/write geometries and attributes

Today, I'm preparing longer story about Windows CE port so all 
interested users will be able to build/use/contribute to it too.
Tonight (I'm in GMT+1), I'll finish building instructions and I'll list 
current state of work + what is on the TODO list.
So, I'd like to ask you for a few hours of patience more :-)

> So the short answer is, some porting work has been done but for GDAL
> it is not "out of the box" yet.

That's right.

> Also, you should be aware that GDAL-as-a-whole is likely to be pretty
> heavy for a wince platform so you may need to be selective about what
> you actually build in.

Yup, Frank is right here too.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Tue Feb 21 17:22:39 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] [ANN] First release of GDAL/OGR for Windows CE
Message-ID: <43FB92AF.2040804@loskot.net>

Hello,

After 22 weeks ;-) of the initial post
(http://thread.gmane.org/gmane.comp.gis.gdal.devel/5025)
I'm very glad to announce the first release of GDAL/OGR
port for Windows CE.

Two days ago I commited all files and changes to the official GDAL CVS.

Here is a list of features and my comments to the current state of work.


GDAL/OGR for Windows CE features:
- all base OGR API and modules (port, ogr)
- subset of OGR drivers (ogr\ogrsf_frmts): generic, mitab, shape
- wcelibcex - extension to C library on Windows CE


Features not included in GDAL/OGR for Windows CE:
- in fact, this port does not include rasters support
- GEOS has not been ported yet, so OGR for Windows CE
   compiles without GEOS support (work is in progres)
- OGR drivers not listed in features list abov


Untill now, I managed to build GDAL/OGR with eVC++ 4.0 and use it on my 
device running Pocket PC 2003 (Windows CE .NET 4.2).

NOTE: As you may noticed, I call this port as GDAL/OGR but, in fact, 
currently it only includes OGR - vectors support. Simply, I hope it will 
become more complete port of GDAL, with rasters support, in future ;-)


I'd like to thank:
- Frank Warmerdam for GDAL/OGR and priceless support he provide me
- Taxus SI Ltd. from Poland for their great support
- Users from IRC #gdal channel


How can I report a bug?
Visit Bugzilla on http://bugzilla.remotesensing.org
Bug Writing Guidelines:
http://bugzilla.remotesensing.org/page.cgi?id=bug-writing.html


How can I contribute?
- you can build GDAL/OGR for Windows CE and report problems if any
- you can try build/port new OGR drivers
- you can test GDAL/OGR on different Windows CE devices
- you can write sample applications using GDAL/OGR
- if you have found a bug, please report i


For building instructions and more detailes read README file in 
gdal\wince directory from the official GDAL CVS:
http://www.gdal.org/download.html

If you have comments or questions, don't hesitate to ask me.

Best regards
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From klain.qin at autodesk.com  Tue Feb 21 01:44:43 2006
From: klain.qin at autodesk.com (Klain Qin)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] two questions about GDAL data type and data model
Message-ID: <CC3BA7F625E65B419DBD865A147045F808C5E7A0@msgapacmb01.ads.autodesk.com>

Hi,

 

I have two questions for GDAL API:

 

1.     What's the use of the complex types CInt16, CInt32, CFloat32, and
CFloat64? Which kinds of images will return such kinds of data types?

 

2.     Does GDAL provide API's for conversion between RGB, HLS or CMYK?
I found that GDAL can return HLS or CMYK bands directly to the user. 

 

Thanks in advance,

 

Klain

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060221/95b64adb/attachment.html
From warmerdam at pobox.com  Tue Feb 21 18:43:22 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] two questions about GDAL data type and data model
In-Reply-To: <CC3BA7F625E65B419DBD865A147045F808C5E7A0@msgapacmb01.ads.autodesk.com>
References: <CC3BA7F625E65B419DBD865A147045F808C5E7A0@msgapacmb01.ads.autodesk.com>
Message-ID: <43FBA59A.1040301@pobox.com>

Klain Qin wrote:
> Hi,
> 
>  
> 
> I have two questions for GDAL API:
> 
>  
> 
> 1.     What?s the use of the complex types CInt16, CInt32, CFloat32, and 
> CFloat64? Which kinds of images will return such kinds of data types?

Klain,

The complex image type is primarily of use for radar imagery.

> 2.     Does GDAL provide API?s for conversion between RGB, HLS or CMYK? 
> I found that GDAL can return HLS or CMYK bands directly to the user.

In *theory* GDAL supports images in HLS, and CMYK format, but in practice
I don't think any drivers actually do this.  There is no color model
conversion code in GDAL.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From rayg at daylongraphics.com  Tue Feb 21 19:13:06 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] two questions about GDAL data type and data model
In-Reply-To: <43FBA59A.1040301@pobox.com>
References: <CC3BA7F625E65B419DBD865A147045F808C5E7A0@msgapacmb01.ads.autodesk.com>
	<43FBA59A.1040301@pobox.com>
Message-ID: <43FBAC92.40909@daylongraphics.com>

>> 2.     Does GDAL provide API?s for conversion between RGB, HLS or 
>> CMYK? I found that GDAL can return HLS or CMYK bands directly to the 
>> user.
> 
> In *theory* GDAL supports images in HLS, and CMYK format, but in practice
> I don't think any drivers actually do this.  There is no color model
> conversion code in GDAL.

I believe the TIFF/GeoTIFF driver returns CMYK data.

CMYK-to-RGB is a straightforward CMY-to-RGB inversion followed by 
darkening the RGB overall with the K channel. You may want to support 
your platform's color calibration features or offer one locally in your 
app, to fine-tune the conversion since the gamuts don't roundtrip. Color 
support is complex enough that it should have its own lib (boost?)


HLS-to-RGB is:

static float Hue_2_RGB(float v1, float v2, float vH )
{
    if ( vH < 0 ) vH += 1;
    if ( vH > 1 ) vH -= 1;
    if ( ( 6.0f * vH ) < 1 ) return ( v1 + ( v2 - v1 ) * 6.0f * vH );
    if ( ( 2.0f * vH ) < 1 ) return ( v2 );
    if ( ( 3.0f * vH ) < 2 ) return ( v1 + ( v2 - v1 ) * ( ( 0.6666f ) - 
vH ) * 6 );
    return ( v1 );
}


void _RGBcolor::set(const _HSLcolor& hsl)
{
	if (hsl.s == 0 )
	{
	   r = g = b = hsl.l;
	}
	else
	{
		float var_2;
		if ( hsl.l < 0.5f )
			var_2 = hsl.l * ( 1.0f + hsl.s );
		else
			var_2 = ( hsl.l + hsl.s ) - ( hsl.s * hsl.l );

		float var_1 = 2.0f * hsl.l - var_2;

		r = Hue_2_RGB( var_1, var_2, hsl.h + 0.3333f );
		g = Hue_2_RGB( var_1, var_2, hsl.h );
		b = Hue_2_RGB( var_1, var_2, hsl.h - 0.3333f );
	}
}



Ray

From tflynch at gmail.com  Wed Feb 22 00:16:53 2006
From: tflynch at gmail.com (Tom Lynch)
Date: Wed Nov 21 11:50:00 2007
Subject: Fwd: [Gdal-dev] ECW JPEG 2000 SDK 3.3 RC2 now online
In-Reply-To: <6.2.3.4.2.20060220102628.030b6260@hobu.mail.iastate.edu>
References: <c39b2a650602080228s6a42dbbek90c8a70709f938d0@mail.gmail.com>
	<CFDF0CD5-14DE-4F75-B1B3-9A11AFFA2622@kyngchaos.com>
	<c39b2a650602090753r576fe1eflff2be0532c08347d@mail.gmail.com>
	<c39b2a650602090754u43fbbcf6q961a064d6eb0f83f@mail.gmail.com>
	<6.2.3.4.2.20060220102628.030b6260@hobu.mail.iastate.edu>
Message-ID: <c39b2a650602212116l29d1cf32s6eaee4e39ffc883e@mail.gmail.com>

On 2/21/06, Howard Butler <hobu@iastate.edu> wrote:
> An out-of-the-box ./configure and make on OSX gcc 4.0.1 died in a
> flurry of errors for me.  RC1 would not link properly.
>
> Is there any possibility of an ECW-dev maillist and a public CVS so
> we can track things?

Hi folks,

Sorry about the tardiness of my response, I've been migrating
interstate for the past week and a half and only just got my work
things set up again.

I think there is a good possibility of public CVS.  We have been
considering it for a while now.  It's a question of fitting the move
around our development schedule.  I would like to see mainly for the
exact reason mentioned - it would make it much easier to update the
files to resolve minor portability issues.

Thanks for the suggestion regarding POSIX threads on Mac OS X and a
possible workaround for our problem in Python.  It is a weird one ...
my preferred option would be for Apple to just make it work as
everything else does, but that's been on the agenda without happening
since Jaguar apparently :-)

Tom.

--
Tom Lynch
Development, ER Mapper
Phone:      +61 8 93882900
Fax:        +61 8 93882901
Email:      tom.lynch@ermapper.com
Web:        http://www.ermapper.com
Forums:     http://forum.ermapper.com


From awilliams at rapidmap.com.au  Wed Feb 22 01:34:25 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] PCT and ECW
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC6454395D@rmg-server03.rmg.local>

Dear all,
I have a problem with a group of images that have PCT's
 
I've mosaicked them and needed to set the -pct option otherwise they came out very dark and murky.
 
What I want to do is gdal_translate them to ECW
 
When I do this I get the following error
 
ERROR 6: SetColorTable() Not supported by this dataset.
ERROR 5: Destination Band 1 appears to be read-only.
 
Any clues?


From josegomez at gmx.net  Wed Feb 22 04:08:24 2006
From: josegomez at gmx.net (Jose Luis Gomez Dans)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] GDAL Python bindings on Cygwin
Message-ID: <3777.1140599304@www022.gmx.net>

Hi!

I just compiled GDAL 1.3.1 on cygwin. Up to now, 1.3.0 worked fine, and I
could use the library from Python and from C programs. Now, at some point,
the cygwin setup program updated python to version 2.4.1 (from python -V),
and gdal stopped working. I compiled the 1.3.1 version of the library (and
1.3.0, for that matter) , and still no luck. Here's a snippet of what
happens:
$ python
Python 2.4.1 (#1, May 27 2005, 18:02:40) 
[GCC 3.3.3 (cygwin special)] on cygwin
Type "help", "copyright", "credits" or "license" for more information.
 import gdal
Segmentation fault (core dumped)

Importing GDAL results in a bad crash. Part of the config.log that deals
with python:

checking for NG SWIG python bindings
 result: enabled
checking for python
 found /usr/bin/python
result: 
 checking where python Makefiles are
result: found
checking Python makefile
result: found
checking where .py files should go
result: /usr/lib/python2.4/site-packages
checking for python headers
result: found
checking definitions from Python makefile
result: done
checking for special pymod link hacks
result: default
checking for NumPy include files
result: found
checking if local/include already standard
result: no, everything is ok
creating ./config.status"
[...]
 PYTHON='python'
PYTHON_CC='gcc'
PYTHON_CFLAGS=' $(OPT)'
PYTHON_INCLUDES='-I/usr/include/python2.4 -I/usr/include/python2.4'
PYTHON_LIBS='-L/usr/lib/python2.4/config -lpython2.4.dll'
PYTHON_LINK='gcc -shared -Wl,--enable-auto-image-base -o $@'
PYTHON_OPT='-DNDEBUG -g -O3 -Wall -Wstrict-prototypes'
PYTHON_SO='.dll'
PY_LD_SHARED='$(LD_SHARED)'
PY_SO_EXT='$(SO_EXT)'

As you can see, it all appears normal. My compiler is GCC 3.4.4, and the
different unames are:

uname -m = i686
uname -r = 1.5.19(0.150/4/2)
uname -s = CYGWIN_NT-5.0
uname -v = 2006-01-20 13:28

I'm a bit lost, as I don't really know how to tackle this one. Can anyone
suggest anything?

Many thanks!
Jose

-- 
Telefonieren Sie schon oder sparen Sie noch?
NEU: GMX Phone_Flat http://www.gmx.net/de/go/telefonie

From warmerdam at pobox.com  Wed Feb 22 08:01:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Little problem in makefile.vc
In-Reply-To: <008d01c6378f$684b3c90$0a01a8c0@pili>
References: <110b01c63637$b1374b50$0a01a8c0@pili> <43F9F5BA.8030704@pobox.com>
	<114001c63641$96a0c2d0$0a01a8c0@pili> <43FA150C.80604@pobox.com>
	<003601c636f6$2dd0c830$0a01a8c0@pili> <43FB2B44.8090500@pobox.com>
	<001501c63707$f4e1b810$0a01a8c0@pili> <43FBE8AD.9020603@pobox.com>
	<008d01c6378f$684b3c90$0a01a8c0@pili>
Message-ID: <43FC60AF.3090707@pobox.com>

Fr?d?ric,

Doh!  Now *I* feel quite bad.  In fact it seems MS4W 1.4.0 is built using
VC 7.1 (ie. Visual Studio 2003) and that was the problem.  I tried your DLL
and one I built in your tree built with VC6 and got the same problem you did.
But then I accidentally tried it once in my VC7.1 environment and it worked.
Now I vaguely recall I must have discovered this when doing my plugin too.

Anyways, I'm really sorry for having forgotten this aspect.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Feb 22 08:34:47 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] PCT and ECW
In-Reply-To: <CFE1D6CAE2D44343BF58E308C1C7EC6454395D@rmg-server03.rmg.local>
References: <CFE1D6CAE2D44343BF58E308C1C7EC6454395D@rmg-server03.rmg.local>
Message-ID: <43FC6877.3020001@pobox.com>

Andrew Williams wrote:
> Dear all,
> I have a problem with a group of images that have PCT's
>  
> I've mosaicked them and needed to set the -pct option otherwise they came out very dark and murky.
>  
> What I want to do is gdal_translate them to ECW
>  
> When I do this I get the following error
>  
> ERROR 6: SetColorTable() Not supported by this dataset.
> ERROR 5: Destination Band 1 appears to be read-only.

Andrew,

ECW does not support colormapped images (as far as I know).  You will need
to directly encode the color table.  That is turn the one band + PCT images
into 3 band RGB images.  This can be accomplished with the pct2rgb.py python
script if you have GDAL built with python support.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dion at west.nl  Wed Feb 22 11:12:29 2006
From: dion at west.nl (Dion Wooning)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Work-arounds to build problems OCI and DWG 
Message-ID: <43FC8D6D.2000309@west.nl>

Hello List,

I've been encountering a few problems building GDAL under Redhat Enterprise
Linux 3.0 (using cvs 2006.02.16), and found some workarounds.

 * OCI

   the --with-oci=path option doesn't seem to work when using
   oracle instant-client (rpms). The issue is that the instant client
   is structured differently (and doesn't have the rdbms/public dir).

   The following patch adds the proper include path; build using the
   --with-oci=path option, where path points to the instant client
   binaries, e.g. --with-oci=/usr/lib/oracle/10.1.0.4/client :

--- configure   2006-02-22 16:59:31.000000000 +0100
+++ configure.new       2006-02-22 17:02:01.000000000 +0100
@@ -25743,7 +25743,8 @@

   HAVE_OCI=yes
   ORACLE_HOME="$with_oci"
-  OCI_INCLUDE="-I$ORACLE_HOME/rdbms/demo -I$ORACLE_HOME/rdbms/public"
+  OCI_INCLUDE="-I`echo $ORACLE_HOME | sed -e 's;lib;include;'` \
+               -I$ORACLE_HOME/rdbms/demo -I$ORACLE_HOME/rdbms/public"
   LIBS="-L$ORACLE_HOME/lib $LIBS"

   echo "$as_me:$LINENO: result: using OCI library from $with_oci" >&5


 * OpenDWG

   linking won't work by default. Near the end of building, I get:

   ../.libs/libgdal.so: undefined reference to `OdDbHostAppServices::
   getATTREQ() const'

   I think the problem is that the DWG static libraries do not get included
   when linking. I've used the following workaround, patching:

--- GDALmake.opt.in     2005-11-23 15:30:29.000000000 +0100
+++ GDALmake.opt.in.new 2005-12-13 13:20:33.000000000 +0100
@@ -230,6 +230,7 @@
 DWG_LIBS =
 HAVE_DWGDIRECT = no
 endif
+LIBS += $(DWG_LIBS)

   This works, but reveals a libtool-related problem later on:

/bin/sh ./libtool --mode=link [..] g++ DD_lnxX86pic_ModelerGeometry.a [..]

*** Warning: Linking the shared library libgdal.la against the
*** static library OpenDWG/lib/lnxX86pic/DD_lnxX86pic_ModelerGeometry.a is
not portable!
[...]

  The problem is that libtool simply puts the opendwg .a archives into the
  libgdal.a library, instead of the .o that are inside those .a archives.
  I have currently no idea how to change that. Would I need opendwg .la
  files for libtool to work? Can those be generated somehow?


  By the way, when using rpmbuild, the mangled libgdal.a library leads to
  a further problem further down the road:

+ /usr/lib/rpm/brp-strip-static-archive
strip:
/var/tmp/gdal-1.3.1-root/usr/lib/stG48OmH/DD_lnxX86pic_ModelerGeometry.a:
Invalidoperation

 The solution is to take the brp-strip-static-archive step out (but it
 would be preferable to fix the libtool problem).


Regards,
Dion.

-- 
-- Dion Wooning, dion@west.nl, West Consulting B.V., +31 15 219 1600



From abunn at whrc.org  Wed Feb 22 11:58:38 2006
From: abunn at whrc.org (Andy Bunn)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Assign or define projection
In-Reply-To: <43FB650B.9050003@gov.yk.ca>
Message-ID: <NEBBIPHDAMMOKDKPOFFIAEDOEAAA.abunn@whrc.org>

Gdal-helpers:

If I have an image with no projection, what is the simplest way to assign a
projection to it? Can I do it without making a new file? An example is below
but the summary is, given image foo.tif that has no projection info is the
best way to assign/define the projection using:

gdalwarp -s_srs "WGS84" -t_srs "WGS84" foo.tif bar.tif

Thanks, Andy



Y:\GMAO\apr_2004_tif_mean>gdalinfo 20040401.tif
Driver: GTiff/GeoTIFF
Size is 288, 181
Coordinate System is `'
Origin = (-180.000000,90.000000)
Pixel Size = (1.25000000,-0.99447514)
Corner Coordinates:
Upper Left  (-180.0000000,  90.0000000)
Lower Left  (-180.0000000, -90.0000000)
Upper Right ( 180.0000000,  90.0000000)
Lower Right ( 180.0000000, -90.0000000)
Center      (   0.0000000,   0.0000000)
Band 1 Block=288x7 Type=Float32, ColorInterp=Gray

Y:\GMAO\apr_2004_tif_mean>gdalwarp -s_srs "WGS84" -t_srs "WGS84"
20040401.tif 20040401_proj.tif
Creating output file that is 304P x 152L.
:0...10...20...30...40...50...60...70...80...90...100 - done.
Open GDAL Datasets:
  1 N DriverIsNULL 512x512x0

Y:\GMAO\apr_2004_tif_mean>gdalinfo 20040401_proj.tif
Driver: GTiff/GeoTIFF
Size is 304, 152
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235630016,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-180.000000,90.000000)
Pixel Size = (1.18326343,-1.18326343)
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (-180.0000000,  90.0000000) (180d 0'0.00"W, 90d 0'0.00"N)
Lower Left  (-180.0000000, -89.8560420) (180d 0'0.00"W, 89d51'21.75"S)
Upper Right ( 179.7120840,  90.0000000) (179d42'43.50"E, 90d 0'0.00"N)
Lower Right ( 179.7120840, -89.8560420) (179d42'43.50"E, 89d51'21.75"S)
Center      (  -0.1439580,   0.0719790) (  0d 8'38.25"W,  0d 4'19.12"N)
Band 1 Block=304x6 Type=Float32, ColorInterp=Gray




From tbeckman at usgs.gov  Wed Feb 22 12:37:51 2006
From: tbeckman at usgs.gov (Tim Beckmann)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] geotiff "pixel is point" issue?
In-Reply-To: <3777.1140599304@www022.gmx.net>
Message-ID: <OFEDD3D973.F1E69F86-ON8625711D.005F8FBE-0625711D.0060E34F@usgs.gov>

Hi,

I've been looking at using gdal_translate to convert an HDF4 image to 
geotiff.  During my investigation, I happened to notice that the gdal 
geotiff driver might not be handling the "pixel is point" verses "pixel is 
area" distinction properly.

If I understand things properly, the gdal default for pixel coordinates is 
the same as geotiff "pixel is area".  The upper-left image corner 
specifies the upper-left corner of the upper-left pixel, and the 
bottom-right image corner specifies the lower-right corner of the 
lower-right pixel of the image.

According to 
http://www.remotesensing.org/geotiff/spec/geotiff2.5.html#2.5.2, the 
"pixel is point" option changes how the coordinates in the geotiff file 
are interpretted so that the image corner points are relative to the 
center of the pixels instead of the edges.

I don't see anything in the geotiff driver that is handling the "pixel is 
point" case to properly fix up the affine transformation coefficients.  Am 
I missing something?

Also, it would be nice if a "pixel is point" option could be passed to the 
geotiff driver when generating a geotiff output. (Assuming my 
interpretation of pixel is point/area is correct).  That way the corners 
passed to the process could be relative to the center of the pixel if that 
is what is currently available.

Thanks
Tim

--------------------------------------------------------------------------
Tim Beckmann
Software Project Lead
Science Applications International Corporation (SAIC)
Contractor to the USGS/EROS
Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax
tbeckman@usgs.gov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060222/742989fb/attachment.html
From Roger.Bivand at nhh.no  Wed Feb 22 13:15:37 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:00 2007
Subject: [Gdal-dev] Assign or define projection
In-Reply-To: <NEBBIPHDAMMOKDKPOFFIAEDOEAAA.abunn@whrc.org>
Message-ID: <Pine.LNX.4.44.0602221910560.30068-100000@reclus.nhh.no>

On Wed, 22 Feb 2006, Andy Bunn wrote:

> Gdal-helpers:
> 
> If I have an image with no projection, what is the simplest way to assign a
> projection to it? Can I do it without making a new file? An example is below
> but the summary is, given image foo.tif that has no projection info is the
> best way to assign/define the projection using:

Hi Andy,

>From very soon, you'll be able to insert it in R. We're just finishing the 
final details before releasing rgdal_0.4-1, which has support for copying 
out the proj4string assigned to the SpatialGridDataFrame object. 

I guess there's a way in GDAL too.

Would you like to try a trial Windows binary?

Roger

> 
> gdalwarp -s_srs "WGS84" -t_srs "WGS84" foo.tif bar.tif
> 
> Thanks, Andy
> 
> 
> 
> Y:\GMAO\apr_2004_tif_mean>gdalinfo 20040401.tif
> Driver: GTiff/GeoTIFF
> Size is 288, 181
> Coordinate System is `'
> Origin = (-180.000000,90.000000)
> Pixel Size = (1.25000000,-0.99447514)
> Corner Coordinates:
> Upper Left  (-180.0000000,  90.0000000)
> Lower Left  (-180.0000000, -90.0000000)
> Upper Right ( 180.0000000,  90.0000000)
> Lower Right ( 180.0000000, -90.0000000)
> Center      (   0.0000000,   0.0000000)
> Band 1 Block=288x7 Type=Float32, ColorInterp=Gray
> 
> Y:\GMAO\apr_2004_tif_mean>gdalwarp -s_srs "WGS84" -t_srs "WGS84"
> 20040401.tif 20040401_proj.tif
> Creating output file that is 304P x 152L.
> :0...10...20...30...40...50...60...70...80...90...100 - done.
> Open GDAL Datasets:
>   1 N DriverIsNULL 512x512x0
> 
> Y:\GMAO\apr_2004_tif_mean>gdalinfo 20040401_proj.tif
> Driver: GTiff/GeoTIFF
> Size is 304, 152
> Coordinate System is:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.2572235630016,
>             AUTHORITY["EPSG","7030"]],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0],
>     UNIT["degree",0.0174532925199433],
>     AUTHORITY["EPSG","4326"]]
> Origin = (-180.000000,90.000000)
> Pixel Size = (1.18326343,-1.18326343)
> Metadata:
>   AREA_OR_POINT=Area
> Corner Coordinates:
> Upper Left  (-180.0000000,  90.0000000) (180d 0'0.00"W, 90d 0'0.00"N)
> Lower Left  (-180.0000000, -89.8560420) (180d 0'0.00"W, 89d51'21.75"S)
> Upper Right ( 179.7120840,  90.0000000) (179d42'43.50"E, 90d 0'0.00"N)
> Lower Right ( 179.7120840, -89.8560420) (179d42'43.50"E, 89d51'21.75"S)
> Center      (  -0.1439580,   0.0719790) (  0d 8'38.25"W,  0d 4'19.12"N)
> Band 1 Block=304x6 Type=Float32, ColorInterp=Gray
> 
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From route at cae.com  Wed Feb 22 14:16:22 2006
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] multipage geotiff
Message-ID: <62FC3C78EB032A4DB2AD05F964E931F6019D5EBE@caemex02.caecorp.cae.com>

Hi,
 
I would like to generate geotiff images containing overviews (basically
sub-images with different resolutions)
Can I do that ? If I can, how ?
 
Thanks in advance,
 
Stephane Routelous
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060222/2bfc0c8a/attachment.html
From matt.wilkie at gov.yk.ca  Wed Feb 22 15:23:50 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] multipage geotiff
In-Reply-To: <62FC3C78EB032A4DB2AD05F964E931F6019D5EBE@caemex02.caecorp.cae.com>
References: <62FC3C78EB032A4DB2AD05F964E931F6019D5EBE@caemex02.caecorp.cae.com>
Message-ID: <43FCC856.4000403@gov.yk.ca>

Stephane Routelous wrote:
> 
> Hi,
>  
> I would like to generate geotiff images containing overviews (basically 
> sub-images with different resolutions)
> Can I do that ? If I can, how ?

yup:

    gdaladdo -r average abc.tif 2 4 8 16

http://www.remotesensing.org/gdal/gdaladdo.html

cheers :)

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From route at cae.com  Wed Feb 22 15:25:27 2006
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] multipage geotiff
Message-ID: <62FC3C78EB032A4DB2AD05F964E931F6019D5EC3@caemex02.caecorp.cae.com>

Thanks,

I would like to do it programmatically, so I will check the code of
gdaladdo.

Best Regards,

Stephane Routelous 

-----Original Message-----
From: Matt Wilkie [mailto:matt.wilkie@gov.yk.ca] 
Sent: Wednesday, February 22, 2006 3:24 PM
To: Stephane Routelous
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] multipage geotiff

Stephane Routelous wrote:
> 
> Hi,
>  
> I would like to generate geotiff images containing overviews 
> (basically sub-images with different resolutions) Can I do that ? If I

> can, how ?

yup:

    gdaladdo -r average abc.tif 2 4 8 16

http://www.remotesensing.org/gdal/gdaladdo.html

cheers :)

--
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------



From bill at binko.net  Wed Feb 22 15:35:27 2006
From: bill at binko.net (Bill Binko)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] multipage geotiff
In-Reply-To: <62FC3C78EB032A4DB2AD05F964E931F6019D5EC3@caemex02.caecorp.cae.com>
References: <62FC3C78EB032A4DB2AD05F964E931F6019D5EC3@caemex02.caecorp.cae.com>
Message-ID: <43FCCB0F.9000706@binko.net>

Oh!  That would be:

    system("gdaladdo -r average abc.tif 2 4 8 16");
:-)

Just kidding!  Actually, I posted to mention that there is a bug in gdaladdo such that if you put enough summary levels in there that the "farthest out" overview is < 1 pixel, it will crash (at least on Linux).  So make sure you don't do something like the above on small test images.

Bill



Stephane Routelous wrote:

>Thanks,
>
>I would like to do it programmatically, so I will check the code of
>gdaladdo.
>
>Best Regards,
>
>Stephane Routelous 
>
>-----Original Message-----
>From: Matt Wilkie [mailto:matt.wilkie@gov.yk.ca] 
>Sent: Wednesday, February 22, 2006 3:24 PM
>To: Stephane Routelous
>Cc: gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] multipage geotiff
>
>Stephane Routelous wrote:
>  
>
>>Hi,
>> 
>>I would like to generate geotiff images containing overviews 
>>(basically sub-images with different resolutions) Can I do that ? If I
>>    
>>
>
>  
>
>>can, how ?
>>    
>>
>
>yup:
>
>    gdaladdo -r average abc.tif 2 4 8 16
>
>http://www.remotesensing.org/gdal/gdaladdo.html
>
>cheers :)
>
>--
>matt wilkie
>--------------------------------------------
>Geographic Information,
>Information Management and Technology,
>Yukon Department of Environment
>10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
>867-667-8133 Tel * 867-393-7003 Fax
>http://environmentyukon.gov.yk.ca/geomatics/
>--------------------------------------------
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>  
>


From route at CAE.COM  Wed Feb 22 15:39:05 2006
From: route at CAE.COM (Stephane Routelous)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] multipage geotiff
Message-ID: <62FC3C78EB032A4DB2AD05F964E931F6019D5EC5@caemex02.caecorp.cae.com>

Well, after checking the code, it is not what I want to do. 
Just because I asked the wrong question...
I don't want to generate overviews, I want to have sub images inside a
TIF file with different information.
Is that possible without changing the GDAL code ?
I will have an image with 
1024x1024
512x512
256x256
128x128
64x64
32x32
16x16
8x8
4x4
2x2
1x1
1x1
1x1
1x1
1x1
1x1
1x1
1x1
1x1
1x1
1x1

But where the level n-1 is NOT a resampling of the level n

Stephane

-----Original Message-----
From: Bill Binko [mailto:bill@binko.net] 
Sent: Wednesday, February 22, 2006 3:35 PM
To: Stephane Routelous
Cc: Matt Wilkie; gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] multipage geotiff

Oh!  That would be:

    system("gdaladdo -r average abc.tif 2 4 8 16");
:-)

Just kidding!  Actually, I posted to mention that there is a bug in
gdaladdo such that if you put enough summary levels in there that the
"farthest out" overview is < 1 pixel, it will crash (at least on Linux).
So make sure you don't do something like the above on small test images.

Bill



Stephane Routelous wrote:

>Thanks,
>
>I would like to do it programmatically, so I will check the code of 
>gdaladdo.
>
>Best Regards,
>
>Stephane Routelous
>
>-----Original Message-----
>From: Matt Wilkie [mailto:matt.wilkie@gov.yk.ca]
>Sent: Wednesday, February 22, 2006 3:24 PM
>To: Stephane Routelous
>Cc: gdal-dev@lists.maptools.org
>Subject: Re: [Gdal-dev] multipage geotiff
>
>Stephane Routelous wrote:
>  
>
>>Hi,
>> 
>>I would like to generate geotiff images containing overviews 
>>(basically sub-images with different resolutions) Can I do that ? If I
>>    
>>
>
>  
>
>>can, how ?
>>    
>>
>
>yup:
>
>    gdaladdo -r average abc.tif 2 4 8 16
>
>http://www.remotesensing.org/gdal/gdaladdo.html
>
>cheers :)
>
>--
>matt wilkie
>--------------------------------------------
>Geographic Information,
>Information Management and Technology,
>Yukon Department of Environment
>10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
>867-667-8133 Tel * 867-393-7003 Fax
>http://environmentyukon.gov.yk.ca/geomatics/
>--------------------------------------------
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>  
>



From condit at sdsc.edu  Wed Feb 22 16:17:01 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Raster to Polygon
Message-ID: <845AADAC1106E44996327D62097E4C6B860452@et.ad.sdsc.edu>

At one time a few years ago there was talk of adding simple raster to
polygon functionality to GDAL (see
http://lists.maptools.org/pipermail/gdal-dev/2003-August/001037.html ).
Has that ever materialized?  Does anyone know of an alternate way to
accomplish this?  I've tried using gdal_countour, but as I expected I
just get polylines as output.  My raster images are very simple - mostly
no data values with a few regions that I need to extract to polygons.
In fact, I can even re-class to 0s and 1s if necessary.

 

Thanks!

 

Chris

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060222/f12aab8a/attachment.html
From lxnyce at gmail.com  Wed Feb 22 16:39:23 2006
From: lxnyce at gmail.com (Lennox Antoine)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Raster to Polygon
In-Reply-To: <845AADAC1106E44996327D62097E4C6B860452@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B860452@et.ad.sdsc.edu>
Message-ID: <82c245aa0602221339l46e2dd89y31eba6b132605125@mail.gmail.com>

I posted simple raster to vector conversion capability in my GDAL
application located here :
http://www.lennoxgis.com/

Download the 0.9 stable client, and load your rasters. In the
treeview, highlight all the rasters you want to convert, and right
click on them (after they load that is). Select vectorize, and pick
your output directory. It will vectorize them into 2D line shapefiles.
You can batch your vectorizations this way.

The software is still pretty much unreleased, but hopefully it will
solve this need.

-Lennox

On 2/22/06, Christopher Condit <condit@sdsc.edu> wrote:
>
>
>
> At one time a few years ago there was talk of adding simple raster to
> polygon functionality to GDAL (see
> http://lists.maptools.org/pipermail/gdal-dev/2003-August/001037.html
> ).  Has that ever materialized?  Does anyone know of an alternate way to
> accomplish this?  I've tried using gdal_countour, but as I expected I just
> get polylines as output.  My raster images are very simple ? mostly no data
> values with a few regions that I need to extract to polygons.  In fact, I
> can even re-class to 0s and 1s if necessary.
>
>
>
> Thanks!
>
>
>
> Chris
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


From matt.wilkie at gov.yk.ca  Wed Feb 22 18:05:40 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] creating a BMNG world file
Message-ID: <43FCEE44.4070709@gov.yk.ca>

Hi there,

I'm trying to create a valid world file for Blue Marble Next Generation 
500m resolution png's. From reading the docs, I've created one for the 
A1 tile which looks like:

         0.004166666667
         0.0000000000
         0.0000000000
         -0.004166666667
         -180
         90

and when I load one of those images up with other data, it looks like 
it's in the right place. However when I use gdal_translate to convert it 
to 1% of original size the Lat/Long insertion point changes:

	0.4166666667
	0.0000000000
	0.0000000000
	-0.4166666667
	-179.7937500000
	89.7937500000

is this right? Or should the starting lat-long be offset by half a pixel 
width (and in what direction?)?

thanks in advance,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From dylan.beaudette at gmail.com  Wed Feb 22 18:28:41 2006
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Raster to Polygon
In-Reply-To: <82c245aa0602221339l46e2dd89y31eba6b132605125@mail.gmail.com>
References: <845AADAC1106E44996327D62097E4C6B860452@et.ad.sdsc.edu>
	<82c245aa0602221339l46e2dd89y31eba6b132605125@mail.gmail.com>
Message-ID: <200602221528.41228.dylan.beaudette@gmail.com>

Does this software run on Linux ? 

it looks very interesting!

Thanks

On Wednesday 22 February 2006 01:39 pm, Lennox Antoine wrote:
> I posted simple raster to vector conversion capability in my GDAL
> application located here :
> http://www.lennoxgis.com/
>
> Download the 0.9 stable client, and load your rasters. In the
> treeview, highlight all the rasters you want to convert, and right
> click on them (after they load that is). Select vectorize, and pick
> your output directory. It will vectorize them into 2D line shapefiles.
> You can batch your vectorizations this way.
>
> The software is still pretty much unreleased, but hopefully it will
> solve this need.
>
> -Lennox
>
> On 2/22/06, Christopher Condit <condit@sdsc.edu> wrote:
> > At one time a few years ago there was talk of adding simple raster to
> > polygon functionality to GDAL (see
> > http://lists.maptools.org/pipermail/gdal-dev/2003-August/001037.html
> > ).  Has that ever materialized?  Does anyone know of an alternate way to
> > accomplish this?  I've tried using gdal_countour, but as I expected I
> > just get polylines as output.  My raster images are very simple ? mostly
> > no data values with a few regions that I need to extract to polygons.  In
> > fact, I can even re-class to 0s and 1s if necessary.
> >
> >
> >
> > Thanks!
> >
> >
> >
> > Chris
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341


From wjtian at seahigh.com  Wed Feb 22 04:25:39 2006
From: wjtian at seahigh.com (=?GB2312?Q?=CC=EF=CE=C4=BE=FC?=)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] About OGR question
Message-ID: <200602220921.k1M9L4a0001179@duke.maptools.org>

  gdal-dev,

		Hello,My name is tian.I use your code about OGR,and find it very good for me .Thank you for your program.Now I 		have a question to ask you.

		I have the data Longitude and Latitude for map,but use your code:
 		
  		//////////
		OGRPoint *poPoint = new OGRPoint();
        
        poPoint->setX( x );
        poPoint->setY( y );
 
        poFeature->SetGeometryDirectly( poPoint ); 
		//////////
		This code is not for Longitude and Latitude's data,how can I convert between them?
		
		I find your code about :
 	////////////////
	OGRSpatialReference    oUTM, *poLatLong;
    OGRCoordinateTransformation *poTransform;

    oUTM.SetProjCS("UTM 17 / WGS84");
    oUTM.SetWellKnownGeogCS( "WGS84" );
    oUTM.SetUTM( 17 );

    poLatLong = oUTM.CloneGeogCS();
    
    poTransform = OGRCreateCoordinateTransformation( &oUTM, poLatLong );
    if( poTransform == NULL )
    {
        ...
    }
    
    ...

    if( !poTransform->Transform( nPoints, x, y, z ) )
    ...
///////////////////

		But this code can't help me .The oUTM can't be initialization.


	So can you help me about this question,I have the Longitude = 116 ,and Latitude = 39,How I transform it to x,y,z.

Thank you.






From lxnyce at gmail.com  Wed Feb 22 18:41:00 2006
From: lxnyce at gmail.com (Lennox Antoine)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Raster to Polygon
In-Reply-To: <200602221528.41228.dylan.beaudette@gmail.com>
References: <845AADAC1106E44996327D62097E4C6B860452@et.ad.sdsc.edu>
	<82c245aa0602221339l46e2dd89y31eba6b132605125@mail.gmail.com>
	<200602221528.41228.dylan.beaudette@gmail.com>
Message-ID: <82c245aa0602221541j90ffb45m3a0d35195bf78d50@mail.gmail.com>

Unfortunately windows only currently. I'll look into compiling under
linux after 1.0.

On 2/22/06, Dylan Beaudette <dylan.beaudette@gmail.com> wrote:
> Does this software run on Linux ?
>
> it looks very interesting!
>
> Thanks
>
> On Wednesday 22 February 2006 01:39 pm, Lennox Antoine wrote:
> > I posted simple raster to vector conversion capability in my GDAL
> > application located here :
> > http://www.lennoxgis.com/
> >
> > Download the 0.9 stable client, and load your rasters. In the
> > treeview, highlight all the rasters you want to convert, and right
> > click on them (after they load that is). Select vectorize, and pick
> > your output directory. It will vectorize them into 2D line shapefiles.
> > You can batch your vectorizations this way.
> >
> > The software is still pretty much unreleased, but hopefully it will
> > solve this need.
> >
> > -Lennox
> >
> > On 2/22/06, Christopher Condit <condit@sdsc.edu> wrote:
> > > At one time a few years ago there was talk of adding simple raster to
> > > polygon functionality to GDAL (see
> > > http://lists.maptools.org/pipermail/gdal-dev/2003-August/001037.html
> > > ).  Has that ever materialized?  Does anyone know of an alternate way to
> > > accomplish this?  I've tried using gdal_countour, but as I expected I
> > > just get polylines as output.  My raster images are very simple ? mostly
> > > no data values with a few regions that I need to extract to polygons.  In
> > > fact, I can even re-class to 0s and 1s if necessary.
> > >
> > >
> > >
> > > Thanks!
> > >
> > >
> > >
> > > Chris
> > > _______________________________________________
> > > Gdal-dev mailing list
> > > Gdal-dev@lists.maptools.org
> > > http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> --
> Dylan Beaudette
> Soils and Biogeochemistry Graduate Group
> University of California at Davis
> 530.754.7341
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>


From warmerdam at pobox.com  Wed Feb 22 18:42:10 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] multipage geotiff
In-Reply-To: <62FC3C78EB032A4DB2AD05F964E931F6019D5EC5@caemex02.caecorp.cae.com>
References: <62FC3C78EB032A4DB2AD05F964E931F6019D5EC5@caemex02.caecorp.cae.com>
Message-ID: <43FCF6D2.1060402@pobox.com>

Stephane Routelous wrote:
> Well, after checking the code, it is not what I want to do. 
> Just because I asked the wrong question...
> I don't want to generate overviews, I want to have sub images inside a
> TIF file with different information.
> Is that possible without changing the GDAL code ?
> I will have an image with 
> 1024x1024
> 512x512
> 256x256
> 128x128
> 64x64
> 32x32
> 16x16
> 8x8
> 4x4
> 2x2
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 1x1
> 
> But where the level n-1 is NOT a resampling of the level n

Stephane,

GDAL has no support currently for preparing multi-page images where
the different pages are not necessarily related.  However, from
what you want to do it might be possible to generate overviews with
the normal mechanism.  Then fetch back the overview GDALRasterBand
handles, and write whatever image it is you want in them manually.

The smaller images will be marked as reduced resolution images in
the TIFF file though.

If you really need fine control, it might be better to go right to the
libtiff API.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Wed Feb 22 20:51:18 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] creating a BMNG world file
In-Reply-To: <43FCEE44.4070709@gov.yk.ca>
References: <43FCEE44.4070709@gov.yk.ca>
Message-ID: <43FD1516.8030508@pobox.com>

Matt Wilkie wrote:
> Hi there,
> 
> I'm trying to create a valid world file for Blue Marble Next Generation 
> 500m resolution png's. From reading the docs, I've created one for the 
> A1 tile which looks like:
> 
>         0.004166666667
>         0.0000000000
>         0.0000000000
>         -0.004166666667
>         -180
>         90
> 
> and when I load one of those images up with other data, it looks like 
> it's in the right place. However when I use gdal_translate to convert it 
> to 1% of original size the Lat/Long insertion point changes:
> 
>     0.4166666667
>     0.0000000000
>     0.0000000000
>     -0.4166666667
>     -179.7937500000
>     89.7937500000
> 
> is this right? Or should the starting lat-long be offset by half a pixel 
> width (and in what direction?)?

Matt,

The insertion point listed in the world file is the center of the top left
pixel.  So your initial file likely ought to be offset by half a pixel.   But
based on this, as the resolution drops, the insertion point will continue to
move.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tonio_73 at tiscali.fr  Thu Feb 23 13:59:09 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] GCPs to geo transform
Message-ID: <1ed50b03a6da4b47be579f504bc6ba8e@tiscali.fr>

Hello,

I was wondering if it is possible to compute the geo transform given a 
set of GCPs without warping the image?
That's what is being done in the osgTerrain  library I am using, it is 
warping the image to a geotiff as soon as there are GCPs without 
checking if the source and destination CS are the same.

Thanks a lot for the GDAL, it is doing a lot for me.

Antoine

ps: still in trouble with Swiss map scans.


From warmerdam at pobox.com  Thu Feb 23 16:16:41 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] GCPs to geo transform
In-Reply-To: <1ed50b03a6da4b47be579f504bc6ba8e@tiscali.fr>
References: <1ed50b03a6da4b47be579f504bc6ba8e@tiscali.fr>
Message-ID: <43FE2639.20000@pobox.com>

Antoine Hue wrote:
> Hello,
> 
> I was wondering if it is possible to compute the geo transform given a 
> set of GCPs without warping the image?
> That's what is being done in the osgTerrain  library I am using, it is 
> warping the image to a geotiff as soon as there are GCPs without 
> checking if the source and destination CS are the same.
> 
> Thanks a lot for the GDAL, it is doing a lot for me.

Antoine,

Perhaps the GDALGCPsToGeoTransform() function would be of some use to you.
It computes an approximate geotransform from a set of GCPs.

However, there is no way to utilize this from the existing commandline
tools.  So it would only be useful if you were scripting or programming.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From priggs at warnercnr.colostate.edu  Thu Feb 23 16:40:23 2006
From: priggs at warnercnr.colostate.edu (Philip Riggs)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Troubles with gdalnumeric
Message-ID: <17019BB7-B248-441F-BCC0-991B0334AB6B@cnr.colostate.edu>

I have succeeded in importing the module, but the first issue was:

Traceback (most recent call last):
   File "<stdin>", line 1, in ?
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 113, in LoadFile
     return DatasetReadAsArray( ds, xoff, yoff, xsize, ysize )
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 130, in DatasetReadAsArray
     return BandReadAsArray( ds.GetRasterBand(1), xoff, yoff, xsize,  
ysize)
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 167, in BandReadAsArray
     typecode = GDALTypeCodeToNumericTypeCode( datatype )
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 205, in  
GDALTypeCodeToNumericTypeCode
     return Int16
NameError: global name 'Int16' is not defined

I corrected this by inserting the definitions for typecode values.  
Will this break anything?

After correcting this I have the following error:

Traceback (most recent call last):
   File "<stdin>", line 1, in ?
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 113, in LoadFile
     return DatasetReadAsArray( ds, xoff, yoff, xsize, ysize )
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 130, in DatasetReadAsArray
     return BandReadAsArray( ds.GetRasterBand(1), xoff, yoff, xsize,  
ysize)
   File "/Library/Frameworks/Python.framework/Versions/2.4/lib/ 
python2.4/site-packages/gdalnumeric.py", line 175, in BandReadAsArray
     buf_obj = zeros( shape, typecode )
NameError: global name 'zeros' is not defined

I have found no zeros function in any gdal related .py file. What  
should this do and where should it be?

Thank you
Philip

From k.dejong at geo.uu.nl  Fri Feb 24 02:48:19 2006
From: k.dejong at geo.uu.nl (Kor de Jong)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Troubles with gdalnumeric
In-Reply-To: <17019BB7-B248-441F-BCC0-991B0334AB6B@cnr.colostate.edu>
References: <17019BB7-B248-441F-BCC0-991B0334AB6B@cnr.colostate.edu>
Message-ID: <200602240848.19371.k.dejong@geo.uu.nl>

Hi Philip,

Op donderdag 23 februari 2006 22:40, schreef Philip Riggs:
> I have succeeded in importing the module, but the first issue was:
> NameError: global name 'Int16' is not defined
>
> After correcting this I have the following error:
>
> NameError: global name 'zeros' is not defined

I believe Int16 and zeros() come from the numerical python package. Maybe an 
import of numeric (numarray?, numpy?) is missing somewhere.

Kor


From stradivarius at centrum.cz  Fri Feb 24 14:12:36 2006
From: stradivarius at centrum.cz (stradivarius@centrum.cz)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] gdal and dwg/dxf
Message-ID: <200602242012.1871@centrum.cz>

Hi,
I have problems compiling the gdal against dwgdirect. The script starts dying with:
---------- output ---------
ogr_dwg.h:57:23: OdaCommon.h: No such file or directory
ogr_dwg.h:58:24: DbDatabase.h: No such file or directory
ogr_dwg.h:59:21: DbAudit.h: No such file or directory
ogr_dwg.h:61:28: StaticRxObject.h: No such file or directory
ogr_dwg.h:62:31: DbHostAppServices.h: No such file or directory
ogr_dwg.h:63:19: Gs/Gs.h: No such file or directory
In file included from ogr_dwg.h:64,
                 from ogrdwgdriver.cpp:36:
OdFileBuf.h:5:30: DbSystemServices.h: No such file or directory
OdFileBuf.h:6:22: OdString.h: No such file or directory
OdFileBuf.h:7:26: RxObjectImpl.h: No such file or directory
In file included from ogr_dwg.h:64,
                 from ogrdwgdriver.cpp:36:
OdFileBuf.h:11: error: expected template-name before '<' token
OdFileBuf.h:11: error: expected `{' before '<' token
OdFileBuf.h:11: error: expected unqualified-id before '<' token
-----------output end --------------

..etc. Seems like I?m missing some files. Did somebody manage to compile --with-dwgdirect? 
I?m using cvs snapshot gdalcvs-20060224 and gcc 3.4

Thanks, best regards,
Karel


From stefan.biegger at endoxon.com  Fri Feb 24 09:38:44 2006
From: stefan.biegger at endoxon.com (Stefan Biegger)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Support of ISO8859-6 in ogr2ogr
Message-ID: <20060224143850.BD4017790@hermes.endoxon.com>

Dear list,

I have a shapefile in ISO8859-6 (arabic character set) and want to convert
it to a MapInfo TAB file.  How could I do this with ogr2ogr? Does ogr2ogr
support this kind of character set currently?

Thanks a lot
Stefan


From t.r.decarlo at LARC.NASA.GOV  Fri Feb 24 17:25:24 2006
From: t.r.decarlo at LARC.NASA.GOV (Thom DeCarlo)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] problem compiling with VS.NET
Message-ID: <00bd01c63991$34d0ad10$959877c6@cts1149>

Hi,
I just downloaded last night's tarball. Attempting to compile on WinXP with
VS.NET 2003 very quickly yielded this:

        cl /nologo /MD /EHsc /Ox -I..\port -I..\ogr -I..\gcore  -I..\alg  /c
cpl_vsi_mem.cpp
cpl_vsi_mem.cpp
cpl_vsi_mem.cpp(614) : error C3861: 'string': identifier not found, even
with argument-dependent lookup
NMAKE : fatal error U1077: 'cl' : return code '0x2'
Stop.
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio .NET
2003\VC7\BIN\nmake.exe"' : return code '0x2'
Stop.


Any idea why this is happening?

Thanks,
Thom

--
Thom DeCarlo
--------------------------------------------------
    Do Not Meddle in the Affairs of Dragons
For You are Crunchy and Taste Good with Ketchup




From mateusz at loskot.net  Fri Feb 24 18:09:09 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] problem compiling with VS.NET
In-Reply-To: <00bd01c63991$34d0ad10$959877c6@cts1149>
References: <00bd01c63991$34d0ad10$959877c6@cts1149>
Message-ID: <43FF9215.5000408@loskot.net>

Thom DeCarlo wrote:
> Hi,
> I just downloaded last night's tarball. Attempting to compile on WinXP with
> VS.NET 2003 very quickly yielded this:
> 
>         cl /nologo /MD /EHsc /Ox -I..\port -I..\ogr -I..\gcore  -I..\alg  /c
> cpl_vsi_mem.cpp
> cpl_vsi_mem.cpp
> cpl_vsi_mem.cpp(614) : error C3861: 'string': identifier not found, even
> with argument-dependent lookup
> NMAKE : fatal error U1077: 'cl' : return code '0x2'
> Stop.
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio .NET
> 2003\VC7\BIN\nmake.exe"' : return code '0x2'
> Stop.
> 
> 
> Any idea why this is happening?

Hi Thom,

You're right. There was small bug, likely caused by my changes I made 
for Windows CE port.
I've just applied patch to the CVS repository.
Do clean checkout from CVS and it should work.
I've just tried to build GDAL with VC++ 7.1 and it compiles well.


If you don't want to do clean checkout, here is the patch.
Just replace the line marked with (-) with line marked with (+).
In case of any problem give me a note.


Index: port/cpl_vsi_mem.cpp
===================================================================
RCS file: /cvs/maptools/cvsroot/gdal/port/cpl_vsi_mem.cpp,v
retrieving revision 1.9
diff -u -a -r1.9 cpl_vsi_mem.cpp
--- port/cpl_vsi_mem.cpp	19 Feb 2006 21:54:34 -0000	1.9
+++ port/cpl_vsi_mem.cpp	24 Feb 2006 23:03:09 -0000
@@ -609,9 +609,8 @@
   */

  void VSIInstallMemFileHandler()
-
  {
-    VSIFileManager::InstallHandler( string("/vsimem/"),
+    VSIFileManager::InstallHandler( std::string("/vsimem/"),
                                      new VSIMemFilesystemHandler );
  }


-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Fri Feb 24 19:27:07 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Support of ISO8859-6 in ogr2ogr
In-Reply-To: <20060224143850.BD4017790@hermes.endoxon.com>
References: <20060224143850.BD4017790@hermes.endoxon.com>
Message-ID: <43FFA45B.6080108@pobox.com>

Stefan Biegger wrote:
> Dear list,
> 
> I have a shapefile in ISO8859-6 (arabic character set) and want to convert
> it to a MapInfo TAB file.  How could I do this with ogr2ogr? Does ogr2ogr
> support this kind of character set currently?

Stefan,

OGR does not currently know anything about character sets.  It might
be possible to translate the file to mid/mif and then hand edit the
mid/mif files to set the character set properly.

I have been contemplating adding character set awareness to OGR.  Possibly
by treating OFTString fields as UTF-8 instead of ASCII as they are now.
However, that is not going to happen soon enough to help you.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tonio_73 at tiscali.fr  Sat Feb 25 07:56:49 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] GCPs to geo transform
In-Reply-To: <43FE2639.20000@pobox.com>
References: <1ed50b03a6da4b47be579f504bc6ba8e@tiscali.fr>
	<43FE2639.20000@pobox.com>
Message-ID: <cb7d62abb35ccb69ab822a018fa36f32@tiscali.fr>


Le 23 f?vr. 06, ? 22:16, Frank Warmerdam a ?crit :

> Antoine Hue wrote:
>> Hello,
>> I was wondering if it is possible to compute the geo transform given 
>> a set of GCPs without warping the image?
>> That's what is being done in the osgTerrain  library I am using, it 
>> is warping the image to a geotiff as soon as there are GCPs without 
>> checking if the source and destination CS are the same.
>> Thanks a lot for the GDAL, it is doing a lot for me.
>
> Antoine,
>
> Perhaps the GDALGCPsToGeoTransform() function would be of some use to 
> you.
> It computes an approximate geotransform from a set of GCPs.
>
>
Hello Frank,

Thanks for the answer. That is what I am looking for, I will try it as 
soon as possible .
What do you mean by approximate? Is it less precise than a warp?
Would a warp get better result because of the resampling and filters?

Talking warp, when an image is warped with CS transformation, it is 
likely to be rotated and non rectangular anymore.
Is there a way to access only the data bearing pixels of the warped 
image?
In fact, if several warped images are shown together without caring 
about the no data part of the image, a black portion will appear and 
overlap with actual data.

Thanks,

Antoine


From warmerdam at pobox.com  Sat Feb 25 10:37:46 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] GCPs to geo transform
In-Reply-To: <cb7d62abb35ccb69ab822a018fa36f32@tiscali.fr>
References: <1ed50b03a6da4b47be579f504bc6ba8e@tiscali.fr>	<43FE2639.20000@pobox.com>
	<cb7d62abb35ccb69ab822a018fa36f32@tiscali.fr>
Message-ID: <440079CA.2000909@pobox.com>

Antoine Hue wrote:
> Hello Frank,
> 
> Thanks for the answer. That is what I am looking for, I will try it as 
> soon as possible .
> What do you mean by approximate? Is it less precise than a warp?
> Would a warp get better result because of the resampling and filters?

Antoine,

The geotransform computed from the GCPs is just a first order transform.
It can represent translation, rotation and shear.  If there are more than
3 GCPs the affine transformation will not be exact at all the control
points, so a best fit is computed.  In that sense the geotransform
is approximate.

It will provide the same transformation effects as gdalwarp would have
up to the point where gdalwarp would start using a second order polynomial.
(6 gcps I believe) at which point gdalwarp will give a better geometric
transformation.

> Talking warp, when an image is warped with CS transformation, it is 
> likely to be rotated and non rectangular anymore.
> Is there a way to access only the data bearing pixels of the warped image?
> In fact, if several warped images are shown together without caring 
> about the no data part of the image, a black portion will appear and 
> overlap with actual data.

I'm not exactly sure what you mean by "access" the pixels.  If you use
the -dstalpha commandline switch to gdalwarp, it will add an alpha
transparency channel in the output file.  This will be 0 (transparent)
for any pixels that were not copied from the source (the black rectangles
on the edges), or 255 for valid pixels.

Alternatively, if you use -dstnodata you can set a value to be burned into
the output file for pixels not copied from the source.  By default this is
effectively 0 (black).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From stradivarius at centrum.cz  Tue Feb 28 06:33:25 2006
From: stradivarius at centrum.cz (stradivarius@centrum.cz)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] dgn file creation
Message-ID: <200602281233.29629@centrum.cz>

Hi list,
I?m really sorry for this question, but how can I create dgn from another supported format?
my command:
ogr2ogr -skipfailures -f "DGN" -lco "SEED=/usr/local/gdal/share/gdal/seed_2d.dgn 3D=NO" mundo_ogr.dgn mundo.shp
I get:
ERROR 6: CreateField() not supported by this layer.

When I try a postgis connection, I get for each element:

ERROR 1: Features with empty, geometry collection geometries not
supported in DGN format.

Commands create empty dgn file. Shp creating works.

Thanks in advance,
Karel


From awilliams at rapidmap.com.au  Tue Feb 28 09:27:24 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Defining Australian Map Grid in GDAL
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC6454396C@rmg-server03.rmg.local>

Hello folks.
I'm having trouble with a Geotiff. 
The scan is a topographic map sheet. The cartography and grid on the sheet is based on AMG (Australian Map Grid). It is a UTM projection based on the Australian National Spheroid, ellps=aust_SA I believe.
 
My problem is that the GeoTiff has been georefernced as UTM ellps=GRS80 datum=WGS84 incorrectly.
 
My intent is to gdalwarp the image to latlong WGS84.
 
I have tried for the better part of a day to attempt to override or otherwise correct the georeferncing. Without success.
 
I have been very successful with GDAL in the past, but this has stopped me.
 
The problem is that I can't seem to fully define AMG "enough" to allow GDALwarp to reproject the image. It seems to default to the source as being UTM WGS84.
 
I attempted to gdal_translate the image using the corrected definition and then gdalwarp image, but that also failed.
 
the definition I have been using is "+proj=tmerc +ellps=aust_SA +lat_0=0 +lon_0=147 +x_0=500000 +y_0=10000000 +k=0.9996 +south"
 
regards
Andrew


From warmerdam at pobox.com  Tue Feb 28 13:58:56 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Assign or define projection
In-Reply-To: <NEBBIPHDAMMOKDKPOFFIAEDOEAAA.abunn@whrc.org>
References: <NEBBIPHDAMMOKDKPOFFIAEDOEAAA.abunn@whrc.org>
Message-ID: <44049D70.3030502@pobox.com>

Andy Bunn wrote:
> Gdal-helpers:
> 
> If I have an image with no projection, what is the simplest way to assign a
> projection to it? Can I do it without making a new file? An example is below
> but the summary is, given image foo.tif that has no projection info is the
> best way to assign/define the projection using:
> 
> gdalwarp -s_srs "WGS84" -t_srs "WGS84" foo.tif bar.tif

Andy,

The following command will do something similar to the above more
efficiently.

gdalwarp -a_srs WGS84 foo.tif bar.tif

At the API or scripting level you can use the SetProjection() method to
assign a projection to an existing file.  In the case of TIFF this will
cause a new directory to be written on close, wasting a bit of space.
But this approach may be worthwhile if you want to avoid copying the
original image data.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Feb 28 15:06:34 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Defining Australian Map Grid in GDAL
In-Reply-To: <CFE1D6CAE2D44343BF58E308C1C7EC6454396C@rmg-server03.rmg.local>
References: <CFE1D6CAE2D44343BF58E308C1C7EC6454396C@rmg-server03.rmg.local>
Message-ID: <4404AD4A.4020005@pobox.com>

Andrew Williams wrote:
> Hello folks.
> I'm having trouble with a Geotiff. 
> The scan is a topographic map sheet. The cartography and grid on the sheet is based on AMG (Australian Map Grid). It is a UTM projection based on the Australian National Spheroid, ellps=aust_SA I believe.
>  
> My problem is that the GeoTiff has been georefernced as UTM ellps=GRS80 datum=WGS84 incorrectly.
>  
> My intent is to gdalwarp the image to latlong WGS84.
>  
> I have tried for the better part of a day to attempt to override or otherwise correct the georeferncing. Without success.
>  
> I have been very successful with GDAL in the past, but this has stopped me.
>  
> The problem is that I can't seem to fully define AMG "enough" to allow GDALwarp to reproject the image. It seems to default to the source as being UTM WGS84.
>  
> I attempted to gdal_translate the image using the corrected definition and then gdalwarp image, but that also failed.
>  
> the definition I have been using is "+proj=tmerc +ellps=aust_SA +lat_0=0 +lon_0=147 +x_0=500000 +y_0=10000000 +k=0.9996 +south"

Andrew,

The +south switch in PROJ.4 does not have any meaning with proj=tmerc.  For
proj=utm it basically determines that +y_0=10000000 instead of +y_0=0 as it
does in the northern hemisphere.

I tried:

gdal_translate -a_srs '+proj=tmerc +ellps=aust_SA +lat_0=0 +lon_0=147 
+x_0=500000 +y_0=10000000 +k=0.9996' openev/utm.tif wrk.tif

Then gdalinfo wrk.tif and get:

PROJCS["unnamed",
     GEOGCS["Australian Natl & S. Amer. 1969",
         DATUM["unknown",
             SPHEROID["unnamed",6378160,298.2500000000049]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",147],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",10000000],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]

So, the adjusted ellipsoid seems to be properly stored in
the file.

What exactly are you trying and why do you think the results
are wrong?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Tue Feb 28 15:12:15 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] dgn file creation
In-Reply-To: <200602281233.29629@centrum.cz>
References: <200602281233.29629@centrum.cz>
Message-ID: <4404AE9F.60601@pobox.com>

stradivarius@centrum.cz wrote:
> Hi list,
> I?m really sorry for this question, but how can I create dgn from another supported format?
> my command:
> ogr2ogr -skipfailures -f "DGN" -lco "SEED=/usr/local/gdal/share/gdal/seed_2d.dgn 3D=NO" mundo_ogr.dgn mundo.shp
> I get:
> ERROR 6: CreateField() not supported by this layer.

Karel,

If you want to pass multiple layer creation options, you need to
include multiple -lco switches.

eg.
ogr2ogr -skipfailures -f DGN -lco SEED=/usr/local/gdal/share/gdal/seed_2d.dgn
  -lco 3D=NO mundo_ogr.dgn mundo.shp

The CreateField() messages are expected with DGN output.  The
DGN format has a fixed schema and doesn't support user defined
fields.  I just tried a similar command (without the seed or
3D layer creation options) and was able to create a DGN file
from a simple polygon file.

Of course, the polygons were all reduced to simple line strings.

> When I try a postgis connection, I get for each element:
> 
> ERROR 1: Features with empty, geometry collection geometries not
> supported in DGN format.
> 
> Commands create empty dgn file. Shp creating works.

Could you perhaps make your mundo.shp available for me to try?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jacob.delfos at maunsell.com  Tue Feb 28 19:02:51 2006
From: jacob.delfos at maunsell.com (Delfos, Jacob)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Defining Australian Map Grid in GDAL
Message-ID: <4997F456680DAD4DA1E042C40C463611426F92@auper1ex002.au.aecomnet.com>

Skipped content of type multipart/alternative-------------- next part --------------
# AGD66 / AMG zone 48
<20248> +proj=utm +zone=48 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 49
<20249> +proj=utm +zone=49 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 50
<20250> +proj=utm +zone=50 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 51
<20251> +proj=utm +zone=51 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 52
<20252> +proj=utm +zone=52 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 53
<20253> +proj=utm +zone=53 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 54
<20254> +proj=utm +zone=54 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 55
<20255> +proj=utm +zone=55 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 56
<20256> +proj=utm +zone=56 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 57
<20257> +proj=utm +zone=57 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD66 / AMG zone 58
<20258> +proj=utm +zone=58 +south +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +units=m  no_defs <>
# AGD84 / AMG zone 48
<20348> +proj=utm +zone=48 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 49
<20349> +proj=utm +zone=49 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 50
<20350> +proj=utm +zone=50 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 51
<20351> +proj=utm +zone=51 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 52
<20352> +proj=utm +zone=52 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 53
<20353> +proj=utm +zone=53 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 54
<20354> +proj=utm +zone=54 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 55
<20355> +proj=utm +zone=55 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 56
<20356> +proj=utm +zone=56 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 57
<20357> +proj=utm +zone=57 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>
# AGD84 / AMG zone 58
<20358> +proj=utm +zone=58 +south +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +units=m  no_defs <>


# AGD66
<4202> +proj=longlat +a=6378160 +rf=298.250000000055 +towgs84=-129.193,-41.212,130.73,-0.246,-0.374,-0.329,-2.955 +no_defs  no_defs <>
# AGD84
<4203> +proj=longlat +a=6378160 +rf=298.250000000055 +towgs84=-117.763,-51.51,139.061,-0.292,-0.443,-0.277,-0.191 +no_defs  no_defs <>
From awilliams at rapidmap.com.au  Tue Feb 28 20:09:38 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] Defining Australian Map Grid in GDAL
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC64543978@rmg-server03.rmg.local>

Thanks for the advice Jacob and Frank.
 
Still having some trouble though. I use the images in Mapinfo. They were provided with world files and Mapinfo TAB file for registration.
 
 I use a tool called MapImagery to open GeoTiffs in Mapinfo. It reads the header of the Geotiff and facilitates the registration process in Mapinfo.
 
In the case of the original file if I open it with MapImagery it describes the datum projection and units for the file eg WGS84/UTM/meters
 
After doing a GDAL_translate using the details provided by Jacob and defining a new ULLR I get RAW/RAW/RAW and the ULLR bounds are ignored.
 
However GDALINFO and LISTGEO correctly returns the header information I've set.
 
GDALWARP also continues to fail when overriding the source.
 
Original image header
Driver: GTiff/GeoTIFF
Size is 3120, 4100
Coordinate System is `'
Origin = (761888.499025,6109620.810466)
Pixel Size = (3.62093253,-3.62093253)
Metadata:
  TIFFTAG_XRESOLUTION=175
  TIFFTAG_YRESOLUTION=175
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (  761888.499, 6109620.810) 
Lower Left  (  761888.499, 6094774.987) 
Upper Right (  773185.809, 6109620.810) 
Lower Right (  773185.809, 6094774.987) 
Center      (  767537.154, 6102197.899) 
 
Modified image header using GDAL_Translate 
Driver: GTiff/GeoTIFF
Size is 3120, 4100
Coordinate System is:
PROJCS["UTM Zone 55, Southern Hemisphere",
    GEOGCS["Australian Natl & S. Amer. 1969",
        DATUM["unknown",
            SPHEROID["unnamed",6378160,298.249999999996]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",147],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10000000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (761888.500000,6109620.810000)
Pixel Size = (3.62093269,-3.62093171)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=IrfanView
  TIFFTAG_XRESOLUTION=175
  TIFFTAG_YRESOLUTION=175
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  (  761888.500, 6109620.810) (149d52'25.73"E, 35d 7'19.61"S)
Lower Left  (  761888.500, 6094774.990) (149d52'42.71"E, 35d15'20.92"S)
Upper Right (  773185.810, 6109620.810) (149d59'51.49"E, 35d 7'8.81"S)
Lower Right (  773185.810, 6094774.990) (150d 0'9.20"E, 35d15'10.06"S)
Center      (  767537.155, 6102197.900) (149d56'17.28"E, 35d11'14.91"S)
 
 

	-----Original Message----- 
	From: Delfos, Jacob [mailto:jacob.delfos@maunsell.com] 
	Sent: Wed 3/1/2006 11:02 AM 
	To: Andrew Williams 
	Cc: gdal-dev@lists.maptools.org 
	Subject: RE: [Gdal-dev] Defining Australian Map Grid in GDAL
	
	

	Andrew, 

	You have to be careful with AGD-based projections in Proj4, because the definitions that exist in Proj4 are not correct (problem with datums). I'm attaching a file with correct definitions for AGD-based projections. I have myself spent several days trying to figure out why my coordinates were up to 200m off, only to realise that Proj4 does not appear to use the AGD84 and AGD66 datum correctly.

	Just for the record: 
	AMG66 = UTM + AGD66-datum 
	AMG84 = UTM + AGD84-datum 
	MGA94 = UTM + GDA94-datum (where GDA94 can be substituted with WGS84) 

	Be careful with the acronyms. You wouldn?t be the first to start construction in the wrong spot :) 
	For your image, I guess just override the projection, and project from Latlong AGD84 (epsg:4203, bottom of file I sent) to Latlong WGS84.

	Regards, 

	Jacob 
	  

	JACOB DELFOS
	GIS ANALYST
	Maunsell Australia Pty Ltd
	629 Newcastle Street, Leederville, WA 6007 
	PO Box 81, Leederville, WA 6902 
	Western Australia 
	ABN 20 093 846 925
	
	Tel     + 61 8 9281 6185
	Fax    + 61 8 9281 6297
	jacob.delfos@maunsell.com 

	<<agd84_agd66_proj4.txt>> 

	? -----Original Message----- 
	? From: gdal-dev-bounces@lists.maptools.org 
	? [mailto:gdal-dev-bounces@lists.maptools.org <mailto:gdal-dev-bounces@lists.maptools.org> ] On Behalf Of 
	? Andrew Williams 
	? Sent: 28 February 2006 22:27 
	? To: gdal-dev@lists.maptools.org 
	? Subject: [Gdal-dev] Defining Australian Map Grid in GDAL 
	? 
	? Hello folks. 
	? I'm having trouble with a Geotiff. 
	? The scan is a topographic map sheet. The cartography and grid 
	? on the sheet is based on AMG (Australian Map Grid). It is a 
	? UTM projection based on the Australian National Spheroid, 
	? ellps=aust_SA I believe. 
	?  
	? My problem is that the GeoTiff has been georefernced as UTM 
	? ellps=GRS80 datum=WGS84 incorrectly. 
	?  
	? My intent is to gdalwarp the image to latlong WGS84. 
	?  
	? I have tried for the better part of a day to attempt to 
	? override or otherwise correct the georeferncing. Without success. 
	?  
	? I have been very successful with GDAL in the past, but this 
	? has stopped me. 
	?  
	? The problem is that I can't seem to fully define AMG "enough" 
	? to allow GDALwarp to reproject the image. It seems to default 
	? to the source as being UTM WGS84. 
	?  
	? I attempted to gdal_translate the image using the corrected 
	? definition and then gdalwarp image, but that also failed. 
	?  
	? the definition I have been using is "+proj=tmerc 
	? +ellps=aust_SA +lat_0=0 +lon_0=147 +x_0=500000 +y_0=10000000 
	? +k=0.9996 +south" 
	?  
	? regards 
	? Andrew 
	? 
	? _______________________________________________ 
	? Gdal-dev mailing list 
	? Gdal-dev@lists.maptools.org 
	? http://lists.maptools.org/mailman/listinfo/gdal-dev <http://lists.maptools.org/mailman/listinfo/gdal-dev>  
	? 



From andrea.aime at aliceposta.it  Tue Feb 28 12:59:04 2006
From: andrea.aime at aliceposta.it (Andrea Aime)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] GMT to Geotiff, transform and recolor
Message-ID: <44048F68.1040107@aliceposta.it>

Hi,
I was wondering if with GDAL I could take a GMT grid file, transform
it into a GeoTiff, and assign a color table to the values at the same time.
I have looked at the gdal_translate tool, but it does not seem to support
re-coloring.

If not possible with command line tools, would it be possible to perform the 
operation using the gdal VB6 bindings?

Best regards
Andrea Aime

PS: what I'm trying to achieve is to take a set of georeferenced values (say,
air temperatures), interpolate them with GMT using splines with tension,
perform some map algebra to adjust interpolated temperatures to the elevation,
and then display a colored map. Unfortunately I'm stuck with VB for this 
project, and I cannot use GRASS because it's just too big (with GMT I can cherry
pick the commands I need and I don't need to create fancy directory structures
on the disk).


From warmerdam at pobox.com  Tue Feb 28 23:04:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:01 2007
Subject: [Gdal-dev] GMT to Geotiff, transform and recolor
In-Reply-To: <44048F68.1040107@aliceposta.it>
References: <44048F68.1040107@aliceposta.it>
Message-ID: <44051D53.8020407@pobox.com>

Andrea Aime wrote:
> Hi,
> I was wondering if with GDAL I could take a GMT grid file, transform
> it into a GeoTiff, and assign a color table to the values at the same time.
> I have looked at the gdal_translate tool, but it does not seem to support
> re-coloring.
> 
> If not possible with command line tools, would it be possible to perform 
> the operation using the gdal VB6 bindings?

Andrea,

I don't see any way you can do this with just gdal_translate.  As you
note it doesn't have any support for recoloring.  You could do it by
creating an XML VRT file with the color table in it, and then use
gdal_translate to produce a GeoTIFF with palette from the VRT file and
the GMT file it points to.

Alternatively you could accomplish it from VB6 using the VB6 bindings
of GDAL.

Let me know if you need details on how to construct the VRT.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


