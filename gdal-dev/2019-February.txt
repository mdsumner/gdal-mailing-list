From diregola at gmail.com  Fri Feb  1 00:49:55 2019
From: diregola at gmail.com (Margherita Di Leo)
Date: Fri, 1 Feb 2019 09:49:55 +0100
Subject: [gdal-dev] Fwd: Reminder GSoC 2019 - Call for ideas and mentors
In-Reply-To: <CABa=8QpktAgeShEfwUozf-0n8h=mBAMjvJLJq74J86noGyjbuw@mail.gmail.com>
References: <CABa=8QpktAgeShEfwUozf-0n8h=mBAMjvJLJq74J86noGyjbuw@mail.gmail.com>
Message-ID: <CABa=8QpkMMciBz9baJRQxFk+63erwBOfwv=rnYPwEGk3puBk2g@mail.gmail.com>

FYI

---------- Forwarded message ---------
From: Margherita Di Leo <diregola at gmail.com>
Date: Fri, Feb 1, 2019 at 8:58 AM
Subject: Reminder GSoC 2019 - Call for ideas and mentors
To: OSGeo-SoC <soc at lists.osgeo.org>, OSGeo Discussions <
discuss at lists.osgeo.org>, ICA OSGeo Labs list <
ica-osgeo-labs at lists.osgeo.org>


Dear OSGeo Community,

this is a gentle reminder to our call for GSoC 2019 mentors and ideas.

If you want to mentor [1], fill in this form:

 https://goo.gl/forms/njL27YLWBVensZ3m1

To complete OSGeo’s GSoC application 2019, we need an ideas list. If you
want to participate proposing ideas, you need to send us (admins:
<gsoc-admin at osgeo.org>) the URL for your project's ideas list. Last
years’ ideas [2] are always a good starting point to prepare the new list
for 2019 [3].

Each project on the Ideas list should include:

a) a project title/description
b) more detailed description of the project (2-5 sentences)
c) expected outcomes
d) skills required/preferred
e) 2 possible mentors.
f) if possible, an easy, medium or hard rating of each project.
g) A test for the students to submit to your evaluation. The test aims at
evaluating if the student is capable for the project, so please design it
having in mind the skills required to complete the project.

For any questions, just ping us admins by  <gsoc-admin at osgeo.org>

Time is short, we need to collect all URLs by Feb 4. After that date,
Google's admins will start evaluating the organizations based on the
submitted ideas pages and decide which orgs will be accepted for this
edition.

Thanks for your cooperation!

Kind regards
OSGeo GSoC admins

[1] https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2019_Administrative
[2] https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2018_Ideas
[3] https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2019_Ideas


-- 
Margherita Di Leo


-- 
Margherita Di Leo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/90d9280a/attachment.html>

From even.rouault at spatialys.com  Fri Feb  1 01:05:05 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Feb 2019 10:05:05 +0100
Subject: [gdal-dev] error compiling 2.4.0 on RHEL7
In-Reply-To: <CAKH7ZWyXjKwTgwrGbj2oh9_4PK_Kv26E5=F-qiRM5bM4FLY8bw@mail.gmail.com>
References: <CAKH7ZWyXjKwTgwrGbj2oh9_4PK_Kv26E5=F-qiRM5bM4FLY8bw@mail.gmail.com>
Message-ID: <2023397.pON340o8kL@even-i700>

On jeudi 31 janvier 2019 16:09:40 CET John Cartwright - NOAA Federal wrote:
> Hello All,
> 
> I'm having trouble compiling 2.4.0 on a RHEL 7.6 machine.  Errors like:
> 
> linkhash.c:43:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’
> before ‘unsigned’
>  unsigned long lh_char_hash(const void *k)
> 
> Compile options are listed below.  Any suggestions?

The token preceding the error where the compilation error occurs is 
CPL_NOSANITIZE_UNSIGNED_INT_OVERFLOW , which is defined in cpl_port.h and 
should expand to nothing with GCC
My hypothesis is that you might have a cpl_port.h file from an older GDAL 
version (2.2 or older) somewhere in the filesystem that is also in the include 
paths for this file.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Fri Feb  1 04:52:59 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Feb 2019 13:52:59 +0100
Subject: [gdal-dev] RFC 73 merged in master / PROJ master required
In-Reply-To: <1997413.DfpdaUsREb@even-i700>
References: <1997413.DfpdaUsREb@even-i700>
Message-ID: <110651139.NeR8XDeEGy@even-i700>

Hi,

I've got a few questions regarding build GDAL master.

I've initiated
https://trac.osgeo.org/gdal/wiki/BuildingOnUnixGDAL25dev
with a few advice. Please correct/expand it as needed

Even

> All,
> 
> RFC 73 work has now been merged into master. Currently GDAL build
> and runtime now depends on PROJ master
> 
> More details of the past month work at:
> https://erouault.blogspot.com/2019/01/srs-barn-raising-8th-report-ready-for.
> html
> 
> Let me underline its conclusion:
> """As all those changes done those last months deeply impact SRS related
> functionnality in GDAL and PROJ, we rely now on your careful testing to
> spot the inevitable issues that have not yet been detected by their
> respective automatic regression test suites. The earlier they are detected,
> the easier they will be fixable, in particular if they impact the API."""
> 
> Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sankin619 at gmail.com  Fri Feb  1 04:54:17 2019
From: sankin619 at gmail.com (san619)
Date: Fri, 1 Feb 2019 05:54:17 -0700 (MST)
Subject: [gdal-dev] Oracle spatial with gdal
In-Reply-To: <20190131143201.j22tcdqsidfjmm6i@norbit.de>
References: <1548913706083-0.post@n6.nabble.com>
 <20190131143201.j22tcdqsidfjmm6i@norbit.de>
Message-ID: <1549025657276-0.post@n6.nabble.com>

Thanks for the reply Jürgen E. Fischer.I got the driver working now.But when
im trying to connect to the oracle im getting error "ERROR 1: ORA-12170:
TNS:Connect timeout occurred"
What could be the reason.I have installed oracle instant client and set the
oracle path also.But im unable to connect why? Im using the query "ogrinfo
OCI:user/password at server/service_name" in the gdal sdk shell
but im getting error. i tried other way also"ogrinfo -ro
OCI:user/password at server/service_name" but still the same error what could
be the reason.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From sankin619 at gmail.com  Fri Feb  1 04:56:49 2019
From: sankin619 at gmail.com (san619)
Date: Fri, 1 Feb 2019 05:56:49 -0700 (MST)
Subject: [gdal-dev] Oracle spatial with gdal
In-Reply-To: <594188c9-7e30-30ac-4d55-09c9f6e77c33@gatewaygeomatics.com>
References: <1548913706083-0.post@n6.nabble.com>
 <594188c9-7e30-30ac-4d55-09c9f6e77c33@gatewaygeomatics.com>
Message-ID: <1549025809491-0.post@n6.nabble.com>

Thanks for the reply jmckenna.I got the driver working now.But when im trying
to connect to the oracle im getting error "ERROR 1: ORA-12170: TNS:Connect
timeout occurred"
What could be the reason.I have installed oracle instant client and set the
oracle path also.But im unable to connect why? Im using the query "ogrinfo
OCI:<user>/<password>@<server>/<service_name>" in the gdal sdk shell
but im getting error. i tried other way also
"ogrinfo -ro OCI:<user>/<password>@<server>/<service_name>" but still the
same error what could be the reason.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From knudsen.thomas at gmail.com  Fri Feb  1 06:31:36 2019
From: knudsen.thomas at gmail.com (Thomas Knudsen)
Date: Fri, 1 Feb 2019 15:31:36 +0100
Subject: [gdal-dev] Oracle spatial with gdal
In-Reply-To: <1549025809491-0.post@n6.nabble.com>
References: <1548913706083-0.post@n6.nabble.com>
 <594188c9-7e30-30ac-4d55-09c9f6e77c33@gatewaygeomatics.com>
 <1549025809491-0.post@n6.nabble.com>
Message-ID: <CAH0YoEM+_VxwvdACfGM+F=L23NdShdWdvx30gmSGnOjR3+_47A@mail.gmail.com>

try user:password instead of user/password.

(Also, you *may* need a port number, server:port/service_name)


Den fre. 1. feb. 2019 kl. 13.56 skrev san619 <sankin619 at gmail.com>:

> Thanks for the reply jmckenna.I got the driver working now.But when im
> trying
> to connect to the oracle im getting error "ERROR 1: ORA-12170: TNS:Connect
> timeout occurred"
> What could be the reason.I have installed oracle instant client and set the
> oracle path also.But im unable to connect why? Im using the query "ogrinfo
> OCI:<user>/<password>@<server>/<service_name>" in the gdal sdk shell
> but im getting error. i tried other way also
> "ogrinfo -ro OCI:<user>/<password>@<server>/<service_name>" but still the
> same error what could be the reason.
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/2af9fe1f/attachment-0001.html>

From thomas.bonfort at gmail.com  Fri Feb  1 08:02:34 2019
From: thomas.bonfort at gmail.com (thomas bonfort)
Date: Fri, 1 Feb 2019 17:02:34 +0100
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
	directory
Message-ID: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>

Following #1250 [1] that allows deactivating drivers at configure time,
in the interest of cutting down on compile time, generated binary size and
surface of attack in case of flaws, I would like to propose to be able to
split the frmts/raw directory in 2.

raw/ would only contain rawdataset.cpp|h and would be a mandatory driver
(it is required by the vrt system)

rawmisc/ (or another name to be proposed) would contain all the other
files, and could be optionally disabled at configure time as in #1250

I'll propose a pull request for this, but prefer waiting on concensus here
before starting the task.

Best regards,
Thomas

[1] https://github.com/OSGeo/gdal/pull/1250
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/b0c35de5/attachment.html>

From even.rouault at spatialys.com  Fri Feb  1 08:49:41 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Feb 2019 17:49:41 +0100
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
	directory
In-Reply-To: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
References: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
Message-ID: <1930728.Qv6zcDm2t5@even-i700>

Thomas,

> Following #1250 [1] that allows deactivating drivers at configure time,
> in the interest of cutting down on compile time, generated binary size and
> surface of attack in case of flaws, I would like to propose to be able to
> split the frmts/raw directory in 2.

Is the split in 2 directories for aesthetic reasons, or because it makes the 
conditional compiling logic easier ?

> 
> raw/ would only contain rawdataset.cpp|h and would be a mandatory driver
> (it is required by the vrt system)

Technically/pedanticaly this is not a driver (there's no "RAW" driver by 
itself), but a base class extended by other drivers.

> 
> rawmisc/ (or another name to be proposed) would contain all the other
> files, and could be optionally disabled at configure time as in #1250

"rawdrivers" maybe ?

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Fri Feb  1 09:10:10 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Feb 2019 18:10:10 +0100
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
	directory
In-Reply-To: <CAOM3y2ggk6SKy4PLPwaUZnc+ojjRSpe9jELX-iAbnFTfyAAiMg@mail.gmail.com>
References: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
 <1930728.Qv6zcDm2t5@even-i700>
 <CAOM3y2ggk6SKy4PLPwaUZnc+ojjRSpe9jELX-iAbnFTfyAAiMg@mail.gmail.com>
Message-ID: <4297427.nx1ix4uh6d@even-i700>

(Re-adding the list)

> > Is the split in 2 directories for aesthetic reasons, or because it makes
> > the
> > conditional compiling logic easier ?
> 
> The latter. I'd like to avoid modifying the cpp files themselves to add
> ifdefs to them.

OK, I'm not clear why the split would change something in that respect. Or 
perhaps I misunderstood your proposals: would be the enabling/disabling 
compilation of raw drivers be for all raw drivers at a time, or per-driver ? I 
initially assumed the later, but guess this must be the former, given what you 
mention above. Not that I particularly care about either way, but just for the 
sake of my understanding.

> 
> > > raw/ would only contain rawdataset.cpp|h and would be a mandatory driver
> > > (it is required by the vrt system)
> So it could go to gcore ? That would have less overhead all-in-all.

Indeed I was considering this as an option. There are a number of GNUmakefile/
makefile.vc with -I../raw in them that could be cleaned up a bit then.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From thomas.bonfort at gmail.com  Fri Feb  1 10:11:14 2019
From: thomas.bonfort at gmail.com (thomas bonfort)
Date: Fri, 1 Feb 2019 19:11:14 +0100
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
	directory
In-Reply-To: <4297427.nx1ix4uh6d@even-i700>
References: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
 <1930728.Qv6zcDm2t5@even-i700>
 <CAOM3y2ggk6SKy4PLPwaUZnc+ojjRSpe9jELX-iAbnFTfyAAiMg@mail.gmail.com>
 <4297427.nx1ix4uh6d@even-i700>
Message-ID: <CAOM3y2jkxr6zMDLTimJZnuGuLvo9gvpxXLJ0pZHbSkR5JtDe6w@mail.gmail.com>

Le ven. 1 févr. 2019 à 18:10, Even Rouault <even.rouault at spatialys.com> a
écrit :

> (Re-adding the list)
>
> > > Is the split in 2 directories for aesthetic reasons, or because it
> makes
> > > the
> > > conditional compiling logic easier ?
> >
> > The latter. I'd like to avoid modifying the cpp files themselves to add
> > ifdefs to them.
>
> OK, I'm not clear why the split would change something in that respect. Or
> perhaps I misunderstood your proposals: would be the enabling/disabling
> compilation of raw drivers be for all raw drivers at a time, or per-driver
> ? I
> initially assumed the later, but guess this must be the former, given what
> you
> mention above. Not that I particularly care about either way, but just for
> the
> sake of my understanding.
>
yes correct, I was thinking of all raw drivers or none.

>
> >
> > > > raw/ would only contain rawdataset.cpp|h and would be a mandatory
> driver
> > > > (it is required by the vrt system)
> > So it could go to gcore ? That would have less overhead all-in-all.
>
> Indeed I was considering this as an option. There are a number of
> GNUmakefile/
> makefile.vc with -I../raw in them that could be cleaned up a bit then.
>
if that's ok with you I can incorporate that in #1250.


> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/95df400e/attachment.html>

From andrew at aitchison.me.uk  Fri Feb  1 11:38:53 2019
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Fri, 1 Feb 2019 19:38:53 +0000 (GMT)
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
 directory
In-Reply-To: <4297427.nx1ix4uh6d@even-i700>
References: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
 <1930728.Qv6zcDm2t5@even-i700>
 <CAOM3y2ggk6SKy4PLPwaUZnc+ojjRSpe9jELX-iAbnFTfyAAiMg@mail.gmail.com>
 <4297427.nx1ix4uh6d@even-i700>
Message-ID: <alpine.DEB.2.21.1902011915560.19256@warden>

On Fri, 1 Feb 2019, Even Rouault wrote:

> (Re-adding the list)
>
>>> Is the split in 2 directories for aesthetic reasons, or because it makes
>>> the
>>> conditional compiling logic easier ?
>>
>> The latter. I'd like to avoid modifying the cpp files themselves to add
>> ifdefs to them.

Most of the drivers I have looked at have a suitable ifdef,
so I checked and was surprised to see that most do not
(a rough grep suggests that 28 frmts directories have such an ifdef and 93 
do not).

The pull-request talks about
./configure
 	... \
 	disable-driver-nnnn \
 	...

When using this proposal to generate minimal binaries, would
it not be more natural to name the drivers that you wish to *enable*
and have the configure system add whatever dependencies are required ?
When a new driver ws added, I would like to assume that my minimal
build would ignore it, without having to alter my build command.

I'm not sure about making "virt" one of the few required drivers;
it would be hard to determine which virt files would be supported
since a single target could use any of the other drivers.


From astewart at terragotech.com  Fri Feb  1 11:57:45 2019
From: astewart at terragotech.com (Alan Stewart)
Date: Fri, 1 Feb 2019 19:57:45 +0000
Subject: [gdal-dev] PROJ6?
Message-ID: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>

Just updated and gdal\makefile.vc now requires PROJ6. I assume this is version 6 of proj4.org? This does not seem to be available on their website.

Alan Stewart
Senior Software Engineer
TerraGo Technologies
3200 Windy Hill Road, Suite 1550W
Atlanta, GA 30339 USA
O.  +1 678.391.9615

www.terragotech.com<applewebdata://B24C0762-C7C9-4431-8518-ACC915448B89/www.terragotech.com>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/8c79d0b3/attachment-0001.html>

From thomas.bonfort at gmail.com  Fri Feb  1 11:58:23 2019
From: thomas.bonfort at gmail.com (thomas bonfort)
Date: Fri, 1 Feb 2019 20:58:23 +0100
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
	directory
In-Reply-To: <alpine.DEB.2.21.1902011915560.19256@warden>
References: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
 <1930728.Qv6zcDm2t5@even-i700>
 <CAOM3y2ggk6SKy4PLPwaUZnc+ojjRSpe9jELX-iAbnFTfyAAiMg@mail.gmail.com>
 <4297427.nx1ix4uh6d@even-i700> <alpine.DEB.2.21.1902011915560.19256@warden>
Message-ID: <CAOM3y2hwPPDxFgKp2uthUCL5EM1hXe5jYw58iJBGWfBAAj-MFQ@mail.gmail.com>

hi,

Le ven. 1 févr. 2019 à 20:39, Andrew C Aitchison <andrew at aitchison.me.uk> a
écrit :

> On Fri, 1 Feb 2019, Even Rouault wrote:
>
> > (Re-adding the list)
> >
> >>> Is the split in 2 directories for aesthetic reasons, or because it
> makes
> >>> the
> >>> conditional compiling logic easier ?
> >>
> >> The latter. I'd like to avoid modifying the cpp files themselves to add
> >> ifdefs to them.
>
> Most of the drivers I have looked at have a suitable ifdef,
> so I checked and was surprised to see that most do not
> (a rough grep suggests that 28 frmts directories have such an ifdef and 93
> do not).
>
> The pull-request talks about
> ./configure
>         ... \
>         disable-driver-nnnn \
>         ...
>
> When using this proposal to generate minimal binaries, would
> it not be more natural to name the drivers that you wish to *enable*
> and have the configure system add whatever dependencies are required ?
> When a new driver ws added, I would like to assume that my minimal
> build would ignore it, without having to alter my build command.
>
I'm not sure you were looking at the latest version of the pull request. in
your case, you'd use
./configure --disable-all-drivers --enable-driver-nnnn
and be assured that only the nnnn driver and the mandatory ones are
included.

>
> I'm not sure about making "virt" one of the few required drivers;
> it would be hard to determine which virt files would be supported
> since a single target could use any of the other drivers.
>
that is already the case actually, although it currently only concerns
drivers that would have been added by a --with-xxxx.
I do believe it is useful to be able to use vrts along with the subset of
drivers you have chosen to enable.

Note that the target of this PR is not to generate a generic gdal build,
but rather to generate a minimal build that contains only the formats you
know will be needed, typically when building a custom docker image.

best regards,
 thomas

>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/41760a1c/attachment.html>

From even.rouault at spatialys.com  Fri Feb  1 12:18:22 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Feb 2019 21:18:22 +0100
Subject: [gdal-dev] PROJ6?
In-Reply-To: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>
References: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>
Message-ID: <1611690.2C7synLqK9@even-i700>

On vendredi 1 février 2019 19:57:45 CET Alan Stewart wrote:
> OJ6. I assume this is version 6 of proj4.org? This does not seem to be
> available on their website.

PROJ 6 is not yet released. You need to use the master branch of
https://github.com/OSGeo/proj.4/

(In case you missed it, this is as consequence of the recently adopted
https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn )

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From thomas.bonfort at gmail.com  Fri Feb  1 12:20:14 2019
From: thomas.bonfort at gmail.com (thomas bonfort)
Date: Fri, 1 Feb 2019 21:20:14 +0100
Subject: [gdal-dev] [Proposal] Move optional raw datasets to separate
	directory
In-Reply-To: <CAOM3y2hwPPDxFgKp2uthUCL5EM1hXe5jYw58iJBGWfBAAj-MFQ@mail.gmail.com>
References: <CAOM3y2h8+08TC+1NjhUsEe79fRvbc__+aRL49avEot_DvP_e9g@mail.gmail.com>
 <1930728.Qv6zcDm2t5@even-i700>
 <CAOM3y2ggk6SKy4PLPwaUZnc+ojjRSpe9jELX-iAbnFTfyAAiMg@mail.gmail.com>
 <4297427.nx1ix4uh6d@even-i700> <alpine.DEB.2.21.1902011915560.19256@warden>
 <CAOM3y2hwPPDxFgKp2uthUCL5EM1hXe5jYw58iJBGWfBAAj-MFQ@mail.gmail.com>
Message-ID: <CAOM3y2ihsvBu7zFK5tN9EADtEY5hvEA8Z2efG1RuLmZ6BYVirw@mail.gmail.com>

for the sake of clarity, I think I should rename the --disable-all-drivers
flag to --disable-all-optional-drivers ...

thomas

Le ven. 1 févr. 2019 à 20:58, thomas bonfort <thomas.bonfort at gmail.com> a
écrit :

> hi,
>
> Le ven. 1 févr. 2019 à 20:39, Andrew C Aitchison <andrew at aitchison.me.uk>
> a écrit :
>
>> On Fri, 1 Feb 2019, Even Rouault wrote:
>>
>> > (Re-adding the list)
>> >
>> >>> Is the split in 2 directories for aesthetic reasons, or because it
>> makes
>> >>> the
>> >>> conditional compiling logic easier ?
>> >>
>> >> The latter. I'd like to avoid modifying the cpp files themselves to add
>> >> ifdefs to them.
>>
>> Most of the drivers I have looked at have a suitable ifdef,
>> so I checked and was surprised to see that most do not
>> (a rough grep suggests that 28 frmts directories have such an ifdef and
>> 93
>> do not).
>>
>> The pull-request talks about
>> ./configure
>>         ... \
>>         disable-driver-nnnn \
>>         ...
>>
>> When using this proposal to generate minimal binaries, would
>> it not be more natural to name the drivers that you wish to *enable*
>> and have the configure system add whatever dependencies are required ?
>> When a new driver ws added, I would like to assume that my minimal
>> build would ignore it, without having to alter my build command.
>>
> I'm not sure you were looking at the latest version of the pull request.
> in your case, you'd use
> ./configure --disable-all-drivers --enable-driver-nnnn
> and be assured that only the nnnn driver and the mandatory ones are
> included.
>
>>
>> I'm not sure about making "virt" one of the few required drivers;
>> it would be hard to determine which virt files would be supported
>> since a single target could use any of the other drivers.
>>
> that is already the case actually, although it currently only concerns
> drivers that would have been added by a --with-xxxx.
> I do believe it is useful to be able to use vrts along with the subset of
> drivers you have chosen to enable.
>
> Note that the target of this PR is not to generate a generic gdal build,
> but rather to generate a minimal build that contains only the formats you
> know will be needed, typically when building a custom docker image.
>
> best regards,
>  thomas
>
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/6f060687/attachment.html>

From me at komzpa.net  Fri Feb  1 12:20:58 2019
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Fri, 1 Feb 2019 23:20:58 +0300
Subject: [gdal-dev] PROJ6?
In-Reply-To: <1611690.2C7synLqK9@even-i700>
References: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>
 <1611690.2C7synLqK9@even-i700>
Message-ID: <CAC8Q8t+q2azB976PiUiD5_wvpUmyueiaNfrkPMAdL_BT+pNvNA@mail.gmail.com>

Hello,

I can't rebuild gdal master with proj master as update of PostGIS env.
Build scripts are unchanged and are from
https://github.com/postgis/postgis-build-env. Here's tail of build log:

checking whether SSE is available at compile time... yes
checking whether SSSE3 is available at compile time... yes
checking whether AVX is available at compile time... yes
checking to enable LTO (link time optimization) build... no
checking whether we should hide internal symbols... no
checking for local include/lib path... none
checking for pthread_create in -lpthread... yes
checking for PTHREAD_MUTEX_RECURSIVE... yes
checking for PTHREAD_MUTEX_ADAPTIVE_NP... yes
checking for pthread_spinlock_t... yes
checking for 5 args mremap()... yes
checking for _SC_PHYS_PAGES... yes
checking for deflateInit_ in -lz... yes
checking for inflateCopy in -lz... yes
using pre-installed libz
checking for ld used by GCC... /usr/bin/ld -m elf_x86_64
checking if the linker (/usr/bin/ld -m elf_x86_64) is GNU ld... yes
checking for shared library run path origin... /bin/bash: ./config.rpath:
No such file or directory
done


checking for iconv... yes
checking for working iconv... yes
checking for iconv declaration...
        extern size_t iconv (iconv_t cd, char * *inbuf, size_t
*inbytesleft, char * *outbuf, size_t *outbytesleft);
using ICONV_CPP_CONST=""
checking for PROJ >= 6 library... checking for proj_create_from_wkt in
-lproj... no
checking for internal_proj_create_from_wkt in -lproj... no
checking for internal_proj_create_from_wkt in -linternalproj... no
configure: error: PROJ 6 symbols not found
The command '/bin/sh -c git clone --depth 1 --branch ${GDAL_BRANCH}
https://github.com/OSGeo/gdal &&     cd gdal/gdal &&     ./autogen.sh &&
./configure && make -j${BUILD_THREADS} && make install &&     cd /src && rm
-rf gdal' returned a non-zero code: 1
Traceback (most recent call last):
 File "build.py", line 84, in <module>
   '.'
 File "/usr/lib/python3.6/subprocess.py", line 291, in check_call
   raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command '['docker', 'build', '--pull',
'--build-arg', 'BUILD_DATE=20190201', '--build-arg',
'POSTGRES_BRANCH=master', '--build-arg', 'GEOS_BRANCH=master',
'--build-arg', 'GDAL_BRANCH=master', '--build-arg', 'PROJ_BRANCH=master',
'-t', 'postgis/postgis-b
uild-env:latest', '.']' returned non-zero exit status 1.


On Fri, Feb 1, 2019 at 11:18 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> On vendredi 1 février 2019 19:57:45 CET Alan Stewart wrote:
> > OJ6. I assume this is version 6 of proj4.org? This does not seem to be
> > available on their website.
>
> PROJ 6 is not yet released. You need to use the master branch of
> https://github.com/OSGeo/proj.4/
>
> (In case you missed it, this is as consequence of the recently adopted
> https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn )
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Darafei Praliaskouski
Support me: http://patreon.com/komzpa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/4d0f84cd/attachment.html>

From michael.smith.erdc at gmail.com  Fri Feb  1 12:24:32 2019
From: michael.smith.erdc at gmail.com (Michael Smith)
Date: Fri, 01 Feb 2019 15:24:32 -0500
Subject: [gdal-dev] PROJ6?
In-Reply-To: <CAC8Q8t+q2azB976PiUiD5_wvpUmyueiaNfrkPMAdL_BT+pNvNA@mail.gmail.com>
References: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>
 <1611690.2C7synLqK9@even-i700>
 <CAC8Q8t+q2azB976PiUiD5_wvpUmyueiaNfrkPMAdL_BT+pNvNA@mail.gmail.com>
Message-ID: <A5F3E6CB-080A-429E-A47C-98857F4EAE45@gmail.com>

You need to change your build order, you need to build proj before you build gdal. 

 

 

-- 

Michael Smith

Remote Sensing/GIS Center

US Army Corps of Engineers

 

 

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> on behalf of Komяpa Darafei Praliaskouski <me at komzpa.net>
Date: Friday, February 1, 2019 at 3:21 PM
To: Even Rouault <even.rouault at spatialys.com>
Cc: <gdal-dev at lists.osgeo.org>, Alan Stewart <astewart at terragotech.com>
Subject: Re: [gdal-dev] PROJ6?

 

Hello,

 

I can't rebuild gdal master with proj master as update of PostGIS env. 

Build scripts are unchanged and are from https://github.com/postgis/postgis-build-env. Here's tail of build log:

 

checking whether SSE is available at compile time... yes 
checking whether SSSE3 is available at compile time... yes 
checking whether AVX is available at compile time... yes 
checking to enable LTO (link time optimization) build... no 
checking whether we should hide internal symbols... no 
checking for local include/lib path... none 
checking for pthread_create in -lpthread... yes 
checking for PTHREAD_MUTEX_RECURSIVE... yes 
checking for PTHREAD_MUTEX_ADAPTIVE_NP... yes 
checking for pthread_spinlock_t... yes 
checking for 5 args mremap()... yes 
checking for _SC_PHYS_PAGES... yes 
checking for deflateInit_ in -lz... yes 
checking for inflateCopy in -lz... yes 
using pre-installed libz 
checking for ld used by GCC... /usr/bin/ld -m elf_x86_64 
checking if the linker (/usr/bin/ld -m elf_x86_64) is GNU ld... yes 
checking for shared library run path origin... /bin/bash: ./config.rpath: No such file or directory 
done                                                                                                                                                                                                                                                                                         
checking for iconv... yes 
checking for working iconv... yes 
checking for iconv declaration...  
        extern size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft); 
using ICONV_CPP_CONST="" 
checking for PROJ >= 6 library... checking for proj_create_from_wkt in -lproj... no 
checking for internal_proj_create_from_wkt in -lproj... no 
checking for internal_proj_create_from_wkt in -linternalproj... no 
configure: error: PROJ 6 symbols not found 
The command '/bin/sh -c git clone --depth 1 --branch ${GDAL_BRANCH} https://github.com/OSGeo/gdal &&     cd gdal/gdal &&     ./autogen.sh && ./configure && make -j${BUILD_THREADS} && make install &&     cd /src && rm -rf gdal' returned a non-zero code: 1                               
Traceback (most recent call last): 
 File "build.py", line 84, in <module> 
   '.' 
 File "/usr/lib/python3.6/subprocess.py", line 291, in check_call 
   raise CalledProcessError(retcode, cmd) 
subprocess.CalledProcessError: Command '['docker', 'build', '--pull', '--build-arg', 'BUILD_DATE=20190201', '--build-arg', 'POSTGRES_BRANCH=master', '--build-arg', 'GEOS_BRANCH=master', '--build-arg', 'GDAL_BRANCH=master', '--build-arg', 'PROJ_BRANCH=master', '-t', 'postgis/postgis-b
uild-env:latest', '.']' returned non-zero exit status 1.

 

On Fri, Feb 1, 2019 at 11:18 PM Even Rouault <even.rouault at spatialys.com> wrote:

On vendredi 1 février 2019 19:57:45 CET Alan Stewart wrote:
> OJ6. I assume this is version 6 of proj4.org? This does not seem to be
> available on their website.

PROJ 6 is not yet released. You need to use the master branch of
https://github.com/OSGeo/proj.4/

(In case you missed it, this is as consequence of the recently adopted
https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn )

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev


 

-- 

Darafei Praliaskouski

Support me: http://patreon.com/komzpa

_______________________________________________ gdal-dev mailing list gdal-dev at lists.osgeo.org https://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/5631c468/attachment-0001.html>

From even.rouault at spatialys.com  Fri Feb  1 12:25:10 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 01 Feb 2019 21:25:10 +0100
Subject: [gdal-dev] PROJ6?
In-Reply-To: <CAC8Q8t+q2azB976PiUiD5_wvpUmyueiaNfrkPMAdL_BT+pNvNA@mail.gmail.com>
References: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>
 <1611690.2C7synLqK9@even-i700>
 <CAC8Q8t+q2azB976PiUiD5_wvpUmyueiaNfrkPMAdL_BT+pNvNA@mail.gmail.com>
Message-ID: <2151957.PhFgDPUNNW@even-i700>

On vendredi 1 février 2019 23:20:58 CET Darafei "Komяpa" Praliaskouski wrote:
> https://github.com/postgis/postgis-build-env

Looking at https://github.com/postgis/postgis-build-env/blob/master/Dockerfile 
, it looks like you're building PROJ after GDAL. This should be the other way 
round. GDAL used to be able to load PROJ with dlopen() mechanism, but this is 
no longer the case, so proper compilation order is now needed.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From me at komzpa.net  Fri Feb  1 12:36:05 2019
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Fri, 1 Feb 2019 23:36:05 +0300
Subject: [gdal-dev] PROJ6?
In-Reply-To: <2151957.PhFgDPUNNW@even-i700>
References: <BYAPR15MB31751830AA47FDB27B2B4A4FC4920@BYAPR15MB3175.namprd15.prod.outlook.com>
 <1611690.2C7synLqK9@even-i700>
 <CAC8Q8t+q2azB976PiUiD5_wvpUmyueiaNfrkPMAdL_BT+pNvNA@mail.gmail.com>
 <2151957.PhFgDPUNNW@even-i700>
Message-ID: <CAC8Q8t+z2GGfLXxnT04eZu89oxaH2ivEkMsPUBnfMmWjPywSFA@mail.gmail.com>

Thanks Even, Michael!

Changed order, left rebuilding and left for Moscow. Hope it finishes well
without oversight.

On пт, 1 лют 2019, 23:25 Even Rouault <even.rouault at spatialys.com> wrote:

> On vendredi 1 février 2019 23:20:58 CET Darafei "Komяpa" Praliaskouski
> wrote:
> > https://github.com/postgis/postgis-build-env
>
> Looking at
> https://github.com/postgis/postgis-build-env/blob/master/Dockerfile
> , it looks like you're building PROJ after GDAL. This should be the other
> way
> round. GDAL used to be able to load PROJ with dlopen() mechanism, but this
> is
> no longer the case, so proper compilation order is now needed.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-- 
Darafei Praliaskouski
Support me: http://patreon.com/komzpa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/c393e4f2/attachment.html>

From jef at norbit.de  Fri Feb  1 14:57:47 2019
From: jef at norbit.de (=?utf-8?Q?J=C3=BCrgen_E=2E?= Fischer)
Date: Fri, 1 Feb 2019 23:57:47 +0100
Subject: [gdal-dev] RFC 73 merged in master / PROJ master required
In-Reply-To: <1997413.DfpdaUsREb@even-i700>
References: <1997413.DfpdaUsREb@even-i700>
Message-ID: <20190201225747.3hxelmexowi4qkq7@norbit.de>

Hi,

On Thu, 31. Jan 2019 at 21:14:01 +0100, Even Rouault wrote:
> RFC 73 work has now been merged into master. Currently GDAL build and runtime
> now depends on PROJ master

OSGeo4W now also has a nightly build of PROJ (proj-dev) to keep the GDAL
nightly build (gdal-dev) going.


Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden              https://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/ae51ef68/attachment.sig>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Pflichtangaben
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190201/ae51ef68/attachment.ksh>

From john.c.cartwright at noaa.gov  Mon Feb  4 12:50:07 2019
From: john.c.cartwright at noaa.gov (John Cartwright - NOAA Federal)
Date: Mon, 4 Feb 2019 13:50:07 -0700
Subject: [gdal-dev] error compiling 2.4.0 on RHEL7
In-Reply-To: <2023397.pON340o8kL@even-i700>
References: <CAKH7ZWyXjKwTgwrGbj2oh9_4PK_Kv26E5=F-qiRM5bM4FLY8bw@mail.gmail.com>
 <2023397.pON340o8kL@even-i700>
Message-ID: <CAKH7ZWzDXQsLy7h0z89Jz=Yos-kq_O9Evcis5tE0-X0-N_iJpA@mail.gmail.com>

That does seem to have been the problem.  Thanks so much for the suggestion!

--john


On Fri, Feb 1, 2019 at 2:05 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> On jeudi 31 janvier 2019 16:09:40 CET John Cartwright - NOAA Federal wrote:
> > Hello All,
> >
> > I'm having trouble compiling 2.4.0 on a RHEL 7.6 machine.  Errors like:
> >
> > linkhash.c:43:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’
> > before ‘unsigned’
> >  unsigned long lh_char_hash(const void *k)
> >
> > Compile options are listed below.  Any suggestions?
>
> The token preceding the error where the compilation error occurs is
> CPL_NOSANITIZE_UNSIGNED_INT_OVERFLOW , which is defined in cpl_port.h and
> should expand to nothing with GCC
> My hypothesis is that you might have a cpl_port.h file from an older GDAL
> version (2.2 or older) somewhere in the filesystem that is also in the
> include
> paths for this file.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190204/7d91321a/attachment.html>

From athomas at thinkspatial.com.au  Tue Feb  5 01:35:07 2019
From: athomas at thinkspatial.com.au (Alan Thomas)
Date: Tue, 5 Feb 2019 20:35:07 +1100
Subject: [gdal-dev] ogr2ogr dxf extents
In-Reply-To: <1548857933291-0.post@n6.nabble.com>
References: <1548857933291-0.post@n6.nabble.com>
Message-ID: <CALhO07ziJdYDxxO5hUk-AxyFx74eFFWD+ya-LoAwW5ertgf_Mg@mail.gmail.com>

Hi Andrew,

No such option exists in GDAL's DXF driver. Extents are calculated
according to the overall bounding envelope of the geometries.

DXF files are not difficult to manipulate as plain text, so if you
wish to modify the extent values (which are conveniently stored very
close to the beginning of the file in the $EXTMIN and $EXTMAX
variables) it should not be terribly difficult to write a simple
Python (etc) script to do this.

Alan


On Thu, 31 Jan 2019 at 01:19, andrew terry
<andrew.terry at centremaps.co.uk> wrote:
>
> Hi,
>
> Using ogr2ogr -f DXF, is there a dsco (or other) variable to set the initial
> zoom extents when the resulting cad file is opened?
>
> Thanks
>
> Andy
>
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



--
Alan Thomas
Software Developer
ThinkSpatial
http://www.thinkspatial.com.au

From athomas at thinkspatial.com.au  Tue Feb  5 01:55:57 2019
From: athomas at thinkspatial.com.au (Alan Thomas)
Date: Tue, 5 Feb 2019 20:55:57 +1100
Subject: [gdal-dev] ogr2ogr dxf multilinestring as block
In-Reply-To: <1548945299456-0.post@n6.nabble.com>
References: <1548945299456-0.post@n6.nabble.com>
Message-ID: <CALhO07z90p8-JOoWzjdrqRp6cV6SKyfg9imdo_Tnao_48QgJcw@mail.gmail.com>

Hi Andrew,

I'm assuming here that you are converting from another format to DXF.

The writer ignores DXF_INLINE_BLOCKS; this configuration option is
only used by the reader. To create blocks, you must place the features
that will compose the block on the "blocks" layer. (Clearly the format
that you are converting from must support multiple layers.) Be sure to
use the Block field instead of BlockName in GDAL 2.3+. Then, on the
"entities" layer, place POINT geometries, with the Block field
likewise set, at the positions where you want the block to be
inserted.

Alan


On Fri, 1 Feb 2019 at 01:35, andrew terry <andrew.terry at centremaps.co.uk> wrote:
>
> Hi,
>
> As per the documentation, i'm seeing mulitlinestring being split up into
> LWPOLYLINE elements.
>
> I'd like to make them a block and have tried adding a "blockname" column and
> given each multilinestring a unique reference.
>
> I've also tried the DXF_INLINE_BLOCKS set to FALSE option.
>
> Is this possible and if so, is there an example anywhere?
>
> Thanks
>
> Andy
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Alan Thomas
Software Developer
ThinkSpatial
http://www.thinkspatial.com.au

From andrew.terry at centremaps.co.uk  Tue Feb  5 02:49:48 2019
From: andrew.terry at centremaps.co.uk (andrew terry)
Date: Tue, 5 Feb 2019 03:49:48 -0700 (MST)
Subject: [gdal-dev] ogr2ogr dxf multilinestring as block
In-Reply-To: <CALhO07z90p8-JOoWzjdrqRp6cV6SKyfg9imdo_Tnao_48QgJcw@mail.gmail.com>
References: <1548945299456-0.post@n6.nabble.com>
 <CALhO07z90p8-JOoWzjdrqRp6cV6SKyfg9imdo_Tnao_48QgJcw@mail.gmail.com>
Message-ID: <1549363788845-0.post@n6.nabble.com>

Hi Alan,

Thanks for replying.

I'm creating from postgres as a source. I think i may have been confused by
the "layer" references as i am getting CAD layers nicely with a Layer field
from postgres but i'm suspecting now that there's some additional OGR Layer
i need to reference?

Is there a way to do this on the command line. In the python autotest for
ogr_dxf.py it seems to be: ds.CreateLayer('blocks'). Not quite sure how to
include that?

Andy





--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From andrew.terry at centremaps.co.uk  Tue Feb  5 02:51:18 2019
From: andrew.terry at centremaps.co.uk (andrew terry)
Date: Tue, 5 Feb 2019 03:51:18 -0700 (MST)
Subject: [gdal-dev] ogr2ogr dxf extents
In-Reply-To: <CALhO07ziJdYDxxO5hUk-AxyFx74eFFWD+ya-LoAwW5ertgf_Mg@mail.gmail.com>
References: <1548857933291-0.post@n6.nabble.com>
 <CALhO07ziJdYDxxO5hUk-AxyFx74eFFWD+ya-LoAwW5ertgf_Mg@mail.gmail.com>
Message-ID: <1549363878082-0.post@n6.nabble.com>

Thanks Alan, i was beginning to think that was the case but good to know i'm
not missing anything.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From jukka.rahkonen at maanmittauslaitos.fi  Tue Feb  5 02:59:48 2019
From: jukka.rahkonen at maanmittauslaitos.fi (jratike80)
Date: Tue, 5 Feb 2019 03:59:48 -0700 (MST)
Subject: [gdal-dev] Oracle spatial with gdal
In-Reply-To: <CAH0YoEM+_VxwvdACfGM+F=L23NdShdWdvx30gmSGnOjR3+_47A@mail.gmail.com>
References: <1548913706083-0.post@n6.nabble.com>
 <594188c9-7e30-30ac-4d55-09c9f6e77c33@gatewaygeomatics.com>
 <1549025809491-0.post@n6.nabble.com>
 <CAH0YoEM+_VxwvdACfGM+F=L23NdShdWdvx30gmSGnOjR3+_47A@mail.gmail.com>
Message-ID: <1549364388428-0.post@n6.nabble.com>

Thomas Knudsen wrote
> try user:password instead of user/password.
> 
> (Also, you *may* need a port number, server:port/service_name)

Hi,

No need to try user:password, it won't work. Just use user/password as
documented in https://gdal.org/drv_oci.html.

What I have always used for making a connection with Oracle is to use the
service name that is defined in my tnsnames.ora file
http://orafaq.com/wiki/Tnsnames.ora. For example

ogrinfo OCI:user/password at ORA12

-Jukka Rahkonen-



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From bhandari.ravi at outlook.com  Tue Feb  5 03:36:23 2019
From: bhandari.ravi at outlook.com (bhandari)
Date: Tue, 5 Feb 2019 04:36:23 -0700 (MST)
Subject: [gdal-dev] Reading JPEG2000 File
Message-ID: <1549366583375-0.post@n6.nabble.com>

Hello All
            I am trying to read JPEG2000 (sentinel) file with GDAL python
bindings using anaconda python.

I am not able to load JPEG2000 drivers. Could you please guide me how to
install JPEG 2000 drivers for GDAL in anaconda environment.

Thanking You



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From andrew.terry at centremaps.co.uk  Tue Feb  5 03:40:26 2019
From: andrew.terry at centremaps.co.uk (andrew terry)
Date: Tue, 5 Feb 2019 04:40:26 -0700 (MST)
Subject: [gdal-dev] ogr2ogr dxf multilinestring as block
In-Reply-To: <CALhO07z90p8-JOoWzjdrqRp6cV6SKyfg9imdo_Tnao_48QgJcw@mail.gmail.com>
References: <1548945299456-0.post@n6.nabble.com>
 <CALhO07z90p8-JOoWzjdrqRp6cV6SKyfg9imdo_Tnao_48QgJcw@mail.gmail.com>
Message-ID: <1549366826241-0.post@n6.nabble.com>

Hi Alan,

I've found that by having a postgres table "blocks", that is an ogr layer
and i can get a cad file out which has the block in it.

Not sure whether i can call two tables with ogr2ogr but at worst i can run
the command once to create a template dxf to use as a header for my entities
to output as.

Thanks

Andy



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From andrew.terry at centremaps.co.uk  Tue Feb  5 04:03:53 2019
From: andrew.terry at centremaps.co.uk (andrew terry)
Date: Tue, 5 Feb 2019 05:03:53 -0700 (MST)
Subject: [gdal-dev] ogr2ogr giving postgres source a specific ogr layer name
Message-ID: <1549368233334-0.post@n6.nabble.com>

Hi,

Is it possible to give postgres -sql output a specific ogr layer name.

As i understand it - In order to create DXF blocks, i need my postgres table
(and therefore ogr layer name) to be called blocks.

Is there a way to force the ogr layer name being used.

I tried -sql "SELECT * FROM (SELECT * FROM public.table) blocks" without
success

I don't want to use a view table as i'm hoping to use a function on some
occassions

Andy



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From cpaulik at vandersat.com  Tue Feb  5 04:19:18 2019
From: cpaulik at vandersat.com (Christoph Paulik)
Date: Tue, 5 Feb 2019 13:19:18 +0100
Subject: [gdal-dev] Reading JPEG2000 File
In-Reply-To: <1549366583375-0.post@n6.nabble.com>
References: <1549366583375-0.post@n6.nabble.com>
Message-ID: <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>

Hi,

Depending on which version of gdal you are using from anaconda it
could be a problem with the gdal packages as compiled by e.g.
conda-forge.

I had a similar problem in the past. See e.g.
https://github.com/conda-forge/gdal-feedstock/issues/227

Cheers,
Christoph

On Tue, 5 Feb 2019 at 12:36, bhandari <bhandari.ravi at outlook.com> wrote:
>
> Hello All
>             I am trying to read JPEG2000 (sentinel) file with GDAL python
> bindings using anaconda python.
>
> I am not able to load JPEG2000 drivers. Could you please guide me how to
> install JPEG 2000 drivers for GDAL in anaconda environment.
>
> Thanking You
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Christoph Paulik // Head of Infrastructure
VanderSat // Satellite observed water data. Globally. Daily.
Wilhelminastraat 43a, 2011 VK, Haarlem (NL), The Netherlands
M  +31 6 18271928 W  www.vandersat.com

--------------------------------------------------------------------------------------

From andrew.terry at centremaps.co.uk  Tue Feb  5 04:24:34 2019
From: andrew.terry at centremaps.co.uk (andrew terry)
Date: Tue, 5 Feb 2019 05:24:34 -0700 (MST)
Subject: [gdal-dev] ogr2ogr giving postgres source a specific ogr layer
 name
In-Reply-To: <1549368233334-0.post@n6.nabble.com>
References: <1549368233334-0.post@n6.nabble.com>
Message-ID: <1549369474674-0.post@n6.nabble.com>

Apologies - i see -nln works both when using sql or just calling a table


andrew terry wrote
> Hi,
> 
> Is it possible to give postgres -sql output a specific ogr layer name.
> 
> As i understand it - In order to create DXF blocks, i need my postgres
> table
> (and therefore ogr layer name) to be called blocks.
> 
> Is there a way to force the ogr layer name being used.
> 
> I tried -sql "SELECT * FROM (SELECT * FROM public.table) blocks" without
> success
> 
> I don't want to use a view table as i'm hoping to use a function on some
> occassions
> 
> Andy
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list

> gdal-dev at .osgeo

> https://lists.osgeo.org/mailman/listinfo/gdal-dev





--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From bhandari.ravi at outlook.com  Tue Feb  5 04:34:23 2019
From: bhandari.ravi at outlook.com (bhandari)
Date: Tue, 5 Feb 2019 05:34:23 -0700 (MST)
Subject: [gdal-dev] Reading JPEG2000 File
In-Reply-To: <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>
References: <1549366583375-0.post@n6.nabble.com>
 <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>
Message-ID: <1549370063761-0.post@n6.nabble.com>

Thank You Christoph but trying that link did not work for me.

Could you please tell how did you solve the problem



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From cpaulik at vandersat.com  Tue Feb  5 04:41:18 2019
From: cpaulik at vandersat.com (Christoph Paulik)
Date: Tue, 5 Feb 2019 13:41:18 +0100
Subject: [gdal-dev] Reading JPEG2000 File
In-Reply-To: <1549370063761-0.post@n6.nabble.com>
References: <1549366583375-0.post@n6.nabble.com>
 <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>
 <1549370063761-0.post@n6.nabble.com>
Message-ID: <CAHtCBnjTZuudruXfJiDv1oRNRPWZ-R5XQNEcm_zX84aOssG7XA@mail.gmail.com>

I installed an up-to date version of gdal from conda forge.

But of course it all depends on which version you are currently using
and what your exact error is.

It is probably best if you go back to the package distributor.

On Tue, 5 Feb 2019 at 13:34, bhandari <bhandari.ravi at outlook.com> wrote:
>
> Thank You Christoph but trying that link did not work for me.
>
> Could you please tell how did you solve the problem
>
>
>
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Christoph Paulik // Head of Infrastructure
VanderSat // Satellite observed water data. Globally. Daily.
Wilhelminastraat 43a, 2011 VK, Haarlem (NL), The Netherlands
M  +31 6 18271928 W  www.vandersat.com

--------------------------------------------------------------------------------------

From bhandari.ravi at outlook.com  Tue Feb  5 06:04:46 2019
From: bhandari.ravi at outlook.com (bhandari)
Date: Tue, 5 Feb 2019 07:04:46 -0700 (MST)
Subject: [gdal-dev] Reading JPEG2000 File
In-Reply-To: <CAHtCBnjTZuudruXfJiDv1oRNRPWZ-R5XQNEcm_zX84aOssG7XA@mail.gmail.com>
References: <1549366583375-0.post@n6.nabble.com>
 <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>
 <1549370063761-0.post@n6.nabble.com>
 <CAHtCBnjTZuudruXfJiDv1oRNRPWZ-R5XQNEcm_zX84aOssG7XA@mail.gmail.com>
Message-ID: <1549375486426-0.post@n6.nabble.com>

I tried GDAL 2.3 from conda forge. When I see the support ed formats with
gdalinfo --formats . It doesn't show JPEG2000. So how do I include support
for JPEG2000?

THANKS FOR YOUR RESPONSE



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From kai.muehlbauer at uni-bonn.de  Tue Feb  5 06:20:28 2019
From: kai.muehlbauer at uni-bonn.de (Kai Muehlbauer)
Date: Tue, 5 Feb 2019 15:20:28 +0100
Subject: [gdal-dev] Reading JPEG2000 File
In-Reply-To: <1549375486426-0.post@n6.nabble.com>
References: <1549366583375-0.post@n6.nabble.com>
 <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>
 <1549370063761-0.post@n6.nabble.com>
 <CAHtCBnjTZuudruXfJiDv1oRNRPWZ-R5XQNEcm_zX84aOssG7XA@mail.gmail.com>
 <1549375486426-0.post@n6.nabble.com>
Message-ID: <82ac156b-0213-bb77-1bc8-0d12d955aa7e@uni-bonn.de>

Just tried gdal 2.4.0 and 2.3.3 from conda-forge. Both contain the line:

JP2OpenJPEG -raster,vector- (rwv): JPEG-2000 driver based on OpenJPEG
library

HTH,
Kai

Maybe
Am 05.02.19 um 15:04 schrieb bhandari:
> I tried GDAL 2.3 from conda forge. When I see the support ed formats with
> gdalinfo --formats . It doesn't show JPEG2000. So how do I include support
> for JPEG2000?
> 
> THANKS FOR YOUR RESPONSE
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From sankin619 at gmail.com  Wed Feb  6 03:57:22 2019
From: sankin619 at gmail.com (san619)
Date: Wed, 6 Feb 2019 04:57:22 -0700 (MST)
Subject: [gdal-dev] Issue with OCI driver
Message-ID: <1549454242690-0.post@n6.nabble.com>

i tried to extract shapefile data table from oracle to shapefile.
But im getting error : 

*Can't transform coordinates, source layer has no
coordinate system.  Use -s_srs to set one.
ERROR 1: Terminating translation prematurely after failed
translation from sql statement.*

I tried exporting using command 
*ogr2ogr -f OCI OCI:user/password at ip/servicename -a_srs EPSG:2180
"C:Downloads\pas_ochronny\pas ochronny.shp"*

The file got uploaded successfully.But when im trying to extract the table
to shapefile im getting error.
I used the command 
*
ogr2ogr -f "GEOJSON" "PRO.json" OCI:user/password at ip/servicename   -t_srs
EPSG:4326  -sql "SELECT * FROM  PAS_OCHRONNY"*
but im getting the error Can't transform coordinates, source layer has no
coordinate system.  Use -s_srs to set one.
ERROR 1: Terminating translation prematurely after failed
translation from sql statement.
 But when is used the command 
*ogr2ogr -f "GEOJSON" "PROPERTYs.json"  OCI:user/password at ip/servicename
-s_srs EPSG:2180 -t_srs EPSG:4326  -sql "SELECT *  FROM PAS_OCHRONNY"*

Translation got successful.Why like this.
How to set the source layer coordinates while uploading.
Is there any way to reproject any source datum to EPSG:4326 without knowing
source.









--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From jukka.rahkonen at maanmittauslaitos.fi  Wed Feb  6 04:42:35 2019
From: jukka.rahkonen at maanmittauslaitos.fi (jratike80)
Date: Wed, 6 Feb 2019 05:42:35 -0700 (MST)
Subject: [gdal-dev] Issue with OCI driver
In-Reply-To: <1549454242690-0.post@n6.nabble.com>
References: <1549454242690-0.post@n6.nabble.com>
Message-ID: <1549456955572-0.post@n6.nabble.com>

Hi,

I believe that OCI driver does not honour the -t_srs parameter of ogr2ogr.
Use the driver specific layer creation option -lco SRID=4326 instead when
saving data into Oracle https://gdal.org/drv_oci.html. 

You asked if it is possible to convert data into EPSG:4326 without knowing
the reference system used in source . I ask How could it be possible? With a
good guess perhaps, sometimes, but generally not. If GDAL cannot the SRS
automatically from the data source then user must give it with -s_srs.

-Jukka Rahkonen-




san619 wrote
> i tried to extract shapefile data table from oracle to shapefile.
> But im getting error : 
> 
> *Can't transform coordinates, source layer has no
> coordinate system.  Use -s_srs to set one.
> ERROR 1: Terminating translation prematurely after failed
> translation from sql statement.*
> 
> I tried exporting using command 
> *ogr2ogr -f OCI OCI:user/password at ip/servicename -a_srs EPSG:2180
> "C:Downloads\pas_ochronny\pas ochronny.shp"*
> 
> The file got uploaded successfully.But when im trying to extract the table
> to shapefile im getting error.
> I used the command 
> *
> ogr2ogr -f "GEOJSON" "PRO.json" OCI:user/password at ip/servicename   -t_srs
> EPSG:4326  -sql "SELECT * FROM  PAS_OCHRONNY"*
> but im getting the error Can't transform coordinates, source layer has no
> coordinate system.  Use -s_srs to set one.
> ERROR 1: Terminating translation prematurely after failed
> translation from sql statement.
>  But when is used the command 
> *ogr2ogr -f "GEOJSON" "PROPERTYs.json"  OCI:user/password at ip/servicename
> -s_srs EPSG:2180 -t_srs EPSG:4326  -sql "SELECT *  FROM PAS_OCHRONNY"*
> 
> Translation got successful.Why like this.
> How to set the source layer coordinates while uploading.
> Is there any way to reproject any source datum to EPSG:4326 without
> knowing
> source.





--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From corina_ww at yahoo.com  Wed Feb  6 07:17:03 2019
From: corina_ww at yahoo.com (Corina Tudorache)
Date: Wed, 6 Feb 2019 08:17:03 -0700 (MST)
Subject: [gdal-dev] gdaldem in python doesnt recognise addAlpha = True
Message-ID: <1549466223971-0.post@n6.nabble.com>

Hi list,

I have been trying to use gdaldem in python to set the background color to
transparent. Unfortunately gdaldem doesnt recognise addAlpha = True, i get
this error message:
TypeError: DEMProcessingOptions() got an unexpected keyword argument
'addAlpha'

ds = gdal.DEMProcessing(infile, outfile, 'color-relief', format = 'MEM',
colorFilename = '/data/file.txt', addAlpha = True)

Is there a way to fix this behaviour?
Corina



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From jukka.rahkonen at maanmittauslaitos.fi  Wed Feb  6 08:02:44 2019
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Wed, 6 Feb 2019 16:02:44 +0000
Subject: [gdal-dev] SQLite dialect does not support ADD COLUMN
Message-ID: <4324983eb0ec4b508873144cbc34c55d@C119S212VM042.msvyvi.vaha.local>

Hi,

I was awaiting that the following ogrinfo command woud add a new column but it didn't

ogrinfo -dialect sqlite -sql "alter table fidtest add column foo" fidtest.shp
INFO: Open of `fidtest.shp'
      using driver `ESRI Shapefile' successful.
ERROR 1: In ExecuteSQL(): sqlite3_prepare_v2(alter table fidtest add foo):
  no such table: fidtest

I did succeed with OGR SQL dialect but I wonder why SQLite dialect fails.

-Jukka Rahkonen-
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190206/b17751ee/attachment.html>

From even.rouault at spatialys.com  Wed Feb  6 08:13:04 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 06 Feb 2019 17:13:04 +0100
Subject: [gdal-dev] SQLite dialect does not support ADD COLUMN
In-Reply-To: <4324983eb0ec4b508873144cbc34c55d@C119S212VM042.msvyvi.vaha.local>
References: <4324983eb0ec4b508873144cbc34c55d@C119S212VM042.msvyvi.vaha.local>
Message-ID: <15074572.mWh3VhA3TH@even-i700>

On mercredi 6 février 2019 16:02:44 CET Rahkonen Jukka (MML) wrote:
> Hi,
> 
> I was awaiting that the following ogrinfo command woud add a new column but
> it didn't
> 
> ogrinfo -dialect sqlite -sql "alter table fidtest add column foo"
> fidtest.shp INFO: Open of `fidtest.shp'
>       using driver `ESRI Shapefile' successful.
> ERROR 1: In ExecuteSQL(): sqlite3_prepare_v2(alter table fidtest add foo):
>   no such table: fidtest
> 
> I did succeed with OGR SQL dialect but I wonder why SQLite dialect fails.

The SQLite dialect uses the SQLite virtual table mechanism internally. That 
mechanism cannot modify table structure.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Wed Feb  6 08:14:51 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 06 Feb 2019 17:14:51 +0100
Subject: [gdal-dev] gdaldem in python doesnt recognise addAlpha = True
In-Reply-To: <1549466223971-0.post@n6.nabble.com>
References: <1549466223971-0.post@n6.nabble.com>
Message-ID: <4684240.NsYaaf1dmo@even-i700>

On mercredi 6 février 2019 08:17:03 CET Corina Tudorache wrote:
> Hi list,
> 
> I have been trying to use gdaldem in python to set the background color to
> transparent. Unfortunately gdaldem doesnt recognise addAlpha = True, i get
> this error message:
> TypeError: DEMProcessingOptions() got an unexpected keyword argument
> 'addAlpha'
> 
> ds = gdal.DEMProcessing(infile, outfile, 'color-relief', format = 'MEM',
> colorFilename = '/data/file.txt', addAlpha = True)
> 
> Is there a way to fix this behaviour?

This was added in GDAL 2.3.0
As a workaround you can use the options= keyword and format its value with 
what you would put on the gdaldem command line

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From corina_ww at yahoo.com  Wed Feb  6 08:35:40 2019
From: corina_ww at yahoo.com (Corina Tudorache)
Date: Wed, 6 Feb 2019 16:35:40 +0000 (UTC)
Subject: [gdal-dev] gdaldem in python doesnt recognise addAlpha = True
In-Reply-To: <4684240.NsYaaf1dmo@even-i700>
References: <1549466223971-0.post@n6.nabble.com> <4684240.NsYaaf1dmo@even-i700>
Message-ID: <353620601.4021386.1549470940447@mail.yahoo.com>

 Hi Even,
I am passing something like thisds = gdal.DEMProcessing('color-relief', file, outfile, options=[-alpha], colorFilename = 'data/file.txt')

But I get an error message too:NameError: name 'alpha' is not defined
The bash syntax would be:gdaldem color-relief file1.tif -alpha hramp.txt file2.tif

Thanks,Corina
    On Wednesday, 6 February 2019, 16:14:56 GMT, Even Rouault <even.rouault at spatialys.com> wrote:  
 
 On mercredi 6 février 2019 08:17:03 CET Corina Tudorache wrote:
> Hi list,
> 
> I have been trying to use gdaldem in python to set the background color to
> transparent. Unfortunately gdaldem doesnt recognise addAlpha = True, i get
> this error message:
> TypeError: DEMProcessingOptions() got an unexpected keyword argument
> 'addAlpha'
> 
> ds = gdal.DEMProcessing(infile, outfile, 'color-relief', format = 'MEM',
> colorFilename = '/data/file.txt', addAlpha = True)
> 
> Is there a way to fix this behaviour?

This was added in GDAL 2.3.0
As a workaround you can use the options= keyword and format its value with 
what you would put on the gdaldem command line

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190206/56cb7e75/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Wed Feb  6 08:36:22 2019
From: jukka.rahkonen at maanmittauslaitos.fi (jratike80)
Date: Wed, 6 Feb 2019 09:36:22 -0700 (MST)
Subject: [gdal-dev] SQLite dialect does not support ADD COLUMN
In-Reply-To: <15074572.mWh3VhA3TH@even-i700>
References: <4324983eb0ec4b508873144cbc34c55d@C119S212VM042.msvyvi.vaha.local>
 <15074572.mWh3VhA3TH@even-i700>
Message-ID: <1549470982300-0.post@n6.nabble.com>

Even Rouault-2 wrote
> On mercredi 6 février 2019 16:02:44 CET Rahkonen Jukka (MML) wrote:
>> Hi,
>> 
>> I was awaiting that the following ogrinfo command woud add a new column
>> but
>> it didn't
>> 
>> ogrinfo -dialect sqlite -sql "alter table fidtest add column foo"
>> fidtest.shp INFO: Open of `fidtest.shp'
>>       using driver `ESRI Shapefile' successful.
>> ERROR 1: In ExecuteSQL(): sqlite3_prepare_v2(alter table fidtest add
>> foo):
>>   no such table: fidtest
>> 
>> I did succeed with OGR SQL dialect but I wonder why SQLite dialect fails.
> 
> The SQLite dialect uses the SQLite virtual table mechanism internally.
> That 
> mechanism cannot modify table structure.
> 
> Even

Thanks Even,

I think I'll add these words of wisdom into documentation
https://www.gdal.org/ogr_sql_sqlite.html that does indeed list what is
supported and reader might understand that all the rest is not supported.

-Jukka- 




--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From bhandari.ravi at outlook.com  Wed Feb  6 08:42:41 2019
From: bhandari.ravi at outlook.com (bhandari)
Date: Wed, 6 Feb 2019 09:42:41 -0700 (MST)
Subject: [gdal-dev] Reading JPEG2000 File
In-Reply-To: <82ac156b-0213-bb77-1bc8-0d12d955aa7e@uni-bonn.de>
References: <1549366583375-0.post@n6.nabble.com>
 <CAHtCBnhGZw_xHqPfNqtNBcMnEGh+7So5AvuWQo6-qMRbCNrKDg@mail.gmail.com>
 <1549370063761-0.post@n6.nabble.com>
 <CAHtCBnjTZuudruXfJiDv1oRNRPWZ-R5XQNEcm_zX84aOssG7XA@mail.gmail.com>
 <1549375486426-0.post@n6.nabble.com>
 <82ac156b-0213-bb77-1bc8-0d12d955aa7e@uni-bonn.de>
Message-ID: <1549471361492-0.post@n6.nabble.com>

Thank you Kai for your response. I will try with gdal2.4



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From even.rouault at spatialys.com  Wed Feb  6 08:45:42 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 06 Feb 2019 17:45:42 +0100
Subject: [gdal-dev] gdaldem in python doesnt recognise addAlpha = True
In-Reply-To: <353620601.4021386.1549470940447@mail.yahoo.com>
References: <1549466223971-0.post@n6.nabble.com> <4684240.NsYaaf1dmo@even-i700>
 <353620601.4021386.1549470940447@mail.yahoo.com>
Message-ID: <10571800.4WN6gj1OFP@even-i700>

On mercredi 6 février 2019 16:35:40 CET Corina Tudorache wrote:
>  Hi Even,
> I am passing something like thisds = gdal.DEMProcessing('color-relief',
> file, outfile, options=[-alpha], colorFilename = 'data/file.txt')

should be

gdal.DEMProcessing(outfile, infile, "color-relief",
                   colorFilename = 'data/file.txt',
					  options = '-alpha')

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From prkrajesvari3 at gmail.com  Wed Feb  6 08:58:43 2019
From: prkrajesvari3 at gmail.com (Rajesvari Parasa)
Date: Wed, 6 Feb 2019 22:28:43 +0530
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
Message-ID: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>

Hi,

This must be a redundant question but I really haven't figured out a way to
do this. I can export into a tiff but that's not desirable.

I am using gdal 2.5 and built it from source and enabled poppler. But when
I use ogrinfo to read the file, I get 'unable to read the data source with
available drivers'. On looking up online, one much suggested solution was
to try: ogr2ogr -f sqlite out.sqlite in.pdf
But since ogr doesn't recognize my PDF, I can't use this.

Can someone please help?

Regards,
Rajeswari
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190206/1a8345a9/attachment.html>

From tobias.wendorff at tu-dortmund.de  Wed Feb  6 11:50:17 2019
From: tobias.wendorff at tu-dortmund.de (Tobias Wendorff)
Date: Wed, 6 Feb 2019 20:50:17 +0100
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
In-Reply-To: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>
References: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>
Message-ID: <0f9be744ce7320938e3089a0117324f5.squirrel@webmail.tu-dortmund.de>

Hi there,

Am Mi, 6.02.2019, 17:58 schrieb Rajesvari Parasa:
> to try: ogr2ogr -f sqlite out.sqlite in.pdf
> But since ogr doesn't recognize my PDF, I can't use this.

I had to use "--config OGR_PDF_READ_NON_STRUCTURED YES" to make it
read my PDFs, but I think, this will destroy your Geospatial content.

I've just read it in non-structured and georeferenced it using
ground control points:

ogr2ogr -progress -a_srs EPSG:3857 -gcp ... output.geojson input.pdf
--config OGR_PDF_READ_NON_STRUCTURED YES -NLT polygon

Perhaps this helps :/

Best regards,
Tobias


From sean at mapbox.com  Wed Feb  6 14:58:01 2019
From: sean at mapbox.com (Sean Gillies)
Date: Wed, 6 Feb 2019 15:58:01 -0700
Subject: [gdal-dev] Differences between OSRImportFromEPSG and
	OSRImportFromProj4
Message-ID: <CADPhZXw1EgYhZHjs=wKyccOdrJTwdeCqFrAwDu-tKPfmHqfCaA@mail.gmail.com>

Hi all,

I observe a difference between the WKT exports of OSRImportFromEPSG(osr,
3857) and OSRImportFromProj4(osr, "+init=epsg:3857"). The former gives a
named coordinate system, the latter gives an unnamed coordinate system.

Case 1:

OSRImportFromEPSG(osr, 3857)
OSRExportToWkt(osr)

'PROJCS["WGS 84 / Pseudo-Mercator",GEOGCS["WGS
84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Mercator_1SP"],PARAMETER["central_meridian",0],PARAMETER["scale_factor",1],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["X",EAST],AXIS["Y",NORTH],EXTENSION["PROJ4","+proj=merc
+a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0
+units=m +nadgrids=@null +wktext +no_defs"],AUTHORITY["EPSG","3857"]]'

Case 2:

OSRImportFromProj4(osr, "+init=epsg:3857")
OSRExportToWkt(osr)

'PROJCS["unnamed",GEOGCS["unnamed
ellipse",DATUM["unknown",SPHEROID["unnamed",6378137,0],EXTENSION["PROJ4_GRIDS","@null"]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Mercator_2SP"],PARAMETER["standard_parallel_1",0],PARAMETER["central_meridian",0],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["Meter",1],AUTHORITY["EPSG","3857"]]'

Am I wrong to understand the semantics of "+init=epsg:3857" as "open the
epsg database, get entry 3857, and use that"? Is this different from
specifying the entry directly?

Thanks in advance,

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190206/db8386df/attachment.html>

From geodesy99 at gmail.com  Wed Feb  6 16:20:59 2019
From: geodesy99 at gmail.com (Michael Patrick)
Date: Wed, 6 Feb 2019 16:20:59 -0800
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
In-Reply-To: <mailman.10.1549483202.20132.gdal-dev@lists.osgeo.org>
References: <mailman.10.1549483202.20132.gdal-dev@lists.osgeo.org>
Message-ID: <CAC54+E623MLY6A_OF+UK_k76ey4EsJYsh_JogarQgoypW+cpPQ@mail.gmail.com>

>
> > This must be a redundant question but I really haven't figured out a way
> to do this. I can export into a tiff but that's not desirable.
>

There are a variety of potential difficulties that can make this
problematic.
1. PDF Version and compliance of the PDF file itself.
2. The lineage of the generating application and 'print' tool chain.

In desperation, at times I've had to open the PDF in Adobe Illustrator or
Inkscape, and export the geometries, and then transform them appropriately.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190206/7bc5892b/attachment.html>

From nyall.dawson at gmail.com  Wed Feb  6 18:14:21 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Thu, 7 Feb 2019 12:14:21 +1000
Subject: [gdal-dev] Logging network requests/replies?
Message-ID: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>

Hi list,

I'm guessing this is a long-shot, but is there any API within GDAL
which allows clients to be notified about outgoing network requests
created by the different GDAL drivers?

I'm looking to get some useful information regarding these for
end-user debugging purposes...

Nyall

From sean at mapbox.com  Wed Feb  6 18:54:29 2019
From: sean at mapbox.com (Sean Gillies)
Date: Wed, 6 Feb 2019 19:54:29 -0700
Subject: [gdal-dev] Logging network requests/replies?
In-Reply-To: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
References: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
Message-ID: <CADPhZXyVBSOs1d0XdKCUJ1KQwggU7Wy-jorP_A2h9WMyKjgpgw@mail.gmail.com>

Hi Nyall,

Even will have the final word on this, but as far as I know, the
information printed when you turn on the following option

  https://trac.osgeo.org/gdal/wiki/ConfigOptions#CPL_CURL_VERBOSE

is not capturable using the error handler from the GDAL API (see
https://www.gdal.org/cpl__error_8h.html#a74d0e649d58180e621540bf73b58e4a2).



On Wed, Feb 6, 2019 at 7:14 PM Nyall Dawson <nyall.dawson at gmail.com> wrote:

> Hi list,
>
> I'm guessing this is a long-shot, but is there any API within GDAL
> which allows clients to be notified about outgoing network requests
> created by the different GDAL drivers?
>
> I'm looking to get some useful information regarding these for
> end-user debugging purposes...
>
> Nyall
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190206/fedd6492/attachment.html>

From sankin619 at gmail.com  Wed Feb  6 20:56:26 2019
From: sankin619 at gmail.com (san619)
Date: Wed, 6 Feb 2019 21:56:26 -0700 (MST)
Subject: [gdal-dev] Issue with OCI driver
In-Reply-To: <1549456955572-0.post@n6.nabble.com>
References: <1549454242690-0.post@n6.nabble.com>
 <1549456955572-0.post@n6.nabble.com>
Message-ID: <1549515386575-0.post@n6.nabble.com>

But when i tried with postgresql and mssql spatial driver.I successfully
transformed the projections without mentioning -s srs i just used -t _srs it
was successful.
i used the command *ogr2ogr -f "GEOJSON" "PROPERTY_VIEW.json"
"MSSQL:Server=***,1433;uid=**;pwd=****;database=***" -t_srs EPSG:4326 -sql
"SELECT * from dbo.colorado_poi" -overwrite*
and the transformation was successful.But when i tried the same thing with
oci driver im getting error.What could be the reason.Or Is it possible to
get the source datum of the table by using any command in gdal.
Or is there any way to set the source datum while uploading the shapefile.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From jukka.rahkonen at maanmittauslaitos.fi  Wed Feb  6 23:38:29 2019
From: jukka.rahkonen at maanmittauslaitos.fi (jratike80)
Date: Thu, 7 Feb 2019 00:38:29 -0700 (MST)
Subject: [gdal-dev] Issue with OCI driver
In-Reply-To: <1549515386575-0.post@n6.nabble.com>
References: <1549454242690-0.post@n6.nabble.com>
 <1549456955572-0.post@n6.nabble.com> <1549515386575-0.post@n6.nabble.com>
Message-ID: <1549525109716-0.post@n6.nabble.com>

Hi,

What I tried to say in my mail yesterday was that OCI driver may be a bit
different than for example PostGIS driver and it does not capture the -t_srs
parameter from ogr2ogr. Did you try my suggestion to add "-lco SRID=4326"?
Now if -t_srs cannot be utilised and if you did not use the OCI driver
specific SRID=4326 option then you will have data in Oracle in an undefined
SRS. 

Reload your data and check with ogrinfo that GDAL can find the correct SRS
from your Oracle table. It is more convenient to reload into a new table
because if you use the same name for the table you must first drop the old
table and also remove the corresponding line from the USER_SDO_METADATA
table manually on the Oracle side before having a new try.

-Jukka Rahkonen-



san619 wrote
> But when i tried with postgresql and mssql spatial driver.I successfully
> transformed the projections without mentioning -s srs i just used -t _srs
> it
> was successful.
> i used the command *ogr2ogr -f "GEOJSON" "PROPERTY_VIEW.json"
> "MSSQL:Server=***,1433;uid=**;pwd=****;database=***" -t_srs EPSG:4326 -sql
> "SELECT * from dbo.colorado_poi" -overwrite*
> and the transformation was successful.But when i tried the same thing with
> oci driver im getting error.What could be the reason.Or Is it possible to
> get the source datum of the table by using any command in gdal.
> Or is there any way to set the source datum while uploading the shapefile.





--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From surajit at amnex.com  Thu Feb  7 00:33:32 2019
From: surajit at amnex.com (Surajit Chowbey)
Date: Thu, 7 Feb 2019 14:03:32 +0530
Subject: [gdal-dev] Reproject raster dataset on the fly
Message-ID: <CANkO7CfeoV=92vKEpoK4_TJ3CdRQBA2xSjpjxKBYB_0FRRC3pA@mail.gmail.com>

Hello,

I need help in re-projecting a raster dataset on the fly.
It must use very less time, like QGIS.

I'm using gdal's latest version.
I'm doing it in Java environment.

Please guide me how I can achieve that.

Regards,
www.amnex.com <http://amnex.com/>
<https://www.linkedin.com/company/amnex-infotech/>
<https://www.facebook.com/Amnex-483157432152180/>
<https://twitter.com/AmnexTech>
<https://www.youtube.com/channel/UCdFmPXOt4RktPaESrF37Ccw>
*Surajit Kr. Chowbey*
GIS Developer
(+91) 7573030154

Amnex Infotechnologies Pvt. Ltd.
Wing-B,1201/1202/1301,Mondeal Heights,
S.G.Highway,Ahmedabad.380015
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190207/a2be87d6/attachment-0001.html>

From even.rouault at spatialys.com  Thu Feb  7 01:12:07 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 07 Feb 2019 10:12:07 +0100
Subject: [gdal-dev] Logging network requests/replies?
In-Reply-To: <CADPhZXyVBSOs1d0XdKCUJ1KQwggU7Wy-jorP_A2h9WMyKjgpgw@mail.gmail.com>
References: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
 <CADPhZXyVBSOs1d0XdKCUJ1KQwggU7Wy-jorP_A2h9WMyKjgpgw@mail.gmail.com>
Message-ID: <15842716.nd0NAHvTEu@even-i700>

On mercredi 6 février 2019 19:54:29 CET Sean Gillies wrote:
> Hi Nyall,
> 
> Even will have the final word on this, but as far as I know, the
> information printed when you turn on the following option
> 
>   https://trac.osgeo.org/gdal/wiki/ConfigOptions#CPL_CURL_VERBOSE
> 
> is not capturable using the error handler from the GDAL API

Yes CPL_CURL_VERBOSE=YES output goes to stderr by default, since this is curl 
which handles this.
But I see in
https://curl.haxx.se/libcurl/c/CURLOPT_DEBUGFUNCTION.html
that we could possibly specify a callback instead of stderr so that it goes 
through GDAL logging mechanism.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Thu Feb  7 01:13:29 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 07 Feb 2019 10:13:29 +0100
Subject: [gdal-dev] Differences between OSRImportFromEPSG and
	OSRImportFromProj4
In-Reply-To: <CADPhZXw1EgYhZHjs=wKyccOdrJTwdeCqFrAwDu-tKPfmHqfCaA@mail.gmail.com>
References: <CADPhZXw1EgYhZHjs=wKyccOdrJTwdeCqFrAwDu-tKPfmHqfCaA@mail.gmail.com>
Message-ID: <4396053.5N97Z6CPQb@even-i700>

Hi Sean,

> 
> I observe a difference between the WKT exports of OSRImportFromEPSG(osr,
> 3857) and OSRImportFromProj4(osr, "+init=epsg:3857"). The former gives a
> named coordinate system, the latter gives an unnamed coordinate system.
> 
>
> Am I wrong to understand the semantics of "+init=epsg:3857" as "open the
> epsg database, get entry 3857, and use that"? Is this different from
> specifying the entry directly?

That's an case where my recent work will help reducing the confusion 
(hopefully)
In current released versions, OSRImportFromEPSG() read in the GDAL data/*.csv 
files a fully-fledged description of the geodetic object.
OSRImportromProj4("+init=epsg:XXXX") goes to PROJ which opens the $prefix/
share/proj/epsg file, identifies the PROJ string in it that corresponds to the 
code, returns it to GDAL, and GDAL reconstructs a OGRSpatialReference by 
analysing the PROJ4 string, which has no names.

With the RFC73 related work, now there's a single database. The 
+init=epsg:XXXX syntax is still supported as a legacy mechanism by PROJ, but 
it no longer opens a 'epsg' file but rather goes to the proj.db database. Note 
that for backward compatibility purposes, if you use the +init=epsg:XXXX 
syntax, PROJ will return CRS objects with possibly a non-EPSG compliant axis 
order (for example it will return longitude-latitude for geographic CRS, 
whereas EPSG mandates latitude-longitude). GDAL (with the commit I just pushed 
since the +init=epsg:XXXX case was actually broken in master) will now emit a 
warning if you use that legacy syntax.

$ gdalsrsinfo EPSG:4326 -o WKT2

GEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
        ELLIPSOID["WGS 84",6378137,298.257223563,
            LENGTHUNIT["metre",1]]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433]],
    CS[ellipsoidal,2],
        AXIS["geodetic latitude (Lat)",north,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433]],
        AXIS["geodetic longitude (Lon)",east,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433]],
    USAGE[
        SCOPE["unknown"],
        AREA["World"],
        BBOX[-90,-180,90,180]],
    ID["EPSG",4326]]

vs

$ gdalsrsinfo +init=epsg:4326 -o WKT2
Warning 1: +init=epsg:XXXX syntax is deprecated. It might return "
a CRS with a non-EPSG compliant axis order.

GEOGCRS["WGS 84",
    DATUM["World Geodetic System 1984",
        ELLIPSOID["WGS 84",6378137,298.257223563,
            LENGTHUNIT["metre",1]],
        ID["EPSG",6326]],
    PRIMEM["Greenwich",0,
        ANGLEUNIT["degree",0.0174532925199433],
        ID["EPSG",8901]],
    CS[ellipsoidal,2],
        AXIS["longitude",east,
            ORDER[1],
            ANGLEUNIT["degree",0.0174532925199433,
                ID["EPSG",9122]]],
        AXIS["latitude",north,
            ORDER[2],
            ANGLEUNIT["degree",0.0174532925199433,
                ID["EPSG",9122]]],
    USAGE[
        SCOPE["unknown"],
        AREA["World"],
        BBOX[-90,-180,90,180]]]

In the later, the axis roder is long/lat and the ID["EPSG",4326] node has been 
stripped off since the object is not conformant with EPSG.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From tobias.wendorff at tu-dortmund.de  Thu Feb  7 01:23:59 2019
From: tobias.wendorff at tu-dortmund.de (Tobias Wendorff)
Date: Thu, 7 Feb 2019 10:23:59 +0100
Subject: [gdal-dev] PS/EPS support via PDF lib?
Message-ID: <97E68B67-C656-49FB-B698-E7EED2F10A05@tu-dortmund.de>

Hey there,

shouldn‘t the PDF libs be able to interpret PS or EPS or aren’t they built against Ghostscript? I thought, Poppler could do PS at least (I think Inkscape uses this).

Or didn’t you integrate PS support? It would save me a lossy transformation from PS to PDF to ogr :)

Best regards,
Tobias

— 
Von einem iPhone gesendet und wird daher Fehler enthalten.

From sean at mapbox.com  Thu Feb  7 17:02:54 2019
From: sean at mapbox.com (Sean Gillies)
Date: Thu, 7 Feb 2019 18:02:54 -0700
Subject: [gdal-dev] Differences between OSRImportFromEPSG and
	OSRImportFromProj4
In-Reply-To: <4396053.5N97Z6CPQb@even-i700>
References: <CADPhZXw1EgYhZHjs=wKyccOdrJTwdeCqFrAwDu-tKPfmHqfCaA@mail.gmail.com>
 <4396053.5N97Z6CPQb@even-i700>
Message-ID: <CADPhZXw05rFBSODdbpZVbK49iSk+=MneNuzdo_s1rmMfbjBUag@mail.gmail.com>

Hi Even,

On Thu, Feb 7, 2019 at 2:13 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi Sean,
>
> >
> > I observe a difference between the WKT exports of OSRImportFromEPSG(osr,
> > 3857) and OSRImportFromProj4(osr, "+init=epsg:3857"). The former gives a
> > named coordinate system, the latter gives an unnamed coordinate system.
> >
> >
> > Am I wrong to understand the semantics of "+init=epsg:3857" as "open the
> > epsg database, get entry 3857, and use that"? Is this different from
> > specifying the entry directly?
>
> That's an case where my recent work will help reducing the confusion
> (hopefully)
> In current released versions, OSRImportFromEPSG() read in the GDAL
> data/*.csv
> files a fully-fledged description of the geodetic object.
> OSRImportromProj4("+init=epsg:XXXX") goes to PROJ which opens the $prefix/
> share/proj/epsg file, identifies the PROJ string in it that corresponds to
> the
> code, returns it to GDAL, and GDAL reconstructs a OGRSpatialReference by
> analysing the PROJ4 string, which has no names.
>
> With the RFC73 related work, now there's a single database. The
> +init=epsg:XXXX syntax is still supported as a legacy mechanism by PROJ,
> but
> it no longer opens a 'epsg' file but rather goes to the proj.db database.
> Note
> that for backward compatibility purposes, if you use the +init=epsg:XXXX
> syntax, PROJ will return CRS objects with possibly a non-EPSG compliant
> axis
> order (for example it will return longitude-latitude for geographic CRS,
> whereas EPSG mandates latitude-longitude). GDAL (with the commit I just
> pushed
> since the +init=epsg:XXXX case was actually broken in master) will now
> emit a
> warning if you use that legacy syntax.
>
> $ gdalsrsinfo EPSG:4326 -o WKT2
>
> GEOGCRS["WGS 84",
>     DATUM["World Geodetic System 1984",
>         ELLIPSOID["WGS 84",6378137,298.257223563,
>             LENGTHUNIT["metre",1]]],
>     PRIMEM["Greenwich",0,
>         ANGLEUNIT["degree",0.0174532925199433]],
>     CS[ellipsoidal,2],
>         AXIS["geodetic latitude (Lat)",north,
>             ORDER[1],
>             ANGLEUNIT["degree",0.0174532925199433]],
>         AXIS["geodetic longitude (Lon)",east,
>             ORDER[2],
>             ANGLEUNIT["degree",0.0174532925199433]],
>     USAGE[
>         SCOPE["unknown"],
>         AREA["World"],
>         BBOX[-90,-180,90,180]],
>     ID["EPSG",4326]]
>
> vs
>
> $ gdalsrsinfo +init=epsg:4326 -o WKT2
> Warning 1: +init=epsg:XXXX syntax is deprecated. It might return "
> a CRS with a non-EPSG compliant axis order.
>
> GEOGCRS["WGS 84",
>     DATUM["World Geodetic System 1984",
>         ELLIPSOID["WGS 84",6378137,298.257223563,
>             LENGTHUNIT["metre",1]],
>         ID["EPSG",6326]],
>     PRIMEM["Greenwich",0,
>         ANGLEUNIT["degree",0.0174532925199433],
>         ID["EPSG",8901]],
>     CS[ellipsoidal,2],
>         AXIS["longitude",east,
>             ORDER[1],
>             ANGLEUNIT["degree",0.0174532925199433,
>                 ID["EPSG",9122]]],
>         AXIS["latitude",north,
>             ORDER[2],
>             ANGLEUNIT["degree",0.0174532925199433,
>                 ID["EPSG",9122]]],
>     USAGE[
>         SCOPE["unknown"],
>         AREA["World"],
>         BBOX[-90,-180,90,180]]]
>
> In the later, the axis roder is long/lat and the ID["EPSG",4326] node has
> been
> stripped off since the object is not conformant with EPSG.
>

Thank you for the explanation and the fix. Thanks, too, for the details in
https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn#OGRCoordinateTransformationchanges
and
https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn#Axisorderissues
which make a lot of sense to me and answer all of the follow up questions
that came to my mind.

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190207/0d018f74/attachment.html>

From nyall.dawson at gmail.com  Thu Feb  7 19:43:03 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Fri, 8 Feb 2019 13:43:03 +1000
Subject: [gdal-dev] Logging network requests/replies?
In-Reply-To: <15842716.nd0NAHvTEu@even-i700>
References: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
 <CADPhZXyVBSOs1d0XdKCUJ1KQwggU7Wy-jorP_A2h9WMyKjgpgw@mail.gmail.com>
 <15842716.nd0NAHvTEu@even-i700>
Message-ID: <CAB28AsgTaqrijL+HsPg6Eh1w9PywJbZyYCJ9V+6_ghw7gOEtdg@mail.gmail.com>

On Thu, 7 Feb 2019 at 19:12, Even Rouault <even.rouault at spatialys.com> wrote:
>
> On mercredi 6 février 2019 19:54:29 CET Sean Gillies wrote:
> > Hi Nyall,
> >
> > Even will have the final word on this, but as far as I know, the
> > information printed when you turn on the following option
> >
> >   https://trac.osgeo.org/gdal/wiki/ConfigOptions#CPL_CURL_VERBOSE
> >
> > is not capturable using the error handler from the GDAL API
>
> Yes CPL_CURL_VERBOSE=YES output goes to stderr by default, since this is curl
> which handles this.
> But I see in
> https://curl.haxx.se/libcurl/c/CURLOPT_DEBUGFUNCTION.html
> that we could possibly specify a callback instead of stderr so that it goes
> through GDAL logging mechanism.
>

Actually, what I had in mind (thinking out loud) would sit solely
within GDAL, e.g. a method to globally specify a callback function to
be called whenever GDAL creates a network request, e.g. within
CPLHTTPFetchEx (and similarly for replies). (With clients being
responsible for ensuring that their callback functions are
appropriately thread safe).

Does this sound desirable? Any concerns/blockers before I start hacking on it?

Nyall

> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at spatialys.com  Fri Feb  8 03:59:14 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 08 Feb 2019 12:59:14 +0100
Subject: [gdal-dev] Logging network requests/replies?
In-Reply-To: <CAB28AsgTaqrijL+HsPg6Eh1w9PywJbZyYCJ9V+6_ghw7gOEtdg@mail.gmail.com>
References: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
 <15842716.nd0NAHvTEu@even-i700>
 <CAB28AsgTaqrijL+HsPg6Eh1w9PywJbZyYCJ9V+6_ghw7gOEtdg@mail.gmail.com>
Message-ID: <3264412.sARPoInhlP@even-i700>

> Actually, what I had in mind (thinking out loud) would sit solely
> within GDAL, e.g. a method to globally specify a callback function to
> be called whenever GDAL creates a network request, e.g. within
> CPLHTTPFetchEx (and similarly for replies).

CPLHTTPFetchEx() is just one of the site that does network access. 
cpl_vsil_curl.cpp, cpl_vsil_s3.cpp, cpl_vsil_az.cpp, cpl_vsil_swift.cpp, 
cpl_vsil_webhdfs.cpp also do network access

But at the end of all them must go through CPLHTTPSetOptions() in cpl_http.cpp

> (With clients being
> responsible for ensuring that their callback functions are
> appropriately thread safe).
> 
> Does this sound desirable? Any concerns/blockers before I start hacking on
> it?

I had several thoughts about this

1) yes a dedicated callback mechanism could work of course

2) As Sean mentionned, and provided we redirect curl logging to our own 
callbacks instead of stderr, we could potentially just use the CPLDebug() 
infrastructure with the the callback being installed with CPLSetErrorHandler() 
+ CPLSetCurrentErrorHandlerCatchDebug(true). We probably wouldn't want so much 
debugging information to be emitted by default (both because of verbosity and 
performance), so this should still be conditionalized by the 
CPL_CURL_VERBOSE=YES config option/env. variable

3) An alternative would be to have a dedicated generic logging API

void CPLLogEvent(const char* topic, const char* fmt, ...);

int CPLHasLoggerFor(const char* topic);

typedef void (*CPLLoggerCallback)(const char* topic,
										 const char* msg, void* user_data);

void* CPLInstallLogger(const char* topic,
							CPLLoggerCallback cbk, void* user_data);
void CPLUninstallLogger(void*);

but I'm wondering if there wouldn't be too much confusion/intersection with 
the CPLDebug() mechanism.


My current slight preference would go to 2) to reuse existing infrastructure. 
Maybe others, including Robert CC'ed who has hacked in the error/debug area 
recently, have thoughts on this.


Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sean at mapbox.com  Fri Feb  8 08:44:20 2019
From: sean at mapbox.com (Sean Gillies)
Date: Fri, 8 Feb 2019 09:44:20 -0700
Subject: [gdal-dev] Logging network requests/replies?
In-Reply-To: <3264412.sARPoInhlP@even-i700>
References: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
 <15842716.nd0NAHvTEu@even-i700>
 <CAB28AsgTaqrijL+HsPg6Eh1w9PywJbZyYCJ9V+6_ghw7gOEtdg@mail.gmail.com>
 <3264412.sARPoInhlP@even-i700>
Message-ID: <CADPhZXxGtbL_XYLmg2ge2wEw9DOY3XDQ=3iDFUVTZ=h5vRHkCQ@mail.gmail.com>

Hi Even,

On Fri, Feb 8, 2019 at 4:59 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> > Actually, what I had in mind (thinking out loud) would sit solely
> > within GDAL, e.g. a method to globally specify a callback function to
> > be called whenever GDAL creates a network request, e.g. within
> > CPLHTTPFetchEx (and similarly for replies).
>
> CPLHTTPFetchEx() is just one of the site that does network access.
> cpl_vsil_curl.cpp, cpl_vsil_s3.cpp, cpl_vsil_az.cpp, cpl_vsil_swift.cpp,
> cpl_vsil_webhdfs.cpp also do network access
>
> But at the end of all them must go through CPLHTTPSetOptions() in
> cpl_http.cpp
>
> > (With clients being
> > responsible for ensuring that their callback functions are
> > appropriately thread safe).
> >
> > Does this sound desirable? Any concerns/blockers before I start hacking
> on
> > it?
>
> I had several thoughts about this
>
> 1) yes a dedicated callback mechanism could work of course
>
> 2) As Sean mentionned, and provided we redirect curl logging to our own
> callbacks instead of stderr, we could potentially just use the CPLDebug()
> infrastructure with the the callback being installed with
> CPLSetErrorHandler()
> + CPLSetCurrentErrorHandlerCatchDebug(true). We probably wouldn't want so
> much
> debugging information to be emitted by default (both because of verbosity
> and
> performance), so this should still be conditionalized by the
> CPL_CURL_VERBOSE=YES config option/env. variable
>
> 3) An alternative would be to have a dedicated generic logging API
>
> void CPLLogEvent(const char* topic, const char* fmt, ...);
>
> int CPLHasLoggerFor(const char* topic);
>
> typedef void (*CPLLoggerCallback)(const char* topic,
>
>        const char* msg, void* user_data);
>
> void* CPLInstallLogger(const char* topic,
>                                                         CPLLoggerCallback
> cbk, void* user_data);
> void CPLUninstallLogger(void*);
>
> but I'm wondering if there wouldn't be too much confusion/intersection
> with
> the CPLDebug() mechanism.
>
>
> My current slight preference would go to 2) to reuse existing
> infrastructure.
> Maybe others, including Robert CC'ed who has hacked in the error/debug
> area
> recently, have thoughts on this.
>
>
> Even
>

I'd prefer to see the existing infrastructure reused because then some
logging of network activity would automatically appear for users of
Rasterio (which already subscribes to CPLDebug messages).

I think the right amount of default logging would be to call CPLDebug for
new connections and report the URL, but not necessarily call CPLDebug for
every request made using that connection.

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190208/886df784/attachment-0001.html>

From bjorn.harrtell at gmail.com  Fri Feb  8 15:08:16 2019
From: bjorn.harrtell at gmail.com (=?UTF-8?Q?Bj=C3=B6rn_Harrtell?=)
Date: Sat, 9 Feb 2019 00:08:16 +0100
Subject: [gdal-dev] FlatGeobuf;
	proposal for a new performance oriented vector file format
In-Reply-To: <CANhDX=b_J2b-vxakyFV7WB8qjzvu3APBT_wTRdan5GjcfBq4YA@mail.gmail.com>
References: <CANhDX=b8vn-su_1M-H6KmZBNcWs+iTV2Y2OaDmQJ72N349Z2QA@mail.gmail.com>
 <CANhDX=b_J2b-vxakyFV7WB8qjzvu3APBT_wTRdan5GjcfBq4YA@mail.gmail.com>
Message-ID: <CANhDX=YaSxDa6NmEQ2nfYmd7NvyqHNun+4agZMiUzzJi_Xa1gQ@mail.gmail.com>

I've now implemented spatial filtering (at GDAL fork
https://github.com/bjornharrtell/gdal/tree/flatgeobuf) and results are
promising, for two test cases about 3,5-4 times faster than shapefile with
the same content. I've used these command lines to measure total time over
10 iterations for each format and dataset:

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_roads_free_1.shp gis_osm_roads_free_1; done
real 0m1,940s

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_roads_free_1.gpkg gis_osm_roads_free_1; done
real 0m0,750s

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_roads_free_1.fgb gis_osm_roads_free_1; done
real 0m0,461s

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_buildings_a_free_1_single.shp gis_osm_buildings_a_free_1_single;
done
real 0m4,381s

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_buildings_a_free_1_single.gpkg gis_osm_buildings_a_free_1_single;
done
real 0m1,624s

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
done
real 0m1,113s

The bounds 10 56 10.2 56.2 contains 21525 out of the 812547 total features
for gis_osm_roads_free_1 and 57699 out of 2027890 features for
gis_osm_buildings_a_free_1_single.

And there is definitely room for optimization. The implementation is naive
and reads the whole R-tree in memory and does not yet read consecutive
features (common case as the R-tree is balanced) in larger I/O blocks which
I think can be significant. If I reduce the extent to 10 56 10.1 56.1 GPKG
is actually fair bit faster which I think is due to it being able to read
the index partially.

/Björn

Den tis 22 jan. 2019 kl 18:43 skrev Björn Harrtell <bjorn.harrtell at gmail.com
>:

> After posting about my experimental format I realized that I lack numbers
> on the potential performance, so I tried to make some more or less
> scientific measuring. The results was disappointing, reaching similar
> performance as shapefile for full sequential reads and so I lost interest
> for a while. But recently I found out that my method of measuring was
> flawed - I measured the time to read into a new shapefile using ogr2ogr,
> but it turns out that can be quite unfair due to the string field length
> dynamic resize that ogr2ogr will do if the strings from input feature
> attributes are of variable length. I've now made some new measurements
> using ogrinfo and the undocumented flag -qq to get a full sequential read.
>
> I've used the shapefiles "gis_osm_buildings_a_free_1" (exploded to single
> poly) and "gis_osm_roads_free_1" from Denmark at
> http://download.geofabrik.de/europe.html as the source, converted to
> respective format, then measured the time it takes to run ogrinfo -qq on
> them. Results (average over three runs):
>
> ## gis_osm_buildings_a_free_1 (2027890 Polygons)
> * SHP: 3800 ms
> * GPKG: 2700 ms
> * FlatGeobuf: 2200 ms
>
> ## gis_osm_roads_free_1 (812547 LineStrings)
> * SHP: 1600 ms
> * GPKG: 1350 ms
> * FlatGeobuf: 800 ms
>
> With that my hope and interest is rekindled. I believe I can fare even
> better against the competition with with spatially filtered searches, will
> hopefully soon have some results on that too.
>
> /Björn
>
> Den sön 9 dec. 2018 kl 20:36 skrev Björn Harrtell <
> bjorn.harrtell at gmail.com>:
>
>> Hi GDAL/OGR folks,
>>
>> In my spare time I've been working on a vector file format called
>> FlatGeobuf (tentatively). The main reason, besides curiosity and learning,
>> I'm putting time into it is that I think shapefile still rules the
>> read/query static data performance game, which is kind of sad, and probably
>> one of the reasons it is still so widely popular. Also, the main competitor
>> (GeoPackage) isn't suitable for streaming access (AFAIK) which shapefiles
>> also handles surprisingly (?) well.
>>
>> By using a performance focused write once binary encoding (flatbuffers),
>> schema constraint and focusing on read/query performance by clustering on
>> an optimal spatial index (Packed Hilbert R-Tree) I hope to be able to beat
>> shapefile performance and at the same time be optimal for streaming/cloud
>> access.
>>
>> I think I'm starting to get somewhere, more details and source is at
>> https://github.com/bjornharrtell/flatgeobuf and I have an early proof of
>> concept driver implementation at
>> https://github.com/bjornharrtell/gdal/tree/flatgeobuf and results are
>> already quite promising - it can do roundtrip read/write and is already
>> quite a bit faster than shapefile. I also have implemented naive read only
>> QGIS provider for experimental purposes.
>>
>> Basically I'm fishing for interest in this effort, hoping that others
>> will see potential in it even if it's "yet another format" and far from
>> final/stable yet. Any feedback is welcome. As I see it, GDAL is a good
>> place for a format specification and reference implementation to incubate.
>>
>> Some additional food for thought that I've had during the experimentation:
>>
>> 1. The main in memory representations of geometry/coordinates seem to be
>> either separate arrays per dimension (GDAL (partially?) and QGIS) or a
>> single array with dimension as stride. I've chosen the latter as of yet but
>> I'm still a bit undecided. There is of course a substantial involved in
>> transforming between the two representations so the situation with two
>> competing models is a bit unfortunate. I'm also not sure about which of
>> these models are objectively "better" than the other?
>>
>> 2. One could get better space efficiency with protobuf instead of
>> flatbuffers, but it has a performance cost. I have not gone far into
>> investigating how much though and one could even reason about supporting
>> both these encodings in a single format specification but it's taking it a
>> bit far I think.
>>
>> 3. Is there a reason to support different packing strategies for the
>> R-Tree or is Packed Hilbert a good compromise (besides it being beautifully
>> simple to implement)?
>>
>> 4. FlatGeobuf is perhaps a too technical name, not catchy enough and has
>> a bad/boring abbreviation. Other candidates I've considered are
>> OpenGeoFile, OpenVectorFile or OpenSpatialFile but I'm undecided. Any
>> ideas? :)
>>
>> Regards,
>>
>> Björn Harrtell
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190209/e7d40709/attachment.html>

From prkrajesvari3 at gmail.com  Sat Feb  9 11:47:46 2019
From: prkrajesvari3 at gmail.com (Rajesvari Parasa)
Date: Sun, 10 Feb 2019 01:17:46 +0530
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
In-Reply-To: <0f9be744ce7320938e3089a0117324f5.squirrel@webmail.tu-dortmund.de>
References: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>
 <0f9be744ce7320938e3089a0117324f5.squirrel@webmail.tu-dortmund.de>
Message-ID: <CAEKTdxqrDRxqgDqy=03W9KJQKdoyXrdj5M6DH-ZZHV2rzy_vpQ@mail.gmail.com>

Hi Tobias,

Thank you for suggesting this. I used the config option and my geospatial
content was intact. Here's the command:
ogrinfo ELU_PD_08_03.pdf --config OGR_PDF_READ_NON_STRUCTURED YES

it lists all relevant layers. Copy the name of the layer (say "Layername")
you want to write in shapefile and then:

ogr2ogr –f “ESRI Shapefile” footprint.shp ELU_PD_08_03.pdf Layername
--config OGR_PDF_READ_NON_STRUCTURED YES


I didn't know that *ogrinfo takes config options*. This is quite
interesting because the document of ogrinfo doesn't mention this.

Thanks again!

On Thu, Feb 7, 2019 at 1:20 AM Tobias Wendorff <
tobias.wendorff at tu-dortmund.de> wrote:

> Hi there,
>
> Am Mi, 6.02.2019, 17:58 schrieb Rajesvari Parasa:
> > to try: ogr2ogr -f sqlite out.sqlite in.pdf
> > But since ogr doesn't recognize my PDF, I can't use this.
>
> I had to use "--config OGR_PDF_READ_NON_STRUCTURED YES" to make it
> read my PDFs, but I think, this will destroy your Geospatial content.
>
> I've just read it in non-structured and georeferenced it using
> ground control points:
>
> ogr2ogr -progress -a_srs EPSG:3857 -gcp ... output.geojson input.pdf
> --config OGR_PDF_READ_NON_STRUCTURED YES -NLT polygon
>
> Perhaps this helps :/
>
> Best regards,
> Tobias
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190210/0ee91597/attachment.html>

From tobias.wendorff at tu-dortmund.de  Sat Feb  9 11:53:12 2019
From: tobias.wendorff at tu-dortmund.de (Tobias Wendorff)
Date: Sat, 9 Feb 2019 20:53:12 +0100
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
In-Reply-To: <CAEKTdxqrDRxqgDqy=03W9KJQKdoyXrdj5M6DH-ZZHV2rzy_vpQ@mail.gmail.com>
References: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>
 <0f9be744ce7320938e3089a0117324f5.squirrel@webmail.tu-dortmund.de>
 <CAEKTdxqrDRxqgDqy=03W9KJQKdoyXrdj5M6DH-ZZHV2rzy_vpQ@mail.gmail.com>
Message-ID: <5f4660dd9e775bd722610531208745f6.squirrel@webmail.tu-dortmund.de>

Am Sa, 9.02.2019, 20:47 schrieb Rajesvari Parasa:
>
> I didn't know that *ogrinfo takes config options*. This is quite
> interesting because the document of ogrinfo doesn't mention this.

It does. Please also check this:
https://github.com/OSGeo/gdal/issues/1282

Did a huge test, since I'm also working with PDF files a lot ;)


From even.rouault at spatialys.com  Sat Feb  9 11:56:31 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 09 Feb 2019 20:56:31 +0100
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
In-Reply-To: <CAEKTdxqrDRxqgDqy=03W9KJQKdoyXrdj5M6DH-ZZHV2rzy_vpQ@mail.gmail.com>
References: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>
 <0f9be744ce7320938e3089a0117324f5.squirrel@webmail.tu-dortmund.de>
 <CAEKTdxqrDRxqgDqy=03W9KJQKdoyXrdj5M6DH-ZZHV2rzy_vpQ@mail.gmail.com>
Message-ID: <5543686.VVttN6XOMq@even-i700>

> I didn't know that *ogrinfo takes config options*. This is quite
> interesting because the document of ogrinfo doesn't mention this.

It is in the general section:

https://gdal.org/ogr_utilities.html


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From prkrajesvari3 at gmail.com  Sat Feb  9 12:05:48 2019
From: prkrajesvari3 at gmail.com (Rajesvari Parasa)
Date: Sun, 10 Feb 2019 01:35:48 +0530
Subject: [gdal-dev] Extracting vector layers from Geospatial PDF
In-Reply-To: <5543686.VVttN6XOMq@even-i700>
References: <CAEKTdxovkV9wUmn=n6zQg0SW0=NgiaA9sQZsR0om16V_1w5Oug@mail.gmail.com>
 <0f9be744ce7320938e3089a0117324f5.squirrel@webmail.tu-dortmund.de>
 <CAEKTdxqrDRxqgDqy=03W9KJQKdoyXrdj5M6DH-ZZHV2rzy_vpQ@mail.gmail.com>
 <5543686.VVttN6XOMq@even-i700>
Message-ID: <CAEKTdxp0i9iA4f8Wjciihj-_Rc-GwgJAYkBEtdCRsgFgvAQb5w@mail.gmail.com>

Thanks for sharing this. I was looking just here:
https://gdal.org/ogrinfo.html


On Sun, Feb 10, 2019 at 1:26 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> > I didn't know that *ogrinfo takes config options*. This is quite
> > interesting because the document of ogrinfo doesn't mention this.
>
> It is in the general section:
>
> https://gdal.org/ogr_utilities.html
>
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190210/d4aea82f/attachment.html>

From robert.coup at koordinates.com  Sun Feb 10 14:06:30 2019
From: robert.coup at koordinates.com (Robert Coup)
Date: Mon, 11 Feb 2019 11:06:30 +1300
Subject: [gdal-dev] Logging network requests/replies?
In-Reply-To: <3264412.sARPoInhlP@even-i700>
References: <CAB28AshPfn9RCUi+-jR6=YgrRTifjtr6MqyKQ7r37GykTUBnzg@mail.gmail.com>
 <15842716.nd0NAHvTEu@even-i700>
 <CAB28AsgTaqrijL+HsPg6Eh1w9PywJbZyYCJ9V+6_ghw7gOEtdg@mail.gmail.com>
 <3264412.sARPoInhlP@even-i700>
Message-ID: <CAFLLRpLpm+kygpNLcuU+T3CkKGUoz+jxrrEqfw05KJ0TO+xCsw@mail.gmail.com>

Hi all,

On Sat, 9 Feb 2019 at 00:59, Even Rouault <even.rouault at spatialys.com>
wrote:

> I had several thoughts about this
>
> 1) yes a dedicated callback mechanism could work of course
>
> 2) As Sean mentionned, and provided we redirect curl logging to our own
> callbacks instead of stderr, we could potentially just use the CPLDebug()
> infrastructure with the the callback being installed with
> CPLSetErrorHandler()
> + CPLSetCurrentErrorHandlerCatchDebug(true). We probably wouldn't want so
> much
> debugging information to be emitted by default (both because of verbosity
> and
> performance), so this should still be conditionalized by the
> CPL_CURL_VERBOSE=YES config option/env. variable
>

I'd suggest this is the best approach. Alternatively a TRACE loglevel below
DEBUG like some of the Java logging frameworks have.


>
> 3) An alternative would be to have a dedicated generic logging API
>

Not sure this adds much over our existing logging API which already
includes callbacks, and has Python integration/etc? The only thing it's
really missing are logging at different levels via topic/categories, and
even those are partially there atm (and you can make it work via a
C++/Python logging library integration).

Rob :)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190211/289c3bac/attachment.html>

From andrea.aime at geo-solutions.it  Mon Feb 11 05:33:00 2019
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Mon, 11 Feb 2019 14:33:00 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
Message-ID: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>

Hi,
I'm looking at ESRI gdb file support and options I have. I'm doing some
tests using QGIS,
but eventually would want to use the Java API to read the files.

QGIS 3.4, as installed on my Linux distro, opens the files with the
OpenFileGDB driver. The QGIS 3.4 Windows
version of 3.4 does the same. A command line ogrinfo too, listing the
formats, I don't see FileGBD.
Am I right in assuming one has to pretty much build from sources in order
to try out the  FileGBD driver?

I've tried to open a relatively small file, 20MB, 200k lines, works and
displays fine, the
in memory spatial index (from the docs, "By default, it will also build on
the fly a in-memory spatial index during the first sequential read of a
layer")
seems to be effective.

I've then tried a larger one, 10GB, 40 million lines, and with this one it
does not seem like there is a spatial
index going at all, even zooming in I see the disk reading madly at
100-200MB/s for several seconds in order
to return a very small area (by small I mean it has 1000 lines tops, road
network of a village).
It's like there was no spatial index, but it could also be that the spatial
index is memory limited and too shallow to be effective.
Maybe I never really gave it an occasion to complete the first sequential
scan, but was wondering about others's experiences.

I assume things would be faster with the FileGDB, but was wondering about
this OpenFileGBD statement: "Robust against corrupted Geodatabase files."
So I'm assuming the FileGBD one is not robust reading corrupted Geodatabase
files. But what does that mean? Segfault/hard crash?
Also, has the FileGDB driver been tested in a heavily multithreaded
environment, does it work fine there?

Cheers
Andrea

== GeoServer Professional Services from the experts! Visit
http://goo.gl/it488V for more information. == Ing. Andrea Aime @geowolf
Technical Lead GeoSolutions S.A.S. Via di Montramito 3/A 55054 Massarosa
(LU) phone: +39 0584 962313 fax: +39 0584 1660272 mob: +39 339 8844549
http://www.geo-solutions.it http://twitter.com/geosolutions_it
------------------------------------------------------- *Con riferimento
alla normativa sul trattamento dei dati personali (Reg. UE 2016/679 -
Regolamento generale sulla protezione dei dati “GDPR”), si precisa che ogni
circostanza inerente alla presente email (il suo contenuto, gli eventuali
allegati, etc.) è un dato la cui conoscenza è riservata al/i solo/i
destinatario/i indicati dallo scrivente. Se il messaggio Le è giunto per
errore, è tenuta/o a cancellarlo, ogni altra operazione è illecita. Le
sarei comunque grato se potesse darmene notizia. This email is intended
only for the person or entity to which it is addressed and may contain
information that is privileged, confidential or otherwise protected from
disclosure. We remind that - as provided by European Regulation 2016/679
“GDPR” - copying, dissemination or use of this e-mail or the information
herein by anyone other than the intended recipient is prohibited. If you
have received this email by mistake, please notify us immediately by
telephone or e-mail.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190211/b009670e/attachment.html>

From even.rouault at spatialys.com  Mon Feb 11 06:05:20 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 11 Feb 2019 15:05:20 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
Message-ID: <5894988.0HjzWizp6F@even-i700>

Andrea,

> Am I right in assuming one has to pretty much build from sources in order
> to try out the  FileGBD driver?

In osgeo4w, you can install the "gdal-filegdb" package

> 
> I've tried to open a relatively small file, 20MB, 200k lines, works and
> displays fine, the
> in memory spatial index (from the docs, "By default, it will also build on
> the fly a in-memory spatial index during the first sequential read of a
> layer")
> seems to be effective.
> 
> I've then tried a larger one, 10GB, 40 million lines, and with this one it
> does not seem like there is a spatial
> index going at all, even zooming in I see the disk reading madly at
> 100-200MB/s for several seconds in order
> to return a very small area (by small I mean it has 1000 lines tops, road
> network of a village).
> It's like there was no spatial index, but it could also be that the spatial
> index is memory limited and too shallow to be effective.
> Maybe I never really gave it an occasion to complete the first sequential
> scan, but was wondering about others's experiences.

Looking at the code, the driver requires really particular call sequences to 
complete the building of the index, basically iterate over the whole dataset, 
and will invalidate it as soon as you do something else: for example, if you 
reset the iteration on features after having read at least one. 
It might be possible the way QGIS calls OGR prevents the driver to build the 
index. Another thing is that QGIS doesn't necessarily persist for very long 
OGR connections.

If you enable GDAL traces (CPL_DEBUG=ON environmenet variable), you'll see
OpenFileGDB: SPI_COMPLETED
when the spatial index is built

Anyway if you have a very large dataset, and that the dataset handle is not 
persisted among spatial queries, this in-memory spatial index will not be 
useful.

> 
> I assume things would be faster with the FileGDB, but was wondering about
> this OpenFileGBD statement: "Robust against corrupted Geodatabase files."
> So I'm assuming the FileGBD one is not robust reading corrupted Geodatabase
> files. But what does that mean? Segfault/hard crash?

Yep, possibly. This is a binary blob, which has likely never gone through fuzz 
testing as the OpenFileGDB did. Howevery if you consume "normal" datasets, 
that shouldn't be an issue.

> Also, has the FileGDB driver been tested in a heavily multithreaded
> environment, does it work fine there?

The FileGDB SDK has (at least early versions which were used to develop it) 
multithreading issues, so the FileGDB driver has a big lock over all calls. 
That won't scale very well of course...

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From andrea.aime at geo-solutions.it  Mon Feb 11 07:07:49 2019
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Mon, 11 Feb 2019 16:07:49 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <5894988.0HjzWizp6F@even-i700>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <5894988.0HjzWizp6F@even-i700>
Message-ID: <CA+nxMTssoj+dYnXzF2TABanem=sBro2_g7aC3f6XnO1oAfksXQ@mail.gmail.com>

Hi Even,
thanks for the fast and insightful response!
Comments inline.

On Mon, Feb 11, 2019 at 3:05 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Looking at the code, the driver requires really particular call sequences
> to
> complete the building of the index, basically iterate over the whole
> dataset,
> and will invalidate it as soon as you do something else: for example, if
> you
> reset the iteration on features after having read at least one.
>

Let's say I would like to "kickstart" the index, it seems like one would
have
to iterate over all the features. Surely OGR has to read them all, but the
client
application might not be interested in the result, only in the side effect
(index
creation indeed).
In that case, is there any faster way to get the index built, other than
just
iterating over every single feature?

Also, are DataSource objects thread safe, can one perform multiple reads in
parallel over them?

> Also, has the FileGDB driver been tested in a heavily multithreaded
> > environment, does it work fine there?
>
> The FileGDB SDK has (at least early versions which were used to develop
> it)
> multithreading issues, so the FileGDB driver has a big lock over all
> calls.
> That won't scale very well of course...
>

Ouch this hurts, but very good to know!

Cheers
Andrea

== GeoServer Professional Services from the experts! Visit
http://goo.gl/it488V for more information. == Ing. Andrea Aime @geowolf
Technical Lead GeoSolutions S.A.S. Via di Montramito 3/A 55054 Massarosa
(LU) phone: +39 0584 962313 fax: +39 0584 1660272 mob: +39 339 8844549
http://www.geo-solutions.it http://twitter.com/geosolutions_it
------------------------------------------------------- *Con riferimento
alla normativa sul trattamento dei dati personali (Reg. UE 2016/679 -
Regolamento generale sulla protezione dei dati “GDPR”), si precisa che ogni
circostanza inerente alla presente email (il suo contenuto, gli eventuali
allegati, etc.) è un dato la cui conoscenza è riservata al/i solo/i
destinatario/i indicati dallo scrivente. Se il messaggio Le è giunto per
errore, è tenuta/o a cancellarlo, ogni altra operazione è illecita. Le
sarei comunque grato se potesse darmene notizia. This email is intended
only for the person or entity to which it is addressed and may contain
information that is privileged, confidential or otherwise protected from
disclosure. We remind that - as provided by European Regulation 2016/679
“GDPR” - copying, dissemination or use of this e-mail or the information
herein by anyone other than the intended recipient is prohibited. If you
have received this email by mistake, please notify us immediately by
telephone or e-mail.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190211/15b83f62/attachment-0001.html>

From even.rouault at spatialys.com  Mon Feb 11 08:31:40 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 11 Feb 2019 17:31:40 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <CA+nxMTssoj+dYnXzF2TABanem=sBro2_g7aC3f6XnO1oAfksXQ@mail.gmail.com>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <5894988.0HjzWizp6F@even-i700>
 <CA+nxMTssoj+dYnXzF2TABanem=sBro2_g7aC3f6XnO1oAfksXQ@mail.gmail.com>
Message-ID: <2594497.nbyspbOEvt@even-i700>

> Let's say I would like to "kickstart" the index, it seems like one would
> have
> to iterate over all the features. Surely OGR has to read them all, but the
> client
> application might not be interested in the result, only in the side effect
> (index
> creation indeed).
> In that case, is there any faster way to get the index built, other than
> just
> iterating over every single feature?

What you can do (until OGR becomes smarter at a later point...) is:
SetAttributeFilter("0 = 1")
GetNextFeature()

This will iterate over all the features and build the index.

> 
> Also, are DataSource objects thread safe, can one perform multiple reads in
> parallel over them?

No, an object should never be used by more than one thread at a time.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From corina_ww at yahoo.com  Mon Feb 11 08:52:11 2019
From: corina_ww at yahoo.com (Corina Tudorache)
Date: Mon, 11 Feb 2019 09:52:11 -0700 (MST)
Subject: [gdal-dev] Making only the background transparent
Message-ID: <1549903931166-0.post@n6.nabble.com>

Hi list,

I have been trying to convert the background of several images to
transparent, but what I was able to do with gdaldem is to convert all the
image to transparent and with gdalwarp although it converts the background
to transparent, the other colors are set to green.
Don't really know what to do to have the desired output.
So what I would like, is to keep the colors that are not part of the
background. I am not able to select only the color that I want from the
image and set only that color to transparent.
Any advice is much appreciated.

Kind regards,
Corina



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From andrea.aime at geo-solutions.it  Mon Feb 11 09:04:35 2019
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Mon, 11 Feb 2019 18:04:35 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <2594497.nbyspbOEvt@even-i700>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <5894988.0HjzWizp6F@even-i700>
 <CA+nxMTssoj+dYnXzF2TABanem=sBro2_g7aC3f6XnO1oAfksXQ@mail.gmail.com>
 <2594497.nbyspbOEvt@even-i700>
Message-ID: <CA+nxMTu3MXLVe5gyHsXQY52LD3_DOsKipnZUKNM8+mW4AyxkvQ@mail.gmail.com>

On Mon, Feb 11, 2019 at 5:53 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> What you can do (until OGR becomes smarter at a later point...) is:
> SetAttributeFilter("0 = 1")
> GetNextFeature()
>
> This will iterate over all the features and build the index.
>

Excellent


> >
> > Also, are DataSource objects thread safe, can one perform multiple reads
> in
> > parallel over them?
>
> No, an object should never be used by more than one thread at a time.
>

So each thread needs to build its own DataSource and associated in memory
spatial index,
and keep them alive for as possible in order to reuse the index?
Sorry for all these questions, trying to figure out if there is a way to
keep the index alive
long enough to be useful in an application like GeoServer, where each
thread serves one request
in a stateless manner. I'm guessing maybe one would have to setup some sort
of DataSource
pooling, not unlike a connection pool for databases.
Are there other file formats that would benefit from such a thing?

Cheers
Andrea

==

GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information. == Ing. Andrea Aime @geowolf Technical Lead
GeoSolutions S.A.S. Via di Montramito 3/A 55054 Massarosa (LU) phone: +39
0584 962313 fax: +39 0584 1660272 mob: +39 339 8844549
http://www.geo-solutions.it http://twitter.com/geosolutions_it
------------------------------------------------------- *Con riferimento
alla normativa sul trattamento dei dati personali (Reg. UE 2016/679 -
Regolamento generale sulla protezione dei dati “GDPR”), si precisa che ogni
circostanza inerente alla presente email (il suo contenuto, gli eventuali
allegati, etc.) è un dato la cui conoscenza è riservata al/i solo/i
destinatario/i indicati dallo scrivente. Se il messaggio Le è giunto per
errore, è tenuta/o a cancellarlo, ogni altra operazione è illecita. Le
sarei comunque grato se potesse darmene notizia. This email is intended
only for the person or entity to which it is addressed and may contain
information that is privileged, confidential or otherwise protected from
disclosure. We remind that - as provided by European Regulation 2016/679
“GDPR” - copying, dissemination or use of this e-mail or the information
herein by anyone other than the intended recipient is prohibited. If you
have received this email by mistake, please notify us immediately by
telephone or e-mail.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190211/a6949b3d/attachment.html>

From dhdeangelis at comhem.se  Mon Feb 11 09:01:28 2019
From: dhdeangelis at comhem.se (=?UTF-8?Q?Hern=c3=a1n_De_Angelis?=)
Date: Mon, 11 Feb 2019 18:01:28 +0100
Subject: [gdal-dev] Problem with Perl module Geo:GDAL: undefined symbol:
	GTIFNewEx
Message-ID: <de007d55-dd3c-b504-536e-2653a79eb49a@comhem.se>

Dear all (but particularly users and developer of Perl module Geo::GDAL),

I have resumed work in a project that has been in standstill for about 
two years. The workflow involves some Perl scripts that read and process 
properties of satellite images using the module Geo::GDAL. These scripts 
worked fine last time they were run (Dec 2016) but that was of course 
with different versions of everything. I am now getting this error when 
executing one of these scripts:

perl: symbol lookup error: ../../libgdal.so: undefined symbol: GTIFNewEx

I wonder if I maybe doing something wrong, or there is something else. I 
see that GTIFNewEx was added to libgeotiff in Jun 2017 (*). Maybe this 
change has not been dealt with in newer versions of Geo::GDAL?

Using GDAL 2.4.0, libgeotiff 1.4.3, and Perl 5.28.0 in openSUSE 15.0

Thanks!

Hernán

(*) https://svn.osgeo.org/metacrs/geotiff/trunk/libgeotiff/ChangeLog


From even.rouault at spatialys.com  Mon Feb 11 09:36:45 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 11 Feb 2019 18:36:45 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <CA+nxMTu3MXLVe5gyHsXQY52LD3_DOsKipnZUKNM8+mW4AyxkvQ@mail.gmail.com>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <2594497.nbyspbOEvt@even-i700>
 <CA+nxMTu3MXLVe5gyHsXQY52LD3_DOsKipnZUKNM8+mW4AyxkvQ@mail.gmail.com>
Message-ID: <6742467.YJ8Um84JjU@even-i700>

> So each thread needs to build its own DataSource and associated in memory
> spatial index,
> and keep them alive for as possible in order to reuse the index?
> Sorry for all these questions, trying to figure out if there is a way to
> keep the index alive
> long enough to be useful in an application like GeoServer, where each
> thread serves one request
> in a stateless manner. I'm guessing maybe one would have to setup some sort
> of DataSource
> pooling, not unlike a connection pool for databases.
> Are there other file formats that would benefit from such a thing?

OpenFileGDB is certainly one that would benefit the most from datasource 
pooling, but all others can also, like the ones ingesting the dataset in 
memory, or having to do an initial full scan to determine the feature schema 
(GeoJSON)

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From ari.jolma at gmail.com  Mon Feb 11 11:53:00 2019
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon, 11 Feb 2019 21:53:00 +0200
Subject: [gdal-dev] Problem with Perl module Geo:GDAL: undefined symbol:
 GTIFNewEx
In-Reply-To: <de007d55-dd3c-b504-536e-2653a79eb49a@comhem.se>
References: <de007d55-dd3c-b504-536e-2653a79eb49a@comhem.se>
Message-ID: <5b66c7fe-ff31-a91b-3af6-d5394839a44a@gmail.com>

Hernán De Angelis kirjoitti 11.2.2019 klo 19.01:
> Dear all (but particularly users and developer of Perl module Geo::GDAL),
>
> I have resumed work in a project that has been in standstill for about 
> two years. The workflow involves some Perl scripts that read and 
> process properties of satellite images using the module Geo::GDAL. 
> These scripts worked fine last time they were run (Dec 2016) but that 
> was of course with different versions of everything. I am now getting 
> this error when executing one of these scripts:
>
> perl: symbol lookup error: ../../libgdal.so: undefined symbol: GTIFNewEx


This sounds like your Perl bindings and the main GDAL library are not in 
sync, and since it is missing something, then the Perl bindings are 
newer than the GDAL library. Maybe you updated GDAL and its Perl 
bindings but there is still an old libgdal.so in you system?

Ari


>
> I wonder if I maybe doing something wrong, or there is something else. 
> I see that GTIFNewEx was added to libgeotiff in Jun 2017 (*). Maybe 
> this change has not been dealt with in newer versions of Geo::GDAL?
>
> Using GDAL 2.4.0, libgeotiff 1.4.3, and Perl 5.28.0 in openSUSE 15.0
>
> Thanks!
>
> Hernán
>
> (*) https://svn.osgeo.org/metacrs/geotiff/trunk/libgeotiff/ChangeLog
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

From nyall.dawson at gmail.com  Mon Feb 11 16:24:50 2019
From: nyall.dawson at gmail.com (Nyall Dawson)
Date: Tue, 12 Feb 2019 10:24:50 +1000
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
Message-ID: <CAB28AsgTf_-hY-YDbBXdaDdx9yLtL1ib7xh1wybtovrTcEpArw@mail.gmail.com>

On Mon, 11 Feb 2019 at 23:33, Andrea Aime <andrea.aime at geo-solutions.it> wrote:

> I've tried to open a relatively small file, 20MB, 200k lines, works and displays fine, the
> in memory spatial index (from the docs, "By default, it will also build on the fly a in-memory spatial index during the first sequential read of a layer")
> seems to be effective.
>

Just on this topic -- Even in your opinion, what's the likely that the
OpenFileGDB driver will ever gain support for existing spatial
indices? Is this functionality missing due to lack of funds/demands,
or because of difficulties in the reverse engineering?

Nyall

From even.rouault at spatialys.com  Tue Feb 12 00:46:36 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 12 Feb 2019 09:46:36 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <CAB28AsgTf_-hY-YDbBXdaDdx9yLtL1ib7xh1wybtovrTcEpArw@mail.gmail.com>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <CAB28AsgTf_-hY-YDbBXdaDdx9yLtL1ib7xh1wybtovrTcEpArw@mail.gmail.com>
Message-ID: <11317328.1FBhnCeDW3@even-i700>

On mardi 12 février 2019 10:24:50 CET Nyall Dawson wrote:
> On Mon, 11 Feb 2019 at 23:33, Andrea Aime <andrea.aime at geo-solutions.it> 
wrote:
> > I've tried to open a relatively small file, 20MB, 200k lines, works and
> > displays fine, the in memory spatial index (from the docs, "By default,
> > it will also build on the fly a in-memory spatial index during the first
> > sequential read of a layer") seems to be effective.
> 
> Just on this topic -- Even in your opinion, what's the likely that the
> OpenFileGDB driver will ever gain support for existing spatial
> indices? Is this functionality missing due to lack of funds/demands,
> or because of difficulties in the reverse engineering?

There's clearly demand for it. I had been offered funding to complete the 
reverse engineerings, but I'm short of ideas and money doesn't always make 
people suddenly smarter :-)
That said, I've the feeling that's this is doable. A spatial index entry is 
just 8 bytes... Probably just a matter of a new brain looking at the issue and 
having the appropriate intuition.

My findings are in the "Partial specification of .spx files" section of
https://github.com/rouault/dump_gdbtable/wiki/FGDB-Spec

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From Tim.Harris at digitalglobe.com  Tue Feb 12 20:05:20 2019
From: Tim.Harris at digitalglobe.com (Harris, Tim)
Date: Wed, 13 Feb 2019 04:05:20 +0000
Subject: [gdal-dev] Potential VRT bug
Message-ID: <F498984B-6BCB-468E-A6EA-205BD5E5BF6F@digitalglobe.com>

I came across some strange behavior while panning around a VRT in QGIS. The VRT consists of several large overlapping TIFs where some TIFs have NODATA in areas where other TIFs have data. The behavior is hard to explain, but it looks like the data read from the files is corrupted. Panning around, zooming in and out, anything that triggers another read seems to change the way the data looks. It changes colors, gets skewed, etc. The TIFs themselves are fine on their own.

I have reduced it down to a small subset of the data which is available here (about 2 MB):
https://s3.amazonaws.com/pschmitt-test-public/data.tar.bz2

It consists of two TIFs:
1.tif - fully valid
2.tif - some valid data and some NODATA

I also included three VRTs which I created with these commands:
gdalbuildvrt -r near near.vrt 1.tif 2.tif
gdalbuildvrt -r bilinear bilinear.vrt 1.tif 2.tif
gdalbuildvrt -r bilinear bilinear-reversed.vrt 2.tif 1.tif

If I run this command repeatedly, the min/max of the 4 bands always come out the same:
gdal_translate -projwin 488135 4405500 488374 4405348 near.vrt /vsistdout/ | gdalinfo -mm /vsistdin/

Run this same command on bilinear.vrt, and the min/max change each time. So that's weird.

Run the command on bilinear-reversed.vrt and the min/max are stable just like nearest neighbor resampling. So it seems like it depends on the stacking order of the data, and whatever is going on here doesn't happen with the default resampling. I also tried cubic and it seemed to happen there as well.

I've seen this behavior with GDAL 2.4.0 and also with the current master, commit dc117d571250d7e2442cb003f3dc541114f52766.

This electronic communication and any attachments may contain confidential and proprietary information of DigitalGlobe, Inc. If you are not the intended recipient, or an agent or employee responsible for delivering this communication to the intended recipient, or if you have received this communication in error, please do not print, copy, retransmit, disseminate or otherwise use the information. Please indicate to the sender that you have received this communication in error, and delete the copy you received.

DigitalGlobe reserves the right to monitor any electronic communication sent or received by its employees, agents or representatives.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/0dfc26e6/attachment.html>

From sankin619 at gmail.com  Tue Feb 12 22:22:08 2019
From: sankin619 at gmail.com (san619)
Date: Tue, 12 Feb 2019 23:22:08 -0700 (MST)
Subject: [gdal-dev] Exporting spatial data to oracle with oci driver.
Message-ID: <1550038928546-0.post@n6.nabble.com>

How can i export a shape file to oracle using oci driver.
I used the command

ogr2ogr -f OCI OCI:user/password at ip/servicename "C:\Downloads\sample.shp"
-a_srs "EPSG:4326"

it got uploaded correctly but the source datum was not defined.

So i tried another command 

ogr2ogr -f OCI OCI:user/password at ip/servicename "C:\Downloads\sample.shp"
-lco SRID=4326

even by this also the file was exported to oracle but the source layer was
not defined any coordinate system.

How can i export the shape file to oracle by defining the source layer
coordinate system.
Why im unable to define the coordinate the system during export.Please
correct me if im wrong. im new to gdal.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From f.b.antoci at gmail.com  Wed Feb 13 00:43:03 2019
From: f.b.antoci at gmail.com (Fabio Antoci)
Date: Wed, 13 Feb 2019 09:43:03 +0100
Subject: [gdal-dev] Fwd: confirm 5971d4fb4f1869225c7f9da931e794cb1904d217
In-Reply-To: <mailman.0.1550047286.344.gdal-dev@lists.osgeo.org>
References: <mailman.0.1550047286.344.gdal-dev@lists.osgeo.org>
Message-ID: <CAKMrR96HmV8t11HAsHeAW+dNpgc9DVoSEaaELwjoULi0eUkBhQ@mail.gmail.com>

---------- Forwarded message ---------
From: <gdal-dev-request at lists.osgeo.org>
Date: mer 13 feb 2019 alle ore 09:41
Subject: confirm 5971d4fb4f1869225c7f9da931e794cb1904d217
To: <f.b.antoci at gmail.com>


Mailing list removal confirmation notice for mailing list gdal-dev

We have received a request from 185.137.206.33 for the removal of your
email address, "f.b.antoci at gmail.com" from the
gdal-dev at lists.osgeo.org mailing list.  To confirm that you want to be
removed from this mailing list, simply reply to this message, keeping
the Subject: header intact.  Or visit this web page:


https://lists.osgeo.org/mailman/confirm/gdal-dev/5971d4fb4f1869225c7f9da931e794cb1904d217


Or include the following line -- and only the following line -- in a
message to gdal-dev-request at lists.osgeo.org:

    confirm 5971d4fb4f1869225c7f9da931e794cb1904d217

Note that simply sending a `reply' to this message should work from
most mail readers, since that usually leaves the Subject: line in the
right form (additional "Re:" text in the Subject: is okay).

If you do not wish to be removed from this list, please simply
disregard this message.  If you think you are being maliciously
removed from the list, or have any other questions, send them to
gdal-dev-owner at lists.osgeo.org.


-- 
Fabio Antoci
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/8d683c29/attachment.html>

From Ian.Horn at ky.gov  Wed Feb 13 06:13:57 2019
From: Ian.Horn at ky.gov (Horn, Ian I (COT))
Date: Wed, 13 Feb 2019 14:13:57 +0000
Subject: [gdal-dev] MSSQL Driver on Mac
Message-ID: <93AC6EC0-F3C4-4E24-B204-06735A0C57A3@ky.gov>

I am trying to access a SQL Server on QGIS, but I get the “error opening connection:  Driver not loaded Driver not loaded”.  QGIS installs GDAL 2.3.2.  On my PC I know how to get to the root folders and check to see if the driver is there but not on my Mac.  If I use my terminal I get the following:

Unable to open datasource `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
' with the following drivers.

How do I install or make this driver work on my Mac for both command line  and use in QGIS?

Thanks,

Ian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/955cc733/attachment-0001.html>

From peter.petrik at lutraconsulting.co.uk  Wed Feb 13 06:26:06 2019
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Wed, 13 Feb 2019 15:26:06 +0100
Subject: [gdal-dev] MSSQL Driver on Mac
In-Reply-To: <93AC6EC0-F3C4-4E24-B204-06735A0C57A3@ky.gov>
References: <93AC6EC0-F3C4-4E24-B204-06735A0C57A3@ky.gov>
Message-ID: <CA+T_MsJpeSiwaDwCtm3zqRnMt_8ftRO_KJ4urje0kgA0uw5nYw@mail.gmail.com>

Hi, which installation do you use?

Cheers,
Peter

On Wed, Feb 13, 2019 at 3:14 PM Horn, Ian I (COT) <Ian.Horn at ky.gov> wrote:

> I am trying to access a SQL Server on QGIS, but I get the “error opening
> connection:  Driver not loaded Driver not loaded”.  QGIS installs GDAL
> 2.3.2.  On my PC I know how to get to the root folders and check to see if
> the driver is there but not on my Mac.  If I use my terminal I get the
> following:
>
> Unable to open datasource
> `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
> ' with the following drivers.
>
> How do I install or make this driver work on my Mac for both command line
>  and use in QGIS?
>
> Thanks,
>
> Ian
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/a0a61fdb/attachment.html>

From ao at t-kartor.se  Wed Feb 13 06:27:54 2019
From: ao at t-kartor.se (Andreas Oxenstierna)
Date: Wed, 13 Feb 2019 15:27:54 +0100
Subject: [gdal-dev] MSSQL Driver on Mac
In-Reply-To: <93AC6EC0-F3C4-4E24-B204-06735A0C57A3@ky.gov>
References: <93AC6EC0-F3C4-4E24-B204-06735A0C57A3@ky.gov>
Message-ID: <0a58531e-caab-7ce7-f0de-d1fd58917530@t-kartor.se>

What is ogrinfo reporting?
ogrinfo --formats | grep MS

For me (macOS 10.14.2 GDAL 2.3.2) it reports:
MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database

> I am trying to access a SQL Server on QGIS, but I get the “error 
> opening connection:  Driver not loaded Driver not loaded”.  QGIS 
> installs GDAL 2.3.2.  On my PC I know how to get to the root folders 
> and check to see if the driver is there but not on my Mac.  If I use 
> my terminal I get the following:
>
> Unable to open datasource 
> `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
> ' with the following drivers.
>
> How do I install or make this driver work on my Mac for both command 
> line  and use in QGIS?
>
> Thanks,
>
> Ian
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Hälsningar

Andreas Oxenstierna
T-Kartor Geospatial AB
Olof Mohlins väg 12 Kristianstad
mobile: +46 733 206831
mailto: ao at t-kartor.se
http://www.t-kartor.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/0fbf5c3a/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Wed Feb 13 12:06:39 2019
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Wed, 13 Feb 2019 20:06:39 +0000
Subject: [gdal-dev] Genaral option for saving fids as attributes
Message-ID: <a9d9307f63144351a80c6f6a47b8bc52@C119S212VM042.msvyvi.vaha.local>

Hi,

Every now and then people would like to keep the fids of original data as attributes like in this question https://gis.stackexchange.com/questions/312088/os-translator-plugin-replaces-the-unique-feature-references-toids-with-ogc-fid. Well, perhaps in this case the user wants to use the Master map TOIDs as fids/primary keys in PostGIS but that might not be a practical idea because I guess that TOIDs are strings.

So far I have usually advised users to use SQLite dialect and pick the FID field into a new attribute with for example "SELECT fid AS fid_attribute..." but now I wonder if it would be reasonable or not to have a general option "EXPOSE_FID" config option like we have a GML specific option "GML_EXPOSE_FID". Any opinions? I do know that it is dangerous to make an editable copy of fids if the original fids are also used as feature ids in the converted data but let's assume that those who would use that option understand what they are doing.

-Jukka Rahkonen-
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/713922ef/attachment.html>

From Ian.Horn at ky.gov  Wed Feb 13 12:39:40 2019
From: Ian.Horn at ky.gov (Horn, Ian I (COT))
Date: Wed, 13 Feb 2019 20:39:40 +0000
Subject: [gdal-dev] MSSQL Driver on Mac (Andreas Oxenstierna)
In-Reply-To: <mailman.9.1550088002.13691.gdal-dev@lists.osgeo.org>
References: <mailman.9.1550088002.13691.gdal-dev@lists.osgeo.org>
Message-ID: <B8D450EF-CD0C-48C0-BF52-33EFDC6E9368@ky.gov>

Andreas, here’s what I get when:


Ians-iMac:~ ianhorn$ ogrinfo --formats | grep MS
  MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database
  XLS -vector- (ro): MS Excel format
  XLSX -vector- (rw+v): MS Office Open XML spreadsheet






On Feb 13, 2019, at 3:00 PM, gdal-dev-request at lists.osgeo.org<mailto:gdal-dev-request at lists.osgeo.org> wrote:

Send gdal-dev mailing list submissions to
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>

To subscribe or unsubscribe via the World Wide Web, visit
https://lists.osgeo.org/mailman/listinfo/gdal-dev
or, via email, send a message with subject or body 'help' to
gdal-dev-request at lists.osgeo.org

You can reach the person managing the list at
gdal-dev-owner at lists.osgeo.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of gdal-dev digest..."


Today's Topics:

  1. Re: MSSQL Driver on Mac (Peter Petrik)
  2. Re: MSSQL Driver on Mac (Andreas Oxenstierna)


----------------------------------------------------------------------

Message: 1
Date: Wed, 13 Feb 2019 15:26:06 +0100
From: Peter Petrik <peter.petrik at lutraconsulting.co.uk>
To: "Horn, Ian I (COT)" <Ian.Horn at ky.gov>
Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] MSSQL Driver on Mac
Message-ID:
<CA+T_MsJpeSiwaDwCtm3zqRnMt_8ftRO_KJ4urje0kgA0uw5nYw at mail.gmail.com>
Content-Type: text/plain; charset="utf-8"

Hi, which installation do you use?

Cheers,
Peter

On Wed, Feb 13, 2019 at 3:14 PM Horn, Ian I (COT) <Ian.Horn at ky.gov> wrote:

I am trying to access a SQL Server on QGIS, but I get the “error opening
connection:  Driver not loaded Driver not loaded”.  QGIS installs GDAL
2.3.2.  On my PC I know how to get to the root folders and check to see if
the driver is there but not on my Mac.  If I use my terminal I get the
following:

Unable to open datasource
`mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
' with the following drivers.

How do I install or make this driver work on my Mac for both command line
and use in QGIS?

Thanks,

Ian
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/a0a61fdb/attachment-0001.html>

------------------------------

Message: 2
Date: Wed, 13 Feb 2019 15:27:54 +0100
From: Andreas Oxenstierna <ao at t-kartor.se>
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] MSSQL Driver on Mac
Message-ID: <0a58531e-caab-7ce7-f0de-d1fd58917530 at t-kartor.se>
Content-Type: text/plain; charset="utf-8"; Format="flowed"

What is ogrinfo reporting?
ogrinfo --formats | grep MS

For me (macOS 10.14.2 GDAL 2.3.2) it reports:
MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database

I am trying to access a SQL Server on QGIS, but I get the “error
opening connection:  Driver not loaded Driver not loaded”.  QGIS
installs GDAL 2.3.2.  On my PC I know how to get to the root folders
and check to see if the driver is there but not on my Mac.  If I use
my terminal I get the following:

Unable to open datasource
`mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
' with the following drivers.

How do I install or make this driver work on my Mac for both command
line  and use in QGIS?

Thanks,

Ian

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev


--
Hälsningar

Andreas Oxenstierna
T-Kartor Geospatial AB
Olof Mohlins väg 12 Kristianstad
mobile: +46 733 206831
mailto: ao at t-kartor.se
http://www.t-kartor.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/0fbf5c3a/attachment-0001.html>

------------------------------

Subject: Digest Footer

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

------------------------------

End of gdal-dev Digest, Vol 177, Issue 19
*****************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/73a4cab4/attachment.html>

From woklist at kyngchaos.com  Wed Feb 13 16:52:20 2019
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed, 13 Feb 2019 18:52:20 -0600
Subject: [gdal-dev] MSSQL Driver on Mac (Andreas Oxenstierna)
In-Reply-To: <B8D450EF-CD0C-48C0-BF52-33EFDC6E9368@ky.gov>
References: <mailman.9.1550088002.13691.gdal-dev@lists.osgeo.org>
 <B8D450EF-CD0C-48C0-BF52-33EFDC6E9368@ky.gov>
Message-ID: <65732605-321A-4204-A1D0-BA12703E7BE9@kyngchaos.com>

This is a tricky driver.  It uses ODBC (iODBC on macOS).  You need an ODBC driver for the MSSQL database for the Mac's iODBC.  GDAL doesn't know about installed ODBC drivers until you try to use them, so ogrinfo --formats will say MSSQL is supported.

I don't know if any ODBC drivers are available on macOS for MSSQL.

> On Feb 13, 2019, at 2:39 PM, Horn, Ian I (COT) <Ian.Horn at ky.gov> wrote:
> 
> Andreas, here’s what I get when:
> 
> 
> Ians-iMac:~ ianhorn$ ogrinfo --formats | grep MS
>   MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database
>   XLS -vector- (ro): MS Excel format
>   XLSX -vector- (rw+v): MS Office Open XML spreadsheet
> 
> 
> 
> 
>> 
> 
>> On Feb 13, 2019, at 3:00 PM, gdal-dev-request at lists.osgeo.org <mailto:gdal-dev-request at lists.osgeo.org> wrote:
>> 
>> Send gdal-dev mailing list submissions to
>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>> 
>> To subscribe or unsubscribe via the World Wide Web, visit
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>> or, via email, send a message with subject or body 'help' to
>> gdal-dev-request at lists.osgeo.org
>> 
>> You can reach the person managing the list at
>> gdal-dev-owner at lists.osgeo.org
>> 
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of gdal-dev digest..."
>> 
>> 
>> Today's Topics:
>> 
>>   1. Re: MSSQL Driver on Mac (Peter Petrik)
>>   2. Re: MSSQL Driver on Mac (Andreas Oxenstierna)
>> 
>> 
>> ----------------------------------------------------------------------
>> 
>> Message: 1
>> Date: Wed, 13 Feb 2019 15:26:06 +0100
>> From: Peter Petrik <peter.petrik at lutraconsulting.co.uk>
>> To: "Horn, Ian I (COT)" <Ian.Horn at ky.gov>
>> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>> Subject: Re: [gdal-dev] MSSQL Driver on Mac
>> Message-ID:
>> <CA+T_MsJpeSiwaDwCtm3zqRnMt_8ftRO_KJ4urje0kgA0uw5nYw at mail.gmail.com>
>> Content-Type: text/plain; charset="utf-8"
>> 
>> Hi, which installation do you use?
>> 
>> Cheers,
>> Peter
>> 
>> On Wed, Feb 13, 2019 at 3:14 PM Horn, Ian I (COT) <Ian.Horn at ky.gov> wrote:
>> 
>>> I am trying to access a SQL Server on QGIS, but I get the “error opening
>>> connection:  Driver not loaded Driver not loaded”.  QGIS installs GDAL
>>> 2.3.2.  On my PC I know how to get to the root folders and check to see if
>>> the driver is there but not on my Mac.  If I use my terminal I get the
>>> following:
>>> 
>>> Unable to open datasource
>>> `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
>>> ' with the following drivers.
>>> 
>>> How do I install or make this driver work on my Mac for both command line
>>> and use in QGIS?
>>> 
>>> Thanks,
>>> 
>>> Ian
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/a0a61fdb/attachment-0001.html>
>> 
>> ------------------------------
>> 
>> Message: 2
>> Date: Wed, 13 Feb 2019 15:27:54 +0100
>> From: Andreas Oxenstierna <ao at t-kartor.se>
>> To: gdal-dev at lists.osgeo.org
>> Subject: Re: [gdal-dev] MSSQL Driver on Mac
>> Message-ID: <0a58531e-caab-7ce7-f0de-d1fd58917530 at t-kartor.se>
>> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>> 
>> What is ogrinfo reporting?
>> ogrinfo --formats | grep MS
>> 
>> For me (macOS 10.14.2 GDAL 2.3.2) it reports:
>> MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database
>> 
>>> I am trying to access a SQL Server on QGIS, but I get the “error 
>>> opening connection:  Driver not loaded Driver not loaded”.  QGIS 
>>> installs GDAL 2.3.2.  On my PC I know how to get to the root folders 
>>> and check to see if the driver is there but not on my Mac.  If I use 
>>> my terminal I get the following:
>>> 
>>> Unable to open datasource 
>>> `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
>>> ' with the following drivers.
>>> 
>>> How do I install or make this driver work on my Mac for both command 
>>> line  and use in QGIS?
>>> 
>>> Thanks,
>>> 
>>> Ian
>>> 
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> 
>> -- 
>> Hälsningar
>> 
>> Andreas Oxenstierna
>> T-Kartor Geospatial AB
>> Olof Mohlins väg 12 Kristianstad
>> mobile: +46 733 206831
>> mailto: ao at t-kartor.se
>> http://www.t-kartor.com
>> 
>> -------------- next part --------------
>> An HTML attachment was scrubbed...
>> URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/0fbf5c3a/attachment-0001.html>
>> 
>> ------------------------------
>> 
>> Subject: Digest Footer
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> ------------------------------
>> 
>> End of gdal-dev Digest, Vol 177, Issue 19
>> *****************************************
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

The equator is so long, it could encircle the earth completely once.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/3ead0d51/attachment-0001.html>

From ao at t-kartor.se  Wed Feb 13 22:56:41 2019
From: ao at t-kartor.se (Andreas Oxenstierna)
Date: Thu, 14 Feb 2019 07:56:41 +0100
Subject: [gdal-dev] MSSQL Driver on Mac (Andreas Oxenstierna)
In-Reply-To: <65732605-321A-4204-A1D0-BA12703E7BE9@kyngchaos.com>
References: <mailman.9.1550088002.13691.gdal-dev@lists.osgeo.org>
 <B8D450EF-CD0C-48C0-BF52-33EFDC6E9368@ky.gov>
 <65732605-321A-4204-A1D0-BA12703E7BE9@kyngchaos.com>
Message-ID: <ee5d3c6d-7397-a8a6-1dc6-29342db67839@t-kartor.se>

We (so I do not remember the details) managed to get it working circa 5 
years ago using unixODBC.
Since then, Microsoft have released an official ODBC driver for macOS, 
https://www.microsoft.com/en-us/download/details.aspx?id=56567

> This is a tricky driver.  It uses ODBC (iODBC on macOS).  You need an 
> ODBC driver for the MSSQL database for the Mac's iODBC.  GDAL doesn't 
> know about installed ODBC drivers until you try to use them, so 
> ogrinfo --formats will say MSSQL is supported.
>
> I don't know if any ODBC drivers are available on macOS for MSSQL.
>
>> On Feb 13, 2019, at 2:39 PM, Horn, Ian I (COT) <Ian.Horn at ky.gov 
>> <mailto:Ian.Horn at ky.gov>> wrote:
>>
>> Andreas, here’s what I get when:
>>
>>
>> Ians-iMac:~ ianhorn$ ogrinfo --formats | grep MS
>>   MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database
>>   XLS -vector- (ro): MS Excel format
>>   XLSX -vector- (rw+v): MS Office Open XML spreadsheet
>>
>>
>>
>>
>>>
>>
>>> On Feb 13, 2019, at 3:00 PM, gdal-dev-request at lists.osgeo.org 
>>> <mailto:gdal-dev-request at lists.osgeo.org> wrote:
>>>
>>> Send gdal-dev mailing list submissions to
>>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>>
>>> To subscribe or unsubscribe via the World Wide Web, visit
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> or, via email, send a message with subject or body 'help' to
>>> gdal-dev-request at lists.osgeo.org
>>>
>>> You can reach the person managing the list at
>>> gdal-dev-owner at lists.osgeo.org
>>>
>>> When replying, please edit your Subject line so it is more specific
>>> than "Re: Contents of gdal-dev digest..."
>>>
>>>
>>> Today's Topics:
>>>
>>>   1. Re: MSSQL Driver on Mac (Peter Petrik)
>>>   2. Re: MSSQL Driver on Mac (Andreas Oxenstierna)
>>>
>>>
>>> ----------------------------------------------------------------------
>>>
>>> Message: 1
>>> Date: Wed, 13 Feb 2019 15:26:06 +0100
>>> From: Peter Petrik <peter.petrik at lutraconsulting.co.uk>
>>> To: "Horn, Ian I (COT)" <Ian.Horn at ky.gov>
>>> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>>> Subject: Re: [gdal-dev] MSSQL Driver on Mac
>>> Message-ID:
>>> <CA+T_MsJpeSiwaDwCtm3zqRnMt_8ftRO_KJ4urje0kgA0uw5nYw at mail.gmail.com>
>>> Content-Type: text/plain; charset="utf-8"
>>>
>>> Hi, which installation do you use?
>>>
>>> Cheers,
>>> Peter
>>>
>>> On Wed, Feb 13, 2019 at 3:14 PM Horn, Ian I (COT) <Ian.Horn at ky.gov> 
>>> wrote:
>>>
>>>> I am trying to access a SQL Server on QGIS, but I get the “error 
>>>> opening
>>>> connection:  Driver not loaded Driver not loaded”.  QGIS installs GDAL
>>>> 2.3.2.  On my PC I know how to get to the root folders and check to 
>>>> see if
>>>> the driver is there but not on my Mac.  If I use my terminal I get the
>>>> following:
>>>>
>>>> Unable to open datasource
>>>> `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
>>>> ' with the following drivers.
>>>>
>>>> How do I install or make this driver work on my Mac for both 
>>>> command line
>>>> and use in QGIS?
>>>>
>>>> Thanks,
>>>>
>>>> Ian
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev at lists.osgeo.org
>>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> -------------- next part --------------
>>> An HTML attachment was scrubbed...
>>> URL: 
>>> <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/a0a61fdb/attachment-0001.html>
>>>
>>> ------------------------------
>>>
>>> Message: 2
>>> Date: Wed, 13 Feb 2019 15:27:54 +0100
>>> From: Andreas Oxenstierna <ao at t-kartor.se>
>>> To: gdal-dev at lists.osgeo.org
>>> Subject: Re: [gdal-dev] MSSQL Driver on Mac
>>> Message-ID: <0a58531e-caab-7ce7-f0de-d1fd58917530 at t-kartor.se>
>>> Content-Type: text/plain; charset="utf-8"; Format="flowed"
>>>
>>> What is ogrinfo reporting?
>>> ogrinfo --formats | grep MS
>>>
>>> For me (macOS 10.14.2 GDAL 2.3.2) it reports:
>>> MSSQLSpatial -vector- (rw+): Microsoft SQL Server Spatial Database
>>>
>>>> I am trying to access a SQL Server on QGIS, but I get the “error
>>>> opening connection:  Driver not loaded Driver not loaded”.  QGIS
>>>> installs GDAL 2.3.2.  On my PC I know how to get to the root folders
>>>> and check to see if the driver is there but not on my Mac.  If I use
>>>> my terminal I get the following:
>>>>
>>>> Unable to open datasource
>>>> `mssql:server=XXXXXXXXX;database=XXXX;tables=XXXXX.TrafficCameras;XXXXXX;
>>>> ' with the following drivers.
>>>>
>>>> How do I install or make this driver work on my Mac for both command
>>>> line  and use in QGIS?
>>>>
>>>> Thanks,
>>>>
>>>> Ian
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev at lists.osgeo.org
>>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>> -- 
>>> Hälsningar
>>>
>>> Andreas Oxenstierna
>>> T-Kartor Geospatial AB
>>> Olof Mohlins väg 12 Kristianstad
>>> mobile: +46 733 206831
>>> mailto: ao at t-kartor.se
>>> http://www.t-kartor.com
>>>
>>> -------------- next part --------------
>>> An HTML attachment was scrubbed...
>>> URL: 
>>> <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190213/0fbf5c3a/attachment-0001.html>
>>>
>>> ------------------------------
>>>
>>> Subject: Digest Footer
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>> ------------------------------
>>>
>>> End of gdal-dev Digest, Vol 177, Issue 19
>>> *****************************************
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> The equator is so long, it could encircle the earth completely once.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Hälsningar

Andreas Oxenstierna
T-Kartor Geospatial AB
Olof Mohlins väg 12 Kristianstad
mobile: +46 733 206831
mailto: ao at t-kartor.se
http://www.t-kartor.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190214/82db1ed3/attachment.html>

From alobolistas at gmail.com  Thu Feb 14 06:21:57 2019
From: alobolistas at gmail.com (Agustin Lobo)
Date: Thu, 14 Feb 2019 15:21:57 +0100
Subject: [gdal-dev] gdal_translate was compiled against GDAL 2.4,
 but the current library version is 2.2
Message-ID: <CAG4NRe+dK9KfPSa2WC6rZkGGt7qnmMyS68_7BVCfMZU5yGxEJQ@mail.gmail.com>

After upgrading to 2.4 on Debian testing (buster), I get

$ gdal_translate
ERROR 1: gdal_translate was compiled against GDAL 2.4, but the current
library version is 2.2

I've checked with synaptic and libgdal20 is 2.4
Any clue on what to do?
Thanks

From james.mcclain at gmail.com  Thu Feb 14 21:06:28 2019
From: james.mcclain at gmail.com (James McClain)
Date: Fri, 15 Feb 2019 00:06:28 -0500
Subject: [gdal-dev] GDALWarp Datasets
Message-ID: <CAD5SdwLoRskTd6oJWV43=jjXdG-2HhdyBGHgm4wnwgX6eMoR8A@mail.gmail.com>

Hello,

If I may, I would like to a few questions regarding how best to use the
GDALWarp function (
https://github.com/OSGeo/gdal/blob/master/gdal/apps/gdalwarp_lib.cpp#L748-L770)
and the datasets that it creates.

In particular, I am experimenting with using such datasets to read warped
extents on an on-demand basis and in a thread-safe way.

I have found that the VRT output format is lazy with respect to computation
and allocation which is great for my use case, but it appears not to be
thread safe with respect to reading from a single warped dataset from
multiple threads.

I have found that the MEM output format is safe with respect to concurrent
reads, but is eager in its allocation and computation.

I have found that the GTIFF output format is also safe with respect to
concurrent reads (but CPU utilization is low so it looks like there is
internal locking), and it is once again eager with respect to allocation
and computation.

What I would like to find is way to create a dataset that is both lazy and
safe with respect to concurrent reads.  Can anyone share any suggestions
with me?

(Note: the foregoing statements are based on experiments that I have done,
not based on looking at the code; if any of the above is incorrect I am
very happy to be corrected.)

On a more meta level, are datasets created by GDALWarp the right approach
(if I want to lazy get warped extents in a thread-safe manner) or should I
look elsewhere?

Thank you,
James McClain

-- 
"I prayed for freedom for twenty years, but received no answer until I
prayed with my legs."
     -- Frederick Douglass
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190215/fb3dd646/attachment.html>

From even.rouault at spatialys.com  Fri Feb 15 01:57:49 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 15 Feb 2019 10:57:49 +0100
Subject: [gdal-dev] GDALWarp Datasets
In-Reply-To: <CAD5SdwLoRskTd6oJWV43=jjXdG-2HhdyBGHgm4wnwgX6eMoR8A@mail.gmail.com>
References: <CAD5SdwLoRskTd6oJWV43=jjXdG-2HhdyBGHgm4wnwgX6eMoR8A@mail.gmail.com>
Message-ID: <4788387.tiEBrGjxRV@even-i700>

On vendredi 15 février 2019 00:06:28 CET James McClain wrote:
> Hello,
> 
> If I may, I would like to a few questions regarding how best to use the
> GDALWarp function (
> https://github.com/OSGeo/gdal/blob/master/gdal/apps/gdalwarp_lib.cpp#L748-L7
> 70) and the datasets that it creates.
> 
> In particular, I am experimenting with using such datasets to read warped
> extents on an on-demand basis and in a thread-safe way.
> 
> I have found that the VRT output format is lazy with respect to computation
> and allocation which is great for my use case, but it appears not to be
> thread safe with respect to reading from a single warped dataset from
> multiple threads.

No single GDALDataset object of any driver should be used simultaneously by 
multiple threads (this extends to any GDAL/OGR class instance). If this seems 
to work for GTiff, you're just lucky, but that might just fail as well.
If you need to access a dataset from several threads, each one should have its 
own GDALDataset object (so this won't work for the MEM driver)

> 
> On a more meta level, are datasets created by GDALWarp the right approach
> (if I want to lazy get warped extents in a thread-safe manner) or should I
> look elsewhere?

If you're not interested in the pixel values, using GDALSuggestedWarpOutput2() 
is a better fit.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From james.mcclain at gmail.com  Fri Feb 15 04:36:27 2019
From: james.mcclain at gmail.com (James McClain)
Date: Fri, 15 Feb 2019 07:36:27 -0500
Subject: [gdal-dev] GDALWarp Datasets
In-Reply-To: <4788387.tiEBrGjxRV@even-i700>
References: <CAD5SdwLoRskTd6oJWV43=jjXdG-2HhdyBGHgm4wnwgX6eMoR8A@mail.gmail.com>
 <4788387.tiEBrGjxRV@even-i700>
Message-ID: <CAD5Sdw+feUTCMCEovJijWGY7SW-bvh0Dcwem8jMCDJQmwOW78g@mail.gmail.com>

Hello,

Okay, all of that is well-taken.  Thank you for your response.

> If you're not interested in the pixel values, using
GDALSuggestedWarpOutput2()
is a better fit.

Yes, my question was worded a bit unclearly: I am essentially interested in
retrieving warped tiles so the pixels are of primary interest.

Thank you,
James McClain



On Fri, Feb 15, 2019 at 4:58 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> On vendredi 15 février 2019 00:06:28 CET James McClain wrote:
> > Hello,
> >
> > If I may, I would like to a few questions regarding how best to use the
> > GDALWarp function (
> >
> https://github.com/OSGeo/gdal/blob/master/gdal/apps/gdalwarp_lib.cpp#L748-L7
> > 70) and the datasets that it creates.
> >
> > In particular, I am experimenting with using such datasets to read warped
> > extents on an on-demand basis and in a thread-safe way.
> >
> > I have found that the VRT output format is lazy with respect to
> computation
> > and allocation which is great for my use case, but it appears not to be
> > thread safe with respect to reading from a single warped dataset from
> > multiple threads.
>
> No single GDALDataset object of any driver should be used simultaneously
> by
> multiple threads (this extends to any GDAL/OGR class instance). If this
> seems
> to work for GTiff, you're just lucky, but that might just fail as well.
> If you need to access a dataset from several threads, each one should have
> its
> own GDALDataset object (so this won't work for the MEM driver)
>
> >
> > On a more meta level, are datasets created by GDALWarp the right approach
> > (if I want to lazy get warped extents in a thread-safe manner) or should
> I
> > look elsewhere?
>
> If you're not interested in the pixel values, using
> GDALSuggestedWarpOutput2()
> is a better fit.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
"I prayed for freedom for twenty years, but received no answer until I
prayed with my legs."
     -- Frederick Douglass
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190215/dce0e03d/attachment.html>

From andrea.aime at geo-solutions.it  Mon Feb 18 03:51:30 2019
From: andrea.aime at geo-solutions.it (Andrea Aime)
Date: Mon, 18 Feb 2019 12:51:30 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <6742467.YJ8Um84JjU@even-i700>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <2594497.nbyspbOEvt@even-i700>
 <CA+nxMTu3MXLVe5gyHsXQY52LD3_DOsKipnZUKNM8+mW4AyxkvQ@mail.gmail.com>
 <6742467.YJ8Um84JjU@even-i700>
Message-ID: <CA+nxMTuZBxdpGoAvjyi+Kegi-ONPU=ni-k1pfNGFuUp5VC27gA@mail.gmail.com>

On Mon, Feb 11, 2019 at 6:36 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> OpenFileGDB is certainly one that would benefit the most from datasource
> pooling, but all others can also, like the ones ingesting the dataset in
> memory, or having to do an initial full scan to determine the feature
> schema
> (GeoJSON)
>

One more question... say I'm doing pooling and at one point I want to open
a DataSource
in write mode. Do I need to close the ones in read mode? If not, would it
best to drop the
pool once the write is done?

Cheers
Andrea

==

GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information. == Ing. Andrea Aime @geowolf Technical Lead
GeoSolutions S.A.S. Via di Montramito 3/A 55054 Massarosa (LU) phone: +39
0584 962313 fax: +39 0584 1660272 mob: +39 339 8844549
http://www.geo-solutions.it http://twitter.com/geosolutions_it
------------------------------------------------------- *Con riferimento
alla normativa sul trattamento dei dati personali (Reg. UE 2016/679 -
Regolamento generale sulla protezione dei dati “GDPR”), si precisa che ogni
circostanza inerente alla presente email (il suo contenuto, gli eventuali
allegati, etc.) è un dato la cui conoscenza è riservata al/i solo/i
destinatario/i indicati dallo scrivente. Se il messaggio Le è giunto per
errore, è tenuta/o a cancellarlo, ogni altra operazione è illecita. Le
sarei comunque grato se potesse darmene notizia. This email is intended
only for the person or entity to which it is addressed and may contain
information that is privileged, confidential or otherwise protected from
disclosure. We remind that - as provided by European Regulation 2016/679
“GDPR” - copying, dissemination or use of this e-mail or the information
herein by anyone other than the intended recipient is prohibited. If you
have received this email by mistake, please notify us immediately by
telephone or e-mail.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190218/e1f66568/attachment.html>

From even.rouault at spatialys.com  Mon Feb 18 05:42:47 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 18 Feb 2019 14:42:47 +0100
Subject: [gdal-dev] FileGBD vs OpenFileGBD, a few of questions
In-Reply-To: <CA+nxMTuZBxdpGoAvjyi+Kegi-ONPU=ni-k1pfNGFuUp5VC27gA@mail.gmail.com>
References: <CA+nxMTt9DUQSpsiWhuHXLsPHposqc6tL4ihezkw1S5GJbpqCQw@mail.gmail.com>
 <6742467.YJ8Um84JjU@even-i700>
 <CA+nxMTuZBxdpGoAvjyi+Kegi-ONPU=ni-k1pfNGFuUp5VC27gA@mail.gmail.com>
Message-ID: <2424554.ypE4raWkg6@even-i700>

On lundi 18 février 2019 12:51:30 CET Andrea Aime wrote:
> say I'm doing pooling and at one point I want to open
> a DataSource in write mode. Do I need to close the ones in read mode?

I'd recommend that. The open connections would probably miss some of the 
updates done otherwise.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From crm350 at nyu.edu  Tue Feb 19 15:13:16 2019
From: crm350 at nyu.edu (Christopher Mitchell)
Date: Tue, 19 Feb 2019 18:13:16 -0500
Subject: [gdal-dev] Nearblack Eating Image Border
Message-ID: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>

I've encountered an error in an image processing pipeline I've built
where nearblack is removing pixels at the border of images, even if
they don't fit the is-"black" criterion. Specifically, I'm using
nearblack to remove nearly-black areas touching the edges of lossy
image tiles that should be fully black. Those images are later
combined into VRT files and warped; where we have multiple tiles
overlapping an area, some of which are missing data, we therefore can
get complete coverage.

Unfortunately, for tiles that have no black areas, nearblack is still
eating the -nb argument's number of pixels at the edges, turning them
into black (0, 0, 0, 0, where we're using 4-channel images), even if
those pixels are nowhere near the color criterion to be recognized as
black. My understanding was that nearblack should only be proceeding
into the interior of the non-black area and then setting pixels to
black if those pixels are /actually/ nearly black.

Am I encountering a bug with nearblack? Do I misunderstand how the -nb
argument works? Happy to provide a MWE if any of the above is unclear,
and thanks in advance.

From sharmarajiimt at gmail.com  Wed Feb 20 01:00:55 2019
From: sharmarajiimt at gmail.com (rajeshwar sharma)
Date: Wed, 20 Feb 2019 14:30:55 +0530
Subject: [gdal-dev] GDAL integration in IOS(Objective-C || Swift)
Message-ID: <CAJfuHMEX0pG2_vuD0zMTZaEe=1h+BY0Y9LT_cFmEs0qq65Essg@mail.gmail.com>

Hello Team

I am working on app which will have GepPDF lat/long reading functionality
and showing current location on GeoPdf and user moving current location.

So wanted to know that GDAL library is available for IOS or not, as I have
searched a lot for it but didn't get any solution to successfully integrate
GDAl in IOS.

Kindly provide info for it ASAP.

Best Regards
*Rajeshwar Sharma*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/ac907c9b/attachment.html>

From peter.petrik at lutraconsulting.co.uk  Wed Feb 20 01:12:43 2019
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Wed, 20 Feb 2019 10:12:43 +0100
Subject: [gdal-dev] GDAL integration in IOS(Objective-C || Swift)
In-Reply-To: <CAJfuHMEX0pG2_vuD0zMTZaEe=1h+BY0Y9LT_cFmEs0qq65Essg@mail.gmail.com>
References: <CAJfuHMEX0pG2_vuD0zMTZaEe=1h+BY0Y9LT_cFmEs0qq65Essg@mail.gmail.com>
Message-ID: <CA+T_MsK4T2NyHfEWd520K+2D2xLzzkXaM7D2XSv3a+4z9ybBFA@mail.gmail.com>

Hi,

we have ported GDAL to ios when trying to build mobile app based on QGIS
core libraries some time ago: https://github.com/lutraconsulting/OSGeo4iOS
GDAL build should work but the whole project is kind-of in
prototype/proof-of-concept stage.

Kind regards,
Peter

On Wed, Feb 20, 2019 at 10:01 AM rajeshwar sharma <sharmarajiimt at gmail.com>
wrote:

> Hello Team
>
> I am working on app which will have GepPDF lat/long reading functionality
> and showing current location on GeoPdf and user moving current location.
>
> So wanted to know that GDAL library is available for IOS or not, as I have
> searched a lot for it but didn't get any solution to successfully integrate
> GDAl in IOS.
>
> Kindly provide info for it ASAP.
>
> Best Regards
> *Rajeshwar Sharma*
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/49501afe/attachment.html>

From sharmarajiimt at gmail.com  Wed Feb 20 02:15:39 2019
From: sharmarajiimt at gmail.com (rajeshwar sharma)
Date: Wed, 20 Feb 2019 15:45:39 +0530
Subject: [gdal-dev] GDAL integration in IOS(Objective-C || Swift)
In-Reply-To: <CA+T_MsK4T2NyHfEWd520K+2D2xLzzkXaM7D2XSv3a+4z9ybBFA@mail.gmail.com>
References: <CAJfuHMEX0pG2_vuD0zMTZaEe=1h+BY0Y9LT_cFmEs0qq65Essg@mail.gmail.com>
 <CA+T_MsK4T2NyHfEWd520K+2D2xLzzkXaM7D2XSv3a+4z9ybBFA@mail.gmail.com>
Message-ID: <CAJfuHMEiWfUbLzUDAvTmT7PDRKrH=_BzLp7fjtaSiV+bLWEW3A@mail.gmail.com>

Hi Peter

Thanks for your quick reply.

I have checked the *OSGeo4iOS *suggested by you but I didn't get any help
there by which it can be worked on GeoPDF(geospatial pdf) maps in IOS.

Have you understood what exactly I want to do with GeoPdf maps in IOS? I
just want to achieve some of the features *AVENZA* (
https://itunes.apple.com/us/app/avenza-maps/id388424049?mt=8) app has.
Reading of GeoPDf maps and getting lat/long from it and some other feature.

Best Regards
*Rajeshwar Sharma*


On Wed, Feb 20, 2019 at 2:42 PM Peter Petrik <
peter.petrik at lutraconsulting.co.uk> wrote:

> Hi,
>
> we have ported GDAL to ios when trying to build mobile app based on QGIS
> core libraries some time ago: https://github.com/lutraconsulting/OSGeo4iOS
> GDAL build should work but the whole project is kind-of in
> prototype/proof-of-concept stage.
>
> Kind regards,
> Peter
>
> On Wed, Feb 20, 2019 at 10:01 AM rajeshwar sharma <sharmarajiimt at gmail.com>
> wrote:
>
>> Hello Team
>>
>> I am working on app which will have GepPDF lat/long reading functionality
>> and showing current location on GeoPdf and user moving current location.
>>
>> So wanted to know that GDAL library is available for IOS or not, as I
>> have searched a lot for it but didn't get any solution to successfully
>> integrate GDAl in IOS.
>>
>> Kindly provide info for it ASAP.
>>
>> Best Regards
>> *Rajeshwar Sharma*
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/c9f46067/attachment.html>

From ashnair0007 at gmail.com  Wed Feb 20 02:22:38 2019
From: ashnair0007 at gmail.com (Ashwin Nair)
Date: Wed, 20 Feb 2019 14:22:38 +0400
Subject: [gdal-dev] Convert jpg to geotiff
Message-ID: <CACR_qQ8J-EOvgzLchmuGSOS9QT4nSRZJHUcS+uuRvYJ_t96EAw@mail.gmail.com>

Hi,

I was able to convert my geotiff images (from the Spacenet dataset) to jpgs
using gdal_translate but I would like to know how to convert the jpgs back
to geotiff. I tried using gdla_translate as is, via gdal_translate -of GTiff
in.jpg out.tif but wasn't able to get back the original geotiff image as
there was a difference in the coordinate system. I'm new to working with
satellite images so I'm not entirely sure about the process.

Best Regards
Ashwin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/7d6d587d/attachment.html>

From daniele.romagnoli at geo-solutions.it  Wed Feb 20 02:33:02 2019
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Wed, 20 Feb 2019 11:33:02 +0100
Subject: [gdal-dev] Convert jpg to geotiff
In-Reply-To: <CACR_qQ8J-EOvgzLchmuGSOS9QT4nSRZJHUcS+uuRvYJ_t96EAw@mail.gmail.com>
References: <CACR_qQ8J-EOvgzLchmuGSOS9QT4nSRZJHUcS+uuRvYJ_t96EAw@mail.gmail.com>
Message-ID: <CAJaHrDz0EUe2VspLRB9gFq=+_XnkRbWeq1LRTdrDRmsqZx7YXQ@mail.gmail.com>

Hi Ashwin,
which GDAL version are you using?
JPEG format doesn't support geospatial information (it's a pure image) so
when you convert GeoTIFF to JPEG,
GDAL takes care of writing geospatial info into an external auxiliary file:
yourfile.jpg.aux.xml.

So, when converting back JPEG to GeoTIFF, make sure that
yourfile.jpg.aux.xml is still around so that GDAL can use it to write back
that info when producing the GeoTIFF.
alternatively, you may force spatial extent and coordinate reference system
using -a_ullr and -a_srs parameters on your gdal_translate command.

Cheers,
Daniele

On Wed, Feb 20, 2019 at 11:22 AM Ashwin Nair <ashnair0007 at gmail.com> wrote:

> Hi,
>
> I was able to convert my geotiff images (from the Spacenet dataset) to
> jpgs using gdal_translate but I would like to know how to convert the jpgs
> back to geotiff. I tried using gdla_translate as is, via gdal_translate -of
> GTiff in.jpg out.tif but wasn't able to get back the original geotiff
> image as there was a difference in the coordinate system. I'm new to
> working with satellite images so I'm not entirely sure about the process.
>
> Best Regards
> Ashwin
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Regards,
Daniele Romagnoli
==
GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information.
==

Ing. Daniele Romagnoli
Senior Software Engineer

GeoSolutions S.A.S.
Via di Montramito 3/A
55054  Massarosa (LU)
Italy
phone: +39 0584 962313
fax:      +39 0584 1660272

http://www.geo-solutions.it
http://twitter.com/geosolutions_it

-------------------------------------------------------

Con riferimento alla normativa sul trattamento dei dati personali (Reg. UE
2016/679 - Regolamento generale sulla protezione dei dati “GDPR”), si
precisa che ogni circostanza inerente alla presente email (il suo
contenuto, gli eventuali allegati, etc.) è un dato la cui conoscenza è
riservata al/i solo/i destinatario/i indicati dallo scrivente. Se il
messaggio Le è giunto per errore, è tenuta/o a cancellarlo, ogni altra
operazione è illecita. Le sarei comunque grato se potesse darmene notizia.

This email is intended only for the person or entity to which it is
addressed and may contain information that is privileged, confidential or
otherwise protected from disclosure. We remind that - as provided by
European Regulation 2016/679 “GDPR” - copying, dissemination or use of this
e-mail or the information herein by anyone other than the intended
recipient is prohibited. If you have received this email by mistake, please
notify us immediately by telephone or e-mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/944ff78a/attachment-0001.html>

From even.rouault at spatialys.com  Wed Feb 20 05:03:32 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 20 Feb 2019 14:03:32 +0100
Subject: [gdal-dev] Nearblack Eating Image Border
In-Reply-To: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
References: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
Message-ID: <1815096.P53NzgdHtZ@even-i700>

On mardi 19 février 2019 18:13:16 CET Christopher Mitchell wrote:
> I've encountered an error in an image processing pipeline I've built
> where nearblack is removing pixels at the border of images, even if
> they don't fit the is-"black" criterion. Specifically, I'm using
> nearblack to remove nearly-black areas touching the edges of lossy
> image tiles that should be fully black. Those images are later
> combined into VRT files and warped; where we have multiple tiles
> overlapping an area, some of which are missing data, we therefore can
> get complete coverage.
> 
> Unfortunately, for tiles that have no black areas, nearblack is still
> eating the -nb argument's number of pixels at the edges, turning them
> into black (0, 0, 0, 0, where we're using 4-channel images), even if
> those pixels are nowhere near the color criterion to be recognized as
> black. My understanding was that nearblack should only be proceeding
> into the interior of the non-black area and then setting pixels to
> black if those pixels are /actually/ nearly black.
> 
> Am I encountering a bug with nearblack? Do I misunderstand how the -nb
> argument works? Happy to provide a MWE if any of the above is unclear,
> and thanks in advance.

Yes, what you observe is logical regarding how the algorithm is coded, 
although I can understand this may not be the desired effect. Currently, 
nearblack will always "eat" -nb pixels from all sides, whereas it should 
probably only do so if transitionning from an area where the nearblack 
criterion was satisfied to an area where it is no longer satisfied.

You may file a ticket about that to https://github.com/OSGeo/gdal/issues

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From daniele.romagnoli at geo-solutions.it  Wed Feb 20 05:07:18 2019
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Wed, 20 Feb 2019 14:07:18 +0100
Subject: [gdal-dev] Convert jpg to geotiff
In-Reply-To: <CACR_qQ9_B1x2Jc_s2JtYw8mtEKkzJpaNW=aFyxBov6hwhsFpRw@mail.gmail.com>
References: <CACR_qQ8J-EOvgzLchmuGSOS9QT4nSRZJHUcS+uuRvYJ_t96EAw@mail.gmail.com>
 <CAJaHrDzbv5L6SP7HmF8aF7od5F4cygBSEqjgnCnAHB+4wz1k=A@mail.gmail.com>
 <CACR_qQ9_B1x2Jc_s2JtYw8mtEKkzJpaNW=aFyxBov6hwhsFpRw@mail.gmail.com>
Message-ID: <CAJaHrDxkDRNx0StV=PYDG6-zL81-fmg2oM1m71C+Zc0TQP_bOg@mail.gmail.com>

Cool.
I'm keeping the list in the loop so anyone having similar issue in future
can see this feedback.

Cheers,
Daniele

On Wed, Feb 20, 2019 at 2:00 PM Ashwin Nair <ashnair0007 at gmail.com> wrote:

> Hi Daniele,
>
> That was exactly it. I had previously removed the accompanying jpg.aux.xml
> file which was why I wasn't able to convert the jpg properly to Geotiff.
>
> Thank you very much.
>
> Best Regards
> Ashwin
>
> On Wed, Feb 20, 2019 at 2:32 PM Daniele Romagnoli <
> daniele.romagnoli at geo-solutions.it> wrote:
>
>> Hi Ashwin,
>> which GDAL version are you using?
>> JPEG format doesn't support geospatial information (it's a pure image) so
>> when you convert GeoTIFF to JPEG,
>> GDAL takes care of writing geospatial info into an external auxiliary
>> file: yourfile.jpg.aux.xml.
>>
>> So, when converting back JPEG to GeoTIFF, make sure that
>> yourfile.jpg.aux.xml is still around so that GDAL can use it to write back
>> that info when producing the GeoTIFF.
>> alternatively, you may force spatial extent and coordinate reference
>> system using -a_ullr and -a_srs parameters on your gdal_translate command.
>>
>> Cheers,
>> Daniele
>>
>>
>>
>>
>> On Wed, Feb 20, 2019 at 11:22 AM Ashwin Nair <ashnair0007 at gmail.com>
>> wrote:
>>
>>> Hi,
>>>
>>> I was able to convert my geotiff images (from the Spacenet dataset) to
>>> jpgs using gdal_translate but I would like to know how to convert the jpgs
>>> back to geotiff. I tried using gdla_translate as is, via gdal_translate
>>> -of GTiff in.jpg out.tif but wasn't able to get back the original
>>> geotiff image as there was a difference in the coordinate system. I'm new
>>> to working with satellite images so I'm not entirely sure about the
>>> process.
>>>
>>> Best Regards
>>> Ashwin
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>> --
>> Regards,
>> Daniele Romagnoli
>> ==
>> GeoServer Professional Services from the experts! Visit
>> http://goo.gl/it488V for more information.
>> ==
>>
>> Ing. Daniele Romagnoli
>> Senior Software Engineer
>>
>> GeoSolutions S.A.S.
>> Via di Montramito 3/A
>> 55054  Massarosa (LU)
>> Italy
>> phone: +39 0584 962313
>> fax:      +39 0584 1660272
>>
>> http://www.geo-solutions.it
>> http://twitter.com/geosolutions_it
>>
>> -------------------------------------------------------
>>
>> Con riferimento alla normativa sul trattamento dei dati personali (Reg.
>> UE 2016/679 - Regolamento generale sulla protezione dei dati “GDPR”), si
>> precisa che ogni circostanza inerente alla presente email (il suo
>> contenuto, gli eventuali allegati, etc.) è un dato la cui conoscenza è
>> riservata al/i solo/i destinatario/i indicati dallo scrivente. Se il
>> messaggio Le è giunto per errore, è tenuta/o a cancellarlo, ogni altra
>> operazione è illecita. Le sarei comunque grato se potesse darmene notizia.
>>
>> This email is intended only for the person or entity to which it is
>> addressed and may contain information that is privileged, confidential or
>> otherwise protected from disclosure. We remind that - as provided by
>> European Regulation 2016/679 “GDPR” - copying, dissemination or use of this
>> e-mail or the information herein by anyone other than the intended
>> recipient is prohibited. If you have received this email by mistake, please
>> notify us immediately by telephone or e-mail.
>>
>

-- 
Regards,
Daniele Romagnoli
==
GeoServer Professional Services from the experts! Visit http://goo.gl/it488V
for more information.
==

Ing. Daniele Romagnoli
Senior Software Engineer

GeoSolutions S.A.S.
Via di Montramito 3/A
55054  Massarosa (LU)
Italy
phone: +39 0584 962313
fax:      +39 0584 1660272

http://www.geo-solutions.it
http://twitter.com/geosolutions_it

-------------------------------------------------------

Con riferimento alla normativa sul trattamento dei dati personali (Reg. UE
2016/679 - Regolamento generale sulla protezione dei dati “GDPR”), si
precisa che ogni circostanza inerente alla presente email (il suo
contenuto, gli eventuali allegati, etc.) è un dato la cui conoscenza è
riservata al/i solo/i destinatario/i indicati dallo scrivente. Se il
messaggio Le è giunto per errore, è tenuta/o a cancellarlo, ogni altra
operazione è illecita. Le sarei comunque grato se potesse darmene notizia.

This email is intended only for the person or entity to which it is
addressed and may contain information that is privileged, confidential or
otherwise protected from disclosure. We remind that - as provided by
European Regulation 2016/679 “GDPR” - copying, dissemination or use of this
e-mail or the information herein by anyone other than the intended
recipient is prohibited. If you have received this email by mistake, please
notify us immediately by telephone or e-mail.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/5d3112bc/attachment.html>

From dmorissette at mapgears.com  Wed Feb 20 05:07:25 2019
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed, 20 Feb 2019 08:07:25 -0500
Subject: [gdal-dev] Nearblack Eating Image Border
In-Reply-To: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
References: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
Message-ID: <6f261790-fc92-17a1-1962-c66fa70c90af@mapgears.com>

I noticed this behavior as well and I think it's a bug. I think it would 
make more sense to keep the last "-nb" pixels that are not nearblack 
instead of dropping them.  The effect is especially annoying when you 
have image tiles and you end up with a 1-2 pixels gap between them.

I didn't test what happens if we change the behavior. So maybe there is 
a reason why it was implemented this way?

Daniel

On 2019-02-19 6:13 p.m., Christopher Mitchell wrote:
> I've encountered an error in an image processing pipeline I've built
> where nearblack is removing pixels at the border of images, even if
> they don't fit the is-"black" criterion. Specifically, I'm using
> nearblack to remove nearly-black areas touching the edges of lossy
> image tiles that should be fully black. Those images are later
> combined into VRT files and warped; where we have multiple tiles
> overlapping an area, some of which are missing data, we therefore can
> get complete coverage.
> 
> Unfortunately, for tiles that have no black areas, nearblack is still
> eating the -nb argument's number of pixels at the edges, turning them
> into black (0, 0, 0, 0, where we're using 4-channel images), even if
> those pixels are nowhere near the color criterion to be recognized as
> black. My understanding was that nearblack should only be proceeding
> into the interior of the non-black area and then setting pixels to
> black if those pixels are /actually/ nearly black.
> 
> Am I encountering a bug with nearblack? Do I misunderstand how the -nb
> argument works? Happy to provide a MWE if any of the above is unclear,
> and thanks in advance.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Daniel Morissette
Mapgears Inc
T: +1 418-696-5056 #201

From me at komzpa.net  Wed Feb 20 05:23:19 2019
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Wed, 20 Feb 2019 16:23:19 +0300
Subject: [gdal-dev] Nearblack Eating Image Border
In-Reply-To: <6f261790-fc92-17a1-1962-c66fa70c90af@mapgears.com>
References: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
 <6f261790-fc92-17a1-1962-c66fa70c90af@mapgears.com>
Message-ID: <CAC8Q8tLJvesAvS4H2MzE+tV7zYLv5ahuoJboqYhMXapef=Dd1w@mail.gmail.com>

I believe this behavior is great for over-compressed imagery JPEGs where
you have corrupted border of several "black-poisoned" non-black pixels that
you'd better remove and take from some other image in the mosaic, since in
this scenario you usually have an overlap.

On Wed, Feb 20, 2019 at 4:16 PM Daniel Morissette <dmorissette at mapgears.com>
wrote:

> I noticed this behavior as well and I think it's a bug. I think it would
> make more sense to keep the last "-nb" pixels that are not nearblack
> instead of dropping them.  The effect is especially annoying when you
> have image tiles and you end up with a 1-2 pixels gap between them.
>
> I didn't test what happens if we change the behavior. So maybe there is
> a reason why it was implemented this way?
>
> Daniel
>
> On 2019-02-19 6:13 p.m., Christopher Mitchell wrote:
> > I've encountered an error in an image processing pipeline I've built
> > where nearblack is removing pixels at the border of images, even if
> > they don't fit the is-"black" criterion. Specifically, I'm using
> > nearblack to remove nearly-black areas touching the edges of lossy
> > image tiles that should be fully black. Those images are later
> > combined into VRT files and warped; where we have multiple tiles
> > overlapping an area, some of which are missing data, we therefore can
> > get complete coverage.
> >
> > Unfortunately, for tiles that have no black areas, nearblack is still
> > eating the -nb argument's number of pixels at the edges, turning them
> > into black (0, 0, 0, 0, where we're using 4-channel images), even if
> > those pixels are nowhere near the color criterion to be recognized as
> > black. My understanding was that nearblack should only be proceeding
> > into the interior of the non-black area and then setting pixels to
> > black if those pixels are /actually/ nearly black.
> >
> > Am I encountering a bug with nearblack? Do I misunderstand how the -nb
> > argument works? Happy to provide a MWE if any of the above is unclear,
> > and thanks in advance.
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
> --
> Daniel Morissette
> Mapgears Inc
> T: +1 418-696-5056 #201
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Darafei Praliaskouski
Support me: http://patreon.com/komzpa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/5bb167ce/attachment-0001.html>

From dmorissette at mapgears.com  Wed Feb 20 07:22:17 2019
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed, 20 Feb 2019 10:22:17 -0500
Subject: [gdal-dev] Nearblack Eating Image Border
In-Reply-To: <CAC8Q8tLJvesAvS4H2MzE+tV7zYLv5ahuoJboqYhMXapef=Dd1w@mail.gmail.com>
References: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
 <6f261790-fc92-17a1-1962-c66fa70c90af@mapgears.com>
 <CAC8Q8tLJvesAvS4H2MzE+tV7zYLv5ahuoJboqYhMXapef=Dd1w@mail.gmail.com>
Message-ID: <f1baf313-fe6d-041d-8625-efc774e51090@mapgears.com>

That's a great point.  So it's not a bug, it is a feature in some cases. :)

Maybe what we need is an option to switch between the two behaviors then.



On 2019-02-20 8:23 a.m., Darafei "Komяpa" Praliaskouski wrote:
> I believe this behavior is great for over-compressed imagery JPEGs where 
> you have corrupted border of several "black-poisoned" non-black pixels 
> that you'd better remove and take from some other image in the mosaic, 
> since in this scenario you usually have an overlap.
> 
> On Wed, Feb 20, 2019 at 4:16 PM Daniel Morissette 
> <dmorissette at mapgears.com <mailto:dmorissette at mapgears.com>> wrote:
> 
>     I noticed this behavior as well and I think it's a bug. I think it
>     would
>     make more sense to keep the last "-nb" pixels that are not nearblack
>     instead of dropping them.  The effect is especially annoying when you
>     have image tiles and you end up with a 1-2 pixels gap between them.
> 
>     I didn't test what happens if we change the behavior. So maybe there is
>     a reason why it was implemented this way?
> 
>     Daniel
> 
>     On 2019-02-19 6:13 p.m., Christopher Mitchell wrote:
>      > I've encountered an error in an image processing pipeline I've built
>      > where nearblack is removing pixels at the border of images, even if
>      > they don't fit the is-"black" criterion. Specifically, I'm using
>      > nearblack to remove nearly-black areas touching the edges of lossy
>      > image tiles that should be fully black. Those images are later
>      > combined into VRT files and warped; where we have multiple tiles
>      > overlapping an area, some of which are missing data, we therefore can
>      > get complete coverage.
>      >
>      > Unfortunately, for tiles that have no black areas, nearblack is still
>      > eating the -nb argument's number of pixels at the edges, turning them
>      > into black (0, 0, 0, 0, where we're using 4-channel images), even if
>      > those pixels are nowhere near the color criterion to be recognized as
>      > black. My understanding was that nearblack should only be proceeding
>      > into the interior of the non-black area and then setting pixels to
>      > black if those pixels are /actually/ nearly black.
>      >
>      > Am I encountering a bug with nearblack? Do I misunderstand how
>     the -nb
>      > argument works? Happy to provide a MWE if any of the above is
>     unclear,
>      > and thanks in advance.
>      > _______________________________________________
>      > gdal-dev mailing list
>      > gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>      > https://lists.osgeo.org/mailman/listinfo/gdal-dev
>      >
> 
> 
>     -- 
>     Daniel Morissette
>     Mapgears Inc
>     T: +1 418-696-5056 #201
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> Darafei Praliaskouski
> Support me: http://patreon.com/komzpa
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Daniel Morissette
Mapgears Inc
T: +1 418-696-5056 #201

From traviskirstine at gmail.com  Wed Feb 20 10:53:52 2019
From: traviskirstine at gmail.com (Travis Kirstine)
Date: Wed, 20 Feb 2019 13:53:52 -0500
Subject: [gdal-dev] Nearblack Eating Image Border
In-Reply-To: <f1baf313-fe6d-041d-8625-efc774e51090@mapgears.com>
References: <CAPb9-SFVcoYkDOHzvrcAnohj26Ut_YO8CPQigHg8Djk8zZ6Pyw@mail.gmail.com>
 <6f261790-fc92-17a1-1962-c66fa70c90af@mapgears.com>
 <CAC8Q8tLJvesAvS4H2MzE+tV7zYLv5ahuoJboqYhMXapef=Dd1w@mail.gmail.com>
 <f1baf313-fe6d-041d-8625-efc774e51090@mapgears.com>
Message-ID: <CALtm4h20rTqLB_uMf9V4t2gcyDFsTOx4E8hfNa6et9E91gM5FA@mail.gmail.com>

Off topic but I've found that gdal_rasterize.py the best method for dealing
with this type of issue.

On Wed, 20 Feb 2019 at 10:22, Daniel Morissette <dmorissette at mapgears.com>
wrote:

> That's a great point.  So it's not a bug, it is a feature in some cases. :)
>
> Maybe what we need is an option to switch between the two behaviors then.
>
>
>
> On 2019-02-20 8:23 a.m., Darafei "Komяpa" Praliaskouski wrote:
> > I believe this behavior is great for over-compressed imagery JPEGs where
> > you have corrupted border of several "black-poisoned" non-black pixels
> > that you'd better remove and take from some other image in the mosaic,
> > since in this scenario you usually have an overlap.
> >
> > On Wed, Feb 20, 2019 at 4:16 PM Daniel Morissette
> > <dmorissette at mapgears.com <mailto:dmorissette at mapgears.com>> wrote:
> >
> >     I noticed this behavior as well and I think it's a bug. I think it
> >     would
> >     make more sense to keep the last "-nb" pixels that are not nearblack
> >     instead of dropping them.  The effect is especially annoying when you
> >     have image tiles and you end up with a 1-2 pixels gap between them.
> >
> >     I didn't test what happens if we change the behavior. So maybe there
> is
> >     a reason why it was implemented this way?
> >
> >     Daniel
> >
> >     On 2019-02-19 6:13 p.m., Christopher Mitchell wrote:
> >      > I've encountered an error in an image processing pipeline I've
> built
> >      > where nearblack is removing pixels at the border of images, even
> if
> >      > they don't fit the is-"black" criterion. Specifically, I'm using
> >      > nearblack to remove nearly-black areas touching the edges of lossy
> >      > image tiles that should be fully black. Those images are later
> >      > combined into VRT files and warped; where we have multiple tiles
> >      > overlapping an area, some of which are missing data, we therefore
> can
> >      > get complete coverage.
> >      >
> >      > Unfortunately, for tiles that have no black areas, nearblack is
> still
> >      > eating the -nb argument's number of pixels at the edges, turning
> them
> >      > into black (0, 0, 0, 0, where we're using 4-channel images), even
> if
> >      > those pixels are nowhere near the color criterion to be
> recognized as
> >      > black. My understanding was that nearblack should only be
> proceeding
> >      > into the interior of the non-black area and then setting pixels to
> >      > black if those pixels are /actually/ nearly black.
> >      >
> >      > Am I encountering a bug with nearblack? Do I misunderstand how
> >     the -nb
> >      > argument works? Happy to provide a MWE if any of the above is
> >     unclear,
> >      > and thanks in advance.
> >      > _______________________________________________
> >      > gdal-dev mailing list
> >      > gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> >      > https://lists.osgeo.org/mailman/listinfo/gdal-dev
> >      >
> >
> >
> >     --
> >     Daniel Morissette
> >     Mapgears Inc
> >     T: +1 418-696-5056 #201
> >     _______________________________________________
> >     gdal-dev mailing list
> >     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
> >     https://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> > --
> > Darafei Praliaskouski
> > Support me: http://patreon.com/komzpa
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > https://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
> --
> Daniel Morissette
> Mapgears Inc
> T: +1 418-696-5056 #201
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190220/51901edf/attachment.html>

From Mikael.Rittri at carmenta.com  Thu Feb 21 04:39:29 2019
From: Mikael.Rittri at carmenta.com (Mikael Rittri)
Date: Thu, 21 Feb 2019 12:39:29 +0000
Subject: [gdal-dev] Shapefiles encoded in UTF-16 ?
Message-ID: <E4AB3DD44D22854B819908379DE4AD495094DDE3@SETHNWS023.carmenta.se>

Hello, list.

Recently, I noticed that ArcGIS software (at least since version 10.3) can produce shapefiles where the DBF file is encoded with UTF-16.
https://desktop.arcgis.com/en/arcmap/latest/extensions/production-mapping/converting-a-geodatabase-to-shapefiles.htm

But they have made it difficult to do so, since you need the "Production Mapping" license. Without that, produced shapefiles
will by default be in UTF-8; one can use some other code page by modifying a system registry setting dbfDefault, but there
doesn't seem to be any setting that will produce UTF-16.

I have never encountered a shapefile in UTF-16, but I am beginning to wonder if we ought to support them. I guess they would be
more space-efficient for languages like Chinese and Japanese, where most characters need three UTF-8 bytes but only two UTF-16
bytes. This could be important since DBF reserves only 10 bytes for field names.

Some questions:

Can the OGR Shape driver handle UTF-16?
More generally, are there many GIS systems that can handle UTF-16 in shapefiles?
Or perhaps I should just ask: has anyone ever seen a shapefile in UTF-16?
If so, would the content of the CPG file be always UTF-16LE or always UTF-16BE, or is it just UTF-16?
I suppose the only things encoded in UTF-16 would be the field values of type String, plus the field names?

(I also wonder if shapefiles in UTF-16 is a good idea, or if the GIS community just ought to forget about them,
but I guess there is no definite answer to that!)

Kind regards,

Mikael Rittri
Carmenta Geospatial Technologies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190221/0aeb53c6/attachment.html>

From even.rouault at spatialys.com  Thu Feb 21 05:01:23 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 21 Feb 2019 14:01:23 +0100
Subject: [gdal-dev] Shapefiles encoded in UTF-16 ?
In-Reply-To: <E4AB3DD44D22854B819908379DE4AD495094DDE3@SETHNWS023.carmenta.se>
References: <E4AB3DD44D22854B819908379DE4AD495094DDE3@SETHNWS023.carmenta.se>
Message-ID: <1622735.gEEueFeSgX@even-i700>

> I have never encountered a shapefile in UTF-16, but I am beginning to wonder
> if we ought to support them.

While nobody has ever seen one such file, that remains a rather theoretical 
exercice :-)

> I guess they would be more space-efficient for
> languages like Chinese and Japanese, where most characters need three UTF-8
> bytes but only two UTF-16 bytes. This could be important since DBF reserves
> only 10 bytes for field names.
> 
> Some questions:
> 
> Can the OGR Shape driver handle UTF-16?

Probably not. I guess it would have issues with the NUL bytes found in 
characters of the ASCII subset of UTF-16. The shapelib DBF API assumes NUL 
terminated strings.

> 
> (I also wonder if shapefiles in UTF-16 is a good idea, or if the GIS
> community just ought to forget about them, but I guess there is no definite
> answer to that!)

I'd say unless such beasts are widely found in the wild, let's not bother too 
much about that...

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From ao at t-kartor.se  Thu Feb 21 05:11:15 2019
From: ao at t-kartor.se (Andreas Oxenstierna)
Date: Thu, 21 Feb 2019 14:11:15 +0100
Subject: [gdal-dev] Shapefiles encoded in UTF-16 ?
In-Reply-To: <1622735.gEEueFeSgX@even-i700>
References: <E4AB3DD44D22854B819908379DE4AD495094DDE3@SETHNWS023.carmenta.se>
 <1622735.gEEueFeSgX@even-i700>
Message-ID: <dc4105b2-1c8b-d5ff-9cfc-e1d8abb5f657@t-kartor.se>

More relevant question should be if OGR support GeoPackage in UTF-16, as 
this is defined in the spec.
I hope the GIS community some day may forget the horrible DBF limitations...

>> I have never encountered a shapefile in UTF-16, but I am beginning to wonder
>> if we ought to support them.
> While nobody has ever seen one such file, that remains a rather theoretical
> exercice :-)
>
>> I guess they would be more space-efficient for
>> languages like Chinese and Japanese, where most characters need three UTF-8
>> bytes but only two UTF-16 bytes. This could be important since DBF reserves
>> only 10 bytes for field names.
>>
>> Some questions:
>>
>> Can the OGR Shape driver handle UTF-16?
> Probably not. I guess it would have issues with the NUL bytes found in
> characters of the ASCII subset of UTF-16. The shapelib DBF API assumes NUL
> terminated strings.
>
>> (I also wonder if shapefiles in UTF-16 is a good idea, or if the GIS
>> community just ought to forget about them, but I guess there is no definite
>> answer to that!)
> I'd say unless such beasts are widely found in the wild, let's not bother too
> much about that...
>
> Even
>

-- 
Hälsningar

Andreas Oxenstierna
T-Kartor Geospatial AB
Olof Mohlins väg 12 Kristianstad
mobile: +46 733 206831
mailto: ao at t-kartor.se
http://www.t-kartor.com


From rprovin at altoa.fr  Thu Feb 21 05:18:08 2019
From: rprovin at altoa.fr (PROVIN)
Date: Thu, 21 Feb 2019 10:18:08 -0300
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
Message-ID: <000c01d4c9e7$e360d770$aa228650$@fr>

Hello,

 

I am trying to compile GDAL (version 2.40, but I also tried 2.3.1) with
Visual 2017 in 32 bits.

 

I used the generate_vcxproj.bat to generate my Visual project / solution,
this way (as indicated) : 

 

generate_vcxproj.bat   15.0 32 gdal_vs2017

 

The compilation gives the following error : 

 

fatal error C1083: Impossible d'ouvrir le fichier include : 'stdio.h' : No
such file or directory (compilation du fichier source cpl_list.cpp)

 

I have this error for all the files cpl_XXXX.cpp  of "port" folder.

 

 

It is strange because these files are accessible when I right click on the
line 

#include <stdio>

and open the file.

 

 

I tried to retarget the project, tried to reinstall Visual 2017.

 

I would be glad if anyone had any advice !

 

Thank you,

 

REMI

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190221/10c6f056/attachment.html>

From andrew.bell.ia at gmail.com  Thu Feb 21 07:03:20 2019
From: andrew.bell.ia at gmail.com (Andrew Bell)
Date: Thu, 21 Feb 2019 10:03:20 -0500
Subject: [gdal-dev] Test failure
Message-ID: <CACJ51z1gMSvHWB4eo735D-U5toqaUXFRPrt5=Uz2-xmfPppnhA@mail.gmail.com>

Hi,

I'm having an issue running autotest on Ubuntu 18.04.  Ideas appreciated:

===========

acbell at ubuntu-gdal:~/gdal/autotest$ LD_LIBRARY_PATH=../gdal/.libs
PYTHONPATH=../gdal/swig/python/build/lib.linux-x86_64-2.7 pytest
============================= test session starts
==============================
platform linux2 -- Python 2.7.15rc1, pytest-3.3.2, py-1.5.2, pluggy-0.6.0
rootdir: /home/acbell/gdal/autotest, inifile: pytest.ini
collected 6474 items
INTERNALERROR> Traceback (most recent call last):
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/_pytest/main.py",
line 105, in wrap_session
INTERNALERROR>     session.exitstatus = doit(config, session) or 0
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/_pytest/main.py",
line 142, in _main
INTERNALERROR>     config.hook.pytest_collection(session=session)
INTERNALERROR>   File
"/usr/lib/python2.7/dist-packages/pluggy/__init__.py", line 617, in __call__
INTERNALERROR>     return self._hookexec(self, self._nonwrappers +
self._wrappers, kwargs)
INTERNALERROR>   File
"/usr/lib/python2.7/dist-packages/pluggy/__init__.py", line 222, in
_hookexec
INTERNALERROR>     return self._inner_hookexec(hook, methods, kwargs)
INTERNALERROR>   File
"/usr/lib/python2.7/dist-packages/pluggy/__init__.py", line 216, in <lambda>
INTERNALERROR>     firstresult=hook.spec_opts.get('firstresult'),
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/pluggy/callers.py",
line 201, in _multicall
INTERNALERROR>     return outcome.get_result()
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/pluggy/callers.py",
line 77, in get_result
INTERNALERROR>     _reraise(*ex)  # noqa
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/pluggy/callers.py",
line 180, in _multicall
INTERNALERROR>     res = hook_impl.function(*args)
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/_pytest/main.py",
line 152, in pytest_collection
INTERNALERROR>     return session.perform_collect()
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/_pytest/main.py",
line 685, in perform_collect
INTERNALERROR>     config=self.config, items=items)
INTERNALERROR>   File
"/usr/lib/python2.7/dist-packages/pluggy/__init__.py", line 617, in __call__
INTERNALERROR>     return self._hookexec(self, self._nonwrappers +
self._wrappers, kwargs)
INTERNALERROR>   File
"/usr/lib/python2.7/dist-packages/pluggy/__init__.py", line 222, in
_hookexec
INTERNALERROR>     return self._inner_hookexec(hook, methods, kwargs)
INTERNALERROR>   File
"/usr/lib/python2.7/dist-packages/pluggy/__init__.py", line 216, in <lambda>
INTERNALERROR>     firstresult=hook.spec_opts.get('firstresult'),
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/pluggy/callers.py",
line 201, in _multicall
INTERNALERROR>     return outcome.get_result()
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/pluggy/callers.py",
line 77, in get_result
INTERNALERROR>     _reraise(*ex)  # noqa
INTERNALERROR>   File "/usr/lib/python2.7/dist-packages/pluggy/callers.py",
line 180, in _multicall
INTERNALERROR>     res = hook_impl.function(*args)
INTERNALERROR>   File "/home/acbell/gdal/autotest/conftest.py", line 61, in
pytest_collection_modifyitems
INTERNALERROR>     for mark in item.iter_markers('require_driver'):
INTERNALERROR> AttributeError: 'Function' object has no attribute
'iter_markers'

-- 
Andrew Bell
andrew.bell.ia at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190221/8a908f71/attachment-0001.html>

From even.rouault at spatialys.com  Thu Feb 21 07:24:21 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 21 Feb 2019 16:24:21 +0100
Subject: [gdal-dev] Test failure
In-Reply-To: <CACJ51z1gMSvHWB4eo735D-U5toqaUXFRPrt5=Uz2-xmfPppnhA@mail.gmail.com>
References: <CACJ51z1gMSvHWB4eo735D-U5toqaUXFRPrt5=Uz2-xmfPppnhA@mail.gmail.com>
Message-ID: <1906126.mIUXC4qAbA@even-i700>

On jeudi 21 février 2019 10:03:20 CET Andrew Bell wrote:
> Hi,
> 
> I'm having an issue running autotest on Ubuntu 18.04.  Ideas appreciated:
> 
> ===========
> 
> acbell at ubuntu-gdal:~/gdal/autotest$ LD_LIBRARY_PATH=../gdal/.libs
> PYTHONPATH=../gdal/swig/python/build/lib.linux-x86_64-2.7 pytest
> ============================= test session starts
> ==============================
> platform linux2 -- Python 2.7.15rc1, pytest-3.3.2, py-1.5.2, pluggy-0.6.0
> rootdir: /home/acbell/gdal/autotest, inifile: pytest.ini

You need pytest>=3.6.0,<=4.2.0

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Thu Feb 21 07:28:24 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 21 Feb 2019 16:28:24 +0100
Subject: [gdal-dev] Shapefiles encoded in UTF-16 ?
In-Reply-To: <dc4105b2-1c8b-d5ff-9cfc-e1d8abb5f657@t-kartor.se>
References: <E4AB3DD44D22854B819908379DE4AD495094DDE3@SETHNWS023.carmenta.se>
 <1622735.gEEueFeSgX@even-i700>
 <dc4105b2-1c8b-d5ff-9cfc-e1d8abb5f657@t-kartor.se>
Message-ID: <31653904.jrS7ZHHRu4@even-i700>

On jeudi 21 février 2019 14:11:15 CET Andreas Oxenstierna wrote:
> More relevant question should be if OGR support GeoPackage in UTF-16, as
> this is defined in the spec.

From a quick test (dumping an existing GPKG as SQL statements, inserting a 
PRAGMA encoding='UTF-16le' at the beginning of it and regenerating a SQLite3 
database from it), it supports them on reading&update. This is mostly an 
internal detail of SQLite itself

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From nofarah at gmail.com  Fri Feb 22 05:41:13 2019
From: nofarah at gmail.com (Noureddine Farah)
Date: Fri, 22 Feb 2019 08:41:13 -0500
Subject: [gdal-dev] GDAL and OpenJpeg2000 next version release
Message-ID: <CAPfwm40=1cNVcfwygsApA-5U7vQRaUq0i+6q_5_jJjnLA_0wnA@mail.gmail.com>

Hi,

I'm using GDAL to open and read OpenJpeg 2000 files and one of the files
could not be  read ok because of this bug
<https://github.com/uclouvain/openjpeg/issues/1120>. The good news that bug
was fixed in OpenJpeg 2000 master but there is not public OpenJpeg 2000
including that fix and other enhancements since last public release
<https://github.com/uclouvain/openjpeg/releases/tag/v2.3.0> of OpenJpeg
2000 on Oct 4 2017.

I asked the question about next version release of OpenJpeg 2000 but my
question does not appear to be listed in that mailing list and since GDAL
is using OpenJpeg 2000, i was wondering if any one (may be Even R.) know if
there is any plan for future version release of OpenJpeg 2000.

Thanks
Noury
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190222/927f63e9/attachment.html>

From richard.hartley at tomtom.com  Fri Feb 22 06:05:51 2019
From: richard.hartley at tomtom.com (1_iota)
Date: Fri, 22 Feb 2019 07:05:51 -0700 (MST)
Subject: [gdal-dev] GeoPackage Raster driver - specification version support
Message-ID: <1550844351894-0.post@n6.nabble.com>

Is anyone able to confirm which version(s) of the GeoPackage specification
are supported by the GeoPackage Raster driver? I had a look at the
documentation on the GDAL website
(https://www.gdal.org/drv_geopackage_raster.html), but could not find this
information. This information is available for the GeoPackage Vector driver
(https://www.gdal.org/drv_geopackage.html   - under the ‘Specification
version’ section).

Many thanks,

Richard




--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From even.rouault at spatialys.com  Fri Feb 22 06:12:31 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 22 Feb 2019 15:12:31 +0100
Subject: [gdal-dev] GeoPackage Raster driver - specification version
	support
In-Reply-To: <1550844351894-0.post@n6.nabble.com>
References: <1550844351894-0.post@n6.nabble.com>
Message-ID: <19391241.7aKWKYdgMW@even-i700>

On vendredi 22 février 2019 07:05:51 CET 1_iota wrote:
> Is anyone able to confirm which version(s) of the GeoPackage specification
> are supported by the GeoPackage Raster driver? I had a look at the
> documentation on the GDAL website
> (https://www.gdal.org/drv_geopackage_raster.html), but could not find this
> information. This information is available for the GeoPackage Vector driver
> (https://www.gdal.org/drv_geopackage.html   - under the ‘Specification
> version’ section).

Same rules as the vector part for the raster part.

https://www.gdal.org/drv_geopackage_raster.html advertizes also the VERSION creation option:
"""
VERSION=AUTO/1.0/1.1/1.2: (GDAL >= 2.2) Set GeoPackage version (for application_id and user_version fields). In AUTO mode, this will be equivalent to 1.2 starting with GDAL 2.3.
"""

I'd suggest not changing this, and letting GeoPackage 1.2 to be created by default if you use a recent enough GDAL version.
Forcing this to an older version will just change the version number in the GeoPackage header,
but not necessarily restrict/modify the feature set used.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jmckenna at gatewaygeomatics.com  Fri Feb 22 11:47:56 2019
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Fri, 22 Feb 2019 15:47:56 -0400
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
In-Reply-To: <000c01d4c9e7$e360d770$aa228650$@fr>
References: <000c01d4c9e7$e360d770$aa228650$@fr>
Message-ID: <e439b812-3cdb-dcc4-7ff2-89cd5d026b18@gatewaygeomatics.com>

Hi Remi,

Personally I'd recommend using the provided nmake.opt inside GDAL's root 
directory, and modifying that for your own local libraries.  (note that 
the cleanest way to do this is to create a new file 'nmake.local' and 
put your settings in there, leaving the distributed nmake.opt as 
reference only, and then execute that with the command:

	nmake /f makefile.vc

(others may recommend using the *.bat magic, but sometimes the raw 
commandline is more fun ha)

Have a nice weekend,

-jeff




On 2019-02-21 9:18 AM, PROVIN wrote:
> Hello,
> 
> I am trying to compile GDAL (version 2.40, but I also tried 2.3.1) with 
> Visual 2017 in 32 bits.
> 
> I used the generate_vcxproj.bat to generate my Visual project / 
> solution, this way (as indicated) :
> 
> generate_vcxproj.bat   15.0 32 gdal_vs2017
> 
> The compilation gives the following error :
> 
> fatal error C1083: Impossible d'ouvrir le fichier include : 'stdio.h' : 
> No such file or directory (compilation du fichier source cpl_list.cpp)
> 
> I have this error for all the files cpl_XXXX.cpp  of "port" folder.
> 
> It is strange because these files are accessible when I right click on 
> the line
> 
> #include <stdio>
> 
> and open the file.
> 
> I tried to retarget the project, tried to reinstall Visual 2017.
> 
> I would be glad if anyone had any advice !
> 
> Thank you,
> 
> REMI
> 

-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

From mickhowe292 at gmail.com  Fri Feb 22 17:56:19 2019
From: mickhowe292 at gmail.com (mick howe)
Date: Sat, 23 Feb 2019 01:56:19 +0000
Subject: [gdal-dev] Suspected 'bug' in GDAL conversion of openstreetmap_ids
Message-ID: <CAFcrWXhk8k4GPZrya+uTH1WVbrHf6yLhVhme7KaZaVDRjMXQ7Q@mail.gmail.com>

I'm trying to convert a series of Open Street Map files to MapInfo and the
node files fail on negative osm_id
Has GDAL been updated to handle 64 bit ids that were introduced several
years ago?
The error has been occuring for a number of years when using the versions
of GDAL in the arch-linux  repositories in conjunction with QGIS versions
from 2.1.0 up to 3.4.1 on arch-linux and on 3.2 thru 3.4.4 on Windows 7 & 10

mick in glen innes
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190223/efdfbde5/attachment.html>

From even.rouault at spatialys.com  Sat Feb 23 00:22:37 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 23 Feb 2019 09:22:37 +0100
Subject: [gdal-dev] Suspected 'bug' in GDAL conversion of
	openstreetmap_ids
In-Reply-To: <CAFcrWXhk8k4GPZrya+uTH1WVbrHf6yLhVhme7KaZaVDRjMXQ7Q@mail.gmail.com>
References: <CAFcrWXhk8k4GPZrya+uTH1WVbrHf6yLhVhme7KaZaVDRjMXQ7Q@mail.gmail.com>
Message-ID: <2684283.PR4yEV2HpX@even-i700>

On samedi 23 février 2019 01:56:19 CET mick howe wrote:
> I'm trying to convert a series of Open Street Map files to MapInfo and the
> node files fail on negative osm_id
> Has GDAL been updated to handle 64 bit ids that were introduced several
> years ago?

Yes, but negative ids require particular action

$ ogr2ogr /vsimem/foo.gpkg test_with_negative_id.osm 
ERROR 1: Unsupported node id value (-1). Use OSM_USE_CUSTOM_INDEXING=NO
0...10...20...30...40...50...60...70...80...90...100 - done.

https://gdal.org/drv_osm.html :
"""For indexation of nodes, a custom mechanism not relying on SQLite is used 
by default (indexation of ways to solve relations is still relying on SQLite). 
It can speed up operations significantly. However, in some situations (non 
increasing node ids, or node ids not in expected range), it might not work and 
the driver will output an error message suggesting to relaunch by defining the 
OSM_USE_CUSTOM_INDEXING configuration option to NO."""

So

$ ogr2ogr /vsimem/foo.gpkg test_with_negative_id.osm \
	 --config OSM_USE_CUSTOM_INDEXING NO
0...10...20...30...40...50...60...70...80...90...100 - done.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jluis at ualg.pt  Sun Feb 24 05:05:26 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Sun, 24 Feb 2019 13:05:26 +0000
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
Message-ID: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>

Hi Even,

I'm having troubles migrating some of my Matlab mex to recent GDAL (built yesterday from git).
With older GDAL versions all went well. For example, this is correct

>> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs';
>> xy = ogrproj([0 0], prj)

xy =

 -13.488743884387196                   0

But with newest version I'm having two problems

>> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs';
>> xy = ogrproj([0 0], prj)

xy =

  -0.000121660050290 -13.488743885487231

One is that coordinates are not correct (lat should be 0.0) and the other is that in this later case it outputs lat,long instead of lon,lat

When I run the same transformation with the command line gdaltransform I get the exact same thing with older and new GDAL builds

gdaltransform -s_srs "+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs" -t_srs "+proj=longlat"
0 0
-13.4887438843872 0 0

The ogrproj is not complex and the relevant bit happen after 

https://github.com/joa-quim/mirone/blob/master/mex/ogrproj.cpp#L155

I can solve the lat,lon vs lon,lat issue but am more puzzled on why the coordinates are now in error.


In another test I explicitly set the destination and now I get lon,lat but the numbers are different again (this makes no difference with the older GDAL)

>> prj.DstProjSRS = '+proj=longlat +datum=WGS84 +units=m +no_defs';
>> xy = ogrproj([0 0], prj)

xy =

 -13.488864731071464  -0.000000000000010


Note that I made sure that , GDAL_DATA & PROJ_LIB are pointing to the right dirs.

>> dos('set | grep PROJ_LIB')
PROJ_LIB=C:\programs\compa_libs\proj5_GIT\compileds\VC14_64\share\proj

>> dos('set | grep GDAL_DATA')
GDAL_DATA=C:\programs\compa_libs\gdal_GIT\gdal\data

Joaquim

From even.rouault at spatialys.com  Sun Feb 24 05:29:24 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 24 Feb 2019 14:29:24 +0100
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
Message-ID: <1758241.RAApN3T9t9@even-i700>

Joaquim,

> 
> I'm having troubles migrating some of my Matlab mex to recent GDAL (built
> yesterday from git). With older GDAL versions all went well. For example,
> this is correct
> >> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs';
> >> xy = ogrproj([0 0], prj)
> 
> xy =
> 
>  -13.488743884387196                   0
> 
> But with newest version I'm having two problems
> 
> >> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs';
> >> xy = ogrproj([0 0], prj)
> 
> xy =
> 
>   -0.000121660050290 -13.488743885487231
> 
> One is that coordinates are not correct (lat should be 0.0)

That one is really odd. It looks like some datum shift would be applied, which 
doesn't make sense here since your target SRS uses WGS84 too. Can you run your 
code with PROJ_DEBUG=5 and CPL_DEBUG=ON environment variables set ?

For correct results, you should see something like:
OGRCT: proj=pipeline step inv proj=utm zone=29 ellps=WGS84 step 
proj=unitconvert xy_in=rad xy_out=deg step proj=axisswap order=2,1 (Inverse of 
UTM zone 29N)


> and the other is
> that in this later case it outputs lat,long instead of lon,lat

That one is expected. SetWellKnownGeogCS( "WGS84" ) now returns a SRS with 
lat, lon order. You can force "GIS" friendly order by calling
oSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From refriguy68 at yahoo.com  Sun Feb 24 02:18:18 2019
From: refriguy68 at yahoo.com (Robert Zermeno)
Date: Sun, 24 Feb 2019 06:18:18 -0400
Subject: [gdal-dev] Until it's out of stock
Message-ID: <524f45fd59c9$336d9314$5e82821d$@yahoo.com>

Excellent solution http://row.idlifeskincare.me <http://row.idlifeskincare.me/> 

 

 

Robert Zermeno

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190224/8876edbb/attachment.html>

From jluis at ualg.pt  Sun Feb 24 05:46:55 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Sun, 24 Feb 2019 13:46:55 +0000
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <1758241.RAApN3T9t9@even-i700>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <1758241.RAApN3T9t9@even-i700>
Message-ID: <DB7PR04MB43167CBB1C923F7F75F1B1BDA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>

OK,

Will try to do that this afternoon in the train back home but already anticipating a problem. Matlab does not print what C code prints to stderr so I'll have to find a way to get that debug info.

|>-----Original Message-----
|>From: Even Rouault <even.rouault at spatialys.com>
|>Sent: Sunday, February 24, 2019 1:29 PM
|>To: gdal-dev at lists.osgeo.org
|>Cc: Joaquim Manuel Freire Luís <jluis at ualg.pt>
|>Subject: Re: [gdal-dev] Troubles in coord conversions with GDAL+proj6
|>
|>Joaquim,
|>
|>>
|>> I'm having troubles migrating some of my Matlab mex to recent GDAL
|>> (built yesterday from git). With older GDAL versions all went well.
|>> For example, this is correct
|>> >> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m
|>> >> +no_defs'; xy = ogrproj([0 0], prj)
|>>
|>> xy =
|>>
|>>  -13.488743884387196                   0
|>>
|>> But with newest version I'm having two problems
|>>
|>> >> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m
|>> >> +no_defs'; xy = ogrproj([0 0], prj)
|>>
|>> xy =
|>>
|>>   -0.000121660050290 -13.488743885487231
|>>
|>> One is that coordinates are not correct (lat should be 0.0)
|>
|>That one is really odd. It looks like some datum shift would be applied, which
|>doesn't make sense here since your target SRS uses WGS84 too. Can you run
|>your code with PROJ_DEBUG=5 and CPL_DEBUG=ON environment variables set
|>?
|>
|>For correct results, you should see something like:
|>OGRCT: proj=pipeline step inv proj=utm zone=29 ellps=WGS84 step
|>proj=unitconvert xy_in=rad xy_out=deg step proj=axisswap order=2,1 (Inverse
|>of UTM zone 29N)
|>
|>
|>> and the other is
|>> that in this later case it outputs lat,long instead of lon,lat
|>
|>That one is expected. SetWellKnownGeogCS( "WGS84" ) now returns a SRS
|>with lat, lon order. You can force "GIS" friendly order by calling
|>oSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);
|>
|>Even
|>
|>--
|>Spatialys - Geospatial professional services http://www.spatialys.com

From even.rouault at spatialys.com  Sun Feb 24 05:56:20 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 24 Feb 2019 14:56:20 +0100
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <DB7PR04MB43167CBB1C923F7F75F1B1BDA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <1758241.RAApN3T9t9@even-i700>
 <DB7PR04MB43167CBB1C923F7F75F1B1BDA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
Message-ID: <91241951.7or6dXvJQn@even-i700>

On dimanche 24 février 2019 13:46:55 CET Joaquim Manuel Freire Luís wrote:
> OK,
> 
> Will try to do that this afternoon in the train back home but already
> anticipating a problem. Matlab does not print what C code prints to stderr
> so I'll have to find a way to get that debug info.

CPL_LOG=/tmp/out.txt

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bjorn.harrtell at gmail.com  Sun Feb 24 05:59:34 2019
From: bjorn.harrtell at gmail.com (=?UTF-8?Q?Bj=C3=B6rn_Harrtell?=)
Date: Sun, 24 Feb 2019 14:59:34 +0100
Subject: [gdal-dev] FlatGeobuf;
	proposal for a new performance oriented vector file format
In-Reply-To: <CANhDX=YaSxDa6NmEQ2nfYmd7NvyqHNun+4agZMiUzzJi_Xa1gQ@mail.gmail.com>
References: <CANhDX=b8vn-su_1M-H6KmZBNcWs+iTV2Y2OaDmQJ72N349Z2QA@mail.gmail.com>
 <CANhDX=b_J2b-vxakyFV7WB8qjzvu3APBT_wTRdan5GjcfBq4YA@mail.gmail.com>
 <CANhDX=YaSxDa6NmEQ2nfYmd7NvyqHNun+4agZMiUzzJi_Xa1gQ@mail.gmail.com>
Message-ID: <CANhDX=a4zzXr-uk6Z6UivS1GHMMnO2rU6ZeengJ2GvVmEaOCEw@mail.gmail.com>

I've now implemented so that the traversal of the R-tree reads nodes on
demand and as suspected it gives a significant boost:

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_roads_free_1.fgb gis_osm_roads_free_1; done
real 0m0,378s (~ 20% improvement)

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
done
real 0m0,790s (~ 30% improvement)

I'm now also faster on the reduced window (56 10.1 56.1) beating gpkg:

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.1 56.1
gis_osm_buildings_a_free_1_single.gpkg gis_osm_buildings_a_free_1_single;
done
real 0m0,305s

> time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.1 56.1
gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
done
real 0m0,242s

It still remains a TODO to further optimize I/O to read larger blocks if
possible (applies both to R-tree nodes and the feature data itself) and I
think that could prove a very significant performance boost potentially
leaving any competition in the dust. :D

/Björn

Den lör 9 feb. 2019 kl 00:08 skrev Björn Harrtell <bjorn.harrtell at gmail.com
>:

> I've now implemented spatial filtering (at GDAL fork
> https://github.com/bjornharrtell/gdal/tree/flatgeobuf) and results are
> promising, for two test cases about 3,5-4 times faster than shapefile with
> the same content. I've used these command lines to measure total time over
> 10 iterations for each format and dataset:
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_roads_free_1.shp gis_osm_roads_free_1; done
> real 0m1,940s
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_roads_free_1.gpkg gis_osm_roads_free_1; done
> real 0m0,750s
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_roads_free_1.fgb gis_osm_roads_free_1; done
> real 0m0,461s
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_buildings_a_free_1_single.shp gis_osm_buildings_a_free_1_single;
> done
> real 0m4,381s
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_buildings_a_free_1_single.gpkg gis_osm_buildings_a_free_1_single;
> done
> real 0m1,624s
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
> done
> real 0m1,113s
>
> The bounds 10 56 10.2 56.2 contains 21525 out of the 812547 total features
> for gis_osm_roads_free_1 and 57699 out of 2027890 features for
> gis_osm_buildings_a_free_1_single.
>
> And there is definitely room for optimization. The implementation is naive
> and reads the whole R-tree in memory and does not yet read consecutive
> features (common case as the R-tree is balanced) in larger I/O blocks which
> I think can be significant. If I reduce the extent to 10 56 10.1 56.1 GPKG
> is actually fair bit faster which I think is due to it being able to read
> the index partially.
>
> /Björn
>
> Den tis 22 jan. 2019 kl 18:43 skrev Björn Harrtell <
> bjorn.harrtell at gmail.com>:
>
>> After posting about my experimental format I realized that I lack numbers
>> on the potential performance, so I tried to make some more or less
>> scientific measuring. The results was disappointing, reaching similar
>> performance as shapefile for full sequential reads and so I lost interest
>> for a while. But recently I found out that my method of measuring was
>> flawed - I measured the time to read into a new shapefile using ogr2ogr,
>> but it turns out that can be quite unfair due to the string field length
>> dynamic resize that ogr2ogr will do if the strings from input feature
>> attributes are of variable length. I've now made some new measurements
>> using ogrinfo and the undocumented flag -qq to get a full sequential read.
>>
>> I've used the shapefiles "gis_osm_buildings_a_free_1" (exploded to single
>> poly) and "gis_osm_roads_free_1" from Denmark at
>> http://download.geofabrik.de/europe.html as the source, converted to
>> respective format, then measured the time it takes to run ogrinfo -qq on
>> them. Results (average over three runs):
>>
>> ## gis_osm_buildings_a_free_1 (2027890 Polygons)
>> * SHP: 3800 ms
>> * GPKG: 2700 ms
>> * FlatGeobuf: 2200 ms
>>
>> ## gis_osm_roads_free_1 (812547 LineStrings)
>> * SHP: 1600 ms
>> * GPKG: 1350 ms
>> * FlatGeobuf: 800 ms
>>
>> With that my hope and interest is rekindled. I believe I can fare even
>> better against the competition with with spatially filtered searches, will
>> hopefully soon have some results on that too.
>>
>> /Björn
>>
>> Den sön 9 dec. 2018 kl 20:36 skrev Björn Harrtell <
>> bjorn.harrtell at gmail.com>:
>>
>>> Hi GDAL/OGR folks,
>>>
>>> In my spare time I've been working on a vector file format called
>>> FlatGeobuf (tentatively). The main reason, besides curiosity and learning,
>>> I'm putting time into it is that I think shapefile still rules the
>>> read/query static data performance game, which is kind of sad, and probably
>>> one of the reasons it is still so widely popular. Also, the main competitor
>>> (GeoPackage) isn't suitable for streaming access (AFAIK) which shapefiles
>>> also handles surprisingly (?) well.
>>>
>>> By using a performance focused write once binary encoding (flatbuffers),
>>> schema constraint and focusing on read/query performance by clustering on
>>> an optimal spatial index (Packed Hilbert R-Tree) I hope to be able to beat
>>> shapefile performance and at the same time be optimal for streaming/cloud
>>> access.
>>>
>>> I think I'm starting to get somewhere, more details and source is at
>>> https://github.com/bjornharrtell/flatgeobuf and I have an early proof
>>> of concept driver implementation at
>>> https://github.com/bjornharrtell/gdal/tree/flatgeobuf and results are
>>> already quite promising - it can do roundtrip read/write and is already
>>> quite a bit faster than shapefile. I also have implemented naive read only
>>> QGIS provider for experimental purposes.
>>>
>>> Basically I'm fishing for interest in this effort, hoping that others
>>> will see potential in it even if it's "yet another format" and far from
>>> final/stable yet. Any feedback is welcome. As I see it, GDAL is a good
>>> place for a format specification and reference implementation to incubate.
>>>
>>> Some additional food for thought that I've had during the
>>> experimentation:
>>>
>>> 1. The main in memory representations of geometry/coordinates seem to be
>>> either separate arrays per dimension (GDAL (partially?) and QGIS) or a
>>> single array with dimension as stride. I've chosen the latter as of yet but
>>> I'm still a bit undecided. There is of course a substantial involved in
>>> transforming between the two representations so the situation with two
>>> competing models is a bit unfortunate. I'm also not sure about which of
>>> these models are objectively "better" than the other?
>>>
>>> 2. One could get better space efficiency with protobuf instead of
>>> flatbuffers, but it has a performance cost. I have not gone far into
>>> investigating how much though and one could even reason about supporting
>>> both these encodings in a single format specification but it's taking it a
>>> bit far I think.
>>>
>>> 3. Is there a reason to support different packing strategies for the
>>> R-Tree or is Packed Hilbert a good compromise (besides it being beautifully
>>> simple to implement)?
>>>
>>> 4. FlatGeobuf is perhaps a too technical name, not catchy enough and has
>>> a bad/boring abbreviation. Other candidates I've considered are
>>> OpenGeoFile, OpenVectorFile or OpenSpatialFile but I'm undecided. Any
>>> ideas? :)
>>>
>>> Regards,
>>>
>>> Björn Harrtell
>>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190224/2fb14a69/attachment-0001.html>

From pigrecoinfinito at gmail.com  Sun Feb 24 07:04:47 2019
From: pigrecoinfinito at gmail.com (=?UTF-8?Q?Tot=C3=B2?=)
Date: Sun, 24 Feb 2019 08:04:47 -0700 (MST)
Subject: [gdal-dev] Not able to build GDAL in Ubuntu 16.04
Message-ID: <1551020687840-0.post@n6.nabble.com>

Hi,
I have downloaded gdal source from
http://download.osgeo.org/gdal/2.4.0/gdal240.zip and than I have run these
commands:

./configure --prefix=${PREFIX} --without-sqlite3
make

But I have this error

chmod a+x gdal-config
/bin/bash /mnt/c/tmp/gdal240/gdal-2.4.0/libtool --mode=link --silent g++
-std=c++11  gdalinfo_bin.lo  /mnt/c/tmp/gdal240/gdal-2.4.0/libgdal.la  -o
gdalinfo
/mnt/c/tmp/gdal240/gdal-2.4.0/.libs/libgdal.so: undefined reference to
`sqlite3_column_origin_name'
/mnt/c/tmp/gdal240/gdal-2.4.0/.libs/libgdal.so: undefined reference to
`sqlite3_column_table_name'

Probably I have some sqlite3 environment problem, and I thought I could get
over it using "--without-sqlite3" in config, but it is not so.

How to solve it?

Thank you



-----
https://pigrecoinfinito.wordpress.com/
--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From even.rouault at spatialys.com  Sun Feb 24 07:09:14 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 24 Feb 2019 16:09:14 +0100
Subject: [gdal-dev] Not able to build GDAL in Ubuntu 16.04
In-Reply-To: <1551020687840-0.post@n6.nabble.com>
References: <1551020687840-0.post@n6.nabble.com>
Message-ID: <4302138.zHuYoZ8l0g@even-i700>

On dimanche 24 février 2019 08:04:47 CET Totò wrote:
> Hi,
> I have downloaded gdal source from
> http://download.osgeo.org/gdal/2.4.0/gdal240.zip and than I have run these
> commands:
> 
> ./configure --prefix=${PREFIX} --without-sqlite3
> make
> 
> But I have this error
> 
> chmod a+x gdal-config
> /bin/bash /mnt/c/tmp/gdal240/gdal-2.4.0/libtool --mode=link --silent g++
> -std=c++11  gdalinfo_bin.lo  /mnt/c/tmp/gdal240/gdal-2.4.0/libgdal.la  -o
> gdalinfo
> /mnt/c/tmp/gdal240/gdal-2.4.0/.libs/libgdal.so: undefined reference to
> `sqlite3_column_origin_name'
> /mnt/c/tmp/gdal240/gdal-2.4.0/.libs/libgdal.so: undefined reference to
> `sqlite3_column_table_name'
> 
> Probably I have some sqlite3 environment problem, and I thought I could get
> over it using "--without-sqlite3" in config, but it is not so.

If you added --without-sqlite3 to the ./configure command line after a first 
build without it, you need to "make clean" before rebuilding

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jluis at ualg.pt  Sun Feb 24 07:59:12 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Sun, 24 Feb 2019 15:59:12 +0000
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <1758241.RAApN3T9t9@even-i700>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <1758241.RAApN3T9t9@even-i700>
Message-ID: <DB7PR04MB4316AF4EEE658338850E3582A6790@DB7PR04MB4316.eurprd04.prod.outlook.com>

Not from the same command as before because of that Matlab-filtering-stderr issue that I mentioned but this should be equivalent. It's from Mirone (compiled as true stand alone exe) and that uses calls to the same ogrproj code. Not exactly what you expected, I think. 

-- read a geotiff file

GDAL: GDALOpen(C:\v\lixo.tiff, this=0189FE78) succeeds as GTiff.
ERROR 1: PROJ: pj_open_lib(proj.db): call fopen(C:\SVN\mirone30\data\proj_lib\proj.db) - succeeded
GDAL: GDALDefaultOverviews::OverviewScan()
GDAL: GDAL_CACHEMAX = 102 MB
GDAL: GDALClose(C:\v\lixo.tiff, this=0189FE78)
GDAL: GDALOpen(C:\v\lixo.tiff, this=0189FE78) succeeds as GTiff.
GDAL: GDALClose(C:\v\lixo.tiff, this=0189FE78)

The ogrproj call should start here

ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
ERROR 1: PROJ: xy_in unit: Radian
ERROR 1: PROJ: xy_out unit: Degree
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
ERROR 1: PROJ: xy_in unit: Radian
ERROR 1: PROJ: xy_out unit: Degree
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
...


|>-----Original Message-----
|>From: Even Rouault <even.rouault at spatialys.com>
|>Sent: Sunday, February 24, 2019 1:29 PM
|>To: gdal-dev at lists.osgeo.org
|>Cc: Joaquim Manuel Freire Luís <jluis at ualg.pt>
|>Subject: Re: [gdal-dev] Troubles in coord conversions with GDAL+proj6
|>
|>Joaquim,
|>
|>>
|>> I'm having troubles migrating some of my Matlab mex to recent GDAL
|>> (built yesterday from git). With older GDAL versions all went well.
|>> For example, this is correct
|>> >> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m
|>> >> +no_defs'; xy = ogrproj([0 0], prj)
|>>
|>> xy =
|>>
|>>  -13.488743884387196                   0
|>>
|>> But with newest version I'm having two problems
|>>
|>> >> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m
|>> >> +no_defs'; xy = ogrproj([0 0], prj)
|>>
|>> xy =
|>>
|>>   -0.000121660050290 -13.488743885487231
|>>
|>> One is that coordinates are not correct (lat should be 0.0)
|>
|>That one is really odd. It looks like some datum shift would be applied, which
|>doesn't make sense here since your target SRS uses WGS84 too. Can you run
|>your code with PROJ_DEBUG=5 and CPL_DEBUG=ON environment variables set
|>?
|>
|>For correct results, you should see something like:
|>OGRCT: proj=pipeline step inv proj=utm zone=29 ellps=WGS84 step
|>proj=unitconvert xy_in=rad xy_out=deg step proj=axisswap order=2,1 (Inverse
|>of UTM zone 29N)
|>
|>
|>> and the other is
|>> that in this later case it outputs lat,long instead of lon,lat
|>
|>That one is expected. SetWellKnownGeogCS( "WGS84" ) now returns a SRS
|>with lat, lon order. You can force "GIS" friendly order by calling
|>oSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);
|>
|>Even
|>
|>--
|>Spatialys - Geospatial professional services http://www.spatialys.com

From even.rouault at spatialys.com  Sun Feb 24 08:02:52 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 24 Feb 2019 17:02:52 +0100
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <DB7PR04MB4316AF4EEE658338850E3582A6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <1758241.RAApN3T9t9@even-i700>
 <DB7PR04MB4316AF4EEE658338850E3582A6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
Message-ID: <16162183.7cNnaEoNZX@even-i700>

> The ogrproj call should start here
> 
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
> ERROR 1: PROJ: xy_in unit: Radian
> ERROR 1: PROJ: xy_out unit: Degree
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
> ERROR 1: PROJ: xy_in unit: Radian
> ERROR 1: PROJ: xy_out unit: Degree
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=WGS84
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80
> ERROR 1: PROJ: pj_ellipsoid - final: a=6378137.000 f=1/298.257, errno=0
> ERROR 1: PROJ: pj_ellipsoid - final:    ellps=GRS80

You cut here just at the point were it began to be interesting.
Please report the lines starting with "OGRCT: proj=pipeline "
or provide the full log

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jluis at ualg.pt  Sun Feb 24 15:11:37 2019
From: jluis at ualg.pt (=?utf-8?B?Sm9hcXVpbSBNYW51ZWwgRnJlaXJlIEx1w61z?=)
Date: Sun, 24 Feb 2019 23:11:37 +0000
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <1758241.RAApN3T9t9@even-i700>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <1758241.RAApN3T9t9@even-i700>
Message-ID: <DB7PR04MB4316E08CE25BB75CF534677EA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>

|>> and the other is that in this later case it outputs lat,long instead of lon,lat
|>
|>That one is expected. SetWellKnownGeogCS( "WGS84" ) now returns a SRS
|>with lat, lon order. You can force "GIS" friendly order by calling
|>oSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);

Hmm, lat,longs are bad 😊
When did that change? (SetAxisMappingStrategy was introduced in GDAL 2.5 only)

Anyway, I added this to my code

#if (GDAL_VERSION_NUM >= 2500)
	 oSrcSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);
	 oDstSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);
#endif

And things changed a bit (now lat is always = 0). And I think I found the issue (Matlab craziness) , which is simply unbelievable. 

OK, starting again. This now gives the correct value

>> prj.SrcProjSRS = '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs';
>> xy = ogrproj([0 0], prj)

xy =  -13.488743884387199                   0

But on a second run is already wrong

>> xy = ogrproj([0 0], prj)
xy = -13.488864729988810                   0

Now the unbelievable part. Let's use x,y variables instead of [0 0] (note, in Matlab [0 0] is a double precision array) and the result is: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

CORRECT
>> x=0;y=0;
>> xy = ogrproj([y y], prj)
xy = -13.488743884387199                   0

WRONG
>> xy = ogrproj([0 0], prj)
xy = -13.488864731071464                   0

CORRECT
>> xy = ogrproj([y y], prj)
xy = -13.488743884387199                   0

So, I'm sorry for the noise but I think it was not all my fault.

From jluis at ualg.pt  Sun Feb 24 15:20:10 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Sun, 24 Feb 2019 23:20:10 +0000
Subject: [gdal-dev] No like "wgs84"
Message-ID: <DB7PR04MB4316E2B890A3235B485D774CA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>

Even, me again.

Don't know if this is on purpose but it breaks previous behavior.

GDAL 2.5dev does not like lower case 'wgs84'

gdaltransform --version
GDAL 2.5.0dev, released 2019/99/99

gdaltransform -t_srs "+proj=utm +zone=29 +datum=wgs84 +units=m +no_defs" -s_srs "+proj=longlat"
ERROR 1: PROJ: proj_create: Error -9: unknown elliptical parameter name
ERROR 1: Translating source or target SRS failed:
+proj=utm +zone=29 +datum=wgs84 +units=m +no_defs

gdaltransform -t_srs "+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs" -s_srs "+proj=longlat"
-45 0
-3801310.44388964 0 0

----------------------------------- Older version doesn't mind ------------------------------------------------------------------
gdaltransform --version
GDAL 2.3.0dev, released 2017/99/99

gdaltransform -t_srs "+proj=utm +zone=29 +datum=wgs84 +units=m +no_defs" -s_srs "+proj=longlat"
-45 0
-3801310.44388964 0 0

From even.rouault at spatialys.com  Sun Feb 24 15:27:13 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 25 Feb 2019 00:27:13 +0100
Subject: [gdal-dev] Troubles in coord conversions with GDAL+proj6
In-Reply-To: <DB7PR04MB4316E08CE25BB75CF534677EA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
References: <DB7PR04MB4316D46105966847C88403CAA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <1758241.RAApN3T9t9@even-i700>
 <DB7PR04MB4316E08CE25BB75CF534677EA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
Message-ID: <2621282.ObLrAzry3W@even-i700>

On dimanche 24 février 2019 23:11:37 CET Joaquim Manuel Freire Luís wrote:
> |>> and the other is that in this later case it outputs lat,long instead of
> |>> lon,lat
|>
> |>
> |>That one is expected. SetWellKnownGeogCS( "WGS84" ) now returns a SRS
> |>with lat, lon order. You can force "GIS" friendly order by calling
> |>oSRS.SetAxisMappingStrategy(OAMS_TRADITIONAL_GIS_ORDER);
> 
> 
> Hmm, lat,longs are bad 😊

That's what the authority (EPSG) mandates unfortunately

> When did that change? (SetAxisMappingStrategy was introduced in GDAL 2.5
> only)

See https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Sun Feb 24 15:31:34 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 25 Feb 2019 00:31:34 +0100
Subject: [gdal-dev] No like "wgs84"
In-Reply-To: <DB7PR04MB4316E2B890A3235B485D774CA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
References: <DB7PR04MB4316E2B890A3235B485D774CA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
Message-ID: <4462725.CshzDcdKux@even-i700>

On dimanche 24 février 2019 23:20:10 CET Joaquim Manuel Freire Luís wrote:
> Even, me again.
> 
> Don't know if this is on purpose but it breaks previous behavior.
> 
> GDAL 2.5dev does not like lower case 'wgs84'

Not really "intended", but logical due to the large overhaul done in GDAL 2.5 
for SRS support (https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn). 
In previous GDAL version, PROJ string parsing was done by GDAL with likely not 
really intended case-insensitive string comparison. Now this is done by PROJ 
itself, and PROJ has always been case sensitive (you can try "proj +proj=merc 
+datum=wgs84" with older PROJ versions and it will emit that error too)

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jluis at ualg.pt  Sun Feb 24 15:37:00 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Sun, 24 Feb 2019 23:37:00 +0000
Subject: [gdal-dev] No like "wgs84"
In-Reply-To: <4462725.CshzDcdKux@even-i700>
References: <DB7PR04MB4316E2B890A3235B485D774CA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <4462725.CshzDcdKux@even-i700>
Message-ID: <DB7PR04MB4316BC2435B593BCD398144CA6790@DB7PR04MB4316.eurprd04.prod.outlook.com>

Ok, makes sense. Thanks

Joaquim

|>-----Original Message-----
|>From: Even Rouault <even.rouault at spatialys.com>
|>Sent: Sunday, February 24, 2019 11:32 PM
|>To: gdal-dev at lists.osgeo.org
|>Cc: Joaquim Manuel Freire Luís <jluis at ualg.pt>
|>Subject: Re: [gdal-dev] No like "wgs84"
|>
|>On dimanche 24 février 2019 23:20:10 CET Joaquim Manuel Freire Luís wrote:
|>> Even, me again.
|>>
|>> Don't know if this is on purpose but it breaks previous behavior.
|>>
|>> GDAL 2.5dev does not like lower case 'wgs84'
|>
|>Not really "intended", but logical due to the large overhaul done in GDAL 2.5
|>for SRS support (https://trac.osgeo.org/gdal/wiki/rfc73_proj6_wkt2_srsbarn).
|>In previous GDAL version, PROJ string parsing was done by GDAL with likely not
|>really intended case-insensitive string comparison. Now this is done by PROJ
|>itself, and PROJ has always been case sensitive (you can try "proj +proj=merc
|>+datum=wgs84" with older PROJ versions and it will emit that error too)
|>
|>Even
|>
|>--
|>Spatialys - Geospatial professional services http://www.spatialys.com

From me at komzpa.net  Mon Feb 25 02:06:29 2019
From: me at komzpa.net (=?UTF-8?Q?Darafei_=22Kom=D1=8Fpa=22_Praliaskouski?=)
Date: Mon, 25 Feb 2019 13:06:29 +0300
Subject: [gdal-dev] FlatGeobuf;
 proposal for a new performance oriented vector file format
In-Reply-To: <CANhDX=a4zzXr-uk6Z6UivS1GHMMnO2rU6ZeengJ2GvVmEaOCEw@mail.gmail.com>
References: <CANhDX=b8vn-su_1M-H6KmZBNcWs+iTV2Y2OaDmQJ72N349Z2QA@mail.gmail.com>
 <CANhDX=b_J2b-vxakyFV7WB8qjzvu3APBT_wTRdan5GjcfBq4YA@mail.gmail.com>
 <CANhDX=YaSxDa6NmEQ2nfYmd7NvyqHNun+4agZMiUzzJi_Xa1gQ@mail.gmail.com>
 <CANhDX=a4zzXr-uk6Z6UivS1GHMMnO2rU6ZeengJ2GvVmEaOCEw@mail.gmail.com>
Message-ID: <CAC8Q8tKrpZybsz4wSYrE=XhqV2sjxPFgqstTq68VRFut+MhyAA@mail.gmail.com>

Hi Björn,

Would it make sense to implement it not as a separate format, but as a
special convention on top of any of already existing ones?
What happens if you sort by Hilbert curve a shapefile or geopackage, and
tweak the internals to build indexes in flattish manner?

For example, here is a branch of Postgres where GiST index is being built
in flat manner. \
It does not require any change on user's side, but gets you all the
benefits by plainly building 10x faster.
https://github.com/glukhovn/postgres/tree/gist_btree_build


On Sun, Feb 24, 2019 at 4:59 PM Björn Harrtell <bjorn.harrtell at gmail.com>
wrote:

> I've now implemented so that the traversal of the R-tree reads nodes on
> demand and as suspected it gives a significant boost:
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_roads_free_1.fgb gis_osm_roads_free_1; done
> real 0m0,378s (~ 20% improvement)
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
> gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
> done
> real 0m0,790s (~ 30% improvement)
>
> I'm now also faster on the reduced window (56 10.1 56.1) beating gpkg:
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.1 56.1
> gis_osm_buildings_a_free_1_single.gpkg gis_osm_buildings_a_free_1_single;
> done
> real 0m0,305s
>
> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.1 56.1
> gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
> done
> real 0m0,242s
>
> It still remains a TODO to further optimize I/O to read larger blocks if
> possible (applies both to R-tree nodes and the feature data itself) and I
> think that could prove a very significant performance boost potentially
> leaving any competition in the dust. :D
>
> /Björn
>
> Den lör 9 feb. 2019 kl 00:08 skrev Björn Harrtell <
> bjorn.harrtell at gmail.com>:
>
>> I've now implemented spatial filtering (at GDAL fork
>> https://github.com/bjornharrtell/gdal/tree/flatgeobuf) and results are
>> promising, for two test cases about 3,5-4 times faster than shapefile with
>> the same content. I've used these command lines to measure total time over
>> 10 iterations for each format and dataset:
>>
>> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
>> gis_osm_roads_free_1.shp gis_osm_roads_free_1; done
>> real 0m1,940s
>>
>> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
>> gis_osm_roads_free_1.gpkg gis_osm_roads_free_1; done
>> real 0m0,750s
>>
>> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
>> gis_osm_roads_free_1.fgb gis_osm_roads_free_1; done
>> real 0m0,461s
>>
>> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
>> gis_osm_buildings_a_free_1_single.shp gis_osm_buildings_a_free_1_single;
>> done
>> real 0m4,381s
>>
>> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
>> gis_osm_buildings_a_free_1_single.gpkg gis_osm_buildings_a_free_1_single;
>> done
>> real 0m1,624s
>>
>> > time for i in {1..10}; do ogrinfo -qq -spat 10 56 10.2 56.2
>> gis_osm_buildings_a_free_1_single.fgb gis_osm_buildings_a_free_1_single;
>> done
>> real 0m1,113s
>>
>> The bounds 10 56 10.2 56.2 contains 21525 out of the 812547 total
>> features for gis_osm_roads_free_1 and 57699 out of 2027890 features for
>> gis_osm_buildings_a_free_1_single.
>>
>> And there is definitely room for optimization. The implementation is
>> naive and reads the whole R-tree in memory and does not yet read
>> consecutive features (common case as the R-tree is balanced) in larger I/O
>> blocks which I think can be significant. If I reduce the extent to 10 56
>> 10.1 56.1 GPKG is actually fair bit faster which I think is due to it being
>> able to read the index partially.
>>
>> /Björn
>>
>> Den tis 22 jan. 2019 kl 18:43 skrev Björn Harrtell <
>> bjorn.harrtell at gmail.com>:
>>
>>> After posting about my experimental format I realized that I lack
>>> numbers on the potential performance, so I tried to make some more or less
>>> scientific measuring. The results was disappointing, reaching similar
>>> performance as shapefile for full sequential reads and so I lost interest
>>> for a while. But recently I found out that my method of measuring was
>>> flawed - I measured the time to read into a new shapefile using ogr2ogr,
>>> but it turns out that can be quite unfair due to the string field length
>>> dynamic resize that ogr2ogr will do if the strings from input feature
>>> attributes are of variable length. I've now made some new measurements
>>> using ogrinfo and the undocumented flag -qq to get a full sequential read.
>>>
>>> I've used the shapefiles "gis_osm_buildings_a_free_1" (exploded to
>>> single poly) and "gis_osm_roads_free_1" from Denmark at
>>> http://download.geofabrik.de/europe.html as the source, converted to
>>> respective format, then measured the time it takes to run ogrinfo -qq on
>>> them. Results (average over three runs):
>>>
>>> ## gis_osm_buildings_a_free_1 (2027890 Polygons)
>>> * SHP: 3800 ms
>>> * GPKG: 2700 ms
>>> * FlatGeobuf: 2200 ms
>>>
>>> ## gis_osm_roads_free_1 (812547 LineStrings)
>>> * SHP: 1600 ms
>>> * GPKG: 1350 ms
>>> * FlatGeobuf: 800 ms
>>>
>>> With that my hope and interest is rekindled. I believe I can fare even
>>> better against the competition with with spatially filtered searches, will
>>> hopefully soon have some results on that too.
>>>
>>> /Björn
>>>
>>> Den sön 9 dec. 2018 kl 20:36 skrev Björn Harrtell <
>>> bjorn.harrtell at gmail.com>:
>>>
>>>> Hi GDAL/OGR folks,
>>>>
>>>> In my spare time I've been working on a vector file format called
>>>> FlatGeobuf (tentatively). The main reason, besides curiosity and learning,
>>>> I'm putting time into it is that I think shapefile still rules the
>>>> read/query static data performance game, which is kind of sad, and probably
>>>> one of the reasons it is still so widely popular. Also, the main competitor
>>>> (GeoPackage) isn't suitable for streaming access (AFAIK) which shapefiles
>>>> also handles surprisingly (?) well.
>>>>
>>>> By using a performance focused write once binary encoding
>>>> (flatbuffers), schema constraint and focusing on read/query performance by
>>>> clustering on an optimal spatial index (Packed Hilbert R-Tree) I hope to be
>>>> able to beat shapefile performance and at the same time be optimal for
>>>> streaming/cloud access.
>>>>
>>>> I think I'm starting to get somewhere, more details and source is at
>>>> https://github.com/bjornharrtell/flatgeobuf and I have an early proof
>>>> of concept driver implementation at
>>>> https://github.com/bjornharrtell/gdal/tree/flatgeobuf and results are
>>>> already quite promising - it can do roundtrip read/write and is already
>>>> quite a bit faster than shapefile. I also have implemented naive read only
>>>> QGIS provider for experimental purposes.
>>>>
>>>> Basically I'm fishing for interest in this effort, hoping that others
>>>> will see potential in it even if it's "yet another format" and far from
>>>> final/stable yet. Any feedback is welcome. As I see it, GDAL is a good
>>>> place for a format specification and reference implementation to incubate.
>>>>
>>>> Some additional food for thought that I've had during the
>>>> experimentation:
>>>>
>>>> 1. The main in memory representations of geometry/coordinates seem to
>>>> be either separate arrays per dimension (GDAL (partially?) and QGIS) or a
>>>> single array with dimension as stride. I've chosen the latter as of yet but
>>>> I'm still a bit undecided. There is of course a substantial involved in
>>>> transforming between the two representations so the situation with two
>>>> competing models is a bit unfortunate. I'm also not sure about which of
>>>> these models are objectively "better" than the other?
>>>>
>>>> 2. One could get better space efficiency with protobuf instead of
>>>> flatbuffers, but it has a performance cost. I have not gone far into
>>>> investigating how much though and one could even reason about supporting
>>>> both these encodings in a single format specification but it's taking it a
>>>> bit far I think.
>>>>
>>>> 3. Is there a reason to support different packing strategies for the
>>>> R-Tree or is Packed Hilbert a good compromise (besides it being beautifully
>>>> simple to implement)?
>>>>
>>>> 4. FlatGeobuf is perhaps a too technical name, not catchy enough and
>>>> has a bad/boring abbreviation. Other candidates I've considered are
>>>> OpenGeoFile, OpenVectorFile or OpenSpatialFile but I'm undecided. Any
>>>> ideas? :)
>>>>
>>>> Regards,
>>>>
>>>> Björn Harrtell
>>>>
>>> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Darafei Praliaskouski
Support me: http://patreon.com/komzpa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/6fca1f14/attachment-0001.html>

From rprovin at altoa.fr  Mon Feb 25 06:44:35 2019
From: rprovin at altoa.fr (PROVIN)
Date: Mon, 25 Feb 2019 11:44:35 -0300
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
Message-ID: <000901d4cd18$a0cc26b0$e2647410$@fr>

Hello Jeff,

Thank you for your answer, I had tried that already (I usually compile GDAL
this way with NMAKE),

but I had the exact same error.

 

Maybe this has to do with my installation of Visual Studio ?

 

 

Remi

 

 

 

Hi Remi,
 
Personally I'd recommend using the provided nmake.opt inside GDAL's root 
directory, and modifying that for your own local libraries.  (note that 
the cleanest way to do this is to create a new file 'nmake.local' and 
put your settings in there, leaving the distributed nmake.opt as 
reference only, and then execute that with the command:
 
        nmake /f makefile.vc
 
(others may recommend using the *.bat magic, but sometimes the raw 
commandline is more fun ha)
 
Have a nice weekend,
 
-jeff
 
 
 
 
On 2019-02-21 9:18 AM, PROVIN wrote:
> Hello,
> 
> I am trying to compile GDAL (version 2.40, but I also tried 2.3.1) with 
> Visual 2017 in 32 bits.
> 
> I used the generate_vcxproj.bat to generate my Visual project / 
> solution, this way (as indicated) :
> 
> generate_vcxproj.bat   15.0 32 gdal_vs2017
> 
> The compilation gives the following error :
> 
> fatal error C1083: Impossible d'ouvrir le fichier include : 'stdio.h' : 
> No such file or directory (compilation du fichier source cpl_list.cpp)
> 
> I have this error for all the files cpl_XXXX.cpp  of "port" folder.
> 
> It is strange because these files are accessible when I right click on 
> the line
> 
> #include <stdio>
> 
> and open the file.
> 
> I tried to retarget the project, tried to reinstall Visual 2017.
> 
> I would be glad if anyone had any advice !
> 
> Thank you,
> 
> REMI
> 
 
-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

 

 

sgn

 

Rémi PROVIN

Ingénieur géomatique 

 854 route de Rémire - 97354 Rémire Montjoly

tél : 05-94-25-61-93 - fax : 05-94-25-61-94  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/c8b5dfa9/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 5615 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/c8b5dfa9/attachment.png>

From jmckenna at gatewaygeomatics.com  Mon Feb 25 07:20:33 2019
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Mon, 25 Feb 2019 11:20:33 -0400
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
In-Reply-To: <000901d4cd18$a0cc26b0$e2647410$@fr>
References: <000901d4cd18$a0cc26b0$e2647410$@fr>
Message-ID: <912fb330-53f5-8d96-4709-72ba212fd9d7@gatewaygeomatics.com>

On 2019-02-25 10:44 AM, PROVIN wrote:
> Hello Jeff,
> 
> Thank you for your answer, I had tried that already (I usually compile 
> GDAL this way with NMAKE),
> 
> but I had the exact same error.
> 
> Maybe this has to do with my installation of Visual Studio ?
> 

Possibly yes.  If you google "stdio.h visual studio 2017" you will see 
many people with instructions on how to make sure the proper Windows SDK 
version is used.

-jeff




-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

From jluis at ualg.pt  Mon Feb 25 07:22:49 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Mon, 25 Feb 2019 15:22:49 +0000
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
In-Reply-To: <000901d4cd18$a0cc26b0$e2647410$@fr>
References: <000901d4cd18$a0cc26b0$e2647410$@fr>
Message-ID: <DB7PR04MB4316ECFB4FD0A77B3EC9070EA67A0@DB7PR04MB4316.eurprd04.prod.outlook.com>

You are running the nmake command from within a cmd window where you had previously run the vcvarsall.bat for 32 bits, right?

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of PROVIN
Sent: Monday, February 25, 2019 2:45 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits

Hello Jeff,
Thank you for your answer, I had tried that already (I usually compile GDAL this way with NMAKE),
but I had the exact same error.

Maybe this has to do with my installation of Visual Studio ?


Remi




Hi Remi,



Personally I'd recommend using the provided nmake.opt inside GDAL's root

directory, and modifying that for your own local libraries.  (note that

the cleanest way to do this is to create a new file 'nmake.local' and

put your settings in there, leaving the distributed nmake.opt as

reference only, and then execute that with the command:



        nmake /f makefile.vc



(others may recommend using the *.bat magic, but sometimes the raw

commandline is more fun ha)



Have a nice weekend,



-jeff









On 2019-02-21 9:18 AM, PROVIN wrote:

> Hello,

>

> I am trying to compile GDAL (version 2.40, but I also tried 2.3.1) with

> Visual 2017 in 32 bits.

>

> I used the generate_vcxproj.bat to generate my Visual project /

> solution, this way (as indicated) :

>

> generate_vcxproj.bat   15.0 32 gdal_vs2017

>

> The compilation gives the following error :

>

> fatal error C1083: Impossible d'ouvrir le fichier include : 'stdio.h' :

> No such file or directory (compilation du fichier source cpl_list.cpp)

>

> I have this error for all the files cpl_XXXX.cpp  of "port" folder.

>

> It is strange because these files are accessible when I right click on

> the line

>

> #include <stdio>

>

> and open the file.

>

> I tried to retarget the project, tried to reinstall Visual 2017.

>

> I would be glad if anyone had any advice !

>

> Thank you,

>

> REMI

>



--

Jeff McKenna

MapServer Consulting and Training Services

https://gatewaygeomatics.com/


[sgn]

Rémi PROVIN
Ingénieur géomatique
 854 route de Rémire - 97354 Rémire Montjoly
tél : 05-94-25-61-93 - fax : 05-94-25-61-94

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/6d0dc01f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 5615 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/6d0dc01f/attachment-0001.png>

From rprovin at altoa.fr  Mon Feb 25 07:42:37 2019
From: rprovin at altoa.fr (PROVIN)
Date: Mon, 25 Feb 2019 12:42:37 -0300
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
In-Reply-To: <DB7PR04MB4316ECFB4FD0A77B3EC9070EA67A0@DB7PR04MB4316.eurprd04.prod.outlook.com>
References: <000901d4cd18$a0cc26b0$e2647410$@fr>
 <DB7PR04MB4316ECFB4FD0A77B3EC9070EA67A0@DB7PR04MB4316.eurprd04.prod.outlook.com>
Message-ID: <001701d4cd20$bcac6810$36053830$@fr>

Hello Joaquim,

Thank you for answering , 

 

I run nmake from within the x86 Command prompt for VS 2017, and no I had not
previously run that batch.

 

I just tried that tough, and ran the command :

vcvarsall.abt  x86  10.0.17763.0   

(that's my version of the windows SDK), I got "The specified configuration
type is missing. The tools for the configuration might not be installed".

 

Do you know what it means ?

 

Thanks,

 

Rémi

 

 

 

 

De : Joaquim Manuel Freire Luís [mailto:jluis at ualg.pt] 
Envoyé : lundi 25 février 2019 12:23
À : PROVIN; gdal-dev at lists.osgeo.org
Objet : RE: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits

 

You are running the nmake command from within a cmd window where you had
previously run the vcvarsall.bat for 32 bits, right?

 

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of PROVIN
Sent: Monday, February 25, 2019 2:45 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits

 

Hello Jeff,

Thank you for your answer, I had tried that already (I usually compile GDAL
this way with NMAKE),

but I had the exact same error.

 

Maybe this has to do with my installation of Visual Studio ?

 

 

Remi

 

 

 

Hi Remi,
 
Personally I'd recommend using the provided nmake.opt inside GDAL's root 
directory, and modifying that for your own local libraries.  (note that 
the cleanest way to do this is to create a new file 'nmake.local' and 
put your settings in there, leaving the distributed nmake.opt as 
reference only, and then execute that with the command:
 
        nmake /f makefile.vc
 
(others may recommend using the *.bat magic, but sometimes the raw 
commandline is more fun ha)
 
Have a nice weekend,
 
-jeff
 
 
 
 
On 2019-02-21 9:18 AM, PROVIN wrote:
> Hello,
> 
> I am trying to compile GDAL (version 2.40, but I also tried 2.3.1) with 
> Visual 2017 in 32 bits.
> 
> I used the generate_vcxproj.bat to generate my Visual project / 
> solution, this way (as indicated) :
> 
> generate_vcxproj.bat   15.0 32 gdal_vs2017
> 
> The compilation gives the following error :
> 
> fatal error C1083: Impossible d'ouvrir le fichier include : 'stdio.h' : 
> No such file or directory (compilation du fichier source cpl_list.cpp)
> 
> I have this error for all the files cpl_XXXX.cpp  of "port" folder.
> 
> It is strange because these files are accessible when I right click on 
> the line
> 
> #include <stdio>
> 
> and open the file.
> 
> I tried to retarget the project, tried to reinstall Visual 2017.
> 
> I would be glad if anyone had any advice !
> 
> Thank you,
> 
> REMI
> 
 
-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

 

 

sgn

 

Rémi PROVIN

Ingénieur géomatique 

 854 route de Rémire - 97354 Rémire Montjoly

tél : 05-94-25-61-93 - fax : 05-94-25-61-94  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/323692b4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 5615 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/323692b4/attachment-0001.png>

From jluis at ualg.pt  Mon Feb 25 07:47:45 2019
From: jluis at ualg.pt (=?iso-8859-1?Q?Joaquim_Manuel_Freire_Lu=EDs?=)
Date: Mon, 25 Feb 2019 15:47:45 +0000
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits
In-Reply-To: <001701d4cd20$bcac6810$36053830$@fr>
References: <000901d4cd18$a0cc26b0$e2647410$@fr>
 <DB7PR04MB4316ECFB4FD0A77B3EC9070EA67A0@DB7PR04MB4316.eurprd04.prod.outlook.com>
 <001701d4cd20$bcac6810$36053830$@fr>
Message-ID: <DB7PR04MB4316DDD771389AE855C0C276A67A0@DB7PR04MB4316.eurprd04.prod.outlook.com>

You would run it with a command like this

"C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Auxiliary\Build\vcvars32.bat" x86

I do it this way because I also want to control the path and thus avoid contamination from other parts of my otherwise potentially messy environment. But since you run from the "x86 Command prompt for VS 2017" the vcvars32.bat was already run for you so no need to worry about that. The source of your trouble must me than be something else.




Hello Joaquim,
Thank you for answering ,

I run nmake from within the x86 Command prompt for VS 2017, and no I had not previously run that batch.

I just tried that tough, and ran the command :
vcvarsall.abt  x86  10.0.17763.0
(that's my version of the windows SDK), I got "The specified configuration type is missing. The tools for the configuration might not be installed".

Do you know what it means ?

Thanks,

Rémi




De : Joaquim Manuel Freire Luís [mailto:jluis at ualg.pt]
Envoyé : lundi 25 février 2019 12:23
À : PROVIN; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Objet : RE: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits

You are running the nmake command from within a cmd window where you had previously run the vcvarsall.bat for 32 bits, right?

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> On Behalf Of PROVIN
Sent: Monday, February 25, 2019 2:45 PM
To: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: [gdal-dev] Can't compile GDAL 2.4.0 with Visual 2017 - 32 bits

Hello Jeff,
Thank you for your answer, I had tried that already (I usually compile GDAL this way with NMAKE),
but I had the exact same error.

Maybe this has to do with my installation of Visual Studio ?


Remi




Hi Remi,



Personally I'd recommend using the provided nmake.opt inside GDAL's root

directory, and modifying that for your own local libraries.  (note that

the cleanest way to do this is to create a new file 'nmake.local' and

put your settings in there, leaving the distributed nmake.opt as

reference only, and then execute that with the command:



        nmake /f makefile.vc



(others may recommend using the *.bat magic, but sometimes the raw

commandline is more fun ha)



Have a nice weekend,



-jeff









On 2019-02-21 9:18 AM, PROVIN wrote:

> Hello,

>

> I am trying to compile GDAL (version 2.40, but I also tried 2.3.1) with

> Visual 2017 in 32 bits.

>

> I used the generate_vcxproj.bat to generate my Visual project /

> solution, this way (as indicated) :

>

> generate_vcxproj.bat   15.0 32 gdal_vs2017

>

> The compilation gives the following error :

>

> fatal error C1083: Impossible d'ouvrir le fichier include : 'stdio.h' :

> No such file or directory (compilation du fichier source cpl_list.cpp)

>

> I have this error for all the files cpl_XXXX.cpp  of "port" folder.

>

> It is strange because these files are accessible when I right click on

> the line

>

> #include <stdio>

>

> and open the file.

>

> I tried to retarget the project, tried to reinstall Visual 2017.

>

> I would be glad if anyone had any advice !

>

> Thank you,

>

> REMI

>



--

Jeff McKenna

MapServer Consulting and Training Services

https://gatewaygeomatics.com/


[sgn]

Rémi PROVIN
Ingénieur géomatique
 854 route de Rémire - 97354 Rémire Montjoly
tél : 05-94-25-61-93 - fax : 05-94-25-61-94

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/140eb1ab/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 5615 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190225/140eb1ab/attachment-0001.png>

From ari.jolma at gmail.com  Tue Feb 26 00:58:34 2019
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 26 Feb 2019 10:58:34 +0200
Subject: [gdal-dev] gdalinfo of a WMS layer
Message-ID: <eb99eb8f-12a1-38e2-f73c-923194c3634b@gmail.com>

I'm wondering why

gdalinfo "WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta"

and

gdalinfo 
"WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta&srs=epsg:3857"

both report corner coordinates in degrees although the second one 
reports EPSG 3857?

What am I missing?

I'm trying to gdal_translate a piece from that WMS into a local file but 
don't seem to succeed.

Ari



From andrew at aitchison.me.uk  Tue Feb 26 01:42:32 2019
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Tue, 26 Feb 2019 09:42:32 +0000 (GMT)
Subject: [gdal-dev] gdalinfo of a WMS layer
In-Reply-To: <eb99eb8f-12a1-38e2-f73c-923194c3634b@gmail.com>
References: <eb99eb8f-12a1-38e2-f73c-923194c3634b@gmail.com>
Message-ID: <alpine.DEB.2.21.1902260917090.19860@warden.aitchison.me.uk>

On Tue, 26 Feb 2019, Ari Jolma wrote:

> I'm wondering why
>
> gdalinfo "WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta"
>
> and
>
> gdalinfo 
> "WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta&srs=epsg:3857"
>
> both report corner coordinates in degrees although the second one reports 
> EPSG 3857?
>
> What am I missing?

>From man gdalinfo

      The gdalinfo will report all of the following (if known):
 	...
 	Corner coordinates in georeferenced, and if possible lat/long
 	based on the full geotransform (but not GCPs).

... so this is a feature of gdalinfo.

From even.rouault at spatialys.com  Tue Feb 26 02:03:25 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 26 Feb 2019 11:03:25 +0100
Subject: [gdal-dev] gdalinfo of a WMS layer
In-Reply-To: <alpine.DEB.2.21.1902260917090.19860@warden.aitchison.me.uk>
References: <eb99eb8f-12a1-38e2-f73c-923194c3634b@gmail.com>
 <alpine.DEB.2.21.1902260917090.19860@warden.aitchison.me.uk>
Message-ID: <4636056.W2aJpSYBPs@even-i700>

On mardi 26 février 2019 09:42:32 CET Andrew C Aitchison wrote:
> On Tue, 26 Feb 2019, Ari Jolma wrote:
> > I'm wondering why
> > 
> > gdalinfo
> > "WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta"
> > 
> > and
> > 
> > gdalinfo
> > "WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta&srs=eps
> > g:3857"
> > 
> > both report corner coordinates in degrees although the second one reports
> > EPSG 3857?
> > 
> > What am I missing?
> 
> From man gdalinfo
> 
>       The gdalinfo will report all of the following (if known):
>  	...
>  	Corner coordinates in georeferenced, and if possible lat/long
>  	based on the full geotransform (but not GCPs).
> 
> ... so this is a feature of gdalinfo.

No. Ari's issue is different


Ari, if you do
gdalinfo "WMS:http://tiles.kartat.kapsi.fi/taustakartta?layers=taustakartta&srs=epsg:3857"
you go through https://github.com/OSGeo/gdal/blob/master/gdal/frmts/wms/wmsdriver.cpp#L63
which doesn't issue a GetCapabilities request at all, but take URL parameters and some default values to
create the XML definition file

What you can do is:
- the same, but without the layers= URL option
gdalinfo "WMS:http://tiles.kartat.kapsi.fi/taustakartta?srs=epsg:3857"
- and from the reported subdatasets:
gdalinfo "WMS:http://tiles.kartat.kapsi.fi/taustakartta?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&LAYERS=taustakartta&SRS=EPSG:3857&BBOX=1.59575e+06,8.18004e+06,3.85994e+06,1.12226e+07
"

GDALWMSDatasetGetConfigFromURL() should probably have some restrictions/warnings
in the case where SRS is defined to something else than EPSG:4326 but BBOX is not defined.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From E.Nash at dvz-mv.de  Tue Feb 26 09:14:32 2019
From: E.Nash at dvz-mv.de (Nash, Edward)
Date: Tue, 26 Feb 2019 17:14:32 +0000
Subject: [gdal-dev] PHP_OGR
Message-ID: <07773d4f31fa4327be9c5fe5b68856ef@dvz-mv.de>

Hi devs,

If there's anyone out there using or supporting PHP then you may be interested that I recently pushed an update to PHP_OGR (yes, forked from the original from DM Solutions exhumed from CVS!) to GitHub [1] which adds support for PHP7, a bunch of functions for coordinate systems (OSR API) and some reworked and extended PHPUnit tests.

It's not necessarily pretty or modern, and doesn't cover everything in the current API, but it is still very functional and allows access to at least some of the main OGR functions directly from PHP.

If there's anyone out there who would like to take it for a spin on different systems (tested so far only on Debian Jessie and Stretch), then I'd be very happy to accept any resulting pull requests.

Cheers,

Edward


[1] https://github.com/dvzgeo/php_ogr

--

Edward Nash
Sachgebiet Geoinformation
E-Mail  E.Nash at dvz-mv.de<mailto:E.Nash at dvz-mv.de>
Telefon: +49 385 4800 527
Telefax: +49 385 4800 98 527
Mobilfunk: +49 170 454 7434
Internet: www.dvz-mv.de<http://www.dvz-mv.de/>
_____________________________________

DVZ Datenverarbeitungszentrum
Mecklenburg-Vorpommern GmbH
Lübecker Str. 283 - 19059 Schwerin
Sitz der Gesellschaft: Schwerin | Eintrag im Handelsregister: HRB 187/ Amtsgericht Schwerin
Geschäftsführer:  Hubert Ludwig | Aufsichtsratsvorsitzender: Staatssekretärin Ina-Maria Ulbrich
_____________________________________

Allgemeine Datenschutzinformation: Der telefonische, schriftliche oder elektronische Kontakt ist ggf. mit der Speicherung und Verarbeitung der von Ihnen mitgeteilten persönlichen Daten verbunden. Sollte die DVZ M-V GmbH Daten von Ihnen erhalten, dann werden diese zweckbezogen erhoben und verarbeitet. Eine Datenverarbeitung zu anderen Zwecken kommt nur dann in Betracht, wenn die insoweit erforderlichen rechtlichen Vorgaben gemäß Art. 6 Abs. 4 DSGVO vorliegen. Die DVZ M-V GmbH beachtet etwaige Informationspflichten nach Art. 13 Abs. 3 DSGVO und Art. 14 Abs. 4 DSGVO sowie das Widerspruchsrecht nach Art. 21 DSGVO. Weitere Informationen erhalten Sie auf https://www.dvz-mv.de/Datenschutz/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190226/027e1166/attachment.html>

From jmckenna at gatewaygeomatics.com  Tue Feb 26 10:17:28 2019
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Tue, 26 Feb 2019 14:17:28 -0400
Subject: [gdal-dev] PHP_OGR
In-Reply-To: <07773d4f31fa4327be9c5fe5b68856ef@dvz-mv.de>
References: <07773d4f31fa4327be9c5fe5b68856ef@dvz-mv.de>
Message-ID: <c8b88c71-fee4-f8e1-36be-dc80bdfd7cfd@gatewaygeomatics.com>

Hi Edward,

For many years (decade?) I distributed the PHP/OGR extension for Windows 
users, in MS4W.  Since the extension was unmaintained I had removed it, 
but, hearing that you have revived it, I will re-add it back into MS4W 
(version 4, which includes PHP 7.2.x).  If you wish to follow along with 
this, here is the ticket that I will use to track adding it: 
https://ms4w.com/trac/ticket/190  I imagine I may have some 'fun' trying 
to adapt the old makefile.vc for PHP7 ;)

Thanks!

-jeff



On 2019-02-26 1:14 PM, Nash, Edward wrote:
> Hi devs,
> 
> If there’s anyone out there using or supporting PHP then you may be 
> interested that I recently pushed an update to PHP_OGR (yes, forked from 
> the original from DM Solutions exhumed from CVS!) to GitHub [1] which 
> adds support for PHP7, a bunch of functions for coordinate systems (OSR 
> API) and some reworked and extended PHPUnit tests.
> 
> It’s not necessarily pretty or modern, and doesn’t cover everything in 
> the current API, but it is still very functional and allows access to at 
> least some of the main OGR functions directly from PHP.
> 
> If there’s anyone out there who would like to take it for a spin on 
> different systems (tested so far only on Debian Jessie and Stretch), 
> then I’d be very happy to accept any resulting pull requests.
> 
> Cheers,
> 
> Edward
> 
> [1] https://github.com/dvzgeo/php_ogr
> 
> --
> 
> Edward Nash
> 
> Sachgebiet Geoinformation
> 
> E-Mail E.Nash at dvz-mv.de <mailto:E.Nash at dvz-mv.de>
> 
> Telefon: +49 385 4800 527
> 
> Telefax: +49 385 4800 98 527
> 
> Mobilfunk: +49 170 454 7434
> 
> Internet: www.dvz-mv.de <http://www.dvz-mv.de/>
> 
> _____________________________________
> 
> DVZ Datenverarbeitungszentrum
> 
> Mecklenburg-Vorpommern GmbH
> 
> Lübecker Str. 283 - 19059 Schwerin
> 
> Sitz der Gesellschaft: Schwerin | Eintrag im Handelsregister: HRB 187/ 
> Amtsgericht Schwerin
> 
> Geschäftsführer:  Hubert Ludwig | Aufsichtsratsvorsitzender: 
> Staatssekretärin Ina-Maria Ulbrich
> 
> _____________________________________
> 
> Allgemeine Datenschutzinformation: Der telefonische, schriftliche oder 
> elektronische Kontakt ist ggf. mit der Speicherung und Verarbeitung der 
> von Ihnen mitgeteilten persönlichen Daten verbunden. Sollte die DVZ M-V 
> GmbH Daten von Ihnen erhalten, dann werden diese zweckbezogen erhoben 
> und verarbeitet. Eine Datenverarbeitung zu anderen Zwecken kommt nur 
> dann in Betracht, wenn die insoweit erforderlichen rechtlichen Vorgaben 
> gemäß Art. 6 Abs. 4 DSGVO vorliegen. Die DVZ M-V GmbH beachtet etwaige 
> Informationspflichten nach Art. 13 Abs. 3 DSGVO und Art. 14 Abs. 4 DSGVO 
> sowie das Widerspruchsrecht nach Art. 21 DSGVO. Weitere Informationen 
> erhalten Sie auf https://www.dvz-mv.de/Datenschutz/
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Jeff McKenna
MapServer Consulting and Training Services
https://gatewaygeomatics.com/

From gdal at geoworld.de  Tue Feb 26 11:42:41 2019
From: gdal at geoworld.de (Nicol Hermann)
Date: Tue, 26 Feb 2019 20:42:41 +0100
Subject: [gdal-dev] PHP_OGR
In-Reply-To: <07773d4f31fa4327be9c5fe5b68856ef@dvz-mv.de>
References: <07773d4f31fa4327be9c5fe5b68856ef@dvz-mv.de>
Message-ID: <e0b8073e59922c5c0288c0a855067c43d6c3b2d5.camel@geoworld.de>

Hello Edward,

I am definitely interested and will give it a try on my systems (Debian
buster, 1&1 Shared hosting).
Thanks for your effort to reactivate it!

Nicol


Am Dienstag, den 26.02.2019, 17:14 +0000 schrieb Nash, Edward:
> Hi devs,
>  
> If there’s anyone out there using or supporting PHP then you may be
> interested that I recently pushed an update to PHP_OGR (yes, forked
> from the original from DM Solutions exhumed from CVS!) to GitHub [1]
> which adds support for PHP7, a bunch of functions for coordinate
> systems (OSR API) and some reworked and extended PHPUnit tests.
>  
> It’s not necessarily pretty or modern, and doesn’t cover everything
> in the current API, but it is still very functional and allows access
> to at least some of the main OGR functions directly from PHP.
>  
> If there’s anyone out there who would like to take it for a spin on
> different systems (tested so far only on Debian Jessie and Stretch),
> then I’d be very happy to accept any resulting pull requests.
>  
> Cheers,
>  
> Edward
>  
>  
> [1] https://github.com/dvzgeo/php_ogr
>  
> --
>  
> Edward Nash
> Sachgebiet Geoinformation
> E-Mail  E.Nash at dvz-mv.de
> Telefon: +49 385 4800 527
> Telefax: +49 385 4800 98 527
> Mobilfunk: +49 170 454 7434
> Internet: www.dvz-mv.de
> _____________________________________
>  
> DVZ Datenverarbeitungszentrum
> Mecklenburg-Vorpommern GmbH
> Lübecker Str. 283 - 19059 Schwerin
> Sitz der Gesellschaft: Schwerin | Eintrag im Handelsregister: HRB
> 187/ Amtsgericht Schwerin
> Geschäftsführer:  Hubert Ludwig | Aufsichtsratsvorsitzender:
> Staatssekretärin Ina-Maria Ulbrich
> _____________________________________
>  
> Allgemeine Datenschutzinformation: Der telefonische, schriftliche
> oder elektronische Kontakt ist ggf. mit der Speicherung und
> Verarbeitung der von Ihnen mitgeteilten persönlichen Daten verbunden.
> Sollte die DVZ M-V GmbH Daten von Ihnen erhalten, dann werden diese
> zweckbezogen erhoben und verarbeitet. Eine Datenverarbeitung zu
> anderen Zwecken kommt nur dann in Betracht, wenn die insoweit
> erforderlichen rechtlichen Vorgaben gemäß Art. 6 Abs. 4 DSGVO
> vorliegen. Die DVZ M-V GmbH beachtet etwaige Informationspflichten
> nach Art. 13 Abs. 3 DSGVO und Art. 14 Abs. 4 DSGVO sowie das
> Widerspruchsrecht nach Art. 21 DSGVO. Weitere Informationen erhalten
> Sie auf https://www.dvz-mv.de/Datenschutz/
>  
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev


From E.Nash at dvz-mv.de  Tue Feb 26 22:47:36 2019
From: E.Nash at dvz-mv.de (Nash, Edward)
Date: Wed, 27 Feb 2019 06:47:36 +0000
Subject: [gdal-dev] PHP_OGR
In-Reply-To: <c8b88c71-fee4-f8e1-36be-dc80bdfd7cfd@gatewaygeomatics.com>
References: <07773d4f31fa4327be9c5fe5b68856ef@dvz-mv.de>
 <c8b88c71-fee4-f8e1-36be-dc80bdfd7cfd@gatewaygeomatics.com>
Message-ID: <2fb5e4a652e9460194e8efe8d742a9c1@dvz-mv.de>

Hi Jeff,

that's great. I pulled in a couple of commits from Alexander Gabriel that had to do with building on Windows, but I've no idea whether he actually managed to do that successfully - and in any case that would still have been for PHP 5. For PHP7 on Linux I actually didn't need to make any changes in the makefile at all.

Unfortunately I can't really offer much help on the Windows front - but since I do occasionally use ms4w then I wish you success!

Regards,

Edward

-----Ursprüngliche Nachricht-----
Von: gdal-dev [mailto:gdal-dev-bounces at lists.osgeo.org] Im Auftrag von Jeff McKenna
Gesendet: Dienstag, 26. Februar 2019 19:17
An: gdal-dev at lists.osgeo.org
Betreff: Re: [gdal-dev] PHP_OGR

Hi Edward,

For many years (decade?) I distributed the PHP/OGR extension for Windows users, in MS4W.  Since the extension was unmaintained I had removed it, but, hearing that you have revived it, I will re-add it back into MS4W (version 4, which includes PHP 7.2.x).  If you wish to follow along with this, here is the ticket that I will use to track adding it: 
https://ms4w.com/trac/ticket/190  I imagine I may have some 'fun' trying to adapt the old makefile.vc for PHP7 ;)

Thanks!

-jeff



On 2019-02-26 1:14 PM, Nash, Edward wrote:
> Hi devs,
> 
> If there’s anyone out there using or supporting PHP then you may be 
> interested that I recently pushed an update to PHP_OGR (yes, forked 
> from the original from DM Solutions exhumed from CVS!) to GitHub [1] 
> which adds support for PHP7, a bunch of functions for coordinate 
> systems (OSR
> API) and some reworked and extended PHPUnit tests.
> 
> It’s not necessarily pretty or modern, and doesn’t cover everything in 
> the current API, but it is still very functional and allows access to 
> at least some of the main OGR functions directly from PHP.
> 
> If there’s anyone out there who would like to take it for a spin on 
> different systems (tested so far only on Debian Jessie and Stretch), 
> then I’d be very happy to accept any resulting pull requests.
> 
> Cheers,
> 
> Edward
> 
> [1] https://github.com/dvzgeo/php_ogr
> 
> --
> 
> Edward Nash
> 
> Sachgebiet Geoinformation
> 
> E-Mail E.Nash at dvz-mv.de <mailto:E.Nash at dvz-mv.de>
> 
> Telefon: +49 385 4800 527
> 
> Telefax: +49 385 4800 98 527
> 
> Mobilfunk: +49 170 454 7434
> 
> Internet: www.dvz-mv.de <http://www.dvz-mv.de/>
> 
> _____________________________________
> 
> DVZ Datenverarbeitungszentrum
> 
> Mecklenburg-Vorpommern GmbH
> 
> Lübecker Str. 283 - 19059 Schwerin
> 
> Sitz der Gesellschaft: Schwerin | Eintrag im Handelsregister: HRB 187/ 
> Amtsgericht Schwerin
> 
> Geschäftsführer:  Hubert Ludwig | Aufsichtsratsvorsitzender: 
> Staatssekretärin Ina-Maria Ulbrich
> 
> _____________________________________
> 
> Allgemeine Datenschutzinformation: Der telefonische, schriftliche oder 
> elektronische Kontakt ist ggf. mit der Speicherung und Verarbeitung 
> der von Ihnen mitgeteilten persönlichen Daten verbunden. Sollte die 
> DVZ M-V GmbH Daten von Ihnen erhalten, dann werden diese zweckbezogen 
> erhoben und verarbeitet. Eine Datenverarbeitung zu anderen Zwecken 
> kommt nur dann in Betracht, wenn die insoweit erforderlichen 
> rechtlichen Vorgaben gemäß Art. 6 Abs. 4 DSGVO vorliegen. Die DVZ M-V 
> GmbH beachtet etwaige Informationspflichten nach Art. 13 Abs. 3 DSGVO 
> und Art. 14 Abs. 4 DSGVO sowie das Widerspruchsrecht nach Art. 21 
> DSGVO. Weitere Informationen erhalten Sie auf 
> https://www.dvz-mv.de/Datenschutz/
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


--
Jeff McKenna
MapServer Consulting and Training Services https://gatewaygeomatics.com/ _______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://lists.osgeo.org/mailman/listinfo/gdal-dev

From bart.ooms at vito.be  Tue Feb 26 23:11:46 2019
From: bart.ooms at vito.be (Ooms Bart)
Date: Wed, 27 Feb 2019 07:11:46 +0000
Subject: [gdal-dev] blocksize and overviews
Message-ID: <1551251622506.21371@vito.be>

Hello all,
I have a grid on a 1m resolution with a tilesize of 8000x8000.
To speed up the rendering process I have created overviews with gdaladdo, the result you can see in the gdalinfo below.
The default blocksize is 512x512.
My questing handles the combination of blocksize and overviews. The blocksize is 512x512 and the lowest resolution of the overview generates a block of 63x63. Are the lower resolution overviews usefull? I suppose it is only usefull to create overviews until 500x500 if I have a blocksize of 512x512. Am I right?

[root at -appl bin]# gdalinfo /dsg/data/2d008/01/01/box_524_5689_hist.tiff
Driver: GTiff/GeoTIFF
Files: /dsg/data/2008/01/01/box_524_5689_hist.tiff
Size is 8000, 8000
Coordinate System is:
PROJCS["ETRS89 / UTM zone 31N",
    GEOGCS["ETRS89",
        DATUM["European_Terrestrial_Reference_System_1989",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6258"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4258"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",3],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","25831"]]
Origin = (524000.000000000000000,5696999.000000000000000)
Pixel Size = (1.000000000000000,-1.000000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=LZW
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  524000.000, 5696999.000) (  3d20'42.66"E, 51d25'25.28"N)
Lower Left  (  524000.000, 5688999.000) (  3d20'40.71"E, 51d21' 6.32"N)
Upper Right (  532000.000, 5696999.000) (  3d27'36.86"E, 51d25'23.86"N)
Lower Right (  532000.000, 5688999.000) (  3d27'34.27"E, 51d21' 4.90"N)
Center      (  528000.000, 5692999.000) (  3d24' 8.62"E, 51d23'15.14"N)
Band 1 Block=512x512 Type=Int16, ColorInterp=Gray
  NoData Value=10000
  Overviews: 4000x4000, 2000x2000, 1000x1000, 500x500, 250x250, 125x125, 63x63


Indien u VITO Mol bezoekt, hou aub er dan rekening mee dat de hoofdingang voortaan enkel bereikbaar is vanuit de richting Dessel-Retie, niet vanuit richting Mol, zie vito.be/route.<http://www.vito.be/route>
If you plan to visit VITO at Mol, then please note that the main entrance can only be reached coming from Dessel-Retie and no longer coming from Mol, see vito.be/en/contact/locations.<http://www.vito.be/en/contact/locations>
VITO Disclaimer: http://www.vito.be/e-maildisclaimer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190227/ef587277/attachment.html>

From andrew at aitchison.me.uk  Wed Feb 27 00:27:22 2019
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Wed, 27 Feb 2019 08:27:22 +0000 (GMT)
Subject: [gdal-dev] blocksize and overviews
In-Reply-To: <1551251622506.21371@vito.be>
References: <1551251622506.21371@vito.be>
Message-ID: <alpine.DEB.2.21.1902270808570.17591@warden.aitchison.me.uk>

On Wed, 27 Feb 2019, Ooms Bart wrote:

> Hello all,
> I have a grid on a 1m resolution with a tilesize of 8000x8000.
> To speed up the rendering process I have created overviews with gdaladdo, the result you can see in the gdalinfo below.
> The default blocksize is 512x512.
> My questing handles the combination of blocksize and overviews.
> The blocksize is 512x512 and the lowest resolution of the overview
> generates a block of 63x63. Are the lower resolution overviews usefull? 
> I suppose it is only usefull to create overviews until 500x500
> if I have a blocksize of 512x512. Am I right?

It depends how the set will be viewed.

In any particular view of the data, the most useful overview has pixels 
which are about the same size as the display pixels.

-- 
Andrew C. Aitchison					Cambridge, UK
 			andrew at aitchison.me.uk

From orangewombat at gmail.com  Wed Feb 27 07:08:27 2019
From: orangewombat at gmail.com (andrewparadis)
Date: Wed, 27 Feb 2019 08:08:27 -0700 (MST)
Subject: [gdal-dev] HDF5 Multi-threading Errors
Message-ID: <1551280107529-0.post@n6.nabble.com>

I am working in a .NET (4.5.2) environment, using GDAL v2.3.3 (along with the
Native and Plugins packages). The HDF5 driver is version 1.8.14. The
elevation source I'm using is dbdbv6_level0c.h5, supplied by NAVOCEANO, and
is version 6.2. There are 1,700 subdatasets (each 600x600 float-32) in the
.h5.

In our application, a map engine makes asynchronous requests for slippy map
tiles. At small zoom levels, these requests are passed to our ETOPO1
elevation source (which uses the ESRI driver, source file
etopo1_ice_g_f4.flt), but at larger zoom levels, we poll the DBDB-V source
summarized above.

As mentioned, these requests are asynchronous, and I've run into
multi-threading issues with the HDF5 driver. Everything "works as expected"
for the ESRI driver and ETOPO1 elevation data, but making the same requests
of DBDB-V / HDF5 results in various exceptions.

As a quick test application, I wrote this:



The output shows that the ETOPO1 source handles the parallel calls just
fine, but that the DBDB-V source fails:



The originating exception is thrown from the HDF5 library:



Finally, I should note that if the Parallel.For loop around the DBDB-V is
changed to a normal for-loop, then nothing bad happens... the application
outputs a sequential success story:



However, it takes *almost four seconds* (average is 3.8s) for every
Gdal.Open(...) call to DBDB-V! Compare this to the very quick response of
ETOPO1 (average 1 millisecond)... and it explains why we can't realistically
even consider synchronous calls to DBDB-V, and really need to understand why
it is failing in parallel.

I know that other questions have been asked about HDF5 multi-threading, but
they seemed to focus on building the HDF5 source locally. We don't have that
option - our data is supplied by NAVOCEANO "as is."

Very anxious to learn if anyone has a solution, or perhaps this is an issue
that could be fixed in an upcoming branch. Thanks!



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From orangewombat at gmail.com  Wed Feb 27 07:35:22 2019
From: orangewombat at gmail.com (andrewparadis)
Date: Wed, 27 Feb 2019 08:35:22 -0700 (MST)
Subject: [gdal-dev] HDF5 Multi-threading Errors
In-Reply-To: <1551280107529-0.post@n6.nabble.com>
References: <1551280107529-0.post@n6.nabble.com>
Message-ID: <1551281722501-0.post@n6.nabble.com>

Oops, apparently my "raw" blocks of code and output samples did not carry
over...

The test application mentioned is this:

private static void Main(string[] args)
{
    GdalConfiguration.ConfigureGdal();
    
    const string eTopoSource = @"F:\msa\testing\etopo\etopo1_ice_g_f4.flt";
    const string dbDbvSource = @"F:\msa\testing\dbdbv\dbdbv6_level0c.h5";

    Parallel.For(0, 4, i =>
    {
	Debug.WriteLine($"Opening Etopo... thread {i}");
	var etopoRaster = Gdal.Open(eTopoSource, Access.GA_ReadOnly);
	Debug.WriteLine($"-- Finished opening Etopo... thread {i}... " +
			$"size {etopoRaster.RasterXSize} x {etopoRaster.RasterYSize}");
    });

    Parallel.For(0, 4, i =>
    {
	Debug.WriteLine($"Opening Dbdb-V... thread {i}");
	var dbdbvRaster = Gdal.Open(dbDbvSource, Access.GA_ReadOnly);
	Debug.WriteLine($"-- Finished opening Dbdb-V... thread {i}... " +
			$"size {dbdbvRaster.RasterXSize} x {dbdbvRaster.RasterYSize}");
    });
}

The first batch of output (showing working ETOPO1, failing DBDB-V) is this:

Opening Etopo... thread 0
Opening Etopo... thread 1
Opening Etopo... thread 2
Opening Etopo... thread 3
-- Finished opening Etopo... thread 0... size 21601 x 10801
-- Finished opening Etopo... thread 1... size 21601 x 10801
-- Finished opening Etopo... thread 2... size 21601 x 10801
-- Finished opening Etopo... thread 3... size 21601 x 10801
Opening Dbdb-V... thread 0
Opening Dbdb-V... thread 3
Opening Dbdb-V... thread 1
Exception thrown: 'System.AccessViolationException' in gdal_csharp.dll
Opening Dbdb-V... thread 2
Exception thrown: 'System.AccessViolationException' in gdal_csharp.dll
Exception thrown: 'System.AccessViolationException' in gdal_csharp.dll
Exception thrown: 'System.AccessViolationException' in gdal_csharp.dll

The originating exception (from HDF5 lib) is this:

HDF5-DIAG: Error detected in HDF5 (1.8.14) thread 0:
  #000: E:\builds\hdf5-1.8.14\src\H5Gtraverse.c line 780 in
H5G_traverse_real():         
    major: File accessibilty
    minor: Unable to open file
  #4294967295: HµHµ line 2799 in (): m
    major: Symbol table
    minor: Object not found
ERROR 4: `F:\msa\testing\dbdbv\dbdbv6_level0c.h5' not recognized as a
supported file format.

Finally, the "successful" output (after making the DBDB-V calls sequentially
rather than in parallel) is this:

Opening Dbdb-V... thread 0
-- Finished opening Dbdb-V... thread 0... size 512 x 512
Opening Dbdb-V... thread 1
-- Finished opening Dbdb-V... thread 1... size 512 x 512
Opening Dbdb-V... thread 2
-- Finished opening Dbdb-V... thread 2... size 512 x 512
Opening Dbdb-V... thread 3
-- Finished opening Dbdb-V... thread 3... size 512 x 512

Sorry about that.



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From even.rouault at spatialys.com  Wed Feb 27 07:37:12 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 27 Feb 2019 16:37:12 +0100
Subject: [gdal-dev] HDF5 Multi-threading Errors
In-Reply-To: <1551280107529-0.post@n6.nabble.com>
References: <1551280107529-0.post@n6.nabble.com>
Message-ID: <2502170.b8byb5GGZN@even-i700>

Hi,

Part of your message didn't make it. See as it appears in
https://lists.osgeo.org/pipermail/gdal-dev/2019-February/049832.html

Do you have a link to that dbdbv6_level0c.h5 file ?

Regarding multi-threading, do you use a different GDAL dataset handle for each 
thread ? This is critical for proper behaviour. Some drivers might, by luck, 
work correctly with the same handle, but this is absolutely not guaranteed.

Even

> I am working in a .NET (4.5.2) environment, using GDAL v2.3.3 (along with
> the Native and Plugins packages). The HDF5 driver is version 1.8.14. The
> elevation source I'm using is dbdbv6_level0c.h5, supplied by NAVOCEANO, and
> is version 6.2. There are 1,700 subdatasets (each 600x600 float-32) in the
> .h5.
> 
> In our application, a map engine makes asynchronous requests for slippy map
> tiles. At small zoom levels, these requests are passed to our ETOPO1
> elevation source (which uses the ESRI driver, source file
> etopo1_ice_g_f4.flt), but at larger zoom levels, we poll the DBDB-V source
> summarized above.
> 
> As mentioned, these requests are asynchronous, and I've run into
> multi-threading issues with the HDF5 driver. Everything "works as expected"
> for the ESRI driver and ETOPO1 elevation data, but making the same requests
> of DBDB-V / HDF5 results in various exceptions.
> 
> As a quick test application, I wrote this:
> 
> 
> 
> The output shows that the ETOPO1 source handles the parallel calls just
> fine, but that the DBDB-V source fails:
> 
> 
> 
> The originating exception is thrown from the HDF5 library:
> 
> 
> 
> Finally, I should note that if the Parallel.For loop around the DBDB-V is
> changed to a normal for-loop, then nothing bad happens... the application
> outputs a sequential success story:
> 
> 
> 
> However, it takes *almost four seconds* (average is 3.8s) for every
> Gdal.Open(...) call to DBDB-V! Compare this to the very quick response of
> ETOPO1 (average 1 millisecond)... and it explains why we can't realistically
> even consider synchronous calls to DBDB-V, and really need to understand
> why it is failing in parallel.
> 
> I know that other questions have been asked about HDF5 multi-threading, but
> they seemed to focus on building the HDF5 source locally. We don't have that
> option - our data is supplied by NAVOCEANO "as is."
> 
> Very anxious to learn if anyone has a solution, or perhaps this is an issue
> that could be fixed in an upcoming branch. Thanks!
> 
> 
> 
> --
> Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From orangewombat at gmail.com  Wed Feb 27 07:47:33 2019
From: orangewombat at gmail.com (andrewparadis)
Date: Wed, 27 Feb 2019 08:47:33 -0700 (MST)
Subject: [gdal-dev] HDF5 Multi-threading Errors
In-Reply-To: <2502170.b8byb5GGZN@even-i700>
References: <1551280107529-0.post@n6.nabble.com> <2502170.b8byb5GGZN@even-i700>
Message-ID: <1551282453316-0.post@n6.nabble.com>

Link to the DBDB-V data (fyi, this is the level0 set, so it is unclassified,
and approved for public release):

https://drive.google.com/uc?export=download&id=1LADQLaIFd_8rnmBAWXl6LQWJQshjrE-p



--
Sent from: http://osgeo-org.1560.x6.nabble.com/GDAL-Dev-f3742093.html

From zhan.j.zhang at noaa.gov  Thu Feb 28 06:29:41 2019
From: zhan.j.zhang at noaa.gov (Zhan Zhang - NOAA Affiliate)
Date: Thu, 28 Feb 2019 09:29:41 -0500
Subject: [gdal-dev] grib driver
Message-ID: <CAAhuiS0eYie7Z9vghKOZAUgJ2pCNW9p3AhPSCQQ7GN+z6F_3EQ@mail.gmail.com>

I am new to the gdal apis and is interested in getting some knowledge of
the grib driver. May I ask whether it basically provides the same
functionality as degrib from MDL/NWS/NOAA? Thanks! --Zhan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190228/92b75c9d/attachment.html>

From even.rouault at spatialys.com  Thu Feb 28 07:27:01 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 28 Feb 2019 16:27:01 +0100
Subject: [gdal-dev] grib driver
In-Reply-To: <CAAhuiS0eYie7Z9vghKOZAUgJ2pCNW9p3AhPSCQQ7GN+z6F_3EQ@mail.gmail.com>
References: <CAAhuiS0eYie7Z9vghKOZAUgJ2pCNW9p3AhPSCQQ7GN+z6F_3EQ@mail.gmail.com>
Message-ID: <9580475.LDdbVZyTqn@even-i700>

On jeudi 28 février 2019 09:29:41 CET Zhan Zhang - NOAA Affiliate wrote:
> I am new to the gdal apis and is interested in getting some knowledge of
> the grib driver. May I ask whether it basically provides the same
> functionality as degrib from MDL/NWS/NOAA? Thanks! --Zhan

The GDAL GRIB driver strongly relies on degrib+g2clib. It esposes their 
functionality through the general GDAL raster API, so as to be able to 
manipulate a GRIB dataset as any other GDAL raster.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From zhan.j.zhang at noaa.gov  Thu Feb 28 07:55:00 2019
From: zhan.j.zhang at noaa.gov (Zhan Zhang - NOAA Affiliate)
Date: Thu, 28 Feb 2019 10:55:00 -0500
Subject: [gdal-dev] grib driver
In-Reply-To: <9580475.LDdbVZyTqn@even-i700>
References: <CAAhuiS0eYie7Z9vghKOZAUgJ2pCNW9p3AhPSCQQ7GN+z6F_3EQ@mail.gmail.com>
 <9580475.LDdbVZyTqn@even-i700>
Message-ID: <CAAhuiS1D6e-T1MymVLVztVmsg-6a6CKz0h87Uir6v-WU6-S=yw@mail.gmail.com>

May I ask whether gdal grib driver support changing grid in a GRIB2
message? For instance, given a GRIB2 message, I want to change from polar
stereographic grid projection to lambert conformal grid projection, and the
data section need also be changed accordingly, and then output this to a
new GRIB2 message. I ask MDL degrib group and they tell me degrib can not
do this. It sound that it is likely gdal grib driver cannot do this either.
However I am not 100% sure and want to seek some comments here. Thanks!

On Thu, Feb 28, 2019 at 10:27 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> On jeudi 28 février 2019 09:29:41 CET Zhan Zhang - NOAA Affiliate wrote:
> > I am new to the gdal apis and is interested in getting some knowledge of
> > the grib driver. May I ask whether it basically provides the same
> > functionality as degrib from MDL/NWS/NOAA? Thanks! --Zhan
>
> The GDAL GRIB driver strongly relies on degrib+g2clib. It esposes their
> functionality through the general GDAL raster API, so as to be able to
> manipulate a GRIB dataset as any other GDAL raster.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190228/d83e0a72/attachment.html>

From even.rouault at spatialys.com  Thu Feb 28 08:14:35 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 28 Feb 2019 17:14:35 +0100
Subject: [gdal-dev] shapelib 1.5.0 release
Message-ID: <4374189.rUhqrbSP51@even-i700>

Hi,

(CC'ing gdal-dev as well, since shapelib at lists.osgeo.org has likely lower 
audience)

I've released shapelib 1.5.0

The main change is the removal of the 'shpproj' contrib utility and thus PROJ 
dependency.

The tarballs are available at:
http://download.osgeo.org/shapelib/shapelib-1.5.0.tar.gz
http://download.osgeo.org/shapelib/shapelib-1.5.0.zip

The log of changes since 1.4.1 is:

2019-02-28  Even Rouault  <even.rouault at spatialys.com>

	* shpopen.c: resync with GDAL internal shapelib to avoid being dependent
	on correctness of file size field in .shp. Fixes
	https://lists.osgeo.org/pipermail/gdal-dev/2018-October/049218.html

2019-02-28  Even Rouault  <even.rouault at spatialys.com>

	* contrib/shpgeo.h/.c: Remove PROJ.4 dependency and functionality,
	 causing removal of SHPProject(), SHPSetProjection() and 
SHPFreeProjection()
	* contrib/shpproj.c: removed

2018-08-16  Even Rouault  <even.rouault at spatialys.com>

	* shpopen.c, dbfopen.c, shptree.c, sbnsearch.c: resyc with GDAL
	internal shapelib. Mostly to allow building those files as C++
	without warning. Also add FTDate entry in DBFFieldType
	(see https://github.com/OSGeo/gdal/pull/308). And some other
	code cleanups

2018-08-16  Even Rouault  <even.rouault at spatialys.com>

	* dbfopen.c: fix a bug where the end of file character was
	written on top of the first character of the first field name
	when deleting a field on a .dbf without records.
	Fixes https://github.com/OSGeo/gdal/issues/863

2018-06-15  Even Rouault  <even.rouault at spatialys.com>

	* safileio.c: remove duplicate test. Patch by Jaroslav Fojtik.
	Fixes http://bugzilla.maptools.org/show_bug.cgi?id=2744

Even


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Thu Feb 28 08:19:00 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 28 Feb 2019 17:19:00 +0100
Subject: [gdal-dev] grib driver
In-Reply-To: <CAAhuiS1D6e-T1MymVLVztVmsg-6a6CKz0h87Uir6v-WU6-S=yw@mail.gmail.com>
References: <CAAhuiS0eYie7Z9vghKOZAUgJ2pCNW9p3AhPSCQQ7GN+z6F_3EQ@mail.gmail.com>
 <9580475.LDdbVZyTqn@even-i700>
 <CAAhuiS1D6e-T1MymVLVztVmsg-6a6CKz0h87Uir6v-WU6-S=yw@mail.gmail.com>
Message-ID: <5298912.kvKvozBpJk@even-i700>

On jeudi 28 février 2019 10:55:00 CET Zhan Zhang - NOAA Affiliate wrote:
> May I ask whether gdal grib driver support changing grid in a GRIB2
> message? For instance, given a GRIB2 message, I want to change from polar
> stereographic grid projection to lambert conformal grid projection, and the
> data section need also be changed accordingly, and then output this to a
> new GRIB2 message. I ask MDL degrib group and they tell me degrib can not
> do this. It sound that it is likely gdal grib driver cannot do this either.
> However I am not 100% sure and want to seek some comments here. Thanks!

Degrib itself cannot do this, but raster reprojection is a generic function of 
GDAL, so you can do this with the gdalwarp utility:
https://gdal.org/gdalwarp.html

Something like:

gdalwarp -of GRIB in.grb2 out.grb2 -t_srs "+proj=lcc +lat_1=... +lat_2=... 
+R=....."

You may also consult the GRIB driver documentation for GRIB specific creation 
options:
https://gdal.org/frmt_grib.html

Even

> 
> On Thu, Feb 28, 2019 at 10:27 AM Even Rouault <even.rouault at spatialys.com>
> 
> wrote:
> > On jeudi 28 février 2019 09:29:41 CET Zhan Zhang - NOAA Affiliate wrote:
> > > I am new to the gdal apis and is interested in getting some knowledge of
> > > the grib driver. May I ask whether it basically provides the same
> > > functionality as degrib from MDL/NWS/NOAA? Thanks! --Zhan
> > 
> > The GDAL GRIB driver strongly relies on degrib+g2clib. It esposes their
> > functionality through the general GDAL raster API, so as to be able to
> > manipulate a GRIB dataset as any other GDAL raster.
> > 
> > Even
> > 
> > --
> > Spatialys - Geospatial professional services
> > http://www.spatialys.com


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sean at mapbox.com  Thu Feb 28 08:20:57 2019
From: sean at mapbox.com (Sean Gillies)
Date: Thu, 28 Feb 2019 09:20:57 -0700
Subject: [gdal-dev] shapelib 1.5.0 release
In-Reply-To: <4374189.rUhqrbSP51@even-i700>
References: <4374189.rUhqrbSP51@even-i700>
Message-ID: <CADPhZXw57iXGAU6cb5XKKDv7UY7dbCOaVtvUiT8eaS_r0UfdEA@mail.gmail.com>

Hi Even,

On Thu, Feb 28, 2019 at 9:14 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi,
>
> (CC'ing gdal-dev as well, since shapelib at lists.osgeo.org has likely lower
> audience)
>
> I've released shapelib 1.5.0
>
> The main change is the removal of the 'shpproj' contrib utility and thus
> PROJ
> dependency.
>
> The tarballs are available at:
> http://download.osgeo.org/shapelib/shapelib-1.5.0.tar.gz
> http://download.osgeo.org/shapelib/shapelib-1.5.0.zip
>
> The log of changes since 1.4.1 is:
>
> 2019-02-28  Even Rouault  <even.rouault at spatialys.com>
>
>         * shpopen.c: resync with GDAL internal shapelib to avoid being
> dependent
>         on correctness of file size field in .shp. Fixes
>
> https://lists.osgeo.org/pipermail/gdal-dev/2018-October/049218.html
>
> 2019-02-28  Even Rouault  <even.rouault at spatialys.com>
>
>         * contrib/shpgeo.h/.c: Remove PROJ.4 dependency and functionality,
>          causing removal of SHPProject(), SHPSetProjection() and
> SHPFreeProjection()
>         * contrib/shpproj.c: removed


If you remove methods and a utility, would it be better to call this
shapelib 2.0?

-- 
Sean Gillies
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20190228/789df6dc/attachment.html>

From even.rouault at spatialys.com  Thu Feb 28 08:29:14 2019
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 28 Feb 2019 17:29:14 +0100
Subject: [gdal-dev] shapelib 1.5.0 release
In-Reply-To: <CADPhZXw57iXGAU6cb5XKKDv7UY7dbCOaVtvUiT8eaS_r0UfdEA@mail.gmail.com>
References: <4374189.rUhqrbSP51@even-i700>
 <CADPhZXw57iXGAU6cb5XKKDv7UY7dbCOaVtvUiT8eaS_r0UfdEA@mail.gmail.com>
Message-ID: <1665129.W5jvGKf1gq@even-i700>

> If you remove methods and a utility, would it be better to call this
> shapelib 2.0?

I was considering this, but this is a utility and functions in the contrib/ 
area, so not something "core"...
Not sure if they are shapelib users anyway...

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

