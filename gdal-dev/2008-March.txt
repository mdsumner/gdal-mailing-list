From bhagwat.maimt at gmail.com  Sat Mar  1 02:25:51 2008
From: bhagwat.maimt at gmail.com (bargi)
Date: Sat Mar  1 02:25:52 2008
Subject: [Gdal-dev] How to read SEP dataset using GDAL
Message-ID: <15773073.post@talk.nabble.com>


Hi,

Is there a way to read the SEP dataset using GDAL...???????/

Can Anybody give me step to do that ??

Thanks

-- 
View this message in context: http://www.nabble.com/How-to-read-SEP-dataset-using-GDAL-tp15773073p15773073.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mateusz at loskot.net  Sat Mar  1 02:58:32 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Mar  1 02:58:39 2008
Subject: [Gdal-dev] How to read SEP dataset using GDAL
In-Reply-To: <15773073.post@talk.nabble.com>
References: <15773073.post@talk.nabble.com>
Message-ID: <47C90CA8.2070406@loskot.net>

bargi wrote:
> Hi,
> 
> Is there a way to read the SEP dataset using GDAL.

What is SEP? Perhaps you mean SAP?

 > ..???????/

Broken keyboard? ;-)

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net
From monshi at home.se  Sat Mar  1 04:20:09 2008
From: monshi at home.se (Tomas R)
Date: Sat Mar  1 04:20:30 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
References: <fq8foq$m8o$1@ger.gmane.org>	<f3b73b7d0802290251k75ffa550y2badacac33d3ae54@mail.gmail.com>	<fq8qrr$sh5$1@ger.gmane.org>	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>	<fq9sfp$te0$1@ger.gmane.org>
	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
Message-ID: <fqb74f$fo$1@ger.gmane.org>

Oh, thanks for testing my plugin. Really appreciate your assistance!

The source project, the whole VSE solution, you can find here:
http://mapplugin.googlepages.com/GDALPlugin_source.zip
Excluded are ALL DLLs from FWTools, just to keep down the size. I guess 
you have those. Copy all DLL files in FWTools\bin to the folder GDALBin 
in the project and set all files to be copied to target. Probably you 
also have to set the target folder of the build to another location 
since it is set to the location of the installation of SportTracks on my 
computer.

1: Oh, my. No chance you (or who ever) moves FWTools to Net2 and  
possibly Win64 soon?  I guess it is possible for me, on a XP 32 bit, to 
compile it all to Win64 but it is unknown territory for me. 
What would I need to recompile? Just the files the C# wrapper directly 
interact with (gdal, gdalwarp, osr, ogr, gdalconst, mapscript) or all 
(!) files of the FWTools package I may need? Which I actually need of 
those - no idea.

2: Quick, dirty and may work. I will give it a try but, as you indicate, 
it is far from a perfect solution. Took some time but I finally found 
how to set this option in Visual Studio Express, this page helped me:
http://www.thescripts.com/forum/thread755379.html
Will give the Vista 64 user a version with the flag set and see if it 
works.

Yours
/Tomas

Tamas Szekeres skrev:
> Tomas,
>
> I did some tests with your files on my Win2003 x64 Server. I can see
> your assembly is actually running against the x64 version of the .NET
> framework 2.0, but the binaries in FWTools have been compiled for the
> .NET FW 1.0.
>
> Although these assemblies can work side by side in case if both of the
> framework versions are installed. Despite I have both of these
> installed I got the badimageformat exception as well. The most
> possible reason of this is that the 64 bit version of the framework
> expects to load only the x64 versions of the unmanaged dll-s (like
> gdal_wrap.dll, proj.dll).
>
> I couldn't actually check the statements above because I have no
> chance to recompile your plugin against my gdal binaries.
>
> However for supporting x64 you have at least the following 2 options:
>
> 1. Compile gdal and all of the dependencies for x64 and use these
> binaries instead of the FWTools version. You'll have to distribute 2
> versions of your package (x64 and x32) in this case.
>
> 2. Force your dll to run against the 32 bit version of the .NET
> Framework 2.0 by using the /platform:x86  csc command line option. If
> you are using the VS2005 IDE you can find this option project
> settings/Build tab/Platform target. In this case I think the FWTools
> binaries will become usable, but I recommend to compile gdal for the
> 2.0 version of the .NET framework anyway.
>
>
> Best regards,
>
> Tamas
>
>
>
> 2008/2/29, Tomas R <monshi@home.se>:
>   
>>  Sad to say, same error occured with these dlls. I renamed them to
>>  gdal_fw.dll and proj_fw.dll and also kept a copy of proj.dll with
>>  original name and told the user to overwrite the existing ones.
>>
>>  Same error.
>>
>>  I will not say it is a Vista problem, or a 64-bit problem, until I have
>>  a confirmation from someone else.
>>  If anyone here, with a 64-bit system (Vista, XP or Server 2003),  is
>>  willing to give it a try:
>>  1: Install SportTracks
>>  http://www.zonefivesoftware.com/SportTracks/
>>  2: Install my GDAL-plugin
>>  http://mapplugin.googlepages.com/gdal
>>
>>  Start SportTracks, go to the settings view. Locate the plugin and check
>>  if it is installed correctly. Version info should be displayed.
>>
>>
>>  Yours
>>  Tomas
>>
>>  Tamas Szekeres skrev:
>>  > Grrr.  I've posted a reference to the x32 builder, here are the correct ones:
>>  >
>>  > http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-full/gdal/
>>  > http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-bin
>>  >
>>  > Best regards,
>>  >
>>  > Tamas
>>  >
>>  >
>>  > 2008/2/29, Tomas R <monshi@home.se>:
>>  >
>>  >> Neither have I access to a computer with Vista 64, or any other 64 bit
>>  >>  system, it is a user who has reported the error. I'm waiting to see if
>>  >>  there will be another user with a 64 bit system who will test the plugin
>>  >>  so as you say, it is not yet confirmed it is a 64 bit error.
>>  >>
>>  >>
>>  >>  The plugin is compiled to .Net2.0 and, of course on Vista, run on .Net3.5.
>>  >>
>>  >>  Since I personally can't test it is a bit harder/slower to verify if it
>>  >>  works.  A quick test on my computer (Win XP, 32 bit), after renaming the
>>  >>  gdal16dev.dll to gdal_fw.dll, together with FWTools C# wrappers and
>>  >>  supporting libraries I am able to query the gdal version but not, with
>>  >>  existing code, set up a spatial reference. (Pinvoke error, Can't read
>>  >>  the DLL-file osr_wrap)
>>  >>
>>  >>  Strange - is it a 64 bit "version" of gdal? should it then at all work
>>  >>  on my 32 bit system? That it fails on setting up a spatial reference I
>>  >>  guess is because it it is not able to reference to the FWtools version
>>  >>  of the supporting dlls. Or?
>>  >>
>>  >>  I will see if the user is willing to try this dll I downloaded from your
>>  >>  link and see if he is able to retrieve version information. If that
>>  >>  works we can move on to the rest of the libraries if you are willing.
>>  >>
>>  >>
>>  >>  Yours
>>  >>  Tomas
>>  >>
>>  >>  Tamas Szekeres skrev:
>>  >>
>>  >>
>>  >>> Tomas,
>>  >>>
>>  >>  >
>>  >>  > Currently I have no opportunity to test on Vista 64 at the moment and
>>  >>  > therefore I cannot decide whether this is a Vista specific issue or
>>  >>  > not. I'm not sure which .NET framework you are running against. You
>>  >>  > might want to do a test with my Windows Server 2003 x64 compilation
>>  >>  > can be downloaded from the buildbot:
>>  >>  >
>>  >>  > http://vbkto.dyndns.org:1080/gdal/szekerest-vc80-full/gdal/
>>  >>  >
>>  >>  > I could also make the x64 versions of related dlls like proj.dll
>>  >>  > available to download.
>>  >>  >
>>  >>  > Best regards,
>>  >>  >
>>  >>  > Tamas
>>  >>  >
>>  >>  >
>>  >>  >
>>  >>
>>  >>
>>  >>> 2008/2/29, Tomas R :
>>  >>>
>>  >>  >> Is it possible to use gdal (C# wrapped)  from FWTools on a Win64 system
>>  >>  >>  (Vista 64)?
>>  >>  >>
>>  >>  >>  I have a plugin for SportTracks which gives other libraries access to
>>  >>  >>  GDAL. This is achieved by adding the path to the GDAL binaries to system
>>  >>  >>  PATH (for the running program).
>>  >>  >>
>>  >>  >>  On a Win64, i.e. Vista 64, the exception below is thrown when trying to
>>  >>  >>  read the version of the GDAL libraries. Is this normal behaviour or is
>>  >>  >>  there anything I can do to avoid this exception? I use GDAL 1.6.0dev
>>  >>  >>  from FWTools 2.1.0. All supportive libraries from FWTools are available
>>  >>  >>  to Gdal.
>>  >>  >>
>>  >>  >>  System.TypeInitializationException: The type initializer for
>>  >>  >>  'OSGeo.GDAL.GdalPINVOKE' threw an exception. --->
>>  >>  >>  System.TypeInitializationException: The type initializer for
>>  >>  >>  'SWIGExceptionHelper' threw an exception. --->
>>  >>  >>  System.BadImageFormatException: An attempt was made to load a program
>>  >>  >>  with an incorrect format. (Exception from HRESULT: 0x8007000B)
>>  >>  >>    at
>>  >>  >>  OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal(ExceptionDelegate
>>  >>  >>  applicationDelegate, ExceptionDelegate arithmeticDelegate,
>>  >>  >>  ExceptionDelegate divideByZeroDelegate, ExceptionDelegate
>>  >>  >>  indexOutOfRangeDelegate, ExceptionDelegate invalidOperationDelegate,
>>  >>  >>  ExceptionDelegate ioDelegate, ExceptionDelegate nullReferenceDelegate,
>>  >>  >>  ExceptionDelegate outOfMemoryDelegate, ExceptionDelegate
>>  >>  >>  overflowDelegate, ExceptionDelegate systemExceptionDelegate)
>>  >>  >>    at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
>>  >>  >>    --- End of inner exception stack trace ---
>>  >>  >>    at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
>>  >>  >>    at OSGeo.GDAL.GdalPINVOKE..cctor()
>>  >>  >>    --- End of inner exception stack trace ---
>>  >>  >>    at OSGeo.GDAL.GdalPINVOKE.SetConfigOption(String jarg1, String jarg2)
>>  >>  >>    at OSGeo.GDAL.Gdal.SetConfigOption(String arg0, String arg1)
>>  >>  >>    at GDALPlugin.Gdal_Interface..ctor()
>>  >>  >>
>>  >>  >>
>>  >>  >>  Yours
>>  >>  >>  Tomas
>>  >>  >>
>>  >>  >>  _______________________________________________
>>  >>  >>  gdal-dev mailing list
>>  >>  >>  gdal-dev@lists.osgeo.org
>>  >>  >>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>  >>  >>
>>  >>  >>
>>  >>
>>  >>
>>  >>  _______________________________________________
>>  >>  gdal-dev mailing list
>>  >>  gdal-dev@lists.osgeo.org
>>  >>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>  >>
>>  >>
>>
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     

From bhagwat.maimt at gmail.com  Sat Mar  1 04:28:44 2008
From: bhagwat.maimt at gmail.com (bargi)
Date: Sat Mar  1 04:28:46 2008
Subject: [Gdal-dev] How to read SEP dataset using GDAL
Message-ID: <15773073.post@talk.nabble.com>


Hi,

Is there a way to read the SEP dataset using GDAL...???????/

Can Anybody give me step to do that ??

Thanks

-- 
View this message in context: http://www.nabble.com/How-to-read-SEP-dataset-using-GDAL-tp15773073p15773073.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From bhagwat.maimt at gmail.com  Sat Mar  1 04:38:01 2008
From: bhagwat.maimt at gmail.com (bhagwat payal)
Date: Sat Mar  1 04:38:04 2008
Subject: [gdal-dev] Re: gdal-dev Digest, Vol 46, Issue 1
In-Reply-To: <20080301075839.9FBBEE006F2@lists.osgeo.org>
References: <20080301075839.9FBBEE006F2@lists.osgeo.org>
Message-ID: <52b9bb3d0803010138g533e91a7p9902c6058087b007@mail.gmail.com>

SEP is a 3D dataset,which consist of seismic data....

you can go to this link for more............

http://sepwww.stanford.edu/software/seplib/

I have the problem with reading this data through GDAL.

Thanks

On Sat, Mar 1, 2008 at 1:28 PM, <gdal-dev-request@lists.osgeo.org> wrote:

> Send gdal-dev mailing list submissions to
>        gdal-dev@lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        http://lists.osgeo.org/mailman/listinfo/gdal-dev
> or, via email, send a message with subject or body 'help' to
>        gdal-dev-request@lists.osgeo.org
>
> You can reach the person managing the list at
>        gdal-dev-owner@lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of gdal-dev digest..."
>
>
> Today's Topics:
>
>   1. Source dataset during ogr2ogr (Christopher Condit)
>   2. Re: Gdalwarp speed comparison (Matt Wilkie)
>   3. Re: Source dataset during ogr2ogr (Frank Warmerdam)
>   4. epsg_tr.py in reverse? (Moskovitz, Bob)
>   5. Re: Re: C#: Gdal on Win64 (Tamas Szekeres)
>   6. Re: epsg_tr.py in reverse? (Frank Warmerdam)
>   7. How to read SEP dataset using GDAL (bargi)
>   8. Re: How to read SEP dataset using GDAL (Mateusz Loskot)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 29 Feb 2008 13:14:07 -0800
> From: "Christopher Condit" <condit@sdsc.edu>
> Subject: [gdal-dev] Source dataset during ogr2ogr
> To: "gdal-dev" <gdal-dev@lists.osgeo.org>
> Message-ID: <845AADAC1106E44996327D62097E4C6BFB0D47@et.ad.sdsc.edu>
> Content-Type: text/plain;       charset="us-ascii"
>
> I'm working on the KML 2.2 update for the KML OGR driver, and I'm
> curious if there's some way to get access to the source dataset object
> from the created dataset during an ogr2ogr call. In this case I'm
> interested in looking at all the feature definitions from the source
> dataset s.t. I can create the schema correctly in the KML output...
>
> Thanks!
> -Chris
>
>
> ------------------------------
>
> Message: 2
> Date: Fri, 29 Feb 2008 13:29:58 -0800
> From: Matt Wilkie <matt.wilkie@gov.yk.ca>
> Subject: Re: [gdal-dev] Gdalwarp speed comparison
> To: Frank Warmerdam <warmerdam@pobox.com>
> Cc: Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>,
>        gdal-dev@lists.osgeo.org
> Message-ID: <47C87956.1090302@gov.yk.ca>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Thank you for the explanation Frank. I'd wondered about that switch.
> Recorded for posterity at
>
> http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#Howdoes-etErrorThresholdwork
> as always please check for accuracy or faithfulness.
>
> > The error threshold (in pixels) can be controlled with the gdalwarp
> > -te switch.
>
> typo: that should be '-et', as written is Target Extent.
>
>
> cheers,
>
> matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> http://environmentyukon.gov.yk.ca/geomatics/
> --------------------------------------------
>
>
>
>
>
> ------------------------------
>
> Message: 3
> Date: Fri, 29 Feb 2008 16:48:07 -0500
> From: Frank Warmerdam <warmerdam@pobox.com>
> Subject: Re: [gdal-dev] Source dataset during ogr2ogr
> To: Christopher Condit <condit@sdsc.edu>
> Cc: gdal-dev <gdal-dev@lists.osgeo.org>
> Message-ID: <47C87D97.4000802@pobox.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Christopher Condit wrote:
> > I'm working on the KML 2.2 update for the KML OGR driver, and I'm
> > curious if there's some way to get access to the source dataset object
> > from the created dataset during an ogr2ogr call. In this case I'm
> > interested in looking at all the feature definitions from the source
> > dataset s.t. I can create the schema correctly in the KML output...
>
> Chris,
>
> No, there is no way to do this.
>
> In the GDAL there is CreateCopy() which lets a destination dataset
> configure itself based on a source dataset but there is no OGR analog.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>
> ------------------------------
>
> Message: 4
> Date: Fri, 29 Feb 2008 14:00:34 -0800
> From: "Moskovitz, Bob" <Bob.Moskovitz@conservation.ca.gov>
> Subject: [gdal-dev] epsg_tr.py in reverse?
> To: "Gdal-Dev (E-mail 2)" <gdal-dev@lists.osgeo.org>
> Message-ID:
>        <A73B6E7A4503E948826CE81A65AF5FECA2A3F8@docexs1.ad.consrv.ca.gov>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hello All,
>
> I would like to find a utility that would allow you to find the EPSG code
> given a proj4 string.  Sort of a epsg_tr.py in reverse.  Can a utility be
> written with the gdal api to do that?
>
> Bob
>
> Bob Moskovitz
> Seismic Hazard Zonation Project
> California Geological Survey
> http://www.conservation.ca.gov/cgs/shzp<?xml:namespace prefix = o ns =
> "urn:schemas-microsoft-com:office:office" />
>
> CONFIDENTIALITY NOTICE: This communication is intended only for the use of
> the individual or entity to which it is addressed. This message contains
> information from the State of California, California Geological Survey,
> which may be privileged, confidential and exempt from disclosure under
> applicable law, including the Electronic Communications Privacy Act. If the
> reader of this communication is not the intended recipient, you are hereby
> notified that any dissemination, distribution, or copying of this
> communication is strictly prohibited.
>
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL:
> http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080229/abed393d/attachment-0001.html
>
> ------------------------------
>
> Message: 5
> Date: Sat, 1 Mar 2008 00:22:31 +0100
> From: "Tamas Szekeres" <szekerest@gmail.com>
> Subject: Re: [gdal-dev] Re: C#: Gdal on Win64
> To: monshi@home.se
> Cc: gdal-dev@lists.osgeo.org
> Message-ID:
>        <f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Tomas,
>
> I did some tests with your files on my Win2003 x64 Server. I can see
> your assembly is actually running against the x64 version of the .NET
> framework 2.0, but the binaries in FWTools have been compiled for the
> .NET FW 1.0.
>
> Although these assemblies can work side by side in case if both of the
> framework versions are installed. Despite I have both of these
> installed I got the badimageformat exception as well. The most
> possible reason of this is that the 64 bit version of the framework
> expects to load only the x64 versions of the unmanaged dll-s (like
> gdal_wrap.dll, proj.dll).
>
> I couldn't actually check the statements above because I have no
> chance to recompile your plugin against my gdal binaries.
>
> However for supporting x64 you have at least the following 2 options:
>
> 1. Compile gdal and all of the dependencies for x64 and use these
> binaries instead of the FWTools version. You'll have to distribute 2
> versions of your package (x64 and x32) in this case.
>
> 2. Force your dll to run against the 32 bit version of the .NET
> Framework 2.0 by using the /platform:x86  csc command line option. If
> you are using the VS2005 IDE you can find this option project
> settings/Build tab/Platform target. In this case I think the FWTools
> binaries will become usable, but I recommend to compile gdal for the
> 2.0 version of the .NET framework anyway.
>
>
> Best regards,
>
> Tamas
>
>
>
> 2008/2/29, Tomas R <monshi@home.se>:
> >
> >  Sad to say, same error occured with these dlls. I renamed them to
> >  gdal_fw.dll and proj_fw.dll and also kept a copy of proj.dll with
> >  original name and told the user to overwrite the existing ones.
> >
> >  Same error.
> >
> >  I will not say it is a Vista problem, or a 64-bit problem, until I have
> >  a confirmation from someone else.
> >  If anyone here, with a 64-bit system (Vista, XP or Server 2003),  is
> >  willing to give it a try:
> >  1: Install SportTracks
> >  http://www.zonefivesoftware.com/SportTracks/
> >  2: Install my GDAL-plugin
> >  http://mapplugin.googlepages.com/gdal
> >
> >  Start SportTracks, go to the settings view. Locate the plugin and check
> >  if it is installed correctly. Version info should be displayed.
> >
> >
> >  Yours
> >  Tomas
> >
> >  Tamas Szekeres skrev:
> >  > Grrr.  I've posted a reference to the x32 builder, here are the
> correct ones:
> >  >
> >  > http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-full/gdal/
> >  > http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-bin
> >  >
> >  > Best regards,
> >  >
> >  > Tamas
> >  >
> >  >
> >  > 2008/2/29, Tomas R <monshi@home.se>:
> >  >
> >  >> Neither have I access to a computer with Vista 64, or any other 64
> bit
> >  >>  system, it is a user who has reported the error. I'm waiting to see
> if
> >  >>  there will be another user with a 64 bit system who will test the
> plugin
> >  >>  so as you say, it is not yet confirmed it is a 64 bit error.
> >  >>
> >  >>
> >  >>  The plugin is compiled to .Net2.0 and, of course on Vista, run on
> .Net3.5.
> >  >>
> >  >>  Since I personally can't test it is a bit harder/slower to verify
> if it
> >  >>  works.  A quick test on my computer (Win XP, 32 bit), after
> renaming the
> >  >>  gdal16dev.dll to gdal_fw.dll, together with FWTools C# wrappers and
> >  >>  supporting libraries I am able to query the gdal version but not,
> with
> >  >>  existing code, set up a spatial reference. (Pinvoke error, Can't
> read
> >  >>  the DLL-file osr_wrap)
> >  >>
> >  >>  Strange - is it a 64 bit "version" of gdal? should it then at all
> work
> >  >>  on my 32 bit system? That it fails on setting up a spatial
> reference I
> >  >>  guess is because it it is not able to reference to the FWtools
> version
> >  >>  of the supporting dlls. Or?
> >  >>
> >  >>  I will see if the user is willing to try this dll I downloaded from
> your
> >  >>  link and see if he is able to retrieve version information. If that
> >  >>  works we can move on to the rest of the libraries if you are
> willing.
> >  >>
> >  >>
> >  >>  Yours
> >  >>  Tomas
> >  >>
> >  >>  Tamas Szekeres skrev:
> >  >>
> >  >>
> >  >>> Tomas,
> >  >>>
> >  >>  >
> >  >>  > Currently I have no opportunity to test on Vista 64 at the moment
> and
> >  >>  > therefore I cannot decide whether this is a Vista specific issue
> or
> >  >>  > not. I'm not sure which .NET framework you are running against.
> You
> >  >>  > might want to do a test with my Windows Server 2003 x64
> compilation
> >  >>  > can be downloaded from the buildbot:
> >  >>  >
> >  >>  > http://vbkto.dyndns.org:1080/gdal/szekerest-vc80-full/gdal/
> >  >>  >
> >  >>  > I could also make the x64 versions of related dlls like proj.dll
> >  >>  > available to download.
> >  >>  >
> >  >>  > Best regards,
> >  >>  >
> >  >>  > Tamas
> >  >>  >
> >  >>  >
> >  >>  >
> >  >>
> >  >>
> >  >>> 2008/2/29, Tomas R :
> >  >>>
> >  >>  >> Is it possible to use gdal (C# wrapped)  from FWTools on a Win64
> system
> >  >>  >>  (Vista 64)?
> >  >>  >>
> >  >>  >>  I have a plugin for SportTracks which gives other libraries
> access to
> >  >>  >>  GDAL. This is achieved by adding the path to the GDAL binaries
> to system
> >  >>  >>  PATH (for the running program).
> >  >>  >>
> >  >>  >>  On a Win64, i.e. Vista 64, the exception below is thrown when
> trying to
> >  >>  >>  read the version of the GDAL libraries. Is this normal
> behaviour or is
> >  >>  >>  there anything I can do to avoid this exception? I use GDAL
> 1.6.0dev
> >  >>  >>  from FWTools 2.1.0. All supportive libraries from FWTools are
> available
> >  >>  >>  to Gdal.
> >  >>  >>
> >  >>  >>  System.TypeInitializationException: The type initializer for
> >  >>  >>  'OSGeo.GDAL.GdalPINVOKE' threw an exception. --->
> >  >>  >>  System.TypeInitializationException: The type initializer for
> >  >>  >>  'SWIGExceptionHelper' threw an exception. --->
> >  >>  >>  System.BadImageFormatException: An attempt was made to load a
> program
> >  >>  >>  with an incorrect format. (Exception from HRESULT: 0x8007000B)
> >  >>  >>    at
> >  >>  >>
> OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper.SWIGRegisterExceptionCallbacks_Gdal
> (ExceptionDelegate
> >  >>  >>  applicationDelegate, ExceptionDelegate arithmeticDelegate,
> >  >>  >>  ExceptionDelegate divideByZeroDelegate, ExceptionDelegate
> >  >>  >>  indexOutOfRangeDelegate, ExceptionDelegate
> invalidOperationDelegate,
> >  >>  >>  ExceptionDelegate ioDelegate, ExceptionDelegate
> nullReferenceDelegate,
> >  >>  >>  ExceptionDelegate outOfMemoryDelegate, ExceptionDelegate
> >  >>  >>  overflowDelegate, ExceptionDelegate systemExceptionDelegate)
> >  >>  >>    at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..cctor()
> >  >>  >>    --- End of inner exception stack trace ---
> >  >>  >>    at OSGeo.GDAL.GdalPINVOKE.SWIGExceptionHelper..ctor()
> >  >>  >>    at OSGeo.GDAL.GdalPINVOKE..cctor()
> >  >>  >>    --- End of inner exception stack trace ---
> >  >>  >>    at OSGeo.GDAL.GdalPINVOKE.SetConfigOption(String jarg1,
> String jarg2)
> >  >>  >>    at OSGeo.GDAL.Gdal.SetConfigOption(String arg0, String arg1)
> >  >>  >>    at GDALPlugin.Gdal_Interface..ctor()
> >  >>  >>
> >  >>  >>
> >  >>  >>  Yours
> >  >>  >>  Tomas
> >  >>  >>
> >  >>  >>  _______________________________________________
> >  >>  >>  gdal-dev mailing list
> >  >>  >>  gdal-dev@lists.osgeo.org
> >  >>  >>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  >>  >>
> >  >>  >>
> >  >>
> >  >>
> >  >>  _______________________________________________
> >  >>  gdal-dev mailing list
> >  >>  gdal-dev@lists.osgeo.org
> >  >>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  >>
> >  >>
> >
> >  _______________________________________________
> >  gdal-dev mailing list
> >  gdal-dev@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
> ------------------------------
>
> Message: 6
> Date: Fri, 29 Feb 2008 23:11:27 -0500
> From: Frank Warmerdam <warmerdam@pobox.com>
> Subject: Re: [gdal-dev] epsg_tr.py in reverse?
> To: "Moskovitz, Bob" <Bob.Moskovitz@conservation.ca.gov>
> Cc: "Gdal-Dev \(E-mail 2\)" <gdal-dev@lists.osgeo.org>
> Message-ID: <47C8D76F.8010402@pobox.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Moskovitz, Bob wrote:
> > Hello All,
> >
> > I would like to find a utility that would allow you to find the EPSG
> code
> > given a proj4 string.  Sort of a epsg_tr.py in reverse.  Can a utility
> be
> > written with the gdal api to do that?
>
> Bob,
>
> You could walk the whole list of EPSG coordinate systems, import each
> to an OGRSpatialReference object, and then use the OGRSpatialReference
> IsSame() method to compare it to an OGRSpatialReference imported from
> a PROJ.4 definition.  This would, in theory, let you find a match.  But
> in practice this is computationally expensive and the IsSame() method is
> flakey in a number of regards (too sensitive to some differences such as
> order, and not aware of other differences like prime meridian).
>
> Another approach would be to convert them all to PROJ.4 format and do
> exact
> string comparisons.  You would need to convert the original (target)
> PROJ.4
> definition to WKT and convert it back to PROJ.4 too, so it would be
> "normalized" to the style of PROJ.4 produced by OGR.
>
> This would likely work fairly well, but would still be sensitive to
> different numeric precision for parameters.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam<http://pobox.com/%7Ewarmerdam>
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>
> ------------------------------
>
> Message: 7
> Date: Fri, 29 Feb 2008 23:25:51 -0800 (PST)
> From: bargi <bhagwat.maimt@gmail.com>
> Subject: [Gdal-dev] How to read SEP dataset using GDAL
> To: gdal-dev@lists.osgeo.org
> Message-ID: <15773073.post@talk.nabble.com>
> Content-Type: text/plain; charset=us-ascii
>
>
> Hi,
>
> Is there a way to read the SEP dataset using GDAL...???????/
>
> Can Anybody give me step to do that ??
>
> Thanks
>
> --
> View this message in context:
> http://www.nabble.com/How-to-read-SEP-dataset-using-GDAL-tp15773073p15773073.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
>
>
> ------------------------------
>
> Message: 8
> Date: Sat, 01 Mar 2008 08:58:32 +0100
> From: Mateusz Loskot <mateusz@loskot.net>
> Subject: Re: [Gdal-dev] How to read SEP dataset using GDAL
> To: bargi <bhagwat.maimt@gmail.com>
> Cc: gdal-dev@lists.osgeo.org
> Message-ID: <47C90CA8.2070406@loskot.net>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> bargi wrote:
> > Hi,
> >
> > Is there a way to read the SEP dataset using GDAL.
>
> What is SEP? Perhaps you mean SAP?
>
>  > ..???????/
>
> Broken keyboard? ;-)
>
> Greetings
> --
> Mateusz Loskot
> http://mateusz.loskot.net
>
>
> ------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> End of gdal-dev Digest, Vol 46, Issue 1
> ***************************************
>



--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080301/5953ab10/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Sat Mar  1 07:59:12 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sat Mar  1 07:59:21 2008
Subject: [gdal-dev] Png image georeferencing with .tab file
Message-ID: <loom.20080301T124913-642@post.gmane.org>

Hi,

I suppose that gdal does not recognise MapInfo .tab files with png images?  At
least I have now a sample image in my hands that behaves like that.  When
converted to baseline tiff the same .tab file seems to work. Don't know how
useful it would be for other people and if it is worth making a feature request.
This image I have comes from a simple but quite a nice utility which captures
and mosaices together png image tiles from OpenStreetMap tile server and writes
automatically .tab files for them, in addition to OziExplorer calibration files.

-Jukka Rahkonen-

From even.rouault at mines-paris.org  Sat Mar  1 08:49:59 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Mar  1 08:50:02 2008
Subject: [gdal-dev] Png image georeferencing with .tab file
In-Reply-To: <loom.20080301T124913-642@post.gmane.org>
References: <loom.20080301T124913-642@post.gmane.org>
Message-ID: <200803011449.59530.even.rouault@mines-paris.org>

Jukka,

You right, currently, the GeoTIFF driver is the only one that reads .tab 
files.

This kind of enhancement request is not unusual. I've been able to find 
similar ones : http://trac.osgeo.org/gdal/ticket/1253 for ECW and 
http://trac.osgeo.org/gdal/ticket/682 for JPG.
In #682, an idea is suggested to generalize the implementation of .tab support 
for all drivers.

(This is a bit similar to reading ESRI World files, which is supported by 
quite a large number of drivers, but not all.)

Best regards.

Le Saturday 01 March 2008 13:59:12 Jukka Rahkonen, vous avez ?crit?:
> Hi,
>
> I suppose that gdal does not recognise MapInfo .tab files with png images? 
> At least I have now a sample image in my hands that behaves like that. 
> When converted to baseline tiff the same .tab file seems to work. Don't
> know how useful it would be for other people and if it is worth making a
> feature request. This image I have comes from a simple but quite a nice
> utility which captures and mosaices together png image tiles from
> OpenStreetMap tile server and writes automatically .tab files for them, in
> addition to OziExplorer calibration files.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From mchapman at texelinc.com  Sat Mar  1 15:23:44 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Sat Mar  1 15:23:56 2008
Subject: [Gdal-dev] How to read SEP dataset using GDAL
In-Reply-To: <15773073.post@talk.nabble.com>
References: <15773073.post@talk.nabble.com>
Message-ID: <001201c87bda$263d07c0$72b71740$@com>

The format name SEP is not listed on the page
http://www.gdal.org/formats_list.html of gdal supported formats so I would
think the answer is that gdal does not currently support the SEP format. If
you want to be sure you could try to use the utility gdalinfo that comes
with gdal and see if it can open the file.  See
http://www.gdal.org/gdalinfo.html for more information.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of bargi
Sent: Saturday, March 01, 2008 2:29 AM
To: gdal-dev@lists.osgeo.org
Subject: [Gdal-dev] How to read SEP dataset using GDAL


Hi,

Is there a way to read the SEP dataset using GDAL...???????/

Can Anybody give me step to do that ??

Thanks

-- 
View this message in context:
http://www.nabble.com/How-to-read-SEP-dataset-using-GDAL-tp15773073p15773073
.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mateusz at loskot.net  Sat Mar  1 15:52:15 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Mar  1 15:52:25 2008
Subject: [gdal-dev] Re: gdal-dev Digest, Vol 46, Issue 1
In-Reply-To: <52b9bb3d0803010138g533e91a7p9902c6058087b007@mail.gmail.com>
References: <20080301075839.9FBBEE006F2@lists.osgeo.org>
	<52b9bb3d0803010138g533e91a7p9902c6058087b007@mail.gmail.com>
Message-ID: <47C9C1FF.90400@loskot.net>

bhagwat payal wrote:
> SEP is a 3D dataset,which consist of seismic data....
> 
> you can go to this link for more............
> 
> http://sepwww.stanford.edu/software/seplib/
> 
> I have the problem with reading this data through GDAL.

I'm afraid but the SEP format described on this page
is not supported by GDAL.

There are a couple of things you may do:
- implement SEP driver for GDAL
- fund implementation of SEP driver
- propose SEP driver as Google Summer of Code project,
perhaps there will be interested students or you know some
(http://trac.osgeo.org/gdal/wiki/SummerOfCode)

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net
From szekerest at gmail.com  Sat Mar  1 16:32:45 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Mar  1 16:32:49 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <fqb74f$fo$1@ger.gmane.org>
References: <fq8foq$m8o$1@ger.gmane.org>
	<f3b73b7d0802290251k75ffa550y2badacac33d3ae54@mail.gmail.com>
	<fq8qrr$sh5$1@ger.gmane.org>
	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>
	<fq9sfp$te0$1@ger.gmane.org>
	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
	<fqb74f$fo$1@ger.gmane.org>
Message-ID: <f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>

2008/3/1, Tomas R <monshi@home.se>:
> Oh, thanks for testing my plugin. Really appreciate your assistance!
>
>  The source project, the whole VSE solution, you can find here:
>  http://mapplugin.googlepages.com/GDALPlugin_source.zip
>  Excluded are ALL DLLs from FWTools, just to keep down the size. I guess
>  you have those. Copy all DLL files in FWTools\bin to the folder GDALBin
>  in the project and set all files to be copied to target. Probably you
>  also have to set the target folder of the build to another location
>  since it is set to the location of the installation of SportTracks on my
>  computer.
>

I couldn't download this file, I always got the following response:

"The bandwidth or page view limit for this site has been exceeded and
the page cannot be viewed at this time. Once the site is below the
limit, it will once again begin serving as normal."


>  1: Oh, my. No chance you (or who ever) moves FWTools to Net2 and
>  possibly Win64 soon?  I guess it is possible for me, on a XP 32 bit, to
>  compile it all to Win64 but it is unknown territory for me.
>  What would I need to recompile? Just the files the C# wrapper directly
>  interact with (gdal, gdalwarp, osr, ogr, gdalconst, mapscript) or all
>  (!) files of the FWTools package I may need? Which I actually need of
>  those - no idea.
>
>  2: Quick, dirty and may work. I will give it a try but, as you indicate,
>  it is far from a perfect solution. Took some time but I finally found
>  how to set this option in Visual Studio Express, this page helped me:
>  http://www.thescripts.com/forum/thread755379.html
>  Will give the Vista 64 user a version with the flag set and see if it
>  works.
>

I'm afraid I couldn't express my priorities properly. I would support
option 2 much better than option 1. I'm saying this because compiling
some parts of the gdal is much painful, some of those (like SDE)
cannot be compiled at all. You also have to compile such way the
dependent libraries as well, and I guess some of those have no WIN64
support either.
However I'll be trying to put together a GDAL WIN64 wiki for reference.


Best regards,

Tamas
From monshi at home.se  Sat Mar  1 16:58:32 2008
From: monshi at home.se (Tomas R)
Date: Sat Mar  1 16:58:53 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>
References: <fq8foq$m8o$1@ger.gmane.org>	<f3b73b7d0802290251k75ffa550y2badacac33d3ae54@mail.gmail.com>	<fq8qrr$sh5$1@ger.gmane.org>	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>	<fq9sfp$te0$1@ger.gmane.org>	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>	<fqb74f$fo$1@ger.gmane.org>
	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>
Message-ID: <fqcjif$59l$1@ger.gmane.org>

Google Pages seems not to be ideal to act as place from where others can 
download files. Not at all.

Try this address instead:
http://goto.glocalnet.net/stfiles/GDALPlugin_source.zip
No bandwidth limit there. None that I know of at least (space given by 
my ISP).

Did try number 2. No success. When user tried to use that version of the 
DLL SportTracks didn't even bother to try to load the plugin. I guess 
there is some complex interaction between different version of .Net 
libraries. Or whatever.

The roundabout time is not to big, the user is quite fast at trying my 
patches but still, if it is not much to ask of you, could you try and 
see if you can get my plugin to play along nicely with both SportTracks 
and GDAL? Could it perhaps work if I target the project to .Net3.5?

Or if SportTracks were to be compiled with the flag perhaps...

Should perhaps mention that with the x86-flag set the plugin functions 
as usual on my computer. No difference whatever .Net version I target it 
on. Well, I do almost nothing in the code so not much can go wrong there.

Yours
tired Tomas signing out

Tamas Szekeres skrev:
> 2008/3/1, Tomas R <monshi@home.se>:
>   
>> Oh, thanks for testing my plugin. Really appreciate your assistance!
>>
>>  The source project, the whole VSE solution, you can find here:
>>  http://mapplugin.googlepages.com/GDALPlugin_source.zip
>>  Excluded are ALL DLLs from FWTools, just to keep down the size. I guess
>>  you have those. Copy all DLL files in FWTools\bin to the folder GDALBin
>>  in the project and set all files to be copied to target. Probably you
>>  also have to set the target folder of the build to another location
>>  since it is set to the location of the installation of SportTracks on my
>>  computer.
>>
>>     
>
> I couldn't download this file, I always got the following response:
>
> "The bandwidth or page view limit for this site has been exceeded and
> the page cannot be viewed at this time. Once the site is below the
> limit, it will once again begin serving as normal."
>
>
>   
>>  1: Oh, my. No chance you (or who ever) moves FWTools to Net2 and
>>  possibly Win64 soon?  I guess it is possible for me, on a XP 32 bit, to
>>  compile it all to Win64 but it is unknown territory for me.
>>  What would I need to recompile? Just the files the C# wrapper directly
>>  interact with (gdal, gdalwarp, osr, ogr, gdalconst, mapscript) or all
>>  (!) files of the FWTools package I may need? Which I actually need of
>>  those - no idea.
>>
>>  2: Quick, dirty and may work. I will give it a try but, as you indicate,
>>  it is far from a perfect solution. Took some time but I finally found
>>  how to set this option in Visual Studio Express, this page helped me:
>>  http://www.thescripts.com/forum/thread755379.html
>>  Will give the Vista 64 user a version with the flag set and see if it
>>  works.
>>
>>     
>
> I'm afraid I couldn't express my priorities properly. I would support
> option 2 much better than option 1. I'm saying this because compiling
> some parts of the gdal is much painful, some of those (like SDE)
> cannot be compiled at all. You also have to compile such way the
> dependent libraries as well, and I guess some of those have no WIN64
> support either.
> However I'll be trying to put together a GDAL WIN64 wiki for reference.
>
>
> Best regards,
>
> Tamas
>   

From szekerest at gmail.com  Sat Mar  1 19:14:25 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat Mar  1 19:14:30 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <fqcjif$59l$1@ger.gmane.org>
References: <fq8foq$m8o$1@ger.gmane.org>
	<f3b73b7d0802290251k75ffa550y2badacac33d3ae54@mail.gmail.com>
	<fq8qrr$sh5$1@ger.gmane.org>
	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>
	<fq9sfp$te0$1@ger.gmane.org>
	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
	<fqb74f$fo$1@ger.gmane.org>
	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>
	<fqcjif$59l$1@ger.gmane.org>
Message-ID: <f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>

Yes I can see that the .NET framework 2.0 x64 cannot load assemblies
compiled with the x86 option, definitely. Funny enough that the x64
2.0 framework can work along with the 1.1 version pretty well but our
FWTools bundle has 32 bit images so this option is not usable either
as you have experienced before.

I've recompiled your project with my 64 GDAL compilation and it seems
working well. I've uploaded the modified project and the binaries.
Currently I've included only the gdal and the proj4 related files.

http://vbkto.dyndns.org:1280/GDALPlugin/GDALPlugin_sourcex64.rar
http://vbkto.dyndns.org:1280/GDALPlugin/GDALPluginx64.rar

Best regards,

Tamas



2008/3/1, Tomas R <monshi@home.se>:
> Google Pages seems not to be ideal to act as place from where others can
>  download files. Not at all.
>
>  Try this address instead:
>  http://goto.glocalnet.net/stfiles/GDALPlugin_source.zip
>  No bandwidth limit there. None that I know of at least (space given by
>  my ISP).
>
>  Did try number 2. No success. When user tried to use that version of the
>  DLL SportTracks didn't even bother to try to load the plugin. I guess
>  there is some complex interaction between different version of .Net
>  libraries. Or whatever.
>
>  The roundabout time is not to big, the user is quite fast at trying my
>  patches but still, if it is not much to ask of you, could you try and
>  see if you can get my plugin to play along nicely with both SportTracks
>  and GDAL? Could it perhaps work if I target the project to .Net3.5?
>
>  Or if SportTracks were to be compiled with the flag perhaps...
>
>  Should perhaps mention that with the x86-flag set the plugin functions
>  as usual on my computer. No difference whatever .Net version I target it
>  on. Well, I do almost nothing in the code so not much can go wrong there.
>
>  Yours
>  tired Tomas signing out
>
>  Tamas Szekeres skrev:
>
> > 2008/3/1, Tomas R <monshi@home.se>:
>  >
>  >> Oh, thanks for testing my plugin. Really appreciate your assistance!
>  >>
>  >>  The source project, the whole VSE solution, you can find here:
>  >>  http://mapplugin.googlepages.com/GDALPlugin_source.zip
>  >>  Excluded are ALL DLLs from FWTools, just to keep down the size. I guess
>  >>  you have those. Copy all DLL files in FWTools\bin to the folder GDALBin
>  >>  in the project and set all files to be copied to target. Probably you
>  >>  also have to set the target folder of the build to another location
>  >>  since it is set to the location of the installation of SportTracks on my
>  >>  computer.
>  >>
>  >>
>  >
>  > I couldn't download this file, I always got the following response:
>  >
>  > "The bandwidth or page view limit for this site has been exceeded and
>  > the page cannot be viewed at this time. Once the site is below the
>  > limit, it will once again begin serving as normal."
>  >
>  >
>  >
>  >>  1: Oh, my. No chance you (or who ever) moves FWTools to Net2 and
>  >>  possibly Win64 soon?  I guess it is possible for me, on a XP 32 bit, to
>  >>  compile it all to Win64 but it is unknown territory for me.
>  >>  What would I need to recompile? Just the files the C# wrapper directly
>  >>  interact with (gdal, gdalwarp, osr, ogr, gdalconst, mapscript) or all
>  >>  (!) files of the FWTools package I may need? Which I actually need of
>  >>  those - no idea.
>  >>
>  >>  2: Quick, dirty and may work. I will give it a try but, as you indicate,
>  >>  it is far from a perfect solution. Took some time but I finally found
>  >>  how to set this option in Visual Studio Express, this page helped me:
>  >>  http://www.thescripts.com/forum/thread755379.html
>  >>  Will give the Vista 64 user a version with the flag set and see if it
>  >>  works.
>  >>
>  >>
>  >
>  > I'm afraid I couldn't express my priorities properly. I would support
>  > option 2 much better than option 1. I'm saying this because compiling
>  > some parts of the gdal is much painful, some of those (like SDE)
>  > cannot be compiled at all. You also have to compile such way the
>  > dependent libraries as well, and I guess some of those have no WIN64
>  > support either.
>  > However I'll be trying to put together a GDAL WIN64 wiki for reference.
>  >
>  >
>  > Best regards,
>  >
>  > Tamas
>  >
>
>
> _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From maplabs at light42.com  Sat Mar  1 23:29:18 2008
From: maplabs at light42.com (Brian Hamlin)
Date: Sat Mar  1 23:29:29 2008
Subject: [gdal-dev] Source dataset during ogr2ogr
In-Reply-To: <47C87D97.4000802@pobox.com>
References: <47C86122.10609@pmldnet.com> <47C86270.4090002@pmldnet.com>
	<845AADAC1106E44996327D62097E4C6BFB0D47@et.ad.sdsc.edu>
	<47C87D97.4000802@pobox.com>
Message-ID: <38F8B11A-E811-11DC-8E7C-000A277A733C@light42.com>

This may or may not be related...

Support for atom:author in generated KML is important...

in reviewing some of the GoogleDev presentations on search and KML (and  
GeoRSS)
Data source/ownership Attribution comes up in several ways.. the main  
idea being that if a file is sitting on a server somehwere and is web  
searchable, then it can come up in a spatially aware Google search.  
Google is evangelizing such searches. However relatively few are  
incented to make their data world searchable without attribution (and  
links back to the originating site, too)

Thats the reasoning behind adding the atom:link and atom:author in the  
KML 2.2 spec.

-Brian


On Feb 29, 2008, at 1:48 PM, Frank Warmerdam wrote:

> Christopher Condit wrote:
>> I'm working on the KML 2.2 update for the KML OGR driver, and I'm
>> curious if there's some way to get access to the source dataset object
>> from the created dataset during an ogr2ogr call. In this case I'm
>> interested in looking at all the feature definitions from the source
>> dataset s.t. I can create the schema correctly in the KML output...
>
> Chris,
>
> No, there is no way to do this.
>
> In the GDAL there is CreateCopy() which lets a destination dataset
> configure itself based on a source dataset but there is no OGR analog.
>
> Best regards,
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo,  
> http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From tutey at o2.pl  Sun Mar  2 04:48:35 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sun Mar  2 04:50:05 2008
Subject: [gdal-dev] gdalwarp -co COMPRESSION issues
Message-ID: <47CA77F3.2010102@o2.pl>

Hi

The bug http://trac.osgeo.org/gdal/ticket/1689 is still present in 1.5.0
+ SVN r13865. In that report I mention that gdalwarp creates compressed
TIFFs 45% bigger than gdal_translate. Recently I've noticed it can even
produce TIFFs 13 times (!) bigger (and more?).

Given an input GeoTIFF of size 21802684 bytes, the command:

$ gdal_translate -co "COMPRESS=DEFLATE" slope.tif slope_gt.tif

produces it's clone, of the same size - OK. However, the command:

$ gdalwarp -co "COMPRESS=DEFLATE" slope.tif slope_gw.tif

creates a file 13x bigger - 299550004 bytes!


Moreover, if the input file is big enough for gdalwarp with compression
to try creating 4GB+ raster, it corrupts the output, yielding errors:

0...O10...20...30...40...50...60...70...80...90ERROR 1:
TIFFAppendToStrip:Maximum TIFF file size exceeded
ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
ERROR 1: TIFFWriteEncodedStrip() failed.

which I guess should not happen, since BigTIFF is enabled - at configure
I have: "LIBTIFF support: internal (BigTIFF=yes)".


For the above reasons, shouldn't output compression for gdalwarp be
disabled to avoid data corruption and wasting space? Or would fixing
another bug, http://trac.osgeo.org/gdal/ticket/1688, fix the compression
in gdalwarp too?

Maciek
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jukka.rahkonen at mmmtike.fi  Mon Mar  3 00:21:38 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Mar  3 00:21:54 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
References: <47CA77F3.2010102@o2.pl>
Message-ID: <loom.20080303T051637-425@post.gmane.org>

Maciej Sieczka <tutey <at> o2.pl> writes:

> Moreover, if the input file is big enough for gdalwarp with compression
> to try creating 4GB+ raster, it corrupts the output, yielding errors:

> TIFFAppendToStrip:Maximum TIFF file size exceeded
> ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
> ERROR 1: TIFFWriteEncodedStrip() failed.
> 
> which I guess should not happen, since BigTIFF is enabled - at configure
> I have: "LIBTIFF support: internal (BigTIFF=yes)".


About BigTIFF, I guess that the error will perhaps not happen if you ask
gdalwarp to use it by adding -co BigTIFF=yes.

-Jukka Rahkonen-

From dylan.beaudette at gmail.com  Mon Mar  3 01:04:41 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Mon Mar  3 01:04:50 2008
Subject: [gdal-dev] ogr2ogr and GPX files
Message-ID: <200803022204.41430.dylan.beaudette@gmail.com>

Hi,

is there a simple approach (via ogr2ogr) to create GPS files which have 
standard waypoint tags such as <name>, <elev>, <cmt>, etc. by re-mapping 
columns in the attribute table of the source vector?

for example:

# export points vector from GRASS
v.out.ogr in=wp type=point dsn=wp.shp

# convert tp GPX:
ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
-f GPX -dsco GPX_USE_EXTENSIONS=YES \
wp_gps.gpx wp.shp

This results in a working GPX waypoints file, that when uploaded to a GPS is 
functional, but the waypoints are all re-named sequentially. Note that I am 
uploading the GPX file the GPS via gpsbabel.

Does anyone know of the appropriate incantation that one could use to 
translate the column structure of the input wp.shp (i.e. the stuff in 
its .dbf) into standard waypoint tags?

thanks in advance!

PS: trying to write a simple tutorial for some colleagues [1]

1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553



-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From oliver.eichler at gmx.de  Mon Mar  3 03:12:15 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon Mar  3 03:12:19 2008
Subject: [gdal-dev] (no subject)
Message-ID: <20080303081215.160460@gmx.net>

Hi,

is FWTools 2.1.0 for Windows able to open GeoTiffs larger than 2GB? When using GDALOpen it failes with the "TIFFFetchStripThing:Sanity check on size of "TileOffsets" value failed" error. The file is processed by GDAL / Linux without complains.

Do I miss anything obvious?

Oliver
From andrew.deklerk at gmail.com  Mon Mar  3 04:51:25 2008
From: andrew.deklerk at gmail.com (Andrew de klerk)
Date: Mon Mar  3 04:51:27 2008
Subject: [Gdal-dev] Translation Error
In-Reply-To: <15762177.post@talk.nabble.com>
References: <15760215.post@talk.nabble.com> <47C82BF1.8000104@pobox.com>
	<15762177.post@talk.nabble.com>
Message-ID: <15799923.post@talk.nabble.com>



Hi all, does anyone have any idea how we can convert the detail from the
postgis projection information into the epsg format?

Many thanks
Andrew
-- 
View this message in context: http://www.nabble.com/Translation-Error-tp15760215p15799923.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From monshi at home.se  Mon Mar  3 05:54:47 2008
From: monshi at home.se (Tomas R)
Date: Mon Mar  3 05:55:04 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>
References: <fq8foq$m8o$1@ger.gmane.org>	<f3b73b7d0802290251k75ffa550y2badacac33d3ae54@mail.gmail.com>	<fq8qrr$sh5$1@ger.gmane.org>	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>	<fq9sfp$te0$1@ger.gmane.org>	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>	<fqb74f$fo$1@ger.gmane.org>	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>	<fqcjif$59l$1@ger.gmane.org>
	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>
Message-ID: <fqgldn$mus$1@ger.gmane.org>

Seems to be working, reports back Version 1.6.0Dev released 2008/00/00.

Have now created a small test plugin to test if my custom map plugin, 
which relies on GDAL to work, will work with this minimalistic GDAL 
distribution.

If I do a try on my computer, removing all files but my current versions 
of the file you have provided  in 64 bit versions, nothing at all works. 
Can't even retrieve version number. Perhaps caused by the fact that it 
is a version targeted for FWTools. 

I will have to wait on my guinea pig for the actual results.One result 
back as I am writing this, number 2 below works. Number 1 not tested, 
some strange error in my code stops the execution before any call to 
GDAL is made.

In essential, what I need to be able to do, the use my map plugin has of 
GDAL are:
1: Set up a pair of spatial references (OSGeo.OGR), by use of EPSG or 
WKT strings, and use in a CoordinateTransformation.
2: Read images/bitmaps from various file formats. Using code close to 
the SaveBitmapDirect example found in  the C# tutorial files.

In short - what functionality do the FWTools libraries contribute with? 
Perhaps I can skip them and just distribute the GDAL binaries and the 
proj4 binary? Would that be enough for what I wish todo? And for the 
elevation plugin to perhaps? But the I would need to compile GDAL 
myself. Or?

Another plugin which uses GDAL is one which retrieves elevation data 
from files partly by use of GDAL. No idea what it actually do or how 
(DEM files?). Will have to wait a week to test his calls since he is 
away on vacation now.


Yours
Tomas

Tamas Szekeres skrev:
> Yes I can see that the .NET framework 2.0 x64 cannot load assemblies
> compiled with the x86 option, definitely. Funny enough that the x64
> 2.0 framework can work along with the 1.1 version pretty well but our
> FWTools bundle has 32 bit images so this option is not usable either
> as you have experienced before.
>
> I've recompiled your project with my 64 GDAL compilation and it seems
> working well. I've uploaded the modified project and the binaries.
> Currently I've included only the gdal and the proj4 related files.
>
> http://vbkto.dyndns.org:1280/GDALPlugin/GDALPlugin_sourcex64.rar
> http://vbkto.dyndns.org:1280/GDALPlugin/GDALPluginx64.rar
>
> Best regards,
>
> Tamas
>
>
>
> 2008/3/1, Tomas R <monshi@home.se>:
>   
>> Google Pages seems not to be ideal to act as place from where others can
>>  download files. Not at all.
>>
>>  Try this address instead:
>>  http://goto.glocalnet.net/stfiles/GDALPlugin_source.zip
>>  No bandwidth limit there. None that I know of at least (space given by
>>  my ISP).
>>
>>  Did try number 2. No success. When user tried to use that version of the
>>  DLL SportTracks didn't even bother to try to load the plugin. I guess
>>  there is some complex interaction between different version of .Net
>>  libraries. Or whatever.
>>
>>  The roundabout time is not to big, the user is quite fast at trying my
>>  patches but still, if it is not much to ask of you, could you try and
>>  see if you can get my plugin to play along nicely with both SportTracks
>>  and GDAL? Could it perhaps work if I target the project to .Net3.5?
>>
>>  Or if SportTracks were to be compiled with the flag perhaps...
>>
>>  Should perhaps mention that with the x86-flag set the plugin functions
>>  as usual on my computer. No difference whatever .Net version I target it
>>  on. Well, I do almost nothing in the code so not much can go wrong there.
>>
>>  Yours
>>  tired Tomas signing out
>>
>>  Tamas Szekeres skrev:
>>
>>     
>>> 2008/3/1, Tomas R <monshi@home.se>:
>>>       
>>  >
>>  >> Oh, thanks for testing my plugin. Really appreciate your assistance!
>>  >>
>>  >>  The source project, the whole VSE solution, you can find here:
>>  >>  http://mapplugin.googlepages.com/GDALPlugin_source.zip
>>  >>  Excluded are ALL DLLs from FWTools, just to keep down the size. I guess
>>  >>  you have those. Copy all DLL files in FWTools\bin to the folder GDALBin
>>  >>  in the project and set all files to be copied to target. Probably you
>>  >>  also have to set the target folder of the build to another location
>>  >>  since it is set to the location of the installation of SportTracks on my
>>  >>  computer.
>>  >>
>>  >>
>>  >
>>  > I couldn't download this file, I always got the following response:
>>  >
>>  > "The bandwidth or page view limit for this site has been exceeded and
>>  > the page cannot be viewed at this time. Once the site is below the
>>  > limit, it will once again begin serving as normal."
>>  >
>>  >
>>  >
>>  >>  1: Oh, my. No chance you (or who ever) moves FWTools to Net2 and
>>  >>  possibly Win64 soon?  I guess it is possible for me, on a XP 32 bit, to
>>  >>  compile it all to Win64 but it is unknown territory for me.
>>  >>  What would I need to recompile? Just the files the C# wrapper directly
>>  >>  interact with (gdal, gdalwarp, osr, ogr, gdalconst, mapscript) or all
>>  >>  (!) files of the FWTools package I may need? Which I actually need of
>>  >>  those - no idea.
>>  >>
>>  >>  2: Quick, dirty and may work. I will give it a try but, as you indicate,
>>  >>  it is far from a perfect solution. Took some time but I finally found
>>  >>  how to set this option in Visual Studio Express, this page helped me:
>>  >>  http://www.thescripts.com/forum/thread755379.html
>>  >>  Will give the Vista 64 user a version with the flag set and see if it
>>  >>  works.
>>  >>
>>  >>
>>  >
>>  > I'm afraid I couldn't express my priorities properly. I would support
>>  > option 2 much better than option 1. I'm saying this because compiling
>>  > some parts of the gdal is much painful, some of those (like SDE)
>>  > cannot be compiled at all. You also have to compile such way the
>>  > dependent libraries as well, and I guess some of those have no WIN64
>>  > support either.
>>  > However I'll be trying to put together a GDAL WIN64 wiki for reference.
>>  >
>>  >
>>  > Best regards,
>>  >
>>  > Tamas
>>  >
>>
>>
>> _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     

From szekerest at gmail.com  Mon Mar  3 06:50:14 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar  3 06:50:16 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <fqgldn$mus$1@ger.gmane.org>
References: <fq8foq$m8o$1@ger.gmane.org> <fq8qrr$sh5$1@ger.gmane.org>
	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>
	<fq9sfp$te0$1@ger.gmane.org>
	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
	<fqb74f$fo$1@ger.gmane.org>
	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>
	<fqcjif$59l$1@ger.gmane.org>
	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>
	<fqgldn$mus$1@ger.gmane.org>
Message-ID: <f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>

2008/3/3, Tomas R <monshi@home.se>:
>  In essential, what I need to be able to do, the use my map plugin has of
>  GDAL are:
>  1: Set up a pair of spatial references (OSGeo.OGR), by use of EPSG or
>  WKT strings, and use in a CoordinateTransformation.
>  2: Read images/bitmaps from various file formats. Using code close to
>  the SaveBitmapDirect example found in  the C# tutorial files.
>

I think only proj have to be included for option1, but option 2
depends on the data formats you actually use.

>  In short - what functionality do the FWTools libraries contribute with?
>  Perhaps I can skip them and just distribute the GDAL binaries and the
>  proj4 binary? Would that be enough for what I wish todo? And for the
>  elevation plugin to perhaps? But the I would need to compile GDAL
>  myself. Or?
>

It would be healthy to compile it yourself and include only the
options you actually use. Then you'll have to deploy only the required
dll-s along with the plugin. This may provide you a similar .NET FW
2.0 compatible package for Win32 just like for Win64.
Recall that FWTools provides only .NET FW 1.1 compatible assemblies at
the moment.

Best regards,

Tamas
From monshi at home.se  Mon Mar  3 07:43:54 2008
From: monshi at home.se (Tomas R)
Date: Mon Mar  3 07:44:08 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>
References: <fq8foq$m8o$1@ger.gmane.org>
	<fq8qrr$sh5$1@ger.gmane.org>	<f3b73b7d0802290412h1f8b12adk8612d6d2170ed178@mail.gmail.com>	<fq9sfp$te0$1@ger.gmane.org>	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>	<fqb74f$fo$1@ger.gmane.org>	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>	<fqcjif$59l$1@ger.gmane.org>	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>	<fqgldn$mus$1@ger.gmane.org>
	<f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>
Message-ID: <fqgrqa$eep$1@ger.gmane.org>

Healthy idea to compile GDAL myself. Not sure it would be so healthy for 
me...It is nice to use FWTools. Very nice since I don't have to worry 
about what I need or not need.

File formats I need to support? Well, whatever the user of my plugin 
chooses to use! Png, gif, tiff, jpeg, rik, geotiff, Jpeg2000.. 
whatever.. The file formats listed here:
http://www.gdal.org/formats_list.html
are those the ones GDAL internally support?


Oh, f_ck. I will give it a try. I guess spend half a day or so to 
download what I need and a couple of hours more to get it all to work. I 
guess I won't be able to create a Win64 version on my computer? Or may I 
not at all need a specific Win64 version  if I remove all FWTools stuff?
Proj4 - for Win32, just need to download from http://proj.maptools.org/ 
and include in the same folder as GDAL is in and GDAL finds it? Or an 
option while building the project?

So - all in all, if I compile the gdal-project and the C# wrappers, 
include the proj4 and then I should have all I need?

Thanks for your patience with me
/Tomas

Tamas Szekeres skrev:
> 2008/3/3, Tomas R <monshi@home.se>:
>   
>>  In essential, what I need to be able to do, the use my map plugin has of
>>  GDAL are:
>>  1: Set up a pair of spatial references (OSGeo.OGR), by use of EPSG or
>>  WKT strings, and use in a CoordinateTransformation.
>>  2: Read images/bitmaps from various file formats. Using code close to
>>  the SaveBitmapDirect example found in  the C# tutorial files.
>>
>>     
>
> I think only proj have to be included for option1, but option 2
> depends on the data formats you actually use.
>
>   
>>  In short - what functionality do the FWTools libraries contribute with?
>>  Perhaps I can skip them and just distribute the GDAL binaries and the
>>  proj4 binary? Would that be enough for what I wish todo? And for the
>>  elevation plugin to perhaps? But the I would need to compile GDAL
>>  myself. Or?
>>
>>     
>
> It would be healthy to compile it yourself and include only the
> options you actually use. Then you'll have to deploy only the required
> dll-s along with the plugin. This may provide you a similar .NET FW
> 2.0 compatible package for Win32 just like for Win64.
> Recall that FWTools provides only .NET FW 1.1 compatible assemblies at
> the moment.
>
> Best regards,
>
> Tamas
>   

From mitchelljj98 at gmail.com  Mon Mar  3 10:00:33 2008
From: mitchelljj98 at gmail.com (John Mitchell)
Date: Mon Mar  3 10:00:36 2008
Subject: [gdal-dev] gdalwarp -srcnodata "0 0 0" -dstnodata "0 0 1" error
	when running within linux/fwtools via a Java application
Message-ID: <fa2ac0580803030700s40aedde2wd354a0ad8e32ba4@mail.gmail.com>

We have recently done some testing with image processing on a Linux Server
using FWTools 2.0.1. All of the gdal commands work from within our
application which is basically a Java App which goes through and makes
several system calls. However when we run gdalwarp, in particular -srcnodata
"0 0 0" -dstnodata "0 0 1", the command line interprets one of the zeros as
an argument for another switch. Here is the error we get:



ERROR>ERROR 4: `0' does not exist in the file system,

ERROR>and is not recognised as a supported dataset name.



We have tried using quotes, not using quotes, single quotes, double quotes
and double of both. Every time we get the same error.


Note: When we run gdalwarp -srcnodata "0 0 0" -dstnodata "0 0 1" etc. from
the command window it works fine, and also on windows/fwtools within the
same Java Application.


Is their any other character besides double quotes that you can use for
-srcnodata "0 0 0" and -dstnodata "0 0 1" within gdalwarp?


Thanks,


-- 
John J. Mitchell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080303/2d71655a/attachment-0001.html
From warmerdam at pobox.com  Mon Mar  3 10:13:02 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar  3 10:13:29 2008
Subject: [gdal-dev] gdalwarp -srcnodata "0 0 0" -dstnodata "0 0 1" error
	when running within linux/fwtools via a Java application
In-Reply-To: <fa2ac0580803030700s40aedde2wd354a0ad8e32ba4@mail.gmail.com>
References: <fa2ac0580803030700s40aedde2wd354a0ad8e32ba4@mail.gmail.com>
Message-ID: <47CC157E.8050209@pobox.com>

John Mitchell wrote:
> We have recently done some testing with image processing on a Linux Server
> using FWTools 2.0.1. All of the gdal commands work from within our
> application which is basically a Java App which goes through and makes
> several system calls. However when we run gdalwarp, in particular -srcnodata
> "0 0 0" -dstnodata "0 0 1", the command line interprets one of the zeros as
> an argument for another switch. Here is the error we get:
> 
> 
> 
> ERROR>ERROR 4: `0' does not exist in the file system,
> 
> ERROR>and is not recognised as a supported dataset name.
> 
> 
> 
> We have tried using quotes, not using quotes, single quotes, double quotes
> and double of both. Every time we get the same error.
> 
> 
> Note: When we run gdalwarp -srcnodata "0 0 0" -dstnodata "0 0 1" etc. from
> the command window it works fine, and also on windows/fwtools within the
> same Java Application.
> 
> 
> Is their any other character besides double quotes that you can use for
> -srcnodata "0 0 0" and -dstnodata "0 0 1" within gdalwarp?

John,

I would suggest using single quotes.  On linux these also hold together a
single commandline argument and they generally are more easily preserved
through transformations than double quotes.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From lran at unc.edu  Mon Mar  3 11:14:24 2008
From: lran at unc.edu (Limei Ran)
Date: Mon Mar  3 11:15:04 2008
Subject: [gdal-dev] Extracting cell values from a big image and many
	smaller images
In-Reply-To: <47C836ED.6060401@pobox.com>
References: <20080229105016.h2wdvlankoc4wc4s@webmail5.isis.unc.edu>
	<47C836ED.6060401@pobox.com>
Message-ID: <47CC23E0.5080001@unc.edu>

Hi Frank:

Thank you very much for your help.  I am still puzzled about what GDAL 
classes I should use in our application.  I should give you more details 
about our goal in the previous email.  Our goal for the program is to 
compute the percent of each NLCD 30meter landuse type within each of 
12km modeling grids like zonal computation in arcGIS.  The 12km modeling 
grids cover almost more than 2/3 US (in meterological modeling) and some 
Canada and Mexico.   For areas outside US, we want to use MODIS 1km data 
for the landuse type percent calculation. 

I created a program using OGR classes to generate the 12km modeling grid 
shapefile with modeling grid IDs.  Then, I used ogr2ogr for projection 
conversion, gdal_translate to create a 30 meter-cell 0 value grid with 
the modeling grid extent, and gdal_rasterize to rasterize the shapefile 
into the 0 value image as you suggested (UInt32 to hold ID).  I also 
clipped 1km MODIS image using the modeling area and regrid it into 30m 
grid cells.

Now, I have this created image (116474 X 100960 cells with 30 meter cell 
size, 47gb for *.bil file), 14 NLCD 30 meters landuse images, and MODIS 
30meter landuse image.  I am developing a cpp program using GDAL to 
compute a table which has modeling grid ID and all landuse perentages 
falling into this modeling grid.

The logic in my mind is to read through each NLCD and match each pixel 
in the modeling grid image to calculate each landuse types falling into 
the modeling grid.  After going through NLCD images, non-data areas will 
be calculated using MODIS image data.  But, reading through one pixel at 
a time will take a long time to finish using RasterIO() like you said. 

What is the best way to read through those images for the program under 
GDAL?  Are there any image addition classes or zonal function classes I 
can use within GDAL c++?

Thank you very much,


Limei


Frank Warmerdam wrote:

> Limei Ran wrote:
>
>>
>> Hi:
>>
>> I am using GDAL cpp library to create a program. The program will 
>> ultimately generate a statistic table with cell values from a very 
>> big modeling grid domain image (almost whole US) and many smaller 
>> land use images within the big image.
>>
>> I need to go through all the small image pixels to match grid cell 
>> values in the big image. There are many ways to read image data in 
>> line and blocks from GDALRasterBand class.
>>
>> Since I am new in using GDAL libraries, I appreciate any suggestion 
>> you might have in accessing the images efficiently.
>
>
> Limei,
>
> I'm not exactly clear on what you want to do, but a couple hints:
>
>  - Avoid doing many one pixel reads with RasterIO().  There is quite
>    a bit of overhead in each call and so you should only do one pixel
>    reads when that is all you really need.  I believe even with caching
>    using one pixel reads to read a whole scanline would be easily an
>    order of magnitude slower than doing one full scanline read.
>
>  - If you will be accessing your huge image in local chunks, consider
>    organizing it as a tiled image.  Perhaps an imagine (HFA) file or
>    a BigTIFF with tiling.
>
>  - If you need precision, and your small land use images are for
>    reasonably small areas, I would suggest just loading all the data from
>    the big image that matches the area for the small image in one gulp
>    (one RasterIO() call).  Then do your matching analysis and then move
>    on to the next.
>
> Best regards,


From warmerdam at pobox.com  Mon Mar  3 11:59:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar  3 11:59:39 2008
Subject: [gdal-dev] (no subject)
In-Reply-To: <20080303081215.160460@gmx.net>
References: <20080303081215.160460@gmx.net>
Message-ID: <47CC2E54.3050205@pobox.com>

Oliver Eichler wrote:
> Hi,
> 
> is FWTools 2.1.0 for Windows able to open GeoTiffs larger than 2GB? When
> using GDALOpen it failes with the "TIFFFetchStripThing:Sanity check on size
> of "TileOffsets" value failed" error. The file is processed by GDAL / Linux
> without complains.
> 
> Do I miss anything obvious?

Oliver,

I tried:

gdal_translate -outsize 30000 10000 utm.tif out.tif
gdalinfo -mm out.tif

with my currently fwtools tree build which should, I think, closely
match FWTools 2.1.0.  The utm.tif file has one 8bit band, so the out.tif
file is a 3GB TIFF file (not BigTIFF).  The translation seemed to work, and
the gdalinfo ran successfully.

First, could you try the same steps I did, to see if they work for you?  If
not, then it must be something I have already fixed, and I'll just need to
issue a new release.  If it works, then there is something more specific
about your problem than just not reading geotiff files larger than 2GB and
you will need to narrow it down.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Bob.Moskovitz at conservation.ca.gov  Mon Mar  3 12:43:22 2008
From: Bob.Moskovitz at conservation.ca.gov (Moskovitz, Bob)
Date: Mon Mar  3 12:43:27 2008
Subject: [gdal-dev] epsg_tr.py in reverse?
In-Reply-To: <47C8D76F.8010402@pobox.com>
Message-ID: <A73B6E7A4503E948826CE81A65AF5FECA2A3FB@docexs1.ad.consrv.ca.gov>

Thanks Frank, I'll take play with this last idea.

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com]
> Sent: Friday, February 29, 2008 8:11 PM
> To: Moskovitz, Bob
> Cc: Gdal-Dev (E-mail 2)
> Subject: Re: [gdal-dev] epsg_tr.py in reverse?
> 
> 
> Moskovitz, Bob wrote:
> > Hello All,
> > 
> > I would like to find a utility that would allow you to find 
> the EPSG code
> > given a proj4 string.  Sort of a epsg_tr.py in reverse.  
> Can a utility be
> > written with the gdal api to do that?
> 
> Bob,
> 
> You could walk the whole list of EPSG coordinate systems, import each
> to an OGRSpatialReference object, and then use the OGRSpatialReference
> IsSame() method to compare it to an OGRSpatialReference imported from
> a PROJ.4 definition.  This would, in theory, let you find a 
> match.  But
> in practice this is computationally expensive and the 
> IsSame() method is
> flakey in a number of regards (too sensitive to some 
> differences such as
> order, and not aware of other differences like prime meridian).
> 
> Another approach would be to convert them all to PROJ.4 
> format and do exact
> string comparisons.  You would need to convert the original 
> (target) PROJ.4
> definition to WKT and convert it back to PROJ.4 too, so it would be
> "normalized" to the style of PROJ.4 produced by OGR.
> 
> This would likely work fairly well, but would still be sensitive to
> different numeric precision for parameters.
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, 
http://osgeo.org

From wollez at gmx.net  Mon Mar  3 12:49:52 2008
From: wollez at gmx.net (WolfgangZ)
Date: Mon Mar  3 12:49:57 2008
Subject: [gdal-dev] Re: (no subject)
In-Reply-To: <47CC2E54.3050205@pobox.com>
References: <20080303081215.160460@gmx.net> <47CC2E54.3050205@pobox.com>
Message-ID: <fqhdnq$moe$1@ger.gmane.org>

Frank Warmerdam schrieb:
> Oliver Eichler wrote:
>> Hi,
>>
>> is FWTools 2.1.0 for Windows able to open GeoTiffs larger than 2GB? When
>> using GDALOpen it failes with the "TIFFFetchStripThing:Sanity check on 
>> size
>> of "TileOffsets" value failed" error. The file is processed by GDAL / 
>> Linux
>> without complains.
>>
>> Do I miss anything obvious?
> 
> Oliver,
> 
> I tried:
> 
> gdal_translate -outsize 30000 10000 utm.tif out.tif
> gdalinfo -mm out.tif
> 
> with my currently fwtools tree build which should, I think, closely
> match FWTools 2.1.0.  The utm.tif file has one 8bit band, so the out.tif
> file is a 3GB TIFF file (not BigTIFF).  The translation seemed to work, and
> the gdalinfo ran successfully.
> 
> First, could you try the same steps I did, to see if they work for you?  If
> not, then it must be something I have already fixed, and I'll just need to
> issue a new release.  If it works, then there is something more specific
> about your problem than just not reading geotiff files larger than 2GB and
> you will need to narrow it down.
> 
> Best regards,

Hi Frank,

I also had a problem with the sanity check but that came by merging a 
lot of tiles with gdalmerge. A resulting file (~200GB, Geotiff with LZW 
compression) was created but everything I tried on that file failed 
(gdalinfo, gdal_translate, ...). Also all viewing applications failed.

I still have the tiles and I should be abel to recreate the error. What 
information do you need to track down the error?

Regards
Wolfgang

From ari.jolma at tkk.fi  Mon Mar  3 12:53:03 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Mon Mar  3 12:53:41 2008
Subject: [gdal-dev] Strange problem in classroom usage of PostGIS and GDAL
Message-ID: <47CC3AFF.9000907@tkk.fi>

Hi,

Sorry for x-posting.

I've been running a course on a Windows classroom, teaching spatial SQL. 
It's mainly based on Paul Ramsey's excellent "Introduction in PostGIS" 
exercises that I've pulled out from Lausanne website. The client the the 
students use is mostly PgAdmin but Quantum GIS and Geoinformatica 
(GDAL+Perl+GTK, my own stack) is used in the last steps instead of 
Mapserver as in Paul's paper. The databases (each student has her own) 
are on a Linux server.

On some cases the data retrieval from the base to the GIS clients 
(PgAdmin seems to be ok) fails. The schema is retrieved (also the number 
of features is ok) ok but the data just does not appear - i.e. the OGR 
Layer is empty. In a couple of cases no data at all is shown, and in 
some cases full layers are ok but layers with SQL do not show. The 
behavior is quite puzzling and I can't explain it. I and the students 
who have been affected have checked rights, srids etc. many times. In a 
case I tried to pull data from my own database with my own user id into 
a student's session, and it did not work. In my own session I haven't 
noticed any problems. The problem seems to be with certain windows-sessions.

In first sessions I hit the max connections limit on the database but 
that was easy to fix.

Are there any situations, where GDAL don't get data from a remote 
PostGIS but it does not issue warnings?

Regards,

Ari
(follow-ups preferably to gdal-dev)

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From szekerest at gmail.com  Mon Mar  3 12:56:56 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar  3 12:57:00 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <fqgrqa$eep$1@ger.gmane.org>
References: <fq8foq$m8o$1@ger.gmane.org> <fq9sfp$te0$1@ger.gmane.org>
	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>
	<fqb74f$fo$1@ger.gmane.org>
	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>
	<fqcjif$59l$1@ger.gmane.org>
	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>
	<fqgldn$mus$1@ger.gmane.org>
	<f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>
	<fqgrqa$eep$1@ger.gmane.org>
Message-ID: <f3b73b7d0803030956t7f035b34l36a3feba1a1aafbe@mail.gmail.com>

2008/3/3, Tomas R <monshi@home.se>:
> Healthy idea to compile GDAL myself. Not sure it would be so healthy for
>  me...It is nice to use FWTools. Very nice since I don't have to worry
>  about what I need or not need.
>
>  File formats I need to support? Well, whatever the user of my plugin
>  chooses to use! Png, gif, tiff, jpeg, rik, geotiff, Jpeg2000..
>  whatever.. The file formats listed here:
>  http://www.gdal.org/formats_list.html
>  are those the ones GDAL internally support?
>

Some of the drivers are compiled in by default, however some of those
depend on external libararies that should be specified during the
compilation. This might involve the need of adding external dlls to
the package. Anyway you can use 'gdalinfo --formats' to see which
drivers are actually supported by the compilation.

>
>  Oh, f_ck. I will give it a try. I guess spend half a day or so to
>  download what I need and a couple of hours more to get it all to work. I
>  guess I won't be able to create a Win64 version on my computer? Or may I
>  not at all need a specific Win64 version  if I remove all FWTools stuff?
>  Proj4 - for Win32, just need to download from http://proj.maptools.org/
>  and include in the same folder as GDAL is in and GDAL finds it? Or an
>  option while building the project?
>

Hmmm. Without having VS2005 or later installed on a 64 bit operating
system it's quite difficult to compile for Win64. (There might be some
3rdpty cross compile tools that I'm not aware of).
Anyway I've just made the buildbot results available for download that
contain many of the binaries (including the executables) of the
development version on various platforms:

.NET FW 2.0 Win64:
http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-full/package/bin.zip
.NET FW 2.0 Win32:
http://vbkto.dyndns.org:1080/gdal/szekerest-vc80-full/package/bin.zip
.NET FW 1.1 Win32:
http://vbkto.dyndns.org:1080/gdal/szekerest-vc71-full/package/bin.zip

I don't think these are suitable for use in a production environment, though.

FYI: I'm planning to put some efforts in adding a limited set of the
Win64 binaries into the upcoming osgeo4w installer. For more
information about this topic see:
http://wiki.osgeo.org/wiki/OSGeo_Win32_Installer



Best regards,

Tamas
From josegomez at gmx.net  Mon Mar  3 13:42:21 2008
From: josegomez at gmx.net (Jose Luis Gomez Dans)
Date: Mon Mar  3 13:42:24 2008
Subject: [gdal-dev] Meteosat 2nd Gen projection (MSG GEO)
In-Reply-To: <47C6D270.7010005@pobox.com>
References: <20080227212521.232610@gmx.net> <47C5D7EF.8050703@pobox.com>
	<20080228105736.257260@gmx.net> <47C6D270.7010005@pobox.com>
Message-ID: <20080303184221.133960@gmx.net>

Hi,

Forgot to send this message sorry!

> Jose Luis Gomez Dans wrote:
> > You are absolutely right (as usual!). The file contains two bands, one
> with
> > Latitude and one with Longitude values for each pixel's location. In a
> > sense, it is a set of GCPs stuck in a raster. Since my data are
> referenced
> > with respect to these pixels, I can then work out the Long/Lat values
> from
> > here. i guess that thinking about it, what I would like to do is to
> shove my
> > data into a raster like this (unreference) ENVI raster, and be able to
> > project it into something else. So I could still extract the data from
> my
> > reference ENVI raster into GCPs and use that work out the GeoTransform,
> and
> > assign a projection to my rasters.
> > 
> > Since I have a GCP for each pixel, what would be the best way of dealing
> > with this? Extracting gcp lines is not a problem, how can I tell
> > gdal_translate to use a 2000x2000 (ish) list of GCPs?
> 
> Jose,
> 
> There are a few approaches.
> 
> One is to extract a subset of GCPs (a 10x10 grib of GCPs would likely be
> sufficient).

This looked promising, so I tried it. A simple python script reads my raster file, and sets the GCPs in a VRT file. This file looks like this:

<VRTDataset rasterXSize="2319" rasterYSize="2477">
  <SRS>PROJCS[&quot;unnamed&quot;,
    GEOGCS[&quot;WGS 84&quot;,
        DATUM[&quot;unknown&quot;,
            SPHEROID[&quot;WGS84&quot;,6378137,298.257223563]],
        PRIMEM[&quot;Greenwich&quot;,0],
        UNIT[&quot;degree&quot;,0.0174532925199433]],
    PROJECTION[&quot;Geostationary_Satellite&quot;],
    PARAMETER[&quot;central_meridian&quot;,0],
    PARAMETER[&quot;satellite_height&quot;,35785831],
    PARAMETER[&quot;false_easting&quot;,0],
    PARAMETER[&quot;false_northing&quot;,0]]</SRS>
  <Metadata/>
  <GCPList Projection="PROJCS[&quot;unnamed&quot;,
    GEOGCS[&quot;WGS 84&quot;,
        DATUM[&quot;unknown&quot;,
            SPHEROID[&quot;WGS84&quot;,6378137,298.257223563]],
        PRIMEM[&quot;Greenwich&quot;,0],
        UNIT[&quot;degree&quot;,0.0174532925199433]],
    PROJECTION[&quot;Geostationary_Satellite&quot;],
    PARAMETER[&quot;central_meridian&quot;,0],
    PARAMETER[&quot;satellite_height&quot;,35785831],
    PARAMETER[&quot;false_easting&quot;,0],
    PARAMETER[&quot;false_northing&quot;,0]]">
    <GCP Id="1" Pixel="1.0000" Line="1.0000" X="-2.708186721802E+01" Y="3.807548141479E+01"/>
    <GCP Id="2" Pixel="1001.0000" Line="1.0000" X="9.776592254639E+00" Y="3.738645935059E+01"/>
    <GCP Id="3" Pixel="2001.0000" Line="1.0000" X="6.308378601074E+01" Y="4.104884719849E+01"/>
    <GCP Id="4" Pixel="1.0000" Line="1001.0000" X="-2.030329895020E+01" Y="6.382459163666E+00"/>
    <GCP Id="5" Pixel="1001.0000" Line="1001.0000" X="7.539474964142E+00" Y="6.312354087830E+00"/>
    <GCP Id="6" Pixel="2001.0000" Line="1001.0000" X="3.916501617432E+01" Y="6.590889930725E+00"/>
    <GCP Id="7" Pixel="1.0000" Line="2001.0000" X="-2.211191177368E+01" Y="-2.196564483643E+01"/>
    <GCP Id="8" Pixel="1001.0000" Line="2001.0000" X="8.158615112305E+00" Y="-2.168662071228E+01"/>
    <GCP Id="9" Pixel="2001.0000" Line="2001.0000" X="4.384607315063E+01" Y="-2.284282493591E+01"/>
  </GCPList>
  <VRTRasterBand dataType="Int16" band="1">
    <Metadata/>
    <Description>Resize (Band 1:MSG1-SEVI-MSG15-0100-NA-20040206091237.690000000Z-3382.natHRVDNs.img)</Description>
    <SimpleSource>
      <SourceFilename relativeToVRT="0">Input_file.dat</SourceFilename>
      <SourceBand>1</SourceBand>
      <SrcRect xOff="0" yOff="0" xSize="2319" ySize="2477"/>
      <DstRect xOff="0" yOff="0" xSize="2319" ySize="2477"/>
    </SimpleSource>
  </VRTRasterBand>
</VRTDataset>

So, it seems to make sense. If I now translate the VRT into say WGS84, I get a very strange projection issue: 
gdalwarp -rn -of GTiff -t_srs "EPSG:4326" <input.vrt> <output.tif>
gdalinfo <output.tif>
Driver: GTiff/GeoTIFF
Size is 3206, 2429
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.2572235629972,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-0.000237909788845,0.000372871476952)
Pixel Size = (0.000000284910289,-0.000000284910289)
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (  -0.0002379,   0.0003729) (  0d 0'0.86"W,  0d 0'1.34"N)
Lower Left  (  -0.0002379,  -0.0003192) (  0d 0'0.86"W,  0d 0'1.15"S)
Upper Right (   0.0006755,   0.0003729) (  0d 0'2.43"E,  0d 0'1.34"N)
Lower Right (   0.0006755,  -0.0003192) (  0d 0'2.43"E,  0d 0'1.15"S)
Center      (   0.0002188,   0.0000268) (  0d 0'0.79"E,  0d 0'0.10"N)
Band 1 Block=3206x1 Type=Int16, ColorInterp=Gray

This is clearly wrong, so there is something I'm not doing right. Does anyone have any clues?

Cheers,
Jose
-- 
Der GMX SmartSurfer hilft bis zu 70% Ihrer Onlinekosten zu sparen! 
Ideal f?r Modem und ISDN: http://www.gmx.net/de/go/smartsurfer
From even.rouault at mines-paris.org  Mon Mar  3 13:43:12 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  3 13:43:41 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <200803022204.41430.dylan.beaudette@gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
Message-ID: <200803031943.13393.even.rouault@mines-paris.org>

Hi,

I see your point...

The solution is the powerful OGR Virtual Dataset format !
See http://www.gdal.org/ogr/drv_vrt.html

In fact, the documentation should probably be extended to demonstrate the 
power of the OGR SQL for that particular case

Try to paste the following lines in a file (remapped_layer.vrt would be fine)

<OGRVRTDataSource>
    <OGRVRTLayer name="remapped_layer">
        <SrcDataSource>your_source.shp</SrcDataSource> 
        <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc FROM 
your_source_layer_name</SrcSQL> 
    </OGRVRTLayer>
</OGRVRTDataSource>

Replace your_source.shp, src_field_1, src_field_2 and your_source_layer_name 
by the appropriate values from your source dataset and 'ogrinfo -ro -al 
remapped_layer.vrt' should show a structure compatible of a GPX file.

Best regards,
Even

Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez ?crit?:
> Hi,
>
> is there a simple approach (via ogr2ogr) to create GPS files which have
> standard waypoint tags such as <name>, <elev>, <cmt>, etc. by re-mapping
> columns in the attribute table of the source vector?
>
> for example:
>
> # export points vector from GRASS
> v.out.ogr in=wp type=point dsn=wp.shp
>
> # convert tp GPX:
> ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> wp_gps.gpx wp.shp
>
> This results in a working GPX waypoints file, that when uploaded to a GPS
> is functional, but the waypoints are all re-named sequentially. Note that I
> am uploading the GPX file the GPS via gpsbabel.
>
> Does anyone know of the appropriate incantation that one could use to
> translate the column structure of the input wp.shp (i.e. the stuff in
> its .dbf) into standard waypoint tags?
>
> thanks in advance!
>
> PS: trying to write a simple tutorial for some colleagues [1]
>
> 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553


From even.rouault at mines-paris.org  Mon Mar  3 13:50:34 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  3 13:50:45 2008
Subject: [gdal-dev] Re: (no subject)
In-Reply-To: <fqhdnq$moe$1@ger.gmane.org>
References: <20080303081215.160460@gmx.net> <47CC2E54.3050205@pobox.com>
	<fqhdnq$moe$1@ger.gmane.org>
Message-ID: <200803031950.34262.even.rouault@mines-paris.org>

Folks,

that reminds me of this bug : http://trac.osgeo.org/gdal/ticket/2005

Le Monday 03 March 2008 18:49:52 WolfgangZ, vous avez ?crit?:
> Frank Warmerdam schrieb:
> > Oliver Eichler wrote:
> >> Hi,
> >>
> >> is FWTools 2.1.0 for Windows able to open GeoTiffs larger than 2GB? When
> >> using GDALOpen it failes with the "TIFFFetchStripThing:Sanity check on
> >> size
> >> of "TileOffsets" value failed" error. The file is processed by GDAL /
> >> Linux
> >> without complains.
> >>
> >> Do I miss anything obvious?
> >
> > Oliver,
> >
> > I tried:
> >
> > gdal_translate -outsize 30000 10000 utm.tif out.tif
> > gdalinfo -mm out.tif
> >
> > with my currently fwtools tree build which should, I think, closely
> > match FWTools 2.1.0.  The utm.tif file has one 8bit band, so the out.tif
> > file is a 3GB TIFF file (not BigTIFF).  The translation seemed to work,
> > and the gdalinfo ran successfully.
> >
> > First, could you try the same steps I did, to see if they work for you? 
> > If not, then it must be something I have already fixed, and I'll just
> > need to issue a new release.  If it works, then there is something more
> > specific about your problem than just not reading geotiff files larger
> > than 2GB and you will need to narrow it down.
> >
> > Best regards,
>
> Hi Frank,
>
> I also had a problem with the sanity check but that came by merging a
> lot of tiles with gdalmerge. A resulting file (~200GB, Geotiff with LZW
> compression) was created but everything I tried on that file failed
> (gdalinfo, gdal_translate, ...). Also all viewing applications failed.
>
> I still have the tiles and I should be abel to recreate the error. What
> information do you need to track down the error?
>
> Regards
> Wolfgang
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at mines-paris.org  Mon Mar  3 14:00:17 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  3 14:00:25 2008
Subject: [gdal-dev] Motion: Commiter Status for Didier Richard
Message-ID: <200803032000.17414.even.rouault@mines-paris.org>

Motion: Commiter Status for Didier Richard

Didier has contributed recently the new OGR Geoconcept driver, improvements to 
OSR to add new projection support and a few bug fixes/patches. He is also a 
PROJ.4 and GeoServer commiter. Having commit access will surely be easier for 
him to keep us his good work.

Didier has reviewed RFC 3 on commiter responsibilities, and has agreed to 
them.

Starting with a +1 from me.

Best regards,

Even Rouault
From oliver.eichler at gmx.de  Mon Mar  3 14:22:11 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon Mar  3 14:22:17 2008
Subject: [gdal-dev]GDALOpen failes on big files (FWTools2.1.0)
In-Reply-To: <fqhdnq$moe$1@ger.gmane.org>
References: <20080303081215.160460@gmx.net> <47CC2E54.3050205@pobox.com>
	<fqhdnq$moe$1@ger.gmane.org>
Message-ID: <20080303192211.301920@gmx.net>

Hi Frank,

sorry for the bad subject (Monday mornings....)

>
> I tried:
>
> gdal_translate -outsize 30000 10000 utm.tif out.tif
> gdalinfo -mm out.tif
>
> with my currently fwtools tree build which should, I think, closely
> match FWTools 2.1.0.  The utm.tif file has one 8bit band, so the out.tif
> file is a 3GB TIFF file (not BigTIFF).  The translation seemed to work, and
> the gdalinfo ran successfully.
>
> First, could you try the same steps I did, to see if they work for you?  If
> not, then it must be something I have already fixed, and I'll just need to
> issue a new release.  If it works, then there is something more specific
> about your problem than just not reading geotiff files larger than 2GB and
> you will need to narrow it down.


gdal_translate failes with the same GDALOpen error (bad sanity check). Thus it 
looks like a general problem of the 2.1.0 version.

Thanks for help

Oliver
From warmerdam at pobox.com  Mon Mar  3 14:23:02 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar  3 14:23:27 2008
Subject: [gdal-dev] Motion: Commiter Status for Didier Richard
In-Reply-To: <200803032000.17414.even.rouault@mines-paris.org>
References: <200803032000.17414.even.rouault@mines-paris.org>
Message-ID: <47CC5016.8000204@pobox.com>

Even Rouault wrote:
> Motion: Commiter Status for Didier Richard
> 
> Didier has contributed recently the new OGR Geoconcept driver, improvements to 
> OSR to add new projection support and a few bug fixes/patches. He is also a 
> PROJ.4 and GeoServer commiter. Having commit access will surely be easier for 
> him to keep us his good work.
> 
> Didier has reviewed RFC 3 on commiter responsibilities, and has agreed to 
> them.
> 
> Starting with a +1 from me.

+1

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From even.rouault at mines-paris.org  Mon Mar  3 14:42:12 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar  3 14:42:54 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <200803031943.13393.even.rouault@mines-paris.org>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803031943.13393.even.rouault@mines-paris.org>
Message-ID: <200803032042.13571.even.rouault@mines-paris.org>

In fact, using the same principle, you can use just one command line and no 
intermediary file :

ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT  src_field_1 AS name, 
src_field_2 AS desc FROM your_source_layer_name"

Thanks to FrankW for the tip ;-)

Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit?:
> Hi,
>
> I see your point...
>
> The solution is the powerful OGR Virtual Dataset format !
> See http://www.gdal.org/ogr/drv_vrt.html
>
> In fact, the documentation should probably be extended to demonstrate the
> power of the OGR SQL for that particular case
>
> Try to paste the following lines in a file (remapped_layer.vrt would be
> fine)
>
> <OGRVRTDataSource>
>     <OGRVRTLayer name="remapped_layer">
>         <SrcDataSource>your_source.shp</SrcDataSource>
>         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc FROM
> your_source_layer_name</SrcSQL>
>     </OGRVRTLayer>
> </OGRVRTDataSource>
>
> Replace your_source.shp, src_field_1, src_field_2 and
> your_source_layer_name by the appropriate values from your source dataset
> and 'ogrinfo -ro -al remapped_layer.vrt' should show a structure compatible
> of a GPX file.
>
> Best regards,
> Even
>
> Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez ?crit?:
> > Hi,
> >
> > is there a simple approach (via ogr2ogr) to create GPS files which have
> > standard waypoint tags such as <name>, <elev>, <cmt>, etc. by re-mapping
> > columns in the attribute table of the source vector?
> >
> > for example:
> >
> > # export points vector from GRASS
> > v.out.ogr in=wp type=point dsn=wp.shp
> >
> > # convert tp GPX:
> > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> > wp_gps.gpx wp.shp
> >
> > This results in a working GPX waypoints file, that when uploaded to a GPS
> > is functional, but the waypoints are all re-named sequentially. Note that
> > I am uploading the GPX file the GPS via gpsbabel.
> >
> > Does anyone know of the appropriate incantation that one could use to
> > translate the column structure of the input wp.shp (i.e. the stuff in
> > its .dbf) into standard waypoint tags?
> >
> > thanks in advance!
> >
> > PS: trying to write a simple tutorial for some colleagues [1]
> >
> > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From szekerest at gmail.com  Mon Mar  3 14:57:57 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar  3 14:58:00 2008
Subject: [gdal-dev] Motion: Commiter Status for Didier Richard
In-Reply-To: <200803032000.17414.even.rouault@mines-paris.org>
References: <200803032000.17414.even.rouault@mines-paris.org>
Message-ID: <f3b73b7d0803031157x5dd7b69bq8247b497d4916ddb@mail.gmail.com>

+1

Tamas



2008/3/3, Even Rouault <even.rouault@mines-paris.org>:
> Motion: Commiter Status for Didier Richard
>
>  Didier has contributed recently the new OGR Geoconcept driver, improvements to
>  OSR to add new projection support and a few bug fixes/patches. He is also a
>  PROJ.4 and GeoServer commiter. Having commit access will surely be easier for
>  him to keep us his good work.
>
>  Didier has reviewed RFC 3 on commiter responsibilities, and has agreed to
>  them.
>
>  Starting with a +1 from me.
>
>  Best regards,
>
>
>  Even Rouault
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dmorissette at mapgears.com  Mon Mar  3 15:48:11 2008
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon Mar  3 15:48:13 2008
Subject: [gdal-dev] Motion: Commiter Status for Didier Richard
In-Reply-To: <200803032000.17414.even.rouault@mines-paris.org>
References: <200803032000.17414.even.rouault@mines-paris.org>
Message-ID: <47CC640B.106@mapgears.com>

Even Rouault wrote:
> Motion: Commiter Status for Didier Richard
> 
> Didier has contributed recently the new OGR Geoconcept driver, improvements to 
> OSR to add new projection support and a few bug fixes/patches. He is also a 
> PROJ.4 and GeoServer commiter. Having commit access will surely be easier for 
> him to keep us his good work.
> 
> Didier has reviewed RFC 3 on commiter responsibilities, and has agreed to 
> them.
> 

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From monshi at home.se  Mon Mar  3 15:48:42 2008
From: monshi at home.se (Tomas R)
Date: Mon Mar  3 15:49:00 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <f3b73b7d0803030956t7f035b34l36a3feba1a1aafbe@mail.gmail.com>
References: <fq8foq$m8o$1@ger.gmane.org>
	<fq9sfp$te0$1@ger.gmane.org>	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>	<fqb74f$fo$1@ger.gmane.org>	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>	<fqcjif$59l$1@ger.gmane.org>	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>	<fqgldn$mus$1@ger.gmane.org>	<f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>	<fqgrqa$eep$1@ger.gmane.org>
	<f3b73b7d0803030956t7f035b34l36a3feba1a1aafbe@mail.gmail.com>
Message-ID: <fqho7a$47m$1@ger.gmane.org>

Thanks for the binaries. Have not tried them out, will do that tomorrow. 
Instead I have spent some frustrating time (always a bit frustrating 
compiling big c++ projects, getting all components you need) trying to 
compile GDAL on Visual c++ 2005 Express. I have (tried) to follow the 
instructions given on the web 
(http://trac.osgeo.org/gdal/wiki/BuildingOnWindows) but building via 
nmake on commandprompt failes at finding 'atlbase.h'. Yes I know, Win 
SDK paths. have tried setting them. Building GDAL via the GUI, (project 
7_1) works though.

Any tips on the use of nmake? What have I missed? Yes, I have set the 
paths and called vsvars32.bat before nmake

And - this gives me the gdal dll. But, the rest (ogr_wrap.dll, 
proj.dll)? How do I obtain those? Won't I need those, the dll's that are 
included in the binaries you have provided so nicely below.

The build I have worked with is the latest official stable build, v 1.5.

And yes, the links on the page above needs to be updated.

/Tomas

Tamas Szekeres skrev:
> Anyway I've just made the buildbot results available for download that
> contain many of the binaries (including the executables) of the
> development version on various platforms:
>
> .NET FW 2.0 Win64:
> http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-full/package/bin.zip
> .NET FW 2.0 Win32:
> http://vbkto.dyndns.org:1080/gdal/szekerest-vc80-full/package/bin.zip
> .NET FW 1.1 Win32:
> http://vbkto.dyndns.org:1080/gdal/szekerest-vc71-full/package/bin.zip
>
> I don't think these are suitable for use in a production environment, though.
>
> FYI: I'm planning to put some efforts in adding a limited set of the
> Win64 binaries into the upcoming osgeo4w installer. For more
> information about this topic see:
> http://wiki.osgeo.org/wiki/OSGeo_Win32_Installer
>
>
>
> Best regards,
>
> Tamas
>   

From monshi at home.se  Mon Mar  3 15:58:53 2008
From: monshi at home.se (Tomas R)
Date: Mon Mar  3 15:59:12 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <fqho7a$47m$1@ger.gmane.org>
References: <fq8foq$m8o$1@ger.gmane.org>	<fq9sfp$te0$1@ger.gmane.org>	<f3b73b7d0802291522x272ad8e4ud991d3a8fd6626db@mail.gmail.com>	<fqb74f$fo$1@ger.gmane.org>	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>	<fqcjif$59l$1@ger.gmane.org>	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>	<fqgldn$mus$1@ger.gmane.org>	<f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>	<fqgrqa$eep$1@ger.gmane.org>	<f3b73b7d0803030956t7f035b34l36a3feba1a1aafbe@mail.gmail.com>
	<fqho7a$47m$1@ger.gmane.org>
Message-ID: <fqhoqe$6du$1@ger.gmane.org>

ok, ogr_wrap.dll and some others come form swig-wrapper... ok. Then it 
is perhaps only proj.dll I further need... perhaps. Will test the build 
I have managed (gdal via VSE2005 GUI and swig via command prompt and nmake)

/Tomas

Tomas R skrev:
> Thanks for the binaries. Have not tried them out, will do that 
> tomorrow. Instead I have spent some frustrating time (always a bit 
> frustrating compiling big c++ projects, getting all components you 
> need) trying to compile GDAL on Visual c++ 2005 Express. I have 
> (tried) to follow the instructions given on the web 
> (http://trac.osgeo.org/gdal/wiki/BuildingOnWindows) but building via 
> nmake on commandprompt failes at finding 'atlbase.h'. Yes I know, Win 
> SDK paths. have tried setting them. Building GDAL via the GUI, 
> (project 7_1) works though.
>
> Any tips on the use of nmake? What have I missed? Yes, I have set the 
> paths and called vsvars32.bat before nmake
>
> And - this gives me the gdal dll. But, the rest (ogr_wrap.dll, 
> proj.dll)? How do I obtain those? Won't I need those, the dll's that 
> are included in the binaries you have provided so nicely below.
>
> The build I have worked with is the latest official stable build, v 1.5.
>
> And yes, the links on the page above needs to be updated.
>
> /Tomas
>
> Tamas Szekeres skrev:
>> Anyway I've just made the buildbot results available for download that
>> contain many of the binaries (including the executables) of the
>> development version on various platforms:
>>
>> .NET FW 2.0 Win64:
>> http://vbkto.dyndns.org:1080/gdal/szekerest-vc80x64-full/package/bin.zip
>> .NET FW 2.0 Win32:
>> http://vbkto.dyndns.org:1080/gdal/szekerest-vc80-full/package/bin.zip
>> .NET FW 1.1 Win32:
>> http://vbkto.dyndns.org:1080/gdal/szekerest-vc71-full/package/bin.zip
>>
>> I don't think these are suitable for use in a production environment, 
>> though.
>>
>> FYI: I'm planning to put some efforts in adding a limited set of the
>> Win64 binaries into the upcoming osgeo4w installer. For more
>> information about this topic see:
>> http://wiki.osgeo.org/wiki/OSGeo_Win32_Installer
>>
>>
>>
>> Best regards,
>>
>> Tamas
>>   

From ivan.lucena at pmldnet.com  Mon Mar  3 16:03:40 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Mon Mar  3 16:03:45 2008
Subject: [gdal-dev] Extracting cell values from a big image and
	many	smaller images (Fork)
In-Reply-To: <47CC23E0.5080001@unc.edu>
References: <20080229105016.h2wdvlankoc4wc4s@webmail5.isis.unc.edu>	<47C836ED.6060401@pobox.com>
	<47CC23E0.5080001@unc.edu>
Message-ID: <47CC67AC.7060507@pmldnet.com>

Limei, Frank,

So we are definitely talking about different issues.

I am trying to measure the time consumed in querying cells though a 
series of raster bands. I did that for a folder full of single band 
files varying the number of files and the size of individual files. No 
tiles, no compression.

Now I am trying to group those files in multi bands format like geotiff, 
HDF5, netCDF, HFA, etc. I will then try tiles and BIP.

Then I will test the same query from a Oracle georaster, PostgreSQL 
(Terralib schema) and SQL Server (ArcSDE schema). This last one I don't 
exactly what language/environment I should use... :|

Anyway, I am having problem creating unsigned integer 16 GEOTIFF with 
more than 40 bands or byte GEOTIFF with more than 80 bands. Is there any 
limitation for that in GDAL + Python?

Best regards,

Ivan


 > Frank Warmerdam wrote:
 >>  - If you will be accessing your huge image in local chunks, consider
 >>    organizing it as a tiled image.  Perhaps an imagine (HFA) file or
 >>    a BigTIFF with tiling.



Limei Ran wrote:
> Hi Frank:
> 
> Thank you very much for your help.  I am still puzzled about what GDAL 
> classes I should use in our application.  I should give you more details 
> about our goal in the previous email.  Our goal for the program is to 
> compute the percent of each NLCD 30meter landuse type within each of 
> 12km modeling grids like zonal computation in arcGIS.  The 12km modeling 
> grids cover almost more than 2/3 US (in meterological modeling) and some 
> Canada and Mexico.   For areas outside US, we want to use MODIS 1km data 
> for the landuse type percent calculation.
> I created a program using OGR classes to generate the 12km modeling grid 
> shapefile with modeling grid IDs.  Then, I used ogr2ogr for projection 
> conversion, gdal_translate to create a 30 meter-cell 0 value grid with 
> the modeling grid extent, and gdal_rasterize to rasterize the shapefile 
> into the 0 value image as you suggested (UInt32 to hold ID).  I also 
> clipped 1km MODIS image using the modeling area and regrid it into 30m 
> grid cells.
> 
> Now, I have this created image (116474 X 100960 cells with 30 meter cell 
> size, 47gb for *.bil file), 14 NLCD 30 meters landuse images, and MODIS 
> 30meter landuse image.  I am developing a cpp program using GDAL to 
> compute a table which has modeling grid ID and all landuse perentages 
> falling into this modeling grid.
> 
> The logic in my mind is to read through each NLCD and match each pixel 
> in the modeling grid image to calculate each landuse types falling into 
> the modeling grid.  After going through NLCD images, non-data areas will 
> be calculated using MODIS image data.  But, reading through one pixel at 
> a time will take a long time to finish using RasterIO() like you said.
> What is the best way to read through those images for the program under 
> GDAL?  Are there any image addition classes or zonal function classes I 
> can use within GDAL c++?
> 
> Thank you very much,
> 
> 
> Limei
> 
> 
> Frank Warmerdam wrote:
> 
>> Limei Ran wrote:
>>
>>>
>>> Hi:
>>>
>>> I am using GDAL cpp library to create a program. The program will 
>>> ultimately generate a statistic table with cell values from a very 
>>> big modeling grid domain image (almost whole US) and many smaller 
>>> land use images within the big image.
>>>
>>> I need to go through all the small image pixels to match grid cell 
>>> values in the big image. There are many ways to read image data in 
>>> line and blocks from GDALRasterBand class.
>>>
>>> Since I am new in using GDAL libraries, I appreciate any suggestion 
>>> you might have in accessing the images efficiently.
>>
>>
>> Limei,
>>
>> I'm not exactly clear on what you want to do, but a couple hints:
>>
>>  - Avoid doing many one pixel reads with RasterIO().  There is quite
>>    a bit of overhead in each call and so you should only do one pixel
>>    reads when that is all you really need.  I believe even with caching
>>    using one pixel reads to read a whole scanline would be easily an
>>    order of magnitude slower than doing one full scanline read.
>>
>>  - If you will be accessing your huge image in local chunks, consider
>>    organizing it as a tiled image.  Perhaps an imagine (HFA) file or
>>    a BigTIFF with tiling.
>>
>>  - If you need precision, and your small land use images are for
>>    reasonably small areas, I would suggest just loading all the data from
>>    the big image that matches the area for the small image in one gulp
>>    (one RasterIO() call).  Then do your matching analysis and then move
>>    on to the next.
>>
>> Best regards,
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From szekerest at gmail.com  Mon Mar  3 16:19:32 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar  3 16:19:36 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <fqho7a$47m$1@ger.gmane.org>
References: <fq8foq$m8o$1@ger.gmane.org> <fqb74f$fo$1@ger.gmane.org>
	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>
	<fqcjif$59l$1@ger.gmane.org>
	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>
	<fqgldn$mus$1@ger.gmane.org>
	<f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>
	<fqgrqa$eep$1@ger.gmane.org>
	<f3b73b7d0803030956t7f035b34l36a3feba1a1aafbe@mail.gmail.com>
	<fqho7a$47m$1@ger.gmane.org>
Message-ID: <f3b73b7d0803031319kba17ed6ma732b902c3393a3f@mail.gmail.com>

2008/3/3, Tomas R <monshi@home.se>:
> Thanks for the binaries. Have not tried them out, will do that tomorrow.
>  Instead I have spent some frustrating time (always a bit frustrating
>  compiling big c++ projects, getting all components you need) trying to
>  compile GDAL on Visual c++ 2005 Express. I have (tried) to follow the
>  instructions given on the web
>  (http://trac.osgeo.org/gdal/wiki/BuildingOnWindows) but building via
>  nmake on commandprompt failes at finding 'atlbase.h'. Yes I know, Win
>  SDK paths. have tried setting them. Building GDAL via the GUI, (project
>  7_1) works though.
>
>  Any tips on the use of nmake? What have I missed? Yes, I have set the
>  paths and called vsvars32.bat before nmake
>
>  And - this gives me the gdal dll. But, the rest (ogr_wrap.dll,
>  proj.dll)? How do I obtain those? Won't I need those, the dll's that are
>  included in the binaries you have provided so nicely below.
>

The csharp bindings should be compiled separately after the core gdal
have been compiled. Here is the corresponding wiki page:
http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpCompile

Best regards,

Tamas
From hobu.inc at gmail.com  Mon Mar  3 15:00:22 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Mon Mar  3 16:25:41 2008
Subject: [gdal-dev] Motion: Commiter Status for Didier Richard
In-Reply-To: <f3b73b7d0803031157x5dd7b69bq8247b497d4916ddb@mail.gmail.com>
References: <200803032000.17414.even.rouault@mines-paris.org>
	<f3b73b7d0803031157x5dd7b69bq8247b497d4916ddb@mail.gmail.com>
Message-ID: <23DECB16-A46F-48FE-ABEA-3F4CB6E041F8@gmail.com>

+1

On Mar 3, 2008, at 1:57 PM, Tamas Szekeres wrote:

> +1
>
> Tamas
>
>
>
> 2008/3/3, Even Rouault <even.rouault@mines-paris.org>:
>> Motion: Commiter Status for Didier Richard
>>
>> Didier has contributed recently the new OGR Geoconcept driver,  
>> improvements to
>> OSR to add new projection support and a few bug fixes/patches. He  
>> is also a
>> PROJ.4 and GeoServer commiter. Having commit access will surely be  
>> easier for
>> him to keep us his good work.
>>
>> Didier has reviewed RFC 3 on commiter responsibilities, and has  
>> agreed to
>> them.
>>
>> Starting with a +1 from me.
>>
>> Best regards,
>>
>>
>> Even Rouault
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From dylan.beaudette at gmail.com  Mon Mar  3 19:59:48 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Mon Mar  3 19:58:20 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <200803032042.13571.even.rouault@mines-paris.org>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803031943.13393.even.rouault@mines-paris.org>
	<200803032042.13571.even.rouault@mines-paris.org>
Message-ID: <200803031659.48237.dylan.beaudette@gmail.com>

On Monday 03 March 2008, Even Rouault wrote:
> In fact, using the same principle, you can use just one command line and no
> intermediary file :
>
> ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT  src_field_1 AS
> name, src_field_2 AS desc FROM your_source_layer_name"
>
> Thanks to FrankW for the tip ;-)

Thanks Even / Frank.

One small problem:


ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
-f GPX -dsco GPX_USE_EXTENSIONS=YES \
veg_points.gpx veg_points.shp \
-sql "SELECT cat AS foo FROM veg_points"

ERROR 1: SQL: Missing comma after column cat in SELECT statement.

Could this be a bug or my version of GDAL too old ? This is with GDAL SVN, 
checked out a couple of weeks ago.

I get a valid GPX file if I do not use the "AS foo" operator.

Ideas?

Dylan



> Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit?:
> > Hi,
> >
> > I see your point...
> >
> > The solution is the powerful OGR Virtual Dataset format !
> > See http://www.gdal.org/ogr/drv_vrt.html
> >
> > In fact, the documentation should probably be extended to demonstrate the
> > power of the OGR SQL for that particular case
> >
> > Try to paste the following lines in a file (remapped_layer.vrt would be
> > fine)
> >
> > <OGRVRTDataSource>
> >     <OGRVRTLayer name="remapped_layer">
> >         <SrcDataSource>your_source.shp</SrcDataSource>
> >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc FROM
> > your_source_layer_name</SrcSQL>
> >     </OGRVRTLayer>
> > </OGRVRTDataSource>
> >
> > Replace your_source.shp, src_field_1, src_field_2 and
> > your_source_layer_name by the appropriate values from your source dataset
> > and 'ogrinfo -ro -al remapped_layer.vrt' should show a structure
> > compatible of a GPX file.
> >
> > Best regards,
> > Even
> >
> > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez ?crit?:
> > > Hi,
> > >
> > > is there a simple approach (via ogr2ogr) to create GPS files which have
> > > standard waypoint tags such as <name>, <elev>, <cmt>, etc. by
> > > re-mapping columns in the attribute table of the source vector?
> > >
> > > for example:
> > >
> > > # export points vector from GRASS
> > > v.out.ogr in=wp type=point dsn=wp.shp
> > >
> > > # convert tp GPX:
> > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> > > wp_gps.gpx wp.shp
> > >
> > > This results in a working GPX waypoints file, that when uploaded to a
> > > GPS is functional, but the waypoints are all re-named sequentially.
> > > Note that I am uploading the GPX file the GPS via gpsbabel.
> > >
> > > Does anyone know of the appropriate incantation that one could use to
> > > translate the column structure of the input wp.shp (i.e. the stuff in
> > > its .dbf) into standard waypoint tags?
> > >
> > > thanks in advance!
> > >
> > > PS: trying to write a simple tutorial for some colleagues [1]
> > >
> > > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From bhagwat.maimt at gmail.com  Tue Mar  4 01:09:53 2008
From: bhagwat.maimt at gmail.com (bargi)
Date: Tue Mar  4 01:09:54 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
Message-ID: <15820963.post@talk.nabble.com>


Hi,

How can I read geotiff file format using GDAL  and can I convert them to
shapfile format ???

Thanks

-- 
View this message in context: http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15820963.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Tue Mar  4 04:33:18 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar  4 04:33:20 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <200803031659.48237.dylan.beaudette@gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803031943.13393.even.rouault@mines-paris.org>
	<200803032042.13571.even.rouault@mines-paris.org>
	<200803031659.48237.dylan.beaudette@gmail.com>
Message-ID: <f3b73b7d0803040133r36628e15w6b8bc9e85ab0107@mail.gmail.com>

Hi,

Yes, you should try with the recent SVN version. The changes related
to this issue are pretty new.

Best regards,

Tamas



2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> On Monday 03 March 2008, Even Rouault wrote:
>  > In fact, using the same principle, you can use just one command line and no
>  > intermediary file :
>  >
>  > ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT  src_field_1 AS
>  > name, src_field_2 AS desc FROM your_source_layer_name"
>  >
>  > Thanks to FrankW for the tip ;-)
>
>
> Thanks Even / Frank.
>
>  One small problem:
>
>
>
>  ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
>  -f GPX -dsco GPX_USE_EXTENSIONS=YES \
>
> veg_points.gpx veg_points.shp \
>  -sql "SELECT cat AS foo FROM veg_points"
>
>  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
>
>  Could this be a bug or my version of GDAL too old ? This is with GDAL SVN,
>  checked out a couple of weeks ago.
>
>  I get a valid GPX file if I do not use the "AS foo" operator.
>
>  Ideas?
>
>
>  Dylan
>
>
>
>
>  > Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit :
>  > > Hi,
>  > >
>  > > I see your point...
>  > >
>  > > The solution is the powerful OGR Virtual Dataset format !
>  > > See http://www.gdal.org/ogr/drv_vrt.html
>  > >
>  > > In fact, the documentation should probably be extended to demonstrate the
>  > > power of the OGR SQL for that particular case
>  > >
>  > > Try to paste the following lines in a file (remapped_layer.vrt would be
>  > > fine)
>  > >
>  > > <OGRVRTDataSource>
>  > >     <OGRVRTLayer name="remapped_layer">
>  > >         <SrcDataSource>your_source.shp</SrcDataSource>
>  > >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc FROM
>  > > your_source_layer_name</SrcSQL>
>  > >     </OGRVRTLayer>
>  > > </OGRVRTDataSource>
>  > >
>  > > Replace your_source.shp, src_field_1, src_field_2 and
>  > > your_source_layer_name by the appropriate values from your source dataset
>  > > and 'ogrinfo -ro -al remapped_layer.vrt' should show a structure
>  > > compatible of a GPX file.
>  > >
>  > > Best regards,
>  > > Even
>  > >
>  > > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez ?crit :
>  > > > Hi,
>  > > >
>  > > > is there a simple approach (via ogr2ogr) to create GPS files which have
>  > > > standard waypoint tags such as <name>, <elev>, <cmt>, etc. by
>  > > > re-mapping columns in the attribute table of the source vector?
>  > > >
>  > > > for example:
>  > > >
>  > > > # export points vector from GRASS
>  > > > v.out.ogr in=wp type=point dsn=wp.shp
>  > > >
>  > > > # convert tp GPX:
>  > > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
>  > > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
>  > > > wp_gps.gpx wp.shp
>  > > >
>  > > > This results in a working GPX waypoints file, that when uploaded to a
>  > > > GPS is functional, but the waypoints are all re-named sequentially.
>  > > > Note that I am uploading the GPX file the GPS via gpsbabel.
>  > > >
>  > > > Does anyone know of the appropriate incantation that one could use to
>  > > > translate the column structure of the input wp.shp (i.e. the stuff in
>  > > > its .dbf) into standard waypoint tags?
>  > > >
>  > > > thanks in advance!
>  > > >
>  > > > PS: trying to write a simple tutorial for some colleagues [1]
>  > > >
>  > > > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
>  > >
>  > > _______________________________________________
>  > > gdal-dev mailing list
>  > > gdal-dev@lists.osgeo.org
>  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
>  Dylan Beaudette
>  Soil Resource Laboratory
>
> http://casoilresource.lawr.ucdavis.edu/
>
> University of California at Davis
>  530.754.7341
>  _______________________________________________
>
> gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From cavicchi at ferrara.linux.it  Tue Mar  4 06:48:03 2008
From: cavicchi at ferrara.linux.it (Mario Cavicchi)
Date: Tue Mar  4 06:48:06 2008
Subject: [gdal-dev] Resize raster
Message-ID: <47CD36F3.90703@ferrara.linux.it>

Hi all,
I must to resize a raster of coefficients that must to be applied on 
another raster of different dimension. Exist a function in the GDAL 
library like the  congrid in IDL?

Congrid is this function:
http://www.ifi.uio.no/it/latex-links/STORE/opt/rsi/idl/help/online_help/CONGRID.html


regards and thanks.

-- 
Ciao,
         Mario

[ Web Info: http://members.ferrara.linux.it/cavicchi ]
From warmerdam at pobox.com  Tue Mar  4 08:11:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar  4 08:12:42 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <15820963.post@talk.nabble.com>
References: <15820963.post@talk.nabble.com>
Message-ID: <47CD4A9E.1050905@pobox.com>

bargi wrote:
> Hi,
> 
> How can I read geotiff file format using GDAL

Bargi,

Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
the "Supported Formats" list on the web site.

>  and can I convert them to
> shapfile format ???

Generally GDAL does not support creating vector formats from raster
formats, though there is a program in gdal/apps for generating contours
in vector formats from elevation type data in raster formats.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From josegomez at gmx.net  Tue Mar  4 09:44:59 2008
From: josegomez at gmx.net (Jose Luis Gomez Dans)
Date: Tue Mar  4 09:45:03 2008
Subject: [gdal-dev] Resize raster
In-Reply-To: <47CD36F3.90703@ferrara.linux.it>
References: <47CD36F3.90703@ferrara.linux.it>
Message-ID: <20080304144459.17680@gmx.net>

Hi,

> Hi all,
> I must to resize a raster of coefficients that must to be applied on 
> another raster of different dimension. Exist a function in the GDAL 
> library like the  congrid in IDL?

I do this going throuh python/scipy. You read the raster in, and use the following scipy version of congrid: <http://www.scipy.org/Cookbook/Rebinning>. You can then save it out in a suitable format.

Works great,
Jose
-- 
Psssst! Schon vom neuen GMX MultiMessenger geh?rt?
Der kann`s mit allen: http://www.gmx.net/de/go/multimessenger
From bhagwat.maimt at gmail.com  Tue Mar  4 09:49:34 2008
From: bhagwat.maimt at gmail.com (bargi)
Date: Tue Mar  4 09:49:35 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <47CD4A9E.1050905@pobox.com>
References: <15820963.post@talk.nabble.com> <47CD4A9E.1050905@pobox.com>
Message-ID: <15828795.post@talk.nabble.com>



Thanks For reply Frank...........

But I am confused how this will happen..........

I didn't found any code on net which shows how to read the geotiff files and
extract information from it.......

Can u help me in regarding how to read .tif extension files and extracting
information. 

If any link you can provide me then it will be very helpful............

Thanks a lot..........
Frank Warmerdam-2 wrote:
> 
> bargi wrote:
>> Hi,
>> 
>> How can I read geotiff file format using GDAL
> 
> Bargi,
> 
> Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
> the "Supported Formats" list on the web site.
> 
>>  and can I convert them to
>> shapfile format ???
> 
> Generally GDAL does not support creating vector formats from raster
> formats, though there is a program in gdal/apps for generating contours
> in vector formats from elevation type data in raster formats.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
Quoted from: 
http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15826907.html


Frank Warmerdam-2 wrote:
> 
> bargi wrote:
>> Hi,
>> 
>> How can I read geotiff file format using GDAL
> 
> Bargi,
> 
> Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
> the "Supported Formats" list on the web site.
> 
>>  and can I convert them to
>> shapfile format ???
> 
> Generally GDAL does not support creating vector formats from raster
> formats, though there is a program in gdal/apps for generating contours
> in vector formats from elevation type data in raster formats.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15828795.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mchapman at texelinc.com  Tue Mar  4 10:52:40 2008
From: mchapman at texelinc.com (mchapman@texelinc.com)
Date: Tue Mar  4 10:56:16 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <15828795.post@talk.nabble.com>
References: <15820963.post@talk.nabble.com>
	<47CD4A9E.1050905@pobox.com><15828795.post@talk.nabble.com>
Message-ID: <1521539498-1204646169-cardhu_decombobulator_blackberry.rim.net-1421671623-@bxe144.bisx.prod.on.blackberry>

If you look carefully at www.gdal.org you will find many helpful tutorials that will show you how to open and examine a tif file.  The methods to open and deal with imagery are the same for all image types.  Meaning, you open an erdas imagine file the same way you open a geotiff.

Martin

Sent via BlackBerry by AT&T

-----Original Message-----
From: bargi <bhagwat.maimt@gmail.com>

Date: Tue, 4 Mar 2008 06:49:34 
To:gdal-dev@lists.osgeo.org
Subject: Re: [Gdal-dev] How to read geotiff file using GDAL




Thanks For reply Frank...........

But I am confused how this will happen..........

I didn't found any code on net which shows how to read the geotiff files and
extract information from it.......

Can u help me in regarding how to read .tif extension files and extracting
information. 

If any link you can provide me then it will be very helpful............

Thanks a lot..........
Frank Warmerdam-2 wrote:
> 
> bargi wrote:
>> Hi,
>> 
>> How can I read geotiff file format using GDAL
> 
> Bargi,
> 
> Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
> the "Supported Formats" list on the web site.
> 
>>  and can I convert them to
>> shapfile format ???
> 
> Generally GDAL does not support creating vector formats from raster
> formats, though there is a program in gdal/apps for generating contours
> in vector formats from elevation type data in raster formats.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
Quoted from: 
http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15826907.html


Frank Warmerdam-2 wrote:
> 
> bargi wrote:
>> Hi,
>> 
>> How can I read geotiff file format using GDAL
> 
> Bargi,
> 
> Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
> the "Supported Formats" list on the web site.
> 
>>  and can I convert them to
>> shapfile format ???
> 
> Generally GDAL does not support creating vector formats from raster
> formats, though there is a program in gdal/apps for generating contours
> in vector formats from elevation type data in raster formats.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15828795.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From mchapman at texelinc.com  Tue Mar  4 10:55:35 2008
From: mchapman at texelinc.com (mchapman@texelinc.com)
Date: Tue Mar  4 10:59:12 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <15828795.post@talk.nabble.com>
References: <15820963.post@talk.nabble.com>
	<47CD4A9E.1050905@pobox.com><15828795.post@talk.nabble.com>
Message-ID: <1315741623-1204646344-cardhu_decombobulator_blackberry.rim.net-1790725358-@bxe144.bisx.prod.on.blackberry>

You can also examine the source code for the applications like gdalinfo to see how it's done. The files are in the apps directory under the gdal root directory. 

Martin

Sent via BlackBerry by AT&T

-----Original Message-----
From: bargi <bhagwat.maimt@gmail.com>

Date: Tue, 4 Mar 2008 06:49:34 
To:gdal-dev@lists.osgeo.org
Subject: Re: [Gdal-dev] How to read geotiff file using GDAL




Thanks For reply Frank...........

But I am confused how this will happen..........

I didn't found any code on net which shows how to read the geotiff files and
extract information from it.......

Can u help me in regarding how to read .tif extension files and extracting
information. 

If any link you can provide me then it will be very helpful............

Thanks a lot..........
Frank Warmerdam-2 wrote:
> 
> bargi wrote:
>> Hi,
>> 
>> How can I read geotiff file format using GDAL
> 
> Bargi,
> 
> Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
> the "Supported Formats" list on the web site.
> 
>>  and can I convert them to
>> shapfile format ???
> 
> Generally GDAL does not support creating vector formats from raster
> formats, though there is a program in gdal/apps for generating contours
> in vector formats from elevation type data in raster formats.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
Quoted from: 
http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15826907.html


Frank Warmerdam-2 wrote:
> 
> bargi wrote:
>> Hi,
>> 
>> How can I read geotiff file format using GDAL
> 
> Bargi,
> 
> Yes, you can read GeoTIFF with GDAL.  This should be fairly evident from
> the "Supported Formats" list on the web site.
> 
>>  and can I convert them to
>> shapfile format ???
> 
> Generally GDAL does not support creating vector formats from raster
> formats, though there is a program in gdal/apps for generating contours
> in vector formats from elevation type data in raster formats.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15828795.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Tue Mar  4 10:59:48 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar  4 11:00:35 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <15828795.post@talk.nabble.com>
References: <15820963.post@talk.nabble.com> <47CD4A9E.1050905@pobox.com>
	<15828795.post@talk.nabble.com>
Message-ID: <47CD71F4.5020809@pobox.com>

bargi wrote:
> 
> Thanks For reply Frank...........
> 
> But I am confused how this will happen..........
> 
> I didn't found any code on net which shows how to read the geotiff files and
> extract information from it.......
> 
> Can u help me in regarding how to read .tif extension files and extracting
> information. 
> 
> If any link you can provide me then it will be very helpful............

Bargi,

It *feels* like you haven't looked as hard as you could.

If you want to know about extracting information from a GDAL supported
raster file programmatically review the GDAL API Tutorial at:

   http://www.gdal.org/gdal_tutorial.html

This also applies to Python/C#/perl/etc

Regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jukka.rahkonen at mmmtike.fi  Tue Mar  4 11:44:35 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue Mar  4 11:44:50 2008
Subject: [gdal-dev] Re: How to read geotiff file using GDAL
References: <15820963.post@talk.nabble.com>
Message-ID: <loom.20080304T163658-837@post.gmane.org>

bargi <bhagwat.maimt <at> gmail.com> writes:

> 
> 
> Hi,
> 
> How can I read geotiff file format using GDAL  and can I convert them to
> shapfile format ???

People are guessing wildly what you actually want.  My guess is that perhaps you
 want to read the georeferencing info from geotiff and write a corresponding
ESRI world file in order to use the image with some software not supporting
geotiffs.  If this is the case then reading goes simply with gdalinfo utility,
but I do not know if it is possible to write our the world file only.

I am sure you would get better answers with a bit less mysterious questions.

-Jukka Rahkonen.



From marco.pasetti at alice.it  Tue Mar  4 12:00:30 2008
From: marco.pasetti at alice.it (marco.pasetti@alice.it)
Date: Tue Mar  4 12:00:42 2008
Subject: [gdal-dev] GDAL 1.5.0 Build Error With GRASS Support
Message-ID: <FBCMMO033CaFc3leDML0005114d@FBCMMO03.fbc.local>

Hi,
 
I'm building GDAL 1.5.0 with GRASS support;
it gives the following error:
 
In file included from grass57dataset.cpp:45:
C:/MSYS/local/grass-6.3.0RC5/include/grass/gprojects.h:23:22: proj_api.h: No such file or directory
In file included from grass57dataset.cpp:45:
C:/MSYS/local/grass-6.3.0RC5/include/grass/gprojects.h:36: error: ISO C++ forbids declaration of `projPJ' with no type
C:/MSYS/local/grass-6.3.0RC5/include/grass/gprojects.h:36: error: expected `;' before '*' token
make[2]: *** [../o/grass57dataset.o] Error 1
make[2]: Leaving directory `/usr/local/src/gdal-1.5.0/frmts/grass'
make[1]: *** [grass-install-obj] Error 2
make[1]: Leaving directory `/usr/local/src/gdal-1.5.0/frmts'
make: *** [frmts-target] Error 2
 
proj_api.h is present in /usr/local/include, while /usr/local/grass-6.3.0RC5/include/grass has gproj_api.h
should I force GRASS code to include gproj_api.h instead of proj_api.h or walk around the problem adding /usr/local/include to PATH before launch make command?
 
Thanks
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080304/293f7ed8/attachment.html
From warmerdam at pobox.com  Tue Mar  4 12:55:11 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar  4 12:55:30 2008
Subject: [gdal-dev]GDALOpen failes on big files (FWTools2.1.0)
In-Reply-To: <20080303192211.301920@gmx.net>
References: <20080303081215.160460@gmx.net> <47CC2E54.3050205@pobox.com>
	<fqhdnq$moe$1@ger.gmane.org> <20080303192211.301920@gmx.net>
Message-ID: <47CD8CFF.4010108@pobox.com>

Oliver Eichler wrote:
> Hi Frank,
> 
> sorry for the bad subject (Monday mornings....)
> 
>> I tried:
>>
>> gdal_translate -outsize 30000 10000 utm.tif out.tif
>> gdalinfo -mm out.tif
>>
>> with my currently fwtools tree build which should, I think, closely
>> match FWTools 2.1.0.  The utm.tif file has one 8bit band, so the out.tif
>> file is a 3GB TIFF file (not BigTIFF).  The translation seemed to work, and
>> the gdalinfo ran successfully.
>>
>> First, could you try the same steps I did, to see if they work for you?  If
>> not, then it must be something I have already fixed, and I'll just need to
>> issue a new release.  If it works, then there is something more specific
>> about your problem than just not reading geotiff files larger than 2GB and
>> you will need to narrow it down.
> 
> 
> gdal_translate failes with the same GDALOpen error (bad sanity check). Thus it 
> looks like a general problem of the 2.1.0 version.

Oliver,

I have uploaded a new FWTools cut.  Could you confirm whether it fixes the
problem or not?

   http://home.gdal.org/fwtools/FWTools211.exe

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From oliver.eichler at gmx.de  Tue Mar  4 14:30:33 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Tue Mar  4 14:30:35 2008
Subject: [gdal-dev]GDALOpen failes on big files (FWTools2.1.0)
In-Reply-To: <47CD8CFF.4010108@pobox.com>
References: <20080303081215.160460@gmx.net> <47CC2E54.3050205@pobox.com>
	<fqhdnq$moe$1@ger.gmane.org> <20080303192211.301920@gmx.net>
	<47CD8CFF.4010108@pobox.com>
Message-ID: <20080304193033.95290@gmx.net>

>
> I have uploaded a new FWTools cut.  Could you confirm whether it fixes the
> problem or not?
>
>    http://home.gdal.org/fwtools/FWTools211.exe
>
> Best regards,


Hi Frank,

bad luck. Still the same error in GDALOpen. Tried with gdalinfo, too. Same 
result.
 
I attached the output of gdalinfo on linux for that file. It has 1265 x 828 
tiles of size 256 x 256. That sounds pretty sane to me. 

Anything else I can provide for debugging?

Oliver


Driver: GTiff/GeoTIFF
Files: by010_s.tif
Size is 323840, 211968
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["DHDN",
        DATUM["Deutsches_Hauptdreiecksnetz",
            SPHEROID["Bessel 1841",6377397.155,299.1528128000008,
                AUTHORITY["EPSG","7004"]],
            AUTHORITY["EPSG","6314"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4314"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",12],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",4500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (4311657.961131956428289,5442183.079528446309268)
Pixel Size = (1.000000000000000,-1.000000000000000)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  COMPRESSION=DEFLATE
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( 4311657.961, 5442183.080) (  9d25'15.57"E, 49d 5'20.70"N)
Lower Left  ( 4311657.961, 5230215.080) (  9d30'52.98"E, 47d11'3.93"N)
Upper Right ( 4635497.961, 5442183.080) ( 13d51'21.16"E, 49d 6'10.73"N)
Lower Right ( 4635497.961, 5230215.080) ( 13d47'18.21"E, 47d11'50.74"N)
Center      ( 4473577.961, 5336199.080) ( 11d38'41.16"E, 48d 9'51.03"N)
Band 1 Block=256x256 Type=Byte, ColorInterp=Palette
  Color Table (RGB with 256 entries)
    0: 255,255,255,255
    1: 255,255,255,255
    2: 131,219,123,255
    3: 220,255,184,255
    ...
From marco.pasetti at alice.it  Tue Mar  4 15:24:22 2008
From: marco.pasetti at alice.it (Marco Pasetti)
Date: Tue Mar  4 15:24:30 2008
Subject: [gdal-dev] GDAL 1.5.0 Build Error With GRASS Support
In-Reply-To: <FBCMMO033CaFc3leDML0005114d@FBCMMO03.fbc.local>
References: <FBCMMO033CaFc3leDML0005114d@FBCMMO03.fbc.local>
Message-ID: <009301c87e35$bbdb3150$0201a8c0@notebookmarco>

Problem fixed
 
needed only to add --with-local=/usr/local in configure
 
Marco

  _____  

Da: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] Per conto di
marco.pasetti@alice.it
Inviato: marted? 4 marzo 2008 18.01
A: gdal-dev@lists.osgeo.org; grass-dev@lists.osgeo.org
Oggetto: [gdal-dev] GDAL 1.5.0 Build Error With GRASS Support


Hi,
 
I'm building GDAL 1.5.0 with GRASS support;
it gives the following error:
 
In file included from grass57dataset.cpp:45:
C:/MSYS/local/grass-6.3.0RC5/include/grass/gprojects.h:23:22: proj_api.h: No
such file or directory
In file included from grass57dataset.cpp:45:
C:/MSYS/local/grass-6.3.0RC5/include/grass/gprojects.h:36: error: ISO C++
forbids declaration of `projPJ' with no type
C:/MSYS/local/grass-6.3.0RC5/include/grass/gprojects.h:36: error: expected
`;' before '*' token
make[2]: *** [../o/grass57dataset.o] Error 1
make[2]: Leaving directory `/usr/local/src/gdal-1.5.0/frmts/grass'
make[1]: *** [grass-install-obj] Error 2
make[1]: Leaving directory `/usr/local/src/gdal-1.5.0/frmts'
make: *** [frmts-target] Error 2
 
proj_api.h is present in /usr/local/include, while
/usr/local/grass-6.3.0RC5/include/grass has gproj_api.h
should I force GRASS code to include gproj_api.h instead of proj_api.h or
walk around the problem adding /usr/local/include to PATH before launch make
command?
 
Thanks
 
Marco
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080304/544bafbb/attachment.html
From monshi at home.se  Tue Mar  4 15:43:41 2008
From: monshi at home.se (Tomas R)
Date: Tue Mar  4 15:43:55 2008
Subject: [gdal-dev] Re: C#: Gdal on Win64
In-Reply-To: <f3b73b7d0803031319kba17ed6ma732b902c3393a3f@mail.gmail.com>
References: <fq8foq$m8o$1@ger.gmane.org>
	<fqb74f$fo$1@ger.gmane.org>	<f3b73b7d0803011332y94fe202oedd68c66d2d09212@mail.gmail.com>	<fqcjif$59l$1@ger.gmane.org>	<f3b73b7d0803011614w14ceb2a3necd7587bf9a0da2d@mail.gmail.com>	<fqgldn$mus$1@ger.gmane.org>	<f3b73b7d0803030350k2244f21ck6aab53c9091be698@mail.gmail.com>	<fqgrqa$eep$1@ger.gmane.org>	<f3b73b7d0803030956t7f035b34l36a3feba1a1aafbe@mail.gmail.com>	<fqho7a$47m$1@ger.gmane.org>
	<f3b73b7d0803031319kba17ed6ma732b902c3393a3f@mail.gmail.com>
Message-ID: <fqkc9v$38a$1@ger.gmane.org>

Thanks for all the help.

Everything up and running. A small miss in the environmental settings 
after a quick fix it compiles without any trouble. (VSE2005)

No hurry, but, a how-to compile the 64-bit version using VSE2008 on 
Vista would be nice :)

The 64 bit version of the library you have so kindly provided earlier 
works just fine and should do fine for now.

Yours
Tomas
Tamas Szekeres skrev:
> 2008/3/3, Tomas R <monshi@home.se>:
>   
>> Thanks for the binaries. Have not tried them out, will do that tomorrow.
>>  Instead I have spent some frustrating time (always a bit frustrating
>>  compiling big c++ projects, getting all components you need) trying to
>>  compile GDAL on Visual c++ 2005 Express. I have (tried) to follow the
>>  instructions given on the web
>>  (http://trac.osgeo.org/gdal/wiki/BuildingOnWindows) but building via
>>  nmake on commandprompt failes at finding 'atlbase.h'. Yes I know, Win
>>  SDK paths. have tried setting them. Building GDAL via the GUI, (project
>>  7_1) works though.
>>
>>  Any tips on the use of nmake? What have I missed? Yes, I have set the
>>  paths and called vsvars32.bat before nmake
>>
>>  And - this gives me the gdal dll. But, the rest (ogr_wrap.dll,
>>  proj.dll)? How do I obtain those? Won't I need those, the dll's that are
>>  included in the binaries you have provided so nicely below.
>>
>>     
>
> The csharp bindings should be compiled separately after the core gdal
> have been compiled. Here is the corresponding wiki page:
> http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpCompile
>
> Best regards,
>
> Tamas
>   

From dylan.beaudette at gmail.com  Tue Mar  4 17:03:17 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Tue Mar  4 17:02:15 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <f3b73b7d0803040133r36628e15w6b8bc9e85ab0107@mail.gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803031659.48237.dylan.beaudette@gmail.com>
	<f3b73b7d0803040133r36628e15w6b8bc9e85ab0107@mail.gmail.com>
Message-ID: <200803041403.17780.dylan.beaudette@gmail.com>

On Tuesday 04 March 2008, Tamas Szekeres wrote:
> Hi,
>
> Yes, you should try with the recent SVN version. The changes related
> to this issue are pretty new.
>
> Best regards,
>
> Tamas

Hi Tamas,

Thanks for the tip. Unfortunately, even with today's SVN, I still get the same 
error:

ERROR 1: SQL: Missing comma after column cat in SELECT statement.

Cheers,

Dylan


> 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> > On Monday 03 March 2008, Even Rouault wrote:
> >  > In fact, using the same principle, you can use just one command line
> >  > and no intermediary file :
> >  >
> >  > ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT  src_field_1 AS
> >  > name, src_field_2 AS desc FROM your_source_layer_name"
> >  >
> >  > Thanks to FrankW for the tip ;-)
> >
> > Thanks Even / Frank.
> >
> >  One small problem:
> >
> >
> >
> >  ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> >  -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> >
> > veg_points.gpx veg_points.shp \
> >  -sql "SELECT cat AS foo FROM veg_points"
> >
> >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
> >
> >  Could this be a bug or my version of GDAL too old ? This is with GDAL
> > SVN, checked out a couple of weeks ago.
> >
> >  I get a valid GPX file if I do not use the "AS foo" operator.
> >
> >  Ideas?
> >
> >
> >  Dylan
> >
> >  > Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit :
> >  > > Hi,
> >  > >
> >  > > I see your point...
> >  > >
> >  > > The solution is the powerful OGR Virtual Dataset format !
> >  > > See http://www.gdal.org/ogr/drv_vrt.html
> >  > >
> >  > > In fact, the documentation should probably be extended to
> >  > > demonstrate the power of the OGR SQL for that particular case
> >  > >
> >  > > Try to paste the following lines in a file (remapped_layer.vrt would
> >  > > be fine)
> >  > >
> >  > > <OGRVRTDataSource>
> >  > >     <OGRVRTLayer name="remapped_layer">
> >  > >         <SrcDataSource>your_source.shp</SrcDataSource>
> >  > >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc FROM
> >  > > your_source_layer_name</SrcSQL>
> >  > >     </OGRVRTLayer>
> >  > > </OGRVRTDataSource>
> >  > >
> >  > > Replace your_source.shp, src_field_1, src_field_2 and
> >  > > your_source_layer_name by the appropriate values from your source
> >  > > dataset and 'ogrinfo -ro -al remapped_layer.vrt' should show a
> >  > > structure compatible of a GPX file.
> >  > >
> >  > > Best regards,
> >  > > Even
> >  > >
> >  > > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez ?crit :
> >  > > > Hi,
> >  > > >
> >  > > > is there a simple approach (via ogr2ogr) to create GPS files which
> >  > > > have standard waypoint tags such as <name>, <elev>, <cmt>, etc. by
> >  > > > re-mapping columns in the attribute table of the source vector?
> >  > > >
> >  > > > for example:
> >  > > >
> >  > > > # export points vector from GRASS
> >  > > > v.out.ogr in=wp type=point dsn=wp.shp
> >  > > >
> >  > > > # convert tp GPX:
> >  > > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> >  > > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> >  > > > wp_gps.gpx wp.shp
> >  > > >
> >  > > > This results in a working GPX waypoints file, that when uploaded
> >  > > > to a GPS is functional, but the waypoints are all re-named
> >  > > > sequentially. Note that I am uploading the GPX file the GPS via
> >  > > > gpsbabel.
> >  > > >
> >  > > > Does anyone know of the appropriate incantation that one could use
> >  > > > to translate the column structure of the input wp.shp (i.e. the
> >  > > > stuff in its .dbf) into standard waypoint tags?
> >  > > >
> >  > > > thanks in advance!
> >  > > >
> >  > > > PS: trying to write a simple tutorial for some colleagues [1]
> >  > > >
> >  > > > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
> >  > >
> >  > > _______________________________________________
> >  > > gdal-dev mailing list
> >  > > gdal-dev@lists.osgeo.org
> >  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > --
> >  Dylan Beaudette
> >  Soil Resource Laboratory
> >
> > http://casoilresource.lawr.ucdavis.edu/
> >
> > University of California at Davis
> >  530.754.7341
> >  _______________________________________________
> >
> > gdal-dev mailing list
> >  gdal-dev@lists.osgeo.org
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From szekerest at gmail.com  Tue Mar  4 17:19:08 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar  4 17:19:11 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <200803041403.17780.dylan.beaudette@gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803031659.48237.dylan.beaudette@gmail.com>
	<f3b73b7d0803040133r36628e15w6b8bc9e85ab0107@mail.gmail.com>
	<200803041403.17780.dylan.beaudette@gmail.com>
Message-ID: <f3b73b7d0803041419n2bc620fat187d630d4520c058@mail.gmail.com>

Dylan,

Would you attach this ogr2ogr commandline string and the corresponding
test data to
http://trac.osgeo.org/gdal/ticket/2171
I'll look into the problem than.

( That's why I still haven't closed this ticket ;-)


Best regards,

Tamas


2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> On Tuesday 04 March 2008, Tamas Szekeres wrote:
>  > Hi,
>  >
>  > Yes, you should try with the recent SVN version. The changes related
>  > to this issue are pretty new.
>  >
>  > Best regards,
>  >
>  > Tamas
>
>
> Hi Tamas,
>
>  Thanks for the tip. Unfortunately, even with today's SVN, I still get the same
>  error:
>
>
>  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
>
>
> Cheers,
>
>
>  Dylan
>
>
>
>  > 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
>  > > On Monday 03 March 2008, Even Rouault wrote:
>  > >  > In fact, using the same principle, you can use just one command line
>  > >  > and no intermediary file :
>  > >  >
>  > >  > ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT  src_field_1 AS
>  > >  > name, src_field_2 AS desc FROM your_source_layer_name"
>  > >  >
>  > >  > Thanks to FrankW for the tip ;-)
>  > >
>  > > Thanks Even / Frank.
>  > >
>  > >  One small problem:
>  > >
>  > >
>  > >
>  > >  ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
>  > >  -f GPX -dsco GPX_USE_EXTENSIONS=YES \
>  > >
>  > > veg_points.gpx veg_points.shp \
>  > >  -sql "SELECT cat AS foo FROM veg_points"
>  > >
>  > >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
>  > >
>  > >  Could this be a bug or my version of GDAL too old ? This is with GDAL
>  > > SVN, checked out a couple of weeks ago.
>  > >
>  > >  I get a valid GPX file if I do not use the "AS foo" operator.
>  > >
>  > >  Ideas?
>  > >
>  > >
>  > >  Dylan
>  > >
>  > >  > Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit :
>  > >  > > Hi,
>  > >  > >
>  > >  > > I see your point...
>  > >  > >
>  > >  > > The solution is the powerful OGR Virtual Dataset format !
>  > >  > > See http://www.gdal.org/ogr/drv_vrt.html
>  > >  > >
>  > >  > > In fact, the documentation should probably be extended to
>  > >  > > demonstrate the power of the OGR SQL for that particular case
>  > >  > >
>  > >  > > Try to paste the following lines in a file (remapped_layer.vrt would
>  > >  > > be fine)
>  > >  > >
>  > >  > > <OGRVRTDataSource>
>  > >  > >     <OGRVRTLayer name="remapped_layer">
>  > >  > >         <SrcDataSource>your_source.shp</SrcDataSource>
>  > >  > >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc FROM
>  > >  > > your_source_layer_name</SrcSQL>
>  > >  > >     </OGRVRTLayer>
>  > >  > > </OGRVRTDataSource>
>  > >  > >
>  > >  > > Replace your_source.shp, src_field_1, src_field_2 and
>  > >  > > your_source_layer_name by the appropriate values from your source
>  > >  > > dataset and 'ogrinfo -ro -al remapped_layer.vrt' should show a
>  > >  > > structure compatible of a GPX file.
>  > >  > >
>  > >  > > Best regards,
>  > >  > > Even
>  > >  > >
>  > >  > > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez ?crit :
>  > >  > > > Hi,
>  > >  > > >
>  > >  > > > is there a simple approach (via ogr2ogr) to create GPS files which
>  > >  > > > have standard waypoint tags such as <name>, <elev>, <cmt>, etc. by
>  > >  > > > re-mapping columns in the attribute table of the source vector?
>  > >  > > >
>  > >  > > > for example:
>  > >  > > >
>  > >  > > > # export points vector from GRASS
>  > >  > > > v.out.ogr in=wp type=point dsn=wp.shp
>  > >  > > >
>  > >  > > > # convert tp GPX:
>  > >  > > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
>  > >  > > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
>  > >  > > > wp_gps.gpx wp.shp
>  > >  > > >
>  > >  > > > This results in a working GPX waypoints file, that when uploaded
>  > >  > > > to a GPS is functional, but the waypoints are all re-named
>  > >  > > > sequentially. Note that I am uploading the GPX file the GPS via
>  > >  > > > gpsbabel.
>  > >  > > >
>  > >  > > > Does anyone know of the appropriate incantation that one could use
>  > >  > > > to translate the column structure of the input wp.shp (i.e. the
>  > >  > > > stuff in its .dbf) into standard waypoint tags?
>  > >  > > >
>  > >  > > > thanks in advance!
>  > >  > > >
>  > >  > > > PS: trying to write a simple tutorial for some colleagues [1]
>  > >  > > >
>  > >  > > > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
>  > >  > >
>  > >  > > _______________________________________________
>  > >  > > gdal-dev mailing list
>  > >  > > gdal-dev@lists.osgeo.org
>  > >  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  > >
>  > > --
>  > >  Dylan Beaudette
>  > >  Soil Resource Laboratory
>  > >
>  > > http://casoilresource.lawr.ucdavis.edu/
>  > >
>  > > University of California at Davis
>  > >  530.754.7341
>  > >  _______________________________________________
>  > >
>  > > gdal-dev mailing list
>  > >  gdal-dev@lists.osgeo.org
>  > >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
>
> Dylan Beaudette
>  Soil Resource Laboratory
>  http://casoilresource.lawr.ucdavis.edu/
>  University of California at Davis
>  530.754.7341
>
From dylan.beaudette at gmail.com  Tue Mar  4 17:40:44 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Tue Mar  4 17:39:10 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <f3b73b7d0803041419n2bc620fat187d630d4520c058@mail.gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803041403.17780.dylan.beaudette@gmail.com>
	<f3b73b7d0803041419n2bc620fat187d630d4520c058@mail.gmail.com>
Message-ID: <200803041440.44899.dylan.beaudette@gmail.com>

On Tuesday 04 March 2008, Tamas Szekeres wrote:
> Dylan,
>
> Would you attach this ogr2ogr commandline string and the corresponding
> test data to
> http://trac.osgeo.org/gdal/ticket/2171
> I'll look into the problem than.
>
> ( That's why I still haven't closed this ticket ;-)
>
>
> Best regards,
>
> Tamas

Thanks Tamas:

http://trac.osgeo.org/gdal/ticket/2171#comment:5

Cheers,

Dylan

>
> 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> > On Tuesday 04 March 2008, Tamas Szekeres wrote:
> >  > Hi,
> >  >
> >  > Yes, you should try with the recent SVN version. The changes related
> >  > to this issue are pretty new.
> >  >
> >  > Best regards,
> >  >
> >  > Tamas
> >
> > Hi Tamas,
> >
> >  Thanks for the tip. Unfortunately, even with today's SVN, I still get
> > the same error:
> >
> >
> >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
> >
> >
> > Cheers,
> >
> >
> >  Dylan
> >
> >  > 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> >  > > On Monday 03 March 2008, Even Rouault wrote:
> >  > >  > In fact, using the same principle, you can use just one command
> >  > >  > line and no intermediary file :
> >  > >  >
> >  > >  > ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT 
> >  > >  > src_field_1 AS name, src_field_2 AS desc FROM
> >  > >  > your_source_layer_name"
> >  > >  >
> >  > >  > Thanks to FrankW for the tip ;-)
> >  > >
> >  > > Thanks Even / Frank.
> >  > >
> >  > >  One small problem:
> >  > >
> >  > >
> >  > >
> >  > >  ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> >  > >  -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> >  > >
> >  > > veg_points.gpx veg_points.shp \
> >  > >  -sql "SELECT cat AS foo FROM veg_points"
> >  > >
> >  > >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
> >  > >
> >  > >  Could this be a bug or my version of GDAL too old ? This is with
> >  > > GDAL SVN, checked out a couple of weeks ago.
> >  > >
> >  > >  I get a valid GPX file if I do not use the "AS foo" operator.
> >  > >
> >  > >  Ideas?
> >  > >
> >  > >
> >  > >  Dylan
> >  > >
> >  > >  > Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit :
> >  > >  > > Hi,
> >  > >  > >
> >  > >  > > I see your point...
> >  > >  > >
> >  > >  > > The solution is the powerful OGR Virtual Dataset format !
> >  > >  > > See http://www.gdal.org/ogr/drv_vrt.html
> >  > >  > >
> >  > >  > > In fact, the documentation should probably be extended to
> >  > >  > > demonstrate the power of the OGR SQL for that particular case
> >  > >  > >
> >  > >  > > Try to paste the following lines in a file (remapped_layer.vrt
> >  > >  > > would be fine)
> >  > >  > >
> >  > >  > > <OGRVRTDataSource>
> >  > >  > >     <OGRVRTLayer name="remapped_layer">
> >  > >  > >         <SrcDataSource>your_source.shp</SrcDataSource>
> >  > >  > >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc
> >  > >  > > FROM your_source_layer_name</SrcSQL>
> >  > >  > >     </OGRVRTLayer>
> >  > >  > > </OGRVRTDataSource>
> >  > >  > >
> >  > >  > > Replace your_source.shp, src_field_1, src_field_2 and
> >  > >  > > your_source_layer_name by the appropriate values from your
> >  > >  > > source dataset and 'ogrinfo -ro -al remapped_layer.vrt' should
> >  > >  > > show a structure compatible of a GPX file.
> >  > >  > >
> >  > >  > > Best regards,
> >  > >  > > Even
> >  > >  > >
> >  > >  > > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez 
?crit :
> >  > >  > > > Hi,
> >  > >  > > >
> >  > >  > > > is there a simple approach (via ogr2ogr) to create GPS files
> >  > >  > > > which have standard waypoint tags such as <name>, <elev>,
> >  > >  > > > <cmt>, etc. by re-mapping columns in the attribute table of
> >  > >  > > > the source vector?
> >  > >  > > >
> >  > >  > > > for example:
> >  > >  > > >
> >  > >  > > > # export points vector from GRASS
> >  > >  > > > v.out.ogr in=wp type=point dsn=wp.shp
> >  > >  > > >
> >  > >  > > > # convert tp GPX:
> >  > >  > > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> >  > >  > > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> >  > >  > > > wp_gps.gpx wp.shp
> >  > >  > > >
> >  > >  > > > This results in a working GPX waypoints file, that when
> >  > >  > > > uploaded to a GPS is functional, but the waypoints are all
> >  > >  > > > re-named sequentially. Note that I am uploading the GPX file
> >  > >  > > > the GPS via gpsbabel.
> >  > >  > > >
> >  > >  > > > Does anyone know of the appropriate incantation that one
> >  > >  > > > could use to translate the column structure of the input
> >  > >  > > > wp.shp (i.e. the stuff in its .dbf) into standard waypoint
> >  > >  > > > tags?
> >  > >  > > >
> >  > >  > > > thanks in advance!
> >  > >  > > >
> >  > >  > > > PS: trying to write a simple tutorial for some colleagues [1]
> >  > >  > > >
> >  > >  > > > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
> >  > >  > >
> >  > >  > > _______________________________________________
> >  > >  > > gdal-dev mailing list
> >  > >  > > gdal-dev@lists.osgeo.org
> >  > >  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  > >
> >  > > --
> >  > >  Dylan Beaudette
> >  > >  Soil Resource Laboratory
> >  > >
> >  > > http://casoilresource.lawr.ucdavis.edu/
> >  > >
> >  > > University of California at Davis
> >  > >  530.754.7341
> >  > >  _______________________________________________
> >  > >
> >  > > gdal-dev mailing list
> >  > >  gdal-dev@lists.osgeo.org
> >  > >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> > --
> >
> > Dylan Beaudette
> >  Soil Resource Laboratory
> >  http://casoilresource.lawr.ucdavis.edu/
> >  University of California at Davis
> >  530.754.7341



-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From bhagwat.maimt at gmail.com  Wed Mar  5 02:57:58 2008
From: bhagwat.maimt at gmail.com (bargi)
Date: Wed Mar  5 02:58:01 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <loom.20080304T163658-837@post.gmane.org>
References: <15820963.post@talk.nabble.com>
	<loom.20080304T163658-837@post.gmane.org>
Message-ID: <15844975.post@talk.nabble.com>


 Thank to u all for replying !!!!

  Yeah Jukka, is right .... I want to fetch information from geotiff files
and render that file in our project......

  I can't do it directly .......... That's why I am looking for the way to
do it.

  With your help I am able to read and fetch information.....but I am not
clear how to use this information to 

  to render the file......???????

 Can anybody help me regarding this........

 Thanks
 

 


Jukka Rahkonen wrote:
> 
> bargi <bhagwat.maimt <at> gmail.com> writes:
> 
>> 
>> 
>> Hi,
>> 
>> How can I read geotiff file format using GDAL  and can I convert them to
>> shapfile format ???
> 
> People are guessing wildly what you actually want.  My guess is that
> perhaps you
>  want to read the georeferencing info from geotiff and write a
> corresponding
> ESRI world file in order to use the image with some software not
> supporting
> geotiffs.  If this is the case then reading goes simply with gdalinfo
> utility,
> but I do not know if it is possible to write our the world file only.
> 
> I am sure you would get better answers with a bit less mysterious
> questions.
> 
> -Jukka Rahkonen.
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/How-to-read-geotiff-file-using-GDAL-tp15820963p15844975.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From szekerest at gmail.com  Wed Mar  5 06:56:08 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Mar  5 06:56:11 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <200803041440.44899.dylan.beaudette@gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803041403.17780.dylan.beaudette@gmail.com>
	<f3b73b7d0803041419n2bc620fat187d630d4520c058@mail.gmail.com>
	<200803041440.44899.dylan.beaudette@gmail.com>
Message-ID: <f3b73b7d0803050356n423981d9u4439201dd36bc0fd@mail.gmail.com>

Dylan,

I couldn't reproduce the issue on Windows using the current version in
the trunk. The result have been attached to this ticket.

Are you sure you use the proper version?

Best regards,

Tamas



2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> On Tuesday 04 March 2008, Tamas Szekeres wrote:
>
> > Dylan,
>  >
>  > Would you attach this ogr2ogr commandline string and the corresponding
>  > test data to
>  > http://trac.osgeo.org/gdal/ticket/2171
>  > I'll look into the problem than.
>  >
>  > ( That's why I still haven't closed this ticket ;-)
>  >
>  >
>  > Best regards,
>  >
>  > Tamas
>
>
> Thanks Tamas:
>
>  http://trac.osgeo.org/gdal/ticket/2171#comment:5
>
>
>  Cheers,
>
>  Dylan
>
>  >
>  > 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
>  > > On Tuesday 04 March 2008, Tamas Szekeres wrote:
>  > >  > Hi,
>  > >  >
>  > >  > Yes, you should try with the recent SVN version. The changes related
>  > >  > to this issue are pretty new.
>  > >  >
>  > >  > Best regards,
>  > >  >
>  > >  > Tamas
>  > >
>  > > Hi Tamas,
>  > >
>  > >  Thanks for the tip. Unfortunately, even with today's SVN, I still get
>  > > the same error:
>  > >
>  > >
>  > >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
>  > >
>  > >
>  > > Cheers,
>  > >
>  > >
>  > >  Dylan
>  > >
>  > >  > 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
>  > >  > > On Monday 03 March 2008, Even Rouault wrote:
>  > >  > >  > In fact, using the same principle, you can use just one command
>  > >  > >  > line and no intermediary file :
>  > >  > >  >
>  > >  > >  > ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT
>  > >  > >  > src_field_1 AS name, src_field_2 AS desc FROM
>  > >  > >  > your_source_layer_name"
>  > >  > >  >
>  > >  > >  > Thanks to FrankW for the tip ;-)
>  > >  > >
>  > >  > > Thanks Even / Frank.
>  > >  > >
>  > >  > >  One small problem:
>  > >  > >
>  > >  > >
>  > >  > >
>  > >  > >  ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
>  > >  > >  -f GPX -dsco GPX_USE_EXTENSIONS=YES \
>  > >  > >
>  > >  > > veg_points.gpx veg_points.shp \
>  > >  > >  -sql "SELECT cat AS foo FROM veg_points"
>  > >  > >
>  > >  > >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
>  > >  > >
>  > >  > >  Could this be a bug or my version of GDAL too old ? This is with
>  > >  > > GDAL SVN, checked out a couple of weeks ago.
>  > >  > >
>  > >  > >  I get a valid GPX file if I do not use the "AS foo" operator.
>  > >  > >
>  > >  > >  Ideas?
>  > >  > >
>  > >  > >
>  > >  > >  Dylan
>  > >  > >
>  > >  > >  > Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez ?crit :
>  > >  > >  > > Hi,
>  > >  > >  > >
>  > >  > >  > > I see your point...
>  > >  > >  > >
>  > >  > >  > > The solution is the powerful OGR Virtual Dataset format !
>  > >  > >  > > See http://www.gdal.org/ogr/drv_vrt.html
>  > >  > >  > >
>  > >  > >  > > In fact, the documentation should probably be extended to
>  > >  > >  > > demonstrate the power of the OGR SQL for that particular case
>  > >  > >  > >
>  > >  > >  > > Try to paste the following lines in a file (remapped_layer.vrt
>  > >  > >  > > would be fine)
>  > >  > >  > >
>  > >  > >  > > <OGRVRTDataSource>
>  > >  > >  > >     <OGRVRTLayer name="remapped_layer">
>  > >  > >  > >         <SrcDataSource>your_source.shp</SrcDataSource>
>  > >  > >  > >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS desc
>  > >  > >  > > FROM your_source_layer_name</SrcSQL>
>  > >  > >  > >     </OGRVRTLayer>
>  > >  > >  > > </OGRVRTDataSource>
>  > >  > >  > >
>  > >  > >  > > Replace your_source.shp, src_field_1, src_field_2 and
>  > >  > >  > > your_source_layer_name by the appropriate values from your
>  > >  > >  > > source dataset and 'ogrinfo -ro -al remapped_layer.vrt' should
>  > >  > >  > > show a structure compatible of a GPX file.
>  > >  > >  > >
>  > >  > >  > > Best regards,
>  > >  > >  > > Even
>  > >  > >  > >
>  > >  > >  > > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous avez
>  ?crit :
>  > >  > >  > > > Hi,
>  > >  > >  > > >
>  > >  > >  > > > is there a simple approach (via ogr2ogr) to create GPS files
>  > >  > >  > > > which have standard waypoint tags such as <name>, <elev>,
>  > >  > >  > > > <cmt>, etc. by re-mapping columns in the attribute table of
>  > >  > >  > > > the source vector?
>  > >  > >  > > >
>  > >  > >  > > > for example:
>  > >  > >  > > >
>  > >  > >  > > > # export points vector from GRASS
>  > >  > >  > > > v.out.ogr in=wp type=point dsn=wp.shp
>  > >  > >  > > >
>  > >  > >  > > > # convert tp GPX:
>  > >  > >  > > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
>  > >  > >  > > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
>  > >  > >  > > > wp_gps.gpx wp.shp
>  > >  > >  > > >
>  > >  > >  > > > This results in a working GPX waypoints file, that when
>  > >  > >  > > > uploaded to a GPS is functional, but the waypoints are all
>  > >  > >  > > > re-named sequentially. Note that I am uploading the GPX file
>  > >  > >  > > > the GPS via gpsbabel.
>  > >  > >  > > >
>  > >  > >  > > > Does anyone know of the appropriate incantation that one
>  > >  > >  > > > could use to translate the column structure of the input
>  > >  > >  > > > wp.shp (i.e. the stuff in its .dbf) into standard waypoint
>  > >  > >  > > > tags?
>  > >  > >  > > >
>  > >  > >  > > > thanks in advance!
>  > >  > >  > > >
>  > >  > >  > > > PS: trying to write a simple tutorial for some colleagues [1]
>  > >  > >  > > >
>  > >  > >  > > > 1. http://casoilresource.lawr.ucdavis.edu/drupal/node/553
>  > >  > >  > >
>  > >  > >  > > _______________________________________________
>  > >  > >  > > gdal-dev mailing list
>  > >  > >  > > gdal-dev@lists.osgeo.org
>  > >  > >  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  > >  > >
>  > >  > > --
>  > >  > >  Dylan Beaudette
>  > >  > >  Soil Resource Laboratory
>  > >  > >
>  > >  > > http://casoilresource.lawr.ucdavis.edu/
>  > >  > >
>  > >  > > University of California at Davis
>  > >  > >  530.754.7341
>  > >  > >  _______________________________________________
>  > >  > >
>  > >  > > gdal-dev mailing list
>  > >  > >  gdal-dev@lists.osgeo.org
>  > >  > >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  > >
>  > > --
>  > >
>  > > Dylan Beaudette
>  > >  Soil Resource Laboratory
>  > >  http://casoilresource.lawr.ucdavis.edu/
>  > >  University of California at Davis
>  > >  530.754.7341
>
>
>
>
> --
>
> Dylan Beaudette
>  Soil Resource Laboratory
>  http://casoilresource.lawr.ucdavis.edu/
>  University of California at Davis
>  530.754.7341
>
From bartvde at osgis.nl  Wed Mar  5 07:37:19 2008
From: bartvde at osgis.nl (Bart van den Eijnden (OSGIS))
Date: Wed Mar  5 07:37:42 2008
Subject: [gdal-dev] stripes in ArcInfo binary grid
Message-ID: <dd85a224ada4106818dd9292bbacd19f@145.50.39.11>

Hi list,

after upgrading to GDAL 1.5 (coming from 1.4) we have some stripes in an
ArcInfo binary grid (viewed with Mapserver).

Any ideas what could be causing this?

The problem can be seen in this screendump:

http://www.osgis.nl/download/gdal15problem.png

Best regards,
Bart

--
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl





From warmerdam at pobox.com  Wed Mar  5 10:15:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar  5 10:15:34 2008
Subject: [gdal-dev] stripes in ArcInfo binary grid
In-Reply-To: <dd85a224ada4106818dd9292bbacd19f@145.50.39.11>
References: <dd85a224ada4106818dd9292bbacd19f@145.50.39.11>
Message-ID: <47CEB8F9.2060208@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Hi list,
> 
> after upgrading to GDAL 1.5 (coming from 1.4) we have some stripes in an
> ArcInfo binary grid (viewed with Mapserver).
> 
> Any ideas what could be causing this?
> 
> The problem can be seen in this screendump:
> 
> http://www.osgis.nl/download/gdal15problem.png

Bart,

If you can file a ticket on this, and provide a pointer to the problem dataset
I'll treat this as priority to fix before the soon to be released GDAL 1.5.1.

There have been some improvements to the tile decoder for arc/info grids for
1.5.0 but with no specifications and only a haphazard assortment of test data
it is hard to be sure one improvement doesn't break some other case.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mattia.parigiani at gmail.com  Wed Mar  5 10:41:34 2008
From: mattia.parigiani at gmail.com (mattia)
Date: Wed Mar  5 10:41:36 2008
Subject: [gdal-dev] Reprojection of HDF data.. again on GCP extraction
Message-ID: <6b6f1c810803050741m64675434g767b258e61bc7222@mail.gmail.com>

Hello folks,

I still need some help / advise for reprojecting my HDF raster image
datasets..
I manage to dump the "Latitude" and "Longitude" data sets of the HDF file
into ASCII format...
Now I would like to use this data to do the reprojection.. The dump I did
using HDF's hdp utility as follows:

mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Latitude -d -x
-o latitude AMOD021KM20070104035343.hdf
mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Longitude -d -x
-o longitude AMOD021KM20070104035343.hdf

The contents of the file is as follows (Latitude for example):

64.731689 64.741600 64.749550 64.755737 64.760345 64.763504 64.765366
64.766037 64.765633 64.764244 64.761963 64.758858 64.754997 64.750458
64.745285 64.739532 64.733253 64.726479 64.719261 64.711617 64.703606
64.695229 64.686531 64.677536 64.668266 64.658737 64.648972 64.638985
64.628799 64.618423 64.607880 64.597176 64.586319 64.575333 64.564217
64.552979 64.541634 64.530190 64.518654 64.507034 64.495338 64.483559
64.471718 64.459816 64.447853 64.435837 64.423767 64.411659 64.399506
64.387314 64.375084 64.362823 64.350525 64.338203 64.325851 64.313484
64.301086 64.288673 64.276237 64.263779 64.251312 64.238823 64.226318
64.213806 64.201271 64.188736 64.176178 64.163612 64.151039 64.138451
64.125854 64.113251 64.100639 64.088013 64.075378 64.062737 64.050079
64.037415 64.024742 64.012062 63.999371 63.986668 63.973953 63.961227
63.948494 63.935745 63.922985 63.910213 63.897430 63.884628 63.871819
63.858990 63.846146 63.833290 63.820412 63.807522 63.794609 63.781685
63.768738 63.755768 63.742779 63.729767 63.716736 63.703678 63.690601
63.677494 63.664364 63.651207 63.638020 63.624805 63.611561 63.598286
63.584984 63.571644 63.558270 63.544861 63.531418 63.517937 63.504421
63.490864 63.477264 63.463623 63.449940 63.436214 63.422440 63.408619
63.394753 63.380836 63.366871 63.352848 63.338776 63.324650 63.310463
63.296223 63.281918 63.267559 63.253132 63.238644 63.224091 63.209465
63.194775 63.180012 63.165180 63.150269 63.135284 63.120224 63.105080
63.089855 63.074547 63.059151 63.043671 63.028099 63.012436 62.996674
62.980820 62.964863 62.948811 62.932648 62.916386 62.900009 62.883526
62.866928 62.850208 62.833378 62.816418 62.799339 62.782131 62.764790
62.747314 62.729702 62.711952 62.694057 62.676014 62.657822 62.639477
62.620972 62.602303 62.583473 62.564472 62.545296 62.525944 62.506409
62.486687 62.466774 62.446667 62.426357 62.405842 62.385117 62.364174

.
.
.
etc
.
.
.




Now, I need to construct GCPs from this data and I would just like to know
what would be best..

1) writing a C utility which does the job and prepares GCPs which later I
can pass to gdal_translate from a file for example

2) A C utility which creates the GCPs and a VRT file with these included for
the later coming reprojection

Any other ideas would be appreciated..

The problem is though how to assign the actual GCPs...  I mean, every GCP
has format (x,y) > (lat,long) ..   how do I know how to assign the (x,y)
part??


Regards


-- 
Mattia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080305/54d28d33/attachment.html
From ivan.lucena at pmldnet.com  Wed Mar  5 11:19:21 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Wed Mar  5 11:19:26 2008
Subject: [gdal-dev] Reprojection of HDF data.. again on GCP extraction
In-Reply-To: <6b6f1c810803050741m64675434g767b258e61bc7222@mail.gmail.com>
References: <6b6f1c810803050741m64675434g767b258e61bc7222@mail.gmail.com>
Message-ID: <47CEC809.1000705@pmldnet.com>

Mattia,

That is simple. If your image dataset dimensions are [1200x600] and the 
latitude or the longitude dataset dimensions are [120x60] means that 
those values are related to every other 10 pixels, so you should generate:

0,   0, lat[0,0], long[0,0]
0,  10, lat[0,1], long[0,1]
0,  20, lat[0,2], long[0,2]
0,  30, lat[0,3], long[0,3]
...
10,  0, lat[1,0], long[1,0]
10, 10, lat[1,1], long[1,1]
...
1199, 599, lat[119,59], long[119,59]

I suggest the use of AWK to deal with the reformatting/merging the 
latitude and longitude text files.

Best regards,

Ivan


mattia wrote:
> Hello folks,
> 
> I still need some help / advise for reprojecting my HDF raster image
> datasets..
> I manage to dump the "Latitude" and "Longitude" data sets of the HDF file
> into ASCII format...
> Now I would like to use this data to do the reprojection.. The dump I did
> using HDF's hdp utility as follows:
> 
> mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Latitude -d -x
> -o latitude AMOD021KM20070104035343.hdf
> mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Longitude -d -x
> -o longitude AMOD021KM20070104035343.hdf
> 
> The contents of the file is as follows (Latitude for example):
> 
> 64.731689 64.741600 64.749550 64.755737 64.760345 64.763504 64.765366
> 64.766037 64.765633 64.764244 64.761963 64.758858 64.754997 64.750458
> 64.745285 64.739532 64.733253 64.726479 64.719261 64.711617 64.703606
> 64.695229 64.686531 64.677536 64.668266 64.658737 64.648972 64.638985
> 64.628799 64.618423 64.607880 64.597176 64.586319 64.575333 64.564217
> 64.552979 64.541634 64.530190 64.518654 64.507034 64.495338 64.483559
> 64.471718 64.459816 64.447853 64.435837 64.423767 64.411659 64.399506
> 64.387314 64.375084 64.362823 64.350525 64.338203 64.325851 64.313484
> 64.301086 64.288673 64.276237 64.263779 64.251312 64.238823 64.226318
> 64.213806 64.201271 64.188736 64.176178 64.163612 64.151039 64.138451
> 64.125854 64.113251 64.100639 64.088013 64.075378 64.062737 64.050079
> 64.037415 64.024742 64.012062 63.999371 63.986668 63.973953 63.961227
> 63.948494 63.935745 63.922985 63.910213 63.897430 63.884628 63.871819
> 63.858990 63.846146 63.833290 63.820412 63.807522 63.794609 63.781685
> 63.768738 63.755768 63.742779 63.729767 63.716736 63.703678 63.690601
> 63.677494 63.664364 63.651207 63.638020 63.624805 63.611561 63.598286
> 63.584984 63.571644 63.558270 63.544861 63.531418 63.517937 63.504421
> 63.490864 63.477264 63.463623 63.449940 63.436214 63.422440 63.408619
> 63.394753 63.380836 63.366871 63.352848 63.338776 63.324650 63.310463
> 63.296223 63.281918 63.267559 63.253132 63.238644 63.224091 63.209465
> 63.194775 63.180012 63.165180 63.150269 63.135284 63.120224 63.105080
> 63.089855 63.074547 63.059151 63.043671 63.028099 63.012436 62.996674
> 62.980820 62.964863 62.948811 62.932648 62.916386 62.900009 62.883526
> 62.866928 62.850208 62.833378 62.816418 62.799339 62.782131 62.764790
> 62.747314 62.729702 62.711952 62.694057 62.676014 62.657822 62.639477
> 62.620972 62.602303 62.583473 62.564472 62.545296 62.525944 62.506409
> 62.486687 62.466774 62.446667 62.426357 62.405842 62.385117 62.364174
> 
> .
> .
> .
> etc
> .
> .
> .
> 
> 
> 
> 
> Now, I need to construct GCPs from this data and I would just like to know
> what would be best..
> 
> 1) writing a C utility which does the job and prepares GCPs which later I
> can pass to gdal_translate from a file for example
> 
> 2) A C utility which creates the GCPs and a VRT file with these included for
> the later coming reprojection
> 
> Any other ideas would be appreciated..
> 
> The problem is though how to assign the actual GCPs...  I mean, every GCP
> has format (x,y) > (lat,long) ..   how do I know how to assign the (x,y)
> part??
> 
> 
> Regards
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From matt.wilkie at gov.yk.ca  Wed Mar  5 12:08:44 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Mar  5 12:08:46 2008
Subject: [Gdal-dev] How to read geotiff file using GDAL
In-Reply-To: <15844975.post@talk.nabble.com>
References: <15820963.post@talk.nabble.com>	<loom.20080304T163658-837@post.gmane.org>
	<15844975.post@talk.nabble.com>
Message-ID: <47CED39C.2010903@gov.yk.ca>

> How can I read geotiff file format using GDAL  

This is described in the GDAL API Tutorial here:
http://www.gdal.org/gdal_tutorial.html

 > and can I convert them to shapfile format ???

This is generally not possible as geotiff (raster) and shape (vectors) 
are entirely different data structures. The method Frank mentioned for 
generating contours from elevation data is here:
http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/gdal_contour.cpp
For more general info on Raster to Vector conversion see 
http://en.wikipedia.org/wiki/Raster_to_vector


cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From jukka.rahkonen at mmmtike.fi  Wed Mar  5 12:09:57 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed Mar  5 12:10:12 2008
Subject: [gdal-dev] Re: How to read geotiff file using GDAL
References: <15820963.post@talk.nabble.com>
	<loom.20080304T163658-837@post.gmane.org>
	<15844975.post@talk.nabble.com>
Message-ID: <loom.20080305T170055-488@post.gmane.org>

bargi <bhagwat.maimt <at> gmail.com> writes:

>  Thank to u all for replying !!!!
>   Yeah Jukka, is right .... I want to fetch information from geotiff files
> and render that file in our project......
>   I can't do it directly .......... That's why I am looking for the way to
> do it.
>   With your help I am able to read and fetch information.....but I am not
> clear how to use this information to 

Hi, 

Stupid but working method is to create a copy from your geotiff files, drop out
the geotiff tags and create world file instead.  Is goes like this:

gdal_translate -of GTiff -co profile=baseline -co tfw=yes input.tif output.tif

In your case you would only need the tfw creation part and copying the image
file itself is wasting time and disk space but I do not know about any utility
that would write only the world file for you.  It would be nice to know if such
exists, I might be useful sometimes.

-Jukka- 

From dylan.beaudette at gmail.com  Wed Mar  5 12:31:31 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Wed Mar  5 12:29:49 2008
Subject: [gdal-dev] ogr2ogr and GPX files
In-Reply-To: <f3b73b7d0803050356n423981d9u4439201dd36bc0fd@mail.gmail.com>
References: <200803022204.41430.dylan.beaudette@gmail.com>
	<200803041440.44899.dylan.beaudette@gmail.com>
	<f3b73b7d0803050356n423981d9u4439201dd36bc0fd@mail.gmail.com>
Message-ID: <200803050931.31722.dylan.beaudette@gmail.com>

On Wednesday 05 March 2008, Tamas Szekeres wrote:
> Dylan,
>
> I couldn't reproduce the issue on Windows using the current version in
> the trunk. The result have been attached to this ticket.
>
> Are you sure you use the proper version?
>
> Best regards,
>
> Tamas

Maybe I am not using the latest GDAL?


> 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> > On Tuesday 04 March 2008, Tamas Szekeres wrote:
> > > Dylan,
> > >
> >  > Would you attach this ogr2ogr commandline string and the corresponding
> >  > test data to
> >  > http://trac.osgeo.org/gdal/ticket/2171
> >  > I'll look into the problem than.
> >  >
> >  > ( That's why I still haven't closed this ticket ;-)
> >  >
> >  >
> >  > Best regards,
> >  >
> >  > Tamas
> >
> > Thanks Tamas:
> >
> >  http://trac.osgeo.org/gdal/ticket/2171#comment:5
> >
> >
> >  Cheers,
> >
> >  Dylan
> >
> >  > 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> >  > > On Tuesday 04 March 2008, Tamas Szekeres wrote:
> >  > >  > Hi,
> >  > >  >
> >  > >  > Yes, you should try with the recent SVN version. The changes
> >  > >  > related to this issue are pretty new.
> >  > >  >
> >  > >  > Best regards,
> >  > >  >
> >  > >  > Tamas
> >  > >
> >  > > Hi Tamas,
> >  > >
> >  > >  Thanks for the tip. Unfortunately, even with today's SVN, I still
> >  > > get the same error:
> >  > >
> >  > >
> >  > >  ERROR 1: SQL: Missing comma after column cat in SELECT statement.
> >  > >
> >  > >
> >  > > Cheers,
> >  > >
> >  > >
> >  > >  Dylan
> >  > >
> >  > >  > 2008/3/4, Dylan Beaudette <dylan.beaudette@gmail.com>:
> >  > >  > > On Monday 03 March 2008, Even Rouault wrote:
> >  > >  > >  > In fact, using the same principle, you can use just one
> >  > >  > >  > command line and no intermediary file :
> >  > >  > >  >
> >  > >  > >  > ogr2ogr -f GPX destination.gpx source.shp -sql "SELECT
> >  > >  > >  > src_field_1 AS name, src_field_2 AS desc FROM
> >  > >  > >  > your_source_layer_name"
> >  > >  > >  >
> >  > >  > >  > Thanks to FrankW for the tip ;-)
> >  > >  > >
> >  > >  > > Thanks Even / Frank.
> >  > >  > >
> >  > >  > >  One small problem:
> >  > >  > >
> >  > >  > >
> >  > >  > >
> >  > >  > >  ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> >  > >  > >  -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> >  > >  > >
> >  > >  > > veg_points.gpx veg_points.shp \
> >  > >  > >  -sql "SELECT cat AS foo FROM veg_points"
> >  > >  > >
> >  > >  > >  ERROR 1: SQL: Missing comma after column cat in SELECT
> >  > >  > > statement.
> >  > >  > >
> >  > >  > >  Could this be a bug or my version of GDAL too old ? This is
> >  > >  > > with GDAL SVN, checked out a couple of weeks ago.
> >  > >  > >
> >  > >  > >  I get a valid GPX file if I do not use the "AS foo" operator.
> >  > >  > >
> >  > >  > >  Ideas?
> >  > >  > >
> >  > >  > >
> >  > >  > >  Dylan
> >  > >  > >
> >  > >  > >  > Le Monday 03 March 2008 19:43:12 Even Rouault, vous avez 
?crit :
> >  > >  > >  > > Hi,
> >  > >  > >  > >
> >  > >  > >  > > I see your point...
> >  > >  > >  > >
> >  > >  > >  > > The solution is the powerful OGR Virtual Dataset format !
> >  > >  > >  > > See http://www.gdal.org/ogr/drv_vrt.html
> >  > >  > >  > >
> >  > >  > >  > > In fact, the documentation should probably be extended to
> >  > >  > >  > > demonstrate the power of the OGR SQL for that particular
> >  > >  > >  > > case
> >  > >  > >  > >
> >  > >  > >  > > Try to paste the following lines in a file
> >  > >  > >  > > (remapped_layer.vrt would be fine)
> >  > >  > >  > >
> >  > >  > >  > > <OGRVRTDataSource>
> >  > >  > >  > >     <OGRVRTLayer name="remapped_layer">
> >  > >  > >  > >         <SrcDataSource>your_source.shp</SrcDataSource>
> >  > >  > >  > >         <SrcSQL>SELECT src_field_1 AS name, src_field_2 AS
> >  > >  > >  > > desc FROM your_source_layer_name</SrcSQL>
> >  > >  > >  > >     </OGRVRTLayer>
> >  > >  > >  > > </OGRVRTDataSource>
> >  > >  > >  > >
> >  > >  > >  > > Replace your_source.shp, src_field_1, src_field_2 and
> >  > >  > >  > > your_source_layer_name by the appropriate values from your
> >  > >  > >  > > source dataset and 'ogrinfo -ro -al remapped_layer.vrt'
> >  > >  > >  > > should show a structure compatible of a GPX file.
> >  > >  > >  > >
> >  > >  > >  > > Best regards,
> >  > >  > >  > > Even
> >  > >  > >  > >
> >  > >  > >  > > Le Monday 03 March 2008 07:04:41 Dylan Beaudette, vous
> >  > >  > >  > > avez
> >
> >  ?crit :
> >  > >  > >  > > > Hi,
> >  > >  > >  > > >
> >  > >  > >  > > > is there a simple approach (via ogr2ogr) to create GPS
> >  > >  > >  > > > files which have standard waypoint tags such as <name>,
> >  > >  > >  > > > <elev>, <cmt>, etc. by re-mapping columns in the
> >  > >  > >  > > > attribute table of the source vector?
> >  > >  > >  > > >
> >  > >  > >  > > > for example:
> >  > >  > >  > > >
> >  > >  > >  > > > # export points vector from GRASS
> >  > >  > >  > > > v.out.ogr in=wp type=point dsn=wp.shp
> >  > >  > >  > > >
> >  > >  > >  > > > # convert tp GPX:
> >  > >  > >  > > > ogr2ogr -t_srs '+proj=latlong +datum=WGS84' \
> >  > >  > >  > > > -f GPX -dsco GPX_USE_EXTENSIONS=YES \
> >  > >  > >  > > > wp_gps.gpx wp.shp
> >  > >  > >  > > >
> >  > >  > >  > > > This results in a working GPX waypoints file, that when
> >  > >  > >  > > > uploaded to a GPS is functional, but the waypoints are
> >  > >  > >  > > > all re-named sequentially. Note that I am uploading the
> >  > >  > >  > > > GPX file the GPS via gpsbabel.
> >  > >  > >  > > >
> >  > >  > >  > > > Does anyone know of the appropriate incantation that one
> >  > >  > >  > > > could use to translate the column structure of the input
> >  > >  > >  > > > wp.shp (i.e. the stuff in its .dbf) into standard
> >  > >  > >  > > > waypoint tags?
> >  > >  > >  > > >
> >  > >  > >  > > > thanks in advance!
> >  > >  > >  > > >
> >  > >  > >  > > > PS: trying to write a simple tutorial for some
> >  > >  > >  > > > colleagues [1]
> >  > >  > >  > > >
> >  > >  > >  > > > 1.
> >  > >  > >  > > > http://casoilresource.lawr.ucdavis.edu/drupal/node/553
> >  > >  > >  > >
> >  > >  > >  > > _______________________________________________
> >  > >  > >  > > gdal-dev mailing list
> >  > >  > >  > > gdal-dev@lists.osgeo.org
> >  > >  > >  > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  > >  > >
> >  > >  > > --
> >  > >  > >  Dylan Beaudette
> >  > >  > >  Soil Resource Laboratory
> >  > >  > >
> >  > >  > > http://casoilresource.lawr.ucdavis.edu/
> >  > >  > >
> >  > >  > > University of California at Davis
> >  > >  > >  530.754.7341
> >  > >  > >  _______________________________________________
> >  > >  > >
> >  > >  > > gdal-dev mailing list
> >  > >  > >  gdal-dev@lists.osgeo.org
> >  > >  > >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >  > >
> >  > > --
> >  > >
> >  > > Dylan Beaudette
> >  > >  Soil Resource Laboratory
> >  > >  http://casoilresource.lawr.ucdavis.edu/
> >  > >  University of California at Davis
> >  > >  530.754.7341
> >
> > --
> >
> > Dylan Beaudette
> >  Soil Resource Laboratory
> >  http://casoilresource.lawr.ucdavis.edu/
> >  University of California at Davis
> >  530.754.7341



-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From mattia.parigiani at gmail.com  Wed Mar  5 14:07:03 2008
From: mattia.parigiani at gmail.com (mattia)
Date: Wed Mar  5 14:07:09 2008
Subject: [gdal-dev] Reprojection of HDF data.. again on GCP extraction
In-Reply-To: <47CEC809.1000705@pmldnet.com>
References: <6b6f1c810803050741m64675434g767b258e61bc7222@mail.gmail.com>
	<47CEC809.1000705@pmldnet.com>
Message-ID: <6b6f1c810803051107s7c8ab484m74a13b0b3526883c@mail.gmail.com>

Ivan, thanks a lot...

Is there any availability for some already implemented utility to do the
kind of job I need??

ie: actually create the GCPs from the long/lat dumps and write them to
another file for example??

If anyone knows or has anything similar, it would help + speed  me up a lot
:)

Thanks again


On Wed, Mar 5, 2008 at 2:19 PM, Lucena, Ivan <ivan.lucena@pmldnet.com>
wrote:

> Mattia,
>
> That is simple. If your image dataset dimensions are [1200x600] and the
> latitude or the longitude dataset dimensions are [120x60] means that
> those values are related to every other 10 pixels, so you should generate:
>
> 0,   0, lat[0,0], long[0,0]
> 0,  10, lat[0,1], long[0,1]
> 0,  20, lat[0,2], long[0,2]
> 0,  30, lat[0,3], long[0,3]
> ...
> 10,  0, lat[1,0], long[1,0]
> 10, 10, lat[1,1], long[1,1]
> ...
> 1199, 599, lat[119,59], long[119,59]
>
> I suggest the use of AWK to deal with the reformatting/merging the
> latitude and longitude text files.
>
> Best regards,
>
> Ivan
>
>
> mattia wrote:
> > Hello folks,
> >
> > I still need some help / advise for reprojecting my HDF raster image
> > datasets..
> > I manage to dump the "Latitude" and "Longitude" data sets of the HDF
> file
> > into ASCII format...
> > Now I would like to use this data to do the reprojection.. The dump I
> did
> > using HDF's hdp utility as follows:
> >
> > mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Latitude -d
> -x
> > -o latitude AMOD021KM20070104035343.hdf
> > mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Longitude -d
> -x
> > -o longitude AMOD021KM20070104035343.hdf
> >
> > The contents of the file is as follows (Latitude for example):
> >
> > 64.731689 64.741600 64.749550 64.755737 64.760345 64.763504 64.765366
> > 64.766037 64.765633 64.764244 64.761963 64.758858 64.754997 64.750458
> > 64.745285 64.739532 64.733253 64.726479 64.719261 64.711617 64.703606
> > 64.695229 64.686531 64.677536 64.668266 64.658737 64.648972 64.638985
> > 64.628799 64.618423 64.607880 64.597176 64.586319 64.575333 64.564217
> > 64.552979 64.541634 64.530190 64.518654 64.507034 64.495338 64.483559
> > 64.471718 64.459816 64.447853 64.435837 64.423767 64.411659 64.399506
> > 64.387314 64.375084 64.362823 64.350525 64.338203 64.325851 64.313484
> > 64.301086 64.288673 64.276237 64.263779 64.251312 64.238823 64.226318
> > 64.213806 64.201271 64.188736 64.176178 64.163612 64.151039 64.138451
> > 64.125854 64.113251 64.100639 64.088013 64.075378 64.062737 64.050079
> > 64.037415 64.024742 64.012062 63.999371 63.986668 63.973953 63.961227
> > 63.948494 63.935745 63.922985 63.910213 63.897430 63.884628 63.871819
> > 63.858990 63.846146 63.833290 63.820412 63.807522 63.794609 63.781685
> > 63.768738 63.755768 63.742779 63.729767 63.716736 63.703678 63.690601
> > 63.677494 63.664364 63.651207 63.638020 63.624805 63.611561 63.598286
> > 63.584984 63.571644 63.558270 63.544861 63.531418 63.517937 63.504421
> > 63.490864 63.477264 63.463623 63.449940 63.436214 63.422440 63.408619
> > 63.394753 63.380836 63.366871 63.352848 63.338776 63.324650 63.310463
> > 63.296223 63.281918 63.267559 63.253132 63.238644 63.224091 63.209465
> > 63.194775 63.180012 63.165180 63.150269 63.135284 63.120224 63.105080
> > 63.089855 63.074547 63.059151 63.043671 63.028099 63.012436 62.996674
> > 62.980820 62.964863 62.948811 62.932648 62.916386 62.900009 62.883526
> > 62.866928 62.850208 62.833378 62.816418 62.799339 62.782131 62.764790
> > 62.747314 62.729702 62.711952 62.694057 62.676014 62.657822 62.639477
> > 62.620972 62.602303 62.583473 62.564472 62.545296 62.525944 62.506409
> > 62.486687 62.466774 62.446667 62.426357 62.405842 62.385117 62.364174
> >
> > .
> > .
> > .
> > etc
> > .
> > .
> > .
> >
> >
> >
> >
> > Now, I need to construct GCPs from this data and I would just like to
> know
> > what would be best..
> >
> > 1) writing a C utility which does the job and prepares GCPs which later
> I
> > can pass to gdal_translate from a file for example
> >
> > 2) A C utility which creates the GCPs and a VRT file with these included
> for
> > the later coming reprojection
> >
> > Any other ideas would be appreciated..
> >
> > The problem is though how to assign the actual GCPs...  I mean, every
> GCP
> > has format (x,y) > (lat,long) ..   how do I know how to assign the (x,y)
> > part??
> >
> >
> > Regards
> >
> >
> >
> >
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Mattia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080305/50a55404/attachment.html
From jworkman at mitre.org  Wed Mar  5 14:09:31 2008
From: jworkman at mitre.org (Michael Workman)
Date: Wed Mar  5 14:09:34 2008
Subject: [gdal-dev] GDAL 1.5.0 is slow
In-Reply-To: <47C853AD.2010507@pobox.com>
References: <20080229170008.71AA0E01EC6@lists.osgeo.org>
	<47C841F1.9000702@mitre.org> <47C853AD.2010507@pobox.com>
Message-ID: <47CEEFEB.2060404@mitre.org>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080305/54341f7b/attachment-0001.html
From matt.wilkie at gov.yk.ca  Wed Mar  5 14:15:00 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Mar  5 14:15:20 2008
Subject: [gdal-dev] Re: How to read geotiff file using GDAL
In-Reply-To: <loom.20080305T170055-488@post.gmane.org>
References: <15820963.post@talk.nabble.com>	<loom.20080304T163658-837@post.gmane.org>	<15844975.post@talk.nabble.com>
	<loom.20080305T170055-488@post.gmane.org>
Message-ID: <47CEF134.7010309@gov.yk.ca>

> In your case you would only need the tfw creation part and copying the image
> file itself is wasting time and disk space but I do not know about any utility
> that would write only the world file for you.  It would be nice to know if such
> exists, I might be useful sometimes.

listgeo does this, http://www.remotesensing.org/geotiff/listgeo.html

  listgeo
Usage: listgeo [-d] [-tfw] [-proj4] [-no_norm] [-t tabledir] filename

   -d: report lat/long corners in decimal degrees instead of DMS.
   -tfw: Generate a .tfw (ESRI TIFF World) file for the target file.
   -proj4: Report PROJ.4 equivelent projection definition.
   -no_norm: Don't report 'normalized' parameter values.
   filename: Name of the GeoTIFF file to report on.


-matt


From warmerdam at pobox.com  Wed Mar  5 14:40:21 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar  5 14:40:42 2008
Subject: [gdal-dev] Re: GDAL 1.5.0 is slow
In-Reply-To: <47CEEFEB.2060404@mitre.org>
References: <20080229170008.71AA0E01EC6@lists.osgeo.org>
	<47C841F1.9000702@mitre.org> <47C853AD.2010507@pobox.com>
	<47CEEFEB.2060404@mitre.org>
Message-ID: <47CEF725.8060306@pobox.com>

Michael Workman wrote:
> Frank
> 
> Was able to fix my 64 bit problem by adding /usr/lib64 to my LD_LIBRARY_PATH. 
> Compiles and links fine now. Onward to other issues.
> 
> I am having problems with the time it takes to run GDAL apps. For example, there 
> are a number of versions of gdalinfo on my system. A few:
> 
>     ~> <FWTools-2.0>/bin_safe/gdalinfo --version
>     GDAL 1.5dev, FWTools 2.0.0, released 2007/11/12
>     ~> <gdal-1.5.0>/apps/gdalinfo --version
>     GDAL 1.5.0, released 2007/12/18
>     ~> /usr/local/bin/gdalinfo --version
>     GDAL 1.3.2.0, released 2006/05/02
> 
> When I am in a directory with a huge number of NITF files and run the gdalinfo 
> v1.5 versions on a single filename, it takes one to two minutes to return. If I 
> run gdalinfo v1.3.2, it returns immediately. If I take that same file and place 
> it by itself under my home directory, All three versions return quickly. I was 
> told this might have been addressed in the list before, but I have not found where.
> 
> Any ideas what is happening?

Mike,

This is:

   http://trac.osgeo.org/gdal/ticket/2158

For reasons that are not clear to me, scanning the list of files in
a directory with a lot of files is inordinately expensive in some
situations.  There is a patch that allows working around this problem
though I have yet to make a final decision on what to do about it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ed at topozone.com  Wed Mar  5 15:08:49 2008
From: ed at topozone.com (Ed McNierney)
Date: Wed Mar  5 15:08:57 2008
Subject: [gdal-dev] Re: GDAL 1.5.0 is slow
In-Reply-To: <47CEF725.8060306@pobox.com>
References: <20080229170008.71AA0E01EC6@lists.osgeo.org><47C841F1.9000702@mitre.org>
	<47C853AD.2010507@pobox.com><47CEEFEB.2060404@mitre.org>
	<47CEF725.8060306@pobox.com>
Message-ID: <4BF377919225F449BB097CB76FFE9BC801988973@ptolemy.topozone.com>

Mike -

What is the filesystem on the volume holding the NITF files, and is it a local or network drive?  If network, what network protocol is used?

I had a theory about the cause of this symptom earlier, and your info would help be either confirm or discredit that theory - thanks.

	- Ed

Ed McNierney
Chief Mapmaker
Demand Media / TopoZone.com
73 Princeton Street, Suite 305
North Chelmsford, MA? 01863
Phone: 978-251-4242, Fax: 978-251-1396
ed@topozone.com

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Wednesday, March 05, 2008 2:40 PM
To: Michael Workman
Cc: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re: GDAL 1.5.0 is slow

Michael Workman wrote:
> Frank
> 
> Was able to fix my 64 bit problem by adding /usr/lib64 to my LD_LIBRARY_PATH. 
> Compiles and links fine now. Onward to other issues.
> 
> I am having problems with the time it takes to run GDAL apps. For example, there 
> are a number of versions of gdalinfo on my system. A few:
> 
>     ~> <FWTools-2.0>/bin_safe/gdalinfo --version
>     GDAL 1.5dev, FWTools 2.0.0, released 2007/11/12
>     ~> <gdal-1.5.0>/apps/gdalinfo --version
>     GDAL 1.5.0, released 2007/12/18
>     ~> /usr/local/bin/gdalinfo --version
>     GDAL 1.3.2.0, released 2006/05/02
> 
> When I am in a directory with a huge number of NITF files and run the gdalinfo 
> v1.5 versions on a single filename, it takes one to two minutes to return. If I 
> run gdalinfo v1.3.2, it returns immediately. If I take that same file and place 
> it by itself under my home directory, All three versions return quickly. I was 
> told this might have been addressed in the list before, but I have not found where.
> 
> Any ideas what is happening?

Mike,

This is:

   http://trac.osgeo.org/gdal/ticket/2158

For reasons that are not clear to me, scanning the list of files in
a directory with a lot of files is inordinately expensive in some
situations.  There is a patch that allows working around this problem
though I have yet to make a final decision on what to do about it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From cryan at csse.com.au  Thu Mar  6 00:07:05 2008
From: cryan at csse.com.au (Fodder)
Date: Thu Mar  6 00:07:06 2008
Subject: [Gdal-dev] GDAL WMS Questions..
Message-ID: <15866625.post@talk.nabble.com>


Hi,

I'm interested in incorporating a WMS Tile Service into my application but
I'm a bit lost as to how to start. I've created the XML file but what do I
do with it? How do I pass it to the worldwind server? Also, how do I read
the tile data once downloaded, do I open the XML file similarly to a image
file?

Cheers,
Fodder
-- 
View this message in context: http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15866625.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mchapman at texelinc.com  Thu Mar  6 00:36:30 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Thu Mar  6 00:36:38 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <15866625.post@talk.nabble.com>
References: <15866625.post@talk.nabble.com>
Message-ID: <00b101c87f4c$08463500$18d29f00$@com>

I think you just pass the file path of the XML file to the GDALOpen method.
That's how the WMS client works.  Then just call RasterIO() and work with it
the same way you would any other raster.  That is my guess anyway.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Fodder
Sent: Wednesday, March 05, 2008 10:07 PM
To: gdal-dev@lists.osgeo.org
Subject: [Gdal-dev] GDAL WMS Questions..


Hi,

I'm interested in incorporating a WMS Tile Service into my application but
I'm a bit lost as to how to start. I've created the XML file but what do I
do with it? How do I pass it to the worldwind server? Also, how do I read
the tile data once downloaded, do I open the XML file similarly to a image
file?

Cheers,
Fodder
-- 
View this message in context:
http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15866625.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From cryan at csse.com.au  Thu Mar  6 01:31:16 2008
From: cryan at csse.com.au (Fodder)
Date: Thu Mar  6 01:31:17 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <00b101c87f4c$08463500$18d29f00$@com>
References: <15866625.post@talk.nabble.com>
	<00b101c87f4c$08463500$18d29f00$@com>
Message-ID: <15867346.post@talk.nabble.com>



mchapman wrote:
> 
> I think you just pass the file path of the XML file to the GDALOpen
> method.
> That's how the WMS client works.  Then just call RasterIO() and work with
> it
> the same way you would any other raster.  That is my guess anyway.
> 
> Martin
> 

Thanks, I tried this at first but when I pass the filepath to the GDALOpen
method I just get a nil object back (the code works for other images). I'm
just using the demo xml from the gdal.org site:

<GDAL_WMS>
    <Service name="TileService">
        <Version>1</Version>
       
<ServerUrl>http://s0.tileservice.worldwindcentral.com/getTile?</ServerUrl>
        <Dataset>za.johannesburg_2006_20cm</Dataset>
    </Service>
    <DataWindow>
        <UpperLeftX>-180.0</UpperLeftX>
        <UpperLeftY>90.0</UpperLeftY>
        <LowerRightX>180.0</LowerRightX>
        <LowerRightY>-90.0</LowerRightY>
        <SizeX>268435456</SizeX>
        <SizeY>134217728</SizeY>
        <TileLevel>19</TileLevel>
    </DataWindow>
    <Projection>EPSG:4326</Projection>
    <OverviewCount>16</OverviewCount>
    <BlockSizeX>512</BlockSizeX>
    <BlockSizeY>512</BlockSizeY>
    <BandsCount>3</BandsCount>
</GDAL_WMS>
-- 
View this message in context: http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15867346.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From admin at merletn.org  Thu Mar  6 07:31:44 2008
From: admin at merletn.org (Nicolas MERLET)
Date: Thu Mar  6 07:32:07 2008
Subject: [gdal-dev] Polynomial warping ?
Message-ID: <009901c87f86$0b7ac6c0$6642000a@NICOLAS>


Hi all,

I'm trying to transform an image using gdal_translate to add GCPs and
gdalwarp to apply GCPs.

I'm using a jpeg grid as a demonstration. With ArcGIS, in order 2, I get
this result :
http://dev.merletn.org/gis/arcgis.jpg

With the same GCPs, gdalwarp produces this result :
http://dev.merletn.org/gis/gdalwarp.jpg

Here my GPS :
http://dev.merletn.org/gis/grid-gcp.txt

For further information, you can see my batch file :
http://dev.merletn.org/gis/batch.txt

I can't understand why GDAL does not use an order 2 polynomial
transformation. Why does results are different from each others ?

Thank you very much for helping...

Regards, Nicolas



From wollez at gmx.net  Thu Mar  6 12:07:45 2008
From: wollez at gmx.net (WolfgangZ)
Date: Thu Mar  6 12:07:57 2008
Subject: [gdal-dev] question on format WMS
Message-ID: <fqp8d4$ua2$1@ger.gmane.org>

I don't fully understand the documentation to the format WMS
Do I need to specify the full extend of the layer at <DataWindow> or 
just the part that I want to have?

Thanks
Wolfgang

From chowell at pyxisinnovation.com  Thu Mar  6 16:34:07 2008
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Thu Mar  6 16:34:09 2008
Subject: [gdal-dev] Reading VMAP Files.
Message-ID: <47D0634F.5040107@pyxisinnovation.com>

Hi All,

A few vital stats before getting to the problem.

OS: Windows Vista
GDAL Version: GDAL 1.5.0

The problem I am currently encountering is this. I have a VMAP 
datasource, and when I try to open it via FWTools and the following 
command.

ogrinfo -ro gltp:/vrf/C:/Path_To_dataource. OGR opens fine the 
datasource as expected an reports layers / families in the file WHICH is 
Great.

The problem is. In our application when I attempt to open the VMAP file 
in code, via the following.

OGRDataSource* pOGRDataSource = 
OGRSFDriverRegistrar::Open(strDataSourceName.c_str());

Where strDataSourceName = gltp:/vrf/C:/Path_To_dataource

The pointer to the data source is ALWAYS null! I've checked and 
rechecked that the paths' are the same.

What I want to do is. Open the datasource in code, take the pointer to 
the data source, get all of the layers that are presented via ogrinfo. 
and give them back to the user as to which layer to open in the VMAP 
datasource.

Any light someone could shed no this would be greatly appreciated.

Cheers
Chris Howell
Software Engineer
the PYXIS innovation -/Common Ground for Digital Earth
/Kingston, Ontario
w: www.pyxisinnovation.com
p:613-389-6619
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080306/00a46f7f/attachment.html
From even.rouault at mines-paris.org  Thu Mar  6 16:57:15 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar  6 16:57:21 2008
Subject: [gdal-dev] Reading VMAP Files.
In-Reply-To: <47D0634F.5040107@pyxisinnovation.com>
References: <47D0634F.5040107@pyxisinnovation.com>
Message-ID: <200803062257.17267.even.rouault@mines-paris.org>

Did you think to register the OGR drivers with OGRRegisterAll() before ?
From chowell at pyxisinnovation.com  Thu Mar  6 17:02:23 2008
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Thu Mar  6 17:02:25 2008
Subject: [gdal-dev] Reading VMAP Files.
In-Reply-To: <200803062257.17267.even.rouault@mines-paris.org>
References: <47D0634F.5040107@pyxisinnovation.com>
	<200803062257.17267.even.rouault@mines-paris.org>
Message-ID: <47D069EF.8010409@pyxisinnovation.com>

Hi Even,

Thanks for the suggestion, Yes I do call OGRRegisterAll() and I am sure 
that the method is executing.

The OGRSFDriverRegistrar::Open() method works great if I am reading a 
shape file or a MapInfo tab file etc, and everything functions as 
expected. When attempting to diagnose the issue further. The const char* 
p = CPLGetLastErrorMsg(); Call doesn't give me back a pointer to the 
string for the last error, which is really weird because I would have at 
the very least expected it to work, or report an error.

Cheers
Chris Howell
the PYXIS innovation -/ Common Ground for Digital Earth/
w: www.pyxisinnovation.com

Even Rouault wrote:
> Did you think to register the OGR drivers with OGRRegisterAll() before ?
>
>
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080306/7d464a41/attachment.html
From matt.gregory at oregonstate.edu  Thu Mar  6 18:25:55 2008
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Thu Mar  6 18:25:59 2008
Subject: [gdal-dev] ReadBlock vs. RasterIO performance
Message-ID: <451453C181B199458A55B2B1723FAC00A97FD8@SAGE.forestry.oregonstate.edu>

Hi list,

In reading through the previous posts on this topic, I see that
ReadBlock() and RasterIO() should have very similar performance (with
RasterIO() actually doing better when blocks are cached and accessed
multiple times).  But in doing a very simple test (ie. reading a
relatively large single-band GTiff (8000x13000) 200 times), ReadBlock()
seems to be much faster than RasterIO().

ReadBlock() : 21 seconds
RasterIO()  : 87 seconds

Here is the relevant code:

----------

<snipped>
int nXSize, nYSize;
poBand = ds->GetRasterBand(1);

CPLAssert( poBand->GetRasterDataType() == GDT_Byte );
poBand->GetBlockSize( &nXSize, &nYSize );
int nXBlocks = (poBand->GetXSize() + nXSize - 1) / nXSize;
int nYBlocks = (poBand->GetYSize() + nYSize - 1) / nYSize;

GByte* pabyData = (GByte*) new GByte[nXSize * nYSize];

for (int i=0; i<200; i++)
{
  // Using ReadBlock
  if (mode == 1) {
    for( int iYBlock = 0; iYBlock < nYBlocks; iYBlock++ )
      for( int iXBlock = 0; iXBlock < nXBlocks; iXBlock++ )
        poBand->ReadBlock( iXBlock, iYBlock, pabyData );
  } 

  // Using RasterIO
  else {
    for ( int iYBlock = 0; iYBlock < nYBlocks; iYBlock++ )
    {
      for( int iXBlock = 0; iXBlock < nXBlocks; iXBlock++ )
      {
        int nXOff = iXBlock * nXSize;
        int nYOff = iYBlock * nYSize;
        poBand->RasterIO(GF_Read, nXOff, nYOff, nXSize, 
          nYSize, pabyData, nXSize, nYSize, GDT_Byte, 0, 0);
      }
    }
  }
}

----------

1) Am I (likely) doing something incredibly stupid or is this expected?

2) Would you expect differences for different drivers?

I'm on Windows using VC8, quad-core CPU @ 2.66GHz

thanks, matt
From wollez at gmx.net  Fri Mar  7 05:51:45 2008
From: wollez at gmx.net (WolfgangZ)
Date: Fri Mar  7 05:52:06 2008
Subject: [gdal-dev] Re: gdalwarp: ERROR 1: TIFFFetchStripThing:Sanity check
 on size of "StripOffsets" value failed
In-Reply-To: <fa2ac0580712270739q1cc3ab09n60e57276c77958cb@mail.gmail.com>
References: <fa2ac0580712270620h2880e307h9b996f2749803a14@mail.gmail.com>
	<fa2ac0580712270739q1cc3ab09n60e57276c77958cb@mail.gmail.com>
Message-ID: <fqr6o2$vso$1@ger.gmane.org>

John Mitchell schrieb:
> It appears that the below error is not preventing the gdalwarp 
> processing from running but is the below error something to be concerned 
> about?
> 
> Thanks,
> 
> John
> 
> On Dec 27, 2007 9:20 AM, John Mitchell < mitchelljj98@gmail.com 
> <mailto:mitchelljj98@gmail.com>> wrote:
> 
>     Hi,
> 
>     When running the below command:
> 
>     gdalwarp.exe --config GDAL_CACHEMAX 250 -wm 250 -wo
>     SKIP_NOSOURCE=YES -tr 1.1994660564E-5 1.1994660564E-5 -srcnodata "0
>     0 0" -dstnodata "0 0 1" -rc -s_srs EPSG:26911 -t_srs EPSG:4326 -co
>     bigtiff=yes  -q --optfile
>     x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt
>     "x:\ProcessingControl\gvwkr02\gvApp2\tmp\mosaic_0_161039.tiftemp"
> 
> 
>     I get the following error:
> 
>     ERROR>ERROR 1: TIFFFetchStripThing:Sanity check on size of
>     "StripOffsets" value failed
> 
> 
>     I have run similar gdalwarp commands against other datasets and have
>     not had this error.  Also when I run gdalwarp against each one of
>     these files (that
>     x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt is
>     referencing) individually I get no error. 
> 
>     Any ideas on what this error means?
> 
>     Do I have to split up the above gdalwarp mosaicking process into 2
>     parts and then mosaic then back together in order to get around this
>     error, or would increasing the RAM, hard drive space, etc. help to
>     get around this error?
> 
> 
> 
>     Thanks,
> 
> 
> 
>     -- 
>     John J. Mitchell 
> 
> 
> 
> 
> -- 
> John J. Mitchell
> 
> 

I also get this error message but from gdal_translate
Here the command line output:

Z:\Spain>gdal_translate -co BIGTIFF=YES -co TILED=YES -co COMPRESS=JPEG 
Spain.vrt Spain.tif
Input file size is 458752, 385024
ERROR 1: TIFFFetchStripThing:Sanity check on size of "TileOffsets" value 
failed
0ERROR 1: TIFFFetchStripThing:Sanity check on size of "TileOffsets" 
value failed

ERROR 1: TIFFFetchStripThing:Sanity check on size of "TileOffsets" value 
failed

I tried FWTools 2.06 on linux 2.11 on windows.
Any ideas?

Regards
Wolfgang

From roma at progesoft.com  Fri Mar  7 10:08:55 2008
From: roma at progesoft.com (Roman Fedorov)
Date: Fri Mar  7 10:08:31 2008
Subject: [gdal-dev] RasterIO Slow
Message-ID: <00a301c88065$2993e670$1501a8c0@progesoft.local>

Good Afternoon, everybody!

I noticed that when my program is reading bands of an image - the first calling RasterIO function is slow, and next RasterIO calls (for second and third band) are very fast, almost immediate.
I checked if it was the fault of the first band, but no matter which band you read, every time olny the first calling of RasterIO function is slow...
I had this delay on every image drawing,so, since i was opening and closing a GDALDataset every time, i though, maybe the first time of reading a Dataset is slow, because it has to init something - so i put Dataset as static var, and i don't create a new one every time - but as before, the first calling to RasterIO function at every image drawing is slow...
Do you have any ideas why it happens?

Best Regards,
progeSOFT - www.progesoft.com
Roman Fedorov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080307/e8925e09/attachment.html
From warmerdam at pobox.com  Fri Mar  7 11:18:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar  7 11:18:38 2008
Subject: [gdal-dev] RasterIO Slow
In-Reply-To: <00a301c88065$2993e670$1501a8c0@progesoft.local>
References: <00a301c88065$2993e670$1501a8c0@progesoft.local>
Message-ID: <47D16ABD.9050706@pobox.com>

Roman Fedorov wrote:
> Good Afternoon, everybody!
> 
> I noticed that when my program is reading bands of an image - the first calling RasterIO function is slow, and next RasterIO calls (for second and third band) are very fast, almost immediate.
> I checked if it was the fault of the first band, but no matter which band you read, every time olny the first calling of RasterIO function is slow...
> I had this delay on every image drawing,so, since i was opening and closing a GDALDataset every time, i though, maybe the first time of reading a Dataset is slow, because it has to init something - so i put Dataset as static var, and i don't create a new one every time - but as before, the first calling to RasterIO function at every image drawing is slow...
> Do you have any ideas why it happens?

Roman,

What format are you reading?  What size of chunk are you reading?  Pixel
interleaved formats will be slow to read the first band since it will
result in reading the data from disk.  The subsequent bands will be fast
because the file contents will already be in an operating system disk cache.

In the case of some formats, like JPEG, the red, green and blue components
are actually decoded on the first request for one of them, and kept around
in a GDAL buffer so the other bands are usually read very quickly.

In short, this behavior can be the result of a number of factors, and it
does not necessarily indicate any sort of problem.  If you think the first
read is slower than it should be you would need to provide substantial
additional evidence.

PS. opening a file is relatively expensive, so you should try to avoid
reopening it if you can.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar  7 11:58:49 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar  7 11:59:27 2008
Subject: [gdal-dev] ReadBlock vs. RasterIO performance
In-Reply-To: <451453C181B199458A55B2B1723FAC00A97FD8@SAGE.forestry.oregonstate.edu>
References: <451453C181B199458A55B2B1723FAC00A97FD8@SAGE.forestry.oregonstate.edu>
Message-ID: <47D17449.3070009@pobox.com>

Gregory, Matthew wrote:
> Hi list,
> 
> In reading through the previous posts on this topic, I see that
> ReadBlock() and RasterIO() should have very similar performance (with
> RasterIO() actually doing better when blocks are cached and accessed
> multiple times).  But in doing a very simple test (ie. reading a
> relatively large single-band GTiff (8000x13000) 200 times), ReadBlock()
> seems to be much faster than RasterIO().
 >
> ReadBlock() : 21 seconds
> RasterIO()  : 87 seconds
> 
> Here is the relevant code:
...
> 
> 1) Am I (likely) doing something incredibly stupid or is this expected?

Matt,

I see no obvious problem in your methodology.  In this case I'm not
surprised the ReadBlock() is a bit faster, but I'm shocked at the
amount of difference.

The RasterIO() case is presumably not benefitting at all from it's
attempts to cache blocks because by the time it gets to the bottom
of a 8000 x 13000 image it has likely discarded the top cached blocks.
So all that cache maintenance work does not good.

But still, it should really just amount to a bit of cache management
and perhaps an extra copy or two of data.  I don't know why it is so
slow.  I think I shall have to do some testing myself.

> 2) Would you expect differences for different drivers?

Yes.  Driver implementation techniques vary substantially and there
can be very different performance characteristics.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From cjanssen at iavo-rs.com  Fri Mar  7 12:04:51 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Fri Mar  7 12:04:53 2008
Subject: [gdal-dev] Loading from a stream/memory rather than a file
Message-ID: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com>

Does anyone know if it is possible to create/open an image with GDAL using a stream or chunk of memory instead of a file? This would be useful in writing a caching mechanism but also to do in memory and other non file based processing.

Christiaan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080307/280ca58a/attachment.html
From warmerdam at pobox.com  Fri Mar  7 12:21:30 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar  7 12:22:02 2008
Subject: [gdal-dev] Loading from a stream/memory rather than a file
In-Reply-To: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com>
References: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com>
Message-ID: <47D1799A.7030003@pobox.com>

Christiaan Janssen wrote:
> Does anyone know if it is possible to create/open an image with GDAL using a
> stream or chunk of memory instead of a file? This would be useful in writing
> a caching mechanism but also to do in memory and other non file based
> processing.

Cristiaan,

Some driver utilize the VSI*L "virtual io" layer for file access, and then
you can either right custom file handlers, or more likely use the existing
in-memory VSI*L implementation.

This is likely the best explanation of the mechanism:
   http://www.gdal.org/cpl__vsi_8h.html#66e2e6f093fd42f8a941b962d4c8a19e

gdal/frmts/wcs/httpdriver.cpp is a simple example of it's use for reading
from memory.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From condit at sdsc.edu  Fri Mar  7 13:44:43 2008
From: condit at sdsc.edu (Christopher Condit)
Date: Fri Mar  7 13:44:50 2008
Subject: [gdal-dev] KML 2.2 in SVN Trunk
In-Reply-To: <47D1799A.7030003@pobox.com>
References: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com>
	<47D1799A.7030003@pobox.com>
Message-ID: <845AADAC1106E44996327D62097E4C6BFB10E8@et.ad.sdsc.edu>

Hi All-
I've checked in updates to the KML writing code to support KML 2.2 and
enhancements. The most important change is that OGR will no longer
create HTML CDATA for feature attributes. Instead, OGR writes out a
layer schema for each layer (see
http://code.google.com/apis/kml/documentation/kml_tags_beta1.html#schema
) and then references this schema when writing feature attributes (see
http://code.google.com/apis/kml/documentation/kml_tags_beta1.html#schema
data). The feature attributes appear as an HTML table in the info
window. This is the correct way to carry type information for features
in the KML 2.2 format.
Next I'll have a look at updating the KML reader code to exploit the new
schema elements in 2.2 and see what can be done about supporting OGR's
feature style specification.

Please let me know if you encounter any problems with the KML driver via
trac...
-Chris

Christopher Condit
condit@sdsc.edu
858-822-5483
San Diego Supercomputer Center
9500 Gilman Drive
La Jolla, CA 92093-0505

From even.rouault at mines-paris.org  Fri Mar  7 13:49:46 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar  7 13:49:50 2008
Subject: [gdal-dev] Re: gdalwarp: ERROR 1: TIFFFetchStripThing:Sanity
	check on size of "StripOffsets" value failed
In-Reply-To: <fqr6o2$vso$1@ger.gmane.org>
References: <fa2ac0580712270620h2880e307h9b996f2749803a14@mail.gmail.com>
	<fa2ac0580712270739q1cc3ab09n60e57276c77958cb@mail.gmail.com>
	<fqr6o2$vso$1@ger.gmane.org>
Message-ID: <200803071949.47574.even.rouault@mines-paris.org>

Wolfgang,

I thought I already replied to a similar problem a few days ago, saying that 
reminds me strongly of this bug : http://trac.osgeo.org/gdal/ticket/2005.

You can try to play with the BLOCKXSIZE and BLOCKYSIZE creation options, that 
is to say make them bigger than their default values. See case 4) of the bug 
description.
Or you can either try to patch the function in libtiff mentionned in the 
ticket...

Best regards,
Even

Le Friday 07 March 2008 11:51:45 WolfgangZ, vous avez ?crit?:
> John Mitchell schrieb:
> > It appears that the below error is not preventing the gdalwarp
> > processing from running but is the below error something to be concerned
> > about?
> >
> > Thanks,
> >
> > John
> >
> > On Dec 27, 2007 9:20 AM, John Mitchell < mitchelljj98@gmail.com
> > <mailto:mitchelljj98@gmail.com>> wrote:
> >
> >     Hi,
> >
> >     When running the below command:
> >
> >     gdalwarp.exe --config GDAL_CACHEMAX 250 -wm 250 -wo
> >     SKIP_NOSOURCE=YES -tr 1.1994660564E-5 1.1994660564E-5 -srcnodata "0
> >     0 0" -dstnodata "0 0 1" -rc -s_srs EPSG:26911 -t_srs EPSG:4326 -co
> >     bigtiff=yes  -q --optfile
> >     x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt
> >     "x:\ProcessingControl\gvwkr02\gvApp2\tmp\mosaic_0_161039.tiftemp"
> >
> >
> >     I get the following error:
> >
> >     ERROR>ERROR 1: TIFFFetchStripThing:Sanity check on size of
> >     "StripOffsets" value failed
> >
> >
> >     I have run similar gdalwarp commands against other datasets and have
> >     not had this error.  Also when I run gdalwarp against each one of
> >     these files (that
> >     x:\ProcessingControl\gvwkr02\gvApp2\tmp\inputFiles.txt is
> >     referencing) individually I get no error.
> >
> >     Any ideas on what this error means?
> >
> >     Do I have to split up the above gdalwarp mosaicking process into 2
> >     parts and then mosaic then back together in order to get around this
> >     error, or would increasing the RAM, hard drive space, etc. help to
> >     get around this error?
> >
> >
> >
> >     Thanks,
> >
> >
> >
> >     --
> >     John J. Mitchell
> >
> >
> >
> >
> > --
> > John J. Mitchell
>
> I also get this error message but from gdal_translate
> Here the command line output:
>
> Z:\Spain>gdal_translate -co BIGTIFF=YES -co TILED=YES -co COMPRESS=JPEG
> Spain.vrt Spain.tif
> Input file size is 458752, 385024
> ERROR 1: TIFFFetchStripThing:Sanity check on size of "TileOffsets" value
> failed
> 0ERROR 1: TIFFFetchStripThing:Sanity check on size of "TileOffsets"
> value failed
>
> ERROR 1: TIFFFetchStripThing:Sanity check on size of "TileOffsets" value
> failed
>
> I tried FWTools 2.06 on linux 2.11 on windows.
> Any ideas?
>
> Regards
> Wolfgang
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From ivan.lucena at pmldnet.com  Fri Mar  7 14:05:29 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Fri Mar  7 14:05:47 2008
Subject: [gdal-dev] (ReadBlock vs. RasterIO) in python
Message-ID: <47D191F9.3050404@pmldnet.com>

Frank, all,

Since we are all talking about speed this days I have some questions.

I am experimenting several alternatives of raster data storage and I am 
measuring the processing time that it takes to access the data.

In one experiment I have 1200 1000x500 bands and I am measuring the time 
to extract a small windows of values thought all the bands on different 
data storage options:

o BIL, untiled
o BIL, tiled
o BSQ, untiled
o BSQ, tiled

I am using Python's ReadAsArray in order to easily show the output but I 
am wondering how does it (python and ReadasArray) affects my results.

Primarily I am using BigTiff files.

Any suggestion is welcome.

Best regards,

Ivan




From warmerdam at pobox.com  Fri Mar  7 14:47:08 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar  7 14:47:36 2008
Subject: [gdal-dev] (ReadBlock vs. RasterIO) in python
In-Reply-To: <47D191F9.3050404@pmldnet.com>
References: <47D191F9.3050404@pmldnet.com>
Message-ID: <47D19BBC.1050809@pobox.com>

Lucena, Ivan wrote:
> Frank, all,
> 
> Since we are all talking about speed this days I have some questions.
> 
> I am experimenting several alternatives of raster data storage and I am 
> measuring the processing time that it takes to access the data.
> 
> In one experiment I have 1200 1000x500 bands and I am measuring the time 
> to extract a small windows of values thought all the bands on different 
> data storage options:
> 
> o BIL, untiled
> o BIL, tiled
> o BSQ, untiled
> o BSQ, tiled
> 
> I am using Python's ReadAsArray in order to easily show the output but I 
> am wondering how does it (python and ReadasArray) affects my results.

Ivan,

ReadArray() uses RasterIO() if that is what you need to know.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From condit at sdsc.edu  Fri Mar  7 16:13:09 2008
From: condit at sdsc.edu (Christopher Condit)
Date: Fri Mar  7 16:13:32 2008
Subject: [gdal-dev] RFC 5
In-Reply-To: <845AADAC1106E44996327D62097E4C6BFB10E8@et.ad.sdsc.edu>
References: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com><47D1799A.7030003@pobox.com>
	<845AADAC1106E44996327D62097E4C6BFB10E8@et.ad.sdsc.edu>
Message-ID: <845AADAC1106E44996327D62097E4C6BFB1114@et.ad.sdsc.edu>

Can anyone shed any light on the status of RFC 5 ( or the status of UTF
in the GDAL code base )?
Looks as though the default internal encoding is not UTF-8...

Thanks,
-Chris
From blake at hailmail.net  Fri Mar  7 16:19:13 2008
From: blake at hailmail.net (Dane Springmeyer)
Date: Fri Mar  7 16:19:17 2008
Subject: [gdal-dev] KML 2.2 in SVN Trunk
In-Reply-To: <845AADAC1106E44996327D62097E4C6BFB10E8@et.ad.sdsc.edu>
References: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com>
	<47D1799A.7030003@pobox.com>
	<845AADAC1106E44996327D62097E4C6BFB10E8@et.ad.sdsc.edu>
Message-ID: <310DAF42-365E-4B7D-A6CA-A9A7BB7B1238@hailmail.net>

Hi Chris,
Nice job on the update. I rebuilt from svn and have tested the kml  
driver with several shapefiles sitting around.

I wonder if the -dsco NameField=RegionName switch should be made  
mandatory now? If it is not specified the KML driver could return an  
error prompting for  -dsco NameField=RegionName or -dsco NameField=NO.

This seems relevant now that you've got the attributes in extended  
data tags. The first shapefile I grabbed to test the driver did not  
have a field called "Name" and I forgot to specify the correct field  
to use with the -dsco switch. The impact of this is when the data was  
opened in google earth and each placemark was without name tags the  
extended data was unavailable. Essentially a double-click on the  
feature in the "Places" view returned nothing, whereas once I  
corrected my mistake, used the NameField switch, and re exported  
everything worked as expected: Each KML feature had the value from my  
field called "Road_Name" beside its icon a double-click  on the  
hyperlinked name revealed the extended data in a table within the GE  
Balloon popup.

An alternative approach might be to simply have the driver fill the  
name tag with something arbitrary like the schemaURL:  
<name>OgrFilename</name> (if the NameField switch is not specified)  
which would be placed just before <ExtendedData>. That way if a  
feature really does not have a name it will still allow the feature  
data to be available.

Thoughts?

Cheers,

Dane



On Mar 7, 2008, at 10:44 AM, Christopher Condit wrote:

> Hi All-
> I've checked in updates to the KML writing code to support KML 2.2 and
> enhancements. The most important change is that OGR will no longer
> create HTML CDATA for feature attributes. Instead, OGR writes out a
> layer schema for each layer (see
> http://code.google.com/apis/kml/documentation/kml_tags_beta1.html#schema
> ) and then references this schema when writing feature attributes (see
> http://code.google.com/apis/kml/documentation/kml_tags_beta1.html#schema
> data). The feature attributes appear as an HTML table in the info
> window. This is the correct way to carry type information for features
> in the KML 2.2 format.
> Next I'll have a look at updating the KML reader code to exploit the  
> new
> schema elements in 2.2 and see what can be done about supporting OGR's
> feature style specification.
>
> Please let me know if you encounter any problems with the KML driver  
> via
> trac...
> -Chris
>
> Christopher Condit
> condit@sdsc.edu
> 858-822-5483
> San Diego Supercomputer Center
> 9500 Gilman Drive
> La Jolla, CA 92093-0505
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Fri Mar  7 16:19:30 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar  7 16:19:51 2008
Subject: [gdal-dev] RFC 5
In-Reply-To: <845AADAC1106E44996327D62097E4C6BFB1114@et.ad.sdsc.edu>
References: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com><47D1799A.7030003@pobox.com>
	<845AADAC1106E44996327D62097E4C6BFB10E8@et.ad.sdsc.edu>
	<845AADAC1106E44996327D62097E4C6BFB1114@et.ad.sdsc.edu>
Message-ID: <47D1B162.4070001@pobox.com>

Christopher Condit wrote:
> Can anyone shed any light on the status of RFC 5 ( or the status of UTF
> in the GDAL code base )?
> Looks as though the default internal encoding is not UTF-8...

Chris,

RFC 5 was not passed and currently the character encoding strings
passing through GDAL and OGR are undetermined.

It would be desirable to bring RFC 5 to life, and regularize this
situation.  But I think it will also be quite a bit job.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar  7 16:54:41 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar  7 16:55:11 2008
Subject: [gdal-dev] Reading VMAP Files.
In-Reply-To: <47D069EF.8010409@pyxisinnovation.com>
References: <47D0634F.5040107@pyxisinnovation.com>
	<200803062257.17267.even.rouault@mines-paris.org>
	<47D069EF.8010409@pyxisinnovation.com>
Message-ID: <47D1B9A1.9010201@pobox.com>

Chris Howell wrote:
> Hi Even,
> 
> Thanks for the suggestion, Yes I do call OGRRegisterAll() and I am sure 
> that the method is executing.
> 
> The OGRSFDriverRegistrar::Open() method works great if I am reading a 
> shape file or a MapInfo tab file etc, and everything functions as 
> expected. When attempting to diagnose the issue further. The const char* 
> p = CPLGetLastErrorMsg(); Call doesn't give me back a pointer to the 
> string for the last error, which is really weird because I would have at 
> the very least expected it to work, or report an error.

Chris,

Are you confident that you have built support into your GDAL 1.5.0 to use
the OGDI bridge, and put all the appropriate OGDI DLLs in your path?  This
can be pretty tricky, and it is definately not part of the default GDAL
build (whereas mapinfo is for instance).

I'm not clear on why you wouldn't be getting something for
CPLGetLastErrorMsg() if an error was issued.  I'm reasonably sure
that Open() ought to be issuing a CPL error on failure.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From admin at merletn.org  Fri Mar  7 16:59:08 2008
From: admin at merletn.org (Nicolas MERLET)
Date: Fri Mar  7 16:59:13 2008
Subject: [gdal-dev] Polynomial warping ?
In-Reply-To: <009901c87f86$0b7ac6c0$6642000a@NICOLAS>
References: <009901c87f86$0b7ac6c0$6642000a@NICOLAS>
Message-ID: <005301c8809e$78bab830$651da8c0@NICOLAS>



> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org 
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Nicolas MERLET
> Sent: Thursday, March 06, 2008 1:32 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Polynomial warping ?
> Importance: High
> 
> 
> Hi all,
> 
> I'm trying to transform an image using gdal_translate to add GCPs and
> gdalwarp to apply GCPs.
> 
> I'm using a jpeg grid as a demonstration. With ArcGIS, in 
> order 2, I get
> this result :
> http://dev.merletn.org/gis/arcgis.jpg
> 
> With the same GCPs, gdalwarp produces this result :
> http://dev.merletn.org/gis/gdalwarp.jpg
> 
> Here my GPS :
> http://dev.merletn.org/gis/grid-gcp.txt
> 
> For further information, you can see my batch file :
> http://dev.merletn.org/gis/batch.txt
> 
> I can't understand why GDAL does not use an order 2 polynomial
> transformation. Why does results are different from each others ?
> 
> Thank you very much for helping...
> 


No idea ?


From mchapman at texelinc.com  Fri Mar  7 17:48:51 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Fri Mar  7 17:48:58 2008
Subject: [gdal-dev] Loading from a stream/memory rather than a file
In-Reply-To: <47D1799A.7030003@pobox.com>
References: <55F7A74D-82F5-499B-B65E-B152B856F879@iavo-rs.com>
	<47D1799A.7030003@pobox.com>
Message-ID: <00bc01c880a5$6a130650$3e3912f0$@com>

Cristiaan,

Here's another way to do it that is really easy too...maybe it is the same
thing?  I create a MEM dataset from a raster file but you could easily load
it with bytes from memory.



GDALDataset* pDataSource = (GDALDataset*) GDALOpen(sFileName.c_str(),
(GDALAccess) 0);
if (!pDataSource)
	return AtlReportError(GetObjectCLSID(), _T((TCHAR*)
CPLGetLastErrorMsg()));

int nBandCount = pDataSource->GetRasterCount();
int nWidth = pDataSource->GetRasterXSize();
int nHeight = pDataSource->GetRasterYSize();
GDALDataType eBandType = pDataSource->GetRasterBand(1)->GetRasterDataType();

GDALDriver* pMemDriver = GetGDALDriverManager()->GetDriverByName("MEM");
if (!pMemDriver) 
	return AtlReportError(GetObjectCLSID(), _T((TCHAR*)
CPLGetLastErrorMsg()));

GDALDataset* pMemDataset = pMemDriver->Create(sStreamId.str().c_str(),
nWidth, nHeight, nBandCount, eBandType, NULL); 
if (!pMemDataset) 
	return AtlReportError(GetObjectCLSID(), _T((TCHAR*)
CPLGetLastErrorMsg()));

for (int i = 0; i < nBandCount; i++ )
{
	GDALRasterBand* pMemBand = pMemDataset->GetRasterBand(i + 1);
	GDALRasterBand* pRasterBand = pDataSource->GetRasterBand(i + 1);
	
pMemBand->SetColorInterpretation(pRasterBand->GetColorInterpretation());
	pMemBand->SetOffset(pRasterBand->GetOffset());
	pMemBand->SetScale(pRasterBand->GetScale());
	pMemBand->SetUnitType(pRasterBand->GetUnitType());

	BOOL bSuccess = FALSE;
	double nNullValue = pRasterBand->GetNoDataValue(&bSuccess);
	if (bSuccess == TRUE)
	{
		GDALColorTable* pColorTable = pRasterBand->GetColorTable();
		if (pColorTable != NULL)
		{
			GDALColorEntry colorEntry;
			pColorTable->GetColorEntryAsRGB((int) nNullValue,
&colorEntry);
			hr = pMemBand->SetNoDataValue((double)
colorEntry.c4);
			if (FAILED(hr)) return hr;
		}
		else
		{
			hr = pMemBand->SetNoDataValue((double) nNullValue);
			if (FAILED(hr)) return hr;
		}
	}

	if (!pMemBand->GetColorTable())
	{
		GDALColorTable* pColorTable = pRasterBand->GetColorTable();
		pMemBand->SetColorTable(pColorTable != NULL ?
pColorTable->Clone() : NULL);
	}

	unsigned char* pBytes = (unsigned char*) malloc(sizeof(unsigned
char) * nWidth * nHeight);
	memset(pBytes, 0, nWidth * nHeight);
	
	CPLErr err = pRasterBand->RasterIO(GF_Read, 0, 0, nWidth, nHeight,
pBytes, nWidth, nHeight, eBandType, 0, 0);
	if (err != CE_None) 
		return AtlReportError(GetObjectCLSID(), _T((TCHAR*)
CPLGetLastErrorMsg()));

	err = pMemBand->RasterIO(GF_Write, 0, 0, nWidth, nHeight, pBytes,
nWidth, nHeight, eBandType, 0, 0); 
	if (err != CE_None) 
		return AtlReportError(GetObjectCLSID(), _T((TCHAR*)
CPLGetLastErrorMsg()));

	if (pBytes) delete [] pBytes;
}

if (pDataSource)
	GDALClose(pDataSource);
pDataSource = NULL;

if (m_pMemDataset)
	GDALClose(m_pMemDataset);
m_pMemDataset = pMemDataset;




Martin Chapman

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Frank Warmerdam
Sent: Friday, March 07, 2008 10:22 AM
To: Christiaan Janssen
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Loading from a stream/memory rather than a file

Christiaan Janssen wrote:
> Does anyone know if it is possible to create/open an image with GDAL using
a
> stream or chunk of memory instead of a file? This would be useful in
writing
> a caching mechanism but also to do in memory and other non file based
> processing.

Cristiaan,

Some driver utilize the VSI*L "virtual io" layer for file access, and then
you can either right custom file handlers, or more likely use the existing
in-memory VSI*L implementation.

This is likely the best explanation of the mechanism:
   http://www.gdal.org/cpl__vsi_8h.html#66e2e6f093fd42f8a941b962d4c8a19e

gdal/frmts/wcs/httpdriver.cpp is a simple example of it's use for reading
from memory.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nowak at xpam.de  Fri Mar  7 19:08:42 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Fri Mar  7 19:09:06 2008
Subject: [gdal-dev] question on format WMS
In-Reply-To: <fqp8d4$ua2$1@ger.gmane.org>
References: <fqp8d4$ua2$1@ger.gmane.org>
Message-ID: <47D1D90A.20709@xpam.de>

WolfgangZ wrote:
> I don't fully understand the documentation to the format WMS
> Do I need to specify the full extend of the layer at <DataWindow> or 
> just the part that I want to have?

For non-tiled data sources like WMS you can use any DataWindow you want.
From nowak at xpam.de  Fri Mar  7 19:11:33 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Fri Mar  7 19:12:00 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <15867346.post@talk.nabble.com>
References: <15866625.post@talk.nabble.com>	<00b101c87f4c$08463500$18d29f00$@com>
	<15867346.post@talk.nabble.com>
Message-ID: <47D1D9B5.60105@xpam.de>

Fodder wrote:
> mchapman wrote:
>> I think you just pass the file path of the XML file to the GDALOpen
>> method.
>> That's how the WMS client works.  Then just call RasterIO() and work with
>> it
>> the same way you would any other raster.  That is my guess anyway.
>>
>> Martin
>>
> 
> Thanks, I tried this at first but when I pass the filepath to the GDALOpen
> method I just get a nil object back (the code works for other images). I'm
> just using the demo xml from the gdal.org site:
> 
> <GDAL_WMS>
>     <Service name="TileService">
>         <Version>1</Version>
>        
> <ServerUrl>http://s0.tileservice.worldwindcentral.com/getTile?</ServerUrl>
>         <Dataset>za.johannesburg_2006_20cm</Dataset>
>     </Service>
>     <DataWindow>
>         <UpperLeftX>-180.0</UpperLeftX>
>         <UpperLeftY>90.0</UpperLeftY>
>         <LowerRightX>180.0</LowerRightX>
>         <LowerRightY>-90.0</LowerRightY>
>         <SizeX>268435456</SizeX>
>         <SizeY>134217728</SizeY>
>         <TileLevel>19</TileLevel>
>     </DataWindow>
>     <Projection>EPSG:4326</Projection>
>     <OverviewCount>16</OverviewCount>
>     <BlockSizeX>512</BlockSizeX>
>     <BlockSizeY>512</BlockSizeY>
>     <BandsCount>3</BandsCount>
> </GDAL_WMS>

If you're getting null (0) and no error message then either you have no 
wms driver built in or the xml doesnt start with <GDAL_WMS>.
From sim at gis-lab.info  Sun Mar  9 15:03:17 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Sun Mar  9 15:08:23 2008
Subject: [gdal-dev] more on polynomial warping
Message-ID: <631015381.20080309140317@gis-lab.info>

Hi all, some more complains about 2nd order polynomial warping.

I'm  using  gdal  1.6.0 (fwtools 2.1 under Win) and it keeps producing
black  rectangle with 2nd order polynom (-tps and -order 1 work ok). I
triple-checked  gcps,  tried to georeference my file in other software
with the same gcps and 2nd order - also ok. I assume something is
wrong on gdal side.

Command 1:
gdal_translate  -of  GTiff -gcp 448 942 103 53.333333333 -gcp 1761 938
103.5  53.3333333333  -gcp  444 3871 103 52.66666667 -gcp 3072 928 104
53.33333333  -gcp  1774  3870  103.5  52.66666667  -gcp  3104 3858 104
52.66666667 n-48-xxvi.jpg out_6.tif

Command 2:
gdalwarp -s_srs "+proj=latlong +datum=WGS84" -t_srs "+proj=latlong +datum=WGS84" out_6.tif proj_6.tif

The file I'm trying to warp can be found here:
http://gis-lab.info/share/n-48-xxvi.jpg

Maxim

From cryan at csse.com.au  Sun Mar  9 20:07:41 2008
From: cryan at csse.com.au (Fodder)
Date: Sun Mar  9 20:07:48 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <47D1D9B5.60105@xpam.de>
References: <15866625.post@talk.nabble.com>
	<00b101c87f4c$08463500$18d29f00$@com>
	<15867346.post@talk.nabble.com> <47D1D9B5.60105@xpam.de>
Message-ID: <15948582.post@talk.nabble.com>




Adam Nowacki wrote:
> 
> If you're getting null (0) and no error message then either you have no 
> wms driver built in or the xml doesnt start with <GDAL_WMS>.
> 

ok, well the xml does start with <GDAL_WMS>. I'm using the FWTools 2.06
package so I assume the WMS driver should be included, is there someway I
can check?
-- 
View this message in context: http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15948582.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mchapman at texelinc.com  Sun Mar  9 21:55:48 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Sun Mar  9 21:55:57 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <15948582.post@talk.nabble.com>
References: <15866625.post@talk.nabble.com>	<00b101c87f4c$08463500$18d29f00$@com>	<15867346.post@talk.nabble.com>
	<47D1D9B5.60105@xpam.de> <15948582.post@talk.nabble.com>
Message-ID: <001d01c88251$dccccbb0$96666310$@com>

Fodder,

Run "gdalinfo --formats" in the bin directory.  If you don't see WMS then it
isn't compiled.  To get WMS support I think you need expat and curl.  

See the following in the nmake.opt file in the gdal root directory:

# Uncomment to use libcurl (DLL by default)
# The cURL library is used for WCS, WMS, GeoJSON, SRS call importFromUrl(),
etc.

Martin


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Fodder
Sent: Sunday, March 09, 2008 6:08 PM
To: gdal-dev@lists.osgeo.org
Subject: Re: [Gdal-dev] GDAL WMS Questions..




Adam Nowacki wrote:
> 
> If you're getting null (0) and no error message then either you have no 
> wms driver built in or the xml doesnt start with <GDAL_WMS>.
> 

ok, well the xml does start with <GDAL_WMS>. I'm using the FWTools 2.06
package so I assume the WMS driver should be included, is there someway I
can check?
-- 
View this message in context:
http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15948582.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From cryan at csse.com.au  Mon Mar 10 06:55:32 2008
From: cryan at csse.com.au (Fodder)
Date: Mon Mar 10 06:55:34 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <001d01c88251$dccccbb0$96666310$@com>
References: <15866625.post@talk.nabble.com>
	<00b101c87f4c$08463500$18d29f00$@com>
	<15867346.post@talk.nabble.com> <47D1D9B5.60105@xpam.de>
	<15948582.post@talk.nabble.com>
	<001d01c88251$dccccbb0$96666310$@com>
Message-ID: <15950678.post@talk.nabble.com>


Thanks Martin,

gdalinfo --formats confirms that the WMS driver is present, so I'm at a loss
as to why it's not working.

Cheers Fodder
-- 
View this message in context: http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15950678.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mchapman at texelinc.com  Mon Mar 10 10:02:46 2008
From: mchapman at texelinc.com (mchapman@texelinc.com)
Date: Mon Mar 10 10:06:54 2008
Subject: [Gdal-dev] GDAL WMS Questions..
In-Reply-To: <15950678.post@talk.nabble.com>
References: <15866625.post@talk.nabble.com><00b101c87f4c$08463500$18d29f00$@com><15867346.post@talk.nabble.com>
	<47D1D9B5.60105@xpam.de><15948582.post@talk.nabble.com><001d01c88251$dccccbb0$96666310$@com><15950678.post@talk.nabble.com>
Message-ID: <681513377-1205157980-cardhu_decombobulator_blackberry.rim.net-202670657-@bxe144.bisx.prod.on.blackberry>

The only thing left to do then is to step through the gdal code with your debugger and find the location where the driver returns null.

Martin

Sent via BlackBerry by AT&T

-----Original Message-----
From: Fodder <cryan@csse.com.au>

Date: Mon, 10 Mar 2008 03:55:32 
To:gdal-dev@lists.osgeo.org
Subject: RE: [Gdal-dev] GDAL WMS Questions..



Thanks Martin,

gdalinfo --formats confirms that the WMS driver is present, so I'm at a loss
as to why it's not working.

Cheers Fodder
-- 
View this message in context: http://www.nabble.com/GDAL-WMS-Questions..-tp15866625p15950678.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


From michele.sanges at otomelara.it  Mon Mar 10 10:32:25 2008
From: michele.sanges at otomelara.it (Michele Sanges)
Date: Mon Mar 10 09:33:58 2008
Subject: [gdal-dev] mgrs system
Message-ID: <1205159545.19724.6.camel@pigreco>

I need to convert coordinates from UTM to MGRS. How do I use the
Convert_UTM_To_MGRS function from frmts/nitf/mgrs.c (mgrs.h in not
installed in my system).

Thanks.
Michele 
From warmerdam at pobox.com  Mon Mar 10 09:44:38 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 10 09:44:56 2008
Subject: [gdal-dev] mgrs system
In-Reply-To: <1205159545.19724.6.camel@pigreco>
References: <1205159545.19724.6.camel@pigreco>
Message-ID: <47D53B46.3090909@pobox.com>

Michele Sanges wrote:
> I need to convert coordinates from UTM to MGRS. How do I use the
> Convert_UTM_To_MGRS function from frmts/nitf/mgrs.c (mgrs.h in not
> installed in my system).

Michele,

The MGRS functions in frmts/nitf/mgrs.c are not part of the public GDAL
API.  If you want to use them, you will need to "reach in" to GDAL to get
the right include file.  On Win32 it is unlikely the entry points will be
exported from the DLL though this is not an issue on linux.

Basically, it is a "use at your own risk" undocumented capability.  It
exists in GDAL because it is used internally in the NITF driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From oliver.eichler at gmx.de  Mon Mar 10 11:16:31 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon Mar 10 11:16:35 2008
Subject: [gdal-dev] referencing scanned paper maps
Message-ID: <20080310151631.34610@gmx.net>

Hi,

I try to reference some scanned paper maps with UTM Zone33 projection and ED50 as datum. I use gdal_translate to add the GCPs and "+proj=utm +zone=33 +ellps=intl +units=m +no_defs". And then gdalwarp to actually transform the file. So far so good. 

However the datum shift for waypoints and tracks in longlat / WGS84 to UTM / ED50 has an error of ~100m. I can fix that with the correct +towgs84 parameter in the projection string.

Now I would like to add this information to the resulting GeoTiff. That's where my trouble starts. If I add +towgs84 to the projection string of the GCPs it seems to get purged by gdal_translate. Same if I add +wktext. And gdalwarp seems to ignore -t_srs parameter. 

Thus my question: How do I add the +towgs84 parameter to the file, to get it later on for WGS84 <-> ED50 conversion?

Oliver
From mattia.parigiani at gmail.com  Mon Mar 10 13:06:10 2008
From: mattia.parigiani at gmail.com (mattia)
Date: Mon Mar 10 13:06:14 2008
Subject: [gdal-dev] GCP extraction, chopped reprojected image
Message-ID: <6b6f1c810803101006nbe6b1e6l7eead055402775aa@mail.gmail.com>

Hi folks,

Not being good with AWK, I wrote a Perl script to extract GCPs from
latitude/longitude sets of an HDF file I need to reproject to WGS84.

I manage to assign a certain number of GCPs using gdal_translate, but when I
then reproject to WGS84 using gdalwarp my image's bottom left corner gets
chopped out of the picture and discarded..

Any idea why?

Another couple of related questions:
1) My image is 2700x9300, why are the lat/long sets 4650x1350 as opposed to
being 1350x4650? This heavily complicates my algorithm as I need to compute
thw 2 lat/long matrices first and then traspose them..

2) Is there an upper limit to the number of GCPs I can assign using
gdal_translate? I was getting an error saying "Too many arguments to
gdal_translate" or something along these lines..

Thanks in advance

-- 
Mattia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080310/c072c94f/attachment.html
From sim at gis-lab.info  Mon Mar 10 13:07:29 2008
From: sim at gis-lab.info (Maxim Dubinin)
Date: Mon Mar 10 13:13:24 2008
Subject: [gdal-dev] Polynomial warping ?
In-Reply-To: <005301c8809e$78bab830$651da8c0@NICOLAS>
References: <009901c87f86$0b7ac6c0$6642000a@NICOLAS>
	<005301c8809e$78bab830$651da8c0@NICOLAS>
Message-ID: <1922231647.20080310120729@gis-lab.info>

Nicolas,

I think the problem is the way you address Y-coords in your gcps and
output. Try a simple example with your grid, compare this (notice the
last point):
gdal_translate.exe -of GTiff -gcp 0 0 100 100 -gcp 642 0 200 100 -gcp 642 482 200 0 grid.jpg grid.tif
and this
gdal_translate.exe -of GTiff -gcp 0 0 100 100 -gcp 642 0 200 100 -gcp 642 -482 200 0 grid.jpg grid.tif

You'll see, that (as you can see in your gdalwarp.jpg), your file will be also
mirrored, which means, that it is not correct to address pixel the
same way as ArcGIS does.

As for the polynomial transformation, I modified your gcps, rounded a
little, multiplied your Y-in coord by -1 and added 480 to Y-out coord:

gdal_translate.exe  -of GTiff -gcp 0 0 0 480 -gcp 640 480 640 0 -gcp 0
480  0  0  -gcp  640 220 640 220 -gcp 0 220 0 220 -gcp 340 220 340 220
-gcp  340  480  340  0  -gcp 340 0 340 480 -gcp 640 0 640 700 grid.jpg
grid.tif

gdalwarp.exe -order 2 grid.tif grid-warp.tif

Seems like it did the trick, see attachement.

Maxim
-------------- next part --------------
A non-text attachment was scrubbed...
Name: grid-warp.gif
Type: image/gif
Size: 19394 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080310/cbb5c51d/grid-warp-0001.gif
From vitali at arbonaut.com  Mon Mar 10 13:32:39 2008
From: vitali at arbonaut.com (Vitali Diatchkov)
Date: Mon Mar 10 13:32:37 2008
Subject: [gdal-dev] the same names of attribute types in shapefile after
	ogr2ogr: a problem for us
Message-ID: <001301c882d4$bd42ac00$bd1ea8c0@Vitalus>


Hello!

We use GDAL library (actually OGR part of it) for conversion from TAB to
Shapefile. This functionality is called from JVM through JNI (Java Native
Interface): we wrapped necessary functionality of ogr2ogr with required
changes into java native methods and call OGR routines from java code. This
is a background. This solves our specific tasks. But we  have a problem that
our customers have many TAB files where there are attribute types with the
same long prefix in name. During conversion the attribute type name is cut
for 10 characters (may be because of DBF spec) and as a result a shapefile
has several attribute types with the same names. OGR library produces this
kind of files without worrying but later on ShapefileDataStore (a GeoTools'
java library driver for shapefiles) fails to handle them.

What is the easiest solution to catch these cases at the stage of conversion
inside of OGR and rename attribute types on the fly based on some simple
rules?   The exact matching of names is unimportant; the shapefile with
unique (fixed) attribute type names is required.

Thanks in advance, Vitali.

From jukka.rahkonen at mmmtike.fi  Mon Mar 10 14:22:50 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon Mar 10 14:23:13 2008
Subject: [gdal-dev] Re: referencing scanned paper maps
References: <20080310151631.34610@gmx.net>
Message-ID: <loom.20080310T181718-386@post.gmane.org>

Oliver Eichler <oliver.eichler <at> gmx.de> writes:


> Now I would like to add this information to the resulting GeoTiff. That's
where my trouble starts. If I add
> +towgs84 to the projection string of the GCPs it seems to get purged by
gdal_translate. Same if I add
> +wktext. And gdalwarp seems to ignore -t_srs parameter. 
> 
> Thus my question: How do I add the +towgs84 parameter to the file, to get it
later on for WGS84 <-> ED50 conversion?

I wonder what might happen if you first add the GCPs only and don't tell
anything about the projection at this phase, and then run gdalwarp with complete 
pjojections strings, somehow like
 gdalwarp -s_srs "+proj=..." -t_srs "+proj=..."

-Jukka Rahkonen-

From oliver.eichler at gmx.de  Mon Mar 10 15:14:44 2008
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon Mar 10 15:14:48 2008
Subject: [gdal-dev] Re: referencing scanned paper maps
In-Reply-To: <loom.20080310T181718-386@post.gmane.org>
References: <20080310151631.34610@gmx.net>
	<loom.20080310T181718-386@post.gmane.org>
Message-ID: <20080310191444.324500@gmx.net>

> 
> I wonder what might happen if you first add the GCPs only and don't tell
> anything about the projection at this phase, and then run gdalwarp with
> complete 
> pjojections strings, somehow like
>  gdalwarp -s_srs "+proj=..." -t_srs "+proj=..."
> 

Good idea :). But it's not working either. 

I just wonder if I can add that information to the final file. Maybe with gdal_translate. Maybe with [-mo "META-TAG=VALUE"]. But I have no clue how to do this in detail.

Oliver
From even.rouault at mines-paris.org  Mon Mar 10 18:16:15 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon Mar 10 18:16:22 2008
Subject: [gdal-dev] New OGR driver for X-Plane/Flightgear aeronautical data
Message-ID: <200803102316.16705.even.rouault@mines-paris.org>

Folks,

for those who are interested in aeronautics, I've just commited in SVN trunk a 
new OGR driver 'XPLANE' that can read aerantical data (airports, runways, 
taxiways, navigation aids, IFR intersections, airways)  from a text format 
used by the X-Plane and Flightgear flight simulators.

A few links :
http://x-plane.org/home/robinp/index.htm : Robin's aviation simulator data 
homepage.
http://x-plane.org/home/robinp/FileDef.htm : Specification of the format.
http://x-plane.org/home/robinp/AptNav200712XP861.zip : Free data.
http://www.gdal.org/ogr/drv_xplane.html : Documentation of the driver.

Enjoy!

Even
From admin at merletn.org  Tue Mar 11 07:26:11 2008
From: admin at merletn.org (Nicolas MERLET)
Date: Tue Mar 11 07:26:18 2008
Subject: [gdal-dev] Polynomial warping ?
In-Reply-To: <1922231647.20080310120729@gis-lab.info>
References: <009901c87f86$0b7ac6c0$6642000a@NICOLAS>
	<005301c8809e$78bab830$651da8c0@NICOLAS>
	<1922231647.20080310120729@gis-lab.info>
Message-ID: <009f01c8836a$b6ca9180$6642000a@NICOLAS>

Maxim,

Indeed, your changes are correct (my mistake about image mirroring). But as
I'm trying to produce a fully-automated batch correction of images from a
specific infrared camera, I'll have to implemented a small script to convert
ArcGIS GCPs to GDAL GCPs...

I've uploaded my final test here, including batch script :
http://dev.merletn.org/gis/final/final.zip

Here is the result :
http://dev.merletn.org/gis/final/warp.tif

Another interesting point : whereas some users usually use gdal_translate,
then gcps2wld, and finally gdalwarp, it does produce the same result if you
just use gdal_translate to add GCPs then gdalwarp to apply them. It depends
on what is your final goal...

Thank you very much Maxim.

Yours, Nicolas
 

> -----Original Message-----
> From: Maxim Dubinin [mailto:sim@gis-lab.info] 
> Sent: Monday, March 10, 2008 6:07 PM
> To: Nicolas MERLET
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re[2]: [gdal-dev] Polynomial warping ?
> 
> Nicolas,
> 
> I think the problem is the way you address Y-coords in your gcps and
> output. Try a simple example with your grid, compare this (notice the
> last point):
> gdal_translate.exe -of GTiff -gcp 0 0 100 100 -gcp 642 0 200 
> 100 -gcp 642 482 200 0 grid.jpg grid.tif
> and this
> gdal_translate.exe -of GTiff -gcp 0 0 100 100 -gcp 642 0 200 
> 100 -gcp 642 -482 200 0 grid.jpg grid.tif
> 
> You'll see, that (as you can see in your gdalwarp.jpg), your 
> file will be also
> mirrored, which means, that it is not correct to address pixel the
> same way as ArcGIS does.
> 
> As for the polynomial transformation, I modified your gcps, rounded a
> little, multiplied your Y-in coord by -1 and added 480 to Y-out coord:
> 
> gdal_translate.exe  -of GTiff -gcp 0 0 0 480 -gcp 640 480 640 0 -gcp 0
> 480  0  0  -gcp  640 220 640 220 -gcp 0 220 0 220 -gcp 340 220 340 220
> -gcp  340  480  340  0  -gcp 340 0 340 480 -gcp 640 0 640 700 grid.jpg
> grid.tif
> 
> gdalwarp.exe -order 2 grid.tif grid-warp.tif
> 
> Seems like it did the trick, see attachement.
> 
> Maxim


From ivan.lucena at pmldnet.com  Tue Mar 11 08:48:59 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue Mar 11 08:48:54 2008
Subject: [gdal-dev] Reprojection of HDF data.. again on GCP extraction
In-Reply-To: <6b6f1c810803050741m64675434g767b258e61bc7222@mail.gmail.com>
References: <6b6f1c810803050741m64675434g767b258e61bc7222@mail.gmail.com>
Message-ID: <47D67FBB.1050603@pmldnet.com>

Mattia,

Instead of AWK, you can use Python to re-organize the content of those 
files. You just need simple text file reading and the string methods 
like split() and then develop you logic to match the two files.

file = open('latitude.dump', 'r')
line = file.readline()
line = line.split()
cell = float(line[1])


You can either prepare the output as a text file to be passed to GDAL 
tools or you can call GDAL API directly in the same Python script.

Best regards,

Ivan

mattia wrote:
> Hello folks,
> 
> I still need some help / advise for reprojecting my HDF raster image
> datasets..
> I manage to dump the "Latitude" and "Longitude" data sets of the HDF file
> into ASCII format...
> Now I would like to use this data to do the reprojection.. The dump I did
> using HDF's hdp utility as follows:
> 
> mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Latitude -d -x
> -o latitude AMOD021KM20070104035343.hdf
> mattia@mattia-laptop:~/Desktop/data/prove/1$ hdp dumpsds -n Longitude -d -x
> -o longitude AMOD021KM20070104035343.hdf
> 
> The contents of the file is as follows (Latitude for example):
> 
> 64.731689 64.741600 64.749550 64.755737 64.760345 64.763504 64.765366
> 64.766037 64.765633 64.764244 64.761963 64.758858 64.754997 64.750458
> 64.745285 64.739532 64.733253 64.726479 64.719261 64.711617 64.703606
> 64.695229 64.686531 64.677536 64.668266 64.658737 64.648972 64.638985
> 64.628799 64.618423 64.607880 64.597176 64.586319 64.575333 64.564217
> 64.552979 64.541634 64.530190 64.518654 64.507034 64.495338 64.483559
> 64.471718 64.459816 64.447853 64.435837 64.423767 64.411659 64.399506
> 64.387314 64.375084 64.362823 64.350525 64.338203 64.325851 64.313484
> 64.301086 64.288673 64.276237 64.263779 64.251312 64.238823 64.226318
> 64.213806 64.201271 64.188736 64.176178 64.163612 64.151039 64.138451
> 64.125854 64.113251 64.100639 64.088013 64.075378 64.062737 64.050079
> 64.037415 64.024742 64.012062 63.999371 63.986668 63.973953 63.961227
> 63.948494 63.935745 63.922985 63.910213 63.897430 63.884628 63.871819
> 63.858990 63.846146 63.833290 63.820412 63.807522 63.794609 63.781685
> 63.768738 63.755768 63.742779 63.729767 63.716736 63.703678 63.690601
> 63.677494 63.664364 63.651207 63.638020 63.624805 63.611561 63.598286
> 63.584984 63.571644 63.558270 63.544861 63.531418 63.517937 63.504421
> 63.490864 63.477264 63.463623 63.449940 63.436214 63.422440 63.408619
> 63.394753 63.380836 63.366871 63.352848 63.338776 63.324650 63.310463
> 63.296223 63.281918 63.267559 63.253132 63.238644 63.224091 63.209465
> 63.194775 63.180012 63.165180 63.150269 63.135284 63.120224 63.105080
> 63.089855 63.074547 63.059151 63.043671 63.028099 63.012436 62.996674
> 62.980820 62.964863 62.948811 62.932648 62.916386 62.900009 62.883526
> 62.866928 62.850208 62.833378 62.816418 62.799339 62.782131 62.764790
> 62.747314 62.729702 62.711952 62.694057 62.676014 62.657822 62.639477
> 62.620972 62.602303 62.583473 62.564472 62.545296 62.525944 62.506409
> 62.486687 62.466774 62.446667 62.426357 62.405842 62.385117 62.364174
> 
> .
> .
> .
> etc
> .
> .
> .
> 
> 
> 
> 
> Now, I need to construct GCPs from this data and I would just like to know
> what would be best..
> 
> 1) writing a C utility which does the job and prepares GCPs which later I
> can pass to gdal_translate from a file for example
> 
> 2) A C utility which creates the GCPs and a VRT file with these included for
> the later coming reprojection
> 
> Any other ideas would be appreciated..
> 
> The problem is though how to assign the actual GCPs...  I mean, every GCP
> has format (x,y) > (lat,long) ..   how do I know how to assign the (x,y)
> part??
> 
> 
> Regards
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From daniele.romagnoli at geo-solutions.it  Tue Mar 11 10:55:09 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Tue Mar 11 10:55:12 2008
Subject: [gdal-dev] Question about NITF CADRG data file extensions.
Message-ID: <7221db410803110755h767eb0d8tc0b95f6b1ef9887a@mail.gmail.com>

Hi list,
I have a trivial question about the supported/existing Nitf CADRG data file
extensions.

In the ImageIO-Ext project, I'm setting up a NITF plugin (leveraging on
GDAL).
The ImageReaderSpi of each ImageIO reader could specify the suffixes which
the format specific plugin is able to support.
Actually, I'm interested in CADRG format extensions. Thus, my silly question
is:
Which file extensions exist for the NITF CADRG format?

After a "quick and random" search, I have found some ".on1", ".on2", ".on5"
file extensions for Operational Navigation Chart and ".tp4" file extension
for Tactical Pilotage Chart.
I'm pretty sure there are ".onX" and ".tpX" (where X is a number) file
extensions. Can someone give me some advice on this?

Thank you very much.

Best regards,
Daniele



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080311/fd91b7b8/attachment.html
From mchapman at texelinc.com  Tue Mar 11 12:10:39 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Tue Mar 11 12:10:50 2008
Subject: [gdal-dev] Question about NITF CADRG data file extensions.
In-Reply-To: <7221db410803110755h767eb0d8tc0b95f6b1ef9887a@mail.gmail.com>
References: <7221db410803110755h767eb0d8tc0b95f6b1ef9887a@mail.gmail.com>
Message-ID: <001901c88392$73c93850$5b5ba8f0$@com>

Daniele,

 

The RPF specification is MILSTD-2411 which has a couple of addendums and all
can be found at http://earth-info.nga.mil/publications/specs/ .  The basic
structure of an RPF file is a root directory named RPF which contains a file
named a.toc which means "Table of Contents".  That file is a database of
boundaries and frames files that make up the various images within the RPF
file.  The boundaries constitute a group of adjacent frame files that
together make a scene or image.  Each frame file is 1536 x 1536 pixels and
is formatted as an NITF file.  The frame files live within or below the RPF
directory in other directories and the file name is a key that denotes the
series, scale, zone and other information.  If you cannot open the frame
files because your viewer wants an .ntf extension, just change the extension
to .ntf and it will open in your viewer.  Then RPF is split into two types,
Compressed Arc Digital Raster Graphics (CADRG) and Controlled Image Base
(CIB).  The first is a vector map that has one band and a color table where
the second is a one band gray scale image.  The main file you should be
opening is always a.toc and then you should use the toc to retrieve whatever
boundary and frame info you want.  The toc has the file paths for each of
the frames files for a given boundary.

 

Hope this helps!

 

Best regards,

Martin Chapman

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Daniele Romagnoli
Sent: Tuesday, March 11, 2008 8:55 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Question about NITF CADRG data file extensions.

 

Hi list,
I have a trivial question about the supported/existing Nitf CADRG data file
extensions.

In the ImageIO-Ext project, I'm setting up a NITF plugin (leveraging on
GDAL).
The ImageReaderSpi of each ImageIO reader could specify the suffixes which
the format specific plugin is able to support.
Actually, I'm interested in CADRG format extensions. Thus, my silly question
is:
Which file extensions exist for the NITF CADRG format?

After a "quick and random" search, I have found some ".on1", ".on2", ".on5"
file extensions for Operational Navigation Chart and ".tp4" file extension
for Tactical Pilotage Chart.
I'm pretty sure there are ".onX" and ".tpX" (where X is a number) file
extensions. Can someone give me some advice on this?

Thank you very much.

Best regards,
Daniele 



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli 
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080311/be484433/attachment.html
From szekerest at gmail.com  Tue Mar 11 12:32:19 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar 11 12:32:22 2008
Subject: [gdal-dev] Support for the LUT transformation of the vrt bands
Message-ID: <f3b73b7d0803110932s7b9ef2f0w6a400055e669ec9b@mail.gmail.com>

Folks,

In my recent work I need a limited support for a LUT based
transformation of the bands to apply some colorization  and threshold
operations created with the gdal_grid application. I wonder if we
could implement this enhancement in the gdal vrt driver, and the
dataset could be created from the scripting interfaces (like C#)
either. By adding this functionality the vrt driver the config could
be stored in a separate configuration profile (XML) that could be
preserved and used for subsequent transformations.

In my proposal this functionality would be implemented in a new
VRTRasterBand subclass, like subClass="VRTLUTRasterBand", and we

could specify the lookup table in the following pseudo fromat:

<LUT>[source value1]:[dest value1],[source value2]:[dest value2] ...</LUT>

We could also specify the interpolation mode when gathering the
intermediary values (linear or none at the moment)

There would be another transformation parameter assigned to a LUT
denoting how the scalar value is computed in case when we have a
complex source band (the possible values are
magnitude/phase/real/imaginary)

For example:
<VRTRasterBand dataType="Byte" band="1" subClass="VRTLUTRasterBand">
  <LUT interpolation="linear"
scalarvalue="magnitude">23400.34:0,75234.45:255</LUT>
  <SimpleSource>
      <SourceFilename relativeToVRT="1">source.tif</SourceFilename>
      <SourceBand>4</SourceBand>
  </SimpleSource>
</VRTRasterBand>


I wouldn't address creating complex bands with this method at the
moment. However we could probably extend this by adding multiple LUT
nodes and data sources to a single VRTLUTRasterBand.

In the future we could possibly add helper functions to create
predefinied LUT XML nodes based on some common use cases (like
equidinstant or histogram based partitions of the source values) but
currently it's up to the user and script developer how to create the
desired vrt xml. However a graphical application could easily
visualize the LUT by applying the vrt on a sample image with linear
range of the values.

I'd like to know whether the idea above would be reasonable to
implement. Should I create an RFC on this?


Best regards,

Tamas
From warmerdam at pobox.com  Tue Mar 11 14:33:22 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 11 14:34:02 2008
Subject: [gdal-dev] Support for the LUT transformation of the vrt bands
In-Reply-To: <f3b73b7d0803110932s7b9ef2f0w6a400055e669ec9b@mail.gmail.com>
References: <f3b73b7d0803110932s7b9ef2f0w6a400055e669ec9b@mail.gmail.com>
Message-ID: <47D6D072.6070108@pobox.com>

Tamas Szekeres wrote:
> Folks,
> 
> In my recent work I need a limited support for a LUT based
> transformation of the bands to apply some colorization  and threshold
> operations created with the gdal_grid application. I wonder if we
> could implement this enhancement in the gdal vrt driver, and the
> dataset could be created from the scripting interfaces (like C#)
> either. By adding this functionality the vrt driver the config could
> be stored in a separate configuration profile (XML) that could be
> preserved and used for subsequent transformations.
> 
> In my proposal this functionality would be implemented in a new
> VRTRasterBand subclass, like subClass="VRTLUTRasterBand", and we
> 
> could specify the lookup table in the following pseudo fromat:
> 
> <LUT>[source value1]:[dest value1],[source value2]:[dest value2] ...</LUT>
> 
> We could also specify the interpolation mode when gathering the
> intermediary values (linear or none at the moment)
> 
> There would be another transformation parameter assigned to a LUT
> denoting how the scalar value is computed in case when we have a
> complex source band (the possible values are
> magnitude/phase/real/imaginary)
> 
> For example:
> <VRTRasterBand dataType="Byte" band="1" subClass="VRTLUTRasterBand">
>   <LUT interpolation="linear"
> scalarvalue="magnitude">23400.34:0,75234.45:255</LUT>
>   <SimpleSource>
>       <SourceFilename relativeToVRT="1">source.tif</SourceFilename>
>       <SourceBand>4</SourceBand>
>   </SimpleSource>
> </VRTRasterBand>
> 
> 
> I wouldn't address creating complex bands with this method at the
> moment. However we could probably extend this by adding multiple LUT
> nodes and data sources to a single VRTLUTRasterBand.
> 
> In the future we could possibly add helper functions to create
> predefinied LUT XML nodes based on some common use cases (like
> equidinstant or histogram based partitions of the source values) but
> currently it's up to the user and script developer how to create the
> desired vrt xml. However a graphical application could easily
> visualize the LUT by applying the vrt on a sample image with linear
> range of the values.
> 
> I'd like to know whether the idea above would be reasonable to
> implement. Should I create an RFC on this?

Tamas,

I would like to suggest that you handle this as additional parameters
on the VRTComplexSource rather than as a distinct band object type.

The VRTComplexSource can already apply rescaling on the fly, and it
seems like a reasonable extension to add interval based LUTs.  In
some cases it may also be helpful to be able to apply different LUTs
to different sources in a virtual mosaic.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From even.rouault at mines-paris.org  Tue Mar 11 14:57:16 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue Mar 11 14:57:40 2008
Subject: [gdal-dev] Question about NITF CADRG data file extensions.
In-Reply-To: <001901c88392$73c93850$5b5ba8f0$@com>
References: <7221db410803110755h767eb0d8tc0b95f6b1ef9887a@mail.gmail.com>
	<001901c88392$73c93850$5b5ba8f0$@com>
Message-ID: <200803111957.18688.even.rouault@mines-paris.org>

Daniele,

From GDAL 1.5.0, there is a RPFTOC driver that can read the A.TOC file and 
reports a list of subdatasets. These subdatasets can then be opened with GDAL 
and they'll provide the list of frame files in metadata. See 
http://www.gdal.org/frmt_various.html#RPFTOC.

To answer exactly to your question, you can have a look at the 
frmts/nitf/nitffile.c file in the GDAL source tree, in particularly the 
array 'nitfSeries' at the end of the file. The first column gives the first 2 
letters of the possible extensions. If you add as the third character the 
figures from 1 to 9 (corresponding to the 9 ARC zones), you'll have all the 
possible extensions.  So you have .gn1 to .gn9, .on1 to .on9, .jn1 
to .jn9, .tp1 to .tp9, .jg1 to .jg9, .ja1 to .ja9, .tl1 to .tl9, etc... (from 
my experience, these are the extensions that'll cover 90% of the typical 
available CADRG products)


Le Tuesday 11 March 2008 17:10:39 Martin Chapman, vous avez ?crit?:
> Daniele,
>
>
>
> The RPF specification is MILSTD-2411 which has a couple of addendums and
> all can be found at http://earth-info.nga.mil/publications/specs/ .  The
> basic structure of an RPF file is a root directory named RPF which contains
> a file named a.toc which means "Table of Contents".  That file is a
> database of boundaries and frames files that make up the various images
> within the RPF file.  The boundaries constitute a group of adjacent frame
> files that together make a scene or image.  Each frame file is 1536 x 1536
> pixels and is formatted as an NITF file.  The frame files live within or
> below the RPF directory in other directories and the file name is a key
> that denotes the series, scale, zone and other information.  If you cannot
> open the frame files because your viewer wants an .ntf extension, just
> change the extension to .ntf and it will open in your viewer.  Then RPF is
> split into two types, Compressed Arc Digital Raster Graphics (CADRG) and
> Controlled Image Base (CIB).  The first is a vector map that has one band
> and a color table where the second is a one band gray scale image.  The
> main file you should be opening is always a.toc and then you should use the
> toc to retrieve whatever boundary and frame info you want.  The toc has the
> file paths for each of the frames files for a given boundary.
>
>
>
> Hope this helps!
>
>
>
> Best regards,
>
> Martin Chapman
>
>
>
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Daniele Romagnoli
> Sent: Tuesday, March 11, 2008 8:55 AM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] Question about NITF CADRG data file extensions.
>
>
>
> Hi list,
> I have a trivial question about the supported/existing Nitf CADRG data file
> extensions.
>
> In the ImageIO-Ext project, I'm setting up a NITF plugin (leveraging on
> GDAL).
> The ImageReaderSpi of each ImageIO reader could specify the suffixes which
> the format specific plugin is able to support.
> Actually, I'm interested in CADRG format extensions. Thus, my silly
> question is:
> Which file extensions exist for the NITF CADRG format?
>
> After a "quick and random" search, I have found some ".on1", ".on2", ".on5"
> file extensions for Operational Navigation Chart and ".tp4" file extension
> for Tactical Pilotage Chart.
> I'm pretty sure there are ".onX" and ".tpX" (where X is a number) file
> extensions. Can someone give me some advice on this?
>
> Thank you very much.
>
> Best regards,
> Daniele


From warmerdam at pobox.com  Tue Mar 11 17:29:31 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 11 17:29:54 2008
Subject: [gdal-dev] Maintainer Availability
Message-ID: <47D6F9BB.1000102@pobox.com>

Folks,

Mateusz will be unable to spend significant time on GDAL maintenance
until the beginning of May.

I am interested in finding an additional junior maintainer for the
project.  For me the ideal candidate would be:

  o A reasonably skilled C/C++ developer.
  o Have reasonably good written english communication skills.
  o Have reliable, reasonably high bandwidth network access.
  o Have a long term interest in the geospatial field.
  o Have some experience with GDAL/OGR.
  o Have an interest in part-time or limited time contract work.

I'm not really interested in "after hours" work by people with full time
jobs.  I think the role requires more focus than that usually affords.

Likely pay rates are not all that high, so the role is ideal for someone
in a lower wage region with good network access.  It has the potential to
be an excellent source of experience, and could help build a reputation
that might lead to higher paid consulting work in the FOSS4G sector (not
directly to OSGeo).  The role could be thought of as a "stepping stone"
for the motivated developer.

Those with interest, or suggestions are encouraged to contact me directly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From solisgb at gmail.com  Tue Mar 11 18:20:14 2008
From: solisgb at gmail.com (=?ISO-8859-1?Q?Luis_Sol=EDs?=)
Date: Tue Mar 11 18:20:19 2008
Subject: [gdal-dev] run time error importing gdal.dll from a python script
Message-ID: <47D7059E.4010405@gmail.com>

Hi

I'm working with python 2.4 and windows xp sp 2. These days I'm trying 
to install gdall library gdalwin32-1.5 with Python bindings. I have 
tried to run an script using the library, but python raises the error

Traceback (most recent call last):
  File "E:\dev\python\gis\do_createPointShp.py", line 12, in ?
    from MyOgrDrv import MyOgrDrv,Point
  File "E:\dev\python\gis\MyOgrDrv.py", line 6, in ?
    import ogr
  File "C:\Python24\Lib\site-packages\ogr.py", line 2, in ?
    from osgeo.gdal import deprecation_warn
  File "C:\Python24\Lib\site-packages\osgeo\gdal.py", line 7, in ?
    import _gdal
ImportError: DLL load failed

and windows raises the message -> curls_multi_cleanup pocedure don`t 
find entry point in libcurl.dll

It's like my procedure cant find gdall.dll, or libcurl.dll, I don't known

The installation procedure of gdal  and python bindings ends ok, I'have 
added gdal dir to PATH environment windows variable.

I have found 2 programs than uses others libcurl.dll versions (an 
antivirus program and Apples's program)

There are any way to inspect where my script is finding gdal.dll?, and

How I could indicate the correct path ?

-- 
Luis Sol?s

From warmerdam at pobox.com  Tue Mar 11 18:20:50 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 11 18:21:08 2008
Subject: [gdal-dev] the same names of attribute types in shapefile after
	ogr2ogr: a problem for us
In-Reply-To: <001301c882d4$bd42ac00$bd1ea8c0@Vitalus>
References: <001301c882d4$bd42ac00$bd1ea8c0@Vitalus>
Message-ID: <47D705C2.2090404@pobox.com>

Vitali Diatchkov wrote:
> Hello!
> 
> We use GDAL library (actually OGR part of it) for conversion from TAB to
> Shapefile. This functionality is called from JVM through JNI (Java Native
> Interface): we wrapped necessary functionality of ogr2ogr with required
> changes into java native methods and call OGR routines from java code. This
> is a background. This solves our specific tasks. But we  have a problem that
> our customers have many TAB files where there are attribute types with the
> same long prefix in name. During conversion the attribute type name is cut
> for 10 characters (may be because of DBF spec) and as a result a shapefile
> has several attribute types with the same names. OGR library produces this
> kind of files without worrying but later on ShapefileDataStore (a GeoTools'
> java library driver for shapefiles) fails to handle them.
> 
> What is the easiest solution to catch these cases at the stage of conversion
> inside of OGR and rename attribute types on the fly based on some simple
> rules?   The exact matching of names is unimportant; the shapefile with
> unique (fixed) attribute type names is required.

Vitali,

I'm a bit confused because if you are using JNI calls into the OGR bindings
you can manipulate the field names yourself before creating them on the
shapefile datasource.

I do think that the OGR Shapefile driver likely ought to check for repeated
field names (after trimming) and either fixup the field name to be unique
using some schema or issue an error.  I see the CreateField() method has
an "Approximate OK" flag.  We might fix things up if ApproxOK is true, and
issue an error if ApproxOK is false.

I'd note that ogr2ogr already has problems properly copying features where
the field names change due to field name laundering because the
OGRFeature::CopyFrom() method is field name based rather than knowing in
advance what field goes where.  So even improving the shapefile driver
will not immediately fix ogr2ogr.

I would encourage you to file a ticket on the shapefile driver suggestion
if you feel reasonably strongly about it - though I'm not sure when the issue
will be acted on.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Tue Mar 11 18:45:19 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar 11 18:45:21 2008
Subject: [gdal-dev] Support for the LUT transformation of the vrt bands
In-Reply-To: <47D6D072.6070108@pobox.com>
References: <f3b73b7d0803110932s7b9ef2f0w6a400055e669ec9b@mail.gmail.com>
	<47D6D072.6070108@pobox.com>
Message-ID: <f3b73b7d0803111545g1756bcf1sc59e0aca3e15fff2@mail.gmail.com>

Frank,

Yes it seems comfortable to add this here. I haven't noticed this
element before, it may be missing from the documentation, though.

In this regard I'll apply the following processing chain inside
VRTComplexSource::RasterIO:

1. Calculate the scalar representation of the complex source value
based on the user definied setting. (If the scalarvalue option is
set).
2. Apply scaling and offset.
3. LUT transformation.
4. Nodata masking

I'll proceed with this if there's no objection and update the docs accordingly.

Best regards,

Tamas



2008/3/11, Frank Warmerdam <warmerdam@pobox.com>:
> Tamas Szekeres wrote:
>  > Folks,
>  >
>  > In my recent work I need a limited support for a LUT based
>  > transformation of the bands to apply some colorization  and threshold
>  > operations created with the gdal_grid application. I wonder if we
>  > could implement this enhancement in the gdal vrt driver, and the
>  > dataset could be created from the scripting interfaces (like C#)
>  > either. By adding this functionality the vrt driver the config could
>  > be stored in a separate configuration profile (XML) that could be
>  > preserved and used for subsequent transformations.
>  >
>  > In my proposal this functionality would be implemented in a new
>  > VRTRasterBand subclass, like subClass="VRTLUTRasterBand", and we
>  >
>  > could specify the lookup table in the following pseudo fromat:
>  >
>  > <LUT>[source value1]:[dest value1],[source value2]:[dest value2] ...</LUT>
>  >
>  > We could also specify the interpolation mode when gathering the
>  > intermediary values (linear or none at the moment)
>  >
>  > There would be another transformation parameter assigned to a LUT
>  > denoting how the scalar value is computed in case when we have a
>  > complex source band (the possible values are
>  > magnitude/phase/real/imaginary)
>  >
>  > For example:
>  > <VRTRasterBand dataType="Byte" band="1" subClass="VRTLUTRasterBand">
>  >   <LUT interpolation="linear"
>  > scalarvalue="magnitude">23400.34:0,75234.45:255</LUT>
>  >   <SimpleSource>
>  >       <SourceFilename relativeToVRT="1">source.tif</SourceFilename>
>  >       <SourceBand>4</SourceBand>
>  >   </SimpleSource>
>  > </VRTRasterBand>
>  >
>  >
>  > I wouldn't address creating complex bands with this method at the
>  > moment. However we could probably extend this by adding multiple LUT
>  > nodes and data sources to a single VRTLUTRasterBand.
>  >
>  > In the future we could possibly add helper functions to create
>  > predefinied LUT XML nodes based on some common use cases (like
>  > equidinstant or histogram based partitions of the source values) but
>  > currently it's up to the user and script developer how to create the
>  > desired vrt xml. However a graphical application could easily
>  > visualize the LUT by applying the vrt on a sample image with linear
>  > range of the values.
>  >
>  > I'd like to know whether the idea above would be reasonable to
>  > implement. Should I create an RFC on this?
>
>
> Tamas,
>
>  I would like to suggest that you handle this as additional parameters
>  on the VRTComplexSource rather than as a distinct band object type.
>
>  The VRTComplexSource can already apply rescaling on the fly, and it
>  seems like a reasonable extension to add interval based LUTs.  In
>  some cases it may also be helpful to be able to apply different LUTs
>  to different sources in a virtual mosaic.
>
>  Best regards,
>
> --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
From Martin.Spott at mgras.net  Tue Mar 11 18:50:32 2008
From: Martin.Spott at mgras.net (Martin Spott)
Date: Tue Mar 11 18:51:14 2008
Subject: [gdal-dev] New OGR driver for X-Plane/Flightgear aeronautical data
References: <200803102316.16705.even.rouault@mines-paris.org>
Message-ID: <fr72bo$auo$1@osprey.mgras.de>

Even Rouault wrote:

> for those who are interested in aeronautics, I've just commited in SVN trunk a 
> new OGR driver 'XPLANE' that can read aerantical data (airports, runways, 
> taxiways, navigation aids, IFR intersections, airways)  from a text format 
> used by the X-Plane and Flightgear flight simulators.

Oh man, this really strikes me as I recently started building a
translator for the same dataset - apparently with the same intention.
An early demo is shown here:

  http://mapserver.flightgear.org/openlayers_ksfo.html

If you promise to maintain your driver  ;-)  , then I'm going to stop
my little side-project.

Cheers,
	Martin.
-- 
 Unix _IS_ user friendly - it's just selective about who its friends are !
--------------------------------------------------------------------------
From szekerest at gmail.com  Tue Mar 11 19:15:43 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar 11 19:15:45 2008
Subject: [gdal-dev] Support for the LUT transformation of the vrt bands
In-Reply-To: <f3b73b7d0803111545g1756bcf1sc59e0aca3e15fff2@mail.gmail.com>
References: <f3b73b7d0803110932s7b9ef2f0w6a400055e669ec9b@mail.gmail.com>
	<47D6D072.6070108@pobox.com>
	<f3b73b7d0803111545g1756bcf1sc59e0aca3e15fff2@mail.gmail.com>
Message-ID: <f3b73b7d0803111615m5f876b2dvcdc30168cfbcfce4@mail.gmail.com>

Hmmm. I'd slightly modify the previous post to distiguish between the
source nodata masking and the post lookup nodata masking. The latter
would provide an additional option to clip the sections based on the
LUT. So the processing order would be:

1. Calculate the scalar representation of the complex source value
based on the user definied setting. (If the scalarvalue option is
set).
2. Source nodata mask.
3. Apply scaling and offset.
4. LUT transformation.
5. Post lookup nodata masking (an additional attribute would be added
to the lookup table to specify the nodata value)


Best regards,

Tamas


2008/3/11, Tamas Szekeres <szekerest@gmail.com>:
> Frank,
>
>  Yes it seems comfortable to add this here. I haven't noticed this
>  element before, it may be missing from the documentation, though.
>
>  In this regard I'll apply the following processing chain inside
>  VRTComplexSource::RasterIO:
>
>  1. Calculate the scalar representation of the complex source value
>  based on the user definied setting. (If the scalarvalue option is
>  set).
>  2. Apply scaling and offset.
>  3. LUT transformation.
>  4. Nodata masking
>
>  I'll proceed with this if there's no objection and update the docs accordingly.
>
>  Best regards,
>
>  Tamas
>
>
>
>  2008/3/11, Frank Warmerdam <warmerdam@pobox.com>:
>
> > Tamas Szekeres wrote:
>  >  > Folks,
>  >  >
>  >  > In my recent work I need a limited support for a LUT based
>  >  > transformation of the bands to apply some colorization  and threshold
>  >  > operations created with the gdal_grid application. I wonder if we
>  >  > could implement this enhancement in the gdal vrt driver, and the
>  >  > dataset could be created from the scripting interfaces (like C#)
>  >  > either. By adding this functionality the vrt driver the config could
>  >  > be stored in a separate configuration profile (XML) that could be
>  >  > preserved and used for subsequent transformations.
>  >  >
>  >  > In my proposal this functionality would be implemented in a new
>  >  > VRTRasterBand subclass, like subClass="VRTLUTRasterBand", and we
>  >  >
>  >  > could specify the lookup table in the following pseudo fromat:
>  >  >
>  >  > <LUT>[source value1]:[dest value1],[source value2]:[dest value2] ...</LUT>
>  >  >
>  >  > We could also specify the interpolation mode when gathering the
>  >  > intermediary values (linear or none at the moment)
>  >  >
>  >  > There would be another transformation parameter assigned to a LUT
>  >  > denoting how the scalar value is computed in case when we have a
>  >  > complex source band (the possible values are
>  >  > magnitude/phase/real/imaginary)
>  >  >
>  >  > For example:
>  >  > <VRTRasterBand dataType="Byte" band="1" subClass="VRTLUTRasterBand">
>  >  >   <LUT interpolation="linear"
>  >  > scalarvalue="magnitude">23400.34:0,75234.45:255</LUT>
>  >  >   <SimpleSource>
>  >  >       <SourceFilename relativeToVRT="1">source.tif</SourceFilename>
>  >  >       <SourceBand>4</SourceBand>
>  >  >   </SimpleSource>
>  >  > </VRTRasterBand>
>  >  >
>  >  >
>  >  > I wouldn't address creating complex bands with this method at the
>  >  > moment. However we could probably extend this by adding multiple LUT
>  >  > nodes and data sources to a single VRTLUTRasterBand.
>  >  >
>  >  > In the future we could possibly add helper functions to create
>  >  > predefinied LUT XML nodes based on some common use cases (like
>  >  > equidinstant or histogram based partitions of the source values) but
>  >  > currently it's up to the user and script developer how to create the
>  >  > desired vrt xml. However a graphical application could easily
>  >  > visualize the LUT by applying the vrt on a sample image with linear
>  >  > range of the values.
>  >  >
>  >  > I'd like to know whether the idea above would be reasonable to
>  >  > implement. Should I create an RFC on this?
>  >
>  >
>  > Tamas,
>  >
>  >  I would like to suggest that you handle this as additional parameters
>  >  on the VRTComplexSource rather than as a distinct band object type.
>  >
>  >  The VRTComplexSource can already apply rescaling on the fly, and it
>  >  seems like a reasonable extension to add interval based LUTs.  In
>  >  some cases it may also be helpful to be able to apply different LUTs
>  >  to different sources in a virtual mosaic.
>  >
>  >  Best regards,
>  >
>  > --
>  >  ---------------------------------------+--------------------------------------
>  >  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  >  light and sound - activate the windows | http://pobox.com/~warmerdam
>  >  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>  >
>  >
>
From szekerest at gmail.com  Tue Mar 11 19:41:34 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue Mar 11 19:41:37 2008
Subject: [gdal-dev] the same names of attribute types in shapefile after
	ogr2ogr: a problem for us
In-Reply-To: <47D705C2.2090404@pobox.com>
References: <001301c882d4$bd42ac00$bd1ea8c0@Vitalus>
	<47D705C2.2090404@pobox.com>
Message-ID: <f3b73b7d0803111641u346efbfen6428d577ea046294@mail.gmail.com>

I'd add that using the OGR SQL option you could explicitly rename any
of the fields by using the AS keyword either when using ogr2ogr or the
scripting interfaces.

Best regards,

Tamas



2008/3/11, Frank Warmerdam <warmerdam@pobox.com>:
> Vitali Diatchkov wrote:
>  > Hello!
>  >
>  > We use GDAL library (actually OGR part of it) for conversion from TAB to
>  > Shapefile. This functionality is called from JVM through JNI (Java Native
>  > Interface): we wrapped necessary functionality of ogr2ogr with required
>  > changes into java native methods and call OGR routines from java code. This
>  > is a background. This solves our specific tasks. But we  have a problem that
>  > our customers have many TAB files where there are attribute types with the
>  > same long prefix in name. During conversion the attribute type name is cut
>  > for 10 characters (may be because of DBF spec) and as a result a shapefile
>  > has several attribute types with the same names. OGR library produces this
>  > kind of files without worrying but later on ShapefileDataStore (a GeoTools'
>  > java library driver for shapefiles) fails to handle them.
>  >
>  > What is the easiest solution to catch these cases at the stage of conversion
>  > inside of OGR and rename attribute types on the fly based on some simple
>  > rules?   The exact matching of names is unimportant; the shapefile with
>  > unique (fixed) attribute type names is required.
>
>
> Vitali,
>
>  I'm a bit confused because if you are using JNI calls into the OGR bindings
>  you can manipulate the field names yourself before creating them on the
>  shapefile datasource.
>
>  I do think that the OGR Shapefile driver likely ought to check for repeated
>  field names (after trimming) and either fixup the field name to be unique
>  using some schema or issue an error.  I see the CreateField() method has
>  an "Approximate OK" flag.  We might fix things up if ApproxOK is true, and
>  issue an error if ApproxOK is false.
>
>  I'd note that ogr2ogr already has problems properly copying features where
>  the field names change due to field name laundering because the
>  OGRFeature::CopyFrom() method is field name based rather than knowing in
>  advance what field goes where.  So even improving the shapefile driver
>  will not immediately fix ogr2ogr.
>
>  I would encourage you to file a ticket on the shapefile driver suggestion
>  if you feel reasonably strongly about it - though I'm not sure when the issue
>  will be acted on.
>
>  Best regards,
>
> --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From chowell at pyxisinnovation.com  Tue Mar 11 23:25:20 2008
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Tue Mar 11 23:25:21 2008
Subject: [gdal-dev] Building with SEH
Message-ID: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>

Hi All, 

Currently there is an error with one of the drivers in OGR whereby if a corrupted or just generally malformatted shape file is attempted to be opened through OGR, there is an exception that is generated in the VC Runtime, where OGR completely crashes and I can't trap the exception to handle it at application level because the runtime is crashing. What I am wondering about is there a way I can compile GDAL with SEH enbabled turning exceptions that are generated at the OS level into standard C++ exceptions I can trap and handle appropriately ? I looked in the make file and the options file and didn't seen anything obvious. 

Any light anyone can shed on this would be greatly appreciated. 

Cheers
Chris Howell
Software Engineer
the PYXIS innovation
www.pyxisinnovation.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080311/8b98de1e/attachment-0001.html
From mchapman at texelinc.com  Tue Mar 11 23:44:00 2008
From: mchapman at texelinc.com (mchapman@texelinc.com)
Date: Tue Mar 11 23:47:40 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
Message-ID: <223327629-1205293657-cardhu_decombobulator_blackberry.rim.net-136756089-@bxe144.bisx.prod.on.blackberry>

Chris,

I would handle an error like this by stepping through the gdal source code file with your debugger and try to see what line and what file it is crashing on.  Is the gdal .pdb file in the same directory as your application exe? Are you able to step into the gdal source with your debugger on the call that crashes gdal (f11)? There is most likely a null pointer being used somewhere is my guess.  If you can't solve it send me the bad shape file and I will look at it.

Best regards,
Martin

Sent via BlackBerry by AT&T

-----Original Message-----
From: "Chris Howell" <chowell@pyxisinnovation.com>

Date: Tue, 11 Mar 2008 22:25:20 
To:<gdal-dev@lists.osgeo.org>
Subject: [gdal-dev] Building with SEH


Hi All,
 
 Currently there is an error with one of the drivers in OGR whereby if a corrupted or just generally malformatted shape file is attempted to be opened through OGR, there is an exception that is generated in the VC Runtime, where OGR completely crashes and I can't trap the exception to handle it at application level because the runtime is crashing. What I am wondering about is there a way I can compile GDAL with SEH enbabled turning exceptions that are generated at the OS level into standard C++ exceptions I can trap and handle appropriately ? I looked in the make file and the options file and didn't seen anything obvious.
 
 Any light anyone can shed on this would be greatly appreciated.
 
 Cheers
 Chris Howell
 Software Engineer
 the PYXIS innovation
 www.pyxisinnovation.com
 _______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From ari.jolma at tkk.fi  Wed Mar 12 04:25:06 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Mar 12 04:23:44 2008
Subject: [gdal-dev] Swig wrappers: single dll
Message-ID: <47D79362.8090900@tkk.fi>

I'd like to put the wrappers into one DLL and also simplify the wrapper 
build process in Perl

Right now there are two obstacles:

1) there are similar GetDriver* functions in gdal and ogr
2) both include exception functions

I think I'm going to rename the GetDriver* functions for Perl in the 
core i-files -- but rename them back to the old ones in the Perl-layer, 
to keep the API unchanged.

The exception functions, I think I'm going to just remove from ogr for Perl.

Both of these add a few #ifdef's to the core i-functions.

This helps me to make the now cumbersome Perl wrapper build process 
nice, simple and standard.

Cheers,

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From daniele.romagnoli at geo-solutions.it  Wed Mar 12 05:01:29 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Wed Mar 12 05:01:30 2008
Subject: [gdal-dev] Question about NITF CADRG data file extensions.
In-Reply-To: <200803111957.18688.even.rouault@mines-paris.org>
References: <7221db410803110755h767eb0d8tc0b95f6b1ef9887a@mail.gmail.com>
	<001901c88392$73c93850$5b5ba8f0$@com>
	<200803111957.18688.even.rouault@mines-paris.org>
Message-ID: <7221db410803120201t70b60718j8a4888f9d23ecbf9@mail.gmail.com>

Thx to Martin and Even for the useful information.

Best Regards,
Daniele Romagnoli


On Tue, Mar 11, 2008 at 7:57 PM, Even Rouault <even.rouault@mines-paris.org>
wrote:

> Daniele,
>
> From GDAL 1.5.0, there is a RPFTOC driver that can read the A.TOC file and
> reports a list of subdatasets. These subdatasets can then be opened with
> GDAL
> and they'll provide the list of frame files in metadata. See
> http://www.gdal.org/frmt_various.html#RPFTOC.
>
> To answer exactly to your question, you can have a look at the
> frmts/nitf/nitffile.c file in the GDAL source tree, in particularly the
> array 'nitfSeries' at the end of the file. The first column gives the
> first 2
> letters of the possible extensions. If you add as the third character the
> figures from 1 to 9 (corresponding to the 9 ARC zones), you'll have all
> the
> possible extensions.  So you have .gn1 to .gn9, .on1 to .on9, .jn1
> to .jn9, .tp1 to .tp9, .jg1 to .jg9, .ja1 to .ja9, .tl1 to .tl9, etc...
> (from
> my experience, these are the extensions that'll cover 90% of the typical
> available CADRG products)
>
>
> Le Tuesday 11 March 2008 17:10:39 Martin Chapman, vous avez ?crit :
> > Daniele,
> >
> >
> >
> > The RPF specification is MILSTD-2411 which has a couple of addendums and
> > all can be found at http://earth-info.nga.mil/publications/specs/ .  The
> > basic structure of an RPF file is a root directory named RPF which
> contains
> > a file named a.toc which means "Table of Contents".  That file is a
> > database of boundaries and frames files that make up the various images
> > within the RPF file.  The boundaries constitute a group of adjacent
> frame
> > files that together make a scene or image.  Each frame file is 1536 x
> 1536
> > pixels and is formatted as an NITF file.  The frame files live within or
> > below the RPF directory in other directories and the file name is a key
> > that denotes the series, scale, zone and other information.  If you
> cannot
> > open the frame files because your viewer wants an .ntf extension, just
> > change the extension to .ntf and it will open in your viewer.  Then RPF
> is
> > split into two types, Compressed Arc Digital Raster Graphics (CADRG) and
> > Controlled Image Base (CIB).  The first is a vector map that has one
> band
> > and a color table where the second is a one band gray scale image.  The
> > main file you should be opening is always a.toc and then you should use
> the
> > toc to retrieve whatever boundary and frame info you want.  The toc has
> the
> > file paths for each of the frames files for a given boundary.
> >
> >
> >
> > Hope this helps!
> >
> >
> >
> > Best regards,
> >
> > Martin Chapman
> >
> >
> >
> > From: gdal-dev-bounces@lists.osgeo.org
> > [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Daniele Romagnoli
> > Sent: Tuesday, March 11, 2008 8:55 AM
> > To: gdal-dev@lists.osgeo.org
> > Subject: [gdal-dev] Question about NITF CADRG data file extensions.
> >
> >
> >
> > Hi list,
> > I have a trivial question about the supported/existing Nitf CADRG data
> file
> > extensions.
> >
> > In the ImageIO-Ext project, I'm setting up a NITF plugin (leveraging on
> > GDAL).
> > The ImageReaderSpi of each ImageIO reader could specify the suffixes
> which
> > the format specific plugin is able to support.
> > Actually, I'm interested in CADRG format extensions. Thus, my silly
> > question is:
> > Which file extensions exist for the NITF CADRG format?
> >
> > After a "quick and random" search, I have found some ".on1", ".on2",
> ".on5"
> > file extensions for Operational Navigation Chart and ".tp4" file
> extension
> > for Tactical Pilotage Chart.
> > I'm pretty sure there are ".onX" and ".tpX" (where X is a number) file
> > extensions. Can someone give me some advice on this?
> >
> > Thank you very much.
> >
> > Best regards,
> > Daniele
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/b62de8d9/attachment.html
From bclay at ball.com  Wed Mar 12 10:32:38 2008
From: bclay at ball.com (Clay, Bruce)
Date: Wed Mar 12 10:51:40 2008
Subject: [gdal-dev] Create occurance dataset
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFDE1@daytonmsg2k3.AERO.BALL.COM>

I need to create an occurrence vector dataset from an existing point
dataset.  The original dataset is in GCS WGS84 so it does not lend it
self to finding all of the points within a 1 km cell.  The dataset is
worldwide coverage of MODIS fire data so projecting into a single UTM
zone won't work well either.  My current plan is to use OGR to transform
the WGS84 data into a projected worldwide spatial reference system.

 

Before I tackle this I wanted to know:

if there is already a built in method I have not found to "bin" (sort
into 1km cells) geospatial data and

if this method makes sense and

if someone has a fast algorithm to do the data bin operation

 

Any thoughts would be greatly appreciated.

 

Bruce

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/de952aaa/attachment.html
From chowell at pyxisinnovation.com  Wed Mar 12 11:36:34 2008
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Wed Mar 12 11:36:37 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <223327629-1205293657-cardhu_decombobulator_blackberry.rim.net-136756089-@bxe144.bisx.prod.on.blackberry>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<223327629-1205293657-cardhu_decombobulator_blackberry.rim.net-136756089-@bxe144.bisx.prod.on.blackberry>
Message-ID: <47D7F882.40508@pyxisinnovation.com>

Hi Martin,

Thanks for your suggestion. You raise an a good point and I suspect that
it is indeed a null pointer. However my issue is with an application
built on top of GDAL if this is an issue now. I can fix this one off
issue in the OGR commit my changes back and all is well. However the
users of my company's application aren't going to understand that the
file is corrupted and the file driving engine, developed by a third
party, they're going to see a crash as something wrong with software.
They may or may not comment on every file they can't open or every crash
that happens. My experience is they will not. Fixing this one issue is
good and I am all to happy to do it. However in general it's not as
robust of an error handling scheme as we need to have in our
application. Therefore I still think it's better to make use of
Structured Exception Handling. Which allows us my company the most
robust error handling scheme that we can provide and saves our face when
our users are using the software.

Cheers
Chris Howell

mchapman@texelinc.com wrote:
> Chris,
>
> I would handle an error like this by stepping through the gdal source code file with your debugger and try to see what line and what file it is crashing on.  Is the gdal .pdb file in the same directory as your application exe? Are you able to step into the gdal source with your debugger on the call that crashes gdal (f11)? There is most likely a null pointer being used somewhere is my guess.  If you can't solve it send me the bad shape file and I will look at it.
>
> Best regards,
> Martin
>
> Sent via BlackBerry by AT&T
>
> -----Original Message-----
> From: "Chris Howell" <chowell@pyxisinnovation.com>
>
> Date: Tue, 11 Mar 2008 22:25:20 
> To:<gdal-dev@lists.osgeo.org>
> Subject: [gdal-dev] Building with SEH
>
>
> Hi All,
>  
>  Currently there is an error with one of the drivers in OGR whereby if a corrupted or just generally malformatted shape file is attempted to be opened through OGR, there is an exception that is generated in the VC Runtime, where OGR completely crashes and I can't trap the exception to handle it at application level because the runtime is crashing. What I am wondering about is there a way I can compile GDAL with SEH enbabled turning exceptions that are generated at the OS level into standard C++ exceptions I can trap and handle appropriately ? I looked in the make file and the options file and didn't seen anything obvious.
>  
>  Any light anyone can shed on this would be greatly appreciated.
>  
>  Cheers
>  Chris Howell
>  Software Engineer
>  the PYXIS innovation
>  www.pyxisinnovation.com
>  _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   
> ------------------------------------------------------------------------
>
> No virus found in this incoming message.
> Checked by AVG Free Edition. 
> Version: 7.5.516 / Virus Database: 269.21.4/1313 - Release Date: 3/5/2008 9:50 AM
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/8e2af9b0/attachment-0001.html
From warmerdam at pobox.com  Wed Mar 12 11:51:31 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 12 11:52:05 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <47D7F882.40508@pyxisinnovation.com>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<223327629-1205293657-cardhu_decombobulator_blackberry.rim.net-136756089-@bxe144.bisx.prod.on.blackberry>
	<47D7F882.40508@pyxisinnovation.com>
Message-ID: <47D7FC03.3020207@pobox.com>

Chris Howell wrote:
> Hi Martin,
> 
> Thanks for your suggestion. You raise an a good point and I suspect that
> it is indeed a null pointer. However my issue is with an application
> built on top of GDAL if this is an issue now. I can fix this one off
> issue in the OGR commit my changes back and all is well. However the
> users of my company's application aren't going to understand that the
> file is corrupted and the file driving engine, developed by a third
> party, they're going to see a crash as something wrong with software.
> They may or may not comment on every file they can't open or every crash
> that happens. My experience is they will not. Fixing this one issue is
> good and I am all to happy to do it. However in general it's not as
> robust of an error handling scheme as we need to have in our
> application. Therefore I still think it's better to make use of
> Structured Exception Handling. Which allows us my company the most
> robust error handling scheme that we can provide and saves our face when
> our users are using the software.

Chris,

It is clearly desirable to offer robust error recovery for GDAL.  But I'm
not at all clear on the terms you are using.  Is SEH just normal C++
exceptions?  Does this term mean something special?  Is this some special
way of handling things that would normally trigger crashes, like accessing
through a NULL pointer?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Wed Mar 12 12:27:08 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Mar 12 12:27:11 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <47D7FC03.3020207@pobox.com>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<223327629-1205293657-cardhu_decombobulator_blackberry.rim.net-136756089-@bxe144.bisx.prod.on.blackberry>
	<47D7F882.40508@pyxisinnovation.com> <47D7FC03.3020207@pobox.com>
Message-ID: <f3b73b7d0803120927o6aa6241fsbb3aa958b4401994@mail.gmail.com>

I'm a bit hesitant to think that the SEH and the C++ exception
handling may work together properly eg. when crossing the boundaries
of the GDAL C API. I consider the exceptions should be caught in the
same environment where it have been thrown, definitely. For example if
you catch a C++ exception raised by a C++ function exported by a dll
using the __try/__except SEH mechanism, the C++ exception won't
properly be unwinded by the C++ exception handler because the SEH
handler won't propagate the exception code correctly to the C++
handler.

BTW we are using the /EHsc option for msvc by default. This tells the
compiler to assume that extern C functions never throw a C++ exception

Best regards,

Tamas



2008/3/12, Frank Warmerdam <warmerdam@pobox.com>:
> Chris Howell wrote:
>  > Hi Martin,
>  >
>  > Thanks for your suggestion. You raise an a good point and I suspect that
>  > it is indeed a null pointer. However my issue is with an application
>  > built on top of GDAL if this is an issue now. I can fix this one off
>  > issue in the OGR commit my changes back and all is well. However the
>  > users of my company's application aren't going to understand that the
>  > file is corrupted and the file driving engine, developed by a third
>  > party, they're going to see a crash as something wrong with software.
>  > They may or may not comment on every file they can't open or every crash
>  > that happens. My experience is they will not. Fixing this one issue is
>  > good and I am all to happy to do it. However in general it's not as
>  > robust of an error handling scheme as we need to have in our
>  > application. Therefore I still think it's better to make use of
>  > Structured Exception Handling. Which allows us my company the most
>  > robust error handling scheme that we can provide and saves our face when
>  > our users are using the software.
>
>
> Chris,
>
>  It is clearly desirable to offer robust error recovery for GDAL.  But I'm
>  not at all clear on the terms you are using.  Is SEH just normal C++
>  exceptions?  Does this term mean something special?  Is this some special
>  way of handling things that would normally trigger crashes, like accessing
>  through a NULL pointer?
>
>  Best regards,
>
> --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From woklist at kyngchaos.com  Wed Mar 12 13:59:07 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Mar 12 13:59:12 2008
Subject: [gdal-dev] HDF5 1.8?  DAP 3.8?
Message-ID: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>

I was checkup on dependencies and saw a couple major updates.  Any  
thoughts on their support in GDAL?

- DAP++ 3.8 - defines own namespace.  Sounds like it could cause  
trouble in the DODS driver?

- HDF5 1.8 - new features, but says it mostly retains old APIs, so  
could be OK?

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan


From even.rouault at mines-paris.org  Wed Mar 12 15:23:43 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Mar 12 15:23:49 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <f3b73b7d0803120927o6aa6241fsbb3aa958b4401994@mail.gmail.com>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<47D7FC03.3020207@pobox.com>
	<f3b73b7d0803120927o6aa6241fsbb3aa958b4401994@mail.gmail.com>
Message-ID: <200803122023.44620.even.rouault@mines-paris.org>

I won't really answer on the SEH part. I think that you'll still have to live 
with the fact that a remaining bug may cause memory corruption etc that will 
cause bugs elsewhere, etc... My experience showed me that If you really want 
to be sure that some library won't crash your application, the only reliable 
solution is to link it to a process with which your main application 
communicates through TCP/IP, pipes, or whatever... Or to provide enough 
information to help us fix the bugs.
So, as far as broken shapefiles are concerned, there's a pending patch to 
shapelib attached to http://trac.osgeo.org/gdal/ticket/2218. This would be 
great if you could test it on your broken shapefiles and report if that 
solves your problem.

Best regards,
Even
From cjanssen at iavo-rs.com  Wed Mar 12 15:48:00 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Wed Mar 12 15:48:05 2008
Subject: [gdal-dev] Shapefile OGR question/concern
Message-ID: <D00C1ADC-BC97-4A5C-B720-5A042AFD7E33@iavo-rs.com>

Hi all,
I'm having an issue with the Shapefile driver within OGR. When exporting data from an OGRDataset to a shapefile I'm required to add an additional "closing point" (ie repeat the first point at the end) for the resultant shapefile to be correctly recognized in other viewers (I realize the shapefile spec calls for this). The problem is that other formats do not require this closing point (eg KML) and adding the additional point results in additional point being written to the outputted file, not what I would believe to be correct. It would seem then that depending on my output I would have to reformat my data, seemling defeating the purpose of having an interfaced method library like OGR. Am I incorrect in my assumption and/or is there another intended way to do this correctly. 

Christiaan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/b7013c9a/attachment.html
From mchapman at texelinc.com  Wed Mar 12 16:05:23 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Wed Mar 12 16:05:34 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <200803122023.44620.even.rouault@mines-paris.org>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>	<47D7FC03.3020207@pobox.com>	<f3b73b7d0803120927o6aa6241fsbb3aa958b4401994@mail.gmail.com>
	<200803122023.44620.even.rouault@mines-paris.org>
Message-ID: <003c01c8847c$68a7fcf0$39f7f6d0$@com>

Even,

I am using gdal 1.5.0 on windows xp pro and the buggy shape did indeed crash
my application.  I see the fix but I was wondering if there will be a 1.5.1
release soon?  Also, thanks for the info on this fix.

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Even Rouault
Sent: Wednesday, March 12, 2008 1:24 PM
To: Chris Howell
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Building with SEH

I won't really answer on the SEH part. I think that you'll still have to
live 
with the fact that a remaining bug may cause memory corruption etc that will

cause bugs elsewhere, etc... My experience showed me that If you really want

to be sure that some library won't crash your application, the only reliable

solution is to link it to a process with which your main application 
communicates through TCP/IP, pipes, or whatever... Or to provide enough 
information to help us fix the bugs.
So, as far as broken shapefiles are concerned, there's a pending patch to 
shapelib attached to http://trac.osgeo.org/gdal/ticket/2218. This would be 
great if you could test it on your broken shapefiles and report if that 
solves your problem.

Best regards,
Even
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nikos.alexandris at felis.uni-freiburg.de  Wed Mar 12 16:05:34 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Mar 12 16:05:43 2008
Subject: [gdal-dev] Shapefile OGR question/concern
In-Reply-To: <D00C1ADC-BC97-4A5C-B720-5A042AFD7E33@iavo-rs.com>
References: <D00C1ADC-BC97-4A5C-B720-5A042AFD7E33@iavo-rs.com>
Message-ID: <1205352334.32107.7.camel@vertical>

On Wed, 2008-03-12 at 15:48 -0400, Christiaan Janssen wrote:
> Hi all,
> I'm having an issue with the Shapefile driver within OGR. When
> exporting data from an OGRDataset to a shapefile I'm required to add
> an additional "closing point" (ie repeat the first point at the end)
> for the resultant shapefile to be correctly recognized in other
> viewers (I realize the shapefile spec calls for this). The problem is
> that other formats do not require this closing point (eg KML) and
> adding the additional point results in additional point being written
> to the outputted file, not what I would believe to be correct. It
> would seem then that depending on my output I would have to reformat
> my data, seemling defeating the purpose of having an interfaced method
> library like OGR. Am I incorrect in my assumption and/or is there
> another intended way to do this correctly. 

I am sure that you will get "better" replies to this from the Experts.
But I'll give it a shot since I had a similar issue.

The "closing point" has to be there in case you are dealing with closed
polygons (areas). Without it (in other words without first and last
point identical) polygons are not really "closed" and therefore
topologically not "clean".

Non-topological formats like ESRI Shapefiles can live with that and
therefore cleaning is highly recommended.

.

Some weeks ago I was trying to import KML's polygons into GRASS the data
appeared broken (open polygons, missing lines (?) and even a centroid
falling outside an area (?))


>  
> Christiaan

Cheers,

Nikos
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nikos.alexandris at felis.uni-freiburg.de  Wed Mar 12 16:09:45 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Mar 12 16:09:49 2008
Subject: [gdal-dev] Shapefile OGR question/concern
In-Reply-To: <1205352334.32107.7.camel@vertical>
References: <D00C1ADC-BC97-4A5C-B720-5A042AFD7E33@iavo-rs.com>
	<1205352334.32107.7.camel@vertical>
Message-ID: <1205352585.32107.10.camel@vertical>


On Wed, 2008-03-12 at 21:05 +0100, Nikos Alexandris wrote:
> On Wed, 2008-03-12 at 15:48 -0400, Christiaan Janssen wrote:
> > Hi all,
> > I'm having an issue with the Shapefile driver within OGR. When
> > exporting data from an OGRDataset to a shapefile I'm required to add
> > an additional "closing point" (ie repeat the first point at the end)
> > for the resultant shapefile to be correctly recognized in other
> > viewers (I realize the shapefile spec calls for this). The problem is
> > that other formats do not require this closing point (eg KML) and
> > adding the additional point results in additional point being written
> > to the outputted file, not what I would believe to be correct. It
> > would seem then that depending on my output I would have to reformat
> > my data, seemling defeating the purpose of having an interfaced method
> > library like OGR. Am I incorrect in my assumption and/or is there
> > another intended way to do this correctly. 
> 
> I am sure that you will get "better" replies to this from the Experts.
> But I'll give it a shot since I had a similar issue.
> 
> The "closing point" has to be there in case you are dealing with closed
> polygons (areas). Without it (in other words without first and last
> point identical) polygons are not really "closed" and therefore
> topologically not "clean".
> 
> Non-topological formats like ESRI Shapefiles can live with that and
> therefore cleaning is highly recommended.
> 
> .
> 
> Some weeks ago I was trying to import KML's polygons into GRASS the data
> appeared broken (open polygons, missing lines (?) and even a centroid
> falling outside an area (?))

I hope I added more questions (rather than answering) so I understand
all this bymyself ;-P

Any KML experts?

From warmerdam at pobox.com  Wed Mar 12 17:14:17 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 12 17:14:42 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <003c01c8847c$68a7fcf0$39f7f6d0$@com>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<47D7FC03.3020207@pobox.com>
	<f3b73b7d0803120927o6aa6241fsbb3aa958b4401994@mail.gmail.com>
	<200803122023.44620.even.rouault@mines-paris.org>
	<003c01c8847c$68a7fcf0$39f7f6d0$@com>
Message-ID: <47D847A9.7010107@pobox.com>

Martin Chapman wrote:
> Even,
> 
> I am using gdal 1.5.0 on windows xp pro and the buggy shape did indeed crash
> my application.  I see the fix but I was wondering if there will be a 1.5.1
> release soon?  Also, thanks for the info on this fix.

Martin,

My plan it to produce a 1.5.1 release *very soon*.  Is the shapefile fix
applied to the 1.5 branch?  If there are priority fixes that need to get
into 1.5.1 they need to be either done, or brought to my attention (as a
Trac ticket) soon.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From bclay at ball.com  Wed Mar 12 17:33:02 2008
From: bclay at ball.com (Clay, Bruce)
Date: Wed Mar 12 17:33:06 2008
Subject: [gdal-dev] Create Coordinate Transformation always returns NULL
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFDE3@daytonmsg2k3.AERO.BALL.COM>

I am trying to create a transformation from WGS 84 to a projected
system.  I have tried several but create transform always returns NULL.

The code I am using is essentially the reverse sequence as shown in the
OSR tutorial.  That is that the example went from a projected frame to a
geodetic frame.

The returned status for each of the steps is 0 so it looks like
everything should work and this type of transform is fairly common so I
would think it should be supported by proj4 but I don't see anything in
the proj4 docs that describe what types are supported.

 

Any ideas would be greatly appreciated

 

Bruce

 

////////////////////////////////////////////////////////////////////////
///////

OGRCoordinateTransformation *GdalWrapper::CreateWellKnownTransformation(

                  const char *srcWngcsSrs, const char *destWngcsSrs)

{

      int status = -1;

      OGRErr ogrStatus;

      OGRCoordinateTransformation *coordTransPtr = NULL;

 

      OGRSpatialReference srcSpatialRef;

      OGRSpatialReference destSpatialRef;

 

      ogrStatus = srcSpatialRef.SetWellKnownGeogCS("WGS84");

 

      if (ogrStatus == 0)

      {

            ogrStatus = destSpatialRef.SetProjCS("UTM 17 / WGS84" );

            ogrStatus = destSpatialRef.SetWellKnownGeogCS( "WGS84" );

            ogrStatus = destSpatialRef.SetUTM( 17, TRUE );

 

            if (ogrStatus == 0)

            {

                  coordTransPtr = OGRCreateCoordinateTransformation(

                              &srcSpatialRef, &destSpatialRef);

            }

      }

      return(coordTransPtr);

}

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/316740f3/attachment-0001.html
From ari.jolma at tkk.fi  Wed Mar 12 17:37:48 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Mar 12 17:36:26 2008
Subject: [gdal-dev] Swig wrappers: single dll
In-Reply-To: <47D79362.8090900@tkk.fi>
References: <47D79362.8090900@tkk.fi>
Message-ID: <47D84D2C.2000903@tkk.fi>

I wrote:
> I'd like to put the wrappers into one DLL and also simplify the 
> wrapper build process in Perl
Does not seem to work. One wrapper code generated by Swig must be put 
into one DLL.

But, anyway, I found some bugs while doing this and will continue trying 
to make building Geo::GDAL module against binary (but development, with 
header files etc) distribution of GDAL more smooth.

Cheers,

Ari


From even.rouault at mines-paris.org  Wed Mar 12 17:36:34 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed Mar 12 17:36:40 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <47D847A9.7010107@pobox.com>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<003c01c8847c$68a7fcf0$39f7f6d0$@com> <47D847A9.7010107@pobox.com>
Message-ID: <200803122236.35969.even.rouault@mines-paris.org>

Frank,

No, it's not in 1.5 branch, and not even in trunk, as this is a patch to 
shpopen.c, and if I understood well the process, you generally prefer that 
it's commited in shapelib first.
(By the way, I also submitted a similar patch to the shapelib version of 
mapserver that was applied a few weeks ago)

Le Wednesday 12 March 2008 22:14:17 Frank Warmerdam, vous avez ?crit?:
> Martin Chapman wrote:
> > Even,
> >
> > I am using gdal 1.5.0 on windows xp pro and the buggy shape did indeed
> > crash my application.  I see the fix but I was wondering if there will be
> > a 1.5.1 release soon?  Also, thanks for the info on this fix.
>
> Martin,
>
> My plan it to produce a 1.5.1 release *very soon*.  Is the shapefile fix
> applied to the 1.5 branch?  If there are priority fixes that need to get
> into 1.5.1 they need to be either done, or brought to my attention (as a
> Trac ticket) soon.
>
> Best regards,


From cjanssen at iavo-rs.com  Wed Mar 12 18:03:01 2008
From: cjanssen at iavo-rs.com (Christiaan Janssen)
Date: Wed Mar 12 18:03:36 2008
Subject: [gdal-dev] Shapefile OGR question/concern
In-Reply-To: 1205352585.32107.10.camel@vertical
Message-ID: <20080312220301.77673a77@smtp.iavo-rs.com>

I understand the need for the first and last point but what I don't understand is why it is not handled appropriately (in my opinion) per format. If KML only wants 4 points for a rectangle and other formats want 5 (first and last point the same) why doesn't the import/export function build the shape to an internal standard (ie have everything load in with the first point repeated at the end). I tried importing a shapefile into an OGRDataset and then exported it out to KML only to have Google Earth hang on the resultant KML file. This obviosuly implies that I would have to implement vector format specific implementations, is there a reason for this?  
   
Christiaan
      _____  

  From: Nikos Alexandris [mailto:nikos.alexandris@felis.uni-freiburg.de]
To: Christiaan Janssen [mailto:cjanssen@iavo-rs.com]
Cc: gdal-dev@lists.osgeo.org [mailto:gdal-dev@lists.osgeo.org]
Sent: Wed, 12 Mar 2008 16:09:45 -0400
Subject: Re: [gdal-dev] Shapefile OGR question/concern


On Wed, 2008-03-12 at 21:05 +0100, Nikos Alexandris wrote:
> On Wed, 2008-03-12 at 15:48 -0400, Christiaan Janssen wrote:
> > Hi all,
> > I'm having an issue with the Shapefile driver within OGR. When
> > exporting data from an OGRDataset to a shapefile I'm required to add
> > an additional "closing point" (ie repeat the first point at the end)
> > for the resultant shapefile to be correctly recognized in other
> > viewers (I realize the shapefile spec calls for this). The problem is
> > that other formats do not require this closing point (eg KML) and
> > adding the additional point results in additional point being written
> > to the outputted file, not what I would believe to be correct. It
> > would seem then that depending on my output I would have to reformat
> > my data, seemling defeating the purpose of having an interfaced method
> > library like OGR. Am I incorrect in my assumption and/or is there
> > another intended way to do this correctly. 
> 
> I am sure that you will get "better" replies to this from the Experts.
> But I'll give it a shot since I had a similar issue.
> 
> The "closing point" has to be there in case you are dealing with closed
> polygons (areas). Without it (in other words without first and last
> point identical) polygons are not really "closed" and therefore
> topologically not "clean".
> 
> Non-topological formats like ESRI Shapefiles can live with that and
> therefore cleaning is highly recommended.
> 
> .
> 
> Some weeks ago I was trying to import KML's polygons into GRASS the data
> appeared broken (open polygons, missing lines (?) and even a centroid
> falling outside an area (?))

I hope I added more questions (rather than answering) so I understand
all this bymyself ;-P

Any KML experts?

      
   
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/f4da47d4/attachment.html
From mchapman at texelinc.com  Wed Mar 12 19:01:48 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Wed Mar 12 19:01:59 2008
Subject: [gdal-dev] Building with SEH
In-Reply-To: <47D847A9.7010107@pobox.com>
References: <8B5901C2B9E9094AA4028CF5E33980D702AEF9@aristotle.PyxisInnovation.local>
	<47D7FC03.3020207@pobox.com>
	<f3b73b7d0803120927o6aa6241fsbb3aa958b4401994@mail.gmail.com>
	<200803122023.44620.even.rouault@mines-paris.org>
	<003c01c8847c$68a7fcf0$39f7f6d0$@com> <47D847A9.7010107@pobox.com>
Message-ID: <007701c88495$0dbbbca0$293335e0$@com>

Frank,

It looks like it's in there as a ticket already.
http://trac.osgeo.org/gdal/ticket/2218.

Best regards,
Martin


-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Wednesday, March 12, 2008 3:14 PM
To: Martin Chapman
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Building with SEH

Martin Chapman wrote:
> Even,
> 
> I am using gdal 1.5.0 on windows xp pro and the buggy shape did indeed
crash
> my application.  I see the fix but I was wondering if there will be a
1.5.1
> release soon?  Also, thanks for the info on this fix.

Martin,

My plan it to produce a 1.5.1 release *very soon*.  Is the shapefile fix
applied to the 1.5 branch?  If there are priority fixes that need to get
into 1.5.1 they need to be either done, or brought to my attention (as a
Trac ticket) soon.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From nikos.alexandris at felis.uni-freiburg.de  Wed Mar 12 19:22:45 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Wed Mar 12 19:27:42 2008
Subject: [gdal-dev] Shapefile OGR question/concern
In-Reply-To: <20080312220301.77673a77@smtp.iavo-rs.com>
References: <20080312220301.77673a77@smtp.iavo-rs.com>
Message-ID: <1205364165.16541.12.camel@vertical>


On Wed, 2008-03-12 at 18:03 -0400, Christiaan Janssen wrote:
> I understand the need for the first and last point but what I don't
> understand is why it is not handled appropriately (in my opinion) per
> format. If KML only wants 4 points for a rectangle and other formats
> want 5 (first and last point the same) why doesn't the import/export
> function build the shape to an internal standard (ie have everything
> load in with the first point repeated at the end). I tried importing a
> shapefile into an OGRDataset and then exported it out to KML only to
> have Google Earth hang on the resultant KML file. This obviosuly
> implies that I would have to implement vector format specific
> implementations, is there a reason for this?
>  
> Christiaan

I'd also like to hear more about it. A good place to start reading/
searching would is probably http://www.gdal.org/ogr/drv_kml.html



 

From cryan at csse.com.au  Wed Mar 12 21:16:59 2008
From: cryan at csse.com.au (Fodder)
Date: Wed Mar 12 21:17:01 2008
Subject: [Gdal-dev] Fastest Read/Write Supported DEM Format
Message-ID: <16019276.post@talk.nabble.com>


Hi,

I am trying to decide on the best format to store some internal raster DEMs
in my application (ie., single band single or double precision grids).

I was wondering which grid format/GDAL driver combination that is supported
in both Read/Write is the fastest for frequent RasterIO operations for
displaying the rasters.

Disk space is also a consideration but secondary to display speed.

Cheers,

Fodder
-- 
View this message in context: http://www.nabble.com/Fastest-Read-Write-Supported-DEM-Format-tp16019276p16019276.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From javierurien+gdal at gmail.com  Wed Mar 12 21:38:04 2008
From: javierurien+gdal at gmail.com (Javier Urien)
Date: Wed Mar 12 21:38:07 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>
Message-ID: <d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>

On Wed, Mar 12, 2008 at 3:59 PM, William Kyngesburye
<woklist@kyngchaos.com> wrote:
> I was checkup on dependencies and saw a couple major updates.  Any
>  thoughts on their support in GDAL?
>
>  - DAP++ 3.8 - defines own namespace.  Sounds like it could cause
>  trouble in the DODS driver?
>
>  - HDF5 1.8 - new features, but says it mostly retains old APIs, so
>  could be OK?
>

I am using gdal with HDF5 1.8 and if you compile it so that it uses
APIv1.6 (forgot the configure flag) it works fine.

Regards.
From rob.braswell at unh.edu  Wed Mar 12 23:03:34 2008
From: rob.braswell at unh.edu (Bobby Braswell)
Date: Wed Mar 12 23:03:36 2008
Subject: [gdal-dev] bus error writing geotiff with LZW
Message-ID: <B955D74E-6FAA-44AA-AEFA-9A95F8F61DA2@unh.edu>


Hi,

I have been unable to write a 2400x2400, 7 band image using the  
geotiff driver and LZW in GDAL/Python. The code is below (using random  
ints just for testing), which dies with the message "bus error"  
immediately after printing "band 6". If I reduce the number of bands  
or the array dimensions then the error goes away. Likewise if I remove  
the compression. Maybe someone could tell me if this is expected, or  
if maybe what I'm doing just doesn't make sense? Thank you,

Rob Braswell


from osgeo import gdal
from osgeo.gdalconst import *
import numpy

FORMAT = 'GTiff'
DATATYPE = GDT_Int16
OPTIONS = ['COMPRESS=LZW']
outfile='foo.tif'
xsize = 2400
ysize = xsize
nbands = 7

driver = gdal.GetDriverByName(FORMAT)
f = driver.Create(outfile, xsize, ysize, nbands, DATATYPE, OPTIONS)
for i in range(nbands):
	x = numpy.random.randint(0,1000,(xsize,ysize))
	print "band",i+1
	o = f.GetRasterBand(i+1)
	o.WriteArray(x)

f = None

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080312/2cc3201c/attachment-0001.html
From woklist at kyngchaos.com  Wed Mar 12 23:15:55 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Mar 12 23:16:04 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <d2595b180803121150u38c9b494x7e8fa9007f8442ba@mail.gmail.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>
	<d2595b180803121150u38c9b494x7e8fa9007f8442ba@mail.gmail.com>
Message-ID: <1CE10807-510C-4DA8-A9E4-53DE7BC6CDB7@kyngchaos.com>

On Mar 12, 2008, at 1:50 PM, personaje wrote:

> On Wed, Mar 12, 2008 at 3:59 PM, William Kyngesburye
> <woklist@kyngchaos.com> wrote:
>> I was checkup on dependencies and saw a couple major updates.  Any
>> thoughts on their support in GDAL?
>>
>> - DAP++ 3.8 - defines own namespace.  Sounds like it could cause
>> trouble in the DODS driver?
>>
>> - HDF5 1.8 - new features, but says it mostly retains old APIs, so
>> could be OK?
>>
>
> I am using gdal with HDF5 1.8 and if you compile it so that it uses
> APIv1.6 (forgot the configure flag) it works fine.
>
> Regards.


Thanks, I'll give that a try.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

First Pogril: Why is life like sticking your head in a bucket filled  
with hyena offal?
Second Pogril: I don't know.  Why IS life like sticking your head in a  
bucket filled with hyena offal?
First Pogril: I don't know either.  Wretched, isn't it?

-HitchHiker's Guide to the Galaxy


From ivan.lucena at pmldnet.com  Thu Mar 13 08:25:49 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Mar 13 08:25:52 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>
	<d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>
Message-ID: <47D91D4D.50902@pmldnet.com>

Javier,

I believe that the configuration flag is H5_USE_16API.

Did you apply this flag to the HDF library or to the HDF5 driver in GDAL?

Best regards,

Ivan

Javier Urien wrote:
> I am using gdal with HDF5 1.8 and if you compile it so that it uses
> APIv1.6 (forgot the configure flag) it works fine.
From ivan.lucena at pmldnet.com  Thu Mar 13 09:00:51 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Mar 13 09:00:53 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <47D91D4D.50902@pmldnet.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>	<d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>
	<47D91D4D.50902@pmldnet.com>
Message-ID: <47D92583.4080206@pmldnet.com>

Javier,

Never mind. I've got it. I downloaded the binaries for VC2005 and added 
the flag to frmts\hdf5\makefile.vc and it is seams to be working.

One question:

Since the HDF5 driver is read-only, do you know of any free tool that 
converts from bigtiff (or other GDAL big raster container) to HDF5?

Thanks

Ivan

Lucena, Ivan wrote:
> Javier,
> 
> I believe that the configuration flag is H5_USE_16API.
> 
> Did you apply this flag to the HDF library or to the HDF5 driver in GDAL?
> 
> Best regards,
> 
> Ivan
> 
> Javier Urien wrote:
>> I am using gdal with HDF5 1.8 and if you compile it so that it uses
>> APIv1.6 (forgot the configure flag) it works fine.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From bclay at ball.com  Thu Mar 13 09:54:38 2008
From: bclay at ball.com (Clay, Bruce)
Date: Thu Mar 13 09:54:41 2008
Subject: [gdal-dev] Create Coordinate Transformation always returns NULL
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34FEFDE3@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34FEFDE3@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFDE7@daytonmsg2k3.AERO.BALL.COM>

Mystery solved - at least the initial part - My GDAL / OGR build does
not have Proj4 included as a static library and I did not have the DLL
in the execution path.

 

Is there a way to query OGR to get an error message or code that
explains why an operation fails?

 

Bruce

________________________________

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Clay, Bruce
Sent: Wednesday, March 12, 2008 5:33 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Create Coordinate Transformation always returns NULL

 

I am trying to create a transformation from WGS 84 to a projected
system.  I have tried several but create transform always returns NULL.

The code I am using is essentially the reverse sequence as shown in the
OSR tutorial.  That is that the example went from a projected frame to a
geodetic frame.

The returned status for each of the steps is 0 so it looks like
everything should work and this type of transform is fairly common so I
would think it should be supported by proj4 but I don't see anything in
the proj4 docs that describe what types are supported.

 

Any ideas would be greatly appreciated

 

Bruce

 

////////////////////////////////////////////////////////////////////////
///////

OGRCoordinateTransformation *GdalWrapper::CreateWellKnownTransformation(

                  const char *srcWngcsSrs, const char *destWngcsSrs)

{

      int status = -1;

      OGRErr ogrStatus;

      OGRCoordinateTransformation *coordTransPtr = NULL;

 

      OGRSpatialReference srcSpatialRef;

      OGRSpatialReference destSpatialRef;

 

      ogrStatus = srcSpatialRef.SetWellKnownGeogCS("WGS84");

 

      if (ogrStatus == 0)

      {

            ogrStatus = destSpatialRef.SetProjCS("UTM 17 / WGS84" );

            ogrStatus = destSpatialRef.SetWellKnownGeogCS( "WGS84" );

            ogrStatus = destSpatialRef.SetUTM( 17, TRUE );

 

            if (ogrStatus == 0)

            {

                  coordTransPtr = OGRCreateCoordinateTransformation(

                              &srcSpatialRef, &destSpatialRef);

            }

      }

      return(coordTransPtr);

}

 



This message and any enclosures are intended only for the addressee.
Please  
notify the sender by email if you are not the intended recipient.  If
you are  
not the intended recipient, you may not use, copy, disclose, or
distribute this  
message or its contents or enclosures to any other person and any such
actions  
may be unlawful.  Ball reserves the right to monitor and review all
messages  
and enclosures sent to or from this email address.



This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080313/9b7733e1/attachment.html
From javierurien+gdal at gmail.com  Thu Mar 13 10:01:39 2008
From: javierurien+gdal at gmail.com (Javier Urien)
Date: Thu Mar 13 10:01:42 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <47D92583.4080206@pmldnet.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>
	<d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>
	<47D91D4D.50902@pmldnet.com> <47D92583.4080206@pmldnet.com>
Message-ID: <d2595b180803130701l78b868bahf0d2290fb3165bb4@mail.gmail.com>

On Thu, Mar 13, 2008 at 11:00 AM, Lucena, Ivan <ivan.lucena@pmldnet.com> wrote:
> Javier,
>
>  Never mind. I've got it. I downloaded the binaries for VC2005 and added
>  the flag to frmts\hdf5\makefile.vc and it is seams to be working.
>

good to hear that!

The only problem is that this driver is slow.

>  One question:
>
>  Since the HDF5 driver is read-only, do you know of any free tool that
>  converts from bigtiff (or other GDAL big raster container) to HDF5?
>

No, I didn't even know that the HDF5 driver was read only =)

I believe that libhdf5 has methods to create files, it should be a
matter of implementing the GDAL methods passing it to libhdf.

I am currently modifying the HDF5 driver, still very little (optimized
reads using the chunk size), next is georreference, but if I find time
I will try to get into the writing thing...

Regards.
From warmerdam at pobox.com  Thu Mar 13 11:08:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 13 11:08:47 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
Message-ID: <47D9435D.1090204@pobox.com>

Motion: To authorize Frank Warmerdam to negotiate a maintainer contract with
Chris Howell for March to May for up to 17 hours at $17.60 USD/hr.  The
contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
with Frank as designated supervisor.

---

Chris Howell has been responsible for integration of GDAL at PYXIS Innovation.
He has near time availability and an interest in contributing to the project
and I believe he could a valuable contributor.

The contract is only a modest amount of time, but provides a resource in the
near term while Mateusz is unavailable.  The total financial commitment is
$1320 USD, which is substantially less than the amount of money that won't
be invoiced against Mateusz' contract during the idle March/April period.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Thu Mar 13 11:24:06 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 13 11:24:31 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D9435D.1090204@pobox.com>
References: <47D9435D.1090204@pobox.com>
Message-ID: <47D94716.9030708@pobox.com>

Frank Warmerdam wrote:
> Motion: To authorize Frank Warmerdam to negotiate a maintainer contract 
> with
> Chris Howell for March to May for up to 17 hours at $17.60 USD/hr.  The
> contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
> with Frank as designated supervisor.

Sorry folks, the motion should be:

Motion: To authorize Frank Warmerdam to negotiate a maintainer contract with
Chris Howell for March to May for up to 75 hours at $17.60 USD/hr.  The
contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
with Frank as designated supervisor.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From rsoconnor at gmail.com  Thu Mar 13 12:55:54 2008
From: rsoconnor at gmail.com (Rory O'Connor)
Date: Thu Mar 13 12:55:56 2008
Subject: [gdal-dev] Detecting corrupt OVR files
Message-ID: <f549a78e0803130955x50dc87c8i79a6b11fc652e506@mail.gmail.com>

Hi all,

Is there a recommended way of detecting partially created OVR files when
opening GTiffs, etc? I normally try to read the first and last pixel of each
overview of each band and if the read fails then I recreate the OVR file.

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080313/73d5bbcc/attachment.html
From dmorissette at mapgears.com  Thu Mar 13 13:25:15 2008
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu Mar 13 13:25:16 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D94716.9030708@pobox.com>
References: <47D9435D.1090204@pobox.com> <47D94716.9030708@pobox.com>
Message-ID: <47D9637B.1020109@mapgears.com>

Frank Warmerdam wrote:
> 
> Motion: To authorize Frank Warmerdam to negotiate a maintainer contract 
> with
> Chris Howell for March to May for up to 75 hours at $17.60 USD/hr.  The
> contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
> with Frank as designated supervisor.
> 

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
From hobu.inc at gmail.com  Thu Mar 13 13:39:51 2008
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu Mar 13 13:43:13 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D9637B.1020109@mapgears.com>
References: <47D9435D.1090204@pobox.com> <47D94716.9030708@pobox.com>
	<47D9637B.1020109@mapgears.com>
Message-ID: <1DB78B2D-88F2-4664-9857-7D1A6F1E4D5C@gmail.com>


On Mar 13, 2008, at 12:25 PM, Daniel Morissette wrote:

> Frank Warmerdam wrote:
>> Motion: To authorize Frank Warmerdam to negotiate a maintainer  
>> contract with
>> Chris Howell for March to May for up to 75 hours at $17.60 USD/hr.   
>> The
>> contract would be in accordance with RFC 9: GDAL Paid Maintainer  
>> Guidelines
>> with Frank as designated supervisor.
>
> +1

+1
From ivan.lucena at pmldnet.com  Thu Mar 13 15:28:09 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Mar 13 15:28:11 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <d2595b180803130701l78b868bahf0d2290fb3165bb4@mail.gmail.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>	<d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>	<47D91D4D.50902@pmldnet.com>
	<47D92583.4080206@pmldnet.com>
	<d2595b180803130701l78b868bahf0d2290fb3165bb4@mail.gmail.com>
Message-ID: <47D98049.9000302@pmldnet.com>

Javier,

Javier Urien wrote:
> The only problem is that this driver is slow.
> 
> No, I didn't even know that the HDF5 driver was read only =)
> 
> I am currently modifying the HDF5 driver, still very little (optimized
> reads using the chunk size), next is georreference, but if I find time
> I will try to get into the writing thing...

I was about to create some HDF5 for performance evaluation and since I 
am working in Python it seams that would be easier to use PyTables to 
write HDF5 files. I can take data from PyGDAL in numPy arrays and pass 
it to PyTables. But if the driver is slow, why botherPy? :(

- Do you have plans to release the optimized version of the driver?

- Do you have plans to develop the writing portion of the driver?

Best regards,

Ivan



From javierurien+gdal at gmail.com  Thu Mar 13 15:42:29 2008
From: javierurien+gdal at gmail.com (Javier Urien)
Date: Thu Mar 13 15:42:31 2008
Subject: [gdal-dev] HDF5 1.8? DAP 3.8?
In-Reply-To: <47D98049.9000302@pmldnet.com>
References: <4092F7D6-6344-45A7-972B-F9417E09D529@kyngchaos.com>
	<d2595b180803121838r5eb2700bta74ab0e284682646@mail.gmail.com>
	<47D91D4D.50902@pmldnet.com> <47D92583.4080206@pmldnet.com>
	<d2595b180803130701l78b868bahf0d2290fb3165bb4@mail.gmail.com>
	<47D98049.9000302@pmldnet.com>
Message-ID: <d2595b180803131242n8a9d693h94bb9be4c9deb630@mail.gmail.com>

On 3/13/08, Lucena, Ivan <ivan.lucena@pmldnet.com> wrote:
> Javier,
>
>
>  Javier Urien wrote:
>  > The only problem is that this driver is slow.
>  >
>
> > No, I didn't even know that the HDF5 driver was read only =)
>  >
>
> > I am currently modifying the HDF5 driver, still very little (optimized
>  > reads using the chunk size), next is georreference, but if I find time
>  > I will try to get into the writing thing...
>
>
> I was about to create some HDF5 for performance evaluation and since I
>  am working in Python it seams that would be easier to use PyTables to
>  write HDF5 files. I can take data from PyGDAL in numPy arrays and pass
>  it to PyTables. But if the driver is slow, why botherPy? :(
>
>  - Do you have plans to release the optimized version of the driver?

you can find the proposed patch for GDAL 1.5.0 at the trac :
http://trac.osgeo.org/gdal/ticket/2270

>
>  - Do you have plans to develop the writing portion of the driver?

Not right now. I am working on a software for image processing and
most of the output is done in GeoTiff. Having it wouldn't hurt, but
unfortunately, right know it is not a priority.


Regards.
From even.rouault at mines-paris.org  Thu Mar 13 16:55:10 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu Mar 13 16:55:18 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D9435D.1090204@pobox.com>
References: <47D9435D.1090204@pobox.com>
Message-ID: <200803132155.12078.even.rouault@mines-paris.org>

+1

Le Thursday 13 March 2008 16:08:13 Frank Warmerdam, vous avez ?crit?:
> Motion: To authorize Frank Warmerdam to negotiate a maintainer contract
> with Chris Howell for March to May for up to 17 hours at $17.60 USD/hr. 
> The contract would be in accordance with RFC 9: GDAL Paid Maintainer
> Guidelines with Frank as designated supervisor.
>
> ---
>
> Chris Howell has been responsible for integration of GDAL at PYXIS
> Innovation. He has near time availability and an interest in contributing
> to the project and I believe he could a valuable contributor.
>
> The contract is only a modest amount of time, but provides a resource in
> the near term while Mateusz is unavailable.  The total financial commitment
> is $1320 USD, which is substantially less than the amount of money that
> won't be invoiced against Mateusz' contract during the idle March/April
> period.
>
> Best regards,


From szekerest at gmail.com  Thu Mar 13 17:36:36 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Mar 13 17:36:39 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D94716.9030708@pobox.com>
References: <47D9435D.1090204@pobox.com> <47D94716.9030708@pobox.com>
Message-ID: <f3b73b7d0803131436u2aaeefc3la4b6a64704a89d36@mail.gmail.com>

+1

Tamas



2008/3/13, Frank Warmerdam <warmerdam@pobox.com>:
> Frank Warmerdam wrote:
>  > Motion: To authorize Frank Warmerdam to negotiate a maintainer contract
>  > with
>  > Chris Howell for March to May for up to 17 hours at $17.60 USD/hr.  The
>  > contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
>  > with Frank as designated supervisor.
>
>
> Sorry folks, the motion should be:
>
>
>  Motion: To authorize Frank Warmerdam to negotiate a maintainer contract with
>
> Chris Howell for March to May for up to 75 hours at $17.60 USD/hr.  The
>
> contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
>  with Frank as designated supervisor.
>
>
> Best regards,
>  --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From yann.chemin at gmail.com  Thu Mar 13 23:01:03 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Thu Mar 13 23:01:05 2008
Subject: [gdal-dev] Google SoC idea...
Message-ID: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>

Hi list,

It may be a small thing but it might help people...

many OSs now have image browsers embedded. in MS it is in Explorer I
believe, in KDE there is a thumbnail creator inside konqueror/dolphin.

could it be possible to make konqueror/dolphin for example, automatically
create a thumbnail of RS images and GIS covers through GDAL?
We could then have GIS/RS data previews the same way we have for standard
camera pictures...

thanks,
Yann
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080314/a2aec1a1/attachment.html
From ivan.lucena at pmldnet.com  Thu Mar 13 23:39:42 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Mar 13 23:39:43 2008
Subject: [gdal-dev] Google SoC idea...
In-Reply-To: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>
References: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>
Message-ID: <47D9F37E.8060307@pmldnet.com>

Yann,

I think that is OK to do that. I don't want to discourage you but just 
keep in mind that sometime, or very often, GIS/RS image are not very 
expressive by itself. That is even worse in low resolution thumbnail. 
Imagine that you want to show a collection of Landsat original 
multi-band files. Which band should you present in KDE or Explorer?

Try that: Run "foreach" or "for %f in" to call gdal_translate to copy 
large group of real-case-GIS/RS-files to PNG outputs files in another 
directory. Then open that directory on a file browser and take a look at 
those thumbnails. See how does it looks like.

Best regards,

Ivan

Yann Chemin wrote:
> Hi list,
> 
> It may be a small thing but it might help people...
> 
> many OSs now have image browsers embedded. in MS it is in Explorer I
> believe, in KDE there is a thumbnail creator inside konqueror/dolphin.
> 
> could it be possible to make konqueror/dolphin for example, automatically
> create a thumbnail of RS images and GIS covers through GDAL?
> We could then have GIS/RS data previews the same way we have for standard
> camera pictures...
> 
> thanks,
> Yann
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From craig.miller at spatialminds.com  Fri Mar 14 00:03:51 2008
From: craig.miller at spatialminds.com (Craig Miller)
Date: Fri Mar 14 00:03:54 2008
Subject: [gdal-dev] Google SoC idea...
In-Reply-To: <47D9F37E.8060307@pmldnet.com>
References: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>
	<47D9F37E.8060307@pmldnet.com>
Message-ID: <00b101c88588$6bb3a180$431ae480$@miller@spatialminds.com>

It works fairly well with vector data... perhaps doing the same thing based
on top of OGR?

I think Blue Marble Geographics has a free addon for this type of behavior
for Windows.  At least they did a few years ago.

Craig


---
http://www.overlandnavigator.com
Touchscreen Friendly GPS Mapping 

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Lucena, Ivan
Sent: Thursday, March 13, 2008 8:40 PM
To: Yann Chemin
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Google SoC idea...

Yann,

I think that is OK to do that. I don't want to discourage you but just 
keep in mind that sometime, or very often, GIS/RS image are not very 
expressive by itself. That is even worse in low resolution thumbnail. 
Imagine that you want to show a collection of Landsat original 
multi-band files. Which band should you present in KDE or Explorer?

Try that: Run "foreach" or "for %f in" to call gdal_translate to copy 
large group of real-case-GIS/RS-files to PNG outputs files in another 
directory. Then open that directory on a file browser and take a look at 
those thumbnails. See how does it looks like.

Best regards,

Ivan

Yann Chemin wrote:
> Hi list,
> 
> It may be a small thing but it might help people...
> 
> many OSs now have image browsers embedded. in MS it is in Explorer I
> believe, in KDE there is a thumbnail creator inside konqueror/dolphin.
> 
> could it be possible to make konqueror/dolphin for example, automatically
> create a thumbnail of RS images and GIS covers through GDAL?
> We could then have GIS/RS data previews the same way we have for standard
> camera pictures...
> 
> thanks,
> Yann
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1328 - Release Date: 3/13/2008
11:31 AM
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1328 - Release Date: 3/13/2008
11:31 AM
 

From yann.chemin at gmail.com  Fri Mar 14 00:34:18 2008
From: yann.chemin at gmail.com (Yann Chemin)
Date: Fri Mar 14 00:34:20 2008
Subject: [gdal-dev] Google SoC idea...
In-Reply-To: <47D9F37E.8060307@pmldnet.com>
References: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>
	<47D9F37E.8060307@pmldnet.com>
Message-ID: <4f37eb890803132134r5aea555l9beffab38aaf02ba@mail.gmail.com>

Yes Ivan,

was not sure about who could be doing it even, it was just an idea about
improving KDE thumbnail for GIS, since gdal_translate has it already it
should be just few code away though.

About the RS image display, gdal_translate outputs nice PNGs, we can tell
easily if data is landsat (number of bands) and make a standard false colour
composite (FCC) by selecting bands 4,3,2 for RGB.
For AVHRR: 4,2,1 for RGB. Well, maybe use the metadata to tell us what
satellite and what are the band representing, and then make FCC.

Could also have world countries, major rivers, (degree grid?) etc vectors
overlaid on the fly while creating the thumbnail...

Just sending out ideas.....
Yann



On 14/03/2008, Lucena, Ivan <ivan.lucena@pmldnet.com> wrote:
>
> Yann,
>
> I think that is OK to do that. I don't want to discourage you but just
> keep in mind that sometime, or very often, GIS/RS image are not very
> expressive by itself. That is even worse in low resolution thumbnail.
> Imagine that you want to show a collection of Landsat original
> multi-band files. Which band should you present in KDE or Explorer?
>
> Try that: Run "foreach" or "for %f in" to call gdal_translate to copy
> large group of real-case-GIS/RS-files to PNG outputs files in another
> directory. Then open that directory on a file browser and take a look at
> those thumbnails. See how does it looks like.
>
> Best regards,
>
> Ivan
>
>
> Yann Chemin wrote:
> > Hi list,
> >
> > It may be a small thing but it might help people...
> >
> > many OSs now have image browsers embedded. in MS it is in Explorer I
> > believe, in KDE there is a thumbnail creator inside konqueror/dolphin.
> >
> > could it be possible to make konqueror/dolphin for example,
> automatically
> > create a thumbnail of RS images and GIS covers through GDAL?
> > We could then have GIS/RS data previews the same way we have for
> standard
> > camera pictures...
> >
> > thanks,
> > Yann
> >
> >
> >
>
> > ------------------------------------------------------------------------
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080314/ebb8f0eb/attachment.html
From maplabs at light42.com  Fri Mar 14 02:53:48 2008
From: maplabs at light42.com (Brian Hamlin)
Date: Fri Mar 14 01:54:58 2008
Subject: [gdal-dev] Shapefile OGR question/concern
In-Reply-To: <1205364165.16541.12.camel@vertical>
References: <20080312220301.77673a77@smtp.iavo-rs.com>
	<1205364165.16541.12.camel@vertical>
Message-ID: <65B051AA-F193-11DC-8E7C-000A277A733C@light42.com>


On Mar 12, 2008, at 3:22 PM, Nikos Alexandris wrote:
>
> On Wed, 2008-03-12 at 18:03 -0400, Christiaan Janssen wrote:
>> I understand the need for the first and last point but what I don't
>> understand is why it is not handled appropriately (in my opinion) per
>> format. If KML only wants 4 points for a rectangle and other formats
>> want 5 (first and last point the same) why doesn't the import/export
>> function build the shape to an internal standard (ie have everything
>> load in with the first point repeated at the end). I tried importing a
>> shapefile into an OGRDataset and then exported it out to KML only to
>> have Google Earth hang on the resultant KML file. This obviosuly
>> implies that I would have to implement vector format specific
>> implementations, is there a reason for this?
>>
>> Christiaan
>
> I'd also like to hear more about it. A good place to start reading/
> searching would is probably http://www.gdal.org/ogr/drv_kml.html
>

I just wrote a trivial script to create geometry from WKT and export to 
KML (thanks FrankW)
both 4 point and 5 point Placemarks work fine in my Google Earth. The 4 
point one is just an open sided rectangle.

(I am sure drv_kml.html  doesnt say much about this case.. Additions 
welcome :-)

perhaps there is more going on in the one you are making from 
Shapefile, Christiaan
I'd be interested to look at it..
by coincidence there is a Maps hack event at UC Berkeley tomorrow and 
two Google KML tech support people will be there, as I will be

all for now
   -Brian

==
Brian Hamlin
ISDE5 Steering Committee
Planetwork.net
(415) 717-4462 (c)

From warmerdam at pobox.com  Fri Mar 14 03:02:14 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 03:02:27 2008
Subject: [gdal-dev] GDAL 1.5.1RC1 Available
Message-ID: <47DA22F6.8000300@pobox.com>

Folks,

I have prepared a GDAL 1.5.1RC1:

   http://download.osgeo.org/gdal/gdal-1.5.1RC1.tar.gz
   http://download.osgeo.org/gdal/gdal151RC1.zip

News: http://trac.osgeo.org/gdal/wiki/Release/1.5.1-News

Please test this release candidate and let me know of any problems.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jrepetto at free.fr  Fri Mar 14 03:54:32 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Mar 14 03:54:39 2008
Subject: [gdal-dev] GDAL 1.5.1RC1 Available
In-Reply-To: <47DA22F6.8000300@pobox.com>
References: <47DA22F6.8000300@pobox.com>
Message-ID: <47DA2F38.2070407@free.fr>

Hello Frank,

It seems that the patch for bug #1935 has been forgotten (the milestone 
is set for 1.5.1).
I have put on my web site a screenshot of Qgis displaying a tiled 
version of NASA BlueMarble.
<http://jrepetto.free.fr/bug1935.png>

You can see the world (very small)  in the upper left corner. The tile 
whose upper left coordinates are (0,0) (central Africa) is much too large.

This is due to bug #1935.

Regards,
Jean-Claude
From dron at ak4719.spb.edu  Fri Mar 14 03:45:38 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Fri Mar 14 04:07:07 2008
Subject: [gdal-dev] Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D94716.9030708@pobox.com>
References: <47D9435D.1090204@pobox.com> <47D94716.9030708@pobox.com>
Message-ID: <20080314074538.GA6699@ak4719.spb.edu>

On Thu, Mar 13, 2008 at 11:24:06AM -0400, Frank Warmerdam wrote:
> Motion: To authorize Frank Warmerdam to negotiate a maintainer
> contract with Chris Howell for March to May for up to 75 hours at
> $17.60 USD/hr.  The contract would be in accordance with RFC 9: GDAL
> Paid Maintainer Guidelines with Frank as designated supervisor.

+1

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From Tom.Kralidis at ec.gc.ca  Fri Mar 14 07:34:17 2008
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Burlington])
Date: Fri Mar 14 07:34:19 2008
Subject: [gdal-dev] Build error on trunk
Message-ID: <2DC5CCA14756424BBBEE8B4B2E4A682F036CF13B@ecburexch1.ontario.int.ec.gc.ca>


Hi,

Building in fc7, with:


./configure --with-png --with-libtiff=internal --with-geotiff=internal
--with-jpeg --with-xerces --with-geos=no
--with-pg=/usr/local/pgsql/bin/pg_config
--with-mysql=/usr/bin/mysql_config --with-sqlite
--with-curl=/usr/bin/curl-config --with-python --with-expat --with-perl

...gives me:

....

/bin/sh /home/tkralidi/foss4g/gdal/trunk/gdal/libtool --mode=compile
--tag=CC gcc -c -I../../port -g -O2  -Wall -Wdeclaration-after-statement
-DOGR_ENABLED -I/home/tkralidi/foss4g/gdal/trunk/gdal/port
-DZIP_SUPPORT -DPIXARLOG_SUPPORT -I../../zlib -DJPEG_SUPPORT
-DOJPEG_SUPPORT tif_dirread.c -o ../../o/tif_dirread.o
libtool: compile:  gcc -c -I../../port -g -O2 -Wall
-Wdeclaration-after-statement -DOGR_ENABLED
-I/home/tkralidi/foss4g/gdal/trunk/gdal/port -DZIP_SUPPORT
-DPIXARLOG_SUPPORT -I../../zlib -DJPEG_SUPPORT -DOJPEG_SUPPORT
tif_dirread.c  -fPIC -DPIC -o ../../o/.libs/tif_dirread.o
tif_dirread.c: In function 'TIFFReadDirEntryArray':
tif_dirread.c:746: warning: dereferencing type-punned pointer will break
strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedShort':
tif_dirread.c:2733: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedSshort':
tif_dirread.c:2740: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedLong':
tif_dirread.c:2747: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedSlong':
tif_dirread.c:2754: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedLong8':
tif_dirread.c:2765: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedSlong8':
tif_dirread.c:2785: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedRational':
tif_dirread.c:2809: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c:2817: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedSrational':
tif_dirread.c:2838: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c:2846: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedFloat':
tif_dirread.c:2860: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirEntryCheckedDouble':
tif_dirread.c:2873: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFReadDirectory':
tif_dirread.c:3884: error: 'TIFF_DIRTYSTRIP' undeclared (first use in
this function)
tif_dirread.c:3884: error: (Each undeclared identifier is reported only
once
tif_dirread.c:3884: error: for each function it appears in.)
tif_dirread.c: In function 'TIFFFetchDirectory':
tif_dirread.c:4493: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c: In function 'TIFFFetchSubjectDistance':
tif_dirread.c:5221: warning: dereferencing type-punned pointer will
break strict-aliasing rules
tif_dirread.c:5228: warning: dereferencing type-punned pointer will
break strict-aliasing rules
make[3]: *** [../../o/tif_dirread.o] Error 1
make[3]: Leaving directory
`/home/tkralidi/foss4g/gdal/trunk/gdal/frmts/gtiff/libtiff'
make[2]: *** [lib-tiff] Error 2
make[2]: Leaving directory
`/home/tkralidi/foss4g/gdal/trunk/gdal/frmts/gtiff'
make[1]: *** [gtiff-install-obj] Error 2
make[1]: Leaving directory `/home/tkralidi/foss4g/gdal/trunk/gdal/frmts'
make: *** [frmts-target] Error 2
From warmerdam at pobox.com  Fri Mar 14 09:25:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 09:25:34 2008
Subject: [gdal-dev] Build error on trunk
In-Reply-To: <2DC5CCA14756424BBBEE8B4B2E4A682F036CF13B@ecburexch1.ontario.int.ec.gc.ca>
References: <2DC5CCA14756424BBBEE8B4B2E4A682F036CF13B@ecburexch1.ontario.int.ec.gc.ca>
Message-ID: <47DA7CB1.6020905@pobox.com>

Kralidis,Tom [Burlington] wrote:
> Hi,
> 
> Building in fc7, with:
> 
> 
> ./configure --with-png --with-libtiff=internal --with-geotiff=internal
> --with-jpeg --with-xerces --with-geos=no
> --with-pg=/usr/local/pgsql/bin/pg_config
> --with-mysql=/usr/bin/mysql_config --with-sqlite
> --with-curl=/usr/bin/curl-config --with-python --with-expat --with-perl
> 
> ...gives me:
...
> tif_dirread.c: In function 'TIFFReadDirectory':
> tif_dirread.c:3884: error: 'TIFF_DIRTYSTRIP' undeclared (first use in
> this function)
> tif_dirread.c:3884: error: (Each undeclared identifier is reported only
> once

Tom,

I'm on it.  I'm pretty sure this also botched the 1.5.1RC1.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar 14 10:22:25 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 10:22:56 2008
Subject: [gdal-dev] SWIG 1.3.33 Standard?
Message-ID: <47DA8A21.7090901@pobox.com>

Folks,

Due to a debian bug report about our perl swig bindings and some modern gcc
versions, it is suggested that we upgrade to SWIG 1.3.33.  I have put this
off after 1.5.1, but would like to do it for 1.5.2 if there are no problem.
Bindings maintainers are encouraged to test with 1.3.33 and report if they
have concerns.

   http://trac.osgeo.org/gdal/ticket/2276
   http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=466785

The actual change would take place on the packaging machine (www.gdal.org)
and would only directly affect perl and C# which are automatically recreated
as part of the packaging process.  But I would like to be able to declare
this the new safe, prefered SWIG version for all bindings.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar 14 10:25:26 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 10:25:49 2008
Subject: [gdal-dev] GDAL 1.5.1RC1 Available
In-Reply-To: <47DA2F38.2070407@free.fr>
References: <47DA22F6.8000300@pobox.com> <47DA2F38.2070407@free.fr>
Message-ID: <47DA8AD6.70401@pobox.com>

Jean-Claude Repetto wrote:
> Hello Frank,
> 
> It seems that the patch for bug #1935 has been forgotten (the milestone 
> is set for 1.5.1).
> I have put on my web site a screenshot of Qgis displaying a tiled 
> version of NASA BlueMarble.
> <http://jrepetto.free.fr/bug1935.png>
> 
> You can see the world (very small)  in the upper left corner. The tile 
> whose upper left coordinates are (0,0) (central Africa) is much too large.
> 
> This is due to bug #1935.

Jean-Claude,

I have reviewed and applied the suggested patch for #1935 in trunk and 1.5
branch this morning without testing, though my visual review suggests the
approach is fine.

There are lots of bugs that were not addressed for 1.5.1, but I came to
the conclusion that waiting for the release was not the best approach.
However, this fix will now appear in 1.5.1RC2.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar 14 10:28:12 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 10:28:40 2008
Subject: [gdal-dev] GDAL 1.5.1RC2 Available for Testing
Message-ID: <47DA8B7C.6000501@pobox.com>

Folks,

GDAL 1.5.1RC1 has serious problems due to a recent libtiff change.  I have
I believe fixed this up, and issued a new RC:

   http://download.osgeo.org/gdal/gdal-1.5.2RC2.tar.gz
   http://download.osgeo.org/gdal/gdal152RC2.zip

Testing appreciated.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From jrepetto at free.fr  Fri Mar 14 11:17:14 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Fri Mar 14 11:17:23 2008
Subject: [gdal-dev] GDAL 1.5.1RC1 Available
In-Reply-To: <47DA8AD6.70401@pobox.com>
References: <47DA22F6.8000300@pobox.com> <47DA2F38.2070407@free.fr>
	<47DA8AD6.70401@pobox.com>
Message-ID: <47DA96FA.2010006@free.fr>

Frank Warmerdam wrote :
> Jean-Claude Repetto wrote:
>> Hello Frank,
>>
>> It seems that the patch for bug #1935 has been forgotten (the 
>> milestone is set for 1.5.1).
>> I have put on my web site a screenshot of Qgis displaying a tiled 
>> version of NASA BlueMarble.
>> <http://jrepetto.free.fr/bug1935.png>
>>
>> You can see the world (very small)  in the upper left corner. The tile 
>> whose upper left coordinates are (0,0) (central Africa) is much too 
>> large.
>>
>> This is due to bug #1935.
> 
> Jean-Claude,
> 
> I have reviewed and applied the suggested patch for #1935 in trunk and 1.5
> branch this morning without testing, though my visual review suggests the
> approach is fine.
> 
> There are lots of bugs that were not addressed for 1.5.1, but I came to
> the conclusion that waiting for the release was not the best approach.
> However, this fix will now appear in 1.5.1RC2.
> 
> Best regards,
> 

Thanks Frank,

In case of you or anyone else wants to test the same data, I have put 
the tiles in an archive at:
<http://jrepetto.free.fr/ttmaps/BlueMarble.zip>

Regards,
Jean-Claude
From woklist at kyngchaos.com  Fri Mar 14 13:48:07 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri Mar 14 13:48:12 2008
Subject: [gdal-dev] GDAL 1.5.1RC2 Available for Testing
In-Reply-To: <47DA8B7C.6000501@pobox.com>
References: <47DA8B7C.6000501@pobox.com>
Message-ID: <A36C1066-58BD-4967-8A77-5F8F6DEE2B42@kyngchaos.com>

Shouldn't the source packages be named 1.5.1RC2?

VERSION file also has 1.5.2.

On Mar 14, 2008, at 9:28 AM, Frank Warmerdam wrote:

> Folks,
>
> GDAL 1.5.1RC1 has serious problems due to a recent libtiff change.   
> I have
> I believe fixed this up, and issued a new RC:
>
>  http://download.osgeo.org/gdal/gdal-1.5.2RC2.tar.gz
>  http://download.osgeo.org/gdal/gdal152RC2.zip
>
> Testing appreciated.
>
> Best regards,
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"Mon Dieu! but they are all alike.  Cheating, murdering, lying,  
fighting, and all for things that the beasts of the jungle would not  
deign to possess - money to purchase the effeminate pleasures of  
weaklings.  And yet withal bound down by silly customs that make them  
slaves to their unhappy lot while firm in the belief that they be the  
lords of creation enjoying the only real pleasures of existence....

- the wisdom of Tarzan


From warmerdam at pobox.com  Fri Mar 14 14:08:35 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 14:09:02 2008
Subject: [gdal-dev] GDAL 1.5.1RC2 Available for Testing
In-Reply-To: <A36C1066-58BD-4967-8A77-5F8F6DEE2B42@kyngchaos.com>
References: <47DA8B7C.6000501@pobox.com>
	<A36C1066-58BD-4967-8A77-5F8F6DEE2B42@kyngchaos.com>
Message-ID: <47DABF23.5070204@pobox.com>

William Kyngesburye wrote:
> Shouldn't the source packages be named 1.5.1RC2?
> 
> VERSION file also has 1.5.2.

OK - packaged again as:

   http://download.osgeo.org/gdal/gdal151RC3.zip
   http://download.osgeo.org/gdal/gdal-1.5.1RC3.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Fri Mar 14 15:42:14 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar 14 15:42:15 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <loom.20080303T051637-425@post.gmane.org>
References: <47CA77F3.2010102@o2.pl> <loom.20080303T051637-425@post.gmane.org>
Message-ID: <47DAD516.6060505@o2.pl>

Jukka Rahkonen pisze:
> Maciej Sieczka <tutey <at> o2.pl> writes:

> About BigTIFF, I guess that the error will perhaps not happen if you ask
> gdalwarp to use it by adding -co BigTIFF=yes.

Right. I forgot it.

Anyway, it still holds true that gdalwarp produces compressed rasters 
several times bigger than gdal_translate.

For example - fetch this RGB 290 MB ortophoto tile. It's an RGB (3 
8-byte bands) GeoTIFF - nothing fancy [1].

It was created with gdal_translate -co "COMPRESS=LZW". It's size is 
303714237 bytes.

Process it with gdalwarp -co "COMPRESS=LZW" - it becomes 1443573134 
bytes big, ie. nearly 5 times bigger. Even about 3 times bigger than the 
same raster without any compression!

Worse ratios happen, depending on your data. When can we expect this 
issue to be fixed?

[1]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif

Using GDAL 1.5.1 + SVN r14009.

Maciek
From warmerdam at pobox.com  Fri Mar 14 15:54:08 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 15:54:34 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47DAD516.6060505@o2.pl>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org> <47DAD516.6060505@o2.pl>
Message-ID: <47DAD7E0.1010202@pobox.com>

Maciej Sieczka wrote:
> Jukka Rahkonen pisze:
>> Maciej Sieczka <tutey <at> o2.pl> writes:
> 
>> About BigTIFF, I guess that the error will perhaps not happen if you ask
>> gdalwarp to use it by adding -co BigTIFF=yes.
> 
> Right. I forgot it.
> 
> Anyway, it still holds true that gdalwarp produces compressed rasters 
> several times bigger than gdal_translate.
> 
> For example - fetch this RGB 290 MB ortophoto tile. It's an RGB (3 
> 8-byte bands) GeoTIFF - nothing fancy [1].
> 
> It was created with gdal_translate -co "COMPRESS=LZW". It's size is 
> 303714237 bytes.
> 
> Process it with gdalwarp -co "COMPRESS=LZW" - it becomes 1443573134 
> bytes big, ie. nearly 5 times bigger. Even about 3 times bigger than the 
> same raster without any compression!
> 
> Worse ratios happen, depending on your data. When can we expect this 
> issue to be fixed?

Maciej,

It is not on my critical path, so I don't anticipate working on it in
the near future.  It may well be challenging for others to address.

Basically, there is no particular timeline for it to be fixed.

You could try and fix it yourself, or contract with someone to fix it
if it is very important to you.

BTW, I assume there is a trac ticket for this problem.  I'd suggest noting
it in emails about the topic.  If it were quoted, I might have contemplated
boosting it's priority.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar 14 16:16:52 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 16:17:16 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC3 to be GDAL 1.5.1 Final
Message-ID: <47DADD34.5070108@pobox.com>

Motion: Promote GDAL 1.5.1RC3 to be GDAL 1.5.1 Final.

I have tested it briefly on win32 and 32bit linux and it seems ok.  I'd
appreciate other PSC members voting after they have had a chance to try it.

Anyone testing 1.5.1RC3 and finding problems should mention it here.  The
motion should close late Tuesday afternoon.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Fri Mar 14 16:31:30 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar 14 16:31:32 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47DAD7E0.1010202@pobox.com>
References: <47CA77F3.2010102@o2.pl> <loom.20080303T051637-425@post.gmane.org>
	<47DAD516.6060505@o2.pl> <47DAD7E0.1010202@pobox.com>
Message-ID: <47DAE0A2.1070805@o2.pl>

Frank Warmerdam pisze:

> It is not on my critical path, so I don't anticipate working on it in
> the near future.  It may well be challenging for others to address.
> 
> Basically, there is no particular timeline for it to be fixed.
> 
> You could try and fix it yourself, or contract with someone to fix it
> if it is very important to you.

It is very important for all gdalwarp users. gdalwarp creates compressed 
GeoTIFFs too big; even several times bigger than their uncompressed 
versions.

> BTW, I assume there is a trac ticket for this problem.  I'd suggest noting
> it in emails about the topic.  If it were quoted, I might have contemplated
> boosting it's priority.

I've already noticed it in my intial post in this thread. Here they go 
again:

http://trac.osgeo.org/gdal/ticket/1688
http://trac.osgeo.org/gdal/ticket/1689

They propably should be merged.

Maciek

From nowak at xpam.de  Fri Mar 14 16:40:27 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Fri Mar 14 16:40:41 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47DAD516.6060505@o2.pl>
References: <47CA77F3.2010102@o2.pl> <loom.20080303T051637-425@post.gmane.org>
	<47DAD516.6060505@o2.pl>
Message-ID: <47DAE2BB.3070204@xpam.de>

Add -co "TILED=YES" to produce tiled tiff (and a lot smaller that way).

Maciej Sieczka wrote:
> Jukka Rahkonen pisze:
>> Maciej Sieczka <tutey <at> o2.pl> writes:
> 
>> About BigTIFF, I guess that the error will perhaps not happen if you ask
>> gdalwarp to use it by adding -co BigTIFF=yes.
> 
> Right. I forgot it.
> 
> Anyway, it still holds true that gdalwarp produces compressed rasters 
> several times bigger than gdal_translate.
> 
> For example - fetch this RGB 290 MB ortophoto tile. It's an RGB (3 
> 8-byte bands) GeoTIFF - nothing fancy [1].
> 
> It was created with gdal_translate -co "COMPRESS=LZW". It's size is 
> 303714237 bytes.
> 
> Process it with gdalwarp -co "COMPRESS=LZW" - it becomes 1443573134 
> bytes big, ie. nearly 5 times bigger. Even about 3 times bigger than the 
> same raster without any compression!
> 
> Worse ratios happen, depending on your data. When can we expect this 
> issue to be fixed?
> 
> [1]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif
> 
> Using GDAL 1.5.1 + SVN r14009.
> 
> Maciek
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From tutey at o2.pl  Fri Mar 14 17:17:06 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar 14 17:17:04 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47DAE2BB.3070204@xpam.de>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAE2BB.3070204@xpam.de>
Message-ID: <47DAEB52.1090107@o2.pl>

Adam Nowacki pisze:
> Add -co "TILED=YES" to produce tiled tiff (and a lot smaller that way).

1. There are software that perform better with stripped TIFFs, eg. 
ArcPad [1], QGIS (latest SVN trunk) too - the tiff at [2] if tiled with 
gdal_translate takes about 10 (ten) times longer to render that it's 
stripped version in QGIS.

2. There are software which don't support tiled TIFF at all. To stay on 
the safe side I prefer to create stripped TIFFs in case I might be 
sharing/selling them. I might be not the only one.

2. User will be surprised that gdalwarp -co "TILED=NO" -co 
"COMPRESS=LZW" (or other compression alg.) creates tiffs bigger than 
"COMPRESS=NONE".

3. Mind that gdal_translate -co "TILED=YES" still outperforms gdalwarp 
-co "TILED=YES", any compression. With the sample [2] it creates a TIFF 
over 8% smaller. Not *very* much, but with 13 such tiffs gdal_translate 
gives you a room on your hard disk for another one, compared to gdalwarp.

[1]http://arcpadteam.blogspot.com/2006/08/raster-tips-1-choosing-raster-format.html
[2]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif

Maciek
From tutey at o2.pl  Fri Mar 14 17:49:31 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar 14 17:49:28 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <47DAE84C.2030301@pobox.com>
References: <47CA77F3.2010102@o2.pl> <loom.20080303T051637-425@post.gmane.org>
	<47DAD516.6060505@o2.pl> <47DAD7E0.1010202@pobox.com>
	<47DAE0A2.1070805@o2.pl> <47DAE84C.2030301@pobox.com>
Message-ID: <47DAF2EB.70207@o2.pl>

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> It is very important for all gdalwarp users. 

> I disagree with the above statement.  I think it is a small
> segment of people who create compressed files with gdalwarp, and
> there is a fairly straightforward workaround (warp then compress).

Since gdalwarp supports compressing tiffs, who would guess he has to do 
something extra? gdalwarp makes an impression of being able to warp and 
compress in one step. Not many users will expect that gdalwarp writes a 
compressed TIFF bigger than not compressed, and that he has to fix this 
with gdal_translate afterwards.

Moreover, I wonder if the guts of the issue that gdalwarp handles 
compression wrong, might also affect GDAL-dependent software. Eg. 
r.out.gdal in GRASS - I took the sample [1], imported into GRASS and 
re-exported with:

r.in.gdal in=M-33-21-A-b-4.tif out=M-33-21-A-b-4 -o
g.region rast=M-33-21-A-b-4.red -a
r.out.gdal in=M-33-21-A-b-4 out=M-33-21-A-b-4_gr_lzw.tif 
-createopt="COMPRESS=LZW" type=Byte

which created an LZW-compressed TIFF 2.33 times bigger than the 
original, also LZW-compressed. Could this r.out.gdal issue be related to 
gdalwarp issue?

Maciek

From tutey at o2.pl  Fri Mar 14 17:51:55 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar 14 17:52:09 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <47DAF2EB.70207@o2.pl>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com>	<47DAE0A2.1070805@o2.pl>
	<47DAE84C.2030301@pobox.com> <47DAF2EB.70207@o2.pl>
Message-ID: <47DAF37B.2020600@o2.pl>

Maciej Sieczka pisze:
> I took the sample [1]

And here's the link to the sample:

[1]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif

Maciek
From even.rouault at mines-paris.org  Fri Mar 14 18:23:37 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar 14 18:23:41 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47DAEB52.1090107@o2.pl>
References: <47CA77F3.2010102@o2.pl> <47DAE2BB.3070204@xpam.de>
	<47DAEB52.1090107@o2.pl>
Message-ID: <200803142323.38300.even.rouault@mines-paris.org>

Maciek,

we are well aware of the problem but I'm afraid that complaining more will not 
help to fix it quicker.

I've analyzed the problem for my own needs a few months ago and I came with 
the conclusion that it looks like a complex interaction between GDAL and 
libtiff. The strip/tile allocation strategy in libtiff is surely at stake, 
but it could also involve the GeoTIFF driver in GDAL, or the way that some 
algorithms such as gdalwarp work.

Changing libtiff strip/tile allocation strategy to enable it to recycle wasted 
space or to reserve space to anticipated partial writes is more a (complex) 
feature development than a bug fix...

Let imagine the following scenario :
- Create a LZW compress GTiff with GDALCreate
- Write sequentially each strip with zeros. You'll get a small image
- Then write sequentially each strip with first half of the line being zeros 
and second half random data. Libtiff will try to reuse the previously written 
strips, but, of course, strips with random data compressed will not fit into 
the very small strips produced. So libtiff must allocate new space at the end 
of the file to put the new data.
- Let do it again but with only random data. Again, the last allocated strip 
space will not be enough.

And I'm not mentionning that I/O in GDAL are cached, that gdalwrap doesn't 
write sequentially strips...

So, we could now imagine to recycle wasted space, but that wouldn't help a lot 
as you're going to have fragmentation and strips not organized in the file as 
they are in the image. Thus frequent read seeks forth and back, leading to 
poor read performance. So you need some sort of defragmentation utility. And 
guess what ? I know one that already does more or less that job : it's called 
gdal_translate....

Of course I can be wrong and over-exaggerating the difficulties...

Best regards,
Even

Le Friday 14 March 2008 22:17:06 Maciej Sieczka, vous avez ?crit?:
> Adam Nowacki pisze:
> > Add -co "TILED=YES" to produce tiled tiff (and a lot smaller that way).
>
> 1. There are software that perform better with stripped TIFFs, eg.
> ArcPad [1], QGIS (latest SVN trunk) too - the tiff at [2] if tiled with
> gdal_translate takes about 10 (ten) times longer to render that it's
> stripped version in QGIS.
>
> 2. There are software which don't support tiled TIFF at all. To stay on
> the safe side I prefer to create stripped TIFFs in case I might be
> sharing/selling them. I might be not the only one.
>
> 2. User will be surprised that gdalwarp -co "TILED=NO" -co
> "COMPRESS=LZW" (or other compression alg.) creates tiffs bigger than
> "COMPRESS=NONE".
>
> 3. Mind that gdal_translate -co "TILED=YES" still outperforms gdalwarp
> -co "TILED=YES", any compression. With the sample [2] it creates a TIFF
> over 8% smaller. Not *very* much, but with 13 such tiffs gdal_translate
> gives you a room on your hard disk for another one, compared to gdalwarp.
>
> [1]http://arcpadteam.blogspot.com/2006/08/raster-tips-1-choosing-raster-for
>mat.html
> [2]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif
>
> Maciek
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From craig.miller at spatialminds.com  Fri Mar 14 18:24:06 2008
From: craig.miller at spatialminds.com (Craig Miller)
Date: Fri Mar 14 18:24:06 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <47DAF2EB.70207@o2.pl>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com>	<47DAE0A2.1070805@o2.pl>
	<47DAE84C.2030301@pobox.com> <47DAF2EB.70207@o2.pl>
Message-ID: <01fa01c88622$1d8bf260$58a3d720$@miller@spatialminds.com>

I'm interested now, as it sounds like the GDAL API calls that gdalwarp uses
are dictating how good the compression is which in turn is affecting how
good the compression is of an in-house utility we are using.  I don't have
time to look at it for a couple of weeks, but if nobody has looked into it
by then I will.

In the meantime, you have a good workaround.  Use gdalwarp followed by a
gdal_translate to get the compression.  A bit of a PITA, but it doesn't
sound like it is a showstopper.

Craig
 
---
http://www.overlandnavigator.com
Touchscreen Friendly GPS Mapping 

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Maciej Sieczka
Sent: Friday, March 14, 2008 2:50 PM
To: Frank Warmerdam
Cc: gdal-dev@lists.osgeo.org; GRASS developers list
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues

Frank Warmerdam pisze:
> Maciej Sieczka wrote:

>> It is very important for all gdalwarp users. 

> I disagree with the above statement.  I think it is a small
> segment of people who create compressed files with gdalwarp, and
> there is a fairly straightforward workaround (warp then compress).

Since gdalwarp supports compressing tiffs, who would guess he has to do 
something extra? gdalwarp makes an impression of being able to warp and 
compress in one step. Not many users will expect that gdalwarp writes a 
compressed TIFF bigger than not compressed, and that he has to fix this 
with gdal_translate afterwards.

Moreover, I wonder if the guts of the issue that gdalwarp handles 
compression wrong, might also affect GDAL-dependent software. Eg. 
r.out.gdal in GRASS - I took the sample [1], imported into GRASS and 
re-exported with:

r.in.gdal in=M-33-21-A-b-4.tif out=M-33-21-A-b-4 -o
g.region rast=M-33-21-A-b-4.red -a
r.out.gdal in=M-33-21-A-b-4 out=M-33-21-A-b-4_gr_lzw.tif 
-createopt="COMPRESS=LZW" type=Byte

which created an LZW-compressed TIFF 2.33 times bigger than the 
original, also LZW-compressed. Could this r.out.gdal issue be related to 
gdalwarp issue?

Maciek

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1329 - Release Date: 3/14/2008
12:33 PM
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1329 - Release Date: 3/14/2008
12:33 PM
 

From warmerdam at pobox.com  Fri Mar 14 18:26:49 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 18:27:18 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <47DAF2EB.70207@o2.pl>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org> <47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com> <47DAE0A2.1070805@o2.pl>
	<47DAE84C.2030301@pobox.com> <47DAF2EB.70207@o2.pl>
Message-ID: <47DAFBA9.60200@pobox.com>

Maciej Sieczka wrote:
> Since gdalwarp supports compressing tiffs, who would guess he has to do 
> something extra? gdalwarp makes an impression of being able to warp and 
> compress in one step. Not many users will expect that gdalwarp writes a 
> compressed TIFF bigger than not compressed, and that he has to fix this 
> with gdal_translate afterwards.

Maciej,

While I agree with the above, it does not support your claim that
this affects all gdalwarp users and is somehow an important problem.

> Moreover, I wonder if the guts of the issue that gdalwarp handles 
> compression wrong, might also affect GDAL-dependent software. Eg. 
> r.out.gdal in GRASS - I took the sample [1], imported into GRASS and 
> re-exported with:
> 
> r.in.gdal in=M-33-21-A-b-4.tif out=M-33-21-A-b-4 -o
> g.region rast=M-33-21-A-b-4.red -a
> r.out.gdal in=M-33-21-A-b-4 out=M-33-21-A-b-4_gr_lzw.tif 
> -createopt="COMPRESS=LZW" type=Byte
> 
> which created an LZW-compressed TIFF 2.33 times bigger than the 
> original, also LZW-compressed. Could this r.out.gdal issue be related to 
> gdalwarp issue?

It might, or might not be. It is hard to know without analysis.

All in all, I believe I will discover that if I spend several hours
digging into this problem it will turn out to be the normal result
of losing track of space in the TIFF file each time a tile is
recompressed and gets bigger and thus has to be moved to the end of
the file.  There isn't much I can do about this without spending a
huge effort to have libtiff keep track of all unused space in the file
and manage it on the fly.

So I'm basically not planning to spend any more time on it, and will
likely ignore questions about the topic.

Regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From craig.miller at spatialminds.com  Fri Mar 14 18:37:10 2008
From: craig.miller at spatialminds.com (Craig Miller)
Date: Fri Mar 14 18:37:11 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <47DAF37B.2020600@o2.pl>
References: <47CA77F3.2010102@o2.pl>	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>	<47DAD7E0.1010202@pobox.com>	<47DAE0A2.1070805@o2.pl>	<47DAE84C.2030301@pobox.com>
	<47DAF2EB.70207@o2.pl> <47DAF37B.2020600@o2.pl>
Message-ID: <01fb01c88623$f0e3d6e0$d2ab84a0$@miller@spatialminds.com>

Could you post:
- gdalinfo of the source image
- gdalwarp command line + gdalinfo of resultant image
- gdal_translate command line + gdalinfo of resultant image

No need to include the entire color palette, just the lines that have colors
defined.

Thanks,
Craig

Note:  Removed Frank and GRASS mailing list from reply.

---
Spatial Minds, LLC
GeoSpatial Software Engineering
& Touchscreen Friendly GPS Mapping

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Maciej Sieczka
Sent: Friday, March 14, 2008 2:52 PM
To: Frank Warmerdam
Cc: gdal-dev@lists.osgeo.org; GRASS developers list
Subject: Re: [gdal-dev] Re: gdalwarp -co COMPRESS issues

Maciej Sieczka pisze:
> I took the sample [1]

And here's the link to the sample:

[1]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif

Maciek
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1329 - Release Date: 3/14/2008
12:33 PM
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1329 - Release Date: 3/14/2008
12:33 PM
 

From even.rouault at mines-paris.org  Fri Mar 14 18:42:57 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri Mar 14 18:43:00 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC3 to be GDAL 1.5.1 Final
In-Reply-To: <47DADD34.5070108@pobox.com>
References: <47DADD34.5070108@pobox.com>
Message-ID: <200803142342.57513.even.rouault@mines-paris.org>

I think that #2005 that is claimed to be fixed by 1.5.1RC3 is not. It appears 
that in r14007, everything was reverted, including the fix consisting of 
the "#ifdef notdef" / #endif" pair. 

I've tested 'apps/gdal_translate test_wms.txt tt.tif' on 1.5.1RC3 and it fails 
with 'ERROR 1: TIFFFetchStripThing:Sanity check on size of "StripOffsets" 
value failed' and then core-dumps, whereas it doesn't fail on latest trunk.

Le Friday 14 March 2008 21:16:52 Frank Warmerdam, vous avez ?crit?:
> Motion: Promote GDAL 1.5.1RC3 to be GDAL 1.5.1 Final.
>
> I have tested it briefly on win32 and 32bit linux and it seems ok.  I'd
> appreciate other PSC members voting after they have had a chance to try it.
>
> Anyone testing 1.5.1RC3 and finding problems should mention it here.  The
> motion should close late Tuesday afternoon.
>
> Best regards,


From warmerdam at pobox.com  Fri Mar 14 19:05:15 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 19:05:42 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC3 to be GDAL 1.5.1 Final
In-Reply-To: <200803142342.57513.even.rouault@mines-paris.org>
References: <47DADD34.5070108@pobox.com>
	<200803142342.57513.even.rouault@mines-paris.org>
Message-ID: <47DB04AB.6020300@pobox.com>

Even Rouault wrote:
> I think that #2005 that is claimed to be fixed by 1.5.1RC3 is not. It appears 
> that in r14007, everything was reverted, including the fix consisting of 
> the "#ifdef notdef" / #endif" pair. 
> 
> I've tested 'apps/gdal_translate test_wms.txt tt.tif' on 1.5.1RC3 and it fails 
> with 'ERROR 1: TIFFFetchStripThing:Sanity check on size of "StripOffsets" 
> value failed' and then core-dumps, whereas it doesn't fail on latest trunk.
> 

Even,

I agree, this was botched.

I'm -1 on RC3 effectively vetoing it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Fri Mar 14 19:07:04 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 14 19:07:17 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
Message-ID: <47DB0518.9000505@pobox.com>

Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.

I have prepared a new RC with the #2005 fix.  It is available at:

   http://download.osgeo.org/gdal/gdal-1.5.1RC4.tar.gz
   http://download.osgeo.org/gdal/gdal151RC4.zip

I'm starting the voting at +1 on RC4.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Fri Mar 14 19:19:25 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Fri Mar 14 19:19:50 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <01fb01c88623$f0e3d6e0$d2ab84a0$@miller@spatialminds.com>
References: <47CA77F3.2010102@o2.pl>	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>	<47DAD7E0.1010202@pobox.com>	<47DAE0A2.1070805@o2.pl>	<47DAE84C.2030301@pobox.com>
	<47DAF2EB.70207@o2.pl> <47DAF37B.2020600@o2.pl>
	<01fb01c88623$f0e3d6e0$d2ab84a0$@miller@spatialminds.com>
Message-ID: <47DB07FD.1090109@o2.pl>

Craig Miller pisze:
> Could you post:
> - gdalinfo of the source image

$ gdalinfo M-33-21-A-b-4.tif
Driver: GTiff/GeoTIFF
Files: tmp/M-33-21-A-b-4.tif
Size is 12123, 12914
Coordinate System is:
PROJCS["WGS 84 / UTM zone 33N",
     GEOGCS["WGS 84",
         DATUM["WGS_1984",
             SPHEROID["WGS 84",6378137,298.2572235629972,
                 AUTHORITY["EPSG","7030"]],
             AUTHORITY["EPSG","6326"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4326"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",15],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","32633"]]
Origin = (582099.959999999962747,5720171.540000000037253)
Pixel Size = (0.379999999999999,-0.380000000000023)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   COMPRESSION=LZW
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  582099.960, 5720171.540) ( 16d11'9.91"E, 51d37'35.64"N)
Lower Left  (  582099.960, 5715264.220) ( 16d11'5.78"E, 51d34'56.83"N)
Upper Right (  586706.700, 5720171.540) ( 16d15'9.44"E, 51d37'33.15"N)
Lower Right (  586706.700, 5715264.220) ( 16d15'5.08"E, 51d34'54.34"N)
Center      (  584403.330, 5717717.880) ( 16d13'7.55"E, 51d36'15.01"N)
Band 1 Block=12123x1 Type=Byte, ColorInterp=Red
   Metadata:
     COLOR_TABLE_RULES_COUNT=1
     COLOR_TABLE_RULE_RGB_0=0.000000e+00 2.550000e+02 0 0 0 255 255 255
Band 2 Block=12123x1 Type=Byte, ColorInterp=Green
   Metadata:
     COLOR_TABLE_RULES_COUNT=1
     COLOR_TABLE_RULE_RGB_0=0.000000e+00 2.550000e+02 0 0 0 255 255 255
Band 3 Block=12123x1 Type=Byte, ColorInterp=Blue
   Metadata:
     COLOR_TABLE_RULES_COUNT=1
     COLOR_TABLE_RULE_RGB_0=0.000000e+00 2.550000e+02 0 0 0 255 255 255

> - gdalwarp command line + gdalinfo of resultant image

$ gdalwarp -co "COMPRESS=LZW" M-33-21-A-b-4.tif M-33-21-A-b-4_gw.tif

$ gdalinfo M-33-21-A-b-4_gw.tif
Driver: GTiff/GeoTIFF
Files: M-33-21-A-b-4_gw.tif
Size is 12123, 12914
Coordinate System is:
PROJCS["WGS 84 / UTM zone 33N",
     GEOGCS["WGS 84",
         DATUM["WGS_1984",
             SPHEROID["WGS 84",6378137,298.2572235629972,
                 AUTHORITY["EPSG","7030"]],
             AUTHORITY["EPSG","6326"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4326"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",15],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","32633"]]
Origin = (582099.959999999962747,5720171.540000000037253)
Pixel Size = (0.380000000000012,-0.380000000000012)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   COMPRESSION=LZW
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  582099.960, 5720171.540) ( 16d11'9.91"E, 51d37'35.64"N)
Lower Left  (  582099.960, 5715264.220) ( 16d11'5.78"E, 51d34'56.83"N)
Upper Right (  586706.700, 5720171.540) ( 16d15'9.44"E, 51d37'33.15"N)
Lower Right (  586706.700, 5715264.220) ( 16d15'5.08"E, 51d34'54.34"N)
Center      (  584403.330, 5717717.880) ( 16d13'7.55"E, 51d36'15.01"N)
Band 1 Block=12123x1 Type=Byte, ColorInterp=Red
Band 2 Block=12123x1 Type=Byte, ColorInterp=Green
Band 3 Block=12123x1 Type=Byte, ColorInterp=Blue

> - gdal_translate command line + gdalinfo of resultant image

The original M-33-21-A-b-4.tif is an output of gdal_translate -co 
"COMPRESS=LZW".

Maciek
From tutey at o2.pl  Sat Mar 15 05:22:30 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Sat Mar 15 05:22:29 2008
Subject: [gdal-dev] Re: [GRASS-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <853628.89804.qm@web45807.mail.sp1.yahoo.com>
References: <853628.89804.qm@web45807.mail.sp1.yahoo.com>
Message-ID: <47DB9556.9040008@o2.pl>

Hamish pisze:

> I too have been bitten by trying to gdalwarp and compress in the same
> step; will you take a document patch?

For now we don't know if/how r.out.gdal and gdalwarp compression issues 
are connected:

MS: Could this r.out.gdal issue be related to gdalwarp issue?
FW: It might, or might not be. It is hard to know without analysis.

So, maybe there is a defect in r.out.gdal independent of GDAL issue or 
maybe not.

If there is, then rather fix it than document it, if possible.

If there isn't (ie. GDAL is the culprit) - document it and wait till 
it's fixed in GDAL.

Too litle known to decide now.

Maciek
From jelmer.oosthoek at tno.nl  Sat Mar 15 08:45:09 2008
From: jelmer.oosthoek at tno.nl (joosthoek)
Date: Sat Mar 15 08:45:11 2008
Subject: [Gdal-dev] GDAL vs ArcGIS raster calculator
Message-ID: <16056156.post@talk.nabble.com>


Hi,


I was wondering if someone knows if there is a GDAL alternative for the
following ArcGIS Raster Calculator code:

select ( merge ( setnull ( [raster] > 32767 , [raster] ) , ( [raster] -
65536 ) ) , 'value <> -32768' )

The input raster is 16-bit DTM data and as far as I know this code sets the
values to meters with correct datum.

I was trying the gdal_translate -scale option but that didn't work somehow
(I tried -scale 0 65535 -32768 32767). Someone has a better idea?
-- 
View this message in context: http://www.nabble.com/GDAL-vs-ArcGIS-raster-calculator-tp16056156p16056156.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080315/820ac3d1/attachment-0001.html
From mateusz at loskot.net  Sat Mar 15 09:53:23 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sat Mar 15 09:53:31 2008
Subject: [gdal-dev] Google SoC idea...
In-Reply-To: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>
References: <4f37eb890803132001i60875c8dpf303069e7562cb86@mail.gmail.com>
Message-ID: <47DBD4D3.1040808@loskot.net>

Yann Chemin wrote:
> could it be possible to make konqueror/dolphin for example, automatically
> create a thumbnail of RS images and GIS covers through GDAL?

 From technical point of view, I don't see any problems. You can
use GDAL as any other imaging library to generate thumbnails of image 
content, translate to png/jpeg buffers as formats that can be rendered 
by Konqueror.

The only question is about usability of such thumbnail
preview for GIS imagery. Though, if you accept that for some 
datasets/formats preview won't make much sense, then you are fine.

By the way, in Total Commander application there is a nice idea of 
listeners (viewers) for various data formats (you select file/data and 
press F3 to get fast view of data content).
Here is example of such plugin for vector data:

http://www.totalcmd.net/plugring/GisLister.html

I don't know KDE very well, but perhaps Konqueror (or Krusader) supports
similar plugins. If it does, what about implementing listener for 
GDAL/OGR data formats instead of datasets thumbnailing?

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net
From warmerdam at pobox.com  Sat Mar 15 10:20:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Mar 15 10:20:39 2008
Subject: [Gdal-dev] GDAL vs ArcGIS raster calculator
In-Reply-To: <16056156.post@talk.nabble.com>
References: <16056156.post@talk.nabble.com>
Message-ID: <47DBDB28.8030300@pobox.com>

joosthoek wrote:
> Hi,
> 
> 
> I was wondering if someone knows if there is a GDAL alternative for the
> following ArcGIS Raster Calculator code:
> 
> select ( merge ( setnull ( [raster] > 32767 , [raster] ) , ( [raster] -
> 65536 ) ) , 'value <> -32768' )
> 
> The input raster is 16-bit DTM data and as far as I know this code sets the
> values to meters with correct datum.
> 
> I was trying the gdal_translate -scale option but that didn't work somehow
> (I tried -scale 0 65535 -32768 32767). Someone has a better idea?

Jelmer,

The calculation appears to be correcting for 16 bit signed integer data
that was incorrectly treated as unsigned.  It also marks post-adjusted
values of -32768 as nodata.

You should be able to do something similar with a numpy python script like
the following (which works with FWTools):

#!/usr/bin/env python

import gdal
import gdalnumeric

x = gdalnumeric.LoadFile('utm.tif')

x_adjusted = gdalnumeric.choose( \
     gdalnumeric.greater( x, 32767 ),  (x, x-65536) )

x_adjusted = x_adjusted.astype(gdalnumeric.Int16)

prototype_ds = gdal.Open( 'utm.tif' )
gdalnumeric.SaveArray( x_adjusted, 'utm2.tif', prototype = prototype_ds )


Note, this script does not set the nodata value.  That could be done as
an additional step with gdal_translate, or is left as an exercise for the
reader. :-)

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From john.tull at wildnevada.org  Sat Mar 15 12:09:18 2008
From: john.tull at wildnevada.org (John C. Tull)
Date: Sat Mar 15 12:09:27 2008
Subject: [gdal-dev] Re: GDAL svn build
In-Reply-To: <D6E2145E-E7D1-4BA1-8CE2-DDACD1A9F694@kyngchaos.com>
References: <B2CB2F58-7C48-4EC2-9AA5-D386EFD39076@wildnevada.org>
	<D6E2145E-E7D1-4BA1-8CE2-DDACD1A9F694@kyngchaos.com>
Message-ID: <742AA7FF-DECF-48C7-A680-E7E73E2E9E7B@wildnevada.org>

William,

Thanks for the input.

As I mentioned in a separate email, I used
configure
make
sudo make install

I will cc the gdal-dev list and make a bug report on this.

Thanks,
John

On Mar 14, 2008, at 10:07 PM, William Kyngesburye wrote:
> Was that:
>
> configure
> make
> sudo make install
>
> or:
>
> configure
> sudo make install
>
> If you make then make install, it shouldn't be compiling again.  The  
> configure looks OK, except that you probably don't need the --build  
> flag, configure should get it right and take into account your arch  
> setting.  And --with-system-zlib is not a valid flag (might be an  
> old one), and zlib detection should find the system libz anyways.
>
> Anyways, I was going to build the 1.5.1 RC this weekend.  But  
> cpl_hash_set.cpp is new to SVN and is not in the release source, and  
> I haven't built SVN in while.
>
> You should file a bug report on this - looks like some 64bit pointer  
> problem.
>
>
> On Mar 14, 2008, at 11:33 PM, John C. Tull wrote:
>
>> William,
>>
>> I was interested in trying out some new gdal features, and hoping  
>> to build a 64-bit framework. I managed to compile with the  
>> configure options below, apparently without any errors. I was  
>> stabbing in the dark to come up with the configure line, so it  
>> might be something simple there. After compiling successfully, my  
>> 'make install' failed with the output below. I wondered if you  
>> might have some insight as to what my be happening. If not, I can  
>> run this past the gdal-dev list.
>>
>> Thanks,
>> John
>>
>> ./configure CC='gcc -arch x86_64 -isysroot /Developer/SDKs/ 
>> MacOSX10.5.sdk' CXX='g++ -arch x86_64 -isysroot /Developer/SDKs/ 
>> MacOSX10.5.sdk' --with-system-zlib --build=x86_64-apple-darwin9.2.0  
>> --with-macosx-framework --disable-dependency-tracking
>>
>> sudo make install
>> (cd port; make)
>> /bin/sh /Users/jctull/sources/gdal/libtool --mode=compile --tag=CXX  
>> g++ -arch x86_64 -isysroot /Developer/SDKs/MacOSX10.5.sdk -g -O2  - 
>> Wall  -DOGR_ENABLED -I/Users/jctull/sources/gdal/port 	 - 
>> DHAVE_CURL  -c -o cpl_hash_set.o cpl_hash_set.cpp
>> libtool: compile:  g++ -arch x86_64 -isysroot /Developer/SDKs/ 
>> MacOSX10.5.sdk -g -O2 -Wall -DOGR_ENABLED -I/Users/jctull/sources/ 
>> gdal/port -DHAVE_CURL -c cpl_hash_set.cpp  -fno-common -DPIC - 
>> o .libs/cpl_hash_set.o
>> cpl_hash_set.cpp: In function 'unsigned int  
>> CPLHashSetHashPointer(const void*)':
>> cpl_hash_set.cpp:385: error: cast from 'const void*' to 'int' loses  
>> precision
>> make[1]: *** [cpl_hash_set.o] Error 1
>> make: *** [port-target] Error 2
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> Theory of the Universe
>
> There is a theory which states that if ever anyone discovers exactly  
> what the universe is for and why it is here, it will instantly  
> disappear and be replaced by something even more bizarrely  
> inexplicable.  There is another theory which states that this has  
> already happened.
>
> -Hitchhiker's Guide to the Galaxy 2nd season intro
>
>

From even.rouault at mines-paris.org  Sat Mar 15 13:35:36 2008
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat Mar 15 13:35:44 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
In-Reply-To: <47DB0518.9000505@pobox.com>
References: <47DB0518.9000505@pobox.com>
Message-ID: <200803151835.37935.even.rouault@mines-paris.org>

I'm +1 on RC4.

Le Saturday 15 March 2008 00:07:04 Frank Warmerdam, vous avez ?crit?:
> Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
>
> I have prepared a new RC with the #2005 fix.  It is available at:
>
>    http://download.osgeo.org/gdal/gdal-1.5.1RC4.tar.gz
>    http://download.osgeo.org/gdal/gdal151RC4.zip
>
> I'm starting the voting at +1 on RC4.
>
> Best regards,


From jelmer.oosthoek at tno.nl  Sun Mar 16 09:45:08 2008
From: jelmer.oosthoek at tno.nl (joosthoek)
Date: Sun Mar 16 09:45:09 2008
Subject: [Gdal-dev] GDAL vs ArcGIS raster calculator
In-Reply-To: <47DBDB28.8030300@pobox.com>
References: <16056156.post@talk.nabble.com> <47DBDB28.8030300@pobox.com>
Message-ID: <16079149.post@talk.nabble.com>


Hi Frank,

Thanks for your reply, I'll try it out using python. Yeay, nodata worked
using gdal_translate -nodata 0. One other question, is it also possible to
use not python but .NET?

Cheers,

Jelmer


Frank Warmerdam-2 wrote:
> 
> Jelmer,
> 
> The calculation appears to be correcting for 16 bit signed integer data
> that was incorrectly treated as unsigned.  It also marks post-adjusted
> values of -32768 as nodata.
> 
> You should be able to do something similar with a numpy python script like
> the following (which works with FWTools):
> 
> #!/usr/bin/env python
> 
> import gdal
> import gdalnumeric
> 
> x = gdalnumeric.LoadFile('utm.tif')
> 
> x_adjusted = gdalnumeric.choose( \
>      gdalnumeric.greater( x, 32767 ),  (x, x-65536) )
> 
> x_adjusted = x_adjusted.astype(gdalnumeric.Int16)
> 
> prototype_ds = gdal.Open( 'utm.tif' )
> gdalnumeric.SaveArray( x_adjusted, 'utm2.tif', prototype = prototype_ds )
> 
> 
> Note, this script does not set the nodata value.  That could be done as
> an additional step with gdal_translate, or is left as an exercise for the
> reader. :-)
> 

-- 
View this message in context: http://www.nabble.com/GDAL-vs-ArcGIS-raster-calculator-tp16056156p16079149.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Sun Mar 16 11:38:55 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun Mar 16 11:39:06 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
References: <47CA77F3.2010102@o2.pl> <loom.20080303T051637-425@post.gmane.org>
	<47DAD516.6060505@o2.pl> <47DAD7E0.1010202@pobox.com>
	<47DAE0A2.1070805@o2.pl> <47DAE84C.2030301@pobox.com>
	<47DAF2EB.70207@o2.pl>
Message-ID: <loom.20080316T153458-284@post.gmane.org>

Maciej Sieczka <tutey <at> o2.pl> writes:

> Since gdalwarp supports compressing tiffs, who would guess he has to do 
> something extra? gdalwarp makes an impression of being able to warp and 
> compress in one step. Not many users will expect that gdalwarp writes a 
> compressed TIFF bigger than not compressed, and that he has to fix this 
> with gdal_translate afterwards.

For my mind this gdalwarp - LZW compression bug could be well enough corrected
by adding a line to gdalwarp documantation saying that it is not recommended
without preliminary test with actual image data.

I don't know if an effective LZW compression is possible to perform in warping
situation, when the compressor should be able to compress a stream of warped
data without knowing before hand what will follow.  Perhaps it is, for example
line by line, but with some other compressing methods it is for sure not.  I
believe that having two runs, first warp to uncompressed file and then
compressing it will not take very much longer time.  LZW compression is rather a
a fast process compared to warping. I do understand that this is mostly a
question of principle: if it is possible to do then it should do it right and
you would be happy if it is deactivated.  For example one cannot warp directly
with gdalwarp into ecw format but people are tolerating this limitation. Even it
is possible to do with ER Mapper products.

By the way, have you ever tried to create a tiled tiff as output?  It might give
the compressor some nice intermediate points to decide when to compress a bunch
of image data and then, perhaps, the final file size would not increase so much.

-Jukka Rahkonen-


From javierurien+gdal at gmail.com  Sun Mar 16 12:19:50 2008
From: javierurien+gdal at gmail.com (Javier Urien)
Date: Sun Mar 16 12:19:52 2008
Subject: [gdal-dev] GEOS suppor on win32 with MinGW
Message-ID: <d2595b180803160919y6ef1d0duadafffbf00fba442@mail.gmail.com>

Hello everyone,


  Has anyone had success compiling GEOS suppor in GDAL using MinGW?

  I am using GDAL v1.5.0 and GEOS 3.0.0 and I get an error when
configure is checking for GEOSVersion in -lgeos_c. Looking at
config.log I get this output:

configure:25817: checking for GEOS version >= 2.2.0
configure:25840: result: yes
configure:25872: checking for GEOSversion in -lgeos_c
configure:25908: gcc -o conftest.exe -I/usr/local/include   conftest.c -lgeos_c
       -L/usr/local/lib -lgeos_c >&5
c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0xd):
undefined reference to `std::string::size() const'
c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0x60):
undefined reference to `std::string::operator[](unsigned int) const'
c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0x9e):
undefined reference to `std::string::operator[](unsigned int) const'
c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0xcc):
undefined reference to `std::string::operator[](unsigned int) const'

  This least me to belive that geos_c is c++ and thus is not linking
correctly. Is this GDAL's fault? or GEOS? or mine?

  I will try using the latest GEOS 2.2.x and get back, but if someone
has an answer please do let me know

Regards
From szekerest at gmail.com  Sun Mar 16 14:39:20 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 16 14:39:23 2008
Subject: [gdal-dev] Support for the premultiplied alpha channels
Message-ID: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>

Folks,

Do we have any support to use bitmaps with premultiplied alpha
channels? I think there are some raster formats that can convey these
types of images and the viewers can take care of this option.

The only thing I'd like to see is to be able to determine if the image
actually uses premultiplied alpha regardless of whether the drivers
actually support this or not at the moment.

But currently I don't see which is the right place to denote this
option. I consider this is a dataset wide property rather that
attached to a single band.


Best regards,

Tamas
From warmerdam at pobox.com  Sun Mar 16 14:51:07 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Mar 16 14:51:29 2008
Subject: [gdal-dev] Support for the premultiplied alpha channels
In-Reply-To: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>
References: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>
Message-ID: <47DD6C1B.9070004@pobox.com>

Tamas Szekeres wrote:
> Folks,
> 
> Do we have any support to use bitmaps with premultiplied alpha
> channels? I think there are some raster formats that can convey these
> types of images and the viewers can take care of this option.
> 
> The only thing I'd like to see is to be able to determine if the image
> actually uses premultiplied alpha regardless of whether the drivers
> actually support this or not at the moment.
> 
> But currently I don't see which is the right place to denote this
> option. I consider this is a dataset wide property rather that
> attached to a single band.

Tamas,

There is no GDAL way of expressing whether image bands are premultipled
with alpha (unfortunately).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Sun Mar 16 16:14:25 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 16 16:14:28 2008
Subject: [gdal-dev] Support for the premultiplied alpha channels
In-Reply-To: <47DD6C1B.9070004@pobox.com>
References: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>
	<47DD6C1B.9070004@pobox.com>
Message-ID: <f3b73b7d0803161314q256e3cb3u7e31bfa8100d56ad@mail.gmail.com>

Frank,

I really got confused because of this :-((  It seems the the various
formats use different alpha representations by default. In this regard
I really don't know how to take care of this in an application without
having to consider the format actually used.
For example tiff uses pre-multiplied alpha by default (related to
EXTRASAMPLE_ASSOCALPHA = 1), but however, other formats like png uses
non premultiplied by default (AFAIK). Because of this reason the upper
level application won't really know which relationship to be used when
combining these images.
This is not an issue for GDAL itself but a significant problem for the
upper level applications. The drivers should at least denote which
alpha representation is actually used.


Best regards,

Tamas




2008/3/16, Frank Warmerdam <warmerdam@pobox.com>:
> Tamas Szekeres wrote:
>  > Folks,
>  >
>  > Do we have any support to use bitmaps with premultiplied alpha
>  > channels? I think there are some raster formats that can convey these
>  > types of images and the viewers can take care of this option.
>  >
>  > The only thing I'd like to see is to be able to determine if the image
>  > actually uses premultiplied alpha regardless of whether the drivers
>  > actually support this or not at the moment.
>  >
>  > But currently I don't see which is the right place to denote this
>  > option. I consider this is a dataset wide property rather that
>  > attached to a single band.
>
>
> Tamas,
>
>  There is no GDAL way of expressing whether image bands are premultipled
>  with alpha (unfortunately).
>
>  Best regards,
>
> --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
From ari.jolma at tkk.fi  Sun Mar 16 16:24:05 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Sun Mar 16 16:22:44 2008
Subject: [gdal-dev] GEOS suppor on win32 with MinGW
In-Reply-To: <d2595b180803160919y6ef1d0duadafffbf00fba442@mail.gmail.com>
References: <d2595b180803160919y6ef1d0duadafffbf00fba442@mail.gmail.com>
Message-ID: <47DD81E5.303@tkk.fi>

Javier Urien kirjoitti:
> Hello everyone,
>
>
>   Has anyone had success compiling GEOS suppor in GDAL using MinGW?
>
>   I am using GDAL v1.5.0 and GEOS 3.0.0 and I get an error when
> configure is checking for GEOSVersion in -lgeos_c. Looking at
> config.log I get this output:
>
> configure:25817: checking for GEOS version >= 2.2.0
> configure:25840: result: yes
> configure:25872: checking for GEOSversion in -lgeos_c
> configure:25908: gcc -o conftest.exe -I/usr/local/include   conftest.c -lgeos_c
>        -L/usr/local/lib -lgeos_c >&5
> c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0xd):
> undefined reference to `std::string::size() const'
> c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0x60):
> undefined reference to `std::string::operator[](unsigned int) const'
> c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0x9e):
> undefined reference to `std::string::operator[](unsigned int) const'
> c:/msys/1.0/local/lib/libgeos_c.a(libgeos_c_la-geos_c.o):geos_c.cpp:(.text+0xcc):
> undefined reference to `std::string::operator[](unsigned int) const'
>
>   This least me to belive that geos_c is c++ and thus is not linking
> correctly. Is this GDAL's fault? or GEOS? or mine?
>   

 From my config.log:

configure:25701: checking for geos-config
configure:25719: found /usr/local/bin/geos-config
configure:25732: result: /usr/local/bin/geos-config
configure:25832: checking for GEOS version >= 2.2.0
configure:25855: result: yes
configure:25887: checking for GEOSversion in -lgeos_c
configure:25923: gcc -o conftest.exe -I/usr/local/include   conftest.c 
-lgeos_c
       -L/usr/local/lib -lgeos_c >&5
configure:25929: $? = 0
configure:25947: result: yes
configure:25966: Using C API from GEOS 3.0.0rc4

My gcc is 3.4.5

"std::string::size() const" in your errors seems rather basic, maybe 
your gcc is not finding all standard libraries?

Ari

 
>   I will try using the latest GEOS 2.2.x and get back, but if someone
> has an answer please do let me know
>
> Regards
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>   


-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From woklist at kyngchaos.com  Sun Mar 16 17:04:50 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sun Mar 16 17:04:53 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
In-Reply-To: <47DB0518.9000505@pobox.com>
References: <47DB0518.9000505@pobox.com>
Message-ID: <26338B51-E259-49DD-A051-C1AD04B727E4@kyngchaos.com>

...Doing some testing on OSX, the autotests from the 1.5.0 release  
work fine for 1.5.1.

I'm having problems with the JPEG2000 driver and wondered why I didn't  
notice problems before (in 1.5.0).  Now I see that the autotests have  
no JPEG2000 driver test, though http://trac.osgeo.org/gdal/wiki/AutotestStatus 
  says there is.

On Mar 14, 2008, at 6:07 PM, Frank Warmerdam wrote:

> Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
>
> I have prepared a new RC with the #2005 fix.  It is available at:
>
>  http://download.osgeo.org/gdal/gdal-1.5.1RC4.tar.gz
>  http://download.osgeo.org/gdal/gdal151RC4.zip
>
> I'm starting the voting at +1 on RC4.
>

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"This is a question about the past, is it? ... How can I tell that the  
past isn't a fiction designed to account for the discrepancy between  
my immediate physical sensations and my state of mind?"

- The Ruler of the Universe


From szekerest at gmail.com  Sun Mar 16 17:36:22 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 16 17:36:25 2008
Subject: [gdal-dev] Support for the premultiplied alpha channels
In-Reply-To: <f3b73b7d0803161314q256e3cb3u7e31bfa8100d56ad@mail.gmail.com>
References: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>
	<47DD6C1B.9070004@pobox.com>
	<f3b73b7d0803161314q256e3cb3u7e31bfa8100d56ad@mail.gmail.com>
Message-ID: <f3b73b7d0803161436h7ec7fafbs6fbbff988e4acb47@mail.gmail.com>

Here is an example to demonstrate the effect of  the incorrect alpha
consideration. I've composed a tiff created with adobe photoshop (and
loaded by GDAL C#) with a white-gray hatch background.

In the first case I've read the image as Pixelformat.Format32bppArgb
(with non premultiplied alpha):
http://vbkto.dyndns.org:1280/non_pre_overlay.png

In the second case I've loaded the same raster into Pixelformat.Format32bppPArgb
http://vbkto.dyndns.org:1280/pre_overlay.png

The latter is the correct.

Best regards,

Tamas



2008/3/16, Tamas Szekeres <szekerest@gmail.com>:
> Frank,
>
>  I really got confused because of this :-((  It seems the the various
>  formats use different alpha representations by default. In this regard
>  I really don't know how to take care of this in an application without
>  having to consider the format actually used.
>  For example tiff uses pre-multiplied alpha by default (related to
>  EXTRASAMPLE_ASSOCALPHA = 1), but however, other formats like png uses
>  non premultiplied by default (AFAIK). Because of this reason the upper
>  level application won't really know which relationship to be used when
>  combining these images.
>  This is not an issue for GDAL itself but a significant problem for the
>  upper level applications. The drivers should at least denote which
>  alpha representation is actually used.
>
>
>  Best regards,
>
>  Tamas
>
>
>
>
>  2008/3/16, Frank Warmerdam <warmerdam@pobox.com>:
>
> > Tamas Szekeres wrote:
>  >  > Folks,
>  >  >
>  >  > Do we have any support to use bitmaps with premultiplied alpha
>  >  > channels? I think there are some raster formats that can convey these
>  >  > types of images and the viewers can take care of this option.
>  >  >
>  >  > The only thing I'd like to see is to be able to determine if the image
>  >  > actually uses premultiplied alpha regardless of whether the drivers
>  >  > actually support this or not at the moment.
>  >  >
>  >  > But currently I don't see which is the right place to denote this
>  >  > option. I consider this is a dataset wide property rather that
>  >  > attached to a single band.
>  >
>  >
>  > Tamas,
>  >
>  >  There is no GDAL way of expressing whether image bands are premultipled
>  >  with alpha (unfortunately).
>  >
>  >  Best regards,
>  >
>  > --
>  >  ---------------------------------------+--------------------------------------
>  >  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  >  light and sound - activate the windows | http://pobox.com/~warmerdam
>  >  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>  >
>  >
>
From szekerest at gmail.com  Sun Mar 16 17:39:21 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 16 17:39:24 2008
Subject: [gdal-dev] Support for the premultiplied alpha channels
In-Reply-To: <f3b73b7d0803161436h7ec7fafbs6fbbff988e4acb47@mail.gmail.com>
References: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>
	<47DD6C1B.9070004@pobox.com>
	<f3b73b7d0803161314q256e3cb3u7e31bfa8100d56ad@mail.gmail.com>
	<f3b73b7d0803161436h7ec7fafbs6fbbff988e4acb47@mail.gmail.com>
Message-ID: <f3b73b7d0803161439q19d4efadi63b24aef15033b19@mail.gmail.com>

Oops, here are the correct links

http://vbkto.dyndns.org:1280/no_pre_overlay.png
http://vbkto.dyndns.org:1280/pre_overlay.png

Tamas


2008/3/16, Tamas Szekeres <szekerest@gmail.com>:
> Here is an example to demonstrate the effect of  the incorrect alpha
>  consideration. I've composed a tiff created with adobe photoshop (and
>  loaded by GDAL C#) with a white-gray hatch background.
>
>  In the first case I've read the image as Pixelformat.Format32bppArgb
>  (with non premultiplied alpha):
>  http://vbkto.dyndns.org:1280/non_pre_overlay.png
>
>  In the second case I've loaded the same raster into Pixelformat.Format32bppPArgb
>  http://vbkto.dyndns.org:1280/pre_overlay.png
>
>  The latter is the correct.
>
>  Best regards,
>
>  Tamas
>
>
>
>  2008/3/16, Tamas Szekeres <szekerest@gmail.com>:
>
> > Frank,
>  >
>  >  I really got confused because of this :-((  It seems the the various
>  >  formats use different alpha representations by default. In this regard
>  >  I really don't know how to take care of this in an application without
>  >  having to consider the format actually used.
>  >  For example tiff uses pre-multiplied alpha by default (related to
>  >  EXTRASAMPLE_ASSOCALPHA = 1), but however, other formats like png uses
>  >  non premultiplied by default (AFAIK). Because of this reason the upper
>  >  level application won't really know which relationship to be used when
>  >  combining these images.
>  >  This is not an issue for GDAL itself but a significant problem for the
>  >  upper level applications. The drivers should at least denote which
>  >  alpha representation is actually used.
>  >
>  >
>  >  Best regards,
>  >
>  >  Tamas
>  >
>  >
>  >
>  >
>  >  2008/3/16, Frank Warmerdam <warmerdam@pobox.com>:
>  >
>  > > Tamas Szekeres wrote:
>  >  >  > Folks,
>  >  >  >
>  >  >  > Do we have any support to use bitmaps with premultiplied alpha
>  >  >  > channels? I think there are some raster formats that can convey these
>  >  >  > types of images and the viewers can take care of this option.
>  >  >  >
>  >  >  > The only thing I'd like to see is to be able to determine if the image
>  >  >  > actually uses premultiplied alpha regardless of whether the drivers
>  >  >  > actually support this or not at the moment.
>  >  >  >
>  >  >  > But currently I don't see which is the right place to denote this
>  >  >  > option. I consider this is a dataset wide property rather that
>  >  >  > attached to a single band.
>  >  >
>  >  >
>  >  > Tamas,
>  >  >
>  >  >  There is no GDAL way of expressing whether image bands are premultipled
>  >  >  with alpha (unfortunately).
>  >  >
>  >  >  Best regards,
>  >  >
>  >  > --
>  >  >  ---------------------------------------+--------------------------------------
>  >  >  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  >  >  light and sound - activate the windows | http://pobox.com/~warmerdam
>  >  >  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>  >  >
>  >  >
>  >
>
From szekerest at gmail.com  Sun Mar 16 19:18:13 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 16 19:18:15 2008
Subject: [gdal-dev] Support for the premultiplied alpha channels
In-Reply-To: <f3b73b7d0803161436h7ec7fafbs6fbbff988e4acb47@mail.gmail.com>
References: <f3b73b7d0803161139g1cf67e5bqebe4ae83438bdf1e@mail.gmail.com>
	<47DD6C1B.9070004@pobox.com>
	<f3b73b7d0803161314q256e3cb3u7e31bfa8100d56ad@mail.gmail.com>
	<f3b73b7d0803161436h7ec7fafbs6fbbff988e4acb47@mail.gmail.com>
Message-ID: <f3b73b7d0803161618y76493bffl6afc92e898184f29@mail.gmail.com>

I've found that the tif and the png formats use different alpha
representations by default so I consider this as a bug in GDAL not to
represent this behaviour, and created a ticket for it.

http://trac.osgeo.org/gdal/ticket/2279


Best regards,

Tamas



2008/3/16, Tamas Szekeres <szekerest@gmail.com>:
> Here is an example to demonstrate the effect of  the incorrect alpha
>  consideration. I've composed a tiff created with adobe photoshop (and
>  loaded by GDAL C#) with a white-gray hatch background.
>
>  In the first case I've read the image as Pixelformat.Format32bppArgb
>  (with non premultiplied alpha):
>  http://vbkto.dyndns.org:1280/non_pre_overlay.png
>
>  In the second case I've loaded the same raster into Pixelformat.Format32bppPArgb
>  http://vbkto.dyndns.org:1280/pre_overlay.png
>
>  The latter is the correct.
>
>  Best regards,
>
>  Tamas
>
>
>
>  2008/3/16, Tamas Szekeres <szekerest@gmail.com>:
>
> > Frank,
>  >
>  >  I really got confused because of this :-((  It seems the the various
>  >  formats use different alpha representations by default. In this regard
>  >  I really don't know how to take care of this in an application without
>  >  having to consider the format actually used.
>  >  For example tiff uses pre-multiplied alpha by default (related to
>  >  EXTRASAMPLE_ASSOCALPHA = 1), but however, other formats like png uses
>  >  non premultiplied by default (AFAIK). Because of this reason the upper
>  >  level application won't really know which relationship to be used when
>  >  combining these images.
>  >  This is not an issue for GDAL itself but a significant problem for the
>  >  upper level applications. The drivers should at least denote which
>  >  alpha representation is actually used.
>  >
>  >
>  >  Best regards,
>  >
>  >  Tamas
>  >
>  >
>  >
>  >
>  >  2008/3/16, Frank Warmerdam <warmerdam@pobox.com>:
>  >
>  > > Tamas Szekeres wrote:
>  >  >  > Folks,
>  >  >  >
>  >  >  > Do we have any support to use bitmaps with premultiplied alpha
>  >  >  > channels? I think there are some raster formats that can convey these
>  >  >  > types of images and the viewers can take care of this option.
>  >  >  >
>  >  >  > The only thing I'd like to see is to be able to determine if the image
>  >  >  > actually uses premultiplied alpha regardless of whether the drivers
>  >  >  > actually support this or not at the moment.
>  >  >  >
>  >  >  > But currently I don't see which is the right place to denote this
>  >  >  > option. I consider this is a dataset wide property rather that
>  >  >  > attached to a single band.
>  >  >
>  >  >
>  >  > Tamas,
>  >  >
>  >  >  There is no GDAL way of expressing whether image bands are premultipled
>  >  >  with alpha (unfortunately).
>  >  >
>  >  >  Best regards,
>  >  >
>  >  > --
>  >  >  ---------------------------------------+--------------------------------------
>  >  >  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  >  >  light and sound - activate the windows | http://pobox.com/~warmerdam
>  >  >  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>  >  >
>  >  >
>  >
>
From cst242 at gmail.com  Mon Mar 17 02:14:19 2008
From: cst242 at gmail.com (cstripathi)
Date: Mon Mar 17 02:14:22 2008
Subject: [gdal-dev] need help in arcinfo binary grid format
Message-ID: <c50bf780-7a4c-490f-9fde-7185e3f4ce84@c19g2000prf.googlegroups.com>

Hi All,

This is Chandra Shekhar Tripathi, writing a reader for Arc/Info Binary
Grid.We need a little help on this.
I will explain what I have understood after read the specification ,
please correct me if I am wrong somewhere.
In ArcInfo format, entire region is divided into a few number of grids
and
each grid is further divided into tiles. Number of tiles in the grid
can
be found out by reading fields in hdr.adf  and boundry of grid or
value of LLX,LLY,URX,URY can  be found out by
reading fieldes in dblbnd.hdr.
now after reading all file found out all these value


After read that hdr.adf file I got this value


According to specification
value



Hcelltype
1

Magic                                                  grid 1.2 /
00

PixelSizeX
0.08333

PixelSizeY
0.08333

TilesPerRow
8

TilesPerColumn
512

TileXSize
256

TileYSize
4

Xref                                                     -58.911352

Yref                                                     -278.079399



After read that dblbnd.adf file you got this value


According to specification
value



D_LLX
24.

D_LLY
-27

D_URX
30

D_URY
-22

now put all value in to spacification
grid devide in to number of tile=8*512
& each tile devide into number of block=256*4
mean each tile contain 1024 cells.& difference  between one cell to
another cell is 0.08333 according to the geting value

so   number of collumn in tile*number of block in each tile*pixelsize
X  =  8 * 256 * 0.08333  =  170

but if we check with diffreence between ( 30-24 ) then it is only 6

so where i am wrong or please help me.also explain me how to devide
grid into tile & tile into block in equal portion

plz help me



Thanks
-Tripathi
From admin at merletn.org  Mon Mar 17 08:20:54 2008
From: admin at merletn.org (Nicolas MERLET)
Date: Mon Mar 17 08:21:07 2008
Subject: [gdal-dev] GDAL translate/warp in C#
Message-ID: <005f01c88829$5aa88790$05000100@NICOLAS>


Hi all,

Does anyone have a workable project under C# to call gdal_translate/warp ?

As for now I'm just using a system call to the command line program. I'm
interested in including this part directly into my C# project. However I've
no time to do that. I've no time to learn how to implement it on my own
too...

That's why I'm interested in getting a sample of code.

Could you help ?

Regards, Nicolas



From warmerdam at pobox.com  Mon Mar 17 09:05:40 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 17 09:06:00 2008
Subject: [gdal-dev] Re: Motion: Maintainer Contract for Chris Howell
In-Reply-To: <47D9435D.1090204@pobox.com>
References: <47D9435D.1090204@pobox.com>
Message-ID: <47DE6CA4.70607@pobox.com>

Frank Warmerdam wrote:
> Motion: To authorize Frank Warmerdam to negotiate a maintainer contract 
> with
> Chris Howell for March to May for up to 17 hours at $17.60 USD/hr.  The
> contract would be in accordance with RFC 9: GDAL Paid Maintainer Guidelines
> with Frank as designated supervisor.

Folks,

This motion is passed with support from EvenR, AndreyK, HowardB, TamasS,
DanielB and myself.  I'll work to get this going as quickly as possible.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mattia.parigiani at gmail.com  Mon Mar 17 15:05:02 2008
From: mattia.parigiani at gmail.com (mattia)
Date: Mon Mar 17 15:05:15 2008
Subject: [gdal-dev] Generic way to extract Projection & CRS Information from
	raster imagery
Message-ID: <6b6f1c810803171205l6142e321jb0e1470e838c6d3d@mail.gmail.com>

Hi Folks,

I was just wondering if there is a generic way to extract CRS/Projection
information from a generic raster image for which there exists geo
information..

What would be nice would be to use the output from gdalinfo to extract a
Proj4 CRS string which defines the coordinate system of the image under
investigation..

For example, I have a SPOT image with the following gdalinfo output:

Driver: GTiff/GeoTIFF
Files: IMAGERY.TIF
Size is 24000, 24000
Coordinate System is `'
GCP Projection = GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,
298.2572235629972
,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0],UNIT["degree",
0.0174532925199433],AUTHORITY["EPSG","4326"]]
GCP[  0]: Id=1, Info=
          (1,1) -> (12.2141588220865,42.2864439118571,0)
GCP[  1]: Id=2, Info=
          (24000,1) -> (12.9457778570306,42.1574501849122,0)
GCP[  2]: Id=3, Info=
          (24000,24000) -> (12.773880153851,41.6326270994087,0)
GCP[  3]: Id=4, Info=
          (1,24000) -> (12.0481891024801,41.7611321956389,0)
Metadata:
  AREA_OR_POINT=Point
  TIFFTAG_IMAGEDESCRIPTION=PAN
  TIFFTAG_DATETIME=2002:10:24 10:52:26
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,24000.0)
Upper Right (24000.0,    0.0)
Lower Right (24000.0,24000.0)
Center      (12000.0,12000.0)
Band 1 Block=24000x128 Type=Byte, ColorInterp=Gray



What would the Proj4 string be in this case?

How to generalize to any type of imagery and using gdalinfo's output??

Thanks in advance


-- 
Mattia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080317/86b8e598/attachment.html
From dmorissette at mapgears.com  Mon Mar 17 15:51:14 2008
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon Mar 17 15:51:16 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
In-Reply-To: <47DB0518.9000505@pobox.com>
References: <47DB0518.9000505@pobox.com>
Message-ID: <47DECBB2.5020503@mapgears.com>

+1 (Based on little testing with FGS)

Daniel

Frank Warmerdam wrote:
> Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
> 
> I have prepared a new RC with the #2005 fix.  It is available at:
> 
>   http://download.osgeo.org/gdal/gdal-1.5.1RC4.tar.gz
>   http://download.osgeo.org/gdal/gdal151RC4.zip
> 
> I'm starting the voting at +1 on RC4.
> 
> Best regards,


-- 
Daniel Morissette
http://www.mapgears.com/
From szekerest at gmail.com  Mon Mar 17 16:02:57 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar 17 16:03:01 2008
Subject: [gdal-dev] GDAL translate/warp in C#
In-Reply-To: <005f01c88829$5aa88790$05000100@NICOLAS>
References: <005f01c88829$5aa88790$05000100@NICOLAS>
Message-ID: <f3b73b7d0803171302n5000252dubec513ac164af4f0@mail.gmail.com>

Nicolas,

The only code sample I've submitted related to this topic have been
attached to this ticket
http://trac.osgeo.org/gdal/ticket/1469

This sample uses the GDAL SWIG C# interface. The SWIG API supports the
vrt based approach to do this kind of transformations.

Best regards,

Tamas


2008/3/17, Nicolas MERLET <admin@merletn.org>:
>
>  Hi all,
>
>  Does anyone have a workable project under C# to call gdal_translate/warp ?
>
>  As for now I'm just using a system call to the command line program. I'm
>  interested in including this part directly into my C# project. However I've
>  no time to do that. I've no time to learn how to implement it on my own
>  too...
>
>  That's why I'm interested in getting a sample of code.
>
>  Could you help ?
>
>  Regards, Nicolas
>
>
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dylan.beaudette at gmail.com  Mon Mar 17 19:27:14 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Mon Mar 17 19:27:29 2008
Subject: [gdal-dev] vertical datum transformations
Message-ID: <200803171627.14535.dylan.beaudette@gmail.com>

Just tried out vertcon [1] for converting between the two common vertical 
datums in north america. It is distributed with fortran source which compiles 
nicely with f77, and seems like it can be converted to C with f2c (gcc 
compiles it). 

This application works ok, but it is a pain to use on more than one input 
filem and the output is somewhat arcane. Has anyone considered integrating 
this functionality into GDAL ?


1. http://geodesy.noaa.gov/PC_PROD/VERTCON/


Cheers,

Dylan


-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From xiaodong.zhang2 at und.edu  Mon Mar 17 21:52:11 2008
From: xiaodong.zhang2 at und.edu (Xiaodong Zhang)
Date: Mon Mar 17 21:52:08 2008
Subject: [gdal-dev] cannot open shape file created in linux in windows
Message-ID: <47DF204B.3080702@und.edu>

Hi,

I used --- ogr2ogr -f "ESRI Shapefile" grid grid.csv -nlt multipoint 
----- to convert a series of points (in csv format) into a shape file of 
multiple points. I also have a grid.vrt and a grid.csvt file that are 
used in this conversion. A directory named grid was created and under it 
there are 3 files, namely, grid.shp, grid.dbf, and grid.shx. Using 
ogrinfo grid returns,
INFO: Open of 'grid', using driver 'ESRI Shapefile" successful. 1:grid 
(multi point).
Also using ogrinfo -ro -al grid returns a series of records, and the 
last one is
OGRFeature (grid): 5374
long (Real) = -100.08310911830001
lat (Real) = 44.963133226799997
data (Real) = 3
mapped dat (Real) = 68.000000000

The above commands were executed in Linux with gdal installed. After 
transferring grid folder to windows, I can open them, but nothing show 
up (I tried ENVI and FWTool). For example, in FWTool, it seemed that the 
shape file can be opened, but this is what showed in the Shape 
Attributes window,

Where did I do wrong?

Thanks
Xiaodong
-------------- next part --------------
Skipped content of type multipart/related
From mchapman at texelinc.com  Mon Mar 17 22:05:31 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Mon Mar 17 22:05:52 2008
Subject: [gdal-dev] FWTools 2.1.0 compiled in debug mode
Message-ID: <000c01c8889c$8c0e6b10$a42b4130$@com>

Frank,

 

Did you know that Windows FWTools 2.1.0 is built in debug mode?  When I try
to run the program it fails saying it is looking for the MSVCR80D.dll which
the debug runtime.  Or at least one linked dll is compiled in debug.

 

Best regards,

Martin

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080317/1f418098/attachment.html
From mchapman at texelinc.com  Mon Mar 17 22:23:19 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Mon Mar 17 22:23:40 2008
Subject: [gdal-dev] FWTools 2.1.0 compiled in debug mode
In-Reply-To: <000c01c8889c$8c0e6b10$a42b4130$@com>
References: <000c01c8889c$8c0e6b10$a42b4130$@com>
Message-ID: <001701c8889f$0898ac20$19ca0460$@com>

Ok, I had another proj.dll in my path from another install so that problem
is fixed but now I am having a problem with python.  Is there anything I
should know about python being installed with FWTools?

 

Best regards,

Martin

 

From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Martin Chapman
Sent: Monday, March 17, 2008 8:06 PM
To: 'Frank Warmerdam'; gdal-dev@lists.osgeo.org
Subject: [gdal-dev] FWTools 2.1.0 compiled in debug mode

 

Frank,

 

Did you know that Windows FWTools 2.1.0 is built in debug mode?  When I try
to run the program it fails saying it is looking for the MSVCR80D.dll which
the debug runtime.  Or at least one linked dll is compiled in debug.

 

Best regards,

Martin

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080317/a9cd0a6d/attachment.html
From warmerdam at pobox.com  Mon Mar 17 23:07:27 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 17 23:07:42 2008
Subject: [gdal-dev] FWTools 2.1.0 compiled in debug mode
In-Reply-To: <001701c8889f$0898ac20$19ca0460$@com>
References: <000c01c8889c$8c0e6b10$a42b4130$@com>
	<001701c8889f$0898ac20$19ca0460$@com>
Message-ID: <47DF31EF.2070707@pobox.com>

Martin Chapman wrote:
> Ok, I had another proj.dll in my path from another install so that problem
> is fixed but now I am having a problem with python.  Is there anything I
> should know about python being installed with FWTools?

Martin,

That's a rather open-ended question, and likely more suitable for the FWTools
list.

The FWTools python is relatively old (2.3 I think on win32).  It may be
partially stripped down (some apparently unneeded stuff removed).  It is
also not "properly installed" so it won't be used from cmd.exe or the
desktop explorer to execute .py files by default.  It will be the default
python.exe in the path in the FWTools shell though.

You should assume that you cannot use other Python's with FWTools
python extensions unless you are very careful to match versions of python.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From javierurien+gdal at gmail.com  Mon Mar 17 23:26:12 2008
From: javierurien+gdal at gmail.com (Javier Urien)
Date: Mon Mar 17 23:26:14 2008
Subject: [gdal-dev] GEOS suppor on win32 with MinGW
In-Reply-To: <47DD81E5.303@tkk.fi>
References: <d2595b180803160919y6ef1d0duadafffbf00fba442@mail.gmail.com>
	<47DD81E5.303@tkk.fi>
Message-ID: <d2595b180803172026m3f1526e9v2ccfde656dcd586b@mail.gmail.com>

On Sun, Mar 16, 2008 at 5:24 PM, Ari Jolma <ari.jolma@tkk.fi> wrote:

>   From my config.log:
>
>  configure:25701: checking for geos-config
>  configure:25719: found /usr/local/bin/geos-config
>  configure:25732: result: /usr/local/bin/geos-config
>  configure:25832: checking for GEOS version >= 2.2.0
>  configure:25855: result: yes
>  configure:25887: checking for GEOSversion in -lgeos_c
>  configure:25923: gcc -o conftest.exe -I/usr/local/include   conftest.c
>
> -lgeos_c
>        -L/usr/local/lib -lgeos_c >&5
>  configure:25929: $? = 0
>  configure:25947: result: yes
>  configure:25966: Using C API from GEOS 3.0.0rc4
>
>  My gcc is 3.4.5
>
>  "std::string::size() const" in your errors seems rather basic, maybe
>  your gcc is not finding all standard libraries?
>
>  Ari
>

hey Ari,

thanks for the reply, can you post both GDAL and GEOS configure options?

Regards,
Javier.
From gaffigan at sfos.uaf.edu  Tue Mar 18 00:16:38 2008
From: gaffigan at sfos.uaf.edu (gaffigan@sfos.uaf.edu)
Date: Tue Mar 18 00:16:58 2008
Subject: [gdal-dev] cannot open shape file created in linux in windows
In-Reply-To: <47DF204B.3080702@und.edu>
References: <47DF204B.3080702@und.edu>
Message-ID: <55027.206.174.33.135.1205813798.squirrel@www.sfos.uaf.edu>

Hello.  You might try the following:
  ogr2ogr -f "ESRI Shapefile" grid.shp grid.vrt -nlt multipoint

The important part is that the source dataset is the vrt definition file,
not the csv data file.  See http://www.gdal.org/ogr/drv_csv.html.

Hopefully it's this easy.

Steve


> Hi,
>
> I used --- ogr2ogr -f "ESRI Shapefile" grid grid.csv -nlt multipoint
----- to convert a series of points (in csv format) into a shape file of
multiple points. I also have a grid.vrt and a grid.csvt file that are
used in this conversion. A directory named grid was created and under it
there are 3 files, namely, grid.shp, grid.dbf, and grid.shx. Using
ogrinfo grid returns,
> INFO: Open of 'grid', using driver 'ESRI Shapefile" successful. 1:grid
(multi point).
> Also using ogrinfo -ro -al grid returns a series of records, and the
last one is
> OGRFeature (grid): 5374
> long (Real) = -100.08310911830001
> lat (Real) = 44.963133226799997
> data (Real) = 3
> mapped dat (Real) = 68.000000000
>
> The above commands were executed in Linux with gdal installed. After
transferring grid folder to windows, I can open them, but nothing show
up (I tried ENVI and FWTool). For example, in FWTool, it seemed that the
shape file can be opened, but this is what showed in the Shape
> Attributes window,
>
> Where did I do wrong?
>
> Thanks
> Xiaodong
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev




From xiaodong.zhang2 at und.edu  Tue Mar 18 00:40:32 2008
From: xiaodong.zhang2 at und.edu (Xiaodong Zhang)
Date: Tue Mar 18 00:40:29 2008
Subject: [gdal-dev] cannot open shape file created in linux in windows
In-Reply-To: <55027.206.174.33.135.1205813798.squirrel@www.sfos.uaf.edu>
References: <47DF204B.3080702@und.edu>
	<55027.206.174.33.135.1205813798.squirrel@www.sfos.uaf.edu>
Message-ID: <47DF47C0.2050606@und.edu>

Hello Steve,

Thanks for offering help. Trying

ogr2ogr -f "ESRI Shapefile" grid.shp grid.vrt -nlt multipoint

I got error message, saying 'Unable to open data source grid.vrt with 
the following drivers', followed by a list of drivers, including ESRI 
Shapefile, CSV, among others.

Actually, I got the same error message when running ogrinfo -ro -al 
test.vrt, using the exact same example listed in the page you referred to,

http://www.gdal.org/ogr/drv_csv.html

Any idea?

Xiaodong

gaffigan@sfos.uaf.edu wrote:
> Hello.  You might try the following:
>   ogr2ogr -f "ESRI Shapefile" grid.shp grid.vrt -nlt multipoint
>
> The important part is that the source dataset is the vrt definition file,
> not the csv data file.  See http://www.gdal.org/ogr/drv_csv.html.
>
> Hopefully it's this easy.
>
> Steve
>
>
>   
>> Hi,
>>
>> I used --- ogr2ogr -f "ESRI Shapefile" grid grid.csv -nlt multipoint
>>     
> ----- to convert a series of points (in csv format) into a shape file of
> multiple points. I also have a grid.vrt and a grid.csvt file that are
> used in this conversion. A directory named grid was created and under it
> there are 3 files, namely, grid.shp, grid.dbf, and grid.shx. Using
> ogrinfo grid returns,
>   
>> INFO: Open of 'grid', using driver 'ESRI Shapefile" successful. 1:grid
>>     
> (multi point).
>   
>> Also using ogrinfo -ro -al grid returns a series of records, and the
>>     
> last one is
>   
>> OGRFeature (grid): 5374
>> long (Real) = -100.08310911830001
>> lat (Real) = 44.963133226799997
>> data (Real) = 3
>> mapped dat (Real) = 68.000000000
>>
>> The above commands were executed in Linux with gdal installed. After
>>     
> transferring grid folder to windows, I can open them, but nothing show
> up (I tried ENVI and FWTool). For example, in FWTool, it seemed that the
> shape file can be opened, but this is what showed in the Shape
>   
>> Attributes window,
>>
>> Where did I do wrong?
>>
>> Thanks
>> Xiaodong
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>     
>
>
>
>
>   

From mchapman at texelinc.com  Tue Mar 18 00:44:15 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Tue Mar 18 00:44:36 2008
Subject: [gdal-dev] FWTools 2.1.0 compiled in debug mode
In-Reply-To: <47DF31EF.2070707@pobox.com>
References: <000c01c8889c$8c0e6b10$a42b4130$@com>
	<001701c8889f$0898ac20$19ca0460$@com> <47DF31EF.2070707@pobox.com>
Message-ID: <002b01c888b2$b8bcdb40$2a3691c0$@com>

Frank,

Thank you for that explanation.  I think that is the problem, that I am
using another version of Python on my system.  By the way, the latest GDAL
1.5.1 RC4 works fine for me on Windows.  Thanks again for all the hard work
you guys do.

Best regards,
Martin


-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Monday, March 17, 2008 9:07 PM
To: Martin Chapman
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] FWTools 2.1.0 compiled in debug mode

Martin Chapman wrote:
> Ok, I had another proj.dll in my path from another install so that problem
> is fixed but now I am having a problem with python.  Is there anything I
> should know about python being installed with FWTools?

Martin,

That's a rather open-ended question, and likely more suitable for the
FWTools
list.

The FWTools python is relatively old (2.3 I think on win32).  It may be
partially stripped down (some apparently unneeded stuff removed).  It is
also not "properly installed" so it won't be used from cmd.exe or the
desktop explorer to execute .py files by default.  It will be the default
python.exe in the path in the FWTools shell though.

You should assume that you cannot use other Python's with FWTools
python extensions unless you are very careful to match versions of python.

Best regards,
-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org


From gaffigan at sfos.uaf.edu  Tue Mar 18 04:02:32 2008
From: gaffigan at sfos.uaf.edu (gaffigan@sfos.uaf.edu)
Date: Tue Mar 18 04:02:54 2008
Subject: [gdal-dev] cannot open shape file created in linux in windows
In-Reply-To: <47DF47C0.2050606@und.edu>
References: <47DF204B.3080702@und.edu>
	<55027.206.174.33.135.1205813798.squirrel@www.sfos.uaf.edu>
	<47DF47C0.2050606@und.edu>
Message-ID: <44064.206.174.29.35.1205827352.squirrel@www.sfos.uaf.edu>

Xiaodong,

Good morning.  I'm not sure why the example wouldn't work on your machine.
 When I paste the lines below into my linux terminal window, I get the
result shown on the csv driver page.  I tried the example without error on
a number of machines, with GDAL versions ranging from 1.5.0 to 1.3.1.  You
could confirm that the VRT driver is enabled, but I thought it always is.
  ogrinfo --formats     # look for "VRT"

Steve

cat > test.csv <<EOF
Latitude,Longitude,Name
48.1,0.25,"First point"
49.2,1.1,"Second point"
47.5,0.75,"Third point"
EOF
cat > test.vrt <<EOF
<OGRVRTDataSource>
    <OGRVRTLayer name="test">
        <SrcDataSource>test.csv</SrcDataSource>
        <GeometryType>wkbPoint</GeometryType>
        <LayerSRS>WGS84</LayerSRS>
        <GeometryField encoding="PointFromColumns" x="Longitude"
y="Latitude"/>
    </OGRVRTLayer>
</OGRVRTDataSource>
EOF
ogrinfo -ro -al test.vrt


> Hello Steve,
>
> Thanks for offering help. Trying
>
> ogr2ogr -f "ESRI Shapefile" grid.shp grid.vrt -nlt multipoint
>
> I got error message, saying 'Unable to open data source grid.vrt with
> the following drivers', followed by a list of drivers, including ESRI
> Shapefile, CSV, among others.
>
> Actually, I got the same error message when running ogrinfo -ro -al
> test.vrt, using the exact same example listed in the page you referred to,
>
> http://www.gdal.org/ogr/drv_csv.html
>
> Any idea?
>
> Xiaodong
>
> gaffigan@sfos.uaf.edu wrote:
>> Hello.  You might try the following:
>>   ogr2ogr -f "ESRI Shapefile" grid.shp grid.vrt -nlt multipoint
>>
>> The important part is that the source dataset is the vrt definition
>> file,
>> not the csv data file.  See http://www.gdal.org/ogr/drv_csv.html.
>>
>> Hopefully it's this easy.
>>
>> Steve
>>
>>
>>
>>> Hi,
>>>
>>> I used --- ogr2ogr -f "ESRI Shapefile" grid grid.csv -nlt multipoint
>>>
>> ----- to convert a series of points (in csv format) into a shape file of
>> multiple points. I also have a grid.vrt and a grid.csvt file that are
>> used in this conversion. A directory named grid was created and under it
>> there are 3 files, namely, grid.shp, grid.dbf, and grid.shx. Using
>> ogrinfo grid returns,
>>
>>> INFO: Open of 'grid', using driver 'ESRI Shapefile" successful. 1:grid
>>>
>> (multi point).
>>
>>> Also using ogrinfo -ro -al grid returns a series of records, and the
>>>
>> last one is
>>
>>> OGRFeature (grid): 5374
>>> long (Real) = -100.08310911830001
>>> lat (Real) = 44.963133226799997
>>> data (Real) = 3
>>> mapped dat (Real) = 68.000000000
>>>
>>> The above commands were executed in Linux with gdal installed. After
>>>
>> transferring grid folder to windows, I can open them, but nothing show
>> up (I tried ENVI and FWTool). For example, in FWTool, it seemed that the
>> shape file can be opened, but this is what showed in the Shape
>>
>>> Attributes window,
>>>
>>> Where did I do wrong?
>>>
>>> Thanks
>>> Xiaodong
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>>
>>
>


From pal.kristensen at statkart.no  Tue Mar 18 05:44:51 2008
From: pal.kristensen at statkart.no (=?UTF-8?Q?P=C3=A5l_Kristensen?=)
Date: Tue Mar 18 05:44:53 2008
Subject: [Gdal-dev] Clip raster by percentage?
Message-ID: <16117341.post@talk.nabble.com>


Hi!

I it possible to clip a GeoTiff by a given percentage from each side (ie 5%
from top, 2% from bottom, and so on) with GDAL, and if so, how is it done?

Regards,
P?l Kristensen
-- 
View this message in context: http://www.nabble.com/Clip-raster-by-percentage--tp16117341p16117341.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jrepetto at free.fr  Tue Mar 18 07:58:18 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue Mar 18 07:58:29 2008
Subject: [gdal-dev] Problem with pct2rgb.py
Message-ID: <47DFAE5A.8070709@free.fr>

Hello,
I have downloaded a map of Corsica at 
<http://www.ign.fr/telechargement/MPro/produit/SCANS/SCAN1000_Corse_L2E.zip> 
.

Now, I want to convert it with gdal_translate. As it uses a palette, I 
first need to convert it to RGB.
Usually, I use ImageMagick for that, but this time I decided to give a 
try to pct2rgb.py.

$ pct2rgb.py COR_0000.TIF COR_0000_64K.TIF
0Traceback (most recent call last):
   File "/usr/bin/pct2rgb.py", line 162, in ?
     tif_ds.GetRasterBand(iBand+1).WriteArray(dst_data,0,iY)
   File "/usr/lib64/python2.4/site-packages/gdal.py", line 796, in 
WriteArray

   File "usr/lib64/python2.4/site-packages/osgeo/gdal_array.py", line 
157, in BandWriteArray
ValueError: array does not have corresponding GDAL data type



Imagemagick gives some warnings, but the result seems correct :

$ convert COR_0000.TIF -type TrueColor COR_0000_64K.TIF
convert: COR_0000.TIF: unknown field with tag 33550 (0x830e) 
encountered. `TIFFReadDirectory'.
convert: COR_0000.TIF: unknown field with tag 33922 (0x8482) 
encountered. `TIFFReadDirectory'.
convert: COR_0000.TIF: unknown field with tag 34735 (0x87af) 
encountered. `TIFFReadDirectory'.
convert: COR_0000.TIF: unknown field with tag 34737 (0x87b1) 
encountered. `TIFFReadDirectory'.


I don't understand what's wrong, any help would be appreciated.

Thanks,
Jean-Claude
From vali.system at free.fr  Tue Mar 18 09:02:16 2008
From: vali.system at free.fr (ValiSystem)
Date: Tue Mar 18 09:02:18 2008
Subject: [gdal-dev] Problem with pct2rgb.py
In-Reply-To: <47DFAE5A.8070709@free.fr>
References: <47DFAE5A.8070709@free.fr>
Message-ID: <BBB875D4-330A-4F44-AB1E-BC54280A07D2@free.fr>


On 18 mars 08, at 12:58, Jean-Claude Repetto wrote:

> Hello,
> I have downloaded a map of Corsica at <http://www.ign.fr/telechargement/MPro/produit/SCANS/SCAN1000_Corse_L2E.zip 
> > .
>
> Now, I want to convert it with gdal_translate. As it uses a palette,  
> I first need to convert it to RGB.
> Usually, I use ImageMagick for that, but this time I decided to give  
> a try to pct2rgb.py.
>
> $ pct2rgb.py COR_0000.TIF COR_0000_64K.TIF
> 0Traceback (most recent call last):
>  File "/usr/bin/pct2rgb.py", line 162, in ?
>    tif_ds.GetRasterBand(iBand+1).WriteArray(dst_data,0,iY)
>  File "/usr/lib64/python2.4/site-packages/gdal.py", line 796, in  
> WriteArray
>
>  File "usr/lib64/python2.4/site-packages/osgeo/gdal_array.py", line  
> 157, in BandWriteArray
> ValueError: array does not have corresponding GDAL data type
>
>
>
> Imagemagick gives some warnings, but the result seems correct :
>
> $ convert COR_0000.TIF -type TrueColor COR_0000_64K.TIF
> convert: COR_0000.TIF: unknown field with tag 33550 (0x830e)  
> encountered. `TIFFReadDirectory'.
> convert: COR_0000.TIF: unknown field with tag 33922 (0x8482)  
> encountered. `TIFFReadDirectory'.
> convert: COR_0000.TIF: unknown field with tag 34735 (0x87af)  
> encountered. `TIFFReadDirectory'.
> convert: COR_0000.TIF: unknown field with tag 34737 (0x87b1)  
> encountered. `TIFFReadDirectory'.
>
>
> I don't understand what's wrong, any help would be appreciated.
>
> Thanks,
> Jean-Claude


Are you using a 64 bits system ? i've had this error on my 64 bits  
boxes (AMD), it seems linked to a problem with python bindings on 64  
bits runtime.


From jrepetto at free.fr  Tue Mar 18 09:26:37 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue Mar 18 09:26:43 2008
Subject: [gdal-dev] Problem with pct2rgb.py
In-Reply-To: <BBB875D4-330A-4F44-AB1E-BC54280A07D2@free.fr>
References: <47DFAE5A.8070709@free.fr>
	<BBB875D4-330A-4F44-AB1E-BC54280A07D2@free.fr>
Message-ID: <47DFC30D.1090300@free.fr>

ValiSystem wrote :
> 
> On 18 mars 08, at 12:58, Jean-Claude Repetto wrote:
> 
>> Hello,
>> I have downloaded a map of Corsica at 
>> <http://www.ign.fr/telechargement/MPro/produit/SCANS/SCAN1000_Corse_L2E.zip> 
>> .
>>
>> Now, I want to convert it with gdal_translate. As it uses a palette, I 
>> first need to convert it to RGB.
>> Usually, I use ImageMagick for that, but this time I decided to give a 
>> try to pct2rgb.py.
>>
>> $ pct2rgb.py COR_0000.TIF COR_0000_64K.TIF
>> 0Traceback (most recent call last):
>>  File "/usr/bin/pct2rgb.py", line 162, in ?
>>    tif_ds.GetRasterBand(iBand+1).WriteArray(dst_data,0,iY)
>>  File "/usr/lib64/python2.4/site-packages/gdal.py", line 796, in 
>> WriteArray
>>
>>  File "usr/lib64/python2.4/site-packages/osgeo/gdal_array.py", line 
>> 157, in BandWriteArray
>> ValueError: array does not have corresponding GDAL data type
>>
>> I don't understand what's wrong, any help would be appreciated.
>>
> 
> Are you using a 64 bits system ? i've had this error on my 64 bits boxes 
> (AMD), it seems linked to a problem with python bindings on 64 bits 
> runtime.
> 

Yes, I am using a 64 bits system. Is there a solution ?
From nikos.alexandris at felis.uni-freiburg.de  Tue Mar 18 09:45:00 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Tue Mar 18 09:45:02 2008
Subject: [gdal-dev] Extracting MODIS bands from MODIS HDF grid file using
	gdalwarp fails on 64-bit system (?)
Message-ID: <1205847900.11558.20.camel@vertical>

Dear gdal-list,

in the past I successfully used the following lines from
Markus' (Neteler) script to extract MODIS bands from MOD09 products
(surface reflectance).


FILE=$1
HDFlayerNAMES="`gdalinfo $FILE | grep SUBDATASET_ | grep _NAME | cut
-d'=' -f2`"

for i in ${HDFlayerNAMES} ; do
	INPUT="`echo ${i}`"
        NEWNAME="`echo ${i} | cut -d':' -f4,5 | tr ':' '_' | tr -s '|'
'_'`"
        # apply GCPs and convert to GTiFF using -rcs
        gdalwarp -s_srs '+proj=sinu +R=6371007.181 +nadgrids=@null
+wktext' -t_srs '+init=epsg:2100' -tr 500 500 -rcs "${INPUT}"
$NEWNAME.HGRS87.tif


Since I switched to (Ubuntu 7.10) 64-bit I have problems reading /
writing HDF grid files.


The result, when running the above lines in a script with a
MOD09????.HDF file, is:

Creating output file that is 2772P x 2333L.
Processing input file
HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b01_1.
Using internal nodata values (eg. 144) for image
HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b01_1.
ERROR 1: GDreadfield() failed for block.
ERROR 1: IReadBlock failed at X offset 0, Y offset 1
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 1
Creating output file that is 2772P x 2333L.
Processing input file
HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b02_1.
Using internal nodata values (eg. 144) for image
HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b02_1.
ERROR 1: GDreadfield() failed for block.
ERROR 1: IReadBlock failed at X offset 0, Y offset 1
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 1
Creating output file that is 2772P x 2333L.
[...]

Is it really a  64-bit problem or is something in my systems
configuration? I've had problems understanding and applying variables,
shared libraries. But I think I've corrected this.


Thank you,

Nikos

From nikos.alexandris at felis.uni-freiburg.de  Tue Mar 18 09:47:40 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Tue Mar 18 09:47:42 2008
Subject: [gdal-dev] Extracting MODIS bands from MODIS HDF grid file
	using gdalwarp fails on 64-bit system (?)
In-Reply-To: <1205847900.11558.20.camel@vertical>
References: <1205847900.11558.20.camel@vertical>
Message-ID: <1205848060.11558.22.camel@vertical>


On Tue, 2008-03-18 at 14:45 +0100, Nikos Alexandris wrote:
> Since I switched to (Ubuntu 7.10) 64-bit I have problems reading /
> writing HDF grid files.

Correction: reading HDF and exporting in TIF's I meant! Sorry... ;-)

From warmerdam at pobox.com  Tue Mar 18 09:54:20 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 18 09:55:02 2008
Subject: [Gdal-dev] Clip raster by percentage?
In-Reply-To: <16117341.post@talk.nabble.com>
References: <16117341.post@talk.nabble.com>
Message-ID: <47DFC98C.2040207@pobox.com>

P?l Kristensen wrote:
> Hi!
> 
> I it possible to clip a GeoTiff by a given percentage from each side (ie 5%
> from top, 2% from bottom, and so on) with GDAL, and if so, how is it done?

P?l,

This is not directly provided for - no.   You would basically need to figure
out what pixel-line window it amounts to and use that with gdal_translate and
the -srcwin switch.

For example for a 1000x1000 image you might use:

   gdal_translate -srcwin 50 50 930 930 in.tif out.tif

would be 5% off the top and left, and 2% off the right and bottom.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From xiaodong.zhang2 at und.edu  Tue Mar 18 09:57:46 2008
From: xiaodong.zhang2 at und.edu (Xiaodong Zhang)
Date: Tue Mar 18 09:57:47 2008
Subject: [gdal-dev] cannot open shape file created in linux in windows
In-Reply-To: <44064.206.174.29.35.1205827352.squirrel@www.sfos.uaf.edu>
References: <47DF204B.3080702@und.edu>
	<55027.206.174.33.135.1205813798.squirrel@www.sfos.uaf.edu>
	<47DF47C0.2050606@und.edu>
	<44064.206.174.29.35.1205827352.squirrel@www.sfos.uaf.edu>
Message-ID: <47DFCA5A.7060308@und.edu>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080318/c1a8ffa0/attachment.html
From pal.kristensen at statkart.no  Tue Mar 18 10:03:02 2008
From: pal.kristensen at statkart.no (=?UTF-8?Q?P=C3=A5l_Kristensen?=)
Date: Tue Mar 18 10:03:04 2008
Subject: [Gdal-dev] Clip raster by percentage?
In-Reply-To: <47DFC98C.2040207@pobox.com>
References: <16117341.post@talk.nabble.com> <47DFC98C.2040207@pobox.com>
Message-ID: <16121911.post@talk.nabble.com>


Hi!

Thanks for helping! I will use the method you described them. Maybe I'll try
to  make a small python script that calculates the values for each raster
and runs the command in batch.

Regards,
P?l Kristensen


Frank Warmerdam-2 wrote:
> 
> P?l Kristensen wrote:
>> Hi!
>> 
>> I it possible to clip a GeoTiff by a given percentage from each side (ie
>> 5%
>> from top, 2% from bottom, and so on) with GDAL, and if so, how is it
>> done?
> 
> P?l,
> 
> This is not directly provided for - no.   You would basically need to
> figure
> out what pixel-line window it amounts to and use that with gdal_translate
> and
> the -srcwin switch.
> 
> For example for a 1000x1000 image you might use:
> 
>    gdal_translate -srcwin 50 50 930 930 in.tif out.tif
> 
> would be 5% off the top and left, and 2% off the right and bottom.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/Clip-raster-by-percentage--tp16117341p16121911.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Tue Mar 18 11:19:39 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 18 11:19:55 2008
Subject: [gdal-dev] Extracting MODIS bands from MODIS HDF grid file using
	gdalwarp fails on 64-bit system (?)
In-Reply-To: <1205847900.11558.20.camel@vertical>
References: <1205847900.11558.20.camel@vertical>
Message-ID: <47DFDD8B.2040509@pobox.com>

Nikos Alexandris wrote:
> Dear gdal-list,
> 
> in the past I successfully used the following lines from
> Markus' (Neteler) script to extract MODIS bands from MOD09 products
> (surface reflectance).
> 
> 
> FILE=$1
> HDFlayerNAMES="`gdalinfo $FILE | grep SUBDATASET_ | grep _NAME | cut
> -d'=' -f2`"
> 
> for i in ${HDFlayerNAMES} ; do
> 	INPUT="`echo ${i}`"
>         NEWNAME="`echo ${i} | cut -d':' -f4,5 | tr ':' '_' | tr -s '|'
> '_'`"
>         # apply GCPs and convert to GTiFF using -rcs
>         gdalwarp -s_srs '+proj=sinu +R=6371007.181 +nadgrids=@null
> +wktext' -t_srs '+init=epsg:2100' -tr 500 500 -rcs "${INPUT}"
> $NEWNAME.HGRS87.tif
> 
> 
> Since I switched to (Ubuntu 7.10) 64-bit I have problems reading /
> writing HDF grid files.
> 
> 
> The result, when running the above lines in a script with a
> MOD09????.HDF file, is:
> 
> Creating output file that is 2772P x 2333L.
> Processing input file
> HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b01_1.
> Using internal nodata values (eg. 144) for image
> HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b01_1.
> ERROR 1: GDreadfield() failed for block.
> ERROR 1: IReadBlock failed at X offset 0, Y offset 1
> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 1
> Creating output file that is 2772P x 2333L.
> Processing input file
> HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b02_1.
> Using internal nodata values (eg. 144) for image
> HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b02_1.
> ERROR 1: GDreadfield() failed for block.
> ERROR 1: IReadBlock failed at X offset 0, Y offset 1
> ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 1
> Creating output file that is 2772P x 2333L.
> [...]
> 
> Is it really a  64-bit problem or is something in my systems
> configuration? I've had problems understanding and applying variables,
> shared libraries. But I think I've corrected this.

Nikos,

I have not encountered problems with HDF4 on Ubuntu 64 bit but I build
my HDF4 and GDAL libraries from source.  I would encourage you to file
a quite specific ticket on the issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From nikos.alexandris at felis.uni-freiburg.de  Tue Mar 18 11:28:56 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Tue Mar 18 11:29:02 2008
Subject: [gdal-dev] Extracting MODIS bands from MODIS HDF grid file
	using gdalwarp fails on 64-bit system (?)
In-Reply-To: <47DFDD8B.2040509@pobox.com>
References: <1205847900.11558.20.camel@vertical> <47DFDD8B.2040509@pobox.com>
Message-ID: <1205854136.14702.2.camel@vertical>


On Tue, 2008-03-18 at 11:19 -0400, Frank Warmerdam wrote:
> Nikos Alexandris wrote:
> > Dear gdal-list,
> > 
> > in the past I successfully used the following lines from
> > Markus' (Neteler) script to extract MODIS bands from MOD09 products
> > (surface reflectance).
> > 
> > 
> > FILE=$1
> > HDFlayerNAMES="`gdalinfo $FILE | grep SUBDATASET_ | grep _NAME | cut
> > -d'=' -f2`"
> > 
> > for i in ${HDFlayerNAMES} ; do
> > 	INPUT="`echo ${i}`"
> >         NEWNAME="`echo ${i} | cut -d':' -f4,5 | tr ':' '_' | tr -s '|'
> > '_'`"
> >         # apply GCPs and convert to GTiFF using -rcs
> >         gdalwarp -s_srs '+proj=sinu +R=6371007.181 +nadgrids=@null
> > +wktext' -t_srs '+init=epsg:2100' -tr 500 500 -rcs "${INPUT}"
> > $NEWNAME.HGRS87.tif
> > 
> > 
> > Since I switched to (Ubuntu 7.10) 64-bit I have problems reading /
> > writing HDF grid files.
> > 
> > 
> > The result, when running the above lines in a script with a
> > MOD09????.HDF file, is:
> > 
> > Creating output file that is 2772P x 2333L.
> > Processing input file
> > HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b01_1.
> > Using internal nodata values (eg. 144) for image
> > HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b01_1.
> > ERROR 1: GDreadfield() failed for block.
> > ERROR 1: IReadBlock failed at X offset 0, Y offset 1
> > ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 1
> > Creating output file that is 2772P x 2333L.
> > Processing input file
> > HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b02_1.
> > Using internal nodata values (eg. 144) for image
> > HDF4_EOS:EOS_GRID:"MOD09GHK.A2006239.h19v05.004.2006241155729.hdf":MOD_Grid_L2g_2d:sur_refl_b02_1.
> > ERROR 1: GDreadfield() failed for block.
> > ERROR 1: IReadBlock failed at X offset 0, Y offset 1
> > ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 1
> > Creating output file that is 2772P x 2333L.
> > [...]
> > 
> > Is it really a  64-bit problem or is something in my systems
> > configuration? I've had problems understanding and applying variables,
> > shared libraries. But I think I've corrected this.
> 
> Nikos,
> 
> I have not encountered problems with HDF4 on Ubuntu 64 bit but I build
> my HDF4 and GDAL libraries from source.  I would encourage you to file
> a quite specific ticket on the issue.
> 
> Best regards,

Thank you Frank. I will hunt it a bit more... (it's probably related
with my previous posts in which you also pointed out to build from
source -e.g. for OGDI, expat -).

If I fail I will open a ticket. I just want to avoid doing so if errors
are due to my limited experiences.

( I still have problems getting a no-error build on my 64-bit system
including ogdi, hdf, expat, grass support )

Greetings,

Nikos



From jelmer.oosthoek at tno.nl  Tue Mar 18 12:01:01 2008
From: jelmer.oosthoek at tno.nl (joosthoek)
Date: Tue Mar 18 12:01:03 2008
Subject: [Gdal-dev] gdal_translate adding ESRI projection bug?
Message-ID: <16124415.post@talk.nabble.com>


Hi,

I use gdal_translate with -a_srs "ESRI::projection.prj", with the following
projection.prj:
PROJCS["Mars_Sinusoidal_clon93",GEOGCS["MOLA_MEGDR_Sphere",DATUM["MOLA_MEGDR_Sphere",SPHEROID["MOLA_MEGDR_Sphere",3396000.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Sinusoidal"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",93.0],UNIT["Meter",1.0]]

When I open the resulting file in ArcGIS the Central_Meridian is somehow set
to zero. I tried multiple formats but all put the image in the zero clon
location. Somehow the 93 isn't read correctly during the gdal_translate (is
my conclusion). Could this be a bug?

Thanks in advance,

Jelmer Oosthoek
-- 
View this message in context: http://www.nabble.com/gdal_translate-adding-ESRI-projection-bug--tp16124415p16124415.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Tue Mar 18 12:26:01 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 18 12:26:24 2008
Subject: [Gdal-dev] gdal_translate adding ESRI projection bug?
In-Reply-To: <16124415.post@talk.nabble.com>
References: <16124415.post@talk.nabble.com>
Message-ID: <47DFED19.7010602@pobox.com>

joosthoek wrote:
> Hi,
> 
> I use gdal_translate with -a_srs "ESRI::projection.prj", with the following
> projection.prj:
> PROJCS["Mars_Sinusoidal_clon93",GEOGCS["MOLA_MEGDR_Sphere",DATUM["MOLA_MEGDR_Sphere",SPHEROID["MOLA_MEGDR_Sphere",3396000.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Sinusoidal"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",93.0],UNIT["Meter",1.0]]
> 
> When I open the resulting file in ArcGIS the Central_Meridian is somehow set
> to zero. I tried multiple formats but all put the image in the zero clon
> location. Somehow the 93 isn't read correctly during the gdal_translate (is
> my conclusion). Could this be a bug?

Jelmer,

What format are you translating to?

I tried "testepsg ESRI::test.prj" with your definition and the central
meridian was properly preserved. So I *suspect* we are either writing
out the wrong sinsoidal definition for ArcGIS or there is some particular
issue with the fileformat through which things are being written.

I would suggest you file a specific ticket on the issue with a small
file demonstrating the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ksshannon at gmail.com  Tue Mar 18 12:39:17 2008
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue Mar 18 12:39:20 2008
Subject: [gdal-dev] Point Transformation
Message-ID: <c28f2e140803180939j58758e9bl11474d6014032579@mail.gmail.com>

I would like to use OGR's point transformation capabilities to draw lines in
a kml file.  I would also like to use an ESRI prj file to determine  the
incoming coordinate system parameters.  I am having a problem with the
importFromESRI(char **) method.  My program seems to be hanging up there.
Can someone post an example of how to read in the ESRI string and use the
importFromESRI() method to set a OGRSpatialReference?  I am not sure I
understand why a char** is passed instead of a char*.  Is this a good way to
do this?  thanks.

kss

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
ksshannon@gmail.com
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080318/ae576ebb/attachment.html
From daniele.romagnoli at geo-solutions.it  Tue Mar 18 12:40:36 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Tue Mar 18 12:40:38 2008
Subject: [gdal-dev] Information request about 1.4.5 release.
Message-ID: <7221db410803180940s180a9d51h2f0ffa14e188600a@mail.gmail.com>

Hi list,
Just a simple question:

When the gdal 1.4.5 version will be released? (It will be released? :) )
Is there some planning information about this?
(Just out curiosity, since I have to build some custom versions of the
ImageIO-Ext project (which leverages on GDAL 1.4.x) and I would like to know
if the 1.4.5 is ready/almost ready/planned to be released)

Thank you very much.
Best Regards,
Daniele Romagnoli

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080318/e03d041e/attachment.html
From mateusz at loskot.net  Tue Mar 18 12:46:50 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue Mar 18 12:46:56 2008
Subject: [gdal-dev] Point Transformation
In-Reply-To: <c28f2e140803180939j58758e9bl11474d6014032579@mail.gmail.com>
References: <c28f2e140803180939j58758e9bl11474d6014032579@mail.gmail.com>
Message-ID: <47DFF1FA.3010402@loskot.net>

Kyle Shannon wrote:
> Can someone post an example of how to read in the ESRI string and use the
> importFromESRI() method to set a OGRSpatialReference?

Here is example in Python code that should be helpful to understand how 
to use the API. Also, it should be pretty easy to translate it to C/C++:

http://trac.osgeo.org/gdal/browser/trunk/autotest/osr/osr_esri.py#L176

> I am not sure I
> understand why a char** is passed instead of a char*.  Is this a good way to
> do this?

It's explained int he API reference:

http://gdal.org/ogr/classOGRSpatialReference.html#f91af2639702e2793daf93ffe231b577

The input parameter is a list of strings.

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net
From warmerdam at pobox.com  Tue Mar 18 12:58:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 18 12:59:15 2008
Subject: [gdal-dev] Information request about 1.4.5 release.
In-Reply-To: <7221db410803180940s180a9d51h2f0ffa14e188600a@mail.gmail.com>
References: <7221db410803180940s180a9d51h2f0ffa14e188600a@mail.gmail.com>
Message-ID: <47DFF4D2.4090901@pobox.com>

Daniele Romagnoli wrote:
> Hi list,
> Just a simple question:
> 
> When the gdal 1.4.5 version will be released? (It will be released? :) )
> Is there some planning information about this?
> (Just out curiosity, since I have to build some custom versions of the
> ImageIO-Ext project (which leverages on GDAL 1.4.x) and I would like to know
> if the 1.4.5 is ready/almost ready/planned to be released)

Daniele,

It is my intention to release GDAL 1.4.5, but possibly not for a couple more
months.  I would suggest going ahead with 1.4.4.  1.4.5 should be "drop in
compatible" with 1.4.4 when it is available.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From wollez at gmx.net  Tue Mar 18 15:32:11 2008
From: wollez at gmx.net (WolfgangZ)
Date: Tue Mar 18 16:05:04 2008
Subject: [gdal-dev] gdalwarp : how many gcp's for -order n?
Message-ID: <frp5bm$f7e$1@ger.gmane.org>

Hi,

I know that I've seen it somewhere but I cannot find it any more, can 
anyone tell me how many gcp's are needed for transform of order n? How 
does -tps work, any literature reference about that option?

Kind regards
Wolfgang

From mchapman at texelinc.com  Tue Mar 18 16:02:52 2008
From: mchapman at texelinc.com (Martin Chapman)
Date: Tue Mar 18 16:09:55 2008
Subject: [gdal-dev] GEOS geometry processing question
Message-ID: <000901c88933$0e90fee0$2bb2fca0$@com>

Frank,

 

I notice the gdal code appears to re-order the geometries when geos is in
use.  What is the purpose of this?  Is it for optimized processing or is it
critical to the outcome of the geos algorithms?

 

Best regards,

Martin

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080318/008703f1/attachment.html
From warmerdam at pobox.com  Tue Mar 18 16:19:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 18 16:24:59 2008
Subject: [gdal-dev] GEOS geometry processing question
In-Reply-To: <000901c88933$0e90fee0$2bb2fca0$@com>
References: <000901c88933$0e90fee0$2bb2fca0$@com>
Message-ID: <47E023D0.6030907@pobox.com>

Martin Chapman wrote:
> Frank,
> 
>  
> 
> I notice the gdal code appears to re-order the geometries when geos is in
> use.  What is the purpose of this?  Is it for optimized processing or is it
> critical to the outcome of the geos algorithms?

Martin,

Do you mean that the geometries within something like a MULTIPOINT,
MULTILINESTRING or MULTIPOLYGON get reordered?   This is certainly not
something being specifically done by OGR but may be a side effect of
translating to GEOS format and back.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Mar 18 16:16:56 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 18 16:25:01 2008
Subject: [gdal-dev] gdalwarp : how many gcp's for -order n?
In-Reply-To: <frp5bm$f7e$1@ger.gmane.org>
References: <frp5bm$f7e$1@ger.gmane.org>
Message-ID: <47E02338.6040202@pobox.com>

WolfgangZ wrote:
> Hi,
> 
> I know that I've seen it somewhere but I cannot find it any more, can 
> anyone tell me how many gcp's are needed for transform of order n? How 
> does -tps work, any literature reference about that option?

Wolfgang,

  * Note that 2nd order requires at least 6 GCPs, and 3rd order requires at
  * least 10 gcps.  If nReqOrder is 0 the highest order possible with the
  * provided gcp count will be used.

  * The GDAL Thin Plate Spline transformer is based on code provided by
  * Gilad Ronnen on behalf of VIZRT Inc (http://www.visrt.com).  Incorporation
  * of the algorithm into GDAL was supported by the Centro di Ecologia Alpina
  * (http://www.cealp.it).

I don't have any other info on the TPS algorithm.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From vishal at geologicsystems.com  Tue Mar 18 18:28:09 2008
From: vishal at geologicsystems.com (Vishal Ashok Singh)
Date: Tue Mar 18 18:34:52 2008
Subject: [gdal-dev] read arc/info binary gird format
Message-ID: <47E041F9.50107@geologicsystems.com>

Hi all,
        How do i read the arc/info grid format using java program? The 
various files: hdr.adf, sta.adf etc.


Thank you,
Vishal

From ivan.lucena at pmldnet.com  Tue Mar 18 21:05:31 2008
From: ivan.lucena at pmldnet.com (ivan.lucena@pmldnet.com)
Date: Tue Mar 18 21:12:14 2008
Subject: [gdal-dev] Google SoC idea...
Message-ID: <20080319010531.735.qmail@s403.sureserver.com>

Hi Yann,

I guess I am looking to some very boring thumbnails when I look to my datasets in 100x100. 

Other interesting features on Windows Explorer is the "FilmStrip" where you have a bigger picture on top and the others as thumbnails aligned like picture frames.

In both modes, thumbnail or filmstrip, users can right-click and open the file properties/summary where I believe you can inject some metadata.

I believe that by the COM Shell API extension you can have all those features at the same time. No?

Best regards,

Ivan

>  -------Original Message-------
>  From: Yann Chemin <yann.chemin@gmail.com>
>  Subject: Re: [gdal-dev] Google SoC idea...
>  Sent: Mar 14 '08 04:34
>  
>  Yes Ivan,
>  
>  was not sure about who could be doing it even, it was just an idea about
>  improving KDE thumbnail for GIS, since gdal_translate has it already it
>  should be just few code away though.
>  
>  About the RS image display, gdal_translate outputs nice PNGs, we can tell
>  easily if data is landsat (number of bands) and make a standard false
>  colour composite (FCC) by selecting bands 4,3,2 for RGB.
>  For AVHRR: 4,2,1 for RGB. Well, maybe use the metadata to tell us what
>  satellite and what are the band representing, and then make FCC.
>  
>  Could also have world countries, major rivers, (degree grid?) etc vectors
>  overlaid on the fly while creating the thumbnail...
>  
>  Just sending out ideas.....
>  Yann
>  
>  
>  On 14/03/2008, LUCENA, IVAN <[LINK: mailto:ivan.lucena@pmldnet.com]
>  ivan.lucena@pmldnet.com> wrote: Yann,
>  
>  I think that is OK to do that. I don't want to discourage you but
>  just
>  keep in mind that sometime, or very often, GIS/RS image are not very
>  expressive by itself. That is even worse in low resolution thumbnail.
>  Imagine that you want to show a collection of Landsat original
>  multi-band files. Which band should you present in KDE or Explorer?
>  
>  Try that: Run "foreach" or "for %f in" to call gdal_translate to copy
>  large group of real-case-GIS/RS-files to PNG outputs files in another
>  directory. Then open that directory on a file browser and take a look at
>  those thumbnails. See how does it looks like.
>  
>  Best regards,
>  
>  Ivan
>  
>  
>  Yann Chemin wrote:
>  > Hi list,
>  >
>  > It may be a small thing but it might help people...
>  >
>  > many OSs now have image browsers embedded. in MS it is in Explorer I
>  > believe, in KDE there is a thumbnail creator inside konqueror/dolphin.
>  >
>  > could it be possible to make konqueror/dolphin for example,
>  automatically
>  > create a thumbnail of RS images and GIS covers through GDAL?
>  > We could then have GIS/RS data previews the same way we have for
>  standard
>  > camera pictures...
>  >
>  > thanks,
>  > Yann
>  >
>  >
>  >
>  
>  > ------------------------------------------------------------------------
>  >
>  > _______________________________________________
>  > gdal-dev mailing list
>  > [LINK: mailto:gdal-dev@lists.osgeo.org] gdal-dev@lists.osgeo.org
>  > [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
From a.neumann at carto.net  Wed Mar 19 07:30:08 2008
From: a.neumann at carto.net (Andreas Neumann)
Date: Wed Mar 19 07:53:13 2008
Subject: [gdal-dev] ECW Projection List, Swiss Projection, EPSG 21781
Message-ID: <51964.193.246.86.39.1205926208.squirrel@webmail.customers.iirc.at>

Hello,

I am a newbie to ecw. I am looking for the ECW Projection name and datum
name for the Swiss projection. In EPSG this is nr 21781.

I don't know where to look for the ECW projection names. I found two files
called /usr/local/share/gdal/ecw_cs.dat and ecw_cs.wkt, but I did not find
a Swiss projection in here.

Is there a web resource or another local resource that came with gdal or
libecw?

Thank you for shedding some light on the ECW projection issue.

Andreas

-- 
Andreas Neumann
B?schacherstrasse 6, CH-8624 Gr?t/Gossau, Switzerland
Email: a.neumann@carto.net, Web:
* http://www.carto.net/ (Carto and SVG resources)
* http://www.carto.net/neumann/ (personal page)
* http://www.svgopen.org/ (SVG Open Conference)
* http://www.geofoto.ch/ (Georeferenced Photos of Switzerland)

From neteler at osgeo.org  Wed Mar 19 09:23:03 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Mar 19 09:23:05 2008
Subject: [gdal-dev] gdalwarp : how many gcp's for -order n?
In-Reply-To: <47E02338.6040202@pobox.com>
References: <frp5bm$f7e$1@ger.gmane.org> <47E02338.6040202@pobox.com>
Message-ID: <86782b610803190623k4a425944g91f5e86aa5518267@mail.gmail.com>

(I cc to Helena for TPS insights)

On Tue, Mar 18, 2008 at 9:16 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> WolfgangZ wrote:
>  > Hi,
>  >
>  > I know that I've seen it somewhere but I cannot find it any more, can
>  > anyone tell me how many gcp's are needed for transform of order n? How
>  > does -tps work, any literature reference about that option?
>
>  Wolfgang,
>
>   * Note that 2nd order requires at least 6 GCPs, and 3rd order requires at
>   * least 10 gcps.  If nReqOrder is 0 the highest order possible with the
>   * provided gcp count will be used.
>
>   * The GDAL Thin Plate Spline transformer is based on code provided by
>   * Gilad Ronnen on behalf of VIZRT Inc (http://www.visrt.com).  Incorporation
>   * of the algorithm into GDAL was supported by the Centro di Ecologia Alpina
>   * (http://www.cealp.it).
>
>  I don't have any other info on the TPS algorithm.

Yes, we had co-funded the implementation of TPS in GDAL.

Some background info I have found here:
http://www.ncgia.ucsb.edu/conf/SANTA_FE_CD-ROM/sf_papers/fogel_david/santafe.html#radial
http://www.pcigeomatics.com/cgi-bin/pcihlp/GCPWORKS%7CTheory%7CThin+Plate+Spline

and some comments :)
http://lists.osgeo.org/pipermail/gdal-dev/2007-March/012113.html
http://www.gdal.org/gdal__alg_8h.html#245802b88a8126c138d24febe6c9822a

Markus

-- 
Markus Neteler
Fondazione Mach  -  Centre for Alpine Ecology
38100 Viote del Monte Bondone (Trento), Italy
neteler AT cealp.it      http://www.cealp.it/
New book:           http://www.grassbook.org/
From wollez at gmx.net  Wed Mar 19 09:41:49 2008
From: wollez at gmx.net (Wolfgang)
Date: Wed Mar 19 09:48:36 2008
Subject: [gdal-dev] gdalwarp : how many gcp's for -order n?
In-Reply-To: <86782b610803190623k4a425944g91f5e86aa5518267@mail.gmail.com>
References: <frp5bm$f7e$1@ger.gmane.org> <47E02338.6040202@pobox.com>
	<86782b610803190623k4a425944g91f5e86aa5518267@mail.gmail.com>
Message-ID: <47E1181D.7080203@gmx.net>

Markus Neteler schrieb:
> (I cc to Helena for TPS insights)
>
> On Tue, Mar 18, 2008 at 9:16 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
>   
>> WolfgangZ wrote:
>>  > Hi,
>>  >
>>  > I know that I've seen it somewhere but I cannot find it any more, can
>>  > anyone tell me how many gcp's are needed for transform of order n? How
>>  > does -tps work, any literature reference about that option?
>>
>>  Wolfgang,
>>
>>   * Note that 2nd order requires at least 6 GCPs, and 3rd order requires at
>>   * least 10 gcps.  If nReqOrder is 0 the highest order possible with the
>>   * provided gcp count will be used.
>>
>>   * The GDAL Thin Plate Spline transformer is based on code provided by
>>   * Gilad Ronnen on behalf of VIZRT Inc (http://www.visrt.com).  Incorporation
>>   * of the algorithm into GDAL was supported by the Centro di Ecologia Alpina
>>   * (http://www.cealp.it).
>>
>>  I don't have any other info on the TPS algorithm.
>>     
>
> Yes, we had co-funded the implementation of TPS in GDAL.
>
> Some background info I have found here:
> http://www.ncgia.ucsb.edu/conf/SANTA_FE_CD-ROM/sf_papers/fogel_david/santafe.html#radial
> http://www.pcigeomatics.com/cgi-bin/pcihlp/GCPWORKS%7CTheory%7CThin+Plate+Spline
>
> and some comments :)
> http://lists.osgeo.org/pipermail/gdal-dev/2007-March/012113.html
> http://www.gdal.org/gdal__alg_8h.html#245802b88a8126c138d24febe6c9822a
>
> Markus
>
>   
many thanks for the information!

Kind regards
Wolfgang
From neteler at osgeo.org  Wed Mar 19 11:01:25 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Mar 19 11:01:28 2008
Subject: Fwd: [gdal-dev] gdalwarp : how many gcp's for -order n?
In-Reply-To: <77A7D28A-7ED4-4A44-812B-81FA2A41A4CE@unity.ncsu.edu>
References: <frp5bm$f7e$1@ger.gmane.org> <47E02338.6040202@pobox.com>
	<86782b610803190623k4a425944g91f5e86aa5518267@mail.gmail.com>
	<77A7D28A-7ED4-4A44-812B-81FA2A41A4CE@unity.ncsu.edu>
Message-ID: <86782b610803190801g2686c37co3dbdfa203b7025a0@mail.gmail.com>

(FWD to list since Helena isn't subscribed)


---------- Forwarded message ----------
From: Helena Mitasova <hmitaso@unity.ncsu.edu>
Date: Wed, Mar 19, 2008 at 3:23 PM

 On Mar 19, 2008, at 9:23 AM, Markus Neteler wrote:
 > (I cc to Helena for TPS insights)
...

  - your references are right, although I wonder whether just plain
 TPS is used or whether at least tension has been added to increase
 the TPS stability. One reason why Lubos has derived the RST function
 which we have in GRASS was that TPS tends to overshoot if you have
 larger gradients as noted in the comments and adding tension and
 smoothing minimizes that problem. Segmentation then solves the
 problem of applying it to large data sets - but do you ever have more
 than 1000 GCPs?
 For the record here are some relevant equations:

 eq 44 is the radial basis function used in plain TPS, eq. 50 is
 spline with tension, eq. 55 is regularized spline (the last two are
 in ArcGIS spatial analyst)
 http://skagit.meas.ncsu.edu/~helena/gmslab/papers/CMA1988.pdf

 and here eq 9 has RST (and some useful comments about the rest of the
 methods)
 http://skagit.meas.ncsu.edu/~helena/gmslab/papers/sint.html

 And this nicely illustrates the "spline goes wild" issue - the blue
 points are given points, the surface is interpolated with changing
 tension and the results with a big blue hole and white peaks is close
 to what you can get with plain TPS:
 http://skagit.meas.ncsu.edu/~helena/gmslab/viz/movies/tension.gif

 smoothing also helps a lot and can even be used to take into account
 the accuracy of GCPs.

 To conclude - it would be nice to put the equations for what is used
 in gdalwarp somewhere to better understand how it works.
 Maybe put a reference to a relevant paper that has the equations into
 the man page.
 I am not sure whether the tps-related problems in gdalwarp are
 significant enough to do some modifications - I would assume most
 transformations are pretty smooth,

 Helena
From neteler at osgeo.org  Wed Mar 19 11:05:29 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Wed Mar 19 11:05:31 2008
Subject: [gdal-dev] gdalwarp : how many gcp's for -order n?
In-Reply-To: <77A7D28A-7ED4-4A44-812B-81FA2A41A4CE@unity.ncsu.edu>
References: <frp5bm$f7e$1@ger.gmane.org> <47E02338.6040202@pobox.com>
	<86782b610803190623k4a425944g91f5e86aa5518267@mail.gmail.com>
	<77A7D28A-7ED4-4A44-812B-81FA2A41A4CE@unity.ncsu.edu>
Message-ID: <86782b610803190805hcd042c5h6d04acdc0a2d15c0@mail.gmail.com>

On Wed, Mar 19, 2008 at 3:23 PM, Helena Mitasova <hmitaso@unity.ncsu.edu> wrote:
...
>  To conclude - it would be nice to put the equations for what is used
>  in gdalwarp somewhere to better understand how it works.
>  Maybe put a reference to a relevant paper that has the equations into
>  the man page.
>  I am not sure whether the tps-related problems in gdalwarp are
>  significant enough to do some modifications - I would assume most
>  transformations are pretty smooth,

Helena,

thanks for your explanations! the relevant code pieces should be here:

http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdal_tps.cpp
http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/thinplatespline.cpp
http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/thinplatespline.h

Maybe those files could be enriched with some doxygen style
equations or citations.

Markus
From matt.wilkie at gov.yk.ca  Wed Mar 19 13:29:49 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Mar 19 13:30:16 2008
Subject: [Gdal-dev] GDAL vs ArcGIS raster calculator
In-Reply-To: <16079149.post@talk.nabble.com>
References: <16056156.post@talk.nabble.com> <47DBDB28.8030300@pobox.com>
	<16079149.post@talk.nabble.com>
Message-ID: <47E14D8D.6000406@gov.yk.ca>

Frank wrote:
>> Note, this script does not set the nodata value.  That could be
>> done as an additional step with gdal_translate, or is left as an
>> exercise for the reader. :-)

To set a nodata value without creating a new raster, see this modest
script, gdalsetnull.py:
http://code.google.com/p/maphew/source/browse/trunk/gis/gdal_extras/bin/gdalsetnull.py

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


joosthoek wrote:
> Hi Frank,
> 
> Thanks for your reply, I'll try it out using python. Yeay, nodata
> worked using gdal_translate -nodata 0. One other question, is it also
> possible to use not python but .NET?
> 
> Cheers,
> 
> Jelmer
> 
> 
> Frank Warmerdam-2 wrote:
>> Jelmer,
>> 
>> The calculation appears to be correcting for 16 bit signed integer
>> data that was incorrectly treated as unsigned.  It also marks
>> post-adjusted values of -32768 as nodata.
>> 
>> You should be able to do something similar with a numpy python
>> script like the following (which works with FWTools):
>> 
>> #!/usr/bin/env python
>> 
>> import gdal import gdalnumeric
>> 
>> x = gdalnumeric.LoadFile('utm.tif')
>> 
>> x_adjusted = gdalnumeric.choose( \ gdalnumeric.greater( x, 32767 ),
>> (x, x-65536) )
>> 
>> x_adjusted = x_adjusted.astype(gdalnumeric.Int16)
>> 
>> prototype_ds = gdal.Open( 'utm.tif' ) gdalnumeric.SaveArray(
>> x_adjusted, 'utm2.tif', prototype = prototype_ds )
>> 
>> 

>> 
> 

From matt.wilkie at gov.yk.ca  Wed Mar 19 13:23:29 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Mar 19 13:30:34 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47DAE0A2.1070805@o2.pl>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com> <47DAE0A2.1070805@o2.pl>
Message-ID: <47E14C11.2090205@gov.yk.ca>

 > ...Here they go again:
 >
 > http://trac.osgeo.org/gdal/ticket/1688
 > http://trac.osgeo.org/gdal/ticket/1689

I first noticed compression problems with gdalwarp about gdal 1.4.0, and 
filed ticket http://trac.osgeo.org/gdal/ticket/1470, which was fixed. 
Perhaps there is something in that change which could help here.

If not and fixing the problem is as difficult as Even and Frank surmise 
(more likely), then I suggest that to avoid confusing people the 
compress option be dropped from gdalwarp for now, or at least issue a 
warning when used.

It might also be fruitful if Even's extended description for why this 
bug won't be addressed soon is posted to one of the ticket numbers above.

best regards,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From rkgeorge at cadmaps.com  Wed Mar 19 13:11:55 2008
From: rkgeorge at cadmaps.com (Randy George)
Date: Wed Mar 19 13:34:37 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2 instance
Message-ID: <01f301c889e4$55c67f40$01537dc0$@com>

Hi,

 

                I'd like to compile gdal-1.5.0 in an Ubuntu7.10 EC2 64bit
instance, because gdal_grid is not included in the Ubuntu universe 

apt-get install gdal-bin. I'm a novice on gcc compile.

 

apt-get install gcc

#gcc -v

Using built-in specs.

Target: x86_64-linux-gnu

Configured with: ../src/configure -v
--enable-languages=c,c++,fortran,objc,obj-c++,treelang --prefix=/usr
--enable-shared --with-system-zlib --libexecdir=/usr/lib
--without-included-gettext --enable-threads=posix --enable-nls
--with-gxx-include-dir=/usr/include/c++/4.1.3 --program-suffix=-4.1
--enable-__cxa_atexit --enable-clocale=gnu --enable-libstdcxx-debug
--enable-mpfr --enable-checking=release x86_64-linux-gnu

Thread model: posix

gcc version 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)

 

However, when I run ./configure it fails:

./configure

/usr/src/gdal-1.5.0# ./configure

checking build system type... x86_64-unknown-linux-gnu

checking host system type... x86_64-unknown-linux-gnu

checking target system type... x86_64-unknown-linux-gnu

checking for gcc... gcc

checking for C compiler default output file name...

configure: error: C compiler cannot create executables

See `config.log' for more details.

 

Here is a part of the config.log

                .

                .

configure:2535: $? = 0

configure:2542: gcc -v >&5

Using built-in specs.

Target: x86_64-linux-gnu

Configured with: ../src/configure -v
--enable-languages=c,c++,fortran,objc,obj-c

++,treelang --prefix=/usr --enable-shared --with-system-zlib
--libexecdir=/usr/l

ib --without-included-gettext --enable-threads=posix --enable-nls
--with-gxx-inc

lude-dir=/usr/include/c++/4.1.3 --program-suffix=-4.1 --enable-__cxa_atexit
--en

able-clocale=gnu --enable-libstdcxx-debug --enable-mpfr
--enable-checking=releas

e x86_64-linux-gnu

Thread model: posix

gcc version 4.1.3 20070929 (prerelease) (Ubuntu 4.1.2-16ubuntu2)

configure:2545: cd / = 0

configure:2552: gcc -V >&5

gcc: '-V' option must have argument

configure:2555: $? = 1

configure:2578: checking for C compiler default output file name

configure:2605: gcc    conftest.c  >&5

/usr/bin/ld: crt1.o: No such file: No such file or directory

collect2: ld returned 1 exit status

configure:2608: $? = 1

configure:2646: result:

configure: failed program was:

| /* confdefs.h.  */

| #define PACKAGE_NAME ""

| #define PACKAGE_TARNAME ""

| #define PACKAGE_VERSION ""

| #define PACKAGE_STRING ""

| #define PACKAGE_BUGREPORT ""

| /* end confdefs.h.  */

|

| int

| main ()

| {

|

|   ;

|   return 0;

| }

configure:2653: error: C compiler cannot create executables

 

thanks

randy

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080319/5d2f906b/attachment.html
From matt.wilkie at gov.yk.ca  Wed Mar 19 13:37:11 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Mar 19 13:37:30 2008
Subject: [gdal-dev] need help in arcinfo binary grid format
In-Reply-To: <c50bf780-7a4c-490f-9fde-7185e3f4ce84@c19g2000prf.googlegroups.com>
References: <c50bf780-7a4c-490f-9fde-7185e3f4ce84@c19g2000prf.googlegroups.com>
Message-ID: <47E14F47.10308@gov.yk.ca>

Hi Chandra,

 > This is Chandra Shekhar Tripathi, writing a reader for Arc/Info Binary
 > Grid.We need a little help on this.

Are you aware of the existing gdal aigrd reader?
http://home.gdal.org/projects/aigrid/index.html

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


cstripathi wrote:
> Hi All,
> 
> I will explain what I have understood after read the specification ,
> please correct me if I am wrong somewhere.
> In ArcInfo format, entire region is divided into a few number of grids
> and
> each grid is further divided into tiles. Number of tiles in the grid
> can
> be found out by reading fields in hdr.adf  and boundry of grid or
> value of LLX,LLY,URX,URY can  be found out by
> reading fieldes in dblbnd.hdr.
> now after reading all file found out all these value
> 
> 
> After read that hdr.adf file I got this value
> 
> 
> According to specification
> value
> 
> 
> 
> Hcelltype
> 1
> 
> Magic                                                  grid 1.2 /
> 00
> 
> PixelSizeX
> 0.08333
> 
> PixelSizeY
> 0.08333
> 
> TilesPerRow
> 8
> 
> TilesPerColumn
> 512
> 
> TileXSize
> 256
> 
> TileYSize
> 4
> 
> Xref                                                     -58.911352
> 
> Yref                                                     -278.079399
> 
> 
> 
> After read that dblbnd.adf file you got this value
> 
> 
> According to specification
> value
> 
> 
> 
> D_LLX
> 24.
> 
> D_LLY
> -27
> 
> D_URX
> 30
> 
> D_URY
> -22
> 
> now put all value in to spacification
> grid devide in to number of tile=8*512
> & each tile devide into number of block=256*4
> mean each tile contain 1024 cells.& difference  between one cell to
> another cell is 0.08333 according to the geting value
> 
> so   number of collumn in tile*number of block in each tile*pixelsize
> X  =  8 * 256 * 0.08333  =  170
> 
> but if we check with diffreence between ( 30-24 ) then it is only 6
> 
> so where i am wrong or please help me.also explain me how to devide
> grid into tile & tile into block in equal portion
> 
> plz help me
> 
> 
> 
> Thanks
> -Tripathi
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

From jukka.rahkonen at mmmtike.fi  Wed Mar 19 14:00:14 2008
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed Mar 19 14:00:33 2008
Subject: [gdal-dev] Re: ECW Projection List, Swiss Projection, EPSG 21781
References: <51964.193.246.86.39.1205926208.squirrel@webmail.customers.iirc.at>
Message-ID: <loom.20080319T175614-889@post.gmane.org>

Andreas Neumann <a.neumann <at> carto.net> writes:

> 
> Hello,
> 
> I am a newbie to ecw. I am looking for the ECW Projection name and datum
> name for the Swiss projection. In EPSG this is nr 21781.
> 
> I don't know where to look for the ECW projection names. I found two files
> called /usr/local/share/gdal/ecw_cs.dat and ecw_cs.wkt, but I did not find
> a Swiss projection in here.

I am same kind of newbie with ecw, but I found an appendix of ER Mapper user
guide as useful. Manual can be downloaded from the documents section of
ermapper.com.

-Jukka Rahkonen-

From tutey at o2.pl  Wed Mar 19 14:03:14 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Mar 19 16:26:12 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESS issues
In-Reply-To: <loom.20080316T153458-284@post.gmane.org>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com>	<47DAE0A2.1070805@o2.pl>
	<47DAE84C.2030301@pobox.com>	<47DAF2EB.70207@o2.pl>
	<loom.20080316T153458-284@post.gmane.org>
Message-ID: <47E15562.4050203@o2.pl>

Jukka Rahkonen pisze:
> Maciej Sieczka <tutey <at> o2.pl> writes:

>> Since gdalwarp supports compressing tiffs, who would guess he has 
>> to do something extra? gdalwarp makes an impression of being able 
>> to warp and compress in one step. Not many users will expect that 
>> gdalwarp writes a compressed TIFF bigger than not compressed, and 
>> that he has to fix this with gdal_translate afterwards.

> For my mind this gdalwarp - LZW compression bug could be well enough 
> corrected by adding a line to gdalwarp documantation saying that it 
> is not recommended without preliminary test with actual image data.

IMO better drop the buggy feature alltogether if it is not going to be
fixed.

> By the way, have you ever tried to create a tiled tiff as output?  It
>  might give the compressor some nice intermediate points to decide 
> when to compress a bunch of image data and then, perhaps, the final 
> file size would not increase so much.

Tiled tiff is not always an option. As I wrote earlier in the thread:

1. There are software that perform better with stripped TIFFs, eg.
ArcPad [1], QGIS - the tiff at [2] if tiled with gdal_translate takes 
about 10 (ten) times longer to render in QGIS than it's stripped version.

2. There are software which don't support tiled TIFF at all. To stay
on the safe side I prefer to create stripped TIFFs in case I might be
sharing/selling them. I might be not the only one.

3. User will be surprised that gdalwarp -co "TILED=NO" -co
"COMPRESS=LZW" (or other compression alg.) creates tiffs bigger than
"COMPRESS=NONE".

4. Mind that gdal_translate -co "TILED=YES" still outperforms
gdalwarp -co "TILED=YES", any compression, file size - wise. With the
sample [2] it creates a TIFF over 8% smaller. Not *very* much, but with 
13 such tiffs gdal_translate gives you a room on your hard disk for 
another one, compared to gdalwarp.

[1]http://arcpadteam.blogspot.com/2006/08/raster-tips-1-choosing-raster-format.html
[2]http://www.biol.uni.wroc.pl/sieczka/udostepnione/M-33-21-A-b-4.tif
From warmerdam at pobox.com  Thu Mar 20 00:20:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 20 00:20:46 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47E14C11.2090205@gov.yk.ca>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com> <47DAE0A2.1070805@o2.pl>
	<47E14C11.2090205@gov.yk.ca>
Message-ID: <47E1E5FD.7030506@pobox.com>

Matt Wilkie wrote:
> If not and fixing the problem is as difficult as Even and Frank surmise 
> (more likely), then I suggest that to avoid confusing people the 
> compress option be dropped from gdalwarp for now, or at least issue a 
> warning when used.

Matt,

1) It does not appear to be a bug.  It is the natural behavior of the
driver when rewriting in place.

2) It is not possible to drop driver specific creation options from gdalwarp.
Gdalwarp passes driver options to the drivers and has no gdalwarp specific
knowledge about them.

If there is anything to be done it would be to explain the issues of
lost file space with "multiple update" applications like gdalwarp in
the GTiff driver.

Grr.  I said I wasn't going to respond anymore!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From neteler at osgeo.org  Thu Mar 20 05:29:34 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Mar 20 05:29:36 2008
Subject: Fwd: [gdal-dev] gdalwarp : how many gcp's for -order n?
In-Reply-To: <3B810805-4B50-4429-B4FB-D3657A576B18@unity.ncsu.edu>
References: <frp5bm$f7e$1@ger.gmane.org> <47E02338.6040202@pobox.com>
	<86782b610803190623k4a425944g91f5e86aa5518267@mail.gmail.com>
	<77A7D28A-7ED4-4A44-812B-81FA2A41A4CE@unity.ncsu.edu>
	<86782b610803190805hcd042c5h6d04acdc0a2d15c0@mail.gmail.com>
	<3B810805-4B50-4429-B4FB-D3657A576B18@unity.ncsu.edu>
Message-ID: <86782b610803200229v73830b11t7ba7674963704f3c@mail.gmail.com>

here again a FWD for the record:

---------- Forwarded message ----------
From: Helena Mitasova <hmitaso@unity.ncsu.edu>
Date: Wed, Mar 19, 2008 at 6:13 PM
Subject: Re: [gdal-dev] gdalwarp : how many gcp's for -order n?
To: Markus Neteler <neteler@osgeo.org>
Cc: Frank Warmerdam <warmerdam@pobox.com>


It indeed has the basic TPS (no tension, no smoothing) so
 something like this may be added (based on my reading of the code and
 the referenced paper):

 Thin plate spline in the following form is used for interpolation:
 f(x,y) = a +bx + cy + \sum_{j=1}^N \w_j r^2 \ln r^2
 where r^2 = (x_i-x_j)^2 + (y_i-y_j)^2, N is number of points and
 a,b,c,\w_j are coefficients

 Donato and Belongie paper:  www-cse.ucsd.edu/~sjb/pami_tps.pdf

 If the instability becomes annoying it can certainly be improved.

 Helena



 On Mar 19, 2008, at 11:05 AM, Markus Neteler wrote:
 > Helena,
 >
 > thanks for your explanations! the relevant code pieces should be here:
 >
 > http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdal_tps.cpp
 > http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/thinplatespline.cpp
 > http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/thinplatespline.h
 >
 > Maybe those files could be enriched with some doxygen style
 > equations or citations.
 >
 > Markus
From neteler at osgeo.org  Thu Mar 20 10:20:48 2008
From: neteler at osgeo.org (Markus Neteler)
Date: Thu Mar 20 10:20:51 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2
	instance
In-Reply-To: <01f301c889e4$55c67f40$01537dc0$@com>
References: <01f301c889e4$55c67f40$01537dc0$@com>
Message-ID: <86782b610803200720j5ad4c4e1keaaedec279ee5a88@mail.gmail.com>

On Wed, Mar 19, 2008 at 6:11 PM, Randy George <rkgeorge@cadmaps.com> wrote:
>                 I'd like to compile gdal-1.5.0 in an Ubuntu7.10 EC2 64bit
> instance, because gdal_grid is not included in the Ubuntu universe
>
..
> configure: error: C compiler cannot create executables
...
> /usr/bin/ld: crt1.o: No such file: No such file or directory

You need glibc-devel to be installed.

Markus
From singlespeed10 at gmail.com  Thu Mar 20 10:55:00 2008
From: singlespeed10 at gmail.com (Matt Fearon)
Date: Thu Mar 20 10:55:03 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
Message-ID: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>

Dear GDAL/Python Users,

I am struggling to make the following python/GDAL script work. I am
reading/converting large Palsar images to GeoTiff, and therefore I
have to be concerned with memory. I believe I have the following
script very close to working. The problem is related to the line
"dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)" - I am trying to
write an imported integer array(y,x) , 13700x13300, to a tif file row
by row using a for loop structure as a converted float. I constructed
this code from found examples, ie, 4bandto3band.py. However,
"WriteArray" is giving me trouble.  I believe the problem is something
very simple; the arguments in WriteArray are not quite right. I am
quite new to GDAL and Python. Some help would be very much
appreciated. Below are the errors I receive and my script.
thanks,
Matt


Traceback (most recent call last):
  File "./test.py", line 43, in <module>
    dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
  File "/usr/lib/python2.5/site-packages/gdal.py", line 876, in WriteArray
    return gdalnumeric.BandWriteArray( self, array, xoff, yoff )
  File "/usr/lib/python2.5/site-packages/gdalnumeric.py", line 187, in
BandWriteArray
    xsize = array.shape[1]
IndexError: tuple index out of range




#! /usr/bin/env python

import Numeric
from Numeric import *
import pickle, array, sys, os, shutil
import gdal, gdalnumeric
from gdalconst import *
import numpy
from math import *


file = "china/hangzhou/processed/ALPSRP021230580/IMG-HH-ALPSRP021230580-H1.5GUA"

gd=gdal.Open(file)
array=gd.ReadAsArray()
dims = array.shape
nx=dims[1]
ny=dims[0]

nxarray=zeros(nx,Float)
cal_factor=-83.0

dst_format = 'GTiff'
dst_datatype = gdal.GDT_Float32
dst_options = ['COMPRESS=LZW']
dst_file='foo.tif'
dst_xsize = nx
dst_ysize = ny
dst_nbands = 1

driver = gdal.GetDriverByName( dst_format )
dst_ds = driver.Create(dst_file, dst_xsize, dst_ysize, dst_nbands,
dst_datatype, dst_options)


for j in range(0,ny-1):
  for i in range(0,nx-1):

    nxarray[i]=0.0
    tmp = array[j,i] * 1.0
    if (tmp > 0):
      nxarray[i] = 10.0 * log10(pow(tmp,2)) + cal_factor

  dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)

dst_ds = None
From nowak at xpam.de  Thu Mar 20 10:44:44 2008
From: nowak at xpam.de (Adam Nowacki)
Date: Thu Mar 20 11:08:09 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2
	instance
In-Reply-To: <01f301c889e4$55c67f40$01537dc0$@com>
References: <01f301c889e4$55c67f40$01537dc0$@com>
Message-ID: <47E2785C.8070105@xpam.de>

Randy George wrote:
>                 I?d like to compile gdal-1.5.0 in an Ubuntu7.10 EC2 
> 64bit instance, because gdal_grid is not included in the Ubuntu universe
> 
> apt-get install gdal-bin. I?m a novice on gcc compile.

I shouldn't be telling you this since its not really a GDAL problem ... 
anyway, apt-get install build-essential
From rkgeorge at cadmaps.com  Thu Mar 20 11:50:40 2008
From: rkgeorge at cadmaps.com (Randy George)
Date: Thu Mar 20 11:54:11 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2
	instance
Message-ID: <02d501c88aa2$25d796c0$7186c440$@com>

Hi Adam, Markus,

Thanks for stretching the rules a bit. This helped immensely. 

For the next Ubuntu EC2 novice:
 cd /usr/src
 apt-get update
 apt-get install build-essential
 wget http://download.osgeo.org/gdal/gdal-1.5.0.tar.gz
 tar -xvzf gdal-1.5.0.tar.gz
 cd gdal-1.5.0
 ./configure
 make
 make install
 ldconfig
 gdal_grid --version
   GDAL 1.5.0, released 2007/12/18 

thanks
randy


-----Original Message-----
From: Adam Nowacki [mailto:nowak@xpam.de] 
Sent: Thursday, March 20, 2008 8:45 AM
To: rkgeorge@cadmaps.com
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2
instance

Randy George wrote:
>                 I'd like to compile gdal-1.5.0 in an Ubuntu7.10 EC2 
> 64bit instance, because gdal_grid is not included in the Ubuntu universe
> 
> apt-get install gdal-bin. I'm a novice on gcc compile.

I shouldn't be telling you this since its not really a GDAL problem ... 
anyway, apt-get install build-essential

From gaffigan at sfos.uaf.edu  Thu Mar 20 12:25:22 2008
From: gaffigan at sfos.uaf.edu (gaffigan@sfos.uaf.edu)
Date: Thu Mar 20 12:49:57 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
Message-ID: <58809.206.174.33.135.1206030322.squirrel@www.sfos.uaf.edu>

Hello, Matt.  I think the array argument to the WriteArray function must
be 2D.  In your example, nxarray should have shape (1,nx), instead of
(nx,).  So, on the relevant line, try the following instead:
  dst_ds.GetRasterBand(1).WriteArray(reshape(nxarray,(1,nx)),0,j)

Hope this gets you closer.

Steve

> Dear GDAL/Python Users,
>
> I am struggling to make the following python/GDAL script work. I am
reading/converting large Palsar images to GeoTiff, and therefore I have
to be concerned with memory. I believe I have the following script very
close to working. The problem is related to the line
"dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)" - I am trying to write
an imported integer array(y,x) , 13700x13300, to a tif file row by row
using a for loop structure as a converted float. I constructed this code
from found examples, ie, 4bandto3band.py. However,
> "WriteArray" is giving me trouble.  I believe the problem is something
very simple; the arguments in WriteArray are not quite right. I am quite
new to GDAL and Python. Some help would be very much
> appreciated. Below are the errors I receive and my script.
> thanks,
> Matt
>
>
> Traceback (most recent call last):
>   File "./test.py", line 43, in <module>
>     dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>   File "/usr/lib/python2.5/site-packages/gdal.py", line 876, in
WriteArray
>     return gdalnumeric.BandWriteArray( self, array, xoff, yoff )
>   File "/usr/lib/python2.5/site-packages/gdalnumeric.py", line 187, in
> BandWriteArray
>     xsize = array.shape[1]
> IndexError: tuple index out of range
>
>
>
>
> #! /usr/bin/env python
>
> import Numeric
> from Numeric import *
> import pickle, array, sys, os, shutil
> import gdal, gdalnumeric
> from gdalconst import *
> import numpy
> from math import *
>
>
> file =
> "china/hangzhou/processed/ALPSRP021230580/IMG-HH-ALPSRP021230580-H1.5GUA"
>
> gd=gdal.Open(file)
> array=gd.ReadAsArray()
> dims = array.shape
> nx=dims[1]
> ny=dims[0]
>
> nxarray=zeros(nx,Float)
> cal_factor=-83.0
>
> dst_format = 'GTiff'
> dst_datatype = gdal.GDT_Float32
> dst_options = ['COMPRESS=LZW']
> dst_file='foo.tif'
> dst_xsize = nx
> dst_ysize = ny
> dst_nbands = 1
>
> driver = gdal.GetDriverByName( dst_format )
> dst_ds = driver.Create(dst_file, dst_xsize, dst_ysize, dst_nbands,
dst_datatype, dst_options)
>
>
> for j in range(0,ny-1):
>   for i in range(0,nx-1):
>
>     nxarray[i]=0.0
>     tmp = array[j,i] * 1.0
>     if (tmp > 0):
>       nxarray[i] = 10.0 * log10(pow(tmp,2)) + cal_factor
>
>   dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>
> dst_ds = None
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>




From nikos.alexandris at felis.uni-freiburg.de  Thu Mar 20 12:36:39 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Thu Mar 20 12:52:09 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2
	instance
In-Reply-To: <02d501c88aa2$25d796c0$7186c440$@com>
References: <02d501c88aa2$25d796c0$7186c440$@com>
Message-ID: <1206030999.15690.3.camel@vertical>


On Thu, 2008-03-20 at 09:50 -0600, Randy George wrote:
> Hi Adam, Markus,
> 
> Thanks for stretching the rules a bit. This helped immensely. 
> 
> For the next Ubuntu EC2 novice:
>  cd /usr/src
>  apt-get update
>  apt-get install build-essential
>  wget http://download.osgeo.org/gdal/gdal-1.5.0.tar.gz
>  tar -xvzf gdal-1.5.0.tar.gz
>  cd gdal-1.5.0
>  ./configure
>  make
>  make install
>  ldconfig
>  gdal_grid --version
>    GDAL 1.5.0, released 2007/12/18 
> 
> thanks
> randy

Hi Randy!

Do you mind sharing you gdalinfo --formats and ogrinfo --formats ?

Cheers and thanks,

Nikos


From rkgeorge at cadmaps.com  Thu Mar 20 13:15:41 2008
From: rkgeorge at cadmaps.com (Randy George)
Date: Thu Mar 20 13:19:14 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit
	EC2	instance
In-Reply-To: <1206030999.15690.3.camel@vertical>
References: <02d501c88aa2$25d796c0$7186c440$@com>
	<1206030999.15690.3.camel@vertical>
Message-ID: <000c01c88aae$06e431e0$14ac95a0$@com>

Hi Nikos,

	Here is the list:
# gdalinfo --formats
Supported Formats:
  VRT (rw+): Virtual Raster
  GTiff (rw+): GeoTIFF
  NITF (rw+): National Imagery Transmission Format
  RPFTOC (ro): Raster Product Format TOC format
  HFA (rw+): Erdas Imagine Images (.img)
  SAR_CEOS (ro): CEOS SAR Image
  CEOS (ro): CEOS Image
  JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
  GFF (ro): Ground-based SAR Applications Testbed File Format (.gff)
  ELAS (rw+): ELAS
  AIG (ro): Arc/Info Binary Grid
  AAIGrid (rw): Arc/Info ASCII Grid
  SDTS (ro): SDTS Raster
  DTED (rw): DTED Elevation Raster
  PNG (rw): Portable Network Graphics
  JPEG (rw): JPEG JFIF
  MEM (rw+): In Memory Raster
  JDEM (ro): Japanese DEM (.mem)
  GIF (rw): Graphics Interchange Format (.gif)
  ESAT (ro): Envisat Image Format
  BSB (ro): Maptech BSB Nautical Charts
  XPM (rw): X11 PixMap Format
  BMP (rw+): MS Windows Device Independent Bitmap
  DIMAP (ro): SPOT DIMAP
  AirSAR (ro): AirSAR Polarimetric Image
  RS2 (ro): RadarSat 2 XML Product
  PCIDSK (rw+): PCIDSK Database File
  PCRaster (rw): PCRaster Raster File
  ILWIS (rw+): ILWIS Raster Map
  SGI (ro): SGI Image File Format 1.0
  SRTMHGT (rw): SRTMHGT File Format
  Leveller (rw+): Leveller heightfield
  Terragen (rw+): Terragen heightfield
  PNM (rw+): Portable Pixmap Format (netpbm)
  DOQ1 (ro): USGS DOQ (Old Style)
  DOQ2 (ro): USGS DOQ (New Style)
  ENVI (rw+): ENVI .hdr Labelled
  EHdr (rw+): ESRI .hdr Labelled
  GenBin (ro): Generic Binary (.hdr Labelled)
  PAux (rw+): PCI .aux Labelled
  MFF (rw+): Vexcel MFF Raster
  MFF2 (rw+): Vexcel MFF2 (HKV) Raster
  FujiBAS (ro): Fuji BAS Scanner Image
  GSC (ro): GSC Geogrid
  FAST (ro): EOSAT FAST Format
  BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
  LAN (ro): Erdas .LAN/.GIS
  CPG (ro): Convair PolGASP
  IDA (rw+): Image Data and Analysis
  NDF (ro): NLAPS Data Format
  DIPEx (ro): DIPEx
  ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
  ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
  PDS (ro): NASA Planetary Data System
  ERS (rw+): ERMapper .ers Labelled
  L1B (ro): NOAA Polar Orbiter Level 1b Data Set
  FIT (rw): FIT Image
  RMF (rw+): Raster Matrix Format
  RST (rw+): Idrisi Raster A.1
  INGR (rw+): Intergraph Raster
  GSAG (rw+): Golden Software ASCII Grid (.grd)
  GSBG (rw+): Golden Software Binary Grid (.grd)
  GS7BG (ro): Golden Software 7 Binary Grid (.grd)
  COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
  TSX (ro): TerraSAR-X Product
  COASP (ro): DRDC COASP SAR Processor Raster
  RIK (ro): Swedish Grid RIK (.rik)
  USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
  GXF (ro): GeoSoft Grid Exchange Format
  ADRG (rw+): ARC Digitized Raster Graphics


# ogrinfo --formats
Supported Formats:
  -> "ESRI Shapefile" (read/write)
  -> "MapInfo File" (read/write)
  -> "UK .NTF" (readonly)
  -> "SDTS" (readonly)
  -> "TIGER" (read/write)
  -> "S57" (read/write)
  -> "DGN" (read/write)
  -> "VRT" (readonly)
  -> "REC" (readonly)
  -> "Memory" (read/write)
  -> "BNA" (read/write)
  -> "CSV" (read/write)
  -> "GML" (read/write)
  -> "GPX" (read/write)
  -> "KML" (read/write)
  -> "GeoJSON" (read/write)
  -> "GMT" (read/write)
  -> "AVCBin" (readonly)

Randy



-----Original Message-----
From: Nikos Alexandris [mailto:nikos.alexandris@felis.uni-freiburg.de] 
Sent: Thursday, March 20, 2008 10:37 AM
To: rkgeorge@cadmaps.com
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit EC2
instance


On Thu, 2008-03-20 at 09:50 -0600, Randy George wrote:
> Hi Adam, Markus,
> 
> Thanks for stretching the rules a bit. This helped immensely. 
> 
> For the next Ubuntu EC2 novice:
>  cd /usr/src
>  apt-get update
>  apt-get install build-essential
>  wget http://download.osgeo.org/gdal/gdal-1.5.0.tar.gz
>  tar -xvzf gdal-1.5.0.tar.gz
>  cd gdal-1.5.0
>  ./configure
>  make
>  make install
>  ldconfig
>  gdal_grid --version
>    GDAL 1.5.0, released 2007/12/18 
> 
> thanks
> randy

Hi Randy!

Do you mind sharing you gdalinfo --formats and ogrinfo --formats ?

Cheers and thanks,

Nikos



From ivan.lucena at pmldnet.com  Thu Mar 20 13:34:19 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Mar 20 13:34:18 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <58809.206.174.33.135.1206030322.squirrel@www.sfos.uaf.edu>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
	<58809.206.174.33.135.1206030322.squirrel@www.sfos.uaf.edu>
Message-ID: <47E2A01B.9040504@pmldnet.com>

Also, remember to check if your GDAL distribution supports Bigtiff if 
the file size is greater than 4GB (13700x13300x32=5,830,720,000 ?).

gaffigan@sfos.uaf.edu wrote:
> Hello, Matt.  I think the array argument to the WriteArray function must
> be 2D.  In your example, nxarray should have shape (1,nx), instead of
> (nx,).  So, on the relevant line, try the following instead:
>   dst_ds.GetRasterBand(1).WriteArray(reshape(nxarray,(1,nx)),0,j)
> 
> Hope this gets you closer.
> 
> Steve
> 
>> Dear GDAL/Python Users,
>>
>> I am struggling to make the following python/GDAL script work. I am
> reading/converting large Palsar images to GeoTiff, and therefore I have
> to be concerned with memory. I believe I have the following script very
> close to working. The problem is related to the line
> "dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)" - I am trying to write
> an imported integer array(y,x) , 13700x13300, to a tif file row by row
> using a for loop structure as a converted float. I constructed this code
> from found examples, ie, 4bandto3band.py. However,
>> "WriteArray" is giving me trouble.  I believe the problem is something
> very simple; the arguments in WriteArray are not quite right. I am quite
> new to GDAL and Python. Some help would be very much
>> appreciated. Below are the errors I receive and my script.
>> thanks,
>> Matt
>>
>>
>> Traceback (most recent call last):
>>   File "./test.py", line 43, in <module>
>>     dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>>   File "/usr/lib/python2.5/site-packages/gdal.py", line 876, in
> WriteArray
>>     return gdalnumeric.BandWriteArray( self, array, xoff, yoff )
>>   File "/usr/lib/python2.5/site-packages/gdalnumeric.py", line 187, in
>> BandWriteArray
>>     xsize = array.shape[1]
>> IndexError: tuple index out of range
>>
>>
>>
>>
>> #! /usr/bin/env python
>>
>> import Numeric
>> from Numeric import *
>> import pickle, array, sys, os, shutil
>> import gdal, gdalnumeric
>> from gdalconst import *
>> import numpy
>> from math import *
>>
>>
>> file =
>> "china/hangzhou/processed/ALPSRP021230580/IMG-HH-ALPSRP021230580-H1.5GUA"
>>
>> gd=gdal.Open(file)
>> array=gd.ReadAsArray()
>> dims = array.shape
>> nx=dims[1]
>> ny=dims[0]
>>
>> nxarray=zeros(nx,Float)
>> cal_factor=-83.0
>>
>> dst_format = 'GTiff'
>> dst_datatype = gdal.GDT_Float32
>> dst_options = ['COMPRESS=LZW']
>> dst_file='foo.tif'
>> dst_xsize = nx
>> dst_ysize = ny
>> dst_nbands = 1
>>
>> driver = gdal.GetDriverByName( dst_format )
>> dst_ds = driver.Create(dst_file, dst_xsize, dst_ysize, dst_nbands,
> dst_datatype, dst_options)
>>
>> for j in range(0,ny-1):
>>   for i in range(0,nx-1):
>>
>>     nxarray[i]=0.0
>>     tmp = array[j,i] * 1.0
>>     if (tmp > 0):
>>       nxarray[i] = 10.0 * log10(pow(tmp,2)) + cal_factor
>>
>>   dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>>
>> dst_ds = None
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From ivan.lucena at pmldnet.com  Thu Mar 20 13:38:24 2008
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu Mar 20 13:38:25 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <47E2A01B.9040504@pmldnet.com>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>	<58809.206.174.33.135.1206030322.squirrel@www.sfos.uaf.edu>
	<47E2A01B.9040504@pmldnet.com>
Message-ID: <47E2A110.4070502@pmldnet.com>

32/8...

Lucena, Ivan wrote:
> Also, remember to check if your GDAL distribution supports Bigtiff if 
> the file size is greater than 4GB (13700x13300x32=5,830,720,000 ?).
> 
> gaffigan@sfos.uaf.edu wrote:
>> Hello, Matt.  I think the array argument to the WriteArray function must
>> be 2D.  In your example, nxarray should have shape (1,nx), instead of
>> (nx,).  So, on the relevant line, try the following instead:
>>   dst_ds.GetRasterBand(1).WriteArray(reshape(nxarray,(1,nx)),0,j)
>>
>> Hope this gets you closer.
>>
>> Steve
>>
>>> Dear GDAL/Python Users,
>>>
>>> I am struggling to make the following python/GDAL script work. I am
>> reading/converting large Palsar images to GeoTiff, and therefore I have
>> to be concerned with memory. I believe I have the following script very
>> close to working. The problem is related to the line
>> "dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)" - I am trying to write
>> an imported integer array(y,x) , 13700x13300, to a tif file row by row
>> using a for loop structure as a converted float. I constructed this code
>> from found examples, ie, 4bandto3band.py. However,
>>> "WriteArray" is giving me trouble.  I believe the problem is something
>> very simple; the arguments in WriteArray are not quite right. I am quite
>> new to GDAL and Python. Some help would be very much
>>> appreciated. Below are the errors I receive and my script.
>>> thanks,
>>> Matt
>>>
>>>
>>> Traceback (most recent call last):
>>>   File "./test.py", line 43, in <module>
>>>     dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>>>   File "/usr/lib/python2.5/site-packages/gdal.py", line 876, in
>> WriteArray
>>>     return gdalnumeric.BandWriteArray( self, array, xoff, yoff )
>>>   File "/usr/lib/python2.5/site-packages/gdalnumeric.py", line 187, in
>>> BandWriteArray
>>>     xsize = array.shape[1]
>>> IndexError: tuple index out of range
>>>
>>>
>>>
>>>
>>> #! /usr/bin/env python
>>>
>>> import Numeric
>>> from Numeric import *
>>> import pickle, array, sys, os, shutil
>>> import gdal, gdalnumeric
>>> from gdalconst import *
>>> import numpy
>>> from math import *
>>>
>>>
>>> file =
>>> "china/hangzhou/processed/ALPSRP021230580/IMG-HH-ALPSRP021230580-H1.5GUA" 
>>>
>>>
>>> gd=gdal.Open(file)
>>> array=gd.ReadAsArray()
>>> dims = array.shape
>>> nx=dims[1]
>>> ny=dims[0]
>>>
>>> nxarray=zeros(nx,Float)
>>> cal_factor=-83.0
>>>
>>> dst_format = 'GTiff'
>>> dst_datatype = gdal.GDT_Float32
>>> dst_options = ['COMPRESS=LZW']
>>> dst_file='foo.tif'
>>> dst_xsize = nx
>>> dst_ysize = ny
>>> dst_nbands = 1
>>>
>>> driver = gdal.GetDriverByName( dst_format )
>>> dst_ds = driver.Create(dst_file, dst_xsize, dst_ysize, dst_nbands,
>> dst_datatype, dst_options)
>>>
>>> for j in range(0,ny-1):
>>>   for i in range(0,nx-1):
>>>
>>>     nxarray[i]=0.0
>>>     tmp = array[j,i] * 1.0
>>>     if (tmp > 0):
>>>       nxarray[i] = 10.0 * log10(pow(tmp,2)) + cal_factor
>>>
>>>   dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>>>
>>> dst_ds = None
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
From Chris.Barker at noaa.gov  Thu Mar 20 12:52:41 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Mar 20 13:49:51 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
Message-ID: <47E29659.2090709@noaa.gov>

Matt Fearon wrote:
> The problem is related to the line
> "dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)" - I am trying to
> write an imported integer array(y,x) , 13700x13300, to a tif file row
> by row 

> BandWriteArray
>     xsize = array.shape[1]
> IndexError: tuple index out of range

It looks like RasterBand.WriteArray is expecting a 2-d array, and you 
are passing in a 1-d array. This makes sense as you are trying to pass 
in a single row. Do  you need to do it row by row due to memory limitations?

> import Numeric

> import numpy

which version of GDAL are you using? if you use 1.5, you can just use 
numpy, rather than both Numeric and numpy.

> from math import *

Just so you know both Numeric an numpy are essentially supersets of 
math, so you usually don't need the math module. Also, as math and 
Numeric have a lot of overlapping symbols, you generally don't want to 
"import *" both of them

> nxarray=zeros(nx,Float)

> dst_datatype = gdal.GDT_Float32

Another issue here -- I think Numeric.Float is a 64bit float (C double), 
same as the built-in python float. If you want a Float32 array, you need 
something else. In numpy, it's "float32", in Numeric, it's "Float32".

> for j in range(0,ny-1):
>   for i in range(0,nx-1):

I think you want "range(ny)" here:

 >>> range(4)
[0, 1, 2, 3]

There is also room to "vectorize" this operation -- you should be able 
to process a whole row at once, and only loop through y, but not x -- 
that will speed things up a lot (see below). If you have enough memory, 
you could process the whole thing at once with numpy operations -- 
that's the whole point of numpy(and Numeric).

>     nxarray[i]=0.0
>     tmp = array[j,i] * 1.0

why multiply by 1.0 here? that shouldn't do anything.

>     if (tmp > 0):
>       nxarray[i] = 10.0 * log10(pow(tmp,2)) + cal_factor
> 
>   dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)

Here's the issue. If I have this right, WriteArray is expecting a 2-d 
array, and writing to the RasterBand at the given offsets. So what you 
need to do is convert your (nx,) array to a (nx,1) array, and it should 
work:

nxarray.shape = (-1,1)

This tells Numeric or numpy to set the second dimension to 1, and the 
first to whatever it needs to be to fit. (that could be (nx, 1), but I 
like to be generic when I can.

Now you can call WriteRaster:

dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)

Also:

dst_ds = None

I think that will delete your destination raster -- has it been written 
to file yet?

Here is my (untested) suggestion to eliminating a loop:

for j in range(ny): # loop though the rows
     nxarray=array[j,:] # note - this is a view into your original array
     nxarray = numpy.where(nxarray > 0,
                           10.0 * log10(pow(tmp,2)) + cal_factor,
                           nxarray)
    nxarray.shape = (-1, 1)
    dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)


Hope that helps.

-Chris

-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From nikos.alexandris at felis.uni-freiburg.de  Thu Mar 20 13:51:52 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Thu Mar 20 13:51:55 2008
Subject: [gdal-dev] RE: compile from source on Ubuntu7.10 64bit
	EC2	instance
In-Reply-To: <000c01c88aae$06e431e0$14ac95a0$@com>
References: <02d501c88aa2$25d796c0$7186c440$@com>
	<1206030999.15690.3.camel@vertical>
	<000c01c88aae$06e431e0$14ac95a0$@com>
Message-ID: <1206035512.15690.8.camel@vertical>


On Thu, 2008-03-20 at 11:15 -0600, Randy George wrote:
> Hi Nikos,
> 
> 	Here is the list:
> # gdalinfo --formats
> Supported Formats:
>   VRT (rw+): Virtual Raster
>   GTiff (rw+): GeoTIFF
>   NITF (rw+): National Imagery Transmission Format
>   RPFTOC (ro): Raster Product Format TOC format
>   HFA (rw+): Erdas Imagine Images (.img)
>   SAR_CEOS (ro): CEOS SAR Image
>   CEOS (ro): CEOS Image
>   JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
>   GFF (ro): Ground-based SAR Applications Testbed File Format (.gff)
>   ELAS (rw+): ELAS
>   AIG (ro): Arc/Info Binary Grid
>   AAIGrid (rw): Arc/Info ASCII Grid
>   SDTS (ro): SDTS Raster
>   DTED (rw): DTED Elevation Raster
>   PNG (rw): Portable Network Graphics
>   JPEG (rw): JPEG JFIF
>   MEM (rw+): In Memory Raster
>   JDEM (ro): Japanese DEM (.mem)
>   GIF (rw): Graphics Interchange Format (.gif)
>   ESAT (ro): Envisat Image Format
>   BSB (ro): Maptech BSB Nautical Charts
>   XPM (rw): X11 PixMap Format
>   BMP (rw+): MS Windows Device Independent Bitmap
>   DIMAP (ro): SPOT DIMAP
>   AirSAR (ro): AirSAR Polarimetric Image
>   RS2 (ro): RadarSat 2 XML Product
>   PCIDSK (rw+): PCIDSK Database File
>   PCRaster (rw): PCRaster Raster File
>   ILWIS (rw+): ILWIS Raster Map
>   SGI (ro): SGI Image File Format 1.0
>   SRTMHGT (rw): SRTMHGT File Format
>   Leveller (rw+): Leveller heightfield
>   Terragen (rw+): Terragen heightfield
>   PNM (rw+): Portable Pixmap Format (netpbm)
>   DOQ1 (ro): USGS DOQ (Old Style)
>   DOQ2 (ro): USGS DOQ (New Style)
>   ENVI (rw+): ENVI .hdr Labelled
>   EHdr (rw+): ESRI .hdr Labelled
>   GenBin (ro): Generic Binary (.hdr Labelled)
>   PAux (rw+): PCI .aux Labelled
>   MFF (rw+): Vexcel MFF Raster
>   MFF2 (rw+): Vexcel MFF2 (HKV) Raster
>   FujiBAS (ro): Fuji BAS Scanner Image
>   GSC (ro): GSC Geogrid
>   FAST (ro): EOSAT FAST Format
>   BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
>   LAN (ro): Erdas .LAN/.GIS
>   CPG (ro): Convair PolGASP
>   IDA (rw+): Image Data and Analysis
>   NDF (ro): NLAPS Data Format
>   DIPEx (ro): DIPEx
>   ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
>   ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
>   PDS (ro): NASA Planetary Data System
>   ERS (rw+): ERMapper .ers Labelled
>   L1B (ro): NOAA Polar Orbiter Level 1b Data Set
>   FIT (rw): FIT Image
>   RMF (rw+): Raster Matrix Format
>   RST (rw+): Idrisi Raster A.1
>   INGR (rw+): Intergraph Raster
>   GSAG (rw+): Golden Software ASCII Grid (.grd)
>   GSBG (rw+): Golden Software Binary Grid (.grd)
>   GS7BG (ro): Golden Software 7 Binary Grid (.grd)
>   COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
>   TSX (ro): TerraSAR-X Product
>   COASP (ro): DRDC COASP SAR Processor Raster
>   RIK (ro): Swedish Grid RIK (.rik)
>   USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
>   GXF (ro): GeoSoft Grid Exchange Format
>   ADRG (rw+): ARC Digitized Raster Graphics
> 
> 
> # ogrinfo --formats
> Supported Formats:
>   -> "ESRI Shapefile" (read/write)
>   -> "MapInfo File" (read/write)
>   -> "UK .NTF" (readonly)
>   -> "SDTS" (readonly)
>   -> "TIGER" (read/write)
>   -> "S57" (read/write)
>   -> "DGN" (read/write)
>   -> "VRT" (readonly)
>   -> "REC" (readonly)
>   -> "Memory" (read/write)
>   -> "BNA" (read/write)
>   -> "CSV" (read/write)
>   -> "GML" (read/write)
>   -> "GPX" (read/write)
>   -> "KML" (read/write)
>   -> "GeoJSON" (read/write)
>   -> "GMT" (read/write)
>   -> "AVCBin" (readonly)
> 
> Randy

Thank you!

I don't see OGDI for instance in your list. And what about HDF?

I asked cause I am facing difficulties to build from source with
--with-ogdi and at the same time --with-expat (the latter is required
for KML and is rejected if I use ogdi).  Wanted to see if both are
present in your system.

I've created a ticket about that... but maybe it's not a bug. Not sure
cause I am still learning.

Cheers,

Nikos

From singlespeed10 at gmail.com  Thu Mar 20 15:14:36 2008
From: singlespeed10 at gmail.com (Matt Fearon)
Date: Thu Mar 20 15:14:39 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <47E29659.2090709@noaa.gov>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
	<47E29659.2090709@noaa.gov>
Message-ID: <32e03bcf0803201214n45fcf826q84403b02b5c4d8fb@mail.gmail.com>

Thanks Chris, Steve, and Ivan. I have included comments from both of
you. Chris, thank you for the great detail of your response. However,
I still receive trouble with WriteArray and few additional things now.
Below are my errors and updated code. Any thoughts would be
appreciated.

thanks,
Matt


Traceback (most recent call last):
  File "./test.py", line 38, in <module>
    dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
  File "/usr/lib/python2.5/site-packages/gdal.py", line 876, in WriteArray
    return gdalnumeric.BandWriteArray( self, array, xoff, yoff )
  File "/usr/lib/python2.5/site-packages/gdalnumeric.py", line 193, in
BandWriteArray
    datatype = NumericTypeCodeToGDALTypeCode( array.typecode() )
AttributeError: 'numpy.ndarray' object has no attribute 'typecode'



#! /usr/bin/env python

import pickle, array, sys, os, shutil
import gdal, gdalnumeric
from gdalconst import *
import numpy
from numpy import *


file = "china/hangzhou/processed/ALPSRP021230580/IMG-HH-ALPSRP021230580-H1.5GUA"

gd=gdal.Open(file)
array=gd.ReadAsArray()
dims = array.shape
nx=dims[1]
ny=dims[0]

nxarray=numpy.zeros(nx, dtype=float32)
cal_factor=-83.0

dst_format = 'GTiff'
dst_datatype = gdal.GDT_Float32
dst_options = ['COMPRESS=LZW']
dst_file='foo.tif'
dst_xsize = nx
dst_ysize = ny
dst_nbands = 1

driver = gdal.GetDriverByName( dst_format )
dst_ds = driver.Create(dst_file, dst_xsize, dst_ysize, dst_nbands,
dst_datatype, dst_options)


for j in range(ny):
    nxarray=array[j,:]
    nxarray = numpy.where(nxarray > 0, 10.0 * log10(pow(nxarray,2)) +
cal_factor, nxarray)
    nxarray.shape = (1,-1)
    print nxarray
    dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)




On Thu, Mar 20, 2008 at 12:52 PM, Christopher Barker
<Chris.Barker@noaa.gov> wrote:
> Matt Fearon wrote:
>  > The problem is related to the line
>  > "dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)" - I am trying to
>  > write an imported integer array(y,x) , 13700x13300, to a tif file row
>  > by row
>
>
> > BandWriteArray
>  >     xsize = array.shape[1]
>  > IndexError: tuple index out of range
>
>  It looks like RasterBand.WriteArray is expecting a 2-d array, and you
>  are passing in a 1-d array. This makes sense as you are trying to pass
>  in a single row. Do  you need to do it row by row due to memory limitations?
>
>  > import Numeric
>
>  > import numpy
>
>  which version of GDAL are you using? if you use 1.5, you can just use
>  numpy, rather than both Numeric and numpy.
>
>  > from math import *
>
>  Just so you know both Numeric an numpy are essentially supersets of
>  math, so you usually don't need the math module. Also, as math and
>  Numeric have a lot of overlapping symbols, you generally don't want to
>  "import *" both of them
>
>  > nxarray=zeros(nx,Float)
>
>
>  > dst_datatype = gdal.GDT_Float32
>
>  Another issue here -- I think Numeric.Float is a 64bit float (C double),
>  same as the built-in python float. If you want a Float32 array, you need
>  something else. In numpy, it's "float32", in Numeric, it's "Float32".
>
>
>  > for j in range(0,ny-1):
>  >   for i in range(0,nx-1):
>
>  I think you want "range(ny)" here:
>
>   >>> range(4)
>  [0, 1, 2, 3]
>
>  There is also room to "vectorize" this operation -- you should be able
>  to process a whole row at once, and only loop through y, but not x --
>  that will speed things up a lot (see below). If you have enough memory,
>  you could process the whole thing at once with numpy operations --
>  that's the whole point of numpy(and Numeric).
>
>
>  >     nxarray[i]=0.0
>  >     tmp = array[j,i] * 1.0
>
>  why multiply by 1.0 here? that shouldn't do anything.
>
>
>  >     if (tmp > 0):
>  >       nxarray[i] = 10.0 * log10(pow(tmp,2)) + cal_factor
>  >
>  >   dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>
>  Here's the issue. If I have this right, WriteArray is expecting a 2-d
>  array, and writing to the RasterBand at the given offsets. So what you
>  need to do is convert your (nx,) array to a (nx,1) array, and it should
>  work:
>
>  nxarray.shape = (-1,1)
>
>  This tells Numeric or numpy to set the second dimension to 1, and the
>  first to whatever it needs to be to fit. (that could be (nx, 1), but I
>  like to be generic when I can.
>
>  Now you can call WriteRaster:
>
>
>  dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>
>  Also:
>
>  dst_ds = None
>
>  I think that will delete your destination raster -- has it been written
>  to file yet?
>
>  Here is my (untested) suggestion to eliminating a loop:
>
>  for j in range(ny): # loop though the rows
>      nxarray=array[j,:] # note - this is a view into your original array
>      nxarray = numpy.where(nxarray > 0,
>                            10.0 * log10(pow(tmp,2)) + cal_factor,
>                            nxarray)
>     nxarray.shape = (-1, 1)
>
>     dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>
>
>  Hope that helps.
>
>  -Chris
>
>  --
>  Christopher Barker, Ph.D.
>  Oceanographer
>
>  Emergency Response Division
>  NOAA/NOS/OR&R            (206) 526-6959   voice
>  7600 Sand Point Way NE   (206) 526-6329   fax
>  Seattle, WA  98115       (206) 526-6317   main reception
>
>  Chris.Barker@noaa.gov
>
>
> _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From lubia_vinhas at yahoo.com.br  Thu Mar 20 15:26:48 2008
From: lubia_vinhas at yahoo.com.br (=?iso-8859-1?q?L=FAbia=20Vinhas?=)
Date: Thu Mar 20 15:26:50 2008
Subject: [gdal-dev] Bounding box restriction in WCS driver
Message-ID: <363661.99698.qm@web35302.mail.mud.yahoo.com>

Hi,

I'm trying to use the GDAL driver to access a WCS server,
and it worked fine. Except that it seems that it doesn't recognize
the bounding box restriction... it always returns the entire coverage.

I tried two different descriptions for the coverage:

1)  using the GDAL elements:

<WCS_GDAL>
<ServiceURL>http://nsidc.org/cgi-bin/atlas_north?SERVICE=WCS&amp;request=GetCoverage&amp;crs=EPSG:32661</ServiceURL>
<CoverageName>sea_ice_concentration_01</CoverageName>
<PreferredFormat>GeoTIFF</PreferredFormat>
<GetCoverageExtra>&amp;resx=25000&amp;resy=25000&amp;bbox=-2500000,-2500000,6700000,6700000</GetCoverageExtra> 
</WCS_GDAL>

2) setting the parameters in the serviceURL  element:
<WCS_GDAL>
<ServiceURL>http://nsidc.org/cgi-bin/atlas_north?SERVICE=WCS&amp;request=GetCoverage&amp;crs=EPSG:32661&amp;format=GeoTIFF&amp;resx=25000&amp;resy=25000&amp;bbox=-2500000,-2500000,6700000,6700000</ServiceURL>
<CoverageName>sea_ice_concentration_01</CoverageName>
</WCS_GDAL>

I always get the entire coverage, even when I specify a smaller BB. The server
works fine, I mean it responds to different bounding boxes or resolutions when
being accessed by other clients. 

Can anyone give me a hint about it?

Tks,

L?bia VInhas
       
---------------------------------
Abra sua conta no Yahoo! Mail, o ?nico sem limite de espa?o para armazenamento! 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080320/1ef505ee/attachment.html
From warmerdam at pobox.com  Thu Mar 20 15:50:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 20 15:50:26 2008
Subject: [gdal-dev] Bounding box restriction in WCS driver
In-Reply-To: <363661.99698.qm@web35302.mail.mud.yahoo.com>
References: <363661.99698.qm@web35302.mail.mud.yahoo.com>
Message-ID: <47E2BFED.4050804@pobox.com>

L?bia Vinhas wrote:
> Hi,
> 
> I'm trying to use the GDAL driver to access a WCS server,
> and it worked fine. Except that it seems that it doesn't recognize
> the bounding box restriction... it always returns the entire coverage.
> 
> I tried two different descriptions for the coverage:
> 
> 1)  using the GDAL elements:
> 
> <WCS_GDAL>
> <ServiceURL>http://nsidc.org/cgi-bin/atlas_north?SERVICE=WCS&amp;request=GetCoverage&amp;crs=EPSG:32661</ServiceURL>
> <CoverageName>sea_ice_concentration_01</CoverageName>
> <PreferredFormat>GeoTIFF</PreferredFormat>
> <GetCoverageExtra>&amp;resx=25000&amp;resy=25000&amp;bbox=-2500000,-2500000,6700000,6700000</GetCoverageExtra> 
> </WCS_GDAL>
> 
> 2) setting the parameters in the serviceURL  element:
> <WCS_GDAL>
> <ServiceURL>http://nsidc.org/cgi-bin/atlas_north?SERVICE=WCS&amp;request=GetCoverage&amp;crs=EPSG:32661&amp;format=GeoTIFF&amp;resx=25000&amp;resy=25000&amp;bbox=-2500000,-2500000,6700000,6700000</ServiceURL>
> <CoverageName>sea_ice_concentration_01</CoverageName>
> </WCS_GDAL>
> 
> I always get the entire coverage, even when I specify a smaller BB. The server
> works fine, I mean it responds to different bounding boxes or resolutions when
> being accessed by other clients. 
> 
> Can anyone give me a hint about it?

L?bia,

The GDAL WCS driver will always push it's own BBOX values into the URL
it uses internally to make requests, so it is dangerous to put a BBOX
into either the base url or the GetCoverageExtra as this results in two
BBOXes being sent to the remote server.

Ideally you would just request a subarea of the whole coverage
from GDAL instead of trying to configure the WCS service to only
know about a subarea.

So for instance, do something like:

gdal_translate -projwin 2500000 -2500000 6700000 6700000 your.wcs out.tif

Then the GDAL driver should only make the necessary requests to satisfy your
request (or possibly a little extra if it is doing it in tile oriented
chunks).

If you really wanted to treat it as a restricted WCS you would need to
substantially doctor the coverage fetched and kept in the XML service
file.  For instance, in a WCS 1.0 service you could modify:

         <RectifiedGrid dimension="2">
           <limits>
             <GridEnvelope>
               <low>0 0</low>
               <high>189235 273028</high>
             </GridEnvelope>
           </limits>
           <axisName>x</axisName>
           <axisName>y</axisName>
           <origin>
             <pos>-82.351242 13.0499433</pos>
           </origin>
           <offsetVector>0.00025602 0</offsetVector>
           <offsetVector>0 -0.00025602</offsetVector>
         </RectifiedGrid>

to refer only to a subarea.

But this is a pretty dangerous approach.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From Chris.Barker at noaa.gov  Thu Mar 20 16:34:04 2008
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu Mar 20 16:31:14 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <32e03bcf0803201214n45fcf826q84403b02b5c4d8fb@mail.gmail.com>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
	<47E29659.2090709@noaa.gov>
	<32e03bcf0803201214n45fcf826q84403b02b5c4d8fb@mail.gmail.com>
Message-ID: <47E2CA3C.6020507@noaa.gov>


Matt Fearon wrote:
> Chris, thank you for the great detail of your response.

You're welcome.

> However,
> I still receive trouble with WriteArray and few additional things now.
> Below are my errors

>     datatype = NumericTypeCodeToGDALTypeCode( array.typecode() )
> AttributeError: 'numpy.ndarray' object has no attribute 'typecode'

Sorry, my fault -- I think what's happening is that you're passing in a 
numpy array, and it's expecting a Numeric array -- they are very 
similar, but not identical. It seems you are using GDAL 1.4, in which 
case it's probably better to just stick with Numeric all around.

Note to Frank -- we could wrap input arrays with Numeric.asarray() 
calls, so that the conversion would happen automatically.

> #! /usr/bin/env python
> 
> import pickle, array, sys, os, shutil
> import gdal, gdalnumeric
> from gdalconst import *
> import numpy
> from numpy import *

I like to do:

import numpy as N
or import Numeric as N

In this case, you're probably better off with just Numeric. And I really 
recommend against "import *". In fact, in this case, if you do that, 
you're stomping on the numpy array constructor with your "array" variable.


> gd=gdal.Open(file)
> array=gd.ReadAsArray()

I think this is now a Numeric array, check like this:

type(array) -- if it says:

<type 'array'>
it's Numeric, if it says:

<type 'numpy.ndarray'>
it's numpy.

I think you're working with Numeric here.

By the way -- what a mess! Oh well, everyone is moving to numpy now, so 
in a bit this will no longer be an issue. If you can upgrade to GDAL 1.5 
now, I would. But for now, let's go Numeric:

> nxarray=numpy.zeros(nx, dtype=float32)

You don't need that anymore, it's getting created inside the loop anyway.

> for j in range(ny):
>     nxarray=array[j,:]

I now I gave you this code, but there is an issue here, what type is 
your input data? IIUC, it's not Float32, so you need to do a conversion 
here:
     nxarray = array[j,:].astype(N.Float32)

here's the trick:
     nxarray.savespace(1)
This tells the Numeric array that you don't want it to upcast to a 
Float64 when you multiply it by a standard Python float (which is 64 
bit). One advantage to numpy is that it does this by default.

     nxarray = N.where(nxarray > 0, 10.0 * N.log10(pow(nxarray,2)) +

changed the "numpy" to N -- then if you did "import Numeric as N", 
you'll get a Numeric array here. You can just do "import Numeric", but 
then you have to type that long word everywhere...

> cal_factor, nxarray)
>     nxarray.shape = (1,-1)
>     print nxarray
>     dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)

that should do it.


-Chris


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From warmerdam at pobox.com  Thu Mar 20 17:40:52 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 20 17:41:05 2008
Subject: [gdal-dev] Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
In-Reply-To: <26338B51-E259-49DD-A051-C1AD04B727E4@kyngchaos.com>
References: <47DB0518.9000505@pobox.com>
	<26338B51-E259-49DD-A051-C1AD04B727E4@kyngchaos.com>
Message-ID: <47E2D9E4.5050803@pobox.com>


>> Motion: Promote GDAL 1.5.1RC4 to be GDAL 1.5.1 Final.
>>
>> I have prepared a new RC with the #2005 fix.  It is available at:
>>
>>  http://download.osgeo.org/gdal/gdal-1.5.1RC4.tar.gz
>>  http://download.osgeo.org/gdal/gdal151RC4.zip
>>
>> I'm starting the voting at +1 on RC4.

Folks,

I'm a bit behind schedule, but I declare this motion passed with support
from FrankW, EvenR and DanielM.  I will proceed to rename the files, update
the site and publish announcements.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Thu Mar 20 17:59:42 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu Mar 20 18:00:03 2008
Subject: [gdal-dev] GDAL/OGR 1.5.1 Released
Message-ID: <47E2DE4E.2040607@pobox.com>

Folks,

The GDAL/OGR project is pleased to announce the release of GDAL/OGR 1.5.1.
This is a bug fix release improving on the December 2007 1.5.0 release.
There are no substantial new features.

NEWS:   http://trac.osgeo.org/gdal/wiki/Release/1.5.1-News
Source: http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
         http://download.osgeo.org/gdal/gdal151.zip

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Thu Mar 20 18:11:05 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu Mar 20 18:11:21 2008
Subject: [gdal-dev] Re: gdalwarp -co COMPRESSION issues
In-Reply-To: <47E1E5FD.7030506@pobox.com>
References: <47CA77F3.2010102@o2.pl>
	<loom.20080303T051637-425@post.gmane.org>	<47DAD516.6060505@o2.pl>
	<47DAD7E0.1010202@pobox.com> <47DAE0A2.1070805@o2.pl>
	<47E14C11.2090205@gov.yk.ca> <47E1E5FD.7030506@pobox.com>
Message-ID: <47E2E0F9.9020108@gov.yk.ca>

> 1) It does not appear to be a bug.  It is the natural behavior of the
> driver when rewriting in place.

It may be the program is doing exactly what it has been instructed to 
do, but it is contrary what users reasonably expect: that asking for 
compressed output will result in a smaller file. However since it does 
not appear to be possible to change the behaviour at present I've added 
a note to http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp about it.

> Grr.  I said I wasn't going to respond anymore!

I guess there is just no way to keep a good man down :)


matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

From vishal at geologicsystems.com  Fri Mar 21 16:31:07 2008
From: vishal at geologicsystems.com (Vishal Ashok Singh)
Date: Fri Mar 21 16:31:03 2008
Subject: [gdal-dev] read arc/info binary grid file
Message-ID: <47E41B0B.7050507@geologicsystems.com>

Hi all,
       How do i read a arc/info binary grid file?

Thank you.
Vishal

From nissim.chudnoff.ctr at metnet.navy.mil  Fri Mar 21 16:27:01 2008
From: nissim.chudnoff.ctr at metnet.navy.mil (Nissim Chudnoff)
Date: Fri Mar 21 16:33:59 2008
Subject: [gdal-dev] 16 bit / px / band TIFFs unreadable by ImageMagick,
	others
Message-ID: <000801c88b91$eec3fe80$2c69640a@ade.metnet.navy.mil>

Hello all,

I've been having odd issues using GeoTIFFs made with GDAL that have 16
bits per band RGB data. These images can be read by some software (GDAL,
OpenEV) but not others (ImageMagick, GeoServer, IrfanView), so I can't
tell if there's some problem with the file such that only GDAL works right
(IIRC, OpenEV uses GDAL) or just that everyone else has crappy support of
such files. Here's the commandline I used to generate the GeoTIFF:

gdal_translate -b 3 -b 2 -b 1 -co PHOTOMETRIC=RGB -co INTERLEAVE=pixel -co
TILED=YES -co COMPRESS=LZW input.ntf area_rgb16.tiff

(input is a NITF with bands arranged as BGR, Uint16)

If I add "-scale -ot Byte" to above command, or use it on the output
GeoTIFF to get a 8-bit TIFF, everything works fine (opens in OpenEV, IV,
GeoServer, ImageMagick). Same results with COMPRESS=LZW and none (I had to
use compress to get the file small enough to upload to the image share
place ;)

Here's the output of 'identify -verbose' (ImageMagick v6):
--- 'identify' output ---
area_rgb16.tiff TIFF 412x359 DirectClass 634kb
Image: area_rgb16.tiff
  Format: TIFF (Tagged Image File Format)
  Geometry: 412x359
  Class: DirectClass
  Type: Palette
  Endianess: MSB
  Colorspace: RGB
  Channel depth:
    Red: 8-bits
    Green: 8-bits
    Blue: 8-bits
  Channel statistics:
    Red:
      Min: 0 (0)
      Max: 3 (0.0117647)
      Mean: 1.65772 (0.00650086)
      Standard deviation: 1.08818 (0.00426738)
    Green:
      Min: 1 (0.00392157)
      Max: 4 (0.0156863)
      Mean: 2.40376 (0.0094265)
      Standard deviation: 1.04632 (0.00410323)
    Blue:
      Min: 1 (0.00392157)
      Max: 2 (0.00784314)
      Mean: 1.54358 (0.00605326)
      Standard deviation: 0.498097 (0.00195332)
  Colors: 10
  Histogram:
     13715: (  257,  257,  257) #010101010101
     30660: (    0,  257,  257) #000001010101
     15844: (  257,  514,  257) #010102020101
         9: (  257,  771,  257) #010103030101
         1: (  257,  771,  514) #010103030202
      2381: (  514,  514,  257) #020202020101
      4899: (  514,  771,  257) #020203030101
     40136: (  514,  771,  514) #020203030202
     21477: (  771,  771,  514) #030303030202
     18786: (  771, 1028,  514) #030304040202
  Rendering-intent: Undefined
  Tile geometry: 256x256+0+0
  Resolution: 72x72
  Units: PixelsPerInch
  Filesize: 634kb
  Interlace: None
--- 'identify' output ---

Oddly enough, v5 of ImageMagick thinks the image has a palette in the
image data:
--- 'identify' output ---
TIFF Directory at offset 0x8
  Image Width: 412 Image Length: 359
  Tile Width: 256 Tile Length: 256
  Bits/Sample: 16
  Sample Format: unsigned integer
  Compression Scheme: LZW
  Photometric Interpretation: RGB color
  Samples/Pixel: 3
  Planar Configuration: single image plane
  Predictor: none 1 (0x1)
Image: area_rgb16.tiff
  Format: TIFF (Tagged Image File Format)
  Geometry: 412x359
  Class: DirectClass
  Type: palette
  Depth: 8 bits-per-pixel component
  Colors: 11

     67936: (    0,    0,    0)    black
      6157: (    0,  257,  257)    #000001010101
      7558: (  257,  257,  257)    #010101010101
      6953: (  257,  514,  257)    #010102020101
         9: (  257,  771,  257)    #010103030101
         1: (  257,  771,  514)    #010103030202
      1010: (  514,  514,  257)    #020202020101
      1535: (  514,  771,  257)    #020203030101
     25944: (  514,  771,  514)    #020203030202
     16837: (  771,  771,  514)    #030303030202
     13968: (  771, 1028,  514)    #030304040202
  Filesize: 633.9k
  Interlace: None
  Background Color: grey100
  Border Color: #DFDFDFDFDFDF
  Matte Color: grey74
  Dispose: Undefined
  Iterations: 0
  Compression: LZW
--- 'identify' output ---

I've tried using -co PROFILE=BASELINE but this seems to in fact make
things worse (ImageMagick can't find any TIFF data).

Has anyone had success using 16 bit RGB GeoTIFFs with GDAL and other
software? Apologies if this issue has been discussed before but I didn't
see anything that looked related on the ML. I've posted the image in
question online at:

http://www.picosphere.com/330.tiff

If anyone has any ideas, or suggestions at what I should look at in the
TIFF itself to figure this out, I'd greatly appreciate it.

Thanks,
-Nissim
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4075 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080321/887ea019/smime.bin
From warmerdam at pobox.com  Fri Mar 21 17:02:58 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 21 17:03:19 2008
Subject: [gdal-dev] 16 bit / px / band TIFFs unreadable by ImageMagick,
	others
In-Reply-To: <000801c88b91$eec3fe80$2c69640a@ade.metnet.navy.mil>
References: <000801c88b91$eec3fe80$2c69640a@ade.metnet.navy.mil>
Message-ID: <47E42282.9060501@pobox.com>

Nissim Chudnoff wrote:
> Hello all,
> 
> I've been having odd issues using GeoTIFFs made with GDAL that have 16
> bits per band RGB data. These images can be read by some software (GDAL,
> OpenEV) but not others (ImageMagick, GeoServer, IrfanView), so I can't
> tell if there's some problem with the file such that only GDAL works right
> (IIRC, OpenEV uses GDAL) or just that everyone else has crappy support of
> such files. Here's the commandline I used to generate the GeoTIFF:

Nissim,

I'm not clear in what way ImageMagick, GeoServer and IrfanView fail
to read the file in question.  I looked at it and it does not seem
particular odd.

Things that will reduce the number of programs supporting it:

  1) It's tiled.  Some programs still don't support tiled tiff files.

  2) It's 16bit.  Lots of programs don't support 16bit tiff files.

  3) It uses only a fraction of the 16bit dynamic range.  Lots of programs
     that *can* read 16bit assume the image is full dynamic range (values
     from 0 to 65535 so your image in the 0 to 1000 range (roughly) will end
     up getting shown as black and slightly off black.

Images not intended for remote sensing images are unlikely to display the
image in question nicely but I don't see anything really wrong with it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From craig.miller at spatialminds.com  Fri Mar 21 17:07:09 2008
From: craig.miller at spatialminds.com (Craig Miller)
Date: Fri Mar 21 17:08:12 2008
Subject: [gdal-dev] read arc/info binary grid file
In-Reply-To: <47E41B0B.7050507@geologicsystems.com>
References: <47E41B0B.7050507@geologicsystems.com>
Message-ID: <009e01c88b97$86d1fb50$9475f1f0$@miller@spatialminds.com>

The instructions on how to use GDAL to read many formats including the
ArcInfo binary grid file are on the GDAL website.  You will likely find the
tutorials to be of particular interest.

Let us know if you have any questions.

Craig


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Vishal Ashok Singh
Sent: Friday, March 21, 2008 1:31 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] read arc/info binary grid file

Hi all,
       How do i read a arc/info binary grid file?

Thank you.
Vishal

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

No virus found in this incoming message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1333 - Release Date: 3/18/2008
8:10 AM
 

No virus found in this outgoing message.
Checked by AVG. 
Version: 7.5.519 / Virus Database: 269.21.7/1333 - Release Date: 3/18/2008
8:10 AM
 

From nissim.chudnoff.ctr at metnet.navy.mil  Fri Mar 21 17:22:10 2008
From: nissim.chudnoff.ctr at metnet.navy.mil (Nissim Chudnoff)
Date: Fri Mar 21 17:22:20 2008
Subject: [gdal-dev] 16 bit / px / band TIFFs unreadable by ImageMagick,
	others
In-Reply-To: <47E42282.9060501@pobox.com>
Message-ID: <001101c88b99$a2d36800$2c69640a@ade.metnet.navy.mil>

Frank,

> 1) It's tiled.  Some programs still don't support tiled tiff files.

These are supported by IM, GS and IV, so I don't think it's a problem,
same with INTERLEAVE=band or pixel.

> 2) It's 16bit.  Lots of programs don't support 16bit tiff files.
I can't vouch for GeoServer/GeoTools, but IrfanView and ImageMagick have
no problems with the 16 bit/band RGB or grayscale images in the libtiff
test suite, so I'm not sure this is what's wrong.

> 3) It uses only a fraction of the 16bit dynamic range.  Lots of programs
>    that *can* read 16bit assume the image is full dynamic range (values
>    from 0 to 65535 so your image in the 0 to 1000 range (roughly) will
end
>    up getting shown as black and slightly off black.

That's just it -- that image isn't just black/off black. If you use
"gdal_translate -scale -ot Byte" to produce an 8-bit version of it, you'll
see land features, river and ocean (in many pretty colors, not just
grayscale), and the file opens Ok in all the various software.

Obviously I can just go ahead and use the 8-bit images for our
application, but I was curious if anyone knew more about this, if it was a
bug/feature, gotten it to work, etc.

-Nissim

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent: Friday, March 21, 2008 2:03 PM
To: nissim.chudnoff.ctr@metnet.navy.mil
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] 16 bit / px / band TIFFs unreadable by
ImageMagick, others


Nissim Chudnoff wrote:
> Hello all,
>
> I've been having odd issues using GeoTIFFs made with GDAL that have 16
> bits per band RGB data. These images can be read by some software
> (GDAL,
> OpenEV) but not others (ImageMagick, GeoServer, IrfanView), so I can't
> tell if there's some problem with the file such that only GDAL works
right
> (IIRC, OpenEV uses GDAL) or just that everyone else has crappy support
of
> such files. Here's the commandline I used to generate the GeoTIFF:

Nissim,

I'm not clear in what way ImageMagick, GeoServer and IrfanView fail to
read the file in question.  I looked at it and it does not seem particular
odd.

Things that will reduce the number of programs supporting it:

>  1) It's tiled.  Some programs still don't support tiled tiff files.

  2) It's 16bit.  Lots of programs don't support 16bit tiff files.

  3) It uses only a fraction of the 16bit dynamic range.  Lots of programs
     that *can* read 16bit assume the image is full dynamic range (values
     from 0 to 65535 so your image in the 0 to 1000 range (roughly) will
end
     up getting shown as black and slightly off black.

Images not intended for remote sensing images are unlikely to display the
image in question nicely but I don't see anything really wrong with it.

Best regards,
--
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4075 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080321/16e11b92/smime-0001.bin
From warmerdam at pobox.com  Fri Mar 21 22:49:51 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 21 22:50:06 2008
Subject: [gdal-dev] 16 bit / px / band TIFFs unreadable by ImageMagick,
	others
In-Reply-To: <001101c88b99$a2d36800$2c69640a@ade.metnet.navy.mil>
References: <001101c88b99$a2d36800$2c69640a@ade.metnet.navy.mil>
Message-ID: <47E473CF.4040607@pobox.com>

Nissim Chudnoff wrote:
> Frank,
> 
>> 1) It's tiled.  Some programs still don't support tiled tiff files.
> 
> These are supported by IM, GS and IV, so I don't think it's a problem,
> same with INTERLEAVE=band or pixel.
> 
>> 2) It's 16bit.  Lots of programs don't support 16bit tiff files.
> I can't vouch for GeoServer/GeoTools, but IrfanView and ImageMagick have
> no problems with the 16 bit/band RGB or grayscale images in the libtiff
> test suite, so I'm not sure this is what's wrong.
> 
>> 3) It uses only a fraction of the 16bit dynamic range.  Lots of programs
>>    that *can* read 16bit assume the image is full dynamic range (values
>>    from 0 to 65535 so your image in the 0 to 1000 range (roughly) will
> end
>>    up getting shown as black and slightly off black.
> 
> That's just it -- that image isn't just black/off black. If you use
> "gdal_translate -scale -ot Byte" to produce an 8-bit version of it, you'll
> see land features, river and ocean (in many pretty colors, not just
> grayscale), and the file opens Ok in all the various software.
> 
> Obviously I can just go ahead and use the 8-bit images for our
> application, but I was curious if anyone knew more about this, if it was a
> bug/feature, gotten it to work, etc.

Nissim,

It is not a bug.  It is just a disconnect in purposes and approaches
in two different imaging fields.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From sfkeller at gmail.com  Sat Mar 22 03:32:51 2008
From: sfkeller at gmail.com (Stefan Keller)
Date: Sat Mar 22 03:32:57 2008
Subject: [gdal-dev] DXF reader/writer plans? (Was: GDAL/OGR 1.5.1 Released)
Message-ID: <25bc040b0803220032n4c55787drf0f0c81fffbf49b0@mail.gmail.com>

> GDAL/OGR 1.5.1 Released
Thanks Frank!

Does anyone know about plans to add or replace the existing DXF
reader/writer?

>From our online converter webapp. I register increasing demand of a DXF
reader/writer which is fully part of the GDAL/OGR distribution without
restrictions or extra compiling as it is now IMHO.

-- Stefan

2008/3/20, Frank Warmerdam <warmerdam@pobox.com>:
>
> Folks,
>
> The GDAL/OGR project is pleased to announce the release of GDAL/OGR 1.5.1.
> This is a bug fix release improving on the December 2007 1.5.0 release.
> There are no substantial new features.
>
> NEWS:   http://trac.osgeo.org/gdal/wiki/Release/1.5.1-News
> Source: http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
>         http://download.osgeo.org/gdal/gdal151.zip
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080322/8fa1a2fe/attachment.html
From nikos.alexandris at felis.uni-freiburg.de  Sat Mar 22 07:23:06 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Sat Mar 22 07:23:09 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the "worst
	interpolation"?
Message-ID: <1206184986.10420.9.camel@vertical>

Dear gdal-developers,

in man gdalwarp:

" -rn: Use nearest neighbour resampling (default, fastest algorithm,
worst interpolation quality). "

If I understand correct then the nearest neighbour method is the best to
choose in order to preserve initial pixel values for thematic data.

Question(s): Why is it identified as "worst"?

Wouldn't the nn be a better choice for satellite imagery (in my case
MODIS surf. reflectance values) that is intented to be segmented/
classified or just upscaled (e.g. from 500m pix.size bands to 250m
pix.size) later?


Thank you in advance,

Nikos

From warmerdam at pobox.com  Sat Mar 22 12:09:20 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Mar 22 12:09:39 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst interpolation"?
In-Reply-To: <1206184986.10420.9.camel@vertical>
References: <1206184986.10420.9.camel@vertical>
Message-ID: <47E52F30.1080409@pobox.com>

Nikos Alexandris wrote:
> Dear gdal-developers,
> 
> in man gdalwarp:
> 
> " -rn: Use nearest neighbour resampling (default, fastest algorithm,
> worst interpolation quality). "
> 
> If I understand correct then the nearest neighbour method is the best to
> choose in order to preserve initial pixel values for thematic data.
> 
> Question(s): Why is it identified as "worst"?
> 
> Wouldn't the nn be a better choice for satellite imagery (in my case
> MODIS surf. reflectance values) that is intented to be segmented/
> classified or just upscaled (e.g. from 500m pix.size bands to 250m
> pix.size) later?

Nikos,

The comment really is meant to imply "worst apparently visual quality
in some contexts".  Nearest neighbour is absolutely the right interpolation
to use in many situations specifically because it does not mess with the
original digital values.

I'm not sure if this applies to your surface reflectance example.  It seems
that this sort of physical value might be appropriate for use of bilinear
interpolation.  Obviously, depending on your needs you should carefully
consider whether a resampling step is going to cause some unacceptable
damage to your data.

Despite the absolutist sound of the "worst interpolation quality" the
value of different approaches is often subjective and very situational.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From nikos.alexandris at felis.uni-freiburg.de  Sat Mar 22 12:21:53 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Sat Mar 22 12:21:57 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst interpolation"?
In-Reply-To: <47E52F30.1080409@pobox.com>
References: <1206184986.10420.9.camel@vertical> <47E52F30.1080409@pobox.com>
Message-ID: <1206202913.14052.25.camel@vertical>


On Sat, 2008-03-22 at 12:09 -0400, Frank Warmerdam wrote:
> Nikos Alexandris wrote:
> > Dear gdal-developers,
> > 
> > in man gdalwarp:
> > 
> > " -rn: Use nearest neighbour resampling (default, fastest algorithm,
> > worst interpolation quality). "
> > 
> > If I understand correct then the nearest neighbour method is the best to
> > choose in order to preserve initial pixel values for thematic data.
> > 
> > Question(s): Why is it identified as "worst"?
> > 
> > Wouldn't the nn be a better choice for satellite imagery (in my case
> > MODIS surf. reflectance values) that is intented to be segmented/
> > classified or just upscaled (e.g. from 500m pix.size bands to 250m
> > pix.size) later?
> 
> Nikos,
> 
> The comment really is meant to imply "worst apparently visual quality
> in some contexts".  Nearest neighbour is absolutely the right interpolation
> to use in many situations specifically because it does not mess with the
> original digital values.
> 
> I'm not sure if this applies to your surface reflectance example.

I use MOD09 surface reflectance. The product is already corrected for
atmospheric effects. So, if I am not wrong, the "course" of this data is
something like: DN's -> Radiance -> Atmospheric correction (6S) ->
Surface reflectance.

Resampling means in any case altering at some extent the pixel values.
And my work involves a change detection and a classification. And all
this at 250 and 500m (per pixel @ nadir!). From my small experiences I
judge the nn to be best for this.

>   It seems
> that this sort of physical value might be appropriate for use of bilinear
> interpolation.

I will try to test-out. Not sure how to validate/ compare but I will
hunt it.

> Obviously, depending on your needs you should carefully
> consider whether a resampling step is going to cause some unacceptable
> damage to your data.
> 
> Despite the absolutist sound of the "worst interpolation quality" the
> value of different approaches is often subjective and very situational.

Is it bad idea to propose something like "fastest interpolation method,
worst for smoothing" or something like that? Sorry for my wording, I am
new in the field.

Thank you for your time and kind regards,

Nikos

From warmerdam at pobox.com  Sat Mar 22 15:09:06 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Mar 22 15:09:32 2008
Subject: [gdal-dev] GDAL/OGR 1.5.1 Released
In-Reply-To: <2DB21840-49FA-40C0-B6E5-E6C53F3EACB7@kyngchaos.com>
References: <47E2DE4E.2040607@pobox.com>
	<2DB21840-49FA-40C0-B6E5-E6C53F3EACB7@kyngchaos.com>
Message-ID: <47E55952.7030704@pobox.com>

William Kyngesburye wrote:
> Will there be a doc tarball/zip also?

William,

It was not my intention to do so, no.  I don't believe there have been
significant changes.   Likewise with the autotests.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From woklist at kyngchaos.com  Sat Mar 22 14:45:41 2008
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Sat Mar 22 15:11:15 2008
Subject: [gdal-dev] GDAL/OGR 1.5.1 Released
In-Reply-To: <47E2DE4E.2040607@pobox.com>
References: <47E2DE4E.2040607@pobox.com>
Message-ID: <2DB21840-49FA-40C0-B6E5-E6C53F3EACB7@kyngchaos.com>

Will there be a doc tarball/zip also?

On Mar 20, 2008, at 4:59 PM, Frank Warmerdam wrote:

> Folks,
>
> The GDAL/OGR project is pleased to announce the release of GDAL/OGR  
> 1.5.1.
> This is a bug fix release improving on the December 2007 1.5.0  
> release.
> There are no substantial new features.
>
> NEWS:   http://trac.osgeo.org/gdal/wiki/Release/1.5.1-News
> Source: http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
>        http://download.osgeo.org/gdal/gdal151.zip
>
> Best regards,
> -- 
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin


From sfkeller at gmail.com  Sun Mar 23 15:11:04 2008
From: sfkeller at gmail.com (Stefan Keller)
Date: Sun Mar 23 15:11:09 2008
Subject: [gdal-dev] DXF reader/writer plans? (Was: GDAL/OGR 1.5.1 Released)
Message-ID: <25bc040b0803231211y10c9d97ft80fcfd588a4c34be@mail.gmail.com>

> GDAL/OGR 1.5.1 Released
Thanks Frank!

Does anyone know about actual plans to add or replace the existing DXF
reader/writer?

I've already asked this some time ago. Now, from our online (geo-)converter
I got an increasing demand of a DXF reader/writer which should be part of
the GDAL/OGR standard distribution without restrictions or extra compiling
as it is now IMHO.

-- Stefan

2008/3/20, Frank Warmerdam <warmerdam@pobox.com>:
>
> Folks,
>
> The GDAL/OGR project is pleased to announce the release of GDAL/OGR 1.5.1.
> This is a bug fix release improving on the December 2007 1.5.0 release.
> There are no substantial new features.
>
> NEWS:   http://trac.osgeo.org/gdal/wiki/Release/1.5.1-News
> Source: http://download.osgeo.org/gdal/gdal-1.5.1.tar.gz
>         http://download.osgeo.org/gdal/gdal151.zip
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080323/4f240424/attachment.html
From warmerdam at pobox.com  Mon Mar 24 00:40:30 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 24 00:40:52 2008
Subject: [gdal-dev] Re: DXF reader/writer plans? (Was: GDAL/OGR 1.5.1
	Released)
In-Reply-To: <25bc040b0803231211y10c9d97ft80fcfd588a4c34be@mail.gmail.com>
References: <25bc040b0803231211y10c9d97ft80fcfd588a4c34be@mail.gmail.com>
Message-ID: <47E730BE.1000201@pobox.com>

Stefan Keller wrote:
>> GDAL/OGR 1.5.1 Released
> Thanks Frank!
> 
> Does anyone know about actual plans to add or replace the existing DXF
> reader/writer?
> 
> I've already asked this some time ago. Now, from our online (geo-)converter
> I got an increasing demand of a DXF reader/writer which should be part of
> the GDAL/OGR standard distribution without restrictions or extra compiling
> as it is now IMHO.

Stefan,

I am not aware of any plans to implement a DXF driver for GDAL/OGR.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ari.jolma at tkk.fi  Mon Mar 24 12:03:42 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Mon Mar 24 12:04:26 2008
Subject: [gdal-dev] Field value methods in wrappers
Message-ID: <47E7D0DE.5040208@tkk.fi>

I added support for datetimes and lists into the wrappers. These are 
tested in the Perl tests. The wrappers need (but not require, i.e., swig 
does not fail) input and output typemaps for lists. I implemented them 
into the Perl wrappers so that they are recognized by their patterns, e.g.,

"int *nLen, const int **pList" for list output for integer lists

"int nList, int *pList" for list input for integer lists

I also noticed a potential problem. If a field get/set method is called 
with index that is out of bounds (0..GetFieldCount()-1) a segfault may 
follow. I added this test and also the mapping from field name to field 
index into the Perl code of the Perl wrappers. I removed the overlayed 
versions of the methods from Perl wrappers.

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ari.jolma at tkk.fi  Mon Mar 24 12:22:11 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Mon Mar 24 12:20:47 2008
Subject: [gdal-dev] FlushCache and SyncToDisk
Message-ID: <47E7D533.2080404@tkk.fi>

Frank,

I may have wondered and asked this before but anyway. Why don't the 
dataset and layer destructors check, if they were opened as update and 
call FlushCache or SyncToDisk in the destructor?

I thought about adding this into the wrappers but eAccess is a protected 
member of GDALDataset for example.

Regards,

Ari

-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From singlespeed10 at gmail.com  Mon Mar 24 12:57:48 2008
From: singlespeed10 at gmail.com (Matt Fearon)
Date: Mon Mar 24 12:57:53 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <47E2CA3C.6020507@noaa.gov>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
	<47E29659.2090709@noaa.gov>
	<32e03bcf0803201214n45fcf826q84403b02b5c4d8fb@mail.gmail.com>
	<47E2CA3C.6020507@noaa.gov>
Message-ID: <32e03bcf0803240957k25b3d3bbld9e408be3f144690@mail.gmail.com>

Hi Chris and others,

Thank you all for your help, especially Chris for the detailed
explanations. I finally got my script working with WriteArray.

Just a follow up question in regard to metadata and ENVI file format
in python/GDAL. If the dat file I read in has an ENVI .hdr file
associated with it - how could I unpack/access the metadata from the
.hdr file so that I could use it when writing my GeoTiff? I know I
could easily read the .hdr file, but it seems like GDAL already knows
the header information when I read the dat file? For example, I read
my dat file the following way;

file = "IMG-HH-ALPSRP021230580-H1.5GUA"
gd=gdal.Open(file)
array=gd.ReadAsArray()

Next, I would like to access the .hdr information associated with this
dat file? There is a .hdr file named
"IMG-HH-ALPSRP021230580-H1.5GUA.HDR".

thanks,
Matt

On Thu, Mar 20, 2008 at 4:34 PM, Christopher Barker
<Chris.Barker@noaa.gov> wrote:
>
>  Matt Fearon wrote:
>  > Chris, thank you for the great detail of your response.
>
>  You're welcome.
>
>
>  > However,
>  > I still receive trouble with WriteArray and few additional things now.
>  > Below are my errors
>
>
> >     datatype = NumericTypeCodeToGDALTypeCode( array.typecode() )
>  > AttributeError: 'numpy.ndarray' object has no attribute 'typecode'
>
>  Sorry, my fault -- I think what's happening is that you're passing in a
>  numpy array, and it's expecting a Numeric array -- they are very
>  similar, but not identical. It seems you are using GDAL 1.4, in which
>  case it's probably better to just stick with Numeric all around.
>
>  Note to Frank -- we could wrap input arrays with Numeric.asarray()
>  calls, so that the conversion would happen automatically.
>
>
>  > #! /usr/bin/env python
>  >
>  > import pickle, array, sys, os, shutil
>  > import gdal, gdalnumeric
>  > from gdalconst import *
>  > import numpy
>  > from numpy import *
>
>  I like to do:
>
>  import numpy as N
>  or import Numeric as N
>
>  In this case, you're probably better off with just Numeric. And I really
>  recommend against "import *". In fact, in this case, if you do that,
>  you're stomping on the numpy array constructor with your "array" variable.
>
>
>
>  > gd=gdal.Open(file)
>  > array=gd.ReadAsArray()
>
>  I think this is now a Numeric array, check like this:
>
>  type(array) -- if it says:
>
>  <type 'array'>
>  it's Numeric, if it says:
>
>  <type 'numpy.ndarray'>
>  it's numpy.
>
>  I think you're working with Numeric here.
>
>  By the way -- what a mess! Oh well, everyone is moving to numpy now, so
>  in a bit this will no longer be an issue. If you can upgrade to GDAL 1.5
>  now, I would. But for now, let's go Numeric:
>
>
>  > nxarray=numpy.zeros(nx, dtype=float32)
>
>  You don't need that anymore, it's getting created inside the loop anyway.
>
>
>  > for j in range(ny):
>  >     nxarray=array[j,:]
>
>  I now I gave you this code, but there is an issue here, what type is
>  your input data? IIUC, it's not Float32, so you need to do a conversion
>  here:
>      nxarray = array[j,:].astype(N.Float32)
>
>  here's the trick:
>      nxarray.savespace(1)
>  This tells the Numeric array that you don't want it to upcast to a
>  Float64 when you multiply it by a standard Python float (which is 64
>  bit). One advantage to numpy is that it does this by default.
>
>      nxarray = N.where(nxarray > 0, 10.0 * N.log10(pow(nxarray,2)) +
>
>  changed the "numpy" to N -- then if you did "import Numeric as N",
>  you'll get a Numeric array here. You can just do "import Numeric", but
>  then you have to type that long word everywhere...
>
>
>  > cal_factor, nxarray)
>  >     nxarray.shape = (1,-1)
>  >     print nxarray
>  >     dst_ds.GetRasterBand(1).WriteArray(nxarray,0,j)
>
>  that should do it.
>
>
>
>
>  -Chris
>
>
>  --
>  Christopher Barker, Ph.D.
>  Oceanographer
>
>  Emergency Response Division
>  NOAA/NOS/OR&R            (206) 526-6959   voice
>  7600 Sand Point Way NE   (206) 526-6329   fax
>  Seattle, WA  98115       (206) 526-6317   main reception
>
>  Chris.Barker@noaa.gov
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Mon Mar 24 13:11:00 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 24 13:11:30 2008
Subject: [gdal-dev] FlushCache and SyncToDisk
In-Reply-To: <47E7D533.2080404@tkk.fi>
References: <47E7D533.2080404@tkk.fi>
Message-ID: <47E7E0A4.9040304@pobox.com>

Ari Jolma wrote:
> Frank,
> 
> I may have wondered and asked this before but anyway. Why don't the 
> dataset and layer destructors check, if they were opened as update and 
> call FlushCache or SyncToDisk in the destructor?
> 
> I thought about adding this into the wrappers but eAccess is a protected 
> member of GDALDataset for example.

Ari,

All driver implementations are supposed to flush to disk when the
datasource/dataset is destroyed.  If they don't, it is a bug in the
driver implementation and should (IMHO) be addressed there.

A problem I think we have had sometimes in the swig bindings is
that confusion about reference counting has resulted in the
datasource/dataset objects not being properly destroyed.  But I
think we also need to solve the root of this problem (if it still
exists), not work around the symptoms.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Mon Mar 24 13:18:36 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 24 13:19:05 2008
Subject: [gdal-dev] Creating Geotiff with WriteArray in Python
In-Reply-To: <32e03bcf0803240957k25b3d3bbld9e408be3f144690@mail.gmail.com>
References: <32e03bcf0803200755r557c3c0fgba8163b718d71314@mail.gmail.com>
	<47E29659.2090709@noaa.gov>
	<32e03bcf0803201214n45fcf826q84403b02b5c4d8fb@mail.gmail.com>
	<47E2CA3C.6020507@noaa.gov>
	<32e03bcf0803240957k25b3d3bbld9e408be3f144690@mail.gmail.com>
Message-ID: <47E7E26C.5060205@pobox.com>

Matt Fearon wrote:
> Hi Chris and others,
> 
> Thank you all for your help, especially Chris for the detailed
> explanations. I finally got my script working with WriteArray.
> 
> Just a follow up question in regard to metadata and ENVI file format
> in python/GDAL. If the dat file I read in has an ENVI .hdr file
> associated with it - how could I unpack/access the metadata from the
> .hdr file so that I could use it when writing my GeoTiff? I know I
> could easily read the .hdr file, but it seems like GDAL already knows
> the header information when I read the dat file? For example, I read
> my dat file the following way;
> 
> file = "IMG-HH-ALPSRP021230580-H1.5GUA"
> gd=gdal.Open(file)
> array=gd.ReadAsArray()
> 
> Next, I would like to access the .hdr information associated with this
> dat file? There is a .hdr file named
> "IMG-HH-ALPSRP021230580-H1.5GUA.HDR".

Matt,

Some stuff can be accessed through the gdal.Dataset object (gd in
your case).  Things like georeferencing and coordinate system.  You
should really review the GDAL API tutorial and reference for more
information on what is available.

Some information in the .HDR will *not* be exposed in this way.  If
you need that, you may need to directly parse it.

You may find it helpful to pass your source dataset into SaveArray()
(as the "prototype" argument) if you want to write out a derived
dataset with the same georeferencing as the source dataset.

eg.

gdal_array.SaveArray( array, 'out.tif', prototype = gd )

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From lran at unc.edu  Mon Mar 24 14:24:32 2008
From: lran at unc.edu (Limei Ran)
Date: Mon Mar 24 14:45:07 2008
Subject: [gdal-dev] GDALDriver::CopyFiles 
Message-ID: <47E7F1E0.1020708@unc.edu>

Hi:

I am using GDALDriver::CopyFiles in our cpp program to copy an image 
file in HFA format.  But, the old file has three file list:
File list 0 = 
/nas/uncch/depts/cep/emc/lran/nlcd2001/nlcd/landcover1_3k_022007.img
File list 1 = 
/nas/uncch/depts/cep/emc/lran/nlcd2001/nlcd/landcover1_3k_022007.img.aux.xml
File list 2 = 
/nas/uncch/depts/cep/emc/lran/nlcd2001/nlcd/landcover1_3k_022007.rrd

CopyFiles failed with error:
ERROR 1: Unable to rename fileset due irregular basenames.

I found that it was failed in CPLGetBasename function due to 
landcover1_3k_022007.img.aux.xml file name. 
Does GDAL use landcover1_3k_022007.img.aux.xml file?  Or, Can I delete it?

Thanks,

Limei
From warmerdam at pobox.com  Mon Mar 24 14:56:32 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon Mar 24 14:57:02 2008
Subject: [gdal-dev] GDALDriver::CopyFiles
In-Reply-To: <47E7F1E0.1020708@unc.edu>
References: <47E7F1E0.1020708@unc.edu>
Message-ID: <47E7F960.4060607@pobox.com>

Limei Ran wrote:
> Hi:
> 
> I am using GDALDriver::CopyFiles in our cpp program to copy an image 
> file in HFA format.  But, the old file has three file list:
> File list 0 = 
> /nas/uncch/depts/cep/emc/lran/nlcd2001/nlcd/landcover1_3k_022007.img
> File list 1 = 
> /nas/uncch/depts/cep/emc/lran/nlcd2001/nlcd/landcover1_3k_022007.img.aux.xml 
> 
> File list 2 = 
> /nas/uncch/depts/cep/emc/lran/nlcd2001/nlcd/landcover1_3k_022007.rrd
> 
> CopyFiles failed with error:
> ERROR 1: Unable to rename fileset due irregular basenames.
> 
> I found that it was failed in CPLGetBasename function due to 
> landcover1_3k_022007.img.aux.xml file name. Does GDAL use 
> landcover1_3k_022007.img.aux.xml file?  Or, Can I delete it?

Limei,

GDAL does consult the .aux.xml file (which is actually created by
GDAL!) and it ought to be able to copy it.  If not, please file a
ticket on the issue and I'll try to get it fixed for 1.5.2.  In the
meantime you can likely live without the .aux.xml file as a workaround.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From ari.jolma at tkk.fi  Mon Mar 24 16:30:22 2008
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Mon Mar 24 16:31:31 2008
Subject: [gdal-dev] FlushCache and SyncToDisk
In-Reply-To: <47E7E0A4.9040304@pobox.com>
References: <47E7D533.2080404@tkk.fi> <47E7E0A4.9040304@pobox.com>
Message-ID: <47E80F5E.6020505@tkk.fi>

Frank Warmerdam kirjoitti:
> Ari Jolma wrote:
>> Frank,
>>
>> I may have wondered and asked this before but anyway. Why don't the 
>> dataset and layer destructors check, if they were opened as update 
>> and call FlushCache or SyncToDisk in the destructor?
>>
>> I thought about adding this into the wrappers but eAccess is a 
>> protected member of GDALDataset for example.
>
> Ari,
>
> All driver implementations are supposed to flush to disk when the
> datasource/dataset is destroyed.  If they don't, it is a bug in the
> driver implementation and should (IMHO) be addressed there.
>
> A problem I think we have had sometimes in the swig bindings is
> that confusion about reference counting has resulted in the
> datasource/dataset objects not being properly destroyed.  But I
> think we also need to solve the root of this problem (if it still
> exists), not work around the symptoms.

Yes, whatever the problem was that I thought I saw, is not there any 
more. Sorry.

Ari

>
> Best regards,


-- 
Prof. Ari Jolma
Geoinformatiikka / Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From JARED.RUBIN at saic.com  Mon Mar 24 17:20:52 2008
From: JARED.RUBIN at saic.com (Jared Rubin)
Date: Mon Mar 24 17:36:13 2008
Subject: [gdal-dev] image xyz to latitute longitude using RPC transform
Message-ID: <200803241420.52820.rubinj@nemesis.tucson.saic.com>

Support,
  How do I go about using gdal c++ directly to convert a 
latitude/longitude/elevation to image coordinates. My nitf image has RPC.
thanks
Jared
From whughes at nb.sympatico.ca  Mon Mar 24 22:56:18 2008
From: whughes at nb.sympatico.ca (William Hughes)
Date: Mon Mar 24 22:49:10 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst	interpolation"?
In-Reply-To: <1206184986.10420.9.camel@vertical>
References: <1206184986.10420.9.camel@vertical>
Message-ID: <47E869D2.6030702@nb.sympatico.ca>

Nikos Alexandris wrote:

>Dear gdal-developers,
>
>in man gdalwarp:
>
>" -rn: Use nearest neighbour resampling (default, fastest algorithm,
>worst interpolation quality). "
>
>If I understand correct then the nearest neighbour method is the best to
>choose in order to preserve initial pixel values for thematic data.
>
>Question(s): Why is it identified as "worst"?
>  
>


Well, the comment was "worst interpolation quality"
which is pretty much correct.  On the other hand if you don't
want interpolation (a very common situation), this is the way to go.
Nearest Neighbour will usually not give surprising results,
so it is a good default.

>Wouldn't the nn be a better choice for satellite imagery (in my case
>MODIS surf. reflectance values) that is intented to be segmented/
>classified or just upscaled (e.g. from 500m pix.size bands to 250m
>pix.size) later?
>  
>

Maybe, mabe not.  The pixel values can be considered as noisy
samples of a continuous field.  As such, interpolated values may
be considered to be a better guess as to the actual value at smaller
pixel sizes.  On the other hand, the interpolation may have
unwanted interactions with your classification and/or change
detection methods.

Sometimes it helps to do your calculations with the original
pixel spacing, then resample for output or display.

                            - William Hughes
From nikos.alexandris at felis.uni-freiburg.de  Mon Mar 24 23:02:05 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Mon Mar 24 23:02:02 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst	interpolation"?
In-Reply-To: <47E869D2.6030702@nb.sympatico.ca>
References: <1206184986.10420.9.camel@vertical>
	<47E869D2.6030702@nb.sympatico.ca>
Message-ID: <1206414125.27580.1.camel@vertical>


On Mon, 2008-03-24 at 21:56 -0500, William Hughes wrote:
> Nikos Alexandris wrote:
> 
[...]
> 
> Maybe, mabe not.  The pixel values can be considered as noisy
> samples of a continuous field.  As such, interpolated values may
> be considered to be a better guess as to the actual value at smaller
> pixel sizes.  On the other hand, the interpolation may have
> unwanted interactions with your classification and/or change
> detection methods.
> 
> Sometimes it helps to do your calculations with the original
> pixel spacing, then resample for output or display.
> 
>                             - William Hughes

Thank you,

Nikos

From schut at sarvision.nl  Tue Mar 25 04:58:27 2008
From: schut at sarvision.nl (Vincent Schut)
Date: Tue Mar 25 05:06:39 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst	interpolation"?
In-Reply-To: <47E869D2.6030702@nb.sympatico.ca>
References: <1206184986.10420.9.camel@vertical>
	<47E869D2.6030702@nb.sympatico.ca>
Message-ID: <47E8BEB3.2070001@sarvision.nl>

William Hughes wrote:
> Nikos Alexandris wrote:

  <snip>

> Maybe, mabe not.  The pixel values can be considered as noisy
> samples of a continuous field.  As such, interpolated values may
> be considered to be a better guess as to the actual value at smaller
> pixel sizes.  On the other hand, the interpolation may have
> unwanted interactions with your classification and/or change
> detection methods.
> 
> Sometimes it helps to do your calculations with the original
> pixel spacing, then resample for output or display.

Nikos, I tend to fully aggree with William on this. Here we also work 
with MODIS reflectance data, and we always try to delay any 
interpolation involving step (like reprojection etc) to the very end of 
the processing chain. The longer you keep your pixels in the original 
setting, the less error you possibly introduce from interpolation. We 
usually only interpolate/reproject as a final step, e.g. before we need 
to deliver the data and we have agreed upon a certain projection with 
our counterpart. So we usually do not reproject reflectance data (only 
sometimes for visual interpretation, comparison with other data, 
presentations, etc), but only reproject interpreted data, usually land 
cover/change classifications of some sort. For those data, NN is 
obviously the best because you work with discrete pixel values 
('classes'). Also keep in mind that modis surface reflectance products 
usually are available in 1km resolution too (and I think even lower res, 
but I'm not sure about that), which I would prefer instead of 
downsampling a higher res product to 1km myself. Until proven wrong, I'd 
assume the 1km product from NASA is superior to a home-downsampled 
500m->1km product.

On a side note and slightly off-topic: because we tend to keep our 
spectral reflectance data in the original (sinusoidal) projection, we 
often *do* have to reproject other misc data like elevation (srtm90). 
Would people on this list have some knowledge or maybe hints to 
documents on what downsampling/interpolation method would be best for 
elevation data, for example when downsampling from 90 to 250 or 500 
meters pixel size, keeping in mind that the result will be used to 
calculate slope/aspect from?

Regards,
Vincent Schut.
From jrepetto at free.fr  Tue Mar 25 05:38:19 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue Mar 25 05:45:19 2008
Subject: [gdal-dev] Problem with gdal_translate : Illegal band #
Message-ID: <47E8C80B.4080202@free.fr>

Hello,
I have downloaded a map of Corsica at 
<http://www.ign.fr/telechargement/MPro/produit/SCANS/SCAN1000_Corse_L2E.zip> 
.

Now, I want to convert it to ECW with gdal_translate. As it uses a 
palette, I first need to convert it to RGB.

mv COR_0000.TIF COR_0000.TIF.orig
pct2rgb.py COR_0000.TIF.orig COR_0000.TIF
gdal_translate -of ECW -co "TARGET=88" -co "DATUM=NTF"  -co 
"PROJ=LM2FRANC"  -co "LARGE_OK=YES" COR_0000.TIF COR_0000.ecw

Input file size is 1200, 2200
Warning 6: '88' is an unexpected value for TARGET creation option of 
type float.
0...10...20...30...40...50...60...70...80...90...100 - done.
ERROR 5: GDALDataset::GetRasterBand(2) - Illegal band #

ERROR 5: GDALDataset::GetRasterBand(3) - Illegal band #

The ECW file is created, but it contains garbage.
At this time, if I execute the same command again :

gdal_translate -of ECW -co "TARGET=88" -co "DATUM=NTF"  -co 
"PROJ=LM2FRANC"  -co "LARGE_OK=YES" COR_0000.TIF COR_0000.ecw

Input file size is 1200, 2200
Warning 6: '88' is an unexpected value for TARGET creation option of 
type float.
0...10...20...30...40...50...60...70...80...90...100 - done.

It works and the ECW file is correct. If I delete the ECW file and 
launch the same command, the errors come back.
I am using GDAL 1.5.0.

Any idea ?

Thanks,
Jean-Claude

From Konstantin.Baumann at hpi.uni-potsdam.de  Tue Mar 25 06:46:32 2008
From: Konstantin.Baumann at hpi.uni-potsdam.de (Baumann, Konstantin)
Date: Tue Mar 25 06:49:06 2008
Subject: [gdal-dev] Re: DXF reader/writer plans?
In-Reply-To: <47E730BE.1000201@pobox.com>
References: <25bc040b0803231211y10c9d97ft80fcfd588a4c34be@mail.gmail.com>
	<47E730BE.1000201@pobox.com>
Message-ID: <5AC0F51A926CD442BC08D55DA7DAB1D409874119@3mxma1r.hpi.uni-potsdam.de>

There is a "spike/dxfdwg" directory/branch in the SVN with some minimal
support: https://svn.osgeo.org/gdal/spike/dxfdwg/drv_dxfdwg.html

Kind regards,
	Konstantin

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com]
> Sent: Monday, March 24, 2008 5:41 AM
> To: Stefan Keller
> Cc: gdal-dev
> Subject: [gdal-dev] Re: DXF reader/writer plans? (Was: GDAL/OGR 1.5.1
> Released)
> 
> Stefan Keller wrote:
> >> GDAL/OGR 1.5.1 Released
> > Thanks Frank!
> >
> > Does anyone know about actual plans to add or replace the existing
DXF
> > reader/writer?
> >
> > I've already asked this some time ago. Now, from our online (geo-
> )converter
> > I got an increasing demand of a DXF reader/writer which should be
part
> of
> > the GDAL/OGR standard distribution without restrictions or extra
> compiling
> > as it is now IMHO.
> 
> Stefan,
> 
> I am not aware of any plans to implement a DXF driver for GDAL/OGR.
> 
> Best regards,
> --
>
---------------------------------------+--------------------------------
--
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo,
http://osgeo.org
> 

From Konstantin.Baumann at hpi.uni-potsdam.de  Tue Mar 25 06:39:46 2008
From: Konstantin.Baumann at hpi.uni-potsdam.de (Baumann, Konstantin)
Date: Tue Mar 25 07:07:30 2008
Subject: [gdal-dev] GDAL 1.5.1 release tag or branch missing in SVN?
Message-ID: <5AC0F51A926CD442BC08D55DA7DAB1D409874117@3mxma1r.hpi.uni-potsdam.de>

Hi!

 

I am missing a GDAL 1.5.1 release tag or branch in the SVN repo...

Kind regards, 
    Konstantin

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080325/21a3a2ea/attachment.html
From nikos.alexandris at felis.uni-freiburg.de  Tue Mar 25 08:26:14 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Tue Mar 25 08:26:15 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst	interpolation"?
In-Reply-To: <47E8BEB3.2070001@sarvision.nl>
References: <1206184986.10420.9.camel@vertical>
	<47E869D2.6030702@nb.sympatico.ca>  <47E8BEB3.2070001@sarvision.nl>
Message-ID: <1206447974.17806.18.camel@vertical>


On Tue, 2008-03-25 at 09:58 +0100, Vincent Schut wrote:
> William Hughes wrote:
> > Nikos Alexandris wrote:
> 
>   <snip>
> 
> > Maybe, mabe not.  The pixel values can be considered as noisy
> > samples of a continuous field.  As such, interpolated values may
> > be considered to be a better guess as to the actual value at smaller
> > pixel sizes.  On the other hand, the interpolation may have
> > unwanted interactions with your classification and/or change
> > detection methods.
> > 
> > Sometimes it helps to do your calculations with the original
> > pixel spacing, then resample for output or display.
> 
> Nikos, I tend to fully aggree with William on this. Here we also work 
> with MODIS reflectance data, and we always try to delay any 
> interpolation involving step (like reprojection etc) to the very end of 
> the processing chain. The longer you keep your pixels in the original 
> setting, the less error you possibly introduce from interpolation. We 
> usually only interpolate/reproject as a final step, e.g. before we need 
> to deliver the data and we have agreed upon a certain projection with 
> our counterpart. So we usually do not reproject reflectance data (only 
> sometimes for visual interpretation, comparison with other data, 
> presentations, etc), but only reproject interpreted data, usually land 
> cover/change classifications of some sort. For those data, NN is 
> obviously the best because you work with discrete pixel values 
> ('classes'). Also keep in mind that modis surface reflectance products 
> usually are available in 1km resolution too (and I think even lower res, 
> but I'm not sure about that), which I would prefer instead of 
> downsampling a higher res product to 1km myself. Until proven wrong, I'd 
> assume the 1km product from NASA is superior to a home-downsampled 
> 500m->1km product.

Vincent,

thank you for the details. I wish I had asked this before!

I did have to make a choice in the very beginning of my small work
(whether to reproject or not). I didn't know how to work with all MOD09
and other ancillary data in a sinusoidal projection and what would be
best: getting all data to sinusoidal, process, detect changes and go
back to a planimetric projection in order to estimate areas, etc.

I choose to reproject but with NN. I use the 250m product so in addition
I resampled the Green and Blue from 500 to 250 (using NN again). Finally
I left the Blue band out since it was too noisy. And if I guess right, I
use also SRTM3 (90m). I understand now that maybe it would be better to
interpolate the SRTM elevation data using something else than NN. I
didn't really tried that.

> On a side note and slightly off-topic: because we tend to keep our 
> spectral reflectance data in the original (sinusoidal) projection, we 
> often *do* have to reproject other misc data like elevation (srtm90). 
> Would people on this list have some knowledge or maybe hints to 
> documents on what downsampling/interpolation method would be best for 
> elevation data, for example when downsampling from 90 to 250 or 500 
> meters pixel size, keeping in mind that the result will be used to 
> calculate slope/aspect from?

> Regards,
> Vincent Schut.

I will report in case I find something useful trying out the different
methods to interpolate the SRTM3 data. But this depends also on the area
(the topography) I think.

Thank you very much.

Kind regards,

Nikos

From warmerdam at pobox.com  Tue Mar 25 09:09:04 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 09:09:26 2008
Subject: [gdal-dev] GDAL 1.5.1 release tag or branch missing in SVN?
In-Reply-To: <5AC0F51A926CD442BC08D55DA7DAB1D409874117@3mxma1r.hpi.uni-potsdam.de>
References: <5AC0F51A926CD442BC08D55DA7DAB1D409874117@3mxma1r.hpi.uni-potsdam.de>
Message-ID: <47E8F970.8050002@pobox.com>

Baumann, Konstantin wrote:
> Hi!
> 
>  
> 
> I am missing a GDAL 1.5.1 release tag or branch in the SVN repo...

Konstantin,

My mistake, I have created the 1.5.1 tag.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Tue Mar 25 09:48:29 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 09:48:54 2008
Subject: [gdal-dev] Problem with gdal_translate : Illegal band #
In-Reply-To: <47E8C80B.4080202@free.fr>
References: <47E8C80B.4080202@free.fr>
Message-ID: <47E902AD.7080509@pobox.com>

Jean-Claude Repetto wrote:
> mv COR_0000.TIF COR_0000.TIF.orig
> pct2rgb.py COR_0000.TIF.orig COR_0000.TIF
> gdal_translate -of ECW -co "TARGET=88" -co "DATUM=NTF"  -co 
> "PROJ=LM2FRANC"  -co "LARGE_OK=YES" COR_0000.TIF COR_0000.ecw
> 
> Input file size is 1200, 2200
> Warning 6: '88' is an unexpected value for TARGET creation option of 
> type float.
> 0...10...20...30...40...50...60...70...80...90...100 - done.
> ERROR 5: GDALDataset::GetRasterBand(2) - Illegal band #
> ERROR 5: GDALDataset::GetRasterBand(3) - Illegal band #

Jean-Claude,

I have not encountered the above problem.

> The ECW file is created, but it contains garbage.

I did find this, and it was because you named the ECW file
with the same base name as the .HDR file.  Because of the order
the format drivers were being tried, the file got opened as a
raw BIL file using the .HDR instead of as an ECW file and the
result was garbage.  In "trunk" the EHdr driver has been
demoted to help avoid this sort of problem.  But I would discourage
you from using the same basename as all the support files or you
may encounter surprising interactions.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From daniele.romagnoli at geo-solutions.it  Tue Mar 25 10:08:56 2008
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Tue Mar 25 10:08:59 2008
Subject: [gdal-dev] Question about using a specific Driver to access a file.
Message-ID: <7221db410803250708q58c0082cuc5634f5bc450e196@mail.gmail.com>

Hi list,
I have a question about the use of the available Drivers to get access to a
file.
Suppose I have built GDAL with support for JP2KAK, JP2MrSID, JP2ECW.
Is there a way to use a desired driver to obtain a Dataset from a File
without defining/customizing the GDAL_SKIP env variable/config option?
I would like allow the user to know what drivers are available and let him
decide which driver use to open a file. (gdal.GetDriverByName already let me
know if a driver is available).

Actually, I'm working with JAVA bindings thus, probably, this capability is
already available on GDAL and I just need to expose this with SWIG.

Regards,
Daniele

-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax: +39 0584983027
mob: +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080325/31781f8a/attachment-0001.html
From jrepetto at free.fr  Tue Mar 25 10:20:22 2008
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue Mar 25 10:37:36 2008
Subject: [gdal-dev] Problem with gdal_translate : Illegal band #
In-Reply-To: <47E902AD.7080509@pobox.com>
References: <47E8C80B.4080202@free.fr> <47E902AD.7080509@pobox.com>
Message-ID: <47E90A26.8050702@free.fr>

Frank Warmerdam a ?crit :
> Jean-Claude Repetto wrote:
>> mv COR_0000.TIF COR_0000.TIF.orig
>> pct2rgb.py COR_0000.TIF.orig COR_0000.TIF
>> gdal_translate -of ECW -co "TARGET=88" -co "DATUM=NTF"  -co 
>> "PROJ=LM2FRANC"  -co "LARGE_OK=YES" COR_0000.TIF COR_0000.ecw
>>
>> Input file size is 1200, 2200
>> Warning 6: '88' is an unexpected value for TARGET creation option of 
>> type float.
>> 0...10...20...30...40...50...60...70...80...90...100 - done.
>> ERROR 5: GDALDataset::GetRasterBand(2) - Illegal band #
>> ERROR 5: GDALDataset::GetRasterBand(3) - Illegal band #
> 
> Jean-Claude,
> 
> I have not encountered the above problem.
> 
>> The ECW file is created, but it contains garbage.
> 
> I did find this, and it was because you named the ECW file
> with the same base name as the .HDR file.  Because of the order
> the format drivers were being tried, the file got opened as a
> raw BIL file using the .HDR instead of as an ECW file and the
> result was garbage.  In "trunk" the EHdr driver has been
> demoted to help avoid this sort of problem.  But I would discourage
> you from using the same basename as all the support files or you
> may encounter surprising interactions.
> 
> Best regards,

Hello Frank,

Thanks for your quick answer.
Your advice was very good. I have used a different base name for the 
output file. The errors have disappeared, and the output file is correct.

Best regards,
Jean-Claude

From warmerdam at pobox.com  Tue Mar 25 10:41:13 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 10:41:37 2008
Subject: [gdal-dev] Question about using a specific Driver to access a
	file.
In-Reply-To: <7221db410803250708q58c0082cuc5634f5bc450e196@mail.gmail.com>
References: <7221db410803250708q58c0082cuc5634f5bc450e196@mail.gmail.com>
Message-ID: <47E90F09.7020103@pobox.com>

Daniele Romagnoli wrote:
> Hi list,
> I have a question about the use of the available Drivers to get access to a
> file.
> Suppose I have built GDAL with support for JP2KAK, JP2MrSID, JP2ECW.
> Is there a way to use a desired driver to obtain a Dataset from a File
> without defining/customizing the GDAL_SKIP env variable/config option?
> I would like allow the user to know what drivers are available and let him
> decide which driver use to open a file. (gdal.GetDriverByName already let me
> know if a driver is available).
> 
> Actually, I'm working with JAVA bindings thus, probably, this capability is
> already available on GDAL and I just need to expose this with SWIG.

Daniele,

There is no convenient mechanism for doing this. The main way would be
to deregister any drivers you don't want to be used.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From gok at aerometric-ak.com  Tue Mar 25 13:30:26 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Tue Mar 25 13:32:38 2008
Subject: [gdal-dev] Re: DXF reader/writer plans?
Message-ID: <3054411AF4728548AD6D7137190D56B30C47A4@admin1.aeromap.com>

Did try this approach, got an error message running
ogr2ogr.exe :  
Unable to open datasource `D:\....dxf' with the following drivers.
...
  -> DWG
  -> DXF

DXF was r12 acad drawing (lowest version).
Have to try again with a newest GDAL 1.5.1

Gennady

-----Original Message-----
From: Baumann, Konstantin [mailto:Konstantin.Baumann@hpi.uni-potsdam.de]

Sent: Tuesday, March 25, 2008 2:47 AM
To: gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Re: DXF reader/writer plans?

There is a "spike/dxfdwg" directory/branch in the SVN with some minimal
support: https://svn.osgeo.org/gdal/spike/dxfdwg/drv_dxfdwg.html

Kind regards,
	Konstantin

> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com]
> Sent: Monday, March 24, 2008 5:41 AM
> To: Stefan Keller
> Cc: gdal-dev
> Subject: [gdal-dev] Re: DXF reader/writer plans? (Was: GDAL/OGR 1.5.1
> Released)
> 
> Stefan Keller wrote:
> >> GDAL/OGR 1.5.1 Released
> > Thanks Frank!
> >
> > Does anyone know about actual plans to add or replace the existing
DXF
> > reader/writer?
> >
> > I've already asked this some time ago. Now, from our online (geo-
> )converter
> > I got an increasing demand of a DXF reader/writer which should be
part
> of
> > the GDAL/OGR standard distribution without restrictions or extra
> compiling
> > as it is now IMHO.
> 
> Stefan,
> 
> I am not aware of any plans to implement a DXF driver for GDAL/OGR.
> 
> Best regards,
> --
>
---------------------------------------+--------------------------------
--
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo,
http://osgeo.org
> 

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Tue Mar 25 13:45:25 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 13:45:50 2008
Subject: [gdal-dev] Re: DXF reader/writer plans?
In-Reply-To: <3054411AF4728548AD6D7137190D56B30C47A4@admin1.aeromap.com>
References: <3054411AF4728548AD6D7137190D56B30C47A4@admin1.aeromap.com>
Message-ID: <47E93A35.9070007@pobox.com>

Gennady Khokhorin wrote:
> Did try this approach, got an error message running
> ogr2ogr.exe :  
> Unable to open datasource `D:\....dxf' with the following drivers.
> ...
>   -> DWG
>   -> DXF
> 
> DXF was r12 acad drawing (lowest version).
> Have to try again with a newest GDAL 1.5.1

Gennady,

The DXFDWG driver is write-only and so presumably not of much use for
your needs.  The driver could, in theory, be extended to read the files
using the DWGdirect library but it would be quite an effort and the
licensing is sufficiently restrictive on the DWGdirect library that I
think it would have limited value to the world.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From lran at unc.edu  Tue Mar 25 14:39:15 2008
From: lran at unc.edu (Limei Ran)
Date: Tue Mar 25 14:44:03 2008
Subject: [gdal-dev] NODATA value in an array from RasterIO
Message-ID: <20080325143915.apwkll81wk0o0ccs@webmail5.isis.unc.edu>


Hi:

I am reading a region out from a band using RaterIO into an array.  
What are NODATA cell values in the array?  Are they 0 or something 
else?  Can I modify the array and write back to the image.  How do I 
keep NODATA values in the array to be on the image after writing?

Thanks,

Limei







From warmerdam at pobox.com  Tue Mar 25 14:56:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 14:56:51 2008
Subject: [gdal-dev] NODATA value in an array from RasterIO
In-Reply-To: <20080325143915.apwkll81wk0o0ccs@webmail5.isis.unc.edu>
References: <20080325143915.apwkll81wk0o0ccs@webmail5.isis.unc.edu>
Message-ID: <47E94ADC.5000004@pobox.com>

Limei Ran wrote:
> 
> Hi:
> 
> I am reading a region out from a band using RaterIO into an array.  What 
> are NODATA cell values in the array?  Are they 0 or something else?  Can 
> I modify the array and write back to the image.  How do I keep NODATA 
> values in the array to be on the image after writing?

Limei,

Nodata cells will have some particular pixel value.  You can use the
GetNoDataValue() method on a gdal.Band object to determine what it's
nodata pixel value is.  It should be None if there is no reserved
nodata pixel value.

How to preserve nodata pixels depends on the circumstances.  Is your
concern keeping nodata pixels unchanged through a series of arithmetic
operations on the image array?  Or setting the "nodata metadata" properly
on the output dataset?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From gregor at hostgis.com  Tue Mar 25 14:54:30 2008
From: gregor at hostgis.com (Gregor Mosheh)
Date: Tue Mar 25 15:02:25 2008
Subject: [gdal-dev] Creating multi-band TIFF from a single band
Message-ID: <47E94A66.4080509@hostgis.com>

Hey, all. What tool would I use for this; is this something more for 
libtiff or ImageMagick than for GDAL? I could do it pixel-by-pixel in 
Python Imaging Library or PHP+GD, but I have a feeling that it would be 
incredibly slow and that a faster way exists.

I have:
TIFF with data values encoded as pixel values, e.g. pixel value minus 20 
then times 10 equals feet elevation.

I want a set of TIFFs:

a) A TIFF with the values translated to true values, so the pixel value 
is true feet. It is my understanding that a TIFF can have 
signed-24-bit-float pixel values, which would be just peachy for both 
range and accuracy. (not all cases are as trivial as the one above)

b) Colorized TIFFs based on the numeric ranges in the true-value TIFF, 
using multiple prefab palettes. If I have to run multiple commands, one 
per palette, that's OK.

c) In both cases, retaining the georeferencing as these are for use in maps.

-- 
Gregor Mosheh / Greg Allensworth, BS, A+
System Administrator
HostGIS cartographic development & hosting services
http://www.HostGIS.com/

"Remember that no one cares if you can back up,
  only if you can restore." - AMANDA
From warmerdam at pobox.com  Tue Mar 25 15:20:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 15:20:36 2008
Subject: [gdal-dev] Creating multi-band TIFF from a single band
In-Reply-To: <47E94A66.4080509@hostgis.com>
References: <47E94A66.4080509@hostgis.com>
Message-ID: <47E95069.9050102@pobox.com>

Gregor Mosheh wrote:
> Hey, all. What tool would I use for this; is this something more for 
> libtiff or ImageMagick than for GDAL? I could do it pixel-by-pixel in 
> Python Imaging Library or PHP+GD, but I have a feeling that it would be 
> incredibly slow and that a faster way exists.
> 
> I have:
> TIFF with data values encoded as pixel values, e.g. pixel value minus 20 
> then times 10 equals feet elevation.
> 
> I want a set of TIFFs:
> 
> a) A TIFF with the values translated to true values, so the pixel value 
> is true feet. It is my understanding that a TIFF can have 
> signed-24-bit-float pixel values, which would be just peachy for both 
> range and accuracy. (not all cases are as trivial as the one above)
> 
> b) Colorized TIFFs based on the numeric ranges in the true-value TIFF, 
> using multiple prefab palettes. If I have to run multiple commands, one 
> per palette, that's OK.
> 
> c) In both cases, retaining the georeferencing as these are for use in 
> maps.

Gregor,

I would suggest implementing such operations using GDAL's Python bindings
and numeric python to do the array operations.  The following scripts might
prove to be useful examples:

   http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/val_repl.py
   http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/rel.py
   http://svn.osgeo.org/gdal/trunk/gdal/swig/python/scripts/pct2rgb.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From matt.wilkie at gov.yk.ca  Tue Mar 25 15:52:18 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Mar 25 15:52:42 2008
Subject: [gdal-dev] read arc/info binary grid file
In-Reply-To: <47E41B0B.7050507@geologicsystems.com>
References: <47E41B0B.7050507@geologicsystems.com>
Message-ID: <47E957F2.7080604@gov.yk.ca>

>       How do i read a arc/info binary grid file?

http://home.gdal.org/projects/aigrid/

cheers,

-matt

From matt.wilkie at gov.yk.ca  Tue Mar 25 16:11:49 2008
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Tue Mar 25 16:12:08 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst interpolation"?
In-Reply-To: <47E8BEB3.2070001@sarvision.nl>
References: <1206184986.10420.9.camel@vertical>	<47E869D2.6030702@nb.sympatico.ca>
	<47E8BEB3.2070001@sarvision.nl>
Message-ID: <47E95C85.90202@gov.yk.ca>

Hi Vincent,

 > Would people on this list have some knowledge or maybe hints to
 > documents on what downsampling/interpolation method would be best for
 > elevation data, for example when downsampling from 90 to 250 or 500
 > meters pixel size, keeping in mind that the result will be used to
 > calculate slope/aspect from?

In my experience with elevation data Bilinear interpolation is the best 
to use when downsampling. Nearest Neighbor will often produce distinct 
box like artifacts or streaking, while Cubic Spline gives a kind of ripple.

With elevation it is important to keep the numbers to the right of the 
decimal for calculating slope/aspect (meaning: don't convert to integer) 
even when grossly downsampling. I can't locate the paper where I learned 
this at the moment, but it was in connection with ANUDEM, Mike 
Hutchinson and the Australia National Elevation Model.

cheers,

matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From bclay at ball.com  Tue Mar 25 17:34:51 2008
From: bclay at ball.com (Clay, Bruce)
Date: Tue Mar 25 17:53:57 2008
Subject: [gdal-dev] SQL fails with date query to SDE table
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFE16@daytonmsg2k3.AERO.BALL.COM>

I am working on a tool to merge attributes from 2 tables into a 3rd
table.  Everything works fine if both tables are SDO_GEOMETRY enabled
and I use the OCI driver.  If the tables are in Oracle but not
SDO_GEOMETRY enabled they don't show up using the OCI driver.  I can use
can use a query like:

 

SELECT ACTIVE_CONFIDENCE K_ACTIVE_CONFIDENCE, ALT_SD K_ALT_SD, ALTITUDE
K_ALTITUDE,

   "TO_CHAR(UPDATE_DATETIME , 'MM-DD-YYYY HH24:MI:SS'),"

   WKOKMO_5 K_WKOKMO_5, SHAPE

   FROM

      DATA_PER_ICD_W_SSS

   WHERE

      UPDATE_DATETIME BETWEEN TO_DATE('10/19/2007 14:37:57' ,
'MM-DD-YYYY HH24:MI:SS') AND

      TO_DATE('10/22/2007 14:37:57' , 'MM-DD-YYYY HH24:MI:SS') 

 

 

If I try the same thing with an ArcCatalog created table using the SDE
driver the program fails in the swq.c file called from the ogrDataSource
ExecuteSql statement.

 

I modified the query to the following

 

"SELECT ACTIVE_CONFIDENCE, ALT_SD, ALTITUDE,

 UPDATE_DATETIME,

 WKOKMO_5 

 FROM GEODB. DATA_PER_ICD_W_SSS WHERE 

 UPDATE_DATETIME >= '10/19/2007 14:37:57' AND 

 UPDATE_DATETIME <= '10/22/2007 14:37:57';

 

And I no longer get any errors but I don't get any data either.  The
original statement used TO_CHAR and TO_DATE which are normal for Oracle
SQL statements.  TO_DATE works fine in the SDE GetFeatureCount but fails
getting data.

 

The BETWEEN of the orignal statement is not supported by the methods in
swq.c.  I added it to the logic in swq_identify_op and got past that
error but then received extra token error in swq_expr_compile2.  Then I
changed to the above statemnet and got past all of the error messages
but still no data.

 

Does anyone see anything wrong in the SQL or had similar problems and
know how to get around them?

 

Does OGR support date comparisons outside of Oracle?  If so what is the
correct format?

 

 

Thanks for your thoughts and suggestions.

 

Bruce

 

 




This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080325/632b1152/attachment-0001.html
From singlespeed10 at gmail.com  Tue Mar 25 18:17:53 2008
From: singlespeed10 at gmail.com (Matt Fearon)
Date: Tue Mar 25 18:17:55 2008
Subject: [gdal-dev] object methods for adding metadata to Geotiff
Message-ID: <32e03bcf0803251517v6f1d84fcg99c3378ab4bc1e4a@mail.gmail.com>

Hi,

I am trying to assign projection information and other metadata to a
converted Geotiff file via osr.SpatialReference. My original raw
binary file has this information separate from the data. I would like
to attach this information to the new Geotiff using python/GDAL. I am
able to input a subset of projection information with the following
object methods. However, how could I add information on pixel size and
corner coordinates and other metadata? Is there an object method
though python for doing this - or would have to use the gdal_translate
utility?

thanks,
Matt


*code snipet*
driver = gdal.GetDriverByName( 'GTiff')
dst_ds = driver.Create(outfile, xsize, ysize, nbands, datatype)

meta='+proj=utm +zone=50 +north +datum=WGS84 +units=meters'
srs = osr.SpatialReference()
status=1
status=srs.SetFromUserInput(meta)
status=dst_ds.SetProjection(srs.ExportToWkt())

gdalinfo outfile.tif

Driver: GTiff/GeoTIFF
Size is 13700, 13300
Coordinate System is:
PROJCS["WGS 84 / UTM zone 50N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235629972,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",117],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32650"]]
Metadata:
  AREA_OR_POINT=Area
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,13300.0)
Upper Right (13700.0,    0.0)
Lower Right (13700.0,13300.0)
Center      ( 6850.0, 6650.0)
Band 1 Block=13700x1 Type=Float32, ColorInterp=Gray
From warmerdam at pobox.com  Tue Mar 25 18:26:16 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue Mar 25 18:26:37 2008
Subject: [gdal-dev] object methods for adding metadata to Geotiff
In-Reply-To: <32e03bcf0803251517v6f1d84fcg99c3378ab4bc1e4a@mail.gmail.com>
References: <32e03bcf0803251517v6f1d84fcg99c3378ab4bc1e4a@mail.gmail.com>
Message-ID: <47E97C08.2050602@pobox.com>

Matt Fearon wrote:
> Hi,
> 
> I am trying to assign projection information and other metadata to a
> converted Geotiff file via osr.SpatialReference. My original raw
> binary file has this information separate from the data. I would like
> to attach this information to the new Geotiff using python/GDAL. I am
> able to input a subset of projection information with the following
> object methods. However, how could I add information on pixel size and
> corner coordinates and other metadata? Is there an object method
> though python for doing this - or would have to use the gdal_translate
> utility?

Matt,

You should use the SetGeoTransform() method on the dataset to set the
origin and pixel size.  For instance for an image with the top left
corner at 250000mN, 3730000mE and a pixel size of 10m x 10m I would
use:

  dst_ds.SetGeoTransform( (250000,10,0,3730000,0,-10) )

Read up on the GDAL data model for more detail on the geotransform if
you are interested.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From lran at unc.edu  Wed Mar 26 09:57:55 2008
From: lran at unc.edu (Limei Ran)
Date: Wed Mar 26 09:59:04 2008
Subject: [gdal-dev] NODATA value in an array from RasterIO
In-Reply-To: <47E94ADC.5000004@pobox.com>
References: <20080325143915.apwkll81wk0o0ccs@webmail5.isis.unc.edu>
	<47E94ADC.5000004@pobox.com>
Message-ID: <47EA5663.9040707@unc.edu>

Hi Frank:

I used:
int pbHaveNoData;
double fNoData = poBand->GetNoDataValue( &pbHaveNoData );

I got:
pbHaveNoData = 0;
fNoData =  -10000000000.000000

The image is GByte image.  Does it mean the image does not have nodata 
value since pbHaveNoData = 0?  I viewed the image in arcGIS, it has a 
lot of nodata value areas.  How can I update the image by assigning some 
pixels to NODATA based on some conditions?

Thank you a lot for your help,

Limei


Frank Warmerdam wrote:

> Limei Ran wrote:
>
>>
>> Hi:
>>
>> I am reading a region out from a band using RaterIO into an array.  
>> What are NODATA cell values in the array?  Are they 0 or something 
>> else?  Can I modify the array and write back to the image.  How do I 
>> keep NODATA values in the array to be on the image after writing?
>
>
> Limei,
>
> Nodata cells will have some particular pixel value.  You can use the
> GetNoDataValue() method on a gdal.Band object to determine what it's
> nodata pixel value is.  It should be None if there is no reserved
> nodata pixel value.
>
> How to preserve nodata pixels depends on the circumstances.  Is your
> concern keeping nodata pixels unchanged through a series of arithmetic
> operations on the image array?  Or setting the "nodata metadata" properly
> on the output dataset?
>
> Best regards,


From warmerdam at pobox.com  Wed Mar 26 10:04:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 26 10:04:25 2008
Subject: [gdal-dev] NODATA value in an array from RasterIO
In-Reply-To: <47EA5663.9040707@unc.edu>
References: <20080325143915.apwkll81wk0o0ccs@webmail5.isis.unc.edu>
	<47E94ADC.5000004@pobox.com> <47EA5663.9040707@unc.edu>
Message-ID: <47EA57D9.8070900@pobox.com>

Limei Ran wrote:
> Hi Frank:
> 
> I used:
> int pbHaveNoData;
> double fNoData = poBand->GetNoDataValue( &pbHaveNoData );
> 
> I got:
> pbHaveNoData = 0;
> fNoData =  -10000000000.000000
> 
> The image is GByte image.  Does it mean the image does not have nodata 
> value since pbHaveNoData = 0?  

Limei,

That is correct.  The GDAL driver is unaware of any nodata value.

 > I viewed the image in arcGIS, it has a
> lot of nodata value areas.  How can I update the image by assigning some 
> pixels to NODATA based on some conditions?

If you see a particular pixel value that is a nodata value, you can use
the poBand->SetNoDataValue() method to mark that value as being nodata.
Note that many drivers will not support this change, so check the image
afterwards with gdalinfo to see if the change had an effect.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From max at geoinova.com  Wed Mar 26 11:38:35 2008
From: max at geoinova.com (Maksim Sestic)
Date: Wed Mar 26 11:38:37 2008
Subject: [Gdal-dev] GDAL 1.5.0 managed wrapper binaries
Message-ID: <16302768.post@talk.nabble.com>


Hi all,

I need GDAL 1.5.0 managed wrapper binaries (gdal_wrap.dll, ogr_wrap.dll,
osr_wrap.dll and
gdalconst_wrap.dll) to start working with "GDAL/OGR in CSharp" port. Are
wrapper binaries available for download, or I need to compile them myself
(oh noes)? Already tried using FWTools managed wrappers combined with
minimalist GDAL 1.5.0 binaries package (gdalwin32exe150.zip) but this won't
work.

Regards,
Maksim Sestic
-- 
View this message in context: http://www.nabble.com/GDAL-1.5.0-managed-wrapper-binaries-tp16302768p16302768.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Wed Mar 26 11:51:38 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Mar 26 11:51:56 2008
Subject: [Gdal-dev] GDAL 1.5.0 managed wrapper binaries
In-Reply-To: <16302768.post@talk.nabble.com>
References: <16302768.post@talk.nabble.com>
Message-ID: <47EA710A.8070804@pobox.com>

Maksim Sestic wrote:
> Hi all,
> 
> I need GDAL 1.5.0 managed wrapper binaries (gdal_wrap.dll, ogr_wrap.dll,
> osr_wrap.dll and
> gdalconst_wrap.dll) to start working with "GDAL/OGR in CSharp" port. Are
> wrapper binaries available for download, or I need to compile them myself
> (oh noes)? Already tried using FWTools managed wrappers combined with
> minimalist GDAL 1.5.0 binaries package (gdalwin32exe150.zip) but this won't
> work.

Maksim,

I have asked Chris Howell to work on preparing GDAL 1.5.1 binaries,
and then csharp wrappers as well.  If you want to track progress, please
add yourself to the CC: list for:

   http://trac.osgeo.org/gdal/ticket/2290

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From tutey at o2.pl  Wed Mar 26 12:29:02 2008
From: tutey at o2.pl (Maciej Sieczka)
Date: Wed Mar 26 12:29:10 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst interpolation"?
In-Reply-To: <47E95C85.90202@gov.yk.ca>
References: <1206184986.10420.9.camel@vertical>	<47E869D2.6030702@nb.sympatico.ca>	<47E8BEB3.2070001@sarvision.nl>
	<47E95C85.90202@gov.yk.ca>
Message-ID: <47EA79CE.5060006@o2.pl>

Matt Wilkie pisze:
>> Would people on this list have some knowledge or maybe hints to
>> documents on what downsampling/interpolation method would be best for
>> elevation data, for example when downsampling from 90 to 250 or 500
>> meters pixel size, keeping in mind that the result will be used to
>> calculate slope/aspect from?

> In my experience with elevation data Bilinear interpolation is the best 
> to use when downsampling. Nearest Neighbor will often produce distinct 
> box like artifacts or streaking, while Cubic Spline gives a kind of ripple.
> 
> With elevation it is important to keep the numbers to the right of the 
> decimal for calculating slope/aspect (meaning: don't convert to integer) 
> even when grossly downsampling. I can't locate the paper where I learned 
> this at the moment, but it was in connection with ANUDEM, Mike 
> Hutchinson and the Australia National Elevation Model.

Vincent

I suppose you might be interested in GRASS 6.3 r.resamp.stats module 
[1], which can be of use when seeking for an optimal aggregation method.

[1]http://grass.osgeo.org/grass63/manuals/html63_user/r.resamp.stats.html

Maciek
From szekerest at gmail.com  Wed Mar 26 17:36:30 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Mar 26 17:36:33 2008
Subject: [Gdal-dev] GDAL 1.5.0 managed wrapper binaries
In-Reply-To: <47EA710A.8070804@pobox.com>
References: <16302768.post@talk.nabble.com> <47EA710A.8070804@pobox.com>
Message-ID: <f3b73b7d0803261436hd8d9fafvc1766f4cb82acdf4@mail.gmail.com>

Frank,

I wonder if we could incorporate a policy in gdal how these
complementary packages (like gdal-csharp) are created for the osgeo4w
binary distribution. It would be desirable to add the corresponding
variables/targets to the gdal windows makefiles either.
Are you planning to use separate scripts/batch files to create these binaries?

It should also be noted that currently ms4w should contain the C#
related binaries for the stable branch, however unmanaged part of the
wrappers (*_wrap.dll) are still missing from the package as I can see.

Best regards,

Tamas



2008/3/26, Frank Warmerdam <warmerdam@pobox.com>:
> Maksim Sestic wrote:
>  > Hi all,
>  >
>  > I need GDAL 1.5.0 managed wrapper binaries (gdal_wrap.dll, ogr_wrap.dll,
>  > osr_wrap.dll and
>  > gdalconst_wrap.dll) to start working with "GDAL/OGR in CSharp" port. Are
>  > wrapper binaries available for download, or I need to compile them myself
>  > (oh noes)? Already tried using FWTools managed wrappers combined with
>  > minimalist GDAL 1.5.0 binaries package (gdalwin32exe150.zip) but this won't
>  > work.
>
>
> Maksim,
>
>  I have asked Chris Howell to work on preparing GDAL 1.5.1 binaries,
>  and then csharp wrappers as well.  If you want to track progress, please
>  add yourself to the CC: list for:
>
>    http://trac.osgeo.org/gdal/ticket/2290
>
>  Best regards,
>
> --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From szekerest at gmail.com  Wed Mar 26 18:16:25 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed Mar 26 18:16:27 2008
Subject: [Gdal-dev] GDAL 1.5.0 managed wrapper binaries
In-Reply-To: <47EAC4AC.5020606@pyxisinnovation.com>
References: <16302768.post@talk.nabble.com> <47EA710A.8070804@pobox.com>
	<f3b73b7d0803261436hd8d9fafvc1766f4cb82acdf4@mail.gmail.com>
	<47EAC4AC.5020606@pyxisinnovation.com>
Message-ID: <f3b73b7d0803261516i491d8ae2t18c30e1d5f406916@mail.gmail.com>

2008/3/26, Chris Howell <chowell@pyxisinnovation.com>:
>
>  Tamas,
>
>  Since this closely relates to.
>
>  http://trac.osgeo.org/gdal/ticket/2290 I felt like
> throwing my two sense in.
>
>  I wonder if we could incorporate a policy in gdal how these
> complementary packages (like gdal-csharp) are created for the osgeo4w
>  [chowell] - Great idea. I suggest a layout something like this.
>  gdalVERSION.dll (native dll)
>  gdalVERSION-wrap.dll (wrapper dll)
>  gdalVERSION-CSharp.dll (C# dll obviously), or whatever binary language
> we're building to.
>


Chris,


Either the *_wrap.dll -s or the *_csharp.dll-s are belong to the same
csharp interface so these files should be placed into the same binary
package. But we should possibly rename the *_wrap.dll-s to a more c#
specific name (like ogr_cswrap.dll for example) since these files
should go to the common osgeo4w/bin folder where the other unmanaged
dll-s are placed.
Currenly we have an install target in the gdal makefile.vc but I'm not
sure how it is used actually. It should possibly provide the necessary
actions to copy the compiled binaries to the expected location in the
target folder (or something like this). In addition each of the
language bindings should include some additional steps to package the
desired files into a  single compressed file ready to use by the
osgeo4w installer.

Best regards,

Tamas
From jc.guillot at laposte.net  Wed Mar 26 18:31:02 2008
From: jc.guillot at laposte.net (La Poste - JCG)
Date: Wed Mar 26 18:31:07 2008
Subject: [gdal-dev] GDAL/OGR 1.5.1 Released
Message-ID: <47EACEA6.9060301@laposte.net>

Hello !

I can't find binaries for 1.51.
Only binaries for 1.50 seem to be avalaible.
Did I miss something ??

Many thanks for your help...                  JC
From chowell at pyxisinnovation.com  Wed Mar 26 17:48:28 2008
From: chowell at pyxisinnovation.com (Chris Howell)
Date: Wed Mar 26 22:53:06 2008
Subject: [Gdal-dev] GDAL 1.5.0 managed wrapper binaries
In-Reply-To: <f3b73b7d0803261436hd8d9fafvc1766f4cb82acdf4@mail.gmail.com>
References: <16302768.post@talk.nabble.com> <47EA710A.8070804@pobox.com>
	<f3b73b7d0803261436hd8d9fafvc1766f4cb82acdf4@mail.gmail.com>
Message-ID: <47EAC4AC.5020606@pyxisinnovation.com>

Tamas,

Since this closely relates to.

http://trac.osgeo.org/gdal/ticket/2290 I felt like throwing my two sense 
in.

I wonder if we could incorporate a policy in gdal how these
complementary packages (like gdal-csharp) are created for the osgeo4w

[chowell] - Great idea. I suggest a layout something like this.
gdalVERSION.dll (native dll)
gdalVERSION-wrap.dll (wrapper dll)
gdalVERSION-CSharp.dll (C# dll obviously), or whatever binary language 
we're building to.

Are you planning to use separate scripts/batch files to create these binaries?

[chowell] - I don't see a need for seperate scripts/batch files, I 
prefer to execute 1 script to run and build everything you need. I would 
fear multiple scripts and batch files a maintenance nightmare.

It should also be noted that currently ms4w should contain the C#
related binaries for the stable branch, however unmanaged part of the
wrappers (*_wrap.dll) are still missing from the package as I can see.

[chowell] - I can include these if you wish. 

Cheers
Chris Howell


Tamas Szekeres wrote:
> Frank,
>
> I wonder if we could incorporate a policy in gdal how these
> complementary packages (like gdal-csharp) are created for the osgeo4w
> binary distribution. It would be desirable to add the corresponding
> variables/targets to the gdal windows makefiles either.
> Are you planning to use separate scripts/batch files to create these binaries?
>
> It should also be noted that currently ms4w should contain the C#
> related binaries for the stable branch, however unmanaged part of the
> wrappers (*_wrap.dll) are still missing from the package as I can see.
>
> Best regards,
>
> Tamas
>
>
>
> 2008/3/26, Frank Warmerdam <warmerdam@pobox.com>:
>   
>> Maksim Sestic wrote:
>>  > Hi all,
>>  >
>>  > I need GDAL 1.5.0 managed wrapper binaries (gdal_wrap.dll, ogr_wrap.dll,
>>  > osr_wrap.dll and
>>  > gdalconst_wrap.dll) to start working with "GDAL/OGR in CSharp" port. Are
>>  > wrapper binaries available for download, or I need to compile them myself
>>  > (oh noes)? Already tried using FWTools managed wrappers combined with
>>  > minimalist GDAL 1.5.0 binaries package (gdalwin32exe150.zip) but this won't
>>  > work.
>>
>>
>> Maksim,
>>
>>  I have asked Chris Howell to work on preparing GDAL 1.5.1 binaries,
>>  and then csharp wrappers as well.  If you want to track progress, please
>>  add yourself to the CC: list for:
>>
>>    http://trac.osgeo.org/gdal/ticket/2290
>>
>>  Best regards,
>>
>> --
>>  ---------------------------------------+--------------------------------------
>>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>>  light and sound - activate the windows | http://pobox.com/~warmerdam
>>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>>
>>
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>   
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080326/a417a27e/attachment.html
From max at geoinova.com  Thu Mar 27 04:04:12 2008
From: max at geoinova.com (Maksim Sestic)
Date: Thu Mar 27 04:04:15 2008
Subject: [Gdal-dev] GDAL 1.5.0 managed wrapper binaries
In-Reply-To: <f3b73b7d0803261516i491d8ae2t18c30e1d5f406916@mail.gmail.com>
References: <16302768.post@talk.nabble.com> <47EA710A.8070804@pobox.com>
	<f3b73b7d0803261436hd8d9fafvc1766f4cb82acdf4@mail.gmail.com>
	<47EAC4AC.5020606@pyxisinnovation.com>
	<f3b73b7d0803261516i491d8ae2t18c30e1d5f406916@mail.gmail.com>
Message-ID: <16323332.post@talk.nabble.com>


Throwing it all into the single binary package would be great :-)

Just a quick note regarding package naming - it's actually "managed
package", rather than "csharp package". I'm aware that this specific port
has been written in C#, still it's deployed over .NET/Mono platforms.

Regards,
Maksim Sestic


Tamas Szekeres wrote:
> 
> 2008/3/26, Chris Howell <chowell@pyxisinnovation.com>:
>>
>>  Tamas,
>>
>>  Since this closely relates to.
>>
>>  http://trac.osgeo.org/gdal/ticket/2290 I felt like
>> throwing my two sense in.
>>
>>  I wonder if we could incorporate a policy in gdal how these
>> complementary packages (like gdal-csharp) are created for the osgeo4w
>>  [chowell] - Great idea. I suggest a layout something like this.
>>  gdalVERSION.dll (native dll)
>>  gdalVERSION-wrap.dll (wrapper dll)
>>  gdalVERSION-CSharp.dll (C# dll obviously), or whatever binary language
>> we're building to.
>>
> 
> 
> Chris,
> 
> 
> Either the *_wrap.dll -s or the *_csharp.dll-s are belong to the same
> csharp interface so these files should be placed into the same binary
> package. But we should possibly rename the *_wrap.dll-s to a more c#
> specific name (like ogr_cswrap.dll for example) since these files
> should go to the common osgeo4w/bin folder where the other unmanaged
> dll-s are placed.
> Currenly we have an install target in the gdal makefile.vc but I'm not
> sure how it is used actually. It should possibly provide the necessary
> actions to copy the compiled binaries to the expected location in the
> target folder (or something like this). In addition each of the
> language bindings should include some additional steps to package the
> desired files into a  single compressed file ready to use by the
> osgeo4w installer.
> 
> Best regards,
> 
> Tamas
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/GDAL-1.5.0-managed-wrapper-binaries-tp16302768p16323332.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From schwehr at ccom.unh.edu  Thu Mar 27 07:11:10 2008
From: schwehr at ccom.unh.edu (Kurt Schwehr)
Date: Thu Mar 27 07:37:11 2008
Subject: [gdal-dev] python install makefile bug
Message-ID: <47EB80CE.4090802@ccom.unh.edu>

Hi all,

Probably an easy to fix bug... It looks like there is an extra blank 
line in the swig python makefile that is preventing the python scripts 
from getting install.

-kurt

gdal-1.5.1/swig/python/GNUmakefile:

ifeq ($(PY_HAVE_SETUPTOOLS),1)
        $(PYTHON) setup.py install
else
        $(PYTHON) setup.py install --prefix=$(DESTDIR)$(prefix)
endif

        for f in $(SCRIPTS) ; do $(INSTALL) ./scripts/$$f 
$(DESTDIR)$(INST_BIN) ; done

From keo at keo.cz  Thu Mar 27 08:25:09 2008
From: keo at keo.cz (keo@keo.cz)
Date: Thu Mar 27 08:30:20 2008
Subject: [gdal-dev] TMS driver -- Google SoC Proposal
Message-ID: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>

Hi,

I am a student interested in working on TMS tiled maps driver for GDAL as
a part of the Google SoC. As suggested by Frank, I created a new page on
the wiki (http://trac.osgeo.org/gdal/wiki/SoCTMSDriver) with the
proposal and extended the existing SoCProjects page with a link.
Comments are welcomed.

Vaclav "Keo" Klusak




From schut at sarvision.nl  Thu Mar 27 11:04:42 2008
From: schut at sarvision.nl (Vincent Schut)
Date: Thu Mar 27 11:05:02 2008
Subject: [gdal-dev] hdf issues
Message-ID: <47EBB78A.6070007@sarvision.nl>

Folks,

FYI:
I just filed 3 trac tickets regarding compilation of gdal with hdf4/5.

2295: configure does not find hdf4 when hdf4 has been compiled with szip 
and/or jpeg compression. Workaround included.

2296: issue with double declaration of 'UNKNOWN', once in hdf4 lib, once 
in gdal enumeration. Patch included.

2297: issue with newest hdf5 API. However, usually the older api is 
still available, and a simple patch to gdal can fix this. Patch included.

I hope I understood the issues correctly and my patches can be of use.

Best regards,
Vincent Schut.
From szekerest at gmail.com  Thu Mar 27 15:39:27 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu Mar 27 15:39:32 2008
Subject: [gdal-dev] TMS driver -- Google SoC Proposal
In-Reply-To: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>
References: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>
Message-ID: <f3b73b7d0803271239s25c8b3f6l2d19f5a2e5e249a3@mail.gmail.com>

Hi Keo,

I think the idea behind this proposal is fairly compelling. I have the
following questions/comments according to the implementation details.


1. I wonder if we could represent the tilesets as separate overviews
by the driver. I would make the behaviour of the driver quite similar
to the others from this aspect. The reader should finally provide the
images for arbitrary sub-areas but it should use the most appropriate
"overview" to produce the result. But the GDAL API user could also
extract the data of a certain overview if he want that.

2. We should not rely on any particular drivers when creating or
reading the tiles. It would be reasonable to support any of the
current GDAL drivers. The main benefit of this was to be able to store
and use potentially large static images efficiently even if the data
representation of the bands are not restricted necessarily to the
"displayable" types.

3. I would also happy to see at least a ready to use kml structure
that can optionally be generated by the driver to make the results
ready to consume by GE for example.

4. A separate HTTP read driver would also be valuable for a large
number of reasons, it would be great to implement that in this scope.
But I think it shouldn't be bound strictly to this driver. It could be
used in the same way as the png and the jpeg drivers are used.


Best regards,

Tamas




2008/3/27, keo@keo.cz <keo@keo.cz>:
> Hi,
>
>  I am a student interested in working on TMS tiled maps driver for GDAL as
>  a part of the Google SoC. As suggested by Frank, I created a new page on
>  the wiki (http://trac.osgeo.org/gdal/wiki/SoCTMSDriver) with the
>  proposal and extended the existing SoCProjects page with a link.
>  Comments are welcomed.
>
>  Vaclav "Keo" Klusak
>
>
>
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From lists at lazygranch.com  Fri Mar 28 01:10:14 2008
From: lists at lazygranch.com (gary)
Date: Fri Mar 28 02:17:30 2008
Subject: [gdal-dev] Compilation error
Message-ID: <47EC7DB6.5060303@lazygranch.com>

I did the configure --with-fPIC, though it didn't show up as an option. 
Anyway, any idea why gdal isn't compiling?
---------------------------------------------------------------------

make[1]: Leaving directory `/usr/local/src/gdal/gdal-1.5.1/ogr'
make libgdal.la
make[1]: Entering directory `/usr/local/src/gdal/gdal-1.5.1'
/bin/sh /usr/local/src/gdal/gdal-1.5.1/libtool --mode=link      g++ 
-L/usr/local/lib -lgeos_c -L/usr/local/lib -lexpat -ljasper -lpng -lz 
-lm -lrt -ldl      -o libgdal.la 
/usr/local/src/gdal/gdal-1.5.1/frmts/o/*.lo 
/usr/local/src/gdal/gdal-1.5.1/gcore/*.lo 
/usr/local/src/gdal/gdal-1.5.1/port/*.lo 
/usr/local/src/gdal/gdal-1.5.1/alg/*.lo 
/usr/local/src/gdal/gdal-1.5.1/ogr/ogrsf_frmts/o/*.lo 
./ogr/ogrgeometryfactory.lo ./ogr/ogrpoint.lo ./ogr/ogrcurve.lo 
./ogr/ogrlinestring.lo ./ogr/ogrlinearring.lo ./ogr/ogrpolygon.lo 
./ogr/ogrutils.lo ./ogr/ogrgeometry.lo ./ogr/ogrgeometrycollection.lo 
./ogr/ogrmultipolygon.lo ./ogr/ogrsurface.lo ./ogr/ogrmultipoint.lo 
./ogr/ogrmultilinestring.lo ./ogr/ogr_api.lo ./ogr/ogrfeature.lo 
./ogr/ogrfeaturedefn.lo ./ogr/ogrfeaturequery.lo 
./ogr/ogrfeaturestyle.lo ./ogr/ogrfielddefn.lo 
./ogr/ogrspatialreference.lo ./ogr/ogr_srsnode.lo ./ogr/ogr_srs_proj4.lo 
./ogr/ogr_fromepsg.lo ./ogr/ogrct.lo ./ogr/ogr_opt.lo 
./ogr/ogr_srs_esri.lo ./ogr/ogr_srs_pci.lo ./ogr/ogr_srs_usgs.lo 
./ogr/ogr_srs_dict.lo ./ogr/ogr_srs_panorama.lo ./ogr/ogr_srs_erm.lo 
./ogr/swq.lo ./ogr/ogr_srs_validate.lo ./ogr/ogr_srs_xml.lo 
./ogr/ograssemblepolygon.lo ./ogr/ogr2gmlgeometry.lo 
./ogr/gml2ogrgeometry.lo \
             -rpath /usr/local/lib \
             -no-undefined \
             -version-info 13:1:12
libtool: link: rm -fr  .libs/libgdal.la.lnkscript
libtool: link: creating GNU ld script: .libs/libgdal.la.lnkscript
libtool: link: g++ -shared -nostdlib 
/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../lib64/crti.o 
/usr/lib64/gcc/x86_64-suse-linux/4.1.2/crtbeginS.o 
.libs/libgdal.la.lnkscript  -L/usr/local/lib /usr/local/lib/libgeos_c.so 
/usr/local/lib/libgeos.so /usr/local/lib/libexpat.so 
/usr/local/lib/libjasper.a /usr/lib64/libpng12.so -lz -lrt -ldl 
-L/usr/lib64/gcc/x86_64-suse-linux/4.1.2 
-L/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../lib64 
-L/lib/../lib64 -L/usr/lib/../lib64 
-L/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../x86_64-suse-linux/lib 
-L/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../.. -lstdc++ -lm -lc 
-lgcc_s /usr/lib64/gcc/x86_64-suse-linux/4.1.2/crtendS.o 
/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../lib64/crtn.o 
   -Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.12.1
/usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../x86_64-suse-linux/bin/ld: 
/usr/local/lib/libjasper.a(jas_image.o): relocation R_X86_64_32 against 
`a local symbol' can not be used when making a shared object; recompile 
with -fPIC
/usr/local/lib/libjasper.a: could not read symbols: Bad value
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/usr/local/src/gdal/gdal-1.5.1'
make: *** [check-lib] Error 2
suse:/usr/local/src/gdal/gdal-1.5.1 #
From max at geoinova.com  Fri Mar 28 06:00:20 2008
From: max at geoinova.com (Maksim Sestic)
Date: Fri Mar 28 06:00:22 2008
Subject: [Gdal-dev] TMS driver -- Google SoC Proposal
In-Reply-To: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>
References: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>
Message-ID: <16348999.post@talk.nabble.com>


I guess it's time for a full-stretched OSGeo TMS project, not a single
driver. Many map servers depend heavily on this, MapGuide falls on my mind.
It would be great to have a common tiling scheme and related services (HTTP
driver is simply a neccessity, as Tamas pointed out). Thumbs up, Vaclav! :-)

Regards,
Maksim Sestic


keo wrote:
> 
> Hi,
> 
> I am a student interested in working on TMS tiled maps driver for GDAL as
> a part of the Google SoC. As suggested by Frank, I created a new page on
> the wiki (http://trac.osgeo.org/gdal/wiki/SoCTMSDriver) with the
> proposal and extended the existing SoCProjects page with a link.
> Comments are welcomed.
> 
> Vaclav "Keo" Klusak
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
View this message in context: http://www.nabble.com/TMS-driver----Google-SoC-Proposal-tp16328212p16348999.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From schut at sarvision.nl  Fri Mar 28 06:30:04 2008
From: schut at sarvision.nl (Vincent Schut)
Date: Fri Mar 28 06:30:17 2008
Subject: [gdal-dev] Compilation error
In-Reply-To: <47EC7DB6.5060303@lazygranch.com>
References: <47EC7DB6.5060303@lazygranch.com>
Message-ID: <47ECC8AC.70609@sarvision.nl>

gary wrote:
> I did the configure --with-fPIC, though it didn't show up as an option. 
> Anyway, any idea why gdal isn't compiling?
> ---------------------------------------------------------------------
> 
<snip>

> /usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../lib64/crtn.o   
> -Wl,-soname -Wl,libgdal.so.1 -o .libs/libgdal.so.1.12.1
> /usr/lib64/gcc/x86_64-suse-linux/4.1.2/../../../../x86_64-suse-linux/bin/ld: 
> /usr/local/lib/libjasper.a(jas_image.o): relocation R_X86_64_32 against 
> `a local symbol' can not be used when making a shared object; recompile 
> with -fPIC
> /usr/local/lib/libjasper.a: could not read symbols: Bad value
> collect2: ld returned 1 exit status
> make[1]: *** [libgdal.la] Error 1
> make[1]: Leaving directory `/usr/local/src/gdal/gdal-1.5.1'
> make: *** [check-lib] Error 2
> suse:/usr/local/src/gdal/gdal-1.5.1 #

This means you need to compile *libjasper* with -fPIC. Otherwise gdal is 
not able to link to it. I think for gdal on x86_64, -fPIC is enabled by 
default.

Usually the right way to add -fPIC to a compilation process (if not 
offered by configure as a --with-fpic option) is to invoke configure as 
follows:

CFLAGS="-fPIC" CXXFLAGS="-fPIC" ./configure --with-your-options

configure will then pick up your custom cflags/cxxflags (in case it is 
c++, don't know it -fPIC applies to that but just to be sure) and will 
eventually add it's own cflags to it, thus creating makefiles that will 
invoke the compiler with the -fPIC flag.

Once you have recompiled jasper with -fPIC, you can probably run make in 
the gdal dir again and it will build fine (or until the next error :))

Cheers,
Vincent.
From szekerest at gmail.com  Fri Mar 28 08:51:41 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Mar 28 08:51:46 2008
Subject: [gdal-dev] Google Summer of Code student application deadline
	approaching!
Message-ID: <f3b73b7d0803280551p603757dbj8fe0ce3addaad05a@mail.gmail.com>

Dear Students,


For those who interest in taking part of the development of GDAL,
don't hesitate to submit your application in time. The students can
only modify their applications until Mon, March 31st 12:00 PST. For
more information about details of the collaboration see:

http://code.google.com/opensource/gsoc/2008/faqs.html
http://groups.google.com/group/google-summer-of-code-announce/web/guide-to-the-gsoc-web-app-for-student-applicants


Here you can see some project ideas for the GDAL project:

http://trac.osgeo.org/gdal/wiki/SummerOfCode



Best regards,


Tamas
From warmerdam at pobox.com  Fri Mar 28 09:50:28 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 28 09:50:56 2008
Subject: [Gdal-dev] TMS driver -- Google SoC Proposal
In-Reply-To: <16348999.post@talk.nabble.com>
References: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>
	<16348999.post@talk.nabble.com>
Message-ID: <47ECF7A4.3070905@pobox.com>


> keo wrote:
>> Hi,
>>
>> I am a student interested in working on TMS tiled maps driver for GDAL as
>> a part of the Google SoC. As suggested by Frank, I created a new page on
>> the wiki (http://trac.osgeo.org/gdal/wiki/SoCTMSDriver) with the
>> proposal and extended the existing SoCProjects page with a link.
>> Comments are welcomed.

Keo,

The project looks good.  I'd like to see TMS read/write support working
by mid-term, and then adding http fetch, some optimization and other
sophisticated features after that.  It would also be desirable, but
optional, if your work could support some of the new features that
Klokan discusses in the GDAL2Tiles upgrade project he proposes if that
works out.

Actually, thinking about http, I feel this may start to blur the line
between this driver and the WMS driver which I suspect supports TMS.
So I don't know how much of a priority this would be.

I would be prepared to mentor this project.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From crschmidt at metacarta.com  Fri Mar 28 09:57:35 2008
From: crschmidt at metacarta.com (Christopher Schmidt)
Date: Fri Mar 28 10:24:43 2008
Subject: [Gdal-dev] TMS driver -- Google SoC Proposal
In-Reply-To: <47ECF7A4.3070905@pobox.com>
References: <52745.88.146.38.198.1206620709.squirrel@webmail.profitux.cz>
	<16348999.post@talk.nabble.com> <47ECF7A4.3070905@pobox.com>
Message-ID: <20080328135735.GB1206@metacarta.com>

On Fri, Mar 28, 2008 at 09:50:28AM -0400, Frank Warmerdam wrote:
> 
> >keo wrote:
> >>Hi,
> >>
> >>I am a student interested in working on TMS tiled maps driver for GDAL as
> >>a part of the Google SoC. As suggested by Frank, I created a new page on
> >>the wiki (http://trac.osgeo.org/gdal/wiki/SoCTMSDriver) with the
> >>proposal and extended the existing SoCProjects page with a link.
> >>Comments are welcomed.
> 
> Keo,
> 
> The project looks good.  I'd like to see TMS read/write support working
> by mid-term, and then adding http fetch, some optimization and other
> sophisticated features after that.  It would also be desirable, but
> optional, if your work could support some of the new features that
> Klokan discusses in the GDAL2Tiles upgrade project he proposes if that
> works out.
> 
> Actually, thinking about http, I feel this may start to blur the line
> between this driver and the WMS driver which I suspect supports TMS.
> So I don't know how much of a priority this would be.

As far as I know, the WMS driver does not support TMS. (I said on the
MapServer mailing list the other day that it did, then realized that I
think I'm mistaken.)

That said, it's not entirely clear to me how different a TMS driver and
the WMS driver really are: I had looked at the code and felt like a TMS
'minidriver' for the WMS 'driver' wouldn't be that difficult (but beyond
my coding skills): however, I can also see that a TMS driver can have
significantly more features in the realm of reading local files, so I
don't know how much of the code would end up making sense between the
two. 

Regards,
-- 
Christopher Schmidt
MetaCarta
From sy at perkins.net  Fri Mar 28 12:11:58 2008
From: sy at perkins.net (Simon Perkins)
Date: Fri Mar 28 12:20:59 2008
Subject: [gdal-dev] KMZ Support in OGR?
Message-ID: <47ED18CE.10801@perkins.net>

Hi,

Does the OGR KML driver support reading and/or writing of KMZ files?

KMZ files are simply zipped KML files which allow smaller file sizes and 
bundling of multiple files in one package. I think that google earth 
uses the format by default.

Since GDAL already includes zlib, I would think that adding support for 
this would be pretty simple, if it's not there already. Anyone planning 
on doing this?

Cheers,

Simon

From szekerest at gmail.com  Fri Mar 28 13:24:04 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri Mar 28 13:24:06 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <47ED18CE.10801@perkins.net>
References: <47ED18CE.10801@perkins.net>
Message-ID: <f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>

Simon,

I'm not sure whether the zip file record structure is implemented in
zlib or not. If the latter is the case implementing this would be
slightly beyond the scope of GDAL. There are several projects out
there to provide such API for various kind of languages.

Best regards,

Tamas



2008/3/28, Simon Perkins <sy@perkins.net>:
> Hi,
>
>  Does the OGR KML driver support reading and/or writing of KMZ files?
>
>  KMZ files are simply zipped KML files which allow smaller file sizes and
>  bundling of multiple files in one package. I think that google earth
>  uses the format by default.
>
>  Since GDAL already includes zlib, I would think that adding support for
>  this would be pretty simple, if it's not there already. Anyone planning
>  on doing this?
>
>  Cheers,
>
>  Simon
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From gok at aerometric-ak.com  Fri Mar 28 13:39:44 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Fri Mar 28 13:40:49 2008
Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
Message-ID: <3054411AF4728548AD6D7137190D56B30C47AB@admin1.aeromap.com>

Hello, gdalList!
Can not compile GDAL 1.5.1 using makegdal80.vcproj delivered with the
package.
Any suggestion how to fix it?
Below are studio output window and BuildLog.htm file contents:

>------ Build started: Project: makegdal, Configuration: Release Win32
------
1>Performing Makefile project actions
1>The system cannot find the path specified.
1>Project : error PRJ0019: A tool returned an error code from
"Performing Makefile project actions"
1>Build log was saved at
"file://c:\my_Projects\packages\gdal-1.5.1\Release\BuildLog.htm"
1>makegdal - 1 error(s), 0 warning(s)
========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped
==========


Build Log      Build started: Project: makegdal, Configuration:
Debug|Win32
 Command Lines      Creating temporary file
"C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat" with contents
[
@echo off

cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc

if errorlevel 1 goto VCReportError

goto VCEnd

:VCReportError

echo Project : error PRJ0019: A tool returned an error code from
"Performing Makefile project actions"

exit 1

:VCEnd
]
Creating command line
"C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat"
 Output Window      Performing Makefile project actions
The system cannot find the path specified.
Project : error PRJ0019: A tool returned an error code from "Performing
Makefile project actions"
 Results      Build log was saved at
"file://c:\my_Projects\packages\gdal-1.5.1\Debug\BuildLog.htm"
makegdal - 1 error(s), 0 warning(s)
  
Regards,

Gennady
From rezso at rdsor.ro  Fri Mar 28 13:46:12 2008
From: rezso at rdsor.ro (rezso@rdsor.ro)
Date: Fri Mar 28 13:46:20 2008
Subject: [gdal-dev] demtools patch.
Message-ID: <38130.212.93.154.48.1206726372.squirrel@email.rdsor.ro>

Hello Matt, Folks,


? Matt, I recall over demtools a bit, i mailed you few weeks ago
with license issue and thanks for that, and talking with gdal Folks
to see that there is a way to make demtools part of gdal.

? This would imply license change in favor of gdal and small
re-work over the code, so you can further comment here.

? For preliminary i would like to offer a small patch wich get
demtools closer to gdal.

patch does:

? - fix gcc43 complie issue and warnings (olso do VC2008)
? - get rid of stingtoken.h and use gdal internals for this
? - add progressbar as gdal tools does using gdal API
? - use more gdal internals for for some fopen/fclose handling

?Patch attached, plus a smal example.sh script for better see
what this tool can do. It uses ImageMagick to merge two tiles
and listgeo to restore spatial data.

?Let me know how can i further polish to be more gdal compliant, if Matt
accept the proposal.

? For those who don't know anything about subject i re-post the link:
? http://perrygeo.googlecode.com/svn/trunk/demtools/
? http://www.perrygeo.net/wordpress/?p=7

Best Regards,
Cristian.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: demtools-upstream.patch
Type: application/octet-stream
Size: 6057 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080328/7223563c/demtools-upstream.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: example.sh
Type: application/x-sh
Size: 1453 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080328/7223563c/example.sh
From bclay at ball.com  Fri Mar 28 13:49:43 2008
From: bclay at ball.com (Clay, Bruce)
Date: Fri Mar 28 13:49:54 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
References: <47ED18CE.10801@perkins.net>
	<f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
Message-ID: <C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>

I don't know what KMZ support is in the current GDAL KML but I
downloaded the libKml package from http://code.google.com/p/libkml/ and
it has KMZ support built in.  If anyone was going to look at an update
for GDAL / OGR they might want to look at that library.  The notes on
the website indicate that libKml is "an implementation of the candidate
OGC KML 2.2 standard".

A potential snag is that the Google library is under the BSD open source
license.  I don't keep track of the differences in license types so I
can't say if one is better than the other.

Bruce


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Tamas Szekeres
Sent: Friday, March 28, 2008 1:24 PM
To: Simon Perkins
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] KMZ Support in OGR?

Simon,

I'm not sure whether the zip file record structure is implemented in
zlib or not. If the latter is the case implementing this would be
slightly beyond the scope of GDAL. There are several projects out
there to provide such API for various kind of languages.

Best regards,

Tamas



2008/3/28, Simon Perkins <sy@perkins.net>:
> Hi,
>
>  Does the OGR KML driver support reading and/or writing of KMZ files?
>
>  KMZ files are simply zipped KML files which allow smaller file sizes
and
>  bundling of multiple files in one package. I think that google earth
>  uses the format by default.
>
>  Since GDAL already includes zlib, I would think that adding support
for
>  this would be pretty simple, if it's not there already. Anyone
planning
>  on doing this?
>
>  Cheers,
>
>  Simon
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev



This message and any enclosures are intended only for the addressee.  Please  
notify the sender by email if you are not the intended recipient.  If you are  
not the intended recipient, you may not use, copy, disclose, or distribute this  
message or its contents or enclosures to any other person and any such actions  
may be unlawful.  Ball reserves the right to monitor and review all messages  
and enclosures sent to or from this email address.
From sy at perkins.net  Fri Mar 28 14:06:08 2008
From: sy at perkins.net (Simon Perkins)
Date: Fri Mar 28 14:06:12 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
References: <47ED18CE.10801@perkins.net>
	<f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <47ED3390.30001@perkins.net>

Thanks - that would seem like a good way to go in the future, though I 
don't have time to work on it myself...

As I understand it, the BSD license allows free distribution and use of 
source code and binaries, with or without modifications. The only 
caveats are that (a) you mustn't remove the copyright notices from the 
source code, (b) you must acknowledge the copyright somewhere in the 
documentation of your library / app that uses the code, and (c) you 
mustn't assert that the author of the original code endorses the derived 
library / application. Is this compatible with the GDAL license? Maybe 
the google people would be flexible if it isn't?

Wouldn't this make a perfect Google Summer of Code project? Can someone 
add it to the GDAL SoC ideas page?

Cheers,

Sy


Clay, Bruce wrote:
> I don't know what KMZ support is in the current GDAL KML but I
> downloaded the libKml package from http://code.google.com/p/libkml/ and
> it has KMZ support built in.  If anyone was going to look at an update
> for GDAL / OGR they might want to look at that library.  The notes on
> the website indicate that libKml is "an implementation of the candidate
> OGC KML 2.2 standard".
>
> A potential snag is that the Google library is under the BSD open source
> license.  I don't keep track of the differences in license types so I
> can't say if one is better than the other.
>
> Bruce
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Tamas Szekeres
> Sent: Friday, March 28, 2008 1:24 PM
> To: Simon Perkins
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] KMZ Support in OGR?
>
> Simon,
>
> I'm not sure whether the zip file record structure is implemented in
> zlib or not. If the latter is the case implementing this would be
> slightly beyond the scope of GDAL. There are several projects out
> there to provide such API for various kind of languages.
>
> Best regards,
>
> Tamas
>
>
>
> 2008/3/28, Simon Perkins <sy@perkins.net>:
>   
>> Hi,
>>
>>  Does the OGR KML driver support reading and/or writing of KMZ files?
>>
>>  KMZ files are simply zipped KML files which allow smaller file sizes
>>     
> and
>   
>>  bundling of multiple files in one package. I think that google earth
>>  uses the format by default.
>>
>>  Since GDAL already includes zlib, I would think that adding support
>>     
> for
>   
>>  this would be pretty simple, if it's not there already. Anyone
>>     
> planning
>   
>>  on doing this?
>>
>>  Cheers,
>>
>>  Simon
>>
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>     
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> This message and any enclosures are intended only for the addressee.  Please  
> notify the sender by email if you are not the intended recipient.  If you are  
> not the intended recipient, you may not use, copy, disclose, or distribute this  
> message or its contents or enclosures to any other person and any such actions  
> may be unlawful.  Ball reserves the right to monitor and review all messages  
> and enclosures sent to or from this email address.
>
>
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080328/f8518ad7/attachment-0001.html
From ivan.lucena at pmldnet.com  Fri Mar 28 14:26:06 2008
From: ivan.lucena at pmldnet.com (ivan.lucena@pmldnet.com)
Date: Fri Mar 28 14:26:09 2008
Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
Message-ID: <20080328182606.27917.qmail@s403.sureserver.com>

Hi Gennady,

The easiest way is to generate a new one by running:

> makegdal_gen.bat
Usage: makegdal_gen "MS Visual C++ version" > makegdalNN.vcproj
Examples:
   makegdal_gen 7.10 > makegdal71.vcproj
   makegdal_gen 8.00 > makegdal80.vcproj

The other idea is to edit the "Project/Properties/NMake/Build Command Line/ [...]" so you can add whatever extra settings your Command Prompt environment would need like setting a environment variable for example. You can also customize the "Rebuild" and "Clean" command line the same way.

The problem you have:

>  cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc

Shows that there are two command on the same line without a new line or a "&&" to separate then. It should be:

cd c:\my_Projects\packages\gdal-1.5.1\ && nmake -f makefile.vc

or

cd c:\my_Projects\packages\gdal-1.5.1\
nmake -f makefile.vc

How did that happens? I don't know. It looks good on SVN: http://trac.osgeo.org/gdal/browser/trunk/gdal/makegdal80.vcproj#L19

Good luck,

Ivan



>  -------Original Message-------
>  From: Gennady Khokhorin <gok@aerometric-ak.com>
>  Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
>  Sent: Mar 28 '08 17:39
>  
>  Hello, gdalList!
>  Can not compile GDAL 1.5.1 using makegdal80.vcproj delivered with the
>  package.
>  Any suggestion how to fix it?
>  Below are studio output window and BuildLog.htm file contents:
>  
>  >------ Build started: Project: makegdal, Configuration: Release Win32
>  ------
>  1>Performing Makefile project actions
>  1>The system cannot find the path specified.
>  1>Project : error PRJ0019: A tool returned an error code from
>  "Performing Makefile project actions"
>  1>Build log was saved at
>  "file://c:\my_Projects\packages\gdal-1.5.1\Release\BuildLog.htm"
>  1>makegdal - 1 error(s), 0 warning(s)
>  ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped
>  ==========
>  
>  
>  Build Log      Build started: Project: makegdal, Configuration:
>  Debug|Win32
>  Command Lines      Creating temporary file
>  "C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat" with contents
>  [
>  @echo off
>  
>  cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc
>  
>  if errorlevel 1 goto VCReportError
>  
>  goto VCEnd
>  
>  :VCReportError
>  
>  echo Project : error PRJ0019: A tool returned an error code from
>  "Performing Makefile project actions"
>  
>  exit 1
>  
>  :VCEnd
>  ]
>  Creating command line
>  "C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat"
>  Output Window      Performing Makefile project actions
>  The system cannot find the path specified.
>  Project : error PRJ0019: A tool returned an error code from "Performing
>  Makefile project actions"
>  Results      Build log was saved at
>  "file://c:\my_Projects\packages\gdal-1.5.1\Debug\BuildLog.htm"
>  makegdal - 1 error(s), 0 warning(s)
>    
>  Regards,
>  
>  Gennady
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From nikos.alexandris at felis.uni-freiburg.de  Fri Mar 28 15:02:50 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Fri Mar 28 15:02:51 2008
Subject: [gdal-dev] Citing the gdal Raster Processing Tutorial which is hard
	to trace on gdal website?
Message-ID: <1206730970.12587.26.camel@vertical>

Dear all,

excuse me for questioning for an issue that is rather of minor importance.

I' ve been through the tutorial at:
http://trac.osgeo.org/gdal/wiki/UserDocs/RasterProcTutorial


My opinion is that the tutorial, although not complete, is ideal for new
users like myself. 
As I am preparing some documentation upon a work based mainly on GRASS
(using GDAL/OGR to prepare the raster data prior the import in
GRASS-GIS' DB), I would like to cite this tutorial. Since the tutorial
is not easy to trace through the gdal.org page (I always look for it
from a search engine) I'd rather ask why is that (appart from not being
"complete") and if I can cite it in my document or not?

Kind regards,

Nikos



From warmerdam at pobox.com  Fri Mar 28 15:18:24 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri Mar 28 15:18:43 2008
Subject: [gdal-dev] Citing the gdal Raster Processing Tutorial which is
	hard to trace on gdal website?
In-Reply-To: <1206730970.12587.26.camel@vertical>
References: <1206730970.12587.26.camel@vertical>
Message-ID: <47ED4480.7020408@pobox.com>

Nikos Alexandris wrote:
> Dear all,
> 
> excuse me for questioning for an issue that is rather of minor importance.
> 
> I' ve been through the tutorial at:
> http://trac.osgeo.org/gdal/wiki/UserDocs/RasterProcTutorial
> 
> 
> My opinion is that the tutorial, although not complete, is ideal for new
> users like myself. 
> As I am preparing some documentation upon a work based mainly on GRASS
> (using GDAL/OGR to prepare the raster data prior the import in
> GRASS-GIS' DB), I would like to cite this tutorial. Since the tutorial
> is not easy to trace through the gdal.org page (I always look for it
> from a search engine) I'd rather ask why is that (appart from not being
> "complete") and if I can cite it in my document or not?

Nikos,

You may cite it at this url.

It is still my intention to revise and finalize it but I will keep it
at the same url.  When I do that, I'll ensure it is more easily found.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From nikos.alexandris at felis.uni-freiburg.de  Fri Mar 28 15:44:35 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Fri Mar 28 15:44:36 2008
Subject: [gdal-dev] Citing the gdal Raster Processing Tutorial which is
	hard to trace on gdal website?
In-Reply-To: <47ED4480.7020408@pobox.com>
References: <1206730970.12587.26.camel@vertical> <47ED4480.7020408@pobox.com>
Message-ID: <1206733475.14067.1.camel@vertical>


On Fri, 2008-03-28 at 15:18 -0400, Frank Warmerdam wrote:
> Nikos Alexandris wrote:
> > Dear all,
> > 
> > excuse me for questioning for an issue that is rather of minor importance.
> > 
> > I' ve been through the tutorial at:
> > http://trac.osgeo.org/gdal/wiki/UserDocs/RasterProcTutorial
> > 
> > 
> > My opinion is that the tutorial, although not complete, is ideal for new
> > users like myself. 
> > As I am preparing some documentation upon a work based mainly on GRASS
> > (using GDAL/OGR to prepare the raster data prior the import in
> > GRASS-GIS' DB), I would like to cite this tutorial. Since the tutorial
> > is not easy to trace through the gdal.org page (I always look for it
> > from a search engine) I'd rather ask why is that (appart from not being
> > "complete") and if I can cite it in my document or not?
> 
> Nikos,
> 
> You may cite it at this url.
> 
> It is still my intention to revise and finalize it but I will keep it
> at the same url.  When I do that, I'll ensure it is more easily found.
> 
> Best regards,

Thank you Frank. I didn't really know whom I should contact. I assumed
that it was your work but there is no indication of the author.

Thank you again,

Nikos

From gok at aerometric-ak.com  Fri Mar 28 16:33:25 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Fri Mar 28 16:34:32 2008
Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
Message-ID: <3054411AF4728548AD6D7137190D56B30C47B0@admin1.aeromap.com>

Hi, Ivan.
Did create it with makegdal_gen, the same result.
Went to the studio' makegdal/PropertyPage/NMake/Build Command Line
and did separate line in error message for 2.
As a result in makegdal80.vcproj (line 45) got such separation symbols:
BuildCommandLine="cd $(ProjectDir)&#x0D;&#x0A;nmake -f makefile.vc" 
It could be win specific coding issue.
Now building is fine. Probably you want to update it in
makegdal_get.bat.

I'm with vc8.0.50727 + winXP(sp2)

Happy programming!
gok


-----Original Message-----
From: ivan.lucena@pmldnet.com [mailto:ivan.lucena@pmldnet.com] 
Sent: Friday, March 28, 2008 10:26 AM
To: Gennady Khokhorin; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] gdal 1.5.1 vc8 project compile error

Hi Gennady,

The easiest way is to generate a new one by running:

> makegdal_gen.bat
Usage: makegdal_gen "MS Visual C++ version" > makegdalNN.vcproj
Examples:
   makegdal_gen 7.10 > makegdal71.vcproj
   makegdal_gen 8.00 > makegdal80.vcproj

The other idea is to edit the "Project/Properties/NMake/Build Command
Line/ [...]" so you can add whatever extra settings your Command Prompt
environment would need like setting a environment variable for example.
You can also customize the "Rebuild" and "Clean" command line the same
way.

The problem you have:

>  cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc

Shows that there are two command on the same line without a new line or
a "&&" to separate then. It should be:

cd c:\my_Projects\packages\gdal-1.5.1\ && nmake -f makefile.vc

or

cd c:\my_Projects\packages\gdal-1.5.1\
nmake -f makefile.vc

How did that happens? I don't know. It looks good on SVN:
http://trac.osgeo.org/gdal/browser/trunk/gdal/makegdal80.vcproj#L19

Good luck,

Ivan



>  -------Original Message-------
>  From: Gennady Khokhorin <gok@aerometric-ak.com>
>  Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
>  Sent: Mar 28 '08 17:39
>  
>  Hello, gdalList!
>  Can not compile GDAL 1.5.1 using makegdal80.vcproj delivered with the

> package.
>  Any suggestion how to fix it?
>  Below are studio output window and BuildLog.htm file contents:
>  
>  >------ Build started: Project: makegdal, Configuration: Release 
> Win32
>  ------
>  1>Performing Makefile project actions  1>The system cannot find the 
> path specified.
>  1>Project : error PRJ0019: A tool returned an error code from  
> "Performing Makefile project actions"
>  1>Build log was saved at
>  "file://c:\my_Projects\packages\gdal-1.5.1\Release\BuildLog.htm"
>  1>makegdal - 1 error(s), 0 warning(s)  ========== Build: 0 succeeded,

> 1 failed, 0 up-to-date, 0 skipped  ==========
>  
>  
>  Build Log      Build started: Project: makegdal, Configuration:
>  Debug|Win32
>  Command Lines      Creating temporary file
>  "C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat" with 
> contents  [  @echo off
>  
>  cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc
>  
>  if errorlevel 1 goto VCReportError
>  
>  goto VCEnd
>  
>  :VCReportError
>  
>  echo Project : error PRJ0019: A tool returned an error code from  
> "Performing Makefile project actions"
>  
>  exit 1
>  
>  :VCEnd
>  ]
>  Creating command line
>  "C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat"
>  Output Window      Performing Makefile project actions
>  The system cannot find the path specified.
>  Project : error PRJ0019: A tool returned an error code from 
> "Performing  Makefile project actions"
>  Results      Build log was saved at
>  "file://c:\my_Projects\packages\gdal-1.5.1\Debug\BuildLog.htm"
>  makegdal - 1 error(s), 0 warning(s)
>    
>  Regards,
>  
>  Gennady
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From ivan.lucena at pmldnet.com  Fri Mar 28 18:40:32 2008
From: ivan.lucena at pmldnet.com (ivan.lucena@pmldnet.com)
Date: Fri Mar 28 18:40:36 2008
Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
Message-ID: <20080328224033.20297.qmail@s403.sureserver.com>

Hi Gennady,

Hum, That is the funnies thing.

If I commit the .vcproj on SVN using CRLF between the lines, once somebody check it out the LF are gone and the same error will happen. I changed it to && (actually &amp;&amp;) with the hope that would take care of the problem. Now the && are disappearing. I don't know what to do. :(

In fact, what if we have just one very small .vcproj with "makegdal_gen 8.0 > $(ProjectPath)" on "Build"? :) That sounds crazy but it might work. Let me try, first I will replace the  &amp;&amp; by new lines on the XML then I will press F7:

I've got a message saying that the project was changed outside the environment. Reload? "Yes!"

It works! :) 

Thanks Gennady.

Happy programming for you too!

Ivan







>  -------Original Message-------
>  From: Gennady Khokhorin <gok@aerometric-ak.com>
>  Subject: RE: [gdal-dev] gdal 1.5.1 vc8 project compile error
>  Sent: Mar 28 '08 20:33
>  
>  Hi, Ivan.
>  Did create it with makegdal_gen, the same result.
>  Went to the studio' makegdal/PropertyPage/NMake/Build Command Line
>  and did separate line in error message for 2.
>  As a result in makegdal80.vcproj (line 45) got such separation symbols:
>  BuildCommandLine="cd $(ProjectDir)
nmake -f makefile.vc"
>  It could be win specific coding issue.
>  Now building is fine. Probably you want to update it in
>  makegdal_get.bat.
>  
>  I'm with vc8.0.50727 + winXP(sp2)
>  
>  Happy programming!
>  gok
>  
>  
>  -----Original Message-----
>  From: ivan.lucena@pmldnet.com [mailto:ivan.lucena@pmldnet.com]
>  Sent: Friday, March 28, 2008 10:26 AM
>  To: Gennady Khokhorin; gdal-dev@lists.osgeo.org
>  Subject: Re: [gdal-dev] gdal 1.5.1 vc8 project compile error
>  
>  Hi Gennady,
>  
>  The easiest way is to generate a new one by running:
>  
>  > makegdal_gen.bat
>  Usage: makegdal_gen "MS Visual C++ version" > makegdalNN.vcproj
>  Examples:
>     makegdal_gen 7.10 > makegdal71.vcproj
>     makegdal_gen 8.00 > makegdal80.vcproj
>  
>  The other idea is to edit the "Project/Properties/NMake/Build Command
>  Line/ [...]" so you can add whatever extra settings your Command Prompt
>  environment would need like setting a environment variable for example.
>  You can also customize the "Rebuild" and "Clean" command line the same
>  way.
>  
>  The problem you have:
>  
>  >  cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc
>  
>  Shows that there are two command on the same line without a new line or
>  a "&&" to separate then. It should be:
>  
>  cd c:\my_Projects\packages\gdal-1.5.1\ && nmake -f makefile.vc
>  
>  or
>  
>  cd c:\my_Projects\packages\gdal-1.5.1\
>  nmake -f makefile.vc
>  
>  How did that happens? I don't know. It looks good on SVN:
>  http://trac.osgeo.org/gdal/browser/trunk/gdal/makegdal80.vcproj#L19
>  
>  Good luck,
>  
>  Ivan
>  
>  
>  
>  >  -------Original Message-------
>  >  From: Gennady Khokhorin <gok@aerometric-ak.com>
>  >  Subject: [gdal-dev] gdal 1.5.1 vc8 project compile error
>  >  Sent: Mar 28 '08 17:39
>  >  
>  >  Hello, gdalList!
>  >  Can not compile GDAL 1.5.1 using makegdal80.vcproj delivered with the
>  
>  > package.
>  >  Any suggestion how to fix it?
>  >  Below are studio output window and BuildLog.htm file contents:
>  >  
>  >  >------ Build started: Project: makegdal, Configuration: Release
>  > Win32
>  >  ------
>  >  1>Performing Makefile project actions  1>The system cannot find the
>  > path specified.
>  >  1>Project : error PRJ0019: A tool returned an error code from  
>  > "Performing Makefile project actions"
>  >  1>Build log was saved at
>  >  "file://c:\my_Projects\packages\gdal-1.5.1\Release\BuildLog.htm"
>  >  1>makegdal - 1 error(s), 0 warning(s)  ========== Build: 0 succeeded,
>  
>  > 1 failed, 0 up-to-date, 0 skipped  ==========
>  >  
>  >  
>  >  Build Log      Build started: Project: makegdal, Configuration:
>  >  Debug|Win32
>  >  Command Lines      Creating temporary file
>  >  "C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat" with
>  > contents  [  @echo off
>  >  
>  >  cd c:\my_Projects\packages\gdal-1.5.1\ nmake -f makefile.vc
>  >  
>  >  if errorlevel 1 goto VCReportError
>  >  
>  >  goto VCEnd
>  >  
>  >  :VCReportError
>  >  
>  >  echo Project : error PRJ0019: A tool returned an error code from  
>  > "Performing Makefile project actions"
>  >  
>  >  exit 1
>  >  
>  >  :VCEnd
>  >  ]
>  >  Creating command line
>  >  "C:\DOCUME~1\gennady\LOCALS~1\Temp\BAT000001101408260.bat"
>  >  Output Window      Performing Makefile project actions
>  >  The system cannot find the path specified.
>  >  Project : error PRJ0019: A tool returned an error code from
>  > "Performing  Makefile project actions"
>  >  Results      Build log was saved at
>  >  "file://c:\my_Projects\packages\gdal-1.5.1\Debug\BuildLog.htm"
>  >  makegdal - 1 error(s), 0 warning(s)
>  >    
>  >  Regards,
>  >  
>  >  Gennady
>  >  _______________________________________________
>  >  gdal-dev mailing list
>  >  gdal-dev@lists.osgeo.org
>  >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  >  
>  
From gok at aerometric-ak.com  Fri Mar 28 20:34:44 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Fri Mar 28 20:35:47 2008
Subject: [gdal-dev] gdal 1.5.1 building apps compile error
Message-ID: <3054411AF4728548AD6D7137190D56B30C47B2@admin1.aeromap.com>

Hello, gdalList!
Did build GDAL 1.5.1 libs fine.
Stuck building /apps nmake.exe /f makefile.vc:
NMAKE: fatal error U1073: don't know how to make ' ""'
Stop

Any idea what is wrong?
Did convert *nix to pc-format (got an issue with CRLF symbols in msvc
project): no luck

Thanks in advance.
Gennady
From nikos.alexandris at felis.uni-freiburg.de  Fri Mar 28 23:10:46 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Fri Mar 28 23:10:54 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst	interpolation"?
In-Reply-To: <1206447974.17806.18.camel@vertical>
References: <1206184986.10420.9.camel@vertical>
	<47E869D2.6030702@nb.sympatico.ca>  <47E8BEB3.2070001@sarvision.nl>
	<1206447974.17806.18.camel@vertical>
Message-ID: <1206760246.24674.19.camel@vertical>


On Tue, 2008-03-25 at 13:26 +0100, Nikos Alexandris wrote:
[...]
> 
> I will report in case I find something useful trying out the different
> methods to interpolate the SRTM3 data. But this depends also on the area
> (the topography) I think.

Just reporting back:

I am going through a series of resampling tests. Not for elevation data
but for smoothing MOD09 images.

On a subset, South Greece, I tried nn, bilinear, cubic and cubic spline
at 250, 200, 150 and 100 m for smoothing a  MOD09GQ and the MOD09GQ
image of the same acquisition date (at 500, 250, 200, 150, 100m).

Although I don't have any statistical measure to proove it, I "see" that
the best method for smoothing these images ( Blue, Green, Red and NIR
bands) is cubic resampling. Bilinear and Cubic Spline look too blurred.

BTW:
Is there any statistical method to evaluate this?


Kind regards,

Nikos


From nikos.alexandris at felis.uni-freiburg.de  Fri Mar 28 23:57:50 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Fri Mar 28 23:57:52 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"worst	interpolation"?
In-Reply-To: <1206760246.24674.19.camel@vertical>
References: <1206184986.10420.9.camel@vertical>
	<47E869D2.6030702@nb.sympatico.ca>  <47E8BEB3.2070001@sarvision.nl>
	<1206447974.17806.18.camel@vertical>
	<1206760246.24674.19.camel@vertical>
Message-ID: <1206763070.26066.0.camel@vertical>


On Sat, 2008-03-29 at 04:10 +0100, Nikos Alexandris wrote:
> On a subset, South Greece, I tried nn, bilinear, cubic and cubic spline
> at 250, 200, 150 and 100 m for smoothing a  MOD09GQ and the MOD09GQ
sorry, the second one is a MOD09GA

> image of the same acquisition date (at 500, 250, 200, 150, 100m).


From maplabs at light42.com  Sat Mar 29 01:40:42 2008
From: maplabs at light42.com (Brian Hamlin)
Date: Sat Mar 29 00:45:36 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <47ED3390.30001@perkins.net>
References: <47ED18CE.10801@perkins.net>
	<f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
	<47ED3390.30001@perkins.net>
Message-ID: <ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>


On Mar 28, 2008, at 10:06 AM, Simon Perkins wrote:

>  Thanks - that would seem like a good way to go in the future, though 
> I don't have time to work on it myself...

that may be a common story !

the relatively light weight discussion of this that I have heard so far 
basically comes to a conclusion that since OGR writes out a pretty 
simple KML, its not worth doing the work of bringing in the new libkml 
to do that.

Its worth noting that the Simple Features Library (that OGR is based 
on) only goes so far in mapping to KML.

as for kmz, thats trivial.. just pipe the output to a zip program, y?

>  As I understand it, the BSD license allows free distribution and use 
> of source code and binaries, with or without modifications. The only 
> caveats are that (a) you mustn't remove the copyright notices from the 
> source code, (b) you must acknowledge the copyright somewhere in the 
> documentation of your library / app that uses the code, and (c) you 
> mustn't assert that the author of the original code endorses the 
> derived library / application. Is this compatible with the GDAL 
> license? Maybe the google people would be flexible if it isn't?
>
>  Wouldn't this make a perfect Google Summer of Code project? Can 
> someone add it to the GDAL SoC ideas page?
>
>  Cheers,
>
>  Sy
>
>
>  Clay, Bruce wrote:
> I don't know what KMZ support is in the current GDAL KML but I
> downloaded the libKml package from http://code.google.com/p/libkml/  
> and
> it has KMZ support built in.  If anyone was going to look at an update
> for GDAL / OGR they might want to look at that library.  The notes on
> the website indicate that libKml is "an implementation of the candidate
> OGC KML 2.2 standard".
>
> A potential snag is that the Google library is under the BSD open 
> source
> license.  I don't keep track of the differences in license types so I
> can't say if one is better than the other.
>
> Bruce
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [ mailto:gdal-dev-bounces@lists.osgeo.org ] On Behalf Of Tamas Szekeres
> Sent: Friday, March 28, 2008 1:24 PM
> To: Simon Perkins
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] KMZ Support in OGR?
>
> Simon,
>
> I'm not sure whether the zip file record structure is implemented in
> zlib or not. If the latter is the case implementing this would be
> slightly beyond the scope of GDAL. There are several projects out
> there to provide such API for various kind of languages.
>
> Best regards,
>
> Tamas
>
>
>
> 2008/3/28, Simon Perkins <sy@perkins.net> :
>
> Hi,
>
>  Does the OGR KML driver support reading and/or writing of KMZ files?
>
>  KMZ files are simply zipped KML files which allow smaller file sizes
>
> and
>
>  bundling of multiple files in one package. I think that google earth
>  uses the format by default.
>
>  Since GDAL already includes zlib, I would think that adding support
>
> for
>
>  this would be pretty simple, if it's not there already. Anyone
>
> planning
>
>  on doing this?
>
>  Cheers,
>
>  Simon
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> This message and any enclosures are intended only for the addressee.  
> Please
> notify the sender by email if you are not the intended recipient.  If 
> you are
> not the intended recipient, you may not use, copy, disclose, or 
> distribute this
> message or its contents or enclosures to any other person and any such 
> actions
> may be unlawful.  Ball reserves the right to monitor and review all 
> messages
> and enclosures sent to or from this email address.
>
>
>
>
>  _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From sy at perkins.net  Sat Mar 29 09:43:15 2008
From: sy at perkins.net (Simon Perkins)
Date: Sat Mar 29 09:43:19 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
References: <47ED18CE.10801@perkins.net>
	<f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
	<47ED3390.30001@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
Message-ID: <47EE4773.5020700@perkins.net>

Brian Hamlin wrote:
> On Mar 28, 2008, at 10:06 AM, Simon Perkins wrote:
>
>>  Thanks - that would seem like a good way to go in the future, though 
>> I don't have time to work on it myself...
>
> that may be a common story !
>
> the relatively light weight discussion of this that I have heard so 
> far basically comes to a conclusion that since OGR writes out a pretty 
> simple KML, its not worth doing the work of bringing in the new libkml 
> to do that.
>
> Its worth noting that the Simple Features Library (that OGR is based 
> on) only goes so far in mapping to KML.
>
> as for kmz, thats trivial.. just pipe the output to a zip program, y?

Well, it would be nice to have something that was integrated into OGR,
without having to mess around with external programs.

I think rewriting the KML driver to use the google library would be a
great idea. The current KML driver has a number of limitations - for
instance, it doesn't support reading of multi-geometries (though I think
it will write them).

Cheers,

Sy




>
>>  As I understand it, the BSD license allows free distribution and use 
>> of source code and binaries, with or without modifications. The only 
>> caveats are that (a) you mustn't remove the copyright notices from 
>> the source code, (b) you must acknowledge the copyright somewhere in 
>> the documentation of your library / app that uses the code, and (c) 
>> you mustn't assert that the author of the original code endorses the 
>> derived library / application. Is this compatible with the GDAL 
>> license? Maybe the google people would be flexible if it isn't?
>>
>>  Wouldn't this make a perfect Google Summer of Code project? Can 
>> someone add it to the GDAL SoC ideas page?
>>
>>  Cheers,
>>
>>  Sy
>>
>>
>>  Clay, Bruce wrote:
>> I don't know what KMZ support is in the current GDAL KML but I
>> downloaded the libKml package from http://code.google.com/p/libkml/  and
>> it has KMZ support built in.  If anyone was going to look at an update
>> for GDAL / OGR they might want to look at that library.  The notes on
>> the website indicate that libKml is "an implementation of the candidate
>> OGC KML 2.2 standard".
>>
>> A potential snag is that the Google library is under the BSD open source
>> license.  I don't keep track of the differences in license types so I
>> can't say if one is better than the other.
>>
>> Bruce
>>
>>
>> -----Original Message-----
>> From: gdal-dev-bounces@lists.osgeo.org
>> [ mailto:gdal-dev-bounces@lists.osgeo.org ] On Behalf Of Tamas Szekeres
>> Sent: Friday, March 28, 2008 1:24 PM
>> To: Simon Perkins
>> Cc: gdal-dev@lists.osgeo.org
>> Subject: Re: [gdal-dev] KMZ Support in OGR?
>>
>> Simon,
>>
>> I'm not sure whether the zip file record structure is implemented in
>> zlib or not. If the latter is the case implementing this would be
>> slightly beyond the scope of GDAL. There are several projects out
>> there to provide such API for various kind of languages.
>>
>> Best regards,
>>
>> Tamas
>>
>>
>>
>> 2008/3/28, Simon Perkins <sy@perkins.net> :
>>
>> Hi,
>>
>>  Does the OGR KML driver support reading and/or writing of KMZ files?
>>
>>  KMZ files are simply zipped KML files which allow smaller file sizes
>>
>> and
>>
>>  bundling of multiple files in one package. I think that google earth
>>  uses the format by default.
>>
>>  Since GDAL already includes zlib, I would think that adding support
>>
>> for
>>
>>  this would be pretty simple, if it's not there already. Anyone
>>
>> planning
>>
>>  on doing this?
>>
>>  Cheers,
>>
>>  Simon
>>
>>  _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>> This message and any enclosures are intended only for the addressee.  
>> Please
>> notify the sender by email if you are not the intended recipient.  If 
>> you are
>> not the intended recipient, you may not use, copy, disclose, or 
>> distribute this
>> message or its contents or enclosures to any other person and any 
>> such actions
>> may be unlawful.  Ball reserves the right to monitor and review all 
>> messages
>> and enclosures sent to or from this email address.
>>
>>
>>
>>
>>  _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>


From maplabs at light42.com  Sat Mar 29 13:27:45 2008
From: maplabs at light42.com (Brian Hamlin)
Date: Sat Mar 29 12:27:37 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <47EE4773.5020700@perkins.net>
References: <47ED18CE.10801@perkins.net>
	<f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
	<47ED3390.30001@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
	<47EE4773.5020700@perkins.net>
Message-ID: <71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>


On Mar 29, 2008, at 5:43 AM, Simon Perkins wrote:

> Brian Hamlin wrote:
>> On Mar 28, 2008, at 10:06 AM, Simon Perkins wrote:
>>
>>>  Thanks - that would seem like a good way to go in the future, 
>>> though I don't have time to work on it myself...
>>
>> that may be a common story !
>>
>> the relatively light weight discussion of this that I have heard so 
>> far basically comes to a conclusion that since OGR writes out a 
>> pretty simple KML, its not worth doing the work of bringing in the 
>> new libkml to do that.
>>
>> Its worth noting that the Simple Features Library (that OGR is based 
>> on) only goes so far in mapping to KML.
>>
>> as for kmz, thats trivial.. just pipe the output to a zip program, y?
>
> Well, it would be nice to have something that was integrated into OGR,
> without having to mess around with external programs.
>
> I think rewriting the KML driver to use the google library would be a
> great idea. The current KML driver has a number of limitations - for
> instance, it doesn't support reading of multi-geometries (though I 
> think
> it will write them).
>
>
Well, this thread sort of strikes a nerve for me.. I started 
volunteering on this project 6 months ago primarily to understand and 
contribute to KML support. Now that 1.5 has gone final and a better KML 
driver is stock with GDAL/OGR, the libkml 0.1 is available.

Through a combination of time constraints, learning curve and project 
technical challenges, the reality is that the KML support is what it is 
so far, including my own (well-intentioned) efforts.

<flame>You say you think it would be a great idea to add a new library 
in place of most of the driver that is there, but dont have time and/or 
ability to make a wiki page about that as a proposed project?</flame>

Simple Features has to map to <=> from KML to work with OGR. To do it 
at the level of reliability that is expected with OGR is not trivial. 
Understanding the new libkml enough to use it well is not trivial, 
either.

See what I mean?

I am suggesting the very same thing as you in the long run btw - and 
had to have the discussion about tradeoffs in the real world.

LibKML will:

* be guaranteed to write out KML that meets the spec, now and in the 
future
* will get regular bug fixes
* be a standard API - though its far from there yet
* may have reasonable approaches to many of the more interesting KML 
features

but
* libkml reading KML isnt a free ticket to using and understanding the 
result of that read
* mapping Simple Features back and forth is still work to be done
* the lib is immature.. just not full-featured yet, so its services are 
very limited

I think KML is strategically important in the field. Other people might 
mock that a bit.. As they say, informed people may disagree.

My impression is that GDAL/OGR is a top-notch OSS project, with the 
highest caliber of contributers, in a very specialized field, and that 
it has all kinds of momentum with a big, active set of core committers 
and very strong users. On the other hand, with so many places to work 
on, there are only so many engineering hours to go around.

Who knows, maybe someone out there will fund the effort and hire to do 
this? Maybe someone ought to try to make that happen? What if there was 
a new driver, that was libkml from the start, borrowing heavily from 
the existing driver? How much effort would that be? Who would benefit 
most?

all for now
   -Brian


>>>
--
Brian Hamlin
ISDE5 Steering Committee
Planetwork.net
(415) 717-4462 (c)

From sy at perkins.net  Sat Mar 29 15:16:26 2008
From: sy at perkins.net (Simon Perkins)
Date: Sat Mar 29 15:16:31 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
References: <47ED18CE.10801@perkins.net>
	<f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
	<47ED3390.30001@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
	<47EE4773.5020700@perkins.net>
	<71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
Message-ID: <47EE958A.9060807@perkins.net>

Brian Hamlin wrote:
>
> <flame>You say you think it would be a great idea to add a new library 
> in place of most of the driver that is there, but dont have time 
> and/or ability to make a wiki page about that as a proposed 
> project?</flame>

Well, that at least is one thing I have the time to fix... I've added an 
enhanced KML driver using the Google library to the GDAL SoC ideas page. 
Feel free to edit!

http://trac.osgeo.org/gdal/wiki/SummerOfCode

Cheers,

Simon

From dylan.beaudette at gmail.com  Sat Mar 29 14:40:09 2008
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Sat Mar 29 15:52:19 2008
Subject: [gdal-dev] Why is the nearest neighbour resampling method the
	"=?utf-8?q?worst=09interpolation?="?
In-Reply-To: <1206760246.24674.19.camel@vertical>
References: <1206184986.10420.9.camel@vertical>
	<1206447974.17806.18.camel@vertical>
	<1206760246.24674.19.camel@vertical>
Message-ID: <200803291140.09460.dylan.beaudette@gmail.com>

On Friday 28 March 2008, Nikos Alexandris wrote:
> On Tue, 2008-03-25 at 13:26 +0100, Nikos Alexandris wrote:
> [...]
>
> > I will report in case I find something useful trying out the different
> > methods to interpolate the SRTM3 data. But this depends also on the area
> > (the topography) I think.
>
> Just reporting back:
>
> I am going through a series of resampling tests. Not for elevation data
> but for smoothing MOD09 images.
>
> On a subset, South Greece, I tried nn, bilinear, cubic and cubic spline
> at 250, 200, 150 and 100 m for smoothing a  MOD09GQ and the MOD09GQ
> image of the same acquisition date (at 500, 250, 200, 150, 100m).
>
> Although I don't have any statistical measure to proove it, I "see" that
> the best method for smoothing these images ( Blue, Green, Red and NIR
> bands) is cubic resampling. Bilinear and Cubic Spline look too blurred.
>
> BTW:
> Is there any statistical method to evaluate this?
>

The smoothing that you are seeing can be attributed to a general term 
called "change of support". 

To quantify the effect you can compute summary statistics for the original 
data (the cell values only) i.e. mean, median, range, IRQ, min, max, etc. 
Also- an "empirical cumulative distribution function" plot can be helpful 
here.

Next, compute these stats for each resolution, and for each interp method-- 
compare them.

r.resamp.stats in GRASS 6.3 is useful for this.

Cheers,

Dylan


> Kind regards,
>
> Nikos
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Dylan Beaudette
Soil Resource Laboratory
http://casoilresource.lawr.ucdavis.edu/
University of California at Davis
530.754.7341
From condit at sdsc.edu  Sat Mar 29 16:04:10 2008
From: condit at sdsc.edu (Christopher Condit)
Date: Sat Mar 29 16:12:04 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <47EE958A.9060807@perkins.net>
References: <47ED18CE.10801@perkins.net><f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com><C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM><47ED3390.30001@perkins.net><ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com><47EE4773.5020700@perkins.net><71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
Message-ID: <845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>

Thought I should chime in with a couple of thoughts here:
*) Google's libkml is not yet production ready
*) Once the KML 2.2 spec is approved by OGC I expect it to be rather
stable, so I'm not sure that switching to libkml for an evolving
standard is really going to buy OGR much.
*) It would probably be trivial to add kmz support, but as Brian
suggested why not just pipe the file to a zip command?

In my mind, OGR has always been about feature data, and less about
formatting. KML is inherently about formatting. It strikes me that the
KML output driver is doing its job just fine. OGR does not make use of
many KML features aside from the geometries. All the camera angles, etc,
are of no concern. If anything, I think time should be spent developing
example xsl scripts to add formatting to OGR KML (I'll try and post some
examples to the wiki later) and enhancing the reader support. There's no
reason that the existing read driver can't do its job just slightly
better...

And as Joel Spolsky says:
http://www.joelonsoftware.com/articles/fog0000000069.html

-Chris

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Simon Perkins
Sent: Saturday, March 29, 2008 12:16
To: Brian Hamlin
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] KMZ Support in OGR?

Brian Hamlin wrote:
>
> <flame>You say you think it would be a great idea to add a new library

> in place of most of the driver that is there, but dont have time 
> and/or ability to make a wiki page about that as a proposed 
> project?</flame>

Well, that at least is one thing I have the time to fix... I've added an

enhanced KML driver using the Google library to the GDAL SoC ideas page.

Feel free to edit!

http://trac.osgeo.org/gdal/wiki/SummerOfCode

Cheers,

Simon

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From sy at perkins.net  Sat Mar 29 16:47:37 2008
From: sy at perkins.net (Simon Perkins)
Date: Sat Mar 29 16:47:43 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
References: <47ED18CE.10801@perkins.net><f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com><C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM><47ED3390.30001@perkins.net><ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com><47EE4773.5020700@perkins.net><71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
	<845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
Message-ID: <47EEAAE9.8020706@perkins.net>

Well, all very salient points. I particularly liked the link to Joel 
Spolsky's article. Should be required reading for all programmers!

But a couple of comments anyway...

> *) Google's libkml is not yet production ready
>   
Fair enough - I haven't used it. But my hope would be that if Google is 
going to be using this in Google Earth then it should get up to speed 
pretty darn quickly. Of course, I'm not sure they've said that...

> *) Once the KML 2.2 spec is approved by OGC I expect it to be rather
> stable, so I'm not sure that switching to libkml for an evolving
> standard is really going to buy OGR much.
>   

Another good point. To be honest my interest is more in seeing the few 
flaws I've discovered fixed than anything else. If it's easier to fix 
the current driver then that's probably the way to go.

> *) It would probably be trivial to add kmz support, but as Brian
> suggested why not just pipe the file to a zip command?
>   

Well, that's fine if you're just trying to lash something together 
specifically for KML files on a linux system, but not so great if you're 
developing, say, commercial windows software that has to deal with lots 
of different formats. As I see it the whole point of an abstraction 
layer like GDAL/OGR is that you shouldn't have to care about the 
intricacies of particular data formats. So if your users are going to be 
trying to load KMZ files (the Google Earth default format) into your 
application, it would be much nicer if OGR could just do its job and 
read those files without you having to special case things. No?


Sy


> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Simon Perkins
> Sent: Saturday, March 29, 2008 12:16
> To: Brian Hamlin
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] KMZ Support in OGR?
>
> Brian Hamlin wrote:
>   
>> <flame>You say you think it would be a great idea to add a new library
>>     
>
>   
>> in place of most of the driver that is there, but dont have time 
>> and/or ability to make a wiki page about that as a proposed 
>> project?</flame>
>>     
>
> Well, that at least is one thing I have the time to fix... I've added an
>
> enhanced KML driver using the Google library to the GDAL SoC ideas page.
>
> Feel free to edit!
>
> http://trac.osgeo.org/gdal/wiki/SummerOfCode
>
> Cheers,
>
> Simon
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080329/1be7ab63/attachment.html
From warmerdam at pobox.com  Sat Mar 29 23:50:05 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat Mar 29 23:50:22 2008
Subject: [gdal-dev] Thin Plate Spline Stability Solved?!?
Message-ID: <47EF0DED.7050109@pobox.com>

Folks,

I am working on some testing scripts for the transformers used for the warp
api and I encountered odd results from the thin plate spline transformer.

I dug into it, and somewhat miraculously tracked it to uninitialized
coefficient entries down in alg/thinplatespline.cpp.  I have now fixed
this in trunk, 1.5 branch and 1.4 branch.  I *suspect* this problem is
at the core of our long standing stability problems with the thin plate
spline algorithm.

I would appreciate it if folks who have encountered these problems in the
past could test out the fix, and make notes on what they find in:

    http://trac.osgeo.org/gdal/ticket/2300

If this works out, I'm so excited I think I'll push out the GDAL 1.4.5
release in the near future!  This whole thin plate spline problem has been
vexing me for several years.

PS. the bug was almost certainly introduced by me, when converting the
provided code to use VSIMalloc().

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From condit at sdsc.edu  Sat Mar 29 23:53:55 2008
From: condit at sdsc.edu (Christopher Condit)
Date: Sun Mar 30 00:00:24 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <47EEAAE9.8020706@perkins.net>
References: <47ED18CE.10801@perkins.net><f3b73b7d0803281024o66a60e03jb3fc8ae96abfebf7@mail.gmail.com><C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM><47ED3390.30001@perkins.net><ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com><47EE4773.5020700@perkins.net><71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
	<845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
	<47EEAAE9.8020706@perkins.net>
Message-ID: <ETzPZrIkyPzGNsokLQ8000000ce@et.ad.sdsc.edu>

Here's the other problem I have with making KMZ's directly from OGR.
Often, users will want to include auxiliary files for icons, etc in the
kmz archive. As soon as we start zipping KML output I'm worried we'll
have to introduce some provision to include these files in the final
output....

 

-Chris

 

From: Simon Perkins [mailto:sy@perkins.net] 
Sent: Saturday, March 29, 2008 13:48
To: Christopher Condit
Cc: Brian Hamlin; gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] KMZ Support in OGR?

 

Well, all very salient points. I particularly liked the link to Joel
Spolsky's article. Should be required reading for all programmers!

But a couple of comments anyway...




*) Google's libkml is not yet production ready
  

Fair enough - I haven't used it. But my hope would be that if Google is
going to be using this in Google Earth then it should get up to speed
pretty darn quickly. Of course, I'm not sure they've said that...




*) Once the KML 2.2 spec is approved by OGC I expect it to be rather
stable, so I'm not sure that switching to libkml for an evolving
standard is really going to buy OGR much.
  


Another good point. To be honest my interest is more in seeing the few
flaws I've discovered fixed than anything else. If it's easier to fix
the current driver then that's probably the way to go.




*) It would probablybe trivial to add kmz support, but as Brian
suggested why not just pipe the file to a zip command?
  


Well, that's fine if you're just trying to lash something together
specifically for KML files on a linux system, but not so great if you're
developing, say, commercial windows software that has to deal with lots
of different formats. As I see it the whole point of an abstraction
layer like GDAL/OGR is that you shouldn't have to care about the
intricacies of particular data formats. So if your users are going to be
trying to load KMZ files (the Google Earth default format) into your
application, it would be much nicer if OGR could just do its job and
read those files without you having to special case things. No?


Sy





-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Simon Perkins
Sent: Saturday, March 29, 2008 12:16
To: Brian Hamlin
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] KMZ Support in OGR?
 
Brian Hamlin wrote:
  

	<flame>You say you think it would be a great idea to add a new
library
	    

 
  

	in place of most of the driver that is there, but dont have time

	and/or ability to make a wiki page about that as a proposed 
	project?</flame>
	    

 
Well, that at least is one thing I have the time to fix... I've added an
 
enhanced KML driver using the Google library to the GDAL SoC ideas page.
 
Feel free to edit!
 
http://trac.osgeo.org/gdal/wiki/SummerOfCode
 
Cheers,
 
Simon
 
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
 
 
  

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080329/259fb8f1/attachment-0001.html
From warmerdam at pobox.com  Sun Mar 30 12:08:47 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Mar 30 12:09:11 2008
Subject: [gdal-dev] RFC 22: RPC Georeferencing
Message-ID: <47EFBB0F.4060603@pobox.com>


Folks,

It is proposed that GDAL support an additional mechanism for geolocation of 
imagery based on rational polynomial coefficients (RPCs) represented as metadata.

Many modern raw satellite products are distributed with RPCs, including 
products from GeoEye, and DigitalGlobe. RPCs provide a higher systematic 
description of georeferencing over an image, and also contain information on 
the viewing geometry that in theory makes orthocorrection (given a DEM) and 
some 3D operations like building height computation possible.

To some extent RPCs were already supported in GDAL but the support was
incomplete and not well documented.  This RFC revises the approach somewhat
and is intended to make this a "fully supported" geolocation method in GDAL.

   http://trac.osgeo.org/gdal/wiki/rfc22_rpc

Pretty much everything is already implemented and committed, but I'm willing
to make changes as needed.  One aspect that I consider very unsettled (and
which I have not yet committed) is the SWIG bindings for the GDAL transformer
API.  I'd especially appreciate if the SWIG gods could review and propose a
better binding approach.  The current bindings result in code like this:

     ds = gdal.Open('data/gcps.vrt')
     tr = gdal.Transformer( ds, None, [ 'METHOD=GCP_POLYNOMIAL' ] )

     (success,pnt) = tr.TransformPoint( 0, 20, 10, 0 )

With "pnt" being a 3-tuple.  I don't even see how the TransformPoints
function in the proposal (transform an array of points in place) will
map in Python.

This email is a call for feedback, but I'm hoping to put forward a motion
to adopt on Monday sometime, so prompt feedback for revisions is
encouraged!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From szekerest at gmail.com  Sun Mar 30 13:50:26 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun Mar 30 13:50:29 2008
Subject: [gdal-dev] RFC 22: RPC Georeferencing
In-Reply-To: <47EFBB0F.4060603@pobox.com>
References: <47EFBB0F.4060603@pobox.com>
Message-ID: <f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>

Frank,

I think the proposed SWIG wrapper would be reasonable to expose the
transformer. Some of the %apply statements (like %apply (double
*inout) {(int*)};) should be changed for C# but I'll take care of
this, right after committing the bulk of the code.

But I'm a but uncertain about how the SWIG warp/reproject support will
benefit from this addition. How the internal
GDALCreateGenImgProjTransformer in GDALAutoCreateWarpedVRT will
receive those options you have been introduced with
GDALCreateGenImgProjTransformer2?.

Moreover it's slightly off topic but I wonder if we could add a
support for specifying the GDALWarpOptions from the SWIG API either
(at least for AutoCreateWarpedVRT and ReprojectImage). I agree that it
would be difficult to expose a new class for GDALWarpOptions but we
could possibly utilize GDALDeserializeWarpOptions and specify this
parameter as CPLXMLNode in the API. Recall that CPLXMLNode have
already been added (at least for C#) out there.

Just another comment (still off topic) is that GDALAutoCreateWarpedVRT
is somewhat should be hidden by the VRT driver, and we could utilize
Driver.CreateCopy when creating new VRTs based on existing datasets.
The SUBCLASS option of CreateCopy can do accept VRTWarpedDataset at
the moment only the other creation options like the src and dest WKT-s
should be added.


Best regards,

Tamas




2008/3/30, Frank Warmerdam <warmerdam@pobox.com>:
>
>  Folks,
>
>  It is proposed that GDAL support an additional mechanism for geolocation of
>  imagery based on rational polynomial coefficients (RPCs) represented as metadata.
>
>  Many modern raw satellite products are distributed with RPCs, including
>  products from GeoEye, and DigitalGlobe. RPCs provide a higher systematic
>  description of georeferencing over an image, and also contain information on
>  the viewing geometry that in theory makes orthocorrection (given a DEM) and
>  some 3D operations like building height computation possible.
>
>  To some extent RPCs were already supported in GDAL but the support was
>  incomplete and not well documented.  This RFC revises the approach somewhat
>  and is intended to make this a "fully supported" geolocation method in GDAL.
>
>    http://trac.osgeo.org/gdal/wiki/rfc22_rpc
>
>  Pretty much everything is already implemented and committed, but I'm willing
>  to make changes as needed.  One aspect that I consider very unsettled (and
>  which I have not yet committed) is the SWIG bindings for the GDAL transformer
>  API.  I'd especially appreciate if the SWIG gods could review and propose a
>  better binding approach.  The current bindings result in code like this:
>
>      ds = gdal.Open('data/gcps.vrt')
>      tr = gdal.Transformer( ds, None, [ 'METHOD=GCP_POLYNOMIAL' ] )
>
>      (success,pnt) = tr.TransformPoint( 0, 20, 10, 0 )
>
>  With "pnt" being a 3-tuple.  I don't even see how the TransformPoints
>  function in the proposal (transform an array of points in place) will
>  map in Python.
>
>  This email is a call for feedback, but I'm hoping to put forward a motion
>  to adopt on Monday sometime, so prompt feedback for revisions is
>  encouraged!
>
>  Best regards,
>  --
>  ---------------------------------------+--------------------------------------
>  I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>  light and sound - activate the windows | http://pobox.com/~warmerdam
>  and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From bfraser at geoanalytic.com  Sun Mar 30 13:47:39 2008
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Sun Mar 30 14:19:08 2008
Subject: [gdal-dev] RFC 22: RPC Georeferencing
In-Reply-To: <47EFBB0F.4060603@pobox.com>
References: <47EFBB0F.4060603@pobox.com>
Message-ID: <.68.144.5.189.1206899259.squirrel@68.144.5.189>

Frank,

  Would this implementation include using a DEM for height information
when transforming the locations, or only a constant height?

Best Regards,
Brent Fraser

>
> Folks,
>
> It is proposed that GDAL support an additional mechanism for geolocation
> of
> imagery based on rational polynomial coefficients (RPCs) represented as
> metadata.
>
> Many modern raw satellite products are distributed with RPCs, including
> products from GeoEye, and DigitalGlobe. RPCs provide a higher systematic
> description of georeferencing over an image, and also contain information
> on
> the viewing geometry that in theory makes orthocorrection (given a DEM)
> and
> some 3D operations like building height computation possible.
>
> To some extent RPCs were already supported in GDAL but the support was
> incomplete and not well documented.  This RFC revises the approach
> somewhat
> and is intended to make this a "fully supported" geolocation method in
> GDAL.
>
>    http://trac.osgeo.org/gdal/wiki/rfc22_rpc
>
> Pretty much everything is already implemented and committed, but I'm
> willing
> to make changes as needed.  One aspect that I consider very unsettled (and
> which I have not yet committed) is the SWIG bindings for the GDAL
> transformer
> API.  I'd especially appreciate if the SWIG gods could review and propose
> a
> better binding approach.  The current bindings result in code like this:
>
>      ds = gdal.Open('data/gcps.vrt')
>      tr = gdal.Transformer( ds, None, [ 'METHOD=GCP_POLYNOMIAL' ] )
>
>      (success,pnt) = tr.TransformPoint( 0, 20, 10, 0 )
>
> With "pnt" being a 3-tuple.  I don't even see how the TransformPoints
> function in the proposal (transform an array of points in place) will
> map in Python.
>
> This email is a call for feedback, but I'm hoping to put forward a motion
> to adopt on Monday sometime, so prompt feedback for revisions is
> encouraged!
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGeo, http://osgeo.org
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From jluis at ualg.pt  Sun Mar 30 15:15:32 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Sun Mar 30 15:46:46 2008
Subject: [gdal-dev] Build process is hanging on windows
In-Reply-To: <f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>
References: <47EFBB0F.4060603@pobox.com>
	<f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>
Message-ID: <47EFE6D4.5000509@ualg.pt>

Hi,

I'm having the error near the end of the building.

        cd frmts
        nmake /nologo /f makefile.vc plugindirs
        for %d in (  ) do  cd %d  && nmake /nologo /f makefile.vc 
plugin  && cd
..
NMAKE : fatal error U1077: 'for' : return code '0x160178'
Stop.
NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio 
.NET 2003\
VC7\BIN\nmake.exe"' : return code '0x2'
Stop.

Apparently the problem is due to $(PLUGINDIRLIST) being empty at

plugindirs:
    for %d in ( $(PLUGINDIRLIST) ) do \
        cd %d \
        && $(MAKE) /f makefile.vc plugin \
        && cd ..


Joaquim luis
From warmerdam at pobox.com  Sun Mar 30 16:33:42 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Mar 30 16:34:00 2008
Subject: [gdal-dev] RFC 22: RPC Georeferencing
In-Reply-To: <.68.144.5.189.1206899259.squirrel@68.144.5.189>
References: <47EFBB0F.4060603@pobox.com>
	<.68.144.5.189.1206899259.squirrel@68.144.5.189>
Message-ID: <47EFF926.5090004@pobox.com>

Brent Fraser wrote:
> Frank,
> 
>   Would this implementation include using a DEM for height information
> when transforming the locations, or only a constant height?
> 

Brent,

The current (proposed) implementation only supports a constant height
being passed in, though it is my intention that it could be extended to
pulling it from a DEM.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From t.mitchell at aranz.com  Sun Mar 30 20:54:09 2008
From: t.mitchell at aranz.com (Tim Mitchell)
Date: Sun Mar 30 21:35:30 2008
Subject: [gdal-dev] Ring orientation in polygons
Message-ID: <47F03631.1030301@aranz.com>

Hi,

I know the OpenGIS standard says the the exterior linear ring of a 
polygon is oriented clockwise and the interior rings are 
counterclockwise.  I also know that no all data does this.

I was just wondering if I can rely on an OGRPolygon object adhering to 
the OpenGIS standard even if the underlying data doesn't, or if I need 
to check the isClockwise() value on each ring I obtain from a polygon?

Thanks for a great library.

Kind Regards,
Tim

-- 
Tim Mitchell
Software Engineer
Applied Research Associates (NZ) Ltd. (www.aranz.com)
Ph: +64 (3) 374-6120 ext: 203
Fax: +64 (3) 374-6130
Skype: tim-mitchell

From warmerdam at pobox.com  Sun Mar 30 22:46:34 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Mar 30 22:46:59 2008
Subject: [gdal-dev] Ring orientation in polygons
In-Reply-To: <47F03631.1030301@aranz.com>
References: <47F03631.1030301@aranz.com>
Message-ID: <47F0508A.8040307@pobox.com>

Tim Mitchell wrote:
> Hi,
> 
> I know the OpenGIS standard says the the exterior linear ring of a 
> polygon is oriented clockwise and the interior rings are 
> counterclockwise.  I also know that no all data does this.
> 
> I was just wondering if I can rely on an OGRPolygon object adhering to 
> the OpenGIS standard even if the underlying data doesn't, or if I need 
> to check the isClockwise() value on each ring I obtain from a polygon?

Tim,

Currently OGRPolygon does not enforce winding order, and you cannot
depend on polygons returned by drivers having any particular winding
order.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From warmerdam at pobox.com  Sun Mar 30 23:19:09 2008
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun Mar 30 23:19:34 2008
Subject: [gdal-dev] RFC 22: RPC Georeferencing
In-Reply-To: <f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>
References: <47EFBB0F.4060603@pobox.com>
	<f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>
Message-ID: <47F0582D.1080205@pobox.com>

Tamas Szekeres wrote:
> Frank,
> 
> I think the proposed SWIG wrapper would be reasonable to expose the
> transformer. Some of the %apply statements (like %apply (double
> *inout) {(int*)};) should be changed for C# but I'll take care of
> this, right after committing the bulk of the code.

Tamas,

Ok.  Does this imply the OGR transformer should also be updated?

> But I'm a but uncertain about how the SWIG warp/reproject support will
> benefit from this addition. How the internal
> GDALCreateGenImgProjTransformer in GDALAutoCreateWarpedVRT will
> receive those options you have been introduced with
> GDALCreateGenImgProjTransformer2?.

GDALCreateGenImgProjTransformer() becomes deprecated, and some/all
things using it currently will be upgraded to use the new function.
The old function will be reimplemented to call the new function.

I haven't currently proposed updating GDALAutoCreateWarpedVRT()
to use the new GDALCreateGenImgProjTransformer2() function but
it likely ought to be.  And then to pass in the generalized options
we would need a GDALAutoCreateWarpedVRT2().  Grr.

> Moreover it's slightly off topic but I wonder if we could add a
> support for specifying the GDALWarpOptions from the SWIG API either
> (at least for AutoCreateWarpedVRT and ReprojectImage). I agree that it
> would be difficult to expose a new class for GDALWarpOptions but we
> could possibly utilize GDALDeserializeWarpOptions and specify this
> parameter as CPLXMLNode in the API. Recall that CPLXMLNode have
> already been added (at least for C#) out there.

This might be desirable, but as in the past I'm hesitant to cast
too much of this stuff in stone via SWIG.  I do think that it is
beyond the scope of this RFC.  What this RFC does do is give a
start to swig binding of the transformer api which would feed into
more generalized warp support which would require (I think) another
RFC.

> Just another comment (still off topic) is that GDALAutoCreateWarpedVRT
> is somewhat should be hidden by the VRT driver, and we could utilize
> Driver.CreateCopy when creating new VRTs based on existing datasets.
> The SUBCLASS option of CreateCopy can do accept VRTWarpedDataset at
> the moment only the other creation options like the src and dest WKT-s
> should be added.

This is a plausible approach.  Possibly we should deprecate
GDALAutoCreateWarpedVRT() and implement a CreateCopy based mechanism
that utilizes GDALCreateGenImgProjTransformer2().

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGeo, http://osgeo.org

From mtj.ashbridge at gmail.com  Mon Mar 31 02:58:37 2008
From: mtj.ashbridge at gmail.com (Michael Ashbridge)
Date: Mon Mar 31 02:58:39 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <ETzPZrIkyPzGNsokLQ8000000ce@et.ad.sdsc.edu>
References: <47ED18CE.10801@perkins.net>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
	<47ED3390.30001@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
	<47EE4773.5020700@perkins.net>
	<71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
	<845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
	<47EEAAE9.8020706@perkins.net>
	<ETzPZrIkyPzGNsokLQ8000000ce@et.ad.sdsc.edu>
Message-ID: <1ed805e50803302358s7223e936o930677ec7ebd7db3@mail.gmail.com>

All,

I'm one of the authors of libkml. I'm more than happy to answer any
questions you have.

To address some issues from the thread:

- We chose the BSD license specifically to ensure maximum
compatibility with as many other licenses as possible, and to allow
maximum possible flexibility of use.

- By itself zlib doesn't buy you zipfile/kmz support. We use the
contributed minizip code. Our KMZ support right now is minimal. As
Christopher hints, KMZ is more than just a zip-archive KML file. In
the coming weeks and months, we'll flesh out (in code) precisely what
"kmz support" really means.

- Indeed, as it says in our documentation, v0.1 is not intended for
use in production ? although I would encourage everyone to experiment
and comment.

- Michael

On Sat, Mar 29, 2008 at 8:53 PM, Christopher Condit <condit@sdsc.edu> wrote:
>
>
>
>
> Here's the other problem I have with making KMZ's directly from OGR. Often,
> users will want to include auxiliary files for icons, etc in the kmz
> archive. As soon as we start zipping KML output I'm worried we'll have to
> introduce some provision to include these files in the final output?.
>
>
>
> -Chris
>
>
>
>
>
> From: Simon Perkins [mailto:sy@perkins.net]
>  Sent: Saturday, March 29, 2008 13:48
>  To: Christopher Condit
>  Cc: Brian Hamlin; gdal-dev@lists.osgeo.org
>
>  Subject: Re: [gdal-dev] KMZ Support in OGR?
>
>
>
>
> Well, all very salient points. I particularly liked the link to Joel
> Spolsky's article. Should be required reading for all programmers!
>
>  But a couple of comments anyway...
>
>
>  *) Google's libkml is not yet production ready
>
>
>
> Fair enough - I haven't used it. But my hope would be that if Google is
> going to be using this in Google Earth then it should get up to speed pretty
> darn quickly. Of course, I'm not sure they've said that...
>
>
>  *) Once the KML 2.2 spec is approved by OGC I expect it to be rather
> stable, so I'm not sure that switching to libkml for an evolving
> standard is really going to buy OGR much.
>
>
>
>
>  Another good point. To be honest my interest is more in seeing the few
> flaws I've discovered fixed than anything else. If it's easier to fix the
> current driver then that's probably the way to go.
>
>
>  *) It would probablybe trivial to add kmz support, but as Brian
> suggested why not just pipe the file to a zip command?
>
>
>
>
>  Well, that's fine if you're just trying to lash something together
> specifically for KML files on a linux system, but not so great if you're
> developing, say, commercial windows software that has to deal with lots of
> different formats. As I see it the whole point of an abstraction layer like
> GDAL/OGR is that you shouldn't have to care about the intricacies of
> particular data formats. So if your users are going to be trying to load KMZ
> files (the Google Earth default format) into your application, it would be
> much nicer if OGR could just do its job and read those files without you
> having to special case things. No?
>
>
>  Sy
>
>
>
>  -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Simon Perkins
> Sent: Saturday, March 29, 2008 12:16
> To: Brian Hamlin
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] KMZ Support in OGR?
>
> Brian Hamlin wrote:
>
>
> <flame>You say you think it would be a great idea to add a new library
>
>
>
>
> in place of most of the driver that is there, but dont have time
> and/or ability to make a wiki page about that as a proposed
> project?</flame>
>
>
> Well, that at least is one thing I have the time to fix... I've added an
>
> enhanced KML driver using the Google library to the GDAL SoC ideas page.
>
> Feel free to edit!
>
> http://trac.osgeo.org/gdal/wiki/SummerOfCode
>
> Cheers,
>
> Simon
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
>
>
> _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From dron at ak4719.spb.edu  Mon Mar 31 06:26:09 2008
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Mon Mar 31 07:38:17 2008
Subject: [gdal-dev] Build process is hanging on windows
In-Reply-To: <47EFE6D4.5000509@ualg.pt>
References: <47EFBB0F.4060603@pobox.com>
	<f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>
	<47EFE6D4.5000509@ualg.pt>
Message-ID: <20080331102609.GA10100@ak4719.spb.edu>

On Sun, Mar 30, 2008 at 08:15:32PM +0100, Joaquim Luis wrote:
> I'm having the error near the end of the building.
> 
>        cd frmts
>        nmake /nologo /f makefile.vc plugindirs
>        for %d in (  ) do  cd %d  && nmake /nologo /f makefile.vc 
> plugin  && cd
> ..
> NMAKE : fatal error U1077: 'for' : return code '0x160178'
> Stop.
> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio 
> .NET 2003\
> VC7\BIN\nmake.exe"' : return code '0x2'
> Stop.
> 
> Apparently the problem is due to $(PLUGINDIRLIST) being empty at
> 
> plugindirs:
>    for %d in ( $(PLUGINDIRLIST) ) do \
>        cd %d \
>        && $(MAKE) /f makefile.vc plugin \
>        && cd ..

Joaquim,

I have commited the fix for this though I can't reproduce the problem.
It is probably related to the particular shell version you are using.
What is your build environment (Windows and MSVC versions)?

Best regards,
Andrey

-- 
Andrey V. Kiselev
ICQ# 26871517
From SriRam.PrasadBhasker at rmsi.com  Mon Mar 31 07:36:26 2008
From: SriRam.PrasadBhasker at rmsi.com (SriRam Prasad Bhasker)
Date: Mon Mar 31 07:44:55 2008
Subject: [gdal-dev] Urgent :: gdal_translate Solution
Message-ID: <OFE6595899.E26491C3-ON6525741D.003F942F-6525741D.003FA171@rmsi.com>

Hi.

Whenever i use Gdal_Translate with the below Syntax the Monochrome 1 BIT 
image is getting converted tgo 8 BIT Image.

Is there any Way to ensure the BPP values [Bits per Pixel] value remain 
the same even after translation.

gdal_translate -of gtiff -co Compress=LZW input.tif output.tif

presently input.tif = 1 Bit Image
Output is coming as 8 BIT Image

Bhasker
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080331/12cc7d31/attachment.html
From abhay.menon at gmail.com  Mon Mar 31 08:02:27 2008
From: abhay.menon at gmail.com (abhay menon)
Date: Mon Mar 31 08:02:29 2008
Subject: [gdal-dev] Urgent :: gdal_translate Solution
In-Reply-To: <OFE6595899.E26491C3-ON6525741D.003F942F-6525741D.003FA171@rmsi.com>
References: <OFE6595899.E26491C3-ON6525741D.003F942F-6525741D.003FA171@rmsi.com>
Message-ID: <7a30cd70803310502u16fe8c3diaa2fbbc3ef5e4b99@mail.gmail.com>

Hi Bhasker,


Use -co NBITS=1

Rgds.
Abhay.

On Mon, Mar 31, 2008 at 5:06 PM, SriRam Prasad Bhasker <
SriRam.PrasadBhasker@rmsi.com> wrote:

>
> Hi.
>
> Whenever i use Gdal_Translate with the below Syntax the Monochrome 1 BIT
> image is getting converted tgo 8 BIT Image.
>
> Is there any Way to ensure the BPP values [Bits per Pixel] value remain
> the same even after translation.
>
> gdal_translate -of gtiff -co Compress=LZW input.tif output.tif
>
> presently input.tif = 1 Bit Image
> Output is coming as 8 BIT Image
>
> Bhasker
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080331/1afdb379/attachment.html
From wochter at seznam.cz  Mon Mar 31 08:18:21 2008
From: wochter at seznam.cz (wochter)
Date: Mon Mar 31 08:44:08 2008
Subject: [gdal-dev] pg2oci
Message-ID: <47F0D68D.2040207@seznam.cz>

Hi,
I need migrate data from postgres (postgis) to oracle.
I'd like to compile own gdal-bin (ogr2ogr) package with OCI.
I running last kubuntu on 32bit platform.

I downloaded from oracle site this:

 instantclient-basic-linux32-10.2.0.3-20061115.zip
 instantclient-sdk-linux32-10.2.0.3-20061115.zip
 instantclient-sqlplus-linux32-10.2.0.3-20061115.zip

Unpacked to /usr/local/oraclient
ln -s libclntsh.so.10.1 libclntsh.so
ln -s libocci.so.10.1 libocci.so
ln -s libocci.so.10.1 liboci.so   /*don't know if is it good solution*/
Added /usr/local/oraclient to ld.so.conf

then:

ldconfig
cd /usr/src
apt-get source gdal-bin
cd gdal-1.4.1

vim debian/rules
 added this..
        --with-oci-include=/usr/local/oraclient/sdk/include \
	--with-oci-lib=/usr/local/oraclient \

$./debian/rules binary

gdal-bin package was compiled correctly, but
ogrinfo --formats   says no OCI driver is compiled in.

Here is extract from output displayed during compilation:

checking for Oracle OCI headers in /usr/local/oraclient/sdk/include... yes
checking for Oracle OCI libraries in /usr/local/oraclient... yes
checking if Oracle OCI version is >= 8.1.7... yes
checking for Oracle version >= 10.x to use -lnnz10 flag... yes
checking if Oracle support is enabled... yes

  OCI support:               yes


What is wrong?
Could you help me please?
Thank you a lot.

wochter


From mateusz at loskot.net  Mon Mar 31 08:45:11 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Mar 31 08:45:18 2008
Subject: [gdal-dev] Urgent :: gdal_translate Solution
Message-ID: <49954.84.10.81.243.1206967511.squirrel@loskot.net>

SriRam Prasad Bhasker wrote:
> Hi.
>
> Whenever i use Gdal_Translate with the below Syntax the Monochrome 1 BIT
> image is getting converted tgo 8 BIT Image.
>
> Is there any Way to ensure the BPP values [Bits per Pixel] value remain
> the same even after translation.

Yes. Please, check the manual at

http://gdal.org/frmt_gtiff.html

and read about NBITS

> gdal_translate -of gtiff -co Compress=LZW input.tif output.tif

gdal_translate -of gtiff -co Compress=LZW -co "NBITS=1" input.tif output.tif


p.s. Using "urgent" in the subject is unnecessary

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mateusz at loskot.net  Mon Mar 31 07:54:37 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Mar 31 09:10:50 2008
Subject: [gdal-dev] Urgent :: gdal_translate Solution
In-Reply-To: <OFE6595899.E26491C3-ON6525741D.003F942F-6525741D.003FA171@rmsi.com>
References: <OFE6595899.E26491C3-ON6525741D.003F942F-6525741D.003FA171@rmsi.com>
Message-ID: <49484.84.10.81.243.1206964477.squirrel@loskot.net>

SriRam Prasad Bhasker wrote:
> Hi.
>
> Whenever i use Gdal_Translate with the below Syntax the Monochrome 1 BIT
> image is getting converted tgo 8 BIT Image.
>
> Is there any Way to ensure the BPP values [Bits per Pixel] value remain
> the same even after translation.

Yes. Please, check the manual at

http://gdal.org/frmt_gtiff.html

and read about NBITS

> gdal_translate -of gtiff -co Compress=LZW input.tif output.tif

gdal_translate -of gtiff -co Compress=LZW -co "NBITS=1" input.tif output.tif


p.s. Using "urgent" in the subject is unnecessary

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net

From jluis at ualg.pt  Mon Mar 31 09:17:36 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Mar 31 09:17:40 2008
Subject: [gdal-dev] Build process is hanging on windows
In-Reply-To: <20080331102609.GA10100@ak4719.spb.edu>
References: <47EFBB0F.4060603@pobox.com>	<f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>	<47EFE6D4.5000509@ualg.pt>
	<20080331102609.GA10100@ak4719.spb.edu>
Message-ID: <47F0E470.1090002@ualg.pt>

Andrey Kiselev wrote:
> On Sun, Mar 30, 2008 at 08:15:32PM +0100, Joaquim Luis wrote:
>   
>> I'm having the error near the end of the building.
>>
>>        cd frmts
>>        nmake /nologo /f makefile.vc plugindirs
>>        for %d in (  ) do  cd %d  && nmake /nologo /f makefile.vc 
>> plugin  && cd
>> ..
>> NMAKE : fatal error U1077: 'for' : return code '0x160178'
>> Stop.
>> NMAKE : fatal error U1077: '"C:\Program Files\Microsoft Visual Studio 
>> .NET 2003\
>> VC7\BIN\nmake.exe"' : return code '0x2'
>> Stop.
>>
>> Apparently the problem is due to $(PLUGINDIRLIST) being empty at
>>
>> plugindirs:
>>    for %d in ( $(PLUGINDIRLIST) ) do \
>>        cd %d \
>>        && $(MAKE) /f makefile.vc plugin \
>>        && cd ..
>>     
>
> Joaquim,
>
> I have commited the fix for this though I can't reproduce the problem.
> It is probably related to the particular shell version you are using.
> What is your build environment (Windows and MSVC versions)?
>
> Best regards,
> Andrey
>   

Andrey,
I'll try this evening (our bright informatics services here at the 
University don't allow svn access).
I am building with MSVC 7.1 in the same way as many times before.

Joaquim
From szekerest at gmail.com  Mon Mar 31 11:26:00 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar 31 11:26:02 2008
Subject: [gdal-dev] RFC 22: RPC Georeferencing
In-Reply-To: <47F0582D.1080205@pobox.com>
References: <47EFBB0F.4060603@pobox.com>
	<f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>
	<47F0582D.1080205@pobox.com>
Message-ID: <f3b73b7d0803310826l5ed7ed0bl5aacf838e36cd7ea@mail.gmail.com>

2008/3/31, Frank Warmerdam <warmerdam@pobox.com>:
> Tamas Szekeres wrote:
>  > Frank,
>  >
>  > I think the proposed SWIG wrapper would be reasonable to expose the
>  > transformer. Some of the %apply statements (like %apply (double
>  > *inout) {(int*)};) should be changed for C# but I'll take care of
>  > this, right after committing the bulk of the code.
>
>
> Tamas,
>
>  Ok.  Does this imply the OGR transformer should also be updated?
>

No, since it doesn't contain int array mappings.

>
>  > Moreover it's slightly off topic but I wonder if we could add a
>  > support for specifying the GDALWarpOptions from the SWIG API either
>  > (at least for AutoCreateWarpedVRT and ReprojectImage). I agree that it
>  > would be difficult to expose a new class for GDALWarpOptions but we
>  > could possibly utilize GDALDeserializeWarpOptions and specify this
>  > parameter as CPLXMLNode in the API. Recall that CPLXMLNode have
>  > already been added (at least for C#) out there.
>
>
> This might be desirable, but as in the past I'm hesitant to cast
>  too much of this stuff in stone via SWIG.  I do think that it is
>  beyond the scope of this RFC.  What this RFC does do is give a
>  start to swig binding of the transformer api which would feed into
>  more generalized warp support which would require (I think) another
>  RFC.
>

It seems to be the cheapest approach to handle the outstanding bug:
http://trac.osgeo.org/gdal/ticket/2211

But I'm quite hesitant to make this change because.
1. It wouldn't be prudent to introduce an API change on a function
that is considered to be deprecated.
2. I haven't found any documentation about the WarpOptions XML representation.


I agree that some further considerations would be required about how
to provide a more powerful support for the warp functionality at the
SWIG interface.


Best regards,

Tamas
From maplabs at light42.com  Mon Mar 31 14:50:13 2008
From: maplabs at light42.com (Brian Hamlin)
Date: Mon Mar 31 13:51:14 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <1ed805e50803302358s7223e936o930677ec7ebd7db3@mail.gmail.com>
References: <47ED18CE.10801@perkins.net>
	<C482FF98AE985A47B8C982FD429C9E34FEFE21@daytonmsg2k3.AERO.BALL.COM>
	<47ED3390.30001@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
	<47EE4773.5020700@perkins.net>
	<71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
	<845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
	<47EEAAE9.8020706@perkins.net>
	<ETzPZrIkyPzGNsokLQ8000000ce@et.ad.sdsc.edu>
	<1ed805e50803302358s7223e936o930677ec7ebd7db3@mail.gmail.com>
Message-ID: <4BB41EFE-FF53-11DC-8E7C-000A277A733C@light42.com>

Hi Michael-

   thanks for chiming in

   two fundementals stand out for me about OGR and libkml

- OGR doesnt do styling much, and probably wont .. tons of KML is 
styling related
    corollary: when you read in KML, thats gone..  when you write out, 
there is a lot missing from what people might typically expect

  - the other is.. nested structures!  just a collection of folders, 
with stuff and other folders in them
     OGR doesnt do this.. things are flat.. with a "layer" as a folder.. 
and any number of layers
     thats it.. so a lot of the organization of a KML is gone

Chris Schmidt rightly pointed out that it would be immediately useful 
is there was simply a way to get "all the Placemarks" from a KML. that 
flat result, with just geometry, maps pretty much to what OGR really is 
right now IMHO

   best regards
     -Brian

==
Brian Hamlin
ISDE5 Steering Committee
Planetwork.net
(415) 717-4462 (c)

On Mar 30, 2008, at 10:58 PM, Michael Ashbridge wrote:

> All,
>
> I'm one of the authors of libkml. I'm more than happy to answer any
> questions you have.
>
> To address some issues from the thread:
>
> - We chose the BSD license specifically to ensure maximum
> compatibility with as many other licenses as possible, and to allow
> maximum possible flexibility of use.
>
> - By itself zlib doesn't buy you zipfile/kmz support. We use the
> contributed minizip code. Our KMZ support right now is minimal. As
> Christopher hints, KMZ is more than just a zip-archive KML file. In
> the coming weeks and months, we'll flesh out (in code) precisely what
> "kmz support" really means.
>
> - Indeed, as it says in our documentation, v0.1 is not intended for
> use in production ? although I would encourage everyone to experiment
> and comment.
>
> - Michael
>
> On Sat, Mar 29, 2008 at 8:53 PM, Christopher Condit <condit@sdsc.edu> 
> wrote:
>>
>>
>>
>>
>> Here's the other problem I have with making KMZ's directly from OGR. 
>> Often,
>> users will want to include auxiliary files for icons, etc in the kmz
>> archive. As soon as we start zipping KML output I'm worried we'll 
>> have to
>> introduce some provision to include these files in the final output?.
>>
>>
>>
>> -Chris
>>
>>
>>
>>
>>
>> From: Simon Perkins [mailto:sy@perkins.net]
>>  Sent: Saturday, March 29, 2008 13:48
>>  To: Christopher Condit
>>  Cc: Brian Hamlin; gdal-dev@lists.osgeo.org
>>
>>  Subject: Re: [gdal-dev] KMZ Support in OGR?
>>
>>
>>
>>
>> Well, all very salient points. I particularly liked the link to Joel
>> Spolsky's article. Should be required reading for all programmers!
>>
>>  But a couple of comments anyway...
>>
>>
>>  *) Google's libkml is not yet production ready
>>
>>
>>
>> Fair enough - I haven't used it. But my hope would be that if Google 
>> is
>> going to be using this in Google Earth then it should get up to speed 
>> pretty
>> darn quickly. Of course, I'm not sure they've said that...
>>
>>
>>  *) Once the KML 2.2 spec is approved by OGC I expect it to be rather
>> stable, so I'm not sure that switching to libkml for an evolving
>> standard is really going to buy OGR much.
>>
>>
>>
>>
>>  Another good point. To be honest my interest is more in seeing the 
>> few
>> flaws I've discovered fixed than anything else. If it's easier to fix 
>> the
>> current driver then that's probably the way to go.
>>
>>
>>  *) It would probablybe trivial to add kmz support, but as Brian
>> suggested why not just pipe the file to a zip command?
>>
>>
>>
>>
>>  Well, that's fine if you're just trying to lash something together
>> specifically for KML files on a linux system, but not so great if 
>> you're
>> developing, say, commercial windows software that has to deal with 
>> lots of
>> different formats. As I see it the whole point of an abstraction 
>> layer like
>> GDAL/OGR is that you shouldn't have to care about the intricacies of
>> particular data formats. So if your users are going to be trying to 
>> load KMZ
>> files (the Google Earth default format) into your application, it 
>> would be
>> much nicer if OGR could just do its job and read those files without 
>> you
>> having to special case things. No?
>>
>>
>>  Sy
>>
>>
>>
>>  -----Original Message-----
>> From: gdal-dev-bounces@lists.osgeo.org
>> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Simon Perkins
>> Sent: Saturday, March 29, 2008 12:16
>> To: Brian Hamlin
>> Cc: gdal-dev@lists.osgeo.org
>> Subject: Re: [gdal-dev] KMZ Support in OGR?
>>
>> Brian Hamlin wrote:
>>
>>
>> <flame>You say you think it would be a great idea to add a new library
>>
>>
>>
>>
>> in place of most of the driver that is there, but dont have time
>> and/or ability to make a wiki page about that as a proposed
>> project?</flame>
>>
>>
>> Well, that at least is one thing I have the time to fix... I've added 
>> an
>>
>> enhanced KML driver using the Google library to the GDAL SoC ideas 
>> page.
>>
>> Feel free to edit!
>>
>> http://trac.osgeo.org/gdal/wiki/SummerOfCode
>>
>> Cheers,
>>
>> Simon
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>>
>>
>>
>> _______________________________________________
>>  gdal-dev mailing list
>>  gdal-dev@lists.osgeo.org
>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From szekerest at gmail.com  Mon Mar 31 14:38:34 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar 31 14:38:36 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <4BB41EFE-FF53-11DC-8E7C-000A277A733C@light42.com>
References: <47ED18CE.10801@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
	<47EE4773.5020700@perkins.net>
	<71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
	<845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
	<47EEAAE9.8020706@perkins.net>
	<ETzPZrIkyPzGNsokLQ8000000ce@et.ad.sdsc.edu>
	<1ed805e50803302358s7223e936o930677ec7ebd7db3@mail.gmail.com>
	<4BB41EFE-FF53-11DC-8E7C-000A277A733C@light42.com>
Message-ID: <f3b73b7d0803311138s17e383f1mf011510171b74885@mail.gmail.com>

2008/3/31, Brian Hamlin <maplabs@light42.com>:
> Hi Michael-
>
>    thanks for chiming in
>
>    two fundementals stand out for me about OGR and libkml
>
>  - OGR doesnt do styling much, and probably wont .. tons of KML is
>  styling related
>     corollary: when you read in KML, thats gone..  when you write out,
>  there is a lot missing from what people might typically expect
>

I think it would be great to support the styles with the KML driver
either. But someone should find out how the current feature style
specification should be mapped to the KML styles, and/or how to extend
this specification to satisfy with the KML needs.

http://www.gdal.org/ogr/ogr_feature_style.html


Best regards,

Tamas
From gok at aerometric-ak.com  Mon Mar 31 15:40:18 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Mon Mar 31 15:41:15 2008
Subject: [gdal-dev] ogrinfo --formats
Message-ID: <3054411AF4728548AD6D7137190D56B302B58010@admin1.aeromap.com>

Hello, gdal Developers!
Wonder if is it possible to list OGR supported formats as gdalinfo
doing:
gdal --formats

Thanks!
From nikos.alexandris at felis.uni-freiburg.de  Mon Mar 31 15:46:21 2008
From: nikos.alexandris at felis.uni-freiburg.de (Nikos Alexandris)
Date: Mon Mar 31 15:46:26 2008
Subject: [gdal-dev] ogrinfo --formats
In-Reply-To: <3054411AF4728548AD6D7137190D56B302B58010@admin1.aeromap.com>
References: <3054411AF4728548AD6D7137190D56B302B58010@admin1.aeromap.com>
Message-ID: <1206992781.12699.1.camel@vertical>


On Mon, 2008-03-31 at 11:40 -0800, Gennady Khokhorin wrote:
> Hello, gdal Developers!
Hi, although I am only a simple end-user!


> Wonder if is it possible to list OGR supported formats as gdalinfo
> doing:
> gdal --formats
> 
> Thanks!

ogrinfo --formats

Cheers,

Nikos

From jluis at ualg.pt  Mon Mar 31 16:15:29 2008
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon Mar 31 16:15:32 2008
Subject: [gdal-dev] Build process is hanging on windows
In-Reply-To: <20080331102609.GA10100@ak4719.spb.edu>
References: <47EFBB0F.4060603@pobox.com>	<f3b73b7d0803301050p629382f1jf80b8a33f04f6fd8@mail.gmail.com>	<47EFE6D4.5000509@ualg.pt>
	<20080331102609.GA10100@ak4719.spb.edu>
Message-ID: <47F14661.2050205@ualg.pt>


> Joaquim,
>
> I have commited the fix for this though I can't reproduce the problem.
> It is probably related to the particular shell version you are using.
> What is your build environment (Windows and MSVC versions)?
>
>   

Andrey,

Thanks, it works again.

On a side note. I also compiled it with the Intel compiler. Oddly, the 
gdal dll is twice as big (12.7 Mb) and the compiler issues several 
warnings that maybe are of interest to take into account. Below is a 
summary from the 3000 lines of my window buffer (there were more, not 
included,  of the type - useless comparison with zero).

Joaquim


geotiff.cpp
..\..\gcore\gdal_priv.h(355): warning #1744: field of class type without 
a DLL i
nterface used in a class with a DLL interface
      std::vector<GDALColorEntry> aoEntries;
                                  ^
tif_dirinfo.c
tif_dirinfo.c(465): warning #188: enumerated type mixed with another type
        TIFFField key = {0, 0, 0, TIFF_NOTYPE, 0, 0, 0, 0, 0, 0, NULL, 
NULL};
                                                  ^
tif_dirread.c
tif_dirread.c(720): warning #188: enumerated type mixed with another type
        typesize=TIFFDataWidth(direntry->tdir_type);
                               ^

dted_ptstream.c
dted_ptstream.c(400): warning #188: enumerated type mixed with another type
                  DTEDSetMetadata( psCF->psInfo, iMD,
                                                 ^
dgif_lib.c
dgif_lib.c(67): warning #167: argument of type "const char *" is 
incompatible wi
th parameter of type "void *"
      if ((FileHandle = open(FileName, O_RDONLY
                             ^
nitffile.c
nitffile.c(747): warning #186: pointless comparison of unsigned integer 
with zero
                      + MAX(0,iSize-strlen(pszValue)),
                        ^
msg_reader_core.cpp
msg_reader_core.cpp(233): warning #186: pointless comparison of unsigned 
integer
 with zero
          if (visir_line.channelId < 0 || visir_line.channelId > 
MSG_NUM_CHANNELS) {
                                   ^
rmalloc.c
rmalloc.c(30): warning #188: enumerated type mixed with another type
                LOG_CELLSIZE(m->appCR) > LOG_CELLSIZE(inFileCR)
                ^
delattr.c
delattr.c(74): warning #188: enumerated type mixed with another type
  error:        return 0 ;      /* not found or an error */
                       ^
gcellrep.c
gcellrep.c(11): warning #188: enumerated type mixed with another type
        return(map->raster.cellRepr);

gcellrep.c(22): warning #188: enumerated type mixed with another type
        return(map->appCR);
              ^
getattr.c
getattr.c(80): warning #188: enumerated type mixed with another type
  error:        return(0);      /* not available  or an error */
                      ^
gmaxval.c
gmaxval.c(33): warning #188: enumerated type mixed with another type
        CsfGetVarType(maxVal, buf, map->appCR);
                                   ^
gminval.c
gminval.c(34): warning #188: enumerated type mixed with another type
        CsfGetVarType(minVal, buf, map->appCR);
                                   ^
gputproj.c
gputproj.c(60): warning #188: enumerated type mixed with another type
        return map->main.projection;
               ^

gputproj.c(61): warning #188: enumerated type mixed with another type
  error:        return(MV_UINT2);
                      ^
gvalscal.c
gvalscal.c(43): warning #188: enumerated type mixed with another type
        return(map->raster.valueScale);
              ^
ismv.c(50): warning #188: enumerated type mixed with another type
        return(IsMVcellRepr(map->appCR, cellValue));
                            ^
mclose.c
mclose.c(32): warning #188: enumerated type mixed with another type
      CsfSetVarTypeMV( &(m->raster.minVal), m->raster.cellRepr);
                                            ^

mclose.c(33): warning #188: enumerated type mixed with another type
      CsfSetVarTypeMV( &(m->raster.maxVal), m->raster.cellRepr);

mopen.c
mopen.c(27): warning #188: enumerated type mixed with another type
   return m->fileAccessMode;
          ^
pmaxval.c
pmaxval.c(66): warning #188: enumerated type mixed with another type
        CsfGetVarType(buf, maxVal, map->appCR);

pminval.c
pminval.c(67): warning #188: enumerated type mixed with another type
    CsfGetVarType(buf, minVal, map->appCR);
                               ^
putattr.c
putattr.c(39): warning #188: enumerated type mixed with another type
                        return 0;

putattr.c(91): warning #188: enumerated type mixed with another type
  error:        return(0);      /* failure */
                      ^
putsomec.c
putsomec.c(233): warning #188: enumerated type mixed with another type
        CSF_CR  cr = map->raster.cellRepr;
                     ^
rdup2.c
rdup2.c(44): warning #188: enumerated type mixed with another type
                         from->main.projection,
                         ^
setmv.c
setmv.c(50): warning #188: enumerated type mixed with another type
        SetMVcellRepr(m->appCR, c);
                      ^
ingrtypes.cpp(399): warning #186: pointless comparison of unsigned 
integer with zero
          nOffset < 0 ||
                  ^

ingrtypes.cpp(463): warning #186: pointless comparison of unsigned 
integer withzero
          nOffset < 0 ||
                  ^

ingrtypes.cpp(535): warning #186: pointless comparison of unsigned 
integer with zero
          nOffset < 0 ||
                  ^

gsagdataset.cpp(1168): warning #186: pointless comparison of unsigned 
integer with zero
      if( nShiftStart < 0
                      ^
blx.c
blx.c(371): warning #592: variable "result" is used before its value is set
      return result;
             ^
ecwcreatecopy.cpp(1150): warning #1744: field of class type without a 
DLL interf
ace used in a class with a DLL interface
      GDALECWCompressor oCompressor;
                        ^
mrsidstream.cpp
..\..\port\cpl_vsi_virtual.h(95): warning #1744: field of class type 
without a D
LL interface used in a class with a DLL interface
      std::map<std::string,VSIFilesystemHandler *>   oHandlers;
                                                     ^

D:\programas\GDALsvn\gdal\frmts\netcdf\netcdfdataset.h(173): warning 
#1125: func
tion "GDALDataset::SetProjection(const char *)" is hidden by 
"netCDFDataset::Set
Projection" -- virtual function override intended?
      void  SetProjection( int );
            ^
myutil.c
myutil.c(652): warning #186: pointless comparison of unsigned integer 
with zero
     for (i = len - 1; ((i >= 0) && (isspace (str[i]))); i--) {
                           ^

myutil.c(701): warning #186: pointless comparison of unsigned integer 
with zero
          ((i >= 0) && ((isspace (str[i])) || (str[i] == c))); i--) {
              ^
gdal_grid.cpp
gdal_grid.cpp(362): warning #69: integer conversion resulted in truncation
               || OGR_G_GetGeometryType( hGeom ) == wkbPoint25D )
                                                    ^
ogr2ogr.cpp
ogr2ogr.cpp(165): warning #69: integer conversion resulted in truncation
                  eGType = wkbPoint25D;
                           ^

ogr2ogr.cpp(167): warning #69: integer conversion resulted in truncation
                  eGType = wkbLineString25D;
                           ^

ogr2ogr.cpp(169): warning #69: integer conversion resulted in truncation
                  eGType = wkbPolygon25D;
                           ^

ogr2ogr.cpp(171): warning #69: integer conversion resulted in truncation
                  eGType = wkbGeometryCollection25D;
                           ^

ogr2ogr.cpp(173): warning #69: integer conversion resulted in truncation
                  eGType = wkbMultiPoint25D;
                           ^

ogr2ogr.cpp(175): warning #69: integer conversion resulted in truncation
                  eGType = wkbMultiLineString25D;
                           ^

ogr2ogr.cpp(177): warning #69: integer conversion resulted in truncation
                  eGType = wkbMultiPolygon25D;
From marcello_ferrero at yahoo.com  Mon Mar 31 16:47:47 2008
From: marcello_ferrero at yahoo.com (marcello ferrero)
Date: Mon Mar 31 16:54:32 2008
Subject: [gdal-dev] Compiling GDAL 1.5.1 for WinCE
Message-ID: <297400.14478.qm@web65615.mail.ac4.yahoo.com>

Hi,
I have the following unresolved external errors compiling gdal 1.5.1 for WinCE:
 
ogrgeometry.obj : error LNK2019: unresolved external symbol OGR_G_ExportToKML referenced in function "public: virtual char * __cdecl OGRGeometry::exportToKML(void)const "
ogrgeometry.obj : error LNK2019: unresolved external symbol OGR_G_ExportToJson referenced in function "public: virtual char * __cdecl OGRGeometry::exportToJson(void)const "
dbfopen.obj : error LNK2019: unresolved external symbol SASetupDefaultHooks referenced in function DBFOpen
shpopen.obj : error LNK2001: unresolved external symbol SASetupDefaultHooks
shpopen.obj : error LNK2019: unresolved external symbol snprintf referenced in function SHPReadObject
 
 
I solved the problems doing the following:
a) change ogrgeometry.c and comment out the calls to OGR_G_ExportToKML  and OGR_G_ExportToJson
b) "Add Existing" to add shp_vsi.c to the Visual Studio project in org->ogr_frmts->shape. This resolves SASetupDefaultHooks 
c) add  #include "cpl_port.h" to shapelib.h to resolve snprintf
 
I don't know if this is the right approach, but now the library is correctly created
 
Marcello Ferrero


      ____________________________________________________________________________________
OMG, Sweet deal for Yahoo! users/friends:Get A Month of Blockbuster Total Access, No Cost. W00t 
http://tc.deals.yahoo.com/tc/blockbuster/text2.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080331/a1ebe96f/attachment-0001.html
From szekerest at gmail.com  Mon Mar 31 17:05:15 2008
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon Mar 31 17:05:17 2008
Subject: [gdal-dev] Compiling GDAL 1.5.1 for WinCE
In-Reply-To: <297400.14478.qm@web65615.mail.ac4.yahoo.com>
References: <297400.14478.qm@web65615.mail.ac4.yahoo.com>
Message-ID: <f3b73b7d0803311405x179a7978o61bf47e8df80ec9d@mail.gmail.com>

Marcello,

For the SVN trunk I've already applied a fix just like this:
http://trac.osgeo.org/gdal/changeset/13775

I guess it should be back ported to the 1.5 branch. Would you submit a
ticket for this?

Best regards,

Tamas


2008/3/31, marcello ferrero <marcello_ferrero@yahoo.com>:
>
>
>
>
> Hi,
> I have the following unresolved external errors compiling gdal 1.5.1 for
> WinCE:
>
> ogrgeometry.obj : error LNK2019: unresolved external symbol
> OGR_G_ExportToKML referenced in function "public: virtual char * __cdecl
> OGRGeometry::exportToKML(void)const "
> ogrgeometry.obj : error LNK2019: unresolved external symbol
> OGR_G_ExportToJson referenced in function "public: virtual char * __cdecl
> OGRGeometry::exportToJson(void)const "
> dbfopen.obj : error LNK2019: unresolved external symbol SASetupDefaultHooks
> referenced in function DBFOpen
> shpopen.obj : error LNK2001: unresolved external symbol SASetupDefaultHooks
> shpopen.obj : error LNK2019: unresolved external symbol snprintf referenced
> in function SHPReadObject
>
>
> I solved the problems doing the following:
> a) change ogrgeometry.c and comment out the calls to OGR_G_ExportToKML  and
> OGR_G_ExportToJson
> b) "Add Existing" to add shp_vsi.c to the Visual Studio project in
> org->ogr_frmts->shape. This resolves SASetupDefaultHooks
> c) add  #include "cpl_port.h" to shapelib.h to resolve snprintf
>
> I don't know if this is the right approach, but now the library is correctly
> created
>
> Marcello Ferrero
>
>  ________________________________
> Like movies? Here's a limited-time offer: Blockbuster Total Access for one
> month at no cost.
> _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From gok at aerometric-ak.com  Mon Mar 31 17:29:25 2008
From: gok at aerometric-ak.com (Gennady Khokhorin)
Date: Mon Mar 31 17:30:26 2008
Subject: [gdal-dev] ogrinfo --formats solved + side effect
Message-ID: <3054411AF4728548AD6D7137190D56B30C47B5@admin1.aeromap.com>

Nikos, Ivan,
finally got formats list, have to rebuild with OGR_ENABLED defined.
As a side effect have to change #include "jsonc/json.h"
Othewise:
C1083: Cannot open include file: 'jsonc/json.h': No such file

Thanks for support!
gok

-----Original Message-----
From: Nikos Alexandris [mailto:nikos.alexandris@felis.uni-freiburg.de] 
Sent: Monday, March 31, 2008 11:46 AM
To: Gennady Khokhorin
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] ogrinfo --formats


On Mon, 2008-03-31 at 11:40 -0800, Gennady Khokhorin wrote:
> Hello, gdal Developers!
Hi, although I am only a simple end-user!


> Wonder if is it possible to list OGR supported formats as gdalinfo
> doing:
> gdal --formats
> 
> Thanks!

ogrinfo --formats

Cheers,

Nikos

From marcello_ferrero at yahoo.com  Mon Mar 31 17:49:42 2008
From: marcello_ferrero at yahoo.com (marcello ferrero)
Date: Mon Mar 31 17:49:46 2008
Subject: [gdal-dev] Compiling GDAL 1.5.1 for WinCE
Message-ID: <185113.83257.qm@web65612.mail.ac4.yahoo.com>

Sure.
Consider that in addition to the two problems you already fixed in 1375, there is a new fix for 1.5.1 to apply due to the use of snprintf in shpopen.c that I fixed adding  #include "cpl_port.h" to shapelib.h.

Regards,
Marcello

----- Original Message ----
From: Tamas Szekeres <szekerest@gmail.com>
To: marcello ferrero <marcello_ferrero@yahoo.com>
Cc: gdal-dev@lists.osgeo.org
Sent: Monday, March 31, 2008 11:05:15 PM
Subject: Re: [gdal-dev] Compiling GDAL 1.5.1 for WinCE

Marcello,

For the SVN trunk I've already applied a fix just like this:
http://trac.osgeo.org/gdal/changeset/13775

I guess it should be back ported to the 1.5 branch. Would you submit a
ticket for this?

Best regards,

Tamas


2008/3/31, marcello ferrero <marcello_ferrero@yahoo.com>:
>
>
>
>
> Hi,
> I have the following unresolved external errors compiling gdal 1.5.1 for
> WinCE:
>
> ogrgeometry.obj : error LNK2019: unresolved external symbol
> OGR_G_ExportToKML referenced in function "public: virtual char * __cdecl
> OGRGeometry::exportToKML(void)const "
> ogrgeometry.obj : error LNK2019: unresolved external symbol
> OGR_G_ExportToJson referenced in function "public: virtual char * __cdecl
> OGRGeometry::exportToJson(void)const "
> dbfopen.obj : error LNK2019: unresolved external symbol SASetupDefaultHooks
> referenced in function DBFOpen
> shpopen.obj : error LNK2001: unresolved external symbol SASetupDefaultHooks
> shpopen.obj : error LNK2019: unresolved external symbol snprintf referenced
> in function SHPReadObject
>
>
> I solved the problems doing the following:
> a) change ogrgeometry.c and comment out the calls to OGR_G_ExportToKML  and
> OGR_G_ExportToJson
> b) "Add Existing" to add shp_vsi.c to the Visual Studio project in
> org->ogr_frmts->shape. This resolves SASetupDefaultHooks
> c) add  #include "cpl_port.h" to shapelib.h to resolve snprintf
>
> I don't know if this is the right approach, but now the library is correctly
> created
>
> Marcello Ferrero
>
>  ________________________________
> Like movies? Here's a limited-time offer: Blockbuster Total Access for one
> month at no cost.
> _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


      ____________________________________________________________________________________
OMG, Sweet deal for Yahoo! users/friends:Get A Month of Blockbuster Total Access, No Cost. W00t 
http://tc.deals.yahoo.com/tc/blockbuster/text2.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080331/3cc0e387/attachment.html
From mateusz at loskot.net  Mon Mar 31 19:13:23 2008
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon Mar 31 19:13:25 2008
Subject: [gdal-dev] Compiling GDAL 1.5.1 for WinCE
In-Reply-To: <297400.14478.qm@web65615.mail.ac4.yahoo.com>
References: <297400.14478.qm@web65615.mail.ac4.yahoo.com>
Message-ID: <52763.84.10.81.243.1207005203.squirrel@loskot.net>


marcello ferrero napisa?(a):
> Hi,
> I have the following unresolved external errors compiling gdal 1.5.1 for
> WinCE:
>
> ogrgeometry.obj : error LNK2019: unresolved external symbol
> OGR_G_ExportToKML referenced in function "public: virtual char * __cdecl
> OGRGeometry::exportToKML(void)const "
> ogrgeometry.obj : error LNK2019: unresolved external symbol
> OGR_G_ExportToJson referenced in function "public: virtual char * __cdecl
> OGRGeometry::exportToJson(void)const "
> dbfopen.obj : error LNK2019: unresolved external symbol
> SASetupDefaultHooks referenced in function DBFOpen
> shpopen.obj : error LNK2001: unresolved external symbol
> SASetupDefaultHooks
> shpopen.obj : error LNK2019: unresolved external symbol snprintf
> referenced in function SHPReadObject
>
>
> I solved the problems doing the following:
> a) change ogrgeometry.c and comment out the calls to OGR_G_ExportToKML
> and OGR_G_ExportToJson
> b) "Add Existing" to add shp_vsi.c to the Visual Studio project in
> org->ogr_frmts->shape. This resolves SASetupDefaultHooks
> c) add  #include "cpl_port.h" to shapelib.h to resolve snprintf
>
> I don't know if this is the right approach, but now the library is
> correctly created

Marcello,

Yes, these changes are correct except the c) point.
Simply, define preprocessor macro USE_CPL somewhere in the project and
then CPL headers will be included, see

http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/shape/shapefil.h#L105

AFAIK, I've written off-list that I recommend you to build GDAL for
Windows CE using solution and project files from the MOSS4G tree as that
one is complete with 3rd party dependencies and up to date:

http://trac.osgeo.org/moss4g/browser/trunk/libs

Project files in the GDAL tree may need some update like the one you've made.

Greetings
-- 
Mateusz Loskot
http://mateusz.loskot.net

From mtj.ashbridge at gmail.com  Mon Mar 31 20:05:12 2008
From: mtj.ashbridge at gmail.com (Michael Ashbridge)
Date: Mon Mar 31 20:05:19 2008
Subject: [gdal-dev] KMZ Support in OGR?
In-Reply-To: <4BB41EFE-FF53-11DC-8E7C-000A277A733C@light42.com>
References: <47ED18CE.10801@perkins.net>
	<ABD91341-FD52-11DC-8E7C-000A277A733C@light42.com>
	<47EE4773.5020700@perkins.net>
	<71FBBC10-FDB5-11DC-8E7C-000A277A733C@light42.com>
	<47EE958A.9060807@perkins.net>
	<845AADAC1106E44996327D62097E4C6BFF0709@et.ad.sdsc.edu>
	<47EEAAE9.8020706@perkins.net>
	<ETzPZrIkyPzGNsokLQ8000000ce@et.ad.sdsc.edu>
	<1ed805e50803302358s7223e936o930677ec7ebd7db3@mail.gmail.com>
	<4BB41EFE-FF53-11DC-8E7C-000A277A733C@light42.com>
Message-ID: <1ed805e50803311705r5d323a66pbaab2ebb057dbccb@mail.gmail.com>

>  Chris Schmidt rightly pointed out that it would be immediately useful
>  is there was simply a way to get "all the Placemarks" from a KML. that
>  flat result, with just geometry, maps pretty much to what OGR really is
>  right now IMHO

I just checked in some example code that should get you 95% of the way there:

http://code.google.com/p/libkml/source/detail?r=30
From halligan.kerry at gmail.com  Mon Mar 31 20:11:24 2008
From: halligan.kerry at gmail.com (Kerry Halligan)
Date: Mon Mar 31 20:11:26 2008
Subject: [gdal-dev] GDAL C# bindings and TIFF read projection trouble
Message-ID: <63c145660803311711icbc6ae4l381d45d3b25c8896@mail.gmail.com>

Can anyone help me out with problems reading the correct projection
information from a TIFF image?

I am using GDAL C# bindings from FWTools (1.3.9) and am getting unexpected
results for projection information of TIFF files.  If I use the gdalinfo
utility I get the correct information, but if I use the gdal_csharp bindings
I get "unnamed" as the projection.  This is causing difficulty when
comparing projections before processing multiple files.  I am assuming this
is a data and/or operator error, rather than a bug, but can anyone tell me
what I might be doing wrong?  I also tried this with the most recent version
of FWTools and received the same results.

Sample outputs are listed below:

*gdalinfo results:*

C:\Program Files\FWTools1.3.9>gdalinfo
E:\Imagery\ortho\drcog\3130375_1610645.tif
Driver: GTiff/GeoTIFF
Files: E:\Imagery\ortho\drcog\3130375_1610645.tif
Size is 5000, 5000
Coordinate System is:
PROJCS["NAD83 / Colorado Central",
    GEOGCS["NAD83",
        DATUM["North_American_Datum_1983",
            SPHEROID["GRS 1980",6378137,298.2572221010002,
                AUTHORITY["EPSG","7019"]],
            AUTHORITY["EPSG","6269"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4269"]],
    PROJECTION["Lambert_Conformal_Conic_2SP"],
    PARAMETER["standard_parallel_1",39.75],
    PARAMETER["standard_parallel_2",38.45],
    PARAMETER["latitude_of_origin",37.83333333333334],
    PARAMETER["central_meridian",-105.5],
    PARAMETER["false_easting",3000000.000316083],
    PARAMETER["false_northing",999999.999996],
    UNIT["US survey foot",0.3048006096012192,
        AUTHORITY["EPSG","9003"]],
    AUTHORITY["EPSG","26954"]]
Origin = (3130375.000000000000000,1615645.000000000000000)
Pixel Size = (1.000000000000000,-1.000000000000000)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_SOFTWARE=Adobe Photoshop 7.0
  TIFFTAG_DATETIME=2006:10:27 09:33:52
  TIFFTAG_XRESOLUTION=72
  TIFFTAG_YRESOLUTION=72
  TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
Corner Coordinates:
Upper Left  ( 3130375.000, 1615645.000) (105d 2'16.18"W, 39d31'22.13"N)
Lower Left  ( 3130375.000, 1610645.000) (105d 2'16.50"W, 39d30'32.71"N)
Upper Right ( 3135375.000, 1615645.000) (105d 1'12.37"W, 39d31'21.87"N)
Lower Right ( 3135375.000, 1610645.000) (105d 1'12.71"W, 39d30'32.45"N)
Center      ( 3132875.000, 1613145.000) (105d 1'44.44"W, 39d30'57.29"N)
Band 1 Block=5000x1 Type=Byte, ColorInterp=Red
Band 2 Block=5000x1 Type=Byte, ColorInterp=Green
Band 3 Block=5000x1 Type=Byte, ColorInterp=Blue

*csharp code:

Gdal.AllRegister();
Dataset ds = Gdal.Open(infile, Access.GA_ReadOnly);
// get the projection
string proj = ds.GetProjection();

printing 'proj' produces:
*
"PROJCS[\"unnamed\",GEOGCS[\"NAD83\",DATUM[\"North_American_Datum_1983\",SPHEROID[\"GRS
1980\",6378137,298.2572221010002
,AUTHORITY[\"EPSG\",\"7019\"]],AUTHORITY[\"EPSG\",\"6269\"]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",
0.0174532925199433],AUTHORITY[\"EPSG\",\"4269\"]],UNIT[\"US survey foot\",
0.3048006096012192
,AUTHORITY[\"EPSG\",\"9003\"]],AUTHORITY[\"EPSG\",\"26954\"]]"
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20080331/3578673d/attachment-0001.html
