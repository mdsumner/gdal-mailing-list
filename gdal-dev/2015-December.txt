From gane.prog at gmail.com  Tue Dec  1 02:27:19 2015
From: gane.prog at gmail.com (Gane R)
Date: Tue, 1 Dec 2015 15:57:19 +0530
Subject: [gdal-dev] Question: Creating overviews
Message-ID: <CALMrLdBigtYAwk4Jg9pQcb=rOVYbm0oX7KRNxhGPbZiUquNWSw@mail.gmail.com>

I have a proper GeoTIF with geotransform and I tried to create overlays for
it. The API returned no error, but the created overlay did not had
geotranform

Any ideas

Thanks
Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151201/1403a992/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Tue Dec  1 04:47:44 2015
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Tue, 1 Dec 2015 12:47:44 +0000
Subject: [gdal-dev] Question: Creating overviews
Message-ID: <ffab10bee6d845ad9051d11122eba16b@C119S212VM022.msvyvi.vaha.local>

Hi,

That is normal. Overviews are kind of support files for the main image and geotransform can be stolen from there. With internal overviews in TIFF that's also the only possibility. If you need standalone downsampled images create them with gdal_translate or gdalwarp.

-Jukka Rahkonen-

Gane R wrote:
> I have a proper GeoTIF with geotransform and I tried to create overlays for it. The API returned no error, but the created overlay did not had geotranform

> Any ideas

> Thanks
> Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151201/adc617cb/attachment.html>

From ari.jolma at gmail.com  Tue Dec  1 06:54:12 2015
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 1 Dec 2015 16:54:12 +0200
Subject: [gdal-dev] Changing default value for GDAL_CACHEMAX ? (was Re:
 Slow warping)
In-Reply-To: <201511281613.55336.even.rouault@spatialys.com>
References: <56584549.1080306@gmail.com>
 <201511271310.19049.even.rouault@spatialys.com> <56584FF6.2020707@gmail.com>
 <201511281613.55336.even.rouault@spatialys.com>
Message-ID: <565DB494.5020302@gmail.com>

28.11.2015, 17:13, Even Rouault kirjoitti:
> Le vendredi 27 novembre 2015 13:43:34, Ari Jolma a écrit :
>> 27.11.2015, 14:10, Even Rouault kirjoitti:
>>> Try setting GDAL_CACHEMAX to 150 (6048 * 4032 * 3 = 73 MB. and a x 2
>>> security margin)
>> This reduces the time into 4 s.
>>
>> Quite a bit reduction from several hours.
>>
>> Maybe the default is too low? 150 MB does not seem much.
> Setting the default is not obvious because it depends on use cases and
> hardware configurations. What if people run 100 gdal_translate in parallel ?
> (not very common use cases admidetely, and people can still override the
> default)
>
> Perhaps rather than a fixed value, a percentage of the total RAM would be more
> appropriate (*). Let's say 5% ?
> 2 GB (which is the max for a 32 bit process) -> 100 MB
> 4 GB -> 200 MB
> 16 GB -> 800 MB.
>
> We could also accept a GDAL_CACHEMAX=X% syntax

I that possible? The amount of memory available to a program seems a 
fuzzy topic.

Ari

>
> Even
>
> (*) the ECW SDK does that for its own purposes, with a 25% default AFAIR
>


From even.rouault at spatialys.com  Tue Dec  1 07:51:33 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 1 Dec 2015 16:51:33 +0100
Subject: [gdal-dev] Changing default value for GDAL_CACHEMAX ? (was Re:
	Slow warping)
In-Reply-To: <565DB494.5020302@gmail.com>
References: <56584549.1080306@gmail.com>
 <201511281613.55336.even.rouault@spatialys.com> <565DB494.5020302@gmail.com>
Message-ID: <201512011651.33752.even.rouault@spatialys.com>

Le mardi 01 décembre 2015 15:54:12, Ari Jolma a écrit :
> 28.11.2015, 17:13, Even Rouault kirjoitti:
> > Le vendredi 27 novembre 2015 13:43:34, Ari Jolma a écrit :
> >> 27.11.2015, 14:10, Even Rouault kirjoitti:
> >>> Try setting GDAL_CACHEMAX to 150 (6048 * 4032 * 3 = 73 MB. and a x 2
> >>> security margin)
> >> 
> >> This reduces the time into 4 s.
> >> 
> >> Quite a bit reduction from several hours.
> >> 
> >> Maybe the default is too low? 150 MB does not seem much.
> > 
> > Setting the default is not obvious because it depends on use cases and
> > hardware configurations. What if people run 100 gdal_translate in
> > parallel ? (not very common use cases admidetely, and people can still
> > override the default)
> > 
> > Perhaps rather than a fixed value, a percentage of the total RAM would be
> > more appropriate (*). Let's say 5% ?
> > 2 GB (which is the max for a 32 bit process) -> 100 MB
> > 4 GB -> 200 MB
> > 16 GB -> 800 MB.
> > 
> > We could also accept a GDAL_CACHEMAX=X% syntax
> 
> I that possible? The amount of memory available to a program seems a
> fuzzy topic.

/** Return the total physical RAM, usable by a process, in bytes.
 *
 * This is the same as CPLGetPhysicalRAM() except it will limit to 2 GB
 * for 32 bit processes.
 *
 * Note: This memory may already be partly used by other processes.
 *
 * @return the total physical RAM, usable by a process, in bytes (or 0 in case 
of failure).
 * @since GDAL 2.0
 */
GIntBig  CPLGetUsablePhysicalRAM(void)


> 
> Ari
> 
> > Even
> > 
> > (*) the ECW SDK does that for its own purposes, with a 25% default AFAIR

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jgrn at illinois.edu  Tue Dec  1 11:34:10 2015
From: jgrn at illinois.edu (Jonathan Greenberg)
Date: Tue, 01 Dec 2015 19:34:10 +0000
Subject: [gdal-dev] Requesting new driver?
Message-ID: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>

GDAL Developers:

How do I go about requesting a new driver?  R's "raster" format is a pretty
straightforward flat binary/header format (very similar to ENVI's).  The
specifications are laid out in:

https://cran.r-project.org/web/packages/raster/vignettes/rasterfile.pdf

I think this would be a nice addition, to allow more fluid work between R
and the various gdal utilities.

I'm cc'ing the developer of the format on this email, as an FYI.  Cheers!

--jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151201/ba49c0e5/attachment.html>

From even.rouault at spatialys.com  Tue Dec  1 11:40:22 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 1 Dec 2015 20:40:22 +0100
Subject: [gdal-dev] Requesting new driver?
In-Reply-To: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>
References: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>
Message-ID: <201512012040.22629.even.rouault@spatialys.com>

Le mardi 01 décembre 2015 20:34:10, Jonathan Greenberg a écrit :
> GDAL Developers:
> 
> How do I go about requesting a new driver?  R's "raster" format is a pretty
> straightforward flat binary/header format (very similar to ENVI's).  The
> specifications are laid out in:
> 
> https://cran.r-project.org/web/packages/raster/vignettes/rasterfile.pdf
> 
> I think this would be a nice addition, to allow more fluid work between R
> and the various gdal utilities.
> 
> I'm cc'ing the developer of the format on this email, as an FYI.  Cheers!

Isn't it the format already handled by the R driver ?
See http://www.gdal.org/frmt_r.html

> 
> --jonathan

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jgrn at illinois.edu  Tue Dec  1 11:47:58 2015
From: jgrn at illinois.edu (Jonathan Greenberg)
Date: Tue, 01 Dec 2015 19:47:58 +0000
Subject: [gdal-dev] Requesting new driver?
In-Reply-To: <201512012040.22629.even.rouault@spatialys.com>
References: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>
 <201512012040.22629.even.rouault@spatialys.com>
Message-ID: <CABG0rftMT=k_tGOWZ_BSKpB6aiMidsqdVC-wbQfzq8-Mpz0YFQ@mail.gmail.com>

Even, unfortunately no, this isn't the same.  That is basically a saved
array, but we have an advanced geospatial raster format that has become the
standard almost R geospatial packages.  It supports all the major things a
geospatial raster should support, including georeferencing, pixel sizes,
etc.

J

On Tue, Dec 1, 2015, 1:40 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Le mardi 01 décembre 2015 20:34:10, Jonathan Greenberg a écrit :
> > GDAL Developers:
> >
> > How do I go about requesting a new driver?  R's "raster" format is a
> pretty
> > straightforward flat binary/header format (very similar to ENVI's).  The
> > specifications are laid out in:
> >
> > https://cran.r-project.org/web/packages/raster/vignettes/rasterfile.pdf
> >
> > I think this would be a nice addition, to allow more fluid work between R
> > and the various gdal utilities.
> >
> > I'm cc'ing the developer of the format on this email, as an FYI.  Cheers!
>
> Isn't it the format already handled by the R driver ?
> See http://www.gdal.org/frmt_r.html
>
> >
> > --jonathan
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151201/fe702cf9/attachment-0001.html>

From even.rouault at spatialys.com  Tue Dec  1 12:23:45 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 1 Dec 2015 21:23:45 +0100
Subject: [gdal-dev] Requesting new driver?
In-Reply-To: <CABG0rftMT=k_tGOWZ_BSKpB6aiMidsqdVC-wbQfzq8-Mpz0YFQ@mail.gmail.com>
References: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>
 <201512012040.22629.even.rouault@spatialys.com>
 <CABG0rftMT=k_tGOWZ_BSKpB6aiMidsqdVC-wbQfzq8-Mpz0YFQ@mail.gmail.com>
Message-ID: <201512012123.46025.even.rouault@spatialys.com>

Le mardi 01 décembre 2015 20:47:58, Jonathan Greenberg a écrit :
> Even, unfortunately no, this isn't the same.  That is basically a saved
> array, but we have an advanced geospatial raster format that has become the
> standard almost R geospatial packages.  It supports all the major things a
> geospatial raster should support, including georeferencing, pixel sizes,
> etc.

There's an error in the spec : "byteorder is optional but recommended. It 
should be either 'big' (linux) or 'little' (windows)".
This doesn't make sense. byteorder is related to CPU working, not operating 
system. Linux x86/x86_64 systems are little endian, like Windows. Sometimes 
little is described as Intel order and big as Motorola order.

> 
> J
> 
> On Tue, Dec 1, 2015, 1:40 PM Even Rouault <even.rouault at spatialys.com>
> 
> wrote:
> > Le mardi 01 décembre 2015 20:34:10, Jonathan Greenberg a écrit :
> > > GDAL Developers:
> > > 
> > > How do I go about requesting a new driver?  R's "raster" format is a
> > 
> > pretty
> > 
> > > straightforward flat binary/header format (very similar to ENVI's). 
> > > The specifications are laid out in:
> > > 
> > > https://cran.r-project.org/web/packages/raster/vignettes/rasterfile.pdf
> > > 
> > > I think this would be a nice addition, to allow more fluid work between
> > > R and the various gdal utilities.
> > > 
> > > I'm cc'ing the developer of the format on this email, as an FYI. 
> > > Cheers!
> > 
> > Isn't it the format already handled by the R driver ?
> > See http://www.gdal.org/frmt_r.html
> > 
> > > --jonathan
> > 
> > --
> > Spatialys - Geospatial professional services
> > http://www.spatialys.com

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From its.the.doc at gmail.com  Tue Dec  1 14:07:16 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Tue, 01 Dec 2015 22:07:16 +0000
Subject: [gdal-dev] AccessViolation Error
In-Reply-To: <CALVfKe8Peo6u3_Ybkw2RyMN1VFWmN5tnkzi7XsXkMJ9cinDmCQ@mail.gmail.com>
References: <CALVfKe8Peo6u3_Ybkw2RyMN1VFWmN5tnkzi7XsXkMJ9cinDmCQ@mail.gmail.com>
Message-ID: <CALVfKe_aD7i+ug41CxcXSnq5yuN8Wb3O9p47GeXdRO14BVz3Tw@mail.gmail.com>

I've opened up the following ticket https://trac.osgeo.org/gdal/ticket/6250

I've also downloaded the latest development binaries and tried those as
well and I get the same result.

I'm in #gdal on irc as kellyelton
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151201/3bb3bb9a/attachment.html>

From mdsumner at gmail.com  Tue Dec  1 18:21:24 2015
From: mdsumner at gmail.com (Michael Sumner)
Date: Wed, 02 Dec 2015 02:21:24 +0000
Subject: [gdal-dev] Requesting new driver?
In-Reply-To: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>
References: <CABG0rftNsnPjhT0Qv7ehh+dOQMPcm1=s+fydcaYw6M+cUtA5_A@mail.gmail.com>
Message-ID: <CAAcGz98DHfLyuT9YkQmCKCspBvVFvuN-zfBKZCTKw6NqVx3dwQ@mail.gmail.com>

On Wed, 2 Dec 2015 at 06:34 Jonathan Greenberg <jgrn at illinois.edu> wrote:

> GDAL Developers:
>
> How do I go about requesting a new driver?  R's "raster" format is a
> pretty straightforward flat binary/header format (very similar to ENVI's).
> The specifications are laid out in:
>
> https://cran.r-project.org/web/packages/raster/vignettes/rasterfile.pdf
>
>


Hi Jonathan, FWIW, you can already do this via VRT. Can I suggest you flesh
out examples using the hdr() pathway?

library(raster)
## example basic raster from matrix
r <- raster(volcano)
## two layers (bands), out to native grd/gri format
b <- writeRaster(brick(r, r/2), "b.grd")

## round trip to VRT on the .gri binary
## and read in with rgdal
v <- hdr(b, "VRT")
if (v) {
library(rgdal)
summary(readGDAL("b.vrt"))
}
b.vrt has GDAL driver VRT
and has 87 rows and 61 columns
Object of class SpatialGridDataFrame
Coordinates:
      min       max
x 0.0e+00 0.9999998
y 2.5e-07 1.0000000
Is projected: NA
proj4string : [NA]
Grid attributes:
...

I know this only complicates the issue in some ways - since it won't work
for a lot of existing grd/gri files out there, but also does provide a
workaround as well as a neat way to build test cases.

Cheers, Mike.


I think this would be a nice addition, to allow more fluid work between R
> and the various gdal utilities.
>
> I'm cc'ing the developer of the format on this email, as an FYI.  Cheers!
>
> --jonathan
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151202/344492e2/attachment.html>

From mateusz at loskot.net  Wed Dec  2 14:04:42 2015
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 2 Dec 2015 23:04:42 +0100
Subject: [gdal-dev] Motion: Commit access to David Adler
Message-ID: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>

Motion: Committer Status for David Adler
---

Dear PSC,

David is preparing contribution of new OGR driver for DB2 [1].
I would like to propose motion to grant the SVN commit access to David Adler.
This will help David to support any new features or changes
and allow 'streamline' maintenance of the DB2 driver.
David has demonstrated necessary knowledge of GDAL/OGR code base,
despite the new driver currently targets Windows platform, he is willing to
continue development and support targeting Linux as well.

David is a very experienced developer, specialised in IBM DB2 technologies.
I have met David in person some time ago.

I'm not a PSC member, but in this particular case I feel eligible to start
voting with symbolic +1.


David,
Please, could you answer to this very message and state that you have
read and agreed to the committer guidelines as outlined in the RFC3 [2].


[1] https://trac.osgeo.org/gdal/ticket/6191
[2] http://trac.osgeo.org/gdal/wiki/rfc3_commiters

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From warmerdam at pobox.com  Wed Dec  2 22:48:44 2015
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 3 Dec 2015 01:48:44 -0500
Subject: [gdal-dev] Motion: Commit access to David Adler
In-Reply-To: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
References: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
Message-ID: <CA+YzLBeVjje7Tf90N-A_F4CiOkjx1_7e1EQWvxqhFgHcLa6FdA@mail.gmail.com>

+1 Frank

I've spoken (emailed) with David a few times over the years, and I
would be pleased to have him taking direct care of the DB2 driver, and
potentially helping on other aspects of GDAL assuming the usual
agreement to the committer guidelines.

Best regards,
Frank


On Wed, Dec 2, 2015 at 5:04 PM, Mateusz Loskot <mateusz at loskot.net> wrote:
> Motion: Committer Status for David Adler
> ---
>
> Dear PSC,
>
> David is preparing contribution of new OGR driver for DB2 [1].
> I would like to propose motion to grant the SVN commit access to David Adler.
> This will help David to support any new features or changes
> and allow 'streamline' maintenance of the DB2 driver.
> David has demonstrated necessary knowledge of GDAL/OGR code base,
> despite the new driver currently targets Windows platform, he is willing to
> continue development and support targeting Linux as well.
>
> David is a very experienced developer, specialised in IBM DB2 technologies.
> I have met David in person some time ago.
>
> I'm not a PSC member, but in this particular case I feel eligible to start
> voting with symbolic +1.
>
>
> David,
> Please, could you answer to this very message and state that you have
> read and agreed to the committer guidelines as outlined in the RFC3 [2].
>
>
> [1] https://trac.osgeo.org/gdal/ticket/6191
> [2] http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From even.rouault at spatialys.com  Thu Dec  3 00:44:41 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 3 Dec 2015 09:44:41 +0100
Subject: [gdal-dev] Motion: Commit access to David Adler
In-Reply-To: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
References: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
Message-ID: <201512030944.41947.even.rouault@spatialys.com>

Le mercredi 02 décembre 2015 23:04:42, Mateusz Loskot a écrit :
> Motion: Committer Status for David Adler

+1

> ---
> 
> Dear PSC,
> 
> David is preparing contribution of new OGR driver for DB2 [1].
> I would like to propose motion to grant the SVN commit access to David
> Adler. This will help David to support any new features or changes
> and allow 'streamline' maintenance of the DB2 driver.
> David has demonstrated necessary knowledge of GDAL/OGR code base,
> despite the new driver currently targets Windows platform, he is willing to
> continue development and support targeting Linux as well.
> 
> David is a very experienced developer, specialised in IBM DB2 technologies.
> I have met David in person some time ago.
> 
> I'm not a PSC member, but in this particular case I feel eligible to start
> voting with symbolic +1.
> 
> 
> David,
> Please, could you answer to this very message and state that you have
> read and agreed to the committer guidelines as outlined in the RFC3 [2].
> 
> 
> [1] https://trac.osgeo.org/gdal/ticket/6191
> [2] http://trac.osgeo.org/gdal/wiki/rfc3_commiters
> 
> Best regards,

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From dmorissette at mapgears.com  Thu Dec  3 07:02:02 2015
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Thu, 3 Dec 2015 10:02:02 -0500
Subject: [gdal-dev] Motion: Commit access to David Adler
In-Reply-To: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
References: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
Message-ID: <5660596A.2060204@mapgears.com>

+1

Daniel

On 2015-12-02 5:04 PM, Mateusz Loskot wrote:
> Motion: Committer Status for David Adler
> ---
>
> Dear PSC,
>
> David is preparing contribution of new OGR driver for DB2 [1].
> I would like to propose motion to grant the SVN commit access to David Adler.
> This will help David to support any new features or changes
> and allow 'streamline' maintenance of the DB2 driver.
> David has demonstrated necessary knowledge of GDAL/OGR code base,
> despite the new driver currently targets Windows platform, he is willing to
> continue development and support targeting Linux as well.
>
> David is a very experienced developer, specialised in IBM DB2 technologies.
> I have met David in person some time ago.
>
> I'm not a PSC member, but in this particular case I feel eligible to start
> voting with symbolic +1.
>
>
> David,
> Please, could you answer to this very message and state that you have
> read and agreed to the committer guidelines as outlined in the RFC3 [2].
>
>
> [1] https://trac.osgeo.org/gdal/ticket/6191
> [2] http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
>


-- 
Daniel Morissette
http://www.mapgears.com/
T: +1 418-696-5056 #201

http://evouala.com/ - Location Intelligence Made Easy

From szekerest at gmail.com  Thu Dec  3 12:12:58 2015
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu, 3 Dec 2015 21:12:58 +0100
Subject: [gdal-dev] Motion: Commit access to David Adler
In-Reply-To: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
References: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
Message-ID: <CACALY+ST5nruUURhtzaviwuPeC7r2AAEzVyHLugNywTKfnhA=w@mail.gmail.com>

+1

Tamas


2015-12-02 23:04 GMT+01:00 Mateusz Loskot <mateusz at loskot.net>:

> Motion: Committer Status for David Adler
> ---
>
> Dear PSC,
>
> David is preparing contribution of new OGR driver for DB2 [1].
> I would like to propose motion to grant the SVN commit access to David
> Adler.
> This will help David to support any new features or changes
> and allow 'streamline' maintenance of the DB2 driver.
> David has demonstrated necessary knowledge of GDAL/OGR code base,
> despite the new driver currently targets Windows platform, he is willing to
> continue development and support targeting Linux as well.
>
> David is a very experienced developer, specialised in IBM DB2 technologies.
> I have met David in person some time ago.
>
> I'm not a PSC member, but in this particular case I feel eligible to start
> voting with symbolic +1.
>
>
> David,
> Please, could you answer to this very message and state that you have
> read and agreed to the committer guidelines as outlined in the RFC3 [2].
>
>
> [1] https://trac.osgeo.org/gdal/ticket/6191
> [2] http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151203/3119b839/attachment.html>

From dadler at adtechgeospatial.com  Thu Dec  3 13:37:02 2015
From: dadler at adtechgeospatial.com (David Adler)
Date: Thu, 3 Dec 2015 16:37:02 -0500
Subject: [gdal-dev] Motion: Commit access to David Adler
Message-ID: <5660B5FE.1080104@adtechgeospatial.com>

Dear PSC,

I have read and agree to the committer guidelines as outlined in the 
RFC3 [2].

I look forward to being a contributor to GDAL.

Regards,
David


---
This email has been checked for viruses by Avast antivirus software.
https://www.avast.com/antivirus


From jukka.rahkonen at maanmittauslaitos.fi  Thu Dec  3 23:15:25 2015
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Fri, 4 Dec 2015 07:15:25 +0000
Subject: [gdal-dev] Motion: Commit access to David Adler
Message-ID: <e61171f735c54b67aa0e452ad5189a78@C119S212VM022.msvyvi.vaha.local>

+1

-Jukka Rahkonen-

Mateusz Loskot wrote:

Motion: Committer Status for David Adler
---

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151204/e619a119/attachment.html>

From martin.icking at bentley.com  Fri Dec  4 01:02:22 2015
From: martin.icking at bentley.com (Martin Icking)
Date: Fri, 4 Dec 2015 01:02:22 -0800 (PST)
Subject: [gdal-dev] Insert data into MSSQL layer fails with OGR version 2.x
Message-ID: <1449219742303-5239986.post@n6.nabble.com>

Tried to copy data from a shapefile into an MSSQL layer with ogr2ogr using
the following command:

ogr2ogr -f MSSQLSpatial MSSQL:server=.;database=SpatialTest -overwrite
mydata.shp

this works fine with OGR version 1.11.x but using the newest version 2.0.1

nothing gets inserted and I get the following error message:

ERROR 1: INSERT command for new feature failed.
ERROR 1: Unable to write feature 0 from layer mydata.

ERROR 1: Terminating translation prematurely after failed
translation of layer mydata (use -skipfailures to skip errors)

Do I need additional options to successfully use MSSQL as a target in
version 2.0.1?
Tx
Martin



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Insert-data-into-MSSQL-layer-fails-with-OGR-version-2-x-tp5239986.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From cavallini at faunalia.it  Fri Dec  4 05:08:40 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 4 Dec 2015 14:08:40 +0100
Subject: [gdal-dev] OGR SQL and lother dialects?
Message-ID: <56619058.5040800@faunalia.it>

Hi all,
apparently the OGR SQL dialect is different from others:
https://hub.qgis.org/issues/7380
Any hope to bring them to common ground?
Thanks.
-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From even.rouault at spatialys.com  Fri Dec  4 05:29:47 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 4 Dec 2015 14:29:47 +0100
Subject: [gdal-dev] OGR SQL and lother dialects?
In-Reply-To: <56619058.5040800@faunalia.it>
References: <56619058.5040800@faunalia.it>
Message-ID: <201512041429.48168.even.rouault@spatialys.com>

Le vendredi 04 décembre 2015 14:08:40, Paolo Cavallini a écrit :
> Hi all,
> apparently the OGR SQL dialect is different from others:
> https://hub.qgis.org/issues/7380
> Any hope to bring them to common ground?

Hi Paolo,

I believe x = NULL is an extension of the SQL standard that may
be supported or not by the various SQL engines.
AFAIK, the SQL 92 standard only accepts the "x IS NULL" syntax.

From my tests:

- SQLite rejects "x = NULL" syntax.
- OGR SQL accepts it (does not error on it), but it's more in the
unspecified behaviour category and apparently doesn't behave like x IS NULL.
I guess this must be evaluated like x = '' internally.
- PostgreSQL accepts it, but the behaviour may be unspecified too.
And it seems that it behaves like OGR SQL, ie it doesn't select fields
with NULL values.
Actually looking at http://www.postgresql.org/docs/9.1/static/functions-comparison.html :

""" Do not write expression = NULL because NULL is not "equal to" NULL.
(The null value represents an unknown value, and it is not known whether
two unknown values are equal.) This behavior conforms to the SQL standard. 
Tip: Some applications might expect that expression = NULL returns true if
expression evaluates to the null value. It is highly recommended that these
applications be modified to comply with the SQL standard. 
"""
- MySQL seems to behave like PostgreSQL/OGR SQL

So it looks very much like "x = NULL" is not "normal" SQL at all.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From a.furieri at lqt.it  Fri Dec  4 05:52:39 2015
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Fri, 04 Dec 2015 14:52:39 +0100
Subject: [gdal-dev] =?utf-8?q?OGR_SQL_and_lother_dialects=3F?=
In-Reply-To: <201512041429.48168.even.rouault@spatialys.com>
References: <56619058.5040800@faunalia.it>
 <201512041429.48168.even.rouault@spatialys.com>
Message-ID: <b0d82a521ddc8106d05be05c1e868bf4@lqt.it>

On Fri, 4 Dec 2015 14:29:47 +0100, Even Rouault wrote:
> So it looks very much like "x = NULL" is not "normal" SQL at all.
>

just a may be useful comment about this topic

accordingly to SQL standard syntax rules NULL should never be
confused with any other ordinary value; it's instead a special
marker denoting the absolute _absence_ of any value.
and consistently with this convention, any SQL operation or
comparison including a NULL term _should_ always return a
NULL result.

so an expression like "x = NULL" in pure SQL terms is just
a meaningless nonsense, because it will always evaluate to
a NULL constant.
the unique possible mechanism supported by standard SQL
allowing to check for NULL values is by using the special
comparison operators "x IS NULL" or "x IS NOT NULL"

bye Sandro

From jef at norbit.de  Fri Dec  4 08:04:12 2015
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Fri, 4 Dec 2015 17:04:12 +0100
Subject: [gdal-dev] OGR SQL and lother dialects?
In-Reply-To: <201512041429.48168.even.rouault@spatialys.com>
References: <56619058.5040800@faunalia.it>
 <201512041429.48168.even.rouault@spatialys.com>
Message-ID: <20151204160412.GB6011@norbit.de>

Hi Even,

On Fri, 04. Dec 2015 at 14:29:47 +0100, Even Rouault wrote:
> Le vendredi 04 décembre 2015 14:08:40, Paolo Cavallini a écrit :
> > Hi all,
> > apparently the OGR SQL dialect is different from others:
> > https://hub.qgis.org/issues/7380
> > Any hope to bring them to common ground?

> I believe x = NULL is an extension of the SQL standard that may
> be supported or not by the various SQL engines.
> AFAIK, the SQL 92 standard only accepts the "x IS NULL" syntax.

> From my tests:
> 
> - SQLite rejects "x = NULL" syntax.

Not here.

SELECT 1 WHERE ''=NULL

returns no rows in sqlite3 - consistent with what I found in PostgreSQL and
Oracle (add "FROM dual" there).

> - OGR SQL accepts it (does not error on it), but it's more in the
> unspecified behaviour category and apparently doesn't behave like x IS NULL.
> I guess this must be evaluated like x = '' internally.

That might have been the original behaviour which caused the problem - but it
seems to have changed.

I found that OGR SQL (if that's still the default dialect) now behaves like the
others in that regard and x=NULL is different from x IS NULL.   I updated the
ticket accordingly.


Jürgen

-- 
Jürgen E. Fischer           norBIT GmbH             Tel. +49-4931-918175-31
Dipl.-Inf. (FH)             Rheinstraße 13          Fax. +49-4931-918175-50
Software Engineer           D-26506 Norden             http://www.norbit.de
QGIS release manager (PSC)  Germany                    IRC: jef on FreeNode                         
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: Digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151204/321ed200/attachment.sig>

From even.rouault at spatialys.com  Fri Dec  4 08:20:47 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 4 Dec 2015 17:20:47 +0100
Subject: [gdal-dev] OGR SQL and lother dialects?
In-Reply-To: <20151204160412.GB6011@norbit.de>
References: <56619058.5040800@faunalia.it>
 <201512041429.48168.even.rouault@spatialys.com>
 <20151204160412.GB6011@norbit.de>
Message-ID: <201512041720.47266.even.rouault@spatialys.com>

Le vendredi 04 décembre 2015 17:04:12, Jürgen E. Fischer a écrit :
> Hi Even,
> 
> On Fri, 04. Dec 2015 at 14:29:47 +0100, Even Rouault wrote:
> > Le vendredi 04 décembre 2015 14:08:40, Paolo Cavallini a écrit :
> > > Hi all,
> > > apparently the OGR SQL dialect is different from others:
> > > https://hub.qgis.org/issues/7380
> > > Any hope to bring them to common ground?
> > 
> > I believe x = NULL is an extension of the SQL standard that may
> > be supported or not by the various SQL engines.
> > AFAIK, the SQL 92 standard only accepts the "x IS NULL" syntax.
> > 
> > From my tests:
> > 
> > - SQLite rejects "x = NULL" syntax.
> 
> Not here.
> 
> SELECT 1 WHERE ''=NULL

Ah indeed when trying directly with SQLite. My initial test was through -
dialect SQLite which uses a SQLite virtual table mechanism, and that might be 
in its implementation in OGR that it is rejected.

> 
> returns no rows in sqlite3 - consistent with what I found in PostgreSQL and
> Oracle (add "FROM dual" there).
> 
> > - OGR SQL accepts it (does not error on it), but it's more in the
> > unspecified behaviour category and apparently doesn't behave like x IS
> > NULL. I guess this must be evaluated like x = '' internally.
> 
> That might have been the original behaviour which caused the problem - but
> it seems to have changed.

Actually when trying with GDAL 1.10, it seems = NULL behaves like IS NULL. And 
starting with 1.11, it returns empty result set. I doubt any of the 2 
behaviour was really intended since there's no test in the regression suite 
for the = NULL syntax.

> 
> I found that OGR SQL (if that's still the default dialect) now behaves like
> the others in that regard and x=NULL is different from x IS NULL.   I
> updated the ticket accordingly.
> 
> 
> Jürgen

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From cavallini at faunalia.it  Fri Dec  4 09:16:09 2015
From: cavallini at faunalia.it (Paolo Cavallini)
Date: Fri, 4 Dec 2015 18:16:09 +0100
Subject: [gdal-dev] OGR SQL and lother dialects?
In-Reply-To: <201512041720.47266.even.rouault@spatialys.com>
References: <56619058.5040800@faunalia.it>
 <201512041429.48168.even.rouault@spatialys.com>
 <20151204160412.GB6011@norbit.de>
 <201512041720.47266.even.rouault@spatialys.com>
Message-ID: <5661CA59.6090808@faunalia.it>

Il 04/12/2015 17:20, Even Rouault ha scritto:
> Ah indeed when trying directly with SQLite. My initial test was through -
> dialect SQLite which uses a SQLite virtual table mechanism, and that might be 
> in its implementation in OGR that it is rejected.

Thanks a lot to all for the clarifications.
All the best.

-- 
Paolo Cavallini - www.faunalia.eu
QGIS & PostGIS courses: http://www.faunalia.eu/training.html

From daniel.teske at web.de  Mon Dec  7 10:56:54 2015
From: daniel.teske at web.de (teeschke)
Date: Mon, 7 Dec 2015 10:56:54 -0800 (PST)
Subject: [gdal-dev] GDAL 2.0 as Virtual Machine
Message-ID: <1449514614389-5240311.post@n6.nabble.com>

Hi all,

after GDAL 2.0 is out for several week I really want to check out the new
features! But after abortive tries to install it via OSGeo4Mac and OSGeo4Win
I just wonder whether there is a VM around with a pre-installed GDAL 2.0.
Unfortunately OSGeo4Live doesn't provide one.
I also think that providing such a VM would be a chance for other GIS
developers to check out new features and its compatibility without crashing
their local environment.

Any hints?

Thanks and best regards,
Daniel



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/GDAL-2-0-as-Virtual-Machine-tp5240311.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From lacy at wisc.edu  Mon Dec  7 11:19:32 2015
From: lacy at wisc.edu (Jim Lacy)
Date: Mon, 07 Dec 2015 19:19:32 +0000
Subject: [gdal-dev] Problem running GDAL 2.0.1 Win32 python bindings
Message-ID: <BLUPR0601MB16674F32D726DAEF3C29EAD8B9090@BLUPR0601MB1667.namprd06.prod.outlook.com>

All-

I'm successfully running GDAL 2.0.1 (dev), but the Python bindings are giving me a hassle.    Specifically, I'm getting the classic "ImportError: DLL load failed" error when attempting a "from osgeo import gdal" at the Python 3.4 console.

I'm using the Win32 MSVC 2010 ("1600") binaries and bindings from GISinternals, both dated November 11, 2015.

I've followed advice found on this list and also Stack Overflow: GDAL_DATA and GDAL_DRIVER_PATH environment variables are properly set; Python,  GDAL Core, and bindings are all on the same platform and compiler (Win32, MSVC 2010); and GDAL is the beginning of the system path.  I've also installed all the Visual C++ redistributable packages.

I should mention the same procedure works great with GDAL 1.11.3 and the 1.11.3 bindings.  No problems at all.

Am I missing something obvious?

Thanks for any advice.

----------------------------------------------
Jim Lacy
Wisconsin State Cartographer's Office
University of Wisconsin-Madison
(608) 262-6850
www.sco.wisc.edu<http://www.sco.wisc.edu/>
My calendar:  http://go.wisc.edu/xziys4

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151207/b34d35fc/attachment.html>

From bradh at frogmouth.net  Tue Dec  8 01:49:57 2015
From: bradh at frogmouth.net (Brad Hards)
Date: Tue, 08 Dec 2015 20:49:57 +1100
Subject: [gdal-dev] Extending nitf_spec.xml
Message-ID: <1953914.2HlsDCiKMH@saxicola>

Hi,

I use the GDAL nitf_spec.xml file 
(https://trac.osgeo.org/gdal/browser/trunk/gdal/data/nitf_spec.xml) in an open
source project (Java library: https://github.com/codice/imaging-nitf). I'm
trying to figure out how to extend my library to support writing as well as
reading. I try to keep the file the same (better for everyone, really).

In writing the NITF file out, I'm trying for binary identical to what I read
in.

I've come across a problem that might require some changes to the
nitf_spec.xml file, and would like to check that its OK before proposing a
patch.

The problem case is that some TREs have reserved fields. As an example,
consider BLOCKA:
 
   <tre name="BLOCKA" length="123" location="image">
        <field name="BLOCK_INSTANCE" length="2" type="integer" minval="1" maxval="99"/>
        <field name="N_GRAY" length="5" type="integer" minval="0" maxval="99999"/>
        <field name="L_LINES" length="5" type="integer" minval="1" maxval="99999"/>
        <field name="LAYOVER_ANGLE" length="3" type="integer" minval="0" maxval="359" unit="degrees"/>
        <field name="SHADOW_ANGLE" length="3" type="integer" minval="0" maxval="359" unit="degrees"/>
        <field length="16"/>
        <field name="FRLC_LOC" length="21"/>
        <field name="LRLC_LOC" length="21"/>
        <field name="LRFC_LOC" length="21"/>
        <field name="FRFC_LOC" length="21"/>
        <field length="5"/>
    </tre>

The problem is those two reserved fields (16 spaces in between the end of
SHADOW_ANGLE and the start of FRLC_LOC; plus the 5 characters at the end).

I'd like to be able to write out the correct content for those, even if the TRE is
newly created.

There is already an attribute in the schema that could store them (so no
changes to the  nitf_spec.xsd). It would just look like:
   <tre name="BLOCKA" length="123" location="image">
        <field name="BLOCK_INSTANCE" length="2" type="integer" minval="1" maxval="99"/>
        <field name="N_GRAY" length="5" type="integer" minval="0" maxval="99999"/>
        <field name="L_LINES" length="5" type="integer" minval="1" maxval="99999"/>
        <field name="LAYOVER_ANGLE" length="3" type="integer" minval="0" maxval="359" unit="degrees"/>
        <field name="SHADOW_ANGLE" length="3" type="integer" minval="0" maxval="359" unit="degrees"/>
        <field length="16" fixed_value="                "/>
        <field name="FRLC_LOC" length="21"/>
        <field name="LRLC_LOC" length="21"/>
        <field name="LRFC_LOC" length="21"/>
        <field name="FRFC_LOC" length="21"/>
        <field length="5" fixed_value="010.0"/>
    </tre>

Any conceptual objections, pending a patch to that file? At this stage I believe
that would only affect BLOCKA, CSPROA, STDIDC and USE00A.

Note: I'm not proposing modifying gdal to actually use that fixed value, and
I believe that it would be ignored for GDAL. I'm mainly worried about other
users.

Brad

From even.rouault at spatialys.com  Tue Dec  8 02:20:47 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 8 Dec 2015 11:20:47 +0100
Subject: [gdal-dev] Extending nitf_spec.xml
In-Reply-To: <1953914.2HlsDCiKMH@saxicola>
References: <1953914.2HlsDCiKMH@saxicola>
Message-ID: <201512081120.47794.even.rouault@spatialys.com>

Hi Brad,

> Hi,
> 
> I use the GDAL nitf_spec.xml file
> (https://trac.osgeo.org/gdal/browser/trunk/gdal/data/nitf_spec.xml) in an
> open source project (Java library:
> https://github.com/codice/imaging-nitf). I'm trying to figure out how to
> extend my library to support writing as well as reading. I try to keep the
> file the same (better for everyone, really).

I see you've added a few new TRE defs in your version. Any plan proposing them 
for GDAL too ?

> Any conceptual objections, pending a patch to that file? At this stage I
> believe that would only affect BLOCKA, CSPROA, STDIDC and USE00A.
> 
> Note: I'm not proposing modifying gdal to actually use that fixed value,
> and I believe that it would be ignored for GDAL. I'm mainly worried about
> other users.

Looks good to me. This should be ignored 

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bradh at frogmouth.net  Tue Dec  8 02:26:28 2015
From: bradh at frogmouth.net (Brad Hards)
Date: Tue, 08 Dec 2015 21:26:28 +1100
Subject: [gdal-dev] Extending nitf_spec.xml
In-Reply-To: <201512081120.47794.even.rouault@spatialys.com>
References: <1953914.2HlsDCiKMH@saxicola>
 <201512081120.47794.even.rouault@spatialys.com>
Message-ID: <1753636.cKzFSt8pyf@saxicola>

On Tue, 8 Dec 2015 11:20:47 AM Even Rouault wrote:
> > I use the GDAL nitf_spec.xml file
> > (https://trac.osgeo.org/gdal/browser/trunk/gdal/data/nitf_spec.xml) in an
> > open source project (Java library:
> > https://github.com/codice/imaging-nitf). I'm trying to figure out how to
> > extend my library to support writing as well as reading. I try to keep the
> > file the same (better for everyone, really).
> 
> I see you've added a few new TRE defs in your version. Any plan proposing
> them for GDAL too ?
I thought I already had, but clearly not. Will fix ASAP.

The SENSRB stuff is really complex, and I did a lot of unit tests to check that 
each optional element works, so I should get you that. Not sure how important 
MENSRB is, but I'll put that in as well.

Brad


From mateusz at loskot.net  Tue Dec  8 04:36:12 2015
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue, 8 Dec 2015 13:36:12 +0100
Subject: [gdal-dev] Motion: Commit access to David Adler
In-Reply-To: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
References: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
Message-ID: <CABUeae-iXjKcb=RydwATC8-HEQ8spO8_ZfiawNwoh+v1aJhOJA@mail.gmail.com>

Folks,

I'm happy to declare the motion passed.

Votes from the PSC members are:

Frank Warmerdam    +1
Andrey Kiselev          ---
Daniel Morissette      +1
Howard Butler           ---
Tamas Szekeres       +1
Even Rouault (chair)  +1
Jukka Rahkonen       +1
Kurt Schwehr            ---

Even, could you please grant David with r/w access to SVN?

David, welcome on board!

Regards,
Mateusz

On 2 December 2015 at 23:04, Mateusz Loskot <mateusz at loskot.net> wrote:
> Motion: Committer Status for David Adler
> ---
>
> Dear PSC,
>
> David is preparing contribution of new OGR driver for DB2 [1].
> I would like to propose motion to grant the SVN commit access to David Adler.
> This will help David to support any new features or changes
> and allow 'streamline' maintenance of the DB2 driver.
> David has demonstrated necessary knowledge of GDAL/OGR code base,
> despite the new driver currently targets Windows platform, he is willing to
> continue development and support targeting Linux as well.
>
> David is a very experienced developer, specialised in IBM DB2 technologies.
> I have met David in person some time ago.
>
> I'm not a PSC member, but in this particular case I feel eligible to start
> voting with symbolic +1.
>
>
> David,
> Please, could you answer to this very message and state that you have
> read and agreed to the committer guidelines as outlined in the RFC3 [2].
>
>
> [1] https://trac.osgeo.org/gdal/ticket/6191
> [2] http://trac.osgeo.org/gdal/wiki/rfc3_commiters
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net



-- 
Mateusz  Loskot, http://mateusz.loskot.net

From even.rouault at spatialys.com  Tue Dec  8 04:47:58 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 8 Dec 2015 13:47:58 +0100
Subject: [gdal-dev] Motion: Commit access to David Adler
In-Reply-To: <CABUeae-iXjKcb=RydwATC8-HEQ8spO8_ZfiawNwoh+v1aJhOJA@mail.gmail.com>
References: <CABUeae_8J7CYS6w05mY7_=mkctYSLV3vUMEjOum+z6fM-s+-SQ@mail.gmail.com>
 <CABUeae-iXjKcb=RydwATC8-HEQ8spO8_ZfiawNwoh+v1aJhOJA@mail.gmail.com>
Message-ID: <201512081347.58209.even.rouault@spatialys.com>

Le mardi 08 décembre 2015 13:36:12, Mateusz Loskot a écrit :
> Folks,
> 
> I'm happy to declare the motion passed.
> 
> Votes from the PSC members are:
> 
> Frank Warmerdam    +1
> Andrey Kiselev          ---
> Daniel Morissette      +1
> Howard Butler           ---
> Tamas Szekeres       +1
> Even Rouault (chair)  +1
> Jukka Rahkonen       +1
> Kurt Schwehr            ---
> 
> Even, could you please grant David with r/w access to SVN?

Done. 

David, could you check it works by adding yourself to the COMMITERS file in 
gdal/ directory ?

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From issworld2000 at yahoo.com  Wed Dec  9 10:23:16 2015
From: issworld2000 at yahoo.com (Djordje Spasic)
Date: Wed, 9 Dec 2015 18:23:16 +0000 (UTC)
Subject: [gdal-dev] how to pick the correct projection
In-Reply-To: <da34c1340b60414c9d7f1e18d92cc299@C119S212VM022.msvyvi.vaha.local>
References: <da34c1340b60414c9d7f1e18d92cc299@C119S212VM022.msvyvi.vaha.local>
Message-ID: <1671807843.18193249.1449685396110.JavaMail.yahoo@mail.yahoo.com>

Hi,

I am downloading an open source .asc elevation files from opentopography.org.​ I attached one of them in this email. Once downloaded .asc elevation file need to be projected from WGS84 datum (EPSG 4326) to Universal Transverse Mercator. Here is an example of how this looks like in python GDAL for Barcelona Spain downloaded elevation model:
gdalwarp -s_srs EPSG:4326 -t_srs EPSG:32631 -r cubic BarcelonaWGS84.asc projectedToUTM.tif
​So in this case the EPSG:32631 has been used as a projection (it hasn't been picked by me), it was googled.

But how do I know which projection to pick, depending on the location for which the elevation data is downloaded?
I googled a bit, and there are few articles online, which suggest picking the right EPSG projection based on UTM zone to which the downloaded elevation model belong to:https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system#/media/File:Utm-zones.jpg

But I am not sure I understand how to choose the EPSG projection based on UTM zone.

How can this be done?

Thank you for the reply.

Kind regards,
Djordje Spasic
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151209/68cab4c9/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: BarcelonaWGS84.asc
Type: application/octet-stream
Size: 3432 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151209/68cab4c9/attachment.obj>

From even.rouault at spatialys.com  Wed Dec  9 10:43:54 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 9 Dec 2015 19:43:54 +0100
Subject: [gdal-dev] how to pick the correct projection
In-Reply-To: <1671807843.18193249.1449685396110.JavaMail.yahoo@mail.yahoo.com>
References: <da34c1340b60414c9d7f1e18d92cc299@C119S212VM022.msvyvi.vaha.local>
 <1671807843.18193249.1449685396110.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <201512091943.55243.even.rouault@spatialys.com>

Le mercredi 09 décembre 2015 19:23:16, Djordje Spasic a écrit :
> Hi,
> 
> I am downloading an open source .asc elevation files from
> opentopography.org.​ I attached one of them in this email. Once downloaded
> .asc elevation file need to be projected from WGS84 datum (EPSG 4326) to
> Universal Transverse Mercator. Here is an example of how this looks like
> in python GDAL for Barcelona Spain downloaded elevation model: gdalwarp
> -s_srs EPSG:4326 -t_srs EPSG:32631 -r cubic BarcelonaWGS84.asc
> projectedToUTM.tif ​So in this case the EPSG:32631 has been used as a
> projection (it hasn't been picked by me), it was googled.
> 
> But how do I know which projection to pick, depending on the location for
> which the elevation data is downloaded? I googled a bit, and there are few
> articles online, which suggest picking the right EPSG projection based on
> UTM zone to which the downloaded elevation model belong
> to:https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_
> system#/media/File:Utm-zones.jpg
> 
> But I am not sure I understand how to choose the EPSG projection based on
> UTM zone.
> 
> How can this be done?

Formula given in 
http://stackoverflow.com/questions/9186496/determining-utm-zone-to-convert-from-longitude-latitude

long2UTM <- function(long) {
    (floor((long + 180)/6) %% 60) + 1
}

Take the longitude of the central point of the source raster as input

Just thinking it could be interesting to have gdalwarp accept -t_srs AUTO:42001 to do that automatically:
http://cite.opengeospatial.org/OGCTestData/wms/1.1.1/spec/wms1.1.1.html#auto_projections.42001

> 
> Thank you for the reply.
> 
> Kind regards,
> Djordje Spasic

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From issworld2000 at yahoo.com  Wed Dec  9 11:55:53 2015
From: issworld2000 at yahoo.com (Djordje Spasic)
Date: Wed, 9 Dec 2015 19:55:53 +0000 (UTC)
Subject: [gdal-dev] how to pick the correct projection
In-Reply-To: <201512091943.55243.even.rouault@spatialys.com>
References: <201512091943.55243.even.rouault@spatialys.com>
Message-ID: <216704896.18182276.1449690953389.JavaMail.yahoo@mail.yahoo.com>


Thank you for the reply Even.

Based on your equation one can identify the UTM zone. Which in this case for Barcelona is: 31.

How can I identify the EPSG projection based on UTM zone 31?Is it possible to identify it with some formula too?

Kind regards,
Djordje Spasic


      From: Even Rouault <even.rouault at spatialys.com>
 To: gdal-dev at lists.osgeo.org; Djordje Spasic <issworld2000 at yahoo.com> 
 Sent: Wednesday, December 9, 2015 7:43 PM
 Subject: Re: [gdal-dev] how to pick the correct projection
   
Le mercredi 09 décembre 2015 19:23:16, Djordje Spasic a écrit :
> Hi,
> 
> I am downloading an open source .asc elevation files from
> opentopography.org.​ I attached one of them in this email. Once downloaded
> .asc elevation file need to be projected from WGS84 datum (EPSG 4326) to
> Universal Transverse Mercator. Here is an example of how this looks like
> in python GDAL for Barcelona Spain downloaded elevation model: gdalwarp
> -s_srs EPSG:4326 -t_srs EPSG:32631 -r cubic BarcelonaWGS84.asc
> projectedToUTM.tif ​So in this case the EPSG:32631 has been used as a
> projection (it hasn't been picked by me), it was googled.
> 
> But how do I know which projection to pick, depending on the location for
> which the elevation data is downloaded? I googled a bit, and there are few
> articles online, which suggest picking the right EPSG projection based on
> UTM zone to which the downloaded elevation model belong
> to:https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_
> system#/media/File:Utm-zones.jpg
> 
> But I am not sure I understand how to choose the EPSG projection based on
> UTM zone.
> 
> How can this be done?

Formula given in 
http://stackoverflow.com/questions/9186496/determining-utm-zone-to-convert-from-longitude-latitude

long2UTM <- function(long) {
    (floor((long + 180)/6) %% 60) + 1
}

Take the longitude of the central point of the source raster as input

Just thinking it could be interesting to have gdalwarp accept -t_srs AUTO:42001 to do that automatically:
http://cite.opengeospatial.org/OGCTestData/wms/1.1.1/spec/wms1.1.1.html#auto_projections.42001



> 
> Thank you for the reply.
> 
> Kind regards,
> Djordje Spasic

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151209/17e340c0/attachment.html>

From even.rouault at spatialys.com  Wed Dec  9 12:54:16 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 9 Dec 2015 21:54:16 +0100
Subject: [gdal-dev] how to pick the correct projection
In-Reply-To: <216704896.18182276.1449690953389.JavaMail.yahoo@mail.yahoo.com>
References: <201512091943.55243.even.rouault@spatialys.com>
 <216704896.18182276.1449690953389.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <201512092154.16413.even.rouault@spatialys.com>

Le mercredi 09 décembre 2015 20:55:53, Djordje Spasic a écrit :
> Thank you for the reply Even.
> 
> Based on your equation one can identify the UTM zone. Which in this case
> for Barcelona is: 31.
> 
> How can I identify the EPSG projection based on UTM zone 31?Is it possible
> to identify it with some formula too?

Add 32600 to the UTM zone for the northern hemisphere, or 32700 for the 
southern hemisphere.

> 
> Kind regards,
> Djordje Spasic
> 
> 
>       From: Even Rouault <even.rouault at spatialys.com>
>  To: gdal-dev at lists.osgeo.org; Djordje Spasic <issworld2000 at yahoo.com>
>  Sent: Wednesday, December 9, 2015 7:43 PM
>  Subject: Re: [gdal-dev] how to pick the correct projection
> 
> Le mercredi 09 décembre 2015 19:23:16, Djordje Spasic a écrit :
> > Hi,
> > 
> > I am downloading an open source .asc elevation files from
> > opentopography.org.​ I attached one of them in this email. Once
> > downloaded .asc elevation file need to be projected from WGS84 datum
> > (EPSG 4326) to Universal Transverse Mercator. Here is an example of how
> > this looks like in python GDAL for Barcelona Spain downloaded elevation
> > model: gdalwarp -s_srs EPSG:4326 -t_srs EPSG:32631 -r cubic
> > BarcelonaWGS84.asc
> > projectedToUTM.tif ​So in this case the EPSG:32631 has been used as a
> > projection (it hasn't been picked by me), it was googled.
> > 
> > But how do I know which projection to pick, depending on the location for
> > which the elevation data is downloaded? I googled a bit, and there are
> > few articles online, which suggest picking the right EPSG projection
> > based on UTM zone to which the downloaded elevation model belong
> > to:https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate
> > _ system#/media/File:Utm-zones.jpg
> > 
> > But I am not sure I understand how to choose the EPSG projection based on
> > UTM zone.
> > 
> > How can this be done?
> 
> Formula given in
> http://stackoverflow.com/questions/9186496/determining-utm-zone-to-convert-
> from-longitude-latitude
> 
> long2UTM <- function(long) {
>     (floor((long + 180)/6) %% 60) + 1
> }
> 
> Take the longitude of the central point of the source raster as input
> 
> Just thinking it could be interesting to have gdalwarp accept -t_srs
> AUTO:42001 to do that automatically:
> http://cite.opengeospatial.org/OGCTestData/wms/1.1.1/spec/wms1.1.1.html#au
> to_projections.42001
> 
> > Thank you for the reply.
> > 
> > Kind regards,
> > Djordje Spasic

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From its.the.doc at gmail.com  Wed Dec  9 14:02:37 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Wed, 09 Dec 2015 22:02:37 +0000
Subject: [gdal-dev] Issue with c# bindings
Message-ID: <CALVfKe-ptSFfDi6k5r1XjHfgg-vduWReS63LZHvrXWJ_iSfhaA@mail.gmail.com>

I'm getting this error after compiling from source

Exception thrown: 'System.MethodAccessException' in gdal_csharp.dll

Additional information: Attempt by security transparent method
'OSGeo.GDAL.Gdal.UseExceptions()' to call native code through method
'OSGeo.GDAL.GdalPINVOKE.UseExceptions()' failed.  Methods must be security
critical or security safe-critical to call native code.

I did
nmake -f makefile.vc clean && nmake -f makefile.vc MSVC_VER=1600 DEBUG=1 &&
nmake -f makefile.vc install
cd swig
nmake -f makefile.vc csharp

I get the gdal dll + the csharp dlls...and I use them

But as soon as I call OSGeo.GDAL.Gdal.UseExceptions(); I get the exception

This doesn't happen with the dll's I've downloaded from
http://www.gisinternals.com/

I got the source from https://trac.osgeo.org/gdal/wiki/DownloadSource and I
got 2.0.1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151209/93953118/attachment.html>

From its.the.doc at gmail.com  Wed Dec  9 14:58:13 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Wed, 09 Dec 2015 22:58:13 +0000
Subject: [gdal-dev] Issue with c# bindings
In-Reply-To: <CALVfKe-ptSFfDi6k5r1XjHfgg-vduWReS63LZHvrXWJ_iSfhaA@mail.gmail.com>
References: <CALVfKe-ptSFfDi6k5r1XjHfgg-vduWReS63LZHvrXWJ_iSfhaA@mail.gmail.com>
Message-ID: <CALVfKe9vdmn3mq=Doyz6boiS8en5kJJRcTEH8v_F+4ReSLR+UA@mail.gmail.com>

Alright well I figure that out...Targeted a specific MSVC_VER in csharp.opt

On Wed, Dec 9, 2015 at 5:02 PM kelly elton <its.the.doc at gmail.com> wrote:

> I'm getting this error after compiling from source
>
> Exception thrown: 'System.MethodAccessException' in gdal_csharp.dll
>
> Additional information: Attempt by security transparent method
> 'OSGeo.GDAL.Gdal.UseExceptions()' to call native code through method
> 'OSGeo.GDAL.GdalPINVOKE.UseExceptions()' failed.  Methods must be security
> critical or security safe-critical to call native code.
>
> I did
> nmake -f makefile.vc clean && nmake -f makefile.vc MSVC_VER=1600 DEBUG=1
> && nmake -f makefile.vc install
> cd swig
> nmake -f makefile.vc csharp
>
> I get the gdal dll + the csharp dlls...and I use them
>
> But as soon as I call OSGeo.GDAL.Gdal.UseExceptions(); I get the exception
>
> This doesn't happen with the dll's I've downloaded from
> http://www.gisinternals.com/
>
> I got the source from https://trac.osgeo.org/gdal/wiki/DownloadSource and
> I got 2.0.1
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151209/d3749be3/attachment.html>

From szekerest at gmail.com  Wed Dec  9 14:59:11 2015
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed, 9 Dec 2015 23:59:11 +0100
Subject: [gdal-dev] Issue with c# bindings
In-Reply-To: <CALVfKe-ptSFfDi6k5r1XjHfgg-vduWReS63LZHvrXWJ_iSfhaA@mail.gmail.com>
References: <CALVfKe-ptSFfDi6k5r1XjHfgg-vduWReS63LZHvrXWJ_iSfhaA@mail.gmail.com>
Message-ID: <CACALY+St6WvHw2U77k3WJct59NT=nbCn1A=ftV+ySfAB6NQEgw@mail.gmail.com>

Hi Kelly,

It looks like you are compiling against .Net 4 and the /define:CLR4 is
missing from the csc command line. Also make sure the following line is
added to AssemblyInfo.cs when compiling the assemblies:

[assembly: SecurityRules(SecurityRuleSet.Level1)]


Best regards,

Tamas



2015-12-09 23:02 GMT+01:00 kelly elton <its.the.doc at gmail.com>:

> I'm getting this error after compiling from source
>
> Exception thrown: 'System.MethodAccessException' in gdal_csharp.dll
>
> Additional information: Attempt by security transparent method
> 'OSGeo.GDAL.Gdal.UseExceptions()' to call native code through method
> 'OSGeo.GDAL.GdalPINVOKE.UseExceptions()' failed.  Methods must be security
> critical or security safe-critical to call native code.
>
> I did
> nmake -f makefile.vc clean && nmake -f makefile.vc MSVC_VER=1600 DEBUG=1
> && nmake -f makefile.vc install
> cd swig
> nmake -f makefile.vc csharp
>
> I get the gdal dll + the csharp dlls...and I use them
>
> But as soon as I call OSGeo.GDAL.Gdal.UseExceptions(); I get the exception
>
> This doesn't happen with the dll's I've downloaded from
> http://www.gisinternals.com/
>
> I got the source from https://trac.osgeo.org/gdal/wiki/DownloadSource and
> I got 2.0.1
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151209/af64a20e/attachment.html>

From mj10777 at googlemail.com  Wed Dec  9 18:49:09 2015
From: mj10777 at googlemail.com (Mark Johnson)
Date: Thu, 10 Dec 2015 03:49:09 +0100
Subject: [gdal-dev] how to pick the correct projection
Message-ID: <CAEEbjBixGM1AtUEsZu+=BCsJUYHUXcyXZv2ZzA=2i4M5zZYaOA@mail.gmail.com>

It seem that EPSG has reserved the numbers
- 32600-32799 for basic WGS 84 / UTM zones

For these basic WGS 84 / UTM zone *
- Northern Hemisphere: add 32600 to the Zone Number
- Southern Hemisphere: add 32700 to the Zone Number

On a Spatialite Database, the following Query will list the basic UTM-Zones

SELECT
 srid,
 auth_name,
 auth_srid,
 ref_sys_name,
 proj4text,
 srtext
FROM
 spatial_ref_sys
WHERE
( -- Northern Hemisphere
 (proj4text = '+proj=utm +zone='||(srid-32600)||' +datum=WGS84 +units=m
+no_defs') OR
  -- Southern Hemisphere
 (proj4text = '+proj=utm +zone='||(srid-32700)||' +south +datum=WGS84
+units=m +no_defs')
)
ORDER BY proj4text;
-- 120 results

---
There are other Projections that also use UTM (non-basic)
- to list these:

SELECT
 srid,
 auth_name,
 auth_srid,
 ref_sys_name,
 proj4text,
 srtext
FROM
 spatial_ref_sys
WHERE
( -- Other Projections that use UTM
 (srid NOT BETWEEN 32600 AND 32799) AND
 (
  (proj4text LIKE '+proj=utm +zone%')
 )
)
ORDER BY proj4text;
-- 947 results

Mark Johnson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/ed590625/attachment.html>

From landa.martin at gmail.com  Thu Dec 10 01:11:19 2015
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 10 Dec 2015 10:11:19 +0100
Subject: [gdal-dev] direct.h and other Windows issue
Message-ID: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>

Hi all,

currently I am working on Windows GRASS builds (using MSYS2 +
MinGW64). I have still some issue with GDAL which I am not sure how to
correctly solve:

1) GDAL has enabled in cpl_port.h

#ifdef HAVE_DIRECT_H
#  include <direct.h>
#endif

which is old header used by MSVC, modern is dirent.h, right?

I moved forward by simply commenting these lines. Unfortunately two
GRASS modules linked to GDAL still fails to compile:

2) r.external

OBJ.x86_64-w64-mingw32/main.o: In function `main':
/home/landa/grass_trunk/raster/r.external/main.c:154: undefined
reference to `_getcwd'
/home/landa/grass_trunk/raster/r.external/main.c:154:(.text.startup+0x538):
relocation truncated to fit: R_X86_64_PC32 against undefined symbol
`_getcwd'
collect2: error: ld returned 1 exit status

3) r.in.gdal

OBJ.x86_64-w64-mingw32/main.o: In function `dump_rat':
/home/landa/grass_trunk/raster/r.in.gdal/main.c:1601: undefined
reference to `_snprintf'
/home/landa/grass_trunk/raster/r.in.gdal/main.c:1601:(.text.startup+0x1655):
relocation truncated to fit: R_X86_64_PC32 against undefined symbol
`_snprintf'
collect2: error: ld returned 1 exit status

I am not sure how to solve these issues correctly. Any idea?

Thanks in advance for any tips, Martin

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From landa.martin at gmail.com  Thu Dec 10 01:22:38 2015
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 10 Dec 2015 10:22:38 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
Message-ID: <CA+Ei1Of_VXhH5CRGFQvHxEPw4gze0Km25RC1-K2BO0PryWeyYQ@mail.gmail.com>

Hi,

2015-12-10 10:11 GMT+01:00 Martin Landa <landa.martin at gmail.com>:
> 3) r.in.gdal
>
> OBJ.x86_64-w64-mingw32/main.o: In function `dump_rat':
> /home/landa/grass_trunk/raster/r.in.gdal/main.c:1601: undefined
> reference to `_snprintf'
> /home/landa/grass_trunk/raster/r.in.gdal/main.c:1601:(.text.startup+0x1655):
> relocation truncated to fit: R_X86_64_PC32 against undefined symbol
> `_snprintf'
> collect2: error: ld returned 1 exit status

update -  this issue solved by using GRASS snprinf fn [1].

Martin

[1] https://trac.osgeo.org/grass/changeset/67048

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From even.rouault at spatialys.com  Thu Dec 10 01:27:57 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 10 Dec 2015 10:27:57 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
Message-ID: <201512101027.57073.even.rouault@spatialys.com>

Le jeudi 10 décembre 2015 10:11:19, Martin Landa a écrit :
> Hi all,
> 
> currently I am working on Windows GRASS builds (using MSYS2 +
> MinGW64). I have still some issue with GDAL which I am not sure how to
> correctly solve:
> 
> 1) GDAL has enabled in cpl_port.h
> 
> #ifdef HAVE_DIRECT_H
> #  include <direct.h>
> #endif
> 
> which is old header used by MSVC, modern is dirent.h, right?

https://en.wikipedia.org/wiki/Direct.h
http://pubs.opengroup.org/onlinepubs/7908799/xsh/dirent.h.html

Don't seem quite the same.

And normally ./configure should define HAVE_DIRECT_H in port/cpl_config.h only if 
it is available.

> 
> I moved forward by simply commenting these lines. Unfortunately two
> GRASS modules linked to GDAL still fails to compile:
> 
> 2) r.external
> 
> OBJ.x86_64-w64-mingw32/main.o: In function `main':
> /home/landa/grass_trunk/raster/r.external/main.c:154: undefined
> reference to `_getcwd'
> /home/landa/grass_trunk/raster/r.external/main.c:154:(.text.startup+0x538):
> relocation truncated to fit: R_X86_64_PC32 against undefined symbol
> `_getcwd'
> collect2: error: ld returned 1 exit status

Isn't that a GRASS issue since getcwd() is really called from GRASS code. I'd 
note that GDAL has a CPLGetCurrentDir() function that is essentially a wrapper 
around getcwd(). See port/cpl_path.cpp

> 
> 3) r.in.gdal
> 
> OBJ.x86_64-w64-mingw32/main.o: In function `dump_rat':
> /home/landa/grass_trunk/raster/r.in.gdal/main.c:1601: undefined
> reference to `_snprintf'
> /home/landa/grass_trunk/raster/r.in.gdal/main.c:1601:(.text.startup+0x1655)
> : relocation truncated to fit: R_X86_64_PC32 against undefined symbol
> `_snprintf'
> collect2: error: ld returned 1 exit status
> 
> I am not sure how to solve these issues correctly. Any idea?

Same here. Except when I look at 
https://svn.osgeo.org/grass/grass/trunk/raster/r.in.gdal/main.c, I see it is a 
G_snprintf() call, so perhaps you use an outdated version ? Or perhaps 
G_snprintf() is just a macro.
I know that before Visual Studio 2015, snprintf() didn't exist, and there was 
a _snprintf() function instead, but that might be unrelated to your issue with 
mingw.

> 
> Thanks in advance for any tips, Martin

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From landa.martin at gmail.com  Thu Dec 10 01:41:20 2015
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 10 Dec 2015 10:41:20 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <201512101027.57073.even.rouault@spatialys.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
 <201512101027.57073.even.rouault@spatialys.com>
Message-ID: <CA+Ei1OfksZW1NW02MGXU=edVjnkhR6Jz+a-SvyLT2+joQ3zFWQ@mail.gmail.com>

Hi,

2015-12-10 10:27 GMT+01:00 Even Rouault <even.rouault at spatialys.com>:
> And normally ./configure should define HAVE_DIRECT_H in port/cpl_config.h only if
> it is available.

to be more precise, I am building GRASS against GDAL shipped via
OSGeo4W (which has HAVE_DIRECT_H already defined). I didn't find this
header in OSGeo4W framework.

>> OBJ.x86_64-w64-mingw32/main.o: In function `main':
>> /home/landa/grass_trunk/raster/r.external/main.c:154: undefined
>> reference to `_getcwd'
>> /home/landa/grass_trunk/raster/r.external/main.c:154:(.text.startup+0x538):
>> relocation truncated to fit: R_X86_64_PC32 against undefined symbol
>> `_getcwd'
>> collect2: error: ld returned 1 exit status
>
> Isn't that a GRASS issue since getcwd() is really called from GRASS code. I'd
> note that GDAL has a CPLGetCurrentDir() function that is essentially a wrapper
> around getcwd(). See port/cpl_path.cpp

getcwd() is used on other places in GRASS, the only failing is
r.external which is linked to GDAL. I found out that GDAL defines:

#ifndef getcwd
#define getcwd _getcwd
#endif

Could be this the issue?

Martin

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From jef at norbit.de  Thu Dec 10 01:42:01 2015
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Thu, 10 Dec 2015 10:42:01 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <201512101027.57073.even.rouault@spatialys.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
 <201512101027.57073.even.rouault@spatialys.com>
Message-ID: <20151210094201.GA4930@norbit.de>

Hi Even,

On Thu, 10. Dec 2015 at 10:27:57 +0100, Even Rouault wrote:
> > currently I am working on Windows GRASS builds (using MSYS2 +
> > MinGW64). I have still some issue with GDAL which I am not sure how to
> > correctly solve:
> > 
> > 1) GDAL has enabled in cpl_port.h
> > 
> > #ifdef HAVE_DIRECT_H
> > #  include <direct.h>
> > #endif
> > 
> > which is old header used by MSVC, modern is dirent.h, right?

> https://en.wikipedia.org/wiki/Direct.h
> http://pubs.opengroup.org/onlinepubs/7908799/xsh/dirent.h.html
> 
> Don't seem quite the same.
> 
> And normally ./configure should define HAVE_DIRECT_H in port/cpl_config.h only if 
> it is available.

It's probably a OSGeo4W issue - because there GDAL is built with MSVC (w/o
configure), while GRASS is built with mingw - using the MSVC built GDAL.


Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: Digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/f27cc357/attachment.sig>

From landa.martin at gmail.com  Thu Dec 10 01:44:15 2015
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 10 Dec 2015 10:44:15 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <201512101027.57073.even.rouault@spatialys.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
 <201512101027.57073.even.rouault@spatialys.com>
Message-ID: <CA+Ei1Od4Tr0v5pHECmxAQ0XJv0KJtUtwSt+h1D0C8ycc2htyEw@mail.gmail.com>

Hi,

2015-12-10 10:27 GMT+01:00 Even Rouault <even.rouault at spatialys.com>:

> Same here. Except when I look at
> https://svn.osgeo.org/grass/grass/trunk/raster/r.in.gdal/main.c, I see it is a
> G_snprintf() call, so perhaps you use an outdated version ? Or perhaps

no, I fixed that some minutes ago by replacing snprintf() by G_snprintf() :-)

> G_snprintf() is just a macro.
> I know that before Visual Studio 2015, snprintf() didn't exist, and there was
> a _snprintf() function instead, but that might be unrelated to your issue with
> mingw.

see [1]. Ma

[1] https://trac.osgeo.org/grass/browser/grass/trunk/lib/gis/snprintf.c#L43

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From even.rouault at spatialys.com  Thu Dec 10 01:49:39 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 10 Dec 2015 10:49:39 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <CA+Ei1OfksZW1NW02MGXU=edVjnkhR6Jz+a-SvyLT2+joQ3zFWQ@mail.gmail.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
 <201512101027.57073.even.rouault@spatialys.com>
 <CA+Ei1OfksZW1NW02MGXU=edVjnkhR6Jz+a-SvyLT2+joQ3zFWQ@mail.gmail.com>
Message-ID: <201512101049.39872.even.rouault@spatialys.com>

Le jeudi 10 décembre 2015 10:41:20, Martin Landa a écrit :
> Hi,
> 
> 2015-12-10 10:27 GMT+01:00 Even Rouault <even.rouault at spatialys.com>:
> > And normally ./configure should define HAVE_DIRECT_H in port/cpl_config.h
> > only if it is available.
> 
> to be more precise, I am building GRASS against GDAL shipped via
> OSGeo4W (which has HAVE_DIRECT_H already defined). I didn't find this
> header in OSGeo4W framework.
> 
> >> OBJ.x86_64-w64-mingw32/main.o: In function `main':
> >> /home/landa/grass_trunk/raster/r.external/main.c:154: undefined
> >> reference to `_getcwd'
> >> /home/landa/grass_trunk/raster/r.external/main.c:154:(.text.startup+0x53
> >> 8): relocation truncated to fit: R_X86_64_PC32 against undefined symbol
> >> `_getcwd'
> >> collect2: error: ld returned 1 exit status
> > 
> > Isn't that a GRASS issue since getcwd() is really called from GRASS code.
> > I'd note that GDAL has a CPLGetCurrentDir() function that is essentially
> > a wrapper around getcwd(). See port/cpl_path.cpp
> 
> getcwd() is used on other places in GRASS, the only failing is
> r.external which is linked to GDAL. I found out that GDAL defines:
> 
> #ifndef getcwd
> #define getcwd _getcwd
> #endif
> 
> Could be this the issue?

Definitely. As pointed by Jürgen you're playing a dangerous game here re-using  
with mingw the cpl_config.h designed to work with MSVC.
This allias of getcwd to _getcwd is for MSVC only.
To work around this issue you could just #define getcwd getcwd before including 
GDAL headers.
Actually if we are honest the issue is that GDAL public headers shouldn't 
ideally expose such things which should be kept in private headers not 
installed, but that would be hard to fix. There's a ticket in the tracker about 
that. Would probably require editing all GDAL files...

> 
> Martin

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From its.the.doc at gmail.com  Thu Dec 10 08:00:12 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Thu, 10 Dec 2015 16:00:12 +0000
Subject: [gdal-dev] spatialite linking issues
Message-ID: <CALVfKe-j-QcM-_oufcGt-r1pt89NesR4fQqiC=NR8ceK+s+o5A@mail.gmail.com>

So I'm building on windows

I downloaded the osgeo4w installer and installed the spatialite  + sqlite
libraries.

I uncommitted these two lines

SQLITE_INC=-IC:\OSGeo4W\include -DHAVE_SPATIALITE -DSPATIALITE_AMALGAMATION
SQLITE_LIB=C:\OSGeo4W\lib\spatialite_i.lib

So when compiling now(which was working before this) I get tons of
unresolved external symbol errors. I also tried downloading and pointing to
the GISInternals sdk but that created the same errors. I must be missing
something fundamental here, any help would be much appreciated.

ogrsf_frmts.lib(ogrsqlitetablelayer.obj) : error LNK2001: unresolved
external symbol _sqlite3_exec
ogrsf_frmts.lib(hugefileresolver.obj) : error LNK2001: unresolved external
symbol _sqlite3_exec
ogrsf_frmts.lib(vfkreadersqlite.obj) : error LNK2001: unresolved external
symbol _sqlite3_exec
ogrsf_frmts.lib(ogrgeopackageutility.obj) : error LNK2001: unresolved
external symbol _sqlite3_exec
ogrsf_frmts.lib(ogrsqliteexecutesql.obj) : error LNK2001: unresolved
external symbol _sqlite3_exec
ogrsf_frmts.lib(ogrsqlitedatasource.obj) : error LNK2001: unresolved
external symbol _sqlite3_exec
ogrsf_frmts.lib(ogrosmdatasource.obj) : error LNK2001: unresolved external
symbol _sqlite3_exec
ogrsf_frmts.lib(ogrgeopackagedatasource.obj) : error LNK2001: unresolved
external symbol _sqlite3_exec
ogrsf_frmts.lib(vfkreadersqlite.obj) : error LNK2019: unresolved external
symbol _sqlite3_free referenced in function "public: virtual void *
__thiscall GDALDriver::`vector deleting destructor'(unsigned int)"
(??_EGDALDriver@@UAEPAXI at Z)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/c15cb6e1/attachment.html>

From issworld2000 at yahoo.com  Thu Dec 10 08:07:22 2015
From: issworld2000 at yahoo.com (Djordje Spasic)
Date: Thu, 10 Dec 2015 16:07:22 +0000 (UTC)
Subject: [gdal-dev] how to pick the correct projection
In-Reply-To: <201512092154.16413.even.rouault@spatialys.com>
References: <201512092154.16413.even.rouault@spatialys.com>
Message-ID: <1728069304.363871.1449763643026.JavaMail.yahoo@mail.yahoo.com>

Once again, thank you for the help Even.

What happens if the source raster spreads across two UTM zones? Which one should I pick then? Here is an example (the blue rectangle is the raster region):
https://www.dropbox.com/s/hbn4yqx3ool7j98/raster_two_UTMzones.jpg?dl=0

I intend to download rasters with the following size: 50x50km, 100x100km, 200x200, and 400x400km in length x width.

Regards,
Djordje Spasic

      From: Even Rouault <even.rouault at spatialys.com>
 To: Djordje Spasic <issworld2000 at yahoo.com> 
Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
 Sent: Wednesday, December 9, 2015 9:54 PM
 Subject: Re: [gdal-dev] how to pick the correct projection
   
Le mercredi 09 décembre 2015 20:55:53, Djordje Spasic a écrit :
> Thank you for the reply Even.
> 
> Based on your equation one can identify the UTM zone. Which in this case
> for Barcelona is: 31.
> 
> How can I identify the EPSG projection based on UTM zone 31?Is it possible
> to identify it with some formula too?

Add 32600 to the UTM zone for the northern hemisphere, or 32700 for the 
southern hemisphere.



> 
> Kind regards,
> Djordje Spasic
> 
> 
>      From: Even Rouault <even.rouault at spatialys.com>
>  To: gdal-dev at lists.osgeo.org; Djordje Spasic <issworld2000 at yahoo.com>
>  Sent: Wednesday, December 9, 2015 7:43 PM
>  Subject: Re: [gdal-dev] how to pick the correct projection
> 
> Le mercredi 09 décembre 2015 19:23:16, Djordje Spasic a écrit :
> > Hi,
> > 
> > I am downloading an open source .asc elevation files from
> > opentopography.org.​ I attached one of them in this email. Once
> > downloaded .asc elevation file need to be projected from WGS84 datum
> > (EPSG 4326) to Universal Transverse Mercator. Here is an example of how
> > this looks like in python GDAL for Barcelona Spain downloaded elevation
> > model: gdalwarp -s_srs EPSG:4326 -t_srs EPSG:32631 -r cubic
> > BarcelonaWGS84.asc
> > projectedToUTM.tif ​So in this case the EPSG:32631 has been used as a
> > projection (it hasn't been picked by me), it was googled.
> > 
> > But how do I know which projection to pick, depending on the location for
> > which the elevation data is downloaded? I googled a bit, and there are
> > few articles online, which suggest picking the right EPSG projection
> > based on UTM zone to which the downloaded elevation model belong
> > to:https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate
> > _ system#/media/File:Utm-zones.jpg
> > 
> > But I am not sure I understand how to choose the EPSG projection based on
> > UTM zone.
> > 
> > How can this be done?
> 
> Formula given in
> http://stackoverflow.com/questions/9186496/determining-utm-zone-to-convert-
> from-longitude-latitude
> 
> long2UTM <- function(long) {
>    (floor((long + 180)/6) %% 60) + 1
> }
> 
> Take the longitude of the central point of the source raster as input
> 
> Just thinking it could be interesting to have gdalwarp accept -t_srs
> AUTO:42001 to do that automatically:
> http://cite.opengeospatial.org/OGCTestData/wms/1.1.1/spec/wms1.1.1.html#au
> to_projections.42001
> 
> > Thank you for the reply.
> > 
> > Kind regards,
> > Djordje Spasic

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/575c0ba4/attachment-0001.html>

From even.rouault at spatialys.com  Thu Dec 10 08:15:31 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 10 Dec 2015 17:15:31 +0100
Subject: [gdal-dev] spatialite linking issues
In-Reply-To: <CALVfKe-j-QcM-_oufcGt-r1pt89NesR4fQqiC=NR8ceK+s+o5A@mail.gmail.com>
References: <CALVfKe-j-QcM-_oufcGt-r1pt89NesR4fQqiC=NR8ceK+s+o5A@mail.gmail.com>
Message-ID: <201512101715.31529.even.rouault@spatialys.com>

Le jeudi 10 décembre 2015 17:00:12, kelly elton a écrit :
> So I'm building on windows
> 
> I downloaded the osgeo4w installer and installed the spatialite  + sqlite
> libraries.
> 
> I uncommitted these two lines
> 
> SQLITE_INC=-IC:\OSGeo4W\include -DHAVE_SPATIALITE -DSPATIALITE_AMALGAMATION
> SQLITE_LIB=C:\OSGeo4W\lib\spatialite_i.lib

Latest Spatialite versions are no longer in "amalgmation" mode so you also 
likely need to explictly link against sqlite3 itself.
So add to the SQLITE_LIB line sqlite.lib or sqlite_i.lib whatever it is 
called.

> 
> So when compiling now(which was working before this) I get tons of
> unresolved external symbol errors. I also tried downloading and pointing to
> the GISInternals sdk but that created the same errors. I must be missing
> something fundamental here, any help would be much appreciated.
> 
> ogrsf_frmts.lib(ogrsqlitetablelayer.obj) : error LNK2001: unresolved
> external symbol _sqlite3_exec
> ogrsf_frmts.lib(hugefileresolver.obj) : error LNK2001: unresolved external
> symbol _sqlite3_exec
> ogrsf_frmts.lib(vfkreadersqlite.obj) : error LNK2001: unresolved external
> symbol _sqlite3_exec
> ogrsf_frmts.lib(ogrgeopackageutility.obj) : error LNK2001: unresolved
> external symbol _sqlite3_exec
> ogrsf_frmts.lib(ogrsqliteexecutesql.obj) : error LNK2001: unresolved
> external symbol _sqlite3_exec
> ogrsf_frmts.lib(ogrsqlitedatasource.obj) : error LNK2001: unresolved
> external symbol _sqlite3_exec
> ogrsf_frmts.lib(ogrosmdatasource.obj) : error LNK2001: unresolved external
> symbol _sqlite3_exec
> ogrsf_frmts.lib(ogrgeopackagedatasource.obj) : error LNK2001: unresolved
> external symbol _sqlite3_exec
> ogrsf_frmts.lib(vfkreadersqlite.obj) : error LNK2019: unresolved external
> symbol _sqlite3_free referenced in function "public: virtual void *
> __thiscall GDALDriver::`vector deleting destructor'(unsigned int)"
> (??_EGDALDriver@@UAEPAXI at Z)

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From its.the.doc at gmail.com  Thu Dec 10 08:22:21 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Thu, 10 Dec 2015 16:22:21 +0000
Subject: [gdal-dev] spatialite linking issues
In-Reply-To: <201512101715.31529.even.rouault@spatialys.com>
References: <CALVfKe-j-QcM-_oufcGt-r1pt89NesR4fQqiC=NR8ceK+s+o5A@mail.gmail.com>
 <201512101715.31529.even.rouault@spatialys.com>
Message-ID: <CALVfKe_0ZLjAv-UpYsT1wEhUpQrQeKNs+L7WXnrc4nx-6hoXvw@mail.gmail.com>

Thanks, adding a space and a path to the sqlite_i.lib did the trick

On Thu, Dec 10, 2015 at 11:14 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> Le jeudi 10 décembre 2015 17:00:12, kelly elton a écrit :
> > So I'm building on windows
> >
> > I downloaded the osgeo4w installer and installed the spatialite  + sqlite
> > libraries.
> >
> > I uncommitted these two lines
> >
> > SQLITE_INC=-IC:\OSGeo4W\include -DHAVE_SPATIALITE
> -DSPATIALITE_AMALGAMATION
> > SQLITE_LIB=C:\OSGeo4W\lib\spatialite_i.lib
>
> Latest Spatialite versions are no longer in "amalgmation" mode so you also
> likely need to explictly link against sqlite3 itself.
> So add to the SQLITE_LIB line sqlite.lib or sqlite_i.lib whatever it is
> called.
>
> >
> > So when compiling now(which was working before this) I get tons of
> > unresolved external symbol errors. I also tried downloading and pointing
> to
> > the GISInternals sdk but that created the same errors. I must be missing
> > something fundamental here, any help would be much appreciated.
> >
> > ogrsf_frmts.lib(ogrsqlitetablelayer.obj) : error LNK2001: unresolved
> > external symbol _sqlite3_exec
> > ogrsf_frmts.lib(hugefileresolver.obj) : error LNK2001: unresolved
> external
> > symbol _sqlite3_exec
> > ogrsf_frmts.lib(vfkreadersqlite.obj) : error LNK2001: unresolved external
> > symbol _sqlite3_exec
> > ogrsf_frmts.lib(ogrgeopackageutility.obj) : error LNK2001: unresolved
> > external symbol _sqlite3_exec
> > ogrsf_frmts.lib(ogrsqliteexecutesql.obj) : error LNK2001: unresolved
> > external symbol _sqlite3_exec
> > ogrsf_frmts.lib(ogrsqlitedatasource.obj) : error LNK2001: unresolved
> > external symbol _sqlite3_exec
> > ogrsf_frmts.lib(ogrosmdatasource.obj) : error LNK2001: unresolved
> external
> > symbol _sqlite3_exec
> > ogrsf_frmts.lib(ogrgeopackagedatasource.obj) : error LNK2001: unresolved
> > external symbol _sqlite3_exec
> > ogrsf_frmts.lib(vfkreadersqlite.obj) : error LNK2019: unresolved external
> > symbol _sqlite3_free referenced in function "public: virtual void *
> > __thiscall GDALDriver::`vector deleting destructor'(unsigned int)"
> > (??_EGDALDriver@@UAEPAXI at Z)
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/6057cd51/attachment.html>

From issworld2000 at yahoo.com  Thu Dec 10 09:02:33 2015
From: issworld2000 at yahoo.com (Djordje Spasic)
Date: Thu, 10 Dec 2015 17:02:33 +0000 (UTC)
Subject: [gdal-dev] how to pick the correct projection
In-Reply-To: <CAEEbjBixGM1AtUEsZu+=BCsJUYHUXcyXZv2ZzA=2i4M5zZYaOA@mail.gmail.com>
References: <CAEEbjBixGM1AtUEsZu+=BCsJUYHUXcyXZv2ZzA=2i4M5zZYaOA@mail.gmail.com>
Message-ID: <1232362141.358678.1449766953703.JavaMail.yahoo@mail.yahoo.com>

Thank you for the reply Mark.

But I am not sure I understand you.
I am trying to pick the right projection in case when a raster spans into two UTM zones. Like in the following image:
https://www.dropbox.com/s/hbn4yqx3ool7j98/raster_two_UTMzones.jpg?dl=0
Even Rouault helped me in picking the right projection in case of raster spanning through a single UTM zone:

UTMzone =  (floor((longitude + 180)/6) % 60) + 1
projection = 32600 + UTMZone,  if raster center's longitude > 0projection = 32700 + UTMZone,  if raster center's longitude < 0

However, I am confused which projection to choose when raster spans through two UTM zones. I intend to download rasters which have the following length x width: 50x50 km, 100x100km, 200x200km, 400x400km.

Djordje


      From: Mark Johnson <mj10777 at googlemail.com>
 To: gdal-dev at lists.osgeo.org 
 Sent: Thursday, December 10, 2015 3:49 AM
 Subject: [gdal-dev] how to pick the correct projection
   
It seem that EPSG has reserved the numbers- 32600-32799 for basic WGS 84 / UTM zones
For these basic WGS 84 / UTM zone *- Northern Hemisphere: add 32600 to the Zone Number- Southern Hemisphere: add 32700 to the Zone Number

On a Spatialite Database, the following Query will list the basic UTM-Zones
SELECT srid,  auth_name,  auth_srid,  ref_sys_name,  proj4text,  srtextFROM  spatial_ref_sysWHERE( -- Northern Hemisphere (proj4text = '+proj=utm +zone='||(srid-32600)||' +datum=WGS84 +units=m +no_defs') OR  -- Southern Hemisphere (proj4text = '+proj=utm +zone='||(srid-32700)||' +south +datum=WGS84 +units=m +no_defs'))ORDER BY proj4text;-- 120 results

---There are other Projections that also use UTM (non-basic)- to list these:
SELECT srid,  auth_name,  auth_srid,  ref_sys_name,  proj4text,  srtextFROM  spatial_ref_sysWHERE( -- Other Projections that use UTM  (srid NOT BETWEEN 32600 AND 32799) AND (  (proj4text LIKE '+proj=utm +zone%') ))ORDER BY proj4text;-- 947 results
Mark Johnson
---------------------------------------------------------

Once again, thank you for the help Even.

What happens if the source raster spreads across two UTM zones? Which one should I pick then? Here is an example (the blue rectangle is the raster region):
https://www.dropbox.com/s/hbn4yqx3ool7j98/raster_two_UTMzones.jpg?dl=0

I intend to download rasters with the following size: 50x50km, 100x100km, 200x200, and 400x400km in length x width.

Regards,
Djordje Spasic

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/1d1a4b0a/attachment.html>

From its.the.doc at gmail.com  Thu Dec 10 10:22:09 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Thu, 10 Dec 2015 18:22:09 +0000
Subject: [gdal-dev] Ogr sqlite spatialite shared caching 2.0.1
Message-ID: <CALVfKe9qKkEkwe66BURt1ehsqWr5Mo=aSj4VSMCOxHSk_YOO0g@mail.gmail.com>

I'm just trying to figure out how to turn on SQlite/Spatialite shared cache
in the latest stable version 2.0.1

Before I would just call SPLite3_enable_shared_cache but apparently that's
been deprecated and doesn't exist anymore.(as well as
SPLite4_enable_shared_cache)

It also appears that SQLite3_enable_shared_cache doesn't work either.

>From the docs on Sqlite it says you can enable shared cache per connection
via the connection string, but it doesn't look like there's any way to do
that in Ogr right now.

I'm just looking for suggestions on how to enable it.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/10b4e3d0/attachment-0001.html>

From a.furieri at lqt.it  Thu Dec 10 10:45:03 2015
From: a.furieri at lqt.it (a.furieri at lqt.it)
Date: Thu, 10 Dec 2015 19:45:03 +0100
Subject: [gdal-dev] Ogr sqlite spatialite shared caching 2.0.1
In-Reply-To: <CALVfKe9qKkEkwe66BURt1ehsqWr5Mo=aSj4VSMCOxHSk_YOO0g@mail.gmail.com>
References: <CALVfKe9qKkEkwe66BURt1ehsqWr5Mo=aSj4VSMCOxHSk_YOO0g@mail.gmail.com>
Message-ID: <fdf7a0a931b46287c353354a06d1bc81@lqt.it>

On Thu, 10 Dec 2015 18:22:09 +0000, kelly elton wrote:
> I'm just trying to figure out how to turn on SQlite/Spatialite shared
> cache in the latest stable version 2.0.1
>
> Before I would just call SPLite3_enable_shared_cache but apparently
> that's been deprecated and doesn't exist anymore.(as well as
> SPLite4_enable_shared_cache)
>
> It also appears that SQLite3_enable_shared_cache doesn't work either.
>
> From the docs on Sqlite it says you can enable shared cache per
> connection via the connection string, but it doesn't look like 
> there's
> any way to do that in Ogr right now.
>
> I'm just looking for suggestions on how to enable it. 
>

Hi Kelly,

all link symbols starting with "SPLite3_" simply were a tricky
workaround adopted by the infamous (and now officially deprecated)
spatialite-amalgamation.

the real names for all those symbols are the ones defined by
libsqlite3 and usually starting with "sqlite3_".
here you can check the full list of all API supported by SQLite:

https://www.sqlite.org/c3ref/funclist.html

bye Sandro

From its.the.doc at gmail.com  Thu Dec 10 11:13:48 2015
From: its.the.doc at gmail.com (kelly elton)
Date: Thu, 10 Dec 2015 19:13:48 +0000
Subject: [gdal-dev] Ogr sqlite spatialite shared caching 2.0.1
In-Reply-To: <fdf7a0a931b46287c353354a06d1bc81@lqt.it>
References: <CALVfKe9qKkEkwe66BURt1ehsqWr5Mo=aSj4VSMCOxHSk_YOO0g@mail.gmail.com>
 <fdf7a0a931b46287c353354a06d1bc81@lqt.it>
Message-ID: <CALVfKe89qLqqcXN7-ny=KJ_Vf0yg5w-PLULU71+2-zgrge1L9Q@mail.gmail.com>

Ah shit. I was trying the sqlite3_ version but I used the wrong case :\

Thanks for the verification and information, it appears to be working.

On Thu, Dec 10, 2015 at 1:45 PM <a.furieri at lqt.it> wrote:

> On Thu, 10 Dec 2015 18:22:09 +0000, kelly elton wrote:
> > I'm just trying to figure out how to turn on SQlite/Spatialite shared
> > cache in the latest stable version 2.0.1
> >
> > Before I would just call SPLite3_enable_shared_cache but apparently
> > that's been deprecated and doesn't exist anymore.(as well as
> > SPLite4_enable_shared_cache)
> >
> > It also appears that SQLite3_enable_shared_cache doesn't work either.
> >
> > From the docs on Sqlite it says you can enable shared cache per
> > connection via the connection string, but it doesn't look like
> > there's
> > any way to do that in Ogr right now.
> >
> > I'm just looking for suggestions on how to enable it.
> >
>
> Hi Kelly,
>
> all link symbols starting with "SPLite3_" simply were a tricky
> workaround adopted by the infamous (and now officially deprecated)
> spatialite-amalgamation.
>
> the real names for all those symbols are the ones defined by
> libsqlite3 and usually starting with "sqlite3_".
> here you can check the full list of all API supported by SQLite:
>
> https://www.sqlite.org/c3ref/funclist.html
>
> bye Sandro
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151210/70d574a8/attachment.html>

From timothy.astle at caris.com  Thu Dec 10 11:22:36 2015
From: timothy.astle at caris.com (Timothy Astle)
Date: Thu, 10 Dec 2015 15:22:36 -0400
Subject: [gdal-dev] Compilation failure when excluding OGR Formats
Message-ID: <5669D0FC.9050908@caris.com>

I just tried to build the head of the GDAL trunk with the following 
commented out in the opt file:

#INCLUDE_OGR_FRMTS = YES

The build fails because during the compilation of ogrutils.  The 
compiler has no idea what GDALGeneralCmdLineProcessor or GDAL_OF_VECTOR 
are.  It appears that gdal.h isn't available to that class when trying 
to build the project with that configuration.

Is that option still supported or is this a bug?

-- 
Tim

From even.rouault at spatialys.com  Thu Dec 10 11:51:06 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 10 Dec 2015 20:51:06 +0100
Subject: [gdal-dev] Compilation failure when excluding OGR Formats
In-Reply-To: <5669D0FC.9050908@caris.com>
References: <5669D0FC.9050908@caris.com>
Message-ID: <201512102051.06058.even.rouault@spatialys.com>

Le jeudi 10 décembre 2015 20:22:36, Timothy Astle a écrit :
> I just tried to build the head of the GDAL trunk with the following
> commented out in the opt file:
> 
> #INCLUDE_OGR_FRMTS = YES
> 
> The build fails because during the compilation of ogrutils.  The
> compiler has no idea what GDALGeneralCmdLineProcessor or GDAL_OF_VECTOR
> are.  It appears that gdal.h isn't available to that class when trying
> to build the project with that configuration.
> 
> Is that option still supported 

Not really. See https://trac.osgeo.org/gdal/ticket/6117


-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From landa.martin at gmail.com  Fri Dec 11 02:16:48 2015
From: landa.martin at gmail.com (Martin Landa)
Date: Fri, 11 Dec 2015 11:16:48 +0100
Subject: [gdal-dev] direct.h and other Windows issue
In-Reply-To: <201512101049.39872.even.rouault@spatialys.com>
References: <CA+Ei1Od1_FFDC=crgygvpmVyQcNg+aXho-ue-_VGHcjHPS5JYQ@mail.gmail.com>
 <201512101027.57073.even.rouault@spatialys.com>
 <CA+Ei1OfksZW1NW02MGXU=edVjnkhR6Jz+a-SvyLT2+joQ3zFWQ@mail.gmail.com>
 <201512101049.39872.even.rouault@spatialys.com>
Message-ID: <CA+Ei1OcK0kobFEzOOuRJ-zwb6MJJk7-rtEVdJJtaBwFnZj6kdg@mail.gmail.com>

Hi,

2015-12-10 10:49 GMT+01:00 Even Rouault <even.rouault at spatialys.com>:

> Definitely. As pointed by Jürgen you're playing a dangerous game here re-using
> with mingw the cpl_config.h designed to work with MSVC.
> This allias of getcwd to _getcwd is for MSVC only.
> To work around this issue you could just #define getcwd getcwd before including
> GDAL headers.

I know, unfortunately to make GRASS compiled by MSVC is so huge effort
that nobody did till now. Martin

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From gane.prog at gmail.com  Fri Dec 11 03:04:02 2015
From: gane.prog at gmail.com (Gane R)
Date: Fri, 11 Dec 2015 16:34:02 +0530
Subject: [gdal-dev] Convert json point to OGRPoint
Message-ID: <CALMrLdAi3nfiH1Ao8pu=--Ri71=fWnyiUk8QbS+iwqXWTs-N2Q@mail.gmail.com>

Q1. exportJson converts Geometry to Json, I am looking a function to
convert the json string to OGRPoint.

Please suggest your suggestions.

Q2. String returned by exportJson should be compulsorly freed using CPLFree
or will be freed automatically.

Thanks
Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151211/34dfa15c/attachment.html>

From mateusz at loskot.net  Fri Dec 11 03:12:56 2015
From: mateusz at loskot.net (Mateusz Loskot)
Date: Fri, 11 Dec 2015 12:12:56 +0100
Subject: [gdal-dev] Convert json point to OGRPoint
In-Reply-To: <CALMrLdAi3nfiH1Ao8pu=--Ri71=fWnyiUk8QbS+iwqXWTs-N2Q@mail.gmail.com>
References: <CALMrLdAi3nfiH1Ao8pu=--Ri71=fWnyiUk8QbS+iwqXWTs-N2Q@mail.gmail.com>
Message-ID: <CABUeae9xhePe9LOFx0ZDi4QYuihy7PzvgS4DAwH5T4t_h21-_A@mail.gmail.com>

On 11 December 2015 at 12:04, Gane R <gane.prog at gmail.com> wrote:
> Q1. exportJson converts Geometry to Json, I am looking a function to convert
> the json string to OGRPoint.

C API function is named OGR_G_CreateGeometryFromJson


> Q2. String returned by exportJson should be compulsorly freed using CPLFree
> or will be freed automatically.

"The returned string should be freed with CPLFree() when no longer required."
from OGR_G_ExportToJson documentation at http://www.gdal.org/ogr__api_8h.html

Best regards,
-- 
Mateusz  Loskot, http://mateusz.loskot.net

From even.rouault at spatialys.com  Sat Dec 12 05:22:36 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Sat, 12 Dec 2015 14:22:36 +0100
Subject: [gdal-dev] New default value for GDAL_CACHEMAX
Message-ID: <201512121422.36192.even.rouault@spatialys.com>

Hi,

As discussed recently, I've just commited a change so that GDAL_CACHEMAX 
defaults to 5% of the usable physical RAM instead of the fixed value of 40 MB. 
A debug trace will display the value used in MB.
The value can be customized with "GDAL_CACHEMAX=X" (in MB) as before, or with 
"GDAL_CACHEMAX=X%"

For fun, I've looked at the history of the default value :
- was 5 MB until 2004
- was 10 MB until 2007
- 40 MB since then

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From gane.prog at gmail.com  Mon Dec 14 04:10:31 2015
From: gane.prog at gmail.com (Gane R)
Date: Mon, 14 Dec 2015 17:40:31 +0530
Subject: [gdal-dev] GeoPDF content inverted as GeoTIF
Message-ID: <CALMrLdCZiYd_fttke2rK1LPp_Hzd4njsLkrzdVfd97AzDnQLiQ@mail.gmail.com>

Here is link to GeoPDF which is inverted when converted to GeoTIFF


https://drive.google.com/file/d/0B4shTM1bPS5TNHBDVG45RzdWYjA/view?usp=sharing


Is it a problem in PDF or something with the PDF driver rotation.

Thanks
Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151214/20728a61/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Dec 14 04:25:13 2015
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka (MML))
Date: Mon, 14 Dec 2015 12:25:13 +0000
Subject: [gdal-dev] GeoPDF content inverted as GeoTIF
Message-ID: <c727f18d665e434f89c8528059f94d5b@C119S212VM022.msvyvi.vaha.local>

Hi,

There is something odd in the PDF. It is without coordinate system and perhaps because of that the top-left coordinates are (0,0) and north coordinate is increasing from top to bottom. Probably the "Invalid length for GPTS object" error does not have any effect on this.



gdalinfo loopmap.pdf
ERROR 1: Invalid length for GPTS object
Driver: PDF/Geospatial PDF
Files: loopmap.pdf
Size is 13246, 2099
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 2099.0)
Upper Right (13246.0,    0.0)
Lower Right (13246.0, 2099.0)

-Jukka Rahkonen-
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151214/84bae6e7/attachment.html>

From even.rouault at spatialys.com  Mon Dec 14 05:50:01 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 14 Dec 2015 14:50:01 +0100
Subject: [gdal-dev] GeoPDF content inverted as GeoTIF
In-Reply-To: <c727f18d665e434f89c8528059f94d5b@C119S212VM022.msvyvi.vaha.local>
References: <c727f18d665e434f89c8528059f94d5b@C119S212VM022.msvyvi.vaha.local>
Message-ID: <201512141450.01463.even.rouault@spatialys.com>

Le lundi 14 décembre 2015 13:25:13, Rahkonen Jukka (MML) a écrit :
> Hi,
> 
> There is something odd in the PDF. It is without coordinate system and
> perhaps because of that the top-left coordinates are (0,0) and north
> coordinate is increasing from top to bottom. Probably the "Invalid length
> for GPTS object" error does not have any effect on this.

It does have an effect. The error messages indicates that the geospatial tags 
are ignored, thus the non-georeferenced coordinates which are displayed.

I've looked at that file a bit and the georeferencing is unusual. It uses Adobe 
ISO 32000 georeferencing but with only 2 tie-points instead of 4 as usual. The 
spec doesn't mention the number of tie-points, but the driver assumes 4, based 
on test samples. It has also unusual MediaBox coordinates (non 0 lower left 
corner)
I've removed locally the limitation and did some fiddling in the code to 
generalize it, but I don't manage to get a good overlay with a basemap. I can 
get something roughly in the target area, but there is a rotation term that is 
clearly missing. But with only 2 tiepoints, the solver of GCPs to geotransform 
cannot produce any rotation term and assumes linear stretching of coordinates. 
You have to make assumptions as you've the 6 coefficients of the geotransform 
matrix to compute, but only 4 equations. In that case, to recover rotation 
terms, it would probably have to make the assumption that the pixels are 
square instead (you'd have only 4 unknowns: x,y of top-left corner, pixel 
size, rotation angle). I didn't investigate further for now. But it seems 
unwise from the data producer to produce only 2 tiepoints because of the above 
mentionned ambiguity. As far as I can see, the PDF spec doesn't tell what to 
do in that case.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jertol52 at gmail.com  Mon Dec 14 09:52:02 2015
From: jertol52 at gmail.com (Jerry Tol)
Date: Mon, 14 Dec 2015 10:52:02 -0700
Subject: [gdal-dev] RasterBand::IWriteBlock
Message-ID: <CAP3jTwn-U5oQhCT7UoTsZBYJ3tztHzwyRy5buhvAreS0o9zLhA@mail.gmail.com>

Hello,
I'm implementing a gdal raster driver for an internal file format and am
getting results I do not understand. The output is a binary raster of
32-bit floating point data, but the resulting file contains single bytes of
value 0x0D at seemingly random intervals throughout the data.

Within my implementation of IWriteBlock, I see that the buffer pointed to
by pImage *does not* contain these 0x0D's, however after calling VSIFWrite the
output file does indeed have these individual bytes scattered throughout.
In all cases, I am creating a new output file (not overwriting an existing
file). Sometimes the 0D's occur in the middle of a 4-byte float, others are
between two 4-byte float sequences. I cannot figure how/when/why these
random 0D's are occurring in my output.

Thank you for any help provided. Here is my implementation of IWriteBlock

CPLErr RLYRRasterBand::IWriteBlock(int nBlockXOff, int nBlockYOff, void *pImage)
{
	RLYRDataset *poGDS = (RLYRDataset *)poDS;
	if (poGDS->fp == 0) {
		CPLError(CE_Failure, CPLE_FileIO, "IWriteBlock: fp is NULL");
		return CE_Failure;
	}
	nBlockYOff = poDS->GetRasterYSize() - nBlockYOff - 1;

	size_t cdtSize = GDALGetDataTypeSize(GetRasterDataType()) / 8;
	size_t nSeek = RLYRMeta::offset_data +
		cdtSize * (nBlockXOff * nBlockYSize + nBlockYOff * nBlockXSize);
	int zeeksez = VSIFSeek(poGDS->fp, nSeek, SEEK_SET);
	if (zeeksez != 0) {
		CPLError(CE_Warning, CPLE_FileIO, "VSIFSeek returns %d", zeeksez);
		return CE_Failure;
	}

	size_t nBlockLen = nBlockXSize * nBlockYSize;
	size_t nWrit = VSIFWrite(pImage, cdtSize, nBlockLen, poGDS->fp);
	if (nWrit != nBlockLen) {
		CPLError(CE_Warning, CPLE_FileIO, "VSIFWrite returns %d", nWrit);
		return CE_Failure;
	}

	// test code - 'foo' does not exhibit bad data but the output file does
	//if (nBlockYOff == 1130) {
	//	FILE *tfp = VSIFOpen("h:\\rasters\\o\\foo", "wb");
	//	size_t nWrit2 = fwrite(pImage, cdtSize, nBlockLen, tfp);
	//	VSIFClose(tfp);
	//}

	return CE_None;
}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151214/958ebb3d/attachment.html>

From watson at sierracmp.com  Mon Dec 14 09:56:01 2015
From: watson at sierracmp.com (George Watson)
Date: Mon, 14 Dec 2015 10:56:01 -0700
Subject: [gdal-dev] RasterBand::IWriteBlock
In-Reply-To: <CAP3jTwn-U5oQhCT7UoTsZBYJ3tztHzwyRy5buhvAreS0o9zLhA@mail.gmail.com>
References: <CAP3jTwn-U5oQhCT7UoTsZBYJ3tztHzwyRy5buhvAreS0o9zLhA@mail.gmail.com>
Message-ID: <1D7DEED3-F3C3-45D7-B02D-7F53E6B857BC@sierracmp.com>

0x0d is a carriage return. Someone is using character I/O somewhere. It’s possible they are appearing after ‘nul’ characters 0x00 bytes or some such.

George Watson
Principal, Sierra Computing
watson at sierracmp.com



> On Dec 14, 2015, at 10:52 AM, Jerry Tol <jertol52 at gmail.com> wrote:
> 
> Hello,
> I'm implementing a gdal raster driver for an internal file format and am getting results I do not understand. The output is a binary raster of 32-bit floating point data, but the resulting file contains single bytes of value 0x0D at seemingly random intervals throughout the data. 
> 
> Within my implementation of IWriteBlock, I see that the buffer pointed to by pImage does not contain these 0x0D's, however after calling VSIFWrite the output file does indeed have these individual bytes scattered throughout. In all cases, I am creating a new output file (not overwriting an existing file). Sometimes the 0D's occur in the middle of a 4-byte float, others are between two 4-byte float sequences. I cannot figure how/when/why these random 0D's are occurring in my output.
> 
> Thank you for any help provided. Here is my implementation of IWriteBlock
> CPLErr RLYRRasterBand::IWriteBlock(int nBlockXOff, int nBlockYOff, void *pImage)
> {
> 	RLYRDataset *poGDS = (RLYRDataset *)poDS;
> 	if (poGDS->fp == 0) {
> 		CPLError(CE_Failure, CPLE_FileIO, "IWriteBlock: fp is NULL");
> 		return CE_Failure;
> 	}
> 	nBlockYOff = poDS->GetRasterYSize() - nBlockYOff - 1;
>  
> 	size_t cdtSize = GDALGetDataTypeSize(GetRasterDataType()) / 8;
> 	size_t nSeek = RLYRMeta::offset_data + 
> 		cdtSize * (nBlockXOff * nBlockYSize + nBlockYOff * nBlockXSize);
> 	int zeeksez = VSIFSeek(poGDS->fp, nSeek, SEEK_SET);
> 	if (zeeksez != 0) {
> 		CPLError(CE_Warning, CPLE_FileIO, "VSIFSeek returns %d", zeeksez);
> 		return CE_Failure;
> 	}
>  
> 	size_t nBlockLen = nBlockXSize * nBlockYSize;
> 	size_t nWrit = VSIFWrite(pImage, cdtSize, nBlockLen, poGDS->fp);
> 	if (nWrit != nBlockLen) {
> 		CPLError(CE_Warning, CPLE_FileIO, "VSIFWrite returns %d", nWrit);
> 		return CE_Failure;
> 	}
>  
> 	// test code - 'foo' does not exhibit bad data but the output file does
> 	//if (nBlockYOff == 1130) {
> 	//	FILE *tfp = VSIFOpen("h:\\rasters\\o\\foo", "wb");
> 	//	size_t nWrit2 = fwrite(pImage, cdtSize, nBlockLen, tfp);
> 	//	VSIFClose(tfp);
> 	//}
>  
> 	return CE_None;
> }
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151214/e1ba3ff4/attachment-0001.html>

From jertol52 at gmail.com  Mon Dec 14 10:13:12 2015
From: jertol52 at gmail.com (Jerry Tol)
Date: Mon, 14 Dec 2015 11:13:12 -0700
Subject: [gdal-dev] RasterBand::IWriteBlock
In-Reply-To: <1D7DEED3-F3C3-45D7-B02D-7F53E6B857BC@sierracmp.com>
References: <CAP3jTwn-U5oQhCT7UoTsZBYJ3tztHzwyRy5buhvAreS0o9zLhA@mail.gmail.com>
 <1D7DEED3-F3C3-45D7-B02D-7F53E6B857BC@sierracmp.com>
Message-ID: <CAP3jTw=0qBKPjYFK3eOxckmtsvOdi+P9rZLJY8=MYdRMhGsqYw@mail.gmail.com>

Thank you - interesting theory but none of the carriage returns occur after
a null, and I'm using gdalwarp to test the driver, so I see no reason for
character io to occur on the output.

Another useful bit of info: the problem does not occur if I specify -ot
Int16. I get random carriage returns only with 32bit float output.

...much obliged...

Tom

On Monday, December 14, 2015, George Watson <watson at sierracmp.com> wrote:

> 0x0d is a carriage return. Someone is using character I/O somewhere. It’s
> possible they are appearing after ‘nul’ characters 0x00 bytes or some such.
>
> George Watson
> Principal, Sierra Computing
> watson at sierracmp.com
> <javascript:_e(%7B%7D,'cvml','watson at sierracmp.com');>
>
>
>
> On Dec 14, 2015, at 10:52 AM, Jerry Tol <jertol52 at gmail.com
> <javascript:_e(%7B%7D,'cvml','jertol52 at gmail.com');>> wrote:
>
> Hello,
> I'm implementing a gdal raster driver for an internal file format and am
> getting results I do not understand. The output is a binary raster of
> 32-bit floating point data, but the resulting file contains single bytes of
> value 0x0D at seemingly random intervals throughout the data.
>
> Within my implementation of IWriteBlock, I see that the buffer pointed to
> by pImage *does not* contain these 0x0D's, however after calling
> VSIFWrite the output file does indeed have these individual bytes
> scattered throughout. In all cases, I am creating a new output file (not
> overwriting an existing file). Sometimes the 0D's occur in the middle of a
> 4-byte float, others are between two 4-byte float sequences. I cannot
> figure how/when/why these random 0D's are occurring in my output.
>
> Thank you for any help provided. Here is my implementation of IWriteBlock
>
> CPLErr RLYRRasterBand::IWriteBlock(int nBlockXOff, int nBlockYOff, void *pImage)
> {
> 	RLYRDataset *poGDS = (RLYRDataset *)poDS;
> 	if (poGDS->fp == 0) {
> 		CPLError(CE_Failure, CPLE_FileIO, "IWriteBlock: fp is NULL");
> 		return CE_Failure;
> 	}
> 	nBlockYOff = poDS->GetRasterYSize() - nBlockYOff - 1;
>
> 	size_t cdtSize = GDALGetDataTypeSize(GetRasterDataType()) / 8;
> 	size_t nSeek = RLYRMeta::offset_data +
> 		cdtSize * (nBlockXOff * nBlockYSize + nBlockYOff * nBlockXSize);
> 	int zeeksez = VSIFSeek(poGDS->fp, nSeek, SEEK_SET);
> 	if (zeeksez != 0) {
> 		CPLError(CE_Warning, CPLE_FileIO, "VSIFSeek returns %d", zeeksez);
> 		return CE_Failure;
> 	}
>
> 	size_t nBlockLen = nBlockXSize * nBlockYSize;
> 	size_t nWrit = VSIFWrite(pImage, cdtSize, nBlockLen, poGDS->fp);
> 	if (nWrit != nBlockLen) {
> 		CPLError(CE_Warning, CPLE_FileIO, "VSIFWrite returns %d", nWrit);
> 		return CE_Failure;
> 	}
>
> 	// test code - 'foo' does not exhibit bad data but the output file does
> 	//if (nBlockYOff == 1130) {
> 	//	FILE *tfp = VSIFOpen("h:\\rasters\\o\\foo", "wb");
> 	//	size_t nWrit2 = fwrite(pImage, cdtSize, nBlockLen, tfp);
> 	//	VSIFClose(tfp);
> 	//}
>
> 	return CE_None;
> }
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> <javascript:_e(%7B%7D,'cvml','gdal-dev at lists.osgeo.org');>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151214/6246e30a/attachment.html>

From jertol52 at gmail.com  Mon Dec 14 10:41:03 2015
From: jertol52 at gmail.com (Jerry Tol)
Date: Mon, 14 Dec 2015 11:41:03 -0700
Subject: [gdal-dev] RasterBand::IWriteBlock
In-Reply-To: <CAP3jTw=0qBKPjYFK3eOxckmtsvOdi+P9rZLJY8=MYdRMhGsqYw@mail.gmail.com>
References: <CAP3jTwn-U5oQhCT7UoTsZBYJ3tztHzwyRy5buhvAreS0o9zLhA@mail.gmail.com>
 <1D7DEED3-F3C3-45D7-B02D-7F53E6B857BC@sierracmp.com>
 <CAP3jTw=0qBKPjYFK3eOxckmtsvOdi+P9rZLJY8=MYdRMhGsqYw@mail.gmail.com>
Message-ID: <CAP3jTwnGQZFkq1OmYVyWJF-yW79sJ6_JPCSAyHRUGAn9tBQqDw@mail.gmail.com>

Problem Solved.

Mr. G Watson provided the solution. Specifically, I had specified "w" in my
call to VSIFOpen. The carriage returns rightfully disappeared
after changing the mode to "wb".

What threw me off was the fact that the problem did not occur when using
Int16 output. Ugh, another beginner mistake on my part.

Thanks again G Watson!

Tom

On Monday, December 14, 2015, Jerry Tol <jertol52 at gmail.com> wrote:

> Thank you - interesting theory but none of the carriage returns occur
> after a null, and I'm using gdalwarp to test the driver, so I see no reason
> for character io to occur on the output.
>
> Another useful bit of info: the problem does not occur if I specify -ot
> Int16. I get random carriage returns only with 32bit float output.
>
> ...much obliged...
>
> Tom
>
> On Monday, December 14, 2015, George Watson <watson at sierracmp.com
> <javascript:_e(%7B%7D,'cvml','watson at sierracmp.com');>> wrote:
>
>> 0x0d is a carriage return. Someone is using character I/O somewhere. It’s
>> possible they are appearing after ‘nul’ characters 0x00 bytes or some such.
>>
>> George Watson
>> Principal, Sierra Computing
>> watson at sierracmp.com
>>
>>
>>
>> On Dec 14, 2015, at 10:52 AM, Jerry Tol <jertol52 at gmail.com> wrote:
>>
>> Hello,
>> I'm implementing a gdal raster driver for an internal file format and am
>> getting results I do not understand. The output is a binary raster of
>> 32-bit floating point data, but the resulting file contains single bytes of
>> value 0x0D at seemingly random intervals throughout the data.
>>
>> Within my implementation of IWriteBlock, I see that the buffer pointed to
>> by pImage *does not* contain these 0x0D's, however after calling
>> VSIFWrite the output file does indeed have these individual bytes
>> scattered throughout. In all cases, I am creating a new output file (not
>> overwriting an existing file). Sometimes the 0D's occur in the middle of a
>> 4-byte float, others are between two 4-byte float sequences. I cannot
>> figure how/when/why these random 0D's are occurring in my output.
>>
>> Thank you for any help provided. Here is my implementation of IWriteBlock
>>
>> CPLErr RLYRRasterBand::IWriteBlock(int nBlockXOff, int nBlockYOff, void *pImage)
>> {
>> 	RLYRDataset *poGDS = (RLYRDataset *)poDS;
>> 	if (poGDS->fp == 0) {
>> 		CPLError(CE_Failure, CPLE_FileIO, "IWriteBlock: fp is NULL");
>> 		return CE_Failure;
>> 	}
>> 	nBlockYOff = poDS->GetRasterYSize() - nBlockYOff - 1;
>>
>> 	size_t cdtSize = GDALGetDataTypeSize(GetRasterDataType()) / 8;
>> 	size_t nSeek = RLYRMeta::offset_data +
>> 		cdtSize * (nBlockXOff * nBlockYSize + nBlockYOff * nBlockXSize);
>> 	int zeeksez = VSIFSeek(poGDS->fp, nSeek, SEEK_SET);
>> 	if (zeeksez != 0) {
>> 		CPLError(CE_Warning, CPLE_FileIO, "VSIFSeek returns %d", zeeksez);
>> 		return CE_Failure;
>> 	}
>>
>> 	size_t nBlockLen = nBlockXSize * nBlockYSize;
>> 	size_t nWrit = VSIFWrite(pImage, cdtSize, nBlockLen, poGDS->fp);
>> 	if (nWrit != nBlockLen) {
>> 		CPLError(CE_Warning, CPLE_FileIO, "VSIFWrite returns %d", nWrit);
>> 		return CE_Failure;
>> 	}
>>
>> 	// test code - 'foo' does not exhibit bad data but the output file does
>> 	//if (nBlockYOff == 1130) {
>> 	//	FILE *tfp = VSIFOpen("h:\\rasters\\o\\foo", "wb");
>> 	//	size_t nWrit2 = fwrite(pImage, cdtSize, nBlockLen, tfp);
>> 	//	VSIFClose(tfp);
>> 	//}
>>
>> 	return CE_None;
>> }
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151214/165fa70f/attachment.html>

From kochizufan at gmail.com  Tue Dec 15 02:16:41 2015
From: kochizufan at gmail.com (OHTSUKA Ko-hei)
Date: Tue, 15 Dec 2015 19:16:41 +0900
Subject: [gdal-dev] How can I found gcp error in gdalwarp?
Message-ID: <CAKs-9JJYFx430p7xVqD2cxZUuuC+K4MxEjG3fOqLO3Su7KGgRQ@mail.gmail.com>

Hello,

I use gdalwarp for georeferencing.

I run gdalwarp with many gcps, then warning says:
"There is a problem to invert the interpolation matrix"

I think some errors may exist in gcps, but I don't know how to find where
it is.

Are there any simple way to find errors in gcps?

Ko-hei
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151215/3a911981/attachment.html>

From kochizufan at gmail.com  Tue Dec 15 02:19:09 2015
From: kochizufan at gmail.com (OHTSUKA Ko-hei)
Date: Tue, 15 Dec 2015 19:19:09 +0900
Subject: [gdal-dev] Are there any way to add bulk gcps?
Message-ID: <CAKs-9JKgk6qdZvO2gjNBPcxB9iPjqZGGp8L_f14BOLxCrwdRkg@mail.gmail.com>

Hello,

I use gdalwarp, gdal_translate with too many gcps.
Then command says:
"Argument list too long"

Is thare any way to add too many gcps as bulk?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151215/1e8be0ad/attachment.html>

From bradh at frogmouth.net  Tue Dec 15 02:30:11 2015
From: bradh at frogmouth.net (Brad Hards)
Date: Tue, 15 Dec 2015 21:30:11 +1100
Subject: [gdal-dev] Are there any way to add bulk gcps?
In-Reply-To: <CAKs-9JKgk6qdZvO2gjNBPcxB9iPjqZGGp8L_f14BOLxCrwdRkg@mail.gmail.com>
References: <CAKs-9JKgk6qdZvO2gjNBPcxB9iPjqZGGp8L_f14BOLxCrwdRkg@mail.gmail.com>
Message-ID: <1471686.PnP8NByqpW@saxicola>

On Tue, 15 Dec 2015 07:19:09 PM OHTSUKA Ko-hei wrote:
> I use gdalwarp, gdal_translate with too many gcps.
> Then command says:
> "Argument list too long"
> 
> Is thare any way to add too many gcps as bulk?
http://www.gdal.org/gdal_utilities.html describes the --optfile argument, which 
is ideal for this kind of case, where the options are too long for the shell.

Brad

From even.rouault at spatialys.com  Tue Dec 15 05:34:31 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 15 Dec 2015 14:34:31 +0100
Subject: [gdal-dev] How can I found gcp error in gdalwarp?
In-Reply-To: <CAKs-9JJYFx430p7xVqD2cxZUuuC+K4MxEjG3fOqLO3Su7KGgRQ@mail.gmail.com>
References: <CAKs-9JJYFx430p7xVqD2cxZUuuC+K4MxEjG3fOqLO3Su7KGgRQ@mail.gmail.com>
Message-ID: <201512151434.31546.even.rouault@spatialys.com>

Le mardi 15 décembre 2015 11:16:41, OHTSUKA Ko-hei a écrit :
> Hello,
> 
> I use gdalwarp for georeferencing.
> 
> I run gdalwarp with many gcps, then warning says:
> "There is a problem to invert the interpolation matrix"
> 
> I think some errors may exist in gcps, but I don't know how to find where
> it is.
> 
> Are there any simple way to find errors in gcps?

Ko-hei,

I'm afraid there isn't an easy method. There might be "obvious" errors like 
fully duplicated GCP records, or 2 GCPs that would have same pixel,line 
coordinates but different X,Y georeferenced coordinates (or the reverse). But 
there might be far less obvious errors leading to this mathematic anomaly.

I've just added in GDAL trunk an improvement regarding reporting of the 
"obvious" errors: 
https://trac.osgeo.org/gdal/changeset/32187

Even

> 
> Ko-hei

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From gane.prog at gmail.com  Tue Dec 15 05:53:34 2015
From: gane.prog at gmail.com (Gane R)
Date: Tue, 15 Dec 2015 19:23:34 +0530
Subject: [gdal-dev] GeoPDF content inverted as GeoTIF
In-Reply-To: <201512141450.01463.even.rouault@spatialys.com>
References: <c727f18d665e434f89c8528059f94d5b@C119S212VM022.msvyvi.vaha.local>
 <201512141450.01463.even.rouault@spatialys.com>
Message-ID: <CALMrLdDq3OwWwJue+AwaCfYQyYqrHAJYdWVHCc8DNQsoYBCy-A@mail.gmail.com>

Thanks for your timely response. Well the PDF was generated at the source
by different form such that I didn't face this problem, that new version of
the file worked for me.

On Mon, Dec 14, 2015 at 7:20 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Le lundi 14 décembre 2015 13:25:13, Rahkonen Jukka (MML) a écrit :
> > Hi,
> >
> > There is something odd in the PDF. It is without coordinate system and
> > perhaps because of that the top-left coordinates are (0,0) and north
> > coordinate is increasing from top to bottom. Probably the "Invalid length
> > for GPTS object" error does not have any effect on this.
>
> It does have an effect. The error messages indicates that the geospatial
> tags
> are ignored, thus the non-georeferenced coordinates which are displayed.
>
> I've looked at that file a bit and the georeferencing is unusual. It uses
> Adobe
> ISO 32000 georeferencing but with only 2 tie-points instead of 4 as usual.
> The
> spec doesn't mention the number of tie-points, but the driver assumes 4,
> based
> on test samples. It has also unusual MediaBox coordinates (non 0 lower left
> corner)
> I've removed locally the limitation and did some fiddling in the code to
> generalize it, but I don't manage to get a good overlay with a basemap. I
> can
> get something roughly in the target area, but there is a rotation term
> that is
> clearly missing. But with only 2 tiepoints, the solver of GCPs to
> geotransform
> cannot produce any rotation term and assumes linear stretching of
> coordinates.
> You have to make assumptions as you've the 6 coefficients of the
> geotransform
> matrix to compute, but only 4 equations. In that case, to recover rotation
> terms, it would probably have to make the assumption that the pixels are
> square instead (you'd have only 4 unknowns: x,y of top-left corner, pixel
> size, rotation angle). I didn't investigate further for now. But it seems
> unwise from the data producer to produce only 2 tiepoints because of the
> above
> mentionned ambiguity. As far as I can see, the PDF spec doesn't tell what
> to
> do in that case.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151215/b85b636d/attachment.html>

From gane.prog at gmail.com  Tue Dec 15 07:00:19 2015
From: gane.prog at gmail.com (Gane R)
Date: Tue, 15 Dec 2015 20:30:19 +0530
Subject: [gdal-dev] generate raster "GeoTIFF" for given lat long bounds at
 particular zoom using GDAL
Message-ID: <CALMrLdCFq2Xpmn0_GTNR6W9w78KuFjbgwNzYGdr9ptjtCcPg-Q@mail.gmail.com>

How to convert Lat Long bounds to geotransform values for a particular zoom
in EPSG:4326


I can generated a raster with width, height and the geotransform values.

But for an Lat Long bounds at a particular zoom say highest 22, will the
xres and yres vary with location ?

Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151215/e6e57ae7/attachment.html>

From nicolas.cadieux at archeotec.ca  Tue Dec 15 07:56:21 2015
From: nicolas.cadieux at archeotec.ca (nicolas.cadieux at archeotec.ca)
Date: Tue, 15 Dec 2015 10:56:21 -0500
Subject: [gdal-dev] generate raster "GeoTIFF" for given lat long bounds
 at particular zoom using GDAL
In-Reply-To: <CALMrLdCFq2Xpmn0_GTNR6W9w78KuFjbgwNzYGdr9ptjtCcPg-Q@mail.gmail.com>
References: <CALMrLdCFq2Xpmn0_GTNR6W9w78KuFjbgwNzYGdr9ptjtCcPg-Q@mail.gmail.com>
Message-ID: <56703825.30700@archeotec.ca>

Hi,

If you want a standard x and y, you will need to reproject using a 
projected coordinate systems like (WGS84/UTM Zone 18).  Then, you will 
get a square pixel resolution that is in meters.  If you use WGS84 
Long-Lat, grids or pixels are almost square at the equator but become 
more and more rectangular as you go North or South.

Cheers!
Nicolas

Le 2015-12-15 10:00, Gane R a écrit :
> How to convert Lat Long bounds to geotransform values for a particular 
> zoom in EPSG:4326
>
>
> I can generated a raster with width, height and the geotransform values.
>
> But for an Lat Long bounds at a particular zoom say highest 22, will 
> the xres and yres vary with location ?
>
> Gane


From clutz at virtualcitysystems.de  Tue Dec 15 08:23:44 2015
From: clutz at virtualcitysystems.de (cl)
Date: Tue, 15 Dec 2015 08:23:44 -0800 (PST)
Subject: [gdal-dev] Changing pixel values of GDAL VRT
Message-ID: <1450196624440-5241432.post@n6.nabble.com>

Is it possible to manipulate the pixel values of a GDAL VRT and, if so, how?
The original data must remain unchanged.

I have a dataset which might be a bit rotated so that there are no data
values on the edges. I use region growing to find that parts on the edge to
not touch no data values in the actual area. I want to interpolate in the
actual area in a next step. Sometimes I might have e.g. a very large dataset
or ASCII data which can not be overwritten.



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Changing-pixel-values-of-GDAL-VRT-tp5241432.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at spatialys.com  Tue Dec 15 09:14:15 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 15 Dec 2015 18:14:15 +0100
Subject: [gdal-dev] Changing pixel values of GDAL VRT
In-Reply-To: <1450196624440-5241432.post@n6.nabble.com>
References: <1450196624440-5241432.post@n6.nabble.com>
Message-ID: <201512151814.16021.even.rouault@spatialys.com>

Le mardi 15 décembre 2015 17:23:44, cl a écrit :
> Is it possible to manipulate the pixel values of a GDAL VRT and, if so,
> how? The original data must remain unchanged.
> 
> I have a dataset which might be a bit rotated so that there are no data
> values on the edges. I use region growing to find that parts on the edge to
> not touch no data values in the actual area. I want to interpolate in the
> actual area in a next step. Sometimes I might have e.g. a very large
> dataset or ASCII data which can not be overwritten.

So basically you'd want a http://gdal.org/nearblack.html that would work on 
the fly ?

> 
> 
> 
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/Changing-pixel-values-of-GDAL-VRT-tp52
> 41432.html Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From stefan.van.der.hoorn at geodan.nl  Wed Dec 16 03:05:23 2015
From: stefan.van.der.hoorn at geodan.nl (Stefan van der Hoorn)
Date: Wed, 16 Dec 2015 12:05:23 +0100
Subject: [gdal-dev] Fwd: Converting multi-geometry GML with ogr2ogr not
	working
In-Reply-To: <CAF=BBCtx+cPyiM0+k4-PaZdb8G0aHk4-SNUkq3r7GtMUpW3Ujg@mail.gmail.com>
References: <CAF=BBCtx+cPyiM0+k4-PaZdb8G0aHk4-SNUkq3r7GtMUpW3Ujg@mail.gmail.com>
Message-ID: <CAF=BBCvmJ=2b+9teFF0oJRUrTSK937eZdVsTDWGwo1v-qZbqSw@mail.gmail.com>

All

I am having difficulties with GML loading in PostGIS with ogr2ogr.

It is a GML of buildingparts containing both polygons and (label)-points.
In this example (below) I have a selection of 9 objects. The number of
polygons is 9 and there are 6 point-objects. So there are 6 object with
both polygon and point geometry.

ogr2ogr -skipfailures -lco OVERWRITE=yes --config PG_USE_COPY YES -gt
50000 -lco LAUNDER=NO -f "PostgreSQL" PG:"host=xxxx user=xxxx
dbname=xxxx password=xxxx" "buildingpart.gml" -sql "select * from
buildingpart where OGR_GEOMETRY = 'MULTIPOLYGON'" -nln
test.buildingpart_multipolygon_selection

ogr2ogr -skipfailures -lco OVERWRITE=yes --config PG_USE_COPY YES -gt
50000 -lco LAUNDER=NO -f "PostgreSQL" PG:"host=xxxx user=xxxx
dbname=xxxx password=xxxx" "buildingpart.gml" -sql "select * from
buildingpart where OGR_GEOMETRY = 'POINT'" -nln
test.buildingpart_point_selection


Unfortunately without result.
Is anyone familiar with this problem of multiple geometry in GML. And is
there a solution?

Attached you will find a selection of the GML.

Hope to hear from you.

Kind regards,
Stefan van der Hoorn
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151216/9408effc/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: buildingpart_selection.gml
Type: application/octet-stream
Size: 18266 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151216/9408effc/attachment-0001.obj>

From ari.jolma at gmail.com  Wed Dec 16 05:28:17 2015
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed, 16 Dec 2015 15:28:17 +0200
Subject: [gdal-dev] linker errors
Message-ID: <567166F1.10300@gmail.com>

I've got linker errors from some recent commits. I guess they are 
namespace issues.

libgdal.so: undefined reference to `ods_formulalex(ods_formula_node**, 
ods_formula_parse_context*)'
libgdal.so: undefined reference to 
`JPGDatasetCommon::EmitMessage(jpeg_common_struct*, int)'
libgdal.so: undefined reference to `JPGAddEXIFOverview(GDALDataType, 
GDALDataset*, char**, jpeg_compress_struct*, void 
(*)(jpeg_compress_struct*, int, unsigned int), void 
(*)(jpeg_compress_struct*, int), GDALDataset* (*)(char const*, 
GDALDataset*, int, char**, int (*)(double, char const*, void*), void*))'
libgdal.so: undefined reference to 
`JPGAddICCProfile(jpeg_compress_struct*, char const*, void 
(*)(jpeg_compress_struct*, int, unsigned int), void 
(*)(jpeg_compress_struct*, int))'
libgdal.so: undefined reference to 
`JPGDatasetCommon::ErrorOutOnNonFatalError()'

What to do?

Ari


From even.rouault at spatialys.com  Wed Dec 16 07:07:34 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 16 Dec 2015 16:07:34 +0100
Subject: [gdal-dev] linker errors
In-Reply-To: <567166F1.10300@gmail.com>
References: <567166F1.10300@gmail.com>
Message-ID: <201512161607.34382.even.rouault@spatialys.com>

Le mercredi 16 décembre 2015 14:28:17, Ari Jolma a écrit :
> I've got linker errors from some recent commits. I guess they are
> namespace issues.
> 
> libgdal.so: undefined reference to `ods_formulalex(ods_formula_node**,
> ods_formula_parse_context*)'
> libgdal.so: undefined reference to
> `JPGDatasetCommon::EmitMessage(jpeg_common_struct*, int)'
> libgdal.so: undefined reference to `JPGAddEXIFOverview(GDALDataType,
> GDALDataset*, char**, jpeg_compress_struct*, void
> (*)(jpeg_compress_struct*, int, unsigned int), void
> (*)(jpeg_compress_struct*, int), GDALDataset* (*)(char const*,
> GDALDataset*, int, char**, int (*)(double, char const*, void*), void*))'
> libgdal.so: undefined reference to
> `JPGAddICCProfile(jpeg_compress_struct*, char const*, void
> (*)(jpeg_compress_struct*, int, unsigned int), void
> (*)(jpeg_compress_struct*, int))'
> libgdal.so: undefined reference to
> `JPGDatasetCommon::ErrorOutOnNonFatalError()'
> 
> What to do?

Did you do a make clean ? None of the continuous integration platforms show 
linking issues.

> 
> Ari
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From ari.jolma at gmail.com  Wed Dec 16 07:17:29 2015
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed, 16 Dec 2015 17:17:29 +0200
Subject: [gdal-dev] linker errors
In-Reply-To: <201512161607.34382.even.rouault@spatialys.com>
References: <567166F1.10300@gmail.com>
 <201512161607.34382.even.rouault@spatialys.com>
Message-ID: <CAEWPGn7x88zWv_2MFihXvLpU9uNZcmhjNFmwCPj+S32MVn=usA@mail.gmail.com>

I think I did not. I just did configure. Hm. There should almost be make
clean in configure, methinks.

Thanks.
16.12.2015 17.07 "Even Rouault" <even.rouault at spatialys.com> kirjoitti:

> Le mercredi 16 décembre 2015 14:28:17, Ari Jolma a écrit :
> > I've got linker errors from some recent commits. I guess they are
> > namespace issues.
> >
> > libgdal.so: undefined reference to `ods_formulalex(ods_formula_node**,
> > ods_formula_parse_context*)'
> > libgdal.so: undefined reference to
> > `JPGDatasetCommon::EmitMessage(jpeg_common_struct*, int)'
> > libgdal.so: undefined reference to `JPGAddEXIFOverview(GDALDataType,
> > GDALDataset*, char**, jpeg_compress_struct*, void
> > (*)(jpeg_compress_struct*, int, unsigned int), void
> > (*)(jpeg_compress_struct*, int), GDALDataset* (*)(char const*,
> > GDALDataset*, int, char**, int (*)(double, char const*, void*), void*))'
> > libgdal.so: undefined reference to
> > `JPGAddICCProfile(jpeg_compress_struct*, char const*, void
> > (*)(jpeg_compress_struct*, int, unsigned int), void
> > (*)(jpeg_compress_struct*, int))'
> > libgdal.so: undefined reference to
> > `JPGDatasetCommon::ErrorOutOnNonFatalError()'
> >
> > What to do?
>
> Did you do a make clean ? None of the continuous integration platforms show
> linking issues.
>
> >
> > Ari
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151216/3b233f77/attachment.html>

From even.rouault at spatialys.com  Wed Dec 16 08:31:33 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 16 Dec 2015 17:31:33 +0100
Subject: [gdal-dev] Fwd: Converting multi-geometry GML with ogr2ogr not
	working
In-Reply-To: <CAF=BBCvmJ=2b+9teFF0oJRUrTSK937eZdVsTDWGwo1v-qZbqSw@mail.gmail.com>
References: <CAF=BBCtx+cPyiM0+k4-PaZdb8G0aHk4-SNUkq3r7GtMUpW3Ujg@mail.gmail.com>
 <CAF=BBCvmJ=2b+9teFF0oJRUrTSK937eZdVsTDWGwo1v-qZbqSw@mail.gmail.com>
Message-ID: <201512161731.34263.even.rouault@spatialys.com>

Le mercredi 16 décembre 2015 12:05:23, Stefan van der Hoorn a écrit :
> All
> 
> I am having difficulties with GML loading in PostGIS with ogr2ogr.
> 
> It is a GML of buildingparts containing both polygons and (label)-points.
> In this example (below) I have a selection of 9 objects. The number of
> polygons is 9 and there are 6 point-objects. So there are 6 object with
> both polygon and point geometry.

Stefan,

By default when parsing a GML file without a side .xsd file (or if it cannot 
understand the .xsd file), the GML driver will only report the "last" geometry
element in a feature (should perhaps be improved, but that's another story).

You can manually workaround that by explictly define in the .gfs file that
OGR produces the first time it reads a GML file the following, which will define
explictly where to find geometries.

<GMLFeatureClassList>
  <GMLFeatureClass>
    <Name>BuildingPart</Name>
    <ElementPath>BuildingPart</ElementPath>
    <SRSName>urn:ogc:def:crs:EPSG::28992</SRSName>

<!-- beginning of additions -->
    <GeomPropertyDefn>
        <Name>geometrie2dGrondvlak</Name>
        <ElementPath>geometrie2dGrondvlak</ElementPath>
        <Type>MultiPolygon</Type>
    </GeomPropertyDefn>
    <GeomPropertyDefn>
        <Name>plaatsingspunt</Name>
        <ElementPath>nummeraanduidingreeks|Nummeraanduidingreeks|nummeraanduidingreeks|Label|positie|Labelpositie|plaatsingspunt</ElementPath>
        <Type>Point</Type>
    </GeomPropertyDefn>
<!-- end of additions -->
[... unmodified rest of file ... ]


This is documented in the "Syntax of .gfs file by example" section of http://gdal.org/drv_gml.html

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From nicolas.cadieux at archeotec.ca  Wed Dec 16 10:13:25 2015
From: nicolas.cadieux at archeotec.ca (nicolas.cadieux at archeotec.ca)
Date: Wed, 16 Dec 2015 13:13:25 -0500
Subject: [gdal-dev] Improvements in GDAL Grid 2.01 vs 1.11.2 report
Message-ID: <5671A9C5.1030103@archeotec.ca>

Hi,
I have been using Gdal_Grid to interpolate LiDAR files.  I use the NN 
algorithm.  I order to reduce any border effect, I have been stitching 
all of my files together creating one big file.

This created problems.  The first being the GDAL_Grid had a 16mb buffer 
and needed to recalculate the quad tree for each work buffer. I was 
instructed to increase the buffer and to recompile Gdal_grid.

These are the result for creating a NN raster using a 3 x 3 search 
radius for 517 127 949 points.

Gdal 1.11.2 with 16mb buffer:  no results.  I pulled the plug after 3 
week of processing.  (I had about 2 1/2 months to go!).
Gdal 1.11.2 recompiled with a 1.5GB buffer: 4h46 min
Gdal 2.1.0 dev released 2015/99/99 (downloaded binaries. This version 
now has no need to recalculate the quad tree for each work buffer:  1h22min.

This is on a Intel i7 extreme edition with 6 core + hyper threading 
turned on.  64GB of ram, SSD drive.

Both files look the same (will report back if not) except for the fact 
that the Gdal 2.1.0 version has no data values in the file (and the  
1.11.2 version has -32768) so that is an added extra bonus.

Thanks for you work.
Nicolas Cadieux
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151216/adc8369d/attachment.html>

From gane.prog at gmail.com  Wed Dec 16 23:32:58 2015
From: gane.prog at gmail.com (Gane R)
Date: Thu, 17 Dec 2015 13:02:58 +0530
Subject: [gdal-dev] calculating geotransform for a given bound Lat Long in
	EPSG:4326
Message-ID: <CALMrLdC8t36XxRtYMzq=ZsXUqhee5p_T-pmx1_1038s4Fwrmnw@mail.gmail.com>

How a geotransform values are calulated.


Any references will be of greate help
Thanks
Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151217/4996cd9b/attachment.html>

From ari.jolma at gmail.com  Wed Dec 16 23:55:12 2015
From: ari.jolma at gmail.com (Ari Jolma)
Date: Thu, 17 Dec 2015 09:55:12 +0200
Subject: [gdal-dev] calculating geotransform for a given bound Lat Long
 in EPSG:4326
In-Reply-To: <CALMrLdC8t36XxRtYMzq=ZsXUqhee5p_T-pmx1_1038s4Fwrmnw@mail.gmail.com>
References: <CALMrLdC8t36XxRtYMzq=ZsXUqhee5p_T-pmx1_1038s4Fwrmnw@mail.gmail.com>
Message-ID: <56726A60.3030100@gmail.com>

17.12.2015, 09:32, Gane R kirjoitti:
> How a geotransform values are calulated.

That depends on what you got. If you have a list of points in map 
coordinates and the same points in pixels then they can be computed with 
linear regression. I believe gdalwarper does it for example. You can do 
it yourself too with various tools.

Otherwise you just use whatever metainformation you have and do the math.

It is not clear in your question whether you want to do the calculation 
or are you asking how GDAL/some other software calculates the geotransform.

Best regards,

Ari

>
>
> Any references will be of greate help
> Thanks
> Gane
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151217/a7df4e35/attachment.html>

From sbasos at yahoo.com  Thu Dec 17 02:41:39 2015
From: sbasos at yahoo.com (Basos Syrris)
Date: Thu, 17 Dec 2015 10:41:39 +0000 (UTC)
Subject: [gdal-dev] get image pointer
References: <1735787933.53706.1450348899302.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <1735787933.53706.1450348899302.JavaMail.yahoo@mail.yahoo.com>

Hi list,By using Python Gdal api to read an image, is it possible to get the pointer of the image instead of taking the whole content as a string structure as this happens with the ReadRaster() method?Thank you in advance.Basos
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151217/a3d7bb82/attachment.html>

From landa.martin at gmail.com  Thu Dec 17 04:27:12 2015
From: landa.martin at gmail.com (Martin Landa)
Date: Thu, 17 Dec 2015 13:27:12 +0100
Subject: [gdal-dev] gml: array data type size
Message-ID: <CA+Ei1Od+UvAP-U1guLdDxb7XMBEK3F79=vy5H40KR9_eH+sPKw@mail.gmail.com>

Hi,

currently I am trying to solve problem with inconsistent number of
items in IntergerList data type. Let's say that we have:

<soi:DetailniTEA>
   <soi:DetailniTEA>
      <soi:Kod>52129</soi:Kod>
      <soi:PlatiOd>2015-03-24T00:00:00</soi:PlatiOd>
      <soi:GlobalniIdNavrhuZmeny>480333</soi:GlobalniIdNavrhuZmeny>
      <soi:PocetBytu>16</soi:PocetBytu>
      <soi:PocetPodlazi>7</soi:PocetPodlazi>
      <soi:AdresniMistoKod><base:Kod>159140</base:Kod></soi:AdresniMistoKod>
   </soi:DetailniTEA>
   <soi:DetailniTEA>
      <soi:Kod>52142</soi:Kod>
      <soi:PlatiOd>2015-03-24T00:00:00</soi:PlatiOd>
      <soi:GlobalniIdNavrhuZmeny>480333</soi:GlobalniIdNavrhuZmeny>
      <soi:DruhKonstrukceKod>4</soi:DruhKonstrukceKod>
      <soi:PocetBytu>16</soi:PocetBytu>
      <soi:PocetPodlazi>7</soi:PocetPodlazi>
      <soi:PripojeniKanalizaceKod>1</soi:PripojeniKanalizaceKod>
      <soi:PripojeniPlynKod>1</soi:PripojeniPlynKod>
      <soi:PripojeniVodovodKod>1</soi:PripojeniVodovodKod>
      <soi:ZpusobVytapeniKod>2</soi:ZpusobVytapeniKod>
      <soi:AdresniMistoKod><base:Kod>159131</base:Kod></soi:AdresniMistoKod>
   </soi:DetailniTEA>
 </soi:DetailniTEA>

Some attributes are optional, eg. DruhKonstrukceKod,
PripojeniKanalizaceKod and others. GDAL currently reports attributes
with inconsistent number of items:

 DetailniTEAKod (IntegerList) = (2:52129,52142)
  DetailniTEAPlatiOd (StringList) = (2:2015-03-24T00:00:00,2015-03-24T00:00:00)
  DetailniTEAGlobalniIdNavrhuZmeny (Integer64List) = (2:480333,480333)
  DetailniTEADruhKonstrukceKod (IntegerList) = (1:4)
  DetailniTEAPocetBytu (IntegerList) = (2:16,16)
  DetailniTEAPocetPodlazi (IntegerList) = (2:7,7)
  DetailniTEAPripojeniKanalizaceKod (IntegerList) = (1:1)
  DetailniTEAPripojeniPlynKod (IntegerList) = (1:1)
  DetailniTEAPripojeniVodovodKod (IntegerList) = (1:1)
  DetailniTEAZpusobVytapeniKod (IntegerList) = (1:2)
  DetailniTEAAdresniMistoKod (IntegerList) = (2:159140,159131)

Is there any way how to change GML driver behaviour to report
consistent number of items in array, in this case '2', eg:

  DetailniTEADruhKonstrukceKod (IntegerList) = (1:NULL,4)

Thanks, Martin

-- 
Martin Landa
http://geo.fsv.cvut.cz/gwiki/Landa
http://gismentors.cz/mentors/landa

From even.rouault at spatialys.com  Thu Dec 17 04:57:10 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 17 Dec 2015 13:57:10 +0100
Subject: [gdal-dev] gml: array data type size
In-Reply-To: <CA+Ei1Od+UvAP-U1guLdDxb7XMBEK3F79=vy5H40KR9_eH+sPKw@mail.gmail.com>
References: <CA+Ei1Od+UvAP-U1guLdDxb7XMBEK3F79=vy5H40KR9_eH+sPKw@mail.gmail.com>
Message-ID: <201512171357.11007.even.rouault@spatialys.com>

Le jeudi 17 décembre 2015 13:27:12, Martin Landa a écrit :
> Hi,
> 
> currently I am trying to solve problem with inconsistent number of
> items in IntergerList data type. Let's say that we have:
> 
> <soi:DetailniTEA>
>    <soi:DetailniTEA>
>       <soi:Kod>52129</soi:Kod>
>       <soi:PlatiOd>2015-03-24T00:00:00</soi:PlatiOd>
>       <soi:GlobalniIdNavrhuZmeny>480333</soi:GlobalniIdNavrhuZmeny>
>       <soi:PocetBytu>16</soi:PocetBytu>
>       <soi:PocetPodlazi>7</soi:PocetPodlazi>
>      
> <soi:AdresniMistoKod><base:Kod>159140</base:Kod></soi:AdresniMistoKod>
> </soi:DetailniTEA>
>    <soi:DetailniTEA>
>       <soi:Kod>52142</soi:Kod>
>       <soi:PlatiOd>2015-03-24T00:00:00</soi:PlatiOd>
>       <soi:GlobalniIdNavrhuZmeny>480333</soi:GlobalniIdNavrhuZmeny>
>       <soi:DruhKonstrukceKod>4</soi:DruhKonstrukceKod>
>       <soi:PocetBytu>16</soi:PocetBytu>
>       <soi:PocetPodlazi>7</soi:PocetPodlazi>
>       <soi:PripojeniKanalizaceKod>1</soi:PripojeniKanalizaceKod>
>       <soi:PripojeniPlynKod>1</soi:PripojeniPlynKod>
>       <soi:PripojeniVodovodKod>1</soi:PripojeniVodovodKod>
>       <soi:ZpusobVytapeniKod>2</soi:ZpusobVytapeniKod>
>      
> <soi:AdresniMistoKod><base:Kod>159131</base:Kod></soi:AdresniMistoKod>
> </soi:DetailniTEA>
>  </soi:DetailniTEA>
> 
> Some attributes are optional, eg. DruhKonstrukceKod,
> PripojeniKanalizaceKod and others. GDAL currently reports attributes
> with inconsistent number of items:
> 
>  DetailniTEAKod (IntegerList) = (2:52129,52142)
>   DetailniTEAPlatiOd (StringList) =
> (2:2015-03-24T00:00:00,2015-03-24T00:00:00)
> DetailniTEAGlobalniIdNavrhuZmeny (Integer64List) = (2:480333,480333)
> DetailniTEADruhKonstrukceKod (IntegerList) = (1:4)
>   DetailniTEAPocetBytu (IntegerList) = (2:16,16)
>   DetailniTEAPocetPodlazi (IntegerList) = (2:7,7)
>   DetailniTEAPripojeniKanalizaceKod (IntegerList) = (1:1)
>   DetailniTEAPripojeniPlynKod (IntegerList) = (1:1)
>   DetailniTEAPripojeniVodovodKod (IntegerList) = (1:1)
>   DetailniTEAZpusobVytapeniKod (IntegerList) = (1:2)
>   DetailniTEAAdresniMistoKod (IntegerList) = (2:159140,159131)
> 
> Is there any way how to change GML driver behaviour to report
> consistent number of items in array, in this case '2', eg:
> 
>   DetailniTEADruhKonstrukceKod (IntegerList) = (1:NULL,4)

Martin,

... no. This is one of the limits when trying to "flattening" complex features 
as simple features. It would mean the driver would have to understand that 
there's some "consistency" (not sure what word to use to describe this complex 
behaviour...) among DetailniTEA elements.

But you could potentially also have schemas allowing even more weird stuff :

<foo>
	<bar>
		<baz>1</baz>
		<baz>2</baz>
		<bla>bla1</bla>
	</bar>
	<bar>
		<baz>3</baz>
		<bla>bla2</bla>
	</bar>
</foo>

Difficult to see an obvious/natural way of representing that with a list.

The proper solution would be to have the GML driver consider each 
<soi:DetailniTEA> as a separate layer/table and add cross feature links 
between "top" features and "sub" features.


Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jan at knepper.net  Thu Dec 17 11:53:48 2015
From: jan at knepper.net (Jan Knepper)
Date: Thu, 17 Dec 2015 14:53:48 -0500
Subject: [gdal-dev] =?utf-8?q?gdalwarp=27ing_a_=2Etif_that_streches_from_1?=
 =?utf-8?b?NzfCsDknMzMuMTMiRSB0byAxNzLCsDIxJyAxLjU5IlcgKGFjcm9zcyBhbnRp?=
 =?utf-8?q?-meridian=29?=
Message-ID: <567312CC.1070101@knepper.net>

All,

Having an issue getting a particular .tif file to cooperate:

Files:
https://www.janknepper.com/aeronav/Western%20Aleutian%20Islands%20East%20SEC%2048.tif
https://www.janknepper.com/aeronav/Western%20Aleutian%20Islands%20East%20SEC%2048.tfw

Trying:
gdalwarp -wm 4096 "Western Aleutian Islands East SEC 48.tif" -t_srs 
WGS84 -overwrite "WGS84_Western Aleutian Islands East SEC 48.tif"

Creates an output file that is stretched across the world...

There are no problems with other .tif files processed.

(Cutting it with a shapefile (.json) works fine!)

Have searched around quite a bit, but have not found a solution for this 
problem.

GDAL 1.11.2, released 2015/02/10

Any help/assistance would be appreciated!

Thanks!
Jan



gdalinfo:
Driver: GTiff/GeoTIFF
Files: VFR/Western Aleutian Islands East SEC 48.tif
        VFR/Western Aleutian Islands East SEC 48.tfw
Size is 16541, 6357
Coordinate System is:
PROJCS["Lambert Conformal Conic",
     GEOGCS["NAD83",
         DATUM["North_American_Datum_1983",
             SPHEROID["GRS 1980",6378137,298.2572221010002,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6269"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4269"]],
     PROJECTION["Lambert_Conformal_Conic_2SP"],
     PARAMETER["standard_parallel_1",54.66666666666666],
     PARAMETER["standard_parallel_2",49.33333333333334],
     PARAMETER["latitude_of_origin",52.16666666666666],
     PARAMETER["central_meridian",-177.5],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (-356525.280424734810367,124584.139945717470255)
Pixel Size = (42.333636286889600,-42.333889130987039)
Metadata:
   AREA_OR_POINT=Area
   TIFFTAG_DATETIME=2015:02:06 11:56:10
   TIFFTAG_RESOLUTIONUNIT=2 (pixels/inch)
   TIFFTAG_SOFTWARE=Adobe Photoshop CS5 Windows
   TIFFTAG_XRESOLUTION=300
   TIFFTAG_YRESOLUTION=300
Image Structure Metadata:
   COMPRESSION=LZW
   INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( -356525.280,  124584.140) (177d 9'33.13"E, 53d10'10.08"N)
Lower Left  ( -356525.280, -144532.393) (177d26'21.88"E, 50d45'16.40"N)
Upper Right (  343715.397,  124584.140) (172d21' 1.59"W, 53d10'39.98"N)
Lower Right (  343715.397, -144532.393) (172d37'14.46"W, 50d45'44.75"N)
Center      (   -6404.942,   -9974.127) (177d35'36.68"W, 52d 4'36.82"N)
Band 1 Block=16541x1 Type=Byte, ColorInterp=Palette
   Color Table (RGB with 256 entries)

From even.rouault at spatialys.com  Thu Dec 17 12:10:17 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 17 Dec 2015 21:10:17 +0100
Subject: [gdal-dev]
 =?utf-8?q?gdalwarp=27ing_a_=2Etif_that_streches_from_1?=
 =?utf-8?b?NzfCsDknMzMuMTM/PSJFIHRvID0/dXRmLTg/cT8xNzLCsDIxJyAxLjU5Ilcg?=
 =?utf-8?q?=28across_anti-meridian=29?=
In-Reply-To: <567312CC.1070101@knepper.net>
References: <567312CC.1070101@knepper.net>
Message-ID: <201512172110.18136.even.rouault@spatialys.com>

Le jeudi 17 décembre 2015 20:53:48, Jan Knepper a écrit :
> All,
> 
> Having an issue getting a particular .tif file to cooperate:
> 
> Files:
> https://www.janknepper.com/aeronav/Western%20Aleutian%20Islands%20East%20SE
> C%2048.tif
> https://www.janknepper.com/aeronav/Western%20Aleutian%20Islands%20East%20S
> EC%2048.tfw
> 
> Trying:
> gdalwarp -wm 4096 "Western Aleutian Islands East SEC 48.tif" -t_srs
> WGS84 -overwrite "WGS84_Western Aleutian Islands East SEC 48.tif"
> 
> Creates an output file that is stretched across the world...
> 
> There are no problems with other .tif files processed.
> 
> (Cutting it with a shapefile (.json) works fine!)
> 
> Have searched around quite a bit, but have not found a solution for this
> problem.
> 
> GDAL 1.11.2, released 2015/02/10
> 
> Any help/assistance would be appreciated!

Add "--config CENTER_LONG 180" to your gdalwarp command line.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jan at knepper.net  Thu Dec 17 12:16:26 2015
From: jan at knepper.net (Jan Knepper)
Date: Thu, 17 Dec 2015 15:16:26 -0500
Subject: [gdal-dev]
 =?utf-8?q?gdalwarp=27ing_a_=2Etif_that_streches_from__?=
 =?utf-8?b?MTc3wrA5JzMzLjEzIkUgdG8gMTcywrAyMScgMS41OSJXIChhY3Jvc3MgYW50?=
 =?utf-8?q?i-meridian=29?=
In-Reply-To: <201512172110.18136.even.rouault@spatialys.com>
References: <567312CC.1070101@knepper.net>
 <201512172110.18136.even.rouault@spatialys.com>
Message-ID: <62668E2D-8DE0-4DC9-9449-9CAA8B951E7F@knepper.net>

Thank you!
That resolved the problem!

Jan

> On Dec 17, 2015, at 15:10, Even Rouault <even.rouault at spatialys.com> wrote:
> 
> Le jeudi 17 décembre 2015 20:53:48, Jan Knepper a écrit :
>> All,
>> 
>> Having an issue getting a particular .tif file to cooperate:
>> 
>> Files:
>> https://www.janknepper.com/aeronav/Western%20Aleutian%20Islands%20East%20SE
>> C%2048.tif
>> https://www.janknepper.com/aeronav/Western%20Aleutian%20Islands%20East%20S
>> EC%2048.tfw
>> 
>> Trying:
>> gdalwarp -wm 4096 "Western Aleutian Islands East SEC 48.tif" -t_srs
>> WGS84 -overwrite "WGS84_Western Aleutian Islands East SEC 48.tif"
>> 
>> Creates an output file that is stretched across the world...
>> 
>> There are no problems with other .tif files processed.
>> 
>> (Cutting it with a shapefile (.json) works fine!)
>> 
>> Have searched around quite a bit, but have not found a solution for this
>> problem.
>> 
>> GDAL 1.11.2, released 2015/02/10
>> 
>> Any help/assistance would be appreciated!
> 
> Add "--config CENTER_LONG 180" to your gdalwarp command line.
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com

From sault.don at gmail.com  Thu Dec 17 12:36:47 2015
From: sault.don at gmail.com (Donovan Cameron)
Date: Thu, 17 Dec 2015 13:36:47 -0700
Subject: [gdal-dev] difference in -overwrite vs -lco OVERWRITE=YES
Message-ID: <56731CDF.9070605@gmail.com>

Hey List!*
**
*I'm having trouble tracking down an answer to a question, from either 
the archived mailing list or google, I have about ogr2ogr and loading 
data to PostGIS.
*
*Basically, what's the difference between the -overwrite flag and the 
layer creation option OVERWRITE for the PostgreSQL/PostGIS driver?*
**
*The descriptions are a little similar and I can't think of how they 
should be used differently.*
**
*For example, they say*:**
**


*
-overwrite:
    Delete the output layer and recreate it empty
*
*
OVERWRITE*: This may be "YES" to force an existing layer of the desired 
name to be destroyed before creating the requested layer.*
*


*They either say they "delete" or "destroy" (is there a difference?) the 
layer prior to insert/copy but then one says "recreate it empty" which I 
can't see it producing an empty layer, and the other one says "creating 
the requested layer".

On another issue, I used to just use options like "-update -progress 
-unsetFid --config OGR_TRUNCATE YES -gt 65536" so that en existing table 
in the database could be updated without deleting VIEWS and user 
permissions. But unfortunately, one of the datasets I got recently has 
all the fields renamed so I have to get creative with the -fieldmap 
option or the new -addfields (but that means I have to delete the old 
redundant fields afterwards).





-- 
Kind regards,

Donovan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151217/c9098843/attachment.html>

From even.rouault at spatialys.com  Thu Dec 17 12:44:05 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 17 Dec 2015 21:44:05 +0100
Subject: [gdal-dev] difference in -overwrite vs -lco OVERWRITE=YES
In-Reply-To: <56731CDF.9070605@gmail.com>
References: <56731CDF.9070605@gmail.com>
Message-ID: <201512172144.05333.even.rouault@spatialys.com>

Le jeudi 17 décembre 2015 21:36:47, Donovan Cameron a écrit :
> Hey List!*
> **
> *I'm having trouble tracking down an answer to a question, from either
> the archived mailing list or google, I have about ogr2ogr and loading
> data to PostGIS.
> *
> *Basically, what's the difference between the -overwrite flag and the
> layer creation option OVERWRITE for the PostgreSQL/PostGIS driver?*

No, they do essentially the same. I guess the OVERWRITE layer creation option 
must be a "hack" that pre-dates the DeleteLayer() interface used by ogr2ogr -
overwrite.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From gane.prog at gmail.com  Fri Dec 18 00:26:31 2015
From: gane.prog at gmail.com (Gane R)
Date: Fri, 18 Dec 2015 13:56:31 +0530
Subject: [gdal-dev] coded domain values access in Filegeodb
Message-ID: <CALMrLdDzbtor4_2KDwDU6CBViz0AS++OvdxarFsUtM6kYetNug@mail.gmail.com>

Do the current implementation of filegeodb access via ESRI FileGeob support
import of coded domain values, If so how in GDAL

Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151218/45c8de12/attachment.html>

From even.rouault at spatialys.com  Fri Dec 18 01:54:47 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 18 Dec 2015 10:54:47 +0100
Subject: [gdal-dev] coded domain values access in Filegeodb
In-Reply-To: <CALMrLdDzbtor4_2KDwDU6CBViz0AS++OvdxarFsUtM6kYetNug@mail.gmail.com>
References: <CALMrLdDzbtor4_2KDwDU6CBViz0AS++OvdxarFsUtM6kYetNug@mail.gmail.com>
Message-ID: <201512181054.48167.even.rouault@spatialys.com>

Le vendredi 18 décembre 2015 09:26:31, Gane R a écrit :
> Do the current implementation of filegeodb access via ESRI FileGeob support
> import of coded domain values, If so how in GDAL

There's no equivalent of coded domain values in the OGR data model. However if 
you issue a special "SQL" request like "GetLayerDefinition a_layer_name" (as 
documented in http://gdal.org/drv_filegdb.html) then you'll get the definition 
of the FileGDB table as XML content and you'll find the coded domain definition 
in it I believe.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From even.rouault at spatialys.com  Fri Dec 18 06:40:56 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 18 Dec 2015 15:40:56 +0100
Subject: [gdal-dev] trunk >= 2015-10-19 and < today with internal libtiff
	and bigtiff files > 4GB
Message-ID: <201512181540.56247.even.rouault@spatialys.com>

Hi,

Just to warn those who compiled a trunk version from 2015-10-19 up to today 
and configured it with GDAL's internal libtiff that it had a defect that 
prevented it to create TIFF directories (e.g. internal overviews) beyond 4 GB 
(the TIFF subdirectory was created at a 'random' place in the first 4 GB 
instead at the end of file).
So refresh your trunk.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From issworld2000 at yahoo.com  Fri Dec 18 18:31:00 2015
From: issworld2000 at yahoo.com (Djordje Spasic)
Date: Sat, 19 Dec 2015 02:31:00 +0000 (UTC)
Subject: [gdal-dev] extracting point geometry from dataset
In-Reply-To: <1232362141.358678.1449766953703.JavaMail.yahoo@mail.yahoo.com>
References: <CAEEbjBixGM1AtUEsZu+=BCsJUYHUXcyXZv2ZzA=2i4M5zZYaOA@mail.gmail.com>
 <1232362141.358678.1449766953703.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <610339820.997642.1450492260658.JavaMail.yahoo@mail.yahoo.com>

Hello,

I was wondering how can I get the points geometry from the dataset by using C# gdal-osr bindings ?
I wrapped the dataset ("AutoCreateWarpedVRT" function) and now I want to extract the points geometry (or its X and Y properties).

OGR API Tutorial is suggesting that I need a "GetGeometryRef" function.
But that function does not exist in neither gdal_csharp.dll nor osr_csharp.dll libraries.

Any advice on how to extract the point geometry from a data set?

Thank you.

Kind regards,
Djordje Spasic




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151219/ff28c097/attachment.html>

From boxerab at gmail.com  Sat Dec 19 23:56:48 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Sun, 20 Dec 2015 02:56:48 -0500
Subject: [gdal-dev] OpenJPEG
Message-ID: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>

I am working on some performance enhancements for OpenJPEG,
and I am curious about people's experience using the OpenJPEG driver with
GDAL:

Does it have all the features you need, if not what is missing?

Given that it is the slowest J2K library around, what would be acceptable
performance in the geo-spatial world?

How stable is it?


These changes apply to the current master version of OpenJPEG, which will
be released shortly.

Thanks,
Aaron
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151220/674b72eb/attachment.html>

From even.rouault at spatialys.com  Sun Dec 20 02:00:50 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 20 Dec 2015 11:00:50 +0100
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
Message-ID: <201512201100.51663.even.rouault@spatialys.com>

Aaron,

> I am working on some performance enhancements for OpenJPEG,
> and I am curious about people's experience using the OpenJPEG driver with
> GDAL:
> 
> Does it have all the features you need, if not what is missing?

Being the developer of the driver, I believe it must be close to using the 
available capabilities of OpenJPEG as best as possible. I may have overlooked 
some features, so other eyes checking the code are always welcome.

From my point of view what is mainly missing in OpenJPEG (the lib):
- ability to decode efficiently sub-windows inside a tile (I guess this means 
using precincts). This is particuarly true for single-tiled big files
- reduce memory consumption. I've found that to decode a 2048x2048 tile of a 
Sentinel2 product, it takes 600 MB of memory whereas the uncompressed size of 
the tile is 8 MB (2048x2048*sizeof(int16)).
- ability to open files who have more than 2 gigapixels (or 4, I'm not sure 
where the limit is)
- currently the driver closes and reopen the file each time it reads a tile, 
because there are(were?) some instabilities in seeking through arbitrary tiles 
(ie reading potentially not in ascending tile order). Would be nice to be able 
to avoid that

> 
> Given that it is the slowest J2K library around, what would be acceptable
> performance in the geo-spatial world?

As fast as possible :-)

> These changes apply to the current master version of OpenJPEG, which will
> be released shortly.

Were you refering to this PR : https://github.com/uclouvain/openjpeg/pull/668 
?

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From Predator89 at interia.eu  Sun Dec 20 03:26:05 2015
From: Predator89 at interia.eu (Predator)
Date: Sun, 20 Dec 2015 03:26:05 -0800 (PST)
Subject: [gdal-dev] GDAL built with MinGW dll size
Message-ID: <1450610765217-5242165.post@n6.nabble.com>

Hi,
I have managed to built gdal with MinGW 4.8.1 and MSYS. The output
libgdal-1.dll file weighs 49MB. It's a lot. The same library available to
download from gisinternals built with MVSC weighs 9-10MB.
So my question is: Have I done something wrong, or it is normal for MinGW?
Can I somehow reduce dll size?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at spatialys.com  Sun Dec 20 04:15:05 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 20 Dec 2015 13:15:05 +0100
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <1450610765217-5242165.post@n6.nabble.com>
References: <1450610765217-5242165.post@n6.nabble.com>
Message-ID: <201512201315.05164.even.rouault@spatialys.com>

Le dimanche 20 décembre 2015 12:26:05, Predator a écrit :
> Hi,
> I have managed to built gdal with MinGW 4.8.1 and MSYS. The output
> libgdal-1.dll file weighs 49MB. It's a lot. The same library available to
> download from gisinternals built with MVSC weighs 9-10MB.
> So my question is: Have I done something wrong, or it is normal for MinGW?
> Can I somehow reduce dll size?

Are you sure it is an optimized build (with -O2) without debugging symbol (no 
-g) ?

> 
> 
> 
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp52421
> 65.html Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From Predator89 at interia.eu  Sun Dec 20 07:43:22 2015
From: Predator89 at interia.eu (Predator)
Date: Sun, 20 Dec 2015 07:43:22 -0800 (PST)
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <201512201315.05164.even.rouault@spatialys.com>
References: <1450610765217-5242165.post@n6.nabble.com>
 <201512201315.05164.even.rouault@spatialys.com>
Message-ID: <1450626202308-5242188.post@n6.nabble.com>

Thanks  for your reply.
I haven't changed default settings, and I've used standard commands provided
on gdal website.
Could you please tell me what and where I should change to get smaller size
dll file?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165p5242188.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jluis at ualg.pt  Sun Dec 20 13:53:17 2015
From: jluis at ualg.pt (Joaquim Luis)
Date: Sun, 20 Dec 2015 21:53:17 -0000
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <1450626202308-5242188.post@n6.nabble.com>
References: <1450610765217-5242165.post@n6.nabble.com>
 <201512201315.05164.even.rouault@spatialys.com>
 <1450626202308-5242188.post@n6.nabble.com>
Message-ID: <op.x9ypq3a4dbaoe8@macmarilu>

I've noticed this fact in builds of other projects. Mingw dll are ~> 4  
times the MSVC ones. Don't know how general this ratio is, tough.

Joaquim

> Thanks  for your reply.
> I haven't changed default settings, and I've used standard commands  
> provided
> on gdal website.
> Could you please tell me what and where I should change to get smaller  
> size
> dll file?
>
>
>
> --
> View this message in context:  
> http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165p5242188.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mohammedrashadkm at gmail.com  Mon Dec 21 00:56:20 2015
From: mohammedrashadkm at gmail.com (Rashad Kanavath)
Date: Mon, 21 Dec 2015 09:56:20 +0100
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <op.x9ypq3a4dbaoe8@macmarilu>
References: <1450610765217-5242165.post@n6.nabble.com>
 <201512201315.05164.even.rouault@spatialys.com>
 <1450626202308-5242188.post@n6.nabble.com> <op.x9ypq3a4dbaoe8@macmarilu>
Message-ID: <CANNqv9c2X758++h5Z=LSLXj9=f-he=Zb_nSMDBXWXcTj1Jpucw@mail.gmail.com>

On Sun, Dec 20, 2015 at 10:53 PM, Joaquim Luis <jluis at ualg.pt> wrote:

> I've noticed this fact in builds of other projects. Mingw dll are ~> 4
> times the MSVC ones. Don't know how general this ratio is, tough.
>

I have gdal 2.0.1 dll with 20M. I am using source arhives from
download.osgeo.org.

>
> Joaquim
>
>
> Thanks  for your reply.
>> I haven't changed default settings, and I've used standard commands
>> provided
>> on gdal website.
>> Could you please tell me what and where I should change to get smaller
>> size
>> dll file?
>>
>>
>>
>> --
>> View this message in context:
>> http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165p5242188.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Regards,
   Rashad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151221/49f4db49/attachment.html>

From Predator89 at interia.eu  Mon Dec 21 01:21:53 2015
From: Predator89 at interia.eu (Predator)
Date: Mon, 21 Dec 2015 01:21:53 -0800 (PST)
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <CANNqv9c2X758++h5Z=LSLXj9=f-he=Zb_nSMDBXWXcTj1Jpucw@mail.gmail.com>
References: <1450610765217-5242165.post@n6.nabble.com>
 <201512201315.05164.even.rouault@spatialys.com>
 <1450626202308-5242188.post@n6.nabble.com> <op.x9ypq3a4dbaoe8@macmarilu>
 <CANNqv9c2X758++h5Z=LSLXj9=f-he=Zb_nSMDBXWXcTj1Jpucw@mail.gmail.com>
Message-ID: <1450689713297-5242253.post@n6.nabble.com>

Thanks for replies.
Did you use standard commands (./configure, make, make install), or have you
changed something?
What about makefile or config file? Did you apply any changes to them?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165p5242253.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From julien.malik at c-s.fr  Mon Dec 21 01:01:19 2015
From: julien.malik at c-s.fr (Julien Malik)
Date: Mon, 21 Dec 2015 10:01:19 +0100
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <201512201100.51663.even.rouault@spatialys.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
Message-ID: <5677BFDF.5010606@c-s.fr>

Hi Aaron & Even,

Decoding at preccints level in OpenJPEG would definitely be a great 
addition.

I believe OpenJPEG performance could also be improved if multi-threading 
was managed directly inside the lib, since in the current situation 
OpenJPEG is purely monothreaded.
 From my experience, Kakadu does a great job in keeping all your cores 
occupied close to 100% during decoding, even when decoding a single tile 
(so this is probably linked to the capability to manage independent 
decoding at the precinct level).
In 3 geospatial software I know leverage on OpenJPEG (gdal, orfeo 
toolbox, and snap) to decode big datasets (think tens or hundreds of 
thousand pixels in each dimension), multithreading is handled from the 
user side, by creating a number of independent contexts and run them in 
separate threads to improve performance.
This means we are all interpreting the codestreams and seeking into them 
independently, which clearly sounds suboptimal.
I suspect managing multi-threading at a lower level directly inside 
OpenJPEG could open the doors to much better resource management (cores 
occupation, reduced I/O, etc...).

I certainly concur with Even with the "as fast as it can be" :)
Any percent you gain has a direct visible impact when (de)coding huge 
datasets.

Regards,
Julien

On 20/12/2015 11:00, Even Rouault wrote:
> Aaron,
>
>> I am working on some performance enhancements for OpenJPEG,
>> and I am curious about people's experience using the OpenJPEG driver with
>> GDAL:
>>
>> Does it have all the features you need, if not what is missing?
> Being the developer of the driver, I believe it must be close to using the
> available capabilities of OpenJPEG as best as possible. I may have overlooked
> some features, so other eyes checking the code are always welcome.
>
>  From my point of view what is mainly missing in OpenJPEG (the lib):
> - ability to decode efficiently sub-windows inside a tile (I guess this means
> using precincts). This is particuarly true for single-tiled big files
> - reduce memory consumption. I've found that to decode a 2048x2048 tile of a
> Sentinel2 product, it takes 600 MB of memory whereas the uncompressed size of
> the tile is 8 MB (2048x2048*sizeof(int16)).
> - ability to open files who have more than 2 gigapixels (or 4, I'm not sure
> where the limit is)
> - currently the driver closes and reopen the file each time it reads a tile,
> because there are(were?) some instabilities in seeking through arbitrary tiles
> (ie reading potentially not in ascending tile order). Would be nice to be able
> to avoid that
>
>> Given that it is the slowest J2K library around, what would be acceptable
>> performance in the geo-spatial world?
> As fast as possible :-)
>
>> These changes apply to the current master version of OpenJPEG, which will
>> be released shortly.
> Were you refering to this PR : https://github.com/uclouvain/openjpeg/pull/668
> ?
>
> Even
>


From nagase at georepublic.co.jp  Mon Dec 21 03:56:47 2015
From: nagase at georepublic.co.jp (Ko Nagase)
Date: Mon, 21 Dec 2015 20:56:47 +0900
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <1450689713297-5242253.post@n6.nabble.com>
References: <1450610765217-5242165.post@n6.nabble.com>
 <201512201315.05164.even.rouault@spatialys.com>
 <1450626202308-5242188.post@n6.nabble.com>
 <op.x9ypq3a4dbaoe8@macmarilu>
 <CANNqv9c2X758++h5Z=LSLXj9=f-he=Zb_nSMDBXWXcTj1Jpucw@mail.gmail.com>
 <1450689713297-5242253.post@n6.nabble.com>
Message-ID: <CAAWPQXz80LYP=m=EgC0rNAPZRsiXwE_QGqHmXqQT3wV8UmZGyA@mail.gmail.com>

Hi Predator,

I have no experience about gdal MinGW build,
but normally, I execute "strip *.dll" after "make install".

https://github.com/sanak/pgrouting4w/blob/master4w/BUILD.mingw#L142

Could you try to do that ?

Regards,

Ko


2015-12-21 18:21 GMT+09:00 Predator <Predator89 at interia.eu>:
> Thanks for replies.
> Did you use standard commands (./configure, make, make install), or have you
> changed something?
> What about makefile or config file? Did you apply any changes to them?
>
>
>
> --
> View this message in context: http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165p5242253.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Ko Nagase (長瀬　興)
Georepublic Japan
mail: nagase at georepublic.co.jp
web: http://georepublic.co.jp

From Predator89 at interia.eu  Mon Dec 21 07:59:10 2015
From: Predator89 at interia.eu (Predator)
Date: Mon, 21 Dec 2015 07:59:10 -0800 (PST)
Subject: [gdal-dev] GDAL built with MinGW dll size
In-Reply-To: <CAAWPQXz80LYP=m=EgC0rNAPZRsiXwE_QGqHmXqQT3wV8UmZGyA@mail.gmail.com>
References: <1450610765217-5242165.post@n6.nabble.com>
 <201512201315.05164.even.rouault@spatialys.com>
 <1450626202308-5242188.post@n6.nabble.com> <op.x9ypq3a4dbaoe8@macmarilu>
 <CANNqv9c2X758++h5Z=LSLXj9=f-he=Zb_nSMDBXWXcTj1Jpucw@mail.gmail.com>
 <1450689713297-5242253.post@n6.nabble.com>
 <CAAWPQXz80LYP=m=EgC0rNAPZRsiXwE_QGqHmXqQT3wV8UmZGyA@mail.gmail.com>
Message-ID: <1450713550219-5242339.post@n6.nabble.com>

@Ko Nagase: It worked! Thanks a lot! ;)



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/GDAL-built-with-MinGW-dll-size-tp5242165p5242339.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From boxerab at gmail.com  Mon Dec 21 08:15:29 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Mon, 21 Dec 2015 11:15:29 -0500
Subject: [gdal-dev] Fwd:  OpenJPEG
In-Reply-To: <CAK8GPyCFNv=YDX33JKE4_xorg0e+AKQC6FduvyAowZUR6nYYRQ@mail.gmail.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
 <5677BFDF.5010606@c-s.fr>
 <CAK8GPyCFNv=YDX33JKE4_xorg0e+AKQC6FduvyAowZUR6nYYRQ@mail.gmail.com>
Message-ID: <CAK8GPyBz=Dz9A6D1Nh5imVNS2Kd+tJqUDU4wrp+iiMjw-5Y+WA@mail.gmail.com>

---------- Forwarded message ----------
From: Aaron Boxer <boxerab at gmail.com>
Date: Mon, Dec 21, 2015 at 10:27 AM
Subject: Re: [gdal-dev] OpenJPEG
To: Julien Malik <julien.malik at c-s.fr>


Hi Julien,


> Decoding at preccints level in OpenJPEG would definitely be a great
> addition.
>

Yes, sounds useful.


>
> I believe OpenJPEG performance could also be improved if multi-threading
> was managed directly inside the lib, since in the current situation
> OpenJPEG is purely monothreaded.
> From my experience, Kakadu does a great job in keeping all your cores
> occupied close to 100% during decoding, even when decoding a single tile
> (so this is probably linked to the capability to manage independent
> decoding at the precinct level).
> In 3 geospatial software I know leverage on OpenJPEG (gdal, orfeo toolbox,
> and snap) to decode big datasets (think tens or hundreds of thousand pixels
> in each dimension), multithreading is handled from the user side, by
> creating a number of independent contexts and run them in separate threads
> to improve performance.
> This means we are all interpreting the codestreams and seeking into them
> independently, which clearly sounds suboptimal.
> I suspect managing multi-threading at a lower level directly inside
> OpenJPEG could open the doors to much better resource management (cores
> occupation, reduced I/O, etc...).
>


The pull request I mentioned does use all cores for the computationally
intensive part of decoding. Reading through the file is still single
threaded. And this can take a good chunk
of time.


> I certainly concur with Even with the "as fast as it can be" :)
> Any percent you gain has a direct visible impact when (de)coding huge
> datasets.
>
>
Thanks for the feedback. Good news for OpenJPEG performance : they will be
*hiring* a developer next year to focus solely on performance.
If you guys are interested, please check out the OpenJPEG mailing list and
you can apply.

Also, I would encourage submitting all of these great ideas as issues on
the openjpeg github site:

https://github.com/uclouvain/openjpeg/issues


Cheers,
Aaron


On 20/12/2015 11:00, Even Rouault wrote:

> Aaron,
>
> I am working on some performance enhancements for OpenJPEG,
>> and I am curious about people's experience using the OpenJPEG driver with
>> GDAL:
>>
>> Does it have all the features you need, if not what is missing?
>>
> Being the developer of the driver, I believe it must be close to using the
> available capabilities of OpenJPEG as best as possible. I may have
> overlooked
> some features, so other eyes checking the code are always welcome.
>
>  From my point of view what is mainly missing in OpenJPEG (the lib):
> - ability to decode efficiently sub-windows inside a tile (I guess this
> means
> using precincts). This is particuarly true for single-tiled big files
> - reduce memory consumption. I've found that to decode a 2048x2048 tile of
> a
> Sentinel2 product, it takes 600 MB of memory whereas the uncompressed size
> of
> the tile is 8 MB (2048x2048*sizeof(int16)).
> - ability to open files who have more than 2 gigapixels (or 4, I'm not sure
> where the limit is)
> - currently the driver closes and reopen the file each time it reads a
> tile,
> because there are(were?) some instabilities in seeking through arbitrary
> tiles
> (ie reading potentially not in ascending tile order). Would be nice to be
> able
> to avoid that
>
> Given that it is the slowest J2K library around, what would be acceptable
>> performance in the geo-spatial world?
>>
> As fast as possible :-)
>
> These changes apply to the current master version of OpenJPEG, which will
>> be released shortly.
>>
> Were you refering to this PR :
> https://github.com/uclouvain/openjpeg/pull/668
> ?
>
> Even
>
>
_______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151221/44eebe94/attachment-0001.html>

From boxerab at gmail.com  Mon Dec 21 14:29:14 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Mon, 21 Dec 2015 17:29:14 -0500
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <201512201100.51663.even.rouault@spatialys.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
Message-ID: <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>

Hi Even,

I was thinking about your request to decode only a sub-window inside of a
tile.

I don't think this is possible. Because of the serial nature the j2k
decoding,
there is no performance gain to only looking at a sub-window - the whole
tile must be
decoded.  The only small gain is in memory : the final decoded region could
fit
in a smaller memory buffer.  But, the speed will be the same for a tile or
a sub-window.

Cheers,
Aaron


On Sun, Dec 20, 2015 at 5:00 AM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Aaron,
>
> > I am working on some performance enhancements for OpenJPEG,
> > and I am curious about people's experience using the OpenJPEG driver with
> > GDAL:
> >
> > Does it have all the features you need, if not what is missing?
>
> Being the developer of the driver, I believe it must be close to using the
> available capabilities of OpenJPEG as best as possible. I may have
> overlooked
> some features, so other eyes checking the code are always welcome.
>
> From my point of view what is mainly missing in OpenJPEG (the lib):
> - ability to decode efficiently sub-windows inside a tile (I guess this
> means
> using precincts). This is particuarly true for single-tiled big files
> - reduce memory consumption. I've found that to decode a 2048x2048 tile of
> a
> Sentinel2 product, it takes 600 MB of memory whereas the uncompressed size
> of
> the tile is 8 MB (2048x2048*sizeof(int16)).
> - ability to open files who have more than 2 gigapixels (or 4, I'm not sure
> where the limit is)
> - currently the driver closes and reopen the file each time it reads a
> tile,
> because there are(were?) some instabilities in seeking through arbitrary
> tiles
> (ie reading potentially not in ascending tile order). Would be nice to be
> able
> to avoid that
>
> >
> > Given that it is the slowest J2K library around, what would be acceptable
> > performance in the geo-spatial world?
>
> As fast as possible :-)
>
> > These changes apply to the current master version of OpenJPEG, which will
> > be released shortly.
>
> Were you refering to this PR :
> https://github.com/uclouvain/openjpeg/pull/668
> ?
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151221/8e9c6402/attachment.html>

From even.rouault at spatialys.com  Mon Dec 21 14:35:33 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 21 Dec 2015 23:35:33 +0100
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
 <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>
Message-ID: <201512212335.33058.even.rouault@spatialys.com>

Le lundi 21 décembre 2015 23:29:14, Aaron Boxer a écrit :
> Hi Even,
> 
> I was thinking about your request to decode only a sub-window inside of a
> tile.
> 
> I don't think this is possible. Because of the serial nature the j2k
> decoding,
> there is no performance gain to only looking at a sub-window - the whole
> tile must be
> decoded.  

It is obvious it is possible since other J2K libraries can do it. They can 
decode small regions of single tile huge files very quickly. Probably using 
precincts, and TLM markers.

> The only small gain is in memory : the final decoded region could
> fit
> in a smaller memory buffer.  But, the speed will be the same for a tile or
> a sub-window.
> 
> Cheers,
> Aaron
> 
> 
> On Sun, Dec 20, 2015 at 5:00 AM, Even Rouault <even.rouault at spatialys.com>
> 
> wrote:
> > Aaron,
> > 
> > > I am working on some performance enhancements for OpenJPEG,
> > > and I am curious about people's experience using the OpenJPEG driver
> > > with GDAL:
> > > 
> > > Does it have all the features you need, if not what is missing?
> > 
> > Being the developer of the driver, I believe it must be close to using
> > the available capabilities of OpenJPEG as best as possible. I may have
> > overlooked
> > some features, so other eyes checking the code are always welcome.
> > 
> > From my point of view what is mainly missing in OpenJPEG (the lib):
> > - ability to decode efficiently sub-windows inside a tile (I guess this
> > means
> > using precincts). This is particuarly true for single-tiled big files
> > - reduce memory consumption. I've found that to decode a 2048x2048 tile
> > of a
> > Sentinel2 product, it takes 600 MB of memory whereas the uncompressed
> > size of
> > the tile is 8 MB (2048x2048*sizeof(int16)).
> > - ability to open files who have more than 2 gigapixels (or 4, I'm not
> > sure where the limit is)
> > - currently the driver closes and reopen the file each time it reads a
> > tile,
> > because there are(were?) some instabilities in seeking through arbitrary
> > tiles
> > (ie reading potentially not in ascending tile order). Would be nice to be
> > able
> > to avoid that
> > 
> > > Given that it is the slowest J2K library around, what would be
> > > acceptable performance in the geo-spatial world?
> > 
> > As fast as possible :-)
> > 
> > > These changes apply to the current master version of OpenJPEG, which
> > > will be released shortly.
> > 
> > Were you refering to this PR :
> > https://github.com/uclouvain/openjpeg/pull/668
> > ?
> > 
> > Even
> > 
> > --
> > Spatialys - Geospatial professional services
> > http://www.spatialys.com

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From boxerab at gmail.com  Mon Dec 21 16:27:53 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Mon, 21 Dec 2015 19:27:53 -0500
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <201512212335.33058.even.rouault@spatialys.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
 <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>
 <201512212335.33058.even.rouault@spatialys.com>
Message-ID: <CAK8GPyC+7aa9r3jZZW-ZThEjn3DrEYOtUUm+duw528m=zPyKMw@mail.gmail.com>

On Mon, Dec 21, 2015 at 5:35 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Le lundi 21 décembre 2015 23:29:14, Aaron Boxer a écrit :
> > Hi Even,
> >
> > I was thinking about your request to decode only a sub-window inside of a
> > tile.
> >
> > I don't think this is possible. Because of the serial nature the j2k
> > decoding,
> > there is no performance gain to only looking at a sub-window - the whole
> > tile must be
> > decoded.
>
> It is obvious it is possible since other J2K libraries can do it. They can
> decode small regions of single tile huge files very quickly. Probably using
> precincts, and TLM markers.
>

Yes, you're right. I was thinking about the code blocks, which can't be
broken up.

This feature would be quite involved: one would have to gather all of the
layers for
all of the code blocks in all of the precincts overlapping that sub-tile,
plus the immediately surrounding precincts, run the inverse entropy coder
to get
the wavelet coefficients, and then do an inverse wavelet transform,
with this incomplete set of coefficients.

I would say this would take a developer about 6 months to get it right.

I don't have time to do this, but perhaps a sponsor could be found in the
geo-spatial
community to support this work.  The performance work I mentioned,
scheduled for 2016,
is being sponsored by people in the archive community.


Cheers,
Aaron




>
> > The only small gain is in memory : the final decoded region could
> > fit
> > in a smaller memory buffer.  But, the speed will be the same for a tile
> or
> > a sub-window.
> >
> > Cheers,
> > Aaron
> >
> >
> > On Sun, Dec 20, 2015 at 5:00 AM, Even Rouault <
> even.rouault at spatialys.com>
> >
> > wrote:
> > > Aaron,
> > >
> > > > I am working on some performance enhancements for OpenJPEG,
> > > > and I am curious about people's experience using the OpenJPEG driver
> > > > with GDAL:
> > > >
> > > > Does it have all the features you need, if not what is missing?
> > >
> > > Being the developer of the driver, I believe it must be close to using
> > > the available capabilities of OpenJPEG as best as possible. I may have
> > > overlooked
> > > some features, so other eyes checking the code are always welcome.
> > >
> > > From my point of view what is mainly missing in OpenJPEG (the lib):
> > > - ability to decode efficiently sub-windows inside a tile (I guess this
> > > means
> > > using precincts). This is particuarly true for single-tiled big files
> > > - reduce memory consumption. I've found that to decode a 2048x2048 tile
> > > of a
> > > Sentinel2 product, it takes 600 MB of memory whereas the uncompressed
> > > size of
> > > the tile is 8 MB (2048x2048*sizeof(int16)).
> > > - ability to open files who have more than 2 gigapixels (or 4, I'm not
> > > sure where the limit is)
> > > - currently the driver closes and reopen the file each time it reads a
> > > tile,
> > > because there are(were?) some instabilities in seeking through
> arbitrary
> > > tiles
> > > (ie reading potentially not in ascending tile order). Would be nice to
> be
> > > able
> > > to avoid that
> > >
> > > > Given that it is the slowest J2K library around, what would be
> > > > acceptable performance in the geo-spatial world?
> > >
> > > As fast as possible :-)
> > >
> > > > These changes apply to the current master version of OpenJPEG, which
> > > > will be released shortly.
> > >
> > > Were you refering to this PR :
> > > https://github.com/uclouvain/openjpeg/pull/668
> > > ?
> > >
> > > Even
> > >
> > > --
> > > Spatialys - Geospatial professional services
> > > http://www.spatialys.com
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151221/8fcb0fcc/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Tue Dec 22 01:34:38 2015
From: jukka.rahkonen at maanmittauslaitos.fi (Jukka Rahkonen)
Date: Tue, 22 Dec 2015 09:34:38 +0000 (UTC)
Subject: [gdal-dev] OpenJPEG
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
 <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>
 <201512212335.33058.even.rouault@spatialys.com>
 <CAK8GPyC+7aa9r3jZZW-ZThEjn3DrEYOtUUm+duw528m=zPyKMw@mail.gmail.com>
Message-ID: <loom.20151222T093308-681@post.gmane.org>

Aaron Boxer <boxerab <at> gmail.com> writes:


> This feature would be quite involved: one would have to gather all of the
layers for 
> 
> all of the code blocks in all of the precincts overlapping that
sub-tile,plus the immediately surrounding precincts, run the inverse entropy
coder to get the wavelet coefficients, and then do an inverse wavelet
transform,with this incomplete set of coefficients.
> 

I do not claim that I understand GIS but I have a feeling that precincts are
designed for a fast ROI access. From
http://www2.engr.arizona.edu/~bilgin/publications/SPIE2004_2.pdf

"A precinct is a collection of code-blocks representing some finite spatial
extent at some resolution."

Probably gathering the surrounding precincts is unnecessary. Author of
Kakadu seems to dislike tiles and it is no wonder that with Kakadu precincts
perform well even with archived documents
http://www.digitizationguidelines.gov/still-image/documents/Martin.pdf.

-Jukka Rahkonen-


From gane.prog at gmail.com  Tue Dec 22 03:46:29 2015
From: gane.prog at gmail.com (Gane R)
Date: Tue, 22 Dec 2015 17:16:29 +0530
Subject: [gdal-dev] Writing Coded Domain Values from GDAL
Message-ID: <CALMrLdDJPqS-hrkPNj5=fNFS-Svt+R9U5DAb-xETG1LxpAV7Ew@mail.gmail.com>

I tried to read the coded domain values from GDAL, I used special sql
requests from GDAL as described in FileGeoDB driver. I got the values in
the XML format.

Is it possible to write coded domain values from GDAL using special sql
request.
I saw that it was possible from ESRI filegeodb API, can this be done from
GDAL itself.

Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151222/b8dd436f/attachment-0001.html>

From even.rouault at spatialys.com  Tue Dec 22 04:51:49 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 22 Dec 2015 13:51:49 +0100
Subject: [gdal-dev] Writing Coded Domain Values from GDAL
In-Reply-To: <CALMrLdDJPqS-hrkPNj5=fNFS-Svt+R9U5DAb-xETG1LxpAV7Ew@mail.gmail.com>
References: <CALMrLdDJPqS-hrkPNj5=fNFS-Svt+R9U5DAb-xETG1LxpAV7Ew@mail.gmail.com>
Message-ID: <201512221351.50076.even.rouault@spatialys.com>

Le mardi 22 décembre 2015 12:46:29, Gane R a écrit :
> I tried to read the coded domain values from GDAL, I used special sql
> requests from GDAL as described in FileGeoDB driver. I got the values in
> the XML format.
> 
> Is it possible to write coded domain values from GDAL using special sql
> request.
> I saw that it was possible from ESRI filegeodb API, can this be done from
> GDAL itself.

You could likely do it by using the XML_DEFINITION layer creation option.

It is for example used by ogr_fgdb_11() in
https://svn.osgeo.org/gdal/trunk/autotest/ogr/ogr_fgdb.py

In this test, the value of XML_DEFINITION is set to the content of 
https://svn.osgeo.org/gdal/trunk/autotest/ogr/data/test_filegdb_field_types.xml

It doesn't test Coded Domain Values though , so I'm not completely sure this 
will work if you had C.D.V in it.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From boxerab at gmail.com  Tue Dec 22 05:33:07 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Tue, 22 Dec 2015 08:33:07 -0500
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <loom.20151222T093308-681@post.gmane.org>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
 <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>
 <201512212335.33058.even.rouault@spatialys.com>
 <CAK8GPyC+7aa9r3jZZW-ZThEjn3DrEYOtUUm+duw528m=zPyKMw@mail.gmail.com>
 <loom.20151222T093308-681@post.gmane.org>
Message-ID: <CAK8GPyCCbfXB=exxr-eE7XjZ3=wOyN0XLHZrb19arz14-CRs+g@mail.gmail.com>

Hi Jukka,


On Tue, Dec 22, 2015 at 4:34 AM, Jukka Rahkonen <
jukka.rahkonen at maanmittauslaitos.fi> wrote:

> Aaron Boxer <boxerab <at> gmail.com> writes:
>
>
> > This feature would be quite involved: one would have to gather all of the
> layers for
> >
> > all of the code blocks in all of the precincts overlapping that
> sub-tile,plus the immediately surrounding precincts, run the inverse
> entropy
> coder to get the wavelet coefficients, and then do an inverse wavelet
> transform,with this incomplete set of coefficients.
> >
>
> I do not claim that I understand GIS but I have a feeling that precincts
> are
> designed for a fast ROI access. From
> http://www2.engr.arizona.edu/~bilgin/publications/SPIE2004_2.pdf
>
> "A precinct is a collection of code-blocks representing some finite spatial
> extent at some resolution."
>

> Probably gathering the surrounding precincts is unnecessary. Author of
> Kakadu seems to dislike tiles and it is no wonder that with Kakadu
> precincts
> perform well even with archived documents
> http://www.digitizationguidelines.gov/still-image/documents/Martin.pdf.
>

Thanks. Yes, I think precincts are key. But, the way the wavelet transform
works,
there need to be a number of locations on the boundary of the precinct to
correctly
transform. I suppose bordering code blocks would be enough, the entire
precinct on
the border is not necessary.

Cheers,
Aaron
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151222/6c9b1b12/attachment.html>

From boxerab at gmail.com  Tue Dec 22 05:38:30 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Tue, 22 Dec 2015 08:38:30 -0500
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <loom.20151222T093308-681@post.gmane.org>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <201512201100.51663.even.rouault@spatialys.com>
 <CAK8GPyAz8RY3Cc9MmMAq+pUr64yVZWhf7krsvmoeij0yZiV4WA@mail.gmail.com>
 <201512212335.33058.even.rouault@spatialys.com>
 <CAK8GPyC+7aa9r3jZZW-ZThEjn3DrEYOtUUm+duw528m=zPyKMw@mail.gmail.com>
 <loom.20151222T093308-681@post.gmane.org>
Message-ID: <CAK8GPyCHzWdfkjU+o8cPOg_=1TA7TJgBOg+yw_=PnZFGWYcsbg@mail.gmail.com>

On Tue, Dec 22, 2015 at 4:34 AM, Jukka Rahkonen <
jukka.rahkonen at maanmittauslaitos.fi> wrote:

> Aaron Boxer <boxerab <at> gmail.com> writes:
>
>
> > This feature would be quite involved: one would have to gather all of the
> layers for
> >
> > all of the code blocks in all of the precincts overlapping that
> sub-tile,plus the immediately surrounding precincts, run the inverse
> entropy
> coder to get the wavelet coefficients, and then do an inverse wavelet
> transform,with this incomplete set of coefficients.
> >
>
> I do not claim that I understand GIS but I have a feeling that precincts
> are
> designed for a fast ROI access. From
> http://www2.engr.arizona.edu/~bilgin/publications/SPIE2004_2.pdf
>
> "A precinct is a collection of code-blocks representing some finite spatial
> extent at some resolution."
>
> Probably gathering the surrounding precincts is unnecessary. Author of
> Kakadu seems to dislike tiles and it is no wonder that with Kakadu
> precincts
> perform well even with archived documents
> http://www.digitizationguidelines.gov/still-image/documents/Martin.pdf.
>


Thanks, that paper was an interesting discussion of optimal encoding
settings in the archive world.

What are typical j2k encoding settings in geo-spatial use case ?

I have been looking primarily at digital cinema profiles up to now, where
many J2K features are not allowed,
features such as tiling.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151222/ee3b5d77/attachment.html>

From even.rouault at spatialys.com  Tue Dec 22 06:01:12 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 22 Dec 2015 15:01:12 +0100
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <CAK8GPyCHzWdfkjU+o8cPOg_=1TA7TJgBOg+yw_=PnZFGWYcsbg@mail.gmail.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <loom.20151222T093308-681@post.gmane.org>
 <CAK8GPyCHzWdfkjU+o8cPOg_=1TA7TJgBOg+yw_=PnZFGWYcsbg@mail.gmail.com>
Message-ID: <201512221501.12872.even.rouault@spatialys.com>

Le mardi 22 décembre 2015 14:38:30, Aaron Boxer a écrit :
> On Tue, Dec 22, 2015 at 4:34 AM, Jukka Rahkonen <
> 
> jukka.rahkonen at maanmittauslaitos.fi> wrote:
> > Aaron Boxer <boxerab <at> gmail.com> writes:
> > > This feature would be quite involved: one would have to gather all of
> > > the
> > 
> > layers for
> > 
> > > all of the code blocks in all of the precincts overlapping that
> > 
> > sub-tile,plus the immediately surrounding precincts, run the inverse
> > entropy
> > coder to get the wavelet coefficients, and then do an inverse wavelet
> > transform,with this incomplete set of coefficients.
> > 
> > 
> > I do not claim that I understand GIS but I have a feeling that precincts
> > are
> > designed for a fast ROI access. From
> > http://www2.engr.arizona.edu/~bilgin/publications/SPIE2004_2.pdf
> > 
> > "A precinct is a collection of code-blocks representing some finite
> > spatial extent at some resolution."
> > 
> > Probably gathering the surrounding precincts is unnecessary. Author of
> > Kakadu seems to dislike tiles and it is no wonder that with Kakadu
> > precincts
> > perform well even with archived documents
> > http://www.digitizationguidelines.gov/still-image/documents/Martin.pdf.
> 
> Thanks, that paper was an interesting discussion of optimal encoding
> settings in the archive world.
> 
> What are typical j2k encoding settings in geo-spatial use case ?

That must depend vastly on the producer.

A few examples:

You can download Sentinel-2 products at :
https://scihub.copernicus.eu/s2/#/home
up to 10980x10980 images, 12 bit, with 2048x2048 tiles

Pleidas products :
http://www.geo-airbusds.com/en/23-sample-imagery
Bigger dimension that S-2. Also 12 bit, with 2048x2048 tiles

There are likely sources that are single tiled.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From boxerab at gmail.com  Tue Dec 22 07:13:35 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Tue, 22 Dec 2015 10:13:35 -0500
Subject: [gdal-dev] OpenJPEG
In-Reply-To: <201512221501.12872.even.rouault@spatialys.com>
References: <CAK8GPyCCcT1-Ls+LXSjptpWvdSTUasa2n=2Uxt3_D5RYTQyt2g@mail.gmail.com>
 <loom.20151222T093308-681@post.gmane.org>
 <CAK8GPyCHzWdfkjU+o8cPOg_=1TA7TJgBOg+yw_=PnZFGWYcsbg@mail.gmail.com>
 <201512221501.12872.even.rouault@spatialys.com>
Message-ID: <CAK8GPyBqwYmnHodLBimSWiDLkGA0mN7WbLWC_Gk0A2oCmJjqXw@mail.gmail.com>

On Tue, Dec 22, 2015 at 9:01 AM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Le mardi 22 décembre 2015 14:38:30, Aaron Boxer a écrit :
> > On Tue, Dec 22, 2015 at 4:34 AM, Jukka Rahkonen <
> >
> > jukka.rahkonen at maanmittauslaitos.fi> wrote:
> > > Aaron Boxer <boxerab <at> gmail.com> writes:
> > > > This feature would be quite involved: one would have to gather all of
> > > > the
> > >
> > > layers for
> > >
> > > > all of the code blocks in all of the precincts overlapping that
> > >
> > > sub-tile,plus the immediately surrounding precincts, run the inverse
> > > entropy
> > > coder to get the wavelet coefficients, and then do an inverse wavelet
> > > transform,with this incomplete set of coefficients.
> > >
> > >
> > > I do not claim that I understand GIS but I have a feeling that
> precincts
> > > are
> > > designed for a fast ROI access. From
> > > http://www2.engr.arizona.edu/~bilgin/publications/SPIE2004_2.pdf
> > >
> > > "A precinct is a collection of code-blocks representing some finite
> > > spatial extent at some resolution."
> > >
> > > Probably gathering the surrounding precincts is unnecessary. Author of
> > > Kakadu seems to dislike tiles and it is no wonder that with Kakadu
> > > precincts
> > > perform well even with archived documents
> > > http://www.digitizationguidelines.gov/still-image/documents/Martin.pdf
> .
> >
> > Thanks, that paper was an interesting discussion of optimal encoding
> > settings in the archive world.
> >
> > What are typical j2k encoding settings in geo-spatial use case ?
>
> That must depend vastly on the producer.
>
> A few examples:
>
> You can download Sentinel-2 products at :
> https://scihub.copernicus.eu/s2/#/home
> up to 10980x10980 images, 12 bit, with 2048x2048 tiles
>
> Pleidas products :
> http://www.geo-airbusds.com/en/23-sample-imagery
> Bigger dimension that S-2. Also 12 bit, with 2048x2048 tiles
>
> There are likely sources that are single tiled.
>


Thanks. These sites will be very useful.

Is it standard to add TLM and PLM markers?  Because these make fast random
access
possible.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151222/0e5026fd/attachment.html>

From michael.smith.erdc at gmail.com  Tue Dec 22 12:38:30 2015
From: michael.smith.erdc at gmail.com (Michael Smith)
Date: Tue, 22 Dec 2015 15:38:30 -0500
Subject: [gdal-dev] GDAL/Mapserver PSC Members - OGC Trademark License
 Agreement signed by OSGeo
Message-ID: <D29F1D5E.121985%michael.smith.erdc@gmail.com>

FYI, to GDAL / Mapserver PSC members,

Today I signed the OGC Trademark License Agreement on behalf of the OSGeo
board. 

This was previously done by the MapServer and GDAL PSCs before it was
merged under the OSGeo provider.

Mike

----
Michael Smith
OSGeo Foundation Treasurer
treasurer at osgeo.org






>-----Original Message-----
>From: Michael Smith <michael.smith.erdc at gmail.com>
>Date: Tuesday, December 22, 2015 at 11:43 AM
>To: Stephan Meißl <stephan at meissl.name>, OSGeo Board-private
><board-priv at osgeo.org>
>Subject: Re: OGC TLA urgent
>
>>Stephan,
>>
>>Here's the agreement, signed by me.
>>
>>I've also added this (for other board members info) to the
>>OSGeo-intl/Projects folder.
>>
>>Mike
>>
>>----
>>Michael Smith
>>OSGeo Foundation Treasurer
>>treasurer at osgeo.org
>>
>>
>>
>>
>>-----Original Message-----
>>From: Stephan Meißl <stephan at meissl.name>
>>Date: Tuesday, December 22, 2015 at 10:48 AM
>>To: OSGeo Board-private <board-priv at osgeo.org>
>>Subject: Fwd: OGC TLA urgent
>>
>>>Hi board,
>>>
>>>Luis from OGC sent below request to Jeff and me and since Jeff didn't
>>>respond so far I'm forwarding it.
>>>
>>>Seems this Trademark License Agreement is needed when a software wants
>>>to use the Certified OGC Compliant mark which are currently GDAL and
>>>MapServer. Together with Daniel Morissette I maintained the MapServer
>>>listing before it was merged under the OSGeo provider.
>>>
>>>I'm happy to follow this up with OGC but would need to know who is
>>>supposed to sign on behalf of OSGeo? This seems to be rather urgent for
>>>OGC so thanks for any help.
>>>
>>>Thanks,
>>>Stephan
>>>
>>>
>>>-------- Forwarded Message --------
>>>Subject: 	OGC TLA urgent
>>>Date: 	Tue, 15 Dec 2015 12:01:31 -0500
>>>From: 	Luis Bermudez <lbermudez at opengeospatial.org>
>>>To: 	jmckenna at gatewaygeomatics.com, stephan.meissl at eox.at
>>>
>>>
>>>
>>>Hi Jeff and Stephan
>>>
>>>I was informed that we never closed the loop about signing the OGC TLA.
>>>Can you please do so and send to me, so we can move some OSGeo
>>>certifications that are pending. The TLA can be reused and it doesn't
>>>need to be sign every time you have a  new application.
>>>
>>>Thank you soo soo much.
>>>
>>>Luis Bermudez, Ph.D.
>>>Executive Director Compliance and E-Learning
>>>Open Geospatial Consortium (OGC)
>>>Skype: bermudez_luis
>>>Twitter: @berdez
>>>Tel: +1 301 760 7323
>>>https://www.linkedin.com/in/bermudez
>>>
>>>The OGC: Making Location Count
>>>
>>>
>>>
>>>
>>
>
>





From dadler at adtechgeospatial.com  Tue Dec 22 13:28:12 2015
From: dadler at adtechgeospatial.com (David Adler)
Date: Tue, 22 Dec 2015 16:28:12 -0500
Subject: [gdal-dev] subclassing CPLODBCStatement and CPLODBCSession for DB2
In-Reply-To: <mailman.15.1450814402.1732.gdal-dev@lists.osgeo.org>
References: <mailman.15.1450814402.1732.gdal-dev@lists.osgeo.org>
Message-ID: <5679C06C.8040408@adtechgeospatial.com>

I am subclassing these classes to provide additional support for DB2.

It would simplify matters if some of the members of the parent classes 
were protected rather than private.

The current CPLODBCStatement::Failed method is private but would be 
useful as public.

There is also a peculiarity in CPLODBCSession::Failed that it ends up 
resetting m_szLastError when RollbackTransaction is invoked so 
GetLastError doesn't usually return anything useful about the actual 
failing statement.

Is this something that would be worthwhile opening a ticket for?

From gane.prog at gmail.com  Wed Dec 23 00:12:21 2015
From: gane.prog at gmail.com (Gane R)
Date: Wed, 23 Dec 2015 13:42:21 +0530
Subject: [gdal-dev] Projection different when converting to filegeodb:
Message-ID: <CALMrLdAp6Pgs27GRY1pT+v71S0bidGisPerB1y=GkoeO3vPovw@mail.gmail.com>

I have a shapefile, I convert to Filegeodb, when I convert, the SRS WKT are
different, later when I convert the geom in filegeodb to EPSG:4326 WGS 84 I
get a n error code.


pOutputSRS = (OGRSpatialReference*)OSRNewSpatialReference(NULL);
                        pOutputSRS->SetFromUserInput( "EPSG:4326" );

ogrError = pSrcGeom->transformTo(pOutputSRS);

I get OGRERR_FAILURE , ogrError = 6


any suggestions ?

I have shared the shape file and Filegeodb

https://drive.google.com/file/d/0B4shTM1bPS5TY2dKbnNFV1RNbUk/view?usp=sharing

https://drive.google.com/file/d/0B4shTM1bPS5Td1V1aEVYZVFiNEk/view?usp=sharing


ogrinfo -al "SimpleShapeFile_1.shp"

INFO: Open of `SimpleShapeFile_1.shp'
      using driver `ESRI Shapefile' successful.

Layer name: SimpleShapeFile_1
Geometry: Point
Feature Count: 1
Extent: (-104.960632, 39.736762) - (-104.960632, 39.736762)
Layer SRS WKT:
GEOGCS["WGS84(DD)",
    DATUM["WGS84",
        SPHEROID["WGS84",6378137.0,298.257223563]],
    PRIMEM["Greenwich",0.0],
    UNIT["degree",0.017453292519943295],
    AXIS["Geodetic longitude",EAST],
    AXIS["Geodetic latitude",NORTH]]
Label: String (254.0)
OGRFeature(SimpleShapeFile_1):0
  Label (String) = 1
  POINT (-104.960632 39.736762)



  ogr2ogr -f "FileGDB" "SimpleShapeFile.gdb" "SimpleShapeFile_1.shp"


ogrinfo -al "SimpleShapeFile.gdb"

INFO: Open of 'SimpleShapeFile.gdb'
      using driver `FileGDB' successful.

Layer name: SimpleShapeFile_1
Geometry: Point
Feature Count: 1
Extent: (-104.960632, 39.736762) - (-104.960632, 39.736762)
Layer SRS WKT:
COMPD_CS[
    PROJCS[,
        AUTHORITY["EPSG","0"]],
    VERT_CS[,
        VERT_DATUM[,2005,
            AUTHORITY["EPSG","0"]],
        AXIS["Up",UP],
        AUTHORITY["EPSG","0"]]]
FID Column = OBJECTID
Geometry Column = SHAPE
Label: String (0.0)
OGRFeature(SimpleShapeFile_1):1
  Label (String) = 1
  POINT (-104.960632 39.736762)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151223/8c361e22/attachment.html>

From gane.prog at gmail.com  Wed Dec 23 05:27:48 2015
From: gane.prog at gmail.com (Gane R)
Date: Wed, 23 Dec 2015 18:57:48 +0530
Subject: [gdal-dev] epsg code for wgs84
Message-ID: <CALMrLdA41B=GyfA2SMpynAv8RfXpKnCFMDffvZ-nyLdFm6oC2w@mail.gmail.com>

can any one specify the epsg code for wgs 84

thanks

Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151223/6b8d10a2/attachment.html>

From sebastic at xs4all.nl  Wed Dec 23 05:34:07 2015
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Wed, 23 Dec 2015 14:34:07 +0100
Subject: [gdal-dev] epsg code for wgs84
In-Reply-To: <CALMrLdA41B=GyfA2SMpynAv8RfXpKnCFMDffvZ-nyLdFm6oC2w@mail.gmail.com>
References: <CALMrLdA41B=GyfA2SMpynAv8RfXpKnCFMDffvZ-nyLdFm6oC2w@mail.gmail.com>
Message-ID: <567AA2CF.2040101@xs4all.nl>

On 23-12-15 14:27, Gane R wrote:
> can any one specify the epsg code for wgs 84

EPSG:4326, you can find this on the Spatial Reference website for
example: http://spatialreference.org/ref/epsg/wgs-84/

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

From bradh at frogmouth.net  Wed Dec 23 19:11:39 2015
From: bradh at frogmouth.net (Brad Hards)
Date: Thu, 24 Dec 2015 14:11:39 +1100
Subject: [gdal-dev] epsg code for wgs84
In-Reply-To: <567AA2CF.2040101@xs4all.nl>
References: <CALMrLdA41B=GyfA2SMpynAv8RfXpKnCFMDffvZ-nyLdFm6oC2w@mail.gmail.com>
 <567AA2CF.2040101@xs4all.nl>
Message-ID: <4988469.IaM2VPzxUE@saxicola>

On Wed, 23 Dec 2015 02:34:07 PM Sebastiaan Couwenberg wrote:
> On 23-12-15 14:27, Gane R wrote:
> > can any one specify the epsg code for wgs 84
> 
> EPSG:4326, you can find this on the Spatial Reference website for
> example: http://spatialreference.org/ref/epsg/wgs-84/
This is almost certainly what you are looking for, but consider that WGS-84 is 
the ellipsoid shape, not the projection. So UTM is now a Transverse Mercator 
projection of the WGS-84 ellipsoid.

There are other EPSG codes that are also for WGS 84. For example:
http://spatialreference.org/ref/epsg/wgs-84-3/ for the 3D equivalent of 4326.

Brad


From gane.prog at gmail.com  Wed Dec 23 22:43:51 2015
From: gane.prog at gmail.com (Gane R)
Date: Thu, 24 Dec 2015 12:13:51 +0530
Subject: [gdal-dev] Writing Coded Domain Values from GDAL
In-Reply-To: <201512221351.50076.even.rouault@spatialys.com>
References: <CALMrLdDJPqS-hrkPNj5=fNFS-Svt+R9U5DAb-xETG1LxpAV7Ew@mail.gmail.com>
 <201512221351.50076.even.rouault@spatialys.com>
Message-ID: <CALMrLdBEwDBOemg77WEMO1FgU8oYTDr9iSqgF+qe3cZQFRObKQ@mail.gmail.com>

I saw the python example, I tried load the xml and used XML_DEFINITION on
layer creation option, I get runtime crash, I guess I am wrong some where

I loaded the XML and created a buffer

XML_DEFINITION=xmlcontent and sent in the layer creation options ? any
suggesion or code snippets already working

will be of great help

Gane

_

On Tue, Dec 22, 2015 at 6:21 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Le mardi 22 décembre 2015 12:46:29, Gane R a écrit :
> > I tried to read the coded domain values from GDAL, I used special sql
> > requests from GDAL as described in FileGeoDB driver. I got the values in
> > the XML format.
> >
> > Is it possible to write coded domain values from GDAL using special sql
> > request.
> > I saw that it was possible from ESRI filegeodb API, can this be done from
> > GDAL itself.
>
> You could likely do it by using the XML_DEFINITION layer creation option.
>
> It is for example used by ogr_fgdb_11() in
> https://svn.osgeo.org/gdal/trunk/autotest/ogr/ogr_fgdb.py
>
> In this test, the value of XML_DEFINITION is set to the content of
>
> https://svn.osgeo.org/gdal/trunk/autotest/ogr/data/test_filegdb_field_types.xml
>
> It doesn't test Coded Domain Values though , so I'm not completely sure
> this
> will work if you had C.D.V in it.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151224/4a09ecca/attachment.html>

From gane.prog at gmail.com  Wed Dec 23 23:08:20 2015
From: gane.prog at gmail.com (Gane R)
Date: Thu, 24 Dec 2015 12:38:20 +0530
Subject: [gdal-dev] Writing Coded Domain Values from GDAL
In-Reply-To: <CALMrLdBEwDBOemg77WEMO1FgU8oYTDr9iSqgF+qe3cZQFRObKQ@mail.gmail.com>
References: <CALMrLdDJPqS-hrkPNj5=fNFS-Svt+R9U5DAb-xETG1LxpAV7Ew@mail.gmail.com>
 <201512221351.50076.even.rouault@spatialys.com>
 <CALMrLdBEwDBOemg77WEMO1FgU8oYTDr9iSqgF+qe3cZQFRObKQ@mail.gmail.com>
Message-ID: <CALMrLdCbiVzrHsbqhKU0ZE1BQwuy4=ejHy1fUviUtKwsbdfrhw@mail.gmail.com>

I just figured out the issue, I tried to see that the C.D.V are created on
the layer, but for XML with C.D.Vs the layer returned was NULL.
However it worked for XML without C.D.V values. Filegeodb API says that
call for geodatabase->createTable will ignore C.D.Vs

Thanks
Gane

On Thu, Dec 24, 2015 at 12:13 PM, Gane R <gane.prog at gmail.com> wrote:

> I saw the python example, I tried load the xml and used XML_DEFINITION on
> layer creation option, I get runtime crash, I guess I am wrong some where
>
> I loaded the XML and created a buffer
>
> XML_DEFINITION=xmlcontent and sent in the layer creation options ? any suggesion or code snippets already working
>
> will be of great help
>
> Gane
>
> _
>
> On Tue, Dec 22, 2015 at 6:21 PM, Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> Le mardi 22 décembre 2015 12:46:29, Gane R a écrit :
>> > I tried to read the coded domain values from GDAL, I used special sql
>> > requests from GDAL as described in FileGeoDB driver. I got the values in
>> > the XML format.
>> >
>> > Is it possible to write coded domain values from GDAL using special sql
>> > request.
>> > I saw that it was possible from ESRI filegeodb API, can this be done
>> from
>> > GDAL itself.
>>
>> You could likely do it by using the XML_DEFINITION layer creation option.
>>
>> It is for example used by ogr_fgdb_11() in
>> https://svn.osgeo.org/gdal/trunk/autotest/ogr/ogr_fgdb.py
>>
>> In this test, the value of XML_DEFINITION is set to the content of
>>
>> https://svn.osgeo.org/gdal/trunk/autotest/ogr/data/test_filegdb_field_types.xml
>>
>> It doesn't test Coded Domain Values though , so I'm not completely sure
>> this
>> will work if you had C.D.V in it.
>>
>> Even
>>
>> --
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151224/39f28e8c/attachment.html>

From schwehr at gmail.com  Thu Dec 24 20:48:17 2015
From: schwehr at gmail.com (Kurt Schwehr)
Date: Thu, 24 Dec 2015 20:48:17 -0800
Subject: [gdal-dev] Fwd: GDAL AppVeyor
References: <20151225022327.8271.11479@appveyor.com>
Message-ID: <F9891315-5F0E-4E08-A76E-AAD03A9F51B5@gmail.com>

I will take a look at fixing this in the next couple hours

Begin forwarded message:

> From: AppVeyor <no-reply at appveyor.com>
> Date: December 24, 2015 at 6:23:27 PM PST
> To: schwehr at gmail.com
> Subject: GDAL AppVeyor
> 
> Build gdal_coverage 1.0.1842 failed
> 
> Commit 751d8531ff 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151224/81b8cdba/attachment.html>

From gane.prog at gmail.com  Fri Dec 25 00:11:44 2015
From: gane.prog at gmail.com (Gane R)
Date: Fri, 25 Dec 2015 13:41:44 +0530
Subject: [gdal-dev] Projection different when converting to filegeodb:
In-Reply-To: <3946171.CpmA9XXYWa@even-n550jk>
References: <CALMrLdAp6Pgs27GRY1pT+v71S0bidGisPerB1y=GkoeO3vPovw@mail.gmail.com>
 <3946171.CpmA9XXYWa@even-n550jk>
Message-ID: <CALMrLdBCybt1_GFZvqr1RowwXitzLWOJU+hnN85bEJ1Mcxp_sQ@mail.gmail.com>

I used FileGDB SDK 1.4 with gdal gdal-1.11.3, I changed the Shape file
projection to EPSG:4326 it then worked for me.

Thanks
Gane

On Thu, Dec 24, 2015 at 5:32 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

> >
> > ogrinfo -al "SimpleShapeFile_1.shp"
> >
> > INFO: Open of `SimpleShapeFile_1.shp'
> >       using driver `ESRI Shapefile' successful.
> >
> > Layer name: SimpleShapeFile_1
> > Geometry: Point
> > Feature Count: 1
> > Extent: (-104.960632, 39.736762) - (-104.960632, 39.736762)
> > Layer SRS WKT:
> > GEOGCS["WGS84(DD)",
> >     DATUM["WGS84",
> >         SPHEROID["WGS84",6378137.0,298.257223563]],
> >     PRIMEM["Greenwich",0.0],
> >     UNIT["degree",0.017453292519943295],
> >     AXIS["Geodetic longitude",EAST],
> >     AXIS["Geodetic latitude",NORTH]]
> > Label: String (254.0)
> > OGRFeature(SimpleShapeFile_1):0
> >   Label (String) = 1
> >   POINT (-104.960632 39.736762)
> >
> >
> >
> >   ogr2ogr -f "FileGDB" "SimpleShapeFile.gdb" "SimpleShapeFile_1.shp"
>
> Which version of the FileGDB SDK did you use ? With v1.3 this fails for me
> with :
> ERROR 1: Failed at creating table for \SimpleShapeFile_1 (General function
> failure.)
> which isn't completely surprising since the SDK is quite picky on the
> projection strings, and I guess the "WGS84(DD)" must not please it. The
> SRS it
> generated for you is completely invalid, hence the reprojection error you
> get
> later.
> If you add -a_srs EPSG:4326 this will work fine.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151225/fcb8cbd6/attachment.html>

From gane.prog at gmail.com  Fri Dec 25 00:21:18 2015
From: gane.prog at gmail.com (Gane R)
Date: Fri, 25 Dec 2015 13:51:18 +0530
Subject: [gdal-dev] FileGDB:Changing the Geom field definition on layer
	created with XML_DEFINITION
Message-ID: <CALMrLdDZM6j2Oo9Ft9ku-a224sMYrxCop65LhA8S2__0t-cBNg@mail.gmail.com>

I have creating a layer for FileGeoDB using XML

I want to change the geom definition set from XML to my selected Projection
say EPSG:4326

So I am looking for SetGeomFieldDefn opposite of  GetGeomFieldDefn

any suggestion

Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151225/0a3a0a39/attachment.html>

From schwehr at gmail.com  Sat Dec 26 15:19:41 2015
From: schwehr at gmail.com (Kurt Schwehr)
Date: Sat, 26 Dec 2015 15:19:41 -0800
Subject: [gdal-dev] db2 python test issues
Message-ID: <CACmBxytXwzOtihuVromxZG+eFpK5G_9Q+NoZsKgJ9PtnFQpB3w@mail.gmail.com>

Hi David,

I just did a quick touchup on ogr_db2.py with r32484
<https://trac.osgeo.org/gdal/changeset/32484>

With a python3 copy of pyflakes, you will get errors about prints without
parens.  e.g.

pyflakes ogr_db2.py
ogr_db2.py:334:47: invalid syntax
        print "These tests only run on Windows"
                                              ^

I was seeing this in at least one build log
<https://travis-ci.org/rouault/gdal_coverage/builds/98914828#L6208>:

... failed to load ogr_db2.py ... skipping.
Traceback (most recent call last):
  File "pymod/gdaltest.py", line 246, in run_all
    exec("import " + module)
  File "<string>", line 1, in <module>
  File "./ogr_db2.py", line 300
    print cnt
            ^
SyntaxError: invalid syntax

-kurt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151226/c8d83684/attachment.html>

From even.rouault at spatialys.com  Mon Dec 28 10:02:27 2015
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 28 Dec 2015 19:02:27 +0100
Subject: [gdal-dev] subclassing CPLODBCStatement and CPLODBCSession for
	DB2
In-Reply-To: <5679C06C.8040408@adtechgeospatial.com>
References: <mailman.15.1450814402.1732.gdal-dev@lists.osgeo.org>
 <5679C06C.8040408@adtechgeospatial.com>
Message-ID: <201512281902.27610.even.rouault@spatialys.com>

Le mardi 22 décembre 2015 22:28:12, David Adler a écrit :
> I am subclassing these classes to provide additional support for DB2.
> 
> It would simplify matters if some of the members of the parent classes
> were protected rather than private.
> 
> The current CPLODBCStatement::Failed method is private but would be
> useful as public.

Perhaps would it make more sense to add what you need in CPLODBCStatement 
itself ? (difficult to tell with what you mentionned)

> 
> There is also a peculiarity in CPLODBCSession::Failed that it ends up
> resetting m_szLastError when RollbackTransaction is invoked so
> GetLastError doesn't usually return anything useful about the actual
> failing statement.
> 
> Is this something that would be worthwhile opening a ticket for?

Yes likely.

> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bontepaarden at gmail.com  Mon Dec 28 13:05:52 2015
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon, 28 Dec 2015 22:05:52 +0100
Subject: [gdal-dev] Can not connect to MSSQL database on Azure
Message-ID: <CAHNf2YREgtE10_79hKO+WGWHrZ7cSbfwzkZgVgFR4Y865Z6FSQ@mail.gmail.com>

I'm trying to connect to a MSSQL database on Azure using a SQL Server user
account but I get this from GDAL (v2): Unable to initialize connection to
the server for MSSQL:server=***;database=***;user=*** ;password=*** [SQL
Server]Login failed. The login is from an untrusted domain and cannot be
used with Windows authentication.

A co-worker looked at the code of the MSSQL driver and noticed you
are using the ODBC drivers, but are hard coding the trusted_connection
parameter to be yes.
Is this by design?
Should I file a issue report?

Thanks,

Paul

*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl


Download the latest MapWinGIS mapping engine.
<https://mapwingis.codeplex.com/releases>

Download the latest MapWindow 5 open source desktop application.
<https://mapwindow5.codeplex.com/releases>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151228/b71dbf49/attachment.html>

From szekerest at gmail.com  Mon Dec 28 13:18:31 2015
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon, 28 Dec 2015 22:18:31 +0100
Subject: [gdal-dev] Can not connect to MSSQL database on Azure
In-Reply-To: <CAHNf2YREgtE10_79hKO+WGWHrZ7cSbfwzkZgVgFR4Y865Z6FSQ@mail.gmail.com>
References: <CAHNf2YREgtE10_79hKO+WGWHrZ7cSbfwzkZgVgFR4Y865Z6FSQ@mail.gmail.com>
Message-ID: <CACALY+QTWJbcf8FZBAMB-zAf_e_Rz+OE70AF-jodQ-5MjWbEKQ@mail.gmail.com>

Hi Paul,

I don't think we are hard coding trusted_connection in the MSSQL connection
strings. The UID and PWD is also accepted in the ODBC connection strings
according to: https://msdn.microsoft.com/en-us/library/ms130822.aspx

Best regards,

Tamas


2015-12-28 22:05 GMT+01:00 Paul Meems <bontepaarden at gmail.com>:

> I'm trying to connect to a MSSQL database on Azure using a SQL Server user
> account but I get this from GDAL (v2): Unable to initialize connection to
> the server for MSSQL:server=***;database=***;user=*** ;password=*** [SQL
> Server]Login failed. The login is from an untrusted domain and cannot be
> used with Windows authentication.
>
> A co-worker looked at the code of the MSSQL driver and noticed you
> are using the ODBC drivers, but are hard coding the trusted_connection
> parameter to be yes.
> Is this by design?
> Should I file a issue report?
>
> Thanks,
>
> Paul
>
> *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
>
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
>
>
> Download the latest MapWinGIS mapping engine.
> <https://mapwingis.codeplex.com/releases>
>
> Download the latest MapWindow 5 open source desktop application.
> <https://mapwindow5.codeplex.com/releases>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151228/4822c4af/attachment.html>

From boxerab at gmail.com  Mon Dec 28 20:37:28 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Mon, 28 Dec 2015 23:37:28 -0500
Subject: [gdal-dev] Interesting article about jpeg 2000 in geo-spatial
Message-ID: <CAK8GPyDM7xR_6Y87fQZFqUxCY5GL4C8Z2yJjCBPmjvFQoJqg-Q@mail.gmail.com>

http://blog.hexagongeospatial.com/jpeg2000-quirks/?utm_medium=twitter&utm_source=twitterfeed#prettyPhoto

Amusingly, there is a link in the article to my recent discussion about
OpenJPEG.

Cheers,
Aaron
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151228/97ccc7e7/attachment.html>

From boxerab at gmail.com  Mon Dec 28 21:15:13 2015
From: boxerab at gmail.com (Aaron Boxer)
Date: Tue, 29 Dec 2015 00:15:13 -0500
Subject: [gdal-dev] Interesting article about jpeg 2000 in geo-spatial
In-Reply-To: <CAK8GPyDM7xR_6Y87fQZFqUxCY5GL4C8Z2yJjCBPmjvFQoJqg-Q@mail.gmail.com>
References: <CAK8GPyDM7xR_6Y87fQZFqUxCY5GL4C8Z2yJjCBPmjvFQoJqg-Q@mail.gmail.com>
Message-ID: <CAK8GPyDz3Z4vQoK7-4VmPbxEXRhx54iKnh9DMM=7Pp5mD8J75g@mail.gmail.com>

Looks like the sleepy world of software j2k codecs is about to be jolted
into the 21st century with rise of the GPU codecs ( see comprimato, for
example)
On Dec 28, 2015 11:37 PM, "Aaron Boxer" <boxerab at gmail.com> wrote:

>
> http://blog.hexagongeospatial.com/jpeg2000-quirks/?utm_medium=twitter&utm_source=twitterfeed#prettyPhoto
>
> Amusingly, there is a link in the article to my recent discussion about
> OpenJPEG.
>
> Cheers,
> Aaron
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151229/343d8c66/attachment.html>

From bontepaarden at gmail.com  Tue Dec 29 01:06:05 2015
From: bontepaarden at gmail.com (Paul Meems)
Date: Tue, 29 Dec 2015 10:06:05 +0100
Subject: [gdal-dev] Can not connect to MSSQL database on Azure
In-Reply-To: <CACALY+QTWJbcf8FZBAMB-zAf_e_Rz+OE70AF-jodQ-5MjWbEKQ@mail.gmail.com>
References: <CAHNf2YREgtE10_79hKO+WGWHrZ7cSbfwzkZgVgFR4Y865Z6FSQ@mail.gmail.com>
 <CACALY+QTWJbcf8FZBAMB-zAf_e_Rz+OE70AF-jodQ-5MjWbEKQ@mail.gmail.com>
Message-ID: <CAHNf2YQO=qxsSRp_JuZ6fFMBc9rJQV0W_-V=8+FNSgFXBPJYWA@mail.gmail.com>

Thanks Tamas,

You are completely right. We misinterpret de code.
Thanks to the link you provided we now understand we need to use a
different connection string:
MSSQL:server=***;database=***;trusted_connection=no;uid=***;pwd=***


Thanks,

Paul

*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl


Download the latest MapWinGIS mapping engine.
<https://mapwingis.codeplex.com/releases>

Download the latest MapWindow 5 open source desktop application.
<https://mapwindow5.codeplex.com/releases>

2015-12-28 22:18 GMT+01:00 Tamas Szekeres <szekerest at gmail.com>:

> Hi Paul,
>
> I don't think we are hard coding trusted_connection in the MSSQL
> connection strings. The UID and PWD is also accepted in the ODBC connection
> strings according to:
> https://msdn.microsoft.com/en-us/library/ms130822.aspx
>
> Best regards,
>
> Tamas
>
>
> 2015-12-28 22:05 GMT+01:00 Paul Meems <bontepaarden at gmail.com>:
>
>> I'm trying to connect to a MSSQL database on Azure using a SQL Server
>> user account but I get this from GDAL (v2): Unable to initialize
>> connection to the server for MSSQL:server=***;database=***;user=***
>> ;password=*** [SQL Server]Login failed. The login is from an untrusted
>> domain and cannot be used with Windows authentication.
>>
>> A co-worker looked at the code of the MSSQL driver and noticed you
>> are using the ODBC drivers, but are hard coding the trusted_connection
>> parameter to be yes.
>> Is this by design?
>> Should I file a issue report?
>>
>> Thanks,
>>
>> Paul
>>
>> *Paul Meems *
>> Release manager, configuration manager
>> and forum moderator of MapWindow GIS.
>> www.mapwindow.org
>>
>> Owner of MapWindow.nl - Support for
>> Dutch speaking users.
>> www.mapwindow.nl
>>
>>
>> Download the latest MapWinGIS mapping engine.
>> <https://mapwingis.codeplex.com/releases>
>>
>> Download the latest MapWindow 5 open source desktop application.
>> <https://mapwindow5.codeplex.com/releases>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20151229/b66920d9/attachment-0001.html>

From paulopires16 at gmail.com  Wed Dec 30 03:09:45 2015
From: paulopires16 at gmail.com (Paulo Pires)
Date: Wed, 30 Dec 2015 03:09:45 -0800 (PST)
Subject: [gdal-dev] affine transformation (gdaltransform)???
Message-ID: <1451473785124-5243284.post@n6.nabble.com>

Hello, need help, please...

I need to make a affine transformation on shapefile and raster file but I
dont know the formula.

I already have this variables:

/method=poli
verbose=N
x0y0=[1.1..., 1.1...]
alpha=[2.2..., -3.1...]
beta=[1.1..., -1.1...]
gamma=[0.0, 0.0]
delta=[0.0, 0.0]
epsilon=[0.0, 0.0]/

How can I use them?

Thanks



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/affine-transformation-gdaltransform-tp5243284.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From nguler at jlab.org  Thu Dec 31 14:31:40 2015
From: nguler at jlab.org (nguler at jlab.org)
Date: Thu, 31 Dec 2015 17:31:40 -0500 (EST)
Subject: [gdal-dev] Metadata from GeoTIFF to ENVI
Message-ID: <15070.173.48.226.138.1451601100.squirrel@webmail.jlab.org>

Dear GDAL Users,

I am reading a GeoTIFF file and creating an ENVI file. I don't want to use the
CreateCopy method but the Create method.

I tried something like the following to transfer the metadata:

   char **papszMetadataSet;
   papszMetadataSet = poDataset->GetMetadata();
   poDstDS->SetMetadata(papszMetadataSet);

But, it did not work. I am pretty new to GDAL and I would greatly appreciate
an example on how to transfer Metadata while creating an ENVI type file. I
would like to learn how to transfer the whole metadata and also selected part
of it.

Best regards,
- Nevzat




