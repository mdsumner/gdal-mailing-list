From alexamici at fastwebnet.it  Sun Feb  1 07:46:13 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] latest in the hdf-gdal-grass hdf-eos saga....
In-Reply-To: <002701c3e830$d9e5b4d0$0a00a8c0@rodan>
References: <002701c3e830$d9e5b4d0$0a00a8c0@rodan>
Message-ID: <200402011346.13878.alexamici@fastwebnet.it>

Jeff,

On Saturday 31 January 2004 20:31, Jeff D. Hamann wrote:
> Here are some scenes from last weeks episode:

[snip]

> Under FreeBSD 5.0
> I wasn't able to build  the version in /usr/ports since it appears there's
> some problem with the LaTeX code? Here's the build (using make) stop

AFAIK gdal doesn't depend on latex, this looks strange, anyhow...

> So I tried downloaded the gdal-1.1.9 source code and building as a "normal"
> project. I ran ./configure, then make and got the following results:

[snip]

> config.status: port/cpl_config.h is unchanged
> $ make
> make: no target to make.
> $
>
> So I can't even get gdal-1.1.9 to build manually.

the gdal build system depends on the GNU flavor of 'make', if you are lucky 
FreeBSD packages GNU make as well as their standard make. look for something 
like 'gmake'.

then you may try to build gdal with:
$ .configure 
$ gmake

i'm not sure if gdal 1.1.9 actually builds on FreeBSD.
however if you it doesn't and you still have energy :) you might have better 
luck with the current cvs (grab a nighty snapshot) which uses libtool (and 
still depends on GNU make).

hope this helps,
alessandro

From dron at ak4719.spb.edu  Sun Feb  1 13:41:16 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] latest in the hdf-gdal-grass hdf-eos saga....
In-Reply-To: <002701c3e830$d9e5b4d0$0a00a8c0@rodan>
References: <002701c3e830$d9e5b4d0$0a00a8c0@rodan>
Message-ID: <20040201184116.GA31507@ak4719.spb.edu>

On Sat, Jan 31, 2004 at 11:31:40AM -0800, Jeff D. Hamann wrote:
> but after all that I still can't figure out how to make gdal-1.1.9.
> All I get when I type ./configure (without the --with-hdf4 stuff even)
> and make is:
> 
> config.status: creating port/cpl_config.h
> $ make
> make: no target to make.

I'm agree with Alessandro, it is BSD make problem. Note, that makefile
in the GDAL root called GNUmakefile. That's why you can't handle it with
your make utility. Use gmake instead.

> So this project will have to go into the drawer again until I can some
> of th ese resolved... And after all that, does anyone actually if
> GRASS can import ASTER L1B images?

Yes.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From jeff.hamann at forestinformatics.com  Mon Feb  2 13:22:41 2004
From: jeff.hamann at forestinformatics.com (Jeff D. Hamann)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] Re: Gdal-dev digest, Vol 1 #398 - 2 msgs
References: <20040202170001.20246.43018.Mailman@yoda.imagelinks.com>
Message-ID: <002501c3e9b9$8eb47ac0$0a00a8c0@rodan>

It worked like a charm....

Now if I could just get grass to build...

Thanks,
Jeff.

----- Original Message ----- 
From: <gdal-dev-request@remotesensing.org>
To: <gdal-dev@remotesensing.org>
Sent: Monday, February 02, 2004 9:00 AM
Subject: Gdal-dev digest, Vol 1 #398 - 2 msgs


> Send Gdal-dev mailing list submissions to
> gdal-dev@remotesensing.org
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> http://remotesensing.org/mailman/listinfo/gdal-dev
> or, via email, send a message with subject or body 'help' to
> gdal-dev-request@remotesensing.org
> 
> You can reach the person managing the list at
> gdal-dev-admin@remotesensing.org
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Gdal-dev digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: latest in the hdf-gdal-grass hdf-eos saga.... (Andrey Kiselev)
>    2. Re: Re: undefined python objects (Christopher Fonnesbeck)
> 
> --__--__--
> 
> Message: 1
> From: Andrey Kiselev <dron@ak4719.spb.edu>
> Date: Sun, 1 Feb 2004 21:41:16 +0300
> To: gdal-dev@remotesensing.org, grass5@grass.itc.it
> Subject: Re: [Gdal-dev] latest in the hdf-gdal-grass hdf-eos saga....
> Reply-To: gdal-dev@remotesensing.org
> 
> On Sat, Jan 31, 2004 at 11:31:40AM -0800, Jeff D. Hamann wrote:
> > but after all that I still can't figure out how to make gdal-1.1.9.
> > All I get when I type ./configure (without the --with-hdf4 stuff even)
> > and make is:
> > 
> > config.status: creating port/cpl_config.h
> > $ make
> > make: no target to make.
> 
> I'm agree with Alessandro, it is BSD make problem. Note, that makefile
> in the GDAL root called GNUmakefile. That's why you can't handle it with
> your make utility. Use gmake instead.
> 
> > So this project will have to go into the drawer again until I can some
> > of th ese resolved... And after all that, does anyone actually if
> > GRASS can import ASTER L1B images?
> 
> Yes.
> 
> 
> -- 
> Andrey V. Kiselev
> Home phone:  +7 812 5274898  ICQ# 26871517
> 
> --__--__--
> 
> Message: 2
> Cc: gdal-dev@remotesensing.org
> From: Christopher Fonnesbeck <chris@fonnesbeck.org>
> Subject: Re: [Gdal-dev] Re: undefined python objects
> Date: Sat, 31 Jan 2004 10:36:21 -0500
> To: Alessandro Amici <alexamici@fastwebnet.it>
> Reply-To: gdal-dev@remotesensing.org
> 
> 
> On Jan 31, 2004, at 5:19 AM, Alessandro Amici wrote:
> >
> > the build of the gdal python module has always been fragile, and it 
> > has became
> > a real hack since the libtool transition (my fault, admittedly). IMHO 
> > the
> > only hope to get out of the current mess is to use the distutils
> > infrastructure, that hopefully will take care of the OSX problem as 
> > well.
> >
> > so i refreshed what looked like an abandoned setup.py in the top 
> > directory.
> > current gdal cvs builds and installs fine on linux with:
> > $ python setup.py build
> > $ python setup.py install
> >
> > it wuold be very helpfull if you could test it on OSX and report the 
> > results.
> 
> On my machine (running OSX 10.3), the latest GDAL CVS chokes on 
> compiling mrsid support:
> 
> /bin/sh ../../libtool --mode=compile g++ -Wall  -O2   -I../../port 
> -I../../gcore -I../../ogr -Iinternal/include 
> -I../../frmts/gtiff/libgeotiff  -D_REENTRANT   -I../../port -c -o 
> ../o/mrsiddataset.o mrsiddataset.cpp
>   g++ -Wall -O2 -I../../port -I../../gcore -I../../ogr 
> -Iinternal/include -I../../frmts/gtiff/libgeotiff -D_REENTRANT 
> -I../../port -c mrsiddataset.cpp  -fno-common -DPIC -o 
> ../o/.libs/mrsiddataset.o
> mrsiddataset.cpp:51:26: lt_fileUtils.h: No such file or directory
> mrsiddataset.cpp:52:23: lt_xTrans.h: No such file or directory
> mrsiddataset.cpp:53:32: lt_imageBufferInfo.h: No such file or directory
> mrsiddataset.cpp:54:22: lt_pixel.h: No such file or directory
> mrsiddataset.cpp:55:27: lt_colorSpace.h: No such file or directory
> mrsiddataset.cpp:56:28: MrSIDImageFile.h: No such file or directory
> mrsiddataset.cpp:57:28: MrSIDNavigator.h: No such file or directory
> mrsiddataset.cpp:58:28: MetadataReader.h: No such file or directory
> mrsiddataset.cpp:59:29: MetadataElement.h: No such file or directory
> mrsiddataset.cpp:64: error: `LizardTech' was not declared in this scope
> mrsiddataset.cpp:66: warning: ISO C++ forbids declaration of 
> `LT_USE_NAMESPACE'
>     with no type
> mrsiddataset.cpp:66: error: syntax error before `static'
> mrsiddataset.cpp: In function `char* cvsid_aw()':
> mrsiddataset.cpp:66: error: `cpl_cvsid' undeclared (first use this 
> function)
> mrsiddataset.cpp:66: error: (Each undeclared identifier is reported 
> only once
>     for each function it appears in.)
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:84: error: syntax error before `*' token
> mrsiddataset.cpp:85: error: syntax error before `*' token
> mrsiddataset.cpp:86: error: syntax error before `*' token
> mrsiddataset.cpp:87: error: syntax error before `*' token
> mrsiddataset.cpp:88: error: syntax error before `*' token
> mrsiddataset.cpp:90: error: syntax error before `::' token
> mrsiddataset.cpp:92: error: syntax error before `*' token
> mrsiddataset.cpp:105: error: parse error before `*' token
> mrsiddataset.cpp:130: error: syntax error before `*' token
> mrsiddataset.cpp:131: error: syntax error before `*' token
> mrsiddataset.cpp: In constructor `
>     MrSIDRasterBand::MrSIDRasterBand(MrSIDDataset*, int)':
> mrsiddataset.cpp:164: error: 'class MrSIDDataset' has no member named '
>     poMrSidNav'
> mrsiddataset.cpp:165: error: 'class MrSIDDataset' has no member named '
>     poMrSidNav'
> mrsiddataset.cpp:165: error: `IntRect' undeclared (first use this 
> function)
> mrsiddataset.cpp:165: error: parse error before `::' token
> mrsiddataset.cpp:167: error: `poImageBufInfo' undeclared (first use this
>     function)
> mrsiddataset.cpp:167: error: parse error before `(' token
> mrsiddataset.cpp: In member function `virtual CPLErr
>     MrSIDRasterBand::IRasterIO(GDALRWFlag, int, int, int, int, void*, 
> int, int,
>     GDALDataType, int, int)':
> mrsiddataset.cpp:216: error: `ImgRect' undeclared (first use this 
> function)
> mrsiddataset.cpp:216: error: parse error before `(' token
> mrsiddataset.cpp:217: error: `IntDimension' undeclared (first use this
>     function)
> mrsiddataset.cpp:220: error: 'class MrSIDDataset' has no member named '
>     poMrSidNav'
> mrsiddataset.cpp:220: error: `imageSupport' undeclared (first use this
>     function)
> mrsiddataset.cpp:220: error: `targetDims' undeclared (first use this 
> function)
> mrsiddataset.cpp:228: error: `poImageBuf' undeclared (first use this 
> function)
> mrsiddataset.cpp:228: error: parse error before `(' token
> mrsiddataset.cpp:231: error: 'class MrSIDDataset' has no member named '
>     poMrSidNav'
> mrsiddataset.cpp:233: error: parse error before `oException'
> mrsiddataset.cpp:236: error: `oException' undeclared (first use this 
> function)
> mrsiddataset.cpp:214: warning: unused variable `int iSrcOffset'
> mrsiddataset.cpp:214: warning: unused variable `int nNewYSize'
> mrsiddataset.cpp:214: warning: unused variable `int nNewXSize'
> mrsiddataset.cpp:213: warning: unused variable `int iLine'
> mrsiddataset.cpp:212: warning: unused variable `int nBufDataSize'
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:240: warning: ISO C++ forbids declaration of 
> `nNewXSize' with
>     no type
> mrsiddataset.cpp:241: warning: ISO C++ forbids declaration of 
> `nNewYSize' with
>     no type
> mrsiddataset.cpp:242: warning: ISO C++ forbids declaration of 
> `iSrcOffset' with
>     no type
> mrsiddataset.cpp:242: error: `nBand' was not declared in this scope
> mrsiddataset.cpp:244: error: parse error before `for'
> mrsiddataset.cpp:244: error: `nBufYSize' was not declared in this scope
> mrsiddataset.cpp:244: error: parse error before `;' token
> mrsiddataset.cpp:244: error: syntax error before `++' token
> mrsiddataset.cpp:259: error: `nBufYSize' was not declared in this scope
> mrsiddataset.cpp:262: error: `iLine' was not declared in this scope
> mrsiddataset.cpp:265: error: parse error before `for'
> mrsiddataset.cpp:265: error: `nBufXSize' was not declared in this scope
> mrsiddataset.cpp:265: error: parse error before `;' token
> mrsiddataset.cpp:265: error: syntax error before `++' token
> mrsiddataset.cpp: In member function `virtual CPLErr
>     MrSIDRasterBand::IReadBlock(int, int, void*)':
> mrsiddataset.cpp:292: error: parse error before `(' token
> mrsiddataset.cpp:293: error: 'class MrSIDDataset' has no member named '
>     poMrSidNav'
> mrsiddataset.cpp:295: error: parse error before `::' token
> mrsiddataset.cpp:299: error: 'class MrSIDDataset' has no member named '
>     poMrSidNav'
> mrsiddataset.cpp:301: error: parse error before `oException'
> mrsiddataset.cpp:290: warning: unused variable `int j'
> mrsiddataset.cpp:290: warning: unused variable `int i'
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:308: error: parse error before `for'
> mrsiddataset.cpp:308: error: `nBlockSize' was not declared in this scope
> mrsiddataset.cpp:308: error: parse error before `;' token
> mrsiddataset.cpp:308: error: syntax error before `++' token
> mrsiddataset.cpp: In member function `virtual GDALColorInterp
>     MrSIDRasterBand::GetColorInterpretation()':
> mrsiddataset.cpp:343: error: 'class MrSIDDataset' has no member named '
>     poColorSpace'
> mrsiddataset.cpp:345: error: `ColorSpace' undeclared (first use this 
> function)
> mrsiddataset.cpp:345: error: parse error before `::' token
> mrsiddataset.cpp:354: error: parse error before `::' token
> mrsiddataset.cpp:365: error: parse error before `::' token
> mrsiddataset.cpp:367: error: parse error before `::' token
> mrsiddataset.cpp: In constructor `MrSIDDataset::MrSIDDataset()':
> mrsiddataset.cpp:416: error: `poFilename' undeclared (first use this 
> function)
> mrsiddataset.cpp:417: error: `poMrSidFile' undeclared (first use this 
> function)
> mrsiddataset.cpp:418: error: `poMrSidNav' undeclared (first use this 
> function)
> mrsiddataset.cpp:419: error: `poDefaultPixel' undeclared (first use this
>     function)
> mrsiddataset.cpp:420: error: `poMrSidMetadata' undeclared (first use 
> this
>     function)
> mrsiddataset.cpp:421: error: `poColorSpace' undeclared (first use this
>     function)
> mrsiddataset.cpp:423: error: `eSampleType' undeclared (first use this 
> function)
> mrsiddataset.cpp:423: error: `ImageBufferInfo' undeclared (first use 
> this
>     function)
> mrsiddataset.cpp:423: error: parse error before `::' token
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:502: error: parse error before `*' token
> mrsiddataset.cpp: In member function `char*
>     MrSIDDataset::SerializeMetadataElement(...)':
> mrsiddataset.cpp:504: error: `IntDimension' undeclared (first use this
>     function)
> mrsiddataset.cpp:504: error: parse error before `=' token
> mrsiddataset.cpp:509: error: `oDim' undeclared (first use this function)
> mrsiddataset.cpp:512: error: `poElem' undeclared (first use this 
> function)
> mrsiddataset.cpp:514: error: `MetadataValue' undeclared (first use this
>     function)
> mrsiddataset.cpp:514: error: parse error before `::' token
> mrsiddataset.cpp:519: error: parse error before `::' token
> mrsiddataset.cpp:524: error: parse error before `::' token
> mrsiddataset.cpp:527: error: parse error before `::' token
> mrsiddataset.cpp:530: error: parse error before `::' token
> mrsiddataset.cpp:518: warning: unreachable code at beginning of switch
>     statement
> mrsiddataset.cpp: In member function `int
>     MrSIDDataset::GetMetadataElement(const char*, void*)':
> mrsiddataset.cpp:558: error: `MetadataElement' undeclared (first use 
> this
>     function)
> mrsiddataset.cpp:559: error: parse error before `(' token
> mrsiddataset.cpp:562: error: parse error before `::' token
> mrsiddataset.cpp:567: error: parse error before `::' token
> mrsiddataset.cpp:570: error: `iValue' undeclared (first use this 
> function)
> mrsiddataset.cpp:573: error: parse error before `::' token
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:578: error: parse error before `break'
> mrsiddataset.cpp:582: error: `pValue' was not declared in this scope
> mrsiddataset.cpp:582: warning: ISO C++ forbids declaration of `memcpy' 
> with no
>     type
> mrsiddataset.cpp:582: error: `int memcpy' redeclared as different kind 
> of
>     symbol
> /usr/include/string.h:76: error: previous declaration of `void* 
> memcpy(void*,
>     const void*, long unsigned int)'
> mrsiddataset.cpp:582: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:583: error: parse error before `}' token
> mrsiddataset.cpp:588: error: `pValue' was not declared in this scope
> mrsiddataset.cpp:588: warning: ISO C++ forbids declaration of `memcpy' 
> with no
>     type
> mrsiddataset.cpp:588: error: redefinition of `int memcpy'
> mrsiddataset.cpp:582: error: `int memcpy' previously defined here
> mrsiddataset.cpp:588: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:589: error: parse error before `}' token
> mrsiddataset.cpp:594: error: `pValue' was not declared in this scope
> mrsiddataset.cpp:594: warning: ISO C++ forbids declaration of `memcpy' 
> with no
>     type
> mrsiddataset.cpp:594: error: redefinition of `int memcpy'
> mrsiddataset.cpp:588: error: `int memcpy' previously defined here
> mrsiddataset.cpp:594: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:595: error: parse error before `}' token
> mrsiddataset.cpp:600: error: `pValue' was not declared in this scope
> mrsiddataset.cpp:600: warning: ISO C++ forbids declaration of `memcpy' 
> with no
>     type
> mrsiddataset.cpp:600: error: redefinition of `int memcpy'
> mrsiddataset.cpp:594: error: `int memcpy' previously defined here
> mrsiddataset.cpp:600: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:601: error: parse error before `}' token
> mrsiddataset.cpp:606: error: `pValue' was not declared in this scope
> mrsiddataset.cpp:606: error: `fValue' was not declared in this scope
> mrsiddataset.cpp:606: error: `fValue' was not declared in this scope
> mrsiddataset.cpp:606: warning: ISO C++ forbids declaration of `memcpy' 
> with no
>     type
> mrsiddataset.cpp:606: error: redefinition of `int memcpy'
> mrsiddataset.cpp:600: error: `int memcpy' previously defined here
> mrsiddataset.cpp:606: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:607: error: parse error before `}' token
> mrsiddataset.cpp:612: error: `pValue' was not declared in this scope
> mrsiddataset.cpp:612: error: `dfValue' was not declared in this scope
> mrsiddataset.cpp:612: error: `dfValue' was not declared in this scope
> mrsiddataset.cpp:612: warning: ISO C++ forbids declaration of `memcpy' 
> with no
>     type
> mrsiddataset.cpp:612: error: redefinition of `int memcpy'
> mrsiddataset.cpp:606: error: `int memcpy' previously defined here
> mrsiddataset.cpp:612: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:613: error: parse error before `}' token
> mrsiddataset.cpp: In member function `CPLErr 
> MrSIDDataset::OpenZoomLevel(int)':
> mrsiddataset.cpp:1520: error: parse error before `(' token
> mrsiddataset.cpp:1522: error: parse error before `oException'
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:1531: warning: ISO C++ forbids declaration of 
> `poDefaultPixel'
>     with no type
> mrsiddataset.cpp:1531: error: `int poDefaultPixel' used prior to 
> declaration
> mrsiddataset.cpp:1531: error: parse error before `(' token
> mrsiddataset.cpp:1532: warning: ISO C++ forbids declaration of 
> `eSampleType'
>     with no type
> mrsiddataset.cpp:1532: error: `int eSampleType' used prior to 
> declaration
> mrsiddataset.cpp:1533: warning: ISO C++ forbids declaration of 
> `poColorSpace'
>     with no type
> mrsiddataset.cpp:1533: error: `int poColorSpace' used prior to 
> declaration
> mrsiddataset.cpp:1533: error: parse error before `(' token
> mrsiddataset.cpp:1554: warning: ISO C++ forbids declaration of 
> `nRasterXSize'
>     with no type
> mrsiddataset.cpp:1555: warning: ISO C++ forbids declaration of 
> `nRasterYSize'
>     with no type
> mrsiddataset.cpp:1556: warning: ISO C++ forbids declaration of `nBands' 
> with no
>     type
> mrsiddataset.cpp:1563: error: parse error before `if'
> mrsiddataset.cpp:1573: warning: ISO C++ forbids declaration of 
> `adfGeoTransform
>     ' with no type
> mrsiddataset.cpp:1573: error: invalid initializer
> mrsiddataset.cpp:1574: warning: ISO C++ forbids declaration of 
> `adfGeoTransform
>     ' with no type
> mrsiddataset.cpp:1574: error: conflicting types for `int 
> adfGeoTransform[3]'
> mrsiddataset.cpp:1573: error: previous declaration as `int 
> adfGeoTransform[0]'
> mrsiddataset.cpp:1575: warning: ISO C++ forbids declaration of 
> `bHasGeoTransfom
>     ' with no type
> mrsiddataset.cpp:1576: error: parse error before `}' token
> mrsiddataset.cpp:1581: warning: ISO C++ forbids declaration of 
> `nRasterXSize'
>     with no type
> mrsiddataset.cpp:1581: error: redefinition of `int nRasterXSize'
> mrsiddataset.cpp:1554: error: `int nRasterXSize' previously defined here
> mrsiddataset.cpp:1582: error: `nCurrentZoomLevel' was not declared in 
> this
>     scope
> mrsiddataset.cpp:1583: warning: ISO C++ forbids declaration of 
> `nRasterYSize'
>     with no type
> mrsiddataset.cpp:1583: error: redefinition of `int nRasterYSize'
> mrsiddataset.cpp:1555: error: `int nRasterYSize' previously defined here
> mrsiddataset.cpp:1584: error: `nCurrentZoomLevel' was not declared in 
> this
>     scope
> mrsiddataset.cpp:1585: error: parse error before `}' token
> mrsiddataset.cpp:1592: error: `iZoom' was not declared in this scope
> mrsiddataset.cpp:1592: warning: ISO C++ forbids declaration of 
> `CPLDebug' with
>     no type
> mrsiddataset.cpp:1592: error: `int CPLDebug' redeclared as different 
> kind of
>     symbol
> ../../port/cpl_error.h:124: error: previous declaration of `void 
> CPLDebug(const
>     char*, const char*, ...)'
> mrsiddataset.cpp:1592: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:1599: error: parse error before `for'
> mrsiddataset.cpp:1599: error: syntax error before `<=' token
> mrsiddataset.cpp:1599: error: syntax error before `++' token
> mrsiddataset.cpp: In static member function `static GDALDataset*
>     MrSIDDataset::Open(GDALOpenInfo*)':
> mrsiddataset.cpp:1628: error: 'class MrSIDDataset' has no member named '
>     poFilename'
> mrsiddataset.cpp:1628: error: parse error before `(' token
> mrsiddataset.cpp:1629: error: 'class MrSIDDataset' has no member named '
>     poMrSidFile'
> mrsiddataset.cpp:1629: error: parse error before `(' token
> mrsiddataset.cpp:1631: error: parse error before `oException'
> mrsiddataset.cpp: At global scope:
> mrsiddataset.cpp:1638: error: syntax error before `::' token
> mrsiddataset.cpp:1643: error: syntax error before `->' token
> mrsiddataset.cpp:1651: error: `i' was not declared in this scope
> mrsiddataset.cpp:1656: error: parse error before `do'
> mrsiddataset.cpp:1663: error: syntax error before `->' token
> mrsiddataset.cpp:1665: error: `pszElement' was not declared in this 
> scope
> mrsiddataset.cpp:1665: warning: ISO C++ forbids declaration of 
> `VSIFree' with
>     no type
> mrsiddataset.cpp:1665: error: `int VSIFree' redeclared as different 
> kind of
>     symbol
> ../../port/cpl_vsi.h:222: error: previous declaration of `void 
> VSIFree(void*)'
> mrsiddataset.cpp:1666: warning: ISO C++ forbids declaration of 
> `VSIFree' with
>     no type
> mrsiddataset.cpp:1666: error: redefinition of `int VSIFree'
> mrsiddataset.cpp:1665: error: `int VSIFree' previously defined here
> mrsiddataset.cpp:1666: warning: invalid conversion from `char*' to `int'
> mrsiddataset.cpp:1667: error: syntax error before `++' token
> mrsiddataset.cpp:1671: error: syntax error before `->' token
> mrsiddataset.cpp:1676: error: syntax error before `->' token
> mrsiddataset.cpp:1682: error: syntax error before `->' token
> mrsiddataset.cpp:1685: error: `poDS' was not declared in this scope
> mrsiddataset.cpp:1685: error: parse error before `;' token
> mrsiddataset.cpp:1685: error: syntax error before `++' token
> mrsiddataset.cpp:1689: error: syntax error before `->' token
> mrsiddataset.cpp:1691: error: syntax error before `->' token
> mrsiddataset.cpp:1699: error: syntax error before `->' token
> mrsiddataset.cpp:1703: error: `poDS' was not declared in this scope
> mrsiddataset.cpp:1703: error: `poDS' was not declared in this scope
> mrsiddataset.cpp:1703: error: `poDS' was not declared in this scope
> mrsiddataset.cpp:1704: error: `poDS' was not declared in this scope
> mrsiddataset.cpp:1704: warning: ISO C++ forbids declaration of 
> `CPLDebug' with
>     no type
> mrsiddataset.cpp:1704: error: redefinition of `int CPLDebug'
> mrsiddataset.cpp:1592: error: `int CPLDebug' previously defined here
> mrsiddataset.cpp:1704: warning: initializer list being treated as 
> compound
>     expression
> mrsiddataset.cpp:1706: error: parse error before `return'
> mrsiddataset.cpp: In function `void
>     __static_initialization_and_destruction_0(int, int)':
> mrsiddataset.cpp:1574: warning: statement with no effect
> make[2]: *** [../o/mrsiddataset.o] Error 1
> make[1]: *** [mrsid-install-obj] Error 2
> make: *** [frmts-target] Error 2
> 
> 
> Christopher J. Fonnesbeck ( c h r i s @ f o n n e s b e c k . o r g )
> Georgia Cooperative Fish & Wildlife Research Unit, University of Georgia
> 
> 
> 
> --__--__--
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 
> 
> End of Gdal-dev Digest
> 

From matt.gregory at oregonstate.edu  Mon Feb  2 17:19:45 2004
From: matt.gregory at oregonstate.edu (Gregory, Matthew)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] using GDALDataset* in "point" mode and memory allocation
Message-ID: <EC3C5F40BC462C4C84E6A1F92C2424D3070ACB@thuja>

I am working on an app which runs a model at point, list and window modes, which gets determined at run-time.  I have a class which has a GDALDataset* as a private member and this dataset is opened at run initialization through GDALOpen, eg. 

  _varLayer = (GDALDataset *) GDALOpen( _varFileName.c_str(), GA_ReadOnly );

This class exists throughout the entire model run.  What I've noticed when running the point and list (set of points) runs is that I am ramping up memory pretty quickly through numerous calls to RasterIO, eg.

  GDALRasterBand* tempBand = _varLayer->GetRasterBand( 1 );
  tempBand->RasterIO(GF_Read, col, row, 1, 1, ptr, 1, 1, GDT_Float64, 0, 0);

I'm guessing that this is NOT the intended way to run RasterIO, ie. a pixel at a time.  It looks like each call to RasterIO is allocating memory within GetBlockRef() either for cache raster blocks or doing actual reads on the data (I'm a bit fuzzy on this).

Note that everything cleans up well when my class goes out of scope, but I'm a bit worried that users may run out of dynamic memory if they run a huge set of points.

1.  Is there a better way to free memory after each point is run?  I'm imagining that means taking my GDALDataset* out of scope each time, which obviously wouldn't be beneficial in terms of speed.

2.  Is it more economical to front load a number of tiles at initialization, rather than potentially one at a time. 

I'm interested to hear comments of anybody else using GDAL in this way.  Please straighten me out if I'm way off base ...

Thanks, matt

Matt Gregory
Faculty Research Assistant
Department of Forest Science
Oregon State University
541.750.7285
matt.gregory@orst.edu

From pushkar at GRI.MsState.Edu  Mon Feb  2 21:54:51 2004
From: pushkar at GRI.MsState.Edu (Pushkar Pradhan)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] using GDALDataset* in "point" mode and memory allocation
In-Reply-To: <EC3C5F40BC462C4C84E6A1F92C2424D3070ACB@thuja>
Message-ID: <MJEBIBGMCDKIGEHPDECCOEBLCHAA.pushkar@erc.msstate.edu>

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org
> [mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Gregory, Matthew
> I am working on an app which runs a model at point, list and
> window modes, which gets determined at run-time.  I have a class
> which has a GDALDataset* as a private member and this dataset is
> opened at run initialization through GDALOpen, eg.
>
>   _varLayer = (GDALDataset *) GDALOpen( _varFileName.c_str(),
> GA_ReadOnly );
>
> This class exists throughout the entire model run.  What I've
> noticed when running the point and list (set of points) runs is
> that I am ramping up memory pretty quickly through numerous calls
> to RasterIO, eg.s
>
>   GDALRasterBand* tempBand = _varLayer->GetRasterBand( 1 );
>   tempBand->RasterIO(GF_Read, col, row, 1, 1, ptr, 1, 1,
> GDT_Float64, 0, 0);
>
> I'm guessing that this is NOT the intended way to run RasterIO,
> ie. a pixel at a time.  It looks like each call to RasterIO is
> allocating memory within GetBlockRef() either for cache raster
> blocks or doing actual reads on the data (I'm a bit fuzzy on this).
>
> Note that everything cleans up well when my class goes out of
> scope, but I'm a bit worried that users may run out of dynamic
> memory if they run a huge set of points.
>
> 1.  Is there a better way to free memory after each point is run?
>  I'm imagining that means taking my GDALDataset* out of scope
> each time, which obviously wouldn't be beneficial in terms of speed.
>
> 2.  Is it more economical to front load a number of tiles at
> initialization, rather than potentially one at a time.

Greg,
I don't know why you try to read 1 pixel at a time, maybe your app requires
it but a better way is to read a whole tile:
  poBand2 = poDstDS->GetRasterBand(dwtBand);

  for(row = 0; row < imgYSize; row += blockYSize) {
    for(col = 0; col < imgXSize; col += blockXSize) {
      rc = poBand->RasterIO(GF_Read, col, row, blockXSize, blockYSize,
                            pData, blockXSize, blockYSize, GDT_Float32, 0,
0);
      if(rc == CE_Failure)
        exit(EXIT_FAILURE);

      rc = poBand2->RasterIO(GF_Write, col, row, blockXSize, blockYSize,
                            pData, blockXSize, blockYSize, GDT_Float32, 0,
0);
      if(rc == CE_Failure)
        exit(EXIT_FAILURE);
    }
  }

I don't think you'll run out of memory because memory gets allocated by the
RasterIO() call and I think it does this only the first time. Hope that
helps.
Pushkar


From jgallagher at gso.uri.edu  Tue Feb  3 11:50:02 2004
From: jgallagher at gso.uri.edu (James Gallagher)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] Re:  DODS/OPeNDAP driver updates
In-Reply-To: <200402031638.i13GcMt06389@mail.po.gso.uri.edu>
References: <200402031638.i13GcMt06389@mail.po.gso.uri.edu>
Message-ID: <1075827002.1593.80.camel@comet.dods.org>

Paul,

MapServer uses GDAL to read rasters, so it'll be able to read rasters
from OPeNDAP servers by using GDAL. There's some configuration that must
be done for each OPeNDAP data source given the nature of virtually all
of those and the requirements of GIS applications, but it's documented.

I'm pretty sure that Dan is in touch with the MapServer folks to work
out the logistical details of getting a demo up and running.

Since this is less of a technical issue, we should probably spare the
GDAL list folks and take this off line (list?). :-)

James

On Tue, 2004-02-03 at 09:38, Paul Hemenway wrote:
> Hi, All,
> 
> This is great news from James.  The question now is, how does it
> get incorporated into MapServer (is it already?  I'm completely
> ignorant), and then, how do we make the new capabilities available
> and let the user communities who might want to use it, know about it?
> 
> Just trying to think ahead.
> 
> paul
> 
> > From jgallagher@gso.uri.edu Fri Jan 30 12:16:37 2004
> > Date: 30 Jan 2004 10:16:32 -0700
> > From: "James Gallagher" <jgallagher@gso.uri.edu>
> > To: "GDAL mailing list" <gdal-dev@remotesensing.org>
> > Cc: "Peter Cornillon" <pcornillon@gso.uri.edu>,
> >        "Paul Hemenway" <phemenway@gso.uri.edu>,
> >        "Daniel Holloway" <d.holloway@gso.uri.edu>,
> >        "Frank Warmerdam" <warmerdam@pobox.com>
> > Subject: DODS/OPeNDAP driver updates
> > Content-Type: text/plain
> > Mime-Version: 1.0
> > X-Mailer: Ximian Evolution 1.2.2 (1.2.2-5) 
> > Content-Transfer-Encoding: 7bit
> > 
> > Hi,
> > 
> > I've checked in some changes to the DODS/OPeNDAP driver for raster data.
> > The driver now minimizes network use by transferring only the pixels
> > requested and by combining multiband requests into a single read from
> > the remote server when possible.
> > 
> > James
> > -- 
> > __________________________________________________________________________
> > James Gallagher		         The Distributed Oceanographic Data System
> > jgallagher@gso.uri.edu               http://unidata.ucar.edu/packages/dods
> > Voice/Fax: 406.723.8663
> > 
-- 
__________________________________________________________________________
James Gallagher		         The Distributed Oceanographic Data System
jgallagher@gso.uri.edu               http://unidata.ucar.edu/packages/dods
Voice/Fax: 406.723.8663


From schut at sarvision.com  Tue Feb  3 12:04:22 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] max number of simplesources in vrt rasterband?
Message-ID: <200402031804.22341.schut@sarvision.com>

Folks,

I have a vrt file with approx. 1800 simplesource items (SRTM tiles). Gdal 
always gives an error (with gdalinfo, gdal_translate, ...) for the 1020th 
file in the vrt file. If I try to open this individual raster file with gdal, 
everything goes fine. If I change the order of the simplesources, the error 
still comes at the 1020th simplesource (which is another raster file then) So 
I suspect there is a maximum at the number of simplesources that can be 
defined in one vrt file?
If so, is it possible to enlarge this number?

Cheers,
Vincent.

From warmerdam at pobox.com  Tue Feb  3 12:28:50 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] max number of simplesources in vrt rasterband?
In-Reply-To: <200402031804.22341.schut@sarvision.com>
References: <200402031804.22341.schut@sarvision.com>
Message-ID: <401FDA52.1040908@pobox.com>

Vincent Schut wrote:
> Folks,
> 
> I have a vrt file with approx. 1800 simplesource items (SRTM tiles). Gdal 
> always gives an error (with gdalinfo, gdal_translate, ...) for the 1020th 
> file in the vrt file. If I try to open this individual raster file with gdal, 
> everything goes fine. If I change the order of the simplesources, the error 
> still comes at the 1020th simplesource (which is another raster file then) So 
> I suspect there is a maximum at the number of simplesources that can be 
> defined in one vrt file?
> If so, is it possible to enlarge this number?

Vincent,

The limit is on the number of open files on your system I would imagine.
Depending on what operating system you are working on you may be able to
increase the limit.  But the underlying solution would be to have the VRT
code know to only open necessary datasets to satisfy a request, or perhaps
to close and open datasets as needed to keep under some provided file handle
limit.  I don't see that happening immediately though.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Tue Feb  3 14:03:29 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] using GDALDataset* in "point" mode and memory allocation
In-Reply-To: <EC3C5F40BC462C4C84E6A1F92C2424D3070ACB@thuja>
References: <EC3C5F40BC462C4C84E6A1F92C2424D3070ACB@thuja>
Message-ID: <401FF081.1010407@pobox.com>

Gregory, Matthew wrote:
> I am working on an app which runs a model at point, list and window modes, which gets determined at run-time.  I have
> a class which has a GDALDataset* as a private member and this dataset is opened at run initialization through
> GDALOpen, eg.
> 
> _varLayer = (GDALDataset *) GDALOpen( _varFileName.c_str(), GA_ReadOnly );
> 
> This class exists throughout the entire model run.  What I've noticed when running the point and list (set of points)
> runs is that I am ramping up memory pretty quickly through numerous calls to RasterIO, eg.
> 
> GDALRasterBand* tempBand = _varLayer->GetRasterBand( 1 ); tempBand->RasterIO(GF_Read, col, row, 1, 1, ptr, 1, 1,
> GDT_Float64, 0, 0);
> 
> I'm guessing that this is NOT the intended way to run RasterIO, ie. a pixel at a time.  It looks like each call to
> RasterIO is allocating memory within GetBlockRef() either for cache raster blocks or doing actual reads on the data
> (I'm a bit fuzzy on this).

Matt,

It shouldn't be a problem to access the data one pixel at a time, from
a memory point of view.  However, there will be significant CPU overhead
for each pixel request so I don't advise this approach.  Better to request in
some chunk size that is convenient for you if possible.  Whether that is whole
scanlines, or tiles or whatever.

As to the memory issues, I would guess that what you are seeing is the
tile cache filling up.  By default GDAL should be using a 5MB tile caching
which means you would see memory use grow sometimes when you call RasterIO()
till the tile cache is full.  At that point GDAL would discard the least
recently used tile when a new one is allocated.

I am not aware of reason you should see memory use going up within GDAL
itself unless there is a problem with a particular format driver.  Even the
cache with a limit at 5MB shouldn't be significant.   If you can provide a
simple GDAL sample application and a data file that demonstrates unreasonable
memory use (with GDAL from CVS) then pass it on and I will look into the
problem.

> Note that everything cleans up well when my class goes out of scope, but I'm a bit worried that users may run out of
> dynamic memory if they run a huge set of points.
> 
> 1.  Is there a better way to free memory after each point is run?  I'm imagining that means taking my GDALDataset*
> out of scope each time, which obviously wouldn't be beneficial in terms of speed.

It depends where the memory is.  You can call FlushCache() on a dataset or
rasterband, but if you are going to access things one pixel at a time you *really*
need the caching to prevent disk IO for each request.

> 2.  Is it more economical to front load a number of tiles at initialization, rather than potentially one at a time.

As noted above, it is better to do your reading in chunks.  The chunk size doesn't
need to be particularly large, and it can be a shape that is handy for you.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From alexamici at fastwebnet.it  Wed Feb  4 06:38:01 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster()
Message-ID: <200402041238.01048.alexamici@fastwebnet.it>


Frank,

i've started analysing the performance of my gdal-related pyhton code with 
oprofile (http://oprofile.sf.net) and found what looks like an easy 
optimization for a ~20% speed increase on reads.

i have a simple python script that reads a 500Mb CInt16 dataset in ~40Mb 
chuncks. the file fits confortably in the linux kernel cache on my machine 
and i get quite repeatably the following timing on an otherwise idle system:

real    0m36.355s
user    0m26.925s
sys     0m8.593s

oprofile breaks down the cpu time as:

alan:$ opreport -t 1 -l
CPU: CPU with timer interrupt, speed 1000.06 MHz (estimated)
Profiling through timer interrupt
vma      samples  %           app name                 symbol name
001323b0 8035     22.1380     libgdal.so.1.1.9         GDALCopyWords
00077990 7829     21.5705     libc-2.3.2.so            memcpy
000772e0 6211     17.1125     libc-2.3.2.so            memmove
c01af1b0 4162     11.4671     vmlinux                  fast_clear_page
00077370 3487      9.6074     libc-2.3.2.so            memset
c01af6d0 2266      6.2433     vmlinux                  __copy_to_user_ll
001322d0 855       2.3557     libgdal.so.1.1.9         GDALSwapWords
c013bd50 412       1.1351     vmlinux                  buffered_rmqueue
c0117d30 366       1.0084     vmlinux                  do_page_fault

which says that my script is spending most of it's time basically copying 
around the initial data (fetched from the kernel memory by __copy_to_user_ll, 
which accounts for only 6% of the total time). the call to GDALCopyWords is 
ok because it also does type conversion to CFloat32.

the attached patch (you need to regenerate the gdal_wrap.c file with swig) cut 
the real time well below 30 seconds (~20% better) by skipping one of the 
copys of the original buffer. the call to PyString_AsString() is legitimate 
acording to the python C-API manual because we just created the object.

results are:

real    0m28.409s
user    0m20.557s
sys     0m6.678s

CPU: CPU with timer interrupt, speed 1000.06 MHz (estimated)
Profiling through timer interrupt
vma      samples  %           app name                 symbol name
001323b0 7959     28.3329     libgdal.so.1.1.9         GDALCopyWords
000772e0 6226     22.1637     libc-2.3.2.so            memmove
00077370 3558     12.6660     libc-2.3.2.so            memset
c01af1b0 2722      9.6899     vmlinux                  fast_clear_page
c01af6d0 2236      7.9598     vmlinux                  __copy_to_user_ll
00077990 1464      5.2116     libc-2.3.2.so            memcpy
001322d0 820       2.9191     libgdal.so.1.1.9         GDALSwapWords

memcpy usage dropped by 6300+ samples and also fast_clear_page usage goes down 
a bit.

i think i know where the remaining memmove-memset are sitting (see 
pytmod/gdalnumeric.py:154), but i have no work-around for that.

this is my first time at playing with python extensions, so Frank please 
double check the patch. anyhow, it has been tested and works here.

cheers,
alessandro

BTW: which version of swig are you using? i cannot produce the gdal_wrap.c 
file with version 1.3.19.
 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: python-read-speed.diff
Type: text/x-diff
Size: 789 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040204/820b72ef/python-read-speed.bin
From schut at sarvision.com  Wed Feb  4 09:27:00 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] max number of simplesources in vrt rasterband?
In-Reply-To: <401FDA52.1040908@pobox.com>
References: <200402031804.22341.schut@sarvision.com> <401FDA52.1040908@pobox.com>
Message-ID: <200402041527.00399.schut@sarvision.com>

On Tuesday 03 February 2004 18:28, Frank Warmerdam wrote:
> Vincent Schut wrote:
> > Folks,
> >
> > I have a vrt file with approx. 1800 simplesource items (SRTM tiles). Gdal
> > always gives an error (with gdalinfo, gdal_translate, ...) for the 1020th
> > file in the vrt file. If I try to open this individual raster file with
> > gdal, everything goes fine. If I change the order of the simplesources,
> > the error still comes at the 1020th simplesource (which is another raster
> > file then) So I suspect there is a maximum at the number of simplesources
> > that can be defined in one vrt file?
> > If so, is it possible to enlarge this number?
>
> Vincent,
>
> The limit is on the number of open files on your system I would imagine.
> Depending on what operating system you are working on you may be able to
> increase the limit.  But the underlying solution would be to have the VRT
> code know to only open necessary datasets to satisfy a request, or perhaps
> to close and open datasets as needed to keep under some provided file
> handle limit.  I don't see that happening immediately though.
>
> Best regards,

Frank,

indeed, the obvious solution was `ulimit -n <many more than 1024>` ... :-)
Works like a charm now!

Thanks,
Vincent.

From alexamici at fastwebnet.it  Wed Feb  4 10:05:53 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster()
In-Reply-To: <200402041238.01048.alexamici@fastwebnet.it>
References: <200402041238.01048.alexamici@fastwebnet.it>
Message-ID: <200402041605.53392.alexamici@fastwebnet.it>


On Wednesday 04 February 2004 12:38, Alessandro Amici wrote:
> this is my first time at playing with python extensions, so Frank please
> double check the patch. anyhow, it has been tested and works here.

d'oh!

my previous patch is missing a NULL check, and had an off by one introduced 
after having tested it :(.
both problems are fixed below.

(to my partial excuse the malloc call was missing the NULL check as well)

cheers,
alessandro
-------------- next part --------------
A non-text attachment was scrubbed...
Name: python-read-speed.diff
Type: text/x-diff
Size: 828 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040204/3d0fcdc6/python-read-speed.bin
From alexamici at fastwebnet.it  Wed Feb  4 11:07:39 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster()
In-Reply-To: <200402041238.01048.alexamici@fastwebnet.it>
References: <200402041238.01048.alexamici@fastwebnet.it>
Message-ID: <200402041707.39260.alexamici@fastwebnet.it>

Frank,

> i think i know where the remaining memmove-memset are sitting (see
> pytmod/gdalnumeric.py:154), but i have no work-around for that.

as far as i can understand there is no practical way to avoid the additional 
memmove inside fromstring() (unless gdal actually provides it's own Numeric 
extension module).

things would be much beter with numarray because you can fill a buffer object 
with GDALReadRaster and build the python array object on top of it without 
the additional copy. do you see a port of gdal/pymod to numarray in the 
forseeable future?

cheers,
alessandro

From warmerdam at pobox.com  Wed Feb  4 11:59:57 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster()
In-Reply-To: <200402041707.39260.alexamici@fastwebnet.it>
References: <200402041238.01048.alexamici@fastwebnet.it> <200402041707.39260.alexamici@fastwebnet.it>
Message-ID: <4021250D.9030300@pobox.com>

Alessandro Amici wrote:
> Frank,
> 
> 
>>i think i know where the remaining memmove-memset are sitting (see
>>pytmod/gdalnumeric.py:154), but i have no work-around for that.
> 
> 
> as far as i can understand there is no practical way to avoid the additional 
> memmove inside fromstring() (unless gdal actually provides it's own Numeric 
> extension module).
> 
> things would be much beter with numarray because you can fill a buffer object 
> with GDALReadRaster and build the python array object on top of it without 
> the additional copy. do you see a port of gdal/pymod to numarray in the 
> forseeable future?
> 

Alessandro,

I have committed your changes to gdal.i and regenerated gdal_wrap.c.  I
am using SWIG 1.1p5.  I should upgrade but there are various reasons this
seems to be messy.  I would want to upgrade OpenEV and GDAL at the same time.

I have no particular plans to migrate from Numeric to numarray; however, to
the best of my  knowledge there isn't any reason these couldn't both be
supported is there?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From alessandro_amici at telespazio.it  Wed Feb  4 12:55:31 2004
From: alessandro_amici at telespazio.it (Amici Alessandro)
Date: Wed Nov 21 11:49:02 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster(
	)
Message-ID: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>

> I have no particular plans to migrate from Numeric to numarray; however,
to
> the best of my  knowledge there isn't any reason these couldn't both be
> supported is there?

in principle no.
in practice i can easily see the maintainace cost to climb quite high.

i'll have a second look at the problem in the next few days.

cheers,
alessandro

From alexamici at fastwebnet.it  Wed Feb  4 17:18:04 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>
Message-ID: <200402042318.04077.alexamici@fastwebnet.it>

> > [...] however, to
> > the best of my  knowledge there isn't any reason these couldn't both be
> > supported is there?
>
> in principle no.
> in practice i can easily see the maintainace cost to climb quite high.

it actually depends on how you do it. if you only want configure time choice 
between Numeric and numarray you mostly have to s/Numeric/numarray/g inside 
pymod.

a first try at a zero-copy implementation with numarray gave me (same program 
as before) the quite amazing numbers below:

real    0m16.031s
user    0m11.249s
sys     0m4.462s

CPU: CPU with timer interrupt, speed 1000.15 MHz (estimated)
Profiling through timer interrupt
vma      samples  %           app name                 symbol name
001323b0 8026     49.8355     libgdal.so.1.1.9         GDALCopyWords
c01b0310 2180     13.5362     vmlinux                  __copy_to_user_ll
00077990 1583      9.8292     libc-2.3.2.so            memcpy
c01afdf0 1322      8.2086     vmlinux                  fast_clear_page
001322d0 849       5.2717     libgdal.so.1.1.9         GDALSwapWords
00000000 304       1.8876     python2.3                (no symbols)

which means that the overhead of using python instead of C for reading a 500Mb 
image with gdal wuold be a bare 2% of cpu time!

IMHO looking at numarray is definetly worth.

cheers,
alessandro

From davidlugan at hotmail.com  Wed Feb  4 17:28:24 2004
From: davidlugan at hotmail.com (David Lugan)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] Latest MrSID SDK support in GDAL
Message-ID: <Sea2-F20MQiZij0w4TP0002b98a@hotmail.com>

Hello GDAL-dev,

It seems that the MrSID support built into GDAL was based on an older 
version of Lizardtech's MrSID SDK (Visual Studio 6.0 version).

Does anyone have an updated mrsiddataset.cpp that supports the latest MrSID 
SDK from Lizardtech (Visual Studio 7.0 version)?


GDAL MrSID support:

gdal-1.1.9\frmts\mrsid\mrsiddataset.cpp


I bought the $500 MrSID SDK from Lizardtech


I obtained 2 files from ftp.lizardtech.com


1.  Win6_DSDK.sda.exe

-  for Visual Studio 6.0
-  failure compiling examples; linker errors
-  GDAL appears to support these data structures

2.  Win7_DSK.sda.exe

-  for Visual Studio .NET (2002, 2003)
-  success compiling examples
-  GDAL doesn't support the new data structures


I am running Visual Studio .NET 2003 Pro on WinXP Pro (3 GHz CPU, 2 GB RAM)


David Lugan

_________________________________________________________________
Check out the coupons and bargains on MSN Offers! 
http://shopping.msn.com/softcontent/softcontent.aspx?scmId=1418


From schut at sarvision.com  Thu Feb  5 05:28:44 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:02 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>
Message-ID: <200402051128.44191.schut@sarvision.com>

Frank, Alessandro,

as a frequent user of python/gdal that more and more sees the upcoming goods 
of numarray compared to numeric, I would like to second numarray support for 
gdal in some way or the other.

Alessandro, do I understand correctly that simply substituting Numeric with 
Numarray in the gdal pymod files just works? It would be a start, 
definitely... I'll give it a try!

Cheers,
Vincent Schut.

On Wednesday 04 February 2004 18:55, Amici Alessandro wrote:
> > I have no particular plans to migrate from Numeric to numarray; however,
>
> to
>
> > the best of my  knowledge there isn't any reason these couldn't both be
> > supported is there?
>
> in principle no.
> in practice i can easily see the maintainace cost to climb quite high.
>
> i'll have a second look at the problem in the next few days.
>
> cheers,
> alessandro
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev

-- 
-----------------------------
 Vincent Schut
 SarVision B.V.
 Wageningen, The Netherlands
 www.sarvision.com

From schut at sarvision.com  Thu Feb  5 05:31:16 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] VRTAveragedSource
Message-ID: <200402051131.16974.schut@sarvision.com>

Frank,

could you be so kind to provide some information on how to use the 
undocumented sources available in the vrt format, especially 
VRTAveragedSource? The only docs I can find don't go any further than 
VRTFilteredSource...

Regards,
Vincent.
-- 
-----------------------------
 Vincent Schut
 SarVision B.V.
 Wageningen, The Netherlands
 www.sarvision.com

From alexamici at fastwebnet.it  Thu Feb  5 06:12:12 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051128.44191.schut@sarvision.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051128.44191.schut@sarvision.com>
Message-ID: <200402051212.12871.alexamici@fastwebnet.it>

> Alessandro, do I understand correctly that simply substituting Numeric with
> Numarray in the gdal pymod files just works? It would be a start,
> definitely... I'll give it a try!

i only tested the gdal module proper, not the scripts. and yes, the only other 
bit is a trivial UnsignedInt8 -> UInt8 near the end of gdalnumeric.py.

but, you are not going to get any speed gain WRT the current cvs. for real 
zero-copy i had to patch some more files in non trivial and non backward 
compatible way.

as soon as i have something reasonable i'll post it to the list.

cheers,
alessandro

From ben at vterrain.org  Thu Feb  5 06:56:04 2004
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:49:02 2007
Subject: [Gdal-dev] OGR, SHP, and multi-polygons
In-Reply-To: <3FC270CE.5050701@pobox.com>
Message-ID: <002101c3ebdf$0876e5b0$f400fe0a@TOPP2>

I've got code which is using Shapelib to read SHP files.  It is not handling
some polygons correctly, so i am trying to change to using OGR instead, in
the hopes that will solve the issue.

The issue is that some SHP files, including some that are example files that
ship  with ESRI software, like 'CNTRY92.SHP', are of type 'Polygon' but
actually contain MultiPolygons.  E.g. the USA is represented as a single
polygon (!) including Alaska and Hawai'i.

When i use Shapelib, it gives me a number of 'parts' (nParts) per polygon.
The information apparently lacking is which 'part' is the exterior, and
which which 'parts' are wholes.

Switching to OGR, the problem remains.  There is only one ExternalRing,
which is _definitely_ not right; in the above example data, if we use only
the ExternalRing, then we get a small island off the coast of Alaska, and
the rest of USA is not loaded.

I'm left wondering - is there any way to successfully load SHP files like
this with either Shapelib or OGR?

Thanks,
Ben


From alexamici at fastwebnet.it  Thu Feb  5 07:19:28 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:02 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051230.44499.schut@sarvision.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051212.12871.alexamici@fastwebnet.it> <200402051230.44499.schut@sarvision.com>
Message-ID: <200402051319.28984.alexamici@fastwebnet.it>


[back to the list]

Vincent,

> > but, you are not going to get any speed gain WRT the current cvs. for
> > real zero-copy i had to patch some more files in non trivial and non
> > backward compatible way.
>
> I understood that. But I *am* going to have the extra numarray
> functionality, like the better array indexing support on gdal loaded raster
> arrays, I suppose?

i guess so, i'm experimenting right now.

if you want to help testing you may try out the attached patch, just define 
the environment variable GDAL_PYTHON_NUMARRAY to anything and you get 
numarray support :).

if it survives to basic testing i can put the patch into cvs.

cheers,
alessandro
-------------- next part --------------
A non-text attachment was scrubbed...
Name: numarray-experimental.diff
Type: text/x-diff
Size: 593 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040205/1ad9fdb6/numarray-experimental.bin
From schut at sarvision.com  Thu Feb  5 08:12:17 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051319.28984.alexamici@fastwebnet.it>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051230.44499.schut@sarvision.com> <200402051319.28984.alexamici@fastwebnet.it>
Message-ID: <200402051412.17406.schut@sarvision.com>

On Thursday 05 February 2004 13:19, Alessandro Amici wrote:
> [back to the list]
Oops that old habit again of wrong replying...
>
> Vincent,
>
> > > but, you are not going to get any speed gain WRT the current cvs. for
> > > real zero-copy i had to patch some more files in non trivial and non
> > > backward compatible way.
> >
> > I understood that. But I *am* going to have the extra numarray
> > functionality, like the better array indexing support on gdal loaded
> > raster arrays, I suppose?
>
> i guess so, i'm experimenting right now.
>
> if you want to help testing you may try out the attached patch, just define
> the environment variable GDAL_PYTHON_NUMARRAY to anything and you get
> numarray support :).

I'll give it a try and keep you informed.
>
> if it survives to basic testing i can put the patch into cvs.
>
> cheers,
> alessandro

Cheers,
-- 
-----------------------------
 Vincent Schut
 SarVision B.V.
 Wageningen, The Netherlands
 www.sarvision.com

From warmerdam at pobox.com  Thu Feb  5 09:03:57 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] OGR, SHP, and multi-polygons
In-Reply-To: <002101c3ebdf$0876e5b0$f400fe0a@TOPP2>
References: <002101c3ebdf$0876e5b0$f400fe0a@TOPP2>
Message-ID: <40224D4D.6040109@pobox.com>

Ben Discoe wrote:
> I've got code which is using Shapelib to read SHP files.  It is not handling
> some polygons correctly, so i am trying to change to using OGR instead, in
> the hopes that will solve the issue.
> 
> The issue is that some SHP files, including some that are example files that
> ship  with ESRI software, like 'CNTRY92.SHP', are of type 'Polygon' but
> actually contain MultiPolygons.  E.g. the USA is represented as a single
> polygon (!) including Alaska and Hawai'i.
> 
> When i use Shapelib, it gives me a number of 'parts' (nParts) per polygon.
> The information apparently lacking is which 'part' is the exterior, and
> which which 'parts' are wholes.
> 
> Switching to OGR, the problem remains.  There is only one ExternalRing,
> which is _definitely_ not right; in the above example data, if we use only
> the ExternalRing, then we get a small island off the coast of Alaska, and
> the rest of USA is not loaded.
> 
> I'm left wondering - is there any way to successfully load SHP files like
> this with either Shapelib or OGR?

Ben,

What version of OGR are you using.  Patches were introduced in the fall some
time to try and classify rings properly and form correct multi-polygons when
reading from Shapefiles.   This did not exist in GDAL 1.1.9 so you will need
a nightly snapshot.

This code is likely not bullet proof, so if you are still running into
problems I would appreciate your providing the dataset in question.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Feb  5 09:10:07 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster(
 )
In-Reply-To: <200402051128.44191.schut@sarvision.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051128.44191.schut@sarvision.com>
Message-ID: <40224EBF.3060906@pobox.com>

Vincent Schut wrote:
> Frank, Alessandro,
> 
> as a frequent user of python/gdal that more and more sees the upcoming goods 
> of numarray compared to numeric, I would like to second numarray support for 
> gdal in some way or the other.
> 
> Alessandro, do I understand correctly that simply substituting Numeric with 
> Numarray in the gdal pymod files just works? It would be a start, 
> definitely... I'll give it a try!

Alessandro / Vincent,

I must say I haven't dug into numarray too much.  My main concern is backward
compatibility with existing applications built on the numpy interface and
whether or not numarray is fairly well settled.  Is numarray likely to (or
already is?) be distributed in standard python distributions?   Does the
gdal/pymod/numpydataset.cpp code need to be rewritten for numarray?

I am open to movement in this area and think that Alessandro's prototyping
is a good idea.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From nhv at cape.com  Thu Feb  5 09:16:28 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051412.17406.schut@sarvision.com>
Message-ID: <EKEJIKAILPONGGENMBGAIEPEGEAA.nhv@cape.com>

Alessandro Amici wrote:
> >
> > if you want to help testing you may try out the attached patch, just define
> > the environment variable GDAL_PYTHON_NUMARRAY to anything and you get
> > numarray support :).

Please note that while Numary is optimized for large vectors it is *much* slower 
< order of magnitude or so >  with small vectors.  Which may or may not be of
consequence depending on your usage.  

This suggests that which version of the Numeric Python extension is linked should 
probably remain a configurable option 

Cheers

Norman

From vincent at link2.nl  Thu Feb  5 04:25:01 2004
From: vincent at link2.nl (Vincent Schut)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01>
Message-ID: <200402051025.01167.vincent@link2.nl>

Frank, Alessandro,

as a frequent user of python/gdal that more and more sees the upcoming goods 
of numarray compared to numeric, I would like to second numarray support for 
gdal in some way or the other.

Alessandro, do I understand correctly that simply substituting Numeric with 
Numarray in the gdal pymod files just works? It would be a start, 
definitely... I'll give it a try!

Cheers,
Vincent Schut.

On Wednesday 04 February 2004 18:55, Amici Alessandro wrote:
> > I have no particular plans to migrate from Numeric to numarray; however,
>
> to
>
> > the best of my  knowledge there isn't any reason these couldn't both be
> > supported is there?
>
> in principle no.
> in practice i can easily see the maintainace cost to climb quite high.
>
> i'll have a second look at the problem in the next few days.
>
> cheers,
> alessandro
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev

From alexamici at fastwebnet.it  Thu Feb  5 10:20:10 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <EKEJIKAILPONGGENMBGAIEPEGEAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAIEPEGEAA.nhv@cape.com>
Message-ID: <200402051620.10994.alexamici@fastwebnet.it>

Norman,

On Thursday 05 February 2004 15:16, Norman Vine wrote:
> Alessandro Amici wrote:
> > > if you want to help testing you may try out the attached patch, just
> > > define the environment variable GDAL_PYTHON_NUMARRAY to anything and
> > > you get numarray support :).
>
> Please note that while Numary is optimized for large vectors it is *much*
> slower < order of magnitude or so >  with small vectors.  Which may or may
> not be of consequence depending on your usage.

well, gdal rasters tend to be 'large vectors' anyhow ;)

BTW, i know numarray had problems in the past, but i read quite some time ago 
that performance on small arrays was getting better. how recent is your info?

> This suggests that which version of the Numeric Python extension is linked
> should probably remain a configurable option

with a bit of luck and planning we can even keep it a run-time option (as it 
is in my patch).

cheers,
alessandro

From alexamici at fastwebnet.it  Thu Feb  5 10:28:33 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <40224EBF.3060906@pobox.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051128.44191.schut@sarvision.com> <40224EBF.3060906@pobox.com>
Message-ID: <200402051628.33464.alexamici@fastwebnet.it>

Frank,

> I must say I haven't dug into numarray too much.  My main concern is
> backward compatibility with existing applications built on the numpy
> interface and whether or not numarray is fairly well settled.  Is numarray
> likely to (or already is?) be distributed in standard python distributions?

last info i had is: 'nummarray may end up into the standard dist' as opposite 
to 'Numeric will never ever be considered'.

>   Does the gdal/pymod/numpydataset.cpp code need to be rewritten for
> numarray?

not sure, numarray has an Numeric emulation layer for external modules, 
chances are that it will be trivail.

BTW, what is the use of the numpy dataset anyhow? it doesn't appear in the 
gdalinfo list of supported formats and i didn't see it being used anywhere 
inside the python module... ??

cheers,
alessandro

From warmerdam at pobox.com  Thu Feb  5 10:47:33 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster(
 )
In-Reply-To: <200402051628.33464.alexamici@fastwebnet.it>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051128.44191.schut@sarvision.com> <40224EBF.3060906@pobox.com> <200402051628.33464.alexamici@fastwebnet.it>
Message-ID: <40226595.6040506@pobox.com>

Alessandro Amici wrote:
> BTW, what is the use of the numpy dataset anyhow? it doesn't appear in the 
> gdalinfo list of supported formats and i didn't see it being used anywhere 
> inside the python module... ??

Alessandro,

The intention is that it allows a numpy array to be accessed as a GDAL
dataset.  This is primarily used in OpenEV, where you can create a numpy
array and then directly visualize it without saving it to disk or copying
the data.  Likewise, most numpy use related to GDAL is in OpenEV or
derived commercial products at Atlantis.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From L.C.W.Schaminee at minlnv.nl  Thu Feb  5 10:13:28 2004
From: L.C.W.Schaminee at minlnv.nl (Schaminee, L.C.W.)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI Shapefile
Message-ID: <D6B99B81AB98D511B5CD0002A5891FBA02AD8BA6@dlgutr002s.dlg.agro.nl>

How can I convert an Oracle Spatial Layer to an ESRI Shapefile? We have a
lot of layers under one username. I would like to convert one of these
layers to an ESRI Shapefile. To do this I used the following command:
org2ogr -skipfailures -f "ESRI Shapefile" c:\shapefile.shp
OCI:username/password@database. All of the layers which this user may use
are being converted. I only want one layer converted. How do I do this? I
tried this: org2ogr -skipfailures -f "ESRI Shapefile" c:\shapefile.shp
OCI:username/password@database.layername but this did not work.

Many thanks in advance,

Luuk

From warmerdam at pobox.com  Thu Feb  5 11:01:06 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI
 Shapefile
In-Reply-To: <D6B99B81AB98D511B5CD0002A5891FBA02AD8BA6@dlgutr002s.dlg.agro.nl>
References: <D6B99B81AB98D511B5CD0002A5891FBA02AD8BA6@dlgutr002s.dlg.agro.nl>
Message-ID: <402268C2.1070002@pobox.com>

Schaminee, L.C.W. wrote:
> How can I convert an Oracle Spatial Layer to an ESRI Shapefile? We have a
> lot of layers under one username. I would like to convert one of these
> layers to an ESRI Shapefile. To do this I used the following command:
> org2ogr -skipfailures -f "ESRI Shapefile" c:\shapefile.shp
> OCI:username/password@database. All of the layers which this user may use
> are being converted. I only want one layer converted. How do I do this? I
> tried this: org2ogr -skipfailures -f "ESRI Shapefile" c:\shapefile.shp
> OCI:username/password@database.layername but this did not work.

Luuk,

Use:

ogr2ogr -skipfailures C:\shapefile.shp OCI:username/password@database layername

You can list one or more layernames at the end of the ogr2ogr command to
operate only on them.  If no layer names are provided, then all layers are
converted.  The format specification isn't strictly required in this case
since shapefile is the default output format.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From schut at sarvision.com  Thu Feb  5 11:18:00 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051412.17406.schut@sarvision.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051319.28984.alexamici@fastwebnet.it> <200402051412.17406.schut@sarvision.com>
Message-ID: <200402051718.00392.schut@sarvision.com>

Frank / Alessandro

After some playing around I have the following results: opening and reading 
gdal datasets works without problems using numarray. However, when I try to 
save a numarray dataset to a file using gdal.SaveArray, I get a segfault. I'm 
sorry but I don't know how to invoke gdb to debug a python script, so I don't 
have much more information.
I tried to dig up the SaveArray function and manually invoke its steps. It 
appears that the segfault appears in the gdal.Open function on the created 
NUMPY:::<adress> object, which is made using the gdal.OpenArray function.

Try the following very simple test program to get the segfault too:

#!/usr/bin/python

import os, sys
from numarray import *
#from Numeric import *
from gdal import *
from gdalnumeric import *

print 'Creating array...'
sys.stdout.flush()

# create a 3 band array (rgb) with some values in it:
rgbImage = reshape(arange(30000, type='UInt8'),(3,100,100))

print 'Saving array...'
sys.stdout.flush()

#SaveArray( rgbImage, 'numarray_test_1.png', 'PNG', None)
# SaveArray segfaults... split it up:]

filename = GetArrayFilename( rgbImage )
print filename # just for checking
sys.stdout.flush()

# this function creates a segfault:
dataset = Open( filename )

print 'Done...'
sys.stdout.flush()

-- 
Cheers,
-----------------------------
 Vincent Schut
 SarVision B.V.
 Wageningen, The Netherlands
 www.sarvision.com

From nhv at cape.com  Thu Feb  5 13:41:37 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051620.10994.alexamici@fastwebnet.it>
Message-ID: <EKEJIKAILPONGGENMBGAMEAEGFAA.nhv@cape.com>

Alessandro Amici writes:
> 
> On Thursday 05 February 2004 15:16, Norman Vine wrote:
> > Alessandro Amici wrote:
> > > > if you want to help testing you may try out the attached patch, just
> > > > define the environment variable GDAL_PYTHON_NUMARRAY to anything and
> > > > you get numarray support :).
> >
> > Please note that while Numary is optimized for large vectors it is *much*
> > slower < order of magnitude or so >  with small vectors.  Which may or may
> > not be of consequence depending on your usage.
> 
> well, gdal rasters tend to be 'large vectors' anyhow ;)
>
> BTW, i know numarray had problems in the past, but i read quite some time ago 
> that performance on small arrays was getting better. how recent is your info?

Ahh..  It appears as if Numarray is getting better :-)

from Numarray Homepage
http://www.stsci.edu/resources/software_hardware/numarray

"""numarray is efficient for large arrays (>20,000 elements) 
but is slower than Numeric for small arrays by a factor of 2 to 4. """

Cheers

Norman

From m.cave-ayland at webbased.co.uk  Thu Feb  5 13:57:37 2004
From: m.cave-ayland at webbased.co.uk (Mark Cave-Ayland)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL 1.19 with ECW problems
Message-ID: <8F4A22E017460A458DB7BBAB65CA6AE512D116@openmanage>

Hi everyone,

I've just downloaded the latest release of OpenEV from Sourceforge with
a view to seeing how well it can cope with ECW files. Unfortunately I
discovered that with the default Windows installation, no ECW support is
included, so I downloaded the ECW SDK along with GDAL 1.19 from
remotesensing.org and recompiled with ECW support under VS6 using the
instructions on www.remotesensing.org.

The installation process went something like this:

1) Point ECWDIR to C:\Program Files\Earth Resource Mapping\Image Web
Server\Client
2) Copy NCSECWc.dll from C:\Program Files\Earth Resource Mapping\ECW SDK
to the above directory (it appears to be a very old version but I don't
want to compress files yet anyway so this shouldn't matter).
3) Add the following lines near the top of ecwdataset.cpp:

CPL_C_START
void GDALRegister_ECW();
CPL_C_END

4) Compile GDAL installing into C:\gdalinst
5) Check gdalinfo --formats to make sure ECW is listed.
6) Make a copy of gdal11.dll as gdal119.dll
7) Add the following to INCLUDE_DIRS in setup.py - "C:\gdalinst\install"
8) From the OpenEV installation of Python launch the following:
	python setup.py install
8) Copy gdal11.dll to OpenEV\bin
9) Copy _gdal.pyd as _gdal.dll into OpenEV\pymod

After this fiddling (I've only ever used Python once before!) I managed
to install my new copy of GDAL in the OpenEV directory and I can now
load an ECW into OpenEV using File->Import and I've managed to export an
ECW as a JPEG. So far so good.

The part I'm now struggling with is trying to create a 3D view using two
ECW rasters - a standard and a DEM. Unfortunately the problem I'm
finding is that if I go to File->Open or File->Open 3D to load in the
ECW file then Python generates an exception and crashes :(. So I guess
what I'm looking for is: i) does this installation sound about right or
have I really messed up my OpenEV installation, ii) why is File->Open
different from File->Import and iii) how can a Python newbie go about
debugging a GDAL/Python application under Win32 to find out exactly what
the problem is?


Many thanks,

Mark.

---

Mark Cave-Ayland
Webbased Ltd.
Tamar Science Park
Derriford
Plymouth
PL6 8BX
England

Tel: +44 (0)1752 764445
Fax: +44 (0)1752 764446


This email and any attachments are confidential to the intended
recipient and may also be privileged. If you are not the intended
recipient please delete it from your system and notify the sender. You
should not copy it or use it for any purpose nor disclose or distribute
its contents to any other person.



From warmerdam at pobox.com  Thu Feb  5 14:46:22 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster(
 )
In-Reply-To: <200402051718.00392.schut@sarvision.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051319.28984.alexamici@fastwebnet.it> <200402051412.17406.schut@sarvision.com> <200402051718.00392.schut@sarvision.com>
Message-ID: <40229D8E.1090108@pobox.com>

Vincent Schut wrote:
> Frank / Alessandro
> 
> After some playing around I have the following results: opening and reading 
> gdal datasets works without problems using numarray. However, when I try to 
> save a numarray dataset to a file using gdal.SaveArray, I get a segfault. I'm 
> sorry but I don't know how to invoke gdb to debug a python script, so I don't 
> have much more information.
> I tried to dig up the SaveArray function and manually invoke its steps. It 
> appears that the segfault appears in the gdal.Open function on the created 
> NUMPY:::<adress> object, which is made using the gdal.OpenArray function.
> 

Vincent,

This NUMPY::: business is the magic that lets a numpy array be treated as a
gdal dataset.  It is supported by the C++ code in numpydataset.cpp that knows
about the structure used to represent a numpy object.  I think this would
have to be altered significantly for numarray though I haven't looked at the
memory structures for it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Feb  5 15:18:56 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL 1.19 with ECW problems
In-Reply-To: <8F4A22E017460A458DB7BBAB65CA6AE512D116@openmanage>
References: <8F4A22E017460A458DB7BBAB65CA6AE512D116@openmanage>
Message-ID: <4022A530.4080008@pobox.com>

Mark Cave-Ayland wrote:
> Hi everyone,
> 
> I've just downloaded the latest release of OpenEV from Sourceforge with
> a view to seeing how well it can cope with ECW files. Unfortunately I
> discovered that with the default Windows installation, no ECW support is
> included, so I downloaded the ECW SDK along with GDAL 1.19 from
> remotesensing.org and recompiled with ECW support under VS6 using the
> instructions on www.remotesensing.org.
> 
> The installation process went something like this:
> 
> 1) Point ECWDIR to C:\Program Files\Earth Resource Mapping\Image Web
> Server\Client
> 2) Copy NCSECWc.dll from C:\Program Files\Earth Resource Mapping\ECW SDK
> to the above directory (it appears to be a very old version but I don't
> want to compress files yet anyway so this shouldn't matter).
> 3) Add the following lines near the top of ecwdataset.cpp:
> 
> CPL_C_START
> void GDALRegister_ECW();
> CPL_C_END
> 
> 4) Compile GDAL installing into C:\gdalinst
> 5) Check gdalinfo --formats to make sure ECW is listed.
> 6) Make a copy of gdal11.dll as gdal119.dll
> 7) Add the following to INCLUDE_DIRS in setup.py - "C:\gdalinst\install"
> 8) From the OpenEV installation of Python launch the following:
> 	python setup.py install
> 8) Copy gdal11.dll to OpenEV\bin
> 9) Copy _gdal.pyd as _gdal.dll into OpenEV\pymod
> 
> After this fiddling (I've only ever used Python once before!) I managed
> to install my new copy of GDAL in the OpenEV directory and I can now
> load an ECW into OpenEV using File->Import and I've managed to export an
> ECW as a JPEG. So far so good.
> 
> The part I'm now struggling with is trying to create a 3D view using two
> ECW rasters - a standard and a DEM. Unfortunately the problem I'm
> finding is that if I go to File->Open or File->Open 3D to load in the
> ECW file then Python generates an exception and crashes :(. So I guess
> what I'm looking for is: i) does this installation sound about right or
> have I really messed up my OpenEV installation, ii) why is File->Open
> different from File->Import and iii) how can a Python newbie go about
> debugging a GDAL/Python application under Win32 to find out exactly what
> the problem is?

Mark,

Wow, good effort!  Ideally it should be suffient to build gdal11.dll
seperately and then copy it over the existing gdal11.dll in the OpenEV
distribution.  Of course, any other newly required include files would
also have to be dumped there.  I'm not sure that even theupdated _gdal.pyd
should be needed as I think it is a thin wrapper over gdal11.dll that
wouldn't change just due to gdal build configurations.


I have no idea why ECW works for open, but not open 3d.  Can you run OpenEV
from a dos window so as to be able to capture the python exception trace
back?  That might be helpful.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dron at ak4719.spb.edu  Thu Feb  5 16:29:23 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster( )
In-Reply-To: <200402051718.00392.schut@sarvision.com>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051319.28984.alexamici@fastwebnet.it> <200402051412.17406.schut@sarvision.com> <200402051718.00392.schut@sarvision.com>
Message-ID: <20040205212922.GA1824@ak4719.spb.edu>

On Thu, Feb 05, 2004 at 05:18:00PM +0100, Vincent Schut wrote:
> I'm sorry but I don't know how to invoke gdb to debug a python script,
> so I don't have much more information.

It is easy.

$ gdb python

and then 'run /path/to/script.py' in the debugger's command prompt.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From m.cave-ayland at webbased.co.uk  Thu Feb  5 16:31:33 2004
From: m.cave-ayland at webbased.co.uk (Mark Cave-Ayland)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL 1.19 with ECW problems
In-Reply-To: <8F4A22E017460A458DB7BBAB65CA6AE517B76D@openmanage>
Message-ID: <8F4A22E017460A458DB7BBAB65CA6AE512D117@openmanage>

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org 
> [mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Frank Warmerdam
> Sent: 05 February 2004 20:19
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] GDAL 1.19 with ECW problems
> 

(lots cut!)
 
> Mark,
> 
> Wow, good effort!  Ideally it should be suffient to build 
> gdal11.dll seperately and then copy it over the existing 
> gdal11.dll in the OpenEV distribution.  Of course, any other 
> newly required include files would also have to be dumped 
> there.  I'm not sure that even theupdated _gdal.pyd should be 
> needed as I think it is a thin wrapper over gdal11.dll that 
> wouldn't change just due to gdal build configurations.
> 
> 
> I have no idea why ECW works for open, but not open 3d.  Can 
> you run OpenEV from a dos window so as to be able to capture 
> the python exception trace back?  That might be helpful.


Hi Frank,

Many thanks for the response. I did initially try just replacing the
gdal11.dll in the OpenEV distribution with the new one, but I kept
getting the following error message when loading OpenEV: "The procedure
entry point OGRSetGenerate_DB2_V72_BYTE_ORDER could not be located in
the dynamic link library gdal11.dll". This fortunately threw out a
python backtrace that pointed to line 100 in pymod/gdal.py that simply
reads 'import _gdal'. I checked the DLL exports and found that the new
DLL didn't have this entry point so I copied across all the files using
setup.py and did some hand tweaking until it worked :)

I've now managed to get the Visual C debugger going and I'm not sure
this is a GDAL problem anymore. The error message I get is: "Unhandled
exception in python.exe (_GV.DLL): 0xC0000005: Access violation." with
no python stacktrace. I did find a program called gvtest in the
OpenEV\bin directory and that seemed to work fine. So perhaps this is
not a GDAL problem but an OpenEV issue - I can try and open this up on
the OpenEV lists instead if you think that would be more relevant? I'm
guessing that this DLL is the one called from gview.py which appears to
be some kind of GTK extension for vector graphics?


Many thanks,

Mark.

---

Mark Cave-Ayland
Webbased Ltd.
Tamar Science Park
Derriford
Plymouth
PL6 8BX
England

Tel: +44 (0)1752 764445
Fax: +44 (0)1752 764446


This email and any attachments are confidential to the intended
recipient and may also be privileged. If you are not the intended
recipient please delete it from your system and notify the sender. You
should not copy it or use it for any purpose nor disclose or distribute
its contents to any other person.



From warmerdam at pobox.com  Thu Feb  5 16:41:22 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL 1.19 with ECW problems
In-Reply-To: <8F4A22E017460A458DB7BBAB65CA6AE512D117@openmanage>
References: <8F4A22E017460A458DB7BBAB65CA6AE512D117@openmanage>
Message-ID: <4022B882.4040206@pobox.com>

Mark Cave-Ayland wrote:
> Many thanks for the response. I did initially try just replacing the
> gdal11.dll in the OpenEV distribution with the new one, but I kept
> getting the following error message when loading OpenEV: "The procedure
> entry point OGRSetGenerate_DB2_V72_BYTE_ORDER could not be located in
> the dynamic link library gdal11.dll". This fortunately threw out a
> python backtrace that pointed to line 100 in pymod/gdal.py that simply
> reads 'import _gdal'. I checked the DLL exports and found that the new
> DLL didn't have this entry point so I copied across all the files using
> setup.py and did some hand tweaking until it worked :)

Mark,

Ahh, it looks like you built and installed an older GDAL (perhaps 1.1.9?)
I would suggest you use the nightly snapshot of GDAL as the source
to start from.  I presume that OpenEV is using a few new services from
GDAL that didn't existing in 1.1.9.

The other thing that I almost hesitate to mention, is that the OpenEV_FW
1.6.3 binary build for windows includes ECW support.  This really isn't
much different than the 1.7.0 release Gillian prepared, but it has quite
a few additional GDAL formats included.

> I've now managed to get the Visual C debugger going and I'm not sure
> this is a GDAL problem anymore. The error message I get is: "Unhandled
> exception in python.exe (_GV.DLL): 0xC0000005: Access violation." with
> no python stacktrace. I did find a program called gvtest in the
> OpenEV\bin directory and that seemed to work fine. So perhaps this is
> not a GDAL problem but an OpenEV issue - I can try and open this up on
> the OpenEV lists instead if you think that would be more relevant? I'm
> guessing that this DLL is the one called from gview.py which appears to
> be some kind of GTK extension for vector graphics?

This is an OpenEV level issue, but it is likely to be pretty hard to
diagnose since you can't debug _GV.DLL unless you rebuild it from source
too.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Feb  5 16:43:12 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: R: [Gdal-dev] trivial (?) optimization for gdal.i:GDALReadRaster(
 )
In-Reply-To: <20040205212922.GA1824@ak4719.spb.edu>
References: <7171FE1C83A6AE4DA93B8099958868070184A72F@ROMADG-MAIL01> <200402051319.28984.alexamici@fastwebnet.it> <200402051412.17406.schut@sarvision.com> <200402051718.00392.schut@sarvision.com> <20040205212922.GA1824@ak4719.spb.edu>
Message-ID: <4022B8F0.1020303@pobox.com>

Andrey Kiselev wrote:
> On Thu, Feb 05, 2004 at 05:18:00PM +0100, Vincent Schut wrote:
> 
>>I'm sorry but I don't know how to invoke gdb to debug a python script,
>>so I don't have much more information.
> 
> 
> It is easy.
> 
> $ gdb python
> 
> and then 'run /path/to/script.py' in the debugger's command prompt.
> 
> 						Andrey

Right,

The only thing I would add is that it can be hard to set breakpoints
in GDAL since the shared library isn't loaded when python is in it's
main().  Sometimes I introduce a wait call at some strategic point in
GDAL (ie. GDALAllRegister()) to give me a chance to control-c gdb after
gdal has been loaded ... then I can set a breakpoint.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From starged at videotron.ca  Thu Feb  5 16:54:55 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] HDF4 driver and Landsat L1G metadata
Message-ID: <e895209fpgfn616hlbt7snd3c47d50hag7@4ax.com>

Hi,

I am trying to convert to geotiff the Landsat L1G images found on the GLCF site
(http://glcfapp.umiacs.umd.edu:8080/esdi/index.jsp). The conversion with gdal_translate works fine
except there is no georeferencing info in the output file.

Here's the gdalinfo output:
$ gdalinfo L71012031_03120020410_HDF.L1G
Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Subdatasets:
  SUBDATASET_1_NAME=HDF4_SDS:UNKNOWN:"L71012031_03120020410_HDF.L1G":0
  SUBDATASET_1_DESC=[7441x8361] L71012031_03120020410.B10 (8-bit unsigned integer)
  (...)
  SUBDATASET_9_NAME=HDF4_SDS:UNKNOWN:"L71012031_03120020410_HDF.L1G":8
  SUBDATASET_9_DESC=[14881x16721] L72012031_03120020410.B80 (8-bit unsigned integer)

The metadata for this dataset is in the L71012031_03120020410_MTL.L1G file but it is apparently
ignored by the driver.

Has anybody tried to modify the HDF4 driver so it can read the georeferencing from this file?
If not, how difficult would it be? I could try but I'm still a newbie in C/C++ and this could take a
while...

The only information needed from this file would be:

GROUP = L1_METADATA_FILE
  (...)
  GROUP = PRODUCT_METADATA
    (...)
    PRODUCT_UL_CORNER_MAPX = 181800.000  
    PRODUCT_UL_CORNER_MAPY = 4738200.000
    (...)
  END_GROUP = PRODUCT_METADATA 
  (...)
  GROUP = PROJECTION_PARAMETERS 
    REFERENCE_DATUM = "WGS84" 
    REFERENCE_ELLIPSOID = "WGS84" 
    GRID_CELL_SIZE_PAN = 15.000           
    GRID_CELL_SIZE_THM = 60.000           
    GRID_CELL_SIZE_REF = 30.000           
    ORIENTATION = "NUP"
    RESAMPLING_OPTION = "CC"
    MAP_PROJECTION = "UTM"
  END_GROUP = PROJECTION_PARAMETERS 
  GROUP = UTM_PARAMETERS 
    ZONE_NUMBER = 19
  END_GROUP = UTM_PARAMETERS 
END_GROUP = L1_METADATA_FILE 
END

Also, these files are 0's filled to make them 64KB so I don't know if this can cause problems for
reading.

The gdal tools used come from OpenEV 1.70 (for Windows).

Thanks in advance for any help.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From m.cave-ayland at webbased.co.uk  Thu Feb  5 17:21:08 2004
From: m.cave-ayland at webbased.co.uk (Mark Cave-Ayland)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL 1.19 with ECW problems
In-Reply-To: <8F4A22E017460A458DB7BBAB65CA6AE517B778@openmanage>
Message-ID: <8F4A22E017460A458DB7BBAB65CA6AE502655A@openmanage>

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org 
> [mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Frank Warmerdam
> Sent: 05 February 2004 21:41
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] GDAL 1.19 with ECW problems
>
> 
> Mark,
> 
> Ahh, it looks like you built and installed an older GDAL 
> (perhaps 1.1.9?) I would suggest you use the nightly snapshot 
> of GDAL as the source to start from.  I presume that OpenEV 
> is using a few new services from GDAL that didn't existing in 1.1.9.


Hi Frank,

Thanks very much! I just downloaded the CVS snapshot and recompiled and
it was exactly like you said - I could just drop the new DLL over the
existing one without any other effort required. And I can now Open maps
without any problems whatsoever :) You were right in that I downloaded
1.1.9 - I got the link from half way down
http://www.remotesensing.org/gdal/ where it indicates that this was the
latest source release?

Just to add that I think the GDAL/OGR looks absolutely fantastic as we
deal with GIS data in so many different formats this is exactly what we
need - I will wholeheartedly supply patches for any new formats we
experience in our travels :)


Many, many, many thanks!

Mark.

---

Mark Cave-Ayland
Webbased Ltd.
Tamar Science Park
Derriford
Plymouth
PL6 8BX
England

Tel: +44 (0)1752 764445
Fax: +44 (0)1752 764446


This email and any attachments are confidential to the intended
recipient and may also be privileged. If you are not the intended
recipient please delete it from your system and notify the sender. You
should not copy it or use it for any purpose nor disclose or distribute
its contents to any other person.



From MChapman at sanz.com  Thu Feb  5 18:15:00 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] OGR, SHP, and multi-polygons
Message-ID: <ED3A48B9840E594890A2BC172D119465F29134@mailman.san.com>

The ShapeLib is correct.  Holes are defined by the winding of the points
(clockwise versus counter clockwise)  here is the description from
esri's white paper:

"A polygon consists of one or more rings. A ring is a connected sequence
of four or more
points that form a closed, non-self-intersecting loop. A polygon may
contain multiple
outer rings. The order of vertices or orientation for a ring indicates
which side of the ring
is the interior of the polygon. The neighborhood to the right of an
observer walking along
the ring in vertex order is the neighborhood inside the polygon.
Vertices of rings defining
holes in polygons are in a counterclockwise direction. Vertices for a
single, ringed
polygon are, therefore, always in clockwise order. The rings of a
polygon are referred to
as its parts.
Because this specification does not forbid consecutive points with
identical coordinates,
shapefile readers must handle such cases. On the other hand, the
degenerate, zero length
or zero area parts that might result are not allowed."

So, the lib doesn't distinguish between holes and shapes, there all just
points to the ShapeLib library.  It's up to the rendering engine to show
holes correctly based upon the winding pattern.  OpenGL handles this
nicely with a tesselation object.  You set the winding property like
this for esri shape files, where holes are wound counter clockwise:

gluTessProperty(pTesselator, GLU_TESS_WINDING_RULE,
GLU_TESS_WINDING_POSITIVE);

Then opengl will handle the holes for you and there is no need to
distinguish between them in your code.  Basically, "parts is parts".
HA, that was bad, does anyone remember that commercial?

Martin Chapman


-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Thursday, February 05, 2004 7:04 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] OGR, SHP, and multi-polygons


Ben Discoe wrote:
> I've got code which is using Shapelib to read SHP files.  It is not 
> handling some polygons correctly, so i am trying to change to using 
> OGR instead, in the hopes that will solve the issue.
> 
> The issue is that some SHP files, including some that are example 
> files that ship  with ESRI software, like 'CNTRY92.SHP', are of type 
> 'Polygon' but actually contain MultiPolygons.  E.g. the USA is 
> represented as a single polygon (!) including Alaska and Hawai'i.
> 
> When i use Shapelib, it gives me a number of 'parts' (nParts) per 
> polygon. The information apparently lacking is which 'part' is the 
> exterior, and which which 'parts' are wholes.
> 
> Switching to OGR, the problem remains.  There is only one 
> ExternalRing, which is _definitely_ not right; in the above example 
> data, if we use only the ExternalRing, then we get a small island off 
> the coast of Alaska, and the rest of USA is not loaded.
> 
> I'm left wondering - is there any way to successfully load SHP files 
> like this with either Shapelib or OGR?

Ben,

What version of OGR are you using.  Patches were introduced in the fall
some time to try and classify rings properly and form correct
multi-polygons when
reading from Shapefiles.   This did not exist in GDAL 1.1.9 so you will
need
a nightly snapshot.

This code is likely not bullet proof, so if you are still running into
problems I would appreciate your providing the dataset in question.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From MChapman at sanz.com  Thu Feb  5 18:17:10 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI Shapefile
Message-ID: <ED3A48B9840E594890A2BC172D119465F29135@mailman.san.com>

How about selecting your points with a SQL statement and then writing
the shape with a library like ShapeLib?

Martin

-----Original Message-----
From: Schaminee, L.C.W. [mailto:L.C.W.Schaminee@minlnv.nl] 
Sent: Thursday, February 05, 2004 8:13 AM
To: 'gdal-dev@remotesensing.org'
Subject: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI
Shapefile


How can I convert an Oracle Spatial Layer to an ESRI Shapefile? We have
a lot of layers under one username. I would like to convert one of these
layers to an ESRI Shapefile. To do this I used the following command:
org2ogr -skipfailures -f "ESRI Shapefile" c:\shapefile.shp
OCI:username/password@database. All of the layers which this user may
use are being converted. I only want one layer converted. How do I do
this? I tried this: org2ogr -skipfailures -f "ESRI Shapefile"
c:\shapefile.shp OCI:username/password@database.layername but this did
not work.

Many thanks in advance,

Luuk
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From ben at vterrain.org  Thu Feb  5 21:18:48 2004
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] OGR, SHP, and multi-polygons
In-Reply-To: <40224D4D.6040109@pobox.com>
Message-ID: <006c01c3ec57$8e1c38f0$f400fe0a@TOPP2>

> From: Frank Warmerdam
> 
> Patches were introduced in the fall some
> time to try and classify rings properly and form correct 
> multi-polygons when reading from Shapefiles.
> This did not exist in GDAL 1.1.9 so you will need
> a nightly snapshot.

OK, does that mean it now does the following?
 1. For each polygon 'part', tests the winding order to determine if it's
external or internal
 2. If more than one external part is found, a OGRMultiPolygon is created,
otherwise a OGRPolygon.
 3. As it can't know in advance, the layer reports geometry type as
"Polygon", even if there might be MultiPolygons inside.

Some related questions:
  Is 'wkbPoint25D' the OGR equivalent of SHPT_POINTZ, or does OGR just use
wkbPoint with 3 coordinates instead of 2?
  Is there another GDAL release planned?  My 1.1.9 is dated 2003-06-27, 7
months ago.

Thanks,
Ben


From warmerdam at pobox.com  Fri Feb  6 00:59:56 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] OGR, SHP, and multi-polygons
In-Reply-To: <006c01c3ec57$8e1c38f0$f400fe0a@TOPP2>
References: <006c01c3ec57$8e1c38f0$f400fe0a@TOPP2>
Message-ID: <40232D5C.9060908@pobox.com>

Ben Discoe wrote:
>>From: Frank Warmerdam
>>
>>Patches were introduced in the fall some
>>time to try and classify rings properly and form correct 
>>multi-polygons when reading from Shapefiles.
>>This did not exist in GDAL 1.1.9 so you will need
>>a nightly snapshot.
> 
> 
> OK, does that mean it now does the following?
>  1. For each polygon 'part', tests the winding order to determine if it's
> external or internal
>  2. If more than one external part is found, a OGRMultiPolygon is created,
> otherwise a OGRPolygon.

Ben,

The above is correct.

>  3. As it can't know in advance, the layer reports geometry type as
> "Polygon", even if there might be MultiPolygons inside.

I see it still reports the layer as type Polygon when they should likely be
Geometry since they may have polygons or multipolygons.  This is technically
a bug.

> Some related questions:
>   Is 'wkbPoint25D' the OGR equivalent of SHPT_POINTZ, or does OGR just use
> wkbPoint with 3 coordinates instead of 2?

wkbPoint25D is the equivelent of SHPT_POINTZ.  Note that interlally there is
only one OGRPoint class.  It returns a wkbPoint25D type if the z is non-zero
otherwise it returns wkbPoint as the type.

>   Is there another GDAL release planned?  My 1.1.9 is dated 2003-06-27, 7
> months ago.

It is my intention to produce a 1.2.0 at some point in the near future; however,
I have mostly just been directing people to the nightly snapshots for most
purposes.  The 1.2.0 release will move to use of libtool by default.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dron at ak4719.spb.edu  Fri Feb  6 02:08:47 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] HDF4 driver and Landsat L1G metadata
In-Reply-To: <e895209fpgfn616hlbt7snd3c47d50hag7@4ax.com>
References: <e895209fpgfn616hlbt7snd3c47d50hag7@4ax.com>
Message-ID: <20040206070847.GA4326@ak4719.spb.edu>

On Thu, Feb 05, 2004 at 04:54:55PM -0500, Mario Beauchamp wrote:
> I am trying to convert to geotiff the Landsat L1G images found on the
> GLCF site (http://glcfapp.umiacs.umd.edu:8080/esdi/index.jsp). The
> conversion with gdal_translate works fine except there is no
> georeferencing info in the output file.

Mario,

Could you give me an exact link to their FTP archive where your HDF
files located? I need a sample to implement support for that product
type.

					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From alexamici at fastwebnet.it  Fri Feb  6 09:10:12 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] python arrays - one step further
Message-ID: <200402061510.12641.alexamici@fastwebnet.it>


folks,

the attached patch serie is meant to further optimize the gdal python layer. 
up to now i only concentrated on raster read performance.

i had to extend a couple of intenal interfaces and (optionally) an external 
interface, so i didn't apply the patches to cvs myself, and wait for Frank 
approval. however the optimization applies to the current Numeric 
implementation (no need of numarray) and it is fully backward compatible.

00_gdalreadraster-buffer.diff
py_GDALReadRaster accepts an additional optional argument that can be any 
python object that offer a writable buffer (of the correct size) via the 
buffer interface, i.e. an array object.

10_gdalnumeric-buf_obj.diff
BandReadRaster get advantage of the new GDALReadRaster argument.

with these two patches applied and no change to my test program and sample 
dataset i obtained:

real    0m23.451s
user    0m17.861s
sys     0m4.667s

broken down as:

CPU: Athlon, speed 1000.15 MHz (estimated)
vma      samples  %           app name                 symbol name
001323c0 15428    33.2221     libgdal.so.1.1.9         GDALCopyWords
00077370 13146    28.3081     libc-2.3.2.so            memset
c01b2450 4346      9.3585     vmlinux                  __copy_to_user_ll
00077990 2713      5.8421     libc-2.3.2.so            memcpy
c01b1f30 2557      5.5061     vmlinux                  fast_clear_page
001322e0 1746      3.7598     libgdal.so.1.1.9         GDALSwapWords

remember that we went from 36.5s to 28.5s removing a unneeded memcpy. this 
further speed up to 23.5s is apparently due to the fact that clearing the 
memory (inside zeros()) is faster that copying it over (inside fromstring()).

but it is not finished, fasten your seat belts!

20_gdal-band-buf_obj.diff
Band.ReadAsArray() accepts an additional optional argument where the result is 
stored (much like the output argument of the ufuncions).

in order to take advantage of the output argument you need to adapt your 
applications, but if you need to read the image in chunks and you allocate a 
reusable buffer array, this is where you can get:

real    0m14.506s
user    0m11.597s
sys     0m2.617s

and:

vma      samples  %           app name                 symbol name
001323c0 14990    51.6362     libgdal.so.1.1.9         GDALCopyWords
c01b2450 4419     15.2222     vmlinux                  __copy_to_user_ll
00077990 2796      9.6314     libc-2.3.2.so            memcpy
001322e0 1714      5.9042     libgdal.so.1.1.9         GDALSwapWords
00077370 1198      4.1268     libc-2.3.2.so            memset

note that the memcpy is not due to python but it is called inside 
GDAL_CopyWords, and the only further overhead due to Numeric is the (not 
really useful) memset. with numarray we could avoid that and a couple of code 
contorions, oh well.

anybody interested, please test, but...
a word of warning: this is my first time playing with python modules internal!

Frank, something like that needs to go in, do you have any comment?

cheers,
alessandro
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 00_gdalreadraster-buffer.diff
Type: text/x-diff
Size: 2027 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040206/75d31057/00_gdalreadraster-buffer.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 10_gdalnumeric-buf_obj.diff
Type: text/x-diff
Size: 1448 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040206/75d31057/10_gdalnumeric-buf_obj.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20_gdal-band-buf_obj.diff
Type: text/x-diff
Size: 805 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040206/75d31057/20_gdal-band-buf_obj.bin
From alexamici at fastwebnet.it  Fri Feb  6 09:15:15 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Re: python arrays - one step further
In-Reply-To: <200402061510.12641.alexamici@fastwebnet.it>
References: <200402061510.12641.alexamici@fastwebnet.it>
Message-ID: <200402061515.15265.alexamici@fastwebnet.it>


Frank,

> 00_gdalreadraster-buffer.diff
> py_GDALReadRaster accepts an additional optional argument that can be any
> python object that offer a writable buffer (of the correct size) via the
> buffer interface, i.e. an array object.

woops... the gdal.i piece was missing!
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 01_gdal.i-readraster-buffer.diff
Type: text/x-diff
Size: 2011 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040206/daaeca05/01_gdal.i-readraster-buffer.bin
From wim.blanken at planet.nl  Fri Feb  6 06:49:32 2004
From: wim.blanken at planet.nl (Wim Blanken (PI))
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI
 Shapefile
References: <ED3A48B9840E594890A2BC172D119465F29135@mailman.san.com>
Message-ID: <003e01c3eca7$49ee3f70$6400a8c0@BLANKEN>

Hello Luuk,

What about the following

ogr2ogr -f "ESRI Shapefile" shapefile.shp OCI:name/password@database
layername

So implement a space instead of a period between the databasename and the
layername.....

Regards,

Wim Blanken
GEON bv
The Netherlands

----- Original Message -----
From: "Chapman, Martin" <MChapman@sanz.com>
To: <gdal-dev@remotesensing.org>
Sent: Friday, February 06, 2004 12:17 AM
Subject: RE: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI
Shapefile


> How about selecting your points with a SQL statement and then writing
> the shape with a library like ShapeLib?
>
> Martin
>
> -----Original Message-----
> From: Schaminee, L.C.W. [mailto:L.C.W.Schaminee@minlnv.nl]
> Sent: Thursday, February 05, 2004 8:13 AM
> To: 'gdal-dev@remotesensing.org'
> Subject: [Gdal-dev] How to convert an Oracle Spatial Layer to an ESRI
> Shapefile
>
>
> How can I convert an Oracle Spatial Layer to an ESRI Shapefile? We have
> a lot of layers under one username. I would like to convert one of these
> layers to an ESRI Shapefile. To do this I used the following command:
> org2ogr -skipfailures -f "ESRI Shapefile" c:\shapefile.shp
> OCI:username/password@database. All of the layers which this user may
> use are being converted. I only want one layer converted. How do I do
> this? I tried this: org2ogr -skipfailures -f "ESRI Shapefile"
> c:\shapefile.shp OCI:username/password@database.layername but this did
> not work.
>
> Many thanks in advance,
>
> Luuk
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>
>


From warmerdam at pobox.com  Fri Feb  6 13:25:17 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Re: python arrays - one step further
In-Reply-To: <200402061515.15265.alexamici@fastwebnet.it>
References: <200402061510.12641.alexamici@fastwebnet.it> <200402061515.15265.alexamici@fastwebnet.it>
Message-ID: <4023DC0D.4070300@pobox.com>

Alessandro Amici wrote:
> Frank,
> 
> 
>>00_gdalreadraster-buffer.diff
>>py_GDALReadRaster accepts an additional optional argument that can be any
>>python object that offer a writable buffer (of the correct size) via the
>>buffer interface, i.e. an array object.
> 
> 
> woops... the gdal.i piece was missing!

Alessandro,

I would suggest you go ahead and apply these changes, and let me know so I
can regenerate gdal_warp.c.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From starged at videotron.ca  Fri Feb  6 13:50:46 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] HDF4 driver and Landsat L1G metadata
In-Reply-To: <20040206070847.GA4326@ak4719.spb.edu>
References: <e895209fpgfn616hlbt7snd3c47d50hag7@4ax.com>
 <20040206070847.GA4326@ak4719.spb.edu>
Message-ID: <9il7209cd4buubalmapf1bbccm6uprdhdi@4ax.com>

Hi Andrey,

On Fri, 06 Feb 2004 10:08:47 +0300, Andrey Kiselev <dron@ak4719.spb.edu> wrote:

>> I am trying to convert to geotiff the Landsat L1G images found on the
>> GLCF site (http://glcfapp.umiacs.umd.edu:8080/esdi/index.jsp).
>
>Could you give me an exact link to their FTP archive where your HDF
>files located? I need a sample to implement support for that product type.

Of course. It's in the directory at:

ftp://ftp.glcf.umiacs.umd.edu/glcf/Landsat/WRS2/p012/r031/L71012031_03120020410.ETM-USGS/

And btw, the gdal tools I used are those in the OpenEV_FW 1.63, not the Atlantis version. I also
have a MinGW gdal build (it is needed by OSSIM) but I later realised that I would need to rebuild it
with hdf4 support and for that, I also need to build the hdf libs. And it doesn't look like
compilation under MinGW is supported (why am I not surprised?)...

So I guess I will have to wait for Frank to include those changes in the next OpenEV_FW :)

Thanks a lot.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From alexamici at fastwebnet.it  Sun Feb  8 04:37:02 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Re: python arrays - one step further
In-Reply-To: <4023DC0D.4070300@pobox.com>
References: <200402061510.12641.alexamici@fastwebnet.it> <200402061515.15265.alexamici@fastwebnet.it> <4023DC0D.4070300@pobox.com>
Message-ID: <200402081037.02683.alexamici@fastwebnet.it>

On Friday 06 February 2004 19:25, Frank Warmerdam wrote:
> I would suggest you go ahead and apply these changes, and let me know so I
> can regenerate gdal_warp.c.

done, please regenerate gdal_warp.c

cheers,
alessandro

From chen at yinyue123.com  Sun Feb  8 08:53:06 2004
From: chen at yinyue123.com (Fu Chen)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <40232D5C.9060908@pobox.com>
Message-ID: <HLENLPCAGDEHMNMNLIDJIEIECAAA.chen@yinyue123.com>

Hi!
I wanna create a simple application for traffic management department in my city to broadcast the situation on the road. This application will help driver make his best route and ease the trafic block.
The data is very simple, the most important  is main road's position, its name,  and the situation on the road which can be some levels for example 0 for free road and 5 for total blocked road. Some other layers can be include if the space permit. The mobile device will get the road map in once and then contact the host for the realtime road situation in some time gap.
Now I must select a format for a space and bandwidth limited mobile device.  GML seems a good selection for  webgis. But it will waste a lot of bandwidth to transport tag. Is there a simple compact binary format suite my design.
Hope some guru in this list will give me some suggestion.
Thank!!

From roger at pocketterra.com  Sun Feb  8 10:51:52 2004
From: roger at pocketterra.com (Roger Bedell)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <HLENLPCAGDEHMNMNLIDJIEIECAAA.chen@yinyue123.com>
Message-ID: <SYLVANSERVERwhSKjXb0000001e@sylvanserver>

Can the GML be sent using compression? Also, for several years I've been
interested in a similar application, but the traffic routing is dynamically
determined in real time using feedback from the velocity and direction GPS
data from a large number of vehicles. Is anyone working on such a scheme?
I've called it the "Velocigram" but haven't had the time to work on it much.

Roger Bedell, President, Sylvan Ascent Inc.
roger@sylvanascent.com
505-758-7712
www.sylvanascent.com
www.pocketterra.com
 
 

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Fu Chen
Sent: Sunday, February 08, 2004 6:53 AM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Please suggest a vector format for wireless application

Hi!
I wanna create a simple application for traffic management department in my
city to broadcast the situation on the road. This application will help
driver make his best route and ease the trafic block.
The data is very simple, the most important  is main road's position, its
name,  and the situation on the road which can be some levels for example 0
for free road and 5 for total blocked road. Some other layers can be include
if the space permit. The mobile device will get the road map in once and
then contact the host for the realtime road situation in some time gap.
Now I must select a format for a space and bandwidth limited mobile device.
GML seems a good selection for  webgis. But it will waste a lot of bandwidth
to transport tag. Is there a simple compact binary format suite my design.
Hope some guru in this list will give me some suggestion.
Thank!!
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev




From robert at openscenegraph.com  Sun Feb  8 18:01:54 2004
From: robert at openscenegraph.com (Robert Osfield)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL + Linux x86-64 support?
Message-ID: <200402082301.54849.robert@openscenegraph.com>

I have just built myself a Althon64 based Suse9.0 64bit Linux box, and have 
downloaded the cvs version of gdal and run ./configure, make but get the 
error from make:

gdal>./configure
....  last line says..
checking for MrSIDImage.h in /include... configure: error: not found.

gdal> make
GNUmakefile:5: GDALmake.opt: No such file or directory

I'm not a configure expert, so havn't rolled my sleeves up and delved in. I 
also haven't included the whole configure output here as I'm writing this 
email from my old Linux box without a direct connection or email set up on 
the yet.  I'll include this tomorrow if required.

So, is x86-64 Linux supported by GDAL?  If not what are your thoughts on 
support for x86-64?  If yes, suggestions on what to tweak at my end would be 
very welcome.

Cheers,
Robert.





From nhv at cape.com  Sun Feb  8 18:18:51 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL + Linux x86-64 support?
In-Reply-To: <200402082301.54849.robert@openscenegraph.com>
Message-ID: <EKEJIKAILPONGGENMBGAIEJAGFAA.nhv@cape.com>

Robert Osfield writes:
> 
> I have just built myself a Althon64 based Suse9.0 64bit Linux box, and have 
> downloaded the cvs version of gdal and run ./configure, make but get the 
> error from make:
> 
> gdal>./configure
> ....  last line says..
> checking for MrSIDImage.h in /include... configure: error: not found.
> 
> gdal> make
> GNUmakefile:5: GDALmake.opt: No such file or directory

configure needs to run succesfully inorder for make to work.

Since you did not specifically request MrSid support configure
shouldn't be looking for any MrSid related files, however you can 
try rerunning the configure script explicitly setting the MrSid option off

by issuing the following commands

./configure  --with-mrsid=no
make

HTH

Norman

From alexamici at fastwebnet.it  Sun Feb  8 18:30:31 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL + Linux x86-64 support?
In-Reply-To: <200402082301.54849.robert@openscenegraph.com>
References: <200402082301.54849.robert@openscenegraph.com>
Message-ID: <200402090030.31474.alexamici@fastwebnet.it>

Robert,

On Monday 09 February 2004 00:01, Robert Osfield wrote:
> I have just built myself a Althon64 based Suse9.0 64bit Linux box, and have
> downloaded the cvs version of gdal and run ./configure, make but get the
> error from make:
>
> gdal>./configure
> ....  last line says..
> checking for MrSIDImage.h in /include... configure: error: not found.

mm... did you really run the configure script without any argument? it seem 
strange since mksid support is not enabled by default.
if you do enable it you need to supply the path to the mrsid dsdk (as per 
configure --help).
i wuold suggest not to enable it at first.

> gdal> make
> GNUmakefile:5: GDALmake.opt: No such file or directory

this is a consequence to the configure error above.

> I'm not a configure expert, so havn't rolled my sleeves up and delved in. I
> also haven't included the whole configure output here as I'm writing this
> email from my old Linux box without a direct connection or email set up on
> the yet.  I'll include this tomorrow if required.
>
> So, is x86-64 Linux supported by GDAL?  If not what are your thoughts on
> support for x86-64?  If yes, suggestions on what to tweak at my end would
> be very welcome.

AFAIK gdal itself is 64bit clean and i see no reason autoconf should not 
support the athlon64 out-of-the-box.
so, yes i think your system should be supported, but i haven't seen any report 
yet. if you succeed in building gdal please let us know.

cheers,
alessandro

From chen at yinyue123.com  Sun Feb  8 20:45:13 2004
From: chen at yinyue123.com (Fu Chen)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <SYLVANSERVERwhSKjXb0000001e@sylvanserver>
Message-ID: <HLENLPCAGDEHMNMNLIDJEEIGCAAA.chen@yinyue123.com>

I wanna build it on mobile phone, for example, NOKIA S40 series which only permit 64K program size for a J2ME size. We have to do reading and rendering in this little program, so unzip and xml parser will waste too much space.
A compact binary gis format is what i need I think. Is there a format already exist in the world meet my requirement? or I have to create one myself?

GPS are not widely used in Beijing which host the 2008 Olympic Games. But traffic management department have already set some equipments to test the flow on the road. What we try to do is broadcasting this information to drivers to help them make good route decision.

-----Original Message-----
From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Roger Bedell
Sent: Sunday, February 08, 2004 11:52 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Please suggest a vector format for wireless application


Can the GML be sent using compression? Also, for several years I've been
interested in a similar application, but the traffic routing is dynamically
determined in real time using feedback from the velocity and direction GPS
data from a large number of vehicles. Is anyone working on such a scheme?
I've called it the "Velocigram" but haven't had the time to work on it much.

Roger Bedell, President, Sylvan Ascent Inc.
roger@sylvanascent.com
505-758-7712
www.sylvanascent.com
www.pocketterra.com
 
 

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Fu Chen
Sent: Sunday, February 08, 2004 6:53 AM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Please suggest a vector format for wireless application

Hi!
I wanna create a simple application for traffic management department in my
city to broadcast the situation on the road. This application will help
driver make his best route and ease the trafic block.
The data is very simple, the most important  is main road's position, its
name,  and the situation on the road which can be some levels for example 0
for free road and 5 for total blocked road. Some other layers can be include
if the space permit. The mobile device will get the road map in once and
then contact the host for the realtime road situation in some time gap.
Now I must select a format for a space and bandwidth limited mobile device.
GML seems a good selection for  webgis. But it will waste a lot of bandwidth
to transport tag. Is there a simple compact binary format suite my design.
Hope some guru in this list will give me some suggestion.
Thank!!
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Feb  9 01:07:39 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Re: python arrays - one step further
In-Reply-To: <200402081037.02683.alexamici@fastwebnet.it>
References: <200402061510.12641.alexamici@fastwebnet.it> <200402061515.15265.alexamici@fastwebnet.it> <4023DC0D.4070300@pobox.com> <200402081037.02683.alexamici@fastwebnet.it>
Message-ID: <402723AB.2030603@pobox.com>

Alessandro Amici wrote:
> On Friday 06 February 2004 19:25, Frank Warmerdam wrote:
> 
>>I would suggest you go ahead and apply these changes, and let me know so I
>>can regenerate gdal_warp.c.
> 
> 
> done, please regenerate gdal_warp.c

Done


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jeff.hamann at forestinformatics.com  Mon Feb  9 02:24:28 2004
From: jeff.hamann at forestinformatics.com (Jeff D. Hamann)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
Message-ID: <008301c3eedd$ca75d990$0a00a8c0@rodan>

After installing FreeBSD 4.9 and downloading the latest versions of:

hdf (HDF4.2r0)
gdal (gdal-1.1.9)
grass (grass5.3) from cvs
proj (proj-4.4.7)

I went to build/install everything from scratch to read in ASTER L1B
images...

so here's what happend...

move into the hdf dir
./configure
gmake
su
gmake install

cd to gal-1.1.9
./configure --with-hdf4=/usr/local
gmake
su
gmake install

I wanted to have odbc support, so I installed the
unixODBC from /usr/ports...
cd /usr/ports/databases/unixODBC
make install

download the latest version of proj (4.4.7)
tar xvfz proj-4.4.7
cd proj-4.4.7
./configure
make
su
make install
exit

then cd to grass
./configure --with-includes=/usr/local/include \
--with-libs=/usr/local/lib \
--without-postgres \
--without-tcltk \
--without-fftw \
--with-proj

normally, grass build would assume the includes and libs were in
/usr/local/include and /usr/local/lib,

GRASS is now configured for i386-unknown-freebsd4.9
Build Mechanism: gmake
Source directory: /usr/home/hamannj/grass
Build directory: /usr/home/hamannj/grass
Installation directory: /usr/local/grass53
C compiler: gcc -g -O2
C++ compiler:
FORTRAN compiler: f77
NVIZ: no
X11 support: yes
JPEG support: yes
TIFF support: yes
PNG support: yes
Tcl/Tk support: no
PostgreSQL support: no
OpenGL(R) support: yes
SGI IRIS GL support: no
ODBC support: yes
FFTW support: no
BLAS support: no
LAPACK support: no
Motif support: no
FreeType support: no
GLw support: no
NLS support: no
Readline support: no
C++ support: no
External PROJ.4 support: yes
GDAL/OGR support: yes
$

make
make install
and everything went as I hoped it would...
I then started GRASS53, created a location and imported a coverage to
verify things were working. I then attempted to import the ASTER (HDF
format) using r.in.gdal and got the following results:

Mapset <PERMANENT> in Location <mcdunn-utm>
GRASS-GRID > r.in.gdal -o input=ast_l1b.hdf output=aster
ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
Abort trap (core dumped)
Mapset <PERMANENT> in Location <mcdunn-utm>
GRASS-GRID >


Lovely, now what after all that success in getting things to compile and
work?

Thanks,
Jeff.


---
Jeff D. Hamann
Forest Informatics, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
(office) 541-754-1428
(cell) 541-740-5988
jeff.hamann@forestinformatics.com
www.forestinformatics.com


From dron at ak4719.spb.edu  Mon Feb  9 03:23:47 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL + Linux x86-64 support?
In-Reply-To: <200402082301.54849.robert@openscenegraph.com>
References: <200402082301.54849.robert@openscenegraph.com>
Message-ID: <20040209082347.GB3794@ak4719.spb.edu>

On Sun, Feb 08, 2004 at 11:01:54PM +0000, Robert Osfield wrote:
> gdal>./configure
> ....  last line says..
> checking for MrSIDImage.h in /include... configure: error: not found.

Sorry, I have introduced this bug yesterday. Now fixed.

					Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From dron at ak4719.spb.edu  Mon Feb  9 03:33:10 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] ERROR 5: GDALDataset::GetRasterBand(1) - Illegal band #
In-Reply-To: <008301c3eedd$ca75d990$0a00a8c0@rodan>
References: <008301c3eedd$ca75d990$0a00a8c0@rodan>
Message-ID: <20040209083310.GC3794@ak4719.spb.edu>

On Sun, Feb 08, 2004 at 11:24:28PM -0800, Jeff D. Hamann wrote:
> Mapset <PERMANENT> in Location <mcdunn-utm>
> GRASS-GRID > r.in.gdal -o input=ast_l1b.hdf output=aster

HDF file is a container for several different subdatasets. You should
not use the file name on input, but the name of subdataset (as reported
by the gdalinfo utility). Read here for details:

 http://www.remotesensing.org/gdal/frmt_hdf4.html


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From schut at sarvision.com  Mon Feb  9 03:50:50 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] max number of simplesources in vrt rasterband?
In-Reply-To: <20040209060018.GA30034@thuille.itc.it>
References: <200402031804.22341.schut@sarvision.com> <200402051017.28229.schut@sarvision.com> <20040209060018.GA30034@thuille.itc.it>
Message-ID: <200402090950.51144.schut@sarvision.com>

CC-ing this to the list, as others might be interested and Frank might want to 
have a look at my described findings of a possible bug/feature regarding BIL 
header reading (see below).
FYI, this thread is about automatically bulk generation of 1) bil header files 
for srtm binary tiles, and 2) a srtm.vrt file that encompasses all these 
tiles and thus can be used as a generic height data coverage for the entire 
earth (if all data are available).

On Monday 09 February 2004 07:00, you wrote:
> Vincent,
>
> On Thu, Feb 05, 2004 at 10:17:27AM +0100, Vincent Schut wrote:
> > Markus,
> >
> > I am not entierly sure that mine are not shifted, however, they appear
> > quite OK when comparing with landsat and even Ikonos imagery.
>
> This sounds very good!
>
> > For generating the header file, I used the website
> > http://www.uweb.ucsb.edu/~nico/comp/bil_header.htm, but I changed the
> > corner coordinates to whole degrees instead of (degrees -/+ half a
> > pixelsize). That is because the srtm filename coordinates are said to be
> > the *center* of the UL pixel. GDAL uses *corners* of pixels for its
> > coordinates, and when checking the corners for a srtm/hdr file
> > combination made exactly according the website above, GDAL reports corner
> > coordinates that are shifted hafl a pixelsize. I don't know if it is an
> > error in GDAL reading .bil headers, or an error on that website. But
> > after removing the addition/subtraction of 0.0004166667 of the UL pixel
> > coordinates, gdalinfo imho reports the right corners: an overlap of
> > 0.0004166667 on each side of the whole degree lines, instead of
> > 0.000833333 on one side and none on the other.
>
> Maybe it were useful to bring up that issue on 'gdal' ML to be sure
> that BIL is read correctly.
[Frank and/or others that know more about gdal & bil, you might want to check 
the above mentioned.]
>
> > Attached you will find my python script that checks the current dir for
> > .hgt files, creates a .hdr file for them if there isn't one already, and
> > creates a file called srtm.vrt that contains all the srtm tiles found.
> > The srtm.vrt file is always of world size for script simplicity sake. Run
> > it in a directory with unzipped srtm data and you will end up with
> > srtm.vrt file that encompasses the entire world in latlong/wgs84
> > coordinates, and from which you can extract data very easily with
> > gdal_translate, e.g.: gdal_translate -projwin 116 0 117 -2 srtm.vrt
> > sungaiwain.srtm.tif to create a 16bit geotiff of 1 by 2 degrees of a
> > swamp forest / nature reserve called 'Sungai Wain' at the south-east of
> > Kalimantan (Borneo), Indonesia. That means, if you appear to have the
> > srtm tiles for that area. Otherwise you will get 0's, I guess...
> >
> > Also attached is my current srtm.vrt which is quite large because I
> > already have South America and the lower half of EurAsia included...
> >
> > I would appreciate your findings on the usefullness of the script and the
> > correctness of the placing of the srtm data. I am eager to hear! :-)
>
> I tried, but I got some unusual results:
>
> gdalinfo N53E007.bil
> Driver: EHdr/ESRI .hdr Labelled
> Size is 1201, 1201
> Coordinate System is '
> Origin = (52.999583,7.000417)
> Pixel Size = (0.00083333,-0.00083333)
> Corner Coordinates:
> Upper Left  (  52.9995833,   7.0004167)
> Lower Left  (  52.9995833,   5.9995833)
> Upper Right (  54.0004167,   7.0004167)
> Lower Right (  54.0004167,   5.9995833)
> Center      (  53.5000000,   6.5000000)
> Band 1 Block=1201x1 Type=Int16, ColorInterp=Undefined
>   NoData Value=-32768
>
> If I am not wrong, X and Y are flipped. The N53E007 map should
> cover Southern Germany. Am I missing something?

Right, my mistake. Flipped x and y coordinates in bil header writing. Mind 
though that this is of no influence on the usability of the final vrt file, 
as it uses pixel offsets instead of geographic coordinates, and these pixel 
offsets were calculated and written correctly.

A new version of the script with also another error fixed (you could not read 
the srtm.vrt file from outside the srtm directory due to missing directory 
prefixes in the xml descriptions) is attached.
>
> > I hope you find the script usefull. If so, and it appears correct, maybe
> > I should post it on the GDAL mailling list...
>
> Generally yes, but I would like to understand above problem :-)
>
> Thanks for your quick help!
Welcome!
>
>  Markus
>
> > Cheers,
> > Vincent.
> >
> > On Wednesday 04 February 2004 18:11, you wrote:
> > > Vincent,
> > >
> > > I'm a GDAL user and have written a script to generate the BIL
> > > header for the SRTM data.
> > > Would you mind to send me an example of your vrt files
> > > so that I can verify if my header is constructed correctly
> > > from the SRTM file name? I have the impression that "my" SRTM
> > > data are shifted.
> > >
> > > Thanks in advance
> > >
> > >  Markus Neteler
> > >
> > > On Tue, Feb 03, 2004 at 06:04:22PM +0100, Vincent Schut wrote:
> > > > Folks,
> > > >
> > > > I have a vrt file with approx. 1800 simplesource items (SRTM tiles).
> > > > Gdal always gives an error (with gdalinfo, gdal_translate, ...) for
> > > > the 1020th file in the vrt file. If I try to open this individual
> > > > raster file with gdal, everything goes fine. If I change the order of
> > > > the simplesources, the error still comes at the 1020th simplesource
> > > > (which is another raster file then) So I suspect there is a maximum
> > > > at the number of simplesources that can be defined in one vrt file?
> > > > If so, is it possible to enlarge this number?
> > > >
> > > > Cheers,
> > > > Vincent.

-- 
-----------------------------
 Vincent Schut
 SarVision B.V.
 Wageningen, The Netherlands
 www.sarvision.com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: srtm_create_vrt.py
Type: application/x-python
Size: 3251 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040209/92faad59/srtm_create_vrt.bin
From robert at openscenegraph.com  Mon Feb  9 06:07:22 2004
From: robert at openscenegraph.com (Robert Osfield)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GDAL + Linux x86-64 support?
In-Reply-To: <20040209082347.GB3794@ak4719.spb.edu>
References: <200402082301.54849.robert@openscenegraph.com> <20040209082347.GB3794@ak4719.spb.edu>
Message-ID: <200402091107.22487.robert@openscenegraph.com>

On Monday 09 February 2004 08:23, Andrey Kiselev wrote:
> On Sun, Feb 08, 2004 at 11:01:54PM +0000, Robert Osfield wrote:
> > gdal>./configure
> > ....  last line says..
> > checking for MrSIDImage.h in /include... configure: error: not found.
>
> Sorry, I have introduced this bug yesterday. Now fixed.

Thanks, with a cvs update the ./configure and make all work cleanly.

Cheers,
Robert.

From chris at fonnesbeck.org  Mon Feb  9 09:29:08 2004
From: chris at fonnesbeck.org (Christopher Fonnesbeck)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
Message-ID: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org>

I have a nice vegetation dynamics simulation model written in python 
that needs to access spatial data for the modelling of disturbances, 
such as floods. I have been trying unsuccessfully to interface with 
GRASS, and so am turning to other options. I was hoping OGR python 
would work, as all that I need to do is locate the nearest stream 
segment to the disturbance, then route the disturbance down the 
network. I'm hoping that someone who is experienced with OGR python can 
provide some advice as to whether this is worth pursuing.

Thanks,
Chris
--
Christopher J. Fonnesbeck ( c h r i s @ f o n n e s b e c k . o r g )
Georgia Cooperative Fish & Wildlife Research Unit, University of Georgia


From warmerdam at pobox.com  Mon Feb  9 09:44:04 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org>
References: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org>
Message-ID: <40279CB4.7060107@pobox.com>

Christopher Fonnesbeck wrote:
> I have a nice vegetation dynamics simulation model written in python 
> that needs to access spatial data for the modelling of disturbances, 
> such as floods. I have been trying unsuccessfully to interface with 
> GRASS, and so am turning to other options. I was hoping OGR python would 
> work, as all that I need to do is locate the nearest stream segment to 
> the disturbance, then route the disturbance down the network. I'm hoping 
> that someone who is experienced with OGR python can provide some advice 
> as to whether this is worth pursuing.

Chris,

The OGR Python interface would be fine for accessing stream vectors in any
OGR supported format (which does not include GRASS at this time).  However,
OGR has no mechanism for finding the nearest feature to a point, or for
computing the distance betweena feature and a point.  So you would end up
having to do this yourself in python which could be kind of computationally
expensive.

One slightly exotic solution to your problem might be to keep your network
data in PostGIS and then use the PostGIS primitives (based on GEOS) to find
the nearest geometry.  You could use access postgis via OGR's PostGIS driver
or do the operations directly from Python using ODBC and then use a python
package to parse the results from PostGIS.  You can request results in WKT
for instance.  You could use OGR to parse the WKT geometry but there is also
another "pure python" module available now that understands OGC geometry
formats that might be even simpler.

   http://postgis.refractions.net/

If you go with a straight OGR solution and some simple format like shapefiles,
you will be stuck doing all the distance computations yourself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From chris at fonnesbeck.org  Mon Feb  9 10:01:34 2004
From: chris at fonnesbeck.org (Christopher Fonnesbeck)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <40279CB4.7060107@pobox.com>
References: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org> <40279CB4.7060107@pobox.com>
Message-ID: <D9FA9B4E-5B10-11D8-A63F-000A956FDAC0@fonnesbeck.org>

On Feb 9, 2004, at 9:44 AM, Frank Warmerdam wrote:
>
> The OGR Python interface would be fine for accessing stream vectors in 
> any
> OGR supported format (which does not include GRASS at this time).  
> However,
> OGR has no mechanism for finding the nearest feature to a point, or for
> computing the distance betweena feature and a point.  So you would end 
> up
> having to do this yourself in python which could be kind of 
> computationally
> expensive.

Thanks for the advice! What if I had a polygon coverage with affected 
polygons instead; could those then be intersected with a stream 
coverage, or is that outside of OGR's realm?

Is there documentation/examples of how OGR handles line features like 
stream networks?

>
> One slightly exotic solution to your problem might be to keep your 
> network
> data in PostGIS and then use the PostGIS primitives (based on GEOS) to 
> find
> the nearest geometry.  You could use access postgis via OGR's PostGIS 
> driver
> or do the operations directly from Python using ODBC and then use a 
> python
> package to parse the results from PostGIS.  You can request results in 
> WKT
> for instance.  You could use OGR to parse the WKT geometry but there 
> is also
> another "pure python" module available now that understands OGC 
> geometry
> formats that might be even simpler.
>

I presently use MySQL for all my GIS databasing, and version 4 now 
supports storage of spatial features. Is there a mysql driver for OGR?

Thanks again,
Chris

--
Christopher J. Fonnesbeck ( c h r i s @ f o n n e s b e c k . o r g )
Georgia Cooperative Fish & Wildlife Research Unit, University of Georgia


From warmerdam at pobox.com  Mon Feb  9 10:08:21 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <HLENLPCAGDEHMNMNLIDJIEIECAAA.chen@yinyue123.com>
References: <HLENLPCAGDEHMNMNLIDJIEIECAAA.chen@yinyue123.com>
Message-ID: <4027A265.7020909@pobox.com>

Fu Chen wrote:
> Hi!
> I wanna create a simple application for traffic management department in my city to broadcast the situation on the road. This application will help driver make his best route and ease the trafic block.
> The data is very simple, the most important  is main road's position, its name,  and the situation on the road which can be some levels for example 0 for free road and 5 for total blocked road. Some other layers can be include if the space permit. The mobile device will get the road map in once and then contact the host for the realtime road situation in some time gap.
> Now I must select a format for a space and bandwidth limited mobile device.  GML seems a good selection for  webgis. But it will waste a lot of bandwidth to transport tag. Is there a simple compact binary format suite my design.
> Hope some guru in this list will give me some suggestion.
> Thank!!

Fu Chen,

Given your very tight memory constraints, I would suggest rolling your own
format that is tuned to the precision and data you need and in a form that
is simpliest to parse and display on the client end.

Wow, 64K memory limit.  It's been a while since I considered such memory
constrained platforms.   Are you sure it wouldn't be better just sending a
pre-rendered graphic instead of raw gis data to the client?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb  9 13:03:06 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <D9FA9B4E-5B10-11D8-A63F-000A956FDAC0@fonnesbeck.org>
References: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org> <40279CB4.7060107@pobox.com> <D9FA9B4E-5B10-11D8-A63F-000A956FDAC0@fonnesbeck.org>
Message-ID: <4027CB5A.3070205@pobox.com>

Christopher Fonnesbeck wrote:
> Thanks for the advice! What if I had a polygon coverage with affected 
> polygons instead; could those then be intersected with a stream 
> coverage, or is that outside of OGR's realm?

Chris,

OGR does not support much in the way of geometry intersection operations.
What it does offer is a bounding box spatial filtering.  That is, a
rectangular bounding box can be set as a spatial filter, and then when
you iterate through the features, only those intersecting that bounding
box will be returned.

For the time being I have tried to leave complex geometry operations to
packages like GEOS though I do hope to incorporate their use into
OGR at some point.

> Is there documentation/examples of how OGR handles line features like 
> stream networks?

There is substantial documentation on the C/C++ interface to OGR ... less
on the python interface. I can provide a small sample script that would
read lines from a data source, and print out the set of vertices if you
need it.

> I presently use MySQL for all my GIS databasing, and version 4 now 
> supports storage of spatial features. Is there a mysql driver for OGR?

I am not all that familar with the new spatial features in MySQL.  I am
not convinced it includes rigerous geometry operations though.  There is
not any direct support for the new MySQL geometry types in OGR though I hope
to incorporate that at some point, possibly layered on the existing ODBC
driver in OGR which I have been using for MySQL based applications so far.

I'm sorry I don't have a more cut-and-dried solution for you.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From cgn at globexplorer.com  Mon Feb  9 13:24:42 2004
From: cgn at globexplorer.com (Chris G. Nicholas)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
Message-ID: <71E37EF6B7DCC1499CEA0316A256832801472DBD@loki.wc.globexplorer.net>


folks might want to look at the new GEOS functionality in PostGIS, that includes buffering, intersect, union, etc.

seems to work beautifully...

Chris Nicholas
GlobeXplorer

-----Original Message-----
From:	Frank Warmerdam [mailto:warmerdam@pobox.com]
Sent:	Mon 2/9/2004 10:03 AM
To:	gdal-dev@remotesensing.org
Cc:	
Subject:	Re: [Gdal-dev] Using OGR Python to analyse stream layers
Christopher Fonnesbeck wrote:
> Thanks for the advice! What if I had a polygon coverage with affected 
> polygons instead; could those then be intersected with a stream 
> coverage, or is that outside of OGR's realm?

Chris,

OGR does not support much in the way of geometry intersection operations.
What it does offer is a bounding box spatial filtering.  That is, a
rectangular bounding box can be set as a spatial filter, and then when
you iterate through the features, only those intersecting that bounding
box will be returned.

For the time being I have tried to leave complex geometry operations to
packages like GEOS though I do hope to incorporate their use into
OGR at some point.

> Is there documentation/examples of how OGR handles line features like 
> stream networks?

There is substantial documentation on the C/C++ interface to OGR ... less
on the python interface. I can provide a small sample script that would
read lines from a data source, and print out the set of vertices if you
need it.

> I presently use MySQL for all my GIS databasing, and version 4 now 
> supports storage of spatial features. Is there a mysql driver for OGR?

I am not all that familar with the new spatial features in MySQL.  I am
not convinced it includes rigerous geometry operations though.  There is
not any direct support for the new MySQL geometry types in OGR though I hope
to incorporate that at some point, possibly layered on the existing ODBC
driver in OGR which I have been using for MySQL based applications so far.

I'm sorry I don't have a more cut-and-dried solution for you.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev





From sgillies at frii.com  Mon Feb  9 13:40:10 2004
From: sgillies at frii.com (Sean Gillies)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <71E37EF6B7DCC1499CEA0316A256832801472DBD@loki.wc.globexplorer.net>
References: <71E37EF6B7DCC1499CEA0316A256832801472DBD@loki.wc.globexplorer.net>
Message-ID: <639B99C6-5B2F-11D8-8626-000393B98B56@frii.com>

Not to drag this thread further off course, but what we _really_ need
is a Python interface to GEOS using Boost.  I'm way too busy to lead
this right now, but could help.  The Boost docs make it seem like a
not-too difficult project.

cheers,
Sean

On Feb 9, 2004, at 11:24 AM, Chris G. Nicholas wrote:

>
>
> folks might want to look at the new GEOS functionality in PostGIS,  
> that includes buffering, intersect, union, etc.
>
> seems to work beautifully...
>
> Chris Nicholas
> GlobeXplorer
>
> -----Original Message-----
> From:	Frank Warmerdam [mailto:warmerdam@pobox.com]
> Sent:	Mon 2/9/2004 10:03 AM
> To:	gdal-dev@remotesensing.org
> Cc:	
> Subject:	Re: [Gdal-dev] Using OGR Python to analyse stream layers
> Christopher Fonnesbeck wrote:
>> Thanks for the advice! What if I had a polygon coverage with affected
>> polygons instead; could those then be intersected with a stream
>> coverage, or is that outside of OGR's realm?
>
> Chris,
>
> OGR does not support much in the way of geometry intersection  
> operations.
> What it does offer is a bounding box spatial filtering.  That is, a
> rectangular bounding box can be set as a spatial filter, and then when
> you iterate through the features, only those intersecting that bounding
> box will be returned.
>
> For the time being I have tried to leave complex geometry operations to
> packages like GEOS though I do hope to incorporate their use into
> OGR at some point.
>
>> Is there documentation/examples of how OGR handles line features like
>> stream networks?
>
> There is substantial documentation on the C/C++ interface to OGR ...  
> less
> on the python interface. I can provide a small sample script that would
> read lines from a data source, and print out the set of vertices if you
> need it.
>
>> I presently use MySQL for all my GIS databasing, and version 4 now
>> supports storage of spatial features. Is there a mysql driver for OGR?
>
> I am not all that familar with the new spatial features in MySQL.  I am
> not convinced it includes rigerous geometry operations though.  There  
> is
> not any direct support for the new MySQL geometry types in OGR though  
> I hope
> to incorporate that at some point, possibly layered on the existing  
> ODBC
> driver in OGR which I have been using for MySQL based applications so  
> far.
>
> I'm sorry I don't have a more cut-and-dried solution for you.
>
> Best regards,
>
> --  
> --------------------------------------- 
> +--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,  
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>
>
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>
>
--
Sean Gillies
sgillies at frii dot com
http://users.frii.com/sgillies


From TMitchell at lignum.com  Mon Feb  9 17:40:27 2004
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <HLENLPCAGDEHMNMNLIDJEEIGCAAA.chen@yinyue123.com>
Message-ID: <OF1D84B9AE.A886B124-ON88256E35.007C48E6-88256E35.007C8D56@lignum.com>

> I wanna build it on mobile phone, for example, NOKIA S40 series 
> which only permit 64K program size for a J2ME size. We have to do 
> reading and rendering in this little program, so unzip and xml 
> parser will waste too much space.
> A compact binary gis format is what i need I think. Is there a 
> format already exist in the world meet my requirement? or I have to 
> create one myself?

I'd just used a basic comma delimited format.  Depending on the size and 
type of data you are transmitting, I assume this would be smallest.  If 
you are using j2me, perhaps there is a java specific data type that you 
could use instead of basic text.  I'm not familiar with the inner workings 
of j2me, but I've seen other languages that use XML to encoded and 
transmit objects (i.e. XML-RPC).  If you could have j2me receive such 
transmissions, that'd be the way I'd go.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040209/9a8b3bcd/attachment.html
From TMitchell at lignum.com  Mon Feb  9 17:43:09 2004
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <639B99C6-5B2F-11D8-8626-000393B98B56@frii.com>
Message-ID: <OF1CD8126B.D36C47F4-ON88256E35.007CC923-88256E35.007CCCB6@lignum.com>

What is boost?

gdal-dev-admin@remotesensing.org wrote on 02/09/2004 10:40:10 AM:

> Not to drag this thread further off course, but what we _really_ need
> is a Python interface to GEOS using Boost.  I'm way too busy to lead
> this right now, but could help.  The Boost docs make it seem like a
> not-too difficult project.
> 
> cheers,
> Sean
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040209/983fbb8f/attachment.html
From chris at fonnesbeck.org  Mon Feb  9 17:57:16 2004
From: chris at fonnesbeck.org (Christopher Fonnesbeck)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <OF1CD8126B.D36C47F4-ON88256E35.007CC923-88256E35.007CCCB6@lignum.com>
References: <OF1CD8126B.D36C47F4-ON88256E35.007CC923-88256E35.007CCCB6@lignum.com>
Message-ID: <4E486810-5B53-11D8-A63F-000A956FDAC0@fonnesbeck.org>


On Feb 9, 2004, at 5:43 PM, Tyler Mitchell wrote:

>
> What is boost?
>
>

A package for building python modules using C++:

http://www.boost.org/libs/python/doc/

C.
--
Christopher J. Fonnesbeck ( c h r i s @ f o n n e s b e c k . o r g )
Georgia Cooperative Fish & Wildlife Research Unit, University of Georgia
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 359 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040209/c52224e6/attachment.bin
From chris at fonnesbeck.org  Mon Feb  9 18:29:18 2004
From: chris at fonnesbeck.org (Christopher Fonnesbeck)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <4027CB5A.3070205@pobox.com>
References: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org> <40279CB4.7060107@pobox.com> <D9FA9B4E-5B10-11D8-A63F-000A956FDAC0@fonnesbeck.org> <4027CB5A.3070205@pobox.com>
Message-ID: <C7D0A2DE-5B57-11D8-A63F-000A956FDAC0@fonnesbeck.org>

On Feb 9, 2004, at 1:03 PM, Frank Warmerdam wrote:

> OGR does not support much in the way of geometry intersection 
> operations.
> What it does offer is a bounding box spatial filtering.  That is, a
> rectangular bounding box can be set as a spatial filter, and then when
> you iterate through the features, only those intersecting that bounding
> box will be returned.

What about the Intersect method within the Geometry class? Does that 
use a bounding box, or is it a true intersection?

C.
--
Christopher J. Fonnesbeck ( c h r i s @ f o n n e s b e c k . o r g )
Georgia Cooperative Fish & Wildlife Research Unit, University of Georgia


From warmerdam at pobox.com  Tue Feb 10 02:27:31 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Using OGR Python to analyse stream layers
In-Reply-To: <C7D0A2DE-5B57-11D8-A63F-000A956FDAC0@fonnesbeck.org>
References: <51F333BE-5B0C-11D8-A63F-000A956FDAC0@fonnesbeck.org> <40279CB4.7060107@pobox.com> <D9FA9B4E-5B10-11D8-A63F-000A956FDAC0@fonnesbeck.org> <4027CB5A.3070205@pobox.com> <C7D0A2DE-5B57-11D8-A63F-000A956FDAC0@fonnesbeck.org>
Message-ID: <402887E3.5080709@pobox.com>

Christopher Fonnesbeck wrote:
> 
> On Feb 9, 2004, at 1:03 PM, Frank Warmerdam wrote:
> 
>> OGR does not support much in the way of geometry intersection operations.
>> What it does offer is a bounding box spatial filtering.  That is, a
>> rectangular bounding box can be set as a spatial filter, and then when
>> you iterate through the features, only those intersecting that bounding
>> box will be returned.
> 
> 
> What about the Intersect method within the Geometry class? Does that use 
> a bounding box, or is it a true intersection?

Chris,

Currently it is implemented as a simple bounding box intersection.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From MChapman at sanz.com  Tue Feb 10 02:48:00 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] .bil
Message-ID: <ED3A48B9840E594890A2BC172D119465F292C1@mailman.san.com>

Does anyone know of a driver for .bil files?  Does gdal support them?
 
Martin Chapman
Cell 303-885-1936
Office 303-660-3933 x226
mchapman@sanz.com
http://www.sanz.com <http://www.sanz.com/> 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040210/699ccd04/attachment.html
From warmerdam at pobox.com  Tue Feb 10 02:59:06 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] .bil
In-Reply-To: <ED3A48B9840E594890A2BC172D119465F292C1@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D119465F292C1@mailman.san.com>
Message-ID: <40288F4A.5060804@pobox.com>

Chapman, Martin wrote:
> Does anyone know of a driver for .bil files?  Does gdal support them?
>  
> Martin Chapman
> Cell 303-885-1936
> Office 303-660-3933 x226
> mchapman@sanz.com <mailto:mchapman@sanz.com>
> http://www.sanz.com <http://www.sanz.com/>

Martin,

By .bil do you mean any raw binary file interleaved by lines or specifically
ESRI .HDR labelled .bil?  GDAL has a driver for ESRI .bil files with a .hdr
file associated.  See the EHDR driver unsupported formats.  To open such a
file just select the .bil file and the .hdr file should be found automatically.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From MChapman at sanz.com  Tue Feb 10 03:08:14 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] .bil
Message-ID: <ED3A48B9840E594890A2BC172D119465F292C2@mailman.san.com>

That's exactly what I need.  I'll look into it further.  Gdal rocks! 

Thanks,
Martin

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Tuesday, February 10, 2004 12:59 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] .bil


Chapman, Martin wrote:
> Does anyone know of a driver for .bil files?  Does gdal support them?
>  
> Martin Chapman
> Cell 303-885-1936
> Office 303-660-3933 x226
> mchapman@sanz.com <mailto:mchapman@sanz.com> http://www.sanz.com 
> <http://www.sanz.com/>

Martin,

By .bil do you mean any raw binary file interleaved by lines or
specifically ESRI .HDR labelled .bil?  GDAL has a driver for ESRI .bil
files with a .hdr file associated.  See the EHDR driver unsupported
formats.  To open such a file just select the .bil file and the .hdr
file should be found automatically.

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From schut at sarvision.com  Tue Feb 10 03:16:37 2004
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] .bil
In-Reply-To: <ED3A48B9840E594890A2BC172D119465F292C1@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D119465F292C1@mailman.san.com>
Message-ID: <200402100916.37654.schut@sarvision.com>

On Tuesday 10 February 2004 08:48, Chapman, Martin wrote:
> Does anyone know of a driver for .bil files?  Does gdal support them?
It does.
a .bil file should have a .hdr file, which is a simple text header file 
describing things like corner coordinates and image size. If you specify 
a .bil file for use with gdal (like gdalinfo foo.bil) it will automatically 
use this header file.

Cheers,
Vincent.
>
> Martin Chapman
> Cell 303-885-1936
> Office 303-660-3933 x226
> mchapman@sanz.com
> http://www.sanz.com <http://www.sanz.com/>

-- 
-----------------------------
 Vincent Schut
 SarVision B.V.
 Wageningen, The Netherlands
 www.sarvision.com

From Fulko.vanWestrenen at dto.tudelft.nl  Tue Feb 10 10:30:23 2004
From: Fulko.vanWestrenen at dto.tudelft.nl (Fulko van Westrenen)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
Message-ID: <20040210163023.A30262@lina.dto.tudelft.nl>

Hello,


I upgraded my system, and after the upgrade my Python program using 
gdal does not work anymore (what's new... :)

The old system was Debian Woody, with gdal 1.1.9 on Python 2.2. 
The new one is Debian Sarge/testing, with gdal 1.2+cvs.031111-1 on 
Python 2.3. I rolled the 1.1.9 package myself, the 1.2+cvs.031111-1 
is prebuild.

The error message is:
Traceback (most recent call last):
  File "./try37n.gtk.py", line 2887, in ?
    main()
  File "./try37n.gtk.py", line 2645, in main
    load_map()
  File "./try37n.gtk.py", line 569, in load_map
    bouyslat=load_objects(dataset,'BOYLAT')
  File "./try37n.gtk.py", line 511, in load_objects
    objects=dataset.GetLayerByName( name )
  File "/usr/lib/python2.3/site-packages/ogr.py", line 286, in GetLayerByName
    raise IndexError, 'No layer %s on datasource' % name 
IndexError: No layer BOYLAT on datasource

The offending code (snippets):
import osr
import ogr
...
(def load_map())
infile='./US5TX51M.000'
dataset = ogr.Open( infile )
bouyslat=load_objects(dataset,'BOYLAT')
...
(def load_objects())
objects=dataset.GetLayerByName( name )



GetLayerCount() reports 4 layers, there should be 57(?)

Downgrading is not an option. Does anyone have an idea what is wrong?

Thanks,

Fulko

-- 
Fulko van Westrenen
Fulko.vanWestrenen@DTO.TUDelft.NL


From warmerdam at pobox.com  Tue Feb 10 10:52:03 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <20040210163023.A30262@lina.dto.tudelft.nl>
References: <20040210163023.A30262@lina.dto.tudelft.nl>
Message-ID: <4028FE23.90101@pobox.com>

Fulko van Westrenen wrote:
> IndexError: No layer BOYLAT on datasource
> 
...
> GetLayerCount() reports 4 layers, there should be 57(?)
> 
> Downgrading is not an option. Does anyone have an idea what is wrong?

Fulko,

The problem is that the S-57 reader can't find the S-57 .csv files such as
s57objectclasses.csv.   Normally these would be installed in
/usr/local/share/gdal, are they on your system?

In any event, you can likely get things working by setting the GDAL_DATA
environment variable to point to the directory with the .csv files in it.
When they aren't found the S-57 driver just makes layers from the object
based on their geometry class instead of by object class.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From Silke.Reimer at intevation.de  Tue Feb 10 11:26:54 2004
From: Silke.Reimer at intevation.de (Silke Reimer)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <4028FE23.90101@pobox.com>
References: <20040210163023.A30262@lina.dto.tudelft.nl> <4028FE23.90101@pobox.com>
Message-ID: <20040210162654.GA7586@intevation.de>


On Tue, Feb 10, 2004 at 10:52:03AM -0500, Frank Warmerdam wrote:
> Fulko van Westrenen wrote:
> >IndexError: No layer BOYLAT on datasource
> >
> ...
> >GetLayerCount() reports 4 layers, there should be 57(?)
> >
> >Downgrading is not an option. Does anyone have an idea what is wrong?
> 
> Fulko,
> 
> The problem is that the S-57 reader can't find the S-57 .csv files such as
> s57objectclasses.csv.   Normally these would be installed in
> /usr/local/share/gdal, are they on your system?

Being the debian maintainer of gdal I checked whether
s57objectclasses.csv is in the corresponding packages. It is indeed
included in libgdal1_1.2+cvs.031111-1_i386.deb but will be located
in /usr/share/gdal after installation. Am I right, that libgdal1 is
installed on your system as well.

In this case this seems to be a bug in my package. Could you then
please file a bug? I will provide a new release to fix the bug as
soon as possible. 

Frank, is it possible, that the function  CPLFinderInit in
port/cpl_findfile.cpp is responsible for  the searchpaths to finding
the right file? In this case $prefix/share/gdal should be added to
the FinderLocations or am I completely wrong? I don't know the code
too well.

Greetings,

	Silke

BTW: Is there any plan to release gdal 1.2.0? I am not too glad with
the CVS-version of gdal in debian. An official stable release would
be much better.

> 
> In any event, you can likely get things working by setting the GDAL_DATA
> environment variable to point to the directory with the .csv files in it.
> When they aren't found the S-57 driver just makes layers from the object
> based on their geometry class instead of by object class.
> 
> Best regards,
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev

-- 
Silke Reimer

Intevation GmbH                      http://intevation.de/
FreeGIS                                http://freegis.org/

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040210/7d8a84b8/attachment.bin
From alexamici at fastwebnet.it  Tue Feb 10 11:34:21 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <4028FE23.90101@pobox.com>
References: <20040210163023.A30262@lina.dto.tudelft.nl> <4028FE23.90101@pobox.com>
Message-ID: <200402101734.21537.alexamici@fastwebnet.it>

On Tuesday 10 February 2004 16:52, Frank Warmerdam wrote:
> Fulko van Westrenen wrote:
> > IndexError: No layer BOYLAT on datasource
>
> ...
>
> > GetLayerCount() reports 4 layers, there should be 57(?)
> >
> > Downgrading is not an option. Does anyone have an idea what is wrong?
>
> Fulko,
>
> The problem is that the S-57 reader can't find the S-57 .csv files such as
> s57objectclasses.csv.   Normally these would be installed in
> /usr/local/share/gdal, are they on your system?
>
> In any event, you can likely get things working by setting the GDAL_DATA
> environment variable to point to the directory with the .csv files in it.
> When they aren't found the S-57 driver just makes layers from the object
> based on their geometry class instead of by object class.


Frank, might it be that the /usr/local prefix is hardcoded somewhere?

the debian package is compiled with --prefix=/usr, i'm investigating...

cheers,
alessandro

From warmerdam at pobox.com  Tue Feb 10 11:49:00 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <20040210162654.GA7586@intevation.de>
References: <20040210163023.A30262@lina.dto.tudelft.nl> <4028FE23.90101@pobox.com> <20040210162654.GA7586@intevation.de>
Message-ID: <40290B7C.7020202@pobox.com>

Silke Reimer wrote:
> Frank, is it possible, that the function  CPLFinderInit in
> port/cpl_findfile.cpp is responsible for  the searchpaths to finding
> the right file? In this case $prefix/share/gdal should be added to
> the FinderLocations or am I completely wrong? I don't know the code
> too well.

Silke (and Alessandro),

While cpl_findfile.cpp does have a hardcoded /usr/local/share/gdal, the
"real" place this is setup is the OGRSFDriverRegistrar constructor
which pushes an install location derived ultimately from the --prefix.
The GDALDriverManager constructor also does something similar.

The handling of this is based on the INST_DATA macro being defined at
compile time for the modules in question (ogrsfdriverregistrar.cpp and
gdaldrivermanager.cpp). Now that I do a quick test it seems that
INST_DATA is defined for gdaldrivermanager.cpp, but not for
ogrsfdriverregistrar.cpp.  That may be why OGR applications have trouble
finding their supporting files in some situations.   I have fixed this in
the gdal/ogr/ogrsf_frmts/generic/GNUmakefile.

I would add, for applications using GDAL, the data path can be set
with CPLSetConfigOption() to override built-in information.  When I used
to prepare my own Linux installable builds, I actually used the stuff
in gdal/dist_docs.  That install script would actually "burn in" a
location for the data files in the shared library at install time.

> BTW: Is there any plan to release gdal 1.2.0? I am not too glad with
> the CVS-version of gdal in debian. An official stable release would
> be much better.

I would like to have some comfort level that the libtool stuff is working
smoothly before proceeding with a 1.2.0 release.  Amoung other things I would
like to verify on a variety of platforms (I have some troubling reports from
UMN about Solaris builds), and to ensure that the configure scripts of some
major packages using GDAL will be ready for 1.2.0 naming conventions and
such (notably I GRASS and MapServer).

There are also a variety of outstanding bug reports that really should be
considered before a new "stable" release.

However, all that said, I still do hope to have a 1.2.0 release in the fairly
near future.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dem at acri-st.fr  Tue Feb 10 11:59:07 2004
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] NetCDF on Windows
In-Reply-To: <4002DF79.3000403@pobox.com>
References: <5.2.0.9.2.20040112102553.020521f0@hobu.mail.iastate.edu>
 <5.2.0.9.2.20040112102553.020521f0@hobu.mail.iastate.edu>
Message-ID: <5.0.2.1.2.20040210174204.00a85e88@192.168.0.6>

Hi,

I have also compiled and tested netCDF (static library version) support for 
GDAL on Windows using MSVC++ 6.

Next the instructions to compile and use the static netcdf library from 
official netCDF sources, if this can help some people... :

1) download and extract the official netcdf (3.5.0) sources archive

2) download and extract in the extracted NETCDF_DIR\src directory this 
archive 
ftp://ftp.unidata.ucar.edu/pub/netcdf/contrib/win32/netcdf-3.5.0.win32makeVC6.ZIP

3) cd NETCDF_DIR\src\libsrc

4) I have modified the compile options in msofts.mak (to be compatible with 
my others libraries (gdal, openev, ...)) :
         COPT=   /nologo /Ox /MD

5) nmake /f msofts.mak

6) copy netcdfs.lib in your NETCDF_INSTALLDIR\lib directory
     copy netcdf.H in your NETCDF_INSTALLDIR\include directory


I have also tested it under Solaris 5.7 (with gcc3.3.2 using sun LD).



Julien


At 12:55 12/01/2004 -0500, Frank Warmerdam wrote:
>Howard Butler wrote:
>>List,
>>I am please to report that I was able to compile NetCDF support for GDAL 
>>using the windows binary that I found on 
>>ftp://gmt.soest.hawaii.edu/pub/gmt/ that included a dll and .lib file.
>>Once compiled, however, I am unable to see the NetCDF driver listed when 
>>I print the drivers list using Python.  What other compiler symbols do I 
>>need to set to ensure that the driver built?
>
>Howard,
>
>Excellent work, but the magic you are missing is changes to frmts/makefile.vc
>to define FRMT_netcdf when building gdalallregister.cpp.  I have committed
>the required changes to nmake.opt, frmts/makefile.vc, and 
>frmts/netcdf/makefile.vc
>so that netcdf can now be built on windows.  I have done some minimal testing
>to verify that it works properly with the netcdf sdk you referenced.
>
>Note, I had to do a "chmod a+x" on the netcdf.dll when running from within the
>Cygwin environment. I don't know if this is an artifact of cgywin or what.
>
>Best regards,
>
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev



From Fulko.vanWestrenen at dto.tudelft.nl  Tue Feb 10 12:05:11 2004
From: Fulko.vanWestrenen at dto.tudelft.nl (Fulko van Westrenen)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <40290B7C.7020202@pobox.com>; from warmerdam@pobox.com on Tue, Feb 10, 2004 at 11:49:00AM -0500
References: <20040210163023.A30262@lina.dto.tudelft.nl> <4028FE23.90101@pobox.com> <20040210162654.GA7586@intevation.de> <40290B7C.7020202@pobox.com>
Message-ID: <20040210180511.A30492@lina.dto.tudelft.nl>

On Tue, Feb 10, 2004 at 11:49:00AM -0500, Frank Warmerdam wrote:
  
> In any event, you can likely get things working by setting the GDAL_DATA
> environment variable to point to the directory with the .csv files in it.
> When they aren't found the S-57 driver just makes layers from the object
> based on their geometry class instead of by object class.

Hello Frank (and all the others),

Setting GDAL_DATA to /usr/share/gdal worked!

Thanks,
Fulko

-- 
Fulko van Westrenen
Fulko.vanWestrenen@DTO.TUDelft.NL


From alexamici at fastwebnet.it  Tue Feb 10 12:07:51 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <40290B7C.7020202@pobox.com>
References: <20040210163023.A30262@lina.dto.tudelft.nl> <20040210162654.GA7586@intevation.de> <40290B7C.7020202@pobox.com>
Message-ID: <200402101807.51038.alexamici@fastwebnet.it>

Frank,

> > BTW: Is there any plan to release gdal 1.2.0? I am not too glad with
> > the CVS-version of gdal in debian. An official stable release would
> > be much better.
>
> I would like to have some comfort level that the libtool stuff is working
> smoothly before proceeding with a 1.2.0 release.  Amoung other things I
> would like to verify on a variety of platforms (I have some troubling
> reports from UMN about Solaris builds), and to ensure that the configure
> scripts of some major packages using GDAL will be ready for 1.2.0 naming
> conventions and such (notably I GRASS and MapServer).

the only libtool-related problem i'm aware of is that the kakadu driver 
doesn't build (and i have no clue on how to fix it).

if you give me more details i might try to get access to a solaris box.

> There are also a variety of outstanding bug reports that really should be
> considered before a new "stable" release.
>
> However, all that said, I still do hope to have a 1.2.0 release in the
> fairly near future.

that wuold be really nice :)

cheers,
alessandro

From Silke.Reimer at intevation.de  Tue Feb 10 12:55:57 2004
From: Silke.Reimer at intevation.de (Silke Reimer)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] problem with new pyton-gdal
In-Reply-To: <40290B7C.7020202@pobox.com>
References: <20040210163023.A30262@lina.dto.tudelft.nl> <4028FE23.90101@pobox.com> <20040210162654.GA7586@intevation.de> <40290B7C.7020202@pobox.com>
Message-ID: <20040210175557.GD7586@intevation.de>


On Tue, Feb 10, 2004 at 11:49:00AM -0500, Frank Warmerdam wrote:
> Silke Reimer wrote:
> >Frank, is it possible, that the function  CPLFinderInit in
> >port/cpl_findfile.cpp is responsible for  the searchpaths to finding
> >the right file? In this case $prefix/share/gdal should be added to
> >the FinderLocations or am I completely wrong? I don't know the code
> >too well.
> 
> Silke (and Alessandro),
> 
> While cpl_findfile.cpp does have a hardcoded /usr/local/share/gdal, the
> "real" place this is setup is the OGRSFDriverRegistrar constructor
> which pushes an install location derived ultimately from the --prefix.
> The GDALDriverManager constructor also does something similar.
> 
> The handling of this is based on the INST_DATA macro being defined at
> compile time for the modules in question (ogrsfdriverregistrar.cpp and
> gdaldrivermanager.cpp). Now that I do a quick test it seems that
> INST_DATA is defined for gdaldrivermanager.cpp, but not for
> ogrsfdriverregistrar.cpp.  That may be why OGR applications have trouble
> finding their supporting files in some situations.   I have fixed this in
> the gdal/ogr/ogrsf_frmts/generic/GNUmakefile.

OK. I will apply the changes to the cvs-version from 11.11.2003 and
release a new debian package (hopefully tomorrow). 

> 
> I would add, for applications using GDAL, the data path can be set
> with CPLSetConfigOption() to override built-in information.  When I used
> to prepare my own Linux installable builds, I actually used the stuff
> in gdal/dist_docs.  That install script would actually "burn in" a
> location for the data files in the shared library at install time.
> 
> >BTW: Is there any plan to release gdal 1.2.0? I am not too glad with
> >the CVS-version of gdal in debian. An official stable release would
> >be much better.
> 
> I would like to have some comfort level that the libtool stuff is working
> smoothly before proceeding with a 1.2.0 release.  Amoung other things I 
> would
> like to verify on a variety of platforms (I have some troubling reports from
> UMN about Solaris builds), and to ensure that the configure scripts of some
> major packages using GDAL will be ready for 1.2.0 naming conventions and
> such (notably I GRASS and MapServer).
> 
> There are also a variety of outstanding bug reports that really should be
> considered before a new "stable" release.
> 
> However, all that said, I still do hope to have a 1.2.0 release in the 
> fairly
> near future.

This sounds good. Thanks for your information. It gives me an idea
of the progress.


-- 
Silke Reimer

Intevation GmbH                      http://intevation.de/
FreeGIS                                http://freegis.org/

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040210/f67b306d/attachment.bin
From roger at pocketterra.com  Tue Feb 10 14:51:15 2004
From: roger at pocketterra.com (Roger Bedell)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <HLENLPCAGDEHMNMNLIDJEEIGCAAA.chen@yinyue123.com>
Message-ID: <SYLVANSERVERA1XvpFV00000005@sylvanserver>

Franks suggestion to use a pre-rendered GIF is the smallest and easiest, as
for a binary format, OpenGIS Well Known Binary is fairly compact.

Roger Bedell, President, Sylvan Ascent Inc.
roger@sylvanascent.com
505-758-7712
www.sylvanascent.com
www.pocketterra.com
 
 

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Fu Chen
Sent: Sunday, February 08, 2004 6:45 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Please suggest a vector format for wireless
application

I wanna build it on mobile phone, for example, NOKIA S40 series which only
permit 64K program size for a J2ME size. We have to do reading and rendering
in this little program, so unzip and xml parser will waste too much space.
A compact binary gis format is what i need I think. Is there a format
already exist in the world meet my requirement? or I have to create one
myself?

GPS are not widely used in Beijing which host the 2008 Olympic Games. But
traffic management department have already set some equipments to test the
flow on the road. What we try to do is broadcasting this information to
drivers to help them make good route decision.

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Roger Bedell
Sent: Sunday, February 08, 2004 11:52 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Please suggest a vector format for wireless
application


Can the GML be sent using compression? Also, for several years I've been
interested in a similar application, but the traffic routing is dynamically
determined in real time using feedback from the velocity and direction GPS
data from a large number of vehicles. Is anyone working on such a scheme?
I've called it the "Velocigram" but haven't had the time to work on it much.

Roger Bedell, President, Sylvan Ascent Inc.
roger@sylvanascent.com
505-758-7712
www.sylvanascent.com
www.pocketterra.com
 
 

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Fu Chen
Sent: Sunday, February 08, 2004 6:53 AM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Please suggest a vector format for wireless application

Hi!
I wanna create a simple application for traffic management department in my
city to broadcast the situation on the road. This application will help
driver make his best route and ease the trafic block.
The data is very simple, the most important  is main road's position, its
name,  and the situation on the road which can be some levels for example 0
for free road and 5 for total blocked road. Some other layers can be include
if the space permit. The mobile device will get the road map in once and
then contact the host for the realtime road situation in some time gap.
Now I must select a format for a space and bandwidth limited mobile device.
GML seems a good selection for  webgis. But it will waste a lot of bandwidth
to transport tag. Is there a simple compact binary format suite my design.
Hope some guru in this list will give me some suggestion.
Thank!!
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From matt.wilkie at gov.yk.ca  Wed Feb 11 15:11:01 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
Message-ID: <402A8C55.9080702@gov.yk.ca>

Hello Listers,

I'm attempting to run gdalwarp on a tiff image with GCPs which is not 
"north to top". I get the error message

	ERROR 6: Unable to load PROJ.4 library (libproj.so), \
	creation of
	OGRCoordinateTransformation failed.

I thought proj.4 is installed with gdal, is this not the case? "locate 
libproj.so" comes up empty (and the locatedb is current).

I'm running gdal-cvs-040211 on cygwin-winxp; installed with "./configure 
&& make && make install".

thanks in advance,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------



From goossens at saclant.nato.int  Tue Feb 10 08:31:46 2004
From: goossens at saclant.nato.int (Johan A. Goossens)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Updated MrSID Driver
Message-ID: <200402101333.i1ADXwl27458@yoda.imagelinks.com>

Frank,

Attached are an updated version of the MrSID driver and VC-7 Makefile. They
have been changed to be compatible with the new 3.2.1 MrSID DSDK. I've
tested it on a Windows XP platform and successfully used gdalwarp on a
number of MrSID files.

You also need to change nmake.opt and configure since the libraries are now
in ${MRSID_DSDK}/lib (not in $MRSID_ DSDK}/bin/lib).


Regards,
Johan Goossens
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mrsiddataset.cpp
Type: application/octet-stream
Size: 67527 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040210/6c27b10d/mrsiddataset.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: makefile.vc
Type: application/octet-stream
Size: 198 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040210/6c27b10d/makefile.obj
From warmerdam at pobox.com  Wed Feb 11 15:47:16 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402A8C55.9080702@gov.yk.ca>
References: <402A8C55.9080702@gov.yk.ca>
Message-ID: <402A94D4.7060707@pobox.com>

Matt Wilkie wrote:
> Hello Listers,
> 
> I'm attempting to run gdalwarp on a tiff image with GCPs which is not 
> "north to top". I get the error message
> 
>     ERROR 6: Unable to load PROJ.4 library (libproj.so), \
>     creation of
>     OGRCoordinateTransformation failed.
> 
> I thought proj.4 is installed with gdal, is this not the case? "locate 
> libproj.so" comes up empty (and the locatedb is current).
> 
> I'm running gdal-cvs-040211 on cygwin-winxp; installed with "./configure 
> && make && make install".

Matt,

By default GDAL is built to try and dynamically load libproj.so at runtime.
The good part of this is that you don't need to have libproj around to build
GDAL, but if you later install it - bam - GDAL's projection support starts
working too.

You can try building and installing PROJ now and see if things work, but
this stuff may be fragile on Cygwin.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From MChapman at sanz.com  Wed Feb 11 15:56:47 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
Message-ID: <ED3A48B9840E594890A2BC172D1194650118AB5A@mailman.san.com>

Why are you using cygwin?  I run gdal and proj4 fine on windows without
it.  What is the benefit of using cygwin?

Martin 

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Wednesday, February 11, 2004 1:47 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] missing libproj.so


Matt Wilkie wrote:
> Hello Listers,
> 
> I'm attempting to run gdalwarp on a tiff image with GCPs which is not
> "north to top". I get the error message
> 
>     ERROR 6: Unable to load PROJ.4 library (libproj.so), \
>     creation of
>     OGRCoordinateTransformation failed.
> 
> I thought proj.4 is installed with gdal, is this not the case? "locate
> libproj.so" comes up empty (and the locatedb is current).
> 
> I'm running gdal-cvs-040211 on cygwin-winxp; installed with 
> "./configure
> && make && make install".

Matt,

By default GDAL is built to try and dynamically load libproj.so at
runtime. The good part of this is that you don't need to have libproj
around to build GDAL, but if you later install it - bam - GDAL's
projection support starts working too.

You can try building and installing PROJ now and see if things work, but
this stuff may be fragile on Cygwin.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From matt.wilkie at gov.yk.ca  Wed Feb 11 16:30:54 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <ED3A48B9840E594890A2BC172D1194650118AB5A@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D1194650118AB5A@mailman.san.com>
Message-ID: <402A9F0E.1000504@gov.yk.ca>

> Why are you using cygwin?  I run gdal and proj4 fine on windows without
> it.  What is the benefit of using cygwin?

So I can use the newer features (like gdalwarp with bilinear resampling) 
which are available in CVS but not yet in the available windows binaries 
of gdal v1.1.9.


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From MChapman at sanz.com  Wed Feb 11 16:39:36 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
Message-ID: <ED3A48B9840E594890A2BC172D1194650118AB6B@mailman.san.com>

Ahhh, thank you.  Good reason.

Martin

-----Original Message-----
From: Matt Wilkie [mailto:matt.wilkie@gov.yk.ca] 
Sent: Wednesday, February 11, 2004 2:31 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] missing libproj.so


> Why are you using cygwin?  I run gdal and proj4 fine on windows 
> without it.  What is the benefit of using cygwin?

So I can use the newer features (like gdalwarp with bilinear resampling)

which are available in CVS but not yet in the available windows binaries

of gdal v1.1.9.


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From matt.wilkie at gov.yk.ca  Wed Feb 11 16:38:59 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402A94D4.7060707@pobox.com>
References: <402A94D4.7060707@pobox.com>
Message-ID: <402AA0F3.1080801@gov.yk.ca>

Frank Warmerdam wrote:

> By default GDAL is built to try and dynamically load libproj.so at 
> runtime. The good part of this is that you don't need to have libproj
> around to build GDAL, but if you later install it - bam - GDAL's
> projection support starts working too.
> 
> You can try building and installing PROJ now and see if things work,
> but this stuff may be fragile on Cygwin.

I have, but libproj.so is not created or installed, only libproj.a and 
libproj.la. I note that shared libraries are supposed to be built by 
default according to ./configure --help. I'm at the limit of knowledge 
here but am happy to keep trying out the various options until something 
works.

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From dron at ak4719.spb.edu  Wed Feb 11 16:59:56 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Updated MrSID Driver
In-Reply-To: <200402101333.i1ADXwl27458@yoda.imagelinks.com>
References: <200402101333.i1ADXwl27458@yoda.imagelinks.com>
Message-ID: <20040211215956.GA22757@ak4719.spb.edu>

On Tue, Feb 10, 2004 at 08:31:46AM -0500, Johan A. Goossens wrote:
> Attached are an updated version of the MrSID driver and VC-7 Makefile.
> They have been changed to be compatible with the new 3.2.1 MrSID DSDK.
> I've tested it on a Windows XP platform and successfully used gdalwarp
> on a number of MrSID files.
> 
> You also need to change nmake.opt and configure since the libraries
> are now in ${MRSID_DSDK}/lib (not in $MRSID_ DSDK}/bin/lib).


Johan,

Have you tried the latest driver update? I did changes needed to be
compatible both with new and old API versions.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From nhv at cape.com  Wed Feb 11 21:00:32 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402AA0F3.1080801@gov.yk.ca>
Message-ID: <EKEJIKAILPONGGENMBGAKEDKGGAA.nhv@cape.com>

Matt Wilkie writes:
> > 
> I have, but libproj.so is not created or installed, only libproj.a and 
> libproj.la. I note that shared libraries are supposed to be built by 
> default according to ./configure --help. I'm at the limit of knowledge 
> here but am happy to keep trying out the various options until something 

Matt
execute the following from your toplevel libproj dir
then the dll that is made into 
your $install/bin dir and the libproj.dll.a into your $install/lib dir
where $install is the directory you specified with configure
< or that configure defaulted too >

if you look in your Makefile this is what 'prefix' is set too
i.e. on my system this is 
prefix = /usr/local

gcc -shared -o cygproj.dll \
	-Wl,--out-implib=libproj.dll.a \
	-Wl,--export-all-symbols \
	-Wl,--enable-auto-import \
	-Wl,--whole-archive ./src/.libs/libproj.a \
	-Wl,--no-whole-archive /lib/libcygwin.a

HTH

Norman

From matt.wilkie at gov.yk.ca  Thu Feb 12 11:51:18 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <EKEJIKAILPONGGENMBGAKEDKGGAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAKEDKGGAA.nhv@cape.com>
Message-ID: <402BAF06.6020707@gov.yk.ca>

thanks for your help Norman!

The command you gave me compiled okay (no errors) and I copied the 
results into $prefix/bin and $prefix/lib.  However gdalwarp still 
complains about "Unable to load PROJ.4 library (libproj.so)". Do I need 
to symlink libproj.dll.a to libproj.so or something?

cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From nhv at cape.com  Thu Feb 12 12:09:33 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402BAF06.6020707@gov.yk.ca>
Message-ID: <EKEJIKAILPONGGENMBGAGEFGGGAA.nhv@cape.com>

Matt Wilkie writes:
> 
> thanks for your help Norman!
> 
> The command you gave me compiled okay (no errors) and I copied the 
> results into $prefix/bin and $prefix/lib.  However gdalwarp still 
> complains about "Unable to load PROJ.4 library (libproj.so)". Do I need 
> to symlink libproj.dll.a to libproj.so or something?

Arrgh...

Sorry I didn't realize that I had the following local change

Index: ogrct.cpp
===================================================================
RCS file: /cvsroot/osrs/gdal/ogr/ogrct.cpp,v
retrieving revision 1.23
diff -r1.23 ogrct.cpp
138c138,140
< #ifdef WIN32
---
> #if defined(__CYGWIN__)
> #  define LIBNAME      "cygproj.dll"
> #elif defined(WIN32)


Note you can set an enviroment variable to the proj DLL name

in the same file see 
LoadProjLibrary() {
....
    if( getenv("PROJSO") != NULL )
        pszLibName = getenv("PROJSO");

HTH

Norman

From warmerdam at pobox.com  Thu Feb 12 12:10:38 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402BAF06.6020707@gov.yk.ca>
References: <EKEJIKAILPONGGENMBGAKEDKGGAA.nhv@cape.com> <402BAF06.6020707@gov.yk.ca>
Message-ID: <402BB38E.9090002@pobox.com>

Matt Wilkie wrote:
> thanks for your help Norman!
> 
> The command you gave me compiled okay (no errors) and I copied the 
> results into $prefix/bin and $prefix/lib.  However gdalwarp still 
> complains about "Unable to load PROJ.4 library (libproj.so)". Do I need 
> to symlink libproj.dll.a to libproj.so or something?

Matt,

I would suggest that, yes.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From nhv at cape.com  Thu Feb 12 12:28:26 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402BB38E.9090002@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAGEFJGGAA.nhv@cape.com>

Frank Warmerdam writes:
> 
> Matt Wilkie wrote:
> > 
> > The command you gave me compiled okay (no errors) and I copied the 
> > results into $prefix/bin and $prefix/lib.  However gdalwarp still 
> > complains about "Unable to load PROJ.4 library (libproj.so)". Do I need 
> > to symlink libproj.dll.a to libproj.so or something?
> 
> I would suggest that, yes.

Note on further investigation 

I see that there is a provision for compiling PROJ_STATIC
in ogrct.cpp but that this isn't a configurable option so you should
be able to do something like

./configure $your_gdal_configure_options
export PROJ_STATIC=1; make

and you will link against the static library and the opendll call
will not be made

perhaps PROJ_STATIC support can be added to the configure script ?

HTH

Norman

From warmerdam at pobox.com  Thu Feb 12 12:54:35 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <EKEJIKAILPONGGENMBGAGEFJGGAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAGEFJGGAA.nhv@cape.com>
Message-ID: <402BBDDB.60502@pobox.com>

Norman Vine wrote:
> Frank Warmerdam writes:
> 
>>Matt Wilkie wrote:
>>
>>>The command you gave me compiled okay (no errors) and I copied the 
>>>results into $prefix/bin and $prefix/lib.  However gdalwarp still 
>>>complains about "Unable to load PROJ.4 library (libproj.so)". Do I need 
>>>to symlink libproj.dll.a to libproj.so or something?
>>
>>I would suggest that, yes.
> 
> 
> Note on further investigation 
> 
> I see that there is a provision for compiling PROJ_STATIC
> in ogrct.cpp but that this isn't a configurable option so you should
> be able to do something like
> 
> ./configure $your_gdal_configure_options
> export PROJ_STATIC=1; make
> 
> and you will link against the static library and the opendll call
> will not be made
> 
> perhaps PROJ_STATIC support can be added to the configure script ?

Matt / Norman,

I think you would have to edit -DPROJ_STATIC into the GDALmake.opt file.
I don't think setting it as an environment variable will have the desired
effect.

Anyone (Alessandro?) interested in adding PROJ_STATIC configure support?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dron at ak4719.spb.edu  Thu Feb 12 13:15:47 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402BBDDB.60502@pobox.com>
References: <EKEJIKAILPONGGENMBGAGEFJGGAA.nhv@cape.com> <402BBDDB.60502@pobox.com>
Message-ID: <20040212181547.GB6365@ak4719.spb.edu>

On Thu, Feb 12, 2004 at 12:54:35PM -0500, Frank Warmerdam wrote:
> I think you would have to edit -DPROJ_STATIC into the GDALmake.opt
> file. I don't think setting it as an environment variable will have
> the desired effect.
> 
> Anyone (Alessandro?) interested in adding PROJ_STATIC configure
> support?

That was me who asked about PROJ_STATIC previously.
I have commited support for new option (--with-static-proj4 configure
flag).

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From matt.wilkie at gov.yk.ca  Thu Feb 12 13:20:25 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402BB38E.9090002@pobox.com>
References: <402BB38E.9090002@pobox.com>
Message-ID: <402BC3E9.7080105@gov.yk.ca>

>> Do I  need to symlink libproj.dll.a to libproj.so or something?
 >
> I would suggest that, yes.

nope, that doesn't do it.

I'm still decoding Norman's other suggestions.

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From warmerdam at pobox.com  Thu Feb 12 13:53:52 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <20040212181547.GB6365@ak4719.spb.edu>
References: <EKEJIKAILPONGGENMBGAGEFJGGAA.nhv@cape.com> <402BBDDB.60502@pobox.com> <20040212181547.GB6365@ak4719.spb.edu>
Message-ID: <402BCBC0.1050206@pobox.com>

Andrey Kiselev wrote:
> On Thu, Feb 12, 2004 at 12:54:35PM -0500, Frank Warmerdam wrote:
> 
>>I think you would have to edit -DPROJ_STATIC into the GDALmake.opt
>>file. I don't think setting it as an environment variable will have
>>the desired effect.
>>
>>Anyone (Alessandro?) interested in adding PROJ_STATIC configure
>>support?
> 
> 
> That was me who asked about PROJ_STATIC previously.
> I have commited support for new option (--with-static-proj4 configure
> flag).

Andrey,

Cool!

Thanks,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From nhv at cape.com  Thu Feb 12 14:13:35 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <402BC3E9.7080105@gov.yk.ca>
Message-ID: <EKEJIKAILPONGGENMBGAEEGAGGAA.nhv@cape.com>

Matt Wilkie writes:
> 
> >> Do I  need to symlink libproj.dll.a to libproj.so or something?
>  >
> > I would suggest that, yes.
> 
> nope, that doesn't do it.

Yup,  sadly symlinks for DLLs don't and AFAIK won't ever work with 
Cygwin due to the underlying Windows implementation

They will work AFAIK for all other files types though

Cheers

Norman

From bfraser at geoanalytic.com  Thu Feb 12 16:01:23 2004
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] HDF control point dump for Aster DEM (and Modis)
Message-ID: <07e101c3f1ab$5f806ee0$020002c0@SHARK>

Andrey (or other HDFers),

  I'm looking into control points in HDF files again, this time for Aster DEMs.  Can gdalinfo or gdal_translate dump the control points as text to the screen?


Some background...

I've downloaded an Aster DEM from the EOS Data Gateway (http://edcimswww.cr.usgs.gov/pub/imswelcome/) and translated it to GeoTIFF with gdal_translate.  For comparison, I also translated it GeoTIFF using HEG (http://hdfeos.gsfc.nasa.gov/hdfeos/details.cfm?swID=59).  The positioning of HEG's GeoTIFF was accurate to about 200m (compared to 1:250k VMAP1 vector data), while GDAL's was out by about 2 kilometers.

I expect the difference is due to HEG using the 8 x 8 array of control points in the HDF file.  I've got a program that will use the points to warp the DEM using triangulation, but I don't have an easy way to get a list of the gcps.

I used to HDFview (http://hdf.ncsa.uiuc.edu/hdf-java-html/hdfview/) to see how the gcps are stored in the HDF file, and it's not simple.  Under "Geolocation Fields", it's a single grid named as MRGFLD_Latitude, as a single three-dimensional (2 x 8 x 8) array of 64-bit floats (64 gcps with lat in the first plane and lon in the second).  This is significantly different from Modis HDF gcps which are stored as 2 two-dimensional arrays(one Latitude, the other Longitude) of 32-bit floats.

Given the popularity of Aster DEMs and Modis data it might make for a nice enhancement to gdalinfo to dump the gcps for these two types of HDF datasets...

Brent Fraser
GeoAnalytic Inc.
Tel:(403) 213-2700
bfraser@geoanalytic.com
www.geoanalytic.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040212/6d69744f/attachment.html
From dron at ak4719.spb.edu  Thu Feb 12 16:48:35 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] HDF control point dump for Aster DEM (and Modis)
In-Reply-To: <07e101c3f1ab$5f806ee0$020002c0@SHARK>
References: <07e101c3f1ab$5f806ee0$020002c0@SHARK>
Message-ID: <20040212214835.GA2273@ak4719.spb.edu>

On Thu, Feb 12, 2004 at 02:01:23PM -0700, Brent Fraser wrote:
>   I'm looking into control points in HDF files again, this time for
>   Aster DEMs.  Can gdalinfo or gdal_translate dump the control points
>   as text to the screen?
> 
> Some background...
> 
> I've downloaded an Aster DEM from the EOS Data Gateway
> (http://edcimswww.cr.usgs.gov/pub/imswelcome/) and translated it to
> GeoTIFF with gdal_translate.  For comparison, I also translated it
> GeoTIFF using HEG
> (http://hdfeos.gsfc.nasa.gov/hdfeos/details.cfm?swID=59).  The
> positioning of HEG's GeoTIFF was accurate to about 200m (compared to
> 1:250k VMAP1 vector data), while GDAL's was out by about 2 kilometers.
> 
> I expect the difference is due to HEG using the 8 x 8 array of control
> points in the HDF file.  I've got a program that will use the points
> to warp the DEM using triangulation, but I don't have an easy way to
> get a list of the gcps.
> 
> I used to HDFview (http://hdf.ncsa.uiuc.edu/hdf-java-html/hdfview/) to
> see how the gcps are stored in the HDF file, and it's not simple.
> Under "Geolocation Fields", it's a single grid named as
> MRGFLD_Latitude, as a single three-dimensional (2 x 8 x 8) array of
> 64-bit floats (64 gcps with lat in the first plane and lon in the
> second).  This is significantly different from Modis HDF gcps which
> are stored as 2 two-dimensional arrays(one Latitude, the other
> Longitude) of 32-bit floats.
> 
> Given the popularity of Aster DEMs and Modis data it might make for a
> nice enhancement to gdalinfo to dump the gcps for these two types of
> HDF datasets...

Brent,

I'm working on the new HDF driver driver which will be much better than
the current one. New driver will be based on HDF-EOS code and will be
able to work properly with wider range of HDF products. I have
implemented support for HDF-EOS Grid datasets (MODIS L2 products) and
have implemented partial support for Swath datasets (different ASTERs,
MODIS L1 and L3 etc.) Unfortunately it is not possible to support all
products without hardcoding their parameters into the driver.

I'm aware of the deficiences of ASTER DEM supporting, but it should be
fixed in the new driver version. Stay tuned, it will be available very
soon.

					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From bclay at ball.com  Fri Feb 13 14:13:38 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Data format
Message-ID: <E4394C8445EFCC4AA136A1C305E4C92851C8AA@APPMSG2.AERO.BALL.COM>

I used the code from the tutorial to create a small app to parse data
from a DEM file.  After a few retries I got Microsoft to accept the GDAL
lib and give me results from the data file.  When I use RasterIO I get
back a buffer full of floats.  How do I interpret them?  Is that based
on the data file read or is that a standard for all vector data?

The data file I opened is a DEM file from the GTOPO30 data set.

The origin is 20.0, 40.0 I assume this is latitude and longitude.

The pixel size is 0.008333, -0.008333.  Does this represent the distance
between values in degrees?  What does the negative number represent?

The GetRasterxxx methods say that the file data 4800 x 6000 x 1.  Does
this mean that only the elevation data is in the file?

The bands are reported to be 4800 wide. Based on the file names in the
GTOPO30 data set it looks like they cover 40 Deg. Longitude but
differing coverage in latitude.  

I am trying to find the elevation for specific coordinates based on
latitude and longitude input.

When I was compiling the program I thought I saw a conditional config
file for compression support  but I could not open a gziped file.  Is
this expected?

Sorry if these are dumb questions.


Thanks in advance for your help.

Bruce Clay
bclay@ball.com 

From ben at vterrain.org  Fri Feb 13 14:23:26 2004
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Data format
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C92851C8AA@APPMSG2.AERO.BALL.COM>
Message-ID: <00e301c3f266$dac845d0$f400fe0a@TOPP2>

> -----Original Message-----
> From: Clay, Bruce
> 
> The data file I opened is a DEM file from the GTOPO30 data set.
> When I use RasterIO I get
> back a buffer full of floats.  How do I interpret them?

They are elevation in meters.

> The origin is 20.0, 40.0 I assume this is latitude and longitude.

Yes.

> The pixel size is 0.008333, -0.008333.  Does this represent 
> the distance between values in degrees?

Yes.

>  What does the negative number represent?

The fact that pixel sizes are measured from the top-left corner downward,
which is the negative latitude direction.

> The GetRasterxxx methods say that the file data 4800 x 6000 x 1.
> Does this mean that only the elevation data is in the file?

Yes.  Were you expecting something more in a GTOPO file?

> The bands are reported to be 4800 wide. Based on the file names
> in the GTOPO30 data set it looks like they cover 40 Deg. Longitude
> but differing coverage in latitude.  

Yes.

> I am trying to find the elevation for specific coordinates based
> on latitude and longitude input.

You have the corner and the extents, so it's simple arithmetic to compute
the offset based on an input, X,Y = (input-corner)/pixel_size

> Sorry if these are dumb questions.

We're all beginners at some point :)

-Ben


From nhv at cape.com  Fri Feb 13 14:22:38 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Data format
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C92851C8AA@APPMSG2.AERO.BALL.COM>
Message-ID: <EKEJIKAILPONGGENMBGAMEKAGGAA.nhv@cape.com>

Clay, Bruce writes:
> 
> I used the code from the tutorial to create a small app to parse data
> from a DEM file.  After a few retries I got Microsoft to accept the GDAL
> lib and give me results from the data file.  When I use RasterIO I get
> back a buffer full of floats.  How do I interpret them?  Is that based
> on the data file read or is that a standard for all vector data?
> 
> The data file I opened is a DEM file from the GTOPO30 data set.

maybe this will help
http://edcdaac.usgs.gov/gtopo30/README.asp

Norman

From nhv at cape.com  Fri Feb 13 14:27:37 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Data format
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C92851C8AA@APPMSG2.AERO.BALL.COM>
Message-ID: <EKEJIKAILPONGGENMBGAEEKBGGAA.nhv@cape.com>

Clay, Bruce wrote:
> 
> The data file I opened is a DEM file from the GTOPO30 data set.

FWIW my guess is you would prefer this updated version
http://edcsgs9.cr.usgs.gov/pub/data/srtm/SRTM30/

Norman

From bclay at ball.com  Fri Feb 13 14:57:47 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Data format
Message-ID: <E4394C8445EFCC4AA136A1C305E4C92851C8AB@APPMSG2.AERO.BALL.COM>

Norman:
  Thanks for the update.  Do you know the difference in the data?  The
files appear to be the same size.  I want to use the data to add
elevation to Blue Marble.  Which would be best?  The highest resolution
grid used in BMV is 0.07031250 degrees.

Do you know of any place to get free higher resolution data?  My other
program needs better than 1 km spacing.  There used to be free 30m data
available but it all seems to have fallen in to one of the fee for
service data sets.

-----Original Message-----
From: Norman Vine [mailto:nhv@cape.com] 
Sent: Friday, February 13, 2004 2:28 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Data format


Clay, Bruce wrote:
> 
> The data file I opened is a DEM file from the GTOPO30 data set.

FWIW my guess is you would prefer this updated version
http://edcsgs9.cr.usgs.gov/pub/data/srtm/SRTM30/

Norman
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From goossens at act.nato.int  Fri Feb 13 15:06:00 2004
From: goossens at act.nato.int (Johan A. Goossens)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Updated MrSID Driver
In-Reply-To: <20040211215956.GA22757@ak4719.spb.edu>
Message-ID: <001c30205200d24NTSVR4@smtp.saclant.nato.int>

Andrew,

I did my work last weekend before you posted the new version to CVS. I
downloaded the latest last night, compiled it against the MrSID 3.2.1 DSDK
with VC-7 on a Windows XP platform. It seems to work just fine on the MrSID
images I have. Thank for the great work. I just wish I had waited a week
:-). I could have been at that party at least an hour earlier.

Regards,
Johan Goossens


-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Andrey Kiselev
Sent: Wednesday, February 11, 2004 5:00 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Updated MrSID Driver

On Tue, Feb 10, 2004 at 08:31:46AM -0500, Johan A. Goossens wrote:
> Attached are an updated version of the MrSID driver and VC-7 Makefile.
> They have been changed to be compatible with the new 3.2.1 MrSID DSDK.
> I've tested it on a Windows XP platform and successfully used gdalwarp
> on a number of MrSID files.
> 
> You also need to change nmake.opt and configure since the libraries
> are now in ${MRSID_DSDK}/lib (not in $MRSID_ DSDK}/bin/lib).


Johan,

Have you tried the latest driver update? I did changes needed to be
compatible both with new and old API versions.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From nhv at cape.com  Fri Feb 13 15:23:43 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Data format
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C92851C8AB@APPMSG2.AERO.BALL.COM>
Message-ID: <EKEJIKAILPONGGENMBGAMEKFGGAA.nhv@cape.com>

Clay, Bruce
> 
> Norman:
>   Thanks for the update.  Do you know the difference in the data?  

yes but .......
http://edcsgs9.cr.usgs.gov/pub/data/srtm/SRTM30/SRTM30_Documentation
note that there are preconmputed 'difference' data sets available from the 
same place if you 'really' must know  :-)
 
> Do you know of any place to get free higher resolution data?  My other
> program needs better than 1 km spacing. 

Yes and no depending

Maybe you xhould spend some time reviewing the resources on Ben Discoe's 
excellent site
http://www.vterrain.org/Elevation/index.html
http://www.vterrain.org/Elevation/global.html

Note that FlightGear http://www.flightgear.org maintains a 'thinned'
version of an augmented SRTM data and a set of tools to build the 
global TIN that may or may not be of interest to you

'thinned' == data reduced to an irregular mesh representing a 'fitted'
surface that is within 'some' maximum error. I believe the currently
distributed version was created with a 20 meter maximum error, but
the tools allow this error to be set at data reduction time.

If you are interested in this the place to ask questions is on the 
TerraGear list  mailto:terragear-devel@flightgear.org

HTH

Norman



From andrew at redink.demon.co.uk  Fri Feb 13 18:37:39 2004
From: andrew at redink.demon.co.uk (Andrew Larcombe)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GML procesing problems
In-Reply-To: <EKEJIKAILPONGGENMBGAMEKFGGAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAMEKFGGAA.nhv@cape.com>
Message-ID: <200402132337.39862.andrew@redink.demon.co.uk>

Hello all,

I am having problems processing GML files created using the ogr2ogr program. 
This is what I have done:

1. Create a simple GML file from a .shp file (airports) contained in the UMN 
Mapserver itasca data set using the following command:
[andrew@server andrew]$ ogr2ogr -f "GML" ~/airports.gml ./airports.shp

This produces the files airports.gml and the corresponding schema file 
airports.xsd.

2. I have created a very simple stylesheet and attempted to process the GML 
file using the XSL file using the Apache Xalan-C transformer, but this 
generates the following error:
[andrew@server andrew]$ Xalan airports.gml airports.xsl

Fatal Error at (file airports.gml , line 5 , column {null} ): The prefix 'ogr' 
has not been mapped to any URI
SAXParseException: The prefix 'ogr' has not been mapped to any URI 
(airports.gml, line 5, column 45)

3. Opening the GML file in an XML editor and attempting to validate it, or 
specify an XPath filter produces similar results.

Can anyone help?

System info:
Linux, kernel 2.4.21
Using OGR bundled with GDAL 1.1.9
Xalan version 1.7.0

Many thanks,

Andrew

From warmerdam at pobox.com  Sat Feb 14 12:39:03 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GML procesing problems
In-Reply-To: <200402132337.39862.andrew@redink.demon.co.uk>
References: <EKEJIKAILPONGGENMBGAMEKFGGAA.nhv@cape.com> <200402132337.39862.andrew@redink.demon.co.uk>
Message-ID: <402E5D37.7090404@pobox.com>

Andrew Larcombe wrote:
> Hello all,
> 
> I am having problems processing GML files created using the ogr2ogr program. 
> This is what I have done:
> 
> 1. Create a simple GML file from a .shp file (airports) contained in the UMN 
> Mapserver itasca data set using the following command:
> [andrew@server andrew]$ ogr2ogr -f "GML" ~/airports.gml ./airports.shp
> 
> This produces the files airports.gml and the corresponding schema file 
> airports.xsd.
> 
> 2. I have created a very simple stylesheet and attempted to process the GML 
> file using the XSL file using the Apache Xalan-C transformer, but this 
> generates the following error:
> [andrew@server andrew]$ Xalan airports.gml airports.xsl
> 
> Fatal Error at (file airports.gml , line 5 , column {null} ): The prefix 'ogr' 
> has not been mapped to any URI
> SAXParseException: The prefix 'ogr' has not been mapped to any URI 
> (airports.gml, line 5, column 45)
> 
> 3. Opening the GML file in an XML editor and attempting to validate it, or 
> specify an XPath filter produces similar results.
> 
> Can anyone help?

Andrew,

This problem was recently fixed in the GML driver (a few weeks ago).  I would
suggest you try again building from a CVS nightly snapshot.  Alternatively,
if that is impractical for some reason, I could provide details on the patch
to fix the problem.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From andrew at andrewlarcombe.uklinux.net  Fri Feb 13 19:12:45 2004
From: andrew at andrewlarcombe.uklinux.net (Andrew Larcombe)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GML procesing problems
In-Reply-To: <200402132337.39862.andrew@redink.demon.co.uk>
References: <EKEJIKAILPONGGENMBGAMEKFGGAA.nhv@cape.com> <200402132337.39862.andrew@redink.demon.co.uk>
Message-ID: <200402140012.45645.andrew@andrewlarcombe.uklinux.net>

On Friday 13 Feb 2004 11:37 pm, Andrew Larcombe wrote:
> 1. Create a simple GML file from a .shp file (airports) contained in the
> UMN Mapserver itasca data set using the following command:
> [andrew@server andrew]$ ogr2ogr -f "GML" ~/airports.gml ./airports.shp
>
> This produces the files airports.gml and the corresponding schema file
> airports.xsd.

This is content of the offending GML file:

<?xml version="1.0" encoding="utf-8" ?>
<ogr:FeatureCollection
     xmlns:xsi="http://www.w3c.org/2001/XMLSchema-instance"
     xsi:schemaLocation=". "
     xmlns:gml="http://www.opengis.net/gml">
  <gml:boundedBy>
    <gml:Box>
      <gml:coord><gml:X>434634</gml:X><gml:Y>5228719</gml:Y></gml:coord>
      <gml:coord><gml:X>496393</gml:X><gml:Y>5291930</gml:Y></gml:coord>
    </gml:Box>
  </gml:boundedBy>                                                                     
  <gml:featureMember>
    <airports fid="0">
      <NAME>Bigfork Municipal Airport</NAME>
      <LAT>     47.7789</LAT>
      <LON>    -93.6500</LON>
      <ELEVATION>   1343.0000</ELEVATION>
      <QUADNAME>Effie</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>451306,5291930</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="1">
      <NAME>Bolduc Seaplane Base</NAME>
      <LAT>     47.5975</LAT>
      <LON>    -93.4106</LON>
      <ELEVATION>   1325.0000</ELEVATION>
      <QUADNAME>Balsam Lake</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>469137,5271647</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="2">
      <NAME>Bowstring Municipal Airport</NAME>
      <LAT>     47.5583</LAT>
      <LON>    -93.8689</LON>
      <ELEVATION>   1372.0000</ELEVATION>
      <QUADNAME>Jessie Lake</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>434634,5267578</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="3">
      <NAME>Burns Lake Seaplane Base</NAME>
      <LAT>     47.6233</LAT>
      <LON>    -93.6103</LON>
      <ELEVATION>   1357.0000</ELEVATION>
      <QUADNAME>Clubhouse Lake</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>454146,5274617</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="4">
      <NAME>Christenson Point Seaplane Base</NAME>
      <LAT>     47.6692</LAT>
      <LON>    -93.0544</LON>
      <ELEVATION>   1372.0000</ELEVATION>
      <QUADNAME>Side Lake</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>495913,5279532</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="5">
      <NAME>Deer River Municipal Airport</NAME>
      <LAT>     47.3522</LAT>
      <LON>    -93.8000</LON>
      <ELEVATION>   1311.0000</ELEVATION>
      <QUADNAME>Deer River</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>439581,5244617</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="6">
      <NAME>Gospel Ranch Airport</NAME>
      <LAT>     47.2289</LAT>
      <LON>    -93.0919</LON>
      <ELEVATION>   1394.0000</ELEVATION>
      <QUADNAME>Floodwood Lake</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>493040,5230604</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="7">
      <NAME>Grand Rapids-Itasca County/Gordon Newstrom Field</NAME>
      <LAT>     47.2108</LAT>
      <LON>    -93.5097</LON>
      <ELEVATION>   1355.0000</ELEVATION>
      <QUADNAME>Grand Rapids</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>461401,5228719</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="8">
      <NAME>Richter Ranch Airport</NAME>
      <LAT>     47.3161</LAT>
      <LON>    -93.5914</LON>
      <ELEVATION>   1340.0000</ELEVATION>
      <QUADNAME>Cohasset East</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>455305,5240463</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="9">
      <NAME>Shaughnessy Seaplane Base</NAME>
      <LAT>     47.4178</LAT>
      <LON>    -93.3839</LON>
      <ELEVATION>   1300.0000</ELEVATION>
      <QUADNAME>Lawrence Lake West</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>471043,5251664</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="10">
      <NAME>Sixberrys Landing Seaplane Base</NAME>
      <LAT>     47.6775</LAT>
      <LON>    -93.0481</LON>
      <ELEVATION>   1372.0000</ELEVATION>
      <QUADNAME>Side Lake</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>496393,5280458</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
  <gml:featureMember>
    <airports fid="11">
      <NAME>Snells Seaplane Base</NAME>
      <LAT>     47.6472</LAT>
      <LON>    -93.7450</LON>
      <ELEVATION>   1351.0000</ELEVATION>
      <QUADNAME>Bigfork</QUADNAME>
      
<ogr:geometryProperty><gml:Point><gml:coordinates>444049,5277360</gml:coordinates></gml:Point></ogr:geometryProperty>
    </airports>
  </gml:featureMember>
</ogr:FeatureCollection>

From Tom.Kralidis at ec.gc.ca  Mon Feb 16 07:22:57 2004
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Burlington])
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] ogr virtual data issues with connecting to excel
Message-ID: <2576812186CDD411BF1500508B6DCE9506436CE1@ECNWRI1.ontario.int.ec.gc.ca>

Hi,

I'm trying to connect to an excel document using this approach, but am
having problems doing so.

I have created a system DSN

Here is my .ovf file:

<OGRVRTDataSource>
	<OGRVRTLayer name="plantwatch">
		<SrcDataSource>ODBC:plantwatch2,plantwatch</SrcDataSource>
		<SrcLayer>plantwatch</SrcLayer>
		<GeometryType>wkbPoint</GeometryType>
		<LayerSRS>WGS84</LayerSRS>
		<GeometryField encoding="PointFromColumns" x="longitude"
y="latitude"/> 
	</OGRVRTLayer>
</OGRVRTDataSource>

When I test with ogrinfo, I get:

C:\ms4w\Apache\cgi-bin\ms_odbc>.\ogrinfo.exe
\ms4w\mapserv\services\naturewatch\plantwatch2.ovf
ERROR 4: Update access not supported for VRT datasources.
ERROR 1: Unable to identify source X or Y field for PointFromColumns
encoding.
FAILURE:

Any suggestions?  The x and y attributes exist as columns in my excel file.
As a workaround, when I converted the excel file to an access database, it
worked.

I can post the excel document on request.

Thanks

..Tom

=========================
Tom Kralidis
Systems Scientist
Environment Canada
Tel: +01-905-336-4409
http://www.ec.gc.ca/cise/

From warmerdam at pobox.com  Mon Feb 16 08:59:28 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] ogr virtual data issues with connecting to excel
In-Reply-To: <2576812186CDD411BF1500508B6DCE9506436CE1@ECNWRI1.ontario.int.ec.gc.ca>
References: <2576812186CDD411BF1500508B6DCE9506436CE1@ECNWRI1.ontario.int.ec.gc.ca>
Message-ID: <4030CCC0.9090000@pobox.com>

Kralidis,Tom [Burlington] wrote:
> Hi,
> 
> I'm trying to connect to an excel document using this approach, but am
> having problems doing so.
> 
> I have created a system DSN
> 
> Here is my .ovf file:
> 
> <OGRVRTDataSource>
> 	<OGRVRTLayer name="plantwatch">
> 		<SrcDataSource>ODBC:plantwatch2,plantwatch</SrcDataSource>
> 		<SrcLayer>plantwatch</SrcLayer>
> 		<GeometryType>wkbPoint</GeometryType>
> 		<LayerSRS>WGS84</LayerSRS>
> 		<GeometryField encoding="PointFromColumns" x="longitude"
> y="latitude"/> 
> 	</OGRVRTLayer>
> </OGRVRTDataSource>
> 
> When I test with ogrinfo, I get:
> 
> C:\ms4w\Apache\cgi-bin\ms_odbc>.\ogrinfo.exe
> \ms4w\mapserv\services\naturewatch\plantwatch2.ovf
> ERROR 4: Update access not supported for VRT datasources.
> ERROR 1: Unable to identify source X or Y field for PointFromColumns
> encoding.
> FAILURE:
> 
> Any suggestions?  The x and y attributes exist as columns in my excel file.
> As a workaround, when I converted the excel file to an access database, it
> worked.
> 
> I can post the excel document on request.

Tom,

I would suggest you start by using "ogrinfo -ro -al ODBC:plantwatch2,plantwatch"
to see what OGR thinks the raw ODBC information looks like.  You may find that
the ODBC view of the spreadsheet is different than you think.  For instance,
the column names may be altered.

If you don't learn anything useful from that, you can email me the .xls directly
and I will look into it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From nsavard at dmsolutions.ca  Mon Feb 16 09:13:14 2004
From: nsavard at dmsolutions.ca (Normand Savard)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] ogr virtual data issues with connecting to excel
In-Reply-To: <2576812186CDD411BF1500508B6DCE9506436CE1@ECNWRI1.ontario.int.ec.gc.ca>
References: <2576812186CDD411BF1500508B6DCE9506436CE1@ECNWRI1.ontario.int.ec.gc.ca>
Message-ID: <4030CFFA.2080100@dmsolutions.ca>

Tom,

You could verify your connection with the Excel driver by using this 
small application:  ODBCView:

http://asia.cnet.com/downloads/pc/swinfo/0,39000587,39034753s,00.htm


Norm

Kralidis,Tom [Burlington] wrote:

>Hi,
>
>I'm trying to connect to an excel document using this approach, but am
>having problems doing so.
>
>I have created a system DSN
>
>Here is my .ovf file:
>
><OGRVRTDataSource>
>	<OGRVRTLayer name="plantwatch">
>		<SrcDataSource>ODBC:plantwatch2,plantwatch</SrcDataSource>
>		<SrcLayer>plantwatch</SrcLayer>
>		<GeometryType>wkbPoint</GeometryType>
>		<LayerSRS>WGS84</LayerSRS>
>		<GeometryField encoding="PointFromColumns" x="longitude"
>y="latitude"/> 
>	</OGRVRTLayer>
></OGRVRTDataSource>
>
>When I test with ogrinfo, I get:
>
>C:\ms4w\Apache\cgi-bin\ms_odbc>.\ogrinfo.exe
>\ms4w\mapserv\services\naturewatch\plantwatch2.ovf
>ERROR 4: Update access not supported for VRT datasources.
>ERROR 1: Unable to identify source X or Y field for PointFromColumns
>encoding.
>FAILURE:
>
>Any suggestions?  The x and y attributes exist as columns in my excel file.
>As a workaround, when I converted the excel file to an access database, it
>worked.
>
>I can post the excel document on request.
>
>Thanks
>
>..Tom
>
>=========================
>Tom Kralidis
>Systems Scientist
>Environment Canada
>Tel: +01-905-336-4409
>http://www.ec.gc.ca/cise/
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev
>
>  
>


From Tom.Kralidis at ec.gc.ca  Mon Feb 16 09:23:45 2004
From: Tom.Kralidis at ec.gc.ca (Kralidis,Tom [Burlington])
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] ogr virtual data issues with connecting to excel
Message-ID: <2576812186CDD411BF1500508B6DCE9506436CF1@ECNWRI1.ontario.int.ec.gc.ca>


> -----Original Message-----
> From: Normand Savard [mailto:nsavard@dmsolutions.ca] 
> Sent: Monday, February 16, 2004 9:13 AM
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] ogr virtual data issues with 
> connecting to excel
> 
> 
> Tom,
> 
> You could verify your connection with the Excel driver by using this 
> small application:  ODBCView:
> 
> http://asia.cnet.com/downloads/pc/swinfo/0,39000587,39034753s,00.htm
>

Thanks for the info.  Frank is currently debugging. 

> 
> Norm
> 
> Kralidis,Tom [Burlington] wrote:
> 
> >Hi,
> >
> >I'm trying to connect to an excel document using this 
> approach, but am 
> >having problems doing so.
> >
> >I have created a system DSN
> >
> >Here is my .ovf file:
> >
> ><OGRVRTDataSource>
> >	<OGRVRTLayer name="plantwatch">
> >		
> <SrcDataSource>ODBC:plantwatch2,plantwatch</SrcDataSource>
> >		<SrcLayer>plantwatch</SrcLayer>
> >		<GeometryType>wkbPoint</GeometryType>
> >		<LayerSRS>WGS84</LayerSRS>
> >		<GeometryField encoding="PointFromColumns" 
> x="longitude" 
> >y="latitude"/>
> >	</OGRVRTLayer>
> ></OGRVRTDataSource>
> >
> >When I test with ogrinfo, I get:
> >
> >C:\ms4w\Apache\cgi-bin\ms_odbc>.\ogrinfo.exe
> >\ms4w\mapserv\services\naturewatch\plantwatch2.ovf
> >ERROR 4: Update access not supported for VRT datasources. ERROR 1: 
> >Unable to identify source X or Y field for PointFromColumns encoding.
> >FAILURE:
> >
> >Any suggestions?  The x and y attributes exist as columns in 
> my excel 
> >file. As a workaround, when I converted the excel file to an access 
> >database, it worked.
> >
> >I can post the excel document on request.
> >
> >Thanks
> >
> >..Tom
> >
> >=========================
> >Tom Kralidis
> >Systems Scientist
> >Environment Canada
> >Tel: +01-905-336-4409
> >http://www.ec.gc.ca/cise/ 
> >_______________________________________________
> >Gdal-dev mailing list
> >Gdal-dev@remotesensing.org 
> >http://remotesensing.org/mailman/listinfo/gdal-dev
> >
> >  
> >
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org 
> http://remotesensing.org/mailman/listinfo/gdal> -dev
> 

From andrew at redink.demon.co.uk  Mon Feb 16 17:26:44 2004
From: andrew at redink.demon.co.uk (Andrew Larcombe)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] GML procesing problems
In-Reply-To: <402E5D37.7090404@pobox.com>
References: <EKEJIKAILPONGGENMBGAMEKFGGAA.nhv@cape.com> <200402132337.39862.andrew@redink.demon.co.uk> <402E5D37.7090404@pobox.com>
Message-ID: <200402162226.44684.andrew@redink.demon.co.uk>

On Saturday 14 Feb 2004 5:39 pm, Frank Warmerdam wrote:
> This problem was recently fixed in the GML driver (a few weeks ago).  I
> would suggest you try again building from a CVS nightly snapshot. 
> Alternatively, if that is impractical for some reason, I could provide
> details on the patch to fix the problem.

Frank,

That seems to work fine now.

Thanks for your help,

Andrew

From starged at videotron.ca  Mon Feb 16 22:14:49 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
Message-ID: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>

Hi all,

Up to now, I had always built gdal as a static lib and everything was fine. When I tried to build a
shared gdal using libtool, it complained about the fact that I didn't have shared versions of libm
and libz and I ended up with a static lib.

How do I tell the gdal configure to add -lz and -lm when linking?  I tried configuring with
"--enable-static=libz,libm" but got the same complaints and a static lib again. I never used libtool
before and the doc is very confusing to me... so I don't know what to do next.

And if I understand libtool correctly (don't bet on that!), a dll created with libtool needs libtool
to link, right? I build the lib under MSYS but I use the Dev-Cpp IDE to build the apps that link
with it and I don't think it works with libtool. So I may be doing all this for nothing :)

Thanks for any help.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Mon Feb 16 22:31:31 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Python support under MinGW
Message-ID: <kp1330pghl879c2raruut44g2vcqluercg@4ax.com>

Hi all,

Another question about building gdal under MinGW: to enable python support, do I need a MinGW build
of Python? Because from what I could find on that subject, it's no easy task...

And I do need Python support in gdal to compile OpenEV, right? Even if I currently have 4 Pythons
(with OpenEV_FW 1.63 and OpenEV 1.70, Python 2.3 for Windows and the source for Python 2.3.3), none
of them have the makefile needed by gdal and OpenEV:

(GDAL configure)
checking Python makefile... missing, python disabled.
(OpenEV configure)
configure:3494: error: *** Couldnt find the python config makefile.  Maybe you are
*** missing the development portion of the python installation

Anyway, I will ask other questions relevant to OpenEV/Python on the openev ml...
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From warmerdam at pobox.com  Tue Feb 17 00:26:11 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <kp1330pghl879c2raruut44g2vcqluercg@4ax.com>
References: <kp1330pghl879c2raruut44g2vcqluercg@4ax.com>
Message-ID: <4031A5F3.9090809@pobox.com>

Mario Beauchamp wrote:
> Hi all,
> 
> Another question about building gdal under MinGW: to enable python support, do I need a MinGW build
> of Python? Because from what I could find on that subject, it's no easy task...

Mario,

One of the main benefits of MinGW over Cygwin (as I understand it), is that
the DLLs and libraries are directly compatible with VC++.  They don't depend on
any funky Cygwin environment stuff.  So, it would seem you should be able to
use the normal Python for windows libraries without needing to build Python
itself from scratch.

> And I do need Python support in gdal to compile OpenEV, right? Even if I currently have 4 Pythons
> (with OpenEV_FW 1.63 and OpenEV 1.70, Python 2.3 for Windows and the source for Python 2.3.3), none
> of them have the makefile needed by gdal and OpenEV:
> 
> (GDAL configure)
> checking Python makefile... missing, python disabled.
> (OpenEV configure)
> configure:3494: error: *** Couldnt find the python config makefile.  Maybe you are
> *** missing the development portion of the python installation

This configure test depends on unix style checks, and won't work for any
pythons other than (possibly) the Cygwin python since it looks for stuff in
a unix style file tree.

I realize that not everyone can afford (or chooses) to buy MS VC++, but I think
you are buying yourself alot of headaches to try and build OpenEV and all
its dependencies from scratch with MingW or any other compiler.  Building
GDAL shouldn't be too hard.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dron at ak4719.spb.edu  Tue Feb 17 02:15:37 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
Message-ID: <20040217071537.GA3323@ak4719.spb.edu>

On Mon, Feb 16, 2004 at 10:14:49PM -0500, Mario Beauchamp wrote:
> Up to now, I had always built gdal as a static lib and everything was
> fine. When I tried to build a shared gdal using libtool, it complained
> about the fact that I didn't have shared versions of libm and libz and
> I ended up with a static lib.

Mario,

We don't need to link with libm when compiling with MinGW. This problem
was fixed few weeks ago.

> How do I tell the gdal configure to add -lz and -lm when linking?  I
> tried configuring with "--enable-static=libz,libm" but got the same
> complaints and a static lib again. I never used libtool before and the
> doc is very confusing to me... so I don't know what to do next.

All external libraries shoyld be dinamic too. This is not a problem in
case of libz, because it can be simply compiled in (use
--with-zlib=internal option), but if you want to link against libraries,
not included in GDAL distribution, you should build them dinamically.

> And if I understand libtool correctly (don't bet on that!), a dll
> created with libtool needs libtool to link, right?

No, it can be the drop-in replacement for gdal.dll, compiled with the
MSVC. The only problem here is a C++ name mangling. If your application
uses C++ interface you should use MinGW (and the same gcc version) to
build it. If you are limited by the C API it is not a problem and you
can combine GDAL compiled with mingw and application compiled with MSVC.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From alexamici at fastwebnet.it  Tue Feb 17 02:22:39 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
Message-ID: <200402170822.39878.alexamici@fastwebnet.it>

Mario,

On Tuesday 17 February 2004 04:14, Mario Beauchamp wrote:
> Up to now, I had always built gdal as a static lib and everything was fine.
> When I tried to build a shared gdal using libtool, it complained about the
> fact that I didn't have shared versions of libm and libz and I ended up
> with a static lib.

all mingw installation i tried had only static libraries inside /usr/lib

you may possibly get the gdal internal copy of libz using 
"--with-libz=internal", but you need to find a way to get a shared copy of 
libm. you should probably ask to the mingw list.

> And if I understand libtool correctly (don't bet on that!), a dll created
> with libtool needs libtool to link, right? 

this is true only inside the source tree. after 'make install' you can use 
normal link commands, no libtool required.

> I build the lib under MSYS but I
> use the Dev-Cpp IDE to build the apps that link with it and I don't think
> it works with libtool. So I may be doing all this for nothing :)

there should be no problem (after installing gdal)

cheers,
alessandro

From t.r.decarlo at larc.nasa.gov  Tue Feb 17 11:14:28 2004
From: t.r.decarlo at larc.nasa.gov (Thom DeCarlo)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <20040217071537.GA3323@ak4719.spb.edu>
Message-ID: <EPEALOKKOCCOEALLINACEECOFHAA.t.r.decarlo@larc.nasa.gov>

The place where I experience problems with static libraries is when I try to
include the Earth Resources Mapping ECW library. It is only available as a
static library and that causes problems when I build the gdal plugin for
OpenSceneGraph. Has anyone solved this?

Thanks,
Thom

-----Original Message-----
From: Andrey Kiselev
Sent: Tuesday, February 17, 2004 2:16 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Problems building gdal dll with libtool on MinGW

[snip]
> How do I tell the gdal configure to add -lz and -lm when linking?  I
> tried configuring with "--enable-static=libz,libm" but got the same
> complaints and a static lib again. I never used libtool before and the
> doc is very confusing to me... so I don't know what to do next.

All external libraries shoyld be dinamic too. This is not a problem in
case of libz, because it can be simply compiled in (use
--with-zlib=internal option), but if you want to link against libraries,
not included in GDAL distribution, you should build them dinamically.




From TMitchell at lignum.com  Tue Feb 17 13:05:48 2004
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:03 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <4031A5F3.9090809@pobox.com>
Message-ID: <OFBBED84B3.D53B2552-ON88256E3D.0063495F-88256E3D.00636895@lignum.com>

> I realize that not everyone can afford (or chooses) to buy MS VC++, 
> but I think
> you are buying yourself alot of headaches to try and build OpenEV and 
all
> its dependencies from scratch with MingW or any other compiler. Building
> GDAL shouldn't be too hard.

I've heard, and learned from experience, that compiling Openev on any 
platform is not for the faint of heart!  Keep us updated on your success / 
failure with doing this, particularly with MingW.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040217/e3311ab4/attachment.html
From MChapman at sanz.com  Tue Feb 17 13:22:03 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
Message-ID: <ED3A48B9840E594890A2BC172D1194650118AD87@mailman.san.com>

FYI, VC++ Pro is only $109.00...

-----Original Message-----
From: Tyler Mitchell [mailto:TMitchell@lignum.com] 
Sent: Tuesday, February 17, 2004 11:06 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Python support under MinGW



> I realize that not everyone can afford (or chooses) to buy MS VC++, 
> but I think
> you are buying yourself alot of headaches to try and build OpenEV and
all
> its dependencies from scratch with MingW or any other compiler.
Building
> GDAL shouldn't be too hard.

I've heard, and learned from experience, that compiling Openev on any
platform is not for the faint of heart!  Keep us updated on your success
/ failure with doing this, particularly with MingW.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040217/6568e345/attachment.html
From bclay at ball.com  Tue Feb 17 13:38:06 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GTOPO30 data read errors
Message-ID: <E4394C8445EFCC4AA136A1C305E4C92851C8AE@APPMSG2.AERO.BALL.COM>

I have downloaded the GTOPO30 data from edcftp cr usgs gov and find that
GDAL can not read most of it.  Many of the files appear to be mostly a
repeating sequence of D8 F1 D8 F1...

Question 1. Is the expected data sequence?

Question 2. Is there something I need to do with GDAL to get it to read
these files?

I have traced into the GDAL code into usgsdebdataset.cpp and it is
rejecting the files because it dose not find the character sequence it
is expecting.

Thanks for your help.

Bruce Clay
bclay@ball.com 

From matt.wilkie at gov.yk.ca  Tue Feb 17 13:56:27 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <EKEJIKAILPONGGENMBGAMEKLGGAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAMEKLGGAA.nhv@cape.com>
Message-ID: <403263DB.5060700@gov.yk.ca>

Norman Vine wrote:
 > if it doesn't - holler again

Holler! Holler!

> and I haven't tried building with Andrey's changes yet but
> 
> ./configure --with-static-proj4=yes
> make
> 
> should then just work :-)

with './configure --with-static-proj4=yes' and
./configure --without-ogr --with-static-proj4=yes'
I get errors (attached). (today's daily cvs)
What do you get?


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------
-------------- next part --------------
make[1]: Entering directory `/usr/local/src/gdal-cvs-040217/ogr'
/bin/sh.exe ../libtool --mode=link      g++  ogrinfo.o ../libgdal.la -o ogrinfo.exe
g++ ogrinfo.o -o ogrinfo.exe  ../.libs/libgdal.a -lz
../.libs/libgdal.a(ogrct.o)(.text+0xf0):ogrct.cpp: undefined reference to `_pj_init_plus'
../.libs/libgdal.a(ogrct.o)(.text+0xf5):ogrct.cpp: undefined reference to `_pj_init'
../.libs/libgdal.a(ogrct.o)(.text+0xfa):ogrct.cpp: undefined reference to `_pj_strerrno'
../.libs/libgdal.a(ogrct.o)(.text+0x104):ogrct.cpp: undefined reference to `_pj_fwd'
../.libs/libgdal.a(ogrct.o)(.text+0x10e):ogrct.cpp: undefined reference to `_pj_inv'
../.libs/libgdal.a(ogrct.o)(.text+0x118):ogrct.cpp: undefined reference to `_pj_free'
../.libs/libgdal.a(ogrct.o)(.text+0x122):ogrct.cpp: undefined reference to `_pj_transform'
../.libs/libgdal.a(ogrct.o)(.text+0x12c):ogrct.cpp: undefined reference to `_pj_get_errno_ref'
../.libs/libgdal.a(ogrct.o)(.text+0x136):ogrct.cpp: undefined reference to `_pj_get_def'
../.libs/libgdal.a(ogrct.o)(.text+0x140):ogrct.cpp: undefined reference to `_pj_transform'
../.libs/libgdal.a(ogrct.o)(.text+0x14d):ogrct.cpp: undefined reference to `_pj_dalloc'
../.libs/libgdal.a(ogrct.o)(.text+0x189):ogrct.cpp: undefined reference to `_pj_transform'
collect2: ld returned 1 exit status
make[1]: *** [ogrinfo.exe] Error 1
make[1]: Leaving directory `/usr/local/src/gdal-cvs-040217/ogr'
make: *** [ogr-apps] Error 2

-------------- next part --------------
/bin/sh.exe /usr/local/src/gdal-cvs-040217/libtool --mode=link  g++  gdalinfo.o  \
        /usr/local/src/gdal-cvs-040217/libgdal.la -o gdalinfo.exe
g++ gdalinfo.o -o gdalinfo.exe  /usr/local/src/gdal-cvs-040217/.libs/libgdal.a -lz
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0xf0):ogrct.cpp: undefined reference to `_pj_init_plus'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0xf5):ogrct.cpp: undefined reference to `_pj_init'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0xfa):ogrct.cpp: undefined reference to `_pj_strerrno'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x104):ogrct.cpp: undefined reference to `_pj_fwd'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x10e):ogrct.cpp: undefined reference to `_pj_inv'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x118):ogrct.cpp: undefined reference to `_pj_free'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x122):ogrct.cpp: undefined reference to `_pj_transform'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x12c):ogrct.cpp: undefined reference to `_pj_get_errno_ref'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x136):ogrct.cpp: undefined reference to `_pj_get_def'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x140):ogrct.cpp: undefined reference to `_pj_transform'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x14d):ogrct.cpp: undefined reference to `_pj_dalloc'
/usr/local/src/gdal-cvs-040217/.libs/libgdal.a(ogrct.o)(.text+0x189):ogrct.cpp: undefined reference to `_pj_transform'
collect2: ld returned 1 exit status
make[1]: *** [gdalinfo.exe] Error 1
make[1]: Leaving directory `/usr/local/src/gdal-cvs-040217/apps'
make: *** [apps-target] Error 2

From bclay at ball.com  Tue Feb 17 14:51:04 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GTOPO30 data read errors
Message-ID: <E4394C8445EFCC4AA136A1C305E4C92851C8AF@APPMSG2.AERO.BALL.COM>

I Think I found the error of my ways (at least on this problem).  I did
not have a .hdr file in the same directory as the .dem file.  Are there
any other files I need in the directory?  When I unzip the dem.tar.gz
files there are several files extracted. Two of them are fair sized, the
dem and a .src file.  Of course we need the DEM but do we need the SRC
file?  Has any work been done on reading DEMs from compressed file to
save disk space?

Bruce
bclay@ball.com


-----Original Message-----
From: Clay, Bruce 
Sent: Tuesday, February 17, 2004 1:38 PM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] GTOPO30 data read errors


I have downloaded the GTOPO30 data from edcftp cr usgs gov and find that
GDAL can not read most of it.  Many of the files appear to be mostly a
repeating sequence of D8 F1 D8 F1...

Question 1. Is the expected data sequence?

Question 2. Is there something I need to do with GDAL to get it to read
these files?

I have traced into the GDAL code into usgsdebdataset.cpp and it is
rejecting the files because it dose not find the character sequence it
is expecting.

Thanks for your help.

Bruce Clay
bclay@ball.com 
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From nhv at cape.com  Tue Feb 17 15:06:27 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <403263DB.5060700@gov.yk.ca>
Message-ID: <EKEJIKAILPONGGENMBGAMEGBGHAA.nhv@cape.com>

Matt Wilkie wrote:
> 
> Norman Vine wrote:
>  > if it doesn't - holler again
> 
> Holler! Holler!
> 
> > and I haven't tried building with Andrey's changes yet but
> > 
> > ./configure --with-static-proj4=yes
> > make
> > 
> > should then just work :-)
> 
> with './configure --with-static-proj4=yes' and
> ./configure --without-ogr --with-static-proj4=yes'
> I get errors (attached). (today's daily cvs)

I still haven't tried building the with-static-proj4 flag but ...

inspecting your error messages it appears as if you
are just missing 

-L$(PATH_TO_PROJLIB) -lproj 

not sure of the best way to add this to the configure files though

so to get 'working' I would just manually insert this into the
CONFIG_LIBS variable in GDALMakeOpt

ie

#
# CONFIG_LIBS is what local program should link against, and CONFIG_LIBS_INS
# is what will be emitted into the gdal-config script that is installed
# globally.
#

ifeq ($(HAVE_LIBTOOL), yes)
CONFIG_LIBS = $(LIBGDAL)  -L$(PATH_TO_PROJLIB) -lproj 

This will be required for Cygwin and MingW compiles as Win32 
doew not allow any unreferenced symbols

HTH

Norman                                 

From pushkar at GRI.MsState.Edu  Tue Feb 17 15:44:22 2004
From: pushkar at GRI.MsState.Edu (Pushkar Pradhan)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] RE: Gdal in ossim environment
Message-ID: <MJEBIBGMCDKIGEHPDECCAELJCHAA.pushkar@erc.msstate.edu>

Sorry if this is off-topic, but I thought Gdal mailing list would be the
best place to ask this.
I'm trying to build the examples in ossim, but it can't link to the gdal
libs.
Since everything was built static, there is only a libgdal.la inside the
gdal dir.
I've compiled ossim to build static apps only (it's a long story...). Their
(ossim's default) apps/odules/routines compiled fine. But this doesn't work:
g++
image_open.o -L/rstc/user1/erc/pushkar/ossim/lib -L/rstc/user1/erc/pushkar/o
ssim/src/packages/gdal    -L/usr/local/mpi/lib  -L/rstc/user1/erc/pushkar/os
sim/lib/.libs -lossim_init -lossim_plugin -lossim_visualsim -lossim_parallel
 -lossim_vec -lossim_imaging -lossim_projections -lossim_elevation -lossim_s
upport_data -lossim_vec -lossim_vpfutil -lossim_font -lossim_base -lossim_po
lyclip -lossim_matrix   -lmpich -lpmpich -L/usr/lib -lfreetype     -lgdal   
  -ljpeg -lgif -lpng -lz -lm -ldl -lutil   -o image_open
/usr/local/gnu/bin/ld: cannot find -lgdal
collect2: ld returned 1 exit status
make: *** [image_open] Error 1

It's getting the path to the gdal dir. but I think it's looking for
libgdal-1.1.9.so.
Can someone tell how I can pass the gdal lib. to my program? Thanks,
Pushkar





From matt.wilkie at gov.yk.ca  Tue Feb 17 18:22:22 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] missing libproj.so
In-Reply-To: <EKEJIKAILPONGGENMBGAMEGBGHAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAMEGBGHAA.nhv@cape.com>
Message-ID: <4032A22E.6090409@gov.yk.ca>

> ifeq ($(HAVE_LIBTOOL), yes)
> CONFIG_LIBS = $(LIBGDAL)  -L$(PATH_TO_PROJLIB) -lproj 
> 
> This will be required for Cygwin and MingW compiles as Win32 
> doew not allow any unreferenced symbols

this did the trick:

	CONFIG_LIBS = $(LIBGDAL) -L$(INST_LIB) -lproj

thanks for all your help Norman!

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From starged at videotron.ca  Wed Feb 18 00:50:41 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <ED3A48B9840E594890A2BC172D1194650118AD87@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D1194650118AD87@mailman.san.com>
Message-ID: <csu5309c779afujtin6nnatb4l6dkneljl@4ax.com>

Hi Martin,

On Tue, 17 Feb 2004 11:22:03 -0700, "Chapman, Martin" <MChapman@sanz.com> wrote:

>FYI, VC++ Pro is only $109.00...

Even if they were giving it away for free, I wouldn't want it :)

I think it's important to push MinGW as an alternative and make software developpers aware of its
existence.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Wed Feb 18 00:53:38 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <4031A5F3.9090809@pobox.com>
References: <kp1330pghl879c2raruut44g2vcqluercg@4ax.com>
 <4031A5F3.9090809@pobox.com>
Message-ID: <gjt530lm8cue9of9i60h6df8lao8mbkveb@4ax.com>

Hi Frank,

>> to enable python support, do I need a MinGW build of Python?
>
>One of the main benefits of MinGW over Cygwin (as I understand it), is that
>the DLLs and libraries are directly compatible with VC++.

This is how I understand it too. That's why I switched...
And on the MinGW website, they explain how an MSVC program can call a MinGW DLL, and vice versa.

>So, it would seem you should be able to use the normal Python for windows libraries without needing to build Python
>itself from scratch.

Is there a way I could verify if it works?

>> (GDAL configure)
>> checking Python makefile... missing, python disabled.
>> (OpenEV configure)
>> configure:3494: error: *** Couldnt find the python config makefile.  Maybe you are
>> *** missing the development portion of the python installation
>
>This configure test depends on unix style checks, and won't work for any
>pythons other than (possibly) the Cygwin python since it looks for stuff in
>a unix style file tree.

Technically, the MSYS bash is a unix style file tree, is it not?
What I don't understand is why the OpenEV configure bails out instead of simply disabling Python
like the GDAL configure does.

BTW, what is the configure scripts looking for exactly? A Python makefile? Could we "fake" one?

>I realize that not everyone can afford (or chooses) to buy MS VC++, but I think
>you are buying yourself alot of headaches to try and build OpenEV and all
>its dependencies from scratch with MingW or any other compiler.

I have been building software on MinGW for a few months now and I got my fair share of headaches :)

But I can endure a lot just to avoid dealing with M$ stuff!

> Building GDAL shouldn't be too hard.

In fact, it went quite well! See other thread...

Thanks for your support.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Wed Feb 18 00:54:42 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: 
 <OFBBED84B3.D53B2552-ON88256E3D.0063495F-88256E3D.00636895@lignum.com>
References: <4031A5F3.9090809@pobox.com>
 <OFBBED84B3.D53B2552-ON88256E3D.0063495F-88256E3D.00636895@lignum.com>
Message-ID: <cqu530173rrjlbbeaaicmgotuanhajloc2@4ax.com>

Hi Tyler,

On Tue, 17 Feb 2004 10:05:48 -0800, Tyler Mitchell <TMitchell@lignum.com> wrote:

>I've heard, and learned from experience, that compiling Openev on any 
>platform is not for the faint of heart!  Keep us updated on your success / 
>failure with doing this, particularly with MingW.

I want to do it because of the enormous potential OpenEV has. So I am ready to suffer :)
You can follow my progress on the OpenEV list...

Thanks for the support.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Wed Feb 18 01:06:58 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <20040217071537.GA3323@ak4719.spb.edu>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
 <20040217071537.GA3323@ak4719.spb.edu>
Message-ID: <miv530lv3ahtq9g21o3ato9djs2te3loev@4ax.com>

Hi Andrey,

On Tue, 17 Feb 2004 10:15:37 +0300, Andrey Kiselev <dron@ak4719.spb.edu> wrote:

>We don't need to link with libm when compiling with MinGW. This problem
>was fixed few weeks ago.

Noted.

>> And if I understand libtool correctly (don't bet on that!), a dll
>> created with libtool needs libtool to link, right?
>
>No, it can be the drop-in replacement for gdal.dll, compiled with the
>MSVC. The only problem here is a C++ name mangling.

Well, I solved the problem: I built a "mini" GDAL static lib in Dev-Cpp (ie with no libtool, with
only a few drivers and not using the makefiles generated by configure) and will make a dll out of it
later using the a2dll script that comes with MinGW. As the author puts it:
"Also, until GNU libtool will allow seamless building of Win32 DLLs, you may build static lib (what
libtool of course supports) and then convert it to DLL"

Thanks for your support.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Wed Feb 18 01:33:32 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <200402170822.39878.alexamici@fastwebnet.it>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
 <200402170822.39878.alexamici@fastwebnet.it>
Message-ID: <a806305f8b2trsmm5kct5hpr7b8jhfsuqv@4ax.com>

Hi Alessandro,

I was hoping you would jump in since I knew you were one of the few on the list familiar with MinGW
:)

On Tue, 17 Feb 2004 08:22:39 +0100, Alessandro Amici <alexamici@fastwebnet.it> wrote:

>all mingw installation i tried had only static libraries inside /usr/lib

Same here except they are in /lib... I guess we could make dlls if we wanted using the a2dll script.

>you may possibly get the gdal internal copy of libz using 
>"--with-libz=internal", but you need to find a way to get a shared copy of 
>libm. you should probably ask to the mingw list.

As you may have read in my other post, I finally chose to build GDAL as a static lib and inside the
Dev-Cpp environment (ie no MSYS) and everything is fine now, althought it took a whole day of
fiddling to fine tune the Dev-Cpp project file...

Thanks for your support.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From warmerdam at pobox.com  Wed Feb 18 01:54:50 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <gjt530lm8cue9of9i60h6df8lao8mbkveb@4ax.com>
References: <kp1330pghl879c2raruut44g2vcqluercg@4ax.com> <4031A5F3.9090809@pobox.com> <gjt530lm8cue9of9i60h6df8lao8mbkveb@4ax.com>
Message-ID: <40330C3A.7040501@pobox.com>

Mario Beauchamp wrote:
> Technically, the MSYS bash is a unix style file tree, is it not?

Mario,

I don't know.  I am not familiar with "MSYS" at all.  I gather this
is some sort of toolset or something related to MingW?

> What I don't understand is why the OpenEV configure bails out instead of simply disabling Python
> like the GDAL configure does.
> 
> BTW, what is the configure scripts looking for exactly? A Python makefile? Could we "fake" one?

The configure tests for python are complicated.  They were copied from some
other projects and rather sloppily hacked for my purposes.  I didn't understand
them well at the time, and I remember little detail about them now.  I would suggest
you just manually copy Makefile.in to Makefile, and hack it yourself.

I would note that OpenEV without python isn't really used for anything, so it
isn't really worth it to me to make that configuration work smoothly.  It would
be nice to be able to override the python build options directly.

> I have been building software on MinGW for a few months now and I got my fair share of headaches :)
> 
> But I can endure a lot just to avoid dealing with M$ stuff!

Well, your braver than me.  What are you going to do about GTK and all
related components?  (glib, gtk+, gtk+extra, gtkglarea, pygtk, etc)? This
is the stuff that normally lives in the "pkgsrc" tree for windows builds?

I would encourage you to try and build against versions of this
built with MSVC by someone else (ie. me) or you will really be fiddling
with alot of stuff.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dron at ak4719.spb.edu  Wed Feb 18 02:53:35 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <csu5309c779afujtin6nnatb4l6dkneljl@4ax.com>
References: <ED3A48B9840E594890A2BC172D1194650118AD87@mailman.san.com> <csu5309c779afujtin6nnatb4l6dkneljl@4ax.com>
Message-ID: <20040218075335.GA2410@ak4719.spb.edu>

On Wed, Feb 18, 2004 at 12:50:41AM -0500, Mario Beauchamp wrote:
Q> >FYI, VC++ Pro is only $109.00...
> Even if they were giving it away for free, I wouldn't want it :)
> 
> I think it's important to push MinGW as an alternative and make
> software developpers aware of its existence.

There is a free open sourced Watcom compiler:

 http://www.openwatcom.com/

One of its main benefits in a MSVC compatibility: i.e. it has nmake, cl
and link utilities, compatible with appropriate MSVC ones. I have made a
few tweaks in makefiles recently to support Watcom compiler.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From alexamici at fastwebnet.it  Wed Feb 18 03:41:08 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] RE: Gdal in ossim environment
In-Reply-To: <MJEBIBGMCDKIGEHPDECCAELJCHAA.pushkar@erc.msstate.edu>
References: <MJEBIBGMCDKIGEHPDECCAELJCHAA.pushkar@erc.msstate.edu>
Message-ID: <200402180941.08705.alexamici@fastwebnet.it>

hi,

On Tuesday 17 February 2004 21:44, Pushkar Pradhan wrote:
> I'm trying to build the examples in ossim, but it can't link to the gdal
> libs.
> Since everything was built static, there is only a libgdal.la inside the
> gdal dir.
> I've compiled ossim to build static apps only (it's a long story...). Their
> (ossim's default) apps/odules/routines compiled fine. But this doesn't
> work: g++
> image_open.o -L/rstc/user1/erc/pushkar/ossim/lib
> -L/rstc/user1/erc/pushkar/o ssim/src/packages/gdal    -L/usr/local/mpi/lib 
> -L/rstc/user1/erc/pushkar/os sim/lib/.libs -lossim_init -lossim_plugin
> -lossim_visualsim -lossim_parallel -lossim_vec -lossim_imaging
> -lossim_projections -lossim_elevation -lossim_s upport_data -lossim_vec
> -lossim_vpfutil -lossim_font -lossim_base -lossim_po lyclip -lossim_matrix 
>  -lmpich -lpmpich -L/usr/lib -lfreetype     -lgdal -ljpeg -lgif -lpng -lz
> -lm -ldl -lutil   -o image_open
> /usr/local/gnu/bin/ld: cannot find -lgdal
> collect2: ld returned 1 exit status
> make: *** [image_open] Error 1
>
> It's getting the path to the gdal dir. but I think it's looking for
> libgdal-1.1.9.so.
> Can someone tell how I can pass the gdal lib. to my program? Thanks,
> Pushkar

as far as i understand /rstc/user1/erc/pushkar/ossim/src/packages/gdal is the 
build directory, not the installation one.
if so you have two alternatives:

good one, install gdal using ./configure --prefix=/my/inst/dir and then add 
-I/my/inst/dir/include -L/my/inst/dir/lib to the compile and link flags 
respectively.

hackish one, in order to find libgdal.a hidden by libtool you should add 
the .libs subdirectory to the library search path: 
-L/rstc/user1/erc/pushkar/ossim/src/packages/gdal/.libs
this is might be less portable, thou.

cheers,
alessandro

From alexamici at fastwebnet.it  Wed Feb 18 03:45:47 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <EPEALOKKOCCOEALLINACEECOFHAA.t.r.decarlo@larc.nasa.gov>
References: <EPEALOKKOCCOEALLINACEECOFHAA.t.r.decarlo@larc.nasa.gov>
Message-ID: <200402180945.47920.alexamici@fastwebnet.it>

Thom,

On Tuesday 17 February 2004 17:14, Thom DeCarlo wrote:
> The place where I experience problems with static libraries is when I try
> to include the Earth Resources Mapping ECW library. It is only available as
> a static library and that causes problems when I build the gdal plugin for
> OpenSceneGraph. Has anyone solved this?

not to my knowledge, and i've never used the ecw library. could you post a 
more datailed bug report? (platform, configuration command, error message 
etc)

i can try to figure that out.

cheers,
alessandro

From alexamici at fastwebnet.it  Wed Feb 18 03:52:38 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <a806305f8b2trsmm5kct5hpr7b8jhfsuqv@4ax.com>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com> <200402170822.39878.alexamici@fastwebnet.it> <a806305f8b2trsmm5kct5hpr7b8jhfsuqv@4ax.com>
Message-ID: <200402180952.38906.alexamici@fastwebnet.it>

Mario,

On Wednesday 18 February 2004 07:33, Mario Beauchamp wrote:
> Hi Alessandro,
>
> I was hoping you would jump in since I knew you were one of the few on the
> list familiar with MinGW
>
> :)

well, familiar is far too much ;)

> As you may have read in my other post, I finally chose to build GDAL as a
> static lib and inside the Dev-Cpp environment (ie no MSYS) and everything
> is fine now, althought it took a whole day of fiddling to fine tune the
> Dev-Cpp project file...

why did you go for dev-cpp for building the static library (which i belive is 
a lot of work!)? did you have any problem with the gdal static build?

i'd think that just doing 'configure' 'make' 'make install' 'a2dll' should 
work as well (but i cannot try it since i don't have any windows box at the 
moment)

cheers,
alessandro

From dron at ak4719.spb.edu  Wed Feb 18 04:08:11 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <200402180952.38906.alexamici@fastwebnet.it>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com> <200402170822.39878.alexamici@fastwebnet.it> <a806305f8b2trsmm5kct5hpr7b8jhfsuqv@4ax.com> <200402180952.38906.alexamici@fastwebnet.it>
Message-ID: <20040218090811.GA12375@ak4719.spb.edu>

On Wed, Feb 18, 2004 at 09:52:38AM +0100, Alessandro Amici wrote:
> i'd think that just doing 'configure' 'make' 'make install' 'a2dll'
> should work as well (but i cannot try it since i don't have any
> windows box at the moment)

Moreover, it should work without a2dll. The only problem is an extrnal
static libraries, as I have mentioned previously, but without externals
libtool should build both static and dynamic versions cleanly. If build
fails it should be considered as a bug.

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From alexamici at fastwebnet.it  Wed Feb 18 05:30:47 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <20040218090811.GA12375@ak4719.spb.edu>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com> <200402180952.38906.alexamici@fastwebnet.it> <20040218090811.GA12375@ak4719.spb.edu>
Message-ID: <200402181130.47522.alexamici@fastwebnet.it>

Andrey,

On Wednesday 18 February 2004 10:08, Andrey Kiselev wrote:
> On Wed, Feb 18, 2004 at 09:52:38AM +0100, Alessandro Amici wrote:
> > i'd think that just doing 'configure' 'make' 'make install' 'a2dll'
> > should work as well (but i cannot try it since i don't have any
> > windows box at the moment)
>
> Moreover, it should work without a2dll. The only problem is an extrnal
> static libraries, as I have mentioned previously, but without externals
> libtool should build both static and dynamic versions cleanly. If build
> fails it should be considered as a bug.

i just resurrected my mingw cross-compile environment (on debian sid) and 
indeed i get the shared library built out-of-the-box!

Mario, FYI jpeg support is broken under mingw by a double definition of INT32, 
use './configure --with-jpeg=no'

on a side note: cross-compile is still quite broken i need to explicitely 
disable pg and python support that are present on the build enviromnet, but 
not on the host.

cheers,
alessandro

From dron at ak4719.spb.edu  Wed Feb 18 05:41:19 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <200402181130.47522.alexamici@fastwebnet.it>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com> <200402180952.38906.alexamici@fastwebnet.it> <20040218090811.GA12375@ak4719.spb.edu> <200402181130.47522.alexamici@fastwebnet.it>
Message-ID: <20040218104119.GA22726@ak4719.spb.edu>

On Wed, Feb 18, 2004 at 11:30:47AM +0100, Alessandro Amici wrote:
> Mario, FYI jpeg support is broken under mingw by a double definition
> of INT32, use './configure --with-jpeg=no'

I have fixed this in the GDAL tree yesterday, but those who want to
link against the external JPEG library should make the following changes
in the JPEG sources:

--- jmorecfg.h	1997-08-10 03:58:56.000000000 +0400
+++ jmorecfg.h.new	2004-02-17 13:48:56.000000000 +0300
@@ -158,8 +158,10 @@
 /* INT32 must hold at least signed 32-bit values. */
 
 #ifndef XMD_H			/* X11/xmd.h correctly defines INT32 */
+#ifndef _BASETSD_H
 typedef long INT32;
 #endif
+#endif
 
 /* Datatype used for image dimensions.  The JPEG standard only supports
  * images up to 64K*64K due to 16-bit fields in SOF markers.  Therefore


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From dron at ak4719.spb.edu  Wed Feb 18 05:55:45 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <20040218104119.GA22726@ak4719.spb.edu>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com> <200402180952.38906.alexamici@fastwebnet.it> <20040218090811.GA12375@ak4719.spb.edu> <200402181130.47522.alexamici@fastwebnet.it> <20040218104119.GA22726@ak4719.spb.edu>
Message-ID: <20040218105545.GA9746@ak4719.spb.edu>

On Wed, Feb 18, 2004 at 01:41:19PM +0300, Andrey Kiselev wrote:
> I have fixed this in the GDAL tree yesterday, but those who want to
> link against the external JPEG library should make the following changes
> in the JPEG sources:
> 
> --- jmorecfg.h	1997-08-10 03:58:56.000000000 +0400
> +++ jmorecfg.h.new	2004-02-17 13:48:56.000000000 +0300
> @@ -158,8 +158,10 @@
>  /* INT32 must hold at least signed 32-bit values. */
>  
>  #ifndef XMD_H			/* X11/xmd.h correctly defines INT32 */
> +#ifndef _BASETSD_H
>  typedef long INT32;
>  #endif
> +#endif
>  
>  /* Datatype used for image dimensions.  The JPEG standard only supports
>   * images up to 64K*64K due to 16-bit fields in SOF markers.  Therefore

On other hand the following trick in jpegdataset.cpp should also work:

#ifdef _BASETSD_H
#define XMD_H
#endif


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From ejm at gavia.is  Wed Feb 18 06:35:22 2004
From: ejm at gavia.is (=?iso-8859-1?Q?Eggert_J=F3n_Magn=FAsson?=)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problem with Python, OGR/OGDI and VPF.http://www.esri.com/devsupport/devconn/mapobjects/samples/vb/vpfsamples/vpfsamples.zip
Message-ID: <ILEKILPAGIAINFOCFAIJGEOICBAA.ejm@gavia.is>

I am having problems reading a VPF database through OGDI/OGR in python.
When I try to call ds.GetLayer(layerCount-2), something locks up.
I am not sure on which end the lockup is (whether OGR is waiting for OGDI?)
but ogrinfo displays the layer names correctly.

The dataset I am using is the formerly publically available sample VPF
dataset, San Diego Harbor.  (I managed to obtain it from the ESRI homepage:
http://www.esri.com/devsupport/devconn/mapobjects/samples/vb/vpfsamples/vpfs
amples.zip)

Here is the snippet of code that manages to lock up:
	for i in range(file.GetLayerCount()):
	    layer = file.GetLayer(i)
	    print 'layer %s with %d
features.'%(layer.GetName(),layer.GetFeatureCount())
	    gt = layer.GetLayerDefn().GetGeomType()
	    print 'gt',gt
	    if gt == 3:
		obClass = Area
		append = self.polygons.append
	    elif gt == 2:
		obClass = Line
		append = self.lines.append
	    else: #  gt == 1: Point
		obClass = None
	    continue


What happens is that I get a printout of all the layers except the last 2
ones, and the process locks up.
--
regards,
Eggert J?n Magn?sson



From nhv at cape.com  Wed Feb 18 06:42:43 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <200402181130.47522.alexamici@fastwebnet.it>
Message-ID: <EKEJIKAILPONGGENMBGAIEIFGHAA.nhv@cape.com>

Alessandro Amici writes:
> 
> Mario, FYI jpeg support is broken under mingw by a double definition of INT32, 
> use './configure --with-jpeg=no'

just comment this out as below in jmore.cfg

#ifndef XMD_H			/* X11/xmd.h correctly defines INT32 */
#if ! (defined(__CYGWIN__) || defined(__MINGW32__))
typedef long INT32;
#endif
#endif


From nhv at cape.com  Wed Feb 18 11:31:01 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Fw: Compiling python with the free .NET SDK
Message-ID: <EKEJIKAILPONGGENMBGACEJHGHAA.nhv@cape.com>

FYI

I have not tried this

but given all the MingW discussion lately :-)

Cheers

Norman

"Garth" <garth@garthy.com> wrote in message news:<40326D18.20304@garthy.com>...
> Hi ,
> 
> Attached is a tool to allow you to build python using the free .NET SDK 
> and Platform SDK (and gnu tools from msys).  It will generate the 
> makefiles from the solution file. It's as easy as.
> 
> 1. Copy all files into PCBuild
> 2 Run "sln_read.py makemake pcbuild.sln "Debug|Win32"
>    or "sln_read.py makemake pcbuild.sln "Release|Win32"
>   and the make files are generated
> 3. run make -f pcbuild.gnu.mak and python is built
> 
> The readme included expands on this. There's still quite a bit todo but 
> the tool works and I seem to be quite busy so here it is. It could be 
> quite easilt modified to use gcc instead of cl or some other makefile thingy
> 
> Enjoy
> 
> Garth
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vcproj2make-2004-02-17.zip
Type: application/octet-stream
Size: 10706 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040218/c094f64c/vcproj2make-2004-02-17.obj
-------------- next part --------------
_______________________________________________
Python-Dev mailing list
Python-Dev@python.org
http://mail.python.org/mailman/listinfo/python-dev
Unsubscribe: http://mail.python.org/mailman/options/python-dev/python-python-dev%40m.gmane.org
From warmerdam at pobox.com  Wed Feb 18 14:20:19 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problem with Python, OGR/OGDI and VPF.http://www.esri.com/devsupport/devconn/mapobjects/samples/vb/vpfsamples/vpfsamples.zip
In-Reply-To: <ILEKILPAGIAINFOCFAIJGEOICBAA.ejm@gavia.is>
References: <ILEKILPAGIAINFOCFAIJGEOICBAA.ejm@gavia.is>
Message-ID: <4033BAF3.20605@pobox.com>

Eggert J?n Magn?sson wrote:
> I am having problems reading a VPF database through OGDI/OGR in python.
> When I try to call ds.GetLayer(layerCount-2), something locks up.
> I am not sure on which end the lockup is (whether OGR is waiting for OGDI?)
> but ogrinfo displays the layer names correctly.
> 
> The dataset I am using is the formerly publically available sample VPF
> dataset, San Diego Harbor.  (I managed to obtain it from the ESRI homepage:
> http://www.esri.com/devsupport/devconn/mapobjects/samples/vb/vpfsamples/vpfs
> amples.zip)
> 
> Here is the snippet of code that manages to lock up:
> 	for i in range(file.GetLayerCount()):
> 	    layer = file.GetLayer(i)
> 	    print 'layer %s with %d
> features.'%(layer.GetName(),layer.GetFeatureCount())
> 	    gt = layer.GetLayerDefn().GetGeomType()
> 	    print 'gt',gt
> 	    if gt == 3:
> 		obClass = Area
> 		append = self.polygons.append
> 	    elif gt == 2:
> 		obClass = Line
> 		append = self.lines.append
> 	    else: #  gt == 1: Point
> 		obClass = None
> 	    continue
> 
> 
> What happens is that I get a printout of all the layers except the last 2
> ones, and the process locks up.

Eggert,

I just tried the following script with the dataset you referenced, and it
seemed to work fine.

import ogr

file = ogr.Open( 'gltp:/vrf/dnc13cd/H1316010' )


for i in range(file.GetLayerCount()):
     layer = file.GetLayer(i)
     print 'layer %s with %d features.'%(layer.GetName(),layer.GetFeatureCount())
     gt = layer.GetLayerDefn().GetGeomType()
     print 'gt',gt

It ran to completion, and seems to have reported all layers.  The report
ends with:

layer dqyarea@dqy(*)_area with 21 features.
gt 3
layer relline@rel(*)_line with 35 features.
gt 2
layer relpoint@rel(*)_point with 2 features.
gt 1
layer tileref@tileref(*)_area with 2 features.
gt 3
layer libref@libref(*)_line with 270 features.
gt 2

I was doing this on Linux with current CVS versions of OGDI and GDAL/OGR.
What platform are you working on?  What versions of GDAL and OGR?

Now that I am looking at the vrf driver again, I find there are some
leaks which I am digging into, but I can't imagine those would be
responsible for your problems.

Best regards,


---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From starged at videotron.ca  Wed Feb 18 23:43:30 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <20040218075335.GA2410@ak4719.spb.edu>
References: <ED3A48B9840E594890A2BC172D1194650118AD87@mailman.san.com>
 <csu5309c779afujtin6nnatb4l6dkneljl@4ax.com>
 <20040218075335.GA2410@ak4719.spb.edu>
Message-ID: <4lf830l8l0bg2rkuv9s5515nphuiq747n3@4ax.com>

Hi Andrey,

On Wed, 18 Feb 2004 10:53:35 +0300, Andrey Kiselev <dron@ak4719.spb.edu> wrote:

>There is a free open sourced Watcom compiler:
>
> http://www.openwatcom.com/

It may be an option if I ever get tired of MinGW :)

Thanks for mentioning it.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Wed Feb 18 23:58:39 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Python support under MinGW
In-Reply-To: <40330C3A.7040501@pobox.com>
References: <kp1330pghl879c2raruut44g2vcqluercg@4ax.com>
 <4031A5F3.9090809@pobox.com> <gjt530lm8cue9of9i60h6df8lao8mbkveb@4ax.com>
 <40330C3A.7040501@pobox.com>
Message-ID: <nnf830ltk1an1iuust7mnvhq2hg186ca3d@4ax.com>

Hi Frank,

On Wed, 18 Feb 2004 01:54:50 -0500, Frank Warmerdam <warmerdam@pobox.com> wrote:

>I don't know.  I am not familiar with "MSYS" at all.  I gather this
>is some sort of toolset or something related to MingW?

Quoted from the MinGW site: "A Minimal SYStem to provide POSIX/Bourne configure scripts the ability
to execute and create a Makefile used by make".

>I would note that OpenEV without python isn't really used for anything, so it
>isn't really worth it to me to make that configuration work smoothly.  It would
>be nice to be able to override the python build options directly.

That problem may be solved... see post on openev list.

>Well, your braver than me.  What are you going to do about GTK and all
>related components?  (glib, gtk+, gtk+extra, gtkglarea, pygtk, etc)? This
>is the stuff that normally lives in the "pkgsrc" tree for windows builds?

I use the gtk stuff I got from: http://www.gimp.org/~tml/gimp/win32/downloads.html

>I would encourage you to try and build against versions of this
>built with MSVC by someone else (ie. me) or you will really be fiddling
>with alot of stuff.

I think I succeeded in doing that. Got the .def's and the headers from the openev cvs web. And
managed to link against the dlls included with OpenEV_FW 1.63. I still don't have a working OpenEv
but I will get there, you can bet on that :)

Thanks for your help.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Thu Feb 19 00:02:46 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <200402180952.38906.alexamici@fastwebnet.it>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
 <200402170822.39878.alexamici@fastwebnet.it>
 <a806305f8b2trsmm5kct5hpr7b8jhfsuqv@4ax.com>
 <200402180952.38906.alexamici@fastwebnet.it>
Message-ID: <lkg830ps10l1i6d78fr3a4k9dc594g0l6d@4ax.com>

Hi Alessandro,

On Wed, 18 Feb 2004 09:52:38 +0100, Alessandro Amici <alexamici@fastwebnet.it> wrote:

>why did you go for dev-cpp for building the static library (which i belive is 
>a lot of work!)? did you have any problem with the gdal static build?

I feel more comfortable in a IDE... hate the command-line stuff :)
And yes, it's a lot of work but you only have to do it once.

>i'd think that just doing 'configure' 'make' 'make install' 'a2dll' should 
>work as well

Up to yesterday, that's the way I was doing it... just got tired of it.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From starged at videotron.ca  Thu Feb 19 00:08:24 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problems building gdal dll with libtool on MinGW
In-Reply-To: <200402181130.47522.alexamici@fastwebnet.it>
References: <0pt230dsq3dp93ctvd77mmgpr6l9347iba@4ax.com>
 <200402180952.38906.alexamici@fastwebnet.it>
 <20040218090811.GA12375@ak4719.spb.edu>
 <200402181130.47522.alexamici@fastwebnet.it>
Message-ID: <isg830hn5hhm53j02esaktusklfgqpdaca@4ax.com>

Hi Alessandro,

>Mario, FYI jpeg support is broken under mingw by a double definition of INT32, 
>use './configure --with-jpeg=no'

Yes, I knew about that. I simply hacked the jmorecfg.h as was suggested in a previous post.

I dream of the day when an integer will be the same for everyone :)
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From warmerdam at pobox.com  Thu Feb 19 02:39:17 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
Message-ID: <40346825.4010508@pobox.com>

Folks,

I am suffering from a growing compulsion to make a substantial update to OGR
before a GDAL 1.2.0 release.  In particular I would like to make some movement
to unifying GDAL and OGR in the following ways:

  o Merge the driver architectures of GDAL and OGR, so there is one driver
    registry, and a call to GDALOpen() can be used to open raster and vector
    datasets.
  o OGRDataSource and OGRLayer would be derived from GDALMajorObject which
    provides metadata services.
  o The TestCapability() mechanism in OGR would be reimplemented in some manner
    on the basis of metadata as capabilities are handled in GDAL.
  o Some degree of merger between GDALDataset and OGRDataSource would be
    achieved so it would become possible to have a single dataset with both
    raster bands and vector layers.  For instance, for formats like PCIDSK,
    OGDI datasources, and DODS datasources.  The raster and vector SDTS drivers
    would be merged.

The intent is that the changes would not result in any disruption for
GDAL raster applications; however, some minor changes might be required for
OGR applications.  All OGR drivers would require some modification and GDAL
drivers *might* require very minor changes.

It seems that if I am going to make a change of this magnitude, it would be
best to do so before the 1.2.0 release cycle.

One other change I am kicking around is to allow passing options into the
Open() call.  This would allow special processing such as is already done for
S-57 files with various CPLSetConfigOption() calls.  However
CPLSetConfigOption() is a pretty clumsy instrument in a potentially
multi-threaded application since it is global rather than affecting just a
single open call.

I am interested in any other opinions on the wisdom of my suggested changes,
approaches people would like to suggest or other work items that should be
done in the same overhaul pass.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From alexamici at fastwebnet.it  Thu Feb 19 03:41:15 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <40346825.4010508@pobox.com>
References: <40346825.4010508@pobox.com>
Message-ID: <200402190941.15785.alexamici@fastwebnet.it>

Frank,

On Thursday 19 February 2004 08:39, Frank Warmerdam wrote:
> Folks,
>
> I am suffering from a growing compulsion to make a substantial update to
> OGR before a GDAL 1.2.0 release.  In particular I would like to make some
> movement to unifying GDAL and OGR in the following ways:
>

argh!

what about a rapid 1.2.0 (with it's own cvs branch for fixes) and then start a 
big restructure marked 2.0.0?

there are so many new features and fixes in current cvs that many applications 
would benefit now. and the only non-backward compatible change for 
applications is the -lgdal.1.1 -> -lgdal transition (easily handled using 
'gdal-config --libs'). 

and next you can concentrate on big API changes thus bumping the major version 
number seems needed anyhow.

just my two cents,
alessandro

From dron at ak4719.spb.edu  Thu Feb 19 03:50:31 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <40346825.4010508@pobox.com>
References: <40346825.4010508@pobox.com>
Message-ID: <20040219085031.GA20938@ak4719.spb.edu>

Frank,

On Thu, Feb 19, 2004 at 02:39:17AM -0500, Frank Warmerdam wrote:
>  o Merge the driver architectures of GDAL and OGR, so there is one driver
>    registry, and a call to GDALOpen() can be used to open raster and
>    vector datasets.
>  o OGRDataSource and OGRLayer would be derived from GDALMajorObject which
>    provides metadata services.
...
>  o Some degree of merger between GDALDataset and OGRDataSource would be
>    achieved so it would become possible to have a single dataset with
>    both raster bands and vector layers.  For instance, for formats
>    like PCIDSK, OGDI datasources, and DODS datasources.  The raster
>    and vector SDTS drivers would be merged.

This is very good idea and it greatly simplifies GDAL for users (and it
seems for driver developers too). I like it.

> It seems that if I am going to make a change of this magnitude, it
> would be best to do so before the 1.2.0 release cycle.

Those changes will take a time for implementing and especially for
testing. What about releasing GDAL 1.1.10 shortly? libtool environment
seems to work good: GDAL builds on all 9 Debian architectures, it builds
in native MinGW and Cygwin environments and it even builds with my old
MinGW cross-compiler (and Alessandro reported it builds with the newer
cross-compiler on Debian unstable). So it seems to be more robust than
previous build system.

> One other change I am kicking around is to allow passing options into
> the Open() call.

This is a feature we should have. I think we need two optional
parameters: one is a subdataset number to open and another is open
option. So interactive tools will not display all that ugly subdataset
names, but only show their descriptions and numbers, like OpenEV does.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From ben at vterrain.org  Thu Feb 19 03:56:33 2004
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <200402190941.15785.alexamici@fastwebnet.it>
Message-ID: <03df01c3f6c6$45f3a9e0$f400fe0a@TOPP2>

> what about a rapid 1.2.0 (with it's own cvs branch for fixes) 
> and then start a big restructure marked 2.0.0?

I'd like to second that motion.  The best chance for making 1.2.0 a 'stable'
release is to put it out _before_ major changes.  Once the big changes
occur, we'll need to wait for a long time for broken things to be found and
resolved, before we can call it 'stable'.

Thanks,
Ben




From alexamici at fastwebnet.it  Thu Feb 19 04:49:50 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <20040219085031.GA20938@ak4719.spb.edu>
References: <40346825.4010508@pobox.com> <20040219085031.GA20938@ak4719.spb.edu>
Message-ID: <200402191049.50967.alexamici@fastwebnet.it>

Andrey,

On Thursday 19 February 2004 09:50, Andrey Kiselev wrote:
> > It seems that if I am going to make a change of this magnitude, it
> > would be best to do so before the 1.2.0 release cycle.
>
> Those changes will take a time for implementing and especially for
> testing. What about releasing GDAL 1.1.10 shortly?

1.2.0 is more appropriate since you need to change the link option (WRT to 
1.1.9) for external application. unless you are using 1.1.9 on debian ;)

> libtool environment
> seems to work good: GDAL builds on all 9 Debian architectures, it builds
> in native MinGW and Cygwin environments and it even builds with my old
> MinGW cross-compiler (and Alessandro reported it builds with the newer
> cross-compiler on Debian unstable). So it seems to be more robust than
> previous build system.

:)

my most amazing target was an old alpha with gcc 2.8.? and native (non-gnu) 
ld.

cheers,
alessandro

From ejm at gavia.is  Thu Feb 19 05:09:59 2004
From: ejm at gavia.is (=?iso-8859-1?Q?Eggert_J=F3n_Magn=FAsson?=)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problem with Python, OGR/OGDI and VPF.
In-Reply-To: <4033BAF3.20605@pobox.com>
Message-ID: <ILEKILPAGIAINFOCFAIJGECHCCAA.ejm@gavia.is>

Your script reproduces the problem on my end.

layer relline@rel(*)_line with 35 features.
gt 2
layer relpoint@rel(*)_point with 2 features.
gt 1

I am running on windows XP, and am using version 3.1.0 of ogdi (latest
binary release), and gdal 1.1.9.
I have not yet felt brave enough to compile ogdi for windows - but I am
getting there :)

regards,
Eggert

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Frank Warmerdam
Sent: 18. febr?ar 2004 19:20
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Problem with Python, OGR/OGDI and
VPF.http://www.esri.com/devsupport/devconn/mapobjects/samples/vb/vpfsamp

les/vpfsamples.zip


Eggert J?n Magn?sson wrote:
> I am having problems reading a VPF database through OGDI/OGR in python.
> When I try to call ds.GetLayer(layerCount-2), something locks up.
> I am not sure on which end the lockup is (whether OGR is waiting for
OGDI?)
> but ogrinfo displays the layer names correctly.
>
> The dataset I am using is the formerly publically available sample VPF
> dataset, San Diego Harbor.  (I managed to obtain it from the ESRI
homepage:
>
http://www.esri.com/devsupport/devconn/mapobjects/samples/vb/vpfsamples/vpfs
> amples.zip)
>
> Here is the snippet of code that manages to lock up:
> 	for i in range(file.GetLayerCount()):
> 	    layer = file.GetLayer(i)
> 	    print 'layer %s with %d
> features.'%(layer.GetName(),layer.GetFeatureCount())
> 	    gt = layer.GetLayerDefn().GetGeomType()
> 	    print 'gt',gt
> 	    if gt == 3:
> 		obClass = Area
> 		append = self.polygons.append
> 	    elif gt == 2:
> 		obClass = Line
> 		append = self.lines.append
> 	    else: #  gt == 1: Point
> 		obClass = None
> 	    continue
>
>
> What happens is that I get a printout of all the layers except the last 2
> ones, and the process locks up.

Eggert,

I just tried the following script with the dataset you referenced, and it
seemed to work fine.

import ogr

file = ogr.Open( 'gltp:/vrf/dnc13cd/H1316010' )


for i in range(file.GetLayerCount()):
     layer = file.GetLayer(i)
     print 'layer %s with %d
features.'%(layer.GetName(),layer.GetFeatureCount())
     gt = layer.GetLayerDefn().GetGeomType()
     print 'gt',gt

It ran to completion, and seems to have reported all layers.  The report
ends with:

layer dqyarea@dqy(*)_area with 21 features.
gt 3
layer relline@rel(*)_line with 35 features.
gt 2
layer relpoint@rel(*)_point with 2 features.
gt 1
layer tileref@tileref(*)_area with 2 features.
gt 3
layer libref@libref(*)_line with 270 features.
gt 2

I was doing this on Linux with current CVS versions of OGDI and GDAL/OGR.
What platform are you working on?  What versions of GDAL and OGR?

Now that I am looking at the vrf driver again, I find there are some
leaks which I am digging into, but I can't imagine those would be
responsible for your problems.

Best regards,


---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From warmerdam at pobox.com  Thu Feb 19 09:12:53 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problem with Python, OGR/OGDI and VPF.
In-Reply-To: <ILEKILPAGIAINFOCFAIJGECHCCAA.ejm@gavia.is>
References: <ILEKILPAGIAINFOCFAIJGECHCCAA.ejm@gavia.is>
Message-ID: <4034C465.4040108@pobox.com>

Eggert J?n Magn?sson wrote:
> Your script reproduces the problem on my end.
> 
> layer relline@rel(*)_line with 35 features.
> gt 2
> layer relpoint@rel(*)_point with 2 features.
> gt 1
> 
> I am running on windows XP, and am using version 3.1.0 of ogdi (latest
> binary release), and gdal 1.1.9.
> I have not yet felt brave enough to compile ogdi for windows - but I am
> getting there :)

Eggert,

There is a problem with a dangle in the dataset you reference which hangs
OGDI 3.1.1 and earlier.  You will need to upgrade to OGDI 3.1.2.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From ejm at gavia.is  Thu Feb 19 09:48:50 2004
From: ejm at gavia.is (=?iso-8859-1?Q?Eggert_J=F3n_Magn=FAsson?=)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Problem with Python, OGR/OGDI and VPF.
In-Reply-To: <4034C465.4040108@pobox.com>
Message-ID: <ILEKILPAGIAINFOCFAIJKECNCCAA.ejm@gavia.is>

Thanks immensely.  That is exactly what I have done, and it works!
Building ogdi was a bit of a pain, until I decided to follow the
instructions
to the letter :)

Eggert.

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Frank Warmerdam
Sent: 19. febr?ar 2004 14:13
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Problem with Python, OGR/OGDI and VPF.


Eggert J?n Magn?sson wrote:
> Your script reproduces the problem on my end.
>
> layer relline@rel(*)_line with 35 features.
> gt 2
> layer relpoint@rel(*)_point with 2 features.
> gt 1
>
> I am running on windows XP, and am using version 3.1.0 of ogdi (latest
> binary release), and gdal 1.1.9.
> I have not yet felt brave enough to compile ogdi for windows - but I am
> getting there :)

Eggert,

There is a problem with a dangle in the dataset you reference which hangs
OGDI 3.1.1 and earlier.  You will need to upgrade to OGDI 3.1.2.

Best regards,

--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From neteler at itc.it  Thu Feb 19 10:24:06 2004
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <200402190941.15785.alexamici@fastwebnet.it>
References: <40346825.4010508@pobox.com> <200402190941.15785.alexamici@fastwebnet.it>
Message-ID: <20040219152406.GG13398@thuille.itc.it>

On Thu, Feb 19, 2004 at 09:41:15AM +0100, Alessandro Amici wrote:
> 
> Frank,
> 
> On Thursday 19 February 2004 08:39, Frank Warmerdam wrote:
> > Folks,
> >
> > I am suffering from a growing compulsion to make a substantial update to
> > OGR before a GDAL 1.2.0 release.  In particular I would like to make some
> > movement to unifying GDAL and OGR in the following ways:
> >
> 
> argh!
> 
> what about a rapid 1.2.0 (with it's own cvs branch for fixes) and then start a 
> big restructure marked 2.0.0?
> 
> there are so many new features and fixes in current cvs that many applications 
> would benefit now. and the only non-backward compatible change for 
> applications is the -lgdal.1.1 -> -lgdal transition (easily handled using 
> 'gdal-config --libs'). 
> 
> and next you can concentrate on big API changes thus bumping the major version 
> number seems needed anyhow.
> 
> just my two cents,

Frank, please make a release before changing the API.

GRASS 5.7's import/export depends highly on OGR (but the current OGR-CVS,
due to the SHAPE bugfix and many more bugfixes and feature enhancements).

Same thing with r.in.gdal which affects both GRASS 5.3 and 5.7.

Since most distributions such a Mandrake, Debian etc accept only
official releases, we have to explain regularly to the GRASS users to
upgrade and use GDAL/OGR from CVS (which is not a good idea for 
average users...).

The GRASS community would appreciate a new release before doing major
changes (1.1.10 ?).

Just my 0.02 Euro

 Markus


From cpurvis at asg.sc.edu  Thu Feb 19 10:34:40 2004
From: cpurvis at asg.sc.edu (Charlton Purvis)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] connection to Baruch lab
Message-ID: <AE6FF3A533861C41A6571F1D7DDF6F61918F20@asgnet2.asg.sc.edu>

Hey, Danna:

Thanks again for letting us use space on your server.  I must admit,
though, that the connection isn't all that great.  Is your field
hardwired to the USC backbone, or do you now know?

I'm CC:-ing folks here who might know the answer to that.

Unfortunately, the connection isn't reliable.  Sometimes it does OK,
sometimes it times-out.

Charlton

 
 
 
Charlton Purvis
(803) 777-8858 : voice
(803) 777-3935 : fax
cpurvis@sc.edu
 
Baruch Institute
University of South Carolina
Columbia, SC 29208


From alexamici at fastwebnet.it  Thu Feb 19 10:53:22 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <20040219152406.GG13398@thuille.itc.it>
References: <40346825.4010508@pobox.com> <200402190941.15785.alexamici@fastwebnet.it> <20040219152406.GG13398@thuille.itc.it>
Message-ID: <200402191653.22325.alexamici@fastwebnet.it>

Markus,

[snip very good arguments that i obviously second :) ]

> The GRASS community would appreciate a new release before doing major
> changes (1.1.10 ?).

please, the version number really needs to be (at least) 1.2.0, since linking 
with gdal is _not_ backward compatible and you can't just bump the patch 
level.

as a regular user i'd be really p*ssed off if a library update from version 
x.y.z to x.y.z+1 would break all related apps, and some will not even build 
from source any more!

does the grass build system cope with the -lgdal.1.1 -> -lgdal stuff? i guess 
so, it is not hard, but we already had people reporting failed builds of 
third party applications :(.

sorry for the rant :)
alessandro

From warmerdam at pobox.com  Thu Feb 19 10:51:25 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <20040219152406.GG13398@thuille.itc.it>
References: <40346825.4010508@pobox.com> <200402190941.15785.alexamici@fastwebnet.it> <20040219152406.GG13398@thuille.itc.it>
Message-ID: <4034DB7D.6000806@pobox.com>

Alessandro Amici wrote:
 > argh!
 >
 > what about a rapid 1.2.0 (with it's own cvs branch for fixes) and then start a
 > big restructure marked 2.0.0?

Andrey Kiselev wrote:
 > Those changes will take a time for implementing and especially for
 > testing. What about releasing GDAL 1.1.10 shortly?

Ben Discoe wrote:
 > I'd like to second that motion.  The best chance for making 1.2.0 a 'stable'
 > release is to put it out _before_ major changes.  Once the big changes
 > occur, we'll need to wait for a long time for broken things to be found and
 > resolved, before we can call it 'stable'.

Markus Neteler wrote:
 > Frank, please make a release before changing the API.

Folks,

OK, there seems to be a general agreement, that folks would prefer to have
a release now instead of in some indeterminate future after a bunch of
restructuring.  The release will be called 1.2.0 primarily because of the
change to use of libtool.  But also because my internal version macros won't
let me use a 10 for any of the release subcomponents. :-)

I will prepare a 1.2.0 alpha today.

Note that I hate branches, so I will want the 1.2.x series to settle down
now before proceeding to a 1.3.0 (or even 2.0.0) with the suggested OGR
changes.  That means giving things a few months for point releases.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From neteler at itc.it  Thu Feb 19 10:55:13 2004
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <200402191653.22325.alexamici@fastwebnet.it>
References: <40346825.4010508@pobox.com> <200402190941.15785.alexamici@fastwebnet.it> <20040219152406.GG13398@thuille.itc.it> <200402191653.22325.alexamici@fastwebnet.it>
Message-ID: <20040219155513.GK13398@thuille.itc.it>

On Thu, Feb 19, 2004 at 04:53:22PM +0100, Alessandro Amici wrote:
> 
> Markus,
> 
> [snip very good arguments that i obviously second :) ]
> 
> > The GRASS community would appreciate a new release before doing major
> > changes (1.1.10 ?).
> 
> please, the version number really needs to be (at least) 1.2.0, since linking 
> with gdal is _not_ backward compatible and you can't just bump the patch 
> level.
 
Right.

> as a regular user i'd be really p*ssed off if a library update from version 
> x.y.z to x.y.z+1 would break all related apps, and some will not even build 
> from source any more!

That's why we need a release :-) Then we could point people to an official
package... Later we'll have to modify v.[in|out].ogr (mhh, so we should
make a GRASS 5.7 release as well ...).

> does the grass build system cope with the -lgdal.1.1 -> -lgdal stuff? i guess 
> so, it is not hard, but we already had people reporting failed builds of 
> third party applications :(.

Yes, I think so, it works fine on Redhat 7/9, Mandrake 9.1, Debian 
(for me/our group).

Markus


From alexamici at fastwebnet.it  Thu Feb 19 11:40:17 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4034DB7D.6000806@pobox.com>
References: <40346825.4010508@pobox.com> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com>
Message-ID: <200402191740.17221.alexamici@fastwebnet.it>

Frank,

On Thursday 19 February 2004 16:51, Frank Warmerdam wrote:
> OK, there seems to be a general agreement, that folks would prefer to have
> a release now instead of in some indeterminate future after a bunch of
> restructuring.  The release will be called 1.2.0 primarily because of the
> change to use of libtool.  But also because my internal version macros
> won't let me use a 10 for any of the release subcomponents. :-)
>
> I will prepare a 1.2.0 alpha today.

i'm sure that if you give us all a list of 'must fix' and 'need work' items 
people will concentrate on those and try to shorten the release cycle as much 
as possible. it appears that everybody here is waiting for the release ;)

> Note that I hate branches, so I will want the 1.2.x series to settle down
> now before proceeding to a 1.3.0 (or even 2.0.0) with the suggested OGR
> changes.  That means giving things a few months for point releases.

if you are going to do a major restucture, even moving file around, a 1.2.0 
branch will look more like a separate project that happen to reside inside 
the same cvs than a real branch (that is, you will not able to merge stuff 
anyhow).

however waiting 'a few months' untill 1.2.x is stable seems overkill to me. 
since it is a dead-end anyhow, why not forking it at some stage (after the 
1.2.0 release) and put it into 'critical fixes only'. if it is better to fork 
gdal in a cvs branch or in a copied cvs repository i'll leave to your 
taste ;)

cheers,
alessandro

From warmerdam at pobox.com  Thu Feb 19 12:10:03 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <200402191740.17221.alexamici@fastwebnet.it>
References: <40346825.4010508@pobox.com> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com> <200402191740.17221.alexamici@fastwebnet.it>
Message-ID: <4034EDEB.8070305@pobox.com>

Alessandro Amici wrote:
> if you are going to do a major restucture, even moving file around, a 1.2.0 
> branch will look more like a separate project that happen to reside inside 
> the same cvs than a real branch (that is, you will not able to merge stuff 
> anyhow).
> 
> however waiting 'a few months' untill 1.2.x is stable seems overkill to me. 
> since it is a dead-end anyhow, why not forking it at some stage (after the 
> 1.2.0 release) and put it into 'critical fixes only'. if it is better to fork 
> gdal in a cvs branch or in a copied cvs repository i'll leave to your 
> taste ;)

Alessandro,

I hate trying to keep track of what version changes go into when there are
branches other than the "development trunk".  I have seen branches cause
untold hassles in projects like GRASS and to a lesser extent in MapServer.

So, once I am ready to start restructuring I may create a 1.2 branch for
fixes to a "stable 1.2" series, but I won't if I can avoid it.  Restructuring
would happen in the trunk of course.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dmorissette at dmsolutions.ca  Thu Feb 19 14:06:21 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4034DB7D.6000806@pobox.com>
References: <40346825.4010508@pobox.com> <200402190941.15785.alexamici@fastwebnet.it> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com>
Message-ID: <4035092D.8060505@dmsolutions.ca>

Sorry for jumping this late in the conversation...

Frank Warmerdam wrote:
> I am suffering from a growing compulsion to make a substantial update to OGR
> before a GDAL 1.2.0 release.  In particular I would like to make some movement
> to unifying GDAL and OGR in the following ways:
> 
>  o Merge the driver architectures of GDAL and OGR, so there is one driver
>    registry, and a call to GDALOpen() can be used to open raster and vector
>    datasets.

Um... sounds like history is repeating itself.  ;)

I'm not sure if I like the idea or not... but since everyone else seems
to like it then I guess I'll wait and see.


Frank Warmerdam wrote:
> Alessandro Amici wrote:
>  > argh!
>  >
>  > what about a rapid 1.2.0 (with it's own cvs branch for fixes) and 
> then start a
>  > big restructure marked 2.0.0?
> 
> Andrey Kiselev wrote:
>  > Those changes will take a time for implementing and especially for
>  > testing. What about releasing GDAL 1.1.10 shortly?
> 
> Ben Discoe wrote:
>  > I'd like to second that motion.  The best chance for making 1.2.0 a 
> 'stable'
>  > release is to put it out _before_ major changes.  Once the big changes
>  > occur, we'll need to wait for a long time for broken things to be 
> found and
>  > resolved, before we can call it 'stable'.
> 
> Markus Neteler wrote:
>  > Frank, please make a release before changing the API.
> 

Count me in for a 1.2.0 release before this change.

I also think that the next release with that restructuring should be 2.0
and not 1.3.

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------




From dmorissette at dmsolutions.ca  Thu Feb 19 14:06:34 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4034EDEB.8070305@pobox.com>
References: <40346825.4010508@pobox.com> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com> <200402191740.17221.alexamici@fastwebnet.it> <4034EDEB.8070305@pobox.com>
Message-ID: <4035093A.2040709@dmsolutions.ca>

Frank Warmerdam wrote:
> 
> I hate trying to keep track of what version changes go into when there are
> branches other than the "development trunk".  I have seen branches cause
> untold hassles in projects like GRASS and to a lesser extent in MapServer.
> 

I don't think we had that many problems with branches in MapServer?
There was some confusion on the branch and tag names at some point but I
think we're doing better since version 3.6 now that we name them
consistently ("branch-x-y" and "rel-x-y-z"). Using the branches work
very well and allow us to continue to support stable releases while
working on major restructuring in the main trunk.  As you know MapServer
has undergone quite a few major changes in the last 2 years and without
CVS branches it would have been almost impossible to support the users.

All this to say: I think a stable branch should be created after the 1.2
release and before you start the restructuring.  Then *bugfix* releases
should be done as required using 1.2.x version numbers.

Also, I would like to suggest that you stop being cheap on version
numbers ;) ... instead of going with 1.1.x when new features or new
drivers are added, I think you should go 1.2, 1.3, 1.4 and use the last
digit of the version numbers only for bug fix releases (after creating a
stable branch in CVS).  That's how most projects seem to work, that also
how we do things with MapServer and that works very well.


> So, once I am ready to start restructuring I may create a 1.2 branch for
> fixes to a "stable 1.2" series, but I won't if I can avoid it.  
> Restructuring
> would happen in the trunk of course.
> 

Great!  But I don't think you can avoid it.  ;)

My 0.02$

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------




From warmerdam at pobox.com  Thu Feb 19 14:28:21 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4035093A.2040709@dmsolutions.ca>
References: <40346825.4010508@pobox.com> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com> <200402191740.17221.alexamici@fastwebnet.it> <4034EDEB.8070305@pobox.com> <4035093A.2040709@dmsolutions.ca>
Message-ID: <40350E55.4000008@pobox.com>

Daniel Morissette wrote:
> I don't think we had that many problems with branches in MapServer?
> There was some confusion on the branch and tag names at some point but I
> think we're doing better since version 3.6 now that we name them
> consistently ("branch-x-y" and "rel-x-y-z"). Using the branches work
> very well and allow us to continue to support stable releases while
> working on major restructuring in the main trunk.  As you know MapServer
> has undergone quite a few major changes in the last 2 years and without
> CVS branches it would have been almost impossible to support the users.

Daniel,

Well, I for one was intimidated by the MapServer branches.  I mostly just
kept my head down and worked on the trunk.  I'm not saying it is wrong for
MapServer or other packages to manage branches. I'm just nervous about
adding the conceptual overhead to GDAL.

> All this to say: I think a stable branch should be created after the 1.2
> release and before you start the restructuring.  Then *bugfix* releases
> should be done as required using 1.2.x version numbers.

As far as I know, I can create a branch at any time against a particular
tag, so it wouldn't necessarily have to be done in advance.  Is that correct?

> Also, I would like to suggest that you stop being cheap on version
> numbers ;) ... instead of going with 1.1.x when new features or new
> drivers are added, I think you should go 1.2, 1.3, 1.4 and use the last
> digit of the version numbers only for bug fix releases (after creating a
> stable branch in CVS).  That's how most projects seem to work, that also
> how we do things with MapServer and that works very well.

Do you have a concept of how much major version numbers cost?  I am working
on a budget here, not a big corporate environment like DM Solutions, flush
with money.  I pay for every version number out of my own pocket!

Ok, more seriously, yes I have been rather bizarely nervous about changing
the the major or even the minor release number for GDAL.  I would agree that
a restructured library (assuming it is not very backward compatible) would
be a 2.0, and thereafter "first dot" releases would be used for significant
improvements in capabilities and "second dot releases for minor updates with
no significant improvements in capabilities.

However, as I am very adverse to backward incompatible changes in APIs,
I may well stay in the 2.x until I run out of "first dot" single digit
versions.

I remember when a bunch of my friends worked at WATCOM and they jumped to
WATCOM 8.x (from something like 4) just so their major version would be
higher than the one for Visual C++, thus making them seem more advanced.
I guess my vanity manifests in other ways than large version numbers.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From gillian.walter at atlantis-scientific.com  Thu Feb 19 14:54:19 2004
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4035093A.2040709@dmsolutions.ca>
References: <40346825.4010508@pobox.com> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com> <200402191740.17221.alexamici@fastwebnet.it> <4034EDEB.8070305@pobox.com> <4035093A.2040709@dmsolutions.ca>
Message-ID: <4035146B.5010204@atlantis-scientific.com>

Hi,

I'd like to second the branch motion.   I've had fewer problems with 
OpenEV release preparation and maintenance since I started using 
branches (I'll be creating a new one off the main trunk fairly soon).   
It makes it much easier to create and track patches, and also avoids 
unpleasant surprises when you are in the bug-fix stages of a release and 
someone else is in development mode. 

Gillian

Daniel Morissette wrote:

> Frank Warmerdam wrote:
>
>>
>> I hate trying to keep track of what version changes go into when 
>> there are
>> branches other than the "development trunk".  I have seen branches cause
>> untold hassles in projects like GRASS and to a lesser extent in 
>> MapServer.
>>
>
> I don't think we had that many problems with branches in MapServer?
> There was some confusion on the branch and tag names at some point but I
> think we're doing better since version 3.6 now that we name them
> consistently ("branch-x-y" and "rel-x-y-z"). Using the branches work
> very well and allow us to continue to support stable releases while
> working on major restructuring in the main trunk.  As you know MapServer
> has undergone quite a few major changes in the last 2 years and without
> CVS branches it would have been almost impossible to support the users.
>
> All this to say: I think a stable branch should be created after the 1.2
> release and before you start the restructuring.  Then *bugfix* releases
> should be done as required using 1.2.x version numbers.
>
> Also, I would like to suggest that you stop being cheap on version
> numbers ;) ... instead of going with 1.1.x when new features or new
> drivers are added, I think you should go 1.2, 1.3, 1.4 and use the last
> digit of the version numbers only for bug fix releases (after creating a
> stable branch in CVS).  That's how most projects seem to work, that also
> how we do things with MapServer and that works very well.
>
>
>> So, once I am ready to start restructuring I may create a 1.2 branch for
>> fixes to a "stable 1.2" series, but I won't if I can avoid it.  
>> Restructuring
>> would happen in the trunk of course.
>>
>
> Great!  But I don't think you can avoid it.  ;)
>
> My 0.02$
>
> Daniel




From warmerdam at pobox.com  Thu Feb 19 14:56:42 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
Message-ID: <403514FA.9030809@pobox.com>

Folks,

I have prepared a preliminary 1.2.0 alpha release:

   ftp://ftp.remotesensing.org/pub/gdal/gdal-1.2.0a.tar.gz

I have tested it on win32 (VC++) and an old version of Red Hat and it seems
to work pretty well.  Some outstanding issues:

  o There don't appear to be any built-in targets to install the new utility
    man pages.

  o I built against Python 1.5.2 on the remotesensing.org system, and the python
    modules wouldn't load for some odd reason.  I was unable to diagnose the
    problem.  Perhaps we need to restrict things to Python 2.0 or newer?

  o I presume the Red Hat and Debian packaging information needs to be updated.

I would appreciate it if some people could give this new rev a quick spin on
different platforms, and building it into different applications.   I would
also appreciate feedback from the package maintainers - updated package stuff
and so forth.  It would be nice to have .deb's and .rpm's built and ready to
distribute with a final GDAL 1.2.0 release.

Thanks,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jason.hughes at elantech-inc.com  Thu Feb 19 15:06:28 2004
From: jason.hughes at elantech-inc.com (Jason R Hughes)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Q: NITF Rotation
Message-ID: <00c601c3f723$e268c960$1da8a8c0@machamp>

Dear GDAL Development Team,

First let me tell you that I ultimately want to paint NITF's (and later other georeferenced images) on a map pixel by pixel.

In the attached message I saw that you addressed issues on how to rotate GeoTiffs.  My question: Is a plan in the works to support this with NITF's?

I took a look at the existing source code in nitfdataset.cpp, line 547: 

if( psImage->dfULX == psImage->dfLLX 
&& psImage->dfURX == psImage->dfLRX
&& psImage->dfULY == psImage->dfURY
&& psImage->dfLLY == psImage->dfLRY
&& psImage->dfULX != psImage->dfLRX
&& psImage->dfULY != psImage->dfLRY )
{
    poDS->bGotGeoTransform = TRUE;
    poDS->adfGeoTransform[0] = psImage->dfULX;
    poDS->adfGeoTransform[1] = 
    (psImage->dfLRX - psImage->dfULX) / poDS->nRasterXSize;
    poDS->adfGeoTransform[2] = 0.0;
    poDS->adfGeoTransform[3] = psImage->dfULY;
    poDS->adfGeoTransform[4] = 0.0;
    poDS->adfGeoTransform[5] = 
    (psImage->dfLRY - psImage->dfULY) / poDS->nRasterYSize;
}


I see that any NITF that does not have a 180 degree rotation we will not be able to get any coordinate information back.  Even if it is 180 degrees how are we supposed to know if Col 0 Row 0 is the "northwest", or the "southeast" corner?  I assume this is a temporary implementation, due to the fact that when I try to set a Geotransform it says "GeoTransform not supported for NITF's" yet.    I'm also assuming that adfGeoTransform[2] and adfGeoTransform[4] will be used in the future to help me determine the orientation of the image to paint on the map correctly with North Up.

We have code for NITF's that currently does this, but I think the implementation is a little different compared to the way you've done it with other image formats.  Our implementation first calculates the rotation angle then finds the Maximum Bounding Rectangle (MBR). From this we rescale, rotate then paint it on the surface using the MBR as a reference point.  This works for us however we wanted to use the GDAL library since it supports multiple image formats.  NITF's are more of a priority for us currently though.

Thanks,
Jason R. Hughes

Elantech, Inc. 
6411 Ivy Lane, Suite 300
Greenbelt, MD 20770
Phone: 301-486-0600
jason.hughes@elantech-inc.com


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > 1.
> > You mentioned that
> > adfGeoTransform[0] = /* top left x */
> > adfGeoTransform[3] = /* top left y */
> > 
> > -Does top left x mean the value of longitude for
> top
> > left corner?
> > -Does top left y mean the value of lattitude for
> top
> > left corner?
> 
> Ayman,
> 
> Yes, if the coordinate system of the image is
> lat/long.
> 
> > 2.
> > What does horizental, vertical pixel size mean?
> 
> The width of a pixel is the coordinate system being
> used.
> 
> > 3.
> > Are adfGeoTransform[2],adfGeoTransform[4] always
> 0?
> 
> No. If the image is not "north up", that is the
> image is
> rotated or sheared from the normal map orientation
> these will
> be non-zero and then the interpretation of the pixel
> size is
> more complicated.
> 
> In common use these values will be zero.
> 
> > 4.
> > If the user doesn't give me any of these data, and
> > still wants me to generate a GeoTiff file out of
> his
> > faces' images for example, 
> > are there default values that I can supply to
> generate
> > a valid GeoTiff file?
> 
> It is pointless to create a "Geo" TIFF file without
> knowing anything
> about a meaningful coordinate system. If you feel
> the need to do so pick
> any random values you feel like.
> 
> Best regards,
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040219/6d7fa18f/attachment.html
From alexamici at fastwebnet.it  Thu Feb 19 15:16:35 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4035092D.8060505@dmsolutions.ca>
References: <40346825.4010508@pobox.com> <4034DB7D.6000806@pobox.com> <4035092D.8060505@dmsolutions.ca>
Message-ID: <200402192116.36144.alexamici@fastwebnet.it>

Daniel,

On Thursday 19 February 2004 20:06, Daniel Morissette wrote:
> Frank Warmerdam wrote:
> > I am suffering from a growing compulsion to make a substantial update to
> > OGR before a GDAL 1.2.0 release.  In particular I would like to make some
> > movement to unifying GDAL and OGR in the following ways:
> >
> >  o Merge the driver architectures of GDAL and OGR, so there is one driver
> >    registry, and a call to GDALOpen() can be used to open raster and
> > vector datasets.
>
> Um... sounds like history is repeating itself.  ;)

mm.. probably i follow the development of gdal since too litle time to 
understand your comment. do you care to elaborate? (just curious :)

cheers,
alessandro

From dmorissette at dmsolutions.ca  Thu Feb 19 15:19:07 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <40350E55.4000008@pobox.com>
References: <40346825.4010508@pobox.com> <20040219152406.GG13398@thuille.itc.it> <4034DB7D.6000806@pobox.com> <200402191740.17221.alexamici@fastwebnet.it> <4034EDEB.8070305@pobox.com> <4035093A.2040709@dmsolutions.ca> <40350E55.4000008@pobox.com>
Message-ID: <40351A3B.90003@dmsolutions.ca>

Frank Warmerdam wrote:
> 
> Well, I for one was intimidated by the MapServer branches.  I mostly just
> kept my head down and worked on the trunk.  I'm not saying it is wrong for
> MapServer or other packages to manage branches. I'm just nervous about
> adding the conceptual overhead to GDAL.
> 


Maybe I'm the only one who understands them?

It's simple:

After the MapServer 4.0 release we *branched* using the name 
"branch-4-0", and after that all 4.0.z bugfix releases were and will be 
  *tagged* as "rel-4-0-z".  So if you want to commit a fix to the stable 
4.0 you "cvs update -r branch-4-0" and commit your fix.  The main 
developments for 4.1/4.2 happen in the main CVS trunk.

When we are ready to release MapServer 4.2 we'll do the same: create a 
"branch-4-2" branch, and tag the releases as "rel-4-2-z".

I would propose that the same system could be used for GDAL.

> 
> As far as I know, I can create a branch at any time against a particular
> tag, so it wouldn't necessarily have to be done in advance.  Is that 
> correct?
> 

Good point.  You can create a branch at any time.

> 
> Do you have a concept of how much major version numbers cost?  I am working
> on a budget here, not a big corporate environment like DM Solutions, flush
> with money.  I pay for every version number out of my own pocket!
> 

I realize that version numbers aren't cheap, but you can easily get 
cheap 1.x/2.x version numbers these days since all the main software 
vendors are up in the 6.x, 7.x, and even in the thousands.  BTW, we've 
also got some old 3.3.0xx versions from MapServer that we don't use any 
more...they go as far as 3.3.011.  I'm sure Steve Lime would contribute 
them to GDAL for free as long as you're willing to make the next release 
GDAL 3.3.

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------


From dmorissette at dmsolutions.ca  Thu Feb 19 16:11:36 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <200402192116.36144.alexamici@fastwebnet.it>
References: <40346825.4010508@pobox.com> <4034DB7D.6000806@pobox.com> <4035092D.8060505@dmsolutions.ca> <200402192116.36144.alexamici@fastwebnet.it>
Message-ID: <40352688.6060303@dmsolutions.ca>

Alessandro Amici wrote:
> 
>>
>>Um... sounds like history is repeating itself.  ;)
> 
> 
> mm.. probably i follow the development of gdal since too litle time to 
> understand your comment. do you care to elaborate? (just curious :)
> 

In a previous life, Frank was the main architect of PCI's raster access 
library called GDB (now Geogateway), and I worked a bit with them to 
create a vector extension (TVS).  Then one day I received an email 
strangely similar to this one from Frank proposing that we combine the 
raster and vector stuff to facilitate dealing with some formats that 
combine vectors+rasters. That's why I made the comment above.

At the time what was done was more a link at a higher level to have the 
raster API call the vector API and vice-versa, which led to some 
problems that I hope can be avoided this time by truly merging the 
vector and raster drivers in GDAL/OGR and not just linking them.

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------


From alexamici at fastwebnet.it  Thu Feb 19 16:32:54 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4035093A.2040709@dmsolutions.ca>
References: <40346825.4010508@pobox.com> <4034EDEB.8070305@pobox.com> <4035093A.2040709@dmsolutions.ca>
Message-ID: <200402192232.54902.alexamici@fastwebnet.it>

Daniel, Frank,

On Thursday 19 February 2004 20:06, Daniel Morissette wrote:

[nod and snip]

> Also, I would like to suggest that you stop being cheap on version
> numbers ;) ... instead of going with 1.1.x when new features or new
> drivers are added, I think you should go 1.2, 1.3, 1.4 and use the last
> digit of the version numbers only for bug fix releases (after creating a
> stable branch in CVS).  That's how most projects seem to work, that also
> how we do things with MapServer and that works very well.

the libtool way to build the soversion seems really neat to me (well, it might 
be that i just spent too much time into 'info libtool', thou ;) and can be 
easily used to get meaningful release numbers for a library.

versions are something like 'major.minor.revision' and thinking in terms of 
exported interfaces you need to follow the following rules:

- whenever you drop any exported interface bump the major number and reset the 
minor number to zero; (any non-backward compatible change trigger this rule)

- whenever you add an interface (and don't drop any old interface), bump the 
minor number

- whenever you do a bug-fix only release (without _any_ interface change), 
bump the revision number.

note that an interface change counts as an added interface plus a dropped one.


this way the version number has a very clear meaning:
new revision == bugs have been fixed, go grab it and install it.
new minor == new features are available, source compatibility _and_ binary 
compatibility for existing applications are garanteed.
new major == beware! some old (ugly) interface have been dropped. binary and 
possibly source compatibility have been broken, you need to audit and fix 
your code. at the very minimum your apps need to be recompiled (well relinked 
to be precise).

finally, the difference between revision and minor numbers lies in the binary 
compatibility with older versions. applications built against a libray with 
higher revision numbers (x.y.z+1) are always binary compatible with libraries 
with older revisions (x.y.z). this is not always true for minor numbers: if i 
use in my apps an interface that is new in x.y.z, they will not work on a 
system with version x.y-1.w of the library.


using this scheme gdal-1.1.9 whould probably be versioned something like 1.9.0 
and the upcoming gdal-1.2.0 would be 2.0.0 due to the changes related to the 
soversion.


enough rambling, good night,
alessandro

From alexamici at fastwebnet.it  Thu Feb 19 16:38:22 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] [OFF-TOPIC] Radical OGR Update
In-Reply-To: <40351A3B.90003@dmsolutions.ca>
References: <40346825.4010508@pobox.com> <40350E55.4000008@pobox.com> <40351A3B.90003@dmsolutions.ca>
Message-ID: <200402192238.22201.alexamici@fastwebnet.it>

> > Do you have a concept of how much major version numbers cost?  I am
> > working on a budget here, not a big corporate environment like DM
> > Solutions, flush with money.  I pay for every version number out of my
> > own pocket!
>
> I realize that version numbers aren't cheap, but you can easily get
> cheap 1.x/2.x version numbers these days since all the main software
> vendors are up in the 6.x, 7.x, and even in the thousands.  BTW, we've
> also got some old 3.3.0xx versions from MapServer that we don't use any
> more...they go as far as 3.3.011.  I'm sure Steve Lime would contribute
> them to GDAL for free as long as you're willing to make the next release
> GDAL 3.3.

i have several 0.1 to 0.9 versioned products that wuold greatly benefit from 
these higher version number rebates. where do i send the check? :P

alessandro

From TMitchell at lignum.com  Thu Feb 19 17:33:34 2004
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Test building 1.2.0a on cygwin
In-Reply-To: <4030CCC0.9090000@pobox.com>
Message-ID: <OF14C02371.3B095FD6-ON88256E3F.0079CDA5-88256E3F.007BEC4C@lignum.com>

I've grabbed the update and complete a problem-free compile.  I thought 
something was wrong when ld.exe had snatched up 91MB of RAM - but it 
played nice and gave it back after a few minutes.  I've tried a few of the 
ogr and gdal utilities and didn't have problems.  Python modules appeared 
okay and Postgresql compiled in good too.  I didn't build or test it in 
any applications though.

Environment: Windows 2000 SP4, Cygwin, P4 1500Mhz, 256MB RAM

Hope this helps.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040219/9fe82fe6/attachment.html
From warmerdam at pobox.com  Thu Feb 19 17:54:00 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <200402192116.36144.alexamici@fastwebnet.it>
References: <40346825.4010508@pobox.com> <4034DB7D.6000806@pobox.com> <4035092D.8060505@dmsolutions.ca> <200402192116.36144.alexamici@fastwebnet.it>
Message-ID: <40353E88.7000001@pobox.com>

Alessandro Amici wrote:
> mm.. probably i follow the development of gdal since too litle time to 
> understand your comment. do you care to elaborate? (just curious :)

Alessandro,

About ten years I worked for PCI and Daniel worked for an allied company.
Another fellow (Ken Shih) and I lead a "vector overhaul" for PCI and
developed a new vector format.  However, a moderate ways into the project
I came to the conclusion that a standalone vector library paralleling the
GDB multi-format raster library made little sense.  So we ended up merging
the vector library back into the GDB library to have a unified vector/raster
library with one "open" function, and so on.

We can see the GDAL/OGR divergence and re-merging as following a similar
set of issues to the GDB/TVS libraries we worked with at PCI.  In fact,
Daniel and I have wondered whether keeping them seperate or merged made sense
for a number of years now.

At least, I assume that is what Daniel was referring to.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Thu Feb 19 18:35:42 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2.0 release issues
Message-ID: <4035484E.4080207@pobox.com>

Folks,

I have created a wiki topic to track minor issues and general status for
the 1.2.0 release.  Please update if needed.

   http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?GDAL120Release

I have also created a bug report (listed in the wiki) on which bugs that
are "1.2.0 release blockers" can mark as blocked by themselves.  I have marked
a bunch of bugs as blocking the release and intend to go through them soon.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From dmorissette at dmsolutions.ca  Thu Feb 19 19:00:47 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <403514FA.9030809@pobox.com>
References: <403514FA.9030809@pobox.com>
Message-ID: <40354E2F.6050408@dmsolutions.ca>

Frank Warmerdam wrote:
> I would appreciate it if some people could give this new rev a quick 
> spin on
> different platforms, and building it into different applications.  
> 


Trying to build on Solaris 8, using GCC 2.95.2, I get the following errors:

---------------------
/bin/sh ../libtool --mode=compile g++ -Wall  -O2   -I../port  -c -o 
cpl_vsisimple.o cpl_vsisimple.cpp
  g++ -Wall -O2 -I../port -c cpl_vsisimple.cpp  -fPIC -DPIC -o 
.libs/cpl_vsisimple.o
cpl_vsisimple.cpp: In function `struct tm * VSIGMTime(const time_t *, tm 
*)':
cpl_vsisimple.cpp:445: implicit declaration of function `int gmtime_r(...)'
cpl_vsisimple.cpp: In function `struct tm * VSILocalTime(const time_t *, 
tm *)':
cpl_vsisimple.cpp:463: implicit declaration of function `int 
localtime_r(...)'
make: *** [cpl_vsisimple.o] Error 1

---------------------


The function gmtime_r() is available in <time.h>, but for some reason 
the prototype is not found (it is protected by a few #ifdefs in time.h).

The Solaris man pages talk about defining _POSIX_C_SOURCE to a value >= 
199506L.  I tried that but then started getting problems with strdup() 
in cpl_vsisimple.cpp.  Looking in <string.h> it seems that this function 
isn't available when _POSIX_C_SOURCE is defined.

OK. To make a long story short, I have removed HAVE_GMTIME_R and 
HAVE_LOCALTIME_R in cpl_config.h and my compilation continues.

What should we do about this?  Should we put a test specific to Solaris 
in configure?  Is this a problem that could apply to other platforms?  I 
have to admit that I'm not familiar with this _POSIX_C_SOURCE define.

BTW, we'll be probably compiling on AIX 4.3 in a few days... so stay 
tuned... that promises to be fun (64 bits!).

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------


From dmorissette at dmsolutions.ca  Thu Feb 19 19:07:47 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <40354E2F.6050408@dmsolutions.ca>
References: <403514FA.9030809@pobox.com> <40354E2F.6050408@dmsolutions.ca>
Message-ID: <40354FD3.40009@dmsolutions.ca>

Daniel Morissette wrote:
> Frank Warmerdam wrote:
> 
>> I would appreciate it if some people could give this new rev a quick 
>> spin on
>> different platforms, and building it into different applications. 
> 
> 
> 
> Trying to build on Solaris 8, using GCC 2.95.2, I get the following errors:
> 

After seeing Frank's other post about tracking the release status, I 
have filed this in bugzilla:
http://bugzilla.remotesensing.org/show_bug.cgi?id=497

Daniel
-- 
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------


From nhv at cape.com  Thu Feb 19 20:21:30 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
In-Reply-To: <4035146B.5010204@atlantis-scientific.com>
Message-ID: <EKEJIKAILPONGGENMBGAEEOPGHAA.nhv@cape.com>

Gillian Walter writes:
> 
> I'd like to second the branch motion.   I've had fewer problems with 
> OpenEV release preparation and maintenance since I started using 
> branches (I'll be creating a new one off the main trunk fairly soon).   
> It makes it much easier to create and track patches, and also avoids 
> unpleasant surprises when you are in the bug-fix stages of a release and 
> someone else is in development mode. 
 
Lots of good practical advice on howto use branches for development 
on code under CVS management here
http://dev.zope.org/CVS/ZopeCVSFAQ

sample quote
""" It may seem like overkill, especially if you are new to using branches 
to coordinate a large amount of activity in a codebase, but you find in 
practice that this will actually make your life easier, not harder"""

Cheers

Norman

From MChapman at sanz.com  Thu Feb 19 23:58:05 2004
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Radical OGR Update
Message-ID: <ED3A48B9840E594890A2BC172D119465E63AB9@mailman.san.com>

All,
 
I don't know much about this specific issue, but I my personal comments are that modularity is better than one big library.  Component based software is popular because it works well for the masses of developers and is easier to maintain.  That said, it would be nice to build another component/lib that was a thin layer of abstraction that combines both libraries.  That way you could have the best of both worlds (which is what it sounds like you need).  I don't know if that would be possible, but it's a thought.
 
Martin Chapman
 
 

	-----Original Message----- 
	From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
	Sent: Thu 2/19/2004 3:54 PM 
	To: gdal-dev@remotesensing.org 
	Cc: 
	Subject: Re: [Gdal-dev] Radical OGR Update
	
	

	Alessandro Amici wrote:
	> mm.. probably i follow the development of gdal since too litle time to
	> understand your comment. do you care to elaborate? (just curious :)
	
	Alessandro,
	
	About ten years I worked for PCI and Daniel worked for an allied company.
	Another fellow (Ken Shih) and I lead a "vector overhaul" for PCI and
	developed a new vector format.  However, a moderate ways into the project
	I came to the conclusion that a standalone vector library paralleling the
	GDB multi-format raster library made little sense.  So we ended up merging
	the vector library back into the GDB library to have a unified vector/raster
	library with one "open" function, and so on.
	
	We can see the GDAL/OGR divergence and re-merging as following a similar
	set of issues to the GDB/TVS libraries we worked with at PCI.  In fact,
	Daniel and I have wondered whether keeping them seperate or merged made sense
	for a number of years now.
	
	At least, I assume that is what Daniel was referring to.
	
	Best regards,
	
	--
	---------------------------------------+--------------------------------------
	I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
	light and sound - activate the windows | http://pobox.com/~warmerdam
	and watch the world go round - Rush    | Geospatial Programmer for Rent
	
	_______________________________________________
	Gdal-dev mailing list
	Gdal-dev@remotesensing.org
	http://remotesensing.org/mailman/listinfo/gdal-dev
	


From wesp at gdv.com  Fri Feb 20 04:17:45 2004
From: wesp at gdv.com (Oliver Wesp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <40354E2F.6050408@dmsolutions.ca>
References: <403514FA.9030809@pobox.com> <40354E2F.6050408@dmsolutions.ca>
Message-ID: <4035D0B9.1020407@gdv.com>

Daniel Morissette wrote:


> 
> Trying to build on Solaris 8, using GCC 2.95.2, I get the following errors:
> 

Trying to build on Solaris 8 using GCC 3.3.1 works fine for me. Although 
I had to disable libtool using --without-libtool in order to get it 
done. But iirc I had to do this for previous releases as well and this 
is nothing special with 1.2.0a.

I did a build including oci support (Oracle9i, 32bit client libs). Works 
fine as well.

best regards
Oliver
-- 
Dipl.-Geogr. Oliver Wesp
Gesellschaft fuer geografische Datenverarbeitung
Binger Strasse 49-51
D-55218 Ingelheim
fon: +49 6132 714818
fax: +49 6132 714828
http: www.gdv.com

From alexamici at fastwebnet.it  Fri Feb 20 05:40:31 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <4035D0B9.1020407@gdv.com>
References: <403514FA.9030809@pobox.com> <40354E2F.6050408@dmsolutions.ca> <4035D0B9.1020407@gdv.com>
Message-ID: <200402201140.31532.alexamici@fastwebnet.it>

Oliver

On Friday 20 February 2004 10:17, Oliver Wesp wrote:
> Daniel Morissette wrote:
> > Trying to build on Solaris 8, using GCC 2.95.2, I get the following
> > errors:
>
> Trying to build on Solaris 8 using GCC 3.3.1 works fine for me. Although
> I had to disable libtool using --without-libtool in order to get it
> done. But iirc I had to do this for previous releases as well and this
> is nothing special with 1.2.0a.

does it break without oci support as well?
is it the same error you reported in october?

correct libtool build is certainly one of the release target so if you could 
supply further information i'd like to try and fix it.

and in the case you need to distribute binary packages, keep in mind that 
libtool and non-libtool libraries are not binary compatible.

> I did a build including oci support (Oracle9i, 32bit client libs). Works
> fine as well.

cheers,
alessandro

From wesp at gdv.com  Fri Feb 20 07:33:38 2004
From: wesp at gdv.com (Oliver Wesp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <200402201140.31532.alexamici@fastwebnet.it>
References: <403514FA.9030809@pobox.com> <40354E2F.6050408@dmsolutions.ca> <4035D0B9.1020407@gdv.com> <200402201140.31532.alexamici@fastwebnet.it>
Message-ID: <4035FEA2.2030604@gdv.com>

Alessandro Amici wrote:

> Oliver
> 
> On Friday 20 February 2004 10:17, Oliver Wesp wrote:

> does it break without oci support as well?
> is it the same error you reported in october?

Without oci support it seems to work also it gives me a warning right at 
the end:

./configure --with-oci=no

g++ gdaltindex.o -o .libs/gdaltindex 
/export/home/oliver/tmp/gdal_2/gdal-1.2.0a/.libs/libgdal.so 
/usr/local/lib/libjpeg.so -lpng -lz -ldl /usr/local/lib/./libstdc++.so 
-L/usr2/SOURCES/S8/gcc-3.3.1/objdir/sparc-sun-solaris2.8/libstdc++-v3/src 
-L/usr2/SOURCES/S8/gcc-3.3.1/objdir/sparc-sun-solaris2.8/libstdc++-v3/src/.libs 
-L/usr2/SOURCES/S8/gcc-3.3.1/objdir/gcc 
-L/usr/local/sparc-sun-solaris2.8/bin 
-L/usr/local/sparc-sun-solaris2.8/lib 
-L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/../../../sparc-sun-solaris2.8/lib 
-L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/../.. -Wl,-R 
-Wl,/usr/local/lib -Wl,-R -Wl,/usr/local/lib/.
ld: warning: file 
/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/../../libstdc++.so: linked 
to /usr/local/lib/./libstdc++.so: attempted multiple inclusion of file
creating gdaltindex
make[1]: Leaving directory `/export/home/oliver/tmp/gdal_2/gdal-1.2.0a/apps'

With oci it gives me an error which doesn't seems to me like it has 
anything to do with the problems we had back in october. I attched a 
text file with the last part of the output from the build process.

best regards
Oliver

-- 
Dipl.-Geogr. Oliver Wesp
Gesellschaft fuer geografische Datenverarbeitung
Binger Strasse 49-51
D-55218 Ingelheim
fon: +49 6132 714818
fax: +49 6132 714828
http: www.gdv.com
-------------- next part --------------
g++ -shared -nostdlib  /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.3.1/crti.o /usr/ccs/lib/values-Xa.o /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.3.1/crtbegin.o  ./frmts/o/.libs/EnvisatFile.o ./frmts/o/.libs/aaigriddataset.o ./frmts/o/.libs/aigccitt.o ./frmts/o/.libs/aigdataset.o ./frmts/o/.libs/aigopen.o ./frmts/o/.libs/atlsci_spheroid.o ./frmts/o/.libs/bmpdataset.o ./frmts/o/.libs/bsb_read.o ./frmts/o/.libs/bsbdataset.o ./frmts/o/.libs/btdataset.o ./frmts/o/.libs/ceos.o ./frmts/o/.libs/ceosdataset.o ./frmts/o/.libs/ceosopen.o ./frmts/o/.libs/ceosrecipe.o ./frmts/o/.libs/ceossar.o ./frmts/o/.libs/ddffield.o ./frmts/o/.libs/ddffielddefn.o ./frmts/o/.libs/ddfmodule.o ./frmts/o/.libs/ddfrecord.o ./frmts/o/.libs/ddfsubfielddefn.o ./frmts/o/.libs/ddfutils.o ./frmts/o/.libs/dgif_lib.o ./frmts/o/.libs/doq1dataset.o ./frmts/o/.libs/doq2dataset.o ./frmts/o/.libs/dted_api.o ./frmts/o/.libs/dted_create.o ./frmts/o/.libs/dted_ptstream.o ./frmts/o/.libs/dteddataset.o ./frmts/o/.libs/egif_lib.o ./frmts/o/.libs/ehdrdataset.o ./frmts/o/.libs/elasdataset.o ./frmts/o/.libs/envidataset.o ./frmts/o/.libs/envisatdataset.o ./frmts/o/.libs/fastdataset.o ./frmts/o/.libs/fit.o ./frmts/o/.libs/fitdataset.o ./frmts/o/.libs/fujibasdataset.o ./frmts/o/.libs/gdalallregister.o ./frmts/o/.libs/geo_extra.o ./frmts/o/.libs/geo_free.o ./frmts/o/.libs/geo_get.o ./frmts/o/.libs/geo_names.o ./frmts/o/.libs/geo_new.o ./frmts/o/.libs/geo_normalize.o ./frmts/o/.libs/geo_print.o ./frmts/o/.libs/geo_set.o ./frmts/o/.libs/geo_tiffp.o ./frmts/o/.libs/geo_trans.o ./frmts/o/.libs/geo_write.o ./frmts/o/.libs/geotiff.o ./frmts/o/.libs/geotiff_proj4.o ./frmts/o/.libs/gif_err.o ./frmts/o/.libs/gifalloc.o ./frmts/o/.libs/gifdataset.o ./frmts/o/.libs/giodataset.o ./frmts/o/.libs/gridlib.o ./frmts/o/.libs/gscdataset.o ./frmts/o/.libs/gt_overview.o ./frmts/o/.libs/gt_wkt_srs.o ./frmts/o/.libs/gxf_ogcwkt.o ./frmts/o/.libs/gxf_proj4.o ./frmts/o/.libs/gxfdataset.o ./frmts/o/.libs/gxfopen.o ./frmts/o/.libs/hfaband.o ./frmts/o/.libs/hfadataset.o ./frmts/o/.libs/hfadictionary.o ./frmts/o/.libs/hfaentry.o ./frmts/o/.libs/hfafield.o ./frmts/o/.libs/hfaopen.o ./frmts/o/.libs/hfatype.o ./frmts/o/.libs/hkvdataset.o ./frmts/o/.libs/jdemdataset.o ./frmts/o/.libs/jpgdataset.o ./frmts/o/.libs/l1bdataset.o ./frmts/o/.libs/link.o ./frmts/o/.libs/memdataset.o ./frmts/o/.libs/mffdataset.o ./frmts/o/.libs/mgrs.o ./frmts/o/.libs/nitfdataset.o ./frmts/o/.libs/nitffile.o ./frmts/o/.libs/nitfimage.o ./frmts/o/.libs/pauxdataset.o ./frmts/o/.libs/pcidskdataset.o ./frmts/o/.libs/pngdataset.o ./frmts/o/.libs/pnmdataset.o ./frmts/o/.libs/rawdataset.o ./frmts/o/.libs/sar_ceosdataset.o ./frmts/o/.libs/sdtsattrreader.o ./frmts/o/.libs/sdtscatd.o ./frmts/o/.libs/sdtsdataset.o ./frmts/o/.libs/sdtsindexedreader.o ./frmts/o/.libs/sdtsiref.o ./frmts/o/.libs/sdtslib.o ./frmts/o/.libs/sdtslinereader.o ./frmts/o/.libs/sdtspointreader.o ./frmts/o/.libs/sdtspolygonreader.o ./frmts/o/.libs/sdtsrasterreader.o ./frmts/o/.libs/sdtstransfer.o ./frmts/o/.libs/sdtsxref.o ./frmts/o/.libs/tif_aux.o ./frmts/o/.libs/tif_close.o ./frmts/o/.libs/tif_codec.o ./frmts/o/.libs/tif_color.o ./frmts/o/.libs/tif_compress.o ./frmts/o/.libs/tif_dir.o ./frmts/o/.libs/tif_dirinfo.o ./frmts/o/.libs/tif_dirread.o ./frmts/o/.libs/tif_dirwrite.o ./frmts/o/.libs/tif_dumpmode.o ./frmts/o/.libs/tif_error.o ./frmts/o/.libs/tif_extension.o ./frmts/o/.libs/tif_fax3.o ./frmts/o/.libs/tif_fax3sm.o ./frmts/o/.libs/tif_flush.o ./frmts/o/.libs/tif_getimage.o ./frmts/o/.libs/tif_jpeg.o ./frmts/o/.libs/tif_luv.o ./frmts/o/.libs/tif_lzw.o ./frmts/o/.libs/tif_memio.o ./frmts/o/.libs/tif_next.o ./frmts/o/.libs/tif_open.o ./frmts/o/.libs/tif_overview.o ./frmts/o/.libs/tif_ovrcache.o ./frmts/o/.libs/tif_packbits.o ./frmts/o/.libs/tif_pixarlog.o ./frmts/o/.libs/tif_predict.o ./frmts/o/.libs/tif_print.o ./frmts/o/.libs/tif_read.o ./frmts/o/.libs/tif_strip.o ./frmts/o/.libs/tif_swab.o ./frmts/o/.libs/tif_thunder.o ./frmts/o/.libs/tif_tile.o ./frmts/o/.libs/tif_version.o ./frmts/o/.libs/tif_vsi.o ./frmts/o/.libs/tif_warning.o ./frmts/o/.libs/tif_write.o ./frmts/o/.libs/tif_zip.o ./frmts/o/.libs/usgsdemdataset.o ./frmts/o/.libs/vrtdataset.o ./frmts/o/.libs/vrtdriver.o ./frmts/o/.libs/vrtfilters.o ./frmts/o/.libs/vrtrasterband.o ./frmts/o/.libs/vrtsources.o ./frmts/o/.libs/xpmdataset.o ./frmts/o/.libs/xtiff.o ./gcore/.libs/gdal_misc.o ./gcore/.libs/gdalcolortable.o ./gcore/.libs/gdaldataset.o ./gcore/.libs/gdaldefaultoverviews.o ./gcore/.libs/gdaldriver.o ./gcore/.libs/gdaldrivermanager.o ./gcore/.libs/gdalmajorobject.o ./gcore/.libs/gdalopen.o ./gcore/.libs/gdalrasterband.o ./gcore/.libs/gdalrasterblock.o ./gcore/.libs/overview.o ./gcore/.libs/rasterio.o ./port/.libs/cpl_conv.o ./port/.libs/cpl_csv.o ./port/.libs/cpl_dir.o ./port/.libs/cpl_error.o ./port/.libs/cpl_findfile.o ./port/.libs/cpl_list.o ./port/.libs/cpl_minixml.o ./port/.libs/cpl_multiproc.o ./port/.libs/cpl_path.o ./port/.libs/cpl_string.o ./port/.libs/cpl_vsil_unix_stdio_64.o ./port/.libs/cpl_vsisimple.o ./port/.libs/cplgetsymbol.o ./alg/.libs/contour.o ./alg/.libs/gdal_crs.o ./alg/.libs/gdal_rpc.o ./alg/.libs/gdalchecksum.o ./alg/.libs/gdaldither.o ./alg/.libs/gdalmediancut.o ./alg/.libs/gdalsimplewarp.o ./alg/.libs/gdaltransformer.o ./alg/.libs/gdalwarper.o ./alg/.libs/gdalwarpkernel.o ./alg/.libs/gdalwarpoperation.o ./ogr/ogrsf_frmts/o/.libs/avc_bin.o ./ogr/ogrsf_frmts/o/.libs/avc_binwr.o ./ogr/ogrsf_frmts/o/.libs/avc_e00gen.o ./ogr/ogrsf_frmts/o/.libs/avc_e00parse.o ./ogr/ogrsf_frmts/o/.libs/avc_e00read.o ./ogr/ogrsf_frmts/o/.libs/avc_e00write.o ./ogr/ogrsf_frmts/o/.libs/avc_mbyte.o ./ogr/ogrsf_frmts/o/.libs/avc_misc.o ./ogr/ogrsf_frmts/o/.libs/avc_rawbin.o ./ogr/ogrsf_frmts/o/.libs/dbfopen.o ./ogr/ogrsf_frmts/o/.libs/ddfrecordindex.o ./ogr/ogrsf_frmts/o/.libs/dgnfloat.o ./ogr/ogrsf_frmts/o/.libs/dgnhelp.o ./ogr/ogrsf_frmts/o/.libs/dgnopen.o ./ogr/ogrsf_frmts/o/.libs/dgnread.o ./ogr/ogrsf_frmts/o/.libs/dgnstroke.o ./ogr/ogrsf_frmts/o/.libs/dgnwrite.o ./ogr/ogrsf_frmts/o/.libs/gmlfeature.o ./ogr/ogrsf_frmts/o/.libs/gmlfeatureclass.o ./ogr/ogrsf_frmts/o/.libs/gmlpropertydefn.o ./ogr/ogrsf_frmts/o/.libs/gmlreader.o ./ogr/ogrsf_frmts/o/.libs/ll_recio.o ./ogr/ogrsf_frmts/o/.libs/mitab_bounds.o ./ogr/ogrsf_frmts/o/.libs/mitab_coordsys.o ./ogr/ogrsf_frmts/o/.libs/mitab_datfile.o ./ogr/ogrsf_frmts/o/.libs/mitab_feature.o ./ogr/ogrsf_frmts/o/.libs/mitab_feature_mif.o ./ogr/ogrsf_frmts/o/.libs/mitab_geometry.o ./ogr/ogrsf_frmts/o/.libs/mitab_idfile.o ./ogr/ogrsf_frmts/o/.libs/mitab_imapinfofile.o ./ogr/ogrsf_frmts/o/.libs/mitab_indfile.o ./ogr/ogrsf_frmts/o/.libs/mitab_mapcoordblock.o ./ogr/ogrsf_frmts/o/.libs/mitab_mapfile.o ./ogr/ogrsf_frmts/o/.libs/mitab_mapheaderblock.o ./ogr/ogrsf_frmts/o/.libs/mitab_mapindexblock.o ./ogr/ogrsf_frmts/o/.libs/mitab_mapobjectblock.o ./ogr/ogrsf_frmts/o/.libs/mitab_maptoolblock.o ./ogr/ogrsf_frmts/o/.libs/mitab_middatafile.o ./ogr/ogrsf_frmts/o/.libs/mitab_miffile.o ./ogr/ogrsf_frmts/o/.libs/mitab_ogr_datasource.o ./ogr/ogrsf_frmts/o/.libs/mitab_ogr_driver.o ./ogr/ogrsf_frmts/o/.libs/mitab_rawbinblock.o ./ogr/ogrsf_frmts/o/.libs/mitab_spatialref.o ./ogr/ogrsf_frmts/o/.libs/mitab_tabfile.o ./ogr/ogrsf_frmts/o/.libs/mitab_tabseamless.o ./ogr/ogrsf_frmts/o/.libs/mitab_tabview.o ./ogr/ogrsf_frmts/o/.libs/mitab_tooldef.o ./ogr/ogrsf_frmts/o/.libs/mitab_utils.o ./ogr/ogrsf_frmts/o/.libs/ntf_codelist.o ./ogr/ogrsf_frmts/o/.libs/ntf_estlayers.o ./ogr/ogrsf_frmts/o/.libs/ntf_generic.o ./ogr/ogrsf_frmts/o/.libs/ntf_raster.o ./ogr/ogrsf_frmts/o/.libs/ntffilereader.o ./ogr/ogrsf_frmts/o/.libs/ntfrecord.o ./ogr/ogrsf_frmts/o/.libs/ntfstroke.o ./ogr/ogrsf_frmts/o/.libs/oci_utils.o ./ogr/ogrsf_frmts/o/.libs/ogr_attrind.o ./ogr/ogrsf_frmts/o/.libs/ogr_gensql.o ./ogr/ogrsf_frmts/o/.libs/ogr_miattrind.o ./ogr/ogrsf_frmts/o/.libs/ogravcbindatasource.o ./ogr/ogrsf_frmts/o/.libs/ogravcbindriver.o ./ogr/ogrsf_frmts/o/.libs/ogravcbinlayer.o ./ogr/ogrsf_frmts/o/.libs/ogravcdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogravclayer.o ./ogr/ogrsf_frmts/o/.libs/ogrdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrdgndatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrdgndriver.o ./ogr/ogrsf_frmts/o/.libs/ogrdgnlayer.o ./ogr/ogrsf_frmts/o/.libs/ogrgmldatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrgmldriver.o ./ogr/ogrsf_frmts/o/.libs/ogrgmllayer.o ./ogr/ogrsf_frmts/o/.libs/ogrlayer.o ./ogr/ogrsf_frmts/o/.libs/ogrmemdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrmemdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrmemlayer.o ./ogr/ogrsf_frmts/o/.libs/ogrntfdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrntfdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrntffeatureclasslayer.o ./ogr/ogrsf_frmts/o/.libs/ogrntflayer.o ./ogr/ogrsf_frmts/o/.libs/ogrocidatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrocidriver.o ./ogr/ogrsf_frmts/o/.libs/ogrocilayer.o ./ogr/ogrsf_frmts/o/.libs/ogrociloaderlayer.o ./ogr/ogrsf_frmts/o/.libs/ogrociselectlayer.o ./ogr/ogrsf_frmts/o/.libs/ogrocisession.o ./ogr/ogrsf_frmts/o/.libs/ogrocistatement.o ./ogr/ogrsf_frmts/o/.libs/ogrocistringbuf.o ./ogr/ogrsf_frmts/o/.libs/ogrocitablelayer.o ./ogr/ogrsf_frmts/o/.libs/ogrociwritablelayer.o ./ogr/ogrsf_frmts/o/.libs/ogrrecdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrrecdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrreclayer.o ./ogr/ogrsf_frmts/o/.libs/ogrregisterall.o ./ogr/ogrsf_frmts/o/.libs/ogrs57datasource.o ./ogr/ogrsf_frmts/o/.libs/ogrs57driver.o ./ogr/ogrsf_frmts/o/.libs/ogrs57layer.o ./ogr/ogrsf_frmts/o/.libs/ogrsdtsdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrsdtsdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrsdtslayer.o ./ogr/ogrsf_frmts/o/.libs/ogrsfdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrsfdriverregistrar.o ./ogr/ogrsf_frmts/o/.libs/ogrshapedatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrshapedriver.o ./ogr/ogrsf_frmts/o/.libs/ogrshapelayer.o ./ogr/ogrsf_frmts/o/.libs/ogrtigerdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrtigerdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrtigerlayer.o ./ogr/ogrsf_frmts/o/.libs/ogrvrtdatasource.o ./ogr/ogrsf_frmts/o/.libs/ogrvrtdriver.o ./ogr/ogrsf_frmts/o/.libs/ogrvrtlayer.o ./ogr/ogrsf_frmts/o/.libs/s57classregistrar.o ./ogr/ogrsf_frmts/o/.libs/s57featuredefns.o ./ogr/ogrsf_frmts/o/.libs/s57filecollector.o ./ogr/ogrsf_frmts/o/.libs/s57reader.o ./ogr/ogrsf_frmts/o/.libs/s57writer.o ./ogr/ogrsf_frmts/o/.libs/shape2ogr.o ./ogr/ogrsf_frmts/o/.libs/shpopen.o ./ogr/ogrsf_frmts/o/.libs/shptree.o ./ogr/ogrsf_frmts/o/.libs/tigeraltname.o ./ogr/ogrsf_frmts/o/.libs/tigerarealandmarks.o ./ogr/ogrsf_frmts/o/.libs/tigercompletechain.o ./ogr/ogrsf_frmts/o/.libs/tigerentitynames.o ./ogr/ogrsf_frmts/o/.libs/tigerfeatureids.o ./ogr/ogrsf_frmts/o/.libs/tigerfilebase.o ./ogr/ogrsf_frmts/o/.libs/tigeridhistory.o ./ogr/ogrsf_frmts/o/.libs/tigerkeyfeatures.o ./ogr/ogrsf_frmts/o/.libs/tigerlandmarks.o ./ogr/ogrsf_frmts/o/.libs/tigeroverunder.o ./ogr/ogrsf_frmts/o/.libs/tigerpip.o ./ogr/ogrsf_frmts/o/.libs/tigerpoint.o ./ogr/ogrsf_frmts/o/.libs/tigerpolychainlink.o ./ogr/ogrsf_frmts/o/.libs/tigerpolygon.o ./ogr/ogrsf_frmts/o/.libs/tigerpolygoncorrections.o ./ogr/ogrsf_frmts/o/.libs/tigerpolygoneconomic.o ./ogr/ogrsf_frmts/o/.libs/tigertlidrange.o ./ogr/ogrsf_frmts/o/.libs/tigerzerocellid.o ./ogr/ogrsf_frmts/o/.libs/tigerzipcodes.o ./ogr/ogrsf_frmts/o/.libs/tigerzipplus4.o ./ogr/.libs/ogrgeometryfactory.o ./ogr/.libs/ogrpoint.o ./ogr/.libs/ogrcurve.o ./ogr/.libs/ogrlinestring.o ./ogr/.libs/ogrlinearring.o ./ogr/.libs/ogrpolygon.o ./ogr/.libs/ogrutils.o ./ogr/.libs/ogrgeometry.o ./ogr/.libs/ogrgeometrycollection.o ./ogr/.libs/ogrmultipolygon.o ./ogr/.libs/ogrsurface.o ./ogr/.libs/ogrmultipoint.o ./ogr/.libs/ogrmultilinestring.o ./ogr/.libs/ogr_api.o ./ogr/.libs/ogrfeature.o ./ogr/.libs/ogrfeaturedefn.o ./ogr/.libs/ogrfeaturequery.o ./ogr/.libs/ogrfeaturestyle.o ./ogr/.libs/ogrfielddefn.o ./ogr/.libs/ogrspatialreference.o ./ogr/.libs/ogr_srsnode.o ./ogr/.libs/ogr_srs_proj4.o ./ogr/.libs/ogr_fromepsg.o ./ogr/.libs/ogrct.o ./ogr/.libs/ogr_opt.o ./ogr/.libs/ogr_srs_esri.o ./ogr/.libs/ogr_srs_pci.o ./ogr/.libs/ogr_srs_usgs.o ./ogr/.libs/swq.o ./ogr/.libs/ogr_srs_validate.o ./ogr/.libs/ogr_srs_xml.o ./ogr/.libs/ograssemblepolygon.o ./ogr/.libs/ogr2gmlgeometry.o ./ogr/.libs/gml2ogrgeometry.o  -Wl,-R -Wl,/usr/local/lib -Wl,-R -Wl,/usr/local/lib/. -Wl,-R -Wl,/usr/local/lib -Wl,-R -Wl,/usr/local/lib/. -L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/../.. -L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/../../../sparc-sun-solaris2.8/lib -L/usr/local/sparc-sun-solaris2.8/lib -L/usr/local/sparc-sun-solaris2.8/bin -L/usr2/SOURCES/S8/gcc-3.3.1/objdir/gcc -L/usr2/SOURCES/S8/gcc-3.3.1/objdir/sparc-sun-solaris2.8/libstdc++-v3/src/.libs -L/usr2/SOURCES/S8/gcc-3.3.1/objdir/sparc-sun-solaris2.8/libstdc++-v3/src -lclntsh -L/export/home/oracle/OraHome2/lib /usr/local/lib/libjpeg.so -lpng -lz -ldl -L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.3.1 -L/usr/ccs/bin -L/usr/ccs/lib -L/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.3.1/../../.. /usr/local/lib/./libstdc++.so -lm -lgcc_s /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.3.1/crtend.o /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/3.3.1/crtn.o  -Wl,-h -Wl,libgdal.so.1 -o .libs/libgdal.so.1.2.0
(cd .libs && rm -f libgdal.so.1 && ln -s libgdal.so.1.2.0 libgdal.so.1)
(cd .libs && rm -f libgdal.so && ln -s libgdal.so.1.2.0 libgdal.so)
false cru .libs/libgdal.a  ./frmts/o/EnvisatFile.o ./frmts/o/aaigriddataset.o ./frmts/o/aigccitt.o ./frmts/o/aigdataset.o ./frmts/o/aigopen.o ./frmts/o/atlsci_spheroid.o ./frmts/o/bmpdataset.o ./frmts/o/bsb_read.o ./frmts/o/bsbdataset.o ./frmts/o/btdataset.o ./frmts/o/ceos.o ./frmts/o/ceosdataset.o ./frmts/o/ceosopen.o ./frmts/o/ceosrecipe.o ./frmts/o/ceossar.o ./frmts/o/ddffield.o ./frmts/o/ddffielddefn.o ./frmts/o/ddfmodule.o ./frmts/o/ddfrecord.o ./frmts/o/ddfsubfielddefn.o ./frmts/o/ddfutils.o ./frmts/o/dgif_lib.o ./frmts/o/doq1dataset.o ./frmts/o/doq2dataset.o ./frmts/o/dted_api.o ./frmts/o/dted_create.o ./frmts/o/dted_ptstream.o ./frmts/o/dteddataset.o ./frmts/o/egif_lib.o ./frmts/o/ehdrdataset.o ./frmts/o/elasdataset.o ./frmts/o/envidataset.o ./frmts/o/envisatdataset.o ./frmts/o/fastdataset.o ./frmts/o/fit.o ./frmts/o/fitdataset.o ./frmts/o/fujibasdataset.o ./frmts/o/gdalallregister.o ./frmts/o/geo_extra.o ./frmts/o/geo_free.o ./frmts/o/geo_get.o ./frmts/o/geo_names.o ./frmts/o/geo_new.o ./frmts/o/geo_normalize.o ./frmts/o/geo_print.o ./frmts/o/geo_set.o ./frmts/o/geo_tiffp.o ./frmts/o/geo_trans.o ./frmts/o/geo_write.o ./frmts/o/geotiff.o ./frmts/o/geotiff_proj4.o ./frmts/o/gif_err.o ./frmts/o/gifalloc.o ./frmts/o/gifdataset.o ./frmts/o/giodataset.o ./frmts/o/gridlib.o ./frmts/o/gscdataset.o ./frmts/o/gt_overview.o ./frmts/o/gt_wkt_srs.o ./frmts/o/gxf_ogcwkt.o ./frmts/o/gxf_proj4.o ./frmts/o/gxfdataset.o ./frmts/o/gxfopen.o ./frmts/o/hfaband.o ./frmts/o/hfadataset.o ./frmts/o/hfadictionary.o ./frmts/o/hfaentry.o ./frmts/o/hfafield.o ./frmts/o/hfaopen.o ./frmts/o/hfatype.o ./frmts/o/hkvdataset.o ./frmts/o/jdemdataset.o ./frmts/o/jpgdataset.o ./frmts/o/l1bdataset.o ./frmts/o/link.o ./frmts/o/memdataset.o ./frmts/o/mffdataset.o ./frmts/o/mgrs.o ./frmts/o/nitfdataset.o ./frmts/o/nitffile.o ./frmts/o/nitfimage.o ./frmts/o/pauxdataset.o ./frmts/o/pcidskdataset.o ./frmts/o/pngdataset.o ./frmts/o/pnmdataset.o ./frmts/o/rawdataset.o ./frmts/o/sar_ceosdataset.o ./frmts/o/sdtsattrreader.o ./frmts/o/sdtscatd.o ./frmts/o/sdtsdataset.o ./frmts/o/sdtsindexedreader.o ./frmts/o/sdtsiref.o ./frmts/o/sdtslib.o ./frmts/o/sdtslinereader.o ./frmts/o/sdtspointreader.o ./frmts/o/sdtspolygonreader.o ./frmts/o/sdtsrasterreader.o ./frmts/o/sdtstransfer.o ./frmts/o/sdtsxref.o ./frmts/o/tif_aux.o ./frmts/o/tif_close.o ./frmts/o/tif_codec.o ./frmts/o/tif_color.o ./frmts/o/tif_compress.o ./frmts/o/tif_dir.o ./frmts/o/tif_dirinfo.o ./frmts/o/tif_dirread.o ./frmts/o/tif_dirwrite.o ./frmts/o/tif_dumpmode.o ./frmts/o/tif_error.o ./frmts/o/tif_extension.o ./frmts/o/tif_fax3.o ./frmts/o/tif_fax3sm.o ./frmts/o/tif_flush.o ./frmts/o/tif_getimage.o ./frmts/o/tif_jpeg.o ./frmts/o/tif_luv.o ./frmts/o/tif_lzw.o ./frmts/o/tif_memio.o ./frmts/o/tif_next.o ./frmts/o/tif_open.o ./frmts/o/tif_overview.o ./frmts/o/tif_ovrcache.o ./frmts/o/tif_packbits.o ./frmts/o/tif_pixarlog.o ./frmts/o/tif_predict.o ./frmts/o/tif_print.o ./frmts/o/tif_read.o ./frmts/o/tif_strip.o ./frmts/o/tif_swab.o ./frmts/o/tif_thunder.o ./frmts/o/tif_tile.o ./frmts/o/tif_version.o ./frmts/o/tif_vsi.o ./frmts/o/tif_warning.o ./frmts/o/tif_write.o ./frmts/o/tif_zip.o ./frmts/o/usgsdemdataset.o ./frmts/o/vrtdataset.o ./frmts/o/vrtdriver.o ./frmts/o/vrtfilters.o ./frmts/o/vrtrasterband.o ./frmts/o/vrtsources.o ./frmts/o/xpmdataset.o ./frmts/o/xtiff.o ./gcore/gdal_misc.o ./gcore/gdalcolortable.o ./gcore/gdaldataset.o ./gcore/gdaldefaultoverviews.o ./gcore/gdaldriver.o ./gcore/gdaldrivermanager.o ./gcore/gdalmajorobject.o ./gcore/gdalopen.o ./gcore/gdalrasterband.o ./gcore/gdalrasterblock.o ./gcore/overview.o ./gcore/rasterio.o ./port/cpl_conv.o ./port/cpl_csv.o ./port/cpl_dir.o ./port/cpl_error.o ./port/cpl_findfile.o ./port/cpl_list.o ./port/cpl_minixml.o ./port/cpl_multiproc.o ./port/cpl_path.o ./port/cpl_string.o ./port/cpl_vsil_unix_stdio_64.o ./port/cpl_vsisimple.o ./port/cplgetsymbol.o ./alg/contour.o ./alg/gdal_crs.o ./alg/gdal_rpc.o ./alg/gdalchecksum.o ./alg/gdaldither.o ./alg/gdalmediancut.o ./alg/gdalsimplewarp.o ./alg/gdaltransformer.o ./alg/gdalwarper.o ./alg/gdalwarpkernel.o ./alg/gdalwarpoperation.o ./ogr/ogrsf_frmts/o/avc_bin.o ./ogr/ogrsf_frmts/o/avc_binwr.o ./ogr/ogrsf_frmts/o/avc_e00gen.o ./ogr/ogrsf_frmts/o/avc_e00parse.o ./ogr/ogrsf_frmts/o/avc_e00read.o ./ogr/ogrsf_frmts/o/avc_e00write.o ./ogr/ogrsf_frmts/o/avc_mbyte.o ./ogr/ogrsf_frmts/o/avc_misc.o ./ogr/ogrsf_frmts/o/avc_rawbin.o ./ogr/ogrsf_frmts/o/dbfopen.o ./ogr/ogrsf_frmts/o/ddfrecordindex.o ./ogr/ogrsf_frmts/o/dgnfloat.o ./ogr/ogrsf_frmts/o/dgnhelp.o ./ogr/ogrsf_frmts/o/dgnopen.o ./ogr/ogrsf_frmts/o/dgnread.o ./ogr/ogrsf_frmts/o/dgnstroke.o ./ogr/ogrsf_frmts/o/dgnwrite.o ./ogr/ogrsf_frmts/o/gmlfeature.o ./ogr/ogrsf_frmts/o/gmlfeatureclass.o ./ogr/ogrsf_frmts/o/gmlpropertydefn.o ./ogr/ogrsf_frmts/o/gmlreader.o ./ogr/ogrsf_frmts/o/ll_recio.o ./ogr/ogrsf_frmts/o/mitab_bounds.o ./ogr/ogrsf_frmts/o/mitab_coordsys.o ./ogr/ogrsf_frmts/o/mitab_datfile.o ./ogr/ogrsf_frmts/o/mitab_feature.o ./ogr/ogrsf_frmts/o/mitab_feature_mif.o ./ogr/ogrsf_frmts/o/mitab_geometry.o ./ogr/ogrsf_frmts/o/mitab_idfile.o ./ogr/ogrsf_frmts/o/mitab_imapinfofile.o ./ogr/ogrsf_frmts/o/mitab_indfile.o ./ogr/ogrsf_frmts/o/mitab_mapcoordblock.o ./ogr/ogrsf_frmts/o/mitab_mapfile.o ./ogr/ogrsf_frmts/o/mitab_mapheaderblock.o ./ogr/ogrsf_frmts/o/mitab_mapindexblock.o ./ogr/ogrsf_frmts/o/mitab_mapobjectblock.o ./ogr/ogrsf_frmts/o/mitab_maptoolblock.o ./ogr/ogrsf_frmts/o/mitab_middatafile.o ./ogr/ogrsf_frmts/o/mitab_miffile.o ./ogr/ogrsf_frmts/o/mitab_ogr_datasource.o ./ogr/ogrsf_frmts/o/mitab_ogr_driver.o ./ogr/ogrsf_frmts/o/mitab_rawbinblock.o ./ogr/ogrsf_frmts/o/mitab_spatialref.o ./ogr/ogrsf_frmts/o/mitab_tabfile.o ./ogr/ogrsf_frmts/o/mitab_tabseamless.o ./ogr/ogrsf_frmts/o/mitab_tabview.o ./ogr/ogrsf_frmts/o/mitab_tooldef.o ./ogr/ogrsf_frmts/o/mitab_utils.o ./ogr/ogrsf_frmts/o/ntf_codelist.o ./ogr/ogrsf_frmts/o/ntf_estlayers.o ./ogr/ogrsf_frmts/o/ntf_generic.o ./ogr/ogrsf_frmts/o/ntf_raster.o ./ogr/ogrsf_frmts/o/ntffilereader.o ./ogr/ogrsf_frmts/o/ntfrecord.o ./ogr/ogrsf_frmts/o/ntfstroke.o ./ogr/ogrsf_frmts/o/oci_utils.o ./ogr/ogrsf_frmts/o/ogr_attrind.o ./ogr/ogrsf_frmts/o/ogr_gensql.o ./ogr/ogrsf_frmts/o/ogr_miattrind.o ./ogr/ogrsf_frmts/o/ogravcbindatasource.o ./ogr/ogrsf_frmts/o/ogravcbindriver.o ./ogr/ogrsf_frmts/o/ogravcbinlayer.o ./ogr/ogrsf_frmts/o/ogravcdatasource.o ./ogr/ogrsf_frmts/o/ogravclayer.o ./ogr/ogrsf_frmts/o/ogrdatasource.o ./ogr/ogrsf_frmts/o/ogrdgndatasource.o ./ogr/ogrsf_frmts/o/ogrdgndriver.o ./ogr/ogrsf_frmts/o/ogrdgnlayer.o ./ogr/ogrsf_frmts/o/ogrgmldatasource.o ./ogr/ogrsf_frmts/o/ogrgmldriver.o ./ogr/ogrsf_frmts/o/ogrgmllayer.o ./ogr/ogrsf_frmts/o/ogrlayer.o ./ogr/ogrsf_frmts/o/ogrmemdatasource.o ./ogr/ogrsf_frmts/o/ogrmemdriver.o ./ogr/ogrsf_frmts/o/ogrmemlayer.o ./ogr/ogrsf_frmts/o/ogrntfdatasource.o ./ogr/ogrsf_frmts/o/ogrntfdriver.o ./ogr/ogrsf_frmts/o/ogrntffeatureclasslayer.o ./ogr/ogrsf_frmts/o/ogrntflayer.o ./ogr/ogrsf_frmts/o/ogrocidatasource.o ./ogr/ogrsf_frmts/o/ogrocidriver.o ./ogr/ogrsf_frmts/o/ogrocilayer.o ./ogr/ogrsf_frmts/o/ogrociloaderlayer.o ./ogr/ogrsf_frmts/o/ogrociselectlayer.o ./ogr/ogrsf_frmts/o/ogrocisession.o ./ogr/ogrsf_frmts/o/ogrocistatement.o ./ogr/ogrsf_frmts/o/ogrocistringbuf.o ./ogr/ogrsf_frmts/o/ogrocitablelayer.o ./ogr/ogrsf_frmts/o/ogrociwritablelayer.o ./ogr/ogrsf_frmts/o/ogrrecdatasource.o ./ogr/ogrsf_frmts/o/ogrrecdriver.o ./ogr/ogrsf_frmts/o/ogrreclayer.o ./ogr/ogrsf_frmts/o/ogrregisterall.o ./ogr/ogrsf_frmts/o/ogrs57datasource.o ./ogr/ogrsf_frmts/o/ogrs57driver.o ./ogr/ogrsf_frmts/o/ogrs57layer.o ./ogr/ogrsf_frmts/o/ogrsdtsdatasource.o ./ogr/ogrsf_frmts/o/ogrsdtsdriver.o ./ogr/ogrsf_frmts/o/ogrsdtslayer.o ./ogr/ogrsf_frmts/o/ogrsfdriver.o ./ogr/ogrsf_frmts/o/ogrsfdriverregistrar.o ./ogr/ogrsf_frmts/o/ogrshapedatasource.o ./ogr/ogrsf_frmts/o/ogrshapedriver.o ./ogr/ogrsf_frmts/o/ogrshapelayer.o ./ogr/ogrsf_frmts/o/ogrtigerdatasource.o ./ogr/ogrsf_frmts/o/ogrtigerdriver.o ./ogr/ogrsf_frmts/o/ogrtigerlayer.o ./ogr/ogrsf_frmts/o/ogrvrtdatasource.o ./ogr/ogrsf_frmts/o/ogrvrtdriver.o ./ogr/ogrsf_frmts/o/ogrvrtlayer.o ./ogr/ogrsf_frmts/o/s57classregistrar.o ./ogr/ogrsf_frmts/o/s57featuredefns.o ./ogr/ogrsf_frmts/o/s57filecollector.o ./ogr/ogrsf_frmts/o/s57reader.o ./ogr/ogrsf_frmts/o/s57writer.o ./ogr/ogrsf_frmts/o/shape2ogr.o ./ogr/ogrsf_frmts/o/shpopen.o ./ogr/ogrsf_frmts/o/shptree.o ./ogr/ogrsf_frmts/o/tigeraltname.o ./ogr/ogrsf_frmts/o/tigerarealandmarks.o ./ogr/ogrsf_frmts/o/tigercompletechain.o ./ogr/ogrsf_frmts/o/tigerentitynames.o ./ogr/ogrsf_frmts/o/tigerfeatureids.o ./ogr/ogrsf_frmts/o/tigerfilebase.o ./ogr/ogrsf_frmts/o/tigeridhistory.o ./ogr/ogrsf_frmts/o/tigerkeyfeatures.o ./ogr/ogrsf_frmts/o/tigerlandmarks.o ./ogr/ogrsf_frmts/o/tigeroverunder.o ./ogr/ogrsf_frmts/o/tigerpip.o ./ogr/ogrsf_frmts/o/tigerpoint.o ./ogr/ogrsf_frmts/o/tigerpolychainlink.o ./ogr/ogrsf_frmts/o/tigerpolygon.o ./ogr/ogrsf_frmts/o/tigerpolygoncorrections.o ./ogr/ogrsf_frmts/o/tigerpolygoneconomic.o ./ogr/ogrsf_frmts/o/tigertlidrange.o ./ogr/ogrsf_frmts/o/tigerzerocellid.o ./ogr/ogrsf_frmts/o/tigerzipcodes.o ./ogr/ogrsf_frmts/o/tigerzipplus4.o ./ogr/ogrgeometryfactory.o ./ogr/ogrpoint.o ./ogr/ogrcurve.o ./ogr/ogrlinestring.o ./ogr/ogrlinearring.o ./ogr/ogrpolygon.o ./ogr/ogrutils.o ./ogr/ogrgeometry.o ./ogr/ogrgeometrycollection.o ./ogr/ogrmultipolygon.o ./ogr/ogrsurface.o ./ogr/ogrmultipoint.o ./ogr/ogrmultilinestring.o ./ogr/ogr_api.o ./ogr/ogrfeature.o ./ogr/ogrfeaturedefn.o ./ogr/ogrfeaturequery.o ./ogr/ogrfeaturestyle.o ./ogr/ogrfielddefn.o ./ogr/ogrspatialreference.o ./ogr/ogr_srsnode.o ./ogr/ogr_srs_proj4.o ./ogr/ogr_fromepsg.o ./ogr/ogrct.o ./ogr/ogr_opt.o ./ogr/ogr_srs_esri.o ./ogr/ogr_srs_pci.o ./ogr/ogr_srs_usgs.o ./ogr/swq.o ./ogr/ogr_srs_validate.o ./ogr/ogr_srs_xml.o ./ogr/ograssemblepolygon.o ./ogr/ogr2gmlgeometry.o ./ogr/gml2ogrgeometry.o
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory `/export/home/oliver/tmp/gdal_par/gdal-1.2.0a'
make: *** [check-lib] Error 2
From matt.wilkie at gov.yk.ca  Fri Feb 20 11:58:27 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Test building 1.2.0a on cygwin
In-Reply-To: <OF14C02371.3B095FD6-ON88256E3F.0079CDA5-88256E3F.007BEC4C@lignum.com>
References: <OF14C02371.3B095FD6-ON88256E3F.0079CDA5-88256E3F.007BEC4C@lignum.com>
Message-ID: <40363CB3.1080100@gov.yk.ca>

compiled okay* on Windows XP SP1, Cygwin, Dual P4 1Ghz, 1GB RAM with a 
plain "./configure". "--with-static-proj4" failed though (same error as 
last week; see "missing libproj.so" thread)

[*] meaning that make did not return any errors. A lot of warnings 
though, are you interested in those?

I was very happy to discover that gdaltindex can now handle rasters 
which aren't "north to top" -- thank you!

I didn't do any profiling so I don't know if it's my imagination or not, 
but this version seems to be faster.


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From dron at ak4719.spb.edu  Fri Feb 20 12:53:19 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Test building 1.2.0a on cygwin
In-Reply-To: <40363CB3.1080100@gov.yk.ca>
References: <OF14C02371.3B095FD6-ON88256E3F.0079CDA5-88256E3F.007BEC4C@lignum.com> <40363CB3.1080100@gov.yk.ca>
Message-ID: <20040220175319.GA18547@ak4719.spb.edu>

On Fri, Feb 20, 2004 at 08:58:27AM -0800, Matt Wilkie wrote:
> compiled okay* on Windows XP SP1, Cygwin, Dual P4 1Ghz, 1GB RAM with a
> plain "./configure". "--with-static-proj4" failed though (same error
> as last week; see "missing libproj.so" thread)

We should add --with-proj4 switch to point to PROJ.4 libraries. I shall
do that.

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From alexamici at fastwebnet.it  Fri Feb 20 13:20:32 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <4035FEA2.2030604@gdv.com>
References: <403514FA.9030809@pobox.com> <200402201140.31532.alexamici@fastwebnet.it> <4035FEA2.2030604@gdv.com>
Message-ID: <200402201920.32818.alexamici@fastwebnet.it>

Oliver,

On Friday 20 February 2004 13:33, Oliver Wesp wrote:
> ld: warning: file
> /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/../../libstdc++.so: linked
> to /usr/local/lib/./libstdc++.so: attempted multiple inclusion of file

this looks harmless

> With oci it gives me an error which doesn't seems to me like it has
> anything to do with the problems we had back in october. I attched a
> text file with the last part of the output from the build process.

> false cru .libs/libgdal.a  ./frmts/o/EnvisatFile.o [...]

weird! somehow libtool does not find the ar program or it doesn't like what it 
finds. is it possible that you don't have the 'ar' directory in your PATH? 
(unlikely)

can you see if something like:
$ AR=/path/to/ar ./configure [etc]
solves the problem?

cheers,
alessandro

From jgallagher at gso.uri.edu  Fri Feb 20 16:51:09 2004
From: jgallagher at gso.uri.edu (James Gallagher)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2.0 release issues
In-Reply-To: <4035484E.4080207@pobox.com>
References: <4035484E.4080207@pobox.com>
Message-ID: <1077313869.2736.14.camel@comet.dods.org>

On Thu, 2004-02-19 at 16:35, Frank Warmerdam wrote:
> Folks,
> 
> I have created a wiki topic to track minor issues and general status for
> the 1.2.0 release.  Please update if needed.
> 
>    http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?GDAL120Release
> 
> I have also created a bug report (listed in the wiki) on which bugs that
> are "1.2.0 release blockers" can mark as blocked by themselves.  I have marked
> a bunch of bugs as blocking the release and intend to go through them soon.

Frank,

Any guess how long this will take? I'm deep in three proposals right now
but I'd really like to get the change you suggested into the
DODS/OPeNDAP driver before 1.2.0 becomes an official release.

Sorry for being a pest about time...

James
> 
> Best regards,
-- 
__________________________________________________________________________
James Gallagher		         The Distributed Oceanographic Data System
jgallagher@gso.uri.edu               http://unidata.ucar.edu/packages/dods
Voice/Fax: 406.723.8663


From warmerdam at pobox.com  Fri Feb 20 17:25:55 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2.0 release issues
In-Reply-To: <1077313869.2736.14.camel@comet.dods.org>
References: <4035484E.4080207@pobox.com> <1077313869.2736.14.camel@comet.dods.org>
Message-ID: <40368973.3070603@pobox.com>

James Gallagher wrote:
> On Thu, 2004-02-19 at 16:35, Frank Warmerdam wrote:
> 
>>Folks,
>>
>>I have created a wiki topic to track minor issues and general status for
>>the 1.2.0 release.  Please update if needed.
>>
>>   http://mapserver.gis.umn.edu/cgi-bin/wiki.pl?GDAL120Release
>>
>>I have also created a bug report (listed in the wiki) on which bugs that
>>are "1.2.0 release blockers" can mark as blocked by themselves.  I have marked
>>a bunch of bugs as blocking the release and intend to go through them soon.
> 
> 
> Frank,
> 
> Any guess how long this will take? I'm deep in three proposals right now
> but I'd really like to get the change you suggested into the
> DODS/OPeNDAP driver before 1.2.0 becomes an official release.
> 
> Sorry for being a pest about time...

James,

I hope to have a final release of 1.2.0 approximately one week from now.
However, I promise not to wait another whole year before doing a 1.2.1
release.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From starged at videotron.ca  Fri Feb 20 22:47:55 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <403514FA.9030809@pobox.com>
References: <403514FA.9030809@pobox.com>
Message-ID: <l0ld3057ck16t4gmv7pb2kiq4vcadvmcsb@4ax.com>

Hi Frank,

On Thu, 19 Feb 2004 14:56:42 -0500, Frank Warmerdam <warmerdam@pobox.com> wrote:

>I would appreciate it if some people could give this new rev a quick spin on
>different platforms, and building it into different applications.

MinGW build is fine.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From nhv at cape.com  Sat Feb 21 08:10:48 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <403514FA.9030809@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>

Frank Warmerdam writes:
>
> I have prepared a preliminary 1.2.0 alpha release:
>
>    ftp://ftp.remotesensing.org/pub/gdal/gdal-1.2.0a.tar.gz


GDAL build failed when attempting to build static proj4 link and libtool

The problem appears to go away if -lproj is added to the $LIBS
in GDALmake.opt.in if $PROJ_STATIC is defined

ifeq ($(PROJ_STATIC),yes)
PROJ_FLAGS = -DPROJ_STATIC
LIBS += -lproj
endif

Also  when gdal is built statically with libtool < perhaps without >
mapserver will not link because it does not know about the
GDAL dependency libs in libgdal.lai

perhaps these should be added to the gdal-config script for
the static case ?

It would also be nice if there was a configure mechanism in gdal
and proj to hardwire the location of the 'shared' data in order to
facilitate remote installation on a machine on which one did not
have enough privilige to run as 'su'

Cheers

Norman


% uname -smp
Linux i686 unknown
% gcc --version
2.96

%
./configure --prefix=/home/nhv --with-netcdf=/home/nhv --enable-shared=no --with-netcdf=/home/nhv --with-static-proj4=yes --without-
python

make[1]: Entering directory `/data3/nhv/src/gdal-1.2.0a2/ogr'
/bin/sh ../libtool --mode=link	g++  ogrinfo.o ../libgdal.la -o ogrinfo
g++ ogrinfo.o -o ogrinfo  ../.libs/libgdal.a -lodbc -lgif
/usr/lib/libjpeg.so -lpng -L/home/nhv -L/home/nhv/lib -lnetcdf -lz -ldl -L/usr/lib -lpq
../.libs/libgdal.a(ogrct.o): In function `LoadProjLibrary(void)':
ogrct.o(.text+0x75): undefined reference to `pj_transform'
ogrct.o(.text+0x81): undefined reference to `pj_init'
ogrct.o(.text+0x8b): undefined reference to `pj_init_plus'
ogrct.o(.text+0x95): undefined reference to `pj_fwd'
ogrct.o(.text+0x9f): undefined reference to `pj_inv'
ogrct.o(.text+0xa9): undefined reference to `pj_free'
ogrct.o(.text+0xb3): undefined reference to `pj_transform'
ogrct.o(.text+0xbd): undefined reference to `pj_get_errno_ref'
ogrct.o(.text+0xc7): undefined reference to `pj_strerrno'
ogrct.o(.text+0xd1): undefined reference to `pj_dalloc'
ogrct.o(.text+0xdb): undefined reference to `pj_get_def'


From alexamici at fastwebnet.it  Sat Feb 21 09:35:41 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
Message-ID: <200402211535.41202.alexamici@fastwebnet.it>

Norman,

> Also  when gdal is built statically with libtool < perhaps without >
> mapserver will not link because it does not know about the
> GDAL dependency libs in libgdal.lai
>
> perhaps these should be added to the gdal-config script for
> the static case ?

wooops! actually after install the information is present into the file 
$prefix/lib/libgdal.la. unfortunatly it is not easily parsed if you happen to 
build gdal against other libtool libraries:

# Libraries that this one depends upon.
dependency_libs=' /usr/lib/libodbc.la /usr/lib/libltdl.la -lxerces-c -lmfhdf 
-ldf -lgif /usr/lib /libjpeg.la -lpng -lnetcdf -lcfitsio -lz -lpthread -ldl 
-L/usr/lib -lpq'

i added a --dep-libs option to gdal-config:
$ gdal-config --dep-libs
-lodbc -lxerces-c -lmfhdf -ldf -lgif -ljpeg -lpng -lnetcdf -lcfitsio -lz 
-lpthread -lm -ldl -L/usr/lib -lpq

cheers,
alessandro

From dron at ak4719.spb.edu  Sat Feb 21 09:45:48 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
References: <403514FA.9030809@pobox.com> <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
Message-ID: <20040221144548.GA19464@ak4719.spb.edu>

On Sat, Feb 21, 2004 at 08:10:48AM -0500, Norman Vine wrote:
> GDAL build failed when attempting to build static proj4 link and
> libtool
> 
> The problem appears to go away if -lproj is added to the $LIBS in
> GDALmake.opt.in if $PROJ_STATIC is defined

I have added more logic to --with-static-proj4 switch. Now it can take
values "yes", "no" and "/path/to/binary/installation". There should be
no problem in case of --with-static-proj4=yes and system wide
installation. Please, test.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warmerdam at pobox.com  Sat Feb 21 10:18:12 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <200402211535.41202.alexamici@fastwebnet.it>
References: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com> <200402211535.41202.alexamici@fastwebnet.it>
Message-ID: <403776B4.3090801@pobox.com>

Alessandro Amici wrote:
> Norman,
> 
> 
>>Also  when gdal is built statically with libtool < perhaps without >
>>mapserver will not link because it does not know about the
>>GDAL dependency libs in libgdal.lai
>>
>>perhaps these should be added to the gdal-config script for
>>the static case ?
> 
> 
> wooops! actually after install the information is present into the file 
> $prefix/lib/libgdal.la. unfortunatly it is not easily parsed if you happen to 
> build gdal against other libtool libraries:
> 
> # Libraries that this one depends upon.
> dependency_libs=' /usr/lib/libodbc.la /usr/lib/libltdl.la -lxerces-c -lmfhdf 
> -ldf -lgif /usr/lib /libjpeg.la -lpng -lnetcdf -lcfitsio -lz -lpthread -ldl 
> -L/usr/lib -lpq'
> 
> i added a --dep-libs option to gdal-config:
> $ gdal-config --dep-libs
> -lodbc -lxerces-c -lmfhdf -ldf -lgif -ljpeg -lpng -lnetcdf -lcfitsio -lz 
> -lpthread -lm -ldl -L/usr/lib -lpq

Alessandro,

If there are libraries other than GDAL itself that you need to link against
when you link against GDAL, those should be included in the output of
gdal-config --libs.  Could you update accordingly?

Thanks,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Sat Feb 21 10:46:11 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
Message-ID: <40377D43.8060506@pobox.com>

Norman Vine wrote:
> It would also be nice if there was a configure mechanism in gdal
> and proj to hardwire the location of the 'shared' data in order to
> facilitate remote installation on a machine on which one did not
> have enough privilige to run as 'su'

Norman,

Have you tried the --datadir option for the PROJ.4 configure?  I am not
sure if it works, but I think it might.  I have created a 1.2.0 release
blocking bug to make the --datadir option work with the GDAL configure.

   http://bugzilla.remotesensing.org/show_bug.cgi?id=501

Note, that you can just edit GDALmake.opt and change INST_DATA before
starting your build.  But I realize many people seem to want to do everything
from the configure commandline.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From alexamici at fastwebnet.it  Sat Feb 21 11:09:40 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <403776B4.3090801@pobox.com>
References: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com> <200402211535.41202.alexamici@fastwebnet.it> <403776B4.3090801@pobox.com>
Message-ID: <200402211709.40165.alexamici@fastwebnet.it>

Frank,

On Saturday 21 February 2004 16:18, Frank Warmerdam wrote:
> > i added a --dep-libs option to gdal-config:
> > $ gdal-config --dep-libs
> > -lodbc -lxerces-c -lmfhdf -ldf -lgif -ljpeg -lpng -lnetcdf -lcfitsio -lz
> > -lpthread -lm -ldl -L/usr/lib -lpq
>
> If there are libraries other than GDAL itself that you need to link against
> when you link against GDAL, those should be included in the output of
> gdal-config --libs.  Could you update accordingly?

the dependency libraries are _only_ useful if you link against the static 
version of gdal, i.e. libgdal.a. they are _not_ needed in the normal case 
when you link against gdal as a shared library (at least on linux).

so normal apps should use --libs:
$ gcc my-app.c `gdal-config --libs`

and apps statically linked should use both --libs ad --dep-libs:
$ gcc -static my-app.c `gdal-config --libs` `gdal-config --dep-libs`
or
$ gcc my-app.c /path/to/libgdal.a `gdal-config --dep-libs`

i think the two options should remain separate to keep the normal case of 
dynamic link less confusing. furthermore a user usually knows if he is going 
to link gdal statically and he can act acordingly.

just my two cents, if you are still of the opinion that the options should be 
merged i'll merge them.

cheers,
alessandro


From warmerdam at pobox.com  Sat Feb 21 14:17:12 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <200402211709.40165.alexamici@fastwebnet.it>
References: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com> <200402211535.41202.alexamici@fastwebnet.it> <403776B4.3090801@pobox.com> <200402211709.40165.alexamici@fastwebnet.it>
Message-ID: <4037AEB8.60502@pobox.com>

Alessandro Amici wrote:
> the dependency libraries are _only_ useful if you link against the static 
> version of gdal, i.e. libgdal.a. they are _not_ needed in the normal case 
> when you link against gdal as a shared library (at least on linux).

Alessandro,

OK, I concur that the dependencies should not appear in the --libs
output if they aren't needed to link against whatever GDAL library is
listed in --libs.

I have had reports that on MacOS the shared libraries do not carry
their dependencies along with them ... that the supporting libraries
need to be explicitly listed.  Can anyone confirm that?  Can anyone provide
an account on a MacOS X system I can use for build testing?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tim at linfiniti.com  Sat Feb 21 20:47:52 2004
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Nodata values in arc/info ascii grids
Message-ID: <200402220147.52476.tim@linfiniti.com>

Hi

When I load an arc ingo ascii grid using gdal, I find that even though gdal 
reports the correct value for nodata in the file's metadata. When actually 
reading in a null matrix value, I seem to be getting a zero instead of the 
expected no_data value. Has anyone experienced this?


Regards

Tim Sutton
-- 
Get my public keys from:

http://tim.suttonfamily.co.uk/modules.php?name=Content&pa=showpage&pid=2

From ben at vterrain.org  Sun Feb 22 01:58:19 2004
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com>
Message-ID: <002301c3f911$40e4c2c0$f400fe0a@TOPP2>

I got the new GDAL to build on MSVC 7.1.  It did take a lot of work to hack
all the build files to produce debug and release libraries with separate
names, about an hour of tweaking nmake.opt and about a dozen places in the
the 'makefile.vc' and 'Makefile' and 'mk_bin_dist' files.

The result of that work is a standard Win32 distro:
	http://vterrain.org/dist/gdal-120a-ntbin.zip (2.5MB)

It has everything needed to work with GDAL in both Debug and Release.

-Ben

> -----Original Message-----
> Frank Warmerdam writes:
> >
> > I have prepared a preliminary 1.2.0 alpha release:
> >
> > ftp://ftp.remotesensing.org/pub/gdal/gdal-1.2.0a.tar.gz


From dron at ak4719.spb.edu  Sun Feb 22 01:30:37 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <20040221144548.GA19464@ak4719.spb.edu>
References: <403514FA.9030809@pobox.com> <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com> <20040221144548.GA19464@ak4719.spb.edu>
Message-ID: <20040222063035.GA977@ak4719.spb.edu>

On Sat, Feb 21, 2004 at 05:45:48PM +0300, Andrey Kiselev wrote:
> I have added more logic to --with-static-proj4 switch. Now it can take
> values "yes", "no" and "/path/to/binary/installation". There should be
> no problem in case of --with-static-proj4=yes and system wide
> installation. Please, test.

Thinking a bit more on that topic I'm wondering whether we should
statically link with PROJ.4 by default and rollback to dynamic loading
if library not found? I'm remember there was complains in GRASS list
about dlopening PROJ.4 on MacOSX. Static linking should solve such
problems.

					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From nhv at cape.com  Sun Feb 22 02:34:59 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <40377D43.8060506@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAIEFCGIAA.nhv@cape.com>

Frank Warmerdam writes:
> 
> Norman Vine wrote:
> > It would also be nice if there was a configure mechanism in gdal
> > and proj to hardwire the location of the 'shared' data in order to
> > facilitate remote installation on a machine on which one did not
> > have enough privilige to run as 'su'
> 
> Have you tried the --datadir option for the PROJ.4 configure?  I am not
> sure if it works, but I think it might.  I have created a 1.2.0 release
> blocking bug to make the --datadir option work with the GDAL configure.
> 
>    http://bugzilla.remotesensing.org/show_bug.cgi?id=501
> 
> Note, that you can just edit GDALmake.opt and change INST_DATA before
> starting your build.  But I realize many people seem to want to do everything
> from the configure commandline.

Frank

This sort of works for when one doesn't have 'su' privilige
./configure --prefix=XXX

but requires using $ENV variables to find the shared data

What I was suggesting was perhaps adding a configure time
option for setting a 'hardwired' location instead of relyiing on
the $ENV

I believe this would make remote instalation of mapserver easier 
for those cases where 'su' rights weren't available and possibly 
save some confusion for users that aren't accustomed to using 
the $ENV

Then again this adds complexity ..

Cheers

Norman



From nhv at cape.com  Sun Feb 22 04:11:21 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <20040222063035.GA977@ak4719.spb.edu>
Message-ID: <EKEJIKAILPONGGENMBGAOEFDGIAA.nhv@cape.com>

Index: GNUmakefile
===================================================================
RCS file: /cvsroot/osrs/gdal/pymod/GNUmakefile,v
retrieving revision 1.18
diff -r1.18 GNUmakefile
23c23
< 	$(RM) *.o *.so *.la
---
> 	$(RM) *.o *.$(SO_EXT) *.la
28c28
< $(GDALMODULE).so:	$(OBJ) $(EXE_DEP_LIBS)
---
> $(GDALMODULE).$(SO_EXT):	$(OBJ) $(EXE_DEP_LIBS)


From chen at yinyue123.com  Sun Feb 22 22:14:54 2004
From: chen at yinyue123.com (Fu Chen)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <SYLVANSERVERA1XvpFV00000005@sylvanserver>
Message-ID: <HLENLPCAGDEHMNMNLIDJCEOBCAAA.chen@yinyue123.com>

Thanks!
I think I can take WKB as a candidate. There is a project call WKB4J which is a java WKB parser.
Can ogr translate some dataset into WKB?


-----Original Message-----
From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Roger Bedell
Sent: Wednesday, February 11, 2004 3:51 AM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Please suggest a vector format for wireless application


Franks suggestion to use a pre-rendered GIF is the smallest and easiest, as
for a binary format, OpenGIS Well Known Binary is fairly compact.

Roger Bedell, President, Sylvan Ascent Inc.
roger@sylvanascent.com
505-758-7712
www.sylvanascent.com
www.pocketterra.com
 
 

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Fu Chen
Sent: Sunday, February 08, 2004 6:45 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Please suggest a vector format for wireless
application

I wanna build it on mobile phone, for example, NOKIA S40 series which only
permit 64K program size for a J2ME size. We have to do reading and rendering
in this little program, so unzip and xml parser will waste too much space.
A compact binary gis format is what i need I think. Is there a format
already exist in the world meet my requirement? or I have to create one
myself?

GPS are not widely used in Beijing which host the 2008 Olympic Games. But
traffic management department have already set some equipments to test the
flow on the road. What we try to do is broadcasting this information to
drivers to help them make good route decision.

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org]On Behalf Of Roger Bedell
Sent: Sunday, February 08, 2004 11:52 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] Please suggest a vector format for wireless
application


Can the GML be sent using compression? Also, for several years I've been
interested in a similar application, but the traffic routing is dynamically
determined in real time using feedback from the velocity and direction GPS
data from a large number of vehicles. Is anyone working on such a scheme?
I've called it the "Velocigram" but haven't had the time to work on it much.

Roger Bedell, President, Sylvan Ascent Inc.
roger@sylvanascent.com
505-758-7712
www.sylvanascent.com
www.pocketterra.com
 
 

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Fu Chen
Sent: Sunday, February 08, 2004 6:53 AM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Please suggest a vector format for wireless application

Hi!
I wanna create a simple application for traffic management department in my
city to broadcast the situation on the road. This application will help
driver make his best route and ease the trafic block.
The data is very simple, the most important  is main road's position, its
name,  and the situation on the road which can be some levels for example 0
for free road and 5 for total blocked road. Some other layers can be include
if the space permit. The mobile device will get the road map in once and
then contact the host for the realtime road situation in some time gap.
Now I must select a format for a space and bandwidth limited mobile device.
GML seems a good selection for  webgis. But it will waste a lot of bandwidth
to transport tag. Is there a simple compact binary format suite my design.
Hope some guru in this list will give me some suggestion.
Thank!!
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Sun Feb 22 23:47:35 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Please suggest a vector format for wireless application
In-Reply-To: <HLENLPCAGDEHMNMNLIDJCEOBCAAA.chen@yinyue123.com>
References: <HLENLPCAGDEHMNMNLIDJCEOBCAAA.chen@yinyue123.com>
Message-ID: <403985E7.9020003@pobox.com>

Fu Chen wrote:
> Thanks!
> I think I can take WKB as a candidate. There is a project call WKB4J which is a java WKB parser.
> Can ogr translate some dataset into WKB?

Fu Chen,

Note that WKB doesn't have any concept of attributes.  It is purely a format
for geometry.  OGR does include methods on the OGRGeometry class for converting
geometries into WKB format, or for creating a geometry from WKB.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb 23 00:08:07 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <EKEJIKAILPONGGENMBGAOEFDGIAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAOEFDGIAA.nhv@cape.com>
Message-ID: <40398AB7.4040508@pobox.com>

Norman Vine wrote:
> Index: GNUmakefile
> ===================================================================
> RCS file: /cvsroot/osrs/gdal/pymod/GNUmakefile,v
> retrieving revision 1.18
> diff -r1.18 GNUmakefile
> 23c23
> < 	$(RM) *.o *.so *.la
> ---
> 
>>	$(RM) *.o *.$(SO_EXT) *.la
> 
> 28c28
> < $(GDALMODULE).so:	$(OBJ) $(EXE_DEP_LIBS)
> ---
> 
>>$(GDALMODULE).$(SO_EXT):	$(OBJ) $(EXE_DEP_LIBS)


applied

Thanks,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From warmerdam at pobox.com  Mon Feb 23 00:10:25 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <20040222063035.GA977@ak4719.spb.edu>
References: <403514FA.9030809@pobox.com> <EKEJIKAILPONGGENMBGAKEDKGIAA.nhv@cape.com> <20040221144548.GA19464@ak4719.spb.edu> <20040222063035.GA977@ak4719.spb.edu>
Message-ID: <40398B41.7000903@pobox.com>

Andrey Kiselev wrote:
> Thinking a bit more on that topic I'm wondering whether we should
> statically link with PROJ.4 by default and rollback to dynamic loading
> if library not found? I'm remember there was complains in GRASS list
> about dlopening PROJ.4 on MacOSX. Static linking should solve such
> problems.

Andrey,

I wouldn't mind changing the default on MacOS X, but I like the dynamic
loading.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From alexamici at fastwebnet.it  Mon Feb 23 02:27:51 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Bug 499 (GDAL 1.2.0 release issues)
In-Reply-To: <4035484E.4080207@pobox.com>
References: <4035484E.4080207@pobox.com>
Message-ID: <200402230827.51944.alexamici@fastwebnet.it>


Frank,

On Friday 20 February 2004 00:35, Frank Warmerdam wrote:
> I have also created a bug report (listed in the wiki) on which bugs that
> are "1.2.0 release blockers" can mark as blocked by themselves.  I have
> marked a bunch of bugs as blocking the release and intend to go through
> them soon.

i could reproduce bug 499 (aix specific) on i686-pc-linux-gnu with:
$ ./configure --disable-static

it is a libtool bug instroduced somewhere before version 1.5.0a that is in 
gdal now. it is not fixed in current libtool 1.5.2.

there are various way to work around it, i'm trying to find a better fix than 
the *ugly* patch attached (that fixes the compile error on linux, but not the 
spurios recompiles).

can you test the patch and apply it if it fixes the aix bug?

cheers,
alessandro
-------------- next part --------------
A non-text attachment was scrubbed...
Name: aix-fix.diff
Type: text/x-diff
Size: 333 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040223/4dae0deb/aix-fix.bin
From matt.wilkie at gov.yk.ca  Mon Feb 23 13:14:59 2004
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <002301c3f911$40e4c2c0$f400fe0a@TOPP2>
References: <002301c3f911$40e4c2c0$f400fe0a@TOPP2>
Message-ID: <403A4323.8060000@gov.yk.ca>

Ben Discoe wrote:

> I got the new GDAL to build on MSVC 7.1.  It did take a lot of work
> to hack all the build files to produce debug and release libraries
> with separate names, about an hour of tweaking nmake.opt and about a
> dozen places in the the 'makefile.vc' and 'Makefile' and
> 'mk_bin_dist' files.

Wonderful news Ben. As much as I like having cygwin-gdal at my disposal 
for testing, native windows versions are easier to move around. I sure 
hope all your work is portable so that when 1.2 final is out you (or 
anyone else) don't have to do it all over again!

> The result of that work is a standard Win32 distro: 
> http://vterrain.org/dist/gdal-120a-ntbin.zip (2.5MB)
> 
> It has everything needed to work with GDAL in both Debug and Release.

except xerces-c_2_3_0.dll that is. :)


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
--------------------------------------------


From TMitchell at lignum.com  Mon Feb 23 13:38:26 2004
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OT: MrSID vs JPEG2000
Message-ID: <OFA1FE3108.8701FD2D-ON88256E43.00663BC7-88256E43.00666567@lignum.com>

Hi gang,

Just read this note:
http://www.lizardtech.com/solutions/ms/

And wondered if anyone has any opinions on JPEG 2000.  I've never been 
satisfied with MrSID format but know little about the JPEG one. 
What are your thoughts on JPEG going forward?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040223/9688b4af/attachment.html
From bfraser at geoanalytic.com  Mon Feb 23 13:57:58 2004
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OT: MrSID vs JPEG2000
References: <OFA1FE3108.8701FD2D-ON88256E43.00663BC7-88256E43.00666567@lignum.com>
Message-ID: <060801c3fa3e$f3f56d50$020002c0@SHARK>

Just to add to the confusion, here's a related  press release from ER Mapper (LizardTech's competion):
http://www.ermapper.com/company/news_view.aspx?PRESS_RELEASE_ID=334

Brent Fraser

  ----- Original Message ----- 
  From: Tyler Mitchell 
  To: gdal-dev@remotesensing.org 
  Sent: Monday, February 23, 2004 11:38 AM
  Subject: [Gdal-dev] OT: MrSID vs JPEG2000



  Hi gang, 

  Just read this note: 
  http://www.lizardtech.com/solutions/ms/ 

  And wondered if anyone has any opinions on JPEG 2000.  I've never been satisfied with MrSID format but know little about the JPEG one.   
  What are your thoughts on JPEG going forward?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040223/6d7a815b/attachment.html
From hobu at iastate.edu  Mon Feb 23 13:58:23 2004
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OT: MrSID vs JPEG2000
In-Reply-To: <060801c3fa3e$f3f56d50$020002c0@SHARK>
References: <OFA1FE3108.8701FD2D-ON88256E43.00663BC7-88256E43.00666567@lignum.com>
 <060801c3fa3e$f3f56d50$020002c0@SHARK>
Message-ID: <6.0.1.1.2.20040223125735.01bae5c8@hobu.mail.iastate.edu>

GIS Monitor has some good info about it here:
http://www.gismonitor.com/news/newsletter/archive/021904.php

And I posted a blog post about it here:
http://hobu.biz



At 12:57 PM 2/23/2004, you wrote:
>Just to add to the confusion, here's a related  press release from ER 
>Mapper (LizardTech's competion):
><http://www.ermapper.com/company/news_view.aspx?PRESS_RELEASE_ID=334>http://www.ermapper.com/company/news_view.aspx?PRESS_RELEASE_ID=334
>
>Brent Fraser
>----- Original Message -----
>From: <mailto:TMitchell@lignum.com>Tyler Mitchell
>To: <mailto:gdal-dev@remotesensing.org>gdal-dev@remotesensing.org
>Sent: Monday, February 23, 2004 11:38 AM
>Subject: [Gdal-dev] OT: MrSID vs JPEG2000
>
>
>Hi gang,
>
>Just read this note:
><http://www.lizardtech.com/solutions/ms/>http://www.lizardtech.com/solutions/ms/ 
>
>
>And wondered if anyone has any opinions on JPEG 2000.  I've never been 
>satisfied with MrSID format but know little about the JPEG one.
>What are your thoughts on JPEG going forward?


From warmerdam at pobox.com  Mon Feb 23 14:04:49 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OT: MrSID vs JPEG2000
In-Reply-To: <OFA1FE3108.8701FD2D-ON88256E43.00663BC7-88256E43.00666567@lignum.com>
References: <OFA1FE3108.8701FD2D-ON88256E43.00663BC7-88256E43.00666567@lignum.com>
Message-ID: <403A4ED1.2010404@pobox.com>

Tyler Mitchell wrote:
> 
> Hi gang,
> 
> Just read this note:
> http://www.lizardtech.com/solutions/ms/

Tyler,

It will be interesting to see what effect the LizardTech acquisition of
Mapping Science will have.  However, it is important to keep in mind that
JPEG2000 is an open standard with several implementations of libraries for
the format, and with no company holding patents or other "intellectual
property" that prevents others from using the format.

> And wondered if anyone has any opinions on JPEG 2000.  I've never been 
> satisfied with MrSID format but know little about the JPEG one.  
> What are your thoughts on JPEG going forward?

You might want to skim some material at http://www.remotesensing.org/jpeg2000.
My intention is that this should be a neutral meeting place for folks interested
in jpeg2000 for geospatial applications.

My perception is that MrSID and JPEG2000 offer similar features for the
geospatial marketplace.  The MrSID format and tools are likely more mature at
this point, but we can hope that JPEG2000 will benefit from this as JPEG2000
support is incorporated into the LizardTech tool chain.   And of course, lots
of other sources of software exist for JPEG2000.

Within GDAL you can build in the commercial Kakadu library for pretty high
performance JPEG2000 support or use the free JasPer library which has poorer
(speed and memory) performance, especially for large images.

I know that there are folks successfully serving imagery in MapServer via
the GDAL/JPEG2000 (kakadu) gateway.  Of course people are doing so successfully
with MrSID as well.

I am not sure in what regard you haven't been satisfied by MrSID.  My perception
is that the technology is good, but that the LizardTech corporate lock on the
technology, and their licensing requirements make me nervous about the format
- especially for long term purposes.

PS. the folks at LizardTech are likely on this list, and are using GDAL for
some purposes, so lets make sure any discussion is polite.  They seem like nice
people, at least at the development level.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From nhv at cape.com  Mon Feb 23 14:37:23 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OT: MrSID vs JPEG2000
In-Reply-To: <403A4ED1.2010404@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAGEJCGIAA.nhv@cape.com>

Frank Warmerdam writes:
>
>  However, it is important to keep in mind that
> JPEG2000 is an open standard with several implementations of libraries for
> the format, and with no company holding patents or other "intellectual
> property" that prevents others from using the format.

FYI

http://www.analog.com/Analog_Root/productPage/productHome/0%2C2121%2Cgeneric%253DADV202%2526level4%253D%25252D1%2526level1%253D214%2
526level2%253D%25252D1%2526level3%253D%25252D1%2526resourceWebLawID%253D0%2C00.html

It will be reallly 'neat' when this or a similar product is standard fare on
the Motherboard.  IMHO we are currently in a window of opportunity
for enterprising souls to make a GIS Imaging addon board which could
potentially sell for substantially less then then current software solutions

Note there are several similar products available

Cheers

Norman



From TMitchell at lignum.com  Mon Feb 23 14:43:58 2004
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OT: MrSID vs JPEG2000
In-Reply-To: <403A4ED1.2010404@pobox.com>
Message-ID: <OF5996690A.74F7FE82-ON88256E43.006BAFB0-88256E43.006C652D@lignum.com>

> My perception is that MrSID and JPEG2000 offer similar features for the
> geospatial marketplace.  The MrSID format and tools are likely more 
mature at
> this point, but we can hope that JPEG2000 will benefit from this as 
JPEG2000
> support is incorporated into the LizardTech tool chain.   And of course, 
lots
> of other sources of software exist for JPEG2000.

Thanks, all I had known was that I was getting confused with the various 
JPEG2000 libraries.  I had no clear sense of what was freely available and 
what the tradeoffs were.

> I am not sure in what regard you haven't been satisfied by MrSID. 
> My perception is that the technology is good, but that the LizardTech 
corporate lock on the
> technology, and their licensing requirements make me nervous about the 
format
> - especially for long term purposes.

Arg. I meant to the keep my comment neutral and to focus on learning more 
about JPEG2000.  Please allow me to retract my comment about my 
dissatisfactions, they are quite irrelevant.  In the end we've chosen ECW 
over MrSID for our internal image format since our main image management 
contractor already own ER Mapper.

Thanks for the info and pointers, folks.

Tyler
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040223/626cf683/attachment.html
From fheland at netcourrier.com  Mon Feb 23 13:07:21 2004
From: fheland at netcourrier.com (fheland@netcourrier.com)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] ogr2ogr does not include OCI driver
Message-ID: <mnet2.1077538041.20855.fheland@netcourrier.com>

Hi all, 
I'm trying to build gdal with OCI support. (Linux Fedora+Oracle 10g+Gdal1.1.9). I have the gdal 1.2.0a working properly with OCI support (with Oracle 10g) ... but I need 1.1.9 for mapserver compilation.

ORACLE_HOME variable is set, gdal.1.1.9 configure & make are ok. But when runing ogr2ogr, no support for OCI driver is mentionned ! 

If I run ldd ogr2ogr, oci library are linked to. 

Is there anything else I could check ? Do I need to put oci flag when configure ?  

Thanks a lot for your help

Best regards

Fred Heland



-------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T?l?phone/Fax : 08 92 69 00 21 (0,34 ? TTC/min)
Minitel: 3615 NETCOURRIER (0,16 ? TTC/min)


From alexamici at fastwebnet.it  Mon Feb 23 17:16:38 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] ogr2ogr does not include OCI driver
In-Reply-To: <mnet2.1077538041.20855.fheland@netcourrier.com>
References: <mnet2.1077538041.20855.fheland@netcourrier.com>
Message-ID: <200402232316.38702.alexamici@fastwebnet.it>

Fred,

On Monday 23 February 2004 17:07, fheland@netcourrier.com wrote:
> ORACLE_HOME variable is set, gdal.1.1.9 configure & make are ok. But when
> runing ogr2ogr, no support for OCI driver is mentionned ! 
>
> If I run ldd ogr2ogr, oci library are linked to.

does it work?

oci support was done differently from the other formats, so maybe it is just 
the self-documentation that is wrong ;).

cheers,
alesandro

From warmerdam at pobox.com  Mon Feb 23 17:20:01 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] ogr2ogr does not include OCI driver
In-Reply-To: <mnet2.1077538041.20855.fheland@netcourrier.com>
References: <mnet2.1077538041.20855.fheland@netcourrier.com>
Message-ID: <403A7C91.8020707@pobox.com>

fheland@netcourrier.com wrote:
> Hi all, 
> I'm trying to build gdal with OCI support. (Linux Fedora+Oracle 10g+Gdal1.1.9). I have the gdal 1.2.0a working properly with OCI support (with Oracle 10g) ... but I need 1.1.9 for mapserver compilation.
> 
> ORACLE_HOME variable is set, gdal.1.1.9 configure & make are ok. But when runing ogr2ogr, no support for OCI driver is mentionned ! 
> 
> If I run ldd ogr2ogr, oci library are linked to. 
> 
> Is there anything else I could check ? Do I need to put oci flag when configure ?  

Fred,

You might need to do a make clean and then build again.  In particular, it
is key that that gdal/ogr/ogrsf_frmts/generic/ogrregisterall.cpp be compiled
"knowing" about the OCI driver.  The Oracle stuff was pretty new in 1.1.9
and there have been a number of fixes since then, as well as improvements in
the configuration mechanism.

Why do you think you need GDAL 1.1.9 for use with MapServer?  MapServer should
work fine with GDAL 1.2.0 and if not I would like to fix it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From alexamici at fastwebnet.it  Mon Feb 23 17:26:27 2004
From: alexamici at fastwebnet.it (Alessandro Amici)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <40398AB7.4040508@pobox.com>
References: <EKEJIKAILPONGGENMBGAOEFDGIAA.nhv@cape.com> <40398AB7.4040508@pobox.com>
Message-ID: <200402232326.28000.alexamici@fastwebnet.it>

Frank,

On Monday 23 February 2004 06:08, Frank Warmerdam wrote:
> Norman Vine wrote:
> > Index: GNUmakefile
> > ===================================================================
> > RCS file: /cvsroot/osrs/gdal/pymod/GNUmakefile,v
> > retrieving revision 1.18
> > diff -r1.18 GNUmakefile
> > 23c23
> > < 	$(RM) *.o *.so *.la
> > ---
> >
> >>	$(RM) *.o *.$(SO_EXT) *.la
> >
> > 28c28
> > < $(GDALMODULE).so:	$(OBJ) $(EXE_DEP_LIBS)
> > ---
> >
> >>$(GDALMODULE).$(SO_EXT):	$(OBJ) $(EXE_DEP_LIBS)
>
> applied

the above patch broke compilation in an interesting way (details in the cvs 
comment of the fix).

things should be working now.

BTW - the source of this sort of bugs is not 'libtool' rather than the 
--without-libtool feature :).

cheers,
alessandro

From nhv at cape.com  Mon Feb 23 22:48:25 2004
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <200402232326.28000.alexamici@fastwebnet.it>
Message-ID: <EKEJIKAILPONGGENMBGAMEKFGIAA.nhv@cape.com>

Alessandro Amici writes:
> 
> BTW - the source of this sort of bugs is not 'libtool' rather than the 
> --without-libtool feature :).

FWIW - libtool has it's share of problems, at least with gcc and Win32

For example,  AFAIK the hdf4 libraries are *only* available as static libs
and I can not seem to be able to convert them to DLLs successfully
therefore libtool *refuses* to build a DLL

Since I much prefer a DLL for GDAL since it quite large I resort to 
--without-libtool  and all was well except now the configure script
links against the static lib anyway because the SLINK_LIB is now
a different name then the DLL because it is versioned and the
DLL isn't  grr.....

This is not a major hassle because I can always handcraft the
Makefiles to produce what I want < easiest is to just to put 
the version numbers back onto the dll >  but this means that I 
have a non-standard GDAL and arggh....

oh well it seems as there is a need for separate Cygwin releases
for GDAL as for most other libraries or else Cygwin'ers are just
going to have to live with static linking sometimes :-(

Note IMHO this shouldn't be a release stopper as the library works
but IMHO libtool is a major PITA !

I will work on an alternative --without-libtool patch for Cygwin but 
only after the release is made and I *know* what the target is

Cheers

Norman



From starged at videotron.ca  Tue Feb 24 01:14:35 2004
From: starged at videotron.ca (Mario Beauchamp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <EKEJIKAILPONGGENMBGAMEKFGIAA.nhv@cape.com>
References: <200402232326.28000.alexamici@fastwebnet.it>
 <EKEJIKAILPONGGENMBGAMEKFGIAA.nhv@cape.com>
Message-ID: <d1ql30pt3e5g614pfck51pbc294as4cv31@4ax.com>

Hi Norman,

On Mon, 23 Feb 2004 22:48:25 -0500, Norman Vine <nhv@cape.com> wrote:

>For example,  AFAIK the hdf4 libraries are *only* available as static libs
>and I can not seem to be able to convert them to DLLs successfully
>therefore libtool *refuses* to build a DLL

I was able to link dynamically (under MinGW) with the HDF4.1r3 dlls included with PCI's Freeview 9.1
(is that permitted?!). I got the matching src
(ftp://ftp.ncsa.uiuc.edu/HDF/HDF/prev-releases/HDF4.1r3.tar.gz)
and created imports libs from the dlls, built gdal as dll and built gdalinfo to check it out. All
seems fine. But it needed some tweaking and I did not use libtool. I still have other tests to do to
make sure that the driver is working properly though.
--
Mario B.
My Landsat images:
http://pages.infinit.net/starged/landsat/home.html

From fheland at netcourrier.com  Tue Feb 24 08:09:22 2004
From: fheland at netcourrier.com (fheland@netcourrier.com)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] ogr2ogr does not include OCI driver
Message-ID: <mnet1.1077606562.13213.fheland@netcourrier.com>

You're right, mapserver works well with 1.2.0. 
And everything works fine for both gdal & mapserver using oracle 10.1.0g. 

Thnaks for your help
Fred

-------------------------------------------------------------
NetCourrier, votre bureau virtuel sur Internet : Mail, Agenda, Clubs, Toolbar...
Web/Wap : www.netcourrier.com
T?l?phone/Fax : 08 92 69 00 21 (0,34 ? TTC/min)
Minitel: 3615 NETCOURRIER (0,16 ? TTC/min)


From wesp at gdv.com  Tue Feb 24 04:47:38 2004
From: wesp at gdv.com (Oliver Wesp)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a Release
In-Reply-To: <200402201920.32818.alexamici@fastwebnet.it>
References: <403514FA.9030809@pobox.com> <200402201140.31532.alexamici@fastwebnet.it> <4035FEA2.2030604@gdv.com> <200402201920.32818.alexamici@fastwebnet.it>
Message-ID: <403B1DBA.3070203@gdv.com>

Alessandro Amici wrote:

> weird! somehow libtool does not find the ar program or it doesn't like what it 
> finds. is it possible that you don't have the 'ar' directory in your PATH? 
> (unlikely)
> 

As unlikely as it seems for some strange reason ar was not in the path. 
After I added /usr/ccs/bin to the PATH gdal 1.2.0a builds fine with 
libtool and oci support (Solaris 8, gcc 3.3.1).

best regards
Oliver

-- 
Dipl.-Geogr. Oliver Wesp
Gesellschaft fuer geografische Datenverarbeitung
Binger Strasse 49-51
D-55218 Ingelheim
fon: +49 6132 714818
fax: +49 6132 714828
http: www.gdv.com

From dron at ak4719.spb.edu  Tue Feb 24 11:29:33 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] [ANNOUNCE] JasPer library v.1.701.0 (UUID) uploaded
Message-ID: <20040224162933.GA9872@ak4719.spb.edu>

Hi, folks,

I have uploaded the new upstream version of the JasPer library with UUID
patch applied (required for GeoJP2 support). Note, that license terms
for JasPer has changed: all restrictive clauses removed and the text now
very close to the original MIT/X license. So we have really free
JPEG2000 supporting code now.

New library tarball available here:

 ftp://ftp.remotesensing.org/gdal/jasper-1.701.0.uuid.tar.gz

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From gillian.walter at atlantis-scientific.com  Tue Feb 24 14:33:59 2004
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] 1.2.0a release
Message-ID: <403BA727.600@atlantis-scientific.com>

Hi,

I just tried compiling gdal 1.2.0a on the Irix 6.5 platform, and got the 
following error near the end:

/usr/bin/ld -n32 -r -o .libs/libgdal.la-2.o  
./ogr/ogrsf_frmts/o/.libs/ogravcbindatasource.o 
./ogr/ogrsf_frmts/o/.libs/ogravcbindriver.o
(massive list of object files)
/.libs/ograssemblepolygon.o ./ogr/.libs/ogr2gmlgeometry.o 
./ogr/.libs/gml2ogrgeometry.o  .libs/libgdal.la-1.o
ld32: FATAL   11 : Object file format error (.libs/libgdal.la-1.o): bad 
sh_link field in relocation section.
gmake[1]: *** [libgdal.la] Error 4
gmake[1]: Leaving directory `/data/esa2/temp_gwalter/local_builds/gdal'
gmake: *** [check-lib] Error 2

I used ./configure --without-gif --without-bsb --without-jpeg 
--with-libz=internal --with-png=internal --with-libtiff=internal 
--with-geotiff=internal

I also used these configuration options on the fedora linux platform 
(gdal compiled without error) and on SunOS 5.8 (gdal initially failed to 
compile, but succeeded after I manually added -D_REENTRANT to C_OPTFLAGS 
and CXX_OPTFLAGS in GDALmake.opt).

I'll be trying to build it on windows sometime in the next few days 
(microsoft visual c++ 6.0).

Gillian


From dmorissette at dmsolutions.ca  Tue Feb 24 17:40:43 2004
From: dmorissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] ANNOUNCE:  Open Source GIS Conference and Second MapServer Users
 Meeting
Message-ID: <403BD2EB.5050805@dmsolutions.ca>

Hi everyone,

(I apologize in advance to those who may have received multiple copies 
of this announcement.)

Please see below an announcement for the Open Source GIS Conference and 
Second MapServer Users Meeting that will take place in Ottawa in June. 
You can find all the details on the website at http://www.omsug.ca/

We hope to see you there!

Daniel
------------------------------------------------------------
  Daniel Morissette               dmorissette@dmsolutions.ca
  DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------


-------- Original Message --------
Subject: [Mapserver-users] ANNOUNCE: Second Annual MapServer User Meeting
Date: Tue, 24 Feb 2004 16:49:06 -0500
From: Dave McIlhagga <dmcilhagga@dmsolutions.ca>
To: mapserver <mapserver-users@lists.gis.umn.edu>

Hello everyone,

On behalf of the Ottawa MapServer Users Group we're happy to pass along
the details to the community regarding this year's MapServer User
Meeting to be held June 9-11, 2004, here in Ottawa, Canada at Carleton
University.

This year, we've also added a concurrent event -- the Open Source GIS
Conference 2004. This is in the hopes of building on the highly
successful inaugural MapServer User Meeting held in Minnesota last June.

Once again, we will be having a number of workshops and presentations.
Details on these will follow in the weeks and months ahead as we
finalize a schedule for the event.

In the meantime, I invite you to visit the conference website which is
available through http://www.omsug.ca. Please check back regularly as
there will be a lot of information added in the months ahead. Note that
there is an early-bird special for registration before April 30th.

For more information please contact Tuan Nguyen at
info@omsug.ca or +1 (613) 565-5056 ext. 17.

We'd love to hear from you about any suggestions or ideas you may have
for the event or the conference website.

We're all excited to be hosting this event and seeing many of you here
in Ottawa in June.

Dave
-- 
Dave McIlhagga
President, DM Solutions Group

http://www.dmsolutions.ca
EMail : dmcilhagga@dmsolutions.ca
Phone : 613-565-5056 x15
Fax : 613-565-0925
_______________________________________________
Mapserver-users mailing list
Mapserver-users@lists.gis.umn.edu
http://lists.gis.umn.edu/mailman/listinfo/mapserver-users



From support at geoimage.fr  Wed Feb 25 11:47:40 2004
From: support at geoimage.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2.0a win32
Message-ID: <004901c3fbbf$161f9640$e32346c0@pili>

Hello,

Few comments about Win32 build of 1.2.0a :

** When using external tiff and geotiff libraries, these
libs should be added to the EXTERNAL_LIBS variable in
nmake.opt :

EXTERNAL_LIBS = $(OGDILIB) $(XERCES_LIB) $(OCI_LIB) $(PG_LIB) $(ODBCLIB) \
  $(ECWLIB) $(HDF4_LIB) $(FME_LIB) $(JASPER_LIB) $(MRSID_LIB) \
  $(FITS_LIB) $(JPEG_LIB) $(PNG_LIB) $(NETCDF_LIB) \
                $(GEOTIFF_LIB) $(TIFF_LIB)

A related question, for my own driver, I need to link with some additionnal
libraries. Actually I add this library to the LINKER_FLAGS variable which
in under the "## END OF STUFF THAT NORMALLY NEEDS TO BE UPDATED ##" section.
It should be nice to have a ADD_LIBS variable added to LINKER_FLAGS or
to EXTERNAL_LIBS when defined.



** Make clean don't remove all objects files :

$ nmake /fmakefile.vc clean
  ...
$ ls */*.obj
ogr/ogr_srs_xml.obj  port/cpl_conv.obj



** A question related to tiff and geotiff librairies : is it planned
to release a version of these librairies corresponding to the 1.2.0
release of GDAL ?


Regards,

Fr?d?ric.

_________________________________________________________________
Fr?d?ric Trastour - SpacEyes - dev@spaceyes.fr



From bclay at ball.com  Wed Feb 25 14:12:45 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Shp file support
Message-ID: <E4394C8445EFCC4AA136A1C305E4C92851C8B8@APPMSG2.AERO.BALL.COM>

Are shape files parsable through GDAL or do wee need to use shapelib
instead?  I see from reflector traffic that shapelib used to be
supported as a gdal format but when I try to open one with GDALopen I
get a NULL pointer back.

Bruce Clay
bclay@ball.com 

From warmerdam at pobox.com  Wed Feb 25 14:21:27 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] Shp file support
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C92851C8B8@APPMSG2.AERO.BALL.COM>
References: <E4394C8445EFCC4AA136A1C305E4C92851C8B8@APPMSG2.AERO.BALL.COM>
Message-ID: <403CF5B7.7000506@pobox.com>

Clay, Bruce wrote:
> Are shape files parsable through GDAL or do wee need to use shapelib
> instead?  I see from reflector traffic that shapelib used to be
> supported as a gdal format but when I try to open one with GDALopen I
> get a NULL pointer back.

Bruce,

The GDAL source tree contains two mostly seperate APIs.  The GDAL API is
used for accessing raster files and the OGR API is used for accessing
vector (feature) data.  So, you will need to open Shapefiles with OGROpen()
instead of GDALOpen().

More information on OGR is available from the OGR link on the GDAL main
web page (first paragraph).

There was a recent change where the "master" shapelib files were moved out
of the GDAL source tree, but a "downstream clone" of the required files are
still found in gdal/ogr/ogrsf_frmts/shape and Shapefiles remain fully
supported by the OGR API.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From gdal at warped-space.de  Wed Feb 25 14:36:45 2004
From: gdal at warped-space.de (Manuel Massing)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] [patch] gdalwarp: use existing destination file spatial reference set
Message-ID: <200402252036.45901.gdal@warped-space.de>

Hello,

I just wanted to suggest the attached patch to apps/gdalwarp.cpp. Currently,
gdalwarp does not honor the spatial reference set of an existing destination 
file. I'm not sure if this behavior is the intended one, and it seems
somewhat inconsistent with other options pertaining to target format
specification (size, resolution, extent). 

It might be desirable to permit an overridden specification of the target
spatial reference, though. If you feel this is the case, I'll post a revised 
patch.

BTW, also attached is a tiny bugfix for alg/gdalwarper.cpp :-)

cheers,

	Manuel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalwarper_cpp.patch
Type: text/x-diff
Size: 632 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040225/825cb602/gdalwarper_cpp.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalwarp_cpp.patch
Type: text/x-diff
Size: 2669 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040225/825cb602/gdalwarp_cpp.bin
From dron at ak4719.spb.edu  Wed Feb 25 14:57:10 2004
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2.0a win32
In-Reply-To: <004901c3fbbf$161f9640$e32346c0@pili>
References: <004901c3fbbf$161f9640$e32346c0@pili>
Message-ID: <20040225195710.GB8266@ak4719.spb.edu>

On Wed, Feb 25, 2004 at 05:47:40PM +0100, Fr?d?ric Trastour wrote:
> ** A question related to tiff and geotiff librairies : is it planned
> to release a version of these librairies corresponding to the 1.2.0
> release of GDAL ?

In case of TIFF library I think you should take the latest CVS
snapshot --- it is most stable libtiff version for now. libtiff is in the
state of transition to autotools (but changes still not commited to CVS),
so it will be quite some time before the next stable release.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From m.massing at warped-space.de  Wed Feb 25 13:34:12 2004
From: m.massing at warped-space.de (Manuel Massing)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] [patch] gdalwarp: use existing destination file spatial reference set
Message-ID: <200402251934.12240.m.massing@warped-space.de>

Hello,

I just wanted to suggest the attached patch to apps/gdalwarp.cpp. Currently,
gdalwarp does not honor the spatial reference set of an existing destination 
file. I'm not sure if this behaviour is the intended one, and somewhat
inconsistent with other options pertaining to target format specification 
(size, resolution, extent). 

It might be desirable to permit an overriden specification of the target
spatial reference, though. If you feel this is the case, I'll post a revised 
patch.

BTW, also attached is a tiny bugfix for alg/gdalwarper.cpp :-)

cheers,

	Manuel
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalwarper_cpp.patch
Type: text/x-diff
Size: 632 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040225/9d188eed/gdalwarper_cpp.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gdalwarp_cpp.patch
Type: text/x-diff
Size: 2669 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20040225/9d188eed/gdalwarp_cpp.bin
From warmerdam at pobox.com  Thu Feb 26 09:27:46 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2.0a win32
In-Reply-To: <004901c3fbbf$161f9640$e32346c0@pili>
References: <004901c3fbbf$161f9640$e32346c0@pili>
Message-ID: <403E0262.2030104@pobox.com>

Fr?d?ric Trastour wrote:
> Hello,
> 
> Few comments about Win32 build of 1.2.0a :
> 
> ** When using external tiff and geotiff libraries, these
> libs should be added to the EXTERNAL_LIBS variable in
> nmake.opt :
> 
> EXTERNAL_LIBS = $(OGDILIB) $(XERCES_LIB) $(OCI_LIB) $(PG_LIB) $(ODBCLIB) \
>   $(ECWLIB) $(HDF4_LIB) $(FME_LIB) $(JASPER_LIB) $(MRSID_LIB) \
>   $(FITS_LIB) $(JPEG_LIB) $(PNG_LIB) $(NETCDF_LIB) \
>                 $(GEOTIFF_LIB) $(TIFF_LIB)

Fr?d?ric,

I have added this.  I thought I did it when I add support for external tiff
and geotiff libraries, but apparently I failed to get the part of the change
into CVS.

> A related question, for my own driver, I need to link with some additionnal
> libraries. Actually I add this library to the LINKER_FLAGS variable which
> in under the "## END OF STUFF THAT NORMALLY NEEDS TO BE UPDATED ##" section.
> It should be nice to have a ADD_LIBS variable added to LINKER_FLAGS or
> to EXTERNAL_LIBS when defined.

I have added the ADD_LIBS macro as suggested.

> ** Make clean don't remove all objects files :
> 
> $ nmake /fmakefile.vc clean
>   ...
> $ ls */*.obj
> ogr/ogr_srs_xml.obj  port/cpl_conv.obj

I tried this, but didn't get the same result.  If you can determine why
it is happening on your system let me know.

> ** A question related to tiff and geotiff librairies : is it planned
> to release a version of these librairies corresponding to the 1.2.0
> release of GDAL ?

As Andrey noted it may be a while before the next libtiff release.  I
do plan to release libgeotiff 1.2.2 in next few weeks as I have dumped the
EPSG 6.5 database.  However, it isn't being done particularly to correspond to
the GDAL 1.2.0 release.  The libgeotiff 1.2.1 (and libtiff 3.6.1) should work
pretty well with GDAL.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From bclay at ball.com  Thu Feb 26 14:55:10 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OGR question
Message-ID: <E4394C8445EFCC4AA136A1C305E4C92851C8BD@APPMSG2.AERO.BALL.COM>

I see from going through the OGR code that I can get the data from a
shape file using OGR_G_ExportToWkb().
I can get the size of the required data buffer by calling
OGR_G_WkbSize();

What I don't see is how to find the number of points in the chunk or
where it starts in the buffer. From the code I see something like 9
bytes + (number of points * number of bytes per point based on data
dimension (2D or 3D))  but I don't see an actual accessor to the number
of points or where to start in the data buffer considering the 9  bytes
what ever they contain.

Any clues to where I am going wrong would be greatly appreciated.

Bruce Clay
bclay@ball.com 

From warmerdam at pobox.com  Thu Feb 26 15:32:32 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OGR question
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C92851C8BD@APPMSG2.AERO.BALL.COM>
References: <E4394C8445EFCC4AA136A1C305E4C92851C8BD@APPMSG2.AERO.BALL.COM>
Message-ID: <403E57E0.307@pobox.com>

Clay, Bruce wrote:
> I see from going through the OGR code that I can get the data from a
> shape file using OGR_G_ExportToWkb().
> I can get the size of the required data buffer by calling
> OGR_G_WkbSize();
> 
> What I don't see is how to find the number of points in the chunk or
> where it starts in the buffer. From the code I see something like 9
> bytes + (number of points * number of bytes per point based on data
> dimension (2D or 3D))  but I don't see an actual accessor to the number
> of points or where to start in the data buffer considering the 9  bytes
> what ever they contain.
> 
> Any clues to where I am going wrong would be greatly appreciated.

Bruce,

The ExportToWkb() isn't intended to be the "normal" way to get at the
geometry information.  It is producing a well defined binary format used
in some OGC specifications.  If you just want to get the points, you should
read the features with GetNextFeature(), pull out the geometry with
GetGeometryRef() on the feature.  And then cast the geometry to the appropriate
type.  If the geometry GetGeometryType() returns wkbLineString for instance, you
could cast it to OGRLineString, and then use line string methods like
getNumPoints(), and getX(i), getY(i) and so forth.

Does that make sense?

Note that the WKB representation isn't necessarily in local machine byte order
and the floating point coordinates are generally not word aligned which would
be necessary if you wanted to access them directly (at least on some platforms).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From bclay at ball.com  Thu Feb 26 15:59:27 2004
From: bclay at ball.com (Clay, Bruce)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OGR question
Message-ID: <E4394C8445EFCC4AA136A1C305E4C9280153EF45@APPMSG2.AERO.BALL.COM>

Frank:
  thanks for the reply.  

I am using the following

        while( (feature = OGR_L_GetNextFeature( layer )) != NULL )
        {
			OGRGeometryH geom_handl =
OGR_F_GetGeometryRef(feature);
			OGRwkbGeometryType type =
OGR_G_GetGeometryType(geom_handl);
 more stuff
	}

The type is wkbPolygon.  When I look in the ogrpolygon.cpp file I don't
find getNumPoints, getX or getY;

I started this task by copying OGRDump and modifying that.

Am I in the wrong ballpark?

Bruce
bclay@ball.com

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Thursday, February 26, 2004 3:33 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] OGR question


Clay, Bruce wrote:
> I see from going through the OGR code that I can get the data from a 
> shape file using OGR_G_ExportToWkb(). I can get the size of the 
> required data buffer by calling OGR_G_WkbSize();
> 
> What I don't see is how to find the number of points in the chunk or 
> where it starts in the buffer. From the code I see something like 9 
> bytes + (number of points * number of bytes per point based on data 
> dimension (2D or 3D))  but I don't see an actual accessor to the 
> number of points or where to start in the data buffer considering the 
> 9  bytes what ever they contain.
> 
> Any clues to where I am going wrong would be greatly appreciated.

Bruce,

The ExportToWkb() isn't intended to be the "normal" way to get at the
geometry information.  It is producing a well defined binary format used
in some OGC specifications.  If you just want to get the points, you
should read the features with GetNextFeature(), pull out the geometry
with
GetGeometryRef() on the feature.  And then cast the geometry to the
appropriate type.  If the geometry GetGeometryType() returns
wkbLineString for instance, you could cast it to OGRLineString, and then
use line string methods like getNumPoints(), and getX(i), getY(i) and so
forth.

Does that make sense?

Note that the WKB representation isn't necessarily in local machine byte
order and the floating point coordinates are generally not word aligned
which would be necessary if you wanted to access them directly (at least
on some platforms).

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Thu Feb 26 16:23:12 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] OGR question
In-Reply-To: <E4394C8445EFCC4AA136A1C305E4C9280153EF45@APPMSG2.AERO.BALL.COM>
References: <E4394C8445EFCC4AA136A1C305E4C9280153EF45@APPMSG2.AERO.BALL.COM>
Message-ID: <403E63C0.3050501@pobox.com>

Clay, Bruce wrote:
> Frank:
>   thanks for the reply.  
> 
> I am using the following
> 
>         while( (feature = OGR_L_GetNextFeature( layer )) != NULL )
>         {
> 			OGRGeometryH geom_handl =
> OGR_F_GetGeometryRef(feature);
> 			OGRwkbGeometryType type =
> OGR_G_GetGeometryType(geom_handl);
>  more stuff
> 	}
> 
> The type is wkbPolygon.  When I look in the ogrpolygon.cpp file I don't
> find getNumPoints, getX or getY;
> 
> I started this task by copying OGRDump and modifying that.
> 
> Am I in the wrong ballpark?

Bruce,

You are getting close.  Polygons are considered to consist of rings, so
you need to get the ring count, and loop over them.  The rings are essentially
closed linestrings.

eg.

     while( (feature = OGR_L_GetNextFeature( layer )) != NULL )
     {
         OGRGeometryH geom_handl = OGR_F_GetGeometryRef(feature);
         OGRwkbGeometryType type = OGR_G_GetGeometryType(geom_handl);

         printf( "\nFeature %d\n", OGR_F_GetFID() );

         if( wkbFlatten(type) == wkbPolygon )
         {
             int iRing;

             for( iRing = 0;
                  iRing < OGR_G_GetGeometryCount(geom_handl);
                  iRing++ )
             {
                 int iPoint;
                 OGRGeometryH ring_handl
                     = OGR_G_GetGeometryRef( geom_handl, iRing );

                 printf( "Ring %d\n", iRing );
                 for( iPoint = 0;
                      iPoint < OGR_G_GetPointCount(ring_handl);
                      iPoint++ )
                 {
                     printf( "  %d: (%g,%g,%g)\n",
                             iPoint,
                             OGR_G_GetX( ring_handl, iPoint ),
                             OGR_G_GetY( ring_handl, iPoint ),
                             OGR_G_GetZ( ring_handl, iPoint ) );
                 }
             }
         }

         ...

The C API just uses generic OGRGeometryH handles for all geometries,
so it makes it harder to work out what sorts of information different
geometry types have.  Sometimes it is helpful to look through the C++
API to get a better idea of the relationships.  I really ought to improve
the C API docs.  Others have run into the same problem you are running
into.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From tim at linfiniti.com  Fri Feb 27 02:12:37 2004
From: tim at linfiniti.com (Tim Sutton)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2
Message-ID: <200402270712.37512.tim@linfiniti.com>

Hi

(With apologies for cross posting)

I just upgraded to gdal 1.2 from cvs. I was hoping it might resolve an issue I 
am encountering with ogr seeming to omit shapes from one of the esri sample 
datasets (countries.shp). However it doesnt :-( 

If I recall correctly my IRC discussion with on #qgis, this same file rendered 
correctly using gdal 1.8. on another developers pc.

Do you have any thoughts on what might be causing this? Has anyone else 
encountered similar problems?

I have put a screenie showing the problem here:

http://tim.suttonfamily.co.uk/cgi-bin/ids/index.cgi?mode=image&album=/qgis&image=ogr_problem.png


You will notice the US, Angola and Russia are all missing...

aps02ts@linux:~/dev/cpp/qgis> gdal-config --version
1.2.0


Regards

Tim Sutton
-- 
Get my public keys from:

http://tim.suttonfamily.co.uk/modules.php?name=Content&pa=showpage&pid=2

From ben at vterrain.org  Fri Feb 27 02:42:03 2004
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2
In-Reply-To: <200402270712.37512.tim@linfiniti.com>
Message-ID: <017101c3fd05$3170dd90$f400fe0a@TOPP2>

Tim,

See the recent thread, "OGR, SHP, and multi-polygons" where this was
discussed..

To summarize, OGR will report that particular kind of file as type
OGRPolygon, but the geometries inside it are actually (some of them)
OGRMultiPolygon.  So you need to check the type of each geometry as you read
the file with OGR.  Making an assumption that they're all OGRPolygon would
result in exactly the picture you posted.

(This assumes, of course, that the MultiPolygon-detection code in GDAL is
working - and Frank said it is...)

-Ben

> -----Original Message-----
> From: Tim Sutton
> Sent: Friday, February 27, 2004 2:13 AM
> To: gdal-dev@remotesensing.org
> Cc: qgis-developer@lists.sourceforge.net
> Subject: [Gdal-dev] GDAL 1.2
> 
> Hi
> 
> (With apologies for cross posting)
> 
> I just upgraded to gdal 1.2 from cvs. I was hoping it might 
> resolve an issue I 
> am encountering with ogr seeming to omit shapes from one of 
> the esri sample 
> datasets (countries.shp). However it doesnt :-( 


From warmerdam at pobox.com  Fri Feb 27 09:31:23 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] GDAL 1.2
In-Reply-To: <200402270712.37512.tim@linfiniti.com>
References: <200402270712.37512.tim@linfiniti.com>
Message-ID: <403F54BB.9020606@pobox.com>

Tim Sutton wrote:
> Hi
> 
> (With apologies for cross posting)
> 
> I just upgraded to gdal 1.2 from cvs. I was hoping it might resolve an issue I 
> am encountering with ogr seeming to omit shapes from one of the esri sample 
> datasets (countries.shp). However it doesnt :-( 
> 
> If I recall correctly my IRC discussion with on #qgis, this same file rendered 
> correctly using gdal 1.8. on another developers pc.
> 
> Do you have any thoughts on what might be causing this? Has anyone else 
> encountered similar problems?
> 
> I have put a screenie showing the problem here:
> 
> http://tim.suttonfamily.co.uk/cgi-bin/ids/index.cgi?mode=image&album=/qgis&image=ogr_problem.png
> 
> 
> You will notice the US, Angola and Russia are all missing...
> 
> aps02ts@linux:~/dev/cpp/qgis> gdal-config --version
> 1.2.0


Folks,

The mostly likely reason for problems with the current OGR Shapefile driver
on polygon files is that we now try to restructure polygons into multipolygons
if the have multiple islands.  This code is pretty new and somewhat risky.
Also, if QGIS doesn't handle multipolygons this will raise the issue.

My suggestion is to use ogrinfo to see if the US, Angola and Russia
polygons are actually present (presumably as multipolygons).  If not then the
bug is in OGR, and you should file a bug against it's bugzilla as promptly as
possible.  If the ogrinfo output looks fine then I would suggest reviewing
your multipolygon handling.

Finally, while the 1.2.0 is alpha, I would hope to progress to final release
fairly quickly.  It is therefor important to report any issues as soon as
possible if I am to fix them before the 1.2.0 release.

PS. I am on the qgis-developer list, and will endevour to read over any messages
that prominantly mention GDAL or OGR in the subject line.  I might miss them
though if the issue is buried deep in the message as I am on the list primarily
to skim what is going on rather than follow closely.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From davidlugan at hotmail.com  Thu Feb 26 23:33:12 2004
From: davidlugan at hotmail.com (David Lugan)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] environment variable problem in Visual Studio .NET 2003
Message-ID: <Sea2-F23BjfgBNj405800022a93@hotmail.com>

Hello GDAL-dev,

The setenv and putenv have a bug in Visual Studio .NET 2003.  Anyone else 
have problems with this?


My program calls _putenv("PROJ_LIB=C:\NAD"); so GDAL can use PROJ.DLL to 
warp properly

When I work in Visual Studio .NET (2002) my program works great

After installing Visual Studio .NET 2003 Pro my program only warps correctly 
sometimes



MY SOLUTION THAT WORKS:

Remove ALL putenv and getenv calls from the GDAL ( gdal-1.2.0a5 ) and PROJ4 
( proj-4.4.7 ) source code.



According to Tian Min Huang (timhuang@online.microsoft.com):

"the problem is caused by some versions of Multithreaded DLL C run-time 
libary"



See "Crash in C runtime library on Windows XP" from Google Groups:

http://groups.google.com/groups?hl=en&lr=&ie=UTF-8&oe=UTF-8&th=16b5514dd08e1c7f&rnum=1



David Lugan

_________________________________________________________________
Find and compare great deals on Broadband access at the MSN High-Speed 
Marketplace. http://click.atdmt.com/AVE/go/onm00200360ave/direct/01/


From warmerdam at pobox.com  Fri Feb 27 10:36:13 2004
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] environment variable problem in Visual Studio .NET
 2003
In-Reply-To: <Sea2-F23BjfgBNj405800022a93@hotmail.com>
References: <Sea2-F23BjfgBNj405800022a93@hotmail.com>
Message-ID: <403F63ED.6030905@pobox.com>

David Lugan wrote:
> Hello GDAL-dev,
> 
> The setenv and putenv have a bug in Visual Studio .NET 2003.  Anyone 
> else have problems with this?
> 
> 
> My program calls _putenv("PROJ_LIB=C:\NAD"); so GDAL can use PROJ.DLL to 
> warp properly
> 
> When I work in Visual Studio .NET (2002) my program works great
> 
> After installing Visual Studio .NET 2003 Pro my program only warps 
> correctly sometimes
> 
> 
> 
> MY SOLUTION THAT WORKS:
> 
> Remove ALL putenv and getenv calls from the GDAL ( gdal-1.2.0a5 ) and 
> PROJ4 ( proj-4.4.7 ) source code.

David,

I am not aware of anywhere in GDAL or PROJ.4 that calls putenv() in
the libraries.  Can you point me to such?  I generally avoid putenv(),
partly because of it's inconsistent affect in various kinds of DLL build
situations.

There is a mechanism for application code to call pj_set_finder() to
install a custom program to "find" PROJ.4 support files.  This is generally
the way applications are expected to override PROJ.4's search behaviour rather
than resetting environment variables.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From saurabhdata at hotmail.com  Sat Feb 28 09:39:04 2004
From: saurabhdata at hotmail.com (Saurabh Data)
Date: Wed Nov 21 11:49:04 2007
Subject: [Gdal-dev] spatial data
Message-ID: <BAY1-F1310psNK2v9eH00001077@hotmail.com>

Dear readers

I am a student doing research on "spatial databass; an analysis of open
source systems". so I need to find open source system which support spatial
content.

In OSDB's(Open Source Databes) I have found postgreSQL (extension postGIS) 
and
mySQL(still in development stage) valid.

I am still searching for more systems , which might be of any help.

Can anyone give me a brief idea of what does GDAL does and how does it fit 
in the context of spatial data.

I have been able to found that GDAL is a library for geospatial data 
formats.

Any help given will be much appreciated
Any help given willl be much appreciated.

Many Thanks

Saurabh Data

___________________________________________________________________

_________________________________________________________________
Stay in touch with absent friends - get MSN Messenger 
http://www.msn.co.uk/messenger


