From gregcoats at mac.com  Sat May  1 10:33:52 2010
From: gregcoats at mac.com (Greg Coats)
Date: Sat May  1 10:33:59 2010
Subject: [gdal-dev] Motion: Promote GDAL/OGR 1.7.2 RC3 to Final Release
In-Reply-To: <4BD98667.1090102@pobox.com>
References: <4BD22E36.9070506@pobox.com> <4BD70276.90209@mapgears.com>
	<D20FC5C02CA4AB41891CFE76D91C57A97017177BBA@ADSK-NAMSG-02.MGDADSK.autodesk.com>
	<4BD98667.1090102@pobox.com>
Message-ID: <A884DBC6-BEDF-43FC-8FC1-697408F71FA5@mac.com>

GDAL version 1.7.2 source code is not yet available from
http://trac.osgeo.org/gdal/wiki/DownloadSource
Greg

On Thu Apr 29, 2010, at 9:15 AM, Frank Warmerdam wrote:

> Konstantin Baumann wrote:
>>>> Motion: GDAL/OGR 1.7.3 RC2 is declared the official 1.7.2 release.
>>>> 
>>> I presume you meant "GDAL/OGR 1.7.3 _RC3_ is declared the official
>>> 1.7.2 release."
>> And I presume you all meant "GDAL/OGR 1.7._2_ _RC3_ is declared the official 1.7.2 release", right? :-)
> 
> Yes, my mistake.
> 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100501/b77ae2a4/attachment.html
From osgeo.mailinglist at gmail.com  Sat May  1 18:42:45 2010
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Sat May  1 18:42:49 2010
Subject: [gdal-dev] (no subject)
Message-ID: <q2yf8d104591005011542s2732a888t25dabcd169770f54@mail.gmail.com>

Hello,

First time I come to this list.

I have a problem using FwTools 2.4.7 with VRT and CSV
I want to transform french geonames file to PostgreSQL with the geometry build

What I do to get this issue ?

Creation of a VRT called geonames.vrt containing

----------------------------------------
<OGRVRTDataSource>
<OGRVRTLayer name="geonames">
<SrcDataSource>geonames.csv</SrcDataSource>
<GeometryType>wkbPoint</GeometryType>
<LayerSRS>EPSG:4326</LayerSRS>
<GeometryField encoding="PointFromColumns" x="latitude" y="longitude"/>
</OGRVRTLayer>
</OGRVRTDataSource>
----------------------------------------
or with attributes
----------------------------------------
<OGRVRTDataSource>
<OGRVRTLayer name="geonames">
<SrcDataSource>geonames.csv</SrcDataSource>
<Field name="latitude" type="Real" />
<Field name="longitude" type="Real" />
<Field name="geonameid" type="Integer" />
<Field name="name" type="String" width="200" />
<Field name="asciiname" type="String" width="200" />
<Field name="alternatenames" type="String" width="5000" />
<Field name="feature class" type="String" width="10" />
<Field name="feature code" type="String" width="10" />
<Field name="country code" type="String" width="2" />
<Field name="cc2" type="String" width="60" />
<Field name="admin1 code" type="String" width="20" />
<Field name="admin2 code" type="String" width="80" />
<Field name="admin3 code" type="String" width="20" />
<Field name="admin4 code" type="String" width="20" />
<Field name="population" type="Integer" />
<Field name="elevation" type="Integer" />
<Field name="gtopo30" type="Integer" />
<Field name="timezone" type="String" width="100" />
<Field name="modification date" type="Date" />
<GeometryType>wkbPoint</GeometryType>
<LayerSRS>EPSG:4326</LayerSRS>
<GeometryField encoding="PointFromColumns" x="latitude" y="longitude"/>
</OGRVRTLayer>
</OGRVRTDataSource>




----------------------------------------




Creation of a geonames.csv file with this structure ( file around 3 Mo
for all the database on http://raster.analysesig.net/geonames.zip)

----------------------------------------
"latitude","longitude","geonameid","name","asciiname","alternatenames","feature
class","feature code","country code","cc2","admin1 code","admin2
code","admin3 code","admin4
code","population","elevation","gtopo30","timezone","modification
date"
"45.81667","1.76667","2967103","Peyrat-le-Ch?teau","Peyrat-le-Chateau","Peyrat","P","PPL","FR","","B1","87","872","87117","1140","","463","Europe/Paris","2006-04-29"
"43.16667","-0.91667","2967104","Soule","Soule","La
Soule,Soule,Xiberuea,Xiber?a,Zuberoa","L","RGN","FR","","97","64","","","0","","182","Europe/Paris","2006-04-07"
"45.16667","-0.68333","2967105","?le Boucheau","Ile Boucheau","Ile
Bouchaud,Ile du Grand Fagnard,Ile du Grand Fagnarg,?le Bouchaud,?le du
Grand Fagnard,?le du Grand
Fagnarg","T","ISLX","FR","FR","97","","","","0","","-9999","Europe/Paris","1996-03-21"
"44.81667","6.11667","2967106","Val Godemard","Val Godemard","Val
Godemar","T","VAL","FR","FR","B8","05","","","0","","1054","Europe/Paris","1994-01-06"
"47.5","3.81667","2967107","Domecy-sur-le-Vault","Domecy-sur-le-Vault","Domecy","P","PPL","FR","","A1","89","892","89146","107","","303","Europe/Paris","2006-04-30"
"45.13333","-0.66667","2967108","Blaye","Blaye","Blaia,Blaye-et-Sainte-Luce","P","PPLA3","FR","","97","33","331","33058","5277","","-9999","Europe/Paris","2010-04-19"
"50.8","2.43333","2967109","Zuytpeene","Zuytpeene","","P","PPL","FR","","B4","59","594","59669","483","","30","Europe/Paris","2006-04-30"

Finally launching of

------------------------------------------------------
ogr2ogr -f "PostgreSQL" PG:"host=localhost user=username
dbname=mydatabase password=my_password" geonames.vrt

------------------------------------------------------
It stops in the middle of the import around line 51000 depending of
the use of the first or the second VRT example

I supposed I miss something but what ?

Thanks for any help

Regards

ThomasG
From osgeo.mailinglist at gmail.com  Sat May  1 19:09:27 2010
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Sat May  1 19:09:32 2010
Subject: [gdal-dev] VRT, CSV and geonames database import
Message-ID: <x2mf8d104591005011609k8cb1bbffn656a63e6d4cd52bd@mail.gmail.com>

In the previous post, I forget the title so the same post with the
title, sorry...

Hello,

First time I come to this list.

I have a problem using FwTools 2.4.7 with VRT and CSV
I want to transform french geonames file to PostgreSQL with the geometry build

What I do to get this issue ?

Creation of a VRT called geonames.vrt containing

----------------------------------------
<OGRVRTDataSource>
<OGRVRTLayer name="geonames">
<SrcDataSource>geonames.csv</SrcDataSource>
<GeometryType>wkbPoint</GeometryType>
<LayerSRS>EPSG:4326</LayerSRS>
<GeometryField encoding="PointFromColumns" x="latitude" y="longitude"/>
</OGRVRTLayer>
</OGRVRTDataSource>
----------------------------------------
or with attributes
----------------------------------------
<OGRVRTDataSource>
<OGRVRTLayer name="geonames">
<SrcDataSource>geonames.csv</SrcDataSource>
<Field name="latitude" type="Real" />
<Field name="longitude" type="Real" />
<Field name="geonameid" type="Integer" />
<Field name="name" type="String" width="200" />
<Field name="asciiname" type="String" width="200" />
<Field name="alternatenames" type="String" width="5000" />
<Field name="feature class" type="String" width="10" />
<Field name="feature code" type="String" width="10" />
<Field name="country code" type="String" width="2" />
<Field name="cc2" type="String" width="60" />
<Field name="admin1 code" type="String" width="20" />
<Field name="admin2 code" type="String" width="80" />
<Field name="admin3 code" type="String" width="20" />
<Field name="admin4 code" type="String" width="20" />
<Field name="population" type="Integer" />
<Field name="elevation" type="Integer" />
<Field name="gtopo30" type="Integer" />
<Field name="timezone" type="String" width="100" />
<Field name="modification date" type="Date" />
<GeometryType>wkbPoint</GeometryType>
<LayerSRS>EPSG:4326</LayerSRS>
<GeometryField encoding="PointFromColumns" x="latitude" y="longitude"/>
</OGRVRTLayer>
</OGRVRTDataSource>




----------------------------------------




Creation of a geonames.csv file with this structure ( file around 3 Mo
for all the database on http://raster.analysesig.net/geonames.zip)

----------------------------------------
"latitude","longitude","geonameid","name","asciiname","alternatenames","feature
class","feature code","country code","cc2","admin1 code","admin2
code","admin3 code","admin4
code","population","elevation","gtopo30","timezone","modification
date"
"45.81667","1.76667","2967103","Peyrat-le-Ch?teau","Peyrat-le-Chateau","Peyrat","P","PPL","FR","","B1","87","872","87117","1140","","463","Europe/Paris","2006-04-29"
"43.16667","-0.91667","2967104","Soule","Soule","La
Soule,Soule,Xiberuea,Xiber?a,Zuberoa","L","RGN","FR","","97","64","","","0","","182","Europe/Paris","2006-04-07"
"45.16667","-0.68333","2967105","?le Boucheau","Ile Boucheau","Ile
Bouchaud,Ile du Grand Fagnard,Ile du Grand Fagnarg,?le Bouchaud,?le du
Grand Fagnard,?le du Grand
Fagnarg","T","ISLX","FR","FR","97","","","","0","","-9999","Europe/Paris","1996-03-21"
"44.81667","6.11667","2967106","Val Godemard","Val Godemard","Val
Godemar","T","VAL","FR","FR","B8","05","","","0","","1054","Europe/Paris","1994-01-06"
"47.5","3.81667","2967107","Domecy-sur-le-Vault","Domecy-sur-le-Vault","Domecy","P","PPL","FR","","A1","89","892","89146","107","","303","Europe/Paris","2006-04-30"
"45.13333","-0.66667","2967108","Blaye","Blaye","Blaia,Blaye-et-Sainte-Luce","P","PPLA3","FR","","97","33","331","33058","5277","","-9999","Europe/Paris","2010-04-19"
"50.8","2.43333","2967109","Zuytpeene","Zuytpeene","","P","PPL","FR","","B4","59","594","59669","483","","30","Europe/Paris","2006-04-30"

Finally launching of

------------------------------------------------------
ogr2ogr -f "PostgreSQL" PG:"host=localhost user=username
dbname=mydatabase password=my_password" geonames.vrt

------------------------------------------------------
It stops in the middle of the import around line 51000 depending of
the use of the first or the second VRT example

I supposed I miss something but what ?

Thanks for any help

Regards

ThomasG
From even.rouault at mines-paris.org  Sat May  1 19:17:02 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May  1 19:17:18 2010
Subject: [gdal-dev] (no subject)
In-Reply-To: <q2yf8d104591005011542s2732a888t25dabcd169770f54@mail.gmail.com>
References: <q2yf8d104591005011542s2732a888t25dabcd169770f54@mail.gmail.com>
Message-ID: <201005020117.03562.even.rouault@mines-paris.org>

Thomas,

The CSV file is corrupted at line 51092.

"43.21667","3.13333","3018296","Fleury","Fleury","Fleury "Bouches de 
l'Aude,Fleury-d'Aude,Perignan,P?rignan","P","PPL","FR","","A9","11","113","11145","2713","","60","Europe/Paris","2007-09-08"

Notice the extra double-quote character between Fleury and Bouches de l'Aude. 
If you remove it, the process should go just fine

I also thing you should change the role of x and y in your VRT definition : x 
should be longitude and y latitude.

Best regards,

Even
From SGONG at mdacorporation.com  Sun May  2 17:07:33 2010
From: SGONG at mdacorporation.com (Shawn GONG)
Date: Sun May  2 17:07:38 2010
Subject: [gdal-dev] how to submit  modified drivers for GDAL
References: <5F76F80A436C1146A7C04C6F844026FB061047E3@VMXYVR2.ds.mda.ca>
Message-ID: <5F76F80A436C1146A7C04C6F844026FB061047ED@VMXYVR2.ds.mda.ca>

Frank, Ivan and Kyle,

Thank you for your reply. When you advise me to file a ticket, do you mean "submit a bug report" at this site http://trac.osgeo.org/gdal/?
This is my first time doing this.

I can attach sea surface temperature (SST) netCDF for testing, but not RSAT2 or TSX dataset.

Thanks,
Shawn



-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org on behalf of Shawn GONG
Sent: Thu 4/29/2010 6:52 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] how to submit  modified drivers for GDAL
 
Hi list,

My colleague, Adam Klein, and I have made changes to the following drivers:
netCDF: corrects for longitudes >180 deg (western hemisphere)
RSAT2: able to ingest NITF complex products
TSX: utilizes all GCPs instead of the default of 5 (4 corners + 1 centre)

Please advise how to submit the changes.

BTW, has ScanSAR mode been added for TerraSAR?

Thanks,
Shawn





-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100502/e5d4cc84/attachment.html
From kevin.bentley at gmail.com  Sun May  2 18:06:40 2010
From: kevin.bentley at gmail.com (Kevin Bentley)
Date: Sun May  2 18:13:38 2010
Subject: [gdal-dev] Mutex around Proj.4
Message-ID: <m2w2cd3193b1005021506mffa0787es2fa6fa0f72ce49f0@mail.gmail.com>

I was profiling some code today with vtune, and it turned out that the
mutex around proj4 in gdal was the biggest culprit. I had code that
was calling Transform many times with one point at a time. I was able
to improve things a lot by calling it with multiple points, but
acquiring the mutex is still a huge hit to my performance (to be fair
I'm still calling Transform a *lot*, I can't easily refactor the code
to make it work in more of a batch).

I'm just curious what the issue with proj.4 and multiple threads are
in gdal. I'm thinking of writing my own little wrapper around proj.4
to avoid the mutex, but I don't want to do that if I'm going to run
into the same problems that caused the mutex to be put in there. I've
got multiple threads working on a lot of transforms, so if I can avoid
the mutex it would really help performance.

I noticed it was added a while ago:

 * Revision 1.28  2005/06/08 19:38:14  fwarmerdam
 * protect PROJ.4 use with a mutex

Thanks!

Kevin Bentley
From ksshannon at gmail.com  Sun May  2 22:37:46 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Sun May  2 22:44:27 2010
Subject: [gdal-dev] how to submit modified drivers for GDAL
In-Reply-To: <5F76F80A436C1146A7C04C6F844026FB061047ED@VMXYVR2.ds.mda.ca>
References: <5F76F80A436C1146A7C04C6F844026FB061047E3@VMXYVR2.ds.mda.ca> 
	<5F76F80A436C1146A7C04C6F844026FB061047ED@VMXYVR2.ds.mda.ca>
Message-ID: <w2hc28f2e141005021937jd4fcfe29xdc8137bdb7134728@mail.gmail.com>

Correct. Submit the report and document what the change is, attach the patch
and the test data.  Thanks.

# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================


On Sun, May 2, 2010 at 3:07 PM, Shawn GONG <SGONG@mdacorporation.com> wrote:

>  Frank, Ivan and Kyle,
>
> Thank you for your reply. When you advise me to file a ticket, do you mean
> "submit a bug report" at this site http://trac.osgeo.org/gdal/?
> This is my first time doing this.
>
> I can attach sea surface temperature (SST) netCDF for testing, but not
> RSAT2 or TSX dataset.
>
> Thanks,
> Shawn
>
>
>
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org on behalf of Shawn GONG
> Sent: Thu 4/29/2010 6:52 PM
> To: gdal-dev@lists.osgeo.org
> Subject: [gdal-dev] how to submit  modified drivers for GDAL
>
> Hi list,
>
> My colleague, Adam Klein, and I have made changes to the following drivers:
> netCDF: corrects for longitudes >180 deg (western hemisphere)
> RSAT2: able to ingest NITF complex products
> TSX: utilizes all GCPs instead of the default of 5 (4 corners + 1 centre)
>
> Please advise how to submit the changes.
>
> BTW, has ScanSAR mode been added for TerraSAR?
>
> Thanks,
> Shawn
>
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100502/f0a1d85d/attachment.html
From SGONG at mdacorporation.com  Mon May  3 21:25:18 2010
From: SGONG at mdacorporation.com (Shawn GONG)
Date: Mon May  3 21:27:06 2010
Subject: [gdal-dev] how to submit  modified drivers for GDAL
References: <5F76F80A436C1146A7C04C6F844026FB061047E3@VMXYVR2.ds.mda.ca>
Message-ID: <5F76F80A436C1146A7C04C6F844026FB061047F1@VMXYVR2.ds.mda.ca>

I submitted proposed changes as tickets 3563, 3564 and 3565.
Please delete 3562, my mistake.
 
Thanks,
Shawn

________________________________

From: gdal-dev-bounces@lists.osgeo.org on behalf of Shawn GONG
Sent: Thu 4/29/2010 6:52 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] how to submit modified drivers for GDAL



Hi list,

My colleague, Adam Klein, and I have made changes to the following drivers:
netCDF: corrects for longitudes >180 deg (western hemisphere)
RSAT2: able to ingest NITF complex products
TSX: utilizes all GCPs instead of the default of 5 (4 corners + 1 centre)

Please advise how to submit the changes.

BTW, has ScanSAR mode been added for TerraSAR?

Thanks,
Shawn



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100503/e301f58b/attachment.html
From P.Halls at york.ac.uk  Tue May  4 02:16:18 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Tue May  4 02:48:29 2010
Subject: [gdal-dev] Thin Plate Spline
In-Reply-To: <4BDB56E2.2020309@uva.nl>
References: <4BD22E36.9070506@pobox.com> <4BDB56E2.2020309@uva.nl>
Message-ID: <4BDFBBB2.20505@york.ac.uk>

Jan,

    the number of points required will depend upon the nature of the deformation 
in the originals.  You need sufficient control points to ensure that the 
algorithm can sort things out, so relatively more points are required in the 
deformed areas.  However, although I've not used the GDAL Thin Plate Spline, 
with many of these algorithms it is necessary to also have an even spread of 
control points, or new distortion can be introduced in the previously 
undistorted areas.

    I would regard five control points as the minimum and suitable only for 
originals that were completely flat when scanned.  Five points should be enough 
(just) to deal with orientation errors on the scanner and systematic scanner 
errors.  If the original had been folded, for example, even had it been ironed 
before scanning, additional points would be needed either side of the former 
folds, in order to sort out the compression they introduce.  The worst case I've 
ever had to deal with was a late 19th century map with no known projection 
details that had been segmented and mounted on linen - with gaps between each 
segment.  In that case, I ended up transforming each segment and then stitching 
the segments together - it worked remarkably well.

Hope that helps,
best wishes,

Peter

Jan Hartmann wrote:
> Hi,
> 
> I'm rubber-sheeting old, deformed maps using the thin plate spline 
> option of gdalwarp (-tps). My impression was that the control points 
> would be transformed to exactly their georeferenced locations, but in 
> the georeferenced image the control poimts don't quite align with the 
> gcp-coordinates I specified. I'm only using five points per map, so 
> could this be the problem? If so, how many points do I need to get the 
> control points on their exact location? Or are there other ways to 
> achieve this?
> 
> Jan
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From j.l.h.hartmann at uva.nl  Tue May  4 06:08:10 2010
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue May  4 06:08:17 2010
Subject: [gdal-dev] Thin Plate Spline
In-Reply-To: <4BDFBBB2.20505@york.ac.uk>
References: <4BD22E36.9070506@pobox.com> <4BDB56E2.2020309@uva.nl>
	<4BDFBBB2.20505@york.ac.uk>
Message-ID: <4BDFF20A.6060205@uva.nl>

Thanks Peter, good points. One further question: even if the 
georeferenced map as a whole is distorted due to too few control points, 
the control points *themselves* should always be projected to their 
exact specified georeferenced location, right? At least that is wthat I 
thought was the difference between rubber sheeting algorithms like thin 
plate spline and polynomial rectifications, where some kind of error is 
distributed between the control points.

Oh, and I would be very much interested to know more of your experiences 
with the algorithms to be used for rectifying distorted historical maps.

Regards,

Jan

On 05/04/10 08:16, Peter J Halls wrote:
> Jan,
>
>    the number of points required will depend upon the nature of the 
> deformation in the originals.  You need sufficient control points to 
> ensure that the algorithm can sort things out, so relatively more 
> points are required in the deformed areas.  However, although I've not 
> used the GDAL Thin Plate Spline, with many of these algorithms it is 
> necessary to also have an even spread of control points, or new 
> distortion can be introduced in the previously undistorted areas.
>
>    I would regard five control points as the minimum and suitable only 
> for originals that were completely flat when scanned.  Five points 
> should be enough (just) to deal with orientation errors on the scanner 
> and systematic scanner errors.  If the original had been folded, for 
> example, even had it been ironed before scanning, additional points 
> would be needed either side of the former folds, in order to sort out 
> the compression they introduce.  The worst case I've ever had to deal 
> with was a late 19th century map with no known projection details that 
> had been segmented and mounted on linen - with gaps between each 
> segment.  In that case, I ended up transforming each segment and then 
> stitching the segments together - it worked remarkably well.
>
> Hope that helps,
> best wishes,
>
> Peter
>
> Jan Hartmann wrote:
>> Hi,
>>
>> I'm rubber-sheeting old, deformed maps using the thin plate spline 
>> option of gdalwarp (-tps). My impression was that the control points 
>> would be transformed to exactly their georeferenced locations, but in 
>> the georeferenced image the control poimts don't quite align with the 
>> gcp-coordinates I specified. I'm only using five points per map, so 
>> could this be the problem? If so, how many points do I need to get 
>> the control points on their exact location? Or are there other ways 
>> to achieve this?
>>
>> Jan
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From nbest at ci.uchicago.edu  Tue May  4 06:39:08 2010
From: nbest at ci.uchicago.edu (Neil Best)
Date: Tue May  4 06:39:11 2010
Subject: [gdal-dev] will r.in.gdal use GDALRasterAttributeTable elements?
Message-ID: <1272969548834-5002715.post@n2.nabble.com>


[cross-posted on grass-user]

I have a data set in IMG format that has a GDALRasterAttributeTable element
which contains class name metadata that would be perfect for category names,
but I don't see a way to take advantage of it right away.  First of all
there are problems with the file's georeferencing such that its extents are
invalid for geographic coordinates, so I had to gdal_translate it to a VRT,
which caused the GDALRasterAttributeTable to disappear from gdalinfo's
output.  Before I work on finding some other work-around any more than I
already have (to no avail) I would like to know if r.in.gdal can even take
advantage of this extra metadata in any meaningful way, namely to populate
the category labels.  Thanks.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/will-r-in-gdal-use-GDALRasterAttributeTable-elements-tp5002715p5002715.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From thomas.unternaehrer at gmail.com  Tue May  4 07:22:59 2010
From: thomas.unternaehrer at gmail.com (Thomas Unternaehrer)
Date: Tue May  4 07:23:02 2010
Subject: [gdal-dev] dissolve shapefiles
Message-ID: <s2hf57dfa3c1005040422gd12205fao2c01ec1da7dd1c4a@mail.gmail.com>

Hello,

I try to get a dissolved shapefile out of a large raster file (Erdas
img) using Python. The raster file contains values from lets say 1 to
100. What I need is a shapefile that contains just five groups where
1-20 get the value 1, 21-40 the value 2 and so on.

What I've done so far are the following steps:
- split the raster file into several pieces using gdal_translate
- run gdal.Polygonize on each part to get shapefiles (dissolved based
on the raster values)
- manipulate the resulting dbf-files to get my described groups (gives
me a new field: fieldGrouped)

Now I need to dissolve the resulting shapefiles based on the new field
fieldGrouped to get smaller shapefiles.

How can I do this using gdal/ogr or any other library? Can I
manipulate the original values in my raster file? GRASS has this
functionality but if I'm right, I need to start GRASS and import the
shapefiles to it (it should be easy to run it on a different machine).
Nice would be a function like gdal.Polygonize. I'm more or less
completely new to GIS at all.
My main goal is to produce tiles for Google Maps.

Any hint or help would be appreciated

Thomas
From j.l.h.hartmann at uva.nl  Tue May  4 07:54:03 2010
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue May  4 07:54:09 2010
Subject: [gdal-dev] Thin Plate Spline
In-Reply-To: <4BE0016F.9000705@uva.nl>
References: <4BD22E36.9070506@pobox.com> <4BDB56E2.2020309@uva.nl>
	<201005010021.40881.even.rouault@mines-paris.org>
	<4BE0016F.9000705@uva.nl>
Message-ID: <4BE00ADB.1070102@uva.nl>


At:

http://mapserver.sara.nl/downloads/gdal_tps.png

you can see a screenshot of the original image (right) and the 
georeferenced one (left, rotated almost 90 degrees). The red markers 
with the number 3 inside them show one of the control points: to the 
right the scan pixel  (5023/3421), to the left the targeted 
georeferenced coordinate in EPSG:28992 (121527/487174). As you see, the 
georeferenced point is not exactly on the border of parcel 7, as I 
expected. Above the map you see the four coordinates I used as control 
points; I added four extra points half way the original ones, so the 
complete warp was done with 8 control points.

Adding or removing points doesn't make any difference, and the other 
control points are shifted too, although slightly differently. When I 
use "-order 1" with the same control points I get exactly the same 
picture; however, with really weird control points the images for -tps 
and -order 1 get distorted in different ways.

It's only 10 meters or so, but it is very visible and too much for my 
purposes.  How can I get a georeferenced image with the control points 
exactly on their indicated location, no matter what happens in between?

Jan
>
> On 05/01/10 00:21, Even Rouault wrote:
>> It should work... Perhaps you can share how to reproduce what you see
>>
>> Le Saturday 01 May 2010 00:17:06 Jan Hartmann, vous avez ?crit :
>>> Hi,
>>>
>>> I'm rubber-sheeting old, deformed maps using the thin plate spline
>>> option of gdalwarp (-tps). My impression was that the control points
>>> would be transformed to exactly their georeferenced locations, but in
>>> the georeferenced image the control poimts don't quite align with the
>>> gcp-coordinates I specified. I'm only using five points per map, so
>>> could this be the problem? If so, how many points do I need to get the
>>> control points on their exact location? Or are there other ways to
>>> achieve this?
>>>
>>> Jan
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
From chaitanya.ch at gmail.com  Tue May  4 08:38:39 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May  4 08:38:43 2010
Subject: [gdal-dev] dissolve shapefiles
In-Reply-To: <s2hf57dfa3c1005040422gd12205fao2c01ec1da7dd1c4a@mail.gmail.com>
References: <s2hf57dfa3c1005040422gd12205fao2c01ec1da7dd1c4a@mail.gmail.com>
Message-ID: <o2xeb502d881005040538l7155f28eh3b0ed21b7e9fa87b@mail.gmail.com>

Thomas,

I would start by creating a colour table with each group containing the same
shade of grey. This will ease the polygonization by avoiding duplicates.
There will be three or four (RGB/RGBA) bands from the colour table but you
can just consider one band during polygonization.


On Tue, May 4, 2010 at 4:52 PM, Thomas Unternaehrer <
thomas.unternaehrer@gmail.com> wrote:

> Hello,
>
> I try to get a dissolved shapefile out of a large raster file (Erdas
> img) using Python. The raster file contains values from lets say 1 to
> 100. What I need is a shapefile that contains just five groups where
> 1-20 get the value 1, 21-40 the value 2 and so on.
>
> What I've done so far are the following steps:
> - split the raster file into several pieces using gdal_translate
> - run gdal.Polygonize on each part to get shapefiles (dissolved based
> on the raster values)
> - manipulate the resulting dbf-files to get my described groups (gives
> me a new field: fieldGrouped)
>
> Now I need to dissolve the resulting shapefiles based on the new field
> fieldGrouped to get smaller shapefiles.
>
> How can I do this using gdal/ogr or any other library? Can I
> manipulate the original values in my raster file? GRASS has this
> functionality but if I'm right, I need to start GRASS and import the
> shapefiles to it (it should be easy to run it on a different machine).
> Nice would be a function like gdal.Polygonize. I'm more or less
> completely new to GIS at all.
> My main goal is to produce tiles for Google Maps.
>
> Any hint or help would be appreciated
>
> Thomas
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100504/0a85f866/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Tue May  4 09:08:28 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue May  4 09:08:43 2010
Subject: [gdal-dev] Re: Thin Plate Spline
References: <4BD22E36.9070506@pobox.com> <4BDB56E2.2020309@uva.nl>
	<201005010021.40881.even.rouault@mines-paris.org>
	<4BE0016F.9000705@uva.nl> <4BE00ADB.1070102@uva.nl>
Message-ID: <loom.20100504T145455-688@post.gmane.org>

Jan Hartmann <j.l.h.hartmann <at> uva.nl> writes:

> you can see a screenshot of the original image (right) and the 
> georeferenced one (left, rotated almost 90 degrees). The red markers 
> with the number 3 inside them show one of the control points: to the 
> right the scan pixel  (5023/3421), to the left the targeted 
> georeferenced coordinate in EPSG:28992 (121527/487174). As you see, the 
> georeferenced point is not exactly on the border of parcel 7, as I 
> expected. Above the map you see the four coordinates I used as control 
> points; I added four extra points half way the original ones, so the 
> complete warp was done with 8 control points.

Hi,

I can try to repeat your test some day. Is this your workflow:

1. gdal_translate -of VRT -gcp p1 l1 e1 n1 -gcp p2 l2 e2 n2 -gcp p3 l3 e3 n3
   -gcp p4 l4 e4 n4 -gcp p5 l5 e5 n5 input.tif temp_with_gcp.vrt

2. gdalwarp -s_srs EPSG:28992 -t_srs EPSG:28992 -tps temp_with_gcp.vrt warped.tif

3. Measure the coordinates of the ground control points from warped.tif 
   with some GIS software like QGis and find out disappointed that 
   they have shifted.

-Jukka Rahkonen-



From j.l.h.hartmann at uva.nl  Tue May  4 09:14:34 2010
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Tue May  4 09:14:40 2010
Subject: [gdal-dev] Re: Thin Plate Spline
In-Reply-To: <loom.20100504T145455-688@post.gmane.org>
References: <4BD22E36.9070506@pobox.com>
	<4BDB56E2.2020309@uva.nl>	<201005010021.40881.even.rouault@mines-paris.org>	<4BE0016F.9000705@uva.nl>
	<4BE00ADB.1070102@uva.nl> <loom.20100504T145455-688@post.gmane.org>
Message-ID: <4BE01DBA.4090301@uva.nl>

Thanks, Jukka, that's exactly what I did. I used QGIS to test the 
coordinates in both images.

Jan

On 05/04/10 15:08, Jukka Rahkonen wrote:
> Jan Hartmann<j.l.h.hartmann<at>  uva.nl>  writes:
>
>    
>> you can see a screenshot of the original image (right) and the
>> georeferenced one (left, rotated almost 90 degrees). The red markers
>> with the number 3 inside them show one of the control points: to the
>> right the scan pixel  (5023/3421), to the left the targeted
>> georeferenced coordinate in EPSG:28992 (121527/487174). As you see, the
>> georeferenced point is not exactly on the border of parcel 7, as I
>> expected. Above the map you see the four coordinates I used as control
>> points; I added four extra points half way the original ones, so the
>> complete warp was done with 8 control points.
>>      
> Hi,
>
> I can try to repeat your test some day. Is this your workflow:
>
> 1. gdal_translate -of VRT -gcp p1 l1 e1 n1 -gcp p2 l2 e2 n2 -gcp p3 l3 e3 n3
>     -gcp p4 l4 e4 n4 -gcp p5 l5 e5 n5 input.tif temp_with_gcp.vrt
>
> 2. gdalwarp -s_srs EPSG:28992 -t_srs EPSG:28992 -tps temp_with_gcp.vrt warped.tif
>
> 3. Measure the coordinates of the ground control points from warped.tif
>     with some GIS software like QGis and find out disappointed that
>     they have shifted.
>
> -Jukka Rahkonen-
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>    
From kmichael.aye at gmail.com  Tue May  4 10:19:30 2010
From: kmichael.aye at gmail.com (K.-Michael Aye)
Date: Tue May  4 10:19:48 2010
Subject: [gdal-dev] Re: KyngChaos Frameworks: GDAL's numpy vs Enthought's
	numpy
References: <hqhn5d$h38$1@dough.gmane.org> <hrenfa$3ac$1@dough.gmane.org>
	<0DB259F9-281F-4532-AF0B-A14DF95D3E50@kyngchaos.com>
Message-ID: <hrpadi$3pm$1@dough.gmane.org>

ahh, thank you very much! Thanks to your update using Numpy1.4.1 I 
successfully married your GDAL frameworks with EPD.
and I lived happily ever after having all I needed.. (that is, until 
the next cool software comes along. ;)

Have a great week!
Best regards,
Michael

On 2010-04-30 16:13:35 +0200, William Kyngesburye said:

> Thanks.  I probably would have forgotten to check before building 
> andpackaging GDAL 1.7.2 this weekend.
> 
> On Apr 30, 2010, at 8:54 AM, K.-Michael Aye wrote:
> 
>> Hi William,
>> 
>> Numpy1.4.1 has been released, just to let you know. *hint,hint* ;)
>> 
>> Best regards and a nice weekend!
>> 
>> Michael
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "The beast is actively interested only in now, and, as it is always 
> nowand always shall be, there is an eternity of time for the 
> accomplishmentof objects."
> 
> - the wisdom of Tarzan



From woklist at kyngchaos.com  Tue May  4 10:30:53 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Tue May  4 10:30:57 2010
Subject: [gdal-dev] Re: KyngChaos Frameworks: GDAL's numpy vs Enthought's
	numpy
In-Reply-To: <hrpadi$3pm$1@dough.gmane.org>
References: <hqhn5d$h38$1@dough.gmane.org> <hrenfa$3ac$1@dough.gmane.org>
	<0DB259F9-281F-4532-AF0B-A14DF95D3E50@kyngchaos.com>
	<hrpadi$3pm$1@dough.gmane.org>
Message-ID: <3A8823D4-55F0-436C-8949-920FAAB9BFD3@kyngchaos.com>

Huh, did Enthought update their numpy also?  If not, I'd expect the same problems.

On May 4, 2010, at 9:19 AM, K.-Michael Aye wrote:

> ahh, thank you very much! Thanks to your update using Numpy1.4.1 I successfully married your GDAL frameworks with EPD.
> and I lived happily ever after having all I needed.. (that is, until the next cool software comes along. ;)
> 
> Have a great week!
> Best regards,
> Michael
> 
> On 2010-04-30 16:13:35 +0200, William Kyngesburye said:
> 
>> Thanks.  I probably would have forgotten to check before building andpackaging GDAL 1.7.2 this weekend.
>> On Apr 30, 2010, at 8:54 AM, K.-Michael Aye wrote:
>>> Hi William,
>>> Numpy1.4.1 has been released, just to let you know. *hint,hint* ;)
>>> Best regards and a nice weekend!
>>> Michael
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> -----
>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>> http://www.kyngchaos.com/
>> "The beast is actively interested only in now, and, as it is always nowand always shall be, there is an eternity of time for the accomplishmentof objects."
>> - the wisdom of Tarzan
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"The beast is actively interested only in now, and, as it is always now and always shall be, there is an eternity of time for the accomplishment of objects."

- the wisdom of Tarzan





From kmichael.aye at gmail.com  Tue May  4 10:49:09 2010
From: kmichael.aye at gmail.com (K.-Michael Aye)
Date: Tue May  4 10:49:24 2010
Subject: [gdal-dev] Re: KyngChaos Frameworks: GDAL's numpy vs Enthought's
	numpy
References: <hqhn5d$h38$1@dough.gmane.org> <hrenfa$3ac$1@dough.gmane.org>
	<0DB259F9-281F-4532-AF0B-A14DF95D3E50@kyngchaos.com>
	<hrpadi$3pm$1@dough.gmane.org>
	<3A8823D4-55F0-436C-8949-920FAAB9BFD3@kyngchaos.com>
Message-ID: <hrpc55$buq$1@dough.gmane.org>

On 2010-05-04 16:30:53 +0200, William Kyngesburye said:

> Huh, did Enthought update their numpy also?  If not, I'd expect the 
> sameproblems.

you expect the same problems for the situation
EPD: Numpy 1.4.0 and GDAL: Numpy 1.4.1

then for my previous situation:
EPD: Numpy 1.4.0 and GDAL: Numpy 1.3?

I did nothing to the EPD installation.
I copied your gdal.pth from Resources to 
~/Library/Python/Versions/2.6/site-packages, could now run ipython with 
the -pylab switch and plot data with EPD's matplotlib, that I received 
before from GDAL's ReadAsArray.


> 
> On May 4, 2010, at 9:19 AM, K.-Michael Aye wrote:
> 
>> ahh, thank you very much! Thanks to your update using Numpy1.4.1 
>> Isuccessfully married your GDAL frameworks with EPD.
>> and I lived happily ever after having all I needed.. (that is, untilthe 
>> next cool software comes along. ;)
>> 
>> Have a great week!
>> Best regards,
>> Michael
>> 
>> On 2010-04-30 16:13:35 +0200, William Kyngesburye said:
>> 
>>> Thanks.  I probably would have forgotten to check before 
>>> buildingandpackaging GDAL 1.7.2 this weekend.
>>> On Apr 30, 2010, at 8:54 AM, K.-Michael Aye wrote:
>>>> Hi William,
>>>> Numpy1.4.1 has been released, just to let you know. *hint,hint* ;)
>>>> Best regards and a nice weekend!
>>>> Michael
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>> "The beast is actively interested only in now, and, as it is 
>>> alwaysnowand always shall be, there is an eternity of time for 
>>> theaccomplishmentof objects."
>>> - the wisdom of Tarzan
>> 
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "The beast is actively interested only in now, and, as it is always 
> nowand always shall be, there is an eternity of time for the 
> accomplishmentof objects."
> 
> - the wisdom of Tarzan



From arlduc at dukode.com  Tue May  4 13:27:48 2010
From: arlduc at dukode.com (Arlene Ducao)
Date: Tue May  4 13:27:51 2010
Subject: [gdal-dev] GDAL and tripolar grids?
Message-ID: <4BE05914.6020809@dukode.com>

Hello,

Has anyone used GDAL to convert a NetCDF file from a tripolar grid  
(Murray 1996) to a more traditional longitude-latitude Cartesian grid?

I'm trying to visualize climate data from this site (which also has a 
further explanation of the particular tripolar grid being used):
http://nomads.gfdl.noaa.gov/CM2.X/oceangrid.html

Thanks,
Arlene
arlduc@dukode.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100504/45770f32/attachment.html
From discoursemap at live.com  Tue May  4 13:56:38 2010
From: discoursemap at live.com (Discourse Maps)
Date: Tue May  4 13:56:40 2010
Subject: [gdal-dev] Using GDAL with Windows 7
Message-ID: <SNT130-w605A0CD4D5A2B8076D3642BCF30@phx.gbl>


Greetings,
 
Is GDAL compatible with Windows 7?
 
Specifically I am trying to use a Windows 7 machine (with ArcGIS 9.3.1 and Python 2.5) to install the bindings.
GDAL 1.6 did not work, but perhaps the newest version of GDAL 1.7.x does??
 
Thanks! 		 	   		  
_________________________________________________________________
The New Busy is not the old busy. Search, chat and e-mail from your inbox.
http://www.windowslive.com/campaign/thenewbusy?ocid=PID28326::T:WLMTAGL:ON:WL:en-US:WM_HMP:042010_3
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100504/43d92e8e/attachment.html
From even.rouault at mines-paris.org  Tue May  4 14:14:29 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May  4 14:14:39 2010
Subject: [gdal-dev] Re: Java wrapper of GDAL/OGR application
In-Reply-To: <4BE03840.6060507@upm.es>
References: <4BE03840.6060507@upm.es>
Message-ID: <201005042014.30624.even.rouault@mines-paris.org>

Miguel,

I took the liberty to CC the gdal-dev mailing list as other may have the same 
questions/interests or ideas to help you.

The migration of applications to Java was mainly an easy way to test the 
GDAL/OGR Java API, but not an aim per se. So I've no real plans to migrate 
gdal_grid and gdal_contour at the moment, but we'd be happy to get your 
contribution.

The key to migrate an application is to make sure that the core API used by 
each utility are available by SWIG bindings.

* For gdal_grid, the core API is GDALGridCreate(), which hasn't been mapped to 
SWIG bindings. 

The C prototype of the function :

CPLErr
GDALGridCreate( GDALGridAlgorithm eAlgorithm, const void *poOptions,
                GUInt32 nPoints,
                const double *padfX, const double *padfY, const double *padfZ,
                double dfXMin, double dfXMax, double dfYMin, double dfYMax,
                GUInt32 nXSize, GUInt32 nYSize, GDALDataType eType, void 
*pData,
                GDALProgressFunc pfnProgress, void *pProgressArg );

The only thing that will be difficult to map is the poOptions. Depending on 
the value of the eAlgorithm parameter, poOptions points to a different C 
structure. I can't imagine something harder to map with SWIG... A solution 
would be to have a variant of GDALGridCreate (or a wrapper for it) that would 
accept an array of strings to pass the options and transform it into the 
appropriate C structure. Then the mapping to SWIG would be doable.

* For gdal_rasterize, the core API is GDALRasterizeGeometries(), which hasn't 
been mapped to SWIG either. But GDALRasterizeLayers() has been mapped. See 
http://gdal.org/java/org/gdal/gdal/gdal.html#RasterizeLayer%28org.gdal.gdal.Dataset,
%20int[],%20org.gdal.ogr.Layer,%20double[],%20java.util.Vector,
%20org.gdal.gdal.ProgressCallback%29

As far as I see, the only reason for using RasterizeGeometries() instead of 
RasterizeLayers() in the C++ program is because of the -i option that needs 
to invert the geometries of the source layer. However I think this could be 
workaround by using an intermediate in-memory layer with the MEM driver that 
would hold the inverted geometries.
Or, other solution, map RasterizeGeometries() to SWIG. This should be 
moderately involved. Basically this will involve writing a typemap for (int 
nGeomCount, OGRGeometryH *pahGeometries). You could take inspiration of the 
typemap for (int object_list_count, GDALRasterBandShadow **poObjects) to do 
so.

In conclusion, the translation of gdal_rasterize.cpp to Java should be doable 
with a moderate effort. gdal_grid is another story... I'd note that the 
performance of gdal_grid is known to be not good when a big number of points 
are used. In the event this is improved, an alternate API to GDALGridCreate() 
might be necessary (for example passing a quadtree of points instead of an 
array of coordinates, or any data structure that has efficient spatial lookup 
capability)

Best regards,

Even

Le Tuesday 04 May 2010 17:07:44 Miguel Angel Manso (UPM), vous avez ?crit?:
> Dear Even,
>
> My name is Miguel A. Manso from Technical University of Madrid (UPM)
> Topographic, GEdesy and Cartography Engieniering scholl.
>
> I'm old user of Gdal/OGr library and lover and defender of open source.
>
> I've see that you are an active player in Java wrapper of Gdal/Ogr, and
> almost of apps has been migrated to java from c++.
>
> I'm interesting on two apps that have not yet migrated: gdal_grid and
> gdal_contour
>
> Do you have plans to migrate?
>
> Can you help us (student and i) to do it?
>
> Thank you for your attentions.
> Best regards,
> Miguel A.


From ari.jolma at gmail.com  Tue May  4 14:39:22 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue May  4 14:39:33 2010
Subject: [gdal-dev] Using GDAL with Windows 7
In-Reply-To: <SNT130-w605A0CD4D5A2B8076D3642BCF30@phx.gbl>
References: <SNT130-w605A0CD4D5A2B8076D3642BCF30@phx.gbl>
Message-ID: <4BE069DA.6020108@gmail.com>

Discourse Maps wrote:
> Greetings,
>  
> Is GDAL compatible with Windows 7?

At least with MinGW it is possible to compile and use GDAL in Win 7.
I've done that and also compiled the Perl bindings (and Perl itself)
succesfully in Win 7.

>  
> Specifically I am trying to use a Windows 7 machine (with ArcGIS 9.3.1 
> and Python 2.5) to install the bindings.

I'm not sure what ArcGIS has to do with this, but I've got no reason to
believe that the Python bindings are impossible to compile and use in Win 7.

> GDAL 1.6 did not work, but perhaps the newest version of GDAL 1.7.x does??

Perhaps you could share us why GDAL 1.6 did not work? Which compiler did
you use? What was the error message?

Best regards,

Ari Jolma

>  
> Thanks!
> ------------------------------------------------------------------------
> The New Busy is not the old busy. Search, chat and e-mail from your 
> inbox. Get started. 
> <http://www.windowslive.com/campaign/thenewbusy?ocid=PID28326::T:WLMTAGL:ON:WL:en-US:WM_HMP:042010_3> 
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at mines-paris.org  Tue May  4 15:09:33 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May  4 15:09:47 2010
Subject: [gdal-dev] Re: Thin Plate Spline
In-Reply-To: <4BE01DBA.4090301@uva.nl>
References: <4BD22E36.9070506@pobox.com>
	<loom.20100504T145455-688@post.gmane.org> <4BE01DBA.4090301@uva.nl>
Message-ID: <201005042109.34965.even.rouault@mines-paris.org>

Jan,

you'll need to provide the exact source data and command line you use because 
I can't reproduce any problem.

I've generated a 1000x1000 artificial dataset with the following features :
* background is black
* a white grid made of horizontal lines and vertical lines spaced with 100 
pixels
* 5 GCPs :
	- red square at (150, 150). Target coords are (500000 + 100, 4500000 - 100)
	- green square at (250,450). Target coords are (500000 + 100, 4500000 - 500)
	- yellow square at (50, 850). Target coords are (500000 + 100, 4500000 - 900)
	- cyan square at (950, 50). Target coords are (500000 + 900, 4500000 - 100)
	- magenta square at (850, 950). Target coords are (500000 + 900, 4500000 - 
900)

So the expected result is a warped grid, but such as the red,yellow,cyan and 
magenta points form a perfect square (and the green square is in the middle 
of the red-yellow segment). And that's exactly what I get. With a precision 
of sub-pixel.

Attached a ZIP with the source image and C source code used to generate it.

Command line used to warp : gdalwarp -tps src_grid.tif dst_grid.tif 

Best regards,

Even



Le Tuesday 04 May 2010 15:14:34 Jan Hartmann, vous avez ?crit?:
> Thanks, Jukka, that's exactly what I did. I used QGIS to test the
> coordinates in both images.
>
> Jan
>
> On 05/04/10 15:08, Jukka Rahkonen wrote:
> > Jan Hartmann<j.l.h.hartmann<at>  uva.nl>  writes:
> >> you can see a screenshot of the original image (right) and the
> >> georeferenced one (left, rotated almost 90 degrees). The red markers
> >> with the number 3 inside them show one of the control points: to the
> >> right the scan pixel  (5023/3421), to the left the targeted
> >> georeferenced coordinate in EPSG:28992 (121527/487174). As you see, the
> >> georeferenced point is not exactly on the border of parcel 7, as I
> >> expected. Above the map you see the four coordinates I used as control
> >> points; I added four extra points half way the original ones, so the
> >> complete warp was done with 8 control points.
> >
> > Hi,
> >
> > I can try to repeat your test some day. Is this your workflow:
> >
> > 1. gdal_translate -of VRT -gcp p1 l1 e1 n1 -gcp p2 l2 e2 n2 -gcp p3 l3 e3
> > n3 -gcp p4 l4 e4 n4 -gcp p5 l5 e5 n5 input.tif temp_with_gcp.vrt
> >
> > 2. gdalwarp -s_srs EPSG:28992 -t_srs EPSG:28992 -tps temp_with_gcp.vrt
> > warped.tif
> >
> > 3. Measure the coordinates of the ground control points from warped.tif
> >     with some GIS software like QGis and find out disappointed that
> >     they have shifted.
> >
> > -Jukka Rahkonen-
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-------------- next part --------------
A non-text attachment was scrubbed...
Name: makegrid.c
Type: text/x-csrc
Size: 3462 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100504/908203a1/makegrid-0001.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: src_grid.tif.zip
Type: application/x-zip
Size: 21379 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100504/908203a1/src_grid.tif-0001.bin
From jason.roberts at duke.edu  Tue May  4 15:27:54 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Tue May  4 15:30:12 2010
Subject: [gdal-dev] Using GDAL with Windows 7
In-Reply-To: <4BE069DA.6020108@gmail.com>
References: <SNT130-w605A0CD4D5A2B8076D3642BCF30@phx.gbl>
	<4BE069DA.6020108@gmail.com>
Message-ID: <000f01caebbf$e52e7b30$af8b7190$@roberts@duke.edu>

Here is an email thread that describes one possible reason you may not be
able to use GDAL from an ArcGIS 9.3.1 Python geoprocessing script:

http://lists.osgeo.org/pipermail/gdal-dev/2009-November/022661.html

Basically, to be able to load the GDAL DLL into an ArcGIS 9.3.x process, you
have to compile the GDAL DLL without xerces support. The "minimalist window
executables" for GDAL 1.6 referenced by
http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries did not have the
problem because they do not compile xerces. Windows builds available at
http://vbkto.dyndns.org/sdk/ tend to have xerces enabled (at least as of a
few months ago) so they do have the problem. But if you are used to
compiling stuff, it is relatively easy to build your own GDAL DLL without
xerces.

Also, here's a thread that describes a compatibility problem between the
GDAL 1.6.x Python bindings and ArcGIS 9.3.x "in process" Python
geoprocessing script tools:

http://lists.osgeo.org/pipermail/gdal-dev/2009-December/022856.html

This problem was rectified by the GDAL team moving to a newer version of
SWIG. Depending on where and when you got your 1.6 bindings, you might hit
that problem with 1.6.

Best,
Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Ari Jolma
Sent: Tuesday, May 04, 2010 2:39 PM
To: Discourse Maps
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Using GDAL with Windows 7

Discourse Maps wrote:
> Greetings,
>  
> Is GDAL compatible with Windows 7?

At least with MinGW it is possible to compile and use GDAL in Win 7.
I've done that and also compiled the Perl bindings (and Perl itself)
succesfully in Win 7.

>  
> Specifically I am trying to use a Windows 7 machine (with ArcGIS 9.3.1 
> and Python 2.5) to install the bindings.

I'm not sure what ArcGIS has to do with this, but I've got no reason to
believe that the Python bindings are impossible to compile and use in Win 7.

> GDAL 1.6 did not work, but perhaps the newest version of GDAL 1.7.x does??

Perhaps you could share us why GDAL 1.6 did not work? Which compiler did
you use? What was the error message?

Best regards,

Ari Jolma

>  
> Thanks!
> ------------------------------------------------------------------------
> The New Busy is not the old busy. Search, chat and e-mail from your 
> inbox. Get started. 
>
<http://www.windowslive.com/campaign/thenewbusy?ocid=PID28326::T:WLMTAGL:ON:
WL:en-US:WM_HMP:042010_3> 
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ivan.lucena at pmldnet.com  Tue May  4 10:15:46 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Tue May  4 17:20:05 2010
Subject: [gdal-dev] Re: Java wrapper of GDAL/OGR application
In-Reply-To: <201005042014.30624.even.rouault@mines-paris.org>
References: <4BE03840.6060507@upm.es>
	<201005042014.30624.even.rouault@mines-paris.org>
Message-ID: <4BE02C12.4080401@pmldnet.com>

Even, Miguel,

Even Rouault wrote:
> Miguel,
> 
> I took the liberty to CC the gdal-dev mailing list as other may have the same 
> questions/interests or ideas to help you.
> 
> The migration of applications to Java was mainly an easy way to test the 
> GDAL/OGR Java API, but not an aim per se. So I've no real plans to migrate 
> gdal_grid and gdal_contour at the moment, but we'd be happy to get your 
> contribution.

That was also my intension when I wrote the GDAL's Proximity algorithm in Java, to test the the 
feasibility of writing this kind of raster processing in Java/GDAL.

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/GDALProximity.java

And the performance is surprisingly good...

> 
> The key to migrate an application is to make sure that the core API used by 
> each utility are available by SWIG bindings.
> 
> * For gdal_grid, the core API is GDALGridCreate(), which hasn't been mapped to 
> SWIG bindings. 
> 
> The C prototype of the function :
> 
> CPLErr
> GDALGridCreate( GDALGridAlgorithm eAlgorithm, const void *poOptions,
>                 GUInt32 nPoints,
>                 const double *padfX, const double *padfY, const double *padfZ,
>                 double dfXMin, double dfXMax, double dfYMin, double dfYMax,
>                 GUInt32 nXSize, GUInt32 nYSize, GDALDataType eType, void 
> *pData,
>                 GDALProgressFunc pfnProgress, void *pProgressArg );
> 
> The only thing that will be difficult to map is the poOptions. Depending on 
> the value of the eAlgorithm parameter, poOptions points to a different C 
> structure. I can't imagine something harder to map with SWIG... A solution 
> would be to have a variant of GDALGridCreate (or a wrapper for it) that would 
> accept an array of strings to pass the options and transform it into the 
> appropriate C structure. Then the mapping to SWIG would be doable.
> 
> * For gdal_rasterize, the core API is GDALRasterizeGeometries(), which hasn't 
> been mapped to SWIG either. But GDALRasterizeLayers() has been mapped. See 
> http://gdal.org/java/org/gdal/gdal/gdal.html#RasterizeLayer%28org.gdal.gdal.Dataset,
> %20int[],%20org.gdal.ogr.Layer,%20double[],%20java.util.Vector,
> %20org.gdal.gdal.ProgressCallback%29
> 
> As far as I see, the only reason for using RasterizeGeometries() instead of 
> RasterizeLayers() in the C++ program is because of the -i option that needs 
> to invert the geometries of the source layer. However I think this could be 
> workaround by using an intermediate in-memory layer with the MEM driver that 
> would hold the inverted geometries.
> Or, other solution, map RasterizeGeometries() to SWIG. This should be 
> moderately involved. Basically this will involve writing a typemap for (int 
> nGeomCount, OGRGeometryH *pahGeometries). You could take inspiration of the 
> typemap for (int object_list_count, GDALRasterBandShadow **poObjects) to do 
> so.
> 
> In conclusion, the translation of gdal_rasterize.cpp to Java should be doable 
> with a moderate effort. gdal_grid is another story... I'd note that the 
> performance of gdal_grid is known to be not good when a big number of points 
> are used. In the event this is improved, an alternate API to GDALGridCreate() 
> might be necessary (for example passing a quadtree of points instead of an 
> array of coordinates, or any data structure that has efficient spatial lookup 
> capability)
> 
> Best regards,
> 
> Even
> 
> Le Tuesday 04 May 2010 17:07:44 Miguel Angel Manso (UPM), vous avez ?crit :
>> Dear Even,
>>
>> My name is Miguel A. Manso from Technical University of Madrid (UPM)
>> Topographic, GEdesy and Cartography Engieniering scholl.
>>
>> I'm old user of Gdal/OGr library and lover and defender of open source.
>>
>> I've see that you are an active player in Java wrapper of Gdal/Ogr, and
>> almost of apps has been migrated to java from c++.
>>
>> I'm interesting on two apps that have not yet migrated: gdal_grid and
>> gdal_contour
>>
>> Do you have plans to migrate?
>>
>> Can you help us (student and i) to do it?
>>
>> Thank you for your attentions.
>> Best regards,
>> Miguel A.
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

Best regards,

Ivan

From even.rouault at mines-paris.org  Tue May  4 15:10:19 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May  5 07:46:30 2010
Subject: [gdal-dev] Re: Thin Plate Spline
Message-ID: <1048634090.1273000219122@ace.smi>

This email contained a .zip file attachment. Raytheon does not allow email attachments that are considered likely to contain malicious code. For your protection this attachment has been removed.

If this email is from an unknown source, please simply delete this email.

If this email was expected, and it is from a known sender, you may follow the below suggested instructions to obtain these types of attachments.

+ Instruct the sender to enclose the file(s) in a ".zip" compressed file, and rename the ".zip" compressed file with a different extension, such as, ".rtnzip".  Password protecting the renamed ".zip" compressed file adds an additional layer of protection. When you receive the file, please rename it with the extension ".zip".

Additional instructions and options on how to receive these attachments can be found at:

http://security.it.ray.com/antivirus/extensions.html
http://security.it.ray.com/news/2007/zipfiles.html

Should you have any questions or difficulty with these instructions, please contact the Help Desk at 877.844.4712

---

Jan,

you'll need to provide the exact source data and command line you use because 
I can't reproduce any problem.

I've generated a 1000x1000 artificial dataset with the following features :
* background is black
* a white grid made of horizontal lines and vertical lines spaced with 100 
pixels
* 5 GCPs :
	- red square at (150, 150). Target coords are (500000 + 100, 4500000 - 100)
	- green square at (250,450). Target coords are (500000 + 100, 4500000 - 500)
	- yellow square at (50, 850). Target coords are (500000 + 100, 4500000 - 900)
	- cyan square at (950, 50). Target coords are (500000 + 900, 4500000 - 100)
	- magenta square at (850, 950). Target coords are (500000 + 900, 4500000 - 
900)

So the expected result is a warped grid, but such as the red,yellow,cyan and 
magenta points form a perfect square (and the green square is in the middle 
of the red-yellow segment). And that's exactly what I get. With a precision 
of sub-pixel.

Attached a ZIP with the source image and C source code used to generate it.

Command line used to warp : gdalwarp -tps src_grid.tif dst_grid.tif 

Best regards,

Even



Le Tuesday 04 May 2010 15:14:34 Jan Hartmann, vous avez ?crit?:
> Thanks, Jukka, that's exactly what I did. I used QGIS to test the
> coordinates in both images.
>
> Jan
>
> On 05/04/10 15:08, Jukka Rahkonen wrote:
> > Jan Hartmann<j.l.h.hartmann<at>  uva.nl>  writes:
> >> you can see a screenshot of the original image (right) and the
> >> georeferenced one (left, rotated almost 90 degrees). The red markers
> >> with the number 3 inside them show one of the control points: to the
> >> right the scan pixel  (5023/3421), to the left the targeted
> >> georeferenced coordinate in EPSG:28992 (121527/487174). As you see, the
> >> georeferenced point is not exactly on the border of parcel 7, as I
> >> expected. Above the map you see the four coordinates I used as control
> >> points; I added four extra points half way the original ones, so the
> >> complete warp was done with 8 control points.
> >
> > Hi,
> >
> > I can try to repeat your test some day. Is this your workflow:
> >
> > 1. gdal_translate -of VRT -gcp p1 l1 e1 n1 -gcp p2 l2 e2 n2 -gcp p3 l3 e3
> > n3 -gcp p4 l4 e4 n4 -gcp p5 l5 e5 n5 input.tif temp_with_gcp.vrt
> >
> > 2. gdalwarp -s_srs EPSG:28992 -t_srs EPSG:28992 -tps temp_with_gcp.vrt
> > warped.tif
> >
> > 3. Measure the coordinates of the ground control points from warped.tif
> >     with some GIS software like QGis and find out disappointed that
> >     they have shifted.
> >
> > -Jukka Rahkonen-
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Wed May  5 10:00:08 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May  5 10:00:21 2010
Subject: [gdal-dev] Error while Warping GTiff to EPSG3763
In-Reply-To: <l2ja75b68d61005050346j23b5c078wfb0aec39a77fe242@mail.gmail.com>
References: <h2ga75b68d61004270314zd557f2bbm5155739a91c00338@mail.gmail.com>
	<t2la75b68d61004270704q6473872bpcfe6b51d518bd1ad@mail.gmail.com>
	<4BD99996.2040604@pobox.com>
	<l2ma75b68d61004300734yd8999e33h9eed0376be8f1703@mail.gmail.com>
	<l2ja75b68d61005050346j23b5c078wfb0aec39a77fe242@mail.gmail.com>
Message-ID: <4BE179E8.5040704@pobox.com>

Franz Schiller wrote:
> Hello Frank. Did you manage to get any sucess with this?
> Thank you for your help

Franz,

Sorry for the delay in responding.  I moved my household over the weekend,
and only got back on the net last night.   I have reproduced your problem
and come to the conclusion that it is due to an incomplete coordinate system
in your source file that is being misinterpreted.   The listgeo report looks
like:

Geotiff_Information:
    Version: 1
    Key_Revision: 1.0
    Tagged_Information:
       ModelTiepointTag (2,3):
          0                0                0
          0                0                0
       ModelPixelScaleTag (1,3):
          0                0                0
       End_Of_Tags.
    Keyed_Information:
       GTModelTypeGeoKey (Short,1): ModelTypeGeographic
       GTRasterTypeGeoKey (Short,1): RasterPixelIsArea
       GeographicTypeGeoKey (Short,1): Unknown-65535
       GeogLinearUnitsGeoKey (Short,1): Linear_Meter
       GeogAngularUnitsGeoKey (Short,1): Linear_Meter
       ProjCoordTransGeoKey (Short,1): User-Defined
       End_Of_Keys.
    End_Of_Geotiff.

GDAL translates this to:

GEOGCS[,
     DATUM["unknown",
         SPHEROID["unretrievable - using WGS84",6378137,298.257223563]],
     PRIMEM["Greenwich",0],
     UNIT["metre",1]]

The key problem here is that the geographic coordinate system is not
being recognised as being in degrees, and so GDAL does not map it back
to radians before doing the transformation and things all go wrong.

The simple workaround is to include the "-s_srs WGS84" switch on the
commandline to override the source coordinate system and treat it as
normal WGS84.

eg.
gdalwarp -s_srs WGS84 -t_srs EPSG:3763 ROI_QB_MUL_2.tif out.tif

The geotags in the file are sufficiently malformed that I'm not
inclined to try and adjust how GDAL handles it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mika at digikartta.net  Wed May  5 11:13:03 2010
From: mika at digikartta.net (Mika Lehtonen)
Date: Wed May  5 11:19:09 2010
Subject: [gdal-dev] Embedding external TIFF overviews into GeoTiff
Message-ID: <4BE18AFF.5090407@digikartta.net>

Hi,
obviously Gdal can't swap external overview file(s) into internal in 
GeoTiff format, am I right?

I would like to use my own overviews in some Geotiffs and use them in 
Geoserver, but Geoserver can't handle external overviews. How 
complicated it would be to incorporate such a feature into Gdal? I don't 
mean that it would have to be included into new releases and it wouldn't 
have to cover more than just GeoTiff format with "normal" RGB-images. I 
could try to taylor my own Gdal-version, but I am not sure how big job 
that would be. I am not so much familiar with C, so the outcome 
would/will be a little bit 'quick'n'dirty anyway.

Any ideas?

Another approach is to embed GeoTiff tags into multipage tif, I guess. I 
know I can dump Geotiff header into file with listgeo, edit Tiff with 
some tool and copy header back with geotiffcp, but AFAIK this system 
doesn't support overviews, right?


with best regards,
Mika Lehtonen
From robert.zermeno at navy.mil  Wed May  5 13:42:14 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Wed May  5 13:42:18 2010
Subject: [gdal-dev] Manual JPEG2000 image data error returned by GDALRasterIO
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA9102EA4558@nawechlkez02v.nadsuswe.nads.navy.mil>

GDAL club,

I am using a test image, called world.jp2, you could download from http://www.microimages.com/gallery/jp2/, specifically, http://www.microimages.com/gallery/jp2/1.jp2.  I have made my own application to provide block segments viewing capabilities in both .jp2 and .tif format.

I converted this file, world.jp2 to world.tif, to test my code.  Objective is get a block of image data given xoff,yoff,xsize,ysize.  If the parameters go outside bounds, I manually readjust the xsize and ysize to what was given to what GDAL can actually retrieve using the xoff,yoff as my origin for new image.

This code works for .tif images.  I have tested it thoroughly and have not had any problems.  For .jp2 files, Whenever I acquire the bottom region of the file, the remaining 10 lines or so of the image, GDALRasterIO() returns bad values but it still does not give me an error.  Can someone duplicate this test case.  I believe it should be a new ticket, but I need confirmation first.

Detailed example test case that provides bad output: 
JPEG2000 Driver Using: KAKADU
File name: World.jp2
Size: Width = 800 Heigth = 400
pixelOffset = 0
lineOffset  = 100
usrImageWidth = 512
UsrImageHeight = 300

This will grab the bottom left corner of the image.  It correctly gives me the image data all the way up to approx. line 285 or 295...

Here is my code to parse through world.jp2 which is a RGB color format:

BYTE* __fastcall GeoJp2k::getImageBlockLocation(int pixelOffset, int lineOffset,
								int &usrImageWidth, int &UsrImageHeight)
      int imgLoc = 0;
      int requestedBlockHeight = 0;
	if(GDALGetOverviewCount(mainImageBand) > 0)
	{

		curError = CE_None; //Reset b4 reading in data...
		curGeoData->setImageColorFormat(GDALGetRasterColorInterpretation(mainImageBand));
            GDALColorInterp curColorFormat = curGeoData->getColorFormat();
		if(curColorFormat == GCI_GrayIndex)
		{
			//GrayScale format image...
			//removed for this purpose...	
		}
		else if(curColorFormat == GCI_RedBand)
		{
				//GCI_RedBand refers to RGB Format image...

			 //Image data in Bands
			 // GDALGetRasterBand() retrieves...
			 //Band 1:  RED
			 //Band 2:  GREEN
			 //Band 3:  BLUE
			GDALRasterBandH	RedBand, GreenBand, BlueBand;
			CPLErr RedError   = CE_None;
			CPLErr GreenError = CE_None;
			CPLErr BlueError  = CE_None;

			BYTE *RedStrip   = NULL; //
			BYTE *GreenStrip = NULL; //
			BYTE *BlueStrip  = NULL;

                RedStrip   = (BYTE *) malloc(usrImageWidth); //
                GreenStrip = (BYTE *) malloc(usrImageWidth); //
                BlueStrip  = (BYTE *) malloc(usrImageWidth); //
    

			//Retrieve the RGB colors....
			RedBand   = GDALGetRasterBand(fileDataset, 1);
			GreenBand = GDALGetRasterBand(fileDataset, 2);
			BlueBand  = GDALGetRasterBand(fileDataset, 3);

			for(int curRow =0; curRow < UsrImageHeight && curError == CE_None; curRow++)
			{

 
                     RedError   =				GDALRasterIO( RedBand, GF_Read,
                                                          pixelOffset,
                                                          lineOffset + curRow,
                                                          usrImageWidth,
                                                          1,
                                                          RedStrip,
                                                          usrImageWidth,
                                                          1,
                                                          GDT_Byte,
                                                          0,
                                                          0 );

                     GreenError =				GDALRasterIO( GreenBand, GF_Read,
                                                          pixelOffset ,
                                                          lineOffset + curRow,
                                                          usrImageWidth,
                                                          1,
                                                          GreenStrip,
                                                          usrImageWidth,
                                                          1,
                                                          GDT_Byte,
                                                          0,
                                                          0 );

                     BlueError  =				GDALRasterIO( BlueBand, GF_Read,
                                                          pixelOffset,
                                                          lineOffset + curRow,
                                                          usrImageWidth,
                                                          1,
                                                          BlueStrip,
                                                          usrImageWidth,
                                                          1,
                                                          GDT_Byte,
                                                          0,
                                                          0 );

                     if(RedError != CE_None || GreenError != CE_None || BlueError != CE_None)
                     {
                         //Error occured, return nothing to show error reading in bits...
                         return NULL;
                     }

                     //save out to output image buffer...
                    //Grab pixel per pixel
                    for(int col =0; col < usrImageWidth; col++)
                    {
                        imageBits[imgLoc++] = BlueStrip[col];
                        imageBits[imgLoc++] = GreenStrip[col];
                        imageBits[imgLoc++] = RedStrip[col];
                    }


			}//End of outer For

			//Free memory...
			free(RedStrip);
			free(BlueStrip);
			free(GreenStrip);
            RedStrip = NULL;
            BlueStrip = NULL;
            GreenStrip = NULL;            
			GDALClose(RedBand);
			GDALClose(BlueBand);
			GDALClose(GreenBand);
		} 


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100505/00ac8725/smime.bin
From warmerdam at pobox.com  Wed May  5 15:21:32 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May  5 15:21:44 2010
Subject: [gdal-dev] Manual JPEG2000 image data error returned by
	GDALRasterIO
In-Reply-To: <F8A8A114E3F41D4D9157F1BECCA3BA9102EA4558@nawechlkez02v.nadsuswe.nads.navy.mil>
References: <F8A8A114E3F41D4D9157F1BECCA3BA9102EA4558@nawechlkez02v.nadsuswe.nads.navy.mil>
Message-ID: <4BE1C53C.6030407@pobox.com>

Zermeno, Robert J CIV NAVAIR, 472100D wrote:
> GDAL club,
> 
> I am using a test image, called world.jp2, you could download from http://www.microimages.com/gallery/jp2/, specifically, http://www.microimages.com/gallery/jp2/1.jp2.  I have made my own application to provide block segments viewing capabilities in both .jp2 and .tif format.
> 
> I converted this file, world.jp2 to world.tif, to test my code.  Objective is get a block of image data given xoff,yoff,xsize,ysize.  If the parameters go outside bounds, I manually readjust the xsize and ysize to what was given to what GDAL can actually retrieve using the xoff,yoff as my origin for new image.
> 
> This code works for .tif images.  I have tested it thoroughly and have not had any problems.  For .jp2 files, Whenever I acquire the bottom region of the file, the remaining 10 lines or so of the image, GDALRasterIO() returns bad values but it still does not give me an error.  Can someone duplicate this test case.  I believe it should be a new ticket, but I need confirmation first.
> 
> Detailed example test case that provides bad output: 
> JPEG2000 Driver Using: KAKADU
> File name: World.jp2
> Size: Width = 800 Heigth = 400
> pixelOffset = 0
> lineOffset  = 100
> usrImageWidth = 512
> UsrImageHeight = 300
> 
> This will grab the bottom left corner of the image.  It correctly gives me the image data all the way up to approx. line 285 or 295...
> 

Robert,

I fetched the file, and tried this gdal_translate command without any
apparent problems:

   gdal_translate -srcwin 0 100 512 300 1.jp2 out.tif

I skimmed your code and didn't see any issues, but I did not take the time
to review it carefully.  I'd encourage you to try and reproduce the problem
with gdal_translate.  You might also want to try enabling debugging to get
an idea of what is going on internally.  For gdal_translate this can be
done by including "--debug on" on the commandline.  For your own program
you could do it by ensuring the CPL_DEBUG environment variable is set to ON.

I see something like:

warmerda@gdal64[113]% gdal_translate -srcwin 0 100 512 300 1.jp2 out.tif
JP2KAK: Using 1 threads.
JP2KAK: Cuse_precincts=0, PreferNonPersistentReads=0
JP2KAK: order=LRCP
JP2KAK: ycc=true
JP2KAK: nResCount=2
GDAL: GDALOpen(1.jp2, this=0x204dc00) succeeds as JP2KAK.
Input file size is 800, 400
GDAL: QuietDelete(out.tif) invoking Delete()
GDAL: GDALOpen(out.tif, this=0x20682a0) succeeds as GTiff.
GDAL: GDALClose(out.tif, this=0x20682a0)
0GDAL: GDALOpen(GTIFF_RAW:out.tif, this=0x2067ca0) succeeds as GTiff.
GDAL: GDALDatasetCopyWholeRaster(): 512*300 swaths, bInterleave=1
JP2KAK: DirectRasterIO() for 0,100,512,300 -> 512x300 (no intermediate)
JP2KAK: DirectRasterIO() for 0,100,512,300 -> 512x300 (no intermediate)
JP2KAK: DirectRasterIO() for 0,100,512,300 -> 512x300 (no intermediate)
...10...20...30...40...50...60...70...80...90...100 - done.
GDAL: GDALClose(out.tif, this=0x2067ca0)
GDAL: GDALClose(, this=0x204ce10)
GDAL: GDALClose(1.jp2, this=0x204dc00)
GDAL: GDALDeregister_GTiff() called.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed May  5 15:28:39 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May  5 15:28:51 2010
Subject: [gdal-dev] Embedding external TIFF overviews into GeoTiff
In-Reply-To: <4BE18AFF.5090407@digikartta.net>
References: <4BE18AFF.5090407@digikartta.net>
Message-ID: <4BE1C6E7.6050805@pobox.com>

Mika Lehtonen wrote:
> Hi,
> obviously Gdal can't swap external overview file(s) into internal in 
> GeoTiff format, am I right?
> 
> I would like to use my own overviews in some Geotiffs and use them in 
> Geoserver, but Geoserver can't handle external overviews. How 
> complicated it would be to incorporate such a feature into Gdal? I don't 
> mean that it would have to be included into new releases and it wouldn't 
> have to cover more than just GeoTiff format with "normal" RGB-images. I 
> could try to taylor my own Gdal-version, but I am not sure how big job 
> that would be. I am not so much familiar with C, so the outcome 
> would/will be a little bit 'quick'n'dirty anyway.
> 
> Any ideas?

Mika,

I would use GDAL to generate normal overviews, and then copy over them
from your overviews using normal RasterIO() facilities against the
overviews.  So, use GetOverview() to fetch particular overview layers as
a GDALRasterBand and then use RasterIO() to write your imagery to them.

> Another approach is to embed GeoTiff tags into multipage tif, I guess. I 
> know I can dump Geotiff header into file with listgeo, edit Tiff with 
> some tool and copy header back with geotiffcp, but AFAIK this system 
> doesn't support overviews, right?

Note that it is not normal practice to set geotiff tags on overviews - at
least not in GDAL.  Is this required by GeoServer?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmichael.aye at gmail.com  Thu May  6 06:39:04 2010
From: kmichael.aye at gmail.com (K.-Michael Aye)
Date: Thu May  6 06:39:29 2010
Subject: [gdal-dev] Re: KyngChaos Frameworks: GDAL's numpy vs Enthought's
	numpy
References: <hqhn5d$h38$1@dough.gmane.org> <hrenfa$3ac$1@dough.gmane.org>
	<0DB259F9-281F-4532-AF0B-A14DF95D3E50@kyngchaos.com>
	<hrpadi$3pm$1@dough.gmane.org>
	<3A8823D4-55F0-436C-8949-920FAAB9BFD3@kyngchaos.com>
Message-ID: <hru688$48h$1@dough.gmane.org>

I didn't want to leave this uncommented. For some reason it works for 
me now, see below my protocol of trying out, I guess it's some deeper 
story within numpy.

Here is my protocol, showing that EPD's python/matplotlib.pylab has no 
problem with numpy's 1.4.1 of GDAL 1.7 but for sure a problem with the 
numpy 1.3.0: (This was exactly like that before with GDAL1.7 when it 
still had numpy1.3 but I can't show it anymore, obviously)

aye@paradigm: site-packages$ pwd
/Users/aye/Library/Python/2.6/site-packages
aye@paradigm: site-packages$ ll gdal*
-rw-r--r-- ?1 aye ?staff ??102B ?4 May 17:52 gdal.pth
aye@paradigm: site-packages$ cat gdal.pth
import sys; 
sys.path.insert(0,'/Library/Frameworks/GDAL.framework/Versions/1.6/Python/site-packages')
aye@paradigm: 

site-packages$ python
Enthought Python Distribution -- http://www.enthought.com
Version: 6.1-1 (32-bit)

Python 2.6.4 |EPD 6.1-1 (32-bit)| (r264:75706, Dec 11 2009, 10:58:54)
[GCC 4.0.1 (Apple Inc. build 5465)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
import numpy
numpy.__version__
'1.3.0'
from matplotlib.pylab import *
Bus error
aye@paradigm: site-packages$ sed 's/1.6/1.7/' gdal.pth > tmp;mv tmp gdal.pth
aye@paradigm: site-packages$ cat gdal.pth
import sys; 
sys.path.insert(0,'/Library/Frameworks/GDAL.framework/Versions/1.7/Python/site-packages')
aye@paradigm: 

site-packages$ python
Enthought Python Distribution -- http://www.enthought.com
Version: 6.1-1 (32-bit)

Python 2.6.4 |EPD 6.1-1 (32-bit)| (r264:75706, Dec 11 2009, 10:58:54)
[GCC 4.0.1 (Apple Inc. build 5465)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
import numpy
numpy.__version__
'1.4.1'
from matplotlib.pylab import *

At this point I got my prompt back and no bus error. I of course tested 
further and was able to use ReadAsArray to get data and imshow to plot 
it.
Anyhow, it works for me, so I'm happy.

Best regards,
Michael

On 2010-05-04 16:30:53 +0200, William Kyngesburye said:

> Huh, did Enthought update their numpy also?  If not, I'd expect the 
> sameproblems.
> 
> On May 4, 2010, at 9:19 AM, K.-Michael Aye wrote:
> 
>> ahh, thank you very much! Thanks to your update using Numpy1.4.1 
>> Isuccessfully married your GDAL frameworks with EPD.
>> and I lived happily ever after having all I needed.. (that is, untilthe 
>> next cool software comes along. ;)
>> 
>> Have a great week!
>> Best regards,
>> Michael
>> 
>> On 2010-04-30 16:13:35 +0200, William Kyngesburye said:
>> 
>>> Thanks.  I probably would have forgotten to check before 
>>> buildingandpackaging GDAL 1.7.2 this weekend.
>>> On Apr 30, 2010, at 8:54 AM, K.-Michael Aye wrote:
>>>> Hi William,
>>>> Numpy1.4.1 has been released, just to let you know. *hint,hint* ;)
>>>> Best regards and a nice weekend!
>>>> Michael
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> -----
>>> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
>>> http://www.kyngchaos.com/
>>> "The beast is actively interested only in now, and, as it is 
>>> alwaysnowand always shall be, there is an eternity of time for 
>>> theaccomplishmentof objects."
>>> - the wisdom of Tarzan
>> 
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "The beast is actively interested only in now, and, as it is always 
> nowand always shall be, there is an eternity of time for the 
> accomplishmentof objects."
> 
> - the wisdom of Tarzan



From kmichael.aye at gmail.com  Thu May  6 06:56:58 2010
From: kmichael.aye at gmail.com (K.-Michael Aye)
Date: Thu May  6 06:57:18 2010
Subject: [gdal-dev] Driver registering in Python required?
Message-ID: <hru79q$7s3$1@dough.gmane.org>

Dear all,

is registering of drivers still (or at all) required in Python?
In the API tutorial i see:

import gdal
from gdalconst import *

dataset = gdal.Open( filename, GA_ReadOnly )
if dataset is None:
        ...

I am just puzzled because the first sentence of the tutorial states 
it's required, and then nothing like that can be seen in Python. The 
gdalconst import * can't have anything to do with it , can it?

I do opening of images for reading currently successfully, but was 
wondering if i was just lucky and something could go wrong.

Best regards,
Michael


From warmerdam at pobox.com  Thu May  6 09:27:25 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May  6 09:27:36 2010
Subject: [gdal-dev] Driver registering in Python required?
In-Reply-To: <hru79q$7s3$1@dough.gmane.org>
References: <hru79q$7s3$1@dough.gmane.org>
Message-ID: <4BE2C3BD.2000009@pobox.com>

K.-Michael Aye wrote:
> Dear all,
> 
> is registering of drivers still (or at all) required in Python?
> In the API tutorial i see:
> 
> import gdal
> from gdalconst import *
> 
> dataset = gdal.Open( filename, GA_ReadOnly )
> if dataset is None:
>        ...
> 
> I am just puzzled because the first sentence of the tutorial states it's 
> required, and then nothing like that can be seen in Python. The 
> gdalconst import * can't have anything to do with it , can it?
> 
> I do opening of images for reading currently successfully, but was 
> wondering if i was just lucky and something could go wrong.

K.-Michael,

Python automatically calls GDALAllRegister() when the gdal module is
imported so it is not needed in the python case. I have updated the
tutorial to reflect this.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From arongone at aer.com  Thu May  6 11:55:11 2010
From: arongone at aer.com (Allen Rongone)
Date: Thu May  6 11:54:59 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
Message-ID: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>

Hello All,

	New here so don't beat me up to bad.

	I'm trying to get the GDAL module to install on a Red Hat Enterprise  
Linux 5.4 64-bit workstation running Python 2.6.5.

	I have installed the setuptools 0.6c11 and am using easy_install

	My gdal-config is in /usr/bin, however, when I run easy_install GDAL  
it complains that it "Could not run gdal-config!!!" and then contiues  
on complaining about a bunch of stuff not
	being declared.

	I can not find the setup.py to edit and change the location of gdal- 
config. easy_install must clean everything up if it fails.



	Does anyone know how to get this to work or will we have to do  
without GDAL in python?

Thanks for any help,
Allen

I've included everything I thought pertinent below:


[root@psd14 ~]# uname -a
Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST  
2010 x86_64 x86_64 x86_64 GNU/Linux
[root@psd14 ~]# python
Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
[GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
 >>>
KeyboardInterrupt
 >>>
[root@psd14 ~]# which gdal-config
/usr/bin/gdal-config
[root@psd14 ~]# easy_install GDAL
Searching for GDAL
Reading http://pypi.python.org/simple/GDAL/
Reading http://www.gdal.org
Best match: GDAL 1.7.1
Downloading http://pypi.python.org/packages/source/G/GDAL/GDAL-1.7.1.tar.gz#md5 
=38b838d528b309a28a3aa24d4fcef3cd
Processing GDAL-1.7.1.tar.gz
Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install- 
eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
Could not run gdal-config!!!!
cc1plus: warning: command line option "-Wstrict-prototypes" is valid  
for Ada/C/ObjC but not for C++
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const char*)$ 
(B!G(B:
extensions/gdal_wrap.cpp:3371: error: $(B!F(BGDALRenameDataset$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr  
GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
extensions/gdal_wrap.cpp:3744: error: $(B! 
F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bchar**  
GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*  
GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr  
GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*, int)$(B! 
G(B:
extensions/gdal_wrap.cpp:4083: error: $(B!F(BGDALCreateMaskBand$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bvoid  
GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int, const  
GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
extensions/gdal_wrap.cpp:4147: error: $(B!F(BGDALCreateColorRamp$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*, char**,  
int (*)(double, const char*, void*), void*)$(B!G(B:
extensions/gdal_wrap.cpp:4306: error: $(B!F(BGDALComputeProximity$ 
(B!G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,  
void*, int, double*, char**, int (*)(double, const char*, void*),  
void*)$(B!G(B:
extensions/gdal_wrap.cpp:4342: error: $(B!F(BGDALRasterizeLayers$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,  
OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),  
void*)$(B!G(B:
extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B!G(B  
was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,  
char**, int (*)(double, const char*, void*), void*)$(B!G(B:
extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B!G(B  
was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,  
GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,  
void*), void*)$(B!G(B:
extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
RegenerateOverviews(GDALRasterBandShadow*, int,  
GDALRasterBandShadow**, const char*, int (*)(double, const char*,  
void*), void*)$(B!G(B:
extensions/gdal_wrap.cpp:4408: error: invalid conversion from $(B! 
F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand*$(B!G
(Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1 of  
$(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,  
GDALRasterBand**, const char*, int (*)(double, const char*, void*),  
void*)$(B!G
(Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from $(B! 
F(BGDALRasterBandShadow**$(B!G(B to $(B!F(BGDALRasterBand**$(B!G
(Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3 of  
$(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,  
GDALRasterBand**, const char*, int (*)(double, const char*, void*),  
void*)$(B!G
(Bextensions/gdal_wrap.cpp: In function $(B!F(Bint  
RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*, const  
char*, int (*)(double, const char*, void*), void*)$(B!G(B:
extensions/gdal_wrap.cpp:4421: error: invalid conversion from $(B! 
F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand*$(B!G
(Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1 of  
$(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,  
GDALRasterBand**, const char*, int (*)(double, const char*, void*),  
void*)$(B!G
(Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from $(B! 
F(BGDALRasterBandShadow**$(B!G(B to $(B!F(BGDALRasterBand**$(B!G
(Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3 of  
$(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,  
GDALRasterBand**, const char*, int (*)(double, const char*, void*),  
void*)$(B!G
(Bextensions/gdal_wrap.cpp: In function $(B! 
F(BGDALTransformerInfoShadow*  
new_GDALTransformerInfoShadow(GDALDatasetShadow*, GDALDatasetShadow*,  
char**)$(B!G(B:
extensions/gdal_wrap.cpp:4445: error: $(B! 
F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared in this  
scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
GDALTransformerInfoShadow_TransformPoint__SWIG_0 
(GDALTransformerInfoShadow*, int, double*)$(B!G(B:
extensions/gdal_wrap.cpp:4456: error: $(B!F(BGDALUseTransformer$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
GDALTransformerInfoShadow_TransformPoint__SWIG_1 
(GDALTransformerInfoShadow*, double*, int, double, double, double)$(B! 
G(B:
extensions/gdal_wrap.cpp:4468: error: $(B!F(BGDALUseTransformer$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(Bint  
GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,  
int, int, double*, double*, double*, int*)$(B!G(B:
extensions/gdal_wrap.cpp:4550: error: $(B!F(BGDALUseTransformer$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*  
IdentifyDriver(const char*, char**)$(B!G(B:
extensions/gdal_wrap.cpp:4661: error: $(B!F(BGDALIdentifyDriver$(B! 
G(B was not declared in this scope
extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*  
_wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B was  
not declared in this scope
error: Setup script exited with error: command 'gcc' failed with exit  
status 1
[root@psd14 ~]#

From ari.jolma at gmail.com  Thu May  6 12:43:09 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Thu May  6 12:49:30 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
Message-ID: <4BE2F19D.8040500@gmail.com>

Allen Rongone wrote:
>     I have installed the setuptools 0.6c11 and am using easy_install
>
>     My gdal-config is in /usr/bin, however, when I run easy_install 
> GDAL it complains that it "Could not run gdal-config!!!" and then 
> contiues on complaining about a bunch of stuff not being declared.

This is really for Howard or some other Python guru but I took a look 
out of curiosity. I downloaded the GDAL package from pypi.python.org and 
run the setup.py from there. It also complains me about not finding 
gdal-config, which I have in the path, but it really seems to be looking 
for ../../apps/gdal-config

Also interestingly, it complains not finding swq.h, which is kind of bug 
I've reported (http://trac.osgeo.org/gdal/ticket/3468).

So it seems to me that the setup.py was designed to be run in 
gdal/swig/python.

In fact the case is a bit similar with GDAL-Perl, which is difficult to 
run and not really designed to be run outside of gdal/swig/perl ... This 
seems a good occasion to remind myself and other developers again that 
I'd really like to have gdal.pc (see 
http://pkg-config.freedesktop.org/wiki/).

Ari

From Chris.Barker at noaa.gov  Thu May  6 13:01:35 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Thu May  6 13:01:40 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
Message-ID: <4BE2F5EF.3040801@noaa.gov>

Allen Rongone wrote:
>     I can not find the setup.py to edit and change the location of 
> gdal-config. easy_install must clean everything up if it fails.

yes, it's a bit annoying that way.

>     Does anyone know how to get this to work or will we have to do 
> without GDAL in python?

I"d do without easy-install instead.

Download the source yourself, and try to run that setup.py -- See Ari's 
not for a hint or two that might help.

If that doesn't work, post again here.

-Chris



-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From arongone at aer.com  Thu May  6 13:12:27 2010
From: arongone at aer.com (Allen Rongone)
Date: Thu May  6 13:12:30 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <4BE2F2B6.9030005@ucar.edu>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
Message-ID: <70E4FED3-8593-4EBB-8929-0A0719F67365@aer.com>

Brice,

On May 6, 2010, at 12:47 PM, Brice Lambi wrote:

> Hi Allen,
>
> Are you compiling from source?

	- No, I'm using easy_install which came with setuptools. We are  
building about 30 packages that we need to push out to 50 workstations  
for our developers.
	  I was hoping to avoid building everything from source as much as  
possible, as I am going to have to script all this to get it to all  
the workstations. So easy_install
	  looked good for all the python modules we have to install.

> When I install gdal python I just go
> into the swig/python directory and run 'python setup.py install'.   
> This
> should work.  The steps I take:
>
> tar zxvf gdal-1.7.1.tar.gz
> cd gdal-1.7.1
> ./configure --prefix=/usr
> make
> make install #run as root
> cd swig/python
> python setup.py install #run as root

	- I will give this a try.
>
> Hope this helps.

	Thank you very much.

>
> Cheers,
> Brice
>
>
> Allen Rongone wrote:
>> Hello All,
>>
>>    New here so don't beat me up to bad.
>>
>>    I'm trying to get the GDAL module to install on a Red Hat  
>> Enterprise
>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>
>>    I have installed the setuptools 0.6c11 and am using easy_install
>>
>>    My gdal-config is in /usr/bin, however, when I run easy_install  
>> GDAL
>> it complains that it "Could not run gdal-config!!!" and then  
>> contiues on
>> complaining about a bunch of stuff not
>>    being declared.
>>
>>    I can not find the setup.py to edit and change the location of
>> gdal-config. easy_install must clean everything up if it fails.
>>
>>
>>
>>    Does anyone know how to get this to work or will we have to do
>> without GDAL in python?
>>
>> Thanks for any help,
>> Allen
>>
>> I've included everything I thought pertinent below:
>>
>>
>> [root@psd14 ~]# uname -a
>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST
>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>> [root@psd14 ~]# python
>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>> Type "help", "copyright", "credits" or "license" for more  
>> information.
>>>>>
>> KeyboardInterrupt
>>>>>
>> [root@psd14 ~]# which gdal-config
>> /usr/bin/gdal-config
>> [root@psd14 ~]# easy_install GDAL
>> Searching for GDAL
>> Reading http://pypi.python.org/simple/GDAL/
>> Reading http://www.gdal.org
>> Best match: GDAL 1.7.1
>> Downloading
>> http://pypi.python.org/packages/source/G/GDAL/ 
>> GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>
>> Processing GDAL-1.7.1.tar.gz
>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>> Could not run gdal-config!!!!
>> cc1plus: warning: command line option "-Wstrict-prototypes" is  
>> valid for
>> Ada/C/ObjC but not for C++
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>> char*)$(B!G(B:
>> extensions/gdal_wrap.cpp:3371: error:
>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>> extensions/gdal_wrap.cpp:3744: error:
>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in  
>> this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*, int)$(B! 
>> G(B:
>> extensions/gdal_wrap.cpp:4083: error:
>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int,  
>> const
>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4147: error:
>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>> char**,
>> int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4306: error:
>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,
>> void*, int, double*, char**, int (*)(double, const char*, void*),
>> void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4342: error:
>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>> void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,
>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,
>> void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RegenerateOverviews(GDALRasterBandShadow*, int,  
>> GDALRasterBandShadow**,
>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand* 
>> $(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow**$(B!G(B to $(B! 
>> F(BGDALRasterBand**$(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>> const
>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand* 
>> $(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow**$(B!G(B to $(B! 
>> F(BGDALRasterBand**$(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp: In function
>> $(B!F(BGDALTransformerInfoShadow*
>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>> GDALDatasetShadow*, char**)$(B!G(B:
>> extensions/gdal_wrap.cpp:4445: error:
>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared  
>> in
>> this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoint__SWIG_0 
>> (GDALTransformerInfoShadow*,
>> int, double*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4456: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoint__SWIG_1 
>> (GDALTransformerInfoShadow*,
>> double*, int, double, double, double)$(B!G(B:
>> extensions/gdal_wrap.cpp:4468: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>> int, int, double*, double*, double*, int*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4550: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>> IdentifyDriver(const char*, char**)$(B!G(B:
>> extensions/gdal_wrap.cpp:4661: error:
>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B  
>> was
>> not declared in this scope
>> error: Setup script exited with error: command 'gcc' failed with exit
>> status 1
>> [root@psd14 ~]#
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From anaumov at gmail.com  Thu May  6 14:28:39 2010
From: anaumov at gmail.com (Aleksey Naumov)
Date: Thu May  6 14:28:41 2010
Subject: [gdal-dev] Installing additional packages for python in OSGeo4W
Message-ID: <s2u1fc68841005061128vca221385u8049c0a8aa9d913a@mail.gmail.com>

Dear GDAL experts,

What is the best/recommended way to install additional python packages for
the Python bundled with OSGeo4W (currently 2.5.2)? Specifically, I am
looking for the following packages (which do not seem to be available via
the OSGeo4W installer; neither should they be, necessarily):
  - IPython
  - SQLAlchemy
  - xlrd (module to read Excel files)

I am still struggling with assembling on my Windows machine a complete
Python/GDAL toolchain (python, GDAL utility programs and python bindings),
which could also include other add-on modules (such as those listed above).
As per responses (thank you!) to my earlier posting (
http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg04681.html) I am
trying to build this toolset with OSGeo4W.

I also tried assembling the toolset using just a standard Python 2.5
installation (python.org), combined with easy_install for xlrd and
sqlalchemy. However, I could not install GDAL, neither via easy_install
(could not compile since I did not have Visual Studio 2003; even though I
had VS 2005), nor following instructions on the GDAL page at PYPI (
http://pypi.python.org/pypi/GDAL/). On the PYPI page the link to "GDAL
Python Bindings" points to the page itself, and I have no idea where to get
the actual download (expected to see something like
GDAL-1.6.0.win32-py2.5.exe).

So, any advice on how to make all these pieces work together is greatly
appreciated. Once again, the required pieces are: Windows, Python 2.5, GDAL
(utility programs & python bindings), IPython, SQLAlchemy, xlrd (+ ability
to install other add-on packages).

Thank you,

Aleksey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100506/14eee592/attachment.html
From robert.zermeno at navy.mil  Thu May  6 15:10:14 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Thu May  6 15:10:20 2010
Subject: [gdal-dev] CPLMalloc() and CPLFree() issues....
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA9102EA49B2@nawechlkez02v.nadsuswe.nads.navy.mil>

I have been using the standard malloc, but trying to use CPLMalloc() with CPLFree().  I have a function that will provide a user with different image blocks given specified location.

So, a function will get repeatedly called to grab the new image data content.  On the first round, I can successfully perform CPLMalloc() and CPLFree().  However, on the second pass, I get a runtime requested error that terminates my program when I do another CPLMalloc(). 

Can anyone think why I might be receiving this error message?

This so far has only happened on RGB images where I have to CPLMalloc() three times on the current image.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100506/767b5add/smime-0001.bin
From warmerdam at pobox.com  Thu May  6 15:38:53 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May  6 15:39:05 2010
Subject: [gdal-dev] CPLMalloc() and CPLFree() issues....
In-Reply-To: <F8A8A114E3F41D4D9157F1BECCA3BA9102EA49B2@nawechlkez02v.nadsuswe.nads.navy.mil>
References: <F8A8A114E3F41D4D9157F1BECCA3BA9102EA49B2@nawechlkez02v.nadsuswe.nads.navy.mil>
Message-ID: <4BE31ACD.3000107@pobox.com>

Zermeno, Robert J CIV NAVAIR, 472100D wrote:
> I have been using the standard malloc, but trying to use CPLMalloc() with
> CPLFree().  I have a function that will provide a user with different image
> blocks given specified location.
> 
> So, a function will get repeatedly called to grab the new image data
> content.  On the first round, I can successfully perform CPLMalloc() and
> CPLFree().  However, on the second pass, I get a runtime requested error
> that terminates my program when I do another CPLMalloc().
> 
> Can anyone think why I might be receiving this error message?
> 
> This so far has only happened on RGB images where I have to CPLMalloc()
> three times on the current image.

Robert,

This almost certainly indicates you have corrupted the heap somehow.  I would
check that you aren't double freeing anything and that you are actually
allocating enough memory.  Memory debugging tools like "valgrind" on linux
may help you isolate the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From matt.wilkie at gov.yk.ca  Thu May  6 15:39:17 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Thu May  6 15:40:32 2010
Subject: [gdal-dev] Installing additional packages for python in OSGeo4W
In-Reply-To: <s2u1fc68841005061128vca221385u8049c0a8aa9d913a@mail.gmail.com>
References: <s2u1fc68841005061128vca221385u8049c0a8aa9d913a@mail.gmail.com>
Message-ID: <4BE31AE5.3040907@gov.yk.ca>

Hi Aleksey,

With regard to ipython, if you register the o4w python with windows[1] 
you should be able to run the standard ipy windows installer, which will 
put ipy in %pythonhome%\Lib\site-packages. This may work for the other 
extra programs too.

[1] optional package to register python in Windows registry - 
http://trac.osgeo.org/osgeo4w/ticket/114

Longer term, I'd like see ipython added to the o4w packages list, but 
have not had the time to devote to it yet.

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


On 06/05/2010 11:28 AM, Aleksey Naumov wrote:
> Dear GDAL experts,
>
> What is the best/recommended way to install additional python packages 
> for the Python bundled with OSGeo4W (currently 2.5.2)? Specifically, I 
> am looking for the following packages (which do not seem to be 
> available via the OSGeo4W installer; neither should they be, necessarily):
>   - IPython
>   - SQLAlchemy
>   - xlrd (module to read Excel files)
>
> I am still struggling with assembling on my Windows machine a complete 
> Python/GDAL toolchain (python, GDAL utility programs and python 
> bindings), which could also include other add-on modules (such as 
> those listed above). As per responses (thank you!) to my earlier 
> posting 
> (http://www.mail-archive.com/gdal-dev@lists.osgeo.org/msg04681.html) I 
> am trying to build this toolset with OSGeo4W.
>
> I also tried assembling the toolset using just a standard Python 2.5 
> installation (python.org <http://python.org>), combined with 
> easy_install for xlrd and sqlalchemy. However, I could not install 
> GDAL, neither via easy_install (could not compile since I did not have 
> Visual Studio 2003; even though I had VS 2005), nor following 
> instructions on the GDAL page at PYPI 
> (http://pypi.python.org/pypi/GDAL/). On the PYPI page the link to 
> "GDAL Python Bindings" points to the page itself, and I have no idea 
> where to get the actual download (expected to see something like 
> GDAL-1.6.0.win32-py2.5.exe).
>
> So, any advice on how to make all these pieces work together is 
> greatly appreciated. Once again, the required pieces are: Windows, 
> Python 2.5, GDAL (utility programs & python bindings), IPython, 
> SQLAlchemy, xlrd (+ ability to install other add-on packages).
>
> Thank you,
>
> Aleksey
>
From JARED.RUBIN at saic.com  Thu May  6 17:09:52 2010
From: JARED.RUBIN at saic.com (Rubin, Jared)
Date: Thu May  6 17:24:57 2010
Subject: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
Message-ID: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>

I am using gdal-1.6.2 (version not important) and would like for gdalinfo to generate  .aux.xml files  for NITF files that I have on disk, is this possible?
If this is possible, will gdalinfo just load an  image.nitf.aux.xml file instead of image.nitf?

Thanks
Jared
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100506/270e9be0/attachment.html
From chaitanya.ch at gmail.com  Fri May  7 01:43:53 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri May  7 01:43:57 2010
Subject: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
In-Reply-To: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>
References: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>
Message-ID: <n2oeb502d881005062243u2f482c3fxf5f9a8b7616912d8@mail.gmail.com>

Jared,

For gdalinfo to create .aux.xml files, you just need to force it to compute
some metadata not stored in the file.

On Fri, May 7, 2010 at 2:39 AM, Rubin, Jared <JARED.RUBIN@saic.com> wrote:

>  I am using gdal-1.6.2 (version not important) and would like for gdalinfo
> to generate  .aux.xml files  for NITF files that I have on disk, is this
> possible?
> If this is possible, will gdalinfo just load an  image.nitf.aux.xml file
> instead of image.nitf?
>
> Thanks
> Jared
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100507/caa845bf/attachment.html
From peter.hopfgartner at r3-gis.com  Fri May  7 10:53:53 2010
From: peter.hopfgartner at r3-gis.com (Peter Hopfgartner)
Date: Fri May  7 10:53:58 2010
Subject: [gdal-dev] Compilation problems on CentOS 5
Message-ID: <1273244033.4102.6.camel@peter-laptop>

Hello

I'm trying to compile GDAL 1.7.2 on my CentOS 5.4, 64 bit box. Configure
is basically "enable Oracle, disable almost anything else":

./configure --without-php --without-python --without-perl --with-oci
--with-ecw --with-libtiff=internal --with-geotiff=internal
--with-netcdf=no --with-cfitsio=no

Compilation stops with:

libtool: link: g++ .libs/gdalinfo.o
-o .libs/gdalinfo  /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so
-Wl,-rpath -Wl,/usr/local/lib
/home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so: undefined reference to
`XML_StopParser'
collect2: ld returned 1 exit status
make[1]: *** [gdalinfo] Error 1
make[1]: Leaving directory `/home/rpmbuild/tmp/gdal-1.7.2/apps'
make: *** [apps-target] Error 2

Where should the symbol "XML_StopParser" come from?

The same configure works perfectly with 1.6.3 on the same box.

Regards,

peter



-- 
Dott. Peter Hopfgartner

R3 GIS Srl - GmbH
Via Johann Kravogl-Str. 2
I-39012 Meran/Merano (BZ)
Email: peter.hopfgartner@r3-gis.com
Tel. : +39 0473 494949
Fax  : +39 0473 069902
www  : http://www.r3-gis.com

XING : http://www.xing.com/go/invita/8917535

From warmerdam at pobox.com  Fri May  7 11:36:28 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May  7 11:36:39 2010
Subject: [gdal-dev] Compilation problems on CentOS 5
In-Reply-To: <1273244033.4102.6.camel@peter-laptop>
References: <1273244033.4102.6.camel@peter-laptop>
Message-ID: <4BE4337C.2070500@pobox.com>

Peter Hopfgartner wrote:
> Hello
> 
> I'm trying to compile GDAL 1.7.2 on my CentOS 5.4, 64 bit box. Configure
> is basically "enable Oracle, disable almost anything else":
> 
> ./configure --without-php --without-python --without-perl --with-oci
> --with-ecw --with-libtiff=internal --with-geotiff=internal
> --with-netcdf=no --with-cfitsio=no
> 
> Compilation stops with:
> 
> libtool: link: g++ .libs/gdalinfo.o
> -o .libs/gdalinfo  /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so
> -Wl,-rpath -Wl,/usr/local/lib
> /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so: undefined reference to
> `XML_StopParser'
> collect2: ld returned 1 exit status
> make[1]: *** [gdalinfo] Error 1
> make[1]: Leaving directory `/home/rpmbuild/tmp/gdal-1.7.2/apps'
> make: *** [apps-target] Error 2
> 
> Where should the symbol "XML_StopParser" come from?

Peter,

This is part of the expat library.  You could try configuring --without-expat
to doing a clean build.  I'm guessing you have a version of expat that is too
old, or too new and lacks XML_StopParser.  If you could provide version
information it might make it possible for us to dig further into the issue.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From j.l.h.hartmann at uva.nl  Fri May  7 13:19:06 2010
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Fri May  7 13:19:14 2010
Subject: [gdal-dev] Re: Thin Plate Spline
In-Reply-To: <201005042109.34965.even.rouault@mines-paris.org>
References: <4BD22E36.9070506@pobox.com>
	<loom.20100504T145455-688@post.gmane.org> <4BE01DBA.4090301@uva.nl>
	<201005042109.34965.even.rouault@mines-paris.org>
Message-ID: <4BE44B8A.7050009@uva.nl>

Got the @#$% problem. Nothing to do with GDAL, it's the way QGIS handles 
WMS requests. I wrote a small PHP mapscript to retrieve raw raster files 
as a WMS service, to be able to view them in QGIS and to sample control 
points. For some reason I put a 100 pixel margin in the extents of the 
GetCapabilities request. QGIS caches those extents and uses them with 
each following GetMap request, disregarding the actual extents of the 
raster file. Not sure if it should do this, but even if not, it was a 
bad idea to create that margin.

Anyway, I'm glad I got that devil's error. It's treacheous: the 
displacements are very small and don't look like regular rotations or 
translations (when you use thin plate warping). I've been showing those 
georeferenced map overlaid over Google satellite to people over here in 
Amsterdam, and they immediately noticed the displacements in their back 
gardens. Being Dutch they then started talking enthusiastically about 
suing the government over their land tax assessment. Can you imagine the 
horror when "tout Amsterdam" would be disputing their taxes on the basis 
on this magnificent piece of Open Source software?

Mind, I'm reasonably sure there are lots of errors in the present 
digitized cadastral maps compared to their historical sources, as soon 
you are going to look on meter-level accuracy. See for comparable 
problems in Great Brittain 
http://www.ordnancesurvey.co.uk/oswebsite/pai/ (thanks, Peter Hall, for 
the link and other comments). However, before we open that can of worms 
over here, I want to be absolutely sure that at least my own  technology 
is right, preferably at sub-pixel level, as it now is.

Thanks too Jukka and Even for confirming so quickly that the problem 
couldn't be with gdalwarp. If you hadn't done so, I probably would be 
still debugging gdal source code. Fun, of course, but not what I'm 
supposed to do.

Cheers,

Jan

On 05/04/10 21:09, Even Rouault wrote:
> Jan,
>
> you'll need to provide the exact source data and command line you use because
> I can't reproduce any problem.
>
> I've generated a 1000x1000 artificial dataset with the following features :
> * background is black
> * a white grid made of horizontal lines and vertical lines spaced with 100
> pixels
> * 5 GCPs :
> 	- red square at (150, 150). Target coords are (500000 + 100, 4500000 - 100)
> 	- green square at (250,450). Target coords are (500000 + 100, 4500000 - 500)
> 	- yellow square at (50, 850). Target coords are (500000 + 100, 4500000 - 900)
> 	- cyan square at (950, 50). Target coords are (500000 + 900, 4500000 - 100)
> 	- magenta square at (850, 950). Target coords are (500000 + 900, 4500000 -
> 900)
>
> So the expected result is a warped grid, but such as the red,yellow,cyan and
> magenta points form a perfect square (and the green square is in the middle
> of the red-yellow segment). And that's exactly what I get. With a precision
> of sub-pixel.
>
> Attached a ZIP with the source image and C source code used to generate it.
>
> Command line used to warp : gdalwarp -tps src_grid.tif dst_grid.tif
>
> Best regards,
>
> Even
>
>
>
> Le Tuesday 04 May 2010 15:14:34 Jan Hartmann, vous avez ?crit :
>    
>> Thanks, Jukka, that's exactly what I did. I used QGIS to test the
>> coordinates in both images.
>>
>> Jan
>>
>> On 05/04/10 15:08, Jukka Rahkonen wrote:
>>      
>>> Jan Hartmann<j.l.h.hartmann<at>   uva.nl>   writes:
>>>        
>>>> you can see a screenshot of the original image (right) and the
>>>> georeferenced one (left, rotated almost 90 degrees). The red markers
>>>> with the number 3 inside them show one of the control points: to the
>>>> right the scan pixel  (5023/3421), to the left the targeted
>>>> georeferenced coordinate in EPSG:28992 (121527/487174). As you see, the
>>>> georeferenced point is not exactly on the border of parcel 7, as I
>>>> expected. Above the map you see the four coordinates I used as control
>>>> points; I added four extra points half way the original ones, so the
>>>> complete warp was done with 8 control points.
>>>>          
>>> Hi,
>>>
>>> I can try to repeat your test some day. Is this your workflow:
>>>
>>> 1. gdal_translate -of VRT -gcp p1 l1 e1 n1 -gcp p2 l2 e2 n2 -gcp p3 l3 e3
>>> n3 -gcp p4 l4 e4 n4 -gcp p5 l5 e5 n5 input.tif temp_with_gcp.vrt
>>>
>>> 2. gdalwarp -s_srs EPSG:28992 -t_srs EPSG:28992 -tps temp_with_gcp.vrt
>>> warped.tif
>>>
>>> 3. Measure the coordinates of the ground control points from warped.tif
>>>      with some GIS software like QGis and find out disappointed that
>>>      they have shifted.
>>>
>>> -Jukka Rahkonen-
>>>
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>        
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>      
>
>    
From even.rouault at mines-paris.org  Fri May  7 14:02:02 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May  7 14:02:16 2010
Subject: [gdal-dev] Compilation problems on CentOS 5
In-Reply-To: <4BE4337C.2070500@pobox.com>
References: <1273244033.4102.6.camel@peter-laptop> <4BE4337C.2070500@pobox.com>
Message-ID: <201005072002.04202.even.rouault@mines-paris.org>

Peter,

XML_StopParser() has been introduced in Expat 1.95.8 and I've verified that 
CentOS 5.4 comes with that version. So it should be able to find the symbol 
(and for older expat versions, there's a test to avoid using the 
XML_StopParser() function). I've also managed to build gdal 1.7.2 with expat 
support in a CentOS 5.4 *32* bit VM.

What I suspect is that you're seing a symptom of ticket 
http://trac.osgeo.org/gdal/ticket/3411 which is specific to CentOS/RHEL 64 
bit and was fixed in trunk.

There is probably a confusion between the /usr/lib/libexpat.so (32 bit) 
and /usr/lib64/libexpat.so.

You could try editing GDALmake.opt and look for  -L/usr/lib -lexpat in the 
line beginning with "LIBS    =". Remove all occurrences of -L/usr/lib in that 
line and build again.

Best regards,

Even

Le Friday 07 May 2010 17:36:28 Frank Warmerdam, vous avez ?crit?:
> Peter Hopfgartner wrote:
> > Hello
> >
> > I'm trying to compile GDAL 1.7.2 on my CentOS 5.4, 64 bit box. Configure
> > is basically "enable Oracle, disable almost anything else":
> >
> > ./configure --without-php --without-python --without-perl --with-oci
> > --with-ecw --with-libtiff=internal --with-geotiff=internal
> > --with-netcdf=no --with-cfitsio=no
> >
> > Compilation stops with:
> >
> > libtool: link: g++ .libs/gdalinfo.o
> > -o .libs/gdalinfo  /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so
> > -Wl,-rpath -Wl,/usr/local/lib
> > /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so: undefined reference to
> > `XML_StopParser'
> > collect2: ld returned 1 exit status
> > make[1]: *** [gdalinfo] Error 1
> > make[1]: Leaving directory `/home/rpmbuild/tmp/gdal-1.7.2/apps'
> > make: *** [apps-target] Error 2
> >
> > Where should the symbol "XML_StopParser" come from?
>
> Peter,
>
> This is part of the expat library.  You could try configuring
> --without-expat to doing a clean build.  I'm guessing you have a version of
> expat that is too old, or too new and lacks XML_StopParser.  If you could
> provide version information it might make it possible for us to dig further
> into the issue.
>
> Best regards,


From matt.wilkie at gov.yk.ca  Fri May  7 18:21:02 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri May  7 18:21:16 2010
Subject: [gdal-dev] Installing additional packages for python in OSGeo4W
In-Reply-To: <j2z1fc68841005071108rcdda9a4ay3155dec93e378eb9@mail.gmail.com>
References: <s2u1fc68841005061128vca221385u8049c0a8aa9d913a@mail.gmail.com>	
	<4BE31AE5.3040907@gov.yk.ca>
	<j2z1fc68841005071108rcdda9a4ay3155dec93e378eb9@mail.gmail.com>
Message-ID: <4BE4924E.5050307@gov.yk.ca>

Aleksey, The registry script will only make changes if it does not find 
a key for the major version of python in the current environment 
settings  (2.4, 2.5, etc) . Meaning, it's safe and won't mangle your 
existing install, but neither will it make o4w python generally 
available. What follows are three approaches you might try. I've use the 
first two with success, no guarantees they'll work for anyone else, the 
3rd is theortical.


      == Parallel  ArcGIS and Osgeo4W python installs ==

You can switch the default system python of the same major version, 
python 2.5 for example, between the arcgis and o4w  by creating a 
registry file for each and delete/import at need. For example:

1. store existing py registry settings, open CMD shell (must be 
admin-level shell on win7 and vista) and:

    regedit /e arcgis-python-registry-hklm.txt
    "HKEY_LOCAL_MACHINE\Software\Python"
    regedit /e arcgis-python-registry-hkcu.txt
    "HKEY_CURRENT_USERS\Software\Python"

2. Only one of the files will be created. Edit it and put a minus symbol 
in front of each [...] block, and save as 
"/*remove_*/arcgis-python-registry-hkcu.txt":

    *-*[HKEY_CURRENT_USER\Software\Python]

3. Delete the current python registry by importing the remove_*.txt.

    regedit remove_arcgis-python-registry-hkcu.txt

4. Open an o4w command shell and run register-python.py. Repeat #1 & #2 
to save o4w registration and create removal version:

    regedit /e o4w-python-registry-hklm.txt
    "HKEY_LOCAL_MACHINE\Software\Python"
    regedit /e o4w-python-registry-hkcu.txt
    "HKEY_CURRENT_USERS\Software\Python"

Now you are free to run whatever binary installers you need. Switch 
between the installs by a) import removal registry.txt, b) import wanted 
registry.txt


      == Shared ArcGIS and Osgeo4W python install ==

1. Uninstall existing arcgis python (or de-register as above).
2. Open an o4w command shell and run register-python.py
3. Install pywin32 for corresponding python (*win32-py2.5.exe at the moment)
3. Put "arcgisscripting.py"[1] in "%pythonhome%\Lib\site-packages"

[1] http://www.yukongis.ca/@api/deki/files/12/=arcgisscripting.py


      == Upgrade ArcGIS to py2.6, leave O4W py2.5==

One method which might work is to uninstall the regular system/arcgis 
python and upgrade it to 2.6. Then run the register-python.py from an 
o4w command shell. This will make both versions available to standard 
python binary installers. I believe the recipe here, 
http://www.yukongis.ca/How_To/UpgradingPython, will work for 
py2.6+arcgis9.3 but have not personally tried it.

I believe ArcGIS 10 embeds python 2.6 into it's own install tree and 
doesn't make it available system wide; we'll see.

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


On 07/05/2010 11:08 AM, Aleksey Naumov wrote:
> Hi Matt,
>
> Thank you for your help. I noticed that you created a script to record 
> python in registry, but I think I might have to try it as the last 
> resort. I already have Python 2.5 (a regular version, not from 
> OSGeo4W), and I would have to remove that before attempting to run the 
> registry script, correct? I am hesitant to remove the "normal" Python 
> 2.5 since it is used for other things, including Arc geoprocessing 
> scripts.
>
> Meanwhile, I was able to install the xlrd and SQLAlchemy packages from 
> downloaded sources with "python setup.py install" from inside the 
> OSGeo4W shell; that seemed to work. Tried to do the same for IPython 
> (0.10) and got the following error upon install:
> "The procedure entry point ?PyWinGlobals_Ensure@@YAXXZ could not be 
> located in the dynamic link library pywintypes25.dll"
> The same error pops up when trying "import IPython" or "import 
> win32process". This looks like a win32 extension problem, or is it? 
> Anyway, I reran the OSGeo4W setup to reinstall python-win32 (2.12-1), 
> but that did not help.
>
> Is there any way to move forward without resorting to removing the 
> "normal" Python 2.5? I guess if I did that I should be able to 
> register OSGeo4W's python with your script and then install IPython 
> via executable or via easy_install (for which again I'd need to first 
> install setuptools from an executable)?
>
> In general, what is the best way to install additional python packages 
> in OSGeo4W? Should I be using "apt" or "setup" (noticed both under 
> Commandline Utilities in the OSGeo4W setup program)? Does OSGeo4W 
> provide it's own setuptools?
>
> Thank you,
> Aleksey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100507/e3e89b75/attachment.html
From matt.wilkie at gov.yk.ca  Fri May  7 18:27:56 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri May  7 18:28:09 2010
Subject: [gdal-dev] Installing additional packages for python in OSGeo4W
In-Reply-To: <j2z1fc68841005071108rcdda9a4ay3155dec93e378eb9@mail.gmail.com>
References: <s2u1fc68841005061128vca221385u8049c0a8aa9d913a@mail.gmail.com>	
	<4BE31AE5.3040907@gov.yk.ca>
	<j2z1fc68841005071108rcdda9a4ay3155dec93e378eb9@mail.gmail.com>
Message-ID: <4BE493EC.5040503@gov.yk.ca>

> In general, what is the best way to install additional python packages 
> in OSGeo4W? Should I be using "apt" or "setup" (noticed both under 
> Commandline Utilities in the OSGeo4W setup program)? Does OSGeo4W 
> provide it's own setuptools?

I've had limited success using easy_install. I have been able to make it 
work but only after tracking down depencies, e.g. setuptools, and 
installing this that and the other thing and in general thrashing about. 
O4w does not have it's own setuptools. Apt or Setup.exe is user 
preference. I like apt, for obvious reasons :), but it does have it's 
limitations and is not as widely tested.

cheers,

matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From neteler at osgeo.org  Sat May  8 16:03:25 2010
From: neteler at osgeo.org (Markus Neteler)
Date: Sat May  8 16:03:49 2010
Subject: [gdal-dev] GDAL-GRASS compilation under Windows
In-Reply-To: <4BD6E80B.6030004@stef.hu>
References: <4BCEF480.70209@stef.hu> <4BD6E80B.6030004@stef.hu>
Message-ID: <AANLkTill4gc19eyJ3UP5ys02KM09cev6fjQWoldGKNLg@mail.gmail.com>

Hi Istv?n,

perhaps this text can help you and the links therein:
http://trac.osgeo.org/grass/wiki/CompileOnWindows

Markus

2010/4/27 "ifj. Stef?n Istv?n" <istefan@stef.hu>:
> Hi!
>
> I'm just wondering whether my question was not clear enough, or really
> anyone doesn't know the answer, or I'm just impatient?
>
> Thanks,
> Istv?n
>
> ifj. Stef?n Istv?n ?rta:
>>
>> Hello!
>>
>> I'm new on this list, and hope the following question hasn't been asked
>> before.
>> I need help to compile the GDAL-GRASS plugin under Windows environment.
>> I downloaded the source of GDAL and compiled it without GRASS support with
>> Visual Studio successfully.
>> Next I downloaded the GDAL-GRASS plugin and tried to compile it, but this
>> package doesn't contain Visual Studio project file, and I'm not familiar
>> with VS too much, so I wasn't able to compile it. Then I installed Cygwin
>> and tried to compile the GDAL-GRASS plugin under Cygwin, but the configure
>> script complains about the gdal-config utility which I don't know where to
>> find.
>>
>> This is where I stand now, if someone know how to compile GDAL-GRASS under
>> Win please help.
>>
>> Thanks,
>> Istv?n
>>
>>
>>
>>
>>
>> __________ ESET NOD32 Antivirus - V?rusdefin?ci?s adatb?zis: 5046
>> (20100421) __________
>>
>> Az ?zenetet az ESET NOD32 Antivirus ellen?rizte.
>>
>> http://www.eset.hu
>>
>>
>>
>>
>> __________ ESET NOD32 Antivirus - V?rusdefin?ci?s adatb?zis: 5065
>> (20100427) __________
>>
>> Az ?zenetet az ESET NOD32 Antivirus ellen?rizte.
>>
>> http://www.eset.hu
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>> __________ ESET NOD32 Antivirus - V?rusdefin?ci?s adatb?zis: 5065
>> (20100427) __________
>>
>> Az ?zenetet az ESET NOD32 Antivirus elleno~rizte.
>>
>> http://www.eset.hu
>>
>>
>
>
>
>
> __________ ESET NOD32 Antivirus - V?rusdefin?ci?s adatb?zis: 5065 (20100427)
> __________
>
> Az ?zenetet az ESET NOD32 Antivirus ellen?rizte.
>
> http://www.eset.hu
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From manolopm at gmail.com  Sat May  8 19:51:33 2010
From: manolopm at gmail.com (Manolo Padron Martinez)
Date: Sat May  8 19:51:56 2010
Subject: [gdal-dev] Getting capabilities info from a WCS server
Message-ID: <AANLkTilqy1sMTVY_TitPog1SOc9Apt6j0F7YSY-9jWBq@mail.gmail.com>

Hi:

Is there any way to obtain the capabilities from wcs server (I mean
reques=GetCapabilities) from a WCS server using GDAL.

Thanks in advance

Regards from Canary Islands
From even.rouault at mines-paris.org  Sun May  9 05:19:29 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May  9 05:19:38 2010
Subject: [gdal-dev] Mutex around Proj.4
In-Reply-To: <m2w2cd3193b1005021506mffa0787es2fa6fa0f72ce49f0@mail.gmail.com>
References: <m2w2cd3193b1005021506mffa0787es2fa6fa0f72ce49f0@mail.gmail.com>
Message-ID: <201005091119.29522.even.rouault@mines-paris.org>

Kevin,

yes the mutex around proj.4 is necessary in order to guarantee correct 
behaviour when several threads call proj.4 concurrently.

There are a few places in proj.4 where global variables are used. One of them 
is the pj_errno variable / pj_strerrno() function.

There's an old discussion on the proj.4 mailing list about the issue : 
http://lists.maptools.org/pipermail/proj/2005-February/thread.html#1483 (and 
other following threads the same month)

I'd note that a few things have evolved : since proj 4.7.0, there is a locking 
mechanism within proj.4 that protects the init cache and the gridlist. But 
the pj_errno and maybe other issues remain.

Best regards,

Even
From peter.hopfgartner at r3-gis.com  Mon May 10 05:30:45 2010
From: peter.hopfgartner at r3-gis.com (Peter Hopfgartner)
Date: Mon May 10 05:30:48 2010
Subject: [gdal-dev] Compilation problems on CentOS 5
Message-ID: <20100510093045.32DEA16781E7@mail.r3-gis.com>

Frank,

compilation went smooth  using the --without-expat option.

On CentOS 5.4, expat cames as expat-1.95.8.

Thank you for your halp

Peter



--------Frank Warmerdam <warmerdam@pobox.com> wrote--------
Subject: Re: [gdal-dev] Compilation problems on CentOS 5
Date: 07.05.2010 17:36

>Peter Hopfgartner wrote:
>> Hello
>> 
>> I'm trying to compile GDAL 1.7.2 on my CentOS 5.4, 64 bit box.
>Configure
>> is basically "enable Oracle, disable almost anything else":
>> 
>> ./configure --without-php --without-python --without-perl --with-oci
>> --with-ecw --with-libtiff=internal --with-geotiff=internal
>> --with-netcdf=no --with-cfitsio=no
>> 
>> Compilation stops with:
>> 
>> libtool: link: g++ .libs/gdalinfo.o
>> -o .libs/gdalinfo  /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so
>> -Wl,-rpath -Wl,/usr/local/lib
>> /home/rpmbuild/tmp/gdal-1.7.2/.libs/libgdal.so: undefined reference to
>> `XML_StopParser'
>> collect2: ld returned 1 exit status
>> make[1]: *** [gdalinfo] Error 1
>> make[1]: Leaving directory `/home/rpmbuild/tmp/gdal-1.7.2/apps'
>> make: *** [apps-target] Error 2
>> 
>> Where should the symbol "XML_StopParser" come from?
>
>Peter,
>
>This is part of the expat library.  You could try configuring
>--without-expat
>to doing a clean build.  I'm guessing you have a version of expat that is
>too
>old, or too new and lacks XML_StopParser.  If you could provide version
>information it might make it possible for us to dig further into the
>issue.
>
>Best regards,
>-- 
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam,
>warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>

From antonio.rocha at deimos.com.pt  Mon May 10 05:55:09 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Mon May 10 06:01:32 2010
Subject: [gdal-dev] Obtain more information with Ogrinfo
Message-ID: <4BE7D7FD.5090502@deimos.com.pt>

Greetings

I need to obtain a little bit more information regarding a Shapefile. I 
have done ogrinfo <filename> but I only obtained:
INFO: Open of `file.shp'
      using driver `ESRI Shapefile' successful.
1: training_data_AA_NAC_N_M (Polygon)

I mean it only identified me the sub-dataset and the data-format. I need 
information regarding projection/coordinates. How can I obtain it?
Thanks
Antonio



__________ Information from ESET NOD32 Antivirus, version of virus signature database 5100 (20100510) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From nico.mandery at geops.de  Mon May 10 06:04:37 2010
From: nico.mandery at geops.de (Nico Mandery)
Date: Mon May 10 06:09:45 2010
Subject: [gdal-dev] Obtain more information with Ogrinfo
In-Reply-To: <4BE7D7FD.5090502@deimos.com.pt>
References: <4BE7D7FD.5090502@deimos.com.pt>
Message-ID: <4BE7DA35.4070200@geops.de>

Hi Antonio

try
ogrinfo file.php training_data_AA_NAC_N_M

to get on about the layer.

nico

On 10.05.2010 11:55, Ant?nio Rocha wrote:
> Greetings
>
> I need to obtain a little bit more information regarding a Shapefile. 
> I have done ogrinfo <filename> but I only obtained:
> INFO: Open of `file.shp'
>      using driver `ESRI Shapefile' successful.
> 1: training_data_AA_NAC_N_M (Polygon)
>
> I mean it only identified me the sub-dataset and the data-format. I 
> need information regarding projection/coordinates. How can I obtain it?
> Thanks
> Antonio
>
>
>
> __________ Information from ESET NOD32 Antivirus, version of virus 
> signature database 5100 (20100510) __________
>
> The message was checked by ESET NOD32 Antivirus.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From daniele.romagnoli at geo-solutions.it  Mon May 10 06:10:57 2010
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Mon May 10 06:10:59 2010
Subject: [gdal-dev] Obtain more information with Ogrinfo
In-Reply-To: <4BE7D7FD.5090502@deimos.com.pt>
References: <4BE7D7FD.5090502@deimos.com.pt>
Message-ID: <AANLkTinSPA8VFPLUHN7yxEekT1BGBsMAFfOf1jYuG7km@mail.gmail.com>

Hi Ant?nio,
once you get the name of the layer, (1: training_data_AA_NAC_N_M (Polygon)),
you can redo the command by specifying also the layer name:

As an instance,
ogrinfo filename.shp training_data_AA_NAC_N_M

Hope this helps.
Regards,
Daniele

2010/5/10 Ant?nio Rocha <antonio.rocha@deimos.com.pt>

> Greetings
>
> I need to obtain a little bit more information regarding a Shapefile. I
> have done ogrinfo <filename> but I only obtained:
> INFO: Open of `file.shp'
>     using driver `ESRI Shapefile' successful.
> 1: training_data_AA_NAC_N_M (Polygon)
>
> I mean it only identified me the sub-dataset and the data-format. I need
> information regarding projection/coordinates. How can I obtain it?
> Thanks
> Antonio
>
>
>
> __________ Information from ESET NOD32 Antivirus, version of virus
> signature database 5100 (20100510) __________
>
> The message was checked by ESET NOD32 Antivirus.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
-------------------------------------------------------
Eng. Daniele Romagnoli
Software Engineer

GeoSolutions S.A.S.
Via Carignoni 51
55041 Camaiore (LU)
Italy

phone: +39 0584983027
fax:     +39 0584983027
mob:   +39 328 0559267


http://www.geo-solutions.it

-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100510/a33d2f19/attachment.html
From jukka.rahkonen at mmmtike.fi  Mon May 10 07:18:23 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon May 10 07:18:36 2010
Subject: [gdal-dev] Re: Obtain more information with Ogrinfo
References: <4BE7D7FD.5090502@deimos.com.pt>
Message-ID: <loom.20100510T131102-344@post.gmane.org>

Ant?nio Rocha <antonio.rocha <at> deimos.com.pt> writes:

> 
> Greetings
> 
> I need to obtain a little bit more information regarding a Shapefile. I 
> have done ogrinfo <filename> but I only obtained:

Hi,

What most users propably want to know about shapefiles first comes with  
ogrinfo -al -so file.shp

Perhaps the manual page http://gdal.org/ogrinfo.html could give also this
information?

-Jukka Rahkonen-

From j.l.h.hartmann at uva.nl  Mon May 10 07:24:36 2010
From: j.l.h.hartmann at uva.nl (Jan Hartmann)
Date: Mon May 10 07:24:43 2010
Subject: [gdal-dev] Re: Obtain more information with Ogrinfo
In-Reply-To: <loom.20100510T131102-344@post.gmane.org>
References: <4BE7D7FD.5090502@deimos.com.pt>
	<loom.20100510T131102-344@post.gmane.org>
Message-ID: <4BE7ECF4.7000703@uva.nl>


The manual page says:

*-al*:
    List all features of all layers (used instead of having to give
    layer names as arguments). 

This is not a really clear answer for Antonio's question: when I read 
this the first time, I thought this flag was meant to display 
information about more layers, not to get more information about one 
layer. Especially difficult when English is not your first language and 
you are not Finnish :-)

Jan

On 05/10/10 13:18, Jukka Rahkonen wrote:
> Ant?nio Rocha<antonio.rocha<at>  deimos.com.pt>  writes:
>
>    
>> Greetings
>>
>> I need to obtain a little bit more information regarding a Shapefile. I
>> have done ogrinfo<filename>  but I only obtained:
>>      
> Hi,
>
> What most users propably want to know about shapefiles first comes with
> ogrinfo -al -so file.shp
>
> Perhaps the manual page http://gdal.org/ogrinfo.html could give also this
> information?
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>    
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100510/62b4a626/attachment.html
From Jukka.Rahkonen at mmmtike.fi  Mon May 10 08:15:41 2010
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon May 10 08:29:21 2010
Subject: [gdal-dev] Re: Obtain more information with Ogrinfo
In-Reply-To: <4BE7ECF4.7000703@uva.nl>
References: <4BE7D7FD.5090502@deimos.com.pt>
	<loom.20100510T131102-344@post.gmane.org> <4BE7ECF4.7000703@uva.nl>
Message-ID: <CC197224AC75CE4DB23F739B16891B8601879B46@tikka.haapa.mmm.fi>

Hi,
 
But -al (without -so, "summary only") is listing all the features of all the layers.  It just happens to be that shapefile always has only one layer.  Have a try with Mapinfo tab file or some database with lots of tables and you will notice that -al option does go through all the layers.
 
-Jukka-
 
Jan Hartmann  wrote:


		The manual page says:
		
		
		
		-al: 
		List all features of all layers (used instead of having to give layer names as arguments). 

	This is not a really clear answer for Antonio's question: when I read this the first time, I thought this flag was meant to display information about more layers, not to get more information about one layer. Especially difficult when English is not your first language and you are not Finnish :-)
	
	Jan 
	
	On 05/10/10 13:18, Jukka Rahkonen wrote: 

		Ant?nio Rocha <antonio.rocha <at> deimos.com.pt> writes:
		
		  

			Greetings
			
			I need to obtain a little bit more information regarding a Shapefile. I 
			have done ogrinfo <filename> but I only obtained:
			    

		Hi,
		
		What most users propably want to know about shapefiles first comes with  
		ogrinfo -al -so file.shp
		
		Perhaps the manual page http://gdal.org/ogrinfo.html could give also this
		information?
		
		-Jukka Rahkonen-
		
		_______________________________________________
		gdal-dev mailing list
		gdal-dev@lists.osgeo.org
		http://lists.osgeo.org/mailman/listinfo/gdal-dev
		  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100510/40626547/attachment-0001.html
From antonio.valentino at tiscali.it  Mon May 10 11:51:25 2010
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon May 10 11:52:39 2010
Subject: [gdal-dev] Backporting request
Message-ID: <20100510175125.0ae1f3dc@asigrid01>

Hi, 
I have a request for GDAL developers.
I would appreciate a lot if changes implemented in 

http://trac.osgeo.org/gdal/changeset/19651


could be backported to 1.6 and 1.7 branches.

I don't know if it is actually feasible but by sure my app would get a
great advantage.

Best regards

-- 
Antonio Valentino
From robert.zermeno at navy.mil  Mon May 10 13:50:10 2010
From: robert.zermeno at navy.mil (Zermeno, Robert J CIV NAVAIR, 472100D)
Date: Mon May 10 13:50:21 2010
Subject: [gdal-dev] Reading RGB jpeg2000 image using Kakadu...proper order
Message-ID: <F8A8A114E3F41D4D9157F1BECCA3BA9102F5CD11@nawechlkez02v.nadsuswe.nads.navy.mil>

Frank,

Is there a specific order needed to read in the image pixels?  Meaning, you typically need to use the combination functions of:
1. 
Redband  = GDALRasterBand(dataset,1)
Blueband = GDALRasterBand(dataset,2)
Greenband= GDALRasterBand(dataset,3)
2. 
GDALRasterIO(redBand)
GDALRasterIO(Blueand)
GDALRasterIO(GreenBand)

3. Depending on if Band 1 is Red, then store image data as:
Image[0] = BlueBand
Image[1] = GreenBand
Image[2] = RedBand

This is a very general sense.  I have noticed if I switch the order of GDALRasterband, I am provided with an image that is not displayed correctly (certain colors of off).


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 4926 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100510/45992f0c/smime.bin
From even.rouault at mines-paris.org  Mon May 10 13:38:57 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 10 13:53:15 2010
Subject: [gdal-dev] Backporting request
In-Reply-To: <20100510175125.0ae1f3dc@asigrid01>
References: <20100510175125.0ae1f3dc@asigrid01>
Message-ID: <201005101938.58350.even.rouault@mines-paris.org>

Please open a ticket in GDAL trac.

Le Monday 10 May 2010 17:51:25 Antonio Valentino, vous avez ?crit?:
> Hi,
> I have a request for GDAL developers.
> I would appreciate a lot if changes implemented in
>
> http://trac.osgeo.org/gdal/changeset/19651
>
>
> could be backported to 1.6 and 1.7 branches.
>
> I don't know if it is actually feasible but by sure my app would get a
> great advantage.
>
> Best regards


From JARED.RUBIN at saic.com  Mon May 10 14:13:36 2010
From: JARED.RUBIN at saic.com (Rubin, Jared)
Date: Mon May 10 14:15:59 2010
Subject: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
References: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>
	<n2oeb502d881005062243u2f482c3fxf5f9a8b7616912d8@mail.gmail.com>
Message-ID: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A52@0461-its-exmb04.us.saic.com>

That sucks. I have hundreds of images on disk and would like to just have the xml file for each file so that I can just do fast "greps" for specfic tags.
What is the reason behind this design choice? Also are any of the gdalinfo calls quick?
Jared


-----Original Message-----
From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
Sent: Thu 5/6/2010 10:43 PM
To: Rubin, Jared
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
 
Jared,

For gdalinfo to create .aux.xml files, you just need to force it to compute
some metadata not stored in the file.

On Fri, May 7, 2010 at 2:39 AM, Rubin, Jared <JARED.RUBIN@saic.com> wrote:

>  I am using gdal-1.6.2 (version not important) and would like for gdalinfo
> to generate  .aux.xml files  for NITF files that I have on disk, is this
> possible?
> If this is possible, will gdalinfo just load an  image.nitf.aux.xml file
> instead of image.nitf?
>
> Thanks
> Jared
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100510/9731dde4/attachment.html
From warmerdam at pobox.com  Mon May 10 14:21:07 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 10 14:21:13 2010
Subject: [gdal-dev] Re: Reading RGB jpeg2000 image using Kakadu...proper
	order
In-Reply-To: <F8A8A114E3F41D4D9157F1BECCA3BA9102F5CD11@nawechlkez02v.nadsuswe.nads.navy.mil>
References: <F8A8A114E3F41D4D9157F1BECCA3BA9102F5CD11@nawechlkez02v.nadsuswe.nads.navy.mil>
Message-ID: <4BE84E93.7070305@pobox.com>

Zermeno, Robert J CIV NAVAIR, 472100D wrote:
> Frank,
> 
> Is there a specific order needed to read in the image pixels?  Meaning, you typically need to use the combination functions of:
> 1. 
> Redband  = GDALRasterBand(dataset,1)
> Blueband = GDALRasterBand(dataset,2)
> Greenband= GDALRasterBand(dataset,3)
> 2. 
> GDALRasterIO(redBand)
> GDALRasterIO(Blueand)
> GDALRasterIO(GreenBand)
> 
> 3. Depending on if Band 1 is Red, then store image data as:
> Image[0] = BlueBand
> Image[1] = GreenBand
> Image[2] = RedBand
> 
> This is a very general sense.  I have noticed if I switch the order of GDALRasterband, I am provided with an image that is not displayed correctly (certain colors of off).

Robert,

It should not matter which order the bands are read in.  That is to
say, reading Band 3 into buffer 3, band2 into buffer 2, and band1 into
buffer 1 should give the same result as reading band1 into buffer,
band2 into buffer2 and band 3 into buffer 3.

I will note that normally band 1 is red, band 2 is green and band 3
is blue.  I'm not sure why you seem to be mapping things differently
above.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chaitanya.ch at gmail.com  Mon May 10 14:40:55 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon May 10 14:41:00 2010
Subject: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
In-Reply-To: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A52@0461-its-exmb04.us.saic.com>
References: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>
	<n2oeb502d881005062243u2f482c3fxf5f9a8b7616912d8@mail.gmail.com>
	<3A7F37AE3B50AE479C753AFB27FBB64D045C1A52@0461-its-exmb04.us.saic.com>
Message-ID: <AANLkTil3kBPL2Fb3uYx9yB8Yr8AdksbDwSHr8HvEBax-@mail.gmail.com>

Check if gdalinfo creates the xml files when used with the -stats option on
your images. If it does, run it on all the images. I don't think there is a
much quicker way. The computation of the statistics is the bottleneck here.

On Mon, May 10, 2010 at 11:43 PM, Rubin, Jared <JARED.RUBIN@saic.com> wrote:

>  That sucks. I have hundreds of images on disk and would like to just have
> the xml file for each file so that I can just do fast "greps" for specfic
> tags.
> What is the reason behind this design choice? Also are any of the gdalinfo
> calls quick?
> Jared
>
>
>
> -----Original Message-----
> From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com<chaitanya.ch@gmail.com>
> ]
> Sent: Thu 5/6/2010 10:43 PM
> To: Rubin, Jared
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
>
> Jared,
>
> For gdalinfo to create .aux.xml files, you just need to force it to compute
> some metadata not stored in the file.
>
> On Fri, May 7, 2010 at 2:39 AM, Rubin, Jared <JARED.RUBIN@saic.com> wrote:
>
> >  I am using gdal-1.6.2 (version not important) and would like for
> gdalinfo
> > to generate  .aux.xml files  for NITF files that I have on disk, is this
> > possible?
> > If this is possible, will gdalinfo just load an  image.nitf.aux.xml file
> > instead of image.nitf?
> >
> > Thanks
> > Jared
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
>
> +91-9848167848
> 17.2416N 80.1426E
>
>


-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100511/1ab5219f/attachment.html
From even.rouault at mines-paris.org  Mon May 10 14:43:59 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 10 14:44:12 2010
Subject: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
In-Reply-To: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A52@0461-its-exmb04.us.saic.com>
References: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>
	<n2oeb502d881005062243u2f482c3fxf5f9a8b7616912d8@mail.gmail.com>
	<3A7F37AE3B50AE479C753AFB27FBB64D045C1A52@0461-its-exmb04.us.saic.com>
Message-ID: <201005102044.01185.even.rouault@mines-paris.org>

The reason is that .aux.xml files are generated only when it is necessary, 
that is to say when the underlying base format cannot store the metadata.

You could just iterate through all your files and store the output of gdalinfo 
in a file to fetch it layer. Or you could use 'gdal_translate -of VRT in.ntf 
out.vrt' that will produce a XML file (not the same as the .aux.xml) with at 
least the metadata. 

Le Monday 10 May 2010 20:13:36 Rubin, Jared, vous avez ?crit?:
> That sucks. I have hundreds of images on disk and would like to just have
> the xml file for each file so that I can just do fast "greps" for specfic
> tags. What is the reason behind this design choice? Also are any of the
> gdalinfo calls quick? Jared
>
>
> -----Original Message-----
> From: Chaitanya kumar CH [mailto:chaitanya.ch@gmail.com]
> Sent: Thu 5/6/2010 10:43 PM
> To: Rubin, Jared
> Cc: gdal-dev@lists.osgeo.org
> Subject: Re: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
>
> Jared,
>
> For gdalinfo to create .aux.xml files, you just need to force it to compute
> some metadata not stored in the file.
>
> On Fri, May 7, 2010 at 2:39 AM, Rubin, Jared <JARED.RUBIN@saic.com> wrote:
> >  I am using gdal-1.6.2 (version not important) and would like for
> > gdalinfo to generate  .aux.xml files  for NITF files that I have on disk,
> > is this possible?
> > If this is possible, will gdalinfo just load an  image.nitf.aux.xml file
> > instead of image.nitf?
> >
> > Thanks
> > Jared
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From antonio.valentino at tiscali.it  Mon May 10 14:47:20 2010
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon May 10 14:47:35 2010
Subject: [gdal-dev] Backporting request
In-Reply-To: <201005101938.58350.even.rouault@mines-paris.org>
References: <20100510175125.0ae1f3dc@asigrid01>
	<201005101938.58350.even.rouault@mines-paris.org>
Message-ID: <20100510204720.485ccb5c@mac1.local.net>

Hi Even,

Il giorno Mon, 10 May 2010 19:38:57 +0200
Even Rouault <even.rouault@mines-paris.org> ha scritto:

> Please open a ticket in GDAL trac.

OK.
I just filed ticket #3572 (http://trac.osgeo.org/gdal/ticket/3572).

thanks

> Le Monday 10 May 2010 17:51:25 Antonio Valentino, vous avez ?crit?:
> > Hi,
> > I have a request for GDAL developers.
> > I would appreciate a lot if changes implemented in
> >
> > http://trac.osgeo.org/gdal/changeset/19651
> >
> >
> > could be backported to 1.6 and 1.7 branches.
> >
> > I don't know if it is actually feasible but by sure my app would
> > get a great advantage.
> >
> > Best regards
> 
> 



-- 
Antonio Valentino
From matt.wilkie at gov.yk.ca  Mon May 10 15:07:27 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Mon May 10 15:07:43 2010
Subject: [gdal-dev] Will gdalinfo generate the pam .aux.xml files?
In-Reply-To: <AANLkTil3kBPL2Fb3uYx9yB8Yr8AdksbDwSHr8HvEBax-@mail.gmail.com>
References: <3A7F37AE3B50AE479C753AFB27FBB64D045C1A40@0461-its-exmb04.us.saic.com>	<n2oeb502d881005062243u2f482c3fxf5f9a8b7616912d8@mail.gmail.com>	<3A7F37AE3B50AE479C753AFB27FBB64D045C1A52@0461-its-exmb04.us.saic.com>
	<AANLkTil3kBPL2Fb3uYx9yB8Yr8AdksbDwSHr8HvEBax-@mail.gmail.com>
Message-ID: <4BE8596F.6000700@gov.yk.ca>

On 10/05/2010 11:40 AM, Chaitanya kumar CH wrote:
> Check if gdalinfo creates the xml files when used with the -stats option
> on your images.

But be careful with 32bit float rasters. I just filed a bug on "gdalinfo 
-stats" not computing min/max properly on these, 
http://trac.osgeo.org/gdal/ticket/3573

-matt
From weixj2003ld at 163.com  Mon May 10 23:16:55 2010
From: weixj2003ld at 163.com (weixj2003ld)
Date: Mon May 10 23:17:08 2010
Subject: [gdal-dev] get different result when use different parameters
Message-ID: <12cfa06.480e.128855d7bd1.Coremail.weixj2003ld@163.com>

I download a elevation data (SRTM,GTOPO30) from http://glcfapp.glcf.umd.edu:8080/esdi/index.jsp
 
 use 
gdal_translate -b 1 -of PNG -ot Byte source.tif des.png
and 
gdal_translate -b 1 -of PNG -ot UInt16 source.tif des.png
differently,
with parameter 'UInt16',I get a black picture,with Byte,get a different one,why?
BTW,I want to get a png file from elevation data(.tif),must I use command gdal_translate?
Thk u in advance.
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100511/473b907e/attachment.html
From chaitanya.ch at gmail.com  Tue May 11 02:02:42 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May 11 02:02:44 2010
Subject: [gdal-dev] get different result when use different parameters
In-Reply-To: <12cfa06.480e.128855d7bd1.Coremail.weixj2003ld@163.com>
References: <12cfa06.480e.128855d7bd1.Coremail.weixj2003ld@163.com>
Message-ID: <AANLkTikAlL0VzQ_rTgKJl04vnMKDRPTSVDUTw67qb4MH@mail.gmail.com>

weixj2003ld,

I couldn't open the link.
Try "gdalinfo -mm des.png" on both the output images. I think they will both
give the same output. UInt16 should give a dark image unless you perform
histogram equalization on it.

2010/5/11 weixj2003ld <weixj2003ld@163.com>

> I download a elevation data (SRTM,GTOPO30) from
> http://glcfapp.glcf.umd.edu:8080/esdi/index.jsp
>
>  use
> gdal_translate -b 1 -of PNG -ot Byte source.tif des.png
> and
> gdal_translate -b 1 -of PNG -ot UInt16 source.tif des.png
> differently,
> with parameter 'UInt16',I get a black picture,with Byte,get a different
> one,why?
> BTW,I want to get a png file from elevation data(.tif),must I use command
> gdal_translate?
> Thk u in advance.
>
>
>
>
> ------------------------------
> ????????????????????? <http://ym.163.com/?from=od3>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100511/dd79890d/attachment.html
From aca at ngi.be  Tue May 11 03:10:24 2010
From: aca at ngi.be (acangi)
Date: Tue May 11 03:10:25 2010
Subject: [gdal-dev] Re: Parallel Processing
In-Reply-To: <d3957af00910161218q4d54dfb5n17e7d65a00645484@mail.gmail.com>
References: <d3957af00910161218q4d54dfb5n17e7d65a00645484@mail.gmail.com>
Message-ID: <1273561824320-5034690.post@n2.nabble.com>


I would also be interested in such information.

Suscribing to this post in case it gets replies.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Parallel-Processing-tp3837605p5034690.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From aca at ngi.be  Tue May 11 04:14:41 2010
From: aca at ngi.be (acangi)
Date: Tue May 11 04:14:44 2010
Subject: [gdal-dev] GDAL_retile slowdown at next level
Message-ID: <1273565681947-5034870.post@n2.nabble.com>


Hello,

It looks like gdal_retile.py slows down when processing a new level of the
pyramid. 

Source files : 8065 geotiffs orthophotos of 4000 x 4000 pixels, in total 400
GB.

Command : gdal_retile.py -targetDir pyramid/ -levels 12 -v -s_srs
/mnt/webgisdata/geoserver/config/3812.prj -ps 512 512 -r bilinear -co
"COMPRESS=JPEG" -co "INTERLEAVE=PIXEL" -tileIndex orthocol -tileIndexField
location /opt/geodata/ortholinks/*.tif

Level 0 was processed in 6 days (500000 files, 1 file is processed in 1
second, total 64 GB).
Level 1 starts processing : 1 file is processed in 5 minutes. As it'd take
me a year to finish the level, I stopped it.

Restarted with the same command and -pyramidOnly parameter

Level 1 was processed in 6 days (125000 files, 1 file is processed in 4
seconds, total 17 GB).
Level 2 starts processing : 1 file is processed in 3 minutes. It would take
2 monthes to finish this level.

I'll wait a little more to see the evolution and then stop the process
again, and restart it based on the level 1 files.

Any idea why it slows down like this ?

The source files and the output are on a CIFS fileserver, the computer
processing gdal_retile is a 4 CPU, 2.5 GB RAM. top says : 

top - 10:12:57 up 7 days, 23:37,  1 user,  load average: 1.00, 1.06, 1.09
Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie
Cpu(s):  1.2%us,  0.0%sy,  0.0%ni, 98.2%id,  0.0%wa,  0.0%hi,  0.0%si, 
0.7%st
Mem:   2560220k total,  2506852k used,    53368k free,    21316k buffers
Swap:  2097144k total,     5496k used,  2091648k free,   949224k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
 4913 ctiadmin  20   0  243m 163m 8064 D    6  6.5 283:36.06 python

Any idea appreciated,

Alain
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/GDAL-retile-slowdown-at-next-level-tp5034870p5034870.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From christian.mueller at nvoe.at  Tue May 11 04:51:35 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Tue May 11 05:16:02 2010
Subject: [gdal-dev] GDAL_retile slowdown at next level
In-Reply-To: <1273565681947-5034870.post@n2.nabble.com>
References: <1273565681947-5034870.post@n2.nabble.com>
Message-ID: <20100511105135.i15vsm0vksc80k0o@webmail.nvoe.at>

Hi, I am the developer of the gdal_retile.py

I think the problem here is based on the following issue.

To make a pyramid with tiles in the Dimension  width * hight based and  
already tiled image with the same tile width and height, I have to  
load the base tile and all 8 neighbors touching the tile. As you  
stated, your tiles are on a remote file server. This must result in  
heavy network traffic.

Open gdal_retily.py with an editor and search for "class  
DataSetCache". You see a line

self.cacheSize=8

which means the the cache is holding 8 tiles. Try to increase this  
number. A good number would be

(pixel width of your first pyramid / tile width ) * 3  + 8

I hope you get no memory problems






Quoting acangi <aca@ngi.be>:

>
> Hello,
>
> It looks like gdal_retile.py slows down when processing a new level of the
> pyramid.
>
> Source files : 8065 geotiffs orthophotos of 4000 x 4000 pixels, in total 400
> GB.
>
> Command : gdal_retile.py -targetDir pyramid/ -levels 12 -v -s_srs
> /mnt/webgisdata/geoserver/config/3812.prj -ps 512 512 -r bilinear -co
> "COMPRESS=JPEG" -co "INTERLEAVE=PIXEL" -tileIndex orthocol -tileIndexField
> location /opt/geodata/ortholinks/*.tif
>
> Level 0 was processed in 6 days (500000 files, 1 file is processed in 1
> second, total 64 GB).
> Level 1 starts processing : 1 file is processed in 5 minutes. As it'd take
> me a year to finish the level, I stopped it.
>
> Restarted with the same command and -pyramidOnly parameter
>
> Level 1 was processed in 6 days (125000 files, 1 file is processed in 4
> seconds, total 17 GB).
> Level 2 starts processing : 1 file is processed in 3 minutes. It would take
> 2 monthes to finish this level.
>
> I'll wait a little more to see the evolution and then stop the process
> again, and restart it based on the level 1 files.
>
> Any idea why it slows down like this ?
>
> The source files and the output are on a CIFS fileserver, the computer
> processing gdal_retile is a 4 CPU, 2.5 GB RAM. top says :
>
> top - 10:12:57 up 7 days, 23:37,  1 user,  load average: 1.00, 1.06, 1.09
> Tasks:   1 total,   0 running,   1 sleeping,   0 stopped,   0 zombie
> Cpu(s):  1.2%us,  0.0%sy,  0.0%ni, 98.2%id,  0.0%wa,  0.0%hi,  0.0%si,
> 0.7%st
> Mem:   2560220k total,  2506852k used,    53368k free,    21316k buffers
> Swap:  2097144k total,     5496k used,  2091648k free,   949224k cached
>
>   PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
>  4913 ctiadmin  20   0  243m 163m 8064 D    6  6.5 283:36.06 python
>
> Any idea appreciated,
>
> Alain
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/GDAL-retile-slowdown-at-next-level-tp5034870p5034870.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From aca at ngi.be  Tue May 11 07:06:55 2010
From: aca at ngi.be (acangi)
Date: Tue May 11 07:06:57 2010
Subject: [gdal-dev] Re: GDAL_retile slowdown at next level
In-Reply-To: <20100511105135.i15vsm0vksc80k0o@webmail.nvoe.at>
References: <1273565681947-5034870.post@n2.nabble.com>
	<20100511105135.i15vsm0vksc80k0o@webmail.nvoe.at>
Message-ID: <1273576015216-5035428.post@n2.nabble.com>


Thanks for the quick reply. I think it makes sense.

First I'll try to move all data to a computing machine with a big hard disk,
then if it's still slow, I'll try to increase self.cacheSize as you write.
As gdal_retile.py isn't computing the empty tiles, I guess I can use :

( pixel width of the widest row in the previous level / tile width ) * 3  +
8 

because my widest row is still smaller than the width of the global extent.
The widest row is 234000 pixels at level 1, so cacheSize would be 1380.
Average size of a tile is 125 KB, thus my cache would be 170 MB, which
shouldn't be a problem.

Alain
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/GDAL-retile-slowdown-at-next-level-tp5034870p5035428.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From christian.mueller at nvoe.at  Tue May 11 08:39:47 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Tue May 11 08:39:56 2010
Subject: [gdal-dev] Re: GDAL_retile slowdown at next level
In-Reply-To: <1273576015216-5035428.post@n2.nabble.com>
References: <1273565681947-5034870.post@n2.nabble.com>
	<20100511105135.i15vsm0vksc80k0o@webmail.nvoe.at>
	<1273576015216-5035428.post@n2.nabble.com>
Message-ID: <20100511143947.htkrbpe6kg44k0w0@webmail.nvoe.at>

Please keep me informed, perhaps we can do an improvement by adding a  
command line argument for the cache size.

Quoting acangi <aca@ngi.be>:

>
> Thanks for the quick reply. I think it makes sense.
>
> First I'll try to move all data to a computing machine with a big hard disk,
> then if it's still slow, I'll try to increase self.cacheSize as you write.
> As gdal_retile.py isn't computing the empty tiles, I guess I can use :
>
> ( pixel width of the widest row in the previous level / tile width ) * 3  +
> 8
>
> because my widest row is still smaller than the width of the global extent.
> The widest row is 234000 pixels at level 1, so cacheSize would be 1380.
> Average size of a tile is 125 KB, thus my cache would be 170 MB, which
> shouldn't be a problem.
>
> Alain
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/GDAL-retile-slowdown-at-next-level-tp5034870p5035428.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From arongone at aer.com  Tue May 11 08:44:58 2010
From: arongone at aer.com (Allen Rongone)
Date: Tue May 11 08:45:01 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <4BE2F2B6.9030005@ucar.edu>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
Message-ID: <F1AB0D83-FFDC-411C-BEFD-0E2C53B0A87C@aer.com>

Hi Brice,

	When I download and untar gdal-1.7.1.tar.gz, there is no configure  
script to run.

Here is a directory listing of what I get after untarring:

[root@psd14 GDAL-1.7.1]# ls
build       fallback_build.bat  GDAL.egg-info   gdal.py   GNUmakefile   
osgeo   PKG-INFO    samples  setup.cfg   setup_cfg.bak
extensions  gdalconst.py        gdalnumeric.py  gdal.pyc  ogr.py        
osr.py  README.txt  scripts  setup.cfg~  setup.py


I modified setup.cfg to point to the location of gdal-config on my  
RHEL 5 system and ran:
python setup.py build
python setup.py install

However, now when I run python and try to import gdal it complains  
that there is no such module.


Arrgggghh!!!!


~ Allen


On May 6, 2010, at 12:47 PM, Brice Lambi wrote:

> Hi Allen,
>
> Are you compiling from source?  When I install gdal python I just go
> into the swig/python directory and run 'python setup.py install'.   
> This
> should work.  The steps I take:
>
> tar zxvf gdal-1.7.1.tar.gz
> cd gdal-1.7.1
> ./configure --prefix=/usr
> make
> make install #run as root
> cd swig/python
> python setup.py install #run as root
>
> Hope this helps.
>
> Cheers,
> Brice
>
>
> Allen Rongone wrote:
>> Hello All,
>>
>>    New here so don't beat me up to bad.
>>
>>    I'm trying to get the GDAL module to install on a Red Hat  
>> Enterprise
>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>
>>    I have installed the setuptools 0.6c11 and am using easy_install
>>
>>    My gdal-config is in /usr/bin, however, when I run easy_install  
>> GDAL
>> it complains that it "Could not run gdal-config!!!" and then  
>> contiues on
>> complaining about a bunch of stuff not
>>    being declared.
>>
>>    I can not find the setup.py to edit and change the location of
>> gdal-config. easy_install must clean everything up if it fails.
>>
>>
>>
>>    Does anyone know how to get this to work or will we have to do
>> without GDAL in python?
>>
>> Thanks for any help,
>> Allen
>>
>> I've included everything I thought pertinent below:
>>
>>
>> [root@psd14 ~]# uname -a
>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST
>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>> [root@psd14 ~]# python
>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>> Type "help", "copyright", "credits" or "license" for more  
>> information.
>>>>>
>> KeyboardInterrupt
>>>>>
>> [root@psd14 ~]# which gdal-config
>> /usr/bin/gdal-config
>> [root@psd14 ~]# easy_install GDAL
>> Searching for GDAL
>> Reading http://pypi.python.org/simple/GDAL/
>> Reading http://www.gdal.org
>> Best match: GDAL 1.7.1
>> Downloading
>> http://pypi.python.org/packages/source/G/GDAL/ 
>> GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>
>> Processing GDAL-1.7.1.tar.gz
>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>> Could not run gdal-config!!!!
>> cc1plus: warning: command line option "-Wstrict-prototypes" is  
>> valid for
>> Ada/C/ObjC but not for C++
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>> char*)$(B!G(B:
>> extensions/gdal_wrap.cpp:3371: error:
>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>> extensions/gdal_wrap.cpp:3744: error:
>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in  
>> this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*, int)$(B! 
>> G(B:
>> extensions/gdal_wrap.cpp:4083: error:
>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int,  
>> const
>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4147: error:
>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>> char**,
>> int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4306: error:
>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,
>> void*, int, double*, char**, int (*)(double, const char*, void*),
>> void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4342: error:
>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>> void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,
>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,
>> void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RegenerateOverviews(GDALRasterBandShadow*, int,  
>> GDALRasterBandShadow**,
>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand* 
>> $(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow**$(B!G(B to $(B! 
>> F(BGDALRasterBand**$(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>> const
>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand* 
>> $(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow**$(B!G(B to $(B! 
>> F(BGDALRasterBand**$(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp: In function
>> $(B!F(BGDALTransformerInfoShadow*
>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>> GDALDatasetShadow*, char**)$(B!G(B:
>> extensions/gdal_wrap.cpp:4445: error:
>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared  
>> in
>> this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoint__SWIG_0 
>> (GDALTransformerInfoShadow*,
>> int, double*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4456: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoint__SWIG_1 
>> (GDALTransformerInfoShadow*,
>> double*, int, double, double, double)$(B!G(B:
>> extensions/gdal_wrap.cpp:4468: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>> int, int, double*, double*, double*, int*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4550: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>> IdentifyDriver(const char*, char**)$(B!G(B:
>> extensions/gdal_wrap.cpp:4661: error:
>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B  
>> was
>> not declared in this scope
>> error: Setup script exited with error: command 'gcc' failed with exit
>> status 1
>> [root@psd14 ~]#
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From anaumov at gmail.com  Tue May 11 12:09:53 2010
From: anaumov at gmail.com (Aleksey Naumov)
Date: Tue May 11 12:09:56 2010
Subject: [gdal-dev] Convert shapefile to SQL text for PostGIS
Message-ID: <AANLkTimO2u8X6ebQ_0TeaHu_t__-x4icNqzX5iIZiT1u@mail.gmail.com>

Dear GDAL users,

Is there a way to use ogr2ogr or other means to convert a layer (e.g. a
shapefile) into an SQL text file suitable for insertion into PostGIS? In
other words, a file with SQL text like:

INSERT INTO "my_table" ("the_geom" ) VALUES (GeomFromEWKT('SRID=-1;POLYGON
(( ...))'::TEXT) );

which could be read into PostgreSQL later. Ideally, I am looking for a
direct conversion, i.e. not involving PostGIS.

Thank you,
Aleksey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100511/79b45792/attachment.html
From lambi at ucar.edu  Tue May 11 12:13:40 2010
From: lambi at ucar.edu (Brice Lambi)
Date: Tue May 11 12:13:42 2010
Subject: [gdal-dev] Convert shapefile to SQL text for PostGIS
In-Reply-To: <AANLkTimO2u8X6ebQ_0TeaHu_t__-x4icNqzX5iIZiT1u@mail.gmail.com>
References: <AANLkTimO2u8X6ebQ_0TeaHu_t__-x4icNqzX5iIZiT1u@mail.gmail.com>
Message-ID: <4BE98234.90209@ucar.edu>

You can use shp2text:

http://www.obviously.com/gis/shp2text/

It won't output the insert statements directly but it will create a tab
delimited file that you could then parse into your database.



Aleksey Naumov wrote:
> Dear GDAL users,
> 
> Is there a way to use ogr2ogr or other means to convert a layer (e.g. a
> shapefile) into an SQL text file suitable for insertion into PostGIS? In
> other words, a file with SQL text like:
> 
> INSERT INTO "my_table" ("the_geom" ) VALUES
> (GeomFromEWKT('SRID=-1;POLYGON (( ...))'::TEXT) );
> 
> which could be read into PostgreSQL later. Ideally, I am looking for a
> direct conversion, i.e. not involving PostGIS.
> 
> Thank you,
> Aleksey
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From lambi at ucar.edu  Tue May 11 12:16:45 2010
From: lambi at ucar.edu (Brice Lambi)
Date: Tue May 11 12:16:48 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <F1AB0D83-FFDC-411C-BEFD-0E2C53B0A87C@aer.com>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<F1AB0D83-FFDC-411C-BEFD-0E2C53B0A87C@aer.com>
Message-ID: <4BE982ED.1000709@ucar.edu>

Hi Allen,

Are you sure you are downloading the source tarball?

http://download.osgeo.org/gdal/gdal-1.7.2.tar.gz

Try that link then the steps listed below.  If configure complains about
missing dependencies use yum to install those.

Good luck,
Brice


Allen Rongone wrote:
> Hi Brice,
> 
>     When I download and untar gdal-1.7.1.tar.gz, there is no configure
> script to run.
> 
> Here is a directory listing of what I get after untarring:
> 
> [root@psd14 GDAL-1.7.1]# ls
> build       fallback_build.bat  GDAL.egg-info   gdal.py   GNUmakefile 
> osgeo   PKG-INFO    samples  setup.cfg   setup_cfg.bak
> extensions  gdalconst.py        gdalnumeric.py  gdal.pyc  ogr.py      
> osr.py  README.txt  scripts  setup.cfg~  setup.py
> 
> 
> I modified setup.cfg to point to the location of gdal-config on my RHEL
> 5 system and ran:
> python setup.py build
> python setup.py install
> 
> However, now when I run python and try to import gdal it complains that
> there is no such module.
> 
> 
> Arrgggghh!!!!
> 
> 
> ~ Allen
> 
> 
> On May 6, 2010, at 12:47 PM, Brice Lambi wrote:
> 
>> Hi Allen,
>>
>> Are you compiling from source?  When I install gdal python I just go
>> into the swig/python directory and run 'python setup.py install'.  This
>> should work.  The steps I take:
>>
>> tar zxvf gdal-1.7.1.tar.gz
>> cd gdal-1.7.1
>> ./configure --prefix=/usr
>> make
>> make install #run as root
>> cd swig/python
>> python setup.py install #run as root
>>
>> Hope this helps.
>>
>> Cheers,
>> Brice
>>
>>
>> Allen Rongone wrote:
>>> Hello All,
>>>
>>>    New here so don't beat me up to bad.
>>>
>>>    I'm trying to get the GDAL module to install on a Red Hat Enterprise
>>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>>
>>>    I have installed the setuptools 0.6c11 and am using easy_install
>>>
>>>    My gdal-config is in /usr/bin, however, when I run easy_install GDAL
>>> it complains that it "Could not run gdal-config!!!" and then contiues on
>>> complaining about a bunch of stuff not
>>>    being declared.
>>>
>>>    I can not find the setup.py to edit and change the location of
>>> gdal-config. easy_install must clean everything up if it fails.
>>>
>>>
>>>
>>>    Does anyone know how to get this to work or will we have to do
>>> without GDAL in python?
>>>
>>> Thanks for any help,
>>> Allen
>>>
>>> I've included everything I thought pertinent below:
>>>
>>>
>>> [root@psd14 ~]# uname -a
>>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST
>>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>>> [root@psd14 ~]# python
>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>> Type "help", "copyright", "credits" or "license" for more information.
>>>>>>
>>> KeyboardInterrupt
>>>>>>
>>> [root@psd14 ~]# which gdal-config
>>> /usr/bin/gdal-config
>>> [root@psd14 ~]# easy_install GDAL
>>> Searching for GDAL
>>> Reading http://pypi.python.org/simple/GDAL/
>>> Reading http://www.gdal.org
>>> Best match: GDAL 1.7.1
>>> Downloading
>>> http://pypi.python.org/packages/source/G/GDAL/GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>>
>>>
>>> Processing GDAL-1.7.1.tar.gz
>>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>>> Could not run gdal-config!!!!
>>> cc1plus: warning: command line option "-Wstrict-prototypes" is valid for
>>> Ada/C/ObjC but not for C++
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>>> char*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:3371: error:
>>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>>> extensions/gdal_wrap.cpp:3744: error:
>>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in this
>>> scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*,
>>> int)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4083: error:
>>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int, const
>>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4147: error:
>>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*, char**,
>>> int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4306: error:
>>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,
>>> void*, int, double*, char**, int (*)(double, const char*, void*),
>>> void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4342: error:
>>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>>> void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,
>>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,
>>> void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> RegenerateOverviews(GDALRasterBandShadow*, int, GDALRasterBandShadow**,
>>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>> $(B!F(BGDALRasterBand*$(B!G
>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>> $(B!F(BGDALRasterBand**$(B!G
>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*, const
>>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>> $(B!F(BGDALRasterBand*$(B!G
>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>> $(B!F(BGDALRasterBand**$(B!G
>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp: In function
>>> $(B!F(BGDALTransformerInfoShadow*
>>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>>> GDALDatasetShadow*, char**)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4445: error:
>>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared in
>>> this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALTransformerInfoShadow_TransformPoint__SWIG_0(GDALTransformerInfoShadow*,
>>>
>>> int, double*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4456: error:
>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALTransformerInfoShadow_TransformPoint__SWIG_1(GDALTransformerInfoShadow*,
>>>
>>> double*, int, double, double, double)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4468: error:
>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>>> int, int, double*, double*, double*, int*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4550: error:
>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>>> IdentifyDriver(const char*, char**)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4661: error:
>>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B was
>>> not declared in this scope
>>> error: Setup script exited with error: command 'gcc' failed with exit
>>> status 1
>>> [root@psd14 ~]#
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

From lambi at ucar.edu  Tue May 11 12:43:26 2010
From: lambi at ucar.edu (Brice Lambi)
Date: Tue May 11 12:43:28 2010
Subject: [gdal-dev] Convert shapefile to SQL text for PostGIS
In-Reply-To: <4BE98234.90209@ucar.edu>
References: <AANLkTimO2u8X6ebQ_0TeaHu_t__-x4icNqzX5iIZiT1u@mail.gmail.com>
	<4BE98234.90209@ucar.edu>
Message-ID: <4BE9892E.5070209@ucar.edu>

I just stumbled on this while looking for something completely
different, shp2pgsql:

http://postgis.refractions.net/docs/ch04.html

 The shp2pgsql data loader converts ESRI Shape files into SQL suitable
for insertion into a PostGIS/PostgreSQL database either in geometry or
geography format. The loader has several operating modes distinguished
by command line flags:

In addition to the shp2pgsql command-line loader, there is an
shp2pgsql-gui graphical interface with most of the options as the
command-line loader, but may be easier to use for one-off non-scripted
loading or if you are new to PostGIS. It can also be configured as a
plugin to PgAdminIII.




Brice Lambi wrote:
> You can use shp2text:
> 
> http://www.obviously.com/gis/shp2text/
> 
> It won't output the insert statements directly but it will create a tab
> delimited file that you could then parse into your database.
> 
> 
> 
> Aleksey Naumov wrote:
>> Dear GDAL users,
>>
>> Is there a way to use ogr2ogr or other means to convert a layer (e.g. a
>> shapefile) into an SQL text file suitable for insertion into PostGIS? In
>> other words, a file with SQL text like:
>>
>> INSERT INTO "my_table" ("the_geom" ) VALUES
>> (GeomFromEWKT('SRID=-1;POLYGON (( ...))'::TEXT) );
>>
>> which could be read into PostgreSQL later. Ideally, I am looking for a
>> direct conversion, i.e. not involving PostGIS.
>>
>> Thank you,
>> Aleksey
>>
>>
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From arongone at aer.com  Tue May 11 13:13:28 2010
From: arongone at aer.com (Allen Rongone)
Date: Tue May 11 13:13:31 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <4BE2F2B6.9030005@ucar.edu>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
Message-ID: <A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>

Brice,

	I think I was using the tarball specific to the python module. I  
think I downloaded the correct one now - gdal-1.7.2.tar.gz

	I ran the configure script as such:

	# ./configure --prefix=/opt/GOESR/local --with-python
	
	Then a make
	# make

	Then a make install
	# make install


	Everything seemed fine until I tried to import the module in python.  
I got this when I tried:


> [root@psd14 gdal-1.7.2]# python
> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
> Type "help", "copyright", "credits" or "license" for more information.
> >>> from osgeo import gdal
> Traceback (most recent call last):
>   File "<stdin>", line 1, in <module>
>   File "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2- 
> py2.6-linux-x86_64.egg/osgeo/__init__.py", line 21, in <module>
>     _gdal = swig_import_helper()
>   File "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2- 
> py2.6-linux-x86_64.egg/osgeo/__init__.py", line 17, in  
> swig_import_helper
>     _mod = imp.load_module('_gdal', fp, pathname, description)
> ImportError: /opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2- 
> py2.6-linux-x86_64.egg/osgeo/_gdal.so: undefined symbol:  
> GDALGetMaskFlags
> >>>

Any ideas why I'm getting the ImportError with the undefined symbol?

Thank you very much for your help,
Allen Rongone


On May 6, 2010, at 12:47 PM, Brice Lambi wrote:

> Hi Allen,
>
> Are you compiling from source?  When I install gdal python I just go
> into the swig/python directory and run 'python setup.py install'.   
> This
> should work.  The steps I take:
>
> tar zxvf gdal-1.7.1.tar.gz
> cd gdal-1.7.1
> ./configure --prefix=/usr
> make
> make install #run as root
> cd swig/python
> python setup.py install #run as root
>
> Hope this helps.
>
> Cheers,
> Brice
>
>
> Allen Rongone wrote:
>> Hello All,
>>
>>    New here so don't beat me up to bad.
>>
>>    I'm trying to get the GDAL module to install on a Red Hat  
>> Enterprise
>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>
>>    I have installed the setuptools 0.6c11 and am using easy_install
>>
>>    My gdal-config is in /usr/bin, however, when I run easy_install  
>> GDAL
>> it complains that it "Could not run gdal-config!!!" and then  
>> contiues on
>> complaining about a bunch of stuff not
>>    being declared.
>>
>>    I can not find the setup.py to edit and change the location of
>> gdal-config. easy_install must clean everything up if it fails.
>>
>>
>>
>>    Does anyone know how to get this to work or will we have to do
>> without GDAL in python?
>>
>> Thanks for any help,
>> Allen
>>
>> I've included everything I thought pertinent below:
>>
>>
>> [root@psd14 ~]# uname -a
>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST
>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>> [root@psd14 ~]# python
>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>> Type "help", "copyright", "credits" or "license" for more  
>> information.
>>>>>
>> KeyboardInterrupt
>>>>>
>> [root@psd14 ~]# which gdal-config
>> /usr/bin/gdal-config
>> [root@psd14 ~]# easy_install GDAL
>> Searching for GDAL
>> Reading http://pypi.python.org/simple/GDAL/
>> Reading http://www.gdal.org
>> Best match: GDAL 1.7.1
>> Downloading
>> http://pypi.python.org/packages/source/G/GDAL/ 
>> GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>
>> Processing GDAL-1.7.1.tar.gz
>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>> Could not run gdal-config!!!!
>> cc1plus: warning: command line option "-Wstrict-prototypes" is  
>> valid for
>> Ada/C/ObjC but not for C++
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>> char*)$(B!G(B:
>> extensions/gdal_wrap.cpp:3371: error:
>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>> extensions/gdal_wrap.cpp:3744: error:
>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in  
>> this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*, int)$(B! 
>> G(B:
>> extensions/gdal_wrap.cpp:4083: error:
>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int,  
>> const
>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4147: error:
>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>> char**,
>> int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4306: error:
>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,
>> void*, int, double*, char**, int (*)(double, const char*, void*),
>> void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4342: error:
>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>> void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,
>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,
>> void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$(B! 
>> G(B
>> was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RegenerateOverviews(GDALRasterBandShadow*, int,  
>> GDALRasterBandShadow**,
>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand* 
>> $(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow**$(B!G(B to $(B! 
>> F(BGDALRasterBand**$(B!G
>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>> const
>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow*$(B!G(B to $(B!F(BGDALRasterBand* 
>> $(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>> $(B!F(BGDALRasterBandShadow**$(B!G(B to $(B! 
>> F(BGDALRasterBand**$(B!G
>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>> void*)$(B!G
>> (Bextensions/gdal_wrap.cpp: In function
>> $(B!F(BGDALTransformerInfoShadow*
>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>> GDALDatasetShadow*, char**)$(B!G(B:
>> extensions/gdal_wrap.cpp:4445: error:
>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared  
>> in
>> this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoint__SWIG_0 
>> (GDALTransformerInfoShadow*,
>> int, double*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4456: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoint__SWIG_1 
>> (GDALTransformerInfoShadow*,
>> double*, int, double, double, double)$(B!G(B:
>> extensions/gdal_wrap.cpp:4468: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>> int, int, double*, double*, double*, int*)$(B!G(B:
>> extensions/gdal_wrap.cpp:4550: error:
>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>> IdentifyDriver(const char*, char**)$(B!G(B:
>> extensions/gdal_wrap.cpp:4661: error:
>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B  
>> was
>> not declared in this scope
>> error: Setup script exited with error: command 'gcc' failed with exit
>> status 1
>> [root@psd14 ~]#
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From anaumov at gmail.com  Tue May 11 13:10:15 2010
From: anaumov at gmail.com (Aleksey Naumov)
Date: Tue May 11 13:16:55 2010
Subject: [gdal-dev] Rename a field with ogr2ogr?
Message-ID: <AANLkTike6gNDw_h5ZzpgMUF0fkcioDzL1bdwdogEv5Na@mail.gmail.com>

Hi,

Another question on ogr2ogr: is there a way to rename a field while
converting a layer? E.g. using ogr2ogr to convert a personal geodatabase
layer with long field names to a shapefile, I'd like to avoid automatic
truncation of field names, e.g. from "long_field_name123" to "long_field". I
know I can use -select switch to pick certain fields, but what about
renaming (perhaps some trick via the -sql option?)?

Thank you,
Aleksey
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100511/69057c37/attachment.html
From lambi at ucar.edu  Tue May 11 13:19:29 2010
From: lambi at ucar.edu (Brice Lambi)
Date: Tue May 11 13:19:36 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
Message-ID: <4BE991A1.3000500@ucar.edu>

What is your python path?

# python
>>> import sys
>>> sys.path

What does that say?  It might have linked against the wrong version of
gdal or it might be finding another gdal library in your path.  If you
are using the default python (/usr/bin/python) it is probably finding
something in /usr/lib before /opt/GEOSR/local.




Allen Rongone wrote:
> Brice,
> 
>     I think I was using the tarball specific to the python module. I
> think I downloaded the correct one now - gdal-1.7.2.tar.gz
> 
>     I ran the configure script as such:
> 
>     # ./configure --prefix=/opt/GOESR/local --with-python
>     
>     Then a make
>     # make
> 
>     Then a make install
>     # make install
> 
> 
>     Everything seemed fine until I tried to import the module in python.
> I got this when I tried:
> 
> 
>> [root@psd14 gdal-1.7.2]# python
>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>> Type "help", "copyright", "credits" or "license" for more information.
>> >>> from osgeo import gdal
>> Traceback (most recent call last):
>>   File "<stdin>", line 1, in <module>
>>   File
>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/__init__.py",
>> line 21, in <module>
>>     _gdal = swig_import_helper()
>>   File
>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/__init__.py",
>> line 17, in swig_import_helper
>>     _mod = imp.load_module('_gdal', fp, pathname, description)
>> ImportError:
>> /opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/_gdal.so:
>> undefined symbol: GDALGetMaskFlags
>> >>>
> 
> Any ideas why I'm getting the ImportError with the undefined symbol?
> 
> Thank you very much for your help,
> Allen Rongone
> 
> 
> On May 6, 2010, at 12:47 PM, Brice Lambi wrote:
> 
>> Hi Allen,
>>
>> Are you compiling from source?  When I install gdal python I just go
>> into the swig/python directory and run 'python setup.py install'.  This
>> should work.  The steps I take:
>>
>> tar zxvf gdal-1.7.1.tar.gz
>> cd gdal-1.7.1
>> ./configure --prefix=/usr
>> make
>> make install #run as root
>> cd swig/python
>> python setup.py install #run as root
>>
>> Hope this helps.
>>
>> Cheers,
>> Brice
>>
>>
>> Allen Rongone wrote:
>>> Hello All,
>>>
>>>    New here so don't beat me up to bad.
>>>
>>>    I'm trying to get the GDAL module to install on a Red Hat Enterprise
>>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>>
>>>    I have installed the setuptools 0.6c11 and am using easy_install
>>>
>>>    My gdal-config is in /usr/bin, however, when I run easy_install GDAL
>>> it complains that it "Could not run gdal-config!!!" and then contiues on
>>> complaining about a bunch of stuff not
>>>    being declared.
>>>
>>>    I can not find the setup.py to edit and change the location of
>>> gdal-config. easy_install must clean everything up if it fails.
>>>
>>>
>>>
>>>    Does anyone know how to get this to work or will we have to do
>>> without GDAL in python?
>>>
>>> Thanks for any help,
>>> Allen
>>>
>>> I've included everything I thought pertinent below:
>>>
>>>
>>> [root@psd14 ~]# uname -a
>>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST
>>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>>> [root@psd14 ~]# python
>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>> Type "help", "copyright", "credits" or "license" for more information.
>>>>>>
>>> KeyboardInterrupt
>>>>>>
>>> [root@psd14 ~]# which gdal-config
>>> /usr/bin/gdal-config
>>> [root@psd14 ~]# easy_install GDAL
>>> Searching for GDAL
>>> Reading http://pypi.python.org/simple/GDAL/
>>> Reading http://www.gdal.org
>>> Best match: GDAL 1.7.1
>>> Downloading
>>> http://pypi.python.org/packages/source/G/GDAL/GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>>
>>>
>>> Processing GDAL-1.7.1.tar.gz
>>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>>> Could not run gdal-config!!!!
>>> cc1plus: warning: command line option "-Wstrict-prototypes" is valid for
>>> Ada/C/ObjC but not for C++
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>>> char*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:3371: error:
>>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>>> extensions/gdal_wrap.cpp:3744: error:
>>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in this
>>> scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*,
>>> int)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4083: error:
>>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int, const
>>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4147: error:
>>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*, char**,
>>> int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4306: error:
>>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,
>>> void*, int, double*, char**, int (*)(double, const char*, void*),
>>> void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4342: error:
>>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>>> void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,
>>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,
>>> void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$(B!G(B
>>> was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> RegenerateOverviews(GDALRasterBandShadow*, int, GDALRasterBandShadow**,
>>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>> $(B!F(BGDALRasterBand*$(B!G
>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>> $(B!F(BGDALRasterBand**$(B!G
>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*, const
>>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>> $(B!F(BGDALRasterBand*$(B!G
>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>> $(B!F(BGDALRasterBand**$(B!G
>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>> void*)$(B!G
>>> (Bextensions/gdal_wrap.cpp: In function
>>> $(B!F(BGDALTransformerInfoShadow*
>>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>>> GDALDatasetShadow*, char**)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4445: error:
>>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared in
>>> this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALTransformerInfoShadow_TransformPoint__SWIG_0(GDALTransformerInfoShadow*,
>>>
>>> int, double*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4456: error:
>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALTransformerInfoShadow_TransformPoint__SWIG_1(GDALTransformerInfoShadow*,
>>>
>>> double*, int, double, double, double)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4468: error:
>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>>> int, int, double*, double*, double*, int*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4550: error:
>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>>> IdentifyDriver(const char*, char**)$(B!G(B:
>>> extensions/gdal_wrap.cpp:4661: error:
>>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B was
>>> not declared in this scope
>>> error: Setup script exited with error: command 'gcc' failed with exit
>>> status 1
>>> [root@psd14 ~]#
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>

From arongone at aer.com  Tue May 11 13:40:36 2010
From: arongone at aer.com (Allen Rongone)
Date: Tue May 11 13:40:38 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <4BE991A1.3000500@ucar.edu>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
	<4BE991A1.3000500@ucar.edu>
Message-ID: <5269763E-D8B1-4F84-A197-A94526047646@aer.com>


On May 11, 2010, at 1:19 PM, Brice Lambi wrote:

> What is your python path?
>
> # python
>>>> import sys
>>>> sys.path
>
> What does that say?  It might have linked against the wrong version of
> gdal or it might be finding another gdal library in your path.  If you
> are using the default python (/usr/bin/python) it is probably finding
> something in /usr/lib before /opt/GEOSR/local.
>

Here is the output from the command above:

[root@psd14 ~]# python
Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
[GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
 >>> import sys
 >>> sys.path
['', '/opt/GOESR/local/lib/python2.6/site-packages/setuptools-0.6c11- 
py2.6.egg', '/opt/GOESR/local/lib/python2.6/site-packages/numpy-1.4.1- 
py2.6-linux-x86_64.egg', '/opt/GOESR/local/lib/python2.6/site-packages/ 
scipy-0.7.2-py2.6-linux-x86_64.egg', '/opt/GOESR/local/lib/python2.6/ 
site-packages/matplotlib-0.99.1.1-py2.6-linux-x86_64.egg', '/opt/GOESR/ 
local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg',  
'/opt/GOESR/local/lib/python26.zip', '/opt/GOESR/local/lib/python2.6',  
'/opt/GOESR/local/lib/python2.6/plat-linux2', '/opt/GOESR/local/lib/ 
python2.6/lib-tk', '/opt/GOESR/local/lib/python2.6/lib-old', '/opt/ 
GOESR/local/lib/python2.6/lib-dynload', '/opt/GOESR/local/lib/ 
python2.6/site-packages']
 >>>
[root@psd14 ~]# which python
/opt/GOESR/local/bin/python



There still exists version 1.4.4 of gdal and gdal-devel from the Red  
Hat build, on this system, but they don't show up in the path.

Is there a way to back out everything?

Then I could remove gdal 1.4.4. with yum and try to install from the  
tarball again.

Does this make sense?

Sorry for all the trouble...

~ Allen


>
>
>
> Allen Rongone wrote:
>> Brice,
>>
>>    I think I was using the tarball specific to the python module. I
>> think I downloaded the correct one now - gdal-1.7.2.tar.gz
>>
>>    I ran the configure script as such:
>>
>>    # ./configure --prefix=/opt/GOESR/local --with-python
>>
>>    Then a make
>>    # make
>>
>>    Then a make install
>>    # make install
>>
>>
>>    Everything seemed fine until I tried to import the module in  
>> python.
>> I got this when I tried:
>>
>>
>>> [root@psd14 gdal-1.7.2]# python
>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>> Type "help", "copyright", "credits" or "license" for more  
>>> information.
>>>>>> from osgeo import gdal
>>> Traceback (most recent call last):
>>>  File "<stdin>", line 1, in <module>
>>>  File
>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>>> linux-x86_64.egg/osgeo/__init__.py",
>>> line 21, in <module>
>>>    _gdal = swig_import_helper()
>>>  File
>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>>> linux-x86_64.egg/osgeo/__init__.py",
>>> line 17, in swig_import_helper
>>>    _mod = imp.load_module('_gdal', fp, pathname, description)
>>> ImportError:
>>> /opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>>> linux-x86_64.egg/osgeo/_gdal.so:
>>> undefined symbol: GDALGetMaskFlags
>>>>>>
>>
>> Any ideas why I'm getting the ImportError with the undefined symbol?
>>
>> Thank you very much for your help,
>> Allen Rongone
>>
>>
>> On May 6, 2010, at 12:47 PM, Brice Lambi wrote:
>>
>>> Hi Allen,
>>>
>>> Are you compiling from source?  When I install gdal python I just go
>>> into the swig/python directory and run 'python setup.py install'.   
>>> This
>>> should work.  The steps I take:
>>>
>>> tar zxvf gdal-1.7.1.tar.gz
>>> cd gdal-1.7.1
>>> ./configure --prefix=/usr
>>> make
>>> make install #run as root
>>> cd swig/python
>>> python setup.py install #run as root
>>>
>>> Hope this helps.
>>>
>>> Cheers,
>>> Brice
>>>
>>>
>>> Allen Rongone wrote:
>>>> Hello All,
>>>>
>>>>   New here so don't beat me up to bad.
>>>>
>>>>   I'm trying to get the GDAL module to install on a Red Hat  
>>>> Enterprise
>>>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>>>
>>>>   I have installed the setuptools 0.6c11 and am using easy_install
>>>>
>>>>   My gdal-config is in /usr/bin, however, when I run easy_install  
>>>> GDAL
>>>> it complains that it "Could not run gdal-config!!!" and then  
>>>> contiues on
>>>> complaining about a bunch of stuff not
>>>>   being declared.
>>>>
>>>>   I can not find the setup.py to edit and change the location of
>>>> gdal-config. easy_install must clean everything up if it fails.
>>>>
>>>>
>>>>
>>>>   Does anyone know how to get this to work or will we have to do
>>>> without GDAL in python?
>>>>
>>>> Thanks for any help,
>>>> Allen
>>>>
>>>> I've included everything I thought pertinent below:
>>>>
>>>>
>>>> [root@psd14 ~]# uname -a
>>>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08  
>>>> EST
>>>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>>>> [root@psd14 ~]# python
>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>> Type "help", "copyright", "credits" or "license" for more  
>>>> information.
>>>>>>>
>>>> KeyboardInterrupt
>>>>>>>
>>>> [root@psd14 ~]# which gdal-config
>>>> /usr/bin/gdal-config
>>>> [root@psd14 ~]# easy_install GDAL
>>>> Searching for GDAL
>>>> Reading http://pypi.python.org/simple/GDAL/
>>>> Reading http://www.gdal.org
>>>> Best match: GDAL 1.7.1
>>>> Downloading
>>>> http://pypi.python.org/packages/source/G/GDAL/ 
>>>> GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>>>
>>>>
>>>> Processing GDAL-1.7.1.tar.gz
>>>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>>>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>>>> Could not run gdal-config!!!!
>>>> cc1plus: warning: command line option "-Wstrict-prototypes" is  
>>>> valid for
>>>> Ada/C/ObjC but not for C++
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>>>> char*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:3371: error:
>>>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:3744: error:
>>>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in  
>>>> this
>>>> scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>>>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:3747: error: $(B!F(BGDALGetFileList$ 
>>>> (B!G(B
>>>> was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B! 
>>>> F(BGDALRasterBandShadow*
>>>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4077: error: $(B!F(BGDALGetMaskBand$ 
>>>> (B!G(B
>>>> was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4080: error: $(B!F(BGDALGetMaskFlags$ 
>>>> (B!G(B
>>>> was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*,
>>>> int)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4083: error:
>>>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>>>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int,  
>>>> const
>>>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4147: error:
>>>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this  
>>>> scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>>>> char**,
>>>> int (*)(double, const char*, void*), void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4306: error:
>>>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this  
>>>> scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*,  
>>>> void*,
>>>> void*, int, double*, char**, int (*)(double, const char*, void*),
>>>> void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4342: error:
>>>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this  
>>>> scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>>>> void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B! 
>>>> G(B
>>>> was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double,  
>>>> int,
>>>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B! 
>>>> G(B
>>>> was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const  
>>>> char*,
>>>> void*), void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4394: error: $(B!F(BGDALSieveFilter$ 
>>>> (B!G(B
>>>> was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> RegenerateOverviews(GDALRasterBandShadow*, int,  
>>>> GDALRasterBandShadow**,
>>>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>> $(B!F(BGDALRasterBand*$(B!G
>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>> void*)$(B!G
>>>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>> $(B!F(BGDALRasterBand**$(B!G
>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>> void*)$(B!G
>>>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>>>> const
>>>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>> $(B!F(BGDALRasterBand*$(B!G
>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>> void*)$(B!G
>>>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>> $(B!F(BGDALRasterBand**$(B!G
>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>> void*)$(B!G
>>>> (Bextensions/gdal_wrap.cpp: In function
>>>> $(B!F(BGDALTransformerInfoShadow*
>>>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>>>> GDALDatasetShadow*, char**)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4445: error:
>>>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not  
>>>> declared in
>>>> this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_0 
>>>> (GDALTransformerInfoShadow*,
>>>>
>>>> int, double*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4456: error:
>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_1 
>>>> (GDALTransformerInfoShadow*,
>>>>
>>>> double*, int, double, double, double)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4468: error:
>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>> GDALTransformerInfoShadow_TransformPoints 
>>>> (GDALTransformerInfoShadow*,
>>>> int, int, double*, double*, double*, int*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4550: error:
>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>>>> IdentifyDriver(const char*, char**)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:4661: error:
>>>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>>>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>>>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>>>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B! 
>>>> G(B was
>>>> not declared in this scope
>>>> error: Setup script exited with error: command 'gcc' failed with  
>>>> exit
>>>> status 1
>>>> [root@psd14 ~]#
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev@lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>

From even.rouault at mines-paris.org  Tue May 11 14:09:43 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 11 14:09:52 2010
Subject: [gdal-dev] Rename a field with ogr2ogr?
In-Reply-To: <AANLkTike6gNDw_h5ZzpgMUF0fkcioDzL1bdwdogEv5Na@mail.gmail.com>
References: <AANLkTike6gNDw_h5ZzpgMUF0fkcioDzL1bdwdogEv5Na@mail.gmail.com>
Message-ID: <201005112009.43660.even.rouault@mines-paris.org>

Aleksey,

You cannot rename a field in an existing dataset, but while using ogr2ogr you 
can indeed use -sql to do the renaming during the conversion.

For example : ogr2ogr outdataset indataset -sql "SELECT src_field1 AS 
dst_field1, src_field2 AS dst_field2 FROM sourcelayer"

See http://gdal.org/ogr/ogr_sql.html

(Note that the above OGR SQL is not used when the source dataset is a 
database. In that case, the SQL string is just passed to the server. But for 
your use case, this is standard SQL so it shouldn't matter if it's run by OGR 
or by the server. And if you need the SQL query to be run by OGR, you can 
add "-dialect OGRSQL" to the ogr2ogr command line.)

Le Tuesday 11 May 2010 19:10:15 Aleksey Naumov, vous avez ?crit?:
> Hi,
>
> Another question on ogr2ogr: is there a way to rename a field while
> converting a layer? E.g. using ogr2ogr to convert a personal geodatabase
> layer with long field names to a shapefile, I'd like to avoid automatic
> truncation of field names, e.g. from "long_field_name123" to "long_field".
> I know I can use -select switch to pick certain fields, but what about
> renaming (perhaps some trick via the -sql option?)?
>
> Thank you,
> Aleksey




From lambi at ucar.edu  Tue May 11 14:10:10 2010
From: lambi at ucar.edu (Brice Lambi)
Date: Tue May 11 14:10:14 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <5269763E-D8B1-4F84-A197-A94526047646@aer.com>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
	<4BE991A1.3000500@ucar.edu>
	<5269763E-D8B1-4F84-A197-A94526047646@aer.com>
Message-ID: <4BE99D82.6070101@ucar.edu>

It really looks like a linking error, make sure that
/opt/GOESR/local/lib is in your LD_LIBRARY_PATH before /usr/lib or
/usr/local/lib.  If you won't use it, it would probably be best to
remove all gdal stuff from yum just to avoid any confusion.

Also when you ran python setup.py install in the swig/python area make
sure you see something like -L/opt/GEOSR/local/lib in the compiler
commands flying across your screen.  If you don't see this, and your
LD_LIBRARY_PATH isn't setup it is probably still trying to use something
in /usr/

Good luck,
Brice


Allen Rongone wrote:
> 
> On May 11, 2010, at 1:19 PM, Brice Lambi wrote:
> 
>> What is your python path?
>>
>> # python
>>>>> import sys
>>>>> sys.path
>>
>> What does that say?  It might have linked against the wrong version of
>> gdal or it might be finding another gdal library in your path.  If you
>> are using the default python (/usr/bin/python) it is probably finding
>> something in /usr/lib before /opt/GEOSR/local.
>>
> 
> Here is the output from the command above:
> 
> [root@psd14 ~]# python
> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
> Type "help", "copyright", "credits" or "license" for more information.
>>>> import sys
>>>> sys.path
> ['',
> '/opt/GOESR/local/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg',
> '/opt/GOESR/local/lib/python2.6/site-packages/numpy-1.4.1-py2.6-linux-x86_64.egg',
> '/opt/GOESR/local/lib/python2.6/site-packages/scipy-0.7.2-py2.6-linux-x86_64.egg',
> '/opt/GOESR/local/lib/python2.6/site-packages/matplotlib-0.99.1.1-py2.6-linux-x86_64.egg',
> '/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg',
> '/opt/GOESR/local/lib/python26.zip', '/opt/GOESR/local/lib/python2.6',
> '/opt/GOESR/local/lib/python2.6/plat-linux2',
> '/opt/GOESR/local/lib/python2.6/lib-tk',
> '/opt/GOESR/local/lib/python2.6/lib-old',
> '/opt/GOESR/local/lib/python2.6/lib-dynload',
> '/opt/GOESR/local/lib/python2.6/site-packages']
>>>>
> [root@psd14 ~]# which python
> /opt/GOESR/local/bin/python
> 
> 
> 
> There still exists version 1.4.4 of gdal and gdal-devel from the Red Hat
> build, on this system, but they don't show up in the path.
> 
> Is there a way to back out everything?
> 
> Then I could remove gdal 1.4.4. with yum and try to install from the
> tarball again.
> 
> Does this make sense?
> 
> Sorry for all the trouble...
> 
> ~ Allen
> 
> 
>>
>>
>>
>> Allen Rongone wrote:
>>> Brice,
>>>
>>>    I think I was using the tarball specific to the python module. I
>>> think I downloaded the correct one now - gdal-1.7.2.tar.gz
>>>
>>>    I ran the configure script as such:
>>>
>>>    # ./configure --prefix=/opt/GOESR/local --with-python
>>>
>>>    Then a make
>>>    # make
>>>
>>>    Then a make install
>>>    # make install
>>>
>>>
>>>    Everything seemed fine until I tried to import the module in python.
>>> I got this when I tried:
>>>
>>>
>>>> [root@psd14 gdal-1.7.2]# python
>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>> Type "help", "copyright", "credits" or "license" for more information.
>>>>>>> from osgeo import gdal
>>>> Traceback (most recent call last):
>>>>  File "<stdin>", line 1, in <module>
>>>>  File
>>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/__init__.py",
>>>>
>>>> line 21, in <module>
>>>>    _gdal = swig_import_helper()
>>>>  File
>>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/__init__.py",
>>>>
>>>> line 17, in swig_import_helper
>>>>    _mod = imp.load_module('_gdal', fp, pathname, description)
>>>> ImportError:
>>>> /opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/_gdal.so:
>>>>
>>>> undefined symbol: GDALGetMaskFlags
>>>>>>>
>>>
>>> Any ideas why I'm getting the ImportError with the undefined symbol?
>>>
>>> Thank you very much for your help,
>>> Allen Rongone
>>>
>>>
>>> On May 6, 2010, at 12:47 PM, Brice Lambi wrote:
>>>
>>>> Hi Allen,
>>>>
>>>> Are you compiling from source?  When I install gdal python I just go
>>>> into the swig/python directory and run 'python setup.py install'.  This
>>>> should work.  The steps I take:
>>>>
>>>> tar zxvf gdal-1.7.1.tar.gz
>>>> cd gdal-1.7.1
>>>> ./configure --prefix=/usr
>>>> make
>>>> make install #run as root
>>>> cd swig/python
>>>> python setup.py install #run as root
>>>>
>>>> Hope this helps.
>>>>
>>>> Cheers,
>>>> Brice
>>>>
>>>>
>>>> Allen Rongone wrote:
>>>>> Hello All,
>>>>>
>>>>>   New here so don't beat me up to bad.
>>>>>
>>>>>   I'm trying to get the GDAL module to install on a Red Hat Enterprise
>>>>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>>>>
>>>>>   I have installed the setuptools 0.6c11 and am using easy_install
>>>>>
>>>>>   My gdal-config is in /usr/bin, however, when I run easy_install GDAL
>>>>> it complains that it "Could not run gdal-config!!!" and then
>>>>> contiues on
>>>>> complaining about a bunch of stuff not
>>>>>   being declared.
>>>>>
>>>>>   I can not find the setup.py to edit and change the location of
>>>>> gdal-config. easy_install must clean everything up if it fails.
>>>>>
>>>>>
>>>>>
>>>>>   Does anyone know how to get this to work or will we have to do
>>>>> without GDAL in python?
>>>>>
>>>>> Thanks for any help,
>>>>> Allen
>>>>>
>>>>> I've included everything I thought pertinent below:
>>>>>
>>>>>
>>>>> [root@psd14 ~]# uname -a
>>>>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08 EST
>>>>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>>>>> [root@psd14 ~]# python
>>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>>> Type "help", "copyright", "credits" or "license" for more information.
>>>>>>>>
>>>>> KeyboardInterrupt
>>>>>>>>
>>>>> [root@psd14 ~]# which gdal-config
>>>>> /usr/bin/gdal-config
>>>>> [root@psd14 ~]# easy_install GDAL
>>>>> Searching for GDAL
>>>>> Reading http://pypi.python.org/simple/GDAL/
>>>>> Reading http://www.gdal.org
>>>>> Best match: GDAL 1.7.1
>>>>> Downloading
>>>>> http://pypi.python.org/packages/source/G/GDAL/GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>>>>
>>>>>
>>>>>
>>>>> Processing GDAL-1.7.1.tar.gz
>>>>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>>>>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>>>>> Could not run gdal-config!!!!
>>>>> cc1plus: warning: command line option "-Wstrict-prototypes" is
>>>>> valid for
>>>>> Ada/C/ObjC but not for C++
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>>>>> char*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:3371: error:
>>>>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:3744: error:
>>>>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in this
>>>>> scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>>>>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:3747: error:
>>>>> $(B!F(BGDALGetFileList$(B!G(B
>>>>> was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>>>>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4077: error:
>>>>> $(B!F(BGDALGetMaskBand$(B!G(B
>>>>> was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4080: error:
>>>>> $(B!F(BGDALGetMaskFlags$(B!G(B
>>>>> was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*,
>>>>> int)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4083: error:
>>>>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>>>>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int, const
>>>>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4147: error:
>>>>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*, char**,
>>>>> int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4306: error:
>>>>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*, void*,
>>>>> void*, int, double*, char**, int (*)(double, const char*, void*),
>>>>> void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4342: error:
>>>>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>>>>> void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$(B!G(B
>>>>> was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double, int,
>>>>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$(B!G(B
>>>>> was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const char*,
>>>>> void*), void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4394: error:
>>>>> $(B!F(BGDALSieveFilter$(B!G(B
>>>>> was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> RegenerateOverviews(GDALRasterBandShadow*, int,
>>>>> GDALRasterBandShadow**,
>>>>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>>> $(B!F(BGDALRasterBand*$(B!G
>>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>> void*)$(B!G
>>>>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>>> $(B!F(BGDALRasterBand**$(B!G
>>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>> void*)$(B!G
>>>>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*, const
>>>>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>>> $(B!F(BGDALRasterBand*$(B!G
>>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>> void*)$(B!G
>>>>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>>> $(B!F(BGDALRasterBand**$(B!G
>>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>> void*)$(B!G
>>>>> (Bextensions/gdal_wrap.cpp: In function
>>>>> $(B!F(BGDALTransformerInfoShadow*
>>>>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>>>>> GDALDatasetShadow*, char**)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4445: error:
>>>>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not declared in
>>>>> this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_0(GDALTransformerInfoShadow*,
>>>>>
>>>>>
>>>>> int, double*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4456: error:
>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_1(GDALTransformerInfoShadow*,
>>>>>
>>>>>
>>>>> double*, int, double, double, double)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4468: error:
>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>>>>> int, int, double*, double*, double*, int*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4550: error:
>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>>>>> IdentifyDriver(const char*, char**)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:4661: error:
>>>>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>>>>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>>>>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B!G(B was
>>>>> not declared in this scope
>>>>> error: Setup script exited with error: command 'gcc' failed with exit
>>>>> status 1
>>>>> [root@psd14 ~]#
>>>>>
>>>>> _______________________________________________
>>>>> gdal-dev mailing list
>>>>> gdal-dev@lists.osgeo.org
>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>

From arongone at aer.com  Tue May 11 14:32:57 2010
From: arongone at aer.com (Allen Rongone)
Date: Tue May 11 14:33:09 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <4BE99D82.6070101@ucar.edu>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
	<4BE991A1.3000500@ucar.edu>
	<5269763E-D8B1-4F84-A197-A94526047646@aer.com>
	<4BE99D82.6070101@ucar.edu>
Message-ID: <E685B08D-5A99-4203-91D8-6307CD4AB65D@aer.com>

Brice,

	Thank you for all your help. However, I did want to know if I need to  
back out all the gdal-1.7.2 I just installed before I start over, or  
can I just run the make clean/ configure /make /make install, again  
after I remove the old gdal from the system? And if so, how would that  
be done?

Thanks again,
Allen


On May 11, 2010, at 2:10 PM, Brice Lambi wrote:

> It really looks like a linking error, make sure that
> /opt/GOESR/local/lib is in your LD_LIBRARY_PATH before /usr/lib or
> /usr/local/lib.  If you won't use it, it would probably be best to
> remove all gdal stuff from yum just to avoid any confusion.
>
> Also when you ran python setup.py install in the swig/python area make
> sure you see something like -L/opt/GEOSR/local/lib in the compiler
> commands flying across your screen.  If you don't see this, and your
> LD_LIBRARY_PATH isn't setup it is probably still trying to use  
> something
> in /usr/
>
> Good luck,
> Brice
>
>
> Allen Rongone wrote:
>>
>> On May 11, 2010, at 1:19 PM, Brice Lambi wrote:
>>
>>> What is your python path?
>>>
>>> # python
>>>>>> import sys
>>>>>> sys.path
>>>
>>> What does that say?  It might have linked against the wrong  
>>> version of
>>> gdal or it might be finding another gdal library in your path.  If  
>>> you
>>> are using the default python (/usr/bin/python) it is probably  
>>> finding
>>> something in /usr/lib before /opt/GEOSR/local.
>>>
>>
>> Here is the output from the command above:
>>
>> [root@psd14 ~]# python
>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>> Type "help", "copyright", "credits" or "license" for more  
>> information.
>>>>> import sys
>>>>> sys.path
>> ['',
>> '/opt/GOESR/local/lib/python2.6/site-packages/setuptools-0.6c11- 
>> py2.6.egg',
>> '/opt/GOESR/local/lib/python2.6/site-packages/numpy-1.4.1-py2.6- 
>> linux-x86_64.egg',
>> '/opt/GOESR/local/lib/python2.6/site-packages/scipy-0.7.2-py2.6- 
>> linux-x86_64.egg',
>> '/opt/GOESR/local/lib/python2.6/site-packages/matplotlib-0.99.1.1- 
>> py2.6-linux-x86_64.egg',
>> '/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>> linux-x86_64.egg',
>> '/opt/GOESR/local/lib/python26.zip', '/opt/GOESR/local/lib/ 
>> python2.6',
>> '/opt/GOESR/local/lib/python2.6/plat-linux2',
>> '/opt/GOESR/local/lib/python2.6/lib-tk',
>> '/opt/GOESR/local/lib/python2.6/lib-old',
>> '/opt/GOESR/local/lib/python2.6/lib-dynload',
>> '/opt/GOESR/local/lib/python2.6/site-packages']
>>>>>
>> [root@psd14 ~]# which python
>> /opt/GOESR/local/bin/python
>>
>>
>>
>> There still exists version 1.4.4 of gdal and gdal-devel from the  
>> Red Hat
>> build, on this system, but they don't show up in the path.
>>
>> Is there a way to back out everything?
>>
>> Then I could remove gdal 1.4.4. with yum and try to install from the
>> tarball again.
>>
>> Does this make sense?
>>
>> Sorry for all the trouble...
>>
>> ~ Allen
>>
>>
>>>
>>>
>>>
>>> Allen Rongone wrote:
>>>> Brice,
>>>>
>>>>   I think I was using the tarball specific to the python module. I
>>>> think I downloaded the correct one now - gdal-1.7.2.tar.gz
>>>>
>>>>   I ran the configure script as such:
>>>>
>>>>   # ./configure --prefix=/opt/GOESR/local --with-python
>>>>
>>>>   Then a make
>>>>   # make
>>>>
>>>>   Then a make install
>>>>   # make install
>>>>
>>>>
>>>>   Everything seemed fine until I tried to import the module in  
>>>> python.
>>>> I got this when I tried:
>>>>
>>>>
>>>>> [root@psd14 gdal-1.7.2]# python
>>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>>> Type "help", "copyright", "credits" or "license" for more  
>>>>> information.
>>>>>>>> from osgeo import gdal
>>>>> Traceback (most recent call last):
>>>>> File "<stdin>", line 1, in <module>
>>>>> File
>>>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>>>>> linux-x86_64.egg/osgeo/__init__.py",
>>>>>
>>>>> line 21, in <module>
>>>>>   _gdal = swig_import_helper()
>>>>> File
>>>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>>>>> linux-x86_64.egg/osgeo/__init__.py",
>>>>>
>>>>> line 17, in swig_import_helper
>>>>>   _mod = imp.load_module('_gdal', fp, pathname, description)
>>>>> ImportError:
>>>>> /opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6- 
>>>>> linux-x86_64.egg/osgeo/_gdal.so:
>>>>>
>>>>> undefined symbol: GDALGetMaskFlags
>>>>>>>>
>>>>
>>>> Any ideas why I'm getting the ImportError with the undefined  
>>>> symbol?
>>>>
>>>> Thank you very much for your help,
>>>> Allen Rongone
>>>>
>>>>
>>>> On May 6, 2010, at 12:47 PM, Brice Lambi wrote:
>>>>
>>>>> Hi Allen,
>>>>>
>>>>> Are you compiling from source?  When I install gdal python I  
>>>>> just go
>>>>> into the swig/python directory and run 'python setup.py  
>>>>> install'.  This
>>>>> should work.  The steps I take:
>>>>>
>>>>> tar zxvf gdal-1.7.1.tar.gz
>>>>> cd gdal-1.7.1
>>>>> ./configure --prefix=/usr
>>>>> make
>>>>> make install #run as root
>>>>> cd swig/python
>>>>> python setup.py install #run as root
>>>>>
>>>>> Hope this helps.
>>>>>
>>>>> Cheers,
>>>>> Brice
>>>>>
>>>>>
>>>>> Allen Rongone wrote:
>>>>>> Hello All,
>>>>>>
>>>>>>  New here so don't beat me up to bad.
>>>>>>
>>>>>>  I'm trying to get the GDAL module to install on a Red Hat  
>>>>>> Enterprise
>>>>>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>>>>>
>>>>>>  I have installed the setuptools 0.6c11 and am using easy_install
>>>>>>
>>>>>>  My gdal-config is in /usr/bin, however, when I run  
>>>>>> easy_install GDAL
>>>>>> it complains that it "Could not run gdal-config!!!" and then
>>>>>> contiues on
>>>>>> complaining about a bunch of stuff not
>>>>>>  being declared.
>>>>>>
>>>>>>  I can not find the setup.py to edit and change the location of
>>>>>> gdal-config. easy_install must clean everything up if it fails.
>>>>>>
>>>>>>
>>>>>>
>>>>>>  Does anyone know how to get this to work or will we have to do
>>>>>> without GDAL in python?
>>>>>>
>>>>>> Thanks for any help,
>>>>>> Allen
>>>>>>
>>>>>> I've included everything I thought pertinent below:
>>>>>>
>>>>>>
>>>>>> [root@psd14 ~]# uname -a
>>>>>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1  
>>>>>> 10:56:08 EST
>>>>>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>>>>>> [root@psd14 ~]# python
>>>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>>>> Type "help", "copyright", "credits" or "license" for more  
>>>>>> information.
>>>>>>>>>
>>>>>> KeyboardInterrupt
>>>>>>>>>
>>>>>> [root@psd14 ~]# which gdal-config
>>>>>> /usr/bin/gdal-config
>>>>>> [root@psd14 ~]# easy_install GDAL
>>>>>> Searching for GDAL
>>>>>> Reading http://pypi.python.org/simple/GDAL/
>>>>>> Reading http://www.gdal.org
>>>>>> Best match: GDAL 1.7.1
>>>>>> Downloading
>>>>>> http://pypi.python.org/packages/source/G/GDAL/GDAL-1.7.1.tar.gz#md5 
>>>>>> =38b838d528b309a28a3aa24d4fcef3cd
>>>>>>
>>>>>>
>>>>>>
>>>>>> Processing GDAL-1.7.1.tar.gz
>>>>>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>>>>>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>>>>>> Could not run gdal-config!!!!
>>>>>> cc1plus: warning: command line option "-Wstrict-prototypes" is
>>>>>> valid for
>>>>>> Ada/C/ObjC but not for C++
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>>>>>> char*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:3371: error:
>>>>>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>>>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B! 
>>>>>> G(B:
>>>>>> extensions/gdal_wrap.cpp:3744: error:
>>>>>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in  
>>>>>> this
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>>>>>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:3747: error:
>>>>>> $(B!F(BGDALGetFileList$(B!G(B
>>>>>> was not declared in this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B! 
>>>>>> F(BGDALRasterBandShadow*
>>>>>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4077: error:
>>>>>> $(B!F(BGDALGetMaskBand$(B!G(B
>>>>>> was not declared in this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B! 
>>>>>> G(B:
>>>>>> extensions/gdal_wrap.cpp:4080: error:
>>>>>> $(B!F(BGDALGetMaskFlags$(B!G(B
>>>>>> was not declared in this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>>>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*,
>>>>>> int)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4083: error:
>>>>>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>>>>>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*,  
>>>>>> int, const
>>>>>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4147: error:
>>>>>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>>>>>> char**,
>>>>>> int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4306: error:
>>>>>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*,  
>>>>>> void*,
>>>>>> void*, int, double*, char**, int (*)(double, const char*, void*),
>>>>>> void*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4342: error:
>>>>>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>>> OGRLayerShadow*, int, char**, int (*)(double, const char*,  
>>>>>> void*),
>>>>>> void*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4362: error: $(B!F(BGDALPolygonize$ 
>>>>>> (B!G(B
>>>>>> was not declared in this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*,  
>>>>>> double, int,
>>>>>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4378: error: $(B!F(BGDALFillNodata$ 
>>>>>> (B!G(B
>>>>>> was not declared in this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const  
>>>>>> char*,
>>>>>> void*), void*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4394: error:
>>>>>> $(B!F(BGDALSieveFilter$(B!G(B
>>>>>> was not declared in this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> RegenerateOverviews(GDALRasterBandShadow*, int,
>>>>>> GDALRasterBandShadow**,
>>>>>> const char*, int (*)(double, const char*, void*), void*)$(B! 
>>>>>> G(B:
>>>>>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>>>> $(B!F(BGDALRasterBand*$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing  
>>>>>> argument 1
>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*,  
>>>>>> void*),
>>>>>> void*)$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>>>> $(B!F(BGDALRasterBand**$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing  
>>>>>> argument 3
>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*,  
>>>>>> void*),
>>>>>> void*)$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> RegenerateOverview(GDALRasterBandShadow*,  
>>>>>> GDALRasterBandShadow*, const
>>>>>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>>>> $(B!F(BGDALRasterBand*$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing  
>>>>>> argument 1
>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*,  
>>>>>> void*),
>>>>>> void*)$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>>>> $(B!F(BGDALRasterBand**$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing  
>>>>>> argument 3
>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*,  
>>>>>> void*),
>>>>>> void*)$(B!G
>>>>>> (Bextensions/gdal_wrap.cpp: In function
>>>>>> $(B!F(BGDALTransformerInfoShadow*
>>>>>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>>>>>> GDALDatasetShadow*, char**)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4445: error:
>>>>>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not  
>>>>>> declared in
>>>>>> this scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_0 
>>>>>> (GDALTransformerInfoShadow*,
>>>>>>
>>>>>>
>>>>>> int, double*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4456: error:
>>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_1 
>>>>>> (GDALTransformerInfoShadow*,
>>>>>>
>>>>>>
>>>>>> double*, int, double, double, double)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4468: error:
>>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>> GDALTransformerInfoShadow_TransformPoints 
>>>>>> (GDALTransformerInfoShadow*,
>>>>>> int, int, double*, double*, double*, int*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4550: error:
>>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>>>>>> IdentifyDriver(const char*, char**)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:4661: error:
>>>>>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this  
>>>>>> scope
>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>>>>>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>>>>>> extensions/gdal_wrap.cpp:5255: error: $(B!F(BVSIReadDir$(B! 
>>>>>> G(B was
>>>>>> not declared in this scope
>>>>>> error: Setup script exited with error: command 'gcc' failed  
>>>>>> with exit
>>>>>> status 1
>>>>>> [root@psd14 ~]#
>>>>>>
>>>>>> _______________________________________________
>>>>>> gdal-dev mailing list
>>>>>> gdal-dev@lists.osgeo.org
>>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>
>>>
>

From lambi at ucar.edu  Tue May 11 15:57:48 2010
From: lambi at ucar.edu (Brice Lambi)
Date: Tue May 11 15:57:53 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <E685B08D-5A99-4203-91D8-6307CD4AB65D@aer.com>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
	<4BE991A1.3000500@ucar.edu>
	<5269763E-D8B1-4F84-A197-A94526047646@aer.com>
	<4BE99D82.6070101@ucar.edu>
	<E685B08D-5A99-4203-91D8-6307CD4AB65D@aer.com>
Message-ID: <4BE9B6BC.2000603@ucar.edu>

There is really no reason to remove the 1.7.2 you've built.  If you're
going to install in the same location then all will be overwritten, if
you install in a new location then it might be best to cleanup the
unused stuff.  I think you can do 'make uninstall' as well.

Cheers,
Brice


Allen Rongone wrote:
> Brice,
> 
>     Thank you for all your help. However, I did want to know if I need
> to back out all the gdal-1.7.2 I just installed before I start over, or
> can I just run the make clean/ configure /make /make install, again
> after I remove the old gdal from the system? And if so, how would that
> be done?
> 
> Thanks again,
> Allen
> 
> 
> On May 11, 2010, at 2:10 PM, Brice Lambi wrote:
> 
>> It really looks like a linking error, make sure that
>> /opt/GOESR/local/lib is in your LD_LIBRARY_PATH before /usr/lib or
>> /usr/local/lib.  If you won't use it, it would probably be best to
>> remove all gdal stuff from yum just to avoid any confusion.
>>
>> Also when you ran python setup.py install in the swig/python area make
>> sure you see something like -L/opt/GEOSR/local/lib in the compiler
>> commands flying across your screen.  If you don't see this, and your
>> LD_LIBRARY_PATH isn't setup it is probably still trying to use something
>> in /usr/
>>
>> Good luck,
>> Brice
>>
>>
>> Allen Rongone wrote:
>>>
>>> On May 11, 2010, at 1:19 PM, Brice Lambi wrote:
>>>
>>>> What is your python path?
>>>>
>>>> # python
>>>>>>> import sys
>>>>>>> sys.path
>>>>
>>>> What does that say?  It might have linked against the wrong version of
>>>> gdal or it might be finding another gdal library in your path.  If you
>>>> are using the default python (/usr/bin/python) it is probably finding
>>>> something in /usr/lib before /opt/GEOSR/local.
>>>>
>>>
>>> Here is the output from the command above:
>>>
>>> [root@psd14 ~]# python
>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>> Type "help", "copyright", "credits" or "license" for more information.
>>>>>> import sys
>>>>>> sys.path
>>> ['',
>>> '/opt/GOESR/local/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg',
>>>
>>> '/opt/GOESR/local/lib/python2.6/site-packages/numpy-1.4.1-py2.6-linux-x86_64.egg',
>>>
>>> '/opt/GOESR/local/lib/python2.6/site-packages/scipy-0.7.2-py2.6-linux-x86_64.egg',
>>>
>>> '/opt/GOESR/local/lib/python2.6/site-packages/matplotlib-0.99.1.1-py2.6-linux-x86_64.egg',
>>>
>>> '/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg',
>>>
>>> '/opt/GOESR/local/lib/python26.zip', '/opt/GOESR/local/lib/python2.6',
>>> '/opt/GOESR/local/lib/python2.6/plat-linux2',
>>> '/opt/GOESR/local/lib/python2.6/lib-tk',
>>> '/opt/GOESR/local/lib/python2.6/lib-old',
>>> '/opt/GOESR/local/lib/python2.6/lib-dynload',
>>> '/opt/GOESR/local/lib/python2.6/site-packages']
>>>>>>
>>> [root@psd14 ~]# which python
>>> /opt/GOESR/local/bin/python
>>>
>>>
>>>
>>> There still exists version 1.4.4 of gdal and gdal-devel from the Red Hat
>>> build, on this system, but they don't show up in the path.
>>>
>>> Is there a way to back out everything?
>>>
>>> Then I could remove gdal 1.4.4. with yum and try to install from the
>>> tarball again.
>>>
>>> Does this make sense?
>>>
>>> Sorry for all the trouble...
>>>
>>> ~ Allen
>>>
>>>
>>>>
>>>>
>>>>
>>>> Allen Rongone wrote:
>>>>> Brice,
>>>>>
>>>>>   I think I was using the tarball specific to the python module. I
>>>>> think I downloaded the correct one now - gdal-1.7.2.tar.gz
>>>>>
>>>>>   I ran the configure script as such:
>>>>>
>>>>>   # ./configure --prefix=/opt/GOESR/local --with-python
>>>>>
>>>>>   Then a make
>>>>>   # make
>>>>>
>>>>>   Then a make install
>>>>>   # make install
>>>>>
>>>>>
>>>>>   Everything seemed fine until I tried to import the module in python.
>>>>> I got this when I tried:
>>>>>
>>>>>
>>>>>> [root@psd14 gdal-1.7.2]# python
>>>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>>>> Type "help", "copyright", "credits" or "license" for more
>>>>>> information.
>>>>>>>>> from osgeo import gdal
>>>>>> Traceback (most recent call last):
>>>>>> File "<stdin>", line 1, in <module>
>>>>>> File
>>>>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/__init__.py",
>>>>>>
>>>>>>
>>>>>> line 21, in <module>
>>>>>>   _gdal = swig_import_helper()
>>>>>> File
>>>>>> "/opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/__init__.py",
>>>>>>
>>>>>>
>>>>>> line 17, in swig_import_helper
>>>>>>   _mod = imp.load_module('_gdal', fp, pathname, description)
>>>>>> ImportError:
>>>>>> /opt/GOESR/local/lib/python2.6/site-packages/GDAL-1.7.2-py2.6-linux-x86_64.egg/osgeo/_gdal.so:
>>>>>>
>>>>>>
>>>>>> undefined symbol: GDALGetMaskFlags
>>>>>>>>>
>>>>>
>>>>> Any ideas why I'm getting the ImportError with the undefined symbol?
>>>>>
>>>>> Thank you very much for your help,
>>>>> Allen Rongone
>>>>>
>>>>>
>>>>> On May 6, 2010, at 12:47 PM, Brice Lambi wrote:
>>>>>
>>>>>> Hi Allen,
>>>>>>
>>>>>> Are you compiling from source?  When I install gdal python I just go
>>>>>> into the swig/python directory and run 'python setup.py install'. 
>>>>>> This
>>>>>> should work.  The steps I take:
>>>>>>
>>>>>> tar zxvf gdal-1.7.1.tar.gz
>>>>>> cd gdal-1.7.1
>>>>>> ./configure --prefix=/usr
>>>>>> make
>>>>>> make install #run as root
>>>>>> cd swig/python
>>>>>> python setup.py install #run as root
>>>>>>
>>>>>> Hope this helps.
>>>>>>
>>>>>> Cheers,
>>>>>> Brice
>>>>>>
>>>>>>
>>>>>> Allen Rongone wrote:
>>>>>>> Hello All,
>>>>>>>
>>>>>>>  New here so don't beat me up to bad.
>>>>>>>
>>>>>>>  I'm trying to get the GDAL module to install on a Red Hat
>>>>>>> Enterprise
>>>>>>> Linux 5.4 64-bit workstation running Python 2.6.5.
>>>>>>>
>>>>>>>  I have installed the setuptools 0.6c11 and am using easy_install
>>>>>>>
>>>>>>>  My gdal-config is in /usr/bin, however, when I run easy_install
>>>>>>> GDAL
>>>>>>> it complains that it "Could not run gdal-config!!!" and then
>>>>>>> contiues on
>>>>>>> complaining about a bunch of stuff not
>>>>>>>  being declared.
>>>>>>>
>>>>>>>  I can not find the setup.py to edit and change the location of
>>>>>>> gdal-config. easy_install must clean everything up if it fails.
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>  Does anyone know how to get this to work or will we have to do
>>>>>>> without GDAL in python?
>>>>>>>
>>>>>>> Thanks for any help,
>>>>>>> Allen
>>>>>>>
>>>>>>> I've included everything I thought pertinent below:
>>>>>>>
>>>>>>>
>>>>>>> [root@psd14 ~]# uname -a
>>>>>>> Linux psd14.aer.com 2.6.18-164.15.1.el5 #1 SMP Mon Mar 1 10:56:08
>>>>>>> EST
>>>>>>> 2010 x86_64 x86_64 x86_64 GNU/Linux
>>>>>>> [root@psd14 ~]# python
>>>>>>> Python 2.6.5 (r265:79063, May  3 2010, 14:23:56)
>>>>>>> [GCC 4.1.2 20080704 (Red Hat 4.1.2-46)] on linux2
>>>>>>> Type "help", "copyright", "credits" or "license" for more
>>>>>>> information.
>>>>>>>>>>
>>>>>>> KeyboardInterrupt
>>>>>>>>>>
>>>>>>> [root@psd14 ~]# which gdal-config
>>>>>>> /usr/bin/gdal-config
>>>>>>> [root@psd14 ~]# easy_install GDAL
>>>>>>> Searching for GDAL
>>>>>>> Reading http://pypi.python.org/simple/GDAL/
>>>>>>> Reading http://www.gdal.org
>>>>>>> Best match: GDAL 1.7.1
>>>>>>> Downloading
>>>>>>> http://pypi.python.org/packages/source/G/GDAL/GDAL-1.7.1.tar.gz#md5=38b838d528b309a28a3aa24d4fcef3cd
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Processing GDAL-1.7.1.tar.gz
>>>>>>> Running GDAL-1.7.1/setup.py -q bdist_egg --dist-dir
>>>>>>> /tmp/easy_install-eKZHzW/GDAL-1.7.1/egg-dist-tmp-siVuDI
>>>>>>> Could not run gdal-config!!!!
>>>>>>> cc1plus: warning: command line option "-Wstrict-prototypes" is
>>>>>>> valid for
>>>>>>> Ada/C/ObjC but not for C++
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> GDALDriverShadow_Rename(GDALDriverShadow*, const char*, const
>>>>>>> char*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:3371: error:
>>>>>>> $(B!F(BGDALRenameDataset$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>>>>> GDALDatasetShadow_CreateMaskBand(GDALDatasetShadow*, int)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:3744: error:
>>>>>>> $(B!F(BGDALCreateDatasetMaskBand$(B!G(B was not declared in this
>>>>>>> scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bchar**
>>>>>>> GDALDatasetShadow_GetFileList(GDALDatasetShadow*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:3747: error:
>>>>>>> $(B!F(BGDALGetFileList$(B!G(B
>>>>>>> was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALRasterBandShadow*
>>>>>>> GDALRasterBandShadow_GetMaskBand(GDALRasterBandShadow*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4077: error:
>>>>>>> $(B!F(BGDALGetMaskBand$(B!G(B
>>>>>>> was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> GDALRasterBandShadow_GetMaskFlags(GDALRasterBandShadow*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4080: error:
>>>>>>> $(B!F(BGDALGetMaskFlags$(B!G(B
>>>>>>> was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BCPLErr
>>>>>>> GDALRasterBandShadow_CreateMaskBand(GDALRasterBandShadow*,
>>>>>>> int)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4083: error:
>>>>>>> $(B!F(BGDALCreateMaskBand$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bvoid
>>>>>>> GDALColorTableShadow_CreateColorRamp(GDALColorTableShadow*, int,
>>>>>>> const
>>>>>>> GDALColorEntry*, int, const GDALColorEntry*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4147: error:
>>>>>>> $(B!F(BGDALCreateColorRamp$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> ComputeProximity(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>>>> char**,
>>>>>>> int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4306: error:
>>>>>>> $(B!F(BGDALComputeProximity$(B!G(B was not declared in this
>>>>>>> scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> RasterizeLayer(GDALDatasetShadow*, int, int*, OGRLayerShadow*,
>>>>>>> void*,
>>>>>>> void*, int, double*, char**, int (*)(double, const char*, void*),
>>>>>>> void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4342: error:
>>>>>>> $(B!F(BGDALRasterizeLayers$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> Polygonize(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>>>> OGRLayerShadow*, int, char**, int (*)(double, const char*, void*),
>>>>>>> void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4362: error:
>>>>>>> $(B!F(BGDALPolygonize$(B!G(B
>>>>>>> was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> FillNodata(GDALRasterBandShadow*, GDALRasterBandShadow*, double,
>>>>>>> int,
>>>>>>> char**, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4378: error:
>>>>>>> $(B!F(BGDALFillNodata$(B!G(B
>>>>>>> was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> SieveFilter(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>>>> GDALRasterBandShadow*, int, int, char**, int (*)(double, const
>>>>>>> char*,
>>>>>>> void*), void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4394: error:
>>>>>>> $(B!F(BGDALSieveFilter$(B!G(B
>>>>>>> was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> RegenerateOverviews(GDALRasterBandShadow*, int,
>>>>>>> GDALRasterBandShadow**,
>>>>>>> const char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>>>>> $(B!F(BGDALRasterBand*$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 1
>>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>>>> void*)$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp:4408: error: invalid conversion from
>>>>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>>>>> $(B!F(BGDALRasterBand**$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp:4408: error:   initializing argument 3
>>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>>>> void*)$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> RegenerateOverview(GDALRasterBandShadow*, GDALRasterBandShadow*,
>>>>>>> const
>>>>>>> char*, int (*)(double, const char*, void*), void*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>>>>> $(B!F(BGDALRasterBandShadow*$(B!G(B to
>>>>>>> $(B!F(BGDALRasterBand*$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 1
>>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>>>> void*)$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp:4421: error: invalid conversion from
>>>>>>> $(B!F(BGDALRasterBandShadow**$(B!G(B to
>>>>>>> $(B!F(BGDALRasterBand**$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp:4421: error:   initializing argument 3
>>>>>>> of $(B!F(BCPLErr GDALRegenerateOverviews(GDALRasterBand*, int,
>>>>>>> GDALRasterBand**, const char*, int (*)(double, const char*, void*),
>>>>>>> void*)$(B!G
>>>>>>> (Bextensions/gdal_wrap.cpp: In function
>>>>>>> $(B!F(BGDALTransformerInfoShadow*
>>>>>>> new_GDALTransformerInfoShadow(GDALDatasetShadow*,
>>>>>>> GDALDatasetShadow*, char**)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4445: error:
>>>>>>> $(B!F(BGDALCreateGenImgProjTransformer2$(B!G(B was not
>>>>>>> declared in
>>>>>>> this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_0(GDALTransformerInfoShadow*,
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> int, double*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4456: error:
>>>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> GDALTransformerInfoShadow_TransformPoint__SWIG_1(GDALTransformerInfoShadow*,
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> double*, int, double, double, double)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4468: error:
>>>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(Bint
>>>>>>> GDALTransformerInfoShadow_TransformPoints(GDALTransformerInfoShadow*,
>>>>>>>
>>>>>>> int, int, double*, double*, double*, int*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4550: error:
>>>>>>> $(B!F(BGDALUseTransformer$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BGDALDriverShadow*
>>>>>>> IdentifyDriver(const char*, char**)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:4661: error:
>>>>>>> $(B!F(BGDALIdentifyDriver$(B!G(B was not declared in this scope
>>>>>>> extensions/gdal_wrap.cpp: In function $(B!F(BPyObject*
>>>>>>> _wrap_ReadDir(PyObject*, PyObject*)$(B!G(B:
>>>>>>> extensions/gdal_wrap.cpp:5255: error:
>>>>>>> $(B!F(BVSIReadDir$(B!G(B was
>>>>>>> not declared in this scope
>>>>>>> error: Setup script exited with error: command 'gcc' failed with
>>>>>>> exit
>>>>>>> status 1
>>>>>>> [root@psd14 ~]#
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> gdal-dev mailing list
>>>>>>> gdal-dev@lists.osgeo.org
>>>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>>
>>>>
>>

From jluis at ualg.pt  Tue May 11 19:37:07 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue May 11 20:01:58 2010
Subject: [gdal-dev] gdalwarp's default nodata value
Message-ID: <4BE9EA23.80701@ualg.pt>

Hi,

Before filling a ticket I would like to ask here if this gdalwarp 
behavior is the intended one.
When I convert a grid from geogs to UTM the nodatavalues are filled with 
zeros.
I get the expected behaviour if I use the -dstnodata with a numeric 
value, but I found no way tom tell it use NaN.

Summary

This puts zeros on the nodata zone, but I don't find it correct as "0" 
is not exactly a natural nodata value. For my habits NaN is the natural 
no data value.

gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84" 
swath_grid.grd lixo_utm.tiff

Furthermore when I load the " lixo_utm.tiff" in Mirone is does not 
recognize a nodata value, whilst if I do this instead

gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84" 
-dstnodata 1 swath_grid.grd lixo_utm.tiff

than "1" is recognized as the nodata. I have not investigated the 
metadata to see why the "0" is not set to represent the nodata.

Thanks

Joaquim Luis
From chaitanya.ch at gmail.com  Wed May 12 00:55:33 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 12 00:55:37 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <4BE9EA23.80701@ualg.pt>
References: <4BE9EA23.80701@ualg.pt>
Message-ID: <AANLkTikCkYbBRtyn_W5J0qE6GYGDrNDmBxX02h5IDx6k@mail.gmail.com>

Joaquim,

On Wed, May 12, 2010 at 5:07 AM, Joaquim Luis <jluis@ualg.pt> wrote:

> Hi,
>
> Before filling a ticket I would like to ask here if this gdalwarp behavior
> is the intended one.
> When I convert a grid from geogs to UTM the nodatavalues are filled with
> zeros.
> I get the expected behaviour if I use the -dstnodata with a numeric value,
> but I found no way tom tell it use NaN.
>
> Summary
>
> This puts zeros on the nodata zone, but I don't find it correct as "0" is
> not exactly a natural nodata value. For my habits NaN is the natural no data
> value.
>
NaN should always be treated as a special case in coding. Imagine performing
a type conversion.
Since we usually deal with real world data, we know the data value range. We
should be able to choose a nodata value not in the data range.


> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
> swath_grid.grd lixo_utm.tiff
>
> Furthermore when I load the " lixo_utm.tiff" in Mirone is does not
> recognize a nodata value, whilst if I do this instead
>
> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
> -dstnodata 1 swath_grid.grd lixo_utm.tiff
>
> than "1" is recognized as the nodata. I have not investigated the metadata
> to see why the "0" is not set to represent the nodata.
>
Perhaps swath_grid.grd doesn't have a nodata value set.


>
> Thanks
>
> Joaquim Luis
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100512/8b05407a/attachment.html
From jluis at ualg.pt  Wed May 12 09:03:09 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed May 12 09:03:30 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <AANLkTikCkYbBRtyn_W5J0qE6GYGDrNDmBxX02h5IDx6k@mail.gmail.com>
References: <4BE9EA23.80701@ualg.pt>
	<AANLkTikCkYbBRtyn_W5J0qE6GYGDrNDmBxX02h5IDx6k@mail.gmail.com>
Message-ID: <4BEAA70D.4060606@ualg.pt>

On 12-05-2010 05:55, Chaitanya kumar CH wrote:
> Joaquim,
>
> On Wed, May 12, 2010 at 5:07 AM, Joaquim Luis <jluis@ualg.pt 
> <mailto:jluis@ualg.pt>> wrote:
>
>     Hi,
>
>     Before filling a ticket I would like to ask here if this gdalwarp
>     behavior is the intended one.
>     When I convert a grid from geogs to UTM the nodatavalues are
>     filled with zeros.
>     I get the expected behaviour if I use the -dstnodata with a
>     numeric value, but I found no way tom tell it use NaN.
>
>     Summary
>
>     This puts zeros on the nodata zone, but I don't find it correct as
>     "0" is not exactly a natural nodata value. For my habits NaN is
>     the natural no data value.
>
> NaN should always be treated as a special case in coding. Imagine 
> performing a type conversion.
> Since we usually deal with real world data, we know the data value 
> range. We should be able to choose a nodata value not in the data range.

Hi Chaitanya,

Taking your argument of the real world data, it is why the default 
choice of zero for nodata is one of worst possible choices. At least for 
the case of floating point data. Imagine that the input grid has zeros 
as perfectly valid values, how will any application be able to 
distinguish between the "good" and the "bad" zeros on the warped result?


>     gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29
>     +datum=WGS84" swath_grid.grd lixo_utm.tiff
>
>     Furthermore when I load the " lixo_utm.tiff" in Mirone is does not
>     recognize a nodata value, whilst if I do this instead
>
>     gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29
>     +datum=WGS84" -dstnodata 1 swath_grid.grd lixo_utm.tiff
>
>     than "1" is recognized as the nodata. I have not investigated the
>     metadata to see why the "0" is not set to represent the nodata.
>
> Perhaps swath_grid.grd doesn't have a nodata value set.

The grid was created by GMT (it always sets a nodata value defaulting no 
NaN) but that is not the problem. I dug a bit more on this and actually 
there is no problem at all in what respects recognizing the nodata value 
even when I let gdalwarp use the default value of zero.
But my real problem is with my gdalwarp_mex MEX file used in Mirone.  
Even if I add this


for (i = 0; i < nBands; i++)
             GDALSetRasterNoDataValue( GDALGetRasterBand(hDstDS, 
i+1),9999999.0);

the warped dataset has the correct nodata value in its metadata but the 
array still has zeros where it should have 9999999.0
I checked again against the gdalwarp.cpp code and the only difference 
I'm able to identify is that in gdalwarp_mex I'm using the MEM driver (I 
have to since data never lands on hard disk). I'm lost on this one.

Joaquim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100512/eada29bf/attachment-0001.html
From rigal at rapideye.de  Wed May 12 09:49:46 2010
From: rigal at rapideye.de (Matthieu Rigal)
Date: Wed May 12 10:21:47 2010
Subject: [gdal-dev] best way to compare in a numpy table the values of two
	images with different projection
Message-ID: <201005121549.47118.rigal@rapideye.de>

Hi folks,

I am currently implementing a tool to allow band-to-band computations on
array values out of 2 images with different projection and different 
resolution in python.

The operation is quite complex, so I will summarize it here and below give 
the solution I am currently testing to see if it is the best one and ask 
for some enhancements and performance hints. Unfortunately, the high-level 
warping class is, at my knowledge, only available in C++.

Workflow (could also be improved by all-in-one functions like for C++)
- Open image A, 5000*5000 pixels, 5m resolution, UTM
- Open image B, approx 100m resolution, LatLon, much larger than the 
previous one
- Cut out the buffered extents of image A from image B
- Reproject this cutted image to the projection and resolution of image A
- Read full image A as array
- Read extents of image A from image B as array

It sounds easy, but when I started implementing it, I figured out that it 
was quite complicated and that it would be quite time consuming, so if you 
have any suggestions, this is my pseudo-code (I thought about writing a 
real code, but it may be too long for the list, if I want to also include 
the generation of image A and B at the beginning):
- gdal.Open(imgA, imgB)
- GetGeoTransform(imgA, imgB)
- CreateGeometry(boundaries of imgA).Buffer
- Transform(projection imgB)
- GetEnvelope(transformed geometry)
- transform to in-image of imgB x, y, x_off, y_off
- Create new image in memory
- Calculate its geotransform
- Read the bands into memory (GetRasterBand().Read and .Write() or 
ReadIO() ?)
- Reproject the image
- Get GeoTransform
- Calculate in-image coordinates to finally read exactly the same window as 
array

Best Regards,
Matthieu

RapidEye AG
Molkenmarkt 30
14776 Brandenburg an der Havel
Germany
 
Follow us on Twitter! www.twitter.com/rapideye_ag
 
Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
Management Board/Vorstand: Wolfgang G. Biedermann
Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates: 
Juergen Breitkopf 
Commercial Register/Handelsregister Potsdam HRB 17 796
Tax Number/Steuernummer: 048/100/00053
VAT-Ident-Number/Ust.-ID: DE 199331235
DIN EN ISO 9001 certified
 
*************************************************************************
Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
 
The information in this e-mail is intended for the named recipients
only. It may contain privileged and confidential information. If you
have received this communication in error, any use, copying or
dissemination of its contents is strictly prohibited. Please erase all
copies of the message along with any included attachments and notify
RapidEye AG or the sender immediately by telephone at the number
indicated on this page.
From chaitanya.ch at gmail.com  Wed May 12 10:48:22 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 12 10:48:25 2010
Subject: [gdal-dev] best way to compare in a numpy table the values of two
	images with different projection
In-Reply-To: <201005121549.47118.rigal@rapideye.de>
References: <201005121549.47118.rigal@rapideye.de>
Message-ID: <AANLkTim2SNK0AySWqEZyFo5IJ8Zz0hfrh1JqCAzVhE-u@mail.gmail.com>

Matthieu,

Looks like you are finally reprojecting the image, perhaps to the projection
of image B. Reprojection is costly. I suggest performing it on A instead of
B. Let us know how it goes.

On Wed, May 12, 2010 at 7:19 PM, Matthieu Rigal <rigal@rapideye.de> wrote:

> Hi folks,
>
> I am currently implementing a tool to allow band-to-band computations on
> array values out of 2 images with different projection and different
> resolution in python.
>
> The operation is quite complex, so I will summarize it here and below give
> the solution I am currently testing to see if it is the best one and ask
> for some enhancements and performance hints. Unfortunately, the high-level
> warping class is, at my knowledge, only available in C++.
>
> Workflow (could also be improved by all-in-one functions like for C++)
> - Open image A, 5000*5000 pixels, 5m resolution, UTM
> - Open image B, approx 100m resolution, LatLon, much larger than the
> previous one
> - Cut out the buffered extents of image A from image B
> - Reproject this cutted image to the projection and resolution of image A
> - Read full image A as array
> - Read extents of image A from image B as array
>
> It sounds easy, but when I started implementing it, I figured out that it
> was quite complicated and that it would be quite time consuming, so if you
> have any suggestions, this is my pseudo-code (I thought about writing a
> real code, but it may be too long for the list, if I want to also include
> the generation of image A and B at the beginning):
> - gdal.Open(imgA, imgB)
> - GetGeoTransform(imgA, imgB)
> - CreateGeometry(boundaries of imgA).Buffer
> - Transform(projection imgB)
> - GetEnvelope(transformed geometry)
> - transform to in-image of imgB x, y, x_off, y_off
> - Create new image in memory
> - Calculate its geotransform
> - Read the bands into memory (GetRasterBand().Read and .Write() or
> ReadIO() ?)
> - Reproject the image
> - Get GeoTransform
> - Calculate in-image coordinates to finally read exactly the same window as
> array
>
> Best Regards,
> Matthieu
>
> RapidEye AG
> Molkenmarkt 30
> 14776 Brandenburg an der Havel
> Germany
>
> Follow us on Twitter! www.twitter.com/rapideye_ag
>
> Head Office/Sitz der Gesellschaft: Brandenburg an der Havel
> Management Board/Vorstand: Wolfgang G. Biedermann
> Chairman of Supervisory Board/Vorsitzender des Aufsichtsrates:
> Juergen Breitkopf
> Commercial Register/Handelsregister Potsdam HRB 17 796
> Tax Number/Steuernummer: 048/100/00053
> VAT-Ident-Number/Ust.-ID: DE 199331235
> DIN EN ISO 9001 certified
>
> *************************************************************************
> Diese E-Mail enthaelt vertrauliche und/oder rechtlich geschuetzte
> Informationen. Wenn Sie nicht der richtige Adressat sind oder diese
> E-Mail irrtuemlich erhalten haben, informieren Sie bitte sofort den
> Absender und vernichten Sie diese E-Mail. Das unerlaubte Kopieren sowie
> die unbefugte Weitergabe dieser E-Mail ist nicht gestattet.
>
> The information in this e-mail is intended for the named recipients
> only. It may contain privileged and confidential information. If you
> have received this communication in error, any use, copying or
> dissemination of its contents is strictly prohibited. Please erase all
> copies of the message along with any included attachments and notify
> RapidEye AG or the sender immediately by telephone at the number
> indicated on this page.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100512/d064f98a/attachment.html
From warmerdam at pobox.com  Wed May 12 10:53:50 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 12 10:53:54 2010
Subject: [gdal-dev] best way to compare in a numpy table the values of
	two images with different projection
In-Reply-To: <201005121549.47118.rigal@rapideye.de>
References: <201005121549.47118.rigal@rapideye.de>
Message-ID: <4BEAC0FE.3040904@pobox.com>

Matthieu Rigal wrote:
> Hi folks,
> 
> I am currently implementing a tool to allow band-to-band computations on
> array values out of 2 images with different projection and different 
> resolution in python.
> 
> The operation is quite complex, so I will summarize it here and below give 
> the solution I am currently testing to see if it is the best one and ask 
> for some enhancements and performance hints. Unfortunately, the high-level 
> warping class is, at my knowledge, only available in C++.
> 
> Workflow (could also be improved by all-in-one functions like for C++)
> - Open image A, 5000*5000 pixels, 5m resolution, UTM
> - Open image B, approx 100m resolution, LatLon, much larger than the 
> previous one
> - Cut out the buffered extents of image A from image B
> - Reproject this cutted image to the projection and resolution of image A
> - Read full image A as array
> - Read extents of image A from image B as array

Matthieu,

I think you might be able to short circuit some of the complexity by
creating a new memory dataset in UTM 5m with the same extents as
image A, and then just call ReprojectImage() to reproject from B to A.

Then this new memory dataset would be at the same resolution as A and
ready to compare, etc.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chaitanya.ch at gmail.com  Wed May 12 10:58:31 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 12 10:58:34 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <4BEAA70D.4060606@ualg.pt>
References: <4BE9EA23.80701@ualg.pt>
	<AANLkTikCkYbBRtyn_W5J0qE6GYGDrNDmBxX02h5IDx6k@mail.gmail.com>
	<4BEAA70D.4060606@ualg.pt>
Message-ID: <AANLkTimpbkinxVQ6YZQqT4rX5AjRa8SaA0FxLA7BW5cY@mail.gmail.com>

Joaquim,

GDALSetRasterNoDataValue() sets only the metadata. It doesn't actually
change the nodata pixels. We need to process each pixel to do this. Or you
could just create a VRT mentioning the source and vrt nodata values.

http://www.gdal.org/gdal_vrttut.html
http://www.gdal.org/gdalbuildvrt.html

On Wed, May 12, 2010 at 6:33 PM, Joaquim Luis <jluis@ualg.pt> wrote:

>  On 12-05-2010 05:55, Chaitanya kumar CH wrote:
>
> Joaquim,
>
> On Wed, May 12, 2010 at 5:07 AM, Joaquim Luis <jluis@ualg.pt> wrote:
>
>> Hi,
>>
>> Before filling a ticket I would like to ask here if this gdalwarp behavior
>> is the intended one.
>> When I convert a grid from geogs to UTM the nodatavalues are filled with
>> zeros.
>> I get the expected behaviour if I use the -dstnodata with a numeric value,
>> but I found no way tom tell it use NaN.
>>
>> Summary
>>
>> This puts zeros on the nodata zone, but I don't find it correct as "0" is
>> not exactly a natural nodata value. For my habits NaN is the natural no data
>> value.
>>
> NaN should always be treated as a special case in coding. Imagine
> performing a type conversion.
> Since we usually deal with real world data, we know the data value range.
> We should be able to choose a nodata value not in the data range.
>
>
> Hi Chaitanya,
>
> Taking your argument of the real world data, it is why the default choice
> of zero for nodata is one of worst possible choices. At least for the case
> of floating point data. Imagine that the input grid has zeros as perfectly
> valid values, how will any application be able to distinguish between the
> "good" and the "bad" zeros on the warped result?
>
>
>
>  gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
>> swath_grid.grd lixo_utm.tiff
>>
>> Furthermore when I load the " lixo_utm.tiff" in Mirone is does not
>> recognize a nodata value, whilst if I do this instead
>>
>> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
>> -dstnodata 1 swath_grid.grd lixo_utm.tiff
>>
>> than "1" is recognized as the nodata. I have not investigated the metadata
>> to see why the "0" is not set to represent the nodata.
>>
> Perhaps swath_grid.grd doesn't have a nodata value set.
>
>
> The grid was created by GMT (it always sets a nodata value defaulting no
> NaN) but that is not the problem. I dug a bit more on this and actually
> there is no problem at all in what respects recognizing the nodata value
> even when I let gdalwarp use the default value of zero.
> But my real problem is with my gdalwarp_mex MEX file used in Mirone.  Even
> if I add this
>
>
> for (i = 0; i < nBands; i++)
>             GDALSetRasterNoDataValue( GDALGetRasterBand(hDstDS,
> i+1),9999999.0);
>
> the warped dataset has the correct nodata value in its metadata but the
> array still has zeros where it should have 9999999.0
> I checked again against the gdalwarp.cpp code and the only difference I'm
> able to identify is that in gdalwarp_mex I'm using the MEM driver (I have to
> since data never lands on hard disk). I'm lost on this one.
>
> Joaquim
>
>


-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100512/0b064ce4/attachment-0001.html
From jluis at ualg.pt  Wed May 12 13:18:35 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed May 12 13:18:55 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <AANLkTimpbkinxVQ6YZQqT4rX5AjRa8SaA0FxLA7BW5cY@mail.gmail.com>
References: <4BE9EA23.80701@ualg.pt>	
	<AANLkTikCkYbBRtyn_W5J0qE6GYGDrNDmBxX02h5IDx6k@mail.gmail.com>	
	<4BEAA70D.4060606@ualg.pt>
	<AANLkTimpbkinxVQ6YZQqT4rX5AjRa8SaA0FxLA7BW5cY@mail.gmail.com>
Message-ID: <4BEAE2EB.5040407@ualg.pt>

On 12-05-2010 15:58, Chaitanya kumar CH wrote:
> Joaquim,
>
> GDALSetRasterNoDataValue() sets only the metadata. It doesn't actually 
> change the nodata pixels. We need to process each pixel to do this. Or 
> you could just create a VRT mentioning the source and vrt nodata values.
>

Chaitanya,

Thanks, but sorry I don't get it. I thought that it was up to the 
warping machinery to use the nodata value that it was instructed to and 
put them in the array positions of nodatavalue. If, at a certain point, 
it decides to put zeros at some memory addresses than at that point it 
should simply put the nodata value. It seams quite logic this reasoning no?

Please no VRTs since this is a pure memory operation.

> http://www.gdal.org/gdal_vrttut.html
> http://www.gdal.org/gdalbuildvrt.html
>
> On Wed, May 12, 2010 at 6:33 PM, Joaquim Luis <jluis@ualg.pt 
> <mailto:jluis@ualg.pt>> wrote:
>
>     On 12-05-2010 05:55, Chaitanya kumar CH wrote:
>>     Joaquim,
>>
>>     On Wed, May 12, 2010 at 5:07 AM, Joaquim Luis <jluis@ualg.pt
>>     <mailto:jluis@ualg.pt>> wrote:
>>
>>         Hi,
>>
>>         Before filling a ticket I would like to ask here if this
>>         gdalwarp behavior is the intended one.
>>         When I convert a grid from geogs to UTM the nodatavalues are
>>         filled with zeros.
>>         I get the expected behaviour if I use the -dstnodata with a
>>         numeric value, but I found no way tom tell it use NaN.
>>
>>         Summary
>>
>>         This puts zeros on the nodata zone, but I don't find it
>>         correct as "0" is not exactly a natural nodata value. For my
>>         habits NaN is the natural no data value.
>>
>>     NaN should always be treated as a special case in coding. Imagine
>>     performing a type conversion.
>>     Since we usually deal with real world data, we know the data
>>     value range. We should be able to choose a nodata value not in
>>     the data range.
>
>     Hi Chaitanya,
>
>     Taking your argument of the real world data, it is why the default
>     choice of zero for nodata is one of worst possible choices. At
>     least for the case of floating point data. Imagine that the input
>     grid has zeros as perfectly valid values, how will any application
>     be able to distinguish between the "good" and the "bad" zeros on
>     the warped result?
>
>
>
>>         gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29
>>         +datum=WGS84" swath_grid.grd lixo_utm.tiff
>>
>>         Furthermore when I load the " lixo_utm.tiff" in Mirone is
>>         does not recognize a nodata value, whilst if I do this instead
>>
>>         gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29
>>         +datum=WGS84" -dstnodata 1 swath_grid.grd lixo_utm.tiff
>>
>>         than "1" is recognized as the nodata. I have not investigated
>>         the metadata to see why the "0" is not set to represent the
>>         nodata.
>>
>>     Perhaps swath_grid.grd doesn't have a nodata value set.
>
>     The grid was created by GMT (it always sets a nodata value
>     defaulting no NaN) but that is not the problem. I dug a bit more
>     on this and actually there is no problem at all in what respects
>     recognizing the nodata value even when I let gdalwarp use the
>     default value of zero.
>     But my real problem is with my gdalwarp_mex MEX file used in
>     Mirone.  Even if I add this
>
>
>     for (i = 0; i < nBands; i++)
>                 GDALSetRasterNoDataValue( GDALGetRasterBand(hDstDS,
>     i+1),9999999.0);
>
>     the warped dataset has the correct nodata value in its metadata
>     but the array still has zeros where it should have 9999999.0
>     I checked again against the gdalwarp.cpp code and the only
>     difference I'm able to identify is that in gdalwarp_mex I'm using
>     the MEM driver (I have to since data never lands on hard disk).
>     I'm lost on this one.
>
>     Joaquim
>
>
>
>
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9848167848
> 17.2416N 80.1426E

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100512/e254eb3f/attachment.html
From even.rouault at mines-paris.org  Wed May 12 13:53:47 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 12 13:53:57 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <4BE9EA23.80701@ualg.pt>
References: <4BE9EA23.80701@ualg.pt>
Message-ID: <201005121953.48723.even.rouault@mines-paris.org>

Joaquim,

I believe what you see is the expected behaviour.

You must keep in mind that there are 2 notions :
1) nodata value --> setting it is no more than just setting a "tag" on the 
raster band. It doesn't change the pixel values by itself as Chaintanya 
explained
2) initialization of the pixel data of the target image with a given value

When you use the -dstnodata option, gdalwarp will automagically do both :
1) Set the target nodata value
2) Initialize the target image with that nodata value (remind of removing the 
target file if it already exists)

If you specify nothing, then 0 is used to fill the target image but the nodata 
tag is not set.

The initialization of the pixel data of the target image is in fact done 
through the INIT_DEST warping option. See 
http://gdal.org/structGDALWarpOptions.html#0ed77f9917bb96c7a9aabd73d4d06e08

For example, gdalwarp src.tif dst.tif -wo "INIT_DEST=255"

If you specify no INIT_DEST warping option, then gdalwarp uses the dstnodata 
value if it's specified with -dstnodata and set it as the INIT_DEST value 
too.

I've also tested -dstnodata nan and to my great surprise, it actually works ! 
However I'm not sure if all applications can deal with the "nan" string put 
in the 42113 tag used by GDAL for the Nodata value in TIFF. 

So maybe I've not understood what your problem is, but everything seems to 
work as expected on my side.

Best regards,

Even

Le Wednesday 12 May 2010 01:37:07 Joaquim Luis, vous avez ?crit?:
> Hi,
>
> Before filling a ticket I would like to ask here if this gdalwarp
> behavior is the intended one.
> When I convert a grid from geogs to UTM the nodatavalues are filled with
> zeros.
> I get the expected behaviour if I use the -dstnodata with a numeric
> value, but I found no way tom tell it use NaN.
>
> Summary
>
> This puts zeros on the nodata zone, but I don't find it correct as "0"
> is not exactly a natural nodata value. For my habits NaN is the natural
> no data value.
>
> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
> swath_grid.grd lixo_utm.tiff
>
> Furthermore when I load the " lixo_utm.tiff" in Mirone is does not
> recognize a nodata value, whilst if I do this instead
>
> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
> -dstnodata 1 swath_grid.grd lixo_utm.tiff
>
> than "1" is recognized as the nodata. I have not investigated the
> metadata to see why the "0" is not set to represent the nodata.
>
> Thanks
>
> Joaquim Luis
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jluis at ualg.pt  Wed May 12 17:15:08 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed May 12 17:15:25 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <201005121953.48723.even.rouault@mines-paris.org>
References: <4BE9EA23.80701@ualg.pt>
	<201005121953.48723.even.rouault@mines-paris.org>
Message-ID: <4BEB1A5C.2000900@ualg.pt>

Even,

Thanks, I understand it better now and made some advances but I'm still facing some troubles.

For example, if I do this

papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "300" );
psWO->papszWarpOptions = CSLDuplicate(papszWarpOptions);

than it works fine.

However, if I do (remember that I want NaNs)

papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "nan" );

than I get zeros again in place of the nodata.
The link you pointed me says

"...or INIT_DEST=NO_DATA: This option forces the destination image to be initialized to the 
indicated value (for all bands) or indicates that it should be initialized to the NO_DATA value in 
padfDstNoDataReal/padfDstNoDataImag."


So I next tried

papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "NO_DATA" );
...
	psWO->padfSrcNoDataReal = (double *) CPLMalloc(psWO->nBandCount*sizeof(double));
	psWO->padfSrcNoDataImag = (double *) CPLMalloc(psWO->nBandCount*sizeof(double));
	for (i = 0; i < nBands; i++) {
		psWO->padfSrcNoDataReal[i] = 500.;
		psWO->padfSrcNoDataImag[i] = 0.0;
		GDALSetRasterNoDataValue( GDALGetRasterBand(hDstDS, i+1), pdfDstNodata[0]);
	}

and guess what? bloody zeros again. So I'm not able to get the NaNs (tried with 500 to see if this 
solution works)


I tried to see what gdalwarp does ... and another problem. What is this?

gdalwarp -of netCDF -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84" swath_grid.grd 
lixo_utm.grd
Output driver `netCDF' not recognised or does not support
direct output file creation.  The following format drivers are configured
and support direct output:
   VRT: Virtual Raster
   GTiff: GeoTIFF
   NITF: National Imagery Transmission Format
   HFA: Erdas Imagine Images (.img)
   ELAS: ELAS
   MEM: In Memory Raster
   BMP: MS Windows Device Independent Bitmap
   PCIDSK: PCIDSK Database File
   ILWIS: ILWIS Raster Map
   SGI: SGI Image File Format 1.0
   Leveller: Leveller heightfield
   Terragen: Terragen heightfield
   HDF4Image: HDF4 Dataset
   ERS: ERMapper .ers Labelled
   JP2ECW: ERMapper JPEG2000
   RMF: Raster Matrix Format
   RST: Idrisi Raster A.1
   INGR: Intergraph Raster
   GSBG: Golden Software Binary Grid (.grd)
   PNM: Portable Pixmap Format (netpbm)
   ENVI: ENVI .hdr Labelled
   EHdr: ESRI .hdr Labelled
   PAux: PCI .aux Labelled
   MFF: Vexcel MFF Raster
   MFF2: Vexcel MFF2 (HKV) Raster
   BT: VTP .bt (Binary Terrain) 1.3 Format
   IDA: Image Data and Analysis
   ADRG: ARC Digitized Raster Graphics
   SAGA: SAGA GIS Binary Grid (.sdat)

I surely have the netCDF driver. The swath_grid.grd file is in netCDF and the above command works 
for the default output type (GeoTiff).
Furthermore, if I ask for the drivers I have (I'm using FWTools here)

gdalwarp --formats
Supported Formats:
   VRT (rw+): Virtual Raster
   GTiff (rw+v): GeoTIFF
   NITF (rw+v): National Imagery Transmission Format
   RPFTOC (ro): Raster Product Format TOC format
   HFA (rw+v): Erdas Imagine Images (.img)
   SAR_CEOS (ro): CEOS SAR Image
   CEOS (ro): CEOS Image
   JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
   GFF (rov): Ground-based SAR Applications Testbed File Format (.gff)
   ELAS (rw+): ELAS
   AIG (ro): Arc/Info Binary Grid
   AAIGrid (rwv): Arc/Info ASCII Grid
   SDTS (ro): SDTS Raster
   OGDI (ro): OGDI Bridge
   DTED (rwv): DTED Elevation Raster
   PNG (rwv): Portable Network Graphics
   JPEG (rwv): JPEG JFIF
   MEM (rw+): In Memory Raster
   JDEM (ro): Japanese DEM (.mem)
   GIF (rwv): Graphics Interchange Format (.gif)
   BIGGIF (rov): Graphics Interchange Format (.gif)
   ESAT (ro): Envisat Image Format
   BSB (ro): Maptech BSB Nautical Charts
   XPM (rw): X11 PixMap Format
   BMP (rw+v): MS Windows Device Independent Bitmap
   DIMAP (ro): SPOT DIMAP
   AirSAR (ro): AirSAR Polarimetric Image
   RS2 (ro): RadarSat 2 XML Product
   PCIDSK (rw+v): PCIDSK Database File
   PCRaster (rw): PCRaster Raster File
   ILWIS (rw+v): ILWIS Raster Map
   SGI (rw+): SGI Image File Format 1.0
   SRTMHGT (rwv): SRTMHGT File Format
   Leveller (rw+): Leveller heightfield
   Terragen (rw+): Terragen heightfield
   GMT (rw): GMT NetCDF Grid Format
   netCDF (rw): Network Common Data Format
   HDF4 (ro): Hierarchical Data Format Release 4
   HDF4Image (rw+): HDF4 Dataset
   ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
   ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
   PDS (ro): NASA Planetary Data System
   TIL (ro): EarthWatch .TIL
   ERS (rw+): ERMapper .ers Labelled
   ECW (rw): ERMapper Compressed Wavelets
   JP2ECW (rw+): ERMapper JPEG2000
   L1B (ro): NOAA Polar Orbiter Level 1b Data Set
   FIT (rw): FIT Image
   GRIB (ro): GRIdded Binary (.grb)
   MrSID (ro): Multi-resolution Seamless Image Database (MrSID)
   JP2MrSID (ro): MrSID JPEG2000
   RMF (rw+): Raster Matrix Format
   WCS (ro): OGC Web Coverage Service
   WMS (ro): OGC Web Map Service
   MSGN (ro): EUMETSAT Archive native (.nat)
   RST (rw+): Idrisi Raster A.1
   INGR (rw+): Intergraph Raster
   GSAG (rw): Golden Software ASCII Grid (.grd)
   GSBG (rw+): Golden Software Binary Grid (.grd)
   GS7BG (ro): Golden Software 7 Binary Grid (.grd)
   COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
   TSX (ro): TerraSAR-X Product
   COASP (ro): DRDC COASP SAR Processor Raster
   R (rwv): R Object Data Store
   PNM (rw+): Portable Pixmap Format (netpbm)
   DOQ1 (ro): USGS DOQ (Old Style)
   DOQ2 (ro): USGS DOQ (New Style)
   ENVI (rw+v): ENVI .hdr Labelled
   EHdr (rw+v): ESRI .hdr Labelled
   GenBin (ro): Generic Binary (.hdr Labelled)
   PAux (rw+): PCI .aux Labelled
   MFF (rw+): Vexcel MFF Raster
   MFF2 (rw+): Vexcel MFF2 (HKV) Raster
   FujiBAS (ro): Fuji BAS Scanner Image
   GSC (ro): GSC Geogrid
   FAST (ro): EOSAT FAST Format
   BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
   LAN (ro): Erdas .LAN/.GIS
   CPG (ro): Convair PolGASP
   IDA (rw+): Image Data and Analysis
   NDF (ro): NLAPS Data Format
   EIR (ro): Erdas Imagine Raw
   DIPEx (ro): DIPEx
   LCP (rov): FARSITE v.4 Landscape File (.lcp)
   RIK (ro): Swedish Grid RIK (.rik)
   USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
   GXF (ro): GeoSoft Grid Exchange Format
   HTTP (ro): HTTP Fetching Wrapper
   BAG (ro): Bathymetry Attributed Grid
   HDF5 (ro): Hierarchical Data Format Release 5
   HDF5Image (ro): HDF5 Dataset
   NWT_GRD (ro): Northwood Numeric Grid Format .grd/.tab
   NWT_GRC (ro): Northwood Classified Grid Format .grc/.tab
   ADRG (rw+v): ARC Digitized Raster Graphics
   SRP (rov): Standard Raster Product (ASRP/USRP)
   BLX (rw): Magellan topo (.blx)
   Rasterlite (rw): Rasterlite
   WKTRaster (ro): PostGIS WKT Raster driver
   SAGA (rw+v): SAGA GIS Binary Grid (.sdat)





> Joaquim,
>
> I believe what you see is the expected behaviour.
>
> You must keep in mind that there are 2 notions :
> 1) nodata value -->  setting it is no more than just setting a "tag" on the
> raster band. It doesn't change the pixel values by itself as Chaintanya
> explained
> 2) initialization of the pixel data of the target image with a given value
>
> When you use the -dstnodata option, gdalwarp will automagically do both :
> 1) Set the target nodata value
> 2) Initialize the target image with that nodata value (remind of removing the
> target file if it already exists)
>
> If you specify nothing, then 0 is used to fill the target image but the nodata
> tag is not set.
>
> The initialization of the pixel data of the target image is in fact done
> through the INIT_DEST warping option. See
> http://gdal.org/structGDALWarpOptions.html#0ed77f9917bb96c7a9aabd73d4d06e08
>
> For example, gdalwarp src.tif dst.tif -wo "INIT_DEST=255"
>
> If you specify no INIT_DEST warping option, then gdalwarp uses the dstnodata
> value if it's specified with -dstnodata and set it as the INIT_DEST value
> too.
>
> I've also tested -dstnodata nan and to my great surprise, it actually works !
> However I'm not sure if all applications can deal with the "nan" string put
> in the 42113 tag used by GDAL for the Nodata value in TIFF.
>
> So maybe I've not understood what your problem is, but everything seems to
> work as expected on my side.
>
> Best regards,
>
> Even
>
> Le Wednesday 12 May 2010 01:37:07 Joaquim Luis, vous avez ?crit :
>> Hi,
>>
>> Before filling a ticket I would like to ask here if this gdalwarp
>> behavior is the intended one.
>> When I convert a grid from geogs to UTM the nodatavalues are filled with
>> zeros.
>> I get the expected behaviour if I use the -dstnodata with a numeric
>> value, but I found no way tom tell it use NaN.
>>
>> Summary
>>
>> This puts zeros on the nodata zone, but I don't find it correct as "0"
>> is not exactly a natural nodata value. For my habits NaN is the natural
>> no data value.
>>
>> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
>> swath_grid.grd lixo_utm.tiff
>>
>> Furthermore when I load the " lixo_utm.tiff" in Mirone is does not
>> recognize a nodata value, whilst if I do this instead
>>
>> gdalwarp -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29 +datum=WGS84"
>> -dstnodata 1 swath_grid.grd lixo_utm.tiff
>>
>> than "1" is recognized as the nodata. I have not investigated the
>> metadata to see why the "0" is not set to represent the nodata.
>>
>> Thanks
>>
>> Joaquim Luis
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>

From even.rouault at mines-paris.org  Wed May 12 18:03:32 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 12 18:03:42 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <4BEB1A5C.2000900@ualg.pt>
References: <4BE9EA23.80701@ualg.pt>
	<201005121953.48723.even.rouault@mines-paris.org>
	<4BEB1A5C.2000900@ualg.pt>
Message-ID: <201005130003.33311.even.rouault@mines-paris.org>

Le Wednesday 12 May 2010 23:15:08 Joaquim Luis, vous avez ?crit?:
> Even,
>
> Thanks, I understand it better now and made some advances but I'm still
> facing some troubles.
>
> For example, if I do this
>
> papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "300" );
> psWO->papszWarpOptions = CSLDuplicate(papszWarpOptions);
>
> than it works fine.
>
> However, if I do (remember that I want NaNs)
>
> papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "nan" );
>
> than I get zeros again in place of the nodata.

Works for me. You'll have to use your debugger I'm afraid

> The link you pointed me says
>
> "...or INIT_DEST=NO_DATA: This option forces the destination image to be
> initialized to the indicated value (for all bands) or indicates that it
> should be initialized to the NO_DATA value in
> padfDstNoDataReal/padfDstNoDataImag."
>
>
> So I next tried
>
> papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "NO_DATA"
> ); ...
> 	psWO->padfSrcNoDataReal = (double *)
> CPLMalloc(psWO->nBandCount*sizeof(double)); psWO->padfSrcNoDataImag =
> (double *) CPLMalloc(psWO->nBandCount*sizeof(double)); for (i = 0; i <
> nBands; i++) {
> 		psWO->padfSrcNoDataReal[i] = 500.;
> 		psWO->padfSrcNoDataImag[i] = 0.0;
> 		GDALSetRasterNoDataValue( GDALGetRasterBand(hDstDS, i+1),
> pdfDstNodata[0]); }

Hum, do you realize that you set padfSrcNoDataReal ? INIT_DEST=NO_DATA will 
fetch from padfDstNoDataReal as stated in the above doc...

> I tried to see what gdalwarp does ... and another problem. What is this?
>
> gdalwarp -of netCDF -s_srs "+proj=latlong" -t_srs "+proj=utm +zone=29
> +datum=WGS84" swath_grid.grd lixo_utm.grd
> Output driver `netCDF' not recognised or does not support
> direct output file creation.  The following format drivers are configured
> and support direct output:

Read the error message again ;-) "does not support direct output file 
creation"--> netCDF driver indeed only supports CreateCopy(), not Create() 
(--> random access) which is required by gdalwarp. 

The drivers that are supported as output driver for gdalwarp will have a '+' 
in the output of gdalinfo --formats. Look at the difference betwenn GeoTIFF 
and netCDF:

? ?GTiff (rw+v): GeoTIFF
? ?netCDF (rw): Network Common Data Format
From jluis at ualg.pt  Wed May 12 18:29:52 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed May 12 18:30:17 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <201005130003.33311.even.rouault@mines-paris.org>
References: <4BE9EA23.80701@ualg.pt>
	<201005121953.48723.even.rouault@mines-paris.org>
	<4BEB1A5C.2000900@ualg.pt>
	<201005130003.33311.even.rouault@mines-paris.org>
Message-ID: <4BEB2BE0.8050700@ualg.pt>


>> papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "nan" );
>>
>> than I get zeros again in place of the nodata.
>>      
> Works for me. You'll have to use your debugger I'm afraid
>    

For the rec, VS2010 and a quite recent trunk version.

>> papszWarpOptions = CSLSetNameValue(papszWarpOptions, "INIT_DEST", "NO_DATA"
>> ); ...
>> 	psWO->padfSrcNoDataReal = (double *)
>> CPLMalloc(psWO->nBandCount*sizeof(double)); psWO->padfSrcNoDataImag =
>> (double *) CPLMalloc(psWO->nBandCount*sizeof(double)); for (i = 0; i<
>> nBands; i++) {
>> 		psWO->padfSrcNoDataReal[i] = 500.;
>> 		psWO->padfSrcNoDataImag[i] = 0.0;
>> 		GDALSetRasterNoDataValue( GDALGetRasterBand(hDstDS, i+1),
>> pdfDstNodata[0]); }
>>      
> Hum, do you realize that you set padfSrcNoDataReal ? INIT_DEST=NO_DATA will
> fetch from padfDstNoDataReal as stated in the above doc...
>    


Ghrrrrrrrrrr, blind copy-paste is-what-it-was

THANKS

psWO->padfDstNoDataReal[i] = mxGetNaN();        // ( mxGetNaN() --> a 
Matlab API function)

Works fine now.


Joaquim


> Read the error message again ;-) "does not support direct output file
> creation"-->  netCDF driver indeed only supports CreateCopy(), not Create()
> (-->  random access) which is required by gdalwarp.
>
> The drivers that are supported as output driver for gdalwarp will have a '+'
> in the output of gdalinfo --formats. Look at the difference betwenn GeoTIFF
> and netCDF:
>
>     GTiff (rw+v): GeoTIFF
>     netCDF (rw): Network Common Data Format
>    

From rajjad at gmail.com  Thu May 13 06:53:49 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Thu May 13 07:00:50 2010
Subject: [gdal-dev] srs definition for wgs84
Message-ID: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>

Hi list,

I`m trying to export a shape file to oracle, however when I view my
oracle table I find that the SRS has not been set. I tried to add the
-a_srs paramter to the command line and gave it 4326 which EPSG from
Geographical WGS84


ogr2ogr -f OCI OCI:mdsys/mediation@10.0.80.31:1521/attmsd rural.shp
-a_srs EPSG:4326

but SDO_SRID in the table is set to 8192 whereas it should be 4326

 ORA_GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO,
SDO_ORDINAT
--------------------------------------------------------------------------------
SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(69.4, 27.55, 0), NULL, NULL)
SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(72.283333, 29.066667, 0), NULL, NULL)
SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(65.6, 27.116667, 0), NULL, NULL)
SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(71.383333, 29.483333, 0), NULL, NULL)
SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(70.183333, 28.016667, 0), NULL, NULL)


what am i doing

-- 
I.R
From P.Halls at york.ac.uk  Thu May 13 07:21:07 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu May 13 07:21:14 2010
Subject: [gdal-dev] srs definition for wgs84
In-Reply-To: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>
Message-ID: <4BEBE0A3.6000203@york.ac.uk>

Imran,

    the Oracle SRID value of 8192 *is* WGS84.  Oracle does not store the EPSG 
values, but has its own set.

Best wishes,

Peter

Imran Rajjad wrote:
> Hi list,
> 
> I`m trying to export a shape file to oracle, however when I view my
> oracle table I find that the SRS has not been set. I tried to add the
> -a_srs paramter to the command line and gave it 4326 which EPSG from
> Geographical WGS84
> 
> 
> ogr2ogr -f OCI OCI:mdsys/mediation@10.0.80.31:1521/attmsd rural.shp
> -a_srs EPSG:4326
> 
> but SDO_SRID in the table is set to 8192 whereas it should be 4326
> 
>  ORA_GEOMETRY(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO,
> SDO_ORDINAT
> --------------------------------------------------------------------------------
> SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(69.4, 27.55, 0), NULL, NULL)
> SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(72.283333, 29.066667, 0), NULL, NULL)
> SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(65.6, 27.116667, 0), NULL, NULL)
> SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(71.383333, 29.483333, 0), NULL, NULL)
> SDO_GEOMETRY(3001, 8192, SDO_POINT_TYPE(70.183333, 28.016667, 0), NULL, NULL)
> 
> 
> what am i doing
> 

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From jukka.rahkonen at mmmtike.fi  Thu May 13 08:02:05 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu May 13 08:02:27 2010
Subject: [gdal-dev] Re: srs definition for wgs84
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>
	<4BEBE0A3.6000203@york.ac.uk>
Message-ID: <loom.20100513T134922-547@post.gmane.org>

Peter J Halls <P.Halls <at> york.ac.uk> writes:

> 
> Imran,
> 
>     the Oracle SRID value of 8192 *is* WGS84.  Oracle does not store the EPSG 
> values, but has its own set.  

Starting from Oracle 10g or something it supports also EPSG codes. Old codes are
still supported by Oracle but other programs usually do not understand Oracle
SRID codes. Fortunately they are no more needed. But I think that the correct
way to give target SRID with ogr Oracle driver is not to use -a_srs but the
Layer Creation Option -lco SRID=4326.

-Jukka Rahkonen-

From rajjad at gmail.com  Thu May 13 08:44:11 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Thu May 13 08:44:22 2010
Subject: [gdal-dev] Re: srs definition for wgs84
In-Reply-To: <loom.20100513T134922-547@post.gmane.org>
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>
	<4BEBE0A3.6000203@york.ac.uk>
	<loom.20100513T134922-547@post.gmane.org>
Message-ID: <AANLkTin8V-GYr0ULobwLVMHbUSNPt9q6f2iNR7V73qjd@mail.gmail.com>

Hi,

I tried the following command , i guess I`m not getting the correct syntax here

regards,
Imran


ogr2ogr -f OCI OCI:mdsys/mediation@10.0.80.31:1521/attmsd
parceldata.shp -skipfailures -lco SRID=4326 DIM=2 GEOMETRY_NAME=GEOM
-lnl TABLE_NAME_IN_ORACLE=Parcel1

On Thu, May 13, 2010 at 5:02 PM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Peter J Halls <P.Halls <at> york.ac.uk> writes:
>
>>
>> Imran,
>>
>> ? ? the Oracle SRID value of 8192 *is* WGS84. ?Oracle does not store the EPSG
>> values, but has its own set.
>
> Starting from Oracle 10g or something it supports also EPSG codes. Old codes are
> still supported by Oracle but other programs usually do not understand Oracle
> SRID codes. Fortunately they are no more needed. But I think that the correct
> way to give target SRID with ogr Oracle driver is not to use -a_srs but the
> Layer Creation Option -lco SRID=4326.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
I.R
From P.Halls at york.ac.uk  Thu May 13 09:02:45 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu May 13 09:02:59 2010
Subject: [gdal-dev] Re: srs definition for wgs84
In-Reply-To: <loom.20100513T134922-547@post.gmane.org>
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>	<4BEBE0A3.6000203@york.ac.uk>
	<loom.20100513T134922-547@post.gmane.org>
Message-ID: <4BEBF875.2070109@york.ac.uk>

Jukka,

Jukka Rahkonen wrote:
> Peter J Halls <P.Halls <at> york.ac.uk> writes:
> 
>> Imran,
>>
>>     the Oracle SRID value of 8192 *is* WGS84.  Oracle does not store the EPSG 
>> values, but has its own set.  
> 
> Starting from Oracle 10g or something it supports also EPSG codes. Old codes are
> still supported by Oracle but other programs usually do not understand Oracle
> SRID codes. Fortunately they are no more needed. But I think that the correct

    from the (11g) Oracle Spatial reference manual:

"The Oracle Spatial coordinate system support is based on, but is not always 
identical to, the European Petroleum Survey Group (EPSG) data model and dataset."

Methods are provided to express the Oracle SRID as EPSG WKT and to translate 
between Oracle SRID values and EPSG values.  These are needed for programs which 
do not understand the Oracle SRID values.

This means that, without care, Oracle reports will specify the Oracle SRID 
values, which are those stored and used internally, rather than the EPSG values. 
  Oracle also supports projections additional to the EPSG schema.  This seems to 
be what Imran saw.

Yes, this change was introduced at 10g and replaced something rather different 
(and which I have never used), but the current system does not simply use EPSG 
as you imply.

> way to give target SRID with ogr Oracle driver is not to use -a_srs but the
> Layer Creation Option -lco SRID=4326.

Agreed, although up to and including GDAL 1.6.n I have failed to get this method 
to work when using the API.  The problem is more than likely something I've done 
wrong and I have not yet tried 1.7.n.

Best wishes,

Peter

> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From Jukka.Rahkonen at mmmtike.fi  Thu May 13 09:40:00 2010
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu May 13 09:44:24 2010
Subject: [gdal-dev] Re: srs definition for wgs84
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com><4BEBE0A3.6000203@york.ac.uk><loom.20100513T134922-547@post.gmane.org>
	<AANLkTin8V-GYr0ULobwLVMHbUSNPt9q6f2iNR7V73qjd@mail.gmail.com>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E347B5@tikka.haapa.mmm.fi>

Hi,

-lco must be repeated and typos are no good.  Try

ogr2ogr -f OCI OCI:mdsys/mediation@10.0.80.31:1521/attmsd
parceldata.shp -skipfailures -lco SRID=4326 -lco DIM=2 -lco GEOMETRY_NAME=GEOM
-nln Parcel1

I do not have Oracle available so I am not 100% sure but it must be close to working command.


-Jukka-




-----Alkuper?inen viesti-----
L?hett?j?: Imran Rajjad [mailto:rajjad@gmail.com]
L?hetetty: to 13.5.2010 15:44
Vastaanottaja: Rahkonen Jukka
Kopio: gdal-dev@lists.osgeo.org
Aihe: Re: [gdal-dev] Re: srs definition for wgs84
 
Hi,

I tried the following command , i guess I`m not getting the correct syntax here

regards,
Imran


ogr2ogr -f OCI OCI:mdsys/mediation@10.0.80.31:1521/attmsd
parceldata.shp -skipfailures -lco SRID=4326 DIM=2 GEOMETRY_NAME=GEOM
-lnl TABLE_NAME_IN_ORACLE=Parcel1

On Thu, May 13, 2010 at 5:02 PM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi> wrote:
> Peter J Halls <P.Halls <at> york.ac.uk> writes:
>
>>
>> Imran,
>>
>> ? ? the Oracle SRID value of 8192 *is* WGS84. ?Oracle does not store the EPSG
>> values, but has its own set.
>
> Starting from Oracle 10g or something it supports also EPSG codes. Old codes are
> still supported by Oracle but other programs usually do not understand Oracle
> SRID codes. Fortunately they are no more needed. But I think that the correct
> way to give target SRID with ogr Oracle driver is not to use -a_srs but the
> Layer Creation Option -lco SRID=4326.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
I.R

From Jukka.Rahkonen at mmmtike.fi  Thu May 13 09:52:23 2010
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu May 13 09:52:28 2010
Subject: [gdal-dev] Re: srs definition for wgs84
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>	<4BEBE0A3.6000203@york.ac.uk>
	<loom.20100513T134922-547@post.gmane.org>
	<4BEBF875.2070109@york.ac.uk>
Message-ID: <CC197224AC75CE4DB23F739B16891B86E347B6@tikka.haapa.mmm.fi>

Hi,

I believe that Imran is willing to use Oracle data, once they are in, through Geoserver. On the other hand, I do not believe that Geoserver supports those Oracle SRIDs but it wants to see SRID=4326 for WGS84 data in Oracle. Therefore even the Oracle codes may be better in some way in this case they could be unusable. I have not tried ever with SRID=4326 in Oracle, but using SRID=2393 in Oracle works fine together with our EPSG:2393 data and Geoserver.

-Jukka-


-----Alkuper?inen viesti-----
L?hett?j?: Peter J Halls [mailto:P.Halls@york.ac.uk]
L?hetetty: to 13.5.2010 16:02
Vastaanottaja: Rahkonen Jukka
Kopio: gdal-dev@lists.osgeo.org
Aihe: Re: [gdal-dev] Re: srs definition for wgs84
 
Jukka,

Jukka Rahkonen wrote:
> Peter J Halls <P.Halls <at> york.ac.uk> writes:
> 
>> Imran,
>>
>>     the Oracle SRID value of 8192 *is* WGS84.  Oracle does not store the EPSG 
>> values, but has its own set.  
> 
> Starting from Oracle 10g or something it supports also EPSG codes. Old codes are
> still supported by Oracle but other programs usually do not understand Oracle
> SRID codes. Fortunately they are no more needed. But I think that the correct

    from the (11g) Oracle Spatial reference manual:

"The Oracle Spatial coordinate system support is based on, but is not always 
identical to, the European Petroleum Survey Group (EPSG) data model and dataset."

Methods are provided to express the Oracle SRID as EPSG WKT and to translate 
between Oracle SRID values and EPSG values.  These are needed for programs which 
do not understand the Oracle SRID values.

This means that, without care, Oracle reports will specify the Oracle SRID 
values, which are those stored and used internally, rather than the EPSG values. 
  Oracle also supports projections additional to the EPSG schema.  This seems to 
be what Imran saw.

Yes, this change was introduced at 10g and replaced something rather different 
(and which I have never used), but the current system does not simply use EPSG 
as you imply.

> way to give target SRID with ogr Oracle driver is not to use -a_srs but the
> Layer Creation Option -lco SRID=4326.

Agreed, although up to and including GDAL 1.6.n I have failed to get this method 
to work when using the API.  The problem is more than likely something I've done 
wrong and I have not yet tried 1.7.n.

Best wishes,

Peter

> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------

From P.Halls at york.ac.uk  Thu May 13 10:00:42 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Thu May 13 10:00:54 2010
Subject: [gdal-dev] Re: srs definition for wgs84
In-Reply-To: <CC197224AC75CE4DB23F739B16891B86E347B6@tikka.haapa.mmm.fi>
References: <AANLkTimvvZAtI-TrlSPSCPiLqh8MhClFLVOB41UsZ8SO@mail.gmail.com>	<4BEBE0A3.6000203@york.ac.uk>
	<loom.20100513T134922-547@post.gmane.org>
	<4BEBF875.2070109@york.ac.uk>
	<CC197224AC75CE4DB23F739B16891B86E347B6@tikka.haapa.mmm.fi>
Message-ID: <4BEC060A.60304@york.ac.uk>

Jukka,

    I do not have Geoserver, however, if it will support use of the 
SDO_CS.MAP_EPSG_SRID_TO_ORACLE and SDO_CS.MAP_ORACLE_SRID_TO_EPSG methods, then 
it should not matter what Oracle is doing internally.  I use these on those 
occasions where I receive data with the EPSG definition or am exporting to EPSG.

    By the way, the details are in Chapter 6 of the Oracle Spatial Developer's 
Guide, code B28400, which is freely available for download from the Oracle 11g 
documentation web pages.

Best wishes,

Peter

Rahkonen Jukka wrote:
> Hi,
> 
> I believe that Imran is willing to use Oracle data, once they are in, through Geoserver. On the other hand, I do not believe that Geoserver supports those Oracle SRIDs but it wants to see SRID=4326 for WGS84 data in Oracle. Therefore even the Oracle codes may be better in some way in this case they could be unusable. I have not tried ever with SRID=4326 in Oracle, but using SRID=2393 in Oracle works fine together with our EPSG:2393 data and Geoserver.
> 
> -Jukka-
> 
> 
> -----Alkuper?inen viesti-----
> L?hett?j?: Peter J Halls [mailto:P.Halls@york.ac.uk]
> L?hetetty: to 13.5.2010 16:02
> Vastaanottaja: Rahkonen Jukka
> Kopio: gdal-dev@lists.osgeo.org
> Aihe: Re: [gdal-dev] Re: srs definition for wgs84
>  
> Jukka,
> 
> Jukka Rahkonen wrote:
>> Peter J Halls <P.Halls <at> york.ac.uk> writes:
>>
>>> Imran,
>>>
>>>     the Oracle SRID value of 8192 *is* WGS84.  Oracle does not store the EPSG 
>>> values, but has its own set.  
>> Starting from Oracle 10g or something it supports also EPSG codes. Old codes are
>> still supported by Oracle but other programs usually do not understand Oracle
>> SRID codes. Fortunately they are no more needed. But I think that the correct
> 
>     from the (11g) Oracle Spatial reference manual:
> 
> "The Oracle Spatial coordinate system support is based on, but is not always 
> identical to, the European Petroleum Survey Group (EPSG) data model and dataset."
> 
> Methods are provided to express the Oracle SRID as EPSG WKT and to translate 
> between Oracle SRID values and EPSG values.  These are needed for programs which 
> do not understand the Oracle SRID values.
> 
> This means that, without care, Oracle reports will specify the Oracle SRID 
> values, which are those stored and used internally, rather than the EPSG values. 
>   Oracle also supports projections additional to the EPSG schema.  This seems to 
> be what Imran saw.
> 
> Yes, this change was introduced at 10g and replaced something rather different 
> (and which I have never used), but the current system does not simply use EPSG 
> as you imply.
> 
>> way to give target SRID with ogr Oracle driver is not to use -a_srs but the
>> Layer Creation Option -lco SRID=4326.
> 
> Agreed, although up to and including GDAL 1.6.n I have failed to get this method 
> to work when using the API.  The problem is more than likely something I've done 
> wrong and I have not yet tried 1.7.n.
> 
> Best wishes,
> 
> Peter
> 
>> -Jukka Rahkonen-
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From even.rouault at mines-paris.org  Thu May 13 13:38:57 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 13 13:39:11 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <4BEB2BE0.8050700@ualg.pt>
References: <4BE9EA23.80701@ualg.pt>
	<201005130003.33311.even.rouault@mines-paris.org>
	<4BEB2BE0.8050700@ualg.pt>
Message-ID: <201005131938.59168.even.rouault@mines-paris.org>

Joaquim,

>
> For the rec, VS2010 and a quite recent trunk version.

Ah, this is the reason for the different results we got. On Windows, 
atof("nan") returns 0... but on Linux it returns a nan number.

I've pushed quite a few changes to trunk to improve the situation on Windows 
and other changes for all platforms to fix the case when we compare pixel 
values to nodata value and the nodata value is nan. Indeed, the test "value 
== dfNoDataValue" that was generally used fails if value == nan and 
dfNoDataValue == nan, because nan != nan...

See http://trac.osgeo.org/gdal/ticket/3576

Best regards,

Even
From arongone at aer.com  Thu May 13 13:52:03 2010
From: arongone at aer.com (Allen Rongone)
Date: Thu May 13 13:52:07 2010
Subject: [gdal-dev] Python (2.6.5) GDAL module will not install with
	easy_install
In-Reply-To: <4BE9B6BC.2000603@ucar.edu>
References: <E360760A-9B16-4308-A8EC-80665BAD5714@aer.com>
	<4BE2F2B6.9030005@ucar.edu>
	<A7EB3B4B-DA24-42ED-A143-FA4DBBA8C3BF@aer.com>
	<4BE991A1.3000500@ucar.edu>
	<5269763E-D8B1-4F84-A197-A94526047646@aer.com>
	<4BE99D82.6070101@ucar.edu>
	<E685B08D-5A99-4203-91D8-6307CD4AB65D@aer.com>
	<4BE9B6BC.2000603@ucar.edu>
Message-ID: <8AE146F9-5479-4056-99A2-78467BA6575E@aer.com>

Brice,

	Thank you.

	I removed the older version of gdal that came with RHEL, placed the  
correct path in ld.so.conf and now it installs properly and I can  
import the module in python!

~ Allen

On May 11, 2010, at 3:57 PM, Brice Lambi wrote:

> There is really no reason to remove the 1.7.2 you've built.  If you're
> going to install in the same location then all will be overwritten, if
> you install in a new location then it might be best to cleanup the
> unused stuff.  I think you can do 'make uninstall' as well.
>
> Cheers,
> Brice

From jluis at ualg.pt  Thu May 13 15:00:34 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu May 13 15:01:03 2010
Subject: [gdal-dev] gdalwarp's default nodata value
In-Reply-To: <201005131938.59168.even.rouault@mines-paris.org>
References: <4BE9EA23.80701@ualg.pt>
	<201005130003.33311.even.rouault@mines-paris.org>
	<4BEB2BE0.8050700@ualg.pt>
	<201005131938.59168.even.rouault@mines-paris.org>
Message-ID: <4BEC4C52.4070305@ualg.pt>

On 13-05-2010 18:38, Even Rouault wrote:
> Joaquim,
>
>    
>> For the rec, VS2010 and a quite recent trunk version.
>>      
> Ah, this is the reason for the different results we got. On Windows,
> atof("nan") returns 0... but on Linux it returns a nan number.
>
> I've pushed quite a few changes to trunk to improve the situation on Windows
> and other changes for all platforms to fix the case when we compare pixel
> values to nodata value and the nodata value is nan.

> Indeed, the test "value == dfNoDataValue" that was generally used fails if value == nan and
> dfNoDataValue == nan, because nan != nan...
>    

Oui, c'est le danger des "nains"

Thanks for the info (and work of course)

Joaquim

From woodbri at swoodbridge.com  Thu May 13 16:32:30 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Thu May 13 16:34:33 2010
Subject: [gdal-dev] OT: Need help with proj definition
Message-ID: <4BEC61DE.3010500@swoodbridge.com>

Hi all,

I have a shapefile with the following in the prj file:

GEOGCS["GCS_ITRF_2000",DATUM["D_ITRF_2000",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]

Anyone know how to convert this to a proj4 definition?

Thanks,
   -Steve
From jaadfoo at gmail.com  Thu May 13 16:58:53 2010
From: jaadfoo at gmail.com (Jamie Adams)
Date: Thu May 13 17:06:57 2010
Subject: [gdal-dev] OT: Need help with proj definition
In-Reply-To: <4BEC61DE.3010500@swoodbridge.com>
References: <4BEC61DE.3010500@swoodbridge.com>
Message-ID: <AANLkTikScDzH2Vm1eq_S95d8s5H5JX0Rc9EcFIl1NV4T@mail.gmail.com>

I quickly ran this in a python shell:

>>> from osgeo import osr

>>> wkt =
'GEOGCS["GCS_ITRF_2000",DATUM["D_ITRF_2000",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'

>>> srs = osr.SpatialReference()

>>> srs.ImportFromWkt(wkt)

>>> srs.ExportToProj4()
'+proj=longlat +ellps=GRS80 +no_defs '

- Jamie

On Thu, May 13, 2010 at 1:32 PM, Stephen Woodbridge <woodbri@swoodbridge.com
> wrote:

> Hi all,
>
> I have a shapefile with the following in the prj file:
>
>
> GEOGCS["GCS_ITRF_2000",DATUM["D_ITRF_2000",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]
>
> Anyone know how to convert this to a proj4 definition?
>
> Thanks,
>  -Steve
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100513/3aece606/attachment.html
From benang at cs.its.ac.id  Fri May 14 04:09:10 2010
From: benang at cs.its.ac.id (benang@cs.its.ac.id)
Date: Fri May 14 04:18:36 2010
Subject: [gdal-dev] Hi.
Message-ID: <12735.110.139.64.81.1273824550.squirrel@webmail.cs.its.ac.id>

Hi guys, I'm a new member in the mailing list. I'm doing some project that
requires me to read from a MapInfo GeoSet files and make a 3D
representation out of it. So when I read GDAL's description, I think I've
made the right choice about how to read from the GeoSet. And for the 3D
part, I will be using OGRE 3D. Here are some of my questions:

1. Regarding what I'm trying to do, am I on the right path? To be honest
I'm still a GIS-virgin. I come from a game development background so the
3D stuff is not entirely new for me. But about mapping, and all the GIS
stuffs, I confess that I know next to nothing.

2. When I first downloaded GDAL for my project, I used the original nmake
version of the project. But it kind of inefficient because every time I
need to build my solution, the GDAL will always do a clean build, even if
I didn't change any part of the code. Then I tried the VTP's Visual C++
Projects and see that it requires some dependencies. What libraries do
GDAL depends on? I tried googling for "GDAL dependencies" but none came up
that lists all the required dependencies.

3. In VTP's Visual C++ Solutions / Projects download site, I see that two
of the needed dependencies are libpng and libjpg. And I see that OGRE uses
the same dependencies. So to make it simpler, I want to use only one
version of those dependencies instead of using two (OGRE's and GDAL's).
So, what other libraries that they both use? (this is actually pretty much
the same with the second question because I can't seem to find the list of
GDAL's dependencies)

Thanks in advance guys. And nice to meet you.

Fare thee well,
Bawenang R. P. P.

----------------
"Kuaci is good. And coffee makes it better..."


--

http://www.its.ac.id 
From peifer at gmx.eu  Fri May 14 06:10:48 2010
From: peifer at gmx.eu (Hermann Peifer)
Date: Fri May 14 06:10:50 2010
Subject: [gdal-dev] Re: OT: Need help with proj definition
In-Reply-To: <4BEC61DE.3010500@swoodbridge.com>
References: <4BEC61DE.3010500@swoodbridge.com>
Message-ID: <4BED21A8.2090500@gmx.eu>

On 13/05/2010 22:32, Stephen Woodbridge wrote:
> Hi all,
>
> I have a shapefile with the following in the prj file:
>
> GEOGCS["GCS_ITRF_2000",DATUM["D_ITRF_2000",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]
>
>
> Anyone know how to convert this to a proj4 definition?
>
> Thanks,
> -Steve

One option could be to simply convert the shapefile into GMT format.

# -fid 0 keeps the GMT file small
ogr2ogr -f GMT yourfile.gmt yourfile.shp -fid 0

You'll find something like this in the GMT file:
# @Jp"+proj=longlat +ellps=GRS80 +no_defs "

Hermann
From piotr at cgis.pl  Fri May 14 05:59:06 2010
From: piotr at cgis.pl (Piotr Tracz)
Date: Fri May 14 06:13:15 2010
Subject: [gdal-dev] Hi.
In-Reply-To: <12735.110.139.64.81.1273824550.squirrel@webmail.cs.its.ac.id>
References: <12735.110.139.64.81.1273824550.squirrel@webmail.cs.its.ac.id>
Message-ID: <4BED1EEA.5090701@cgis.pl>

W dniu 2010-05-14 10:09, benang@cs.its.ac.id pisze:
> 2. When I first downloaded GDAL for my project, I used the original nmake
> version of the project. But it kind of inefficient because every time I
> need to build my solution, the GDAL will always do a clean build, even if
> I didn't change any part of the code. Then I tried the VTP's Visual C++
> Projects and see that it requires some dependencies. What libraries do
> GDAL depends on? I tried googling for "GDAL dependencies" but none came up
> that lists all the required dependencies.
>
>

To avoid rebuilding GDAL just change your makefile.vc. This will make 
you some clue:

default:
         if not exist gdal.lib $(MAKE) /f makefile.vc default2

default2:    port_dir ogr_dir core_dir frmts_dir $(VB6_TARGET) $(GDAL_DLL) \
         plugin_dir apps_dir

/Peter




From even.rouault at mines-paris.org  Fri May 14 19:25:29 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 14 19:25:36 2010
Subject: [gdal-dev] New OGR driver to write PostgreSQL dumps
Message-ID: <201005150125.29908.even.rouault@mines-paris.org>

Hi all,

I just wanted to mention for those interested that a new driver has landed in 
GDAL/OGR svn trunk (target release : 1.8.0). It is called PGDump and offers 
features quite similar to the PostGIS shp2pgsql utility, that is to say the 
capability of dumping the INSERT / COPY statements into a text file without 
requiring a connexion to a PostgreSQL database instance.

See http://gdal.org/ogr/drv_pgdump.html for the documentation.

Best regards,

Even
From even.rouault at mines-paris.org  Sat May 15 09:58:40 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 15 10:37:02 2010
Subject: [gdal-dev] Addition to RFC3 to clarify the relationship with other
	upstream projects imported in GDAL/OGR code base
Message-ID: <201005151558.41855.even.rouault@mines-paris.org>

Hi all,

I took the liberty to add a new paragraph in RFC3 to make the situation 
clearer to new GDAL/OGR commiters, not necessary aware that some of the code 
in GDAL/OGR comes from other projects and that it deserves special care for 
modifying it.

See : http://trac.osgeo.org/gdal/wiki/rfc3_commiters?action=diff&version=7

Best regards,

Even
From weixj2003ld at 163.com  Sun May 16 20:17:51 2010
From: weixj2003ld at 163.com (weixj2003ld)
Date: Sun May 16 20:33:15 2010
Subject: [gdal-dev] get different result when use different parameters
In-Reply-To: <AANLkTikAlL0VzQ_rTgKJl04vnMKDRPTSVDUTw67qb4MH@mail.gmail.com>
References: <AANLkTikAlL0VzQ_rTgKJl04vnMKDRPTSVDUTw67qb4MH@mail.gmail.com>
	<12cfa06.480e.128855d7bd1.Coremail.weixj2003ld@163.com>
Message-ID: <14e97d.9d1.128a39fb270.Coremail.weixj2003ld@163.com>

Thk u for your answer.
Yes,they give the same output except Type.
 
Driver: PNG/Portable Network Graphics
Files: SRTM_GTOPO_u30_n090e060.png
Size is 4800, 6000
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 6000.0)
Upper Right ( 4800.0,    0.0)
Lower Right ( 4800.0, 6000.0)
Center      ( 2400.0, 3000.0)
Band 1 Block=4800x1 Type=Byte, ColorInterp=Gray

1. I want to know that when I should use '-ot Byte ' and when use ' -ot UInt16 '?
2. when I use  -ot UInt16 ',Must I perform histogram equalization on it?
 
 

weixj2003ld,

I couldn't open the link.
Try "gdalinfo -mm des.png" on both the output images. I think they will both give the same output. UInt16 should give a dark image unless you perform histogram equalization on it.


2010/5/11 weixj2003ld <weixj2003ld@163.com>

I download a elevation data (SRTM,GTOPO30) from http://glcfapp.glcf.umd.edu:8080/esdi/index.jsp
 
 use 
gdal_translate -b 1 -of PNG -ot Byte source.tif des.png
and 
gdal_translate -b 1 -of PNG -ot UInt16 source.tif des.png
differently,
with parameter 'UInt16',I get a black picture,with Byte,get a different one,why?
BTW,I want to get a png file from elevation data(.tif),must I use command gdal_translate?
Thk u in advance.
 



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/ 
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100517/ddcdfb7c/attachment.html
From chaitanya.ch at gmail.com  Mon May 17 02:57:38 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon May 17 02:57:41 2010
Subject: [gdal-dev] get different result when use different parameters
In-Reply-To: <14e97d.9d1.128a39fb270.Coremail.weixj2003ld@163.com>
References: <12cfa06.480e.128855d7bd1.Coremail.weixj2003ld@163.com>
	<AANLkTikAlL0VzQ_rTgKJl04vnMKDRPTSVDUTw67qb4MH@mail.gmail.com>
	<14e97d.9d1.128a39fb270.Coremail.weixj2003ld@163.com>
Message-ID: <AANLkTikSWXhdJUWGQuP0Qh9EJQAR8BcrwUBAboh6_LOg@mail.gmail.com>

weixj2003ld,

Be aware that histogram equalization changes the pixel values. It is better
used for display purposes only.

You should choose between Byte and UInt16 or any other type based on the
range of pixel values in the raster band.

On Mon, May 17, 2010 at 5:47 AM, weixj2003ld <weixj2003ld@163.com> wrote:

> Thk u for your answer.
> Yes,they give the same output except Type.
>
> Driver: PNG/Portable Network Graphics
> Files: SRTM_GTOPO_u30_n090e060.png
> Size is 4800, 6000
> Coordinate System is `'
> Corner Coordinates:
> Upper Left  (    0.0,    0.0)
> Lower Left  (    0.0, 6000.0)
> Upper Right ( 4800.0,    0.0)
> Lower Right ( 4800.0, 6000.0)
> Center      ( 2400.0, 3000.0)
> Band 1 Block=4800x1 Type=Byte, ColorInterp=Gray
> 1. I want to know that when I should use '-ot Byte ' and when use ' -ot
> UInt16 '?
> 2. when I use  -ot UInt16 ',Must I perform histogram equalization on it?
>
>
>
> weixj2003ld,
>
> I couldn't open the link.
> Try "gdalinfo -mm des.png" on both the output images. I think they will
> both give the same output. UInt16 should give a dark image unless you
> perform histogram equalization on it.
>
> 2010/5/11 weixj2003ld <weixj2003ld@163.com>
>
>> I download a elevation data (SRTM,GTOPO30) from
>> http://glcfapp.glcf.umd.edu:8080/esdi/index.jsp
>>
>>  use
>> gdal_translate -b 1 -of PNG -ot Byte source.tif des.png
>> and
>> gdal_translate -b 1 -of PNG -ot UInt16 source.tif des.png
>> differently,
>> with parameter 'UInt16',I get a black picture,with Byte,get a different
>> one,why?
>> BTW,I want to get a png file from elevation data(.tif),must I use command
>> gdal_translate?
>> Thk u in advance.
>>
>>
>
>
>
> ------------------------------
> ????????????????????? <http://ym.163.com/?from=od3>




-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100517/584c5e1c/attachment.html
From benang at cs.its.ac.id  Mon May 17 08:54:00 2010
From: benang at cs.its.ac.id (benang@cs.its.ac.id)
Date: Mon May 17 08:54:05 2010
Subject: [gdal-dev] Hi.
In-Reply-To: <4BED1EEA.5090701@cgis.pl>
References: <12735.110.139.64.81.1273824550.squirrel@webmail.cs.its.ac.id>
	<4BED1EEA.5090701@cgis.pl>
Message-ID: <28862.110.139.64.81.1274100840.squirrel@webmail.cs.its.ac.id>

My bad, I was unintentionally replied to Piotr's email instead of GDAL's
mailing list. :D

Thanks a lot Piotr. That can help, but still I don't have a clue about the
dependencies for GDAL. I want to know whether or not there are duplicate
dependencies between GDAL and OGRE3D (and maybe other libraries that I
will use in the future).

Piotr Tracz wrote:
> W dniu 2010-05-14 10:09, benang@cs.its.ac.id pisze:
>> 2. When I first downloaded GDAL for my project, I used the original
>> nmake
>> version of the project. But it kind of inefficient because every time I
>> need to build my solution, the GDAL will always do a clean build, even
>> if
>> I didn't change any part of the code. Then I tried the VTP's Visual C++
>> Projects and see that it requires some dependencies. What libraries do
>> GDAL depends on? I tried googling for "GDAL dependencies" but none came
>> up
>> that lists all the required dependencies.
>>
>>
>
> To avoid rebuilding GDAL just change your makefile.vc. This will make
> you some clue:
>
> default:
>          if not exist gdal.lib $(MAKE) /f makefile.vc default2
>
> default2:    port_dir ogr_dir core_dir frmts_dir $(VB6_TARGET) $(GDAL_DLL)
> \
>          plugin_dir apps_dir
>
> /Peter
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


Fare thee well,
Bawenang R. P. P.

----------------
"Kuaci is good. And coffee makes it better..."


--

http://www.its.ac.id 
From jeff at unterbahn.com  Mon May 17 11:08:59 2010
From: jeff at unterbahn.com (Jeffrey Warren)
Date: Mon May 17 11:15:57 2010
Subject: [gdal-dev] gdal2tiles output packed as kmz doesn't load in Google
	Earth
Message-ID: <AANLkTimc3ootjBcPXk9aI7TAGdp-uBY6uyJlh42hU8Do@mail.gmail.com>

Hi, I'm probably missing something obvious, but I tried packing an output
directory from gdal2tiles -k (generating the doc.kml) and while the kml
loads, and all the sub-kmls load (i.e. 11/1401/2322.kml etc.) when I
compress them into a zip and rename kmz, the images don't load.

Google Earth doesn't seem to have an error console but it does actually
follow the doc.kml network links, and finds the sub-kmls. It just doesn't
find the images.

Am I missing something? the generated doc.kml uses relative paths and I've
read the docs...

anyways the files are here, along with the link to the root doc.kml. Could
anyone take a look and help me out here?

maps.grassrootsmapping.org/chandeleur-may8-plane.kmz
maps.grassrootsmapping.org/chandeleur-may8-plane/doc.kml

maps.grassrootsmapping.org/may-9-chandeleur-balloon.kmz
maps.grassrootsmapping.org/may-9-chandeleur-balloon/doc.kml

For reference, these two tilesets also have absolute path .kml files here,
which load properly in GE:

maps.grassrootsmapping.org/chandeleur-may8-plane.kml
maps.grassrootsmapping.org/may-9-chandeleur-balloon.kml

Thanks for any tips/suggestions!

Best,
Jeff
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100517/8a56e617/attachment.html
From ksshannon at gmail.com  Mon May 17 12:59:22 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Mon May 17 12:59:40 2010
Subject: [gdal-dev] gdal2tiles output packed as kmz doesn't load in Google
	Earth
In-Reply-To: <AANLkTimc3ootjBcPXk9aI7TAGdp-uBY6uyJlh42hU8Do@mail.gmail.com>
References: <AANLkTimc3ootjBcPXk9aI7TAGdp-uBY6uyJlh42hU8Do@mail.gmail.com>
Message-ID: <AANLkTik5UyV1k5HWAI5A9msB602oXvRkyU0arpKfAwWb@mail.gmail.com>

You can turn on kml error handling in the Tools->Options under the "General"
tab.  My first guess would be a path issue, but I am not certain.

kss

# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================


On Mon, May 17, 2010 at 9:08 AM, Jeffrey Warren <jeff@unterbahn.com> wrote:

> Hi, I'm probably missing something obvious, but I tried packing an output
> directory from gdal2tiles -k (generating the doc.kml) and while the kml
> loads, and all the sub-kmls load (i.e. 11/1401/2322.kml etc.) when I
> compress them into a zip and rename kmz, the images don't load.
>
> Google Earth doesn't seem to have an error console but it does actually
> follow the doc.kml network links, and finds the sub-kmls. It just doesn't
> find the images.
>
> Am I missing something? the generated doc.kml uses relative paths and I've
> read the docs...
>
> anyways the files are here, along with the link to the root doc.kml. Could
> anyone take a look and help me out here?
>
> maps.grassrootsmapping.org/chandeleur-may8-plane.kmz
> maps.grassrootsmapping.org/chandeleur-may8-plane/doc.kml
>
> maps.grassrootsmapping.org/may-9-chandeleur-balloon.kmz
> maps.grassrootsmapping.org/may-9-chandeleur-balloon/doc.kml
>
> For reference, these two tilesets also have absolute path .kml files here,
> which load properly in GE:
>
> maps.grassrootsmapping.org/chandeleur-may8-plane.kml
> maps.grassrootsmapping.org/may-9-chandeleur-balloon.kml
>
> Thanks for any tips/suggestions!
>
> Best,
> Jeff
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100517/310ba048/attachment.html
From jeff at unterbahn.com  Mon May 17 14:53:21 2010
From: jeff at unterbahn.com (Jeffrey Warren)
Date: Mon May 17 14:53:26 2010
Subject: [gdal-dev] gdal2tiles output packed as kmz doesn't load in Google
	Earth
In-Reply-To: <AANLkTik5UyV1k5HWAI5A9msB602oXvRkyU0arpKfAwWb@mail.gmail.com>
References: <AANLkTimc3ootjBcPXk9aI7TAGdp-uBY6uyJlh42hU8Do@mail.gmail.com>
	<AANLkTik5UyV1k5HWAI5A9msB602oXvRkyU0arpKfAwWb@mail.gmail.com>
Message-ID: <AANLkTimbv4QoAD05aNhBMVT3rcRi_ZvwADAa2kwapwCu@mail.gmail.com>

Hmm, i see:

/Users/warren/Downloads/1202.png - HTTP 404(Not Found) The server has not
found anything matching the URI.
/Users/12/1037/2404.kml - Could not open file
/Users/12/1037/2405.kml - Could not open file

So it's a relative path problem, not reading from the zip root. The xml is
below - hmm... what's the proper way to refer to zip-local root? Do these
files load for anyone else's version of Google Earth?

Thanks a lot!

<?xml version="1.0" encoding="utf-8"?>
<kml xmlns="http://earth.google.com/kml/2.1">
  <Document>
    <Name>may-8-chandeleur-flight-epsg-4326.tif</Name>
    <Description></Description>
    <Style>
      <ListStyle id="hideChildren">
        <listItemType>checkHideChildren</listItemType>
      </ListStyle>
    </Style>
    <NetworkLink>
      <name>11/518/1202.png</name>
      <Region>
        <Lod>
          <minLodPixels>128</minLodPixels>
          <maxLodPixels>-1</maxLodPixels>
        </Lod>
        <LatLonAltBox>
          <north>29.99300228455108</north>
          <south>29.84064389983444</south>
          <east>-88.76953125000000</east>
          <west>-88.94531250000000</west>
        </LatLonAltBox>
      </Region>
      <Link>
        <href>11/518/1202.kml</href>
        <viewRefreshMode>onRegion</viewRefreshMode>
        <viewFormat/>
      </Link>
    </NetworkLink>
  </Document>
</kml>


On Mon, May 17, 2010 at 12:59 PM, Kyle Shannon <ksshannon@gmail.com> wrote:

> You can turn on kml error handling in the Tools->Options under the
> "General" tab.  My first guess would be a path issue, but I am not certain.
>
> kss
>
> # ============================
> Kyle Shannon
> Physical Science Technician
> RMRS Fire Sciences Lab
> Fire, Fuels & Smoke - RWU 4405
> 5775 Highway 10 W.
> Missoula, MT 59808
> (406)829-6954
> kshannon@fs.fed.us
> # ============================
>
>
> On Mon, May 17, 2010 at 9:08 AM, Jeffrey Warren <jeff@unterbahn.com>wrote:
>
>> Hi, I'm probably missing something obvious, but I tried packing an output
>> directory from gdal2tiles -k (generating the doc.kml) and while the kml
>> loads, and all the sub-kmls load (i.e. 11/1401/2322.kml etc.) when I
>> compress them into a zip and rename kmz, the images don't load.
>>
>> Google Earth doesn't seem to have an error console but it does actually
>> follow the doc.kml network links, and finds the sub-kmls. It just doesn't
>> find the images.
>>
>> Am I missing something? the generated doc.kml uses relative paths and I've
>> read the docs...
>>
>> anyways the files are here, along with the link to the root doc.kml. Could
>> anyone take a look and help me out here?
>>
>> maps.grassrootsmapping.org/chandeleur-may8-plane.kmz
>> maps.grassrootsmapping.org/chandeleur-may8-plane/doc.kml
>>
>> maps.grassrootsmapping.org/may-9-chandeleur-balloon.kmz
>> maps.grassrootsmapping.org/may-9-chandeleur-balloon/doc.kml
>>
>> For reference, these two tilesets also have absolute path .kml files here,
>> which load properly in GE:
>>
>> maps.grassrootsmapping.org/chandeleur-may8-plane.kml
>> maps.grassrootsmapping.org/may-9-chandeleur-balloon.kml
>>
>> Thanks for any tips/suggestions!
>>
>> Best,
>> Jeff
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100517/8c335a8b/attachment.html
From mail2vajram at gmail.com  Tue May 18 03:19:20 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Tue May 18 03:19:23 2010
Subject: [gdal-dev] Hoe to convert ERDAS imagine(.img) files to ARC info
 ASCII files viceversa
Message-ID: <1274167160012-5068801.post@n2.nabble.com>


Hai , 
I am very new to use this GDAL libraries. I feel very difficulty to work
with this libraries particulaly using C#.Because very less documentation is
available for C#.Can any body help me how to convert ERDAS imagine(.img)
files to ARC info ASCII files and ASCII files to .Img files. If anybody
having code for this please send me. Else tell me which classes are used to
do this acitvities.


Thanks.........
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-files-to-ARC-info-ASCII-files-viceversa-tp5068801p5068801.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ivan at sanchezortega.es  Tue May 18 03:56:24 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Tue May 18 03:56:32 2010
Subject: [gdal-dev] Hoe to convert ERDAS imagine(.img) files to ARC info
	ASCII files viceversa
In-Reply-To: <1274167160012-5068801.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>
Message-ID: <4BF24828.9020503@sanchezortega.es>

El 18/05/2010 9:19, mail2vajram escribi?:
> Can any body help me how to convert ERDAS imagine(.img)
> files to ARC info ASCII files and ASCII files to .Img files?

Have you tried gdal_translate?

-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From mail2vajram at gmail.com  Tue May 18 04:39:42 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Tue May 18 04:39:44 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC info
 ASCII files viceversa
In-Reply-To: <4BF24828.9020503@sanchezortega.es>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
Message-ID: <1274171982070-5069012.post@n2.nabble.com>


Thanks for ur reply.

I don't know how to use GDal_translate.Can u explain me how to do this....
thank u...
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-files-to-ARC-info-ASCII-files-viceversa-tp5068801p5069012.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ivan at sanchezortega.es  Tue May 18 04:42:16 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Tue May 18 04:42:22 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
	info ASCII files viceversa
In-Reply-To: <1274171982070-5069012.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
Message-ID: <4BF252E8.7040706@sanchezortega.es>

El 18/05/2010 10:39, mail2vajram escribi?:
> I don't know how to use GDal_translate. Can u explain me how to do this....

You need to download the GDAL utilities, or some bundle that includes 
them (such as osgeo4w or fwtools).

Then, open up a console and refer to the documentation: 
http://www.gdal.org/gdal_translate.html


Cheers,
-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From mail2vajram at gmail.com  Tue May 18 04:55:23 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Tue May 18 04:55:26 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC info
 ASCII files viceversa
In-Reply-To: <4BF252E8.7040706@sanchezortega.es>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
Message-ID: <1274172923006-5069049.post@n2.nabble.com>


Thanks agian...........
Already i downloaded Fwtools and installed. 
I read the link u gave me. 
Which class i have to instantaite to call gdal_translate() 
and from which dll i have to  take the reference.
can u tell me please.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-files-to-ARC-info-ASCII-files-viceversa-tp5068801p5069049.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From rajjad at gmail.com  Tue May 18 04:57:31 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Tue May 18 05:05:06 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC 
	info ASCII files viceversa
In-Reply-To: <4BF252E8.7040706@sanchezortega.es>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
Message-ID: <AANLkTikR74mZw-vZAWW376SRejJI6SF_t035zgW4ayDl@mail.gmail.com>

hi,

Did you try ogr2ogr? it is also command line simple, I used it oftent
convert between different formats. After installing GDAL type >ogrinfo
/?  to see the possible formats.

regads,
Imran

2010/5/18 Iv?n S?nchez Ortega <ivan@sanchezortega.es>:
> El 18/05/2010 10:39, mail2vajram escribi?:
>>
>> I don't know how to use GDal_translate. Can u explain me how to do
>> this....
>
> You need to download the GDAL utilities, or some bundle that includes them
> (such as osgeo4w or fwtools).
>
> Then, open up a console and refer to the documentation:
> http://www.gdal.org/gdal_translate.html
>
>
> Cheers,
> --
> Iv?n S?nchez Ortega <ivan@sanchezortega.es>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
I.R
From ivan at sanchezortega.es  Tue May 18 05:04:58 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Tue May 18 05:05:07 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
	info ASCII files viceversa
In-Reply-To: <1274172923006-5069049.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>	<4BF24828.9020503@sanchezortega.es>	<1274171982070-5069012.post@n2.nabble.com>	<4BF252E8.7040706@sanchezortega.es>
	<1274172923006-5069049.post@n2.nabble.com>
Message-ID: <4BF2583A.8020607@sanchezortega.es>

El 18/05/2010 10:55, mail2vajram escribi?:
> Which class i have to instantaite to call gdal_translate()

Just ran it as an external program. Use Process.Start(), or 
WshShellClass, or whatever.

But please, please, run gdal_translate alone to get a feel of how it works.

Don't rush into the code. First, see how gdal_translate works.


-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From mail2vajram at gmail.com  Tue May 18 05:05:15 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Tue May 18 05:05:20 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC info
 ASCII files viceversa
In-Reply-To: <1274172923006-5069049.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
	<1274172923006-5069049.post@n2.nabble.com>
Message-ID: <1274173515811-5069076.post@n2.nabble.com>


yeah..
I saw that utility in the fwtools\bin folder.
But it gives some error,when i added the reference to my C# project.
Actually i need to do this task programatically. This class is available in
any other dll
can u tell me please.

thank you........
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-files-to-ARC-info-ASCII-files-viceversa-tp5068801p5069076.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ivan at sanchezortega.es  Tue May 18 05:22:56 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Tue May 18 05:23:01 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
	info ASCII files viceversa
In-Reply-To: <AANLkTikR74mZw-vZAWW376SRejJI6SF_t035zgW4ayDl@mail.gmail.com>
References: <1274167160012-5068801.post@n2.nabble.com>	
	<4BF24828.9020503@sanchezortega.es>	
	<1274171982070-5069012.post@n2.nabble.com>	
	<4BF252E8.7040706@sanchezortega.es>
	<AANLkTikR74mZw-vZAWW376SRejJI6SF_t035zgW4ayDl@mail.gmail.com>
Message-ID: <4BF25C70.9010307@sanchezortega.es>

El 18/05/2010 10:57, Imran Rajjad escribi?:
> Did you try ogr2ogr? it is also command line simple, I used it oftent
> convert between different formats. After installing GDAL type>ogrinfo
> /?  to see the possible formats.

OGR is for vector; GDAL is for raster. And Vajram is working with raster 
files.


-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From ivan at sanchezortega.es  Tue May 18 05:25:19 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Tue May 18 05:25:24 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
	info ASCII files viceversa
In-Reply-To: <1274173515811-5069076.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>	<4BF24828.9020503@sanchezortega.es>	<1274171982070-5069012.post@n2.nabble.com>	<4BF252E8.7040706@sanchezortega.es>	<1274172923006-5069049.post@n2.nabble.com>
	<1274173515811-5069076.post@n2.nabble.com>
Message-ID: <4BF25CFF.6060300@sanchezortega.es>

El 18/05/2010 11:05, mail2vajram escribi?:
> I saw that utility in the fwtools\bin folder.

*Use* the utility.


If you really must do this using C#, do read the documentation and 
examples: http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp

You can skip C# altogether and use batch scripts, powershell thingies, 
whatever. There are hundreds of ways to convert files from one format to 
another.

-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From schut at sarvision.nl  Tue May 18 05:19:28 2010
From: schut at sarvision.nl (Vincent Schut)
Date: Tue May 18 05:27:53 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
	info  ASCII files viceversa
In-Reply-To: <1274173515811-5069076.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>	<4BF24828.9020503@sanchezortega.es>	<1274171982070-5069012.post@n2.nabble.com>	<4BF252E8.7040706@sanchezortega.es>	<1274172923006-5069049.post@n2.nabble.com>
	<1274173515811-5069076.post@n2.nabble.com>
Message-ID: <4BF25BA0.5010201@sarvision.nl>

I've never used C#, mainly use python, but guess the process will be 
similar.
The idea is that you:
1) open your source dataset (the img file)
2) instantiate the arcinfo ascii driver (gdal.GetDriverByName in python 
to get a driver instance)
3) use the driver instance to create a new file with the correct 
parameters (size, #bands, datatype)
4) copy the metadata (projection, geotransform) from the input to the 
output file
5) read data from the input file
6) write data to the output file

Depending on the size of the file and the amount of memory, you might 
need to read/write in a loop per chunk or line instead of reading the 
whole shebang at once and writing after that.
About the details (in C#) I can't help you, you'll have to digg a bit 
yourself. Maybe there are some C# examples included in the gdal source code?

Good luck!
Vincent.

On 05/18/2010 11:05 AM, mail2vajram wrote:
> yeah..
> I saw that utility in the fwtools\bin folder.
> But it gives some error,when i added the reference to my C# project.
> Actually i need to do this task programatically. This class is available in
> any other dll
> can u tell me please.
>
> thank you........
>    
From mail2vajram at gmail.com  Tue May 18 06:42:14 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Tue May 18 06:42:16 2010
Subject: [gdal-dev] Unknown base item type : 4+error occurs when open a
	*.img file
Message-ID: <1274179334890-5069401.post@n2.nabble.com>


When i am using the fillowing code i got the    error:Unknown base item type
: 4


DataSet ds=GDal.Open(".....\File1.IMG",Access.GA_ReadOnly);

why this error ocuurs.........
thank you.....
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Unknown-base-item-type-4-error-occurs-when-open-a-img-file-tp5069401p5069401.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From schut at sarvision.nl  Tue May 18 08:11:09 2010
From: schut at sarvision.nl (Vincent Schut)
Date: Tue May 18 08:11:11 2010
Subject: [gdal-dev] gdaldem hillshade directions
Message-ID: <4BF283DD.60405@sarvision.nl>

Is it just me, or is the result/documentation for gdaldem hillshade off 
by 90 degrees?

While the docs state "azimuth of the light, in degrees. 0 if it comes 
from the top of the raster, 90 from the east, ..." (so: clockwise from 
north), I find that a sun azimuth of 0 degrees is west, 90 is south, 180 
is east and 270 is north (counter-clockwise from west)...

Vincent.
From jason.roberts at duke.edu  Tue May 18 08:09:57 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Tue May 18 08:11:24 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to
	ARC	info ASCII files viceversa
In-Reply-To: <4BF25BA0.5010201@sarvision.nl>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
	<1274172923006-5069049.post@n2.nabble.com>
	<1274173515811-5069076.post@n2.nabble.com>
	<4BF25BA0.5010201@sarvision.nl>
Message-ID: <00b901caf683$08a748d0$19f5da70$@roberts@duke.edu>

On possible problem in this particular example is that the ArcInfo ASCII
Grid (AAIGrid) driver does not support the Create method of the GDAL API,
only the CreateCopy method, correct? (Please correct me if I am wrong about
this.) Therefore the procedure for converting IMG to ArcInfo ASCII Grid with
code will be slightly different than the one you outlined. C++, C, and
Python examples are here:
http://www.gdal.org/gdal_tutorial.html#gdal_tutorial_createcopy

Best regards,
Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Vincent Schut
Sent: Tuesday, May 18, 2010 5:19 AM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
info ASCII files viceversa

I've never used C#, mainly use python, but guess the process will be 
similar.
The idea is that you:
1) open your source dataset (the img file)
2) instantiate the arcinfo ascii driver (gdal.GetDriverByName in python 
to get a driver instance)
3) use the driver instance to create a new file with the correct 
parameters (size, #bands, datatype)
4) copy the metadata (projection, geotransform) from the input to the 
output file
5) read data from the input file
6) write data to the output file

Depending on the size of the file and the amount of memory, you might 
need to read/write in a loop per chunk or line instead of reading the 
whole shebang at once and writing after that.
About the details (in C#) I can't help you, you'll have to digg a bit 
yourself. Maybe there are some C# examples included in the gdal source code?

Good luck!
Vincent.

On 05/18/2010 11:05 AM, mail2vajram wrote:
> yeah..
> I saw that utility in the fwtools\bin folder.
> But it gives some error,when i added the reference to my C# project.
> Actually i need to do this task programatically. This class is available
in
> any other dll
> can u tell me please.
>
> thank you........
>    
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mateusz at loskot.net  Tue May 18 08:23:26 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue May 18 08:20:34 2010
Subject: [gdal-dev] Notes on reality of C++ and ABI compatibility
Message-ID: <4BF286BE.2000209@loskot.net>

Hi,

Perhaps	Robert Ramey's notes will be of some interested here.
Originally posted to Boost devel list:

http://article.gmane.org/gmane.comp.lib.boost.devel/204164

-------- Original Message --------
Subject: Re: [boost] [Booster] Or boost is useless for library developers
Date: Sat, 15 May 2010 18:08:39 -0800
From: Robert Ramey <ramey@rrsd.com>
Reply-To: boost@lists.boost.org
To: boost@lists.boost.org

Artyom wrote:
> Hello,
>
> I want to bring up an important issue that boost developers are not
> aware of: anybody who develops a library and wants to keep any kind
> of backward compatibility can-not use Boost.

> it is impossible to promise that it would not be broken between
> releases.
>
> Why boost::details::sp_counted_base may be changed because in next
> version atomic counter was implemented using assembly rather then
> pthread's mutex... which affects the layout of
> boost::details::sp_counted_base and thus breaks compatibility.


I've heard this many times and I have to say I'm not getting it.

case I

First let's examine a library implemented as header only.

a) version 0 - a bunch of headers.

User builds his code and is pleased as punch.

b) version 1 - same bunch of headers + plus a few more.
Also the original classes have some new functions - BUT none
of the existing functions are eliminated nor have a change in
interface.

Where is the incompatibility.  What does "binary compatibility"
even mean since the the application doesn't use the new functionality
until it is rebuil? But this can't be a problem.

To my knowledge - I don't think that any libraries deprecate
existing functions nor change thier interface or sematics.  So
I don't understand where this whole thing is coming from

case II

A library that has to be built as either a DLL or a static library.

a) version 0 - bunch of headers and source modules.

User is pleased as punch same as above.

b) version 1 - same as above + changes in function implementation
Now there a library/dll which is different than the one produced by
version 0.

User rebuilds his app against the new library.  It's still going to work
since the newer version has everything the old version does + some more.
Also SUPPOSE that no data members are deleted/added to the header
declarations corresponding to interface classes.

c) User rebuilds his app and sends it to his customers how have the
DLL library built in version 0.  if he's using a static library there's
no problem.  If he's using a DLL the application will run against
the original version DLL with no problem.

Sooo it seems to me that the only situation which would
"break binary compatibility" would be when ALL the following
are true.


i) The library is not a header only library
ii) class definition includes new data members in one or more interface.
iii) one library is distributed separately from it's prequisites

Am I getting this right?  If so it would seem that there's not
much that "breaks binary compatibility" and that it wouldn't
take too much effort to avoid this.

What am I missing here?

Robert Ramey




_______________________________________________
Unsubscribe & other changes: 
http://lists.boost.org/mailman/listinfo.cgi/boost
From aca at ngi.be  Tue May 18 08:46:28 2010
From: aca at ngi.be (acangi)
Date: Tue May 18 08:46:30 2010
Subject: [gdal-dev] Re: GDAL_retile slowdown at next level
In-Reply-To: <20100511143947.htkrbpe6kg44k0w0@webmail.nvoe.at>
References: <1273565681947-5034870.post@n2.nabble.com>
	<20100511105135.i15vsm0vksc80k0o@webmail.nvoe.at>
	<1273576015216-5035428.post@n2.nabble.com>
	<20100511143947.htkrbpe6kg44k0w0@webmail.nvoe.at>
Message-ID: <1274186788102-5069771.post@n2.nabble.com>


I moved my level 1 tiles to a machine with big hard disk, many processors and
a lot of memory.
Then I restarted the process taking the level 1 tiles as source : 

gdal_retile.py -targetDir subpyramid/ -levels 11 -pyramidOnly -v -s_srs
/mnt/webgisdata/geoserver/config/3812.prj -ps 512 512 -r bilinear -co
"COMPRESS=JPEG" -co "INTERLEAVE=PIXEL" -tileIndex orthocol -tileIndexField
location --optfile ls.txt &>subpyramid/out.txt &

Differences with previous commands :
 -targetDir subpyramid/ : I'm writing to another folder, planning to merge
both pyramids later
 -levels 11 instead of 12
 --optfile ls.txt : too many files for bash (the source files of the
previous commands were 4000x4000 geotiffs)
 &>subpyramid/out.txt : to keep track of the output

In /usr/local/bin/gdal_retile.py, I set the self.cacheSize=1465 (my longest
row is around 458 tiles + security)

It takes a few hours before the first tile is written, gdal_retile prints a
whole bunch of :
ERROR 1: JPEGSetupEncode:RowsPerStrip must be multiple of 8 for JPEG
ERROR 1: TIFFWriteEncodedStrip() failed.

, outputs 297 black tiles then crashes with 

Error openenig:<type 'exceptions.NameError'>

I'm not sure if this problem is related with the self.cacheSize change or
with the JPEGSetupEncode error. 

Also, I'm not sure whether I had those JPEGSetupEncode errors when creating
the two first levels, as I didn't save the output of the process.

As I think my global problems with pyramid creation are related to the small
tiles, I'll try to produce a pyramid with bigger tiles (4096x4096, inner
tiled). Maybe I should also add -co BLOCKYSIZE=8 ? 

I'm sorry I can't provide more feedback on the change of self.cacheSize...
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/GDAL-retile-slowdown-at-next-level-tp5034870p5069771.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Tue May 18 10:06:39 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 18 10:06:45 2010
Subject: [gdal-dev] Unknown base item type : 4+error occurs when open a
	*.img file
In-Reply-To: <1274179334890-5069401.post@n2.nabble.com>
References: <1274179334890-5069401.post@n2.nabble.com>
Message-ID: <4BF29EEF.205@pobox.com>

mail2vajram wrote:
> When i am using the fillowing code i got the    error:Unknown base item type
> : 4
> 
> 
> DataSet ds=GDal.Open(".....\File1.IMG",Access.GA_ReadOnly);
> 
> why this error ocuurs.........
> thank you.....

Vajram,

It means a node in the .img file has a BASEDATA object with an unknown data
type.  If things seem to be working ok anyways, then just ignore it and
continue on.  If not, you should consider filing a ticket and providing
the data with the ticket in some fashion.

Most likely the data is non-critical, but in at least some circumstances
the Python bindings are over sensitive to non-fatal errors issued down
deep in functions.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From tkeitt at gmail.com  Tue May 18 12:31:15 2010
From: tkeitt at gmail.com (Tim Keitt)
Date: Tue May 18 12:31:17 2010
Subject: [gdal-dev] RasterIO(GF_Write,...) has no effect on copied dataset
Message-ID: <AANLkTinWQ2LJB17l1nXJmV6jTeHC6Z4mGyLpzzvRIcbO@mail.gmail.com>

I have some GDAL code that does:

open input dataset
create copy to output dataset
close input dataset
get raster band from output
call RasterIO(GF_Read,...) on band
update buffer in place
call RasterIO(GF_Write,...) on band
close output dataset
exit

The program runs, but the output dataset contains exactly the same
values as the input dataset. The RasterIO(GF_Write,...) call seems to
have no effect. I tried closing and reopening the output after the
create copy call, but same result. Access of the copy is GA_Update.

THK



-- 
Timothy H. Keitt
http://www.keittlab.org/
From warmerdam at pobox.com  Tue May 18 12:40:41 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 18 12:40:47 2010
Subject: [gdal-dev] RasterIO(GF_Write,...) has no effect on copied dataset
In-Reply-To: <AANLkTinWQ2LJB17l1nXJmV6jTeHC6Z4mGyLpzzvRIcbO@mail.gmail.com>
References: <AANLkTinWQ2LJB17l1nXJmV6jTeHC6Z4mGyLpzzvRIcbO@mail.gmail.com>
Message-ID: <4BF2C309.1050709@pobox.com>

Tim Keitt wrote:
> I have some GDAL code that does:
> 
> open input dataset
> create copy to output dataset
> close input dataset
> get raster band from output
> call RasterIO(GF_Read,...) on band
> update buffer in place
> call RasterIO(GF_Write,...) on band
> close output dataset
> exit
> 
> The program runs, but the output dataset contains exactly the same
> values as the input dataset. The RasterIO(GF_Write,...) call seems to
> have no effect. I tried closing and reopening the output after the
> create copy call, but same result. Access of the copy is GA_Update.

Tim,

That should work, assuming the output file supports in place update. Not
all drivers do support this.  What is the output format?

It *ought* to issue a clear error if it isn't supported, but this is an
area that has sometimes been handled in a lax manner.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From tkeitt at gmail.com  Tue May 18 14:46:52 2010
From: tkeitt at gmail.com (Tim Keitt)
Date: Tue May 18 14:46:56 2010
Subject: [gdal-dev] RasterIO(GF_Write, ...) has no effect on copied dataset
In-Reply-To: <4BF2C309.1050709@pobox.com>
References: <AANLkTinWQ2LJB17l1nXJmV6jTeHC6Z4mGyLpzzvRIcbO@mail.gmail.com>
	<4BF2C309.1050709@pobox.com>
Message-ID: <AANLkTimxigLY5PkcTGmhyq15a3x66Im9KdaXNcY0Jqf4@mail.gmail.com>

Oops. Sorry folks. It works after a small bug fix in the algorithm.

THK

On Tue, May 18, 2010 at 11:40 AM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Tim Keitt wrote:
>>
>> I have some GDAL code that does:
>>
>> open input dataset
>> create copy to output dataset
>> close input dataset
>> get raster band from output
>> call RasterIO(GF_Read,...) on band
>> update buffer in place
>> call RasterIO(GF_Write,...) on band
>> close output dataset
>> exit
>>
>> The program runs, but the output dataset contains exactly the same
>> values as the input dataset. The RasterIO(GF_Write,...) call seems to
>> have no effect. I tried closing and reopening the output after the
>> create copy call, but same result. Access of the copy is GA_Update.
>
> Tim,
>
> That should work, assuming the output file supports in place update. Not
> all drivers do support this. ?What is the output format?
>
> It *ought* to issue a clear error if it isn't supported, but this is an
> area that has sometimes been handled in a lax manner.
>
> Best regards,
>
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
>



-- 
Timothy H. Keitt
http://www.keittlab.org/
From even.rouault at mines-paris.org  Tue May 18 15:06:06 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 18 15:06:37 2010
Subject: [gdal-dev] gdaldem hillshade directions / GRASS r.shaded.relief
In-Reply-To: <4BF283DD.60405@sarvision.nl>
References: <4BF283DD.60405@sarvision.nl>
Message-ID: <201005182106.08273.even.rouault@mines-paris.org>

Vincent,

I'm CC'ing the grass-dev list as gdaldem shares the same formula with the 
GRASS r.shaded.relief utility and I also think they are affected (I've only 
compared the code, not tested r.shaded.relief, so I could be wrong of course)

I think your analysis is right. To check, I've created an artificial DEM that 
is a pyramid with 4 faces oriented to north, east, south and west. Indeed the 
azimuth parameter isn't interpreted as documented but as you've noticed. The 
documentation is what I would expect 0 = north, 90 = east, 180 = south and 
270 = west.

The fix is simple. Instead of the following code in 
http://trac.osgeo.org/grass/browser/grass/trunk/scripts/r.shaded.relief/r.shaded.relief.py

#correct azimuth to East (GRASS convention):
#  this seems to be backwards, but in fact it works so leave it.
az = float(azimuth) - 90

I'd suggest :

az = 180 - float(azimuth)

The interesting thing is that the issue probably got unnoticed since most 
users will use azimuth = 315 (north-west) according to the best practice. But 
as 315 - 90 = 225, 180 - 315 = -135 and 225 = - 135 + 360..., the usual value 
is the only one for which both formulas are equivalent...

What do the GRASS developers think ?

Best regards,

Even

PS:

Python script to generate the pyramid :

import gdal
import osr

ds = gdal.GetDriverByName('GTiff').Create('testdem.tif', 100, 100, 1)
ds.SetGeoTransform([2,0.01,0,49,0,-0.01])
sr = osr.SpatialReference()
sr.ImportFromEPSG(4326)
ds.SetProjection(sr.ExportToWkt())
for j in range(100):
    data = ''
    for i in range(100):
        val = 255 - 5 * max(abs(50-i),abs(50-j))
        data = data + ('%c' % (val))
    ds.GetRasterBand(1).WriteRaster(0,j,100,1,data)

ds = None


gdaldem commandline :

gdaldem  hillshade testdem.tif testdem_shaded.tif -s 111120 -z 100 -az XXXX


Le Tuesday 18 May 2010 14:11:09 Vincent Schut, vous avez ?crit?:
> Is it just me, or is the result/documentation for gdaldem hillshade off
> by 90 degrees?
>
> While the docs state "azimuth of the light, in degrees. 0 if it comes
> from the top of the raster, 90 from the east, ..." (so: clockwise from
> north), I find that a sun azimuth of 0 degrees is west, 90 is south, 180
> is east and 270 is north (counter-clockwise from west)...
>
> Vincent.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



From mail2vajram at gmail.com  Wed May 19 00:16:31 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Wed May 19 00:16:33 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC	info
 ASCII files viceversa
In-Reply-To: <00b901caf683$08a748d0$19f5da70$@roberts@duke.edu>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
	<1274172923006-5069049.post@n2.nabble.com>
	<1274173515811-5069076.post@n2.nabble.com>
	<4BF25BA0.5010201@sarvision.nl>
	<00b901caf683$08a748d0$19f5da70$@roberts@duke.edu>
Message-ID: <1274242591561-5073269.post@n2.nabble.com>


Hai,
Jason thanks for your reply....

Createcopy method works fine.When i am using create copy method at that
instance only a file is created in the specified path. But the format of the
file is different what i want and another thing is how to get the metadata
information from the source dataset and set to destination datset. help me i
strucked from last two days on these issues only. I am not able to read IMG
files also i got error...how to rad these files.
here i attached two files 
1)Output file getting from ARCInFO( this is what i want)
2)OUtput file(getting through gdal cratecopy mentod)





thank you..........1) ARCINFO   
http://n2.nabble.com/file/n5073269/cls3_85.asc cls3_85.asc    2) using gdal 
http://n2.nabble.com/file/n5073269/cls3_85asc.ASC cls3_85asc.ASC 

you can open this files using note pad and observe the difference.....
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-files-to-ARC-info-ASCII-files-viceversa-tp5068801p5073269.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From mail2vajram at gmail.com  Wed May 19 03:24:29 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Wed May 19 03:24:31 2010
Subject: [gdal-dev] conversion from one format to another is very slow
Message-ID: <1274253869725-5073787.post@n2.nabble.com>


when i convert data from one format to another (ex: GEoTIff to ASCII)it took
more time compared to conversion in ARCGIS.WHy......Is there any logic to
reduce the time........


Thank you......... 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/conversion-from-one-format-to-another-is-very-slow-tp5073787p5073787.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ivan at sanchezortega.es  Wed May 19 04:01:39 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Wed May 19 04:01:45 2010
Subject: [gdal-dev] conversion from one format to another is very slow
In-Reply-To: <1274253869725-5073787.post@n2.nabble.com>
References: <1274253869725-5073787.post@n2.nabble.com>
Message-ID: <4BF39AE3.2030201@sanchezortega.es>

El 19/05/2010 9:24, mail2vajram escribi?:
> when i convert data from one format to another (ex: GEoTIff to ASCII)it took
> more time compared to conversion in ARCGIS.

How much?

-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From mail2vajram at gmail.com  Wed May 19 05:12:53 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Wed May 19 05:12:58 2010
Subject: [gdal-dev] how to get the each pixel value from the dataset
Message-ID: <1274260373619-5074085.post@n2.nabble.com>


how to get the each pixel value from the dataset. And another requirement is
how to get the values of 
 ( ncols 
  nrows 
  cellsize 
  xllcorner 
  yllcorner 
  nodata_value )

from the dataset.,,,,,,,,,,,

Thank you...
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-to-get-the-each-pixel-value-from-the-dataset-tp5074085p5074085.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From lucafasano at interfree.it  Wed May 19 05:20:20 2010
From: lucafasano at interfree.it (Luca Fasano)
Date: Wed May 19 05:27:37 2010
Subject: [gdal-dev] Modify virtual file attributes
Message-ID: <1274260820.2391.35.camel@fasano-debian.innova>

Hi list,
I'm encountering some problems using Python Gdal API to modify *virtual*
file attributes.

In fact if I change the "Description" and "CategoryNames" attributes of
a virtual band with the Python API, the Python object is updated
correctly, but *not* the virtual file that mantains old values.
In addition if I try to change the "DataType" attribute of virtual band
the Python object (and obviously the virtual file) is *not* updated.
Are these considerable as bugs?

I also want to underline that the Python API misses some methods to
modify some virtual file attributes, for example "UnitType", "Offset"
and "Scale " of virtual bands or a set of methods to build virtual file
"sources" (SimpleSource, KernelFilteredSource, ...) without modifying
*manually* their XML code before adding them to bands using the specific
gdal.Band.SetMetadata() call.


Here is a simple example showing the difficult I encountered to modify
virtual band attributes:

#BEGIN CODE
from osgeo import gdal

realfname = 'image.tiff'
vrtfilename = 'vrtdataset.vrt'

#open real dataset and create copy as a vrt file
vrt_driver = gdal.GetDriverByName('VRT')
gtiff_driver = gdal.GetDriverByName('GTIFF')

realdataset = gtiff_driver.Create(
            'image.tiff', 100, 100, 1,
eType=gdal.GetDataTypeByName('Byte'))
vrtdataset = vrt_driver.CreateCopy(vrtfilename, realdataset)
vrtband = vrtdataset.GetRasterBand(1)

#try to modify DataType
print 'datatype before modify:', vrtband.DataType
newdatatype_code = vrtband.DataType = gdal.GetDataTypeByName('Float32')
print 'new datatype code should be:', newdatatype_code
vrtband.DataType = newdatatype_code
print '...but new datatype code retrieved from band is:',
vrtband.DataType
print

#try to modify Description
print 'Band description before change is:', vrtband.GetDescription()
vrtband.SetDescription('New Description for band')
print 'Band description after change is:', vrtband.GetDescription()
print

#try to modify CategoryNames
print 'Band category names before change are:',
vrtband.GetRasterCategoryNames()
vrtband.SetRasterCategoryNames(['Category A', 'Category B'])
print 'Band category names after change are:',
vrtband.GetRasterCategoryNames()

del vrtband, vrtdataset, realdataset

#END CODE


The output is:
fasano@fasano-debian:~/Desktop/test$ python gdalvrt.py 
datatype before modify: 1
new datatype code should be: 6
...but new datatype code retrieved from band is: 1

Band description before change is: 
Band description after change is: New Description for band

Band category names before change are: None
Band category names after change are: ['Category A', 'Category B']


The virtual file after the Python script execution results as following:

fasano@fasano-debian:~/Desktop/test$ cat vrtdataset.vrt 
<VRTDataset rasterXSize="100" rasterYSize="100">
  <Metadata/>
  <VRTRasterBand dataType="Byte" band="1">
    <Metadata/>
    <ColorInterp>Gray</ColorInterp>
    <SimpleSource>
      <SourceFilename relativeToVRT="1">image.tiff</SourceFilename>
      <SourceBand>1</SourceBand>
      <SourceProperties RasterXSize="100" RasterYSize="100"
DataType="Byte" BlockXSize="100" BlockYSize="81"/>
      <SrcRect xOff="0" yOff="0" xSize="100" ySize="100"/>
      <DstRect xOff="0" yOff="0" xSize="100" ySize="100"/>
    </SimpleSource>
  </VRTRasterBand>
</VRTDataset>


Note that are not present neither "Description" nor "CategoryNames"
attributes, and "DataType" has the initial value (Byte=1) even after the
Python script execution.

From mail2vajram at gmail.com  Wed May 19 07:22:41 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Wed May 19 07:22:42 2010
Subject: [gdal-dev] Re: conversion from one format to another is very slow
In-Reply-To: <4BF39AE3.2030201@sanchezortega.es>
References: <1274253869725-5073787.post@n2.nabble.com>
	<4BF39AE3.2030201@sanchezortega.es>
Message-ID: <1274268161143-5074491.post@n2.nabble.com>


I t will take nearly 25 minutes to convert 250 mb of tiff image to ASCII

Thank u.....
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/conversion-from-one-format-to-another-is-very-slow-tp5073787p5074491.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ari.jolma at gmail.com  Wed May 19 07:25:54 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed May 19 07:31:49 2010
Subject: [gdal-dev] Re: conversion from one format to another is very slow
In-Reply-To: <1274268161143-5074491.post@n2.nabble.com>
References: <1274253869725-5073787.post@n2.nabble.com>	<4BF39AE3.2030201@sanchezortega.es>
	<1274268161143-5074491.post@n2.nabble.com>
Message-ID: <4BF3CAC2.2030702@gmail.com>

mail2vajram wrote:
> I t will take nearly 25 minutes to convert 250 mb of tiff image to ASCII
>
> Thank u.....
>   

Compared to how much in ArcGIS with the same computer? And what are the 
results if you do first ArcGIS and then GDAL? The order may be 
important. Are all programs and files local?

Ari Jolma

From mail2vajram at gmail.com  Wed May 19 07:45:49 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Wed May 19 07:45:52 2010
Subject: [gdal-dev] Re: conversion from one format to another is very slow
In-Reply-To: <4BF3CAC2.2030702@gmail.com>
References: <1274253869725-5073787.post@n2.nabble.com>
	<4BF39AE3.2030201@sanchezortega.es>
	<1274268161143-5074491.post@n2.nabble.com>
	<4BF3CAC2.2030702@gmail.com>
Message-ID: <1274269549381-5074562.post@n2.nabble.com>


yeah,
i did the same task with ARCGIS it took only 2 minutes only but the output
of the two datasets(gdal,ARCGIS) are same.

 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/conversion-from-one-format-to-another-is-very-slow-tp5073787p5074562.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From SriRam.PrasadBhasker at rmsi.com  Wed May 19 07:50:50 2010
From: SriRam.PrasadBhasker at rmsi.com (SriRam.PrasadBhasker@rmsi.com)
Date: Wed May 19 07:51:41 2010
Subject: [gdal-dev] Re: conversion from one format to another is very slow
In-Reply-To: <1274269549381-5074562.post@n2.nabble.com>
Message-ID: <OF31ACDC2D.C04A0E45-ON65257728.0040C55C-65257728.00410CF1@rmsi.com>

hi.

as far as i know GDAL is much robust & Quicker.

i have converted Tiff to Ascii using Gdal 1.6.2 & found the performance
excellent

Gdal converted in 3 minutes and ArcGIS took around 7 to 8 minutes for the
same task..

Trust you are using the latest Build of 1.7.2..

cheers
Bhasker



                                                                           
             mail2vajram                                                   
             <mail2vajram@gmai                                             
             l.com>                                                     To 
             Sent by:                  gdal-dev@lists.osgeo.org            
             gdal-dev-bounces@                                          cc 
             lists.osgeo.org                                               
                                                                   Subject 
                                       [gdal-dev] Re: conversion from one  
             05/19/2010 05:16          format to another is very slow      
             PM                                                            
                                                                           
                                                                           
                                                                           
                                                                           
                                                                           





yeah,
i did the same task with ARCGIS it took only 2 minutes only but the output
of the two datasets(gdal,ARCGIS) are same.


--
View this message in context:
http://osgeo-org.1803224.n2.nabble.com/conversion-from-one-format-to-another-is-very-slow-tp5073787p5074562.html

Sent from the GDAL - Dev mailing list archive at Nabble.com.
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jason.roberts at duke.edu  Wed May 19 07:55:29 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed May 19 07:55:37 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to
	ARC	info ASCII files viceversa
In-Reply-To: <1274242591561-5073269.post@n2.nabble.com>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
	<1274172923006-5069049.post@n2.nabble.com>
	<1274173515811-5069076.post@n2.nabble.com>
	<4BF25BA0.5010201@sarvision.nl>
	<00b901caf683$08a748d0$19f5da70$%roberts@duke.edu>
	<1274242591561-5073269.post@n2.nabble.com>
Message-ID: <00f101caf74a$2dcab3a0$89601ae0$@roberts@duke.edu>

I'm not sure what you mean by getting the metadata information from the
source dataset to the destination dataset. If you are referring to the
metadata that ArcGIS maintains, such as all of the FGDC metadata it keeps in
an XML file, I suspect that GDAL does not recognize that metadata. That
metadata is a feature of ArcGIS. You might be able to use the "Metadata
Importer" geoprocessing tool from ArcGIS 9.3 to copy the metadata from one
raster to another, but I don't think GDAL has any support for it.

I followed the discussion about not being able to read the IMG files but I
don't know an answer to that. Others on the list have more expertise in that
than I do.

I looked at the IMG files you mentioned. The one output by GDAL looks fine
to me. It appeared that the only differences were the number of spaces
separating the values and the number of digits of precision in the floating
point numbers. Are these differences important to you? You do have some
control over the format of the floating point numbers. See the discussion of
the DECIMAL_PRECISION option in http://www.gdal.org/frmt_various.html

Best,
Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of mail2vajram
Sent: Wednesday, May 19, 2010 12:17 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC info
ASCII files viceversa


Hai,
Jason thanks for your reply....

Createcopy method works fine.When i am using create copy method at that
instance only a file is created in the specified path. But the format of the
file is different what i want and another thing is how to get the metadata
information from the source dataset and set to destination datset. help me i
strucked from last two days on these issues only. I am not able to read IMG
files also i got error...how to rad these files.
here i attached two files 
1)Output file getting from ARCInFO( this is what i want)
2)OUtput file(getting through gdal cratecopy mentod)





thank you..........1) ARCINFO   
http://n2.nabble.com/file/n5073269/cls3_85.asc cls3_85.asc    2) using gdal 
http://n2.nabble.com/file/n5073269/cls3_85asc.ASC cls3_85asc.ASC 

you can open this files using note pad and observe the difference.....
-- 
View this message in context:
http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-file
s-to-ARC-info-ASCII-files-viceversa-tp5068801p5073269.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jason.roberts at duke.edu  Wed May 19 07:57:45 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Wed May 19 07:57:54 2010
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files
	to	ARC	info ASCII files viceversa
In-Reply-To: <00f101caf74a$2dcab3a0$89601ae0$%roberts@duke.edu>
References: <1274167160012-5068801.post@n2.nabble.com>
	<4BF24828.9020503@sanchezortega.es>
	<1274171982070-5069012.post@n2.nabble.com>
	<4BF252E8.7040706@sanchezortega.es>
	<1274172923006-5069049.post@n2.nabble.com>
	<1274173515811-5069076.post@n2.nabble.com>
	<4BF25BA0.5010201@sarvision.nl>
	<00b901caf683$08a748d0$19f5da70$%roberts@duke.edu>
	<1274242591561-5073269.post@n2.nabble.com>
	<00f101caf74a$2dcab3a0$89601ae0$%roberts@duke.edu>
Message-ID: <00f201caf74a$7f075cf0$7d1616d0$@roberts@duke.edu>

Sorry, I meant to say "I looked at the ASCII files you mentioned" not "I
looked at the IMG files you mentioned". Sorry for any confusion.

Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Jason Roberts
Sent: Wednesday, May 19, 2010 7:55 AM
To: 'mail2vajram'; gdal-dev@lists.osgeo.org
Subject: RE: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC
info ASCII files viceversa

I'm not sure what you mean by getting the metadata information from the
source dataset to the destination dataset. If you are referring to the
metadata that ArcGIS maintains, such as all of the FGDC metadata it keeps in
an XML file, I suspect that GDAL does not recognize that metadata. That
metadata is a feature of ArcGIS. You might be able to use the "Metadata
Importer" geoprocessing tool from ArcGIS 9.3 to copy the metadata from one
raster to another, but I don't think GDAL has any support for it.

I followed the discussion about not being able to read the IMG files but I
don't know an answer to that. Others on the list have more expertise in that
than I do.

I looked at the IMG files you mentioned. The one output by GDAL looks fine
to me. It appeared that the only differences were the number of spaces
separating the values and the number of digits of precision in the floating
point numbers. Are these differences important to you? You do have some
control over the format of the floating point numbers. See the discussion of
the DECIMAL_PRECISION option in http://www.gdal.org/frmt_various.html

Best,
Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of mail2vajram
Sent: Wednesday, May 19, 2010 12:17 AM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Re: Hoe to convert ERDAS imagine(.img) files to ARC info
ASCII files viceversa


Hai,
Jason thanks for your reply....

Createcopy method works fine.When i am using create copy method at that
instance only a file is created in the specified path. But the format of the
file is different what i want and another thing is how to get the metadata
information from the source dataset and set to destination datset. help me i
strucked from last two days on these issues only. I am not able to read IMG
files also i got error...how to rad these files.
here i attached two files 
1)Output file getting from ARCInFO( this is what i want)
2)OUtput file(getting through gdal cratecopy mentod)





thank you..........1) ARCINFO   
http://n2.nabble.com/file/n5073269/cls3_85.asc cls3_85.asc    2) using gdal 
http://n2.nabble.com/file/n5073269/cls3_85asc.ASC cls3_85asc.ASC 

you can open this files using note pad and observe the difference.....
-- 
View this message in context:
http://osgeo-org.1803224.n2.nabble.com/Hoe-to-convert-ERDAS-imagine-img-file
s-to-ARC-info-ASCII-files-viceversa-tp5068801p5073269.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ahmettemiz88 at gmail.com  Wed May 19 08:40:54 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Wed May 19 08:40:59 2010
Subject: [gdal-dev] coordinate transformation with java library
Message-ID: <AANLkTim_Wg6Qg0Pnzw0ltVSjS92aiDoYU2uf_ktCoE8u@mail.gmail.com>

hello

I need to do coordinate transformation in my java application
from UTM to geographic coordinates.

Does gdal have any jar library that can do this transformation ?
if there is

whare can I find it ?

What might be the other alternatives ?


regards

Ahmet Temiz
Turkey
From ivan.lucena at pmldnet.com  Wed May 19 08:55:59 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Wed May 19 08:56:01 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gY29vcmRpbmF0ZSB0cmFuc2Zvcm1hdGlvbiB3aXRoIGphdmEgbGlicmFyeQ==?=
Message-ID: <20100519125559.5796.qmail@s466.sureserver.com>

Ahmet,

Here is one example that you can find on GDAL source tree /swig/java/apps:

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/gdaltransformer.java

What OS are you using? 

You can get the library from OSGeo4W [1] for Windows is that is the case.

Other alternative?

Geotools [2] or JTS Topology Suite [3] maybe, depending what you need, just coordinate transformation, data conversion, what kind of data, etc.

Regards,

[1] http://trac.osgeo.org/osgeo4w/
[2] http://geotools.org/
[3] http://www.vividsolutions.com/jts/jtshome.htm


>  -------Original Message-------
>  From: ahmet temiz <ahmettemiz88@gmail.com>
>  To: gdal-dev@lists.osgeo.org
>  Subject: [gdal-dev] coordinate transformation with java library
>  Sent: May 19 '10 07:40
>  
>  hello
>  
>  I need to do coordinate transformation in my java application
>  from UTM to geographic coordinates.
>  
>  Does gdal have any jar library that can do this transformation ?
>  if there is
>  
>  whare can I find it ?
>  
>  What might be the other alternatives ?
>  
>  
>  regards
>  
>  Ahmet Temiz
>  Turkey
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From warmerdam at pobox.com  Wed May 19 09:01:18 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 19 09:01:27 2010
Subject: [gdal-dev] coordinate transformation with java library
In-Reply-To: <20100519125559.5796.qmail@s466.sureserver.com>
References: <20100519125559.5796.qmail@s466.sureserver.com>
Message-ID: <4BF3E11E.9030104@pobox.com>

Ivan Lucena wrote:
> Other alternative?
> 
> Geotools [2] or JTS Topology Suite [3] maybe, depending what you need, just coordinate transformation, data conversion, what kind of data, etc.
> 
> Regards,
> 
> [1] http://trac.osgeo.org/osgeo4w/
> [2] http://geotools.org/
> [3] http://www.vividsolutions.com/jts/jtshome.htm

I would add Proj4J - a new Java projections library:

   http://trac.osgeo.org/proj4j/

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ahmettemiz88 at gmail.com  Wed May 19 09:10:05 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Wed May 19 09:10:11 2010
Subject: [gdal-dev] coordinate transformation with java library
In-Reply-To: <20100519125559.5796.qmail@s466.sureserver.com>
References: <20100519125559.5796.qmail@s466.sureserver.com>
Message-ID: <AANLkTin-ct5CyEAKAYwnn8ePiwkr0-sEEoM04w_be1jh@mail.gmail.com>

hello

Thank you Ivan for your quick response

I am using Ubuntu Linux.

 I need to know geographic coordinate values of a point which is in
UTM projection.

transformation something like  UTM -> geographic coordinate (32636 ->  4326)

Which JTS library do it ? ( I have already been using it )

thanks





2010/5/19 Ivan Lucena <ivan.lucena@pmldnet.com>:
> Ahmet,
>
> Here is one example that you can find on GDAL source tree /swig/java/apps:
>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/gdaltransformer.java
>
> What OS are you using?
>
> You can get the library from OSGeo4W [1] for Windows is that is the case.
>
> Other alternative?
>
> Geotools [2] or JTS Topology Suite [3] maybe, depending what you need, just coordinate transformation, data conversion, what kind of data, etc.
>
> Regards,
>
> [1] http://trac.osgeo.org/osgeo4w/
> [2] http://geotools.org/
> [3] http://www.vividsolutions.com/jts/jtshome.htm
>
>
>> ?-------Original Message-------
>> ?From: ahmet temiz <ahmettemiz88@gmail.com>
>> ?To: gdal-dev@lists.osgeo.org
>> ?Subject: [gdal-dev] coordinate transformation with java library
>> ?Sent: May 19 '10 07:40
>>
>> ?hello
>>
>> ?I need to do coordinate transformation in my java application
>> ?from UTM to geographic coordinates.
>>
>> ?Does gdal have any jar library that can do this transformation ?
>> ?if there is
>>
>> ?whare can I find it ?
>>
>> ?What might be the other alternatives ?
>>
>>
>> ?regards
>>
>> ?Ahmet Temiz
>> ?Turkey
>> ?_______________________________________________
>> ?gdal-dev mailing list
>> ?gdal-dev@lists.osgeo.org
>> ?http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
From warmerdam at pobox.com  Wed May 19 09:37:45 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 19 09:37:50 2010
Subject: [gdal-dev] how to get the each pixel value from the dataset
In-Reply-To: <1274260373619-5074085.post@n2.nabble.com>
References: <1274260373619-5074085.post@n2.nabble.com>
Message-ID: <4BF3E9A9.5040604@pobox.com>

mail2vajram wrote:
> how to get the each pixel value from the dataset. And another requirement is
> how to get the values of 
>  ( ncols 
>   nrows 
>   cellsize 
>   xllcorner 
>   yllcorner 
>   nodata_value )

Vajram,

You don't really provide much background information.  Are you planning
to do this from C/C++ or just using the commandline utilities?

With the utilities, the most obvious approach would be to translate to
AAIGRID format which will given you exactly the above with the pixels in
ascii format.

With the API you can also accomplish this.  I would suggest reading the
tutorial at:

  http://www.gdal.org/gdal_tutorial.html

and then asking if you have specific questions not covered by it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Wed May 19 09:50:55 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 19 09:51:00 2010
Subject: [gdal-dev] Modify virtual file attributes
In-Reply-To: <1274260820.2391.35.camel@fasano-debian.innova>
References: <1274260820.2391.35.camel@fasano-debian.innova>
Message-ID: <4BF3ECBF.8030808@pobox.com>

Luca Fasano wrote:
> Hi list,
> I'm encountering some problems using Python Gdal API to modify *virtual*
> file attributes.
> 
> In fact if I change the "Description" and "CategoryNames" attributes of
> a virtual band with the Python API, the Python object is updated
> correctly, but *not* the virtual file that mantains old values.
> In addition if I try to change the "DataType" attribute of virtual band
> the Python object (and obviously the virtual file) is *not* updated.
> Are these considerable as bugs?

Luca,

I reviewed the VRTRasterBand class and found that it was not marking the
VRT as needing a write to disk for some items that change including
the unit type, offset, scale and category names.  I have fixed this in
trunk:

   http://trac.osgeo.org/gdal/changeset/19741

I see there is also no overriding of SetDescription() on the band, so
the code does not know to flush it.  This is slightly more involved to
fix, but could be done.

Note that the DataType of a band cannot be changed in GDAL, and while
it is exposed as an attribute in Python, you should treat it as readonly.

If you would like the set methods for unittype, offset and scale exposed
in Python please file a ticket.  Likewise, if you file a ticket I can
migrate the flushing fixes in 19741 back into 1.7 stable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From woklist at kyngchaos.com  Wed May 19 12:24:11 2010
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed May 19 12:24:18 2010
Subject: [gdal-dev] DBF unicode problem
Message-ID: <5D262B2A-BC7F-4C50-BD12-D1B45E645B0F@kyngchaos.com>

I tried viewing a unicode shapefile created from GDAL in ArcGIS and it didn't work.

After some poking around I found out about the LDID value in the DBF header and the .cpg file that Arc uses.  I see that GDAL sets the LDID to some value - is this supposed to be UTF-8, or something else?

I couldn't get Arc to recognize unicode in the shapefile until I zero'd the LDID in the DBF (it overrides the cpg if set) and added a .cpg file with the UTF-8 value.

Maybe GDAL needs a creation option in the shapefile driver to set the LDID or to instead add a cpg file with an encoding value.

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"The beast is actively interested only in now, and, as it is always now and always shall be, there is an eternity of time for the accomplishment of objects."

- the wisdom of Tarzan





From even.rouault at mines-paris.org  Wed May 19 19:38:02 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 19 19:38:19 2010
Subject: [GRASS-dev] Re: [gdal-dev] gdaldem hillshade directions / GRASS
	r.shaded.relief
In-Reply-To: <89570.21928.qm@web110014.mail.gq1.yahoo.com>
References: <89570.21928.qm@web110014.mail.gq1.yahoo.com>
Message-ID: <201005200138.03989.even.rouault@mines-paris.org>

Hamish,

I've taken some time to experiment a bit with GRASS and GRASS behaviour is 
correct of course, so sorry for the noise.

I've finally identified why gdaldem (and initially Matt's hillshade utility) 
got it wrong. GRASS r.mapcalc atan(x,y) function has its parameters reversed 
in comparison to C atan2() used by GDAL : atan(x,y)=atan2(y,x)....

So the aspect computation was wrong which could also be seen as a wrong 
interpretation of the azimuth parameter. But for the particular value of 
az=315deg, the beauty of trigonometry makes it such that cos(az-pi/2-atan2
(y,x)) = cos(az-pi/2- atan2(x,y))...

Fixed as ticket http://trac.osgeo.org/gdal/ticket/3586

Best regards,

Even

Le Wednesday 19 May 2010 03:57:38 Hamish, vous avez ?crit?:
> Even wrote:
> > #correct azimuth to East (GRASS convention):
> > #? this seems to be backwards, but in fact it works so
> > leave it.
> > az = float(azimuth) - 90
>
> I'm not into checking-in fudge factors which I don't understand,
> and I seem to recall that when I wrote that comment I did
> actually investigate the r.mapcalc algorithm and determine that
> it was "in fact" doing the right thing, or at least verified the
> output was correct.
>
> GRASS has, for decades, used the mathematical convention of
> theta measured CCW from the positive x-axis for measuring
> aspect, not the nautical convention of of degrees measured CW
> from north. Both ways are neither right nor wrong, it's just the
> convention used. (a reminder that grass's roots are in modeling
> and mathematical analysis, not cartography)
>
> The typical way to convert between the two conventions is:
>   naut = 90 - theta
>   theta = 90 - naut
>
>
> There is the possiblity that when gdal copied this code from
> GRASS they only got/rewrote half of it, or lost the matching
> color table, etc.  ??
>
> If you like add it as a wish in the grass trac'er assigned to me,
> I could dig into it at some time in the future. sorry I don't
> have much time at all right now to look into itfurther. Only to
> say that I have looked into this in the past and signed off on
> it as ok back then (for use within GRASS, no idea about gdal's
> implimentation).
>
>
> hope that helps a little,
> Hamish


From mail2vajram at gmail.com  Thu May 20 00:02:44 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Thu May 20 00:02:46 2010
Subject: [gdal-dev] Re: how to get the each pixel value from the dataset
In-Reply-To: <4BF3E9A9.5040604@pobox.com>
References: <1274260373619-5074085.post@n2.nabble.com>
	<4BF3E9A9.5040604@pobox.com>
Message-ID: <1274328164010-5078085.post@n2.nabble.com>


Thanks mr.Frank


I am using .NET API.My query is 

When we assign a TIFF image to DATASET, then we get RASTERXSIZE and
RASTERYSIZE.
Here i am trying to GET each pixel value(brightness value) using two for
loops.But i don't know which method is used to get this values.

Thank you......



-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-to-get-the-each-pixel-value-from-the-dataset-tp5074085p5078085.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ksshannon at gmail.com  Thu May 20 00:10:40 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Thu May 20 00:10:57 2010
Subject: [gdal-dev] Re: how to get the each pixel value from the dataset
In-Reply-To: <1274328164010-5078085.post@n2.nabble.com>
References: <1274260373619-5074085.post@n2.nabble.com>
	<4BF3E9A9.5040604@pobox.com> 
	<1274328164010-5078085.post@n2.nabble.com>
Message-ID: <AANLkTimUBwqNv6eBHcRvOEvLWrRmwb_TGNz53MX2fLhI@mail.gmail.com>

As I am not familiar with .net, i assume it is similar to c++.  You can find
the info under "Reading Raster Data" on this page:
http://www.gdal.org/gdal_tutorial.html .

kss




On Wed, May 19, 2010 at 10:02 PM, mail2vajram <mail2vajram@gmail.com> wrote:

>
> Thanks mr.Frank
>
>
> I am using .NET API.My query is
>
> When we assign a TIFF image to DATASET, then we get RASTERXSIZE and
> RASTERYSIZE.
> Here i am trying to GET each pixel value(brightness value) using two for
> loops.But i don't know which method is used to get this values.
>
> Thank you......
>
>
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/how-to-get-the-each-pixel-value-from-the-dataset-tp5074085p5078085.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100519/a8760898/attachment.html
From mail2vajram at gmail.com  Thu May 20 03:30:49 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Thu May 20 03:31:43 2010
Subject: [gdal-dev] How to read first line pixel values of an image into
	buffer
Message-ID: <1274340649708-5078547.post@n2.nabble.com>


I am using the following code to read pixel values. It read only one pixel
value..how to read entire row..

generally this code is used to read 0th column 1st row and return pixel
value into buffer.  
code:     
 Band band = ds.GetRasterBand(1);
 double[] buffer = new double[ds.RasterXSize];
 band.ReadRaster(0, 1,1,1, buffer, 1,1, 1, 1);


but when i am using the following code i am not able to getting entire first
row values values.

Band band = ds.GetRasterBand(1);
 double[] buffer = new double[ds.RasterXSize];
band.ReadRaster(0, 1,ds.RasterXSize,1, buffer, 1, 1, 1, 1);

Can any body suggest me which parameter i need to change. Iam using C# code
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/How-to-read-first-line-pixel-values-of-an-image-into-buffer-tp5078547p5078547.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ivan at sanchezortega.es  Thu May 20 07:39:24 2010
From: ivan at sanchezortega.es (=?ISO-8859-1?Q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Thu May 20 07:47:12 2010
Subject: [gdal-dev] How to read first line pixel values of an image into
	buffer
In-Reply-To: <1274340649708-5078547.post@n2.nabble.com>
References: <1274340649708-5078547.post@n2.nabble.com>
Message-ID: <4BF51F6C.7010207@sanchezortega.es>

El 20/05/2010 9:30, mail2vajram escribi?:
> I am using the following code to read pixel values. It read only one pixel
> value..how to read entire row..

Use a loop?

> generally this code is used to read 0th column 1st row and return pixel
> value into buffer.
> code:
>   Band band = ds.GetRasterBand(1);
>   double[] buffer = new double[ds.RasterXSize];
>   band.ReadRaster(0, 1,1,1, buffer, 1,1, 1, 1);

No. That's 1st column, 2nd row. You have to start counting from zero.

> but when i am using the following code i am not able to getting entire first
> row values values.
>
> Band band = ds.GetRasterBand(1);
>   double[] buffer = new double[ds.RasterXSize];
> band.ReadRaster(0, 1,ds.RasterXSize,1, buffer, 1, 1, 1, 1);

You're completely ignoring the buf_xSize and buf_ySize parameters.

-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>
From warmerdam at pobox.com  Thu May 20 08:09:58 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 20 08:10:06 2010
Subject: [gdal-dev] How to read first line pixel values of an image into
	buffer
In-Reply-To: <1274340649708-5078547.post@n2.nabble.com>
References: <1274340649708-5078547.post@n2.nabble.com>
Message-ID: <4BF52696.8070701@pobox.com>

mail2vajram wrote:
> I am using the following code to read pixel values. It read only one pixel
> value..how to read entire row..
> 
> generally this code is used to read 0th column 1st row and return pixel
> value into buffer.  
> code:     
>  Band band = ds.GetRasterBand(1);
>  double[] buffer = new double[ds.RasterXSize];
>  band.ReadRaster(0, 1,1,1, buffer, 1,1, 1, 1);
> 
> 
> but when i am using the following code i am not able to getting entire first
> row values values.
> 
> Band band = ds.GetRasterBand(1);
>  double[] buffer = new double[ds.RasterXSize];
> band.ReadRaster(0, 1,ds.RasterXSize,1, buffer, 1, 1, 1, 1);
> 
> Can any body suggest me which parameter i need to change. Iam using C# code

Vajram,

band.ReadRaster(0,1,ds.RasterXSize,1, buffer, ds.RasterXSize, 1, 1, 1 )

Note that your yoffset (second parameter) is 1, so you are really
reading the second line.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ahmettemiz88 at gmail.com  Thu May 20 08:18:37 2010
From: ahmettemiz88 at gmail.com (ahmet temiz)
Date: Thu May 20 08:24:27 2010
Subject: [gdal-dev] where gdal-java package
Message-ID: <AANLkTili7Dzpi8QOc5z5coQJ4_-idPvqKmdRV_-DLi1S@mail.gmail.com>

hello

where can I find gdal-lava package for ubuntu ?
or
what might be the alternatives

regards
From ivan.lucena at pmldnet.com  Thu May 20 08:17:29 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Thu May 20 08:25:11 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gSG93IHRvIHJlYWQgZmlyc3QgbGluZSBwaXhlbCB2YWx1ZXMgb2YgYW4gaW1hZ2UgaW50byBidWZmZXI=?=
Message-ID: <20100520121730.31473.qmail@s466.sureserver.com>

Hi there,

>  -------Original Message-------
>  From: mail2vajram <mail2vajram@gmail.com>
>  To: gdal-dev@lists.osgeo.org
>  Subject: [gdal-dev] How to read first line pixel values of an image into buffer
>  Sent: May 20 '10 02:30
>  
>  
>  I am using the following code to read pixel values. It read only one pixel
>  value..how to read entire row..
>  
>  generally this code is used to read 0th column 1st row and return pixel
>  value into buffer.??
>  code:????
>  Band band = ds.GetRasterBand(1);
>  double[] buffer = new double[ds.RasterXSize];
>  band.ReadRaster(0, 1,1,1, buffer, 1,1, 1, 1);
>  
>  
>  but when i am using the following code i am not able to getting entire first
>  row values values.
>  
>  Band band = ds.GetRasterBand(1);
>  double[] buffer = new double[ds.RasterXSize];
>  band.ReadRaster(0, 1,ds.RasterXSize,1, buffer, 1, 1, 1, 1);

I believe that the ReadRaster() for C# documentation is missing but it should be based on GDALRasterIO:

http://gdal.org/gdal_8h.html#f26fead53c02f8035150cc710c156752

So you are reading from the second row, all the row, but storing in just one pixel. That is because you have 1's on  nBufXSize and nBugYSize arguments.

I think you should change your call to something like:

band.ReadRaster(0, I, ds.RasterXSize,1, buffer, ds.RasterXSize,1);

Where I is a index from 0 to ds.RasterYSize.

The C# out-complete probably will show the order of arguments and what are the options to suppress optional arguments. I believe you don't need to specify nPixelSpace and nLineSpace, if you don't want to.

Regards.

>  
>  Can any body suggest me which parameter i need to change. Iam using C# code
>  --
>  View this message in context: http://osgeo-org.1803224.n2.nabble.com/How-to-read-first-line-pixel-values-of-an-image-into-buffer-tp5078547p5078547.html
>  Sent from the GDAL - Dev mailing list archive at Nabble.com.
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev@lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  
From schut at sarvision.nl  Thu May 20 08:48:53 2010
From: schut at sarvision.nl (Vincent Schut)
Date: Thu May 20 08:52:44 2010
Subject: [gdal-dev] some problem in python bindings
Message-ID: <4BF52FB5.7030303@sarvision.nl>

Hi,

since some time (I don't know exactly since when, but I regularly update 
gdal from svn and I don't remember this happening earlier), there is a 
problem with the python swig bindings when doing this:

data = gdal_array.BandReadAsArray(gdal.Open(filename).GetRasterBand(1))

instead of this:

ds = gdal.Open(filename)
data = gdal_array.BandReadAsArray(ds.GetRasterBand(1))

The first version gives me a segfault, the second works OK. Probably 
some refcounting issue?

I'm a bit in a hurry and have currently no time for further 
investigations. Could look at it in more detail later next week, if 
necessary.

this is on linux ('Arch') 64 bit, gdal fresh from svn, python 2.6.5, gcc 
4.4.3

Regards,
Vincent Schut.
From lucafasano at interfree.it  Thu May 20 09:04:06 2010
From: lucafasano at interfree.it (Luca Fasano)
Date: Thu May 20 09:09:06 2010
Subject: [gdal-dev] Re: Modify virtual file attributes
In-Reply-To: <4BF3ECBF.8030808@pobox.com>
References: <1274260820.2391.35.camel@fasano-debian.innova>
	<4BF3ECBF.8030808@pobox.com>
Message-ID: <1274360646809-5079527.post@n2.nabble.com>



Frank Warmerdam wrote:
> 
> 
> Luca,
> 
> I reviewed the VRTRasterBand class and found that it was not marking the
> VRT as needing a write to disk for some items that change including
> the unit type, offset, scale and category names.  I have fixed this in
> trunk:
> 
>    http://trac.osgeo.org/gdal/changeset/19741
> 
> I see there is also no overriding of SetDescription() on the band, so
> the code does not know to flush it.  This is slightly more involved to
> fix, but could be done.
> 
> Note that the DataType of a band cannot be changed in GDAL, and while
> it is exposed as an attribute in Python, you should treat it as readonly.
> 
> If you would like the set methods for unittype, offset and scale exposed
> in Python please file a ticket.  Likewise, if you file a ticket I can
> migrate the flushing fixes in 19741 back into 1.7 stable.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

Frank,
thanks for your reply.

As you suggested, I created 3 tickets:
 - #3587: Set and Get methods missing in Python bindings
 - #3588: a ticket to keep track of changeset
http://trac.osgeo.org/gdal/changeset/19741 for missing flushes. I suppose it
can be considered closed.
 - #3589: SetDescription method should be overridden in VRTRasterBand

Best regards
Luca

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Modify-virtual-file-attributes-tp5074120p5079527.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From hobu.inc at gmail.com  Thu May 20 10:04:02 2010
From: hobu.inc at gmail.com (Howard Butler)
Date: Thu May 20 10:04:00 2010
Subject: [gdal-dev] some problem in python bindings
In-Reply-To: <4BF52FB5.7030303@sarvision.nl>
References: <4BF52FB5.7030303@sarvision.nl>
Message-ID: <C0F64B39-53DC-4050-8D14-22AF22116971@gmail.com>


On May 20, 2010, at 7:48 AM, Vincent Schut wrote:

> Hi,
> 
> since some time (I don't know exactly since when, but I regularly update gdal from svn and I don't remember this happening earlier), there is a problem with the python swig bindings when doing this:
> 
> data = gdal_array.BandReadAsArray(gdal.Open(filename).GetRasterBand(1))
> 
> instead of this:
> 
> ds = gdal.Open(filename)
> data = gdal_array.BandReadAsArray(ds.GetRasterBand(1))
> 
> The first version gives me a segfault, the second works OK. Probably some refcounting issue?

In the first one, the rasterband is fetched, but the dataset that owns it immediately goes out of scope and doesn't know that it needs to stay alive due to the rasterband fetch.  This is a consequence of the Python bindings historically expecting users to manage their own memory.  If operation chaining such as the first one works, it's a happy circumstance, but don't expect it to work always or even in most cases.  As to whether or not we fix it, I think yes, we'll take a patch if it's proven to work. 

Howard
From aca at ngi.be  Thu May 20 10:24:09 2010
From: aca at ngi.be (acangi)
Date: Thu May 20 10:24:12 2010
Subject: [gdal-dev] gdal_retile and nodata
Message-ID: <1274365449218-5079895.post@n2.nabble.com>


When creating the level x, gdal_retile interpolates the tiles of level x-1.
If not all data exist in level x-1, it interpolates with nodata values (I
guess ?). The result is that at the border, we can see almost black values,
but not exactly black. They become visible when setting the output
transparent color in GeoServer.

How can I get rid of them ? nearblack can't output GeoTIFFs yet (gdal
1.7.2). 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5079895.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From christian.mueller at nvoe.at  Thu May 20 11:04:54 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Thu May 20 11:05:00 2010
Subject: [gdal-dev] gdal_retile and nodata
In-Reply-To: <1274365449218-5079895.post@n2.nabble.com>
References: <1274365449218-5079895.post@n2.nabble.com>
Message-ID: <20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>

gdal_retile use gdal core functions to rescale and I see no  
possibility to pass a nodata value to these functions.

Have your tiff files a no data value in the meta info.


Quoting acangi <aca@ngi.be>:

>
> When creating the level x, gdal_retile interpolates the tiles of level x-1.
> If not all data exist in level x-1, it interpolates with nodata values (I
> guess ?). The result is that at the border, we can see almost black values,
> but not exactly black. They become visible when setting the output
> transparent color in GeoServer.
>
> How can I get rid of them ? nearblack can't output GeoTIFFs yet (gdal
> 1.7.2).
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5079895.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From dswanepoel1 at csir.co.za  Thu May 20 11:38:52 2010
From: dswanepoel1 at csir.co.za (Derick Swanepoel)
Date: Thu May 20 11:40:35 2010
Subject: [gdal-dev] Cannot project MERIS N1 data with gdalwarp
Message-ID: <4BF5578C.7090104@csir.co.za>

Hi,

I'm having trouble projecting MERIS level 1b data:

$ gdalwarp
MER_RR__1PPBCM20100101_080424_000000622085_00350_40985_0012.N1 meris.tif
ERROR 1: Unable to compute a transformation between pixel/line
and georeferenced coordinates for
MER_RR__1PPBCM20100101_080424_000000622085_00350_40985_0012.N1.
There is no affine transformation and no GCPs.

I can successfully project the data using BEAM and use it to export the
GCPs, so they are present in the metadata.

I've uploaded the file in question to
http://divenos.meraka.csir.co.za/~derick/MER_RR__1PPBCM20100101_080424_000000622085_00350_40985_0012.N1

Thanks in advance,
Derick

-- 
This message is subject to the CSIR's copyright terms and conditions, e-mail legal notice, and implemented Open Document Format (ODF) standard. 
The full disclaimer details can be found at http://www.csir.co.za/disclaimer.html.

This message has been scanned for viruses and dangerous content by MailScanner, 
and is believed to be clean.  MailScanner thanks Transtec Computers for their support.

From obe at IVV-AACHEN.DE  Thu May 20 15:48:04 2010
From: obe at IVV-AACHEN.DE (Felix Obermaier)
Date: Thu May 20 16:03:11 2010
Subject: [gdal-dev] Create gdaldataset from in-memory
	Image/Bitmap/byte[]/MemoryStream
Message-ID: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>

Hello list,

I'm using GDAL via swig C# bindings. Is there a way to create a gdal dataset object from an in-memory Image/Bitmap/byte[]/MemoryStream, and if so, how  can I achive this.

Thanks in advance

Felix Obermaier

------------------------------------------
 Ingenieurgruppe IVV GmbH & Co. KG
 Dipl.-Ing. Felix Obermaier
 Oppenhoffallee 171
 52066 Aachen

 Telefon: +49 (241) 94691-39
 Telefax: +49 (241) 531622
 eMail: obe_at_ivv-aachen.de
 Internet: http://www.ivv-aachen.de

 Sitz der Gesellschaft: Aachen
 Amtsgericht Aachen HRA 6212
 GF: Bauassessor Dr.-Ing. Dieter H?lsken
 IVV-Management GmbH
 Amtsgericht Aachen HRB 12543


From matt at klaric.com  Thu May 20 16:22:00 2010
From: matt at klaric.com (Matt Klaric)
Date: Thu May 20 16:22:04 2010
Subject: [gdal-dev] Create gdaldataset from in-memory
	Image/Bitmap/byte[]/MemoryStream
In-Reply-To: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
References: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
Message-ID: <AANLkTimXqPN6cGlIJYwbiMVQjLWUemZvmHMnZo_g_ySi@mail.gmail.com>

http://www.gdal.org/frmt_mem.html

On Thu, May 20, 2010 at 2:48 PM, Felix Obermaier <obe@ivv-aachen.de> wrote:

> Hello list,
>
> I'm using GDAL via swig C# bindings. Is there a way to create a gdal
> dataset object from an in-memory Image/Bitmap/byte[]/MemoryStream, and if
> so, how  can I achive this.
>
> Thanks in advance
>
> Felix Obermaier
>
> ------------------------------------------
>  Ingenieurgruppe IVV GmbH & Co. KG
>  Dipl.-Ing. Felix Obermaier
>  Oppenhoffallee 171
>  52066 Aachen
>
>  Telefon: +49 (241) 94691-39
>  Telefax: +49 (241) 531622
>  eMail: obe_at_ivv-aachen.de
>  Internet: http://www.ivv-aachen.de
>
>  Sitz der Gesellschaft: Aachen
>  Amtsgericht Aachen HRA 6212
>  GF: Bauassessor Dr.-Ing. Dieter H?lsken
>  IVV-Management GmbH
>  Amtsgericht Aachen HRB 12543
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100520/b44ec3d9/attachment.html
From szekerest at gmail.com  Thu May 20 17:02:36 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu May 20 17:02:44 2010
Subject: [gdal-dev] Create gdaldataset from in-memory
	Image/Bitmap/byte[]/MemoryStream
In-Reply-To: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
References: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
Message-ID: <AANLkTinD8FleDvS8jMaXZotkZg4ikvKxdGZ0zA9bDDmW@mail.gmail.com>

Felix,

You can find examples in the gdal source tree about creating a dataset and
write data by using the WriteRaster method:

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALWrite.cs
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALDatasetWrite.cs

For more information about the raster IO operations in C# see:
http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpRaster

Best regards,

Tamas




2010/5/20 Felix Obermaier <obe@ivv-aachen.de>

> Hello list,
>
> I'm using GDAL via swig C# bindings. Is there a way to create a gdal
> dataset object from an in-memory Image/Bitmap/byte[]/MemoryStream, and if
> so, how  can I achive this.
>
> Thanks in advance
>
> Felix Obermaier
>
> ------------------------------------------
>  Ingenieurgruppe IVV GmbH & Co. KG
>  Dipl.-Ing. Felix Obermaier
>  Oppenhoffallee 171
>  52066 Aachen
>
>  Telefon: +49 (241) 94691-39
>  Telefax: +49 (241) 531622
>  eMail: obe_at_ivv-aachen.de
>  Internet: http://www.ivv-aachen.de
>
>  Sitz der Gesellschaft: Aachen
>  Amtsgericht Aachen HRA 6212
>  GF: Bauassessor Dr.-Ing. Dieter H?lsken
>  IVV-Management GmbH
>  Amtsgericht Aachen HRB 12543
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100520/382e1b3a/attachment.html
From ole.nielsen at aifdr.org  Thu May 20 22:37:54 2010
From: ole.nielsen at aifdr.org (Ole Nielsen)
Date: Thu May 20 22:36:01 2010
Subject: [gdal-dev] NetCDF driver in gdal_translate ignores xllcorner and
	yllcorner?
Message-ID: <01744CEB055A2D46A1C0E02E68F90DCB018CC3EF5894@Exchange.aifdr.org>


Dear GDAL developers

I have been using GDAL for a while with great success and really appreciate
the toolkit.
As of recently, I now have the need to read NetCDF files and convert them
into AAIGRIDs. However, the cellsize is wrong and I don't think xllcorner
and yllcorner are correct either.

I have searched this forum and I think this may be related to the thread
named "[gdal-dev] netcdf to geotiff and aaigrid" from 2008. However, I
didn't find a resolution in that thread - hence this posting.

The content of the NetCDF file is obtained by running ncdump merapi.res.nc:

netcdf merapi.res {
dimensions:
        x = 59 ;
        y = 64 ;
        alt = 6 ;
        time = UNLIMITED ; // (4 currently)
variables:
        float x(x) ;
                x:units = "m" ;
                x:description = "UTM. West-East distance" ;
        float y(y) ;
                y:units = "m" ;
                y:description = "UTM. South-North distance" ;
.... (many lines removed here)
data:

 x = 412432.3, 413449.5, 414466.8, 415484, 416501.2, 417518.5, 418535.7,
    419553, 420570.2, 421587.4, 422604.7, 423621.9, 424639.1, 425656.4,
    426673.6, 427690.8, 428708.1, 429725.3, 430742.6, 431759.8, 432777,
    433794.2, 434811.5, 435828.7, 436846, 437863.2, 438880.4, 439897.7,
    440914.9, 441932.2, 442949.4, 443966.6, 444983.8, 446001.1, 447018.3,
    448035.6, 449052.8, 450070, 451087.3, 452104.5, 453121.8, 454139,
    455156.2, 456173.5, 457190.7, 458207.9, 459225.2, 460242.4, 461259.6,
    462276.9, 463294.1, 464311.3, 465328.6, 466345.8, 467363.1, 468380.3,
    469397.5, 470414.8, 471432 ;

 y = 9106709, 9107724, 9108740, 9109756, 9110772, 9111788, 9112804, 9113820,
    9114836, 9115851, 9116867, 9117883, 9118899, 9119915, 9120931, 9121947,
    9122962, 9123978, 9124994, 9126010, 9127026, 9128042, 9129058, 9130073,
    9131089, 9132105, 9133121, 9134137, 9135153, 9136169, 9137185, 9138200,
    9139216, 9140232, 9141248, 9142264, 9143280, 9144296, 9145311, 9146327,
    9147343, 9148359, 9149375, 9150391, 9151407, 9152422, 9153438, 9154454,
    9155470, 9156486, 9157502, 9158518, 9159534, 9160549, 9161565, 9162581,
    9163597, 9164613, 9165629, 9166645, 9167660, 9168676, 9169692, 9170708 ;

...... (lines removed)

 TOPOGRAPHY =
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 51.99445,
    124.9918, 103.0026, 170.9917, 191.9973, 183.0012, 214.9956, 215,
    204.0016, 246.9934, 231.0025, 221.0016, 226.999, 224.0005, 249.9954,
    211.0071, 232.9959, 242.9981, 224.0038, 231.9984, 222.0021, 240.9959,
    271.9932, 265.0016, 284.9954, 286.9995, 289.9993, 293.999, 311.9955,
    274.0097, 294.9946, 282.0034, 302.9944, 317.9959, 311.002, 314.9989,
    330.9954, 338.9977,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 105.9893, 183.9907,
    183.9983, 189.9981, 199.9982, 200.999, 215.9977, 224.9986, 217.0007,
    264.993, 260.0003, 273.9973, 246.0043, 249.9992, 291.9925, 299.998,
    300.9991, 277.004, 256.0034, 272.9964, 252.004, 246.001, 243.0005,
    256.9968, 242.0032, 268.9941, 253.0037, 249.0013, 272.9945, 271.0006,
    277.9984, 263.0042, 266.9991, 277.9973, 312.9904, 322.9971, 295.0079,
    295.0002, 273.0067, 336.9814, 334.0009,
  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 96.98979, 189.9899,
    180.001, 205.9969, 205.9997, 213.9988, 236.9966, 240.999, 255.9975,
...... etc etc

========================

The command I use to extract this topography variable is
gdal_translate -of AAIGrid  NETCDF:"merapi.res.nc":TOPOGRAPHY
merapi.topography.asc

and the header of the resulting file is
ncols        59
nrows        64
xllcorner    0.000000000000
yllcorner    -64.000000000000
cellsize     1.000000000000
NODATA_value 9.9692099683868690468e+36
      0      0      0      0      0      0      0      0      0      0
0      0      0      0      0      0      0      0      0      0      0
51.99444
9615478515625 124.9918365478515625 103.00257110595703125 170.99169921875
191.9973297119140625 183.001190185546875 214.99560546875    215
204.001617431640625
 246.993438720703125 231.0025177001953125 ........

---------------------------------------------------------

I do not understand why the cellsize is 1.000000 when it should be in the
order of 1000.
Also, I do not understand why xllcorner and yllcorner aren't obtained as
e.g. the minimum values of the x and y vectors.

The version of gdal-bin is 1.5.2-3ubuntu1 and my platform is Ubuntu 9.04 (64
bit).

By the way, trying to contour directly from the NetCDF puts all the contours at the south pole. I suspect this is another manifestation of the origins being ignored.

Can anyone help please?

Cheers and thanks
Ole Nielsen


--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-translate-netcdf-to-aaigrid-wrong-cellsize-xllcorner-and-yllcorner-tp5073995p5073995.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Chris.Barker at noaa.gov  Thu May 20 23:26:37 2010
From: Chris.Barker at noaa.gov (Chris Barker)
Date: Thu May 20 23:26:44 2010
Subject: [gdal-dev] NetCDF driver in gdal_translate ignores xllcorner and
	yllcorner?
In-Reply-To: <01744CEB055A2D46A1C0E02E68F90DCB018CC3EF5894@Exchange.aifdr.org>
References: <01744CEB055A2D46A1C0E02E68F90DCB018CC3EF5894@Exchange.aifdr.org>
Message-ID: <4BF5FD6D.4070206@noaa.gov>

Ole,

The netcdf data model is pretty different than the GDAL data model, I"m 
not surprised that GDAL can't figure out the grid.

Can you just go hand-edit the AAIGRID?

If  you need to script this, I'd tend to look for another solution -- it 
would be pretty easy to parse the ncdump output and write an AAIGRID 
from  it, or red the netcdf another way -- if it were me I'd use Python 
and one of the netcdf modules. writing an AAIGRID is pretty trivial.

I'm guessing you could do something with a vrt too, but I don't quite 
get that yet.

-Chris

Ole Nielsen wrote:
> Dear GDAL developers
> 
> I have been using GDAL for a while with great success and really appreciate
> the toolkit.
> As of recently, I now have the need to read NetCDF files and convert them
> into AAIGRIDs. However, the cellsize is wrong and I don't think xllcorner
> and yllcorner are correct either.
> 
> I have searched this forum and I think this may be related to the thread
> named "[gdal-dev] netcdf to geotiff and aaigrid" from 2008. However, I
> didn't find a resolution in that thread - hence this posting.
> 
> The content of the NetCDF file is obtained by running ncdump merapi.res.nc:
> 
> netcdf merapi.res {
> dimensions:
>         x = 59 ;
>         y = 64 ;
>         alt = 6 ;
>         time = UNLIMITED ; // (4 currently)
> variables:
>         float x(x) ;
>                 x:units = "m" ;
>                 x:description = "UTM. West-East distance" ;
>         float y(y) ;
>                 y:units = "m" ;
>                 y:description = "UTM. South-North distance" ;
> .... (many lines removed here)
> data:
> 
>  x = 412432.3, 413449.5, 414466.8, 415484, 416501.2, 417518.5, 418535.7,
>     419553, 420570.2, 421587.4, 422604.7, 423621.9, 424639.1, 425656.4,
>     426673.6, 427690.8, 428708.1, 429725.3, 430742.6, 431759.8, 432777,
>     433794.2, 434811.5, 435828.7, 436846, 437863.2, 438880.4, 439897.7,
>     440914.9, 441932.2, 442949.4, 443966.6, 444983.8, 446001.1, 447018.3,
>     448035.6, 449052.8, 450070, 451087.3, 452104.5, 453121.8, 454139,
>     455156.2, 456173.5, 457190.7, 458207.9, 459225.2, 460242.4, 461259.6,
>     462276.9, 463294.1, 464311.3, 465328.6, 466345.8, 467363.1, 468380.3,
>     469397.5, 470414.8, 471432 ;
> 
>  y = 9106709, 9107724, 9108740, 9109756, 9110772, 9111788, 9112804, 9113820,
>     9114836, 9115851, 9116867, 9117883, 9118899, 9119915, 9120931, 9121947,
>     9122962, 9123978, 9124994, 9126010, 9127026, 9128042, 9129058, 9130073,
>     9131089, 9132105, 9133121, 9134137, 9135153, 9136169, 9137185, 9138200,
>     9139216, 9140232, 9141248, 9142264, 9143280, 9144296, 9145311, 9146327,
>     9147343, 9148359, 9149375, 9150391, 9151407, 9152422, 9153438, 9154454,
>     9155470, 9156486, 9157502, 9158518, 9159534, 9160549, 9161565, 9162581,
>     9163597, 9164613, 9165629, 9166645, 9167660, 9168676, 9169692, 9170708 ;
> 
> ...... (lines removed)
> 
>  TOPOGRAPHY =
>   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 51.99445,
>     124.9918, 103.0026, 170.9917, 191.9973, 183.0012, 214.9956, 215,
>     204.0016, 246.9934, 231.0025, 221.0016, 226.999, 224.0005, 249.9954,
>     211.0071, 232.9959, 242.9981, 224.0038, 231.9984, 222.0021, 240.9959,
>     271.9932, 265.0016, 284.9954, 286.9995, 289.9993, 293.999, 311.9955,
>     274.0097, 294.9946, 282.0034, 302.9944, 317.9959, 311.002, 314.9989,
>     330.9954, 338.9977,
>   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 105.9893, 183.9907,
>     183.9983, 189.9981, 199.9982, 200.999, 215.9977, 224.9986, 217.0007,
>     264.993, 260.0003, 273.9973, 246.0043, 249.9992, 291.9925, 299.998,
>     300.9991, 277.004, 256.0034, 272.9964, 252.004, 246.001, 243.0005,
>     256.9968, 242.0032, 268.9941, 253.0037, 249.0013, 272.9945, 271.0006,
>     277.9984, 263.0042, 266.9991, 277.9973, 312.9904, 322.9971, 295.0079,
>     295.0002, 273.0067, 336.9814, 334.0009,
>   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 96.98979, 189.9899,
>     180.001, 205.9969, 205.9997, 213.9988, 236.9966, 240.999, 255.9975,
> ...... etc etc
> 
> ========================
> 
> The command I use to extract this topography variable is
> gdal_translate -of AAIGrid  NETCDF:"merapi.res.nc":TOPOGRAPHY
> merapi.topography.asc
> 
> and the header of the resulting file is
> ncols        59
> nrows        64
> xllcorner    0.000000000000
> yllcorner    -64.000000000000
> cellsize     1.000000000000
> NODATA_value 9.9692099683868690468e+36
>       0      0      0      0      0      0      0      0      0      0
> 0      0      0      0      0      0      0      0      0      0      0
> 51.99444
> 9615478515625 124.9918365478515625 103.00257110595703125 170.99169921875
> 191.9973297119140625 183.001190185546875 214.99560546875    215
> 204.001617431640625
>  246.993438720703125 231.0025177001953125 ........
> 
> ---------------------------------------------------------
> 
> I do not understand why the cellsize is 1.000000 when it should be in the
> order of 1000.
> Also, I do not understand why xllcorner and yllcorner aren't obtained as
> e.g. the minimum values of the x and y vectors.
> 
> The version of gdal-bin is 1.5.2-3ubuntu1 and my platform is Ubuntu 9.04 (64
> bit).
> 
> By the way, trying to contour directly from the NetCDF puts all the contours at the south pole. I suspect this is another manifestation of the origins being ignored.
> 
> Can anyone help please?
> 
> Cheers and thanks
> Ole Nielsen
> 
> 
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-translate-netcdf-to-aaigrid-wrong-cellsize-xllcorner-and-yllcorner-tp5073995p5073995.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From ksshannon at gmail.com  Fri May 21 00:28:22 2010
From: ksshannon at gmail.com (Kyle Shannon)
Date: Fri May 21 00:28:39 2010
Subject: [gdal-dev] NetCDF driver in gdal_translate ignores xllcorner and 
	yllcorner?
In-Reply-To: <01744CEB055A2D46A1C0E02E68F90DCB018CC3EF5894@Exchange.aifdr.org>
References: <01744CEB055A2D46A1C0E02E68F90DCB018CC3EF5894@Exchange.aifdr.org>
Message-ID: <AANLkTikjKi2znzUYvY1_fr6ejRkX0PG-UzugFaHh4Bfr@mail.gmail.com>

I have also had an issue with the geotransform being of by a factor of 1000,
but it was a units issue.  GDAL kind of assumes CF=1.x convention, as netcdf
is very broad in its specification.  Could you attach a small sample dataset
to a ticket so I can take a look? Thanks.

kss

# ============================
Kyle Shannon
Physical Science Technician
RMRS Fire Sciences Lab
Fire, Fuels & Smoke - RWU 4405
5775 Highway 10 W.
Missoula, MT 59808
(406)829-6954
kshannon@fs.fed.us
# ============================


On Thu, May 20, 2010 at 8:37 PM, Ole Nielsen <ole.nielsen@aifdr.org> wrote:

>
> Dear GDAL developers
>
> I have been using GDAL for a while with great success and really appreciate
> the toolkit.
> As of recently, I now have the need to read NetCDF files and convert them
> into AAIGRIDs. However, the cellsize is wrong and I don't think xllcorner
> and yllcorner are correct either.
>
> I have searched this forum and I think this may be related to the thread
> named "[gdal-dev] netcdf to geotiff and aaigrid" from 2008. However, I
> didn't find a resolution in that thread - hence this posting.
>
> The content of the NetCDF file is obtained by running ncdump merapi.res.nc
> :
>
> netcdf merapi.res {
> dimensions:
>        x = 59 ;
>        y = 64 ;
>        alt = 6 ;
>        time = UNLIMITED ; // (4 currently)
> variables:
>        float x(x) ;
>                x:units = "m" ;
>                x:description = "UTM. West-East distance" ;
>        float y(y) ;
>                y:units = "m" ;
>                y:description = "UTM. South-North distance" ;
> .... (many lines removed here)
> data:
>
>  x = 412432.3, 413449.5, 414466.8, 415484, 416501.2, 417518.5, 418535.7,
>    419553, 420570.2, 421587.4, 422604.7, 423621.9, 424639.1, 425656.4,
>    426673.6, 427690.8, 428708.1, 429725.3, 430742.6, 431759.8, 432777,
>    433794.2, 434811.5, 435828.7, 436846, 437863.2, 438880.4, 439897.7,
>    440914.9, 441932.2, 442949.4, 443966.6, 444983.8, 446001.1, 447018.3,
>    448035.6, 449052.8, 450070, 451087.3, 452104.5, 453121.8, 454139,
>    455156.2, 456173.5, 457190.7, 458207.9, 459225.2, 460242.4, 461259.6,
>    462276.9, 463294.1, 464311.3, 465328.6, 466345.8, 467363.1, 468380.3,
>    469397.5, 470414.8, 471432 ;
>
>  y = 9106709, 9107724, 9108740, 9109756, 9110772, 9111788, 9112804,
> 9113820,
>    9114836, 9115851, 9116867, 9117883, 9118899, 9119915, 9120931, 9121947,
>    9122962, 9123978, 9124994, 9126010, 9127026, 9128042, 9129058, 9130073,
>    9131089, 9132105, 9133121, 9134137, 9135153, 9136169, 9137185, 9138200,
>    9139216, 9140232, 9141248, 9142264, 9143280, 9144296, 9145311, 9146327,
>    9147343, 9148359, 9149375, 9150391, 9151407, 9152422, 9153438, 9154454,
>    9155470, 9156486, 9157502, 9158518, 9159534, 9160549, 9161565, 9162581,
>    9163597, 9164613, 9165629, 9166645, 9167660, 9168676, 9169692, 9170708 ;
>
> ...... (lines removed)
>
>  TOPOGRAPHY =
>  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 51.99445,
>    124.9918, 103.0026, 170.9917, 191.9973, 183.0012, 214.9956, 215,
>    204.0016, 246.9934, 231.0025, 221.0016, 226.999, 224.0005, 249.9954,
>    211.0071, 232.9959, 242.9981, 224.0038, 231.9984, 222.0021, 240.9959,
>    271.9932, 265.0016, 284.9954, 286.9995, 289.9993, 293.999, 311.9955,
>    274.0097, 294.9946, 282.0034, 302.9944, 317.9959, 311.002, 314.9989,
>    330.9954, 338.9977,
>  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 105.9893, 183.9907,
>    183.9983, 189.9981, 199.9982, 200.999, 215.9977, 224.9986, 217.0007,
>    264.993, 260.0003, 273.9973, 246.0043, 249.9992, 291.9925, 299.998,
>    300.9991, 277.004, 256.0034, 272.9964, 252.004, 246.001, 243.0005,
>    256.9968, 242.0032, 268.9941, 253.0037, 249.0013, 272.9945, 271.0006,
>    277.9984, 263.0042, 266.9991, 277.9973, 312.9904, 322.9971, 295.0079,
>    295.0002, 273.0067, 336.9814, 334.0009,
>  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 96.98979, 189.9899,
>    180.001, 205.9969, 205.9997, 213.9988, 236.9966, 240.999, 255.9975,
> ...... etc etc
>
> ========================
>
> The command I use to extract this topography variable is
> gdal_translate -of AAIGrid  NETCDF:"merapi.res.nc":TOPOGRAPHY
> merapi.topography.asc
>
> and the header of the resulting file is
> ncols        59
> nrows        64
> xllcorner    0.000000000000
> yllcorner    -64.000000000000
> cellsize     1.000000000000
> NODATA_value 9.9692099683868690468e+36
>      0      0      0      0      0      0      0      0      0      0
> 0      0      0      0      0      0      0      0      0      0      0
> 51.99444
> 9615478515625 124.9918365478515625 103.00257110595703125 170.99169921875
> 191.9973297119140625 183.001190185546875 214.99560546875    215
> 204.001617431640625
>  246.993438720703125 231.0025177001953125 ........
>
> ---------------------------------------------------------
>
> I do not understand why the cellsize is 1.000000 when it should be in the
> order of 1000.
> Also, I do not understand why xllcorner and yllcorner aren't obtained as
> e.g. the minimum values of the x and y vectors.
>
> The version of gdal-bin is 1.5.2-3ubuntu1 and my platform is Ubuntu 9.04
> (64
> bit).
>
> By the way, trying to contour directly from the NetCDF puts all the
> contours at the south pole. I suspect this is another manifestation of the
> origins being ignored.
>
> Can anyone help please?
>
> Cheers and thanks
> Ole Nielsen
>
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/gdal-translate-netcdf-to-aaigrid-wrong-cellsize-xllcorner-and-yllcorner-tp5073995p5073995.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100520/3f523fbc/attachment-0001.html
From doug.royce.white at gmail.com  Fri May 21 01:35:38 2010
From: doug.royce.white at gmail.com (Doug White)
Date: Fri May 21 01:35:50 2010
Subject: [gdal-dev] NITF 2.1 GDAL 1.7.2 and FWTools 2.4.7 Translation Errors
Message-ID: <4BF61BAA.7040308@gmail.com>

Hi,

I have been trying to translate a DigitalGlobe GeoEye-1 NITF image to 
GeoTiff or JP2 with GDAL 1.7.2 compiled with JP2ECW on x86 Linux and 
also with FWTools 2.4.7 (raises a unknown software exception).

gdalinfo will read the file successfully. I can display the file with 
PCI Geomatics on a Windows platform.

However we consistently get a seg-fault on attempts to translate a 
number of NITF images. It doesn't seem to matter what creation options 
are used or what output format is chosen.

gdal_translate -of gtiff -co COMPRESS=LZW -sds test1.ntf out.tif
Input file size is 35840, 27648
0...10...20...30...40...50...60...Segmentation fault

Output from gdalinfo is below along with supported formats.

Any assistance would be appreciate as I have potentially will have a 
large number of similar images that must be transformed to either 
GeoTiff or JP2 formats.

Regards,

Doug White.

--

gdalinfo test1.ntf
Driver: NITF/National Imagery Transmission Format
Files: test1.ntf
Size is 35840, 27648
Coordinate System is:
GEOGCS["WGS 84",
     DATUM["WGS_1984",
         SPHEROID["WGS 84",6378137,298.257223563,
             AUTHORITY["EPSG","7030"]],
         TOWGS84[0,0,0,0,0,0,0],
         AUTHORITY["EPSG","6326"]],
     PRIMEM["Greenwich",0,
         AUTHORITY["EPSG","8901"]],
     UNIT["degree",0.0174532925199433,
         AUTHORITY["EPSG","9108"]],
     AUTHORITY["EPSG","4326"]]
GeoTransform =
   151.8181220669296, 5.871164560022267e-06, -5.023651349735254e-09
   -20.99465038292781, 8.719551326766783e-07, -5.661655072079407e-06
Metadata:
   NITF_FHDR=NITF02.10
   NITF_CLEVEL=06
   NITF_STYPE=BF01
   NITF_OSTAID=DG
   NITF_FDT=20080105031559
   NITF_FTITLE=WV01_SENSOR:2008-01-04T23:56:28.358625Z
   NITF_FSCLAS=U
   NITF_FSCLSY=US
   NITF_FSCODE=
   NITF_FSCTLH=0
   NITF_FSREL=UNCLASSIFIED
   NITF_USE00A_ANGLE_TO_NORTH=270
   NITF_USE00A_MEAN_GSD=025.0
   NITF_USE00A_DYNAMIC_RANGE=02047
   NITF_USE00A_OBL_ANG=29.02
   NITF_STDIDC_ACQUISITION_DATE=20080104235628
   NITF_STDIDC_MISSION=WV01
   NITF_STDIDC_PASS=16
   NITF_STDIDC_OP_NUM=000
   NITF_STDIDC_START_SEGMENT=AA
   NITF_STDIDC_REPRO_NUM=00
   NITF_STDIDC_REPLAY_REGEN=000
   NITF_STDIDC_START_COLUMN=001
   NITF_STDIDC_START_ROW=00001
   NITF_STDIDC_END_SEGMENT=AA
   NITF_STDIDC_END_COLUMN=035
   NITF_STDIDC_END_ROW=00027
   NITF_STDIDC_COUNTRY=YY
   NITF_STDIDC_WAC=
   NITF_STDIDC_LOCATION=2059S15155E
   NITF_USE00A_ROLL_ANG=-19.90
   NITF_USE00A_N_REF=00
   NITF_USE00A_REV_NUM=01648
   NITF_USE00A_N_SEG=001
   NITF_USE00A_MAX_LP_SEG=027024
   NITF_USE00A_SUN_EL=+62.0
   NITF_USE00A_SUN_AZ=099.3
   NITF_FSDCTP=
   NITF_FSDCDT=
   NITF_FSDCXM=
   NITF_FSDG=
   NITF_FSDGDT=
   NITF_FSCLTX=
   NITF_FSCATP=
   NITF_FSCAUT=
   NITF_FSCRSN=
   NITF_FSSRDT=
   NITF_FSCTLN=
   NITF_FSCOP=00000
   NITF_FSCPYS=00000
   NITF_ENCRYP=0
   NITF_FBKGC=126,126,126
   NITF_ONAME=DigitalGlobe
   NITF_OPHONE=+1(800)496-1225
   NITF_IID1=P101B5EB00
   NITF_IDATIM=20080104235628
   NITF_TGTID=
   NITF_IID2=04JAN08WV011600008JAN04235628-P1BS-005692925010_02_P001
   NITF_ISCLAS=U
   NITF_ISCLSY=US
   NITF_ISCODE=
   NITF_ISCTLH=0
   NITF_ISREL=UNCLASSIFIED
   NITF_ISDCTP=
   NITF_ISDCDT=
   NITF_ISDCXM=
   NITF_ISDG=
   NITF_ISDGDT=
   NITF_ISCLTX=
   NITF_ISCATP=
   NITF_ISCAUT=
   NITF_ISCRSN=
   NITF_ISSRDT=
   NITF_ISCTLN=
   NITF_ISORCE=DigitalGlobe
   NITF_PVTYPE=INT
   NITF_IREP=MONO
   NITF_ICAT=VIS
   NITF_ABPP=11
   NITF_PJUST=R
   NITF_IMAGE_COMMENTS=The imagery and metadata data on this media is 
the property of                  DigitalGlobe and is licensed for use 
only. All use must be in                   accordance with the terms of 
the license that accompanies the media.            If the license is 
purchased under contract NMA 301 99 D003, use is              in 
accordance with the license therein 

   NITF_IC=C8
   NITF_IMODE=B
   NITF_IDLVL=1
   NITF_IALVL=0
   NITF_ILOC_ROW=0
   NITF_ILOC_COLUMN=0
   NITF_CCS_ROW=0
   NITF_CCS_COLUMN=0
   NITF_IMAG=1.0
Image Structure Metadata:
   COMPRESSION=JPEG2000
Subdatasets:
   SUBDATASET_1_NAME=NITF_IM:0:test1.ntf
   SUBDATASET_1_DESC=Image 1 of test1.ntf
   SUBDATASET_2_NAME=NITF_IM:1:test1.ntf
   SUBDATASET_2_DESC=Image 2 of test1.ntf
RPC Metadata:
   LINE_OFF=13513
   LINE_SCALE=13856
   SAMP_OFF=17568
   SAMP_SCALE=17880
   LONG_OFF=151.9233
   LONG_SCALE=0.1053
   LAT_OFF=-21.0572
   LAT_SCALE=0.094
   HEIGHT_OFF=56
   HEIGHT_SCALE=500
   LINE_NUM_COEFF=-0.0004377388 0.1957893 -1.171648 0.02476541 
0.0004988891 1.071111e-06 -7.723183e-05 -0.0001365399 0.0001504459 
-3.044538e-07 -5.480692e-07 2.582038e-06 2.00101e-05 3.445864e-06 
-1.734241e-05 -7.362311e-05 -2.064705e-05 3.295859e-07 3.97851e-06 
2.958957e-07
   LINE_DEN_COEFF=1 0.0006958351 -0.0004343016 -7.94123e-05 3.205817e-05 
-6.129374e-07 2.904883e-06 1.144677e-05 -6.601517e-05 1.76217e-05 
2.432827e-07 1.147129e-07 3.2925e-07 3.846231e-08 -8.681516e-07 
9.004578e-06 -1.561498e-07 0 -1.282879e-06 3.197183e-07
   SAMP_NUM_COEFF=-0.005897845 0.9845455 -0.0008736188 -0.01633278 
-0.0005572224 0.0004192778 -0.0001797468 0.006762 3.550668e-05 
-2.729457e-06 -2.47284e-06 2.339311e-05 -1.283381e-05 -5.962048e-06 
4.604063e-05 8.796591e-06 1.358451e-08 5.049965e-06 -1.806894e-08 0
   SAMP_DEN_COEFF=1 -0.0008445728 0.000539573 -0.0005092088 
-3.422971e-05 -3.243685e-06 1.062892e-06 5.948981e-06 1.065874e-05 
-6.439563e-06 -5.457996e-08 0 -3.445098e-07 3.646394e-08 -7.223879e-07 
1.128396e-06 0 -3.12891e-08 -4.239271e-08 0
   MIN_LONG=151.87065
   MAX_LONG=151.97595
   MIN_LAT=-21.1042
   MAX_LAT=-21.0102
Corner Coordinates:
Upper Left  ( 151.8181221, -20.9946504) (151d49'5.24"E, 20d59'40.74"S)
Lower Left  ( 151.8179832, -21.1511838) (151d49'4.74"E, 21d 9'4.26"S)
Upper Right ( 152.0285446, -20.9633995) (152d 1'42.76"E, 20d57'48.24"S)
Lower Right ( 152.0284057, -21.1199330) (152d 1'42.26"E, 21d 7'11.76"S)
Center      ( 151.9232639, -21.0572917) (151d55'23.75"E, 21d 3'26.25"S)
Band 1 Block=35840x1 Type=UInt16, ColorInterp=Gray
   Overviews: arbitrary


gdal_translate --formats
Supported Formats:
   VRT (rw+): Virtual Raster
   GTiff (rw+v): GeoTIFF
   NITF (rw+v): National Imagery Transmission Format
   RPFTOC (ro): Raster Product Format TOC format
   HFA (rw+v): Erdas Imagine Images (.img)
   SAR_CEOS (ro): CEOS SAR Image
   CEOS (ro): CEOS Image
   JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
   GFF (rov): Ground-based SAR Applications Testbed File Format (.gff)
   ELAS (rw+): ELAS
   AIG (ro): Arc/Info Binary Grid
   AAIGrid (rwv): Arc/Info ASCII Grid
   SDTS (ro): SDTS Raster
   OGDI (ro): OGDI Bridge
   DTED (rwv): DTED Elevation Raster
   PNG (rwv): Portable Network Graphics
   JPEG (rwv): JPEG JFIF
   MEM (rw+): In Memory Raster
   JDEM (ro): Japanese DEM (.mem)
   GIF (rwv): Graphics Interchange Format (.gif)
   BIGGIF (rov): Graphics Interchange Format (.gif)
   ESAT (ro): Envisat Image Format
   FITS (rw+): Flexible Image Transport System
   BSB (ro): Maptech BSB Nautical Charts
   XPM (rw): X11 PixMap Format
   BMP (rw+v): MS Windows Device Independent Bitmap
   DIMAP (ro): SPOT DIMAP
   AirSAR (ro): AirSAR Polarimetric Image
   RS2 (ro): RadarSat 2 XML Product
   PCIDSK (rw+v): PCIDSK Database File
   PCRaster (rw): PCRaster Raster File
   ILWIS (rw+v): ILWIS Raster Map
   SGI (rw+): SGI Image File Format 1.0
   SRTMHGT (rwv): SRTMHGT File Format
   Leveller (rw+): Leveller heightfield
   Terragen (rw+): Terragen heightfield
   GMT (rw): GMT NetCDF Grid Format
   netCDF (rw): Network Common Data Format
   HDF4 (ro): Hierarchical Data Format Release 4
   HDF4Image (rw+): HDF4 Dataset
   ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
   ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
   PDS (ro): NASA Planetary Data System
   TIL (ro): EarthWatch .TIL
   ERS (rw+): ERMapper .ers Labelled
   ECW (rw): ERMapper Compressed Wavelets
   JP2ECW (rw+): ERMapper JPEG2000
   JPEG2000 (rwv): JPEG-2000 part 1 (ISO/IEC 15444-1)
   L1B (ro): NOAA Polar Orbiter Level 1b Data Set
   FIT (rw): FIT Image
   GRIB (ro): GRIdded Binary (.grb)
   MrSID (ro): Multi-resolution Seamless Image Database (MrSID)
   RMF (rw+): Raster Matrix Format
   WCS (ro): OGC Web Coverage Service
   WMS (ro): OGC Web Map Service
   MSGN (ro): EUMETSAT Archive native (.nat)
   RST (rw+): Idrisi Raster A.1
   INGR (rw+): Intergraph Raster
   GSAG (rw): Golden Software ASCII Grid (.grd)
   GSBG (rw+): Golden Software Binary Grid (.grd)
   GS7BG (ro): Golden Software 7 Binary Grid (.grd)
   COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
   TSX (ro): TerraSAR-X Product
   COASP (ro): DRDC COASP SAR Processor Raster
   R (rwv): R Object Data Store
   PNM (rw+): Portable Pixmap Format (netpbm)
   DOQ1 (ro): USGS DOQ (Old Style)
   DOQ2 (ro): USGS DOQ (New Style)
   ENVI (rw+v): ENVI .hdr Labelled
   EHdr (rw+v): ESRI .hdr Labelled
   GenBin (ro): Generic Binary (.hdr Labelled)
   PAux (rw+): PCI .aux Labelled
   MFF (rw+): Vexcel MFF Raster
   MFF2 (rw+): Vexcel MFF2 (HKV) Raster
   FujiBAS (ro): Fuji BAS Scanner Image
   GSC (ro): GSC Geogrid
   FAST (ro): EOSAT FAST Format
   BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
   LAN (ro): Erdas .LAN/.GIS
   CPG (ro): Convair PolGASP
   IDA (rw+): Image Data and Analysis
   NDF (ro): NLAPS Data Format
   EIR (ro): Erdas Imagine Raw
   DIPEx (ro): DIPEx
   LCP (rov): FARSITE v.4 Landscape File (.lcp)
   RIK (ro): Swedish Grid RIK (.rik)
   USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
   GXF (ro): GeoSoft Grid Exchange Format
   HTTP (ro): HTTP Fetching Wrapper
   BAG (ro): Bathymetry Attributed Grid
   HDF5 (ro): Hierarchical Data Format Release 5
   HDF5Image (ro): HDF5 Dataset
   NWT_GRD (ro): Northwood Numeric Grid Format .grd/.tab
   NWT_GRC (ro): Northwood Classified Grid Format .grc/.tab
   ADRG (rw+v): ARC Digitized Raster Graphics
   SRP (rov): Standard Raster Product (ASRP/USRP)
   BLX (rw): Magellan topo (.blx)
   Rasterlite (rw): Rasterlite
   WKTRaster (ro): PostGIS WKT Raster driver
   SAGA (rw+v): SAGA GIS Binary Grid (.sdat)
From mdsumner at gmail.com  Fri May 21 01:56:07 2010
From: mdsumner at gmail.com (Michael Sumner)
Date: Fri May 21 01:56:10 2010
Subject: [gdal-dev] NetCDF driver in gdal_translate ignores xllcorner and 
	yllcorner?
In-Reply-To: <AANLkTikjKi2znzUYvY1_fr6ejRkX0PG-UzugFaHh4Bfr@mail.gmail.com>
References: <01744CEB055A2D46A1C0E02E68F90DCB018CC3EF5894@Exchange.aifdr.org>
	<AANLkTikjKi2znzUYvY1_fr6ejRkX0PG-UzugFaHh4Bfr@mail.gmail.com>
Message-ID: <AANLkTikVxUM9-Rvhk3eXUu2yZqGnWtf__muTr6waz1st@mail.gmail.com>

What is the result of running gdalinfo on the NetCDF file (or on the
desired subdataset)?


The y values are not regular, as you can see in this subset of the
sequence: 9165629, 9166645, 9167660, 9168676

That might be part of the issue.

Cheers, Mike.

On Fri, May 21, 2010 at 2:28 PM, Kyle Shannon <ksshannon@gmail.com> wrote:
> I have also had an issue with the geotransform being of by a factor of 1000,
> but it was a units issue.? GDAL kind of assumes CF=1.x convention, as netcdf
> is very broad in its specification.? Could you attach a small sample dataset
> to a ticket so I can take a look? Thanks.
>
> kss
>
> # ============================
> Kyle Shannon
> Physical Science Technician
> RMRS Fire Sciences Lab
> Fire, Fuels & Smoke - RWU 4405
> 5775 Highway 10 W.
> Missoula, MT 59808
> (406)829-6954
> kshannon@fs.fed.us
> # ============================
>
>
> On Thu, May 20, 2010 at 8:37 PM, Ole Nielsen <ole.nielsen@aifdr.org> wrote:
>>
>> Dear GDAL developers
>>
>> I have been using GDAL for a while with great success and really
>> appreciate
>> the toolkit.
>> As of recently, I now have the need to read NetCDF files and convert them
>> into AAIGRIDs. However, the cellsize is wrong and I don't think xllcorner
>> and yllcorner are correct either.
>>
>> I have searched this forum and I think this may be related to the thread
>> named "[gdal-dev] netcdf to geotiff and aaigrid" from 2008. However, I
>> didn't find a resolution in that thread - hence this posting.
>>
>> The content of the NetCDF file is obtained by running ncdump
>> merapi.res.nc:
>>
>> netcdf merapi.res {
>> dimensions:
>> ? ? ? ?x = 59 ;
>> ? ? ? ?y = 64 ;
>> ? ? ? ?alt = 6 ;
>> ? ? ? ?time = UNLIMITED ; // (4 currently)
>> variables:
>> ? ? ? ?float x(x) ;
>> ? ? ? ? ? ? ? ?x:units = "m" ;
>> ? ? ? ? ? ? ? ?x:description = "UTM. West-East distance" ;
>> ? ? ? ?float y(y) ;
>> ? ? ? ? ? ? ? ?y:units = "m" ;
>> ? ? ? ? ? ? ? ?y:description = "UTM. South-North distance" ;
>> .... (many lines removed here)
>> data:
>>
>> ?x = 412432.3, 413449.5, 414466.8, 415484, 416501.2, 417518.5, 418535.7,
>> ? ?419553, 420570.2, 421587.4, 422604.7, 423621.9, 424639.1, 425656.4,
>> ? ?426673.6, 427690.8, 428708.1, 429725.3, 430742.6, 431759.8, 432777,
>> ? ?433794.2, 434811.5, 435828.7, 436846, 437863.2, 438880.4, 439897.7,
>> ? ?440914.9, 441932.2, 442949.4, 443966.6, 444983.8, 446001.1, 447018.3,
>> ? ?448035.6, 449052.8, 450070, 451087.3, 452104.5, 453121.8, 454139,
>> ? ?455156.2, 456173.5, 457190.7, 458207.9, 459225.2, 460242.4, 461259.6,
>> ? ?462276.9, 463294.1, 464311.3, 465328.6, 466345.8, 467363.1, 468380.3,
>> ? ?469397.5, 470414.8, 471432 ;
>>
>> ?y = 9106709, 9107724, 9108740, 9109756, 9110772, 9111788, 9112804,
>> 9113820,
>> ? ?9114836, 9115851, 9116867, 9117883, 9118899, 9119915, 9120931, 9121947,
>> ? ?9122962, 9123978, 9124994, 9126010, 9127026, 9128042, 9129058, 9130073,
>> ? ?9131089, 9132105, 9133121, 9134137, 9135153, 9136169, 9137185, 9138200,
>> ? ?9139216, 9140232, 9141248, 9142264, 9143280, 9144296, 9145311, 9146327,
>> ? ?9147343, 9148359, 9149375, 9150391, 9151407, 9152422, 9153438, 9154454,
>> ? ?9155470, 9156486, 9157502, 9158518, 9159534, 9160549, 9161565, 9162581,
>> ? ?9163597, 9164613, 9165629, 9166645, 9167660, 9168676, 9169692, 9170708
>> ;
>>
>> ...... (lines removed)
>>
>> ?TOPOGRAPHY =
>> ?0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 51.99445,
>> ? ?124.9918, 103.0026, 170.9917, 191.9973, 183.0012, 214.9956, 215,
>> ? ?204.0016, 246.9934, 231.0025, 221.0016, 226.999, 224.0005, 249.9954,
>> ? ?211.0071, 232.9959, 242.9981, 224.0038, 231.9984, 222.0021, 240.9959,
>> ? ?271.9932, 265.0016, 284.9954, 286.9995, 289.9993, 293.999, 311.9955,
>> ? ?274.0097, 294.9946, 282.0034, 302.9944, 317.9959, 311.002, 314.9989,
>> ? ?330.9954, 338.9977,
>> ?0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 105.9893, 183.9907,
>> ? ?183.9983, 189.9981, 199.9982, 200.999, 215.9977, 224.9986, 217.0007,
>> ? ?264.993, 260.0003, 273.9973, 246.0043, 249.9992, 291.9925, 299.998,
>> ? ?300.9991, 277.004, 256.0034, 272.9964, 252.004, 246.001, 243.0005,
>> ? ?256.9968, 242.0032, 268.9941, 253.0037, 249.0013, 272.9945, 271.0006,
>> ? ?277.9984, 263.0042, 266.9991, 277.9973, 312.9904, 322.9971, 295.0079,
>> ? ?295.0002, 273.0067, 336.9814, 334.0009,
>> ?0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 96.98979, 189.9899,
>> ? ?180.001, 205.9969, 205.9997, 213.9988, 236.9966, 240.999, 255.9975,
>> ...... etc etc
>>
>> ========================
>>
>> The command I use to extract this topography variable is
>> gdal_translate -of AAIGrid ?NETCDF:"merapi.res.nc":TOPOGRAPHY
>> merapi.topography.asc
>>
>> and the header of the resulting file is
>> ncols ? ? ? ?59
>> nrows ? ? ? ?64
>> xllcorner ? ?0.000000000000
>> yllcorner ? ?-64.000000000000
>> cellsize ? ? 1.000000000000
>> NODATA_value 9.9692099683868690468e+36
>> ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0
>> 0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0 ? ? ?0
>> 51.99444
>> 9615478515625 124.9918365478515625 103.00257110595703125 170.99169921875
>> 191.9973297119140625 183.001190185546875 214.99560546875 ? ?215
>> 204.001617431640625
>> ?246.993438720703125 231.0025177001953125 ........
>>
>> ---------------------------------------------------------
>>
>> I do not understand why the cellsize is 1.000000 when it should be in the
>> order of 1000.
>> Also, I do not understand why xllcorner and yllcorner aren't obtained as
>> e.g. the minimum values of the x and y vectors.
>>
>> The version of gdal-bin is 1.5.2-3ubuntu1 and my platform is Ubuntu 9.04
>> (64
>> bit).
>>
>> By the way, trying to contour directly from the NetCDF puts all the
>> contours at the south pole. I suspect this is another manifestation of the
>> origins being ignored.
>>
>> Can anyone help please?
>>
>> Cheers and thanks
>> Ole Nielsen
>>
>>
>> --
>> View this message in context:
>> http://osgeo-org.1803224.n2.nabble.com/gdal-translate-netcdf-to-aaigrid-wrong-cellsize-xllcorner-and-yllcorner-tp5073995p5073995.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ari.jolma at gmail.com  Fri May 21 02:09:53 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri May 21 02:10:03 2010
Subject: [gdal-dev] some problem in python bindings
In-Reply-To: <C0F64B39-53DC-4050-8D14-22AF22116971@gmail.com>
References: <4BF52FB5.7030303@sarvision.nl>
	<C0F64B39-53DC-4050-8D14-22AF22116971@gmail.com>
Message-ID: <4BF623B1.7010401@gmail.com>

Howard Butler wrote:
> On May 20, 2010, at 7:48 AM, Vincent Schut wrote:
>   
>> svn and I don't remember this happening earlier), there is a problem with the python swig bindings when doing this:
>>
>> data = gdal_array.BandReadAsArray(gdal.Open(filename).GetRasterBand(1))
>>     
> This is a consequence of the Python bindings historically expecting users to manage their own memory.  If operation chaining such as the first one works, it's a happy circumstance, but don't expect it to work always or even in most cases.  As to whether or not we fix it, I think yes, we'll take a patch if it's proven to work. 
>   

The Perl bindings take care of this by maintaining within Dataset class 
a global variable (hash) BANDS, which keeps alive all dataset objects 
that have alive band objects. In the destructor of the Band class the 
entry of the band object is deleted from the above hash and thus the 
dataset object may also be released. Thus code like

$data = Geo::GDAL::Open($filename)->GetRasterBand(1)->ReadTile;

for (@$data) {
    print "@$_\n";
}

does not cause a segfault. (The above code prints out all the contents 
of the band)

I try very hard to make it impossible to cause a segfault with GDAL Perl 
bindings as they are a major inconvenience for users and developers. 
Even a bad error message is much better.

Ari

From aca at ngi.be  Fri May 21 03:00:48 2010
From: aca at ngi.be (acangi)
Date: Fri May 21 03:00:54 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
Message-ID: <1274425248420-5083043.post@n2.nabble.com>


gdalinfo doesn't give me any information about nodata, even after a 

gdal_translate -of GTiff -co "PROFILE=GeoTIFF" -co "INTERLEAVE=PIXEL" -co
"COMPRESS=JPEG" -a_nodata 0 orthocol.tif ../orthocol0.tif
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5083043.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From aca at ngi.be  Fri May 21 03:11:09 2010
From: aca at ngi.be (acangi)
Date: Fri May 21 03:11:13 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274425248420-5083043.post@n2.nabble.com>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
Message-ID: <1274425869433-5083086.post@n2.nabble.com>


Maybe it's related to the fact I was preventing creation of *.aux.xml files
with 

export GDAL_PAM_ENABLED=NO

Currently investigating
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5083086.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From christian.mueller at nvoe.at  Fri May 21 03:25:41 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Fri May 21 03:25:47 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274425869433-5083086.post@n2.nabble.com>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
Message-ID: <20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>

You are right, give this a try.

Quoting acangi <aca@ngi.be>:

>
> Maybe it's related to the fact I was preventing creation of *.aux.xml files
> with
>
> export GDAL_PAM_ENABLED=NO
>
> Currently investigating
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5083086.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From antonio.rocha at deimos.com.pt  Fri May 21 06:26:27 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Fri May 21 06:26:27 2010
Subject: [gdal-dev] Producing GML files from a Shapefile
Message-ID: <4BF65FD3.9080603@deimos.com.pt>

Greetings

I have a standard ESRI Shapefile and I want to produce a GML file. Is it 
possible using OGR? (I know that it's possilbe to produce KML)

Thanks

Best regards,
Antonio


__________ Information from ESET NOD32 Antivirus, version of virus signature database 5134 (20100521) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From tylerickson at gmail.com  Fri May 21 06:44:21 2010
From: tylerickson at gmail.com (Tyler Erickson)
Date: Fri May 21 06:44:24 2010
Subject: [gdal-dev] Producing GML files from a Shapefile
In-Reply-To: <4BF65FD3.9080603@deimos.com.pt>
References: <4BF65FD3.9080603@deimos.com.pt>
Message-ID: <AANLkTil_o6OTYhEPQaIFDpIYIs417owrCk2G0jgnkDtr@mail.gmail.com>

ogr2ogr -f "GML" ~/temp/110m_land.gml ~/temp/110m_land.shp

More info: http://www.gdal.org/ogr/drv_gml.html

- Tyler

2010/5/21 Ant?nio Rocha <antonio.rocha@deimos.com.pt>

> Greetings
>
> I have a standard ESRI Shapefile and I want to produce a GML file. Is it
> possible using OGR? (I know that it's possilbe to produce KML)
>
> Thanks
>
> Best regards,
> Antonio
>
>
> __________ Information from ESET NOD32 Antivirus, version of virus
> signature database 5134 (20100521) __________
>
> The message was checked by ESET NOD32 Antivirus.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100521/b2bac180/attachment.html
From dboyd at data-tactics.com  Fri May 21 07:39:49 2010
From: dboyd at data-tactics.com (David Boyd)
Date: Fri May 21 07:57:03 2010
Subject: [gdal-dev] NITF 2.1 GDAL 1.7.2 and FWTools 2.4.7 Translation
	Errors
In-Reply-To: <4BF61BAA.7040308@gmail.com>
References: <4BF61BAA.7040308@gmail.com>
Message-ID: <4BF67105.5000801@data-tactics.com>

Doug:
   I have seen similar issues on NITF with earlier versions of GDAL and
frankly had hoped they were fixed in 1.7.2.

Most of the issues I have seen were with the GDAL components 
incorporated into Geoserver.

My images are all Compressed ADRG from NGA.

I will be very interested to hear of any solution you uncover.


Doug White wrote:
> Hi,
> 
> I have been trying to translate a DigitalGlobe GeoEye-1 NITF image to 
> GeoTiff or JP2 with GDAL 1.7.2 compiled with JP2ECW on x86 Linux and 
> also with FWTools 2.4.7 (raises a unknown software exception).
> 
> gdalinfo will read the file successfully. I can display the file with 
> PCI Geomatics on a Windows platform.
> 
> However we consistently get a seg-fault on attempts to translate a 
> number of NITF images. It doesn't seem to matter what creation options 
> are used or what output format is chosen.
> 
> gdal_translate -of gtiff -co COMPRESS=LZW -sds test1.ntf out.tif
> Input file size is 35840, 27648
> 0...10...20...30...40...50...60...Segmentation fault
> 
> Output from gdalinfo is below along with supported formats.
> 
> Any assistance would be appreciate as I have potentially will have a 
> large number of similar images that must be transformed to either 
> GeoTiff or JP2 formats.
> 
> Regards,
> 
> Doug White.
> 
> -- 
> 
> gdalinfo test1.ntf
> Driver: NITF/National Imagery Transmission Format
> Files: test1.ntf
> Size is 35840, 27648
> Coordinate System is:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.257223563,
>             AUTHORITY["EPSG","7030"]],
>         TOWGS84[0,0,0,0,0,0,0],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0,
>         AUTHORITY["EPSG","8901"]],
>     UNIT["degree",0.0174532925199433,
>         AUTHORITY["EPSG","9108"]],
>     AUTHORITY["EPSG","4326"]]
> GeoTransform =
>   151.8181220669296, 5.871164560022267e-06, -5.023651349735254e-09
>   -20.99465038292781, 8.719551326766783e-07, -5.661655072079407e-06
> Metadata:
>   NITF_FHDR=NITF02.10
>   NITF_CLEVEL=06
>   NITF_STYPE=BF01
>   NITF_OSTAID=DG
>   NITF_FDT=20080105031559
>   NITF_FTITLE=WV01_SENSOR:2008-01-04T23:56:28.358625Z
>   NITF_FSCLAS=U
>   NITF_FSCLSY=US
>   NITF_FSCODE=
>   NITF_FSCTLH=0
>   NITF_FSREL=UNCLASSIFIED
>   NITF_USE00A_ANGLE_TO_NORTH=270
>   NITF_USE00A_MEAN_GSD=025.0
>   NITF_USE00A_DYNAMIC_RANGE=02047
>   NITF_USE00A_OBL_ANG=29.02
>   NITF_STDIDC_ACQUISITION_DATE=20080104235628
>   NITF_STDIDC_MISSION=WV01
>   NITF_STDIDC_PASS=16
>   NITF_STDIDC_OP_NUM=000
>   NITF_STDIDC_START_SEGMENT=AA
>   NITF_STDIDC_REPRO_NUM=00
>   NITF_STDIDC_REPLAY_REGEN=000
>   NITF_STDIDC_START_COLUMN=001
>   NITF_STDIDC_START_ROW=00001
>   NITF_STDIDC_END_SEGMENT=AA
>   NITF_STDIDC_END_COLUMN=035
>   NITF_STDIDC_END_ROW=00027
>   NITF_STDIDC_COUNTRY=YY
>   NITF_STDIDC_WAC=
>   NITF_STDIDC_LOCATION=2059S15155E
>   NITF_USE00A_ROLL_ANG=-19.90
>   NITF_USE00A_N_REF=00
>   NITF_USE00A_REV_NUM=01648
>   NITF_USE00A_N_SEG=001
>   NITF_USE00A_MAX_LP_SEG=027024
>   NITF_USE00A_SUN_EL=+62.0
>   NITF_USE00A_SUN_AZ=099.3
>   NITF_FSDCTP=
>   NITF_FSDCDT=
>   NITF_FSDCXM=
>   NITF_FSDG=
>   NITF_FSDGDT=
>   NITF_FSCLTX=
>   NITF_FSCATP=
>   NITF_FSCAUT=
>   NITF_FSCRSN=
>   NITF_FSSRDT=
>   NITF_FSCTLN=
>   NITF_FSCOP=00000
>   NITF_FSCPYS=00000
>   NITF_ENCRYP=0
>   NITF_FBKGC=126,126,126
>   NITF_ONAME=DigitalGlobe
>   NITF_OPHONE=+1(800)496-1225
>   NITF_IID1=P101B5EB00
>   NITF_IDATIM=20080104235628
>   NITF_TGTID=
>   NITF_IID2=04JAN08WV011600008JAN04235628-P1BS-005692925010_02_P001
>   NITF_ISCLAS=U
>   NITF_ISCLSY=US
>   NITF_ISCODE=
>   NITF_ISCTLH=0
>   NITF_ISREL=UNCLASSIFIED
>   NITF_ISDCTP=
>   NITF_ISDCDT=
>   NITF_ISDCXM=
>   NITF_ISDG=
>   NITF_ISDGDT=
>   NITF_ISCLTX=
>   NITF_ISCATP=
>   NITF_ISCAUT=
>   NITF_ISCRSN=
>   NITF_ISSRDT=
>   NITF_ISCTLN=
>   NITF_ISORCE=DigitalGlobe
>   NITF_PVTYPE=INT
>   NITF_IREP=MONO
>   NITF_ICAT=VIS
>   NITF_ABPP=11
>   NITF_PJUST=R
>   NITF_IMAGE_COMMENTS=The imagery and metadata data on this media is the 
> property of                  DigitalGlobe and is licensed for use only. 
> All use must be in                   accordance with the terms of the 
> license that accompanies the media.            If the license is 
> purchased under contract NMA 301 99 D003, use is              in 
> accordance with the license therein
>   NITF_IC=C8
>   NITF_IMODE=B
>   NITF_IDLVL=1
>   NITF_IALVL=0
>   NITF_ILOC_ROW=0
>   NITF_ILOC_COLUMN=0
>   NITF_CCS_ROW=0
>   NITF_CCS_COLUMN=0
>   NITF_IMAG=1.0
> Image Structure Metadata:
>   COMPRESSION=JPEG2000
> Subdatasets:
>   SUBDATASET_1_NAME=NITF_IM:0:test1.ntf
>   SUBDATASET_1_DESC=Image 1 of test1.ntf
>   SUBDATASET_2_NAME=NITF_IM:1:test1.ntf
>   SUBDATASET_2_DESC=Image 2 of test1.ntf
> RPC Metadata:
>   LINE_OFF=13513
>   LINE_SCALE=13856
>   SAMP_OFF=17568
>   SAMP_SCALE=17880
>   LONG_OFF=151.9233
>   LONG_SCALE=0.1053
>   LAT_OFF=-21.0572
>   LAT_SCALE=0.094
>   HEIGHT_OFF=56
>   HEIGHT_SCALE=500
>   LINE_NUM_COEFF=-0.0004377388 0.1957893 -1.171648 0.02476541 
> 0.0004988891 1.071111e-06 -7.723183e-05 -0.0001365399 0.0001504459 
> -3.044538e-07 -5.480692e-07 2.582038e-06 2.00101e-05 3.445864e-06 
> -1.734241e-05 -7.362311e-05 -2.064705e-05 3.295859e-07 3.97851e-06 
> 2.958957e-07
>   LINE_DEN_COEFF=1 0.0006958351 -0.0004343016 -7.94123e-05 3.205817e-05 
> -6.129374e-07 2.904883e-06 1.144677e-05 -6.601517e-05 1.76217e-05 
> 2.432827e-07 1.147129e-07 3.2925e-07 3.846231e-08 -8.681516e-07 
> 9.004578e-06 -1.561498e-07 0 -1.282879e-06 3.197183e-07
>   SAMP_NUM_COEFF=-0.005897845 0.9845455 -0.0008736188 -0.01633278 
> -0.0005572224 0.0004192778 -0.0001797468 0.006762 3.550668e-05 
> -2.729457e-06 -2.47284e-06 2.339311e-05 -1.283381e-05 -5.962048e-06 
> 4.604063e-05 8.796591e-06 1.358451e-08 5.049965e-06 -1.806894e-08 0
>   SAMP_DEN_COEFF=1 -0.0008445728 0.000539573 -0.0005092088 -3.422971e-05 
> -3.243685e-06 1.062892e-06 5.948981e-06 1.065874e-05 -6.439563e-06 
> -5.457996e-08 0 -3.445098e-07 3.646394e-08 -7.223879e-07 1.128396e-06 0 
> -3.12891e-08 -4.239271e-08 0
>   MIN_LONG=151.87065
>   MAX_LONG=151.97595
>   MIN_LAT=-21.1042
>   MAX_LAT=-21.0102
> Corner Coordinates:
> Upper Left  ( 151.8181221, -20.9946504) (151d49'5.24"E, 20d59'40.74"S)
> Lower Left  ( 151.8179832, -21.1511838) (151d49'4.74"E, 21d 9'4.26"S)
> Upper Right ( 152.0285446, -20.9633995) (152d 1'42.76"E, 20d57'48.24"S)
> Lower Right ( 152.0284057, -21.1199330) (152d 1'42.26"E, 21d 7'11.76"S)
> Center      ( 151.9232639, -21.0572917) (151d55'23.75"E, 21d 3'26.25"S)
> Band 1 Block=35840x1 Type=UInt16, ColorInterp=Gray
>   Overviews: arbitrary
> 
> 
> gdal_translate --formats
> Supported Formats:
>   VRT (rw+): Virtual Raster
>   GTiff (rw+v): GeoTIFF
>   NITF (rw+v): National Imagery Transmission Format
>   RPFTOC (ro): Raster Product Format TOC format
>   HFA (rw+v): Erdas Imagine Images (.img)
>   SAR_CEOS (ro): CEOS SAR Image
>   CEOS (ro): CEOS Image
>   JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
>   GFF (rov): Ground-based SAR Applications Testbed File Format (.gff)
>   ELAS (rw+): ELAS
>   AIG (ro): Arc/Info Binary Grid
>   AAIGrid (rwv): Arc/Info ASCII Grid
>   SDTS (ro): SDTS Raster
>   OGDI (ro): OGDI Bridge
>   DTED (rwv): DTED Elevation Raster
>   PNG (rwv): Portable Network Graphics
>   JPEG (rwv): JPEG JFIF
>   MEM (rw+): In Memory Raster
>   JDEM (ro): Japanese DEM (.mem)
>   GIF (rwv): Graphics Interchange Format (.gif)
>   BIGGIF (rov): Graphics Interchange Format (.gif)
>   ESAT (ro): Envisat Image Format
>   FITS (rw+): Flexible Image Transport System
>   BSB (ro): Maptech BSB Nautical Charts
>   XPM (rw): X11 PixMap Format
>   BMP (rw+v): MS Windows Device Independent Bitmap
>   DIMAP (ro): SPOT DIMAP
>   AirSAR (ro): AirSAR Polarimetric Image
>   RS2 (ro): RadarSat 2 XML Product
>   PCIDSK (rw+v): PCIDSK Database File
>   PCRaster (rw): PCRaster Raster File
>   ILWIS (rw+v): ILWIS Raster Map
>   SGI (rw+): SGI Image File Format 1.0
>   SRTMHGT (rwv): SRTMHGT File Format
>   Leveller (rw+): Leveller heightfield
>   Terragen (rw+): Terragen heightfield
>   GMT (rw): GMT NetCDF Grid Format
>   netCDF (rw): Network Common Data Format
>   HDF4 (ro): Hierarchical Data Format Release 4
>   HDF4Image (rw+): HDF4 Dataset
>   ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
>   ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
>   PDS (ro): NASA Planetary Data System
>   TIL (ro): EarthWatch .TIL
>   ERS (rw+): ERMapper .ers Labelled
>   ECW (rw): ERMapper Compressed Wavelets
>   JP2ECW (rw+): ERMapper JPEG2000
>   JPEG2000 (rwv): JPEG-2000 part 1 (ISO/IEC 15444-1)
>   L1B (ro): NOAA Polar Orbiter Level 1b Data Set
>   FIT (rw): FIT Image
>   GRIB (ro): GRIdded Binary (.grb)
>   MrSID (ro): Multi-resolution Seamless Image Database (MrSID)
>   RMF (rw+): Raster Matrix Format
>   WCS (ro): OGC Web Coverage Service
>   WMS (ro): OGC Web Map Service
>   MSGN (ro): EUMETSAT Archive native (.nat)
>   RST (rw+): Idrisi Raster A.1
>   INGR (rw+): Intergraph Raster
>   GSAG (rw): Golden Software ASCII Grid (.grd)
>   GSBG (rw+): Golden Software Binary Grid (.grd)
>   GS7BG (ro): Golden Software 7 Binary Grid (.grd)
>   COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
>   TSX (ro): TerraSAR-X Product
>   COASP (ro): DRDC COASP SAR Processor Raster
>   R (rwv): R Object Data Store
>   PNM (rw+): Portable Pixmap Format (netpbm)
>   DOQ1 (ro): USGS DOQ (Old Style)
>   DOQ2 (ro): USGS DOQ (New Style)
>   ENVI (rw+v): ENVI .hdr Labelled
>   EHdr (rw+v): ESRI .hdr Labelled
>   GenBin (ro): Generic Binary (.hdr Labelled)
>   PAux (rw+): PCI .aux Labelled
>   MFF (rw+): Vexcel MFF Raster
>   MFF2 (rw+): Vexcel MFF2 (HKV) Raster
>   FujiBAS (ro): Fuji BAS Scanner Image
>   GSC (ro): GSC Geogrid
>   FAST (ro): EOSAT FAST Format
>   BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
>   LAN (ro): Erdas .LAN/.GIS
>   CPG (ro): Convair PolGASP
>   IDA (rw+): Image Data and Analysis
>   NDF (ro): NLAPS Data Format
>   EIR (ro): Erdas Imagine Raw
>   DIPEx (ro): DIPEx
>   LCP (rov): FARSITE v.4 Landscape File (.lcp)
>   RIK (ro): Swedish Grid RIK (.rik)
>   USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
>   GXF (ro): GeoSoft Grid Exchange Format
>   HTTP (ro): HTTP Fetching Wrapper
>   BAG (ro): Bathymetry Attributed Grid
>   HDF5 (ro): Hierarchical Data Format Release 5
>   HDF5Image (ro): HDF5 Dataset
>   NWT_GRD (ro): Northwood Numeric Grid Format .grd/.tab
>   NWT_GRC (ro): Northwood Classified Grid Format .grc/.tab
>   ADRG (rw+v): ARC Digitized Raster Graphics
>   SRP (rov): Standard Raster Product (ASRP/USRP)
>   BLX (rw): Magellan topo (.blx)
>   Rasterlite (rw): Rasterlite
>   WKTRaster (ro): PostGIS WKT Raster driver
>   SAGA (rw+v): SAGA GIS Binary Grid (.sdat)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 

-- 
========= mailto:dboyd@data-tactics.com ============
David W. Boyd
Director, Engineering, Research and Development
Data Tactics Corporation
7901 Jones Branch, Suite 240
Mclean, VA 22102
office:   +1-703-506-3735, ext 308
fax:     +1-703-506-6703
cell:     +1-703-402-7908
============== http://www.data-tactics.com/ ============


The information contained in this message may be privileged
and/or confidential and protected from disclosure.
If the reader of this message is not the intended recipient
or an employee or agent responsible for delivering this message
to the intended recipient, you are hereby notified that any
dissemination, distribution or copying of this communication
is strictly prohibited.  If you have received this communication
in error, please notify the sender immediately by replying to
this message and deleting the material from any computer.


From hmorkemo at gmail.com  Fri May 21 07:59:10 2010
From: hmorkemo at gmail.com (Helge Morkemo)
Date: Fri May 21 08:18:49 2010
Subject: [gdal-dev] BuildOverviews fails gor Jpeg-compressed TIFF
Message-ID: <AANLkTikIaey8SMk7ePDq7-0hNLfVXJfwJkk6Aay3k3tE@mail.gmail.com>

Hi all!

I have a problem when producing overviews in a jpeg compressed tiff.with
Gdal 1.7.2, Windows 7

After my basic image is produced, with the GeoTIFF driver, I call
BuildOverviews("GAUSS",overviewlist,nothing,nothing)
overviewlist is 2,4,8,16,32,64,128
(It's a VB.NET 2010 app.)
I get this message: GetBlockRef failed at X block offset 1, Y block offset 0
It's the same in my program as in GdalOverviews.
The basic image is made line by line with RGB bands.

The image is 7588 by 5492 pixels.
I use PHOTOMETRIC=YCBCR,PROFILE=GEOTIFF,COMPRESS=JPEG,TILED=YES
If I add BIGTIFF=YES when creating it, the overviews generation seem to
work, but the colors are all messed up in the overviews

Hints, anyone?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100521/46d7d20b/attachment.html
From doug.royce.white at gmail.com  Fri May 21 08:21:55 2010
From: doug.royce.white at gmail.com (Doug White)
Date: Fri May 21 08:22:12 2010
Subject: [gdal-dev] NITF 2.1 GDAL 1.7.2 and FWTools 2.4.7 Translation
	Errors
In-Reply-To: <4BF67105.5000801@data-tactics.com>
References: <4BF61BAA.7040308@gmail.com> <4BF67105.5000801@data-tactics.com>
Message-ID: <4BF67AE3.7060400@gmail.com>

Ok.  A little time away from the office seems has helped :-)

Have now translated 4 JPEG2000 compressed images to geotiff with any 
problems.

The following patch for libecwj2-3.3 has fixed the problem. See...

http://trac.osgeo.org/gdal/wiki/ECW...
http://trac.osgeo.org/gdal/ticket/3366

I would very much like to see this flow through to FWTools for use on 
Windows systems at work.

Doug.


On 05/21/2010 09:39 PM, David Boyd wrote:
> Doug:
>   I have seen similar issues on NITF with earlier versions of GDAL and
> frankly had hoped they were fixed in 1.7.2.
>
> Most of the issues I have seen were with the GDAL components 
> incorporated into Geoserver.
>
> My images are all Compressed ADRG from NGA.
>
> I will be very interested to hear of any solution you uncover.
>
>
> Doug White wrote:
>> Hi,
>>
>> I have been trying to translate a DigitalGlobe GeoEye-1 NITF image to 
>> GeoTiff or JP2 with GDAL 1.7.2 compiled with JP2ECW on x86 Linux and 
>> also with FWTools 2.4.7 (raises a unknown software exception).
>>
>> gdalinfo will read the file successfully. I can display the file with 
>> PCI Geomatics on a Windows platform.
>>
>> However we consistently get a seg-fault on attempts to translate a 
>> number of NITF images. It doesn't seem to matter what creation 
>> options are used or what output format is chosen.
>>
>> gdal_translate -of gtiff -co COMPRESS=LZW -sds test1.ntf out.tif
>> Input file size is 35840, 27648
>> 0...10...20...30...40...50...60...Segmentation fault
>>
>> Output from gdalinfo is below along with supported formats.
>>
>> Any assistance would be appreciate as I have potentially will have a 
>> large number of similar images that must be transformed to either 
>> GeoTiff or JP2 formats.
>>
>> Regards,
>>
>> Doug White.
>>
>> -- 
>>
>> gdalinfo test1.ntf
>> Driver: NITF/National Imagery Transmission Format
>> Files: test1.ntf
>> Size is 35840, 27648
>> Coordinate System is:
>> GEOGCS["WGS 84",
>>     DATUM["WGS_1984",
>>         SPHEROID["WGS 84",6378137,298.257223563,
>>             AUTHORITY["EPSG","7030"]],
>>         TOWGS84[0,0,0,0,0,0,0],
>>         AUTHORITY["EPSG","6326"]],
>>     PRIMEM["Greenwich",0,
>>         AUTHORITY["EPSG","8901"]],
>>     UNIT["degree",0.0174532925199433,
>>         AUTHORITY["EPSG","9108"]],
>>     AUTHORITY["EPSG","4326"]]
>> GeoTransform =
>>   151.8181220669296, 5.871164560022267e-06, -5.023651349735254e-09
>>   -20.99465038292781, 8.719551326766783e-07, -5.661655072079407e-06
>> Metadata:
>>   NITF_FHDR=NITF02.10
>>   NITF_CLEVEL=06
>>   NITF_STYPE=BF01
>>   NITF_OSTAID=DG
>>   NITF_FDT=20080105031559
>>   NITF_FTITLE=WV01_SENSOR:2008-01-04T23:56:28.358625Z
>>   NITF_FSCLAS=U
>>   NITF_FSCLSY=US
>>   NITF_FSCODE=
>>   NITF_FSCTLH=0
>>   NITF_FSREL=UNCLASSIFIED
>>   NITF_USE00A_ANGLE_TO_NORTH=270
>>   NITF_USE00A_MEAN_GSD=025.0
>>   NITF_USE00A_DYNAMIC_RANGE=02047
>>   NITF_USE00A_OBL_ANG=29.02
>>   NITF_STDIDC_ACQUISITION_DATE=20080104235628
>>   NITF_STDIDC_MISSION=WV01
>>   NITF_STDIDC_PASS=16
>>   NITF_STDIDC_OP_NUM=000
>>   NITF_STDIDC_START_SEGMENT=AA
>>   NITF_STDIDC_REPRO_NUM=00
>>   NITF_STDIDC_REPLAY_REGEN=000
>>   NITF_STDIDC_START_COLUMN=001
>>   NITF_STDIDC_START_ROW=00001
>>   NITF_STDIDC_END_SEGMENT=AA
>>   NITF_STDIDC_END_COLUMN=035
>>   NITF_STDIDC_END_ROW=00027
>>   NITF_STDIDC_COUNTRY=YY
>>   NITF_STDIDC_WAC=
>>   NITF_STDIDC_LOCATION=2059S15155E
>>   NITF_USE00A_ROLL_ANG=-19.90
>>   NITF_USE00A_N_REF=00
>>   NITF_USE00A_REV_NUM=01648
>>   NITF_USE00A_N_SEG=001
>>   NITF_USE00A_MAX_LP_SEG=027024
>>   NITF_USE00A_SUN_EL=+62.0
>>   NITF_USE00A_SUN_AZ=099.3
>>   NITF_FSDCTP=
>>   NITF_FSDCDT=
>>   NITF_FSDCXM=
>>   NITF_FSDG=
>>   NITF_FSDGDT=
>>   NITF_FSCLTX=
>>   NITF_FSCATP=
>>   NITF_FSCAUT=
>>   NITF_FSCRSN=
>>   NITF_FSSRDT=
>>   NITF_FSCTLN=
>>   NITF_FSCOP=00000
>>   NITF_FSCPYS=00000
>>   NITF_ENCRYP=0
>>   NITF_FBKGC=126,126,126
>>   NITF_ONAME=DigitalGlobe
>>   NITF_OPHONE=+1(800)496-1225
>>   NITF_IID1=P101B5EB00
>>   NITF_IDATIM=20080104235628
>>   NITF_TGTID=
>>   NITF_IID2=04JAN08WV011600008JAN04235628-P1BS-005692925010_02_P001
>>   NITF_ISCLAS=U
>>   NITF_ISCLSY=US
>>   NITF_ISCODE=
>>   NITF_ISCTLH=0
>>   NITF_ISREL=UNCLASSIFIED
>>   NITF_ISDCTP=
>>   NITF_ISDCDT=
>>   NITF_ISDCXM=
>>   NITF_ISDG=
>>   NITF_ISDGDT=
>>   NITF_ISCLTX=
>>   NITF_ISCATP=
>>   NITF_ISCAUT=
>>   NITF_ISCRSN=
>>   NITF_ISSRDT=
>>   NITF_ISCTLN=
>>   NITF_ISORCE=DigitalGlobe
>>   NITF_PVTYPE=INT
>>   NITF_IREP=MONO
>>   NITF_ICAT=VIS
>>   NITF_ABPP=11
>>   NITF_PJUST=R
>>   NITF_IMAGE_COMMENTS=The imagery and metadata data on this media is 
>> the property of                  DigitalGlobe and is licensed for use 
>> only. All use must be in                   accordance with the terms 
>> of the license that accompanies the media.            If the license 
>> is purchased under contract NMA 301 99 D003, use is              in 
>> accordance with the license therein
>>   NITF_IC=C8
>>   NITF_IMODE=B
>>   NITF_IDLVL=1
>>   NITF_IALVL=0
>>   NITF_ILOC_ROW=0
>>   NITF_ILOC_COLUMN=0
>>   NITF_CCS_ROW=0
>>   NITF_CCS_COLUMN=0
>>   NITF_IMAG=1.0
>> Image Structure Metadata:
>>   COMPRESSION=JPEG2000
>> Subdatasets:
>>   SUBDATASET_1_NAME=NITF_IM:0:test1.ntf
>>   SUBDATASET_1_DESC=Image 1 of test1.ntf
>>   SUBDATASET_2_NAME=NITF_IM:1:test1.ntf
>>   SUBDATASET_2_DESC=Image 2 of test1.ntf
>> RPC Metadata:
>>   LINE_OFF=13513
>>   LINE_SCALE=13856
>>   SAMP_OFF=17568
>>   SAMP_SCALE=17880
>>   LONG_OFF=151.9233
>>   LONG_SCALE=0.1053
>>   LAT_OFF=-21.0572
>>   LAT_SCALE=0.094
>>   HEIGHT_OFF=56
>>   HEIGHT_SCALE=500
>>   LINE_NUM_COEFF=-0.0004377388 0.1957893 -1.171648 0.02476541 
>> 0.0004988891 1.071111e-06 -7.723183e-05 -0.0001365399 0.0001504459 
>> -3.044538e-07 -5.480692e-07 2.582038e-06 2.00101e-05 3.445864e-06 
>> -1.734241e-05 -7.362311e-05 -2.064705e-05 3.295859e-07 3.97851e-06 
>> 2.958957e-07
>>   LINE_DEN_COEFF=1 0.0006958351 -0.0004343016 -7.94123e-05 
>> 3.205817e-05 -6.129374e-07 2.904883e-06 1.144677e-05 -6.601517e-05 
>> 1.76217e-05 2.432827e-07 1.147129e-07 3.2925e-07 3.846231e-08 
>> -8.681516e-07 9.004578e-06 -1.561498e-07 0 -1.282879e-06 3.197183e-07
>>   SAMP_NUM_COEFF=-0.005897845 0.9845455 -0.0008736188 -0.01633278 
>> -0.0005572224 0.0004192778 -0.0001797468 0.006762 3.550668e-05 
>> -2.729457e-06 -2.47284e-06 2.339311e-05 -1.283381e-05 -5.962048e-06 
>> 4.604063e-05 8.796591e-06 1.358451e-08 5.049965e-06 -1.806894e-08 0
>>   SAMP_DEN_COEFF=1 -0.0008445728 0.000539573 -0.0005092088 
>> -3.422971e-05 -3.243685e-06 1.062892e-06 5.948981e-06 1.065874e-05 
>> -6.439563e-06 -5.457996e-08 0 -3.445098e-07 3.646394e-08 
>> -7.223879e-07 1.128396e-06 0 -3.12891e-08 -4.239271e-08 0
>>   MIN_LONG=151.87065
>>   MAX_LONG=151.97595
>>   MIN_LAT=-21.1042
>>   MAX_LAT=-21.0102
>> Corner Coordinates:
>> Upper Left  ( 151.8181221, -20.9946504) (151d49'5.24"E, 20d59'40.74"S)
>> Lower Left  ( 151.8179832, -21.1511838) (151d49'4.74"E, 21d 9'4.26"S)
>> Upper Right ( 152.0285446, -20.9633995) (152d 1'42.76"E, 20d57'48.24"S)
>> Lower Right ( 152.0284057, -21.1199330) (152d 1'42.26"E, 21d 7'11.76"S)
>> Center      ( 151.9232639, -21.0572917) (151d55'23.75"E, 21d 3'26.25"S)
>> Band 1 Block=35840x1 Type=UInt16, ColorInterp=Gray
>>   Overviews: arbitrary
>>
>>
>> gdal_translate --formats
>> Supported Formats:
>>   VRT (rw+): Virtual Raster
>>   GTiff (rw+v): GeoTIFF
>>   NITF (rw+v): National Imagery Transmission Format
>>   RPFTOC (ro): Raster Product Format TOC format
>>   HFA (rw+v): Erdas Imagine Images (.img)
>>   SAR_CEOS (ro): CEOS SAR Image
>>   CEOS (ro): CEOS Image
>>   JAXAPALSAR (ro): JAXA PALSAR Product Reader (Level 1.1/1.5)
>>   GFF (rov): Ground-based SAR Applications Testbed File Format (.gff)
>>   ELAS (rw+): ELAS
>>   AIG (ro): Arc/Info Binary Grid
>>   AAIGrid (rwv): Arc/Info ASCII Grid
>>   SDTS (ro): SDTS Raster
>>   OGDI (ro): OGDI Bridge
>>   DTED (rwv): DTED Elevation Raster
>>   PNG (rwv): Portable Network Graphics
>>   JPEG (rwv): JPEG JFIF
>>   MEM (rw+): In Memory Raster
>>   JDEM (ro): Japanese DEM (.mem)
>>   GIF (rwv): Graphics Interchange Format (.gif)
>>   BIGGIF (rov): Graphics Interchange Format (.gif)
>>   ESAT (ro): Envisat Image Format
>>   FITS (rw+): Flexible Image Transport System
>>   BSB (ro): Maptech BSB Nautical Charts
>>   XPM (rw): X11 PixMap Format
>>   BMP (rw+v): MS Windows Device Independent Bitmap
>>   DIMAP (ro): SPOT DIMAP
>>   AirSAR (ro): AirSAR Polarimetric Image
>>   RS2 (ro): RadarSat 2 XML Product
>>   PCIDSK (rw+v): PCIDSK Database File
>>   PCRaster (rw): PCRaster Raster File
>>   ILWIS (rw+v): ILWIS Raster Map
>>   SGI (rw+): SGI Image File Format 1.0
>>   SRTMHGT (rwv): SRTMHGT File Format
>>   Leveller (rw+): Leveller heightfield
>>   Terragen (rw+): Terragen heightfield
>>   GMT (rw): GMT NetCDF Grid Format
>>   netCDF (rw): Network Common Data Format
>>   HDF4 (ro): Hierarchical Data Format Release 4
>>   HDF4Image (rw+): HDF4 Dataset
>>   ISIS3 (ro): USGS Astrogeology ISIS cube (Version 3)
>>   ISIS2 (ro): USGS Astrogeology ISIS cube (Version 2)
>>   PDS (ro): NASA Planetary Data System
>>   TIL (ro): EarthWatch .TIL
>>   ERS (rw+): ERMapper .ers Labelled
>>   ECW (rw): ERMapper Compressed Wavelets
>>   JP2ECW (rw+): ERMapper JPEG2000
>>   JPEG2000 (rwv): JPEG-2000 part 1 (ISO/IEC 15444-1)
>>   L1B (ro): NOAA Polar Orbiter Level 1b Data Set
>>   FIT (rw): FIT Image
>>   GRIB (ro): GRIdded Binary (.grb)
>>   MrSID (ro): Multi-resolution Seamless Image Database (MrSID)
>>   RMF (rw+): Raster Matrix Format
>>   WCS (ro): OGC Web Coverage Service
>>   WMS (ro): OGC Web Map Service
>>   MSGN (ro): EUMETSAT Archive native (.nat)
>>   RST (rw+): Idrisi Raster A.1
>>   INGR (rw+): Intergraph Raster
>>   GSAG (rw): Golden Software ASCII Grid (.grd)
>>   GSBG (rw+): Golden Software Binary Grid (.grd)
>>   GS7BG (ro): Golden Software 7 Binary Grid (.grd)
>>   COSAR (ro): COSAR Annotated Binary Matrix (TerraSAR-X)
>>   TSX (ro): TerraSAR-X Product
>>   COASP (ro): DRDC COASP SAR Processor Raster
>>   R (rwv): R Object Data Store
>>   PNM (rw+): Portable Pixmap Format (netpbm)
>>   DOQ1 (ro): USGS DOQ (Old Style)
>>   DOQ2 (ro): USGS DOQ (New Style)
>>   ENVI (rw+v): ENVI .hdr Labelled
>>   EHdr (rw+v): ESRI .hdr Labelled
>>   GenBin (ro): Generic Binary (.hdr Labelled)
>>   PAux (rw+): PCI .aux Labelled
>>   MFF (rw+): Vexcel MFF Raster
>>   MFF2 (rw+): Vexcel MFF2 (HKV) Raster
>>   FujiBAS (ro): Fuji BAS Scanner Image
>>   GSC (ro): GSC Geogrid
>>   FAST (ro): EOSAT FAST Format
>>   BT (rw+): VTP .bt (Binary Terrain) 1.3 Format
>>   LAN (ro): Erdas .LAN/.GIS
>>   CPG (ro): Convair PolGASP
>>   IDA (rw+): Image Data and Analysis
>>   NDF (ro): NLAPS Data Format
>>   EIR (ro): Erdas Imagine Raw
>>   DIPEx (ro): DIPEx
>>   LCP (rov): FARSITE v.4 Landscape File (.lcp)
>>   RIK (ro): Swedish Grid RIK (.rik)
>>   USGSDEM (rw): USGS Optional ASCII DEM (and CDED)
>>   GXF (ro): GeoSoft Grid Exchange Format
>>   HTTP (ro): HTTP Fetching Wrapper
>>   BAG (ro): Bathymetry Attributed Grid
>>   HDF5 (ro): Hierarchical Data Format Release 5
>>   HDF5Image (ro): HDF5 Dataset
>>   NWT_GRD (ro): Northwood Numeric Grid Format .grd/.tab
>>   NWT_GRC (ro): Northwood Classified Grid Format .grc/.tab
>>   ADRG (rw+v): ARC Digitized Raster Graphics
>>   SRP (rov): Standard Raster Product (ASRP/USRP)
>>   BLX (rw): Magellan topo (.blx)
>>   Rasterlite (rw): Rasterlite
>>   WKTRaster (ro): PostGIS WKT Raster driver
>>   SAGA (rw+v): SAGA GIS Binary Grid (.sdat)
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>

From aca at ngi.be  Fri May 21 09:27:59 2010
From: aca at ngi.be (acangi)
Date: Fri May 21 09:28:03 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
Message-ID: <1274448479848-5084204.post@n2.nabble.com>


After removing the GDAL_PAM_ENABLED=NO, I made a 
gdal_translate -a_nodata 0 
on the files, this generated the aux.xml files, and gdalinfo shows now the
nodata values :
Band 1 Block=4000x16 Type=Byte, ColorInterp=Red
  NoData Value=0
Band 2 Block=4000x16 Type=Byte, ColorInterp=Green
  NoData Value=0
Band 3 Block=4000x16 Type=Byte, ColorInterp=Blue
  NoData Value=0
gdal_retile is currently running, but it doesn't produce aux.xml files.
gdalinfo doesn't show any nodata value on the files generated by
gdal_retile. So I guess when the next level will start computing, the same
problem will reproduce. I should see the result monday.

Alain
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5084204.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From christian.mueller at nvoe.at  Fri May 21 09:50:35 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Fri May 21 09:50:42 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274448479848-5084204.post@n2.nabble.com>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
Message-ID: <20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>

AFAIK at the time I did the gdal_retile there was no concept of aux.xml files.

Anyways, the utility does no image operation itself, we will see on Monday.



Quoting acangi <aca@ngi.be>:

>
> After removing the GDAL_PAM_ENABLED=NO, I made a
> gdal_translate -a_nodata 0
> on the files, this generated the aux.xml files, and gdalinfo shows now the
> nodata values :
> Band 1 Block=4000x16 Type=Byte, ColorInterp=Red
>   NoData Value=0
> Band 2 Block=4000x16 Type=Byte, ColorInterp=Green
>   NoData Value=0
> Band 3 Block=4000x16 Type=Byte, ColorInterp=Blue
>   NoData Value=0
> gdal_retile is currently running, but it doesn't produce aux.xml files.
> gdalinfo doesn't show any nodata value on the files generated by
> gdal_retile. So I guess when the next level will start computing, the same
> problem will reproduce. I should see the result monday.
>
> Alain
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5084204.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From aca at ngi.be  Fri May 21 10:18:33 2010
From: aca at ngi.be (acangi)
Date: Fri May 21 10:18:34 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
Message-ID: <1274451513236-5084464.post@n2.nabble.com>


I ran gdal_retile on a smaller set of data (same data with nodata values) so
I already have a result. You can see the border on the picture. In GeoServer
I set the outputTransparentColor to #000000.

I don't think my problem comes from the existing nodata values in the source
files, but rather from non-existing tiles at level x-1, when generating
level x. There is a gap at level x-1 and gdal_retile has to write data at
level x. What data is it supposed to write when there is no tile covering
this location at level x-1 ?

http://n2.nabble.com/file/n5084464/nearblack_border.png 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5084464.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From christian.mueller at nvoe.at  Fri May 21 10:38:03 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Fri May 21 10:38:14 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274451513236-5084464.post@n2.nabble.com>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
	<1274451513236-5084464.post@n2.nabble.com>
Message-ID: <20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>

Any new tile is created according to the create options "-co  
Name=value" you can pass in as parameter.

First an image is created, larege enough to hold the tile and its  
neighbors from level x-1

Second , the tiles from level x-1 are painted onto this image.

Third, the scaling takes place.

Fourth, I crop the interesting part for level x

The problem is, sometimes neighbors are missing, right ?

Do you have this problem already at level 1 or beginning with level 2 ?

Do you start from one big image or an already tiled image ?








Quoting acangi <aca@ngi.be>:

>
> I ran gdal_retile on a smaller set of data (same data with nodata values) so
> I already have a result. You can see the border on the picture. In GeoServer
> I set the outputTransparentColor to #000000.
>
> I don't think my problem comes from the existing nodata values in the source
> files, but rather from non-existing tiles at level x-1, when generating
> level x. There is a gap at level x-1 and gdal_retile has to write data at
> level x. What data is it supposed to write when there is no tile covering
> this location at level x-1 ?
>
> http://n2.nabble.com/file/n5084464/nearblack_border.png
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5084464.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From MDJACKLIN at qinetiq.com  Fri May 21 10:42:49 2010
From: MDJACKLIN at qinetiq.com (Jacklin Matthew D)
Date: Fri May 21 10:42:55 2010
Subject: [gdal-dev] ICORDS error creating NITF with BLOCKA
Message-ID: <20100521144253.8A259E01E3F@lists.osgeo.org>

Hi,

 

I am trying to create a NITF file using the BLOCKA extension but the
ICORDS field in the resulting file appears to be incorrect.

 

The following is an example attempt - the lat/lon positions are in
decimal format and the ICORDS field is set to be "D" (decimal). However
after processing the resulting NITF file has an ICORDS field of "G"
(geographic) and as the IGEOLO fields are in decimal format the NITF
file is invalid. 

 

 

 

REM format is lat: "+dd.dddddd" and lon: +ddd.dddddd"

set ul_lat=+51.236900

set ul_lon=-002.053840

 

set lr_lat=+51.233300

set lr_lon=-002.042380

 

set a=-co "BLOCKA_BLOCK_COUNT=1"

set b=-co "BLOCKA_BLOCK_INSTANCE_01=01"

set c=-co "BLOCKA_N_GRAY_01=00000"

set d=-co "BLOCKA_L_LINES_01=01000"

set e=-co "BLOCKA_LAYOVER_ANGLE_01=   "

set f=-co "BLOCKA_SHADOW_ANGLE_01=   "

REM set g=-co "BLOCKA_BLANKS_01=16 chars"

set h=-co "BLOCKA_FRLC_LOC_01=%lr_lat%%ul_lon%"

set i=-co "BLOCKA_LRLC_LOC_01=%lr_lat%%lr_lon%"

set j=-co "BLOCKA_LRFC_LOC_01=%ul_lat%%lr_lon%"

set k=-co "BLOCKA_FRFC_LOC_01=%ul_lat%%ul_lon%"

 

gdal_translate -of NITF -a_srs WGS84 -a_ullr ul_lon ul_lat lr_lon lr_lat
a% %b% %c% %d% %e% %f% %h% %i% %j% %k% -co "ICORDS=D" input.png
output.ntf

 

 

 

I have also noticed if the BLOCKA_L_LINES fields is less than the actual
number of lines in the input file, it appears the ICORDS field will be
set to "G" and the IGEOLO fields will be converted to geographic
format?!

 

Any ideas or help appreciated.

 

 

Thanks.

 

  Matt Jacklin.


This email and any attachments to it may be confidential and are
intended solely for the use of the individual to whom it is 
addressed. If you are not the intended recipient of this email,
you must neither take any action based upon its contents, nor 
copy or show it to anyone. Please contact the sender if you 
believe you have received this email in error. QinetiQ may 
monitor email traffic data and also the content of email for 
the purposes of security. QinetiQ Limited (Registered in England
& Wales: Company Number: 3796233) Registered office: 85 
Buckingham Gate, London SW1E 6PD http://www.qinetiq.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100521/b9ed62a6/attachment.html
From warmerdam at pobox.com  Fri May 21 13:45:58 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May 21 13:46:08 2010
Subject: [gdal-dev] BuildOverviews fails gor Jpeg-compressed TIFF
In-Reply-To: <AANLkTikIaey8SMk7ePDq7-0hNLfVXJfwJkk6Aay3k3tE@mail.gmail.com>
References: <AANLkTikIaey8SMk7ePDq7-0hNLfVXJfwJkk6Aay3k3tE@mail.gmail.com>
Message-ID: <4BF6C6D6.2050204@pobox.com>

Helge Morkemo wrote:
> Hi all!
>  
> I have a problem when producing overviews in a jpeg compressed tiff.with 
> Gdal 1.7.2, Windows 7
>  
> After my basic image is produced, with the GeoTIFF driver, I call 
> BuildOverviews("GAUSS",overviewlist,nothing,nothing)
> overviewlist is 2,4,8,16,32,64,128
> (It's a VB.NET <http://VB.NET> 2010 app.)
> I get this message: GetBlockRef failed at X block offset 1, Y block offset 0
> It's the same in my program as in GdalOverviews.
> The basic image is made line by line with RGB bands.
>  
> The image is 7588 by 5492 pixels.
> I use PHOTOMETRIC=YCBCR,PROFILE=GEOTIFF,COMPRESS=JPEG,TILED=YES
> If I add BIGTIFF=YES when creating it, the overviews generation seem to 
> work, but the colors are all messed up in the overviews

Helge,

If practical, try with GDAL "svn trunk" and make sure you are using the
latest libtiff source too - the code in the GDAL tree should be fine.

I have done a number of fixes in GDAL and libtiff that tend to come out
with jpeg compressed tiff files and overview generation.  So, hopefully, the
problem is already fixed.  If not, please file a ticket with details.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From matt.wilkie at gov.yk.ca  Fri May 21 14:33:22 2010
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Fri May 21 14:33:37 2010
Subject: [gdal-dev] off-topic: Canadian geospatial data, updating
Message-ID: <4BF6D1F2.20209@gov.yk.ca>

Hello fellow canadian spatial data users,

As many are aware, though perhaps some are not so I'll provide some 
background, Natural Resources Canada is releasing 1:50,000 or better 
scale topographic data on an ongoing 6 month release cycle under the 
name Canvec 
<http://geogratis.cgdi.gc.ca/geogratis/en/collection/5460AA9D-54CD-8349-C95E-1A4D03172FDF.html;jsessionid=06CE8DE7479E1DF0AB8D2E3226176469>. 
It is available piecemeal by individual National Topographic Series 50k 
tiles, grouped by province, and as a single national dataset. The 
all-in-one package is 21.5gb as file geodatabase or 27gb as GML 
<ftp://ftp2.cits.rncan.gc.ca/pub/canvec/canada_gml/>. This is great news!

Acquiring the data is not as smooth as it could be. The ftp server 
limits 2 concurrent sessions from the same ip and throttles the 
connections as well. Http downloads are faster and not limited 
concurrently; the national dataset is available by ftp only. So one can 
have fast downloads and grab a lot at once via http, but that requires 
installing and wrestling with a bulk download manager. Or one can use an 
ftp client recursively, and go slow (and not be able to browse the site 
while downloading, only 2 connections per ip remember). Thank heavens 
resume download is supported (but be careful with wget 
<http://code.google.com/p/maphew/issues/detail?id=14>).

This is pain worth going through for a dataset this valuable, but 
remember it happens at least twice year. The spring release is usually 
April, however this year there is a follow up bug-fix (discrepancies in 
their parlance) release expected in the next month or so.

I've written them twice in the last couple of years to ask them to make 
the data available by rsync as well so that only the changes need be 
downloaded, resulting in a faster update as well as tremendous bandwidth 
savings. For the first request I received acknowledgment in the form of 
"that's interesting, we'll look into it" and for the second, silence. I 
conclude there will be little if any movement on that front.

So now we come to why I am writing to all of you: are you aware of any 
data warehouse service which might be coaxed into mirroring this data 
and making it available by rysnc?

thank you for your thoughts,

-- 
matt wilkie
--------------------------------------------
Geomatics Analyst
Information Management and Technology
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100521/1298bbd3/attachment.html
From chrisgnicholas at att.net  Fri May 21 21:02:43 2010
From: chrisgnicholas at att.net (Chris Nicholas)
Date: Fri May 21 21:09:28 2010
Subject: [gdal-dev] WMS driver question in spherical mercator
Message-ID: <286148.47398.qm@web180116.mail.gq1.yahoo.com>

greetings - first and foremost, as usual, I was pleasantly surprised to find more neat stuff when I went looking for it in GDAL. :-)

I'm trying to use this newfangled spherical mercator projection, EPSG:3857, with Mapnik, but want to manage all the raster foo in good old mapserver, with a TINDEX.

So, I have a WMS that works great, with URLs like: 

http://rasterfoo//cgi-bin/mapserv?map=/Users/cgn/public_html/maps/terrain_info/terrain.map&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&BBOX=1001861,-5,1113192,111325&SRS=EPSG:3857&WIDTH=512&HEIGHT=512&LAYERS=SRTM_processed_warped&STYLES=&FORMAT=image/png&DPI=72&TRANSPARENT=TRUE ...

Now, I'm trying to make a nice GDAL source for it, but keep going out of bounds on srcwin  :-( 

Comment/suggestions/RTFMs welcomed...

thanks!
Chris
-------------------------------------------------------

rasterfoo-> cat test.xml

<GDAL_WMS>
<Service name="WMS">
<Version>1.1.1</Version>
<ServerUrl>http://rasterfoo/cgi-bin/mapserv?map=/Users/cgn/public_html/maps/terrain_info/terrain2.map&version=1.1.1&service=WMS</ServerUrl>
<SRS>EPSG:3857</SRS>
<ImageFormat>image/png</ImageFormat>
<Layers>SRTM_processed_warped</Layers>
</Service>
<DataWindow>
<UpperLeftX>-20037508.34</UpperLeftX>
<UpperLeftY>20037508.34</UpperLeftY>
<LowerRightX>20037508.34</LowerRightX>
<LowerRightY>-20037508.34</LowerRightY>
<SizeY>40075016</SizeY>
<SizeX>40075016.857</SizeX>
</DataWindow>
<Projection>EPSG:3857</Projection>
<BandsCount>4</BandsCount>
<ClampRequests>false</ClampRequests>
</GDAL_WMS>

-----------------------------

when I try to make a similar request via gral_translate,  ... :-( 

gdal_translate -of PNG -projwin 1001861 -5 1113192 111325 -outsize 512 512 test.xml test.png

Input file size is 40075016, 40075016
Computed -srcwin 21039368 20037513 111331 -111329 from projected window.
-srcwin 21039368 20037513 111331 -111329 falls outside raster size of 40075016x40075016
or is otherwise illegal.

------------------------------------------

but xml file seems to be valid:

rasterfoo->gdal-config --version
1.8.0

rasterfoo->gdalinfo test.xml

gdalinfo test.xml
Driver: WMS/OGC Web Map Service
Files: test2.xml
Size is 40075016, 40075016
Coordinate System is:
PROJCS["WGS 84 / Pseudo-Mercator",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.01745329251994328,
            AUTHORITY["EPSG","9122"]],
        AUTHORITY["EPSG","4326"]],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    PROJECTION["Mercator_1SP"],
    PARAMETER["central_meridian",0],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    EXTENSION["PROJ4","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"],
    AUTHORITY["EPSG","3857"],
    AXIS["X",EAST],
    AXIS["Y",NORTH]]
Origin = (-20037508.339999999850988,20037508.339999999850988)
Pixel Size = (1.000000016968178,-1.000000016968178)
Corner Coordinates:
Upper Left  (-20037508.340,20037508.340) (180d 0'0.00"W, 85d 3'4.06"N)
Lower Left  (-20037508.340,-20037508.340) (180d 0'0.00"W, 85d 3'4.06"S)
Upper Right (20037508.340,20037508.340) (180d 0'0.00"E, 85d 3'4.06"N)
Lower Right (20037508.340,-20037508.340) (180d 0'0.00"E, 85d 3'4.06"S)
Center      (   0.0000000,  -0.0000000) (  0d 0'0.00"E,  0d 0'0.00"S)
Band 1 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
Band 2 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
Band 3 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
Band 4 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
From chrisgnicholas at att.net  Fri May 21 21:10:00 2010
From: chrisgnicholas at att.net (Chris Nicholas)
Date: Fri May 21 21:10:08 2010
Subject: [gdal-dev] Re: WMS driver question in spherical mercator
Message-ID: <73568.56223.qm@web180113.mail.gq1.yahoo.com>

NEVER mind! DOH! UPPER-left x y,... (RTFM!) 

thanks again Frank and crew for fantastic SW!
Chris



----- Original Message ----
From: Chris Nicholas <chrisgnicholas@att.net>
To: gdal-dev@lists.osgeo.org
Sent: Fri, May 21, 2010 6:02:43 PM
Subject: WMS driver question in spherical mercator

greetings - first and foremost, as usual, I was pleasantly surprised to find more neat stuff when I went looking for it in GDAL. :-)

I'm trying to use this newfangled spherical mercator projection, EPSG:3857, with Mapnik, but want to manage all the raster foo in good old mapserver, with a TINDEX.

So, I have a WMS that works great, with URLs like: 

http://rasterfoo//cgi-bin/mapserv?map=/Users/cgn/public_html/maps/terrain_info/terrain.map&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&BBOX=1001861,-5,1113192,111325&SRS=EPSG:3857&WIDTH=512&HEIGHT=512&LAYERS=SRTM_processed_warped&STYLES=&FORMAT=image/png&DPI=72&TRANSPARENT=TRUE ...

Now, I'm trying to make a nice GDAL source for it, but keep going out of bounds on srcwin  :-( 

Comment/suggestions/RTFMs welcomed...

thanks!
Chris
-------------------------------------------------------

rasterfoo-> cat test.xml

<GDAL_WMS>
<Service name="WMS">
<Version>1.1.1</Version>
<ServerUrl>http://rasterfoo/cgi-bin/mapserv?map=/Users/cgn/public_html/maps/terrain_info/terrain2.map&version=1.1.1&service=WMS</ServerUrl>
<SRS>EPSG:3857</SRS>
<ImageFormat>image/png</ImageFormat>
<Layers>SRTM_processed_warped</Layers>
</Service>
<DataWindow>
<UpperLeftX>-20037508.34</UpperLeftX>
<UpperLeftY>20037508.34</UpperLeftY>
<LowerRightX>20037508.34</LowerRightX>
<LowerRightY>-20037508.34</LowerRightY>
<SizeY>40075016</SizeY>
<SizeX>40075016.857</SizeX>
</DataWindow>
<Projection>EPSG:3857</Projection>
<BandsCount>4</BandsCount>
<ClampRequests>false</ClampRequests>
</GDAL_WMS>

-----------------------------

when I try to make a similar request via gral_translate,  ... :-( 

gdal_translate -of PNG -projwin 1001861 -5 1113192 111325 -outsize 512 512 test.xml test.png

Input file size is 40075016, 40075016
Computed -srcwin 21039368 20037513 111331 -111329 from projected window.
-srcwin 21039368 20037513 111331 -111329 falls outside raster size of 40075016x40075016
or is otherwise illegal.

------------------------------------------

but xml file seems to be valid:

rasterfoo->gdal-config --version
1.8.0

rasterfoo->gdalinfo test.xml

gdalinfo test.xml
Driver: WMS/OGC Web Map Service
Files: test2.xml
Size is 40075016, 40075016
Coordinate System is:
PROJCS["WGS 84 / Pseudo-Mercator",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.01745329251994328,
            AUTHORITY["EPSG","9122"]],
        AUTHORITY["EPSG","4326"]],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    PROJECTION["Mercator_1SP"],
    PARAMETER["central_meridian",0],
    PARAMETER["scale_factor",1],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    EXTENSION["PROJ4","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"],
    AUTHORITY["EPSG","3857"],
    AXIS["X",EAST],
    AXIS["Y",NORTH]]
Origin = (-20037508.339999999850988,20037508.339999999850988)
Pixel Size = (1.000000016968178,-1.000000016968178)
Corner Coordinates:
Upper Left  (-20037508.340,20037508.340) (180d 0'0.00"W, 85d 3'4.06"N)
Lower Left  (-20037508.340,-20037508.340) (180d 0'0.00"W, 85d 3'4.06"S)
Upper Right (20037508.340,20037508.340) (180d 0'0.00"E, 85d 3'4.06"N)
Lower Right (20037508.340,-20037508.340) (180d 0'0.00"E, 85d 3'4.06"S)
Center      (   0.0000000,  -0.0000000) (  0d 0'0.00"E,  0d 0'0.00"S)
Band 1 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
Band 2 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
Band 3 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611
Band 4 Block=1024x1024 Type=Byte, ColorInterp=Undefined
  Overviews: 20037508x20037508, 10018754x10018754, 5009377x5009377, 2504689x2504689, 1252344x1252344, 626172x626172, 313086x313086, 156543x156543, 78272x78272, 39136x39136, 19568x19568, 9784x9784, 4892x4892, 2446x2446, 1223x1223, 611x611

From jukka.rahkonen at mmmtike.fi  Sun May 23 06:51:36 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun May 23 06:51:51 2010
Subject: [gdal-dev] GDAL 1.7 and GML3
Message-ID: <loom.20100523T124516-240@post.gmane.org>

Hi,

GDAL/OGR release news says that ogr has now "Limited support for GML3".

Unfortunately the documentation is limited as well, at least at
http://gdal.org/ogr/drv_gml.html. What can ogr do now with gml3?  What interests
me most is that how well it can interpret gml3 that comes out from WFS 1.1.0
servers.

-Jukka Rahkonen-

From chaitanya.ch at gmail.com  Sun May 23 09:01:47 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sun May 23 09:01:50 2010
Subject: [gdal-dev] GDAL 1.7 and GML3
In-Reply-To: <loom.20100523T124516-240@post.gmane.org>
References: <loom.20100523T124516-240@post.gmane.org>
Message-ID: <AANLkTimfLxGCNCLmKYgrhUnsUvi1Gk1AcoFDYhVxIHaO@mail.gmail.com>

Jukka,

Even for GML2 the driver makes lot of assumption and guess work. As per the
support of GML3, the driver was updated to recognise certain geometry
features (xml tags) that are not in GML2.

I will try to be more specific in the GML driver's doc.

BTW, I am going to add 'limited' support for xlinks in a day or two.
"xlink:href" attributes are used to identify features in the same file,
different file or in http/ftp resources identifyed by the "gml:id"
attribute.
Also adding TopoSurface and TopoCurve feature recognision.

On Sun, May 23, 2010 at 4:21 PM, Jukka Rahkonen
<jukka.rahkonen@mmmtike.fi>wrote:

> Hi,
>
> GDAL/OGR release news says that ogr has now "Limited support for GML3".
>
> Unfortunately the documentation is limited as well, at least at
> http://gdal.org/ogr/drv_gml.html. What can ogr do now with gml3?  What
> interests
> me most is that how well it can interpret gml3 that comes out from WFS
> 1.1.0
> servers.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100523/cbf8357f/attachment.html
From even.rouault at mines-paris.org  Sun May 23 10:39:45 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May 23 10:40:00 2010
Subject: [gdal-dev] GDAL 1.7 and GML3
In-Reply-To: <loom.20100523T124516-240@post.gmane.org>
References: <loom.20100523T124516-240@post.gmane.org>
Message-ID: <201005231639.47728.even.rouault@mines-paris.org>

Jukka,

In http://trac.osgeo.org/gdal/browser/trunk/autotest/ogr/ogr_gml_geom.py , you 
can have an overview of a few GML 3 supported geometries.

The best is that you try and report what doesn't work so that it gets possibly 
improved.

And documentation patches are also welcome !

Best regards,

Even
From alexander.bruy at gmail.com  Sun May 23 12:11:46 2010
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Sun May 23 12:13:46 2010
Subject: [gdal-dev] Handling CPG (encoding) file
Message-ID: <20100523191146.992ed06e.alexander.bruy@gmail.com>

Hi devs,

few days ago in qgis-developer mailing list we discuss codepage handling
in QGIS and GDAL
http://osgeo-org.1803224.n2.nabble.com/adding-encoding-file-td5075541.html.

Also there is post in this list with related problem
http://osgeo-org.1803224.n2.nabble.com/gdal-dev-DBF-unicode-problem-td5075730.html

Seems than shapelib supports codepages in CPG file and LDID both for
reading and creating DBFs. But OGR doesn't seem to use or expose that
functionality.

Our community want to add to the OGR shapefile driver ability to
read/write CPG file and ready to work on this and create a patch.
Any hints and suggestions are welcome. We really need this
functionality

Thanks

-- 
Alexander Bruy
From aperi2007 at gmail.com  Sun May 23 17:13:36 2010
From: aperi2007 at gmail.com (Andrea Peri 2007)
Date: Sun May 23 17:13:41 2010
Subject: [gdal-dev] GDAL 1.7 and GML3
Message-ID: <4BF99A80.5010205@gmail.com>

Hi,

I'm use quite often the GML capability of gdal.

this is the tags I normally use and GDAL actually recognize
(these are not the only tags recognized from Gdal) :

       <gml:LineString srsName="urn:ogc:def:crs:EPSG:3003">
         <gml:posList srsDimension="2">...</gml:posList>
       </gml:LineString>

       <gml:Point srsName="urn:ogc:def:crs:EPSG:3003">
         <gml:pos srsDimension="2">1713658.01 4864821.19</gml:pos>
       </gml:Point>

       <gml:MultiPoint srsName="urn:ogc:def:crs:EPSG:3003">
         <gml:pointMember>
           <gml:Point>
             <gml:pos srsDimension="2">...</gml:pos>
           </gml:Point>
         </gml:pointMember>
       </gml:MultiPoint>

       <gml:MultiSurface srsName="urn:ogc:def:crs:EPSG:3003">
         <gml:surfaceMember>
           <gml:Polygon>
             <gml:exterior>
               <gml:LinearRing>
                 <gml:posList srsDimension="2">...</gml:posList>
               </gml:LinearRing>
             </gml:exterior>
             <gml:interior>
               <gml:LinearRing>
                 <gml:posList srsDimension="2">..</gml:posList>
               </gml:LinearRing>
             </gml:interior>
        ...
             <gml:interior>
               <gml:LinearRing>
                 <gml:posList srsDimension="2">...</gml:posList>
               </gml:LinearRing>
             </gml:interior>
           </gml:Polygon>
         </gml:surfaceMember>
       </gml:MultiSurface>

       <gml:Polygon srsName="urn:ogc:def:crs:EPSG:3003">
         <gml:exterior>
           <gml:LinearRing>
             <gml:posList srsDimension="3">...</gml:posList>
           </gml:LinearRing>
         </gml:exterior>
       </gml:Polygon>

And just today I finish to write a little patch to add the capability to 
read this
new tags (that is generated from postgis ST_AsGml() ).

       <gml:MultiCurve srsName="urn:ogc:def:crs:EPSG:3003">
         <gml:curveMember>
           <gml:Curve>
             <gml:segments>
               <gml:LineStringSegment>
                 <gml:posList srsDimension="2">...</gml:posList>
               </gml:LineStringSegment>
               <gml:LineStringSegment>
                 <gml:posList srsDimension="2">...</gml:posList>
               </gml:LineStringSegment>
             </gml:segments>
           </gml:Curve>
         </gml:curveMember>
         <gml:curveMember>
           <gml:Curve>
             <gml:segments>
               <gml:LineStringSegment>
              <gml:posList srsDimension="2">...</gml:posList>
               </gml:LineStringSegment>
             </gml:segments>
           </gml:Curve>
         </gml:curveMember>
       </gml:MultiCurve>

I will send surely this patch to Frank and Chaitanya to add to GML 
reader if it is quite good for gdal.

Regards,

Andrea Peri.

> Hi,
>
> GDAL/OGR release news says that ogr has now "Limited support for GML3".
>
> Unfortunately the documentation is limited as well, at least at
> http://gdal.org/ogr/drv_gml.html. What can ogr do now with gml3?  What 
> interests
> me most is that how well it can interpret gml3 that comes out from WFS 
> 1.1.0
> servers.
>
> -Jukka Rahkonen-
From eloi.ribeiro at gmail.com  Mon May 24 04:30:25 2010
From: eloi.ribeiro at gmail.com (Eloi Ribeiro)
Date: Mon May 24 04:30:29 2010
Subject: [gdal-dev] Reading GRIB2 with GDAL 1.6.3 leeds to Warning: 
	Investigate Template 4.8 bytes 35-41
In-Reply-To: <o2qfbc074701004300342r2801d915m295e97c44646d684@mail.gmail.com>
References: <q2xfbc074701004290335x27e42072h9a21b4e23e71ad26@mail.gmail.com>
	<4BD98B24.2030606@pobox.com>
	<o2qfbc074701004300342r2801d915m295e97c44646d684@mail.gmail.com>
Message-ID: <AANLkTimoxwL-wjnAqxgdMCZritOOCUQ_iJgBRZmrn-x6@mail.gmail.com>

On Fri, Apr 30, 2010 at 12:42 PM, Eloi Ribeiro <eloi.ribeiro@gmail.com>wrote:

>
> On Thu, Apr 29, 2010 at 3:35 PM, Frank Warmerdam <warmerdam@pobox.com>wrote:
>
>> Eloi Ribeiro wrote:
>>
>>> Hi,
>>>
>>> I keep receiving this warning using GDAL (1.6.3 released 2009/11/19 on
>>> Ubuntu desktop 9.10) whith GRIB2 files:
>>>
>>> "Warning: Investigate Template 4.8 bytes 35-41
>>> Warning: Investigate Template 4.8 bytes 35-41
>>> (...)
>>> Warning: Investigate Template 4.8 bytes 35-41
>>> Warning: Investigate Template 4.8 bytes 35-41
>>> Segmentation fault"
>>>
>>
>> Eloi,
>>
>> The message comes from this part of:
>>
>> gdal/frmts/grid/degrib18/degrib/inventory.cpp
>>
>>
>>         case GS4_STATISTIC: /* 4.8 */
>>            if (InventoryParseTime (*buffer + 35 - 5, &(inv->validTime)) !=
>> 0) {
>>               printf ("Warning: Investigate Template 4.8 bytes 35-41\n");
>>               inv->validTime = inv->refTime + inv->foreSec;
>>            }
>>
>> Basically, it appears that it means there was a problem parsing
>> a date in the grib file, and it is reported as a warning.
>>
>> There is no particular reason to believe it is related to the crash
>> you see with some files.
>>
>> You might want to file a ticket with one of the files resulting in a
>> crash for further investigation.
>>
>> Best regards,
>> --
>>
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam,
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | Geospatial Programmer for Rent
>>
>>
>
> Thank's for the tip Frank.
> I just submitted a ticket[1].
> I hope this issue can be solved.
> Regards,
>
> [1] http://trac.osgeo.org/gdal/ticket/3555
>
> --
> Eloi Ribeiro
> GIS Analyst
> 39,45? -4,40?
> http://eloiribeiro.wordpress.com
>


Hi,
Just to let Know that the bug [1] persist after update to the latest GDAL
version: GDAL 1.7.2, released 2010/04/23.
Best regards,

[1] http://trac.osgeo.org/gdal/ticket/3555

-- 
Eloi Ribeiro
GIS Analyst
39,45? -4,40?
http://eloiribeiro.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100524/d1c7bcc4/attachment.html
From even.rouault at mines-paris.org  Mon May 24 05:58:28 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 24 05:58:40 2010
Subject: [gdal-dev] Reading GRIB2 with GDAL 1.6.3 leeds to Warning:
	Investigate Template 4.8 bytes 35-41
In-Reply-To: <AANLkTimoxwL-wjnAqxgdMCZritOOCUQ_iJgBRZmrn-x6@mail.gmail.com>
References: <q2xfbc074701004290335x27e42072h9a21b4e23e71ad26@mail.gmail.com>
	<o2qfbc074701004300342r2801d915m295e97c44646d684@mail.gmail.com>
	<AANLkTimoxwL-wjnAqxgdMCZritOOCUQ_iJgBRZmrn-x6@mail.gmail.com>
Message-ID: <201005241158.29870.even.rouault@mines-paris.org>

Eloi,

I've fixed an "obvious" coding error in the degrib library used by GDAL to 
read GRIB files that was the cause for the crash. It seems it is a bit 
related to the warning message about not being able to parse the date (that 
still persists), but not at the same place where the warning is emitted.

Best regards,

Even

Le Monday 24 May 2010 10:30:25 Eloi Ribeiro, vous avez ?crit?:
> On Fri, Apr 30, 2010 at 12:42 PM, Eloi Ribeiro 
<eloi.ribeiro@gmail.com>wrote:
> > On Thu, Apr 29, 2010 at 3:35 PM, Frank Warmerdam 
<warmerdam@pobox.com>wrote:
> >> Eloi Ribeiro wrote:
> >>> Hi,
> >>>
> >>> I keep receiving this warning using GDAL (1.6.3 released 2009/11/19 on
> >>> Ubuntu desktop 9.10) whith GRIB2 files:
> >>>
> >>> "Warning: Investigate Template 4.8 bytes 35-41
> >>> Warning: Investigate Template 4.8 bytes 35-41
> >>> (...)
> >>> Warning: Investigate Template 4.8 bytes 35-41
> >>> Warning: Investigate Template 4.8 bytes 35-41
> >>> Segmentation fault"
> >>
> >> Eloi,
> >>
> >> The message comes from this part of:
> >>
> >> gdal/frmts/grid/degrib18/degrib/inventory.cpp
> >>
> >>
> >>         case GS4_STATISTIC: /* 4.8 */
> >>            if (InventoryParseTime (*buffer + 35 - 5, &(inv->validTime))
> >> != 0) {
> >>               printf ("Warning: Investigate Template 4.8 bytes
> >> 35-41\n"); inv->validTime = inv->refTime + inv->foreSec;
> >>            }
> >>
> >> Basically, it appears that it means there was a problem parsing
> >> a date in the grib file, and it is reported as a warning.
> >>
> >> There is no particular reason to believe it is related to the crash
> >> you see with some files.
> >>
> >> You might want to file a ticket with one of the files resulting in a
> >> crash for further investigation.
> >>
> >> Best regards,
> >> --
> >>
> >> ---------------------------------------+--------------------------------
> >>------ I set the clouds in motion - turn up   | Frank Warmerdam,
> >> warmerdam@pobox.com
> >> light and sound - activate the windows | http://pobox.com/~warmerdam
> >> and watch the world go round - Rush    | Geospatial Programmer for Rent
> >
> > Thank's for the tip Frank.
> > I just submitted a ticket[1].
> > I hope this issue can be solved.
> > Regards,
> >
> > [1] http://trac.osgeo.org/gdal/ticket/3555
> >
> > --
> > Eloi Ribeiro
> > GIS Analyst
> > 39,45? -4,40?
> > http://eloiribeiro.wordpress.com
>
> Hi,
> Just to let Know that the bug [1] persist after update to the latest GDAL
> version: GDAL 1.7.2, released 2010/04/23.
> Best regards,
>
> [1] http://trac.osgeo.org/gdal/ticket/3555


From eloi.ribeiro at gmail.com  Mon May 24 08:05:21 2010
From: eloi.ribeiro at gmail.com (Eloi Ribeiro)
Date: Mon May 24 08:05:29 2010
Subject: [gdal-dev] Reading GRIB2 with GDAL 1.6.3 leeds to Warning: 
	Investigate Template 4.8 bytes 35-41
In-Reply-To: <201005241158.29870.even.rouault@mines-paris.org>
References: <q2xfbc074701004290335x27e42072h9a21b4e23e71ad26@mail.gmail.com>
	<o2qfbc074701004300342r2801d915m295e97c44646d684@mail.gmail.com>
	<AANLkTimoxwL-wjnAqxgdMCZritOOCUQ_iJgBRZmrn-x6@mail.gmail.com>
	<201005241158.29870.even.rouault@mines-paris.org>
Message-ID: <AANLkTilVBj4puRZlPNoiYNWjxyGGFSqD4Vm2I0GenpwS@mail.gmail.com>

Thanks for the good news!
I will wait for the 1.7.3 release.
Best regards,
Eloi





On Mon, May 24, 2010 at 11:58 AM, Even Rouault <even.rouault@mines-paris.org
> wrote:

> Eloi,
>
> I've fixed an "obvious" coding error in the degrib library used by GDAL to
> read GRIB files that was the cause for the crash. It seems it is a bit
> related to the warning message about not being able to parse the date (that
> still persists), but not at the same place where the warning is emitted.
>
> Best regards,
>
> Even
>
> Le Monday 24 May 2010 10:30:25 Eloi Ribeiro, vous avez ?crit :
> > On Fri, Apr 30, 2010 at 12:42 PM, Eloi Ribeiro
> <eloi.ribeiro@gmail.com>wrote:
> > > On Thu, Apr 29, 2010 at 3:35 PM, Frank Warmerdam
> <warmerdam@pobox.com>wrote:
> > >> Eloi Ribeiro wrote:
> > >>> Hi,
> > >>>
> > >>> I keep receiving this warning using GDAL (1.6.3 released 2009/11/19
> on
> > >>> Ubuntu desktop 9.10) whith GRIB2 files:
> > >>>
> > >>> "Warning: Investigate Template 4.8 bytes 35-41
> > >>> Warning: Investigate Template 4.8 bytes 35-41
> > >>> (...)
> > >>> Warning: Investigate Template 4.8 bytes 35-41
> > >>> Warning: Investigate Template 4.8 bytes 35-41
> > >>> Segmentation fault"
> > >>
> > >> Eloi,
> > >>
> > >> The message comes from this part of:
> > >>
> > >> gdal/frmts/grid/degrib18/degrib/inventory.cpp
> > >>
> > >>
> > >>         case GS4_STATISTIC: /* 4.8 */
> > >>            if (InventoryParseTime (*buffer + 35 - 5,
> &(inv->validTime))
> > >> != 0) {
> > >>               printf ("Warning: Investigate Template 4.8 bytes
> > >> 35-41\n"); inv->validTime = inv->refTime + inv->foreSec;
> > >>            }
> > >>
> > >> Basically, it appears that it means there was a problem parsing
> > >> a date in the grib file, and it is reported as a warning.
> > >>
> > >> There is no particular reason to believe it is related to the crash
> > >> you see with some files.
> > >>
> > >> You might want to file a ticket with one of the files resulting in a
> > >> crash for further investigation.
> > >>
> > >> Best regards,
> > >> --
> > >>
> > >>
> ---------------------------------------+--------------------------------
> > >>------ I set the clouds in motion - turn up   | Frank Warmerdam,
> > >> warmerdam@pobox.com
> > >> light and sound - activate the windows | http://pobox.com/~warmerdam
> > >> and watch the world go round - Rush    | Geospatial Programmer for
> Rent
> > >
> > > Thank's for the tip Frank.
> > > I just submitted a ticket[1].
> > > I hope this issue can be solved.
> > > Regards,
> > >
> > > [1] http://trac.osgeo.org/gdal/ticket/3555
> > >
> > > --
> > > Eloi Ribeiro
> > > GIS Analyst
> > > 39,45? -4,40?
> > > http://eloiribeiro.wordpress.com
> >
> > Hi,
> > Just to let Know that the bug [1] persist after update to the latest GDAL
> > version: GDAL 1.7.2, released 2010/04/23.
> > Best regards,
> >
> > [1] http://trac.osgeo.org/gdal/ticket/3555
>
>
>


-- 
Eloi Ribeiro
GIS Analyst
39,45? -4,40?
http://eloiribeiro.wordpress.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100524/ec3ce896/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Mon May 24 08:16:07 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon May 24 08:16:23 2010
Subject: [gdal-dev] Re: GDAL 1.7 and GML3
References: <loom.20100523T124516-240@post.gmane.org>
	<201005231639.47728.even.rouault@mines-paris.org>
Message-ID: <loom.20100524T134814-616@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:

> 
> Jukka,
> 
> In http://trac.osgeo.org/gdal/browser/trunk/autotest/ogr/ogr_gml_geom.py , you 
> can have an overview of a few GML 3 supported geometries.
> 
> The best is that you try and report what doesn't work so that it gets possibly 
> improved.

Hi,

I had a try with some feature types coming from Geoserver WFS 1.1.0. Ogr2ogr
converts GML33 points, linestrings and multisurfaces (containing ->Polygons->
LinearRings) into shapefiles without problems.

Our WFS is using UTF-8 encoding. When I open the shapefiles which I created with
ogr2ogr all non-ASCII characters in my attributes look pretty odd. I can't find
any switch in ogr2ogr for controlling character encoding. Is is somewhere hidden?

-Jukka Rahkonen-

From even.rouault at mines-paris.org  Mon May 24 08:43:52 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 24 08:44:01 2010
Subject: [gdal-dev] Re: GDAL 1.7 and GML3
In-Reply-To: <loom.20100524T134814-616@post.gmane.org>
References: <loom.20100523T124516-240@post.gmane.org>
	<201005231639.47728.even.rouault@mines-paris.org>
	<loom.20100524T134814-616@post.gmane.org>
Message-ID: <201005241443.53587.even.rouault@mines-paris.org>

Jukka,

There's no ogr2ogr switch to control character encoding.

you didn't mention with which tool you tried to open the shapefiles. I suppose 
it's not with OGR itself, as the shapefile driver does not do anything with 
the encoding of the data it reads or writes. The issue is that it currently 
writes DBF with LDID/87 (= 0x57, ANSI) whatever the encoding of the data is 
really (so if UTF-8 data goes into this DBF and a software tries to interpret 
it according to the LDID, it will read corrupted characters). There was 
interest expressed on this mailing list the last few days for improved 
encoding support (see 
http://lists.osgeo.org/pipermail/gdal-dev/2010-May/024663.html)

This was also discussed here : http://trac.osgeo.org/gdal/ticket/3403

I can see different possibilities :
* use UTF-8 as pivot and transcode into/from it when reading/writing DBF. 
Which would be consistant with 
http://trac.osgeo.org/gdal/wiki/rfc23_ogr_unicode. A creation option would be 
necessary to specify the target CPG/LDID.
* less ambitious : just use a creation option to specify the CPG/LDID of the 
actual data passed without doing any transcoding.

The difference between the 2 options is conceptually a bit like -t_srs 
and -a_srs

Le Monday 24 May 2010 14:16:07 Jukka Rahkonen, vous avez ?crit?:
> Even Rouault <even.rouault <at> mines-paris.org> writes:
> > Jukka,
> >
> > In http://trac.osgeo.org/gdal/browser/trunk/autotest/ogr/ogr_gml_geom.py
> > , you can have an overview of a few GML 3 supported geometries.
> >
> > The best is that you try and report what doesn't work so that it gets
> > possibly improved.
>
> Hi,
>
> I had a try with some feature types coming from Geoserver WFS 1.1.0.
> Ogr2ogr converts GML33 points, linestrings and multisurfaces (containing
> ->Polygons-> LinearRings) into shapefiles without problems.
>
> Our WFS is using UTF-8 encoding. When I open the shapefiles which I created
> with ogr2ogr all non-ASCII characters in my attributes look pretty odd. I
> can't find any switch in ogr2ogr for controlling character encoding. Is is
> somewhere hidden?
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jukka.rahkonen at mmmtike.fi  Mon May 24 09:55:39 2010
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon May 24 09:55:50 2010
Subject: [gdal-dev] Re: GDAL 1.7 and GML3
References: <loom.20100523T124516-240@post.gmane.org>
	<201005231639.47728.even.rouault@mines-paris.org>
	<loom.20100524T134814-616@post.gmane.org>
	<201005241443.53587.even.rouault@mines-paris.org>
Message-ID: <loom.20100524T155025-805@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:

> 
> Jukka,
> 
> There's no ogr2ogr switch to control character encoding.
> 
> you didn't mention with which tool you tried to open the shapefiles. I suppose 
> it's not with OGR itself, as the shapefile driver does not do anything with 
> the encoding of the data it reads or writes. 

Hi,

You are right. When opened with QGis which gives a possibility for selecting the
encoding all the attributes are shown correctly. Thus there are no errors due to
ogr2ogr conversion as far as I can see. First time I opened shapefiles with
OpenJUMP. I don't know yet how to force it to use the correct character set.

-Jukka-

From ivan.lucena at pmldnet.com  Mon May 24 10:59:13 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Mon May 24 10:59:16 2010
Subject: [gdal-dev] Can't read HDF4 -  TRMM
Message-ID: <20100524145913.10899.qmail@s466.sureserver.com>

Hi,

I ran gdalinfo on some HDF4 files and no subdataset shows up.

The data is available for download at this website: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/presentNavigation.pl?tree=project&project=TRMM&dataGroup=Gridded&dataset=3B43:%20Monthly%200.25%20x%200.25%20degree%20merged%20TRMM%20and%20other%20sources%20estimates&version=006

I tried reading those some file on:

- Idrisi
- ArcGIS 9.3
- ArcGIS 10 (RC)
- Erdas

They do identify the internal datasets but they cannot identify the reference system and the images they are flipped by 90' clockwise. But that is not due to rotation. I would guess. It is more like a misinterpretation of the dimension parameter, taking rows as columns and columns as rows.  It looks like the documentation for that particular product is missing here: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/servcoll.pl?helpmenuclass=inventory&SearchButton=Search%20GES-DISC

Does anybody has a clue?

BTW. There is a netCDF version of that data that also has some issues.

Regards,

Ivan






From jluis at ualg.pt  Mon May 24 11:46:11 2010
From: jluis at ualg.pt (Joaquim Luis)
Date: Mon May 24 11:46:51 2010
Subject: [gdal-dev] Can't read HDF4 -  TRMM
In-Reply-To: <20100524145913.10899.qmail@s466.sureserver.com>
References: <20100524145913.10899.qmail@s466.sureserver.com>
Message-ID: <4BFA9F43.8080202@ualg.pt>

Ivan,

Since nasa is now imitating me (http://mirador....) I gave it a shot 
with Mirone, which obviously also failed because because it relies 
mostly in gdal to read the hdf files.
My experience with the nasa satellite files is that they are a big mess 
with the metadata written in endless different ways which makes the 
parsing very painful. There is some reference info in the files. See 
what I got using Matlab (look at the end of this long list)

Joaquim


>>  info.Attributes(1).Value

ans =

OBJECT=OrbitNumber;
	Value=-9999;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=OrbitNumber;

OBJECT=RangeBeginningDate;
	Value=2010/04/01;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=RangeBeginningDate;

OBJECT=RangeBeginningTime;
	Value=00:00:00;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=RangeBeginningTime;

OBJECT=RangeEndingDate;
	Value=2010/05/01;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=RangeEndingDate;

OBJECT=RangeEndingTime;
	Value=00:00:00;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=RangeEndingTime;

OBJECT=GranulePointer;
	Value="3B43.100401.6A.HDF";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=GranulePointer;

OBJECT=ShortName;
	Value="Surface Rain from all Satellite and Surface";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=ShortName;

OBJECT=SizeMBECSDataGranule;
	Value=4.394;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SizeMBECSDataGranule;

OBJECT=LongitudeOfMaximumLatitude;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=LongitudeOfMaximumLatitude;

OBJECT=SpatialCoverageType;
	Value="Horizontal";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SpatialCoverageType;

OBJECT=EllipsoidName;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EllipsoidName;

OBJECT=EquatorialRadius;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EquatorialRadius;

OBJECT=DenominatorFlatteningRatio;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=DenominatorFlatteningRatio;

OBJECT=OrbitalModelName;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=OrbitalModelName;

OBJECT=SemiMajorAxis;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SemiMajorAxis;

OBJECT=MeanAnomaly;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=MeanAnomaly;

OBJECT=RightAscensionNode;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=RightAscensionNode;

OBJECT=ArgumentOfPerigee;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=ArgumentOfPerigee;

OBJECT=Eccentricity;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=Eccentricity;

OBJECT=Inclination;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=Inclination;

OBJECT=EpochTime;
	Value=99:99:99;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EpochTime;

OBJECT=EpochDate;
	Value=9999/99/99;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EpochDate;

OBJECT=EpochMillisec;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EpochMillisec;

OBJECT=WestBoundingCoordinate;
	Value=-180;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=WestBoundingCoordinate;

OBJECT=EastBoundingCoordinate;
	Value=180;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EastBoundingCoordinate;

OBJECT=NorthBoundingCoordinate;
	Value=50;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=NorthBoundingCoordinate;

OBJECT=SouthBoundingCoordinate;
	Value=-50;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SouthBoundingCoordinate;

OBJECT=CenterLatitude;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=CenterLatitude;

OBJECT=CenterLongitude;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=CenterLongitude;

OBJECT=RadiusValue;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=RadiusValue;

OBJECT=LatitudeResolution;
	Value=".25deg";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=LatitudeResolution;

OBJECT=LongitudeResolution;
	Value=".25deg";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=LongitudeResolution;

OBJECT=GeographicCoordinateUnits;
	Value="Decimal Degrees";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=GeographicCoordinateUnits;

OBJECT=TemporalRangeType;
	Value="Continuous Range";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=TemporalRangeType;

OBJECT=QualityAssuranceParameterName;
	Value="ScienceQualityFlag";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=QualityAssuranceParameterName;

OBJECT=QualityAssuranceParameterValue;
	Value="NOT BEING INVESTIGATED";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=QualityAssuranceParameterValue;

OBJECT=ReprocessingActual;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=ReprocessingActual;

OBJECT=BrowsePointer;
	Value="3B43_BR.100401.6A.PNG";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=BrowsePointer;

OBJECT=ScienceContact;
	Value="George Huffman";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=ScienceContact;

OBJECT=MeanMotion;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=MeanMotion;

OBJECT=OrbitAdjustFlag;
	Value=-9999;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=OrbitAdjustFlag;

OBJECT=AttitudeModeFlag;
	Value=-9999;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=AttitudeModeFlag;

OBJECT=SolarBetaAngleAtBeginningOfGranule;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SolarBetaAngleAtBeginningOfGranule;

OBJECT=SolarBetaAngleAtEndOfGranule;
	Value=-9999.9;
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SolarBetaAngleAtEndOfGranule;

OBJECT=SensorAlignment;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SensorAlignment;

OBJECT=SensorAlignmentChannelOffsets;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=SensorAlignmentChannelOffsets;

OBJECT=ScanPathModel;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=ScanPathModel;

OBJECT=ScanPathModelParam;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=ScanPathModelParam;

OBJECT=EphemerisFileID;
	Value="NULL";
	Data_Location=PGE;
	Mandatory=FALSE;
END_OBJECT=EphemerisFileID;




> Hi,
>
> I ran gdalinfo on some HDF4 files and no subdataset shows up.
>
> The data is available for download at this website: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/presentNavigation.pl?tree=project&project=TRMM&dataGroup=Gridded&dataset=3B43:%20Monthly%200.25%20x%200.25%20degree%20merged%20TRMM%20and%20other%20sources%20estimates&version=006
>
> I tried reading those some file on:
>
> - Idrisi
> - ArcGIS 9.3
> - ArcGIS 10 (RC)
> - Erdas
>
> They do identify the internal datasets but they cannot identify the reference system and the images they are flipped by 90' clockwise. But that is not due to rotation. I would guess. It is more like a misinterpretation of the dimension parameter, taking rows as columns and columns as rows.  It looks like the documentation for that particular product is missing here: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/servcoll.pl?helpmenuclass=inventory&SearchButton=Search%20GES-DISC
>
> Does anybody has a clue?
>
> BTW. There is a netCDF version of that data that also has some issues.
>
> Regards,
>
> Ivan
>
>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>    

From luisapena1979 at gmail.com  Mon May 24 13:10:59 2010
From: luisapena1979 at gmail.com (=?ISO-8859-1?Q?Luisa_Pe=F1a?=)
Date: Mon May 24 13:11:04 2010
Subject: [gdal-dev] Gdalwarp of GLOBCOVER to UTMSpecific Zone
Message-ID: <AANLkTinlWtBX4KOXZ4TNejkLOOvoyO3lcUbl-P9siN67@mail.gmail.com>

Hi there

I'm a bit of a newbie in GDAL but I tried to warp a GLOBCOVER image with
this information:
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]

Into an UTM  zone (EPSG:21036)

I runned this command:
gdalwarp -t_srs "EPSG:21036"  INPUT.tif OUTPUT.tif
And I get this Warning/ERROR:
ERROR 1: TIFFFetchDirectory:MZ.tif: Can not read TIFF directory count
ERROR 1: TIFFReadDirectory:Failed to read directory at offset 8
ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
Segmentation fault

And I obtained an OUTPUT.tif with a different size.
- What might not be ok in this?
- What can I do to obtain an image with the same size?

Thanks

best regards
Luisa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100524/311d3eba/attachment.html
From even.rouault at mines-paris.org  Mon May 24 13:44:49 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 24 13:44:58 2010
Subject: [gdal-dev] Gdalwarp of GLOBCOVER to UTMSpecific Zone
In-Reply-To: <AANLkTinlWtBX4KOXZ4TNejkLOOvoyO3lcUbl-P9siN67@mail.gmail.com>
References: <AANLkTinlWtBX4KOXZ4TNejkLOOvoyO3lcUbl-P9siN67@mail.gmail.com>
Message-ID: <201005241944.50342.even.rouault@mines-paris.org>

Luisa,

This is the right command to do what you want. However I think the error is 
already when reading the input file (you could confirm by issuing 
gdalinfo -checksum INPUT.tif). There's always the possibility that the input 
image is corrupted (but even in that case, it would be good that GDAL doesn't 
cause a segmentation fault). But you didn't mention your version of GDAL or 
how you did get it (pre-built or built by yourself). Did you try with a 
recent version, possibly with internal libtiff support, in case it was an 
issue that has been addressed now ? Perhaps you could share the image or a 
link to it for others to confirm.

(This is normal that the output image has not the same size as the input image 
as warping changes the shape and dimensions of the image. And even for images 
of same dimensions the resulting TIFF can have different sizes due to the way 
they are written, compression options, etc...)

Le Monday 24 May 2010 19:10:59 Luisa Pe?a, vous avez ?crit?:
> Hi there
>
> I'm a bit of a newbie in GDAL but I tried to warp a GLOBCOVER image with
> this information:
> Coordinate System is:
> GEOGCS["WGS 84",
>     DATUM["WGS_1984",
>         SPHEROID["WGS 84",6378137,298.257223563,
>             AUTHORITY["EPSG","7030"]],
>         AUTHORITY["EPSG","6326"]],
>     PRIMEM["Greenwich",0],
>     UNIT["degree",0.0174532925199433],
>     AUTHORITY["EPSG","4326"]]
>
> Into an UTM  zone (EPSG:21036)
>
> I runned this command:
> gdalwarp -t_srs "EPSG:21036"  INPUT.tif OUTPUT.tif
> And I get this Warning/ERROR:
> ERROR 1: TIFFFetchDirectory:MZ.tif: Can not read TIFF directory count
> ERROR 1: TIFFReadDirectory:Failed to read directory at offset 8
> ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
> Segmentation fault
>
> And I obtained an OUTPUT.tif with a different size.
> - What might not be ok in this?
> - What can I do to obtain an image with the same size?
>
> Thanks
>
> best regards
> Luisa


From ivan.lucena at pmldnet.com  Mon May 24 14:51:19 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Mon May 24 14:51:23 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gQ2FuJ3QgcmVhZCBIREY0IC0gVFJNTQ==?=
Message-ID: <20100524185119.11335.qmail@s466.sureserver.com>

Hi Joaquim,

It seems to me that the HDF4 driver is taking the liberty of using the EOS API to read that file that is actually in HDF format, more specifically a SD (Scientific Dataset).

http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/hdf4/hdf4dataset.cpp#L762

That is why it doesn't go to that call to SDfileinfo():

http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/hdf4/hdf4dataset.cpp#L991

If change poDS->bIsHDFEOS to 0 in debugging mode and the subdatasets showed up:

Driver: HDF4/Hierarchical Data Format Release 4
Files: 3B430501016.HDF
Size is 512, 512
Coordinate System is `'
Subdatasets:
??SUBDATASET_1_NAME=HDF4_SDS:UNKNOWN:"3B430501016.HDF":0
??SUBDATASET_1_DESC=[1x1440x400] precipitation (32-bit floating-point)
??SUBDATASET_2_NAME=HDF4_SDS:UNKNOWN:"3B430501016.HDF":1
??SUBDATASET_2_DESC=[1x1440x400] relativeError (32-bit floating-point)
Corner Coordinates:
Upper Left??(????0.0,????0.0)
Lower Left??(????0.0,??512.0)
Upper Right (??512.0,????0.0)
Lower Right (??512.0,??512.0)
Center??????(??256.0,??256.0)

Now I can gdal_translate it to GTIFF but the image comes rotated by 90 degrees just like in other software.

I think we can file a ticket to deal with the miss identification, at least.

Obrigado pela dica.

Thanks for the tip,

Ivan

>??-------Original Message-------
>??From: Joaquim Luis <jluis@ualg.pt>
>??To: Ivan Lucena <ivan.lucena@pmldnet.com>
>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>??Subject: Re: [gdal-dev] Can't read HDF4 - TRMM
>??Sent: May 24 '10 10:46
>??
>??Ivan,
>??
>??Since nasa is now imitating me (http://mirador....) I gave it a shot
>??with Mirone, which obviously also failed because because it relies
>??mostly in gdal to read the hdf files.
>??My experience with the nasa satellite files is that they are a big mess
>??with the metadata written in endless different ways which makes the
>??parsing very painful. There is some reference info in the files. See
>??what I got using Matlab (look at the end of this long list)
>??
>??Joaquim
>??
>??
>??>>??info.Attributes(1).Value
>??
>??ans =
>??
>??OBJECT=OrbitNumber;
>??Value=-9999;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=OrbitNumber;
>??
>??OBJECT=RangeBeginningDate;
>??Value=2010/04/01;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=RangeBeginningDate;
>??
>??OBJECT=RangeBeginningTime;
>??Value=00:00:00;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=RangeBeginningTime;
>??
>??OBJECT=RangeEndingDate;
>??Value=2010/05/01;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=RangeEndingDate;
>??
>??OBJECT=RangeEndingTime;
>??Value=00:00:00;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=RangeEndingTime;
>??
>??OBJECT=GranulePointer;
>??Value="3B43.100401.6A.HDF";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=GranulePointer;
>??
>??OBJECT=ShortName;
>??Value="Surface Rain from all Satellite and Surface";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=ShortName;
>??
>??OBJECT=SizeMBECSDataGranule;
>??Value=4.394;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SizeMBECSDataGranule;
>??
>??OBJECT=LongitudeOfMaximumLatitude;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=LongitudeOfMaximumLatitude;
>??
>??OBJECT=SpatialCoverageType;
>??Value="Horizontal";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SpatialCoverageType;
>??
>??OBJECT=EllipsoidName;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EllipsoidName;
>??
>??OBJECT=EquatorialRadius;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EquatorialRadius;
>??
>??OBJECT=DenominatorFlatteningRatio;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=DenominatorFlatteningRatio;
>??
>??OBJECT=OrbitalModelName;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=OrbitalModelName;
>??
>??OBJECT=SemiMajorAxis;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SemiMajorAxis;
>??
>??OBJECT=MeanAnomaly;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=MeanAnomaly;
>??
>??OBJECT=RightAscensionNode;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=RightAscensionNode;
>??
>??OBJECT=ArgumentOfPerigee;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=ArgumentOfPerigee;
>??
>??OBJECT=Eccentricity;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=Eccentricity;
>??
>??OBJECT=Inclination;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=Inclination;
>??
>??OBJECT=EpochTime;
>??Value=99:99:99;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EpochTime;
>??
>??OBJECT=EpochDate;
>??Value=9999/99/99;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EpochDate;
>??
>??OBJECT=EpochMillisec;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EpochMillisec;
>??
>??OBJECT=WestBoundingCoordinate;
>??Value=-180;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=WestBoundingCoordinate;
>??
>??OBJECT=EastBoundingCoordinate;
>??Value=180;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EastBoundingCoordinate;
>??
>??OBJECT=NorthBoundingCoordinate;
>??Value=50;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=NorthBoundingCoordinate;
>??
>??OBJECT=SouthBoundingCoordinate;
>??Value=-50;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SouthBoundingCoordinate;
>??
>??OBJECT=CenterLatitude;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=CenterLatitude;
>??
>??OBJECT=CenterLongitude;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=CenterLongitude;
>??
>??OBJECT=RadiusValue;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=RadiusValue;
>??
>??OBJECT=LatitudeResolution;
>??Value=".25deg";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=LatitudeResolution;
>??
>??OBJECT=LongitudeResolution;
>??Value=".25deg";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=LongitudeResolution;
>??
>??OBJECT=GeographicCoordinateUnits;
>??Value="Decimal Degrees";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=GeographicCoordinateUnits;
>??
>??OBJECT=TemporalRangeType;
>??Value="Continuous Range";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=TemporalRangeType;
>??
>??OBJECT=QualityAssuranceParameterName;
>??Value="ScienceQualityFlag";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=QualityAssuranceParameterName;
>??
>??OBJECT=QualityAssuranceParameterValue;
>??Value="NOT BEING INVESTIGATED";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=QualityAssuranceParameterValue;
>??
>??OBJECT=ReprocessingActual;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=ReprocessingActual;
>??
>??OBJECT=BrowsePointer;
>??Value="3B43_BR.100401.6A.PNG";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=BrowsePointer;
>??
>??OBJECT=ScienceContact;
>??Value="George Huffman";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=ScienceContact;
>??
>??OBJECT=MeanMotion;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=MeanMotion;
>??
>??OBJECT=OrbitAdjustFlag;
>??Value=-9999;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=OrbitAdjustFlag;
>??
>??OBJECT=AttitudeModeFlag;
>??Value=-9999;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=AttitudeModeFlag;
>??
>??OBJECT=SolarBetaAngleAtBeginningOfGranule;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SolarBetaAngleAtBeginningOfGranule;
>??
>??OBJECT=SolarBetaAngleAtEndOfGranule;
>??Value=-9999.9;
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SolarBetaAngleAtEndOfGranule;
>??
>??OBJECT=SensorAlignment;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SensorAlignment;
>??
>??OBJECT=SensorAlignmentChannelOffsets;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=SensorAlignmentChannelOffsets;
>??
>??OBJECT=ScanPathModel;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=ScanPathModel;
>??
>??OBJECT=ScanPathModelParam;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=ScanPathModelParam;
>??
>??OBJECT=EphemerisFileID;
>??Value="NULL";
>??Data_Location=PGE;
>??Mandatory=FALSE;
>??END_OBJECT=EphemerisFileID;
>??
>??
>??
>??
>??> Hi,
>??>
>??> I ran gdalinfo on some HDF4 files and no subdataset shows up.
>??>
>??> The data is available for download at this website: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/presentNavigation.pl?tree=project&project=TRMM&dataGroup=Gridded&dataset=3B43:%20Monthly%200.25%20x%200.25%20degree%20merged%20TRMM%20and%20other%20sources%20estimates&version=006
>??>
>??> I tried reading those some file on:
>??>
>??> - Idrisi
>??> - ArcGIS 9.3
>??> - ArcGIS 10 (RC)
>??> - Erdas
>??>
>??> They do identify the internal datasets but they cannot identify the reference system and the images they are flipped by 90' clockwise. But that is not due to rotation. I would guess. It is more like a misinterpretation of the dimension parameter, taking rows as columns and columns as rows.??It looks like the documentation for that particular product is missing here: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/servcoll.pl?helpmenuclass=inventory&SearchButton=Search%20GES-DISC
>??>
>??> Does anybody has a clue?
>??>
>??> BTW. There is a netCDF version of that data that also has some issues.
>??>
>??> Regards,
>??>
>??> Ivan
>??>
>??>
>??>
>??>
>??>
>??>
>??> _______________________________________________
>??> gdal-dev mailing list
>??> gdal-dev@lists.osgeo.org
>??> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>??>
>??>
>??>????
>??
>??
From schut at sarvision.nl  Tue May 25 03:37:58 2010
From: schut at sarvision.nl (Vincent Schut)
Date: Tue May 25 03:39:25 2010
Subject: [GRASS-dev] Re: [gdal-dev] gdaldem hillshade directions / GRASS
	r.shaded.relief
In-Reply-To: <201005200138.03989.even.rouault@mines-paris.org>
References: <89570.21928.qm@web110014.mail.gq1.yahoo.com>
	<201005200138.03989.even.rouault@mines-paris.org>
Message-ID: <4BFB7E56.8030908@sarvision.nl>

On 05/20/2010 01:38 AM, Even Rouault wrote:
> Hamish,
>
> I've taken some time to experiment a bit with GRASS and GRASS behaviour is
> correct of course, so sorry for the noise.
>
> I've finally identified why gdaldem (and initially Matt's hillshade utility)
> got it wrong. GRASS r.mapcalc atan(x,y) function has its parameters reversed
> in comparison to C atan2() used by GDAL : atan(x,y)=atan2(y,x)....
>
> So the aspect computation was wrong which could also be seen as a wrong
> interpretation of the azimuth parameter. But for the particular value of
> az=315deg, the beauty of trigonometry makes it such that cos(az-pi/2-atan2
> (y,x)) = cos(az-pi/2- atan2(x,y))...
>
> Fixed as ticket http://trac.osgeo.org/gdal/ticket/3586
>    

Even,

Thanks for looking further into this and fixing it. I'll remove my 
workaround code and update my gdal.

Vincent.
From aca at ngi.be  Tue May 25 03:36:26 2010
From: aca at ngi.be (acangi)
Date: Tue May 25 03:40:08 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
	<1274451513236-5084464.post@n2.nabble.com>
	<20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>
Message-ID: <1274772986011-5097282.post@n2.nabble.com>


Back from week-end, sorry for interrupting the conversation.

I tried setting a -a_nodata 255 value before creating the pyramid, the
result is exactly the same as with black nodata or without a nodata value.
The nodata value of the original geotiffs is ignored.



> First an image is created, large enough to hold the tile and its  
> neighbors from level x-1
> 
Is it possible this image has a black background color ?



> Third, the scaling takes place.
> 
I guess the black background is interpolated with the border data and
produces nearly black pixels.



> The problem is, sometimes neighbors are missing, right ?
> 
Right : my source data is not a rectangle.



> Do you have this problem already at level 1 or beginning with level 2 ?
> 
Curiously, it starts at level 3. At levels 0, 1 and 2, the black remains
#000000



> Do you start from one big image or an already tiled image ?
> 
My source data is made of several geotiff images.

In the past, I generated the same pyramid and didn't have this problem. The
parameters that changed are : 
 -pyramidOnly in the past, now no more
 -ps 10000 10000 in the past, now 4096 4096
 -co COMPRESS="LZW" in the past, "JPEG" now
 - GDAL 1.6.0 in the past, now GDAL 1.7.2

The command I use now is :
gdal_retile.py -targetDir ../pyramid4096/ -levels 12 -v -s_srs
/mnt/webgisdata/geoserver/config/3812.prj -ps 4096 4096 -r bilinear -co
"COMPRESS=JPEG" -co "TILED=YES" -co "INTERLEAVE=PIXEL" -tileIndex orthocol
-tileIndexField location *.tif &

I gave a shot with LZW compression and the problem is gone away. But the
output data is 4 GB instead of 800 MB with JPEG compression. 

Do you think I should use LZW compression ?
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5097282.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From aca at ngi.be  Tue May 25 04:41:54 2010
From: aca at ngi.be (acangi)
Date: Tue May 25 04:54:13 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274772986011-5097282.post@n2.nabble.com>
References: <1274365449218-5079895.post@n2.nabble.com>
	<20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
	<1274451513236-5084464.post@n2.nabble.com>
	<20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>
	<1274772986011-5097282.post@n2.nabble.com>
Message-ID: <1274776914216-5097462.post@n2.nabble.com>


Back from week-end, sorry for interrupting the conversation.

I tried setting a -a_nodata 255 value before creating the pyramid, the
result is exactly the same as with black nodata or without a nodata value.
The nodata value of the original geotiffs is ignored.



> First an image is created, large enough to hold the tile and its  
> neighbors from level x-1
> 
Is it possible this image has a black background color ?



> Third, the scaling takes place.
> 
I guess the black background is interpolated with the border data and
produces nearly black pixels.



> The problem is, sometimes neighbors are missing, right ?
> 
Right : my source data is not a rectangle.



> Do you have this problem already at level 1 or beginning with level 2 ?
> 
Curiously, it starts at level 3. At levels 0, 1 and 2, the black remains
#000000



> Do you start from one big image or an already tiled image ?
> 
My source data is made of several geotiff images.

In the past, I generated the same pyramid and didn't have this problem. The
parameters that changed are : 
 -pyramidOnly in the past, now no more
 -ps 10000 10000 in the past, now 4096 4096
 -co COMPRESS="LZW" in the past, "JPEG" now
 - GDAL 1.6.0 in the past, now GDAL 1.7.2

The command I use now is :
gdal_retile.py -targetDir ../pyramid4096/ -levels 12 -v -s_srs
/mnt/webgisdata/geoserver/config/3812.prj -ps 4096 4096 -r bilinear -co
"COMPRESS=JPEG" -co "TILED=YES" -co "INTERLEAVE=PIXEL" -tileIndex orthocol
-tileIndexField location *.tif &

I gave a shot with LZW compression and the problem is gone away. But the
output data is 4 GB instead of 800 MB with JPEG compression. 

Do you think I should use LZW compression ?

-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5097462.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From aca at ngi.be  Tue May 25 05:09:55 2010
From: aca at ngi.be (acangi)
Date: Tue May 25 05:15:13 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274776914216-5097462.post@n2.nabble.com>
References: <20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
	<1274451513236-5084464.post@n2.nabble.com>
	<20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>
	<1274772986011-5097282.post@n2.nabble.com>
	<1274776914216-5097462.post@n2.nabble.com>
Message-ID: <1274778595107-5097559.post@n2.nabble.com>


Back from week-end, sorry for interrupting the conversation.

I tried setting a -a_nodata 255 value before creating the pyramid, the
result is exactly the same as with black nodata or without a nodata value.
The nodata value of the original geotiffs is ignored.



> First an image is created, large enough to hold the tile and its  
> neighbors from level x-1
> 
Is it possible this image has a black background color ?



> Third, the scaling takes place.
> 
I guess the black background is interpolated with the border data and
produces nearly black pixels.



> The problem is, sometimes neighbors are missing, right ?
> 
Right : my source data is not a rectangle.



> Do you have this problem already at level 1 or beginning with level 2 ?
> 
Curiously, it starts at level 3. At levels 0, 1 and 2, the black remains
#000000



> Do you start from one big image or an already tiled image ?
> 
My source data is made of several geotiff images.

In the past, I generated the same pyramid and didn't have this problem. The
parameters that changed are : 
 -pyramidOnly in the past, now no more
 -ps 10000 10000 in the past, now 4096 4096
 -co COMPRESS="LZW" in the past, "JPEG" now
 - GDAL 1.6.0 in the past, now GDAL 1.7.2

The command I use now is :
gdal_retile.py -targetDir ../pyramid4096/ -levels 12 -v -s_srs
/mnt/webgisdata/geoserver/config/3812.prj -ps 4096 4096 -r bilinear -co
"COMPRESS=JPEG" -co "TILED=YES" -co "INTERLEAVE=PIXEL" -tileIndex orthocol
-tileIndexField location *.tif &

I gave a shot with LZW compression and the problem is gone away. But the
output data is 4 GB instead of 800 MB with JPEG compression. 

Do you think I should use LZW compression ?
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5097559.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From benang at cs.its.ac.id  Tue May 25 05:53:52 2010
From: benang at cs.its.ac.id (benang@cs.its.ac.id)
Date: Tue May 25 06:17:16 2010
Subject: [gdal-dev] Unhandled Exception.
Message-ID: <23376.110.139.64.81.1274781232.squirrel@webmail.cs.its.ac.id>

Hi, I tried to run the example in the tutorial. But I've got an unhandled
exception at the GDALAllRegister(). This is the call stack:

 	msvcr90d.dll!1024082a()
 	[Frames below may be incorrect and/or missing, no symbols loaded for
msvcr90d.dll]
 	msvcr90d.dll!102402e6()
 	msvcr90d.dll!1023ffec()
 	GRE3D.exe!std::less<std::basic_string<char,std::char_traits<char>,std::allocator<char>
> >::operator()(const
std::basic_string<char,std::char_traits<char>,std::allocator<char> > &
_Left="????/vsisubfile/", const
std::basic_string<char,std::char_traits<char>,std::allocator<char> > &
_Right="")  Line 143 + 0xe bytes	C++
 	GRE3D.exe!std::_Tree<std::_Tmap_traits<std::basic_string<char,std::char_traits<char>,std::allocator<char>
>,VSIFilesystemHandler
*,std::less<std::basic_string<char,std::char_traits<char>,std::allocator<char>
>
>,std::allocator<std::pair<std::basic_string<char,std::char_traits<char>,std::allocator<char>
> const ,VSIFilesystemHandler *> >,0> >::_Lbound(const
std::basic_string<char,std::char_traits<char>,std::allocator<char> > &
_Keyval="")  Line 1268 + 0x1c bytes	C++
 	GRE3D.exe!std::_Tree<std::_Tmap_traits<std::basic_string<char,std::char_traits<char>,std::allocator<char>
>,VSIFilesystemHandler
*,std::less<std::basic_string<char,std::char_traits<char>,std::allocator<char>
>
>,std::allocator<std::pair<std::basic_string<char,std::char_traits<char>,std::allocator<char>
> const ,VSIFilesystemHandler *> >,0> >::lower_bound(const
std::basic_string<char,std::char_traits<char>,std::allocator<char> > &
_Keyval="")  Line 1004 + 0x10 bytes	C++
 	GRE3D.exe!std::map<std::basic_string<char,std::char_traits<char>,std::allocator<char>
>,VSIFilesystemHandler
*,std::less<std::basic_string<char,std::char_traits<char>,std::allocator<char>
>
>,std::allocator<std::pair<std::basic_string<char,std::char_traits<char>,std::allocator<char>
> const ,VSIFilesystemHandler *> > >::operator[](const
std::basic_string<char,std::char_traits<char>,std::allocator<char> > &
_Keyval="")  Line 171	C++
 	GRE3D.exe!VSIFileManager::InstallHandler(const
std::basic_string<char,std::char_traits<char>,std::allocator<char> > &
osPrefix="", VSIFilesystemHandler * poHandler=0x00347188)  Line 659 +
0x13 bytes	C++
 	GRE3D.exe!VSIInstallMemFileHandler()  Line 708 + 0x48 bytes	C++
 	GRE3D.exe!VSIFileManager::Get()  Line 608	C++
 	GRE3D.exe!VSIFileManager::GetHandler(const char * pszPath=0x00363120) 
Line 624 + 0x5 bytes	C++
 	GRE3D.exe!VSIReadDir(const char * pszPath=0x00363120)  Line 63 + 0x9
bytes	C++
>	GRE3D.exe!GDALDriverManager::AutoLoadDrivers()  Line 618 + 0x12 bytes	C++
 	GRE3D.exe!GDALAllRegister()  Line 79	C++

Oh yeah BTW I build GDAL from its source, not the pre-compiled one. And I
use the vcproject that uses nmake.

So, why is this happening? What should I do to solve this? Thanks in advance.

Fare thee well,
Bawenang R. P. P.

----------------
"Kuaci is good. And coffee makes it better..."


--

http://www.its.ac.id 
From antonio.rocha at deimos.com.pt  Tue May 25 07:05:57 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Tue May 25 07:16:26 2010
Subject: [gdal-dev] Gdalwarp Landsat image- Segmentation fault
Message-ID: <4BFBAF15.5010409@deimos.com.pt>

Hi

I'm trying to Warp a Landsat Geotiff band (in UTM coordinates) to a 
specific set of coordinates for Portugal, using this command:
gdalwarp -t_srs "EPSG:3763" L71203033_03320000601_B10.TIF B10.tif &>log.log

Not only the image size doesn't match, but pixel size was changed (a 
bit) and I got a segmentation error and TIFFWriteEncodedStrip and 
TIFFReadDirectory Errors.
What am I doing wrong?

This is the error log that I obtained

Creating output file that is 8229P x 7218L.
Processing input file L71203033_03320000601_B10.TIF.
0...10...20...30...40...50ERROR 1: TIFFFetchDirectory:B10.tif: Can not 
read TIFF directory count
ERROR 1: TIFFReadDirectory:Failed to read directory at offset 8
ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
ERROR 1: TIFFWriteEncodedStrip:Must set "ImageWidth" before writing data
(..)
More than 1000 errors or warnings have been reported. No more will be 
reported from now.
...60...70...80...90...
Segmentation fault



__________ Information from ESET NOD32 Antivirus, version of virus signature database 5143 (20100525) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From hmorkemo at gmail.com  Tue May 25 07:53:09 2010
From: hmorkemo at gmail.com (Helge Morkemo)
Date: Tue May 25 07:53:13 2010
Subject: [gdal-dev] BuildOverviews fails gor Jpeg-compressed TIFF
In-Reply-To: <4BF6C6D6.2050204@pobox.com>
References: <AANLkTikIaey8SMk7ePDq7-0hNLfVXJfwJkk6Aay3k3tE@mail.gmail.com>
	<4BF6C6D6.2050204@pobox.com>
Message-ID: <AANLkTilHUUTf95BY1d-5nEtLEEzQJxZ_2HNbcercuedW@mail.gmail.com>

Have you made these changes after the 1.7.2 release?

I have tested some more.
The problem occurs when I use PHOTOMETRIC=YCBCR, not when I use =RGB.
I've tried setting INTERLEAVE=PIXEL too, but that didn't help (yes, I know
it's the default).
Anything else I can try?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100525/7db10568/attachment.html
From mateusz at loskot.net  Tue May 25 08:35:11 2010
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue May 25 08:32:21 2010
Subject: [gdal-dev] Unhandled Exception.
In-Reply-To: <23376.110.139.64.81.1274781232.squirrel@webmail.cs.its.ac.id>
References: <23376.110.139.64.81.1274781232.squirrel@webmail.cs.its.ac.id>
Message-ID: <4BFBC3FF.2010205@loskot.net>

On 25/05/10 10:53, benang@cs.its.ac.id wrote:
> Hi, I tried to run the example in the tutorial. But I've got an unhandled
> exception at the GDALAllRegister(). This is the call stack:
>
> [...]
> Oh yeah BTW I build GDAL from its source, not the pre-compiled one. And I
> use the vcproject that uses nmake.
>
> So, why is this happening? What should I do to solve this? Thanks in advance.

Either rebuild GDAL with /MDd or rebuild your program with /MD.
Should help.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
From christian.mueller at nvoe.at  Tue May 25 08:52:00 2010
From: christian.mueller at nvoe.at (christian.mueller@nvoe.at)
Date: Tue May 25 08:52:10 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <1274778595107-5097559.post@n2.nabble.com>
References: <20100520170454.bjgrply2pxc4wggo@webmail.nvoe.at>
	<1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
	<1274451513236-5084464.post@n2.nabble.com>
	<20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>
	<1274772986011-5097282.post@n2.nabble.com>
	<1274776914216-5097462.post@n2.nabble.com>
	<1274778595107-5097559.post@n2.nabble.com>
Message-ID: <20100525145200.ybaoo2eio0kswoks@webmail.nvoe.at>

Hmm, jpeg is not a lossless  compression, LZW is lossless. It appears  
that we have a problem beyond our scope.  I never use jpeg and prefer  
LZW or png.  I would go with LZW, this is the safe way.
4 GB are not dramatically. I store my tiles/pyramids in a database  
prepared for geoserver, there are about 100 GBs of tiles in png  
format, no problem.

Btw, I have seen another mail one the mailing list about problems  
adding overviews to a gtiff with JPEG compression.




Quoting acangi <aca@ngi.be>:

>
> Back from week-end, sorry for interrupting the conversation.
>
> I tried setting a -a_nodata 255 value before creating the pyramid, the
> result is exactly the same as with black nodata or without a nodata value.
> The nodata value of the original geotiffs is ignored.
>
>
>
>> First an image is created, large enough to hold the tile and its
>> neighbors from level x-1
>>
> Is it possible this image has a black background color ?
>
>
>
>> Third, the scaling takes place.
>>
> I guess the black background is interpolated with the border data and
> produces nearly black pixels.
>
>
>
>> The problem is, sometimes neighbors are missing, right ?
>>
> Right : my source data is not a rectangle.
>
>
>
>> Do you have this problem already at level 1 or beginning with level 2 ?
>>
> Curiously, it starts at level 3. At levels 0, 1 and 2, the black remains
> #000000
>
>
>
>> Do you start from one big image or an already tiled image ?
>>
> My source data is made of several geotiff images.
>
> In the past, I generated the same pyramid and didn't have this problem. The
> parameters that changed are :
>  -pyramidOnly in the past, now no more
>  -ps 10000 10000 in the past, now 4096 4096
>  -co COMPRESS="LZW" in the past, "JPEG" now
>  - GDAL 1.6.0 in the past, now GDAL 1.7.2
>
> The command I use now is :
> gdal_retile.py -targetDir ../pyramid4096/ -levels 12 -v -s_srs
> /mnt/webgisdata/geoserver/config/3812.prj -ps 4096 4096 -r bilinear -co
> "COMPRESS=JPEG" -co "TILED=YES" -co "INTERLEAVE=PIXEL" -tileIndex orthocol
> -tileIndexField location *.tif &
>
> I gave a shot with LZW compression and the problem is gone away. But the
> output data is 4 GB instead of 800 MB with JPEG compression.
>
> Do you think I should use LZW compression ?
> --
> View this message in context:   
> http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5097559.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.


From warmerdam at pobox.com  Tue May 25 09:01:00 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 25 09:01:07 2010
Subject: [gdal-dev] BuildOverviews fails gor Jpeg-compressed TIFF
In-Reply-To: <AANLkTilHUUTf95BY1d-5nEtLEEzQJxZ_2HNbcercuedW@mail.gmail.com>
References: <AANLkTikIaey8SMk7ePDq7-0hNLfVXJfwJkk6Aay3k3tE@mail.gmail.com>
	<4BF6C6D6.2050204@pobox.com>
	<AANLkTilHUUTf95BY1d-5nEtLEEzQJxZ_2HNbcercuedW@mail.gmail.com>
Message-ID: <4BFBCA0C.1070606@pobox.com>

Helge Morkemo wrote:
> Have you made these changes after the 1.7.2 release?
> 
> I have tested some more.
> The problem occurs when I use PHOTOMETRIC=YCBCR, not when I use =RGB.
> I've tried setting INTERLEAVE=PIXEL too, but that didn't help (yes, I 
> know it's the default).
> Anything else I can try?

Helge,

Yes, I believe some of the changes were made after the 1.7.2 release.  I
also don't think all the libtiff changes were backported into the 1.7.x
branch so it may be necessary to use trunk to make this work (or an
external libtiff with the latest changes).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From aca at ngi.be  Tue May 25 09:01:36 2010
From: aca at ngi.be (acangi)
Date: Tue May 25 09:01:39 2010
Subject: [gdal-dev] Re: gdal_retile and nodata
In-Reply-To: <20100525145200.ybaoo2eio0kswoks@webmail.nvoe.at>
References: <1274425248420-5083043.post@n2.nabble.com>
	<1274425869433-5083086.post@n2.nabble.com>
	<20100521092541.5zi619ra9kwwkkcc@ux-front01.ux-home.local>
	<1274448479848-5084204.post@n2.nabble.com>
	<20100521155035.0tfvs9u9cs8gw0kk@ux-front01.ux-home.local>
	<1274451513236-5084464.post@n2.nabble.com>
	<20100521163803.o3hnblsni8g08sog@ux-front01.ux-home.local>
	<1274772986011-5097282.post@n2.nabble.com>
	<1274776914216-5097462.post@n2.nabble.com>
	<20100525145200.ybaoo2eio0kswoks@webmail.nvoe.at>
Message-ID: <1274792496571-5098330.post@n2.nabble.com>


Thanks, I'll go for LZW.

Just for clarity : 4 GB was the size of the smaller set that I used for the
tests. I expect the full LZW pyramid to be around 500 GB. The JPEG pyramid
is 125 GB.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-retile-and-nodata-tp5079895p5098330.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Tue May 25 09:20:10 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 25 09:20:16 2010
Subject: [gdal-dev] Gdalwarp Landsat image- Segmentation fault
In-Reply-To: <4BFBAF15.5010409@deimos.com.pt>
References: <4BFBAF15.5010409@deimos.com.pt>
Message-ID: <4BFBCE8A.3070707@pobox.com>

Ant?nio Rocha wrote:
> Hi
> 
> I'm trying to Warp a Landsat Geotiff band (in UTM coordinates) to a 
> specific set of coordinates for Portugal, using this command:
> gdalwarp -t_srs "EPSG:3763" L71203033_03320000601_B10.TIF B10.tif &>log.log
> 
> Not only the image size doesn't match, but pixel size was changed (a 
> bit) 

Ant?nio,

A change of image and pixel size is to be expected when reprojecting
and letting the software create the output file.

and I got a segmentation error and TIFFWriteEncodedStrip and
> TIFFReadDirectory Errors.

This is not expected and I'm quite surprised that it seems to have
happened half way through a not terribly large file.  Perhaps that is
when the block cache got full, and information started getting written.

What sort of build of the software are you using?  Version, operating
system, built yourself?   Are you using an internal copy of libtiff or
inside libgdal or an external libtiff?  By any chance might your disk
be full?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From antonio.rocha at deimos.com.pt  Tue May 25 09:49:00 2010
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Tue May 25 09:49:07 2010
Subject: [gdal-dev] Gdalwarp Landsat image- Segmentation fault
In-Reply-To: <4BFBCE8A.3070707@pobox.com>
References: <4BFBAF15.5010409@deimos.com.pt> <4BFBCE8A.3070707@pobox.com>
Message-ID: <4BFBD54C.8030303@deimos.com.pt>

Greetings Franz

This may sound ackward but I was running it at a shared folder (between 
Windows and my Ubuntu)...

But If I run at my ubuntu's user area Desktop it runs perfectly well...

Thanks for your help. This is really strange. Sorry for bothering you 
with a stupid thing like this

Best regards,
Antonio


__________ Information from ESET NOD32 Antivirus, version of virus signature database 5144 (20100525) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From ivan.lucena at pmldnet.com  Tue May 25 11:41:25 2010
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Tue May 25 11:41:28 2010
Subject: =?iso-8859-1?B?UmU6IFtnZGFsLWRldl0gQ2FuJ3QgcmVhZCBIREY0IC0gVFJNTQ==?=
Message-ID: <20100525154125.24614.qmail@s466.sureserver.com>

It look like pyHDF know more about the HDF SD dimensions than the other software, including GDAL:

>>> from pyhdf.SD import *
>>> d = SD('D:\\tmp\\3B430501016.HDF')
>>> d.datasets()
{'precipitation': (('scan', 'longitude', 'latitude'), (1, 1440, 400), 5, 0), 'relativeError': (('scan', 'longitude', 'latitude'), (1, 1440, 400), 5, 1)}
>>> ds = d.select('precipitation')
>>> ds.dimensions()
{'latitude': 400, 'longitude': 1440, 'scan': 1}
>>> 

That means 1440 columns, 400 rows, and 1 band.

But GDAL, Idrisi, ArcGIS, Erdas and Envi reads it as 400 columns, 1440 rows, and 1 band. 

D:\BugsJar>gdal_translate HDF4_SDS:UNKNOWN:"3B430501016.HDF":0 out.tif
Input file size is 400, 1440
0...10...20...30...40...50...60...70...80...90...100 - done.

$ gdalinfo out.tif
Driver: GTiff/GeoTIFF
Files: out.tif
Size is 400, 1440
Coordinate System is `'
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 1440.0)
Upper Right (  400.0,    0.0)
Lower Right (  400.0, 1440.0)
Center      (  200.0,  720.0)
Band 1 Block=400x5 Type=Float32, ColorInterp=Gray

There is something wrong with the internal documentation of that file but it seems to be possible to find the dimensions from other HDF (not EOS) API functions. I would try to include calls to SDdiminfo() or SDgetdimstr() perhaps.

Regards,

Ivan


>??-------Original Message-------
>??From: Ivan Lucena <ivan.lucena@pmldnet.com>
>??To: Joaquim Luis <jluis@ualg.pt>
>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>??Subject: Re: [gdal-dev] Can't read HDF4 - TRMM
>??Sent: May 24 '10 13:51
>??
>??Hi Joaquim,
>??
>??It seems to me that the HDF4 driver is taking the liberty of using the EOS API to read that file that is actually in HDF format, more specifically a SD (Scientific Dataset).
>??
>??http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/hdf4/hdf4dataset.cpp#L762
>??
>??That is why it doesn't go to that call to SDfileinfo():
>??
>??http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/hdf4/hdf4dataset.cpp#L991
>??
>??If change poDS->bIsHDFEOS to 0 in debugging mode and the subdatasets showed up:
>??
>??Driver: HDF4/Hierarchical Data Format Release 4
>??Files: 3B430501016.HDF
>??Size is 512, 512
>??Coordinate System is `'
>??Subdatasets:
>????SUBDATASET_1_NAME=HDF4_SDS:UNKNOWN:"3B430501016.HDF":0
>????SUBDATASET_1_DESC=[1x1440x400] precipitation (32-bit floating-point)
>????SUBDATASET_2_NAME=HDF4_SDS:UNKNOWN:"3B430501016.HDF":1
>????SUBDATASET_2_DESC=[1x1440x400] relativeError (32-bit floating-point)
>??Corner Coordinates:
>??Upper Left??(????0.0,????0.0)
>??Lower Left??(????0.0,??512.0)
>??Upper Right (??512.0,????0.0)
>??Lower Right (??512.0,??512.0)
>??Center??????(??256.0,??256.0)
>??
>??Now I can gdal_translate it to GTIFF but the image comes rotated by 90 degrees just like in other software.
>??
>??I think we can file a ticket to deal with the miss identification, at least.
>??
>??Obrigado pela dica.
>??
>??Thanks for the tip,
>??
>??Ivan
>??
>??>??-------Original Message-------
>??>??From: Joaquim Luis <jluis@ualg.pt>
>??>??To: Ivan Lucena <ivan.lucena@pmldnet.com>
>??>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>??>??Subject: Re: [gdal-dev] Can't read HDF4 - TRMM
>??>??Sent: May 24 '10 10:46
>??>??
>??>??Ivan,
>??>??
>??>??Since nasa is now imitating me (http://mirador....) I gave it a shot
>??>??with Mirone, which obviously also failed because because it relies
>??>??mostly in gdal to read the hdf files.
>??>??My experience with the nasa satellite files is that they are a big mess
>??>??with the metadata written in endless different ways which makes the
>??>??parsing very painful. There is some reference info in the files. See
>??>??what I got using Matlab (look at the end of this long list)
>??>??
>??>??Joaquim
>??>??
>??>??
>??>??>>??info.Attributes(1).Value
>??>??
>??>??ans =
>??>??
>??>??OBJECT=OrbitNumber;
>??>??Value=-9999;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=OrbitNumber;
>??>??
>??>??OBJECT=RangeBeginningDate;
>??>??Value=2010/04/01;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeBeginningDate;
>??>??
>??>??OBJECT=RangeBeginningTime;
>??>??Value=00:00:00;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeBeginningTime;
>??>??
>??>??OBJECT=RangeEndingDate;
>??>??Value=2010/05/01;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeEndingDate;
>??>??
>??>??OBJECT=RangeEndingTime;
>??>??Value=00:00:00;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeEndingTime;
>??>??
>??>??OBJECT=GranulePointer;
>??>??Value="3B43.100401.6A.HDF";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=GranulePointer;
>??>??
>??>??OBJECT=ShortName;
>??>??Value="Surface Rain from all Satellite and Surface";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ShortName;
>??>??
>??>??OBJECT=SizeMBECSDataGranule;
>??>??Value=4.394;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SizeMBECSDataGranule;
>??>??
>??>??OBJECT=LongitudeOfMaximumLatitude;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=LongitudeOfMaximumLatitude;
>??>??
>??>??OBJECT=SpatialCoverageType;
>??>??Value="Horizontal";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SpatialCoverageType;
>??>??
>??>??OBJECT=EllipsoidName;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EllipsoidName;
>??>??
>??>??OBJECT=EquatorialRadius;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EquatorialRadius;
>??>??
>??>??OBJECT=DenominatorFlatteningRatio;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=DenominatorFlatteningRatio;
>??>??
>??>??OBJECT=OrbitalModelName;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=OrbitalModelName;
>??>??
>??>??OBJECT=SemiMajorAxis;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SemiMajorAxis;
>??>??
>??>??OBJECT=MeanAnomaly;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=MeanAnomaly;
>??>??
>??>??OBJECT=RightAscensionNode;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RightAscensionNode;
>??>??
>??>??OBJECT=ArgumentOfPerigee;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ArgumentOfPerigee;
>??>??
>??>??OBJECT=Eccentricity;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=Eccentricity;
>??>??
>??>??OBJECT=Inclination;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=Inclination;
>??>??
>??>??OBJECT=EpochTime;
>??>??Value=99:99:99;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EpochTime;
>??>??
>??>??OBJECT=EpochDate;
>??>??Value=9999/99/99;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EpochDate;
>??>??
>??>??OBJECT=EpochMillisec;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EpochMillisec;
>??>??
>??>??OBJECT=WestBoundingCoordinate;
>??>??Value=-180;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=WestBoundingCoordinate;
>??>??
>??>??OBJECT=EastBoundingCoordinate;
>??>??Value=180;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EastBoundingCoordinate;
>??>??
>??>??OBJECT=NorthBoundingCoordinate;
>??>??Value=50;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=NorthBoundingCoordinate;
>??>??
>??>??OBJECT=SouthBoundingCoordinate;
>??>??Value=-50;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SouthBoundingCoordinate;
>??>??
>??>??OBJECT=CenterLatitude;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=CenterLatitude;
>??>??
>??>??OBJECT=CenterLongitude;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=CenterLongitude;
>??>??
>??>??OBJECT=RadiusValue;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RadiusValue;
>??>??
>??>??OBJECT=LatitudeResolution;
>??>??Value=".25deg";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=LatitudeResolution;
>??>??
>??>??OBJECT=LongitudeResolution;
>??>??Value=".25deg";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=LongitudeResolution;
>??>??
>??>??OBJECT=GeographicCoordinateUnits;
>??>??Value="Decimal Degrees";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=GeographicCoordinateUnits;
>??>??
>??>??OBJECT=TemporalRangeType;
>??>??Value="Continuous Range";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=TemporalRangeType;
>??>??
>??>??OBJECT=QualityAssuranceParameterName;
>??>??Value="ScienceQualityFlag";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=QualityAssuranceParameterName;
>??>??
>??>??OBJECT=QualityAssuranceParameterValue;
>??>??Value="NOT BEING INVESTIGATED";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=QualityAssuranceParameterValue;
>??>??
>??>??OBJECT=ReprocessingActual;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ReprocessingActual;
>??>??
>??>??OBJECT=BrowsePointer;
>??>??Value="3B43_BR.100401.6A.PNG";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=BrowsePointer;
>??>??
>??>??OBJECT=ScienceContact;
>??>??Value="George Huffman";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ScienceContact;
>??>??
>??>??OBJECT=MeanMotion;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=MeanMotion;
>??>??
>??>??OBJECT=OrbitAdjustFlag;
>??>??Value=-9999;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=OrbitAdjustFlag;
>??>??
>??>??OBJECT=AttitudeModeFlag;
>??>??Value=-9999;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=AttitudeModeFlag;
>??>??
>??>??OBJECT=SolarBetaAngleAtBeginningOfGranule;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SolarBetaAngleAtBeginningOfGranule;
>??>??
>??>??OBJECT=SolarBetaAngleAtEndOfGranule;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SolarBetaAngleAtEndOfGranule;
>??>??
>??>??OBJECT=SensorAlignment;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SensorAlignment;
>??>??
>??>??OBJECT=SensorAlignmentChannelOffsets;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SensorAlignmentChannelOffsets;
>??>??
>??>??OBJECT=ScanPathModel;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ScanPathModel;
>??>??
>??>??OBJECT=ScanPathModelParam;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ScanPathModelParam;
>??>??
>??>??OBJECT=EphemerisFileID;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EphemerisFileID;
>??>??
>??>??
>??>??
>??>??
>??>??> Hi,
>??>??>
>??>??> I ran gdalinfo on some HDF4 files and no subdataset shows up.
>??>??>
>??>??> The data is available for download at this website: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/presentNavigation.pl?tree=project&project=TRMM&dataGroup=Gridded&dataset=3B43:%20Monthly%200.25%20x%200.25%20degree%20merged%20TRMM%20and%20other%20sources%20estimates&version=006
>??>??>
>??>??> I tried reading those some file on:
>??>??>
>??>??> - Idrisi
>??>??> - ArcGIS 9.3
>??>??> - ArcGIS 10 (RC)
>??>??> - Erdas
>??>??>
>??>??> They do identify the internal datasets but they cannot identify the reference system and the images they are flipped by 90' clockwise. But that is not due to rotation. I would guess. It is more like a misinterpretation of the dimension parameter, taking rows as columns and columns as rows.??It looks like the documentation for that particular product is missing here: http://mirador.gsfc.nasa.gov/cgi-bin/mirador/servcoll.pl?helpmenuclass=inventory&SearchButton=Search%20GES-DISC
>??>??>
>??>??> Does anybody has a clue?
>??>??>
>??>??> BTW. There is a netCDF version of that data that also has some issues.
>??>??>
>??>??> Regards,
>??>??>
>??>??> Ivan
>??>??>
>??>??>
>??>??>
>??>??>
>??>??>
>??>??>
>??>??> _______________________________________________
>??>??> gdal-dev mailing list
>??>??> gdal-dev@lists.osgeo.org
>??>??> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>??>??>
>??>??>
>??>??>????
>??>??
>??>??
>??_______________________________________________
>??gdal-dev mailing list
>??gdal-dev@lists.osgeo.org
>??http://lists.osgeo.org/mailman/listinfo/gdal-dev
>??
From eduardo.ramalho at gmail.com  Tue May 25 11:41:52 2010
From: eduardo.ramalho at gmail.com (Eduardo Ramalho)
Date: Tue May 25 11:41:55 2010
Subject: [gdal-dev] Different image with WMS vs tiled WMS
Message-ID: <AANLkTikVUxwLAMeAD-4ZE4rbmWVAp94zOi0MBO6gt-6P@mail.gmail.com>

Hello!

I'm using "gdal_translate" 1.7.1 to create a local png file, by WMS
protocol, from GeoServer 2.0.1.

The file created by WMS is ok. When I try to access the same content
by tiled WMS (WMS-C) the file generated is not quite right.

The difference is on the top right corner of the generated image. By
WMS, my geometry bounding box touches the image border on all sides.

When I request the same image (same pixel dimension, projection and
georeferenced coordinates) the image has an blank band between the
border and my geomerty on top and on right corners. My geometry is not
clipped but it appears like it was scaled down to fit that band on the
same image pixel dimension.

I probably missing something but cannot find any documentation to
justify this problem. Can someone lead me to the rigth path ?

I investigate the GeoServer logs, to try to understand what Gdal was
requesting. This is what I found.

1) A correct image is generated with this kind of request:

/geoserver/wms?service=WMS&version=1.1.0&request=GetMap&layers=portugal:caopa&styles=
&bbox=-119191.408,-300404.804,162129.081,276083.767
&width=996&height=2048
&srs=EPSG:3763&format=image/png

1.1) The projection EPSG:3763 is native to my datasource.
1.2) The Bounding box is calculated by postgis for my geometry
1.3) The width and height is the request image dimension.


2) For a tiled WMS request, I only changed the following items on XML
configuration file:

2.1) The URL to GeoWebCache service (inside GeoServer)
2.2) The blocksize from 996x2048 to 256x256. The 256 is my tile size
as defined on GeoWebCache.

This generates 32 http requests by WMS like this.

/geoserver/gwc/service/wms?request=GetMap&version=1.1.1&layers=portugal:caopa&styles=&srs=EPSG:3763&format=image/png
&width=228&height=256
&bbox=97730.41484337,-300404.80400000,162129.08100000,-228343.73262500

2.3) it request 8 rows and 4 columns
2.4) 16 requests had "...&width=228..." and not "256".
2.5) all the bbox parameters never outgrown my geometry bbox.

Is this enough to understand what is happening ?

Kind regards,

Eduardo
From jason.roberts at duke.edu  Tue May 25 11:54:23 2010
From: jason.roberts at duke.edu (Jason Roberts)
Date: Tue May 25 11:55:26 2010
Subject: [gdal-dev] Can't read HDF4 - TRMM
In-Reply-To: <20100525154125.24614.qmail@s466.sureserver.com>
References: <20100525154125.24614.qmail@s466.sureserver.com>
Message-ID: <005a01cafc22$8c2038d0$a460aa70$@roberts@duke.edu>

Ivan,

This sounds very much like the classic problem with HDF and netCDF where the
formats are extremely flexible and allow data to be stored in a variety of
ways, but the data providers could not all agree on the same way of doing
it. Different providers adopted different conventions such as HDF-EOS. GDAL
is designed to work with some products but not all of them (see
http://www.gdal.org/frmt_hdf4.html, look under "Georeference").

The solution to this might be to modify the HDF driver to recognize and read
the particular HDF "attributes" that are used in this particular file. For
example, it could look for dimensions called "longitude" and "latitude" and
then assume they are x and y respectively. But this approach can get very
tedious: do you look for "longitude", "Longitude", "lon", "LON", "long",
etc? I have seen at least all of those. Where do you stop?

Perhaps the maintainers of the GDAL HDF driver could comment on their
general philosophy of recognizing different attributes or conventions.
Because this can be very tedious, they might not want to implement a
solution for every HDF that someone happens to find, but perhaps if you
prepared a patch that works for your particular HDFs, they would accept it.
I have no idea and am curious about their strategy.

pyhdf can work with any HDF but that is because it delegates the job of
recognizing how to work with the data to you, the programmer. You have to
recognize that "longitude" is the x dimension, for example. Thus it is not
really fair to compare pyhdf with GDAL because GDAL attempts to do that job
itself.

Hope this helps... (Sorry if this is all obvious...)

Best,
Jason

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Ivan Lucena
Sent: Tuesday, May 25, 2010 11:41 AM
To: Ivan Lucena; Joaquim Luis
Cc: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Can't read HDF4 - TRMM

It look like pyHDF know more about the HDF SD dimensions than the other
software, including GDAL:

>>> from pyhdf.SD import *
>>> d = SD('D:\\tmp\\3B430501016.HDF')
>>> d.datasets()
{'precipitation': (('scan', 'longitude', 'latitude'), (1, 1440, 400), 5, 0),
'relativeError': (('scan', 'longitude', 'latitude'), (1, 1440, 400), 5, 1)}
>>> ds = d.select('precipitation')
>>> ds.dimensions()
{'latitude': 400, 'longitude': 1440, 'scan': 1}
>>> 

That means 1440 columns, 400 rows, and 1 band.

But GDAL, Idrisi, ArcGIS, Erdas and Envi reads it as 400 columns, 1440 rows,
and 1 band. 

D:\BugsJar>gdal_translate HDF4_SDS:UNKNOWN:"3B430501016.HDF":0 out.tif
Input file size is 400, 1440
0...10...20...30...40...50...60...70...80...90...100 - done.

$ gdalinfo out.tif
Driver: GTiff/GeoTIFF
Files: out.tif
Size is 400, 1440
Coordinate System is `'
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 1440.0)
Upper Right (  400.0,    0.0)
Lower Right (  400.0, 1440.0)
Center      (  200.0,  720.0)
Band 1 Block=400x5 Type=Float32, ColorInterp=Gray

There is something wrong with the internal documentation of that file but it
seems to be possible to find the dimensions from other HDF (not EOS) API
functions. I would try to include calls to SDdiminfo() or SDgetdimstr()
perhaps.

Regards,

Ivan


>??-------Original Message-------
>??From: Ivan Lucena <ivan.lucena@pmldnet.com>
>??To: Joaquim Luis <jluis@ualg.pt>
>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>??Subject: Re: [gdal-dev] Can't read HDF4 - TRMM
>??Sent: May 24 '10 13:51
>??
>??Hi Joaquim,
>??
>??It seems to me that the HDF4 driver is taking the liberty of using the
EOS API to read that file that is actually in HDF format, more specifically
a SD (Scientific Dataset).
>??
>??http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/hdf4/hdf4dataset.cpp#
L762
>??
>??That is why it doesn't go to that call to SDfileinfo():
>??
>??http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/hdf4/hdf4dataset.cpp#
L991
>??
>??If change poDS->bIsHDFEOS to 0 in debugging mode and the subdatasets
showed up:
>??
>??Driver: HDF4/Hierarchical Data Format Release 4
>??Files: 3B430501016.HDF
>??Size is 512, 512
>??Coordinate System is `'
>??Subdatasets:
>????SUBDATASET_1_NAME=HDF4_SDS:UNKNOWN:"3B430501016.HDF":0
>????SUBDATASET_1_DESC=[1x1440x400] precipitation (32-bit floating-point)
>????SUBDATASET_2_NAME=HDF4_SDS:UNKNOWN:"3B430501016.HDF":1
>????SUBDATASET_2_DESC=[1x1440x400] relativeError (32-bit floating-point)
>??Corner Coordinates:
>??Upper Left??(????0.0,????0.0)
>??Lower Left??(????0.0,??512.0)
>??Upper Right (??512.0,????0.0)
>??Lower Right (??512.0,??512.0)
>??Center??????(??256.0,??256.0)
>??
>??Now I can gdal_translate it to GTIFF but the image comes rotated by 90
degrees just like in other software.
>??
>??I think we can file a ticket to deal with the miss identification, at
least.
>??
>??Obrigado pela dica.
>??
>??Thanks for the tip,
>??
>??Ivan
>??
>??>??-------Original Message-------
>??>??From: Joaquim Luis <jluis@ualg.pt>
>??>??To: Ivan Lucena <ivan.lucena@pmldnet.com>
>??>??Cc: gdal-dev@lists.osgeo.org <gdal-dev@lists.osgeo.org>
>??>??Subject: Re: [gdal-dev] Can't read HDF4 - TRMM
>??>??Sent: May 24 '10 10:46
>??>??
>??>??Ivan,
>??>??
>??>??Since nasa is now imitating me (http://mirador....) I gave it a shot
>??>??with Mirone, which obviously also failed because because it relies
>??>??mostly in gdal to read the hdf files.
>??>??My experience with the nasa satellite files is that they are a big
mess
>??>??with the metadata written in endless different ways which makes the
>??>??parsing very painful. There is some reference info in the files. See
>??>??what I got using Matlab (look at the end of this long list)
>??>??
>??>??Joaquim
>??>??
>??>??
>??>??>>??info.Attributes(1).Value
>??>??
>??>??ans =
>??>??
>??>??OBJECT=OrbitNumber;
>??>??Value=-9999;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=OrbitNumber;
>??>??
>??>??OBJECT=RangeBeginningDate;
>??>??Value=2010/04/01;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeBeginningDate;
>??>??
>??>??OBJECT=RangeBeginningTime;
>??>??Value=00:00:00;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeBeginningTime;
>??>??
>??>??OBJECT=RangeEndingDate;
>??>??Value=2010/05/01;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeEndingDate;
>??>??
>??>??OBJECT=RangeEndingTime;
>??>??Value=00:00:00;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RangeEndingTime;
>??>??
>??>??OBJECT=GranulePointer;
>??>??Value="3B43.100401.6A.HDF";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=GranulePointer;
>??>??
>??>??OBJECT=ShortName;
>??>??Value="Surface Rain from all Satellite and Surface";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ShortName;
>??>??
>??>??OBJECT=SizeMBECSDataGranule;
>??>??Value=4.394;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SizeMBECSDataGranule;
>??>??
>??>??OBJECT=LongitudeOfMaximumLatitude;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=LongitudeOfMaximumLatitude;
>??>??
>??>??OBJECT=SpatialCoverageType;
>??>??Value="Horizontal";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SpatialCoverageType;
>??>??
>??>??OBJECT=EllipsoidName;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EllipsoidName;
>??>??
>??>??OBJECT=EquatorialRadius;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EquatorialRadius;
>??>??
>??>??OBJECT=DenominatorFlatteningRatio;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=DenominatorFlatteningRatio;
>??>??
>??>??OBJECT=OrbitalModelName;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=OrbitalModelName;
>??>??
>??>??OBJECT=SemiMajorAxis;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SemiMajorAxis;
>??>??
>??>??OBJECT=MeanAnomaly;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=MeanAnomaly;
>??>??
>??>??OBJECT=RightAscensionNode;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RightAscensionNode;
>??>??
>??>??OBJECT=ArgumentOfPerigee;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ArgumentOfPerigee;
>??>??
>??>??OBJECT=Eccentricity;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=Eccentricity;
>??>??
>??>??OBJECT=Inclination;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=Inclination;
>??>??
>??>??OBJECT=EpochTime;
>??>??Value=99:99:99;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EpochTime;
>??>??
>??>??OBJECT=EpochDate;
>??>??Value=9999/99/99;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EpochDate;
>??>??
>??>??OBJECT=EpochMillisec;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EpochMillisec;
>??>??
>??>??OBJECT=WestBoundingCoordinate;
>??>??Value=-180;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=WestBoundingCoordinate;
>??>??
>??>??OBJECT=EastBoundingCoordinate;
>??>??Value=180;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EastBoundingCoordinate;
>??>??
>??>??OBJECT=NorthBoundingCoordinate;
>??>??Value=50;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=NorthBoundingCoordinate;
>??>??
>??>??OBJECT=SouthBoundingCoordinate;
>??>??Value=-50;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SouthBoundingCoordinate;
>??>??
>??>??OBJECT=CenterLatitude;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=CenterLatitude;
>??>??
>??>??OBJECT=CenterLongitude;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=CenterLongitude;
>??>??
>??>??OBJECT=RadiusValue;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=RadiusValue;
>??>??
>??>??OBJECT=LatitudeResolution;
>??>??Value=".25deg";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=LatitudeResolution;
>??>??
>??>??OBJECT=LongitudeResolution;
>??>??Value=".25deg";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=LongitudeResolution;
>??>??
>??>??OBJECT=GeographicCoordinateUnits;
>??>??Value="Decimal Degrees";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=GeographicCoordinateUnits;
>??>??
>??>??OBJECT=TemporalRangeType;
>??>??Value="Continuous Range";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=TemporalRangeType;
>??>??
>??>??OBJECT=QualityAssuranceParameterName;
>??>??Value="ScienceQualityFlag";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=QualityAssuranceParameterName;
>??>??
>??>??OBJECT=QualityAssuranceParameterValue;
>??>??Value="NOT BEING INVESTIGATED";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=QualityAssuranceParameterValue;
>??>??
>??>??OBJECT=ReprocessingActual;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ReprocessingActual;
>??>??
>??>??OBJECT=BrowsePointer;
>??>??Value="3B43_BR.100401.6A.PNG";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=BrowsePointer;
>??>??
>??>??OBJECT=ScienceContact;
>??>??Value="George Huffman";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ScienceContact;
>??>??
>??>??OBJECT=MeanMotion;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=MeanMotion;
>??>??
>??>??OBJECT=OrbitAdjustFlag;
>??>??Value=-9999;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=OrbitAdjustFlag;
>??>??
>??>??OBJECT=AttitudeModeFlag;
>??>??Value=-9999;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=AttitudeModeFlag;
>??>??
>??>??OBJECT=SolarBetaAngleAtBeginningOfGranule;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SolarBetaAngleAtBeginningOfGranule;
>??>??
>??>??OBJECT=SolarBetaAngleAtEndOfGranule;
>??>??Value=-9999.9;
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SolarBetaAngleAtEndOfGranule;
>??>??
>??>??OBJECT=SensorAlignment;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SensorAlignment;
>??>??
>??>??OBJECT=SensorAlignmentChannelOffsets;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=SensorAlignmentChannelOffsets;
>??>??
>??>??OBJECT=ScanPathModel;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ScanPathModel;
>??>??
>??>??OBJECT=ScanPathModelParam;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=ScanPathModelParam;
>??>??
>??>??OBJECT=EphemerisFileID;
>??>??Value="NULL";
>??>??Data_Location=PGE;
>??>??Mandatory=FALSE;
>??>??END_OBJECT=EphemerisFileID;
>??>??
>??>??
>??>??
>??>??
>??>??> Hi,
>??>??>
>??>??> I ran gdalinfo on some HDF4 files and no subdataset shows up.
>??>??>
>??>??> The data is available for download at this website:
http://mirador.gsfc.nasa.gov/cgi-bin/mirador/presentNavigation.pl?tree=proje
ct&project=TRMM&dataGroup=Gridded&dataset=3B43:%20Monthly%200.25%20x%200.25%
20degree%20merged%20TRMM%20and%20other%20sources%20estimates&version=006
>??>??>
>??>??> I tried reading those some file on:
>??>??>
>??>??> - Idrisi
>??>??> - ArcGIS 9.3
>??>??> - ArcGIS 10 (RC)
>??>??> - Erdas
>??>??>
>??>??> They do identify the internal datasets but they cannot identify the
reference system and the images they are flipped by 90' clockwise. But that
is not due to rotation. I would guess. It is more like a misinterpretation
of the dimension parameter, taking rows as columns and columns as rows.??It
looks like the documentation for that particular product is missing here:
http://mirador.gsfc.nasa.gov/cgi-bin/mirador/servcoll.pl?helpmenuclass=inven
tory&SearchButton=Search%20GES-DISC
>??>??>
>??>??> Does anybody has a clue?
>??>??>
>??>??> BTW. There is a netCDF version of that data that also has some
issues.
>??>??>
>??>??> Regards,
>??>??>
>??>??> Ivan
>??>??>
>??>??>
>??>??>
>??>??>
>??>??>
>??>??>
>??>??> _______________________________________________
>??>??> gdal-dev mailing list
>??>??> gdal-dev@lists.osgeo.org
>??>??> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>??>??>
>??>??>
>??>??>????
>??>??
>??>??
>??_______________________________________________
>??gdal-dev mailing list
>??gdal-dev@lists.osgeo.org
>??http://lists.osgeo.org/mailman/listinfo/gdal-dev
>??
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From alexander.bruy at gmail.com  Tue May 25 13:00:30 2010
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Tue May 25 13:02:30 2010
Subject: [gdal-dev] Re: Handling CPG (encoding) file
In-Reply-To: <20100523191146.992ed06e.alexander.bruy@gmail.com>
References: <20100523191146.992ed06e.alexander.bruy@gmail.com>
Message-ID: <20100525200030.3f0ca687.alexander.bruy@gmail.com>

Hi,

GIS-Lab community has worked on this and here is our results.
We develop a patch which add two methods GetEncoding and SetEncoding.
At this time only GetEncoding for shapefiles is realised. With this
methods programmer can get encoding programmatically. Patch
uploaded to the bugtracker: http://trac.osgeo.org/gdal/ticket/882

How this works: first we try to read DBF LDID and get encoding from
here (even CPG file is available), if LDID is 0 or 87 (system encoding)
driver will try to read encoding from CPG file.

Encoding in CPG file can be written according to the DBF LanguageID
standard or according to the codepages ANSI, OEM etc. GetEncoding
method will handle all this variants automatically.

We'd appreciate if someone could have a look and sign off or comment on the 
proposed patch.

On Sun, 23 May 2010 19:11:46 +0300
Alexander Bruy <alexander.bruy@gmail.com> wrote:

> Hi devs,
> 
> few days ago in qgis-developer mailing list we discuss codepage handling
> in QGIS and GDAL
> http://osgeo-org.1803224.n2.nabble.com/adding-encoding-file-td5075541.html.
> 
> Also there is post in this list with related problem
> http://osgeo-org.1803224.n2.nabble.com/gdal-dev-DBF-unicode-problem-td5075730.html
> 
> Seems than shapelib supports codepages in CPG file and LDID both for
> reading and creating DBFs. But OGR doesn't seem to use or expose that
> functionality.
> 
> Our community want to add to the OGR shapefile driver ability to
> read/write CPG file and ready to work on this and create a patch.
> Any hints and suggestions are welcome. We really need this
> functionality


Thanks
-- 
Alexander Bruy
From woodbri at swoodbridge.com  Tue May 25 16:10:22 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Tue May 25 16:12:27 2010
Subject: [gdal-dev] HowTo build MrSID plugin for CentOS 5?
Message-ID: <4BFC2EAE.8090703@swoodbridge.com>

Hi all,

What is the best way to build gdal with MrSID support for CentOS 5?
How does one tell if it is CentOS 5.2 or 5.3?

The package manager installed:

(1/6): gdal-devel-1.4.4-2.el5.rf.x86_64.rpm              |  70 kB
(2/6): geos-3.1.0-1.el5.rf.x86_64.rpm                    | 265 kB
(3/6): unixODBC-2.2.11-7.1.x86_64.rpm                    | 835 kB
(4/6): netcdf-3.6.3-1.el5.rf.x86_64.rpm                  | 991 kB
(5/6): gdal-1.4.4-2.el5.rf.x86_64.rpm                    | 2.1 MB
(6/6): geos-devel-3.1.0-1.el5.rf.x86_64.rpm              | 4.8 MB

Most of these from the DAG repository. In addition, I have downloaded:

Lidar_DSDK-1.1.0.2814-linux.x86-64.gcc41.zip
Geo_DSDK-7.0.0.2167.linux.x86-64.gcc41.tar.gz

I'm not sure I need the Lidar file.

I thought there was a nifty tool/script for building the MrSID driver as 
a plugin, but I can not fine it. I suppose I can build it all from 
source, but that makes deploying it to production systems a pain.

Any help would be appreciated.

Thanks,
   -Steve W
From even.rouault at mines-paris.org  Tue May 25 19:31:19 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 25 19:31:29 2010
Subject: [gdal-dev] Re: Handling CPG (encoding) file
In-Reply-To: <20100525200030.3f0ca687.alexander.bruy@gmail.com>
References: <20100523191146.992ed06e.alexander.bruy@gmail.com>
	<20100525200030.3f0ca687.alexander.bruy@gmail.com>
Message-ID: <201005260131.20446.even.rouault@mines-paris.org>

Alexander,

I'm cc'ing Gaige Paulsen as he proposed in 
http://trac.osgeo.org/gdal/ticket/3403 a patch with a similar approach to 
yours, that is to say provide a method at the OGRLayer level to return the 
encoding.

The more I think to this issue the more I recognize that the "UTF-8 everywhere 
internally" is probably not practical in all situations, or at least doesn't 
let enough control to the user. The UTF-8 as a pivot is - conceptually - OK 
for the read part, but it doesn't help for the write part when a driver 
doesn't support UTF-8 (or if for some compatibility reasons with other 
software, we must write data in a certain encoding)

My main remark about your patch is I don't believe that the enum approach to 
list the encodings is the best one. I'd be rather in favor of using a string, 
and possibly sticking to the ones returned by 'iconv -l' so that we can 
easily use the return of GetEncoding() to feed it into the converter through 
CPLRecode(). I've experimented with it some time ago and have ready some 
changes in cpl_recode_stub.cpp & configure to plug iconv support into it, in 
order to extend its scope beyond the current hardcoded support for UTF8 and 
ISO-8859-1.

We could imagine a -s_encoding, -t_encoding and -a_encoding switches to 
ogr2ogr to let the user define the transcoding or encoding assignment. One of 
the difficulty raised by Gaige in #3403 is the meaning of the width attribute 
of an OGRFieldDefn object (number of bytes or number characters in a given 
encoding), and how/if it will be affected by an encoding change.

The other issues raised by Gaige in his last comment are still worth 
considering. For the read part, what do we want ? :
1) that the driver returns the data in its "raw" encoding and mentions the 
encoding --> matches the approach of your proposal
2) that we ask it to return the data to UTF-8 when we don't care about the 
data in its source encoding
3) that we can override its encoding when the source encoding is believed to 
be incorrect so that 2) can work properly

1) and 2) approach are clearly following 2 differents tracks. One way to 
reconcile both would be to provide some configuration/opening option to 
choose which behaviour is prefered. RFC23 currently chooses 2) as it mandates 
that "Any driver which knows it's encoding should convert to UTF-8." Well, 
probably not a big deal since that any change related to how we deal with 
encoding is likely to cause RFC23 to be amended anyway.

Personnaly, I'm not sure about which one is the best. I'm wondering what the 
use cases for 1) are : when do we really want the data to be returned in its 
source encoding --> will not be it converted later to UTF-8 at the 
application level after the user has potentially selected/overriden the 
source encoding ? In which case 3) would solve the problem. Just thinking 
loud...

For the write part, a OGRSFDriver::GetSupportedEncodings() and 
OGRLayer::SetEncoding() could make sense (for the later, if it must be 
exposed at the datasource or layer level is an open point and a slight 
difference between yours and Gaige's approach)

Best regards 

Even
From woodbri at swoodbridge.com  Tue May 25 19:36:04 2010
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Tue May 25 19:38:13 2010
Subject: [gdal-dev] HowTo build MrSID plugin for CentOS 5?
In-Reply-To: <4BFC2EAE.8090703@swoodbridge.com>
References: <4BFC2EAE.8090703@swoodbridge.com>
Message-ID: <4BFC5EE4.7020601@swoodbridge.com>

Nevermind, I just built gdal-1.6.3 from source with the Geo_DSDK which 
is good enough for now. I need to move the sid files then I can start 
working on them.

-Steve

Stephen Woodbridge wrote:
> Hi all,
> 
> What is the best way to build gdal with MrSID support for CentOS 5?
> How does one tell if it is CentOS 5.2 or 5.3?
> 
> The package manager installed:
> 
> (1/6): gdal-devel-1.4.4-2.el5.rf.x86_64.rpm              |  70 kB
> (2/6): geos-3.1.0-1.el5.rf.x86_64.rpm                    | 265 kB
> (3/6): unixODBC-2.2.11-7.1.x86_64.rpm                    | 835 kB
> (4/6): netcdf-3.6.3-1.el5.rf.x86_64.rpm                  | 991 kB
> (5/6): gdal-1.4.4-2.el5.rf.x86_64.rpm                    | 2.1 MB
> (6/6): geos-devel-3.1.0-1.el5.rf.x86_64.rpm              | 4.8 MB
> 
> Most of these from the DAG repository. In addition, I have downloaded:
> 
> Lidar_DSDK-1.1.0.2814-linux.x86-64.gcc41.zip
> Geo_DSDK-7.0.0.2167.linux.x86-64.gcc41.tar.gz
> 
> I'm not sure I need the Lidar file.
> 
> I thought there was a nifty tool/script for building the MrSID driver as 
> a plugin, but I can not fine it. I suppose I can build it all from 
> source, but that makes deploying it to production systems a pain.
> 
> Any help would be appreciated.
> 
> Thanks,
>   -Steve W
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From benang at cs.its.ac.id  Tue May 25 23:02:40 2010
From: benang at cs.its.ac.id (benang@cs.its.ac.id)
Date: Tue May 25 23:02:47 2010
Subject: [gdal-dev] Unhandled Exception.
In-Reply-To: <4BFBC3FF.2010205@loskot.net>
References: <23376.110.139.64.81.1274781232.squirrel@webmail.cs.its.ac.id>
	<4BFBC3FF.2010205@loskot.net>
Message-ID: <25567.110.139.64.81.1274842960.squirrel@webmail.cs.its.ac.id>

Thanks alot. I'll try that.

Mateusz Loskot wrote:
> On 25/05/10 10:53, benang@cs.its.ac.id wrote:
>> Hi, I tried to run the example in the tutorial. But I've got an
>> unhandled
>> exception at the GDALAllRegister(). This is the call stack:
>>
>> [...]
>> Oh yeah BTW I build GDAL from its source, not the pre-compiled one. And
>> I
>> use the vcproject that uses nmake.
>>
>> So, why is this happening? What should I do to solve this? Thanks in
>> advance.
>
> Either rebuild GDAL with /MDd or rebuild your program with /MD.
> Should help.
>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net
>


Fare thee well,
Bawenang R. P. P.

----------------
"Kuaci is good. And coffee makes it better..."


--

http://www.its.ac.id 
From aperi2007 at gmail.com  Wed May 26 02:03:20 2010
From: aperi2007 at gmail.com (Andrea Peri)
Date: Wed May 26 02:03:24 2010
Subject: [gdal-dev] Exporting from GML to DXF
Message-ID: <AANLkTinho4EqnJkwkN9s0_mx7KoOSVUmZIgCQc5ITp8f@mail.gmail.com>

Hi,

I like testing the capabilities of GDAL/OGR to export from a GML to a DXF.

I create a very simple file header.dxf and ask to OGR to export a test file
GML to dxf.
The file header.dxf I create has simply this 4 rows:
---
0
SECTION
2
HEADER
---

But when I start ogr2ogr it stop with an error reporting
"unable to more than one OGR layer in a dxf file".

of course my GML has more then one layer :(

But I don't understand if this a limit of the dxf driver or is a bug in my
too simple header.dxf file.

Many thx,

Andrea.




-- 
-----------------
Andrea Peri
. . . . . . . . .
qwerty ?????
-----------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/c5548a4a/attachment.html
From P.Halls at york.ac.uk  Wed May 26 02:22:17 2010
From: P.Halls at york.ac.uk (Peter J Halls)
Date: Wed May 26 02:22:28 2010
Subject: [gdal-dev] Re: Handling CPG (encoding) file
In-Reply-To: <201005260131.20446.even.rouault@mines-paris.org>
References: <20100523191146.992ed06e.alexander.bruy@gmail.com>	<20100525200030.3f0ca687.alexander.bruy@gmail.com>
	<201005260131.20446.even.rouault@mines-paris.org>
Message-ID: <4BFCBE19.9050603@york.ac.uk>

Even,

   re use case 1) below.  One instance where the raw data format might be 
required is where that encoding contains characters that are not present in an 
output encoding and specific action is to be taken to render such characters in 
a transmittable form in the output character set.

Best wishes,

Peter

Even Rouault wrote:
> Alexander,
> 
> I'm cc'ing Gaige Paulsen as he proposed in 
> http://trac.osgeo.org/gdal/ticket/3403 a patch with a similar approach to 
> yours, that is to say provide a method at the OGRLayer level to return the 
> encoding.
> 
> The more I think to this issue the more I recognize that the "UTF-8 everywhere 
> internally" is probably not practical in all situations, or at least doesn't 
> let enough control to the user. The UTF-8 as a pivot is - conceptually - OK 
> for the read part, but it doesn't help for the write part when a driver 
> doesn't support UTF-8 (or if for some compatibility reasons with other 
> software, we must write data in a certain encoding)
> 
> My main remark about your patch is I don't believe that the enum approach to 
> list the encodings is the best one. I'd be rather in favor of using a string, 
> and possibly sticking to the ones returned by 'iconv -l' so that we can 
> easily use the return of GetEncoding() to feed it into the converter through 
> CPLRecode(). I've experimented with it some time ago and have ready some 
> changes in cpl_recode_stub.cpp & configure to plug iconv support into it, in 
> order to extend its scope beyond the current hardcoded support for UTF8 and 
> ISO-8859-1.
> 
> We could imagine a -s_encoding, -t_encoding and -a_encoding switches to 
> ogr2ogr to let the user define the transcoding or encoding assignment. One of 
> the difficulty raised by Gaige in #3403 is the meaning of the width attribute 
> of an OGRFieldDefn object (number of bytes or number characters in a given 
> encoding), and how/if it will be affected by an encoding change.
> 
> The other issues raised by Gaige in his last comment are still worth 
> considering. For the read part, what do we want ? :
> 1) that the driver returns the data in its "raw" encoding and mentions the 
> encoding --> matches the approach of your proposal
> 2) that we ask it to return the data to UTF-8 when we don't care about the 
> data in its source encoding
> 3) that we can override its encoding when the source encoding is believed to 
> be incorrect so that 2) can work properly
> 
> 1) and 2) approach are clearly following 2 differents tracks. One way to 
> reconcile both would be to provide some configuration/opening option to 
> choose which behaviour is prefered. RFC23 currently chooses 2) as it mandates 
> that "Any driver which knows it's encoding should convert to UTF-8." Well, 
> probably not a big deal since that any change related to how we deal with 
> encoding is likely to cause RFC23 to be amended anyway.
> 
> Personnaly, I'm not sure about which one is the best. I'm wondering what the 
> use cases for 1) are : when do we really want the data to be returned in its 
> source encoding --> will not be it converted later to UTF-8 at the 
> application level after the user has potentially selected/overriden the 
> source encoding ? In which case 3) would solve the problem. Just thinking 
> loud...
> 
> For the write part, a OGRSFDriver::GetSupportedEncodings() and 
> OGRLayer::SetEncoding() could make sense (for the later, if it must be 
> exposed at the datasource or layer level is an open point and a slight 
> difference between yours and Gaige's approach)
> 
> Best regards 
> 
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
--------------------------------------------------------------------------------
Peter J Halls, GIS Advisor, University of York
Telephone: 01904 433806     Fax: 01904 433740
Snail mail: Computing Service, University of York, Heslington, York YO10 5DD
This message has the status of a private and personal communication
--------------------------------------------------------------------------------
From rajjad at gmail.com  Wed May 26 02:53:54 2010
From: rajjad at gmail.com (Imran Rajjad)
Date: Wed May 26 02:56:18 2010
Subject: [gdal-dev] export SDO to SHP?
Message-ID: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>

Hi list,

is it possile to import and SDO table into a shape file using ogr2ogr?

regards,
Imran

-- 
I.R
From obe at IVV-AACHEN.DE  Wed May 26 04:21:04 2010
From: obe at IVV-AACHEN.DE (Felix Obermaier)
Date: Wed May 26 04:38:04 2010
Subject: AW: [gdal-dev] Create gdaldataset from in-memory
	Image/Bitmap/byte[]/MemoryStream
In-Reply-To: <AANLkTinD8FleDvS8jMaXZotkZg4ikvKxdGZ0zA9bDDmW@mail.gmail.com>
References: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
	<AANLkTinD8FleDvS8jMaXZotkZg4ikvKxdGZ0zA9bDDmW@mail.gmail.com>
Message-ID: <941E09AD62CA6F41913924A35EA3985EBD1C3B57@ivv-mx.ivv-aachen.de>

Tamas,

I just went through the gdal 1.7 release notes, and read that a function 'FileFromMemBuffer' was added to the csharp bindings.
Since I'm getting image blobs from an sqlite database (png), is it a suitable way to use that function?

Thanks
Felix Obermaier

------------------------------------------
 Ingenieurgruppe IVV GmbH & Co. KG
 Dipl.-Ing. Felix Obermaier
 Oppenhoffallee 171
 52066 Aachen

 Telefon: +49 (241) 94691-39
 Telefax: +49 (241) 531622
 eMail: obe@ivv-aachen.de<mailto:obe@ivv-aachen.de>
 Internet: http://www.ivv-aachen.de

 Sitz der Gesellschaft: Aachen
 Amtsgericht Aachen HRA 6212
 GF: Bauassessor Dr.-Ing. Dieter H?lsken
 IVV-Management GmbH
 Amtsgericht Aachen HRB 12543

Von: Tamas Szekeres [mailto:szekerest@gmail.com]
Gesendet: Donnerstag, 20. Mai 2010 23:03
An: Felix Obermaier
Cc: gdal-dev@lists.osgeo.org
Betreff: Re: [gdal-dev] Create gdaldataset from in-memory Image/Bitmap/byte[]/MemoryStream

Felix,

You can find examples in the gdal source tree about creating a dataset and write data by using the WriteRaster method:

http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALWrite.cs
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALDatasetWrite.cs

For more information about the raster IO operations in C# see: http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpRaster

Best regards,

Tamas



2010/5/20 Felix Obermaier <obe@ivv-aachen.de<mailto:obe@ivv-aachen.de>>
Hello list,

I'm using GDAL via swig C# bindings. Is there a way to create a gdal dataset object from an in-memory Image/Bitmap/byte[]/MemoryStream, and if so, how  can I achive this.

Thanks in advance

Felix Obermaier

------------------------------------------
 Ingenieurgruppe IVV GmbH & Co. KG
 Dipl.-Ing. Felix Obermaier
 Oppenhoffallee 171
 52066 Aachen

 Telefon: +49 (241) 94691-39
 Telefax: +49 (241) 531622
 eMail: obe_at_ivv-aachen.de<http://obe_at_ivv-aachen.de>
 Internet: http://www.ivv-aachen.de

 Sitz der Gesellschaft: Aachen
 Amtsgericht Aachen HRA 6212
 GF: Bauassessor Dr.-Ing. Dieter H?lsken
 IVV-Management GmbH
 Amtsgericht Aachen HRB 12543


_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/f3bda7a7/attachment.html
From chaitanya.ch at gmail.com  Wed May 26 05:42:55 2010
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 26 05:47:06 2010
Subject: [gdal-dev] export SDO to SHP?
In-Reply-To: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
References: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
Message-ID: <AANLkTildpcfUovgoaAYEkVQNqvnSkcUFUCn9PO_T0O1f@mail.gmail.com>

Imran,

If SDO means Oracle Spatial format, you can refer to (
http://www.gdal.org/ogr/ogr_formats.html) and (
http://www.gdal.org/ogr/drv_oci.html) for formats and (
http://www.gdal.org/ogr_utilities.html) for tools.

On Wed, May 26, 2010 at 12:23 PM, Imran Rajjad <rajjad@gmail.com> wrote:

> Hi list,
>
> is it possile to import and SDO table into a shape file using ogr2ogr?
>
> regards,
> Imran
>
> --
> I.R
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9848167848
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/47419a5c/attachment.html
From michael.smith at usace.army.mil  Wed May 26 07:45:21 2010
From: michael.smith at usace.army.mil (Smith, Michael ERDC-CRREL-NH)
Date: Wed May 26 08:46:15 2010
Subject: [gdal-dev] export SDO to SHP?
In-Reply-To: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
Message-ID: <C8227401.19321%michael.smith@usace.army.mil>

ogr2ogr -f "ESRI Shapefile" some_shapefile.shp
OCI:user/pass@tns:schema.table_name

Will do just that.

Mike


-- 
Michael Smith
US Army Corps of Engineers
Remote Sensing/GIS Center
Hanover, NH 




On 5/26/10 1:53 AM, "Imran Rajjad" <rajjad@gmail.com> wrote:

> Hi list,
> 
> is it possile to import and SDO table into a shape file using ogr2ogr?
> 
> regards,
> Imran

From ivan at sanchezortega.es  Wed May 26 07:47:27 2010
From: ivan at sanchezortega.es (=?iso-8859-1?q?Iv=E1n_S=E1nchez_Ortega?=)
Date: Wed May 26 09:35:35 2010
Subject: [gdal-dev] export SDO to SHP?
In-Reply-To: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
References: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
Message-ID: <201005261347.28223.ivan@sanchezortega.es>

El d?a Wednesday 26 May 2010 08:53:54, Imran Rajjad dijo:
> is it possile to import and SDO table into a shape file using ogr2ogr?

http://www.gdal.org/ogr/drv_oci.html

-- 
Iv?n S?nchez Ortega <ivan@sanchezortega.es>

Un ordenador no es una televisi?n ni un microondas: es una herramienta 
compleja.
From spbhasker at gmail.com  Wed May 26 09:01:27 2010
From: spbhasker at gmail.com (bachi)
Date: Wed May 26 09:35:37 2010
Subject: [gdal-dev] export SDO to SHP?
In-Reply-To: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
References: <AANLkTiliu6Zywl31ThSxgefGHXmF6QBWQ9ON2aHX3kfn@mail.gmail.com>
Message-ID: <AANLkTil8oHeIgwiCgOTPDmchDHoeUWheqQYz8sMvqsJ2@mail.gmail.com>

Do u mean to export Data from Oracle Spatial Data into an Esri Shape File
???

If yes.. its possible using ogr2ogr.

To get this rolling .... ogr2ogr needs to be build with the OCI files



On Wed, May 26, 2010 at 12:23 PM, Imran Rajjad <rajjad@gmail.com> wrote:

> Hi list,
>
> is it possile to import and SDO table into a shape file using ogr2ogr?
>
> regards,
> Imran
>
> --
> I.R
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/3ecb452c/attachment-0001.html
From ari.jolma at gmail.com  Wed May 26 08:46:26 2010
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed May 26 09:35:41 2010
Subject: [gdal-dev] All that code in apps is a bit of waste of effort
Message-ID: <4BFD1822.2010908@gmail.com>

Folks,

There are already quite many applications in the apps folder. Many of 
them contain methods, which could be of more general use than just that 
one command line app. I'm specifically thinking about gdaldem now. It 
would be cool to have its methods available more broadly and through the 
FFI (also sometimes called swig bindings). Then I could have those 
methods easily available in a GUI :)

gdaldem is a bit complex example as it defines four new classes, but still.

Best regards,

Ari

From emmanuel.christophe at gmail.com  Wed May 26 10:39:51 2010
From: emmanuel.christophe at gmail.com (Emmanuel Christophe)
Date: Wed May 26 10:40:15 2010
Subject: [gdal-dev] OTB/Monteverdi tutorial at IGARSS 2010
Message-ID: <AANLkTikDLOWvuXzjB74fiorcTcor9LrRfBYmQXTd_3Sf@mail.gmail.com>

Dear all,
Those of you who will be attending IGARSS 2010 (July 25-30 in
Honolulu) may be interested in the following tutorial:

"HD-2: Pragmatic Remote Sensing: A Hands-on Approach to Processing"
(http://www.igarss10.org).

It will be given on Sunday, July 25, 08:30 - 12:30 and will present in
detail the different steps of a general remote sensing image
processing chain through a hands-on approach. The free and open source
software Monteverdi (user friendly application based on the Orfeo
Toolbox) will be used for the work.

Orfeo Toolbox and Monteverdi (http://www.orfeo-toolbox.org) rely
heavily on other open source projects, such as gdal, ossim and others,
to provide processing capabilities for satellite images.

Best regards,
Emmanuel Christophe
From osgeo at gbp.gaige.net  Wed May 26 10:27:17 2010
From: osgeo at gbp.gaige.net (Gaige B. Paulsen)
Date: Wed May 26 10:50:30 2010
Subject: [gdal-dev] Re: Handling CPG (encoding) file
In-Reply-To: <201005260131.20446.even.rouault@mines-paris.org>
References: <20100523191146.992ed06e.alexander.bruy@gmail.com>
	<20100525200030.3f0ca687.alexander.bruy@gmail.com>
	<201005260131.20446.even.rouault@mines-paris.org>
Message-ID: <F822C4CC-E08B-40EC-A1D6-9A6CF5E781A4@gbp.gaige.net>

Even,
   Thanks for bringing this to my attention.   We're winding down a major release here (hence my relative absence from the mailing list except as a lurker with occasional comments), but this issue is one I wanted to revisit this summer.   Snips and comments below

On May 25, 2010, at 7:31 PM, Even Rouault wrote:

> Alexander,
> 
> I'm cc'ing Gaige Paulsen as he proposed in 
> http://trac.osgeo.org/gdal/ticket/3403 a patch with a similar approach to 
> yours, that is to say provide a method at the OGRLayer level to return the 
> encoding.
> 
> The more I think to this issue the more I recognize that the "UTF-8 everywhere 
> internally" is probably not practical in all situations, or at least doesn't 
> let enough control to the user. The UTF-8 as a pivot is - conceptually - OK 
> for the read part, but it doesn't help for the write part when a driver 
> doesn't support UTF-8 (or if for some compatibility reasons with other 
> software, we must write data in a certain encoding)
> 
> My main remark about your patch is I don't believe that the enum approach to 
> list the encodings is the best one. I'd be rather in favor of using a string, 
> and possibly sticking to the ones returned by 'iconv -l' so that we can 
> easily use the return of GetEncoding() to feed it into the converter through 
> CPLRecode(). I've experimented with it some time ago and have ready some 
> changes in cpl_recode_stub.cpp & configure to plug iconv support into it, in 
> order to extend its scope beyond the current hardcoded support for UTF8 and 
> ISO-8859-1.

I agree with using strings instead of enums for this.      

> We could imagine a -s_encoding, -t_encoding and -a_encoding switches to 
> ogr2ogr to let the user define the transcoding or encoding assignment. One of 
> the difficulty raised by Gaige in #3403 is the meaning of the width attribute 
> of an OGRFieldDefn object (number of bytes or number characters in a given 
> encoding), and how/if it will be affected by an encoding change.
> 
> The other issues raised by Gaige in his last comment are still worth 
> considering. For the read part, what do we want ? :
> 1) that the driver returns the data in its "raw" encoding and mentions the 
> encoding --> matches the approach of your proposal
> 2) that we ask it to return the data to UTF-8 when we don't care about the 
> data in its source encoding
> 3) that we can override its encoding when the source encoding is believed to 
> be incorrect so that 2) can work properly

I still think that UTF-8 as a pivot makes sense and works well for most cases (we tend to use it internally as well).   And, mostly I prefer the use of #3. I was specifically looking at these different problems: 
- Situations where a format handles multiple encodings, but the encoding in the file being read is either ambiguous or incorrect. 
- Situations where there is a need to determine which of multiple encodings to use (sometimes necessary for compatibility reasons)
- Situations where storage space is very tight and field width must be intelligently degraded 

> 1) and 2) approach are clearly following 2 differents tracks. One way to 
> reconcile both would be to provide some configuration/opening option to 
> choose which behaviour is prefered. RFC23 currently chooses 2) as it mandates 
> that "Any driver which knows it's encoding should convert to UTF-8." Well, 
> probably not a big deal since that any change related to how we deal with 
> encoding is likely to cause RFC23 to be amended anyway.
> 
> Personnaly, I'm not sure about which one is the best. I'm wondering what the 
> use cases for 1) are : when do we really want the data to be returned in its 
> source encoding --> will not be it converted later to UTF-8 at the 
> application level after the user has potentially selected/overriden the 
> source encoding ? In which case 3) would solve the problem. Just thinking 
> loud...

I think 3 could well solve the problem here.   The only downside that I see is that it might make implementation of auto-detection difficult if someone were to attempt to do that in a manner that not everyone agreed on.    However, the cases that I see above would be resolved by #3.

> 
> For the write part, a OGRSFDriver::GetSupportedEncodings() and 
> OGRLayer::SetEncoding() could make sense (for the later, if it must be 
> exposed at the datasource or layer level is an open point and a slight 
> difference between yours and Gaige's approach)

Is there a need for a per-layer approach to this?   I've yet to see a format that allowed different encodings in different layers.   Although, thinking about it, it might be a problem using some of the virtual data sets, since they hide some of this.

-Gaige


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/4631bb80/attachment.html
From chrisaustin2009 at gmail.com  Wed May 26 10:55:20 2010
From: chrisaustin2009 at gmail.com (radioheadCDA)
Date: Wed May 26 10:55:21 2010
Subject: [gdal-dev] Getting private Metadata from Geotiff Images
Message-ID: <1274885720319-5103966.post@n2.nabble.com>


Hey, I am a little bit new to GDAL and came across a problem. I am the C#
wrapper of GDAL and I am needing to get specific metadata such as
"ModelTiepointTag", "ModelPixelScaleTag" and a few more. I have tried using
the "getmetadata( )" method as well as the "getmetadataitem( )" method, but
no luck. I was wondering If anyone else has gone through this problem and if
so how did you resolve it? Any help would be greatly appreciated, Thanks.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Getting-private-Metadata-from-Geotiff-Images-tp5103966p5103966.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From lucafasano at interfree.it  Wed May 26 11:00:56 2010
From: lucafasano at interfree.it (Luca Fasano)
Date: Wed May 26 11:00:58 2010
Subject: [gdal-dev] Re: Modify virtual file attributes
In-Reply-To: <1274360646809-5079527.post@n2.nabble.com>
References: <1274260820.2391.35.camel@fasano-debian.innova>
	<4BF3ECBF.8030808@pobox.com>
	<1274360646809-5079527.post@n2.nabble.com>
Message-ID: <1274886056459-5103992.post@n2.nabble.com>


I noticed that in current trunk version SetScale and SetOffset methods are
present for the API of gdal.Band in Python bindings.

As reported in ticket num. 3587:
"
[...]

With [19412] SetScale and SetOffset methods are added.

When SetUnitType method will be added too, this ticket could be considered
as solved.
"

If also SetUnitType method will be added, a backport should be wonderful :)
.

Best regards
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Modify-virtual-file-attributes-tp5074120p5103992.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chrisaustin2009 at gmail.com  Wed May 26 11:13:17 2010
From: chrisaustin2009 at gmail.com (radioheadCDA)
Date: Wed May 26 11:13:19 2010
Subject: [gdal-dev] Gdal.Allregister Error
Message-ID: <1274886797188-5104079.post@n2.nabble.com>


Hey, I have been having a very large issue, well maybe not large but very
frustrating. I have been using the C# wrapper for gdal in visual studio and
have been getting an error when GDAL tries to register the drivers before
doing anything else. The error I get is this:

"The type Intializer for 'OSGeo.GDAL.Gdal' threw an exception"

I have tried changing enviroment variables, deleting then re-adding
refrences to gdal, both which have done nothing to solve the problem. If
anyone knows anything that might help me solve the issue, I would greatly
appreciate at it. Thanks.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Gdal-Allregister-Error-tp5104079p5104079.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Wed May 26 11:16:31 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 26 11:16:36 2010
Subject: [gdal-dev] Getting private Metadata from Geotiff Images
In-Reply-To: <1274885720319-5103966.post@n2.nabble.com>
References: <1274885720319-5103966.post@n2.nabble.com>
Message-ID: <4BFD3B4F.5010409@pobox.com>

radioheadCDA wrote:
> Hey, I am a little bit new to GDAL and came across a problem. I am the C#
> wrapper of GDAL and I am needing to get specific metadata such as
> "ModelTiepointTag", "ModelPixelScaleTag" and a few more. I have tried using
> the "getmetadata( )" method as well as the "getmetadataitem( )" method, but
> no luck. I was wondering If anyone else has gone through this problem and if
> so how did you resolve it? Any help would be greatly appreciated, Thanks.

Chris,

These geotiff tags are not directly accessable through GDAL. Instead they
are transformed into the corresponding GDAL datastructures like geotransform
or GCPs depending on the exact tags.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chrisaustin2009 at gmail.com  Wed May 26 11:18:09 2010
From: chrisaustin2009 at gmail.com (radioheadCDA)
Date: Wed May 26 11:18:10 2010
Subject: [gdal-dev] Re: Getting private Metadata from Geotiff Images
In-Reply-To: <4BFD3B4F.5010409@pobox.com>
References: <1274885720319-5103966.post@n2.nabble.com>
	<4BFD3B4F.5010409@pobox.com>
Message-ID: <1274887089087-5104110.post@n2.nabble.com>


Thanks! That is a lot of help. Does that mean I can call the geotransform
method to access the private metadata information? 
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Getting-private-Metadata-from-Geotiff-Images-tp5103966p5104110.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Wed May 26 11:25:50 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 26 11:25:56 2010
Subject: [gdal-dev] Re: Getting private Metadata from Geotiff Images
In-Reply-To: <1274887089087-5104110.post@n2.nabble.com>
References: <1274885720319-5103966.post@n2.nabble.com>
	<4BFD3B4F.5010409@pobox.com> <1274887089087-5104110.post@n2.nabble.com>
Message-ID: <4BFD3D7E.3050702@pobox.com>

radioheadCDA wrote:
> Thanks! That is a lot of help. Does that mean I can call the geotransform
> method to access the private metadata information? 

Chris,

If you call GetGeotransform() you should get back six doubles which for
a north up affine georeferenced image (ie one specified with a single
tiepoint and a pixel scale) will contain the origin, and the pixel size.

I would encourage you to read the docs to understand the geotransform
fully.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From luislisboa1975 at gmail.com  Wed May 26 11:33:25 2010
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Wed May 26 11:33:29 2010
Subject: [gdal-dev] Using GDAL with KOMPSAT-2 images
Message-ID: <AANLkTikkpCVnLalFWNakz7quuZHef_Qkk7Cw5jzCFUaP@mail.gmail.com>

Greetings

While I was importing to GRASS some KOMPSAT-2 images I got a few warnings.
Then, I decided to do some GDALINFO over those Kompsat-2 images and I got
the following warnings:

Warning 1: TIFFFetchNormalTag:ASCII value for tag "DocumentName" does not
end in null byte
Warning 1: TIFFFetchNormalTag:ASCII value for tag "ImageDescription" does
not end in null byte
Warning 1: TIFFFetchNormalTag:ASCII value for tag "Artist" does not end in
null byte
Warning 1: TIFFFetchNormalTag:ASCII value for tag "HostComputer" does not
end in null byte

And only after this I got the gdalinfo response:
Driver: GTiff/GeoTIFF
Files: MSC_090905125514_16582_25480940M3P07N_1G.tif
Size is 4551, 4663
Coordinate System is:
PROJCS["WGS 84 / UTM zone 24S",
    GEOGCS["WGS_1984",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235604902,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT[,0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-39],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",10000000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32724"]]
Origin = (602410.721905449754559,9118774.368212059140205)
Pixel Size = (4.000000000000000,-4.000000000000000)
Metadata:
  TIFFTAG_DOCUMENTNAME=MSC_090905125514_16582_25480940M3P07N_1G.tif
  TIFFTAG_IMAGEDESCRIPTION=GeoTIFF v1.0 : KOMPSAT2 MSC Image Level 1G
Product Level 1G
  TIFFTAG_DATETIME=2009:09:05 12:56:16
  TIFFTAG_ARTIST=Received IRPE NULL Location 0.000000/0.000000 Processing
TLS Location 43.600000/1.440000
  TIFFTAG_HOSTCOMPUTER=Producer background SW version CAP 1.0.091126.01
  TIFFTAG_XRESOLUTION=1
  TIFFTAG_YRESOLUTION=1
  TIFFTAG_MINSAMPLEVALUE=0
  TIFFTAG_MAXSAMPLEVALUE=1100
  TIFFTAG_RESOLUTIONUNIT=1 (unitless)
  AREA_OR_POINT=Point
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  602410.722, 9118774.368) ( 38d 4'14.81"W,  7d58'16.21"S)
Lower Left  (  602410.722, 9100122.368) ( 38d 4'13.43"W,  8d 8'23.51"S)
Upper Right (  620614.722, 9118774.368) ( 37d54'20.26"W,  7d58'14.75"S)
Lower Right (  620614.722, 9100122.368) ( 37d54'18.62"W,  8d 8'22.02"S)
Center      (  611512.722, 9109448.368) ( 37d59'16.78"W,  8d 3'19.15"S)
Band 1 Block=4551x1 Type=UInt16, ColorInterp=Gray
  Metadata:
    LAYER_TYPE=athematic

What this warnings refer to? is this a critical issue?

Thanks

Best regards,
Luis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/e4a6187e/attachment.html
From szekerest at gmail.com  Wed May 26 11:47:02 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed May 26 11:54:19 2010
Subject: [gdal-dev] Gdal.Allregister Error
In-Reply-To: <1274886797188-5104079.post@n2.nabble.com>
References: <1274886797188-5104079.post@n2.nabble.com>
Message-ID: <AANLkTilA17hTEY4Fq02RF3lGDeZpI8FepM_3VZq_9dU5@mail.gmail.com>

Looks like one or more dlls are missing or not available to load at run
time. Make sure gdal.dll or all of the dependencies are available to load by
the application. You can place the dll-s in the directory of your executable
or include the directory location in the PATH environment.

Best regards,

Tamas



2010/5/26 radioheadCDA <chrisaustin2009@gmail.com>

>
> Hey, I have been having a very large issue, well maybe not large but very
> frustrating. I have been using the C# wrapper for gdal in visual studio and
> have been getting an error when GDAL tries to register the drivers before
> doing anything else. The error I get is this:
>
> "The type Intializer for 'OSGeo.GDAL.Gdal' threw an exception"
>
> I have tried changing enviroment variables, deleting then re-adding
> refrences to gdal, both which have done nothing to solve the problem. If
> anyone knows anything that might help me solve the issue, I would greatly
> appreciate at it. Thanks.
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Gdal-Allregister-Error-tp5104079p5104079.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/a70b9201/attachment.html
From warmerdam at pobox.com  Wed May 26 12:03:43 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 26 12:03:48 2010
Subject: [gdal-dev] Using GDAL with KOMPSAT-2 images
In-Reply-To: <AANLkTikkpCVnLalFWNakz7quuZHef_Qkk7Cw5jzCFUaP@mail.gmail.com>
References: <AANLkTikkpCVnLalFWNakz7quuZHef_Qkk7Cw5jzCFUaP@mail.gmail.com>
Message-ID: <4BFD465F.8080008@pobox.com>

Luis Lisboa wrote:
> Greetings
> 
> While I was importing to GRASS some KOMPSAT-2 images I got a few 
> warnings. Then, I decided to do some GDALINFO over those Kompsat-2 
> images and I got the following warnings:
> 
> Warning 1: TIFFFetchNormalTag:ASCII value for tag "DocumentName" does 
> not end in null byte
> Warning 1: TIFFFetchNormalTag:ASCII value for tag "ImageDescription" 
> does not end in null byte
> Warning 1: TIFFFetchNormalTag:ASCII value for tag "Artist" does not end 
> in null byte
> Warning 1: TIFFFetchNormalTag:ASCII value for tag "HostComputer" does 
> not end in null byte
...
> What this warnings refer to? is this a critical issue?
> 

Luis,

This is not a critical error, only a warning.  However, if you are in
contact with the data producer you might encourage them to bring their
TIFF production into agreement with the specification which requires
that the last byte of these text items should be a zero byte.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chrisaustin2009 at gmail.com  Wed May 26 12:31:38 2010
From: chrisaustin2009 at gmail.com (radioheadCDA)
Date: Wed May 26 12:31:40 2010
Subject: [gdal-dev] Re: Gdal.Allregister Error
In-Reply-To: <AANLkTilA17hTEY4Fq02RF3lGDeZpI8FepM_3VZq_9dU5@mail.gmail.com>
References: <1274886797188-5104079.post@n2.nabble.com>
	<AANLkTilA17hTEY4Fq02RF3lGDeZpI8FepM_3VZq_9dU5@mail.gmail.com>
Message-ID: <1274891498294-5104516.post@n2.nabble.com>


Hey thanks for the advice, but It seems i'm still having trouble. I have
copied all of the dlls to the running application folder, and also looked at
the setfwenv.bat and tried to manually set all of the enviroment variables,
and I set all of them except for the
"GDAL_DRIVER_PATH=%FWTOOLS_DIR%\gdal_plugins" enviroment because I can't
seem to find the file "gdal_plugins" folder. This is starting to get
annoying lol
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Gdal-Allregister-Error-tp5104079p5104516.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Wed May 26 14:07:22 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 26 14:07:33 2010
Subject: AW: [gdal-dev] Create gdaldataset from in-memory
	Image/Bitmap/byte[]/MemoryStream
In-Reply-To: <941E09AD62CA6F41913924A35EA3985EBD1C3B57@ivv-mx.ivv-aachen.de>
References: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
	<AANLkTinD8FleDvS8jMaXZotkZg4ikvKxdGZ0zA9bDDmW@mail.gmail.com>
	<941E09AD62CA6F41913924A35EA3985EBD1C3B57@ivv-mx.ivv-aachen.de>
Message-ID: <201005262007.23154.even.rouault@mines-paris.org>

Felix,

yes you should be able to use FileFromMemBuffer() to create a virtual file and 
open it with the PNG driver (since the PNG driver supports virtual IO --> as 
confirmed by gdalinfo --format PNG)

Here's the C API for it : 
http://gdal.org/cpl__vsi_8h.html#1ecb3a78729ecea4d2ce22065a605244

And here's an extract of a test in the Python autotest suite. 

    content = open('data/byte.tif', mode='rb').read()

    # Create in-memory file and initialize it with the content 
    gdal.FileFromMemBuffer('/vsimem/tiffinmem', content)

    # Open the in-memory file
    ds = gdal.Open('/vsimem/tiffinmem')

    # do something with the dataset

    # Close the dataset
    ds = None

    # Release memory associated to the in-memory file
    gdal.Unlink('/vsimem/tiffinmem')


Disclaimer: You should be able to adapt the above for C#, but I haven't tested 
with the C# bindings, so there's a risk that they aren't ready if there's 
some missing required typemap.

Best regards,

Even

Le Wednesday 26 May 2010 10:21:04 Felix Obermaier, vous avez ?crit?:
> Tamas,
>
> I just went through the gdal 1.7 release notes, and read that a function
> 'FileFromMemBuffer' was added to the csharp bindings. Since I'm getting
> image blobs from an sqlite database (png), is it a suitable way to use that
> function?
>
> Thanks
> Felix Obermaier
>
> ------------------------------------------
>  Ingenieurgruppe IVV GmbH & Co. KG
>  Dipl.-Ing. Felix Obermaier
>  Oppenhoffallee 171
>  52066 Aachen
>
>  Telefon: +49 (241) 94691-39
>  Telefax: +49 (241) 531622
>  eMail: obe@ivv-aachen.de<mailto:obe@ivv-aachen.de>
>  Internet: http://www.ivv-aachen.de
>
>  Sitz der Gesellschaft: Aachen
>  Amtsgericht Aachen HRA 6212
>  GF: Bauassessor Dr.-Ing. Dieter H?lsken
>  IVV-Management GmbH
>  Amtsgericht Aachen HRB 12543
>
> Von: Tamas Szekeres [mailto:szekerest@gmail.com]
> Gesendet: Donnerstag, 20. Mai 2010 23:03
> An: Felix Obermaier
> Cc: gdal-dev@lists.osgeo.org
> Betreff: Re: [gdal-dev] Create gdaldataset from in-memory
> Image/Bitmap/byte[]/MemoryStream
>
> Felix,
>
> You can find examples in the gdal source tree about creating a dataset and
> write data by using the WriteRaster method:
>
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALWrite.cs
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/csharp/apps/GDALDatasetW
>rite.cs
>
> For more information about the raster IO operations in C# see:
> http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpRaster
>
> Best regards,
>
> Tamas
>
>
>
> 2010/5/20 Felix Obermaier <obe@ivv-aachen.de<mailto:obe@ivv-aachen.de>>
> Hello list,
>
> I'm using GDAL via swig C# bindings. Is there a way to create a gdal
> dataset object from an in-memory Image/Bitmap/byte[]/MemoryStream, and if
> so, how  can I achive this.
>
> Thanks in advance
>
> Felix Obermaier
>
> ------------------------------------------
>  Ingenieurgruppe IVV GmbH & Co. KG
>  Dipl.-Ing. Felix Obermaier
>  Oppenhoffallee 171
>  52066 Aachen
>
>  Telefon: +49 (241) 94691-39
>  Telefax: +49 (241) 531622
>  eMail: obe_at_ivv-aachen.de<http://obe_at_ivv-aachen.de>
>  Internet: http://www.ivv-aachen.de
>
>  Sitz der Gesellschaft: Aachen
>  Amtsgericht Aachen HRA 6212
>  GF: Bauassessor Dr.-Ing. Dieter H?lsken
>  IVV-Management GmbH
>  Amtsgericht Aachen HRB 12543
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From chrisaustin2009 at gmail.com  Wed May 26 14:15:59 2010
From: chrisaustin2009 at gmail.com (radioheadCDA)
Date: Wed May 26 14:16:00 2010
Subject: [gdal-dev] Re: Gdal.Allregister Error
In-Reply-To: <1274891498294-5104516.post@n2.nabble.com>
References: <1274886797188-5104079.post@n2.nabble.com>
	<AANLkTilA17hTEY4Fq02RF3lGDeZpI8FepM_3VZq_9dU5@mail.gmail.com>
	<1274891498294-5104516.post@n2.nabble.com>
Message-ID: <1274897759239-5105015.post@n2.nabble.com>


So I found the inner exception for the All register problem and it says it
can't load the dll "gdal_wrap" but I have put an environment variable
pointing to the folder its but it still shows up the exception. Is there any
other reason why it would load the "gdal_wrap" dll?
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Gdal-Allregister-Error-tp5104079p5105015.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Wed May 26 14:31:00 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 26 14:31:09 2010
Subject: [gdal-dev] Re: Handling CPG (encoding) file
In-Reply-To: <F822C4CC-E08B-40EC-A1D6-9A6CF5E781A4@gbp.gaige.net>
References: <20100523191146.992ed06e.alexander.bruy@gmail.com>
	<201005260131.20446.even.rouault@mines-paris.org>
	<F822C4CC-E08B-40EC-A1D6-9A6CF5E781A4@gbp.gaige.net>
Message-ID: <201005262031.00293.even.rouault@mines-paris.org>

>
> > For the write part, a OGRSFDriver::GetSupportedEncodings() and
> > OGRLayer::SetEncoding() could make sense (for the later, if it must be
> > exposed at the datasource or layer level is an open point and a slight
> > difference between yours and Gaige's approach)
>
> Is there a need for a per-layer approach to this?   I've yet to see a
> format that allowed different encodings in different layers.   Although,
> thinking about it, it might be a problem using some of the virtual data
> sets, since they hide some of this.

Actually, I'm not confident that a standalone SetEncoding() method is 
appropriate. This should rather be an extra parameter (or a "stantardized" 
creation option) of CreateDataSource() , as drivers will often need that 
information at the very beginning to write the appropriate header (for 
example the encoding of a XML file) and you cannot sanely change encoding in 
the middle of writing a file...

Also, when you create a non UTF-8 datasource, 
- is the data passed to the driver already encoded in the target encoding (a)
- or is it in UTF-8 (b) and the driver is responsible to convert it to the 
target encoding.

Approach (a) gives strong predictibility of which bytes go to the file and 
enable the user to control how he wants the data to be degraded. But the 
downside of it is is that it would lead to a weird behaviour for read/write 
datasources. When you read, you'd get data in UTF-8 (AFAIK all encodings can 
be losslessly transcoded to UTF-8. Correct me if I'm wrong), but when you 
write you pass it in encoding XXXX ...

From chrisaustin2009 at gmail.com  Wed May 26 14:31:22 2010
From: chrisaustin2009 at gmail.com (radioheadCDA)
Date: Wed May 26 14:31:24 2010
Subject: [gdal-dev] Re: Gdal.Allregister Error
In-Reply-To: <1274897759239-5105015.post@n2.nabble.com>
References: <1274886797188-5104079.post@n2.nabble.com>
	<AANLkTilA17hTEY4Fq02RF3lGDeZpI8FepM_3VZq_9dU5@mail.gmail.com>
	<1274891498294-5104516.post@n2.nabble.com>
	<1274897759239-5105015.post@n2.nabble.com>
Message-ID: <1274898682629-5105091.post@n2.nabble.com>


I got it to recognize the file but its saying that it can't find an entry
point in the dll....this is really aggravating ha
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Gdal-Allregister-Error-tp5104079p5105091.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From zavata.afnan at gmail.com  Wed May 26 16:20:08 2010
From: zavata.afnan at gmail.com (Mostafa Jabarouti Moghaddam)
Date: Wed May 26 16:20:11 2010
Subject: [gdal-dev] GDAL installation on Linux (CentOS 64bit)
Message-ID: <AANLkTikwe5qDPIHhbuZX_YmLWyOpzVd1kzKGzqkKbgSm@mail.gmail.com>

I downloaded all packages (
http://download.opensuse.org/repositories/Application:/Geo/CentOS_5/x86_64/)
for CentOS 5.


When i try to install netcdf-4.0.1-7.1.x86_64.rpm, I get this error:

root@localhost gdal17_64bit]# rpm -i netcdf-4.0.1-7.1.x86_64.rpm
warning: netcdf-4.0.1-7.1.x86_64.rpm: Header V3 DSA signature: NOKEY, key ID
9591c39b
error: Failed dependencies:
        libnetcdf.so.4()(64bit) is needed by netcdf-4.0.1-7.1.x86_64


On the other hand, when i try to install libnetcdf4-4.0.1-7.1.x86_64.rpm, I
get this error:

[root@localhost gdal17_64bit]# rpm -i libnetcdf4-4.0.1-7.1.x86_64.rpm
warning: libnetcdf4-4.0.1-7.1.x86_64.rpm: Header V3 DSA signature: NOKEY,
key ID 9591c39b
error: Failed dependencies:
        netcdf = 4.0.1 is needed by libnetcdf4-4.0.1-7.1.x86_64

So how can i install netcdf properly?
Is there anyone has this problem?


Best Regards,
MJM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/65713c9d/attachment.html
From szekerest at gmail.com  Wed May 26 17:22:27 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed May 26 17:22:32 2010
Subject: AW: [gdal-dev] Create gdaldataset from in-memory 
	Image/Bitmap/byte[]/MemoryStream
In-Reply-To: <201005262007.23154.even.rouault@mines-paris.org>
References: <941E09AD62CA6F41913924A35EA3985EBD1C3B56@ivv-mx.ivv-aachen.de>
	<AANLkTinD8FleDvS8jMaXZotkZg4ikvKxdGZ0zA9bDDmW@mail.gmail.com>
	<941E09AD62CA6F41913924A35EA3985EBD1C3B57@ivv-mx.ivv-aachen.de>
	<201005262007.23154.even.rouault@mines-paris.org>
Message-ID: <AANLkTik_ygsBtrAV4RlDkzw-0Iui-hSLxbHCKtqJyyup@mail.gmail.com>

2010/5/26 Even Rouault <even.rouault@mines-paris.org>

> Felix,
>
> yes you should be able to use FileFromMemBuffer() to create a virtual file
> and
> open it with the PNG driver (since the PNG driver supports virtual IO -->
> as
> confirmed by gdalinfo --format PNG)
>
> Here's the C API for it :
> http://gdal.org/cpl__vsi_8h.html#1ecb3a78729ecea4d2ce22065a605244
>
> And here's an extract of a test in the Python autotest suite.
>
>    content = open('data/byte.tif', mode='rb').read()
>
>    # Create in-memory file and initialize it with the content
>    gdal.FileFromMemBuffer('/vsimem/tiffinmem', content)
>
>    # Open the in-memory file
>    ds = gdal.Open('/vsimem/tiffinmem')
>
>    # do something with the dataset
>
>    # Close the dataset
>    ds = None
>
>    # Release memory associated to the in-memory file
>    gdal.Unlink('/vsimem/tiffinmem')
>
>
> Disclaimer: You should be able to adapt the above for C#, but I haven't
> tested
> with the C# bindings, so there's a risk that they aren't ready if there's
> some missing required typemap.
>
>
Felix,


The current version of the C# signature of FileFromMemBuffer is rude and not
user friendly, though I could imagine the following transcript of the python
code above for the C# bindings (not tested):


byte[] bytes = File.ReadAllBytes("data\\byte.tif");
GCHandle handle = GCHandle.Alloc(bytes, GCHandleType.Pinned);
try
{
    Gdal.FileFromMemBuffer("/vsimem/tiffinmem",
handle.AddrOfPinnedObject());

    using (Dataset ds = gdal.Open("/vsimem/tiffinmem"))
    {
    // do something
    }
    Gdal.Unlink("/vsimem/tiffinmem");
}
finally
{
    handle.Free();
}


In the future I'm about to add a second signature to the bindings  "*public
static void FileFromMemBuffer(string pszFilename, int nBytes, byte[]
pabyData)*" which could also avoid the extra memcopy implemented in the
current version.

Feel free to add a ticket <http://trac.osgeo.org/gdal/newticket> to require
this addition.


Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/bf0a14f2/attachment-0001.html
From szekerest at gmail.com  Wed May 26 17:31:51 2010
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed May 26 17:31:56 2010
Subject: [gdal-dev] Re: Gdal.Allregister Error
In-Reply-To: <1274898682629-5105091.post@n2.nabble.com>
References: <1274886797188-5104079.post@n2.nabble.com>
	<AANLkTilA17hTEY4Fq02RF3lGDeZpI8FepM_3VZq_9dU5@mail.gmail.com>
	<1274891498294-5104516.post@n2.nabble.com>
	<1274897759239-5105015.post@n2.nabble.com>
	<1274898682629-5105091.post@n2.nabble.com>
Message-ID: <AANLkTikymFz2axpIvJCwPmJ1NH9XSN3lns699XvhYKw8@mail.gmail.com>

Hi,

While I'm not sure what kind of binaries you are testing with, I would
somewhat suggest to use a package from http://vbkto.dyndns.org/sdk/ which
should contain all the required dll-s.
gdal_wrap.dll is the unmanaged part of the bindings and it should also be
available to load by the application at run time. As a last resort you could
also use a file monitoring tool like
ProcMon<http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx>to
identify the dll-s which could not be loaded.


Best regards,

Tamas



2010/5/26 radioheadCDA <chrisaustin2009@gmail.com>

>
> I got it to recognize the file but its saying that it can't find an entry
> point in the dll....this is really aggravating ha
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Gdal-Allregister-Error-tp5104079p5105091.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100526/d60c3e74/attachment.html
From Chris.Barker at noaa.gov  Wed May 26 22:17:56 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Wed May 26 22:17:58 2010
Subject: [gdal-dev] ESRI text format?
Message-ID: <4BFDD654.6080109@noaa.gov>

Hi folks,

I"m dealing with some text data files that were exported from ArcMap as 
"text files". They have polygons in them, an look like this:

Polygon
0 0
0 -86.9890993091 28.999375461 1.#QNAN 1.#QNAN
1 -87.0129414796 28.9832507557 1.#QNAN 1.#QNAN
2 -87.0312816107 28.9590589356 1.#QNAN 1.#QNAN
3 -87.0551237811 28.9179197345 1.#QNAN 1.#QNAN
...


Does anyone know what to call this format, and can OGR read or write it?

I tried ogrinfo on it, and it wasn't recognized, so probably not, but I 
thought someone might have a hint.

The problem at hand is to convert shape files with polygons into this 
format, I was hoping it would be a simple call to org2ogr, but I guess I 
may have to write a python script.

-Chris







-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From bogdan.grama at soft-union.ro  Thu May 27 02:12:01 2010
From: bogdan.grama at soft-union.ro (Bogdan Grama)
Date: Thu May 27 02:12:12 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
Message-ID: <4BFE0D31.3010304@soft-union.ro>

Dear all,

I'm using GDAL/OGR for reading and rendering ENC files in c#. Recently
i've discovered that for some ENC a feature geometry was badly decoded.

    ---->LAYER NAME = ROADWY
    ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
    ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
    ----> TYPE  : wkbLineString
    ----> Geom  : LINESTRING (22.5659615 44.554194199999998,22.5652045
44.5531651,22.565431499999999 44.551777399999999,22.5663008
44.5510096,22.565618700000002 44.550082199999999,22.5654462
44.5495941,22.5637522 44.548679300000003,22.563407999999999
44.547728599999999,22.565408699999999
44.547119799999997,22.567032699999999 44.546393700000003,22.5667729
44.545651200000002,22.565761299999998 44.544027,22.5636273
44.5411638,22.562342099999999 44.540039800000002,22.559403
44.536748899999999,22.557911199999999 44.534543999999997,22.5566466
44.530951399999999,22.5563888 44.529523099999999,22.5549946
44.528591499999997,22.5541939 44.525933100000003,22.5526434
44.523788799999998,22.5670219 44.549351899999998,22.568407700000002
44.549145199999998,22.5329111 44.493582500000002,22.531871899999999
44.496433699999997,22.524960799999999
44.502708900000002,22.525470899999998 44.503191399999999,22.5295138
44.505221400000003,22.5331359 44.507771099999999,22.5362468
44.509275100000004,22.5408091 44.5115306,22.544131199999999
44.512737399999999,22.5461053 44.513267499999998,22.546569399999999
44.514995599999999,22.510513499999998 44.499248100000003,22.5158217
44.499421599999998,22.520606699999998
44.499890700000002,22.523095999999999
44.500945199999997,22.524960799999999
44.502708900000002,22.576765300000002 44.4773213,22.5769802
44.479661800000002,22.577548499999999
44.481585799999998,22.576243399999999
44.484254399999998,22.576583599999999
44.485509100000002,22.577508699999999 44.486599099999999,22.5769145
44.487933599999998,22.5708196 44.491083799999998,22.569402799999999
44.493083300000002,22.5692354 44.4958977,22.579960499999999
44.501314999999998,22.5831172 44.500742799999998,22.584523999999998
44.4999964,22.5848604 44.4999039,22.580137799999999
44.526185900000002,22.5825748 44.530118700000003,22.510796899999999
44.528525799999997,22.510890499999999 44.526797799999997,22.5076679
44.5223309)


After parsing the file with:
 OSGeo.GDAL.Gdal.SetConfigOption("OGR_S57_OPTIONS",
"RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON");

the result according with chained node topology (NAME_RCNM =
(10:130,130,130,130,130,130,130,130,130,130)) is:

ConnectedNode 114 - POINT (22.5659615 44.554194199999998)
Edge 114 - LINESTRING (22.5652045 44.5531651,22.565431499999999
44.551777399999999,22.5663008 44.5510096)
ConnectedNode 82  - POINT (22.565618700000002 44.550082199999999)

ConnectedNode 82  - POINT (22.565618700000002 44.550082199999999)
Edge 103 - LINESTRING (22.5654462 44.5495941,22.5637522
44.548679300000003,22.563407999999999
44.547728599999999,22.565408699999999
44.547119799999997,22.567032699999999 44.546393700000003,22.5667729
44.545651200000002,22.565761299999998 44.544027,22.5636273
44.5411638,22.562342099999999 44.540039800000002,22.559403
44.536748899999999,22.557911199999999 44.534543999999997,22.5566466
44.530951399999999,22.5563888 44.529523099999999,22.5549946
44.528591499999997,22.5541939 44.525933100000003)
ConnectedNode 98  - POINT (22.5526434 44.523788799999998)

ConnectedNode 82  - POINT (22.565618700000002 44.550082199999999)
Edge 89  - LINESTRING (22.5670219 44.549351899999998)
ConnectedNode 83  - POINT (22.568407700000002 44.549145199999998)

ConnectedNode 93  - POINT (22.5350702 44.491883799999997)
Edge 97  - LINESTRING (22.5329111 44.493582500000002,22.531871899999999
44.496433699999997)
ConnectedNode 94  - POINT (22.524960799999999 44.502708900000002)

ConnectedNode 94  - POINT (22.524960799999999 44.502708900000002)
Edge 99  - LINESTRING (22.525470899999998 44.503191399999999,22.5295138
44.505221400000003,22.5331359 44.507771099999999,22.5362468
44.509275100000004,22.5408091 44.5115306,22.544131199999999
44.512737399999999,22.5461053 44.513267499999998)
ConnectedNode 85  - POINT (22.546569399999999 44.514995599999999)

ConnectedNode 111 - POINT (22.5094658 44.4989464)
Edge 112 - LINESTRING (22.510513499999998 44.499248100000003,22.5158217
44.499421599999998,22.520606699999998
44.499890700000002,22.523095999999999 44.500945199999997)
ConnectedNode 94  - (22.524960799999999 44.502708900000002)

ConnectedNode 109 - POINT (22.576296200000002 44.464573399999999)
Edge 111 - LINESTRING (22.576765300000002 44.4773213,22.5769802
44.479661800000002,22.577548499999999
44.481585799999998,22.576243399999999
44.484254399999998,22.576583599999999
44.485509100000002,22.577508699999999 44.486599099999999,22.5769145
44.487933599999998,22.5708196 44.491083799999998,22.569402799999999
44.493083300000002)
ConnectedNode 102 - POINT (22.5692354 44.4958977)

ConnectedNode 103 - POINT (22.576376799999998 44.502952700000002)
Edge 108 - LINESTRING (22.579960499999999 44.501314999999998,22.5831172
44.500742799999998,22.584523999999998 44.4999964)
ConnectedNode 108 - POINT (22.5848604 44.4999039)

ConnectedNode 105 - POINT (22.5731362 44.512910499999997)
Edge 110 - LINESTRING (22.580137799999999 44.526185900000002)
ConnectedNode 107 - POINT (22.5825748 44.530118700000003)

ConnectedNode 117 - POINT (22.5093748 44.531118200000002)
Edge 124 - LINESTRING (22.510796899999999
44.528525799999997,22.510890499999999 44.526797799999997)
ConnectedNode 119 - POINT (22.5076679 44.5223309)


Now this is correct: 1 feature with 10 distinct linestrings. What do you
think? Can this be fix? I can provide sample ENC and screenshots with
rendered image.

Best regards,--

Bogdan GRAMA

From Ralf.Suhr at itc-halle.de  Thu May 27 04:28:44 2010
From: Ralf.Suhr at itc-halle.de (Ralf Suhr)
Date: Thu May 27 04:29:53 2010
Subject: [gdal-dev] ESRI text format?
In-Reply-To: <4BFDD654.6080109@noaa.gov>
References: <4BFDD654.6080109@noaa.gov>
Message-ID: <201005271028.44786.Ralf.Suhr@itc-halle.de>

Hi Chris,

the text is a edit-session from ArcGIS. ogr2ogr can't read this.

Gr
Ralf

Am Donnerstag 27 Mai 2010 04:17:56 schrieb Christopher Barker:
> Hi folks,
> 
> I"m dealing with some text data files that were exported from ArcMap as
> "text files". They have polygons in them, an look like this:
> 
> Polygon
> 0 0
> 0 -86.9890993091 28.999375461 1.#QNAN 1.#QNAN
> 1 -87.0129414796 28.9832507557 1.#QNAN 1.#QNAN
> 2 -87.0312816107 28.9590589356 1.#QNAN 1.#QNAN
> 3 -87.0551237811 28.9179197345 1.#QNAN 1.#QNAN
> ...
> 
> 
> Does anyone know what to call this format, and can OGR read or write it?
> 
> I tried ogrinfo on it, and it wasn't recognized, so probably not, but I
> thought someone might have a hint.
> 
> The problem at hand is to convert shape files with polygons into this
> format, I was hoping it would be a simple call to org2ogr, but I guess I
> may have to write a python script.
> 
> -Chris

From gilbertferrara1974 at gmail.com  Thu May 27 06:11:18 2010
From: gilbertferrara1974 at gmail.com (Gilbert Ferrara)
Date: Thu May 27 06:11:25 2010
Subject: [gdal-dev] Converting coordinates/Projection
Message-ID: <AANLkTin8Y5OqPcOMMw-Ltv8Uo-is73WVmMHBmpcukC5e@mail.gmail.com>

Hi there

I have a few satellite images in Latlon WGS84 and I need to convert it to
UTM (a specific Zone). What GDAL tool shall I use? GDAL_translate or
GDALWARP?

Thanks

Gilbert
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100527/6cf83c34/attachment.html
From warmerdam at pobox.com  Thu May 27 08:46:17 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 27 08:46:24 2010
Subject: [gdal-dev] Converting coordinates/Projection
In-Reply-To: <AANLkTin8Y5OqPcOMMw-Ltv8Uo-is73WVmMHBmpcukC5e@mail.gmail.com>
References: <AANLkTin8Y5OqPcOMMw-Ltv8Uo-is73WVmMHBmpcukC5e@mail.gmail.com>
Message-ID: <4BFE6999.3030705@pobox.com>

Gilbert Ferrara wrote:
> Hi there
> 
> I have a few satellite images in Latlon WGS84 and I need to convert it 
> to UTM (a specific Zone). What GDAL tool shall I use? GDAL_translate or 
> GDALWARP?

Gilbert,

To reproject an image gdalwarp is the appropriate tool.  If the image is
properly georeferenced already, it may be sufficient to do something like:


   gdalwarp -t_srs "+proj=utm +zone=11 +datum=WGS84" latlong.tif utm.tif

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Thu May 27 09:04:09 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 27 09:04:14 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4BFE0D31.3010304@soft-union.ro>
References: <4BFE0D31.3010304@soft-union.ro>
Message-ID: <4BFE6DC9.4050101@pobox.com>

Bogdan Grama wrote:
> Dear all,
> 
> I'm using GDAL/OGR for reading and rendering ENC files in c#. Recently
> i've discovered that for some ENC a feature geometry was badly decoded.
> 
>     ---->LAYER NAME = ROADWY
>     ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
>     ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
>     ----> TYPE  : wkbLineString
...
> Now this is correct: 1 feature with 10 distinct linestrings. What do you
> think? Can this be fix? I can provide sample ENC and screenshots with
> rendered image.

Bogdan,

 From the text dump I am afraid I don't see the problem.  It looks like
10 line strings are assembled into one longer linestring.  Without observing
any geometric problems this seems reasonable.   Can you further illuminate
why you think it is wrong?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From russellmcormond at gmail.com  Thu May 27 09:13:17 2010
From: russellmcormond at gmail.com (Russell McOrmond)
Date: Thu May 27 09:13:22 2010
Subject: [gdal-dev] What do people think of the MySQL Spatial Extensions?
Message-ID: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>

I am aware of PostGIS, Oracle Spatial and ArcSDE.? I only became aware
that MySQL had extensions as well very recently (My brother started at
Pythian).

http://dev.mysql.com/doc/refman/5.5/en/mysql-gis-conformance-and-compatibility.html
http://www.gdal.org/ogr/drv_mysql.html

Are there people in this list that use this extensively, and can give
some comparisons to other databases/etc?

Thanks!
From warmerdam at pobox.com  Thu May 27 09:28:59 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 27 09:29:08 2010
Subject: [gdal-dev] What do people think of the MySQL Spatial Extensions?
In-Reply-To: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
References: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
Message-ID: <4BFE739B.6060909@pobox.com>

Russell McOrmond wrote:
> I am aware of PostGIS, Oracle Spatial and ArcSDE.  I only became aware
> that MySQL had extensions as well very recently (My brother started at
> Pythian).
> 
> http://dev.mysql.com/doc/refman/5.5/en/mysql-gis-conformance-and-compatibility.html
> http://www.gdal.org/ogr/drv_mysql.html
> 
> Are there people in this list that use this extensively, and can give
> some comparisons to other databases/etc?

Russell,

I have not got extensive experience with the mysql spatial, but from my
limited experience (possibly now a bit dated) mysql have implemented
spatial data warehousing with pretty good query performance per the
OGC specs.  Last time I looked they had not implemented complex spatial
operations (like intersection) and had not done anything with coordinate
systems.

I see the docs still indicate that the mysql functions for things like
distance and intersects are still implemented using the MBRs rather than
the actual geometry.

It would be suitable, for instance, for straight forward web mapping
applications but it would not be a good data analysis environment for
instance.

Hopefully there will be some deeper answers forthcoming.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From reinaldo at geodesign.com.br  Thu May 27 09:35:26 2010
From: reinaldo at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Thu May 27 09:43:46 2010
Subject: [gdal-dev] What do people think of the MySQL Spatial Extensions?
In-Reply-To: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
References: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
Message-ID: <67687c6e772fd3bcc28d2ea2c021537c.squirrel@webmail.geodesign.com.br>

As I understand, MySQL supports only projected crs.  It does not support
geographic crs.  The other rdbms spatial engines support both projected
and geographic crs.

Reinaldo

> I am aware of PostGIS, Oracle Spatial and ArcSDE.? I only became aware
> that MySQL had extensions as well very recently (My brother started at
> Pythian).
>
> http://dev.mysql.com/doc/refman/5.5/en/mysql-gis-conformance-and-compatibility.html
> http://www.gdal.org/ogr/drv_mysql.html
>
> Are there people in this list that use this extensively, and can give
> some comparisons to other databases/etc?
>
> Thanks!
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Reinaldo Escada Chohfi
Diretor Geral
GeoDesign Internacional - www.geodesign.com.br

E-mail: reinaldo@geodesign.com.br
Tel./Fax: +55-12-3153-5115
Skype: rechohfi

Intelig?ncia e Tecnologia GeoEspacial de Ponta

Informa??o confidencial. N?o retransmitir sem autoriza??o.
Copyright (c) 2009 GeoDesign Internacional
Todos os direitos reservados.


From bogdan.grama at soft-union.ro  Thu May 27 10:05:12 2010
From: bogdan.grama at soft-union.ro (Bogdan Grama)
Date: Thu May 27 10:05:16 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4BFE6DC9.4050101@pobox.com>
References: <4BFE0D31.3010304@soft-union.ro> <4BFE6DC9.4050101@pobox.com>
Message-ID: <4BFE7C18.3040004@soft-union.ro>

Dear Frank

Please find in the archive (http://www.wgs.ro/gdal/0_w.zip):

-the ENC
-GDAL Interpretation
-correct  Interpretation

The assembled geometry is not according with specifications. Each
referenced edge starts and ends with a ConnectedNode. Not all the
Connected nodes are present in the feature geometry dump.

This is not all. If the file is rendered with Sevencs
(http://www.sevencs.com/service-products/download) and few others
viewers the rendering is correct.
For GDAL, ESRI FME, Caris the geometry is not correct.

Regards,

Bogdan



On 5/27/2010 4:04 PM, Frank Warmerdam wrote:
> Bogdan Grama wrote:
>> Dear all,
>>
>> I'm using GDAL/OGR for reading and rendering ENC files in c#. Recently
>> i've discovered that for some ENC a feature geometry was badly decoded.
>>
>>     ---->LAYER NAME = ROADWY
>>     ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
>>     ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
>>     ----> TYPE  : wkbLineString
> ...
>> Now this is correct: 1 feature with 10 distinct linestrings. What do you
>> think? Can this be fix? I can provide sample ENC and screenshots with
>> rendered image.
>
> Bogdan,
>
> From the text dump I am afraid I don't see the problem.  It looks like
> 10 line strings are assembled into one longer linestring.  Without
> observing
> any geometric problems this seems reasonable.   Can you further
> illuminate
> why you think it is wrong?
>
> Best regards,
From bogdan.grama at soft-union.ro  Thu May 27 10:08:59 2010
From: bogdan.grama at soft-union.ro (Bogdan Grama)
Date: Thu May 27 10:09:03 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4BFE6DC9.4050101@pobox.com>
References: <4BFE0D31.3010304@soft-union.ro> <4BFE6DC9.4050101@pobox.com>
Message-ID: <4BFE7CFB.4020206@soft-union.ro>

Dear Frank

Please find in the archive (http://www.wgs.ro/gdal/0_w.zip):

-the ENC
-GDAL Interpretation
-correct  Interpretation

The assembled geometry is not according with specifications. Each
referenced edge starts and ends with a ConnectedNode. Not all the
Connected nodes are present in the feature geometry dump.

This is not all. If the file is rendered with Sevencs
(http://www.sevencs.com/service-products/download) and few others
viewers the rendering is correct.
For GDAL, ESRI FME, Caris the geometry is not correct.

Regards,

Bogdan


On 5/27/2010 4:04 PM, Frank Warmerdam wrote:
> Bogdan Grama wrote:
>> Dear all,
>>
>> I'm using GDAL/OGR for reading and rendering ENC files in c#. Recently
>> i've discovered that for some ENC a feature geometry was badly decoded.
>>
>>     ---->LAYER NAME = ROADWY
>>     ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
>>     ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
>>     ----> TYPE  : wkbLineString
> ...
>> Now this is correct: 1 feature with 10 distinct linestrings. What do you
>> think? Can this be fix? I can provide sample ENC and screenshots with
>> rendered image.
>
> Bogdan,
>
> From the text dump I am afraid I don't see the problem.  It looks like
> 10 line strings are assembled into one longer linestring.  Without
> observing
> any geometric problems this seems reasonable.   Can you further
> illuminate
> why you think it is wrong?
>
> Best regards,
From warmerdam at pobox.com  Thu May 27 11:19:22 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 27 11:19:28 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4BFE7CFB.4020206@soft-union.ro>
References: <4BFE0D31.3010304@soft-union.ro> <4BFE6DC9.4050101@pobox.com>
	<4BFE7CFB.4020206@soft-union.ro>
Message-ID: <4BFE8D7A.9040107@pobox.com>

Bogdan Grama wrote:
> Dear Frank
> 
> Please find in the archive (http://www.wgs.ro/gdal/0_w.zip):
> 
> -the ENC
> -GDAL Interpretation
> -correct  Interpretation
> 
> The assembled geometry is not according with specifications. Each
> referenced edge starts and ends with a ConnectedNode. Not all the
> Connected nodes are present in the feature geometry dump.
> 
> This is not all. If the file is rendered with Sevencs
> (http://www.sevencs.com/service-products/download) and few others
> viewers the rendering is correct.
> For GDAL, ESRI FME, Caris the geometry is not correct.
>

Folks,

I have determined this is the same as the previously reported:

   http://trac.osgeo.org/gdal/ticket/2147

for which I neglected to apply the patch.  I have revised the patch
and applied it in trunk and 1.7 branch.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ivan.lucena at pmldnet.com  Thu May 27 05:52:25 2010
From: ivan.lucena at pmldnet.com (Lucena, Ivan)
Date: Thu May 27 13:00:59 2010
Subject: [gdal-dev] What do people think of the MySQL Spatial Extensions?
In-Reply-To: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
References: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
Message-ID: <4BFE40D9.7010008@pmldnet.com>

Russell McOrmond wrote:
> I am aware of PostGIS, Oracle Spatial and ArcSDE.  I only became aware
> that MySQL had extensions as well very recently (My brother started at
> Pythian).
> 
> http://dev.mysql.com/doc/refman/5.5/en/mysql-gis-conformance-and-compatibility.html
> http://www.gdal.org/ogr/drv_mysql.html
> 
> Are there people in this list that use this extensively, and can give
> some comparisons to other databases/etc?
> 
> Thanks!
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

Russell,

If you want a Geospatial extension to MySQL you can use TerraLib from terralib.org. It implements 
its own simple features and raster data model not only in MySQL but in some other rdbms.

Regards,

Ivan
From even.rouault at mines-paris.org  Thu May 27 14:40:30 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 27 14:40:41 2010
Subject: [gdal-dev] Converting coordinates/Projection
In-Reply-To: <AANLkTin8Y5OqPcOMMw-Ltv8Uo-is73WVmMHBmpcukC5e@mail.gmail.com>
References: <AANLkTin8Y5OqPcOMMw-Ltv8Uo-is73WVmMHBmpcukC5e@mail.gmail.com>
Message-ID: <201005272040.31983.even.rouault@mines-paris.org>

Gilbert,

I'd have hoped the help page of gdalwarp was clear enough ;-)

"The gdalwarp utility is an image mosaicing, reprojection and warping utility. 
The program can reproject to any supported projection,"

See http://gdal.org/gdalwarp.html

Le Thursday 27 May 2010 12:11:18 Gilbert Ferrara, vous avez ?crit?:
> Hi there
>
> I have a few satellite images in Latlon WGS84 and I need to convert it to
> UTM (a specific Zone). What GDAL tool shall I use? GDAL_translate or
> GDALWARP?
>
> Thanks
>
> Gilbert


From discoursemap at live.com  Thu May 27 17:35:49 2010
From: discoursemap at live.com (Discourse Maps)
Date: Thu May 27 17:35:51 2010
Subject: [gdal-dev] Creating a simple shapefile with ogr
In-Reply-To: <20100519131014.4B2B9E01DF6@lists.osgeo.org>
References: <20100519131014.4B2B9E01DF6@lists.osgeo.org>
Message-ID: <SNT130-w5539B58792DB463345C950BCEA0@phx.gbl>


Hi,

 

I am trying to create a basic polygon shapefile using OGR in Python.

Any help with fixing my code is appreciated.  Currently, it creates a shapefile, but nothing shows up in ArcGIS.

 


# GDAL
from osgeo import ogr, gdal
from osgeo.gdalconst import *

 
# sample data
data = [[3333317.0,5684892.0],[3333417.0,5684892.0],\
           [3333317.0,5684992.0],[3333417.0,5684992.0]]

 
# Create Shapefile named "polygon.shp" for output
driver = ogr.GetDriverByName('ESRI Shapefile')
output = "polygon.shp"
 
datasource = driver.CreateDataSource(output)
layer = datasource.CreateLayer(output, geom_type=ogr.wkbPolygon)

 
feature = ogr.Feature(layer.GetLayerDefn())

wkt = "POLYGON(" + str(data[0][0]) + " " + str(data[0][1]) + "," + str(data[1][0]) + " " + str(data[1][1]) + "," + str(data[2][0]) + " " + str(data[2][1]) + "," + str(data[3][0]) + " " + str(data[3][1]) + ")"


polygon = ogr.CreateGeometryFromWkt(wkt)
layer.CreateFeature(feature)

 
# Clean up
feature.Destroy()
datasource.Destroy()
 
print "Feature <" + str(output) + "> successfully created."
del output

 
 		 	   		  
_________________________________________________________________
The New Busy is not the too busy. Combine all your e-mail accounts with Hotmail.
http://www.windowslive.com/campaign/thenewbusy?tile=multiaccount&ocid=PID28326::T:WLMTAGL:ON:WL:en-US:WM_HMP:042010_4
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100527/f120e8fe/attachment.html
From even.rouault at mines-paris.org  Thu May 27 17:45:45 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 27 17:45:56 2010
Subject: [gdal-dev] Creating a simple shapefile with ogr
In-Reply-To: <SNT130-w5539B58792DB463345C950BCEA0@phx.gbl>
References: <20100519131014.4B2B9E01DF6@lists.osgeo.org>
	<SNT130-w5539B58792DB463345C950BCEA0@phx.gbl>
Message-ID: <201005272345.46198.even.rouault@mines-paris.org>

You didn't bind the geometry to the feature

Add feature.SetGeometry(polygon) before layer.CreateFeature(feature)

Le Thursday 27 May 2010 23:35:49 Discourse Maps, vous avez ?crit?:
> Hi,
>
>
>
> I am trying to create a basic polygon shapefile using OGR in Python.
>
> Any help with fixing my code is appreciated.  Currently, it creates a
> shapefile, but nothing shows up in ArcGIS.
>
>
>
>
> # GDAL
> from osgeo import ogr, gdal
> from osgeo.gdalconst import *
>
>
> # sample data
> data = [[3333317.0,5684892.0],[3333417.0,5684892.0],\
>            [3333317.0,5684992.0],[3333417.0,5684992.0]]
>
>
> # Create Shapefile named "polygon.shp" for output
> driver = ogr.GetDriverByName('ESRI Shapefile')
> output = "polygon.shp"
>
> datasource = driver.CreateDataSource(output)
> layer = datasource.CreateLayer(output, geom_type=ogr.wkbPolygon)
>
>
> feature = ogr.Feature(layer.GetLayerDefn())
>
> wkt = "POLYGON(" + str(data[0][0]) + " " + str(data[0][1]) + "," +
> str(data[1][0]) + " " + str(data[1][1]) + "," + str(data[2][0]) + " " +
> str(data[2][1]) + "," + str(data[3][0]) + " " + str(data[3][1]) + ")"
>
>
> polygon = ogr.CreateGeometryFromWkt(wkt)
> layer.CreateFeature(feature)
>
>
> # Clean up
> feature.Destroy()
> datasource.Destroy()
>
> print "Feature <" + str(output) + "> successfully created."
> del output
>
>
>
> _________________________________________________________________
> The New Busy is not the too busy. Combine all your e-mail accounts with
> Hotmail.
> http://www.windowslive.com/campaign/thenewbusy?tile=multiaccount&ocid=PID28
>326::T:WLMTAGL:ON:WL:en-US:WM_HMP:042010_4


From osgeo.mailinglist at gmail.com  Thu May 27 18:18:58 2010
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Thu May 27 18:19:00 2010
Subject: [gdal-dev] What do people think of the MySQL Spatial Extensions?
In-Reply-To: <4BFE40D9.7010008@pmldnet.com>
References: <AANLkTinCv88cVhsGwv7WVhaPGWmVJuM9XQb03acdR0CG@mail.gmail.com>
	<4BFE40D9.7010008@pmldnet.com>
Message-ID: <AANLkTinwR3b8cfNEcbHPs22wbrqzlv45jrS3cp3i3fTI@mail.gmail.com>

Hello,

For the moment, only need Postgis but there some docs for comparison of
spatial functions with mysql, oracle and spatialite.

Some years ago,
http://cct.cnes.fr/cct05/public/2007/documents/Etude_comp_bases_donnees_spatialisees/rapport_etude_spatiale_final.pdf

This year,
http://www.rencontres-sig-la-lettre.fr/wp-content/uploads/2010/05/Serveur-Ribot.pdf

Be careful !! Everything is in French.

Regards

ThomasG
GIS Specialist
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100528/fb769d2b/attachment.html
From pcreso at pcreso.com  Fri May 28 01:17:39 2010
From: pcreso at pcreso.com (pcreso@pcreso.com)
Date: Fri May 28 01:24:26 2010
Subject: [gdal-dev] What do people think of the MySQL Spatial Extensions?
In-Reply-To: <4BFE40D9.7010008@pmldnet.com>
Message-ID: <320029.28875.qm@web33206.mail.mud.yahoo.com>


Russell McOrmond wrote:
> I am aware of PostGIS, Oracle Spatial and ArcSDE.  I only became aware
> that MySQL had extensions as well very recently (My
> brother started at Pythian).
> 
>  http://dev.mysql.com/doc/refman/5.5/en/mysql-gis-conformance-and-compatibility.html
> http://www.gdal.org/ogr/drv_mysql.html
> 
> Are there people in this list that use this extensively, and can give
> some comparisons to other databases/etc?
> 
> Thanks!

The databases I'm aware of with OGC SFS support include Oracle, PostGIS, SLQ SErver 2008, Informix, DB2, Ingres & SpatialLite. In the large datawarehouse environment, Teradata & Netezza also have offerings with similar functionality.

As far as MySQL goes, I'd consider their implementation fundamentally broken.

If you look here, it suggests there is full robust support.
http://dev.mysql.com/doc/refman/5.5/en/spatial-extensions.html
http://dev.mysql.com/doc/refman/5.5/en/mysql-gis-conformance-and-compatibility.html


then see this page:
http://dev.mysql.com/doc/refman/5.5/en/functions-that-test-spatial-relationships-between-geometries.html

So, for example, if you ask MySQL to return the points lying in a circle. triangle or any non-linear, non-rectangular polygon, it will happily return all the points that lie within the rectangular bounding box of this polygon, which is NOT what it was asked to do.

I don't like databases that return wrong answers, or that release something like this as production ready & leave it in this state for several years. But if you just want to store the data & never use spatial relationship queies on itm, then I guess it will work.

HTH,

  Brent Wood

From bogdan.grama at soft-union.ro  Fri May 28 03:13:31 2010
From: bogdan.grama at soft-union.ro (Bogdan Grama)
Date: Fri May 28 03:13:36 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4BFE8D7A.9040107@pobox.com>
References: <4BFE0D31.3010304@soft-union.ro> <4BFE6DC9.4050101@pobox.com>
	<4BFE7CFB.4020206@soft-union.ro> <4BFE8D7A.9040107@pobox.com>
Message-ID: <4BFF6D1B.70209@soft-union.ro>

//
<http://nestgroup.wordpress.com/2008/04/03/nepalese-cultural-programme-2008-trondheim-norway-by-nest/>Thank
You all for your great effort!!!

Bogdan


On 5/27/2010 6:19 PM, Frank Warmerdam wrote:
> Bogdan Grama wrote:
>> Dear Frank
>>
>> Please find in the archive (http://www.wgs.ro/gdal/0_w.zip):
>>
>> -the ENC
>> -GDAL Interpretation
>> -correct  Interpretation
>>
>> The assembled geometry is not according with specifications. Each
>> referenced edge starts and ends with a ConnectedNode. Not all the
>> Connected nodes are present in the feature geometry dump.
>>
>> This is not all. If the file is rendered with Sevencs
>> (http://www.sevencs.com/service-products/download) and few others
>> viewers the rendering is correct.
>> For GDAL, ESRI FME, Caris the geometry is not correct.
>>
>
> Folks,
>
> I have determined this is the same as the previously reported:
>
>   http://trac.osgeo.org/gdal/ticket/2147
>
> for which I neglected to apply the patch.  I have revised the patch
> and applied it in trunk and 1.7 branch.
>
> Best regards,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100528/a9fcf379/attachment.html
From schroeter at netgis.de  Fri May 28 05:05:13 2010
From: schroeter at netgis.de (Sven Schroeter)
Date: Fri May 28 05:05:24 2010
Subject: [gdal-dev] gdalwarp -dstnodata 
Message-ID: <68372501509947DABEB1C8857717FFCE@SVEN>

Hi,
I use the gdalwarp utility to transform geotifs:

gdalwarp -co compress=lzw -s_srs "+proj=tmerc +lat_0=0 +lon_0=6 +k=1.000000 
+x_0=2500000+y_0=0 +ellps=bessel +units=m 
+towgs84=590.1181,99.6226,340.1890,1.185095,-1.334952,-2.904521,16.51559" -t_srs 
"+proj=utm +ellps=GRS80 +datum=WGS84 +zone=32" -dstnodata 255 
bbp07231053_2559-wla_0053-1a.tif out/bbp07231053_2559-wla_0053-1a.tif

I want to convert the new "nodata-areas" to be displayed in white (255 255 
255)
if I try -dstnodata 255  or -dstnodata "255 255 255" in every picture the no 
data areas have other colors but not white. What can I do?

Thanks
Sven 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100528/44360cf2/attachment-0001.html
From bea at ixsea.com  Fri May 28 09:04:00 2010
From: bea at ixsea.com (=?ISO-8859-1?Q?Beno=EEt_Andrieu?=)
Date: Fri May 28 09:06:22 2010
Subject: [gdal-dev] gdalwarp -dstnodata
In-Reply-To: <68372501509947DABEB1C8857717FFCE@SVEN>
References: <68372501509947DABEB1C8857717FFCE@SVEN>
Message-ID: <4BFFBF40.3040007@ixsea.com>

Hi Sven,

It's not the role of gdalwarp to tell the color to be rendered with no 
data values.
In your example, gdalwarp tells the renderer to display the pixels with 
values equal to 255 with a color specified by the renderer.
It only adds in the tif files a tag that set the white color as transparent.

For example, with Mapserver as a renderer, you will set in the mapfile 
the background color as white (IMAGECOLOR 255 255 255).

What software are you using to view your files ?
What is the color in the source file that you want as transparent / white ?

Regards,

Beno?t


Le 28/05/2010 11:05, Sven Schroeter a ?crit :
> Hi,
> I use the gdalwarp utility to transform geotifs:
>
> gdalwarp -co compress=lzw -s_srs "+proj=tmerc +lat_0=0 +lon_0=6 
> +k=1.000000
> +x_0=2500000+y_0=0 +ellps=bessel +units=m
> +towgs84=590.1181,99.6226,340.1890,1.185095,-1.334952,-2.904521,16.51559" 
> -t_srs
> "+proj=utm +ellps=GRS80 +datum=WGS84 +zone=32" -dstnodata 255
> bbp07231053_2559-wla_0053-1a.tif out/bbp07231053_2559-wla_0053-1a.tif
>
> I want to convert the new "nodata-areas" to be displayed in white (255 
> 255
> 255)
> if I try -dstnodata 255  or -dstnodata "255 255 255" in every picture 
> the no
> data areas have other colors but not white. What can I do?
>
> Thanks
> Sven
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100528/f2a28a56/attachment.html
From ryantxu at gmail.com  Fri May 28 09:55:26 2010
From: ryantxu at gmail.com (Ryan McKinley)
Date: Fri May 28 09:55:30 2010
Subject: [gdal-dev] Draw KML/SHP with OGR?
Message-ID: <AANLkTil1667u1One6a45F5QLysZ2JII9KPWvdiUjQOVq@mail.gmail.com>

Is it possible to render KML or SHP to an image using OGR/GDAL?
Obviously lots of the KML info would be lost, but I'm just thinking
something simple.

If not, any pointers?  (For SHP, we could use geotools)

Thanks
Ryan
From jrepetto at free.fr  Fri May 28 10:19:26 2010
From: jrepetto at free.fr (Jean-Claude REPETTO)
Date: Fri May 28 10:19:34 2010
Subject: [gdal-dev] Draw KML/SHP with OGR?
In-Reply-To: <AANLkTil1667u1One6a45F5QLysZ2JII9KPWvdiUjQOVq@mail.gmail.com>
References: <AANLkTil1667u1One6a45F5QLysZ2JII9KPWvdiUjQOVq@mail.gmail.com>
Message-ID: <4BFFD0EE.1030505@free.fr>

On 05/28/10 15:55, Ryan McKinley wrote:
> Is it possible to render KML or SHP to an image using OGR/GDAL?
> Obviously lots of the KML info would be lost, but I'm just thinking
> something simple.

Try gdal_rasterize :
http://www.gdal.org/gdal_rasterize.html
From Chris.Barker at noaa.gov  Fri May 28 13:44:53 2010
From: Chris.Barker at noaa.gov (Christopher Barker)
Date: Fri May 28 13:44:56 2010
Subject: [gdal-dev] ESRI text format?
In-Reply-To: <201005271028.44786.Ralf.Suhr@itc-halle.de>
References: <4BFDD654.6080109@noaa.gov>
	<201005271028.44786.Ralf.Suhr@itc-halle.de>
Message-ID: <4C000115.3000904@noaa.gov>

Ralf Suhr wrote:
> the text is a edit-session from ArcGIS. ogr2ogr can't read this.

In this case, I need to write it, but thanks -- I'm sure the same applies.

Mateusz Loskot wrote:
> Surely it can...with help of simple script in Perl or Python it
> could be a few minutes of work.

Sure, and that's what I've done, but then OGR is not writing it, I am 
writing it with Python -- which I agree is not that big a deal but still 
harder than one command line with ogr2ogr.

It doesn't really sound like this is a "format" that it would make sense 
to support -- which is probably why OGR doesn't support it.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
From mrxonx at hotmail.com  Sat May 29 23:00:07 2010
From: mrxonx at hotmail.com (ogr user)
Date: Sat May 29 23:06:51 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4BFE8D7A.9040107@pobox.com>
References: <4BFE0D31.3010304@soft-union.ro>
	<4BFE6DC9.4050101@pobox.com>	<4BFE7CFB.4020206@soft-union.ro>
	<4BFE8D7A.9040107@pobox.com>
Message-ID: <4C01D4B7.2090601@hotmail.com>

Correct me if I am wrong (I might be) but my reading of S-57 standard
(section 4.7 and thereabouts) is such that it does not provide for
multi-line geometries. Instead, it is suggested that if certain edges of
a line have to be "invisible" they should be masked by using appropriate
attribute. I have to admit that I haven't seen that used in major data
sets (NOAA, UK, various european) either. In any case - while it is
certainly possible to store multiple "not really connected" edges for a
given feature, this does not seem to be something that S-57 standard
permits or provides for.

By the same token, standard is being quite specific about not permitting
multiple polygons in the single area feature (though they do provide for
"holes" in a given polygon).

 FWIW I would consider an S-57 ENC using such line structure to be not
well formed. Just my 5 cents.
--Mike

Frank Warmerdam wrote:
> Bogdan Grama wrote:
>> Dear Frank
>>
>> Please find in the archive (http://www.wgs.ro/gdal/0_w.zip):
>>
>> -the ENC
>> -GDAL Interpretation
>> -correct  Interpretation
>>
>> The assembled geometry is not according with specifications. Each
>> referenced edge starts and ends with a ConnectedNode. Not all the
>> Connected nodes are present in the feature geometry dump.
>>
>> This is not all. If the file is rendered with Sevencs
>> (http://www.sevencs.com/service-products/download) and few others
>> viewers the rendering is correct.
>> For GDAL, ESRI FME, Caris the geometry is not correct.
>>
>
> Folks,
>
> I have determined this is the same as the previously reported:
>
>   http://trac.osgeo.org/gdal/ticket/2147
>
> for which I neglected to apply the patch.  I have revised the patch
> and applied it in trunk and 1.7 branch.
>
> Best regards,

From Luke.Pinner at environment.gov.au  Sun May 30 20:10:50 2010
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Sun May 30 20:18:37 2010
Subject: [gdal-dev] ESRI text format?
In-Reply-To: <4C000115.3000904@noaa.gov>
References: <4BFDD654.6080109@noaa.gov><201005271028.44786.Ralf.Suhr@itc-halle.de>
	<4C000115.3000904@noaa.gov>
Message-ID: <64102B2FB850C345B04D09C82018F45F0273ECB1@ACT01VEXCCL04.internal.govt>

It's the output from the ArcGIS "Write Features to Text File (Samples)"
tool.  The "format" is documented here:
http://help.arcgis.com/EN/ArcGISDesktop/10.0/help/index.html#//00pv00000
00z000000.htm

Even ESRI use Python to read/write it :)

Apparently it's deprecated though...

Luke

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Christopher
Barker
Sent: Saturday, 29 May 2010 3:45 AM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] ESRI text format?

Ralf Suhr wrote:
> the text is a edit-session from ArcGIS. ogr2ogr can't read this.

In this case, I need to write it, but thanks -- I'm sure the same
applies.

Mateusz Loskot wrote:
> Surely it can...with help of simple script in Perl or Python it
> could be a few minutes of work.

Sure, and that's what I've done, but then OGR is not writing it, I am 
writing it with Python -- which I agree is not that big a deal but still

harder than one command line with ogr2ogr.

It doesn't really sound like this is a "format" that it would make sense

to support -- which is probably why OGR doesn't support it.

-Chris




-- 
Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker@noaa.gov
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev


------
If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments. 



Please consider the environment before printing this email.

------

From bogdan.grama at soft-union.ro  Mon May 31 02:25:43 2010
From: bogdan.grama at soft-union.ro (Bogdan Grama)
Date: Mon May 31 02:27:02 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4C01D4B7.2090601@hotmail.com>
References: <4BFE0D31.3010304@soft-union.ro>	<4BFE6DC9.4050101@pobox.com>	<4BFE7CFB.4020206@soft-union.ro>	<4BFE8D7A.9040107@pobox.com>
	<4C01D4B7.2090601@hotmail.com>
Message-ID: <4C035667.7030901@soft-union.ro>

Dear Mike,

I could not agree more. But, if u parse the sample ENC, you will see
that for the ROADWY layer:

    ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
    ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
    ---->ORNT = (10:1,1,1,1,1,1,1,1,1,1)
    ---->USAG = (10:255,255,255,255,255,255,255,255,255,255)
    ---->MASK = (10:2,2,2,2,2,2,2,2,2,2)

So, no masking :). Now the Question is this: How Sevencs succeeds
showing the correct representation, where all others fail?


Bogdan GRAMA


On 5/30/2010 6:00 AM, ogr user wrote:
> Correct me if I am wrong (I might be) but my reading of S-57 standard
> (section 4.7 and thereabouts) is such that it does not provide for
> multi-line geometries. Instead, it is suggested that if certain edges of
> a line have to be "invisible" they should be masked by using appropriate
> attribute. I have to admit that I haven't seen that used in major data
> sets (NOAA, UK, various european) either. In any case - while it is
> certainly possible to store multiple "not really connected" edges for a
> given feature, this does not seem to be something that S-57 standard
> permits or provides for.
>
> By the same token, standard is being quite specific about not permitting
> multiple polygons in the single area feature (though they do provide for
> "holes" in a given polygon).
>
>  FWIW I would consider an S-57 ENC using such line structure to be not
> well formed. Just my 5 cents.
> --Mike
>
> Frank Warmerdam wrote:
>   
>> Bogdan Grama wrote:
>>     
>>> Dear Frank
>>>
>>> Please find in the archive (http://www.wgs.ro/gdal/0_w.zip):
>>>
>>> -the ENC
>>> -GDAL Interpretation
>>> -correct  Interpretation
>>>
>>> The assembled geometry is not according with specifications. Each
>>> referenced edge starts and ends with a ConnectedNode. Not all the
>>> Connected nodes are present in the feature geometry dump.
>>>
>>> This is not all. If the file is rendered with Sevencs
>>> (http://www.sevencs.com/service-products/download) and few others
>>> viewers the rendering is correct.
>>> For GDAL, ESRI FME, Caris the geometry is not correct.
>>>
>>>       
>> Folks,
>>
>> I have determined this is the same as the previously reported:
>>
>>   http://trac.osgeo.org/gdal/ticket/2147
>>
>> for which I neglected to apply the patch.  I have revised the patch
>> and applied it in trunk and 1.7 branch.
>>
>> Best regards,
>>     
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>   
From mail2vajram at gmail.com  Mon May 31 04:40:24 2010
From: mail2vajram at gmail.com (mail2vajram)
Date: Mon May 31 08:32:20 2010
Subject: [gdal-dev] how to new image file or how to send data into the
	dataset
Message-ID: <1275295224045-5120971.post@n2.nabble.com>


i need to create a image file. Here i have brightness values of each pixel in
a table. by using these values, how can i create an image file.
-- 
View this message in context: http://osgeo-org.1803224.n2.nabble.com/how-to-new-image-file-or-how-to-send-data-into-the-dataset-tp5120971p5120971.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jorge.arevalo at deimos-space.com  Mon May 31 09:28:38 2010
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Mon May 31 09:29:02 2010
Subject: [gdal-dev] Compiling PostGIS + GDAL + WKT Raster in Windows with
	MinGW
Message-ID: <AANLkTil3OOX21aRkFzmLCuEmdF5EGsyO0HaeqDpx2aBf@mail.gmail.com>

Hello,

I'm trying to compile WKT Raster [1] in Windows using MinGW 5.1.6. I
compiled PostgreSQL 8.4.3, PostGIS 1.4.2 and GDAL 1.7.2 properly
following these instructions:

http://trac.osgeo.org/gdal/wiki/BuildingWithMinGW (for GDAL)
http://trac.osgeo.org/postgis/wiki/UsersWikiWinCompile (for PostgreSQL
+ PostGIS)

Now I'm trying to compile WKT Raster, but I get thousands of messages
"undefined reference to..." in libgdal.a (one of the files WKT Raster
is trying to link to). Seems to be a problem of "naming convention",
or similar. For example, one of the error messages is:

undefined reference to `GEOSOverlaps'

If I execute nm libgdal.a | grep "GEOSOverlaps", I get this:

U _GEOSOverlaps

With an underscore before function's name. I think that's the problem,
because if I execute the same command in a Linux machine, where I
succeeded to compile WKT Raster, I get:

U GEOSOverlaps

Without underscore. The name expected.

Am I right? Any clues on how to solve this problem with MinGW? I
attach a build log file [2]

Many thanks in advance.

Best regards,

--
Jorge Ar?valo
DEIMOS Space
Internet & Mobilty Division
Ronda de Poniente 19. Edificio Fiteni VI, portal 2, 2?
28760 Tres Cantos (Madrid)
Tel: +34 91 806 34 50 - ext: 155
jorge.arevalo@deimos-space.com

[1] http://trac.osgeo.org/postgis/wiki/WKTRaster
[2] http://dl.dropbox.com/u/6599273/build.log
From oliver.eichler at gmx.de  Mon May 31 12:41:11 2010
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon May 31 12:40:16 2010
Subject: [gdal-dev] Howto change geo transform parameters in dataset.
Message-ID: <4C03E6A7.2000607@gmx.de>

Hi,

I would like to change the offset of a referenced file. I use
GDALDataset::GetGeoTransform(adfGeoTransform) to read the current
settings. I change adfGeoTransform[0] and adfGeoTransform[3] and use
GDALDataset::SetGeoTransform(adfGeoTransform) to replace the old settings.

Of course that does not work. GDAL tells me that this works only on
newly created datasets. Well ok. 2nd try:

I use GDALDriver::CreateCopy() to create new dataset and to copy all
data. But even with the new copy
GDALDataset::SetGeoTransform(adfGeoTransform) fails for the  same reason.

Can anyone tell me how this is intended to work?

Thanks

Oliver
From peifer at gmx.eu  Mon May 31 13:01:10 2010
From: peifer at gmx.eu (Hermann Peifer)
Date: Mon May 31 13:01:22 2010
Subject: [gdal-dev] Re: how to new image file or how to send data into the
	dataset
In-Reply-To: <1275295224045-5120971.post@n2.nabble.com>
References: <1275295224045-5120971.post@n2.nabble.com>
Message-ID: <4C03EB56.30605@gmx.eu>

On 31/05/2010 10:40, mail2vajram wrote:
>
> i need to create a image file. Here i have brightness values of each pixel in
> a table. by using these values, how can i create an image file.

You could add a few header lines to your table, so that it looks like 
ASCII grid format, see http://en.wikipedia.org/wiki/ESRI_grid

After that, you could use gdal_translate to convert the values into an 
image format, see http://gdal.org/gdal_translate.html

Hermann
From warmerdam at pobox.com  Mon May 31 13:13:00 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 31 13:13:06 2010
Subject: [gdal-dev] Howto change geo transform parameters in dataset.
In-Reply-To: <4C03E6A7.2000607@gmx.de>
References: <4C03E6A7.2000607@gmx.de>
Message-ID: <4C03EE1C.4050009@pobox.com>

Oliver Eichler wrote:
> Hi,
> 
> I would like to change the offset of a referenced file. I use
> GDALDataset::GetGeoTransform(adfGeoTransform) to read the current
> settings. I change adfGeoTransform[0] and adfGeoTransform[3] and use
> GDALDataset::SetGeoTransform(adfGeoTransform) to replace the old settings.
> 
> Of course that does not work. GDAL tells me that this works only on
> newly created datasets. Well ok. 2nd try:

Oliver,

What file format are you working with?  Your approach is appropriate,
but not all drivers support changing metadata like the geotransform after
the file has been created on disk.

> I use GDALDriver::CreateCopy() to create new dataset and to copy all
> data. But even with the new copy
> GDALDataset::SetGeoTransform(adfGeoTransform) fails for the  same reason.

File formats that only support CreateCopy(), and not Create(), will
generally require you to set the appropriate geotransform in the source
dataset before calling CreateCopy().  It is possible to create a
virtual dataset wrapped around your real source, and set the updated
geotransform on that.  This is how gdal_translate handles stuff like
changing the coordinate system, and geotransform.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From oliver.eichler at gmx.de  Mon May 31 13:35:21 2010
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon May 31 13:39:25 2010
Subject: [gdal-dev] Howto change geo transform parameters in dataset.
In-Reply-To: <4C03EE1C.4050009@pobox.com>
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
Message-ID: <4C03F359.6000601@gmx.de>

Am 31.05.2010 19:13, schrieb Frank Warmerdam:
> Oliver Eichler wrote:
>> Hi,
>>
>> I would like to change the offset of a referenced file. I use
>> GDALDataset::GetGeoTransform(adfGeoTransform) to read the current
>> settings. I change adfGeoTransform[0] and adfGeoTransform[3] and use
>> GDALDataset::SetGeoTransform(adfGeoTransform) to replace the old
>> settings.
>>
>> Of course that does not work. GDAL tells me that this works only on
>> newly created datasets. Well ok. 2nd try:
> 
> Oliver,
> 
> What file format are you working with?  Your approach is appropriate,
> but not all drivers support changing metadata like the geotransform after
> the file has been created on disk.

Hi Frank,

it's a GeoTiff. Is it possible with that format or should I have better
have a look into the gdal_translate code?


Oliver


> 
>> I use GDALDriver::CreateCopy() to create new dataset and to copy all
>> data. But even with the new copy
>> GDALDataset::SetGeoTransform(adfGeoTransform) fails for the  same reason.
> 
> File formats that only support CreateCopy(), and not Create(), will
> generally require you to set the appropriate geotransform in the source
> dataset before calling CreateCopy().  It is possible to create a
> virtual dataset wrapped around your real source, and set the updated
> geotransform on that.  This is how gdal_translate handles stuff like
> changing the coordinate system, and geotransform.
> 
> Best regards,

From gregcoats at mac.com  Mon May 31 13:47:17 2010
From: gregcoats at mac.com (Greg Coats)
Date: Mon May 31 13:47:21 2010
Subject: [gdal-dev] Which ONE image in a .vrt is currently being displayed?
In-Reply-To: <4C03EE1C.4050009@pobox.com>
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
Message-ID: <AB3F6FBE-8CD8-48AA-B223-3813A983F9CC@mac.com>

With GDAL 1.7.2, released 2010/04/23, I used gdalbuildvrt to build a .vrt file that points to 726 GeoJPEG2000 images. Then, I use QGIS 1.5.0, release 13519M to pan and zoom through these images. When zoomed in, how do I get Qgis to identify which ONE of the raster images in the .vrt file is currently being displayed? Greg
From even.rouault at mines-paris.org  Mon May 31 14:25:57 2010
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 31 14:26:09 2010
Subject: [gdal-dev] Which ONE image in a .vrt is currently being displayed?
In-Reply-To: <AB3F6FBE-8CD8-48AA-B223-3813A983F9CC@mac.com>
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
	<AB3F6FBE-8CD8-48AA-B223-3813A983F9CC@mac.com>
Message-ID: <201005312025.59138.even.rouault@mines-paris.org>

You can't. Because of the meaning of the 'A' in GDAL, a VRT is seen as a 
single raster for any user of GDAL API. A dedicated function should be 
created in QGIS to parse the VRT XML and make sense of it for what you wish.

Le Monday 31 May 2010 19:47:17 Greg Coats, vous avez ?crit?:
> With GDAL 1.7.2, released 2010/04/23, I used gdalbuildvrt to build a .vrt
> file that points to 726 GeoJPEG2000 images. Then, I use QGIS 1.5.0, release
> 13519M to pan and zoom through these images. When zoomed in, how do I get
> Qgis to identify which ONE of the raster images in the .vrt file is
> currently being displayed? Greg
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Mon May 31 14:27:10 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 31 14:27:17 2010
Subject: [gdal-dev] Which ONE image in a .vrt is currently being displayed?
In-Reply-To: <AB3F6FBE-8CD8-48AA-B223-3813A983F9CC@mac.com>
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
	<AB3F6FBE-8CD8-48AA-B223-3813A983F9CC@mac.com>
Message-ID: <4C03FF7E.1020703@pobox.com>

Greg Coats wrote:
> With GDAL 1.7.2, released 2010/04/23, I used gdalbuildvrt to build a .vrt
> file that points to 726 GeoJPEG2000 images. Then, I use QGIS 1.5.0, release
> 13519M to pan and zoom through these images. When zoomed in, how do I get
> Qgis to identify which ONE of the raster images in the .vrt file is
> currently being displayed? Greg

Greg,

I am not aware of any functionality to expose the underlying file for a pixel
in a VRT image.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From warmerdam at pobox.com  Mon May 31 14:30:32 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 31 14:30:37 2010
Subject: [gdal-dev] Howto change geo transform parameters in dataset.
In-Reply-To: <4C03F359.6000601@gmx.de>
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
	<4C03F359.6000601@gmx.de>
Message-ID: <4C040048.80500@pobox.com>

Oliver Eichler wrote:
> Am 31.05.2010 19:13, schrieb Frank Warmerdam:
>> Oliver Eichler wrote:
>>> Hi,
>>>
>>> I would like to change the offset of a referenced file. I use
>>> GDALDataset::GetGeoTransform(adfGeoTransform) to read the current
>>> settings. I change adfGeoTransform[0] and adfGeoTransform[3] and use
>>> GDALDataset::SetGeoTransform(adfGeoTransform) to replace the old
>>> settings.
>>>
>>> Of course that does not work. GDAL tells me that this works only on
>>> newly created datasets. Well ok. 2nd try:
>> Oliver,
>>
>> What file format are you working with?  Your approach is appropriate,
>> but not all drivers support changing metadata like the geotransform after
>> the file has been created on disk.
> 
> Hi Frank,
> 
> it's a GeoTiff. Is it possible with that format or should I have better
> have a look into the gdal_translate code?

Oliver,

Updating the geotransform should work in-place for GeoTIFF format.  This
may be a relatively new feature.  I will note that the file needs to be
open in update mode. So if opening an existing file use GA_Update as
the access mode.

Hmm, skimming the code back as far as 1.6 branch, the update of
geotransforms in geotiff seems to be supported.  I will mention that
the "is only supported on newly created GeoTIFF files" message is
still generated for read-only files.  I will correct this to a more
accurate message in trunk.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From oliver.eichler at gmx.de  Mon May 31 15:18:37 2010
From: oliver.eichler at gmx.de (Oliver Eichler)
Date: Mon May 31 15:17:39 2010
Subject: [gdal-dev] Howto change geo transform parameters in dataset.
In-Reply-To: <4C040048.80500@pobox.com>
References: <4C03E6A7.2000607@gmx.de> <4C03EE1C.4050009@pobox.com>
	<4C03F359.6000601@gmx.de> <4C040048.80500@pobox.com>
Message-ID: <4C040B8D.50200@gmx.de>

> 
> Updating the geotransform should work in-place for GeoTIFF format.  This
> may be a relatively new feature.  I will note that the file needs to be
> open in update mode. So if opening an existing file use GA_Update as
> the access mode.
> 

Arrgh, GA_Update! Stupid me. I was so focused on how to change the
offset that I forgot to check the obvious in GDALOpen first. Now it
works like a charm.  Sorry for the fuzz.

Oliver
From mrxonx at hotmail.com  Mon May 31 21:37:43 2010
From: mrxonx at hotmail.com (ogr user)
Date: Mon May 31 21:37:45 2010
Subject: [gdal-dev] S-57 Driver WRONG Geometry
In-Reply-To: <4C035667.7030901@soft-union.ro>
References: <4BFE0D31.3010304@soft-union.ro>	<4BFE6DC9.4050101@pobox.com>	<4BFE7CFB.4020206@soft-union.ro>	<4BFE8D7A.9040107@pobox.com>	<4C01D4B7.2090601@hotmail.com>
	<4C035667.7030901@soft-union.ro>
Message-ID: <4C046467.70100@hotmail.com>

Sevencs succeed in many other aspects where others fail.

For example, they will actually parse and show older Netherlands chart
data (I still have a few cells from a year ago), which encoded polygon
edges using multiple SG2D fields, rather than a single SG2D field with
multiple values. Not only that, but even once I modified s57 reader to
support that, those polygons could not be reassembled using the "vertex
proximity" approach as used by GDAL. Yet Sevencs could read those files
and show them reasonably well. Still have no idea how they did that - I
could not come up with a reasonable method, and I tried a few.

You can do a lot by building specific heuristics into a product that
adjust the way it handles data based on certain guesses. Whether that is
a good practice I don't know - I certainly don't think so. Ultimately,
it appears that Netherlands decided to reencode their data - and the
current data set is properly readable by GDAL.

That may be a moot point if you have a user that absolutely *must use
that chart* no matter how badly encoded it is, so Sevencs have a good
practical approach there, I guess. But generating data as closely
following the standard as possible is better, if you ask me.

--Mike

Bogdan Grama wrote:
> Dear Mike,
>
> I could not agree more. But, if u parse the sample ENC, you will see
> that for the ROADWY layer:
>
>     ---->NAME_RCNM = (10:130,130,130,130,130,130,130,130,130,130)
>     ---->NAME_RCID = (10:114,103,89,97,99,112,111,108,110,124)
>     ---->ORNT = (10:1,1,1,1,1,1,1,1,1,1)
>     ---->USAG = (10:255,255,255,255,255,255,255,255,255,255)
>     ---->MASK = (10:2,2,2,2,2,2,2,2,2,2)
>
> So, no masking :). Now the Question is this: How Sevencs succeeds
> showing the correct representation, where all others fail?
>
>
>   

From mrxonx at hotmail.com  Mon May 31 21:41:57 2010
From: mrxonx at hotmail.com (ogr user)
Date: Mon May 31 21:41:54 2010
Subject: [gdal-dev] S57 questions
In-Reply-To: <4B285358.9010806@pobox.com>
References: <4B28374C.30801@hotmail.com> <4B285358.9010806@pobox.com>
Message-ID: <4C046565.8050804@hotmail.com>

Dear all and Frank,

 I sent this patch out a few times before - never got any replies. It's
ok if you are not interested, though I have to say that it works very
well for me and improved handling of data. However, would someone kindly
confirm that you have looked at this patch, acknowledged it and do not
wish to apply it. I'll then go back to maintaining my private copy :)

This following is a fix to a problem I encountered back in the day, to
properly identify exterior vs. interior rings of polygons. This solves
incorrect reading of a number of S57 charts (as an example see US5CA92M,
feature RCID 1167).

Thanks,
--M

===================================================================
--- ogr/ograssemblepolygon.cpp    (revision 17)
+++ ogr/ograssemblepolygon.cpp    (working copy)
@@ -276,6 +276,40 @@
 // perhaps even ordering the direction of rings, though this isn't
 // required by the OGC geometry model.

+    double maxarea, tarea;
+    int maxring = -1, rn, rcount;
+    OGREnvelope tenv;
+    OGRLinearRing *tring;
+
+    tring = poPolygon->getExteriorRing();
+    if (tring) tring->getEnvelope(&tenv);
+    maxarea = (tenv.MaxX - tenv.MinX) * (tenv.MaxY - tenv.MinY);
+
+    rcount = poPolygon->getNumInteriorRings();
+    for (rn = 0; rn < rcount; ++rn) {
+      tring = poPolygon->getInteriorRing(rn);
+      tring->getEnvelope(&tenv);
+      tarea = (tenv.MaxX - tenv.MinX) * (tenv.MaxY - tenv.MinY);
+      if (tarea > maxarea) {
+         maxarea = tarea;
+         maxring = rn;
+      }
+    }
+
+    if (maxring != -1) {
+       OGRPolygon  *poNewPoly = new OGRPolygon();
+
+       poNewPoly->addRing(poPolygon->getInteriorRing(maxring));
+       poNewPoly->addRing(poPolygon->getExteriorRing());
+       for (rn = 0; rn < rcount; ++rn) {
+          if (rn == maxring) continue;
+          poNewPoly->addRing(poPolygon->getInteriorRing(rn));
+       }
+
+       delete poPolygon;
+       poPolygon = poNewPoly;
+    }
+
     if( peErr != NULL )
     {
         if( bSuccess )

Frank Warmerdam wrote:
>
> Mike,
>
> The S-57 driver uses OGRBuildPolygonFromEdges() to form the set of lines
> into a polygon.  No effort is currently made to properly represent
> exterior vs. interior rings as is required by the simple features
> geometry
> specification.
>
> So, I believe this is a bug of the S-57 driver and
> OGRBuildPolygonFromEdges()
> function.  In OGRBuildPolygonFromEdges() I see this comment:
>
> // Eventually we should at least identify the external ring properly,
> // perhaps even ordering the direction of rings, though this isn't
> // required by the OGC geometry model.
>
> You might want to file a ticket on this issue, though I can't say when
> the
> issue will be fixed.
>
> Best regards,

_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon May 31 22:54:40 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 31 22:54:45 2010
Subject: [gdal-dev] S57 questions
In-Reply-To: <4C046565.8050804@hotmail.com>
References: <4B28374C.30801@hotmail.com> <4B285358.9010806@pobox.com>
	<4C046565.8050804@hotmail.com>
Message-ID: <4C047670.8060001@pobox.com>

ogr user wrote:
> Dear all and Frank,
> 
>  I sent this patch out a few times before - never got any replies. It's
> ok if you are not interested, though I have to say that it works very
> well for me and improved handling of data. However, would someone kindly
> confirm that you have looked at this patch, acknowledged it and do not
> wish to apply it. I'll then go back to maintaining my private copy :)
> 
> This following is a fix to a problem I encountered back in the day, to
> properly identify exterior vs. interior rings of polygons. This solves
> incorrect reading of a number of S57 charts (as an example see US5CA92M,
> feature RCID 1167).

Mike,

There is no expectation for OGR drivers to return polygons with any
particular winding direction, so I'm not sure what the point of
the patch is.  Perhaps I'm missing something?

Generally speaking it is better to file suggested patches in Trac
so they aren't lost in the gdal-dev email stream.

Best regards,

> ===================================================================
> --- ogr/ograssemblepolygon.cpp    (revision 17)
> +++ ogr/ograssemblepolygon.cpp    (working copy)
> @@ -276,6 +276,40 @@
>  // perhaps even ordering the direction of rings, though this isn't
>  // required by the OGC geometry model.
> 
> +    double maxarea, tarea;
> +    int maxring = -1, rn, rcount;
> +    OGREnvelope tenv;
> +    OGRLinearRing *tring;
> +
> +    tring = poPolygon->getExteriorRing();
> +    if (tring) tring->getEnvelope(&tenv);
> +    maxarea = (tenv.MaxX - tenv.MinX) * (tenv.MaxY - tenv.MinY);
> +
> +    rcount = poPolygon->getNumInteriorRings();
> +    for (rn = 0; rn < rcount; ++rn) {
> +      tring = poPolygon->getInteriorRing(rn);
> +      tring->getEnvelope(&tenv);
> +      tarea = (tenv.MaxX - tenv.MinX) * (tenv.MaxY - tenv.MinY);
> +      if (tarea > maxarea) {
> +         maxarea = tarea;
> +         maxring = rn;
> +      }
> +    }
> +
> +    if (maxring != -1) {
> +       OGRPolygon  *poNewPoly = new OGRPolygon();
> +
> +       poNewPoly->addRing(poPolygon->getInteriorRing(maxring));
> +       poNewPoly->addRing(poPolygon->getExteriorRing());
> +       for (rn = 0; rn < rcount; ++rn) {
> +          if (rn == maxring) continue;
> +          poNewPoly->addRing(poPolygon->getInteriorRing(rn));
> +       }
> +
> +       delete poPolygon;
> +       poPolygon = poNewPoly;
> +    }
> +
>      if( peErr != NULL )
>      {
>          if( bSuccess )
> 
> Frank Warmerdam wrote:
>> Mike,
>>
>> The S-57 driver uses OGRBuildPolygonFromEdges() to form the set of lines
>> into a polygon.  No effort is currently made to properly represent
>> exterior vs. interior rings as is required by the simple features
>> geometry
>> specification.
>>
>> So, I believe this is a bug of the S-57 driver and
>> OGRBuildPolygonFromEdges()
>> function.  In OGRBuildPolygonFromEdges() I see this comment:
>>
>> // Eventually we should at least identify the external ring properly,
>> // perhaps even ordering the direction of rings, though this isn't
>> // required by the OGC geometry model.
>>
>> You might want to file a ticket on this issue, though I can't say when
>> the
>> issue will be fixed.
>>
>> Best regards,
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From mrxonx at hotmail.com  Mon May 31 23:02:04 2010
From: mrxonx at hotmail.com (ogr user)
Date: Mon May 31 23:02:02 2010
Subject: [gdal-dev] S57 questions
In-Reply-To: <4C047670.8060001@pobox.com>
References: <4B28374C.30801@hotmail.com>
	<4B285358.9010806@pobox.com>	<4C046565.8050804@hotmail.com>
	<4C047670.8060001@pobox.com>
Message-ID: <4C04782C.90007@hotmail.com>

This patch does not do anything regarding direction of winding.

What it does is - discover the exterior ring for a polygon, and make it
the first ring in the polygon object. This was in response to your
earlier comment that said "The S-57 driver uses
OGRBuildPolygonFromEdges() to form the set of lines into a polygon.  No
effort is currently made to properly represent exterior vs. interior
rings as is required by the simple features geometry specification."

This is that effort. FWIW, with this patch, polygons read from ENC data
that were assembled "out of order" (i.e. exterior ring was assembled
later than a first one) would be rearranged (in that exterior ring is
found and made the "exterior" ring) so that they could be drawn/handled
correctly using OGR geometry.

--Mike

Frank Warmerdam wrote:
> ogr user wrote:
>
> Mike,
>
> There is no expectation for OGR drivers to return polygons with any
> particular winding direction, so I'm not sure what the point of
> the patch is.  Perhaps I'm missing something?
>
> Generally speaking it is better to file suggested patches in Trac
> so they aren't lost in the gdal-dev email stream.
>
> Best regards,
>
>> ===================================================================
>> --- ogr/ograssemblepolygon.cpp    (revision 17)
>> +++ ogr/ograssemblepolygon.cpp    (working copy)
>> @@ -276,6 +276,40 @@
>>  // perhaps even ordering the direction of rings, though this isn't
>>  // required by the OGC geometry model.
>>
>> +    double maxarea, tarea;
>> +    int maxring = -1, rn, rcount;
>> +    OGREnvelope tenv;
>> +    OGRLinearRing *tring;
>> +
>> +    tring = poPolygon->getExteriorRing();
>> +    if (tring) tring->getEnvelope(&tenv);
>> +    maxarea = (tenv.MaxX - tenv.MinX) * (tenv.MaxY - tenv.MinY);
>> +
>> +    rcount = poPolygon->getNumInteriorRings();
>> +    for (rn = 0; rn < rcount; ++rn) {
>> +      tring = poPolygon->getInteriorRing(rn);
>> +      tring->getEnvelope(&tenv);
>> +      tarea = (tenv.MaxX - tenv.MinX) * (tenv.MaxY - tenv.MinY);
>> +      if (tarea > maxarea) {
>> +         maxarea = tarea;
>> +         maxring = rn;
>> +      }
>> +    }
>> +
>> +    if (maxring != -1) {
>> +       OGRPolygon  *poNewPoly = new OGRPolygon();
>> +
>> +       poNewPoly->addRing(poPolygon->getInteriorRing(maxring));
>> +       poNewPoly->addRing(poPolygon->getExteriorRing());
>> +       for (rn = 0; rn < rcount; ++rn) {
>> +          if (rn == maxring) continue;
>> +          poNewPoly->addRing(poPolygon->getInteriorRing(rn));
>> +       }
>> +
>> +       delete poPolygon;
>> +       poPolygon = poNewPoly;
>> +    }
>> +
>>      if( peErr != NULL )
>>      {
>>          if( bSuccess )
>>
>> Frank Warmerdam wrote:
>>> Mike,
>>>
>>> The S-57 driver uses OGRBuildPolygonFromEdges() to form the set of
>>> lines
>>> into a polygon.  No effort is currently made to properly represent
>>> exterior vs. interior rings as is required by the simple features
>>> geometry
>>> specification.
>>>
>>> So, I believe this is a bug of the S-57 driver and
>>> OGRBuildPolygonFromEdges()
>>> function.  In OGRBuildPolygonFromEdges() I see this comment:
>>>
>>> // Eventually we should at least identify the external ring properly,
>>> // perhaps even ordering the direction of rings, though this isn't
>>> // required by the OGC geometry model.
>>>
>>> You might want to file a ticket on this issue, though I can't say when
>>> the
>>> issue will be fixed.
>>>
>>> Best regards,
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
>

From hemantbist at gmail.com  Mon May 31 23:11:11 2010
From: hemantbist at gmail.com (Hemant Bist)
Date: Mon May 31 23:11:34 2010
Subject: [gdal-dev] Removing usgs quads collars using gdal tools.
Message-ID: <AANLkTil1VvsBBj5ljf7f-pcyzmGzU2ssVHGXdoTPpmrS@mail.gmail.com>

Hi,

I am trying to create map tiles from the 'standard' USGS geotiffs using
gdal2tiles.py  e.g. (
http://www.archive.org/download/usgs_drg_ca_37119_g5/o37119g5.tif).

However I am unable to remove the extra border/collar that comes with these
scanned tiff. Does anyone know how can I generate the tiles without the
border(trim the tiffs to neatlines)?

I have tried using gdal_translate but I am not able to remove the border.
Would appreciate any pointer as to how to remove the borders.

Best,
HB
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20100531/df7f1eab/attachment.html
From warmerdam at pobox.com  Mon May 31 23:14:41 2010
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May 31 23:14:46 2010
Subject: [gdal-dev] S57 questions
In-Reply-To: <4C04782C.90007@hotmail.com>
References: <4B28374C.30801@hotmail.com> <4B285358.9010806@pobox.com>
	<4C046565.8050804@hotmail.com> <4C047670.8060001@pobox.com>
	<4C04782C.90007@hotmail.com>
Message-ID: <4C047B21.4040702@pobox.com>

ogr user wrote:
> This patch does not do anything regarding direction of winding.
> 
> What it does is - discover the exterior ring for a polygon, and make it
> the first ring in the polygon object. This was in response to your
> earlier comment that said "The S-57 driver uses
> OGRBuildPolygonFromEdges() to form the set of lines into a polygon.  No
> effort is currently made to properly represent exterior vs. interior
> rings as is required by the simple features geometry specification."
> 
> This is that effort. FWIW, with this patch, polygons read from ENC data
> that were assembled "out of order" (i.e. exterior ring was assembled
> later than a first one) would be rearranged (in that exterior ring is
> found and made the "exterior" ring) so that they could be drawn/handled
> correctly using OGR geometry.

Mike,

This would indeed be a useful change. I'd encourage you to file it in Trac
and I'll look at incorporating it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

