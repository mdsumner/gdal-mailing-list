From jgomezdans at gmail.com  Mon Oct  1 05:49:48 2012
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Mon, 1 Oct 2012 13:49:48 +0100
Subject: [gdal-dev] gdalbuildvrt different bands
Message-ID: <CAMWde5rV1OMq=zaCSKfJNs4SMdP0a7SUm_Ou+e5LoX1wRucxxg@mail.gmail.com>

Hi,
I want to produce a set of VRTs that comprise a re-arrangement of bands of
a number of individual GeoTIFF files. Say I have
file_01: band_01...band_04
file_02: band_01...band_04
file_03: band_01...band_04
file_04: band_01...band_04

And what I want to have is
vrt_01: file_01:band_01 file_02:band_01 file_03:band_01 file_04:band_01
vrt_02: file_01:band_02 file_02:band_02 file_03:band_02 file_04:band_02
vrt_03: file_01:band_03 file_03:band_03 file_03:band_04 file_04:band_03
vrt_03: file_01:band_04 file_04:band_04 file_03:band_04 file_04:band_04

I thought about using gdalbuildvrt, creating an "file of files", but I
don't think you can specify a particular band. Another idea would be to use
gdal_translate to create VRTs of the individual bands for each file, but
that looks like far too much effort. I'd like to avoid creating the XML
file myself because I find that that is quite error prone and requires
quite a bit of debugging.

Any ideas appreciated!
Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121001/d3fdabae/attachment.html>

From a.neumann at carto.net  Mon Oct  1 05:52:31 2012
From: a.neumann at carto.net (Andreas Neumann)
Date: Mon, 01 Oct 2012 14:52:31 +0200
Subject: [gdal-dev] =?utf-8?q?Problem_installing_gdal_from_source_-_dxf-re?=
	=?utf-8?q?lated=3F?=
Message-ID: <a4251bb696bde03f8b747ebeba8d89cd@carto.net>

 Hi,

 I tried to test the latest DXF fixes - but get an error message during 
 installation. The compile works fine, but during install I get the 
 following message:

 --------------------------------

 make[3]: Entering directory `/home/an/dev/gdal/ogr/ogrsf_frmts/dxf'
 /bin/bash /home/an/dev/gdal/libtool --mode=compile --tag=CXX g++ -g -O2 
 -Wall  -I.. -I../.. -I/home/an/dev/gdal/port -I/home/an/dev/gdal/gcore 
 -I/home/an/dev/gdal/alg -I/home/an/dev/gdal/ogr 
 -I/home/an/dev/gdal/ogr/ogrsf_frmts -DOGR_ENABLED 
 -I/home/an/dev/gdal/port  -c -o ../o/ogrdxfwriterlayer.lo 
 ogrdxfwriterlayer.cpp
 libtool: compile:  g++ -g -O2 -Wall -I.. -I../.. 
 -I/home/an/dev/gdal/port -I/home/an/dev/gdal/gcore 
 -I/home/an/dev/gdal/alg -I/home/an/dev/gdal/ogr 
 -I/home/an/dev/gdal/ogr/ogrsf_frmts -DOGR_ENABLED 
 -I/home/an/dev/gdal/port -c ogrdxfwriterlayer.cpp  -fPIC -DPIC -o 
 ../o/.libs/ogrdxfwriterlayer.o
 ogrdxfwriterlayer.cpp: In member function 'OGRErr 
 OGRDXFWriterLayer::WritePOINT(OGRFeature*)':
 ogrdxfwriterlayer.cpp:384:1: error: a function-definition is not 
 allowed here before '{' token
 ogrdxfwriterlayer.cpp:332:19: warning: unused variable 'poTool' 
 [-Wunused-variable]
 ogrdxfwriterlayer.cpp:1178:1: error: expected '}' at end of input
 ogrdxfwriterlayer.cpp:1178:1: warning: control reaches end of non-void 
 function [-Wreturn-type]
 make[3]: *** [../o/ogrdxfwriterlayer.lo] Error 1
 make[3]: Leaving directory `/home/an/dev/gdal/ogr/ogrsf_frmts/dxf'
 make[2]: *** [dxf-target] Error 2
 make[2]: Leaving directory `/home/an/dev/gdal/ogr/ogrsf_frmts'
 make[1]: *** [sublibs] Error 2
 make[1]: Leaving directory `/home/an/dev/gdal/ogr'
 make: *** [ogr-target] Error 2

 ----------------------------

 Tonight I will test on a different machine to see if the problem is 
 reproducible.

 Thank you if you have any idea how I can fix the problem,
 Andreas

-- 
 --
 Andreas Neumann
 B?schacherstrasse 10A
 8624 Gr?t (Gossau ZH)
 Switzerland

From oyvind.idland at gmail.com  Mon Oct  1 07:07:15 2012
From: oyvind.idland at gmail.com (Oyvind Idland)
Date: Mon, 1 Oct 2012 16:07:15 +0200
Subject: [gdal-dev] Forces SRS into VRT ? (gdalbuildvrt)
Message-ID: <CAEVk4t3OqWVjC7c7h2nVakV1ZMs-i15LE+y7uLWcejzT2RsDbQ@mail.gmail.com>

Hello,

is it possible to force an SRS into a .vrt in some way, during creation ?
(except manually copying into the .vrt)

In my case, I got a tiled dataset in .jpeg, with no SRS information
attached. Since I know the projection,
I am looking for an "-a_srs" or similar.


- Oyvind
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121001/672cea27/attachment.html>

From even.rouault at mines-paris.org  Mon Oct  1 07:32:25 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 01 Oct 2012 16:32:25 +0200
Subject: [gdal-dev] Problem installing gdal from source - dxf-related?
In-Reply-To: <a4251bb696bde03f8b747ebeba8d89cd@carto.net>
References: <a4251bb696bde03f8b747ebeba8d89cd@carto.net>
Message-ID: <1349101945.5069a97947c06@imp.free.fr>

Andreas,

I suspect that your source files don't match the "official" ones. The line
numbers don't point to the line numbers of the SVN version. There must have been
an error in the process when you updated your source files.

Even

















From even.rouault at mines-paris.org  Mon Oct  1 07:33:31 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 01 Oct 2012 16:33:31 +0200
Subject: [gdal-dev] Problem installing gdal from source - dxf-related?
In-Reply-To: <a4251bb696bde03f8b747ebeba8d89cd@carto.net>
References: <a4251bb696bde03f8b747ebeba8d89cd@carto.net>
Message-ID: <1349102011.5069a9bba6a9e@imp.free.fr>

Andreas,

I suspect that your source files don't match the "official" ones. The line
numbers don't point to the line numbers of the SVN version. There must have been
an error in the process when you updated your source files.

Even







From abhinav at vizexperts.com  Mon Oct  1 12:24:49 2012
From: abhinav at vizexperts.com (Abhinav)
Date: Tue, 2 Oct 2012 00:54:49 +0530
Subject: [gdal-dev] Regarding Attribute corruption while reading KML file
Message-ID: <00e901cda00a$6dc29c00$4947d400$@vizexperts.com>

I am facing problem in reading KML/GML file from GDAL. When I read
attributes values are not coming properly. All the values are present in the
respective file.

Is it the problem with the gdal driver or what?

 

With Regards

Abhinav Goyal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121002/750cb93f/attachment.html>

From abhinav at vizexperts.com  Mon Oct  1 12:27:28 2012
From: abhinav at vizexperts.com (Abhinav)
Date: Tue, 2 Oct 2012 00:57:28 +0530
Subject: [gdal-dev] Regarding KML/GML Reading
Message-ID: <00ee01cda00a$cc7b4440$6571ccc0$@vizexperts.com>

I am facing problem in reading KML/GML file from GDAL. When I read
attributes values are not coming properly. All the values are present in the
respective file.

Is it the problem with the gdal driver or what?

 

With Regards

Abhinav Goyal

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121002/e546c6c9/attachment.html>

From even.rouault at mines-paris.org  Mon Oct  1 12:34:30 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 1 Oct 2012 21:34:30 +0200
Subject: [gdal-dev] Regarding Attribute corruption while reading KML file
In-Reply-To: <00e901cda00a$6dc29c00$4947d400$@vizexperts.com>
References: <00e901cda00a$6dc29c00$4947d400$@vizexperts.com>
Message-ID: <201210012134.30071.even.rouault@mines-paris.org>

Le lundi 01 octobre 2012 21:24:49, Abhinav a ?crit :
> I am facing problem in reading KML/GML file from GDAL. When I read
> attributes values are not coming properly. All the values are present in
> the respective file.
> 
> Is it the problem with the gdal driver or what?

With such an imprecise description (i.e no sample data file provided), it is 
difficult to know...

For KML, you need to have GDAL compiled with the LIBKML driver (not the base 
KML driver). Check the first lines of the output of "ogrinfo XXXXXX.kml". It 
must report:

INFO: Open of 'XXXXXX.kml'
      using driver `LIBKML' successful.

For GML, this should work for most cases, but there might be caveats depending 
of your data file.

Best regards,

Even

From abhinav at vizexperts.com  Mon Oct  1 13:37:48 2012
From: abhinav at vizexperts.com (Abhinav)
Date: Tue, 2 Oct 2012 02:07:48 +0530
Subject: [gdal-dev] Regarding Attribute corruption while reading KML file
In-Reply-To: <201210012134.30071.even.rouault@mines-paris.org>
References: <00e901cda00a$6dc29c00$4947d400$@vizexperts.com>
	<201210012134.30071.even.rouault@mines-paris.org>
Message-ID: <010b01cda014$9fe92820$dfbb7860$@vizexperts.com>

I am having Issue in reading attributes of kml file with Gdal.
When I am running gdalinfo in windows, it displays

Had to open data source read-only.
INFO: Open of `D:\Users\DMS\Desktop\Airbase.kml'
      using driver `KML' successful.
1: AIR_FIELD (3D Point)

Is it the right driver for the windows?

Attached with this is the file I am trying to read.

Thanks and regards
Abhinav Goyal


-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org] 
Sent: Tuesday, October 02, 2012 1:05 AM
To: gdal-dev at lists.osgeo.org
Cc: Abhinav
Subject: Re: [gdal-dev] Regarding Attribute corruption while reading KML file

Le lundi 01 octobre 2012 21:24:49, Abhinav a ?crit :
> I am facing problem in reading KML/GML file from GDAL. When I read 
> attributes values are not coming properly. All the values are present 
> in the respective file.
> 
> Is it the problem with the gdal driver or what?

With such an imprecise description (i.e no sample data file provided), it is difficult to know...

For KML, you need to have GDAL compiled with the LIBKML driver (not the base KML driver). Check the first lines of the output of "ogrinfo XXXXXX.kml". It must report:

INFO: Open of 'XXXXXX.kml'
      using driver `LIBKML' successful.

For GML, this should work for most cases, but there might be caveats depending of your data file.

Best regards,

Even
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Airbase.kml
Type: application/octet-stream
Size: 5481 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121002/8d4887f5/attachment.obj>

From even.rouault at mines-paris.org  Mon Oct  1 14:03:26 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 1 Oct 2012 23:03:26 +0200
Subject: [gdal-dev] Regarding Attribute corruption while reading KML file
In-Reply-To: <010b01cda014$9fe92820$dfbb7860$@vizexperts.com>
References: <00e901cda00a$6dc29c00$4947d400$@vizexperts.com>
	<201210012134.30071.even.rouault@mines-paris.org>
	<010b01cda014$9fe92820$dfbb7860$@vizexperts.com>
Message-ID: <201210012303.26574.even.rouault@mines-paris.org>

Le lundi 01 octobre 2012 22:37:48, Abhinav a ?crit :
> I am having Issue in reading attributes of kml file with Gdal.
> When I am running gdalinfo in windows, it displays
> 
> Had to open data source read-only.
> INFO: Open of `D:\Users\DMS\Desktop\Airbase.kml'
>       using driver `KML' successful.
> 1: AIR_FIELD (3D Point)
> 
> Is it the right driver for the windows?

Extended schema is only support by the LIBKML driver ( see 
http://gdal.org/ogr/drv_libkml.html ), but it is likely not included in your 
GDAL binary distribution, otherwise the file would have been opened by it.

Anyway, in my own GDAL build that includes the LIBKML driver, I don't manage 
to get the extended attributes. The reason is that this file is not a valid KML 
2.2 file (in the sense, it doesn't validate against the OGC KML 2.2 schema at 
http://schemas.opengis.net/kml/2.2.0/ogckml22.xsd ). The issue is that the 
<Schema> ... </Schema> declaration is inside the <Folder> element, instead of 
being right under the <Document> element.

Once this is corrected in a text editor, the LIBKML driver can read the 
attributes :

$ ogrinfo Airbase.kml  -al
INFO: Open of `Airbase.kml'
      using driver `LIBKML' successful.

Layer name: AIR_FIELD
Geometry: Unknown (any)
Feature Count: 1
Extent: (82.686300, 22.204900) - (82.686300, 22.204900)
Layer SRS WKT:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AUTHORITY["EPSG","4326"]]
Name: String (0.0)
description: String (0.0)
timestamp: DateTime (0.0)
begin: DateTime (0.0)
end: DateTime (0.0)
altitudeMode: String (0.0)
tessellate: Integer (0.0)
extrude: Integer (0.0)
visibility: Integer (0.0)
drawOrder: Integer (0.0)
icon: String (0.0)
Name: String (0.0)
Description: String (0.0)
NAME: String (0.0)
Affiliation: Integer (0.0)
Plan: Integer (0.0)
ColorR: Integer (0.0)
ColorG: Integer (0.0)
ColorB: Integer (0.0)
ColorA: Integer (0.0)
LineWidth: Integer (0.0)
IconSize: Real (0.0)
AutoSwitch: Real (0.0)
Representation: Integer (0.0)
RotationX: Real (0.0)
RotationY: Real (0.0)
RotationZ: Real (0.0)
ScaleX: Real (0.0)
ScaleY: Real (0.0)
ScaleZ: Real (0.0)
AAS_CODE: Integer (0.0)
AFDALTITUDE_IN_M: Real (0.0)
AFD_ACTYPE: String (0.0)
AFD_ADINFO: String (0.0)
AFD_ID: String (0.0)
AFD_NAME: String (0.0)
AFD_SECTOR: String (0.0)
AFD_TYPE: String (0.0)
AF_UNIT: String (0.0)
ASSOCIATEDWITH: String (0.0)
CONTROL_TOWER: Integer (0.0)
DATE_TIME: String (0.0)
DP_DAY_NI: String (0.0)
FORFMNUNIT: String (0.0)
HANGER_CAPACITY: Integer (0.0)
KEYID: Integer (0.0)
LOC_CONT_TOWER: String (0.0)
LOC_FUEL_TKS: String (0.0)
LOC_LAT: String (0.0)
LOC_LONG: String (0.0)
LOC_RDR_STN: String (0.0)
NO_OF_RUNWAYS: Integer (0.0)
PHOTOGRAPHS: String (0.0)
REFUEL_CAPACITY: Real (0.0)
RW_BEARING: String (0.0)
RW_LENGTH_IN_M: Real (0.0)
RW_SURFACE: String (0.0)
RW_WIDTH_IN_M: Real (0.0)
VA_VP_INFO: String (0.0)
OGRFeature(AIR_FIELD):1
  Name (String) = A2
  description (String) = (null)
  timestamp (DateTime) = (null)
  begin (DateTime) = (null)
  end (DateTime) = (null)
  altitudeMode (String) = (null)
  tessellate (Integer) = -1
  extrude (Integer) = -1
  visibility (Integer) = -1
  drawOrder (Integer) = (null)
  icon (String) = (null)
  Name (String) = (null)
  Description (String) = (null)
  NAME (String) = (null)
  Affiliation (Integer) = 1
  Plan (Integer) = 1
  ColorR (Integer) = 255
  ColorG (Integer) = 0
  ColorB (Integer) = 0
  ColorA (Integer) = 255
  LineWidth (Integer) = 11
  IconSize (Real) = 12
  AutoSwitch (Real) = 51
  Representation (Integer) = 5
  RotationX (Real) = 13
  RotationY (Real) = 14
  RotationZ (Real) = 15
  ScaleX (Real) = 16
  ScaleY (Real) = 17
  ScaleZ (Real) = 19
  AAS_CODE (Integer) = 1
  AFDALTITUDE_IN_M (Real) = 2
  AFD_ACTYPE (String) = 3
  AFD_ADINFO (String) = 4
  AFD_ID (String) = 5
  AFD_NAME (String) = 6
  AFD_SECTOR (String) = 7
  AFD_TYPE (String) = 8
  AF_UNIT (String) = 9
  ASSOCIATEDWITH (String) = 10
  CONTROL_TOWER (Integer) = 11
  DATE_TIME (String) = 12
  DP_DAY_NI (String) = 13
  FORFMNUNIT (String) = 14
  HANGER_CAPACITY (Integer) = 15
  KEYID (Integer) = 16
  LOC_CONT_TOWER (String) = 17
  LOC_FUEL_TKS (String) = 18
  LOC_LAT (String) = 19
  LOC_LONG (String) = 20
  LOC_RDR_STN (String) = 21
  NO_OF_RUNWAYS (Integer) = 22
  PHOTOGRAPHS (String) = 23
  REFUEL_CAPACITY (Real) = 24
  RW_BEARING (String) = 25
  RW_LENGTH_IN_M (Real) = 26
  RW_SURFACE (String) = 27
  RW_WIDTH_IN_M (Real) = 28
  VA_VP_INFO (String) = 29
  POINT (82.6863 22.2049 0)

From even.rouault at mines-paris.org  Mon Oct  1 14:26:22 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 1 Oct 2012 23:26:22 +0200
Subject: [gdal-dev] Forces SRS into VRT ? (gdalbuildvrt)
In-Reply-To: <CAEVk4t3OqWVjC7c7h2nVakV1ZMs-i15LE+y7uLWcejzT2RsDbQ@mail.gmail.com>
References: <CAEVk4t3OqWVjC7c7h2nVakV1ZMs-i15LE+y7uLWcejzT2RsDbQ@mail.gmail.com>
Message-ID: <201210012326.23040.even.rouault@mines-paris.org>

Le lundi 01 octobre 2012 16:07:15, Oyvind Idland a ?crit :
> Hello,
> 
> is it possible to force an SRS into a .vrt in some way, during creation ?
> (except manually copying into the .vrt)
> 
> In my case, I got a tiled dataset in .jpeg, with no SRS information
> attached. Since I know the projection,
> I am looking for an "-a_srs" or similar.

I've just added the -a_srs option in the trunk version of gdalbuildvrt.

Otherwise you can already download the following GDAL Python script :
http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/gdal_edit.py

and then for example try :

python gdal_edit.py -a_srs EPSG:32660 foo.vrt

gdal_edit can update in place various metadata (depending on the capabilities 
of the underlying format) :

"""
$ python gdal_edit.py
Usage: gdal_edit [--help-general] [-a_srs srs_def] [-a_ullr ulx uly lrx lry]
                 [-tr xres yres] [-unsetgt] [-a_nodata value] 
                 [-gcp pixel line easting northing [elevation]]*
                 [-mo "META-TAG=VALUE"]*  datasetname

Edit in place various information of an existing GDAL dataset.
"""

> 
> 
> - Oyvind

From oyvind.idland at gmail.com  Tue Oct  2 00:05:47 2012
From: oyvind.idland at gmail.com (Oyvind Idland)
Date: Tue, 2 Oct 2012 09:05:47 +0200
Subject: [gdal-dev] Forces SRS into VRT ? (gdalbuildvrt)
In-Reply-To: <201210012326.23040.even.rouault@mines-paris.org>
References: <CAEVk4t3OqWVjC7c7h2nVakV1ZMs-i15LE+y7uLWcejzT2RsDbQ@mail.gmail.com>
	<201210012326.23040.even.rouault@mines-paris.org>
Message-ID: <CAEVk4t0njbnL=1ep2TyOCh1RSE=faYC59+s2LZ7t9Wv9Cpd5iw@mail.gmail.com>

Hi Even,

thanks ! :)

- Oyvind

On Mon, Oct 1, 2012 at 11:26 PM, Even Rouault
<even.rouault at mines-paris.org>wrote:

> Le lundi 01 octobre 2012 16:07:15, Oyvind Idland a ?crit :
> > Hello,
> >
> > is it possible to force an SRS into a .vrt in some way, during creation ?
> > (except manually copying into the .vrt)
> >
> > In my case, I got a tiled dataset in .jpeg, with no SRS information
> > attached. Since I know the projection,
> > I am looking for an "-a_srs" or similar.
>
> I've just added the -a_srs option in the trunk version of gdalbuildvrt.
>
> Otherwise you can already download the following GDAL Python script :
> http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/gdal_edit.py
>
> and then for example try :
>
> python gdal_edit.py -a_srs EPSG:32660 foo.vrt
>
> gdal_edit can update in place various metadata (depending on the
> capabilities
> of the underlying format) :
>
> """
> $ python gdal_edit.py
> Usage: gdal_edit [--help-general] [-a_srs srs_def] [-a_ullr ulx uly lrx
> lry]
>                  [-tr xres yres] [-unsetgt] [-a_nodata value]
>                  [-gcp pixel line easting northing [elevation]]*
>                  [-mo "META-TAG=VALUE"]*  datasetname
>
> Edit in place various information of an existing GDAL dataset.
> """
>
> >
> >
> > - Oyvind
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121002/11c3d900/attachment-0001.html>

From a.neumann at carto.net  Tue Oct  2 01:41:54 2012
From: a.neumann at carto.net (Andreas Neumann)
Date: Tue, 02 Oct 2012 10:41:54 +0200
Subject: [gdal-dev]
 =?utf-8?q?Problem_installing_gdal_from_source_-_dxf-re?=
 =?utf-8?q?lated=3F?=
In-Reply-To: <1349102011.5069a9bba6a9e@imp.free.fr>
References: <a4251bb696bde03f8b747ebeba8d89cd@carto.net>
	<1349102011.5069a9bba6a9e@imp.free.fr>
Message-ID: <da8de41275a79d26ce1743c58fe060f3@carto.net>

 Hi Even and others,

 I did a new checkout and installation works fine now.

 I also tested the recent dxf writer improvements and can gladly report 
 that filled polygon export now seems to work fine. It also works for 
 holes. Multipolygon features seem to exported as separate polygons. But 
 that is fine for me and perhaps also a limitation of dxf.

 Thank you for all who worked on fixing the dxf export issues!

 Andreas

 On Mon, 01 Oct 2012 16:33:31 +0200, Even Rouault wrote:
> Andreas,
>
> I suspect that your source files don't match the "official" ones. The 
> line
> numbers don't point to the line numbers of the SVN version. There
> must have been
> an error in the process when you updated your source files.
>
> Even

-- 
 --
 Andreas Neumann
 B?schacherstrasse 10A
 8624 Gr?t (Gossau ZH)
 Switzerland

From turgay.osna at netcad.com.tr  Tue Oct  2 04:39:22 2012
From: turgay.osna at netcad.com.tr (netcadturgay)
Date: Tue, 2 Oct 2012 04:39:22 -0700 (PDT)
Subject: [gdal-dev] Gdal 1.9 and ERDAS Read-Write SDK write projection
Message-ID: <1349177962788-5005832.post@n6.nabble.com>

I open an ECW file in Update mode. Then I set to the projection
information(with SetProjection method) but ecw file does not change. How can
I solve this problem?



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Gdal-1-9-and-ERDAS-Read-Write-SDK-write-projection-tp5005832.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Tue Oct  2 05:07:38 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 02 Oct 2012 14:07:38 +0200
Subject: [gdal-dev] Gdal 1.9 and ERDAS Read-Write SDK write projection
In-Reply-To: <1349177962788-5005832.post@n6.nabble.com>
References: <1349177962788-5005832.post@n6.nabble.com>
Message-ID: <1349179658.506ad90a8e75e@imp.free.fr>

Selon netcadturgay <turgay.osna at netcad.com.tr>:

> I open an ECW file in Update mode. Then I set to the projection
> information(with SetProjection method) but ecw file does not change. How can
> I solve this problem?

Did you close properly the dataset ? The ECW header is only rewritten with the
updated information at dataset closing.

From turgay.osna at netcad.com.tr  Tue Oct  2 05:37:09 2012
From: turgay.osna at netcad.com.tr (netcadturgay)
Date: Tue, 2 Oct 2012 05:37:09 -0700 (PDT)
Subject: [gdal-dev] Gdal 1.9 and ERDAS Read-Write SDK write projection
In-Reply-To: <1349179658.506ad90a8e75e@imp.free.fr>
References: <1349177962788-5005832.post@n6.nabble.com>
	<1349179658.506ad90a8e75e@imp.free.fr>
Message-ID: <1349181429367-5005850.post@n6.nabble.com>

Yes, I close the dataset properly and now I found problem source. If I try to
set the "Geodesic WGS84", it updates successfully. But if I try to set the
custom projection, it does not update?

*Custom WKT*
PROJCS["(UTM)Universal Transvers Merkator 6?",GEOGCS["EUROPEAN
1950",DATUM["European_Datum_1950",SPHEROID["International",6378388.0,297.0],TOWGS84[-87.0,-98.0,-121.0,0.0,0.0,0.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329],AUTHORITY["EPSG","4230"]],PROJECTION["TRANSVERSE_MERCATOR"],PARAMETER["SCALE_FACTOR",0.9996],PARAMETER["CENTRAL_MERIDIAN",33.0],PARAMETER["LATITUDE_OF_ORIGIN",0.0],PARAMETER["FALSE_EASTING",500000.0],PARAMETER["FALSE_NORTHING",0.0],UNIT["meter",1.0]]



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/How-to-write-projection-for-ecw-files-in-Gdal-1-9-including-ERDAS-Read-Write-SDK-tp5005832p5005850.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From ramteke0001 at gmail.com  Tue Oct  2 10:24:53 2012
From: ramteke0001 at gmail.com (Pravin Ramteke)
Date: Tue, 2 Oct 2012 22:54:53 +0530
Subject: [gdal-dev] conflict bet gdal tiff lib and libgeotiff lib
Message-ID: <CAOHb4C9Vvjj0COfazxX-pLmgmKnmxqnqtXtkFdkon5sBbUWuXA@mail.gmail.com>

Respected Sir,
I m Pravin Ramteke Mtech student from Walchand College Of Engg. Sangli
Maharashtra, working on Object Tracking in satellite images, fro this i m
using Orfeo toolbax,

When operating on .tif image i get an error of
*** glibc detected *** ./Multispectral: malloc(): memory corruption:
0x09edecf0 ***
 and afer using gdasl in --with-hide-internel=symbols

i get segmentation fault

can u please suggest a solution...........

Thank You,

Regards
Pravin B. Ramteke
MTech-II (CSE)
Walchand College Of Engg,
Sangli,
Maharashtra. 416415
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121002/989cc96c/attachment.html>

From even.rouault at mines-paris.org  Tue Oct  2 11:46:39 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 2 Oct 2012 20:46:39 +0200
Subject: [gdal-dev] conflict bet gdal tiff lib and libgeotiff lib
In-Reply-To: <CAOHb4C9Vvjj0COfazxX-pLmgmKnmxqnqtXtkFdkon5sBbUWuXA@mail.gmail.com>
References: <CAOHb4C9Vvjj0COfazxX-pLmgmKnmxqnqtXtkFdkon5sBbUWuXA@mail.gmail.com>
Message-ID: <201210022046.39830.even.rouault@mines-paris.org>

Le mardi 02 octobre 2012 19:24:53, Pravin Ramteke a ?crit :
> Respected Sir,
> I m Pravin Ramteke Mtech student from Walchand College Of Engg. Sangli
> Maharashtra, working on Object Tracking in satellite images, fro this i m
> using Orfeo toolbax,
> 
> When operating on .tif image i get an error of
> *** glibc detected *** ./Multispectral: malloc(): memory corruption:
> 0x09edecf0 ***
>  and afer using gdasl in --with-hide-internel=symbols

Also try the --with-rename-internal-libtiff-symbols and --with-rename-internal-
libgeotiff-symbols configure option that have been added in GDAL 1.9

From leith at leithalweapon.geek.nz  Tue Oct  2 17:39:55 2012
From: leith at leithalweapon.geek.nz (Leith Bade)
Date: Wed, 3 Oct 2012 10:39:55 +1000
Subject: [gdal-dev] GDAL thread safety
Message-ID: <CAPDEroXdpD_OgYPnViwsOjv7j0MJVPSgy4sMYA3=fCjnCmAGhg@mail.gmail.com>

Hi,

I am working on a Java tiling program that uses GDAL to read the source
files. (Writing is done via Java ImageIO)

Currently I am trying to implement multithreaded processing to speed the
program up.

I note on the FAQ that it says that GDAL is thread safe if you open a new
dataset for each thread.

I have done that in my program so each thread has it's own dataset pointing
to the same file.

However I am having a problem with ReadRaster(). When I call this function
in parallel on each thread some of the image data returned is corrupted.

I note the FAQ says some drivers might not be thread safe, but more
recently on this mailing list it was said that most GDAL tree code only
drivers should be thread safe.

The file I am having problems with is a VRT file that references a raw file
using VRTRawRasterBand.

I have used gdal_translate to convert it to a TIFF and that does not have
problems.

Is it possible the VRT driver is not thread safe?

Also, is there an official list of thread safe drivers? If not could
someone with the knowledge perhaps update the FAQ to list the 'vetted'
drivers?

I would use the list to build a white list into my program that controls
whether is runs the single or multi threaded version.

Thanks,
Leith Bade
leith at leithalweapon.geek.nz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/74f61e48/attachment.html>

From ramteke0001 at gmail.com  Wed Oct  3 01:44:12 2012
From: ramteke0001 at gmail.com (Pravin Ramteke)
Date: Wed, 3 Oct 2012 14:14:12 +0530
Subject: [gdal-dev] gdal-dev Digest, Vol 101, Issue 3
In-Reply-To: <mailman.39.1349204409.12305.gdal-dev@lists.osgeo.org>
References: <mailman.39.1349204409.12305.gdal-dev@lists.osgeo.org>
Message-ID: <CAOHb4C8xM04OjPSgsZCnCQtOTUzsvfjsU4UJ030cToNohU3DiQ@mail.gmail.com>

Respected Sir,
Thank you for your reply,
As u said i have configured using gdal --with-rename-internal-
libtiff-symbols and --with-rename-internal-libgeotiff-symbols

When operating on .tif image i get same  error again
*** glibc detected *** ./Multispectral: malloc(): memory corruption:
0x09edecf0 ***

I am using gdal 1.9.1 version strictly i need to have gdal 1.9.0
..............

can u please suggest me a solution..............

Thank You,

Regards
Pravin B. Ramteke
MTech-II (CSE)
Walchand College Of Engg,
Sangli,
Maharashtra. 416415

On Wed, Oct 3, 2012 at 12:30 AM, <gdal-dev-request at lists.osgeo.org> wrote:

> Send gdal-dev mailing list submissions to
>         gdal-dev at lists.osgeo.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
> or, via email, send a message with subject or body 'help' to
>         gdal-dev-request at lists.osgeo.org
>
> You can reach the person managing the list at
>         gdal-dev-owner at lists.osgeo.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of gdal-dev digest..."
>
>
> Today's Topics:
>
>    1. Re: Problem installing gdal from source - dxf-related?
>       (Andreas Neumann)
>    2. Gdal 1.9 and ERDAS Read-Write SDK write projection (netcadturgay)
>    3. Re: Gdal 1.9 and ERDAS Read-Write SDK write projection
>       (Even Rouault)
>    4. Re: Gdal 1.9 and ERDAS Read-Write SDK write projection
>       (netcadturgay)
>    5. conflict bet gdal tiff lib and libgeotiff lib (Pravin Ramteke)
>    6. Re: conflict bet gdal tiff lib and libgeotiff lib (Even Rouault)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 02 Oct 2012 10:41:54 +0200
> From: Andreas Neumann <a.neumann at carto.net>
> To: Even Rouault <even.rouault at mines-paris.org>
> Cc: gdal-dev <gdal-dev at lists.osgeo.org>
> Subject: Re: [gdal-dev] Problem installing gdal from source -
>         dxf-related?
> Message-ID: <da8de41275a79d26ce1743c58fe060f3 at carto.net>
> Content-Type: text/plain; charset=UTF-8; format=flowed
>
>  Hi Even and others,
>
>  I did a new checkout and installation works fine now.
>
>  I also tested the recent dxf writer improvements and can gladly report
>  that filled polygon export now seems to work fine. It also works for
>  holes. Multipolygon features seem to exported as separate polygons. But
>  that is fine for me and perhaps also a limitation of dxf.
>
>  Thank you for all who worked on fixing the dxf export issues!
>
>  Andreas
>
>  On Mon, 01 Oct 2012 16:33:31 +0200, Even Rouault wrote:
> > Andreas,
> >
> > I suspect that your source files don't match the "official" ones. The
> > line
> > numbers don't point to the line numbers of the SVN version. There
> > must have been
> > an error in the process when you updated your source files.
> >
> > Even
>
> --
>  --
>  Andreas Neumann
>  B?schacherstrasse 10A
>  8624 Gr?t (Gossau ZH)
>  Switzerland
>
>
> ------------------------------
>
> Message: 2
> Date: Tue, 2 Oct 2012 04:39:22 -0700 (PDT)
> From: netcadturgay <turgay.osna at netcad.com.tr>
> To: gdal-dev at lists.osgeo.org
> Subject: [gdal-dev] Gdal 1.9 and ERDAS Read-Write SDK write projection
> Message-ID: <1349177962788-5005832.post at n6.nabble.com>
> Content-Type: text/plain; charset=us-ascii
>
> I open an ECW file in Update mode. Then I set to the projection
> information(with SetProjection method) but ecw file does not change. How
> can
> I solve this problem?
>
>
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/Gdal-1-9-and-ERDAS-Read-Write-SDK-write-projection-tp5005832.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
>
> ------------------------------
>
> Message: 3
> Date: Tue, 02 Oct 2012 14:07:38 +0200
> From: Even Rouault <even.rouault at mines-paris.org>
> To: netcadturgay <turgay.osna at netcad.com.tr>
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] Gdal 1.9 and ERDAS Read-Write SDK write
>         projection
> Message-ID: <1349179658.506ad90a8e75e at imp.free.fr>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Selon netcadturgay <turgay.osna at netcad.com.tr>:
>
> > I open an ECW file in Update mode. Then I set to the projection
> > information(with SetProjection method) but ecw file does not change. How
> can
> > I solve this problem?
>
> Did you close properly the dataset ? The ECW header is only rewritten with
> the
> updated information at dataset closing.
>
>
> ------------------------------
>
> Message: 4
> Date: Tue, 2 Oct 2012 05:37:09 -0700 (PDT)
> From: netcadturgay <turgay.osna at netcad.com.tr>
> To: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] Gdal 1.9 and ERDAS Read-Write SDK write
>         projection
> Message-ID: <1349181429367-5005850.post at n6.nabble.com>
> Content-Type: text/plain; charset=UTF-8
>
> Yes, I close the dataset properly and now I found problem source. If I try
> to
> set the "Geodesic WGS84", it updates successfully. But if I try to set the
> custom projection, it does not update?
>
> *Custom WKT*
> PROJCS["(UTM)Universal Transvers Merkator 6?",GEOGCS["EUROPEAN
>
> 1950",DATUM["European_Datum_1950",SPHEROID["International",6378388.0,297.0],TOWGS84[-87.0,-98.0,-121.0,0.0,0.0,0.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329],AUTHORITY["EPSG","4230"]],PROJECTION["TRANSVERSE_MERCATOR"],PARAMETER["SCALE_FACTOR",0.9996],PARAMETER["CENTRAL_MERIDIAN",33.0],PARAMETER["LATITUDE_OF_ORIGIN",0.0],PARAMETER["FALSE_EASTING",500000.0],PARAMETER["FALSE_NORTHING",0.0],UNIT["meter",1.0]]
>
>
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/How-to-write-projection-for-ecw-files-in-Gdal-1-9-including-ERDAS-Read-Write-SDK-tp5005832p5005850.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>
>
> ------------------------------
>
> Message: 5
> Date: Tue, 2 Oct 2012 22:54:53 +0530
> From: Pravin Ramteke <ramteke0001 at gmail.com>
> To: gdal-dev at lists.osgeo.org
> Subject: [gdal-dev] conflict bet gdal tiff lib and libgeotiff lib
> Message-ID:
>         <
> CAOHb4C9Vvjj0COfazxX-pLmgmKnmxqnqtXtkFdkon5sBbUWuXA at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Respected Sir,
> I m Pravin Ramteke Mtech student from Walchand College Of Engg. Sangli
> Maharashtra, working on Object Tracking in satellite images, fro this i m
> using Orfeo toolbax,
>
> When operating on .tif image i get an error of
> *** glibc detected *** ./Multispectral: malloc(): memory corruption:
> 0x09edecf0 ***
>  and afer using gdasl in --with-hide-internel=symbols
>
> i get segmentation fault
>
> can u please suggest a solution...........
>
> Thank You,
>
> Regards
> Pravin B. Ramteke
> MTech-II (CSE)
> Walchand College Of Engg,
> Sangli,
> Maharashtra. 416415
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121002/989cc96c/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 6
> Date: Tue, 2 Oct 2012 20:46:39 +0200
> From: Even Rouault <even.rouault at mines-paris.org>
> To: gdal-dev at lists.osgeo.org
> Cc: Pravin Ramteke <ramteke0001 at gmail.com>
> Subject: Re: [gdal-dev] conflict bet gdal tiff lib and libgeotiff lib
> Message-ID: <201210022046.39830.even.rouault at mines-paris.org>
> Content-Type: Text/Plain;  charset="utf-8"
>
> Le mardi 02 octobre 2012 19:24:53, Pravin Ramteke a ?crit :
> > Respected Sir,
> > I m Pravin Ramteke Mtech student from Walchand College Of Engg. Sangli
> > Maharashtra, working on Object Tracking in satellite images, fro this i m
> > using Orfeo toolbax,
> >
> > When operating on .tif image i get an error of
> > *** glibc detected *** ./Multispectral: malloc(): memory corruption:
> > 0x09edecf0 ***
> >  and afer using gdasl in --with-hide-internel=symbols
>
> Also try the --with-rename-internal-libtiff-symbols and
> --with-rename-internal-
> libgeotiff-symbols configure option that have been added in GDAL 1.9
>
>
> ------------------------------
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> End of gdal-dev Digest, Vol 101, Issue 3
> ****************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/febedda4/attachment.html>

From turgay.osna at netcad.com.tr  Wed Oct  3 04:32:59 2012
From: turgay.osna at netcad.com.tr (netcadturgay)
Date: Wed, 3 Oct 2012 04:32:59 -0700 (PDT)
Subject: [gdal-dev] write projection to ECW file in Gdal 1.9
Message-ID: <1349263979386-5006074.post@n6.nabble.com>

I use Gdal 1.9 library including ERDAS R-W SDK 4.2 and when I try to write
projection to ECW file(SetProjection) in update mode, some projections can
written successfully. But some projections cannot written(cannot update to
the file). Any solution about this problem? 
Also when I try to set same projections to "TIFF" file, all of them are
written successfully. 

WKT can written
-----------------
GEOGCS["WGS-84",DATUM["WGS84",SPHEROID["WGS
84",6378137.0,298.2572236],TOWGS84[0.0,0.0,0.0,0.0,0.0,0.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329],AUTHORITY["EPSG","4326"]]

WKT cannot written
-------------------
PROJCS["(UTM)Universal Transvers Merkator 6?",GEOGCS["EUROPEAN
1950",DATUM["European_Datum_1950",SPHEROID["International",6378388.0,297.0],TOWGS84[-87.0,-98.0,-121.0,0.0,0.0,0.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329],AUTHORITY["EPSG","4230"]],PROJECTION["TRANSVERSE_MERCATOR"],PARAMETER["SCALE_FACTOR",0.9996],PARAMETER["CENTRAL_MERIDIAN",33.0],PARAMETER["LATITUDE_OF_ORIGIN",0.0],PARAMETER["FALSE_EASTING",500000.0],PARAMETER["FALSE_NORTHING",0.0],UNIT["meter",1.0]]






--
View this message in context: http://osgeo-org.1560.n6.nabble.com/write-projection-to-ECW-file-in-Gdal-1-9-tp5006074.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Wed Oct  3 04:44:44 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 03 Oct 2012 13:44:44 +0200
Subject: [gdal-dev] GDAL thread safety
In-Reply-To: <CAPDEroXdpD_OgYPnViwsOjv7j0MJVPSgy4sMYA3=fCjnCmAGhg@mail.gmail.com>
References: <CAPDEroXdpD_OgYPnViwsOjv7j0MJVPSgy4sMYA3=fCjnCmAGhg@mail.gmail.com>
Message-ID: <1349264684.506c252ccb607@imp.free.fr>

Hi

> The file I am having problems with is a VRT file that references a raw file
> using VRTRawRasterBand.
>
> I have used gdal_translate to convert it to a TIFF and that does not have
> problems.
>
> Is it possible the VRT driver is not thread safe?

On closer review, it appears that VRTRawRasterBand isn't thread-safe. It uses
CPLOpenShared() which will not work if you have different threads that open VRT,
but if those VRT points to the same raw file...

Could you try to recompile GDAL with the following patch and open a ticket in
GDAL Trac). Not that this is just an interim solution. The proper solution would
be to fix CPLOpenShared() to be more thread-friendly (that is to say to return
different file handles if called with the same filename from different threads)

Index: vrtrawrasterband.cpp
===================================================================
--- vrtrawrasterband.cpp	(revision 24972)
+++ vrtrawrasterband.cpp	(working copy)
@@ -195,14 +195,14 @@
 /* -------------------------------------------------------------------- */
 /*      Try and open the file.  We always use the large file API.       */
 /* -------------------------------------------------------------------- */
-    FILE *fp = CPLOpenShared( pszExpandedFilename, "rb+", TRUE );
+    FILE *fp = (FILE*) VSIFOpenL( pszExpandedFilename, "rb+" );

     if( fp == NULL )
-        fp = CPLOpenShared( pszExpandedFilename, "rb", TRUE );
+        fp = (FILE*) VSIFOpenL( pszExpandedFilename, "rb" );

     if( fp == NULL && ((VRTDataset *)poDS)->GetAccess() == GA_Update )
     {
-        fp = CPLOpenShared( pszExpandedFilename, "wb+", TRUE );
+        fp = (FILE*) VSIFOpenL( pszExpandedFilename, "wb+" );
     }

     if( fp == NULL )
@@ -272,7 +272,7 @@
         /* since data can be flushed in the destructor */
         if( fp != NULL )
         {
-            CPLCloseShared( (FILE*) fp );
+            VSIFCloseL( fp );
         }
     }
     CPLFree( pszSourceFilename );


>
> Also, is there an official list of thread safe drivers? If not could
> someone with the knowledge perhaps update the FAQ to list the 'vetted'
> drivers?

No, there's no such list. And it would be tricky to establish. For example, I
would have sincerely and wrongly put the VRT driver in the vetted list, before
you raised that particular issue...

Best regards,

Even

From even.rouault at mines-paris.org  Wed Oct  3 04:56:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 03 Oct 2012 13:56:59 +0200
Subject: [gdal-dev] write projection to ECW file in Gdal 1.9
In-Reply-To: <1349263979386-5006074.post@n6.nabble.com>
References: <1349263979386-5006074.post@n6.nabble.com>
Message-ID: <1349265419.506c280b1a9b8@imp.free.fr>

Selon netcadturgay <turgay.osna at netcad.com.tr>:

> I use Gdal 1.9 library including ERDAS R-W SDK 4.2 and when I try to write
> projection to ECW file(SetProjection) in update mode, some projections can
> written successfully. But some projections cannot written(cannot update to
> the file). Any solution about this problem?

GDAL doesn't manage always to automatically translate from WKT definition into
ECW 'DATUM' and 'PROJ' concepts.

Quoting http://gdal.org/frmt_ecw.html :

"""
Coordinate system and georeferencing transformations are read, but in some cases
coordinate systems may not translate."
"""

"""
When writing coordinate system information to ECW files, many less common
coordinate systems are not mapped properly. If you know the ECW name for the
coordinate system you can force it to be set at creation time with the PROJ and
DATUM creation options.
""""

""""
ECW metadata domain / Georeferencing update
(Starting with GDAL 1.9.0)

The PROJ, DATUM and UNITS found in the ECW header are reported in the ECW
metadata domain. They can also be set with the SetMetadataItem() method, in
order to update the header information of an existing ECW file, opened in update
mode, without modifying the imagery.

The geotransform and projection can also be modified with the SetGeoTransform()
and SetProjection() methods. If the projection is set with SetProjection() and
the PROJ, DATUM or UNITS with SetMetadataItem(), the later values will override
the values built from the projection string.
"""

So have a look at ecw_cs.wkt in the data directory of GDAL, and find which
values match the best.

My intuition for

PROJCS["(UTM)Universal Transvers Merkator 6?",GEOGCS["EUROPEAN
1950",DATUM["European_Datum_1950",SPHEROID["International",6378388.0,297.0],TOWGS84[-87.0,-98.0,-121.0,0.0,0.0,0.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.01745329],AUTHORITY["EPSG","4230"]],PROJECTION["TRANSVERSE_MERCATOR"],PARAMETER["SCALE_FACTOR",0.9996],PARAMETER["CENTRAL_MERIDIAN",33.0],PARAMETER["LATITUDE_OF_ORIGIN",0.0],PARAMETER["FALSE_EASTING",500000.0],PARAMETER["FALSE_NORTHING",0.0],UNIT["meter",1.0]]

would be to set DATUM to ED50 and PROJ to NUTM36 , but you have to check

From warmerdam at pobox.com  Wed Oct  3 10:34:03 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 3 Oct 2012 10:34:03 -0700
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
Message-ID: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>

Folks,

I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate people
looking it over.  I didn't do any swig or configure regeneration - I'm
not sure if
that is needed or exactly sure where to do it to avoid churn.

  http://download.osgeo.org/gdal/gdal192RC1.zip
  http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz

I'll call for a vote promoting it to final if I don't hear of any
serious problems
today.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From ari.jolma at gmail.com  Wed Oct  3 10:55:13 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed, 03 Oct 2012 20:55:13 +0300
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
Message-ID: <506C7C01.3020805@gmail.com>

On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
> Folks,
>
> I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate people
> looking it over.  I didn't do any swig or configure regeneration - I'm
> not sure if
> that is needed or exactly sure where to do it to avoid churn.
>
>    http://download.osgeo.org/gdal/gdal192RC1.zip
>    http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz
>
> I'll call for a vote promoting it to final if I don't hear of any
> serious problems
> today.

Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to me.

Ari

>
> Best regards,


From mathuin at gmail.com  Wed Oct  3 11:23:35 2012
From: mathuin at gmail.com (John Twilley)
Date: Wed, 3 Oct 2012 11:23:35 -0700
Subject: [gdal-dev] ImportError when importing gdal module with python 2.7
	on Windows 7 64-bit
Message-ID: <CAEUMa-f=VijVn3WdL3vUfVghJybqowH2nv2J-fSyjTWuKKOAJw@mail.gmail.com>

I an running Windows 7 64-bit and have downloaded and installed the
following software:

 * Python 2.7.3 for x64 from http://www.python.org/getit
 * GDAL 1.9 core and bindings for amd64 and py2.7 from
http://www.gisinternals.com/sdk
 * various modules including PyWin32 from
http://www.lfd.uci.edu/~gohlke/pythonlibs/

When I run "python -mgdal" to test importing the gdal module, I get an
traceback.  These are the final lines in the traceback:

File "C:\Python27\lib\site-packages\osgeo\__init__.py", line 17, in
swig_import_helper
_mod = imp.load_module('_gdal', fp, pathname, description)
ImportError: DLL load failed: The specified module could not be found.

gdal19.dll is in C:\Program Files\GDAL for what it's worth.

What do I need to do to make this work?

Thanks in advance!

Jack.
--
mathuin at gmail dot com

From even.rouault at mines-paris.org  Wed Oct  3 11:26:26 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 3 Oct 2012 20:26:26 +0200
Subject: [gdal-dev] ImportError when importing gdal module with python
	2.7 on Windows 7 64-bit
In-Reply-To: <CAEUMa-f=VijVn3WdL3vUfVghJybqowH2nv2J-fSyjTWuKKOAJw@mail.gmail.com>
References: <CAEUMa-f=VijVn3WdL3vUfVghJybqowH2nv2J-fSyjTWuKKOAJw@mail.gmail.com>
Message-ID: <201210032026.26677.even.rouault@mines-paris.org>

Le mercredi 03 octobre 2012 20:23:35, John Twilley a ?crit :
> I an running Windows 7 64-bit and have downloaded and installed the
> following software:
> 
>  * Python 2.7.3 for x64 from http://www.python.org/getit
>  * GDAL 1.9 core and bindings for amd64 and py2.7 from
> http://www.gisinternals.com/sdk
>  * various modules including PyWin32 from
> http://www.lfd.uci.edu/~gohlke/pythonlibs/
> 
> When I run "python -mgdal" to test importing the gdal module, I get an
> traceback.  These are the final lines in the traceback:
> 
> File "C:\Python27\lib\site-packages\osgeo\__init__.py", line 17, in
> swig_import_helper
> _mod = imp.load_module('_gdal', fp, pathname, description)
> ImportError: DLL load failed: The specified module could not be found.
> 
> gdal19.dll is in C:\Program Files\GDAL for what it's worth.
> 
> What do I need to do to make this work?

Make sure that the directory where gdal19.dll is installed is in the PATH.

> 
> Thanks in advance!
> 
> Jack.
> --
> mathuin at gmail dot com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From mathuin at gmail.com  Wed Oct  3 11:33:53 2012
From: mathuin at gmail.com (John Twilley)
Date: Wed, 3 Oct 2012 11:33:53 -0700
Subject: [gdal-dev] ImportError when importing gdal module with python
 2.7 on Windows 7 64-bit
In-Reply-To: <201210032026.26677.even.rouault@mines-paris.org>
References: <CAEUMa-f=VijVn3WdL3vUfVghJybqowH2nv2J-fSyjTWuKKOAJw@mail.gmail.com>
	<201210032026.26677.even.rouault@mines-paris.org>
Message-ID: <CAEUMa-eUEnFMB0MfAm2n6tqsCgxoOKYMw5d6fBfTxptB9ka5Jw@mail.gmail.com>

That solved the problem!  Thanks!

Any chance this can be done automatically for later releases?

Jack.
--
mathuin at gmail dot com


On Wed, Oct 3, 2012 at 11:26 AM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le mercredi 03 octobre 2012 20:23:35, John Twilley a ?crit :
>> I an running Windows 7 64-bit and have downloaded and installed the
>> following software:
>>
>>  * Python 2.7.3 for x64 from http://www.python.org/getit
>>  * GDAL 1.9 core and bindings for amd64 and py2.7 from
>> http://www.gisinternals.com/sdk
>>  * various modules including PyWin32 from
>> http://www.lfd.uci.edu/~gohlke/pythonlibs/
>>
>> When I run "python -mgdal" to test importing the gdal module, I get an
>> traceback.  These are the final lines in the traceback:
>>
>> File "C:\Python27\lib\site-packages\osgeo\__init__.py", line 17, in
>> swig_import_helper
>> _mod = imp.load_module('_gdal', fp, pathname, description)
>> ImportError: DLL load failed: The specified module could not be found.
>>
>> gdal19.dll is in C:\Program Files\GDAL for what it's worth.
>>
>> What do I need to do to make this work?
>
> Make sure that the directory where gdal19.dll is installed is in the PATH.
>
>>
>> Thanks in advance!
>>
>> Jack.
>> --
>> mathuin at gmail dot com
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From roth.luke at gmail.com  Wed Oct  3 11:46:10 2012
From: roth.luke at gmail.com (Luke Roth)
Date: Wed, 3 Oct 2012 14:46:10 -0400
Subject: [gdal-dev] GDAL Bindings for Go
Message-ID: <CAJ-aobce5MW385-WAKFoo-3e761mmPc7m157opWW0WVqKoN0-g@mail.gmail.com>

For any who are interested, I've published a (incomplete, but growing)
set of GDAL bindings for the Go language at
https://github.com/lukeroth/gdal.go .
The bindings cover most of the GDAL C API, the OGR C API is next.
More details are available at the Github page.  Let me know if you
find them useful!
Luke

From msiljegovic at gmail.com  Wed Oct  3 12:03:27 2012
From: msiljegovic at gmail.com (mighty_duck)
Date: Wed, 3 Oct 2012 12:03:27 -0700 (PDT)
Subject: [gdal-dev] How to add alpha channel to tiff image - C++ code
Message-ID: <1349291007365-5006218.post@n6.nabble.com>

Hi all,

I  have the following code:

bool grImageWarper::createDstRaster(const std::string &output,
                                    GDALDatasetH hSrcDS,
                                    GDALDatasetH &hDstDS,
                                    int resX,
                                    int resY,
                                    double *dGeoRefTransform,
                                    bool zeroAsTransparent,
                                    const std::string &compression,
                                    const std::string &projection)
{
    GDALDriverH driver = GDALGetDriverByName("GTiff");

	CPLSetConfigOption("GDAL_TIFF_INTERNAL_MASK", "YES");
	CPLSetConfigOption("PROFILE", "GeoTIFF");

    if (driver == NULL)
    {
        return(false);
    }
    char **compressOption = NULL;
    compressOption = CSLSetNameValue(compressOption, "COMPRESS",
compression.c_str());
    hDstDS = GDALCreate(driver, output.c_str(), resX, resY,
                        GDALGetRasterCount(hSrcDS),
GDALGetRasterDataType(GDALGetRasterBand(hSrcDS, 1)),
                        compressOption);
    if (hDstDS == NULL)
    {
        return(false);
    }

    if (CE_None != GDALSetGeoTransform(hDstDS, dGeoRefTransform))
    {
        return(false);
    }

    if (!projection.empty())
    {
        OGRSpatialReference targetSR;
        if (strStartsWith(projection, "EPSG", CASE_INSENSITIVE))
        {
            std::string epsg = projection.substr(projection.find(":") + 1);
            targetSR.importFromEPSG(simpleLexicalCast<int>(epsg));
        }
        else
        {
            targetSR.importFromProj4(projection.c_str());
        }

        char *wkt = NULL;
        OGRErr err = targetSR.exportToWkt(&wkt);
        if (err != CE_None || GDALSetProjection(hDstDS, wkt) != CE_None)
        {
            OGRFree(wkt);
            return(false);
        }
        OGRFree(wkt);
    }

    for (int i = 0; i < GDALGetRasterCount(hSrcDS); ++i)
    {
        GDALRasterBandH hSrcBand = GDALGetRasterBand(hSrcDS, i + 1);
        GDALRasterBandH hDstBand = GDALGetRasterBand(hDstDS, i + 1);

        GDALColorTableH cTable = GDALGetRasterColorTable(hSrcBand);
		GDALSetRasterColorInterpretation(hDstBand, GCI_AlphaBand);
        if (cTable)
        {
            GDALSetRasterColorTable(hDstBand, cTable);
        }

        int success;
        double noData = GDALGetRasterNoDataValue(hSrcBand, &success);
		 std::cout << noData << std::endl;
        if (success)
        {
            GDALSetRasterNoDataValue(hDstBand, noData);
        }
        else if (zeroAsTransparent)
        {
            GDALSetRasterNoDataValue(hDstBand, 0);
        }
    }

    return(true);
}

This could produce output tiff raster file. However, I'm unable to add alpha
channel to it. 

Do you know how I could achieve it, I tried several options with
CreateMaskBand, setting 

CPLSetConfigOption("GDAL_TIFF_INTERNAL_MASK", "YES");
	CPLSetConfigOption("PROFILE", "GeoTIFF");

but without success!!!!

Thanks in advance...



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/How-to-add-alpha-channel-to-tiff-image-C-code-tp5006218.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From dzwarg+gdal at azavea.com  Wed Oct  3 12:10:09 2012
From: dzwarg+gdal at azavea.com (David Zwarg)
Date: Wed, 3 Oct 2012 15:10:09 -0400
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <506C7C01.3020805@gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<506C7C01.3020805@gmail.com>
Message-ID: <CANSnHN2OtKAJTeP7TxyP7PadsM4DzE_ow7svKH=niJyGux5qZw@mail.gmail.com>

Hello Frank,

Is it possible to get the ARG drivers into 1.9.2? I had performed the work
on trunk, assuming it would get pulled into the next release. Is there
something I missed?

Thanks,
David

On Wed, Oct 3, 2012 at 1:55 PM, Ari Jolma <ari.jolma at gmail.com> wrote:

> On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
>
>> Folks,
>>
>> I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate people
>> looking it over.  I didn't do any swig or configure regeneration - I'm
>> not sure if
>> that is needed or exactly sure where to do it to avoid churn.
>>
>>    http://download.osgeo.org/**gdal/gdal192RC1.zip<http://download.osgeo.org/gdal/gdal192RC1.zip>
>>    http://download.osgeo.org/**gdal/gdal-1.9.2RC1.tar.gz<http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz>
>>
>> I'll call for a vote promoting it to final if I don't hear of any
>> serious problems
>> today.
>>
>
> Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to me.
>
> Ari
>
>
>> Best regards,
>>
>
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/b6058f7f/attachment.html>

From even.rouault at mines-paris.org  Wed Oct  3 12:10:20 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 3 Oct 2012 21:10:20 +0200
Subject: [gdal-dev] How to add alpha channel to tiff image - C++ code
In-Reply-To: <1349291007365-5006218.post@n6.nabble.com>
References: <1349291007365-5006218.post@n6.nabble.com>
Message-ID: <201210032110.20582.even.rouault@mines-paris.org>

Le mercredi 03 octobre 2012 21:03:27, mighty_duck a ?crit :
> Hi all,
> 
> I  have the following code:
> 
> bool grImageWarper::createDstRaster(const std::string &output,
>                                     GDALDatasetH hSrcDS,
>                                     GDALDatasetH &hDstDS,
>                                     int resX,
>                                     int resY,
>                                     double *dGeoRefTransform,
>                                     bool zeroAsTransparent,
>                                     const std::string &compression,
>                                     const std::string &projection)
> {
>     GDALDriverH driver = GDALGetDriverByName("GTiff");
> 
> 	CPLSetConfigOption("GDAL_TIFF_INTERNAL_MASK", "YES");
> 	CPLSetConfigOption("PROFILE", "GeoTIFF");
> 
>     if (driver == NULL)
>     {
>         return(false);
>     }
>     char **compressOption = NULL;
>     compressOption = CSLSetNameValue(compressOption, "COMPRESS",
> compression.c_str());
>     hDstDS = GDALCreate(driver, output.c_str(), resX, resY,
>                         GDALGetRasterCount(hSrcDS),
> GDALGetRasterDataType(GDALGetRasterBand(hSrcDS, 1)),
>                         compressOption);
>     if (hDstDS == NULL)
>     {
>         return(false);
>     }
> 
>     if (CE_None != GDALSetGeoTransform(hDstDS, dGeoRefTransform))
>     {
>         return(false);
>     }
> 
>     if (!projection.empty())
>     {
>         OGRSpatialReference targetSR;
>         if (strStartsWith(projection, "EPSG", CASE_INSENSITIVE))
>         {
>             std::string epsg = projection.substr(projection.find(":") + 1);
>             targetSR.importFromEPSG(simpleLexicalCast<int>(epsg));
>         }
>         else
>         {
>             targetSR.importFromProj4(projection.c_str());
>         }
> 
>         char *wkt = NULL;
>         OGRErr err = targetSR.exportToWkt(&wkt);
>         if (err != CE_None || GDALSetProjection(hDstDS, wkt) != CE_None)
>         {
>             OGRFree(wkt);
>             return(false);
>         }
>         OGRFree(wkt);
>     }
> 
>     for (int i = 0; i < GDALGetRasterCount(hSrcDS); ++i)
>     {
>         GDALRasterBandH hSrcBand = GDALGetRasterBand(hSrcDS, i + 1);
>         GDALRasterBandH hDstBand = GDALGetRasterBand(hDstDS, i + 1);
> 
>         GDALColorTableH cTable = GDALGetRasterColorTable(hSrcBand);
> 		GDALSetRasterColorInterpretation(hDstBand, GCI_AlphaBand);
>         if (cTable)
>         {
>             GDALSetRasterColorTable(hDstBand, cTable);
>         }
> 
>         int success;
>         double noData = GDALGetRasterNoDataValue(hSrcBand, &success);
> 		 std::cout << noData << std::endl;
>         if (success)
>         {
>             GDALSetRasterNoDataValue(hDstBand, noData);
>         }
>         else if (zeroAsTransparent)
>         {
>             GDALSetRasterNoDataValue(hDstBand, 0);
>         }
>     }
> 
>     return(true);
> }
> 
> This could produce output tiff raster file. However, I'm unable to add
> alpha channel to it.
> 
> Do you know how I could achieve it, I tried several options with
> CreateMaskBand, setting
> 
> CPLSetConfigOption("GDAL_TIFF_INTERNAL_MASK", "YES");
> 	CPLSetConfigOption("PROFILE", "GeoTIFF");
> 
> but without success!!!!

CreateMaskBand() creates a mask band, which is a different (but close) concept 
with alpha band. For a RGB image, if you want an alpha channel, you need to 
specify 4 as the band count for GDALCreate(). The alpha band will be the 4th 
one. If you use a alpha band, don't set a no data value on the other bands. 
Only edit the alpha band.

From lhomme.xavier at gmail.com  Wed Oct  3 12:14:43 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Wed, 3 Oct 2012 21:14:43 +0200
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <506C7C01.3020805@gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<506C7C01.3020805@gmail.com>
Message-ID: <CACqzBMxG4q7s7g49VsMxsYEJdZbV-hZafKR1Gy_tpNXPiYCS_g@mail.gmail.com>

Hi

I'm not familiar with the revision  process. I just checked this release
candidate but it does not take into accounts the latest version of the WFS
driver which has corrected ??this summer by Even (Escaping function).
I've patched my 1.9.1 with the latest revision of the WFS driver and it
works fine for me.
Is it possible to integrate the last source code of the WFS driver into the
1.9.2 release ?

Thanks in advance.

2012/10/3 Ari Jolma <ari.jolma at gmail.com>

> On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
>
>> Folks,
>>
>> I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate people
>> looking it over.  I didn't do any swig or configure regeneration - I'm
>> not sure if
>> that is needed or exactly sure where to do it to avoid churn.
>>
>>    http://download.osgeo.org/**gdal/gdal192RC1.zip<http://download.osgeo.org/gdal/gdal192RC1.zip>
>>    http://download.osgeo.org/**gdal/gdal-1.9.2RC1.tar.gz<http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz>
>>
>> I'll call for a vote promoting it to final if I don't hear of any
>> serious problems
>> today.
>>
>
> Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to me.
>
> Ari
>
>
>> Best regards,
>>
>
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/dde36409/attachment.html>

From warmerdam at pobox.com  Wed Oct  3 12:22:14 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 3 Oct 2012 12:22:14 -0700
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <CANSnHN2OtKAJTeP7TxyP7PadsM4DzE_ow7svKH=niJyGux5qZw@mail.gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<506C7C01.3020805@gmail.com>
	<CANSnHN2OtKAJTeP7TxyP7PadsM4DzE_ow7svKH=niJyGux5qZw@mail.gmail.com>
Message-ID: <CA+YzLBf+qUf49hxGH=ANHQJ74HPPNXnJ_bVK_d86QoMhQU-PTw@mail.gmail.com>

David,

This is intended to be a bug fix release, and we don't by default back
port new developments unless the value is high and the risk is very
low.  If you want it to go out in future point releases you would need
to add it in the branches/1.9 tree.

Peeking at the ARG driver I notice it references a
frmt_various.html#ARG help topic which does not seem to exist.

Best regards,
Frank

On Wed, Oct 3, 2012 at 12:10 PM, David Zwarg <dzwarg+gdal at azavea.com> wrote:
> Hello Frank,
>
> Is it possible to get the ARG drivers into 1.9.2? I had performed the work
> on trunk, assuming it would get pulled into the next release. Is there
> something I missed?
>
> Thanks,
> David
>
>
> On Wed, Oct 3, 2012 at 1:55 PM, Ari Jolma <ari.jolma at gmail.com> wrote:
>>
>> On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
>>>
>>> Folks,
>>>
>>> I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate
>>> people
>>> looking it over.  I didn't do any swig or configure regeneration - I'm
>>> not sure if
>>> that is needed or exactly sure where to do it to avoid churn.
>>>
>>>    http://download.osgeo.org/gdal/gdal192RC1.zip
>>>    http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz
>>>
>>> I'll call for a vote promoting it to final if I don't hear of any
>>> serious problems
>>> today.
>>
>>
>> Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to me.
>>
>> Ari
>>
>>>
>>> Best regards,
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From warmerdam at pobox.com  Wed Oct  3 12:24:06 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 3 Oct 2012 12:24:06 -0700
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <CACqzBMxG4q7s7g49VsMxsYEJdZbV-hZafKR1Gy_tpNXPiYCS_g@mail.gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<506C7C01.3020805@gmail.com>
	<CACqzBMxG4q7s7g49VsMxsYEJdZbV-hZafKR1Gy_tpNXPiYCS_g@mail.gmail.com>
Message-ID: <CA+YzLBf9=iV7DhDNbyY4j-5gggzs4GMJLiZ7HCg2ngxJEkbA4g@mail.gmail.com>

Xavier,

Even has back ported some WFS fixes.  I'm not clear if the recent work
was considered a new feature and thus not appropriate to back port, he
just omitted it or if he hadn't gotten to back porting yet.

I'm hesitant to just drop the whole current development version of the
WFS driver into the 1.9 tree without Even thinking about the
implications.

Keep in mind that it is important bug fix releases do not have
regressions even if they lack some improvements and fixes.

Best regards,
Frank

On Wed, Oct 3, 2012 at 12:14 PM, xavier lhomme <lhomme.xavier at gmail.com> wrote:
> Hi
>
> I'm not familiar with the revision  process. I just checked this release
> candidate but it does not take into accounts the latest version of the WFS
> driver which has corrected this summer by Even (Escaping function).
> I've patched my 1.9.1 with the latest revision of the WFS driver and it
> works fine for me.
> Is it possible to integrate the last source code of the WFS driver into the
> 1.9.2 release ?
>
> Thanks in advance.
>
>
> 2012/10/3 Ari Jolma <ari.jolma at gmail.com>
>>
>> On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
>>>
>>> Folks,
>>>
>>> I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate
>>> people
>>> looking it over.  I didn't do any swig or configure regeneration - I'm
>>> not sure if
>>> that is needed or exactly sure where to do it to avoid churn.
>>>
>>>    http://download.osgeo.org/gdal/gdal192RC1.zip
>>>    http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz
>>>
>>> I'll call for a vote promoting it to final if I don't hear of any
>>> serious problems
>>> today.
>>
>>
>> Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to me.
>>
>> Ari
>>
>>>
>>> Best regards,
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From even.rouault at mines-paris.org  Wed Oct  3 12:30:23 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 3 Oct 2012 21:30:23 +0200
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <CA+YzLBf9=iV7DhDNbyY4j-5gggzs4GMJLiZ7HCg2ngxJEkbA4g@mail.gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<CACqzBMxG4q7s7g49VsMxsYEJdZbV-hZafKR1Gy_tpNXPiYCS_g@mail.gmail.com>
	<CA+YzLBf9=iV7DhDNbyY4j-5gggzs4GMJLiZ7HCg2ngxJEkbA4g@mail.gmail.com>
Message-ID: <201210032130.23053.even.rouault@mines-paris.org>

Le mercredi 03 octobre 2012 21:24:06, Frank Warmerdam a ?crit :
> Xavier,
> 
> Even has back ported some WFS fixes.  I'm not clear if the recent work
> was considered a new feature and thus not appropriate to back port, he
> just omitted it or if he hadn't gotten to back porting yet.
> 
> I'm hesitant to just drop the whole current development version of the
> WFS driver into the 1.9 tree without Even thinking about the
> implications.
> 
> Keep in mind that it is important bug fix releases do not have
> regressions even if they lack some improvements and fixes.

I think Xavier is refering to http://trac.osgeo.org/gdal/changeset/24791 which 
I have indeed not backported to 1.9 branch. It is a bug fix, but also quite an 
extensive change in the driver, and has some regression potential. Indeed I 
had to fix it a bit later in http://trac.osgeo.org/gdal/changeset/24887 . As it 
only covers marginal use cases (*) where special characters are used, I didn't 
feel like backporting it.

Even

(*) at least, to my eyes. Of course people who hit the bug will have a 
different opinion...

From pat at intrepidgeo.com  Wed Oct  3 12:38:34 2012
From: pat at intrepidgeo.com (Patrick McConnell)
Date: Wed, 3 Oct 2012 13:38:34 -0600
Subject: [gdal-dev] opevEV
Message-ID: <00e501cda19e$ad9302d0$08b90870$@intrepidgeo.com>



Hi!

 

I thought it might be appropriate to share the openEV info to the gdal list
as well since a lot of why openEV was successful was because of solid
foundation tools like gdal.

 

UPDATE

 

I have been shown a couple of new developments using openEV that I plan to
reintegrate into the old source tree.  Check this out and let me know what
you think.  A big shout out to Gary Gellar's team at NASA JPL.  Really nice
work here.  For the GDAL group please subscribe to the openEV discuss list
for more information on this project.

 

http://terralook.cr.usgs.gov/

 

 

Regards,

 

Pat

 

Patrick McConnell

Managing Partner

Intrepid Geomatics LLC

www.intrepidgeo.com <http://www.intrepidgeo.com/>  

+1.303.819.2572 (M)

+1. 303.625.1524 (O)

 

NOTICE: This message is covered by the Electronic Communications Privacy
Act, Title 18, United States Code, Sections 2510-2521. This e-mail and any
attached files are the exclusive property of Intrepid Geomatics LLC are
deemed privileged and confidential, and are intended solely for the use of
the individual(s) or entity to whom this e-mail is addressed. If you are not
one of the named recipient(s) or believe that you have received this message
in error, please delete this e-mail and any attachments and notify the
sender immediately. Any other use, re-creation, dissemination, forwarding or
copying of this e-mail is strictly prohibited.

Description: Description: eco

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/047e07d0/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.gif
Type: image/gif
Size: 7912 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/047e07d0/attachment.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.gif
Type: image/gif
Size: 566 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121003/047e07d0/attachment-0001.gif>

From msiljegovic at gmail.com  Wed Oct  3 12:39:09 2012
From: msiljegovic at gmail.com (mighty_duck)
Date: Wed, 3 Oct 2012 12:39:09 -0700 (PDT)
Subject: [gdal-dev] How to add alpha channel to tiff image - C++ code
In-Reply-To: <201210032110.20582.even.rouault@mines-paris.org>
References: <1349291007365-5006218.post@n6.nabble.com>
	<201210032110.20582.even.rouault@mines-paris.org>
Message-ID: <1349293149126-5006224.post@n6.nabble.com>

Hi Even,

thanks for your quick reply and explanation. I would kindly ask you for more
help, since I'm just trying to adapt this code quickly while still learning
all those concepts...

If I understood you well, those are changes:

hDstDS = GDALCreate(driver, output.c_str(), resX, resY,
                        4, GDALGetRasterDataType(GDALGetRasterBand(hSrcDS,
1)),
                        compressOption);

for (int i = 0; i < GDALGetRasterCount(hSrcDS); ++i)
    {
        GDALRasterBandH hSrcBand = GDALGetRasterBand(hSrcDS, i + 1);
        GDALRasterBandH hDstBand = GDALGetRasterBand(hDstDS, i + 1);

        GDALColorTableH cTable = GDALGetRasterColorTable(hSrcBand);
		GDALSetRasterColorInterpretation(hDstBand,
GDALGetRasterColorInterpretation(hSrcBand));
        if (cTable)
        {
            GDALSetRasterColorTable(hDstBand, cTable);
        }

        *//remove code below????*
        int success;
        double noData = GDALGetRasterNoDataValue(hSrcBand, &success);

        if (success)
        {
            
            GDALSetRasterNoDataValue(hDstBand, noData);
        }
        else if (zeroAsTransparent)
        {
            GDALSetRasterNoDataValue(hDstBand, 0);
        }
    }

//edit only alpha channel here...if so what do you mean by that, what
methods to use??

Thanks for understanding.




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/How-to-add-alpha-channel-to-tiff-image-C-code-tp5006218p5006224.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From dmorissette at mapgears.com  Wed Oct  3 12:38:12 2012
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed, 03 Oct 2012 15:38:12 -0400
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <506C7C01.3020805@gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<506C7C01.3020805@gmail.com>
Message-ID: <506C9424.5040404@mapgears.com>

On 12-10-03 1:55 PM, Ari Jolma wrote:
> On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
>>
>>    http://download.osgeo.org/gdal/gdal192RC1.zip
>>    http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz
>>
>> I'll call for a vote promoting it to final if I don't hear of any
>> serious problems
>> today.
>
> Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to me.
>

Same here. Looks good after a quick build and some quick tests on OSX.

-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000


From even.rouault at mines-paris.org  Wed Oct  3 12:56:28 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 3 Oct 2012 21:56:28 +0200
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
Message-ID: <201210032156.28394.even.rouault@mines-paris.org>

Le mercredi 03 octobre 2012 19:34:03, Frank Warmerdam a ?crit :
> Folks,
> 
> I have prepared a GDAL/OGR 1.9.2 release candidate.  I'd appreciate people
> looking it over.  I didn't do any swig or configure regeneration - I'm
> not sure if
> that is needed or exactly sure where to do it to avoid churn.
> 
>   http://download.osgeo.org/gdal/gdal192RC1.zip
>   http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz
> 
> I'll call for a vote promoting it to final if I don't hear of any
> serious problems
> today.

According to HOWTO-RELEASE, I believe that GDALmake.opt.in should have been 
bumped to LIBGDAL_REVISION        :=      2 since GDAL 1.9.1 has  
LIBGDAL_REVISION = 1

Otherwise, that looks good. Autotests pass fine with MSVC 2008 32bit and on 
Ubuntu 10.04 64bit.

> 
> Best regards,

From warmerdam at pobox.com  Wed Oct  3 12:58:21 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 3 Oct 2012 12:58:21 -0700
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <201210032156.28394.even.rouault@mines-paris.org>
References: <CA+YzLBfMZTy2FskK1A3uWB4WiHfhnr=2V8E2qwkoYkntT9y8LQ@mail.gmail.com>
	<201210032156.28394.even.rouault@mines-paris.org>
Message-ID: <CA+YzLBdmrOzVHF=DHYzYJtS=Fe8JFi-52j01D7ULd50qvRqR+w@mail.gmail.com>

On Wed, Oct 3, 2012 at 12:56 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> According to HOWTO-RELEASE, I believe that GDALmake.opt.in should have been
> bumped to LIBGDAL_REVISION        :=      2 since GDAL 1.9.1 has
> LIBGDAL_REVISION = 1

Doh!  I just realized I made that change in GDALmake.opt, instead of
GDALmake.opt.in.

I think I'll prepare a new RC tomorrow.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From msiljegovic at gmail.com  Wed Oct  3 13:11:43 2012
From: msiljegovic at gmail.com (mighty_duck)
Date: Wed, 3 Oct 2012 13:11:43 -0700 (PDT)
Subject: [gdal-dev] How to add alpha channel to tiff image - C++ code
In-Reply-To: <201210032110.20582.even.rouault@mines-paris.org>
References: <1349291007365-5006218.post@n6.nabble.com>
	<201210032110.20582.even.rouault@mines-paris.org>
Message-ID: <1349295103673-5006225.post@n6.nabble.com>

Hi Even,

thanks for your quick reply and explanation. I would kindly ask you for more
help, since I'm just trying to adapt this code quickly while still learning
all those concepts...

If I understood you well, those are changes:

hDstDS = GDALCreate(driver, output.c_str(), resX, resY,
                        4, GDALGetRasterDataType(GDALGetRasterBand(hSrcDS,
1)),
                        compressOption);

for (int i = 0; i < GDALGetRasterCount(hSrcDS); ++i)
    {
        GDALRasterBandH hSrcBand = GDALGetRasterBand(hSrcDS, i + 1);
        GDALRasterBandH hDstBand = GDALGetRasterBand(hDstDS, i + 1);

        GDALColorTableH cTable = GDALGetRasterColorTable(hSrcBand);
                GDALSetRasterColorInterpretation(hDstBand,
GDALGetRasterColorInterpretation(hSrcBand));
        if (cTable)
        {
            GDALSetRasterColorTable(hDstBand, cTable);
        }

        //remove code below????

        int success;
        double noData = GDALGetRasterNoDataValue(hSrcBand, &success);

        if (success)
        {
           
            GDALSetRasterNoDataValue(hDstBand, noData);
        }
        else if (zeroAsTransparent)
        {
            GDALSetRasterNoDataValue(hDstBand, 0);
        }
    }

//edit only alpha channel here...if so what do you mean by that, what
methods to use??

Thanks for understanding. 



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/How-to-add-alpha-channel-to-tiff-image-C-code-tp5006218p5006225.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Wed Oct  3 14:52:03 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 3 Oct 2012 23:52:03 +0200
Subject: [gdal-dev] GDAL thread safety
In-Reply-To: <1349264684.506c252ccb607@imp.free.fr>
References: <CAPDEroXdpD_OgYPnViwsOjv7j0MJVPSgy4sMYA3=fCjnCmAGhg@mail.gmail.com>
	<1349264684.506c252ccb607@imp.free.fr>
Message-ID: <201210032352.04094.even.rouault@mines-paris.org>

> The proper
> solution would be to fix CPLOpenShared() to be more thread-friendly (that
> is to say to return different file handles if called with the same
> filename from different threads)
> 

Should be fixed by ticket http://trac.osgeo.org/gdal/ticket/4848 that should go 
into GDAL 1.9.2RC2. I didn't test your scenario but anyway CPLOpenShared() was 
the likely cause.

From even.rouault at mines-paris.org  Wed Oct  3 15:02:09 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 4 Oct 2012 00:02:09 +0200
Subject: [gdal-dev] GDAL Bindings for Go
In-Reply-To: <CAJ-aobce5MW385-WAKFoo-3e761mmPc7m157opWW0WVqKoN0-g@mail.gmail.com>
References: <CAJ-aobce5MW385-WAKFoo-3e761mmPc7m157opWW0WVqKoN0-g@mail.gmail.com>
Message-ID: <201210040002.09175.even.rouault@mines-paris.org>

Le mercredi 03 octobre 2012 20:46:10, Luke Roth a ?crit :
> For any who are interested, I've published a (incomplete, but growing)
> set of GDAL bindings for the Go language at
> https://github.com/lukeroth/gdal.go .
> The bindings cover most of the GDAL C API, the OGR C API is next.
> More details are available at the Github page.  Let me know if you
> find them useful!

The majority of GDAL bindings (Perl, Python, Java, C# at least) are generated 
by using SWIG bindings ( see swig/include in GDAL source tree ). Looking 
quickly at http://www.swig.org/Doc2.0/Go.html , it seems you could possibly 
have used it instead of writing from scratch. But I've never used Go, nor the 
SWIG Go generator, so just take it as a hint, not an enlightened advice based 
on experience.

Anyway, you could create a page to advertise your Go bindings in GDAL Trac ( 
http://trac.osgeo.org/gdal/wiki/GdalOgrInGo for example ) and make a link to 
it from the "GDAL/OGR In Other Languages" section of the main Trac page ( 
http://trac.osgeo.org/gdal/wiki )

> Luke
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From sleepingwell at gmail.com  Wed Oct  3 17:06:05 2012
From: sleepingwell at gmail.com (Simon Knapp)
Date: Thu, 4 Oct 2012 10:06:05 +1000
Subject: [gdal-dev] Having difficulties using gdalwarp
Message-ID: <CAA+5f=1pmCTnt15cj+ba5qQuVg+qWnJBAPNUJV9LoQ1jkc4upA@mail.gmail.com>

Hi List,

This is my first post here so please let me know if my question would
be better placed elsewhere. I am struggling with re-projecting integer
grids using gdalwarp and would appreciate some help.

I have two grids containing land use data at different scales:

grid 1) a 50m (esri binary) grid in albers,
grid 2) a 1km (ascii) grid in geographics.

I would like to project these to a common coordinate system with
resolution corresponding to grid 1 so I can perform cross tabulations
and alike. I have tried going in both directions

The calls I have tried are:



call 1) re-project and re-sample grid 2 to the same projection as grid
1. I have obtained the parameters from the property pages of grid 1 in
QGIS:

gdalwarp ^
-t_srs "+proj=aea +lat_1=-18 +lat_2=-36 +lat_0=0 +lon_0=132 +x_0=0
+y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs" ^
-te -1888000 -4847000 2122000 -1010000 ^
-tr 50 -50 ^
-dstnodata -32768 ^
nlum.asc nlum_warped.tif


call 2) re-project grid 1 to have the same projection as grid 2. Here
I have not specified the resolution and was planning to also re-sample
grid 2 to the resolution of the result. I get the parameters from the
QGIS property pages of grid 2:

gdalwarp ^
-t_srs "+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs" ^
-te 112.505 -44.0055 154.005 -9.995 ^
-dstnodata -32768 ^
clumfill clum_warped.tif



In the first call I get 24Gb of complete rubbish. When I open the
result in QGIS noting is shown (visually) and the cell values contain
what appears to be uninitialised junk.

In the second call, I get a grid that looks similar to what I want,
but the cell value ranges are different ([100, 663] in the input and
[0, 663] in the result) and the histograms are different. I thought
that by (implicitly) choosing nearest neighbour the values in the
output must be a subset of those in the input.

Can anyone suggest what might be going wrong?



Thanks in advance,
Simon Knapp

From warmerdam at pobox.com  Wed Oct  3 17:12:40 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 3 Oct 2012 17:12:40 -0700
Subject: [gdal-dev] Having difficulties using gdalwarp
In-Reply-To: <CAA+5f=1pmCTnt15cj+ba5qQuVg+qWnJBAPNUJV9LoQ1jkc4upA@mail.gmail.com>
References: <CAA+5f=1pmCTnt15cj+ba5qQuVg+qWnJBAPNUJV9LoQ1jkc4upA@mail.gmail.com>
Message-ID: <CA+YzLBckyQsnt5FV1d=c7z=Ovftvh5hh9EtKonc_acjUTvzYtg@mail.gmail.com>

On Wed, Oct 3, 2012 at 5:06 PM, Simon Knapp <sleepingwell at gmail.com> wrote:
> Hi List,
>
> This is my first post here so please let me know if my question would
> be better placed elsewhere.

Simon,

This is a good place for the question.

> I am struggling with re-projecting integer
> grids using gdalwarp and would appreciate some help.
>
> I have two grids containing land use data at different scales:
>
> grid 1) a 50m (esri binary) grid in albers,
> grid 2) a 1km (ascii) grid in geographics.
>
> I would like to project these to a common coordinate system with
> resolution corresponding to grid 1 so I can perform cross tabulations
> and alike. I have tried going in both directions
>
> The calls I have tried are:
>
>
>
> call 1) re-project and re-sample grid 2 to the same projection as grid
> 1. I have obtained the parameters from the property pages of grid 1 in
> QGIS:
>
> gdalwarp ^
> -t_srs "+proj=aea +lat_1=-18 +lat_2=-36 +lat_0=0 +lon_0=132 +x_0=0
> +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs" ^
> -te -1888000 -4847000 2122000 -1010000 ^
> -tr 50 -50 ^
> -dstnodata -32768 ^
> nlum.asc nlum_warped.tif
>
>
> call 2) re-project grid 1 to have the same projection as grid 2. Here
> I have not specified the resolution and was planning to also re-sample
> grid 2 to the resolution of the result. I get the parameters from the
> QGIS property pages of grid 2:
>
> gdalwarp ^
> -t_srs "+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs" ^
> -te 112.505 -44.0055 154.005 -9.995 ^
> -dstnodata -32768 ^
> clumfill clum_warped.tif
>
>
>
> In the first call I get 24Gb of complete rubbish. When I open the
> result in QGIS noting is shown (visually) and the cell values contain
> what appears to be uninitialised junk.
>
> In the second call, I get a grid that looks similar to what I want,
> but the cell value ranges are different ([100, 663] in the input and
> [0, 663] in the result) and the histograms are different. I thought
> that by (implicitly) choosing nearest neighbour the values in the
> output must be a subset of those in the input.
>
> Can anyone suggest what might be going wrong?

In the second case, I imagine the zeros represent
nodata pixels - that is pixels for which there was no source data
due to the change of coordinate system.

It is hard to know what went wrong in the first case.  Is
the source file small enough that you could make it available
for me to test with?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From hsumanto at vpac.org  Wed Oct  3 17:54:56 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Thu, 4 Oct 2012 10:54:56 +1000 (EST)
Subject: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
In-Reply-To: <506C7C01.3020805@gmail.com>
Message-ID: <2075472517.5312.1349312096121.JavaMail.root@mail>

Built OK on CentOS 6.3
and not experiencing the issue of 
GDAL / Java bindings : undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1 which I previously encountered when building gdal trunk
(For more details, refer http://www.mail-archive.com/gdal-dev at lists.osgeo.org/msg16304.html )

Hendy

----- Original Message -----
> From: "Ari Jolma" <ari.jolma at gmail.com>
> To: gdal-dev at lists.osgeo.org
> Sent: Thursday, 4 October, 2012 3:55:13 AM
> Subject: Re: [gdal-dev] GDAL/OGR 1.9.2RC1 Available for Review
> On 10/03/2012 08:34 PM, Frank Warmerdam wrote:
> > Folks,
> >
> > I have prepared a GDAL/OGR 1.9.2 release candidate. I'd appreciate
> > people
> > looking it over. I didn't do any swig or configure regeneration -
> > I'm
> > not sure if
> > that is needed or exactly sure where to do it to avoid churn.
> >
> >    http://download.osgeo.org/gdal/gdal192RC1.zip
> >    http://download.osgeo.org/gdal/gdal-1.9.2RC1.tar.gz
> >
> > I'll call for a vote promoting it to final if I don't hear of any
> > serious problems
> > today.
> 
> Looks (configures, compiles and runs Perl tests on Ubuntu 10.04) ok to
> me.
> 
> Ari
> 
> >
> > Best regards,
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From sleepingwell at gmail.com  Wed Oct  3 18:07:43 2012
From: sleepingwell at gmail.com (Simon Knapp)
Date: Thu, 4 Oct 2012 11:07:43 +1000
Subject: [gdal-dev] Having difficulties using gdalwarp
In-Reply-To: <CA+YzLBckyQsnt5FV1d=c7z=Ovftvh5hh9EtKonc_acjUTvzYtg@mail.gmail.com>
References: <CAA+5f=1pmCTnt15cj+ba5qQuVg+qWnJBAPNUJV9LoQ1jkc4upA@mail.gmail.com>
	<CA+YzLBckyQsnt5FV1d=c7z=Ovftvh5hh9EtKonc_acjUTvzYtg@mail.gmail.com>
Message-ID: <CAA+5f=3Q9You1CsbGuunaK7=bM5+zHk9Tz4HE+pPpLtNM3iHsw@mail.gmail.com>

Hi Frank,

Thanks for the amazingly quick response!

You can access the files at:
https://www.dropbox.com/sh/f326gvclu5f1qjm/GNvp2mZLbU

I was waiting to send this response until the files had finished
uploading (280Mb in total), but I have to pop out for a few hours and
they have not yet finished. If you are going to look at them I would
leave it for a half hour or so (based on the time it has taken so far)
to give them a chance to finish.

The only difference in structure is that the directory referred to as
'clum' is actually 'clumfill_0310. The batch file "warp.bat" contains
the calls I use.

I have also put the input and output histograms (from QGIS) in that
folder (input_hist.bmp and output_hist.bmp) for your convenience.

Thanks again,
Simon

On Thu, Oct 4, 2012 at 10:12 AM, Frank Warmerdam <warmerdam at pobox.com> wrote:
> On Wed, Oct 3, 2012 at 5:06 PM, Simon Knapp <sleepingwell at gmail.com> wrote:
>> Hi List,
>>
>> This is my first post here so please let me know if my question would
>> be better placed elsewhere.
>
> Simon,
>
> This is a good place for the question.
>
>> I am struggling with re-projecting integer
>> grids using gdalwarp and would appreciate some help.
>>
>> I have two grids containing land use data at different scales:
>>
>> grid 1) a 50m (esri binary) grid in albers,
>> grid 2) a 1km (ascii) grid in geographics.
>>
>> I would like to project these to a common coordinate system with
>> resolution corresponding to grid 1 so I can perform cross tabulations
>> and alike. I have tried going in both directions
>>
>> The calls I have tried are:
>>
>>
>>
>> call 1) re-project and re-sample grid 2 to the same projection as grid
>> 1. I have obtained the parameters from the property pages of grid 1 in
>> QGIS:
>>
>> gdalwarp ^
>> -t_srs "+proj=aea +lat_1=-18 +lat_2=-36 +lat_0=0 +lon_0=132 +x_0=0
>> +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs" ^
>> -te -1888000 -4847000 2122000 -1010000 ^
>> -tr 50 -50 ^
>> -dstnodata -32768 ^
>> nlum.asc nlum_warped.tif
>>
>>
>> call 2) re-project grid 1 to have the same projection as grid 2. Here
>> I have not specified the resolution and was planning to also re-sample
>> grid 2 to the resolution of the result. I get the parameters from the
>> QGIS property pages of grid 2:
>>
>> gdalwarp ^
>> -t_srs "+proj=longlat +ellps=WGS84 +towgs84=0,0,0,0,0,0,0 +no_defs" ^
>> -te 112.505 -44.0055 154.005 -9.995 ^
>> -dstnodata -32768 ^
>> clumfill clum_warped.tif
>>
>>
>>
>> In the first call I get 24Gb of complete rubbish. When I open the
>> result in QGIS noting is shown (visually) and the cell values contain
>> what appears to be uninitialised junk.
>>
>> In the second call, I get a grid that looks similar to what I want,
>> but the cell value ranges are different ([100, 663] in the input and
>> [0, 663] in the result) and the histograms are different. I thought
>> that by (implicitly) choosing nearest neighbour the values in the
>> output must be a subset of those in the input.
>>
>> Can anyone suggest what might be going wrong?
>
> In the second case, I imagine the zeros represent
> nodata pixels - that is pixels for which there was no source data
> due to the change of coordinate system.
>
> It is hard to know what went wrong in the first case.  Is
> the source file small enough that you could make it available
> for me to test with?
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer

From roth.luke at gmail.com  Wed Oct  3 19:44:20 2012
From: roth.luke at gmail.com (Luke Roth)
Date: Wed, 3 Oct 2012 22:44:20 -0400
Subject: [gdal-dev] GDAL Bindings for Go
In-Reply-To: <201210040002.09175.even.rouault@mines-paris.org>
References: <CAJ-aobce5MW385-WAKFoo-3e761mmPc7m157opWW0WVqKoN0-g@mail.gmail.com>
	<201210040002.09175.even.rouault@mines-paris.org>
Message-ID: <CAJ-aobcEry2T5r2A6j-z8dD=Bp4ATfZ13f4oWXtSHHtN9erxkA@mail.gmail.com>

A good point.  I considered using SWIG to generate the bindings, it
looks like the support is pretty good, but I decided to "roll my own"
for now for a couple of reasons. I thought it would be a good way to
learn by getting my hands dirty with some of the lower-level nuts and
bolts of Go, and it would give me a chance to look closely at the API
and see where there were opportunities to make it more "go-like".
Going forward, I might try seeing how SWIG handles things, it might
make long-term maintenance easier (although the GDAL API is pretty
mature at this point).
I'll take a look at the GDAL Trac pages, although I might wait until
I've had a chance to fill in some of the missing areas and add to the
(currently pretty minimal) documentation.
Luke

On Wed, Oct 3, 2012 at 6:02 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le mercredi 03 octobre 2012 20:46:10, Luke Roth a ?crit :
>> For any who are interested, I've published a (incomplete, but growing)
>> set of GDAL bindings for the Go language at
>> https://github.com/lukeroth/gdal.go .
>> The bindings cover most of the GDAL C API, the OGR C API is next.
>> More details are available at the Github page.  Let me know if you
>> find them useful!
>
> The majority of GDAL bindings (Perl, Python, Java, C# at least) are generated
> by using SWIG bindings ( see swig/include in GDAL source tree ). Looking
> quickly at http://www.swig.org/Doc2.0/Go.html , it seems you could possibly
> have used it instead of writing from scratch. But I've never used Go, nor the
> SWIG Go generator, so just take it as a hint, not an enlightened advice based
> on experience.
>
> Anyway, you could create a page to advertise your Go bindings in GDAL Trac (
> http://trac.osgeo.org/gdal/wiki/GdalOgrInGo for example ) and make a link to
> it from the "GDAL/OGR In Other Languages" section of the main Trac page (
> http://trac.osgeo.org/gdal/wiki )
>
>> Luke
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From kassies at gmail.com  Thu Oct  4 00:36:33 2012
From: kassies at gmail.com (Rutger)
Date: Thu, 4 Oct 2012 00:36:33 -0700 (PDT)
Subject: [gdal-dev] Having difficulties using gdalwarp
In-Reply-To: <CAA+5f=3Q9You1CsbGuunaK7=bM5+zHk9Tz4HE+pPpLtNM3iHsw@mail.gmail.com>
References: <CAA+5f=1pmCTnt15cj+ba5qQuVg+qWnJBAPNUJV9LoQ1jkc4upA@mail.gmail.com>
	<CA+YzLBckyQsnt5FV1d=c7z=Ovftvh5hh9EtKonc_acjUTvzYtg@mail.gmail.com>
	<CAA+5f=3Q9You1CsbGuunaK7=bM5+zHk9Tz4HE+pPpLtNM3iHsw@mail.gmail.com>
Message-ID: <1349336193545-5006309.post@n6.nabble.com>

Hey Simon, 

I took a quick look out of curiosity. Regarding your second grid, and first
call: 
If you run gdalinfo on the input .asc file, you can see that the coordinate
system is not recognized properly. You say its geographic so you can first
do this additional step to manually assign it:

gdal_translate -of "VRT" -a_srs "epsg:4326" nlum.asc nlum.vrt

The output vrt can then be used in your gdalwarp statement instead of the
original .asc file. I get a map of Australia when i do so, almost all of it
is filled with nodata except for some data near Brisbane.

Regarding to the second grid, which you reproject from the Albers grid to
geographical, i cant reproduce your findings. I reprojected using a cellsize
of 0.05 (-tr 0.05 0.05) to speed thing up a little. When i run "gdalinfo
-hist" on it afterwards i get:
Band 1 Block=830x4 Type=Int16, ColorInterp=Gray
  Description = Layer_1
  Min=100.000 Max=663.000
  Minimum=100.000, Maximum=663.000, Mean=208.832, StdDev=83.824
  564 buckets from 99.5 to 663.5:
  ...
  NoData Value=-32768

Which seems ok to me based on your discription. Ocean is filled with nodata,
the 100 values are found for example around Canberra, i dont find any zeros.
In my case the (default) output is a signed 16bit integer type, maybe your
nodata values get truncated to 0's or something?

Hope this helps a little.


Regards,
Rutger



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdal-dev-Having-difficulties-using-gdalwarp-tp5006275p5006309.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Odd-Ragnar.Lydersen at powel.no  Thu Oct  4 04:29:20 2012
From: Odd-Ragnar.Lydersen at powel.no (Odd Ragnar Lydersen)
Date: Thu, 4 Oct 2012 11:29:20 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where column name contains "."
Message-ID: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>

Is it possible to make OGRDataSource:: ExecuteSQL() to work with a column name containing "."?

Here is an example:
select column.name.one, column.name.two from 'wfs:layerName'

I have tried to enclose the column name in [] brackets, but that was invalid as well.
Any ideas on how to get around this?

>Odd-Ragnar<

From etourigny.dev at gmail.com  Thu Oct  4 04:53:53 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 4 Oct 2012 08:53:53 -0300
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
	contains "."
In-Reply-To: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
Message-ID: <CA+TxYvNkKfCi9aHzzJiq2yvdeHXmeKDhdnQmu7utnAO=gZ9f0w@mail.gmail.com>

Hi,

You haven't said which platform and binding/command line you are using.

In linux command line you would probably replace "." with "\."

Also column name should probably enclosed in quotes, not brackets.

Etienne

On Thu, Oct 4, 2012 at 8:29 AM, Odd Ragnar Lydersen
<Odd-Ragnar.Lydersen at powel.no> wrote:
> Is it possible to make OGRDataSource:: ExecuteSQL() to work with a column name containing "."?
>
> Here is an example:
> select column.name.one, column.name.two from 'wfs:layerName'
>
> I have tried to enclose the column name in [] brackets, but that was invalid as well.
> Any ideas on how to get around this?
>
>>Odd-Ragnar<
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From roth.luke at gmail.com  Thu Oct  4 06:50:49 2012
From: roth.luke at gmail.com (Luke Roth)
Date: Thu, 4 Oct 2012 09:50:49 -0400
Subject: [gdal-dev] [go-nuts] GDAL Bindings for Go
In-Reply-To: <CA+db=n2ssCj0Uxu4mA8PHjFO2HQXMnFVLCWezwBKHZZbpsCm0w@mail.gmail.com>
References: <CA+db=n2ssCj0Uxu4mA8PHjFO2HQXMnFVLCWezwBKHZZbpsCm0w@mail.gmail.com>
Message-ID: <CAJ-aobctPGf5AanvO+-yvSH3OqvcFXkgvTMzsEa4BBenFy58zg@mail.gmail.com>

Thanks, I just noticed that when I pulled the code to a new machine.
I've renamed the repository to
https://github.com/lukeroth/gdal_go to avoid the problem.
Luke

On Thu, Oct 4, 2012 at 12:57 AM, minux <minux.ma at gmail.com> wrote:
>
> On Oct 4, 2012 2:46 AM, "Luke Roth" <roth.luke at gmail.com> wrote:
>> set of GDAL bindings for the Go language at
>> https://github.com/lukeroth/gdal.go .
> i suggest you change the project name to avoid ".go" suffix,
> or it  will confuse "go get".

From etourigny.dev at gmail.com  Thu Oct  4 10:45:25 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 4 Oct 2012 14:45:25 -0300
Subject: [gdal-dev] Gdaltindex with -t_srs and Mapserver
In-Reply-To: <CA+TxYvPt+4rf04cZNTwky3tOnG4JnHnfGA6hScDgLBDhCPZaDQ@mail.gmail.com>
References: <84446DEF76453C439E9E97E438E13A637A1990@suutari.haapa.mmm.fi>
	<CA+TxYvPt+4rf04cZNTwky3tOnG4JnHnfGA6hScDgLBDhCPZaDQ@mail.gmail.com>
Message-ID: <CA+TxYvOyzvgLwsAR-bvUf=8RMNq_JdyQ0y_k55uhBDaJqKF0jQ@mail.gmail.com>

FYI

I have created a QGIS plugin "Tile Index Viewer" (in the official
plugin repos, still marked as experimental)

This plugin can show a raster preview of the tiles on the canvas, and
also load rasters from selected tiles

1) using contextual menu on the map canvas
2) using theTileIndex plugin menu
3) setting the style of the layer to "TileIndex renderer"

cheers
Etienne

On Thu, Sep 27, 2012 at 10:39 AM, Etienne Tourigny
<etourigny.dev at gmail.com> wrote:
> Forwarding this email to qgis-dev list - Regarding tileindex usage
> with preview image inside qgis.
>
> On Thu, Sep 27, 2012 at 10:30 AM, Rahkonen Jukka
> <Jukka.Rahkonen at mmmtike.fi> wrote:
>> Hi,
>>
>> I did not meant to underestimate this little but extremely useful improvement. However, you made me hungry: if you can see so simply the image footprints, why not also the images?  I am already publishing in our WMS also the tileindex  shapefiles so people can see the image boundaries and make GetFeatureInfo queries from the image metadata that we have added to the shapefile as a few extra fields. In order to make it works we have reprojected images from their original projection zones into one common zone.  Now I wonder if it could be possible to make Mapserver to support tileindex layers containing source images with mixed projections. As a non-programmer I have a strong belief that if I can say what I want, someone can program it.
>>
>> I believe that Mapserver already gets the correct image list from the mixed-projection shapefile.   I guess also that Mapserver does not read image metadata from the geotiff image files for getting the projection but it relies on the LAYER level PROJECTION setting. In my simple test case with two images, one in EPSG:2393 and another in EPSG:2392 this means that Mapserver thinks that images are 1000 kilometers apart and sharing the EPSG:2393 system that I used in the PROJECTION block.
>>
>> Perhaps there could be an optional setting for LAYER level PROJECTION, both for individual images and tileindex layers, something like "init:internal_metadata".  It would mean that Mapserver would do first a query in a same manner than gdalinfo and ogrinfo for reading the native projection of the dataset.
>>
>> Ok, once written this long I started to think about using PROJECTION AUTO and then I found this three-year-old RFC
>> http://mapserver.org/development/rfc/ms-rfc-37.html
>>
>> +1 for implementing it.
>>
>> By the way, woudn't it be nice if desktop GIS like QGIS would show you also your Landsat archive images and not only the footprints in some pretty automatic way, let's say, after ticking a check box and setting the maximum scale denominator value?
>
> It would be great to see such a thing in QGIS - any way that mapserver
> code could be useful to QGIS?
>
> Or better yet - have a control in the tileindex layer to open the
> associated raster layer?
>
>>
>> -Jukka Rahkonen-
>>
>>
>>
>>
>>
>>> -----Alkuper?inen viesti-----
>>> L?hett?j?: Etienne Tourigny [mailto:etourigny.dev at gmail.com]
>>> L?hetetty: 27. syyskuuta 2012 15:27
>>> Vastaanottaja: Rahkonen Jukka
>>> Kopio: gdal-dev at lists.osgeo.org
>>> Aihe: Re: [gdal-dev] Gdaltindex with -t_srs and Mapserver
>>>
>>> Jukka,
>>>
>>> nice that you noticed this new feature I added - was about to advertise it
>>> here!
>>>
>>> The goal of adding this feature was not to make it available in mapserver, but
>>> for using in desktop applications as a reference for multiple files with
>>> different projections (e.g. landsat archives).
>>>
>>> cheers
>>> Etienne
>>>
>>> On Thu, Sep 27, 2012 at 6:07 AM, Jukka Rahkonen
>>> <jukka.rahkonen at mmmtike.fi> wrote:
>>> > Hi,
>>> >
>>> > I had a try with gdaltindex and the new -t_srs option that is
>>> > discussed in http://trac.osgeo.org/gdal/ticket/4773. It seems to be as
>>> > Even was thinking in the very beginning and Mapserver does not work
>>> > with tileindex which is containing reprojected bounding boxes. Images
>>> > with BBOX in the native projection are shown but not the others. This line
>>> appears into Mapserver log:
>>> > msDrawRasterLayerGDAL(): Error in overlap calculation.
>>> >
>>> > It might indeed be good to emit a warning about Mapserver
>>> > incompability. It would be very nice if Mapserver supports this kind of
>>> tileindeces.
>>> >
>>> > -Jukka Rahkonen-
>>> >
>>> > _______________________________________________
>>> > gdal-dev mailing list
>>> > gdal-dev at lists.osgeo.org
>>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From tkeitt at gmail.com  Thu Oct  4 18:31:32 2012
From: tkeitt at gmail.com (Tim Keitt)
Date: Thu, 4 Oct 2012 20:31:32 -0500
Subject: [gdal-dev] Small meshing utility
Message-ID: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>

Just letting folks know that we've released an OGR wrapper for the
Triangle library. It would be great if folks could test it. I could
also use some help improving the OGR bits.

Cheers,
THK

https://bitbucket.org/keittlab/meshpoly

-- 
Timothy H. Keitt
http://www.keittlab.org/

From etourigny.dev at gmail.com  Thu Oct  4 20:10:54 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Fri, 5 Oct 2012 00:10:54 -0300
Subject: [gdal-dev] update to overview resampling methods?
Message-ID: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>

Hi list,

I would like to know if the overview resampling methods listed on help
pages are really up-to-date, because I found some discrepancies in the
docs and code:


- gdaladdo utility page / http://www.gdal.org/gdaladdo.html

nearest,average,gauss,cubic,average_mp,average_magphase,mode


- GDALDataset::BuildOverviews /
http://www.gdal.org/classGDALDataset.html#a2aa6f88b3bbc840a5696236af11dde15

"NEAREST", "GAUSS", "CUBIC", "AVERAGE", "MODE", "AVERAGE_MAGPHASE" or "NONE"


- searching the code I found the following undocumented resampling
methods (there may be others)

AVERAGE_BIT2GRAYSCALE, AVERAGE_BIT2GRAYSCALE_MINISWHITE, AVERAGE_BIT2,
AVERAGE_BIT2GR, NO_REGEN


- gtiff overviews (in frmts/gtiff/gt_overviews.cpp)

only mentions the following, does it also support all others?
AVERAGE_BIT2, NEAR, AVERAGE, GAUSS


So I have a few questions:

1) why are some methods not listed in GDALDataset::BuildOverviews and
gdaladdo docs
average_mp, AVERAGE_BIT2*, NO_REGEN  (there may be others)

2) are there some methods which are not supported in specific drivers,
such as e.g. CUBIC in the gtiff driver?

3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
and why is it still available?

4) AVERAGE_MAGPHASE has been reported as buggy by some QGIS users,
could someone comment?
see http://hub.qgis.org/issues/284

5) should the docs be updated and harmonized, including any
driver-specific options, or are they too obscure to worry about?


regards,
Etienne

From ivan.lucena at princeton-ma.us  Thu Oct  4 20:35:28 2012
From: ivan.lucena at princeton-ma.us (Ivan Lucena)
Date: Thu, 04 Oct 2012 23:35:28 -0400
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
Message-ID: <506E5580.8060407@princeton-ma.us>

On 10/4/12 11:10 PM, Etienne Tourigny wrote:
> Hi list,
>
> I would like to know if the overview resampling methods listed on help
> pages are really up-to-date, because I found some discrepancies in the
> docs and code:
>
>
> - gdaladdo utility page / http://www.gdal.org/gdaladdo.html
>
> nearest,average,gauss,cubic,average_mp,average_magphase,mode
>
>
> - GDALDataset::BuildOverviews /
> http://www.gdal.org/classGDALDataset.html#a2aa6f88b3bbc840a5696236af11dde15
>
> "NEAREST", "GAUSS", "CUBIC", "AVERAGE", "MODE", "AVERAGE_MAGPHASE" or "NONE"
>
>
> - searching the code I found the following undocumented resampling
> methods (there may be others)
>
> AVERAGE_BIT2GRAYSCALE, AVERAGE_BIT2GRAYSCALE_MINISWHITE, AVERAGE_BIT2,
> AVERAGE_BIT2GR, NO_REGEN
>
>
> - gtiff overviews (in frmts/gtiff/gt_overviews.cpp)
>
> only mentions the following, does it also support all others?
> AVERAGE_BIT2, NEAR, AVERAGE, GAUSS
>
>
> So I have a few questions:
>
> 1) why are some methods not listed in GDALDataset::BuildOverviews and
> gdaladdo docs
> average_mp, AVERAGE_BIT2*, NO_REGEN  (there may be others)
>
> 2) are there some methods which are not supported in specific drivers,
> such as e.g. CUBIC in the gtiff driver?
Yes, some drivers support a different set of methods, so the "solution" 
is to find a common set of methods.

In a driver level, if we allow GDAL core to produce and write data 
buffer using a method that is strange to the format, that data could 
potentially look very different from other images produced by other 
software. In fact, how can we put in the metadata that the resampling 
method used was something that the format does not support. That would 
be inconsistent.

>
> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
> and why is it still available?
>
> 4) AVERAGE_MAGPHASE has been reported as buggy by some QGIS users,
> could someone comment?
> see http://hub.qgis.org/issues/284
>
> 5) should the docs be updated and harmonized, including any
> driver-specific options, or are they too obscure to worry about?
>
>
> regards,
> Etienne
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From Odd-Ragnar.Lydersen at powel.no  Thu Oct  4 23:45:28 2012
From: Odd-Ragnar.Lydersen at powel.no (Odd Ragnar Lydersen)
Date: Fri, 5 Oct 2012 06:45:28 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
 contains "."
In-Reply-To: <506D7CEC.5000108@michiganwxsystem.com>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
Message-ID: <BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>

When I use single quotes, I get no errors, but instead I get returned the column name = FIELD_1, and all values = column.name.one
I'm using the ExecuteSql() on a WFS datasource, so it might be the WFS driver which causes the undesired FIELD_1 result.

>Odd-Ragnar<

-----Original Message-----
From: Jeff Lake [mailto:admin at michiganwxsystem.com] 
Sent: 4. oktober 2012 14:11
To: Odd Ragnar Lydersen
Subject: Re: [gdal-dev] OGR SQL: Excecuting select where column name contains "."

use single quotes
eg 'column.name.one'

-Jeff Lake
MichiganWxSystem.com
AllisonHouse.com
TheWeatherCenter.net
GRLevelXStuff.com

On 10/4/2012 7:29, Odd Ragnar Lydersen wrote:
> Is it possible to make OGRDataSource:: ExecuteSQL() to work with a column name containing "."?
>
> Here is an example:
> select column.name.one, column.name.two from 'wfs:layerName'
>
> I have tried to enclose the column name in [] brackets, but that was invalid as well.
> Any ideas on how to get around this?
>
>> Odd-Ragnar<
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From jukka.rahkonen at mmmtike.fi  Fri Oct  5 04:30:09 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 5 Oct 2012 11:30:09 +0000 (UTC)
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
	contains "."
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
Message-ID: <loom.20121005T131128-490@post.gmane.org>

Odd Ragnar Lydersen <Odd-Ragnar.Lydersen <at> powel.no> writes:

> 
> When I use single quotes, I get no errors, but instead I get returned the
column name = FIELD_1, and all values
> = column.name.one
> I'm using the ExecuteSql() on a WFS datasource, so it might be the WFS driver
which causes the undesired

I believe that . (dot) will not work in -sql in any place even it perhaps should.

I made a small test feature type "dot.test" and the following is listing it
>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows

This works too 
>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows dot.test

But this does not work
>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select code_reg from dot.test"

The result is
ERROR 1: SQL Expression Parsing Error: syntax error

In my opinion using dots in feature type or field names is an intentional call
for troubles but unfortunately -sql parameter seems to have troubles also with
colons.

This works for me
>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select code_reg from france"

This should definitely work too, but it does not
>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select code_reg from tows:
france"
INFO: Open of `WFS:http://188.64.1.61/cgi-bin/tinyows'
      using driver `WFS' successful.
ERROR 1: SQL Expression Parsing Error: syntax error


Tested with GDAL build from September 27th on Windows 7.

-Jukka Rahkonen-


From s.r.kriishna at gmail.com  Fri Oct  5 04:37:31 2012
From: s.r.kriishna at gmail.com (SIVA RAMA KRISHNA)
Date: Fri, 5 Oct 2012 17:07:31 +0530
Subject: [gdal-dev] errror in building qgis
Message-ID: <CAP-zkzcZMhvA2VogzD2XnFufr9TLx_65kJZ6mU+cUBU68=ptiA@mail.gmail.com>

Hello all,

            I am trying to build qgis for Qt in fedora
           I have  INSTALLED dependies for  Python pyqt. and sip

          It is building upto following Steps



Scanning dependencies of target python_module_qgis_networkanalysis

[ 92%] Building CXX object
python/CMakeFiles/python_module_qgis_networkanalysis.dir/analysis/network/sipnetworkanalysispart0.cpp.o

[ 92%] Building CXX object
python/CMakeFiles/python_module_qgis_networkanalysis.dir/analysis/network/sipnetworkanalysispart1.cpp.o

[ 92%] Building CXX object
python/CMakeFiles/python_module_qgis_networkanalysis.dir/analysis/network/sipnetworkanalysispart2.cpp.o

[ 92%] Building CXX object
python/CMakeFiles/python_module_qgis_networkanalysis.dir/analysis/network/sipnetworkanalysispart3.cpp.o

Linking CXX shared library ../output/python/qgis/networkanalysis.so

[ 92%] Built target python_module_qgis_networkanalysis

[ 92%] Generating ui_qgsplugininstallerbase.py

      Any Help for the above Problem is greatly apprieciated

  Thanking You
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121005/d1db25aa/attachment.html>

From jukka.rahkonen at mmmtike.fi  Fri Oct  5 05:02:55 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 5 Oct 2012 12:02:55 +0000 (UTC)
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
	contains "."
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
	<loom.20121005T131128-490@post.gmane.org>
Message-ID: <loom.20121005T135522-646@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:

> This should definitely work too, but it does not
> >ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select code_reg from tows:
> france"
> INFO: Open of `WFS:http://188.64.1.61/cgi-bin/tinyows'
>       using driver `WFS' successful.
> ERROR 1: SQL Expression Parsing Error: syntax error


Sorry for the undue judgement. This is the correct way to do it on Windows

>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select 'nom.dept' from
'tows:dot.test'"

It is just always as hard for me to remember the right syntax.

-Jukka-


From miroslav.karpis at gmail.com  Fri Oct  5 07:53:50 2012
From: miroslav.karpis at gmail.com (Miro Karpis)
Date: Fri, 5 Oct 2012 16:53:50 +0200
Subject: [gdal-dev] convert dwg/dgn to raster/vector files (windows)
Message-ID: <CAJnnbxFu9wbRUH-geLp200YWz=eQZpnZnRjinRPjFM4d2+Ou2Q@mail.gmail.com>

Hi,

please can you help me with following? I'm trying to find the best way to
convert dgn/dwg files to vector(svg) and raster(png) formats. In the OGR
Vector formats table <http://www.gdal.org/ogr/ogr_formats.html> is stated
that dwg and dgn formats are compiled by default. On another side I
see in AutoCad
dwg description <http://www.gdal.org/ogr/drv_dwg.html> that we need Open
Design Alliance Teiga library. Does this mean that the Teiga library is
included in gdal (it just needs to be included during the build)?

Thank you in advance.

Regards,
Miro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121005/2e3995a5/attachment.html>

From ari.jolma at gmail.com  Fri Oct  5 07:54:09 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri, 05 Oct 2012 17:54:09 +0300
Subject: [gdal-dev] MinGW build
Message-ID: <506EF491.6020707@gmail.com>

Folks

I'm building GDAL (the trunk) in latest MinGW. For some reason I don't
understand I need to add -lstdc++ to LDFLAGS in GDALmake.opt. I'm not
sure if this is the best way to fix the problem - probably not - but it
works. The problem is the step where the library file libgdal.dll.a is made.

Anybody have any ideas why this is like this? Otherwise
http://trac.osgeo.org/gdal/wiki/BuildingWithMinGW seems up to date.

Ari


From even.rouault at mines-paris.org  Fri Oct  5 08:50:50 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 05 Oct 2012 17:50:50 +0200
Subject: [gdal-dev] convert dwg/dgn to raster/vector files (windows)
In-Reply-To: <CAJnnbxFu9wbRUH-geLp200YWz=eQZpnZnRjinRPjFM4d2+Ou2Q@mail.gmail.com>
References: <CAJnnbxFu9wbRUH-geLp200YWz=eQZpnZnRjinRPjFM4d2+Ou2Q@mail.gmail.com>
Message-ID: <1349452250.506f01dadb6ae@imp.free.fr>

Selon Miro Karpis <miroslav.karpis at gmail.com>:

> Hi,
>
> please can you help me with following? I'm trying to find the best way to
> convert dgn/dwg files to vector(svg) and raster(png) formats. In the OGR
> Vector formats table <http://www.gdal.org/ogr/ogr_formats.html> is stated
> that dwg and dgn formats are compiled by default.

No, have a look again ;-)

Format Name 		Code 	Compiled by default
AutoCAD DWG 		DWG 	No
Microstation DGN 	DGN 	Yes


> On another side I
> see in AutoCad
> dwg description <http://www.gdal.org/ogr/drv_dwg.html> that we need Open
> Design Alliance Teiga library. Does this mean that the Teiga library is
> included in gdal (it just needs to be included during the build)?

Not having experimenting that driver myself, but presumably, you need the Open
Design Alliance Teiga library when compiling GDAL and at runtime too.

>
> Thank you in advance.
>
> Regards,
> Miro
>



From even.rouault at mines-paris.org  Fri Oct  5 08:57:03 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 05 Oct 2012 17:57:03 +0200
Subject: [gdal-dev] MinGW build
In-Reply-To: <506EF491.6020707@gmail.com>
References: <506EF491.6020707@gmail.com>
Message-ID: <1349452623.506f034f35102@imp.free.fr>

Selon Ari Jolma <ari.jolma at gmail.com>:

> Folks
>
> I'm building GDAL (the trunk) in latest MinGW. For some reason I don't
> understand I need to add -lstdc++ to LDFLAGS in GDALmake.opt. I'm not
> sure if this is the best way to fix the problem - probably not - but it
> works. The problem is the step where the library file libgdal.dll.a is made.
>
> Anybody have any ideas why this is like this?

And is it specific to trunk (meaning does it work with 1.9 without adding
-lstdc++) ? It's interesting since someone reported a few days/weeks ago a
similar problem with CentOS I believe. I haven't in mind a change that would
have directly targetted changing libstdc++ linking, but it is probably a
side-effect of something else. Might depend on which external libs are linked
too : perhaps some indirectly bring libstdc++ dependency, and when they are not
linked in, it isn't found



From even.rouault at mines-paris.org  Fri Oct  5 09:14:36 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 05 Oct 2012 18:14:36 +0200
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
	contains "."
In-Reply-To: <loom.20121005T135522-646@post.gmane.org>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
	<loom.20121005T131128-490@post.gmane.org>
	<loom.20121005T135522-646@post.gmane.org>
Message-ID: <1349453676.506f076c2743f@imp.free.fr>

Selon Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:

> Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:
>
> > This should definitely work too, but it does not
> > >ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select code_reg from
> tows:
> > france"
> > INFO: Open of `WFS:http://188.64.1.61/cgi-bin/tinyows'
> >       using driver `WFS' successful.
> > ERROR 1: SQL Expression Parsing Error: syntax error
>
>
> Sorry for the undue judgement. This is the correct way to do it on Windows
>
> >ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select 'nom.dept' from
> 'tows:dot.test'"
>
> It is just always as hard for me to remember the right syntax.

OGR SQL follows SQL on this : column and table/layer names are identifiers. So
they must start with a letter or underscore, and subsequent characters must be
letters, underscores or digits. If the identifier is more complex than that, it
must be quoted. To follow SQL, it is recommended to you double-quote characters,
which might require SHELL escaping since they are already in a double-quoted
string, like :

ogrinfo poly.shp -sql "select "eas_id" from "poly""

OGR currently also accepts quoting of column/table names with single-quote
character (which is normally reserved for string literals), but this can lead to
some ambiguity. If you use 'foo', OGR will currently choose the column name foo
if it exists, instead of the string literal 'foo' as standard SQL would mandate.


>
> -Jukka-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>













From chris.barker at noaa.gov  Fri Oct  5 09:11:39 2012
From: chris.barker at noaa.gov (Chris Barker)
Date: Fri, 5 Oct 2012 09:11:39 -0700
Subject: [gdal-dev] Small meshing utility
In-Reply-To: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>
References: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>
Message-ID: <CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>

On Thu, Oct 4, 2012 at 6:31 PM, Tim Keitt <tkeitt at gmail.com> wrote:
> Just letting folks know that we've released an OGR wrapper for the
> Triangle library. It would be great if folks could test it. I could
> also use some help improving the OGR bits.

cool! though I"m a little confused as to how this fits with OGR.

Also -- how did you deal with the fact that triangle calls the system
exit() function on error -- that could bring down whatever your host
process is.

We've written a wrapper around triangle for Python (anyone feel free
to send me a note if you're interested), and we ended up handling that
by spawning another process to run triangle in -- but that has
performance issues (copying data around) which would be nice to avoid.

If only triangle has a nicer licensing scheme -- it really is a nice utility.

-Chris




-- 

Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov

From Jukka.Rahkonen at mmmtike.fi  Fri Oct  5 09:34:12 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Fri, 5 Oct 2012 16:34:12 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
 contains "."
In-Reply-To: <1349453676.506f076c2743f@imp.free.fr>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
	<loom.20121005T131128-490@post.gmane.org>
	<loom.20121005T135522-646@post.gmane.org>,
	<1349453676.506f076c2743f@imp.free.fr>
Message-ID: <84446DEF76453C439E9E97E438E13A637A2D0D@suutari.haapa.mmm.fi>

Even Rouault wrote:


Selon Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:

>> > This should definitely work too, but it does not
>> > >ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select code_reg from
>> tows:
>> > france"
>> > INFO: Open of `WFS:http://188.64.1.61/cgi-bin/tinyows'
>> >       using driver `WFS' successful.
>> > ERROR 1: SQL Expression Parsing Error: syntax error
>>
>>
>> Sorry for the undue judgement. This is the correct way to do it on Windows
>>
>> >ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows -sql "select 'nom.dept' from
>> 'tows:dot.test'"
>>
>> It is just always as hard for me to remember the right syntax.

> OGR SQL follows SQL on this : column and table/layer names are identifiers. So
> they must start with a letter or underscore, and subsequent characters must be
> letters, underscores or digits. If the identifier is more complex than that, it
> must be quoted. To follow SQL, it is recommended to you double-quote characters,
> which might require SHELL escaping since they are already in a double-quoted
> string, like :

> ogrinfo poly.shp -sql "select "eas_id" from "poly""

Yes, that's a good theory but it is not easy to use it on Windows. Does 
anybody in the world know how should this one be escaped? I have 
already tried to use ^" as inner double quotes but without success,
as well as having two ^^ and three ^^^.

gdal_dev>ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows 
-sql "select "nom.dept" from "tows:dot.test""
INFO: Open of `WFS:http://188.64.1.61/cgi-bin/tinyows'
      using driver `WFS' successful.
ERROR 1: SQL Expression Parsing Error: syntax error

> OGR currently also accepts quoting of column/table names with single-quote
> character (which is normally reserved for string literals), but this can lead to
> some ambiguity. If you use 'foo', OGR will currently choose the column name foo
>  if it exists, instead of the string literal 'foo' as standard SQL would mandate.


>
> -Jukka-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>













From even.rouault at mines-paris.org  Fri Oct  5 09:36:15 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 05 Oct 2012 18:36:15 +0200
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
Message-ID: <1349454975.506f0c7f4762f@imp.free.fr>

Selon Etienne Tourigny <etourigny.dev at gmail.com>:

> Hi list,
>
> I would like to know if the overview resampling methods listed on help
> pages are really up-to-date, because I found some discrepancies in the
> docs and code:
>
>
> - gdaladdo utility page / http://www.gdal.org/gdaladdo.html
>
> nearest,average,gauss,cubic,average_mp,average_magphase,mode
>
>
> - GDALDataset::BuildOverviews /
> http://www.gdal.org/classGDALDataset.html#a2aa6f88b3bbc840a5696236af11dde15
>
> "NEAREST", "GAUSS", "CUBIC", "AVERAGE", "MODE", "AVERAGE_MAGPHASE" or "NONE"

"NONE" is a provision for drivers/users that would need to create the overview
bands but don't want them to be initialized, because they use their own
resampling method.

>
>
> - searching the code I found the following undocumented resampling
> methods (there may be others)
>
> AVERAGE_BIT2GRAYSCALE, AVERAGE_BIT2GRAYSCALE_MINISWHITE, AVERAGE_BIT2,
> AVERAGE_BIT2GR, NO_REGEN

Internal implementation details of drivers.

>
>
> - gtiff overviews (in frmts/gtiff/gt_overviews.cpp)
>
> only mentions the following, does it also support all others?
> AVERAGE_BIT2, NEAR, AVERAGE, GAUSS

They are specific cases it handles (some for optimizations), but they are not
the only ones

>
>
> So I have a few questions:
>
> 1) why are some methods not listed in GDALDataset::BuildOverviews and
> gdaladdo docs
> average_mp, AVERAGE_BIT2*, NO_REGEN  (there may be others)

- average_mp is documented in gdaladdo as not ready for use in production, so
could be likely "undocumented" in gdaladdo man page
- AVERAGE_BIT2* stuff is internal implementation detail for computing overviews
of 1-bit raster as a 8-bit band. Must not be documented in user doc.
- NO_REGEN: implementation hack for Imagine overviews. Must not be documented in
user doc

>
> 2) are there some methods which are not supported in specific drivers,
> such as e.g. CUBIC in the gtiff driver?

The generic overview code is in gcore/overview.cpp. Unless some driver has a
very specific implementation of IBuildOverview() not relying on
gcore/overview.cpp, all methods should be available. GTiff and HFA have
implementations of IBuildOverviews(), but that's to create the overview
bands/files : at the end, they fallback to gcore/overview.cpp to compute the
pixel values.

>
> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
> and why is it still available?

Historical remain ? Could likely be undocumented.

>
> 4) AVERAGE_MAGPHASE has been reported as buggy by some QGIS users,
> could someone comment?
> see http://hub.qgis.org/issues/284

I've never used it, but my understanding of the code is that it is (should be)
restricted to images whose datatype is one of the complex types, like CInt16,
CInt32, CFloat32 or CFloat64. For other datatypes, I would tink it is
interpreted as standard average, but my understanding of the code might be
insufficient.

>
> 5) should the docs be updated and harmonized, including any
> driver-specific options, or are they too obscure to worry about?

Some precision could be perhaps given by knowleagable people on what
average_magphase does exactly (my undersanding is that it averages the real and
imaginary components of source pixels, and then does some kind of
re-normalization of the result), but no need to document the other internal
stuff that are implementation details of drivers.

>
>
> regards,
> Etienne
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From miroslav.karpis at gmail.com  Fri Oct  5 09:36:40 2012
From: miroslav.karpis at gmail.com (Miro Karpis)
Date: Fri, 5 Oct 2012 18:36:40 +0200
Subject: [gdal-dev] convert dwg/dgn to raster/vector files (windows)
In-Reply-To: <1349452250.506f01dadb6ae@imp.free.fr>
References: <CAJnnbxFu9wbRUH-geLp200YWz=eQZpnZnRjinRPjFM4d2+Ou2Q@mail.gmail.com>
	<1349452250.506f01dadb6ae@imp.free.fr>
Message-ID: <CAJnnbxGhprOsSZZadK7Y7hz466SkKt7J=4Cx2R6a7bA6ZKnmGQ@mail.gmail.com>

thanks, yes that makes sence ;-)

so basically with the dwg library I should be able to make the conversion
using gdal, correct? As far as I know the library is available only to
the open design alliance members (paid membership) correct?

Regarding the dgn format, it should be able to read it and convert it to
for example svg/png format. Am I right?

Once again, thanks for the help.

Regards,
Miro


On Saturday, January 10, 1970, Even Rouault <even.rouault at mines-paris.org>
wrote:
> Selon Miro Karpis <miroslav.karpis at gmail.com>:
>
>> Hi,
>>
>> please can you help me with following? I'm trying to find the best way to
>> convert dgn/dwg files to vector(svg) and raster(png) formats. In the OGR
>> Vector formats table <http://www.gdal.org/ogr/ogr_formats.html> is stated
>> that dwg and dgn formats are compiled by default.
>
> No, have a look again ;-)
>
> Format Name             Code    Compiled by default
> AutoCAD DWG             DWG     No
> Microstation DGN        DGN     Yes
>
>
>> On another side I
>> see in AutoCad
>> dwg description <http://www.gdal.org/ogr/drv_dwg.html> that we need Open
>> Design Alliance Teiga library. Does this mean that the Teiga library is
>> included in gdal (it just needs to be included during the build)?
>
> Not having experimenting that driver myself, but presumably, you need the
Open
> Design Alliance Teiga library when compiling GDAL and at runtime too.
>
>>
>> Thank you in advance.
>>
>> Regards,
>> Miro
>>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121005/f3550656/attachment.html>

From even.rouault at mines-paris.org  Fri Oct  5 09:39:08 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 05 Oct 2012 18:39:08 +0200
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
	contains "."
In-Reply-To: <84446DEF76453C439E9E97E438E13A637A2D0D@suutari.haapa.mmm.fi>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
	<loom.20121005T131128-490@post.gmane.org>
	<loom.20121005T135522-646@post.gmane.org>,
	<1349453676.506f076c2743f@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A637A2D0D@suutari.haapa.mmm.fi>
Message-ID: <1349455148.506f0d2cee798@imp.free.fr>

> To follow SQL, it is recommended to you double-quote
> characters,
> > which might require SHELL escaping since they are already in a
> double-quoted
> > string, like :
>

> Yes, that's a good theory but it is not easy to use it on Windows. Does
> anybody in the world know how should this one be escaped? I have
> already tried to use ^" as inner double quotes but without success,
> as well as having two ^^ and three ^^^.

Doh! my webmail client has changed what I have typed ! To escape double-quote in
Windows shell, you need to put a backslash character before them.

From ari.jolma at gmail.com  Fri Oct  5 10:09:05 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Fri, 05 Oct 2012 20:09:05 +0300
Subject: [gdal-dev] MinGW build
In-Reply-To: <1349452623.506f034f35102@imp.free.fr>
References: <506EF491.6020707@gmail.com> <1349452623.506f034f35102@imp.free.fr>
Message-ID: <506F1431.2080306@gmail.com>

On 10/05/2012 06:57 PM, Even Rouault wrote:
> Selon Ari Jolma <ari.jolma at gmail.com>:
>
>> Folks
>>
>> I'm building GDAL (the trunk) in latest MinGW. For some reason I don't
>> understand I need to add -lstdc++ to LDFLAGS in GDALmake.opt. I'm not
>> sure if this is the best way to fix the problem - probably not - but it
>> works. The problem is the step where the library file libgdal.dll.a is made.
>>
>> Anybody have any ideas why this is like this?
> And is it specific to trunk (meaning does it work with 1.9 without adding
> -lstdc++) ?

I don't know. I haven't been building with MinGW for a long time and it's
starting to look that this time was a mistake too. I got libgdal.dll
compiled
but the Perl bindings seem even harder (the bindings dll does not load).
While MinGW and MSYS seem to be improved, it still is a horror.

Ari

>  It's interesting since someone reported a few days/weeks ago a
> similar problem with CentOS I believe. I haven't in mind a change that would
> have directly targetted changing libstdc++ linking, but it is probably a
> side-effect of something else. Might depend on which external libs are linked
> too : perhaps some indirectly bring libstdc++ dependency, and when they are not
> linked in, it isn't found
>
>


From nikhil.parupalli at iictechnologies.com  Fri Oct  5 11:06:02 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Fri, 5 Oct 2012 18:06:02 +0000
Subject: [gdal-dev] Topological pointer
Message-ID: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>

Hi All,

We are working on project which renders S57 dataset , I used GDAL for rendering GIS data and DOTSPATIAL for displaying map.
Here I could read dataset , but can any one know how do we get Topological Indicator value



Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121005/d81ef64e/attachment.html>

From chaitanya.ch at gmail.com  Fri Oct  5 11:38:31 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat, 6 Oct 2012 00:08:31 +0530
Subject: [gdal-dev] Topological pointer
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpOZjyR1XeashdtXLCqimzyfvhKP3Okp3WmbBJEqLJsDvig@mail.gmail.com>

Nikhil,

Can you explain what you mean by topology indicator?

On Fri, Oct 5, 2012 at 11:36 PM, Nikhil Sai Parupalli <
nikhil.parupalli at iictechnologies.com> wrote:

>  Hi All,
>
>  We are working on project which renders S57 dataset , I used GDAL for
> rendering GIS data and DOTSPATIAL for displaying map.
> Here I could read dataset , but can any one know how do we get Topological
> Indicator value
>
>
>
>  Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required.
> Save paper , stay Green
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121006/ef0b7ccc/attachment.html>

From etourigny.dev at gmail.com  Fri Oct  5 12:18:13 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Fri, 5 Oct 2012 16:18:13 -0300
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <1349454975.506f0c7f4762f@imp.free.fr>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
	<1349454975.506f0c7f4762f@imp.free.fr>
Message-ID: <CA+TxYvOfetXP5NhN=_cqG1EJ8tujaoXkNP7un3jEJvxvgh64bw@mail.gmail.com>

Hi Even, thanks for you time

On Fri, Oct 5, 2012 at 1:36 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Selon Etienne Tourigny <etourigny.dev at gmail.com>:
>
>> Hi list,
>>
>> I would like to know if the overview resampling methods listed on help
>> pages are really up-to-date, because I found some discrepancies in the
>> docs and code:
>>
>>
>> - gdaladdo utility page / http://www.gdal.org/gdaladdo.html
>>
>> nearest,average,gauss,cubic,average_mp,average_magphase,mode
>>
>>
>> - GDALDataset::BuildOverviews /
>> http://www.gdal.org/classGDALDataset.html#a2aa6f88b3bbc840a5696236af11dde15
>>
>> "NEAREST", "GAUSS", "CUBIC", "AVERAGE", "MODE", "AVERAGE_MAGPHASE" or "NONE"
>
> "NONE" is a provision for drivers/users that would need to create the overview
> bands but don't want them to be initialized, because they use their own
> resampling method.
>
>>
>>
>> - searching the code I found the following undocumented resampling
>> methods (there may be others)
>>
>> AVERAGE_BIT2GRAYSCALE, AVERAGE_BIT2GRAYSCALE_MINISWHITE, AVERAGE_BIT2,
>> AVERAGE_BIT2GR, NO_REGEN
>
> Internal implementation details of drivers.
>
>>
>>
>> - gtiff overviews (in frmts/gtiff/gt_overviews.cpp)
>>
>> only mentions the following, does it also support all others?
>> AVERAGE_BIT2, NEAR, AVERAGE, GAUSS
>
> They are specific cases it handles (some for optimizations), but they are not
> the only ones

ok

>
>>
>>
>> So I have a few questions:
>>
>> 1) why are some methods not listed in GDALDataset::BuildOverviews and
>> gdaladdo docs
>> average_mp, AVERAGE_BIT2*, NO_REGEN  (there may be others)
>
> - average_mp is documented in gdaladdo as not ready for use in production, so
> could be likely "undocumented" in gdaladdo man page
> - AVERAGE_BIT2* stuff is internal implementation detail for computing overviews
> of 1-bit raster as a 8-bit band. Must not be documented in user doc.
> - NO_REGEN: implementation hack for Imagine overviews. Must not be documented in
> user doc

I understand that these are set internally when a certain condition is met?

>
>>
>> 2) are there some methods which are not supported in specific drivers,
>> such as e.g. CUBIC in the gtiff driver?
>
> The generic overview code is in gcore/overview.cpp. Unless some driver has a
> very specific implementation of IBuildOverview() not relying on
> gcore/overview.cpp, all methods should be available. GTiff and HFA have
> implementations of IBuildOverviews(), but that's to create the overview
> bands/files : at the end, they fallback to gcore/overview.cpp to compute the
> pixel values.

ok

>
>>
>> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
>> and why is it still available?
>
> Historical remain ? Could likely be undocumented.

ok I will remove it, should it be removed/commented from the code also?

>
>>
>> 4) AVERAGE_MAGPHASE has been reported as buggy by some QGIS users,
>> could someone comment?
>> see http://hub.qgis.org/issues/284
>
> I've never used it, but my understanding of the code is that it is (should be)
> restricted to images whose datatype is one of the complex types, like CInt16,
> CInt32, CFloat32 or CFloat64. For other datatypes, I would tink it is
> interpreted as standard average, but my understanding of the code might be
> insufficient.
>
>>
>> 5) should the docs be updated and harmonized, including any
>> driver-specific options, or are they too obscure to worry about?
>
> Some precision could be perhaps given by knowleagable people on what
> average_magphase does exactly (my undersanding is that it averages the real and
> imaginary components of source pixels, and then does some kind of
> re-normalization of the result), but no need to document the other internal
> stuff that are implementation details of drivers.

ok thanks, if someone has official documentation/information on
average_magphase please let me know.

>
>>
>>
>> regards,
>> Etienne
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>

From etourigny.dev at gmail.com  Fri Oct  5 12:51:53 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Fri, 5 Oct 2012 16:51:53 -0300
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <CA+TxYvOfetXP5NhN=_cqG1EJ8tujaoXkNP7un3jEJvxvgh64bw@mail.gmail.com>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
	<1349454975.506f0c7f4762f@imp.free.fr>
	<CA+TxYvOfetXP5NhN=_cqG1EJ8tujaoXkNP7un3jEJvxvgh64bw@mail.gmail.com>
Message-ID: <CA+TxYvNuC2D8DkigS3RRNA_qsSp_K2uk7WrBaLh7d6FU=XgqTg@mail.gmail.com>

also any objection I change the parameters to upper case in gdaladdo
docs, to be in line with the names in the code?

Etienne

On Fri, Oct 5, 2012 at 4:18 PM, Etienne Tourigny
<etourigny.dev at gmail.com> wrote:
> Hi Even, thanks for you time
>
> On Fri, Oct 5, 2012 at 1:36 PM, Even Rouault
> <even.rouault at mines-paris.org> wrote:
>> Selon Etienne Tourigny <etourigny.dev at gmail.com>:
>>
>>> Hi list,
>>>
>>> I would like to know if the overview resampling methods listed on help
>>> pages are really up-to-date, because I found some discrepancies in the
>>> docs and code:
>>>
>>>
>>> - gdaladdo utility page / http://www.gdal.org/gdaladdo.html
>>>
>>> nearest,average,gauss,cubic,average_mp,average_magphase,mode
>>>
>>>
>>> - GDALDataset::BuildOverviews /
>>> http://www.gdal.org/classGDALDataset.html#a2aa6f88b3bbc840a5696236af11dde15
>>>
>>> "NEAREST", "GAUSS", "CUBIC", "AVERAGE", "MODE", "AVERAGE_MAGPHASE" or "NONE"
>>
>> "NONE" is a provision for drivers/users that would need to create the overview
>> bands but don't want them to be initialized, because they use their own
>> resampling method.
>>
>>>
>>>
>>> - searching the code I found the following undocumented resampling
>>> methods (there may be others)
>>>
>>> AVERAGE_BIT2GRAYSCALE, AVERAGE_BIT2GRAYSCALE_MINISWHITE, AVERAGE_BIT2,
>>> AVERAGE_BIT2GR, NO_REGEN
>>
>> Internal implementation details of drivers.
>>
>>>
>>>
>>> - gtiff overviews (in frmts/gtiff/gt_overviews.cpp)
>>>
>>> only mentions the following, does it also support all others?
>>> AVERAGE_BIT2, NEAR, AVERAGE, GAUSS
>>
>> They are specific cases it handles (some for optimizations), but they are not
>> the only ones
>
> ok
>
>>
>>>
>>>
>>> So I have a few questions:
>>>
>>> 1) why are some methods not listed in GDALDataset::BuildOverviews and
>>> gdaladdo docs
>>> average_mp, AVERAGE_BIT2*, NO_REGEN  (there may be others)
>>
>> - average_mp is documented in gdaladdo as not ready for use in production, so
>> could be likely "undocumented" in gdaladdo man page
>> - AVERAGE_BIT2* stuff is internal implementation detail for computing overviews
>> of 1-bit raster as a 8-bit band. Must not be documented in user doc.
>> - NO_REGEN: implementation hack for Imagine overviews. Must not be documented in
>> user doc
>
> I understand that these are set internally when a certain condition is met?
>
>>
>>>
>>> 2) are there some methods which are not supported in specific drivers,
>>> such as e.g. CUBIC in the gtiff driver?
>>
>> The generic overview code is in gcore/overview.cpp. Unless some driver has a
>> very specific implementation of IBuildOverview() not relying on
>> gcore/overview.cpp, all methods should be available. GTiff and HFA have
>> implementations of IBuildOverviews(), but that's to create the overview
>> bands/files : at the end, they fallback to gcore/overview.cpp to compute the
>> pixel values.
>
> ok
>
>>
>>>
>>> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
>>> and why is it still available?
>>
>> Historical remain ? Could likely be undocumented.
>
> ok I will remove it, should it be removed/commented from the code also?
>
>>
>>>
>>> 4) AVERAGE_MAGPHASE has been reported as buggy by some QGIS users,
>>> could someone comment?
>>> see http://hub.qgis.org/issues/284
>>
>> I've never used it, but my understanding of the code is that it is (should be)
>> restricted to images whose datatype is one of the complex types, like CInt16,
>> CInt32, CFloat32 or CFloat64. For other datatypes, I would tink it is
>> interpreted as standard average, but my understanding of the code might be
>> insufficient.
>>
>>>
>>> 5) should the docs be updated and harmonized, including any
>>> driver-specific options, or are they too obscure to worry about?
>>
>> Some precision could be perhaps given by knowleagable people on what
>> average_magphase does exactly (my undersanding is that it averages the real and
>> imaginary components of source pixels, and then does some kind of
>> re-normalization of the result), but no need to document the other internal
>> stuff that are implementation details of drivers.
>
> ok thanks, if someone has official documentation/information on
> average_magphase please let me know.
>
>>
>>>
>>>
>>> regards,
>>> Etienne
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>

From even.rouault at mines-paris.org  Fri Oct  5 12:56:45 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 5 Oct 2012 21:56:45 +0200
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <CA+TxYvOfetXP5NhN=_cqG1EJ8tujaoXkNP7un3jEJvxvgh64bw@mail.gmail.com>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
	<1349454975.506f0c7f4762f@imp.free.fr>
	<CA+TxYvOfetXP5NhN=_cqG1EJ8tujaoXkNP7un3jEJvxvgh64bw@mail.gmail.com>
Message-ID: <201210052156.45824.even.rouault@mines-paris.org>

> >> 
> >> 1) why are some methods not listed in GDALDataset::BuildOverviews and
> >> gdaladdo docs
> >> average_mp, AVERAGE_BIT2*, NO_REGEN  (there may be others)
> > 
> > - average_mp is documented in gdaladdo as not ready for use in
> > production, so could be likely "undocumented" in gdaladdo man page
> > - AVERAGE_BIT2* stuff is internal implementation detail for computing
> > overviews of 1-bit raster as a 8-bit band. Must not be documented in
> > user doc.
> > - NO_REGEN: implementation hack for Imagine overviews. Must
> > not be documented in user doc
> 
> I understand that these are set internally when a certain condition is met?

Actually, about AVERAGE_BIT2GRAYSCALE, I was a bit quick in my answer. It is a 
value that can be passed to BuildOverviews(). This has been implemented per 
http://trac.osgeo.org/gdal/ticket/1908 . Seems that the documentation part was 
never done.

For NO_REGEN, if you're really curious about it, you'll have to study the HFA 
driver. (But only if you are bored and have nothing more interesting to do 
;-))

> >> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
> >> and why is it still available?
> > 
> > Historical remain ? Could likely be undocumented.
> 
> ok I will remove it, should it be removed/commented from the code also?

Undocumenting seems appropriate. As far as removing the implementation, you 
might want to check with the original committer (FrankW)

From dshean at uw.edu  Fri Oct  5 13:21:27 2012
From: dshean at uw.edu (David Shean)
Date: Fri, 5 Oct 2012 13:21:27 -0700
Subject: [gdal-dev] gdaladdo bus errors for large, LZW-compressed GTiff
Message-ID: <9AC1614D-07FB-4169-BCC3-E111125C0CDC@uw.edu>

While the topic of gdaladdo resampling methods is active...

I get bus errors when I use gdaladdo's gauss resampling method for large, float32, LZW-compressed GTiff.  This is repeatable.
Using a different gdaladdo resampling method (e.g., average) on the same LZW-compressed GTiff works.
When I decompress first, gdaladdo with gauss works.
For smaller, LZW-compressed GTiff input, gdaladdo with gauss works.

I'm using gdal 1.9.1 with internal libtiff, libgeotiff, libz on OS X 10.7.

Hopefully this will involve a simple fix.  Thanks.
-David



gdalinfo WV02_10JUL091534204-P1BS-1030010005B3D100__WV02_10JUL091533199-P1BS-103001000612DC00-DEM.tif
Driver: GTiff/GeoTIFF
Files: WV02_10JUL091534204-P1BS-1030010005B3D100__WV02_10JUL091533199-P1BS-103001000612DC00-DEM.tif
Size is 17719, 14955
Coordinate System is:
PROJCS["unnamed",
   GEOGCS["WGS 84",
       DATUM["WGS_1984",
           SPHEROID["WGS 84",6378137,298.257223563,
               AUTHORITY["EPSG","7030"]],
           AUTHORITY["EPSG","6326"]],
       PRIMEM["Greenwich",0],
       UNIT["degree",0.0174532925199433],
       AUTHORITY["EPSG","4326"]],
   PROJECTION["Polar_Stereographic"],
   PARAMETER["latitude_of_origin",70],
   PARAMETER["central_meridian",-45],
   PARAMETER["scale_factor",1],
   PARAMETER["false_easting",0],
   PARAMETER["false_northing",0],
   UNIT["metre",1,
       AUTHORITY["EPSG","9001"]]]
Origin = (-201111.404963798559038,-2284012.343544036149979)
Pixel Size = (1.000000000000000,-1.000000000000000)
Metadata:
 AREA_OR_POINT=Area
Image Structure Metadata:
 COMPRESSION=LZW
 INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( -201111.405,-2284012.344) ( 50d 1'55.27"W, 69d 3'39.06"N)
Lower Left  ( -201111.405,-2298967.344) ( 49d59'58.03"W, 68d55'39.79"N)
Upper Right ( -183392.405,-2284012.344) ( 49d35'26.36"W, 69d 4'26.88"N)
Lower Right ( -183392.405,-2298967.344) ( 49d33'39.31"W, 68d56'27.28"N)
Center      ( -192251.905,-2291489.844) ( 49d47'44.82"W, 69d 0' 3.78"N)
Band 1 Block=256x256 Type=Float32, ColorInterp=Gray
 NoData Value=0

LZW-compressed, -r gauss:

gdaladdo -r gauss WV02_10JUL091534204-P1BS-1030010005B3D100__WV02_10JUL091533199-P1BS-103001000612DC00-DEM.tif 2 4 8 16 32
0Bus error

LZW-compressed, -r average:

gdaladdo -r average WV02_10JUL091534204-P1BS-1030010005B3D100__WV02_10JUL091533199-P1BS-103001000612DC00-DEM.tif 2 4 8 16 32
0...10...20...30...40...50...60...70...80...90...100 - done.

Decompressed, -r gauss:

gdaladdo -r gauss WV02_10JUL091534204-P1BS-1030010005B3D100__WV02_10JUL091533199-P1BS-103001000612DC00-DEM_nolzw.tif 2 4 8 16 32
0...10...20...30...40...50...60...70...80...90...100 - done.



From even.rouault at mines-paris.org  Fri Oct  5 13:47:27 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 5 Oct 2012 22:47:27 +0200
Subject: [gdal-dev] gdaladdo bus errors for large, LZW-compressed GTiff
In-Reply-To: <9AC1614D-07FB-4169-BCC3-E111125C0CDC@uw.edu>
References: <9AC1614D-07FB-4169-BCC3-E111125C0CDC@uw.edu>
Message-ID: <201210052247.27545.even.rouault@mines-paris.org>

Le vendredi 05 octobre 2012 22:21:27, David Shean a ?crit :
> While the topic of gdaladdo resampling methods is active...
> 
> I get bus errors when I use gdaladdo's gauss resampling method for large,
> float32, LZW-compressed GTiff.  This is repeatable.

Repeatable on various large float32 LZW-compressed GTiff, or that particular one 
?

> Using a different
> gdaladdo resampling method (e.g., average) on the same LZW-compressed
> GTiff works. When I decompress first, gdaladdo with gauss works.
> For smaller, LZW-compressed GTiff input, gdaladdo with gauss works.
> 
> I'm using gdal 1.9.1 with internal libtiff, libgeotiff, libz on OS X 10.7.
> 
> Hopefully this will involve a simple fix.  Thanks.

This is something very likely related to update-in-place TIFF support, so 
generally not in the "simple fix" category. You might want to re-check with 
GDAL trunk whose internal libtiff has received per 
http://trac.osgeo.org/gdal/ticket/4771 a fix in that area (no promise that it 
fixes your particular issue).

Otherwise, if you can provide a link to the dataset, I can try to see if I 
reproduce.

That kind of bug really depends on how the imagery compress. I have created a 
fake dataset with similar characteristics to yours with :

$ python
from osgeo import gdal
ds = gdal.GetDriverByName('GTiff').Create('buglzw.tif',  17719, 14955, \
		1, gdal.GDT_Float32, options = ['TILED=YES', 'COMPRESS=LZW'])
ds.GetRasterBand(1).SetNoDataValue(0)
ds = None

And :
$ gdaladdo  -r gauss buglzw.tif 2 4 8 16 32
0...10...20...30...40...50...60...70...80...90...100 - done.


From warmerdam at pobox.com  Fri Oct  5 13:55:34 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 5 Oct 2012 13:55:34 -0700
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <201210052156.45824.even.rouault@mines-paris.org>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
	<1349454975.506f0c7f4762f@imp.free.fr>
	<CA+TxYvOfetXP5NhN=_cqG1EJ8tujaoXkNP7un3jEJvxvgh64bw@mail.gmail.com>
	<201210052156.45824.even.rouault@mines-paris.org>
Message-ID: <CA+YzLBctnyjnSJWHENumsBg6jqX0R-dZvoaJm0_==ohm_dbTFw@mail.gmail.com>

On Fri, Oct 5, 2012 at 12:56 PM, Even Rouault
<even.rouault at mines-paris.org>wrote:

> > >> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
> > >> and why is it still available?
> > >
> > > Historical remain ? Could likely be undocumented.
> >
> > ok I will remove it, should it be removed/commented from the code also?
>
> Undocumenting seems appropriate. As far as removing the implementation, you
> might want to check with the original committer (FrankW)
>

Etienne,

Are AVERAGE_MP and AVERAGE_MAGPHASE really different things?  That seems
odd.

I don't know why it reports them as not ready for production use.  I would
not want them removed, but I don't mind them not being documented.

I peeked at the qgis bug report about magphase but I see the test data is
no longer available.  If there are problems with magphase support that can
be demonstrated and filed as a bug I'd be interested in resolving them.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121005/54549c26/attachment-0001.html>

From warmerdam at pobox.com  Fri Oct  5 14:02:25 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 5 Oct 2012 14:02:25 -0700
Subject: [gdal-dev] Topological pointer
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>
Message-ID: <CA+YzLBcCz-pkL08BBXTFTiBHzbXY4qwjhgZ4MAnZemT3gQrcYA@mail.gmail.com>

Nikhil,

>From the code it appears the TOPI field will be represented on the vector
primitives when you enable treating vector primitives as features.  To
enable this you need to set the RETURN_PRIMITIVES=ON configuration option.
 See the S57 driver page for some background.

http://www.gdal.org/ogr/drv_s57.html

It looks like the attributes will be named TOPI_0 and TOPI_1 and will be
integer fields containing the start and end point id I gather.  The S57
topology support is a pretty fuzzy in my head.  There is also other
topological information (I think) accessable on the vector primitive
features.  Some likely as hard to use list attributes.

Best regards,
Frank

On Fri, Oct 5, 2012 at 11:06 AM, Nikhil Sai Parupalli <
nikhil.parupalli at iictechnologies.com> wrote:

>  Hi All,
>
>  We are working on project which renders S57 dataset , I used GDAL for
> rendering GIS data and DOTSPATIAL for displaying map.
> Here I could read dataset , but can any one know how do we get Topological
> Indicator value
>
>
>
>  Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required.
> Save paper , stay Green
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121005/5e228d9e/attachment.html>

From even.rouault at mines-paris.org  Fri Oct  5 14:18:51 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 5 Oct 2012 23:18:51 +0200
Subject: [gdal-dev] update to overview resampling methods?
In-Reply-To: <CA+YzLBctnyjnSJWHENumsBg6jqX0R-dZvoaJm0_==ohm_dbTFw@mail.gmail.com>
References: <CA+TxYvMA4aLQjS6PhO5dgN27Ug4bWYbES3uZdKkqhXqSBwWyow@mail.gmail.com>
	<201210052156.45824.even.rouault@mines-paris.org>
	<CA+YzLBctnyjnSJWHENumsBg6jqX0R-dZvoaJm0_==ohm_dbTFw@mail.gmail.com>
Message-ID: <201210052318.51441.even.rouault@mines-paris.org>

Le vendredi 05 octobre 2012 22:55:34, Frank Warmerdam a ?crit :
> On Fri, Oct 5, 2012 at 12:56 PM, Even Rouault
> 
> <even.rouault at mines-paris.org>wrote:
> > > >> 3) why is AVERAGE_MP considered unfit for use in the gdaladdo docs?
> > > >> and why is it still available?
> > > > 
> > > > Historical remain ? Could likely be undocumented.
> > > 
> > > ok I will remove it, should it be removed/commented from the code also?
> > 
> > Undocumenting seems appropriate. As far as removing the implementation,
> > you might want to check with the original committer (FrankW)
> 
> Etienne,
> 
> Are AVERAGE_MP and AVERAGE_MAGPHASE really different things?  That seems
> odd.

Good question : svn blame points to activity dating back to 11 years ago ;-)

AVERAGE_MP was added in http://trac.osgeo.org/gdal/changeset/1989
AVERAGE_MAGPHASE was added in http://trac.osgeo.org/gdal/changeset/2327

My undertanding of the code is that AVERAGE_MP, at the end of a regular 
AVERAGE, calls GDALOverviewMagnitudeCorrection() which does

/*      Correct the mean and standard deviation of the overviews of     */
/*      the given band to match the base layer approximately.           */

and can apparently deal with regular or complex data types. 
GDALOverviewMagnitudeCorrection() compute statistics globally on the source 
band and on the overview band

Whereas AVERAGE_MAGPHASE only works for complex data types, and does the 
correction only on the source window used to compute each target overview 
pixel.

> 
> I don't know why it reports them as not ready for production use. 

That mention (specific to average_mp, but not to average_magphase) is in the 
initial documentation of gdaladdo : http://trac.osgeo.org/gdal/changeset/7276

Perhaps AVERAGE_MAGPHASE was assumed to be better than the original AVERAGE_MP 
?

> I would
> not want them removed, but I don't mind them not being documented.
> 
> I peeked at the qgis bug report about magphase but I see the test data is
> no longer available.  If there are problems with magphase support that can
> be demonstrated and filed as a bug I'd be interested in resolving them.
> 
> Best regards,

From csbruce at cubewerx.com  Fri Oct  5 15:32:58 2012
From: csbruce at cubewerx.com (Craig Bruce)
Date: Fri, 5 Oct 2012 18:32:58 -0400
Subject: [gdal-dev] GDAL WCS driver
Message-ID: <201210052232.q95MWwlQ023456@tux.cubewerx.com>

I have encountered a couple of issues with the WCS driver of GDAL 1.9.0
when accessing my WCS 1.0.0 server.  The WCS driver doesn't recognize
the color interpretations of image bands.  For example (from a server
not accessible to the outside world):

[dev:~] gdalinfo gdal_wcs_terrapixel.xml 
Driver: WCS/OGC Web Coverage Service
Files: gdal_wcs_terrapixel.xml
Size is 106056, 28584
Coordinate System is:
PROJCS["NAD83 / UTM zone 15N",
...
Origin = (260489.000000000000000,3667255.000000000000000)
Pixel Size = (0.500000000000000,-0.500000000000000)
Corner Coordinates:
Upper Left  (  260489.000, 3667255.000) ( 95d34' 1.15"W, 33d 7' 3.30"N)
Lower Left  (  260489.000, 3652963.000) ( 95d33'47.69"W, 32d59'19.66"N)
Upper Right (  313517.000, 3667255.000) ( 94d59'56.38"W, 33d 7'40.78"N)
Lower Right (  313517.000, 3652963.000) ( 94d59'45.90"W, 32d59'56.96"N)
Center      (  287003.000, 3660109.000) ( 95d16'52.90"W, 33d 3'31.34"N)
Band 1 Block=1024x512 Type=Byte, ColorInterp=Undefined
  Overviews: 53028x14292, 26514x7146, 13257x3573, 6628x1786, 3314x893, 1657x446, 828x223
Band 2 Block=1024x512 Type=Byte, ColorInterp=Undefined
  Overviews: 53028x14292, 26514x7146, 13257x3573, 6628x1786, 3314x893, 1657x446, 828x223
Band 3 Block=1024x512 Type=Byte, ColorInterp=Undefined
  Overviews: 53028x14292, 26514x7146, 13257x3573, 6628x1786, 3314x893, 1657x446, 828x223
Band 4 Block=1024x512 Type=Byte, ColorInterp=Undefined
  Overviews: 53028x14292, 26514x7146, 13257x3573, 6628x1786, 3314x893, 1657x446, 828x223

They're all "Undefined".  However, if I use GDAL to examine the 2x2 GeoTIFF
"sample" image that GDAL requests from the WCS server to determine the
band types, GDAL reports the information properly, of course:

[dev:~] gdalinfo terra_gdal_sampler.tif
Driver: GTiff/GeoTIFF
Files: terra_gdal_sampler.tif
Size is 2, 2
Coordinate System is:
PROJCS["NAD83 / UTM zone 15N",
...
Origin = (260488.500000000000000,3667255.500000000000000)
Pixel Size = (1.000000000000000,-1.000000000000000)
Metadata:
  AREA_OR_POINT=Area
  TIFFTAG_IMAGEDESCRIPTION=Geo.scene_id: terrapixel
  TIFFTAG_RESOLUTIONUNIT=1 (unitless)
  TIFFTAG_SOFTWARE=CubeWerx Suite 6.3.4
  TIFFTAG_XRESOLUTION=1
  TIFFTAG_YRESOLUTION=1
Image Structure Metadata:
  COMPRESSION=DEFLATE
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (  260488.500, 3667255.500) ( 95d34' 1.17"W, 33d 7' 3.32"N)
Lower Left  (  260488.500, 3667253.500) ( 95d34' 1.16"W, 33d 7' 3.25"N)
Upper Right (  260490.500, 3667255.500) ( 95d34' 1.09"W, 33d 7' 3.32"N)
Lower Right (  260490.500, 3667253.500) ( 95d34' 1.09"W, 33d 7' 3.25"N)
Center      (  260489.500, 3667254.500) ( 95d34' 1.13"W, 33d 7' 3.29"N)
Band 1 Block=2x2 Type=Byte, ColorInterp=Red
  Mask Flags: PER_DATASET ALPHA 
Band 2 Block=2x2 Type=Byte, ColorInterp=Green
  Mask Flags: PER_DATASET ALPHA 
Band 3 Block=2x2 Type=Byte, ColorInterp=Blue
  Mask Flags: PER_DATASET ALPHA 
Band 4 Block=2x2 Type=Byte, ColorInterp=Alpha

Shouldn't it be able to retain this information?  As it is, clients won't
be able to utilize the Alpha channel.  It looks like it's thrown away in
the inforation being cached in the <WCS_GDAL> file:

  <PreferredFormat>GeoTIFF</PreferredFormat>
  <BandCount>4</BandCount>
  <BandType>Byte</BandType>

There's no band description other than the count and data type and
it doesn't attempt to retain the 2x2 sample GeoTIFF image, which is
relatively small.

There's also an oddity with the sample image requested.  The request from
GDAL in my http log is:

base_url?datastore=cwtile&SERVICE=WCS&VERSION=1.0.0&REQUEST=GetCoverage&COVERAGE=terrapixel&FORMAT=GeoTIFF&BBOX=260489,3667254,260490,3667255&WIDTH=2&HEIGHT=2&CRS=EPSG:26915

As you can see in the gdalinfo of the WCS itself, the pixel resolution
is 0.5m, but this request is for 1.0m, since WCS BBOX= coordinates use
pixel-is-point sematics rather than pixel-is-area, this is requesting a
different resolution from the native resolution and is going outside of
the source-data area, which is advertised in the WCS DescribeCoverage as:

<gml:Envelope srsName="EPSG:26915">
  <gml:pos dimension="2">260489.25 3652963.25</gml:pos>
  <gml:pos dimension="2">313516.75 3667254.75</gml:pos>
</gml:Envelope>

The gdalinfo interprets this (and the equivalent <RectifiedGrid>)
information from the WCS correctly with the pixel-is-point semantic and
converts it properly to GDAL's pixel-is-area semantic and displays:

Upper Left  (  260489.000, 3667255.000) ( 95d34' 1.15"W, 33d 7' 3.30"N)
Lower Left  (  260489.000, 3652963.000) ( 95d33'47.69"W, 32d59'19.66"N)
Upper Right (  313517.000, 3667255.000) ( 94d59'56.38"W, 33d 7'40.78"N)
Lower Right (  313517.000, 3652963.000) ( 94d59'45.90"W, 32d59'56.96"N)
Center      (  287003.000, 3660109.000) ( 95d16'52.90"W, 33d 3'31.34"N)

The same thing happens when requesting live data, which elevates this
oddity to a bug.  If I enter the following into my own application (which
uses pixel-is-area semantics like GDAL does) for a 10m x 10m window at
the top-left corner:

[dev:~] cwplot gdal_wcs_terrapixel.xml format=gdal bbox=260489,3667245,260499,3667255 cs=26915 width=20 height=20

it results in the GDAL generating the WCS request:

base_url?datastore=cwtile&SERVICE=WCS&VERSION=1.0.0&REQUEST=GetCoverage&COVERAGE=terrapixel&FORMAT=GeoTIFF&BBOX=260489,3667245,260499,3667255&WIDTH=20&HEIGHT=20&CRS=EPSG:26915

which is wrong since it hasn't been converted to the pixel-is-point
semantic of the WCS.  It's doing an awkward, shifted resampling of the
source data.

Apparently, other people have run into this problem, too:

http://blog.minst.net/2009/12/09/perceived-wcs-inaccuracy
http://jira.codehaus.org/browse/GEOS-3702

Or are WCSes supposed report data extents as pixel-is-point in
GetCapabilities and DescribeCoverage but accept BBOXes as pixel-is-area
in GetCoverage?  That would be bizarre.  I can't find a place in the WCS
1.0.0 spec where it actually explicitly clears this up.  Does anyone know
what MapServer does about this?

--------------------------+----------------------+--------------------------
Dr. Craig S. Bruce        | Ph 819-771-8303 x205 |             CubeWerx Inc.
Senior Software Developer |   Fax 819-771-8388   |  Gatineau, Qu?bec, Canada
csbruce at cubewerx.com      |  http://csbruce.com/ |  http://www.cubewerx.com/
--------------------------+----------------------+--------------------------
         "And now for tonight's hockey scores -- ZERO!! Ha-ha-ha!"

From ari.jolma at gmail.com  Sat Oct  6 02:12:41 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sat, 06 Oct 2012 12:12:41 +0300
Subject: [gdal-dev] MinGW build
In-Reply-To: <506F1431.2080306@gmail.com>
References: <506EF491.6020707@gmail.com> <1349452623.506f034f35102@imp.free.fr>
	<506F1431.2080306@gmail.com>
Message-ID: <506FF609.7030401@gmail.com>

5.10.2012 20:09, Ari Jolma kirjoitti:
> I got libgdal.dll compiled but the Perl bindings seem even harder (the 
> bindings dll does not load).

Working on the MinGW build I've progressed quite far but run into 
trouble with DLL loading. The problem seems to be related to OSR.

I've built the Perl bindings and another Perl interface to another C 
library, which uses GDAL and GTK+. It seems that something happens when 
the other Perl interface loads GDAL and GTK+ that makes it impossible to 
load OSR.

I'm using Dependency Walker, which shows which DLLs get loaded etc. In 
Perl the initialization is done by calling "use Module".

use Geo::OSR;
is ok as a program, GDAL (and GEOS) get loaded fine.

use Geo::Raster;
is ok as a program, GTK+ and GDAL get loaded fine (output 1).

use Geo::Raster;
use Geo::OSR;
is not ok, Access violation happens in NTDLL.DLL (in A_SHAFinal) (output 2).

Any ideas would be welcome. Is there something in the GDAL/OSR/OSR Swig 
bindings that would cause this? Am I right in thinking that the problem 
is related to OSR / GDAL? Maybe GTK+ screws up something? Any ideas how 
to see inside NTDLL.DLL?

Cheers,

Ari

output 1:
LoadLibraryExA("c:\geoinformatica\site\lib\auto\Geo\OSR\OSR.dll", 
0x00000000, LOAD_WITH_ALTERED_SEARCH_PATH) called from "PERL516.DLL" at 
address 0x713D3765.
Loaded "OSR.DLL" at address 0x68600000.  Successfully hooked module.
Loaded "LIBGDAL-1.DLL" at address 0x01A20000.  Successfully hooked module.
Loaded "LIBICONV-2.DLL" at address 0x66000000.  Successfully hooked module.
Loaded "LIBGEOS_C-1.DLL" at address 0x70040000.  Successfully hooked module.
Loaded "LIBGEOS-3-3-5.DLL" at address 0x6A500000.  Successfully hooked 
module.
DllMain(0x66000000, DLL_PROCESS_ATTACH, 0x00000000) in "LIBICONV-2.DLL" 
called.
GetProcAddress(0x6E940000 [LIBGCC_S_DW2-1.DLL], "__register_frame_info") 
called from "LIBICONV-2.DLL" at address 0x660011AB and returned 0x6E956744.
DllMain(0x66000000, DLL_PROCESS_ATTACH, 0x00000000) in "LIBICONV-2.DLL" 
returned 1 (0x1).
DllMain(0x6A500000, DLL_PROCESS_ATTACH, 0x00000000) in 
"LIBGEOS-3-3-5.DLL" called.
GetProcAddress(0x6E940000 [LIBGCC_S_DW2-1.DLL], "__register_frame_info") 
called from "LIBGEOS-3-3-5.DLL" at address 0x6A5011E7 and returned 
0x6E956744.
DllMain(0x6A500000, DLL_PROCESS_ATTACH, 0x00000000) in 
"LIBGEOS-3-3-5.DLL" returned 1 (0x1).
DllMain(0x70040000, DLL_PROCESS_ATTACH, 0x00000000) in "LIBGEOS_C-1.DLL" 
called.
GetProcAddress(0x6E940000 [LIBGCC_S_DW2-1.DLL], "__register_frame_info") 
called from "LIBGEOS_C-1.DLL" at address 0x700411E7 and returned 0x6E956744.
DllMain(0x70040000, DLL_PROCESS_ATTACH, 0x00000000) in "LIBGEOS_C-1.DLL" 
returned 1 (0x1).
DllMain(0x01A20000, DLL_PROCESS_ATTACH, 0x00000000) in "LIBGDAL-1.DLL" 
called.
GetProcAddress(0x6E940000 [LIBGCC_S_DW2-1.DLL], "__register_frame_info") 
called from "LIBGDAL-1.DLL" at address 0x01A211E7 and returned 0x6E956744.
DllMain(0x01A20000, DLL_PROCESS_ATTACH, 0x00000000) in "LIBGDAL-1.DLL" 
returned 1 (0x1).
DllMain(0x68600000, DLL_PROCESS_ATTACH, 0x00000000) in "OSR.DLL" called.
GetProcAddress(0x6E940000 [LIBGCC_S_DW2-1.DLL], "__register_frame_info") 
called from "OSR.DLL" at address 0x686011E7 and returned 0x6E956744.
DllMain(0x68600000, DLL_PROCESS_ATTACH, 0x00000000) in "OSR.DLL" 
returned 1 (0x1).
LoadLibraryExA("c:\geoinformatica\site\lib\auto\Geo\OSR\OSR.dll", 
0x00000000, LOAD_WITH_ALTERED_SEARCH_PATH) returned 0x68600000.
GetProcAddress(0x68600000 [OSR.DLL], "boot_Geo__OSR") called from 
"PERL516.DLL" at address 0x713D6512 and returned 0x68616D74.

output 2:
LoadLibraryExA("c:\geoinformatica\site\lib\auto\Geo\OSR\OSR.dll", 
0x00000000, LOAD_WITH_ALTERED_SEARCH_PATH) called from "PERL516.DLL" at 
address 0x713D3765.
Loaded "OSR.DLL" at address 0x00410000.  Successfully hooked module.
First chance exception 0xC0000005 (Access Violation) occurred in 
"NTDLL.DLL" at address 0x7702049E.
Unloaded "OSR.DLL" at address 0x00410000.
LoadLibraryExA("c:\geoinformatica\site\lib\auto\Geo\OSR\OSR.dll", 
0x00000000, LOAD_WITH_ALTERED_SEARCH_PATH) returned NULL. Error: Invalid 
access to memory location (998).



From jukka.rahkonen at mmmtike.fi  Sat Oct  6 02:25:50 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sat, 6 Oct 2012 09:25:50 +0000 (UTC)
Subject: [gdal-dev] GDAL WCS driver
References: <201210052232.q95MWwlQ023456@tux.cubewerx.com>
Message-ID: <loom.20121006T110709-190@post.gmane.org>


Craig Bruce <csbruce <at> cubewerx.com> writes:

>
base_url?datastore=cwtile&SERVICE=WCS&VERSION=1.0.0&REQUEST=
GetCoverage&COVERAGE=terrapixel&FORMAT=GeoTIFF&
BBOX=260489,3667254,260490,3667255
&WIDTH=2&HEIGHT=2&CRS=EPSG:26915

> As you can see in the gdalinfo of the WCS itself, the pixel resolution
> is 0.5m, but this request is for 1.0m, since WCS BBOX= coordinates use
> pixel-is-point sematics rather than pixel-is-area, this is requesting a
> different resolution from the native resolution and is going outside of
> the source-data area, which is advertised in the WCS 
> DescribeCoverage as:

For me the request is quite normal. WCS supports resampling and also 
requests going partly outside the coverage area. This is from the 1.0.0
standard:
"For any part of the coverage domain that is partly or entirely 
contained in the Bounding Box defined by BBOX, the server must 
return coverage data in the "requested format.

Do you think that GDAL does not get the information it needs by 
doing the query as it does with 1 m pixels?

>
base_url?datastore=cwtile&SERVICE=WCS&VERSION=1.0.0&REQUEST=
GetCoverage&COVERAGE=terrapixel&FORMAT=GeoTIFF&
BBOX=260489,3667245,260499,3667255
&WIDTH=20&HEIGHT=20&CRS=EPSG:26915
> 
> which is wrong since it hasn't been converted to the pixel-is-point
> semantic of the WCS.  It's doing an awkward, shifted resampling of the
> source data.

WCS 1.0.0 does not discuss about pixel is point /pixel is area. Standard
says "A GetCoverage request may include a 1-D, 2-D, or 3-D spatial 
constraint expressed as a rectangle (or line, or parallelepiped) 
aligned with the axes of the spatial reference system given in the 
CRS parameter. Such a constraint is expressed as a BBOX parameter 
representing the coordinates of the southwest/lower and northeast/upper
 corners (in that order) as comma-separated numbers (e.g., minx, miny, 
maxx, maxy)."

>From what I know the interpretation that BBOX presents pixel outmost 
extents is used by WCS servers like Mapserver and Geoserver.  
WCS 1.1.0 is the first version which clearly describes the pixel 
is point strategy. 
> Apparently, other people have run into this problem, too:
> 
> Or are WCSes supposed report data extents as pixel-is-point in
> GetCapabilities and DescribeCoverage but accept BBOXes as pixel-is-area
> in GetCoverage?  That would be bizarre.  I can't find a place in the WCS
> 1.0.0 spec where it actually explicitly clears this up.  Does anyone know
> what MapServer does about this?

WCS is bizarre. Version 1.0.0 behaves in a way that feels natural 
for WMS users because the BBOX means the same. If you want pixel 
is point logic, use WCS 1.1.0 or 2.0. 

-Jukka Rahkonen-



From matt.nottingham at zen.co.uk  Sun Oct  7 01:57:05 2012
From: matt.nottingham at zen.co.uk (matt.nottingham at zen.co.uk)
Date: Sun, 7 Oct 2012 09:57:05 +0100
Subject: [gdal-dev] NITF DESDATA
Message-ID: <20593.17377.860391.708930@scarlett.localhost>



Hi,

I'm trying to access the DESDATA segment of a nitf file. Nothing
appears to happen in the default build - i.e. getmetadata("DES") (or
getmetadata("NITF_DES")) doesn't return anything. Looking at the NITF
driver I can see it has all of the code necessary to read the DES part
of nitf files, but its all protected by a #ifdef ESRI_BUILD. If I
bodge the fmts/nitf/gnumakefile (I'm on FC16) to have a -DESRI_BUILD
in the CFLAG variable then it all works as expected. So my questions
are:

1) Have I missed something stupid and desdata can be read by a default
build? (I'm using gdal 1.9.0)

2) Why doesn't the default build of gdal read desdata? (It seems odd
to have all the code then not use it - there must be a good reason for
that).

3) What is the ESRI_BUILD flag? I can't find any docs on it - its not
clear which option(s) set it.

Sadly Google has failed me on the above - I can see people *are*
reading it (http://trac.osgeo.org/gdal/ticket/4803), so why can't I!


Thanks very much,

Matt


From even.rouault at mines-paris.org  Sun Oct  7 02:42:30 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 7 Oct 2012 11:42:30 +0200
Subject: [gdal-dev] Travis CI continuous integration service for GDAL
Message-ID: <201210071142.31090.even.rouault@mines-paris.org>

Hi,

Following a recent similar move from MapServer, I've setup an instance of 
Travis CI, hosted continuous integration service. After each SVN commit in 
trunk, GDAL is built and the Java, Perl and Python tests are run.

Travis CI currently offers Ubuntu 12.04 i386 virtual machines. The GDAL build 
is configured with almost any possible dependencies to external libraries (see 
http://trac.osgeo.org/gdal/wiki/Buildbot for the list)

You can access to the latest builds here :
https://travis-ci.org/#!/rouault/gdal/builds

The result of builds is also notified on #gdal on irc.freenode.net and emailed 
to gdal-commits at lists.osgeo.org (only failures, or failure->success 
transitions are notified). It seems that a full build with tests takes about 10 
minutes (but I guess this may vary according to the load of the service).

When committing, you can prevent a build from being triggered by including the 
"[ci skip]" string in the commit message.

Technical details
------------------------

As Travis CI is closely linked with GIT, I've setup a cron job (with a 1 
minute frequency) on my computer (*) that refreshes a GIT mirror of the GDAL 
SVN trunk, and pushes it to https://github.com/rouault/gdal . Travis-CI is 
notified by GitHub each time a commit is done into that repository.

A http://svn.osgeo.org/gdal/trunk/.travis.yml file has been added at the root 
of the trunk. This file contains the instructions to download dependency 
libraries, setup databases (PostgreSQL, MySQL) that will be used for testing, 
build GDAL and its bindings, and run the tests.
 
For GDAL committers that wish to tweak .travis.yml, you can find the syntax of 
that file at http://about.travis-ci.org/docs/user/build-configuration/

One caveat of that system is that you don't have direct access to the Travis 
CI VM. So when tests fail on it and not on your own development machine, it 
might be hard to debug and fix them. Setting up a Ubuntu 12.04 i386 server 
edition VM and reproducing the instructions of .travis.yml will help in most 
cases. If a test fails specifically on Travis and cannot be fixed, you can skip 
it with

if gdaltest.skip_on_travis():
	return "skip"

in the Python autotest suite. One limitation I found is that the tests that 
create huge sparse files (several gigabytes) fail, probably due to the disk 
quota affected to the VM. There are also failures in a few tests involving 
gdal.VSIStatL() that I couldn't reproduce on my own VM, so those failures have 
been turned into skip to keep the build "green".

Note that to speed up the build, GDAL is compiled with clang 3.1 with --
enable-debug. Due to timeouts that would kill the build instance if the build 
and tests take too much time, I haven't turned on the GDAL_DOWNLOAD_TEST_DATA 
= YES environment variable that causes big test datasets, which are not in 
SVN, to be downloaded, so those tests will be skipped. For not too big 
datasets, manual downloading can still be done in .travis.yml (see the 
"script" section).

Best regards,

Even

(*)  The consequence is that when I turn off my computer for vacations, the 
refresh of the GIT repository will be paused.

From even.rouault at mines-paris.org  Sun Oct  7 03:47:05 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 7 Oct 2012 12:47:05 +0200
Subject: [gdal-dev] NITF DESDATA
In-Reply-To: <20593.17377.860391.708930@scarlett.localhost>
References: <20593.17377.860391.708930@scarlett.localhost>
Message-ID: <201210071247.05680.even.rouault@mines-paris.org>

Le dimanche 07 octobre 2012 10:57:05, matt.nottingham at zen.co.uk a ?crit :
> Hi,
> 
> I'm trying to access the DESDATA segment of a nitf file. Nothing
> appears to happen in the default build - i.e. getmetadata("DES") (or
> getmetadata("NITF_DES")) doesn't return anything. Looking at the NITF
> driver I can see it has all of the code necessary to read the DES part
> of nitf files, but its all protected by a #ifdef ESRI_BUILD. If I
> bodge the fmts/nitf/gnumakefile (I'm on FC16) to have a -DESRI_BUILD
> in the CFLAG variable then it all works as expected. So my questions
> are:
> 
> 1) Have I missed something stupid and desdata can be read by a default
> build? (I'm using gdal 1.9.0)

Reading DES with GDAL API is certainly an advanced capability, so nothing 
"stupid" missed here.

> 
> 2) Why doesn't the default build of gdal read desdata? (It seems odd
> to have all the code then not use it - there must be a good reason for
> that).

In fact, you can read the TREs that are in a DE segment by using the 
GetMetadata("TRE") or GetMetadata("xml:TRE"). But if you are interested in the 
raw segment information, you'll have to use the NITF C API, which is semi 
public (isn't guaranteed to be as stable as the GDAL C API). See 
NITFDESAccess() / NITFDESDeaccess()  in frmts/nitf/nitflib.h

> 
> 3) What is the ESRI_BUILD flag? I can't find any docs on it - its not
> clear which option(s) set it.

ESRI_BUILD protects code paths that are specific (or deemed as specific) to ESRI 
needs. They have their own branch of GDAL with some tweaks that haven't been 
vetted as general purpose (or whose rationale has not been clearly understood 
to enable them by default).

In the case of NITF, there are sometimes overlaps between what they have done 
and what exists in standard GDAL. They have also selected Base64 escaping 
whereas the rest of the NITF driver traditionnaly used a "backslash quoting" 
escaping. So the merging isn't easy, and in that case of DESDATA, we haven't 
yet figured out how to do it (see NITF_DES_XML_DATA_CONTENT_DESDATA )

> 
> Sadly Google has failed me on the above - I can see people *are*
> reading it (http://trac.osgeo.org/gdal/ticket/4803), so why can't I!

The reporter of the ticket uses NITFDESAccess() directly in its application.

> 
> 
> Thanks very much,
> 
> Matt
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From matt.nottingham at zen.co.uk  Sun Oct  7 03:59:08 2012
From: matt.nottingham at zen.co.uk (matt.nottingham at zen.co.uk)
Date: Sun, 7 Oct 2012 11:59:08 +0100
Subject: [gdal-dev] NITF DESDATA
In-Reply-To: <201210071247.05680.even.rouault@mines-paris.org>
References: <20593.17377.860391.708930@scarlett.localhost>
	<201210071247.05680.even.rouault@mines-paris.org>
Message-ID: <20593.24700.384862.574395@scarlett.localhost>


Thanks for your quick & insightful reply.

I'll have a (re)look at getmetadata("tre") - but I seem to remember
that it didn't return anything, but I'll check again. I'll also look
into NITFDESAccess() / NITFDESDeaccess().

Thanks again,

Matt

Even Rouault writes:
 > Le dimanche 07 octobre 2012 10:57:05, matt.nottingham at zen.co.uk a ?crit :
 > > Hi,
 > > 
 > > I'm trying to access the DESDATA segment of a nitf file. Nothing
 > > appears to happen in the default build - i.e. getmetadata("DES") (or
 > > getmetadata("NITF_DES")) doesn't return anything. Looking at the NITF
 > > driver I can see it has all of the code necessary to read the DES part
 > > of nitf files, but its all protected by a #ifdef ESRI_BUILD. If I
 > > bodge the fmts/nitf/gnumakefile (I'm on FC16) to have a -DESRI_BUILD
 > > in the CFLAG variable then it all works as expected. So my questions
 > > are:
 > > 
 > > 1) Have I missed something stupid and desdata can be read by a default
 > > build? (I'm using gdal 1.9.0)
 > 
 > Reading DES with GDAL API is certainly an advanced capability, so nothing 
 > "stupid" missed here.
 > 
 > > 
 > > 2) Why doesn't the default build of gdal read desdata? (It seems odd
 > > to have all the code then not use it - there must be a good reason for
 > > that).
 > 
 > In fact, you can read the TREs that are in a DE segment by using the 
 > GetMetadata("TRE") or GetMetadata("xml:TRE"). But if you are interested in the 
 > raw segment information, you'll have to use the NITF C API, which is semi 
 > public (isn't guaranteed to be as stable as the GDAL C API). See 
 > NITFDESAccess() / NITFDESDeaccess()  in frmts/nitf/nitflib.h
 > 
 > > 
 > > 3) What is the ESRI_BUILD flag? I can't find any docs on it - its not
 > > clear which option(s) set it.
 > 
 > ESRI_BUILD protects code paths that are specific (or deemed as specific) to ESRI 
 > needs. They have their own branch of GDAL with some tweaks that haven't been 
 > vetted as general purpose (or whose rationale has not been clearly understood 
 > to enable them by default).
 > 
 > In the case of NITF, there are sometimes overlaps between what they have done 
 > and what exists in standard GDAL. They have also selected Base64 escaping 
 > whereas the rest of the NITF driver traditionnaly used a "backslash quoting" 
 > escaping. So the merging isn't easy, and in that case of DESDATA, we haven't 
 > yet figured out how to do it (see NITF_DES_XML_DATA_CONTENT_DESDATA )
 > 
 > > 
 > > Sadly Google has failed me on the above - I can see people *are*
 > > reading it (http://trac.osgeo.org/gdal/ticket/4803), so why can't I!
 > 
 > The reporter of the ticket uses NITFDESAccess() directly in its application.
 > 
 > > 
 > > 
 > > Thanks very much,
 > > 
 > > Matt
 > > 
 > > _______________________________________________
 > > gdal-dev mailing list
 > > gdal-dev at lists.osgeo.org
 > > http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Sun Oct  7 04:41:25 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 7 Oct 2012 13:41:25 +0200
Subject: [gdal-dev] GDAL WCS driver
In-Reply-To: <201210052232.q95MWwlQ023456@tux.cubewerx.com>
References: <201210052232.q95MWwlQ023456@tux.cubewerx.com>
Message-ID: <201210071341.25217.even.rouault@mines-paris.org>


> Shouldn't it be able to retain this information?  As it is, clients won't
> be able to utilize the Alpha channel.  It looks like it's thrown away in
> the inforation being cached in the <WCS_GDAL> file:
> 
>   <PreferredFormat>GeoTIFF</PreferredFormat>
>   <BandCount>4</BandCount>
>   <BandType>Byte</BandType>
> 
> There's no band description other than the count and data type and
> it doesn't attempt to retain the 2x2 sample GeoTIFF image, which is
> relatively small.

Patch welcome :-)

> 
> There's also an oddity with the sample image requested.  The request from
> GDAL in my http log is:
> 
> base_url?datastore=cwtile&SERVICE=WCS&VERSION=1.0.0&REQUEST=GetCoverage&COV
> ERAGE=terrapixel&FORMAT=GeoTIFF&BBOX=260489,3667254,260490,3667255&WIDTH=2&
> HEIGHT=2&CRS=EPSG:26915
> 
> As you can see in the gdalinfo of the WCS itself, the pixel resolution
> is 0.5m, but this request is for 1.0m, since WCS BBOX= coordinates use
> pixel-is-point sematics rather than pixel-is-area, this is requesting a
> different resolution from the native resolution and is going outside of
> the source-data area, which is advertised in the WCS DescribeCoverage as:
> 
> <gml:Envelope srsName="EPSG:26915">
>   <gml:pos dimension="2">260489.25 3652963.25</gml:pos>
>   <gml:pos dimension="2">313516.75 3667254.75</gml:pos>
> </gml:Envelope>

Jukka gave the answer, and my quick look at the code confirms it. See the 
following comments in WCSDataset::GetCoverage() implementation :

// WCS 1.0 extents are the outer edges of outer pixels.
// WCS 1.1 extents are centers of outer pixels.

I cannot really comment on the correctness of this, but the arguments given by 
Jukka make sense to me. In WCS 1.0, as there was no precise definition of what 
the request extents really mean, some WCS servers have taken the "classic" 
pixel-is-area approach.

I've indeed seen this in mapwcs.c implementation of MapServer :

        /* NOTE: WCS 1.1 boundingbox is center of pixel oriented, not edge
           like in WCS 1.0.  So bbox semantics are wonky till this is fixed
           later in the GetCoverage processing. */
        params->bbox.minx = atof(tokens[0]);
        params->bbox.miny = atof(tokens[1]);
        params->bbox.maxx = atof(tokens[2]);
        params->bbox.maxy = atof(tokens[3]);

and later :

    /* WCS 1.1 boundbox is center of pixel oriented. */
    if( strncasecmp(params->version,"1.1",3) == 0 ) {
      params->bbox.minx += cm->geotransform[1]/2 + cm->geotransform[2]/2;
      params->bbox.maxx -= cm->geotransform[1]/2 + cm->geotransform[2]/2;
      params->bbox.maxy += cm->geotransform[4]/2 + cm->geotransform[5]/2;
      params->bbox.miny -= cm->geotransform[4]/2 + cm->geotransform[5]/2;
    }

> 
> The gdalinfo interprets this (and the equivalent <RectifiedGrid>)
> information from the WCS correctly with the pixel-is-point semantic and
> converts it properly to GDAL's pixel-is-area semantic and displays:

Yes indeed, I can see that GDALParseGMLCoverage() converts from pixel-is-point 
semantic to pixel-is-area semantic, which is a bit inconsistant with what has 
been seen above with the logic of WCS 1.0.

I'm not familiar enough with MapServer code to be 100% sure, but my 
understanding of the code that generates RectifiedGrid would be that it uses 
pixel-is-area convention for WCS 1.0, so there might be an inconsistency there 
with what GDAL WCS 1.0 client expecs (and I'm not sure if the bug would belong 
in GDAL or MapServer...)

Best regards,

Even

From even.rouault at mines-paris.org  Sun Oct  7 05:18:49 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 7 Oct 2012 14:18:49 +0200
Subject: [gdal-dev] Small meshing utility
In-Reply-To: <CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>
References: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>
	<CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>
Message-ID: <201210071418.49783.even.rouault@mines-paris.org>


> We've written a wrapper around triangle for Python (anyone feel free
> to send me a note if you're interested), and we ended up handling that
> by spawning another process to run triangle in -- but that has
> performance issues (copying data around) which would be nice to avoid.
> 
> If only triangle has a nicer licensing scheme -- it really is a nice
> utility.

For FOSS implementations, perhaps it is worth mentionning that the next-to-
come Spatialite 4.0, when used with latest GEOS trunk (3.4.0dev), has 
DelaunayTriangulation() and ST_VoronojDiagram() functions :

https://groups.google.com/forum/?fromgroups=#!topic/spatialite-users/OP-
ME5KG0HM

http://www.gaia-gis.it/gaia-sins/spatialite-sql-4.0.0.html#p14c

- Even

From tkeitt at gmail.com  Sun Oct  7 20:33:01 2012
From: tkeitt at gmail.com (Tim Keitt)
Date: Sun, 7 Oct 2012 22:33:01 -0500
Subject: [gdal-dev] Small meshing utility
In-Reply-To: <CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>
References: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>
	<CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>
Message-ID: <CANnL8gra7Cm1jwEizK7XbP6xgA_v5xadfLK_1bmk+uVztUjhXA@mail.gmail.com>

On Fri, Oct 5, 2012 at 11:11 AM, Chris Barker <chris.barker at noaa.gov> wrote:
> On Thu, Oct 4, 2012 at 6:31 PM, Tim Keitt <tkeitt at gmail.com> wrote:
>> Just letting folks know that we've released an OGR wrapper for the
>> Triangle library. It would be great if folks could test it. I could
>> also use some help improving the OGR bits.
>
> cool! though I"m a little confused as to how this fits with OGR.

OGR is used for i/o.

>
> Also -- how did you deal with the fact that triangle calls the system
> exit() function on error -- that could bring down whatever your host
> process is.

Its a simple command line utility. Not much harm done if it calls exit.

>
> We've written a wrapper around triangle for Python (anyone feel free
> to send me a note if you're interested), and we ended up handling that
> by spawning another process to run triangle in -- but that has
> performance issues (copying data around) which would be nice to avoid.

I don't call triangle, I pass arguments to the C-level API.

>
> If only triangle has a nicer licensing scheme -- it really is a nice utility.

Only prohibition is you can't sell it without a license.

THK

>
> -Chris
>
>
>
>
> --
>
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker at noaa.gov



-- 
Timothy H. Keitt
http://www.keittlab.org/

From samuel at groundlevel.ca  Sun Oct  7 20:39:20 2012
From: samuel at groundlevel.ca (Samuel Smith)
Date: Sun, 7 Oct 2012 20:39:20 -0700
Subject: [gdal-dev] Compile GDAL/OGR with OGDI Support on OSX 10.7.4
Message-ID: <F0BF7D0C-DC88-466B-8007-BCDFD700480E@groundlevel.ca>

Monkeying around with my first GDAL/OGR builds in Mac OS X 10.7.4 tonight ... Got it built with FGB support, then tried OGDI.

This required compiling OGDI first, which I eventually got to go with the 3.2.0-beta2 instructions from kyngchaos (http://www.kyngchaos.com/macosx/build/ogdi) - Thanks!

But now I can't get GDAL 1.9.2 to re-compile --with-ogdi ... 

My ./configure looks like this ... 

./configure --with-threads --disable-static --without-grass \
--with-geos=/opt/opengeo/pgsql/9.1/bin/geos-config --with-proj=/opt/opengeo/pgsql/9.1/bin/proj \
--with-fgdb=/Library/FileGDB_API/ --with-pg=/opt/opengeo/pgsql/9.1/bin/pg_config --with-ogdi=/usr/local/lib/ogdi/ \
--prefix="$HOME/local" CFLAGS=" -Os -arch x86_64" CXXFLAGS=" -Os -arch x86_64" LDFLAGS=" -arch x86_64"

But I keep getting told that ecs.h cannot be found ...

...
checking for jpeg12... enabled
checking for DGifOpenFileName in -lgif... no
checking gif_lib.h usability... no
checking gif_lib.h presence... no
checking for gif_lib.h... no
using internal gif code.
checking for cln_GetLayerCapabilities in -logdi... yes
configure: error: ecs.h not found.

Any lovin'? TIA, Sam


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121007/69e0d60e/attachment.html>

From nikhil.parupalli at iictechnologies.com  Sun Oct  7 22:02:52 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Mon, 8 Oct 2012 05:02:52 +0000
Subject: [gdal-dev] Topological pointer
In-Reply-To: <CA+YzLBcCz-pkL08BBXTFTiBHzbXY4qwjhgZ4MAnZemT3gQrcYA@mail.gmail.com>
References: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>,
	<CA+YzLBcCz-pkL08BBXTFTiBHzbXY4qwjhgZ4MAnZemT3gQrcYA@mail.gmail.com>
Message-ID: <139560E1825F4648BDA4F32853B530A767BD5960@IICEXHC01.iictechnologies.local>

Frank,

As said I have my system variable as

"RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON,
UPDATES=APPLY,SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON"

but still I couldn't  see TOPI field retrieved in my dataset..
Will you elaborate and let me know.

I have one more question:
How do we find  area outer boundaries are encoded clockwise based on Orientation or USAG.
here when I retrieve S57 dataset I get multiple ORNT values for a single object.




Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
________________________________
From: fwarmerdam at gmail.com [fwarmerdam at gmail.com] on behalf of Frank Warmerdam [warmerdam at pobox.com]
Sent: Saturday, October 06, 2012 2:32 AM
To: Nikhil Sai Parupalli
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Topological pointer

Nikhil,

>From the code it appears the TOPI field will be represented on the vector primitives when you enable treating vector primitives as features.  To enable this you need to set the RETURN_PRIMITIVES=ON configuration option.  See the S57 driver page for some background.

http://www.gdal.org/ogr/drv_s57.html

It looks like the attributes will be named TOPI_0 and TOPI_1 and will be integer fields containing the start and end point id I gather.  The S57 topology support is a pretty fuzzy in my head.  There is also other topological information (I think) accessable on the vector primitive features.  Some likely as hard to use list attributes.

Best regards,
Frank

On Fri, Oct 5, 2012 at 11:06 AM, Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com<mailto:nikhil.parupalli at iictechnologies.com>> wrote:
Hi All,

We are working on project which renders S57 dataset , I used GDAL for rendering GIS data and DOTSPATIAL for displaying map.
Here I could read dataset , but can any one know how do we get Topological Indicator value



Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev



--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com<mailto:warmerdam at pobox.com>
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/9c753831/attachment.html>

From warmerdam at pobox.com  Sun Oct  7 22:19:10 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun, 07 Oct 2012 22:19:10 -0700
Subject: [gdal-dev] Topological pointer
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD5960@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>,
	<CA+YzLBcCz-pkL08BBXTFTiBHzbXY4qwjhgZ4MAnZemT3gQrcYA@mail.gmail.com>
	<139560E1825F4648BDA4F32853B530A767BD5960@IICEXHC01.iictechnologies.local>
Message-ID: <5072624E.5070507@pobox.com>

On 12-10-07 10:02 PM, Nikhil Sai Parupalli wrote:
> Frank,
>
> As said I have my system variable as
>
> "RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON,
> UPDATES=APPLY,SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON"
>
> but still I couldn't  see TOPI field retrieved in my dataset..
> Will you elaborate and let me know.

Nikhil,

I don't know why you don't see it.  I see it fine on the "Edge"
layer which contains the linestring vector objects.

eg.

  OGRFeature(Edge):18
   RCNM (Integer) = 130
   RCID (Integer) = 19
   RVER (Integer) = 1
   RUIN (Integer) = 1
   NAME_RCNM_0 (Integer) = 120
   NAME_RCID_0 (Integer) = 21
   ORNT_0 (Integer) = 255
   USAG_0 (Integer) = 255
   TOPI_0 (Integer) = 1
   MASK_0 (Integer) = 255
   NAME_RCNM_1 (Integer) = 120
   NAME_RCID_1 (Integer) = 20
   ORNT_1 (Integer) = 255
   USAG_1 (Integer) = 255
   TOPI_1 (Integer) = 2
   MASK_1 (Integer) = 255
   LINESTRING (60.775 -32.6249972)

> I have one more question:
> How do we find  area outer boundaries are encoded clockwise based
> on Orientation or USAG.
> here when I retrieve S57 dataset I get multiple ORNT values for a single object.

I am not aware of any definition of outer ring winding direction.
I think the ORNT field values you see on polygons are indicating
which direction the edges were used in when composing the ring(s)
of the polygon.


   NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
   NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
   ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
   USAG (IntegerList) = (7:1,1,1,1,1,1,1)
   MASK (IntegerList) = (7:255,255,255,255,255,255,255)

So in the above feature, RCID 691 is used with orientation "2",
usage "1" and mask "255".

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer


From nikhil.parupalli at iictechnologies.com  Sun Oct  7 23:15:02 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Mon, 8 Oct 2012 06:15:02 +0000
Subject: [gdal-dev] Topological pointer
In-Reply-To: <F274D39AEC394E4E86108A09F3C35993677B0A4C@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD58A3@IICEXHC01.iictechnologies.local>,
	<CA+YzLBcCz-pkL08BBXTFTiBHzbXY4qwjhgZ4MAnZemT3gQrcYA@mail.gmail.com>
	<139560E1825F4648BDA4F32853B530A767BD5960@IICEXHC01.iictechnologies.local>,
	<5072624E.5070507@pobox.com>,
	<F274D39AEC394E4E86108A09F3C35993677B0A4C@IICEXHC01.iictechnologies.local>
Message-ID: <139560E1825F4648BDA4F32853B530A767BD5994@IICEXHC01.iictechnologies.local>

Frank,
? ?
Thanks for the reply in below data

? NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
? ?NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
? ?ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
? ?USAG (IntegerList) = (7:1,1,1,1,1,1,1)
? ?MASK (IntegerList) = (7:255,255,255,255,255,255,255)

?RCID 691 ORNT has ?2 and USAG is 1 based on this data we could identify that RCID 691 is of exterior boundary with reverse direction.

So if I have 1000 RCID in ?NAME_RCID which is vise versa for the above condition I need to display that RCIDS list as errors.
So it makes 1000 conditional checks hence reducing performance.

Please let us know further.


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: Srikanth Rao Sidduri
Sent: Monday, October 08, 2012 11:42 AM
To: Frank Warmerdam; Nikhil Sai Parupalli
Cc: gdal-dev at lists.osgeo.org
Subject: RE: [gdal-dev] Topological pointer

Frank,

Thanks for the reply in below data

  NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
   NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
   ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
   USAG (IntegerList) = (7:1,1,1,1,1,1,1)
   MASK (IntegerList) = (7:255,255,255,255,255,255,255)


 RCID 691 ORNT has  2 and USAG is 1 based on this data we could identify that RCID 691 is of exterior boundary with reverse direction.

So if I have 1000 RCID in  NAME_RCID which is vise versa for the above condition I need to display that RCIDS list as errors.
So it makes 1000 conditional checks hence reducing performance.

Please let us know further..





Thanks & Regards

Srikanth Rao Sidduri,


________________________________________
From: gdal-dev-bounces at lists.osgeo.org [gdal-dev-bounces at lists.osgeo.org] on behalf of Frank Warmerdam [warmerdam at pobox.com]
Sent: Monday, October 08, 2012 10:49 AM
To: Nikhil Sai Parupalli
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Topological pointer

On 12-10-07 10:02 PM, Nikhil Sai Parupalli wrote:
> Frank,
>
> As said I have my system variable as
>
> "RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON,
> UPDATES=APPLY,SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON"
>
> but still I couldn't  see TOPI field retrieved in my dataset..
> Will you elaborate and let me know.

Nikhil,

I don't know why you don't see it.  I see it fine on the "Edge"
layer which contains the linestring vector objects.

eg.

  OGRFeature(Edge):18
   RCNM (Integer) = 130
   RCID (Integer) = 19
   RVER (Integer) = 1
   RUIN (Integer) = 1
   NAME_RCNM_0 (Integer) = 120
   NAME_RCID_0 (Integer) = 21
   ORNT_0 (Integer) = 255
   USAG_0 (Integer) = 255
   TOPI_0 (Integer) = 1
   MASK_0 (Integer) = 255
   NAME_RCNM_1 (Integer) = 120
   NAME_RCID_1 (Integer) = 20
   ORNT_1 (Integer) = 255
   USAG_1 (Integer) = 255
   TOPI_1 (Integer) = 2
   MASK_1 (Integer) = 255
   LINESTRING (60.775 -32.6249972)

> I have one more question:
> How do we find  area outer boundaries are encoded clockwise based
> on Orientation or USAG.
> here when I retrieve S57 dataset I get multiple ORNT values for a single object.

I am not aware of any definition of outer ring winding direction.
I think the ORNT field values you see on polygons are indicating
which direction the edges were used in when composing the ring(s)
of the polygon.


   NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
   NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
   ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
   USAG (IntegerList) = (7:1,1,1,1,1,1,1)
   MASK (IntegerList) = (7:255,255,255,255,255,255,255)

So in the above feature, RCID 691 is used with orientation "2",
usage "1" and mask "255".

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Odd-Ragnar.Lydersen at powel.no  Mon Oct  8 01:42:52 2012
From: Odd-Ragnar.Lydersen at powel.no (Odd Ragnar Lydersen)
Date: Mon, 8 Oct 2012 08:42:52 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where column
	name	contains "."
In-Reply-To: <1349455148.506f0d2cee798@imp.free.fr>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
	<loom.20121005T131128-490@post.gmane.org>
	<loom.20121005T135522-646@post.gmane.org>,
	<1349453676.506f076c2743f@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A637A2D0D@suutari.haapa.mmm.fi>
	<1349455148.506f0d2cee798@imp.free.fr>
Message-ID: <BD69AB4022C5C34DAC908920605A87020A42C8@MAIL.powelasa.powel.com>

I see you have been busy discussing how to handle column names which contain dot "."
My problem is that I can't get any reasonable values from the query I make, whether I use "str1.str2" or 'str1.str2' in my expression.

In my C++ code this is:
a) const char *sSqlQuery = "SELECT \"str1.str2\" FROM 'layers:layer1'\"
b) const char *sSqlQuery = "SELECT 'str1.str2' FROM 'layers:layer1'\"

The result is the same, and I get no errors, but the column name returned to me is FIELD_1, and all values are str1.str2
What am I missing here?

When I run an ordinary query like:
const char *sSqlQuery = "SELECT \"str\" FROM 'layers:layer1'\"
then I get the correct result.

I've debugged a bit and found that OGRGenSQLResultsLayer::OGRGenSQLResultsLayer(), in ogr_gensql.cpp, generates the FIELD_1 name:
if( strlen(psColDef->field_name) == 0 )
        {
            CPLFree( psColDef->field_name );
            psColDef->field_name = (char *) CPLMalloc(40);
            sprintf( psColDef->field_name, "FIELD_%d", iField+1 );
        }

Please help, or confirm if I'm trying to do something illegal

>Odd-Ragnar<

-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org] 
Sent: 5. oktober 2012 18:39
To: Rahkonen Jukka
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] OGR SQL: Excecuting select where column name contains "."

> To follow SQL, it is recommended to you double-quote characters,
> > which might require SHELL escaping since they are already in a
> double-quoted
> > string, like :
>

> Yes, that's a good theory but it is not easy to use it on Windows. 
> Does anybody in the world know how should this one be escaped? I have 
> already tried to use ^" as inner double quotes but without success, as 
> well as having two ^^ and three ^^^.

Doh! my webmail client has changed what I have typed ! To escape double-quote in Windows shell, you need to put a backslash character before them.


From jukka.rahkonen at mmmtike.fi  Mon Oct  8 02:00:14 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon, 8 Oct 2012 09:00:14 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?OGR_SQL=3A_Excecuting_select_where_column=09?=
	=?utf-8?b?bmFtZQljb250YWlucyAiLiI=?=
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<506D7CEC.5000108@michiganwxsystem.com>
	<BD69AB4022C5C34DAC908920605A87020A214E@MAIL.powelasa.powel.com>
	<loom.20121005T131128-490@post.gmane.org>
	<loom.20121005T135522-646@post.gmane.org>,
	<1349453676.506f076c2743f@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A637A2D0D@suutari.haapa.mmm.fi>
	<1349455148.506f0d2cee798@imp.free.fr>
	<BD69AB4022C5C34DAC908920605A87020A42C8@MAIL.powelasa.powel.com>
Message-ID: <loom.20121008T105254-655@post.gmane.org>

Odd Ragnar Lydersen <Odd-Ragnar.Lydersen <at> powel.no> writes:

> 
> I see you have been busy discussing how to handle column names which contain
dot "."
> My problem is that I can't get any reasonable values from the query I make,
whether I use "str1.str2" or
> 'str1.str2' in my expression.
....

> Please help, or confirm if I'm trying to do something illegal


I can confirm that it is not illegal per se because the following works. I hope
that the backslashes and everything go through properly.

ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows
 -sql "select \"nom.dept\" from \"tows:dot.test\""

It is an open WFS server and you can test it with ogrinfo and from your code
too. However, I will remove the dot.test feature type sooner or later. Verify
and make your code to work in a similar way than ogrinfo.

-Jukka-


From emmanuel.sambale at gmail.com  Mon Oct  8 04:13:29 2012
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Mon, 8 Oct 2012 19:13:29 +0800
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
	polygons
Message-ID: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>

HI,

I have a shapefile polygon that contains administrative boundaries and
a several shapefile of various features.  I want to create separate
shapefiles of each layer feature for each administrative boundaries in
the clipping layer.

For example,

AdminPoly1
 - AdminPoly1_point.shp
 - AdminPoly1_line.shp
 - AdminPoly1_poly.shp

AdminPoly2
 - AdminPoly1_point.shp
 - AdminPoly1_line.shp
 - AdminPoly1_poly.shp

and so on.

Any advice?

-- 
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------

From ari.jolma at gmail.com  Mon Oct  8 04:28:21 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon, 08 Oct 2012 14:28:21 +0300
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
 polygons
In-Reply-To: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
Message-ID: <5072B8D5.70709@gmail.com>

On 10/08/2012 02:13 PM, maning sambale wrote:
> HI,
>
> I have a shapefile polygon that contains administrative boundaries and
> a several shapefile of various features.  I want to create separate
> shapefiles of each layer feature for each administrative boundaries in
> the clipping layer.
>
> For example,
>
> AdminPoly1
>   - AdminPoly1_point.shp
>   - AdminPoly1_line.shp
>   - AdminPoly1_poly.shp
>
> AdminPoly2
>   - AdminPoly1_point.shp
>   - AdminPoly1_line.shp
>   - AdminPoly1_poly.shp
>
> and so on.
>
> Any advice?

Maning,

The new layer methods may be what you're looking for: 
http://trac.osgeo.org/gdal/wiki/LayerAlgebra

Ari

>


From emmanuel.sambale at gmail.com  Mon Oct  8 05:21:13 2012
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Mon, 8 Oct 2012 20:21:13 +0800
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
	polygons
In-Reply-To: <5072B8D5.70709@gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
	<5072B8D5.70709@gmail.com>
Message-ID: <CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>

Thanks! Is this implemented already in the stable build?

Maning Sambale (mobile)
On Oct 8, 2012 7:28 PM, "Ari Jolma" <ari.jolma at gmail.com> wrote:

> On 10/08/2012 02:13 PM, maning sambale wrote:
>
>> HI,
>>
>> I have a shapefile polygon that contains administrative boundaries and
>> a several shapefile of various features.  I want to create separate
>> shapefiles of each layer feature for each administrative boundaries in
>> the clipping layer.
>>
>> For example,
>>
>> AdminPoly1
>>   - AdminPoly1_point.shp
>>   - AdminPoly1_line.shp
>>   - AdminPoly1_poly.shp
>>
>> AdminPoly2
>>   - AdminPoly1_point.shp
>>   - AdminPoly1_line.shp
>>   - AdminPoly1_poly.shp
>>
>> and so on.
>>
>> Any advice?
>>
>
> Maning,
>
> The new layer methods may be what you're looking for:
> http://trac.osgeo.org/gdal/**wiki/LayerAlgebra<http://trac.osgeo.org/gdal/wiki/LayerAlgebra>
>
> Ari
>
>
>>
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/8f2da059/attachment.html>

From silyko at gmail.com  Mon Oct  8 05:50:04 2012
From: silyko at gmail.com (Simon Lyngby Kokkendorff)
Date: Mon, 8 Oct 2012 14:50:04 +0200
Subject: [gdal-dev] +proj=etmerc in ogr2ogr
Message-ID: <CANzGYpTTF=2Xh-7FcTQOSjStHAO5mdD=hFRSENHX81qDsvDNyg@mail.gmail.com>

Hi List,

  For some transformations of data in Greenland we need the extended
precision of the etmerc (Extended Transverse Mercator) projection, which is
built into proj4.8. I have succesfully built the proj4.8 library and have
gotten a definition like, e.g.: +proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996
+units=m +x_0=500000 +datum=WGS84 +nodefs to work in cs2cs. I am also able
to get gdal1.9 to succesfully load my proj.dll and start up (programs like
gdalinfo, ogrinfo etc.)

However, if I try to run ogr2ogr like:

 ogr2ogr -s_srs "EPSG:25832" -t_srs "+proj=etmerc +lat_0=0 +lon_0=9
+k=0.9996
 +units=m +x_0=500000 +datum=WGS84 +nodefs" C:\DHM\analysis\bakke2.shp
C:\DHM\analysis\shape\
bakke.shp

I get the following error:

Failed to process SRS definition: +proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996
+unit
s=m +x_0=500000 +datum=WGS84 +nodefs

It works fine if I change +proj=etmerc to +proj=tmerc. Seems to me, that
somehow +proj=etmerc is not build into the "metadata system" of gdal/ogr,
so that it is not translatable to e.g. a ESRI-wkt definition. Might this be
that case, and if so, what should I update in order to get this to work?

Cheers,
Simon Kokkendorff,
National Survey and Cadastre of Denmark
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/f6882acd/attachment.html>

From ari.jolma at gmail.com  Mon Oct  8 05:57:27 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon, 08 Oct 2012 15:57:27 +0300
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
 polygons
In-Reply-To: <CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
	<5072B8D5.70709@gmail.com>
	<CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>
Message-ID: <5072CDB7.70503@gmail.com>

On 10/08/2012 03:21 PM, maning sambale wrote:
>
> Thanks! Is this implemented already in the stable build?
>

It's currently only in the trunk version.

Ari

> Maning Sambale (mobile)
>
> On Oct 8, 2012 7:28 PM, "Ari Jolma" <ari.jolma at gmail.com 
> <mailto:ari.jolma at gmail.com>> wrote:
>
>     On 10/08/2012 02:13 PM, maning sambale wrote:
>
>         HI,
>
>         I have a shapefile polygon that contains administrative
>         boundaries and
>         a several shapefile of various features.  I want to create
>         separate
>         shapefiles of each layer feature for each administrative
>         boundaries in
>         the clipping layer.
>
>         For example,
>
>         AdminPoly1
>           - AdminPoly1_point.shp
>           - AdminPoly1_line.shp
>           - AdminPoly1_poly.shp
>
>         AdminPoly2
>           - AdminPoly1_point.shp
>           - AdminPoly1_line.shp
>           - AdminPoly1_poly.shp
>
>         and so on.
>
>         Any advice?
>
>
>     Maning,
>
>     The new layer methods may be what you're looking for:
>     http://trac.osgeo.org/gdal/wiki/LayerAlgebra
>
>     Ari
>
>
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/1cc5a0aa/attachment-0001.html>

From etourigny.dev at gmail.com  Mon Oct  8 06:14:40 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Mon, 8 Oct 2012 10:14:40 -0300
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
	polygons
In-Reply-To: <5072CDB7.70503@gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
	<5072B8D5.70709@gmail.com>
	<CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>
	<5072CDB7.70503@gmail.com>
Message-ID: <CA+TxYvM69QByJMD8qTHmE1ikFN43g-K6Xm5DzHVQvbQAmu9X7A@mail.gmail.com>

generally speaking new features do not go into current stable version
(1.9), they will be incorporated into next stable version (probably
2.0).

Etienne

On Mon, Oct 8, 2012 at 9:57 AM, Ari Jolma <ari.jolma at gmail.com> wrote:
> On 10/08/2012 03:21 PM, maning sambale wrote:
>
> Thanks! Is this implemented already in the stable build?
>
>
> It's currently only in the trunk version.
>
> Ari
>
>
> Maning Sambale (mobile)
>
> On Oct 8, 2012 7:28 PM, "Ari Jolma" <ari.jolma at gmail.com> wrote:
>>
>> On 10/08/2012 02:13 PM, maning sambale wrote:
>>>
>>> HI,
>>>
>>> I have a shapefile polygon that contains administrative boundaries and
>>> a several shapefile of various features.  I want to create separate
>>> shapefiles of each layer feature for each administrative boundaries in
>>> the clipping layer.
>>>
>>> For example,
>>>
>>> AdminPoly1
>>>   - AdminPoly1_point.shp
>>>   - AdminPoly1_line.shp
>>>   - AdminPoly1_poly.shp
>>>
>>> AdminPoly2
>>>   - AdminPoly1_point.shp
>>>   - AdminPoly1_line.shp
>>>   - AdminPoly1_poly.shp
>>>
>>> and so on.
>>>
>>> Any advice?
>>
>>
>> Maning,
>>
>> The new layer methods may be what you're looking for:
>> http://trac.osgeo.org/gdal/wiki/LayerAlgebra
>>
>> Ari
>>
>>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From woklist at kyngchaos.com  Mon Oct  8 07:24:29 2012
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Mon, 8 Oct 2012 09:24:29 -0500
Subject: [gdal-dev] Compile GDAL/OGR with OGDI Support on OSX 10.7.4
In-Reply-To: <F0BF7D0C-DC88-466B-8007-BCDFD700480E@groundlevel.ca>
References: <F0BF7D0C-DC88-466B-8007-BCDFD700480E@groundlevel.ca>
Message-ID: <041BF006-3406-4DC2-9398-C3810D268138@kyngchaos.com>

There is a new problem with OGDI that I didn't account for in my build instructions: OGDI isn't updated for the new PROJ headers (that is, no projects.h).  You need to copy projects.h to your proj header location.


On Oct 7, 2012, at 10:39 PM, Samuel Smith wrote:

> Monkeying around with my first GDAL/OGR builds in Mac OS X 10.7.4 tonight ... Got it built with FGB support, then tried OGDI.
> 
> This required compiling OGDI first, which I eventually got to go with the 3.2.0-beta2 instructions from kyngchaos (http://www.kyngchaos.com/macosx/build/ogdi) - Thanks!
> 
> But now I can't get GDAL 1.9.2 to re-compile --with-ogdi ... 
> 
> My ./configure looks like this ... 
> 
> ./configure --with-threads --disable-static --without-grass \
> --with-geos=/opt/opengeo/pgsql/9.1/bin/geos-config --with-proj=/opt/opengeo/pgsql/9.1/bin/proj \
> --with-fgdb=/Library/FileGDB_API/ --with-pg=/opt/opengeo/pgsql/9.1/bin/pg_config --with-ogdi=/usr/local/lib/ogdi/ \
> --prefix="$HOME/local" CFLAGS=" -Os -arch x86_64" CXXFLAGS=" -Os -arch x86_64" LDFLAGS=" -arch x86_64"
> 
> But I keep getting told that ecs.h cannot be found ...
> 
> ...
> checking for jpeg12... enabled
> checking for DGifOpenFileName in -lgif... no
> checking gif_lib.h usability... no
> checking gif_lib.h presence... no
> checking for gif_lib.h... no
> using internal gif code.
> checking for cln_GetLayerCapabilities in -logdi... yes
> configure: error: ecs.h not found.
> 
> Any lovin'? TIA, Sam
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin



From samuel at groundlevel.ca  Mon Oct  8 07:43:21 2012
From: samuel at groundlevel.ca (Samuel Smith)
Date: Mon, 8 Oct 2012 07:43:21 -0700
Subject: [gdal-dev] Compile GDAL/OGR with OGDI Support on OSX 10.7.4
In-Reply-To: <041BF006-3406-4DC2-9398-C3810D268138@kyngchaos.com>
References: <F0BF7D0C-DC88-466B-8007-BCDFD700480E@groundlevel.ca>
	<041BF006-3406-4DC2-9398-C3810D268138@kyngchaos.com>
Message-ID: <6912416765106607288@unknownmsgid>

I did that (actually to /usr/includes/ - projects.h alongside
proj_api.h) and that let me compile GDAL just fine without OGDI (where
before those .h's were noted as missing). I've also put ecs.h in the
same place.

In turn OGDI compiled fine~ish (thanks to your instructions), it's the
extra step of building GDAL with OGDI support that's got me.

That said ... I actually have no idea what an h(eader) file does. The
quality of your instructions got me this far, not my own acumen!

Sam

Sent from my iPad

On 2012-10-08, at 7:24, William Kyngesburye <woklist at kyngchaos.com> wrote:

> There is a new problem with OGDI that I didn't account for in my build instructions: OGDI isn't updated for the new PROJ headers (that is, no projects.h).  You need to copy projects.h to your proj header location.
>
>
> On Oct 7, 2012, at 10:39 PM, Samuel Smith wrote:
>
>> Monkeying around with my first GDAL/OGR builds in Mac OS X 10.7.4 tonight ... Got it built with FGB support, then tried OGDI.
>>
>> This required compiling OGDI first, which I eventually got to go with the 3.2.0-beta2 instructions from kyngchaos (http://www.kyngchaos.com/macosx/build/ogdi) - Thanks!
>>
>> But now I can't get GDAL 1.9.2 to re-compile --with-ogdi ...
>>
>> My ./configure looks like this ...
>>
>> ./configure --with-threads --disable-static --without-grass \
>> --with-geos=/opt/opengeo/pgsql/9.1/bin/geos-config --with-proj=/opt/opengeo/pgsql/9.1/bin/proj \
>> --with-fgdb=/Library/FileGDB_API/ --with-pg=/opt/opengeo/pgsql/9.1/bin/pg_config --with-ogdi=/usr/local/lib/ogdi/ \
>> --prefix="$HOME/local" CFLAGS=" -Os -arch x86_64" CXXFLAGS=" -Os -arch x86_64" LDFLAGS=" -arch x86_64"
>>
>> But I keep getting told that ecs.h cannot be found ...
>>
>> ...
>> checking for jpeg12... enabled
>> checking for DGifOpenFileName in -lgif... no
>> checking gif_lib.h usability... no
>> checking gif_lib.h presence... no
>> checking for gif_lib.h... no
>> using internal gif code.
>> checking for cln_GetLayerCapabilities in -logdi... yes
>> configure: error: ecs.h not found.
>>
>> Any lovin'? TIA, Sam
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
>
> "I ache, therefore I am.  Or in my case - I am, therefore I ache."
>
> - Marvin
>
>

From xavier.venturasimon at gaf.de  Mon Oct  8 09:00:54 2012
From: xavier.venturasimon at gaf.de (Xavier Ventura Simon)
Date: Mon, 8 Oct 2012 16:00:54 +0000
Subject: [gdal-dev] Using GDAL to open password-protected MrSid files
In-Reply-To: <10E16A5F4C597447B4DBA0D39215B275278195D1@SR16.gaf.de>
References: <10E16A5F4C597447B4DBA0D39215B275278195D1@SR16.gaf.de>
Message-ID: <10E16A5F4C597447B4DBA0D39215B2752781A5EF@SR16.gaf.de>

Hi,

can anybody provide me with an example on how to use GDAL to read password-protected MrSid files? Thank you!

Regards,
xavs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/a4dd33b7/attachment.html>

From kmckelvey at lizardtech.com  Mon Oct  8 09:18:24 2012
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Mon, 8 Oct 2012 09:18:24 -0700
Subject: [gdal-dev] Using GDAL to open password-protected MrSid files
In-Reply-To: <10E16A5F4C597447B4DBA0D39215B2752781A5EF@SR16.gaf.de>
References: <10E16A5F4C597447B4DBA0D39215B275278195D1@SR16.gaf.de>
	<10E16A5F4C597447B4DBA0D39215B2752781A5EF@SR16.gaf.de>
Message-ID: <FC13E336-9D67-4C79-A149-D9B48B63963F@lizardtech.com>

It doesn't look like the GDAL MrSID driver currently supports password-protected files.  To add support, you would have to provide a way to supply the password, which can be done by implementing a concrete MrSIDPasswordDelegate (MrSID SDK) and set it on the underlying MrSIDImageReader using setPasswordDelegate().

Kirk McKelvey
Senior Software Engineer
LizardTech


On Oct 8, 2012, at 11:00 AM, Xavier Ventura Simon <xavier.venturasimon at gaf.de<mailto:xavier.venturasimon at gaf.de>> wrote:

Hi,

can anybody provide me with an example on how to use GDAL to read password-protected MrSid files? Thank you!

Regards,
xavs
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/879198f6/attachment.html>

From even.rouault at mines-paris.org  Mon Oct  8 12:08:54 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 8 Oct 2012 21:08:54 +0200
Subject: [gdal-dev]
 =?iso-8859-1?q?OGR_SQL=3A_Excecuting_select_where_colu?=
 =?iso-8859-1?q?mn=09name=09contains_=22=2E=22?=
In-Reply-To: <loom.20121008T105254-655@post.gmane.org>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<BD69AB4022C5C34DAC908920605A87020A42C8@MAIL.powelasa.powel.com>
	<loom.20121008T105254-655@post.gmane.org>
Message-ID: <201210082108.54688.even.rouault@mines-paris.org>


> I can confirm that it is not illegal per se because the following works. I
> hope that the backslashes and everything go through properly.
> 
> ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows
>  -sql "select \"nom.dept\" from \"tows:dot.test\""
> 
> It is an open WFS server and you can test it with ogrinfo and from your
> code too. However, I will remove the dot.test feature type sooner or
> later. Verify and make your code to work in a similar way than ogrinfo.

Jukka,

I didn't do any test up to now, but now that I've tested with your above 
server, here are my findings and conclusions.

To start, I'm wondering to which extent did you check the result of the above 
ogrinfo command. It "works" for me on GDAL 1.9.2 and GDAL trunk on Linux and 
Windows, but the output is  what Odd-Ragna actually observes, something like :

FIELD_1: String (0.0)
OGRFeature(tows:dot.test):0
  FIELD_1 (String) = nom.dept
  MULTIPOLYGON ((([......])

By studying the code, I have come to the conclusion that whatever the way you 
use to quote or not quote the field name, the presence of a dot in a field name, 
let's say nom.dept, is interpreted by OGR as the dept field of layer nom. As 
layer nom doesn't exist, OGR then interprets it as a string literal, hence the 
observed result. 

In fact, there's a subtle difference : 
- if you don't quote nom.dept, then OGR will know that it is supposed to be a 
field. Then as it doesn't find it, it will report an error : "Unrecognised field 
name nom.dept"
- if you quote it, as there's an ambiguity, it will first try to identify it as 
a field, and as this fails, it fallbacks to interpret is as as string litteral.

There's however a way to workaround this.

You can use :

ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows
 -sql "select \"foo.nom.dept\" from \"tows:dot.test\" foo"

The layer name tows:dot.test will get an alias foo, and when OGR interprets 
foo.nom.dept is will interpret it as the nom.dept field of layer foo, which 
works now since foo is indeed a valid alias for tows:dot.test !

The bad news is that, at least for the TinyOWS server, it doesn't like the 
request that is sent :

http://188.64.1.61/cgi-
bin/tinyows?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=tows:dot.test&PROPERTYNAME=%28nom.dept,the_geom%29

This generates :

ERROR 1: Error: cannot parse <?xml version='1.0' encoding='UTF-8'?>
<ExceptionReport
 xmlns='http://www.opengis.net/ows'
 xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
 xsi:schemaLocation='http://www.opengis.net/ows 
http://schemas.opengis.net/ows/1.0.0/owsExceptionReport.xsd'
 version='1.0.0' language='en'>
 <Exception exceptionCode='NoMatching' locator='GetFeature'>
  <ExceptionText>propertyname values and typename values don't 
match</ExceptionText>
 </Exception>
</ExceptionReport>

TinyOWS doesn't like the nom.dept field. It propably forwards it directly as a 
SQL request to PostgreSQL, which also interprets nom.dept as the dept field of 
table nom. So you're still stuck at the end of the day. Not sure how other WFS 
servers would react and if it is supposed to work.

Conclusion: don't use dot character in field names !

> 
> -Jukka-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Mon Oct  8 13:07:10 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 8 Oct 2012 22:07:10 +0200
Subject: [gdal-dev] +proj=etmerc in ogr2ogr
In-Reply-To: <CANzGYpTTF=2Xh-7FcTQOSjStHAO5mdD=hFRSENHX81qDsvDNyg@mail.gmail.com>
References: <CANzGYpTTF=2Xh-7FcTQOSjStHAO5mdD=hFRSENHX81qDsvDNyg@mail.gmail.com>
Message-ID: <201210082207.10267.even.rouault@mines-paris.org>

> However, if I try to run ogr2ogr like:
> 
>  ogr2ogr -s_srs "EPSG:25832" -t_srs "+proj=etmerc +lat_0=0 +lon_0=9
> +k=0.9996
>  +units=m +x_0=500000 +datum=WGS84 +nodefs" C:\DHM\analysis\bakke2.shp
> C:\DHM\analysis\shape\
> bakke.shp
> 
> I get the following error:
> 
> Failed to process SRS definition: +proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996
> +unit
> s=m +x_0=500000 +datum=WGS84 +nodefs
> 
> It works fine if I change +proj=etmerc to +proj=tmerc. Seems to me, that
> somehow +proj=etmerc is not build into the "metadata system" of gdal/ogr,
> so that it is not translatable to e.g. a ESRI-wkt definition. Might this be
> that case, and if so, what should I update in order to get this to work?

Simon,

When passing a proj.4 string to GDAL/OGR, it will try to construct a 
OGRSpatialReference object, which is a model of the WKT representation of the 
SRS. To be able to do that, it must recognize projection methods, and this is 
consequently hard-coded in ogr/ogr_srs_proj4.cpp.

There's no code currently to recognized +proj=etmerc, hence the failure.

However, there's a workaround. In GDAL 2.0dev, you could just add "+wktext" in 
the proj.4 string :

$ testepsg "+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m +x_0=500000 
+datum=WGS84 +nodefs +wktext"
Validate Fails.
WKT[+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m +x_0=500000 +datum=WGS84 
+nodefs +wktext] =

PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["custom_proj4"],
    UNIT["Meter",1],
    EXTENSION["PROJ4","+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m 
+x_0=500000 +datum=WGS84 +nodefs +wktext"]]

The WKT representation built is somewhat invalid (see the "custom_proj4" 
PROJECTION), but it has a PROJ4 EXTENSION with the correct proj.4 string, 
hence the reprojection computations will work as expected.

That syntaxic sugar is new to GDAL 2.0dev and doesn't work in previous 
versions. So for GDAL 1.9, you would have to put the above WKT into a file and 
use it as the -t_srs argument.

The drawback of this is that the "custom_proj4" projection cannot be 
translated into something useful in a ESRI .PRJ file.

The best is then to use a more standard WKT of a TM projection, but with the 
appropriate proj.4 extension with etmerc :

PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",9],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["Meter",1],
    EXTENSION["PROJ4","+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m 
+x_0=500000 +datum=WGS84 +nodefs +wktext"]]

Let's suppose you put it into etmerc.wkt, then you can use :

ogr2ogr -t_srs etmerc.wkt destination.shp source.shp

Note that ogrinfo on the destination.shp will report standard TM, and will not 
have any more the etmerc method, so if you need to reproject afterwards, you 
will need to specify explicitely the etmerc.wkt again.

I've opened the http://trac.osgeo.org/gdal/ticket/4853 ticket with a proposed 
patch to make things more user friendly. I haven't applied it yet, because I 
would appreciate FrankW's opinion to know if this is the right way of dealing 
with that. etmerc is something particular, since it isn't per se a projection, 
but rather a projection computation algorithm. I don't think that GDAL has 
already dealt with that kind of situation.

Best regards,

Even

From even.rouault at mines-paris.org  Mon Oct  8 13:14:05 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 8 Oct 2012 22:14:05 +0200
Subject: [gdal-dev] Compile GDAL/OGR with OGDI Support on OSX 10.7.4
In-Reply-To: <F0BF7D0C-DC88-466B-8007-BCDFD700480E@groundlevel.ca>
References: <F0BF7D0C-DC88-466B-8007-BCDFD700480E@groundlevel.ca>
Message-ID: <201210082214.05806.even.rouault@mines-paris.org>

Le lundi 08 octobre 2012 05:39:20, Samuel Smith a ?crit :
> Monkeying around with my first GDAL/OGR builds in Mac OS X 10.7.4 tonight
> ... Got it built with FGB support, then tried OGDI.
> 
> This required compiling OGDI first, which I eventually got to go with the
> 3.2.0-beta2 instructions from kyngchaos
> (http://www.kyngchaos.com/macosx/build/ogdi) - Thanks!
> 
> But now I can't get GDAL 1.9.2 to re-compile --with-ogdi ...
> 
> My ./configure looks like this ...
> 
> ./configure --with-threads --disable-static --without-grass \
> --with-geos=/opt/opengeo/pgsql/9.1/bin/geos-config
> --with-proj=/opt/opengeo/pgsql/9.1/bin/proj \
> --with-fgdb=/Library/FileGDB_API/
> --with-pg=/opt/opengeo/pgsql/9.1/bin/pg_config
> --with-ogdi=/usr/local/lib/ogdi/ \ --prefix="$HOME/local" CFLAGS=" -Os
> -arch x86_64" CXXFLAGS=" -Os -arch x86_64" LDFLAGS=" -arch x86_64"
> 

The --with-ogdi=/usr/local/lib/ogdi/ looks suspicious to me.

Try rather --with-ogdi=/usr/local

From silyko at gmail.com  Mon Oct  8 13:19:13 2012
From: silyko at gmail.com (Simon Lyngby Kokkendorff)
Date: Mon, 8 Oct 2012 22:19:13 +0200
Subject: [gdal-dev] +proj=etmerc in ogr2ogr
In-Reply-To: <201210082207.10267.even.rouault@mines-paris.org>
References: <CANzGYpTTF=2Xh-7FcTQOSjStHAO5mdD=hFRSENHX81qDsvDNyg@mail.gmail.com>
	<201210082207.10267.even.rouault@mines-paris.org>
Message-ID: <CANzGYpSCxtJtCnL1Qz34OQBXLkJvxvr4Tu8Ux292icUyBsWBQQ@mail.gmail.com>

Hi Even,

  Thanks a lot :-) I'll try the workaround and keep an eye open for when/if
the patch goes into trunk.

  Cheers,
  Simon


On Mon, Oct 8, 2012 at 10:07 PM, Even Rouault
<even.rouault at mines-paris.org>wrote:

> > However, if I try to run ogr2ogr like:
> >
> >  ogr2ogr -s_srs "EPSG:25832" -t_srs "+proj=etmerc +lat_0=0 +lon_0=9
> > +k=0.9996
> >  +units=m +x_0=500000 +datum=WGS84 +nodefs" C:\DHM\analysis\bakke2.shp
> > C:\DHM\analysis\shape\
> > bakke.shp
> >
> > I get the following error:
> >
> > Failed to process SRS definition: +proj=etmerc +lat_0=0 +lon_0=9
> +k=0.9996
> > +unit
> > s=m +x_0=500000 +datum=WGS84 +nodefs
> >
> > It works fine if I change +proj=etmerc to +proj=tmerc. Seems to me, that
> > somehow +proj=etmerc is not build into the "metadata system" of gdal/ogr,
> > so that it is not translatable to e.g. a ESRI-wkt definition. Might this
> be
> > that case, and if so, what should I update in order to get this to work?
>
> Simon,
>
> When passing a proj.4 string to GDAL/OGR, it will try to construct a
> OGRSpatialReference object, which is a model of the WKT representation of
> the
> SRS. To be able to do that, it must recognize projection methods, and this
> is
> consequently hard-coded in ogr/ogr_srs_proj4.cpp.
>
> There's no code currently to recognized +proj=etmerc, hence the failure.
>
> However, there's a workaround. In GDAL 2.0dev, you could just add
> "+wktext" in
> the proj.4 string :
>
> $ testepsg "+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m +x_0=500000
> +datum=WGS84 +nodefs +wktext"
> Validate Fails.
> WKT[+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m +x_0=500000
> +datum=WGS84
> +nodefs +wktext] =
>
> PROJCS["unnamed",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.257223563,
>                 AUTHORITY["EPSG","7030"]],
>             TOWGS84[0,0,0,0,0,0,0],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0,
>             AUTHORITY["EPSG","8901"]],
>         UNIT["degree",0.0174532925199433,
>             AUTHORITY["EPSG","9108"]],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["custom_proj4"],
>     UNIT["Meter",1],
>     EXTENSION["PROJ4","+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m
> +x_0=500000 +datum=WGS84 +nodefs +wktext"]]
>
> The WKT representation built is somewhat invalid (see the "custom_proj4"
> PROJECTION), but it has a PROJ4 EXTENSION with the correct proj.4 string,
> hence the reprojection computations will work as expected.
>
> That syntaxic sugar is new to GDAL 2.0dev and doesn't work in previous
> versions. So for GDAL 1.9, you would have to put the above WKT into a file
> and
> use it as the -t_srs argument.
>
> The drawback of this is that the "custom_proj4" projection cannot be
> translated into something useful in a ESRI .PRJ file.
>
> The best is then to use a more standard WKT of a TM projection, but with
> the
> appropriate proj.4 extension with etmerc :
>
> PROJCS["unnamed",
>     GEOGCS["WGS 84",
>         DATUM["WGS_1984",
>             SPHEROID["WGS 84",6378137,298.257223563,
>                 AUTHORITY["EPSG","7030"]],
>             TOWGS84[0,0,0,0,0,0,0],
>             AUTHORITY["EPSG","6326"]],
>         PRIMEM["Greenwich",0,
>             AUTHORITY["EPSG","8901"]],
>         UNIT["degree",0.0174532925199433,
>             AUTHORITY["EPSG","9108"]],
>         AUTHORITY["EPSG","4326"]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["latitude_of_origin",0],
>     PARAMETER["central_meridian",9],
>     PARAMETER["scale_factor",0.9996],
>     PARAMETER["false_easting",500000],
>     PARAMETER["false_northing",0],
>     UNIT["Meter",1],
>     EXTENSION["PROJ4","+proj=etmerc +lat_0=0 +lon_0=9 +k=0.9996 +units=m
> +x_0=500000 +datum=WGS84 +nodefs +wktext"]]
>
> Let's suppose you put it into etmerc.wkt, then you can use :
>
> ogr2ogr -t_srs etmerc.wkt destination.shp source.shp
>
> Note that ogrinfo on the destination.shp will report standard TM, and will
> not
> have any more the etmerc method, so if you need to reproject afterwards,
> you
> will need to specify explicitely the etmerc.wkt again.
>
> I've opened the http://trac.osgeo.org/gdal/ticket/4853 ticket with a
> proposed
> patch to make things more user friendly. I haven't applied it yet, because
> I
> would appreciate FrankW's opinion to know if this is the right way of
> dealing
> with that. etmerc is something particular, since it isn't per se a
> projection,
> but rather a projection computation algorithm. I don't think that GDAL has
> already dealt with that kind of situation.
>
> Best regards,
>
> Even
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/6bc22ec7/attachment.html>

From Jukka.Rahkonen at mmmtike.fi  Mon Oct  8 13:21:37 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon, 8 Oct 2012 20:21:37 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where
	column	name	contains "."
In-Reply-To: <201210082108.54688.even.rouault@mines-paris.org>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<BD69AB4022C5C34DAC908920605A87020A42C8@MAIL.powelasa.powel.com>
	<loom.20121008T105254-655@post.gmane.org>,
	<201210082108.54688.even.rouault@mines-paris.org>
Message-ID: <84446DEF76453C439E9E97E438E13A637A3240@suutari.haapa.mmm.fi>

Even Rouault wrote:

>> I can confirm that it is not illegal per se because the following works. I
>> hope that the backslashes and everything go through properly.
>
>> ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows
>>  -sql "select \"nom.dept\" from \"tows:dot.test\""
>
>> It is an open WFS server and you can test it with ogrinfo and from your
>> code too. However, I will remove the dot.test feature type sooner or
>> later. Verify and make your code to work in a similar way than ogrinfo.

> Jukka,

> I didn't do any test up to now, but now that I've tested with your above
> server, here are my findings and conclusions.

> To start, I'm wondering to which extent did you check the result of the above
> ogrinfo command. It "works" for me on GDAL 1.9.2 and GDAL trunk on Linux and
> Windows, but the output is  what Odd-Ragna actually observes, something like :

> FIELD_1: String (0.0)

I feel ashamed and made one more test to compansate my lazy interpretation that if TinyOWS is sending something back it is then all right.

HTTP POST tends to be more reliable when making complicated WFS requests so I tried that method by sending directly to the server the following GetFeature:

POST http://188.64.1.61/cgi-bin/tinyows HTTP/1.1
Content-Type: text/xml
User-Agent: Jakarta Commons-HttpClient/3.0-beta1
Host: 188.64.1.61
Connection: Keep-Alive
Content-Length: 404

<wfs:GetFeature xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" service="WFS" version="1.0.0" maxFeatures="1000" outputFormat="GML2"><wfs:Query xmlns:tows="http://www.tinyows.org/" typeName="tows:dot.test"><ogc:PropertyName>tows:nom.dept</ogc:PropertyName><ogc:PropertyName>tows:the_geom</ogc:PropertyName></wfs:Query></wfs:GetFeature>

TinyOWS gives an error 

<?xml version="1.0" encoding="UTF-8"?>
<ServiceExceptionReport
 xmlns="http://www.opengis.net/ogc"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.opengis.net/ogc http://schemas.opengis.net/wms/1.1.1/OGC-exception.xsd"
version="1.2.0">
<ServiceException code="NoMatching" locator="GetFeature">
propertyname values and typename values don't match</ServiceException>
</ServiceExceptionReport>

There may be something wrong with TinyOWS but it must be noted that it has passed all the CITE tests for WFS 1.0.0 and 1.1.0.  If so well tested server fails with dots in the field names it is very probable that there are lots of other servers and clients which will fail too.

Conclusion: Do not use dots in names if you hope it to work.

-Jukka-

From even.rouault at mines-paris.org  Mon Oct  8 13:42:12 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 8 Oct 2012 22:42:12 +0200
Subject: [gdal-dev]
 =?iso-8859-1?q?OGR_SQL=3A_Excecuting_select_where_colu?=
 =?iso-8859-1?q?mn=09name=09contains_=22=2E=22?=
In-Reply-To: <84446DEF76453C439E9E97E438E13A637A3240@suutari.haapa.mmm.fi>
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<201210082108.54688.even.rouault@mines-paris.org>
	<84446DEF76453C439E9E97E438E13A637A3240@suutari.haapa.mmm.fi>
Message-ID: <201210082242.12769.even.rouault@mines-paris.org>


> There may be something wrong with TinyOWS but it must be noted that it has
> passed all the CITE tests for WFS 1.0.0 and 1.1.0.  If so well tested
> server fails with dots in the field names it is very probable that there
> are lots of other servers and clients which will fail too.

The CITE tests don't necessarily test all corner cases of implementations. 
They test the requirements and the protocol of the standard, so there are 
likely many holes in the test coverage. For example, I believe that a WFS/WMS 
implementation can pass the CITE tests but may not behave properly with the 
annoying axis ordering problem when using real world datasets (for example 
when serving a shapefile that uses the standard long/lat ordering and whose 
coordinates must be swapped when going from/to WFS 1.1)

I've looked at WFS 1.1 spec, and at page 17 (?7.3 Property names), I see that 
the definition of the property name allows a dot character. So this is 
theoretically valid... 

From even.rouault at mines-paris.org  Mon Oct  8 13:56:20 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 8 Oct 2012 22:56:20 +0200
Subject: [gdal-dev] +proj=etmerc in ogr2ogr
In-Reply-To: <CANzGYpSCxtJtCnL1Qz34OQBXLkJvxvr4Tu8Ux292icUyBsWBQQ@mail.gmail.com>
References: <CANzGYpTTF=2Xh-7FcTQOSjStHAO5mdD=hFRSENHX81qDsvDNyg@mail.gmail.com>
	<201210082207.10267.even.rouault@mines-paris.org>
	<CANzGYpSCxtJtCnL1Qz34OQBXLkJvxvr4Tu8Ux292icUyBsWBQQ@mail.gmail.com>
Message-ID: <201210082256.20730.even.rouault@mines-paris.org>

Le lundi 08 octobre 2012 22:19:13, Simon Lyngby Kokkendorff a ?crit :
> Hi Even,
> 
>   Thanks a lot :-) I'll try the workaround and keep an eye open for when/if
> the patch goes into trunk.

The patch is now in trunk. See the ticket.

From warmerdam at pobox.com  Mon Oct  8 18:03:32 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 8 Oct 2012 18:03:32 -0700
Subject: [gdal-dev] GDAL/OGR 1.9.2 RC2
Message-ID: <CA+YzLBdSExEBOjoThF+e3BOBbgPxqd_O30XB7Px7TE7shnp6KA@mail.gmail.com>

Folks,

I have prepared a new 1.9.2 RC which fixes the GDALmake.opt.in issue
mentioned by Even.  Developers have also been busy in the last few days
and you can see the differences to the NEWS file at:

  http://trac.osgeo.org/gdal/changeset/25088

Downloads at:

  http://download.osgeo.org/gdal/gdal192RC2.zip
  http://download.osgeo.org/gdal/gdal-1.9.2RC2.tar.gz

If no problems are reported, I'll call for a vote on promoting it to final
tomorrow.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121008/4fdfe6f7/attachment.html>

From dmorissette at mapgears.com  Mon Oct  8 19:04:53 2012
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon, 08 Oct 2012 22:04:53 -0400
Subject: [gdal-dev] GDAL/OGR 1.9.2 RC2
In-Reply-To: <CA+YzLBdSExEBOjoThF+e3BOBbgPxqd_O30XB7Px7TE7shnp6KA@mail.gmail.com>
References: <CA+YzLBdSExEBOjoThF+e3BOBbgPxqd_O30XB7Px7TE7shnp6KA@mail.gmail.com>
Message-ID: <50738645.909@mapgears.com>

On 12-10-08 9:03 PM, Frank Warmerdam wrote:
>
> Downloads at:
>
> http://download.osgeo.org/gdal/gdal192RC2.zip
> http://download.osgeo.org/gdal/gdal-1.9.2RC2.tar.gz
>
> If no problems are reported, I'll call for a vote on promoting it to final
> tomorrow.
>

Hi Frank,

No problem to report for me after a build and a few quick tests on OSX.

-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000


From nikhil.parupalli at iictechnologies.com  Mon Oct  8 22:28:38 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Tue, 9 Oct 2012 05:28:38 +0000
Subject: [gdal-dev] S57 dataset boundary issue
Message-ID: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>

HI All,
,

Thanks for the reply in below data

  NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
   NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
   ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
   USAG (IntegerList) = (7:1,1,1,1,1,1,1)
   MASK (IntegerList) = (7:255,255,255,255,255,255,255)

 RCID 691 ORNT has  2 and USAG is 1 based on this data we could identify that RCID 691 is of exterior boundary with reverse direction.

So if I have 1000 RCID in  NAME_RCID which is vise versa for the above condition I need to display that RCIDS list as errors.
So it makes 1000 conditional checks hence reducing performance.

Please let us know further.


Nikhil,

I don't know why you don't see it.  I see it fine on the "Edge"
layer which contains the linestring vector objects.

eg.

  OGRFeature(Edge):18
   RCNM (Integer) = 130
   RCID (Integer) = 19
   RVER (Integer) = 1
   RUIN (Integer) = 1
   NAME_RCNM_0 (Integer) = 120
   NAME_RCID_0 (Integer) = 21
   ORNT_0 (Integer) = 255
   USAG_0 (Integer) = 255
   TOPI_0 (Integer) = 1
   MASK_0 (Integer) = 255
   NAME_RCNM_1 (Integer) = 120
   NAME_RCID_1 (Integer) = 20
   ORNT_1 (Integer) = 255
   USAG_1 (Integer) = 255
   TOPI_1 (Integer) = 2
   MASK_1 (Integer) = 255
   LINESTRING (60.775 -32.6249972)

> I have one more question:
> How do we find  area outer boundaries are encoded clockwise based
> on Orientation or USAG.
> here when I retrieve S57 dataset I get multiple ORNT values for a single object.

I am not aware of any definition of outer ring winding direction.
I think the ORNT field values you see on polygons are indicating
which direction the edges were used in when composing the ring(s)
of the polygon.


   NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
   NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
   ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
   USAG (IntegerList) = (7:1,1,1,1,1,1,1)
   MASK (IntegerList) = (7:255,255,255,255,255,255,255)

So in the above feature, RCID 691 is used with orientation "2",
usage "1" and mask "255".

Best regards,





Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121009/faaa1d59/attachment.html>

From Odd-Ragnar.Lydersen at powel.no  Mon Oct  8 23:59:06 2012
From: Odd-Ragnar.Lydersen at powel.no (Odd Ragnar Lydersen)
Date: Tue, 9 Oct 2012 06:59:06 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
 contains "."
Message-ID: <BD69AB4022C5C34DAC908920605A87020A43AE@MAIL.powelasa.powel.com>

Thanks for the response.
I think I will conclude the same as you, and report back to the server developers that this is a bad idea.

>Odd-Ragnar<

-----Original Message-----
From: Rahkonen Jukka [mailto:Jukka.Rahkonen at mmmtike.fi] 
Sent: 8. oktober 2012 22:22
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] OGR SQL: Excecuting select where column name contains "."

Even Rouault wrote:

>> I can confirm that it is not illegal per se because the following 
>> works. I hope that the backslashes and everything go through properly.
>
>> ogrinfo WFS:http://188.64.1.61/cgi-bin/tinyows
>>  -sql "select \"nom.dept\" from \"tows:dot.test\""
>
>> It is an open WFS server and you can test it with ogrinfo and from 
>> your code too. However, I will remove the dot.test feature type 
>> sooner or later. Verify and make your code to work in a similar way than ogrinfo.

> Jukka,

> I didn't do any test up to now, but now that I've tested with your 
> above server, here are my findings and conclusions.

> To start, I'm wondering to which extent did you check the result of 
> the above ogrinfo command. It "works" for me on GDAL 1.9.2 and GDAL 
> trunk on Linux and Windows, but the output is  what Odd-Ragna actually observes, something like :

> FIELD_1: String (0.0)

I feel ashamed and made one more test to compansate my lazy interpretation that if TinyOWS is sending something back it is then all right.

HTTP POST tends to be more reliable when making complicated WFS requests so I tried that method by sending directly to the server the following GetFeature:

POST http://188.64.1.61/cgi-bin/tinyows HTTP/1.1
Content-Type: text/xml
User-Agent: Jakarta Commons-HttpClient/3.0-beta1
Host: 188.64.1.61
Connection: Keep-Alive
Content-Length: 404

<wfs:GetFeature xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" service="WFS" version="1.0.0" maxFeatures="1000" outputFormat="GML2"><wfs:Query xmlns:tows="http://www.tinyows.org/" typeName="tows:dot.test"><ogc:PropertyName>tows:nom.dept</ogc:PropertyName><ogc:PropertyName>tows:the_geom</ogc:PropertyName></wfs:Query></wfs:GetFeature>

TinyOWS gives an error 

<?xml version="1.0" encoding="UTF-8"?>
<ServiceExceptionReport
 xmlns="http://www.opengis.net/ogc"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.opengis.net/ogc http://schemas.opengis.net/wms/1.1.1/OGC-exception.xsd"
version="1.2.0">
<ServiceException code="NoMatching" locator="GetFeature"> propertyname values and typename values don't match</ServiceException> </ServiceExceptionReport>

There may be something wrong with TinyOWS but it must be noted that it has passed all the CITE tests for WFS 1.0.0 and 1.1.0.  If so well tested server fails with dots in the field names it is very probable that there are lots of other servers and clients which will fail too.

Conclusion: Do not use dots in names if you hope it to work.

-Jukka-


From Odd-Ragnar.Lydersen at powel.no  Tue Oct  9 00:53:59 2012
From: Odd-Ragnar.Lydersen at powel.no (Odd Ragnar Lydersen)
Date: Tue, 9 Oct 2012 07:53:59 +0000
Subject: [gdal-dev] OGR SQL: Excecuting select where column name
 contains "."
Message-ID: <BD69AB4022C5C34DAC908920605A87020A43DE@MAIL.powelasa.powel.com>

The problem is OGRSQL (ogr_gensql.cpp) which adds the string "FIELD_%d" when it doesn't know how to handle column names with dot character in them. Because the dot character is a special/reserved character it needs to be enclosed in '', "", ``, [], ..., all depending on which dialect is used  (MS SqlServer, Oracle, MySQL, SqlLite, ...)
So it seems that to me that this is not legal in OGRSQL

>Odd-Ragnar<

-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org] 
Sent: 8. oktober 2012 22:42
To: gdal-dev at lists.osgeo.org
Cc: Rahkonen Jukka
Subject: Re: [gdal-dev] OGR SQL: Excecuting select where column name contains "."


> There may be something wrong with TinyOWS but it must be noted that it 
> has passed all the CITE tests for WFS 1.0.0 and 1.1.0.  If so well 
> tested server fails with dots in the field names it is very probable 
> that there are lots of other servers and clients which will fail too.

The CITE tests don't necessarily test all corner cases of implementations. 
They test the requirements and the protocol of the standard, so there are likely many holes in the test coverage. For example, I believe that a WFS/WMS implementation can pass the CITE tests but may not behave properly with the annoying axis ordering problem when using real world datasets (for example when serving a shapefile that uses the standard long/lat ordering and whose coordinates must be swapped when going from/to WFS 1.1)

I've looked at WFS 1.1 spec, and at page 17 (?7.3 Property names), I see that the definition of the property name allows a dot character. So this is theoretically valid... 


From jukka.rahkonen at mmmtike.fi  Tue Oct  9 01:41:06 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 9 Oct 2012 08:41:06 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?OGR_SQL=3A_Excecuting_select_where_column=09?=
	=?utf-8?b?bmFtZQljb250YWlucyAiLiI=?=
References: <BD69AB4022C5C34DAC908920605A87020A20F7@MAIL.powelasa.powel.com>
	<201210082108.54688.even.rouault@mines-paris.org>
	<84446DEF76453C439E9E97E438E13A637A3240@suutari.haapa.mmm.fi>
	<201210082242.12769.even.rouault@mines-paris.org>
Message-ID: <loom.20121009T100049-232@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:



> I've looked at WFS 1.1 spec, and at page 17 (?7.3 Property names), I see that 
> the definition of the property name allows a dot character. So this is 
> theoretically valid... 

TinyOWS is now theoretically fixed
https://github.com/mapserver/tinyows/issues/17

I had also a test with Mapserver and it did handle dot.attribute names OK.
However, I had to rename my dot.table because Mapserver got lost when querying
the table for getting the schema.

[Tue Oct  9 10:56:02 2012].214191 msPostGISLayerGetItems(): Query error. Error
(ERROR:  schema "dot" does not exist
LINE 1: select * from dot.test where false limit 0
                      ^
) executing SQL: select * from dot.test where false limit 0
[Tue Oct  9 10:57:12 2012].923891 msPostGISLayerGetItems(): Query error. Error
(ERROR:  schema "dot" does not exist
LINE 1: select * from dot.test where false limit 0
                      ^
) executing SQL: select * from dot.test where false limit 0

I do not have Geoserver in my hands right now but I believe that this has been
enough to prove that dots in attribute and feature type names will make so many
clients and servers to fail that it should be considered as Bad Practice.

-Jukka-


From emmanuel.sambale at gmail.com  Tue Oct  9 03:41:32 2012
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Tue, 9 Oct 2012 18:41:32 +0800
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
	polygons
In-Reply-To: <CA+TxYvM69QByJMD8qTHmE1ikFN43g-K6Xm5DzHVQvbQAmu9X7A@mail.gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
	<5072B8D5.70709@gmail.com>
	<CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>
	<5072CDB7.70503@gmail.com>
	<CA+TxYvM69QByJMD8qTHmE1ikFN43g-K6Xm5DzHVQvbQAmu9X7A@mail.gmail.com>
Message-ID: <CAPzumuGwcmhZWNt6uvytmP0YJkw_Nim_GbUfMQAGcrG0V3uZNg@mail.gmail.com>

I see, is there a scripting workaround using 1.9?

On Mon, Oct 8, 2012 at 9:14 PM, Etienne Tourigny
<etourigny.dev at gmail.com> wrote:
> generally speaking new features do not go into current stable version
> (1.9), they will be incorporated into next stable version (probably
> 2.0).
>
> Etienne
>
> On Mon, Oct 8, 2012 at 9:57 AM, Ari Jolma <ari.jolma at gmail.com> wrote:
>> On 10/08/2012 03:21 PM, maning sambale wrote:
>>
>> Thanks! Is this implemented already in the stable build?
>>
>>
>> It's currently only in the trunk version.
>>
>> Ari
>>
>>
>> Maning Sambale (mobile)
>>
>> On Oct 8, 2012 7:28 PM, "Ari Jolma" <ari.jolma at gmail.com> wrote:
>>>
>>> On 10/08/2012 02:13 PM, maning sambale wrote:
>>>>
>>>> HI,
>>>>
>>>> I have a shapefile polygon that contains administrative boundaries and
>>>> a several shapefile of various features.  I want to create separate
>>>> shapefiles of each layer feature for each administrative boundaries in
>>>> the clipping layer.
>>>>
>>>> For example,
>>>>
>>>> AdminPoly1
>>>>   - AdminPoly1_point.shp
>>>>   - AdminPoly1_line.shp
>>>>   - AdminPoly1_poly.shp
>>>>
>>>> AdminPoly2
>>>>   - AdminPoly1_point.shp
>>>>   - AdminPoly1_line.shp
>>>>   - AdminPoly1_poly.shp
>>>>
>>>> and so on.
>>>>
>>>> Any advice?
>>>
>>>
>>> Maning,
>>>
>>> The new layer methods may be what you're looking for:
>>> http://trac.osgeo.org/gdal/wiki/LayerAlgebra
>>>
>>> Ari
>>>
>>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------

From chris.barker at noaa.gov  Tue Oct  9 09:07:34 2012
From: chris.barker at noaa.gov (Chris Barker)
Date: Tue, 9 Oct 2012 09:07:34 -0700
Subject: [gdal-dev] Small meshing utility
In-Reply-To: <CANnL8gra7Cm1jwEizK7XbP6xgA_v5xadfLK_1bmk+uVztUjhXA@mail.gmail.com>
References: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>
	<CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>
	<CANnL8gra7Cm1jwEizK7XbP6xgA_v5xadfLK_1bmk+uVztUjhXA@mail.gmail.com>
Message-ID: <CALGmxEKLzB4VNUpQWYMYx0HfbPO=yYovGBh=gZOknOh8JT8e8w@mail.gmail.com>

On Sun, Oct 7, 2012 at 8:33 PM, Tim Keitt <tkeitt at gmail.com> wrote:

>> cool! though I"m a little confused as to how this fits with OGR.
>
> OGR is used for i/o.
>

I see -- so you've written something like the triangle command line
utility, but with OGR for IO, so you don't need to use triangles
particular data file format? sounds useful.

>> Also -- how did you deal with the fact that triangle calls the system
>> exit() function on error -- that could bring down whatever your host
>> process is.
>
> Its a simple command line utility. Not much harm done if it calls exit.

I see -- I was thinking you'd extended the OGR library, rather than
the OGR command line tools. I get it now.

>> We've written a wrapper around triangle for Python (anyone feel free
>> to send me a note if you're interested), and we ended up handling that
>> by spawning another process to run triangle in -- but that has
>> performance issues (copying data around) which would be nice to avoid.
>
> I don't call triangle, I pass arguments to the C-level API.

neither do we -- we also use the C-API -- but if you need to run it in
another process you need to ass the data around somehow -- and if you
want to call it as a library from a longer-running application, then
the calls to exit() will kill you (well, kill your app...) if you
don't run it in another process.

>> If only triangle has a nicer licensing scheme -- it really is a nice utility.
>
> Only prohibition is you can't sell it without a license.

well, "commercial" is not clearly defined in the license -- why not
just GPL the darn thing!

and it's not BSD-compatible in any case.

-Chris



-- 

Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov

From eadam at co.lincoln.or.us  Tue Oct  9 09:14:20 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Tue, 9 Oct 2012 09:14:20 -0700
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
	polygons
In-Reply-To: <CAPzumuGwcmhZWNt6uvytmP0YJkw_Nim_GbUfMQAGcrG0V3uZNg@mail.gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
	<5072B8D5.70709@gmail.com>
	<CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>
	<5072CDB7.70503@gmail.com>
	<CA+TxYvM69QByJMD8qTHmE1ikFN43g-K6Xm5DzHVQvbQAmu9X7A@mail.gmail.com>
	<CAPzumuGwcmhZWNt6uvytmP0YJkw_Nim_GbUfMQAGcrG0V3uZNg@mail.gmail.com>
Message-ID: <CACqBkM-NyGkxRsG1SHmaXrqWAQTtC=T2r6uTq6DcoTSRa8mH3Q@mail.gmail.com>

On Tue, Oct 9, 2012 at 3:41 AM, maning sambale
<emmanuel.sambale at gmail.com> wrote:
> I see, is there a scripting workaround using 1.9?

ogr2ogr has various -clip..... options.  It looks like you could
specify using a particular feature in the AdminPoly to do this
(presumably GEOS support is required?).

ogr2ogr -f "ESRI shapefile" output.shp input.shp -clipsrc
AdminPoly.shp -clipsrclayer AdminPoly -clipsrcsql "SELECT * FROM
AdminPoly WHERE AttributeName_in_AdminPoly='Some_value'"

If you don't have other requirements for the stable release, there are
lots of binaries including nightly builds for some platforms,
http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries

HTH, Eli


>
> On Mon, Oct 8, 2012 at 9:14 PM, Etienne Tourigny
> <etourigny.dev at gmail.com> wrote:
>> generally speaking new features do not go into current stable version
>> (1.9), they will be incorporated into next stable version (probably
>> 2.0).
>>
>> Etienne
>>
>> On Mon, Oct 8, 2012 at 9:57 AM, Ari Jolma <ari.jolma at gmail.com> wrote:
>>> On 10/08/2012 03:21 PM, maning sambale wrote:
>>>
>>> Thanks! Is this implemented already in the stable build?
>>>
>>>
>>> It's currently only in the trunk version.
>>>
>>> Ari
>>>
>>>
>>> Maning Sambale (mobile)
>>>
>>> On Oct 8, 2012 7:28 PM, "Ari Jolma" <ari.jolma at gmail.com> wrote:
>>>>
>>>> On 10/08/2012 02:13 PM, maning sambale wrote:
>>>>>
>>>>> HI,
>>>>>
>>>>> I have a shapefile polygon that contains administrative boundaries and
>>>>> a several shapefile of various features.  I want to create separate
>>>>> shapefiles of each layer feature for each administrative boundaries in
>>>>> the clipping layer.
>>>>>
>>>>> For example,
>>>>>
>>>>> AdminPoly1
>>>>>   - AdminPoly1_point.shp
>>>>>   - AdminPoly1_line.shp
>>>>>   - AdminPoly1_poly.shp
>>>>>
>>>>> AdminPoly2
>>>>>   - AdminPoly1_point.shp
>>>>>   - AdminPoly1_line.shp
>>>>>   - AdminPoly1_poly.shp
>>>>>
>>>>> and so on.
>>>>>
>>>>> Any advice?
>>>>
>>>>
>>>> Maning,
>>>>
>>>> The new layer methods may be what you're looking for:
>>>> http://trac.osgeo.org/gdal/wiki/LayerAlgebra
>>>>
>>>> Ari
>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
> cheers,
> maning
> ------------------------------------------------------
> "Freedom is still the most radical idea of all" -N.Branden
> wiki: http://esambale.wikispaces.com/
> blog: http://epsg4253.wordpress.com/
> ------------------------------------------------------
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Tue Oct  9 09:25:29 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 9 Oct 2012 09:25:29 -0700
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
Message-ID: <CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>

On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli <
nikhil.parupalli at iictechnologies.com> wrote:

>  HI All,
> ,
>
> Thanks for the reply in below data
>
>   NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>    NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>    ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>    USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>    MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>
>  RCID 691 ORNT has  2 and USAG is 1 based on this data we could identify
> that RCID 691 is of exterior boundary with reverse direction.
>
> So if I have 1000 RCID in  NAME_RCID which is vise versa for the above
> condition I need to display that RCIDS list as errors.
> So it makes 1000 conditional checks hence reducing performance.
>
> Please let us know further.
>

Nikhil,

I'm afraid I don't follow your point.  Are you trying to
do some sort of ring orientation validation and identify
ones that don't match your expectations?  And you
are concerned about the performance cost?

I don't know why you are doing this, and if you
are, I'm not sure what I or others can do about
the performance cost of checking.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121009/e67d1341/attachment-0001.html>

From warmerdam at pobox.com  Tue Oct  9 09:27:29 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 9 Oct 2012 09:27:29 -0700
Subject: [gdal-dev] Motion: Release 1.9.2
Message-ID: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>

Motion: The GDAL/OGR 1.9.2RC2 release is promoted to be the
official GDAL/OGR 1.9.2 release.

---

PSC members are encouraged to review the release candidate
and vote.  Non-PSC members are encouraged to review the
release candidate and comment here on problems.

The motion will be open for two days for voting.

+1 Frank

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121009/b5e59864/attachment.html>

From dmorissette at mapgears.com  Tue Oct  9 09:34:36 2012
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Tue, 09 Oct 2012 12:34:36 -0400
Subject: [gdal-dev] Motion: Release 1.9.2
In-Reply-To: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
References: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
Message-ID: <5074521C.9020602@mapgears.com>

On 12-10-09 12:27 PM, Frank Warmerdam wrote:
> Motion: The GDAL/OGR 1.9.2RC2 release is promoted to be the
> official GDAL/OGR 1.9.2 release.
>

+1  Daniel

-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000


From yvecai at gmail.com  Tue Oct  9 10:08:33 2012
From: yvecai at gmail.com (yvecai)
Date: Tue, 09 Oct 2012 19:08:33 +0200
Subject: [gdal-dev] Strange errors with large vrt
Message-ID: <50745A11.6090805@gmail.com>

I'm trying to make a world-wide hillshade dataset filling SRTM void from 
Aster, and using Aster data only between 60?N and 72?N.
I computed all 1x1? hillshade tiles, but now I'm struggling to work with 
a vrt.
If I make a .vrt of all ~29'000 single 1x1? tiles, I don't have any data 
above 60?N, neither with Mapnik gdal datasource, nor gdal_translate, nor 
gdal2tiles.
But if I make a small 38-files .vrt around 60?N, gdal_translate with a 
-projwin works well.

Maybe someone can see a difference between hillshade2_N58E164.tif and 
hillshade2_N63E164.tif ? See gdalinfo below, I don't.
Also, vrt files and some tiles can be found at 
http://www.pistes-nordiques.org/download/extract.zip (16MB).

Yves

GDAL 1.9.1, released 2012/05/15

$ gdalinfo extract/hillshade2_N58E164.tif
Driver: GTiff/GeoTIFF
Files: extract/hillshade2_N58E164.tif
Size is 786, 1505
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["unnamed ellipse",
         DATUM["unknown",
             SPHEROID["unnamed",6378137,0]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Mercator_1SP"],
     PARAMETER["central_meridian",0],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (18256303.723854541778564,8180567.003424840979278)
Pixel Size = (141.656454553493091,-141.656454553493091)
Metadata:
   AREA_OR_POINT=Area
   TIFFTAG_DOCUMENTNAME=slopes/hillshade2_N58E164.tif
   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
   TIFFTAG_XRESOLUTION=72
   TIFFTAG_YRESOLUTION=72
Image Structure Metadata:
   COMPRESSION=DEFLATE
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (18256303.724, 8180567.003) (163d59'57.00"E, 59d 0' 3.00"N)
Lower Left  (18256303.724, 7967374.039) (163d59'57.00"E, 58d 0' 0.97"N)
Upper Right (18367645.697, 8180567.003) (164d59'57.73"E, 59d 0' 3.00"N)
Lower Right (18367645.697, 7967374.039) (164d59'57.73"E, 58d 0' 0.97"N)
Center      (18311974.710, 8073970.521) (164d29'57.36"E, 58d30'14.82"N)
Band 1 Block=786x1505 Type=Byte, ColorInterp=Gray
   Mask Flags: PER_DATASET ALPHA
Band 2 Block=786x1505 Type=Byte, ColorInterp=Alpha
$ gdalinfo extract/hillshade2_N63E164.tif
Driver: GTiff/GeoTIFF
Files: extract/hillshade2_N63E164.tif
Size is 692, 1551
Coordinate System is:
PROJCS["unnamed",
     GEOGCS["unnamed ellipse",
         DATUM["unknown",
             SPHEROID["unnamed",6378137,0]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433]],
     PROJECTION["Mercator_1SP"],
     PARAMETER["central_meridian",0],
     PARAMETER["scale_factor",1],
     PARAMETER["false_easting",0],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]]]
Origin = (18256381.029056482017040,9349799.443527495488524)
Pixel Size = (160.906779712378437,-160.906779712378437)
Metadata:
   AREA_OR_POINT=Area
   TIFFTAG_DOCUMENTNAME=slopes/hillshade2_N63E164.tif
   TIFFTAG_RESOLUTIONUNIT=1 (unitless)
   TIFFTAG_XRESOLUTION=72
   TIFFTAG_YRESOLUTION=72
Image Structure Metadata:
   COMPRESSION=DEFLATE
   INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  (18256381.029, 9349799.444) (163d59'59.50"E, 64d 0' 0.50"N)
Lower Left  (18256381.029, 9100233.028) (163d59'59.50"E, 62d59'59.74"N)
Upper Right (18367728.521, 9349799.444) (165d 0' 0.41"E, 64d 0' 0.50"N)
Lower Right (18367728.521, 9100233.028) (165d 0' 0.41"E, 62d59'59.74"N)
Center      (18312054.775, 9225016.236) (164d29'59.95"E, 63d30'15.88"N)
Band 1 Block=692x1551 Type=Byte, ColorInterp=Gray
   Mask Flags: PER_DATASET ALPHA
Band 2 Block=692x1551 Type=Byte, ColorInterp=Alpha



From hobu.inc at gmail.com  Tue Oct  9 11:07:59 2012
From: hobu.inc at gmail.com (Howard Butler)
Date: Tue, 9 Oct 2012 13:07:59 -0500
Subject: [gdal-dev] Motion: Release 1.9.2
In-Reply-To: <5074521C.9020602@mapgears.com>
References: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
	<5074521C.9020602@mapgears.com>
Message-ID: <A170C7B5-BB32-451B-AF85-A3DE90662AA8@gmail.com>



On Oct 9, 2012, at 11:34 AM, Daniel Morissette <dmorissette at mapgears.com> wrote:

> On 12-10-09 12:27 PM, Frank Warmerdam wrote:
>> Motion: The GDAL/OGR 1.9.2RC2 release is promoted to be the
>> official GDAL/OGR 1.9.2 release.
>> 
> 
> +1  Daniel

+1 Howard

From szekerest at gmail.com  Tue Oct  9 11:13:14 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue, 9 Oct 2012 20:13:14 +0200
Subject: [gdal-dev] Motion: Release 1.9.2
In-Reply-To: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
References: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
Message-ID: <CACALY+SYB6TxZJkVT744N=bsAwWR8Y7qNxGZhrkUeSJbOKRm0A@mail.gmail.com>

+1

Tamas



2012/10/9 Frank Warmerdam <warmerdam at pobox.com>

> Motion: The GDAL/OGR 1.9.2RC2 release is promoted to be the
> official GDAL/OGR 1.9.2 release.
>
> ---
>
> PSC members are encouraged to review the release candidate
> and vote.  Non-PSC members are encouraged to review the
> release candidate and comment here on problems.
>
> The motion will be open for two days for voting.
>
> +1 Frank
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121009/524bf712/attachment.html>

From sylvain_duclos at yahoo.com  Tue Oct  9 11:28:59 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Tue, 9 Oct 2012 11:28:59 -0700 (PDT)
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>
Message-ID: <1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>

Frank & Nikhil, 


Frank asked:

>are, I'm not sure what I or others can do about
>the performance cost of checking. ?

?????????????? 
If I understand the problem, then it cost nothing!

You have to check the winding while loading a OGRGeometryH
like so:
??????????????? double area = 0;
??????????????? for (unsigned int i=0; i<vert_count-1; i++) {
??????????????????? double x1 = OGR_G_GetX(hRing, i);
??????????????????? double y1 = OGR_G_GetY(hRing, i);
??????????????????? double x2 = OGR_G_GetX(hRing, i+1);
??????????????????? double y2 = OGR_G_GetY(hRing, i+1);
??????????????????? area += (x1*y2) - (x2*y1);
??????????????? }


If the area < 0 then it is CW (clockwise) and > 0 is CCW (Counter CW).

Note that in S57 the exterior ring must be CW and
interior ring are CCW.

But in S57 there is no order between rings. So interior ring
might come first. I think WKT fix this. In my code I assume
that OGR place the exterior ring first.


We have been trough this before. At the time the question 

was if S57 allow for many exterior ring for the same poly.

I guess it all depend on HO and how they encode the data.

I'm using mostly Canadian ENC and found no problem.

But other HO might encode ENC differently ..




rdgs,


Sylvain Duclos.







>________________________________
> From: Frank Warmerdam <warmerdam at pobox.com>
>To: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com> 
>Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org> 
>Sent: Tuesday, October 9, 2012 12:25:29 PM
>Subject: Re: [gdal-dev] S57 dataset boundary issue
> 
>
>
>
>
>On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com> wrote:
>
>HI All, 
>>,
>>? ?
>>Thanks for the reply in below data
>>
>>? NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>? ?NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>? ?ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>? ?USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>? ?MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>
>>?RCID 691 ORNT has ?2 and USAG is 1 based on this data we could identify that RCID 691 is of exterior boundary with reverse direction.
>>
>>So if I have 1000 RCID in ?NAME_RCID which is vise versa for the above condition I need to display that RCIDS list as errors.
>>So it makes 1000 conditional checks hence reducing performance.
>>
>>Please let us know further.
>
>
>Nikhil,?
>
>
>I'm afraid I don't follow your point. ?Are you trying to
>do some sort of ring orientation validation and identify
>ones that don't match your expectations? ?And you
>are concerned about the performance cost? ?
>
>
>I don't know why you are doing this, and if you
>are, I'm not sure what I or others can do about
>the performance cost of checking. ?
>
>
>Best regards,-- 
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up?? | Frank Warmerdam, warmerdam at pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush? ? | Geospatial Software Developer
>
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From even.rouault at mines-paris.org  Tue Oct  9 11:45:01 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 9 Oct 2012 20:45:01 +0200
Subject: [gdal-dev] Strange errors with large vrt
In-Reply-To: <50745A11.6090805@gmail.com>
References: <50745A11.6090805@gmail.com>
Message-ID: <201210092045.01951.even.rouault@mines-paris.org>

Le mardi 09 octobre 2012 19:08:33, yvecai a ?crit :
> I'm trying to make a world-wide hillshade dataset filling SRTM void from
> Aster, and using Aster data only between 60?N and 72?N.
> I computed all 1x1? hillshade tiles, but now I'm struggling to work with
> a vrt.
> If I make a .vrt of all ~29'000 single 1x1? tiles, I don't have any data
> above 60?N, neither with Mapnik gdal datasource, nor gdal_translate, nor
> gdal2tiles.

Did you check that there was no error or warning reported when building the 
VRT ?

What do you mean by "I don't have any data" ? Do you mean that if you do an 
extraction from that VRT, you get no significant data ? What does gdalinfo 
report on the generated VRT ? Does it reported extent goes above 60? ? 

> But if I make a small 38-files .vrt around 60?N, gdal_translate with a
> -projwin works well.
> 
> Maybe someone can see a difference between hillshade2_N58E164.tif and
> hillshade2_N63E164.tif ? See gdalinfo below, I don't.

I don't see any difference... But all the files you provided in the archive are 
definitely odd : their first band is set to 0. Only the 2nd band (alpha band= 
has non uniform data. So that might explain what you saw with the huge .vrt

> Also, vrt files and some tiles can be found at
> http://www.pistes-nordiques.org/download/extract.zip (16MB).

No VRT files in that zip.


From tkeitt at gmail.com  Tue Oct  9 12:03:01 2012
From: tkeitt at gmail.com (Tim Keitt)
Date: Tue, 9 Oct 2012 14:03:01 -0500
Subject: [gdal-dev] Small meshing utility
In-Reply-To: <CALGmxEKLzB4VNUpQWYMYx0HfbPO=yYovGBh=gZOknOh8JT8e8w@mail.gmail.com>
References: <CANnL8gq1awd0K+Z+60DqC_YsdUxYVmoOYRB5dP2ZkkdM=etZMA@mail.gmail.com>
	<CALGmxEKdPkd5V3NgCxRjc44fh-cNbMiXki8PYMJKvNsv8X7obQ@mail.gmail.com>
	<CANnL8gra7Cm1jwEizK7XbP6xgA_v5xadfLK_1bmk+uVztUjhXA@mail.gmail.com>
	<CALGmxEKLzB4VNUpQWYMYx0HfbPO=yYovGBh=gZOknOh8JT8e8w@mail.gmail.com>
Message-ID: <CANnL8gpPjTW+N3v5=Ji5kN3dktSohYOWHGQxTjTeevbsAivhaw@mail.gmail.com>

On Tue, Oct 9, 2012 at 11:07 AM, Chris Barker <chris.barker at noaa.gov> wrote:
> On Sun, Oct 7, 2012 at 8:33 PM, Tim Keitt <tkeitt at gmail.com> wrote:
>
>>> cool! though I"m a little confused as to how this fits with OGR.
>>
>> OGR is used for i/o.
>>
>
> I see -- so you've written something like the triangle command line
> utility, but with OGR for IO, so you don't need to use triangles
> particular data file format? sounds useful.
>
>>> Also -- how did you deal with the fact that triangle calls the system
>>> exit() function on error -- that could bring down whatever your host
>>> process is.
>>
>> Its a simple command line utility. Not much harm done if it calls exit.
>
> I see -- I was thinking you'd extended the OGR library, rather than
> the OGR command line tools. I get it now.
>
>>> We've written a wrapper around triangle for Python (anyone feel free
>>> to send me a note if you're interested), and we ended up handling that
>>> by spawning another process to run triangle in -- but that has
>>> performance issues (copying data around) which would be nice to avoid.
>>
>> I don't call triangle, I pass arguments to the C-level API.
>
> neither do we -- we also use the C-API -- but if you need to run it in
> another process you need to ass the data around somehow -- and if you
> want to call it as a library from a longer-running application, then
> the calls to exit() will kill you (well, kill your app...) if you
> don't run it in another process.
>
>>> If only triangle has a nicer licensing scheme -- it really is a nice utility.
>>
>> Only prohibition is you can't sell it without a license.
>
> well, "commercial" is not clearly defined in the license -- why not
> just GPL the darn thing!
>
> and it's not BSD-compatible in any case.

I don't have any plans to sell software that includes triangle, so I'm
not concerned. We don't distribute it either with our code, so that is
not a problem. You could probably sell software that required the user
to build triangle and be perfectly legit if you were so inclined. I
don't think what is written on the triangle web site is really
enforceable unless you distributed the triangle code or compiled
library with your software. The author's wishes mean that triangle
will likely remain stand-alone and not incorporated into FOSS
projects, but that is perfectly fine for my uses of the library.

THK


>
> -Chris
>
>
>
> --
>
> Christopher Barker, Ph.D.
> Oceanographer
>
> Emergency Response Division
> NOAA/NOS/OR&R            (206) 526-6959   voice
> 7600 Sand Point Way NE   (206) 526-6329   fax
> Seattle, WA  98115       (206) 526-6317   main reception
>
> Chris.Barker at noaa.gov
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Timothy H. Keitt
http://www.keittlab.org/

From even.rouault at mines-paris.org  Tue Oct  9 12:25:49 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 9 Oct 2012 21:25:49 +0200
Subject: [gdal-dev] Motion: Release 1.9.2
In-Reply-To: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
References: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
Message-ID: <201210092125.49454.even.rouault@mines-paris.org>

Le mardi 09 octobre 2012 18:27:29, Frank Warmerdam a ?crit :
> Motion: The GDAL/OGR 1.9.2RC2 release is promoted to be the
> official GDAL/OGR 1.9.2 release.
> 
+1 Even

From gabrielfusca at suremptec.com.ar  Tue Oct  9 13:35:56 2012
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Tue, 9 Oct 2012 17:35:56 -0300
Subject: [gdal-dev] [ OGR SQL: Excecuting select where column name starts
 with "_" SO: Windows 7, GDAL/OGR 1.9.x
Message-ID: <CAJ1ZnRUUeb7d5oQHevO=qO5n_AhF5thaJ8RLtfdXK0HYEa1rDg@mail.gmail.com>

Hi,

I?m getting a sql parsing error when I tried to execute a query to a
shapefile where column name starts with "_".

When i execute a query like : ogrinfo Provincias.shp -sql "SELECT * FROM
Provincias WHERE tipo = 1"

INFO: Open of `Provincias.shp'
      using driver `ESRI Shapefile' successful.
Layer name: Provincias
Geometry: Line String
Feature Count: 21
Extent: (309062.030000, 3895521.900000) - (2039227.590000, 7591083.240000)
Layer SRS WKT:
PROJCS["500K",
    GEOGCS["GCS_WGS_1984",
        DATUM["WGS_1984",
            SPHEROID["WGS_84",6378137.0,298.257223563]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.017453292519943295]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["False_Easting",1000000.0],
    PARAMETER["False_Northing",0.0],
    PARAMETER["Central_Meridian",-64.0],
    PARAMETER["Scale_Factor",1.0],
    PARAMETER["Latitude_Of_Origin",-90.0],
    UNIT["Meter",1.0]]
ID: String (1.0)
_tipo_Area: Integer (10.0)
_desc_Area: String (1.0)
tipo: Integer (10.0)
OGRFeature(Provincias):29
  ID (String) = 0
  _tipo_Area (Integer) = 1
  _desc_Area (String) = (null)
  tipo (Integer) = 1
  LINESTRING (873405.76 7463549.34,873313.54 7463695.39,872765.09
7465104.71,872
623.98 7465495.26)

But when i want to execute a query like "SELECT * FROM Provincias WHERE
_tipoArea = 1"


> ogrinfo Provincias.shp -sql "SELECT * FROM
WHERE _tipo_Area = 1"
INFO: Open of `Provincias.shp'
      using driver `ESRI Shapefile' successful.
ERROR 1: SQL Expression Parsing Error: syntax error


Any ideas on how to get around this?

Best regards,

-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121009/7be36719/attachment.html>

From yvecai at gmail.com  Tue Oct  9 14:08:17 2012
From: yvecai at gmail.com (yvecai)
Date: Tue, 09 Oct 2012 23:08:17 +0200
Subject: [gdal-dev] Strange errors with large vrt
In-Reply-To: <201210092045.01951.even.rouault@mines-paris.org>
References: <50745A11.6090805@gmail.com>
	<201210092045.01951.even.rouault@mines-paris.org>
Message-ID: <50749241.7020004@gmail.com>

On 10/09/2012 08:45 PM, Even Rouault wrote:
> Did you check that there was no error or warning reported when 
> building the VRT ? 
There is no warning from gdalbuiltvrt, is there a flag for a verbose mode?

> What do you mean by "I don't have any data" ? Do you mean that if you 
> do an extraction from that VRT, you get no significant data ? 
If I make a crop with gdal_translate I only have a hillshade from the 
areas originating from SRTM, but not from the Aster areas. The result of 
gdal_translate is empty above 61?N.
Obviously this could come from the fact I used to distinct step to 
generate hillshade files for SRTM and then for Aster, but I can't see no 
differences between them ??

> What does gdalinfo report on the generated VRT ? Does it reported 
> extent goes above 60? ? 
Should be ok:

    Corner Coordinates:
    Upper Left  (-20037508.316,17822038.826) (180d 0' 0.00"W, 83d 0' 0.50"N)
    Lower Left  (-20037508.316,-11402298.645) (180d 0' 0.00"W, 71d 0'
    0.28"S)
    Upper Right (20037428.628,17822038.826) (179d59'57.42"E, 83d 0' 0.50"N)
    Lower Right (20037428.628,-11402298.645) (179d59'57.42"E, 71d 0' 0.28"S)
    Center      (     -39.844, 3209870.091) (  0d 0' 1.29"W, 27d41'21.83"N)


>> Maybe someone can see a difference between hillshade2_N58E164.tif and
>> hillshade2_N63E164.tif ? See gdalinfo below, I don't.
> I don't see any difference... But all the files you provided in the archive are
> definitely odd : their first band is set to 0. Only the 2nd band (alpha band=
> has non uniform data. So that might explain what you saw with the huge .vrt
This is intended to build a hillshade overlay for webmaps, hence the 
black + alpha.
>> Also, vrt files and some tiles can be found at
>> http://www.pistes-nordiques.org/download/extract.zip (16MB).
> No VRT files in that zip.
http://www.pistes-nordiques.org/download/small.vrt
http://www.pistes-nordiques.org/download/big.vrt

Yves
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121009/3e002670/attachment.html>

From even.rouault at mines-paris.org  Tue Oct  9 16:16:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 10 Oct 2012 01:16:59 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration service
	for GDAL
In-Reply-To: <201210071142.31090.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
Message-ID: <201210100116.59927.even.rouault@mines-paris.org>

Le dimanche 07 octobre 2012 11:42:30, Even Rouault a ?crit :
> Hi,
> 
> Following a recent similar move from MapServer, I've setup an instance of
> Travis CI, hosted continuous integration service. After each SVN commit in
> trunk, GDAL is built and the Java, Perl and Python tests are run.
> 
> Travis CI currently offers Ubuntu 12.04 i386 virtual machines. The GDAL
> build is configured with almost any possible dependencies to external
> libraries (see http://trac.osgeo.org/gdal/wiki/Buildbot for the list)
> 
> You can access to the latest builds here :
> https://travis-ci.org/#!/rouault/gdal/builds

Just a follow-up to inform you that GDAL SVN is now fully mirrored (meaning 
that it includes all branches and tags) at :

https://github.com/OSGeo/gdal

(The update script still runs on my PC.)

Travis builds are available consequently at :

https://travis-ci.org/#!/OSGeo/gdal

Both trunk and 1.9 branch benefit from Travis configuration.

Even

From gcpp.kalxas at gmail.com  Wed Oct 10 01:34:12 2012
From: gcpp.kalxas at gmail.com (Angelos Tzotsos)
Date: Wed, 10 Oct 2012 11:34:12 +0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <201210100116.59927.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210100116.59927.even.rouault@mines-paris.org>
Message-ID: <50753304.20908@gmail.com>

On 10/10/2012 02:16 AM, Even Rouault wrote:
> Le dimanche 07 octobre 2012 11:42:30, Even Rouault a ?crit :
>> Hi,
>>
>> Following a recent similar move from MapServer, I've setup an instance of
>> Travis CI, hosted continuous integration service. After each SVN commit in
>> trunk, GDAL is built and the Java, Perl and Python tests are run.
>>
>> Travis CI currently offers Ubuntu 12.04 i386 virtual machines. The GDAL
>> build is configured with almost any possible dependencies to external
>> libraries (see http://trac.osgeo.org/gdal/wiki/Buildbot for the list)
>>
>> You can access to the latest builds here :
>> https://travis-ci.org/#!/rouault/gdal/builds
> Just a follow-up to inform you that GDAL SVN is now fully mirrored (meaning
> that it includes all branches and tags) at :
>
> https://github.com/OSGeo/gdal
>
> (The update script still runs on my PC.)
>
> Travis builds are available consequently at :
>
> https://travis-ci.org/#!/OSGeo/gdal
>
> Both trunk and 1.9 branch benefit from Travis configuration.
>
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
Hi all,

This is great news.
I believe that gdal would benefit a lot with a full move to git.

Also I am wondering if we should add more OSGeo projects and members 
under this OSGeo github account.

What do you think?

Regards,
Angelos

-- 
Angelos Tzotsos
Remote Sensing Laboratory
National Technical University of Athens
http://users.ntua.gr/tzotsos


From waelinsat at gmail.com  Wed Oct 10 02:02:11 2012
From: waelinsat at gmail.com (Wael Tarhouni)
Date: Wed, 10 Oct 2012 10:02:11 +0100
Subject: [gdal-dev] Problem with Gdal/ogr Java
Message-ID: <CAPBhV0dXpF2WHGx+BSbpBCXorLYgpu7dYXAnF2fZZb1b+QMCQQ@mail.gmail.com>

Good Morning,

I'm newbie in Gdal/ogr and i'm working actually with ogr2ogr Api to import
.TAB file(Mapinfo) into a postgis database, but i wanna make it automatic
without typing in command line or executing bat files. So, i found this
source code with gdal/ogr library :
http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/ogr2ogr.java but
it doesn't  work, is there any jar file of gdal/ogr to download ?

Best regards

-- 
Wael Tarhouni
?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121010/7d3df5fd/attachment-0001.html>

From rajjad at gmail.com  Wed Oct 10 02:26:28 2012
From: rajjad at gmail.com (Imran Rajjad)
Date: Wed, 10 Oct 2012 14:26:28 +0500
Subject: [gdal-dev] Problem with Gdal/ogr Java
In-Reply-To: <CAPBhV0dXpF2WHGx+BSbpBCXorLYgpu7dYXAnF2fZZb1b+QMCQQ@mail.gmail.com>
References: <CAPBhV0dXpF2WHGx+BSbpBCXorLYgpu7dYXAnF2fZZb1b+QMCQQ@mail.gmail.com>
Message-ID: <CADz3VuWxpXuRfVbpbGxDo3+c_sfx+LYP5topdo3iz7tP+nvrwQ@mail.gmail.com>

Hi Wael.

you need to use gdal.jar file in your java project and also include
the required DLL(Win) in your class path, then  you will be able to
use GDAL in your Java project.

download from http://www.gisinternals.com/sdk/ or
http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries

look for GDAL.JAR and the required DLL files in installed folder.

regards,
Imran

On Wed, Oct 10, 2012 at 2:02 PM, Wael Tarhouni <waelinsat at gmail.com> wrote:
> Good Morning,
>
> I'm newbie in Gdal/ogr and i'm working actually with ogr2ogr Api to import
> .TAB file(Mapinfo) into a postgis database, but i wanna make it automatic
> without typing in command line or executing bat files. So, i found this
> source code with gdal/ogr library :
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/ogr2ogr.java
> but it doesn't  work, is there any jar file of gdal/ogr to download ?
>
> Best regards
>
> --
> Wael Tarhouni
> ?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
I.R

From tuomas.koivusalo at logica.com  Wed Oct 10 03:17:09 2012
From: tuomas.koivusalo at logica.com (Koivusalo, Tuomas)
Date: Wed, 10 Oct 2012 10:17:09 +0000
Subject: [gdal-dev] Dealing with ogr2ogr and cyrillic TAB files
Message-ID: <404AA6FB6ED2034B8A825D3E8BC8931D96FCA959@SE-EX021.groupinfra.com>

Hello,

I'm trying to convert bunch of MapInfo TAB files from Russian customer to PostGIS using ogr2ogr. Original TAB files are in WindowsCyrillic encoding, and they should be somehow be converted to UTF-8. For some reason, it seems that ogr2ogr messes up encoding during conversion. If I try to convert TAB to Shapefile and from Shapefile to PostGIS end result is complete mess. Direct conversion from TAB to PostGIS seems to fail due to encoding problems (I have tried to set PGCLIENTENCODING, but end result doesn't seem to change).

I have managed to create correct Cyrillic output by running ogr2ogr to convert TAB to shape, and then creating SQL from shape and then running that SQL through perl-script which fixes the encoding, but as this includes two-bit characters to columns it causes all field length constraints to break.

Does anyone know way how to deal with these encoding issues in a way that doesn't require us to use any external scripts to create correct output?

-Tuomas Koivusalo


Think green - keep it on the screen.

This e-mail and any attachment is for authorised use by the intended recipient(s) only. It may contain proprietary material, confidential information and/or be subject to legal privilege. It should not be copied, disclosed to, retained or used by, any other party. If you are not an intended recipient then please promptly delete this e-mail and any attachment and all copies and inform the sender. Thank you.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121010/e6809dad/attachment.html>

From emmanuel.sambale at gmail.com  Wed Oct 10 03:57:41 2012
From: emmanuel.sambale at gmail.com (maning sambale)
Date: Wed, 10 Oct 2012 18:57:41 +0800
Subject: [gdal-dev] clipping multiple shapefiles from a set of clipping
	polygons
In-Reply-To: <CACqBkM-NyGkxRsG1SHmaXrqWAQTtC=T2r6uTq6DcoTSRa8mH3Q@mail.gmail.com>
References: <CAPzumuE8d6tX+Ja_rYXEAYGufufS_5Q+je2NMBSVYSsq8h4kZA@mail.gmail.com>
	<5072B8D5.70709@gmail.com>
	<CAPzumuFC5WZ-7FqY4pyTQZa1-k4S5B7eRwNyzaL6KEBX6DweyQ@mail.gmail.com>
	<5072CDB7.70503@gmail.com>
	<CA+TxYvM69QByJMD8qTHmE1ikFN43g-K6Xm5DzHVQvbQAmu9X7A@mail.gmail.com>
	<CAPzumuGwcmhZWNt6uvytmP0YJkw_Nim_GbUfMQAGcrG0V3uZNg@mail.gmail.com>
	<CACqBkM-NyGkxRsG1SHmaXrqWAQTtC=T2r6uTq6DcoTSRa8mH3Q@mail.gmail.com>
Message-ID: <CAPzumuE318ZRjRJLveJ7T1+w4ocBSo4ZZs1ZoKahi-2ECdobTg@mail.gmail.com>

Dear Eli,

Thanks for this.  I tried your suggestion:

ogr2ogr -overwrite -f 'ESRI shapefile' clipped_roads.shp roads.shp
-clipsrc province.shp -clipsrclayer province -clipsrcsql 'SELECT *
FROM province WHERE provname='\''SomeName'\'''
ERROR 6: GEOS support not enabled.
ERROR 6: GEOS support not enabled.
ERROR 6: GEOS support not enabled
...
More than 1000 errors or warnings have been reported. No more will be
reported from now

I am using GDAL 1.9 Complete frameworks from KyngChaos which has
includes GEOS 3.3.5-1

On Wed, Oct 10, 2012 at 12:14 AM, Eli Adam <eadam at co.lincoln.or.us> wrote:
> ogr2ogr -f "ESRI shapefile" output.shp input.shp -clipsrc
> AdminPoly.shp -clipsrclayer AdminPoly -clipsrcsql "SELECT * FROM
> AdminPoly WHERE AttributeName_in_AdminPoly='Some_value'"



-- 
cheers,
maning
------------------------------------------------------
"Freedom is still the most radical idea of all" -N.Branden
wiki: http://esambale.wikispaces.com/
blog: http://epsg4253.wordpress.com/
------------------------------------------------------

From nikhil.parupalli at iictechnologies.com  Wed Oct 10 05:00:41 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Wed, 10 Oct 2012 12:00:41 +0000
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
Message-ID: <139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>

Duclos,

Please see this sample data attached.
So as per the code given by you we have tried and got result i.e able to find out area 

some times it shows area<0 and some times area>0 hence we get  CW and CCW.
But how do we classify in layer which is outer boundary and which is inner boundary




Geometry testgeo = geomLAKARE.GetBoundary();
                                    double area = 0;
                                    for (int l = 0; l < testgeo.GetPointCount() - 1; l++)
                                    {
                                        double x1 = testgeo.GetX(l);
                                        double y1 = testgeo.GetY(l);
                                        double x2 = testgeo.GetX(l + 1);
                                        double y2 = testgeo.GetY(l + 1);
                                        area += (x1 * y2) - (x2 * y1);
                                    }

Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: s duclos [sylvain_duclos at yahoo.com]
Sent: Tuesday, October 09, 2012 11:58 PM
To: Frank Warmerdam; Nikhil Sai Parupalli
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] S57 dataset boundary issue

Frank & Nikhil,


Frank asked:

>are, I'm not sure what I or others can do about
>the performance cost of checking.


If I understand the problem, then it cost nothing!

You have to check the winding while loading a OGRGeometryH
like so:
                double area = 0;
                for (unsigned int i=0; i<vert_count-1; i++) {
                    double x1 = OGR_G_GetX(hRing, i);
                    double y1 = OGR_G_GetY(hRing, i);
                    double x2 = OGR_G_GetX(hRing, i+1);
                    double y2 = OGR_G_GetY(hRing, i+1);
                    area += (x1*y2) - (x2*y1);
                }


If the area < 0 then it is CW (clockwise) and > 0 is CCW (Counter CW).

Note that in S57 the exterior ring must be CW and
interior ring are CCW.

But in S57 there is no order between rings. So interior ring
might come first. I think WKT fix this. In my code I assume
that OGR place the exterior ring first.


We have been trough this before. At the time the question

was if S57 allow for many exterior ring for the same poly.

I guess it all depend on HO and how they encode the data.

I'm using mostly Canadian ENC and found no problem.

But other HO might encode ENC differently ..




rdgs,


Sylvain Duclos.







>________________________________
> From: Frank Warmerdam <warmerdam at pobox.com>
>To: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>Sent: Tuesday, October 9, 2012 12:25:29 PM
>Subject: Re: [gdal-dev] S57 dataset boundary issue
>
>
>
>
>
>On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com> wrote:
>
>HI All,
>>,
>>?
>>Thanks for the reply in below data
>>
>>? NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>?  NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>?  ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>?  USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>?  MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>
>>?RCID 691 ORNT has  2 and USAG is 1 based on this data we could identify that RCID 691 is of exterior boundary with reverse direction.
>>
>>So if I have 1000 RCID in  NAME_RCID which is vise versa for the above condition I need to display that RCIDS list as errors.
>>So it makes 1000 conditional checks hence reducing performance.
>>
>>Please let us know further.
>
>
>Nikhil,
>
>
>I'm afraid I don't follow your point.  Are you trying to
>do some sort of ring orientation validation and identify
>ones that don't match your expectations?  And you
>are concerned about the performance cost?
>
>
>I don't know why you are doing this, and if you
>are, I'm not sure what I or others can do about
>the performance cost of checking.
>
>
>Best regards,--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Software Developer
>
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: GB5X02SE.zip
Type: application/x-zip-compressed
Size: 4756 bytes
Desc: GB5X02SE.zip
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121010/1d2afc9e/attachment-0001.bin>

From sylvain_duclos at yahoo.com  Wed Oct 10 06:32:30 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed, 10 Oct 2012 06:32:30 -0700 (PDT)
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>
Message-ID: <1349875950.20312.YahooMailNeo@web110804.mail.gq1.yahoo.com>

Nikhil,

I loaded your ENC.

I see a number of depth area (DEPARE) and anchor zone area (ACHARE).

But no inner ring!

Is there an inner rings somewhere I should see?



rgds,

Sylvain.



----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam <warmerdam at pobox.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Wednesday, October 10, 2012 8:00:41 AM
> Subject: RE: [gdal-dev] S57 dataset boundary issue
> 
> Duclos,
> 
> Please see this sample data attached.
> So as per the code given by you we have tried and got result i.e able to find 
> out area 
> 
> some times it shows area<0 and some times area>0 hence we get? CW and CCW.
> But how do we classify in layer which is outer boundary and which is inner 
> boundary
> 
> 
> 
> 
> Geometry testgeo = geomLAKARE.GetBoundary();
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double area = 0;
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? for (int l = 0; l < 
> testgeo.GetPointCount() - 1; l++)
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? {
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double x1 = testgeo.GetX(l);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double y1 = testgeo.GetY(l);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double x2 = testgeo.GetX(l + 1);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double y2 = testgeo.GetY(l + 1);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? area += (x1 * y2) - (x2 * y1);
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? }
> 
> Thanks and Regards
> Nikhil Sai Parupalli
> 
> 
> 
> Note: Do not print this email until and unless it is really required. Save paper 
> , stay Green
> 
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Tuesday, October 09, 2012 11:58 PM
> To: Frank Warmerdam; Nikhil Sai Parupalli
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 dataset boundary issue
> 
> Frank & Nikhil,
> 
> 
> Frank asked:
> 
>> are, I'm not sure what I or others can do about
>> the performance cost of checking.
> 
> 
> If I understand the problem, then it cost nothing!
> 
> You have to check the winding while loading a OGRGeometryH
> like so:
> ? ? ? ? ? ? ? ? double area = 0;
> ? ? ? ? ? ? ? ? for (unsigned int i=0; i<vert_count-1; i++) {
> ? ? ? ? ? ? ? ? ? ? double x1 = OGR_G_GetX(hRing, i);
> ? ? ? ? ? ? ? ? ? ? double y1 = OGR_G_GetY(hRing, i);
> ? ? ? ? ? ? ? ? ? ? double x2 = OGR_G_GetX(hRing, i+1);
> ? ? ? ? ? ? ? ? ? ? double y2 = OGR_G_GetY(hRing, i+1);
> ? ? ? ? ? ? ? ? ? ? area += (x1*y2) - (x2*y1);
> ? ? ? ? ? ? ? ? }
> 
> 
> If the area < 0 then it is CW (clockwise) and > 0 is CCW (Counter CW).
> 
> Note that in S57 the exterior ring must be CW and
> interior ring are CCW.
> 
> But in S57 there is no order between rings. So interior ring
> might come first. I think WKT fix this. In my code I assume
> that OGR place the exterior ring first.
> 
> 
> We have been trough this before. At the time the question
> 
> was if S57 allow for many exterior ring for the same poly.
> 
> I guess it all depend on HO and how they encode the data.
> 
> I'm using mostly Canadian ENC and found no problem.
> 
> But other HO might encode ENC differently ..
> 
> 
> 
> 
> rdgs,
> 
> 
> Sylvain Duclos.
> 
> 
> 
> 
> 
> 
> 
>> ________________________________
>>  From: Frank Warmerdam <warmerdam at pobox.com>
>> To: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>> Sent: Tuesday, October 9, 2012 12:25:29 PM
>> Subject: Re: [gdal-dev] S57 dataset boundary issue
>> 
>> 
>> 
>> 
>> 
>> On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli 
> <nikhil.parupalli at iictechnologies.com> wrote:
>> 
>> HI All,
>>> ,
>>> ?
>>> Thanks for the reply in below data
>>> 
>>> ? NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>> ?? NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>> ?? ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>> ?? USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>> ?? MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>> 
>>> ?RCID 691 ORNT has? 2 and USAG is 1 based on this data we could identify 
> that RCID 691 is of exterior boundary with reverse direction.
>>> 
>>> So if I have 1000 RCID in? NAME_RCID which is vise versa for the above 
> condition I need to display that RCIDS list as errors.
>>> So it makes 1000 conditional checks hence reducing performance.
>>> 
>>> Please let us know further.
>> 
>> 
>> Nikhil,
>> 
>> 
>> I'm afraid I don't follow your point.? Are you trying to
>> do some sort of ring orientation validation and identify
>> ones that don't match your expectations?? And you
>> are concerned about the performance cost?
>> 
>> 
>> I don't know why you are doing this, and if you
>> are, I'm not sure what I or others can do about
>> the performance cost of checking.
>> 
>> 
>> Best regards,--
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up?  | Frank Warmerdam, 
> warmerdam at pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush? ? | Geospatial Software Developer
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> 
> 

From etourigny.dev at gmail.com  Wed Oct 10 06:48:48 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Wed, 10 Oct 2012 10:48:48 -0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <50753304.20908@gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210100116.59927.even.rouault@mines-paris.org>
	<50753304.20908@gmail.com>
Message-ID: <CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>

IMHO git (with github) is a great platform for collaboration.  You
might find yourself swamped with pull requests though...

cheers
Etienne

On Wed, Oct 10, 2012 at 5:34 AM, Angelos Tzotsos <gcpp.kalxas at gmail.com> wrote:
> On 10/10/2012 02:16 AM, Even Rouault wrote:
>>
>> Le dimanche 07 octobre 2012 11:42:30, Even Rouault a ?crit :
>>>
>>> Hi,
>>>
>>> Following a recent similar move from MapServer, I've setup an instance of
>>> Travis CI, hosted continuous integration service. After each SVN commit
>>> in
>>> trunk, GDAL is built and the Java, Perl and Python tests are run.
>>>
>>> Travis CI currently offers Ubuntu 12.04 i386 virtual machines. The GDAL
>>> build is configured with almost any possible dependencies to external
>>> libraries (see http://trac.osgeo.org/gdal/wiki/Buildbot for the list)
>>>
>>> You can access to the latest builds here :
>>> https://travis-ci.org/#!/rouault/gdal/builds
>>
>> Just a follow-up to inform you that GDAL SVN is now fully mirrored
>> (meaning
>> that it includes all branches and tags) at :
>>
>> https://github.com/OSGeo/gdal
>>
>> (The update script still runs on my PC.)
>>
>> Travis builds are available consequently at :
>>
>> https://travis-ci.org/#!/OSGeo/gdal
>>
>> Both trunk and 1.9 branch benefit from Travis configuration.
>>
>> Even
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> Hi all,
>
> This is great news.
> I believe that gdal would benefit a lot with a full move to git.
>
> Also I am wondering if we should add more OSGeo projects and members under
> this OSGeo github account.
>
> What do you think?
>
> Regards,
> Angelos
>
> --
> Angelos Tzotsos
> Remote Sensing Laboratory
> National Technical University of Athens
> http://users.ntua.gr/tzotsos
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From sylvain_duclos at yahoo.com  Wed Oct 10 07:29:52 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed, 10 Oct 2012 07:29:52 -0700 (PDT)
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD6324@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>,
	<1349875950.20312.YahooMailNeo@web110804.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6324@IICEXHC01.iictechnologies.local>
Message-ID: <1349879392.49952.YahooMailNeo@web110807.mail.gq1.yahoo.com>

Hi Nikhil,

I loaded US1GC09M//US1GC09M.000 .. it's huge :)

It's the Gulf of Mexico .. now where should I look ? 



About the inner / outer ring. As I said before, I just assume that OGR?
send me the outer ring first. And, up to now, my code is working fine.


rgds,

Sylvain.




----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam <warmerdam at pobox.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Wednesday, October 10, 2012 9:40:54 AM
> Subject: RE: [gdal-dev] S57 dataset boundary issue
> 
> Could you try on this data set please
> 
> Thanks and Regards
> Nikhil Sai Parupalli
> 
> 
> 
> Note: Do not print this email until and unless it is really required. Save paper 
> , stay Green
> 
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Wednesday, October 10, 2012 7:02 PM
> To: Nikhil Sai Parupalli; Frank Warmerdam
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 dataset boundary issue
> 
> Nikhil,
> 
> I loaded your ENC.
> 
> I see a number of depth area (DEPARE) and anchor zone area (ACHARE).
> 
> But no inner ring!
> 
> Is there an inner rings somewhere I should see?
> 
> 
> 
> rgds,
> 
> Sylvain.
> 
> 
> 
> ----- Original Message -----
>>  From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>  To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam 
> <warmerdam at pobox.com>
>>  Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>>  Sent: Wednesday, October 10, 2012 8:00:41 AM
>>  Subject: RE: [gdal-dev] S57 dataset boundary issue
>> 
>>  Duclos,
>> 
>>  Please see this sample data attached.
>>  So as per the code given by you we have tried and got result i.e able to 
> find
>>  out area
>> 
>>  some times it shows area<0 and some times area>0 hence we get? CW and 
> CCW.
>>  But how do we classify in layer which is outer boundary and which is inner
>>  boundary
>> 
>> 
>> 
>> 
>>  Geometry testgeo = geomLAKARE.GetBoundary();
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  double area = 0;
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  for (int l = 0; l <
>>  testgeo.GetPointCount() - 1; l++)
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  {
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  double x1 = testgeo.GetX(l);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  double y1 = testgeo.GetY(l);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  double x2 = testgeo.GetX(l + 1);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  double y2 = testgeo.GetY(l + 1);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  area += (x1 * y2) - (x2 * y1);
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?  }
>> 
>>  Thanks and Regards
>>  Nikhil Sai Parupalli
>> 
>> 
>> 
>>  Note: Do not print this email until and unless it is really required. Save 
> paper
>>  , stay Green
>> 
>>  ________________________________________
>>  From: s duclos [sylvain_duclos at yahoo.com]
>>  Sent: Tuesday, October 09, 2012 11:58 PM
>>  To: Frank Warmerdam; Nikhil Sai Parupalli
>>  Cc: gdal-dev at lists.osgeo.org
>>  Subject: Re: [gdal-dev] S57 dataset boundary issue
>> 
>>  Frank & Nikhil,
>> 
>> 
>>  Frank asked:
>> 
>>>  are, I'm not sure what I or others can do about
>>>  the performance cost of checking.
>> 
>> 
>>  If I understand the problem, then it cost nothing!
>> 
>>  You have to check the winding while loading a OGRGeometryH
>>  like so:
>> ? ? ? ? ? ? ? ?  double area = 0;
>> ? ? ? ? ? ? ? ?  for (unsigned int i=0; i<vert_count-1; i++) {
>> ? ? ? ? ? ? ? ? ? ?  double x1 = OGR_G_GetX(hRing, i);
>> ? ? ? ? ? ? ? ? ? ?  double y1 = OGR_G_GetY(hRing, i);
>> ? ? ? ? ? ? ? ? ? ?  double x2 = OGR_G_GetX(hRing, i+1);
>> ? ? ? ? ? ? ? ? ? ?  double y2 = OGR_G_GetY(hRing, i+1);
>> ? ? ? ? ? ? ? ? ? ?  area += (x1*y2) - (x2*y1);
>> ? ? ? ? ? ? ? ?  }
>> 
>> 
>>  If the area < 0 then it is CW (clockwise) and > 0 is CCW (Counter 
> CW).
>> 
>>  Note that in S57 the exterior ring must be CW and
>>  interior ring are CCW.
>> 
>>  But in S57 there is no order between rings. So interior ring
>>  might come first. I think WKT fix this. In my code I assume
>>  that OGR place the exterior ring first.
>> 
>> 
>>  We have been trough this before. At the time the question
>> 
>>  was if S57 allow for many exterior ring for the same poly.
>> 
>>  I guess it all depend on HO and how they encode the data.
>> 
>>  I'm using mostly Canadian ENC and found no problem.
>> 
>>  But other HO might encode ENC differently ..
>> 
>> 
>> 
>> 
>>  rdgs,
>> 
>> 
>>  Sylvain Duclos.
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>>>  ________________________________
>>> ? From: Frank Warmerdam <warmerdam at pobox.com>
>>>  To: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>>  Cc: "gdal-dev at lists.osgeo.org" 
> <gdal-dev at lists.osgeo.org>
>>>  Sent: Tuesday, October 9, 2012 12:25:29 PM
>>>  Subject: Re: [gdal-dev] S57 dataset boundary issue
>>> 
>>> 
>>> 
>>> 
>>> 
>>>  On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli
>>  <nikhil.parupalli at iictechnologies.com> wrote:
>>> 
>>>  HI All,
>>>>  ,
>>>> 
>>>>  Thanks for the reply in below data
>>>> 
>>>> ?  NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>>> ? ? NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>>> ? ? ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>>> ? ? USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>>> ? ? MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>>> 
>>>> ? RCID 691 ORNT has? 2 and USAG is 1 based on this data we could 
> identify
>>  that RCID 691 is of exterior boundary with reverse direction.
>>>> 
>>>>  So if I have 1000 RCID in? NAME_RCID which is vise versa for the 
> above
>>  condition I need to display that RCIDS list as errors.
>>>>  So it makes 1000 conditional checks hence reducing performance.
>>>> 
>>>>  Please let us know further.
>>> 
>>> 
>>>  Nikhil,
>>> 
>>> 
>>>  I'm afraid I don't follow your point.? Are you trying to
>>>  do some sort of ring orientation validation and identify
>>>  ones that don't match your expectations?? And you
>>>  are concerned about the performance cost?
>>> 
>>> 
>>>  I don't know why you are doing this, and if you
>>>  are, I'm not sure what I or others can do about
>>>  the performance cost of checking.
>>> 
>>> 
>>>  Best regards,--
>>> 
> ---------------------------------------+--------------------------------------
>>>  I set the clouds in motion - turn up?  | Frank Warmerdam,
>>  warmerdam at pobox.com
>>>  light and sound - activate the windows | http://pobox.com/~warmerdam
>>>  and watch the world go round - Rush? ? | Geospatial Software Developer
>>> 
>>> 
>>>  _______________________________________________
>>>  gdal-dev mailing list
>>>  gdal-dev at lists.osgeo.org
>>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> 
>>> 
>> 
> 

From nikhil.parupalli at iictechnologies.com  Wed Oct 10 07:40:27 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Wed, 10 Oct 2012 14:40:27 +0000
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <1349879392.49952.YahooMailNeo@web110807.mail.gq1.yahoo.com>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>,
	<1349875950.20312.YahooMailNeo@web110804.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6324@IICEXHC01.iictechnologies.local>,
	<1349879392.49952.YahooMailNeo@web110807.mail.gq1.yahoo.com>
Message-ID: <139560E1825F4648BDA4F32853B530A767BD6346@IICEXHC01.iictechnologies.local>

Hey Sylvain,

Thanks for trying the data which I have sent.

Could you be helping me how this works like outer boundary and inner boundary.



Based on the code which you have sent we could find out CW and CCW, but not outer/inner
Please have a look at that data set once and let me know.
Or if you have any sample data with simple representation of outer and inner boundaries please do share with me.




Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: s duclos [sylvain_duclos at yahoo.com]
Sent: Wednesday, October 10, 2012 7:59 PM
To: Nikhil Sai Parupalli; Frank Warmerdam
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] S57 dataset boundary issue

Hi Nikhil,

I loaded US1GC09M//US1GC09M.000 .. it's huge :)

It's the Gulf of Mexico .. now where should I look ?



About the inner / outer ring. As I said before, I just assume that OGR
send me the outer ring first. And, up to now, my code is working fine.


rgds,

Sylvain.




----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam <warmerdam at pobox.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Wednesday, October 10, 2012 9:40:54 AM
> Subject: RE: [gdal-dev] S57 dataset boundary issue
>
> Could you try on this data set please
>
> Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required. Save paper
> , stay Green
>
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Wednesday, October 10, 2012 7:02 PM
> To: Nikhil Sai Parupalli; Frank Warmerdam
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 dataset boundary issue
>
> Nikhil,
>
> I loaded your ENC.
>
> I see a number of depth area (DEPARE) and anchor zone area (ACHARE).
>
> But no inner ring!
>
> Is there an inner rings somewhere I should see?
>
>
>
> rgds,
>
> Sylvain.
>
>
>
> ----- Original Message -----
>>  From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>  To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam
> <warmerdam at pobox.com>
>>  Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>>  Sent: Wednesday, October 10, 2012 8:00:41 AM
>>  Subject: RE: [gdal-dev] S57 dataset boundary issue
>>
>>  Duclos,
>>
>>  Please see this sample data attached.
>>  So as per the code given by you we have tried and got result i.e able to
> find
>>  out area
>>
>>  some times it shows area<0 and some times area>0 hence we get  CW and
> CCW.
>>  But how do we classify in layer which is outer boundary and which is inner
>>  boundary
>>
>>
>>
>>
>>  Geometry testgeo = geomLAKARE.GetBoundary();
>>                                      double area = 0;
>>                                      for (int l = 0; l <
>>  testgeo.GetPointCount() - 1; l++)
>>                                      {
>>                                          double x1 = testgeo.GetX(l);
>>                                          double y1 = testgeo.GetY(l);
>>                                          double x2 = testgeo.GetX(l + 1);
>>                                          double y2 = testgeo.GetY(l + 1);
>>                                          area += (x1 * y2) - (x2 * y1);
>>                                      }
>>
>>  Thanks and Regards
>>  Nikhil Sai Parupalli
>>
>>
>>
>>  Note: Do not print this email until and unless it is really required. Save
> paper
>>  , stay Green
>>
>>  ________________________________________
>>  From: s duclos [sylvain_duclos at yahoo.com]
>>  Sent: Tuesday, October 09, 2012 11:58 PM
>>  To: Frank Warmerdam; Nikhil Sai Parupalli
>>  Cc: gdal-dev at lists.osgeo.org
>>  Subject: Re: [gdal-dev] S57 dataset boundary issue
>>
>>  Frank & Nikhil,
>>
>>
>>  Frank asked:
>>
>>>  are, I'm not sure what I or others can do about
>>>  the performance cost of checking.
>>
>>
>>  If I understand the problem, then it cost nothing!
>>
>>  You have to check the winding while loading a OGRGeometryH
>>  like so:
>>                  double area = 0;
>>                  for (unsigned int i=0; i<vert_count-1; i++) {
>>                      double x1 = OGR_G_GetX(hRing, i);
>>                      double y1 = OGR_G_GetY(hRing, i);
>>                      double x2 = OGR_G_GetX(hRing, i+1);
>>                      double y2 = OGR_G_GetY(hRing, i+1);
>>                      area += (x1*y2) - (x2*y1);
>>                  }
>>
>>
>>  If the area < 0 then it is CW (clockwise) and > 0 is CCW (Counter
> CW).
>>
>>  Note that in S57 the exterior ring must be CW and
>>  interior ring are CCW.
>>
>>  But in S57 there is no order between rings. So interior ring
>>  might come first. I think WKT fix this. In my code I assume
>>  that OGR place the exterior ring first.
>>
>>
>>  We have been trough this before. At the time the question
>>
>>  was if S57 allow for many exterior ring for the same poly.
>>
>>  I guess it all depend on HO and how they encode the data.
>>
>>  I'm using mostly Canadian ENC and found no problem.
>>
>>  But other HO might encode ENC differently ..
>>
>>
>>
>>
>>  rdgs,
>>
>>
>>  Sylvain Duclos.
>>
>>
>>
>>
>>
>>
>>
>>>  ________________________________
>>>   From: Frank Warmerdam <warmerdam at pobox.com>
>>>  To: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>>  Cc: "gdal-dev at lists.osgeo.org"
> <gdal-dev at lists.osgeo.org>
>>>  Sent: Tuesday, October 9, 2012 12:25:29 PM
>>>  Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>
>>>
>>>
>>>
>>>
>>>  On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli
>>  <nikhil.parupalli at iictechnologies.com> wrote:
>>>
>>>  HI All,
>>>>  ,
>>>>
>>>>  Thanks for the reply in below data
>>>>
>>>>    NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>>>     NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>>>     ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>>>     USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>>>     MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>>>
>>>>   RCID 691 ORNT has  2 and USAG is 1 based on this data we could
> identify
>>  that RCID 691 is of exterior boundary with reverse direction.
>>>>
>>>>  So if I have 1000 RCID in  NAME_RCID which is vise versa for the
> above
>>  condition I need to display that RCIDS list as errors.
>>>>  So it makes 1000 conditional checks hence reducing performance.
>>>>
>>>>  Please let us know further.
>>>
>>>
>>>  Nikhil,
>>>
>>>
>>>  I'm afraid I don't follow your point.  Are you trying to
>>>  do some sort of ring orientation validation and identify
>>>  ones that don't match your expectations?  And you
>>>  are concerned about the performance cost?
>>>
>>>
>>>  I don't know why you are doing this, and if you
>>>  are, I'm not sure what I or others can do about
>>>  the performance cost of checking.
>>>
>>>
>>>  Best regards,--
>>>
> ---------------------------------------+--------------------------------------
>>>  I set the clouds in motion - turn up   | Frank Warmerdam,
>>  warmerdam at pobox.com
>>>  light and sound - activate the windows | http://pobox.com/~warmerdam
>>>  and watch the world go round - Rush    | Geospatial Software Developer
>>>
>>>
>>>  _______________________________________________
>>>  gdal-dev mailing list
>>>  gdal-dev at lists.osgeo.org
>>>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>

From alisson.uece at gmail.com  Wed Oct 10 08:03:39 2012
From: alisson.uece at gmail.com (alissonzkv)
Date: Wed, 10 Oct 2012 08:03:39 -0700 (PDT)
Subject: [gdal-dev] OGRGeometry::Intersection
In-Reply-To: <1349807089052-5007490.post@n6.nabble.com>
References: <1349807089052-5007490.post@n6.nabble.com>
Message-ID: <1349881419393-5007743.post@n6.nabble.com>

Hi Hugo,

I have the same problem.

Regards,



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/OGRGeometry-Intersection-tp5007490p5007743.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From sylvain_duclos at yahoo.com  Wed Oct 10 08:13:37 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed, 10 Oct 2012 08:13:37 -0700 (PDT)
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD6346@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>,
	<1349875950.20312.YahooMailNeo@web110804.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6324@IICEXHC01.iictechnologies.local>,
	<1349879392.49952.YahooMailNeo@web110807.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6346@IICEXHC01.iictechnologies.local>
Message-ID: <1349882017.93013.YahooMailNeo@web110809.mail.gq1.yahoo.com>

Hi Nikhil,

> Based on the code which you have sent we could find out CW and CCW, but not 
> outer/inner

The outer ring of OGRGeometryH poly is? the ring 0 (zero).


In C code the OGR call:


??????????? guint??????? nRingCount = OGR_G_GetGeometryCount(hGeom);


will give you the number of rings in a poly.

Say there is 2 rings for this hGeom. Then the outer ring is

??? OGRGeometryH *hGeomRef_outter? = OGR_G_GetGeometryRef(hGeom, 0);

and the inner ring is

??? OGRGeometryH *hGeomRef_inner? = OGR_G_GetGeometryRef(hGeom, 1);



> Please have a look at that data set once and let me know.


There is nothing in attachment? 


rgds,

Sylvain.



----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam <warmerdam at pobox.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Wednesday, October 10, 2012 10:40:27 AM
> Subject: RE: [gdal-dev] S57 dataset boundary issue
> 
> Hey Sylvain,
> 
> Thanks for trying the data which I have sent.
> 
> Could you be helping me how this works like outer boundary and inner boundary.
> 
> 
> 
> Based on the code which you have sent we could find out CW and CCW, but not 
> outer/inner
> Please have a look at that data set once and let me know.
> Or if you have any sample data with simple representation of outer and inner 
> boundaries please do share with me.
> 
> 
> 
> 
> Thanks and Regards
> Nikhil Sai Parupalli
> 
> 
> 
> Note: Do not print this email until and unless it is really required. Save paper 
> , stay Green
> 
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Wednesday, October 10, 2012 7:59 PM
> To: Nikhil Sai Parupalli; Frank Warmerdam
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 dataset boundary issue
> 
> Hi Nikhil,
> 
> I loaded US1GC09M//US1GC09M.000 .. it's huge :)
> 
> It's the Gulf of Mexico .. now where should I look ?
> 
> 
> 
> About the inner / outer ring. As I said before, I just assume that OGR
> send me the outer ring first. And, up to now, my code is working fine.
> 
> 
> rgds,
> 
> Sylvain.
> 
> 
> 
> 
> ----- Original Message -----
>>  From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>  To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam 
> <warmerdam at pobox.com>
>>  Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>>  Sent: Wednesday, October 10, 2012 9:40:54 AM
>>  Subject: RE: [gdal-dev] S57 dataset boundary issue
>> 
>>  Could you try on this data set please
>> 
>>  Thanks and Regards
>>  Nikhil Sai Parupalli
>> 
>> 
>> 
>>  Note: Do not print this email until and unless it is really required. Save 
> paper
>>  , stay Green
>> 
>>  ________________________________________
>>  From: s duclos [sylvain_duclos at yahoo.com]
>>  Sent: Wednesday, October 10, 2012 7:02 PM
>>  To: Nikhil Sai Parupalli; Frank Warmerdam
>>  Cc: gdal-dev at lists.osgeo.org
>>  Subject: Re: [gdal-dev] S57 dataset boundary issue
>> 
>>  Nikhil,
>> 
>>  I loaded your ENC.
>> 
>>  I see a number of depth area (DEPARE) and anchor zone area (ACHARE).
>> 
>>  But no inner ring!
>> 
>>  Is there an inner rings somewhere I should see?
>> 
>> 
>> 
>>  rgds,
>> 
>>  Sylvain.
>> 
>> 
>> 
>>  ----- Original Message -----
>>> ? From: Nikhil Sai Parupalli 
> <nikhil.parupalli at iictechnologies.com>
>>> ? To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam
>>  <warmerdam at pobox.com>
>>> ? Cc: "gdal-dev at lists.osgeo.org" 
> <gdal-dev at lists.osgeo.org>
>>> ? Sent: Wednesday, October 10, 2012 8:00:41 AM
>>> ? Subject: RE: [gdal-dev] S57 dataset boundary issue
>>> 
>>> ? Duclos,
>>> 
>>> ? Please see this sample data attached.
>>> ? So as per the code given by you we have tried and got result i.e able 
> to
>>  find
>>> ? out area
>>> 
>>> ? some times it shows area<0 and some times area>0 hence we get? 
> CW and
>>  CCW.
>>> ? But how do we classify in layer which is outer boundary and which is 
> inner
>>> ? boundary
>>> 
>>> 
>>> 
>>> 
>>> ? Geometry testgeo = geomLAKARE.GetBoundary();
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double area = 0;
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? for (int l = 0; l <
>>> ? testgeo.GetPointCount() - 1; l++)
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? {
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double x1 = testgeo.GetX(l);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double y1 = testgeo.GetY(l);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double x2 = testgeo.GetX(l + 
> 1);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? double y2 = testgeo.GetY(l + 
> 1);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? area += (x1 * y2) - (x2 * y1);
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? }
>>> 
>>> ? Thanks and Regards
>>> ? Nikhil Sai Parupalli
>>> 
>>> 
>>> 
>>> ? Note: Do not print this email until and unless it is really required. 
> Save
>>  paper
>>> ? , stay Green
>>> 
>>> ? ________________________________________
>>> ? From: s duclos [sylvain_duclos at yahoo.com]
>>> ? Sent: Tuesday, October 09, 2012 11:58 PM
>>> ? To: Frank Warmerdam; Nikhil Sai Parupalli
>>> ? Cc: gdal-dev at lists.osgeo.org
>>> ? Subject: Re: [gdal-dev] S57 dataset boundary issue
>>> 
>>> ? Frank & Nikhil,
>>> 
>>> 
>>> ? Frank asked:
>>> 
>>>> ? are, I'm not sure what I or others can do about
>>>> ? the performance cost of checking.
>>> 
>>> 
>>> ? If I understand the problem, then it cost nothing!
>>> 
>>> ? You have to check the winding while loading a OGRGeometryH
>>> ? like so:
>>> ? ? ? ? ? ? ? ? ? double area = 0;
>>> ? ? ? ? ? ? ? ? ? for (unsigned int i=0; i<vert_count-1; i++) {
>>> ? ? ? ? ? ? ? ? ? ? ? double x1 = OGR_G_GetX(hRing, i);
>>> ? ? ? ? ? ? ? ? ? ? ? double y1 = OGR_G_GetY(hRing, i);
>>> ? ? ? ? ? ? ? ? ? ? ? double x2 = OGR_G_GetX(hRing, i+1);
>>> ? ? ? ? ? ? ? ? ? ? ? double y2 = OGR_G_GetY(hRing, i+1);
>>> ? ? ? ? ? ? ? ? ? ? ? area += (x1*y2) - (x2*y1);
>>> ? ? ? ? ? ? ? ? ? }
>>> 
>>> 
>>> ? If the area < 0 then it is CW (clockwise) and > 0 is CCW 
> (Counter
>>  CW).
>>> 
>>> ? Note that in S57 the exterior ring must be CW and
>>> ? interior ring are CCW.
>>> 
>>> ? But in S57 there is no order between rings. So interior ring
>>> ? might come first. I think WKT fix this. In my code I assume
>>> ? that OGR place the exterior ring first.
>>> 
>>> 
>>> ? We have been trough this before. At the time the question
>>> 
>>> ? was if S57 allow for many exterior ring for the same poly.
>>> 
>>> ? I guess it all depend on HO and how they encode the data.
>>> 
>>> ? I'm using mostly Canadian ENC and found no problem.
>>> 
>>> ? But other HO might encode ENC differently ..
>>> 
>>> 
>>> 
>>> 
>>> ? rdgs,
>>> 
>>> 
>>> ? Sylvain Duclos.
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>>> ? ________________________________
>>>> ?  From: Frank Warmerdam <warmerdam at pobox.com>
>>>> ? To: Nikhil Sai Parupalli 
> <nikhil.parupalli at iictechnologies.com>
>>>> ? Cc: "gdal-dev at lists.osgeo.org"
>>  <gdal-dev at lists.osgeo.org>
>>>> ? Sent: Tuesday, October 9, 2012 12:25:29 PM
>>>> ? Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> ? On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli
>>> ? <nikhil.parupalli at iictechnologies.com> wrote:
>>>> 
>>>> ? HI All,
>>>>> ? ,
>>>>> 
>>>>> ? Thanks for the reply in below data
>>>>> 
>>>>> ? ? NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>>>> ? ?  NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>>>> ? ?  ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>>>> ? ?  USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>>>> ? ?  MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>>>> 
>>>>> ?  RCID 691 ORNT has? 2 and USAG is 1 based on this data we 
> could
>>  identify
>>> ? that RCID 691 is of exterior boundary with reverse direction.
>>>>> 
>>>>> ? So if I have 1000 RCID in? NAME_RCID which is vise versa for 
> the
>>  above
>>> ? condition I need to display that RCIDS list as errors.
>>>>> ? So it makes 1000 conditional checks hence reducing 
> performance.
>>>>> 
>>>>> ? Please let us know further.
>>>> 
>>>> 
>>>> ? Nikhil,
>>>> 
>>>> 
>>>> ? I'm afraid I don't follow your point.? Are you trying to
>>>> ? do some sort of ring orientation validation and identify
>>>> ? ones that don't match your expectations?? And you
>>>> ? are concerned about the performance cost?
>>>> 
>>>> 
>>>> ? I don't know why you are doing this, and if you
>>>> ? are, I'm not sure what I or others can do about
>>>> ? the performance cost of checking.
>>>> 
>>>> 
>>>> ? Best regards,--
>>>> 
>> 
> ---------------------------------------+--------------------------------------
>>>> ? I set the clouds in motion - turn up?  | Frank Warmerdam,
>>> ? warmerdam at pobox.com
>>>> ? light and sound - activate the windows | 
> http://pobox.com/~warmerdam
>>>> ? and watch the world go round - Rush? ? | Geospatial Software 
> Developer
>>>> 
>>>> 
>>>> ? _______________________________________________
>>>> ? gdal-dev mailing list
>>>> ? gdal-dev at lists.osgeo.org
>>>> ? http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>> 
>>>> 
>>> 
>> 
> 

From alisson.uece at gmail.com  Wed Oct 10 10:48:07 2012
From: alisson.uece at gmail.com (Alisson Barbosa)
Date: Wed, 10 Oct 2012 14:48:07 -0300
Subject: [gdal-dev] OGRGeometry::Intersection returns NULL
Message-ID: <CALwK9YwyC3e7C+S9uQbHq_mTdViKKxC68W89Ue9hrGQLL4QgWA@mail.gmail.com>

Hello, guys!

I'm truggling through a rough moment here...
I have this piece of code in a project that I work on:

if(basinPolygon->Intersects(luPolygon))
{
        OGRGeometry *result = basinPolygon->Intersection(luPolygon);
        if(result)
                newLayer.push_back(result);
}

Somehow, the Intersects function returns true for those polygons
(basinPolygon and luPolygon) (i.e. there is a intersection area between
them), but

    basinPolygon->Intersection(luPolygon);

Always returns NULL! why is it returning NULL if Intersects returns true?!
This is a mistery for me!
:(

If I replace Intersection by another similar method like Union, I still get
a NULL as response.

Here is the documentation of
OGRGeometry::Intersection<http://www.gdal.org/ogr/classOGRGeometry.html#a202ad4c29487ca046c4a2b055042cb6a>

It tells me that a NULL can be returned if an error occurs. But I don't
have any clue to actually know if some error (and which error) has occured!

Anyone? Any ideias? :S
Thanks in advance,
hbobenicio.

-- 
Alisson Barbosa
Systems Analyst - FUNCEME - Brazil
M.Sc. in Computer Science - MACC
Graduate in Computer Science  - UECE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121010/b91412ba/attachment.html>

From even.rouault at mines-paris.org  Wed Oct 10 11:21:52 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 10 Oct 2012 20:21:52 +0200
Subject: [gdal-dev] OGRGeometry::Intersection returns NULL
In-Reply-To: <CALwK9YwyC3e7C+S9uQbHq_mTdViKKxC68W89Ue9hrGQLL4QgWA@mail.gmail.com>
References: <CALwK9YwyC3e7C+S9uQbHq_mTdViKKxC68W89Ue9hrGQLL4QgWA@mail.gmail.com>
Message-ID: <201210102021.52855.even.rouault@mines-paris.org>

Le mercredi 10 octobre 2012 19:48:07, Alisson Barbosa a ?crit :
> Hello, guys!
> 
> I'm truggling through a rough moment here...
> I have this piece of code in a project that I work on:
> 
> if(basinPolygon->Intersects(luPolygon))
> {
>         OGRGeometry *result = basinPolygon->Intersection(luPolygon);
>         if(result)
>                 newLayer.push_back(result);
> }
> 
> Somehow, the Intersects function returns true for those polygons
> (basinPolygon and luPolygon) (i.e. there is a intersection area between
> them), but
> 
>     basinPolygon->Intersection(luPolygon);
> 
> Always returns NULL! why is it returning NULL if Intersects returns true?!
> This is a mistery for me!

The likely cause is documented in the page you quoted

About Intersection(): "This method is built on the GEOS library, check it for 
the definition of the geometry operation. If OGR is built without the GEOS 
library, this method will always fail, issuing a CPLE_NotSupported error."

About Intersects(): "If GEOS is enabled, then this is done in rigerous fashion 
otherwise TRUE is returned if the envelopes (bounding boxes) of the two 
features overlap."

Take your symptoms and the above highlighted precisions, and you should have 
the answer.


From even.rouault at mines-paris.org  Wed Oct 10 12:24:11 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 10 Oct 2012 21:24:11 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
	service for GDAL
In-Reply-To: <CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<50753304.20908@gmail.com>
	<CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>
Message-ID: <201210102124.12118.even.rouault@mines-paris.org>

Le mercredi 10 octobre 2012 15:48:48, Etienne Tourigny a ?crit :
> IMHO git (with github) is a great platform for collaboration.  You
> might find yourself swamped with pull requests though...

I'd be curious to know if the current use of SVN really deters people from 
contributing to GDAL, whereas they would contribute more actively if GIT was 
used as the prime VCS (*).

My feeling is that the main barrier to contribution lies more in understanding 
how the source works rather than the tools around.

Anyway, whatever the VCS, as you underlined, you still need competent eyes to 
review, comment on, fix by themselves the patch or ask the contributor to do 
changes, apply, or reject patches... Trac has already such patches waiting.

But as a SVN committer, my opinion is obviously biased since contributing is 
of course more straighforward than for a non-GDAL committer. GIT has certainly 
a more egalitarian approach (everyone can commit or fork), although that 
someone that hasn't push rights can only send pull requests to the main 
repository.

My knowledge of GIT is rather limited, but, for a GDAL contributor without 
commit (SVN)/push(GIT) rights to the main repository, what improvements would 
a full move to GIT would offer with respect to the current git-svn mirroring ?

Best regards,

Even

(*) What would be interesting to know also is : wouldn't a move to GIT deter 
current GDAL contributors ?

From etourigny.dev at gmail.com  Wed Oct 10 12:49:49 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Wed, 10 Oct 2012 16:49:49 -0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <201210102124.12118.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<50753304.20908@gmail.com>
	<CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>
	<201210102124.12118.even.rouault@mines-paris.org>
Message-ID: <CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>

Hi Even,

the main advantage of github is that you can manage patches/pull
requests more easily, and it's easy for someone to setup a fork with
substantial changes, and anyone can pull that fork and try it without
much hassle.
The other way of doing it with trac/svn is to upload patches to
tickets, and then more patches after review etc.... Which works fine,
but a bit clumsy compared to github forks and pull requests.


On Wed, Oct 10, 2012 at 4:24 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le mercredi 10 octobre 2012 15:48:48, Etienne Tourigny a ?crit :
>> IMHO git (with github) is a great platform for collaboration.  You
>> might find yourself swamped with pull requests though...
>
> I'd be curious to know if the current use of SVN really deters people from
> contributing to GDAL, whereas they would contribute more actively if GIT was
> used as the prime VCS (*).

You are right, it might deter some devs, but I'm not sure if the
balance would be positive or negative in that view.

>
> My feeling is that the main barrier to contribution lies more in understanding
> how the source works rather than the tools around.
>
> Anyway, whatever the VCS, as you underlined, you still need competent eyes to
> review, comment on, fix by themselves the patch or ask the contributor to do
> changes, apply, or reject patches... Trac has already such patches waiting.

I'd also say - if it works don't fix it.  Transitioning to git(hub) is
certainly possible (QGIS managed to get it working well), but it will
entain some productivity loss in the short term.

But my experience with github (for QGIS) has been overall a more fluid
one than with svn (for gdal).

I even did some collaborative work last year in gdal using github as
the shared repos, and pushing to svn but that was a bit clumsy (the
git-svn part) and I have stopped using that approach.

>
> But as a SVN committer, my opinion is obviously biased since contributing is
> of course more straighforward than for a non-GDAL committer. GIT has certainly
> a more egalitarian approach (everyone can commit or fork), although that
> someone that hasn't push rights can only send pull requests to the main
> repository.

I'd say svn is fine for core devs, not optimal for occasional submitters.

>
> My knowledge of GIT is rather limited, but, for a GDAL contributor without
> commit (SVN)/push(GIT) rights to the main repository, what improvements would
> a full move to GIT would offer with respect to the current git-svn mirroring ?

a more seamless flow between the dev's work and pushes to the main source.

As far as I can tell, the git part of your setup is just for the
continuous builds right? In fact git is used as a read-only, so I
don't see how having a git mirror helps contributing code.

cheers
Etienne

>
> Best regards,
>
> Even
>
> (*) What would be interesting to know also is : wouldn't a move to GIT deter
> current GDAL contributors ?

From mateusz at loskot.net  Wed Oct 10 12:52:47 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 10 Oct 2012 20:52:47 +0100
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<50753304.20908@gmail.com>
	<CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>
	<201210102124.12118.even.rouault@mines-paris.org>
	<CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
Message-ID: <CABUeae-kh1nA69x-n=+aHhW9QJpdeObXf4qDs4Pzkop9NqNOew@mail.gmail.com>

On 10 October 2012 20:49, Etienne Tourigny <etourigny.dev at gmail.com> wrote:
> Hi Even,
>
> the main advantage of github is that (...)

Guys, you're discuss apples (Even on Git) and oranges (Etienne on GitHub).

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From etourigny.dev at gmail.com  Wed Oct 10 13:06:32 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Wed, 10 Oct 2012 17:06:32 -0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <CABUeae-kh1nA69x-n=+aHhW9QJpdeObXf4qDs4Pzkop9NqNOew@mail.gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<50753304.20908@gmail.com>
	<CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>
	<201210102124.12118.even.rouault@mines-paris.org>
	<CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
	<CABUeae-kh1nA69x-n=+aHhW9QJpdeObXf4qDs4Pzkop9NqNOew@mail.gmail.com>
Message-ID: <CA+TxYvP=oVj7Y1UJ=PTzDUD_P14Jz__vM--46s-K=TiHvzzeTg@mail.gmail.com>

On Wed, Oct 10, 2012 at 4:52 PM, Mateusz Loskot <mateusz at loskot.net> wrote:
> On 10 October 2012 20:49, Etienne Tourigny <etourigny.dev at gmail.com> wrote:
>> Hi Even,
>>
>> the main advantage of github is that (...)
>
> Guys, you're discuss apples (Even on Git) and oranges (Etienne on GitHub).

sort of - I'm advocating for the use of git on github...

cheers

>
> Best regards,
> --
> Mateusz Loskot, http://mateusz.loskot.net

From even.rouault at mines-paris.org  Wed Oct 10 13:55:08 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 10 Oct 2012 22:55:08 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
	service for GDAL
In-Reply-To: <CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210102124.12118.even.rouault@mines-paris.org>
	<CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
Message-ID: <201210102255.08493.even.rouault@mines-paris.org>

Le mercredi 10 octobre 2012 21:49:49, Etienne Tourigny a ?crit :
> Hi Even,
> 
> the main advantage of github is that you can manage patches/pull
> requests more easily, and it's easy for someone to setup a fork with
> substantial changes, and anyone can pull that fork and try it without
> much hassle.
> The other way of doing it with trac/svn is to upload patches to
> tickets, and then more patches after review etc.... Which works fine,
> but a bit clumsy compared to github forks and pull requests.

If someone submits a pull requests, and if that submitted code needs to be 
changed due to what is seen during the review, what is the process ? It is 
certainly nice to be able to merge the history of commits (I often wish that 
submitted patches to Trac would be split into more logical smaller changesets 
to make review easier). But that only makes sense when the history is clean 
(you generally don't care about trial-and-errors intermediate commits that 
would pollute the history of the main repository). I believe that it is 
possible to do that with git ("git rewrite history" leads to http://git-
scm.com/book/ch6-4.html), but to my non-git specialists eyes, this looks far 
from being obvious. Do you know how QGIS for example deal with that ?

> 
> I even did some collaborative work last year in gdal using github as
> the shared repos, and pushing to svn but that was a bit clumsy (the
> git-svn part) and I have stopped using that approach.

you mean "git svn dcommit" didn't work as you expected ?

> 
> > But as a SVN committer, my opinion is obviously biased since contributing
> > is of course more straighforward than for a non-GDAL committer. GIT has
> > certainly a more egalitarian approach (everyone can commit or fork),
> > although that someone that hasn't push rights can only send pull
> > requests to the main repository.
> 
> I'd say svn is fine for core devs, not optimal for occasional submitters.
> 
> > My knowledge of GIT is rather limited, but, for a GDAL contributor
> > without commit (SVN)/push(GIT) rights to the main repository, what
> > improvements would a full move to GIT would offer with respect to the
> > current git-svn mirroring ?
> 
> a more seamless flow between the dev's work and pushes to the main source.
> 
> As far as I can tell, the git part of your setup is just for the
> continuous builds right?

Yes mostly, and because it might be more convenient for people prefering GIT 
to do work. This could also be a kind of cheap test bench to assess what 
switching to GIT could bring to GDAL.

> In fact git is used as a read-only, so I
> don't see how having a git mirror helps contributing code.

Can't people fork the git mirror ? My hope was that a GDAL SVN committer could 
use its own git-svn mirror, that has a origin to OSGeo/gdal, and try to merge 
in it pull requests submitted to OSGeo/gdal, and then git svn dcommit. I 
thought this was possible, but I might be wrong. I'm aware that git-svn would 
be more complicated than a pure GIT repository. But, from the side of 
occasional contributors, would that make a difference in their process ?

I'm trying to understand if the git-svn mirror can bring some factual evidence 
that a switch to GIT would be beneficial.

Even

From dburken at comcast.net  Wed Oct 10 18:44:13 2012
From: dburken at comcast.net (David Burken)
Date: Wed, 10 Oct 2012 21:44:13 -0400
Subject: [gdal-dev] build error - conflicting cpl_serv.h
Message-ID: <5076246D.2090207@comcast.net>

Hi Everyone,

Just fyi, I can't build gdal with an external libgeotif without doing a 
hack...  Both gdal and libgeotiff from svn trunk.  libtiff, geotiff were 
installed in a fresh sandbox.  Then configured gdal to use external 
libtiff/geotiff.

I got gdal to build by removing the libgeotiff installed cpl_serv.h and 
copying gdal/frmts/gtiff/libgeotiff/cpl_serv.h  to gdal/port/cpl_serv.h 
(in build include path).  That's a hack I know but fixed.  This was 
broken before and fixed.  Seems like it's back again.

Not an issue for me but I thought I'd report it...  Error from build below.

Take care,
Dave


make[2]: Entering directory `/home/work/test/gdal/frmts/gtiff'
/bin/sh /work/test/gdal/libtool --mode=compile --tag=CXX g++ -g -O2 
-Wall  -I..  -I../jpeg -DHAVE_LIBJPEG -I/work/test/gdal/port 
-I/work/test/gdal/gcore -I/work/test/gdal/alg -I/work/test/gdal/ogr 
-I/work/test/gdal/ogr/ogrsf_frmts  -DBIGTIFF_SUPPORT -DOGR_ENABLED 
-D_REENTRANT  -I/work/test/gdal/port -I/usr/local/ossim/include 
-I/usr/local/ossim/include  -c -o ../o/gt_wkt_srs.lo gt_wkt_srs.cpp
libtool: compile:  g++ -g -O2 -Wall -I.. -I../jpeg -DHAVE_LIBJPEG 
-I/work/test/gdal/port -I/work/test/gdal/gcore -I/work/test/gdal/alg 
-I/work/test/gdal/ogr -I/work/test/gdal/ogr/ogrsf_frmts 
-DBIGTIFF_SUPPORT -DOGR_ENABLED -D_REENTRANT -I/work/test/gdal/port 
-I/usr/local/ossim/include -I/usr/local/ossim/include -c gt_wkt_srs.cpp  
-fPIC -DPIC -o ../o/.libs/gt_wkt_srs.o
In file included from /work/test/gdal/port/cpl_port.h:84,
                  from /work/test/gdal/ogr/ogr_core.h:33,
                  from /work/test/gdal/ogr/ogr_srs_api.h:34,
                  from /work/test/gdal/ogr/ogr_spatialref.h:34,
                  from gt_wkt_srs.cpp:38:
/work/test/gdal/port/cpl_config.h:106:1: warning: "HAVE_STDLIB_H" redefined
In file included from /usr/local/ossim/include/cpl_serv.h:36,
                  from gt_wkt_srs.cpp:33:
/usr/local/ossim/include/geo_config.h:5:1: warning: this is the location 
of the previous definition
In file included from /work/test/gdal/port/cpl_port.h:84,
                  from /work/test/gdal/ogr/ogr_core.h:33,
                  from /work/test/gdal/ogr/ogr_srs_api.h:34,
                  from /work/test/gdal/ogr/ogr_spatialref.h:34,
                  from gt_wkt_srs.cpp:38:
/work/test/gdal/port/cpl_config.h:112:1: warning: "HAVE_STRING_H" redefined
In file included from /usr/local/ossim/include/cpl_serv.h:36,
                  from gt_wkt_srs.cpp:33:
/usr/local/ossim/include/geo_config.h:11:1: warning: this is the 
location of the previous definition
gt_wkt_srs.cpp: In function 'CPLErr GTIFWktFromMemBuf(int, unsigned 
char*, char**, double*, int*, GDAL_GCP**)':
gt_wkt_srs.cpp:2331: error: 'CPLString' was not declared in this scope
gt_wkt_srs.cpp:2331: error: expected ';' before 'osFilename'
gt_wkt_srs.cpp:2333: error: 'osFilename' was not declared in this scope
make[2]: *** [../o/gt_wkt_srs.lo] Error 1
make[2]: Leaving directory `/home/work/test/gdal/frmts/gtiff'
make[1]: *** [gtiff-install-obj] Error 2
make[1]: Leaving directory `/home/work/test/gdal/frmts'
make: *** [frmts-target] Error 2


From nikhil.parupalli at iictechnologies.com  Wed Oct 10 22:26:47 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Thu, 11 Oct 2012 05:26:47 +0000
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD6363@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>,
	<1349875950.20312.YahooMailNeo@web110804.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6324@IICEXHC01.iictechnologies.local>,
	<1349879392.49952.YahooMailNeo@web110807.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6346@IICEXHC01.iictechnologies.local>,
	<1349882017.93013.YahooMailNeo@web110809.mail.gq1.yahoo.com>,
	<139560E1825F4648BDA4F32853B530A767BD6363@IICEXHC01.iictechnologies.local>
Message-ID: <139560E1825F4648BDA4F32853B530A767BD63A1@IICEXHC01.iictechnologies.local>

Hey Sylvain,

Thanks for your inputs, we have successfully implemented the same in our project .
I have one more question i.e 
If I have a polygon how to find out edges of it programmatic do we have any function to get all  the edges of polygon(area)


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: Nikhil Sai Parupalli
Sent: Wednesday, October 10, 2012 9:07 PM
To: s duclos
Subject: RE: [gdal-dev] S57 dataset boundary issue

Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: s duclos [sylvain_duclos at yahoo.com]
Sent: Wednesday, October 10, 2012 8:43 PM
To: Nikhil Sai Parupalli; Frank Warmerdam
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] S57 dataset boundary issue

Hi Nikhil,

> Based on the code which you have sent we could find out CW and CCW, but not
> outer/inner

The outer ring of OGRGeometryH poly is  the ring 0 (zero).


In C code the OGR call:


            guint        nRingCount = OGR_G_GetGeometryCount(hGeom);


will give you the number of rings in a poly.

Say there is 2 rings for this hGeom. Then the outer ring is

    OGRGeometryH *hGeomRef_outter  = OGR_G_GetGeometryRef(hGeom, 0);

and the inner ring is

    OGRGeometryH *hGeomRef_inner  = OGR_G_GetGeometryRef(hGeom, 1);



> Please have a look at that data set once and let me know.


There is nothing in attachment


rgds,

Sylvain.



----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam <warmerdam at pobox.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Wednesday, October 10, 2012 10:40:27 AM
> Subject: RE: [gdal-dev] S57 dataset boundary issue
>
> Hey Sylvain,
>
> Thanks for trying the data which I have sent.
>
> Could you be helping me how this works like outer boundary and inner boundary.
>
>
>
> Based on the code which you have sent we could find out CW and CCW, but not
> outer/inner
> Please have a look at that data set once and let me know.
> Or if you have any sample data with simple representation of outer and inner
> boundaries please do share with me.
>
>
>
>
> Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required. Save paper
> , stay Green
>
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Wednesday, October 10, 2012 7:59 PM
> To: Nikhil Sai Parupalli; Frank Warmerdam
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 dataset boundary issue
>
> Hi Nikhil,
>
> I loaded US1GC09M//US1GC09M.000 .. it's huge :)
>
> It's the Gulf of Mexico .. now where should I look ?
>
>
>
> About the inner / outer ring. As I said before, I just assume that OGR
> send me the outer ring first. And, up to now, my code is working fine.
>
>
> rgds,
>
> Sylvain.
>
>
>
>
> ----- Original Message -----
>>  From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>  To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam
> <warmerdam at pobox.com>
>>  Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>>  Sent: Wednesday, October 10, 2012 9:40:54 AM
>>  Subject: RE: [gdal-dev] S57 dataset boundary issue
>>
>>  Could you try on this data set please
>>
>>  Thanks and Regards
>>  Nikhil Sai Parupalli
>>
>>
>>
>>  Note: Do not print this email until and unless it is really required. Save
> paper
>>  , stay Green
>>
>>  ________________________________________
>>  From: s duclos [sylvain_duclos at yahoo.com]
>>  Sent: Wednesday, October 10, 2012 7:02 PM
>>  To: Nikhil Sai Parupalli; Frank Warmerdam
>>  Cc: gdal-dev at lists.osgeo.org
>>  Subject: Re: [gdal-dev] S57 dataset boundary issue
>>
>>  Nikhil,
>>
>>  I loaded your ENC.
>>
>>  I see a number of depth area (DEPARE) and anchor zone area (ACHARE).
>>
>>  But no inner ring!
>>
>>  Is there an inner rings somewhere I should see?
>>
>>
>>
>>  rgds,
>>
>>  Sylvain.
>>
>>
>>
>>  ----- Original Message -----
>>>   From: Nikhil Sai Parupalli
> <nikhil.parupalli at iictechnologies.com>
>>>   To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam
>>  <warmerdam at pobox.com>
>>>   Cc: "gdal-dev at lists.osgeo.org"
> <gdal-dev at lists.osgeo.org>
>>>   Sent: Wednesday, October 10, 2012 8:00:41 AM
>>>   Subject: RE: [gdal-dev] S57 dataset boundary issue
>>>
>>>   Duclos,
>>>
>>>   Please see this sample data attached.
>>>   So as per the code given by you we have tried and got result i.e able
> to
>>  find
>>>   out area
>>>
>>>   some times it shows area<0 and some times area>0 hence we get
> CW and
>>  CCW.
>>>   But how do we classify in layer which is outer boundary and which is
> inner
>>>   boundary
>>>
>>>
>>>
>>>
>>>   Geometry testgeo = geomLAKARE.GetBoundary();
>>>                                       double area = 0;
>>>                                       for (int l = 0; l <
>>>   testgeo.GetPointCount() - 1; l++)
>>>                                       {
>>>                                           double x1 = testgeo.GetX(l);
>>>                                           double y1 = testgeo.GetY(l);
>>>                                           double x2 = testgeo.GetX(l +
> 1);
>>>                                           double y2 = testgeo.GetY(l +
> 1);
>>>                                           area += (x1 * y2) - (x2 * y1);
>>>                                       }
>>>
>>>   Thanks and Regards
>>>   Nikhil Sai Parupalli
>>>
>>>
>>>
>>>   Note: Do not print this email until and unless it is really required.
> Save
>>  paper
>>>   , stay Green
>>>
>>>   ________________________________________
>>>   From: s duclos [sylvain_duclos at yahoo.com]
>>>   Sent: Tuesday, October 09, 2012 11:58 PM
>>>   To: Frank Warmerdam; Nikhil Sai Parupalli
>>>   Cc: gdal-dev at lists.osgeo.org
>>>   Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>
>>>   Frank & Nikhil,
>>>
>>>
>>>   Frank asked:
>>>
>>>>   are, I'm not sure what I or others can do about
>>>>   the performance cost of checking.
>>>
>>>
>>>   If I understand the problem, then it cost nothing!
>>>
>>>   You have to check the winding while loading a OGRGeometryH
>>>   like so:
>>>                   double area = 0;
>>>                   for (unsigned int i=0; i<vert_count-1; i++) {
>>>                       double x1 = OGR_G_GetX(hRing, i);
>>>                       double y1 = OGR_G_GetY(hRing, i);
>>>                       double x2 = OGR_G_GetX(hRing, i+1);
>>>                       double y2 = OGR_G_GetY(hRing, i+1);
>>>                       area += (x1*y2) - (x2*y1);
>>>                   }
>>>
>>>
>>>   If the area < 0 then it is CW (clockwise) and > 0 is CCW
> (Counter
>>  CW).
>>>
>>>   Note that in S57 the exterior ring must be CW and
>>>   interior ring are CCW.
>>>
>>>   But in S57 there is no order between rings. So interior ring
>>>   might come first. I think WKT fix this. In my code I assume
>>>   that OGR place the exterior ring first.
>>>
>>>
>>>   We have been trough this before. At the time the question
>>>
>>>   was if S57 allow for many exterior ring for the same poly.
>>>
>>>   I guess it all depend on HO and how they encode the data.
>>>
>>>   I'm using mostly Canadian ENC and found no problem.
>>>
>>>   But other HO might encode ENC differently ..
>>>
>>>
>>>
>>>
>>>   rdgs,
>>>
>>>
>>>   Sylvain Duclos.
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>>   ________________________________
>>>>    From: Frank Warmerdam <warmerdam at pobox.com>
>>>>   To: Nikhil Sai Parupalli
> <nikhil.parupalli at iictechnologies.com>
>>>>   Cc: "gdal-dev at lists.osgeo.org"
>>  <gdal-dev at lists.osgeo.org>
>>>>   Sent: Tuesday, October 9, 2012 12:25:29 PM
>>>>   Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>   On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli
>>>   <nikhil.parupalli at iictechnologies.com> wrote:
>>>>
>>>>   HI All,
>>>>>   ,
>>>>>
>>>>>   Thanks for the reply in below data
>>>>>
>>>>>     NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>>>>      NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>>>>      ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>>>>      USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>>>>      MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>>>>
>>>>>    RCID 691 ORNT has  2 and USAG is 1 based on this data we
> could
>>  identify
>>>   that RCID 691 is of exterior boundary with reverse direction.
>>>>>
>>>>>   So if I have 1000 RCID in  NAME_RCID which is vise versa for
> the
>>  above
>>>   condition I need to display that RCIDS list as errors.
>>>>>   So it makes 1000 conditional checks hence reducing
> performance.
>>>>>
>>>>>   Please let us know further.
>>>>
>>>>
>>>>   Nikhil,
>>>>
>>>>
>>>>   I'm afraid I don't follow your point.  Are you trying to
>>>>   do some sort of ring orientation validation and identify
>>>>   ones that don't match your expectations?  And you
>>>>   are concerned about the performance cost?
>>>>
>>>>
>>>>   I don't know why you are doing this, and if you
>>>>   are, I'm not sure what I or others can do about
>>>>   the performance cost of checking.
>>>>
>>>>
>>>>   Best regards,--
>>>>
>>
> ---------------------------------------+--------------------------------------
>>>>   I set the clouds in motion - turn up   | Frank Warmerdam,
>>>   warmerdam at pobox.com
>>>>   light and sound - activate the windows |
> http://pobox.com/~warmerdam
>>>>   and watch the world go round - Rush    | Geospatial Software
> Developer
>>>>
>>>>
>>>>   _______________________________________________
>>>>   gdal-dev mailing list
>>>>   gdal-dev at lists.osgeo.org
>>>>   http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>
>>
>

From nikhil.parupalli at iictechnologies.com  Wed Oct 10 23:28:40 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Thu, 11 Oct 2012 06:28:40 +0000
Subject: [gdal-dev] (no subject)
Message-ID: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>

Hi All,

How do we get to know which S57 dataset has update sin it..


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121011/e7ec479b/attachment.html>

From ari.jolma at gmail.com  Thu Oct 11 06:58:08 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Thu, 11 Oct 2012 16:58:08 +0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<50753304.20908@gmail.com>
	<CA+TxYvMqJ4FvAyPs12XNGEGm5vAi4CwUh=qvXPDYA2QHs+EuMQ@mail.gmail.com>
	<201210102124.12118.even.rouault@mines-paris.org>
	<CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
Message-ID: <5076D070.2050307@gmail.com>

On 10/10/2012 10:49 PM, Etienne Tourigny wrote:
> Hi Even,
>
>
> On Wed, Oct 10, 2012 at 4:24 PM, Even Rouault
> <even.rouault at mines-paris.org> wrote:
>
>> My feeling is that the main barrier to contribution lies more in understanding
>> how the source works rather than the tools around.
>>
>> Anyway, whatever the VCS, as you underlined, you still need competent eyes to
>> review, comment on, fix by themselves the patch or ask the contributor to do
>> changes, apply, or reject patches... Trac has already such patches waiting.
> I'd also say - if it works don't fix it.  Transitioning to git(hub) is
> certainly possible (QGIS managed to get it working well), but it will
> entain some productivity loss in the short term.

Just a small, probably very controversial, comment on this issue. If 
something works but you don't understand how or why, then the situation 
is very dangerous. You can get to this situation also when someone 
knowledgeable leaves. I would say that for example the swig part of GDAL 
is very difficult to grasp - there simply are so many moving parts. 
Thus, some development effort should be put into fixing working things.

I once did a test to re-organize (sanitize ;) the swig tree of GDAL - 
this is still in the sandbox. I also don't know enough of Git to know 
whether tests or forks like that would get more exposure or testing, but 
I'm interested in it. There are also some major issues that could be 
tested with GDAL (for example dynamic run-time loading of drivers like 
modules are loaded into Linux kernel, or XYZM support) - if these things 
could be developed and tested better with Git, I'm also interested.

Cheers,

Ari
https://github.com/ajolma


From sylvain_duclos at yahoo.com  Thu Oct 11 08:19:35 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Thu, 11 Oct 2012 08:19:35 -0700 (PDT)
Subject: [gdal-dev] S57 dataset boundary issue
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD63A1@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD5EB3@IICEXHC01.iictechnologies.local>
	<CA+YzLBf1zVwcXvEyfd7gonSBvSH=c_xiUuY0pE9otRjhYkFxjQ@mail.gmail.com>,
	<1349807339.871.YahooMailNeo@web110812.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD626B@IICEXHC01.iictechnologies.local>,
	<1349875950.20312.YahooMailNeo@web110804.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6324@IICEXHC01.iictechnologies.local>,
	<1349879392.49952.YahooMailNeo@web110807.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A767BD6346@IICEXHC01.iictechnologies.local>,
	<1349882017.93013.YahooMailNeo@web110809.mail.gq1.yahoo.com>,
	<139560E1825F4648BDA4F32853B530A767BD6363@IICEXHC01.iictechnologies.local>
	<139560E1825F4648BDA4F32853B530A767BD63A1@IICEXHC01.iictechnologies.local>
Message-ID: <1349968775.77168.YahooMailNeo@web110809.mail.gq1.yahoo.com>

Nikhil,



>If I have a polygon how to find out edges of it programmatic do we have any function to get all? the edges of polygon(area)

OGR is modelled on the OpenGIS simple features data model,

http://www.gdal.org/ogr/ogr_arch.html

In this model there is no notion of edge like in S-57

You did use the OGR internal representation using RETURN_LINKAGES=ON
But that is for debugging .. it's not part of OGR official interface as I can see.

But RETURN_LINKAGES=ON give you a fighting chance if you need to find edge
and also to will need to hack the source code of OGR as it limit the output to 80 char.



rgds,

Sylvain.




>________________________________
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>To: s duclos <sylvain_duclos at yahoo.com> 
>Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org> 
>Sent: Thursday, October 11, 2012 1:26:47 AM
>Subject: RE: [gdal-dev] S57 dataset boundary issue
> 
>Hey Sylvain,
>
>Thanks for your inputs, we have successfully implemented the same in our project .
>I have one more question i.e 
>If I have a polygon how to find out edges of it programmatic do we have any function to get all? the edges of polygon(area)
>
>
>Thanks and Regards
>Nikhil Sai Parupalli
>
>
>
>Note: Do not print this email until and unless it is really required. Save paper , stay Green
>
>________________________________________
>From: Nikhil Sai Parupalli
>Sent: Wednesday, October 10, 2012 9:07 PM
>To: s duclos
>Subject: RE: [gdal-dev] S57 dataset boundary issue
>
>Thanks and Regards
>Nikhil Sai Parupalli
>
>
>
>Note: Do not print this email until and unless it is really required. Save paper , stay Green
>
>________________________________________
>From: s duclos [sylvain_duclos at yahoo.com]
>Sent: Wednesday, October 10, 2012 8:43 PM
>To: Nikhil Sai Parupalli; Frank Warmerdam
>Cc: gdal-dev at lists.osgeo.org
>Subject: Re: [gdal-dev] S57 dataset boundary issue
>
>Hi Nikhil,
>
>> Based on the code which you have sent we could find out CW and CCW, but not
>> outer/inner
>
>The outer ring of OGRGeometryH poly is? the ring 0 (zero).
>
>
>In C code the OGR call:
>
>
>? ? ? ? ? ? guint? ? ? ? nRingCount = OGR_G_GetGeometryCount(hGeom);
>
>
>will give you the number of rings in a poly.
>
>Say there is 2 rings for this hGeom. Then the outer ring is
>
>? ? OGRGeometryH *hGeomRef_outter? = OGR_G_GetGeometryRef(hGeom, 0);
>
>and the inner ring is
>
>? ? OGRGeometryH *hGeomRef_inner? = OGR_G_GetGeometryRef(hGeom, 1);
>
>
>
>> Please have a look at that data set once and let me know.
>
>
>There is nothing in attachment
>
>
>rgds,
>
>Sylvain.
>
>
>
>----- Original Message -----
>> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>> To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam <warmerdam at pobox.com>
>> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>> Sent: Wednesday, October 10, 2012 10:40:27 AM
>> Subject: RE: [gdal-dev] S57 dataset boundary issue
>>
>> Hey Sylvain,
>>
>> Thanks for trying the data which I have sent.
>>
>> Could you be helping me how this works like outer boundary and inner boundary.
>>
>>
>>
>> Based on the code which you have sent we could find out CW and CCW, but not
>> outer/inner
>> Please have a look at that data set once and let me know.
>> Or if you have any sample data with simple representation of outer and inner
>> boundaries please do share with me.
>>
>>
>>
>>
>> Thanks and Regards
>> Nikhil Sai Parupalli
>>
>>
>>
>> Note: Do not print this email until and unless it is really required. Save paper
>> , stay Green
>>
>> ________________________________________
>> From: s duclos [sylvain_duclos at yahoo.com]
>> Sent: Wednesday, October 10, 2012 7:59 PM
>> To: Nikhil Sai Parupalli; Frank Warmerdam
>> Cc: gdal-dev at lists.osgeo.org
>> Subject: Re: [gdal-dev] S57 dataset boundary issue
>>
>> Hi Nikhil,
>>
>> I loaded US1GC09M//US1GC09M.000 .. it's huge :)
>>
>> It's the Gulf of Mexico .. now where should I look ?
>>
>>
>>
>> About the inner / outer ring. As I said before, I just assume that OGR
>> send me the outer ring first. And, up to now, my code is working fine.
>>
>>
>> rgds,
>>
>> Sylvain.
>>
>>
>>
>>
>> ----- Original Message -----
>>>? From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>>>? To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam
>> <warmerdam at pobox.com>
>>>? Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>>>? Sent: Wednesday, October 10, 2012 9:40:54 AM
>>>? Subject: RE: [gdal-dev] S57 dataset boundary issue
>>>
>>>? Could you try on this data set please
>>>
>>>? Thanks and Regards
>>>? Nikhil Sai Parupalli
>>>
>>>
>>>
>>>? Note: Do not print this email until and unless it is really required. Save
>> paper
>>>? , stay Green
>>>
>>>? ________________________________________
>>>? From: s duclos [sylvain_duclos at yahoo.com]
>>>? Sent: Wednesday, October 10, 2012 7:02 PM
>>>? To: Nikhil Sai Parupalli; Frank Warmerdam
>>>? Cc: gdal-dev at lists.osgeo.org
>>>? Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>
>>>? Nikhil,
>>>
>>>? I loaded your ENC.
>>>
>>>? I see a number of depth area (DEPARE) and anchor zone area (ACHARE).
>>>
>>>? But no inner ring!
>>>
>>>? Is there an inner rings somewhere I should see?
>>>
>>>
>>>
>>>? rgds,
>>>
>>>? Sylvain.
>>>
>>>
>>>
>>>? ----- Original Message -----
>>>>???From: Nikhil Sai Parupalli
>> <nikhil.parupalli at iictechnologies.com>
>>>>???To: s duclos <sylvain_duclos at yahoo.com>; Frank Warmerdam
>>>? <warmerdam at pobox.com>
>>>>???Cc: "gdal-dev at lists.osgeo.org"
>> <gdal-dev at lists.osgeo.org>
>>>>???Sent: Wednesday, October 10, 2012 8:00:41 AM
>>>>???Subject: RE: [gdal-dev] S57 dataset boundary issue
>>>>
>>>>???Duclos,
>>>>
>>>>???Please see this sample data attached.
>>>>???So as per the code given by you we have tried and got result i.e able
>> to
>>>? find
>>>>???out area
>>>>
>>>>???some times it shows area<0 and some times area>0 hence we get
>> CW and
>>>? CCW.
>>>>???But how do we classify in layer which is outer boundary and which is
>> inner
>>>>???boundary
>>>>
>>>>
>>>>
>>>>
>>>>???Geometry testgeo = geomLAKARE.GetBoundary();
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???double area = 0;
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???for (int l = 0; l <
>>>>???testgeo.GetPointCount() - 1; l++)
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???{
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???double x1 = testgeo.GetX(l);
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???double y1 = testgeo.GetY(l);
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???double x2 = testgeo.GetX(l +
>> 1);
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???double y2 = testgeo.GetY(l +
>> 1);
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???area += (x1 * y2) - (x2 * y1);
>>>>? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ???}
>>>>
>>>>???Thanks and Regards
>>>>???Nikhil Sai Parupalli
>>>>
>>>>
>>>>
>>>>???Note: Do not print this email until and unless it is really required.
>> Save
>>>? paper
>>>>???, stay Green
>>>>
>>>>???________________________________________
>>>>???From: s duclos [sylvain_duclos at yahoo.com]
>>>>???Sent: Tuesday, October 09, 2012 11:58 PM
>>>>???To: Frank Warmerdam; Nikhil Sai Parupalli
>>>>???Cc: gdal-dev at lists.osgeo.org
>>>>???Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>>
>>>>???Frank & Nikhil,
>>>>
>>>>
>>>>???Frank asked:
>>>>
>>>>>???are, I'm not sure what I or others can do about
>>>>>???the performance cost of checking.
>>>>
>>>>
>>>>???If I understand the problem, then it cost nothing!
>>>>
>>>>???You have to check the winding while loading a OGRGeometryH
>>>>???like so:
>>>>? ? ? ? ? ? ? ? ???double area = 0;
>>>>? ? ? ? ? ? ? ? ???for (unsigned int i=0; i<vert_count-1; i++) {
>>>>? ? ? ? ? ? ? ? ? ? ???double x1 = OGR_G_GetX(hRing, i);
>>>>? ? ? ? ? ? ? ? ? ? ???double y1 = OGR_G_GetY(hRing, i);
>>>>? ? ? ? ? ? ? ? ? ? ???double x2 = OGR_G_GetX(hRing, i+1);
>>>>? ? ? ? ? ? ? ? ? ? ???double y2 = OGR_G_GetY(hRing, i+1);
>>>>? ? ? ? ? ? ? ? ? ? ???area += (x1*y2) - (x2*y1);
>>>>? ? ? ? ? ? ? ? ???}
>>>>
>>>>
>>>>???If the area < 0 then it is CW (clockwise) and > 0 is CCW
>> (Counter
>>>? CW).
>>>>
>>>>???Note that in S57 the exterior ring must be CW and
>>>>???interior ring are CCW.
>>>>
>>>>???But in S57 there is no order between rings. So interior ring
>>>>???might come first. I think WKT fix this. In my code I assume
>>>>???that OGR place the exterior ring first.
>>>>
>>>>
>>>>???We have been trough this before. At the time the question
>>>>
>>>>???was if S57 allow for many exterior ring for the same poly.
>>>>
>>>>???I guess it all depend on HO and how they encode the data.
>>>>
>>>>???I'm using mostly Canadian ENC and found no problem.
>>>>
>>>>???But other HO might encode ENC differently ..
>>>>
>>>>
>>>>
>>>>
>>>>???rdgs,
>>>>
>>>>
>>>>???Sylvain Duclos.
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>>???________________________________
>>>>>? ? From: Frank Warmerdam <warmerdam at pobox.com>
>>>>>???To: Nikhil Sai Parupalli
>> <nikhil.parupalli at iictechnologies.com>
>>>>>???Cc: "gdal-dev at lists.osgeo.org"
>>>? <gdal-dev at lists.osgeo.org>
>>>>>???Sent: Tuesday, October 9, 2012 12:25:29 PM
>>>>>???Subject: Re: [gdal-dev] S57 dataset boundary issue
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>???On Mon, Oct 8, 2012 at 10:28 PM, Nikhil Sai Parupalli
>>>>???<nikhil.parupalli at iictechnologies.com> wrote:
>>>>>
>>>>>???HI All,
>>>>>>???,
>>>>>>
>>>>>>???Thanks for the reply in below data
>>>>>>
>>>>>>? ???NAME_RCNM (IntegerList) = (7:130,130,130,130,130,130,130)
>>>>>>? ? ? NAME_RCID (IntegerList) = (7:691,391,690,52,1336,1503,1512)
>>>>>>? ? ? ORNT (IntegerList) = (7:2,2,2,2,1,1,1)
>>>>>>? ? ? USAG (IntegerList) = (7:1,1,1,1,1,1,1)
>>>>>>? ? ? MASK (IntegerList) = (7:255,255,255,255,255,255,255)
>>>>>>
>>>>>>? ? RCID 691 ORNT has? 2 and USAG is 1 based on this data we
>> could
>>>? identify
>>>>???that RCID 691 is of exterior boundary with reverse direction.
>>>>>>
>>>>>>???So if I have 1000 RCID in? NAME_RCID which is vise versa for
>> the
>>>? above
>>>>???condition I need to display that RCIDS list as errors.
>>>>>>???So it makes 1000 conditional checks hence reducing
>> performance.
>>>>>>
>>>>>>???Please let us know further.
>>>>>
>>>>>
>>>>>???Nikhil,
>>>>>
>>>>>
>>>>>???I'm afraid I don't follow your point.? Are you trying to
>>>>>???do some sort of ring orientation validation and identify
>>>>>???ones that don't match your expectations?? And you
>>>>>???are concerned about the performance cost?
>>>>>
>>>>>
>>>>>???I don't know why you are doing this, and if you
>>>>>???are, I'm not sure what I or others can do about
>>>>>???the performance cost of checking.
>>>>>
>>>>>
>>>>>???Best regards,--
>>>>>
>>>
>> ---------------------------------------+--------------------------------------
>>>>>???I set the clouds in motion - turn up???| Frank Warmerdam,
>>>>? warmerdam at pobox.com
>>>>>???light and sound - activate the windows |
>> http://pobox.com/~warmerdam
>>>>>???and watch the world go round - Rush? ? | Geospatial Software
>> Developer
>>>>>
>>>>>
>>>>>???_______________________________________________
>>>>>???gdal-dev mailing list
>>>>>? gdal-dev at lists.osgeo.org
>>>>>? http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>
>>>>>
>>>>
>>>
>>
>
>
>

From etourigny.dev at gmail.com  Thu Oct 11 08:19:52 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 11 Oct 2012 12:19:52 -0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <201210102255.08493.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210102124.12118.even.rouault@mines-paris.org>
	<CA+TxYvOuguGgk3O+qpWuW5Pi4-phje8tvUcwv-A0ViOaauprig@mail.gmail.com>
	<201210102255.08493.even.rouault@mines-paris.org>
Message-ID: <CA+TxYvPJZrbgLox7MB+9Y=Zf0BvZye6RZOyjfx_7aro0vz335A@mail.gmail.com>

Hi

On Wed, Oct 10, 2012 at 5:55 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le mercredi 10 octobre 2012 21:49:49, Etienne Tourigny a ?crit :
>> Hi Even,
>>
>> the main advantage of github is that you can manage patches/pull
>> requests more easily, and it's easy for someone to setup a fork with
>> substantial changes, and anyone can pull that fork and try it without
>> much hassle.
>> The other way of doing it with trac/svn is to upload patches to
>> tickets, and then more patches after review etc.... Which works fine,
>> but a bit clumsy compared to github forks and pull requests.
>
> If someone submits a pull requests, and if that submitted code needs to be
> changed due to what is seen during the review, what is the process ? It is
> certainly nice to be able to merge the history of commits (I often wish that
> submitted patches to Trac would be split into more logical smaller changesets
> to make review easier). But that only makes sense when the history is clean
> (you generally don't care about trial-and-errors intermediate commits that
> would pollute the history of the main repository). I believe that it is
> possible to do that with git ("git rewrite history" leads to http://git-
> scm.com/book/ch6-4.html), but to my non-git specialists eyes, this looks far
> from being obvious. Do you know how QGIS for example deal with that ?

reviewer can either push commits to that repos, or add commits after
pulling the contributor's code.

What you would look for is called "interactive rebasing"

You can "squash" history in a single commit doing git rebase -i
<hash>, which will open an editor with the commits since <hash>, you
then mark all commits except one as "squash"..
History will then contain a single commit, but it will not let you
push back to the same branch (unless you do a force push, which messes
with the history)

So the sequence would be:

git pull <some repos> <some branch>
git rebase -i <hash>
<mark commits as "squash">
git push origin master

But this removes the commits from the original authore, so to keep
history you would do

git pull <some repos> <some branch>
git push origin master

>
>>
>> I even did some collaborative work last year in gdal using github as
>> the shared repos, and pushing to svn but that was a bit clumsy (the
>> git-svn part) and I have stopped using that approach.
>
> you mean "git svn dcommit" didn't work as you expected ?

it's a little unwieldy, but seems to work as expected. I was always
nervous to do something wrong - because a svn commit / svn dcommit
cannot be reversed, unlike git commit (until you push),
so I was always doing a dry-run commit, examine the diffs, and then do
a real dcommit.

But it does work, as long as you're careful.  It's just a bit more
involved than working with git or svn alone.

>
>>
>> > But as a SVN committer, my opinion is obviously biased since contributing
>> > is of course more straighforward than for a non-GDAL committer. GIT has
>> > certainly a more egalitarian approach (everyone can commit or fork),
>> > although that someone that hasn't push rights can only send pull
>> > requests to the main repository.
>>
>> I'd say svn is fine for core devs, not optimal for occasional submitters.
>>
>> > My knowledge of GIT is rather limited, but, for a GDAL contributor
>> > without commit (SVN)/push(GIT) rights to the main repository, what
>> > improvements would a full move to GIT would offer with respect to the
>> > current git-svn mirroring ?
>>
>> a more seamless flow between the dev's work and pushes to the main source.
>>
>> As far as I can tell, the git part of your setup is just for the
>> continuous builds right?
>
> Yes mostly, and because it might be more convenient for people prefering GIT
> to do work. This could also be a kind of cheap test bench to assess what
> switching to GIT could bring to GDAL.
>
>> In fact git is used as a read-only, so I
>> don't see how having a git mirror helps contributing code.
>
> Can't people fork the git mirror ? My hope was that a GDAL SVN committer could
> use its own git-svn mirror, that has a origin to OSGeo/gdal, and try to merge
> in it pull requests submitted to OSGeo/gdal, and then git svn dcommit. I
> thought this was possible, but I might be wrong. I'm aware that git-svn would
> be more complicated than a pure GIT repository. But, from the side of
> occasional contributors, would that make a difference in their process ?
>
> I'm trying to understand if the git-svn mirror can bring some factual evidence
> that a switch to GIT would be beneficial.

Now I understand better your intent - you would use the git mirror to
be able to have people work on using git/github, and then svn as the
"central" code base that core devs would commit to.

For occasional contributors, it would probably be easier. For the code
managers / core devs, it means an extra step in merging the code to
svn trunk, and entails learning another (git) versioning tool, as well
as the git/svn bridge.
Although once setup, it's not that hard.

It would certainly be easier, especially in the short-term, to keep
svn and allow to use git for contributors. Maybe eventually switch to
git entirely if it seems like the right choice.

I personally prefer git to do testing and work on different branches,
because of git's context-switching features.  You do a "git checkout
somebranch" and all code moves to that branch, in a few seconds.
It works fine as long as you commit or stash your changes.

BTW there are some good notes on the git/svn bridge at
http://trac.osgeo.org/gdal/wiki/UsingGitToMaintainGDALWorkflow
but you probably already consulted that.

cheers
Etienne



>
> Even

From sylvain_duclos at yahoo.com  Thu Oct 11 08:25:38 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Thu, 11 Oct 2012 08:25:38 -0700 (PDT)
Subject: [gdal-dev] S57 update (was: (no subject))
In-Reply-To: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>
Message-ID: <1349969138.72260.YahooMailNeo@web110808.mail.gq1.yahoo.com>

Hi Nikhil,

In the US1GC09M.ZIP you send you can see update as

US1GC09M.000? <-- base cell


US1GC09M.001 - .008?? <-- update to base cell



rgds,

Sylvain.



>________________________________
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>To: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org> 
>Sent: Thursday, October 11, 2012 2:28:40 AM
>Subject: [gdal-dev] (no subject)
> 
>
> 
>Hi All, 
>
>
>How do we get to know which S57 dataset has update sin it..
>
>
>
>
>Thanks and Regards
>Nikhil Sai Parupalli
>
>
>
>Note: Do not print this email until and unless it is really required. Save paper , stay Green
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From sigfrido at tiscali.it  Thu Oct 11 08:26:23 2012
From: sigfrido at tiscali.it (Luca Sigfrido Percich)
Date: Thu, 11 Oct 2012 17:26:23 +0200
Subject: [gdal-dev] Dealing with ogr2ogr and cyrillic TAB files
In-Reply-To: <404AA6FB6ED2034B8A825D3E8BC8931D96FCA959@SE-EX021.groupinfra.com>
References: <404AA6FB6ED2034B8A825D3E8BC8931D96FCA959@SE-EX021.groupinfra.com>
Message-ID: <1349969183.2393.39.camel@GOLEM>

Hi Tuomas,


Il giorno mer, 10/10/2012 alle 10.17 +0000, Koivusalo, Tuomas ha
scritto:
> I?m trying to convert bunch of MapInfo TAB files from Russian customer
> to PostGIS using ogr2ogr. Original TAB files are in WindowsCyrillic
> encoding, and they should be somehow be converted to UTF-8. For some
> reason, it seems that ogr2ogr messes up encoding during conversion. If
> I try to convert TAB to Shapefile and from Shapefile to PostGIS end
> result is complete mess. Direct conversion from TAB to PostGIS seems
> to fail due to encoding problems (I have tried to set
> PGCLIENTENCODING, but end result doesn?t seem to change). 

Setting PGCLIENTENCODING has alway worked for me, and both ways (it
applies also to PG => MapInfo conversion).

Make sure you're using the correct encoding specification: have you
tried "WIN866", "WIN1251", "ISO_8859_5"...?

> I have managed to create correct Cyrillic output by running ogr2ogr to
> convert TAB to shape, and then creating SQL from shape and then
> running that SQL through perl-script which fixes the encoding, but as
> this includes two-bit characters to columns it causes all field length
> constraints to break. 

You could convert TAB to MIF, process MIF with iconv, and load the
processed file into postgis. One step less :)

Hope this helps

Sig


 
________________
 
PRIVACY
Le informazioni contenute in questo messaggio sono riservate e confidenziali. Il loro utilizzo e' consentito esclusivamente al destinatario del messaggio, per le finalit? indicate nel messaggio stesso. Qualora Lei non fosse la persona a cui il presente messaggio ? destinato, La invitiamo ad eliminarlo dal Suo Sistema e a distruggere le varie copie o stampe, dandone gentilmente comunicazione all?indirizzo mail del mittente. Ogni utilizzo improprio e' contrario ai principi del D.lgs 196/03 e alla legislazione europea (Direttiva 2002/58/CE).

_________________________
 
PRIVACY
Le informazioni contenute in questo messaggio sono riservate e confidenziali. Il loro utilizzo e' consentito esclusivamente al destinatario del messaggio, per le finalit? indicate nel messaggio stesso. Qualora Lei non fosse la persona a cui il presente messaggio ? destinato, La invitiamo ad eliminarlo dal Suo Sistema e a distruggere le varie copie o stampe, dandone gentilmente comunicazione all?indirizzo mail del mittente. Ogni utilizzo improprio e' contrario ai principi del D.lgs 196/03 e alla legislazione europea (Direttiva 2002/58/CE).

From radim.blazek at gmail.com  Thu Oct 11 08:39:09 2012
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 11 Oct 2012 17:39:09 +0200
Subject: [gdal-dev] GDALGetRasterStatistics() and bApproxOK, bForce
Message-ID: <CAEMrtYo9xh6pTf4v4=42GRqGPBB76jJ+_bBB8CxYA8NQKFfoKw@mail.gmail.com>

GDALGetRasterStatistics API doc:
"Returns the minimum, maximum, mean and standard deviation of all
pixel values in this band. If approximate statistics are sufficient,
the bApproxOK flag can be set to true in which case overviews, or a
subset of image tiles may be used in computing the statistics.
If bForce is FALSE results will only be returned if it can be done
quickly (ie. without scanning the data). If bForce is FALSE and
results cannot be returned efficiently, the method will return
CE_Warning but no warning will have been issued. This is a
non-standard use of the CE_Warning return value to indicate "nothing
done"."


My understanding is that if it is called with bApproxOK=false and
bForce=false and exact statistics (from all raster pixels) are not
available/cached, it should return CE_Warning. Instead, it is giving
estimated (from sample) cached statistics and it returns CE_None.

Is it expected? If it is, how can I test if exact statistics (from all
raster pixels) are available/cached (to avoid
GDALComputeRasterStatistics() if not necessary). Also, the meaning of
both params should be probably better described in doc.

Radim

From warmerdam at pobox.com  Thu Oct 11 09:50:08 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 11 Oct 2012 09:50:08 -0700
Subject: [gdal-dev] GDALGetRasterStatistics() and bApproxOK, bForce
In-Reply-To: <CAEMrtYo9xh6pTf4v4=42GRqGPBB76jJ+_bBB8CxYA8NQKFfoKw@mail.gmail.com>
References: <CAEMrtYo9xh6pTf4v4=42GRqGPBB76jJ+_bBB8CxYA8NQKFfoKw@mail.gmail.com>
Message-ID: <CA+YzLBd5DHrfozPBpufA3zN=P2+EUjeSTADLCjU0mSfHRTNxVg@mail.gmail.com>

Radim,

I gather the problem is that GDAL cannot tell whether saved statistics in
metadata are exact or not, right?  I don't have any real plan to resolve
this unfortunately.   I ticket might be prudent.

Best regards,
Frank

On Thu, Oct 11, 2012 at 8:39 AM, Radim Blazek <radim.blazek at gmail.com>wrote:

> GDALGetRasterStatistics API doc:
> "Returns the minimum, maximum, mean and standard deviation of all
> pixel values in this band. If approximate statistics are sufficient,
> the bApproxOK flag can be set to true in which case overviews, or a
> subset of image tiles may be used in computing the statistics.
> If bForce is FALSE results will only be returned if it can be done
> quickly (ie. without scanning the data). If bForce is FALSE and
> results cannot be returned efficiently, the method will return
> CE_Warning but no warning will have been issued. This is a
> non-standard use of the CE_Warning return value to indicate "nothing
> done"."
>
>
> My understanding is that if it is called with bApproxOK=false and
> bForce=false and exact statistics (from all raster pixels) are not
> available/cached, it should return CE_Warning. Instead, it is giving
> estimated (from sample) cached statistics and it returns CE_None.
>
> Is it expected? If it is, how can I test if exact statistics (from all
> raster pixels) are available/cached (to avoid
> GDALComputeRasterStatistics() if not necessary). Also, the meaning of
> both params should be probably better described in doc.
>
> Radim
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121011/0636f5fc/attachment.html>

From radim.blazek at gmail.com  Thu Oct 11 10:07:31 2012
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 11 Oct 2012 19:07:31 +0200
Subject: [gdal-dev] GDALGetRasterStatistics() and bApproxOK, bForce
In-Reply-To: <CA+YzLBd5DHrfozPBpufA3zN=P2+EUjeSTADLCjU0mSfHRTNxVg@mail.gmail.com>
References: <CAEMrtYo9xh6pTf4v4=42GRqGPBB76jJ+_bBB8CxYA8NQKFfoKw@mail.gmail.com>
	<CA+YzLBd5DHrfozPBpufA3zN=P2+EUjeSTADLCjU0mSfHRTNxVg@mail.gmail.com>
Message-ID: <CAEMrtYr4aan33_RMXK1n2FGWfWWK72xmD8CJP7nKsy5gdou_Eg@mail.gmail.com>

On Thu, Oct 11, 2012 at 6:50 PM, Frank Warmerdam <warmerdam at pobox.com> wrote:
> Radim,
>
> I gather the problem is that GDAL cannot tell whether saved statistics in
> metadata are exact or not, right?

It should be possible, at least .aux.html has <Approximate>1</Approximate>.

In any case, if it is not sure that cached stats are exact, it should
return CE_Warning if bApproxOK=false and bForce=false, I think.

> I don't have any real plan to resolve
> this unfortunately.   I ticket might be prudent.

https://trac.osgeo.org/gdal/ticket/4857

Radim

> Best regards,
> Frank
>
> On Thu, Oct 11, 2012 at 8:39 AM, Radim Blazek <radim.blazek at gmail.com>
> wrote:
>>
>> GDALGetRasterStatistics API doc:
>> "Returns the minimum, maximum, mean and standard deviation of all
>> pixel values in this band. If approximate statistics are sufficient,
>> the bApproxOK flag can be set to true in which case overviews, or a
>> subset of image tiles may be used in computing the statistics.
>> If bForce is FALSE results will only be returned if it can be done
>> quickly (ie. without scanning the data). If bForce is FALSE and
>> results cannot be returned efficiently, the method will return
>> CE_Warning but no warning will have been issued. This is a
>> non-standard use of the CE_Warning return value to indicate "nothing
>> done"."
>>
>>
>> My understanding is that if it is called with bApproxOK=false and
>> bForce=false and exact statistics (from all raster pixels) are not
>> available/cached, it should return CE_Warning. Instead, it is giving
>> estimated (from sample) cached statistics and it returns CE_None.
>>
>> Is it expected? If it is, how can I test if exact statistics (from all
>> raster pixels) are available/cached (to avoid
>> GDALComputeRasterStatistics() if not necessary). Also, the meaning of
>> both params should be probably better described in doc.
>>
>> Radim
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>

From warmerdam at pobox.com  Thu Oct 11 11:22:33 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 11 Oct 2012 11:22:33 -0700
Subject: [gdal-dev] GDAL/OGR 1.9.2 Released
Message-ID: <CA+YzLBebJ-6y6YaPy3cPfdFJ+F=UWLSDfd51o+8f-Eim_=xOGQ@mail.gmail.com>

Folks,

I am pleased to announce the release of GDAL/OGR 1.9.2.  This
is a bug fix release based on the GDAL/OGR 1.9.0 (and 1.9.1)
release and does not contain substantial new features.

Detailed bug fix news is available at:
  http://trac.osgeo.org/gdal/wiki/Release/1.9.2-News

Source code is available at:
   http://download.osgeo.org/gdal/gdal192.zip
   http://download.osgeo.org/gdal/gdal-1.9.2.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121011/46d3451d/attachment.html>

From warmerdam at pobox.com  Thu Oct 11 11:23:56 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 11 Oct 2012 11:23:56 -0700
Subject: [gdal-dev] Motion: Release 1.9.2
In-Reply-To: <201210092125.49454.even.rouault@mines-paris.org>
References: <CA+YzLBfAePvsJccpdMniA=_bJgH4TOYPWVG7xh9WZjF-92+ECA@mail.gmail.com>
	<201210092125.49454.even.rouault@mines-paris.org>
Message-ID: <CA+YzLBckhD4bxDrAmtdF2LV1iLY99CM2cQNuJgvw6_7zyG0gpQ@mail.gmail.com>

Folks,

I declare this motion passed with support from Daniel, Howard, Tamas, Even
and myself.  The release announcement has now been sent out.

Best regards,
Frank

On Tue, Oct 9, 2012 at 12:25 PM, Even Rouault
<even.rouault at mines-paris.org>wrote:

> Le mardi 09 octobre 2012 18:27:29, Frank Warmerdam a ?crit :
> > Motion: The GDAL/OGR 1.9.2RC2 release is promoted to be the
> > official GDAL/OGR 1.9.2 release.
> >
> +1 Even
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121011/4f523a9f/attachment-0001.html>

From nikhil.parupalli at iictechnologies.com  Thu Oct 11 11:26:54 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Thu, 11 Oct 2012 18:26:54 +0000
Subject: [gdal-dev] S57 update (was: (no subject))
In-Reply-To: <1349969138.72260.YahooMailNeo@web110808.mail.gq1.yahoo.com>
References: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>,
	<1349969138.72260.YahooMailNeo@web110808.mail.gq1.yahoo.com>
Message-ID: <139560E1825F4648BDA4F32853B530A77F03AB89@IICEXHC01.iictechnologies.local>

Hey 

HOw do we get to know in data set i.e any attribute information varies for update...

Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: s duclos [sylvain_duclos at yahoo.com]
Sent: Thursday, October 11, 2012 8:55 PM
To: Nikhil Sai Parupalli; gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] S57 update (was: (no subject))

Hi Nikhil,

In the US1GC09M.ZIP you send you can see update as

US1GC09M.000  <-- base cell


US1GC09M.001 - .008   <-- update to base cell



rgds,

Sylvain.



>________________________________
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>To: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>Sent: Thursday, October 11, 2012 2:28:40 AM
>Subject: [gdal-dev] (no subject)
>
>
>
>Hi All,
>
>
>How do we get to know which S57 dataset has update sin it..
>
>
>
>
>Thanks and Regards
>Nikhil Sai Parupalli
>
>
>
>Note: Do not print this email until and unless it is really required. Save paper , stay Green
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From warmerdam at pobox.com  Thu Oct 11 11:30:36 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 11 Oct 2012 11:30:36 -0700
Subject: [gdal-dev] S57 update (was: (no subject))
In-Reply-To: <139560E1825F4648BDA4F32853B530A77F03AB89@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>
	<1349969138.72260.YahooMailNeo@web110808.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A77F03AB89@IICEXHC01.iictechnologies.local>
Message-ID: <CA+YzLBeXs26kvHh7rrDrO-mkjyVTbysJXBMogteZnC9rQ2jJVQ@mail.gmail.com>

Nikhil,

There is no OGR API level way of knowing what S-57 updates are changing.
 They basically get merged into the feature view giving you a "final
result" view through OGR.  If you really need to track this you pretty much
have to open variations on the S-57 datasource with and without the
updates.

If you are just debugging, it is often instructive to run 8211view on the
update files.

Best regards,
Frank

On Thu, Oct 11, 2012 at 11:26 AM, Nikhil Sai Parupalli <
nikhil.parupalli at iictechnologies.com> wrote:

> Hey
>
> HOw do we get to know in data set i.e any attribute information varies for
> update...
>
> Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required. Save
> paper , stay Green
>
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Thursday, October 11, 2012 8:55 PM
> To: Nikhil Sai Parupalli; gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 update (was: (no subject))
>
> Hi Nikhil,
>
> In the US1GC09M.ZIP you send you can see update as
>
> US1GC09M.000  <-- base cell
>
>
> US1GC09M.001 - .008   <-- update to base cell
>
>
>
> rgds,
>
> Sylvain.
>
>
>
> >________________________________
> > From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> >To: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> >Sent: Thursday, October 11, 2012 2:28:40 AM
> >Subject: [gdal-dev] (no subject)
> >
> >
> >
> >Hi All,
> >
> >
> >How do we get to know which S57 dataset has update sin it..
> >
> >
> >
> >
> >Thanks and Regards
> >Nikhil Sai Parupalli
> >
> >
> >
> >Note: Do not print this email until and unless it is really required.
> Save paper , stay Green
> >
> >_______________________________________________
> >gdal-dev mailing list
> >gdal-dev at lists.osgeo.org
> >http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121011/a5dae8e4/attachment.html>

From sylvain_duclos at yahoo.com  Thu Oct 11 11:49:18 2012
From: sylvain_duclos at yahoo.com (s duclos)
Date: Thu, 11 Oct 2012 11:49:18 -0700 (PDT)
Subject: [gdal-dev] S57 update (was: (no subject))
In-Reply-To: <139560E1825F4648BDA4F32853B530A77F03AB89@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>,
	<1349969138.72260.YahooMailNeo@web110808.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A77F03AB89@IICEXHC01.iictechnologies.local>
Message-ID: <1349981358.79623.YahooMailNeo@web110801.mail.gq1.yahoo.com>

Hi Nikhil,

Frank as put up a page for this
(sorry Frank for highjacking the thread)

?
http://www.gdal.org/ogr/drv_s57.html

Also IHO have the specs for updating ENC specifically.
(I don't have the link right now)



rgds,

Sylvain.



----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Thursday, October 11, 2012 2:26:54 PM
> Subject: RE: [gdal-dev] S57 update (was: (no subject))
> 
> Hey 
> 
> HOw do we get to know in data set i.e any attribute information varies for 
> update...
> 
> Thanks and Regards
> Nikhil Sai Parupalli
> 
> 
> 
> Note: Do not print this email until and unless it is really required. Save paper 
> , stay Green
> 
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Thursday, October 11, 2012 8:55 PM
> To: Nikhil Sai Parupalli; gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 update (was: (no subject))
> 
> Hi Nikhil,
> 
> In the US1GC09M.ZIP you send you can see update as
> 
> US1GC09M.000? <-- base cell
> 
> 
> US1GC09M.001 - .008?  <-- update to base cell
> 
> 
> 
> rgds,
> 
> Sylvain.
> 
> 
> 
>> ________________________________
>>  From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>> To: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>> Sent: Thursday, October 11, 2012 2:28:40 AM
>> Subject: [gdal-dev] (no subject)
>> 
>> 
>> 
>> Hi All,
>> 
>> 
>> How do we get to know which S57 dataset has update sin it..
>> 
>> 
>> 
>> 
>> Thanks and Regards
>> Nikhil Sai Parupalli
>> 
>> 
>> 
>> Note: Do not print this email until and unless it is really required. Save 
> paper , stay Green
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> 
> 

From warmerdam at pobox.com  Thu Oct 11 13:55:28 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 11 Oct 2012 13:55:28 -0700
Subject: [gdal-dev] build error - conflicting cpl_serv.h
In-Reply-To: <5076246D.2090207@comcast.net>
References: <5076246D.2090207@comcast.net>
Message-ID: <CA+YzLBfzbOA4Ko5XRQ-3LuUV110D7uQwBnAfhYiVR6g5ovOO7A@mail.gmail.com>

Dave,

It seems to relate to my use of CPLString in this restricted file, a change
I luckily didn't backport to 1.9.  I have removed it, and made a note to
myself to avoid this in the future.  I'm sure I've done it before.

Best regards,

On Wed, Oct 10, 2012 at 6:44 PM, David Burken <dburken at comcast.net> wrote:

> Hi Everyone,
>
> Just fyi, I can't build gdal with an external libgeotif without doing a
> hack...  Both gdal and libgeotiff from svn trunk.  libtiff, geotiff were
> installed in a fresh sandbox.  Then configured gdal to use external
> libtiff/geotiff.
>
> I got gdal to build by removing the libgeotiff installed cpl_serv.h and
> copying gdal/frmts/gtiff/libgeotiff/**cpl_serv.h  to gdal/port/cpl_serv.h
> (in build include path).  That's a hack I know but fixed.  This was broken
> before and fixed.  Seems like it's back again.
>
> Not an issue for me but I thought I'd report it...  Error from build below.
>
> Take care,
> Dave
>
>
> make[2]: Entering directory `/home/work/test/gdal/frmts/**gtiff'
> /bin/sh /work/test/gdal/libtool --mode=compile --tag=CXX g++ -g -O2 -Wall
>  -I..  -I../jpeg -DHAVE_LIBJPEG -I/work/test/gdal/port
> -I/work/test/gdal/gcore -I/work/test/gdal/alg -I/work/test/gdal/ogr
> -I/work/test/gdal/ogr/ogrsf_**frmts  -DBIGTIFF_SUPPORT -DOGR_ENABLED
> -D_REENTRANT  -I/work/test/gdal/port -I/usr/local/ossim/include
> -I/usr/local/ossim/include  -c -o ../o/gt_wkt_srs.lo gt_wkt_srs.cpp
> libtool: compile:  g++ -g -O2 -Wall -I.. -I../jpeg -DHAVE_LIBJPEG
> -I/work/test/gdal/port -I/work/test/gdal/gcore -I/work/test/gdal/alg
> -I/work/test/gdal/ogr -I/work/test/gdal/ogr/ogrsf_**frmts
> -DBIGTIFF_SUPPORT -DOGR_ENABLED -D_REENTRANT -I/work/test/gdal/port
> -I/usr/local/ossim/include -I/usr/local/ossim/include -c gt_wkt_srs.cpp
>  -fPIC -DPIC -o ../o/.libs/gt_wkt_srs.o
> In file included from /work/test/gdal/port/cpl_port.**h:84,
>                  from /work/test/gdal/ogr/ogr_core.**h:33,
>                  from /work/test/gdal/ogr/ogr_srs_**api.h:34,
>                  from /work/test/gdal/ogr/ogr_**spatialref.h:34,
>                  from gt_wkt_srs.cpp:38:
> /work/test/gdal/port/cpl_**config.h:106:1: warning: "HAVE_STDLIB_H"
> redefined
> In file included from /usr/local/ossim/include/cpl_**serv.h:36,
>                  from gt_wkt_srs.cpp:33:
> /usr/local/ossim/include/geo_**config.h:5:1: warning: this is the
> location of the previous definition
> In file included from /work/test/gdal/port/cpl_port.**h:84,
>                  from /work/test/gdal/ogr/ogr_core.**h:33,
>                  from /work/test/gdal/ogr/ogr_srs_**api.h:34,
>                  from /work/test/gdal/ogr/ogr_**spatialref.h:34,
>                  from gt_wkt_srs.cpp:38:
> /work/test/gdal/port/cpl_**config.h:112:1: warning: "HAVE_STRING_H"
> redefined
> In file included from /usr/local/ossim/include/cpl_**serv.h:36,
>                  from gt_wkt_srs.cpp:33:
> /usr/local/ossim/include/geo_**config.h:11:1: warning: this is the
> location of the previous definition
> gt_wkt_srs.cpp: In function 'CPLErr GTIFWktFromMemBuf(int, unsigned char*,
> char**, double*, int*, GDAL_GCP**)':
> gt_wkt_srs.cpp:2331: error: 'CPLString' was not declared in this scope
> gt_wkt_srs.cpp:2331: error: expected ';' before 'osFilename'
> gt_wkt_srs.cpp:2333: error: 'osFilename' was not declared in this scope
> make[2]: *** [../o/gt_wkt_srs.lo] Error 1
> make[2]: Leaving directory `/home/work/test/gdal/frmts/**gtiff'
> make[1]: *** [gtiff-install-obj] Error 2
> make[1]: Leaving directory `/home/work/test/gdal/frmts'
> make: *** [frmts-target] Error 2
>
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121011/e2fd4b81/attachment.html>

From etourigny.dev at gmail.com  Thu Oct 11 14:06:05 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 11 Oct 2012 18:06:05 -0300
Subject: [gdal-dev] [ OGR SQL: Excecuting select where column name
 starts with "_" SO: Windows 7, GDAL/OGR 1.9.x
In-Reply-To: <CAJ1ZnRUUeb7d5oQHevO=qO5n_AhF5thaJ8RLtfdXK0HYEa1rDg@mail.gmail.com>
References: <CAJ1ZnRUUeb7d5oQHevO=qO5n_AhF5thaJ8RLtfdXK0HYEa1rDg@mail.gmail.com>
Message-ID: <CA+TxYvPvbBxZUGshZdytWfpvH1UQzfjbm34_RnVtsQd5=bjwgQ@mail.gmail.com>

try enclosing the column with single or double quotes?

On Tue, Oct 9, 2012 at 5:35 PM, Gabriel Fusca
<gabrielfusca at suremptec.com.ar> wrote:
>
> Hi,
>
> I?m getting a sql parsing error when I tried to execute a query to a
> shapefile where column name starts with "_".
>
> When i execute a query like : ogrinfo Provincias.shp -sql "SELECT * FROM
> Provincias WHERE tipo = 1"
>
> INFO: Open of `Provincias.shp'
>       using driver `ESRI Shapefile' successful.
> Layer name: Provincias
> Geometry: Line String
> Feature Count: 21
> Extent: (309062.030000, 3895521.900000) - (2039227.590000, 7591083.240000)
> Layer SRS WKT:
> PROJCS["500K",
>     GEOGCS["GCS_WGS_1984",
>         DATUM["WGS_1984",
>             SPHEROID["WGS_84",6378137.0,298.257223563]],
>         PRIMEM["Greenwich",0.0],
>         UNIT["Degree",0.017453292519943295]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["False_Easting",1000000.0],
>     PARAMETER["False_Northing",0.0],
>     PARAMETER["Central_Meridian",-64.0],
>     PARAMETER["Scale_Factor",1.0],
>     PARAMETER["Latitude_Of_Origin",-90.0],
>     UNIT["Meter",1.0]]
> ID: String (1.0)
> _tipo_Area: Integer (10.0)
> _desc_Area: String (1.0)
> tipo: Integer (10.0)
> OGRFeature(Provincias):29
>   ID (String) = 0
>   _tipo_Area (Integer) = 1
>   _desc_Area (String) = (null)
>   tipo (Integer) = 1
>   LINESTRING (873405.76 7463549.34,873313.54 7463695.39,872765.09
> 7465104.71,872
> 623.98 7465495.26)
>
> But when i want to execute a query like "SELECT * FROM Provincias WHERE
> _tipoArea = 1"
>
>
>> ogrinfo Provincias.shp -sql "SELECT * FROM
> WHERE _tipo_Area = 1"
> INFO: Open of `Provincias.shp'
>       using driver `ESRI Shapefile' successful.
> ERROR 1: SQL Expression Parsing Error: syntax error
>
>
> Any ideas on how to get around this?
>
> Best regards,
>
> --
> Gabriel Fusca
> SUR Emprendimientos Tecnol?gicos
>
> Per? 345  Piso 5to Oficina "B" (C1067AAG)
> Ciudad de Buenos Aires, Argentina
> Tel. +54 (11) 4342-2976/84
> gabrielfusca at suremptec.com.ar
> http://www.suremptec.com/
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nikhil.parupalli at iictechnologies.com  Thu Oct 11 23:03:28 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Fri, 12 Oct 2012 06:03:28 +0000
Subject: [gdal-dev] S57 update (was: (no subject))
In-Reply-To: <1349981358.79623.YahooMailNeo@web110801.mail.gq1.yahoo.com>
References: <139560E1825F4648BDA4F32853B530A767BD63C1@IICEXHC01.iictechnologies.local>,
	<1349969138.72260.YahooMailNeo@web110808.mail.gq1.yahoo.com>
	<139560E1825F4648BDA4F32853B530A77F03AB89@IICEXHC01.iictechnologies.local>,
	<1349981358.79623.YahooMailNeo@web110801.mail.gq1.yahoo.com>
Message-ID: <139560E1825F4648BDA4F32853B530A77F03DBC6@IICEXHC01.iictechnologies.local>

Hey ,

This was the check i was referencing to 
For record updates for feature/vector updates, check that if it is
? DELETE: the record does not contain further fields, or
? MODIFY/INSERT: the record contains more information about the update.

Could you understand something about this...


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: s duclos [sylvain_duclos at yahoo.com]
Sent: Friday, October 12, 2012 12:19 AM
To: Nikhil Sai Parupalli
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] S57 update (was: (no subject))

Hi Nikhil,

Frank as put up a page for this
(sorry Frank for highjacking the thread)


http://www.gdal.org/ogr/drv_s57.html

Also IHO have the specs for updating ENC specifically.
(I don't have the link right now)



rgds,

Sylvain.



----- Original Message -----
> From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
> To: s duclos <sylvain_duclos at yahoo.com>
> Cc: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Sent: Thursday, October 11, 2012 2:26:54 PM
> Subject: RE: [gdal-dev] S57 update (was: (no subject))
>
> Hey
>
> HOw do we get to know in data set i.e any attribute information varies for
> update...
>
> Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required. Save paper
> , stay Green
>
> ________________________________________
> From: s duclos [sylvain_duclos at yahoo.com]
> Sent: Thursday, October 11, 2012 8:55 PM
> To: Nikhil Sai Parupalli; gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] S57 update (was: (no subject))
>
> Hi Nikhil,
>
> In the US1GC09M.ZIP you send you can see update as
>
> US1GC09M.000  <-- base cell
>
>
> US1GC09M.001 - .008   <-- update to base cell
>
>
>
> rgds,
>
> Sylvain.
>
>
>
>> ________________________________
>>  From: Nikhil Sai Parupalli <nikhil.parupalli at iictechnologies.com>
>> To: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
>> Sent: Thursday, October 11, 2012 2:28:40 AM
>> Subject: [gdal-dev] (no subject)
>>
>>
>>
>> Hi All,
>>
>>
>> How do we get to know which S57 dataset has update sin it..
>>
>>
>>
>>
>> Thanks and Regards
>> Nikhil Sai Parupalli
>>
>>
>>
>> Note: Do not print this email until and unless it is really required. Save
> paper , stay Green
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>

From nikhil.parupalli at iictechnologies.com  Fri Oct 12 00:01:18 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Fri, 12 Oct 2012 07:01:18 +0000
Subject: [gdal-dev] Data Set Parameter -reg
Message-ID: <139560E1825F4648BDA4F32853B530A77F03DBD5@IICEXHC01.iictechnologies.local>

Hi,

Can any one help me out how to get Data Set Parameter  [DSPM] fieldfor S57dataset  into application using GDAL.
Do i need to change any system variables.


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/d9f0b3f6/attachment.html>

From stefan.moebius at actix.com  Fri Oct 12 00:07:16 2012
From: stefan.moebius at actix.com (Stefan Moebius)
Date: Fri, 12 Oct 2012 07:07:16 +0000
Subject: [gdal-dev] Problem with Gdal/ogr Java
In-Reply-To: <CADz3VuWxpXuRfVbpbGxDo3+c_sfx+LYP5topdo3iz7tP+nvrwQ@mail.gmail.com>
References: <CAPBhV0dXpF2WHGx+BSbpBCXorLYgpu7dYXAnF2fZZb1b+QMCQQ@mail.gmail.com>
	<CADz3VuWxpXuRfVbpbGxDo3+c_sfx+LYP5topdo3iz7tP+nvrwQ@mail.gmail.com>
Message-ID: <8EE8A6A66A077849890664FC04756ABD098A28@LON-MB00.actix.com>

Just for the record, it is not sufficient to have the DLL in the class path (actually this is not required at all).
The DLLs need to be on the application's search path.

The details can be found here:
http://www.chilkatsoft.com/java-loadLibrary-Windows.asp

Regards,
Stefan

> -----Original Message-----
> From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-
> bounces at lists.osgeo.org] On Behalf Of Imran Rajjad
> Sent: Wednesday, October 10, 2012 11:26
> To: Wael Tarhouni
> Cc: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] Problem with Gdal/ogr Java
> 
> Hi Wael.
> 
> you need to use gdal.jar file in your java project and also include
> the required DLL(Win) in your class path, then  you will be able to
> use GDAL in your Java project.
> 
> download from http://www.gisinternals.com/sdk/ or
> http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries
> 
> look for GDAL.JAR and the required DLL files in installed folder.
> 
> regards,
> Imran
> 
> On Wed, Oct 10, 2012 at 2:02 PM, Wael Tarhouni <waelinsat at gmail.com>
> wrote:
> > Good Morning,
> >
> > I'm newbie in Gdal/ogr and i'm working actually with ogr2ogr Api to import
> > .TAB file(Mapinfo) into a postgis database, but i wanna make it automatic
> > without typing in command line or executing bat files. So, i found this
> > source code with gdal/ogr library :
> >
> http://trac.osgeo.org/gdal/browser/trunk/gdal/swig/java/apps/ogr2ogr.java
> > but it doesn't  work, is there any jar file of gdal/ogr to download ?
> >
> > Best regards
> >
> > --
> > Wael Tarhouni
> > ?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> --
> I.R
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
Actix is the trading name of Actix Limited, with registered offices at: 
200 Hammersmith Road, London, W6 7DL, United Kingdom. 
Actix Limited is registered in England and Wales with company no. 
02660615 and VAT no. GB 858742087. Managing Director of Actix Limited: Bill McHale.

Actix GmbH is registered in (Sitz der Gesellschaft): Dresden, Germany with company no. Handelsregister Amtsgericht Dresden 
HR B 19204 and VAT no. (Ust-IDNr.) DE 813 115 475. Managing 
Director of Actix GmbH (Geschaeftsfuehrer): Bill McHale. 

Information in this message is confidential and may be legally 
privileged. If you are not the intended recipient, please notify the 
sender, and please delete the message from your system 
immediately.  The statements and opinions expressed in this 
message are those of the author and do not necessarily reflect 
those of Actix. 

Whilst Actix takes every effort to ensure this message is virus 
free it cannot guarantee that this is the case. It is the 
recipient's responsibility to carry out such virus checks as 
it deems necessary

From lhomme.xavier at gmail.com  Fri Oct 12 05:45:50 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Fri, 12 Oct 2012 14:45:50 +0200
Subject: [gdal-dev] Testing dataset
Message-ID: <CACqzBMxms1EjjQF1m7pcFdv4nwc=roZQZ2b6ATi3KrUV9iK8rw@mail.gmail.com>

Hi

 Is there a free data set that can be downloaded in order to check the
compliance or the conformance of a geographic software (something like
Geocapi) ?
I found a dataset for testing the NITF driver :
www.gwg.nga.mil/ntb/baseline/software/samplefile.html.

xav
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/c86249b3/attachment.html>

From CABO at NIRAS.DK  Fri Oct 12 05:43:46 2012
From: CABO at NIRAS.DK (=?iso-8859-1?Q?Casper_B=F8rgesen_=28CABO=29?=)
Date: Fri, 12 Oct 2012 12:43:46 +0000
Subject: [gdal-dev] C# Bindings: RasterizeLayer
Message-ID: <BCF6B63AE0B25941A7F56567B58A2805350D72CF@allkexa1.NIRAS.INT>

I am trying to use the OSGeo.GDAL.Gdal.RasterizeLayer(...) and it requires some SWIGTYPE parameters.

Reading up on some old mails somewhere regarding ReadRaster and WriteRaster, Tamaz states that methods requesting SWIGTYPE parameters, cannot be used (yet). Does this mean that the RasterizeLayer method hasn't been ported to the C# bindings or are there some clever stuff that I don't know about?

Regards Casper


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/4409a282/attachment.html>

From kishoreborra at gmail.com  Fri Oct 12 05:52:49 2012
From: kishoreborra at gmail.com (kishore Borra)
Date: Fri, 12 Oct 2012 18:22:49 +0530
Subject: [gdal-dev] Open Source GIS Raster Viewer
Message-ID: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>

Hi All,

we are implementing support of elevation processing of various raster
images in a standalone desktop Viewer using opensource.

we are using GDAL library to support performing various operations like
hillshade, slope, aspect map & color coded relief.

I would like to know your suggestions on what opensource control can be
used as a map control so that I can load various type of processed raster
images into it. I need to provide the user with the coordinates readout
information and standard zoom In, zoom out & zoom By area operations.

I should also be able to read the elevation info from the displayed raster
and display the same in the status bar.


Please suggest.

Regards,
Kishore.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/e7d4b0c1/attachment.html>

From nikhil.parupalli at iictechnologies.com  Fri Oct 12 06:21:04 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Fri, 12 Oct 2012 13:21:04 +0000
Subject: [gdal-dev] Open Source GIS Raster Viewer
In-Reply-To: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
References: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
Message-ID: <139560E1825F4648BDA4F32853B530A77F03E01A@IICEXHC01.iictechnologies.local>

Hey Kishore,

We can use DotSpatial library that provides Map control wjer we can display map and ot has standard ZoomIn,ZoomOut ,PAN etc...
I am using the same in my application which is working fine.


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
________________________________
From: gdal-dev-bounces at lists.osgeo.org [gdal-dev-bounces at lists.osgeo.org] on behalf of kishore Borra [kishoreborra at gmail.com]
Sent: Friday, October 12, 2012 6:22 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] Open Source GIS Raster Viewer

Hi All,

we are implementing support of elevation processing of various raster images in a standalone desktop Viewer using opensource.

we are using GDAL library to support performing various operations like hillshade, slope, aspect map & color coded relief.

I would like to know your suggestions on what opensource control can be used as a map control so that I can load various type of processed raster images into it. I need to provide the user with the coordinates readout information and standard zoom In, zoom out & zoom By area operations.

I should also be able to read the elevation info from the displayed raster and display the same in the status bar.


Please suggest.

Regards,
Kishore.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/ce69a92b/attachment.html>

From siebe at hydroconsult.nl  Fri Oct 12 07:17:29 2012
From: siebe at hydroconsult.nl (Siebe Bosch)
Date: Fri, 12 Oct 2012 16:17:29 +0200
Subject: [gdal-dev] Open Source GIS Raster Viewer
In-Reply-To: <139560E1825F4648BDA4F32853B530A77F03E01A@IICEXHC01.iictechnologies.local>
References: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
	<139560E1825F4648BDA4F32853B530A77F03E01A@IICEXHC01.iictechnologies.local>
Message-ID: <50782679.5070807@hydroconsult.nl>

Hi Kishore,

You can also use the Mapwindow OCX map control.
Here's a link to some tutorials that cover the use of this library
http://www.mapwindow.org/tutorials/

Kind regards,
Siebe Bosch



On 12-10-12 15:21, Nikhil Sai Parupalli wrote:
> Hey Kishore,
>
> We can use DotSpatial library that provides Map control wjer we can 
> display map and ot has standard ZoomIn,ZoomOut ,PAN etc...
> I am using the same in my application which is working fine.
>
>
> Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required. 
> Save paper , stay Green
> ------------------------------------------------------------------------
> *From:* gdal-dev-bounces at lists.osgeo.org 
> [gdal-dev-bounces at lists.osgeo.org] on behalf of kishore Borra 
> [kishoreborra at gmail.com]
> *Sent:* Friday, October 12, 2012 6:22 PM
> *To:* gdal-dev at lists.osgeo.org
> *Subject:* [gdal-dev] Open Source GIS Raster Viewer
>
> Hi All,
>
> we are implementing support of elevation processing of various raster 
> images in a standalone desktop Viewer using opensource.
>
> we are using GDAL library to support performing various operations 
> like hillshade, slope, aspect map & color coded relief.
>
> I would like to know your suggestions on what opensource control can 
> be used as a map control so that I can load various type of processed 
> raster images into it. I need to provide the user with the coordinates 
> readout information and standard zoom In, zoom out & zoom By area 
> operations.
>
> I should also be able to read the elevation info from the displayed 
> raster and display the same in the status bar.
>
>
> Please suggest.
>
> Regards,
> Kishore.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


-- 
------------------------------------------
Hydroconsult
Lulofsstraat 55, unit 47
2521 AL Den Haag
The Netherlands

web: http://www.hydroconsult.nl
e-mail: siebe at hydroconsult.nl
phone: +31(0)70 250 0580
mobile: +31(0)6 17 682 689

actief lid van WaterForce.nu, het netwerk van
zelfstandige professionals in het waterbeheer
------------------------------------------

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/73251129/attachment.html>

From brfr at metrico.lu  Fri Oct 12 08:00:34 2012
From: brfr at metrico.lu (Frank Broniewski)
Date: Fri, 12 Oct 2012 17:00:34 +0200
Subject: [gdal-dev] Combine aerial images
Message-ID: <50783092.80304@metrico.lu>

Hi,

I have a directory with appr. 2800 aerial images, each 1kmx1km. I'm 
using this source for a Mapserver WMS layer. Unfortunately the amount of 
data to process is way too much for a Mapserver WMS service.

Now I want to create larger overview images where the aerial images are 
combined together. The route I wanted to was

1) build a VRT from the images
2) use gdal_translate to get a new geotiff with a smaller size (pixel wise)


Is this a valid route to go?

Many thanks,

Frank
-- 
Frank BRONIEWSKI

METRICO s.? r.l.
g?om?tres
technologies d'information g?ographique
rue des Romains 36
L-5433 NIEDERDONVEN

t?l.: +352 26 74 94 - 28
fax.: +352 26 74 94 99
http://www.metrico.lu

From tyler.mitchell at actian.com  Fri Oct 12 09:37:51 2012
From: tyler.mitchell at actian.com (Tyler Mitchell)
Date: Fri, 12 Oct 2012 09:37:51 -0700
Subject: [gdal-dev] Open Source GIS Raster Viewer
In-Reply-To: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
References: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
Message-ID: <F79A1460-2A71-4412-AF6D-7A86439D7307@actian.com>

I'd recommend the OSSIM platform which as various additional image processing utilities that you will find useful.  If you just need desktop GIS viewing functionality, I suggest QGIS which will read all GDAL image formats fine and provide all of what you talk about.

Tyler

http://trac.osgeo.org/ossim/
http://qgis.org


On 2012-10-12, at 5:52 AM, kishore Borra wrote:

> Hi All,
> 
> we are implementing support of elevation processing of various raster images in a standalone desktop Viewer using opensource.
> 
> we are using GDAL library to support performing various operations like hillshade, slope, aspect map & color coded relief. 
> 
> I would like to know your suggestions on what opensource control can be used as a map control so that I can load various type of processed raster images into it. I need to provide the user with the coordinates readout information and standard zoom In, zoom out & zoom By area operations.
> 
> I should also be able to read the elevation info from the displayed raster and display the same in the status bar.
> 
> 
> Please suggest.
> 
> Regards,
> Kishore.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



Tyler Mitchell
Engineering Director 
Actian Corporation
tyler.mitchell at actian.com

MOBILE 250-303-1831
SKYPE spatialguru
www.actian.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/2e9ff58e/attachment.html>

From bfraser at geoanalytic.com  Fri Oct 12 10:08:27 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Fri, 12 Oct 2012 11:08:27 -0600
Subject: [gdal-dev] Open Source GIS Raster Viewer
In-Reply-To: <F79A1460-2A71-4412-AF6D-7A86439D7307@actian.com>
References: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
	<F79A1460-2A71-4412-AF6D-7A86439D7307@actian.com>
Message-ID: <50784E8B.4090105@geoanalytic.com>

Hey Tyler!

   OSSIM can be a heavy (but useful) raster toolkit, as can OTB.  I 
think there is room in the FOSS4G world for a small GUI app to do raster 
operations, basically supplying a GUI to gdalwarp, gdal_translate, etc.  
Kinda like ogr2gui (http://www.ogr2gui.ca) but for raster...

Best Regards,
Brent Fraser

On 10/12/2012 10:37 AM, Tyler Mitchell wrote:
> I'd recommend the OSSIM platform which as various additional image 
> processing utilities that you will find useful.  If you just need 
> desktop GIS viewing functionality, I suggest QGIS which will read all 
> GDAL image formats fine and provide all of what you talk about.
>
> Tyler
>
> http://trac.osgeo.org/ossim/
> http://qgis.org
>
>
> On 2012-10-12, at 5:52 AM, kishore Borra wrote:
>
>> Hi All,
>>
>> we are implementing support of elevation processing of various raster 
>> images in a standalone desktop Viewer using opensource.
>>
>> we are using GDAL library to support performing various operations 
>> like hillshade, slope, aspect map & color coded relief.
>>
>> I would like to know your suggestions on what opensource control can 
>> be used as a map control so that I can load various type of processed 
>> raster images into it. I need to provide the user with the 
>> coordinates readout information and standard zoom In, zoom out & zoom 
>> By area operations.
>>
>> I should also be able to read the elevation info from the displayed 
>> raster and display the same in the status bar.
>>
>>
>> Please suggest.
>>
>> Regards,
>> Kishore.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> *Tyler Mitchell***
> Engineering Director
> Actian Corporation
> _tyler.mitchell at actian.com <mailto:tyler.mitchell at actian.com>
> _
> MOBILE 250-303-1831
> SKYPE spatialguru
> www.actian.com
> <http://www.actian.com/>
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/1b47a56b/attachment.html>

From eduardo.kanegae at gmail.com  Fri Oct 12 10:52:10 2012
From: eduardo.kanegae at gmail.com (Eduardo Kanegae)
Date: Fri, 12 Oct 2012 14:52:10 -0300
Subject: [gdal-dev] GDAL 1.9.2 not detecting options in ./configure
Message-ID: <CAF_a5S+zKJ+53LLhH_u_oktOEAvRru_Bw-UUoJ2-Gro64tOKrQ@mail.gmail.com>

hello,

I'm on CentOS 6.2 x86_64 trying to configure GDAL 1.9.2 but there's
some options of configure not beeing set, even on explicit cases (like
--with-mydep ).

If I try only:

./configure
# without any params

I get the following conf report:
*******************
  LIBTOOL support:           yes

  LIBZ support:              external
  LIBLZMA support:           no
  GRASS support:             no
  CFITSIO support:           no
  PCRaster support:          internal
  LIBPNG support:            external
  GTA support:               no
  LIBTIFF support:           internal (BigTIFF=yes)
  LIBGEOTIFF support:        internal
  LIBJPEG support:           external
  8/12 bit JPEG TIFF:        no
  LIBGIF support:            external
  OGDI support:              no
  HDF4 support:              yes
  HDF5 support:              yes
  NetCDF support:            yes
  Kakadu support:            no
  JasPer support:            yes (GeoJP2=no)
  OpenJPEG support:          no
  ECW support:               yes
  MrSID support:             no
  MrSID/MG4 Lidar support:   no
  MSG support:               no
  GRIB support:              yes
  EPSILON support:           no
  WebP support:              no
  cURL support (wms/wcs/...):yes
  PostgreSQL support:        yes
  MySQL support:             no
  Ingres support:            no
  Xerces-C support:          yes
  NAS support:               yes
  Expat support:             yes
  Google libkml support:     yes
  ODBC support:              yes
  PGeo support:              yes
  FGDB support:
  MDB support:               no
  PCIDSK support:            internal
  OCI support:               no
  GEORASTER support:         no
  SDE support:               no
  Rasdaman support:          no
  DODS support:              no
  SQLite support:            yes
  SpatiaLite support:        no
  DWGdirect support          no
  INFORMIX DataBlade support:no
  GEOS support:              yes
  VFK support:               yes
  Poppler support:           no
  Podofo support:            no
  OpenCL support:            no
  Armadillo support:         no
  FreeXL support:            yes

  SWIG Bindings:          no

  Statically link PROJ.4:    no
  enable OGR building:       yes
  enable pthread support:    yes
  enable POSIX iconv support:yes
  hide internal symbols:     no
******************

But in a second time trying this:
./configure --with-grass=/usr/local/grass-6.4.2 --with-png=/usr \
 --with-ecw=/usr/local --with-mrsid=/usr/local/MrSIDSDK8.5.0/Raster_DSDK \
 --with-jp2mrsid=yes
--with-mrsid_lidar=/usr/local/MrSIDSDK8.5.0/Lidar_DSDK
--with-curl=/usr/bin/curl-config \
 --with-mysql=/usr/bin/mysql_config --with-xerces
--with-xerces-inc=/usr/local/include/xercesc \
 --with-xerces-lib=/usr/local/lib --with-libkml
--with-libkml-inc=/usr/local/include/kml
--with-libkml-lib=/usr/local/lib \
 --with-odbc --with-spatialite=/usr/local/lib
--with-sqlite3=/usr/lib64 --with-poppler=/usr/local/lib \
 --with-freexl=/usr/local/lib --with-python --with-php 2>&1 | tee configure.log

I got the following:
#############
  LIBZ support:              external
  LIBLZMA support:           no
  GRASS support:             grass57+
  CFITSIO support:           no
  PCRaster support:          internal
  LIBPNG support:            external
  GTA support:               no
  LIBTIFF support:           internal (BigTIFF=yes)
  LIBGEOTIFF support:        internal
  LIBJPEG support:           internal
  8/12 bit JPEG TIFF:        yes
  LIBGIF support:            internal
  OGDI support:              no
  HDF4 support:              no
  HDF5 support:              no
  NetCDF support:            no
  Kakadu support:            no
  JasPer support:            no
  OpenJPEG support:          no
  ECW support:               yes
  MrSID support:             yes
  MrSID/MG4 Lidar support:   yes
  MSG support:               no
  GRIB support:              yes
  EPSILON support:           no
  WebP support:              no
  cURL support (wms/wcs/...):no
  PostgreSQL support:        yes
  MySQL support:             yes
  Ingres support:            no
  Xerces-C support:          no
  NAS support:               no
  Expat support:             yes
  Google libkml support:     no
  ODBC support:              no
  PGeo support:              no
  FGDB support:
  MDB support:               no
  PCIDSK support:            internal
  OCI support:               no
  GEORASTER support:         no
  SDE support:               no
  Rasdaman support:          no
  DODS support:              no
  SQLite support:            yes
  SpatiaLite support:        no
  DWGdirect support          no
  INFORMIX DataBlade support:no
  GEOS support:              yes
  VFK support:               yes
  Poppler support:           no
  Podofo support:            no
  OpenCL support:            no
  Armadillo support:         no
  FreeXL support:            no


  SWIG Bindings:          python php

  Statically link PROJ.4:    no
  enable OGR building:       yes
  enable pthread support:    yes
  enable POSIX iconv support:yes
  hide internal symbols:     no

Some points:
* why hdf4 + 5, netcdf and jasper was set to "no" if at the 1st time
they were detected and I didn't use "--without" by the second time?
  >> HDF4/5, netCDF and Jasper was built to standard /usr/local prefix
* curl, xerces, libkml and odbc was set to "yes" by the first time but
now, using "with" was set to 'no'
 >> odbc and curl 7.19.7 (+libcurl, libcurl-devel) was used from
standard yum install of CentOS
 >> Xerces-C and libKML (svn 1.3.0) was build to standard /usr/local prefix
* spatialite and poppler was set to 'no' despite --with option
 >> both build to /usr/local too
* freexl was set to 'yes' the first time, but after explicit --with,
it didn't work too.
 >> build to /usr/local too

So, I tried a third form removing failed options:

./configure --with-grass=/usr/local/grass-6.4.2 --with-png=/usr
--with-ecw=/usr/local \
 --with-mrsid=/usr/local/MrSIDSDK8.5.0/Raster_DSDK --with-jp2mrsid=yes
--with-mrsid_lidar=/usr/local/MrSIDSDK8.5.0/Lidar_DSDK \
 --with-mysql=/usr/bin/mysql_config --with-sqlite3=/usr/lib64
--with-python --with-php 2>&1 | tee configure.log

and this gave me the same final report as the second configure shown above.

The full output for earch ./configure command are shown there:

http://dl.dropbox.com/u/108047961/debug/gdal192-config1_12oct2012.log
 1st one without parameters
http://dl.dropbox.com/u/108047961/debug/gdal192-config2_12oct2012.log
 2nd form
http://dl.dropbox.com/u/108047961/debug/gdal192-config3_12oct2012.log
 3rd form

Any tips?

thanks in advance

Eduardo Patto Kanegae
http://www.webmapit.com | @webmapit

From even.rouault at mines-paris.org  Fri Oct 12 11:07:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 12 Oct 2012 20:07:59 +0200
Subject: [gdal-dev] GDAL 1.9.2 not detecting options in ./configure
In-Reply-To: <CAF_a5S+zKJ+53LLhH_u_oktOEAvRru_Bw-UUoJ2-Gro64tOKrQ@mail.gmail.com>
References: <CAF_a5S+zKJ+53LLhH_u_oktOEAvRru_Bw-UUoJ2-Gro64tOKrQ@mail.gmail.com>
Message-ID: <201210122007.59663.even.rouault@mines-paris.org>


> Any tips?

I haven't looked at all details, but most of the weirdness you see when 
expliciting options is due that --with-bla (contrary to --with-bla-lib) 
requires to just specify the installation prefix, and not prefix/lib. Except 
when it is documented that it must point to /the/path/to/bla-config.

As I see you are using a 64-bit Fedora derived OS, there's an additional 
difficulty. When specifying explicitely --with-bla=prefix, the libs will be 
searched in prefix/lib, whereas those distros place them in prefix/lib64. So in 
most case, if the prefix is /usr (or /usr/local), just specify --with-bla 
without any path.

Due to the number of possible options, configuring GDAL can be indeed 
challenging. You could take inspiration from the .spec file of the elgis 
repository for example. Or when in doubt, open configure.in and study the 
detection logic...

> 
> thanks in advance
> 
> Eduardo Patto Kanegae
> http://www.webmapit.com | @webmapit
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From gabrielfusca at suremptec.com.ar  Fri Oct 12 15:17:34 2012
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Fri, 12 Oct 2012 19:17:34 -0300
Subject: [gdal-dev]  SQL layer from feature Id
Message-ID: <CAJ1ZnRWQEgXWgpngR9S283jaJXiMg3yqiptmNVO+qWjAmtdP=w@mail.gmail.com>

Hi,

I want to execute a SQL query to a OGRDatasource (ESRI Shapefile) to filter
the selection of various features.

The query can be something like this: "SELECT * FROM layer WHERE FID = #";


What is the name of the of the feature ID fiel? How can i use the sql query
to filter a datasource by Feature ID?


Best Regards,

-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/feb52bf6/attachment.html>

From nhatzop at gmail.com  Fri Oct 12 15:42:34 2012
From: nhatzop at gmail.com (Nikolaos Hatzopoulos)
Date: Fri, 12 Oct 2012 15:42:34 -0700
Subject: [gdal-dev] Combine aerial images
In-Reply-To: <50783092.80304@metrico.lu>
References: <50783092.80304@metrico.lu>
Message-ID: <CALDJGKDQ=bGGpZMegxFgX8ezEYCFyDFLmLcxPoAcjEY8Ss2KRQ@mail.gmail.com>

put a second server and have the 1400 image to the one and the other 1400
to the other :)

-- Nikos

On Fri, Oct 12, 2012 at 8:00 AM, Frank Broniewski <brfr at metrico.lu> wrote:

> Hi,
>
> I have a directory with appr. 2800 aerial images, each 1kmx1km. I'm using
> this source for a Mapserver WMS layer. Unfortunately the amount of data to
> process is way too much for a Mapserver WMS service.
>
> Now I want to create larger overview images where the aerial images are
> combined together. The route I wanted to was
>
> 1) build a VRT from the images
> 2) use gdal_translate to get a new geotiff with a smaller size (pixel wise)
>
>
> Is this a valid route to go?
>
> Many thanks,
>
> Frank
> --
> Frank BRONIEWSKI
>
> METRICO s.? r.l.
> g?om?tres
> technologies d'information g?ographique
> rue des Romains 36
> L-5433 NIEDERDONVEN
>
> t?l.: +352 26 74 94 - 28
> fax.: +352 26 74 94 99
> http://www.metrico.lu
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121012/d7f7b940/attachment.html>

From roth.luke at gmail.com  Sat Oct 13 07:31:39 2012
From: roth.luke at gmail.com (Luke Roth)
Date: Sat, 13 Oct 2012 10:31:39 -0400
Subject: [gdal-dev] Go bindings have moved
Message-ID: <CAJ-aobdNaB4dBY5HZvRxLCsnK6od2oyJpOOk12-TK9zZ66y+VQ@mail.gmail.com>

The GDAL bindings for Go have moved to github.com/lukeroth/gdal to simplify
usage with Go's dependency management.  You should now be able to 'import "
github.com/lukeroth/gdal" without having to rename any directories or
packages.
Thanks,
Luke
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121013/516dd1ec/attachment.html>

From jukka.rahkonen at mmmtike.fi  Sat Oct 13 12:20:54 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sat, 13 Oct 2012 19:20:54 +0000 (UTC)
Subject: [gdal-dev] Open Source GIS Raster Viewer
References: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
	<F79A1460-2A71-4412-AF6D-7A86439D7307@actian.com>
	<50784E8B.4090105@geoanalytic.com>
Message-ID: <loom.20121013T174832-887@post.gmane.org>

Brent Fraser <bfraser <at> geoanalytic.com> writes:

> 
> 
>     Hey Tyler!
>       ? OSSIM can be a heavy (but useful) raster toolkit, as can OTB.? I
>       think there is room in the FOSS4G world for a small GUI app to do
>       raster operations, basically supplying a GUI to gdalwarp,
>       gdal_translate, etc.? Kinda like ogr2gui (http://www.ogr2gui.ca)
>       but for raster...Best Regards,
> Brent Fraser

OpenEV is small and pretty fast and can convert and warp and it can be installed
from OSGeo4W. However, I had some troubles in launching it.
http://trac.osgeo.org/osgeo4w/ticket/307

-Jukka Rahkonen-







From even.rouault at mines-paris.org  Sat Oct 13 16:02:52 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 14 Oct 2012 01:02:52 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
	service for GDAL
In-Reply-To: <CA+TxYvPJZrbgLox7MB+9Y=Zf0BvZye6RZOyjfx_7aro0vz335A@mail.gmail.com>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210102255.08493.even.rouault@mines-paris.org>
	<CA+TxYvPJZrbgLox7MB+9Y=Zf0BvZye6RZOyjfx_7aro0vz335A@mail.gmail.com>
Message-ID: <201210140102.52344.even.rouault@mines-paris.org>

Just a quick follow-up.

I've just received the first pull request ( 
https://github.com/OSGeo/gdal/pull/1 ) and managed to merge it and commit it 
to SVN with the following (based on your below advice) :

git checkout trunk
git svn rebase
git checkout -b nas-fixes
git pull https://github.com/jef-n/gdal nas-fixes
git rebase -i trunk  # here I've "merged" a few commits into single ones (for 
commits that fixed previous commits)

# compile, test, etc...

git checkout trunk
git merge nas-fixes
git svn dcommit --dry-run # just to be sure
git show first_hash..last_hash # just to be sure
git svn dcommit

The only annoying (but logical) thing is that I appear as the committer of the 
changes, instead of the original author. Perhaps there would be an automated 
way of adding the original git commiter name in the SVN commit message to keep 
proper attribution.

An interesting thing with Travis is that it also builds the pull requests, so, 
even before looking at the code, it is easy to check if a pull request isn't 
too broken.

> reviewer can either push commits to that repos, or add commits after
> pulling the contributor's code.
> 
> What you would look for is called "interactive rebasing"
> 
> You can "squash" history in a single commit doing git rebase -i
> <hash>, which will open an editor with the commits since <hash>, you
> then mark all commits except one as "squash"..
> History will then contain a single commit, but it will not let you
> push back to the same branch (unless you do a force push, which messes
> with the history)
> 
> So the sequence would be:
> 
> git pull <some repos> <some branch>
> git rebase -i <hash>
> <mark commits as "squash">
> git push origin master
> 
> But this removes the commits from the original authore, so to keep
> history you would do
> 
> git pull <some repos> <some branch>
> git push origin master
> 
> >> I even did some collaborative work last year in gdal using github as
> >> the shared repos, and pushing to svn but that was a bit clumsy (the
> >> git-svn part) and I have stopped using that approach.
> > 
> > you mean "git svn dcommit" didn't work as you expected ?
> 
> it's a little unwieldy, but seems to work as expected. I was always
> nervous to do something wrong - because a svn commit / svn dcommit
> cannot be reversed, unlike git commit (until you push),
> so I was always doing a dry-run commit, examine the diffs, and then do
> a real dcommit.
> 
> But it does work, as long as you're careful.  It's just a bit more
> involved than working with git or svn alone.
> 
> >> > But as a SVN committer, my opinion is obviously biased since
> >> > contributing is of course more straighforward than for a non-GDAL
> >> > committer. GIT has certainly a more egalitarian approach (everyone
> >> > can commit or fork), although that someone that hasn't push rights
> >> > can only send pull requests to the main repository.
> >> 
> >> I'd say svn is fine for core devs, not optimal for occasional
> >> submitters.
> >> 
> >> > My knowledge of GIT is rather limited, but, for a GDAL contributor
> >> > without commit (SVN)/push(GIT) rights to the main repository, what
> >> > improvements would a full move to GIT would offer with respect to the
> >> > current git-svn mirroring ?
> >> 
> >> a more seamless flow between the dev's work and pushes to the main
> >> source.
> >> 
> >> As far as I can tell, the git part of your setup is just for the
> >> continuous builds right?
> > 
> > Yes mostly, and because it might be more convenient for people prefering
> > GIT to do work. This could also be a kind of cheap test bench to assess
> > what switching to GIT could bring to GDAL.
> > 
> >> In fact git is used as a read-only, so I
> >> don't see how having a git mirror helps contributing code.
> > 
> > Can't people fork the git mirror ? My hope was that a GDAL SVN committer
> > could use its own git-svn mirror, that has a origin to OSGeo/gdal, and
> > try to merge in it pull requests submitted to OSGeo/gdal, and then git
> > svn dcommit. I thought this was possible, but I might be wrong. I'm
> > aware that git-svn would be more complicated than a pure GIT repository.
> > But, from the side of occasional contributors, would that make a
> > difference in their process ?
> > 
> > I'm trying to understand if the git-svn mirror can bring some factual
> > evidence that a switch to GIT would be beneficial.
> 
> Now I understand better your intent - you would use the git mirror to
> be able to have people work on using git/github, and then svn as the
> "central" code base that core devs would commit to.
> 
> For occasional contributors, it would probably be easier. For the code
> managers / core devs, it means an extra step in merging the code to
> svn trunk, and entails learning another (git) versioning tool, as well
> as the git/svn bridge.
> Although once setup, it's not that hard.
> 
> It would certainly be easier, especially in the short-term, to keep
> svn and allow to use git for contributors. Maybe eventually switch to
> git entirely if it seems like the right choice.
> 
> I personally prefer git to do testing and work on different branches,
> because of git's context-switching features.  You do a "git checkout
> somebranch" and all code moves to that branch, in a few seconds.
> It works fine as long as you commit or stash your changes.
> 
> BTW there are some good notes on the git/svn bridge at
> http://trac.osgeo.org/gdal/wiki/UsingGitToMaintainGDALWorkflow
> but you probably already consulted that.
> 
> cheers
> Etienne
> 
> > Even

From mateusz at loskot.net  Sat Oct 13 16:32:42 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Sun, 14 Oct 2012 00:32:42 +0100
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <201210140102.52344.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210102255.08493.even.rouault@mines-paris.org>
	<CA+TxYvPJZrbgLox7MB+9Y=Zf0BvZye6RZOyjfx_7aro0vz335A@mail.gmail.com>
	<201210140102.52344.even.rouault@mines-paris.org>
Message-ID: <CABUeae_nn3ukmaEvb2d+aiT3muNuTvTtPr9Q+6MNDQCkN8eRGA@mail.gmail.com>

On 14 October 2012 00:02, Even Rouault <even.rouault at mines-paris.org> wrote:
> The only annoying (but logical) thing is that I appear as the committer of the
> changes, instead of the original author. Perhaps there would be an automated
> way of adding the original git commiter name in the SVN commit message to keep
> proper attribution.

You may experiment with --add-author-from option

[1] http://www.kernel.org/pub/software/scm/git/docs/git-svn.html

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From antonio.valentino at tiscali.it  Sat Oct 13 23:16:10 2012
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Sun, 14 Oct 2012 08:16:10 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
	service for GDAL
In-Reply-To: <201210140102.52344.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210102255.08493.even.rouault@mines-paris.org>
	<CA+TxYvPJZrbgLox7MB+9Y=Zf0BvZye6RZOyjfx_7aro0vz335A@mail.gmail.com>
	<201210140102.52344.even.rouault@mines-paris.org>
Message-ID: <6D305EF6-D090-44D6-96B9-60B962F55724@tiscali.it>

Hi Even,

Il giorno 14/ott/2012, alle ore 01:02, Even Rouault <even.rouault at mines-paris.org> ha scritto:

> Just a quick follow-up.
> 
> I've just received the first pull request ( 
> https://github.com/OSGeo/gdal/pull/1 ) and managed to merge it and commit it 
> to SVN with the following (based on your below advice) :
> 
> git checkout trunk
> git svn rebase
> git checkout -b nas-fixes

I suppose that at this point you already used

git remote add <NAME> <URL>
git fetch <NAME>

> git pull https://github.com/jef-n/gdal nas-fixes
> git rebase -i trunk  # here I've "merged" a few commits into single ones (for 
> commits that fixed previous commits)
> 
> # compile, test, etc...
> 
> git checkout trunk
> git merge nas-fixes

someone [1] at this point suggests to use 

git merge --no-ff nas-fixes

in order to keep track of the existence of the merged branch.
It is particularly useful if you use git-rebase before merging.

[1] http://nvie.com/posts/a-successful-git-branching-model/

> git svn dcommit --dry-run # just to be sure
> git show first_hash..last_hash # just to be sure
> git svn dcommit
> 

yes, the procedure you described works in general, not only for pull requests or for projects hosted on GitHub :)

Any public or private git branch that you can access can be merged using the above procedure


> The only annoying (but logical) thing is that I appear as the committer of the 
> changes, instead of the original author. Perhaps there would be an automated 
> way of adding the original git commiter name in the SVN commit message to keep 
> proper attribution.
> 
> An interesting thing with Travis is that it also builds the pull requests, so, 
> even before looking at the code, it is easy to check if a pull request isn't 
> too broken.

nice ;)

--
Antonio Valentino

From antonio.valentino at tiscali.it  Sat Oct 13 23:34:13 2012
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Sun, 14 Oct 2012 08:34:13 +0200
Subject: [gdal-dev] Open Source GIS Raster Viewer
In-Reply-To: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
References: <CAEfzsB=ytTaUoF7dikne55GtrCPcVuSjrZhVvYC5WNdKbbu+6A@mail.gmail.com>
Message-ID: <B408A133-923C-4979-A1FB-D13339ADDCEE@tiscali.it>

Hi Kishore,

Il giorno 12/ott/2012, alle ore 14:52, kishore Borra <kishoreborra at gmail.com> ha scritto:

> Hi All,
> 
> we are implementing support of elevation processing of various raster images in a standalone desktop Viewer using opensource.

I'm very interested, is it an opensoirce project? URL?

> we are using GDAL library to support performing various operations like hillshade, slope, aspect map & color coded relief. 
> 
> I would like to know your suggestions on what opensource control can be used as a map control so that I can load various type of processed raster images into it. I need to provide the user with the coordinates readout information and standard zoom In, zoom out & zoom By area operations.
> 
> I should also be able to read the elevation info from the displayed raster and display the same in the status bar.
> 
> 
> Please suggest.
> 
> Regards,
> Kishore.


If my understanding is correct your is not a 3D viewer, isn't it?

In one of my projects [1] i used the Qt Graphics View Framework from python.
It is not a specific control for maps but worked well for me.

If you need a more advanced component you could give a try to the Marble Widget [3].
Personally I have still never used it in one of my projects but it seems to be very powerful.

[1] http://sourceforge.net/projects/gsdview/
[2] http://qt-project.org/doc/qt-4.8/graphicsview.html
[3] http://edu.kde.org/marble/


best regards

--
Antonio Valentino



From jukka.rahkonen at mmmtike.fi  Sat Oct 13 23:53:00 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun, 14 Oct 2012 06:53:00 +0000 (UTC)
Subject: [gdal-dev] SQL layer from feature Id
References: <CAJ1ZnRWQEgXWgpngR9S283jaJXiMg3yqiptmNVO+qWjAmtdP=w@mail.gmail.com>
Message-ID: <loom.20121014T085110-926@post.gmane.org>

Gabriel Fusca <gabrielfusca <at> suremptec.com.ar> writes:

> 
> Hi,I want to execute a SQL query to a OGRDatasource (ESRI Shapefile) to filter
the selection of various features. The query can be something like this: "SELECT
* FROM layer WHERE FID = #";What is the name of the of the feature ID fiel? How
can i use the sql query to filter a datasource by Feature ID?

Read http://www.gdal.org/ogr/ogr_sql.html
and have a try with FID.


-Jukka Rahkonen-




From jukka.rahkonen at mmmtike.fi  Sun Oct 14 02:43:08 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun, 14 Oct 2012 09:43:08 +0000 (UTC)
Subject: [gdal-dev] Combine aerial images
References: <50783092.80304@metrico.lu>
Message-ID: <loom.20121014T112245-365@post.gmane.org>

Frank Broniewski <brfr <at> metrico.lu> writes:

> 
> Hi,
> 
> I have a directory with appr. 2800 aerial images, each 1kmx1km. I'm 
> using this source for a Mapserver WMS layer. Unfortunately the amount of 
> data to process is way too much for a Mapserver WMS service.
> 
> Now I want to create larger overview images where the aerial images are 
> combined together. The route I wanted to was
> 
> 1) build a VRT from the images
> 2) use gdal_translate to get a new geotiff with a smaller size (pixel wise)
> 
> Is this a valid route to go?

Yes it is.

I have configured Mapserver orthoimage layers so that Mapserver does not 
ever need to to open more that about 12-16 original tiff images per one 
screenful of output. We have 12000x12000 pixel images with 0.5 m pixel 
size. Four such side by side makes 48000 pixels and if they are pressed
to 1000 pixel wide output image the pixel size in output is roughly 25 m.
Therefore I have prepared resampled layer with 25 m pixel size which 
is used for small scale output.

Prepare new set of images, each covering 50x50 kilometers or more 
with 50 times bigger pixels than the originals. Create scale 
dependent GROUP layer for Mapserver and you should get good speed.
Naturally you must run gdaladdo for the resampled images and perhaps
make one more re-resampled set if your coverage is very big. 

-Jukka Rahkonen-

> 
> Many thanks,
> 
> Frank





From even.rouault at mines-paris.org  Sun Oct 14 02:54:18 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 14 Oct 2012 11:54:18 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
	service for GDAL
In-Reply-To: <6D305EF6-D090-44D6-96B9-60B962F55724@tiscali.it>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210140102.52344.even.rouault@mines-paris.org>
	<6D305EF6-D090-44D6-96B9-60B962F55724@tiscali.it>
Message-ID: <201210141154.18661.even.rouault@mines-paris.org>

Hi Antonio,

> I suppose that at this point you already used

> git remote add <NAME> <URL>
> git fetch <NAME>

In the context I described, would be NAME = nas-fixes and URL = 
https://github.com/jef-n/gdal ?
Well, I don't remember having used that. Apparently just "git pull 
https://github.com/jef-n/gdal nas-fixes" did the trick.

> someone [1] at this point suggests to use
> 
> git merge --no-ff nas-fixes
> 
> in order to keep track of the existence of the merged branch.
> It is particularly useful if you use git-rebase before merging.
> 
> [1] http://nvie.com/posts/a-successful-git-branching-model/

I'm not sure if -no-ff or -ff makes a difference in the context of a git svn 
repository. Once you dcommit to SVN, anything related to GIT branches will be 
lost, and the merge commit itself would certainly not be SVN dcommit'ed (I 
think).

Best regards,

Even

From antonio.valentino at tiscali.it  Sun Oct 14 03:49:30 2012
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Sun, 14 Oct 2012 12:49:30 +0200
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <201210141154.18661.even.rouault@mines-paris.org>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210140102.52344.even.rouault@mines-paris.org>
	<6D305EF6-D090-44D6-96B9-60B962F55724@tiscali.it>
	<201210141154.18661.even.rouault@mines-paris.org>
Message-ID: <507A98BA.3000206@tiscali.it>

Hi Even,

Il 14/10/2012 11:54, Even Rouault ha scritto:
> Hi Antonio,
>
>> I suppose that at this point you already used
>
>> git remote add <NAME> <URL>
>> git fetch <NAME>
>
> In the context I described, would be NAME = nas-fixes and URL =
> https://github.com/jef-n/gdal ?

yes

> Well, I don't remember having used that. Apparently just "git pull
> https://github.com/jef-n/gdal nas-fixes" did the trick.
>

ah, sorry, misunderstanding on my part.

 >> git checkout trunk
 >> git svn rebase
 >> git checkout -b nas-fixes

this creates a new branch named nas-fixes from master (trunk) and then 
checkout it.

then you do

 >> git pull https://github.com/jef-n/gdal nas-fixes

Unless you are 100% sure that the remote nas-fixes branch started from 
the current HEAD in master the above pull will perform a merge with the 
possibility of conflicts.

In this cases I use to do

git checkout trunk
git svn rebase

git remote add jef-n https://github.com/jef-n/gdal
git fetch jef-n

git checkout -b nas-fixes jef-n/nas-fixes

in this way you will never get any conflict at this point and you can 
address all issues during the rebase

 >> git rebase -i trunk

After all, I suppose it doesn't makes much difference.

>> someone [1] at this point suggests to use
>>
>> git merge --no-ff nas-fixes
>>
>> in order to keep track of the existence of the merged branch.
>> It is particularly useful if you use git-rebase before merging.
>>
>> [1] http://nvie.com/posts/a-successful-git-branching-model/
>
> I'm not sure if -no-ff or -ff makes a difference in the context of a git svn
> repository. Once you dcommit to SVN, anything related to GIT branches will be
> lost, and the merge commit itself would certainly not be SVN dcommit'ed (I
> think).
>
> Best regards,
>
> Even
>

best regards

-- 
Antonio Valentino

From etourigny.dev at gmail.com  Sun Oct 14 14:34:11 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Sun, 14 Oct 2012 18:34:11 -0300
Subject: [gdal-dev] [update] Re: Travis CI continuous integration
 service for GDAL
In-Reply-To: <507A98BA.3000206@tiscali.it>
References: <201210071142.31090.even.rouault@mines-paris.org>
	<201210140102.52344.even.rouault@mines-paris.org>
	<6D305EF6-D090-44D6-96B9-60B962F55724@tiscali.it>
	<201210141154.18661.even.rouault@mines-paris.org>
	<507A98BA.3000206@tiscali.it>
Message-ID: <CA+TxYvPosonoYWBVFm3cWf7Snrar_kpGqJx9Y7--pDNn9Gz+xA@mail.gmail.com>

Hi

On Sun, Oct 14, 2012 at 7:49 AM, Antonio Valentino
<antonio.valentino at tiscali.it> wrote:
> Hi Even,
>
> Il 14/10/2012 11:54, Even Rouault ha scritto:
>
>> Hi Antonio,
>>
>>> I suppose that at this point you already used
>>
>>
>>> git remote add <NAME> <URL>
>>> git fetch <NAME>
>>
>>
>> In the context I described, would be NAME = nas-fixes and URL =
>> https://github.com/jef-n/gdal ?
>
>
> yes
>
>
>> Well, I don't remember having used that. Apparently just "git pull
>> https://github.com/jef-n/gdal nas-fixes" did the trick.
>>
>
> ah, sorry, misunderstanding on my part.
>
>
>>> git checkout trunk
>>> git svn rebase
>>> git checkout -b nas-fixes
>
> this creates a new branch named nas-fixes from master (trunk) and then
> checkout it.
>
> then you do
>
>
>>> git pull https://github.com/jef-n/gdal nas-fixes
>
> Unless you are 100% sure that the remote nas-fixes branch started from the
> current HEAD in master the above pull will perform a merge with the
> possibility of conflicts.
>
> In this cases I use to do
>
>
> git checkout trunk
> git svn rebase
>
> git remote add jef-n https://github.com/jef-n/gdal
> git fetch jef-n
>
> git checkout -b nas-fixes jef-n/nas-fixes
>
> in this way you will never get any conflict at this point and you can
> address all issues during the rebase
>
>>> git rebase -i trunk
>
> After all, I suppose it doesn't makes much difference.


In fact, normally just a git pull <repos> <branch> (like Even did)
takes care of all the complexities

Also, checking out into a new branch is also not entirely important,
you can do it from the master branch. The end result will be the same,
with less steps.
But it's more methodical to do it like Even did.

cheers
Etienne

>
>
>>> someone [1] at this point suggests to use
>>>
>>> git merge --no-ff nas-fixes
>>>
>>> in order to keep track of the existence of the merged branch.
>>> It is particularly useful if you use git-rebase before merging.
>>>
>>> [1] http://nvie.com/posts/a-successful-git-branching-model/
>>
>>
>> I'm not sure if -no-ff or -ff makes a difference in the context of a git
>> svn
>> repository. Once you dcommit to SVN, anything related to GIT branches will
>> be
>> lost, and the merge commit itself would certainly not be SVN dcommit'ed (I
>> think).
>>
>> Best regards,
>>
>> Even
>>
>
> best regards
>
> --
> Antonio Valentino
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nicholas.g.lawrence at tmr.qld.gov.au  Sun Oct 14 20:59:16 2012
From: nicholas.g.lawrence at tmr.qld.gov.au (nicholas.g.lawrence at tmr.qld.gov.au)
Date: Mon, 15 Oct 2012 13:59:16 +1000
Subject: [gdal-dev] OGR with File Geodatabases
Message-ID: <OFF11ACE97.A8D3A6C9-ON4A257A98.0015A02D-4A257A98.0015E737@tmr.qld.gov.au>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121015/da5dd747/attachment.html>

From nicholas.g.lawrence at tmr.qld.gov.au  Sun Oct 14 22:48:59 2012
From: nicholas.g.lawrence at tmr.qld.gov.au (nicholas.g.lawrence at tmr.qld.gov.au)
Date: Mon, 15 Oct 2012 15:48:59 +1000
Subject: [gdal-dev] Fw:  OGR with File Geodatabases
Message-ID: <OF8DC25785.A4B56D34-ON4A257A98.001FED61-4A257A98.001FF2BB@tmr.qld.gov.au>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121015/5c521250/attachment.html>

From nikhil.parupalli at iictechnologies.com  Sun Oct 14 23:16:43 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Mon, 15 Oct 2012 06:16:43 +0000
Subject: [gdal-dev] Data Set Parameter  [DSPM]
Message-ID: <139560E1825F4648BDA4F32853B530A77F03F0F2@IICEXHC01.iictechnologies.local>

Hi,

Can any one help me out how to get Data Set Parameter  [DSPM] field for S57 dataset  into application using GDAL.

I need to check below things for my application



Check that HDAT = 2 [WGS 84].

Check that DUNI = 1 [metres].

Check that PUNI = 1 [metres].

Check that COUN = 1 [latitude/longitude].




Thanks and Regards
Nikhil Sai Parupalli



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121015/216902bc/attachment.html>

From brfr at metrico.lu  Mon Oct 15 00:08:37 2012
From: brfr at metrico.lu (Frank Broniewski)
Date: Mon, 15 Oct 2012 09:08:37 +0200
Subject: [gdal-dev] Combine aerial images
In-Reply-To: <loom.20121014T112245-365@post.gmane.org>
References: <50783092.80304@metrico.lu>
	<loom.20121014T112245-365@post.gmane.org>
Message-ID: <507BB675.6010600@metrico.lu>

Am 2012-10-14 11:43, schrieb Jukka Rahkonen:
> Frank Broniewski <brfr <at> metrico.lu> writes:
>
>>
>> Hi,
>>
>> I have a directory with appr. 2800 aerial images, each 1kmx1km. I'm
>> using this source for a Mapserver WMS layer. Unfortunately the amount of
>> data to process is way too much for a Mapserver WMS service.
>>
>> Now I want to create larger overview images where the aerial images are
>> combined together. The route I wanted to was
>>
>> 1) build a VRT from the images
>> 2) use gdal_translate to get a new geotiff with a smaller size (pixel wise)
>>
>> Is this a valid route to go?
>
> Yes it is.
>
> I have configured Mapserver orthoimage layers so that Mapserver does not
> ever need to to open more that about 12-16 original tiff images per one
> screenful of output. We have 12000x12000 pixel images with 0.5 m pixel
> size. Four such side by side makes 48000 pixels and if they are pressed
> to 1000 pixel wide output image the pixel size in output is roughly 25 m.
> Therefore I have prepared resampled layer with 25 m pixel size which
> is used for small scale output.
>
> Prepare new set of images, each covering 50x50 kilometers or more
> with 50 times bigger pixels than the originals. Create scale
> dependent GROUP layer for Mapserver and you should get good speed.
> Naturally you must run gdaladdo for the resampled images and perhaps
> make one more re-resampled set if your coverage is very big.
>
> -Jukka Rahkonen-
>
>>
>> Many thanks,
>>
>> Frank
>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Hi Jukka,

thanks for your answer. This is what I wanted to hear :-)
My whole area is not larger than 83km x 58km or 166.000 x 116.000 Pixel, 
so its not as big as yours. Your numbers are really helpful, thanks 
again. This should get me going ...

Frank



-- 
Frank BRONIEWSKI

METRICO s.? r.l.
g?om?tres
technologies d'information g?ographique
rue des Romains 36
L-5433 NIEDERDONVEN

t?l.: +352 26 74 94 - 28
fax.: +352 26 74 94 99
http://www.metrico.lu

From pierigis at gmail.com  Mon Oct 15 01:18:10 2012
From: pierigis at gmail.com (Pietro Rossin)
Date: Mon, 15 Oct 2012 01:18:10 -0700 (PDT)
Subject: [gdal-dev] Help on using Ogr2ogr to load dxf data to postgis
Message-ID: <1350289090420-5008635.post@n6.nabble.com>

Hello 
I wrote this question to Postgis user forum and they bounced me to this
group, so I hope to be more lucky this time.. 

I'm trying to load a thousand dxf files to postgis using ogr2ogr (windows xp 
postgres9/postgis2). 
the syntax I use is: 
ogr2ogr --config DXF_INLINE_BLOCKS FALSE --config DXF_MERGE_BLOCK_GEOMETRIES 
FALSE -f "PostgreSQL" PG:"host=localhost user=postgres dbname=mydbname 
password=mypassword" mydxf.DXF -overwrite entities 

This creates a table called entities that collect point and lines and a 
geometry column wkb_geometry with a coord dimension integer 2 and a srid 0 

My questions are: 
Is there the possibility to filter unwanted layer from dxf before insert 
them into the entities table via ogr? 
and 
is there the possibility to convert closed polylines to polygons and load
them to postgis? 
and 
how can I set the correct coord space (3D) and srid? 
Thanks in advance 
Pietro




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Help-on-using-Ogr2ogr-to-load-dxf-data-to-postgis-tp5008635.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From lhomme.xavier at gmail.com  Mon Oct 15 02:31:15 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Mon, 15 Oct 2012 11:31:15 +0200
Subject: [gdal-dev] Fw: OGR with File Geodatabases
In-Reply-To: <OF8DC25785.A4B56D34-ON4A257A98.001FED61-4A257A98.001FF2BB@tmr.qld.gov.au>
References: <OF8DC25785.A4B56D34-ON4A257A98.001FED61-4A257A98.001FF2BB@tmr.qld.gov.au>
Message-ID: <CACqzBMxNSQ0cM9F-zXmQ4u3prjcKii-QAnNSDZbSAO1mdJFuuA@mail.gmail.com>

Hi,

Download source code from http://www.gisinternals.com/sdk/

MSVC2010 (Win32) -release. Download and install this version:  release
release-1600-gdal-1-9-1-mapserver-6-0-3

Then Donwload the following option : MSVC2010 (Win32) -sdk
release-1600-dev
http://www.gisinternals.com/sdk/PackageList.aspx?file=release-1600-dev.zip

Dezip source code
open release-1600-dev\gdal\nmake.opt
uncomment FGDB lines  sand set the FGDB SDK path.


general compilation instruction
nmake /nologo gdal        > gdal_compil.txt
nmake /nologo gdal-csharp > gdal_csharp.txt

but to compil filegdb only :
go to release-1600-dev\gdal\ogr\ogrsf_frmts\filegdb
nmake /nologo /f makefile.vc ogr_filegdb.dll
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121015/2b548a93/attachment.html>

From nikhil.parupalli at iictechnologies.com  Mon Oct 15 02:46:37 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Mon, 15 Oct 2012 09:46:37 +0000
Subject: [gdal-dev] 2 geometries share function
Message-ID: <139560E1825F4648BDA4F32853B530A77F040128@IICEXHC01.iictechnologies.local>

Hi all,

What is the function to find two geometries shares common boundary.
Is that geometry.touches(geometry)



Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121015/9a752b10/attachment-0001.html>

From mateusz at loskot.net  Mon Oct 15 03:14:19 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Mon, 15 Oct 2012 11:14:19 +0100
Subject: [gdal-dev] 2 geometries share function
In-Reply-To: <139560E1825F4648BDA4F32853B530A77F040128@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A77F040128@IICEXHC01.iictechnologies.local>
Message-ID: <CABUeae_O3+g_V1wACKA1H=fqdq=2K0W7j_QTXL+xxXnSra3Vug@mail.gmail.com>

On 15 October 2012 10:46, Nikhil Sai Parupalli
<nikhil.parupalli at iictechnologies.com> wrote:
> Hi all,
>
> What is the function to find two geometries shares common boundary.
> Is that geometry.touches(geometry)

PostGIS docs provide a fantastic visual aid:

http://postgis.refractions.net/documentation/manual-2.0/ST_Touches.html

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From jmckenna at gatewaygeomatics.com  Mon Oct 15 05:36:16 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Mon, 15 Oct 2012 09:36:16 -0300
Subject: [gdal-dev] OGR with File Geodatabases
In-Reply-To: <OFF11ACE97.A8D3A6C9-ON4A257A98.0015A02D-4A257A98.0015E737@tmr.qld.gov.au>
References: <OFF11ACE97.A8D3A6C9-ON4A257A98.0015A02D-4A257A98.0015E737@tmr.qld.gov.au>
Message-ID: <507C0340.90702@gatewaygeomatics.com>

On 12-10-15 12:59 AM, nicholas.g.lawrence at tmr.qld.gov.au wrote:
> Hello all,
> 
> I would like to use OGR to convert a MapInfo table to a ESRI file
> geodatabase.
> 
> I have downloaded and installed GDAL 1.9.0 but I still need the FileGDB
> API library.
> 
> I have downloaded the zip file from the ESRI website (for Windows XP),
> but what do I do next?
> 
> Do I have to comile the API, or just copy it into the plugins folder for
> GDAL?
> 

Hi Nick,

If you are just looking to use ogr2ogr to convert your tab file into
FileGDB on Windows, you can use MS4W (http://www.maptools.org/ms4w/).

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/



From nikhil.parupalli at iictechnologies.com  Mon Oct 15 22:04:47 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Tue, 16 Oct 2012 05:04:47 +0000
Subject: [gdal-dev] 2 geometries share function
In-Reply-To: <CABUeae_O3+g_V1wACKA1H=fqdq=2K0W7j_QTXL+xxXnSra3Vug@mail.gmail.com>
References: <139560E1825F4648BDA4F32853B530A77F040128@IICEXHC01.iictechnologies.local>,
	<CABUeae_O3+g_V1wACKA1H=fqdq=2K0W7j_QTXL+xxXnSra3Vug@mail.gmail.com>
Message-ID: <139560E1825F4648BDA4F32853B530A77F0411D2@IICEXHC01.iictechnologies.local>

Hey Loskot
This code deals with lot of sql stmts. but here in our development we never worked with databases.
We are using gdal libraries , is there any function in gdal or any other libraries that serves the purpose


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green

________________________________________
From: Mateusz Loskot [mateusz at loskot.net]
Sent: Monday, October 15, 2012 3:44 PM
To: Nikhil Sai Parupalli
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] 2 geometries share function

On 15 October 2012 10:46, Nikhil Sai Parupalli
<nikhil.parupalli at iictechnologies.com> wrote:
> Hi all,
>
> What is the function to find two geometries shares common boundary.
> Is that geometry.touches(geometry)

PostGIS docs provide a fantastic visual aid:

http://postgis.refractions.net/documentation/manual-2.0/ST_Touches.html

Best regards,
--
Mateusz Loskot, http://mateusz.loskot.net

From alisson.uece at gmail.com  Tue Oct 16 06:11:51 2012
From: alisson.uece at gmail.com (Alisson Barbosa)
Date: Tue, 16 Oct 2012 10:11:51 -0300
Subject: [gdal-dev] OGRGeometry::Intersection returns NULL
In-Reply-To: <201210102021.52855.even.rouault@mines-paris.org>
References: <CALwK9YwyC3e7C+S9uQbHq_mTdViKKxC68W89Ue9hrGQLL4QgWA@mail.gmail.com>
	<201210102021.52855.even.rouault@mines-paris.org>
Message-ID: <CALwK9YxAFcL7YpuKuT7eS62eOVNX7XF7797=1qKvuOjjMpqqyg@mail.gmail.com>

Solved! The problem was because my GDAL/OGR had not been compiled with GEOS.

2012/10/10 Even Rouault <even.rouault at mines-paris.org>

> Le mercredi 10 octobre 2012 19:48:07, Alisson Barbosa a ?crit :
> > Hello, guys!
> >
> > I'm truggling through a rough moment here...
> > I have this piece of code in a project that I work on:
> >
> > if(basinPolygon->Intersects(luPolygon))
> > {
> >         OGRGeometry *result = basinPolygon->Intersection(luPolygon);
> >         if(result)
> >                 newLayer.push_back(result);
> > }
> >
> > Somehow, the Intersects function returns true for those polygons
> > (basinPolygon and luPolygon) (i.e. there is a intersection area between
> > them), but
> >
> >     basinPolygon->Intersection(luPolygon);
> >
> > Always returns NULL! why is it returning NULL if Intersects returns
> true?!
> > This is a mistery for me!
>
> The likely cause is documented in the page you quoted
>
> About Intersection(): "This method is built on the GEOS library, check it
> for
> the definition of the geometry operation. If OGR is built without the GEOS
> library, this method will always fail, issuing a CPLE_NotSupported error."
>
> About Intersects(): "If GEOS is enabled, then this is done in rigerous
> fashion
> otherwise TRUE is returned if the envelopes (bounding boxes) of the two
> features overlap."
>
> Take your symptoms and the above highlighted precisions, and you should
> have
> the answer.
>
>


-- 
Alisson Barbosa
Systems Analyst - FUNCEME
M.Sc. in Computer Science - MACC
Graduate in Computer Science  - UECE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121016/52228f6e/attachment.html>

From waelinsat at gmail.com  Tue Oct 16 06:17:51 2012
From: waelinsat at gmail.com (Wael Tarhouni)
Date: Tue, 16 Oct 2012 14:17:51 +0100
Subject: [gdal-dev] Import Shape file to PostGIS with Talend
Message-ID: <CAPBhV0en1TChNE5imD318xxOBaOGqtEtPJoQwh2kv5b0ThnPNw@mail.gmail.com>

Hi All;

I'm tryin ti import a shapefile to a postgis database via the spatial
component of Talend Data Integrator, so i have always the same error: no
metadata found (metadata of the shapefile)
so how can i get the metadata of the shapefile.

NB: I had imported a shapefile into a postgis database with ogr2ogr
succesfully but i wanna make it automatic now with Talend ;)


Best regards;

-- 
Wael Tarhouni
?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121016/8d301900/attachment.html>

From pierigis at gmail.com  Tue Oct 16 06:24:33 2012
From: pierigis at gmail.com (Pietro Rossin)
Date: Tue, 16 Oct 2012 06:24:33 -0700 (PDT)
Subject: [gdal-dev] Help on using Ogr2ogr to load dxf data to postgis
In-Reply-To: <1350289090420-5008635.post@n6.nabble.com>
References: <1350289090420-5008635.post@n6.nabble.com>
Message-ID: <1350393873513-5009002.post@n6.nabble.com>

After googlin' around I get an answer myself..

This is the string I use to load a dxf file to postgis without any Layer
that begin with "X":

ogr2ogr --config DXF_INLINE_BLOCKS FALSE --config DXF_MERGE_BLOCK_GEOMETRIES
FALSE -f "PostgreSQL" PG:"host=localhost user=postgres dbname=mydb
password=myPassw" mydxf.dxf -where "Layer NOT LIKE 'X%'" -overwrite entities

bie
Pietro



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Help-on-using-Ogr2ogr-to-load-dxf-data-to-postgis-tp5008635p5009002.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Tue Oct 16 07:13:35 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 16 Oct 2012 14:13:35 +0000 (UTC)
Subject: [gdal-dev] ORA-01406 error when reading many attributes from Oracle
Message-ID: <loom.20121016T155734-667@post.gmane.org>

Hi,

I have one view in Oracle 11 that I just cannot convert to another format with
ogr2ogr.

If I use -sql parameter "SELECT * FROM view" the conversion stops after couple
of thousands of lines with the following error

ERROR 1: ORA-01406: fetched column value was truncated
 in OCIStmtFetch

I found this explanation from internet

ORA-01406:	fetched column value was truncated
Cause:	In a host language program, a FETCH operation was forced to truncate a
character string. The program buffer area for this column was not large enough
to contain the entire string. The cursor return code from the fetch was +3.
Action:	Increase the column buffer area to hold the largest column value or
perform other appropriate processing. 

Could it be possible that OCI driver reserves too little of some resourses and
fails because of that with large records?  I am now running a query with minimum
set of columns in my query and ogr2ogr is running well and I believe it will
convert all the million rows from the view now.

The view schema does not look extra hard for me. There are 21 attributes in the
view and the longest VARCHAR2 is just 100 chararters long.

-Jukka Rahkonen-


From eadam at co.lincoln.or.us  Tue Oct 16 10:34:58 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Tue, 16 Oct 2012 10:34:58 -0700
Subject: [gdal-dev] ORA-01406 error when reading many attributes from
	Oracle
In-Reply-To: <loom.20121016T155734-667@post.gmane.org>
References: <loom.20121016T155734-667@post.gmane.org>
Message-ID: <CACqBkM-kDmff-82=R5ASsnrADJ2CrrPpz+qwf8bwJSEobu_cDA@mail.gmail.com>

Jukka,

> Could it be possible that OCI driver reserves too little of some resourses and
> fails because of that with large records?  I am now running a query with minimum
> set of columns in my query and ogr2ogr is running well and I believe it will
> convert all the million rows from the view now.
>
> The view schema does not look extra hard for me. There are 21 attributes in the
> view and the longest VARCHAR2 is just 100 chararters long.

This may be overly simplistic, but does the cast operator do anything?

SELECT *, CAST(OGR_STYLE AS character(255)) FROM rivers

Eli

>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From elliott at cpi.com  Tue Oct 16 13:05:40 2012
From: elliott at cpi.com (elliott at cpi.com)
Date: Tue, 16 Oct 2012 16:05:40 -0400
Subject: [gdal-dev] Setting DataType in ReadAsArray
Message-ID: <d4ba351bcdac5483a1eb14109ea92d23.squirrel@www.cpi.com>

Hello,

Does anybody know of a way to set the data type in the call ReadAsArray. 
It is currently reading a field as an unsigned int and it needs to be read
as a signed int.

Thanks!

From afalciano at yahoo.it  Tue Oct 16 13:59:45 2012
From: afalciano at yahoo.it (Antonio Falciano)
Date: Tue, 16 Oct 2012 22:59:45 +0200
Subject: [gdal-dev] Setting DataType in ReadAsArray
In-Reply-To: <d4ba351bcdac5483a1eb14109ea92d23.squirrel@www.cpi.com>
References: <d4ba351bcdac5483a1eb14109ea92d23.squirrel@www.cpi.com>
Message-ID: <507DCAC1.3020302@yahoo.it>

Il 16/10/2012 22.05, elliott at cpi.com ha scritto:
> Hello,
>
> Does anybody know of a way to set the data type in the call ReadAsArray.
> It is currently reading a field as an unsigned int and it needs to be read
> as a signed int.

Hi,
ReadAsArray returns substantially a numpy array, so you can use np
functions and methods of conversions between data types [1]. Finally,
the simplest way consists into using the .astype() method. Hope this helps!

Cheers,
Antonio

[1] http://docs.scipy.org/doc/numpy/user/basics.types.html

-- 
Antonio Falciano
http://www.linkedin.com/in/antoniofalciano

From elliott at cpi.com  Tue Oct 16 14:53:01 2012
From: elliott at cpi.com (elliott at cpi.com)
Date: Tue, 16 Oct 2012 17:53:01 -0400
Subject: [gdal-dev] Setting DataType in ReadAsArray
In-Reply-To: <507DCAC1.3020302@yahoo.it>
References: <d4ba351bcdac5483a1eb14109ea92d23.squirrel@www.cpi.com>
	<507DCAC1.3020302@yahoo.it>
Message-ID: <40066ce4b25cf0b0b58999ca5f56e85c.squirrel@www.cpi.com>

> Il 16/10/2012 22.05, elliott at cpi.com ha scritto:
>> Hello,
>>
>> Does anybody know of a way to set the data type in the call ReadAsArray.
>> It is currently reading a field as an unsigned int and it needs to be
>> read
>> as a signed int.
>
> Hi,
> ReadAsArray returns substantially a numpy array, so you can use np
> functions and methods of conversions between data types [1]. Finally,
> the simplest way consists into using the .astype() method. Hope this
> helps!
>
> Cheers,
> Antonio
>
> [1] http://docs.scipy.org/doc/numpy/user/basics.types.html
>
> --
> Antonio Falciano
> http://www.linkedin.com/in/antoniofalciano
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Thanks, perfect!  Exactly what I was looking for.

From chris.barker at noaa.gov  Tue Oct 16 14:55:45 2012
From: chris.barker at noaa.gov (Chris Barker)
Date: Tue, 16 Oct 2012 14:55:45 -0700
Subject: [gdal-dev] Setting DataType in ReadAsArray
In-Reply-To: <507DCAC1.3020302@yahoo.it>
References: <d4ba351bcdac5483a1eb14109ea92d23.squirrel@www.cpi.com>
	<507DCAC1.3020302@yahoo.it>
Message-ID: <CALGmxEJQx+pioBZue=OSg7qMPOvSSgT5R5=pcwf8KzswBROnsw@mail.gmail.com>

On Tue, Oct 16, 2012 at 1:59 PM, Antonio Falciano <afalciano at yahoo.it> wrote:

>> Does anybody know of a way to set the data type in the call ReadAsArray.
>> It is currently reading a field as an unsigned int and it needs to be read
>> as a signed int.

> ReadAsArray returns substantially a numpy array, so you can use np
> functions and methods of conversions between data types [1]. Finally,
> the simplest way consists into using the .astype() method. Hope this helps!

Actually you probably don't want that -- .astype() does a type
conversion, and what you want is to interpret the data in a different
way -- you can use .view for that -- somethign like:

arr =... ReadAsArray(...)

arr2 = arr.view(dtype=np.int32) # or the appropriate type.

that will create a new array that points to the same data buffer, but
interpretting the buffer as the new type

though I'd think ReadAsArray would get it right....

-Chris


> Cheers,
> Antonio
>
> [1] http://docs.scipy.org/doc/numpy/user/basics.types.html
>
> --
> Antonio Falciano
> http://www.linkedin.com/in/antoniofalciano
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 

Christopher Barker, Ph.D.
Oceanographer

Emergency Response Division
NOAA/NOS/OR&R            (206) 526-6959   voice
7600 Sand Point Way NE   (206) 526-6329   fax
Seattle, WA  98115       (206) 526-6317   main reception

Chris.Barker at noaa.gov

From jukka.rahkonen at mmmtike.fi  Wed Oct 17 02:03:32 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 17 Oct 2012 09:03:32 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?ORA-01406_error_when_reading_many_attributes?=
	=?utf-8?q?_from=09Oracle?=
References: <loom.20121016T155734-667@post.gmane.org>
	<CACqBkM-kDmff-82=R5ASsnrADJ2CrrPpz+qwf8bwJSEobu_cDA@mail.gmail.com>
Message-ID: <loom.20121017T101218-564@post.gmane.org>

Eli Adam <eadam <at> co.lincoln.or.us> writes:

> 
> Jukka,
> 
> > Could it be possible that OCI driver reserves too little of some 
resoursesand
> > fails because of that with large records?  I am now running a query 
with minimum
> > set of columns in my query and ogr2ogr is running well and I believe
it will
> > convert all the million rows from the view now.
> >
> > The view schema does not look extra hard for me. There are 21 
attributes in the
> > view and the longest VARCHAR2 is just 100 chararters long.
> 
> This may be overly simplistic, but does the cast operator do anything?
> 
> SELECT *, CAST(OGR_STYLE AS character(255)) FROM rivers

It does not do anything with OGR_STYLE because I do not have such but I 
believe your purpose was just to give an example. CAST did not help me 
with the problematic VARCHAR2 field I managed to put into jail because 
of making troubles but perhaps I do not know how to use it correctly.

I suspect that the reason for the trouble is that this field is a
17 character wide VARCHAR2 and I have in the data values like
"?VRE S?DERG?RDAN ". Database is using UTF-8 and ?,? and ? are
taking more than one byte each. Perhaps OCI driver develops come
from some ASCII country and did not bother to think about Oracle's
character and byte semantics throughly. It seems somehow fuzzy for
me even after reading this article
http://myorastuff.blogspot.fi/2009/02/character-and-byte-
semantics-in-oracle.html
 


From brfr at metrico.lu  Wed Oct 17 02:05:57 2012
From: brfr at metrico.lu (Frank Broniewski)
Date: Wed, 17 Oct 2012 11:05:57 +0200
Subject: [gdal-dev] New OGR driver to read OpenStreetMap .osm / .pbf
	files
In-Reply-To: <201207101923.32027.even.rouault@mines-paris.org>
References: <201207101923.32027.even.rouault@mines-paris.org>
Message-ID: <507E74F5.1090201@metrico.lu>

Hi Even,

I need to reinstall my OSM database due to the license change to ODBL. 
Usually I use osm2pgsql for that, but I am willing to sacrifice a little 
downtime of my DB in order to test the GDAL implementation. Before 
storming ahead I wanted to know how far you are with the driver 
implementation - is there anything I need to be aware of? Are you 
interested at all in a benchmark comparison between GDAL and osm2pgsql? 
I'll be using the planet file, so thinks will take a while ...

Frank

Am 2012-07-10 19:23, schrieb Even Rouault:
> Hi,
>
> Following the recent brainstorming with Jukka, I've pushed into trunk a driver
> to read OpenStreetMap .osm / .pbf files .
>
> No particularly exotic dependencies : SQLite (and Expat for OSM XML files)
>
> See http://www.gdal.org/ogr/drv_osm.html for the details (will be available in
> a few hours).
>
> The performance to convert
> http://download.geofabrik.de/osm/europe/finland.osm.pbf into a Spatialite DB is
> the following one on my PC (Core i5 @ 2.67 GHz with 64bit GDAL) :
>
> $ time ogr2ogr finland.sqlite finland.osm.pbf -f SQLite -dsco SPATIALITE=YES -gt
> 10000 -progress --config OGR_SQLITE_SYNCHRONOUS OFF
>
> real    4m31.194s
> user    3m33.020s
> sys 0m46.070s
>
> Testing with larger areas, like whole France or Europe, shows sluggish
> performance when ways are built from nodes, but that's perhaps expected. I
> didn't compare with other tools to know if the indexing or request strategy is
> particularly bad.
>
> The data/osmconf.ini configuration file is pretty basic and its settings could
> likely be improved with some tweaking. Contributions welcome.
>
> An improved version of the driver could allow specifying custom layers,
> instead of the 4 fixed ones.
>
> Happy testing,
>
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>


-- 
Frank BRONIEWSKI

METRICO s.? r.l.
g?om?tres
technologies d'information g?ographique
rue des Romains 36
L-5433 NIEDERDONVEN

t?l.: +352 26 74 94 - 28
fax.: +352 26 74 94 99
http://www.metrico.lu

From nikhil.parupalli at iictechnologies.com  Wed Oct 17 02:34:55 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Wed, 17 Oct 2012 09:34:55 +0000
Subject: [gdal-dev] Map control in dotspatial
Message-ID: <139560E1825F4648BDA4F32853B530A77F042513@IICEXHC01.iictechnologies.local>

Hi ,

Here in my application I have a dotspatial map control , when user clicks particular place on map how to get information of that particular point.


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/c7721707/attachment.html>

From mateusz at loskot.net  Wed Oct 17 02:39:29 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 17 Oct 2012 10:39:29 +0100
Subject: [gdal-dev] Map control in dotspatial
In-Reply-To: <139560E1825F4648BDA4F32853B530A77F042513@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A77F042513@IICEXHC01.iictechnologies.local>
Message-ID: <CABUeae9aY7-bQvcSRBfG0Gc5QM2AmHiu+hXnE0VyHy-rw6eorw@mail.gmail.com>

On 17 October 2012 10:34, Nikhil Sai Parupalli
<nikhil.parupalli at iictechnologies.com> wrote:
> Here in my application I have a dotspatial map control , when user clicks
> particular place on map how to get information of that particular point.

FYI, it's off-topic here.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From jukka.rahkonen at mmmtike.fi  Wed Oct 17 02:52:24 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 17 Oct 2012 09:52:24 +0000 (UTC)
Subject: [gdal-dev] 2 geometries share function
References: <139560E1825F4648BDA4F32853B530A77F040128@IICEXHC01.iictechnologies.local>,
	<CABUeae_O3+g_V1wACKA1H=fqdq=2K0W7j_QTXL+xxXnSra3Vug@mail.gmail.com>
	<139560E1825F4648BDA4F32853B530A77F0411D2@IICEXHC01.iictechnologies.local>
Message-ID: <loom.20121017T114645-19@post.gmane.org>

Nikhil Sai Parupalli <nikhil.parupalli <at> iictechnologies.com> writes:

> 
> Hey Loskot
> This code deals with lot of sql stmts. but here in our development 
we never worked with databases.
> We are using gdal libraries , is there any function in gdal or 
any other libraries that serves the purpose

Hi,

That document is excellent reading and it should have shown that touches is not
the function that you thought you need. It is PostGIS document but don't care
about that, the knowledge is universal. Instead, be curious and start reading
from the previous level 

http://postgis.refractions.net/documentation/manual-2.0/PostGIS_Special_Functions_Index.html

PostGIS is using GEOS and GDAL can be compiled with GEOS, thus the functions can
be used in both, even perhaps not exactly the same set.

-Jukka Rahkonen- 


From even.rouault at mines-paris.org  Wed Oct 17 02:54:35 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 17 Oct 2012 11:54:35 +0200
Subject: [gdal-dev] New OGR driver to read OpenStreetMap .osm / .pbf
	files
In-Reply-To: <507E74F5.1090201@metrico.lu>
References: <201207101923.32027.even.rouault@mines-paris.org>
	<507E74F5.1090201@metrico.lu>
Message-ID: <1350467675.507e805ba01a0@imp.free.fr>

Selon Frank Broniewski <brfr at metrico.lu>:

> Hi Even,
>
> I need to reinstall my OSM database due to the license change to ODBL.
> Usually I use osm2pgsql for that, but I am willing to sacrifice a little
> downtime of my DB in order to test the GDAL implementation. Before
> storming ahead I wanted to know how far you are with the driver
> implementation - is there anything I need to be aware of?

Apart reading carefully the documentation of the drivers at
http://www.gdal.org/ogr/drv_osm.html and http://www.gdal.org/ogr/drv_pg.html to
be aware of the various optimization hints, nothing comes to find. There have
been several optimization passes and improvements done with Jukka's feedback in
the last few months, so now I consider the gist of the developmement phase to be
done.

> Are you
> interested at all in a benchmark comparison between GDAL and osm2pgsql?
> I'll be using the planet file, so thinks will take a while ...

Yes, sure. Feedback welcome. Note that the driver hasn't specifically been
developed to compete with osm2pgsql (for example, the OGR OSM driver, or more
exactly the OGR model, cannot deal with OSM diff files), but more to address the
capability of reading/converting "modest" sized .osm/.pbf files with little
"infrastructure".

Even

From mateusz at loskot.net  Wed Oct 17 02:56:47 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 17 Oct 2012 10:56:47 +0100
Subject: [gdal-dev] 2 geometries share function
In-Reply-To: <loom.20121017T114645-19@post.gmane.org>
References: <139560E1825F4648BDA4F32853B530A77F040128@IICEXHC01.iictechnologies.local>
	<CABUeae_O3+g_V1wACKA1H=fqdq=2K0W7j_QTXL+xxXnSra3Vug@mail.gmail.com>
	<139560E1825F4648BDA4F32853B530A77F0411D2@IICEXHC01.iictechnologies.local>
	<loom.20121017T114645-19@post.gmane.org>
Message-ID: <CABUeae8evQo4JJtH+5OGEMJWa+exW+VwVobeJcKbSg_WDgWKsQ@mail.gmail.com>

Nikhil Sai Parupalli <nikhil.parupalli <at> iictechnologies.com> writes:
> Hey Loskot
> This code deals with lot of sql stmts. but here in our development we never worked with databases.
> We are using gdal libraries , is there any function in gdal or any other libraries that serves the purpose

Looking at the *beautiful* pictures displayed in the PostGIS documentation
is what I actually suggested. IMO, PostGIS documentation is a mandatory
reference while learning  GDAL/OGR (geometry).

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From Michael.Smith at erdc.dren.mil  Wed Oct 17 03:29:00 2012
From: Michael.Smith at erdc.dren.mil (Smith, Michael ERDC-RDE-CRREL-NH)
Date: Wed, 17 Oct 2012 10:29:00 +0000
Subject: [gdal-dev] ORA-01406 error when reading many attributes from
 Oracle
In-Reply-To: <loom.20121017T101218-564@post.gmane.org>
Message-ID: <CCA3FF71.39C67%michael.smith@erdc.dren.mil>

Jukka,

If the field is 17 char wide (rather than 17 bytes wide) then that is your
problem. A varchar2 column can use either char or byte specifications.

http://docs.oracle.com/cd/E11882_01/server.112/e26088/sql_elements001.htm#i
45694


If neither char or byte is specified, it defaults to your
NLS_LENGTH_SEMANTICS in the session that was in place when the table was
created. 

Mike

-- 
Michael Smith

US Army Corps
Remote Sensing GIS/Center



On 10/17/12 5:03 AM, "Jukka Rahkonen" <jukka.rahkonen at mmmtike.fi> wrote:

>Eli Adam <eadam <at> co.lincoln.or.us> writes:
>
>> 
>> Jukka,
>> 
>> > Could it be possible that OCI driver reserves too little of some
>resoursesand
>> > fails because of that with large records?  I am now running a query
>with minimum
>> > set of columns in my query and ogr2ogr is running well and I believe
>it will
>> > convert all the million rows from the view now.
>> >
>> > The view schema does not look extra hard for me. There are 21
>attributes in the
>> > view and the longest VARCHAR2 is just 100 chararters long.
>> 
>> This may be overly simplistic, but does the cast operator do anything?
>> 
>> SELECT *, CAST(OGR_STYLE AS character(255)) FROM rivers
>
>It does not do anything with OGR_STYLE because I do not have such but I
>believe your purpose was just to give an example. CAST did not help me
>with the problematic VARCHAR2 field I managed to put into jail because
>of making troubles but perhaps I do not know how to use it correctly.
>
>I suspect that the reason for the trouble is that this field is a
>17 character wide VARCHAR2 and I have in the data values like
>"?VRE S?DERG?RDAN ". Database is using UTF-8 and ?,? and ? are
>taking more than one byte each. Perhaps OCI driver develops come
>from some ASCII country and did not bother to think about Oracle's
>character and byte semantics throughly. It seems somehow fuzzy for
>me even after reading this article
>http://myorastuff.blogspot.fi/2009/02/character-and-byte-
>semantics-in-oracle.html
> 
>
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jukka.rahkonen at mmmtike.fi  Wed Oct 17 03:35:51 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 17 Oct 2012 10:35:51 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?ORA-01406_error_when_reading_many_attributes?=
	=?utf-8?q?_from=09Oracle?=
References: <loom.20121016T155734-667@post.gmane.org>
	<CACqBkM-kDmff-82=R5ASsnrADJ2CrrPpz+qwf8bwJSEobu_cDA@mail.gmail.com>
	<loom.20121017T101218-564@post.gmane.org>
Message-ID: <loom.20121017T121144-791@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:


> I suspect that the reason for the trouble is that this field is a
> 17 character wide VARCHAR2 and I have in the data values like
> "?VRE S?DERG?RDAN ". Database is using UTF-8 and ?,? and ? are
> taking more than one byte each. Perhaps OCI driver develops come
> from some ASCII country and did not bother to think about Oracle's
> character and byte semantics throughly. It seems somehow fuzzy for
> me even after reading this article
> http://myorastuff.blogspot.fi/2009/02/character-and-byte-
> semantics-in-oracle.html

I can repeat the error with a minimal one-row test table having a field
NAME VARCHAR2(6)
and value ??????

VARCHAR2(6) means the same as VARCHAR2(6 CHAR) but OGR OCI driver thinks 
that it means the same as VARCHAR2(6 BYTE) and that leads to ORA-01406 
error if the character string has more that 6 bytes even it has 6 or less
characters. I will make a ticket about this.

Now, can anybody suggest a handy workaround? I can take the IDs and names
out into a text file and join names with the rest of the data with 
Spatialite or some other tool but I have 14 layers to process, 1.1 million 
rows on each and that would probably be too slow. I do not have rights to 
add a new attribute NAME2 VARCHAR(40 BYTE) into Oracle but perhaps I will 
need to ask DB admin to create that for me.

-Jukka-



From luislisboa1975 at gmail.com  Wed Oct 17 04:22:29 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Wed, 17 Oct 2012 12:22:29 +0100
Subject: [gdal-dev] Orthorectification iN GDAL
Message-ID: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>

Greetings
I want to orthorectify a few SPOT images and at QGIS mailing list someone
indicated me that this feature is available in GDAL. I have checked but I
didn't find anything. Can anyone confirm me this?
Regards
Luis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/1eff340d/attachment.html>

From bfraser at geoanalytic.com  Wed Oct 17 06:45:41 2012
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed, 17 Oct 2012 07:45:41 -0600
Subject: [gdal-dev] Orthorectification iN GDAL
In-Reply-To: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
References: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
Message-ID: <507EB685.3070402@geoanalytic.com>

As far as I know, GDAL will orthorectify images supplied with RPC data 
(e.g. Digital Globe's Worldview/Quickbird, GeoEye's Iknonoe, GeoEye1, 
etc) but not Spot imagery.  You could use OSSIM to orthorectify Spot.

Best Regards,
Brent Fraser

On 10/17/2012 5:22 AM, Luis Lisboa wrote:
> Greetings
> I want to orthorectify a few SPOT images and at QGIS mailing list 
> someone indicated me that this feature is available in GDAL. I have 
> checked but I didn't find anything. Can anyone confirm me this?
> Regards
> Luis
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/46244ac0/attachment.html>

From jorgearevalo at libregis.org  Wed Oct 17 09:22:16 2012
From: jorgearevalo at libregis.org (Jorge Arevalo)
Date: Wed, 17 Oct 2012 18:22:16 +0200
Subject: [gdal-dev] Implementing overview support apart from the default
	support
Message-ID: <CAMhtMNM3cfi68U-fJHs5AS_VE3AL=Zvro5ca88PAQZf2H8kEvA@mail.gmail.com>

Hello,

I'm working with Mapserver, trying to serve images stored in PostGIS
Raster via WMS using the new version of GDAL PostGIS Raster driver
(I'm working to improve it). The images appears misplaced when
overview tables are used. The overviews were correctly created, but
the driver doesn't serve them in the right way. In other words: it
isn't a data problem. It's a driver problem.

I've been re-reading the GDAL driver implementation tutorial, but it
only covers the default support in GDAL for external overviews stored
in TIFF files. My overviews are stored in PostGIS Raster tables, not
TIFF files. I'm looking at geotiff.cpp code. I guess the driver have
to fullfill some requirements, like geotiff driver does. My question
is: what are the most important parts in order to provide a good
overview support, based on the idea that the overviews are raster
tables? (Just reading support, so far)

Many thanks in advance,

-- 
Jorge Arevalo
http://www.krop.com/jorgearevalo

From even.rouault at mines-paris.org  Wed Oct 17 09:31:09 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 17 Oct 2012 18:31:09 +0200
Subject: [gdal-dev] Implementing overview support apart from the default
	support
In-Reply-To: <CAMhtMNM3cfi68U-fJHs5AS_VE3AL=Zvro5ca88PAQZf2H8kEvA@mail.gmail.com>
References: <CAMhtMNM3cfi68U-fJHs5AS_VE3AL=Zvro5ca88PAQZf2H8kEvA@mail.gmail.com>
Message-ID: <1350491469.507edd4df2113@imp.free.fr>

Selon Jorge Arevalo <jorgearevalo at libregis.org>:

> Hello,
>
> I'm working with Mapserver, trying to serve images stored in PostGIS
> Raster via WMS using the new version of GDAL PostGIS Raster driver
> (I'm working to improve it). The images appears misplaced when
> overview tables are used. The overviews were correctly created, but
> the driver doesn't serve them in the right way. In other words: it
> isn't a data problem. It's a driver problem.
>
> I've been re-reading the GDAL driver implementation tutorial, but it
> only covers the default support in GDAL for external overviews stored
> in TIFF files. My overviews are stored in PostGIS Raster tables, not
> TIFF files. I'm looking at geotiff.cpp code. I guess the driver have
> to fullfill some requirements, like geotiff driver does. My question
> is: what are the most important parts in order to provide a good
> overview support, based on the idea that the overviews are raster
> tables? (Just reading support, so far)

Jorge,

I'm not sure if there are very well formalized requirements documented
somewhere, bu the ones I can think of are :

1) A few characteristics of the overview band should be the same as the base
band, i.e. same data type (this is probably not a so strong requirement, because
RasterIO() should do the translation to the requested data type), and same color
table in the case the base band has a color table associated

2) The spatial extent of the overview band should be exactly the same as the one
of the base band. This is really a strong requirement. And I feel this is the
likely cause of the mis-placement you observe. I'm not sure how your PostGIS
Raster overviews are built, but if they have a different extent that the full
resolution table, you'll surely have an issue, unless the driver compensates for
that by padding/cropping appropriately.

Best regards,

Even

From mateusz at loskot.net  Wed Oct 17 10:13:50 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Wed, 17 Oct 2012 18:13:50 +0100
Subject: [gdal-dev] Orthorectification iN GDAL
In-Reply-To: <507EB685.3070402@geoanalytic.com>
References: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
	<507EB685.3070402@geoanalytic.com>
Message-ID: <CABUeae9bFQpaJ5LnCezLNOKTgpJrGmi-V_P0SHWCfyHGaxoSCQ@mail.gmail.com>

That's a nice Q&A for the GDAL FAQ,  seriously.

Mateusz  ?oskot
(sent  from mobile,  apology for top-post or broken quotes)
On 17 Oct 2012 14:45, "Brent Fraser" <bfraser at geoanalytic.com> wrote:

>  As far as I know, GDAL will orthorectify images supplied with RPC data
> (e.g. Digital Globe's Worldview/Quickbird, GeoEye's Iknonoe, GeoEye1, etc)
> but not Spot imagery.  You could use OSSIM to orthorectify Spot.
>
> Best Regards,
> Brent Fraser
>
> On 10/17/2012 5:22 AM, Luis Lisboa wrote:
>
> Greetings
> I want to orthorectify a few SPOT images and at QGIS mailing list someone
> indicated me that this feature is available in GDAL. I have checked but I
> didn't find anything. Can anyone confirm me this?
> Regards
> Luis
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/f26abeab/attachment-0001.html>

From polimax at mail.ru  Wed Oct 17 10:56:09 2012
From: polimax at mail.ru (Dmitry Baryshnikov)
Date: Wed, 17 Oct 2012 21:56:09 +0400
Subject: [gdal-dev] Orthorectification iN GDAL
In-Reply-To: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
References: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
Message-ID: <507EF139.7010401@mail.ru>

17.10.2012 15:22, Luis Lisboa ?????:
> Greetings
> I want to orthorectify a few SPOT images and at QGIS mailing list 
> someone indicated me that this feature is available in GDAL. I have 
> checked but I didn't find anything. Can anyone confirm me this?
> Regards
> Luis
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
There is a good article about ortho on Russian 
(http://gis-lab.info/qa/orbview3-ortho-gdal.html). You can google 
trnslate it. Also there is a translation 
(http://wiki.gis-lab.info/w/OrbView-3_Orthorectification) but not finished.
I haven't tested Spot yet, but I know kompsat-2imagery were 
otrthorectified successful, but not from the box.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/55edb10f/attachment.html>

From pwillis at aslenv.com  Wed Oct 17 14:59:05 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Wed, 17 Oct 2012 14:59:05 -0700
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI SHP
	format Vector
Message-ID: <001a01cdacb2$a0628620$e1279260$@aslenv.com>

Hello,

Is it possible to use ESRI SHP polygon file to mask
ENVI  BSQ img format files with more than 1 band?

I can mask a GTiff file using the SHP but ENVI file does not 
appear to work.  Gdal version is  1.6.3 .

The documentation appears unclear for any raster that is not 
specifically GTiff.

Thanks,

Peter


From warmerdam at pobox.com  Wed Oct 17 15:22:02 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 17 Oct 2012 15:22:02 -0700
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
 SHP format Vector
In-Reply-To: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
Message-ID: <CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>

Peter,

I'm guessing you are using the gdal_polygonize.py script
for masking.  Is that right?  I am not aware of any particular
reason this shouldn't work for any "update in place" format
(ie. shows "rw+" in the gdalinfo --formats list).  ENVI is in
this list.

BTW, before we do a lot of work to investigate this you might
want to see if the problem persists with GDAL 1.9.  GDAL 1.6.3
is getting pretty antique.

Best regards,
Frank

On Wed, Oct 17, 2012 at 2:59 PM, Peter Willis <pwillis at aslenv.com> wrote:

> Hello,
>
> Is it possible to use ESRI SHP polygon file to mask
> ENVI  BSQ img format files with more than 1 band?
>
> I can mask a GTiff file using the SHP but ENVI file does not
> appear to work.  Gdal version is  1.6.3 .
>
> The documentation appears unclear for any raster that is not
> specifically GTiff.
>
> Thanks,
>
> Peter
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/b05c4a58/attachment.html>

From pwillis at aslenv.com  Wed Oct 17 15:33:47 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Wed, 17 Oct 2012 15:33:47 -0700
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
	SHP format Vector
In-Reply-To: <CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
	<CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
Message-ID: <001e01cdacb7$79711860$6c534920$@aslenv.com>

Hello,

 

I was using gdal_rasterize  directly rather than  gdal_polygonize.py .

.No  gdal_poygonize.py found for my revision..

 

I was forgetful of -formats via gdalinfo.  This shows rw+ for ENVI format
which is what I need.

Upon looking I find that I have already installed revision 1.9 in another
/usr/local directory.

Perhaps I should use the more recent revision for attempting this.

 

Thanks for the pointers,

 

Peter

 

 

 

From: fwarmerdam at gmail.com [mailto:fwarmerdam at gmail.com] On Behalf Of Frank
Warmerdam
Sent: October-17-12 3:22 PM
To: Peter Willis
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
SHP format Vector

 

Peter,

 

I'm guessing you are using the gdal_polygonize.py script

for masking.  Is that right?  I am not aware of any particular

reason this shouldn't work for any "update in place" format

(ie. shows "rw+" in the gdalinfo --formats list).  ENVI is in

this list. 

 

BTW, before we do a lot of work to investigate this you might

want to see if the problem persists with GDAL 1.9.  GDAL 1.6.3

is getting pretty antique.

 

Best regards,

Frank

 

On Wed, Oct 17, 2012 at 2:59 PM, Peter Willis <pwillis at aslenv.com> wrote:

Hello,

Is it possible to use ESRI SHP polygon file to mask
ENVI  BSQ img format files with more than 1 band?

I can mask a GTiff file using the SHP but ENVI file does not
appear to work.  Gdal version is  1.6.3 .

The documentation appears unclear for any raster that is not
specifically GTiff.

Thanks,

Peter

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev





 

-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/ece71822/attachment.html>

From Luke.Pinner at environment.gov.au  Wed Oct 17 15:24:30 2012
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Wed, 17 Oct 2012 22:24:30 +0000
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
 SHP	format Vector [SEC=UNCLASSIFIED]
In-Reply-To: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
Message-ID: <08A7084C05C8C94A9EA11656A36D3EE10CC2BFEC@PVAC01EXMX01.internal.govt>

Try gdalwarp (http://www.gdal.org/gdalwarp.html) with the -cutline argument.

gdalwarp -of envi -cutline shapefile.shp multibandenvi.dat croppedoutput.dat

Luke


-----Original Message-----
From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Peter Willis
Sent: Thursday, 18 October 2012 8:59 AM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI SHP format Vector

Hello,

Is it possible to use ESRI SHP polygon file to mask ENVI  BSQ img format files with more than 1 band?

I can mask a GTiff file using the SHP but ENVI file does not appear to work.  Gdal version is  1.6.3 .

The documentation appears unclear for any raster that is not specifically GTiff.

Thanks,

Peter

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments.

Please consider the environment before printing this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/42355cc6/attachment.html>

From pwillis at aslenv.com  Wed Oct 17 15:42:54 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Wed, 17 Oct 2012 15:42:54 -0700
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
	SHP format Vector
In-Reply-To: <CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
	<CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
Message-ID: <002c01cdacb8$bf5b3d00$3e11b700$@aslenv.com>

Hello,

 

On second thoughts, this is not really what I want.

 

I have a SHP format polygon vector file  already.

I want to use that existing vector file to mask the ENVI format BSQ file
through all (49) channels.

(ie:  'mask' meaning set any values inside vector polygons to a specific
value within the output ENVI BSQ file )

 

Perhaps I'm missing something.

 

Peter 

 

From: fwarmerdam at gmail.com [mailto:fwarmerdam at gmail.com] On Behalf Of Frank
Warmerdam
Sent: October-17-12 3:22 PM
To: Peter Willis
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
SHP format Vector

 

Peter,

 

I'm guessing you are using the gdal_polygonize.py script

for masking.  Is that right?  I am not aware of any particular

reason this shouldn't work for any "update in place" format

(ie. shows "rw+" in the gdalinfo --formats list).  ENVI is in

this list. 

 

BTW, before we do a lot of work to investigate this you might

want to see if the problem persists with GDAL 1.9.  GDAL 1.6.3

is getting pretty antique.

 

Best regards,

Frank

 

On Wed, Oct 17, 2012 at 2:59 PM, Peter Willis <pwillis at aslenv.com> wrote:

Hello,

Is it possible to use ESRI SHP polygon file to mask
ENVI  BSQ img format files with more than 1 band?

I can mask a GTiff file using the SHP but ENVI file does not
appear to work.  Gdal version is  1.6.3 .

The documentation appears unclear for any raster that is not
specifically GTiff.

Thanks,

Peter

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev





 

-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/c4593e60/attachment-0001.html>

From Luke.Pinner at environment.gov.au  Wed Oct 17 16:10:32 2012
From: Luke.Pinner at environment.gov.au (Pinner, Luke)
Date: Wed, 17 Oct 2012 23:10:32 +0000
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using
	ESRI	SHP format Vector [SEC=UNCLASSIFIED]
In-Reply-To: <002c01cdacb8$bf5b3d00$3e11b700$@aslenv.com>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
	<CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
	<002c01cdacb8$bf5b3d00$3e11b700$@aslenv.com>
Message-ID: <08A7084C05C8C94A9EA11656A36D3EE10CC2C01E@PVAC01EXMX01.internal.govt>

Perhaps something like

for i in {1..49}; do gdal_rasterize -burn -999 -b $i mask.shp 49bandenvi.dat; done

Luke

From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Peter Willis
Sent: Thursday, 18 October 2012 9:43 AM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI SHP format Vector

Hello,

On second thoughts, this is not really what I want.

I have a SHP format polygon vector file  already.
I want to use that existing vector file to mask the ENVI format BSQ file through all (49) channels.
(ie:  'mask' meaning set any values inside vector polygons to a specific value within the output ENVI BSQ file )

Perhaps I'm missing something...

Peter

From: fwarmerdam at gmail.com<mailto:fwarmerdam at gmail.com> [mailto:fwarmerdam at gmail.com] On Behalf Of Frank Warmerdam
Sent: October-17-12 3:22 PM
To: Peter Willis
Cc: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI SHP format Vector

Peter,

I'm guessing you are using the gdal_polygonize.py script
for masking.  Is that right?  I am not aware of any particular
reason this shouldn't work for any "update in place" format
(ie. shows "rw+" in the gdalinfo --formats list).  ENVI is in
this list.

BTW, before we do a lot of work to investigate this you might
want to see if the problem persists with GDAL 1.9.  GDAL 1.6.3
is getting pretty antique.

Best regards,
Frank

On Wed, Oct 17, 2012 at 2:59 PM, Peter Willis <pwillis at aslenv.com<mailto:pwillis at aslenv.com>> wrote:
Hello,

Is it possible to use ESRI SHP polygon file to mask
ENVI  BSQ img format files with more than 1 band?

I can mask a GTiff file using the SHP but ENVI file does not
appear to work.  Gdal version is  1.6.3 .

The documentation appears unclear for any raster that is not
specifically GTiff.

Thanks,

Peter

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev



--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com<mailto:warmerdam at pobox.com>
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

If you have received this transmission in error please notify us immediately by return e-mail and delete all copies. If this e-mail or any attachments have been sent to you in error, that error does not constitute waiver of any confidentiality, privilege or copyright in respect of information in the e-mail or attachments.

Please consider the environment before printing this email.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/1613db2c/attachment.html>

From warmerdam at pobox.com  Wed Oct 17 16:21:09 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 17 Oct 2012 16:21:09 -0700
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
 SHP format Vector
In-Reply-To: <002c01cdacb8$bf5b3d00$3e11b700$@aslenv.com>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>
	<CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
	<002c01cdacb8$bf5b3d00$3e11b700$@aslenv.com>
Message-ID: <CA+YzLBeTqsG7YbdMoWgrikq+i5D_3aa7Yci1tAJfeo=hYir+3Q@mail.gmail.com>

On Wed, Oct 17, 2012 at 3:42 PM, Peter Willis <pwillis at aslenv.com> wrote:

> Hello,****
>
> ** **
>
> On second thoughts, this is not really what I want.****
>
> ** **
>
> I have a SHP format polygon vector file  already.****
>
> I want to use that existing vector file to mask the ENVI format BSQ file
> through all (49) channels.****
>
> (ie:  ?mask? meaning set any values inside vector polygons to a specific
> value within the output ENVI BSQ file )****
>
> ** **
>
> Perhaps I?m missing something?
>

Peter,

I think gdal_rasterize can do this, but I imagine as it is
setup now I think you will have to explicitly list every
band to write to.  For instance I was able to do the following
for a 3 band TIFF file:

gdal_rasterize -b 1 -b 2 -b 3 -burn 128 alaska_box.shp work.tif

This burned the value 128 into bands 1, 2 and 3 in work.tif.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121017/225b3916/attachment.html>

From pwillis at aslenv.com  Thu Oct 18 08:25:18 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Thu, 18 Oct 2012 08:25:18 -0700
Subject: [gdal-dev] Using gdal_rasterize to mask ENVI file Using
	ESRI	SHP format Vector [SEC=UNCLASSIFIED]
In-Reply-To: <08A7084C05C8C94A9EA11656A36D3EE10CC2C01E@PVAC01EXMX01.internal.govt>
References: <001a01cdacb2$a0628620$e1279260$@aslenv.com>	<CA+YzLBcjB+gB-g6-ifa-RFT39zWHqKF7ntksccDxJ5n9nTSJ1w@mail.gmail.com>
	<002c01cdacb8$bf5b3d00$3e11b700$@aslenv.com>
	<08A7084C05C8C94A9EA11656A36D3EE10CC2C01E@PVAC01EXMX01.internal.govt>
Message-ID: <000f01cdad44$c7dfd990$579f8cb0$@aslenv.com>

Hello,

 

Thanks, that worked.

Looks like I missed the in-place band number selection flag ( -b ).

 

Does anyone know if I can direct output to another file, or do

I always need to copy the original file and 'burn' the values into an
existing duplicate file.

 

I guess it's just as easy either way.

 

Thanks again,

 

Peter

 

 

 

From: Pinner, Luke [mailto:Luke.Pinner at environment.gov.au] 
Sent: October-17-12 4:11 PM
To: Peter Willis; gdal-dev at lists.osgeo.org
Subject: RE: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
SHP format Vector [SEC=UNCLASSIFIED]

 

Perhaps something like

 

for i in {1..49}; do gdal_rasterize -burn -999 -b $i mask.shp
49bandenvi.dat; done

 

Luke

 

From: gdal-dev-bounces at lists.osgeo.org
[mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Peter Willis
Sent: Thursday, 18 October 2012 9:43 AM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
SHP format Vector

 

Hello,

 

On second thoughts, this is not really what I want.

 

I have a SHP format polygon vector file  already.

I want to use that existing vector file to mask the ENVI format BSQ file
through all (49) channels.

(ie:  'mask' meaning set any values inside vector polygons to a specific
value within the output ENVI BSQ file )

 

Perhaps I'm missing something.

 

Peter 

 

From: fwarmerdam at gmail.com [mailto:fwarmerdam at gmail.com] On Behalf Of Frank
Warmerdam
Sent: October-17-12 3:22 PM
To: Peter Willis
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Using gdal_rasterize to mask ENVI file Using ESRI
SHP format Vector

 

Peter,

 

I'm guessing you are using the gdal_polygonize.py script

for masking.  Is that right?  I am not aware of any particular

reason this shouldn't work for any "update in place" format

(ie. shows "rw+" in the gdalinfo --formats list).  ENVI is in

this list. 

 

BTW, before we do a lot of work to investigate this you might

want to see if the problem persists with GDAL 1.9.  GDAL 1.6.3

is getting pretty antique.

 

Best regards,

Frank

 

On Wed, Oct 17, 2012 at 2:59 PM, Peter Willis <pwillis at aslenv.com> wrote:

Hello,

Is it possible to use ESRI SHP polygon file to mask
ENVI  BSQ img format files with more than 1 band?

I can mask a GTiff file using the SHP but ENVI file does not
appear to work.  Gdal version is  1.6.3 .

The documentation appears unclear for any raster that is not
specifically GTiff.

Thanks,

Peter

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev





 

-- 
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

If you have received this transmission in error please notify us immediately
by return e-mail and delete all copies. If this e-mail or any attachments
have been sent to you in error, that error does not constitute waiver of any
confidentiality, privilege or copyright in respect of information in the
e-mail or attachments. Please consider the environment before printing this
email.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121018/bd3019ad/attachment-0001.html>

From waelinsat at gmail.com  Thu Oct 18 08:39:09 2012
From: waelinsat at gmail.com (Wael Tarhouni)
Date: Thu, 18 Oct 2012 16:39:09 +0100
Subject: [gdal-dev] import KML Layer into GeoServer
Message-ID: <CAPBhV0cwy2Ccn+gBAWKyeMteJ-sCEkh2UOSWdu8PPB+jriD_sg@mail.gmail.com>

Hi All;

I'm trying to import add a kml layer into geoserver, i found how to import
a shapefile but not a kml file;

Thanks for any help;

Best regards;

-- 
Wael Tarhouni
?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121018/ef910884/attachment.html>

From manuel.grizonnet at gmail.com  Thu Oct 18 08:47:53 2012
From: manuel.grizonnet at gmail.com (Manuel Grizonnet)
Date: Thu, 18 Oct 2012 17:47:53 +0200
Subject: [gdal-dev] Orthorectification iN GDAL
In-Reply-To: <507EF139.7010401@mail.ru>
References: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
	<507EF139.7010401@mail.ru>
Message-ID: <CAL2wmQfJr8m9LB59ei_qPLkDQTXS7HWg+A82WEZC01xz+GveSg@mail.gmail.com>

Hi,

you can use OTB (http://www.orfeo-toolbox.org) to orthorectify Spot(5)
images (it is based on gdal and OSSIM to read metadata information)

Regards,

Manuel

2012/10/17 Dmitry Baryshnikov <polimax at mail.ru>

>  17.10.2012 15:22, Luis Lisboa ?????:
>
> Greetings
> I want to orthorectify a few SPOT images and at QGIS mailing list someone
> indicated me that this feature is available in GDAL. I have checked but I
> didn't find anything. Can anyone confirm me this?
> Regards
> Luis
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>  There is a good article about ortho on Russian (
> http://gis-lab.info/qa/orbview3-ortho-gdal.html). You can google trnslate
> it. Also there is a translation (
> http://wiki.gis-lab.info/w/OrbView-3_Orthorectification) but not finished.
> I haven't tested Spot yet, but I know kompsat-2imagery were
> otrthorectified successful, but not from the box.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Manuel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121018/619b1283/attachment.html>

From manuel.grizonnet at gmail.com  Thu Oct 18 08:50:45 2012
From: manuel.grizonnet at gmail.com (Manuel Grizonnet)
Date: Thu, 18 Oct 2012 17:50:45 +0200
Subject: [gdal-dev] Orthorectification iN GDAL
In-Reply-To: <CAL2wmQfJr8m9LB59ei_qPLkDQTXS7HWg+A82WEZC01xz+GveSg@mail.gmail.com>
References: <CAKvvP9gs9=biqjsp9EFAwqpoBhoWhFemNZBZnM+3Rg575j6=Fw@mail.gmail.com>
	<507EF139.7010401@mail.ru>
	<CAL2wmQfJr8m9LB59ei_qPLkDQTXS7HWg+A82WEZC01xz+GveSg@mail.gmail.com>
Message-ID: <CAL2wmQeeD87xMr7FppmvWE=5mD=tOXTW1jrqCzDUf1V1sCLTzQ@mail.gmail.com>

Sorry,

I've forgotten to add also a link the orthorectification tool provided in
the OTB applications :

http://www.orfeo-toolbox.org/CookBook/CookBooksu57.html#x80-3200004.4.6

Manuel


2012/10/18 Manuel Grizonnet <manuel.grizonnet at gmail.com>

> Hi,
>
> you can use OTB (http://www.orfeo-toolbox.org) to orthorectify Spot(5)
> images (it is based on gdal and OSSIM to read metadata information)
>
> Regards,
>
> Manuel
>
>
> 2012/10/17 Dmitry Baryshnikov <polimax at mail.ru>
>
>>  17.10.2012 15:22, Luis Lisboa ?????:
>>
>> Greetings
>> I want to orthorectify a few SPOT images and at QGIS mailing list someone
>> indicated me that this feature is available in GDAL. I have checked but I
>> didn't find anything. Can anyone confirm me this?
>> Regards
>> Luis
>>
>>
>> _______________________________________________
>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>  There is a good article about ortho on Russian (
>> http://gis-lab.info/qa/orbview3-ortho-gdal.html). You can google
>> trnslate it. Also there is a translation (
>> http://wiki.gis-lab.info/w/OrbView-3_Orthorectification) but not
>> finished.
>> I haven't tested Spot yet, but I know kompsat-2imagery were
>> otrthorectified successful, but not from the box.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Manuel
>



-- 
Manuel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121018/d97bfeb0/attachment.html>

From even.rouault at mines-paris.org  Thu Oct 18 16:15:56 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 19 Oct 2012 01:15:56 +0200
Subject: [gdal-dev] ogrinfo in GDAL 1.9.2 reporting wrong dimension for
	layer geometry type
Message-ID: <201210190115.56613.even.rouault@mines-paris.org>

Hi,

Just to inform you that we have spotted a regression in 1.9.2 : ogrinfo (and 
any code using OGRGeometryTypeToName()) will report 3D geometry types for 2D 
layers, and vice versa. See http://trac.osgeo.org/gdal/ticket/4871

This is now fixed in SVN in trunk and 1.9 branch. And this will get into 1.9.3 
when it will be released.

Best regards,

Even

From gcpp.kalxas at gmail.com  Thu Oct 18 18:03:48 2012
From: gcpp.kalxas at gmail.com (Angelos Tzotsos)
Date: Fri, 19 Oct 2012 04:03:48 +0300
Subject: [gdal-dev] ogrinfo in GDAL 1.9.2 reporting wrong dimension for
 layer geometry type
In-Reply-To: <201210190115.56613.even.rouault@mines-paris.org>
References: <201210190115.56613.even.rouault@mines-paris.org>
Message-ID: <5080A6F4.2080608@gmail.com>

On 10/19/2012 02:15 AM, Even Rouault wrote:
> Hi,
>
> Just to inform you that we have spotted a regression in 1.9.2 : ogrinfo (and
> any code using OGRGeometryTypeToName()) will report 3D geometry types for 2D
> layers, and vice versa. See http://trac.osgeo.org/gdal/ticket/4871
>
> This is now fixed in SVN in trunk and 1.9 branch. And this will get into 1.9.3
> when it will be released.
>
> Best regards,
>
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
Thanks Even,

I will patch openSUSE builds.

Angelos

-- 
Angelos Tzotsos
Remote Sensing Laboratory
National Technical University of Athens
http://users.ntua.gr/tzotsos


From Pascal.Boulerie at ensg.eu  Fri Oct 19 01:38:43 2012
From: Pascal.Boulerie at ensg.eu (Pascal Boulerie)
Date: Fri, 19 Oct 2012 10:38:43 +0200
Subject: [gdal-dev] [suggestions] easing the search for information in the
	GDAL documentation
Message-ID: <50811193.5030907@ensg.eu>

Hello,

On the following page
http://www.gdal.org/ogr/ogr_formats.html
OGR Vector Formats

you should add a mention :
"The following page only describes OGR vector formats. For GDAL Raster 
Formats, see : http://www.gdal.org/formats_list.html "

You should add a version number and last date of the revision at the 
end, as in the page http://www.gdal.org/formats_list.html


In the page http://www.gdal.org/formats_list.html

you should add a mention :
"The following page only describes GDAL Raster Formats. For OGR vector 
formats, see : http://www.gdal.org/ogr/ogr_formats.html "


At the end of the page, it would be much more human friendly to mention :
Last revision : 25150
Last revision date : 2012-10-17
instead of :
 > 25150 2012-10-17

Yours sincerely,


PS Is it possible to manage a CMS documentation instead of these HTML 
files ? (a User-friendly User Oriented Documentation)
Would it be the role of the wiki documentation ?
(I mean : I am not interested to find 63 different results when I type a 
search for "Supported Formats" : 
http://trac.osgeo.org/gdal/search?q=Supported+Formats&noquickjump=1&ticket=on&changeset=on&milestone=on&wiki=on 
)

From chaitanya.ch at gmail.com  Fri Oct 19 02:33:00 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri, 19 Oct 2012 15:03:00 +0530
Subject: [gdal-dev] Georeferencing problem
In-Reply-To: <7646012.64992.1350632099921.JavaMail.nabble@alf.nabble.com>
References: <7646012.64992.1350632099921.JavaMail.nabble@alf.nabble.com>
Message-ID: <CAMKgpOYeX_-5rCQQF79VKzGntBtoLs2H2w2nTbK9aJ5zqSj6bA@mail.gmail.com>

Nitasha,

I see that all the GCPs have the same value '70.2958709253187'. Correct
your GCPs and try again.

On Fri, Oct 19, 2012 at 1:04 PM, <nitasha17 at gmail.com> wrote:

> Hello Sir ,
> I am new to GIS and I am trying to georeference a image( 15min X 15min
> multispectral image) using gdal.The process that I am following is as
> follows :
>
> 1. First i am using gdal-translate with -gcp & -a-srs epsg ;
>
> gdal_translate -gcp 750.473430004334 3070.53287635397 70.2958709253187
> 27.9375281361964 -gcp 4057.56191915846 4036.62967261977 70.2958709253187
> 27.9964718881037 -gcp 3695.42969944292 1084.49720804115 70.2958709253187
> 27.8162786236328 -gcp 18.5158756347083 88.546174354395 70.2958709253187
> 27.7554467555991 -gcp 2114.46778195322 2068.47766007366 70.2958709253187
> 27.8762596874124 -a_srs epsg:4326 "InputImg.tif" "OutputImg.tif"
>
> 2. Then I am using gdalwarp  with -r option :
>
> gdalwarp -r Bilinear "outputImg.tif" "GeorefImg.tif"
>
>
> But I am getting an error "failed to compute gcp transform transform is
> not solvable"
>
> Also, please tell me if I am using correct method to georeference a image.
> Please help me, I am badly struck with this problem from many days.
>
>
> Thanks
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/513d3d74/attachment.html>

From nikhil.parupalli at iictechnologies.com  Fri Oct 19 02:50:30 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Fri, 19 Oct 2012 09:50:30 +0000
Subject: [gdal-dev] dotspatial map control navigation
Message-ID: <139560E1825F4648BDA4F32853B530A77F043F11@IICEXHC01.iictechnologies.local>

Hi

I am developing an application which has dotspatial map control do display S57 dataset.
Here it is displaying fine but I have to write a code where user should be navigated to particular coordinates when clicking and RCID(it has coordinate information).
If you have worked on similar type of thing do share me some idea.



Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/0c0af23f/attachment.html>

From chaitanya.ch at gmail.com  Fri Oct 19 03:32:41 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri, 19 Oct 2012 16:02:41 +0530
Subject: [gdal-dev] dotspatial map control navigation
In-Reply-To: <139560E1825F4648BDA4F32853B530A77F043F11@IICEXHC01.iictechnologies.local>
References: <139560E1825F4648BDA4F32853B530A77F043F11@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpOb09D10KwrKriDKRfevLj7+HDrSz9mNvDhpr48RTRM2yQ@mail.gmail.com>

Nikhil,

You should ask the dotspatial community on how to perform the pan/zoom
operations.

To select a feature with a particular RCID, you can set an attribute filter
on that particular layer and request the next feature. Since the RCID value
is unique, you will get the only feature. You have to read the geometry in
that feature and then zoom/pan to that location.

On Fri, Oct 19, 2012 at 3:20 PM, Nikhil Sai Parupalli <
nikhil.parupalli at iictechnologies.com> wrote:

>  Hi
>
>  I am developing an application which has dotspatial map control do
> display S57 dataset.
> Here it is displaying fine but I have to write a code where user should be
> navigated to particular coordinates when clicking and RCID(it has
> coordinate information).
> If you have worked on similar type of thing do share me some idea.
>
>
>
>  Thanks and Regards
> Nikhil Sai Parupalli
>
>
>
> Note: Do not print this email until and unless it is really required.
> Save paper , stay Green
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/92712cc9/attachment.html>

From jankidodiya at gmail.com  Fri Oct 19 03:36:10 2012
From: jankidodiya at gmail.com (Janki Dodiya)
Date: Fri, 19 Oct 2012 12:36:10 +0200
Subject: [gdal-dev] convert ENVI format dsm into Mesh
Message-ID: <CAA1noGwMgze-8FG2nSyhvdGH2BaR_47Jzwm=t1qSjeiz4WfXxg@mail.gmail.com>

Hi all,

I have a raw DSM in ENVI format and i was wondering if there is a way to
select a patch or region out of it and convert it into a polygon mesh. Does
GDAL support this?

Regards,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/8b65f90f/attachment.html>

From jcurru at yahoo.es  Fri Oct 19 05:32:05 2012
From: jcurru at yahoo.es (jcurru)
Date: Fri, 19 Oct 2012 05:32:05 -0700 (PDT)
Subject: [gdal-dev] Problem using image bands
Message-ID: <1350649925132-5009873.post@n6.nabble.com>

Hello!

I have a problem reading an ECW image. I want to read the image using only
the first band. So I use:
int bmap[3] = {1,1,1};
		GDALImage->RasterIO(
			GF_Read,
			x,       		// int nXOff,
			y,       		// int nYOff,
			dx, 	     	// int nXSize,
			dy, 	     	// int nXSize,
			buffer,		 	// void* pData,
			xBufSize,       // int nBufXSize,
			yBufSize,       // int nBufYSize,
			GDT_Byte,	 	// GDALDataType eBufType,
			3,			 	// int nBandCount,
			bmap,		 	// int* panBandMap,
			3,			 	// int nPixelSpace,
			xBufSize * 3,   // int nLineSpace,
			1			 	// int nBandSpace
			);
This is working well with some ECW images (they show as grayscale) but it
does not with another, big ECW. It shows in full RGB color, exactly the same
as if I had written int bmap[3] = {1,2,3};

Any idea?
Thanks in advance!



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Problem-using-image-bands-tp5009873.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Fri Oct 19 05:41:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 19 Oct 2012 14:41:59 +0200
Subject: [gdal-dev] Problem using image bands
In-Reply-To: <1350649925132-5009873.post@n6.nabble.com>
References: <1350649925132-5009873.post@n6.nabble.com>
Message-ID: <1350650519.50814a97c1c56@imp.free.fr>

Selon jcurru <jcurru at yahoo.es>:

> Hello!
>
> I have a problem reading an ECW image. I want to read the image using only
> the first band. So I use:
> int bmap[3] = {1,1,1};
> 		GDALImage->RasterIO(
> 			GF_Read,
> 			x,       		// int nXOff,
> 			y,       		// int nYOff,
> 			dx, 	     	// int nXSize,
> 			dy, 	     	// int nXSize,
> 			buffer,		 	// void* pData,
> 			xBufSize,       // int nBufXSize,
> 			yBufSize,       // int nBufYSize,
> 			GDT_Byte,	 	// GDALDataType eBufType,
> 			3,			 	// int nBandCount,
> 			bmap,		 	// int* panBandMap,
> 			3,			 	// int nPixelSpace,
> 			xBufSize * 3,   // int nLineSpace,
> 			1			 	// int nBandSpace
> 			);
> This is working well with some ECW images (they show as grayscale) but it
> does not with another, big ECW. It shows in full RGB color, exactly the same
> as if I had written int bmap[3] = {1,2,3};

I suppose you are using the 3.3 version of the ECW SDK ? Then, it is a known
issue in the SDK itself. See http://trac.osgeo.org/gdal/ticket/4234 . A work
around has been committed in the GDAL 2.0dev version just a few days ago.

For currently released GDAL versions, if you only want to read one band, you
could just use RasterIO() on the band object, instead of the whole dataset. If
you need to read it into a RGB buffer, you just need to keep the pixel space and
line space you've used in the above call, and after calling RasterIO() on the
band, do a loop to copy each buffer[3*i] value into buffer[3*i+1] and
buffer[3*i+2]

>
> Any idea?
> Thanks in advance!
>
>
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/Problem-using-image-bands-tp5009873.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From jcurru at yahoo.es  Fri Oct 19 06:45:55 2012
From: jcurru at yahoo.es (jcurru)
Date: Fri, 19 Oct 2012 06:45:55 -0700 (PDT)
Subject: [gdal-dev] Problem using image bands
In-Reply-To: <1350650519.50814a97c1c56@imp.free.fr>
References: <1350649925132-5009873.post@n6.nabble.com>
	<1350650519.50814a97c1c56@imp.free.fr>
Message-ID: <1350654355831-5009877.post@n6.nabble.com>

Ouch!

Thank you very much, Even. I should have asked sooner, instead of going to
bed at 5 in the morning... :-)
Yes, I have to read into a RGB buffer, but your solution would increase a
lot the loading time for other images that are working well.

I have read this: http://trac.osgeo.org/gdal/changeset/25107. So, do you
recommend me to change the code in ecwdataset.cpp and rebuild the library?

Thanks again!



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Problem-using-image-bands-tp5009873p5009877.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jcurru at yahoo.es  Fri Oct 19 07:12:54 2012
From: jcurru at yahoo.es (jcurru)
Date: Fri, 19 Oct 2012 07:12:54 -0700 (PDT)
Subject: [gdal-dev] Problem using image bands
In-Reply-To: <1350650519.50814a97c1c56@imp.free.fr>
References: <1350649925132-5009873.post@n6.nabble.com>
	<1350650519.50814a97c1c56@imp.free.fr>
Message-ID: <1350652870.61829.YahooMailNeo@web132204.mail.ird.yahoo.com>

Ouch!

Thank you very much, Even. I should have asked sooner, instead of going to bed at 5 in the morning... :-)
Yes, I have to read into a RGB buffer, but your solution would increase a lot the loading time for other images that are working well.

I have read this:?http://trac.osgeo.org/gdal/changeset/25107. So, do you recommend me to change the code in ecwdataset.cpp and rebuild the library?

Thanks again!
?
Jos? Antonio Carmena Flores


>________________________________
> De: Even Rouault [via OSGeo.org] <ml-node+s1560n5009874h37 at n6.nabble.com>
>Para: jcurru <jcurru at yahoo.es> 
>Enviado: Viernes 19 de octubre de 2012 14:42
>Asunto: Re: Problem using image bands
> 
>
>Selon jcurru <[hidden email]>: 
>
>
>> Hello! 
>> 
>> I have a problem reading an ECW image. I want to read the image using only 
>> the first band. So I use: 
>> int bmap[3] = {1,1,1}; 
>> 		GDALImage->RasterIO( 
>> 			GF_Read, 
>> 			x, ? ? ? 		// int nXOff, 
>> 			y, ? ? ? 		// int nYOff, 
>> 			dx, 	 ? ? 	// int nXSize, 
>> 			dy, 	 ? ? 	// int nXSize, 
>> 			buffer,		 	// void* pData, 
>> 			xBufSize, ? ? ? // int nBufXSize, 
>> 			yBufSize, ? ? ? // int nBufYSize, 
>> 			GDT_Byte,	 	// GDALDataType eBufType, 
>> 			3,			 	// int nBandCount, 
>> 			bmap,		 	// int* panBandMap, 
>> 			3,			 	// int nPixelSpace, 
>> 			xBufSize * 3, ? // int nLineSpace, 
>> 			1			 	// int nBandSpace 
>> 			); 
>> This is working well with some ECW images (they show as grayscale) but it 
>> does not with another, big ECW. It shows in full RGB color, exactly the same 
>> as if I had written int bmap[3] = {1,2,3}; 
>I suppose you are using the 3.3 version of the ECW SDK ? Then, it is a known 
>issue in the SDK itself. See http://trac.osgeo.org/gdal/ticket/4234?. A work 
>around has been committed in the GDAL 2.0dev version just a few days ago. 
>
>For currently released GDAL versions, if you only want to read one band, you 
>could just use RasterIO() on the band object, instead of the whole dataset. If 
>you need to read it into a RGB buffer, you just need to keep the pixel space and 
>line space you've used in the above call, and after calling RasterIO() on the 
>band, do a loop to copy each buffer[3*i] value into buffer[3*i+1] and 
>buffer[3*i+2] 
>
>
>> 
>> Any idea? 
>> Thanks in advance! 
>> 
>> 
>> 
>> -- 
>> View this message in context: 
>> http://osgeo-org.1560.n6.nabble.com/Problem-using-image-bands-tp5009873.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com. 
>> _______________________________________________ 
>> gdal-dev mailing list 
>> [hidden email] 
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>
>_______________________________________________ 
>gdal-dev mailing list 
>[hidden email] 
>http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>>________________________________
> 
>If you reply to this email, your message will be added to the discussion below:http://osgeo-org.1560.n6.nabble.com/Problem-using-image-bands-tp5009873p5009874.html 
>To unsubscribe from Problem using image bands, click here.
>NAML 
>
>



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Problem-using-image-bands-tp5009873p5009885.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/328d0f9b/attachment.html>

From jcurru at yahoo.es  Fri Oct 19 07:41:14 2012
From: jcurru at yahoo.es (jcurru)
Date: Fri, 19 Oct 2012 07:41:14 -0700 (PDT)
Subject: [gdal-dev] Unable to create OGRSpatialReference
Message-ID: <1350657674207-5009903.post@n6.nabble.com>

Hello!

I have an old problem with TOWGS84 and OGRSpatialReference. Most likely it's
because I'm no expert in GDAL. It is important for my project, and limits
many of its capabilities. The fact is that, for unknown reasons (to me),
proj4 does not do well conversions between coordinate system if there are
not a TOWGS84 nodes inside the OGRSpatialReference(s).

First of all: is this so? Do I really need that node? If not properly added,
clearly some conversions fail.

I continue: Imagine getting an OGRSpatialReference a shapefile or a TIF. To
assign the node TOWGS84, what I do is look into the file "EPSG", found in
many sites related to GDAL, that contains a list of EPSGs with corresponding
parameters. Knowing the EPSG, I can generate the TOWGS84 node smoothly.

The problem comes when I do not know the OGRSpatialReference?s EPSG,
something very common: AutoIdentifyEPSG () gets nothing most of the time, at
least with the systems in which I work.

So what to do then? I need the TOWGS84 node but, with my knowledge, I can
only get it from the EPSG.

Many thanks in advance.




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Unable-to-create-OGRSpatialReference-tp5009903.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Fri Oct 19 11:35:08 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 19 Oct 2012 20:35:08 +0200
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <1350657674207-5009903.post@n6.nabble.com>
References: <1350657674207-5009903.post@n6.nabble.com>
Message-ID: <201210192035.08269.even.rouault@mines-paris.org>

Le vendredi 19 octobre 2012 16:41:14, jcurru a ?crit :
> Hello!
> 
> I have an old problem with TOWGS84 and OGRSpatialReference. Most likely
> it's because I'm no expert in GDAL. It is important for my project, and
> limits many of its capabilities. The fact is that, for unknown reasons (to
> me), proj4 does not do well conversions between coordinate system if there
> are not a TOWGS84 nodes inside the OGRSpatialReference(s).
> 
> First of all: is this so? Do I really need that node? If not properly
> added, clearly some conversions fail.

The best is to point you to some reference documentation :

http://trac.osgeo.org/proj/wiki/GenParms#towgs84-DatumtransformationtoWGS84
http://docs.geotools.org/stable/javadocs/org/opengis/referencing/doc-
files/WKT.html#TOWGS84

> 
> I continue: Imagine getting an OGRSpatialReference a shapefile or a TIF. To
> assign the node TOWGS84, what I do is look into the file "EPSG", found in
> many sites related to GDAL, that contains a list of EPSGs with
> corresponding parameters. Knowing the EPSG, I can generate the TOWGS84
> node smoothly.
> 
> The problem comes when I do not know the OGRSpatialReference?s EPSG,
> something very common: AutoIdentifyEPSG () gets nothing most of the time,
> at least with the systems in which I work.
> 
> So what to do then? I need the TOWGS84 node but, with my knowledge, I can
> only get it from the EPSG.

This is indeed a difficulty that is not easily solved. The WKT in .prj that come 
alongside with shapefiles is in ESRI WKT that stripps TOWGS84 information. And 
most geotiff don't include TOWGS84 : the GeoTIFF format has only been extended 
very recently to convey TOWGS84 : 
http://trac.osgeo.org/geotiff/wiki/TOWGS84GeoKey

And indeed AutoIdentifyEPSG() only works a few common cases, mainly EPSG:4326, 
EPSG:326XX & EPSG:327XX (WGS84 UTM projections), EPSG:267XX (NAD27 UTM 
projections) and EPSG:269XX (NAD83 UTM projections).

From pwillis at aslenv.com  Fri Oct 19 11:41:16 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 19 Oct 2012 11:41:16 -0700
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI header
Message-ID: <002a01cdae29$52f80310$f8e80930$@aslenv.com>

Hello,

I have a curious problem with 'gdalinfo'   (gdal version 1.9.0 ).

I have an input ENVI file with the following .HDR entry:

 data ignore value = -9.99000000e+002

gdalinfo for the IMG file provides stats that exclude all values  -999.0 as
expected.

I then create a masked output file using 'gdal_rasterize' from that input
file once again using -999.0 as the mask value.
'gdal_rasterize' produces an ENVI format output with an accompanying .HDR
file.

The resulting 'gdal_rasterize' HDR  *does not* contain the previous 'data
ignore value'  entry. This is something that should 
be fixed in future versions of that utility. The work around is, of course,
to simply concatenate the 'data ignore value'
to the end of the HDR file. This is a quick step:

echo ""  >> myfile.hdr
echo "data ignore value = -9.99000000+e2"  >> myfile.hdr 
echo ""  >> myfile.hdr

[NOTE: There are some other issues with ENVI HDR generation in GDAL that
should also be addressed but I won't go into those here.]

PROBLEM: 
gdalinfo does not parse the value for the concatenated header entry if it is
placed at the end of the HDR file.
In fact, the HDR file may be edited to move the entry to a location near the
top of the file whereby it remains unacknowledged by gdalinfo.

QUESTION:
Does gdalinfo expect the header entries to be in a specific order?

I have appended some parsing information to the end of this email.
You are probably aware of most, if not all, of this information.

Thanks,

Peter


------ENVI TEXT HEADERS-------

The ENVI header file is not an 'ordered' data file. 
The entries may appear in any order. 
The generic format for entries is:

<NAME> = <VALUE>[EOL]


Equals  '='  normally appears on the same line as <NAME> without intervening
carriage return characters.
It is normal for '=' to be preceded by one space character although not
necessary.  
Equals  '=' is considered to be the primary delimiter between <NAME>  and
<VALUE>.

---NAMES---
'<Name>'  may be any string without carriage returns, and the <NAME> may
include space characters.

All names (and values) are trimmed of preceding and trailing white space
characters at parse time.
TAB    '\t'  is not normally used as whitespace but is parsed as though it
were a space ' ' character.

---VALUES---

'<VALUE>'  may be a singular value (ie: a number or a string with no
whitespace ) or a 'list'  bounded by curly braces  { }. 

Examples of singular string values would be:

Interleave = BSQ
Sensor type = Unknown
Wavelength units = nanometers

where 'BSQ' , 'Unknown', and 'nanometers' are singular strings containing no
whitespace characters.

In the context of the <VALUE> strings containing necessary whitespace should
be encoded as a list. String values may contain carriage return characters.
The comma ','  is considered to 
be the default delimiter for list type data.

Ie: 

My List = {   some string data ,  another string data , yet another data
string , 
 etc data strings ad infinitum 
 }


Number formats associated with <VALUE>

Singular Integers:

My Integer = 9
My Integer = -99
My Integer = 0

Singular Reals:

My Real =  0.9
My Real =  .9
My Real =  -9.000000000+e8

Lists of numbers:

My Integer List = {
	1 , 2 , 3,  4 , 5 , 6
}

My Real List = {
	1.0 , -2.00e+2 , 3.0e-4,  4.0 , .5 , 6.00001
}





From even.rouault at mines-paris.org  Fri Oct 19 11:52:50 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 19 Oct 2012 20:52:50 +0200
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
Message-ID: <201210192052.50430.even.rouault@mines-paris.org>

Le vendredi 19 octobre 2012 20:41:16, Peter Willis a ?crit :
> Hello,
> 
> I have a curious problem with 'gdalinfo'   (gdal version 1.9.0 ).
> 
> I have an input ENVI file with the following .HDR entry:
> 
>  data ignore value = -9.99000000e+002
> 
> gdalinfo for the IMG file provides stats that exclude all values  -999.0 as
> expected.
> 
> I then create a masked output file using 'gdal_rasterize' from that input
> file once again using -999.0 as the mask value.
> 'gdal_rasterize' produces an ENVI format output with an accompanying .HDR
> file.

There's indeed no support currently in the ENVI driver to write the "data 
ignore value" field.

> 
> The resulting 'gdal_rasterize' HDR  *does not* contain the previous 'data
> ignore value'  entry. This is something that should
> be fixed in future versions of that utility. The work around is, of course,
> to simply concatenate the 'data ignore value'
> to the end of the HDR file. This is a quick step:
> 
> echo ""  >> myfile.hdr
> echo "data ignore value = -9.99000000+e2"  >> myfile.hdr
> echo ""  >> myfile.hdr

I've tried that and this worked for me. Perhaps you could send your myfile.hdr 
?

From jcurru at yahoo.es  Fri Oct 19 12:09:03 2012
From: jcurru at yahoo.es (jcurru)
Date: Fri, 19 Oct 2012 12:09:03 -0700 (PDT)
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <201210192035.08269.even.rouault@mines-paris.org>
References: <1350657674207-5009903.post@n6.nabble.com>
	<201210192035.08269.even.rouault@mines-paris.org>
Message-ID: <1350673743824-5009950.post@n6.nabble.com>

Thank you again, Even.

Well, I've taken a look at the documentation you mention, but no answers
there, just an explanation about wgsto84 parameters and a proposal for
extending the geotiff standard in order to embed the famous parameter. I
guess that if you don't say "oh man, didn' you know this famous trick...?"
is because the trick does not exist. So, before I continue wasting your
time, would you be so kind to answer this two questions? (yes/no will be
enough)

1) Do I need the towgs84 parameters to properly do transformations between
coordinate systems using proj4?
2) The only way to obtain that parameter is by using the "epsg" file, and
therefore I MUST know the EPSG?

Thak you!




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Unable-to-create-OGRSpatialReference-tp5009903p5009950.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From warmerdam at pobox.com  Fri Oct 19 12:17:16 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 19 Oct 2012 12:17:16 -0700
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <1350657674207-5009903.post@n6.nabble.com>
References: <1350657674207-5009903.post@n6.nabble.com>
Message-ID: <CA+YzLBcGYTx_tEUiWARWvu9wXHbGswP-=7Pt2KKytdnSMNtZhg@mail.gmail.com>

On Fri, Oct 19, 2012 at 7:41 AM, jcurru <jcurru at yahoo.es> wrote:

> Hello!
>
> I have an old problem with TOWGS84 and OGRSpatialReference. Most likely
> it's
> because I'm no expert in GDAL. It is important for my project, and limits
> many of its capabilities. The fact is that, for unknown reasons (to me),
> proj4 does not do well conversions between coordinate system if there are
> not a TOWGS84 nodes inside the OGRSpatialReference(s).
>
> First of all: is this so? Do I really need that node? If not properly
> added,
> clearly some conversions fail.
>

JCurru,

PROJ.4 should still handle reprojection for coordinate systems without
a TOWGS84 or other datum relationship to WGS84 *but* it will ignore
datum shifting if the source and destination coordinate system do not
have well defined relationships to WGS84.  So the results will (often)
be somewhat inaccurate.  How big an issue this is will depend on your
application and the typical coordinate systems you work with.


> I continue: Imagine getting an OGRSpatialReference a shapefile or a TIF. To
> assign the node TOWGS84, what I do is look into the file "EPSG", found in
> many sites related to GDAL, that contains a list of EPSGs with
> corresponding
> parameters. Knowing the EPSG, I can generate the TOWGS84 node smoothly.
>
> The problem comes when I do not know the OGRSpatialReference?s EPSG,
> something very common: AutoIdentifyEPSG () gets nothing most of the time,
> at
> least with the systems in which I work.
>
> So what to do then? I need the TOWGS84 node but, with my knowledge, I can
> only get it from the EPSG.
>

If you want to handle a datum shift properly and you don't know how
the datum of your coordinate system relates to WGS84 then you are
essentially out of luck.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/74c299d6/attachment.html>

From pwillis at aslenv.com  Fri Oct 19 13:23:49 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 19 Oct 2012 13:23:49 -0700
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <201210192052.50430.even.rouault@mines-paris.org>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192052.50430.even.rouault@mines-paris.org>
Message-ID: <003401cdae37$a65735e0$f305a1a0$@aslenv.com>

Hello,

I am providing the failed example followed by a working example.
Let me know if there is any additional information you need.

Thanks,

Peter


------The Failed Header Sample------
ENVI
description = {
/web2-disk1/PR762/landsat/cubes/96_98/LSatThermalCube_96-98_float_cmsk_landm
asked_ll.img}
samples = 2178
lines   = 1841
bands   = 49
header offset = 0
file type = ENVI Standard
data type = 4
interleave = bsq
byte order = 0
map info = {Geographic Lat/Lon, 1, 1, -124.258818822249, 51.6708415299984,
0.000337173258151718, 0.000337173258151718,WGS-84}
wavelength units = Unknown
data ignore value = -9.99000000e+002
band names = {
Band 1,
Band 2,
Band 3,
Band 4,
Band 5,
Band 6,
Band 7,
Band 8,
Band 9,
Band 10,
Band 11,
Band 12,
Band 13,
Band 14,
Band 15,
Band 16,
Band 17,
Band 18,
Band 19,
Band 20,
Band 21,
Band 22,
Band 23,
Band 24,
Band 25,
Band 26,
Band 27,
Band 28,
Band 29,
Band 30,
Band 31,
Band 32,
Band 33,
Band 34,
Band 35,
Band 36,
Band 37,
Band 38,
Band 39,
Band 40,
Band 41,
Band 42,
Band 43,
Band 44,
Band 45,
Band 46,
Band 47,
Band 48,
Band 49}



------The Working Header Sample------

ENVI
description = {
  Band Math Result, Expression = [(float(b2 gt 0.0) * b1) + (float(b2 eq
0.0)*
  (-999.0))] B1:LSatThermalCube_96-98_float_cmsk.img
  B2:LSatThermalCube_96-98_float_cmsk_multi_channel_mask.img [Thu Oct 18
  10:12:05 2012]}
samples = 1677
lines   = 2281
bands   = 49
header offset = 0
file type = ENVI Standard
data type = 4
interleave = bsq
sensor type = Unknown
byte order = 0
map info = {UTM, 1.000, 1.000, 412940.000, 5724563.000, 3.0000000000e+001,
3.0000000000e+001, 10, North, WGS-84, units=Meters}
wavelength units = Unknown
data ignore value = -9.99000000e+002
pixel size = {3.00000000e+001, 3.00000000e+001, units=Meters}
band names = {
 Band Math (Band Math (Band Math (1996_088 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_104 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_111 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_120 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_136 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_152 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_159 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_168 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_191 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_200 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_207 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_216 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_223 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_232 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_239 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_255 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_280 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1996_303 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_097 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_106 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_122 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_129 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_145 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_161 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_170 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_177 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_193 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_209 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_218 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_225 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_234 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_250 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1997_266 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_077 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_093 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_109 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_125 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_132 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_141 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_148 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_157 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_164 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_189 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_205 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_212 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_221 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_260 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_269 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img),
 Band Math (Band Math (Band Math (1998_292 Landsat-4/5 TM :Surface
Temperature
Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThe
rmalCube_96-98_float_cmsk.img)}
coordinate system string = {
 PROJCS["UTM_Zone_10N", GEOGCS["GCS_WGS_1984", DATUM["D_WGS_1984",
 SPHEROID["WGS_1984", 6378137.0, 298.257223563]], PRIMEM["Greenwich", 0.0],
 UNIT["Degree", 0.0174532925199433]], PROJECTION["Transverse_Mercator"],
 PARAMETER["False_Easting", 500000.0], PARAMETER["False_Northing", 0.0],
 PARAMETER["Central_Meridian", -123.0], PARAMETER["Scale_Factor", 0.9996],
 PARAMETER["Latitude_Of_Origin", 0.0], UNIT["Meter", 1.0]]}






-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org] 
Sent: October-19-12 11:53 AM
To: gdal-dev at lists.osgeo.org
Cc: Peter Willis
Subject: Re: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
header

Le vendredi 19 octobre 2012 20:41:16, Peter Willis a ?crit :
> Hello,
> 
> I have a curious problem with 'gdalinfo'   (gdal version 1.9.0 ).
> 
> I have an input ENVI file with the following .HDR entry:
> 
>  data ignore value = -9.99000000e+002
> 
> gdalinfo for the IMG file provides stats that exclude all values  
> -999.0 as expected.
> 
> I then create a masked output file using 'gdal_rasterize' from that 
> input file once again using -999.0 as the mask value.
> 'gdal_rasterize' produces an ENVI format output with an accompanying 
> .HDR file.

There's indeed no support currently in the ENVI driver to write the "data
ignore value" field.

> 
> The resulting 'gdal_rasterize' HDR  *does not* contain the previous 
> 'data ignore value'  entry. This is something that should be fixed in 
> future versions of that utility. The work around is, of course, to 
> simply concatenate the 'data ignore value'
> to the end of the HDR file. This is a quick step:
> 
> echo ""  >> myfile.hdr
> echo "data ignore value = -9.99000000+e2"  >> myfile.hdr echo ""  >> 
> myfile.hdr

I've tried that and this worked for me. Perhaps you could send your
myfile.hdr ?

-------------- next part --------------
A non-text attachment was scrubbed...
Name: LSatThermalCube_96-98_float_cmsk_landmasked.hdr
Type: application/octet-stream
Size: 10336 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/13ec58cd/attachment-0002.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: LSatThermalCube_96-98_float_cmsk_landmasked_ll.hdr
Type: application/octet-stream
Size: 883 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/13ec58cd/attachment-0003.obj>

From even.rouault at mines-paris.org  Fri Oct 19 13:43:37 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 19 Oct 2012 22:43:37 +0200
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <003401cdae37$a65735e0$f305a1a0$@aslenv.com>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192052.50430.even.rouault@mines-paris.org>
	<003401cdae37$a65735e0$f305a1a0$@aslenv.com>
Message-ID: <201210192243.37858.even.rouault@mines-paris.org>

Le vendredi 19 octobre 2012 22:23:49, Peter Willis a ?crit :
> Hello,
> 
> I am providing the failed example followed by a working example.
> Let me know if there is any additional information you need.

With both headers, gdalinfo correctly reports the nodata value... But you 
didn't send the .hdr files you've generated since the "data ignore value" is 
not at their end.

> 
> Thanks,
> 
> Peter
> 
> 
> ------The Failed Header Sample------
> ENVI
> description = {
> /web2-disk1/PR762/landsat/cubes/96_98/LSatThermalCube_96-98_float_cmsk_land
> m asked_ll.img}
> samples = 2178
> lines   = 1841
> bands   = 49
> header offset = 0
> file type = ENVI Standard
> data type = 4
> interleave = bsq
> byte order = 0
> map info = {Geographic Lat/Lon, 1, 1, -124.258818822249, 51.6708415299984,
> 0.000337173258151718, 0.000337173258151718,WGS-84}
> wavelength units = Unknown
> data ignore value = -9.99000000e+002
> band names = {
> Band 1,
> Band 2,
> Band 3,
> Band 4,
> Band 5,
> Band 6,
> Band 7,
> Band 8,
> Band 9,
> Band 10,
> Band 11,
> Band 12,
> Band 13,
> Band 14,
> Band 15,
> Band 16,
> Band 17,
> Band 18,
> Band 19,
> Band 20,
> Band 21,
> Band 22,
> Band 23,
> Band 24,
> Band 25,
> Band 26,
> Band 27,
> Band 28,
> Band 29,
> Band 30,
> Band 31,
> Band 32,
> Band 33,
> Band 34,
> Band 35,
> Band 36,
> Band 37,
> Band 38,
> Band 39,
> Band 40,
> Band 41,
> Band 42,
> Band 43,
> Band 44,
> Band 45,
> Band 46,
> Band 47,
> Band 48,
> Band 49}
> 
> 
> 
> ------The Working Header Sample------
> 
> ENVI
> description = {
>   Band Math Result, Expression = [(float(b2 gt 0.0) * b1) + (float(b2 eq
> 0.0)*
>   (-999.0))] B1:LSatThermalCube_96-98_float_cmsk.img
>   B2:LSatThermalCube_96-98_float_cmsk_multi_channel_mask.img [Thu Oct 18
>   10:12:05 2012]}
> samples = 1677
> lines   = 2281
> bands   = 49
> header offset = 0
> file type = ENVI Standard
> data type = 4
> interleave = bsq
> sensor type = Unknown
> byte order = 0
> map info = {UTM, 1.000, 1.000, 412940.000, 5724563.000, 3.0000000000e+001,
> 3.0000000000e+001, 10, North, WGS-84, units=Meters}
> wavelength units = Unknown
> data ignore value = -9.99000000e+002
> pixel size = {3.00000000e+001, 3.00000000e+001, units=Meters}
> band names = {
>  Band Math (Band Math (Band Math (1996_088 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_104 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_111 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_120 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_136 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_152 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_159 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_168 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_191 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_200 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_207 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_216 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_223 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_232 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_239 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_255 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_280 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_303 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_097 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_106 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_122 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_129 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_145 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_161 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_170 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_177 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_193 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_209 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_218 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_225 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_234 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_250 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_266 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_077 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_093 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_109 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_125 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_132 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_141 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_148 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_157 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_164 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_189 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_205 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_212 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_221 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_260 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_269 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_292 Landsat-4/5 TM :Surface
> Temperature
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatTh
> e rmalCube_96-98_float_cmsk.img)}
> coordinate system string = {
>  PROJCS["UTM_Zone_10N", GEOGCS["GCS_WGS_1984", DATUM["D_WGS_1984",
>  SPHEROID["WGS_1984", 6378137.0, 298.257223563]], PRIMEM["Greenwich", 0.0],
>  UNIT["Degree", 0.0174532925199433]], PROJECTION["Transverse_Mercator"],
>  PARAMETER["False_Easting", 500000.0], PARAMETER["False_Northing", 0.0],
>  PARAMETER["Central_Meridian", -123.0], PARAMETER["Scale_Factor", 0.9996],
>  PARAMETER["Latitude_Of_Origin", 0.0], UNIT["Meter", 1.0]]}
> 
> 
> 
> 
> 
> 
> -----Original Message-----
> From: Even Rouault [mailto:even.rouault at mines-paris.org]
> Sent: October-19-12 11:53 AM
> To: gdal-dev at lists.osgeo.org
> Cc: Peter Willis
> Subject: Re: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
> header
> 
> Le vendredi 19 octobre 2012 20:41:16, Peter Willis a ?crit :
> > Hello,
> > 
> > I have a curious problem with 'gdalinfo'   (gdal version 1.9.0 ).
> > 
> > I have an input ENVI file with the following .HDR entry:
> >  data ignore value = -9.99000000e+002
> > 
> > gdalinfo for the IMG file provides stats that exclude all values
> > -999.0 as expected.
> > 
> > I then create a masked output file using 'gdal_rasterize' from that
> > input file once again using -999.0 as the mask value.
> > 'gdal_rasterize' produces an ENVI format output with an accompanying
> > .HDR file.
> 
> There's indeed no support currently in the ENVI driver to write the "data
> ignore value" field.
> 
> > The resulting 'gdal_rasterize' HDR  *does not* contain the previous
> > 'data ignore value'  entry. This is something that should be fixed in
> > future versions of that utility. The work around is, of course, to
> > simply concatenate the 'data ignore value'
> > to the end of the HDR file. This is a quick step:
> > 
> > echo ""  >> myfile.hdr
> > echo "data ignore value = -9.99000000+e2"  >> myfile.hdr echo ""  >>
> > myfile.hdr
> 
> I've tried that and this worked for me. Perhaps you could send your
> myfile.hdr ?

From pwillis at aslenv.com  Fri Oct 19 13:57:13 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 19 Oct 2012 13:57:13 -0700
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <201210192243.37858.even.rouault@mines-paris.org>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192052.50430.even.rouault@mines-paris.org>
	<003401cdae37$a65735e0$f305a1a0$@aslenv.com>
	<201210192243.37858.even.rouault@mines-paris.org>
Message-ID: <003e01cdae3c$50c65b60$f2531220$@aslenv.com>

Hello,

The one listed as 'failed'  actually fails for me as it is sent .

I was experimenting by moving the value near the top of the file.
It continues to fail whether the entry is at the bottom of the file
Or where it appears in the sample that I sent to you.

Could it be a line feeds issue?
I haven't tried running unix2dos/dos2unix against the HDR files.

Does the program mind if the EOL are \13\10  vs. \10  ?

Best Regards,

Peter


-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org] 
Sent: October-19-12 1:44 PM
To: gdal-dev at lists.osgeo.org
Cc: Peter Willis
Subject: Re: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI header

Le vendredi 19 octobre 2012 22:23:49, Peter Willis a ?crit :
> Hello,
> 
> I am providing the failed example followed by a working example.
> Let me know if there is any additional information you need.

With both headers, gdalinfo correctly reports the nodata value... But you didn't send the .hdr files you've generated since the "data ignore value" is not at their end.

> 
> Thanks,
> 
> Peter
> 
> 
> ------The Failed Header Sample------
> ENVI
> description = {
> /web2-disk1/PR762/landsat/cubes/96_98/LSatThermalCube_96-98_float_cmsk
> _land
> m asked_ll.img}
> samples = 2178
> lines   = 1841
> bands   = 49
> header offset = 0
> file type = ENVI Standard
> data type = 4
> interleave = bsq
> byte order = 0
> map info = {Geographic Lat/Lon, 1, 1, -124.258818822249, 
> 51.6708415299984, 0.000337173258151718, 0.000337173258151718,WGS-84} 
> wavelength units = Unknown data ignore value = -9.99000000e+002 band 
> names = { Band 1, Band 2, Band 3, Band 4, Band 5, Band 6, Band 7, Band 
> 8, Band 9, Band 10, Band 11, Band 12, Band 13, Band 14, Band 15, Band 
> 16, Band 17, Band 18, Band 19, Band 20, Band 21, Band 22, Band 23, 
> Band 24, Band 25, Band 26, Band 27, Band 28, Band 29, Band 30, Band 
> 31, Band 32, Band 33, Band 34, Band 35, Band 36, Band 37, Band 38, 
> Band 39, Band 40, Band 41, Band 42, Band 43, Band 44, Band 45, Band 
> 46, Band 47, Band 48, Band 49}
> 
> 
> 
> ------The Working Header Sample------
> 
> ENVI
> description = {
>   Band Math Result, Expression = [(float(b2 gt 0.0) * b1) + (float(b2 
> eq
> 0.0)*
>   (-999.0))] B1:LSatThermalCube_96-98_float_cmsk.img
>   B2:LSatThermalCube_96-98_float_cmsk_multi_channel_mask.img [Thu Oct 18
>   10:12:05 2012]}
> samples = 1677
> lines   = 2281
> bands   = 49
> header offset = 0
> file type = ENVI Standard
> data type = 4
> interleave = bsq
> sensor type = Unknown
> byte order = 0
> map info = {UTM, 1.000, 1.000, 412940.000, 5724563.000, 
> 3.0000000000e+001, 3.0000000000e+001, 10, North, WGS-84, units=Meters} 
> wavelength units = Unknown data ignore value = -9.99000000e+002 pixel 
> size = {3.00000000e+001, 3.00000000e+001, units=Meters} band names = {  
> Band Math (Band Math (Band Math (1996_088 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_104 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_111 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_120 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_136 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_152 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_159 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_168 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_191 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_200 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_207 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_216 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_223 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_232 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_239 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_255 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_280 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1996_303 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_097 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_106 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_122 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_129 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_145 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_161 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_170 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_177 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_193 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_209 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_218 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_225 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_234 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_250 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1997_266 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_077 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_093 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_109 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_125 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_132 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_141 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_148 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_157 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_164 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_189 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_205 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_212 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_221 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_260 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_269 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img),
>  Band Math (Band Math (Band Math (1998_292 Landsat-4/5 TM :Surface 
> Temperature 
> Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):L
> SatTh
> e rmalCube_96-98_float_cmsk.img)}
> coordinate system string = {
>  PROJCS["UTM_Zone_10N", GEOGCS["GCS_WGS_1984", DATUM["D_WGS_1984",  
> SPHEROID["WGS_1984", 6378137.0, 298.257223563]], PRIMEM["Greenwich", 
> 0.0],  UNIT["Degree", 0.0174532925199433]], 
> PROJECTION["Transverse_Mercator"],
>  PARAMETER["False_Easting", 500000.0], PARAMETER["False_Northing", 
> 0.0],  PARAMETER["Central_Meridian", -123.0], 
> PARAMETER["Scale_Factor", 0.9996],  PARAMETER["Latitude_Of_Origin", 
> 0.0], UNIT["Meter", 1.0]]}
> 
> 
> 
> 
> 
> 
> -----Original Message-----
> From: Even Rouault [mailto:even.rouault at mines-paris.org]
> Sent: October-19-12 11:53 AM
> To: gdal-dev at lists.osgeo.org
> Cc: Peter Willis
> Subject: Re: [gdal-dev] gdalinfo -stats Misses invalid data value in 
> ENVI header
> 
> Le vendredi 19 octobre 2012 20:41:16, Peter Willis a ?crit :
> > Hello,
> > 
> > I have a curious problem with 'gdalinfo'   (gdal version 1.9.0 ).
> > 
> > I have an input ENVI file with the following .HDR entry:
> >  data ignore value = -9.99000000e+002
> > 
> > gdalinfo for the IMG file provides stats that exclude all values
> > -999.0 as expected.
> > 
> > I then create a masked output file using 'gdal_rasterize' from that 
> > input file once again using -999.0 as the mask value.
> > 'gdal_rasterize' produces an ENVI format output with an accompanying 
> > .HDR file.
> 
> There's indeed no support currently in the ENVI driver to write the 
> "data ignore value" field.
> 
> > The resulting 'gdal_rasterize' HDR  *does not* contain the previous 
> > 'data ignore value'  entry. This is something that should be fixed 
> > in future versions of that utility. The work around is, of course, 
> > to simply concatenate the 'data ignore value'
> > to the end of the HDR file. This is a quick step:
> > 
> > echo ""  >> myfile.hdr
> > echo "data ignore value = -9.99000000+e2"  >> myfile.hdr echo ""  >> 
> > myfile.hdr
> 
> I've tried that and this worked for me. Perhaps you could send your 
> myfile.hdr ?



From jcurru at yahoo.es  Fri Oct 19 14:00:17 2012
From: jcurru at yahoo.es (jcurru)
Date: Fri, 19 Oct 2012 14:00:17 -0700 (PDT)
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <CA+YzLBcGYTx_tEUiWARWvu9wXHbGswP-=7Pt2KKytdnSMNtZhg@mail.gmail.com>
References: <1350657674207-5009903.post@n6.nabble.com>
	<CA+YzLBcGYTx_tEUiWARWvu9wXHbGswP-=7Pt2KKytdnSMNtZhg@mail.gmail.com>
Message-ID: <1350680417792-5009971.post@n6.nabble.com>

Frank,

First of all let me tell you thanks for your work. Thanks is not enough but
my poor english would put me in troubles if I tried to say something more
complicated. And thank you very much for your answer. Getting help from you
from the other side of the ocean (I live in Madrid, Spain) is a honor.

I am not an expert in GIS, but despite of it I am writting a big GIS
application. My colleages are supposed to be, but they have been unable to
give me a solution to this subject, so, please, be so kind to tell me if
this is ok:

Ignoring the towgs84 parameters has proved to give bad results when
transforming coordinate systems using proj4, even working with standard
systems like ETRS89 (used in Spain) or ED50. Giving the correct towgs84
parameter the errors dissapeared completely.

Therefore, I decided to write a descendant from OGRSpatialReference whose
constructors throw exceptions if the towgs84 parameter cannot be found. For
example, there's a constructor that receives an OGRSpatialReference pointer
as argument (obtained, for example, from a shapefile, a tif, a LAS file, etc
using GDAL). My class builds the underlying OGRSpatialReference with that
pointer and then tries to obtain the towgs84 parameter. Somethimes it is
present in the OGRSpatialReference object, most doesn't. Then I try to use
the "epsg." file if I can figure out the EPSG number. If everything fails
then the constructor throws and the program asks for an EPSG to the user.
And this is a pity because "almost all" the information I need is supplied
by GDAL. The program is worst because it's not able to find out the famous
parameter.

You say: "If you want to handle a datum shift properly and you don't know
how the datum of your coordinate system relates to WGS84 then you are
essentially out of luck." The problem is that my application should work
with any projection. I cannot make assumptions or make a list of "supported
projections". My aim is to be able to get the towgs84 parameter whatever
coordinate system the input files are projected into.

I often use other programs to display geospatial information, for example
Global Mapper. It realizes coordinate systems from (for example) shapefiles
without EPSG, and applies transformations correctly. What am I missing?

Sorry for my long message, but I've been overwhelmed with this problem for
two years, and having you across the line gives me a hope. I'm sure there's
a solution because many systems work fine.

So thank you again.
Sincerely yours, 
Jose Antonio.



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Unable-to-create-OGRSpatialReference-tp5009903p5009971.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Fri Oct 19 14:07:56 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 19 Oct 2012 23:07:56 +0200
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <003e01cdae3c$50c65b60$f2531220$@aslenv.com>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192243.37858.even.rouault@mines-paris.org>
	<003e01cdae3c$50c65b60$f2531220$@aslenv.com>
Message-ID: <201210192307.56316.even.rouault@mines-paris.org>

Le vendredi 19 octobre 2012 22:57:13, Peter Willis a ?crit :
> Hello,
> 
> The one listed as 'failed'  actually fails for me as it is sent .

Just to be sure we are talking about the same thing, what do you call "fail" 
exactly ? Is it that gdalinfo doesn't report "NoData Value=-999" for the bands 
?

Just for reference, I've create a fake 
"LSatThermalCube_96-98_float_cmsk_landmasked_ll.img" and  gdalinfo on it 
reports :

Driver: ENVI/ENVI .hdr Labelled
Files: LSatThermalCube_96-98_float_cmsk_landmasked_ll.img
       LSatThermalCube_96-98_float_cmsk_landmasked_ll.hdr
Size is 2178, 1841
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AUTHORITY["EPSG","4326"]]
Origin = (-124.258818822248998,51.670841529998398)
Pixel Size = (0.000337173258152,-0.000337173258152)
Metadata:
[.... cut ....]
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (-124.2588188,  51.6708415) (124d15'31.75"W, 51d40'15.03"N)
Lower Left  (-124.2588188,  51.0501056) (124d15'31.75"W, 51d 3' 0.38"N)
Upper Right (-123.5244555,  51.6708415) (123d31'28.04"W, 51d40'15.03"N)
Lower Right (-123.5244555,  51.0501056) (123d31'28.04"W, 51d 3' 0.38"N)
Center      (-123.8916371,  51.3604735) (123d53'29.89"W, 51d21'37.70"N)
Band 1 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 1
  NoData Value=-999
Band 2 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 2
  NoData Value=-999
[... cut ... ]
Band 49 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 49
  NoData Value=-999

From pwillis at aslenv.com  Fri Oct 19 14:57:01 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 19 Oct 2012 14:57:01 -0700
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <201210192307.56316.even.rouault@mines-paris.org>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192243.37858.even.rouault@mines-paris.org>
	<003e01cdae3c$50c65b60$f2531220$@aslenv.com>
	<201210192307.56316.even.rouault@mines-paris.org>
Message-ID: <003f01cdae44$ab52c570$01f85050$@aslenv.com>

Hello,

When I run :

Gdalinfo -stats  <FILENAME>

One file (success) provides statistics calculated by excluding the no data values.
Ie: min=0.25 max=1234.0 mean=12.0

The other file (failed) provides statistics with -999 calculated into the stats.
Ie: min = -999.0 max=1234.0 mean=-993.0

I have looked at both binary files. Each of the two files contain the mask value.
ENVI loads both files and headers fine and reports the same no data value, for each file, in header info just fine.

I think you could probably model the problem by generating a much smaller file with multiple channels.

The steps happening are as follows:

1.) Original file (IN_IMG) is UTM projection ENVI format 49 bands BSQ, float32

2.) gdalwarp -of ENVI -t_srs "+proj=latlong +datum=WGS84" ${IN_IMG} ${OUT_IMG}

3.) put the data ignore value back in the file:
        echo "" >> $OUT_HDR
        echo "data ignore value = -9.99000000e+002" >> $OUT_HDR

4.) Call gdalinfo for number of bands in original file => $BANDS
5.) loop through bands seq 1 $BANDS => $BAND
          gdal_rasterize  -b $BAND -burn -999 -l ${LAYER_NAME}  ${MASK_SHP} ${OUT_IMG}
6.) gdalinfo -stats ${OUT_IMG}

At step #6,  gdalinfo -stats reports data stats with the -999 values calculated into the min/max/mean/stdev.


Band 2 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 2
  Min=-999.000 Max=12.250
  Minimum=-999.000, Maximum=12.250, Mean=-946.817, StdDev=222.404
  NoData Value=-999
  Metadata:
    STATISTICS_MINIMUM=-999
    STATISTICS_MAXIMUM=12.25
    STATISTICS_MEAN=-946.81678963104
    STATISTICS_STDDEV=222.4036660914


If I perform gdalinfo -stats on the original UTM file the min/max/mean/stdev  exclude -999 from calculations.    

Band 2 Block=1677x1 Type=Float32, ColorInterp=Undefined
  Description = Band Math (Band Math (Band Math (1996_104 Landsat-4/5 TM :Surface Temperature Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThermalCube_96-98_float_cmsk.img)
  Min=0.250 Max=12.250
  Minimum=0.250, Maximum=12.250, Mean=1.379, StdDev=0.995
  NoData Value=-999
  Metadata:
    STATISTICS_MINIMUM=0.25
    STATISTICS_MAXIMUM=12.25
    STATISTICS_MEAN=1.3787828985307
    STATISTICS_STDDEV=0.99545771926881


I hope this helps. 
Let me know if you need any more information.

Peter


-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org] 
Sent: October-19-12 2:08 PM
To: gdal-dev at lists.osgeo.org
Cc: Peter Willis
Subject: Re: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI header

Le vendredi 19 octobre 2012 22:57:13, Peter Willis a ?crit :
> Hello,
> 
> The one listed as 'failed'  actually fails for me as it is sent .

Just to be sure we are talking about the same thing, what do you call "fail" 
exactly ? Is it that gdalinfo doesn't report "NoData Value=-999" for the bands ?

Just for reference, I've create a fake
"LSatThermalCube_96-98_float_cmsk_landmasked_ll.img" and  gdalinfo on it reports :

Driver: ENVI/ENVI .hdr Labelled
Files: LSatThermalCube_96-98_float_cmsk_landmasked_ll.img
       LSatThermalCube_96-98_float_cmsk_landmasked_ll.hdr
Size is 2178, 1841
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AUTHORITY["EPSG","4326"]]
Origin = (-124.258818822248998,51.670841529998398)
Pixel Size = (0.000337173258152,-0.000337173258152)
Metadata:
[.... cut ....]
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (-124.2588188,  51.6708415) (124d15'31.75"W, 51d40'15.03"N) Lower Left  (-124.2588188,  51.0501056) (124d15'31.75"W, 51d 3' 0.38"N) Upper Right (-123.5244555,  51.6708415) (123d31'28.04"W, 51d40'15.03"N) Lower Right (-123.5244555,  51.0501056) (123d31'28.04"W, 51d 3' 0.38"N)
Center      (-123.8916371,  51.3604735) (123d53'29.89"W, 51d21'37.70"N)
Band 1 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 1
  NoData Value=-999
Band 2 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 2
  NoData Value=-999
[... cut ... ]
Band 49 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 49
  NoData Value=-999



From pwillis at aslenv.com  Fri Oct 19 15:06:54 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 19 Oct 2012 15:06:54 -0700
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in
	ENVI	header
In-Reply-To: <003f01cdae44$ab52c570$01f85050$@aslenv.com>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>	<201210192243.37858.even.rouault@mines-paris.org>	<003e01cdae3c$50c65b60$f2531220$@aslenv.com>	<201210192307.56316.even.rouault@mines-paris.org>
	<003f01cdae44$ab52c570$01f85050$@aslenv.com>
Message-ID: <004001cdae46$0c667f40$25337dc0$@aslenv.com>

Hello,

I am seeing that you are correct that the 'no data value'  is being read in each case.
Perhaps my interpretation of the problem appears incorrect.

Look, however at the 'Metadata:' statistics.
Both files have assigned -999 to 'No Data Value'  but    'STATISTICS_MINIMUM' for one file shows -999 (??).
This means the values are not being ignored for the purpose of calculating statistics.

--THE BAD FILE--

Band 2 Block=2178x1 Type=Float32, ColorInterp=Undefined
  Description = Band 2
  Min=-999.000 Max=12.250
  Minimum=-999.000, Maximum=12.250, Mean=-946.817, StdDev=222.404
  NoData Value=-999
  Metadata:
    STATISTICS_MINIMUM=-999
    STATISTICS_MAXIMUM=12.25
    STATISTICS_MEAN=-946.81678963104
    STATISTICS_STDDEV=222.4036660914


---THE GOOD FILE---

Band 2 Block=1677x1 Type=Float32, ColorInterp=Undefined
  Description = Band Math (Band Math (Band Math (1996_104 Landsat-4/5 TM :Surface Temperature Sensor:6:LSatThermalCube_96-98.img):LSatThermalCube_96-98_float.img):LSatThermalCube_96-98_float_cmsk.img)
  Min=0.250 Max=12.250
  Minimum=0.250, Maximum=12.250, Mean=1.379, StdDev=0.995
  NoData Value=-999
  Metadata:
    STATISTICS_MINIMUM=0.25
    STATISTICS_MAXIMUM=12.25
    STATISTICS_MEAN=1.3787828985307
    STATISTICS_STDDEV=0.99545771926881

Note the difference in stats calculations.

Peter




From even.rouault at mines-paris.org  Fri Oct 19 15:10:09 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat, 20 Oct 2012 00:10:09 +0200
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <003f01cdae44$ab52c570$01f85050$@aslenv.com>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192307.56316.even.rouault@mines-paris.org>
	<003f01cdae44$ab52c570$01f85050$@aslenv.com>
Message-ID: <201210200010.09626.even.rouault@mines-paris.org>

Le vendredi 19 octobre 2012 23:57:01, Peter Willis a ?crit :
> Hello,
> 
> At step #6,  gdalinfo -stats reports data stats with the -999 values
> calculated into the min/max/mean/stdev.
> 
> 
> Band 2 Block=2178x1 Type=Float32, ColorInterp=Undefined
>   Description = Band 2
>   Min=-999.000 Max=12.250
>   Minimum=-999.000, Maximum=12.250, Mean=-946.817, StdDev=222.404
>   NoData Value=-999
>   Metadata:
>     STATISTICS_MINIMUM=-999
>     STATISTICS_MAXIMUM=12.25
>     STATISTICS_MEAN=-946.81678963104
>     STATISTICS_STDDEV=222.4036660914
> 

Ok, indeed that's not expected.

Well, perhaps you could first check if there is no .aux.xml file that would 
contain bad values. And if so, delete it before running again gdalinfo -stats. 

Other than that, I've no more idea without having access to the .img file 
itself.

From pwillis at aslenv.com  Fri Oct 19 15:17:10 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 19 Oct 2012 15:17:10 -0700
Subject: [gdal-dev] gdalinfo -stats Misses invalid data value in ENVI
	header
In-Reply-To: <201210200010.09626.even.rouault@mines-paris.org>
References: <002a01cdae29$52f80310$f8e80930$@aslenv.com>
	<201210192307.56316.even.rouault@mines-paris.org>
	<003f01cdae44$ab52c570$01f85050$@aslenv.com>
	<201210200010.09626.even.rouault@mines-paris.org>
Message-ID: <004401cdae47$7bf4bc40$73de34c0$@aslenv.com>

Hello,

Good news. 

Removing the '.aux.xml ' file and again running   gdalinfo -stats    indeed fixes the problem.

I now get the expected statistics values.

Thank you for your help.

Best Regards,

Peter



Le vendredi 19 octobre 2012 23:57:01, Peter Willis a ?crit :
> Hello,
> 
> At step #6,  gdalinfo -stats reports data stats with the -999 values 
> calculated into the min/max/mean/stdev.
> 
> 
> Band 2 Block=2178x1 Type=Float32, ColorInterp=Undefined
>   Description = Band 2
>   Min=-999.000 Max=12.250
>   Minimum=-999.000, Maximum=12.250, Mean=-946.817, StdDev=222.404
>   NoData Value=-999
>   Metadata:
>     STATISTICS_MINIMUM=-999
>     STATISTICS_MAXIMUM=12.25
>     STATISTICS_MEAN=-946.81678963104
>     STATISTICS_STDDEV=222.4036660914
> 

Ok, indeed that's not expected.

Well, perhaps you could first check if there is no .aux.xml file that would contain bad values. And if so, delete it before running again gdalinfo -stats. 

Other than that, I've no more idea without having access to the .img file itself.



From warmerdam at pobox.com  Fri Oct 19 15:40:22 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri, 19 Oct 2012 15:40:22 -0700
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <1350680417792-5009971.post@n6.nabble.com>
References: <1350657674207-5009903.post@n6.nabble.com>
	<CA+YzLBcGYTx_tEUiWARWvu9wXHbGswP-=7Pt2KKytdnSMNtZhg@mail.gmail.com>
	<1350680417792-5009971.post@n6.nabble.com>
Message-ID: <CA+YzLBfTey4sOUJTP0kHtvOf8YGs-WH81dJaVTCF5Sc=p_L+7Q@mail.gmail.com>

On Fri, Oct 19, 2012 at 2:00 PM, jcurru <jcurru at yahoo.es> wrote:

> I often use other programs to display geospatial information, for example
> Global Mapper. It realizes coordinate systems from (for example) shapefiles
> without EPSG, and applies transformations correctly. What am I missing?
>

Jose,

It is hard to answer this very broadly, but it is possible that Global
Mapper
knows how to lookup *ESRI* datum names to find towgs84 parameters.
To some extent we have this information in the system now.  For instance
if you look in gdal_datum.csv, the last column is "ESRI_DATUM_NAME"
and has D_European_1950 for EPSG datum 6230.

The gcs.csv file has a TOWGS84 parameter value for GCS 4230 (which
uses datum 6230).

So in theory given ESRI datum names we ought to be able to (fairly
often) derived a TOWGS84 shift and in fact this should quite possible
be part of the morphFromESRI() process though apparently it is not
now.   It would make it easier to do this if we included the
ESRI_DATUM_NAME field in the gcs.csv file.

So if it is really just the ESRI datum's case that you want to address
lets consider improving the automatic morphing within GDAL/OGR.
I'm willing to help with this.  In fact, digging in the code there seems
to already be some machinery around doing that.  Lets discuss in
more detail the case where it isn't working for you now.

...

OK, I tried:

gdalsrsinfo
ESRI::'GEOGCS["GCS_European_1950",DATUM["D_European_1950",SPHEROID["International_1924",6378388.0,297.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433],AUTHORITY["EPSG",4230]]'

and I get as output:

PROJ.4 : '+proj=longlat +ellps=intl +towgs84=-87,-98,-121,0,0,0,0 +no_defs '

OGC WKT :
GEOGCS["GCS_European_1950",
    DATUM["European_Datum_1950",
        SPHEROID["International_1924",6378388.0,297.0]],
    PRIMEM["Greenwich",0.0],
    UNIT["Degree",0.01745329251994

I'm not really sure where the PROJ.4 string is getting the towgs84
parameters,
but there is no evidence that the ESRI datum name lookup is being used to
get these parameters.  I'm up with fixing this with your support (ie.
testing,
prompting).

I still claim solving the problem widely is not really doable.

Best regards,
Frank



> Sorry for my long message, but I've been overwhelmed with this problem for
> two years, and having you across the line gives me a hope. I'm sure there's
> a solution because many systems work fine.
>
> So thank you again.
> Sincerely yours,
> Jose Antonio.
>
>
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/Unable-to-create-OGRSpatialReference-tp5009903p5009971.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121019/7f9414f6/attachment-0001.html>

From jcurru at yahoo.es  Sat Oct 20 09:09:26 2012
From: jcurru at yahoo.es (jcurru)
Date: Sat, 20 Oct 2012 09:09:26 -0700 (PDT)
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <CA+YzLBfTey4sOUJTP0kHtvOf8YGs-WH81dJaVTCF5Sc=p_L+7Q@mail.gmail.com>
References: <1350657674207-5009903.post@n6.nabble.com>
	<CA+YzLBcGYTx_tEUiWARWvu9wXHbGswP-=7Pt2KKytdnSMNtZhg@mail.gmail.com>
	<1350680417792-5009971.post@n6.nabble.com>
	<CA+YzLBfTey4sOUJTP0kHtvOf8YGs-WH81dJaVTCF5Sc=p_L+7Q@mail.gmail.com>
Message-ID: <1350749366502-5010047.post@n6.nabble.com>

Frank, 

Thanks you for your expert answer. It opens for me two or three new ways to
look for the /lost/ parameter.

My interest is not only in SHP, but your ideas might solve part of my
problem.

As for what you say "I'm up with fixing this with your support (ie. testing,
prompting)" I am at your command to test what it takes, but I think my
solutions that are not suitable for be incorporated into a library like
GDAL. However, if I walk into something you'll see in the forum.

I hope your new job at Google makes you as happy as a job can do.

Thank you again.

P.S. You are guaranteed a great paella if you come to Madrid.




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Unable-to-create-OGRSpatialReference-tp5009903p5010047.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From CABO at NIRAS.DK  Sun Oct 21 05:02:45 2012
From: CABO at NIRAS.DK (=?iso-8859-1?Q?Casper_B=F8rgesen_=28CABO=29?=)
Date: Sun, 21 Oct 2012 12:02:45 +0000
Subject: [gdal-dev] C#: Simple geometry loading
Message-ID: <BCF6B63AE0B25941A7F56567B58A2805350E372C@arhkexp1.NIRAS.INT>

Hi!

I have this very simple problem which I don't understand. I am loading a shape file (multipolygon) and copying the geometry into a new structure:

            OSGeo.OGR.Geometry geometries = new OSGeo.OGR.Geometry(OSGeo.OGR.wkbGeometryType.wkbMultiPolygon);

            OSGeo.OGR.DataSource dataSource = OSGeo.OGR.Ogr.Open(filename, 0);
            OSGeo.OGR.Layer layer = dataSource.GetLayerByIndex(0);
            OSGeo.OGR.Feature currentFeature = null;
            layer.ResetReading();
            while ((currentFeature = layer.GetNextFeature()) != null)
            {
                string wkt = string.Empty;
                currentFeature.GetGeometryRef().ExportToWkt(out wkt); --> MULTIPOLYGON (((476587.2 6100012.8, .... ,533324.8 6190163.2)))
                geometries.AddGeometry(currentFeature.GetGeometryRef());
                string wkt2 = string.Empty;
                geometries.ExportToWkt(out wkt2); --> MULTIPOLYGON EMPTY
            }
            dataSource.Dispose();

Am I doing something completely wrong here?

I just want all of the geometry in the input file put into the variable geometries for later use.

The input data is a rather large data set and before I try to strip it down, I just want to know if my approach is wrong or if I can expect this to be working.

GDAL/OGR version: 1.9.2, C# bindings from Tamas daily builds.

Regards Casper





-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121021/1324c849/attachment.html>

From jcurru at yahoo.es  Sun Oct 21 15:55:32 2012
From: jcurru at yahoo.es (jcurru)
Date: Sun, 21 Oct 2012 15:55:32 -0700 (PDT)
Subject: [gdal-dev] Unable to create OGRSpatialReference
In-Reply-To: <CA+YzLBfTey4sOUJTP0kHtvOf8YGs-WH81dJaVTCF5Sc=p_L+7Q@mail.gmail.com>
References: <1350657674207-5009903.post@n6.nabble.com>
	<CA+YzLBcGYTx_tEUiWARWvu9wXHbGswP-=7Pt2KKytdnSMNtZhg@mail.gmail.com>
	<1350680417792-5009971.post@n6.nabble.com>
	<CA+YzLBfTey4sOUJTP0kHtvOf8YGs-WH81dJaVTCF5Sc=p_L+7Q@mail.gmail.com>
Message-ID: <1350860132070-5010161.post@n6.nabble.com>

Frank,

I've been working a little bit with your ideas.
The target is to realize towgs84 parameters automatically.
Of course it doesn't work many times because all the procedures I use
fail and/or because my code is wrong. I don't know, but maybe you can
find it useful.

I use Embarcadero (former Borland) IDE, so you'll find non-standard things
RRCS is a class derived from OGRSpatialReference.

Best regards.
Jose





--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Unable-to-create-OGRSpatialReference-tp5009903p5010161.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From waelinsat at gmail.com  Mon Oct 22 01:55:06 2012
From: waelinsat at gmail.com (Wael Tarhouni)
Date: Mon, 22 Oct 2012 09:55:06 +0100
Subject: [gdal-dev] Convert kml to Shapefile and conserve polygon's colors
	with Ogr2Ogr
Message-ID: <CAPBhV0eZhA-MurtzzjryFxcT72=zbsqE3JW9Ruggk2rG4Uoivg@mail.gmail.com>

Hi All,

I'm using Ogr2Ogr to convert kml file to shapefile but the color of the
shape output file is unique, i 'm always loosing the colors of my polygons
 in the shapefile...

is there any way to solve this problem ?

Best regards;

-- 
Wael Tarhouni
?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/1c74a9bc/attachment.html>

From lhomme.xavier at gmail.com  Mon Oct 22 02:39:37 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Mon, 22 Oct 2012 11:39:37 +0200
Subject: [gdal-dev] Convert kml to Shapefile and conserve polygon's
 colors with Ogr2Ogr
In-Reply-To: <CAPBhV0eZhA-MurtzzjryFxcT72=zbsqE3JW9Ruggk2rG4Uoivg@mail.gmail.com>
References: <CAPBhV0eZhA-MurtzzjryFxcT72=zbsqE3JW9Ruggk2rG4Uoivg@mail.gmail.com>
Message-ID: <CACqzBMzMuFg03WLF4USoM2snky-TDhDCs4KZ63wkpUy9ippgRA@mail.gmail.com>

Hi
There is no graphical representation in the shapefile.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/9ac8be52/attachment.html>

From chaitanya.ch at gmail.com  Mon Oct 22 03:12:00 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon, 22 Oct 2012 15:42:00 +0530
Subject: [gdal-dev] Convert kml to Shapefile and conserve polygon's
 colors with Ogr2Ogr
In-Reply-To: <CAPBhV0eZhA-MurtzzjryFxcT72=zbsqE3JW9Ruggk2rG4Uoivg@mail.gmail.com>
References: <CAPBhV0eZhA-MurtzzjryFxcT72=zbsqE3JW9Ruggk2rG4Uoivg@mail.gmail.com>
Message-ID: <CAMKgpOZV8e9-1beU6qatCc2Uvv-X4VQGZB6bZoM_yLL3UMVvKg@mail.gmail.com>

Wael,

There is no support for style information in shapefile format. However, you
can store the style info as a regular attribute value. Using OGR's SQL you
can extract the style string from the kml data and then store it in the
shapefile. Please go through the OGR SQL page[1]. You can get the style
from the special field named "OGR_STYLE".

[1]: http://www.gdal.org/ogr/ogr_sql.html

On Mon, Oct 22, 2012 at 2:25 PM, Wael Tarhouni <waelinsat at gmail.com> wrote:

> Hi All,
>
> I'm using Ogr2Ogr to convert kml file to shapefile but the color of the
> shape output file is unique, i 'm always loosing the colors of my polygons
>  in the shapefile...
>
> is there any way to solve this problem ?
>
> Best regards;
>
> --
> Wael Tarhouni
> ?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/12975812/attachment.html>

From Michael.Smith at usace.army.mil  Mon Oct 22 03:16:07 2012
From: Michael.Smith at usace.army.mil (Smith, Michael ERDC-CRREL-NH)
Date: Mon, 22 Oct 2012 10:16:07 +0000
Subject: [gdal-dev] Convert kml to Shapefile and conserve polygon's
 colors with Ogr2Ogr
In-Reply-To: <CAPBhV0eZhA-MurtzzjryFxcT72=zbsqE3JW9Ruggk2rG4Uoivg@mail.gmail.com>
Message-ID: <CCAA935D.3AB61%michael.smith@erdc.dren.mil>

Wael,

First, make sure you are using the libkml driver and not the kml driver.
The libkml driver can read the style information. Then you can get that
information in your shapefile by specifically requesting the ogr_style
column.

Try adding 

-sql 'select *, ogr_style as style from Layer0'

Mike

-- 
Michael Smith

US Army Corps
Remote Sensing GIS/Center




From:  Wael Tarhouni <waelinsat at gmail.com>
Date:  Monday, October 22, 2012 4:55 AM
To:  "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
Subject:  [gdal-dev] Convert kml to Shapefile and conserve polygon's
colors	with Ogr2Ogr
Resent-From:  Michael Smith <michael.smith at usace.army.mil>


Hi All,

I'm using Ogr2Ogr to convert kml file to shapefile but the color of the
shape output file is unique, i 'm always loosing the colors of my polygons
 in the shapefile...

is there any way to solve this problem ?

Best regards;

-- 
Wael Tarhouni
?l?ve ing?nieur en R?seaux informatiques et T?lecommunication ? l'INSAT




From bontepaarden at gmail.com  Mon Oct 22 03:38:11 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon, 22 Oct 2012 12:38:11 +0200
Subject: [gdal-dev] How to use gdal_polygonize.py
Message-ID: <CAHNf2YQtBtkvGLyuZBEqGQqG9NN4FxmNwECnHdEBY1DXfZSZ0A@mail.gmail.com>

Hi all,

I'm investigating gdal_polygonize.py
I'm thinking of using it to convert a DEM-file to a polygon shapefile.

I did a quick test using gdal_polygonize.py logan.tif -f "ESRI Shapefile"
logan_poly.shp and got a shapefile.
But this shapefile is huge, it created a polygon for every pixel value.

I was thinking it would be a bit more like gdal_contour which uses an
interval.

Am I not understanding the purpose of gdal_polygonize?
Can somebody tell me some real-life use cases when to use this?

Thanks,

Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/64361364/attachment.html>

From hbobenicio at gmail.com  Mon Oct 22 07:24:09 2012
From: hbobenicio at gmail.com (Hugo Benicio)
Date: Mon, 22 Oct 2012 11:24:09 -0300
Subject: [gdal-dev] Can't create feature on layer for polygon
Message-ID: <CAKGFd-zfk-UAcrEiLnC7X7GRJB85xHP3zY2JENyktCpcLNg4NA@mail.gmail.com>

Hi guys!

I'm trying to create a shapefile containing a single polygon, but
unfortunately I'm facing an error that I have no clue how to solve.
I'm successfuly creating a datasource and a layer with:

OGRLayer* testLayer = newDataSource->CreateLayer("test",NULL, wkbPolygon,
NULL);

Then when I try to create a feature containing a *previously
calculated**polygon like this:

OGRFeature* feature = OGRFeature::CreateFeature(testLayer->GetLayerDefn());
feature->SetGeometry(myPolygon);
OGRErr errorCode = testLayer->CreateFeature(feature);

The line 'testLayer->CreateFeature(feature)' fails returning the error code:
OGRERR_UNSUPPORTED_GEOMETRY_TYPE 3

What am I missing here? How can I "make my geometry type supported"? Any
clues?
Maybe I have to set the geometry type somehow somewhere else (on the layer
or the geometry definition)... I don't know...

*(*) *FYI, 'myPolygon' is generated with the Intersection of other 2
Polygons
OGRGeometry *myPolygon = basinPolygon->Intersection(landscapePolygon);

Thanks in Advance,
Best Regards,
Hugo Ben?cio.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/f8712825/attachment.html>

From ari.jolma at gmail.com  Mon Oct 22 07:35:05 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Mon, 22 Oct 2012 16:35:05 +0200
Subject: [gdal-dev] How to use gdal_polygonize.py
In-Reply-To: <CAHNf2YQtBtkvGLyuZBEqGQqG9NN4FxmNwECnHdEBY1DXfZSZ0A@mail.gmail.com>
References: <CAHNf2YQtBtkvGLyuZBEqGQqG9NN4FxmNwECnHdEBY1DXfZSZ0A@mail.gmail.com>
Message-ID: <50855999.2020901@gmail.com>

On 10/22/2012 12:38 PM, Paul Meems wrote:
>
> Am I not understanding the purpose of gdal_polygonize?
> Can somebody tell me some real-life use cases when to use this?

Land cover classification rasters can have large areas of the same 
(integer) value. I've used the GDAL polygonize code for such rasters.

Ari


From bontepaarden at gmail.com  Mon Oct 22 07:44:41 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon, 22 Oct 2012 16:44:41 +0200
Subject: [gdal-dev] How to use gdal_polygonize.py
In-Reply-To: <50855999.2020901@gmail.com>
References: <CAHNf2YQtBtkvGLyuZBEqGQqG9NN4FxmNwECnHdEBY1DXfZSZ0A@mail.gmail.com>
	<50855999.2020901@gmail.com>
Message-ID: <CAHNf2YSwfL_YUSu3bjOqKVsnbuLwqJtpFmsW_Dp88xo7gJ9fAA@mail.gmail.com>

Thanks Ari,

Travis mailed me the same info.
I understand better now.
I'm using the data from
http://www.fao.org/geonetwork/srv/en/metadata.show?id=37139&currTab=distributionnow
to test and it is much more clear.

Here in The Netherlands we mostly have land classification already in
vector, that's why I didn't think of that.

Thanks,

Paul


2012/10/22 Ari Jolma <ari.jolma at gmail.com>

> On 10/22/2012 12:38 PM, Paul Meems wrote:
>
>>
>> Am I not understanding the purpose of gdal_polygonize?
>> Can somebody tell me some real-life use cases when to use this?
>>
>
> Land cover classification rasters can have large areas of the same
> (integer) value. I've used the GDAL polygonize code for such rasters.
>
> Ari
>
>
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/c69985d7/attachment-0001.html>

From hbobenicio at gmail.com  Mon Oct 22 09:31:59 2012
From: hbobenicio at gmail.com (Hugo Benicio)
Date: Mon, 22 Oct 2012 13:31:59 -0300
Subject: [gdal-dev] Can't create feature on layer for polygon
In-Reply-To: <CAKGFd-zfk-UAcrEiLnC7X7GRJB85xHP3zY2JENyktCpcLNg4NA@mail.gmail.com>
References: <CAKGFd-zfk-UAcrEiLnC7X7GRJB85xHP3zY2JENyktCpcLNg4NA@mail.gmail.com>
Message-ID: <CAKGFd-zerw0EoVruB4yGNcXyRBGb3BjTnv1h-OktV1SgSQqCdA@mail.gmail.com>

Ok, I've discovered that myPolygon has geometryType *wkbGeometryCollection.*
When I try to:
    newDataSource->CreateLayer("test",NULL, *wkbGeometryCollection*, NULL);
it fails and returns NULL.

So my question now is: How do I create a wkbGeometryCollection layer (if
possible) or how do I correctly change the geometry type of my geometry
(from *wkbGeometryCollection *to *wkbPolygon*)?
*
*
Thanks in advance,
Hugo Ben?cio.

*
*
On Mon, Oct 22, 2012 at 11:24 AM, Hugo Benicio <hbobenicio at gmail.com> wrote:

> Hi guys!
>
> I'm trying to create a shapefile containing a single polygon, but
> unfortunately I'm facing an error that I have no clue how to solve.
> I'm successfuly creating a datasource and a layer with:
>
> OGRLayer* testLayer = newDataSource->CreateLayer("test",NULL, wkbPolygon,
> NULL);
>
> Then when I try to create a feature containing a *previously calculated**polygon like this:
>
> OGRFeature* feature = OGRFeature::CreateFeature(testLayer->GetLayerDefn());
> feature->SetGeometry(myPolygon);
> OGRErr errorCode = testLayer->CreateFeature(feature);
>
> The line 'testLayer->CreateFeature(feature)' fails returning the error
> code:
> OGRERR_UNSUPPORTED_GEOMETRY_TYPE 3
>
> What am I missing here? How can I "make my geometry type supported"? Any
> clues?
> Maybe I have to set the geometry type somehow somewhere else (on the layer
> or the geometry definition)... I don't know...
>
> *(*) *FYI, 'myPolygon' is generated with the Intersection of other 2
> Polygons
> OGRGeometry *myPolygon = basinPolygon->Intersection(landscapePolygon);
>
> Thanks in Advance,
> Best Regards,
> Hugo Ben?cio.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/1f1c0f23/attachment.html>

From hbobenicio at gmail.com  Mon Oct 22 11:57:16 2012
From: hbobenicio at gmail.com (Hugo Benicio)
Date: Mon, 22 Oct 2012 15:57:16 -0300
Subject: [gdal-dev] Can't create feature on layer for polygon
In-Reply-To: <CAKGFd-zerw0EoVruB4yGNcXyRBGb3BjTnv1h-OktV1SgSQqCdA@mail.gmail.com>
References: <CAKGFd-zfk-UAcrEiLnC7X7GRJB85xHP3zY2JENyktCpcLNg4NA@mail.gmail.com>
	<CAKGFd-zerw0EoVruB4yGNcXyRBGb3BjTnv1h-OktV1SgSQqCdA@mail.gmail.com>
Message-ID: <CAKGFd-z--BcOG88-sad9eB_eM=17TUfXyk3bWhL94s+xzpAVgg@mail.gmail.com>

For anyone else having the same problem like mine,
I solved my issue just iterating over the wkbGeometryCollection, gathering
all polygons in it and creating a feature for the my layer for each of them.

On Mon, Oct 22, 2012 at 1:31 PM, Hugo Benicio <hbobenicio at gmail.com> wrote:

> Ok, I've discovered that myPolygon has geometryType *
> wkbGeometryCollection.*
> When I try to:
>     newDataSource->CreateLayer("test",NULL, *wkbGeometryCollection*,
> NULL);
> it fails and returns NULL.
>
> So my question now is: How do I create a wkbGeometryCollection layer (if
> possible) or how do I correctly change the geometry type of my geometry
> (from *wkbGeometryCollection *to *wkbPolygon*)?
> *
> *
> Thanks in advance,
> Hugo Ben?cio.
>
> *
> *
> On Mon, Oct 22, 2012 at 11:24 AM, Hugo Benicio <hbobenicio at gmail.com>wrote:
>
>> Hi guys!
>>
>> I'm trying to create a shapefile containing a single polygon, but
>> unfortunately I'm facing an error that I have no clue how to solve.
>> I'm successfuly creating a datasource and a layer with:
>>
>> OGRLayer* testLayer = newDataSource->CreateLayer("test",NULL, wkbPolygon,
>> NULL);
>>
>> Then when I try to create a feature containing a *previously calculated**polygon like this:
>>
>> OGRFeature* feature =
>> OGRFeature::CreateFeature(testLayer->GetLayerDefn());
>> feature->SetGeometry(myPolygon);
>> OGRErr errorCode = testLayer->CreateFeature(feature);
>>
>> The line 'testLayer->CreateFeature(feature)' fails returning the error
>> code:
>> OGRERR_UNSUPPORTED_GEOMETRY_TYPE 3
>>
>> What am I missing here? How can I "make my geometry type supported"? Any
>> clues?
>> Maybe I have to set the geometry type somehow somewhere else (on the
>> layer or the geometry definition)... I don't know...
>>
>> *(*) *FYI, 'myPolygon' is generated with the Intersection of other 2
>> Polygons
>> OGRGeometry *myPolygon = basinPolygon->Intersection(landscapePolygon);
>>
>> Thanks in Advance,
>> Best Regards,
>> Hugo Ben?cio.
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121022/4d310ca4/attachment.html>

From vesnikos at gmail.com  Tue Oct 23 02:55:24 2012
From: vesnikos at gmail.com (Ves Nikos)
Date: Tue, 23 Oct 2012 12:55:24 +0300
Subject: [gdal-dev] How to use gdal_polygonize.py
In-Reply-To: <CAHNf2YQtBtkvGLyuZBEqGQqG9NN4FxmNwECnHdEBY1DXfZSZ0A@mail.gmail.com>
References: <CAHNf2YQtBtkvGLyuZBEqGQqG9NN4FxmNwECnHdEBY1DXfZSZ0A@mail.gmail.com>
Message-ID: <5086698C.6000508@gmail.com>


Hey Paul,

I think  [ gdal_contour ]  is more close to what you think you need:

here's a quick turorial I just found on it:

http://woostuff.wordpress.com/2011/09/27/generating-contours-using-gdal-via-shell-or-qgis/


Kind regards,

Ves Nikos


???? 22/10/2012 1:38 ??, ?/? Paul Meems ??????:
> Hi all,
>
> I'm investigating gdal_polygonize.py
> I'm thinking of using it to convert a DEM-file to a polygon shapefile.
>
> I did a quick test using gdal_polygonize.py logan.tif -f "ESRI
> Shapefile" logan_poly.shp and got a shapefile.
> But this shapefile is huge, it created a polygon for every pixel value.
>
> I was thinking it would be a bit more like gdal_contour which uses an
> interval.
>
> Am I not understanding the purpose of gdal_polygonize?
> Can somebody tell me some real-life use cases when to use this?
>
> Thanks,
>
> Paul
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From Laurent.Saez at developpement-durable.gouv.fr  Tue Oct 23 03:57:26 2012
From: Laurent.Saez at developpement-durable.gouv.fr (SAEZ Laurent - SG/SPSSI/CPII/DOM/ETER/PNE IG)
Date: Tue, 23 Oct 2012 12:57:26 +0200
Subject: [gdal-dev] Why have I got SRS 900914 in my PostGIS table after
 ogr2ogr alimentation ?
Message-ID: <50867816.7010703@developpement-durable.gouv.fr>

Hi,

I used to populate my PostGIS databases using ogr2ogr (GDAL 1.9.0, 
released 2011/12/29 compiled by myself on Bedian).
It's the first time I've got this behavior: SRS isn't which I expect. 
It's replaced by code 900914 in my table definition :
CONSTRAINT enforce_srid_the_geom CHECK (st_srid(the_geom) = 900914

I don't understand why...
This issue occured with EPSG:4467.

PostgreSQL 9.1.2, PostGIS 1.5.3, GDAL 1.9.0 run on the same server.

If I do : gdalsrsinfo "EPSG:4467"
It returns :
PROJ.4 : '+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 
+units=m +no_defs '

OGC WKT :
PROJCS["RGSPM06 / UTM zone 21N",
     GEOGCS["RGSPM06",
         DATUM["Reseau_Geodesique_de_Saint_Pierre_et_Miquelon_2006",
             SPHEROID["GRS 1980",6378137,298.257222101,
                 AUTHORITY["EPSG","7019"]],
             TOWGS84[0,0,0,0,0,0,0],
             AUTHORITY["EPSG","1038"]],
         PRIMEM["Greenwich",0,
             AUTHORITY["EPSG","8901"]],
         UNIT["degree",0.0174532925199433,
             AUTHORITY["EPSG","9122"]],
         AUTHORITY["EPSG","4463"]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",-57],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",0],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AXIS["Easting",EAST],
     AXIS["Northing",NORTH],
     AUTHORITY["EPSG","4467"]]

It's correct !!! But at this point, I don't know from where comes this 
OGC WKT definition ?

This is one of my ogr2ogr commands :
ogr2ogr -f "PostgreSQL" -append -nln "mytable" -nlt MULTILINESTRING -lco 
GEOMETRY_NAME=the_geom -lco FID=gid -lco OVERWRITE=no -a_srs EPSG:4467 
PG:"dbname='MyDataBase' host=localhost port='5432' user='MyUser' 
password='MyPassword'" MyMIFMIDFile

Usually it works ;-(

I have verified some files :
- Proj.4 epsg file : /MyFolder/share/proj/epsg :
It contains the following line :
<4467> +proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m 
+no_defs

- GDAL pcs.csv : /MyFolder/share/gdal/pcs.csv
It contains the following line :
4467,"RGSPM06 / UTM zone 
21N",9001,4463,16021,9807,1,0,4400,8801,0,9102,8802,-57,9102,8805,0.9996,9201,8806,500000,9001,8807,0,9001,,,,,,

- spatial_ref_sys from my database :
4467;"EPSG";4467;"PROJCS["RGSPM06 / UTM zone 
21N",GEOGCS["RGSPM06",DATUM["Reseau_Geodesique_de_Saint_Pierre_et_Miquelon_2006",SPHEROID["GRS 
1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EPSG","1038"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4463"]],UNIT["metre",1,AUTHORITY["EPSG","9001"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-57],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],AUTHORITY["EPSG","4467"],AXIS["Easting",EAST],AXIS["Northing",NORTH]]";"+proj=utm 
+zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs "

I have also try to add -a_srs EPSG:4467 to my ogr2ogr command but 
without success !

Any idea ?

Regards
Laurent

From alisson.uece at gmail.com  Tue Oct 23 05:31:48 2012
From: alisson.uece at gmail.com (Alisson Barbosa)
Date: Tue, 23 Oct 2012 09:31:48 -0300
Subject: [gdal-dev] cpl_string.h(223) : warning C4275 and cpl_string.h(223)
	: warning C4251
Message-ID: <CALwK9Yy8itWyAChTQM9dSZ9LQx1atPw7t=cToTDmAP1pJUaOFw@mail.gmail.com>

Does anyone know resolve this warnings?

cpl_string.h(223) : warning C4275: non dll-interface class
'std::_String_base' used as base for dll-interface class
'std::_String_val<_Ty,_Alloc>'
1>        with
1>        [
1>            _Ty=char,
1>            _Alloc=std::allocator<char>
1>        ]

cpl_string.h(223) : warning C4251: 'std::_String_val<_Ty,_Alloc>::_Alval' :
class 'std::allocator<_Ty>' needs to have dll-interface to be used by
clients of class 'std::_String_val<_Ty,_Alloc>'
1>        with
1>        [
1>            _Ty=char,
1>            _Alloc=std::allocator<char>
1>        ]
1>        and
1>        [
1>            _Ty=char
1>        ]
1>        and
1>        [
1>            _Ty=char,
1>            _Alloc=std::allocator<char>
1>        ]


Thanks,
-- 
Alisson Barbosa
Systems Analyst - FUNCEME
M.Sc. in Computer Science - MACC
Graduate in Computer Science  - UECE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/4fa86f95/attachment.html>

From mateusz at loskot.net  Tue Oct 23 05:39:14 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Tue, 23 Oct 2012 13:39:14 +0100
Subject: [gdal-dev] cpl_string.h(223) : warning C4275 and
 cpl_string.h(223) : warning C4251
In-Reply-To: <CALwK9Yy8itWyAChTQM9dSZ9LQx1atPw7t=cToTDmAP1pJUaOFw@mail.gmail.com>
References: <CALwK9Yy8itWyAChTQM9dSZ9LQx1atPw7t=cToTDmAP1pJUaOFw@mail.gmail.com>
Message-ID: <CABUeae_Ej-NnnCj1qiSwzxxFAoU4=qQsxbYsxq8RXP=0dS5EHQ@mail.gmail.com>

On 23 October 2012 13:31, Alisson Barbosa <alisson.uece at gmail.com> wrote:
> Does anyone know resolve this warnings?
>
> cpl_string.h(223) : warning C4275: non dll-interface class
> 'std::_String_base' used as base for dll-interface class

http://trac.osgeo.org/gdal/ticket/4099

BTW, http://support.microsoft.com/default.aspx?scid=KB;EN-US;168958


Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net

From menville.ernest at gmail.com  Tue Oct 23 05:49:14 2012
From: menville.ernest at gmail.com (Ernest Menville)
Date: Tue, 23 Oct 2012 14:49:14 +0200
Subject: [gdal-dev] gdaltransform - output into textfile
Message-ID: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>

Hi,

I have a problem redirecting the output of gdaltransform into a text file.
The output file is always empty.

my code:
gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt" >"Grid.txt"

with "WGS84.txt":
 10.590820  46.935261
 10.898438  46.935261
 10.898438  46.785016
 10.590820  46.785016

The file "Grid.txt" is created, but empty.

Can anybody help me?

cheers,
Ernest
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/b060fdfd/attachment.html>

From hbobenicio at gmail.com  Tue Oct 23 07:10:56 2012
From: hbobenicio at gmail.com (Hugo Benicio)
Date: Tue, 23 Oct 2012 11:10:56 -0300
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
Message-ID: <CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>

if you remove the output redirection >"Grid.txt", what does it do?

gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt"

Does it print the output on you console/terminal? gdaltransform is actually
generating an output?
(You redirection syntax seems ok)

On Tue, Oct 23, 2012 at 9:49 AM, Ernest Menville
<menville.ernest at gmail.com>wrote:

> Hi,
>
> I have a problem redirecting the output of gdaltransform into a text file.
> The output file is always empty.
>
> my code:
> gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt" >"Grid.txt"
>
> with "WGS84.txt":
>  10.590820  46.935261
>  10.898438  46.935261
>  10.898438  46.785016
>  10.590820  46.785016
>
> The file "Grid.txt" is created, but empty.
>
> Can anybody help me?
>
> cheers,
> Ernest
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/944d086a/attachment.html>

From menville.ernest at gmail.com  Tue Oct 23 07:13:57 2012
From: menville.ernest at gmail.com (Ernest Menville)
Date: Tue, 23 Oct 2012 16:13:57 +0200
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>
Message-ID: <CAH6VygSR8TSF0KdRyQi0i9DT93T9UVpwDCVW0sfje+Um263VXA@mail.gmail.com>

Hi,

if you remove the output redirection >"Grid.txt", what does it do?
>
> gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt"
>
> Does it print the output on you console/terminal? gdaltransform is
> actually generating an output?
> (You redirection syntax seems ok)
>

Yes, the output without redirection is correct:

1178964.68948322 5931513.41439894 0
1213208.56860206 5931513.41439894 0
1213208.56860206 5907053.53893779 0
1178964.68948322 5907053.53893779 0

But I can't save it to a file.

regards,
Ernest
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/739aaf92/attachment.html>

From menville.ernest at gmail.com  Tue Oct 23 09:40:22 2012
From: menville.ernest at gmail.com (Ernest Menville)
Date: Tue, 23 Oct 2012 18:40:22 +0200
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <60358EDE3281814C993C0519A6DD0F1903E36152@057-SN2MPN1-063.057d.mgd.msft.net>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>
	<CAH6VygSR8TSF0KdRyQi0i9DT93T9UVpwDCVW0sfje+Um263VXA@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36152@057-SN2MPN1-063.057d.mgd.msft.net>
Message-ID: <CAH6VygRM7a7nbEhmxQvcdpSruLwARRM714V-+gHJe4CCWFw00A@mail.gmail.com>

> Maybe the output of gdaltransform is going to stderr?  In that case, try:*
> ***
>
>                 gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 <
> WGS84.txt 2> Grid.txt****
>
> I tried that, with no success - the file is still empty.

Regards,
Ernest

> ** **
>
> -Bob****
>
> ** **
>
> Robert Moskovitz****
>
> California Geological Survey****
>
> Seismic Hazards Zonation Program****
>
> ** **
>
> ** **
>
> CONFIDENTIALITY NOTICE: This communication is intended only for the use of
> the individual or entity to which it is addressed. This message contains
> information from the State of California, California Geological Survey,
> which may be privileged, confidential and exempt from disclosure under
> applicable law, including the Electronic Communications Privacy Act. If the
> reader of this communication is not the intended recipient, you are hereby
> notified that any dissemination, distribution, or copying of this
> communication is strictly prohibited.****
>
> ** **
>
> ** **
>
> ** **
>
> *From:* gdal-dev-bounces at lists.osgeo.org <javascript:_e({}, 'cvml',
> 'gdal-dev-bounces at lists.osgeo.org');> [mailto:
> gdal-dev-bounces at lists.osgeo.org <javascript:_e({}, 'cvml',
> 'gdal-dev-bounces at lists.osgeo.org');>] *On Behalf Of *Ernest Menville
> *Sent:* Tuesday, October 23, 2012 7:14 AM
> *To:* Hugo Benicio
> *Cc:* gdal-dev at lists.osgeo.org <javascript:_e({}, 'cvml',
> 'gdal-dev at lists.osgeo.org');>
> *Subject:* Re: [gdal-dev] gdaltransform - output into textfile****
>
> ** **
>
> Hi,****
>
> ** **
>
> if you remove the output redirection >"Grid.txt", what does it do?****
>
> ** **
>
> gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt"****
>
> ** **
>
> Does it print the output on you console/terminal? gdaltransform is
> actually generating an output?****
>
> (You redirection syntax seems ok)****
>
>   ****
>
> Yes, the output without redirection is correct:****
>
> ** **
>
> 1178964.68948322 5931513.41439894 0****
>
> 1213208.56860206 5931513.41439894 0****
>
> 1213208.56860206 5907053.53893779 0****
>
> 1178964.68948322 5907053.53893779 0****
>
> ** **
>
> But I can't save it to a file.****
>
> ** **
>
> regards,****
>
> Ernest****
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/9db9745f/attachment-0001.html>

From Bob.Moskovitz at conservation.ca.gov  Tue Oct 23 09:27:18 2012
From: Bob.Moskovitz at conservation.ca.gov (Moskovitz, Bob@DOC)
Date: Tue, 23 Oct 2012 16:27:18 +0000
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <CAH6VygSR8TSF0KdRyQi0i9DT93T9UVpwDCVW0sfje+Um263VXA@mail.gmail.com>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>
	<CAH6VygSR8TSF0KdRyQi0i9DT93T9UVpwDCVW0sfje+Um263VXA@mail.gmail.com>
Message-ID: <60358EDE3281814C993C0519A6DD0F1903E36152@057-SN2MPN1-063.057d.mgd.msft.net>

Hi Ernest,

Maybe the output of gdaltransform is going to stderr?  In that case, try:
                gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < WGS84.txt 2> Grid.txt

-Bob

Robert Moskovitz
California Geological Survey
Seismic Hazards Zonation Program


CONFIDENTIALITY NOTICE: This communication is intended only for the use of the individual or entity to which it is addressed. This message contains information from the State of California, California Geological Survey, which may be privileged, confidential and exempt from disclosure under applicable law, including the Electronic Communications Privacy Act. If the reader of this communication is not the intended recipient, you are hereby notified that any dissemination, distribution, or copying of this communication is strictly prohibited.



From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Ernest Menville
Sent: Tuesday, October 23, 2012 7:14 AM
To: Hugo Benicio
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] gdaltransform - output into textfile

Hi,

if you remove the output redirection >"Grid.txt", what does it do?

gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt"

Does it print the output on you console/terminal? gdaltransform is actually generating an output?
(You redirection syntax seems ok)

Yes, the output without redirection is correct:

1178964.68948322 5931513.41439894 0
1213208.56860206 5931513.41439894 0
1213208.56860206 5907053.53893779 0
1178964.68948322 5907053.53893779 0

But I can't save it to a file.

regards,
Ernest
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/500ebbe8/attachment.html>

From Bob.Moskovitz at conservation.ca.gov  Tue Oct 23 09:45:06 2012
From: Bob.Moskovitz at conservation.ca.gov (Moskovitz, Bob@DOC)
Date: Tue, 23 Oct 2012 16:45:06 +0000
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <CAH6VygRM7a7nbEhmxQvcdpSruLwARRM714V-+gHJe4CCWFw00A@mail.gmail.com>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>
	<CAH6VygSR8TSF0KdRyQi0i9DT93T9UVpwDCVW0sfje+Um263VXA@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36152@057-SN2MPN1-063.057d.mgd.msft.net>
	<CAH6VygRM7a7nbEhmxQvcdpSruLwARRM714V-+gHJe4CCWFw00A@mail.gmail.com>
Message-ID: <60358EDE3281814C993C0519A6DD0F1903E36177@057-SN2MPN1-063.057d.mgd.msft.net>

That's too bad :(  Another way to capture the output is to use "script" before you run gdaltransform (w/o redirecting out).  After you are done with gdaltransform, hit CTRL-C, and view the file "typescript".

-Bob

From: philipp.glira at gmail.com [mailto:philipp.glira at gmail.com] On Behalf Of Ernest Menville
Sent: Tuesday, October 23, 2012 9:40 AM
To: Moskovitz, Bob at DOC
Cc: Ernest Menville; Hugo Benicio; gdal-dev at lists.osgeo.org
Subject: Re: gdaltransform - output into textfile


Maybe the output of gdaltransform is going to stderr?  In that case, try:
                gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < WGS84.txt 2> Grid.txt
I tried that, with no success - the file is still empty.

Regards,
Ernest

-Bob

Robert Moskovitz
California Geological Survey
Seismic Hazards Zonation Program


CONFIDENTIALITY NOTICE: This communication is intended only for the use of the individual or entity to which it is addressed. This message contains information from the State of California, California Geological Survey, which may be privileged, confidential and exempt from disclosure under applicable law, including the Electronic Communications Privacy Act. If the reader of this communication is not the intended recipient, you are hereby notified that any dissemination, distribution, or copying of this communication is strictly prohibited.



From: gdal-dev-bounces at lists.osgeo.org<javascript:_e(%7b%7d,%20'cvml',%20'gdal-dev-bounces at lists.osgeo.org');> [mailto:gdal-dev-bounces at lists.osgeo.org<javascript:_e(%7b%7d,%20'cvml',%20'gdal-dev-bounces at lists.osgeo.org');>] On Behalf Of Ernest Menville
Sent: Tuesday, October 23, 2012 7:14 AM
To: Hugo Benicio
Cc: gdal-dev at lists.osgeo.org<javascript:_e(%7b%7d,%20'cvml',%20'gdal-dev at lists.osgeo.org');>
Subject: Re: [gdal-dev] gdaltransform - output into textfile

Hi,

if you remove the output redirection >"Grid.txt", what does it do?

gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt"

Does it print the output on you console/terminal? gdaltransform is actually generating an output?
(You redirection syntax seems ok)

Yes, the output without redirection is correct:

1178964.68948322 5931513.41439894 0
1213208.56860206 5931513.41439894 0
1213208.56860206 5907053.53893779 0
1178964.68948322 5907053.53893779 0

But I can't save it to a file.

regards,
Ernest
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/fe00e333/attachment-0001.html>

From landa.martin at gmail.com  Tue Oct 23 11:07:34 2012
From: landa.martin at gmail.com (Martin Landa)
Date: Tue, 23 Oct 2012 20:07:34 +0200
Subject: [gdal-dev] problem with compiling grass with gdal
Message-ID: <CA+Ei1OesHFGXbyxuH-s5crq8nmJ3+JA7SaDBA2=dc3e+rQPZLw@mail.gmail.com>

Hi all,

after the last update of GDAL's SVN trunk I cannot compile GRASS with
GDAL support. Configuration script fails with

configure:6074: gcc -o conftest -g -Wall
-Werror-implicit-function-declaration -fno-common -Wextra -Wunused
-I/usr/local/include   -Wl,--export-dynamic conftest.c
-L/usr/local/lib -lgdal 1>&5
configure: In function 'main':
configure:6070:9: warning: ignoring return value of 'GDALOpen',
declared with attribute warn_unused_result [-Wunused-result]
/usr/local/lib/libgdal.so: undefined reference to
`std::istream::operator>>(double&)'
/usr/local/lib/libgdal.so: undefined reference to
`std::allocator<char>::allocator()'
/usr/local/lib/libgdal.so: undefined reference to
`std::string::find_last_not_of(char, unsigned long) const'

It was working some weeks ago. I have tested also compilation against
GDAL 1.9.2. It's OK.

Do you have any idea what could be wrong?

Thanks, Martin

-- 
Martin Landa <landa.martin gmail.com> * http://geo.fsv.cvut.cz/~landa

From even.rouault at mines-paris.org  Tue Oct 23 11:09:42 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 23 Oct 2012 20:09:42 +0200
Subject: [gdal-dev] Why have I got SRS 900914 in my PostGIS table after
	ogr2ogr alimentation ?
In-Reply-To: <50867816.7010703@developpement-durable.gouv.fr>
References: <50867816.7010703@developpement-durable.gouv.fr>
Message-ID: <201210232009.42551.even.rouault@mines-paris.org>

Le mardi 23 octobre 2012 12:57:26, SAEZ Laurent - SG/SPSSI/CPII/DOM/ETER/PNE 
IG a ?crit :
> Hi,
> 
> I used to populate my PostGIS databases using ogr2ogr (GDAL 1.9.0,
> released 2011/12/29 compiled by myself on Bedian).
> It's the first time I've got this behavior: SRS isn't which I expect.
> It's replaced by code 900914 in my table definition :
> CONSTRAINT enforce_srid_the_geom CHECK (st_srid(the_geom) = 900914
> 
> I don't understand why...
> This issue occured with EPSG:4467.

I also reproduce the same behaviour (... but read all the email ;-))

> 
> PostgreSQL 9.1.2, PostGIS 1.5.3, GDAL 1.9.0 run on the same server.
> 
> If I do : gdalsrsinfo "EPSG:4467"
> It returns :
> PROJ.4 : '+proj=utm +zone=21 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0
> +units=m +no_defs '
> 
> OGC WKT :
> PROJCS["RGSPM06 / UTM zone 21N",
>      GEOGCS["RGSPM06",
>          DATUM["Reseau_Geodesique_de_Saint_Pierre_et_Miquelon_2006",
>              SPHEROID["GRS 1980",6378137,298.257222101,
>                  AUTHORITY["EPSG","7019"]],
>              TOWGS84[0,0,0,0,0,0,0],
>              AUTHORITY["EPSG","1038"]],
>          PRIMEM["Greenwich",0,
>              AUTHORITY["EPSG","8901"]],
>          UNIT["degree",0.0174532925199433,
>              AUTHORITY["EPSG","9122"]],
>          AUTHORITY["EPSG","4463"]],
>      PROJECTION["Transverse_Mercator"],
>      PARAMETER["latitude_of_origin",0],
>      PARAMETER["central_meridian",-57],
>      PARAMETER["scale_factor",0.9996],
>      PARAMETER["false_easting",500000],
>      PARAMETER["false_northing",0],
>      UNIT["metre",1,
>          AUTHORITY["EPSG","9001"]],
>      AXIS["Easting",EAST],
>      AXIS["Northing",NORTH],
>      AUTHORITY["EPSG","4467"]]
> 
> It's correct !!! But at this point, I don't know from where comes this
> OGC WKT definition ?

GDAL builds the OGC WKT definition from the pcs.csv and gcs.csv files (and 
possibly other .csv files in its data directory)

> 
> - spatial_ref_sys from my database :
> 4467;"EPSG";4467;"PROJCS["RGSPM06 / UTM zone
> 21N",GEOGCS["RGSPM06",DATUM["Reseau_Geodesique_de_Saint_Pierre_et_Miquelon_
> 2006",SPHEROID["GRS
> 1980",6378137,298.257222101,AUTHORITY["EPSG","7019"]],TOWGS84[0,0,0,0,0,0,
> 0],AUTHORITY["EPSG","1038"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]]
> ,UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG
> ","4463"]],UNIT["metre",1,AUTHORITY["EPSG","9001"]],PROJECTION["Transverse_
> Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-
> 57],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARA
> METER["false_northing",0],AUTHORITY["EPSG","4467"],AXIS["Easting",EAST],AXI
> S["Northing",NORTH]]";"+proj=utm +zone=21 +ellps=GRS80
> +towgs84=0,0,0,0,0,0,0 +units=m +no_defs "

Are you really sure of that ?  I've checked that the spatial_ref_sys.sql 
script included in the Postgis 1.5 distribution, which is used to initialize a 
postgis DB, does NOT include the definition for EPSG:4467. So the behaviour of 
the OGR PostgreSQL driver is consistant : it inserts a new custom entry in the 
spatial_ref_sys table because there's no existing one before. But this 
shouldn't be a problem if you stay in the OGR "world" : the SRS reported by 
ogrinfo should be OK. It's only if some code (IMHO wrongly) assumes that SRID 
= AUTH_SRID = EPSG code that will have problems.

But the spatial_ref_sys.sql that comes with Postgis 2.0 DOES include the 
definition of EPSG:4467. And when retrying ogr2ogr -a_srs EPSG:4467 with 
Postgis 2.0, the existing entry in spatial_ref_sys is used.

The spatial_ref_sys.sql script that comes with PostGIS is generated by a 
script using GDAL. In PostGIS 1.5, it used an older GDAL version as a 
reference. In PostGIS 2.0, they likely upgraded it from a newer GDAL version 
(1.8 or 1.9 I'm not sure) that included new EPSG codes.

If you're interested in the process of EPSG definitions refresh in the 
libgeotiff, GDAL, PROJ.4 and PostGIS stacks, you can skim through 
http://svn.osgeo.org/metacrs/geotiff/trunk/libgeotiff/csv/README

Best regards,

Even



From even.rouault at mines-paris.org  Tue Oct 23 11:15:24 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 23 Oct 2012 20:15:24 +0200
Subject: [gdal-dev] problem with compiling grass with gdal
In-Reply-To: <CA+Ei1OesHFGXbyxuH-s5crq8nmJ3+JA7SaDBA2=dc3e+rQPZLw@mail.gmail.com>
References: <CA+Ei1OesHFGXbyxuH-s5crq8nmJ3+JA7SaDBA2=dc3e+rQPZLw@mail.gmail.com>
Message-ID: <201210232015.24792.even.rouault@mines-paris.org>

Le mardi 23 octobre 2012 20:07:34, Martin Landa a ?crit :
> Hi all,
> 
> after the last update of GDAL's SVN trunk I cannot compile GRASS with
> GDAL support. Configuration script fails with
> 
> configure:6074: gcc -o conftest -g -Wall
> -Werror-implicit-function-declaration -fno-common -Wextra -Wunused
> -I/usr/local/include   -Wl,--export-dynamic conftest.c
> -L/usr/local/lib -lgdal 1>&5
> configure: In function 'main':
> configure:6070:9: warning: ignoring return value of 'GDALOpen',
> declared with attribute warn_unused_result [-Wunused-result]
> /usr/local/lib/libgdal.so: undefined reference to
> `std::istream::operator>>(double&)'
> /usr/local/lib/libgdal.so: undefined reference to
> `std::allocator<char>::allocator()'
> /usr/local/lib/libgdal.so: undefined reference to
> `std::string::find_last_not_of(char, unsigned long) const'
> 
> It was working some weeks ago. I have tested also compilation against
> GDAL 1.9.2. It's OK.
> 
> Do you have any idea what could be wrong?

Hum, still seems an issue with a missing -lstdc++. People have recently 
reported similar issues in other contexts (mingw compiling, etc...), and each 
time it apparently worked in 1.9.x, but not in trunk. I'm not sure what might 
have changed in configure that made libstdc++ to be included before, and no 
longer. I have just diff'ed configure.in in trunk against 1.9 branch, and 
nothing related strikes...

Could you diff the output of the generated GDALmake.opt in trunk and 1.9 ? And 
also the same for config.log ?

> 
> Thanks, Martin

From fewayne at wisc.edu  Tue Oct 23 12:30:25 2012
From: fewayne at wisc.edu (Rick Wayne)
Date: Tue, 23 Oct 2012 14:30:25 -0500
Subject: [gdal-dev] Having problems reading a GRIB2 file with GDAL driver
Message-ID: <F0A34421-F66E-4B3E-A2B2-87C4C73F81FE@wisc.edu>

Hello all,

I am striving to process and publish some raster data which arrive in grib2 format. That format is of course supported by GDAL, but the particular files I'm getting from my data provider irritate the driver, which complains:

Warning: Inside GRIB2Inventory, Message # 2
ERROR: Couldn't find 'GRIB' or 'TDLP'
There were 4 trailing bytes in the file.

I get this with gdalinfo, raster2pgsql, gdal_retile.py, all that stuff. And yet the GRIB-centric tools gobble up this file with nary a hiccup, e.g. wgrib2 extracts data from it just fine.

Any GRIBmasters out there that know of a common problem like this, and how I might go about processing the files to fix them? Convert to NetCDF first, perhaps? There is some question as to whether GRIB support is configured on this system, I'm not sure how to determine that (or if I'd have to build it from source, IIRC this system has GDAL via Ubuntu packages).

If you'd like to see the file itself, I put it at http://www.soils.wisc.edu/~wayne/test.grib2.

TIA!

Rick Wayne
Sr. Systems Programmer
UW Soil Science



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/e020ef06/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 7351 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121023/e020ef06/attachment.bin>

From lhomme.xavier at gmail.com  Tue Oct 23 23:37:25 2012
From: lhomme.xavier at gmail.com (xavier lhomme)
Date: Wed, 24 Oct 2012 08:37:25 +0200
Subject: [gdal-dev]  Security Classification
Message-ID: <CACqzBMzmr21XGmDnAk4bkWnPi=FbWtmfoxxxQKhZ76nVgvP+Zg@mail.gmail.com>

Hi

How GDAL/OGR handles security classification ? Is there specific tag used
by gdal/org to store such information ?

xav
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121024/c34dd00a/attachment.html>

From Laurent.Saez at developpement-durable.gouv.fr  Tue Oct 23 23:48:54 2012
From: Laurent.Saez at developpement-durable.gouv.fr (SAEZ Laurent - SG/SPSSI/CPII/DOM/ETER/PNE IG)
Date: Wed, 24 Oct 2012 08:48:54 +0200
Subject: [gdal-dev] Why have I got SRS 900914 in my PostGIS table after
 ogr2ogr alimentation ?
In-Reply-To: <mailman.57.1351018814.7498.gdal-dev@lists.osgeo.org>
References: <mailman.57.1351018814.7498.gdal-dev@lists.osgeo.org>
Message-ID: <50878F56.4050704@developpement-durable.gouv.fr>

Thanks Even for your answer.

In fact I add EPSG code 4467 in my spatial_ref_sys with the definition I 
took in PostGIS 2.0.
So this code is present in the table spatial_ref_sys and I do not 
understand why the code 900914 is added.

It is also possible that I do not fully understand the answer ;-)

Best regards
Laurent

From brfr at metrico.lu  Wed Oct 24 00:57:58 2012
From: brfr at metrico.lu (Frank Broniewski)
Date: Wed, 24 Oct 2012 09:57:58 +0200
Subject: [gdal-dev] New OGR driver to read OpenStreetMap .osm / .pbf
	files
In-Reply-To: <1350467675.507e805ba01a0@imp.free.fr>
References: <201207101923.32027.even.rouault@mines-paris.org>
	<507E74F5.1090201@metrico.lu>
	<1350467675.507e805ba01a0@imp.free.fr>
Message-ID: <50879F86.5060000@metrico.lu>

Hi,

I had this up my schedule for this week, but I see I need GDAL >= 2.0. 
Where might I get this? From svn (https://svn.osgeo.org/gdal/trunk/gdal)?

Thanks,

Frank

Am 2012-10-17 11:54, schrieb Even Rouault:
> Selon Frank Broniewski <brfr at metrico.lu>:
>
>> Hi Even,
>>
>> I need to reinstall my OSM database due to the license change to ODBL.
>> Usually I use osm2pgsql for that, but I am willing to sacrifice a little
>> downtime of my DB in order to test the GDAL implementation. Before
>> storming ahead I wanted to know how far you are with the driver
>> implementation - is there anything I need to be aware of?
>
> Apart reading carefully the documentation of the drivers at
> http://www.gdal.org/ogr/drv_osm.html and http://www.gdal.org/ogr/drv_pg.html to
> be aware of the various optimization hints, nothing comes to find. There have
> been several optimization passes and improvements done with Jukka's feedback in
> the last few months, so now I consider the gist of the developmement phase to be
> done.
>
>> Are you
>> interested at all in a benchmark comparison between GDAL and osm2pgsql?
>> I'll be using the planet file, so thinks will take a while ...
>
> Yes, sure. Feedback welcome. Note that the driver hasn't specifically been
> developed to compete with osm2pgsql (for example, the OGR OSM driver, or more
> exactly the OGR model, cannot deal with OSM diff files), but more to address the
> capability of reading/converting "modest" sized .osm/.pbf files with little
> "infrastructure".
>
> Even
>
>


-- 
Frank BRONIEWSKI

METRICO s.? r.l.
g?om?tres
technologies d'information g?ographique
rue des Romains 36
L-5433 NIEDERDONVEN

t?l.: +352 26 74 94 - 28
fax.: +352 26 74 94 99
http://www.metrico.lu

From cgodkin at gmail.com  Wed Oct 24 07:11:01 2012
From: cgodkin at gmail.com (Carl Godkin)
Date: Wed, 24 Oct 2012 07:11:01 -0700
Subject: [gdal-dev] EHdr guesses wrong pixel type...
Message-ID: <CAE=8km=yKFmwBG7oBTAxqprJASeS5_qLPa5GtW98qKetiSMZCQ@mail.gmail.com>

Hi,

I'm using GDAL 1.9.2 to read a .bil data set that has an accompanying .hdr
file which does not include PIXELTYPE.  It does have NBITS = 32.

The documentation for the EHdr format mentions

This driver does not always do well differentiating between floating point
> and integer data. The GDAL extension to the .hdr format to differentiate is
> to add a field named PIXELTYPE with values of either FLOAT, SIGNEDINT or
> UNSIGNEDINT. In combination with the NBITS field it is possible to
> described all variations of pixel types.



Unfortunately,  the .hdr file includes a negative NODATA value

NODATA         -9999


which causes the pixeltype to be guessed wrong due to this code in
ehdrdataset.cpp:

 /* -------------------------------------------------------------------- */
> /*      If we have a negative nodata value, let's assume that the       */
> /*      pixel type is signed. This is necessary for datasets from       */
> /*      http://www.worldclim.org/futdown.htm                            */
> /* -------------------------------------------------------------------- */
>     if( bNoDataSet && dfNoData < 0 && chPixelType == 'N' )
>     {
>         chPixelType = 'S';
>     }



I'm not sure where my user got this particular data set (which can make all
the difference) but it's really meant to be
pixeltype FLOAT though it's not explicit as I said.

Do you have a suggestion besides getting him to rename his .bil files to
.flt to cause the code to guess FLOAT instead?
Is there a way to supply GDAL with a hint in this case, for instance?  I
could locally modify my GDAL library of course
but if there's another way, I'd prefer it.

(It's funny: I used to have some hand-written code to read .bil datasets
and the like where my default pixel type was FLOAT. Now
the user tells me "this used to work" when in actuality I've really cleaned
up the code by starting to use GDAL instead.  That's
hard to explain to anyone but a programmer of course.)


Thanks for any suggestions!

carl
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121024/9e0385e6/attachment-0001.html>

From antonio.rocha at deimos.com.pt  Wed Oct 24 08:19:45 2012
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Wed, 24 Oct 2012 16:19:45 +0100
Subject: [gdal-dev] Question about using crop_to_cutline
Message-ID: <50880711.8080909@deimos.com.pt>

Greetings

I have a raster image and a shapefile polygon and I wanted to crop the 
raster for just to have valid pixels inside the polygon. I have used 
crop_to_cutline but here is a problem:
It produces a raster map but pixels does not geographically match with 
the original raster map. So, i produce a raster map but I'm not able to 
compare with original image since there is a small displacement. How can 
I obtain a raster map without this mismatch?
Thank you
Regards,
Antonio

GDAL version 1.9.1

From traviskirstine at gmail.com  Wed Oct 24 09:48:13 2012
From: traviskirstine at gmail.com (Travis Kirstine)
Date: Wed, 24 Oct 2012 12:48:13 -0400
Subject: [gdal-dev] reading non baseline tiffs with python image
Message-ID: <CALtm4h3_GjLVm0j+joypFzUm+W-8wzDeZ_8QV=MM5cJPuUp_EA@mail.gmail.com>

I've been using the python image module to resize geotiff images. I've
noticed that if the source tif image is not created using the gdal
PROFILE=BASELINE option the python resize function will return
unexpected results.  The output will have a black boarder around a
portion of the image.  Any thoughts?

From fewayne at wisc.edu  Wed Oct 24 10:21:08 2012
From: fewayne at wisc.edu (Rick Wayne)
Date: Wed, 24 Oct 2012 12:21:08 -0500
Subject: [gdal-dev] Having problems reading a GRIB2 file with GDAL driver
In-Reply-To: <5086FF92.8040008@michiganwxsystem.com>
References: <F0A34421-F66E-4B3E-A2B2-87C4C73F81FE@wisc.edu>
	<5086FF92.8040008@michiganwxsystem.com>
Message-ID: <A8487616-DE9F-4943-B258-345AA908BF4F@wisc.edu>

Dear Jeff,

I want to import it -- probably tiled and pyramid-ed -- into a PostGIS  
2.0 raster, to be published with GeoServer. I can use wgrib2 to create  
a CSV file without trouble, so one option would be to use gdal_grid to  
re-create the raster in, say, a GeoTIFF from the CSV. That seems  
rather clunky, and I'm a little concerned about re-interpolating  
already interpolated data. But if the files won't go into the PostGIS  
raster import utility as is, they won't go in.

Roger, I will try hacking the four trailing bytes off the file and see  
whether the result is usable.

Thanks to you both!

rw

On Oct 23, 2012, at 3:35 PM, Jeff Lake wrote:

> That's a common print out from the GRIB driver
> what are you wanting to do w/ the GRIB file ..
> I might have some better solutions than using GDAL
>

Roger wrote:

> I had the same problem, but with two trailing bytes. [...]
> I solved the problem by removing the bytes using:
>
> dd if=gribFileNameWithTrailingBytes
> of=gribFileNameWithoutTrailingBytes bs=1 skip=0 count=219886
>
> Where count is the original grib file size minus the trailing bytes
> (four, in your case).
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121024/29a493f2/attachment.html>

From even.rouault at mines-paris.org  Wed Oct 24 11:12:07 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 24 Oct 2012 20:12:07 +0200
Subject: [gdal-dev] EHdr guesses wrong pixel type...
In-Reply-To: <CAE=8km=yKFmwBG7oBTAxqprJASeS5_qLPa5GtW98qKetiSMZCQ@mail.gmail.com>
References: <CAE=8km=yKFmwBG7oBTAxqprJASeS5_qLPa5GtW98qKetiSMZCQ@mail.gmail.com>
Message-ID: <201210242012.07251.even.rouault@mines-paris.org>

Le mercredi 24 octobre 2012 16:11:01, Carl Godkin a ?crit :
> Hi,
> 
> I'm using GDAL 1.9.2 to read a .bil data set that has an accompanying .hdr
> file which does not include PIXELTYPE.  It does have NBITS = 32.
> 
> The documentation for the EHdr format mentions
> 
> This driver does not always do well differentiating between floating point
> 
> > and integer data. The GDAL extension to the .hdr format to differentiate
> > is to add a field named PIXELTYPE with values of either FLOAT, SIGNEDINT
> > or UNSIGNEDINT. In combination with the NBITS field it is possible to
> > described all variations of pixel types.
> 
> Unfortunately,  the .hdr file includes a negative NODATA value
> 
> NODATA         -9999
> 
> 
> which causes the pixeltype to be guessed wrong due to this code in
> ehdrdataset.cpp:
> 
>  /* -------------------------------------------------------------------- */
> 
> > /*      If we have a negative nodata value, let's assume that the      
> > */ /*      pixel type is signed. This is necessary for datasets from    
> >   */ /*      http://www.worldclim.org/futdown.htm                       
> >     */ /*
> > -------------------------------------------------------------------- */
> > 
> >     if( bNoDataSet && dfNoData < 0 && chPixelType == 'N' )
> >     {
> >     
> >         chPixelType = 'S';
> >     
> >     }
> 
> I'm not sure where my user got this particular data set (which can make all
> the difference) but it's really meant to be
> pixeltype FLOAT though it's not explicit as I said.
> 
> Do you have a suggestion besides getting him to rename his .bil files to
> .flt to cause the code to guess FLOAT instead?
> Is there a way to supply GDAL with a hint in this case, for instance?  I
> could locally modify my GDAL library of course
> but if there's another way, I'd prefer it.

Carl,

No other suggestion unfortunately with the existing code.

A possible workaround that could be upstreamed would be to introduce a 
EHDR_DATATYPE configuration option, in a similar way to AAIGRID_DATATYPE for 
the AAIGrid driver ( see http://gdal.org/frmt_various.html#AAIGrid ), that 
could be set in order to override the guess made by the EHdr driver.

A more "interesting" approach would be to examine some samples of the .bil file 
and determine if each 4-byte tuple "looks" more like an IEEE754 Floating point 
value or a Int32 one. Not sure if this is doable in practice however, and as 
all heuristics you could always find data that would defeat it.

Best regards,

Even

From even.rouault at mines-paris.org  Wed Oct 24 11:14:16 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 24 Oct 2012 20:14:16 +0200
Subject: [gdal-dev] New OGR driver to read OpenStreetMap .osm / .pbf
	files
In-Reply-To: <50879F86.5060000@metrico.lu>
References: <201207101923.32027.even.rouault@mines-paris.org>
	<1350467675.507e805ba01a0@imp.free.fr>
	<50879F86.5060000@metrico.lu>
Message-ID: <201210242014.16310.even.rouault@mines-paris.org>

Le mercredi 24 octobre 2012 09:57:58, Frank Broniewski a ?crit :
> Hi,
> 
> I had this up my schedule for this week, but I see I need GDAL >= 2.0.
> Where might I get this? From svn (https://svn.osgeo.org/gdal/trunk/gdal)?

Yes, svn trunk = GDAL 2.0dev. 

From warmerdam at pobox.com  Wed Oct 24 11:20:46 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 24 Oct 2012 11:20:46 -0700
Subject: [gdal-dev] reading non baseline tiffs with python image
In-Reply-To: <CALtm4h3_GjLVm0j+joypFzUm+W-8wzDeZ_8QV=MM5cJPuUp_EA@mail.gmail.com>
References: <CALtm4h3_GjLVm0j+joypFzUm+W-8wzDeZ_8QV=MM5cJPuUp_EA@mail.gmail.com>
Message-ID: <CA+YzLBdkH--fjLe+YJDWD+JK8NBTZjqcY4-KTF3hYJvwdo6x+w@mail.gmail.com>

On Wed, Oct 24, 2012 at 9:48 AM, Travis Kirstine
<traviskirstine at gmail.com>wrote:

> I've been using the python image module to resize geotiff images. I've
> noticed that if the source tif image is not created using the gdal
> PROFILE=BASELINE option the python resize function will return
> unexpected results.  The output will have a black boarder around a
> portion of the image.  Any thoughts?


Travis,

Do you mean PIL?  I can't think of any reason this would
happen.  BASELINE normally just means that  GeoTIFF tags
and the custom GDAL_METADATA tag are avoided.   I don't
see why those would make a difference such as you describe
to any other software.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121024/0b0456a5/attachment.html>

From even.rouault at mines-paris.org  Wed Oct 24 11:23:53 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 24 Oct 2012 20:23:53 +0200
Subject: [gdal-dev] Why have I got SRS 900914 in my PostGIS table after
	ogr2ogr alimentation ?
In-Reply-To: <50878F56.4050704@developpement-durable.gouv.fr>
References: <mailman.57.1351018814.7498.gdal-dev@lists.osgeo.org>
	<50878F56.4050704@developpement-durable.gouv.fr>
Message-ID: <201210242023.53863.even.rouault@mines-paris.org>

Le mercredi 24 octobre 2012 08:48:54, SAEZ Laurent - 
SG/SPSSI/CPII/DOM/ETER/PNE IG a ?crit :
> Thanks Even for your answer.
> 
> In fact I add EPSG code 4467 in my spatial_ref_sys with the definition I
> took in PostGIS 2.0.
> So this code is present in the table spatial_ref_sys and I do not
> understand why the code 900914 is added.

ok, I see no reason why this should not work. In order to debug this, you can 
just try to run the following SQL request, which is exactly what the PG driver 
will do to determine if the SRS already exists in spatial_ref_sys or if it 
must add another entry.

SELECT srid FROM spatial_ref_sys WHERE auth_name = 'EPSG' AND auth_srid = 4467

If it doesn't return anything, then a new entry (900914) will be added, 
otherwise it will reuse the returned SRID.

(in order to that query is done, ogr2ogr must know the EPSG code of the source 
datasource. Otherwise you need to force it with -a_srs EPSG:4467 )

Even

From even.rouault at mines-paris.org  Wed Oct 24 11:39:02 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 24 Oct 2012 20:39:02 +0200
Subject: [gdal-dev] Having problems reading a GRIB2 file with GDAL driver
In-Reply-To: <A8487616-DE9F-4943-B258-345AA908BF4F@wisc.edu>
References: <F0A34421-F66E-4B3E-A2B2-87C4C73F81FE@wisc.edu>
	<5086FF92.8040008@michiganwxsystem.com>
	<A8487616-DE9F-4943-B258-345AA908BF4F@wisc.edu>
Message-ID: <201210242039.02208.even.rouault@mines-paris.org>

Le mercredi 24 octobre 2012 19:21:08, Rick Wayne a ?crit :
> Dear Jeff,
> 
> I want to import it -- probably tiled and pyramid-ed -- into a PostGIS
> 2.0 raster, to be published with GeoServer. I can use wgrib2 to create
> a CSV file without trouble, so one option would be to use gdal_grid to
> re-create the raster in, say, a GeoTIFF from the CSV. That seems
> rather clunky, and I'm a little concerned about re-interpolating
> already interpolated data. But if the files won't go into the PostGIS
> raster import utility as is, they won't go in.
> 
> Roger, I will try hacking the four trailing bytes off the file and see
> whether the result is usable.

I've tested the suggested trick about removing the 4 trailing bytes, and it 
indeed removes the warning. Note that using this trick does not seem to be 
compulsory, since except the warning, the GRIB driver works just fine on the 
original file (I've compared the output of gdalinfo -checksum on the original 
and shortened files, and there are identical). So the warning is minor, except 
if you use it in a context when outputing stuff on the standard output causes 
issues (the low-level library used by the GRIB driver has this nasty habit of 
outputting stuff on standard output unfortunately).

From even.rouault at mines-paris.org  Wed Oct 24 11:43:55 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 24 Oct 2012 20:43:55 +0200
Subject: [gdal-dev] problem with compiling grass with gdal
In-Reply-To: <CA+Ei1OcPLpC72da7NiTjejVvWNj8KmqvQY0RAFR6ejwUF0OBEA@mail.gmail.com>
References: <CA+Ei1OesHFGXbyxuH-s5crq8nmJ3+JA7SaDBA2=dc3e+rQPZLw@mail.gmail.com>
	<201210232015.24792.even.rouault@mines-paris.org>
	<CA+Ei1OcPLpC72da7NiTjejVvWNj8KmqvQY0RAFR6ejwUF0OBEA@mail.gmail.com>
Message-ID: <201210242043.55821.even.rouault@mines-paris.org>

Le mardi 23 octobre 2012 21:36:48, Martin Landa a ?crit :
> Hi Even,
> 
> 2012/10/23 Even Rouault <even.rouault at mines-paris.org>:
> > Could you diff the output of the generated GDALmake.opt in trunk and 1.9
> > ? And also the same for config.log ?
> 
> thanks for the quick answer, the files attached.

Hum, still nothing obvious. Perhaps retry to configure trunk --without-libxml2 
, but I'm quite skeptical it will change anything.

Perhaps try to diff the output of ldd libgdal.so ??

> 
> Martin

From traviskirstine at gmail.com  Wed Oct 24 12:47:59 2012
From: traviskirstine at gmail.com (Travis Kirstine)
Date: Wed, 24 Oct 2012 15:47:59 -0400
Subject: [gdal-dev] reading non baseline tiffs with python image
In-Reply-To: <CA+YzLBdkH--fjLe+YJDWD+JK8NBTZjqcY4-KTF3hYJvwdo6x+w@mail.gmail.com>
References: <CALtm4h3_GjLVm0j+joypFzUm+W-8wzDeZ_8QV=MM5cJPuUp_EA@mail.gmail.com>
	<CA+YzLBdkH--fjLe+YJDWD+JK8NBTZjqcY4-KTF3hYJvwdo6x+w@mail.gmail.com>
Message-ID: <CALtm4h30uuF9eo+ap01+mR22QQTFqdk5kKB-PJZZ1io7ykUJ8w@mail.gmail.com>

After poking around a little more it appear the problem is related
internal tiling with the tifs (not the profile) and yes I am using PIL
.



On 24 October 2012 14:20, Frank Warmerdam <warmerdam at pobox.com> wrote:
>
>
> On Wed, Oct 24, 2012 at 9:48 AM, Travis Kirstine <traviskirstine at gmail.com>
> wrote:
>>
>> I've been using the python image module to resize geotiff images. I've
>> noticed that if the source tif image is not created using the gdal
>> PROFILE=BASELINE option the python resize function will return
>> unexpected results.  The output will have a black boarder around a
>> portion of the image.  Any thoughts?
>
>
> Travis,
>
> Do you mean PIL?  I can't think of any reason this would
> happen.  BASELINE normally just means that  GeoTIFF tags
> and the custom GDAL_METADATA tag are avoided.   I don't
> see why those would make a difference such as you describe
> to any other software.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From landa.martin at gmail.com  Wed Oct 24 13:22:01 2012
From: landa.martin at gmail.com (Martin Landa)
Date: Wed, 24 Oct 2012 22:22:01 +0200
Subject: [gdal-dev] problem with compiling grass with gdal
In-Reply-To: <201210242043.55821.even.rouault@mines-paris.org>
References: <CA+Ei1OesHFGXbyxuH-s5crq8nmJ3+JA7SaDBA2=dc3e+rQPZLw@mail.gmail.com>
	<201210232015.24792.even.rouault@mines-paris.org>
	<CA+Ei1OcPLpC72da7NiTjejVvWNj8KmqvQY0RAFR6ejwUF0OBEA@mail.gmail.com>
	<201210242043.55821.even.rouault@mines-paris.org>
Message-ID: <CA+Ei1OcU7HVwJk_9QspdSKfHr5ZCw6deBbH3UmmOKMUDYo-Sew@mail.gmail.com>

Hi,

2012/10/24 Even Rouault <even.rouault at mines-paris.org>:
> Hum, still nothing obvious. Perhaps retry to configure trunk --without-libxml2
> , but I'm quite skeptical it will change anything.

right, `--without-xml2` didn't help. In other worlds there is no difference.

> Perhaps try to diff the output of ldd libgdal.so ??

Apparently libstdc++.so.6 is missing in trunk.

--- ldd-1-9.out 2012-10-24 22:20:50.984698378 +0200
+++ ldd-trunk.out       2012-10-24 22:20:43.092698166 +0200
@@ -12,14 +12,15 @@
        libpq.so.5 => /usr/lib/libpq.so.5
        libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1
        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0
+       libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6
        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1
        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2
+       libpcre.so.3 => /lib/x86_64-linux-gnu/libpcre.so.3
        libcurl.so.4 => /usr/lib/x86_64-linux-gnu/libcurl.so.4
        libOpenCL.so.1 => /usr/lib/x86_64-linux-gnu/libOpenCL.so.1
-       libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6
-       libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6
-       libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6
+       libxml2.so.2 => /usr/lib/x86_64-linux-gnu/libxml2.so.2
        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1
+       libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6
        libltdl.so.7 => /usr/lib/x86_64-linux-gnu/libltdl.so.7
        libhdf5_hl.so.7 => /usr/lib/libhdf5_hl.so.7
        libhdf5.so.7 => /usr/lib/libhdf5.so.7

Martin

-- 
Martin Landa <landa.martin gmail.com> * http://geo.fsv.cvut.cz/~landa

From Laurent.Saez at developpement-durable.gouv.fr  Wed Oct 24 23:34:44 2012
From: Laurent.Saez at developpement-durable.gouv.fr (SAEZ Laurent - SG/SPSSI/CPII/DOM/ETER/PNE IG)
Date: Thu, 25 Oct 2012 08:34:44 +0200
Subject: [gdal-dev] Why have I got SRS 900914 in my PostGIS table after
 ogr2ogr alimentation ?
In-Reply-To: <201210242023.53863.even.rouault@mines-paris.org>
References: <mailman.57.1351018814.7498.gdal-dev@lists.osgeo.org>
	<50878F56.4050704@developpement-durable.gouv.fr>
	<201210242023.53863.even.rouault@mines-paris.org>
Message-ID: <5088DD84.2010303@developpement-durable.gouv.fr>

Thanks Even for your new answer.

I have found my mistake. I haven't deleted the 900914 entry in my 
spatial_ref_sys table.
So, when I request auth_srid = 4467, it returns 2 entries : 900914 and 4467.
When I delete 900914 entry every thing works fine.

Thanks a lot
Laurent



Le 24/10/2012 20:23, > Even Rouault (par Internet) a ?crit  :
> Le mercredi 24 octobre 2012 08:48:54, SAEZ Laurent -
> SG/SPSSI/CPII/DOM/ETER/PNE IG a ?crit :
>> Thanks Even for your answer.
>>
>> In fact I add EPSG code 4467 in my spatial_ref_sys with the definition I
>> took in PostGIS 2.0.
>> So this code is present in the table spatial_ref_sys and I do not
>> understand why the code 900914 is added.
> ok, I see no reason why this should not work. In order to debug this, you can
> just try to run the following SQL request, which is exactly what the PG driver
> will do to determine if the SRS already exists in spatial_ref_sys or if it
> must add another entry.
>
> SELECT srid FROM spatial_ref_sys WHERE auth_name = 'EPSG' AND auth_srid = 4467
>
> If it doesn't return anything, then a new entry (900914) will be added,
> otherwise it will reuse the returned SRID.
>
> (in order to that query is done, ogr2ogr must know the EPSG code of the source
> datasource. Otherwise you need to force it with -a_srs EPSG:4467 )
>
> Even
>
>

From menville.ernest at gmail.com  Thu Oct 25 00:33:38 2012
From: menville.ernest at gmail.com (Ernest Menville)
Date: Thu, 25 Oct 2012 09:33:38 +0200
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <60358EDE3281814C993C0519A6DD0F1903E36177@057-SN2MPN1-063.057d.mgd.msft.net>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<CAKGFd-xVjPkRzZRKrBjT1pXd1tm-cG8tqcg8E0tKQ-cEpvggyw@mail.gmail.com>
	<CAH6VygSR8TSF0KdRyQi0i9DT93T9UVpwDCVW0sfje+Um263VXA@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36152@057-SN2MPN1-063.057d.mgd.msft.net>
	<CAH6VygRM7a7nbEhmxQvcdpSruLwARRM714V-+gHJe4CCWFw00A@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36177@057-SN2MPN1-063.057d.mgd.msft.net>
Message-ID: <CAH6VygRiNkeMtd2syn2TqDxp-J4L_ccfWHgXMx5ei5ev5oi5Tw@mail.gmail.com>

But is it not the main purpose of gdaltransform to transform a lot of
points into another coordinate system? How can I do that, if it is not
possible to save the output coordinates into a text file? (...without
copy&paste in the command line, what is just feasible for a small number of
points)

Ernest

2012/10/23 Moskovitz, Bob at DOC <Bob.Moskovitz at conservation.ca.gov>

>  That?s too bad L  Another way to capture the output is to use ?script?
> before you run gdaltransform (w/o redirecting out).  After you are done
> with gdaltransform, hit CTRL-C, and view the file ?typescript?.****
>
> ** **
>
> -Bob****
>
> ** **
>
> *From:* philipp.glira at gmail.com [mailto:philipp.glira at gmail.com] *On
> Behalf Of *Ernest Menville
> *Sent:* Tuesday, October 23, 2012 9:40 AM
> *To:* Moskovitz, Bob at DOC
> *Cc:* Ernest Menville; Hugo Benicio; gdal-dev at lists.osgeo.org
> *Subject:* Re: gdaltransform - output into textfile****
>
> ** **
>
> ** **
>
> Maybe the output of gdaltransform is going to stderr?  In that case, try:*
> ***
>
>                 gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 <
> WGS84.txt 2> Grid.txt****
>
>  I tried that, with no success - the file is still empty.****
>
> ** **
>
> Regards,****
>
> Ernest ****
>
>   ****
>
> -Bob****
>
>  ****
>
> Robert Moskovitz****
>
> California Geological Survey****
>
> Seismic Hazards Zonation Program****
>
>  ****
>
>  ****
>
> CONFIDENTIALITY NOTICE: This communication is intended only for the use of
> the individual or entity to which it is addressed. This message contains
> information from the State of California, California Geological Survey,
> which may be privileged, confidential and exempt from disclosure under
> applicable law, including the Electronic Communications Privacy Act. If the
> reader of this communication is not the intended recipient, you are hereby
> notified that any dissemination, distribution, or copying of this
> communication is strictly prohibited.****
>
>  ****
>
>  ****
>
>  ****
>
> *From:* gdal-dev-bounces at lists.osgeo.org [mailto:
> gdal-dev-bounces at lists.osgeo.org] *On Behalf Of *Ernest Menville
> *Sent:* Tuesday, October 23, 2012 7:14 AM
> *To:* Hugo Benicio
> *Cc:* gdal-dev at lists.osgeo.org
> *Subject:* Re: [gdal-dev] gdaltransform - output into textfile****
>
>  ****
>
> Hi,****
>
>  ****
>
> if you remove the output redirection >"Grid.txt", what does it do?****
>
>  ****
>
> gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 < "WGS84.txt"****
>
>  ****
>
> Does it print the output on you console/terminal? gdaltransform is
> actually generating an output?****
>
> (You redirection syntax seems ok)****
>
>   ****
>
> Yes, the output without redirection is correct:****
>
>  ****
>
> 1178964.68948322 5931513.41439894 0****
>
> 1213208.56860206 5931513.41439894 0****
>
> 1213208.56860206 5907053.53893779 0****
>
> 1178964.68948322 5907053.53893779 0****
>
>  ****
>
> But I can't save it to a file.****
>
>  ****
>
> regards,****
>
> Ernest****
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/5d56fd48/attachment.html>

From luislisboa1975 at gmail.com  Thu Oct 25 01:44:31 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Thu, 25 Oct 2012 09:44:31 +0100
Subject: [gdal-dev] Question about using crop_to_cutline
Message-ID: <CAKvvP9gSq=sX2k4g_kTeLEKPG1M2FKMfUyuTpWSUFcGUXR+NFA@mail.gmail.com>

Hi

I have exacly the same problem. It is resampling to the extent of the
polygon instead of croping just the pixels inside the polygon and using the
pixel frame of the original image. How can this be fixed?
Regards
Luis Lisboa





--------- ORIGINAL MESSAGE------------------------------

Greetings

I have a raster image and a shapefile polygon and I wanted to crop the
raster for just to have valid pixels inside the polygon. I have used
crop_to_cutline but here is a problem:
It produces a raster map but pixels does not geographically match with
the original raster map. So, i produce a raster map but I'm not able to
compare with original image since there is a small displacement. How can
I obtain a raster map without this mismatch?
Thank you
Regards,
Antonio

GDAL version 1.9.1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/cb977828/attachment-0001.html>

From nikhil.parupalli at iictechnologies.com  Thu Oct 25 04:10:12 2012
From: nikhil.parupalli at iictechnologies.com (Nikhil Sai Parupalli)
Date: Thu, 25 Oct 2012 11:10:12 +0000
Subject: [gdal-dev] ordering of layers
Message-ID: <139560E1825F4648BDA4F32853B530A77F046250@IICEXHC01.iictechnologies.local>

Hi ,

I am trying to load a S57 dataset to my map control using GDAL.
I have diff types of layers i.e
Polygon, Point, Line and multipoint

Here I want to show polygon in the base and points and lines on top of it my code is as follows

 if (layerType == "POLYGON")
                            {
                                FeatureSet fs = new FeatureSet(dt, 1, true, DotSpatial.Topology.FeatureType.Polygon);
                                fs.DataTable = dt.Clone();
                                var c = new DotSpatial.Topology.Coordinate[arrCoordinatesX.Count - 1];
                                for (int k = 0; k < arrCoordinatesX.Count - 1; k++)
                                {
                                    c[k] = new DotSpatial.Topology.Coordinate(Convert.ToDouble(arrCoordinatesX[k]), Convert.ToDouble(arrCoordinatesY[k]));
                                }
                                DotSpatial.Topology.Polygon LS = new DotSpatial.Topology.Polygon(c);
                                DotSpatial.Data.IFeature currentFeature = fs.AddFeature(LS);
                                uxMap.Layers.Add(fs);
                            }


                            else if (layerType == "LINESTRING")
                            {
                                FeatureSet fs = new FeatureSet(dt, 1, true, DotSpatial.Topology.FeatureType.Line);
                                fs.DataTable = dt.Clone();
                                List<DotSpatial.Topology.Coordinate> coordinates = new List<DotSpatial.Topology.Coordinate>();
                                for (int k = 0; k <= arrCoordinatesX.Count - 1; k++)
                                {
                                    coordinates.Add(new DotSpatial.Topology.Coordinate(Convert.ToDouble(arrCoordinatesX[k]), Convert.ToDouble(arrCoordinatesY[k])));
                                }
                                DotSpatial.Topology.LineString LS = new DotSpatial.Topology.LineString(coordinates);
                                DotSpatial.Data.IFeature currentFeature = fs.AddFeature(LS);
                                uxMap.Layers.Add(fs);
                                foreach (DataRow row in dt.Rows)
                                {
                                }
                            }
                            else if (layerType == "POINT")
                            {
                                FeatureSet fs = new FeatureSet(dt, 1, true, DotSpatial.Topology.FeatureType.Point);
                                fs.DataTable = dt.Clone();
                                foreach (DataRow row in dt.Rows)
                                {
                                    for (int k = 0; k <= arrCoordinatesX.Count - 1; k++)
                                    {
                                        DotSpatial.Topology.Coordinate c = new DotSpatial.Topology.Coordinate(Convert.ToDouble(arrCoordinatesX[k]), Convert.ToDouble(arrCoordinatesY[k]));

                                        DotSpatial.Topology.Point p = new DotSpatial.Topology.Point(c);
                                        DotSpatial.Data.IFeature currentFeature = fs.AddFeature(p);
                                        //PointCheck(ds);
                                    }
                                    uxMap.Layers.Add(fs);
                                    //uxMap.Layers.OrderByDescending(fs, 1);

                                }
                            }

                          else   if (layerType == "MULTIPOINT")
                            {
                                FeatureSet fs = new FeatureSet(dt, 1, true, DotSpatial.Topology.FeatureType.Point);
                                fs.DataTable = dt.Clone();
                                foreach (DataRow row in dt.Rows)
                                {
                                    DotSpatial.Topology.Point p = new DotSpatial.Topology.Point();
                                    for (int k = 0; k <= arrCoordinatesX.Count - 1; k++)
                                    {
                                        DotSpatial.Topology.Coordinate c = new DotSpatial.Topology.Coordinate(Convert.ToDouble(arrCoordinatesX[k]), Convert.ToDouble(arrCoordinatesY[k]));
                                        p = new DotSpatial.Topology.Point(c);
                                        DotSpatial.Data.IFeature currentFeature = fs.AddFeature(p);
                                    }
                                    DotSpatial.Topology.MultiPoint mp = new DotSpatial.Topology.MultiPoint(p);
                                    uxMap.Layers.Add(fs);
                                }
                            }
                        }
                        dt.Rows.Clear();
                    }
                }


So how to control this layer order so that i can see all the layers in a single map window


Thanks and Regards
Nikhil Sai Parupalli



Note: Do not print this email until and unless it is really required. Save paper , stay Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/0abde605/attachment.html>

From CABO at NIRAS.DK  Thu Oct 25 04:46:44 2012
From: CABO at NIRAS.DK (=?iso-8859-1?Q?Casper_B=F8rgesen_=28CABO=29?=)
Date: Thu, 25 Oct 2012 11:46:44 +0000
Subject: [gdal-dev] GDAL: RasterizeLayer in C#
Message-ID: <BCF6B63AE0B25941A7F56567B58A2805350F0304@allkexa1.NIRAS.INT>

Hi all,

I am trying to use the OSGeo.GDAL.Gdal.RasterizeLayer() from GDAL 1.9.2 and it seems to require some SWIGTYPE parameters, which I don't know what to do with:

OSGeo.GDAL.Gdal.RasterizeLayer(
    OSGeo.GDAL.Dataset dataset,
    int bands,
    OSGeo.GDAL.SWIGTYPE_p_int band_list,
    OSGeo.OGR.Layer layer,
    OSGeo.GDAL.SWIGTYPE_p_void pfnTransformer,
    OSGeo.GDAL.SWIGTYPE_p_void pTransformArg,
    int burn_values,
    OSGeo.GDAL.SWIGTYPE_p_double burn_values_list,
    string[] options,
    OSGeo.GDAL.Gdal.GDALProgressFuncDelegate callback,
    string callback_data
);

Looking at the source I can trace this method to swig\csharp\gdal\gdal.cs and from there it's outside the range of my capabilities.

Can anyone describe for me how to use this method, or maybe just tell me that this method is not usable in C# at the moment and if it's going to change?

Sorry for reposting, but I would really like to know :)


Regards, Casper
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/8fc6355a/attachment-0001.html>

From katrineggert1980 at gmail.com  Thu Oct 25 07:05:56 2012
From: katrineggert1980 at gmail.com (katrin eggert)
Date: Thu, 25 Oct 2012 15:05:56 +0100
Subject: [gdal-dev] Removing Nodata pixels from raster
Message-ID: <CAGR7mtBXu0et-Bpit-f3mn_k2SLpBgsMXTehrqM3h2vUQTZRHw@mail.gmail.com>

Greetings
I have a Geotif with only one Layer with a size of 6000x5000 but from which
I only have a square of 60x100 with bvalid pixels. the remaining are
NOdata. The problem is that this Geotiff is a big file 90MB and without
these NoData values I would have a much smaller raster.
How can I generate a new Geotiff without these noValid values and with
extent adjusted to the valid pixels?
Thank you
Regards,
Katrin E.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/04245254/attachment.html>

From jluis at ualg.pt  Thu Oct 25 06:47:12 2012
From: jluis at ualg.pt (Joaquim Luis)
Date: Thu, 25 Oct 2012 14:47:12 +0100
Subject: [gdal-dev] Question about using crop_to_cutline
In-Reply-To: <CAKvvP9gSq=sX2k4g_kTeLEKPG1M2FKMfUyuTpWSUFcGUXR+NFA@mail.gmail.com>
References: <CAKvvP9gSq=sX2k4g_kTeLEKPG1M2FKMfUyuTpWSUFcGUXR+NFA@mail.gmail.com>
Message-ID: <508942E0.1030901@ualg.pt>

I have a close functionality in Mirone but it was developed mainly for 
grids, though it works also with images.
With a grid/image loaded, load the polygon too. Next right-click on the 
polygon line and select

ROI Crop Tools -> Crop Image         (or any of the other related options)

and it's done. One thing you may not like is that the resulting image is 
not of the same size (extent) as the original. This is so because I 
(don't remember anymore why) decided to save only the extent 
corresponding to the BoundingBox of the polygon.

Joaquim

> Hi
> I have exacly the same problem. It is resampling to the extent of the 
> polygon instead of croping just the pixels inside the polygon and 
> using the pixel frame of the original image. How can this be fixed?
> Regards
> Luis Lisboa
> --------- ORIGINAL MESSAGE------------------------------
> Greetings
>
> I have a raster image and a shapefile polygon and I wanted to crop the
> raster for just to have valid pixels inside the polygon. I have used
> crop_to_cutline but here is a problem:
> It produces a raster map but pixels does not geographically match with
> the original raster map. So, i produce a raster map but I'm not able to
> compare with original image since there is a small displacement. How can
> I obtain a raster map without this mismatch?
> Thank you
> Regards,
> Antonio
>
> GDAL version 1.9.1
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/1eb7e3a5/attachment.html>

From antonio.rocha at deimos.com.pt  Thu Oct 25 07:52:59 2012
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Thu, 25 Oct 2012 15:52:59 +0100
Subject: [gdal-dev] Question about using crop_to_cutline
Message-ID: <5089524B.6030407@deimos.com.pt>

Hi
Sorry Joaquim but I'm really trying to find a solution based on GDAL.
Thanks
Antonio

> I have a close functionality in Mirone but it was developed mainly for 
> grids, though it works also with images. With a grid/image loaded, 
> load the polygon too. Next right-click on the polygon line and select 
> ROI Crop Tools -> Crop Image (or any of the other related options) and 
> it's done. One thing you may not like is that the resulting image is 
> not of the same size (extent) as the original. This is so because I 
> (don't remember anymore why) decided to save only the extent 
> corresponding to the BoundingBox of the polygon. Joaquim 


From katrineggert1980 at gmail.com  Thu Oct 25 08:32:02 2012
From: katrineggert1980 at gmail.com (katrin eggert)
Date: Thu, 25 Oct 2012 16:32:02 +0100
Subject: [gdal-dev] Removing Nodata pixels from raster
In-Reply-To: <CAJ0mEz0kS8-9Ruve5CaeyWj+Cc7+Moe0AWvDEfeaLbb+2hSXyg@mail.gmail.com>
References: <CAGR7mtBXu0et-Bpit-f3mn_k2SLpBgsMXTehrqM3h2vUQTZRHw@mail.gmail.com>
	<CAJ0mEz0kS8-9Ruve5CaeyWj+Cc7+Moe0AWvDEfeaLbb+2hSXyg@mail.gmail.com>
Message-ID: <CAGR7mtCAEUCPmhX1=KBM_t_ri=hLCiNOf1Kp7FgYkbzd-r6wew@mail.gmail.com>

Hello
No I don't know where my valid pixels are.
Any alternative?

2012/10/25 Kyle Shannon <kyle at pobox.com>

> Katrin,
> Do you know where you valid pixels are in the image?  If so,
> gdal_translate with -srcwin would work:
>
> kyle at ubuntu:~$ gdal_translate -srcwin xoff yoff 60 100 in.tif out.tif
>
> where xoff, yoff are the number of pixels from the image origin that your
> valid region begins(pixels, lines).  See
> http://gdal.org/gdal_translate.html for more info.
>
>
>
> On Thu, Oct 25, 2012 at 8:05 AM, katrin eggert <katrineggert1980 at gmail.com
> > wrote:
>
>> Greetings
>> I have a Geotif with only one Layer with a size of 6000x5000 but from
>> which I only have a square of 60x100 with bvalid pixels. the remaining are
>> NOdata. The problem is that this Geotiff is a big file 90MB and without
>> these NoData values I would have a much smaller raster.
>> How can I generate a new Geotiff without these noValid values and with
>> extent adjusted to the valid pixels?
>> Thank you
>> Regards,
>> Katrin E.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/7ba020e1/attachment.html>

From kyle at pobox.com  Thu Oct 25 08:28:32 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Thu, 25 Oct 2012 09:28:32 -0600
Subject: [gdal-dev] Removing Nodata pixels from raster
In-Reply-To: <CAGR7mtBXu0et-Bpit-f3mn_k2SLpBgsMXTehrqM3h2vUQTZRHw@mail.gmail.com>
References: <CAGR7mtBXu0et-Bpit-f3mn_k2SLpBgsMXTehrqM3h2vUQTZRHw@mail.gmail.com>
Message-ID: <CAJ0mEz0kS8-9Ruve5CaeyWj+Cc7+Moe0AWvDEfeaLbb+2hSXyg@mail.gmail.com>

Katrin,
Do you know where you valid pixels are in the image?  If so, gdal_translate
with -srcwin would work:

kyle at ubuntu:~$ gdal_translate -srcwin xoff yoff 60 100 in.tif out.tif

where xoff, yoff are the number of pixels from the image origin that your
valid region begins(pixels, lines).  See
http://gdal.org/gdal_translate.htmlfor more info.



On Thu, Oct 25, 2012 at 8:05 AM, katrin eggert
<katrineggert1980 at gmail.com>wrote:

> Greetings
> I have a Geotif with only one Layer with a size of 6000x5000 but from
> which I only have a square of 60x100 with bvalid pixels. the remaining are
> NOdata. The problem is that this Geotiff is a big file 90MB and without
> these NoData values I would have a much smaller raster.
> How can I generate a new Geotiff without these noValid values and with
> extent adjusted to the valid pixels?
> Thank you
> Regards,
> Katrin E.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121025/0fbfaaa1/attachment.html>

From even.rouault at mines-paris.org  Thu Oct 25 11:00:02 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 25 Oct 2012 20:00:02 +0200
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <CAH6VygRiNkeMtd2syn2TqDxp-J4L_ccfWHgXMx5ei5ev5oi5Tw@mail.gmail.com>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36177@057-SN2MPN1-063.057d.mgd.msft.net>
	<CAH6VygRiNkeMtd2syn2TqDxp-J4L_ccfWHgXMx5ei5ev5oi5Tw@mail.gmail.com>
Message-ID: <201210252000.02903.even.rouault@mines-paris.org>

Le jeudi 25 octobre 2012 09:33:38, Ernest Menville a ?crit :
> But is it not the main purpose of gdaltransform to transform a lot of
> points into another coordinate system? How can I do that, if it is not
> possible to save the output coordinates into a text file? (...without
> copy&paste in the command line, what is just feasible for a small number of
> points)
> 

For the record, unfortuanetely it won't help you much, but I don't reproduce 
the issues you're facing. The gdaltransform -s_srs EPSG:4326 -t_srs EPSG:3857 
< "WGS84.txt" >"Grid.txt" command just works fine for me. Perhaps an issue with 
your setup ?


From even.rouault at mines-paris.org  Thu Oct 25 11:09:34 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 25 Oct 2012 20:09:34 +0200
Subject: [gdal-dev] Question about using crop_to_cutline
In-Reply-To: <50880711.8080909@deimos.com.pt>
References: <50880711.8080909@deimos.com.pt>
Message-ID: <201210252009.34589.even.rouault@mines-paris.org>

Le mercredi 24 octobre 2012 17:19:45, Ant?nio Rocha a ?crit :
> Greetings
> 
> I have a raster image and a shapefile polygon and I wanted to crop the
> raster for just to have valid pixels inside the polygon. I have used
> crop_to_cutline but here is a problem:
> It produces a raster map but pixels does not geographically match with
> the original raster map. So, i produce a raster map but I'm not able to
> compare with original image since there is a small displacement. How can
> I obtain a raster map without this mismatch?

This is the very same topic that is discussed in 
http://trac.osgeo.org/gdal/ticket/3947 . There's no solution to your problem, 
but some background discussion that explains the current behaviour.

> Thank you
> Regards,
> Antonio
> 
> GDAL version 1.9.1
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From isaac.gerg at gergltd.com  Thu Oct 25 14:55:14 2012
From: isaac.gerg at gergltd.com (Isaac Gerg)
Date: Thu, 25 Oct 2012 17:55:14 -0400
Subject: [gdal-dev] Created a rotated (non-north) geotiff
Message-ID: <CADnN3yXsY4snJCdMgmqPjC5xRAuuMk7Y6EavK3EhFQtxL-iw-Q@mail.gmail.com>

Hi All,

I have a raster image of 2200x1000 pixels.  I know three bits of
information about the geoposition of the raster:
1. The upper left hand corner's lat and long of the image.
2. The pixel size in meters. The pixels are square
3. The rotation of the image relative to the upper left hand corner
position, a bearing if you will.

The documentation on GDAL recommends using setGeoTranform() to
correctly position images from pixel space to world space.  However,
it uses an affine transformation and thus (I believe) implicitly
assumes square pixels in the world space.

My world space is wgs84, lat and long.  Therefore, the output grid is
not square, even locally.

My question is this: is my assumption wrong that the setGeoTransform
function cannot peform the function I desire?

If it can, what would the elements of the affine transformation matrix
look like?

Thanks in advance,
Isaac

From jukka.rahkonen at mmmtike.fi  Fri Oct 26 02:05:06 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 26 Oct 2012 09:05:06 +0000 (UTC)
Subject: [gdal-dev] =?utf-8?q?Question_about_using_crop=5Fto=5Fcutline?=
References: <50880711.8080909@deimos.com.pt>
	<201210252009.34589.even.rouault@mines-paris.org>
Message-ID: <loom.20121026T104538-884@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:


> This is the very same topic that is discussed in 
> http://trac.osgeo.org/gdal/ticket/3947 . There's no solution to your problem, 
> but some background discussion that explains the current behaviour.

This is close to a problem I had once with creating mosaics from individually
warped orthophotos. Accurately calculated extents make pixels to slide a bit and
individually warped images do not share any common canvas for their pixels. I
sketched a plan for forcing the warped image to use a common canvas and found a
python guy to make a program. I have been satisfied with the result.

I believe that the same solution will work for you. You must widen the -te
parameters that is calculated by crop_to_cutline to each direction so that they
match exactly with some pixel row and line of the original image. See figures 3,
4, and 5 in http://www.scangis.org/scangis2007/papers/r3_rahkonen.pdf. The
python code is there too. Without understanding anything about programming I
suppose that the job is done with this:

minmax = get_minmax(tm32_coords)
	minmax_wider = [
		(int(math.floor(minmax[0][0])), int(math.floor(minmax[0][1]))),
		(int(math.ceil (minmax[1][0])), int(math.ceil (minmax[1][1]))),
	]

	log("Extents (min,max): " + str(minmax), outfilename)
	log("Widened extents (min,max): " + str(minmax_wider), outfilename)

-Jukka Rahkonen-


From landa.martin at gmail.com  Fri Oct 26 03:04:35 2012
From: landa.martin at gmail.com (Martin Landa)
Date: Fri, 26 Oct 2012 12:04:35 +0200
Subject: [gdal-dev] OGR-VFK in 1.9
In-Reply-To: <CA+TxYvMK7JGnUXeD1UMhBY5OHtccPkB3zizjm+7p6WUsspHARg@mail.gmail.com>
References: <CA+Ei1OdT2y5sB14Ro11RNZWv5hMOTtUUJOGj9aQvchiG5mLYhw@mail.gmail.com>
	<CA+TxYvMK7JGnUXeD1UMhBY5OHtccPkB3zizjm+7p6WUsspHARg@mail.gmail.com>
Message-ID: <CA+Ei1Oce71j8AzSH2rAQPGP2Avf4jQuOTMCQ9vsZ_HwH-9L-bQ@mail.gmail.com>

Hi,

2012/1/18 Etienne Tourigny <etourigny.dev at gmail.com>:
> However, as your changes only affect your driver, I think it would be
> easier to commit them to 1.9.0 without an RFC.  It would be easier if
> you prepare a small wiki page (similar to RFCs) describing the
> changes, and create at least one bug entry.

I have filled the ticket for this issue [1]. If a wiki page is also
required I will prepare it too.

Thanks for info in advance. Best regards, Martin

[1] http://trac.osgeo.org/gdal/ticket/4872

-- 
Martin Landa <landa.martin gmail.com> * http://geo.fsv.cvut.cz/~landa

From jukka.rahkonen at mmmtike.fi  Fri Oct 26 04:10:11 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 26 Oct 2012 11:10:11 +0000 (UTC)
Subject: [gdal-dev] gdaltransform - output into textfile
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36177@057-SN2MPN1-063.057d.mgd.msft.net>
	<CAH6VygRiNkeMtd2syn2TqDxp-J4L_ccfWHgXMx5ei5ev5oi5Tw@mail.gmail.com>
	<201210252000.02903.even.rouault@mines-paris.org>
Message-ID: <loom.20121026T130444-900@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:

 
> For the record, unfortuanetely it won't help you much, but I don't 
reproduce 
> the issues you're facing. The gdaltransform -s_srs EPSG:4326 -t_srs 
EPSG:3857 
> < "WGS84.txt" >"Grid.txt" command just works fine for me. Perhaps an 
issue with 
> your setup ?

He is not the only one. I tried the command too and it does create the 
grid.txt file but it remains empty, just as described.

My GDAL version is development build from 24th October (MSVC2010 x64).

-Jukka Rahkonen-


From mariusjigmond at hotmail.com  Fri Oct 26 05:34:12 2012
From: mariusjigmond at hotmail.com (Marius Jigmond)
Date: Fri, 26 Oct 2012 07:34:12 -0500
Subject: [gdal-dev] Question about using crop_to_cutline
In-Reply-To: <loom.20121026T104538-884@post.gmane.org>
References: <50880711.8080909@deimos.com.pt>,
	<201210252009.34589.even.rouault@mines-paris.org>,
	<loom.20121026T104538-884@post.gmane.org>
Message-ID: <SNT002-W17126E3C9AE7B7954A4A98B27E0@phx.gbl>

At the time I created the ticket I had created a workaround that uses gdal_translate to clip a rectangular window and gdal_rasterize to burn an inverse image of the vector. Interested folks can email me for the script (does the list take attachments?). The script makes some assumptions about your data type (e.g. 0 is assigned as nodata) but you can change those assumptions to suit your needs.
I plan to make the feature request I mentioned in #3947.
-marius
> To: gdal-dev at lists.osgeo.org
> From: jukka.rahkonen at mmmtike.fi
> Date: Fri, 26 Oct 2012 09:05:06 +0000
> Subject: Re: [gdal-dev] Question about using crop_to_cutline
> 
> Even Rouault <even.rouault <at> mines-paris.org> writes:
> 
> 
> > This is the very same topic that is discussed in 
> > http://trac.osgeo.org/gdal/ticket/3947 . There's no solution to your problem, 
> > but some background discussion that explains the current behaviour.
> 
> This is close to a problem I had once with creating mosaics from individually
> warped orthophotos. Accurately calculated extents make pixels to slide a bit and
> individually warped images do not share any common canvas for their pixels. I
> sketched a plan for forcing the warped image to use a common canvas and found a
> python guy to make a program. I have been satisfied with the result.
> 
> I believe that the same solution will work for you. You must widen the -te
> parameters that is calculated by crop_to_cutline to each direction so that they
> match exactly with some pixel row and line of the original image. See figures 3,
> 4, and 5 in http://www.scangis.org/scangis2007/papers/r3_rahkonen.pdf. The
> python code is there too. Without understanding anything about programming I
> suppose that the job is done with this:
> 
> minmax = get_minmax(tm32_coords)
> 	minmax_wider = [
> 		(int(math.floor(minmax[0][0])), int(math.floor(minmax[0][1]))),
> 		(int(math.ceil (minmax[1][0])), int(math.ceil (minmax[1][1]))),
> 	]
> 
> 	log("Extents (min,max): " + str(minmax), outfilename)
> 	log("Widened extents (min,max): " + str(minmax_wider), outfilename)
> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121026/4256bc94/attachment.html>

From etourigny.dev at gmail.com  Fri Oct 26 06:23:01 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Fri, 26 Oct 2012 11:23:01 -0200
Subject: [gdal-dev] Removing Nodata pixels from raster
In-Reply-To: <CAGR7mtCAEUCPmhX1=KBM_t_ri=hLCiNOf1Kp7FgYkbzd-r6wew@mail.gmail.com>
References: <CAGR7mtBXu0et-Bpit-f3mn_k2SLpBgsMXTehrqM3h2vUQTZRHw@mail.gmail.com>
	<CAJ0mEz0kS8-9Ruve5CaeyWj+Cc7+Moe0AWvDEfeaLbb+2hSXyg@mail.gmail.com>
	<CAGR7mtCAEUCPmhX1=KBM_t_ri=hLCiNOf1Kp7FgYkbzd-r6wew@mail.gmail.com>
Message-ID: <CA+TxYvMz=pxBUXGsV2ebWjibnsLFM7Dw-3pHFxFOJsCmQr_NpA@mail.gmail.com>

you can surely identify the valid pixels with visualization software
such as qgis, using the valuetool plugin, to identify the 4 corners of
the valid region.

Another option is to compress the gtiff with e.g. DEFLATE compression like this

gdal_translate -co COMPRESS=DEFLATE in.tif out.tif

Etienne

On Thu, Oct 25, 2012 at 1:32 PM, katrin eggert
<katrineggert1980 at gmail.com> wrote:
> Hello
> No I don't know where my valid pixels are.
> Any alternative?
>
> 2012/10/25 Kyle Shannon <kyle at pobox.com>
>>
>> Katrin,
>> Do you know where you valid pixels are in the image?  If so,
>> gdal_translate with -srcwin would work:
>>
>> kyle at ubuntu:~$ gdal_translate -srcwin xoff yoff 60 100 in.tif out.tif
>>
>> where xoff, yoff are the number of pixels from the image origin that your
>> valid region begins(pixels, lines).  See http://gdal.org/gdal_translate.html
>> for more info.
>>
>>
>>
>> On Thu, Oct 25, 2012 at 8:05 AM, katrin eggert
>> <katrineggert1980 at gmail.com> wrote:
>>>
>>> Greetings
>>> I have a Geotif with only one Layer with a size of 6000x5000 but from
>>> which I only have a square of 60x100 with bvalid pixels. the remaining are
>>> NOdata. The problem is that this Geotiff is a big file 90MB and without
>>> these NoData values I would have a much smaller raster.
>>> How can I generate a new Geotiff without these noValid values and with
>>> extent adjusted to the valid pixels?
>>> Thank you
>>> Regards,
>>> Katrin E.
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Fri Oct 26 07:26:25 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 26 Oct 2012 16:26:25 +0200
Subject: [gdal-dev] gdaltransform - output into textfile
In-Reply-To: <loom.20121026T130444-900@post.gmane.org>
References: <CAH6VygQa-Sbp_Cs-2+eJ6-+zxPw1fOmr41xudWMxQ2WOwNffvA@mail.gmail.com>
	<60358EDE3281814C993C0519A6DD0F1903E36177@057-SN2MPN1-063.057d.mgd.msft.net>
	<CAH6VygRiNkeMtd2syn2TqDxp-J4L_ccfWHgXMx5ei5ev5oi5Tw@mail.gmail.com>
	<201210252000.02903.even.rouault@mines-paris.org>
	<loom.20121026T130444-900@post.gmane.org>
Message-ID: <1351261585.508a9d91813ff@imp.free.fr>

Selon Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:

> Even Rouault <even.rouault <at> mines-paris.org> writes:
>
>
> > For the record, unfortuanetely it won't help you much, but I don't
> reproduce
> > the issues you're facing. The gdaltransform -s_srs EPSG:4326 -t_srs
> EPSG:3857
> > < "WGS84.txt" >"Grid.txt" command just works fine for me. Perhaps an
> issue with
> > your setup ?
>
> He is not the only one. I tried the command too and it does create the
> grid.txt file but it remains empty, just as described.
>
> My GDAL version is development build from 24th October (MSVC2010 x64).

I had only tested with Linux. I've just tested with custom builds on Windows 32
bit with MSVC 7.1 and 9.0 and still don't reproduce any issue. Mysterious.

>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From ivan.lucena at princeton-ma.us  Fri Oct 26 08:52:18 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Fri, 26 Oct 2012 10:52:18 -0500
Subject: [gdal-dev] =?iso-8859-1?q?JRE_vs_JDK?=
Message-ID: <20121026155218.17468.qmail@s466.sureserver.com>

Hi there,

I am getting this exception when loading gdal.jar:

*
Native library load failed.
java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.HasThreadSupport()I
*

If I change the script that launch my application to use the "java.exe" from the JDK instead of the JRE then the problem is gone. The problem is that users usually have only JRE. Right?

Anyway, It doesn't seems like there is nothing wrong with the GDAL built. I also try the same test with Tamas' binaries but got the same strange error.

An by looking at swig/include/java/*.i I can see that some of the loadLibrary would issue that message before the exception.

"WARNING : GDAL should be compiled with thread support for safe execution in Java."

But I am not getting it. So the error must be coming from loading "gdalconstjni.dll" or "osrjni.dll" but not "gdaljni.dll" or "ogrjni.dll"

I haven't tried that with Linux but I will.

I search for "java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.HasThreadSupport()I" on the web there are a hand full of question about that but none of the suggestions mentioned the JRE vs JDK issue.

Does anybody has a clue?

Regards,

Ivan

From Volker.Wichmann at uibk.ac.at  Fri Oct 26 08:33:56 2012
From: Volker.Wichmann at uibk.ac.at (Volker Wichmann)
Date: Fri, 26 Oct 2012 17:33:56 +0200
Subject: [gdal-dev] Removing Nodata pixels from raster
In-Reply-To: <CAGR7mtCAEUCPmhX1=KBM_t_ri=hLCiNOf1Kp7FgYkbzd-r6wew@mail.gmail.com>
References: <CAGR7mtBXu0et-Bpit-f3mn_k2SLpBgsMXTehrqM3h2vUQTZRHw@mail.gmail.com>
	<CAJ0mEz0kS8-9Ruve5CaeyWj+Cc7+Moe0AWvDEfeaLbb+2hSXyg@mail.gmail.com>
	<CAGR7mtCAEUCPmhX1=KBM_t_ri=hLCiNOf1Kp7FgYkbzd-r6wew@mail.gmail.com>
Message-ID: <508AAD64.9020407@uibk.ac.at>

In SAGA GIS there is a "Crop to Data" module (in Grid Tools module 
library), which performs the task.

But this would require you to import your Geotif with the GDAL import 
module, process it in SAGA, and finally export it as Geotif again with 
the GDAL export module.

Best regards,
Volker

On 10/25/2012 05:32 PM, katrin eggert wrote:
> Hello
> No I don't know where my valid pixels are.
> Any alternative?
>
> 2012/10/25 Kyle Shannon <kyle at pobox.com>
>
>> Katrin,
>> Do you know where you valid pixels are in the image?  If so,
>> gdal_translate with -srcwin would work:
>>
>> kyle at ubuntu:~$ gdal_translate -srcwin xoff yoff 60 100 in.tif out.tif
>>
>> where xoff, yoff are the number of pixels from the image origin that your
>> valid region begins(pixels, lines).  See
>> http://gdal.org/gdal_translate.html for more info.
>>
>>
>>
>> On Thu, Oct 25, 2012 at 8:05 AM, katrin eggert <katrineggert1980 at gmail.com
>>> wrote:
>>
>>> Greetings
>>> I have a Geotif with only one Layer with a size of 6000x5000 but from
>>> which I only have a square of 60x100 with bvalid pixels. the remaining are
>>> NOdata. The problem is that this Geotiff is a big file 90MB and without
>>> these NoData values I would have a much smaller raster.
>>> How can I generate a new Geotiff without these noValid values and with
>>> extent adjusted to the valid pixels?
>>> Thank you
>>> Regards,
>>> Katrin E.
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From pwillis at aslenv.com  Fri Oct 26 09:07:33 2012
From: pwillis at aslenv.com (Peter Willis)
Date: Fri, 26 Oct 2012 09:07:33 -0700
Subject: [gdal-dev] Is it possible to ehance input channels separately with
	gdal_translate ?
Message-ID: <000901cdb394$01ec2f80$05c48e80$@aslenv.com>

Hello,

I have some input data where the dynamic range and offset of each channel
are distinct.

This means that applying the same linear enhancement based on data range to
my selected RGB output
bands will not produce an optimal visual enhancement. 

-scale smin smax dmin dmax

only provides the same linear enhancement for all selected input channels
(bands).

Also the default causes gdal_translate to calculate the enhancement from the
data which 
is also the wrong thing to do owing to the relative changeability of albedo
from one scene to another
due to the possible presence or absence of cloud, snow, or sand, vs. water
or coal piles  (light vs. dark) etc..
and also the relative difference in dynamic range between channels.

QUESTION: 

Is there a way to enhance  my input channels separately in a single
gdal_translate call, or do I need
to make multiple passes?

Thanks

Peter




From even.rouault at mines-paris.org  Fri Oct 26 11:15:27 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 26 Oct 2012 20:15:27 +0200
Subject: [gdal-dev] Is it possible to ehance input channels separately
	with gdal_translate ?
In-Reply-To: <000901cdb394$01ec2f80$05c48e80$@aslenv.com>
References: <000901cdb394$01ec2f80$05c48e80$@aslenv.com>
Message-ID: <201210262015.27627.even.rouault@mines-paris.org>


> QUESTION:
> 
> Is there a way to enhance  my input channels separately in a single
> gdal_translate call, or do I need
> to make multiple passes?

Multiple passes. But you could also generate a VRT with a different rescaling 
for each channel, and translate it into the target dataset.

> 
> Thanks
> 
> Peter
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Fri Oct 26 11:26:47 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 26 Oct 2012 20:26:47 +0200
Subject: [gdal-dev] JRE vs JDK
In-Reply-To: <20121026155218.17468.qmail@s466.sureserver.com>
References: <20121026155218.17468.qmail@s466.sureserver.com>
Message-ID: <201210262026.48055.even.rouault@mines-paris.org>

Le vendredi 26 octobre 2012 17:52:18, Ivan Lucena a ?crit :
> Hi there,
> 
> I am getting this exception when loading gdal.jar:
> 
> *
> Native library load failed.
> java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.HasThreadSupport()I
> *
> 
> If I change the script that launch my application to use the "java.exe"
> from the JDK instead of the JRE then the problem is gone. The problem is
> that users usually have only JRE. Right?
> 
> Anyway, It doesn't seems like there is nothing wrong with the GDAL built. I
> also try the same test with Tamas' binaries but got the same strange
> error.
> 
> An by looking at swig/include/java/*.i I can see that some of the
> loadLibrary would issue that message before the exception.
> 
> "WARNING : GDAL should be compiled with thread support for safe execution
> in Java."
> 
> But I am not getting it. So the error must be coming from loading
> "gdalconstjni.dll" or "osrjni.dll" but not "gdaljni.dll" or "ogrjni.dll"
> 
> I haven't tried that with Linux but I will.
> 
> I search for "java.lang.UnsatisfiedLinkError:
> org.gdal.gdal.gdalJNI.HasThreadSupport()I" on the web there are a hand
> full of question about that but none of the suggestions mentioned the JRE
> vs JDK issue.
> 
> Does anybody has a clue?

I'm a bit skeptical about this being a JRE vs JDK issue. I suspect that you 
have an issue with the supporting dll (the 4 jni ones and gdalXXX.dll and its 
dependencies) not being found in the PATH.

I've just tried with an older release-1500-dev.zip from Tamas site and a JRE. 

I put gdalinfo.class (compiled from the samples in swig/java/apps) in C:
\release-1500-dev\release-1500\bin\gdal\java

And then, after calling SDKShell.bat, just run from there :

C:\release-1500-dev\release-1500\bin\gdal\java>java -cp gdal.jar;. gdalinfo

Seems to work.

Regards,

Even

From ivan.lucena at princeton-ma.us  Fri Oct 26 13:00:24 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Fri, 26 Oct 2012 15:00:24 -0500
Subject: [gdal-dev] =?iso-8859-1?q?JRE_vs_JDK?=
In-Reply-To: <201210262026.48055.even.rouault@mines-paris.org>
References: <20121026155218.17468.qmail@s466.sureserver.com>
	<201210262026.48055.even.rouault@mines-paris.org>
Message-ID: <20121026200025.31697.qmail@s466.sureserver.com>

Hi Even,

>  -------Original Message-------
>  From: Even Rouault <even.rouault at mines-paris.org>
>  To: gdal-dev at lists.osgeo.org, Ivan Lucena <ivan.lucena at princeton-ma.us>
>  Subject: Re: [gdal-dev] JRE vs JDK
>  Sent: Oct 26 '12 13:26
>  
>  Le vendredi 26 octobre 2012 17:52:18, Ivan Lucena a ?crit :
>  > Hi there,
>  >
>  > I am getting this exception when loading gdal.jar:
>  >
>  > *
>  > Native library load failed.
>  > java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.HasThreadSupport()I
>  > *
>  >
>  > If I change the script that launch my application to use the "java.exe"
>  > from the JDK instead of the JRE then the problem is gone. The problem is
>  > that users usually have only JRE. Right?
>  >
>  > Anyway, It doesn't seems like there is nothing wrong with the GDAL built. I
>  > also try the same test with Tamas' binaries but got the same strange
>  > error.
>  >
>  > An by looking at swig/include/java/*.i I can see that some of the
>  > loadLibrary would issue that message before the exception.
>  >
>  > "WARNING : GDAL should be compiled with thread support for safe execution
>  > in Java."
>  >
>  > But I am not getting it. So the error must be coming from loading
>  > "gdalconstjni.dll" or "osrjni.dll" but not "gdaljni.dll" or "ogrjni.dll"
>  >
>  > I haven't tried that with Linux but I will.
>  >
>  > I search for "java.lang.UnsatisfiedLinkError:
>  > org.gdal.gdal.gdalJNI.HasThreadSupport()I" on the web there are a hand
>  > full of question about that but none of the suggestions mentioned the JRE
>  > vs JDK issue.
>  >
>  > Does anybody has a clue?
>  
>  I'm a bit skeptical about this being a JRE vs JDK issue. I suspect that you
>  have an issue with the supporting dll (the 4 jni ones and gdalXXX.dll and its
>  dependencies) not being found in the PATH.

You are right. But if one of the GDAL/OGR JNI DLL was missing, the message would be something like:

java.lang.UnsatisfiedLinkError: no gdaljni in java.library.path
Exception in thread "main" java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI
.AllRegister()V
        at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
        at org.gdal.gdal.gdal.AllRegister(gdal.java:475)

The problem seems to be the dependencies. Looking at he Process Monitor I can see that there is a lot of confusion going on between 64 and 32 bits versions of third level DLLs (GDAL -> plugin -> SDK-X -> etc. -> etc.). 

It is a Windows 7 64 bits machine.

All I need to do is to complete isolate the PATH on my script from whatever is on the system PATH by *not* using %PATH% at all. Not either before or *after* the paths I need! Yes, not even after. That WOW64 is very strange.

>  
>  I've just tried with an older release-1500-dev.zip from Tamas site and a JRE.
>  
>  I put gdalinfo.class (compiled from the samples in swig/java/apps) in C:
>  \release-1500-dev\release-1500\bin\gdal\java
>  
>  And then, after calling SDKShell.bat, just run from there :
>  
>  C:\release-1500-dev\release-1500\bin\gdal\java>java -cp gdal.jar;. gdalinfo
>  
>  Seems to work.

Thank you so very much for doing that test.

Best regards,

Ivan

From s.r.kriishna at gmail.com  Sun Oct 28 03:42:52 2012
From: s.r.kriishna at gmail.com (SIVA RAMA KRISHNA)
Date: Sun, 28 Oct 2012 16:12:52 +0530
Subject: [gdal-dev] (no subject)
Message-ID: <CAP-zkzcC-1BVpiuAUGMGBxDi2t5AUFpbMVDfkQ484QOaZxjAwA@mail.gmail.com>

s.r.kriishna at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121028/2cc8600e/attachment.html>

From noonslists+gdal at gmail.com  Sun Oct 28 03:43:00 2012
From: noonslists+gdal at gmail.com (Noon Silk)
Date: Sun, 28 Oct 2012 21:43:00 +1100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
Message-ID: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>

Hi All,

 I'm trying to read DWG files and output OGR layers. I note, actually,
that there exists an OgrDwgDatasource in the C++; but I don't believe
it is built by default.

 My difficutly comes in in that I'm using the SWIG-generated bindings.
I tried porting the C++ datasource code to C#, but stumbled upon a
problem - SWIG hadn't generated a usable OSGeo.OGR.DataSource. The
problem is, when you want to implement your subclass, you need to pass
some information to the constructor that you can't obtain (i.e. a new
instance of the DataSource). The reason why, I suppose, is that SWIG
hasn't even generated a newDatasource() method. So I find myself
wondering why, and being a bit confused.

 I think basically I must be approaching this wrong. I'm supposing
what I should do is to compile OGR with DWG support (i.e. use the
OgrDwgDataSource.cpp that exists in ogr_frmts/dwg) and then have it
generate SWIG bindings from here. My concern with this is that,
glancing at the build scripts, it looks like it will work with
"DWGDirect", which I think is a precursor to Teigha. So I'm slightly
concerned that following this path will lead to build difficulties.

 I suppose my question here is; what is the standard way to do this? I
would like to make use of the stuff already pre-written in Ogr to do
this, but I could be convinced that it's just better to approach it
from the Teigha side; converting to OGR myself. But of course I'd far
prefer just to simply change a small build parameter, get all the
correct SWIG bindings, and then just perform everything in C# ...

 Appreciate any thoughts.

--
Noon

From chaitanya.ch at gmail.com  Sun Oct 28 05:55:08 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sun, 28 Oct 2012 18:25:08 +0530
Subject: [gdal-dev] breaking lines at intersection
In-Reply-To: <CAP-zkzcS5QBvZ-xq9Cw8mq+2X7eUq0kO==VzqONLu3igtOFuPQ@mail.gmail.com>
References: <CAP-zkzcS5QBvZ-xq9Cw8mq+2X7eUq0kO==VzqONLu3igtOFuPQ@mail.gmail.com>
Message-ID: <CAMKgpOZdC60EWbn7TMw-vO8xtYMmiXO3Fw=rzbmJF_NStct4eQ@mail.gmail.com>

Siva,

There is currently no direct function to break lines at intersections. In
any case, it is a simple operation with complex options. What attributes
should the new pieces get? Should we save it to a new layer or append to
the current layer? Should we modify the original feature to retain one of
the pieces? When two lines intersect, which one of them should be split?...
So, please write your own procedure and do share your experience.

On Sun, Oct 28, 2012 at 4:21 PM, SIVA RAMA KRISHNA
<s.r.kriishna at gmail.com>wrote:

> hai,
>
>
>          would you tell whether i can do Breaking lines at intersection in
> vector files using gdal
>
>
>
>        any help will be greatly appreciated
>
>
> with Regards
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121028/7751adee/attachment.html>

From szekerest at gmail.com  Sun Oct 28 10:49:32 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sun, 28 Oct 2012 18:49:32 +0100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
In-Reply-To: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
References: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
Message-ID: <CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>

Noon,

The C# bindings provided by OGR provide a common interface for all drivers.
You can use the Datasource class for each of the drivers . You can
instatiate the driver by using the driver specific connection string (ie by
using Ogr.Open) or obtain a specific driver (Ogr.GetDriverByName)  and open
the datasource on that (Driver.Open).

You may however need to compile the DWG driver with OGR if that is provided
by default with the binary distribution you are using. According to your
concerns, enabling or not enabling the driver should not affect compilation
of the SWIG interface.

Best regards,

Tamas



2012/10/28 Noon Silk <noonslists+gdal at gmail.com>

> Hi All,
>
>  I'm trying to read DWG files and output OGR layers. I note, actually,
> that there exists an OgrDwgDatasource in the C++; but I don't believe
> it is built by default.
>
>  My difficutly comes in in that I'm using the SWIG-generated bindings.
> I tried porting the C++ datasource code to C#, but stumbled upon a
> problem - SWIG hadn't generated a usable OSGeo.OGR.DataSource. The
> problem is, when you want to implement your subclass, you need to pass
> some information to the constructor that you can't obtain (i.e. a new
> instance of the DataSource). The reason why, I suppose, is that SWIG
> hasn't even generated a newDatasource() method. So I find myself
> wondering why, and being a bit confused.
>
>  I think basically I must be approaching this wrong. I'm supposing
> what I should do is to compile OGR with DWG support (i.e. use the
> OgrDwgDataSource.cpp that exists in ogr_frmts/dwg) and then have it
> generate SWIG bindings from here. My concern with this is that,
> glancing at the build scripts, it looks like it will work with
> "DWGDirect", which I think is a precursor to Teigha. So I'm slightly
> concerned that following this path will lead to build difficulties.
>
>  I suppose my question here is; what is the standard way to do this? I
> would like to make use of the stuff already pre-written in Ogr to do
> this, but I could be convinced that it's just better to approach it
> from the Teigha side; converting to OGR myself. But of course I'd far
> prefer just to simply change a small build parameter, get all the
> correct SWIG bindings, and then just perform everything in C# ...
>
>  Appreciate any thoughts.
>
> --
> Noon
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121028/b931bd0a/attachment.html>

From ragi at burhum.com  Sun Oct 28 12:54:57 2012
From: ragi at burhum.com (Ragi Burhum)
Date: Sun, 28 Oct 2012 12:54:57 -0700
Subject: [gdal-dev] Homebrew Package Manager and libKML dependency on libkml
	1.3
Message-ID: <CA+g+PQD34u9ey-oGcD+RBDAe44+sT_xdysTK5F7QiDJvCyLJfg@mail.gmail.com>

Hello everyone,

I was looking into adding the libKML OGR driver to the ever popular Mac OSX
package manager Homebrew <http://mxcl.github.com/homebrew/>. After digging
into why it wasn't building the driver, I realized it was because the
libKML driver depends on version "1.3", which has never been released (it
builds against trunk).

Frank, I noticed you were a committer on that
project<http://code.google.com/p/libkml/people/list> as
well. Is there any way we can do an official libKML1.3 release?
(Understandably, It is hard to convince any package manager to add an
official dependency to a trunk version of a project). If not, does the OGR
libKML use any specific functionality of libKML1.3 that it cannot live
without?

Thanks,

- Ragi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121028/96dc9306/attachment.html>

From warmerdam at pobox.com  Sun Oct 28 15:04:53 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun, 28 Oct 2012 15:04:53 -0700
Subject: [gdal-dev] Homebrew Package Manager and libKML dependency on
 libkml 1.3
In-Reply-To: <CA+g+PQD34u9ey-oGcD+RBDAe44+sT_xdysTK5F7QiDJvCyLJfg@mail.gmail.com>
References: <CA+g+PQD34u9ey-oGcD+RBDAe44+sT_xdysTK5F7QiDJvCyLJfg@mail.gmail.com>
Message-ID: <508DAC05.4060806@pobox.com>

On 12-10-28 12:54 PM, Ragi Burhum wrote:
> Hello everyone,
>
> I was looking into adding the libKML OGR driver to the ever popular Mac OSX
> package manager Homebrew <http://mxcl.github.com/homebrew/>. After digging into
> why it wasn't building the driver, I realized it was because the libKML driver
> depends on version "1.3", which has never been released (it builds against trunk).
>
> Frank, I noticed you were a committer on that project
> <http://code.google.com/p/libkml/people/list> as well. Is there any way we can
> do an official libKML1.3 release? (Understandably, It is hard to convince any
> package manager to add an official dependency to a trunk version of a project).
> If not, does the OGR libKML use any specific functionality of libKML1.3 that it
> cannot live without?

Ragi,

I'm new as a libkml commiter and haven't actually contributed yet,
but I'll see what I can do to arrange a release.  I have also recently
built libkml support into OSGeo4W and had to use trunk.  Kind of ugly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer


From noonslists+gdal at gmail.com  Sun Oct 28 17:13:14 2012
From: noonslists+gdal at gmail.com (Noon Silk)
Date: Mon, 29 Oct 2012 11:13:14 +1100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
In-Reply-To: <CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>
References: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
	<CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>
Message-ID: <CADt_azadkw7vg20xOpCRRy6HvEk6YBDJefY-zr3S3XEvap8fRw@mail.gmail.com>

Hi Tamas,

 Thanks.

 I'm partly towards getting a build going; but am I to understand that
generating the SWIG bindings is best done from linux? (That is, I note
that the code to generate the bindings is in a shell script; I'm
currently attempting to figure out how to run it, but I'm not sure if
there is a better way; I.e. I'm running "mkinterface.sh", which I
found from "mkdgdaldist.sh").

--
Noon


On Mon, Oct 29, 2012 at 4:49 AM, Tamas Szekeres <szekerest at gmail.com> wrote:
> Noon,
>
> The C# bindings provided by OGR provide a common interface for all drivers.
> You can use the Datasource class for each of the drivers . You can
> instatiate the driver by using the driver specific connection string (ie by
> using Ogr.Open) or obtain a specific driver (Ogr.GetDriverByName)  and open
> the datasource on that (Driver.Open).
>
> You may however need to compile the DWG driver with OGR if that is provided
> by default with the binary distribution you are using. According to your
> concerns, enabling or not enabling the driver should not affect compilation
> of the SWIG interface.
>
> Best regards,
>
> Tamas
>
>
>
> 2012/10/28 Noon Silk <noonslists+gdal at gmail.com>
>>
>> Hi All,
>>
>>  I'm trying to read DWG files and output OGR layers. I note, actually,
>> that there exists an OgrDwgDatasource in the C++; but I don't believe
>> it is built by default.
>>
>>  My difficutly comes in in that I'm using the SWIG-generated bindings.
>> I tried porting the C++ datasource code to C#, but stumbled upon a
>> problem - SWIG hadn't generated a usable OSGeo.OGR.DataSource. The
>> problem is, when you want to implement your subclass, you need to pass
>> some information to the constructor that you can't obtain (i.e. a new
>> instance of the DataSource). The reason why, I suppose, is that SWIG
>> hasn't even generated a newDatasource() method. So I find myself
>> wondering why, and being a bit confused.
>>
>>  I think basically I must be approaching this wrong. I'm supposing
>> what I should do is to compile OGR with DWG support (i.e. use the
>> OgrDwgDataSource.cpp that exists in ogr_frmts/dwg) and then have it
>> generate SWIG bindings from here. My concern with this is that,
>> glancing at the build scripts, it looks like it will work with
>> "DWGDirect", which I think is a precursor to Teigha. So I'm slightly
>> concerned that following this path will lead to build difficulties.
>>
>>  I suppose my question here is; what is the standard way to do this? I
>> would like to make use of the stuff already pre-written in Ogr to do
>> this, but I could be convinced that it's just better to approach it
>> from the Teigha side; converting to OGR myself. But of course I'd far
>> prefer just to simply change a small build parameter, get all the
>> correct SWIG bindings, and then just perform everything in C# ...
>>
>>  Appreciate any thoughts.
>>
>> --
>> Noon
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>



-- 
Noon Silk

Fancy a quantum lunch? https://sites.google.com/site/quantumlunch/

"Every morning when I wake up, I experience an exquisite joy ? the joy
of being this signature."

From ragi at burhum.com  Sun Oct 28 19:07:49 2012
From: ragi at burhum.com (rburhum)
Date: Sun, 28 Oct 2012 19:07:49 -0700 (PDT)
Subject: [gdal-dev] Homebrew Package Manager and libKML dependency on
	libkml 1.3
In-Reply-To: <508DAC05.4060806@pobox.com>
References: <CA+g+PQD34u9ey-oGcD+RBDAe44+sT_xdysTK5F7QiDJvCyLJfg@mail.gmail.com>
	<508DAC05.4060806@pobox.com>
Message-ID: <1351476469723-5011863.post@n6.nabble.com>

Hi Frank,

Getting an official release of libKML 1.3 would be great.

By the way, there is a build issue of libKML with autoconf 1.12. I 
submitted a bug and a simple fix with details
<http://code.google.com/p/libkml/issues/detail?id=186&sort=-id>  . If you
could commit that, that would be great, too, because it would mean I can
take out part of the  patch I added to make homebrew build the libKML driver
<https://github.com/mxcl/homebrew/pull/15728>  .

Thanks!

- Ragi



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdal-dev-Homebrew-Package-Manager-and-libKML-dependency-on-libkml-1-3-tp5011826p5011863.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From noonslists+gdal at gmail.com  Sun Oct 28 23:08:49 2012
From: noonslists+gdal at gmail.com (Noon Silk)
Date: Mon, 29 Oct 2012 17:08:49 +1100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
In-Reply-To: <CADt_azadkw7vg20xOpCRRy6HvEk6YBDJefY-zr3S3XEvap8fRw@mail.gmail.com>
References: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
	<CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>
	<CADt_azadkw7vg20xOpCRRy6HvEk6YBDJefY-zr3S3XEvap8fRw@mail.gmail.com>
Message-ID: <CADt_azZghV5zx+kX2LcW-3nuOD71zDcy2vY0k_7AGE4AMWRy9Q@mail.gmail.com>

Answering my own question, I've found that this is documented here:

 - http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpCompile

I note that it doesn't appear to be included as part of any existing
build/packaging process in the source when I grabbed it
(release-1400).

--
Noon


On Mon, Oct 29, 2012 at 11:13 AM, Noon Silk <noonslists+gdal at gmail.com> wrote:
> Hi Tamas,
>
>  Thanks.
>
>  I'm partly towards getting a build going; but am I to understand that
> generating the SWIG bindings is best done from linux? (That is, I note
> that the code to generate the bindings is in a shell script; I'm
> currently attempting to figure out how to run it, but I'm not sure if
> there is a better way; I.e. I'm running "mkinterface.sh", which I
> found from "mkdgdaldist.sh").
>
> --
> Noon
>
>
> On Mon, Oct 29, 2012 at 4:49 AM, Tamas Szekeres <szekerest at gmail.com> wrote:
>> Noon,
>>
>> The C# bindings provided by OGR provide a common interface for all drivers.
>> You can use the Datasource class for each of the drivers . You can
>> instatiate the driver by using the driver specific connection string (ie by
>> using Ogr.Open) or obtain a specific driver (Ogr.GetDriverByName)  and open
>> the datasource on that (Driver.Open).
>>
>> You may however need to compile the DWG driver with OGR if that is provided
>> by default with the binary distribution you are using. According to your
>> concerns, enabling or not enabling the driver should not affect compilation
>> of the SWIG interface.
>>
>> Best regards,
>>
>> Tamas
>>
>>
>>
>> 2012/10/28 Noon Silk <noonslists+gdal at gmail.com>
>>>
>>> Hi All,
>>>
>>>  I'm trying to read DWG files and output OGR layers. I note, actually,
>>> that there exists an OgrDwgDatasource in the C++; but I don't believe
>>> it is built by default.
>>>
>>>  My difficutly comes in in that I'm using the SWIG-generated bindings.
>>> I tried porting the C++ datasource code to C#, but stumbled upon a
>>> problem - SWIG hadn't generated a usable OSGeo.OGR.DataSource. The
>>> problem is, when you want to implement your subclass, you need to pass
>>> some information to the constructor that you can't obtain (i.e. a new
>>> instance of the DataSource). The reason why, I suppose, is that SWIG
>>> hasn't even generated a newDatasource() method. So I find myself
>>> wondering why, and being a bit confused.
>>>
>>>  I think basically I must be approaching this wrong. I'm supposing
>>> what I should do is to compile OGR with DWG support (i.e. use the
>>> OgrDwgDataSource.cpp that exists in ogr_frmts/dwg) and then have it
>>> generate SWIG bindings from here. My concern with this is that,
>>> glancing at the build scripts, it looks like it will work with
>>> "DWGDirect", which I think is a precursor to Teigha. So I'm slightly
>>> concerned that following this path will lead to build difficulties.
>>>
>>>  I suppose my question here is; what is the standard way to do this? I
>>> would like to make use of the stuff already pre-written in Ogr to do
>>> this, but I could be convinced that it's just better to approach it
>>> from the Teigha side; converting to OGR myself. But of course I'd far
>>> prefer just to simply change a small build parameter, get all the
>>> correct SWIG bindings, and then just perform everything in C# ...
>>>
>>>  Appreciate any thoughts.
>>>
>>> --
>>> Noon
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
>
>
> --
> Noon Silk
>
> Fancy a quantum lunch? https://sites.google.com/site/quantumlunch/
>
> "Every morning when I wake up, I experience an exquisite joy ? the joy
> of being this signature."

From luislisboa1975 at gmail.com  Mon Oct 29 01:47:44 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Mon, 29 Oct 2012 08:47:44 +0000
Subject: [gdal-dev] Croping raster map but keeping up the grid without
	resampling
Message-ID: <CAKvvP9gXTk+=QSkB8+SFr_EGuifT+Pn_Whs6S2gN6bH3PUa_6w@mail.gmail.com>

Greetings

I have a raster image and I want to crop a piece of it(usin -te) but I want
to keep:
- the same spatial resolution (use -tr )
- and keep the same grid (avoiding mismatching from original image).
Is this possible? If yes, how? because all my attempts there is a slightly
mismatch between original and new.
Regards.
Liuis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/b92f4e0a/attachment.html>

From szekerest at gmail.com  Mon Oct 29 03:47:12 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon, 29 Oct 2012 11:47:12 +0100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
In-Reply-To: <CADt_azZghV5zx+kX2LcW-3nuOD71zDcy2vY0k_7AGE4AMWRy9Q@mail.gmail.com>
References: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
	<CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>
	<CADt_azadkw7vg20xOpCRRy6HvEk6YBDJefY-zr3S3XEvap8fRw@mail.gmail.com>
	<CADt_azZghV5zx+kX2LcW-3nuOD71zDcy2vY0k_7AGE4AMWRy9Q@mail.gmail.com>
Message-ID: <CACALY+Q8N5bCTA7hu_KCysGfusJfP5mB5rkDjRqGJBJ8-zh0gQ@mail.gmail.com>

This doc is fairly old (written by me ;-) , but the build process hasn't
been changed for years. What did you mean by "it doesn't appear to be
included as part of any existing build/packaging process"?

Best regards,

Tamas



2012/10/29 Noon Silk <noonslists+gdal at gmail.com>

> Answering my own question, I've found that this is documented here:
>
>  - http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpCompile
>
> I note that it doesn't appear to be included as part of any existing
> build/packaging process in the source when I grabbed it
> (release-1400).
>
> --
> Noon
>
>
> On Mon, Oct 29, 2012 at 11:13 AM, Noon Silk <noonslists+gdal at gmail.com>
> wrote:
> > Hi Tamas,
> >
> >  Thanks.
> >
> >  I'm partly towards getting a build going; but am I to understand that
> > generating the SWIG bindings is best done from linux? (That is, I note
> > that the code to generate the bindings is in a shell script; I'm
> > currently attempting to figure out how to run it, but I'm not sure if
> > there is a better way; I.e. I'm running "mkinterface.sh", which I
> > found from "mkdgdaldist.sh").
> >
> > --
> > Noon
> >
> >
> > On Mon, Oct 29, 2012 at 4:49 AM, Tamas Szekeres <szekerest at gmail.com>
> wrote:
> >> Noon,
> >>
> >> The C# bindings provided by OGR provide a common interface for all
> drivers.
> >> You can use the Datasource class for each of the drivers . You can
> >> instatiate the driver by using the driver specific connection string
> (ie by
> >> using Ogr.Open) or obtain a specific driver (Ogr.GetDriverByName)  and
> open
> >> the datasource on that (Driver.Open).
> >>
> >> You may however need to compile the DWG driver with OGR if that is
> provided
> >> by default with the binary distribution you are using. According to your
> >> concerns, enabling or not enabling the driver should not affect
> compilation
> >> of the SWIG interface.
> >>
> >> Best regards,
> >>
> >> Tamas
> >>
> >>
> >>
> >> 2012/10/28 Noon Silk <noonslists+gdal at gmail.com>
> >>>
> >>> Hi All,
> >>>
> >>>  I'm trying to read DWG files and output OGR layers. I note, actually,
> >>> that there exists an OgrDwgDatasource in the C++; but I don't believe
> >>> it is built by default.
> >>>
> >>>  My difficutly comes in in that I'm using the SWIG-generated bindings.
> >>> I tried porting the C++ datasource code to C#, but stumbled upon a
> >>> problem - SWIG hadn't generated a usable OSGeo.OGR.DataSource. The
> >>> problem is, when you want to implement your subclass, you need to pass
> >>> some information to the constructor that you can't obtain (i.e. a new
> >>> instance of the DataSource). The reason why, I suppose, is that SWIG
> >>> hasn't even generated a newDatasource() method. So I find myself
> >>> wondering why, and being a bit confused.
> >>>
> >>>  I think basically I must be approaching this wrong. I'm supposing
> >>> what I should do is to compile OGR with DWG support (i.e. use the
> >>> OgrDwgDataSource.cpp that exists in ogr_frmts/dwg) and then have it
> >>> generate SWIG bindings from here. My concern with this is that,
> >>> glancing at the build scripts, it looks like it will work with
> >>> "DWGDirect", which I think is a precursor to Teigha. So I'm slightly
> >>> concerned that following this path will lead to build difficulties.
> >>>
> >>>  I suppose my question here is; what is the standard way to do this? I
> >>> would like to make use of the stuff already pre-written in Ogr to do
> >>> this, but I could be convinced that it's just better to approach it
> >>> from the Teigha side; converting to OGR myself. But of course I'd far
> >>> prefer just to simply change a small build parameter, get all the
> >>> correct SWIG bindings, and then just perform everything in C# ...
> >>>
> >>>  Appreciate any thoughts.
> >>>
> >>> --
> >>> Noon
> >>> _______________________________________________
> >>> gdal-dev mailing list
> >>> gdal-dev at lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >>
> >
> >
> >
> > --
> > Noon Silk
> >
> > Fancy a quantum lunch? https://sites.google.com/site/quantumlunch/
> >
> > "Every morning when I wake up, I experience an exquisite joy ? the joy
> > of being this signature."
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/8cd7f029/attachment-0001.html>

From chaitanya.ch at gmail.com  Mon Oct 29 03:49:02 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon, 29 Oct 2012 16:19:02 +0530
Subject: [gdal-dev] problem in removing feature
In-Reply-To: <CAP-zkzd0T-NeOX8Ddbk1x+cF9JQfAntKYLL_M_wFaA6GhxBDjA@mail.gmail.com>
References: <CAP-zkzd0T-NeOX8Ddbk1x+cF9JQfAntKYLL_M_wFaA6GhxBDjA@mail.gmail.com>
Message-ID: <CAMKgpOY5HEpP+31q2-4vPTMP_MC1qh3k_=abLRPsm9m1YR+=kg@mail.gmail.com>

Siva,

Make sure you open the data source with the bUpdate option set to TRUE in
OGROpen().

On Mon, Oct 29, 2012 at 4:14 PM, SIVA RAMA KRISHNA
<s.r.kriishna at gmail.com>wrote:

> hai chaitanya,
>
>
>            I have a single layer shape file with many features
>
>           I want to remove   a feature by the following way
>
>
>
> while( (poFeature = poLayer->GetNextFeature()) != NULL )
>          {
>               poLayer->DeleteFeature(poFeature->GetFID());
>
>               qDebug()<<poFeature->GetFieldCount();
>               qDebug()<<poFeature->GetFID();
>           }
>
> i am getting a error for all shape files which are not read only
>
> ERROR 1: The DeleteFeature() operation is not permitted on a read-only
> shapefile.
>
>
> any help would be great for me
>
> With Regards
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/04fc0186/attachment.html>

From etourigny.dev at gmail.com  Mon Oct 29 04:40:57 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Mon, 29 Oct 2012 09:40:57 -0200
Subject: [gdal-dev] Croping raster map but keeping up the grid without
	resampling
In-Reply-To: <CAKvvP9gXTk+=QSkB8+SFr_EGuifT+Pn_Whs6S2gN6bH3PUa_6w@mail.gmail.com>
References: <CAKvvP9gXTk+=QSkB8+SFr_EGuifT+Pn_Whs6S2gN6bH3PUa_6w@mail.gmail.com>
Message-ID: <CA+TxYvO5YD05j5Em7Rq=pWVRUawyENd4RsRDF8VemYrwbGMRSQ@mail.gmail.com>

I guess you are using gdalwarp (although you didn't specifically
mention it).   You should be using gdal_translate with the -srcwin
option

Etienne

On Mon, Oct 29, 2012 at 6:47 AM, Luis Lisboa <luislisboa1975 at gmail.com> wrote:
> Greetings
>
> I have a raster image and I want to crop a piece of it(usin -te) but I want
> to keep:
> - the same spatial resolution (use -tr )
> - and keep the same grid (avoiding mismatching from original image).
> Is this possible? If yes, how? because all my attempts there is a slightly
> mismatch between original and new.
> Regards.
> Liuis
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From noonslists+gdal at gmail.com  Mon Oct 29 04:56:44 2012
From: noonslists+gdal at gmail.com (Noon Silk)
Date: Mon, 29 Oct 2012 22:56:44 +1100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
In-Reply-To: <CACALY+Q8N5bCTA7hu_KCysGfusJfP5mB5rkDjRqGJBJ8-zh0gQ@mail.gmail.com>
References: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
	<CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>
	<CADt_azadkw7vg20xOpCRRy6HvEk6YBDJefY-zr3S3XEvap8fRw@mail.gmail.com>
	<CADt_azZghV5zx+kX2LcW-3nuOD71zDcy2vY0k_7AGE4AMWRy9Q@mail.gmail.com>
	<CACALY+Q8N5bCTA7hu_KCysGfusJfP5mB5rkDjRqGJBJ8-zh0gQ@mail.gmail.com>
Message-ID: <CADt_azaptvg17NaSUpWxGgBVpQW2Wt+fBPT5-e_HUOgnS1J3xA@mail.gmail.com>

On Mon, Oct 29, 2012 at 9:47 PM, Tamas Szekeres <szekerest at gmail.com> wrote:
> This doc is fairly old (written by me ;-) , but the build process hasn't
> been changed for years. What did you mean by "it doesn't appear to be
> included as part of any existing build/packaging process"?

I guess what I meant here is that the building of the swig bindings
for some particular language aren't in, say, the root "makefile.vc".
And the scripts that perhaps do do some sort of build (though, not
that I'm actually using at the moment) need to be called directly.

I.e. I had sort of assumed that I'd end up, at some point, with the
swig stuff distributed in the same fashion that I do with the rest of
gdal, when I do "nmake ... install" (in the end I've just hacked the
scripts to do this, but clearly that's not ideal ...)

Anyway, thanks for your help, and there only remains one problem to
solve (I think with the signing of the swig generated stuff; .NET is
upset about some sort of code calling native libs ...) then it might
just work!


> Best regards,
>
> Tamas

--
Noon

From szekerest at gmail.com  Mon Oct 29 05:34:12 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon, 29 Oct 2012 13:34:12 +0100
Subject: [gdal-dev] Ogr and Dwg via Teigha (in C#)
In-Reply-To: <CADt_azaptvg17NaSUpWxGgBVpQW2Wt+fBPT5-e_HUOgnS1J3xA@mail.gmail.com>
References: <CADt_azZ1n2SoQmgrhrbYsPxUX57JGvBCbosjx76xzZp9jvgeCQ@mail.gmail.com>
	<CACALY+Rx3XcqsrmGRseXFK-qnscxdqPPN7axZOspf2B07kTo4A@mail.gmail.com>
	<CADt_azadkw7vg20xOpCRRy6HvEk6YBDJefY-zr3S3XEvap8fRw@mail.gmail.com>
	<CADt_azZghV5zx+kX2LcW-3nuOD71zDcy2vY0k_7AGE4AMWRy9Q@mail.gmail.com>
	<CACALY+Q8N5bCTA7hu_KCysGfusJfP5mB5rkDjRqGJBJ8-zh0gQ@mail.gmail.com>
	<CADt_azaptvg17NaSUpWxGgBVpQW2Wt+fBPT5-e_HUOgnS1J3xA@mail.gmail.com>
Message-ID: <CACALY+TfZRR2Rq358bqFHQtsqJLSfTxyYUPM_4U4ifeGzZaNMw@mail.gmail.com>

You might also take a look at the -dev packages at
http://www.gisinternals.com/sdk/
The compilation is controlled by a single makefile, so you can use:

nmake gdal
nmake gdal-csharp

to achieve the desired result.

Best regards,

Tamas



2012/10/29 Noon Silk <noonslists+gdal at gmail.com>

> On Mon, Oct 29, 2012 at 9:47 PM, Tamas Szekeres <szekerest at gmail.com>
> wrote:
> > This doc is fairly old (written by me ;-) , but the build process hasn't
> > been changed for years. What did you mean by "it doesn't appear to be
> > included as part of any existing build/packaging process"?
>
> I guess what I meant here is that the building of the swig bindings
> for some particular language aren't in, say, the root "makefile.vc".
> And the scripts that perhaps do do some sort of build (though, not
> that I'm actually using at the moment) need to be called directly.
>
> I.e. I had sort of assumed that I'd end up, at some point, with the
> swig stuff distributed in the same fashion that I do with the rest of
> gdal, when I do "nmake ... install" (in the end I've just hacked the
> scripts to do this, but clearly that's not ideal ...)
>
> Anyway, thanks for your help, and there only remains one problem to
> solve (I think with the signing of the swig generated stuff; .NET is
> upset about some sort of code calling native libs ...) then it might
> just work!
>
>
> > Best regards,
> >
> > Tamas
>
> --
> Noon
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/9e1c217c/attachment.html>

From luislisboa1975 at gmail.com  Mon Oct 29 06:44:06 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Mon, 29 Oct 2012 13:44:06 +0000
Subject: [gdal-dev] Croping raster map but keeping up the grid without
	resampling
In-Reply-To: <CA+TxYvO5YD05j5Em7Rq=pWVRUawyENd4RsRDF8VemYrwbGMRSQ@mail.gmail.com>
References: <CAKvvP9gXTk+=QSkB8+SFr_EGuifT+Pn_Whs6S2gN6bH3PUa_6w@mail.gmail.com>
	<CA+TxYvO5YD05j5Em7Rq=pWVRUawyENd4RsRDF8VemYrwbGMRSQ@mail.gmail.com>
Message-ID: <CAKvvP9j9yK63qdMXLh48BydSvL60Ght81=nXVotL+fmK_BmeSA@mail.gmail.com>

Hi
Yes I was using GDALWARP
The prtobvlem with scrwin in gdal_translater is that I want to cut my
window based on Lat/lon coordinates and not lines and columns.
So again, how can I cut a raster image, based on coordinates /x, y min,max)
and keeping up a pixel matching grid from the original image?
Thank you
Regards

On Mon, Oct 29, 2012 at 11:40 AM, Etienne Tourigny
<etourigny.dev at gmail.com>wrote:

> I guess you are using gdalwarp (although you didn't specifically
> mention it).   You should be using gdal_translate with the -srcwin
> option
>
> Etienne
>
> On Mon, Oct 29, 2012 at 6:47 AM, Luis Lisboa <luislisboa1975 at gmail.com>
> wrote:
> > Greetings
> >
> > I have a raster image and I want to crop a piece of it(usin -te) but I
> want
> > to keep:
> > - the same spatial resolution (use -tr )
> > - and keep the same grid (avoiding mismatching from original image).
> > Is this possible? If yes, how? because all my attempts there is a
> slightly
> > mismatch between original and new.
> > Regards.
> > Liuis
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/9f3a9f1b/attachment.html>

From etourigny.dev at gmail.com  Mon Oct 29 06:48:12 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Mon, 29 Oct 2012 11:48:12 -0200
Subject: [gdal-dev] Croping raster map but keeping up the grid without
	resampling
In-Reply-To: <CAKvvP9j9yK63qdMXLh48BydSvL60Ght81=nXVotL+fmK_BmeSA@mail.gmail.com>
References: <CAKvvP9gXTk+=QSkB8+SFr_EGuifT+Pn_Whs6S2gN6bH3PUa_6w@mail.gmail.com>
	<CA+TxYvO5YD05j5Em7Rq=pWVRUawyENd4RsRDF8VemYrwbGMRSQ@mail.gmail.com>
	<CAKvvP9j9yK63qdMXLh48BydSvL60Ght81=nXVotL+fmK_BmeSA@mail.gmail.com>
Message-ID: <CA+TxYvP_ju44tScg2bq3BX1+hj6dZR7Vp9ZbDmVpr+5NQHy3Yg@mail.gmail.com>

if your source raster is in lat/lon then you supply the lat/lon corner
coordinates of your source window, using the -projwin argument.
Sorry for the confusion.

On Mon, Oct 29, 2012 at 11:44 AM, Luis Lisboa <luislisboa1975 at gmail.com> wrote:
> Hi
> Yes I was using GDALWARP
> The prtobvlem with scrwin in gdal_translater is that I want to cut my window
> based on Lat/lon coordinates and not lines and columns.
> So again, how can I cut a raster image, based on coordinates /x, y min,max)
> and keeping up a pixel matching grid from the original image?
> Thank you
> Regards
>
> On Mon, Oct 29, 2012 at 11:40 AM, Etienne Tourigny <etourigny.dev at gmail.com>
> wrote:
>>
>> I guess you are using gdalwarp (although you didn't specifically
>> mention it).   You should be using gdal_translate with the -srcwin
>> option
>>
>> Etienne
>>
>> On Mon, Oct 29, 2012 at 6:47 AM, Luis Lisboa <luislisboa1975 at gmail.com>
>> wrote:
>> > Greetings
>> >
>> > I have a raster image and I want to crop a piece of it(usin -te) but I
>> > want
>> > to keep:
>> > - the same spatial resolution (use -tr )
>> > - and keep the same grid (avoiding mismatching from original image).
>> > Is this possible? If yes, how? because all my attempts there is a
>> > slightly
>> > mismatch between original and new.
>> > Regards.
>> > Liuis
>> >
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev at lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From smaran.harihar at gmail.com  Mon Oct 29 15:10:06 2012
From: smaran.harihar at gmail.com (Smaran Harihar)
Date: Mon, 29 Oct 2012 15:10:06 -0700
Subject: [gdal-dev] trying to fetch the data from raster and assign it to
	the polygon attribute
Message-ID: <CAHRZm1sSPYshZsjk2ULM=wvfwgpefwPuOg07rjja19tX6jrU_A@mail.gmail.com>

Hi,

I am a newbie in GDAL and I recently used gdal_polygonize to convert a
raster (Tiff) to polygon. The problem is that I wish to also assign the
pixel values to the attribute table of the polygon.

Is it possible? When I converted the raster into polygon, I was only able
to see DN as another field and it does not have the desired value as
displayed in the pixel value.

-- 
Thanks & Regards
Smaran Harihar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/e3a6717c/attachment.html>

From kyle at pobox.com  Mon Oct 29 15:42:55 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Mon, 29 Oct 2012 16:42:55 -0600
Subject: [gdal-dev] trying to fetch the data from raster and assign it
 to the polygon attribute
In-Reply-To: <CAHRZm1sSPYshZsjk2ULM=wvfwgpefwPuOg07rjja19tX6jrU_A@mail.gmail.com>
References: <CAHRZm1sSPYshZsjk2ULM=wvfwgpefwPuOg07rjja19tX6jrU_A@mail.gmail.com>
Message-ID: <CAJ0mEz1nW8CGzq6ZiMbVV1SAZ1zNd0wMfxC=1H8AJ+2a4pcXpA@mail.gmail.com>

You can specify the fieldname after the layername, see the documentation:

http://gdal.org/gdal_polygonize.html

gdal_polygonize.py [-8] [-nomask] [-mask filename] raster_file [-b band]
[-q] [-f ogr_format] out_file [layer] [fieldname]

kss

On Mon, Oct 29, 2012 at 4:10 PM, Smaran Harihar <smaran.harihar at gmail.com>wrote:

> Hi,
>
> I am a newbie in GDAL and I recently used gdal_polygonize to convert a
> raster (Tiff) to polygon. The problem is that I wish to also assign the
> pixel values to the attribute table of the polygon.
>
> Is it possible? When I converted the raster into polygon, I was only able
> to see DN as another field and it does not have the desired value as
> displayed in the pixel value.
>
> --
> Thanks & Regards
> Smaran Harihar
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121029/c9ed75c5/attachment.html>

From emmanuel.seguin at ign.fr  Tue Oct 30 04:26:00 2012
From: emmanuel.seguin at ign.fr (=?ISO-8859-1?Q?Emmanuel_S=E9guin?=)
Date: Tue, 30 Oct 2012 12:26:00 +0100
Subject: [gdal-dev] [User] OGR2OGR append update duplicates
Message-ID: <508FB948.9070705@ign.fr>

Hi,

I'm using ogr2ogr to merge shapefiles (ogr2ogr -append -update -f "ESRI 
Shapefile" file1.shp file2.shp -nln file1.shp).
It seems to me that duplicate records are possible in the resulting 
shapefile (based on tests using two identical shapefiles).
=> Is there a way to merge two shapefiles with gdal/ogr and avoid 
duplicate records to be created in the resulting shapefile ?

Thanx in advance

Manu

-- 
Emmanuel S?guin
SIEL - P?le technique du G?oportail
Institut G?ographique National
2/4, avenue Pasteur - 94165 Saint Mand? Cedex
Phone : +33 1.43.98.83.54
http://fr.linkedin.com/in/emmmanuelseguin


From even.rouault at mines-paris.org  Tue Oct 30 05:43:08 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 30 Oct 2012 13:43:08 +0100
Subject: [gdal-dev] [User] OGR2OGR append update duplicates
In-Reply-To: <508FB948.9070705@ign.fr>
References: <508FB948.9070705@ign.fr>
Message-ID: <1351600988.508fcb5c66c8e@imp.free.fr>

Selon Emmanuel S?guin <emmanuel.seguin at ign.fr>:

> Hi,
>
> I'm using ogr2ogr to merge shapefiles (ogr2ogr -append -update -f "ESRI
> Shapefile" file1.shp file2.shp -nln file1.shp).
> It seems to me that duplicate records are possible in the resulting
> shapefile (based on tests using two identical shapefiles).
> => Is there a way to merge two shapefiles with gdal/ogr and avoid
> duplicate records to be created in the resulting shapefile ?

Emmanuel,

-append just ... appends ;-) It does not make any attempt to check if there are
existing similar features in the target datasource.

For that, you would need to define a uniqueness criterion (typically the primary
key = FID in OGR data model, or possibly some attribute field that can also
serves a a primary key).

That can be done with a few lines of OGR Python scripting for example. Basically
you iterate over the features of the source dataset. For each feature, you
request the target datasource if a similar feature exists. If it is based on the
FID, a dstLayer.GetFeature(fid) is sufficient, otherwise you need to set an
attribute filter on dstLayer, and call GetNextFeature() to check if there's a
feature matching the filter. If not, you append the feature.

I must have a script that does that somewhere. I'll try to find it.

Even

From jukka.rahkonen at mmmtike.fi  Tue Oct 30 07:34:50 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 30 Oct 2012 14:34:50 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?Croping_raster_map_but_keeping_up_the_grid_w?=
	=?utf-8?q?ithout=09resampling?=
References: <CAKvvP9gXTk+=QSkB8+SFr_EGuifT+Pn_Whs6S2gN6bH3PUa_6w@mail.gmail.com>
Message-ID: <loom.20121030T152352-680@post.gmane.org>

Luis Lisboa <luislisboa1975 <at> gmail.com> writes:

> 
> 
> Greetings
> ?
> I have a raster image and I want to crop a piece of it(usin -te) but I want to
keep:
> - the same spatial resolution (use -tr )
> - and keep the same grid (avoiding mismatching from original image).
> Is this possible? If yes, how? because all my attempts there is a slightly
mismatch between original and new.

Use ogrinfo and calculator

If ogrinfo is listing this
Origin = (199949.000000000000000,6977074.000000000000000)
Pixel Size = (0.500000000000000,-0.500000000000000)

then you can calculate the extents to suit exactly with the original pixels. If
 X-values of the extents are (199949 + (n x 0.50)) and Y-values (6977074 + (n x
0.50)) and you are using the nearest neighbor resampling the result should be
what you want.  

-Jukka Rahkonen- 


From even.rouault at mines-paris.org  Tue Oct 30 13:32:36 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 30 Oct 2012 21:32:36 +0100
Subject: [gdal-dev] [User] OGR2OGR append update duplicates
In-Reply-To: <1351600988.508fcb5c66c8e@imp.free.fr>
References: <508FB948.9070705@ign.fr> <1351600988.508fcb5c66c8e@imp.free.fr>
Message-ID: <201210302132.37508.even.rouault@mines-paris.org>

Le mardi 30 octobre 2012 13:43:08, Even Rouault a ?crit :
> Selon Emmanuel S?guin <emmanuel.seguin at ign.fr>:
> > Hi,
> > 
> > I'm using ogr2ogr to merge shapefiles (ogr2ogr -append -update -f "ESRI
> > Shapefile" file1.shp file2.shp -nln file1.shp).
> > It seems to me that duplicate records are possible in the resulting
> > shapefile (based on tests using two identical shapefiles).
> > => Is there a way to merge two shapefiles with gdal/ogr and avoid
> > duplicate records to be created in the resulting shapefile ?
> 
> Emmanuel,
> 
> -append just ... appends ;-) It does not make any attempt to check if there
> are existing similar features in the target datasource.
> 
> For that, you would need to define a uniqueness criterion (typically the
> primary key = FID in OGR data model, or possibly some attribute field that
> can also serves a a primary key).
> 
> That can be done with a few lines of OGR Python scripting for example.
> Basically you iterate over the features of the source dataset. For each
> feature, you request the target datasource if a similar feature exists. If
> it is based on the FID, a dstLayer.GetFeature(fid) is sufficient,
> otherwise you need to set an attribute filter on dstLayer, and call
> GetNextFeature() to check if there's a feature matching the filter. If
> not, you append the feature.
> 
> I must have a script that does that somewhere. I'll try to find it.

You'll find in
http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/ogrupdate.py
the OGR Python script that I mentionned above. Hopefully the included usage 
message will be enough to use it.

> 
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jukka.rahkonen at mmmtike.fi  Wed Oct 31 03:09:17 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 31 Oct 2012 10:09:17 +0000 (UTC)
Subject: [gdal-dev] When and how could I test Spatialite 4.0?
Message-ID: <loom.20121031T101729-865@post.gmane.org>

Hi,

Spatialite 4.0 will come rather soon and it will obviously break so much
compared with Spatialite 3.0 that the only reasonable act is to switch totally
into 4.0 and convert all existing Spatialite data into the new version. But when
and how could I start playing with Spatialite 4.0 and GDAL, keeping in mind that
I do not compile anything?

-Jukka Rahkonen-


From jukka.rahkonen at mmmtike.fi  Wed Oct 31 03:26:42 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 31 Oct 2012 10:26:42 +0000 (UTC)
Subject: [gdal-dev] "Assign character encoding" option for GML driver
Message-ID: <loom.20121031T104358-323@post.gmane.org>

Hi,

Let's say I have some date which use internally ISO-8859-1 encoding in Oracle or
MapInfo files and I want to convert data into GML.  It goes OK by using
configuration option --config OGR_FORCE_ASCII NO. However, after doing so the
GML data are in the native encoding (ISO-8859-1 in this case) but the first line
of the GML file is always advertising UTF-8 encoding. It is not a big deal to
open the GML file once it is ready, edit the first line and save again for
getting a valid GML file. However, it feels unnecessary because I know
beforehand that encoding is ISO-8859-1 and I could very fine give the encoding
as a parameter for the ogr2ogr command of as an environment variable. We have an
analogy in the -a_srs parameter which handles the case when user knows the
projection code but GDAL doesn't.

Regards,

-Jukka Rahkonen-


From chaitanya.ch at gmail.com  Wed Oct 31 04:46:49 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed, 31 Oct 2012 17:16:49 +0530
Subject: [gdal-dev] to detect a point in ageometry
In-Reply-To: <CAP-zkzcDaeLzq1_VBZeMcVSVRHF2b-ZoK+oGoy3gAE4cJUm2rg@mail.gmail.com>
References: <CAP-zkzc7ce0AY8btyFs4NrEDsZFipmNYBwXotRuTjrBKAxhkMg@mail.gmail.com>
	<CAMKgpOau7UE21nLvvSLW6dX12KXWnH15akBu0VeooY7RwrcgHA@mail.gmail.com>
	<CAP-zkzcDaeLzq1_VBZeMcVSVRHF2b-ZoK+oGoy3gAE4cJUm2rg@mail.gmail.com>
Message-ID: <CAMKgpOa-xMqtYqLx_x4F1BWejdGACqSS_yQSc7zk69qxMEoDVA@mail.gmail.com>

Siva,

In shapefile format, deleted features are just 'marked' as deleted instead
of actually removing them. This makes it faster. However, the statistics
may not be updated. Specifying the the bForce parameter with the
GetFeatureCount() method may be useful.
To actually remove the features, you have to create a new shapefile layer
object and save it.

BTW, you should use GetFeatureCountI() instead of GetFieldCount().

On Wed, Oct 31, 2012 at 4:01 PM, SIVA RAMA KRISHNA
<s.r.kriishna at gmail.com>wrote:

> hai chaitanya,
>
>                         I have fixed it by using point.within(geometry)
>                         But I am having a problem  with  deleting a
> feature
>                         After deleting a feature succesfully from a shape
> file
>                         Next time when i load it is all features  count
> but displying correctly with the undelaeted features
>
>   void myWindow::selectingFeature(QMouseEvent* event)
>
>   {
>     poLayer->ResetReading();
>    while( (poFeature = poLayer->GetNextFeature()) != NULL )
>            {
>                 poGeometry = poFeature->GetGeometryRef();
>                  if(poGeometry !=NULL
>                                       &&
> wkbFlatten(poGeometry->getGeometryType()) == wkbPolygon)
>                                 {
>
>                                     if( p2.Within(poGeometry))
>                                     {
>                                            polyShape  = (OGRPolygon*)
> poGeometry;
>                                            qDebug()<<"Feature Selected";
>                                            qDebug()<<poFeature->GetFID();
>                                            path.addPolygon(polygon);
>                                            featureid=poFeature->GetFID();
>                                      }
>
>
>                                }
>
>                    }
>
>         }
>
>
>
> // this is a slot after deleting  a feature
> void myWindow::DeletingFeature()
> {
>
>      qDebug()<<" deleting feature";
>
>      poLayer->ResetReading();
>      while( (poFeature = poLayer->GetNextFeature()) != NULL )
>              {
>                   poLayer->DeleteFeature(featureid);
>                   qDebug()<<"deleted"<<poFeature->GetFieldCount();
>                   qDebug()<<poFeature->GetFID();
>               }
>
> }
>
> No of features 3
>
> Feature Selected
>
> 1
>
> not
>
> deleting feature
>
> deleted 1
>
> 1
>
> ERROR 1: Attempt to delete shape with feature id (1), but it is marked
> deleted already.
>
> deleted 1
>
> 2
>
> with Regards
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121031/0d0ee607/attachment.html>

From even.rouault at mines-paris.org  Wed Oct 31 06:02:09 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 31 Oct 2012 14:02:09 +0100
Subject: [gdal-dev] to detect a point in ageometry
In-Reply-To: <CAMKgpOa-xMqtYqLx_x4F1BWejdGACqSS_yQSc7zk69qxMEoDVA@mail.gmail.com>
References: <CAP-zkzc7ce0AY8btyFs4NrEDsZFipmNYBwXotRuTjrBKAxhkMg@mail.gmail.com>
	<CAMKgpOau7UE21nLvvSLW6dX12KXWnH15akBu0VeooY7RwrcgHA@mail.gmail.com>
	<CAP-zkzcDaeLzq1_VBZeMcVSVRHF2b-ZoK+oGoy3gAE4cJUm2rg@mail.gmail.com>
	<CAMKgpOa-xMqtYqLx_x4F1BWejdGACqSS_yQSc7zk69qxMEoDVA@mail.gmail.com>
Message-ID: <1351688529.50912151b6927@imp.free.fr>

Selon Chaitanya kumar CH <chaitanya.ch at gmail.com>:

> Siva,
>
> In shapefile format, deleted features are just 'marked' as deleted instead
> of actually removing them. This makes it faster. However, the statistics
> may not be updated. Specifying the the bForce parameter with the
> GetFeatureCount() method may be useful.

Not in the case of the shapefile driver. The bForce parameter is ignored. If you
have deleted features and want an exact feature count, you have to issue a SQL
request "REPACK layer_name".

> To actually remove the features, you have to create a new shapefile layer
> object and save it.

No need to recreate a shapefile. REPACK will actually remove the feature.

From bontepaarden at gmail.com  Wed Oct 31 06:20:19 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed, 31 Oct 2012 14:20:19 +0100
Subject: [gdal-dev] gdal_polygonize.py creates invalid shapes
Message-ID: <CAHNf2YTHBrOsTYzCF=OBz=+U2HVWj4RLOyawwLwW1GFbm0bR3w@mail.gmail.com>

Hi,

I noticed gdal_polygonize.py creates invalid shapefiles.
I use this tiff file as input:
http://www.fao.org/geonetwork/srv/en/http://www.fao.org/geonetwork/srv/en/resources.get?id=37139&fname=povt.zip&access=private

And this is my command:
gdal_polygonize.py pov.tif -f "ESRI Shapefile" pov_polygonize.shp

I tried it using gdal v1.9 and v2.0.
Both give a result of 381 invalid shapes (according to GEOS).
All of them are reported as 'Ring Self-intersection'.

Should I change my command to prevent invalid shapes?

Thanks,

Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121031/c771898a/attachment.html>

From pcreso at pcreso.com  Wed Oct 31 11:12:07 2012
From: pcreso at pcreso.com (pcreso at pcreso.com)
Date: Wed, 31 Oct 2012 11:12:07 -0700 (PDT)
Subject: [gdal-dev] Possible new GDAL driver (funded work) for mapserver
	access?
Message-ID: <1351707127.9444.YahooMailClassic@web122005.mail.ne1.yahoo.com>

Hi,

I'm exploring the possibility of a GDAL driver for TIDEDA datasets. For a description of TIDEDA, see: http://www.niwa.co.nz/software/tideda-time-dependent-data

Briefly, it is a tool for managing timeseries data from sources like climate & hydrometric stations. NIWA is considering Open Sourcing the tool, and enabling interoperability with other Open Source tools & supporting data delivery via web services (ie: via GDAL & mapserver) seems like a very useful step (whether or not we do open up the codebase - it will be useful to the users).

The preferred (& obvious) web services to use are OGC:SOS & OGC:WCS (WCS as a 1D time series). From a client perspective I'd like to use WFS as the site/station discovery service, then drill down to the data from the sites with SOS/WCS.

Superficially at least, it seems that a GDAL/mapserver combination is well suited to this task.


Can anyone here comment on how realistic this might be? 

Any developers interested in undertaking the work required - initially a GDAL driver talking to the TIDEDA api? 

Is the WCS & SOS support in mapserver able to support 1D timeseries data?

Does anyone know of a CWS client that supports 1D timeseries content?


Thanks,

?? Brent Wood
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121031/686644ad/attachment-0001.html>

From p.baumann at jacobs-university.de  Wed Oct 31 11:27:19 2012
From: p.baumann at jacobs-university.de (Peter Baumann)
Date: Wed, 31 Oct 2012 19:27:19 +0100
Subject: [gdal-dev] Possible new GDAL driver (funded work) for mapserver
 access?
In-Reply-To: <1351707127.9444.YahooMailClassic@web122005.mail.ne1.yahoo.com>
References: <1351707127.9444.YahooMailClassic@web122005.mail.ne1.yahoo.com>
Message-ID: <50916D87.1070401@jacobs-university.de>

Hi Brent,

seems like a great move! I am responding to your question of a 1D WCS client.

Our project is rasdaman [1], an nD array DBMS which offers, among others, a WCS 
interface. As partners & users wanted to have (individual!) clients we have 
started the "rasdaman web client toolkit", raswct [2]. It supports 1D timeseries 
display as one option, obtained through a WCS or WCPS request. Input widgets 
allow to set parameters through gauges, sliders, etc. - you may or may not find 
it useful. Feedback greatly appreciated!

best,
Peter


[1] www.rasdaman.org
[2] http://rasdaman.eecs.jacobs-university.de/trac/rasdaman/wiki/raswct/guide

On 10/31/2012 07:12 PM, pcreso at pcreso.com wrote:
> Hi,
>
> I'm exploring the possibility of a GDAL driver for TIDEDA datasets. For a 
> description of TIDEDA, see: 
> http://www.niwa.co.nz/software/tideda-time-dependent-data
>
> Briefly, it is a tool for managing timeseries data from sources like climate & 
> hydrometric stations. NIWA is considering Open Sourcing the tool, and enabling 
> interoperability with other Open Source tools & supporting data delivery via 
> web services (ie: via GDAL & mapserver) seems like a very useful step (whether 
> or not we do open up the codebase - it will be useful to the users).
>
> The preferred (& obvious) web services to use are OGC:SOS & OGC:WCS (WCS as a 
> 1D time series). From a client perspective I'd like to use WFS as the 
> site/station discovery service, then drill down to the data from the sites 
> with SOS/WCS.
>
> Superficially at least, it seems that a GDAL/mapserver combination is well 
> suited to this task.
>
>
> Can anyone here comment on how realistic this might be?
>
> Any developers interested in undertaking the work required - initially a GDAL 
> driver talking to the TIDEDA api?
>
> Is the WCS & SOS support in mapserver able to support 1D timeseries data?
>
> Does anyone know of a CWS client that supports 1D timeseries content?
>
>
> Thanks,
>
>    Brent Wood
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Dr. Peter Baumann
  - Professor of Computer Science, Jacobs University Bremen
    www.faculty.jacobs-university.de/pbaumann
    mail: p.baumann at jacobs-university.de
    tel: +49-421-200-3178, fax: +49-421-200-493178
  - Executive Director, rasdaman GmbH Bremen (HRB 26793)
    www.rasdaman.com, mail: baumann at rasdaman.com
    tel: 0800-rasdaman, fax: 0800-rasdafax, mobile: +49-173-5837882
"Si forte in alienas manus oberraverit hec peregrina epistola incertis ventis dimissa, sed Deo commendata, precamur ut ei reddatur cui soli destinata, nec preripiat quisquam non sibi parata." (mail disclaimer, AD 1083)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121031/7843921e/attachment.html>

From pcreso at pcreso.com  Wed Oct 31 11:46:49 2012
From: pcreso at pcreso.com (pcreso at pcreso.com)
Date: Wed, 31 Oct 2012 11:46:49 -0700 (PDT)
Subject: [gdal-dev] Possible new GDAL driver (funded work) for mapserver
	access?
In-Reply-To: <50916D87.1070401@jacobs-university.de>
Message-ID: <1351709209.24543.YahooMailClassic@web122005.mail.ne1.yahoo.com>

Hi Peter,

I've looked at radaman, it is very much in a similar direction, but adds another tool to the mix, which I'm seeking to avoid if possible.

We work with small Pacific Is nations, often with very little technical expertise, using TIDEDA, & if a GDAL/mapserver combination is feasible, it makes a very tidy fit with existing systems, & minimises extra complexity.

We are also using Geonetwork as a catalogue, & the mapserver WFS/SOS/WCS facility is a nice fit with this as a service catalogue as well.

Thanks, 

?? Brent Wood

--- On Thu, 11/1/12, Peter Baumann <p.baumann at jacobs-university.de> wrote:

From: Peter Baumann <p.baumann at jacobs-university.de>
Subject: Re: [gdal-dev] Possible new GDAL driver (funded work) for mapserver access?
To: pcreso at pcreso.com
Cc: "gdal-dev" <gdal-dev at lists.osgeo.org>, mapserver-dev at lists.osgeo.org
Date: Thursday, November 1, 2012, 7:27 AM


  

    
  
  
    Hi Brent,

      

      seems like a great move! I am responding to your question of a 1D
      WCS client.

      

      Our project is rasdaman [1], an nD array DBMS which offers, among
      others, a WCS interface. As partners & users wanted to have
      (individual!) clients we have started the "rasdaman web client
      toolkit", raswct [2]. It supports 1D timeseries display as one
      option, obtained through a WCS or WCPS request. Input widgets
      allow to set parameters through gauges, sliders, etc. - you may or
      may not find it useful. Feedback greatly appreciated!

      

      best,

      Peter

      

      

      [1] www.rasdaman.org

      [2]
http://rasdaman.eecs.jacobs-university.de/trac/rasdaman/wiki/raswct/guide

      

      On 10/31/2012 07:12 PM, pcreso at pcreso.com wrote:

    
    
      
      
        
          
            Hi,

              

              I'm exploring the possibility of a GDAL driver for TIDEDA
              datasets. For a description of TIDEDA, see: http://www.niwa.co.nz/software/tideda-time-dependent-data

              

              Briefly, it is a tool for managing timeseries data from
              sources like climate & hydrometric stations. NIWA is
              considering Open Sourcing the tool, and enabling
              interoperability with other Open Source tools &
              supporting data delivery via web services (ie: via GDAL
              & mapserver) seems like a very useful step (whether or
              not we do open up the codebase - it will be useful to the
              users).

              

              The preferred (& obvious) web services to use are
              OGC:SOS & OGC:WCS (WCS as a 1D time series). From a
              client perspective I'd like to use WFS as the site/station
              discovery service, then drill down to the data from the
              sites with SOS/WCS.

              

              Superficially at least, it seems that a GDAL/mapserver
              combination is well suited to this task.

              

              

              Can anyone here comment on how realistic this might be? 

              

              Any developers interested in undertaking the work required
              - initially a GDAL driver talking to the TIDEDA api? 

              

              Is the WCS & SOS support in mapserver able to support
              1D timeseries data?

              

              Does anyone know of a CWS client that supports 1D
              timeseries content?

              

              

              Thanks,

              

              ?? Brent Wood

            
          
        
      
      

      
      

      _______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
    
    

    -- 
Dr. Peter Baumann
 - Professor of Computer Science, Jacobs University Bremen
   www.faculty.jacobs-university.de/pbaumann
   mail: p.baumann at jacobs-university.de
   tel: +49-421-200-3178, fax: +49-421-200-493178
 - Executive Director, rasdaman GmbH Bremen (HRB 26793)
   www.rasdaman.com, mail: baumann at rasdaman.com
   tel: 0800-rasdaman, fax: 0800-rasdafax, mobile: +49-173-5837882
"Si forte in alienas manus oberraverit hec peregrina epistola incertis ventis dimissa, sed Deo commendata, precamur ut ei reddatur cui soli destinata, nec preripiat quisquam non sibi parata." (mail disclaimer, AD 1083)



  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121031/6d2f5f51/attachment.html>

From p.baumann at jacobs-university.de  Wed Oct 31 11:54:07 2012
From: p.baumann at jacobs-university.de (Peter Baumann)
Date: Wed, 31 Oct 2012 19:54:07 +0100
Subject: [gdal-dev] Possible new GDAL driver (funded work) for mapserver
 access?
In-Reply-To: <1351709209.24543.YahooMailClassic@web122005.mail.ne1.yahoo.com>
References: <1351709209.24543.YahooMailClassic@web122005.mail.ne1.yahoo.com>
Message-ID: <509173CF.7050702@jacobs-university.de>

Hi Brent,

apologies, I was not proposing to switch to rasdaman - I rather wanted to point 
to raswct as something that might (or might not) be useful in some way, and 
could be inspected. The code is LGPL, FWIW.

cheers,
Peter


On 10/31/2012 07:46 PM, pcreso at pcreso.com wrote:
> Hi Peter,
>
> I've looked at radaman, it is very much in a similar direction, but adds 
> another tool to the mix, which I'm seeking to avoid if possible.
>
> We work with small Pacific Is nations, often with very little technical 
> expertise, using TIDEDA, & if a GDAL/mapserver combination is feasible, it 
> makes a very tidy fit with existing systems, & minimises extra complexity.
>
> We are also using Geonetwork as a catalogue, & the mapserver WFS/SOS/WCS 
> facility is a nice fit with this as a service catalogue as well.
>
> Thanks,
>
>    Brent Wood
>
> --- On *Thu, 11/1/12, Peter Baumann /<p.baumann at jacobs-university.de>/* wrote:
>
>
>     From: Peter Baumann <p.baumann at jacobs-university.de>
>     Subject: Re: [gdal-dev] Possible new GDAL driver (funded work) for
>     mapserver access?
>     To: pcreso at pcreso.com
>     Cc: "gdal-dev" <gdal-dev at lists.osgeo.org>, mapserver-dev at lists.osgeo.org
>     Date: Thursday, November 1, 2012, 7:27 AM
>
>     Hi Brent,
>
>     seems like a great move! I am responding to your question of a 1D WCS client.
>
>     Our project is rasdaman [1], an nD array DBMS which offers, among others,
>     a WCS interface. As partners & users wanted to have (individual!) clients
>     we have started the "rasdaman web client toolkit", raswct [2]. It supports
>     1D timeseries display as one option, obtained through a WCS or WCPS
>     request. Input widgets allow to set parameters through gauges, sliders,
>     etc. - you may or may not find it useful. Feedback greatly appreciated!
>
>     best,
>     Peter
>
>
>     [1] www.rasdaman.org <http://www.rasdaman.org>
>     [2] http://rasdaman.eecs.jacobs-university.de/trac/rasdaman/wiki/raswct/guide
>
>     On 10/31/2012 07:12 PM, pcreso at pcreso.com
>     </mc/compose?to=pcreso at pcreso.com> wrote:
>>     Hi,
>>
>>     I'm exploring the possibility of a GDAL driver for TIDEDA datasets. For a
>>     description of TIDEDA, see:
>>     http://www.niwa.co.nz/software/tideda-time-dependent-data
>>
>>     Briefly, it is a tool for managing timeseries data from sources like
>>     climate & hydrometric stations. NIWA is considering Open Sourcing the
>>     tool, and enabling interoperability with other Open Source tools &
>>     supporting data delivery via web services (ie: via GDAL & mapserver)
>>     seems like a very useful step (whether or not we do open up the codebase
>>     - it will be useful to the users).
>>
>>     The preferred (& obvious) web services to use are OGC:SOS & OGC:WCS (WCS
>>     as a 1D time series). From a client perspective I'd like to use WFS as
>>     the site/station discovery service, then drill down to the data from the
>>     sites with SOS/WCS.
>>
>>     Superficially at least, it seems that a GDAL/mapserver combination is
>>     well suited to this task.
>>
>>
>>     Can anyone here comment on how realistic this might be?
>>
>>     Any developers interested in undertaking the work required - initially a
>>     GDAL driver talking to the TIDEDA api?
>>
>>     Is the WCS & SOS support in mapserver able to support 1D timeseries data?
>>
>>     Does anyone know of a CWS client that supports 1D timeseries content?
>>
>>
>>     Thanks,
>>
>>        Brent Wood
>>
>>
>>
>>     _______________________________________________
>>     gdal-dev mailing list
>>     gdal-dev at lists.osgeo.org  </mc/compose?to=gdal-dev at lists.osgeo.org>
>>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>     -- 
>     Dr. Peter Baumann
>       - Professor of Computer Science, Jacobs University Bremen
>         www.faculty.jacobs-university.de/pbaumann  <http://www.faculty.jacobs-university.de/pbaumann>
>         mail:p.baumann at jacobs-university.de  </mc/compose?to=p.baumann at jacobs-university.de>
>         tel: +49-421-200-3178, fax: +49-421-200-493178
>       - Executive Director, rasdaman GmbH Bremen (HRB 26793)
>         www.rasdaman.com  <http://www.rasdaman.com>, mail:baumann at rasdaman.com  </mc/compose?to=baumann at rasdaman.com>
>         tel: 0800-rasdaman, fax: 0800-rasdafax, mobile: +49-173-5837882
>     "Si forte in alienas manus oberraverit hec peregrina epistola incertis ventis dimissa, sed Deo commendata, precamur ut ei reddatur cui soli destinata, nec preripiat quisquam non sibi parata." (mail disclaimer, AD 1083)
>
>

-- 
Dr. Peter Baumann
  - Professor of Computer Science, Jacobs University Bremen
    www.faculty.jacobs-university.de/pbaumann
    mail: p.baumann at jacobs-university.de
    tel: +49-421-200-3178, fax: +49-421-200-493178
  - Executive Director, rasdaman GmbH Bremen (HRB 26793)
    www.rasdaman.com, mail: baumann at rasdaman.com
    tel: 0800-rasdaman, fax: 0800-rasdafax, mobile: +49-173-5837882
"Si forte in alienas manus oberraverit hec peregrina epistola incertis ventis dimissa, sed Deo commendata, precamur ut ei reddatur cui soli destinata, nec preripiat quisquam non sibi parata." (mail disclaimer, AD 1083)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20121031/d194d6a9/attachment-0001.html>

