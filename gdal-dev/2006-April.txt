From bartvde at xs4all.nl  Sun Apr  2 10:29:45 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
Message-ID: <442FDFD9.8020402@xs4all.nl>

Hi guys,

using the CVS version of GDAL which comes from the Mapserver Windows 
buildkit (31 March 2006?), I get the following problem compiling with 
Visual Studio 8:

cpl_strtod.cpp
cpl_strtod.cpp(444) : error C2440: '=' : cannot convert from 'const char 
*' to '
char *'
        Conversion loses qualifiers

Best regards,
Bart

-- 
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl


From warmerdam at pobox.com  Sun Apr  2 11:55:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <442FDFD9.8020402@xs4all.nl>
References: <442FDFD9.8020402@xs4all.nl>
Message-ID: <442FF3D4.5070305@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Hi guys,
> 
> using the CVS version of GDAL which comes from the Mapserver Windows 
> buildkit (31 March 2006?), I get the following problem compiling with 
> Visual Studio 8:
> 
> cpl_strtod.cpp
> cpl_strtod.cpp(444) : error C2440: '=' : cannot convert from 'const char 
> *' to '
> char *'
>        Conversion loses qualifiers

Bart,

I have committed a chance casting the return result to char *.

		  p = (char *) strchr (hexits, tolower (*sc));

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Sun Apr  2 11:12:21 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <442FF3D4.5070305@pobox.com>
References: <442FDFD9.8020402@xs4all.nl> <442FF3D4.5070305@pobox.com>
Message-ID: <442FE9D5.4030706@loskot.net>

Frank Warmerdam wrote:
> Bart van den Eijnden (OSGIS) wrote:
>> Hi guys,
>> 
>> using the CVS version of GDAL which comes from the Mapserver 
>> Windows buildkit (31 March 2006?), I get the following problem 
>> compiling with Visual Studio 8:
>> 
>> cpl_strtod.cpp cpl_strtod.cpp(444) : error C2440: '=' : cannot 
>> convert from 'const char *' to ' char *' Conversion loses 
>> qualifiers
> 
> Bart,
> 
> I have committed a chance casting the return result to char *.
> 
> p = (char *) strchr (hexits, tolower (*sc));

Hi Frank,

The problem is because ISO C++ does not provide C version of strchr.
C++ version solves limitations of C language, so that's why ISO C++
provides slightly different versions of strchr.

Here is how does it look like regarding C/C++ standards

char *strchr(const char *s, int c); [not in C++]

const char *strchr(const char *s, int c); [C++ only]
char *strchr(char *s, int c); [C++ only]

So, in C++, returning non-const char* from const char* brokes const
corretness. So, it maybe unsafe to use that cast (char*)strchr(...).

Second problem is that the C version of strchr is "visible" from g++
compiler, but that's unstandard and is caused by well-known bug in
GCC/libstdc++. So, the problem with strchr occurs in VC++ which compiler
is to be free of this bug.

Third, VC++ is not a C compiler but C++ - that's what I've heared from
Microsfot gurus ;-) So, VC++ does not support buggy mixtures of C/C++
libraries/features.

Here is longer story I started onb libstdc++ mailing list:
http://gcc.gnu.org/ml/libstdc++/2006-02/msg00086.html

The question is how GDAL should handle it. Should GDAL behave more in C
way or more in C++ way?


Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From bartvde at xs4all.nl  Sun Apr  2 11:17:09 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <442FF3D4.5070305@pobox.com>
References: <442FDFD9.8020402@xs4all.nl> <442FF3D4.5070305@pobox.com>
Message-ID: <442FEAF5.6020400@xs4all.nl>

Hi Frank,

thanks, there is another culprit though:

ecwcreatecopy.cpp(1016) : error C2440: '=' : cannot convert from 'const 
char *'
to 'char *'
        Conversion loses qualifiers

Best regards,
Bart

Frank Warmerdam wrote:

> Bart van den Eijnden (OSGIS) wrote:
>
>> Hi guys,
>>
>> using the CVS version of GDAL which comes from the Mapserver Windows 
>> buildkit (31 March 2006?), I get the following problem compiling with 
>> Visual Studio 8:
>>
>> cpl_strtod.cpp
>> cpl_strtod.cpp(444) : error C2440: '=' : cannot convert from 'const 
>> char *' to '
>> char *'
>>        Conversion loses qualifiers
>
>
> Bart,
>
> I have committed a chance casting the return result to char *.
>
>           p = (char *) strchr (hexits, tolower (*sc));
>
> Best regards,



-- 
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl


From warmerdam at pobox.com  Sun Apr  2 12:29:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <442FEAF5.6020400@xs4all.nl>
References: <442FDFD9.8020402@xs4all.nl> <442FF3D4.5070305@pobox.com>
	<442FEAF5.6020400@xs4all.nl>
Message-ID: <442FFBE9.3090103@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Hi Frank,
> 
> thanks, there is another culprit though:
> 
> ecwcreatecopy.cpp(1016) : error C2440: '=' : cannot convert from 'const 
> char *'
> to 'char *'
>        Conversion loses qualifiers
> 

Bart,

I have applied a fix for this in CVS.  In this case the fix is to declare
real_filename as "const char *" instead of "char *".

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Sun Apr  2 12:32:10 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <442FE9D5.4030706@loskot.net>
References: <442FDFD9.8020402@xs4all.nl> <442FF3D4.5070305@pobox.com>
	<442FE9D5.4030706@loskot.net>
Message-ID: <442FFC8A.9010800@pobox.com>

Mateusz ?oskot wrote:
> The question is how GDAL should handle it. Should GDAL behave more in C
> way or more in C++ way?

Mateusz,

Well, for the specific case of function like strchr() that have "const
correct" versions, I think this just helps us write better code.  We should
just review any code with problems, and correct it to work properly with
VS8.  In the case of the cpl_strtod.cpp change I took the path of least
resistance with the cast because the code is complex and I'm afraid of trying
to change too much.

In the case of ecwcreatecopy.cpp, it is clear the return result should have
been treated as a const char * all along.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Sun Apr  2 16:07:24 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <442FFC8A.9010800@pobox.com>
References: <442FDFD9.8020402@xs4all.nl> <442FF3D4.5070305@pobox.com>
	<442FE9D5.4030706@loskot.net> <442FFC8A.9010800@pobox.com>
Message-ID: <44302EFC.7070802@loskot.net>

Frank Warmerdam wrote:
> Mateusz ?oskot wrote:
>> The question is how GDAL should handle it. Should GDAL behave more in C
>> way or more in C++ way?
> 
> Mateusz,
> 
> Well, for the specific case of function like strchr() that have "const
> correct" versions, I think this just helps us write better code.  We should
> just review any code with problems, and correct it to work properly with
> VS8.  In the case of the cpl_strtod.cpp change I took the path of least
> resistance with the cast because the code is complex and I'm afraid of
> trying to change too much.

I understand.
I just would suggest to avoid using C version of strchr in future.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Sun Apr  2 20:54:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <44302EFC.7070802@loskot.net>
References: <442FDFD9.8020402@xs4all.nl>
	<442FF3D4.5070305@pobox.com>	<442FE9D5.4030706@loskot.net>
	<442FFC8A.9010800@pobox.com> <44302EFC.7070802@loskot.net>
Message-ID: <44307250.2030100@pobox.com>

Mateusz ?oskot wrote:
> Frank Warmerdam wrote:
>> Mateusz ?oskot wrote:
>>> The question is how GDAL should handle it. Should GDAL behave more in C
>>> way or more in C++ way?
>> Mateusz,
>>
>> Well, for the specific case of function like strchr() that have "const
>> correct" versions, I think this just helps us write better code.  We should
>> just review any code with problems, and correct it to work properly with
>> VS8.  In the case of the cpl_strtod.cpp change I took the path of least
>> resistance with the cast because the code is complex and I'm afraid of
>> trying to change too much.
> 
> I understand.
> I just would suggest to avoid using C version of strchr in future.

Mateusz,

I don't see why there is a problem with using strchr()?  Just don't assume
it will return a char * on a const char * argument and things will be ok.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Sun Apr  2 20:11:03 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] build error using Visual Studio 8
In-Reply-To: <44307250.2030100@pobox.com>
References: <442FDFD9.8020402@xs4all.nl>
	<442FF3D4.5070305@pobox.com>	<442FE9D5.4030706@loskot.net>
	<442FFC8A.9010800@pobox.com> <44302EFC.7070802@loskot.net>
	<44307250.2030100@pobox.com>
Message-ID: <44306817.5010300@loskot.net>

Frank Warmerdam wrote:
> Mateusz ?oskot wrote:
>> Frank Warmerdam wrote:
>>> Mateusz ?oskot wrote:
>>>> The question is how GDAL should handle it. Should GDAL behave
>>>> more in C way or more in C++ way?
>>> Mateusz,
>>> 
>>> Well, for the specific case of function like strchr() that have
>>> "const correct" versions, I think this just helps us write better
>>> code.  We should just review any code with problems, and correct
>>> it to work properly with VS8.  In the case of the cpl_strtod.cpp
>>> change I took the path of least resistance with the cast because
>>> the code is complex and I'm afraid of trying to change too much.
>> 
>> I understand. I just would suggest to avoid using C version of
>> strchr in future.
> 
> Mateusz,
> 
> I don't see why there is a problem with using strchr()?  Just don't
> assume it will return a char * on a const char * argument and things
> will be ok.

Frank,
There is no problem with using strchr() but I'm saying that casting is a
bad idea. Simply, there should be no problem to desing solution in a way
to use const char*  or char* version of strchr(), but not mixing const
char*  with char*. I mean in C++.

p.s. I'm a little C++ puris ;-)

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From Jukka.Rahkonen at mmmtike.fi  Mon Apr  3 03:39:05 2006
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] VRT file creation from multiple geotiff files 
Message-ID: <CC197224AC75CE4DB23F739B16891B8631D267@tikka.haapa.mmm.fi>

Frank Warmerdam wrote:
>list67 <at> netscape.net wrote:
>> Hi.  I have many geotiff files.  I think that they are all the same projection 
>> and resolution.  They are all either adjacent or overlap each other.  I'd
>> like for GDAL to treat them as a single dataset.  My current method for
>> accomplishing this is to run gdal_merge and create a single .img file, and 
>>then pass that filename to GDAL.
 
>> Is there a more immediate method?  For example, could all the geotiffs be 
>> referenced by a single .vrt file?

>Yes, this can be done, but the VRT mechanism isn't necessarily going
>to scale up well to alot of individual files.  10's would be ok.
>100's might not be ok.

>> If so, is there a program that can generate that .vrt file?

>No, unfortunately not.

For me using VRT has worked just fine with some 120 JPEG 2000 files, 
10000 by 10000 pixels each. VRT can by made by a modifield gdal_merge.py 
script as Dardo D. Kleiner informed. Here is another link posted by 
Norman Vine to Mapserver user list:

">> A modified gdal_merge script was once posted to gdal_dev
>> mailing list, that creates GDAL/VRT file from a file list in seconds.
>> Here is a slightly modified version of that
> http://www.vso.cape.com/~nhv/files/gdal/gdal_vrtmerge.py
> # modified output of geotransform to retain same numerical
> # precision as the gdal 'C' utilities
> # Norman Vine  nhv@cape.com  03-Oct-2005 6:23:45 am
Note this has been added to the $GDAL_CVS / pymod / samples directory

Cheers

Norman"



From nbarker at rsinc.com  Mon Apr  3 11:33:00 2006
From: nbarker at rsinc.com (Norman Barker)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] gdal_translate image grow
Message-ID: <B67A5FB7A8114B47A70517C9C0D102E8131813@bath.uk.rsinc.com>



-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Thursday, March 30, 2006 3:11 PM
To: Norman Barker
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] gdal_translate image grow

Norman Barker wrote:
> Hi,
>
> I am using gdal_translate as the 'engine' behind mod_python as a very 
> simple WMS (so that I can prototype a few ideas before putting them
into 
> MapServer), everything works fine until I specify a BBOX such that the

> extents are outside that of the requested image.  This corresponds to 
> the -projwin option of gdal_translate, executing this I then get an 
> error "-srcwin falls outside of raster size".
> 
> Is there a way to grow the output image and fill in the missing data?
> 
> So for example  
> 
> gdal_translate -not_strict -OF PNG -a_nodata 0 -projwin -180 90 180
-90 
> -outsize 836 654 inputimage outputimage
> 
> would give an output image with world extents, and somewhere in this 
> image would be the inputimage
> 
> Alternatively is there a way to do this with the python bindings or
any 
> other utility.  I like gdal_translate since it does the conversion and

> sampling in one go!

Norman,

If you were willing to limit yourself to directly creatable formats,
you could use gdalwarp to do this.  It supports an output file with a
larger region than the input.  Alternatively a few modifications could
be made to gdal_translate to support a projwin (or srcwin) that is
larger
than the source.

Another approach would be for you to prepare a VRT file as input to
gdal_translate in your VRT script that has the characteristics you want
relative to the original file.  When you subwindow or do other such
transformations in gdal_translate it actually creates a "VRT" image of
the desired output file and uses that for input to translation.  To get
an idea what these VRTs look like you can even do a gdal_translate to
VRT format and you will get the VRT skeleton it created.

Best regards,
-- 
<snip>

Hi,

I have managed to get this working with VRT raster files, they are
seriously cool and I can program them from python forming a basic WMS.

However when I sample from a smaller image to a larger image with
greater spatial extents I use a kernel filter.  It seems that the kernel
filter doesn't stop in the y-axis and continues for the length of the
image (see attached).

Is this something that anyone else has come across? Also how do I make
the output png have transparent values, I have tried -a_nodata 0?

Many thanks,

Norman

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.png
Type: image/png
Size: 6631 bytes
Desc: test.png
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060403/b7ae5163/test.png
From warmerdam at pobox.com  Mon Apr  3 13:20:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] gdal_translate image grow
In-Reply-To: <B67A5FB7A8114B47A70517C9C0D102E8131813@bath.uk.rsinc.com>
References: <B67A5FB7A8114B47A70517C9C0D102E8131813@bath.uk.rsinc.com>
Message-ID: <4431595D.1020409@pobox.com>

Norman Barker wrote:
 > Hi,
 >
 > I have managed to get this working with VRT raster files, they are
 > seriously cool and I can program them from python forming a basic WMS.
 >
 > However when I sample from a smaller image to a larger image with
 > greater spatial extents I use a kernel filter.  It seems that the kernel
 > filter doesn't stop in the y-axis and continues for the length of the
 > image (see attached).

Norman,

Can you provide me with a .vrt and data file that demonstrate this problem?
Does it happen only with mapserver, or also just doing a gdal_translate from
the .vrt?   I suspect a bug in need of fixing.

 > Is this something that anyone else has come across? Also how do I make
 > the output png have transparent values, I have tried -a_nodata 0?

I think you are supposed to be able to set TRANSPARENT ON in the PNG
outputformat declaration to enable transparency.  If you are pulling
from mapserver via WMS there is a TRANSPARENT=ON option that should
turn this on.  If this doesn't work let me know the details and I'll see
what I can figure out.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Mon Apr  3 15:09:49 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] gdal_translate image grow
In-Reply-To: <B67A5FB7A8114B47A70517C9C0D102E8131815@bath.uk.rsinc.com>
References: <B67A5FB7A8114B47A70517C9C0D102E8131815@bath.uk.rsinc.com>
Message-ID: <443172FD.4080704@pobox.com>


Norman,

I found a problem with initialization in the VRT filtering code.  I
have corrected this and now get correct results.  But I generally don't
trust the filtering logic all that much, and encourage you to use some
caution in it's use.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From richard at waypointinfo.com  Tue Apr  4 10:02:51 2006
From: richard at waypointinfo.com (Richard Matsunaga)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] proj.dll location?
Message-ID: <000001c657f0$76f3bb10$cc01a8c0@Maddog>

I am trying to use OCTNewCoordinateTransformation() but GDAL can't find the
proj.dll. I am using my own build of GDAL and tried putting the proj.dll in
the same folder as the GDAL dll, but that didn't work.
 
If I point to the FWTools GDAL dll, then the coordinate transformation works
fine.
 
Where is GDAL expecting the proj.dll to be?
 
Richard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060404/fd764dbf/attachment.html
From warmerdam at pobox.com  Tue Apr  4 10:40:06 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] proj.dll location?
In-Reply-To: <000001c657f0$76f3bb10$cc01a8c0@Maddog>
References: <000001c657f0$76f3bb10$cc01a8c0@Maddog>
Message-ID: <44328546.7050408@pobox.com>

Richard Matsunaga wrote:
> I am trying to use OCTNewCoordinateTransformation() but GDAL can't find 
> the proj.dll. I am using my own build of GDAL and tried putting the 
> proj.dll in the same folder as the GDAL dll, but that didn't work.
>  
> If I point to the FWTools GDAL dll, then the coordinate transformation 
> works fine.
>  
> Where is GDAL expecting the proj.dll to be?

Richard,

OGR uses the default search rules to find proj.dll unless you define the
PROJSO environment variable.  If that is defined, then it is name of the
PROJ DLL to load (include an absolute path to find it anywhere).

I think if PROJ.DLL is in your PATH that should normally be sufficient.

Note, FWTools links directly against PROJ.DLL so uses normal startup rules
to find the DLL while the default GDAL build loads the DLL dynamically the
first time it is needed.

Best regards,

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From John.C.Cartwright at noaa.gov  Tue Apr  4 11:09:11 2006
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Python C API version mismatch
Message-ID: <44328C17.70102@noaa.gov>

Hello All,

Can someone tell me what I might have done wrong in compiling gdal 1.3.1 
on linux? I get the following error upon importing the gdal module:

/data1/contrib/lib/python2.4/gdal.py:191: RuntimeWarning: Python C API 
version mismatch for module _gdal: This Python has API version 1012, 
module _gdal has version1011.

I'm using python2.4.2, and these are my configure options:

./configure --prefix=/data1/contrib/gdal-1.3.1 \
--with-png=internal \
--with-libtiff=internal --with-geotiff=internal \
--with-libz=internal --with-jpeg=internal --with-gif=internal \
--with-pg=/usr/bin/pg_config \
--with-mysql=/usr/bin/mysql_config \
--with-oci=/usr/lib/oracle/10.2.0.1/client \
--with-geos=/data1/contrib/geos-2.2.1/bin/geos-config \
--with-pymoddir=/data1/contrib/lib/python2.4

Thanks!

-- john


From sgillies at frii.com  Tue Apr  4 12:12:54 2006
From: sgillies at frii.com (Sean Gillies)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Python C API version mismatch
In-Reply-To: <44328C17.70102@noaa.gov>
References: <44328C17.70102@noaa.gov>
Message-ID: <6E83D487-8AC1-4D8B-B72E-9670C334E82E@frii.com>


On Apr 4, 2006, at 9:09 AM, John Cartwright wrote:

> Hello All,
>
> Can someone tell me what I might have done wrong in compiling gdal  
> 1.3.1 on linux? I get the following error upon importing the gdal  
> module:
>
> /data1/contrib/lib/python2.4/gdal.py:191: RuntimeWarning: Python C  
> API version mismatch for module _gdal: This Python has API version  
> 1012, module _gdal has version1011.
>
> I'm using python2.4.2, and these are my configure options:
>
> ./configure --prefix=/data1/contrib/gdal-1.3.1 \
> --with-png=internal \
> --with-libtiff=internal --with-geotiff=internal \
> --with-libz=internal --with-jpeg=internal --with-gif=internal \
> --with-pg=/usr/bin/pg_config \
> --with-mysql=/usr/bin/mysql_config \
> --with-oci=/usr/lib/oracle/10.2.0.1/client \
> --with-geos=/data1/contrib/geos-2.2.1/bin/geos-config \
> --with-pymoddir=/data1/contrib/lib/python2.4
>
> Thanks!
>
> -- john

John,

Is it possible that your pymoddir is not on your Python path, and  
that you're importing an older gdal.py?

I think your configure should probably have

   --with-pymoddir=/data1/contrib/lib/python2.4/site-packages

just for the sake of keeping site-packages like gdal in the right place.

Sean

---
Sean Gillies
http://zcologia.com




From r.beck at m4com.de  Tue Apr  4 12:30:18 2006
From: r.beck at m4com.de (Reiner Beck)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] How to use GetLockedBlockRef
Message-ID: <44329F1A.1050505@m4com.de>

Hello list,
Hello Frank,

after upgrading to GDAL 1.3.1 (from 1.2.6) the method 
GDALRasterBand::GetBlockRef() is no longer available. It has been 
replaced by GDALRasterBand::GetLockedBlockRef().

Simply replacing the call with GDALRasterBand::GetLockedBlockRef() does 
work somehow. However, for large images the process will allocate the 
whole memory of the system up to a degree where it becomes unusable.

I fixed that by releasing each band after accessing the tile data with 
"block->DropLock()". This seems to work.

Question: Is this the supposed way to use the block cache? If not, a 
short example would help ...

The documentation for GDALRasterBand still contains references to 
GetBlockRef. To avoid confusion I propose to remove or change that. 
Further, I have the impression that some public member functions in 
GDALRasterBlock shouldn't really be public, or am I supposed to use e.g. 
Internalize()?

Cheers
Reiner



From brauplists at gmail.com  Tue Apr  4 15:42:41 2006
From: brauplists at gmail.com (Bruce Raup)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] ogr2ogr segfaults with large SQL statement
In-Reply-To: <931f8ea90601260501i26f73a9bl826bde8360cd2957@mail.gmail.com>
References: <1464295a0601201041i53133933o3a20d4540ddc6a8d@mail.gmail.com>
	<931f8ea90601201914i444cf704s91a3f4eac60ed9ac@mail.gmail.com>
	<1464295a0601251440g25c05aa8i9af7d2f94c87712d@mail.gmail.com>
	<931f8ea90601260501i26f73a9bl826bde8360cd2957@mail.gmail.com>
Message-ID: <1464295a0604041242m255ef492jd65df9ebffa9267e@mail.gmail.com>

Hello Frank, and all,

This is a continuation of an old thread.  I downloaded the CVS version
of GDAL/OGR yesterday ('gdal-cvs-2006.04.03') to see if your (Frank's)
patch to remove the limit on query length solved our problem with
version 1.6.  It doesn't.

- The old version (I think 1.6, although ogr2ogr -v doesn't show the
version number) can query a view from a PostGIS database, but the CVS
version cannot.

- If the WHERE clause in the SQL statement exceeds around 5000
characters, it still segfaults.

The basic command we're using (sans -where) is:

ogr2ogr -f "ESRI Shapefile" glims_query_12001.shp
                PG:"dbname=glims user=blahblah" glacier_query

where 'glacier_query' is the name of a view, which includes a geometry column.

                This command works with version 1.6.

                This command does not work with the CVS version (on any view or
                any table without a geom column).

I'm hoping the problem is just that we're using the wrong syntax.  The
user documentation is kinda thin related to this type of query.

Thanks in advance for your response,
Bruce Raup


On 1/26/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> On 1/25/06, Bruce Raup <brauplists@gmail.com> wrote:
> >  So, the work-around was to use MapServer to identify the entities we want
> > by ID, then hand a (potentially huge) list of IDs to ogr2ogr.  It seems
> > obvious to me that we're running into the 4096 byte limit.  Where is
> > OGRPGTableLayer::BuildWhere() defined?  I did
> >
> >  cd gdal-1.2.5/ogr
> >  grep 'OGRPGTableLayer::BuildWhere' *.h *.cpp
> >
> >  but found nothing.  Any other ideas on how to get around this problem?
>
> Bruce,
>
> It is in gdal/ogr/ogrsf_frmts/pg/ogrpgtablelayer.cpp.
>
> If you are building GDAL/OGR yourself locally, you can
> grab all the files from the website to replace your existing
> PG driver, or upgrade to a full nightly CVS build.
>
>   http://www.gdal.org/srctree/ogr/ogrsf_frmts/pg/
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>


--
Bruce Raup
http://cires.colorado.edu/~braup/


From John.C.Cartwright at noaa.gov  Tue Apr  4 15:59:43 2006
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Python C API version mismatch
In-Reply-To: <6E83D487-8AC1-4D8B-B72E-9670C334E82E@frii.com>
References: <44328C17.70102@noaa.gov>
	<6E83D487-8AC1-4D8B-B72E-9670C334E82E@frii.com>
Message-ID: <4432D02F.3000307@noaa.gov>

Thanks Sean, that helps.  Seems like my underlying problem is that 
configure is picking up the first python executable in my path (the 
older 2.2.3).  I don't see a way to specify the python executable to 
use, do you know a better solution other than mainipulating my 
environment for the configure/build process?

-- john


Sean Gillies wrote:

>
> On Apr 4, 2006, at 9:09 AM, John Cartwright wrote:
>
>> Hello All,
>>
>> Can someone tell me what I might have done wrong in compiling gdal  
>> 1.3.1 on linux? I get the following error upon importing the gdal  
>> module:
>>
>> /data1/contrib/lib/python2.4/gdal.py:191: RuntimeWarning: Python C  
>> API version mismatch for module _gdal: This Python has API version  
>> 1012, module _gdal has version1011.
>>
>> I'm using python2.4.2, and these are my configure options:
>>
>> ./configure --prefix=/data1/contrib/gdal-1.3.1 \
>> --with-png=internal \
>> --with-libtiff=internal --with-geotiff=internal \
>> --with-libz=internal --with-jpeg=internal --with-gif=internal \
>> --with-pg=/usr/bin/pg_config \
>> --with-mysql=/usr/bin/mysql_config \
>> --with-oci=/usr/lib/oracle/10.2.0.1/client \
>> --with-geos=/data1/contrib/geos-2.2.1/bin/geos-config \
>> --with-pymoddir=/data1/contrib/lib/python2.4
>>
>> Thanks!
>>
>> -- john
>
>
> John,
>
> Is it possible that your pymoddir is not on your Python path, and  
> that you're importing an older gdal.py?
>
> I think your configure should probably have
>
>   --with-pymoddir=/data1/contrib/lib/python2.4/site-packages
>
> just for the sake of keeping site-packages like gdal in the right place.
>
> Sean
>
> ---
> Sean Gillies
> http://zcologia.com
>
>
>
>

From sgillies at frii.com  Tue Apr  4 16:16:06 2006
From: sgillies at frii.com (Sean Gillies)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Python C API version mismatch
In-Reply-To: <4432D02F.3000307@noaa.gov>
References: <44328C17.70102@noaa.gov>
	<6E83D487-8AC1-4D8B-B72E-9670C334E82E@frii.com>
	<4432D02F.3000307@noaa.gov>
Message-ID: <F886ED18-9A79-4D87-8591-1DA2D7E52365@frii.com>

John,

Set a PYTHON environment variable before you configure

   $ PYTHON=/data1/contrib/bin/python2.4 ./configure

Used to get me all the time.

Sean

On Apr 4, 2006, at 1:59 PM, John Cartwright wrote:

> Thanks Sean, that helps.  Seems like my underlying problem is that  
> configure is picking up the first python executable in my path (the  
> older 2.2.3).  I don't see a way to specify the python executable  
> to use, do you know a better solution other than mainipulating my  
> environment for the configure/build process?
>
> -- john
>
>
> Sean Gillies wrote:
>
>>
>> On Apr 4, 2006, at 9:09 AM, John Cartwright wrote:
>>
>>> Hello All,
>>>
>>> Can someone tell me what I might have done wrong in compiling  
>>> gdal  1.3.1 on linux? I get the following error upon importing  
>>> the gdal  module:
>>>
>>> /data1/contrib/lib/python2.4/gdal.py:191: RuntimeWarning: Python  
>>> C  API version mismatch for module _gdal: This Python has API  
>>> version  1012, module _gdal has version1011.
>>>
>>> I'm using python2.4.2, and these are my configure options:
>>>
>>> ./configure --prefix=/data1/contrib/gdal-1.3.1 \
>>> --with-png=internal \
>>> --with-libtiff=internal --with-geotiff=internal \
>>> --with-libz=internal --with-jpeg=internal --with-gif=internal \
>>> --with-pg=/usr/bin/pg_config \
>>> --with-mysql=/usr/bin/mysql_config \
>>> --with-oci=/usr/lib/oracle/10.2.0.1/client \
>>> --with-geos=/data1/contrib/geos-2.2.1/bin/geos-config \
>>> --with-pymoddir=/data1/contrib/lib/python2.4
>>>
>>> Thanks!
>>>
>>> -- john
>>
>>
>> John,
>>
>> Is it possible that your pymoddir is not on your Python path, and   
>> that you're importing an older gdal.py?
>>
>> I think your configure should probably have
>>
>>   --with-pymoddir=/data1/contrib/lib/python2.4/site-packages
>>
>> just for the sake of keeping site-packages like gdal in the right  
>> place.
>>
>> Sean
>>

From warmerdam at pobox.com  Tue Apr  4 23:08:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] ogr2ogr segfaults with large SQL statement
In-Reply-To: <1464295a0604041242m255ef492jd65df9ebffa9267e@mail.gmail.com>
References: <1464295a0601201041i53133933o3a20d4540ddc6a8d@mail.gmail.com>	
	<931f8ea90601201914i444cf704s91a3f4eac60ed9ac@mail.gmail.com>	
	<1464295a0601251440g25c05aa8i9af7d2f94c87712d@mail.gmail.com>	
	<931f8ea90601260501i26f73a9bl826bde8360cd2957@mail.gmail.com>
	<1464295a0604041242m255ef492jd65df9ebffa9267e@mail.gmail.com>
Message-ID: <443334BC.2050200@pobox.com>

Bruce Raup wrote:
> Hello Frank, and all,
> 
> This is a continuation of an old thread.  I downloaded the CVS version
> of GDAL/OGR yesterday ('gdal-cvs-2006.04.03') to see if your (Frank's)
> patch to remove the limit on query length solved our problem with
> version 1.6.  It doesn't.
> 
> - The old version (I think 1.6, although ogr2ogr -v doesn't show the
> version number) can query a view from a PostGIS database, but the CVS
> version cannot.

Bruce,

I'm not too sure what version 1.6 is.  Perhaps 1.2.6 of GDAL?

My understanding of the current logic is that it should list all
tables and views that have geometry columns in the list of named
layers.  The current query for layers looks like:

SELECT c.relname FROM pg_class c, geometry_columns g
    WHERE (c.relkind in ('r','v') AND c.relname !~ '^pg'
    AND c.relname::TEXT = g.f_table_name::TEXT)

Hmm, I see the documentation claims views are not supported.  Just
how does one go about creating a named view in Postgres?

I was going to suggest you use the special datasource syntax
for listing explicit tables but I see that isn't supported for
postgres.  Perhaps I need to add it.

> - If the WHERE clause in the SQL statement exceeds around 5000
> characters, it still segfaults.

I have added a test for large attribute filters, and for large
SQL statements to the test suite, and identified a serious bug
which I have corrected.  Large attribute filters should now work
with OGR CVS.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue Apr  4 23:51:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] 1.3.2 Release, OSGeo, etc
Message-ID: <44333EAF.9090207@pobox.com>

Folks,

I am hoping to get a GDAL 1.3.2 release out soon and would appreciate anyone
aware of pressing issues to identify them to me.   I haven't done much of a
pass through bugzilla and at this rate I won't be able to before the release.
But I would like to skim for high priority bug fixes.

I think the main remaining work item I really want to address before the
release is completing multipoint and multilinestring support for the new
SDE driver.

--

My intent is to turn control of GDAL over to the GDAL Project Steering
Committee after the 1.3.2 release.  I have written a proposed set of working
rules for the project steering committee.  They can be found at the following
url, and feedback is welcome.

   http://www.gdal.org/srctree/rfc/RFC1_PMC.txt

GDAL/OGR is currently in "incubation" as an OSGeo project.   We are making
up the process as we go for the initial eight projects (including GDAL) so
it is a bit chaotic.  But things are firming up.  The "Incubation Status"
page for GDAL can be found at:

   http://wiki.osgeo.org/index.php/GDAL_Incubation_Progress

Note that the OSGeo home page for GDAL is http://gdal.osgeo.org.  Currently
I am planning to operate that essentially as a mirror of www.gdal.org, but
we might want to review that decision.  Possibly www.gdal.org should become
a redirect to gdal.osgeo.org, and that be the "primary home" for GDAL.

I'm also reviewing infrastructure migration questions, like:
  o Should we move GDAL to the OSGeo SVN server (I'm keen on this after some
    initial reluctance)?
  o Should we use the OSGeo download area for source and binary releases of
    GDAL?
  o Should we use OSGeo mailing lists for gdal-dev?
  o Should we add additional GDAL mailing lists, such as an announce and a
    users list?

Ultimately these decisions will need to be made by the GDAL PSC (project
steering committee).

I have been making a painstaking review of the copyright status of GDAL/OGR
source code.  Examining the headers of each and every source file in
the project, and looking for any problems or ambiguities.   This first pass
is roughly 75% complete, and has identified a fair number of concerns.
The working document can be found at:

   http://wiki.osgeo.org/index.php/GDAL_Provenance_Review

The intention is to come through the OSGeo incubation process with a
sense that the code has been looked over carefully and is believed to be
free of possibly copyright infringement issues.  There will definately be
some work needed after the review to correct identified issues.  In some
cases code may be dropped from GDAL (as was a bunch of ancient COM code
intended to implement the OGC coverages API), while in other cases I may
need to seek permission to use code that is ambiguous or even to rewrite
code that is questionable.

Overall the message I want to get out is that there will be some changes
in the governance, and infrastructure for GDAL in the coming months.  My
intention is to "let go" of GDAL to some degree with the intention that
it will grow into a more mature project where other stakeholders can have
influence and play a bigger role than in the past.   I welcome advice on
what the GDAL community would like to see in this regard.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Wed Apr  5 09:29:12 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] 1.3.2 Release, OSGeo, etc
In-Reply-To: <44333EAF.9090207@pobox.com>
References: <44333EAF.9090207@pobox.com>
Message-ID: <4433C628.4090705@tkk.fi>

Frank Warmerdam kirjoitti:
> Folks,
> 
> I am hoping to get a GDAL 1.3.2 release out soon and would appreciate
>  anyone aware of pressing issues to identify them to me.   I haven't
> done much of a pass through bugzilla and at this rate I won't be able
> to before the release. But I would like to skim for high priority bug
> fixes.


I'd appreciate a chance to review the status of the Perl binding. First
quick look tells that the test.pl fails. At least I would like to have
it working.

Cheers,

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From asger at jo-informatik.dk  Wed Apr  5 09:50:22 2006
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Ecw resampling problem when reading region larger than
	output buffer?
Message-ID: <6A0257B028DA47499B5A843683051A360E6414@server01.jo-informatik.local>

Hi list

I get funny results when using RasterIO to read a region from ECW that is larger than the outputbuffer ie doing super sampling.

When the output buffer is same size or smaller than the read region everything is fine. When output buffer is larger than the read region I get a result where the number of lines in the output seems to be fine but the number of pixels is 1/3 of what is should be (see attached files).

I've tried different formats and this only happens with ecw.

Oh, and to complicate things a bit I'm using Simon Perkins' .NET bindings.
Works:
band.RasterIO(Gdal.RWFlag.Read, 4000, 4000, 351, 351, data, 351, 351, Gdal.DataType.Byte, 3, 1056);

Doesn't work:
band.RasterIO(Gdal.RWFlag.Read, 4000, 4000, 351, 351, data, 352, 352, Gdal.DataType.Byte, 3, 1056);

Isn't it possible to get GDAL to supersample from ecw files?

Asger Petersen
JO Informatik ApS
All?gade 2, Bygning 10
3000 Helsing?r
Tlf 49 20 20 67

-------------- next part --------------
A non-text attachment was scrubbed...
Name: read_351_into_352.jpg
Type: image/jpeg
Size: 9363 bytes
Desc: read_351_into_352.jpg
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060405/16100fac/read_351_into_352.jpg
-------------- next part --------------
A non-text attachment was scrubbed...
Name: read_351_into_351.jpg
Type: image/jpeg
Size: 18370 bytes
Desc: read_351_into_351.jpg
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060405/16100fac/read_351_into_351.jpg
From wolfgang.qual at gmx.net  Wed Apr  5 10:15:24 2006
From: wolfgang.qual at gmx.net (wqual)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Question on using ogr-perl module
Message-ID: <200604051615.25171.wolfgang.qual@gmx.net>

Hi list,
I would like to get the fieldnames of a given attribute table using the 
perl-module ogr. It is possible to obtain the number of layers of my dataset 
(with GetLayerCount, see below), but I do not succeed in using other commands 
like GetLayerDefn, GetFeature (see result below). Is there a simple way to 
get the attribute fieldnames? Any comments/ideas are most welcome!

Best regards,
Wolfgang

What I tried was this:
#!/usr/bin/perl
use strict;
use warnings;
use ogr;

my $update;
my $datasource = 
'/home/wqual/grassdata/spearfish60/PERMANENT/vector/soils/head';
my $dataset = ogr::Open($datasource, $update = 0);
my $n = $dataset->GetLayerCount;
my $layer;
my $feature;
my $schema;
print "$n ***\n\n"; # print out number of layers 
for my $i (0..$dataset->GetLayerCount-1) {
    $layer = $dataset->GetLayerByIndex($i);
    $feature = $layer->GetFeature(1);
    $schema = $layer->GetLayerDefn();
    print "$i: $layer +++\n";
    print "$i: $schema ***\n";
}

The result:
perl -w /home/wqual/xmltest/ogrtest.pl
2 ***

0: ogr::Layer=HASH(0x823f264) +++
0: ogr::FeatureDefn=HASH(0x823f2b8) ***
1: ogr::Layer=HASH(0x823f2dc) +++
1: ogr::FeatureDefn=HASH(0x823f288) ***


Compilation finished at Wed Apr  5 16:05:15

From warmerdam at pobox.com  Wed Apr  5 10:12:14 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Ecw resampling problem when reading region larger
	than	output buffer?
In-Reply-To: <6A0257B028DA47499B5A843683051A360E6414@server01.jo-informatik.local>
References: <6A0257B028DA47499B5A843683051A360E6414@server01.jo-informatik.local>
Message-ID: <4433D03E.7080803@pobox.com>

Asger Petersen wrote:
> Hi list
> 
> I get funny results when using RasterIO to read a region from ECW that is
> larger than the outputbuffer ie doing super sampling.
> 
> When the output buffer is same size or smaller than the read region
> everything is fine. When output buffer is larger than the read region I get
> a result where the number of lines in the output seems to be fine but the
> number of pixels is 1/3 of what is should be (see attached files).
> 
> I've tried different formats and this only happens with ecw.
 >
> Oh, and to complicate things a bit I'm using Simon Perkins' .NET bindings. 
> Works: band.RasterIO(Gdal.RWFlag.Read, 4000, 4000, 351, 351, data, 351,
> 351, Gdal.DataType.Byte, 3, 1056);
> 
> Doesn't work: band.RasterIO(Gdal.RWFlag.Read, 4000, 4000, 351, 351, data,
> 352, 352, Gdal.DataType.Byte, 3, 1056);
> 
> Isn't it possible to get GDAL to supersample from ecw files?

Asger,

What version of GDAL are you using?  Hopefully at least 1.3.1?  There was
a bug in the past with supersampling, as it had to be implemented as a
specific case with GDAL doing the oversampling as the ECW SDK did not
support returning supersampled images.   It is quite plausible that there
are still some problems in this in fairly specific cases.

If you still have this problem with at least GDAL 1.3.1 (or better yet
a recent CVS snapshot), and if you file a bug report with the details
and a pointer to an image on which it can be demonstrated I'll dig into
it.

The c# shouldn't be an issue so providing just the C# rasterio call
should be sufficient.  I just want to ensure I am trying to reproduce
it against the same image at my end as you ran into the problem with.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From asger at jo-informatik.dk  Wed Apr  5 10:51:45 2006
From: asger at jo-informatik.dk (Asger Petersen)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Ecw resampling problem when reading region larger than
	output buffer?
Message-ID: <6A0257B028DA47499B5A843683051A360E6416@server01.jo-informatik.local>

Hi Frank,

I'm using version 1.3.1.0 from FWTools 1.0.0b2 on WinXP so I have just
filed a bug report with an example file attached.

Cheers
Asger

> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
> Warmerdam
> Sent: 5. april 2006 16:12
> To: Asger Petersen
> Cc: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] Ecw resampling problem when reading region
larger
> than output buffer?
> 
> Asger Petersen wrote:
> > Hi list
> >
> > I get funny results when using RasterIO to read a region from ECW
that
> is
> > larger than the outputbuffer ie doing super sampling.
> >
> > When the output buffer is same size or smaller than the read region
> > everything is fine. When output buffer is larger than the read
region I
> get
> > a result where the number of lines in the output seems to be fine
but
> the
> > number of pixels is 1/3 of what is should be (see attached files).
> >
> > I've tried different formats and this only happens with ecw.
>  >
> > Oh, and to complicate things a bit I'm using Simon Perkins' .NET
> bindings.
> > Works: band.RasterIO(Gdal.RWFlag.Read, 4000, 4000, 351, 351, data,
351,
> > 351, Gdal.DataType.Byte, 3, 1056);
> >
> > Doesn't work: band.RasterIO(Gdal.RWFlag.Read, 4000, 4000, 351, 351,
> data,
> > 352, 352, Gdal.DataType.Byte, 3, 1056);
> >
> > Isn't it possible to get GDAL to supersample from ecw files?
> 
> Asger,
> 
> What version of GDAL are you using?  Hopefully at least 1.3.1?  There
was
> a bug in the past with supersampling, as it had to be implemented as a
> specific case with GDAL doing the oversampling as the ECW SDK did not
> support returning supersampled images.   It is quite plausible that
there
> are still some problems in this in fairly specific cases.
> 
> If you still have this problem with at least GDAL 1.3.1 (or better yet
> a recent CVS snapshot), and if you file a bug report with the details
> and a pointer to an image on which it can be demonstrated I'll dig
into
> it.
> 
> The c# shouldn't be an issue so providing just the C# rasterio call
> should be sufficient.  I just want to ensure I am trying to reproduce
> it against the same image at my end as you ran into the problem with.
> 
> Best regards,
> --
>
---------------------------------------+--------------------------------
--
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF,
http://osgeo.org



From brauplists at gmail.com  Wed Apr  5 12:27:54 2006
From: brauplists at gmail.com (Bruce Raup)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] ogr2ogr segfaults with large SQL statement
In-Reply-To: <443334BC.2050200@pobox.com>
References: <1464295a0601201041i53133933o3a20d4540ddc6a8d@mail.gmail.com>
	<931f8ea90601201914i444cf704s91a3f4eac60ed9ac@mail.gmail.com>
	<1464295a0601251440g25c05aa8i9af7d2f94c87712d@mail.gmail.com>
	<931f8ea90601260501i26f73a9bl826bde8360cd2957@mail.gmail.com>
	<1464295a0604041242m255ef492jd65df9ebffa9267e@mail.gmail.com>
	<443334BC.2050200@pobox.com>
Message-ID: <1464295a0604050927u1e7ca80dtb04f4b67c30fa68c@mail.gmail.com>

Hi Frank,

On 4/4/06, Frank Warmerdam <warmerdam@pobox.com> wrote:

> I'm not too sure what version 1.6 is.  Perhaps 1.2.6 of GDAL?

I got that number from the libgdal file:  "libgdal.so.1.6.0", which I
built and installed on 2005-02-28.


> My understanding of the current logic is that it should list all
> tables and views that have geometry columns in the list of named
> layers.  The current query for layers looks like:
>
> SELECT c.relname FROM pg_class c, geometry_columns g
>     WHERE (c.relkind in ('r','v') AND c.relname !~ '^pg'
>     AND c.relname::TEXT = g.f_table_name::TEXT)
>
> Hmm, I see the documentation claims views are not supported.  Just
> how does one go about creating a named view in Postgres?

Not supported in what?  PostgreSQL?  Views are definitely supported in
PostgreSQL.  In psql, "\h create" gives (among other things):

Command:     CREATE VIEW
Description: define a new view
Syntax:
CREATE [ OR REPLACE ] VIEW name [ ( column_name [, ...] ) ] AS query

Or are you talking about ogr2ogr not supporting views?  The old
version (our "1.6") did indeed work for querying PostgreSQL (PostGIS)
views.

> I was going to suggest you use the special datasource syntax
> for listing explicit tables but I see that isn't supported for
> postgres.  Perhaps I need to add it.

I don't follow.  This is a special syntax for ogr2ogr?

>
> > - If the WHERE clause in the SQL statement exceeds around 5000
> > characters, it still segfaults.
>
> I have added a test for large attribute filters, and for large
> SQL statements to the test suite, and identified a serious bug
> which I have corrected.  Large attribute filters should now work
> with OGR CVS.

Great!  By "large", what do you mean?  Is there still a hard limit? 
Or does it use a dynamically allocated buffer?

Continued thanks,
Bruce

--
Bruce Raup
http://cires.colorado.edu/~braup/


From ari.jolma at tkk.fi  Wed Apr  5 14:01:52 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] Question on using ogr-perl module
In-Reply-To: <200604051615.25171.wolfgang.qual@gmx.net>
References: <200604051615.25171.wolfgang.qual@gmx.net>
Message-ID: <44340610.4070204@tkk.fi>

wqual kirjoitti:
>  Hi list, I would like to get the fieldnames of a given attribute
>  table using the perl-module ogr. It is possible to obtain the number
>  of layers of my dataset (with GetLayerCount, see below), but I do not
>  succeed in using other commands like GetLayerDefn, GetFeature (see
>  result below). Is there a simple way to get the attribute fieldnames?
>  Any comments/ideas are most welcome!

I have a dialog box in my Gtk2::Ex::Geo modules: 
http://map.hut.fi/PerlForGeoinformatics/OGROpen.png

The code behind the dialog box opens a datasource (for example a 
directory or database), lists the layers, and, when asked, gives the 
schema. The code for this dialog box is here 
http://cvs.sourceforge.net/viewcvs.py/libral/Gtk2-Ex-Geo/lib/Gtk2/Ex/Geo/OGRDialog.pm.in?rev=1.4&view=auto

The code for getting the attribute field names is this (from sub 
fill_property_and_schema_tvs):

my $schema = $layer->GetLayerDefn();
	
    my $n = $schema->GetFieldCount();
    my %data;
    for my $i (0..$n-1) {
	my $c = $schema->GetFieldDefn($i);
	$data{$c->GetName} = $c->GetFieldTypeName($c->GetType);
    }


There is also a dialog box for the attribute table: 
http://map.hut.fi/PerlForGeoinformatics/features_dialog.png

The code for this dialog box is in the same file as above, see sub 
browse_features and a few subs below it. There are examples of using 
GetFeature.

Ari

>
>  Best regards, Wolfgang
>

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From warmerdam at pobox.com  Wed Apr  5 15:54:31 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] ogr2ogr segfaults with large SQL statement
In-Reply-To: <1464295a0604050927u1e7ca80dtb04f4b67c30fa68c@mail.gmail.com>
References: <1464295a0601201041i53133933o3a20d4540ddc6a8d@mail.gmail.com>	
	<931f8ea90601201914i444cf704s91a3f4eac60ed9ac@mail.gmail.com>	
	<1464295a0601251440g25c05aa8i9af7d2f94c87712d@mail.gmail.com>	
	<931f8ea90601260501i26f73a9bl826bde8360cd2957@mail.gmail.com>	
	<1464295a0604041242m255ef492jd65df9ebffa9267e@mail.gmail.com>	
	<443334BC.2050200@pobox.com>
	<1464295a0604050927u1e7ca80dtb04f4b67c30fa68c@mail.gmail.com>
Message-ID: <44342077.2080703@pobox.com>

Bruce Raup wrote:
>> I'm not too sure what version 1.6 is.  Perhaps 1.2.6 of GDAL?
> 
> I got that number from the libgdal file:  "libgdal.so.1.6.0", which I
> built and installed on 2005-02-28.

Bruce,

Ah.  That is the "libtool" version number.  I'm not really sure how to
relate it back to meaningful version numbers.

>> My understanding of the current logic is that it should list all
>> tables and views that have geometry columns in the list of named
>> layers.  The current query for layers looks like:
>>
>> SELECT c.relname FROM pg_class c, geometry_columns g
>>     WHERE (c.relkind in ('r','v') AND c.relname !~ '^pg'
>>     AND c.relname::TEXT = g.f_table_name::TEXT)
>>
>> Hmm, I see the documentation claims views are not supported.  Just
>> how does one go about creating a named view in Postgres?
> 
> Not supported in what?  PostgreSQL?  Views are definitely supported in
> PostgreSQL.  In psql, "\h create" gives (among other things):

I meant that the OGR PG driver docs say that the OGR PG driver does not
support views.

> Command:     CREATE VIEW
> Description: define a new view
> Syntax:
> CREATE [ OR REPLACE ] VIEW name [ ( column_name [, ...] ) ] AS query

Believe it ir not, even the above seems a bit abstract to me.  What
is "query", a full SELECT statement?  Why do I need to list column
names?  Just if I want to rename them?

>> I was going to suggest you use the special datasource syntax
>> for listing explicit tables but I see that isn't supported for
>> postgres.  Perhaps I need to add it.
> 
> I don't follow.  This is a special syntax for ogr2ogr?

For the RDBMS based drivers there is an issue with what tables and
views ought to be treated as layers for OGR.  In a big RDBMS there
can be a substantial performance cost to querying the details of
all tables in the system and turning them into OGR layers.  Not too
speak of burying the user in a long list of layers.

So I generally try strategies like "only show spatial layers", or
"only show layers in the users schema".  The problem is this makes
it difficult to address other tables through OGR.   One solution
to this I have used in serveral other RDBMS based drivers is to
allow a list of tables (or named views) to be treated as layers
to be listed in the "data source name".  That is what I was talking
about.

>>> - If the WHERE clause in the SQL statement exceeds around 5000
>>> characters, it still segfaults.
>> I have added a test for large attribute filters, and for large
>> SQL statements to the test suite, and identified a serious bug
>> which I have corrected.  Large attribute filters should now work
>> with OGR CVS.
> 
> Great!  By "large", what do you mean?  Is there still a hard limit? 
> Or does it use a dynamically allocated buffer?

I tested with a 10 or 15K query.  But I changed the code to use
dynamically sized strings.  I thought I had got all the fixed
sized buffers before but the problem didn't become apparent to me
till I prepared and ran an actual stress test.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mlepage at pyxisinnovation.com  Wed Apr  5 16:57:20 2006
From: mlepage at pyxisinnovation.com (Marc A. Lepage)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] MIME type for GeoTiff?
Message-ID: <00e801c658f3$87dd6ad0$1b00a8c0@PyxisInnovation.local>

Is there a MIME type for GeoTiff?
 
I understand the type and subtype to be image/tiff.
 
Is there a more specific MIME parameter (e.g. application=geotiff) which
can hint that the contents are GeoTiff (and not just basic TIFF)?
 

-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.385 / Virus Database: 268.3.5/301 - Release Date: 4/4/2006
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060405/c2cb6c7f/attachment.html
From warmerdam at pobox.com  Wed Apr  5 17:18:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] MIME type for GeoTiff?
In-Reply-To: <00e801c658f3$87dd6ad0$1b00a8c0@PyxisInnovation.local>
References: <00e801c658f3$87dd6ad0$1b00a8c0@PyxisInnovation.local>
Message-ID: <4434342B.8030402@pobox.com>

Marc A. Lepage wrote:
> Is there a MIME type for GeoTiff?
> 
>  
> 
> I understand the type and subtype to be image/tiff.
> 
>  
> 
> Is there a more specific MIME parameter (e.g. application=geotiff) which 
> can hint that the contents are GeoTiff (and not just basic TIFF)?

Marc,

I am not aware of an mimetype for geotiff.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From John.C.Cartwright at noaa.gov  Wed Apr  5 18:05:42 2006
From: John.C.Cartwright at noaa.gov (John Cartwright)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] gdal_merge.py
Message-ID: <44343F36.1080907@noaa.gov>

Hello All,

I'm trying to merge a set of gifs w/ gdal_merge.py.  The generated gif 
cannot be displayed in a browser "because it contains errors".

gdalinfo seems to think it's OK:

Driver: GTiff/GeoTIFF
Size is 634, 701
Coordinate System is `'
Origin = (-107.671825,43.779007)
Pixel Size = (0.00936063,-0.00936063)
Corner Coordinates:
Upper Left  (-107.6718251,  43.7790070)
Lower Left  (-107.6718251,  37.2172060)
Upper Right (-101.7371863,  43.7790070)
Lower Right (-101.7371863,  37.2172060)
Center      (-104.7045057,  40.4981065)
Band 1 Block=634x12 Type=Byte, ColorInterp=Gray

although the ColorInterp is different than the original images:

Driver: GIF/Graphics Interchange Format (.gif)
Size is 600, 550
Coordinate System is `'
Origin = (-107.671825,43.779007)
Pixel Size = (0.00955275,-0.00955275)
Corner Coordinates:
Upper Left  (-107.6718251,  43.7790070)
Lower Left  (-107.6718251,  38.5249939)
Upper Right (-101.9401744,  43.7790070)
Lower Right (-101.9401744,  38.5249939)
Center      (-104.8059998,  41.1520004)
Band 1 Block=600x1 Type=Byte, ColorInterp=Palette
  NoData Value=11
Metadata:
  GIF_BACKGROUND=0
  Color Table (RGB with 256 entries)
...

Same thing happens w/ the GTiff format. Is there something I'm missing 
here or is this the expected behaviour?

Thanks!

-- john


From warmerdam at pobox.com  Wed Apr  5 21:30:49 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] gdal_merge.py
In-Reply-To: <44343F36.1080907@noaa.gov>
References: <44343F36.1080907@noaa.gov>
Message-ID: <44346F49.6020600@pobox.com>

John Cartwright wrote:
> Hello All,
> 
> I'm trying to merge a set of gifs w/ gdal_merge.py.  The generated gif 
> cannot be displayed in a browser "because it contains errors".
> 
> gdalinfo seems to think it's OK:
> 
> Driver: GTiff/GeoTIFF
> ...
> 
> Same thing happens w/ the GTiff format. Is there something I'm missing 
> here or is this the expected behaviour?

John,

I think the problem is that the output file from the merge is a GeoTIFF
and browsers don't know what to do with it.  If you want a different output
format you would have to use the -of switch to gdal_merge.py, but in any
event I don't think it can output directly to gif since gif can only be
created by copying from another file (it is a "create copy" format).

So just translate your GeoTIFF back to GIF.

Also, I think you will need to rerun the merge with the -pct switch
so that the color table of the first input file will be copied to the
mosaic.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Wed Apr  5 22:09:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:04 2007
Subject: [Gdal-dev] How to use GetLockedBlockRef
In-Reply-To: <44329F1A.1050505@m4com.de>
References: <44329F1A.1050505@m4com.de>
Message-ID: <44347864.5020006@pobox.com>

Reiner Beck wrote:
> Hello list,
> Hello Frank,
> 
> after upgrading to GDAL 1.3.1 (from 1.2.6) the method 
> GDALRasterBand::GetBlockRef() is no longer available. It has been 
> replaced by GDALRasterBand::GetLockedBlockRef().
> 
> Simply replacing the call with GDALRasterBand::GetLockedBlockRef() does 
> work somehow. However, for large images the process will allocate the 
> whole memory of the system up to a degree where it becomes unusable.
> 
> I fixed that by releasing each band after accessing the tile data with 
> "block->DropLock()". This seems to work.
> 
> Question: Is this the supposed way to use the block cache? If not, a 
> short example would help ...

Reiner,

Yes, GetLockedBlockRef() and DropLock() should be used in combination
as you have.  The GetLockedBlockRef() documentation seems to be fairly
specific about that need.

I have made a pass through gdalrasterband.cpp correcting old references
to GetBlockRef().  If you notice any more please let me know.

I'm not keen to write an example of using GetLockedBlockRef(), partly
because while it is public, it is not an interface that I wish to
encourage much use of.

> The documentation for GDALRasterBand still contains references to 
> GetBlockRef. To avoid confusion I propose to remove or change that. 
> Further, I have the impression that some public member functions in 
> GDALRasterBlock shouldn't really be public, or am I supposed to use e.g. 
> Internalize()?

You are correct that some of the methods on the GDALRasterBlock are not
really intended to be used by application programmers although in theory
there would be no particular harm in it.   Actually, looking at the code
it could be quite bad to call Internalize() on a block that has already
been internalized.

The problem is that if I made these private I would need to do some
fiddling with friend classes and it just isn't something that has been
a problem for many people.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hayati.tastan at hgk.mil.tr  Thu Apr  6 04:11:50 2006
From: hayati.tastan at hgk.mil.tr (=?iso-8859-9?Q?Hayati_TA=DETAN?=)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDALWARP.EXE (W/O Attachements)
Message-ID: <0198F8415BCFC34E8CC703441B0926EE6A261A@haritapos1.hrtserver.local>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 5675 bytes
Desc: =?iso-8859-9?B?Qef9ayBH9mt5/Hr8IEFya2FQbGFuLmpwZw==?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060406/fbf52c11/attachment.jpe
From wolfgang.qual at gmx.net  Thu Apr  6 06:53:28 2006
From: wolfgang.qual at gmx.net (wqual)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question on using ogr-perl module
In-Reply-To: <44340610.4070204@tkk.fi>
References: <200604051615.25171.wolfgang.qual@gmx.net>
	<44340610.4070204@tkk.fi>
Message-ID: <200604061253.29941.wolfgang.qual@gmx.net>

Hello Ari, 
great! Thanks again for your help. For GRASS-vectorlayers, I had to write this 
for the 
'directory': /home/wqual/grassdata/spearfish60/PERMANENT/vector/archsites/head';

greetings,

Wolfgang
--8<--------------------------------------------------------------------------------------------------------
Am Mittwoch 05 April 2006 pH:01:20 nachmittags/abends schrieb Ari Jolma:
> wqual kirjoitti:
> >  Hi list, I would like to get the fieldnames of a given attribute
> >  table using the perl-module ogr. It is possible to obtain the number
> >  of layers of my dataset (with GetLayerCount, see below), but I do not
> >  succeed in using other commands like GetLayerDefn, GetFeature (see
> >  result below). Is there a simple way to get the attribute fieldnames?
> >  Any comments/ideas are most welcome!
>
> I have a dialog box in my Gtk2::Ex::Geo modules:
> http://map.hut.fi/PerlForGeoinformatics/OGROpen.png
>
> The code behind the dialog box opens a datasource (for example a
> directory or database), lists the layers, and, when asked, gives the
> schema. The code for this dialog box is here
> http://cvs.sourceforge.net/viewcvs.py/libral/Gtk2-Ex-Geo/lib/Gtk2/Ex/Geo/OG
>RDialog.pm.in?rev=1.4&view=auto
>
> The code for getting the attribute field names is this (from sub
> fill_property_and_schema_tvs):
>
> my $schema = $layer->GetLayerDefn();
>
>     my $n = $schema->GetFieldCount();
>     my %data;
>     for my $i (0..$n-1) {
> 	my $c = $schema->GetFieldDefn($i);
> 	$data{$c->GetName} = $c->GetFieldTypeName($c->GetType);
>     }
>
>
> There is also a dialog box for the attribute table:
> http://map.hut.fi/PerlForGeoinformatics/features_dialog.png
>
> The code for this dialog box is in the same file as above, see sub
> browse_features and a few subs below it. There are examples of using
> GetFeature.
>
> Ari
>
> >  Best regards, Wolfgang

From ari.jolma at tkk.fi  Thu Apr  6 09:38:23 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] CVS
Message-ID: <443519CF.1010601@tkk.fi>

So I'm a committer.

My first suggestion concerns the swig generated wrapper codes and
modules. Let's remove them from CVS, shall we? GEOS has this policy and
it just makes sense. Generation of them should be left as a subtask to
"make dist".

Regards,

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From hobu at iastate.edu  Thu Apr  6 10:10:31 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] CVS
In-Reply-To: <443519CF.1010601@tkk.fi>
References: <443519CF.1010601@tkk.fi>
Message-ID: <p06200700c05acf35c989@[192.168.11.4]>

Some reasons for keeping them in CVS:

1)  GDAL has history of keeping generated code in the CVS tree.  The 
old-style Python wrappers, which are generated from swig 1.1, pretty 
much *have* to be pushed into the tree because Frank is the only 
person I know of with swig 1.1 installed anywhere.

2) SWIG is in severe flux right now.  1.3.28 was a *major* release, 
complete with incompatibilities, bugs, and API changes.  The distros 
all vary in the swig that they provide, and this can have a great 
impact on what people see when they generate bindings themselves. 
1.3.29 came quickly (and still has some broken Python things).

3) Windows

Some reasons for dropping them from CVS:

On the flip side, I agree that having the generated bindings in CVS 
is a pain.  They almost always seem to generate CVS conflicts and 
sync'ing between the various flavors is not always consistent.  I 
almost always generate my own bindings with the swig I have installed 
when doing any development.  I agree that a 'make dist' target should 
be generating *all* of the bindings for each language flavor anyway, 
regardless of whether or not we keep the bindings actually stored in 
CVS.

Howard


At 4:38 PM +0300 4/6/06, Ari Jolma wrote:
>So I'm a committer.
>
>My first suggestion concerns the swig generated wrapper codes and
>modules. Let's remove them from CVS, shall we? GEOS has this policy and
>it just makes sense. Generation of them should be left as a subtask to
>"make dist".
>
>Regards,
>
>Ari
>
>--
>Prof. Ari Jolma
>Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
>Teknillinen Korkeakoulu / Helsinki University of Technology
>tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
>Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Thu Apr  6 11:14:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDALWARP.EXE (W/O Attachements)
In-Reply-To: <0198F8415BCFC34E8CC703441B0926EE6A261A@haritapos1.hrtserver.local>
References: <0198F8415BCFC34E8CC703441B0926EE6A261A@haritapos1.hrtserver.local>
Message-ID: <4435305E.1040507@pobox.com>

Hayati TA?TAN wrote:
> SECOND ATTEMPT:
> 
> D:\FWTools\bin>gdalwarp -s_srs "+proj=geo +datum=WGS84" -t_srs 
> "+proj=utm +zone=36 +datum=WGS84" mapgeo.tif maputm.tif ERROR 1: 
> Translating source or target SRS failed:
> 
> +proj=geo +datum=WGS84


Hi,

Try:

gdalwarp -s_srs "+proj=latlong +datum=WGS84"
    -t_srs "+proj=utm +zone=36 +datum=WGS84" mapgeo.tif maputm.tif


Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu Apr  6 11:38:30 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] CVS
In-Reply-To: <p06200700c05acf35c989@[192.168.11.4]>
References: <443519CF.1010601@tkk.fi> <p06200700c05acf35c989@[192.168.11.4]>
Message-ID: <443535F6.5090901@pobox.com>

Howard Butler wrote:
> Some reasons for keeping them in CVS:
> 
> 1)  GDAL has history of keeping generated code in the CVS tree.  The 
> old-style Python wrappers, which are generated from swig 1.1, pretty 
> much *have* to be pushed into the tree because Frank is the only person 
> I know of with swig 1.1 installed anywhere.
> 
> 2) SWIG is in severe flux right now.  1.3.28 was a *major* release, 
> complete with incompatibilities, bugs, and API changes.  The distros all 
> vary in the swig that they provide, and this can have a great impact on 
> what people see when they generate bindings themselves. 1.3.29 came 
> quickly (and still has some broken Python things).
> 
> 3) Windows
> 
> Some reasons for dropping them from CVS:
> 
> On the flip side, I agree that having the generated bindings in CVS is a 
> pain.  They almost always seem to generate CVS conflicts and sync'ing 
> between the various flavors is not always consistent.  I almost always 
> generate my own bindings with the swig I have installed when doing any 
> development.  I agree that a 'make dist' target should be generating 
> *all* of the bindings for each language flavor anyway, regardless of 
> whether or not we keep the bindings actually stored in CVS.

Howard, Ari,

At least for now it still seems quite tricky to produce working swig
wrappers for the next gen stuff, so I would prefer that they live in
CVS.  I'm especially concerned with how we can make sure generated wrappers
actually work for all the languages before a release.  One approach is for
me to use whatever is in CVS.  The files could lag a bit, but would
presumably be in a working state.

Do either of you feel confident enough in your own swig version to generate
all the bindings and commit them shortly before a release?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From werchowyna at epf.pl  Thu Apr  6 15:38:39 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] 1.3.2 Release, OSGeo, etc
In-Reply-To: <44333EAF.9090207@pobox.com>
References: <44333EAF.9090207@pobox.com>
Message-ID: <20060406213839.a7074ba3.werchowyna@epf.pl>

On Tue, 04 Apr 2006 23:51:11 -0400
Frank Warmerdam <warmerdam@pobox.com> wrote:

> Folks,
> 
> I am hoping to get a GDAL 1.3.2 release out soon and would appreciate
> anyone aware of pressing issues to identify them to me.   I haven't
> done much of a pass through bugzilla and at this rate I won't be able
> to before the release. But I would like to skim for high priority bug
> fixes.

>From my Grass user's point of view, this bug is importatnt:
http://bugzilla.remotesensing.org/show_bug.cgi?id=809

Do you think it will be fixed 1.3.2?

Best,
Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From warmerdam at pobox.com  Thu Apr  6 15:50:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] 1.3.2 Release, OSGeo, etc
In-Reply-To: <20060406213839.a7074ba3.werchowyna@epf.pl>
References: <44333EAF.9090207@pobox.com>
	<20060406213839.a7074ba3.werchowyna@epf.pl>
Message-ID: <443570F5.2020102@pobox.com>

Maciek Sieczka wrote:
> On Tue, 04 Apr 2006 23:51:11 -0400
> Frank Warmerdam <warmerdam@pobox.com> wrote:
> 
>> Folks,
>>
>> I am hoping to get a GDAL 1.3.2 release out soon and would appreciate
>> anyone aware of pressing issues to identify them to me.   I haven't
>> done much of a pass through bugzilla and at this rate I won't be able
>> to before the release. But I would like to skim for high priority bug
>> fixes.
> 
>>From my Grass user's point of view, this bug is importatnt:
> http://bugzilla.remotesensing.org/show_bug.cgi?id=809
> 
> Do you think it will be fixed 1.3.2?

Maciek,

No, I wasn't expecting to fix it.  The problem is I have to address complex
type issues (64bit types) in shapelib to fix it, which basically means I
need to move Shapelib to autoconf and friends.  A substantial transition.

If someone is interested in taking on shapelib co-maintainership and address
this I'd seriously consider it.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Thu Apr  6 15:59:35 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] CVS
In-Reply-To: <443535F6.5090901@pobox.com>
References: <443519CF.1010601@tkk.fi> <p06200700c05acf35c989@[192.168.11.4]>
	<443535F6.5090901@pobox.com>
Message-ID: <44357327.4010804@tkk.fi>

Frank Warmerdam kirjoitti:
>
> Do either of you feel confident enough in your own swig version to 
> generate
> all the bindings and commit them shortly before a release?

That's fine by me. I just would like to avoid continuously updating the 
wrappers at every commit. I tested now a couple of cvs commit; make 
veryclean; make generate; cvs commit cycles and there seems to be no 
convergence. So for the Perl bindings make generate would be 
recommended, when using the CVS version. I assume this is ok? I'm using 
swig 1.3.26. It seems to me that for Perl the swig is rather stable.

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ari.jolma at tkk.fi  Thu Apr  6 16:46:13 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] DISOWN in ogr.i
Message-ID: <44357E15.7000903@tkk.fi>

There has been three warnings on *DISOWN when generating the Perl 
bindings. These have come from swig/include/ogr.i. As I understand 
swig/Perl does not use *DISOWN, so I commented them out for Perl. In two 
cases my solution for Perl is to use %perlcode and wrap 
SetGeometryDirectly and AddGeometryDirectly so that they call Perl 
DISOWN method before the actual method (a hackish solution, I admit).

The third case is the ExecuteSQL, ReleaseResultSet pair. If I understand 
correctly, these should always be called in pairs, so the %newobject and 
*DISOWN in fact cancel each other. I now removed both for Perl, but I 
think they could be removed for all languages?

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From awilliams at rapidmap.com.au  Thu Apr  6 19:23:23 2006
From: awilliams at rapidmap.com.au (Andrew Williams)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDALWARP.EXE (W/O Attachements)
Message-ID: <CFE1D6CAE2D44343BF58E308C1C7EC64543A80@rmg-server03.rmg.local>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 5675 bytes
Desc: =?utf-8?B?QcOnxLFrIEfDtmt5w7x6w7wgQXJrYVBsYW4uanBn?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060407/87a1b2cc/attachment.jpe
From ellen.debeuckeleer at incgeo.be  Fri Apr  7 08:31:01 2006
From: ellen.debeuckeleer at incgeo.be (EllenD)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
Message-ID: <3802726.post@talk.nabble.com>


Hi,

I want to perform a dynamic_cast on an OGRGeometry* object as follows:

OGRGeometry *poGeometry ....  // not null
...
switch (poGeometry->getGeometryType())
{
    .....
     case wkbPolygon:
         MyFunc( dynamic_cast<OGRPolygon *>(poGeometry));
         ....
}

MyFunc(OGRPolygon  *poPolygon)
{
.....
}


Running this code under Linux works fine, but under Visual Studio I get the
runtime following error:

Unhandled exception @ .... : Microsoft C++ exception: __non_rtti_object @
....

I am using GDAL 1.3.1 and tried to compile it with the /GR option added to
the OPTFLAGS compiler flags in nmake.opt. The compilation and installation
are successfull, but I still get the error. 

How can I compile GDAL so that OGR (and GDAL) has RTTI support or is
something else wrong?

Ellen



--
View this message in context: http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a3802726
Sent from the GDAL - Dev forum at Nabble.com.


From warmerdam at pobox.com  Fri Apr  7 09:15:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
In-Reply-To: <3802726.post@talk.nabble.com>
References: <3802726.post@talk.nabble.com>
Message-ID: <44366600.4050802@pobox.com>

EllenD wrote:
> Unhandled exception @ .... : Microsoft C++ exception: __non_rtti_object @
> ....
> 
> I am using GDAL 1.3.1 and tried to compile it with the /GR option added to
> the OPTFLAGS compiler flags in nmake.opt. The compilation and installation
> are successfull, but I still get the error. 
> 
> How can I compile GDAL so that OGR (and GDAL) has RTTI support or is
> something else wrong?

Ellen,

I often build with /GR and /GX though I'm not exactly clear why.

Also, are you building your own application code with /GX?

I have used RTTI dynamic casts inside GDAL but it is possible your problems
relates to using it across the DLL boundaries.  I'm not sure if that is
related or not.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From route at cae.com  Fri Apr  7 09:22:17 2006
From: route at cae.com (Stephane Routelous)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] classification writing support for img
Message-ID: <62FC3C78EB032A4DB2AD05F964E931F6019D5F9E@caemex02.caecorp.cae.com>

Hi,
 
I checked the gdal 1.3.1 code for the new way of using the RAT. (I'm for
the moment using 1.2.6)
it seems that for the img (hfa) format, it is not possible to save a RAT
table.
is it really so , or I made a mistake reading the code ?
is this feature planned ?
 
Thanks in advance,
 
Stephane Routelous
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060407/f518860c/attachment.html
From ellen.debeuckeleer at incgeo.be  Fri Apr  7 09:40:29 2006
From: ellen.debeuckeleer at incgeo.be (EllenD)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
In-Reply-To: <44366600.4050802@pobox.com>
References: <3802726.post@talk.nabble.com> <44366600.4050802@pobox.com>
Message-ID: <3803776.post@talk.nabble.com>


I didn't use the /GX option in my code. I tryed it now, but I still get the
error.

I don't understand what you mean with "problems related to using it across
the DLL boundaries". I link my applications against the gdal_i.lib which
calls the gdal131.dll....

Ellen
--
View this message in context: http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a3803776
Sent from the GDAL - Dev forum at Nabble.com.


From warmerdam at pobox.com  Fri Apr  7 10:03:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
In-Reply-To: <3803776.post@talk.nabble.com>
References: <3802726.post@talk.nabble.com> <44366600.4050802@pobox.com>
	<3803776.post@talk.nabble.com>
Message-ID: <44367131.6020404@pobox.com>

EllenD wrote:
> I didn't use the /GX option in my code. I tryed it now, but I still get the
> error.

Ellen,

OK, it was a long shot.

> I don't understand what you mean with "problems related to using it across
> the DLL boundaries". I link my applications against the gdal_i.lib which
> calls the gdal131.dll....

You are trying to do dynamic casting on a class implemented in gdal131.dll
from your application code.  So, we could say the dynamic casting is
happening cross the boundary between the gdal131.dll and your application.
DLLs on windows do all sorts of magic thunking in an attempt to make it
seem like everything is working normally but in reality there is a whole
layer of proxying for everything, DLLs often have their own heap and
other runtime resources.

I'm not saying the problem does have to do with this, but it seems plausible
since dynamic casting seems to work ok for me internally.

Of course, I could easily be on entirely the wrong track.

I'm afraid I'm out of suggestions.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From MChapman at sanz.com  Fri Apr  7 12:03:24 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C443@mailman.san.com>

Ellen,

That is a setting you have to make in your VC++ studio project settings,
not the dependencies.  To do this go to the properties sheet of your
project, then select C++->Language->Enable Run-Time Type Info and set it
to true.  Then clean and rebuild your project.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of EllenD
Sent: Friday, April 07, 2006 6:31 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] need RTTI for OGR (Windows)


Hi,

I want to perform a dynamic_cast on an OGRGeometry* object as follows:

OGRGeometry *poGeometry ....  // not null
...
switch (poGeometry->getGeometryType())
{
    .....
     case wkbPolygon:
         MyFunc( dynamic_cast<OGRPolygon *>(poGeometry));
         ....
}

MyFunc(OGRPolygon  *poPolygon)
{
.....
}


Running this code under Linux works fine, but under Visual Studio I get
the
runtime following error:

Unhandled exception @ .... : Microsoft C++ exception: __non_rtti_object
@
....

I am using GDAL 1.3.1 and tried to compile it with the /GR option added
to
the OPTFLAGS compiler flags in nmake.opt. The compilation and
installation
are successfull, but I still get the error. 

How can I compile GDAL so that OGR (and GDAL) has RTTI support or is
something else wrong?

Ellen



--
View this message in context:
http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a380
2726
Sent from the GDAL - Dev forum at Nabble.com.

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From MChapman at sanz.com  Fri Apr  7 12:11:25 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C444@mailman.san.com>

Frank,

You only have to enable RTTI in GDAL if the GDAL code itself uses
polymorphic type checking.  If I write an app that includes a dependent
dll and I want type checking then that is specific to my binary and
should have nothing to do with any external dll's that I use.  Think
about it, if that was the case then I would always have to recompile
every dependency that I use if they didn't compile with the option.

Martin 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Friday, April 07, 2006 8:03 AM
To: EllenD
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] need RTTI for OGR (Windows)

EllenD wrote:
> I didn't use the /GX option in my code. I tryed it now, but I still
get the
> error.

Ellen,

OK, it was a long shot.

> I don't understand what you mean with "problems related to using it
across
> the DLL boundaries". I link my applications against the gdal_i.lib
which
> calls the gdal131.dll....

You are trying to do dynamic casting on a class implemented in
gdal131.dll
from your application code.  So, we could say the dynamic casting is
happening cross the boundary between the gdal131.dll and your
application.
DLLs on windows do all sorts of magic thunking in an attempt to make it
seem like everything is working normally but in reality there is a whole
layer of proxying for everything, DLLs often have their own heap and
other runtime resources.

I'm not saying the problem does have to do with this, but it seems
plausible
since dynamic casting seems to work ok for me internally.

Of course, I could easily be on entirely the wrong track.

I'm afraid I'm out of suggestions.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From MChapman at sanz.com  Fri Apr  7 12:17:40 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C445@mailman.san.com>

Ellen,

Also,

The reason it ran under Linux is because GCC enables it by default.  The
reason Microsoft does not is because it creates bigger binaries, because
it includes the V-Table type info information and it's a slight
performance hit.  You can also use the older typeid() function to
perform rtti.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of EllenD
Sent: Friday, April 07, 2006 6:31 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] need RTTI for OGR (Windows)


Hi,

I want to perform a dynamic_cast on an OGRGeometry* object as follows:

OGRGeometry *poGeometry ....  // not null
...
switch (poGeometry->getGeometryType())
{
    .....
     case wkbPolygon:
         MyFunc( dynamic_cast<OGRPolygon *>(poGeometry));
         ....
}

MyFunc(OGRPolygon  *poPolygon)
{
.....
}


Running this code under Linux works fine, but under Visual Studio I get
the
runtime following error:

Unhandled exception @ .... : Microsoft C++ exception: __non_rtti_object
@
....

I am using GDAL 1.3.1 and tried to compile it with the /GR option added
to
the OPTFLAGS compiler flags in nmake.opt. The compilation and
installation
are successfull, but I still get the error. 

How can I compile GDAL so that OGR (and GDAL) has RTTI support or is
something else wrong?

Ellen



--
View this message in context:
http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a380
2726
Sent from the GDAL - Dev forum at Nabble.com.

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From mike_alias at heins.ca  Fri Apr  7 14:24:44 2006
From: mike_alias at heins.ca (Michael Heins)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] srtm warping question
Message-ID: <200604071424.AA201195844@heins.ca>

New to list and trying to deal with SRTM data: 

I am having a problem warping the NASA SRTM hdr format from the lat/long GEO coord system with WGS84  to a UTM projection in NAD83. 

***** 
THE REAL QUESTION: 
***** 
I am interested in knowing how to map SRTM binarys into some other projection system.  I do not want a visual reference of the SRTM data.  I would like the 16bit elevation data interpolated for the given projection system.  How can I accomplish this?? 
If easier to explain with c++ code, I am well adapt at figuring out things by-example. 


***** 
WHAT I'VE DISCOVERED SO FAR 
***** 

Assume c:\downloads\geo\srtmtest\outdef.prj has projection WKT is the following: 
PROJCS["WGS_1984_UTM_Zone_11N",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_84",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-117],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["Meter",1]] 

I have attempted to use the gdalwarp utility with the following line: 
gdalwarp -t_srs c:\downloads\geo\srtmtest\outdef.prj -wt Int16 -of EHdr c:\downloads\geo\srtmtest\N43W071.bil c:\downloads\geo\srtmtest\out.bil 

and got the following output: 
Creating output file that is 1617P x 1697L. 
Processing input file c:\downloads\geo\srtmtest\N43W071.bil. 
:0...10...20...30...40...50...60...70...80...90...Open GDAL Datasets: 
  1 N DriverIsNULL 512x512x0 

I noted the 'DriverIsNull' seems to be a problem maybe??  Anyways, the output created is full of nulls (the entire file is the correct size however).  And the associated .prj and .hdr files for ESRI BIL format are also written, and they appear to be correctly translated into UTM definitions. 

So following this mess, I also wrote some c++ code canabilizing the sample code on gdals website.  This resulted in the same output as was generated with the gdalwarp util. 

Thanks in advance 
-mike 
 

 
________________________________________________________________
Sent via Aserty Enhanced Internet Services, Visit us at http://WWW.ASERTY.COM

 
                   

From rsheykhet at sanz.com  Fri Apr  7 18:22:21 2006
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Projection issues with OGR/Proj.4.
Message-ID: <ED3A48B9840E594890A2BC172D119465058D9485@mailman.san.com>

Hi All,

I am trying to convert a shape using OGR calls from Lon/Lat to
California VII State Plane Projection.  I get Easting and Northing out
of it, but when I try to use other tools (ArcMap, OSSIM, Corpscon 6)
they interpret these easting and northing values to be in a completely
different place.  Here are the values:
PROJ.4 coordinate system string:
	+proj=lcc +lat_2=34.41666666666666 +lat_1=33.86666666666667
+lat_0=34.13333333333333 +lon_0=-118.3333333333333
+x_0=1276106.450596901 +y_0=127079.524511049 +ellps=clrk66
+datum=NAD27 +to_meter=0.3048006096012192 +no_defs

Original Lon/Lat:  -117.2038, 32.7161

OGR/Proj.4 Output: 4534220.33, -96890.84

Other Tools' idea of what easting/northing for this lon/lat should be:
4534487.622, 3647093.557

Other Tools' idea of where OGR/Proj.4-converted easting/northing values
are: -117.324683175, 22.495186883.

Any suggestions are appreciated.

Thanks,

Rostic



From tyrian at extractionpoint.com  Fri Apr  7 01:11:15 2006
From: tyrian at extractionpoint.com (shaun walbridge)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] MIME type for GeoTiff?
In-Reply-To: <00e801c658f3$87dd6ad0$1b00a8c0@PyxisInnovation.local>
References: <00e801c658f3$87dd6ad0$1b00a8c0@PyxisInnovation.local>
Message-ID: <4435F473.6010509@extractionpoint.com>

I doubt it fits a well specified standard, but WCS servers (such as 
Mapserver) do return MIME types indicating their GeoTIFF-ness and 
additionally the format of the data returned, for example 
[image/geotiffint16].

cheers,
Shaun Walbridge

Marc A. Lepage wrote:
>
> Is there a MIME type for GeoTiff?
>
>  
>
> I understand the type and subtype to be image/tiff.
>
>  
>
> Is there a more specific MIME parameter (e.g. application=geotiff) 
> which can hint that the contents are GeoTiff (and not just basic TIFF)?
>
>  
>
>
> --
> No virus found in this outgoing message.
> Checked by AVG Free Edition.
> Version: 7.1.385 / Virus Database: 268.3.5/301 - Release Date: 4/4/2006
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Fri Apr  7 19:03:04 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Projection issues with OGR/Proj.4.
In-Reply-To: <ED3A48B9840E594890A2BC172D119465058D9485@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D119465058D9485@mailman.san.com>
Message-ID: <4436EFA8.9060709@pobox.com>

Sheykhet, Rostic wrote:
> Hi All,
> 
> I am trying to convert a shape using OGR calls from Lon/Lat to
> California VII State Plane Projection.  I get Easting and Northing out
> of it, but when I try to use other tools (ArcMap, OSSIM, Corpscon 6)
> they interpret these easting and northing values to be in a completely
> different place.  Here are the values:
> PROJ.4 coordinate system string:
> 	+proj=lcc +lat_2=34.41666666666666 +lat_1=33.86666666666667
> +lat_0=34.13333333333333 +lon_0=-118.3333333333333
> +x_0=1276106.450596901 +y_0=127079.524511049 +ellps=clrk66
> +datum=NAD27 +to_meter=0.3048006096012192 +no_defs
> 
> Original Lon/Lat:  -117.2038, 32.7161
> 
> OGR/Proj.4 Output: 4534220.33, -96890.84
> 
> Other Tools' idea of what easting/northing for this lon/lat should be:
> 4534487.622, 3647093.557
> 
> Other Tools' idea of where OGR/Proj.4-converted easting/northing values
> are: -117.324683175, 22.495186883.
> 
> Any suggestions are appreciated.

Rostic,

What WKT .prj file does ArcGIS use for the coordinate system?

I checked an old ArcGIS "26747.prj" and I see that it is using
a false northing of 4160926 feet while the OGR definition for
EPSG:26747 has a false northing of 127079 feet.  I'm not sure which
is right but the different might well account for the error.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri Apr  7 19:08:42 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] classification writing support for img
In-Reply-To: <62FC3C78EB032A4DB2AD05F964E931F6019D5F9E@caemex02.caecorp.cae.com>
References: <62FC3C78EB032A4DB2AD05F964E931F6019D5F9E@caemex02.caecorp.cae.com>
Message-ID: <4436F0FA.5060105@pobox.com>

Stephane Routelous wrote:
> Hi,
>  
> I checked the gdal 1.3.1 code for the new way of using the RAT. (I'm for 
> the moment using 1.2.6)
> it seems that for the img (hfa) format, it is not possible to save a RAT 
> table.
> is it really so , or I made a mistake reading the code ?
> is this feature planned ?

Stephane,

I believe you are correct, that GDAL does not currently support saving
a "RAT" in a .img file.  This just isn't implemented though it might be
desirable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri Apr  7 19:13:43 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] srtm warping question
In-Reply-To: <200604071424.AA201195844@heins.ca>
References: <200604071424.AA201195844@heins.ca>
Message-ID: <4436F227.5030704@pobox.com>

Michael Heins wrote:
> ***** 
> WHAT I'VE DISCOVERED SO FAR 
> ***** 
> 
> Assume c:\downloads\geo\srtmtest\outdef.prj has projection WKT is the following: 
> PROJCS["WGS_1984_UTM_Zone_11N",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_84",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-117],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["Meter",1]] 
> 
> I have attempted to use the gdalwarp utility with the following line: 
> gdalwarp -t_srs c:\downloads\geo\srtmtest\outdef.prj -wt Int16 -of EHdr c:\downloads\geo\srtmtest\N43W071.bil c:\downloads\geo\srtmtest\out.bil 
> 
> and got the following output: 
> Creating output file that is 1617P x 1697L. 
> Processing input file c:\downloads\geo\srtmtest\N43W071.bil. 
> :0...10...20...30...40...50...60...70...80...90...Open GDAL Datasets: 
>   1 N DriverIsNULL 512x512x0 
> 
> I noted the 'DriverIsNull' seems to be a problem maybe??  Anyways, the output created is full of nulls (the entire file is the correct size however).  And the associated .prj and .hdr files for ESRI BIL format are also written, and they appear to be correctly translated into UTM definitions. 
> 
> So following this mess, I also wrote some c++ code canabilizing the sample code on gdals website.  This resulted in the same output as was generated with the gdalwarp util. 

Mike,

By way of debugging, I would encourage you to output to GeoTIFF to see if
the problem is related to the EHdr driver.

The next thing I would try is to specify the input coordinate system in case
it is not being picked up from the source data.

eg.
gdalwarp -s_srs WGS84 -t_srs \
    c:\downloads\geo\srtmtest\outdef.prj -wt Int16 -of EHdr \
    c:\downloads\geo\srtmtest\N43W071.bil c:\downloads\geo\srtmtest\out.bil

If you still have no joy, please bundle up an example for me and I'll see
what I can figure out.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ed at topozone.com  Fri Apr  7 19:15:57 2006
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Projection issues with OGR/Proj.4.
Message-ID: <4BF377919225F449BB097CB76FFE9BC83DDB8A@ptolemy.topozone.com>

Rostic -

It seems that Frank's observation is correct - please see the following
discussion concerning this apparent error in the EPSG database:

http://www.nabble.com/nad27-vs.-epsg-defn-of-CA-State-Plane-zone-VII-t16
6935.html

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: +1 (978) 251-4242
Fax: +1 (978) 251-1396
ed@topozone.com

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Frank
Warmerdam
Sent: Friday, April 07, 2006 7:03 PM
To: Sheykhet, Rostic
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Projection issues with OGR/Proj.4.

Sheykhet, Rostic wrote:
> Hi All,
> 
> I am trying to convert a shape using OGR calls from Lon/Lat to 
> California VII State Plane Projection.  I get Easting and Northing out

> of it, but when I try to use other tools (ArcMap, OSSIM, Corpscon 6) 
> they interpret these easting and northing values to be in a completely

> different place.  Here are the values:
> PROJ.4 coordinate system string:
> 	+proj=lcc +lat_2=34.41666666666666 +lat_1=33.86666666666667
> +lat_0=34.13333333333333 +lon_0=-118.3333333333333
> +x_0=1276106.450596901 +y_0=127079.524511049 +ellps=clrk66
> +datum=NAD27 +to_meter=0.3048006096012192 +no_defs
> 
> Original Lon/Lat:  -117.2038, 32.7161
> 
> OGR/Proj.4 Output: 4534220.33, -96890.84
> 
> Other Tools' idea of what easting/northing for this lon/lat should be:
> 4534487.622, 3647093.557
> 
> Other Tools' idea of where OGR/Proj.4-converted easting/northing 
> values
> are: -117.324683175, 22.495186883.
> 
> Any suggestions are appreciated.

Rostic,

What WKT .prj file does ArcGIS use for the coordinate system?

I checked an old ArcGIS "26747.prj" and I see that it is using a false
northing of 4160926 feet while the OGR definition for
EPSG:26747 has a false northing of 127079 feet.  I'm not sure which is
right but the different might well account for the error.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Fri Apr  7 19:26:52 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Projection issues with OGR/Proj.4.
In-Reply-To: <4BF377919225F449BB097CB76FFE9BC83DDB8A@ptolemy.topozone.com>
References: <4BF377919225F449BB097CB76FFE9BC83DDB8A@ptolemy.topozone.com>
Message-ID: <4436F53C.2040904@pobox.com>

Ed McNierney wrote:
> Rostic -
> 
> It seems that Frank's observation is correct - please see the following
> discussion concerning this apparent error in the EPSG database:
> 
> http://www.nabble.com/nad27-vs.-epsg-defn-of-CA-State-Plane-zone-VII-t16
> 6935.html
> 
> 	- Ed

Rostic,

I have modified stateplane.csv in gdal/data to point California VII (NAD27)
to EPSG:26799 instead of the old code.  It seems that EPSG corrected their
database, but the normal way they do this is by deprecating old codes and
adding a new fixed code.  They did this, but I didn't realize it and hadn't
updated stateplane.csv which is used by the SetStatePlane() method to turn
a state plane zone into an EPSG code.

With this change the result match the other software output.

*** stateplane.csv.~1.2.~	2006-02-28 00:19:22.000000000 -0500
--- stateplane.csv	2006-04-07 19:22:34.647688600 -0400
***************
*** 135,141 ****
   10404,CALIFORNIA,IV,2,NAD27,404,26744
   10405,CALIFORNIA,V,2,NAD27,405,26745
   10406,CALIFORNIA,VI,2,NAD27,406,26746
! 10407,CALIFORNIA,VII,2,NAD27,407,26747
   10501,COLORADO,NORTH,2,NAD27,501,26753
   10502,COLORADO,CENTRAL,2,NAD27,502,26754
   10503,COLORADO,SOUTH,2,NAD27,503,26755
--- 135,141 ----
   10404,CALIFORNIA,IV,2,NAD27,404,26744
   10405,CALIFORNIA,V,2,NAD27,405,26745
   10406,CALIFORNIA,VI,2,NAD27,406,26746
! 10407,CALIFORNIA,VII,2,NAD27,407,26799
   10501,COLORADO,NORTH,2,NAD27,501,26753
   10502,COLORADO,CENTRAL,2,NAD27,502,26754
   10503,COLORADO,SOUTH,2,NAD27,503,26755

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From rayg at daylongraphics.com  Fri Apr  7 19:27:42 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] precision pitfall
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C445@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C445@mailman.san.com>
Message-ID: <4436F56E.2000504@daylongraphics.com>

I don't know if this has been discussed earlier, but I thought I'd 
mention it as I've come across it. It's not a GDAL error (although it 
might explain some things people might have come across, so it might be 
good to check GDAL):

Files that include georef data may not have enough precision to prevent 
subtle coordinate errors downstream unless workarounds are used.

Example: GTOPO30 .HDR files include XDIM/YDIM members that are typically 
listed as 0.00833333333333 (1/4800th of 40 degrees).

Doing the following math with double-precision numbers on x86:

     double xdim = atof("0.00833333333333");
     double x = 20; // dem's west edge, 20 deg east.
     double width = xdim * 4800;
     x += width;

     printf(x);        // Reports 60.00000, and even
     printf(x * 3600); // arcseconds will be reported as 216000,

                   // but...

     printf("%d deg, %d', %d\"",
        (int)d,
        ((int)(d * 60)) % 60,
        ((int)(d * 3600)) % 60); // We get: 59 deg, 59' , 59"


Using (int)x or floor(x) to get the whole-number degrees will be 59. 
Turns out there are thirteen double-precision numbers that printf() (and 
the VC debugger) will report as 60 that are slightly less than 60.

If the GTOPO30 HDR file had four more digits of precision, the error 
goes away. Epsilon math will fix this, but just to show where a 
contributing source of the error can be.

In a strict sense, there's actually no error if we take the HDR file at 
face value and treat the extent width as being a hair under 40 degrees. 
But we know this isn't the DEM's width, it is intended to be 40. Being 
strict would cause annoying off-by-one-arcsrcond coordinate readouts to 
appear, and may cause worse errors if such values are used in 
computations downstream (or data exchange roundtripping). A better way 
to fix this might have been for the file spec to say how wide the DEM 
is, or where the extents are absolutely located, instead of how far 
apart its gridposts are.

Ray



From rsheykhet at sanz.com  Fri Apr  7 19:49:18 2006
From: rsheykhet at sanz.com (Sheykhet, Rostic)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Projection issues with OGR/Proj.4.
Message-ID: <ED3A48B9840E594890A2BC172D119465058D94AD@mailman.san.com>

Frank/Ed,

Thanks for the replies.  I fixed the projection definition and it works
fine now.  For the record, I was not using the proj.4 definitions for
the gdal CSV file, but the stock spatial_ref_sys PostGIS database table.
The definitions were wrong in the table, so caveat emptor.

Thanks again,

Rostic

-----Original Message-----
From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf Of Frank
Warmerdam
Sent: Friday, April 07, 2006 5:27 PM
To: Ed McNierney
Cc: Sheykhet, Rostic; gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] Projection issues with OGR/Proj.4.

Ed McNierney wrote:
> Rostic -
> 
> It seems that Frank's observation is correct - please see the
following
> discussion concerning this apparent error in the EPSG database:
> 
>
http://www.nabble.com/nad27-vs.-epsg-defn-of-CA-State-Plane-zone-VII-t16
> 6935.html
> 
> 	- Ed

Rostic,

I have modified stateplane.csv in gdal/data to point California VII
(NAD27)
to EPSG:26799 instead of the old code.  It seems that EPSG corrected
their
database, but the normal way they do this is by deprecating old codes
and
adding a new fixed code.  They did this, but I didn't realize it and
hadn't
updated stateplane.csv which is used by the SetStatePlane() method to
turn
a state plane zone into an EPSG code.

With this change the result match the other software output.

*** stateplane.csv.~1.2.~	2006-02-28 00:19:22.000000000 -0500
--- stateplane.csv	2006-04-07 19:22:34.647688600 -0400
***************
*** 135,141 ****
   10404,CALIFORNIA,IV,2,NAD27,404,26744
   10405,CALIFORNIA,V,2,NAD27,405,26745
   10406,CALIFORNIA,VI,2,NAD27,406,26746
! 10407,CALIFORNIA,VII,2,NAD27,407,26747
   10501,COLORADO,NORTH,2,NAD27,501,26753
   10502,COLORADO,CENTRAL,2,NAD27,502,26754
   10503,COLORADO,SOUTH,2,NAD27,503,26755
--- 135,141 ----
   10404,CALIFORNIA,IV,2,NAD27,404,26744
   10405,CALIFORNIA,V,2,NAD27,405,26745
   10406,CALIFORNIA,VI,2,NAD27,406,26746
! 10407,CALIFORNIA,VII,2,NAD27,407,26799
   10501,COLORADO,NORTH,2,NAD27,501,26753
   10502,COLORADO,CENTRAL,2,NAD27,502,26754
   10503,COLORADO,SOUTH,2,NAD27,503,26755

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF,
http://osgeo.org



From warmerdam at pobox.com  Fri Apr  7 21:03:31 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Projection issues with OGR/Proj.4.
In-Reply-To: <ED3A48B9840E594890A2BC172D119465058D94AD@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D119465058D94AD@mailman.san.com>
Message-ID: <44370BE3.5040605@pobox.com>

Sheykhet, Rostic wrote:
> Frank/Ed,
> 
> Thanks for the replies.  I fixed the projection definition and it works
> fine now.  For the record, I was not using the proj.4 definitions for
> the gdal CSV file, but the stock spatial_ref_sys PostGIS database table.
> The definitions were wrong in the table, so caveat emptor.

Rostic,

Did spatial_ref_sys have EPSG:26799?  If so, using that should resolve
the problem.  I think I need to keep better track of deprecated
coordinate systems, and perhaps consider excluding them from some
products or at least clearly marking them.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mlepage at pyxisinnovation.com  Mon Apr 10 11:31:09 2006
From: mlepage at pyxisinnovation.com (Marc A. Lepage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] precision pitfall
In-Reply-To: <4436F56E.2000504@daylongraphics.com>
Message-ID: <000d01c65cb3$ca769bf0$1b00a8c0@PyxisInnovation.local>



> Using (int)x or floor(x) to get the whole-number degrees will be 59. 
> Turns out there are thirteen double-precision numbers that printf()
(and 
> the VC debugger) will report as 60 that are slightly less than 60.

Try rounding (the double) instead of truncating...?

-- 
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.385 / Virus Database: 268.4.0/306 - Release Date: 4/9/2006
 


From warmerdam at pobox.com  Mon Apr 10 13:00:44 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] delete features in shapefiles
In-Reply-To: <e8e7199c0603171113q364ad02bh3cdf3fe5900d730c@mail.gmail.com>
References: <e8e7199c0603171113q364ad02bh3cdf3fe5900d730c@mail.gmail.com>
Message-ID: <443A8F3C.50206@pobox.com>

Martin Dobias wrote:
> Hi,
> 
> On page http://www.gdal.org/ogr/drv_shapefile.html I have read following:
> 
> "The OGR shapefile driver supports rewriting existing shapes in a
> shapefile as well as deleting shapes."
> 
> But TestCapability() for shapefile layer doesn't report that deletion
> of features is supported, I also couldn't find it in implementation.
> Is the documentation wrong?

Martin,

Sorry for the much delayed response.  The TestCapability() method was wrong
and I have committed a fix.

Best regard,s
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From perrygeo at gmail.com  Mon Apr 10 13:17:13 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] NetCDF.. the world turned upside-down
Message-ID: <5383fa5e0604101017r3cbd0b3bh20144ace1634920d@mail.gmail.com>

Hey folks,

 I ran into an issue using GDAL to access a NetCDF file;  The lower
lattitude of the dataset is further north than the upper lattitude!

$ gdalinfo sstnc.nc
...
Corner Coordinates:
Upper Left  ( -79.6223913,  31.3360993) ( 79d37'20.61"W, 31d20'9.96"N)
Lower Left  ( -79.6223913,  36.9168329) ( 79d37'20.61"W, 36d55'0.60"N)
Upper Right ( -72.8531371,  31.3360993) ( 72d51'11.29"W, 31d20'9.96"N)
Lower Right ( -72.8531371,  36.9168329) ( 72d51'11.29"W, 36d55'0.60"N)
Center      ( -76.2377642,  34.1264661) ( 76d14'15.95"W, 34d 7'35.28"N)
...

gdal_translating the image yields an upside-down image as a result.  I
can get around it by adding ground control points and warping the
image:

$ gdal_translate \
 -gcp 0   0   -79.6223913 31.3360993 \
 -gcp 512 511 -72.8531371 36.9168329 \
 -gcp 0   511 -79.6223913 36.9168329 \
 -gcp 512 0   -72.8531371 31.3360993 \
  sstnc.nc sstnc_gcp.tif
$ gdalwarp sstnc_gcp.tif sstnc_good.tif

While this seems to work OK, the image is now 559x461 whereas the
original image is 513x512 and the pixel size has been altered
accordingly which causes alot of unneccesary resampling.

Is there a way to get gdal utilities to recognize the upside-down
nature of the image and "flip" it accordingly without
warping/resampling it?? Or does this call for using the GDAL API?

--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From warmerdam at pobox.com  Mon Apr 10 13:38:17 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] NetCDF.. the world turned upside-down
In-Reply-To: <5383fa5e0604101017r3cbd0b3bh20144ace1634920d@mail.gmail.com>
References: <5383fa5e0604101017r3cbd0b3bh20144ace1634920d@mail.gmail.com>
Message-ID: <443A9809.2050709@pobox.com>

Matthew Perry wrote:
> Hey folks,
> 
>  I ran into an issue using GDAL to access a NetCDF file;  The lower
> lattitude of the dataset is further north than the upper lattitude!
> 
> $ gdalinfo sstnc.nc
> ...
> Corner Coordinates:
> Upper Left  ( -79.6223913,  31.3360993) ( 79d37'20.61"W, 31d20'9.96"N)
> Lower Left  ( -79.6223913,  36.9168329) ( 79d37'20.61"W, 36d55'0.60"N)
> Upper Right ( -72.8531371,  31.3360993) ( 72d51'11.29"W, 31d20'9.96"N)
> Lower Right ( -72.8531371,  36.9168329) ( 72d51'11.29"W, 36d55'0.60"N)
> Center      ( -76.2377642,  34.1264661) ( 76d14'15.95"W, 34d 7'35.28"N)
> ...
> 
> gdal_translating the image yields an upside-down image as a result.  I
> can get around it by adding ground control points and warping the
> image:
> 
> $ gdal_translate \
>  -gcp 0   0   -79.6223913 31.3360993 \
>  -gcp 512 511 -72.8531371 36.9168329 \
>  -gcp 0   511 -79.6223913 36.9168329 \
>  -gcp 512 0   -72.8531371 31.3360993 \
>   sstnc.nc sstnc_gcp.tif
> $ gdalwarp sstnc_gcp.tif sstnc_good.tif
> 
> While this seems to work OK, the image is now 559x461 whereas the
> original image is 513x512 and the pixel size has been altered
> accordingly which causes alot of unneccesary resampling.
> 
> Is there a way to get gdal utilities to recognize the upside-down
> nature of the image and "flip" it accordingly without
> warping/resampling it?? Or does this call for using the GDAL API?

Matt,

I can't think of any mechanism to deal with this as a user other than
GCPs or perhaps writing out a VRT file and manually editing the
geotransform.

If you can supply the file to Denis Nadeau (denis.nadeau at gmail.com)
he can work on improving the driver to handle it out of the box.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ealpert at digitalglobe.com  Mon Apr 10 13:46:22 2006
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] NetCDF.. the world turned upside-down
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB23354C026@COMAIL01.digitalglobe.com>



You could reformat the netCDF. Perhaps there's something in the netCDF
operators (http://nco.sourceforge.net/). You could use NCL from NCAR to
load the data reorder and write netcdf (http://www.ncl.ucar.edu/)

-e

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Matthew Perry
Sent: Monday, April 10, 2006 11:17 AM
To: Gdal-Dev
Subject: [Gdal-dev] NetCDF.. the world turned upside-down

Hey folks,

 I ran into an issue using GDAL to access a NetCDF file;  The lower
lattitude of the dataset is further north than the upper lattitude!

$ gdalinfo sstnc.nc
...
Corner Coordinates:
Upper Left  ( -79.6223913,  31.3360993) ( 79d37'20.61"W, 31d20'9.96"N)
Lower Left  ( -79.6223913,  36.9168329) ( 79d37'20.61"W, 36d55'0.60"N)
Upper Right ( -72.8531371,  31.3360993) ( 72d51'11.29"W, 31d20'9.96"N)
Lower Right ( -72.8531371,  36.9168329) ( 72d51'11.29"W, 36d55'0.60"N)
Center      ( -76.2377642,  34.1264661) ( 76d14'15.95"W, 34d 7'35.28"N)
...

gdal_translating the image yields an upside-down image as a result.  I
can get around it by adding ground control points and warping the
image:

$ gdal_translate \
 -gcp 0   0   -79.6223913 31.3360993 \
 -gcp 512 511 -72.8531371 36.9168329 \
 -gcp 0   511 -79.6223913 36.9168329 \
 -gcp 512 0   -72.8531371 31.3360993 \
  sstnc.nc sstnc_gcp.tif
$ gdalwarp sstnc_gcp.tif sstnc_good.tif

While this seems to work OK, the image is now 559x461 whereas the
original image is 513x512 and the pixel size has been altered
accordingly which causes alot of unneccesary resampling.

Is there a way to get gdal utilities to recognize the upside-down
nature of the image and "flip" it accordingly without
warping/resampling it?? Or does this call for using the GDAL API?

--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From perrygeo at gmail.com  Mon Apr 10 14:16:40 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] NetCDF.. the world turned upside-down
In-Reply-To: <443A9809.2050709@pobox.com>
References: <5383fa5e0604101017r3cbd0b3bh20144ace1634920d@mail.gmail.com>
	<443A9809.2050709@pobox.com>
Message-ID: <5383fa5e0604101116s38a5522dv511c885061f0e2d5@mail.gmail.com>

On 4/10/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Matthew Perry wrote:
> > Hey folks,
> >
> >  I ran into an issue using GDAL to access a NetCDF file;  The lower
> > lattitude of the dataset is further north than the upper lattitude!
> > ...
> > gdal_translating the image yields an upside-down image as a result.
> > ...
> > Is there a way to get gdal utilities to recognize the upside-down
> > nature of the image and "flip" it accordingly without
> > warping/resampling it?? Or does this call for using the GDAL API?
>
> I can't think of any mechanism to deal with this as a user other than
> GCPs or perhaps writing out a VRT file and manually editing the
> geotransform.
>
> If you can supply the file to Denis Nadeau (denis.nadeau at gmail.com)
> he can work on improving the driver to handle it out of the box.
>


The upside-down NetCDF in question is available at
http://www.coastwx.fish-tools.homelinux.org/coastwx/wrf-plots/sstnc.nc

--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From cfis at interserv.com  Mon Apr 10 22:10:43 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: CVS
In-Reply-To: <443535F6.5090901@pobox.com>
References: <443519CF.1010601@tkk.fi> <p06200700c05acf35c989@[192.168.11.4]>
	<443535F6.5090901@pobox.com>
Message-ID: <443B1023.80408@interserv.com>

I agree with Frank, I'd leave them in CVS.  Otherwise you are requiring 
windows users to get SWIG, install it, and run it. That might be ok, but 
SWIG is changing alot and that means you really have to use the *right* 
version of SWIG - i.e., the ones that the wrappers were built with.

Anyway, I've been using 1.3.29 since there was a lot of work fixing 
backwards compatibility issues.

As far as GEOS, my understanding from strk is that it will likely 
include the SWIG generated bindings for the 3.0 release (I've been 
pushing for it).  However, it does make sense to generate a "final" 
version right before tagging a branch....

Charlie


Frank Warmerdam wrote:
> Howard Butler wrote:
>> Some reasons for keeping them in CVS:
>>
>> 1)  GDAL has history of keeping generated code in the CVS tree.  The 
>> old-style Python wrappers, which are generated from swig 1.1, pretty 
>> much *have* to be pushed into the tree because Frank is the only 
>> person I know of with swig 1.1 installed anywhere.
>>
>> 2) SWIG is in severe flux right now.  1.3.28 was a *major* release, 
>> complete with incompatibilities, bugs, and API changes.  The distros 
>> all vary in the swig that they provide, and this can have a great 
>> impact on what people see when they generate bindings themselves. 
>> 1.3.29 came quickly (and still has some broken Python things).
>>
>> 3) Windows
>>
>> Some reasons for dropping them from CVS:
>>
>> On the flip side, I agree that having the generated bindings in CVS is 
>> a pain.  They almost always seem to generate CVS conflicts and 
>> sync'ing between the various flavors is not always consistent.  I 
>> almost always generate my own bindings with the swig I have installed 
>> when doing any development.  I agree that a 'make dist' target should 
>> be generating *all* of the bindings for each language flavor anyway, 
>> regardless of whether or not we keep the bindings actually stored in CVS.
> 
> Howard, Ari,
> 
> At least for now it still seems quite tricky to produce working swig
> wrappers for the next gen stuff, so I would prefer that they live in
> CVS.  I'm especially concerned with how we can make sure generated wrappers
> actually work for all the languages before a release.  One approach is for
> me to use whatever is in CVS.  The files could lag a bit, but would
> presumably be in a working state.
> 
> Do either of you feel confident enough in your own swig version to generate
> all the bindings and commit them shortly before a release?
> 
> Best regards,



From cfis at interserv.com  Mon Apr 10 22:14:24 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <44357E15.7000903@tkk.fi>
References: <44357E15.7000903@tkk.fi>
Message-ID: <443B1100.7020302@interserv.com>

Hi Ari,

> There has been three warnings on *DISOWN when generating the Perl 
> bindings. These have come from swig/include/ogr.i. As I understand 
> swig/Perl does not use *DISOWN, so I commented them out for Perl. 

According to the SWIG documentation Perl does support DISOWN - see 
http://www.swig.org/Doc1.3/Perl5.html#Perl5_nn42.  I think this might be 
a newer feature.

In two
> cases my solution for Perl is to use %perlcode and wrap 
> SetGeometryDirectly and AddGeometryDirectly so that they call Perl 
> DISOWN method before the actual method (a hackish solution, I admit).
> 
> The third case is the ExecuteSQL, ReleaseResultSet pair. If I understand 
> correctly, these should always be called in pairs, so the %newobject and 
> *DISOWN in fact cancel each other. I now removed both for Perl, but I 
> think they could be removed for all languages?

Um, maybe.  But DISOWN and %newobject clearly indicate what the 
interface is really doing.  Why would you change them - what's the 
benefit?  It took a fair bit of time to get them right the first time, 
I'm loathe to change them.

Charlie


From cfis at interserv.com  Mon Apr 10 22:18:44 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Update SWIG bindings
Message-ID: <443B1204.1060407@interserv.com>

While on the subject of the bindings, should we resync them all on SWIG 
1.3.29?  Sounds like the different bindings are using different SWIG 
versions, which seems problematic from a support standpoint.

Charlie


From michael.ostling at banverket.se  Mon Apr 10 10:59:39 2006
From: michael.ostling at banverket.se (michael.ostling@banverket.se)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Conversion of JPG to TIF
Message-ID: <E8181A20E9925F4FBF70B2101EC9433001BBFEA4@BLGN520.mail.banverket.root.local>

Hi,
I have 4 gBytes of jpeg-files that i need to Convert to TIF.
Info on Jpg-file is below.

I can't understand the -b operator.
I'm running:
GDAL_Translate.exe -of GTiff -co TFW=YES   -ot Byte -b 1,2,3  -infile -outfile

But I only get a single band TIF.
Should the -b operator be used in an other way?

Driver: JPEG/JPEG JFIF
Size is 1600, 1000
Coordinate System is `'
Origin = (92000.000000,84000.000000)
Pixel Size = (0.20000000,-0.20000000)
Corner Coordinates:
Upper Left  (   92000.000,   84000.000) 
Lower Left  (   92000.000,   83800.000) 
Upper Right (   92320.000,   84000.000) 
Lower Right (   92320.000,   83800.000) 
Center      (   92160.000,   83900.000) 
Band 1 Block=1600x1 Type=Byte, ColorInterp=Red
Band 2 Block=1600x1 Type=Byte, ColorInterp=Green
Band 3 Block=1600x1 Type=Byte, ColorInterp=Blue


mvh
Michael
***********************************************
Michael ?stling
Banverket, Huvudkontoret
GIS, BBM
mobil: +46 70 279 19 76
e-post: michael.ostling@banverket.se
***********************************************

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060410/0e2a0b2d/attachment.html
From condit at sdsc.edu  Mon Apr 10 22:42:36 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] NetCDF.. the world turned upside-down
Message-ID: <845AADAC1106E44996327D62097E4C6B8F7736@et.ad.sdsc.edu>

Hi Matt,
FYI - This happens to me, also, when I'm converting from OpenDap/DODS
data with gdal_translate.  The data ends up flipped around the x axis.
I've starting converting it to ASCII Grids and inverting it back with a
perl script I wrote.  Somewhat inconvenient but it works.

-Chris

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Matthew Perry
Sent: Monday, April 10, 2006 11:17 AM
To: denis.nadeau@gmail.com
Cc: Gdal-Dev
Subject: Re: [Gdal-dev] NetCDF.. the world turned upside-down

On 4/10/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Matthew Perry wrote:
> > Hey folks,
> >
> >  I ran into an issue using GDAL to access a NetCDF file;  The lower
> > lattitude of the dataset is further north than the upper lattitude!
> > ...
> > gdal_translating the image yields an upside-down image as a result.
> > ...
> > Is there a way to get gdal utilities to recognize the upside-down
> > nature of the image and "flip" it accordingly without
> > warping/resampling it?? Or does this call for using the GDAL API?
>
> I can't think of any mechanism to deal with this as a user other than
> GCPs or perhaps writing out a VRT file and manually editing the
> geotransform.
>
> If you can supply the file to Denis Nadeau (denis.nadeau at gmail.com)
> he can work on improving the driver to handle it out of the box.
>


The upside-down NetCDF in question is available at
http://www.coastwx.fish-tools.homelinux.org/coastwx/wrf-plots/sstnc.nc

--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From ari.jolma at tkk.fi  Tue Apr 11 02:24:35 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443B1100.7020302@interserv.com>
References: <44357E15.7000903@tkk.fi> <443B1100.7020302@interserv.com>
Message-ID: <443B4BA3.6030003@tkk.fi>

Charlie Savage kirjoitti:
> Hi Ari,
>
>> There has been three warnings on *DISOWN when generating the Perl 
>> bindings. These have come from swig/include/ogr.i. As I understand 
>> swig/Perl does not use *DISOWN, so I commented them out for Perl. 
>
> According to the SWIG documentation Perl does support DISOWN - see 
> http://www.swig.org/Doc1.3/Perl5.html#Perl5_nn42.  I think this might 
> be a newer feature.

The DISOWN method, which swig generates for Perl, is for the Perl 
programmer to use, and does not automate the handing of the object from 
Perl to C. This is an unnecessary extra task for him/her so I'd like the 
bindings to do it, as it assumably does for the other languages. Now a 
(not "the") solution (with swig 1.2.25 at least) is to write %perlcode 
into the bindings to explicitly call DISOWN in these few cases 
(SetGeometryDirectly etc).

Regarding the files in the CVS and swig version, I'd think that would be 
a task for the PSC to decide ;-)

Just a few thoughts: Are people developing GDAL in Windows? Couldn't 
there be a nightly make dist for those who need a bleeding edge version? 
The Fedora 5 still has swig 1.3.24, installing 1.3.29 is an extra step, 
which is not needed for Perl bindings I believe.

Thanks for the replies.

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From emiliomayorga at gmail.com  Tue Apr 11 02:28:21 2006
From: emiliomayorga at gmail.com (Emilio Mayorga)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: NetCDF.. the world turned upside-down
Message-ID: <b0d146420604102328g32a8c57ake37142292d21db45@mail.gmail.com>

"Reversed" y-axis datasets are quite common in netcdf (Ferret, for
example, pretty much expects that convention -- or at least it did a
couple of years ago...). It's not required, but it's probably the
dominant convention. I think it boils down to the common use of matrix
math in geophysics; the y-axis is seen as positive-up. Unlike the
GIS/imagery/"raster" world, where the vertical dimension is
interpreted as increasing from the top down.

Having gdal_translate and other gdal utilities interpret flipped
netcdf y-axis automatically (or providing an optional argument) would
be very useful.

My 2 cents.

-Emilio Mayorga


> From: Frank Warmerdam <warmerdam@pobox.com>
> To: Matthew Perry <perrygeo@gmail.com>
> Date: Mon, 10 Apr 2006 13:38:17 -0400
> Subject: Re: [Gdal-dev] NetCDF.. the world turned upside-down
> Matthew Perry wrote:
> > Hey folks,
> >
> >  I ran into an issue using GDAL to access a NetCDF file;  The lower
> > lattitude of the dataset is further north than the upper lattitude!
> >
> > $ gdalinfo sstnc.nc
> > ...
> > Corner Coordinates:
> > Upper Left  ( -79.6223913,  31.3360993) ( 79d37'20.61"W, 31d20'9.96"N)
> > Lower Left  ( -79.6223913,  36.9168329) ( 79d37'20.61"W, 36d55'0.60"N)
> > Upper Right ( -72.8531371,  31.3360993) ( 72d51'11.29"W, 31d20'9.96"N)
> > Lower Right ( -72.8531371,  36.9168329) ( 72d51'11.29"W, 36d55'0.60"N)
> > Center      ( -76.2377642,  34.1264661) ( 76d14'15.95"W, 34d 7'35.28"N)
> > ...
> >
> > gdal_translating the image yields an upside-down image as a result.  I
> > can get around it by adding ground control points and warping the
> > image:
> >
> > $ gdal_translate \
> >  -gcp 0   0   -79.6223913 31.3360993 \
> >  -gcp 512 511 -72.8531371 36.9168329 \
> >  -gcp 0   511 -79.6223913 36.9168329 \
> >  -gcp 512 0   -72.8531371 31.3360993 \
> >   sstnc.nc sstnc_gcp.tif
> > $ gdalwarp sstnc_gcp.tif sstnc_good.tif
> >
> > While this seems to work OK, the image is now 559x461 whereas the
> > original image is 513x512 and the pixel size has been altered
> > accordingly which causes alot of unneccesary resampling.
> >
> > Is there a way to get gdal utilities to recognize the upside-down
> > nature of the image and "flip" it accordingly without
> > warping/resampling it?? Or does this call for using the GDAL API?
>
> Matt,
>
> I can't think of any mechanism to deal with this as a user other than
> GCPs or perhaps writing out a VRT file and manually editing the
> geotransform.
>
> If you can supply the file to Denis Nadeau (denis.nadeau at gmail.com)
> he can work on improving the driver to handle it out of the box.
>
> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org


From cfis at interserv.com  Tue Apr 11 04:27:40 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443B4BA3.6030003@tkk.fi>
References: <44357E15.7000903@tkk.fi> <443B1100.7020302@interserv.com>
	<443B4BA3.6030003@tkk.fi>
Message-ID: <443B687C.2060605@interserv.com>


Ari Jolma wrote:
> 
> The DISOWN method, which swig generates for Perl, is for the Perl 
> programmer to use, and does not automate the handing of the object from 
> Perl to C. This is an unnecessary extra task for him/her so I'd like the 
> bindings to do it, as it assumably does for the other languages. Now a 
> (not "the") solution (with swig 1.2.25 at least) is to write %perlcode 
> into the bindings to explicitly call DISOWN in these few cases 
> (SetGeometryDirectly etc).

I see.  Yes, having the bindings manage this is preferable like in Ruby 
and Python.

> 
> Regarding the files in the CVS and swig version, I'd think that would be 
> a task for the PSC to decide ;-)

PSC?

> Just a few thoughts: Are people developing GDAL in Windows? Couldn't 
> there be a nightly make dist for those who need a bleeding edge version? 
> The Fedora 5 still has swig 1.3.24, installing 1.3.29 is an extra step, 
> which is not needed for Perl bindings I believe.

Yup, Fedora 5 is using SWIG 1.3.24.  Don't know about other distros? 
Seems easier to me to avoid the whole issue and have an "approved" swig 
version and include the bindings in CVS as is currently done.

The argument for using SWIG 1.3.29 is that it is the second release of 
the new unified type maps for Ruby/Python/Perl/TCL.  Which means instead 
of having separate typemaps for all languages, we could have one set 
with tweaks for individual languages as needed.  The counter arguments 
are a) its only the second release of the unified type maps so perhaps 
they'll change b) they don't cover the C++ containers (vectors, etc.) 
yet c) it would take some short-term work.


Thanks,

Charlie





From cfis at interserv.com  Tue Apr 11 04:39:22 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443B4BA3.6030003@tkk.fi>
References: <44357E15.7000903@tkk.fi> <443B1100.7020302@interserv.com>
	<443B4BA3.6030003@tkk.fi>
Message-ID: <443B6B3A.3030505@interserv.com>

Well from the SWIG changes file:

10/25/2005: mmatus
    - Perl, complete the DISOWN typemap.

If you look in perlrun.swg (SWIG 1.3.29):

SWIG_Perl_ConvertPtr(SWIG_MAYBE_PERL_OBJECT SV *sv, void **ptr, 
swig_type_info *_t, int flags) {

   ...

   /*
    *  DISOWN implementation: we need a perl guru to check this one.
    */
   if (tsv && (flags & SWIG_POINTER_DISOWN)) {
     /*
      *  almost copy paste code from below SWIG_POINTER_OWN setting
      */
     SV *obj = sv;
     HV *stash = SvSTASH(SvRV(obj));
     GV *gv = *(GV**) hv_fetch(stash, "OWNER", 5, TRUE);
     if (isGV(gv)) {
       HV *hv = GvHVn(gv);
       /*
        * To set ownership (see below), a newSViv(1) entry is added.
        * Hence, to remove ownership, we delete the entry.
        */
       if (hv_exists_ent(hv, obj, 0)) {
	hv_delete_ent(hv, obj, 0, 0);
       }
     }
   }
   return SWIG_OK;
}

I don't know any Perl - but this looks at least somewhat like the 
equivalent Ruby code.  There is also %delobject, see:

http://www.swig.org/Doc1.3/Customization.html#ownership

If this is the same DISOWN as Ruby/Python, I suppose that would be 
another argument for using SWIG 1.3.29 since it would avoid special 
cases for Perl.

Thanks,

Charlie


Ari Jolma wrote:
> Charlie Savage kirjoitti:
>> Hi Ari,
>>
>>> There has been three warnings on *DISOWN when generating the Perl 
>>> bindings. These have come from swig/include/ogr.i. As I understand 
>>> swig/Perl does not use *DISOWN, so I commented them out for Perl. 
>>
>> According to the SWIG documentation Perl does support DISOWN - see 
>> http://www.swig.org/Doc1.3/Perl5.html#Perl5_nn42.  I think this might 
>> be a newer feature.
> 
> The DISOWN method, which swig generates for Perl, is for the Perl 
> programmer to use, and does not automate the handing of the object from 
> Perl to C. This is an unnecessary extra task for him/her so I'd like the 
> bindings to do it, as it assumably does for the other languages. Now a 
> (not "the") solution (with swig 1.2.25 at least) is to write %perlcode 
> into the bindings to explicitly call DISOWN in these few cases 
> (SetGeometryDirectly etc).
> 
> Regarding the files in the CVS and swig version, I'd think that would be 
> a task for the PSC to decide ;-)
> 
> Just a few thoughts: Are people developing GDAL in Windows? Couldn't 
> there be a nightly make dist for those who need a bleeding edge version? 
> The Fedora 5 still has swig 1.3.24, installing 1.3.29 is an extra step, 
> which is not needed for Perl bindings I believe.
> 
> Thanks for the replies.
> 
> Ari
> 



From ellen.debeuckeleer at incgeo.be  Tue Apr 11 07:33:07 2006
From: ellen.debeuckeleer at incgeo.be (EllenD)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C445@mailman.san.com>
References: <3802726.post@talk.nabble.com> <44366600.4050802@pobox.com>
	<3803776.post@talk.nabble.com> <44367131.6020404@pobox.com>
	<ED3A48B9840E594890A2BC172D11946502F9C443@mailman.san.com>
	<ED3A48B9840E594890A2BC172D11946502F9C444@mailman.san.com>
	<ED3A48B9840E594890A2BC172D11946502F9C445@mailman.san.com>
Message-ID: <3859778.post@talk.nabble.com>


Martin,

I did set the RTTI property for my Visual Studio project, but that didn't
work. I compiled GDAL command line and added the /GR option, but that also
didn't solve the problem.  What you state in your reply to Frank's reply,
seems logic and I also thought it was the case, but unfortunately it won't
work.  I still have no idee on how I can solve my problem.

Ellen

--
View this message in context: http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a3859778
Sent from the GDAL - Dev forum at Nabble.com.


From ari.jolma at tkk.fi  Tue Apr 11 08:54:55 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443B6B3A.3030505@interserv.com>
References: <44357E15.7000903@tkk.fi> <443B1100.7020302@interserv.com>
	<443B4BA3.6030003@tkk.fi> <443B6B3A.3030505@interserv.com>
Message-ID: <443BA71F.40004@tkk.fi>

Charlie Savage kirjoitti:
> 
> If this is the same DISOWN as Ruby/Python, I suppose that would be
> another argument for using SWIG 1.3.29 since it would avoid special
> cases for Perl.

Yes I think it is. I upgraded to swig 1.3.29 and updated the Perl
wrappers also at CVS. Sorry for the confusion, ogr.i is v. 1.55 now
which is the same as 1.53, is there an undo for CVS?

Ari


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
tel: +358 9 451 3886 address: POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma

From mike_alias at heins.ca  Tue Apr 11 11:51:47 2006
From: mike_alias at heins.ca (Michael Heins)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] srtm warping question
Message-ID: <200604111151.AA135201022@heins.ca>

listers;

Continuation of my SRTM reprojection problem.

I convert SRTM - BIL format into GeoTiff using Gdal_translate:
(so GeoTiff is in lat/long geographic coords)
gdal_translate -ot CInt16 -a_nodata -32768 c:\srtmtest\N43W071.bil c:\srtmtest\outll.tif

Then I reproject lat/long GeoTif into a utm projection GeoTiff:
gdalwarp -t_srs "+proj=utm +zone=11 +datum=WGS84" -ot CInt16 c:\srtmtest\outll.tif c:\srtmtest\oututm.tif

The resulting outll.tif is representative of the BIL in a grayscale representation.  This is as expected.
HOWEVER, the resulting oututm.tif is all null; when viewed, it is all black.??  why?
I have experimented with other sample tifs, and they seemed to be reprojected no problem.  This leads me to believe the Bil->Tif conversion is producing an errored Tif in some manner?

Can someone help me out with why this reprojection is not working?  does it have something todo with forcing the output type to 16bits?  And how can I go about to fix this?

Any help is appreciated; thanks,
-mike

 

 
________________________________________________________________
Sent via Aserty Enhanced Internet Services, Visit us at http://WWW.ASERTY.COM

 
                   

From MChapman at sanz.com  Tue Apr 11 13:03:00 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C467@mailman.san.com>

Ellen,

Hmmm.  I wonder if you could send me your vc++ project?  Or at least
send me the line of code where you are doing dynamic_cast.  I will try
to compile it on my machine and see if I get a compiler error.  If you
send a large zip file, don't send it to the user group...it will get
rejected.

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of EllenD
Sent: Tuesday, April 11, 2006 5:33 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)


Martin,

I did set the RTTI property for my Visual Studio project, but that
didn't
work. I compiled GDAL command line and added the /GR option, but that
also
didn't solve the problem.  What you state in your reply to Frank's
reply,
seems logic and I also thought it was the case, but unfortunately it
won't
work.  I still have no idee on how I can solve my problem.

Ellen

--
View this message in context:
http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a385
9778
Sent from the GDAL - Dev forum at Nabble.com.

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From MChapman at sanz.com  Tue Apr 11 13:14:29 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C468@mailman.san.com>

Ellen,

I just found this.  You're correct, it doesn't work with the change I
suggested but it should have.

// FOUND ON THE WEB FOR ANOTHER PROJECT

Important Warning: Please note that the MSVC.Net 2003 (7.1) C++ compiler
has a bug that returns a wrong 'this' pointer when calling virtual
functions of a virtual base class from a constructor, especially in
calls to dynamic_cast. This unfortunately affects gtkmm on win32. As a
result, some gtkmm programs, built on win32 using the MSVC.Net 2003
compiler, might crash with a "Access violation - no RTTI data!" message.
The gtkmm and MSVC developers are aware of this bug, which should/will
hopefully be fixed in Visual Studio 2005 beta 2. For more details see
this bugzilla entry and references therein.

You will just have to use a C style cast like:

OGRGeometry *poGeometry ....  // not null 
... 
switch (poGeometry->getGeometryType()) 
{ 
    ..... 
     case wkbPolygon: 
         MyFunc( (OGRPolygon*)poGeometry); 
         .... 
} 

MyFunc(OGRPolygon  *poPolygon) 
{ 
..... 
}

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of EllenD
Sent: Tuesday, April 11, 2006 5:33 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)


Martin,

I did set the RTTI property for my Visual Studio project, but that
didn't
work. I compiled GDAL command line and added the /GR option, but that
also
didn't solve the problem.  What you state in your reply to Frank's
reply,
seems logic and I also thought it was the case, but unfortunately it
won't
work.  I still have no idee on how I can solve my problem.

Ellen

--
View this message in context:
http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a385
9778
Sent from the GDAL - Dev forum at Nabble.com.

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From mateusz at loskot.net  Tue Apr 11 13:58:37 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C468@mailman.san.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C468@mailman.san.com>
Message-ID: <443BEE4D.1040205@loskot.net>

Chapman, Martin wrote:
> [...] You will just have to use a C style cast like:

It's better to use C++ static_cast<>() operator than C style.

> OGRGeometry *poGeometry ....  // not null ... switch
> (poGeometry->getGeometryType()) { ..... case wkbPolygon: MyFunc(
> (OGRPolygon*)poGeometry);

MyFunc( static_cast<OGRPolygon*>(poGeometry) );

Here static_cast<>() will work well because it's used to cast
down the hierarchy what's very common/.

NOTE: when if poGeometry points not to OGRPolygon
base class, then it will cause run-time error.
So, it's not safer than dynamic_cast but safer than C style.
NOTE 2: static_cast<>() is very native and
does not decrease performance in any way.

NOTE 3 about NOTE 2:
Generally, casting is pretty expansive operation, so there is always
some overhead :-)

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Tue Apr 11 14:39:46 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] srtm warping question
In-Reply-To: <200604111151.AA135201022@heins.ca>
References: <200604111151.AA135201022@heins.ca>
Message-ID: <443BF7F2.4060100@pobox.com>

Michael Heins wrote:
> listers;
> 
> Continuation of my SRTM reprojection problem.
> 
> I convert SRTM - BIL format into GeoTiff using Gdal_translate:
> (so GeoTiff is in lat/long geographic coords)
> gdal_translate -ot CInt16 -a_nodata -32768 c:\srtmtest\N43W071.bil c:\srtmtest\outll.tif
> 
> Then I reproject lat/long GeoTif into a utm projection GeoTiff:
> gdalwarp -t_srs "+proj=utm +zone=11 +datum=WGS84" -ot CInt16 c:\srtmtest\outll.tif c:\srtmtest\oututm.tif
> 
> The resulting outll.tif is representative of the BIL in a grayscale representation.  This is as expected.
> HOWEVER, the resulting oututm.tif is all null; when viewed, it is all black.??  why?
> I have experimented with other sample tifs, and they seemed to be reprojected no problem.  This leads me to believe the Bil->Tif conversion is producing an errored Tif in some manner?
> 
> Can someone help me out with why this reprojection is not working?  does it have something todo with forcing the output type to 16bits?  And how can I go about to fix this?

Mike,

Why did you pick the data type CInt16 as opposed to Int16?  CInt16 is
"complex int 16", and involves a real and imaginary component.  I suspect
that the warper is not supporting complex data properly and that is why
you aren't getting a result.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Tue Apr 11 14:52:21 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
In-Reply-To: <443BF660.5060303@pobox.com>
References: <ED3A48B9840E594890A2BC172D11946502F9C468@mailman.san.com>
	<443BEE4D.1040205@loskot.net> <443BF660.5060303@pobox.com>
Message-ID: <443BFAE5.7050106@loskot.net>

Frank Warmerdam wrote:
> Mateusz ?oskot wrote:
> 
>> Chapman, Martin wrote:
>> 
>>> [...] You will just have to use a C style cast like:
>> 
>> 
>> It's better to use C++ static_cast<>() operator than C style.
>> 
>>> OGRGeometry *poGeometry ....  // not null ... switch 
>>> (poGeometry->getGeometryType()) { ..... case wkbPolygon: MyFunc(
>>>  (OGRPolygon*)poGeometry);
>> 
>> 
>> MyFunc( static_cast<OGRPolygon*>(poGeometry) );
>> 
>> Here static_cast<>() will work well because it's used to cast down 
>> the hierarchy what's very common/.
>> 
>> NOTE: when if poGeometry points not to OGRPolygon base class, then 
>> it will cause run-time error. So, it's not safer than dynamic_cast 
>> but safer than C style. NOTE 2: static_cast<>() is very native and 
>> does not decrease performance in any way.
>> 
>> NOTE 3 about NOTE 2: Generally, casting is pretty expansive 
>> operation, so there is always some overhead :-)
> 
> 
> Mateusz,
> 
> I don't know why you way that casting is generally an expensive 
> operation. A C cast is "free".  It does not involve any runtime work.
>  It just tells the compiler some information type information for use
>  at compile time.

AFAIK, not every casting is only a compile time case.
When you're dealing with polymorphic structures compiler
does not (may not) know exact types behind the pointer or reference
playing in particular case.

Second, as I've learned from different game programming gurus (e.g. Gems
books series) casting cost is about >=80 CPU cycles.
So, if program operates on e.g. 1000000 point objects through pointer to
the base class e.g. Shape then casting cost is quite significant,
isn't it?
Simply, I've learned it as one of opposite argument
against using virtual polymorphism in games
programming and other performance critical software.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From MChapman at sanz.com  Tue Apr 11 15:16:01 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C469@mailman.san.com>

Mateusz,

I agree, good point.

Best regards,
Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Tuesday, April 11, 2006 11:59 AM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] RE: need RTTI for OGR (Windows)

Chapman, Martin wrote:
> [...] You will just have to use a C style cast like:

It's better to use C++ static_cast<>() operator than C style.

> OGRGeometry *poGeometry ....  // not null ... switch
> (poGeometry->getGeometryType()) { ..... case wkbPolygon: MyFunc(
> (OGRPolygon*)poGeometry);

MyFunc( static_cast<OGRPolygon*>(poGeometry) );

Here static_cast<>() will work well because it's used to cast
down the hierarchy what's very common/.

NOTE: when if poGeometry points not to OGRPolygon
base class, then it will cause run-time error.
So, it's not safer than dynamic_cast but safer than C style.
NOTE 2: static_cast<>() is very native and
does not decrease performance in any way.

NOTE 3 about NOTE 2:
Generally, casting is pretty expansive operation, so there is always
some overhead :-)

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From MChapman at sanz.com  Tue Apr 11 15:17:16 2006
From: MChapman at sanz.com (Chapman, Martin)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: need RTTI for OGR (Windows)
Message-ID: <ED3A48B9840E594890A2BC172D11946502F9C46A@mailman.san.com>

Thanks for the insight.  I like fast code too. :)

Martin

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Mateusz Loskot
Sent: Tuesday, April 11, 2006 12:52 PM
To: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] RE: need RTTI for OGR (Windows)

Frank Warmerdam wrote:
> Mateusz ?oskot wrote:
> 
>> Chapman, Martin wrote:
>> 
>>> [...] You will just have to use a C style cast like:
>> 
>> 
>> It's better to use C++ static_cast<>() operator than C style.
>> 
>>> OGRGeometry *poGeometry ....  // not null ... switch 
>>> (poGeometry->getGeometryType()) { ..... case wkbPolygon: MyFunc(
>>>  (OGRPolygon*)poGeometry);
>> 
>> 
>> MyFunc( static_cast<OGRPolygon*>(poGeometry) );
>> 
>> Here static_cast<>() will work well because it's used to cast down 
>> the hierarchy what's very common/.
>> 
>> NOTE: when if poGeometry points not to OGRPolygon base class, then 
>> it will cause run-time error. So, it's not safer than dynamic_cast 
>> but safer than C style. NOTE 2: static_cast<>() is very native and 
>> does not decrease performance in any way.
>> 
>> NOTE 3 about NOTE 2: Generally, casting is pretty expansive 
>> operation, so there is always some overhead :-)
> 
> 
> Mateusz,
> 
> I don't know why you way that casting is generally an expensive 
> operation. A C cast is "free".  It does not involve any runtime work.
>  It just tells the compiler some information type information for use
>  at compile time.

AFAIK, not every casting is only a compile time case.
When you're dealing with polymorphic structures compiler
does not (may not) know exact types behind the pointer or reference
playing in particular case.

Second, as I've learned from different game programming gurus (e.g. Gems
books series) casting cost is about >=80 CPU cycles.
So, if program operates on e.g. 1000000 point objects through pointer to
the base class e.g. Shape then casting cost is quite significant,
isn't it?
Simply, I've learned it as one of opposite argument
against using virtual polymorphism in games
programming and other performance critical software.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net
_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue Apr 11 15:19:01 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: NetCDF.. the world turned upside-down
In-Reply-To: <b0d146420604102328g32a8c57ake37142292d21db45@mail.gmail.com>
References: <b0d146420604102328g32a8c57ake37142292d21db45@mail.gmail.com>
Message-ID: <443C0125.1060703@pobox.com>

Emilio Mayorga wrote:
> "Reversed" y-axis datasets are quite common in netcdf (Ferret, for
> example, pretty much expects that convention -- or at least it did a
> couple of years ago...). It's not required, but it's probably the
> dominant convention. I think it boils down to the common use of matrix
> math in geophysics; the y-axis is seen as positive-up. Unlike the
> GIS/imagery/"raster" world, where the vertical dimension is
> interpreted as increasing from the top down.
> 
> Having gdal_translate and other gdal utilities interpret flipped
> netcdf y-axis automatically (or providing an optional argument) would
> be very useful.

Emilio,

The normal (and in my opinion proper) process for "upside down" datasets
is for GDAL to associate a geotransform with the dataset that indicates
the orientation.  However, I am not adverse to having the netCDF driver
take care of flipping the data internally if Denis would like to address
that.  I believe I did do this in the DODS driver since it was otherwise
very hard to exploit the data in most GDAL based applications.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ILucena at clarku.edu  Tue Apr 11 18:07:46 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] MSVC8
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455011F5837@Iris.ad.clarku.edu>

Hi,

Is there anybody out there that could provide me with
"Projects/Solution" file(s) to compile and debug GDAL in Visual Studio
2005?

I will appreciate it enormously,

Thanks,

Ivan Lucena


From ronan.gdal at laposte.net  Tue Apr 11 18:15:34 2006
From: ronan.gdal at laposte.net (ronan.gdal)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Spherical Mercator using PROJ.4
Message-ID: <IXKWHY$E314E9C9A641FA053E2ABF7A00699827@laposte.net>

I would like to use Spherical Mercator projection (the earth is a sphere model). 

My purpose is to produce raster for other software using Mercator projection Sphere formula : merc = ln( tan ( pi / 4 + L / 2 ) ).

My test have been using POSTGIS, entering following PROJ.4 parameters :
+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +k=1.0 +x_0=0 +y_0=0 +units=m +nodefs.

(a=WGS major axis, b=a (excentricity should be null); I've also tried b=0, +ellips=sphere ... always same result!).

Results looks like to be always Mercator ellipsoid projection formula, never SPHERE formula.

Is there any way to use PROJ.4 sphere formula ?

Thanks. 
Ronan

Acc?dez au courrier ?lectronique de La Poste : www.laposte.net ; 
3615 LAPOSTENET (0,34 ?/mn) ; t?l : 08 92 68 13 50 (0,34?/mn)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060412/49bc6106/attachment.html
From matt.wilkie at gov.yk.ca  Tue Apr 11 18:54:33 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Conversion of JPG to TIF
In-Reply-To: <E8181A20E9925F4FBF70B2101EC9433001BBFEA4@BLGN520.mail.banverket.root.local>
References: <E8181A20E9925F4FBF70B2101EC9433001BBFEA4@BLGN520.mail.banverket.root.local>
Message-ID: <443C33A9.7070801@gov.yk.ca>

I'm curious about this too. At first I thought Michael was being over 
specific, and that just using the defaults should work (gdal_translate 
infile.jpg outfile.tif) but it doesn't for me either (windows fwtools 
1.0.0a6)

What does the number after the "x" in gdalinfo's Block size mean? It 
seems to bear no relation to the gtiff option of the same name ("-co 
BLOCKXSIZE=n"). The source jpg is like this:

    Band 1 Block=1600x1 Type=Byte, ColorInterp=Red
    Band 2 Block=1600x1 Type=Byte, ColorInterp=Green
    Band 3 Block=1600x1 Type=Byte, ColorInterp=Blue

and the output tif is:

    Band 1 Block=1600x4 Type=Byte, ColorInterp=Red
    Band 2 Block=1600x4 Type=Byte, ColorInterp=Green
    Band 3 Block=1600x4 Type=Byte, ColorInterp=Blue

while converting jpg to tif using xnview there is no difference.

In any case I eventually discovered that using the option "-co 
interleave=pixel" yields tif's-from-jpeg images that are viewable 
outside of openev and arcmap:

    gdal_translate -co interleave=pixel somejpeg.jpg outfile.tif

    gdalinfo outfile.tif
    [...]
    Band 1 Block=1600x1 Type=Byte, ColorInterp=Red
    Band 2 Block=1600x1 Type=Byte, ColorInterp=Green
    Band 3 Block=1600x1 Type=Byte, ColorInterp=Blue


cheers,

-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From ben at vterrain.org  Tue Apr 11 21:45:27 2006
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] MSVC8
In-Reply-To: <6FD7C9DB26540B42A1207C69BF92D455011F5837@Iris.ad.clarku.edu>
Message-ID: <00ff01c65dd2$c6b5b3f0$9b02a8c0@DellWork>

Ivan,

Do the Project/Solution file(s) for VC7.1 not work in VC8?
i.e. http://vterrain.org/Distrib/gdal.html
I would imagine that they should work.

-Ben

> -----Original Message-----
> From: Ivan Lucena
> Sent: Tuesday, April 11, 2006 12:08 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] MSVC8
> 
> Is there anybody out there that could provide me with 
> "Projects/Solution" file(s) to compile and debug GDAL in 
> Visual Studio 2005?
> I will appreciate it enormously


From ellen.debeuckeleer at incgeo.be  Wed Apr 12 03:13:41 2006
From: ellen.debeuckeleer at incgeo.be (EllenD)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RE: RE: need RTTI for OGR (Windows)
In-Reply-To: <ED3A48B9840E594890A2BC172D11946502F9C46A@mailman.san.com>
References: <3802726.post@talk.nabble.com> <44366600.4050802@pobox.com>
	<3803776.post@talk.nabble.com> <44367131.6020404@pobox.com>
	<ED3A48B9840E594890A2BC172D11946502F9C443@mailman.san.com>
	<ED3A48B9840E594890A2BC172D11946502F9C444@mailman.san.com>
	<ED3A48B9840E594890A2BC172D11946502F9C445@mailman.san.com>
	<3859778.post@talk.nabble.com>
	<ED3A48B9840E594890A2BC172D11946502F9C467@mailman.san.com>
	<ED3A48B9840E594890A2BC172D11946502F9C468@mailman.san.com>
	<443BEE4D.1040205@loskot.net> <443BFAE5.7050106@loskot.net>
	<ED3A48B9840E594890A2BC172D11946502F9C469@mailman.san.com>
	<ED3A48B9840E594890A2BC172D11946502F9C46A@mailman.san.com>
Message-ID: <3876812.post@talk.nabble.com>


Thank you all for your replies. I will look for additional information on the
MSVC.NET bug, as dynamic_casts seem to work well when I use it on some of my
own classes. I will let you know when I find some additional interesting
information.

Ellen
--
View this message in context: http://www.nabble.com/need-RTTI-for-OGR-%28Windows%29-t1411792.html#a3876812
Sent from the GDAL - Dev forum at Nabble.com.


From cfis at interserv.com  Wed Apr 12 05:29:51 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443BA71F.40004@tkk.fi>
References: <44357E15.7000903@tkk.fi>
	<443B1100.7020302@interserv.com>	<443B4BA3.6030003@tkk.fi>
	<443B6B3A.3030505@interserv.com> <443BA71F.40004@tkk.fi>
Message-ID: <443CC88F.5060308@interserv.com>

Okay, I'll try to upgrade the Ruby bindings then to match.  What do you 
think of replacing the DISOWN type maps with %delobject?  I would have 
much preferred that if it was available last year.

Charlie

Ari Jolma wrote:
> Charlie Savage kirjoitti:
>> If this is the same DISOWN as Ruby/Python, I suppose that would be
>> another argument for using SWIG 1.3.29 since it would avoid special
>> cases for Perl.
> 
> Yes I think it is. I upgraded to swig 1.3.29 and updated the Perl
> wrappers also at CVS. Sorry for the confusion, ogr.i is v. 1.55 now
> which is the same as 1.53, is there an undo for CVS?
> 
> Ari
> 
> 



From radim.blazek at gmail.com  Wed Apr 12 07:29:10 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] apps / MinGW
Message-ID: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>

Hi,
I found that GDAL applications compiled with MinGW do not
work correctly because they open binary files in text mode
and convert CR/LF.

It can be fixed by
#ifdef WIN32
#include <stdlib.h> /*  _fmode */
#include <fcntl.h> /*  _O_BINARY */
#undef _fmode
int _fmode = _O_BINARY;
#endif

Can I add this to the applications in gda/apps?

See also http://grass.itc.it/pipermail/grass5/2006-February/021066.html

Radim


From warmerdam at pobox.com  Wed Apr 12 09:37:15 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] apps / MinGW
In-Reply-To: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>
References: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>
Message-ID: <443D028B.4030908@pobox.com>

Radim Blazek wrote:
> Hi,
> I found that GDAL applications compiled with MinGW do not
> work correctly because they open binary files in text mode
> and convert CR/LF.
> 
> It can be fixed by
> #ifdef WIN32
> #include <stdlib.h> /*  _fmode */
> #include <fcntl.h> /*  _O_BINARY */
> #undef _fmode
> int _fmode = _O_BINARY;
> #endif
> 
> Can I add this to the applications in gda/apps?
> 
> See also http://grass.itc.it/pipermail/grass5/2006-February/021066.html

Radim,

Where exactly are you thinking to put this?  You refer to gdal/apps,
but the mainline programs in that directly would not normally open
files directly, they would use VSI services.  If MinGW builds are using
the Win32 VSI code - as they ought - then I would think this would already
be taken care of.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From radim.blazek at gmail.com  Wed Apr 12 10:26:07 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] apps / MinGW
In-Reply-To: <443D028B.4030908@pobox.com>
References: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>
	<443D028B.4030908@pobox.com>
Message-ID: <340505ef0604120726r69cd87e3s9d49baa2a983c0df@mail.gmail.com>

On 4/12/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Radim Blazek wrote:
> > Hi,
> > I found that GDAL applications compiled with MinGW do not
> > work correctly because they open binary files in text mode
> > and convert CR/LF.
> >
> > It can be fixed by
> > #ifdef WIN32
> > #include <stdlib.h> /*  _fmode */
> > #include <fcntl.h> /*  _O_BINARY */
> > #undef _fmode
> > int _fmode = _O_BINARY;
> > #endif
> >
> > Can I add this to the applications in gda/apps?
> >
> > See also http://grass.itc.it/pipermail/grass5/2006-February/021066.html
>
> Radim,
>
> Where exactly are you thinking to put this?  You refer to gdal/apps,
> but the mainline programs in that directly would not normally open
> files directly, they would use VSI services.  If MinGW builds are using
> the Win32 VSI code - as they ought - then I would think this would already
> be taken care of.

I had problems with GRASS raster driver, it is using functions from
GRASS library not VSI functions.
I thought to add the code above to gdalinfo.c etc. but if it is problem
only for GRASS I understand that it is not best.
I dont know how to fix that better.

Radim

> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>


From warmerdam at pobox.com  Wed Apr 12 10:47:36 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] apps / MinGW
In-Reply-To: <340505ef0604120726r69cd87e3s9d49baa2a983c0df@mail.gmail.com>
References: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>	
	<443D028B.4030908@pobox.com>
	<340505ef0604120726r69cd87e3s9d49baa2a983c0df@mail.gmail.com>
Message-ID: <443D1308.6060002@pobox.com>

Radim Blazek wrote:
> I had problems with GRASS raster driver, it is using functions from
> GRASS library not VSI functions.
> I thought to add the code above to gdalinfo.c etc. but if it is problem
> only for GRASS I understand that it is not best.

Radim,

Well, not only it is not best, I don't see that doing it in gdalinfo.c would
even have any useful effect.  If the problem is in the GRASS libraries calls
to fopen() (or open() perhaps?) then that is where the fix would have to be.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ghuby at geosys.com  Wed Apr 12 10:58:22 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
Message-ID: <000a01c65e41$8bdadf20$1401a8c0@pcgh>

Hello,

I have a question about gdal_rasterize. I'm using

>> gdal_rasterize --version
GDAL 1.3.1.0, FWTools 1.0.0b2, released 2006/03/30

I achieved to rasterized an ESRI polygon shapefile on some Geotiff raster.
The pixels was burned when their center was inside the polygon. I would like
to know if there is a way to burn pixels which are entirely inside polygons.
I mean that the four corners of pixels are inside without intersecting
polygon.

I would be very grateful if someone could answer this question.

Thanks,
Guillaume



From radim.blazek at gmail.com  Wed Apr 12 11:19:20 2006
From: radim.blazek at gmail.com (Radim Blazek)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] apps / MinGW
In-Reply-To: <443D1308.6060002@pobox.com>
References: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>
	<443D028B.4030908@pobox.com>
	<340505ef0604120726r69cd87e3s9d49baa2a983c0df@mail.gmail.com>
	<443D1308.6060002@pobox.com>
Message-ID: <340505ef0604120819p340c9e4oa628c1d93cac439f@mail.gmail.com>

On 4/12/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> Radim Blazek wrote:
> > I had problems with GRASS raster driver, it is using functions from
> > GRASS library not VSI functions.
> > I thought to add the code above to gdalinfo.c etc. but if it is problem
> > only for GRASS I understand that it is not best.
>
> Radim,
>
> Well, not only it is not best, I don't see that doing it in gdalinfo.c would
> even have any useful effect.

It has that efect that it works.

> If the problem is in the GRASS libraries calls
> to fopen() (or open() perhaps?) then that is where the fix would have to be.

The problem is that in the GRASS libraries _fmode = _O_BINARY;
is set but it is ignored if an application is linked to DLL.
I would prefer to fix that in the GRASS library but I dont know how.
Do you have any idea? The library is using open().

Radim

> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>


From warmerdam at pobox.com  Wed Apr 12 11:28:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] apps / MinGW
In-Reply-To: <340505ef0604120819p340c9e4oa628c1d93cac439f@mail.gmail.com>
References: <340505ef0604120429h281ea633w39cd7fc7eb230e45@mail.gmail.com>	
	<443D028B.4030908@pobox.com>	
	<340505ef0604120726r69cd87e3s9d49baa2a983c0df@mail.gmail.com>	
	<443D1308.6060002@pobox.com>
	<340505ef0604120819p340c9e4oa628c1d93cac439f@mail.gmail.com>
Message-ID: <443D1C8B.2090604@pobox.com>

Radim Blazek wrote:
> It has that efect that it works.
> 
>> If the problem is in the GRASS libraries calls
>> to fopen() (or open() perhaps?) then that is where the fix would have to be.
>
> The problem is that in the GRASS libraries _fmode = _O_BINARY;
> is set but it is ignored if an application is linked to DLL.
> I would prefer to fix that in the GRASS library but I dont know how.
> Do you have any idea? The library is using open().


Radim,

Ah! I get it, _fmode is a global variable.  I gather setting it to
_O_BINARY forces all file IO to be binary by default?

Well, it seems the correct solution is to reengineer all GRASS IO open
calls to go somewhere that you can do something appropriate on win32 -
whether that be passing "b" in the access string, O_BINARY in the mode for
open() or using the native win32 file api (likely not practical).  I imagine
this will hard to do.

Putting your _fmode stuff in gdalinfo isn't going to fix other GDAL utilities
like gdal_translate, or stuff like python wrappers.  It also won't help
applications using GDAL (such as MapServer).

Sorry I don't have a good solution either, but in my opinion you are
running into problems with the GRASS assumption of a unix platform and
insufficient effort all those years ago to centralize stuff that could
be a portability problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Wed Apr 12 11:30:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
In-Reply-To: <000a01c65e41$8bdadf20$1401a8c0@pcgh>
References: <000a01c65e41$8bdadf20$1401a8c0@pcgh>
Message-ID: <443D1D20.1040202@pobox.com>

Guillaume HUBY wrote:
> Hello,
> 
> I have a question about gdal_rasterize. I'm using
> 
>>> gdal_rasterize --version
> GDAL 1.3.1.0, FWTools 1.0.0b2, released 2006/03/30
> 
> I achieved to rasterized an ESRI polygon shapefile on some Geotiff raster.
> The pixels was burned when their center was inside the polygon. I would like
> to know if there is a way to burn pixels which are entirely inside polygons.
> I mean that the four corners of pixels are inside without intersecting
> polygon.
> 
> I would be very grateful if someone could answer this question.

Guillaume,

There is no support for this in the GDAL rasterizer.  You could try and
fiddle with the low level to allow this but it could be pretty tricky.

Another alternative would be to rasterize four rasters all offset by
half a pixel in the four directions, and then merge them - only setting
the target pixel if all our offsets were rasterized.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ghuby at geosys.com  Wed Apr 12 11:56:02 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
In-Reply-To: <443D1D20.1040202@pobox.com>
Message-ID: <000b01c65e49$9df9b890$1401a8c0@pcgh>

Frank,

I had a look on apps\gdal_rasterize.cpp and GDALRasterizeGeometries(...) in
alg\gdalrasterize.cpp and it seems quite tricky and taking too much time
investment to get down lower levels and get what I want.

The alternative you proposed should be OK for my purposes, but it is not an
exact solution : think of a thin part of polygon getting inside and outside
a pixel through the same side (yes, that's a tricky case) ...

An exact method should compute if a polygon edge cut a pixel edge and if
pixel is inside polygon.

Thanks,
Guillaume.

-----Message d'origine-----
De : Frank Warmerdam [mailto:fwarmerdam@gmail.com] De la part de Frank
Warmerdam
Envoy? : mercredi 12 avril 2006 17:31
? : Guillaume HUBY
Cc : gdal-dev@lists.maptools.org
Objet : Re: [Gdal-dev] Question about gdal_rasterize


Guillaume HUBY wrote:
> Hello,
> 
> I have a question about gdal_rasterize. I'm using
> 
>>> gdal_rasterize --version
> GDAL 1.3.1.0, FWTools 1.0.0b2, released 2006/03/30
> 
> I achieved to rasterized an ESRI polygon shapefile on some Geotiff 
> raster. The pixels was burned when their center was inside the 
> polygon. I would like to know if there is a way to burn pixels which 
> are entirely inside polygons. I mean that the four corners of pixels 
> are inside without intersecting polygon.
> 
> I would be very grateful if someone could answer this question.

Guillaume,

There is no support for this in the GDAL rasterizer.  You could try and
fiddle with the low level to allow this but it could be pretty tricky.

Another alternative would be to rasterize four rasters all offset by half a
pixel in the four directions, and then merge them - only setting the target
pixel if all our offsets were rasterized.

Best regards,
-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org




From H.Porath at hzd.hessen.de  Wed Apr 12 11:56:54 2006
From: H.Porath at hzd.hessen.de (H.Porath@hzd.hessen.de)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Error compiling gdal against mrsid dsdk on solaris
Message-ID: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE5B@srvhzdexc095.hzd.hessen.de>

> Hello mailing-list!
> 
> We have tried to compile the Geoexpress 5 DSDK against gdal 1.3.1 on a
> Solaris/
> Sparc8 System. We are using gcc 2.95.3, libgcc 3.0.3 and we downloaded
> the 
> DSDK-Version "GeoExpress SDK for Sun Solaris 8 and 9 - SPARC, gcc
> 2.95" from 
> developer.lizardtech.com. We configured gdal with the options:
> 
> ./configure --with-mrsid=/usr/local/Geo_DSDK-5.0.6.955/
> --with-jp2mrsid=no 
> --without-pcraster
> 
> The make aborts with the following error:
> 
> make[1]: Entering directory `/user/weick/gdal-1.3.1/apps'
> /bin/sh /user/weick/gdal-1.3.1/libtool --mode=link      g++
> gdalinfo.o  \
>         /user/weick/gdal-1.3.1/libgdal.la -o gdalinfo
> g++ gdalinfo.o -o .libs/gdalinfo
> /user/weick/gdal-1.3.1/.libs/libgdal.so -L/usr
> /local/Geo_DSDK-5.0.6.955//lib/Release
> -L/usr/local/Geo_DSDK-5.0.6.955//3rd-part
> y/lib/Release -lltidsdk /usr/local/lib/libexpat.so -L/usr/lib
> -L/usr/openwin/lib
>  -L/usr/local/ssl/lib -lpthread /usr/local/lib/libjpeg.so -lpng -lz
> -lrt -ldl /u
>  sr/local/lib/libstdc++.so
> -L/usr2/SOURCES/S8/gcc-3.0.3/objdir/sparc-sun-solaris
>  2.8/libstdc++-v3/src
> -L/usr2/SOURCES/S8/gcc-3.0.3/objdir/sparc-sun-solaris2.8/l
>  ibstdc++-v3/src/.libs -L/usr2/SOURCES/S8/gcc-3.0.3/objdir/gcc
> -L/usr/local/spar
>  c-sun-solaris2.8/bin -L/usr/local/sparc-sun-solaris2.8/lib -lgcc_s
> -Wl,-R -Wl,/
>  usr/local/lib
> ld: warning: global symbol `_GLOBAL_OFFSET_TABLE_' has non-global
> binding:
>         (file /usr/local/lib/libgcc_s.so value=LOCL);
> Undefined                       first referenced
>  symbol                             in file
> alterToStdMV(void *, unsigned int, CSF_CR,
> double)/user/weick/gdal-1.3.1/.libs/l
> ibgdal.so
> GDALType2CellRepresentation(GDALDataType,
> bool)/user/weick/gdal-1.3.1/.libs/libg
> dal.so
> valueScale2String(CSF_VS)
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> alterFromStdMV(void *, unsigned int, CSF_CR,
> double)/user/weick/gdal-1.3.1/.libs
> /libgdal.so
> string2ValueScale(basic_string<char, string_char_traits<char>,
> __default_alloc_t
> emplate<false, 0> > const &)/user/weick/gdal-1.3.1/.libs/libgdal.so
> cellRepresentation2GDALType(CSF_CR)
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> fitValueScale(CSF_VS, CSF_CR)
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> open__FRCt12basic_string3ZcZt18string_char_traits1ZcZt24__default_allo
> c_template
> 2b0i010MOPEN_PERM /user/weick/gdal-1.3.1/.libs/libgdal.so
> GDALType2ValueScale(GDALDataType)
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> missingValue(CSF_CR)
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> ld: fatal: Symbol referencing errors. No output written to
> .libs/gdalinfo
> collect2: ld returned 1 exit status
> make[1]: *** [gdalinfo] Error 1
> make[1]: Leaving directory `/user/weick/gdal-1.3.1/apps'
> make: *** [apps-target] Error 2
> 
>  
> We fixed an earlier error complaining that the library xmlparse is
> missing by su
> bstituting "xmlparse" for "expat".
> The compilation of gdal without MrSID-Support works fine.
> 
> We also tried to compile gdal with mrsid-support using gcc 3.4.2,
> libgcc 3.4.2 o
> n the same architecture. We downloaded "GeoExpress SDK for Sun Solaris
> 8 and 9 -
>  SPARC, gcc 3.2.3" for this purpose. The make aborts with the
> following error:
>  
> g++ gdalinfo.o -o .libs/gdalinfo
> /application/lika-services/docs/src/gdal/gdal-
> 1.3.1-installed-mrsid/.libs/libgdal.so
> -L/usr/local/Geo_DSDK-5.0.6.955/lib/Relea
> se -L/usr/local/Geo_DSDK-5.0.6.955/3rd-party/lib/Release -lltidsdk
> /usr/local/li
> b/libexpat.so -L/usr/lib -L/usr/openwin/lib -L/usr/local/lib
> -L/usr/local/ssl/li
> b -lpthread /usr/local/lib/libjpeg.so -lpng -lz -lrt -ldl
> /usr/local/lib/libstdc
> ++.so
> -L/usr2/SOURCES/S8/gcc-3.4.2/objdir/sparc-sun-solaris2.8/libstdc++-v3/
> src 
> -L/usr2/SOURCES/S8/gcc-3.4.2/objdir/sparc-sun-solaris2.8/libstdc++-v3/
> src/.libs 
> -L/usr2/SOURCES/S8/gcc-3.4.2/objdir/gcc
> -L/usr/local/sparc-sun-solaris2.8/bin -L
> /usr/local/sparc-sun-solaris2.8/lib
> -L/usr/local/lib/../sparc-sun-solaris2.8/lib
>  -Wl,-R -Wl,/usr/local/gdal/lib -Wl,-R -Wl,/usr/local/lib
> ld: warning: file /usr/local/lib/libstdc++.so: attempted multiple
> inclusion of f
> ile
> Undefined                       first referenced
>  symbol                             in file
> std::basic_string<char, std::char_traits<char>, std::allocator<char>
> >::_S_empty
> _rep_storage/application/lika-services/docs/src/gdal/gdal-1.3.1-instal
> led-mrsid/
> .libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char>
> >::_M_check
> (unsigned int)
> const/application/lika-services/docs/src/gdal/gdal-1.3.1-installe
> d-mrsid/.libs/libgdal.so
> std::__default_alloc_template<true, 0>::allocate(unsigned
> int)/application/lika-
> services/docs/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> std::__default_alloc_template<true, 0>::deallocate(void*, unsigned
> int)/applicat
> ion/lika-services/docs/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgd
> al.so
> std::allocator<char>::allocate(unsigned int, void
> const*)/application/lika-servi
> ces/docs/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char>
> >::_Rep::_S
> _create(unsigned int, std::allocator<char>
> const&)/application/lika-services/doc
> s/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> ld: fatal: Symbol referencing errors. No output written to
> .libs/gdalinfo
> collect2: ld returned 1 exit status
> make: *** [gdalinfo] Error 1
> /application/lika-services/docs/src/gdal/gdal-1.3.1-installed-mrsid/ap
> ps-> 
> 
> It would be nice if someone could help us solving this problem
> especially in the
>  second case (gcc 3.4.2). Thanks in advance.
> 
> Holger
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060412/3b156699/attachment.html
From warmerdam at pobox.com  Wed Apr 12 12:07:49 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
In-Reply-To: <000b01c65e49$9df9b890$1401a8c0@pcgh>
References: <000b01c65e49$9df9b890$1401a8c0@pcgh>
Message-ID: <443D25D5.8070403@pobox.com>

Guillaume HUBY wrote:
> Frank,
> 
> I had a look on apps\gdal_rasterize.cpp and GDALRasterizeGeometries(...) in
> alg\gdalrasterize.cpp and it seems quite tricky and taking too much time
> investment to get down lower levels and get what I want.
> 
> The alternative you proposed should be OK for my purposes, but it is not an
> exact solution : think of a thin part of polygon getting inside and outside
> a pixel through the same side (yes, that's a tricky case) ...
> 
> An exact method should compute if a polygon edge cut a pixel edge and if
> pixel is inside polygon.

Guillaume,

You are correct.  My proposed approach would still have a few error
conditions.  I can't think of an exact implementation of what you want
that would not be expensive.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dem at acri-st.fr  Wed Apr 12 12:07:47 2006
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Error compiling gdal against mrsid dsdk on solaris
In-Reply-To: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE5B@srvhzdexc095.hzd.hessen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE5B@srvhzdexc095.hzd.hessen.de>
Message-ID: <443D25D3.3020303@acri-st.fr>

Hi,

I believe you have a PIC problem, you should add the -fPIC flag to gcc 
for compiling all your .c and .cpp, because MrSID SDK is compiled with 
-fPIC.

Regards,

Julien


H.Porath@hzd.hessen.de a ?crit :
> Hello mailing-list!
> 
> We have tried to compile the Geoexpress 5 DSDK against gdal 1.3.1 on a 
> Solaris/
> Sparc8 System. We are using gcc 2.95.3, libgcc 3.0.3 and we downloaded the
> DSDK-Version "GeoExpress SDK for Sun Solaris 8 and 9 - SPARC, gcc 2.95" 
> from
> developer.lizardtech.com. We configured gdal with the options:
> 
> ./configure --with-mrsid=/usr/local/Geo_DSDK-5.0.6.955/ --with-jp2mrsid=no
> --without-pcraster
> 
> The make aborts with the following error:
> 
> make[1]: Entering directory `/user/weick/gdal-1.3.1/apps'
> /bin/sh /user/weick/gdal-1.3.1/libtool --mode=link      g++  gdalinfo.o  \
>         /user/weick/gdal-1.3.1/libgdal.la -o gdalinfo
> g++ gdalinfo.o -o .libs/gdalinfo  
> /user/weick/gdal-1.3.1/.libs/libgdal.so -L/usr
> /local/Geo_DSDK-5.0.6.955//lib/Release 
> -L/usr/local/Geo_DSDK-5.0.6.955//3rd-part
> y/lib/Release -lltidsdk /usr/local/lib/libexpat.so -L/usr/lib 
> -L/usr/openwin/lib
>  -L/usr/local/ssl/lib -lpthread /usr/local/lib/libjpeg.so -lpng -lz -lrt 
> -ldl /u
>  sr/local/lib/libstdc++.so 
> -L/usr2/SOURCES/S8/gcc-3.0.3/objdir/sparc-sun-solaris
>  2.8/libstdc++-v3/src 
> -L/usr2/SOURCES/S8/gcc-3.0.3/objdir/sparc-sun-solaris2.8/l
>  ibstdc++-v3/src/.libs -L/usr2/SOURCES/S8/gcc-3.0.3/objdir/gcc 
> -L/usr/local/spar
>  c-sun-solaris2.8/bin -L/usr/local/sparc-sun-solaris2.8/lib -lgcc_s 
> -Wl,-R -Wl,/
>  usr/local/lib
> ld: warning: global symbol `_GLOBAL_OFFSET_TABLE_' has non-global binding:
>         (file /usr/local/lib/libgcc_s.so value=LOCL);
> Undefined                       first referenced
>  symbol                             in file
> alterToStdMV(void *, unsigned int, CSF_CR, 
> double)/user/weick/gdal-1.3.1/.libs/l
> ibgdal.so
> GDALType2CellRepresentation(GDALDataType, 
> bool)/user/weick/gdal-1.3.1/.libs/libg
> dal.so
> valueScale2String(CSF_VS)           /user/weick/gdal-1.3.1/.libs/libgdal.so
> alterFromStdMV(void *, unsigned int, CSF_CR, 
> double)/user/weick/gdal-1.3.1/.libs
> /libgdal.so
> string2ValueScale(basic_string<char, string_char_traits<char>, 
> __default_alloc_t
> emplate<false, 0> > const &)/user/weick/gdal-1.3.1/.libs/libgdal.so
> cellRepresentation2GDALType(CSF_CR)   
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> fitValueScale(CSF_VS, CSF_CR)       /user/weick/gdal-1.3.1/.libs/libgdal.so
> open__FRCt12basic_string3ZcZt18string_char_traits1ZcZt24__default_alloc_template 
> 
> 2b0i010MOPEN_PERM /user/weick/gdal-1.3.1/.libs/libgdal.so
> GDALType2ValueScale(GDALDataType)    
> /user/weick/gdal-1.3.1/.libs/libgdal.so
> missingValue(CSF_CR)                /user/weick/gdal-1.3.1/.libs/libgdal.so
> ld: fatal: Symbol referencing errors. No output written to .libs/gdalinfo
> collect2: ld returned 1 exit status
> make[1]: *** [gdalinfo] Error 1
> make[1]: Leaving directory `/user/weick/gdal-1.3.1/apps'
> make: *** [apps-target] Error 2
> 
>  
> We fixed an earlier error complaining that the library xmlparse is 
> missing by su
> bstituting "xmlparse" for "expat".
> The compilation of gdal without MrSID-Support works fine.
> 
> We also tried to compile gdal with mrsid-support using gcc 3.4.2, libgcc 
> 3.4.2 o
> n the same architecture. We downloaded "GeoExpress SDK for Sun Solaris 8 
> and 9 -
>  SPARC, gcc 3.2.3" for this purpose. The make aborts with the following 
> error:
>  
> g++ gdalinfo.o -o .libs/gdalinfo  
> /application/lika-services/docs/src/gdal/gdal-
> 1.3.1-installed-mrsid/.libs/libgdal.so 
> -L/usr/local/Geo_DSDK-5.0.6.955/lib/Relea
> se -L/usr/local/Geo_DSDK-5.0.6.955/3rd-party/lib/Release -lltidsdk 
> /usr/local/li
> b/libexpat.so -L/usr/lib -L/usr/openwin/lib -L/usr/local/lib 
> -L/usr/local/ssl/li
> b -lpthread /usr/local/lib/libjpeg.so -lpng -lz -lrt -ldl 
> /usr/local/lib/libstdc
> ++.so 
> -L/usr2/SOURCES/S8/gcc-3.4.2/objdir/sparc-sun-solaris2.8/libstdc++-v3/src
> -L/usr2/SOURCES/S8/gcc-3.4.2/objdir/sparc-sun-solaris2.8/libstdc++-v3/src/.libs 
> 
> -L/usr2/SOURCES/S8/gcc-3.4.2/objdir/gcc 
> -L/usr/local/sparc-sun-solaris2.8/bin -L
> /usr/local/sparc-sun-solaris2.8/lib 
> -L/usr/local/lib/../sparc-sun-solaris2.8/lib
>  -Wl,-R -Wl,/usr/local/gdal/lib -Wl,-R -Wl,/usr/local/lib
> ld: warning: file /usr/local/lib/libstdc++.so: attempted multiple 
> inclusion of f
> ile
> Undefined                       first referenced
>  symbol                             in file
> std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>  >::_S_empty
> _rep_storage/application/lika-services/docs/src/gdal/gdal-1.3.1-installed-mrsid/ 
> 
> .libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>  >::_M_check
> (unsigned int) 
> const/application/lika-services/docs/src/gdal/gdal-1.3.1-installe
> d-mrsid/.libs/libgdal.so
> std::__default_alloc_template<true, 0>::allocate(unsigned 
> int)/application/lika-
> services/docs/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> std::__default_alloc_template<true, 0>::deallocate(void*, unsigned 
> int)/applicat
> ion/lika-services/docs/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> std::allocator<char>::allocate(unsigned int, void 
> const*)/application/lika-servi
> ces/docs/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> std::basic_string<char, std::char_traits<char>, std::allocator<char> 
>  >::_Rep::_S
> _create(unsigned int, std::allocator<char> 
> const&)/application/lika-services/doc
> s/src/gdal/gdal-1.3.1-installed-mrsid/.libs/libgdal.so
> ld: fatal: Symbol referencing errors. No output written to .libs/gdalinfo
> collect2: ld returned 1 exit status
> make: *** [gdalinfo] Error 1
> /application/lika-services/docs/src/gdal/gdal-1.3.1-installed-mrsid/apps->
> 
> It would be nice if someone could help us solving this problem 
> especially in the
>  second case (gcc 3.4.2). Thanks in advance.
> 
> Holger
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev

From zhang at aero.und.edu  Wed Apr 12 13:38:59 2006
From: zhang at aero.und.edu (Xiaodong Zhang)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] python CoordinateTransformation
Message-ID: <443D3B33.8010605@aero.und.edu>

Hi gdal-dev list members,

Not knowing very much about Python, I'm wondering if anybody has a 
sample code of using Python:CoordinateTransformation. I have read 
through OGR Projection tutorial and understand how to do it in C++; but 
there are few information there on how to use Pythonto to do coordinate 
transformation. Basically I'd like to calculate the lat and long from an 
image's native projection.

Any help will be appreciated.

Thanks
Xiaodong
University of North Dakota
-------------- next part --------------
A non-text attachment was scrubbed...
Name: zhang.vcf
Type: text/x-vcard
Size: 304 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060412/39a9ae79/zhang.vcf
From ari.jolma at tkk.fi  Wed Apr 12 13:38:24 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443CC88F.5060308@interserv.com>
References: <44357E15.7000903@tkk.fi> <443B1100.7020302@interserv.com>
	<443B4BA3.6030003@tkk.fi> <443B6B3A.3030505@interserv.com>
	<443BA71F.40004@tkk.fi> <443CC88F.5060308@interserv.com>
Message-ID: <443D3B10.7010105@tkk.fi>

Charlie Savage kirjoitti:
> Okay, I'll try to upgrade the Ruby bindings then to match.  What do 
> you think of replacing the DISOWN type maps with %delobject?  I would 
> have much preferred that if it was available last year.

That wouldn't work since %delobject would disown self and at least in 
all three cases in ogr.i we want to disown the 2nd argument?

Ari

>
> Charlie
>
> Ari Jolma wrote:
>> Charlie Savage kirjoitti:
>>> If this is the same DISOWN as Ruby/Python, I suppose that would be
>>> another argument for using SWIG 1.3.29 since it would avoid special
>>> cases for Perl.
>>
>> Yes I think it is. I upgraded to swig 1.3.29 and updated the Perl
>> wrappers also at CVS. Sorry for the confusion, ogr.i is v. 1.55 now
>> which is the same as 1.53, is there an undo for CVS?
>>
>> Ari
>>
>>
>
>


-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From cfis at interserv.com  Wed Apr 12 13:57:19 2006
From: cfis at interserv.com (Charlie Savage)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: DISOWN in ogr.i
In-Reply-To: <443D3B10.7010105@tkk.fi>
References: <44357E15.7000903@tkk.fi> <443B1100.7020302@interserv.com>
	<443B4BA3.6030003@tkk.fi> <443B6B3A.3030505@interserv.com>
	<443BA71F.40004@tkk.fi> <443CC88F.5060308@interserv.com>
	<443D3B10.7010105@tkk.fi>
Message-ID: <443D3F7F.8080400@interserv.com>

Right, good point.

Charlie

Ari Jolma wrote:
> Charlie Savage kirjoitti:
>> Okay, I'll try to upgrade the Ruby bindings then to match.  What do 
>> you think of replacing the DISOWN type maps with %delobject?  I would 
>> have much preferred that if it was available last year.
>
> That wouldn't work since %delobject would disown self and at least in 
> all three cases in ogr.i we want to disown the 2nd argument?
>
> Ari
>
>>
>> Charlie
>>
>> Ari Jolma wrote:
>>> Charlie Savage kirjoitti:
>>>> If this is the same DISOWN as Ruby/Python, I suppose that would be
>>>> another argument for using SWIG 1.3.29 since it would avoid special
>>>> cases for Perl.
>>>
>>> Yes I think it is. I upgraded to swig 1.3.29 and updated the Perl
>>> wrappers also at CVS. Sorry for the confusion, ogr.i is v. 1.55 now
>>> which is the same as 1.53, is there an undo for CVS?
>>>
>>> Ari
>>>
>>>
>>
>>
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3166 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060412/8a6dcb86/smime.bin
From warmerdam at pobox.com  Wed Apr 12 14:14:55 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] python CoordinateTransformation
In-Reply-To: <443D3B33.8010605@aero.und.edu>
References: <443D3B33.8010605@aero.und.edu>
Message-ID: <443D439F.3050602@pobox.com>

Xiaodong Zhang wrote:
> Hi gdal-dev list members,
> 
> Not knowing very much about Python, I'm wondering if anybody has a 
> sample code of using Python:CoordinateTransformation. I have read 
> through OGR Projection tutorial and understand how to do it in C++; but 
> there are few information there on how to use Pythonto to do coordinate 
> transformation. Basically I'd like to calculate the lat and long from an 
> image's native projection.

Xiaodong,

I think you will find the following example script to be nearly what you
want.

   http://www.gdal.org/srctree/python/samples/tolatlong.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hobu at iastate.edu  Wed Apr 12 14:21:43 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] python CoordinateTransformation
In-Reply-To: <443D439F.3050602@pobox.com>
References: <443D3B33.8010605@aero.und.edu>
 <443D439F.3050602@pobox.com>
Message-ID: <6.2.3.4.2.20060412132138.026e8030@hobu.mail.iastate.edu>

<http://www.gdal.org/srctree/pymod/samples/tolatlong.py>

At 01:14 PM 4/12/2006, Frank Warmerdam wrote:
>Xiaodong Zhang wrote:
>>Hi gdal-dev list members,
>>Not knowing very much about Python, I'm wondering if anybody has a 
>>sample code of using Python:CoordinateTransformation. I have read 
>>through OGR Projection tutorial and understand how to do it in C++; 
>>but there are few information there on how to use Pythonto to do 
>>coordinate transformation. Basically I'd like to calculate the lat 
>>and long from an image's native projection.
>
>Xiaodong,
>
>I think you will find the following example script to be nearly what you
>want.
>
>   http://www.gdal.org/srctree/python/samples/tolatlong.py
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Wed Apr 12 15:27:21 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RFC 1 : Project Management Committee Guidelines
Message-ID: <443D5499.1030100@pobox.com>

Folks,

This is my formal proposal of RFC 1 defining operation of the GDAL/OGR
Project Management Committee.  I am looking for a +1 from each of the
initial proposed members of the PMC (Daniel, Andrey and Howard!).

   http://www.gdal.org/rfc1_pmc.html

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From andrew at andrewlarcombe.co.uk  Wed Apr 12 18:38:13 2006
From: andrew at andrewlarcombe.co.uk (Andrew Larcombe)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Merging TIFFs
Message-ID: <443D8155.3040002@andrewlarcombe.co.uk>

Hi all,

I'm after a quick bit of advice before I start coding. I need to write a 
small app that will take a 4000x4000 pixel striped geotiff at resolution 
x and merge it into a number of larger ~10000x10000 pixel tiled (200px 
tile height & width) geotiffs at resolutions y1...yn where y1...yn < x. 
Both input and output are in the same projection.

Am I best off using the GDALWarp classes or the 
GDALRasterBand->RasteIO() stuff?

TIA,

Andrew

From perrygeo at gmail.com  Wed Apr 12 20:43:18 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
In-Reply-To: <000b01c65e49$9df9b890$1401a8c0@pcgh>
References: <443D1D20.1040202@pobox.com> <000b01c65e49$9df9b890$1401a8c0@pcgh>
Message-ID: <5383fa5e0604121743t42ded01bxae6a1958834dc17d@mail.gmail.com>

On 4/12/06, Guillaume HUBY <ghuby@geosys.com> wrote:
> An exact method should compute if a polygon edge cut a pixel edge and if
> pixel is inside polygon.
>

You might want to check out some of the pixel inclusion algorithms in
starspan (
http://starspan.casil.ucdavis.edu/?Documentation:Pixel_inclusion )

"""
A pixel c is contained in a polygon P only if the area of the
intersection between c and P is equal to or greater than a certain
pixel proportion.
"""

--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From warmerdam at pobox.com  Wed Apr 12 21:42:37 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Merging TIFFs
In-Reply-To: <443D8155.3040002@andrewlarcombe.co.uk>
References: <443D8155.3040002@andrewlarcombe.co.uk>
Message-ID: <443DAC8D.4080807@pobox.com>

Andrew Larcombe wrote:
> Hi all,
> 
> I'm after a quick bit of advice before I start coding. I need to write a 
> small app that will take a 4000x4000 pixel striped geotiff at resolution 
> x and merge it into a number of larger ~10000x10000 pixel tiled (200px 
> tile height & width) geotiffs at resolutions y1...yn where y1...yn < x. 
> Both input and output are in the same projection.
> 
> Am I best off using the GDALWarp classes or the 
> GDALRasterBand->RasteIO() stuff?

Andrew,

If you don't need reprojection, resampling kernels, and so forth then
sticking with RasterIO() will be faster and easier.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ari.jolma at tkk.fi  Thu Apr 13 01:37:01 2006
From: ari.jolma at tkk.fi (Ari Jolma)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
In-Reply-To: <5383fa5e0604121743t42ded01bxae6a1958834dc17d@mail.gmail.com>
References: <443D1D20.1040202@pobox.com> <000b01c65e49$9df9b890$1401a8c0@pcgh>
	<5383fa5e0604121743t42ded01bxae6a1958834dc17d@mail.gmail.com>
Message-ID: <443DE37D.6000805@tkk.fi>

Matthew Perry kirjoitti:
> On 4/12/06, Guillaume HUBY <ghuby@geosys.com> wrote:
>   
>> An exact method should compute if a polygon edge cut a pixel edge and if
>> pixel is inside polygon.
>>
>>     

Could the standard scanline / active edge table -method of polygon 
filling algorithm be modified to fill only pixels, which are completely 
inside the polygon? I.e. would something along the line of using two 
scanlines, one for the top and one for the bottom of the pixel, and the 
active edges would be compared against the left and right of the pixel, 
work? A pixel is completely within a polygon if all of its borders are 
within. Hmm, maybe not since the algorithm would only make sure that the 
top and bottom borders are within.

I can understand the general need for this type of rasterization but 
what is the specific need in this case?

Ari

-- 
Prof. Ari Jolma
Kartografia ja Geoinformatiikka / Cartography and Geoinformatics
Teknillinen Korkeakoulu / Helsinki University of Technology
POBox 1200, 02015 TKK, Finland
Email: ari.jolma at tkk.fi URL: http://www.tkk.fi/~jolma


From ghuby at geosys.com  Thu Apr 13 03:11:25 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Question about gdal_rasterize
In-Reply-To: <5383fa5e0604121743t42ded01bxae6a1958834dc17d@mail.gmail.com>
Message-ID: <000c01c65ec9$8fdf95b0$1401a8c0@pcgh>

> -----Message d'origine-----
> De : Matthew Perry [mailto:perrygeo@gmail.com] 
> Envoy? : jeudi 13 avril 2006 02:43
> ? : Guillaume HUBY
> Cc : gdal-dev@lists.maptools.org
> Objet : Re: RE : RE : [Gdal-dev] Question about gdal_rasterize
> 
> You might want to check out some of the pixel inclusion 
> algorithms in starspan ( 
> http://starspan.casil.ucdavis.edu/?Documentation:Pixel_inclusion )
> 
> """
> A pixel c is contained in a polygon P only if the area of the 
> intersection between c and P is equal to or greater than a 
> certain pixel proportion. """

I do not think that there is only one definition of pixel inclusion in a
polygon. All depends of your purposes.
I only want the pixel fully inside the polygon without intersection, because
I don't want the biases introduced by data outside of the polygon and pixel
containg mix of data inside and outside of the polygon.
But one might want all pixels interscting with polygon.
Or those who have their center inside.
Or those who have more than 50% of their area inside the polygon.

Regards,
Guillaume.



From ILucena at clarku.edu  Thu Apr 13 09:46:53 2006
From: ILucena at clarku.edu (Ivan Lucena)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] MSVC8
Message-ID: <6FD7C9DB26540B42A1207C69BF92D455011F5933@Iris.ad.clarku.edu>

Ben,

Your MSVC7 project was a good starting point but just after hours of
work last night I got it to work on version 8 (Visual Studio 2005). Now
it compiles faster and I can use the interactive debugging
functionalities, like I wished. 

Thanks.

Ivan

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of Ben Discoe
Sent: Tuesday, April 11, 2006 9:45 PM
To: gdal-dev@lists.maptools.org
Subject: RE: [Gdal-dev] MSVC8

Ivan,

Do the Project/Solution file(s) for VC7.1 not work in VC8?
i.e. http://vterrain.org/Distrib/gdal.html
I would imagine that they should work.

-Ben

> -----Original Message-----
> From: Ivan Lucena
> Sent: Tuesday, April 11, 2006 12:08 PM
> To: gdal-dev@lists.maptools.org
> Subject: [Gdal-dev] MSVC8
> 
> Is there anybody out there that could provide me with 
> "Projects/Solution" file(s) to compile and debug GDAL in 
> Visual Studio 2005?
> I will appreciate it enormously

_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From H.Porath at hzd.hessen.de  Thu Apr 13 10:17:39 2006
From: H.Porath at hzd.hessen.de (H.Porath@hzd.hessen.de)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Error compiling gdal against mrsid dsdk on solaris
Message-ID: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE67@srvhzdexc095.hzd.hessen.de>

Hi Julien,

thanks for the hint, but unfortunately it did not work. We got the same error. Do you have other ideas regarding compile flags? Why do you know how MrSID SDK was compiled? Is there a documentation?

Regards,

Holger

-----Urspr?ngliche Nachricht-----
Von: Julien Demaria [mailto:dem@acri-st.fr] 
Gesendet: Mittwoch, 12. April 2006 18:08
An: Porath, Holger (HZD)
Cc: gdal-dev@lists.maptools.org
Betreff: Re: [Gdal-dev] Error compiling gdal against mrsid dsdk on solaris


Hi,

I believe you have a PIC problem, you should add the -fPIC flag to gcc 
for compiling all your .c and .cpp, because MrSID SDK is compiled with 
-fPIC.

Regards,

Julien


From dmorissette at mapgears.com  Thu Apr 13 10:50:45 2006
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] RFC 1 : Project Management Committee Guidelines
In-Reply-To: <443D5499.1030100@pobox.com>
References: <443D5499.1030100@pobox.com>
Message-ID: <443E6545.2020608@mapgears.com>

Frank Warmerdam wrote:
> 
> This is my formal proposal of RFC 1 defining operation of the GDAL/OGR
> Project Management Committee.  I am looking for a +1 from each of the
> initial proposed members of the PMC (Daniel, Andrey and Howard!).
> 
>   http://www.gdal.org/rfc1_pmc.html
> 

+1 from Daniel.

<comment>
This is pretty much the same as what we have for the MapServer Technical 
Steering Committee (MTSC) with the exception that contrary to the MTSC, 
this GDAL/OGR PMC is not limited to technical issues. Since the MTSC 
works very well, I think this PMC is going to work very well for GDAL/OGR.
</comment>

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/

From dem at acri-st.fr  Thu Apr 13 11:05:37 2006
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Error compiling gdal against mrsid dsdk on solaris
In-Reply-To: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE67@srvhzdexc095.hzd.hessen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE67@srvhzdexc095.hzd.hessen.de>
Message-ID: <443E68C1.3040508@acri-st.fr>

Hi,

My advice is to compile ALL your .c or .cpp using -fPIC, including all 
GDAL sources. So you have to recompile completely GDAL.

I successfully compiled GDAL with MRSID DSDK support but with 
Geo_DSDK-4.0.10.720 and gcc 2.95 (I'll test with the new DSDK gcc 3.2.3 
when I'll have time...) using these tips:
	- configure GDAL with --without-libtool (because I don't want rpath, 
and maybe for other things but I don't remember)
	- then change in GDALmake.opt these two variables to:
		PY_LD_SHARED = $(CXX) -shared
                 LD_SHARED    = $(CXX) -shared
	  to enable shared library
	- and then make all


Documentation is here:

Geo_DSDK-5.0.6.955/doc

and you can see in Geo_DSDK-5.0.6.955/doc/PLATFORMS.txt:

"
UNIX-SPECIFIC ISSUES
--------------------

  * LizardTech libraries and applications are built with certain 
compiler and
    linker flags set.  Please see the file examples/src/makefile for sample
    compile and link lines.  Your environment may require modifications to
    these settings.  Please be aware that:
      - we use fPIC/kPIC
      - we use -D_REENTRANT
      - if you are linking with GDAL, e.g. to use the supplied TIFF, JPG, or
        NITF support, you may need to link with -ldl
      - we use -lpthreads
"

and in Geo_DSDK-5.0.6.955/examples/src/makefile:

"
ifeq ($(LTI_TARGET),sparc-sun-solaris2.8)
   # solaris / sparc for gcc 2.95
   OS_CXX_FLAGS = -fPIC -O3
   OS_LD_FLAGS  = -lpthread -lrt
endif

ifeq ($(LTI_TARGET),solaris.sparc.sunpro)
   CXX=/opt/SUNWspro/bin/CC
   OS_CXX_FLAGS = -KPIC -xO3
   OS_LD_FLAGS  = -lpthread -lrt -lCrun -ldl
endif

ifeq ($(LTI_TARGET),solaris.sparc.gcc32)
   # solaris / sparc for gcc 3.2.3
   CXX=/usr/local/tools/gcc/3.2.3/bin/g++
   OS_CXX_FLAGS = -fPIC -O3
   OS_LD_FLAGS  = -lpthread -lrt
endif
"


Regards,

Julien


H.Porath@hzd.hessen.de a ?crit :
> Hi Julien,
> 
> thanks for the hint, but unfortunately it did not work. We got the same error. Do you have other ideas regarding compile flags? Why do you know how MrSID SDK was compiled? Is there a documentation?
> 
> Regards,
> 
> Holger
> 
> -----Urspr?ngliche Nachricht-----
> Von: Julien Demaria [mailto:dem@acri-st.fr] 
> Gesendet: Mittwoch, 12. April 2006 18:08
> An: Porath, Holger (HZD)
> Cc: gdal-dev@lists.maptools.org
> Betreff: Re: [Gdal-dev] Error compiling gdal against mrsid dsdk on solaris
> 
> 
> Hi,
> 
> I believe you have a PIC problem, you should add the -fPIC flag to gcc 
> for compiling all your .c and .cpp, because MrSID SDK is compiled with 
> -fPIC.
> 
> Regards,
> 
> Julien

From mike_alias at heins.ca  Thu Apr 13 11:17:30 2006
From: mike_alias at heins.ca (heinsm)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] srtm warping question
In-Reply-To: <443BF7F2.4060100@pobox.com>
References: <200604111151.AA135201022@heins.ca> <443BF7F2.4060100@pobox.com>
Message-ID: <3902465.post@talk.nabble.com>


Thanks Frank. I was wondering the differences between Int16 and CInt16.  I
see now in OpenEV it shows complex coordinates.

Anyways, great news!  --(you're going to laugh at this solution).  The
problem all along was that I wasn't reprojecting into an appropriate utm
zone.  Should have been using zone ~19 for the reprojection of N43W71.

the reprojection now works flawlessly...

For furture user searches here are my BIL HDRs and commandlines I used for
SRTM N43W71:
1. rename SRTM .hgt to .bil
2. create .hdr with same filename as SRTM to describe the ESRI binary format
and to help georeference the raster
see:
http://www.esri.com/library/whitepapers/pdfs/eximgav.pdf
ftp://e0srp01u.ecs.nasa.gov/srtm/version2/Documentation/Quickstart.pdf

(for example N43W71.hdr it would be:)
BYTEORDER           M
LAYOUT              BIL
NROWS               1201
NCOLS               1201
NBANDS              1
NBITS               16
BANDROWBYTES        2402
TOTALROWBYTES       2402
BANDGAPBYTES        0
NODATA              -32768
ULXMAP              -70.99958333333333
ULYMAP              43.999583333333333
XDIM                0.000833333333333
YDIM                0.000833333333333

3. Create appropriate .prj file with same filename to describe source
projection
see:
http://support.esri.com/index.cfm?fa=knowledgebase.techarticles.articleShow&d=14056

(for example N43W71.prj it would be:)
GEOGCS["wgs84",DATUM["WGS_1984",SPHEROID["wgs84",6378137,298.257223563],TOWGS84[0.000000,0.000000,0.000000]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]


4. use gdalwarp to warp original BIL into target BIL coordinate projection
(for exampe, I used the follow to project into utm zone 19 --ensure a
physically close zone is choosen otherwise reprojection may be rendered
outside of the image;  giving you a result of all nulls/black)

gdalwarp -of EHdr -t_srs "+proj=utm +zone=19 +datum=WGS84" -ot Int16
c:\srtmtest\N43W071.bil c:\srtmtest\oututm.bil


-mike
--
View this message in context: http://www.nabble.com/srtm-warping-question-t1432737.html#a3902465
Sent from the GDAL - Dev forum at Nabble.com.


From xiaodong.zhang2 at und.nodak.edu  Thu Apr 13 13:34:45 2006
From: xiaodong.zhang2 at und.nodak.edu (Xiaodong Zhang)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] python CoordinateTransformation
In-Reply-To: <6.2.3.4.2.20060412132138.026e8030@hobu.mail.iastate.edu>
References: <443D3B33.8010605@aero.und.edu> <443D439F.3050602@pobox.com>
	<6.2.3.4.2.20060412132138.026e8030@hobu.mail.iastate.edu>
Message-ID: <443E8BB5.7040602@und.nodak.edu>

Thanks Frank and Howard,

It works. Just curious to know a little bit of CloneGeogCS() method, the 
description of which is not available from the gdal web. Is it designed 
to create a geographic projection (i.e., lat & long) out of the existing 
projection using the same, say, datum, etc.

Thanks again for your help.
Xiaodong

Howard Butler wrote:
> <http://www.gdal.org/srctree/pymod/samples/tolatlong.py>
>
> At 01:14 PM 4/12/2006, Frank Warmerdam wrote:
>> Xiaodong Zhang wrote:
>>> Hi gdal-dev list members,
>>> Not knowing very much about Python, I'm wondering if anybody has a 
>>> sample code of using Python:CoordinateTransformation. I have read 
>>> through OGR Projection tutorial and understand how to do it in C++; 
>>> but there are few information there on how to use Pythonto to do 
>>> coordinate transformation. Basically I'd like to calculate the lat 
>>> and long from an image's native projection.
>>
>> Xiaodong,
>>
>> I think you will find the following example script to be nearly what you
>> want.
>>
>>   http://www.gdal.org/srctree/python/samples/tolatlong.py
>>
>> Best regards,
>> -- 
>> ---------------------------------------+-------------------------------------- 
>>
>> I set the clouds in motion - turn up   | Frank Warmerdam, 
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | President OSGF, 
>> http://osgeo.org
>>
>> _______________________________________________
>> Gdal-dev mailing list
>> Gdal-dev@lists.maptools.org
>> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Thu Apr 13 14:03:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] python CoordinateTransformation
In-Reply-To: <443E8BB5.7040602@und.nodak.edu>
References: <443D3B33.8010605@aero.und.edu> <443D439F.3050602@pobox.com>
	<6.2.3.4.2.20060412132138.026e8030@hobu.mail.iastate.edu>
	<443E8BB5.7040602@und.nodak.edu>
Message-ID: <443E9271.2090903@pobox.com>

Xiaodong Zhang wrote:
> Thanks Frank and Howard,
> 
> It works. Just curious to know a little bit of CloneGeogCS() method, the 
> description of which is not available from the gdal web. Is it designed 
> to create a geographic projection (i.e., lat & long) out of the existing 
> projection using the same, say, datum, etc.

Xiaodong,

Yes.  The Geographic coordinate system includes the ellipsoid, datum,
shift to wgs84, prime meridian and angular units.  Projected coordinate
systems are based on a geographic coordinate system.  CloneGeogCS() creates
a new geographic coordinate system capturing the geographic coordinate system
of the source geograhpic or projected coordinate system.

For a projected coordinate system like this:
PROJCS["WGS_1984_UTM_Zone_11S",
     GEOGCS["GCS_WGS_1984",
         DATUM["D_WGS_1984",
             SPHEROID["WGS_84",6378137,298.257223563]],
         PRIMEM["Greenwich",0],
         UNIT["Degree",0.017453292519943295]],
     PROJECTION["Transverse_Mercator"],
     PARAMETER["latitude_of_origin",0],
     PARAMETER["central_meridian",-117],
     PARAMETER["scale_factor",0.9996],
     PARAMETER["false_easting",500000],
     PARAMETER["false_northing",10000000],
     UNIT["Meter",1]]

The Geographic coordinate system would be:

     GEOGCS["GCS_WGS_1984",
         DATUM["D_WGS_1984",
             SPHEROID["WGS_84",6378137,298.257223563]],
         PRIMEM["Greenwich",0],
         UNIT["Degree",0.017453292519943295]],

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu Apr 13 15:22:13 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta1 Released
Message-ID: <443EA4E5.3070207@pobox.com>

Folks,

Preparatory to a finalized GDAL 1.3.2 release (hopefully by the middle of
next week) I have prepared a GDAL 1.3.2 Beta 1 snapshot.

   http://www.gdal.org/dl/gdal-1.3.2b1.tar.gz
   http://www.gdal.org/dl/gdal132b1.zip

Let me know if any problems are encountered.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From werchowyna at epf.pl  Thu Apr 13 15:49:00 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] srtm warping question
In-Reply-To: <3902465.post@talk.nabble.com>
References: <200604111151.AA135201022@heins.ca> <443BF7F2.4060100@pobox.com>
	<3902465.post@talk.nabble.com>
Message-ID: <20060413214900.28cb0e2f.werchowyna@epf.pl>

Mike,

For points 1-3 of your procedure GRASS r.in.srtm script
http://freegis.org/cgi-bin/viewcvs.cgi/grass6/scripts/r.in.srtm/
does it all.

Cheers,
Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From werchowyna at epf.pl  Fri Apr 14 13:35:14 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDAL supported formats link wrong
Message-ID: <20060414193514.de0c0b4d.werchowyna@epf.pl>

Frank

On http://www.gdal.org/index.html under Supported Formats there is a
link to... http://www.gdal.org/index.html itself.

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From s4112669 at student.uq.edu.au  Sat Apr 15 03:14:00 2006
From: s4112669 at student.uq.edu.au (Miss Carla Meurk)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] .ecw convert for GRASS
Message-ID: <749aef747ada.747ada749aef@uq.edu.au>

GRASS cannot seem to import a .ecw using r.in.gdal

I have installed gdal separately and following the instructions in
README.1st I have entered the code:

carla@ubuntu:~/Desktop/fwtools/FWTools-1.0.0b2/bin_safe$
./gdal_translate ~/MapsofDaintree/se5501.ecw ~/MapsofDaintree/se5501.gdal 

only to get the following error messages:

Input file size is 7106, 3990
0...10...20...30.ERROR 1: TryWinRasterIO() failed for blocked scanline 0
of band 2.
ERROR 1: IReadBlock failed at X offset 0, Y offset 0
ERROR 1: GetBlockRef failed at X block offset 0, Y block offset 0

Unfortunately, I have no idea what this error message is trying to tell me.

Importing via GRASS (6.0.1) by: file > Import > Raster map > Multiple
formats using GDAL

Raster file to be imported
"file name.ecw"
Name of resultant raster map
"new file name"

and clicking Run gives:

r.in.gdal input = file name.ecw output = new file name 
ERROR 4: file name.ecw not recognised as a supported file format.

Can someone help?  All I want is for se5501.ecw to be recognised by GRASS

I would be very greatful for any help


From christian.schaffer at muenchen.de  Tue Apr 18 07:59:36 2006
From: christian.schaffer at muenchen.de (Christian Schaffer)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
Message-ID: <4444D4A8.6080601@muenchen.de>

Hi List,

using GNU tools, I?m experiencing problems building GDAL on Solaris 9 
(SPARC).
Configure runs as expected, but make stops with the following error:

(...)
(cd swig; gmake build)
gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
for dir in ; do (cd $dir; make build ); done
/bin/sh: syntax error at line 1: `;' unexpected
gmake[1]: *** [build] Error 2
gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
gmake: *** [swig-target] Error 2

Looking into GDALmake.opt, it says:
(...)
# Next Generation SWIG bindings
BINDINGS        =      
(...)

Is there anything, I might be doing the wrong way?

Thanks in advance for helping.
Best regards,
Christian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060418/d9718eb2/attachment.html
From H.Porath at hzd.hessen.de  Tue Apr 18 08:26:26 2006
From: H.Porath at hzd.hessen.de (H.Porath@hzd.hessen.de)
Date: Wed Nov 21 11:50:05 2007
Subject: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
Message-ID: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>

Hi Christian,
 
we had the same problem on Solaris 8 SPARC and solved it by inserting "python" in the GDALmake.opt, so it was reading:
BINDINGS    =    python
 
Of course you can choose a different "swig"-dir, e.g. perl. 
 
Hope this helps.
 
Regards

Holger   

 

-----Urspr?ngliche Nachricht-----
Von: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] Im Auftrag von Christian Schaffer
Gesendet: Dienstag, 18. April 2006 14:00
An: gdal-dev@lists.maptools.org
Betreff: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC



	Hi List,
	
	using GNU tools, I?m experiencing problems building GDAL on Solaris 9 (SPARC).
	Configure runs as expected, but make stops with the following error:
	
	(...)
	(cd swig; gmake build)
	gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
	for dir in ; do (cd $dir; make build ); done
	/bin/sh: syntax error at line 1: `;' unexpected
	gmake[1]: *** [build] Error 2
	gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
	gmake: *** [swig-target] Error 2
	
	Looking into GDALmake.opt, it says:
	(...)
	# Next Generation SWIG bindings
	BINDINGS        =       
	(...)
	
	Is there anything, I might be doing the wrong way?
	
	Thanks in advance for helping.
	Best regards,
	Christian
	

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060418/100d7094/attachment.html
From hobu at iastate.edu  Tue Apr 18 10:09:09 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Infrastructure developments for GDAL
In-Reply-To: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
Message-ID: <p06230910c06a9de83ba1@[192.168.11.4]>

All,

With our upcoming move to OSGeo, I have been investigating the use of 
three technologies to help streamline some aspects of GDAL 
development -- subversion, Trac <http://trac.edgewall.com>, and 
buildbot <http://buildbot.sourceforge.net>.

GDAL has historically used Bugzilla, CVS, and mailman as the main 
project-enabling technologies.  While I have no issues with mailman, 
I do have a couple with bugzilla and cvs.  First, they aren't linked. 
In one sense, bugs are a separate universe from the source code (our 
bugzilla even resides on a different machine in a different domain). 
Two, bugzilla doesn't provide good overviews of all of the bugs 
related to a release, or bugs related to a development milestone. 
Third, bugzilla is a bit imposing and foreboding for casual bug 
reporters.

My issues with CVS are mostly related to repository reconfiguration, 
refractoring, and branching/tagging -- all issues that subversion was 
designed from the ground up to alleviate.  The migration to 
subversion for my internal projects has been very successful, and 
I've yet to find too many developers wishing they had CVS again after 
working with subversion for a while...

Trac example for GDAL <http://gdal.hobu.net/trac.gdal/> <-- click 
"View Tickets" to see bugs imported from bugzilla and "Browse Source" 
to see the GDAL CVS tree imported into subversion.  Trac integrates 
wiki, source code browsing, and bug reporting into one entity.  It is 
also relatively straightforward to write your own plugins to Trac to 
do interesting things.

The other infrastructure component that I have been investigating is 
automated smoke testing.  GDAL is a large piece of software that is 
expected to run on many different platforms.  GDAL has a testing 
suite, and   it is very useful if that test suite is run frequently 
on many different platforms as development takes place.     Buildbot 
provides a few very nice features, but one of the most useful is the 
ability for folks to hook up their own build slaves to the build 
farm.  For example, the Python buildbot 
<http://www.python.org/dev/buildbot/all> is composed of machines that 
users have connected to the build farm themselves and covers a wide 
variety of platforms and configurations.

Buildbot example for GDAL <http://gdal.builds.hobu.net> <-- nightly 
(and on-demand) builds of GDAL for linux, windows, and osx.

These links are *not* authoritative, and in no way has GDAL yet moved 
to these technologies.  I expect the upcoming PSC to vote on and 
approve the use of these technologies officially through the RFC 
process.  I wanted to give people a preview of these technologies and 
ask what people think about them.  Do/will they fit GDAL's 
development process?

Howard

From warmerdam at pobox.com  Tue Apr 18 10:42:57 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Re: GDAL supported formats link wrong
In-Reply-To: <20060414193514.de0c0b4d.werchowyna@epf.pl>
References: <20060414193514.de0c0b4d.werchowyna@epf.pl>
Message-ID: <4444FAF1.9070609@pobox.com>

Maciek Sieczka wrote:
> Frank
> 
> On http://www.gdal.org/index.html under Supported Formats there is a
> link to... http://www.gdal.org/index.html itself.

Maciek,

Thanks, I have fixed this up.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From lists at b-open-solutions.it  Tue Apr 18 10:44:01 2006
From: lists at b-open-solutions.it (Alessandro Amici)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Infrastructure developments for GDAL
In-Reply-To: <p06230910c06a9de83ba1@[192.168.11.4]>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
	<p06230910c06a9de83ba1@[192.168.11.4]>
Message-ID: <200604181644.01772.lists@b-open-solutions.it>


Howard,

Alle 16:09, marted? 18 aprile 2006, Howard Butler ha scritto:
> With our upcoming move to OSGeo, I have been investigating the use of
> three technologies to help streamline some aspects of GDAL
> development -- subversion, Trac <http://trac.edgewall.com>, and
> buildbot <http://buildbot.sourceforge.net>.

i look forward to see gdal using svn and trac, i find them very 
productive for smaller projects and they appear to handle fairly well 
large stuff like plone.

keep in mind that trac is intended to be thin/low-overhead so it doesn't 
have tons of features (the main missing features IMHO are a way to 
trace backlinks and an easy way to categorize the wiki), but i like it 
overall.

no idea about buildbot.

cheers,
alessandro

-- 
B-Open Solutions srl - http://www.bopen.it/ - http://www.bopen.eu/


From bartvde at xs4all.nl  Tue Apr 18 11:59:53 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Infrastructure developments for GDAL
In-Reply-To: <p06230910c06a9de83ba1@[192.168.11.4]>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
	<p06230910c06a9de83ba1@[192.168.11.4]>
Message-ID: <44450CF9.1090905@xs4all.nl>

Hi Howard,

the organization I currently work for is also experimenting with Trac, 
and it looks very promising, especially the subversion integration.

I think there won't be any doubts with moving CVS to SVN.

Best regards,
Bart

Howard Butler wrote:

> All,
>
> With our upcoming move to OSGeo, I have been investigating the use of 
> three technologies to help streamline some aspects of GDAL development 
> -- subversion, Trac <http://trac.edgewall.com>, and buildbot 
> <http://buildbot.sourceforge.net>.
>
> GDAL has historically used Bugzilla, CVS, and mailman as the main 
> project-enabling technologies.  While I have no issues with mailman, I 
> do have a couple with bugzilla and cvs.  First, they aren't linked. In 
> one sense, bugs are a separate universe from the source code (our 
> bugzilla even resides on a different machine in a different domain). 
> Two, bugzilla doesn't provide good overviews of all of the bugs 
> related to a release, or bugs related to a development milestone. 
> Third, bugzilla is a bit imposing and foreboding for casual bug 
> reporters.
>
> My issues with CVS are mostly related to repository reconfiguration, 
> refractoring, and branching/tagging -- all issues that subversion was 
> designed from the ground up to alleviate.  The migration to subversion 
> for my internal projects has been very successful, and I've yet to 
> find too many developers wishing they had CVS again after working with 
> subversion for a while...
>
> Trac example for GDAL <http://gdal.hobu.net/trac.gdal/> <-- click 
> "View Tickets" to see bugs imported from bugzilla and "Browse Source" 
> to see the GDAL CVS tree imported into subversion.  Trac integrates 
> wiki, source code browsing, and bug reporting into one entity.  It is 
> also relatively straightforward to write your own plugins to Trac to 
> do interesting things.
>
> The other infrastructure component that I have been investigating is 
> automated smoke testing.  GDAL is a large piece of software that is 
> expected to run on many different platforms.  GDAL has a testing 
> suite, and   it is very useful if that test suite is run frequently on 
> many different platforms as development takes place.     Buildbot 
> provides a few very nice features, but one of the most useful is the 
> ability for folks to hook up their own build slaves to the build 
> farm.  For example, the Python buildbot 
> <http://www.python.org/dev/buildbot/all> is composed of machines that 
> users have connected to the build farm themselves and covers a wide 
> variety of platforms and configurations.
>
> Buildbot example for GDAL <http://gdal.builds.hobu.net> <-- nightly 
> (and on-demand) builds of GDAL for linux, windows, and osx.
>
> These links are *not* authoritative, and in no way has GDAL yet moved 
> to these technologies.  I expect the upcoming PSC to vote on and 
> approve the use of these technologies officially through the RFC 
> process.  I wanted to give people a preview of these technologies and 
> ask what people think about them.  Do/will they fit GDAL's development 
> process?
>
> Howard
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>


-- 
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl


From mateusz at loskot.net  Tue Apr 18 12:44:10 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Is LineString definition in SFS for SQL correct?
Message-ID: <4445175A.1000600@loskot.net>

Hi,

I've just sent my new question to OGC Forum about ambiguity I observed
in SFS for SQL r1.1 document:

http://feature.opengeospatial.org/forumbb/viewtopic.php?t=326

I'm not sure if my observations are correct,
so I'd be thankful for some review.

I think it may be interseting for GDAL/GEOS/JTS Communities,
so I hope you don't mind I'm sending copy of this post to following
mailing lists (addresses included in e-mail headers):

geos-devel@geos.refractions.net
gdal-dev@lists.maptools.org
jts-devel@lists.jump-project.org

BTW, there is another my post about WKT syntax that may be intersting:
http://feature.opengeospatial.org/forumbb/viewtopic.php?t=325

Best regards
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From kris_rock82 at YAHOO.COM  Tue Apr 18 14:19:41 2006
From: kris_rock82 at YAHOO.COM (krishna_s)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] can GDAL be used to read and manipulate a jpeg file
Message-ID: <3973810.post@talk.nabble.com>


Hello all, i was wondering if gdal can be used to read a jpeg file and then
manipulate it, for example my jpeg image consists of some green areas which
i want to change to red, can i do it using gdal of if anyone know how to do
it 

Thanks for your time .....
--
View this message in context: http://www.nabble.com/can-GDAL-be-used-to-read-and-manipulate-a-jpeg-file-t1469844.html#a3973810
Sent from the GDAL - Dev forum at Nabble.com.


From mateusz at loskot.net  Tue Apr 18 14:42:26 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Infrastructure developments for GDAL
In-Reply-To: <200604181644.01772.lists@b-open-solutions.it>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>	<p06230910c06a9de83ba1@[192.168.11.4]>
	<200604181644.01772.lists@b-open-solutions.it>
Message-ID: <44453312.1000706@loskot.net>

Alessandro Amici wrote:
> keep in mind that trac is intended to be thin/low-overhead so it doesn't 
> have tons of features (the main missing features IMHO are a way to 
> trace backlinks and an easy way to categorize the wiki), but i like it 
> overall.

Alessandro,

I think some of missing features can be provided by plugins:
http://projects.edgewall.com/trac/wiki/PluginList

Regarding backlinks, there is a way to add them:
http://projects.edgewall.com/trac/wiki/TracFaq#how-do-i-see-all-pages-that-link-to-the-current-page

Regarding categorization of Wiki pages, Trac Tags should help:
http://dev.muness.textdriven.com/trac.cgi/wiki/tags


Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Tue Apr 18 14:57:28 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Infrastructure developments for GDAL
In-Reply-To: <p06230910c06a9de83ba1@[192.168.11.4]>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
	<p06230910c06a9de83ba1@[192.168.11.4]>
Message-ID: <44453698.9040203@loskot.net>

Howard Butler wrote:
> Trac example for GDAL <http://gdal.hobu.net/trac.gdal/> <-- click
> "View Tickets" to see bugs imported from bugzilla and "Browse Source"
> to see the GDAL CVS tree imported into subversion.  Trac integrates
> wiki, source code browsing, and bug reporting into one entity.  It is
> also relatively straightforward to write your own plugins to Trac to
> do interesting things.

I think it could be interesting to integrate buildbot reports with Trac.
I see a few possible [1] levels of integration:

- simple - Buildbot reports are linked to or presented
directly on Trac pages

- deep - buildbot could run regression tests for every GDAL module and
in case of failures, it could submit a Ticket proposal automatically.
It would better integrate the cycle of
change-build-check-report bug-change, so every issue goes through Trac.
I am not sure if this is a good plan for GDAL project. Simply, just an
idea.

[1] Saying "possible", I don't mean I know such plugins ready to use.

> Buildbot example for GDAL <http://gdal.builds.hobu.net> <-- nightly
> (and on-demand) builds of GDAL for linux, windows, and osx.

Is it possible to generate detailed reports from GDAL unit tests?
As example, here are reports generated for Boost tests:

Summary:
http://boost.sourceforge.net/regression-logs/

Detailed "Developer report":
http://engineering.meta-comm.com/boost-regression/CVS-HEAD/developer/

Example for Boost Array library:
http://engineering.meta-comm.com/boost-regression/CVS-HEAD/developer/array.html

I'm not sure what software Boost uses to run tests but I hope
buildbot allows to write your own test runner to customize reports output.

> Do/will they fit GDAL's development process?

I think so.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Tue Apr 18 15:40:12 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] can GDAL be used to read and manipulate a jpeg file
In-Reply-To: <3973810.post@talk.nabble.com>
References: <3973810.post@talk.nabble.com>
Message-ID: <4445409C.8070805@pobox.com>

krishna_s wrote:
> Hello all, i was wondering if gdal can be used to read a jpeg file and then
> manipulate it, for example my jpeg image consists of some green areas which
> i want to change to red, can i do it using gdal of if anyone know how to do
> it 

Krishna,

GDAL can be used to load and save your image but you will need to write
the manipulation logic yourself.  Depending on your needs it may be
convenient to implement your logic in Numerical Python.  Integrated
with GDAL, you can use a small python script to load images as an array,
manipulate the array with Numerical Python and then save it with GDAL.

I believe the following scripts would be good examples of this:

   http://www.gdal.org/srctree/pymod/samples/val_repl.py
   http://www.gdal.org/srctree/pymod/samples/rel.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mhanson at photon.com  Tue Apr 18 20:02:14 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDAL on Cygwin
Message-ID: <0719BE42F22E0A46857DF72644EC5D70278445@pj-exchange.photon.com>

Hi,
 
I'm having a bear of a time trying to get GDAL compiled on Cygwin.   There was a problem with JPEG2000 at first so after realizing I needed the (modified) Jasper library I tried to install that.   That didn't work because it was having problems locating glut, despite my attempts to tell it where it was located and reinstalling it (glut).
 
So forget all that, I figured I would just remove JPEG2000 support...I used:
./configure --with-png=internal --with-jpeg=internal --with-geotiff=internal --with-libtiff=internal --with-jasper=no

and confirmed in GDALmake.opt that jpeg2000 support was removed from the list of formats.
 
 
But then at the end of make:
 
Creating library file: .libs/libgdal.dll.a
.libs/libgdal.la-3.o(.text+0x167fa2): In function `GDALRegister_JPEG2000':
/cygdrive/c/GeoServer/gdal-1.3.1/frmts/jpeg2000/jpeg2000dataset.cpp:1188: undefined reference to `_gtCPLStrdup'

 
 
I'm confused....why is it trying to call GDALRegister_JPEG2000   ?
 
I even tried to remove the jpeg2000 DIRECTORY and it still gave me the error
/cygdrive/c/GeoServer/gdal-1.3.1/frmts/jpeg2000/jpeg2000dataset.cpp:1188: undefined reference 
Now how does it even access a file that is no longer there?
 
- Boggled
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060418/e9343fba/attachment.html
From warmerdam at pobox.com  Tue Apr 18 22:22:29 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] GDAL on Cygwin
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D70278445@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D70278445@pj-exchange.photon.com>
Message-ID: <931f8ea90604181922v4d339c1fxc56c7eba5754f37c@mail.gmail.com>

On 4/18/06, Matt Hanson <mhanson@photon.com> wrote:
> I'm confused....why is it trying to call GDALRegister_JPEG2000   ?
>
> I even tried to remove the jpeg2000 DIRECTORY and it still gave me the error
> /cygdrive/c/GeoServer/gdal-1.3.1/frmts/jpeg2000/jpeg2000dataset.cpp:1188:
> undefined reference
> Now how does it even access a file that is no longer there?

Matt,

You need to do a "make clean".  I built GDAL tonight on cygwin
successfully, but then it was without any options.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


From jason.webb at advancedtrack.net  Wed Apr 12 00:05:44 2006
From: jason.webb at advancedtrack.net (Jason Webb)
Date: Wed Nov 21 11:50:05 2007
Subject: [Gdal-dev] Text Labels in S57 data
Message-ID: <QlNSMlJHVSkxIDw8JVxdODI0MjYxNzE@develop3>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060412/ca2fe5e6/attachment.html
From hgjo at ksic.net  Wed Apr 12 01:36:52 2006
From: hgjo at ksic.net (=?EUC-KR?B?wbbH9rHi?=)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] [ogr_spatialref]
Message-ID: <0.91400300_1144820212@bora.net>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060412/d5d1499e/attachment.html
From vijay.akkineni at ttu.edu  Fri Apr 14 03:52:45 2006
From: vijay.akkineni at ttu.edu (Akkineni, Vijay)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Utility to read the pixel values of Tiff
Message-ID: <A775300A59C51B4285470D6C0832E2F417A96C@CENTAUR.net.ttu.edu>


Hi All,
        Is there any utility in gdal to view pixels in the tiff image. I am absolute beginner.

Regards,
Vijay Akkineni.


From carabas at jippii.fi  Wed Apr 19 02:43:12 2006
From: carabas at jippii.fi (carabas@jippii.fi)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] gdalwarp -of VRT
Message-ID: <3427827.1145428992880.JavaMail.carabas@jippii.fi>

Hi,

I've tried to mosaic several tiffs using

gdalwarp -of VRT -te 0 0 1000000 1000000 *.tif mos.vrt

without success. I'm pretty sure that the same worked for tiff format 
but in the case of VRT only the first input image is written to the 
mosaic file.

Any suggestions?

Cheers,

CB

p.s. Can't solve the problem with *merge.py because my installation is 
not complete.


__
Saunalahti Xtra - Uusi GSM-vuokrapuhelin ja edistykselliset Xtra-palvelut k?ytt??si alk. 4,95 e/kk! http://saunalahti.fi/xtra/



From christian.schaffer at muenchen.de  Wed Apr 19 09:04:56 2006
From: christian.schaffer at muenchen.de (Christian Schaffer)
Date: Wed Nov 21 11:50:06 2007
Subject: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
In-Reply-To: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
Message-ID: <44463578.3060501@muenchen.de>

Hi Holger,

thanks for the hint.
I edited my GDALmake.opt to BINDINGS = python. It looks like, I?m 
getting a little further, but unfortunately build failed again.
The error message reads:
(cd .libs && rm -f _gdalmodule.la && ln -s ../_gdalmodule.la _gdalmodule.la)
gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/pymod'
(cd swig; gmake build)
gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
for dir in python ; do (cd $dir; make build ); done
make[2]: Entering directory `/ra1/build/gdal-1.3.1/swig/python'
make: Fatal error: Don't know how to make target `build'
Current working directory /ra1/build/gdal-1.3.1/swig/python
gmake[1]: *** [build] Error 1
gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
gmake: *** [swig-target] Error 2

I then added the --with-ngpython line to my configure statement which 
also gives a BINDINGS = python in the GDALmake.opt, and also tried the 
--with-perl option. Unfortunately no success either.

That?s how my configure statement looks like:
./configure \
--with-gif=internal     \
--with-jpeg=internal    \
--with-geotiff=internal \
--with-libtiff=internal \
--with-libz=internal    \
--with-perl \
--with-oci=/opt/oracle/product/10.1.0/db_1 \
LDFLAGS=-L/opt/oracle/product/10.1.0/db_1/lib32

So nothing special, actually. I?d be glad if you had any further hints 
on this issue.

Thanks once again.
Regards,
Christian


H.Porath@hzd.hessen.de schrieb:

> Hi Christian,
>  
> we had the same problem on Solaris 8 SPARC and solved it by inserting 
> "python" in the GDALmake.opt, so it was reading:
> BINDINGS    =    python
>  
> Of course you can choose a different "swig"-dir, e.g. perl.
>  
> Hope this helps.
>  
> Regards
>
> Holger   
>
>  
>
> -----Urspr?ngliche Nachricht-----
> *Von:* gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] *Im Auftrag von 
> *Christian Schaffer
> *Gesendet:* Dienstag, 18. April 2006 14:00
> *An:* gdal-dev@lists.maptools.org
> *Betreff:* [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
>
>     Hi List,
>
>     using GNU tools, I?m experiencing problems building GDAL on
>     Solaris 9 (SPARC).
>     Configure runs as expected, but make stops with the following error:
>
>     (...)
>     (cd swig; gmake build)
>     gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
>     for dir in ; do (cd $dir; make build ); done
>     /bin/sh: syntax error at line 1: `;' unexpected
>     gmake[1]: *** [build] Error 2
>     gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
>     gmake: *** [swig-target] Error 2
>
>     Looking into GDALmake.opt, it says:
>     (...)
>     # Next Generation SWIG bindings
>     BINDINGS        =      
>     (...)
>
>     Is there anything, I might be doing the wrong way?
>
>     Thanks in advance for helping.
>     Best regards,
>     Christian
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060419/b3af34b9/attachment.html
From warmerdam at pobox.com  Wed Apr 19 09:43:23 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] gdalwarp -of VRT
In-Reply-To: <3427827.1145428992880.JavaMail.carabas@jippii.fi>
References: <3427827.1145428992880.JavaMail.carabas@jippii.fi>
Message-ID: <44463E7B.9090409@pobox.com>

carabas@jippii.fi wrote:
> Hi,
> 
> I've tried to mosaic several tiffs using
> 
> gdalwarp -of VRT -te 0 0 1000000 1000000 *.tif mos.vrt
> 
> without success. I'm pretty sure that the same worked for tiff format 
> but in the case of VRT only the first input image is written to the 
> mosaic file.
> 
> Any suggestions?

CB,

I'm sorry, this is a limitation of gdalwarp.  The way "warped VRTs" work
they don't support the multiple-sourcing using in other "mosaic VRTs"
so gdalwarp only accepts a single input for output to the .vrt.

You can file an enhancement request on this but I can't say when it will
be acted on.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From RMcCulley at county24.com  Wed Apr 19 11:08:42 2006
From: RMcCulley at county24.com (Rob McCulley)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
Message-ID: <1E095D48112D90428817CB417AECDB620829A8@vermilion.county24.local>

Hi All,

I've got a bunch of .dgn files that are not georeferenced at all (i.e. the center of each file is (0,0)).  Each file corresponds exactly to one township, and I've got a shapefile with all of the townships.  In addition to the survey information, each file contains four points which are the four corners of the township.  The file name of each .dgn file corresponds with the township represented.

I've got a python script that opens the .dgn file, selects the appropriate township from the shapefile depending on the .dgn title, opens a shapefile to output to, and then I'm stumped.  Is it possible to use ogr to georeference this stuff?  I've looked at using a ogr::CoordinateTransform, but I can't figure out what to put as the source srs.

I know Arcview can do what I'm looking for, but it is a tedious manual process called Spatial Adjustment.  I've got 342 .dgn files to work through, so I'm looking to automate the process.

Thanks,
Rob McCulley
GIS Coordinator
County of Vermilion River No. 24
(780) 846-2244
www.vermilion-river.ab.ca


From gyetman at ciesin.columbia.edu  Wed Apr 19 11:18:11 2006
From: gyetman at ciesin.columbia.edu (Gregory Yetman)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GNU Compile of GDAL on Solaris
Message-ID: <444654B3.6010704@ciesin.columbia.edu>

Hi,

I've compiled and used GDAL on cygwin; now I need to set it up on our 
Sun box so we can call it from some scripts. I am novice at GNU
compiling, my apologies in advance if this is a simple question but my 
searches of the list archives haven't turned up anything on the compile
error I've encountered.

Running configure seems to work fine, but when I run gmake I get a 
missing library (math.h):

GNUmakefile:44: warning: overriding commands for target `libgdal.la'
GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
(cd port; gmake)
gmake[1]: Entering directory `/ufs/local1/data/gregy/gdal/gdal-1.3.1/port'
/bin/sh ../libtool --mode=compile g++ -Wall  -O2   -I../port  -c -o
cpl_conv.o cpl_conv.cpp
  g++ -Wall -O2 -I../port -c cpl_conv.cpp  -fPIC -DPIC -o .libs/cpl_conv.o
In file included from cpl_port.h:181,
                  from cpl_conv.h:124,
                  from cpl_conv.cpp:172:
/opt/sfw/lib/gcc-lib/sparc-sun-solaris2.9/2.95.3/include/math.h:5:
math.h: No such file or directory
gmake[1]: *** [cpl_conv.o] Error 1
gmake[1]: Leaving directory `/ufs/local1/data/gregy/gdal/gdal-1.3.1/port'
gmake: *** [port-target] Error 2

I did some digging, apparently the math.h library has been replaced with 
a .so file on Solaris. There is a math.h file in:

/opt/sfw/lib/gcc-lib/sparc-sun-solaris2.9/2.95.3/include/

but it is a wrapper. The contents are:

#ifndef _MATH_H_WRAPPER
#ifdef __cplusplus
# define exception __math_exception
#endif
#include_next <math.h>
#ifdef __cplusplus
# undef exception
#endif
#define _MATH_H_WRAPPER
#endif /* _MATH_H_WRAPPER */

but it's obviously not working.

Any suggestions welcome!

Thanks,

Greg

-- 
--------------------------------------------------------------------
Gregory Yetman
Center for International Earth Science Information Network (CIESIN)
Columbia University
URL: http://www.ciesin.columbia.edu/
e-mail: gyetman (at) ciesin.columbia.edu
--------------------------------------------------------------------



From bfraser at geoanalytic.com  Wed Apr 19 11:23:31 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
References: <1E095D48112D90428817CB417AECDB620829A8@vermilion.county24.local>
Message-ID: <014901c663c5$37255b20$160002c0@shark>

Rob,

  This could get tricky.   Is it just a georeferencing (i.e offset) problem
or a map projection problem as well?   Do you know the map projection of the
DGNs?  And the units (meters, feet, etc)?    You may need to apply a scale
to get the right units for your resulting shapefile, and possibly project
(or warp!) the DGN data into a world coordinate system.

  And there could be some issues with the Township coordinates.  The Alberta
government (and others) has issued different versions of the positions over
the years so the relative positions in the DGNs might not match your
Township shapefile very well.

Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada


----- Original Message ----- 
From: "Rob McCulley" <RMcCulley@county24.com>
To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
Sent: Wednesday, April 19, 2006 9:08 AM
Subject: [Gdal-dev] OGR Georeference


> Hi All,
>
> I've got a bunch of .dgn files that are not georeferenced at all (i.e. the
center of each file is (0,0)).  Each file corresponds exactly to one
township, and I've got a shapefile with all of the townships.  In addition
to the survey information, each fi
> le contains four points which are the four corners of the township.  The
file name of each .dgn file corresponds with the township represented.
>
> I've got a python script that opens the .dgn file, selects the appropriate
township from the shapefile depending on the .dgn title, opens a shapefile
to output to, and then I'm stumped.  Is it possible to use ogr to
georeference this stuff?  I've looked
>  at using a ogr::CoordinateTransform, but I can't figure out what to put
as the source srs.
>
> I know Arcview can do what I'm looking for, but it is a tedious manual
process called Spatial Adjustment.  I've got 342 .dgn files to work through,
so I'm looking to automate the process.
>
> Thanks,
> Rob McCulley
> GIS Coordinator
> County of Vermilion River No. 24
> (780) 846-2244
> www.vermilion-river.ab.ca
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From mhanson at photon.com  Wed Apr 19 12:07:34 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL on Cygwin
References: <0719BE42F22E0A46857DF72644EC5D70278445@pj-exchange.photon.com>
	<931f8ea90604181922v4d339c1fxc56c7eba5754f37c@mail.gmail.com>
Message-ID: <0719BE42F22E0A46857DF72644EC5D70278447@pj-exchange.photon.com>

Sorry I should have said earlier - I did a 'make clean', then 'make'  but still no dice.....let me try....
 
Ok, i deleted the whole directory and started fresh, using internal libs for jpeg, tiff, geotiff, and jasper=no.   It didn't try to register JPEG2000 so either it didn't get there yet OR there is a problem with 'make clean' that isn't removing everything it needs to.
 
 But this time I get another error:
 
Creating library file: .libs/libgdal.dll.a
.libs/libgdal.la-2.o(.text+0x1fa1b8):tif_dirinfo.c: undefined reference to `_lfind'

 
What is _lfind ?   The undefined reference suggests that I have the proper include files (somewhere) but it can't find the library.  Can somemone point me to right lib?
 
-matt
 
 

________________________________

From: fwarmerdam@gmail.com on behalf of Frank Warmerdam
Sent: Tue 4/18/2006 10:22 PM
To: Matt Hanson
Cc: gdal-dev@lists.maptools.org
Subject: Re: [Gdal-dev] GDAL on Cygwin



On 4/18/06, Matt Hanson <mhanson@photon.com> wrote:
> I'm confused....why is it trying to call GDALRegister_JPEG2000   ?
>
> I even tried to remove the jpeg2000 DIRECTORY and it still gave me the error
> /cygdrive/c/GeoServer/gdal-1.3.1/frmts/jpeg2000/jpeg2000dataset.cpp:1188:
> undefined reference
> Now how does it even access a file that is no longer there?

Matt,

You need to do a "make clean".  I built GDAL tonight on cygwin
successfully, but then it was without any options.

Best regards,
--
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060419/4beca9ff/attachment.html
From RMcCulley at county24.com  Wed Apr 19 13:01:13 2006
From: RMcCulley at county24.com (Rob McCulley)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
Message-ID: <1E095D48112D90428817CB417AECDB620829A9@vermilion.county24.local>

After a closer inspection of the files, it appears that there are two types.  The first that I had seen earlier, the center of each file is 0,0 and I have no idea what the units are, something large.  The x range across the entire file is -5.5 to 5.5, and that corresponds to a single township.  My township file was created from the 2005 ATSCOR file available from Altalis, these are almost definately something older.

The second set of files are in some form of UTM projection.  I have no info on them other than what was written on the CD: NAD83 - UTM - Metres.  These are files of pipelines in Alberta, and I've heard that Alberta T & U had a custom projection that they used, but I don't know the specs on it at all.

I've tried setting them as 10TM, but that wasn't right.

Thanks,
Rob

-----Original Message-----
From: Brent Fraser [mailto:bfraser@geoanalytic.com]
Sent: Wednesday, April 19, 2006 9:24 AM
To: Rob McCulley; Gdal (E-mail)
Subject: Re: [Gdal-dev] OGR Georeference


Rob,

  This could get tricky.   Is it just a georeferencing (i.e offset) problem
or a map projection problem as well?   Do you know the map projection of the
DGNs?  And the units (meters, feet, etc)?    You may need to apply a scale
to get the right units for your resulting shapefile, and possibly project
(or warp!) the DGN data into a world coordinate system.

  And there could be some issues with the Township coordinates.  The Alberta
government (and others) has issued different versions of the positions over
the years so the relative positions in the DGNs might not match your
Township shapefile very well.

Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada


----- Original Message ----- 
From: "Rob McCulley" <RMcCulley@county24.com>
To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
Sent: Wednesday, April 19, 2006 9:08 AM
Subject: [Gdal-dev] OGR Georeference


> Hi All,
>
> I've got a bunch of .dgn files that are not georeferenced at all (i.e. the
center of each file is (0,0)).  Each file corresponds exactly to one
township, and I've got a shapefile with all of the townships.  In addition
to the survey information, each fi
> le contains four points which are the four corners of the township.  The
file name of each .dgn file corresponds with the township represented.
>
> I've got a python script that opens the .dgn file, selects the appropriate
township from the shapefile depending on the .dgn title, opens a shapefile
to output to, and then I'm stumped.  Is it possible to use ogr to
georeference this stuff?  I've looked
>  at using a ogr::CoordinateTransform, but I can't figure out what to put
as the source srs.
>
> I know Arcview can do what I'm looking for, but it is a tedious manual
process called Spatial Adjustment.  I've got 342 .dgn files to work through,
so I'm looking to automate the process.
>
> Thanks,
> Rob McCulley
> GIS Coordinator
> County of Vermilion River No. 24
> (780) 846-2244
> www.vermilion-river.ab.ca
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev



From bfraser at geoanalytic.com  Wed Apr 19 13:43:14 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
References: <1E095D48112D90428817CB417AECDB620829A9@vermilion.county24.local>
Message-ID: <01f101c663d8$bc2d02b0$160002c0@shark>

Rob,

Hmm.  A twp is typically about 6 miles / 10 km wide, so I'd guess the units
are kilometers.  If the twp lines are vertical and horizontal in every file,
I'd guess they are each in their own "local" coordinate system (hope not
because that would mean you would have to warp each file).  If the twp lines
in some of the files are rotated slightly (10 degrees or so) then they may
be projected.

The most likely projections are:

UTM - 6 degree zones
10TM - a 10 degree zone for all of Alberta
3TM - 3 degree zones

AltaLIS has a document (global_origin.doc) included with their product
samples(http://www.altalis.com/productsandsamples/Samples/BF_DWG.zip)
listing the various projections (with scale factors, central meridians and
DGN Global Origins).  Of course this is really only for AltaLIS data, but it
may be valid for your data too depending on it's source...

Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada


----- Original Message ----- 
From: "Rob McCulley" <RMcCulley@county24.com>
To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
Sent: Wednesday, April 19, 2006 11:01 AM
Subject: RE: [Gdal-dev] OGR Georeference


> After a closer inspection of the files, it appears that there are two
types.  The first that I had seen earlier, the center of each file is 0,0
and I have no idea what the units are, something large.  The x range across
the entire file is -5.5 to 5.5, a
> nd that corresponds to a single township.  My township file was created
from the 2005 ATSCOR file available from Altalis, these are almost
definately something older.
>
> The second set of files are in some form of UTM projection.  I have no
info on them other than what was written on the CD: NAD83 - UTM - Metres.
These are files of pipelines in Alberta, and I've heard that Alberta T & U
had a custom projection that the
> y used, but I don't know the specs on it at all.
>
> I've tried setting them as 10TM, but that wasn't right.
>
> Thanks,
> Rob
>
> -----Original Message-----
> From: Brent Fraser [mailto:bfraser@geoanalytic.com]
> Sent: Wednesday, April 19, 2006 9:24 AM
> To: Rob McCulley; Gdal (E-mail)
> Subject: Re: [Gdal-dev] OGR Georeference
>
>
> Rob,
>
>   This could get tricky.   Is it just a georeferencing (i.e offset)
problem
> or a map projection problem as well?   Do you know the map projection of
the
> DGNs?  And the units (meters, feet, etc)?    You may need to apply a scale
> to get the right units for your resulting shapefile, and possibly project
> (or warp!) the DGN data into a world coordinate system.
>
>   And there could be some issues with the Township coordinates.  The
Alberta
> government (and others) has issued different versions of the positions
over
> the years so the relative positions in the DGNs might not match your
> Township shapefile very well.
>
> Brent Fraser
> GeoAnalytic Inc
> Calgary, Alberta, Canada
>
>
> ----- Original Message ----- 
> From: "Rob McCulley" <RMcCulley@county24.com>
> To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
> Sent: Wednesday, April 19, 2006 9:08 AM
> Subject: [Gdal-dev] OGR Georeference
>
>
> > Hi All,
> >
> > I've got a bunch of .dgn files that are not georeferenced at all (i.e.
the
> center of each file is (0,0)).  Each file corresponds exactly to one
> township, and I've got a shapefile with all of the townships.  In addition
> to the survey information, each fi
> > le contains four points which are the four corners of the township.  The
> file name of each .dgn file corresponds with the township represented.
> >
> > I've got a python script that opens the .dgn file, selects the
appropriate
> township from the shapefile depending on the .dgn title, opens a shapefile
> to output to, and then I'm stumped.  Is it possible to use ogr to
> georeference this stuff?  I've looked
> >  at using a ogr::CoordinateTransform, but I can't figure out what to put
> as the source srs.
> >
> > I know Arcview can do what I'm looking for, but it is a tedious manual
> process called Spatial Adjustment.  I've got 342 .dgn files to work
through,
> so I'm looking to automate the process.
> >
> > Thanks,
> > Rob McCulley
> > GIS Coordinator
> > County of Vermilion River No. 24
> > (780) 846-2244
> > www.vermilion-river.ab.ca
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From RMcCulley at county24.com  Wed Apr 19 15:03:34 2006
From: RMcCulley at county24.com (Rob McCulley)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
Message-ID: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>

I finally managed to talk to the data provider.  It is a "local" coordinate system per file.  It looks like I need to warp each file.  Any way to do this using ogr?

Thanks,
Rob

-----Original Message-----
From: Brent Fraser [mailto:bfraser@geoanalytic.com]
Sent: Wednesday, April 19, 2006 11:43 AM
To: Rob McCulley; Gdal (E-mail)
Subject: Re: [Gdal-dev] OGR Georeference


Rob,

Hmm.  A twp is typically about 6 miles / 10 km wide, so I'd guess the units
are kilometers.  If the twp lines are vertical and horizontal in every file,
I'd guess they are each in their own "local" coordinate system (hope not
because that would mean you would have to warp each file).  If the twp lines
in some of the files are rotated slightly (10 degrees or so) then they may
be projected.

The most likely projections are:

UTM - 6 degree zones
10TM - a 10 degree zone for all of Alberta
3TM - 3 degree zones

AltaLIS has a document (global_origin.doc) included with their product
samples(http://www.altalis.com/productsandsamples/Samples/BF_DWG.zip)
listing the various projections (with scale factors, central meridians and
DGN Global Origins).  Of course this is really only for AltaLIS data, but it
may be valid for your data too depending on it's source...

Brent Fraser
GeoAnalytic Inc
Calgary, Alberta, Canada


----- Original Message ----- 
From: "Rob McCulley" <RMcCulley@county24.com>
To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
Sent: Wednesday, April 19, 2006 11:01 AM
Subject: RE: [Gdal-dev] OGR Georeference


> After a closer inspection of the files, it appears that there are two
types.  The first that I had seen earlier, the center of each file is 0,0
and I have no idea what the units are, something large.  The x range across
the entire file is -5.5 to 5.5, a
> nd that corresponds to a single township.  My township file was created
from the 2005 ATSCOR file available from Altalis, these are almost
definately something older.
>
> The second set of files are in some form of UTM projection.  I have no
info on them other than what was written on the CD: NAD83 - UTM - Metres.
These are files of pipelines in Alberta, and I've heard that Alberta T & U
had a custom projection that the
> y used, but I don't know the specs on it at all.
>
> I've tried setting them as 10TM, but that wasn't right.
>
> Thanks,
> Rob
>
> -----Original Message-----
> From: Brent Fraser [mailto:bfraser@geoanalytic.com]
> Sent: Wednesday, April 19, 2006 9:24 AM
> To: Rob McCulley; Gdal (E-mail)
> Subject: Re: [Gdal-dev] OGR Georeference
>
>
> Rob,
>
>   This could get tricky.   Is it just a georeferencing (i.e offset)
problem
> or a map projection problem as well?   Do you know the map projection of
the
> DGNs?  And the units (meters, feet, etc)?    You may need to apply a scale
> to get the right units for your resulting shapefile, and possibly project
> (or warp!) the DGN data into a world coordinate system.
>
>   And there could be some issues with the Township coordinates.  The
Alberta
> government (and others) has issued different versions of the positions
over
> the years so the relative positions in the DGNs might not match your
> Township shapefile very well.
>
> Brent Fraser
> GeoAnalytic Inc
> Calgary, Alberta, Canada
>
>
> ----- Original Message ----- 
> From: "Rob McCulley" <RMcCulley@county24.com>
> To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
> Sent: Wednesday, April 19, 2006 9:08 AM
> Subject: [Gdal-dev] OGR Georeference
>
>
> > Hi All,
> >
> > I've got a bunch of .dgn files that are not georeferenced at all (i.e.
the
> center of each file is (0,0)).  Each file corresponds exactly to one
> township, and I've got a shapefile with all of the townships.  In addition
> to the survey information, each fi
> > le contains four points which are the four corners of the township.  The
> file name of each .dgn file corresponds with the township represented.
> >
> > I've got a python script that opens the .dgn file, selects the
appropriate
> township from the shapefile depending on the .dgn title, opens a shapefile
> to output to, and then I'm stumped.  Is it possible to use ogr to
> georeference this stuff?  I've looked
> >  at using a ogr::CoordinateTransform, but I can't figure out what to put
> as the source srs.
> >
> > I know Arcview can do what I'm looking for, but it is a tedious manual
> process called Spatial Adjustment.  I've got 342 .dgn files to work
through,
> so I'm looking to automate the process.
> >
> > Thanks,
> > Rob McCulley
> > GIS Coordinator
> > County of Vermilion River No. 24
> > (780) 846-2244
> > www.vermilion-river.ab.ca
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev



From mhanson at photon.com  Wed Apr 19 15:01:55 2006
From: mhanson at photon.com (Matt Hanson)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] core dump
Message-ID: <0719BE42F22E0A46857DF72644EC5D7027844A@pj-exchange.photon.com>

Ok, there seems to be something with make clean, because it didn't work whereas deleting the directory and starting fresh did work, on two separate instances.
 
Anyway, got gdal installed, then tried running gdalinfo.   Regardless of the arguments, it core dumps every time:
 
assertion "codecs == NULL" failed: file "/usr/src/tiff/tiff-3.7.0beta2/libtiff/tif_compress.c", line 258
Aborted (core dumped)

I had installed the latest version of libtiff but it looks like it's using some other version.  Suggestions?
 
matt
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060419/f1652f3a/attachment.html
From warmerdam at pobox.com  Wed Apr 19 15:24:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] core dump
In-Reply-To: <0719BE42F22E0A46857DF72644EC5D7027844A@pj-exchange.photon.com>
References: <0719BE42F22E0A46857DF72644EC5D7027844A@pj-exchange.photon.com>
Message-ID: <44468E78.3030808@pobox.com>

Matt Hanson wrote:
> Ok, there seems to be something with make clean, because it didn't work 
> whereas deleting the directory and starting fresh did work, on two 
> separate instances.
>  
> Anyway, got gdal installed, then tried running gdalinfo.   Regardless of 
> the arguments, it core dumps every time:
>  
> assertion "codecs == NULL" failed: file 
> "/usr/src/tiff/tiff-3.7.0beta2/libtiff/tif_compress.c", line 258
> Aborted (core dumped)
> I had installed the latest version of libtiff but it looks like it's 
> using some other version.  Suggestions?

Matt,

You might try configuring "--with-libtiff=internal".   Otherwise you may
need to fiddle with the include, and link paths in GDALmake.opt, and
the LD_LIBRARY_PATH environment variable (etc).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From bfraser at geoanalytic.com  Wed Apr 19 16:06:32 2006
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
References: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>
Message-ID: <025701c663ec$c0dcb800$160002c0@shark>

As far as I know OGR has no capability to warp vectors.

One of the big problems is to automatically identify and extract the twp
corners from each of the DGNs (and the shapefile).  It might be "simple" if
they are points on a separate layer.

Then you need to calculate the warp transformations for each file and apply
it to the data in the file.

GlobalMapper (a commercial app) from http://www.globalmapper.com/ MIGHT be
able to calculate and apply the warp (using contol points and the rectify
function) to vector files using it's scripting capability.

Brent


----- Original Message ----- 
From: "Rob McCulley" <RMcCulley@county24.com>
To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
Sent: Wednesday, April 19, 2006 1:03 PM
Subject: RE: [Gdal-dev] OGR Georeference


> I finally managed to talk to the data provider.  It is a "local"
coordinate system per file.  It looks like I need to warp each file.  Any
way to do this using ogr?
>
> Thanks,
> Rob
>
> -----Original Message-----
> From: Brent Fraser [mailto:bfraser@geoanalytic.com]
> Sent: Wednesday, April 19, 2006 11:43 AM
> To: Rob McCulley; Gdal (E-mail)
> Subject: Re: [Gdal-dev] OGR Georeference
>
>
> Rob,
>
> Hmm.  A twp is typically about 6 miles / 10 km wide, so I'd guess the
units
> are kilometers.  If the twp lines are vertical and horizontal in every
file,
> I'd guess they are each in their own "local" coordinate system (hope not
> because that would mean you would have to warp each file).  If the twp
lines
> in some of the files are rotated slightly (10 degrees or so) then they may
> be projected.
>
> The most likely projections are:
>
> UTM - 6 degree zones
> 10TM - a 10 degree zone for all of Alberta
> 3TM - 3 degree zones
>
> AltaLIS has a document (global_origin.doc) included with their product
> samples(http://www.altalis.com/productsandsamples/Samples/BF_DWG.zip)
> listing the various projections (with scale factors, central meridians and
> DGN Global Origins).  Of course this is really only for AltaLIS data, but
it
> may be valid for your data too depending on it's source...
>
> Brent Fraser
> GeoAnalytic Inc
> Calgary, Alberta, Canada
>
>
> ----- Original Message ----- 
> From: "Rob McCulley" <RMcCulley@county24.com>
> To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
> Sent: Wednesday, April 19, 2006 11:01 AM
> Subject: RE: [Gdal-dev] OGR Georeference
>
>
> > After a closer inspection of the files, it appears that there are two
> types.  The first that I had seen earlier, the center of each file is 0,0
> and I have no idea what the units are, something large.  The x range
across
> the entire file is -5.5 to 5.5, a
> > nd that corresponds to a single township.  My township file was created
> from the 2005 ATSCOR file available from Altalis, these are almost
> definately something older.
> >
> > The second set of files are in some form of UTM projection.  I have no
> info on them other than what was written on the CD: NAD83 - UTM - Metres.
> These are files of pipelines in Alberta, and I've heard that Alberta T & U
> had a custom projection that the
> > y used, but I don't know the specs on it at all.
> >
> > I've tried setting them as 10TM, but that wasn't right.
> >
> > Thanks,
> > Rob
> >
> > -----Original Message-----
> > From: Brent Fraser [mailto:bfraser@geoanalytic.com]
> > Sent: Wednesday, April 19, 2006 9:24 AM
> > To: Rob McCulley; Gdal (E-mail)
> > Subject: Re: [Gdal-dev] OGR Georeference
> >
> >
> > Rob,
> >
> >   This could get tricky.   Is it just a georeferencing (i.e offset)
> problem
> > or a map projection problem as well?   Do you know the map projection of
> the
> > DGNs?  And the units (meters, feet, etc)?    You may need to apply a
scale
> > to get the right units for your resulting shapefile, and possibly
project
> > (or warp!) the DGN data into a world coordinate system.
> >
> >   And there could be some issues with the Township coordinates.  The
> Alberta
> > government (and others) has issued different versions of the positions
> over
> > the years so the relative positions in the DGNs might not match your
> > Township shapefile very well.
> >
> > Brent Fraser
> > GeoAnalytic Inc
> > Calgary, Alberta, Canada
> >
> >
> > ----- Original Message ----- 
> > From: "Rob McCulley" <RMcCulley@county24.com>
> > To: "Gdal (E-mail)" <gdal-dev@lists.maptools.org>
> > Sent: Wednesday, April 19, 2006 9:08 AM
> > Subject: [Gdal-dev] OGR Georeference
> >
> >
> > > Hi All,
> > >
> > > I've got a bunch of .dgn files that are not georeferenced at all (i.e.
> the
> > center of each file is (0,0)).  Each file corresponds exactly to one
> > township, and I've got a shapefile with all of the townships.  In
addition
> > to the survey information, each fi
> > > le contains four points which are the four corners of the township.
The
> > file name of each .dgn file corresponds with the township represented.
> > >
> > > I've got a python script that opens the .dgn file, selects the
> appropriate
> > township from the shapefile depending on the .dgn title, opens a
shapefile
> > to output to, and then I'm stumped.  Is it possible to use ogr to
> > georeference this stuff?  I've looked
> > >  at using a ogr::CoordinateTransform, but I can't figure out what to
put
> > as the source srs.
> > >
> > > I know Arcview can do what I'm looking for, but it is a tedious manual
> > process called Spatial Adjustment.  I've got 342 .dgn files to work
> through,
> > so I'm looking to automate the process.
> > >
> > > Thanks,
> > > Rob McCulley
> > > GIS Coordinator
> > > County of Vermilion River No. 24
> > > (780) 846-2244
> > > www.vermilion-river.ab.ca
> > >
> > > _______________________________________________
> > > Gdal-dev mailing list
> > > Gdal-dev@lists.maptools.org
> > > http://lists.maptools.org/mailman/listinfo/gdal-dev
> >
> >
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/gdal-dev
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Wed Apr 19 16:09:37 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
In-Reply-To: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>
References: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>
Message-ID: <44469901.4050608@pobox.com>

Rob McCulley wrote:
> I finally managed to talk to the data provider.  It is a "local" 
 > coordinate system per file.  It looks like I need to warp each file.
 > Any way to do this using ogr?

Rob,

There isn't any canned approach to this in OGR.  You could write a
customized version of ogr2ogr that applies your transformation likely
using the GDALGCPTransformer for mapping between your local coordinate
system and a projected coordinate system.  In theory you could also
implement a python script to do this, but then you would be on your own
to do the actual transformation calculation.  If you wanted to take that
approach you could look at:

  http://www.gdal.org/srctree/pymod/samples/vec_tr.py

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From carlos.garcia at sigtech-co.com  Wed Apr 19 16:34:36 2006
From: carlos.garcia at sigtech-co.com (CARLOS GARCIA)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] pluggins
In-Reply-To: <025701c663ec$c0dcb800$160002c0@shark>
Message-ID: <200604192034.k3JKYkHx004505@ns-omrbm3.netsolmail.com>

Dear Gdal-dev

Recently I read about the ogr pluggins for ArcSDE and Oracle spatial format.
My question is about how can I compile this pluggins (I thing that I can do
that (make the dll's)) and once compiled how can I use?

Regards

Carlos Garcia





From matt.wilkie at gov.yk.ca  Wed Apr 19 16:39:44 2006
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] $ to apply CorMat to vector data
Message-ID: <4446A010.3090202@gov.yk.ca>

Dear GDAL/OGR Developers,

I'm soliciting time & price estimates to develop a program to apply the 
NTDB Correction Matrices (CORMAT) to our vector data.

CORMAT is a product derived from the planimetric enhancement of NTDB 
data sets at the 1:50 000 scale. The correction matrices enable users to 
enhance the geometric accuracy of the less accurate NTDB.

Each matrix consists of a set of points arrayed on a regular 100-metre 
grid. Each point describes the planimetric correction (DX, DY) to be 
applied at this location. The position of the points is given in UTM 
(Universal Transverse Mercator) coordinates based on the North American 
Datum of 1983 (NAD83). Each file constitutes a rectangular area covering 
the entire corresponding NTDB data set. Its delimitation corresponds 
more or less to National Topographic System (NTS) divisions at the 1:50 
000 scale.

For detailed specification and sample implementation algorithm see
http://tinyurl.com/avupo (goes to
http://www.cits.rncan.gc.ca/cit/servlet/CIT/site_id=01&page_id=1-005-002-010.html) 



I asked Frank Warmerdam about developing a CorMat program. He has too 
many irons in the fire to do it himself but is confident gdal/ogr can do 
it, and that it would be *really* handy if the cormat data was in the 
same format as NTv2 datum shift info.

Basically what I want is a program I can shove a shapefile (or coverage, 
geodatabase, etc.) at and have it spit back out a corrected one. It 
needs to be script friendly -- I have over 9 thousand files to throw at 
it and I'd prefer if it ran on windows.


Also see http://yukongis.ca/bin/view/Main/CorMat


-- 
matt wilkie
--------------------------------------------
Geographic Information,
Information Management and Technology,
Yukon Department of Environment
10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
867-667-8133 Tel * 867-393-7003 Fax
http://environmentyukon.gov.yk.ca/geomatics/
--------------------------------------------


From warmerdam at pobox.com  Wed Apr 19 18:36:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] pluggins
In-Reply-To: <200604192034.k3JKYkHx004505@ns-omrbm3.netsolmail.com>
References: <200604192034.k3JKYkHx004505@ns-omrbm3.netsolmail.com>
Message-ID: <4446BB5B.1090709@pobox.com>

CARLOS GARCIA wrote:
> Dear Gdal-dev
> 
> Recently I read about the ogr pluggins for ArcSDE and Oracle spatial format.
> My question is about how can I compile this pluggins (I thing that I can do
> that (make the dll's)) and once compiled how can I use?

Carlos,

What have you tried so far?  What problems did you encounter?  What platform
are you on?

If you have built GDAL/OGR from source before, then adding SDE and Oracle
support requires editing the nmake.opt and uncommenting the relativent
items, adjusting paths and so forth.

This approach is to build-in the support.   If you want to build SDE and
Oracle support as plugins, the process is substantially more involved.
Howard Butler has already addressed this issue in his buildkit, so you might
want to look at that.  Otherwise you might need to fiddle around a bunch.

I think the Oracle driver has a plugin.bat that you can edit and use to
build it.  The SDE driver has a "ogr_SDE.dll" target you can use to build
it.  With the nmakefile you would still need to have fixedup the nmake.opt
appropriately.

Basically plugin building is not standardized, so it tends to be a hassle.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hobu at iastate.edu  Wed Apr 19 18:45:49 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] pluggins
In-Reply-To: <4446BB5B.1090709@pobox.com>
References: <200604192034.k3JKYkHx004505@ns-omrbm3.netsolmail.com>
	<4446BB5B.1090709@pobox.com>
Message-ID: <6.2.3.4.2.20060419174211.02bef6b8@hobu.mail.iastate.edu>

Carlos,

The latest MS4W <http://www.maptools.org/ms4w/> has the OCI and SDE 
(as well as MrSID) plugins already built.  OCI is against 10g and SDE 
is against 9.1, IIRC.  You will need the SDKs that match to be able 
to use them.

Otherwise, you can download the buildkit at 
<http://hobu.stat.iastate.edu/mapserver/build_output/mapserver-4.8.3-msvc71-build-kit.zip> 
(Warning 310mb!), go into the GDAL directory and edit nmake.opt to 
match your setup, and then do a normal make for gdal.

Howard

At 05:36 PM 4/19/2006, Frank Warmerdam wrote:
>CARLOS GARCIA wrote:
>>Dear Gdal-dev
>>Recently I read about the ogr pluggins for ArcSDE and Oracle spatial format.
>>My question is about how can I compile this pluggins (I thing that I can do
>>that (make the dll's)) and once compiled how can I use?
>
>Carlos,
>
>What have you tried so far?  What problems did you encounter?  What platform
>are you on?
>
>If you have built GDAL/OGR from source before, then adding SDE and Oracle
>support requires editing the nmake.opt and uncommenting the relativent
>items, adjusting paths and so forth.
>
>This approach is to build-in the support.   If you want to build SDE and
>Oracle support as plugins, the process is substantially more involved.
>Howard Butler has already addressed this issue in his buildkit, so you might
>want to look at that.  Otherwise you might need to fiddle around a bunch.
>
>I think the Oracle driver has a plugin.bat that you can edit and use to
>build it.  The SDE driver has a "ogr_SDE.dll" target you can use to build
>it.  With the nmakefile you would still need to have fixedup the nmake.opt
>appropriately.
>
>Basically plugin building is not standardized, so it tends to be a hassle.
>
>Best regards,
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | President OSGF, http://osgeo.org
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From rec at geodesign.com.br  Wed Apr 19 19:26:58 2006
From: rec at geodesign.com.br (Reinaldo Escada Chohfi)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] gdalwarp -srcnodata Question
Message-ID: <6.2.1.2.0.20060419202639.01cb8f50@mailhost.geodesign.com.br>

List,

If I specify

-scrnodata 0 in gdalwarp will it perform transparency on RGB when the pixel 
values on all 3 bands are equal to 0 (R=0, G=0, B=0), or whenever it finds 
a pixel value of 0 on any of the bands performing transparency on those 
bands? or

do I need to specify

-scrnodata "0 0 0" in order to get transparency only when the pixel values 
of all 3 bands are equal to 0  (R=0, G=0, B=0)?

Thanks in advance for the help.

Reinaldo

rec@geodesign.com.br
www.geodesign.com.br  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060419/233cb0df/attachment.html
From perrygeo at gmail.com  Wed Apr 19 20:58:01 2006
From: perrygeo at gmail.com (Matthew Perry)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
In-Reply-To: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>
References: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>
Message-ID: <5383fa5e0604191758r2ea9deb3naa7b769a4ac44415@mail.gmail.com>

On 4/19/06, Rob McCulley <RMcCulley@county24.com> wrote:
> I finally managed to talk to the data provider.  It is a "local" coordinate system per file.  It looks like I need to warp each file.  Any way to do this using ogr?

Another possibility, if you have a layer in the "proper" coordinate
system to which you could match ground control points, is to use the
Warping tool in OpenJump ( http://openjump.org/ ). It allows you to
graphically create warping vectors between control points and apply an
affine transformation.
--
Matt Perry
perrygeo@gmail.com
http://www.perrygeo.net


From abhay.menon at gmail.com  Thu Apr 20 01:20:47 2006
From: abhay.menon at gmail.com (abhay menon)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] problem in gdal-1.3.1 - FC4
Message-ID: <7a30cd70604192220x5b5e434bya9dabf88417b8076@mail.gmail.com>

Hello List,

I am facing a problem in gdal-1.3.1 in Linux FC4 it is unable to understand
AAIGrid/Arc/Info ASCII Grid Raster file which is of size greater than or
equal to 2gb.

I had compiled the code in  linux with following way.

with standard steps.
# ./configure
# make
# make install
when I try to use gdalinfo to view the details about the dataset greater
than 2 gb it fails.


*"ERROR 4: `/root/spearfish60/PERMANENT/cell/aoim.asc' not recognised as a
supported file format.*

*GDALOpen failed - 4
`/root/spearfish60/PERMANENT/cell/aoim.asc' not recognised as a supported
file format."
*

Where as the file which less than 2gb of the same format is able give the
desired output.

*Driver: AAIGrid/Arc/Info ASCII Grid
Size is 15215, 13593
Coordinate System is `'
Origin = (4170300.000000,3373325.000000)
Pixel Size = (25.00000000,-25.00000000)
Corner Coordinates:
Upper Left  ( 4170300.000, 3373325.000)
Lower Left  ( 4170300.000, 3033500.000)
Upper Right ( 4550675.000, 3373325.000)
Lower Right ( 4550675.000, 3033500.000)
Center      ( 4360487.500, 3203412.500)
Band 1 Block=15215x1 Type=Int16, ColorInterp=Undefined
  NoData Value=-9999*

I am trying to compile gdal-1.3.1 code for the same, is there any additional
library to be linked so that gdal support AAIGrid/Arc/Info ASCII Grid
Raster file >=2gb.

Also, when I installed FWTool for the same the it work for >=2gb size. but
since I need to compile this code for adding some more file support. I am
unable to do so..

Please let me know if there is something I missed while compilation of the
code.

--
Best Regrads

Abhay Menon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060420/d2f29ca0/attachment.html
From warmerdam at pobox.com  Thu Apr 20 01:39:35 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] problem in gdal-1.3.1 - FC4
In-Reply-To: <7a30cd70604192220x5b5e434bya9dabf88417b8076@mail.gmail.com>
References: <7a30cd70604192220x5b5e434bya9dabf88417b8076@mail.gmail.com>
Message-ID: <44471E97.5010501@pobox.com>

abhay menon wrote:
> Also, when I installed FWTool for the same the it work for >=2gb size. 
> but since I need to compile this code for adding some more file support. 
> I am unable to do so..

Abhay,

Support for large ascii grid files was added after GDAL 1.3.1 was released.

I would suggest you try the GDAL 1.3.2b1 source tarball at:

   http://www.gdal.org/dl/gdal-1.3.2b1.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From H.Porath at hzd.hessen.de  Thu Apr 20 02:51:26 2006
From: H.Porath at hzd.hessen.de (H.Porath@hzd.hessen.de)
Date: Wed Nov 21 11:50:06 2007
Subject: AW: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
Message-ID: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE79@srvhzdexc095.hzd.hessen.de>

Hi Christian,
 
we did not have this error. For me it looks like the GNUMakefile in swig/python/ is not correct. I remember we had a similar problem using the --with-perl option. Thats why we did not use it. The next issue was that make stopped because of an error in swig/python/setyp.py. After deletion of "debug=1" in the header of the setup-function within make went on. Sorry I could not be of more help.
 

Regards

Holger  

-----Urspr?ngliche Nachricht-----
Von: Christian Schaffer [mailto:christian.schaffer@muenchen.de] 
Gesendet: Mittwoch, 19. April 2006 15:05
An: Porath, Holger (HZD)
Cc: gdal-dev@lists.maptools.org
Betreff: Re: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC



	Hi Holger,
	
	thanks for the hint.
	I edited my GDALmake.opt to BINDINGS = python. It looks like, I?m getting a little further, but unfortunately build failed again.
	The error message reads:
	(cd .libs && rm -f _gdalmodule.la && ln -s ../_gdalmodule.la _gdalmodule.la)
	gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/pymod'
	(cd swig; gmake build)
	gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
	for dir in python ; do (cd $dir; make build ); done
	make[2]: Entering directory `/ra1/build/gdal-1.3.1/swig/python'
	make: Fatal error: Don't know how to make target `build'
	Current working directory /ra1/build/gdal-1.3.1/swig/python
	gmake[1]: *** [build] Error 1
	gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
	gmake: *** [swig-target] Error 2
	
	I then added the --with-ngpython line to my configure statement which also gives a BINDINGS = python in the GDALmake.opt, and also tried the --with-perl option. Unfortunately no success either.
	
	That?s how my configure statement looks like:
	./configure \
	--with-gif=internal     \
	--with-jpeg=internal    \
	--with-geotiff=internal \
	--with-libtiff=internal \
	--with-libz=internal    \
	--with-perl \
	--with-oci=/opt/oracle/product/10.1.0/db_1 \
	LDFLAGS=-L/opt/oracle/product/10.1.0/db_1/lib32
	
	So nothing special, actually. I?d be glad if you had any further hints on this issue.
	
	Thanks once again.
	Regards,
	Christian
	
	
	H.Porath@hzd.hessen.de schrieb: 

		Hi Christian,
		 
		we had the same problem on Solaris 8 SPARC and solved it by inserting "python" in the GDALmake.opt, so it was reading:
		BINDINGS    =    python
		 
		Of course you can choose a different "swig"-dir, e.g. perl. 
		 
		Hope this helps.
		 
		Regards

		Holger   

		 

		-----Urspr?ngliche Nachricht-----
		Von: gdal-dev-bounces@lists.maptools.org [mailto:gdal-dev-bounces@lists.maptools.org] Im Auftrag von Christian Schaffer
		Gesendet: Dienstag, 18. April 2006 14:00
		An: gdal-dev@lists.maptools.org
		Betreff: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
		
		

			Hi List,
			
			using GNU tools, I?m experiencing problems building GDAL on Solaris 9 (SPARC).
			Configure runs as expected, but make stops with the following error:
			
			(...)
			(cd swig; gmake build)
			gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
			for dir in ; do (cd $dir; make build ); done
			/bin/sh: syntax error at line 1: `;' unexpected
			gmake[1]: *** [build] Error 2
			gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
			gmake: *** [swig-target] Error 2
			
			Looking into GDALmake.opt, it says:
			(...)
			# Next Generation SWIG bindings
			BINDINGS        =       
			(...)
			
			Is there anything, I might be doing the wrong way?
			
			Thanks in advance for helping.
			Best regards,
			Christian
			

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060420/1c3f7389/attachment.html
From rayg at daylongraphics.com  Thu Apr 20 03:57:46 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Terragen GDAL driver update
In-Reply-To: <44473B45.4000703@chromesites.de>
References: <BAY106-F1A548C5B2DDCBDA6F0ED1CDC50@phx.gbl>
	<44473B45.4000703@chromesites.de>
Message-ID: <44473EFA.6000608@daylongraphics.com>

My GDAL driver for the Terragen terrain file format has been updated to 
version 1.1.

http://www.daylongraphics.com/products/leveller/download/gdal_driver_terragen.zip

TER files can be written using the Create() call. The protocol to ensure 
data accuracy involves some options and using certain dataset/band 
methods; please see the included documentation for more info.

Ray Gardener
Daylon Graphics Ltd.


From Paolo.Prosperi at fao.org  Thu Apr 20 04:20:39 2006
From: Paolo.Prosperi at fao.org (Prosperi, Paolo (SDRN))
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] writing to GRID
Message-ID: <5290E77B1FE2FE40B82AA54158825F06035EDA15@hqosex01.fao.org>

Hi all.
I'm a newbie of GDAL and surely NOT a programmer.
The standard executable of GDAL 1.3.1 works smoothly on my windows 2000
platform until I try to write to esri grid formats.

In particular, when I use the command gdal_merge and the AAIGrid output
format:

gdal_merge -o my-path\my-grid -of AAIGrid -n 0 my-image1 my-image2

I get as error:


ERROR 6: GDALDriver::Create() ... no create method implemented for this
format.

Traceback (most recent call last):
	File "C:\Programs\FWTools\bin\gdal_merge.py", line 450, in ?
	 t_fh.SetGeoTransform( geotransform )
AttributeError: 'NoneType' object has no attribute 'SetGeoTransform'



Instead, if I try to use the GIO driver:

gdal_merge -o %path%\my-image -of GIO -n 0 my-image1 my-image2

I simply get:

Format driver GIO not found, pick a supported driver.

The question is:
given I haven't got a clue on how to compile GDAL from source, is anybody so
kind to pass me a windows executable version of GDAL with working GIO/AAIGrid
driver?
Dummy-like directions (or links to appropriate web sites) on how to compile
would also do and be very much appreciated.

Thanks very much,
Paolo P.

From neteler at itc.it  Thu Apr 20 06:01:00 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OGR Georeference
In-Reply-To: <5383fa5e0604191758r2ea9deb3naa7b769a4ac44415@mail.gmail.com>
References: <1E095D48112D90428817CB417AECDB62025C3A@vermilion.county24.local>
	<5383fa5e0604191758r2ea9deb3naa7b769a4ac44415@mail.gmail.com>
Message-ID: <20060420100100.GB17220@bartok.itc.it>

On Wed, Apr 19, 2006 at 05:58:01PM -0700, Matthew Perry wrote:
> On 4/19/06, Rob McCulley <RMcCulley@county24.com> wrote:
> > I finally managed to talk to the data provider.  It is a "local" coordinate system per file.  It looks like I need to warp each file.  Any way to do this using ogr?
> 
> Another possibility, if you have a layer in the "proper" coordinate
> system to which you could match ground control points, is to use the
> Warping tool in OpenJump ( http://openjump.org/ ). It allows you to
> graphically create warping vectors between control points and apply an
> affine transformation.

Just for the record:
The same thing you can do with GRASS - see
http://grass.itc.it/grass61/manuals/html61_user/projectionintro.html
-> v.transform

Markus

From warmerdam at pobox.com  Thu Apr 20 10:04:40 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] writing to GRID
In-Reply-To: <5290E77B1FE2FE40B82AA54158825F06035EDA15@hqosex01.fao.org>
References: <5290E77B1FE2FE40B82AA54158825F06035EDA15@hqosex01.fao.org>
Message-ID: <444794F8.7080903@pobox.com>

Prosperi, Paolo (SDRN) wrote:
> Hi all.
> I'm a newbie of GDAL and surely NOT a programmer.
> The standard executable of GDAL 1.3.1 works smoothly on my windows 2000
> platform until I try to write to esri grid formats.
> 
> In particular, when I use the command gdal_merge and the AAIGrid output
> format:
> 
> gdal_merge -o my-path\my-grid -of AAIGrid -n 0 my-image1 my-image2
> 
> I get as error:
> 
> 
> ERROR 6: GDALDriver::Create() ... no create method implemented for this
> format.
> 
> Traceback (most recent call last):
> 	File "C:\Programs\FWTools\bin\gdal_merge.py", line 450, in ?
> 	 t_fh.SetGeoTransform( geotransform )
> AttributeError: 'NoneType' object has no attribute 'SetGeoTransform'

Paolo,

I have added some error checking in gdal_merge.py to report this failure
more nicely.

> Instead, if I try to use the GIO driver:
> 
> gdal_merge -o %path%\my-image -of GIO -n 0 my-image1 my-image2
> 
> I simply get:
> 
> Format driver GIO not found, pick a supported driver.

Right.  In fact the GIO driver has been removed since 1.3.1 since it hardly
ever works properly.

> The question is:
> given I haven't got a clue on how to compile GDAL from source, is anybody so
> kind to pass me a windows executable version of GDAL with working GIO/AAIGrid
> driver?

You will just need to merge the file to a format that supports
direct creation and random writing such as GeoTIFF (driver name GTIFF) or
Erdas Imagine (driver name HFA).  Then use gdal_translate to convert to
AAIGRID.   Some drivers, such as the AAIGRID driver can only operate by
copying from a preexisting file.

eg.
   gdal_merge -o work.tif -n 0 my-image1 my-image2
   gdal_translate -of AAIGRID work.tif my.grd

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From andrey.kiselev at gmail.com  Thu Apr 20 10:21:58 2006
From: andrey.kiselev at gmail.com (Andrey Kiselev)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] RFC 1 : Project Management Committee Guidelines
In-Reply-To: <443D5499.1030100@pobox.com>
References: <443D5499.1030100@pobox.com>
Message-ID: <29bcc0df0604200721y67e8aa31x462de041069f978e@mail.gmail.com>

On 4/12/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> This is my formal proposal of RFC 1 defining operation of the GDAL/OGR
> Project Management Committee.  I am looking for a +1 from each of the
> initial proposed members of the PMC (Daniel, Andrey and Howard!).
>
>    http://www.gdal.org/rfc1_pmc.html

+1

Best regards,
Andrey

--
Andrey V. Kiselev
ICQ# 26871517


From hobu at iastate.edu  Thu Apr 20 11:10:48 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] RFC 1 : Project Management Committee Guidelines
In-Reply-To: <29bcc0df0604200721y67e8aa31x462de041069f978e@mail.gmail.co
 m>
References: <443D5499.1030100@pobox.com>
	<29bcc0df0604200721y67e8aa31x462de041069f978e@mail.gmail.com>
Message-ID: <6.2.3.4.2.20060420101012.01e348f8@hobu.mail.iastate.edu>

+1 from me.  Thanks for the burd^H^H^H^H honor :)

Howard

At 09:21 AM 4/20/2006, Andrey Kiselev wrote:
>On 4/12/06, Frank Warmerdam <warmerdam@pobox.com> wrote:
> > This is my formal proposal of RFC 1 defining operation of the GDAL/OGR
> > Project Management Committee.  I am looking for a +1 from each of the
> > initial proposed members of the PMC (Daniel, Andrey and Howard!).
> >
> >    http://www.gdal.org/rfc1_pmc.html
>
>+1
>
>Best regards,
>Andrey
>
>--
>Andrey V. Kiselev
>ICQ# 26871517
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From Peter.Rushforth at statcan.ca  Thu Apr 20 14:58:48 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7DF5@stcem04.statcan.ca>

Hi,  

Newbie in need of help!

I could only find a linux and windows binary version, so I 
am trying to build gdal on solaris.

All I really need is the ogr2ogr utility.  I started the build 
process ok, it ran for a while, but it seems the oci.h file is
not found, terminating the build process.  Question is, how to
get this train back on the rails?

Any help appreciated.

Cheers,
Peter

make[3]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr/ogrsf_frmts/csv'
make -C oci
make[3]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr/ogrsf_frmts/oci'
/bin/sh ../../../libtool --mode=compile g++ -Wall  -O2   -I.. -I../..  -I../../../port  -c -o ../o/oci_utils.o oci_utils.cpp
 g++ -Wall -O2 -I.. -I../.. -I../../../port -c oci_utils.cpp  -fPIC -DPIC -o ../o/.libs/oci_utils.o
In file included from oci_utils.cpp:39:
ogr_oci.h:100:17: oci.h: No such file or directory
In file included from oci_utils.cpp:39:
ogr_oci.h:111: error: `OCINumber' does not name a type
ogr_oci.h:112: error: `OCINumber' does not name a type
ogr_oci.h:113: error: `OCINumber' does not name a type
ogr_oci.h:116: error: `OCIArray' does not name a type
ogr_oci.h:117: error: `OCIArray' does not name a type
ogr_oci.h:121: error: `OCINumber' does not name a type
ogr_oci.h:122: error: `OCINumber' does not name a type
ogr_oci.h:124: error: ISO C++ forbids declaration of `OCIArray' with no type
ogr_oci.h:124: error: expected `;' before '*' token
ogr_oci.h:125: error: ISO C++ forbids declaration of `OCIArray' with no type
ogr_oci.h:125: error: expected `;' before '*' token
ogr_oci.h:130: error: `OCIInd' does not name a type
ogr_oci.h:131: error: `OCIInd' does not name a type
ogr_oci.h:132: error: `OCIInd' does not name a type
ogr_oci.h:133: error: `OCIInd' does not name a type
ogr_oci.h:138: error: `OCIInd' does not name a type
ogr_oci.h:139: error: `OCIInd' does not name a type
ogr_oci.h:140: error: `OCIInd' does not name a type
ogr_oci.h:142: error: `OCIInd' does not name a type
ogr_oci.h:143: error: `OCIInd' does not name a type
ogr_oci.h:161: error: ISO C++ forbids declaration of `OCIEnv' with no type
ogr_oci.h:161: error: expected `;' before '*' token
ogr_oci.h:162: error: ISO C++ forbids declaration of `OCIError' with no type
ogr_oci.h:162: error: expected `;' before '*' token
ogr_oci.h:163: error: ISO C++ forbids declaration of `OCISvcCtx' with no type
ogr_oci.h:163: error: expected `;' before '*' token
ogr_oci.h:164: error: ISO C++ forbids declaration of `OCIDescribe' with no type
ogr_oci.h:164: error: expected `;' before '*' token
ogr_oci.h:165: error: ISO C++ forbids declaration of `OCIType' with no type
ogr_oci.h:165: error: expected `;' before '*' token
ogr_oci.h:166: error: ISO C++ forbids declaration of `OCIType' with no type
ogr_oci.h:166: error: expected `;' before '*' token
ogr_oci.h:167: error: ISO C++ forbids declaration of `OCIType' with no type
ogr_oci.h:167: error: expected `;' before '*' token
ogr_oci.h:181: error: expected `;' before '(' token
ogr_oci.h:183: error: expected `;' before '(' token
ogr_oci.h:188: error: ISO C++ forbids declaration of `OCIType' with no type
ogr_oci.h:188: error: expected `;' before '*' token
ogr_oci.h:207: error: ISO C++ forbids declaration of `OCIStmt' with no type
ogr_oci.h:207: error: expected `;' before '*' token
ogr_oci.h:208: error: expected `;' before "CPLErr"
ogr_oci.h:210: error: `sb2' has not been declared
ogr_oci.h:210: error: ISO C++ forbids declaration of `paeInd' with no type
ogr_oci.h:212: error: `OCIType' has not been declared
ogr_oci.h:212: error: ISO C++ forbids declaration of `hTDO' with no type
ogr_oci.h:227: error: ISO C++ forbids declaration of `OCIStmt' with no type
ogr_oci.h:227: error: expected `;' before '*' token
ogr_oci.h:233: error: ISO C++ forbids declaration of `sb2' with no type
ogr_oci.h:233: error: expected `;' before '*' token
ogr_oci.h:462: error: ISO C++ forbids declaration of `OCIArray' with no type
ogr_oci.h:462: error: expected `;' before '*' token
ogr_oci.h:463: error: ISO C++ forbids declaration of `OCIArray' with no type
ogr_oci.h:463: error: expected `;' before '*' token
ogr_oci.h:480: error: ISO C++ forbids declaration of `OCIInd' with no type
ogr_oci.h:480: error: expected `;' before '*' token
make[3]: *** [../o/oci_utils.o] Error 1
make[3]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr/ogrsf_frmts/oci'
make[2]: *** [oci-target] Error 2
make[2]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr/ogrsf_frmts'
make[1]: *** [sublibs] Error 2
make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr'
make: *** [ogr-target] Error 2
bilbo{rushpet}49: 

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6
 


From warmerdam at pobox.com  Thu Apr 20 15:33:05 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7DF5@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7DF5@stcem04.statcan.ca>
Message-ID: <4447E1F1.3060208@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> Hi,  
> 
> Newbie in need of help!
> 
> I could only find a linux and windows binary version, so I 
> am trying to build gdal on solaris.
> 
> All I really need is the ogr2ogr utility.  I started the build 
> process ok, it ran for a while, but it seems the oci.h file is
> not found, terminating the build process.  Question is, how to
> get this train back on the rails?

Peter,

Try configuring "--without-oci".

It seems configure discovered you had oracle, but at build time it
can't find some required stuff.

If you need oracle then you may need to fiddle include paths in
GDALmake.opt.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Thu Apr 20 21:38:47 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7DF7@stcem04.statcan.ca>

Hi Frank,

That seemed the fix for that issue, now another:

make[2]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr/ogrsf_frmts'
/bin/sh ../libtool --mode=compile g++ -Wall  -O2   -Iogrsf_frmts -I. -I../port -I../gcore -I../alg -I../ogr -I../ogr/ogrsf_frmts   -DHAVE_GEOS=1 -I/usr3/pkg4/OpenEV_FW_Tree/FWTools/include -I../port  -c -o ogrgeometryfactory.o ogrgeometryfactory.cpp
mkdir .libs
 g++ -Wall -O2 -Iogrsf_frmts -I. -I../port -I../gcore -I../alg -I../ogr -I../ogr/ogrsf_frmts -DHAVE_GEOS=1 -I/usr3/pkg4/OpenEV_FW_Tree/FWTools/include -I../port -c ogrgeometryfactory.cpp  -fPIC -DPIC -o .libs/ogrgeometryfactory.o
In file included from ogrgeometryfactory.cpp:118:
ogr_geos.h:41:25: geos/geom.h: No such file or directory
ogr_geos.h:42:23: geos/io.h: No such file or directory
ogr_geos.h:43:25: geos/util.h: No such file or directory
ogrgeometryfactory.cpp: In static member function `static OGRGeometry* OGRGeometryFactory::createFromGEOS(const geos::Geometry*)':
ogrgeometryfactory.cpp:827: error: `WKTWriter' is not a member of `geos'
ogrgeometryfactory.cpp:827: error: expected `;' before "oWKTWriter"
ogrgeometryfactory.cpp:832: error: `oWKTWriter' undeclared (first use this function)
ogrgeometryfactory.cpp:832: error: (Each undeclared identifier is reported only once for each function it appears in.)
ogrgeometryfactory.cpp:834: error: `geos::GEOSException' has not been declared
ogrgeometryfactory.cpp:834: error: invalid catch parameter
ogrgeometryfactory.cpp:838: error: `e' undeclared (first use this function)
ogrgeometryfactory.cpp: In static member function `static geos::GeometryFactory* OGRGeometryFactory::getGEOSGeometryFactory()':
ogrgeometryfactory.cpp:871: error: invalid use of undefined type `struct geos::GeometryFactory'
ogr_geometry.h:234: error: forward declaration of `struct geos::GeometryFactory'
make[1]: *** [ogrgeometryfactory.o] Error 1
make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr'
make: *** [ogr-target] Error 2

Thanks for any help,


Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf 
> Of Frank Warmerdam
> Sent: April 20, 2006 3:33 PM
> To: Peter.Rushforth@statcan.ca
> Cc: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] building gdal on solaris
> 
> 
> Peter.Rushforth@statcan.ca wrote:
> > Hi,
> > 
> > Newbie in need of help!
> > 
> > I could only find a linux and windows binary version, so I
> > am trying to build gdal on solaris.
> > 
> > All I really need is the ogr2ogr utility.  I started the build
> > process ok, it ran for a while, but it seems the oci.h file is
> > not found, terminating the build process.  Question is, how to
> > get this train back on the rails?
> 
> Peter,
> 
> Try configuring "--without-oci".
> 
> It seems configure discovered you had oracle, but at build 
> time it can't find some required stuff.
> 
> If you need oracle then you may need to fiddle include paths 
> in GDALmake.opt.
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, 
> http://osgeo.org
> 
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Type: text/x-vcard
Size: 517 bytes
Desc: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060420/de0b0bbb/PeterRushforthPeter.Rushforthstatcan.ca.vcf
From maldona at math.umd.edu  Wed Apr 19 20:22:03 2006
From: maldona at math.umd.edu (Diego Maldonado)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] .mat into 32 bit geotiff
Message-ID: <Pine.LNX.4.62.0604192011310.11508@klein.math.umd.edu>


Hi! Could anyone tell me what is the best way to save a .mat file, say, a 
matrix created in MATLAB, as a 32-bit geotiff file?
Thanks in advance.
Diego

From warmerdam at pobox.com  Thu Apr 20 22:11:34 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7DF7@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7DF7@stcem04.statcan.ca>
Message-ID: <44483F56.4050906@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> Hi Frank,
> 
> That seemed the fix for that issue, now another:
> 
> make[2]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr/ogrsf_frmts'
> /bin/sh ../libtool --mode=compile g++ -Wall  -O2   -Iogrsf_frmts -I. -I../port -I../gcore -I../alg -I../ogr -I../ogr/ogrsf_frmts   -DHAVE_GEOS=1 -I/usr3/pkg4/OpenEV_FW_Tree/FWTools/include -I../port  -c -o ogrgeometryfactory.o ogrgeometryfactory.cpp
> mkdir .libs
>  g++ -Wall -O2 -Iogrsf_frmts -I. -I../port -I../gcore -I../alg -I../ogr -I../ogr/ogrsf_frmts -DHAVE_GEOS=1 -I/usr3/pkg4/OpenEV_FW_Tree/FWTools/include -I../port -c ogrgeometryfactory.cpp  -fPIC -DPIC -o .libs/ogrgeometryfactory.o
> In file included from ogrgeometryfactory.cpp:118:
> ogr_geos.h:41:25: geos/geom.h: No such file or directory
> ogr_geos.h:42:23: geos/io.h: No such file or directory
> ogr_geos.h:43:25: geos/util.h: No such file or directory
> ogrgeometryfactory.cpp: In static member function `static OGRGeometry* OGRGeometryFactory::createFromGEOS(const geos::Geometry*)':
> ogrgeometryfactory.cpp:827: error: `WKTWriter' is not a member of `geos'
> ogrgeometryfactory.cpp:827: error: expected `;' before "oWKTWriter"
> ogrgeometryfactory.cpp:832: error: `oWKTWriter' undeclared (first use this function)
> ogrgeometryfactory.cpp:832: error: (Each undeclared identifier is reported only once for each function it appears in.)
> ogrgeometryfactory.cpp:834: error: `geos::GEOSException' has not been declared
> ogrgeometryfactory.cpp:834: error: invalid catch parameter
> ogrgeometryfactory.cpp:838: error: `e' undeclared (first use this function)
> ogrgeometryfactory.cpp: In static member function `static geos::GeometryFactory* OGRGeometryFactory::getGEOSGeometryFactory()':
> ogrgeometryfactory.cpp:871: error: invalid use of undefined type `struct geos::GeometryFactory'
> ogr_geometry.h:234: error: forward declaration of `struct geos::GeometryFactory'
> make[1]: *** [ogrgeometryfactory.o] Error 1
> make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/ogr'
> make: *** [ogr-target] Error 2

Peter,

I would suggest upgrading to the latest public GEOS distribution (or
disabling it using --without-geos if you aren't caring about GEOS support).

I'm not sure, but I suspect an older version of GEOS where things aren't
where they are expected to be.

You might also consider trying the GDAL 1.3.2b1 snapshot which I think
has better geos configuration logic.

best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Thu Apr 20 22:32:13 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7DF8@stcem04.statcan.ca>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Type: text/x-vcard
Size: 517 bytes
Desc: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060420/f2be3c80/PeterRushforthPeter.Rushforthstatcan.ca.vcf
From warmerdam at pobox.com  Thu Apr 20 23:02:39 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7DF8@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7DF8@stcem04.statcan.ca>
Message-ID: <44484B4F.4030700@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> ... about 200 ".o" file references removed for brevity of this email ...
> ./ogr/ogr_srs_dict.o ./ogr/swq.o ./ogr/ogr_srs_validate.o 
> ./ogr/ogr_srs_xml.o ./ogr/ograssemblepolygon.o ./ogr/ogr2gmlgeometry.o 
> ./ogr/gml2ogrgeometry.o
> 
> make[1]: *** [libgdal.la] Error 255
> make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1'
> make: *** [check-lib] Error 2

Peter,

This doesn't seem like a helpful error message. I'm not sure what is going
wrong.  I'd suggest re-configuring "--without-libtool" but it is a shot in
the dark.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dpinte at itae.be  Fri Apr 21 03:17:15 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] .mat into 32 bit geotiff
In-Reply-To: <Pine.LNX.4.62.0604192011310.11508@klein.math.umd.edu>
References: <Pine.LNX.4.62.0604192011310.11508@klein.math.umd.edu>
Message-ID: <1145603835.5288.8.camel@geru-itae>

Le mercredi 19 avril 2006 ? 20:22 -0400, Diego Maldonado a ?crit :
> Hi! Could anyone tell me what is the best way to save a .mat file, say, a 
> matrix created in MATLAB, as a 32-bit geotiff file?
> Thanks in advance.
> Diego

Hi Diego,

.mat files may contain the all workspace of your matlab session. So you
cannot directly save it to a 32-bitt geotiff file. 

For my part, i'm calling matlab from a python session (using win32com)
to get the matrix and then save it to raster files.

Didrik
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060421/4a3881fc/attachment.bin
From lists at b-open-solutions.it  Fri Apr 21 03:44:27 2006
From: lists at b-open-solutions.it (Alessandro Amici)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7DF8@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7DF8@stcem04.statcan.ca>
Message-ID: <200604210944.27366.lists@b-open-solutions.it>

Alle 04:32, venerd? 21 aprile 2006, Peter.Rushforth@statcan.ca ha 
scritto:

...
> (cd .libs && rm -f libgdal.so.1 && ln -s libgdal.so.1.9.0
> libgdal.so.1) 
> (cd .libs && rm -f libgdal.so && ln -s libgdal.so.1.9.0 libgdal.so)
> false cru .libs/libgdal.a  ./frmts/o/EnvisatFile.o 
> ./frmts/o/_getcell.o ...
...

apparently there is a problem with the command 'ar' that is not found 
('false' is used instead which raises the error).

i would suggest to configure with --without-static if you only use the 
dynalic library libgdal.so.

as said by Frank, --without-libtool is another possibility.

cheers,
alessandro

-- 
B-Open Solutions srl - http://www.bopen.it/ - http://www.bopen.eu/


From lists at b-open-solutions.it  Fri Apr 21 05:36:53 2006
From: lists at b-open-solutions.it (Alessandro Amici)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Infrastructure developments for GDAL
In-Reply-To: <44453312.1000706@loskot.net>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE72@srvhzdexc095.hzd.hessen.de>
	<200604181644.01772.lists@b-open-solutions.it>
	<44453312.1000706@loskot.net>
Message-ID: <200604211136.54249.lists@b-open-solutions.it>


Mateusz,

Alle 20:42, marted? 18 aprile 2006, Mateusz ?oskot ha scritto:
> Regarding backlinks, there is a way to add them:
> http://projects.edgewall.com/trac/wiki/TracFaq#how-do-i-see-all-pages
>-that-link-to-the-current-page

bug #611 (http://projects.edgewall.com/trac/ticket/611) preatty much 
summarizes what i was thinking to (an explicit macro is not the best 
solution).

> Regarding categorization of Wiki pages, Trac Tags should help:
> http://dev.muness.textdriven.com/trac.cgi/wiki/tags

this looks promising i'm evaluating it right now.

thanks for the hints,
alessandro

-- 
B-Open Solutions srl - http://www.bopen.it/


From christian.schaffer at muenchen.de  Fri Apr 21 06:42:03 2006
From: christian.schaffer at muenchen.de (Christian Schaffer)
Date: Wed Nov 21 11:50:06 2007
Subject: AW: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
In-Reply-To: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE79@srvhzdexc095.hzd.hessen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE79@srvhzdexc095.hzd.hessen.de>
Message-ID: <4448B6FB.2000503@muenchen.de>

Hi Holger,
Hi list,

first of all thanks for helping me on this topic.

I tried a few further variations, but couldn?t manage to avoid gmake to 
throw errors. Finally, I downloaded GDAL version 1.3.0 and configured it 
like this...
23 GENESIS [build/gdal-1.3.0] # more my_conf
./configure \
--with-gif=internal     \
--with-jpeg=internal    \
--with-geotiff=internal \
--with-libtiff=internal \
--with-libz=internal    \
--with-oci=/opt/oracle/product/10.1.0/db_1

...ran gmake and everything worked smoothly. Well almost, as I forgot to 
set a few LD_OPTIONS for my Oracle libs first.

I?m wondering, if I?m the first running into this issue with Solaris 
9/SPARC and gdal 1.3.1?
Might there be a connection to NG Swig Bindings in 1.3.1? I didn?t find 
these configure options in 1.3.0.

Any hints are greatly appreciated.

Thanks once again,
best regards,
Christian


H.Porath@hzd.hessen.de schrieb:

> Hi Christian,
>  
> we did not have this error. For me it looks like the GNUMakefile in 
> swig/python/ is not correct. I remember we had a similar problem using 
> the --with-perl option. Thats why we did not use it. The next issue 
> was that make stopped because of an error in swig/python/setyp.py. 
> After deletion of "debug=1" in the header of the setup-function within 
> make went on. Sorry I could not be of more help.
>  
>
> Regards
>
> Holger  
>
> -----Urspr?ngliche Nachricht-----
> *Von:* Christian Schaffer [mailto:christian.schaffer@muenchen.de]
> *Gesendet:* Mittwoch, 19. April 2006 15:05
> *An:* Porath, Holger (HZD)
> *Cc:* gdal-dev@lists.maptools.org
> *Betreff:* Re: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
>
>     Hi Holger,
>
>     thanks for the hint.
>     I edited my GDALmake.opt to BINDINGS = python. It looks like, I?m
>     getting a little further, but unfortunately build failed again.
>     The error message reads:
>     (cd .libs && rm -f _gdalmodule.la && ln -s ../_gdalmodule.la
>     _gdalmodule.la)
>     gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/pymod'
>     (cd swig; gmake build)
>     gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
>     for dir in python ; do (cd $dir; make build ); done
>     make[2]: Entering directory `/ra1/build/gdal-1.3.1/swig/python'
>     make: Fatal error: Don't know how to make target `build'
>     Current working directory /ra1/build/gdal-1.3.1/swig/python
>     gmake[1]: *** [build] Error 1
>     gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
>     gmake: *** [swig-target] Error 2
>
>     I then added the --with-ngpython line to my configure statement
>     which also gives a BINDINGS = python in the GDALmake.opt, and also
>     tried the --with-perl option. Unfortunately no success either.
>
>     That?s how my configure statement looks like:
>     ./configure \
>     --with-gif=internal     \
>     --with-jpeg=internal    \
>     --with-geotiff=internal \
>     --with-libtiff=internal \
>     --with-libz=internal    \
>     --with-perl \
>     --with-oci=/opt/oracle/product/10.1.0/db_1 \
>     LDFLAGS=-L/opt/oracle/product/10.1.0/db_1/lib32
>
>     So nothing special, actually. I?d be glad if you had any further
>     hints on this issue.
>
>     Thanks once again.
>     Regards,
>     Christian
>
>
>     H.Porath@hzd.hessen.de schrieb:
>
>>     Hi Christian,
>>      
>>     we had the same problem on Solaris 8 SPARC and solved it by
>>     inserting "python" in the GDALmake.opt, so it was reading:
>>     BINDINGS    =    python
>>      
>>     Of course you can choose a different "swig"-dir, e.g. perl.
>>      
>>     Hope this helps.
>>      
>>     Regards
>>
>>     Holger   
>>
>>      
>>
>>     -----Urspr?ngliche Nachricht-----
>>     *Von:* gdal-dev-bounces@lists.maptools.org
>>     [mailto:gdal-dev-bounces@lists.maptools.org] *Im Auftrag von
>>     *Christian Schaffer
>>     *Gesendet:* Dienstag, 18. April 2006 14:00
>>     *An:* gdal-dev@lists.maptools.org
>>     *Betreff:* [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
>>
>>         Hi List,
>>
>>         using GNU tools, I?m experiencing problems building GDAL on
>>         Solaris 9 (SPARC).
>>         Configure runs as expected, but make stops with the following
>>         error:
>>
>>         (...)
>>         (cd swig; gmake build)
>>         gmake[1]: Entering directory `/ra1/build/gdal-1.3.1/swig'
>>         for dir in ; do (cd $dir; make build ); done
>>         /bin/sh: syntax error at line 1: `;' unexpected
>>         gmake[1]: *** [build] Error 2
>>         gmake[1]: Leaving directory `/ra1/build/gdal-1.3.1/swig'
>>         gmake: *** [swig-target] Error 2
>>
>>         Looking into GDALmake.opt, it says:
>>         (...)
>>         # Next Generation SWIG bindings
>>         BINDINGS        =      
>>         (...)
>>
>>         Is there anything, I might be doing the wrong way?
>>
>>         Thanks in advance for helping.
>>         Best regards,
>>         Christian
>>
>------------------------------------------------------------------------
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060421/c4b8a36e/attachment.html
From warmerdam at pobox.com  Fri Apr 21 08:43:43 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: AW: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
In-Reply-To: <4448B6FB.2000503@muenchen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE79@srvhzdexc095.hzd.hessen.de>
	<4448B6FB.2000503@muenchen.de>
Message-ID: <4448D37F.6060009@pobox.com>

Christian Schaffer wrote:
> Hi Holger,
> Hi list,
> 
> first of all thanks for helping me on this topic.
> 
> I tried a few further variations, but couldn?t manage to avoid gmake to 
> throw errors. Finally, I downloaded GDAL version 1.3.0 and configured it 
> like this...
> 23 GENESIS [build/gdal-1.3.0] # more my_conf
> ./configure \
> --with-gif=internal     \
> --with-jpeg=internal    \
> --with-geotiff=internal \
> --with-libtiff=internal \
> --with-libz=internal    \
> --with-oci=/opt/oracle/product/10.1.0/db_1
> 
> ...ran gmake and everything worked smoothly. Well almost, as I forgot to 
> set a few LD_OPTIONS for my Oracle libs first.
> 
> I?m wondering, if I?m the first running into this issue with Solaris 
> 9/SPARC and gdal 1.3.1?
> Might there be a connection to NG Swig Bindings in 1.3.1? I didn?t find 
> these configure options in 1.3.0.
> 
> Any hints are greatly appreciated.

Christian,

I believe there was a dependency on bash in somewhere.  Could you
give GDAL 1.3.2beta1 a spin and see if you still have a problem?  If
so, I would like to resolve it before 1.3.2 is finalized.

   http://www.gdal.org/dl/gdal-1.3.2b1.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Fri Apr 21 09:42:35 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7DFD@stcem04.statcan.ca>

Thanks for your help. I ran configure --without-static, which
successfully got past the ar error ( I did add /usr/ccs/bin
where ar is to see if that did anything, but I still got the
error).  Anyhow, now I have a problem with an empty BINDINGS
variable set in GDALmake.opt, which causes the following failure:

I will try --without-libtool as you suggested.

make[1]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.1'
GNUmakefile:44: warning: overriding commands for target `libgdal.la'
GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
make[1]: `libgdal.la' is up to date.
make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1'
(cd swig; make build)
make[1]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.1/swig'
for dir in ; do (cd $dir; make build ); done
/bin/sh: syntax error at line 1: `;' unexpected
make[1]: *** [build] Error 2
make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/swig'
make: *** [swig-target] Error 2

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


> -----Original Message-----
> From: Alessandro Amici [mailto:lists@b-open-solutions.it] 
> Sent: April 21, 2006 3:44 AM
> To: gdal-dev@lists.maptools.org
> Cc: Peter.Rushforth@statcan.ca
> Subject: Re: [Gdal-dev] building gdal on solaris
> 
> 
> Alle 04:32, venerd? 21 aprile 2006, Peter.Rushforth@statcan.ca ha 
> scritto:
> 
> ...
> > (cd .libs && rm -f libgdal.so.1 && ln -s libgdal.so.1.9.0
> > libgdal.so.1)
> > (cd .libs && rm -f libgdal.so && ln -s libgdal.so.1.9.0 libgdal.so)
> > false cru .libs/libgdal.a  ./frmts/o/EnvisatFile.o 
> > ./frmts/o/_getcell.o ...
> ...
> 
> apparently there is a problem with the command 'ar' that is not found 
> ('false' is used instead which raises the error).
> 
> i would suggest to configure with --without-static if you 
> only use the 
> dynalic library libgdal.so.
> 
> as said by Frank, --without-libtool is another possibility.
> 
> cheers,
> alessandro
> 
> -- 
> B-Open Solutions srl - http://www.bopen.it/ - http://www.bopen.eu/
> 


From warmerdam at pobox.com  Fri Apr 21 09:55:25 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7DFD@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7DFD@stcem04.statcan.ca>
Message-ID: <4448E44D.9070900@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> Thanks for your help. I ran configure --without-static, which
> successfully got past the ar error ( I did add /usr/ccs/bin
> where ar is to see if that did anything, but I still got the
> error).  Anyhow, now I have a problem with an empty BINDINGS
> variable set in GDALmake.opt, which causes the following failure:
> 
> I will try --without-libtool as you suggested.
> 
> make[1]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.1'
> GNUmakefile:44: warning: overriding commands for target `libgdal.la'
> GNUmakefile:40: warning: ignoring old commands for target `libgdal.la'
> make[1]: `libgdal.la' is up to date.
> make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1'
> (cd swig; make build)
> make[1]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.1/swig'
> for dir in ; do (cd $dir; make build ); done
> /bin/sh: syntax error at line 1: `;' unexpected
> make[1]: *** [build] Error 2
> make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.1/swig'
> make: *** [swig-target] Error 2

Peter,

I'm sorry this is so hard!  Would you consider upgrading to GDAL 1.3.2b1?
I think this BINDINGS problem is fixed there.  In the past fixes for problems
like this have just been rolled into CVS head.  In this case it means that
folks report the same error for months and months till the next full release.
It is clear that we need "stable branches" for GDAL into which we can roll
safe bug fixes to get out point releases while trunk development continues.

Trying GDAL 1.3.2b1 would also help ensure that GDAL 1.3.2 isn't published
with too many problems!

   http://www.gdal.org/dl/gdal-1.3.2b1.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Fri Apr 21 10:39:37 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7DFE@stcem04.statcan.ca>

Hi Frank,

I did previously try with 1.3.2b1, here's what I get:

bilbo{rushpet}53: pwd
/bilbo05/rushpet/gdal/gdal-1.3.2b1
bilbo{rushpet}54: make
(cd port; make)
make[1]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.2b1/port'
g++ -Wall -fPIC -O2   -DOGR_ENABLED -I/bilbo05/rushpet/gdal/gdal-1.3.2b1/port  -c -o cpl_strtod.o cpl_strtod.cpp
cpl_strtod.cpp: In function `float CPLStrtofDelim(const char*, char**, char)':
cpl_strtod.cpp:719: error: `copysignf' undeclared (first use this function)
cpl_strtod.cpp:719: error: (Each undeclared identifier is reported only once for each function it appears in.)
make[1]: *** [cpl_strtod.o] Error 1
make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.2b1/port'
make: *** [port-target] Error 2

I'm still determined to get it running - it seems others have done
so!

Cheers,
Peter 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Type: text/x-vcard
Size: 517 bytes
Desc: Peter Rushforth (Peter.Rushforth@statcan.ca).vcf
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060421/0331fbb4/PeterRushforthPeter.Rushforthstatcan.ca.vcf
From warmerdam at pobox.com  Fri Apr 21 11:02:31 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7DFE@stcem04.statcan.ca>
References: <AB38021D12570A4AB907F442AE548807011A7DFE@stcem04.statcan.ca>
Message-ID: <4448F407.50204@pobox.com>

Peter.Rushforth@statcan.ca wrote:
> Hi Frank,
> 
> I did previously try with 1.3.2b1, here's what I get:
> 
> bilbo{rushpet}53: pwd
> /bilbo05/rushpet/gdal/gdal-1.3.2b1
> bilbo{rushpet}54: make
> (cd port; make)
> make[1]: Entering directory `/bilbo05/rushpet/gdal/gdal-1.3.2b1/port'
> g++ -Wall -fPIC -O2   -DOGR_ENABLED -I/bilbo05/rushpet/gdal/gdal-1.3.2b1/port  -c -o cpl_strtod.o cpl_strtod.cpp
> cpl_strtod.cpp: In function `float CPLStrtofDelim(const char*, char**, char)':
> cpl_strtod.cpp:719: error: `copysignf' undeclared (first use this function)
> cpl_strtod.cpp:719: error: (Each undeclared identifier is reported only once for each function it appears in.)
> make[1]: *** [cpl_strtod.o] Error 1
> make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.2b1/port'
> make: *** [port-target] Error 2
> 
> I'm still determined to get it running - it seems others have done
> so!

Peter,

If you edit cpl_strtod.cpp to change copysignf to copysign it should work.
We will fix this for the next beta.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ghuby at geosys.com  Fri Apr 21 12:00:40 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] .mat into 32 bit geotiff
In-Reply-To: <Pine.LNX.4.62.0604192011310.11508@klein.math.umd.edu>
Message-ID: <002901c6655c$bdd53120$1401a8c0@pcgh>

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de 
> Diego Maldonado
> Envoy? : jeudi 20 avril 2006 02:22
> ? : gdal-dev@lists.maptools.org
> Objet : [Gdal-dev] .mat into 32 bit geotiff
> 
> 
> 
> Hi! Could anyone tell me what is the best way to save a .mat 
> file, say, a 
> matrix created in MATLAB, as a 32-bit geotiff file?
> Thanks in advance.
> Diego
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

You should try this in Matlab:

load <file>.mat;
imwrite(int32(yourmatrix), '<geotiff filename>.tif');

This way you write a tif file whithout meta data (except if you use the
mapping toolbox).
To georeference it, you can write a worldfile (<geotiff filename>.tfw). It
is just a textfile with 6 lines:
- Pixel size in x;
- Some rotation parameter (e.g. = 0.000000);
- Some rotation parameter (e.g. = 0.000000);
- Pixel size in y (negative);
- X upper left coordinate;
- Y upper left coordinate.

Hope that will help you ...
Guillaume.



From Peter.Rushforth at statcan.ca  Fri Apr 21 13:50:34 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7E03@stcem04.statcan.ca>

Hi Frank and list,

Looks good so far - I got through the build and installation
with 1.3.2b , but I didn't build xerces in.

I will have a go at that now!

Thanks for your help up to now.


bilbo{rushpet}24: ogr2ogr -a_srs WGS84 -f "MapInfo File" peter2.tab gfrr011r05g_f.gml
ERROR 1: Unable to create Xerces C++ based GML reader, Xerces support
not configured into GDAL/OGR.
ERROR 1: File gfrr011r05g_f.gml appears to be GML but the GML reader can't
be instantiated, likely because Xerces support wasn't
configured in.
FAILURE:
Unable to open datasource `gfrr011r05g_f.gml' with the following drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> AVCBin
  -> REC
  -> Memory
  -> CSV
  -> GML

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


> -----Original Message-----
> From: Frank Warmerdam [mailto:fwarmerdam@gmail.com] On Behalf 
> Of Frank Warmerdam
> Sent: April 21, 2006 11:03 AM
> To: Peter.Rushforth@statcan.ca
> Cc: gdal-dev@lists.maptools.org; lists@b-open-solutions.it
> Subject: Re: [Gdal-dev] building gdal on solaris
> 
> 
> Peter.Rushforth@statcan.ca wrote:
> > Hi Frank,
> > 
> > I did previously try with 1.3.2b1, here's what I get:
> > 
> > bilbo{rushpet}53: pwd
> > /bilbo05/rushpet/gdal/gdal-1.3.2b1
> > bilbo{rushpet}54: make
> > (cd port; make)
> > make[1]: Entering directory 
> `/bilbo05/rushpet/gdal/gdal-1.3.2b1/port'
> > g++ -Wall -fPIC -O2   -DOGR_ENABLED 
> -I/bilbo05/rushpet/gdal/gdal-1.3.2b1/port  -c -o cpl_strtod.o 
> cpl_strtod.cpp
> > cpl_strtod.cpp: In function `float CPLStrtofDelim(const 
> char*, char**, 
> > char)':
> > cpl_strtod.cpp:719: error: `copysignf' undeclared (first 
> use this function)
> > cpl_strtod.cpp:719: error: (Each undeclared identifier is 
> reported only once for each function it appears in.)
> > make[1]: *** [cpl_strtod.o] Error 1
> > make[1]: Leaving directory `/bilbo05/rushpet/gdal/gdal-1.3.2b1/port'
> > make: *** [port-target] Error 2
> > 
> > I'm still determined to get it running - it seems others 
> have done so!
> 
> Peter,
> 
> If you edit cpl_strtod.cpp to change copysignf to copysign it 
> should work. We will fix this for the next beta.
> 
> Best regards,
> -- 
> ---------------------------------------+----------------------
> ----------
> ---------------------------------------+------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, 
> http://osgeo.org
> 
> 


From Peter.Rushforth at statcan.ca  Fri Apr 21 15:41:58 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7E08@stcem04.statcan.ca>

Hi again,

I'm trying to build gdal now with xerces, but in the configure stage I get this error:

checking for Xerces C++... requested, but compile or link fails!

g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include 
g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include/xercesc 
g++ -o conftest conftest.cpp 
g++ -L/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/lib -ljpeg -lpng 
g++ -lz -lm -lrt -ldl

Undefined                       first referenced
 symbol                             in file
xercesc_2_7::XMLPlatformUtils::Initialize(char const*, char const*, xercesc_2_7::PanicHandler*, xercesc_2_7::MemoryManager*, bool)/var/tmp//cceUPWyC.o
xercesc_2_7::XMLUni::fgXercescDefaultLocale      /var/tmp//cceUPWyC.o
ld: fatal: Symbol referencing errors. No output written to conftest
collect2: ld returned 1 exit status

configure: error: Please correct Xerces options, or don't enable Xerces.

I tried using the 64-bit version of xerces, but no success:
checking for Xerces C++... requested, but compile or link fails!

g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/include -I/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/include/xercesc -o conftest conftest.cpp -L/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/lib -lxerces-c -lpthread -ljpeg -lpng -lz -lm -lrt -ldl

ld: fatal: file /bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/lib/libxerces-c.so: wrong ELF class: ELFCLASS64
ld: fatal: File processing errors. No output written to conftest
collect2: ld returned 1 exit status

I've obviously got something way wrong... but what?  
I downloaded the solaris binaries, not the source.  Perhaps that is the problem?
Maybe the version of xerces is wrong....

Thanks for any ideas,

Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6


From hobu at iastate.edu  Fri Apr 21 15:52:42 2006
From: hobu at iastate.edu (Howard Butler)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <AB38021D12570A4AB907F442AE548807011A7E08@stcem04.statcan.c
 a>
References: <AB38021D12570A4AB907F442AE548807011A7E08@stcem04.statcan.ca>
Message-ID: <6.2.3.4.2.20060421145121.0285be98@hobu.mail.iastate.edu>

looks like the binaries you got were 32bit?   ELFCLASS64-type things 
are usually related to mixing 32 and 64 bit stuff.

Your best bet will be to build your own Xerces and remove the package 
(Sunfreeware?)

Howard

At 02:41 PM 4/21/2006, Peter.Rushforth@statcan.ca wrote:
>Hi again,
>
>I'm trying to build gdal now with xerces, but in the configure stage 
>I get this error:
>
>checking for Xerces C++... requested, but compile or link fails!
>
>g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include
>g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include/xercesc
>g++ -o conftest conftest.cpp
>g++ -L/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/lib -ljpeg -lpng
>g++ -lz -lm -lrt -ldl
>
>Undefined                       first referenced
>  symbol                             in file
>xercesc_2_7::XMLPlatformUtils::Initialize(char const*, char const*, 
>xercesc_2_7::PanicHandler*, xercesc_2_7::MemoryManager*, 
>bool)/var/tmp//cceUPWyC.o
>xercesc_2_7::XMLUni::fgXercescDefaultLocale      /var/tmp//cceUPWyC.o
>ld: fatal: Symbol referencing errors. No output written to conftest
>collect2: ld returned 1 exit status
>
>configure: error: Please correct Xerces options, or don't enable Xerces.
>
>I tried using the 64-bit version of xerces, but no success:
>checking for Xerces C++... requested, but compile or link fails!
>
>g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/include 
>-I/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/include/xercesc 
>-o conftest conftest.cpp 
>-L/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/lib 
>-lxerces-c -lpthread -ljpeg -lpng -lz -lm -lrt -ldl
>
>ld: fatal: file 
>/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/lib/libxerces-c.so: 
>wrong ELF class: ELFCLASS64
>ld: fatal: File processing errors. No output written to conftest
>collect2: ld returned 1 exit status
>
>I've obviously got something way wrong... but what?
>I downloaded the solaris binaries, not the source.  Perhaps that is 
>the problem?
>Maybe the version of xerces is wrong....
>
>Thanks for any ideas,
>
>Peter Rushforth
>Geography Division
>Statistics Canada
>Ottawa Ontario
>K1A 0T6
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev


From Peter.Rushforth at statcan.ca  Fri Apr 21 16:13:03 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7E09@stcem04.statcan.ca>

Thanks for your comments.  I tried both 32 and 64 bit xerces.
The ELF business came about when I tried the 64 bit stuff.
The 32 bit errors, listed a bit higher up (below) give me
the undefined symbol messages.

I tried configuring with 32-bit xerces 2.3 but I get similar error
messages to the 32-bit 2.7 experience.



Peter Rushforth
Geography Division
Statistics Canada
Ottawa Ontario
K1A 0T6



xerces 32-bit configure:

> >checking for Xerces C++... requested, but compile or link fails!
> >
> >g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include
> >g++ 
> -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include/xercesc
> >g++ -o conftest conftest.cpp 
> >g++ -L/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/lib -ljpeg 
> >g++ -lpng -lz -lm -lrt -ldl
> >
> >Undefined                       first referenced
> >  symbol                             in file
> >xercesc_2_7::XMLPlatformUtils::Initialize(char const*, char const*,
> >xercesc_2_7::PanicHandler*, xercesc_2_7::MemoryManager*, 
> >bool)/var/tmp//cceUPWyC.o
> >xercesc_2_7::XMLUni::fgXercescDefaultLocale      /var/tmp//cceUPWyC.o
> >ld: fatal: Symbol referencing errors. No output written to conftest
> >collect2: ld returned 1 exit status
> >
> >configure: error: Please correct Xerces options, or don't enable 
> >Xerces.
> >


64-bit xerces configure:

> >g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/include
> >-I/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/includ
> e/xercesc
> >-o conftest conftest.cpp 
> >-L/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/lib 
> >-lxerces-c -lpthread -ljpeg -lpng -lz -lm -lrt -ldl
> >
> >ld: fatal: file
> >/bilbo05/rushpet/xerces/xerces-c-solaris_28_64-cc_62/lib/libx
> erces-c.so: 
> >wrong ELF class: ELFCLASS64
> >ld: fatal: File processing errors. No output written to conftest
> >collect2: ld returned 1 exit status
> >


From RMcCulley at county24.com  Fri Apr 21 17:02:38 2006
From: RMcCulley at county24.com (Rob McCulley)
Date: Wed Nov 21 11:50:06 2007
Subject: FW: [Gdal-dev] OGR Georeference
Message-ID: <1E095D48112D90428817CB417AECDB62025C40@vermilion.county24.local>

>On Wed, Apr 19, 2006 at 05:58:01PM -0700, Matthew Perry wrote:
>> On 4/19/06, Rob McCulley <RMcCulley@county24.com> wrote:
>> > I finally managed to talk to the data provider.  It is a "local" coordinate system per file.  It >looks like I need to warp each file.  Any way to do this using ogr?
>> 
>> Another possibility, if you have a layer in the "proper" coordinate
>> system to which you could match ground control points, is to use the
>> Warping tool in OpenJump ( http://openjump.org/ ). It allows you to
>> graphically create warping vectors between control points and apply an
>> affine transformation.
>
>Just for the record:
>The same thing you can do with GRASS - see
>http://grass.itc.it/grass61/manuals/html61_user/projectionintro.html
>-> v.transform
>
>Markus
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@lists.maptools.org
>http://lists.maptools.org/mailman/listinfo/gdal-dev

Thanks guys!  GRASS was the ticket.  Each of my microstation files have four points in them with a unique level & type, so I was able to write a python script that opened each file, grabbed those four points, grabbed the corresponding points from a UTM12 township file, and output a pointsfile to use with v.transform.  I took it one step further, and had the script also output three new python scripts: One to import all of the shapefiles into GRASS using v.in.ogr, a second to run the v.transform on each file, and a third to export the files from GRASS to shapefiles using v.out.ogr.

It worked beautifully, and easily saved a me a few days work in manually warping all of the files.
Thank You,
Rob


From craig.miller at spatialminds.com  Sat Apr 22 00:41:58 2006
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GEOCCS - Geocentric CS in OGR?
Message-ID: <010f01c665c7$173ba540$0401a8c0@vaio>

I'm working throught the WKT spec in the SF COM document and it lists three
categories of SRSs:

Geographic - GOEGCS
Projected  - PROJCS
Geocentric - GEOCCS

>From what I can tell OGR has three categories too:

Geographic => IsGeographic()  - GEOGCS
Projected  => IsProjected()   - PROJCS
Local      => IsLocal()       - LOCALCS  or LOCAL_CS (according to OGR docs)

With this in mind...

- How are geocentric coordinate systems represented in OGR?
- If GEOCCS is supported, why isn't there a IsGeocentric() method?
- Is OGR the only product that supports the LOCALCS object?
- Is it LOCALCS or LOCAL_CS?

Thanks for the help,  :-)
Craig





From warmerdam at pobox.com  Sat Apr 22 01:18:08 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GEOCCS - Geocentric CS in OGR?
In-Reply-To: <010f01c665c7$173ba540$0401a8c0@vaio>
References: <010f01c665c7$173ba540$0401a8c0@vaio>
Message-ID: <4449BC90.8070606@pobox.com>

Craig Miller wrote:
> I'm working throught the WKT spec in the SF COM document and it lists three
> categories of SRSs:
> 
> Geographic - GOEGCS
> Projected  - PROJCS
> Geocentric - GEOCCS
> 
>>From what I can tell OGR has three categories too:
> 
> Geographic => IsGeographic()  - GEOGCS
> Projected  => IsProjected()   - PROJCS
> Local      => IsLocal()       - LOCALCS  or LOCAL_CS (according to OGR docs)
> 
> With this in mind...
> 
> - How are geocentric coordinate systems represented in OGR?

Craig,

I don't believe geocentric coordinate systems are currently
supported by the OGRSpatialReference in GDAL/OGR.  This is a
deficency.  There is geocentric support in PROJ.4 by the way.

> - If GEOCCS is supported, why isn't there a IsGeocentric() method?
> - Is OGR the only product that supports the LOCALCS object?

The LOCALCS concept was introduced in the CT (Coordinate Transformations)
specification which extended the WKT syntax.  I'm not sure how widely
supported this is, but there are other systems.

> - Is it LOCALCS or LOCAL_CS?

It would appear it is really LOCAL_CS when expressed in WKT.  I see
that some of the OGR methods are like "SetLocalCS" but I think of that
as part of the transformation to StudlyCaps.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From woklist at kyngchaos.com  Sun Apr 23 20:46:36 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] DODS format build error
Message-ID: <49E82A1A-6234-41EF-B971-EE27E6050455@kyngchaos.com>

I finally got a version of libdap to build on OS X, so I tried adding  
it to GDAL.  GDAL 1.3.1 + DAP 3.6.2. (I looked at the GDAL snapshot  
for today, but no changes in dods code, so I didn't bother to try  
building it)

It's the exact same error as the 2nd part of bug 891, which is  
supposed to be fixed (and I do see the fix there in ogr_dods.h):

dodsdataset2.cpp: In constructor ?DODSDataset::DODSDataset()?:
dodsdataset2.cpp:307: error: no matching function for call to  
?DDS::DDS()?
/usr/local/gislibs/include/libdap/DDS.h:254: note: candidates are:  
DDS::DDS(const DDS&)

Maybe there's a new compatibility option for the 3.5 -> 3.6 update?

Should I add a new bug for this?  Or should the old bug be reopened?

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"History is an illusion caused by the passage of time, and time is an  
illusion caused by the passage of history."

- Hitchhiker's Guide to the Galaxy



From hf2042 at sohu.com  Sun Apr 23 10:34:59 2006
From: hf2042 at sohu.com (hf2042@sohu.com)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] A problem for OGR to read 64bit integer type attribute
	in arc/info binary coverage
Message-ID: <10858337.1145802899159.JavaMail.postfix@mx74.mail.sohu.com>

Skipped content of type multipart/alternativeFrom christian.schaffer at muenchen.de  Mon Apr 24 06:01:00 2006
From: christian.schaffer at muenchen.de (Christian Schaffer)
Date: Wed Nov 21 11:50:06 2007
Subject: AW: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
In-Reply-To: <4448D37F.6060009@pobox.com>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE79@srvhzdexc095.hzd.hessen.de>
	<4448B6FB.2000503@muenchen.de> <4448D37F.6060009@pobox.com>
Message-ID: <444CA1DC.3080808@muenchen.de>

Hi Frank,

thanks for your note.
I gave 1.3.2b1 a try and it worked out perfectly.
As shown in thread "building gdal on solaris", I edited cpl_strtod.cpp

There?s just one more line, I have to edit manually with any gdal 
version: Though I configure with 
LDFLAGS=-L/opt/oracle/product/10.1.0/db_1/lib32, GDALmake.opt always 
reads LIBS = -lclntsh -L/opt/oracle/product/10.1.0/db_1/lib  -lm -lrt -ldl.
If left like this, gmake throws errors concerning wrong ELF class.
If I change the line to LIBS = -lclntsh 
-L/opt/oracle/product/10.1.0/db_1/lib32  -lm -lrt -ldl it works.
I guess not really many users configure --with-oci? So for me it?s fine 
as it is, but probably you can give me a hint how to fix this permanently.

I?m more than glad, being able to be of any help. So if you need someone 
to test-compile on Solaris 9 on SPARC or on Solaris 10 on AMD64, please 
let me know.

Thanks and best regards,
Chris

Frank Warmerdam schrieb:

> Christian Schaffer wrote:
>
>> Hi Holger,
>> Hi list,
>>
>> first of all thanks for helping me on this topic.
>>
>> I tried a few further variations, but couldn?t manage to avoid gmake 
>> to throw errors. Finally, I downloaded GDAL version 1.3.0 and 
>> configured it like this...
>> 23 GENESIS [build/gdal-1.3.0] # more my_conf
>> ./configure \
>> --with-gif=internal     \
>> --with-jpeg=internal    \
>> --with-geotiff=internal \
>> --with-libtiff=internal \
>> --with-libz=internal    \
>> --with-oci=/opt/oracle/product/10.1.0/db_1
>>
>> ...ran gmake and everything worked smoothly. Well almost, as I forgot 
>> to set a few LD_OPTIONS for my Oracle libs first.
>>
>> I?m wondering, if I?m the first running into this issue with Solaris 
>> 9/SPARC and gdal 1.3.1?
>> Might there be a connection to NG Swig Bindings in 1.3.1? I didn?t 
>> find these configure options in 1.3.0.
>>
>> Any hints are greatly appreciated.
>
>
> Christian,
>
> I believe there was a dependency on bash in somewhere.  Could you
> give GDAL 1.3.2beta1 a spin and see if you still have a problem?  If
> so, I would like to resolve it before 1.3.2 is finalized.
>
>   http://www.gdal.org/dl/gdal-1.3.2b1.tar.gz
>
> Best regards,


-- 
______________________________________________________________

                        Landeshauptstadt M?nchen

                        Referat f?r Gesundheit und Umwelt
                        Informationsverarbeitung
Christian Schaffer
                        Bayerstra?e 28a				
                        80335 M?nchen
						
                        Tel:	089 - 233 - 4 76 67
                        Fax:	089 - 233 - 4 76 62							

                        http://www.muenchen.de
                        christian.schaffer@muenchen.de
______________________________________________________________

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060424/b0dc93eb/attachment.html
From bartvde at xs4all.nl  Mon Apr 24 08:48:17 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] problem using OCI ovf
Message-ID: <16224.145.50.39.8.1145882897.squirrel@webmail.xs4all.nl>

Hi list,

using last week's CVS I am trying to access an ovf point layer in Oracle.
In Oracle the X and Y columns are of type NUMBER(22,0).

OGR reports all X and Y values as 0 but in the database the correct values
are present:

CALX     CALY
 -------  -------
 33219    669433
 -452425  913701
 28883    691114
 184983   665097
 66463    776391
 72244    709904
 -452425  913701
 79471    654979
 73545    515742

Ogrinfo reports:
CALX: Integer (0.0)
CALY: Integer (0.0)

And:
  CALX (Integer) = 0
  CALY (Integer) = 0
  ..
  POINT (0 0 0)

Any ideas what could be going wrong?

The ovf file:
<OGRVRTDataSource>
    <OGRVRTLayer name="calamiteitenoud">
       <SrcDataSource>OCI:BVDE/BART@//xxx:1521/TGEOS.rws.nl:CALAMITEITEN</SrcDataSource>
        <SrcSQL>SELECT * FROM CALAMITEITEN WHERE ACTUEEL = 0</SrcSQL>
        <GeometryType>wkbPoint</GeometryType>
        <LayerSRS>EPSG:28992</LayerSRS>
        <GeometryField encoding="PointFromColumns" x="CALX" y="CALY"/>
    </OGRVRTLayer>
</OGRVRTDataSource>

Thanks in advance.

Best regards,
Bart


From warmerdam at pobox.com  Mon Apr 24 13:33:11 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: AW: AW: [Gdal-dev] Building 1.3.1 on Solaris 9 SPARC
In-Reply-To: <444CA1DC.3080808@muenchen.de>
References: <7101AA2E2C89C04E8571E76DE285AFCC04CDCE79@srvhzdexc095.hzd.hessen.de>
	<4448B6FB.2000503@muenchen.de> <4448D37F.6060009@pobox.com>
	<444CA1DC.3080808@muenchen.de>
Message-ID: <444D0BD7.9090907@pobox.com>

Christian Schaffer wrote:
> Hi Frank,
> 
> thanks for your note.
> I gave 1.3.2b1 a try and it worked out perfectly.
> As shown in thread "building gdal on solaris", I edited cpl_strtod.cpp
> 
> There?s just one more line, I have to edit manually with any gdal 
> version: Though I configure with 
> LDFLAGS=-L/opt/oracle/product/10.1.0/db_1/lib32, GDALmake.opt always 
> reads LIBS = -lclntsh -L/opt/oracle/product/10.1.0/db_1/lib  -lm -lrt -ldl.
> If left like this, gmake throws errors concerning wrong ELF class.
> If I change the line to LIBS = -lclntsh 
> -L/opt/oracle/product/10.1.0/db_1/lib32  -lm -lrt -ldl it works.
> I guess not really many users configure --with-oci? So for me it?s fine 
> as it is, but probably you can give me a hint how to fix this permanently.
> 
> I?m more than glad, being able to be of any help. So if you need someone 
> to test-compile on Solaris 9 on SPARC or on Solaris 10 on AMD64, please 
> let me know.

Christian,

Argg!  These mixed 32bit/64bit issues drive me nuts.

It has been suggested to me that all the configure options like --with-oci
should really include separate options to override the default include
and lib directives.  I think that would be the fix.  I'm not inclined to
add extra "auto-discover" logic for this.

For now, hand editing the GDALmake.opt afterwards is the suggested
solution.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Mon Apr 24 13:38:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
In-Reply-To: <005101c67119$291ff880$fdf72a18@peterqta28n9cv>
References: <005101c67119$291ff880$fdf72a18@peterqta28n9cv>
Message-ID: <444D0CF8.1000003@pobox.com>

Peter Rushforth wrote:
> Hi Frank,
>  
> I did build gdal 1.3.2b, but I was missing xerces for gml.  So I am trying
> that now.  I am assuming it is 32-bit xerces which is required, and I am 
> using
> the pre-built xerces.  I get the following error.   Can you see what
> I'm missing?

Peter,

Sorry, I have no idea what is going wrong.

Unless you need GML reading, I would suggest configuring --without-xerces.

Best regards,

> checking for Xerces C++... requested, but compile or link fails!
> 
> g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include
> g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include/xercesc
> g++ -o conftest conftest.cpp
> g++ -L/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/lib -ljpeg -lpng
> g++ -lz -lm -lrt -ldl
> 
> Undefined                       first referenced
> symbol                             in file
> xercesc_2_7::XMLPlatformUtils::Initialize(char const*, char const*, 
> xercesc_2_7::PanicHandler*, xercesc_2_7::MemoryManager*, 
> bool)/var/tmp//cceUPWyC.o
> xercesc_2_7::XMLUni::fgXercescDefaultLocale      /var/tmp//cceUPWyC.o
> ld: fatal: Symbol referencing errors. No output written to conftest
> collect2: ld returned 1 exit status


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hkcho79 at hotmail.com  Tue Apr 25 00:32:42 2006
From: hkcho79 at hotmail.com (Cho Hyun-Kee)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL ImportfromEPSG Error
Message-ID: <BAY116-F33FBDD6C2052B2D882AEC7A6BF0@phx.gbl>

Hi!
This is my first time using GDAL.
I want to set projection information but when I use ImportfromEPSG() 
function, ogrErr return 6.
The code is like this,

#include "include\ogr_spatialref.h"
void main()
{
 	OGRSpatialReference CustomCoordinateInform;
	
	OGRErr ogrErr;

	ogrErr = CustomCoordinateInform.importFromEPSG(4001); 
         // ogrErr = 6
}
How can get PCS,GCS Inform using ImportfromEPSG() function???



From mataro at cyberwerks.com  Tue Apr 25 11:49:31 2006
From: mataro at cyberwerks.com (Eric S. Theise)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal 1.3.X on freeBSD
Message-ID: <200604251549.k3PFnV1F025222@nitric.spitbite.org>

Hi... new to the list.

I've been trying to set MapServer up on an older (4.10) freeBSD
system.  I'm installing freshly downloaded components in the order
suggested by Kropla's Apress book, and I've replaced gcc 2.9.5 with
gcc 4.1.0.  I'm running configure --with-pcraster=no and specifying
a few locations (libtiff, mysql).  The compile craps out for both
gdal-1.3.1 and gdal-1.3.2b1 thusly:

g++ -Wall -O2 -I.. -I../.. -I/usr/local/src/gdal-1.3.2b1/port -I/usr/local/src/gdal-1.3.2b1/gcore -I/usr/local/src/gdal-1.3.2b1/alg -I/usr/local/src/gdal-1.3.2b1/ogr -I/usr/local/src/gdal-1.3.2b1/ogr/ogrsf_frmts -I/usr/local/include/mysql-DOGR_ENABLED -I/usr/local/src/gdal-1.3.2b1/port -I/usr/local/include -c ogrmysqllayer.cpp  -fPIC -DPIC -o ../o/.libs/ogrmysqllayer.o
In file included from /usr/include/g++/string:6,
                 from /usr/local/src/gdal-1.3.2b1/port/cpl_string.h:174,
                 from ogrmysqllayer.cpp:89:
/usr/include/g++/std/bastring.h:192: macro `swap' used with just one arg
gmake[3]: *** [../o/ogrmysqllayer.o] Error 1
gmake[3]: Leaving directory
`/usr/local/src/gdal-1.3.2b1/ogr/ogrsf_frmts/mysql'
gmake[2]: *** [mysql-target] Error 2
gmake[2]: Leaving directory
`/usr/local/src/gdal-1.3.2b1/ogr/ogrsf_frmts'
gmake[1]: *** [sublibs] Error 2
gmake[1]: Leaving directory `/usr/local/src/gdal-1.3.2b1/ogr'
gmake: *** [ogr-target] Error 2

I'd appreciate any suggestions for resolving this.

Thanks, Eric 

From warmerdam at pobox.com  Tue Apr 25 12:52:30 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal 1.3.X on freeBSD
In-Reply-To: <200604251549.k3PFnV1F025222@nitric.spitbite.org>
References: <200604251549.k3PFnV1F025222@nitric.spitbite.org>
Message-ID: <444E53CE.2070308@pobox.com>

Eric S. Theise wrote:
> Hi... new to the list.
> 
> I've been trying to set MapServer up on an older (4.10) freeBSD
> system.  I'm installing freshly downloaded components in the order
> suggested by Kropla's Apress book, and I've replaced gcc 2.9.5 with
> gcc 4.1.0.  I'm running configure --with-pcraster=no and specifying
> a few locations (libtiff, mysql).  The compile craps out for both
> gdal-1.3.1 and gdal-1.3.2b1 thusly:
> 
> g++ -Wall -O2 -I.. -I../.. -I/usr/local/src/gdal-1.3.2b1/port -I/usr/local/src/gdal-1.3.2b1/gcore -I/usr/local/src/gdal-1.3.2b1/alg -I/usr/local/src/gdal-1.3.2b1/ogr -I/usr/local/src/gdal-1.3.2b1/ogr/ogrsf_frmts -I/usr/local/include/mysql-DOGR_ENABLED -I/usr/local/src/gdal-1.3.2b1/port -I/usr/local/include -c ogrmysqllayer.cpp  -fPIC -DPIC -o ../o/.libs/ogrmysqllayer.o
> In file included from /usr/include/g++/string:6,
>                  from /usr/local/src/gdal-1.3.2b1/port/cpl_string.h:174,
>                  from ogrmysqllayer.cpp:89:
> /usr/include/g++/std/bastring.h:192: macro `swap' used with just one arg
> gmake[3]: *** [../o/ogrmysqllayer.o] Error 1
> gmake[3]: Leaving directory
> `/usr/local/src/gdal-1.3.2b1/ogr/ogrsf_frmts/mysql'
> gmake[2]: *** [mysql-target] Error 2
> gmake[2]: Leaving directory
> `/usr/local/src/gdal-1.3.2b1/ogr/ogrsf_frmts'
> gmake[1]: *** [sublibs] Error 2
> gmake[1]: Leaving directory `/usr/local/src/gdal-1.3.2b1/ogr'
> gmake: *** [ogr-target] Error 2
> 
> I'd appreciate any suggestions for resolving this.

Eric,

If you are encountering this only in the mysql driver, I would imagine
the issue is a conflict between mysql include files and c++ stl include
files with regard to the definition of swap.  I just searched my client
mysql library and they define swap_variable, but not swap.  Perhaps an
older version of the mysql client sdk on your system uses swap() instead?

There is no reason to believe this is a GDAL problem from the report I
see.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue Apr 25 13:30:39 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] libtool...
Message-ID: <444E5CBF.300@pobox.com>

Andrey,

It seems yesterdays update of configure/aclocal/etc to use more
recent libtool stuff hosed things badly.  In particular, it seems
to have been that the shared library extension stuff was hosed for
the rest of us.

I found I could fix it by hand altering m4/libtool.m4 and configure to
set shrext right after setting shrext_cmds.

I am guessing that at some point libtool and friends changed from using
shrext to shrext_cmds but it seems that gdal is somehow a mix of old and
new.  I am guessing the problem is that gdal/ltmain.sh is old, but it does
not even seem that ltmain.sh exists in libraries like libtiff.

I'd appreciate your looking at this again.  My "fix" will be lost next
time we update m4/libtool.m4 with a newer version so I think after the
release we need a better fix for all of this.

Ugg, does this libtool stuff ever drive me freaking crazy.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From tonio_73 at tiscali.fr  Tue Apr 25 15:04:12 2006
From: tonio_73 at tiscali.fr (Antoine Hue)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Crash while calling CPLSetConfigOption
Message-ID: <0529115b57bcef99d8fae466b5a4a773@tiscali.fr>

Hi,

I am currently porting my software to Windows using MingW, for sure it 
is using GDAL underneath.

When testing the build result, at first it was crashing as GDAL was not 
able to create an OGRSpatialReference. I thought then, the problem was 
coming from the fact that GDAL is not able to find its CSV data files.
While in Linux I was using the setenv() stdlib call, it does not exists 
on GDAL. Browsing GDAL code, I figured out that it is possible to use 
CPLSetConfigOption() to do something similar. However, I get a crash on 
the CPLSetConfigOption() call.
I see two possibilities:
- I am not using the function correctly, an init is needed.
- My GDAL DLL build is crap.

Could you answer the first option?

Antoine


From warmerdam at pobox.com  Tue Apr 25 15:41:50 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Crash while calling CPLSetConfigOption
In-Reply-To: <0529115b57bcef99d8fae466b5a4a773@tiscali.fr>
References: <0529115b57bcef99d8fae466b5a4a773@tiscali.fr>
Message-ID: <444E7B7E.4090407@pobox.com>

Antoine Hue wrote:
> Hi,
> 
> I am currently porting my software to Windows using MingW, for sure it 
> is using GDAL underneath.
> 
> When testing the build result, at first it was crashing as GDAL was not 
> able to create an OGRSpatialReference. I thought then, the problem was 
> coming from the fact that GDAL is not able to find its CSV data files.
> While in Linux I was using the setenv() stdlib call, it does not exists 
> on GDAL. Browsing GDAL code, I figured out that it is possible to use 
> CPLSetConfigOption() to do something similar. However, I get a crash on 
> the CPLSetConfigOption() call.
> I see two possibilities:
> - I am not using the function correctly, an init is needed.
> - My GDAL DLL build is crap.
> 
> Could you answer the first option?

Antoine,

Could you show how you are using the call?  Is there any chance you could
trace the crash in gdb or some other debugging environment?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue Apr 25 15:44:24 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL ImportfromEPSG Error
In-Reply-To: <BAY116-F33FBDD6C2052B2D882AEC7A6BF0@phx.gbl>
References: <BAY116-F33FBDD6C2052B2D882AEC7A6BF0@phx.gbl>
Message-ID: <444E7C18.3010801@pobox.com>

Cho Hyun-Kee wrote:
> Hi!
> This is my first time using GDAL.
> I want to set projection information but when I use ImportfromEPSG() 
> function, ogrErr return 6.
> The code is like this,
> 
> #include "include\ogr_spatialref.h"
> void main()
> {
>     OGRSpatialReference CustomCoordinateInform;
>     
>     OGRErr ogrErr;
> 
>     ogrErr = CustomCoordinateInform.importFromEPSG(4001);         // 
> ogrErr = 6
> }
> How can get PCS,GCS Inform using ImportfromEPSG() function???

Cho,

OGR error 6 is OGRERR_FAILURE, a rather generic code.

I suspect the EPSG csv files aren't being found.  You might
try setting the GDAL_DATA environment variable to point to the
gdal/data directory or possibly just before calling importFromEPSG(),
call:

  GDALSetConfigOption( "GDAL_DATA", "C:\\gdal\\data" );

(well with the appropriate path of course).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Tue Apr 25 15:49:09 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] A problem for OGR to read 64bit integer type attribute
	in arc/info binary coverage
In-Reply-To: <10858337.1145802899159.JavaMail.postfix@mx74.mail.sohu.com>
References: <10858337.1145802899159.JavaMail.postfix@mx74.mail.sohu.com>
Message-ID: <444E7D35.4010902@pobox.com>

hf2042@sohu.com wrote:
> When using the GDAL/OGR Library to read the arc/info binary coverage 
> files, I find that the OGR can not read the 64bit integer type attribute 
> value properly.
> 
> In arc/info binary coverage files some attributes are often stored in 
> 64bit integer type; however, the OGR Library seems to only support 32bit 
> integer type in maximum.
> 
> For example, it reads out the integer attribute value 131021212125 as 
> -2121882158.
> 
> Would you please give me some advice?

Hi,

I'm afraid your analysis is correct.  I think after the GDAL 1.3.2 release
one of the things we need to address for 1.4.0 is a 64bit integer field
type in OGR.  I would encourage you to file a bug on the particular
issue with binary coverages including a zip of a modest sized coverage
demonstrating the problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dylan.beaudette at gmail.com  Tue Apr 25 17:14:00 2006
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Re: [GRASSLIST:864] GMT / GRASS use / shp2gmt
In-Reply-To: <20060425141331.3fe0ede9@localhost.localdomain>
References: <20060425141331.3fe0ede9@localhost.localdomain>
Message-ID: <200604251414.00467.dylan.beaudette@gmail.com>

Hi Trevor:

(sorry for any cross-posts, hoping to get some extra traction on this topic)

On Tuesday 25 April 2006 01:13 pm, Trevor Wiens wrote:
> Grudgingly I'm using GMT after working through Dylan's example and am
> getting it to be somewhat functional.

:) sorry for any slightly outdated material on that site 
(http://169.237.35.250/~dylan/grass_user_group/map1.html). I have a lot of 
changes that I would like to make, along with some more examples... 
Unfortunately I don't have a lot of spare time these days.

Another, simpler example using something other than UTM projected data can be 
found here:
http://casoilresource.lawr.ucdavis.edu/drupal/node/102

Another (unfinished) collection of samples can be found here:
http://casoilresource.lawr.ucdavis.edu/drupal/node/51

> I will be needing to script the building of a large number of maps
> which I may store either in PostGIS or GRASS.

you might find the scripts "g.fieldsheet.sh" and "make_fieldsheets.sh" found 
on the third URL above useful templates. I used these along with some 
additional bash scripts to automate the process of making about 2 hundred 
maps for soil survey operations. examples here: 
http://169.237.35.250/~dylan/NPS/#fieldsheets

ask if you would like some of the details.

> I've noticed in the use of shp2gmt that there is no way of adding in a
> z attribute for use with the thematic colour assignment feature in GMT.
> If necessary I can extract bits based on different attributes and add
> them in separately, but it would be nice to be able to simply define a
> colour them once and be done with it. Any suggestions on how I can turn
> an attribute column in GRASS into a z-element that will be converted
> with shp2gmt would be appreciated.
>
> T

Yes. This is a major drawback for multi-class maps. Unfortunately I did not 
have the time, nor expertise to customize shp2gmt for inclusion of symbology 
parameters. There has been some discussion on the GMT and GDAL lists about 
the possible creation of a OGR GMT driver ... but I haven't heard any news on 
this topic for a while. I have been toying with the idea of a new GRASS 
command called 'v.out.gmt' which would export simple geometry along with 
selected symbology to the GMT format. 

A starting point would be to use `v.out.ascii format=standard` along with 
v.out.ascii.db to add an attribute on the starting line of each feature.

the resulting file for lines or closed polygons would look like this:

> -W2/255/1/1 -G255/0/0
 660835 4040837
 660827 4040845
 660819 4040846
> -W2/255/1/255 
 660835 4040837
 660827 4040845
 660819 4040846

the '-W' and '-G' control pen and fill colors.

for points of varying symbol size, the third field is the symbol size:

> -G255/0/0 -W2/0/255/0
 660835 4040837	1
> -G0/255/255 -W2/0/255/0
 660827 4040845	9


An alternate method is to use an external CPT file for colors:

psxy [...] -L -Cthe_cpt_file.cpt  > output.ps

each polygon stanza should have the following:
> -Z<value>
 661096.53862171 4041121.73826666
 661093.98591761 4041116.63285845
 661091.4332135 4041111.52745023
 661083.77510118 4041108.97474613
 660835.31190146 4040837.53720944

where <value> is a number referenced to a color in the CPT file

...So where to start? I think that it shouldn't be too hard to implement 
simple vector->GMT conversion, based on the code found in v.out.ascii , and 
as Hamish suggested a while ago ps.map (for attribute access).

A skeleton GRASS module could look something like:

src/vector/v.out.gmt/
---main.c----
1.  get user args and init pointers
2.  detect feature type
3.  loop through features:
	1. extract & write symbology
	2. write vertex records
	3. optionally close polygon
	4. add to buffer, next feature

4. flush buffer to disk	
5. clean-up and exit
------------

Apologies for the long post. Ideally it would be great to have GMT vector 
support in GDAL/OGR. Raster support is nearly ready through r.out.bin | 
xyz2grd -or- r.out.gdal format=NetCDF ...

Cheers,

-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341

From mataro at cyberwerks.com  Tue Apr 25 19:03:55 2006
From: mataro at cyberwerks.com (Eric S. Theise)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal 1.3.X on freeBSD
In-Reply-To: <444E53CE.2070308@pobox.com>
Message-ID: <200604252303.k3PN3tQH040442@nitric.spitbite.org>

Hi Frank,

> If you are encountering this only in the mysql driver, I would imagine
> the issue is a conflict between mysql include files and c++ stl include
> files with regard to the definition of swap.  I just searched my client
> mysql library and they define swap_variable, but not swap.  Perhaps an
> older version of the mysql client sdk on your system uses swap() instead?

Thanks for the tip... I upgraded my mysql & I'm now operational.

--Eric

From warmerdam at pobox.com  Tue Apr 25 22:14:43 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
Message-ID: <444ED793.2020404@pobox.com>

Folks,

A few significant issues were encountered in the GDAL 1.3.2 beta1, so
I have prepared a beta2 and placed it at:

   http://www.gdal.org/dl/gdal-1.3.2b2.tar.gz
   http://www.gdal.org/dl/gdal132b2.zip

One significant change relates to an updating of the libtool infrastructure.
Hopefully this will help but I would appreciate wide operating system
tests of it.

If all goes well, I will issue a GDAL 1.3.2 final later this week.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From hydromap at gmail.com  Tue Apr 25 22:25:00 2006
From: hydromap at gmail.com (Shoaib Burq)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] vector 2 raster
Message-ID: <60c6835d0604251925p432276b9nc46417e51f6117c5@mail.gmail.com>

Hi list

just wondering are their any OS tools that will perform a vector to
raster conversion?

thanks
shoaib


From warmerdam at pobox.com  Tue Apr 25 23:49:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] OSGeo Sponsorship Program
Message-ID: <444EEDD2.5070509@pobox.com>

Folks,

As part of the establishment of OSGeo a fundraising committee is being
launched.  This may be of particular interest to the GDAL/OGR community
because it is my hope that the fundraising committee will establish a
sponsorship program that includes the ability for sponsors to direct
a portion of their sponsorship funding to support particular foundation
projects.

It is my hope that the GDAL/OGR community, in particular some of the
substantial organizations depending on GDAL/OGR, will see this as a desirable
way to provide ongoing support for the maintenance and improvement of
GDAL/OGR.  If successful it is my hope to use this project specific
funding to contract an individual dedicated to GDAL/OGR maintenance, bug
fixing and support.   This would of course be subject to the GDAL/OGR
Project Management Committee.

I am writing now mainly in the hopes that folks out there who see themselves
as potential sponsors will participate in the fundraising committee so as
to ensure that the sponsorship program is tailored in a way that will be
attractive to sponsors.  So that it will meet your organizatios goals, and
also so that it will be succesful, bring in broader sponsorship support.

As with most committees, those not prepared to commit a substantial amount
of time to participate can still join the mailing list, review the wiki and
web pages, join IRC meetings and provide feedback.  At a later date I also
anticipate coming back to the broader community to generate leads for
potential sponsors.

The web page for the committee is at:

   https://fundraising.osgeo.org/

The Wiki page (with meetings, working docs, etc) is at:

   http://wiki.osgeo.org/index.php/Fundraising

The mailing list is at:

   https://fundraising.osgeo.org/servlets/ProjectMailingListList

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From bt at ccgis.de  Wed Apr 26 05:43:58 2006
From: bt at ccgis.de (Benjamin Thelen)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Build on FreeBSD-4.11 fails (again)
Message-ID: <52310.192.168.0.5.1146044638.squirrel@center>

Hi all,

four month after we managed to get gdal-1.3.1 running on FreeBSD-4.11, I  
decided to upgrade. I suprisingly saw that building gdal-1.3.1 stops
again, but with a different error message - please have
a look below. Building gdal-1.3.1 --without-geos is successful! In December
gdal-1.3.1 built successfully with geos-2.1.4. Well, something crucial
must have changed within GEOS.

Will there be a chance to get it going again?

Another question is, can I live "without-geos"? If yes, there maybe is no
need to get gdal built on a legacy FreeBS 4.11 (with GEOS support). I
mean, GEOS support is used by PostGIS and MapServer connects to PostGIS
directly. Which are the cases GEOS support is required for gdal (or
MapServer)?

Thanks,
Ben


/usr/libexec/elf/ld: warning: libstdc++.so.6, needed by
/usr/local/lib/libgeos.so, may conflict with libstdc++.so.3
../.libs/libgdal.so: undefined reference to
`geos::DistanceOp::DistanceOp(geos::Geometry const *, geos::Geometry
const *)'
../.libs/libgdal.so: undefined reference to
`geos::ConvexHull::~ConvexHull(void)'
../.libs/libgdal.so: undefined reference to
`geos::BufferOp::BufferOp(geos::Geometry *)'
../.libs/libgdal.so: undefined reference to
`geos::WKTReader::read(basic_string<char, string_char_traits<char>,
__default_alloc_template<false, 0> >)'
../.libs/libgdal.so: undefined reference to
`geos::DistanceOp::distance(void)'
../.libs/libgdal.so: undefined reference to
`geos::WKTWriter::WKTWriter(void)'
../.libs/libgdal.so: undefined reference to
`geos::WKTReader::WKTReader(geos::GeometryFactory const *)'
../.libs/libgdal.so: undefined reference to `geos::GEOSException
type_info node'
../.libs/libgdal.so: undefined reference to
`geos::ConvexHull::getConvexHull(void)'
../.libs/libgdal.so: undefined reference to `geos::GEOSException
type_info function'
../.libs/libgdal.so: undefined reference to
`geos::WKTWriter::write(geos::Geometry const *)'
../.libs/libgdal.so: undefined reference to
`geos::ConvexHull::ConvexHull(geos::Geometry const *)'
../.libs/libgdal.so: undefined reference to
`geos::WKTReader::~WKTReader(void)'
../.libs/libgdal.so: undefined reference to
`geos::BufferOp::getResultGeometry(double, int)'
../.libs/libgdal.so: undefined reference to
`geos::WKTWriter::~WKTWriter(void)'
../.libs/libgdal.so: undefined reference to
`geos::GeometryFactory::GeometryFactory(void)'
../.libs/libgdal.so: undefined reference to
`geos::DistanceOp::~DistanceOp(void)'
gmake[1]: *** [ogrinfo] Error 1
gmake[1]: Leaving directory `/usr/ports/graphics/gdal/work/gdal-1.3.1/ogr'
gmake: *** [ogr-apps] Error 2
*** Error code 2


From dpinte at itae.be  Wed Apr 26 11:13:38 2006
From: dpinte at itae.be (Didrik Pinte)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] python geotiff raster creation
Message-ID: <1146064418.19349.29.camel@geru-itae>

Hi,

I'm trying to save a numpy array coming from a Fortran model to a raster
file.

The coordinate system is a ED50/UTM zone30. Everything works fine except
that the GeoTIFF file is a big white square without any information ...

Trying gdal2xyz.py, i see that I have some values in the raster ... 

Do someone have an idea on my problem ?

Here is the part of the script that export the raster file :
----------------------------------------------------------------------
#!/usr/bin/python
[...]
dst_filename = 'test' + str(self.active_z[i]) + '.tiff'
driver = gdal.GetDriverByName( "GTiff" )
dst_ds = driver.Create( dst_filename, len(self.idx['X']),\
                        len(self.idx['Y']), 1, gdal.GDT_Float32 \ 
                        ['TFW=YES' 'COMPRESS=PACKBITS'] )

dst_ds.SetGeoTransform( [ self.coord['X'][0], \
                          self.coord['X'][1]-self.coord['X'][0],\
                          0, \ 
                          self.coord['Y'][0],\
                          0, \
                          self.coord['Y'][1]-self.coord['Y'][0]]
                       )
    
srs = osr.SpatialReference()
srs.SetWellKnownGeogCS( "EPSG:23030" );
dst_ds.SetProjection( srs.ExportToWkt() )

raster = self.matrix[:,:,self.active_z[i]] 
dst_ds.GetRasterBand(1).WriteArray( transpose(raster) )
dst_ds.FlushCache()
del(dst_ds)
----------------------------------------------------------------------

Thanks in advance for your help

--
Didrik Pinte
Research assistant
University catholic of Louvain
pinte@geru.ucl.ac.be
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Ceci est une partie de message
	=?ISO-8859-1?Q?num=E9riquement?= =?ISO-8859-1?Q?_sign=E9e?=
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060426/555b6763/attachment.bin
From woklist at kyngchaos.com  Wed Apr 26 12:35:32 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <444ED793.2020404@pobox.com>
References: <444ED793.2020404@pobox.com>
Message-ID: <DC379093-310E-4AEC-A554-5D8C35AAACD7@kyngchaos.com>

I didn't try 1.3.2b1, but b2 has a linking problem on Mac OS X.   
Somehow an extra 'ar x' step is added for linking in static libraries  
(ie libmysqlclient.a).  And ar apparently doesn't like a fat  
(universal) static library.

I poked around in libtool, and it seems to have something to do with  
the convenience libs and whole_archive_flag_spec -  
whole_archive_flag_spec is not set now, in 1.3.1 it's "-all_load \ 
$convenience" for darwin.  Without whole_archive_flag_spec, static  
libs go thru the 'ar x' thing.

After setting (hacking) whole_archive_flag_spec="-all_load \ 
$convenience" (in the CXX tag section) in libtool, it works again.


The new way would probably work with the default mysql binaries for  
Mac OS X - they're single-architecture static libs.


On Apr 25, 2006, at 9:14 PM, Frank Warmerdam wrote:

> Folks,
>
> A few significant issues were encountered in the GDAL 1.3.2 beta1, so
> I have prepared a beta2 and placed it at:
>
>   http://www.gdal.org/dl/gdal-1.3.2b2.tar.gz
>   http://www.gdal.org/dl/gdal132b2.zip
>
> One significant change relates to an updating of the libtool  
> infrastructure.
> Hopefully this will help but I would appreciate wide operating system
> tests of it.
>
> If all goes well, I will issue a GDAL 1.3.2 final later this week.
>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

Theory of the Universe

There is a theory which states that if ever anyone discovers exactly  
what the universe is for and why it is here, it will instantly  
disappear and be replaced by something even more bizarrely  
inexplicable.  There is another theory which states that this has  
already happened.

-Hitchhiker's Guide to the Galaxy 2nd season intro


From warmerdam at pobox.com  Wed Apr 26 13:42:59 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <DC379093-310E-4AEC-A554-5D8C35AAACD7@kyngchaos.com>
References: <444ED793.2020404@pobox.com>
	<DC379093-310E-4AEC-A554-5D8C35AAACD7@kyngchaos.com>
Message-ID: <444FB123.8060205@pobox.com>

William Kyngesburye wrote:
> I didn't try 1.3.2b1, but b2 has a linking problem on Mac OS X.  Somehow 
> an extra 'ar x' step is added for linking in static libraries (ie 
> libmysqlclient.a).  And ar apparently doesn't like a fat (universal) 
> static library.
> 
> I poked around in libtool, and it seems to have something to do with the 
> convenience libs and whole_archive_flag_spec - whole_archive_flag_spec 
> is not set now, in 1.3.1 it's "-all_load \$convenience" for darwin.  
> Without whole_archive_flag_spec, static libs go thru the 'ar x' thing.
> 
> After setting (hacking) whole_archive_flag_spec="-all_load 
> \$convenience" (in the CXX tag section) in libtool, it works again.
> 
> 
> The new way would probably work with the default mysql binaries for Mac 
> OS X - they're single-architecture static libs.

William,

Yikes! Can you submit the patch via bugzilla (the patch should presumably
be applied to m4/libtool.m4).  I'm a bit nervous about fiddling with this
stuff but I also don't want us in the position of lots of MacOS X build
problems till the next version after 1.3.2.

This libtool stuff *scares* me.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From Peter.Rushforth at statcan.ca  Wed Apr 26 13:55:02 2006
From: Peter.Rushforth at statcan.ca (Peter.Rushforth@statcan.ca)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] building gdal on solaris
Message-ID: <AB38021D12570A4AB907F442AE548807011A7E19@stcem04.statcan.ca>

Hi Frank and Howard,

After much ado, I got gdal 1.3.2b1 built on solaris 2.8.  Thanks for your
help and everyone else who contributed suggestions.

It turns out I needed to build a fresh copy of xerces, since
the pre-built xerces didn't have the right symbols or something.

I needed xerces for gml support.

I will re-build with the final version of 1.3.2 when its ready.

Cheers,
Peter

> -----Original Message-----
> From: gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of 
> Frank Warmerdam
> Sent: April 24, 2006 1:38 PM
> To: Peter Rushforth
> Cc: gdal-dev@lists.maptools.org
> Subject: Re: [Gdal-dev] building gdal on solaris
> 
> 
> Peter Rushforth wrote:
> > Hi Frank,
> >  
> > I did build gdal 1.3.2b, but I was missing xerces for gml.  So I am 
> > trying that now.  I am assuming it is 32-bit xerces which 
> is required, 
> > and I am using
> > the pre-built xerces.  I get the following error.   Can you see what
> > I'm missing?
> 
> Peter,
> 
> Sorry, I have no idea what is going wrong.
> 
> Unless you need GML reading, I would suggest configuring 
> --without-xerces.
> 
> Best regards,
> 
> > checking for Xerces C++... requested, but compile or link fails!
> > 
> > g++ -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include
> > g++ 
> -I/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/include/xerces
> > g++ c
> > g++ -o conftest conftest.cpp
> > g++ -L/bilbo05/rushpet/xerces/xerces-c-solaris_28-cc_62/lib 
> -ljpeg -lpng
> > g++ -lz -lm -lrt -ldl
> > 
> > Undefined                       first referenced
> > symbol                             in file
> > xercesc_2_7::XMLPlatformUtils::Initialize(char const*, char const*,
> > xercesc_2_7::PanicHandler*, xercesc_2_7::MemoryManager*, 
> > bool)/var/tmp//cceUPWyC.o
> > xercesc_2_7::XMLUni::fgXercescDefaultLocale      
> /var/tmp//cceUPWyC.o
> > ld: fatal: Symbol referencing errors. No output written to conftest
> > collect2: ld returned 1 exit status
> 
> 
> -- 
> ---------------------------------------+----------------------
> ----------------
> I set the clouds in motion - turn up   | Frank Warmerdam, 
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | President OSGF, 
> http://osgeo.org
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 


From woklist at kyngchaos.com  Wed Apr 26 14:07:23 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <444FB123.8060205@pobox.com>
References: <444ED793.2020404@pobox.com>
	<DC379093-310E-4AEC-A554-5D8C35AAACD7@kyngchaos.com>
	<444FB123.8060205@pobox.com>
Message-ID: <591F9DA1-5D77-44CD-8A41-A81A92D2C2AD@kyngchaos.com>

Libtool config stuff is a bit deep for me also.  Do you have a  
libtool.m4 for GDAL 1.3.1 (I don't see one in the source)?  Or is  
this autoconfig thing for libtool part of what's new with libtool for  
1.3.2?  I could use an old libtool.m4 as a guide - I think I found  
the lines in there that should be changed, I just want to make sure.

I could also try looking at some other projects to see what they do.

On Apr 26, 2006, at 12:42 PM, Frank Warmerdam wrote:

> William Kyngesburye wrote:
>> I didn't try 1.3.2b1, but b2 has a linking problem on Mac OS X.   
>> Somehow an extra 'ar x' step is added for linking in static  
>> libraries (ie libmysqlclient.a).  And ar apparently doesn't like a  
>> fat (universal) static library.
>> I poked around in libtool, and it seems to have something to do  
>> with the convenience libs and whole_archive_flag_spec -  
>> whole_archive_flag_spec is not set now, in 1.3.1 it's "-all_load \ 
>> $convenience" for darwin.  Without whole_archive_flag_spec, static  
>> libs go thru the 'ar x' thing.
>> After setting (hacking) whole_archive_flag_spec="-all_load \ 
>> $convenience" (in the CXX tag section) in libtool, it works again.
>> The new way would probably work with the default mysql binaries  
>> for Mac OS X - they're single-architecture static libs.
>
> William,
>
> Yikes! Can you submit the patch via bugzilla (the patch should  
> presumably
> be applied to m4/libtool.m4).  I'm a bit nervous about fiddling  
> with this
> stuff but I also don't want us in the position of lots of MacOS X  
> build
> problems till the next version after 1.3.2.
>
> This libtool stuff *scares* me.
>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

Earth: "Mostly harmless"

- revised entry in the HitchHiker's Guide to the Galaxy


From warmerdam at pobox.com  Wed Apr 26 14:14:00 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <591F9DA1-5D77-44CD-8A41-A81A92D2C2AD@kyngchaos.com>
References: <444ED793.2020404@pobox.com>
	<DC379093-310E-4AEC-A554-5D8C35AAACD7@kyngchaos.com>
	<444FB123.8060205@pobox.com>
	<591F9DA1-5D77-44CD-8A41-A81A92D2C2AD@kyngchaos.com>
Message-ID: <444FB868.3030409@pobox.com>

William Kyngesburye wrote:
> Libtool config stuff is a bit deep for me also.  Do you have a 
> libtool.m4 for GDAL 1.3.1 (I don't see one in the source)?  Or is this 
> autoconfig thing for libtool part of what's new with libtool for 1.3.2?  
> I could use an old libtool.m4 as a guide - I think I found the lines in 
> there that should be changed, I just want to make sure.
> 
> I could also try looking at some other projects to see what they do.

William,

The addition of m4/libtool.m4 is part of what changed.  I don't know what
got used in the past.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From woklist at kyngchaos.com  Wed Apr 26 14:18:17 2006
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <591F9DA1-5D77-44CD-8A41-A81A92D2C2AD@kyngchaos.com>
References: <444ED793.2020404@pobox.com>
	<DC379093-310E-4AEC-A554-5D8C35AAACD7@kyngchaos.com>
	<444FB123.8060205@pobox.com>
	<591F9DA1-5D77-44CD-8A41-A81A92D2C2AD@kyngchaos.com>
Message-ID: <3D89BED3-E30F-4FDC-9675-DC374513067E@kyngchaos.com>

Oh, wait.  It's aclocal.m4 in gdal 1.3.1.  I'll look at that and see  
what I can do.


On Apr 26, 2006, at 1:07 PM, William Kyngesburye wrote:

> Libtool config stuff is a bit deep for me also.  Do you have a  
> libtool.m4 for GDAL 1.3.1 (I don't see one in the source)?  Or is  
> this autoconfig thing for libtool part of what's new with libtool  
> for 1.3.2?  I could use an old libtool.m4 as a guide - I think I  
> found the lines in there that should be changed, I just want to  
> make sure.
>
> I could also try looking at some other projects to see what they do.
>
> On Apr 26, 2006, at 12:42 PM, Frank Warmerdam wrote:
>>
>> William,
>>
>> Yikes! Can you submit the patch via bugzilla (the patch should  
>> presumably
>> be applied to m4/libtool.m4).  I'm a bit nervous about fiddling  
>> with this
>> stuff but I also don't want us in the position of lots of MacOS X  
>> build
>> problems till the next version after 1.3.2.
>>
>> This libtool stuff *scares* me.
>>

-----
William Kyngesburye <kyngchaos@kyngchaos.com>
http://www.kyngchaos.com/

"I ache, therefore I am.  Or in my case - I am, therefore I ache."

- Marvin



From JAMES.E.HOPPER at saic.com  Wed Apr 26 14:50:03 2006
From: JAMES.E.HOPPER at saic.com (Hopper, James E.)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Re:  GDAL 1.3.2 Beta 2 Released 
In-Reply-To: <200604260217.k3Q2HTFR014059@duke.maptools.org>
Message-ID: <C075391B.DCA%james.e.hopper@saic.com>

Is there a version of the python autotest stuff for 1.3.2?

I build it on os x (using xcode) and will run the test if you have it.

jim


On 4/25/06 10:17 PM, "gdal-dev-request@lists.maptools.org"
<gdal-dev-request@lists.maptools.org> wrote:

> GDAL 1.3.2 Beta 2 Released 


From bartvde at xs4all.nl  Wed Apr 26 15:33:12 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GML to database
Message-ID: <444FCAF8.60603@xs4all.nl>

Hi list,

there seems to be a growing need for tools which can read GML 3 
application schemas and the corresponding GML files, and roll that into 
a database (so create the tables, and the relationships between the 
tables, fill them etc.).

Does ogr2ogr see a role for itself in this domain?

Best regards,
Bart

-- 
Bart van den Eijnden
OSGIS, Open Source GIS
http://www.osgis.nl


From condit at sdsc.edu  Wed Apr 26 19:36:38 2006
From: condit at sdsc.edu (Christopher Condit)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] gdal_warp question
Message-ID: <845AADAC1106E44996327D62097E4C6B8F7EB7@et.ad.sdsc.edu>

Hi list-
I'm attempting to use gdal_warp to interpolate and resample an ArcInfo
ASCII Grid.  I'm getting strange negative values in the output and I'm
curious as to why that is.

gdal_translate.exe somedodssource[y][x] -a_srs EPSG:4326 -a_nodata -1
-of AAIGrid out.txt
gdalwarp -ot Float32 -wt Float32 -te -179.5 -89.5 179.5 89.5 -tr 1 1
-srcnodata -1 -of GTiff out.txt test.tif

I'm trying to regrid this data to 1 degree cells centered on the half
degree.  I do get output - but the range is way off. There are many
negative values in the output. The range of values in my input ascii
file is 0.0 to 2736477.5.  They are floats.

What's going on?

Thanks!

Chris


From vaskup at adsmr.co.za  Wed Apr 26 12:55:49 2006
From: vaskup at adsmr.co.za (Vasku Pech)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL for windows CE
Message-ID: <8EAC4519CA64734E8D37C4B4F69DFE6D01BC7705@ADSMAIL.Adsintranet.Corp>

Hi,

I am busy developing an application for my company which needs to use GDAL for Windows CE.

I have downloaded a development snapshot from gdal.maptolls.org/dll/daily but it does not want to build using evc++ 4.0

I am following the instructions to build GDAL for Windows CE as a DLL.

The Readme file states:

- evc4_gdalce_dll*
  Project file for eMbedded Visual C++ 4.0 to build GDAL/OGR as a DLL.

Summary of building GDAL/OGR for Windows CE:
============================================
1. Static Library:
- using makefile.evc4
- using eVC++ 4.0 project file in evc4_gdalce_lib directory
2. DLL:
- using eVC++ 4.0 project file in evc4_gdalce_dll directory
- building with makefile.evc4 is currently broken 

I use the workspace file supplied .vcw but it does not want to compile. It tells me that the .vcw and .vcp files where not created in embedded Visual C++.

I have tried to download a stable version of the software via the CVS site. When I enter the password *enter* it gives me the following reply: Unknown host cvs.maptools.org

Can you please tell me where I can download the Windows CE port of gdal with the correct make files or project/workspace files?

Regards,
Vasku Pech




From richard at waypointinfo.com  Wed Apr 26 17:04:25 2006
From: richard at waypointinfo.com (Richard Matsunaga)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GDAL/OGR C# wrapper
Message-ID: <000001c66975$02a0a390$cc01a8c0@Maddog>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: GDALWrapper.zip
Type: application/x-zip-compressed
Size: 33099 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060426/4d65ed53/GDALWrapper.bin
From warmerdam at pobox.com  Wed Apr 26 23:31:05 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] GML to database
In-Reply-To: <444FCAF8.60603@xs4all.nl>
References: <444FCAF8.60603@xs4all.nl>
Message-ID: <44503AF9.3090703@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Hi list,
> 
> there seems to be a growing need for tools which can read GML 3 
> application schemas and the corresponding GML files, and roll that into 
> a database (so create the tables, and the relationships between the 
> tables, fill them etc.).
> 
> Does ogr2ogr see a role for itself in this domain?

Bart,

Ogr2ogr takes a "simple features" view of the world.  I would like to see
OGR's GML support, including support for application schemas, improve.  But
realistically there is quite a leap beyond that to understanding complex
application schemas, relationships between tables and so forth.  I am
doubtful that OGR will get there in the forseeable future.

I would add that OGR doesn't generally understand inter-table relationships
in RDBMSes either, nor provide a means to set them up.

I wonder what the quality of FDO's GML support is (if any!) and if it
might address this need better.  Certainly FDO seems to aspire to a
more database oriented view of feature data than OGR does.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Thu Apr 27 01:38:57 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] gdal_warp question
In-Reply-To: <845AADAC1106E44996327D62097E4C6B8F7EB7@et.ad.sdsc.edu>
References: <845AADAC1106E44996327D62097E4C6B8F7EB7@et.ad.sdsc.edu>
Message-ID: <445058F1.9050101@pobox.com>

Christopher Condit wrote:
> Hi list-
> I'm attempting to use gdal_warp to interpolate and resample an ArcInfo
> ASCII Grid.  I'm getting strange negative values in the output and I'm
> curious as to why that is.
> 
> gdal_translate.exe somedodssource[y][x] -a_srs EPSG:4326 -a_nodata -1
> -of AAIGrid out.txt
> gdalwarp -ot Float32 -wt Float32 -te -179.5 -89.5 179.5 89.5 -tr 1 1
> -srcnodata -1 -of GTiff out.txt test.tif

Chris,

I think you want -180 -90 180 90 as your extents.  The extents should
be from the "outside edge" of the image, not the center of the edge
pixels.

> I'm trying to regrid this data to 1 degree cells centered on the half
> degree.  I do get output - but the range is way off. There are many
> negative values in the output. The range of values in my input ascii
> file is 0.0 to 2736477.5.  They are floats.

I'm afraid I don't know why this is happening.   If the DODS source is
public perhaps you could provide the full commands.  Alternatively
could you send me directly the "out.txt" and I can try the second step?

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From comptechltd at charter.net  Thu Apr 27 03:18:01 2006
From: comptechltd at charter.net (Steve Alexander)
Date: Wed Nov 21 11:50:06 2007
Subject: [Gdal-dev] Very very newbie lost with gdalwarp
Message-ID: <4v9ddn$gpcv3n@mxip36a.cluster1.charter.net>

I apologize for my ignorance up front.  I am very, very new to this and am
attempting to convert a BigJPG from USAPhotomats as references here:
http://www.msh-tools.com/general.html   Under the "Convert from UTM to WGS84
Lat/Long" heading.

 

I have to tell you I am LOST.  As I stated earlier am so new to this it is
pathetic.  Basically I am trying to convert a JPG to use in Ozi Explorer to
trace a trailmap to download to my Magellan Explorist 600 GPS like is shown
here: http://www.msh-tools.com/addmagmap/ex4.html 

 

I want to trace an aerial photo trail map, make a new detailed map and
upload it to my GPS.  I am stuck when it comes to using gdalwarp to adjust
the picture and convert the coordinates.  I have tried it but I keep getting
errors.

 

Can anyone just point me in the right direction.  (Especially what command
line switches I should use with gdalwarp)????

 

Thanks,

 

Steve

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060427/de6efb0c/attachment.html
From mateusz at loskot.net  Thu Apr 27 08:19:47 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: GDAL for windows CE
In-Reply-To: <8EAC4519CA64734E8D37C4B4F69DFE6D01BC7705@ADSMAIL.Adsintranet.Corp>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01BC7705@ADSMAIL.Adsintranet.Corp>
Message-ID: <4450B6E3.1080605@loskot.net>

Hi,

Vasku Pech wrote:
> 
> I use the workspace file supplied .vcw but it does not want to
> compile. It tells me that the .vcw and .vcp files where not created
> in embedded Visual C++.

Hmm, that's very strange.
Could you check if those .vcw/.vcw files have CR/LF line ends?
May be those files were converted to Unix LFs only and eVC++ can not
recognize them.

> I have tried to download a stable version of the software via the CVS
> site. When I enter the password *enter* it gives me the following
> reply: Unknown host cvs.maptools.org

Strange. I use GDAL CVS every day and it works.
Please, try to follow this procedure:

C:\tmp\gal$ cvs -d
:pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot login
Logging in to :pserver:cvsanon@cvs.maptools.org:2401/cvs/maptools/cvsroot
CVS password:    *ENTER*

C:\tmp\gal$ cvs -z3 -d
:pserver:cvsanon@cvs.maptools.org:/cvs/maptools/cvsroot checkout gdal

> Can you please tell me where I can download the Windows CE port of
> gdal with the correct make files or project/workspace files?

Try to downlaod them from CVS again, then check if lines in .vcw/.vcp
files are ended with CR/LF.

If it still is not working, give me ASAP a note I'll try to find where
it the problem.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From bartvde at xs4all.nl  Thu Apr 27 09:12:28 2006
From: bartvde at xs4all.nl (Bart van den Eijnden (OSGIS))
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: problem using OCI ovf
In-Reply-To: <16224.145.50.39.8.1145882898.squirrel@webmail.xs4all.nl>
References: <16224.145.50.39.8.1145882898.squirrel@webmail.xs4all.nl>
Message-ID: <24637.145.50.39.8.1146143548.squirrel@webmail.xs4all.nl>

Okay, found out this only occurs when using SrcSQL, if I use SrcLayer
everything works fine.

So I have solved this problem by creating a database view instead.

<OGRVRTDataSource>
    <OGRVRTLayer name="calamiteitenoud">
        <SrcDataSource>OCI:BVDE/BART@//rws-svl012i.int.storage.nwr.local:1521/TGEOS.rws.nl:VW_CALAMITEITEN_OUD</SrcDataSource>
        <SrcLayer>VW_CALAMITEITEN_OUD</SrcLayer>
        <!--<SrcSQL>SELECT * FROM CALAMITEITEN WHERE ACTUEEL = 0</SrcSQL>-->
        <GeometryType>wkbPoint</GeometryType>
        <LayerSRS>EPSG:28992</LayerSRS>
        <GeometryField encoding="PointFromColumns" x="CALX" y="CALY"/>
    </OGRVRTLayer>
</OGRVRTDataSource>

Best regards,
Bart

> Hi list,
>
> using last week's CVS I am trying to access an ovf point layer in Oracle.
> In Oracle the X and Y columns are of type NUMBER(22,0).
>
> OGR reports all X and Y values as 0 but in the database the correct values
> are present:
>
> CALX     CALY
>  -------  -------
>  33219    669433
>  -452425  913701
>  28883    691114
>  184983   665097
>  66463    776391
>  72244    709904
>  -452425  913701
>  79471    654979
>  73545    515742
>
> Ogrinfo reports:
> CALX: Integer (0.0)
> CALY: Integer (0.0)
>
> And:
>   CALX (Integer) = 0
>   CALY (Integer) = 0
>   ..
>   POINT (0 0 0)
>
> Any ideas what could be going wrong?
>
> The ovf file:
> <OGRVRTDataSource>
>     <OGRVRTLayer name="calamiteitenoud">
>        <SrcDataSource>OCI:BVDE/BART@//xxx:1521/TGEOS.rws.nl:CALAMITEITEN</SrcDataSource>
>         <SrcSQL>SELECT * FROM CALAMITEITEN WHERE ACTUEEL = 0</SrcSQL>
>         <GeometryType>wkbPoint</GeometryType>
>         <LayerSRS>EPSG:28992</LayerSRS>
>         <GeometryField encoding="PointFromColumns" x="CALX" y="CALY"/>
>     </OGRVRTLayer>
> </OGRVRTDataSource>
>
> Thanks in advance.
>
> Best regards,
> Bart
>



From warmerdam at pobox.com  Thu Apr 27 11:20:04 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Very very newbie lost with gdalwarp
In-Reply-To: <4v9ddn$gpcv3n@mxip36a.cluster1.charter.net>
References: <4v9ddn$gpcv3n@mxip36a.cluster1.charter.net>
Message-ID: <4450E124.4050801@pobox.com>

Steve Alexander wrote:
> I apologize for my ignorance up front.  I am very, very new to this and 
> am attempting to convert a BigJPG from USAPhotomats as references here: 
> http://www.msh-tools.com/general.html   Under the ?Convert from UTM to 
> WGS84 Lat/Long? heading.
> 
>  
> 
> I have to tell you I am LOST.  As I stated earlier am so new to this it 
> is pathetic.  Basically I am trying to convert a JPG to use in Ozi 
> Explorer to trace a trailmap to download to my Magellan Explorist 600 
> GPS like is shown here: http://www.msh-tools.com/addmagmap/ex4.html
> 
>  
> 
> I want to trace an aerial photo trail map, make a new detailed map and 
> upload it to my GPS.  I am stuck when it comes to using gdalwarp to 
> adjust the picture and convert the coordinates.  I have tried it but I 
> keep getting errors.
> 
>  
> 
> Can anyone just point me in the right direction.  (Especially what 
> command line switches I should use with gdalwarp)????

Steve,

If your source file has a world file (.jgw) and is in UTM 18 (as in the
web page example) then you would do something like:

gdalwarp -of BMP in.jpg out.bmp \
     -s_srs '+proj=utm +zone=18 +datum=WGS84' +t_srs WGS84

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From mateusz at loskot.net  Thu Apr 27 11:48:01 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GML to database
In-Reply-To: <44503AF9.3090703@pobox.com>
References: <444FCAF8.60603@xs4all.nl> <44503AF9.3090703@pobox.com>
Message-ID: <4450E7B1.9010002@loskot.net>

Frank Warmerdam wrote:
> Bart van den Eijnden (OSGIS) wrote:
> 
>> Hi list,
>>
>> there seems to be a growing need for tools which can read GML 3
>> application schemas and the corresponding GML files, and roll that
>> into a database (so create the tables, and the relationships between
>> the tables, fill them etc.).
>>
>> Does ogr2ogr see a role for itself in this domain?
> 
> 
> Bart,
> 
> Ogr2ogr takes a "simple features" view of the world.  I would like to see
> OGR's GML support, including support for application schemas, improve.  But
> realistically there is quite a leap beyond that to understanding complex
> application schemas, relationships between tables and so forth.  I am
> doubtful that OGR will get there in the forseeable future.

Sharing my cents, I agree with Frank.
XML <-> Database mapping is a very complex subject and I doubt it could
fit OGR API or simple command line tools.

Just as an example of complexity, Altova's MapForce can give some
overview what features are required to implement xml<->database exchange
framework:
http://www.altova.com/features_database_mapforce.html

Another example is Microsoft BizTalk Server and tools related to it.

> I would add that OGR doesn't generally understand inter-table relationships
> in RDBMSes either, nor provide a means to set them up.

Yup. Meta-information is required how to map XML elements to database
schema, etc.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From jorn at spacetec.no  Thu Apr 27 11:50:12 2006
From: jorn at spacetec.no (=?iso-8859-1?q?J=F8rn_Vegard_R=F8snes?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GML to database
In-Reply-To: <444FCAF8.60603@xs4all.nl>
References: <444FCAF8.60603@xs4all.nl>
Message-ID: <200604271750.12386.jorn@spacetec.no>

Hi,

we have implemented this by using
1. Castor to generate Java from the GML XSDs
2. Hibernate to for JDO and interfacing the database (Castor can also be 
used).
3. Insert the coordinates into PostGIS by using SQL

Step 3 could be improved by implementing (sort of) Geometry types and handling 
(insert/retrieve) in Hibernate/Castor.

Best Regards
Joern 


On Wednesday 26 April 2006 21:33, Bart van den Eijnden (OSGIS) wrote:
> Hi list,
>
> there seems to be a growing need for tools which can read GML 3
> application schemas and the corresponding GML files, and roll that into
> a database (so create the tables, and the relationships between the
> tables, fill them etc.).
>
> Does ogr2ogr see a role for itself in this domain?
>
> Best regards,
> Bart

From mateusz at loskot.net  Thu Apr 27 12:32:38 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] building gdal 1.3.X on freeBSD
In-Reply-To: <200604251549.k3PFnV1F025222@nitric.spitbite.org>
References: <200604251549.k3PFnV1F025222@nitric.spitbite.org>
Message-ID: <4450F226.7020508@loskot.net>

Eric S. Theise wrote:
> Hi... new to the list.

Hello

> I'd appreciate any suggestions for resolving this.
> 

I hope following thread will help you to solve the problem;
http://lists.maptools.org/pipermail/gdal-dev/2006-April/008639.html

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From mateusz at loskot.net  Thu Apr 27 12:35:10 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] building gdal 1.3.X on freeBSD
In-Reply-To: <4450F226.7020508@loskot.net>
References: <200604251549.k3PFnV1F025222@nitric.spitbite.org>
	<4450F226.7020508@loskot.net>
Message-ID: <4450F2BE.9080408@loskot.net>

Mateusz ?oskot wrote:
> Eric S. Theise wrote:
> 
>>Hi... new to the list.
> 
> 
> Hello
> 
> 
>>I'd appreciate any suggestions for resolving this.
>>
> 
> 
> I hope following thread will help you to solve the problem;
> http://lists.maptools.org/pipermail/gdal-dev/2006-April/008639.html

Ups, I'm sorry. I've missed this post is an old one and already solved.
Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From Doug_Newcomb at fws.gov  Thu Apr 27 13:47:37 2006
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] use of .prj file
Message-ID: <OF6D56AEF6.B9154A24-ON8525715D.00608DD8-8525715D.0061BE69@fws.gov>

Hi folks,
      Using FWtools1.0.0b2  on windows  - gdal_translate with the -a_srs
option with the following .prj file to define the projection in converting
a tiff to an ecw file:

PROJCS["NAD_1983_UTM_Zone_18N",GEOGCS["GCS_North_American_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",-75.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]

Output from gdalinfo  *.ecw gives the following projection information

Driver: ECW/ERMapper Compressed Wavelets
Size is 10000, 10000
Coordinate System is:
PROJCS["UTM Zone 18, Northern Hemisphere",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.257223563,
                AUTHORITY["EPSG","7030"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9108"]],
        AXIS["Lat",NORTH],
        AXIS["Long",EAST],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-75],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["Meter",1]]

gdal_translate appears to be missing the NAD83 information in the .prj
file.  Is this a known issue?  It is also occuring with gdal-cvs-2006.03.01
and proj 4.4.9 both  compiled from sources ( with the NAD conversion files)
on linux .



Doug Newcomb
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb@fws.gov
---------------------------------------------------------------------------------------------------------

The opinions I express are my own and are not representative of the
official policy of the U.S.Fish and Wildlife Service or Dept. of Interior.
I left my signature file in /dev/null


From rayg at daylongraphics.com  Thu Apr 27 22:05:15 2006
From: rayg at daylongraphics.com (Ray Gardener)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Recommendations for vertical data in GDAL
In-Reply-To: <005101c67119$291ff880$fdf72a18@peterqta28n9cv>
References: <005101c67119$291ff880$fdf72a18@peterqta28n9cv>
Message-ID: <4451785B.3090707@daylongraphics.com>

Hi everyone,

I've written a draft proposal for improving vertical data support in 
GDAL, comments welcome.

http://www.daylongraphics.com/download/vunits_in_gdal.pdf

Ray


From warmerdam at pobox.com  Fri Apr 28 01:12:27 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] use of .prj file
In-Reply-To: <OF6D56AEF6.B9154A24-ON8525715D.00608DD8-8525715D.0061BE69@fws.gov>
References: <OF6D56AEF6.B9154A24-ON8525715D.00608DD8-8525715D.0061BE69@fws.gov>
Message-ID: <4451A43B.6090807@pobox.com>

Doug_Newcomb@fws.gov wrote:
> Hi folks,
>       Using FWtools1.0.0b2  on windows  - gdal_translate with the -a_srs
> option with the following .prj file to define the projection in converting
> a tiff to an ecw file:
> 
> PROJCS["NAD_1983_UTM_Zone_18N",GEOGCS["GCS_North_American_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",500000.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",-75.0],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0.0],UNIT["Meter",1.0]]


Doug,

The problem is that the ECW writer has a bunch of rules on how to
recognise NAD83, and unfortunately D_North_American_1983 doesn't match
any of them.  One solution is to use a form with a more recognisable
nad83 datum like:

  -a_srs '+proj=utm +zone=18 +datum=NAD83'

or you can file a bug against the ECW driver and I can improve it's rules.
I really need a more centralized method on the OGRSpatialReference that
drivers can use to recognise common datums, such as this.  Having bits
of logic in many drivers that tries to recognise stuff like NAD83 is crazy.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri Apr 28 01:16:38 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: problem using OCI ovf
In-Reply-To: <24637.145.50.39.8.1146143548.squirrel@webmail.xs4all.nl>
References: <16224.145.50.39.8.1145882898.squirrel@webmail.xs4all.nl>
	<24637.145.50.39.8.1146143548.squirrel@webmail.xs4all.nl>
Message-ID: <4451A536.8000308@pobox.com>

Bart van den Eijnden (OSGIS) wrote:
> Okay, found out this only occurs when using SrcSQL, if I use SrcLayer
> everything works fine.
> 
> So I have solved this problem by creating a database view instead.
> 
> <OGRVRTDataSource>
>     <OGRVRTLayer name="calamiteitenoud">
>         <SrcDataSource>OCI:BVDE/BART@//rws-svl012i.int.storage.nwr.local:1521/TGEOS.rws.nl:VW_CALAMITEITEN_OUD</SrcDataSource>
>         <SrcLayer>VW_CALAMITEITEN_OUD</SrcLayer>
>         <!--<SrcSQL>SELECT * FROM CALAMITEITEN WHERE ACTUEEL = 0</SrcSQL>-->
>         <GeometryType>wkbPoint</GeometryType>
>         <LayerSRS>EPSG:28992</LayerSRS>
>         <GeometryField encoding="PointFromColumns" x="CALX" y="CALY"/>
>     </OGRVRTLayer>
> </OGRVRTDataSource>
> 
> Best regards,
> Bart
> 
>> Hi list,
>>
>> using last week's CVS I am trying to access an ovf point layer in Oracle.
>> In Oracle the X and Y columns are of type NUMBER(22,0).
>>
>> OGR reports all X and Y values as 0 but in the database the correct values
>> are present:

Bart,

Would you mind filing a bug on this.  I'm not going to get to it before
the 1.3.2 release, but I would like a record of it so someone can get
back to it sooner or later.  I'm not sure why the problem is occuring,
but it would be very helpful if you could provide a little snippit of
SQL to create a minimal example table on which OGR has this problem.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri Apr 28 01:23:32 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re:  GDAL 1.3.2 Beta 2 Released
In-Reply-To: <C075391B.DCA%james.e.hopper@saic.com>
References: <C075391B.DCA%james.e.hopper@saic.com>
Message-ID: <4451A6D4.40101@pobox.com>

Hopper, James E. wrote:
> Is there a version of the python autotest stuff for 1.3.2?
> 
> I build it on os x (using xcode) and will run the test if you have it.
> 
> jim
> 
> 
> On 4/25/06 10:17 PM, "gdal-dev-request@lists.maptools.org"
> <gdal-dev-request@lists.maptools.org> wrote:
> 
>> GDAL 1.3.2 Beta 2 Released 

James,

I have snapped the autotest suite and placed it at:

   http://www.gdal.org/dl/gdalautotest-1.3.2.tar.gz

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From ghuby at geosys.com  Fri Apr 28 03:10:13 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] vector 2 raster
In-Reply-To: <60c6835d0604251925p432276b9nc46417e51f6117c5@mail.gmail.com>
Message-ID: <000b01c66a92$cbab2bc0$1401a8c0@pcgh>

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de Shoaib Burq
> Envoy? : mercredi 26 avril 2006 04:25
> ? : gdal-dev@lists.maptools.org
> Objet : [Gdal-dev] vector 2 raster
> 
> 
> Hi list
> 
> just wondering are their any OS tools that will perform a 
> vector to raster conversion?
> 
> thanks
> shoaib
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@lists.maptools.org 
> http://lists.maptools.org/mailman/listinfo/gdal-dev
> 

Hi,

Have a look at gdal_rasterize (http://www.gdal.org/gdal_rasterize.html).

Guillaume.



From a.francos at cgsondeos.com  Fri Apr 28 03:16:35 2006
From: a.francos at cgsondeos.com (a.francos@cgsondeos.com)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Vectorizing rasters
Message-ID: <17461.212.145.193.110.1146208595.squirrel@correo.cgsondeos.com>

Hi there

I am just looking for tools (or algorithms that I might implement) in
order to vectorize rasters (e.g. convert to polygons -SHP?- the discrete
features included in an, let's say, ASCII raster map).

Up to now the only ways to do so require the use of commercial packages.

Thank you so much. Cheers

Antonio.




-- 
This message was scanned for spam and viruses by BitDefender.
For more information please visit http://linux.bitdefender.com/



From craig.miller at spatialminds.com  Fri Apr 28 04:26:50 2006
From: craig.miller at spatialminds.com (Craig Miller)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Vectorizing rasters
In-Reply-To: <17461.212.145.193.110.1146208595.squirrel@correo.cgsondeos.com>
Message-ID: <007b01c66a9d$7fc08150$0401a8c0@vaio>

Line Trace Plus (LT+) if you can find it was an outstanding raster to vector
conversion program.

--Craig
 

-----Original Message-----
From: gdal-dev-bounces@lists.maptools.org
[mailto:gdal-dev-bounces@lists.maptools.org] On Behalf Of
a.francos@cgsondeos.com
Sent: Friday, April 28, 2006 12:17 AM
To: gdal-dev@lists.maptools.org
Subject: [Gdal-dev] Vectorizing rasters

Hi there

I am just looking for tools (or algorithms that I might implement) in order
to vectorize rasters (e.g. convert to polygons -SHP?- the discrete features
included in an, let's say, ASCII raster map).

Up to now the only ways to do so require the use of commercial packages.

Thank you so much. Cheers

Antonio.




--
This message was scanned for spam and viruses by BitDefender.
For more information please visit http://linux.bitdefender.com/


_______________________________________________
Gdal-dev mailing list
Gdal-dev@lists.maptools.org
http://lists.maptools.org/mailman/listinfo/gdal-dev


From ghuby at geosys.com  Fri Apr 28 05:20:13 2006
From: ghuby at geosys.com (Guillaume HUBY)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Vectorizing rasters
In-Reply-To: <17461.212.145.193.110.1146208595.squirrel@correo.cgsondeos.com>
Message-ID: <000c01c66aa4$f5793520$1401a8c0@pcgh>

> -----Message d'origine-----
> De : gdal-dev-bounces@lists.maptools.org 
> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de 
> a.francos@cgsondeos.com
> Envoy? : vendredi 28 avril 2006 09:17
> ? : gdal-dev@lists.maptools.org
> Objet : [Gdal-dev] Vectorizing rasters
> 
> 
> Hi there
> 
> I am just looking for tools (or algorithms that I might 
> implement) in order to vectorize rasters (e.g. convert to 
> polygons -SHP?- the discrete features included in an, let's 
> say, ASCII raster map).
> 
> Up to now the only ways to do so require the use of 
> commercial packages.
> 
> Thank you so much. Cheers
> 
> Antonio.

Hi,

I'm not sure but gdal_contour (http://www.gdal.org/gdal_contour.html) might
bring you an answer. Since it compute vector contour of rasters, just
imagine each discrete value of pixel is a different elevation.

A+,
Guillaume.



From neteler at itc.it  Fri Apr 28 05:28:52 2006
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Vectorizing rasters
In-Reply-To: <007b01c66a9d$7fc08150$0401a8c0@vaio>
References: <17461.212.145.193.110.1146208595.squirrel@correo.cgsondeos.com>
	<007b01c66a9d$7fc08150$0401a8c0@vaio>
Message-ID: <20060428092852.GH28869@bartok.itc.it>

On Fri, Apr 28, 2006 at 01:26:50AM -0700, Craig Miller wrote:
> Line Trace Plus (LT+) if you can find it was an outstanding raster to vector
> conversion program.
> 
> --Craig

Here is an old copy:
 http://grass.itc.it/oldprojects/ltplus/

Markus

From nicolasgabarron at yahoo.fr  Fri Apr 28 05:31:06 2006
From: nicolasgabarron at yahoo.fr (NicoSIG)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] compile netCDF and GDAL
Message-ID: <4137182.post@talk.nabble.com>



I compiled netcdf-3.6.1 and when I compile GDAL-1.3.1, I have this error
message:

...
memcpy                              0x198      
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(var.o)
memcpy                              0x1ac      
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(var.o)
ncx_putn_double_uchar               0xb88      
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(attr.o)
ncx_putn_double_uchar               0x22e0     
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(putget.o)
close                               0x1038     
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(ncio.o)
close                               0x1178     
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(ncio.o)
close                               0x11b4     
/home/josephine/UnixTools/mapserver/netcdf/netcdf-3.5.1/lib/libnetcdf.a(ncio.o)
ld: fatal: relocations remain against allocatable but non-writable sections
collect2: ld returned 1 exit status
make[1]: *** [libgdal.la] Error 1
make[1]: Leaving directory
`/home/josephine/UnixTools/mapserver/gdal/test/gdal-1.3.1'
make: *** [check-lib] Error 2

what's the problem ?

thanks,
Nico

--
View this message in context: http://www.nabble.com/compile-netCDF-and-GDAL-t1523465.html#a4137182
Sent from the GDAL - Dev forum at Nabble.com.


From dion at west.nl  Fri Apr 28 07:59:48 2006
From: dion at west.nl (Dion Wooning)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <444ED793.2020404@pobox.com>
References: <444ED793.2020404@pobox.com>
Message-ID: <65245.145.50.39.8.1146225588.squirrel@www.west.nl>

Hello list,

Frank Warmerdam said:
> A few significant issues were encountered in the GDAL 1.3.2 beta1, so

> Hopefully this will help but I would appreciate wide operating system
> tests of it.

Build system: Redhat Enterprise Linux 3.0

I've encountered two slight problems, I'll describe them and give a
quick fix to at least get the build working:

1. building with MrSID ESDK V5: file lti_version.h is missing.
   quick fix: I've cooked up a lti_version.h file and put it in
   frmts/mrsid/ for example:

#ifndef LTI_VERSION_H
#define LTI_VERSION_H

#define LTI_SDK_VERSION 0x0506
#define LTI_SDK_MAJOR  5
#define LTI_SDK_MINOR  0
#define LTI_SDK_REV    6

#endif // LTI_VERSION_H

2. link problems with OpenDWG current or older: the linklibs don't get
   included properly into the list of libs. I think this is caused by
   a wrong order of definition in GDALmake.opt.in, as the following
   line:

   LIBS    =       @LIBS@ $(DWG_LIBS) $(SDE_LIB)

   is found above the section where DWG_LIBS is defined:

   # DWGdirect Library
   [...]
   DWG_LIBS = [...]

   quick fix: include the following line below the DWGdirect Library
   section:

LIBS += $(DWG_LIBS)

Yours,
Dion Wooning.



From a.francos at cgsondeos.com  Fri Apr 28 08:10:29 2006
From: a.francos at cgsondeos.com (a.francos@cgsondeos.com)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Vectorizing rasters
In-Reply-To: <000c01c66aa4$f5793520$1401a8c0@pcgh>
References: <17461.212.145.193.110.1146208595.squirrel@correo.cgsondeos.com>
	<000c01c66aa4$f5793520$1401a8c0@pcgh>
Message-ID: <16682.212.145.193.110.1146226229.squirrel@correo.cgsondeos.com>

Hi Guillaume

Thanks for your quick answer.

As a matter of fact gdal_contour works rather well sometimes, just
selecting adequately the "dummy elevations", but producing afterwards line
entities instead of polygons, as far as I know.

Certainly, I do not know how to transform closed lines into polygons by
using GDAL or related libraries.

I will inform the list If I manage to find out!

Cheers

Antonio.


>> -----Message d'origine-----
>> De : gdal-dev-bounces@lists.maptools.org
>> [mailto:gdal-dev-bounces@lists.maptools.org] De la part de
>> a.francos@cgsondeos.com
>> Envoy? : vendredi 28 avril 2006 09:17
>> ? : gdal-dev@lists.maptools.org
>> Objet : [Gdal-dev] Vectorizing rasters
>>
>>
>> Hi there
>>
>> I am just looking for tools (or algorithms that I might
>> implement) in order to vectorize rasters (e.g. convert to
>> polygons -SHP?- the discrete features included in an, let's
>> say, ASCII raster map).
>>
>> Up to now the only ways to do so require the use of
>> commercial packages.
>>
>> Thank you so much. Cheers
>>
>> Antonio.
>
> Hi,
>
> I'm not sure but gdal_contour (http://www.gdal.org/gdal_contour.html)
> might
> bring you an answer. Since it compute vector contour of rasters, just
> imagine each discrete value of pixel is a different elevation.
>
> A+,
> Guillaume.
>
>
>
> --
> This message was scanned for spam and viruses by BitDefender.
> For more information please visit http://linux.bitdefender.com/
>
>
>




-- 
This message was scanned for spam and viruses by BitDefender.
For more information please visit http://linux.bitdefender.com/



From mateusz at loskot.net  Fri Apr 28 13:15:39 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: GDAL for windows CE
In-Reply-To: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFDC10@ADSMAIL.Adsintranet.Corp>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFDC10@ADSMAIL.Adsintranet.Corp>
Message-ID: <44524DBB.7000605@loskot.net>

Vasku Pech wrote:
> I think you found one problem. The .vcw/.vcp files did not have the
> CR/LF.
> 
> After saving the files with the CR/LF, embedded visual C++ was able
> to read the files.

Great!

> There is still a problem in the compilation though. When I tried to
> compile it gave the following error:
> 
> c:\documents and settings\vaskup\my
> documents\my_sample_app\gdal-131a\gdal-cvs-2006.04.26\port\cpl_port.h(170)
> : fatal error C1083: Cannot open include file: 'errno.h': No such
> file or directory
> 
> Where do I get errno.h?

Check wince/wcelibcex/wce_errno.h

Please, check if eVC++ project has path to this directory set to find
headers.

> As far as getting the stable source from CVS, I need to speak to the
> people in my IT Dept to enable the port for CVS. That is probably why
> I get the reply: Unknown host cvs.maptools.org

Yes, CVS requires to have specific 21xx (I'm not sure) port open.
I had to ask my admin in my company to open it on the proxy too :-)

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

From warmerdam at pobox.com  Fri Apr 28 13:47:14 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: GDAL for windows CE
In-Reply-To: <44524DBB.7000605@loskot.net>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFDC10@ADSMAIL.Adsintranet.Corp>
	<44524DBB.7000605@loskot.net>
Message-ID: <44525522.9020303@pobox.com>

Mateusz ?oskot wrote:
>> As far as getting the stable source from CVS, I need to speak to the
>> people in my IT Dept to enable the port for CVS. That is probably why
>> I get the reply: Unknown host cvs.maptools.org
> 
> Yes, CVS requires to have specific 21xx (I'm not sure) port open.
> I had to ask my admin in my company to open it on the proxy too :-)

Folks,

Note that nightly CVS snapshots are prepared and dropped in:

  http://gdal.maptools.org/dl/daily

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri Apr 28 14:54:46 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] DODS format build error
In-Reply-To: <49E82A1A-6234-41EF-B971-EE27E6050455@kyngchaos.com>
References: <49E82A1A-6234-41EF-B971-EE27E6050455@kyngchaos.com>
Message-ID: <445264F6.9060200@pobox.com>

William Kyngesburye wrote:
> I finally got a version of libdap to build on OS X, so I tried adding it 
> to GDAL.  GDAL 1.3.1 + DAP 3.6.2. (I looked at the GDAL snapshot for 
> today, but no changes in dods code, so I didn't bother to try building it)
> 
> It's the exact same error as the 2nd part of bug 891, which is supposed 
> to be fixed (and I do see the fix there in ogr_dods.h):
> 
> dodsdataset2.cpp: In constructor ?DODSDataset::DODSDataset()?:
> dodsdataset2.cpp:307: error: no matching function for call to ?DDS::DDS()?
> /usr/local/gislibs/include/libdap/DDS.h:254: note: candidates are: 
> DDS::DDS(const DDS&)
> 
> Maybe there's a new compatibility option for the 3.5 -> 3.6 update?
> 
> Should I add a new bug for this?  Or should the old bug be reopened?

William,

If you create a new bug I'll see what I can do.  I've got to upgrade
to the latest DAP libraries and fix things up anyways.   Oh, will I ever
get this release out the door?   I do appreciate the good feedback I'm
getting though!

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From warmerdam at pobox.com  Fri Apr 28 15:08:36 2006
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL 1.3.2 Beta 2 Released
In-Reply-To: <65245.145.50.39.8.1146225588.squirrel@www.west.nl>
References: <444ED793.2020404@pobox.com>
	<65245.145.50.39.8.1146225588.squirrel@www.west.nl>
Message-ID: <44526834.7050206@pobox.com>

Dion Wooning wrote:

> 1. building with MrSID ESDK V5: file lti_version.h is missing.
>    quick fix: I've cooked up a lti_version.h file and put it in
>    frmts/mrsid/ for example:
> 
> #ifndef LTI_VERSION_H
> #define LTI_VERSION_H
> 
> #define LTI_SDK_VERSION 0x0506
> #define LTI_SDK_MAJOR  5
> #define LTI_SDK_MINOR  0
> #define LTI_SDK_REV    6
> 
> #endif // LTI_VERSION_H

Dion,

I did a bunch of work in the mrsid configuration and code to
work properly between version 5 and 6.  The changes are in CVS
if you would like to give them a spin.

This took me roughly 3 hours (with many interruptions).  I hate configure
hacking!

> 2. link problems with OpenDWG current or older: the linklibs don't get
>    included properly into the list of libs. I think this is caused by
>    a wrong order of definition in GDALmake.opt.in, as the following
>    line:
> 
>    LIBS    =       @LIBS@ $(DWG_LIBS) $(SDE_LIB)
> 
>    is found above the section where DWG_LIBS is defined:
> 
>    # DWGdirect Library
>    [...]
>    DWG_LIBS = [...]
> 
>    quick fix: include the following line below the DWGdirect Library
>    section:
> 
> LIBS += $(DWG_LIBS)

Funky, I don't run into this problem with GNUmake 3.80. My understanding
is that $(DWG_LIBS) becomes part of LIBS and isn't expanded until LIBS
is actually used and that is the behavior I've seen.  Well, I won't take
any action on this till I understand what is going on better.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | President OSGF, http://osgeo.org


From dylan.beaudette at gmail.com  Fri Apr 28 16:11:10 2006
From: dylan.beaudette at gmail.com (Dylan Beaudette)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] ESRI grid with attribute table
Message-ID: <200604281311.10169.dylan.beaudette@gmail.com>

Greetings,

is there any method within GDAL to work with ESRI grid files which have an 
associated attribute table?

I have been able to access raw pixel values, but they are a bit meaningless 
without the associated table and codes...

Any thought / tips suggestions?

a link to the file in question can be found here:
http://frap.cdf.ca.gov/projects/frap_veg/index.asp

Cheers,

-- 
Dylan Beaudette
Soils and Biogeochemistry Graduate Group
University of California at Davis
530.754.7341

From christian.graefe at web.de  Sat Apr 29 07:05:01 2006
From: christian.graefe at web.de (Christian Graefe)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] GDAL/OGR C# wrapper
Message-ID: <23332630.1146308702988.JavaMail.fmail@fmcert01.dlan.cinetic.de>

Hello Richard!

Nice work with the wrapper. It's working properly for me, but i'm only using it for reading 
data.

I want to invest some time extending the OGR part of the wrapper. Therefore i want to
know what license belongs to the code? GPL/LGPL/BSD? 

Perhaps we can coordinate our work!

BR/
Christian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 1791 bytes
Desc: S/MIME Cryptographic Signature
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20060429/c34fc3e0/smime.bin
From Roger.Bivand at nhh.no  Sat Apr 29 14:23:30 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Content length field mismatch in shapefiles
In-Reply-To: <20060429130220.GC13637@bartok.itc.it>
Message-ID: <Pine.LNX.4.44.0604292002220.24094-100000@reclus.nhh.no>

I have a question, about shapefiles - specifically Geolytics seem to
provide US subscribers with shapefiles with the content length of the
*.shx 6 decimal above the *.shp content length, and 4 decimal above what
it should be (after checking by creating a new *.shp and *.shx in
shapelib), which throws shapelib (usually on the final geometry). This is
generalising from a small sample, but the user who contacted me reported
needing to use special treatment on the Geolytics files found at his
university that he tried to read using shapelib-based software.

Has anyone ever heard of this? The files will read into ArcGIS, and in R
the shapefiles package, read.shp() and read.shx() only use native R binary
reads can read them sequentially, because they don't try to do random
access on the *.shp. ArcGIS seems to spend more time than usual for files
of that complexity, but gets round the problem, v.in.ogr in GRASS says
that no geometry is available for one DBF record, but processes all but
the last geometry.

The Geolytics problem seems to be that the length values in the *.shx file
don't agree with the *.shp. ESRI say "The content length stored in the
index record is the same as the value stored in the main file record
header", but for a sample file:

> library(shapefiles)
> geolytics <- read.shp("jw_wacounty.shp") 
> geolytics_content.length <- sapply(geolytics$shp, function(x) 
   x$content.length)
> geolytics_content.length
 [1]  382  542  726 3574  750  846  398  806 1550 1438  878  646  902  590  960
[16]  710 2190  534 2374  582  982  854  438 2446  750  158 2390  414 1422  430
[31]  998  342 1782 1094  254  574 1096 1182 1558
> geoshx <- read.shx("jw_wacounty.shx")
> geoshx$index[,2]
 [1]  388  548  732 3580  756  852  404  812 1556 1444  884  652  908  596  966
[16]  716 2196  540 2380  588  988  860  444 2452  756  164 2396  420 1428  436
[31] 1004  348 1788 1100  260  580 1102 1188 1564

I was sent the sample file by a user unable to read it into R using the 
shapelib-based packages, but because it is Geolytics, I can't post it. I 
can ask for permission to email a copy.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no




From werchowyna at epf.pl  Sun Apr 30 04:48:13 2006
From: werchowyna at epf.pl (Maciek Sieczka)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] vector 2 raster
In-Reply-To: <000b01c66a92$cbab2bc0$1401a8c0@pcgh>
References: <60c6835d0604251925p432276b9nc46417e51f6117c5@mail.gmail.com>
	<000b01c66a92$cbab2bc0$1401a8c0@pcgh>
Message-ID: <20060430104813.745f8eec.werchowyna@epf.pl>

On Fri, 28 Apr 2006 09:10:13 +0200
"Guillaume HUBY" <ghuby@geosys.com> wrote:

> > just wondering are their any OS tools that will perform a 
> > vector to raster conversion?

v.to.rast in Grass (use 6.0.2 at least)

Maciek

--------------------
W polskim Internecie s? setki milion?w stron. My przekazujemy Tobie tylko najlepsze z nich!
http://katalog.panoramainternetu.pl/


From Roger.Bivand at nhh.no  Sun Apr 30 11:06:34 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Content length field mismatch in shapefiles
In-Reply-To: <Pine.LNX.4.44.0604292002220.24094-100000@reclus.nhh.no>
Message-ID: <Pine.LNX.4.44.0604301622220.9216-100000@reclus.nhh.no>

On Sat, 29 Apr 2006, Roger Bivand wrote:

> I have a question, about shapefiles - specifically Geolytics seem to
> provide US subscribers with shapefiles with the content length of the
> *.shx 6 decimal above the *.shp content length, and 4 decimal above what
> it should be (after checking by creating a new *.shp and *.shx in
> shapelib), which throws shapelib (usually on the final geometry). This is
> generalising from a small sample, but the user who contacted me reported
> needing to use special treatment on the Geolytics files found at his
> university that he tried to read using shapelib-based software.

The 4 decimal is in 16-bit words, so 8 bytes, the 8 added in 
SHPReadObject() to the object size from *.shx. Geolytics construct the 
*.shx such that offset[i] == offset[i-1]+size[i-1], which works if the 
software doesn't use or doesn't trust the *.shx. They don't get the 
content length right in the main file record header either, and ignore the 
last para in the main file record header section in the ESRI specs (p. 5): 
"the content length for a record is the length of the record *contents* 
section measured in 16-bit words" - they include the 8-byte main file 
record header too, hence the wrong *.shx.

For my purposes (and for the record) the following fixes this case:

    hSHP = SHPOpen(CHAR(STRING_ELT(shpnm,0)), "rb" );
    if( hSHP == NULL )    
	error("unable to open file");

    qRep = LOGICAL_POINTER(repair)[0];

    nEntities = hSHP->nRecords;
    nImpliedEOF = hSHP->panRecOffset[hSHP->nRecords-1] + 
	hSHP->panRecSize[hSHP->nRecords-1] + 8; 
/* file length implied by *.shx */
    if (nImpliedEOF > hSHP->nFileSize && qRep == 0) {
	error("File size and implied file size differ"); 
/* implied file length greater than file size */
    }

    if (qRep == 1 && nImpliedEOF > hSHP->nFileSize) {
	for (i=1, j=0; i < hSHP->nRecords; i++)
	    if (hSHP->panRecOffset[i] != (hSHP->panRecOffset[i-1] + 
	        hSHP->panRecSize[i-1])) j++;
	if (j > 0) error("Cannot repair file size error");
	if (j == 0) {/* Geolytics size + 8 bug */
	    for (i=1; i < hSHP->nRecords; i++) 
	        hSHP->panRecSize[i] = hSHP->panRecSize[i] - 8;
	    warning("SHX object size off by 8 bug repaired");
	}
    }

This does not seem to cause problems on shapefiles following ESRI specs, 
and will only correct geometry sizes from *.shx if all the geometries are 
off by 8 bytes - the symptom of this sloppiness with the specs.

If anyone can see errors of interpretation here, I'd be grateful. I don't 
think this fix can be applied to OGR/shapelib from the API, though, is 
that right?

Best wishes,

Roger


> 
> Has anyone ever heard of this? The files will read into ArcGIS, and in R
> the shapefiles package, read.shp() and read.shx() only use native R binary
> reads can read them sequentially, because they don't try to do random
> access on the *.shp. ArcGIS seems to spend more time than usual for files
> of that complexity, but gets round the problem, v.in.ogr in GRASS says
> that no geometry is available for one DBF record, but processes all but
> the last geometry.
> 
> The Geolytics problem seems to be that the length values in the *.shx file
> don't agree with the *.shp. ESRI say "The content length stored in the
> index record is the same as the value stored in the main file record
> header", but for a sample file:
> 
> > library(shapefiles)
> > geolytics <- read.shp("jw_wacounty.shp") 
> > geolytics_content.length <- sapply(geolytics$shp, function(x) 
>    x$content.length)
> > geolytics_content.length
>  [1]  382  542  726 3574  750  846  398  806 1550 1438  878  646  902  590  960
> [16]  710 2190  534 2374  582  982  854  438 2446  750  158 2390  414 1422  430
> [31]  998  342 1782 1094  254  574 1096 1182 1558
> > geoshx <- read.shx("jw_wacounty.shx")
> > geoshx$index[,2]
>  [1]  388  548  732 3580  756  852  404  812 1556 1444  884  652  908  596  966
> [16]  716 2196  540 2380  588  988  860  444 2452  756  164 2396  420 1428  436
> [31] 1004  348 1788 1100  260  580 1102 1188 1564
> 
> I was sent the sample file by a user unable to read it into R using the 
> shapelib-based packages, but because it is Geolytics, I can't post it. I 
> can ask for permission to email a copy.
> 
> Roger
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand@nhh.no


From dieter.lehmann at hfwu.de  Sun Apr 30 14:47:18 2006
From: dieter.lehmann at hfwu.de (Dieter Lehmann)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] gdalwarp Corine
Message-ID: <20060430204718.h3v8axymz8g080ko@mail.hfwu.de>

Hello,
sorry for bothering you, but I get stucked...

I need to project a corine landcover grid to UTM Zone 32. I tryed it this way:


gdalwarp
-s_srs "+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80
+units=m +datum=ETRS89 +no_defs"
-t_srs "+proj=utm +zone=32 +datum=WGS84" in.tif out.tif


I thought, this should work, but it seems, that I miss something:

>ERROR 1: Unable to compute a transformation between pixel/line
and georeferenced coordinates for lceugr100_00_pct.tif.
There is no affine transformation and no GCPs.

Because I need this file on Tuesday, I'm a little be in rush...

Thanks,
Dieter Lehmann
Business Economics Environment University
Nuertingen - Geislingen

P.S. The readme of the Corine File says the follwing:


CRS Name: EUR_ETRS89/LAEA1052

Projection: Lambert Azimuthal - Equal Area projection
        longitude of origin             10d00'00.0000"E
        latitude of origin              52d00'00.0000"N
        false easting                   4321000.000
        false northing                  3210000.000
Datum: ETRS89 (European Terrestrial Reference System 1989)
        type 				geodetic
	valid area 			Europe / EUREF
Ellipsoid 				GRS 80 (New International)
	semi major axis 		6 378 137 m
	inverse flattening 		298.257222101



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.

From armin.burger at gmx.net  Sun Apr 30 16:28:08 2006
From: armin.burger at gmx.net (Armin Burger)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] gdalwarp Corine
In-Reply-To: <20060430204718.h3v8axymz8g080ko@mail.hfwu.de>
References: <20060430204718.h3v8axymz8g080ko@mail.hfwu.de>
Message-ID: <44551DD8.9090303@gmx.net>

You could at least in this case try to use the EPSG codes and see if it 
works better. Newer versions of GDAL know the ETRS-LAEA projection.

gdalwarp -s_srs "EPSG:3035" -t_srs "EPSG:32632" in.tif out.tif

armin

Dieter Lehmann wrote:
> Hello,
> sorry for bothering you, but I get stucked...
> 
> I need to project a corine landcover grid to UTM Zone 32. I tryed it this way:
> 
> 
> gdalwarp
> -s_srs "+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80
> +units=m +datum=ETRS89 +no_defs"
> -t_srs "+proj=utm +zone=32 +datum=WGS84" in.tif out.tif
> 
> 
> I thought, this should work, but it seems, that I miss something:
> 
>> ERROR 1: Unable to compute a transformation between pixel/line
> and georeferenced coordinates for lceugr100_00_pct.tif.
> There is no affine transformation and no GCPs.
> 
> Because I need this file on Tuesday, I'm a little be in rush...
> 

From mateusz at loskot.net  Sun Apr 30 18:32:02 2006
From: mateusz at loskot.net (=?UTF-8?B?TWF0ZXVzeiDFgW9za290?=)
Date: Wed Nov 21 11:50:07 2007
Subject: [Gdal-dev] Re: GDAL for windows CE
In-Reply-To: <44525522.9020303@pobox.com>
References: <8EAC4519CA64734E8D37C4B4F69DFE6D01BFDC10@ADSMAIL.Adsintranet.Corp>
	<44524DBB.7000605@loskot.net> <44525522.9020303@pobox.com>
Message-ID: <44553AE2.8040409@loskot.net>

Frank Warmerdam wrote:
> Mateusz ?oskot wrote:
> 
>>> As far as getting the stable source from CVS, I need to speak to the
>>> people in my IT Dept to enable the port for CVS. That is probably why
>>> I get the reply: Unknown host cvs.maptools.org
>>
>>
>> Yes, CVS requires to have specific 21xx (I'm not sure) port open.
>> I had to ask my admin in my company to open it on the proxy too :-)
> 
> 
> Folks,
> 
> Note that nightly CVS snapshots are prepared and dropped in:
> 
>  http://gdal.maptools.org/dl/daily

Frank,
Thanks! I've completely forgot about this URL.

Cheers
-- 
Mateusz ?oskot
http://mateusz.loskot.net

