From ciagon at yourmom.sh  Sat Mar  1 18:43:45 2003
From: ciagon at yourmom.sh (Thomas Hargrove)
Date: Wed Nov 21 11:48:47 2007
Subject: [Gdal-dev] Tiger Polygons
Message-ID: <000501c2e04c$664af540$4301000a@ciagon>

Hello,

I am building a Tiger map server that uses the shapefiles provided on
ESRI.com.  As it turns out, getting the ESRI files is pretty tedious, so a
few people and I are trying to generate similar shapefiles using the US
Census files and ogr2ogr.  The lines come out just fine (Road, Rail,
Rivers), but we can not get any Polys to work (County00, Water, Urban Areas,
Landmark Polys).  Is this going to be possible with ogr2ogr, or are we going
to need to buy tgr2shp or manifold.

Also, if ogr2ogr does not support it, roughly how much work would be
required for someone to add it?

Thanks in advance,
Thomas Hargrove
http://toonarchive.com/tiger_map_server/


From kamal_jo at yahoo.com  Sun Mar  2 05:14:52 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:47 2007
Subject: R: [Gdal-dev] Error messages
In-Reply-To: <A183DF60AC72D5119B990002A5749CB30392A2EC@ROMADG-MAIL01>
Message-ID: <20030302101452.16688.qmail@web41102.mail.yahoo.com>

You are right, error message disappeared, but the
message that shows the percentage of converting a file
is still displyed, how can I remove it?

--- Amici Alessandro <alessandro_amici@telespazio.it>
wrote:
> 
> hi,
> 
> > In C or C++ call "GDALSetErrorHandler(
> CPLQuietErrorHandler );".
> 
> is there any way to do it from python?
> i don't need to attach an handler, just to silence
> the errors.
> 
> thanks,
> alessandro
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From kamal_jo at yahoo.com  Sun Mar  2 11:23:41 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:47 2007
Subject: [Gdal-dev] Gettting Image Resolution
In-Reply-To: <3E5E1CA9.4020204@pobox.com>
Message-ID: <20030302162341.7523.qmail@web41104.mail.yahoo.com>

How can I get the resolution of the image using GDAL?

__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From warmerdam at pobox.com  Sun Mar  2 12:21:35 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:47 2007
Subject: [Gdal-dev] Gettting Image Resolution
In-Reply-To: <20030302162341.7523.qmail@web41104.mail.yahoo.com>
References: <20030302162341.7523.qmail@web41104.mail.yahoo.com>
Message-ID: <3E623D9F.4090102@pobox.com>

Ayman Kamal wrote:
> How can I get the resolution of the image using GDAL?


Hi,

I assume you are wanting the size of a pixel in georeferenced coordinates?
If so, use the GetGeoTransform() method on the GDALDataset. It fills in a
six parameter double array.  geotransform[1] is normally the width of a
pixel, and geotransform[5] is usually the height of a pixel negated.
If the image is rotated things are more complicated.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sun Mar  2 12:24:34 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:47 2007
Subject: R: [Gdal-dev] Error messages
In-Reply-To: <20030302101452.16688.qmail@web41102.mail.yahoo.com>
References: <20030302101452.16688.qmail@web41102.mail.yahoo.com>
Message-ID: <3E623E52.9000909@pobox.com>

>>>In C or C++ call "GDALSetErrorHandler(
>>
>>CPLQuietErrorHandler );".
>>
>>is there any way to do it from python?
>>i don't need to attach an handler, just to silence
>>the errors.


Alessandro,

I have added PushErrorHandler(), PopErrorHandler(), and Error() methods
in the "gdal" module.  The PushErrorHandler() takes either the name of a
well known error handler, or a Python function to invoke.

For example:

import gdal

def MyHandler( err_class, err_code, msg ):
     print err_class, err_code, msg

gdal.Error( msg = 'Test Message' )

gdal.PushErrorHandler( "CPLQuietErrorHandler" )

gdal.Error( msg = 'Test Message 2' )

gdal.PushErrorHandler( MyHandler )

gdal.Error( msg = 'Test Message 3' )
gdal.Debug( 'test1', 'message' )

gdal.PopErrorHandler()

gdal.Error( msg = 'Test Message 4' )

gdal.PopErrorHandler()

gdal.Error( msg = 'Test Message 5' )


Produces:

warmerda@gdal2200[40]% ./test1.py
ERROR 1: Test Message
3 1 Test Message 3
1 0 Sun Mar  2 12:23:26 2003: test1: message
ERROR 1: Test Message 5

As you can see, "gdal.PushErrorHandler( 'CPLQuietHandler' )" should be
sufficient for your needs.  The error handler mechanism can also be
used to redirect debug output.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sun Mar  2 12:26:26 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:47 2007
Subject: R: [Gdal-dev] Error messages
In-Reply-To: <20030302101452.16688.qmail@web41102.mail.yahoo.com>
References: <20030302101452.16688.qmail@web41102.mail.yahoo.com>
Message-ID: <3E623EC2.7090309@pobox.com>

Ayman Kamal wrote:
> You are right, error message disappeared, but the
> message that shows the percentage of converting a file
> is still displyed, how can I remove it?

Hi,

Can you provide some more context?  What process are you doing that is
producing percentage complete progress reports?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Mar  3 00:04:49 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:47 2007
Subject: [Gdal-dev] Tiger Polygons
In-Reply-To: <000501c2e04c$664af540$4301000a@ciagon>
References: <000501c2e04c$664af540$4301000a@ciagon>
Message-ID: <3E62E271.9080206@pobox.com>

Thomas Hargrove wrote:
> Hello,
> 
> I am building a Tiger map server that uses the shapefiles provided on
> ESRI.com.  As it turns out, getting the ESRI files is pretty tedious, so a
> few people and I are trying to generate similar shapefiles using the US
> Census files and ogr2ogr.  The lines come out just fine (Road, Rail,
> Rivers), but we can not get any Polys to work (County00, Water, Urban Areas,
> Landmark Polys).  Is this going to be possible with ogr2ogr, or are we going
> to need to buy tgr2shp or manifold.
> 
> Also, if ogr2ogr does not support it, roughly how much work would be
> required for someone to add it?

Thomas,

I think you might find generating shapefiles for all the tiger coverages using
OGR and related tools somewhat tedious too.  In any event, the short answer
is that "ogr2ogr" will not take care of forming the polygons from tiger data
for you.  I am not entirely clear on why the polygons are that useful.

However, I have juiced up an earlier example script I wrote for building
polygons from edges for the TIGER/Line case.

If you pick up the CVS snapshot of GDAL/OGR on Monday you should find a
gdal/pymod/samples/tigerpoly.py script that builds a shapefile of polygons
from a tiger coverage.  It depends on a variety of fixes and improvements
elsewhere in gdal/ogr so please rebuild from the new source distribution.

Currently the polygon shapefile file created has only the POLYID attribute.
Let me know if you want all the attributes.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Mar  3 00:20:48 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:47 2007
Subject: [Gdal-dev] DeleteDataSource() and DeleteLayer()
Message-ID: <3E62E630.706@pobox.com>

Folks,

I have extended OGRDriver with a DeleteDataSource() method, and OGRDataSource
with a DeleteLayer() method.  Currently only the shapefile driver implements
DeleteDataSource() and nothing properly implements DeleteLayer() but we
now have the virtual methods on which to hang implementations.  Someone
was asking for this a while ago, but I can't remember who.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Mon Mar  3 01:40:05 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Gettting Image Resolution
In-Reply-To: <3E623D9F.4090102@pobox.com>
Message-ID: <20030303064005.5149.qmail@web41111.mail.yahoo.com>

Actually what I am looking for is DPI ( Dots Per Inch
)


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > How can I get the resolution of the image using
> GDAL?
> 
> 
> Hi,
> 
> I assume you are wanting the size of a pixel in
> georeferenced coordinates?
> If so, use the GetGeoTransform() method on the
> GDALDataset. It fills in a
> six parameter double array.  geotransform[1] is
> normally the width of a
> pixel, and geotransform[5] is usually the height of
> a pixel negated.
> If the image is rotated things are more complicated.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From kamal_jo at yahoo.com  Mon Mar  3 01:46:32 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: R: [Gdal-dev] Error messages
In-Reply-To: <3E623EC2.7090309@pobox.com>
Message-ID: <20030303064632.81364.qmail@web41110.mail.yahoo.com>

"gdal_translate"

I do exactly as it does; getting a source image of
format "GeoTiff" and converting it to a destination
image of format "BMP", that's all.

So I guess the percentage I get is a kind of feedback
about how much of the destination file was done.


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > You are right, error message disappeared, but the
> > message that shows the percentage of converting a
> file
> > is still displyed, how can I remove it?
> 
> Hi,
> 
> Can you provide some more context?  What process are
> you doing that is
> producing percentage complete progress reports?
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From kamal_jo at yahoo.com  Mon Mar  3 03:25:27 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Degug Error
In-Reply-To: <3E62E630.706@pobox.com>
Message-ID: <20030303082527.5539.qmail@web41109.mail.yahoo.com>

When debugging "gdal_translate", when we get to:

GDALClose( (GDALDatasetH) poVDS );

We get a message box stating that:

"User breakpoint called from code at 0x77f97704"

__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From alessandro_amici at telespazio.it  Mon Mar  3 04:57:44 2003
From: alessandro_amici at telespazio.it (Amici Alessandro)
Date: Wed Nov 21 11:48:48 2007
Subject: R: R: [Gdal-dev] Error messages
Message-ID: <A183DF60AC72D5119B990002A5749CB303970884@ROMADG-MAIL01>

> I have added PushErrorHandler(), PopErrorHandler(), and Error() methods
> in the "gdal" module.  The PushErrorHandler() takes either the name of a
> well known error handler, or a Python function to invoke.

one more bunch of quirks found its way out of my apps :)

thanks a lot!
alessandro

From azure at iki.fi  Mon Mar  3 10:13:08 2003
From: azure at iki.fi (Hannu Koivisto)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] large file support, gdal_merge with 8bit images
 (was: GDAL data model...)
References: <87wuk5qy6d.fsf@lynx.ionific.com> <3E4BC718.3020509@pobox.com>
	<87d6lvox2b.fsf@lynx.ionific.com> <3E4CFA99.90305@pobox.com>
	<87d6lfb17o.fsf_-_@lynx.ionific.com> <3E5CEB4E.60008@pobox.com>
Message-ID: <87smu47abf.fsf@lynx.ionific.com>

Frank Warmerdam <warmerdam@pobox.com> writes:

> Is there such a thing as an uncompressed PNG file?  I believe all
> image segments in PNG files are internally compressed using zlib.

Um, you are probably right; what I really meant was the result of
pnmtopng -compression 0.  I thought to try that since it seemed
that gdal_translate would take weeks to convert the image if it was
compressed.  However, once again engaging the brain helped.  I
discovered that pnmtotiff with packbits compression and explicit
rowsperstrip option (without it gdal_translate couldn't process the
image) could be used, i.e. the resulting file was only a bit over
400MB and gdal_translate was able to process it.  And it took only
about 8 hours or so on a 700MHz Athlon machine :)  So no LFS needed
after all.

So now I finally have a tiled GeoTIFF image.  No georeference
information in it yet, though; I still have to figure out how to
inject that to it.  The size, ~159MB, obtained with 512x512 tile
size, is a slight disappointment.  With 1200x1200 tile size I got
~156MB, probably because the natural tile size of the map data is a
multiple of that, but the difference is very small and 512x512 is
probably better otherwise.  Still, PNGs take 135MB.  While somewhat
disappointing in absolute terms, it is still not bad given that the
compression must try to handle the introduced black areas, worth of
~2G pixels.

I do wonder what happens if the map is even more sparse.  I thought
about this for a moment and came to the conclusion that it is a
very likely situation; one might want/need to save space and keep
only the important areas.  Furthermore, the highest resolution data
may be quite sparse but the lower resolution overviews may be less
sparse.  This results to a situation that GDAL cannot handle, as
far as I can see.  Let's take a simple, silly example: a map of a
rectangular area.  I have an overview that covers the entire area
and high resolution data that covers everything except an area in
the middle of the map, like this (O = overview data, H = high
resolution data, . = no data, i.e. black area when a GeoTIFF image
is made out of the high resolution data):

OOO HHH
OOO H.H
OOO HHH

Now, if I'm wandering around in the high resolution data and end up
to the middle of the map, all I see is blackness.  What I would
like to see is not-so-high-resolution overview data, but GDAL does
not have any mechanism to tell me that I'm looking "nothing" so
that I could switch to the overview.  I guess I could identify
black areas but that gives me a SIGTHTBABW signal.

Also, even if this problem didn't exist and compression could
handle even more sparse data, I realized that I can't require other
users in a similar situation to build GeoTIFFs of their files.
Especially if they want to remove data from one end of the map and
add more to another end while they are on a journey or something.
With individual files this is easier.  No one has to have huge
amounts of temporary disk space, netpbm with LFS, etc.

So, I think I'm going to ditch this rely-on-GeoTIFF idea, sorry.  I
obviously will support GeoTIFF as well but I cannot simplify things
with "a map is a single GDALDataset" assumption.  I think I define
maps to consist of one or more possibly "null" tiles, each backed
up by a GDALDataset.  If a map consists of only one tile, I keep
the GDALDataset open and rely on GDAL's caching.  Otherwise I read
tiles to memory one at the time as needed (and correspondingly free
them when running out of memory), taking care of caching of
multi-tile images myself that way.  Overviews are handled as
separate maps that just happen to cover the same area as another
map.  I haven't yet figured out how overviews contained within a
single GDALDataset can be supported in this model, but I'll try to
find a way or modify the model so that it can be done.

Btw, it might be nice to mention in the documentation of
BLOCK[XY]SIZE options that the sizes must be multiples of 16.  I
had to dig up TIFF spec to find out why GDAL complained about
invalid "TileWidth" and "TileLength" values.

> GDAL's raster caching is global.  That is one memory pool is shared
> amoung all datasets.  If you have two files open, read all of one and
...
> I presume this is the behaviour you would want?

Yes, exactly.

-- 
Hannu

From ed at topozone.com  Mon Mar  3 10:38:33 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] large file support, gdal_merge with 8bit images (was: GDAL data model...)
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3E6F@mercator.topozone.com>

Hannu -

I'm not sure I'm quite following what you need, but I wanted to offer a suggestion.

You're working with a large, tiled, sparse image data set via GDAL.  A while back I wrote a GDAL driver that implemented an interface to Microsoft TerraServer's large, tiled, sparse image data set.  Each "dataset" is an entire UTM zone at one-meter-per-pixel resolution, with overviews implemented for lower-res data.

I was planning to contribute this to the GDAL distribution once I got multi-threaded tile fetching complete, but then Microsoft added WMS server support to TerraServer and the GDAL driver became unnecessary.  If you'd like a copy of the code, I'd be happy to send it along.

One of the problems I had was with caching.  GDAL assumes a rectangular array of source data tiles and creates a matrix of pointers to keep track of what's in cache and what is not.  In my case, the cache pointer table was several hundred megabytes(!) when I only loaded a few hundred kilobytes of data.  I reimplemented the GDAL cache with a linked list mechanism.  It is a better choice if you're loading only a small portion of a very large dataset.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed@topozone.com
(978) 251-4242 

-----Original Message-----
From: Hannu Koivisto [mailto:azure@iki.fi]
Sent: Monday, March 03, 2003 10:13 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] large file support, gdal_merge with 8bit images
(was: GDAL data model...)


Frank Warmerdam <warmerdam@pobox.com> writes:

> Is there such a thing as an uncompressed PNG file?  I believe all
> image segments in PNG files are internally compressed using zlib.

Um, you are probably right; what I really meant was the result of
pnmtopng -compression 0.  I thought to try that since it seemed
that gdal_translate would take weeks to convert the image if it was
compressed.  However, once again engaging the brain helped.  I
discovered that pnmtotiff with packbits compression and explicit
rowsperstrip option (without it gdal_translate couldn't process the
image) could be used, i.e. the resulting file was only a bit over
400MB and gdal_translate was able to process it.  And it took only
about 8 hours or so on a 700MHz Athlon machine :)  So no LFS needed
after all.

So now I finally have a tiled GeoTIFF image.  No georeference
information in it yet, though; I still have to figure out how to
inject that to it.  The size, ~159MB, obtained with 512x512 tile
size, is a slight disappointment.  With 1200x1200 tile size I got
~156MB, probably because the natural tile size of the map data is a
multiple of that, but the difference is very small and 512x512 is
probably better otherwise.  Still, PNGs take 135MB.  While somewhat
disappointing in absolute terms, it is still not bad given that the
compression must try to handle the introduced black areas, worth of
~2G pixels.

I do wonder what happens if the map is even more sparse.  I thought
about this for a moment and came to the conclusion that it is a
very likely situation; one might want/need to save space and keep
only the important areas.  Furthermore, the highest resolution data
may be quite sparse but the lower resolution overviews may be less
sparse.  This results to a situation that GDAL cannot handle, as
far as I can see.  Let's take a simple, silly example: a map of a
rectangular area.  I have an overview that covers the entire area
and high resolution data that covers everything except an area in
the middle of the map, like this (O = overview data, H = high
resolution data, . = no data, i.e. black area when a GeoTIFF image
is made out of the high resolution data):

OOO HHH
OOO H.H
OOO HHH

Now, if I'm wandering around in the high resolution data and end up
to the middle of the map, all I see is blackness.  What I would
like to see is not-so-high-resolution overview data, but GDAL does
not have any mechanism to tell me that I'm looking "nothing" so
that I could switch to the overview.  I guess I could identify
black areas but that gives me a SIGTHTBABW signal.

Also, even if this problem didn't exist and compression could
handle even more sparse data, I realized that I can't require other
users in a similar situation to build GeoTIFFs of their files.
Especially if they want to remove data from one end of the map and
add more to another end while they are on a journey or something.
With individual files this is easier.  No one has to have huge
amounts of temporary disk space, netpbm with LFS, etc.

So, I think I'm going to ditch this rely-on-GeoTIFF idea, sorry.  I
obviously will support GeoTIFF as well but I cannot simplify things
with "a map is a single GDALDataset" assumption.  I think I define
maps to consist of one or more possibly "null" tiles, each backed
up by a GDALDataset.  If a map consists of only one tile, I keep
the GDALDataset open and rely on GDAL's caching.  Otherwise I read
tiles to memory one at the time as needed (and correspondingly free
them when running out of memory), taking care of caching of
multi-tile images myself that way.  Overviews are handled as
separate maps that just happen to cover the same area as another
map.  I haven't yet figured out how overviews contained within a
single GDALDataset can be supported in this model, but I'll try to
find a way or modify the model so that it can be done.

Btw, it might be nice to mention in the documentation of
BLOCK[XY]SIZE options that the sizes must be multiples of 16.  I
had to dig up TIFF spec to find out why GDAL complained about
invalid "TileWidth" and "TileLength" values.

> GDAL's raster caching is global.  That is one memory pool is shared
> amoung all datasets.  If you have two files open, read all of one and
...
> I presume this is the behaviour you would want?

Yes, exactly.

-- 
Hannu
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Mon Mar  3 11:25:02 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Gettting Image Resolution
In-Reply-To: <20030303064005.5149.qmail@web41111.mail.yahoo.com>
References: <20030303064005.5149.qmail@web41111.mail.yahoo.com>
Message-ID: <3E6381DE.4040002@pobox.com>

Ayman Kamal wrote:
> Actually what I am looking for is DPI ( Dots Per Inch
> )

Ayman,

This is currently not available, though support could be added for it as
metadata in the GeoTIFF driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Mar  3 11:32:58 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: R: [Gdal-dev] Error messages
In-Reply-To: <20030303064632.81364.qmail@web41110.mail.yahoo.com>
References: <20030303064632.81364.qmail@web41110.mail.yahoo.com>
Message-ID: <3E6383BA.1000108@pobox.com>

Ayman Kamal wrote:
> "gdal_translate"
> 
> I do exactly as it does; getting a source image of
> format "GeoTiff" and converting it to a destination
> image of format "BMP", that's all.
> 
> So I guess the percentage I get is a kind of feedback
> about how much of the destination file was done.

Ayman,

If you are using gdal_translate directly, there was no way to supress
the progress monitor feedback, but I have just added a "-quiet" flag to
do so.

If you have cloned the code from gdal_translate into your own program, then
just replace GDALTermProgress with GDALDummyProgress.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Mar  3 11:33:43 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Degug Error
In-Reply-To: <20030303082527.5539.qmail@web41109.mail.yahoo.com>
References: <20030303082527.5539.qmail@web41109.mail.yahoo.com>
Message-ID: <3E6383E7.9000807@pobox.com>

Ayman Kamal wrote:
> When debugging "gdal_translate", when we get to:
> 
> GDALClose( (GDALDatasetH) poVDS );
> 
> We get a message box stating that:
> 
> "User breakpoint called from code at 0x77f97704"


Ayman,

I don't know what causes this, assuming you didn't set a user break point.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ciagon at yourmom.sh  Tue Mar  4 22:45:04 2003
From: ciagon at yourmom.sh (Thomas Hargrove)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Tiger Polygons
References: <000501c2e04c$664af540$4301000a@ciagon> <3E62E271.9080206@pobox.com>
Message-ID: <000601c2e2c9$9b7bc940$4301000a@ciagon>

> Thomas,
>
> I think you might find generating shapefiles for all the tiger coverages
using
> OGR and related tools somewhat tedious too.  In any event, the short
answer
> is that "ogr2ogr" will not take care of forming the polygons from tiger
data
> for you.  I am not entirely clear on why the polygons are that useful.
>
> However, I have juiced up an earlier example script I wrote for building
> polygons from edges for the TIGER/Line case.
>
> If you pick up the CVS snapshot of GDAL/OGR on Monday you should find a
> gdal/pymod/samples/tigerpoly.py script that builds a shapefile of polygons
> from a tiger coverage.  It depends on a variety of fixes and improvements
> elsewhere in gdal/ogr so please rebuild from the new source distribution.
>
> Currently the polygon shapefile file created has only the POLYID
attribute.
> Let me know if you want all the attributes.
>
> Best regards,

Thanks for the response.  I got the newest CVS of GDAL and installed it.

I had to add "#include <assert.h>" to  gdal_wrap.c to get python 1.5 to
work.

This is the error I get with either python 1.5 or 2.2:

[root@localhost ogr]# python tigerpoly.py in/ out/
Traceback (innermost last):
  File "tigerpoly.py", line 98, in ?
    ds = ogr.Open( infile, update = 0 )
  File "/usr/lib/python1.5/site-packages/ogr.py", line 107, in Open
    ds_o = _gdal.OGROpen( filename, update, None )
TypeError: OGROpen, argument 3: expected string, None found

Any ideas?

--Tom


From warmerdam at pobox.com  Tue Mar  4 22:56:18 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Tiger Polygons
In-Reply-To: <000601c2e2c9$9b7bc940$4301000a@ciagon>
References: <000501c2e04c$664af540$4301000a@ciagon> <3E62E271.9080206@pobox.com> <000601c2e2c9$9b7bc940$4301000a@ciagon>
Message-ID: <3E657562.8040600@pobox.com>

Thomas Hargrove wrote:
> Thanks for the response.  I got the newest CVS of GDAL and installed it.
> 
> I had to add "#include <assert.h>" to  gdal_wrap.c to get python 1.5 to
> work.
> 
> This is the error I get with either python 1.5 or 2.2:
> 
> [root@localhost ogr]# python tigerpoly.py in/ out/
> Traceback (innermost last):
>   File "tigerpoly.py", line 98, in ?
>     ds = ogr.Open( infile, update = 0 )
>   File "/usr/lib/python1.5/site-packages/ogr.py", line 107, in Open
>     ds_o = _gdal.OGROpen( filename, update, None )
> TypeError: OGROpen, argument 3: expected string, None found
> 
> Any ideas?

Tom,

Arggg.  I believe this is related to the version of swig used to generate
the gdal_wrap.c.  I would suggest deleting the gdal_wrap.c you have,
doing a cvs update, and then touching the new one so that the makefile won't
try to regenerate it.

It seems to be an issue about whether the swig wrappers consider None to
mean NULL in C.  At least one specific version of swig does (the one I usually
use), but others do not (like what I have on my new redhat system).

If the above doesn't solve the problem let me know.  I will be committing a
version of ogr.py that tries to handle the need for 'NULL' gracefully.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ciagon at yourmom.sh  Wed Mar  5 01:16:35 2003
From: ciagon at yourmom.sh (Thomas Hargrove)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Tiger Polygons
References: <000501c2e04c$664af540$4301000a@ciagon> <3E62E271.9080206@pobox.com> <000601c2e2c9$9b7bc940$4301000a@ciagon> <3E657562.8040600@pobox.com>
Message-ID: <000a01c2e2de$c645b770$4301000a@ciagon>

I got tigerpoly to run!  It segfaults at the end, but after it has produced
a useable shapefile.

Now that I have the polys, I need to filter them into county, water,
landmarks, and urban areas.  I take it this need to be done in python.

I see what you mean when you said it will be a lot of work.  Unfortunately,
I need these polys to draw useable maps with my map server.

Assuming that the tigerpoly.py spit out all the attributes, could I simply
use "ogr2ogr --where..." to get the 4 sets of poly's I need, or is there
more processing that needs to take place?

--Tom

>
> Tom,
>
> Arggg.  I believe this is related to the version of swig used to generate
> the gdal_wrap.c.  I would suggest deleting the gdal_wrap.c you have,
> doing a cvs update, and then touching the new one so that the makefile
won't
> try to regenerate it.
>
> It seems to be an issue about whether the swig wrappers consider None to
> mean NULL in C.  At least one specific version of swig does (the one I
usually
> use), but others do not (like what I have on my new redhat system).
>
> If the above doesn't solve the problem let me know.  I will be committing
a
> version of ogr.py that tries to handle the need for 'NULL' gracefully.
>
> Best regards,
>
> --
> ---------------------------------------+----------------------------------
----
> I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>


From kamal_jo at yahoo.com  Wed Mar  5 08:21:48 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Degug Error
In-Reply-To: <3E6383E7.9000807@pobox.com>
Message-ID: <20030305132149.32694.qmail@web41109.mail.yahoo.com>

I removed all break points, and debugged the
application, but still I get this error message after
the console result window appers, when I commented out
this line GDALClose( (GDALDatasetH) poVDS );
the message didn't appear again.


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > When debugging "gdal_translate", when we get to:
> > 
> > GDALClose( (GDALDatasetH) poVDS );
> > 
> > We get a message box stating that:
> > 
> > "User breakpoint called from code at 0x77f97704"
> 
> 
> Ayman,
> 
> I don't know what causes this, assuming you didn't
> set a user break point.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From shadow at dementia.org  Thu Mar  6 10:34:26 2003
From: shadow at dementia.org (Derrick J Brashear)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] large file support, gdal_merge with 8bit images (was: GDAL data model...)
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1221F3E6F@mercator.topozone.com>
Message-ID: <Pine.LNX.3.96L.1030306102613.6685H-100000@scully.trafford.dementia.org>

On Mon, 3 Mar 2003, Ed McNierney wrote:


> I'm not sure I'm quite following what you need, but I wanted to offer a suggestion.
> 
> You're working with a large, tiled, sparse image data set via GDAL.  A while back I wrote a GDAL driver that implemented an interface to Microsoft TerraServer's large, tiled, sparse image data set.  Each "dataset" is an entire UTM zone at one-meter-per-pixel resolution, with overviews implemented for lower-res data.
> 
> I was planning to contribute this to the GDAL distribution once I got
> multi-threaded tile fetching complete, but then Microsoft added WMS
> server support to TerraServer and the GDAL driver became unnecessary.
> If you'd like a copy of the code, I'd be happy to send it along.

If you don't mind, I'd like a copy.


From shadow at dementia.org  Thu Mar  6 10:38:30 2003
From: shadow at dementia.org (Derrick J Brashear)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] large file support, gdal_merge with 8bit images (was: GDAL data model...)
In-Reply-To: <Pine.LNX.3.96L.1030306102613.6685H-100000@scully.trafford.dementia.org>
Message-ID: <Pine.LNX.3.96L.1030306103807.6685I-100000@scully.trafford.dementia.org>

> > I was planning to contribute this to the GDAL distribution once I got
> > multi-threaded tile fetching complete, but then Microsoft added WMS
> > server support to TerraServer and the GDAL driver became unnecessary.
> > If you'd like a copy of the code, I'd be happy to send it along.
> 
> If you don't mind, I'd like a copy.

Gah. Pretend I'm not a total idiot and I sent this privately. I'm sorry.


From anandm at ittc.ku.edu  Thu Mar  6 22:58:09 2003
From: anandm at ittc.ku.edu (Anand Madhavan)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] help !
In-Reply-To: <20030227170001.31081.7397.Mailman@yoda.imagelinks.com>
Message-ID: <000401c2e45d$c497f660$be7fed81@ittc.ku.edu>

Hi,

   I basically need to get ALL the information about a .img (hfa) file
header and copy it into another .img (hfa) file I create with my own new
data. Can anyone help me as to what API's I should use and where to look for
them ? Any help is highly appreciated. Thank you.

Regards,
Anand

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org]On Behalf Of
gdal-dev-request@remotesensing.org
Sent: Thursday, February 27, 2003 11:00 AM
To: gdal-dev@remotesensing.org
Subject: Gdal-dev digest, Vol 1 #75 - 12 msgs


Send Gdal-dev mailing list submissions to
	gdal-dev@remotesensing.org

To subscribe or unsubscribe via the World Wide Web, visit
	http://remotesensing.org/mailman/listinfo/gdal-dev
or, via email, send a message with subject or body 'help' to
	gdal-dev-request@remotesensing.org

You can reach the person managing the list at
	gdal-dev-admin@remotesensing.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Gdal-dev digest..."


Today's Topics:

   1. hdf4 metadata (Norman Vine)
   2. Re: hdf4 metadata (Andrey Kiselev)
   3. RE: hdf4 metadata (Norman Vine)
   4. Re: R: [Gdal-dev] Support for creating ENVI .hdr labeled files (Andrey
Kiselev)
   5. R: R: [Gdal-dev] Support for creating ENVI .hdr labeled files (Amici
Alessandro)
   6. Re: hdf4 metadata (Andrey Kiselev)
   7. RE: hdf4 metadata (Norman Vine)
   8. customizing GDAL to make only two drivers available (Ayman Kamal)
   9. RE: customizing GDAL to make only two drivers available (Norman Vine)
  10. Re: customizing GDAL to make only two drivers available (Frank
Warmerdam)
  11. Re: hdf4 metadata (Andrey Kiselev)
  12. RE: hdf4 metadata (Norman Vine)

--__--__--

Message: 1
From: "Norman Vine" <nhv@cape.com>
To: <gdal-dev@remotesensing.org>
Date: Wed, 26 Feb 2003 17:38:05 -0500
Subject: [Gdal-dev] hdf4 metadata
Reply-To: gdal-dev@remotesensing.org

Hi All

I am not sure if the following is a problem with GDAL
or my hdf4 library

With gdalinfo I constantly get

Driver: HDF4/Hierarchical Data Format Release 4
Size is 512, 512
Coordinate System is `'
Metadata:
....
  GPOLYGONCONTAINER=-103.892405, -81.954139, -86.270138, -107.052668
   ^^^^^^^^^^^^^^^
  GRINGPOINTLATITUDE=20.525827, 17.337449, -0.496254, 2.465055
  GRINGPOINTSEQUENCENO=1, 2, 3, 4

the data for GRPOLYGONCONTAINER is I would expect for
GRINGPOINTLONGITUDE

Is anyone else seeing this ?

This is using Cygwin

Cheers

Norman


--__--__--

Message: 2
From: Andrey Kiselev <dron@ak4719.spb.edu>
Date: Thu, 27 Feb 2003 10:00:30 +0300
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] hdf4 metadata
Reply-To: gdal-dev@remotesensing.org

Norman,

On Wed, Feb 26, 2003 at 05:38:05PM -0500, Norman Vine wrote:
> I am not sure if the following is a problem with GDAL
> or my hdf4 library
>
> With gdalinfo I constantly get
>
> Driver: HDF4/Hierarchical Data Format Release 4
> Size is 512, 512
> Coordinate System is `'
> Metadata:
> ....
>   GPOLYGONCONTAINER=-103.892405, -81.954139, -86.270138, -107.052668
>    ^^^^^^^^^^^^^^^
>   GRINGPOINTLATITUDE=20.525827, 17.337449, -0.496254, 2.465055
>   GRINGPOINTSEQUENCENO=1, 2, 3, 4
>
> the data for GRPOLYGONCONTAINER is I would expect for
> GRINGPOINTLONGITUDE

What HDF products used by you? What size of this datasets? If them has a
reasonable size, I want get the sample.


--
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

--__--__--

Message: 3
From: "Norman Vine" <nhv@cape.com>
To: <gdal-dev@remotesensing.org>
Subject: RE: [Gdal-dev] hdf4 metadata
Date: Thu, 27 Feb 2003 04:52:33 -0500
Reply-To: gdal-dev@remotesensing.org

Andrey Kiselev writes:
>
> On Wed, Feb 26, 2003 at 05:38:05PM -0500, Norman Vine wrote:
> > I am not sure if the following is a problem with GDAL
> > or my hdf4 library
> >
> > With gdalinfo I constantly get
> >
> > Driver: HDF4/Hierarchical Data Format Release 4
> > Size is 512, 512
> > Coordinate System is `'
> > Metadata:
> > ....
> >   GPOLYGONCONTAINER=-103.892405, -81.954139, -86.270138, -107.052668
> >    ^^^^^^^^^^^^^^^
> >   GRINGPOINTLATITUDE=20.525827, 17.337449, -0.496254, 2.465055
> >   GRINGPOINTSEQUENCENO=1, 2, 3, 4
> >
> > the data for GRPOLYGONCONTAINER is I would expect for
> > GRINGPOINTLONGITUDE
>
> What HDF products used by you? What size of this datasets? If them has a
> reasonable size, I want get the sample.

Hi Andrey

I am working with MODIS data

There are l2 and l3 data sets in the 'images' directory of
the MODIS Ocean Color tutorial
http://jeager.gsfc.nasa.gov/modis_workshop_unh/

I suggest that we use these as our 'standard' MODIS test files

Note I hope to eventually be able to duplicate the functionality of the
matlab and IDL code in this tutorial with GDAL and Python

Cheers

Norman


--__--__--

Message: 4
From: Andrey Kiselev <dron@ak4719.spb.edu>
Date: Thu, 27 Feb 2003 12:58:32 +0300
To: gdal-dev@remotesensing.org
Subject: Re: R: [Gdal-dev] Support for creating ENVI .hdr labeled files
Reply-To: gdal-dev@remotesensing.org

Amici,

On Wed, Feb 26, 2003 at 12:47:34PM +0100, Amici Alessandro wrote:
> in addition to the WIP-items you mentioned i'd like to point out to you
> one more useful item to implement:
> an option to _append_ the '.hdr' extension to the full name i.e.
> 	image.bin -> image.bin.hdr

I have implemented such an option. Try "SUFFIX=ADD" with gdal_translate.
By default suffix will be replaced as previously.

--
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

--__--__--

Message: 5
From: Amici Alessandro <alessandro_amici@telespazio.it>
To: gdal-dev@remotesensing.org
Subject: R: R: [Gdal-dev] Support for creating ENVI .hdr labeled files
Date: Thu, 27 Feb 2003 11:36:18 +0100
Reply-To: gdal-dev@remotesensing.org


hi,

> Amici,

Andrey, my first name is Alessandro :) and unfortunately i have no power to
change the broken mailer with this stupid 'second name first' default :(

> On Wed, Feb 26, 2003 at 12:47:34PM +0100, Amici Alessandro wrote:
> > in addition to the WIP-items you mentioned i'd like to point out to you
> > one more useful item to implement:
> > an option to _append_ the '.hdr' extension to the full name i.e.
> > 	image.bin -> image.bin.hdr
>
> I have implemented such an option. Try "SUFFIX=ADD" with gdal_translate.
> By default suffix will be replaced as previously.

i tryed both SUFFIX and INTERLEAVE, and found no problem :).

thanks a lot, this seriously cuts down the number of quirks i need to
implement in my apps!

i will stress test the ENVI driver from now on. if you need testing on
specific
areas (i.e. map_info), don't esitate to cc me directly.

cheers,
alessandro

--__--__--

Message: 6
From: Andrey Kiselev <dron@ak4719.spb.edu>
Date: Thu, 27 Feb 2003 13:41:01 +0300
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] hdf4 metadata
Reply-To: gdal-dev@remotesensing.org

Norman,

What GDAL version do you use?


--
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

--__--__--

Message: 7
From: "Norman Vine" <nhv@cape.com>
To: <gdal-dev@remotesensing.org>
Subject: RE: [Gdal-dev] hdf4 metadata
Date: Thu, 27 Feb 2003 06:02:51 -0500
Reply-To: gdal-dev@remotesensing.org

Andrey Kiselev writes:
>
> Norman,
>
> What GDAL version do you use?

Yesterday's CVS

Cheers

Norman

--__--__--

Message: 8
Date: Thu, 27 Feb 2003 04:00:55 -0800 (PST)
From: Ayman Kamal <kamal_jo@yahoo.com>
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] customizing GDAL to make only two drivers available
Reply-To: gdal-dev@remotesensing.org

Is there any means to minimize the numbers of drivers
available in GDAL so that I can use it just to convert
from format "A" to format "B", I guess this way it
will be lighter weight. Can I do this? How?

__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

--__--__--

Message: 9
From: "Norman Vine" <nhv@cape.com>
To: <gdal-dev@remotesensing.org>
Subject: RE: [Gdal-dev] customizing GDAL to make only two drivers available
Date: Thu, 27 Feb 2003 07:16:57 -0500
Reply-To: gdal-dev@remotesensing.org

Ayman Kamal writes:
>
> Is there any means to minimize the numbers of drivers
> available in GDAL so that I can use it just to convert
> from format "A" to format "B", I guess this way it
> will be lighter weight. Can I do this? How?

If I remember correctly you are using MSVC
in which case I believe that you can modify the
$GDAL_SRC/frmts/makefile.vc EXTRAFLAGS variable
to just include the formats you want

ie this should yield a GDAL that only did tiff and bmp
EXTRAFLAGS =	 -DFRMT_gtiff -DFRMT_bmp

on Unix like systems you need to modify the
$GDAL_SRC/GDALmake.opt file variable $GDAL_FORMATS

HTH

Norman



--__--__--

Message: 10
Date: Thu, 27 Feb 2003 09:11:53 -0500
From: Frank Warmerdam <warmerdam@pobox.com>
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] customizing GDAL to make only two drivers available
Reply-To: gdal-dev@remotesensing.org

Norman Vine wrote:
> Ayman Kamal writes:
>
>>Is there any means to minimize the numbers of drivers
>>available in GDAL so that I can use it just to convert
>>from format "A" to format "B", I guess this way it
>>will be lighter weight. Can I do this? How?
>
>
> If I remember correctly you are using MSVC
> in which case I believe that you can modify the
> $GDAL_SRC/frmts/makefile.vc EXTRAFLAGS variable
> to just include the formats you want
>
> ie this should yield a GDAL that only did tiff and bmp
> EXTRAFLAGS =	 -DFRMT_gtiff -DFRMT_bmp
>
> on Unix like systems you need to modify the
> $GDAL_SRC/GDALmake.opt file variable $GDAL_FORMATS

Ayman,

Norman is right on this, though you can only control what gets
included by subdirectory of gdal/frmts, so for instance, to get any
driver in the frmts/raw directory you normally get them all.  However, they
are "light".  There are also a few dependencies between drivers that may
come
up.

I would add that you can save alot by not including the OGR drivers in a
GDAL
build where you only need raster support.

On windows set comment out the "INCLUDE_OGR_FRMTS" flag setting to disable
inclusino of OGR.

On Unix configure with the "--without-ogr" switch.

Best regards,
--
---------------------------------------+------------------------------------
--
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



--__--__--

Message: 11
From: Andrey Kiselev <dron@ak4719.spb.edu>
Date: Thu, 27 Feb 2003 17:40:13 +0300
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] hdf4 metadata
Reply-To: gdal-dev@remotesensing.org

Norman,

I have fixed problem with HDF-EOS metadata parsing. You could check out
latest changes.

--
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

--__--__--

Message: 12
From: "Norman Vine" <nhv@cape.com>
To: <gdal-dev@remotesensing.org>
Subject: RE: [Gdal-dev] hdf4 metadata
Date: Thu, 27 Feb 2003 10:04:39 -0500
Reply-To: gdal-dev@remotesensing.org

Andrey Kiselev writes:
>
> I have fixed problem with HDF-EOS metadata parsing. You could check out
> latest changes.

Yes *much* better :-)

Thanks !

Norman


--__--__--

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


End of Gdal-dev Digest


From warmerdam at pobox.com  Thu Mar  6 23:21:24 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] help !
In-Reply-To: <000401c2e45d$c497f660$be7fed81@ittc.ku.edu>
References: <000401c2e45d$c497f660$be7fed81@ittc.ku.edu>
Message-ID: <3E681E44.5060805@pobox.com>

Anand Madhavan wrote:
> Hi,
> 
>    I basically need to get ALL the information about a .img (hfa) file
> header and copy it into another .img (hfa) file I create with my own new
> data. Can anyone help me as to what API's I should use and where to look for
> them ? Any help is highly appreciated. Thank you.
> 
> Regards,
> Anand

Anand,

I don't think anyone has used GDAL or the HFA libraries to try and
clone all the metadata associated with an existing .img file in a new one
that has different imagery.  It isn't possible with the GDAL API as any
information outside the GDAL data model would be discarded.  It could likely
be accomplished with the lower level HFA API; however, not without substantial
effort.

If you really want to preserve *all* the header information and just place
new imagery, why not just literally copy the file, and then update the imagery
in the new file?  If you want to do things like change the file size then you
obviously aren't preserving all the existing header information exactly and
you should provide a more detailed specification of your requirements.

If you just want to preserve a bunch of common metadata from an existing .img
file (but not all possible metadata) then it might be possible to extend the
GDAL driver to carry this stuff as metadata.  I'm not sure if that would be
a good approach though.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From neteler at itc.it  Fri Mar  7 04:43:27 2003
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] SRTM data and GDAL
In-Reply-To: <20030306170001.15376.78522.Mailman@yoda.imagelinks.com>; from gdal-dev-request@remotesensing.org on Thu, Mar 06, 2003 at 12:00:01PM -0500
References: <20030306170001.15376.78522.Mailman@yoda.imagelinks.com>
Message-ID: <20030307104327.G4435@itc.it>

Dear GDAL users,

since yesterday a SRTM shuttle elevation data are available
for Northern America at around 90m resolution (0:00:03 deg):

http://www.jpl.nasa.gov/srtm/cbanddataproducts.html
ftp://srtm.usgs.gov/pub/data/srtm/North_America/3arcsec/

The trick to use them with GDAL is as follows:

- unpack the .zip file
- mv NXXWYYY.hgt NXXWYYY.bil
- create a .hdr file (ARC/INFO style) from the file name:

Example for N18W077.bil

BYTEORDER     M
LAYOUT        BIL
NROWS         1201
NCOLS         1201
NBANDS        1
NBITS         16
BANDROWBYTES  2402
TOTALROWBYTES 2402
BANDGAPBYTES  0
NODATA        -32768
ULXMAP        -76.9995833333        <- WYYY - 0.0004166667
ULYMAP        19.00041666666667     <- NXX  + 1.0004166667
XDIM          0.000833333333333
YDIM          0.000833333333333


Then gdalinfo then accepts the file and reports:

gdalinfo -mm N18W077.bil
Driver: EHdr/ESRI .hdr Labelled
Size is 1201, 1201
Coordinate System is '
Origin = (-77.000000,19.000833)
Pixel Size = (0.000833,-0.000833)
Corner Coordinates:
Upper Left  ( -77.0000000,  19.0008333)
Lower Left  ( -77.0000000,  18.0000000)
Upper Right ( -75.9991667,  19.0008333)
Lower Right ( -75.9991667,  18.0000000)
Center      ( -76.4995833,  18.5004167)
Band 1 Block=1201x1 Type=Int16, ColorInterp=Undefined
    Computed Min/Max=-10.000,2024.000
  NoData Value=-32768

Maybe the GDAL authors could add a simple HGT driver which
automagically constructs the .hdr file internally on the fly.

Anyway, with above method you can easily import/convert
the data (also tested with GRASS).

Cheers

 Markus

-- 
Markus Neteler

ITC-irst, Istituto per la Ricerca Scientifica e Tecnologica
      Project on Predictive Models for the Environment    
Via Sommarive, 18        -       38050 Povo (Trento), Italy
tel +39 0461 314 520 (fax -591)           http://mpa.itc.it

From anandm at ittc.ku.edu  Fri Mar  7 14:21:58 2003
From: anandm at ittc.ku.edu (Anand Madhavan)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Is it possible to just copy the new data without affecting the header ?
In-Reply-To: <20030307170001.16976.66745.Mailman@yoda.imagelinks.com>
Message-ID: <000f01c2e4de$d27ee780$be7fed81@ittc.ku.edu>

Hi Mr. Warmerdam,

   Thanks for your reply to my question regarding copying all the header
information of a hfa file. Basically, I have a source .img file and another
source .pgm file ( both of same dimensions! ). I need to create a new output
.img file which has the header information of the source .img file and the
data of the .pgm file. I guess the best bet is to just make a copy of the
souce .img file, and copy the data into it from the .pgm file. But, is it
possible to just copy the imagery data from a .pgm to .img file without
affecting the header inside the already existing band of the .img? ( eg.
georeferencing, etc...).(Assuming the width and height are the same) If so,
kindly guide me. Thanks!

Regards,
Anand Madhavan.


From warmerdam at pobox.com  Fri Mar  7 15:50:42 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Is it possible to just copy the new data without affecting
 the header ?
In-Reply-To: <000f01c2e4de$d27ee780$be7fed81@ittc.ku.edu>
References: <000f01c2e4de$d27ee780$be7fed81@ittc.ku.edu>
Message-ID: <3E690622.3090109@pobox.com>

Anand Madhavan wrote:
> Hi Mr. Warmerdam,
> 
>    Thanks for your reply to my question regarding copying all the header
> information of a hfa file. Basically, I have a source .img file and another
> source .pgm file ( both of same dimensions! ). I need to create a new output
> .img file which has the header information of the source .img file and the
> data of the .pgm file. I guess the best bet is to just make a copy of the
> souce .img file, and copy the data into it from the .pgm file. But, is it
> possible to just copy the imagery data from a .pgm to .img file without
> affecting the header inside the already existing band of the .img? ( eg.
> georeferencing, etc...).(Assuming the width and height are the same) If so,
> kindly guide me. Thanks!

Anand,

With limitations this is possible. There is no pre-written application that
does it, but it can be scripted fairly easily in Python.  The caveat is that
all the .img tiles have to be uncompressed otherwise they cannot be written
over.

I would suggest you review how imagery is copied from file to file in the
gdal_merge.py script.  You should be able to use something like what is
done in the raster_copy() function plus a bit of stuff to open the files.

Good luck,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Fri Mar  7 17:29:14 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Re: Python Bindings - HELP!
In-Reply-To: <1047074925.10697.68.camel@delores>
References: <1047074925.10697.68.camel@delores>
Message-ID: <3E691D3A.8080109@pobox.com>

Diana Esch-Mosher wrote:
> Frank,
> 
> I written some low level utility io routines for my application. To get
> to them from python I now have to hand generate the bindings and include
> into gvmodule.c? Yikes! I'm over my head. In python I have opened 2
> datasets with gdal.Open. I then want to call
> mymodule.myroutine(src_dataset,dst_dataset). Looking at something like
> the binding to gv_raster_rasterize_shapes leaves me in a panic! Can you
> give me some guidance?

Diana,

I have committed an "example" method in gvmodule.c for you.  Search in
their for MyGDALOperator.  It takes two GDALDatasetH's as input.

Feel free to change it as needed.  Note that you also have to change the
entry in the list at the end of the file.

In Python you could use something like this to access it:

         import _gv
         import gdal

         ds = gdal.Open( '/home/warmerda/openev/utm.tif' )
         x = _gv.MyGDALOperator( ds._o, ds._o )
         print x

Normally we wrap this with a Python function to make it nicer to use
from application code.

Note that there are two (three really) methods for wrapping C code for
OpenEV.

In OpenEV the wrappers for most GtkObject based stuff is auto-generated from
the gv.defs file.  In GDAL the SWIG package is used to generate most GDAL
wrappers automatically from the gdal.i.

The third method is "write it by hand" as is done in gvmodule.c for OpenEV
and sometimes in gdal.i for GDAL.

Note that your method in GDAL would be easier to wrap.  We could just add
a "int MyGDALOperation(GDALDatasetH,GDALDatasetH);" prototype to gdal.i
and the wrapper would be auto-generated.

I hope this gives you enough to go on to add your operator.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From julian at preferred.com  Fri Mar  7 19:10:54 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL compile and link errors
Message-ID: <5.2.0.9.0.20030307190327.00a0bdd0@pop.preferred.com>

Hi.

    Just downloaded the CVS snapshot and tried compiling it with HDF support.
Since most of my interest is in raster files, I decided to compile without
vector support. In nmake.opts, I tried two different methods of nullifying
the OGR component.
  a. simply answered no to the question.
  b. followed the suggested method of commenting-out the question.

Both instances resulted in link errors with what appear to be OGR function.
The lists have some common and some uncommon errors. The list from the
incremental linker follows.

=== COMMENTING-OUT THE QUESTION ===
  _OGR_G_ExprtToGML
  _OG_G_CreateFromGML
  _ntohl@4
  _htonl@4

=== ANSWERING NO TO THE QUESTION ===
  _RegisterOGRREC
  _RegisterOGRAVCBin
  _RegisterOGRGML
  _OGR_G_ExportToGML
  _OGR_G_CreateFromGML
  _ntohl@4
  _htonl@4

Any ideas? Has this anything to do with the HDF library?

                                                                Thanks,
                                                              Jim Julian







From julian at preferred.com  Sat Mar  8 01:21:36 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL and compile link errors
Message-ID: <5.2.0.9.0.20030308011554.00a09270@pop.preferred.com>

Hi again,

    I disabled HDF support and removed .obj files as well as gdal.lib and 
re-compiled.
The compiler complains of not being able to open hdf4.lib. What am I missing?
    Is it just coincidence that I decided to include HDF support at the 
same time
I ran into link problems?


                                                                          Thanks,
                                                                        Jim 
Julian


From warmerdam at pobox.com  Sat Mar  8 01:33:32 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL and compile link errors
In-Reply-To: <5.2.0.9.0.20030308011554.00a09270@pop.preferred.com>
References: <5.2.0.9.0.20030308011554.00a09270@pop.preferred.com>
Message-ID: <3E698EBC.6030709@pobox.com>

Jim Julian wrote:
> 
> Hi again,
> 
>    I disabled HDF support and removed .obj files as well as gdal.lib and 
> re-compiled.
> The compiler complains of not being able to open hdf4.lib. What am I 
> missing?
>    Is it just coincidence that I decided to include HDF support at the 
> same time
> I ran into link problems?

Jim,

First, I have corrected the problem with OGR_G_ExportToGML and
OGR_G_CreateFromGML().  These relate to support for GML geomeries being
moved from gdal/ogr/ogrsf_frmts/gml to gdal/ogr and GML geometry translation
becoming a core OGRGeometry service.  The Windows makefiles had not been
updated properly to account for this.

The other problems are less clear to me.  The ntohl and htonl functions
are provided by ws2_32.lib, normally included in the HDF_LIB macro in
nmake.opt.  I think some of the other problems related back to the GML
build failing.

You new problems are likely due to not completely "clean"ing object and
library files before rebuilding with the new makefile configuration.   I
would suggest you pick up a new CVS snapshot in the in the morning and
trying again clean.   If you don't want to wait for that, then try downloading
directly from CVS.

Note, I have verified a clean build with the INCLUDE_OGR_FORMATS commented
out, so that should be possible.

Good luck,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From julian at preferred.com  Sat Mar  8 11:25:15 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL and compile link errors
In-Reply-To: <3E698EBC.6030709@pobox.com>
References: <5.2.0.9.0.20030308011554.00a09270@pop.preferred.com>
 <5.2.0.9.0.20030308011554.00a09270@pop.preferred.com>
Message-ID: <5.2.0.9.0.20030308111238.009ec390@pop.preferred.com>



Hi Frank,



>The other problems are less clear to me.  The ntohl and htonl functions
>are provided by ws2_32.lib, normally included in the HDF_LIB macro in
>nmake.opt.  I think some of the other problems related back to the GML
>build failing.

  I searched the internet and found that ws2_32.lib is a VC98 library
and the HDF_LIB designation is for the HDF lib directory.
Specifically:
HDF4_DIR =      D:\HDF41R5
HDF4_LIB =      /LIBPATH:$(HDF4_DIR)\lib

                                                                   Thanks,
                                                                 Jim Julian





From kamal_jo at yahoo.com  Sun Mar  9 02:41:02 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Degug Error
In-Reply-To: <20030305132149.32694.qmail@web41109.mail.yahoo.com>
Message-ID: <20030309074102.93760.qmail@web41107.mail.yahoo.com>

If you debug "gdal_translate" you will get a message
box error when the functin

GDALClose( (GDALDatasetH) poVDS );

is executed.

Can you fix this problem?

__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From dron at ak4719.spb.edu  Sun Mar  9 05:28:51 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] [RFC] RasterIO speedup patch
In-Reply-To: <OF5FC06903.8BC4AC88-ON86256CC4.0079FBE0@cr.usgs.gov>
References: <OF5FC06903.8BC4AC88-ON86256CC4.0079FBE0@cr.usgs.gov>
Message-ID: <20030309102851.GA1989@ak4719.spb.edu>

Hi, Tim,

On Wed, Feb 05, 2003 at 04:31:02PM -0600, Tim Beckmann wrote:
> We've been working to incorporate GDAL into our software.  One drawback 
> we've found so far is that the performance of gdal when it needs to do 
> data type conversions is extremely slow.  Here is a patch that I've 
> generated that seems to work to improve the performance.  It works by 
> changing the GDALRasterBand::IRasterIO to attempt to convert more than a 
> single pixel for every call to GDALCopyWords.  For the testing I've done, 
> it seems to work well.  I'm not sure if I've covered all the possible 
> combinations though.  There are still cases where it falls back to calling 
> GDALCopyWords once for each pixel.

Please, look at latest improvements in GDALRasterBand::IRasterIO()
implementation. Unfortunately I have rejected your patch because it was
wrong and results in segfaults. But with my latest changes IRasterIO()
works significally faster than before (4 times faster in many cases).
Slowest part of IRasterIO() is the case when we need perform resampling
and it stays untouched, but in all cases when resampling don't needed
IRasterIO() works much better now.

				Regards,
				Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From kamal_jo at yahoo.com  Sun Mar  9 07:48:54 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDALClose ERROR
In-Reply-To: <20030309102851.GA1989@ak4719.spb.edu>
Message-ID: <20030309124854.73063.qmail@web41109.mail.yahoo.com>

If you debug "gdal_translate" application, when
reaching the calling of function

GDALClose( hInDataset );

you will get a message box error, it seems to be a
memory error.

Please, can  you fix this problem?
It is causing sever problems to my code


__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From julian at preferred.com  Sun Mar  9 11:52:51 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL_TRANSLATE and PNM format
Message-ID: <5.2.0.9.0.20030309111302.00a011c0@pop.preferred.com>

Hi,

    My original purpose in downloading the current CVS was to verify an 
error in gdal_translate.
Given the following command line:

"gdal_translate n36w082.bil n36w082.pnm"

A geotiff is written rather than a PGM or PPM file. I tried using the PGM 
extension as well.
I looked through my OpenEV and GDAL archives in the process of studying the 
problem
and found no references, which brings me to another question.
    Has anyone found anything that serves as the equivalent of an offline 
Google search
engine? I can easily convert all my archives to text files. I prefer 
individual emails since
the subject lines make a handy index to the nature of the communications. 
This way
I have been able to search by person/date/subject. I do not think this 
would not have been
so easy using the digest form.

                                                                                     Jim 
Julian


From dron at ak4719.spb.edu  Sun Mar  9 12:51:54 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL_TRANSLATE and PNM format
In-Reply-To: <5.2.0.9.0.20030309111302.00a011c0@pop.preferred.com>
References: <5.2.0.9.0.20030309111302.00a011c0@pop.preferred.com>
Message-ID: <20030309175154.GA10988@ak4719.spb.edu>

Jim,

On Sun, Mar 09, 2003 at 11:52:51AM -0500, Jim Julian wrote:
>    My original purpose in downloading the current CVS was to verify an 
> error in gdal_translate.
> Given the following command line:
> 
> "gdal_translate n36w082.bil n36w082.pnm"
> 
> A geotiff is written rather than a PGM or PPM file. I tried using the PGM 
> extension as well.

You should explicitly specify output file format with -of option. GTiff
format used by default. gdal_translate don't recognizes output file
format by extension. Try this:

gdal_translate -of PNM n36w082.bil n36w082.pnm

				Regards,
				Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From julian at preferred.com  Sun Mar  9 13:27:03 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL_TRANSLATE and PNM format
In-Reply-To: <20030309175154.GA10988@ak4719.spb.edu>
References: <5.2.0.9.0.20030309111302.00a011c0@pop.preferred.com>
 <5.2.0.9.0.20030309111302.00a011c0@pop.preferred.com>
Message-ID: <5.2.0.9.0.20030309132341.009ec450@pop.preferred.com>

Thanks Andrey,

    Seems I've been spreading myself a little too thin lately what with
learning MAtlab/Scilab, Matrix math and trying to keep up on GDAL.


At 08:51 PM 3/9/03 +0300, you wrote:

>You should explicitly specify output file format with -of option. GTiff
>format used by default. gdal_translate don't recognizes output file
>format by extension. Try this:
>
>gdal_translate -of PNM n36w082.bil n36w082.pnm
>
>                                 Regards,
>                                 Andrey



From julian at preferred.com  Mon Mar 10 00:10:45 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL Translate and PNM format
Message-ID: <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com>

Thanks Anand,

    The switches work, of course, but the bil format turned out to be of
a type not compatible with the PNM format (INT16). I settled for GeoTiff.

                                                              Jim Julian


From dron at ak4719.spb.edu  Mon Mar 10 02:36:31 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL Translate and PNM format
In-Reply-To: <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com>
References: <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com>
Message-ID: <20030310073630.GA2230@ak4719.spb.edu>

On Mon, Mar 10, 2003 at 12:10:45AM -0500, Jim Julian wrote:
>    The switches work, of course, but the bil format turned out to be of
> a type not compatible with the PNM format (INT16). I settled for GeoTiff.

You can safely convert Int16 into UInt16 (with -ot switch) if you have
only positive values in input file.

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From kamal_jo at yahoo.com  Mon Mar 10 06:38:11 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] gdal_translate
In-Reply-To: <20030310073630.GA2230@ak4719.spb.edu>
Message-ID: <20030310113811.16031.qmail@web41113.mail.yahoo.com>

I used your application gdal_translate to convert a 16
bit GeoTiff file to an 8 bit bmp file using command
line arguments:

gdal_translate -of bmp -ot byte -scale one.tif two.bmp

and it worked fine,

I then switched to  your source code of gdal_translate
and put all the needed dlls and lib files and it
compiled correctly, but the result of its conversion
for the same file resulted in an image all black, why
is that?

__________________________________________________
Do you Yahoo!?
Yahoo! Tax Center - forms, calculators, tips, more
http://taxes.yahoo.com/

From tbeckman at usgs.gov  Mon Mar 10 09:07:33 2003
From: tbeckman at usgs.gov (Tim Beckmann)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] [RFC] RasterIO speedup patch
Message-ID: <OF207336AA.90858CAE-ON86256CE5.004D6109-86256CE5.004D995E@cr.usgs.gov>

Andrey,

Thanks for the update.  I'm not surprised my change wasn't 100% correct. 
The RasterIO function is extremely complicated and pretty much 
undocumented.   The change did work for the one driver I tested ;).  I 
will try out your change when I get a chance.

Thanks
Tim
--------------------------------------------------------------------------
Tim Beckmann               tbeckman@usgs.gov
Software Project Lead
SAIC
EROS Data Center, Sioux Falls, SD 57198
605-594-2521    Phone
605-594-6940    Fax





Andrey Kiselev <dron@ak4719.spb.edu>
Sent by: gdal-dev-admin@remotesensing.org
03/09/2003 04:28 AM
Please respond to gdal-dev

 
        To:     gdal-dev@remotesensing.org
        cc: 
        Subject:        Re: [Gdal-dev] [RFC] RasterIO speedup patch


Hi, Tim,

On Wed, Feb 05, 2003 at 04:31:02PM -0600, Tim Beckmann wrote:
> We've been working to incorporate GDAL into our software.  One drawback 
> we've found so far is that the performance of gdal when it needs to do 
> data type conversions is extremely slow.  Here is a patch that I've 
> generated that seems to work to improve the performance.  It works by 
> changing the GDALRasterBand::IRasterIO to attempt to convert more than a 

> single pixel for every call to GDALCopyWords.  For the testing I've 
done, 
> it seems to work well.  I'm not sure if I've covered all the possible 
> combinations though.  There are still cases where it falls back to 
calling 
> GDALCopyWords once for each pixel.

Please, look at latest improvements in GDALRasterBand::IRasterIO()
implementation. Unfortunately I have rejected your patch because it was
wrong and results in segfaults. But with my latest changes IRasterIO()
works significally faster than before (4 times faster in many cases).
Slowest part of IRasterIO() is the case when we need perform resampling
and it stays untouched, but in all cases when resampling don't needed
IRasterIO() works much better now.

                                                                 Regards,
                                                                 Andrey


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev




From warmerdam at pobox.com  Mon Mar 10 09:35:08 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] gdal_translate
In-Reply-To: <20030310113811.16031.qmail@web41113.mail.yahoo.com>
References: <20030310113811.16031.qmail@web41113.mail.yahoo.com>
Message-ID: <3E6CA29C.7000206@pobox.com>

Ayman Kamal wrote:
> I used your application gdal_translate to convert a 16
> bit GeoTiff file to an 8 bit bmp file using command
> line arguments:
> 
> gdal_translate -of bmp -ot byte -scale one.tif two.bmp
> 
> and it worked fine,
> 
> I then switched to  your source code of gdal_translate
> and put all the needed dlls and lib files and it
> compiled correctly, but the result of its conversion
> for the same file resulted in an image all black, why
> is that?

Ayman,

I don't know.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From julian at preferred.com  Mon Mar 10 19:59:21 2003
From: julian at preferred.com (Jim Julian)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL Translate and PNM format
In-Reply-To: <20030310073630.GA2230@ak4719.spb.edu>
References: <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com>
 <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com>
Message-ID: <5.2.0.9.0.20030310195433.00a02ac0@pop.preferred.com>

HI Andrey,

    The BIL file was originally an HGF from the SRTM download site mentioned by
Markus Neteler. The files seem to be DEM files and contain a no_data value
which is negative.

                                                                   Thanks,
                                                                 Jim Julian


---------------------------------------------------------------------------

At 10:36 AM 3/10/03 +0300, you wrote:
>On Mon, Mar 10, 2003 at 12:10:45AM -0500, Jim Julian wrote:
> >    The switches work, of course, but the bil format turned out to be of
> > a type not compatible with the PNM format (INT16). I settled for GeoTiff.
>
>You can safely convert Int16 into UInt16 (with -ot switch) if you have
>only positive values in input file.
>
>--
>Andrey V. Kiselev
>Home phone:  +7 812 5274898  ICQ# 26871517
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev



From kamal_jo at yahoo.com  Tue Mar 11 01:58:46 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] gdal_translate
In-Reply-To: <3E6CA29C.7000206@pobox.com>
Message-ID: <20030311065846.85831.qmail@web41107.mail.yahoo.com>

ok sir, I found a way to make "gdal_translate" be able
to convert those 16-bit geotiff files:

gdal_translate -of bmp -ot byte file1.tif file2.bmp

(( simply I didn't put -scale in the command line ))

I just want one thing, do you have explanation for this?

__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From dron at ak4719.spb.edu  Tue Mar 11 02:53:40 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] GDAL Translate and PNM format
In-Reply-To: <5.2.0.9.0.20030310195433.00a02ac0@pop.preferred.com>
References: <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com> <5.2.0.9.0.20030310000724.00a01d60@pop.preferred.com> <5.2.0.9.0.20030310195433.00a02ac0@pop.preferred.com>
Message-ID: <20030311075340.GA6309@ak4719.spb.edu>

On Mon, Mar 10, 2003 at 07:59:21PM -0500, Jim Julian wrote:
>    The BIL file was originally an HGF from the SRTM download site mentioned 
>    by
> Markus Neteler. The files seem to be DEM files and contain a no_data value
> which is negative.

In this case val_repl.py script (in /pymod/samples directory) will help
you. With this script you can replace negative NoData by the more
appropriate one. Something like:

val_repl.py -innd -500 -outnd 0 infile outfile


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From kamal_jo at yahoo.com  Tue Mar 11 03:01:00 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030311065846.85831.qmail@web41107.mail.yahoo.com>
Message-ID: <20030311080100.97671.qmail@web41108.mail.yahoo.com>

I want to be able to convert a "bmp" file to a
"GeoTiff" file.

I used gdal_translate to do this, but the resulting
file didn't of course contain georeferencing data.

Now:
1. Is it possible (if I find the goereferencing data)
to give them to GDAL SDK so that GDAL can generate a
GeoTiff file with georeferencing data embeded inside?

if (1.)
{
   2. What data do I need to supply to GDAL to    
   accomplish this?
   
   3. What functions to use in GDAL to save such data 
   in thre resulting GeoTiff file?
}
else
{
   4. Can you help me in any means to accomoplish
this?
}



__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From rogerjames99 at btinternet.com  Tue Mar 11 06:35:58 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030311080100.97671.qmail@web41108.mail.yahoo.com>
Message-ID: <000401c2e7c2$63052b30$300aa8c0@internal.beardandsandals.co.uk>

Ayman,

I you convert the file to to an ordinary tiff, you can use my georef
program to give it co-ordinate information. You will need the
co-ordinates of three ground control points visible in the upper left,
upper right, and lower left quadrants of the image. You can find georef
at www.beardandsandals.co.uk.

Roger

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Ayman Kamal
Sent: 11 March 2003 08:01
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] saving GeoTiff

I want to be able to convert a "bmp" file to a
"GeoTiff" file.

I used gdal_translate to do this, but the resulting
file didn't of course contain georeferencing data.

Now:
1. Is it possible (if I find the goereferencing data)
to give them to GDAL SDK so that GDAL can generate a
GeoTiff file with georeferencing data embeded inside?

if (1.)
{
   2. What data do I need to supply to GDAL to    
   accomplish this?
   
   3. What functions to use in GDAL to save such data 
   in thre resulting GeoTiff file?
}
else
{
   4. Can you help me in any means to accomoplish
this?
}



__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From kamal_jo at yahoo.com  Tue Mar 11 07:43:08 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <000401c2e7c2$63052b30$300aa8c0@internal.beardandsandals.co.uk>
Message-ID: <20030311124308.75087.qmail@web41110.mail.yahoo.com>

I don't need a program, I need some sort of code or
dll to use in my own code, I am not an end user.

--- Roger James <rogerjames99@btinternet.com> wrote:
> Ayman,
> 
> I you convert the file to to an ordinary tiff, you
> can use my georef
> program to give it co-ordinate information. You will
> need the
> co-ordinates of three ground control points visible
> in the upper left,
> upper right, and lower left quadrants of the image.
> You can find georef
> at www.beardandsandals.co.uk.
> 
> Roger
> 
> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org
> [mailto:gdal-dev-admin@remotesensing.org] On Behalf
> Of Ayman Kamal
> Sent: 11 March 2003 08:01
> To: gdal-dev@remotesensing.org
> Subject: [Gdal-dev] saving GeoTiff
> 
> I want to be able to convert a "bmp" file to a
> "GeoTiff" file.
> 
> I used gdal_translate to do this, but the resulting
> file didn't of course contain georeferencing data.
> 
> Now:
> 1. Is it possible (if I find the goereferencing
> data)
> to give them to GDAL SDK so that GDAL can generate a
> GeoTiff file with georeferencing data embeded
> inside?
> 
> if (1.)
> {
>    2. What data do I need to supply to GDAL to    
>    accomplish this?
>    
>    3. What functions to use in GDAL to save such
> data 
>    in thre resulting GeoTiff file?
> }
> else
> {
>    4. Can you help me in any means to accomoplish
> this?
> }
> 
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Web Hosting - establish your business online
> http://webhosting.yahoo.com
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From warmerdam at pobox.com  Tue Mar 11 08:36:37 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] gdal_translate
In-Reply-To: <20030311065846.85831.qmail@web41107.mail.yahoo.com>
References: <20030311065846.85831.qmail@web41107.mail.yahoo.com>
Message-ID: <3E6DE665.7080208@pobox.com>

Ayman Kamal wrote:
> ok sir, I found a way to make "gdal_translate" be able
> to convert those 16-bit geotiff files:
> 
> gdal_translate -of bmp -ot byte file1.tif file2.bmp
> 
> (( simply I didn't put -scale in the command line ))
> 
> I just want one thing, do you have explanation for this?

Ayman,

Substantially different machinery is used with scaling is used from when it
isn't.  However, I have rerun a test of converting a 16bit input file to
8bit BMP with scaling on my Linux system and it works fine even under
valgrind, so I still don't know why your local build didn't work.  If you
are still interested in the issue, the obvious step to take is for you to
try and debug the problem since you are apparently the only one able to
reproduce the problem.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Tue Mar 11 08:29:07 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030311080100.97671.qmail@web41108.mail.yahoo.com>
References: <20030311080100.97671.qmail@web41108.mail.yahoo.com>
Message-ID: <3E6DE4A3.2050101@pobox.com>

Ayman Kamal wrote:
> I want to be able to convert a "bmp" file to a
> "GeoTiff" file.
> 
> I used gdal_translate to do this, but the resulting
> file didn't of course contain georeferencing data.
> 
> Now:
> 1. Is it possible (if I find the goereferencing data)
> to give them to GDAL SDK so that GDAL can generate a
> GeoTiff file with georeferencing data embeded inside?
> 
> if (1.)
> {
>    2. What data do I need to supply to GDAL to    
>    accomplish this?
>    
>    3. What functions to use in GDAL to save such data 
>    in thre resulting GeoTiff file?
> }
> else
> {
>    4. Can you help me in any means to accomoplish
> this?
> }

Ayman,

You need to call GDALSetGeoTransform() with the appropriate affine geotransform.
Please ensure you are using a fairly recent GDAL (like a CVS snapshot not less
than 3 weeks old as there were some bugs in GeoTIFF update-in-place in 1.1.8).

The following is a fairly minimal example.  If you want to write the coordinate
system also use the GDALSetProjection() method.

#include "gdal.h"

int main()

{
     GDALDatasetH hDS;
     double       adfGeoTransform[6];

     GDALAllRegister();

     hDS = GDALOpen( "work.tif", GA_Update );

     adfGeoTransform[0] = 1000;  /* top left x */
     adfGeoTransform[1] = 2.0;   /* horizontal pixel size */
     adfGeoTransform[2] = 0.0;
     adfGeoTransform[3] = 6120;  /* top left y */
     adfGeoTransform[4] = 0.0;
     adfGeoTransform[5] = -2.0;  /* vertical pixel size */

     GDALSetGeoTransform( hDS, adfGeoTransform );

     GDALClose( hDS );
}

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Tue Mar 11 10:51:25 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <3E6DE665.7080208@pobox.com>
Message-ID: <20030311155125.47378.qmail@web41111.mail.yahoo.com>

I debugged through "gdal_translate" demo application
and found that the two functions I care about are:

poVDS->SetProjection( pszProjection );
poVDS->SetGeoTransform( adfGeoTransform );

I know that pszProjection is the projection string,
and adfGeoTransform is likely coordinates of area.

I want to know what are the minimum parameters that I
have to provide for both those functions to generate a
GeoTiff file?

And if you can help me to know what are the different
possiblities of (valid) parameters ranges that can be entered?

__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From warmerdam at pobox.com  Tue Mar 11 11:19:43 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <20030311155125.47378.qmail@web41111.mail.yahoo.com>
References: <20030311155125.47378.qmail@web41111.mail.yahoo.com>
Message-ID: <3E6E0C9F.4050204@pobox.com>

Ayman Kamal wrote:
> I debugged through "gdal_translate" demo application
> and found that the two functions I care about are:
> 
> poVDS->SetProjection( pszProjection );
> poVDS->SetGeoTransform( adfGeoTransform );
> 
> I know that pszProjection is the projection string,
> and adfGeoTransform is likely coordinates of area.
> 
> I want to know what are the minimum parameters that I
> have to provide for both those functions to generate a
> GeoTiff file?
> 
> And if you can help me to know what are the different
> possiblities of (valid) parameters ranges that can be entered?

Ayman,

I presume you received and reviewed my last email demonstrating
SetGeoTransform().  If you have specific questions let me know.

The SetProjection() method (like most other methods) is documented
at:
   http://www.remotesensing.org/gdal/class_GDALDataset.html

You may want to read this topic for a little greater understanding of
the OpenGIS Well Known Text format for coordinate system definitions:
   http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html

Depending on the generality of solution you need, it is generally a good
idea to generate sample GeoTIFF files for the coordinate systems you want
and then use gdalinfo to dump the corresponding "WKT".  You can then
manipulate the actual parameter values as needed in your actual code, or
use the OGRSpatialReference methods to create a WKT string.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From support at geoimage.fr  Tue Mar 11 11:30:00 2003
From: support at geoimage.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Some questions about OGR styles
Message-ID: <0e9701c2e7eb$7652e4b0$9d2346c0@wanadoo.fr>

Hello,

I use GDAL and OGR in my application. It's a really great library.
Now I am using the feature style part and I have some questions and
comments.

* What is the 'ogr-pen-8' pre-prefined ogr style ? I don't understand the
sentence "alternate-line (sets every other pixel)".

* When I load a mapinfo file (tab or mif) the background color is always
defined for each polygon even if this color was defined as 'None' in mapinfo
 (for semi transparent filling).
I think that the function "ITABFeatureBrush::GetBrushStyleString()" should
be modified as follow :

const char *ITABFeatureBrush::GetBrushStyleString()
{
    const char *pszStyle = NULL;
    int    nOGRStyle  = 0;
    char szPattern[20];
    szPattern[0] = '\0';
    if (m_sBrushDef.nFillPattern == 1)              nOGRStyle = 1;
    else if (m_sBrushDef.nFillPattern == 3)      nOGRStyle = 2;
    else if (m_sBrushDef.nFillPattern == 4)      nOGRStyle = 3;
    else if (m_sBrushDef.nFillPattern == 5)      nOGRStyle = 5;
    else if (m_sBrushDef.nFillPattern == 6)      nOGRStyle = 4;
    else if (m_sBrushDef.nFillPattern == 7)      nOGRStyle = 6;
    else if (m_sBrushDef.nFillPattern == 8)      nOGRStyle = 7;

    if ( m_sBrushDef.bTransparentFill ) // don't specify the background color
      pszStyle=CPLSPrintf("BRUSH(fc:#%6.6x,id:\"mapinfo-brush-%d.ogr-brush-%d\")",
      m_sBrushDef.rgbFGColor,
      m_sBrushDef.nFillPattern,nOGRStyle);
    else
      pszStyle=CPLSPrintf("BRUSH(fc:#%6.6x,bc:#%6.6x,id:\"mapinfo-brush-%d.ogr-brush-%d\")",
      m_sBrushDef.rgbFGColor,
      m_sBrushDef.rgbBGColor,
      m_sBrushDef.nFillPattern,nOGRStyle);
     return pszStyle;
}

* The function OGRStyleTool::GetRGBFromString defaults the alpha value to
zero and there is no way when using this function to know if the returned value is the
default value or the value specified in the color string. The default value should
normally be set to 0xFF as specified in the doc.

Any comments appreciated,

Fr?d?ric.

_________________________________________________________________
Fr?d?ric Trastour - SpaceEyes





From sjrobinson at ntlworld.com  Tue Mar 11 16:06:28 2003
From: sjrobinson at ntlworld.com (Stuart Robinson)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Error converting UK .NTD MERIDIAN files
Message-ID: <001901c2e812$18fc79d0$9700a8c0@laptop>

I am trying to convert a number of UK .NTF MERIDIAN files to a shape
file using OGR and get the following error messages
 
ERROR 1: Attempt to read 32 to 37, beyond the end of 36 byte long type
'16' record.
 
The numbers 32 and 37 are different for each file
 
Some tiles seem to convert OK but others are missing in the final .SHP
file
 
Any help would be appreciated
 
Regards
 
 
Stuart Robinson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030311/0e90bbf4/attachment.html
From warmerdam at pobox.com  Tue Mar 11 16:27:18 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Error converting UK .NTD MERIDIAN files
In-Reply-To: <001901c2e812$18fc79d0$9700a8c0@laptop>
References: <001901c2e812$18fc79d0$9700a8c0@laptop>
Message-ID: <3E6E54B6.80104@pobox.com>

Stuart Robinson wrote:
> I am trying to convert a number of UK .NTF MERIDIAN files to a shape 
> file using OGR and get the following error messages
> 
> ERROR 1: Attempt to read 32 to 37, beyond the end of 36 byte long type 
> ?16? record.
> 
> The numbers 32 and 37 are different for each file
> 
> Some tiles seem to convert OK but others are missing in the final .SHP file
> 
> Any help would be appreciated

Stuart,

Could you supply a sample file directly by email that causes the problem?
I believe the problem is in the node record translation and relates to
getting the NUM_LINKS and derived fields wrong.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Wed Mar 12 02:32:19 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <3E6E0C9F.4050204@pobox.com>
Message-ID: <20030312073219.70353.qmail@web41107.mail.yahoo.com>

I used "gdal_translate" to convert a gray .bmp file to
a geotiff file. I opened this file using GDAL library,
and tried it in other viewers, it worked.

Now I tried to convert a colored .bmp files: 256,
24bit
Then I opened the resulting geotiff file in my
application using GDAL and tried the same using OpenEV
and it worked,

BUT:

I tried to open it using differnt GeoTiff viewers, one
of them showed it as a whole black and the other didnt
open it and complained with the message:

"65535: Sample out of range, max 3"

What is the problem? Is the problem that the images
arec colored or what?


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From hreinec at gwdg.de  Wed Mar 12 07:30:01 2003
From: hreinec at gwdg.de (Horst Reinecke)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
Message-ID: <03031213300101.01259@iwj-rei>

Hello,

i trying to read FASTL7 data with grass5.0 (r.in.gdal) or gdalinfo. Both 
times i get the answer "ERROR 4: <filename> not recognised as supported 
fileformat". I using gdal-bibliothek 1.1.8. What wrong?

Greetings

Horst

From dron at ak4719.spb.edu  Wed Mar 12 08:08:46 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <03031213300101.01259@iwj-rei>
References: <03031213300101.01259@iwj-rei>
Message-ID: <20030312130845.GA4152@ak4719.spb.edu>

On Wed, Mar 12, 2003 at 01:30:01PM +0100, Horst Reinecke wrote:
> i trying to read FASTL7 data with grass5.0 (r.in.gdal) or gdalinfo. Both 
> times i get the answer "ERROR 4: <filename> not recognised as supported 
> fileformat". I using gdal-bibliothek 1.1.8. What wrong?

Probably you supply r.in.gdal with wrong file. You should read header
file, not the binary image itself.

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warmerdam at pobox.com  Wed Mar 12 08:16:10 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <20030312073219.70353.qmail@web41107.mail.yahoo.com>
References: <20030312073219.70353.qmail@web41107.mail.yahoo.com>
Message-ID: <3E6F331A.3000306@pobox.com>

Ayman Kamal wrote:
> I used "gdal_translate" to convert a gray .bmp file to
> a geotiff file. I opened this file using GDAL library,
> and tried it in other viewers, it worked.
> 
> Now I tried to convert a colored .bmp files: 256,
> 24bit
> Then I opened the resulting geotiff file in my
> application using GDAL and tried the same using OpenEV
> and it worked,
> 
> BUT:
> 
> I tried to open it using differnt GeoTiff viewers, one
> of them showed it as a whole black and the other didnt
> open it and complained with the message:
> 
> "65535: Sample out of range, max 3"
> 
> What is the problem? Is the problem that the images
> arec colored or what?

Ayman,

I have never seen this message before.  Could you provide the "gdalinfo"
report for the TIFF file produced by GDAL?  It would also be helpful to have
the "tiffinfo" report for it, if you are that application.  Tiffinfo is
usually installed with libtiff on most Linux systems or you can build it
from source (http://www.libtiff.org).

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From hreinec at gwdg.de  Wed Mar 12 08:21:15 2003
From: hreinec at gwdg.de (Horst Reinecke)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <20030312130845.GA4152@ak4719.spb.edu>
References: <03031213300101.01259@iwj-rei> <20030312130845.GA4152@ak4719.spb.edu>
Message-ID: <03031214211503.01259@iwj-rei>

Am Mittwoch, 12. M?rz 2003 14:08 schrieben Sie:
> On Wed, Mar 12, 2003 at 01:30:01PM +0100, Horst Reinecke wrote:
> > i trying to read FASTL7 data with grass5.0 (r.in.gdal) or gdalinfo. Both
> > times i get the answer "ERROR 4: <filename> not recognised as supported
> > fileformat". I using gdal-bibliothek 1.1.8. What wrong?
>
> Probably you supply r.in.gdal with wrong file. You should read header
> file, not the binary image itself.

Thanks, but I took the headerfiles xxx_hpn.fst xxx_hfr.fst and xxx_htm.fst.

From dron at ak4719.spb.edu  Wed Mar 12 08:34:07 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <03031214211503.01259@iwj-rei>
References: <03031213300101.01259@iwj-rei> <20030312130845.GA4152@ak4719.spb.edu> <03031214211503.01259@iwj-rei>
Message-ID: <20030312133405.GA7148@ak4719.spb.edu>

On Wed, Mar 12, 2003 at 02:21:15PM +0100, Horst Reinecke wrote:
> > > i trying to read FASTL7 data with grass5.0 (r.in.gdal) or gdalinfo. Both
> > > times i get the answer "ERROR 4: <filename> not recognised as supported
> > > fileformat". I using gdal-bibliothek 1.1.8. What wrong?
> >
> > Probably you supply r.in.gdal with wrong file. You should read header
> > file, not the binary image itself.
> 
> Thanks, but I took the headerfiles xxx_hpn.fst xxx_hfr.fst and xxx_htm.fst.

Send your header files to me, please.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From hreinec at gwdg.de  Wed Mar 12 08:52:08 2003
From: hreinec at gwdg.de (Horst Reinecke)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <20030312133405.GA7148@ak4719.spb.edu>
References: <03031213300101.01259@iwj-rei> <03031214211503.01259@iwj-rei> <20030312133405.GA7148@ak4719.spb.edu>
Message-ID: <03031214520804.01259@iwj-rei>

Am Mittwoch, 12. M?rz 2003 14:34 schrieben Sie:
> On Wed, Mar 12, 2003 at 02:21:15PM +0100, Horst Reinecke wrote:
> > > > i trying to read FASTL7 data with grass5.0 (r.in.gdal) or gdalinfo.
> > > > Both times i get the answer "ERROR 4: <filename> not recognised as
> > > > supported fileformat". I using gdal-bibliothek 1.1.8. What wrong?
> > >
> > > Probably you supply r.in.gdal with wrong file. You should read header
> > > file, not the binary image itself.
> >
> > Thanks, but I took the headerfiles xxx_hpn.fst xxx_hfr.fst and
> > xxx_htm.fst.
>
> Send your header files to me, please.
-------------- next part --------------
REQ ID =0750012120075_0049   LOC =169/0720000       ACQUISITION DATE =20001009 
SATELLITE =LANDSAT7   SENSOR =ETM+       SENSOR MODE =NORMAL LOOK ANGLE =0.00  
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
PRODUCT TYPE =MAP ORIENTED       PRODUCT SIZE =FULL SCENE                      
TYPE OF PROCESSING =SYSTEMATIC  RESAMPLING =NN                                 
VOLUME #/# IN SET =01/01 PIXELS PER LINE =15781 LINES PER BAND =13961/13961    
START LINE # =      BLOCKING FACTOR =   REC SIZE  =220318541 PIXEL SIZE =15.00 
OUTPUT BITS PER PIXEL =8  ACQUIRED BITS PER PIXEL =8                           
BANDS PRESENT =8                                                               
FILENAME =L72169072_07220001009_B80.FSTFILENAME =                              
FILENAME =                             FILENAME =                              
FILENAME =                             FILENAME =                              
                                                                               
                                                                               
REV         L7A
GAINS AND BIASES IN ASCENDING BAND NUMBER ORDER                                
-4.699999809265137       0.971764729069728                                     
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
               
GEOMETRIC DATA MAP PROJECTION =UTM  ELLIPSOID =WGS84              DATUM =WGS84 
USGS PROJECTION PARAMETERS = 0.000000000000000        0.000000000000000        
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        USGS MAP ZONE =-36                                    
UL = 0305842.2428E 162348.3658S 284100.000    8186100.000                      
UR = 0331141.3022E 162423.0426S 520800.000    8186100.000                      
LR = 0331148.5352E 181757.1331S 520800.000    7976700.000                      
LL = 0305727.2443E 181718.1952S 284100.000    7976700.000                      
CENTER = 0320454.6821E 172103.0083S 402450.000    8081400.000   7891  6981     
OFFSET =-3236  ORIENTATION ANGLE =0.00                                         
SUN ELEVATION ANGLE =59.9 SUN AZIMUTH ANGLE =72.2                              
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
               
-------------- next part --------------
REQ ID =0750012120075_0049   LOC =169/0720000       ACQUISITION DATE =20001009 
SATELLITE =LANDSAT7   SENSOR =ETM+       SENSOR MODE =NORMAL LOOK ANGLE =0.00  
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
PRODUCT TYPE =MAP ORIENTED       PRODUCT SIZE =FULL SCENE                      
TYPE OF PROCESSING =SYSTEMATIC  RESAMPLING =NN                                 
VOLUME #/# IN SET =01/01 PIXELS PER LINE =7891  LINES PER BAND =6981 /6981     
START LINE # =      BLOCKING FACTOR =   REC SIZE  =55087071  PIXEL SIZE =30.00 
OUTPUT BITS PER PIXEL =8  ACQUIRED BITS PER PIXEL =8                           
BANDS PRESENT =123457                                                          
FILENAME =L71169072_07220001009_B10.FSTFILENAME =L71169072_07220001009_B20.FST 
FILENAME =L71169072_07220001009_B30.FSTFILENAME =L71169072_07220001009_B40.FST 
FILENAME =L71169072_07220001009_B50.FSTFILENAME =L72169072_07220001009_B70.FST 
                                                                               
                                                                               
REV         L7A
GAINS AND BIASES IN ASCENDING BAND NUMBER ORDER                                
-6.199999809265137       0.775686297697179                                     
-6.400000095367432       0.795686274883794                                     
-5.000000000000000       0.619215662339154                                     
-5.099999904632568       0.965490219639797                                     
-1.000000000000000       0.125725488101735                                     
-0.349999994039536       0.043725490920684                                     
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
               
GEOMETRIC DATA MAP PROJECTION =UTM  ELLIPSOID =WGS84              DATUM =WGS84 
USGS PROJECTION PARAMETERS = 0.000000000000000        0.000000000000000        
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        USGS MAP ZONE =-36                                    
UL = 0305842.2428E 162348.3658S 284100.000    8186100.000                      
UR = 0331141.3022E 162423.0426S 520800.000    8186100.000                      
LR = 0331148.5352E 181757.1331S 520800.000    7976700.000                      
LL = 0305727.2443E 181718.1952S 284100.000    7976700.000                      
CENTER = 0320454.6821E 172103.0083S 402450.000    8081400.000   3946  3491     
OFFSET =-3236  ORIENTATION ANGLE =0.00                                         
SUN ELEVATION ANGLE =59.9 SUN AZIMUTH ANGLE =72.2                              
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
               
-------------- next part --------------
REQ ID =0750012120075_0049   LOC =169/0720000       ACQUISITION DATE =20001009 
SATELLITE =LANDSAT7   SENSOR =ETM+       SENSOR MODE =NORMAL LOOK ANGLE =0.00  
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
                        LOCATION =                  ACQUISITION DATE =         
SATELLITE =           SENSOR =           SENSOR MODE =       LOOK ANGLE =      
PRODUCT TYPE =MAP ORIENTED       PRODUCT SIZE =FULL SCENE                      
TYPE OF PROCESSING =SYSTEMATIC  RESAMPLING =NN                                 
VOLUME #/# IN SET =01/01 PIXELS PER LINE =3946  LINES PER BAND =3491 /3491     
START LINE # =      BLOCKING FACTOR =   REC SIZE  =13775486  PIXEL SIZE =60.00 
OUTPUT BITS PER PIXEL =8  ACQUIRED BITS PER PIXEL =8                           
BANDS PRESENT =LH                                                              
FILENAME =L71169072_07220001009_B61.FSTFILENAME =L72169072_07220001009_B62.FST 
FILENAME =                             FILENAME =                              
FILENAME =                             FILENAME =                              
                                                                               
                                                                               
REV         L7A
GAINS AND BIASES IN ASCENDING BAND NUMBER ORDER                                
0.000000000000000        0.066823533002068                                     
3.200000047683716        0.037058821846457                                     
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
               
GEOMETRIC DATA MAP PROJECTION =UTM  ELLIPSOID =WGS84              DATUM =WGS84 
USGS PROJECTION PARAMETERS = 0.000000000000000        0.000000000000000        
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        0.000000000000000        0.000000000000000            
0.000000000000000        USGS MAP ZONE =-36                                    
UL = 0305842.2428E 162348.3658S 284100.000    8186100.000                      
UR = 0331141.3022E 162423.0426S 520800.000    8186100.000                      
LR = 0331148.5352E 181757.1331S 520800.000    7976700.000                      
LL = 0305727.2443E 181718.1952S 284100.000    7976700.000                      
CENTER = 0320454.6821E 172103.0083S 402450.000    8081400.000   1973  1746     
OFFSET =-3236  ORIENTATION ANGLE =0.00                                         
SUN ELEVATION ANGLE =59.9 SUN AZIMUTH ANGLE =72.2                              
                                                                               
                                                                               
                                                                               
                                                                               
                                                                               
               
From dron at ak4719.spb.edu  Wed Mar 12 09:20:16 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <03031214520804.01259@iwj-rei>
References: <03031213300101.01259@iwj-rei> <03031214211503.01259@iwj-rei> <20030312133405.GA7148@ak4719.spb.edu> <03031214520804.01259@iwj-rei>
Message-ID: <20030312142011.GA11694@ak4719.spb.edu>

Horst,

You have normal FAST L7 dataset. Your headers are work for me. Could you
show output of `ls' command in the directory where the dataset is?


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From hreinec at gwdg.de  Wed Mar 12 09:56:05 2003
From: hreinec at gwdg.de (Horst Reinecke)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <20030312142011.GA11694@ak4719.spb.edu>
References: <03031213300101.01259@iwj-rei> <03031214520804.01259@iwj-rei> <20030312142011.GA11694@ak4719.spb.edu>
Message-ID: <03031215560507.01259@iwj-rei>

Am Mittwoch, 12. M?rz 2003 15:20 schrieben Sie:
> Horst,
>
> You have normal FAST L7 dataset. Your headers are work for me. Could you
> show output of `ls' command in the directory where the dataset is?
'ls' shows:
index.txt					l71169072_07220001009_hpn.fst
l71169072_07220001009_b10.fst		l71169072_07220001009_hrf.fst
l71169072_07220001009_b20.fst		l71169072_07220001009_htm.fst
l71169072_07220001009_b30.fst		l71169072_07220001009_b62.fst	
l71169072_07220001009_b40.fst		l71169072_07220001009_b70.fst
l71169072_07220001009_b50.fst		l71169072_07220001009_b80.fst	
l71169072_07220001009_b61.fst		readme.ff7

Have I to configure my gdal?

Thanks, Horst

From dron at ak4719.spb.edu  Wed Mar 12 10:12:02 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <03031215560507.01259@iwj-rei>
References: <03031213300101.01259@iwj-rei> <03031214520804.01259@iwj-rei> <20030312142011.GA11694@ak4719.spb.edu> <03031215560507.01259@iwj-rei>
Message-ID: <20030312151200.GA17020@ak4719.spb.edu>

On Wed, Mar 12, 2003 at 03:56:05PM +0100, Horst Reinecke wrote:
> > You have normal FAST L7 dataset. Your headers are work for me. Could you
> > show output of `ls' command in the directory where the dataset is?
> 'ls' shows:
> index.txt					l71169072_07220001009_hpn.fst
> l71169072_07220001009_b10.fst		l71169072_07220001009_hrf.fst
> l71169072_07220001009_b20.fst		l71169072_07220001009_htm.fst
> l71169072_07220001009_b30.fst		l71169072_07220001009_b62.fst	
> l71169072_07220001009_b40.fst		l71169072_07220001009_b70.fst
> l71169072_07220001009_b50.fst		l71169072_07220001009_b80.fst	
> l71169072_07220001009_b61.fst		readme.ff7

Huh! it is clear now. You have files named in low case. Note, that FAST
headers contain _exact_ band filenames and you should have raw files with
the same names as in header. Rename them with something like:

#!/bin/sh                                                                       
                                                                                
for oldfilename in *
do                                                                              
        newfilename=`echo $oldfilename | tr [:lower:] [:upper:]`                
        if [ ! $oldfilename == $newfilename ]; then                             
            mv $oldfilename $newfilename                                        
            echo $oldfilename $newfilename                                      
        fi                                                                      
done

> Have I to configure my gdal?

There is nothing to configure with except to enable debugging output and
increase the cache size.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warmerdam at pobox.com  Wed Mar 12 10:27:12 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <20030312151200.GA17020@ak4719.spb.edu>
References: <03031213300101.01259@iwj-rei> <03031214520804.01259@iwj-rei> <20030312142011.GA11694@ak4719.spb.edu> <03031215560507.01259@iwj-rei> <20030312151200.GA17020@ak4719.spb.edu>
Message-ID: <3E6F51D0.9060704@pobox.com>

Andrey Kiselev wrote:
> On Wed, Mar 12, 2003 at 03:56:05PM +0100, Horst Reinecke wrote:
> 
>>>You have normal FAST L7 dataset. Your headers are work for me. Could you
>>>show output of `ls' command in the directory where the dataset is?
>>
>>'ls' shows:
>>index.txt					l71169072_07220001009_hpn.fst
>>l71169072_07220001009_b10.fst		l71169072_07220001009_hrf.fst
>>l71169072_07220001009_b20.fst		l71169072_07220001009_htm.fst
>>l71169072_07220001009_b30.fst		l71169072_07220001009_b62.fst	
>>l71169072_07220001009_b40.fst		l71169072_07220001009_b70.fst
>>l71169072_07220001009_b50.fst		l71169072_07220001009_b80.fst	
>>l71169072_07220001009_b61.fst		readme.ff7
> 
> 
> Huh! it is clear now. You have files named in low case. Note, that FAST
> headers contain _exact_ band filenames and you should have raw files with
> the same names as in header. Rename them with something like:
> 
> #!/bin/sh                                                                       
>                                                                                 
> for oldfilename in *
> do                                                                              
>         newfilename=`echo $oldfilename | tr [:lower:] [:upper:]`                
>         if [ ! $oldfilename == $newfilename ]; then                             
>             mv $oldfilename $newfilename                                        
>             echo $oldfilename $newfilename                                      
>         fi                                                                      
> done

Andrey,

Note that some GDAL drivers have explicit logic to try lower or upper case
versions of names in addition to the default so that names which are "case
modified" on unix systems will still work.  You might want to try using
the CPLFormCIFilename() function which will try to do this.

/**
  * Case insensitive file searching, returing full path.
  *
  * This function tries to return the path to a file regardless of
  * whether the file exactly matches the basename, and extension case, or
  * is all upper case, or all lower case.  The path is treated as case
  * sensitive.  This function is equivelent to CPLFormFilename() on
  * case insensitive file systems (like Windows).
  *
  * @param pszPath directory path to the directory containing the file.  This
  * may be relative or absolute, and may have a trailing path separator or
  * not.  May be NULL.
  *
  * @param pszBasename file basename.  May optionally have path and/or
  * extension.  May not be NULL.
  *
  * @param pszExtension file extension, optionally including the period.  May
  * be NULL.
  *
  * @return a fully formed filename in an internal static string.  Do not
  * modify or free the returned string.  The string may be destroyed by the
  * next CPL call.
  */

const char *CPLFormCIFilename( const char * pszPath,
                                const char * pszBasename,
                                const char * pszExtension )

This would help avoid this kind of problem in the future.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Wed Mar 12 10:28:46 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <3E6F331A.3000306@pobox.com>
Message-ID: <20030312152846.49350.qmail@web41101.mail.yahoo.com>

I attach the file "fltinfo.txt" that contains the
fltinfo for two images, the first one is a colored 256
color image, the second is the same as the first but
converted to gray scale.

The colored one causes the problem, but the gray scale
doesn't

The program that complained about the colored image
file is "3DEM"


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > I used "gdal_translate" to convert a gray .bmp
> file to
> > a geotiff file. I opened this file using GDAL
> library,
> > and tried it in other viewers, it worked.
> > 
> > Now I tried to convert a colored .bmp files: 256,
> > 24bit
> > Then I opened the resulting geotiff file in my
> > application using GDAL and tried the same using
> OpenEV
> > and it worked,
> > 
> > BUT:
> > 
> > I tried to open it using differnt GeoTiff viewers,
> one
> > of them showed it as a whole black and the other
> didnt
> > open it and complained with the message:
> > 
> > "65535: Sample out of range, max 3"
> > 
> > What is the problem? Is the problem that the
> images
> > arec colored or what?
> 
> Ayman,
> 
> I have never seen this message before.  Could you
> provide the "gdalinfo"
> report for the TIFF file produced by GDAL?  It would
> also be helpful to have
> the "tiffinfo" report for it, if you are that
> application.  Tiffinfo is
> usually installed with libtiff on most Linux systems
> or you can build it
> from source (http://www.libtiff.org).
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com
-------------- next part --------------
--------------------------------------------------------------------------------------------------------------------------
((fltinfo data for the 256 color image))
((The one that causes the problems))

--------------------------------------------------------------------------------------------------------------------------
Driver: GTiff/GeoTIFF
Size is 800, 600
Coordinate System is:
GEOGCS["NAD83",
    DATUM["North_American_Datum_1983",
        SPHEROID["GRS 1980",6378137,298.257222101]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433]]
Origin = (-115.679700,46.440000)
Pixel Size = (0.001000,-0.001000)
Corner Coordinates:
Upper Left  (-115.6797000,  46.4400000) (115d40'46.92"W, 46d26'24.00"N)
Lower Left  (-115.6797000,  45.8400000) (115d40'46.92"W, 45d50'24.00"N)
Upper Right (-114.8797000,  46.4400000) (114d52'46.92"W, 46d26'24.00"N)
Lower Right (-114.8797000,  45.8400000) (114d52'46.92"W, 45d50'24.00"N)
Center      (-115.2797000,  46.1400000) (115d16'46.92"W, 46d 8'24.00"N)
Band 1 Block=800x2 Type=Float32, ColorInterp=Red
  Min=-4294967295.000/0, Max=4294967295.000/0
Band 2 Block=800x2 Type=Float32, ColorInterp=Green
  Min=-4294967295.000/0, Max=4294967295.000/0
Band 3 Block=800x2 Type=Float32, ColorInterp=Blue
  Min=-4294967295.000/0, Max=4294967295.000/0
--------------------------------------------------------------------------------------------------------------------------
((fltinfo data for the same image after being converted to gray scale))

--------------------------------------------------------------------------------------------------------------------------
Driver: GTiff/GeoTIFF
Size is 800, 600
Coordinate System is:
GEOGCS["NAD83",
    DATUM["North_American_Datum_1983",
        SPHEROID["GRS 1980",6378137,298.257222101]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433]]
Origin = (-115.679700,46.440000)
Pixel Size = (0.001000,-0.001000)
Corner Coordinates:
Upper Left  (-115.6797000,  46.4400000) (115d40'46.92"W, 46d26'24.00"N)
Lower Left  (-115.6797000,  45.8400000) (115d40'46.92"W, 45d50'24.00"N)
Upper Right (-114.8797000,  46.4400000) (114d52'46.92"W, 46d26'24.00"N)
Lower Right (-114.8797000,  45.8400000) (114d52'46.92"W, 45d50'24.00"N)
Center      (-115.2797000,  46.1400000) (115d16'46.92"W, 46d 8'24.00"N)
Band 1 Block=800x2 Type=Float32, ColorInterp=Gray
  Min=-4294967295.000/0, Max=4294967295.000/0
From support at geoimage.fr  Wed Mar 12 10:48:05 2003
From: support at geoimage.fr (=?iso-8859-1?Q?Fr=E9d=E9ric_Trastour?=)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] OGR Style.
Message-ID: <102101c2e8ae$c5cfd200$9d2346c0@wanadoo.fr>

Hello,

I'm using OGR to access Mapinfo file. The feature style string reurned by GetStyleString
looks like :

PEN(w:1px,c:#0000ff,id:"mapinfo-pen-14.ogr-pen-6",p:"8 2 1 2px")

The two pen IDs "mapinfo-pen-14" and "ogr-pen-6" are separated by a dot.
Normally, as documented in the "OGR - Feature style specification" document,
they should be separated by a comma.

Where is the bug ? in the doc. or in the library ?
I have noticed other small differences between the doc. and the library.
How can i submit a correction of the source in order to do not have to patch gdal
each time i get a new version ?

Thanks,
Fr?d?ric.
_________________________________________________________________
Fr?d?ric Trastour - dev@geoimage.fr
SpacEyes



From schut at sarvision.com  Wed Mar 12 10:50:30 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <20030312152846.49350.qmail@web41101.mail.yahoo.com>
References: <20030312152846.49350.qmail@web41101.mail.yahoo.com>
Message-ID: <200303121650.30918.schut@sarvision.com>

On Wednesday 12 March 2003 16:28, Ayman Kamal wrote:
> I attach the file "fltinfo.txt" that contains the
> fltinfo for two images, the first one is a colored 256
> color image, the second is the same as the first but
> converted to gray scale.
>
> The colored one causes the problem, but the gray scale
> doesn't
>
> The program that complained about the colored image
> file is "3DEM"

Ayman,

I just saw your fltinfo.txt and would like to add my 2c to your thread:
For both of the images, you are using a datatype of 32 bit floating point. It 
is very well possible that not all viewers can show a 3 band 32bit float 
tiff? Maybe you could try to save it with outputtype byte. You won't need 
32bit floating point anyway, if your data came from 256 color bmp... Saving 
as byte would save you a lot of disk/memory space (and reading speed). You 
could also try to save it as a 8 bit palette image, but I am not shure 
whether gdal_translate can produce such a tiff file...

Regards,
Vincent Schut.


From hreinec at gwdg.de  Wed Mar 12 11:04:26 2003
From: hreinec at gwdg.de (Horst Reinecke)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Landsat 7 data
In-Reply-To: <20030312151200.GA17020@ak4719.spb.edu>
References: <03031213300101.01259@iwj-rei> <03031215560507.01259@iwj-rei> <20030312151200.GA17020@ak4719.spb.edu>
Message-ID: <03031217042608.01259@iwj-rei>

Am Mittwoch, 12. M?rz 2003 16:12 schrieben Sie:
> On Wed, Mar 12, 2003 at 03:56:05PM +0100, Horst Reinecke wrote:
> > > You have normal FAST L7 dataset. Your headers are work for me. Could
> > > you show output of `ls' command in the directory where the dataset is?
> >
> > 'ls' shows:
> > index.txt					l71169072_07220001009_hpn.fst
> > l71169072_07220001009_b10.fst		l71169072_07220001009_hrf.fst
> > l71169072_07220001009_b20.fst		l71169072_07220001009_htm.fst
> > l71169072_07220001009_b30.fst		l71169072_07220001009_b62.fst
> > l71169072_07220001009_b40.fst		l71169072_07220001009_b70.fst
> > l71169072_07220001009_b50.fst		l71169072_07220001009_b80.fst
> > l71169072_07220001009_b61.fst		readme.ff7
>
> Huh! it is clear now. You have files named in low case. Note, that FAST
> headers contain _exact_ band filenames and you should have raw files with
> the same names as in header. Rename them with something like:
>
> #!/bin/sh
>
> for oldfilename in *
> do
>         newfilename=`echo $oldfilename | tr [:lower:] [:upper:]`
>         if [ ! $oldfilename == $newfilename ]; then
>             mv $oldfilename $newfilename
>             echo $oldfilename $newfilename
>         fi
> done
>
> > Have I to configure my gdal?
>
> There is nothing to configure with except to enable debugging output and
> increase the cache size.
Andrey, 
it works! Thank you so much.

Horst

From warmerdam at pobox.com  Wed Mar 12 11:29:02 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <20030312152846.49350.qmail@web41101.mail.yahoo.com>
References: <20030312152846.49350.qmail@web41101.mail.yahoo.com>
Message-ID: <3E6F604E.2040001@pobox.com>

Ayman Kamal wrote:
> I attach the file "fltinfo.txt" that contains the
> fltinfo for two images, the first one is a colored 256
> color image, the second is the same as the first but
> converted to gray scale.
> 
> The colored one causes the problem, but the gray scale
> doesn't

Ayman,

As noted by the other writer, the problem is use of 32bit
floating point GeoTIFF.  Many applications don't support these at
all.  How did you produce these files?  Surely gdal_translate wouldn't
produce them by default from a BMP file as it attempts to preserve the
original data type (8bit).

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From schut at sarvision.com  Wed Mar 12 11:34:23 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Save GeoTiff
In-Reply-To: <20030312160302.98906.qmail@web41113.mail.yahoo.com>
References: <20030312160302.98906.qmail@web41113.mail.yahoo.com>
Message-ID: <200303121734.23697.schut@sarvision.com>

On Wednesday 12 March 2003 17:03, you wrote:
> Ok, I converted it to a goetiff file with a "byte"
> widht, but I get a complain from the goetiff viewer
> satating "Not a geotiff DEM filie"
>
> and this is expected, as I am supposed to deal with
> NED files which are geotiff files with a 32 bit
> floating bit data, when the application found that the
> data isn't 32 bit floating it didn't approve it.
>
> My main scope is NED and not GeoTiff, but simply NED
> data comes in many format flavors one of which is
> GeoTiff but it must be 32 bit floating point.

Ah well but I think DEM files would never have 3 bands... That's the problem 
maybe. You can either have a DEM file, which in fact is not an image but just 
a floating point, 2-dimensional dataset, or you can have an image (that may 
be representing the height as colors) which can have 3 bands, but is of 
course not a DEM. I mean, if a DEM had three bands, what would the 
interpretation of these bands be?
If you really want to make a DEM out of a BMP file (correct me if I'm wrong, 
but it sounds like you're trying to do something like that...), you probably 
could do it by one more gdal_translate step: make a new geotiff from the 
32bit float 3 band geotiff, using only one band (use gdal_translate -b [ band 
number ] [3bandfloat.tif] [1bandfloat.tif] ). But I wonder whether this file 
would be a good representation of the original 256 color file.
>
> --- Vincent Schut <schut@sarvision.com> wrote:
> > On Wednesday 12 March 2003 16:28, Ayman Kamal wrote:
> > > I attach the file "fltinfo.txt" that contains the
> > > fltinfo for two images, the first one is a colored
> >
> > 256
> >
> > > color image, the second is the same as the first
> >
> > but
> >
> > > converted to gray scale.
> > >
> > > The colored one causes the problem, but the gray
> >
> > scale
> >
> > > doesn't
> > >
> > > The program that complained about the colored
> >
> > image
> >
> > > file is "3DEM"
> >
> > Ayman,
> >
> > I just saw your fltinfo.txt and would like to add my
> > 2c to your thread:
> > For both of the images, you are using a datatype of
> > 32 bit floating point. It
> > is very well possible that not all viewers can show
> > a 3 band 32bit float
> > tiff? Maybe you could try to save it with outputtype
> > byte. You won't need
> > 32bit floating point anyway, if your data came from
> > 256 color bmp... Saving
> > as byte would save you a lot of disk/memory space
> > (and reading speed). You
> > could also try to save it as a 8 bit palette image,
> > but I am not shure
> > whether gdal_translate can produce such a tiff
> > file...
> >
> > Regards,
> > Vincent Schut.
>
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Web Hosting - establish your business online
> http://webhosting.yahoo.com

-- 
______________________________________
Vincent Schut (schut@sarvision.com)
Sarvision B.V.
Wageningen, The Netherlands
www.sarvision.com



From wesp at gdv.com  Wed Mar 12 11:47:42 2003
From: wesp at gdv.com (Oliver Wesp)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Accessing Raster Attributes
Message-ID: <5.2.0.9.2.20030312173127.00a727d8@192.168.1.2>

Dear List,

what we like to do, is accessing the class_names attribute form ERDAS 
img-Files (hfa).  We thought  **GDALGetRasterCategoryNames( GDALRasterBandH 
hBand )  should to the trick, but it points to GetCategoryNames()  and this 
function returns null. Maybe we're on the wrong track anyway but this looks 
like it's not implemented.

We would not hesitate to develop this by ourselfs but maybe this has done 
before or someone can point us to the right direction.

best regards
Oliver


From morissette at dmsolutions.ca  Wed Mar 12 11:55:00 2003
From: morissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] OGR Style.
References: <102101c2e8ae$c5cfd200$9d2346c0@wanadoo.fr>
Message-ID: <3E6F6664.34854E28@dmsolutions.ca>

Fr?d?ric Trastour wrote:
> 
> Hello,
> 
> I'm using OGR to access Mapinfo file. The feature style string reurned by GetStyleString
> looks like :
> 
> PEN(w:1px,c:#0000ff,id:"mapinfo-pen-14.ogr-pen-6",p:"8 2 1 2px")
> 
> The two pen IDs "mapinfo-pen-14" and "ogr-pen-6" are separated by a dot.
> Normally, as documented in the "OGR - Feature style specification" document,
> they should be separated by a comma.
> 
> Where is the bug ? in the doc. or in the library ?


Frederic,

Sorry for the lack of replies to your various questions regarding OGR
Styles in the last few weeks.  I think I'm the one who should be able to
answer but haven't been able to get to your messages yet.

About this specific issue, I've always been puzzled as to why the
MapInfo styles were implemented using a dot instead of a comma.  I'll
have to investigate this and the OGR core will likely be fixed so you
shouldn't have to patch your local copy.


> I have noticed other small differences between the doc. and the library.
> How can i submit a correction of the source in order to do not have to patch gdal
> each time i get a new version ?
> 

BTW, if you are aware of other issues, please file them in the GDAL
bugzilla and assign them to me and I'll try to have a look.  If you
could file this one in bugzilla as well that would be great.

Thanks

Daniel
-- 
------------------------------------------------------------
 Daniel Morissette               morissette@dmsolutions.ca
 DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------

From warmerdam at pobox.com  Wed Mar 12 11:56:15 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Accessing Raster Attributes
In-Reply-To: <5.2.0.9.2.20030312173127.00a727d8@192.168.1.2>
References: <5.2.0.9.2.20030312173127.00a727d8@192.168.1.2>
Message-ID: <3E6F66AF.90809@pobox.com>

Oliver Wesp wrote:
> Dear List,
> 
> what we like to do, is accessing the class_names attribute form ERDAS 
> img-Files (hfa).  We thought  **GDALGetRasterCategoryNames( 
> GDALRasterBandH hBand )  should to the trick, but it points to 
> GetCategoryNames()  and this function returns null. Maybe we're on the 
> wrong track anyway but this looks like it's not implemented.
> 
> We would not hesitate to develop this by ourselfs but maybe this has 
> done before or someone can point us to the right direction.

Oliver,

This hasn't been done yet, but would be a worthwhile improvement.  If you
want to implement this, you would need to override the default implementation
of the GetCategoryNames() method on the HFARasterBand class in gdal/frmts/hfa.
You can use the low level HFA API to get the category names from the Erdas
file though I don't know the structure off hand.   You can use the "hfatest"
application in gdal/frmts/hfa to dump the file structure to try and pick out
the location of the category names.

If this gets to messy for you, email me a small .img file with category names
and I will look into implementing it.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From wesp at gdv.com  Thu Mar 13 11:13:04 2003
From: wesp at gdv.com (Oliver Wesp)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Accessing Raster Attributes
In-Reply-To: <3E6F66AF.90809@pobox.com>
References: <5.2.0.9.2.20030312173127.00a727d8@192.168.1.2>
   <5.2.0.9.2.20030312173127.00a727d8@192.168.1.2>
Message-ID: <5.2.0.9.2.20030313170832.02a0fff8@192.168.1.2>

Frank,

This one contains class_names:

http://gdal.velocet.ca/projects/imagine/data/4bit.img

It doesn't look that easy from my point of knowledge, so maybe you like to 
have a look at it.

Your help is greatly appreciated.

best regards
Oliver

At 11:56 12.03.2003 -0500, you wrote:
>Oliver Wesp wrote:
>>Dear List,
>>what we like to do, is accessing the class_names attribute form ERDAS 
>>img-Files (hfa).  We thought  **GDALGetRasterCategoryNames( 
>>GDALRasterBandH hBand )  should to the trick, but it points to 
>>GetCategoryNames()  and this function returns null. Maybe we're on the 
>>wrong track anyway but this looks like it's not implemented.
>>We would not hesitate to develop this by ourselfs but maybe this has done 
>>before or someone can point us to the right direction.
>
>Oliver,
>
>This hasn't been done yet, but would be a worthwhile improvement.  If you
>want to implement this, you would need to override the default implementation
>of the GetCategoryNames() method on the HFARasterBand class in gdal/frmts/hfa.
>You can use the low level HFA API to get the category names from the Erdas
>file though I don't know the structure off hand.   You can use the "hfatest"
>application in gdal/frmts/hfa to dump the file structure to try and pick out
>the location of the category names.
>
>If this gets to messy for you, email me a small .img file with category names
>and I will look into implementing it.
>
>Best regards,
>
>--
>---------------------------------------+--------------------------------------
>I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>light and sound - activate the windows | http://pobox.com/~warmerdam
>and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev
>

-- 
Dipl.-Geogr. Oliver Wesp
Gesellschaft f?r geografische Datenverarbeitung
Binger Strasse 49-51
D-55218 Ingelheim
fon: +49 6132 714818
fax: +49 6132 714828
http: <http://www.gdv.com>www.gdv.com


From sylvain.rioux at softmaptech.com  Thu Mar 13 11:54:28 2003
From: sylvain.rioux at softmaptech.com (Sylvain Rioux)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] SDTS-TVP
Message-ID: <NEBBJBLMOMCEDMBAMIFACEOFCFAA.sylvain.rioux@softmaptech.com>

Hi,

When I try to open an SDTS-TVP my system crash. Is there something I can do
to activate SDTS? If not, I put a sample on my web site that you can
download to see what is happening
http://www.softmaptech.net/GDAL/GC4_hydro_sdts.tar.gz.

Thanks.
Sylvain Rioux

Les technologies SoftMap (2002) inc.
400, boul. Jean-Lesage, bureau 540
Qu?bec (Qu?bec)
Canada G1K 8W1

T?l. : (418) 523-2929, poste 304
T?l?c. : (418) 523-7979
sylvain.rioux@softmaptech.com
www.softmaptech.com


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030313/3652a724/attachment.html
From warmerdam at pobox.com  Thu Mar 13 12:25:47 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] SDTS-TVP
In-Reply-To: <NEBBJBLMOMCEDMBAMIFACEOFCFAA.sylvain.rioux@softmaptech.com>
References: <NEBBJBLMOMCEDMBAMIFACEOFCFAA.sylvain.rioux@softmaptech.com>
Message-ID: <3E70BF1B.1060204@pobox.com>

Sylvain Rioux wrote:
> Hi,
>  
> When I try to open an SDTS-TVP my system crash. Is there something I can 
> do to activate SDTS? If not, I put a sample on my web site that you can 
> download to see what is happening 
> http://www.softmaptech.net/GDAL/GC4_hydro_sdts.tar.gz.

Sylvain,

I have tried "ogr2ogr out HY01CATD.DDF" and it seemed to translate to
shapefiles OK.  Does this work for you?  Since I can't trivially reproduce
the problem you will likely need to debug into the library a bit yourself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From rochon at envirosat.ca  Thu Mar 13 14:14:01 2003
From: rochon at envirosat.ca (Guy Rochon)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] SDTS-TVP
In-Reply-To: <NEBBJBLMOMCEDMBAMIFACEOFCFAA.sylvain.rioux@softmaptech.com>
Message-ID: <003501c2e994$b4aaa8b0$6401a8c0@OKIA>

Skipped content of type multipart/alternative-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030313/9cb2f80e/header.htm
From s.perkins at lanl.gov  Thu Mar 13 20:52:14 2003
From: s.perkins at lanl.gov (Simon Perkins)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Python modules
In-Reply-To: <3E5A347B.6010008@pobox.com>
References: <20030224095242.48002.qmail@web41110.mail.yahoo.com>
	 <3E5A347B.6010008@pobox.com>
Message-ID: <1047606734.14669.87.camel@afreet.lanl.gov>

Hi,

Currently, if you build GDAL with Python support, the GDAL python
modules are put into
$python_prefix/lib/python${python_version}/site_packages, where
$python_prefix is the prefix where Python is installed, e.g. /usr.

This is fine if you're installing GDAL as normal, but what if you want
to install GDAL somewhere local (e.g. 'cos you don't have root access)?

The rest of GDAL can be installed somewhere else by specifying a
--prefix argument to configure, but currently this does not affect where
the python files go. Would anyone object to me adding a configure option
to allow $python_prefix to be set as well?

Or alternatively, if the --prefix option is used, python modules could
be automatically placed somewhere like $prefix/share/gdal/python, or
something like that, but I guess it's conceivable this might break some
existing usage.


Cheers,

Sy




From warmerdam at pobox.com  Thu Mar 13 22:31:39 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Python modules
In-Reply-To: <1047606734.14669.87.camel@afreet.lanl.gov>
References: <20030224095242.48002.qmail@web41110.mail.yahoo.com>	 <3E5A347B.6010008@pobox.com> <1047606734.14669.87.camel@afreet.lanl.gov>
Message-ID: <3E714D1B.3000905@pobox.com>

Simon Perkins wrote:
> Hi,
> 
> Currently, if you build GDAL with Python support, the GDAL python
> modules are put into
> $python_prefix/lib/python${python_version}/site_packages, where
> $python_prefix is the prefix where Python is installed, e.g. /usr.
> 
> This is fine if you're installing GDAL as normal, but what if you want
> to install GDAL somewhere local (e.g. 'cos you don't have root access)?
> 
> The rest of GDAL can be installed somewhere else by specifying a
> --prefix argument to configure, but currently this does not affect where
> the python files go. Would anyone object to me adding a configure option
> to allow $python_prefix to be set as well?
> 
> Or alternatively, if the --prefix option is used, python modules could
> be automatically placed somewhere like $prefix/share/gdal/python, or
> something like that, but I guess it's conceivable this might break some
> existing usage.

Sy,

Good idea.  That's why I implemented it a while ago.  The option
is --with-pymoddir.  Give the the directory the python stuff should
be installed in.

Note, this may be post GDAL 1.1.8, ie just in CVS.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From s.perkins at lanl.gov  Fri Mar 14 10:17:45 2003
From: s.perkins at lanl.gov (Simon Perkins)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Python modules
In-Reply-To: <3E714D1B.3000905@pobox.com>
Message-ID: <000501c2ea3c$deaaad60$0200000a@cuticle>

Ah. Oops. I'll check more carefully next time I have any great ideas!

Thanks,

Sy


-----Original Message-----
 
> The rest of GDAL can be installed somewhere else by specifying a
> --prefix argument to configure, but currently this does not affect
where
> the python files go. Would anyone object to me adding a configure
option
> to allow $python_prefix to be set as well?
> 
> Or alternatively, if the --prefix option is used, python modules could
> be automatically placed somewhere like $prefix/share/gdal/python, or
> something like that, but I guess it's conceivable this might break
some
> existing usage.

Sy,

Good idea.  That's why I implemented it a while ago.  The option
is --with-pymoddir.  Give the the directory the python stuff should
be installed in.

Note, this may be post GDAL 1.1.8, ie just in CVS.

Best regards,
-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From kamal_jo at yahoo.com  Sat Mar 15 02:59:07 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <3E6DE4A3.2050101@pobox.com>
Message-ID: <20030315075907.3349.qmail@web41103.mail.yahoo.com>

1.
You mentioned that
adfGeoTransform[0] =   /* top left x */
adfGeoTransform[3] =   /* top left y */

-Does top left x mean the value of longitude for top
left corner?
-Does top left y mean the value of lattitude for top
left corner?

2.
What does horizental, vertical pixel size mean?

3.
Are adfGeoTransform[2],adfGeoTransform[4] always 0?

4.
If the user doesn't give me any of these data, and
still wants me to generate a GeoTiff file out of his
faces' images for example, 
are there default values that I can supply to generate
a valid GeoTiff file?

--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > I want to be able to convert a "bmp" file to a
> > "GeoTiff" file.
> > 
> > I used gdal_translate to do this, but the
> resulting
> > file didn't of course contain georeferencing data.
> > 
> > Now:
> > 1. Is it possible (if I find the goereferencing
> data)
> > to give them to GDAL SDK so that GDAL can generate
> a
> > GeoTiff file with georeferencing data embeded
> inside?
> > 
> > if (1.)
> > {
> >    2. What data do I need to supply to GDAL to    
> >    accomplish this?
> >    
> >    3. What functions to use in GDAL to save such
> data 
> >    in thre resulting GeoTiff file?
> > }
> > else
> > {
> >    4. Can you help me in any means to accomoplish
> > this?
> > }
> 
> Ayman,
> 
> You need to call GDALSetGeoTransform() with the
> appropriate affine geotransform.
> Please ensure you are using a fairly recent GDAL
> (like a CVS snapshot not less
> than 3 weeks old as there were some bugs in GeoTIFF
> update-in-place in 1.1.8).
> 
> The following is a fairly minimal example.  If you
> want to write the coordinate
> system also use the GDALSetProjection() method.
> 
> #include "gdal.h"
> 
> int main()
> 
> {
>      GDALDatasetH hDS;
>      double       adfGeoTransform[6];
> 
>      GDALAllRegister();
> 
>      hDS = GDALOpen( "work.tif", GA_Update );
> 
>      adfGeoTransform[0] = 1000;  /* top left x */
>      adfGeoTransform[1] = 2.0;   /* horizontal pixel
> size */
>      adfGeoTransform[2] = 0.0;
>      adfGeoTransform[3] = 6120;  /* top left y */
>      adfGeoTransform[4] = 0.0;
>      adfGeoTransform[5] = -2.0;  /* vertical pixel
> size */
> 
>      GDALSetGeoTransform( hDS, adfGeoTransform );
> 
>      GDALClose( hDS );
> }
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From kamal_jo at yahoo.com  Sat Mar 15 06:10:57 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] gdal_translate
In-Reply-To: <3E6DE665.7080208@pobox.com>
Message-ID: <20030315111057.62564.qmail@web41102.mail.yahoo.com>

Below is the "gdalinfo" data for a geotiff file, I
used "gdal_translate" to convert this file to a bmp
file, the resulting file appeared as all white, when I
removed the -scale option the resulting bmp file
appeared correct.

Can you help me?
------------------------------------------------------
Driver: GTiff/GeoTIFF
Size is 375, 473
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke
1866",6378206.4,294.9786982139006,
                AUTHORITY["EPSG","7008"]],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4267"]],
    AUTHORITY["EPSG","26715"],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-93],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["unknown",1]]
Origin = (716880.000000,4305960.000000)
Pixel Size = (30.000000,-30.000000)
Corner Coordinates:
Upper Left  (  716880.000, 4305960.000) (
90d29'59.67"W, 38d52'39.45"N)
Lower Left  (  716880.000, 4291770.000) (
90d30'15.74"W, 38d44'59.53"N)
Upper Right (  728130.000, 4305960.000) (
90d22'13.25"W, 38d52'29.20"N)
Lower Right (  728130.000, 4291770.000) (
90d22'30.16"W, 38d44'49.33"N)
Center      (  722505.000, 4298865.000) (
90d26'14.71"W, 38d48'44.44"N)
Band 1 Block=375x1 Type=Float32, ColorInterp=Gray
------------------------------------------------------
--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > ok sir, I found a way to make "gdal_translate" be
> able
> > to convert those 16-bit geotiff files:
> > 
> > gdal_translate -of bmp -ot byte file1.tif
> file2.bmp
> > 
> > (( simply I didn't put -scale in the command line
> ))
> > 
> > I just want one thing, do you have explanation for
> this?
> 
> Ayman,
> 
> Substantially different machinery is used with
> scaling is used from when it
> isn't.  However, I have rerun a test of converting a
> 16bit input file to
> 8bit BMP with scaling on my Linux system and it
> works fine even under
> valgrind, so I still don't know why your local build
> didn't work.  If you
> are still interested in the issue, the obvious step
> to take is for you to
> try and debug the problem since you are apparently
> the only one able to
> reproduce the problem.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From dron at ak4719.spb.edu  Sat Mar 15 08:00:13 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] gdal_translate
In-Reply-To: <20030315111057.62564.qmail@web41102.mail.yahoo.com>
References: <3E6DE665.7080208@pobox.com> <20030315111057.62564.qmail@web41102.mail.yahoo.com>
Message-ID: <20030315130013.GA3916@ak4719.spb.edu>

On Sat, Mar 15, 2003 at 03:10:57AM -0800, Ayman Kamal wrote:
> Below is the "gdalinfo" data for a geotiff file, I
> used "gdal_translate" to convert this file to a bmp
> file, the resulting file appeared as all white, when I
> removed the -scale option the resulting bmp file
> appeared correct.
> 
> Can you help me?
> ------------------------------------------------------
> Driver: GTiff/GeoTIFF
> Size is 375, 473
...
> Band 1 Block=375x1 Type=Float32, ColorInterp=Gray

It is possible you have input data which cannot be scaled to range
0--255 without additional processing.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warmerdam at pobox.com  Sat Mar 15 10:15:09 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030315075907.3349.qmail@web41103.mail.yahoo.com>
References: <20030315075907.3349.qmail@web41103.mail.yahoo.com>
Message-ID: <3E73437D.4020408@pobox.com>

Ayman Kamal wrote:
> 1.
> You mentioned that
> adfGeoTransform[0] =   /* top left x */
> adfGeoTransform[3] =   /* top left y */
> 
> -Does top left x mean the value of longitude for top
> left corner?
> -Does top left y mean the value of lattitude for top
> left corner?

Ayman,

Yes, if the coordinate system of the image is lat/long.

> 2.
> What does horizental, vertical pixel size mean?

The width of a pixel is the coordinate system being used.

> 3.
> Are adfGeoTransform[2],adfGeoTransform[4] always 0?

No. If the image is not "north up", that is the image is
rotated or sheared from the normal map orientation these will
be non-zero and then the interpretation of the pixel size is
more complicated.

In common use these values will be zero.

> 4.
> If the user doesn't give me any of these data, and
> still wants me to generate a GeoTiff file out of his
> faces' images for example, 
> are there default values that I can supply to generate
> a valid GeoTiff file?

It is pointless to create a "Geo" TIFF file without knowing anything
about a meaningful coordinate system.  If you feel the need to do so pick
any random values you feel like.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Sat Mar 15 10:45:25 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <3E73437D.4020408@pobox.com>
Message-ID: <20030315154525.22700.qmail@web41105.mail.yahoo.com>

Thank you very much sir, 
but still I have one point not clear enough: "pixel
sie", I want to ask the user to supply me with the
needed data, Shall I put in the dialog "pixel size"

please I need to understand this point correctly.

By the way, I figured out that there are vertical
DATUMs like NAVD, are they supported in GDAL?


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > 1.
> > You mentioned that
> > adfGeoTransform[0] =   /* top left x */
> > adfGeoTransform[3] =   /* top left y */
> > 
> > -Does top left x mean the value of longitude for
> top
> > left corner?
> > -Does top left y mean the value of lattitude for
> top
> > left corner?
> 
> Ayman,
> 
> Yes, if the coordinate system of the image is
> lat/long.
> 
> > 2.
> > What does horizental, vertical pixel size mean?
> 
> The width of a pixel is the coordinate system being
> used.
> 
> > 3.
> > Are adfGeoTransform[2],adfGeoTransform[4] always
> 0?
> 
> No. If the image is not "north up", that is the
> image is
> rotated or sheared from the normal map orientation
> these will
> be non-zero and then the interpretation of the pixel
> size is
> more complicated.
> 
> In common use these values will be zero.
> 
> > 4.
> > If the user doesn't give me any of these data, and
> > still wants me to generate a GeoTiff file out of
> his
> > faces' images for example, 
> > are there default values that I can supply to
> generate
> > a valid GeoTiff file?
> 
> It is pointless to create a "Geo" TIFF file without
> knowing anything
> about a meaningful coordinate system.  If you feel
> the need to do so pick
> any random values you feel like.
> 
> Best regards,
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From kamal_jo at yahoo.com  Sun Mar 16 03:03:58 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] BMP to GeoTiff
In-Reply-To: <3E73437D.4020408@pobox.com>
Message-ID: <20030316080358.71303.qmail@web41111.mail.yahoo.com>

If I want to convert a "bmp" to a "GeoTiff" using
GDAL, can the source "bmp" be a buffer in memory or
does it have to be a bmp file on the disk?

If it can be a buffer what function(s) neede?


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > 1.
> > You mentioned that
> > adfGeoTransform[0] =   /* top left x */
> > adfGeoTransform[3] =   /* top left y */
> > 
> > -Does top left x mean the value of longitude for
> top
> > left corner?
> > -Does top left y mean the value of lattitude for
> top
> > left corner?
> 
> Ayman,
> 
> Yes, if the coordinate system of the image is
> lat/long.
> 
> > 2.
> > What does horizental, vertical pixel size mean?
> 
> The width of a pixel is the coordinate system being
> used.
> 
> > 3.
> > Are adfGeoTransform[2],adfGeoTransform[4] always
> 0?
> 
> No. If the image is not "north up", that is the
> image is
> rotated or sheared from the normal map orientation
> these will
> be non-zero and then the interpretation of the pixel
> size is
> more complicated.
> 
> In common use these values will be zero.
> 
> > 4.
> > If the user doesn't give me any of these data, and
> > still wants me to generate a GeoTiff file out of
> his
> > faces' images for example, 
> > are there default values that I can supply to
> generate
> > a valid GeoTiff file?
> 
> It is pointless to create a "Geo" TIFF file without
> knowing anything
> about a meaningful coordinate system.  If you feel
> the need to do so pick
> any random values you feel like.
> 
> Best regards,
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From warmerdam at pobox.com  Sun Mar 16 10:51:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] BMP to GeoTiff
In-Reply-To: <20030316080358.71303.qmail@web41111.mail.yahoo.com>
References: <20030316080358.71303.qmail@web41111.mail.yahoo.com>
Message-ID: <3E749D97.6040507@pobox.com>

Ayman Kamal wrote:
> If I want to convert a "bmp" to a "GeoTiff" using
> GDAL, can the source "bmp" be a buffer in memory or
> does it have to be a bmp file on the disk?
> 
> If it can be a buffer what function(s) neede?

Ayman,

The short answer is that there is no simply provided mechanism for
reading and writing file formats stored all in memory (except for the
memory format of course).  It is theoretically possible to hook the VSI
IO functions in such a way as to allow drivers that are entirely VSI
based to access in-memory file images if that is particularly critical.
VSI is the POSIX style IO API cover layer.

Note that some drivers do not go through VSI.  BMP does.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sun Mar 16 11:46:14 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030315154525.22700.qmail@web41105.mail.yahoo.com>
References: <20030315154525.22700.qmail@web41105.mail.yahoo.com>
Message-ID: <3E74AA56.9040401@pobox.com>

Ayman Kamal wrote:
> Thank you very much sir, 
> but still I have one point not clear enough: "pixel
> sie", I want to ask the user to supply me with the
> needed data, Shall I put in the dialog "pixel size"
> 
> please I need to understand this point correctly.

Ayman,

I can't easily judge what is appropriate for your dialogs.  It might well
be that your users will have no idea what the size of a pixel is, and will
want to give the top left, and bottom right lat/long coordiantes for an
image from which you will need to derive the pixel size.

> By the way, I figured out that there are vertical
> DATUMs like NAVD, are they supported in GDAL?

GDAL has no support for vertical datums.  The OGC Well Known Text format
used by GDAL for representing coordinate systems does support compound
coordinate systems which include a vertical datum, but GDAL (and the
OGRSpatialReference) do *not* support these, much less use them for anything
useful.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Mon Mar 17 01:45:43 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <3E74AA56.9040401@pobox.com>
Message-ID: <20030317064543.16225.qmail@web41113.mail.yahoo.com>

Then, if it can be derived, how can I do so, If it
can't, can you give me more explanation?

If you don't have enough time to answer me, can you
please givem me a link to a web page or whatsoever
resource that explains this. I need to understand this
point THOROUGHLY.


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > Thank you very much sir, 
> > but still I have one point not clear enough:
> "pixel
> > sie", I want to ask the user to supply me with the
> > needed data, Shall I put in the dialog "pixel
> size"
> > 
> > please I need to understand this point correctly.
> 
> Ayman,
> 
> I can't easily judge what is appropriate for your
> dialogs.  It might well
> be that your users will have no idea what the size
> of a pixel is, and will
> want to give the top left, and bottom right lat/long
> coordiantes for an
> image from which you will need to derive the pixel
> size.
> 
> > By the way, I figured out that there are vertical
> > DATUMs like NAVD, are they supported in GDAL?
> 
> GDAL has no support for vertical datums.  The OGC
> Well Known Text format
> used by GDAL for representing coordinate systems
> does support compound
> coordinate systems which include a vertical datum,
> but GDAL (and the
> OGRSpatialReference) do *not* support these, much
> less use them for anything
> useful.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Web Hosting - establish your business online
http://webhosting.yahoo.com

From warmerdam at pobox.com  Mon Mar 17 09:50:47 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030317064543.16225.qmail@web41113.mail.yahoo.com>
References: <20030317064543.16225.qmail@web41113.mail.yahoo.com>
Message-ID: <3E75E0C7.2060200@pobox.com>

Ayman Kamal wrote:
> Then, if it can be derived, how can I do so, If it
> can't, can you give me more explanation?
> 
> If you don't have enough time to answer me, can you
> please givem me a link to a web page or whatsoever
> resource that explains this. I need to understand this
> point THOROUGHLY.

Ayman,

I do not know off hand of a resouce that discusses this thoroughly.  I would
suggest you review the information in the GDAL data model document about
"Affine GeoTransform".

   http://www.remotesensing.org/gdal/gdal_datamodel.html

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From rogerjames99 at btinternet.com  Mon Mar 17 13:10:27 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Mother Teresa - Patience of a Saint Award
Message-ID: <000501c2ecb0$7dc24c80$4ea1fea9@internal.beardandsandals.co.uk>

News has just come in that Frank Warnerdam has been nominated for the
Mother Teresa "Patience of a Saint" award. These biennial awards are
made to individuals whose devotion to the gdal list goes beyond the
merely mortal.

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030317/616dfb06/attachment.html
From Doug_Newcomb at fws.gov  Mon Mar 17 14:22:37 2003
From: Doug_Newcomb at fws.gov (Doug_Newcomb@fws.gov)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Mother Teresa - Patience of a Saint Award
Message-ID: <OF9AF4C7E1.6FBA3271-ON85256CEC.006A69D1@irm.r9.fws.gov>

I second the nomination.

Doug Newcomb



                                                                                                                                      
                      "Roger James"                                                                                                   
                      <rogerjames99@btinter         To:      <gdal-dev@remotesensing.org>                                             
                      net.com>                      cc:                                                                               
                      Sent by:                      Subject: [Gdal-dev] Mother Teresa - Patience of a Saint Award                     
                      gdal-dev-admin@remote                                                                                           
                      sensing.org                                                                                                     
                                                                                                                                      
                                                                                                                                      
                      03/17/2003 01:10 PM                                                                                             
                      Please respond to                                                                                               
                      gdal-dev                                                                                                        
                                                                                                                                      
                                                                                                                                      




News has just come in that Frank Warnerdam has been nominated for the
Mother Teresa "Patience of a Saint" award. These biennial awards are made
to individuals whose devotion to the gdal list goes beyond the merely
mortal.







From s.perkins at lanl.gov  Mon Mar 17 15:52:17 2003
From: s.perkins at lanl.gov (Simon Perkins)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] IRasterIO Problems?
In-Reply-To: <3E723324.4020102@pobox.com>
References: <20030224095242.48002.qmail@web41110.mail.yahoo.com>
	 <3E5A347B.6010008@pobox.com> <1047606734.14669.87.camel@afreet.lanl.gov>
	 <3E714D1B.3000905@pobox.com> <1047670424.32247.114.camel@afreet.lanl.gov>
	 <3E723324.4020102@pobox.com>
Message-ID: <1047934337.20150.21.camel@afreet.lanl.gov>

Just a heads up that I've started getting a segmentation fault using
existing code with the latest version of GDAL. My code works fine with
the version of GDAL in CVS prior to March 9th. On that date a bunch of
changes were checked in for rasterio.cpp and the problem seems to be in
that file.

The problem occurs loading in smallish windows (50x50ish) from a medium
sized (450x400ish) four-band byte FITS image.

More news when I get it, unless someone has already solved something
like this and lets me know first!

Sy



From warmerdam at pobox.com  Mon Mar 17 16:04:20 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] IRasterIO Problems?
In-Reply-To: <1047934337.20150.21.camel@afreet.lanl.gov>
References: <20030224095242.48002.qmail@web41110.mail.yahoo.com>	 <3E5A347B.6010008@pobox.com> <1047606734.14669.87.camel@afreet.lanl.gov>	 <3E714D1B.3000905@pobox.com> <1047670424.32247.114.camel@afreet.lanl.gov>	 <3E723324.4020102@pobox.com> <1047934337.20150.21.camel@afreet.lanl.gov>
Message-ID: <3E763854.8010905@pobox.com>

Simon Perkins wrote:
> Just a heads up that I've started getting a segmentation fault using
> existing code with the latest version of GDAL. My code works fine with
> the version of GDAL in CVS prior to March 9th. On that date a bunch of
> changes were checked in for rasterio.cpp and the problem seems to be in
> that file.
> 
> The problem occurs loading in smallish windows (50x50ish) from a medium
> sized (450x400ish) four-band byte FITS image.
> 
> More news when I get it, unless someone has already solved something
> like this and lets me know first!

Sy,

I found a few bugs were introduced March 7-9 and I committed some fixes
on March 13th.  Ensure you have rasterio.cpp 1.22 checked out.  If problems
persist I would encourage you to report bugs to Andrey (dron@remotesensing.org)
to fix.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From s.perkins at lanl.gov  Mon Mar 17 18:43:40 2003
From: s.perkins at lanl.gov (Simon Perkins)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Re: IRasterIO Problems?
In-Reply-To: <1047934337.20150.21.camel@afreet.lanl.gov>
References: <20030224095242.48002.qmail@web41110.mail.yahoo.com>
	 <3E5A347B.6010008@pobox.com> <1047606734.14669.87.camel@afreet.lanl.gov>
	 <3E714D1B.3000905@pobox.com> <1047670424.32247.114.camel@afreet.lanl.gov>
	 <3E723324.4020102@pobox.com>  <1047934337.20150.21.camel@afreet.lanl.gov>
Message-ID: <1047944619.20150.42.camel@afreet.lanl.gov>

On Mon, 2003-03-17 at 13:52, Simon Perkins wrote:
> Just a heads up that I've started getting a segmentation fault using
> existing code with the latest version of GDAL. My code works fine with
> the version of GDAL in CVS prior to March 9th. On that date a bunch of
> changes were checked in for rasterio.cpp and the problem seems to be in
> that file.

This turned out to be a false alarm after all...

Frank committed some changes a few days ago that fixed things. My source
_was_ from today's CVS but my code was picking up a random copy of the
library that was a few days older... It's all so embarrassing.

Cheers,

Sy



From warmerdam at pobox.com  Tue Mar 18 01:11:23 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Re: image data flushing (clean rebuild needed)
In-Reply-To: <3E765839.8C8C0586@atlantis-scientific.com>
References: <3E75F7A9.DC0331CA@atlantis-scientific.com> <3E76437C.9060203@pobox.com> <3E765839.8C8C0586@atlantis-scientific.com>
Message-ID: <3E76B88B.7020605@pobox.com>

Gillian Walter wrote:
> Hi Frank,
> 
> I tried that, and now everything except the last line of the last band gets
> flushed.  This still
> doesn't flush even if I loop through the bands twice.  Does something else have
> to be freed to get the last line to flush?

Folks,

Gillian was encountering a problem where some formats implemented on top the
RawRasterBand and related classes were not properly fflushing data to disk
when the GDALRasterBand::FlushCache() method was called.

To correct this I made the GDALRasterBand::FlushCache() method virtual and
implemented it (to call VSIFFlussh()) for the RawRasterBand class.   As
a result of changing the method to be virtual anyone updating GDAL from CVS
should do a clean build (make clean; make).  Any change to the virtual
function table requires a complete recompile.

Anyone implementing formats that they wish to support the flushcache semantics
properly ... that is that should leave the dataset in a clean fully flushed to
disk state after a FlushCache() call should consider whether they need to
override the GDALRasterBand::FlushCache() or GDALDataset::FlushCache() methods
to do work like fflushing the stream they are writing on.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From slepnev_v at newmail.ru  Mon Mar 17 16:49:00 2003
From: slepnev_v at newmail.ru (Vladimir Slepnev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] problems with some formats
Message-ID: <000001c2eccf$069b4660$274560c3@sst>

Hi,

the 03/03/03 update of GDAL seems to have the HFA format broken. Under
Windows, GDAL just crashes (without any error messages) when trying to open
an IMG file.

Also, we still can't get ECW and JPEG2000 to work under Windows. When trying
to open a JPEG2000 file, GDAL crashes (We plugged in the new version of
JasPer from the GDAL website, modified the makefiles, etc., so I guess it's
not some stupid mistake on our part. I've already made a number of posts to
gdal-dev on the subject. It's clearly a Windows problem.) Also, GDAL always
fails to create an ECW file  - NULL is returned (we have the ECW SDK
installed and made the necessary changes to the GDAL build).

One may say that we should use the latest GDAL update. But this turns out to
be not the best policy for us - we already have about 5 different versions
of gdal11.dll, which work differently. For example, I just tried to update
GDAL through CVS. After that, nmake /f makefile.vc produced an error:

nmake.opt(56) : fatal error U1034: syntax error : separator missing

I guess we're just unlucky to use the Windows 2000 platform :-)
I really apologize for being so rude to you all :-)

Vladimir Slepnev
Programmer, RDC ScanEx


From dron at ak4719.spb.edu  Tue Mar 18 06:10:12 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] problems with some formats
In-Reply-To: <000001c2eccf$069b4660$274560c3@sst>
References: <000001c2eccf$069b4660$274560c3@sst>
Message-ID: <20030318111012.GA25147@ak4719.spb.edu>

Vladimir,

On Tue, Mar 18, 2003 at 12:49:00AM +0300, Vladimir Slepnev wrote:
> the 03/03/03 update of GDAL seems to have the HFA format broken. Under
> Windows, GDAL just crashes (without any error messages) when trying to open
> an IMG file.

Could you show backtrace log?

> Also, we still can't get ECW and JPEG2000 to work under Windows. When trying

Regarding JPEG2000: I've confirmed that problem exist (on Windows platform),
but I can't found where it is yet.

> One may say that we should use the latest GDAL update. But this turns out to
> be not the best policy for us - we already have about 5 different versions

Note, that main purpose of the immediate access to sources in development
is a possibility to get immediate feedback.
You may choose any policy with this sources. For example, you can freeze
your own GDAL snapshot and update from CVS those parts only which
has problems.

> of gdal11.dll, which work differently. For example, I just tried to update
> GDAL through CVS. After that, nmake /f makefile.vc produced an error:
> 
> nmake.opt(56) : fatal error U1034: syntax error : separator missing

Likely there was incompatible changes merged in nmake.opt. You should
read CVS messages carefully next time and edit nmake.opt manually if so.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From kamal_jo at yahoo.com  Tue Mar 18 10:02:39 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <3E75E0C7.2060200@pobox.com>
Message-ID: <20030318150239.92861.qmail@web41105.mail.yahoo.com>

ok sir, I figured out that the pixel size decides how
long does the pixel represent in actual model system
units, as the scale factor for geograpich maps,

1. Now I just want to know, for the 4 mentioned
coordinate systems
"NAD27", "NAD83", "WGS72", "WGS84" what are the units
of the model system?? I want to ask the user to
explain this for the user.

2. What are the ranges for valid data the user can
provide for the top left corner of image & for pixel
size.

3. I saved a certain image using GDAL and each time
changed the pixel size,and then opened this image
using GDAL and noticed that there was no difference in
how the image looked like, I am sure of that. Can you
explain?


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > Then, if it can be derived, how can I do so, If it
> > can't, can you give me more explanation?
> > 
> > If you don't have enough time to answer me, can
> you
> > please givem me a link to a web page or whatsoever
> > resource that explains this. I need to understand
> this
> > point THOROUGHLY.
> 
> Ayman,
> 
> I do not know off hand of a resouce that discusses
> this thoroughly.  I would
> suggest you review the information in the GDAL data
> model document about
> "Affine GeoTransform".
> 
>   
>
http://www.remotesensing.org/gdal/gdal_datamodel.html
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From ed at topozone.com  Tue Mar 18 10:18:31 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
Message-ID: <13858AA1A74F30419F319ACB66A9D122019641@mercator.topozone.com>

Ayman -

1. The four mentioned "coordinate systems" are datums, not coordinate
systems.  The "units of the model system" depend upon the specific map
projection you are using.  For example, I live in Masschusetts, USA, and
locally we use the Massachusetts State Plane coordinate system, which
can be implemented in either feet or meters.  The majority of projected
coordinate systems use meters, but the correct value will depend on the
specific system you are using.

2. The top left corner coordinates and pixel size are all floating-point
numbers and can accommodate any plausible numbers you might have.

3. I don't think you have given us enough information here - can you
explain exactly how you changed the pixel size?

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242  Fax: (978) 251-1396
ed@topozone.com


-----Original Message-----
From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
Sent: Tuesday, March 18, 2003 10:03 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] saving GeoTiff

ok sir, I figured out that the pixel size decides how
long does the pixel represent in actual model system
units, as the scale factor for geograpich maps,

1. Now I just want to know, for the 4 mentioned
coordinate systems
"NAD27", "NAD83", "WGS72", "WGS84" what are the units
of the model system?? I want to ask the user to
explain this for the user.

2. What are the ranges for valid data the user can
provide for the top left corner of image & for pixel
size.

3. I saved a certain image using GDAL and each time
changed the pixel size,and then opened this image
using GDAL and noticed that there was no difference in
how the image looked like, I am sure of that. Can you
explain?


--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > Then, if it can be derived, how can I do so, If it
> > can't, can you give me more explanation?
> > 
> > If you don't have enough time to answer me, can
> you
> > please givem me a link to a web page or whatsoever
> > resource that explains this. I need to understand
> this
> > point THOROUGHLY.
> 
> Ayman,
> 
> I do not know off hand of a resouce that discusses
> this thoroughly.  I would
> suggest you review the information in the GDAL data
> model document about
> "Affine GeoTransform".
> 
>   
>
http://www.remotesensing.org/gdal/gdal_datamodel.html
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------
------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From kamal_jo at yahoo.com  Tue Mar 18 10:42:25 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <13858AA1A74F30419F319ACB66A9D122019641@mercator.topozone.com>
Message-ID: <20030318154225.90239.qmail@web41106.mail.yahoo.com>

1.
sorry sir if I was wrong when calling "NAD83",.. 
coordinate systems, but I referred to 
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html

where it mentions exactly:
"The OGRSpatialReference has built in support for a
few well known coordinate systems, which include
"NAD27", "NAD83", "WGS72" and "WGS84....."


2. I changed the pixel size by changing the values of
adfGeoTransform[1]//horizental pixel size
adfGeoTransform[5]//vertical pixel size

in "gdal_translate" code.

I am sure that the pixel size was changed, as I opened
the images in other softwares and noticed that the
size of the grid cells has changed accordingly.

3. Anyway, what I want simply is as follows:
I want to show a dialog the user that contains the
parametes he/she must fill to be able to generate a
correct GeoTiff image,
-I figuered out that I will ask him/her to choose one
of "NAD83","NAD27","WGS72","WGS84"
-Ask him/her about the latitude and longitude of top
left corner
-Ask him/her about pixel size, and I mention the unit
of size, so what does DATUM mean, and if he chooses
any of the DATUMs, what will the unit be?


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> 1. The four mentioned "coordinate systems" are
> datums, not coordinate
> systems.  The "units of the model system" depend
> upon the specific map
> projection you are using.  For example, I live in
> Masschusetts, USA, and
> locally we use the Massachusetts State Plane
> coordinate system, which
> can be implemented in either feet or meters.  The
> majority of projected
> coordinate systems use meters, but the correct value
> will depend on the
> specific system you are using.
> 
> 2. The top left corner coordinates and pixel size
> are all floating-point
> numbers and can accommodate any plausible numbers
> you might have.
> 
> 3. I don't think you have given us enough
> information here - can you
> explain exactly how you changed the pixel size?
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: (978) 251-4242  Fax: (978) 251-1396
> ed@topozone.com
> 
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> Sent: Tuesday, March 18, 2003 10:03 AM
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] saving GeoTiff
> 
> ok sir, I figured out that the pixel size decides
> how
> long does the pixel represent in actual model system
> units, as the scale factor for geograpich maps,
> 
> 1. Now I just want to know, for the 4 mentioned
> coordinate systems
> "NAD27", "NAD83", "WGS72", "WGS84" what are the
> units
> of the model system?? I want to ask the user to
> explain this for the user.
> 
> 2. What are the ranges for valid data the user can
> provide for the top left corner of image & for pixel
> size.
> 
> 3. I saved a certain image using GDAL and each time
> changed the pixel size,and then opened this image
> using GDAL and noticed that there was no difference
> in
> how the image looked like, I am sure of that. Can
> you
> explain?
> 
> 
> --- Frank Warmerdam <warmerdam@pobox.com> wrote:
> > Ayman Kamal wrote:
> > > Then, if it can be derived, how can I do so, If
> it
> > > can't, can you give me more explanation?
> > > 
> > > If you don't have enough time to answer me, can
> > you
> > > please givem me a link to a web page or
> whatsoever
> > > resource that explains this. I need to
> understand
> > this
> > > point THOROUGHLY.
> > 
> > Ayman,
> > 
> > I do not know off hand of a resouce that discusses
> > this thoroughly.  I would
> > suggest you review the information in the GDAL
> data
> > model document about
> > "Affine GeoTransform".
> > 
> >   
> >
>
http://www.remotesensing.org/gdal/gdal_datamodel.html
> > 
> > Best regards,
> > 
> > -- 
> >
>
---------------------------------------+--------------------------------
> ------
> > I set the clouds in motion - turn up   | Frank
> > Warmerdam, warmerdam@pobox.com
> > light and sound - activate the windows |
> > http://pobox.com/~warmerdam
> > and watch the world go round - Rush    |
> Geospatial
> > Programmer for Rent
> > 
> > 
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@remotesensing.org
> > http://remotesensing.org/mailman/listinfo/gdal-dev
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Platinum - Watch CBS' NCAA March Madness,
> live on your desktop!
> http://platinum.yahoo.com
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From ed at topozone.com  Tue Mar 18 10:47:49 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3FBE@mercator.topozone.com>

Ayman -

Since you mention "latitude and longitude", I will assume your data is
unprojected and in decimal degrees.  If so, then the "projection" is
usually called "unprojected" or "geographic" - you need the datum and
the latitude and longitude to define a location.

If your data is in decimal degrees, then the units of pixel size are in
decimal degrees.  The values specified by the user should be the size of
each pixel in degrees of latitude and degrees of longitude.  It is
unusual for raster data to be in decimal degrees, so make sure that is
correct.  Most raster data is projected.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242  Fax: (978) 251-1396
ed@topozone.com


-----Original Message-----
From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
Sent: Tuesday, March 18, 2003 10:42 AM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] saving GeoTiff

1.
sorry sir if I was wrong when calling "NAD83",.. 
coordinate systems, but I referred to 
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html

where it mentions exactly:
"The OGRSpatialReference has built in support for a
few well known coordinate systems, which include
"NAD27", "NAD83", "WGS72" and "WGS84....."


2. I changed the pixel size by changing the values of
adfGeoTransform[1]//horizental pixel size
adfGeoTransform[5]//vertical pixel size

in "gdal_translate" code.

I am sure that the pixel size was changed, as I opened
the images in other softwares and noticed that the
size of the grid cells has changed accordingly.

3. Anyway, what I want simply is as follows:
I want to show a dialog the user that contains the
parametes he/she must fill to be able to generate a
correct GeoTiff image,
-I figuered out that I will ask him/her to choose one
of "NAD83","NAD27","WGS72","WGS84"
-Ask him/her about the latitude and longitude of top
left corner
-Ask him/her about pixel size, and I mention the unit
of size, so what does DATUM mean, and if he chooses
any of the DATUMs, what will the unit be?


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> 1. The four mentioned "coordinate systems" are
> datums, not coordinate
> systems.  The "units of the model system" depend
> upon the specific map
> projection you are using.  For example, I live in
> Masschusetts, USA, and
> locally we use the Massachusetts State Plane
> coordinate system, which
> can be implemented in either feet or meters.  The
> majority of projected
> coordinate systems use meters, but the correct value
> will depend on the
> specific system you are using.
> 
> 2. The top left corner coordinates and pixel size
> are all floating-point
> numbers and can accommodate any plausible numbers
> you might have.
> 
> 3. I don't think you have given us enough
> information here - can you
> explain exactly how you changed the pixel size?
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: (978) 251-4242  Fax: (978) 251-1396
> ed@topozone.com
> 
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> Sent: Tuesday, March 18, 2003 10:03 AM
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] saving GeoTiff
> 
> ok sir, I figured out that the pixel size decides
> how
> long does the pixel represent in actual model system
> units, as the scale factor for geograpich maps,
> 
> 1. Now I just want to know, for the 4 mentioned
> coordinate systems
> "NAD27", "NAD83", "WGS72", "WGS84" what are the
> units
> of the model system?? I want to ask the user to
> explain this for the user.
> 
> 2. What are the ranges for valid data the user can
> provide for the top left corner of image & for pixel
> size.
> 
> 3. I saved a certain image using GDAL and each time
> changed the pixel size,and then opened this image
> using GDAL and noticed that there was no difference
> in
> how the image looked like, I am sure of that. Can
> you
> explain?
> 
> 
> --- Frank Warmerdam <warmerdam@pobox.com> wrote:
> > Ayman Kamal wrote:
> > > Then, if it can be derived, how can I do so, If
> it
> > > can't, can you give me more explanation?
> > > 
> > > If you don't have enough time to answer me, can
> > you
> > > please givem me a link to a web page or
> whatsoever
> > > resource that explains this. I need to
> understand
> > this
> > > point THOROUGHLY.
> > 
> > Ayman,
> > 
> > I do not know off hand of a resouce that discusses
> > this thoroughly.  I would
> > suggest you review the information in the GDAL
> data
> > model document about
> > "Affine GeoTransform".
> > 
> >   
> >
>
http://www.remotesensing.org/gdal/gdal_datamodel.html
> > 
> > Best regards,
> > 
> > -- 
> >
>
---------------------------------------+--------------------------------
> ------
> > I set the clouds in motion - turn up   | Frank
> > Warmerdam, warmerdam@pobox.com
> > light and sound - activate the windows |
> > http://pobox.com/~warmerdam
> > and watch the world go round - Rush    |
> Geospatial
> > Programmer for Rent
> > 
> > 
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@remotesensing.org
> > http://remotesensing.org/mailman/listinfo/gdal-dev
> 
> 
> __________________________________________________
> Do you Yahoo!?
> Yahoo! Platinum - Watch CBS' NCAA March Madness,
> live on your desktop!
> http://platinum.yahoo.com
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From charlie at van-dusen.net  Tue Mar 18 12:04:25 2003
From: charlie at van-dusen.net (Charlie Van Dusen)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Newbie question
Message-ID: <702DF1B6BC7CCD4582F97D60450711587A57@westward.van-dusen.net>

Greetings list

I have several nautical charts in BSB format that I would like to be able to
browse in my GIS viewer (ArcExplorer). The *best* common format between it
and what gdal_translate produces is GeoTIFF.

Unfortunately whe I try to read the produced Geotiff with ArcExplorer, it
fails to open and crashes the application. 

Can anyone give me some pointers to what I need to do to produce an
ArcExplorer-ready geotiff from BSB (using gdal).

Thanks



Charles Van Dusen
charlie@van-dusen.net


From warmerdam at pobox.com  Tue Mar 18 12:45:03 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] Newbie question
In-Reply-To: <702DF1B6BC7CCD4582F97D60450711587A57@westward.van-dusen.net>
References: <702DF1B6BC7CCD4582F97D60450711587A57@westward.van-dusen.net>
Message-ID: <3E775B1F.8080500@pobox.com>

Charlie Van Dusen wrote:
> Greetings list
> 
> I have several nautical charts in BSB format that I would like to be able to
> browse in my GIS viewer (ArcExplorer). The *best* common format between it
> and what gdal_translate produces is GeoTIFF.
> 
> Unfortunately whe I try to read the produced Geotiff with ArcExplorer, it
> fails to open and crashes the application. 
> 
> Can anyone give me some pointers to what I need to do to produce an
> ArcExplorer-ready geotiff from BSB (using gdal).

Charles,

The problem (I presume) is that ArcExplorer doesn't grok GeoTIFF files with
a set of tiepoints to define the georeferencing transform.  Most GeoTIFF files
use a single reference point and a pixel size which I presume is all that
ArcExplorer supports.

Most (all?) BSB charts uses a set of control points, and often they don't
desribe a perfect north up coordinate system.  I don't know if this is because
they are produced by scaning charts or what.

The solution is to resample the charts into a north up coordinate system.
The simpliest way to do this is something like:

gdalwarp 999501.KAP 999501.tif

This basically warps the chart based on it's control points.  The
transformation in minimal in most cases, but the result is a perfectly
north-up image that ArcExplorer can hopefully process.

The caveat is this, the gdalwarp program (till this afternoon) did not
copy a color table to the output file.  I have corrected this in CVS.
If you are up to building GDAL yourself, you should be able to grab
the CVS snapshot tomorrow, build from source, and then use gdalwarp.
Otherwise you will have to wait for the next binary release.  I have
no fixed timetable for that.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Tue Mar 18 13:45:05 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] problems with some formats
In-Reply-To: <000001c2eccf$069b4660$274560c3@sst>
References: <000001c2eccf$069b4660$274560c3@sst>
Message-ID: <3E776931.6060304@pobox.com>

Vladimir Slepnev wrote:
> Hi,
> 
> the 03/03/03 update of GDAL seems to have the HFA format broken. Under
> Windows, GDAL just crashes (without any error messages) when trying to open
> an IMG file.

Vladimir,

There have been changes in the HFA driver.  Can you be more specific
about what goes wrong?  Perhaps providing a traceback, or a specific
gdal_translate case that reproduce the problem?

I have just run my "HFA" driver autotest on windows and it seems to work fine.

I would stress that it is wise to do a clean build (ie. "nmake /f makefile.vc
clean" and then "nmake /f makefile.vc") after updating from CVS after a while
away.

> Also, we still can't get ECW and JPEG2000 to work under Windows. When trying
> to open a JPEG2000 file, GDAL crashes (We plugged in the new version of
> JasPer from the GDAL website, modified the makefiles, etc., so I guess it's
> not some stupid mistake on our part. I've already made a number of posts to
> gdal-dev on the subject. It's clearly a Windows problem.) Also, GDAL always
> fails to create an ECW file  - NULL is returned (we have the ECW SDK
> installed and made the necessary changes to the GDAL build).

I will leave the JPEG2000 issue to Andrey.  Perhaps you are using a more
recent version of the ECW SDK than I am.  I just tried doing a
"gdal_translate -of ECW utm.tif utm.ecw" and it seems to have worked just
fine.

> One may say that we should use the latest GDAL update. But this turns out to
> be not the best policy for us - we already have about 5 different versions
> of gdal11.dll, which work differently. For example, I just tried to update
> GDAL through CVS. After that, nmake /f makefile.vc produced an error:
> 
> nmake.opt(56) : fatal error U1034: syntax error : separator missing
> 
> I guess we're just unlucky to use the Windows 2000 platform :-)
> I really apologize for being so rude to you all :-)

For "production" use I would encourage you to manage your own staging of
internal GDAL releases, only passing a GDAL version on to production use once
you are sure all the things you require are working.  As you test a version
(perhaps CVS head) report errors and we will fix them as quickly as we can.
I find it odd that you are running into many problems that I cannot easily
reproduce on my windows system.

Also, you might want to check the GDAL autotest suite out of CVS and try
it.  There isn't too much there yet, but it is growing.  If specific
tests fail you can report that and it gives us something more concrete
to test against.  I will also try to add new tests corresponding to
problem areas for the future.

Working on Windows should be fine with GDAL, with the caveat that occationally
we won't keep the makefile.vc's up to date.  You shouldn't be encountering as
many problems as you are lately.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Wed Mar 19 10:34:21 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1221F3FBE@mercator.topozone.com>
Message-ID: <20030319153421.29162.qmail@web41102.mail.yahoo.com>

Now, after I saved several GeoTiff files using
"gdal_translate" source as a program to modify the
settings of Geo data, I don't know what is the value
of the geo data saved???

By changing the values of adfGeoTransform[] elemets: 
*I change the top left corner (longitude, lattitude)
*I change the pixel size

and when I open the image using different viewers, I
get the same image no matter what the values are, the
only change I see is the size and values of grids of
lattitude and longitude lines.

But how the imaage looks, or the height data that some
viewers show, are all unchanged.

Can you explain to me??

--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> Since you mention "latitude and longitude", I will
> assume your data is
> unprojected and in decimal degrees.  If so, then the
> "projection" is
> usually called "unprojected" or "geographic" - you
> need the datum and
> the latitude and longitude to define a location.
> 
> If your data is in decimal degrees, then the units
> of pixel size are in
> decimal degrees.  The values specified by the user
> should be the size of
> each pixel in degrees of latitude and degrees of
> longitude.  It is
> unusual for raster data to be in decimal degrees, so
> make sure that is
> correct.  Most raster data is projected.
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: (978) 251-4242  Fax: (978) 251-1396
> ed@topozone.com
> 
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> Sent: Tuesday, March 18, 2003 10:42 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 1.
> sorry sir if I was wrong when calling "NAD83",.. 
> coordinate systems, but I referred to 
>
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html
> 
> where it mentions exactly:
> "The OGRSpatialReference has built in support for a
> few well known coordinate systems, which include
> "NAD27", "NAD83", "WGS72" and "WGS84....."
> 
> 
> 2. I changed the pixel size by changing the values
> of
> adfGeoTransform[1]//horizental pixel size
> adfGeoTransform[5]//vertical pixel size
> 
> in "gdal_translate" code.
> 
> I am sure that the pixel size was changed, as I
> opened
> the images in other softwares and noticed that the
> size of the grid cells has changed accordingly.
> 
> 3. Anyway, what I want simply is as follows:
> I want to show a dialog the user that contains the
> parametes he/she must fill to be able to generate a
> correct GeoTiff image,
> -I figuered out that I will ask him/her to choose
> one
> of "NAD83","NAD27","WGS72","WGS84"
> -Ask him/her about the latitude and longitude of top
> left corner
> -Ask him/her about pixel size, and I mention the
> unit
> of size, so what does DATUM mean, and if he chooses
> any of the DATUMs, what will the unit be?
> 
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > 1. The four mentioned "coordinate systems" are
> > datums, not coordinate
> > systems.  The "units of the model system" depend
> > upon the specific map
> > projection you are using.  For example, I live in
> > Masschusetts, USA, and
> > locally we use the Massachusetts State Plane
> > coordinate system, which
> > can be implemented in either feet or meters.  The
> > majority of projected
> > coordinate systems use meters, but the correct
> value
> > will depend on the
> > specific system you are using.
> > 
> > 2. The top left corner coordinates and pixel size
> > are all floating-point
> > numbers and can accommodate any plausible numbers
> > you might have.
> > 
> > 3. I don't think you have given us enough
> > information here - can you
> > explain exactly how you changed the pixel size?
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > Phone: (978) 251-4242  Fax: (978) 251-1396
> > ed@topozone.com
> > 
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > Sent: Tuesday, March 18, 2003 10:03 AM
> > To: gdal-dev@remotesensing.org
> > Subject: Re: [Gdal-dev] saving GeoTiff
> > 
> > ok sir, I figured out that the pixel size decides
> > how
> > long does the pixel represent in actual model
> system
> > units, as the scale factor for geograpich maps,
> > 
> > 1. Now I just want to know, for the 4 mentioned
> > coordinate systems
> > "NAD27", "NAD83", "WGS72", "WGS84" what are the
> > units
> > of the model system?? I want to ask the user to
> > explain this for the user.
> > 
> > 2. What are the ranges for valid data the user can
> > provide for the top left corner of image & for
> pixel
> > size.
> > 
> > 3. I saved a certain image using GDAL and each
> time
> > changed the pixel size,and then opened this image
> > using GDAL and noticed that there was no
> difference
> > in
> > how the image looked like, I am sure of that. Can
> > you
> > explain?
> > 
> > 
> > --- Frank Warmerdam <warmerdam@pobox.com> wrote:
> > > Ayman Kamal wrote:
> > > > Then, if it can be derived, how can I do so,
> If
> > it
> > > > can't, can you give me more explanation?
> > > > 
> > > > If you don't have enough time to answer me,
> can
> > > you
> > > > please givem me a link to a web page or
> > whatsoever
> > > > resource that explains this. I need to
> > understand
> > > this
> > > > point THOROUGHLY.
> > > 
> > > Ayman,
> > > 
> > > I do not know off hand of a resouce that
> discusses
> > > this thoroughly.  I would
> > > suggest you review the information in the GDAL
> > data
> > > model document about
> > > "Affine GeoTransform".
> > > 
> > >   
> > >
> >
>
http://www.remotesensing.org/gdal/gdal_datamodel.html
> > > 
> > > Best regards,
> > > 
> > > -- 
> > >
> >
>
---------------------------------------+--------------------------------
> > ------
> > > I set the clouds in motion - turn up   | Frank
> > > Warmerdam, warmerdam@pobox.com
> > > light and sound - activate the windows |
> > > http://pobox.com/~warmerdam
> > > and watch the world go round - Rush    |
> > Geospatial
> > > Programmer for Rent
> > > 
> > > 
> > > _______________________________________________
> > > Gdal-dev mailing list
> > > Gdal-dev@remotesensing.org
> > >
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From ed at topozone.com  Wed Mar 19 10:40:07 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3FD8@mercator.topozone.com>

Ayman -

What do you expect to see?  Many viewers will load an image and display the entire image on the screen, or display the upper-left portion at 100% zoom - one pixel on the screen for each input pixel in the image.  Both of these views are independent of the geographic coordinates or the pixel size, so changing those values won't change the image.  They WILL change the coordinate information (for things like the "size and values of grids", so your description sounds exactly like what I would expect to see.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed@topozone.com
(978) 251-4242 

-----Original Message-----
From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
Sent: Wednesday, March 19, 2003 10:34 AM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] saving GeoTiff


Now, after I saved several GeoTiff files using
"gdal_translate" source as a program to modify the
settings of Geo data, I don't know what is the value
of the geo data saved???

By changing the values of adfGeoTransform[] elemets: 
*I change the top left corner (longitude, lattitude)
*I change the pixel size

and when I open the image using different viewers, I
get the same image no matter what the values are, the
only change I see is the size and values of grids of
lattitude and longitude lines.

But how the imaage looks, or the height data that some
viewers show, are all unchanged.

Can you explain to me??

--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> Since you mention "latitude and longitude", I will
> assume your data is
> unprojected and in decimal degrees.  If so, then the
> "projection" is
> usually called "unprojected" or "geographic" - you
> need the datum and
> the latitude and longitude to define a location.
> 
> If your data is in decimal degrees, then the units
> of pixel size are in
> decimal degrees.  The values specified by the user
> should be the size of
> each pixel in degrees of latitude and degrees of
> longitude.  It is
> unusual for raster data to be in decimal degrees, so
> make sure that is
> correct.  Most raster data is projected.
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: (978) 251-4242  Fax: (978) 251-1396
> ed@topozone.com
> 
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> Sent: Tuesday, March 18, 2003 10:42 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 1.
> sorry sir if I was wrong when calling "NAD83",.. 
> coordinate systems, but I referred to 
>
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html
> 
> where it mentions exactly:
> "The OGRSpatialReference has built in support for a
> few well known coordinate systems, which include
> "NAD27", "NAD83", "WGS72" and "WGS84....."
> 
> 
> 2. I changed the pixel size by changing the values
> of
> adfGeoTransform[1]//horizental pixel size
> adfGeoTransform[5]//vertical pixel size
> 
> in "gdal_translate" code.
> 
> I am sure that the pixel size was changed, as I
> opened
> the images in other softwares and noticed that the
> size of the grid cells has changed accordingly.
> 
> 3. Anyway, what I want simply is as follows:
> I want to show a dialog the user that contains the
> parametes he/she must fill to be able to generate a
> correct GeoTiff image,
> -I figuered out that I will ask him/her to choose
> one
> of "NAD83","NAD27","WGS72","WGS84"
> -Ask him/her about the latitude and longitude of top
> left corner
> -Ask him/her about pixel size, and I mention the
> unit
> of size, so what does DATUM mean, and if he chooses
> any of the DATUMs, what will the unit be?
> 
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > 1. The four mentioned "coordinate systems" are
> > datums, not coordinate
> > systems.  The "units of the model system" depend
> > upon the specific map
> > projection you are using.  For example, I live in
> > Masschusetts, USA, and
> > locally we use the Massachusetts State Plane
> > coordinate system, which
> > can be implemented in either feet or meters.  The
> > majority of projected
> > coordinate systems use meters, but the correct
> value
> > will depend on the
> > specific system you are using.
> > 
> > 2. The top left corner coordinates and pixel size
> > are all floating-point
> > numbers and can accommodate any plausible numbers
> > you might have.
> > 
> > 3. I don't think you have given us enough
> > information here - can you
> > explain exactly how you changed the pixel size?
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > Phone: (978) 251-4242  Fax: (978) 251-1396
> > ed@topozone.com
> > 
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > Sent: Tuesday, March 18, 2003 10:03 AM
> > To: gdal-dev@remotesensing.org
> > Subject: Re: [Gdal-dev] saving GeoTiff
> > 
> > ok sir, I figured out that the pixel size decides
> > how
> > long does the pixel represent in actual model
> system
> > units, as the scale factor for geograpich maps,
> > 
> > 1. Now I just want to know, for the 4 mentioned
> > coordinate systems
> > "NAD27", "NAD83", "WGS72", "WGS84" what are the
> > units
> > of the model system?? I want to ask the user to
> > explain this for the user.
> > 
> > 2. What are the ranges for valid data the user can
> > provide for the top left corner of image & for
> pixel
> > size.
> > 
> > 3. I saved a certain image using GDAL and each
> time
> > changed the pixel size,and then opened this image
> > using GDAL and noticed that there was no
> difference
> > in
> > how the image looked like, I am sure of that. Can
> > you
> > explain?
> > 
> > 
> > --- Frank Warmerdam <warmerdam@pobox.com> wrote:
> > > Ayman Kamal wrote:
> > > > Then, if it can be derived, how can I do so,
> If
> > it
> > > > can't, can you give me more explanation?
> > > > 
> > > > If you don't have enough time to answer me,
> can
> > > you
> > > > please givem me a link to a web page or
> > whatsoever
> > > > resource that explains this. I need to
> > understand
> > > this
> > > > point THOROUGHLY.
> > > 
> > > Ayman,
> > > 
> > > I do not know off hand of a resouce that
> discusses
> > > this thoroughly.  I would
> > > suggest you review the information in the GDAL
> > data
> > > model document about
> > > "Affine GeoTransform".
> > > 
> > >   
> > >
> >
>
http://www.remotesensing.org/gdal/gdal_datamodel.html
> > > 
> > > Best regards,
> > > 
> > > -- 
> > >
> >
>
---------------------------------------+--------------------------------
> > ------
> > > I set the clouds in motion - turn up   | Frank
> > > Warmerdam, warmerdam@pobox.com
> > > light and sound - activate the windows |
> > > http://pobox.com/~warmerdam
> > > and watch the world go round - Rush    |
> > Geospatial
> > > Programmer for Rent
> > > 
> > > 
> > > _______________________________________________
> > > Gdal-dev mailing list
> > > Gdal-dev@remotesensing.org
> > >
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From kamal_jo at yahoo.com  Wed Mar 19 10:49:47 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1221F3FD8@mercator.topozone.com>
Message-ID: <20030319154947.56022.qmail@web41113.mail.yahoo.com>

Sir,
What I want to make sure about is, if I don't care
about showing a grid for coordinates(long,lat), then
If I just take the raster data out of the geotiff
file, this will be adequate?

If we say yes for the above question, then if I open a
geotiff file and just read the raster data, I should
get the same view I have when opening it using a
GeoTiff viewer, 

BUT what I notices when I started search about 

GeoTiff, when opening geotiff files with ordinary
image viwers(not supporting geotiff) they showed the
image differnt from it appears in geotiff viewrs.

Can you PLEASE explain to me?


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> What do you expect to see?  Many viewers will load
> an image and display the entire image on the screen,
> or display the upper-left portion at 100% zoom - one
> pixel on the screen for each input pixel in the
> image.  Both of these views are independent of the
> geographic coordinates or the pixel size, so
> changing those values won't change the image.  They
> WILL change the coordinate information (for things
> like the "size and values of grids", so your
> description sounds exactly like what I would expect
> to see.
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> ed@topozone.com
> (978) 251-4242 
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> Sent: Wednesday, March 19, 2003 10:34 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 
> Now, after I saved several GeoTiff files using
> "gdal_translate" source as a program to modify the
> settings of Geo data, I don't know what is the value
> of the geo data saved???
> 
> By changing the values of adfGeoTransform[] elemets:
> 
> *I change the top left corner (longitude, lattitude)
> *I change the pixel size
> 
> and when I open the image using different viewers, I
> get the same image no matter what the values are,
> the
> only change I see is the size and values of grids of
> lattitude and longitude lines.
> 
> But how the imaage looks, or the height data that
> some
> viewers show, are all unchanged.
> 
> Can you explain to me??
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > Since you mention "latitude and longitude", I will
> > assume your data is
> > unprojected and in decimal degrees.  If so, then
> the
> > "projection" is
> > usually called "unprojected" or "geographic" - you
> > need the datum and
> > the latitude and longitude to define a location.
> > 
> > If your data is in decimal degrees, then the units
> > of pixel size are in
> > decimal degrees.  The values specified by the user
> > should be the size of
> > each pixel in degrees of latitude and degrees of
> > longitude.  It is
> > unusual for raster data to be in decimal degrees,
> so
> > make sure that is
> > correct.  Most raster data is projected.
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > Phone: (978) 251-4242  Fax: (978) 251-1396
> > ed@topozone.com
> > 
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > Sent: Tuesday, March 18, 2003 10:42 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 1.
> > sorry sir if I was wrong when calling "NAD83",.. 
> > coordinate systems, but I referred to 
> >
>
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html
> > 
> > where it mentions exactly:
> > "The OGRSpatialReference has built in support for
> a
> > few well known coordinate systems, which include
> > "NAD27", "NAD83", "WGS72" and "WGS84....."
> > 
> > 
> > 2. I changed the pixel size by changing the values
> > of
> > adfGeoTransform[1]//horizental pixel size
> > adfGeoTransform[5]//vertical pixel size
> > 
> > in "gdal_translate" code.
> > 
> > I am sure that the pixel size was changed, as I
> > opened
> > the images in other softwares and noticed that the
> > size of the grid cells has changed accordingly.
> > 
> > 3. Anyway, what I want simply is as follows:
> > I want to show a dialog the user that contains the
> > parametes he/she must fill to be able to generate
> a
> > correct GeoTiff image,
> > -I figuered out that I will ask him/her to choose
> > one
> > of "NAD83","NAD27","WGS72","WGS84"
> > -Ask him/her about the latitude and longitude of
> top
> > left corner
> > -Ask him/her about pixel size, and I mention the
> > unit
> > of size, so what does DATUM mean, and if he
> chooses
> > any of the DATUMs, what will the unit be?
> > 
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > 1. The four mentioned "coordinate systems" are
> > > datums, not coordinate
> > > systems.  The "units of the model system" depend
> > > upon the specific map
> > > projection you are using.  For example, I live
> in
> > > Masschusetts, USA, and
> > > locally we use the Massachusetts State Plane
> > > coordinate system, which
> > > can be implemented in either feet or meters. 
> The
> > > majority of projected
> > > coordinate systems use meters, but the correct
> > value
> > > will depend on the
> > > specific system you are using.
> > > 
> > > 2. The top left corner coordinates and pixel
> size
> > > are all floating-point
> > > numbers and can accommodate any plausible
> numbers
> > > you might have.
> > > 
> > > 3. I don't think you have given us enough
> > > information here - can you
> > > explain exactly how you changed the pixel size?
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > Phone: (978) 251-4242  Fax: (978) 251-1396
> > > ed@topozone.com
> > > 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > > Sent: Tuesday, March 18, 2003 10:03 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: Re: [Gdal-dev] saving GeoTiff
> > > 
> > > ok sir, I figured out that the pixel size
> decides
> > > how
> > > long does the pixel represent in actual model
> > system
> > > units, as the scale factor for geograpich maps,
> > > 
> > > 1. Now I just want to know, for the 4 mentioned
> > > coordinate systems
> > > "NAD27", "NAD83", "WGS72", "WGS84" what are the
> > > units
> > > of the model system?? I want to ask the user to
> > > explain this for the user.
> > > 
> > > 2. What are the ranges for valid data the user
> can
> > > provide for the top left corner of image & for
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From ed at topozone.com  Wed Mar 19 10:56:56 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3FDD@mercator.topozone.com>

Ayman -

YOU need to take the time to understand the viewing software you are using.  Read the documentation and understand what it is supposed to do.  Then, if you find your images do not work as you expect, you can explain what the problem seems to be.

If you find that an image appears different using two different viewers, first take time to understand what those viewers do and how they display images.  It is certainly possible that two different viewers will display the same image two different ways; that's not surprising at all, and probably has nothing to do with GDAL.

	- Ed

-----Original Message-----
From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
Sent: Wednesday, March 19, 2003 10:50 AM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] saving GeoTiff


Sir,
What I want to make sure about is, if I don't care
about showing a grid for coordinates(long,lat), then
If I just take the raster data out of the geotiff
file, this will be adequate?

If we say yes for the above question, then if I open a
geotiff file and just read the raster data, I should
get the same view I have when opening it using a
GeoTiff viewer, 

BUT what I notices when I started search about 

GeoTiff, when opening geotiff files with ordinary
image viwers(not supporting geotiff) they showed the
image differnt from it appears in geotiff viewrs.

Can you PLEASE explain to me?


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> What do you expect to see?  Many viewers will load
> an image and display the entire image on the screen,
> or display the upper-left portion at 100% zoom - one
> pixel on the screen for each input pixel in the
> image.  Both of these views are independent of the
> geographic coordinates or the pixel size, so
> changing those values won't change the image.  They
> WILL change the coordinate information (for things
> like the "size and values of grids", so your
> description sounds exactly like what I would expect
> to see.
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> ed@topozone.com
> (978) 251-4242 
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> Sent: Wednesday, March 19, 2003 10:34 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 
> Now, after I saved several GeoTiff files using
> "gdal_translate" source as a program to modify the
> settings of Geo data, I don't know what is the value
> of the geo data saved???
> 
> By changing the values of adfGeoTransform[] elemets:
> 
> *I change the top left corner (longitude, lattitude)
> *I change the pixel size
> 
> and when I open the image using different viewers, I
> get the same image no matter what the values are,
> the
> only change I see is the size and values of grids of
> lattitude and longitude lines.
> 
> But how the imaage looks, or the height data that
> some
> viewers show, are all unchanged.
> 
> Can you explain to me??
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > Since you mention "latitude and longitude", I will
> > assume your data is
> > unprojected and in decimal degrees.  If so, then
> the
> > "projection" is
> > usually called "unprojected" or "geographic" - you
> > need the datum and
> > the latitude and longitude to define a location.
> > 
> > If your data is in decimal degrees, then the units
> > of pixel size are in
> > decimal degrees.  The values specified by the user
> > should be the size of
> > each pixel in degrees of latitude and degrees of
> > longitude.  It is
> > unusual for raster data to be in decimal degrees,
> so
> > make sure that is
> > correct.  Most raster data is projected.
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > Phone: (978) 251-4242  Fax: (978) 251-1396
> > ed@topozone.com
> > 
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > Sent: Tuesday, March 18, 2003 10:42 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 1.
> > sorry sir if I was wrong when calling "NAD83",.. 
> > coordinate systems, but I referred to 
> >
>
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html
> > 
> > where it mentions exactly:
> > "The OGRSpatialReference has built in support for
> a
> > few well known coordinate systems, which include
> > "NAD27", "NAD83", "WGS72" and "WGS84....."
> > 
> > 
> > 2. I changed the pixel size by changing the values
> > of
> > adfGeoTransform[1]//horizental pixel size
> > adfGeoTransform[5]//vertical pixel size
> > 
> > in "gdal_translate" code.
> > 
> > I am sure that the pixel size was changed, as I
> > opened
> > the images in other softwares and noticed that the
> > size of the grid cells has changed accordingly.
> > 
> > 3. Anyway, what I want simply is as follows:
> > I want to show a dialog the user that contains the
> > parametes he/she must fill to be able to generate
> a
> > correct GeoTiff image,
> > -I figuered out that I will ask him/her to choose
> > one
> > of "NAD83","NAD27","WGS72","WGS84"
> > -Ask him/her about the latitude and longitude of
> top
> > left corner
> > -Ask him/her about pixel size, and I mention the
> > unit
> > of size, so what does DATUM mean, and if he
> chooses
> > any of the DATUMs, what will the unit be?
> > 
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > 1. The four mentioned "coordinate systems" are
> > > datums, not coordinate
> > > systems.  The "units of the model system" depend
> > > upon the specific map
> > > projection you are using.  For example, I live
> in
> > > Masschusetts, USA, and
> > > locally we use the Massachusetts State Plane
> > > coordinate system, which
> > > can be implemented in either feet or meters. 
> The
> > > majority of projected
> > > coordinate systems use meters, but the correct
> > value
> > > will depend on the
> > > specific system you are using.
> > > 
> > > 2. The top left corner coordinates and pixel
> size
> > > are all floating-point
> > > numbers and can accommodate any plausible
> numbers
> > > you might have.
> > > 
> > > 3. I don't think you have given us enough
> > > information here - can you
> > > explain exactly how you changed the pixel size?
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > Phone: (978) 251-4242  Fax: (978) 251-1396
> > > ed@topozone.com
> > > 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > > Sent: Tuesday, March 18, 2003 10:03 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: Re: [Gdal-dev] saving GeoTiff
> > > 
> > > ok sir, I figured out that the pixel size
> decides
> > > how
> > > long does the pixel represent in actual model
> > system
> > > units, as the scale factor for geograpich maps,
> > > 
> > > 1. Now I just want to know, for the 4 mentioned
> > > coordinate systems
> > > "NAD27", "NAD83", "WGS72", "WGS84" what are the
> > > units
> > > of the model system?? I want to ask the user to
> > > explain this for the user.
> > > 
> > > 2. What are the ranges for valid data the user
> can
> > > provide for the top left corner of image & for
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From kamal_jo at yahoo.com  Wed Mar 19 11:10:34 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:48 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1221F3FDD@mercator.topozone.com>
Message-ID: <20030319161034.38162.qmail@web41102.mail.yahoo.com>

Maybe I misleaded you with my words,
what I want to know clearly is the answer to this
question:

The data saved in the geotiff file (other than raster
data) is data that specifies the coordinate location,
and this can appear clearly in the grid lines of long
and lat that some viewers show,

BUT this coordinate data, doesn't affect by any means
the raster data or how it is viewed.

AND what is mentioned in the geotiff specification
about geo keys and geo data, is about the data that is
saved in the geotiff file which is extracted to show
the coordinate grids only.


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> YOU need to take the time to understand the viewing
> software you are using.  Read the documentation and
> understand what it is supposed to do.  Then, if you
> find your images do not work as you expect, you can
> explain what the problem seems to be.
> 
> If you find that an image appears different using
> two different viewers, first take time to understand
> what those viewers do and how they display images. 
> It is certainly possible that two different viewers
> will display the same image two different ways;
> that's not surprising at all, and probably has
> nothing to do with GDAL.
> 
> 	- Ed
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> Sent: Wednesday, March 19, 2003 10:50 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 
> Sir,
> What I want to make sure about is, if I don't care
> about showing a grid for coordinates(long,lat), then
> If I just take the raster data out of the geotiff
> file, this will be adequate?
> 
> If we say yes for the above question, then if I open
> a
> geotiff file and just read the raster data, I should
> get the same view I have when opening it using a
> GeoTiff viewer, 
> 
> BUT what I notices when I started search about 
> 
> GeoTiff, when opening geotiff files with ordinary
> image viwers(not supporting geotiff) they showed the
> image differnt from it appears in geotiff viewrs.
> 
> Can you PLEASE explain to me?
> 
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > What do you expect to see?  Many viewers will load
> > an image and display the entire image on the
> screen,
> > or display the upper-left portion at 100% zoom -
> one
> > pixel on the screen for each input pixel in the
> > image.  Both of these views are independent of the
> > geographic coordinates or the pixel size, so
> > changing those values won't change the image. 
> They
> > WILL change the coordinate information (for things
> > like the "size and values of grids", so your
> > description sounds exactly like what I would
> expect
> > to see.
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > ed@topozone.com
> > (978) 251-4242 
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > Sent: Wednesday, March 19, 2003 10:34 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 
> > Now, after I saved several GeoTiff files using
> > "gdal_translate" source as a program to modify the
> > settings of Geo data, I don't know what is the
> value
> > of the geo data saved???
> > 
> > By changing the values of adfGeoTransform[]
> elemets:
> > 
> > *I change the top left corner (longitude,
> lattitude)
> > *I change the pixel size
> > 
> > and when I open the image using different viewers,
> I
> > get the same image no matter what the values are,
> > the
> > only change I see is the size and values of grids
> of
> > lattitude and longitude lines.
> > 
> > But how the imaage looks, or the height data that
> > some
> > viewers show, are all unchanged.
> > 
> > Can you explain to me??
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > Since you mention "latitude and longitude", I
> will
> > > assume your data is
> > > unprojected and in decimal degrees.  If so, then
> > the
> > > "projection" is
> > > usually called "unprojected" or "geographic" -
> you
> > > need the datum and
> > > the latitude and longitude to define a location.
> > > 
> > > If your data is in decimal degrees, then the
> units
> > > of pixel size are in
> > > decimal degrees.  The values specified by the
> user
> > > should be the size of
> > > each pixel in degrees of latitude and degrees of
> > > longitude.  It is
> > > unusual for raster data to be in decimal
> degrees,
> > so
> > > make sure that is
> > > correct.  Most raster data is projected.
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > Phone: (978) 251-4242  Fax: (978) 251-1396
> > > ed@topozone.com
> > > 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > > Sent: Tuesday, March 18, 2003 10:42 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: RE: [Gdal-dev] saving GeoTiff
> > > 
> > > 1.
> > > sorry sir if I was wrong when calling "NAD83",..
> 
> > > coordinate systems, but I referred to 
> > >
> >
>
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html
> > > 
> > > where it mentions exactly:
> > > "The OGRSpatialReference has built in support
> for
> > a
> > > few well known coordinate systems, which include
> > > "NAD27", "NAD83", "WGS72" and "WGS84....."
> > > 
> > > 
> > > 2. I changed the pixel size by changing the
> values
> > > of
> > > adfGeoTransform[1]//horizental pixel size
> > > adfGeoTransform[5]//vertical pixel size
> > > 
> > > in "gdal_translate" code.
> > > 
> > > I am sure that the pixel size was changed, as I
> > > opened
> > > the images in other softwares and noticed that
> the
> > > size of the grid cells has changed accordingly.
> > > 
> > > 3. Anyway, what I want simply is as follows:
> > > I want to show a dialog the user that contains
> the
> > > parametes he/she must fill to be able to
> generate
> > a
> > > correct GeoTiff image,
> > > -I figuered out that I will ask him/her to
> choose
> > > one
> > > of "NAD83","NAD27","WGS72","WGS84"
> > > -Ask him/her about the latitude and longitude of
> > top
> > > left corner
> > > -Ask him/her about pixel size, and I mention the
> > > unit
> > > of size, so what does DATUM mean, and if he
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From kamal_jo at yahoo.com  Wed Mar 19 11:31:16 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030319161034.38162.qmail@web41102.mail.yahoo.com>
Message-ID: <20030319163116.15766.qmail@web41101.mail.yahoo.com>

Please reply to my email, I need an answer ASAP,
is it correct what I mention below?
------------------------------------------------------
------------------------------------------------------
> Maybe I misleaded you with my words,
> what I want to know clearly is the answer to this
> question:
> 
> The data saved in the geotiff file (other than
> raster
> data) is data that specifies the coordinate
> location,
> and this can appear clearly in the grid lines of
> long
> and lat that some viewers show,
> 
> BUT this coordinate data, doesn't affect by any
> means
> the raster data or how it is viewed.
> 
> AND what is mentioned in the geotiff specification
> about geo keys and geo data, is about the data that
> is
> saved in the geotiff file which is extracted to show
> the coordinate grids only.
------------------------------------------------------
------------------------------------------------------

> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > YOU need to take the time to understand the
> viewing
> > software you are using.  Read the documentation
> and
> > understand what it is supposed to do.  Then, if
> you
> > find your images do not work as you expect, you
> can
> > explain what the problem seems to be.
> > 
> > If you find that an image appears different using
> > two different viewers, first take time to
> understand
> > what those viewers do and how they display images.
> 
> > It is certainly possible that two different
> viewers
> > will display the same image two different ways;
> > that's not surprising at all, and probably has
> > nothing to do with GDAL.
> > 
> > 	- Ed
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > Sent: Wednesday, March 19, 2003 10:50 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 
> > Sir,
> > What I want to make sure about is, if I don't care
> > about showing a grid for coordinates(long,lat),
> then
> > If I just take the raster data out of the geotiff
> > file, this will be adequate?
> > 
> > If we say yes for the above question, then if I
> open
> > a
> > geotiff file and just read the raster data, I
> should
> > get the same view I have when opening it using a
> > GeoTiff viewer, 
> > 
> > BUT what I notices when I started search about 
> > 
> > GeoTiff, when opening geotiff files with ordinary
> > image viwers(not supporting geotiff) they showed
> the
> > image differnt from it appears in geotiff viewrs.
> > 
> > Can you PLEASE explain to me?
> > 
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > What do you expect to see?  Many viewers will
> load
> > > an image and display the entire image on the
> > screen,
> > > or display the upper-left portion at 100% zoom -
> > one
> > > pixel on the screen for each input pixel in the
> > > image.  Both of these views are independent of
> the
> > > geographic coordinates or the pixel size, so
> > > changing those values won't change the image. 
> > They
> > > WILL change the coordinate information (for
> things
> > > like the "size and values of grids", so your
> > > description sounds exactly like what I would
> > expect
> > > to see.
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > ed@topozone.com
> > > (978) 251-4242 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > > Sent: Wednesday, March 19, 2003 10:34 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: RE: [Gdal-dev] saving GeoTiff
> > > 
> > > 
> > > Now, after I saved several GeoTiff files using
> > > "gdal_translate" source as a program to modify
> the
> > > settings of Geo data, I don't know what is the
> > value
> > > of the geo data saved???
> > > 
> > > By changing the values of adfGeoTransform[]
> > elemets:
> > > 
> > > *I change the top left corner (longitude,
> > lattitude)
> > > *I change the pixel size
> > > 
> > > and when I open the image using different
> viewers,
> > I
> > > get the same image no matter what the values
> are,
> > > the
> > > only change I see is the size and values of
> grids
> > of
> > > lattitude and longitude lines.
> > > 
> > > But how the imaage looks, or the height data
> that
> > > some
> > > viewers show, are all unchanged.
> > > 
> > > Can you explain to me??
> > > 
> > > --- Ed McNierney <ed@topozone.com> wrote:
> > > > Ayman -
> > > > 
> > > > Since you mention "latitude and longitude", I
> > will
> > > > assume your data is
> > > > unprojected and in decimal degrees.  If so,
> then
> > > the
> > > > "projection" is
> > > > usually called "unprojected" or "geographic" -
> > you
> > > > need the datum and
> > > > the latitude and longitude to define a
> location.
> > > > 
> > > > If your data is in decimal degrees, then the
> > units
> > > > of pixel size are in
> > > > decimal degrees.  The values specified by the
> > user
> > > > should be the size of
> > > > each pixel in degrees of latitude and degrees
> of
> > > > longitude.  It is
> > > > unusual for raster data to be in decimal
> > degrees,
> > > so
> > > > make sure that is
> > > > correct.  Most raster data is projected.
> > > > 
> > > > 	- Ed
> > > > 
> > > > Ed McNierney
> > > > President and Chief Mapmaker
> > > > TopoZone.com / Maps a la carte, Inc.
> > > > 73 Princeton Street, Suite 305
> > > > North Chelmsford, MA  01863
> > > > Phone: (978) 251-4242  Fax: (978) 251-1396
> > > > ed@topozone.com
> > > > 
> > > > 
> > > > -----Original Message-----
> > > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > > > Sent: Tuesday, March 18, 2003 10:42 AM
> > > > To: gdal-dev@remotesensing.org
> > > > Subject: RE: [Gdal-dev] saving GeoTiff
> > > > 
> > > > 1.
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From ed at topozone.com  Wed Mar 19 12:55:53 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] saving GeoTiff
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3FDF@mercator.topozone.com>

Ayman -

You should ask that question to the developer of the viewing program you are using.  It's entirely up to that program to decide what data it uses or does not use when displaying an image.

	- Ed

-----Original Message-----
From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
Sent: Wednesday, March 19, 2003 11:11 AM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] saving GeoTiff


Maybe I misleaded you with my words,
what I want to know clearly is the answer to this
question:

The data saved in the geotiff file (other than raster
data) is data that specifies the coordinate location,
and this can appear clearly in the grid lines of long
and lat that some viewers show,

BUT this coordinate data, doesn't affect by any means
the raster data or how it is viewed.

AND what is mentioned in the geotiff specification
about geo keys and geo data, is about the data that is
saved in the geotiff file which is extracted to show
the coordinate grids only.


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> YOU need to take the time to understand the viewing
> software you are using.  Read the documentation and
> understand what it is supposed to do.  Then, if you
> find your images do not work as you expect, you can
> explain what the problem seems to be.
> 
> If you find that an image appears different using
> two different viewers, first take time to understand
> what those viewers do and how they display images. 
> It is certainly possible that two different viewers
> will display the same image two different ways;
> that's not surprising at all, and probably has
> nothing to do with GDAL.
> 
> 	- Ed
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> Sent: Wednesday, March 19, 2003 10:50 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 
> Sir,
> What I want to make sure about is, if I don't care
> about showing a grid for coordinates(long,lat), then
> If I just take the raster data out of the geotiff
> file, this will be adequate?
> 
> If we say yes for the above question, then if I open
> a
> geotiff file and just read the raster data, I should
> get the same view I have when opening it using a
> GeoTiff viewer, 
> 
> BUT what I notices when I started search about 
> 
> GeoTiff, when opening geotiff files with ordinary
> image viwers(not supporting geotiff) they showed the
> image differnt from it appears in geotiff viewrs.
> 
> Can you PLEASE explain to me?
> 
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > What do you expect to see?  Many viewers will load
> > an image and display the entire image on the
> screen,
> > or display the upper-left portion at 100% zoom -
> one
> > pixel on the screen for each input pixel in the
> > image.  Both of these views are independent of the
> > geographic coordinates or the pixel size, so
> > changing those values won't change the image. 
> They
> > WILL change the coordinate information (for things
> > like the "size and values of grids", so your
> > description sounds exactly like what I would
> expect
> > to see.
> > 
> > 	- Ed
> > 
> > Ed McNierney
> > President and Chief Mapmaker
> > TopoZone.com / Maps a la carte, Inc.
> > 73 Princeton Street, Suite 305
> > North Chelmsford, MA  01863
> > ed@topozone.com
> > (978) 251-4242 
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > Sent: Wednesday, March 19, 2003 10:34 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 
> > Now, after I saved several GeoTiff files using
> > "gdal_translate" source as a program to modify the
> > settings of Geo data, I don't know what is the
> value
> > of the geo data saved???
> > 
> > By changing the values of adfGeoTransform[]
> elemets:
> > 
> > *I change the top left corner (longitude,
> lattitude)
> > *I change the pixel size
> > 
> > and when I open the image using different viewers,
> I
> > get the same image no matter what the values are,
> > the
> > only change I see is the size and values of grids
> of
> > lattitude and longitude lines.
> > 
> > But how the imaage looks, or the height data that
> > some
> > viewers show, are all unchanged.
> > 
> > Can you explain to me??
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > Since you mention "latitude and longitude", I
> will
> > > assume your data is
> > > unprojected and in decimal degrees.  If so, then
> > the
> > > "projection" is
> > > usually called "unprojected" or "geographic" -
> you
> > > need the datum and
> > > the latitude and longitude to define a location.
> > > 
> > > If your data is in decimal degrees, then the
> units
> > > of pixel size are in
> > > decimal degrees.  The values specified by the
> user
> > > should be the size of
> > > each pixel in degrees of latitude and degrees of
> > > longitude.  It is
> > > unusual for raster data to be in decimal
> degrees,
> > so
> > > make sure that is
> > > correct.  Most raster data is projected.
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > Phone: (978) 251-4242  Fax: (978) 251-1396
> > > ed@topozone.com
> > > 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com] 
> > > Sent: Tuesday, March 18, 2003 10:42 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: RE: [Gdal-dev] saving GeoTiff
> > > 
> > > 1.
> > > sorry sir if I was wrong when calling "NAD83",..
> 
> > > coordinate systems, but I referred to 
> > >
> >
>
http://gdal.velocet.ca/projects/opengis/ogrhtml/osr_tutorial.html
> > > 
> > > where it mentions exactly:
> > > "The OGRSpatialReference has built in support
> for
> > a
> > > few well known coordinate systems, which include
> > > "NAD27", "NAD83", "WGS72" and "WGS84....."
> > > 
> > > 
> > > 2. I changed the pixel size by changing the
> values
> > > of
> > > adfGeoTransform[1]//horizental pixel size
> > > adfGeoTransform[5]//vertical pixel size
> > > 
> > > in "gdal_translate" code.
> > > 
> > > I am sure that the pixel size was changed, as I
> > > opened
> > > the images in other softwares and noticed that
> the
> > > size of the grid cells has changed accordingly.
> > > 
> > > 3. Anyway, what I want simply is as follows:
> > > I want to show a dialog the user that contains
> the
> > > parametes he/she must fill to be able to
> generate
> > a
> > > correct GeoTiff image,
> > > -I figuered out that I will ask him/her to
> choose
> > > one
> > > of "NAD83","NAD27","WGS72","WGS84"
> > > -Ask him/her about the latitude and longitude of
> > top
> > > left corner
> > > -Ask him/her about pixel size, and I mention the
> > > unit
> > > of size, so what does DATUM mean, and if he
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From kamal_jo at yahoo.com  Thu Mar 20 11:05:32 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1221F3FDF@mercator.topozone.com>
Message-ID: <20030320160532.31966.qmail@web41114.mail.yahoo.com>

Sorry, but your answer didn't help me.
What I wanted to know simply is
If I convert a GeoTiff file to a BMP file using
"gdal_translate"

Is the data that I will get in t the resulting BMP
file is just the raster data found in the GeoTiff
file, or does the geotiff data saved in the GeoTiff
file affect how the resulting BMP file will look like?


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> You should ask that question to the developer of the
> viewing program you are using.  It's entirely up to
> that program to decide what data it uses or does not
> use when displaying an image.
> 
> 	- Ed
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> Sent: Wednesday, March 19, 2003 11:11 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 
> Maybe I misleaded you with my words,
> what I want to know clearly is the answer to this
> question:
> 
> The data saved in the geotiff file (other than
> raster
> data) is data that specifies the coordinate
> location,
> and this can appear clearly in the grid lines of
> long
> and lat that some viewers show,
> 
> BUT this coordinate data, doesn't affect by any
> means
> the raster data or how it is viewed.
> 
> AND what is mentioned in the geotiff specification
> about geo keys and geo data, is about the data that
> is
> saved in the geotiff file which is extracted to show
> the coordinate grids only.
> 
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > YOU need to take the time to understand the
> viewing
> > software you are using.  Read the documentation
> and
> > understand what it is supposed to do.  Then, if
> you
> > find your images do not work as you expect, you
> can
> > explain what the problem seems to be.
> > 
> > If you find that an image appears different using
> > two different viewers, first take time to
> understand
> > what those viewers do and how they display images.
> 
> > It is certainly possible that two different
> viewers
> > will display the same image two different ways;
> > that's not surprising at all, and probably has
> > nothing to do with GDAL.
> > 
> > 	- Ed
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > Sent: Wednesday, March 19, 2003 10:50 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 
> > Sir,
> > What I want to make sure about is, if I don't care
> > about showing a grid for coordinates(long,lat),
> then
> > If I just take the raster data out of the geotiff
> > file, this will be adequate?
> > 
> > If we say yes for the above question, then if I
> open
> > a
> > geotiff file and just read the raster data, I
> should
> > get the same view I have when opening it using a
> > GeoTiff viewer, 
> > 
> > BUT what I notices when I started search about 
> > 
> > GeoTiff, when opening geotiff files with ordinary
> > image viwers(not supporting geotiff) they showed
> the
> > image differnt from it appears in geotiff viewrs.
> > 
> > Can you PLEASE explain to me?
> > 
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > What do you expect to see?  Many viewers will
> load
> > > an image and display the entire image on the
> > screen,
> > > or display the upper-left portion at 100% zoom -
> > one
> > > pixel on the screen for each input pixel in the
> > > image.  Both of these views are independent of
> the
> > > geographic coordinates or the pixel size, so
> > > changing those values won't change the image. 
> > They
> > > WILL change the coordinate information (for
> things
> > > like the "size and values of grids", so your
> > > description sounds exactly like what I would
> > expect
> > > to see.
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > ed@topozone.com
> > > (978) 251-4242 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > > Sent: Wednesday, March 19, 2003 10:34 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: RE: [Gdal-dev] saving GeoTiff
> > > 
> > > 
> > > Now, after I saved several GeoTiff files using
> > > "gdal_translate" source as a program to modify
> the
> > > settings of Geo data, I don't know what is the
> > value
> > > of the geo data saved???
> > > 
> > > By changing the values of adfGeoTransform[]
> > elemets:
> > > 
> > > *I change the top left corner (longitude,
> > lattitude)
> > > *I change the pixel size
> > > 
> > > and when I open the image using different
> viewers,
> > I
> > > get the same image no matter what the values
> are,
> > > the
> > > only change I see is the size and values of
> grids
> > of
> > > lattitude and longitude lines.
> > > 
> > > But how the imaage looks, or the height data
> that
> > > some
> > > viewers show, are all unchanged.
> > > 
> > > Can you explain to me??
> > > 
> > > --- Ed McNierney <ed@topozone.com> wrote:
> > > > Ayman -
> > > > 
> > > > Since you mention "latitude and longitude", I
> > will
> > > > assume your data is
> > > > unprojected and in decimal degrees.  If so,
> then
> > > the
> > > > "projection" is
> > > > usually called "unprojected" or "geographic" -
> > you
> > > > need the datum and
> > > > the latitude and longitude to define a
> location.
> > > > 
> > > > If your data is in decimal degrees, then the
> > units
> > > > of pixel size are in
> > > > decimal degrees.  The values specified by the
> > user
> > > > should be the size of
> > > > each pixel in degrees of latitude and degrees
> of
> > > > longitude.  It is
> > > > unusual for raster data to be in decimal
> > degrees,
> > > so
> > > > make sure that is
> > > > correct.  Most raster data is projected.
> > > > 
> > > > 	- Ed
> > > > 
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From ed at topozone.com  Thu Mar 20 11:17:35 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] saving GeoTiff
Message-ID: <13858AA1A74F30419F319ACB66A9D1221F3FF8@mercator.topozone.com>

Ayman -

It seems from your earlier emails that you already have done this and you know the answer to your question.  You have reported that changing only the georeference data in the GeoTIFF does not change the appearance of the BMP file, correct?

You're being a little confusing in saying "the raster data" when it seems that you mean "the BMP file generated by gdal_translate".  There's raster data in the GeoTIFF file, and when you ask "does changing the georeference data modify the raster data", I assume you're talking about the raster data inside the GeoTIFF file.

	- Ed

-----Original Message-----
From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
Sent: Thursday, March 20, 2003 11:06 AM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] saving GeoTiff


Sorry, but your answer didn't help me.
What I wanted to know simply is
If I convert a GeoTiff file to a BMP file using
"gdal_translate"

Is the data that I will get in t the resulting BMP
file is just the raster data found in the GeoTiff
file, or does the geotiff data saved in the GeoTiff
file affect how the resulting BMP file will look like?


--- Ed McNierney <ed@topozone.com> wrote:
> Ayman -
> 
> You should ask that question to the developer of the
> viewing program you are using.  It's entirely up to
> that program to decide what data it uses or does not
> use when displaying an image.
> 
> 	- Ed
> 
> -----Original Message-----
> From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> Sent: Wednesday, March 19, 2003 11:11 AM
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] saving GeoTiff
> 
> 
> Maybe I misleaded you with my words,
> what I want to know clearly is the answer to this
> question:
> 
> The data saved in the geotiff file (other than
> raster
> data) is data that specifies the coordinate
> location,
> and this can appear clearly in the grid lines of
> long
> and lat that some viewers show,
> 
> BUT this coordinate data, doesn't affect by any
> means
> the raster data or how it is viewed.
> 
> AND what is mentioned in the geotiff specification
> about geo keys and geo data, is about the data that
> is
> saved in the geotiff file which is extracted to show
> the coordinate grids only.
> 
> 
> --- Ed McNierney <ed@topozone.com> wrote:
> > Ayman -
> > 
> > YOU need to take the time to understand the
> viewing
> > software you are using.  Read the documentation
> and
> > understand what it is supposed to do.  Then, if
> you
> > find your images do not work as you expect, you
> can
> > explain what the problem seems to be.
> > 
> > If you find that an image appears different using
> > two different viewers, first take time to
> understand
> > what those viewers do and how they display images.
> 
> > It is certainly possible that two different
> viewers
> > will display the same image two different ways;
> > that's not surprising at all, and probably has
> > nothing to do with GDAL.
> > 
> > 	- Ed
> > 
> > -----Original Message-----
> > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > Sent: Wednesday, March 19, 2003 10:50 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE: [Gdal-dev] saving GeoTiff
> > 
> > 
> > Sir,
> > What I want to make sure about is, if I don't care
> > about showing a grid for coordinates(long,lat),
> then
> > If I just take the raster data out of the geotiff
> > file, this will be adequate?
> > 
> > If we say yes for the above question, then if I
> open
> > a
> > geotiff file and just read the raster data, I
> should
> > get the same view I have when opening it using a
> > GeoTiff viewer, 
> > 
> > BUT what I notices when I started search about 
> > 
> > GeoTiff, when opening geotiff files with ordinary
> > image viwers(not supporting geotiff) they showed
> the
> > image differnt from it appears in geotiff viewrs.
> > 
> > Can you PLEASE explain to me?
> > 
> > 
> > --- Ed McNierney <ed@topozone.com> wrote:
> > > Ayman -
> > > 
> > > What do you expect to see?  Many viewers will
> load
> > > an image and display the entire image on the
> > screen,
> > > or display the upper-left portion at 100% zoom -
> > one
> > > pixel on the screen for each input pixel in the
> > > image.  Both of these views are independent of
> the
> > > geographic coordinates or the pixel size, so
> > > changing those values won't change the image. 
> > They
> > > WILL change the coordinate information (for
> things
> > > like the "size and values of grids", so your
> > > description sounds exactly like what I would
> > expect
> > > to see.
> > > 
> > > 	- Ed
> > > 
> > > Ed McNierney
> > > President and Chief Mapmaker
> > > TopoZone.com / Maps a la carte, Inc.
> > > 73 Princeton Street, Suite 305
> > > North Chelmsford, MA  01863
> > > ed@topozone.com
> > > (978) 251-4242 
> > > 
> > > -----Original Message-----
> > > From: Ayman Kamal [mailto:kamal_jo@yahoo.com]
> > > Sent: Wednesday, March 19, 2003 10:34 AM
> > > To: gdal-dev@remotesensing.org
> > > Subject: RE: [Gdal-dev] saving GeoTiff
> > > 
> > > 
> > > Now, after I saved several GeoTiff files using
> > > "gdal_translate" source as a program to modify
> the
> > > settings of Geo data, I don't know what is the
> > value
> > > of the geo data saved???
> > > 
> > > By changing the values of adfGeoTransform[]
> > elemets:
> > > 
> > > *I change the top left corner (longitude,
> > lattitude)
> > > *I change the pixel size
> > > 
> > > and when I open the image using different
> viewers,
> > I
> > > get the same image no matter what the values
> are,
> > > the
> > > only change I see is the size and values of
> grids
> > of
> > > lattitude and longitude lines.
> > > 
> > > But how the imaage looks, or the height data
> that
> > > some
> > > viewers show, are all unchanged.
> > > 
> > > Can you explain to me??
> > > 
> > > --- Ed McNierney <ed@topozone.com> wrote:
> > > > Ayman -
> > > > 
> > > > Since you mention "latitude and longitude", I
> > will
> > > > assume your data is
> > > > unprojected and in decimal degrees.  If so,
> then
> > > the
> > > > "projection" is
> > > > usually called "unprojected" or "geographic" -
> > you
> > > > need the datum and
> > > > the latitude and longitude to define a
> location.
> > > > 
> > > > If your data is in decimal degrees, then the
> > units
> > > > of pixel size are in
> > > > decimal degrees.  The values specified by the
> > user
> > > > should be the size of
> > > > each pixel in degrees of latitude and degrees
> of
> > > > longitude.  It is
> > > > unusual for raster data to be in decimal
> > degrees,
> > > so
> > > > make sure that is
> > > > correct.  Most raster data is projected.
> > > > 
> > > > 	- Ed
> > > > 
> 
=== message truncated ===


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From s.perkins at lanl.gov  Thu Mar 20 14:18:18 2003
From: s.perkins at lanl.gov (Simon Perkins)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] saving GeoTiff
In-Reply-To: <20030320160532.31966.qmail@web41114.mail.yahoo.com>
References: <20030320160532.31966.qmail@web41114.mail.yahoo.com>
Message-ID: <1048187898.28174.20.camel@afreet.lanl.gov>

On Thu, 2003-03-20 at 09:05, Ayman Kamal wrote:
> Sorry, but your answer didn't help me.
> What I wanted to know simply is
> If I convert a GeoTiff file to a BMP file using
> "gdal_translate"
> 
> Is the data that I will get in t the resulting BMP
> file is just the raster data found in the GeoTiff
> file, or does the geotiff data saved in the GeoTiff
> file affect how the resulting BMP file will look like?

Ayman,

It might help to clarify a few basic concepts:

- Image formats that support geo-referenced data (e.g. GeoTIFF, HFA,
etc) contain two pieces of information:

  * A "raster" containing one or more rectangular bands of image pixels.

  * Geo-reference data specifying such things as location of the corners
of the image in some specified coordinate frame.

- Image formats that don't generally support geo-referenced information
(e.g. GIF, JPEG, TIFF) contain just the raster data.

- A GeoTIFF file is simply a regular TIFF file, with additional special
keywords that indicate geo-referencing information. These keywords are
ignored by applications that understand TIFF files, but don't have any
special knowledge of GeoTIFF.

- In general mage viewing software may, or may not, make use of any
geo-referencing data (if present), when deciding how to display the
raster of pixels in an image file. So a geo-referenced GeoTIFF file may
look different in different viewers.

- If you convert from a geo-referenced format (e.g. GeoTIFF) to a format
that does not support geo-referencing (e.g. GIF) then you may well just
be copying the raster data from one file to another, and the
geo-referencing information will not change the raster information at
all. This is the default behavior for gdal_translate, but I think you
can do some image-reprojection with appropriate options.

- I believe that the BMP format under GDAL supports geo-referencing only
through the creation of a separate worldfile (but I could be way off
target here).


Your questions to date seem to reflect a misunderstanding of one or more
of the above points, so please try to reformulate your question in the
above terms, and there might be chance that someone can help you.

Cheers,

Sy





From warmerdam at pobox.com  Thu Mar 20 15:48:13 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] OGR JOIN and INDEX support
Message-ID: <3E7A290D.6070105@pobox.com>

Folks,

I think I emailed a while ago about plans to implementing some degree of
attribute indexing and support for attribute joins through OGR.  This work
is now complete, and committed to CVS. I have documented these features
and the rest of "OGR SQL" (the limited SQL available for all non-RDBMS
formats) at the page:

   http://gdal.velocet.ca/projects/opengis/ogrhtml/ogr_sql.html

Let me know if anyone has questions.  Note that the attribute indexing
support is currently only implemented for the Shapefile driver.

This capability is also accesable via MapServer now as MapServer's "OGR"
support now has the ability to use an OGR "SQL" query as the layer source.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Thu Mar 20 17:14:21 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Obect Structure Changes
Message-ID: <3E7A3D3D.1060508@pobox.com>

Folks,

Changes have been made in gdal/core, and gdal/ogr that would require a clean
recompile on updates from CVS.  Please keep this in mind if updating from CVS.

Note that the GDALRasterBand will now give a report on "cache thrashing" if
CPL_DEBUG is enabled.  The report is only made if more block reads are made
against a band then there are block in the band (indicating that some must
have been re-read).  The message (issued when the raster band is destroyed)
looks like this:

Thu Mar 20 17:09:35 2003: GDAL: 5609 block reads on 4356 block band 1 of in.tif.

This is part of work Andrey and I are doing on performance tuning for GDAL.
One important aspect of performance tuning is understanding when cache
thrashing is happening and ensuring that effective use is made of caching
imagery in memory.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Thu Mar 20 17:50:16 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] INDEX/JOIN Performance
Message-ID: <3E7A45A8.1030604@pobox.com>

Paul / Daniel,

I thought I should do a little performance testing on the indexing for joins.
The results show that the join does add alot of overhead to very simple
queries but that overall throughput is still pretty respectable.

Files:
primary.dbf: 300000 records each with one integer key field.
secondary.dbf: 1000000 records each with on integer key field.

warmerda@gdal2200[506]% time ogrinfo -ro . -sql 'select * from primary' > & wrk3
2.423u 0.177s 0:02.85 90.8%     0+0k 0+0io 1336pf+0w
warmerda@gdal2200[510]% time ogrinfo -ro . -sql 'select * from primary left join secondary on primary.skey = 
secondary.key' > & wrk2
13.662u 7.660s 0:21.42 99.5%    0+0k 0+0io 1337pf+0w
warmerda@gdal2200[511]% ls -l
total 56848
-rw-r--r--    1 warmerda users     3600065 Mar 20 17:37 primary.dbf
-rw-r--r--    1 warmerda users        1146 Mar 20 17:37 ptest.py
-rw-r--r--    1 warmerda users    12000065 Mar 20 17:27 secondary.dbf
-rw-r--r--    1 warmerda users         222 Mar 20 17:30 secondary.idm
-rw-r--r--    1 warmerda users    17066496 Mar 20 17:41 secondary.ind

In short, the query without doing the join took 2.4s wall time.
The query with the join took 22s wall time.  This was to process all
300000 records in the primary file.  Joining 3000000 records against
another table in 22s isn't bad.

The primary keys were essentially random so the the page in memory from
the .ind file was essentially never the right one. I don't know it for
a fact, but for this situation I believe the reading of the .ind file pages
on each request was likely the dominant factor with the join case.

Performance without the index was of course terrible.  One or two records
produced per second since it had to search through all of secondary.dbf for
each primary record processed.

I ran a second test with the same sized files, but the primary keys were
in the same order as the secondary, so there was a large degree of
"cache hits" as far as the index file and the secondary file were
concerned.  This took 11.4s wall time.  Substantially better than the
random access case, but not yet coming close to the unjoined case.  In
an idealized world the best we could hope for in the joined case would
be double the time of the unjoined case (assuming the indexing was in all
senses free and worked perfectly).  As it turns out, even in this case
about 50% of the CPU time is index lookup work.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From sylvain_duclos at yahoo.com  Fri Mar 21 10:47:39 2003
From: sylvain_duclos at yahoo.com (s duclos)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Newbie question
In-Reply-To: <3E775B1F.8080500@pobox.com>
Message-ID: <20030321154739.54766.qmail@web12504.mail.yahoo.com>

--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Charlie Van Dusen wrote:

[...]

> Most (all?) BSB charts uses a set of control points,
> and often they don't
> desribe a perfect north up coordinate system.  I
> don't know if this is because
> they are produced by scaning charts or what.

I'm maybe late on this ... 

If the BSB chart is a mercator then the convention
is north up.

I'm not mutch into BSB so maybe when you say
"don't desribe a perfect north up" 
you mean that in a mathematical sens.

But if you mean that the error is greater then
what should be expected then a think there is
problem.

I think that CHS paper chart are printed from NTX
data format. Don't know how this data is translated
to BSB thought.


Sylvain.


> 
> The solution is to resample the charts into a north
> up coordinate system.
> The simpliest way to do this is something like:
> 
> gdalwarp 999501.KAP 999501.tif
> 
> This basically warps the chart based on it's control
> points.  The
> transformation in minimal in most cases, but the
> result is a perfectly
> north-up image that ArcExplorer can hopefully
> process.
> 
> The caveat is this, the gdalwarp program (till this
> afternoon) did not
> copy a color table to the output file.  I have
> corrected this in CVS.
> If you are up to building GDAL yourself, you should
> be able to grab
> the CVS snapshot tomorrow, build from source, and
> then use gdalwarp.
> Otherwise you will have to wait for the next binary
> release.  I have
> no fixed timetable for that.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From jlawhead at nvisionsolutions.com  Fri Mar 21 10:54:19 2003
From: jlawhead at nvisionsolutions.com (jlawhead@nvisionsolutions.com)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Out of the Office
Message-ID: <dbhp400dbn0fpai.210320030954@mail.nvisionsolutions.com>

I am out of the office from the 21rst of March through 
the 26th of March.

If you need to reach me emergently please call our corporate 
cell  phone: 228-342-8395.

I will be checking my email periodically while on travel.

Thank You.


From warmerdam at pobox.com  Fri Mar 21 11:35:54 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Newbie question
In-Reply-To: <20030321154739.54766.qmail@web12504.mail.yahoo.com>
References: <20030321154739.54766.qmail@web12504.mail.yahoo.com>
Message-ID: <3E7B3F6A.2050000@pobox.com>

s duclos wrote:
> If the BSB chart is a mercator then the convention
> is north up.
> 
> I'm not mutch into BSB so maybe when you say
> "don't desribe a perfect north up" 
> you mean that in a mathematical sens.
> 
> But if you mean that the error is greater then
> what should be expected then a think there is
> problem.
> 
> I think that CHS paper chart are printed from NTX
> data format. Don't know how this data is translated
> to BSB thought.

Sylvain,

The BSB files contain a set of control points, normally referencing
locations on the chart to WGS84 lat/long locations as far as I can tell.
I am unable to derive an low error (less than one pixel) affine geotransform
from these control points.

Perhaps the problem is that I am ignoring the projection information.  Perhaps
if I can parse the projections properly, I could reproject the control points
into the projection in question and generate an affine transformation.

I don't know when I will get to this. Despite the considerable interest I
have received from people about BSB format, no paying customer of mine has
ever expressed any interest in the format!  Tha means work on it mostly
comes after paid work.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Sun Mar 23 10:26:40 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] problem with converting GeoTiff to BMP
In-Reply-To: <3E7A290D.6070105@pobox.com>
Message-ID: <20030323152640.8423.qmail@web41111.mail.yahoo.com>

I have a GeoTiff file with the following data
generated from "gdalinfo". I converted this file using
"gdal_translate" to a bmp file, it appeared as all
white, but when I chose to call

"poVRTBand->AddSimpleSource"

instead of

"poVRTBand->AddComplexSource"

it worked,

Can you tell me why?

--------------------------------------------------
Driver: GTiff/GeoTIFF
Size is 375, 473
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["NAD27",
        DATUM["North_American_Datum_1927",
            SPHEROID["Clarke
1866",6378206.4,294.9786982139006,
                AUTHORITY["EPSG","7008"]],
            AUTHORITY["EPSG","6267"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4267"]],
    AUTHORITY["EPSG","26715"],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-93],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["unknown",1]]
Origin = (716880.000000,4305960.000000)
Pixel Size = (30.000000,-30.000000)
Corner Coordinates:
Upper Left  (  716880.000, 4305960.000) (
90d29'59.67"W, 38d52'39.45"N)
Lower Left  (  716880.000, 4291770.000) (
90d30'15.74"W, 38d44'59.53"N)
Upper Right (  728130.000, 4305960.000) (
90d22'13.25"W, 38d52'29.20"N)
Lower Right (  728130.000, 4291770.000) (
90d22'30.16"W, 38d44'49.33"N)
Center      (  722505.000, 4298865.000) (
90d26'14.71"W, 38d48'44.44"N)
Band 1 Block=375x1 Type=Float32, ColorInterp=Gray
-----------------------------------------------------

__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From jlawhead at nvisionsolutions.com  Sun Mar 23 10:30:48 2003
From: jlawhead at nvisionsolutions.com (jlawhead@nvisionsolutions.com)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Out of the Office
Message-ID: <ocp3jzteijqnl17.230320030930@mail.nvisionsolutions.com>

I am out of the office from the 21rst of March through 
the 26th of March.

If you need to reach me emergently please call our corporate 
cell  phone: 228-342-8395.

I will be checking my email periodically while on travel.

Thank You.


From nhv at cape.com  Sun Mar 23 11:12:43 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] problem with converting GeoTiff to BMP
In-Reply-To: <20030323152640.8423.qmail@web41111.mail.yahoo.com>
Message-ID: <EKEJIKAILPONGGENMBGAGEMECOAA.nhv@cape.com>

Ayman Kamal writes:
> 
> I have a GeoTiff file with the following data
> generated from "gdalinfo". I converted this file using
> "gdal_translate" to a bmp file, it appeared as all
> white, but when I chose to call
> 
> "poVRTBand->AddSimpleSource"
> 
> instead of
> 
> "poVRTBand->AddComplexSource"
> 
> it worked,
> 
> Can you tell me why?
> 
> --------------------------------------------------
> Driver: GTiff/GeoTIFF
....
> Band 1 Block=375x1 Type=Float32, ColorInterp=Gray

only 1 Band  is a  "SIMPLE SOURCE"

HTH

Norman

From kamal_jo at yahoo.com  Sun Mar 23 11:47:39 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] problem with converting GeoTiff to BMP
In-Reply-To: <EKEJIKAILPONGGENMBGAGEMECOAA.nhv@cape.com>
Message-ID: <20030323164739.61775.qmail@web41106.mail.yahoo.com>

I have tested many geotiff files, all of them had a
result of (Band 1 ) using "gdalinfo", but all of them
worked properly using "AddComplexSource"

--- Norman Vine <nhv@cape.com> wrote:
> Ayman Kamal writes:
> > 
> > I have a GeoTiff file with the following data
> > generated from "gdalinfo". I converted this file
> using
> > "gdal_translate" to a bmp file, it appeared as all
> > white, but when I chose to call
> > 
> > "poVRTBand->AddSimpleSource"
> > 
> > instead of
> > 
> > "poVRTBand->AddComplexSource"
> > 
> > it worked,
> > 
> > Can you tell me why?
> > 
> > --------------------------------------------------
> > Driver: GTiff/GeoTIFF
> ....
> > Band 1 Block=375x1 Type=Float32, ColorInterp=Gray
> 
> only 1 Band  is a  "SIMPLE SOURCE"
> 
> HTH
> 
> Norman
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From warmerdam at pobox.com  Sun Mar 23 12:25:36 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] problem with converting GeoTiff to BMP
In-Reply-To: <20030323152640.8423.qmail@web41111.mail.yahoo.com>
References: <20030323152640.8423.qmail@web41111.mail.yahoo.com>
Message-ID: <3E7DEE10.4060609@pobox.com>

Ayman Kamal wrote:
> I have a GeoTiff file with the following data
> generated from "gdalinfo". I converted this file using
> "gdal_translate" to a bmp file, it appeared as all
> white, but when I chose to call
> 
> "poVRTBand->AddSimpleSource"
> 
> instead of
> 
> "poVRTBand->AddComplexSource"
> 
> it worked,

Ayman,

Since the primary difference between AddComplexSource() and AddSimpleSource()
is that the complex case includes scaling information, I would *guess* that
you passed in incorrect scaling information.  Of course, there is nowhere
near enough information in your "bug report" to determine what is going wrong
with any authority.  There could even be a bug in GDAL!

If you want serious answers you should work on developing your question
asking skills.  If I ran into the same situation with someone elses library
I would either:

1) reproduce the problem with gdal_translate, and report the bug
in bugzilla *with* the input data to reproduce it and a fairly detailed
explanation of what I think is wrong with the result

or if I couldn't do that, fallback to:

2) Write a minimal C/C++ program that demonstrates the problem (and the
correct alternate behaviour with AddSimpleSource()), bundle it up with small
test data to demonstrate the problem and email the list with a link to the
package demonstrating the problem.

It is clear that your understanding of GDAL is growing and I now have a
greater appreciation that you are a serious developer willing to spend some
time on this.  However the rate you ask questions and the incompleteness of
them is frustrating to me and others who are generally willing to respond.
In short, you are sucking up a disproportionate amount of the good-will
question answering on the list.

Keep asking, but please make every effort to figure stuff out yourself first,
and when you do ask question make ever effort to be considerate of possible
question answerers time.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From schut at sarvision.com  Tue Mar 25 11:32:12 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] line to polygon with ogr2ogr?
Message-ID: <200303251732.12939.schut@sarvision.com>

Just to be really sure I thought I'd ask...:

Is it possible to convert a line (multiline) shapefile to a polygon shapefile 
using ogr2ogr?
I have a shapefile (I did not create myself, of course...) which was for some 
(none) reason saved as line, but should be polygon. All lines are closed as 
far as I could see, but the type is just wrong and I can't add it to my main 
polygon table for this theme in postgis. Can I change this with ogr2ogr, or 
do I need some other trick?

Regards,
-- 
______________________________________
Vincent Schut (schut@sarvision.com)
Sarvision B.V.
Wageningen, The Netherlands
www.sarvision.com

From jlawhead at nvisionsolutions.com  Tue Mar 25 11:35:55 2003
From: jlawhead at nvisionsolutions.com (jlawhead@nvisionsolutions.com)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Out of the Office
Message-ID: <eouyh6nqu6tr7xe.250320031035@mail.nvisionsolutions.com>

I am out of the office from the 21rst of March through 
the 26th of March.

If you need to reach me emergently please call our corporate 
cell  phone: 228-342-8395.

I will be checking my email periodically while on travel.

Thank You.


From warmerdam at pobox.com  Tue Mar 25 11:42:18 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] line to polygon with ogr2ogr?
In-Reply-To: <200303251732.12939.schut@sarvision.com>
References: <200303251732.12939.schut@sarvision.com>
Message-ID: <3E8086EA.8090301@pobox.com>

Vincent Schut wrote:
> Just to be really sure I thought I'd ask...:
> 
> Is it possible to convert a line (multiline) shapefile to a polygon shapefile 
> using ogr2ogr?
> I have a shapefile (I did not create myself, of course...) which was for some 
> (none) reason saved as line, but should be polygon. All lines are closed as 
> far as I could see, but the type is just wrong and I can't add it to my main 
> polygon table for this theme in postgis. Can I change this with ogr2ogr, or 
> do I need some other trick?

Vincent,

This can't be fixed with ogr2ogr.  It could, in theory, be fixed with a
python script as long as the dataset isn't too extraordinarily large, or
it could be fixed in a C/C++ program.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From schut at sarvision.com  Tue Mar 25 11:50:51 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] line to polygon with ogr2ogr?
In-Reply-To: <200303251732.12939.schut@sarvision.com>
References: <200303251732.12939.schut@sarvision.com>
Message-ID: <200303251750.51860.schut@sarvision.com>

Of course I should have added that I tried it, but it gave me an error:

vincent@STROOPWAFEL:~/indo_mof_gis/2000/Kalsel> ogr2ogr -nlt MULTIPOLYGON 
newahph.shp ahph.shp
ERROR 1: Attempt to write non-polygon (LINESTRING) geometry to  type 
shapefile.
ERROR 1: Terminating translation prematurely after failed
translation of layer ahph



On Tuesday 25 March 2003 17:32, Vincent Schut wrote:
> Just to be really sure I thought I'd ask...:
>
> Is it possible to convert a line (multiline) shapefile to a polygon
> shapefile using ogr2ogr?
> I have a shapefile (I did not create myself, of course...) which was for
> some (none) reason saved as line, but should be polygon. All lines are
> closed as far as I could see, but the type is just wrong and I can't add it
> to my main polygon table for this theme in postgis. Can I change this with
> ogr2ogr, or do I need some other trick?
>
> Regards,

-- 
______________________________________
Vincent Schut (schut@sarvision.com)
Sarvision B.V.
Wageningen, The Netherlands
www.sarvision.com

From garvank at optech.on.ca  Tue Mar 25 15:11:40 2003
From: garvank at optech.on.ca (Garvan Keeley)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Crash in VC++ in GDALClose(VRTDataset*)
Message-ID: <11E3973D1E78D311A5B400508B4A70CE01151ADA@COMSRVR>

Hi,
I am trying to use some of the code from gdal_translate, but I found it was
crashing when built under Visual Studio .Net (unmanaged C++).

Here is a small C++ console app that crashes in the function GDALClose().
Any idea what might be causing this?


// assume library paths and linker options are set correctly
// i.e. add the gdal source tree to additional include dirs and
// gdal_i.lib added to linker dependencies

#include "gdal.h"
#include "frmts\vrt\vrtdataset.h"

int _tmain(int argc, _TCHAR* argv[])
{
	VRTDataset* poVDS = new VRTDataset( 100, 100 );
	GDALClose( (GDALDatasetH) poVDS );

/*
The above function crashes with an "Unhandled exception" when the VRTDataset
pointer is deleted (at line 336 of gdalopen.cpp):

    for( i = 0; i < nSharedDatasetCount; i++ )
    {
	...
          delete poDS; <-- crashes here
 	...
    }
*/

	return 0;
}


Garvan Keeley
Programmer/Analyst
http://www.optech.on.ca
Tel: 416.661.5904 x441

From warmerdam at pobox.com  Tue Mar 25 15:38:02 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Crash in VC++ in GDALClose(VRTDataset*)
In-Reply-To: <11E3973D1E78D311A5B400508B4A70CE01151ADA@COMSRVR>
References: <11E3973D1E78D311A5B400508B4A70CE01151ADA@COMSRVR>
Message-ID: <3E80BE2A.40808@pobox.com>

Garvan Keeley wrote:
> Hi,
> I am trying to use some of the code from gdal_translate, but I found it was
> crashing when built under Visual Studio .Net (unmanaged C++).
> 
> Here is a small C++ console app that crashes in the function GDALClose().
> Any idea what might be causing this?
> 
> 
> // assume library paths and linker options are set correctly
> // i.e. add the gdal source tree to additional include dirs and
> // gdal_i.lib added to linker dependencies
> 
> #include "gdal.h"
> #include "frmts\vrt\vrtdataset.h"
> 
> int _tmain(int argc, _TCHAR* argv[])
> {
> 	VRTDataset* poVDS = new VRTDataset( 100, 100 );
> 	GDALClose( (GDALDatasetH) poVDS );


Garvan,

I have tried this on Linux under valgrind and it is fine.  I presume the
problem is that you are allocating the VRTDataset in your main, which will
use one "heap".  Then you free it in GDALClose() which uses the heap assigned
to the GDAL11.DLL.

I would suggest instead that you change "GDALClose((GDALDatasetH) poVDS );"
to "delete poVDS;".

Note, there are ways to build GDAL and your main application so they both
use the C runtime library for allocations and deallocations (effectively
operating against the same heap) but I don't know the details of how that
is accomplished.  Perhaps others could comment.

I have had lots of problems in the past with mixing new/delete calls
between mainlines and the GDAL library.  A more common case is where an
object is allocated in the library and then destroyed with "delete" in
the mainline.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From sbrooks2 at kc.rr.com  Tue Mar 25 22:50:56 2003
From: sbrooks2 at kc.rr.com (Steve Brooks)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Crash in VC++ in GDALClose(VRTDataset*)
In-Reply-To: <3E80BE2A.40808@pobox.com>
Message-ID: <000401c2f34a$eadd0d00$7e01a8c0@pc5120d>

Garvan,

 To use the same heaps in GDAL and Visual C++, I have edited nmake.opt

For debug mode OPTFLAGS is

OPTFLAGS= /MDd /W3 /Gm /GX /ZI /Od /D "_MBCS" /D "WIN32" /D "_DEBUG"
/Fd$(GDAL_ROOT)\gdal.pdb

For release mode OPTFLAGS is 

OPTFLAGS=	/MD /W3 /GX /Zi /O2 /D "WIN32" /D "NDEBUG" /D "_WINDOWS"
/D "_MBCS" 

The important switchs are /MDd and /MD.

Perform a full rebuild on GDAL with debug and release.

Then in your application make sure on the Project property pages you are
using 
the Code Generation Settings for the Runtime library as

Multi-threaded Debug DLL (/MDd) for Debug
Multi-threaded DLL (/MD) for Release

Also, if you are using a binary release of GDAL instead of rebuilding
it,
you maybe running into different heaps from different compiler versions
between GDAL and the your Project.  It would be better to build it
yourself.

You don't have to use the Multi-threaded DLL Runtime libraries, but you
do need to use the sameone as in GDAL as your Project if you are going
to be
Allocating memory in one and freeing it in the other.

Hope this helps.

Steve Brooks.



-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Frank Warmerdam
Sent: Tuesday, March 25, 2003 2:38 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Crash in VC++ in GDALClose(VRTDataset*)


Garvan Keeley wrote:
> Hi,
> I am trying to use some of the code from gdal_translate, but I found 
> it was crashing when built under Visual Studio .Net (unmanaged C++).
> 
> Here is a small C++ console app that crashes in the function 
> GDALClose(). Any idea what might be causing this?
> 
> 
> // assume library paths and linker options are set correctly // i.e. 
> add the gdal source tree to additional include dirs and // gdal_i.lib 
> added to linker dependencies
> 
> #include "gdal.h"
> #include "frmts\vrt\vrtdataset.h"
> 
> int _tmain(int argc, _TCHAR* argv[])
> {
> 	VRTDataset* poVDS = new VRTDataset( 100, 100 );
> 	GDALClose( (GDALDatasetH) poVDS );


Garvan,

I have tried this on Linux under valgrind and it is fine.  I presume the
problem is that you are allocating the VRTDataset in your main, which
will use one "heap".  Then you free it in GDALClose() which uses the
heap assigned to the GDAL11.DLL.

I would suggest instead that you change "GDALClose((GDALDatasetH) poVDS
);" to "delete poVDS;".

Note, there are ways to build GDAL and your main application so they
both use the C runtime library for allocations and deallocations
(effectively operating against the same heap) but I don't know the
details of how that is accomplished.  Perhaps others could comment.

I have had lots of problems in the past with mixing new/delete calls
between mainlines and the GDAL library.  A more common case is where an
object is allocated in the library and then destroyed with "delete" in
the mainline.

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev



From jlawhead at nvisionsolutions.com  Tue Mar 25 22:53:25 2003
From: jlawhead at nvisionsolutions.com (jlawhead@nvisionsolutions.com)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Out of the Office
Message-ID: <f0d2j434fo1nefy.250320032153@mail.nvisionsolutions.com>

I am out of the office from the 21rst of March through 
the 26th of March.

If you need to reach me emergently please call our corporate 
cell  phone: 228-342-8395.

I will be checking my email periodically while on travel.

Thank You.


From schut at sarvision.com  Wed Mar 26 02:59:58 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] line to polygon with ogr2ogr?
In-Reply-To: <3E8086EA.8090301@pobox.com>
References: <200303251732.12939.schut@sarvision.com> <3E8086EA.8090301@pobox.com>
Message-ID: <200303260859.58466.schut@sarvision.com>

On Tuesday 25 March 2003 17:42, Frank Warmerdam wrote:
> Vincent Schut wrote:
> > Just to be really sure I thought I'd ask...:
> >
> > Is it possible to convert a line (multiline) shapefile to a polygon
> > shapefile using ogr2ogr?
> > I have a shapefile (I did not create myself, of course...) which was for
> > some (none) reason saved as line, but should be polygon. All lines are
> > closed as far as I could see, but the type is just wrong and I can't add
> > it to my main polygon table for this theme in postgis. Can I change this
> > with ogr2ogr, or do I need some other trick?
>
> Vincent,
>
> This can't be fixed with ogr2ogr.  It could, in theory, be fixed with a
> python script as long as the dataset isn't too extraordinarily large, or
> it could be fixed in a C/C++ program.

Thanks Frank,
I just needed this confirmation to be completely sure that I wouldn't miss the 
easiest way...

Vincent.
>
> Best regards,

-- 
______________________________________
Vincent Schut (schut@sarvision.com)
Sarvision B.V.
Wageningen, The Netherlands
www.sarvision.com

From garvank at optech.on.ca  Wed Mar 26 11:04:19 2003
From: garvank at optech.on.ca (Garvan Keeley)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Crash in VC++ in GDALClose(VRTDataset*)
Message-ID: <11E3973D1E78D311A5B400508B4A70CE01151C87@COMSRVR>

Hi,
I rebuilt the GDAL library as Steve suggested (with the appropriate /MD
switch, ensuring it matched the options for my project) and the problem is
solved.

Frank, I forget to mention that I had tried deleting the VRTDataset pointer
locally and the same error was reported. With the rebuild, the pointer can
be deleted locally or by GDALClose() without an error.

Thanks to you both,
Garvan Keeley
Programmer/Analyst
http://www.optech.on.ca
Tel: 416.661.5904 x441

From jlawhead at nvisionsolutions.com  Wed Mar 26 11:04:31 2003
From: jlawhead at nvisionsolutions.com (jlawhead@nvisionsolutions.com)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Out of the Office
Message-ID: <filexxgrstz2wp5.260320031004@mail.nvisionsolutions.com>

I am out of the office from the 21rst of March through 
the 26th of March.

If you need to reach me emergently please call our corporate 
cell  phone: 228-342-8395.

I will be checking my email periodically while on travel.

Thank You.


From s.perkins at lanl.gov  Wed Mar 26 12:08:37 2003
From: s.perkins at lanl.gov (Simon Perkins)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Large File Support in GDAL?
Message-ID: <001301c2f3ba$58991810$0200000a@cuticle>

Hi,

I know I've seen some discussion of this topic before, but can someone
tell me what the current situation is regarding suppport for large image
files (> 4GB) in GDAL? Which formats, if any, support such large files?
Is there a limit in GDAL? Or just in the drivers? Or in the OS? And is
it necessary to be running on a 64-bit processor/OS to get large file
support?

Cheers!

Sy



From dron at ak4719.spb.edu  Wed Mar 26 14:17:00 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Large File Support in GDAL?
In-Reply-To: <001301c2f3ba$58991810$0200000a@cuticle>
References: <001301c2f3ba$58991810$0200000a@cuticle>
Message-ID: <20030326191700.GA13082@ak4719.spb.edu>

Hi, Simon,

On Wed, Mar 26, 2003 at 10:08:37AM -0700, Simon Perkins wrote:
> I know I've seen some discussion of this topic before, but can someone
> tell me what the current situation is regarding suppport for large image
> files (> 4GB) in GDAL? Which formats, if any, support such large files?
> Is there a limit in GDAL? Or just in the drivers? Or in the OS? And is
> it necessary to be running on a 64-bit processor/OS to get large file
> support?

Not all GDAL drivers are tested for large files support, but some are
known to work. Large files supported by the HFA (Erdas Imagine) and ENVI
drivers. Other dirvers may work as well, but it should be tested. Most
drivers use wrapper I/O calls implemented in /port/cpl_vsisimple.cpp,
/port/cpl_vsil_unix_stdio_64.cpp, /port/cpl_vsil_win32.cpp. But not all
of them are properly tested and sometimes calls from simple and large
APIs mixed in the driver and it results in crashes in Windows
environment. I shall try to clarify this issue shortly and test most
drivers.

You should remember that some file formats has size limits. For example,
TIFF files cannot be larger than 4GB (in fact, you can create larger
files using special tricks, but it is simpler just think that you can't
do it).

Of course, OS support is a keystone for determining I/O capabilities.
Below I just quote my notes from gdal_building.html:

``GDAL supports reading and writing large files (> 2GiB) if it is possible
in your operating system. Notes about large file support in Linux available
here: http://www.suse.de/~aj/linux_lfs.html. In short: if you have kernel
2.4.x and glibc 2.2.x your are in luck. Maximum file size depends on
cluster size. For ext2 filesystem with 1 KiB clusters it is 16448
MiB, for ext2 with 4 KiB clusters it is 2048 GiB. Other filesystems can
handle even larger files.

Information about large file support in Windows could be obtained at
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/fileio/base/supported_file_systems.asp.
In short, maximum file size at NTFS is limited by (2^64 - 1) bytes, at
FAT32 and FAT16 it is (2^32 - 1) bytes. So don't try to create files,
larger than 4 GiB on FAT32. In some cases you will not get an error
message during jumping over 4GiB barrier, but all your data will be lost.
This is not GDAL bug, this is Windows problem.''

					Best regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From ben at vterrain.org  Wed Mar 26 16:50:42 2003
From: ben at vterrain.org (VTP)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Mysterious "geod_datum.csv"
In-Reply-To: <3E5AF853.6050909@pobox.com>
Message-ID: <IHEAIHOJLJNLHCKGKJEDCENDCBAA.ben@vterrain.org>

In the file: gdal/frmts/gtiff/gt_wkt_srs.cpp
In the method: OGCDatumName2EPSGDatumCode()

It appears to look for and use a file "geod_datum.csv".

But, this file is not found in gdal/data.

Is it a missing datafile, or perhaps i am looking at old code?

Thanks,
Ben


From warmerdam at pobox.com  Wed Mar 26 17:14:48 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Mysterious "geod_datum.csv"
In-Reply-To: <IHEAIHOJLJNLHCKGKJEDCENDCBAA.ben@vterrain.org>
References: <IHEAIHOJLJNLHCKGKJEDCENDCBAA.ben@vterrain.org>
Message-ID: <3E822658.3040107@pobox.com>

VTP wrote:
> In the file: gdal/frmts/gtiff/gt_wkt_srs.cpp
> In the method: OGCDatumName2EPSGDatumCode()
> 
> It appears to look for and use a file "geod_datum.csv".
> 
> But, this file is not found in gdal/data.
> 
> Is it a missing datafile, or perhaps i am looking at old code?

Ben,

Err, ahh ...

This appears to have been a mistake in the upgrade to EPSG 6.2.2.  I have
modified gt_wkt_srs.cpp to use datum.csv instead of geod_datum.csv now.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From oystein.bedin at gold.sdsmt.edu  Wed Mar 26 17:42:50 2003
From: oystein.bedin at gold.sdsmt.edu (=?ISO-8859-1?Q?=D8ystein?= Bedin)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
Message-ID: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>

I've compiled the GDAL library with HDF4 support in Linux RedHat 8.0.
When I try to run any of the gdal apps. (e.g: gdal_info) I get this
error message:
"Error while loading shared libraries: libgdal.1.1.so: cannot open
shared object file: No such file or directory."

Seems like the make process is going as it is supposed to - no errors.

Any suggestions about what the problem might be?

Thanks
- ?ystein





From dron at ak4719.spb.edu  Thu Mar 27 01:52:30 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
In-Reply-To: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>
References: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>
Message-ID: <20030327065230.GA3169@ak4719.spb.edu>

> "Error while loading shared libraries: libgdal.1.1.so: cannot open
> shared object file: No such file or directory."
> 
> Seems like the make process is going as it is supposed to - no errors.
> 
> Any suggestions about what the problem might be?

Do you complete all building steps, including `make install' and
`ldconfig' after all?

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From oystein.bedin at gold.sdsmt.edu  Thu Mar 27 03:01:30 2003
From: oystein.bedin at gold.sdsmt.edu (=?iso-8859-1?Q?=D8ystein_Bedin?=)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
References: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu> <20030327065230.GA3169@ak4719.spb.edu>
Message-ID: <000501c2f437$13b0d5d0$6601a8c0@parkdrace>

The only build-instructions I found is on this page:
http://www.remotesensing.org/gdal/gdal_building.html

I couldn't find anything about 'make install' and 'ldconfig' there... So if
there's something I'm missing here -please tell me.

This is what I did:
./configure --with-hdf4=/hdf
make

I tried to run the make install aftwards - I still get the same error:
"Error while loading shared libraries: libgdal.1.1.so: cannot open shared
object file: No such file or directory."

Thanks
- ?ystein



----- Original Message -----
From: "Andrey Kiselev" <dron@ak4719.spb.edu>
To: <gdal-dev@remotesensing.org>
Sent: Wednesday, March 26, 2003 11:52 PM
Subject: Re: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so


> > "Error while loading shared libraries: libgdal.1.1.so: cannot open
> > shared object file: No such file or directory."
> >
> > Seems like the make process is going as it is supposed to - no errors.
> >
> > Any suggestions about what the problem might be?
>
> Do you complete all building steps, including `make install' and
> `ldconfig' after all?
>
> Regards,
> Andrey
>
> --
> Andrey V. Kiselev
> Home phone:  +7 812 5274898  ICQ# 26871517
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
>


From jlawhead at nvisionsolutions.com  Thu Mar 27 03:03:08 2003
From: jlawhead at nvisionsolutions.com (jlawhead@nvisionsolutions.com)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Out of the Office
Message-ID: <emdw72j2wp2rnlb.270320030203@mail.nvisionsolutions.com>

I am out of the office from the 21rst of March through 
the 26th of March.

If you need to reach me emergently please call our corporate 
cell  phone: 228-342-8395.

I will be checking my email periodically while on travel.

Thank You.


From dron at ak4719.spb.edu  Thu Mar 27 03:32:19 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
In-Reply-To: <000501c2f437$13b0d5d0$6601a8c0@parkdrace>
References: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu> <20030327065230.GA3169@ak4719.spb.edu> <000501c2f437$13b0d5d0$6601a8c0@parkdrace>
Message-ID: <20030327083219.GA3674@ak4719.spb.edu>

On Thu, Mar 27, 2003 at 01:01:30AM -0700, ?ystein Bedin wrote:
> The only build-instructions I found is on this page:
> http://www.remotesensing.org/gdal/gdal_building.html
> 
> I couldn't find anything about 'make install' and 'ldconfig' there... So if
> there's something I'm missing here -please tell me.

Yes, this is instructions for building, not for installation ;-)
Usual way to first time compiling on Linux is:

./configure
make
make install
ldconfig

> This is what I did:
> ./configure --with-hdf4=/hdf

Do you really have HDF library installed in root directory?


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From schut at sarvision.com  Thu Mar 27 03:35:40 2003
From: schut at sarvision.com (Vincent Schut)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
In-Reply-To: <000501c2f437$13b0d5d0$6601a8c0@parkdrace>
References: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu> <20030327065230.GA3169@ak4719.spb.edu> <000501c2f437$13b0d5d0$6601a8c0@parkdrace>
Message-ID: <200303270935.40039.schut@sarvision.com>

?ystein,

some hints / checks to perform:
- if you do a new compile, usually the best thing is to do this entire set of 
instructions (inside the gdal source dir):
	make distclean (this cleans up all your old object files *and* you old 
configuration options)
	./configure --with-your-options
	check the ouput of ./configure to see whether really all your options were 
included. The mere fact that ./configure did not give any errors is no 
guaranty for this. It might be that GDAL configured OK but leaved out one of 
your options because it could not find something...
	make
	make install (if make ran without errors).
	ldconfig (to tell the dynamic library loader to check the library directories 
for new or changed libraries, like your just compiled libgdal.1.1.so.
This is the usual command sequence for compiling and installing a 
program/library in linux, and sometimes it is too easily assumed that anybody 
knows that...
- is the directory where libgdal.1.1.so is placed (usually /usr/local/lib) in 
the path of the dynamic library? '/usr/local/lib' should either be in the 
file /etc/ld.so.conf, or in the environment variable 'LD_LIBRARY_PATH' (type 
'echo $LD_LIBRARY_PATH'  at the shell command line to check this). If not, 
add it to one of them. Remember that, when you choose to use the environment 
variable, this will be lost after your session. If you want to have it 
persistent, put the line to add it to the variable somewhere in a script that 
is called at each startup/login for the appropriate user. Or use 
/etc/ld.so.conf.
- you can check which dynamically linked libraries a program or other library 
needs by issuing the following command at the shell prompt: ldd 
<programname>. If programname is your program that needs gdal, you will see 
this referenced. This is merely to make sure the error is not somewhere else. 

Probably the first two items of this list will enable you to get things 
working. Oh, and make sure you don't have two versions of the same library at 
two different places, like /usr/lib and /usr/local/lib... But this probably 
won't be the problem in your case, as the linker would find a library then, 
but usually it finds the wrong one...

Regards,
Vincent Schut.
	


On Thursday 27 March 2003 09:01, ?ystein Bedin wrote:
> The only build-instructions I found is on this page:
> http://www.remotesensing.org/gdal/gdal_building.html
>
> I couldn't find anything about 'make install' and 'ldconfig' there... So if
> there's something I'm missing here -please tell me.
>
> This is what I did:
> ./configure --with-hdf4=/hdf
> make
>
> I tried to run the make install aftwards - I still get the same error:
> "Error while loading shared libraries: libgdal.1.1.so: cannot open shared
> object file: No such file or directory."
>
> Thanks
> - ?ystein
>
>
>
> ----- Original Message -----
> From: "Andrey Kiselev" <dron@ak4719.spb.edu>
> To: <gdal-dev@remotesensing.org>
> Sent: Wednesday, March 26, 2003 11:52 PM
> Subject: Re: [Gdal-dev] Error while loading shared libraries:
> libgdal.1.1.so
>
> > > "Error while loading shared libraries: libgdal.1.1.so: cannot open
> > > shared object file: No such file or directory."
> > >
> > > Seems like the make process is going as it is supposed to - no errors.
> > >
> > > Any suggestions about what the problem might be?
> >
> > Do you complete all building steps, including `make install' and
> > `ldconfig' after all?
> >
> > Regards,
> > Andrey
> >
> > --
> > Andrey V. Kiselev
> > Home phone:  +7 812 5274898  ICQ# 26871517
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@remotesensing.org
> > http://remotesensing.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev

-- 
______________________________________
Vincent Schut (schut@sarvision.com)
Sarvision B.V.
Wageningen, The Netherlands
www.sarvision.com

From warmerdam at pobox.com  Thu Mar 27 07:24:33 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
In-Reply-To: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>
References: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>
Message-ID: <3E82ED81.1080106@pobox.com>

?ystein Bedin wrote:
> I've compiled the GDAL library with HDF4 support in Linux RedHat 8.0.
> When I try to run any of the gdal apps. (e.g: gdal_info) I get this
> error message:
> "Error while loading shared libraries: libgdal.1.1.so: cannot open
> shared object file: No such file or directory."
> 
> Seems like the make process is going as it is supposed to - no errors.
> 
> Any suggestions about what the problem might be?

?ystein,

Have you done a "make install"?  If so, is /usr/local/lib in your
LD_LIBRARY_PATH?  If not, is the base directory of the GDAL build
tree (containing the libgdal.1.1.so file) in your LD_LIBRARY_PATH?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From oystein.bedin at gold.sdsmt.edu  Thu Mar 27 14:05:35 2003
From: oystein.bedin at gold.sdsmt.edu (=?ISO-8859-1?Q?=D8ystein?= Bedin)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Error while loading shared libraries: libgdal.1.1.so
In-Reply-To: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>
References: <1048718570.9686.54.camel@modis.mcs.sdsmt.edu>
Message-ID: <1048791936.30353.3.camel@modis.mcs.sdsmt.edu>

I got it to work...

As several of you suggested, the LD_LIBRARY_PATH didn't contain the path
to where I had the library. Now I got that fixed, and I'm able to run
the programs - the support for HDF4 is also working!

Thanks to you all!
 - ?ystein





On Wed, 2003-03-26 at 15:42, ?ystein Bedin wrote:
> I've compiled the GDAL library with HDF4 support in Linux RedHat 8.0.
> When I try to run any of the gdal apps. (e.g: gdal_info) I get this
> error message:
> "Error while loading shared libraries: libgdal.1.1.so: cannot open
> shared object file: No such file or directory."
> 
> Seems like the make process is going as it is supposed to - no errors.
> 
> Any suggestions about what the problem might be?
> 
> Thanks
> - ?ystein
> 
> 
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev



From morissette at dmsolutions.ca  Thu Mar 27 17:22:17 2003
From: morissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] GDAL configure
Message-ID: <3E837999.DDE85D54@dmsolutions.ca>

Frank,

I upgraded GDAL from CVS a few minutes ago and noticed that the
configure script gives a few times the warning 'rm: core is a
directory'.  I suspect that this is because you started using a new
version of autoconf recently.  I reran autoconf (v2.13) locally and the
message goes away for me.

I'm not sure what could/should be done about this, but I just thought I
would let you (and the list) know in case someone runs into problems
where the gdal/core directory suddenly disappears.  I've heard of a few
other issues on other developers lists related to the most recent
versions of autoconf, almost sounds like this package is moving
backwards.

Regards,

Daniel
-- 
------------------------------------------------------------
 Daniel Morissette               morissette@dmsolutions.ca
 DM Solutions Group              http://www.dmsolutions.ca/
------------------------------------------------------------

From warmerdam at pobox.com  Thu Mar 27 21:19:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] GDAL configure
In-Reply-To: <3E837999.DDE85D54@dmsolutions.ca>
References: <3E837999.DDE85D54@dmsolutions.ca>
Message-ID: <3E83B147.40202@pobox.com>

Daniel Morissette wrote:
> Frank,
> 
> I upgraded GDAL from CVS a few minutes ago and noticed that the
> configure script gives a few times the warning 'rm: core is a
> directory'.  I suspect that this is because you started using a new
> version of autoconf recently.  I reran autoconf (v2.13) locally and the
> message goes away for me.
> 
> I'm not sure what could/should be done about this, but I just thought I
> would let you (and the list) know in case someone runs into problems
> where the gdal/core directory suddenly disappears.  I've heard of a few
> other issues on other developers lists related to the most recent
> versions of autoconf, almost sounds like this package is moving
> backwards.

Daniel,

Argg.  I know.  I *like* the name core for my core services but one of
these days the autoconf magic will drive me over the edge and I will rename
it.

On an unrelated note, I am delivering the WCTS server shortly, but I am
a little concerned about not compromising the security on Brian Low's
server.  What steps to you folks normally take to ensure you aren't
providing web applications and servers that can be compromised?  Obviously
my WCTS server won't be a popular target for hackers, but if someone knows it
is running on a particular machine they could grab the source and work out
an attack.  Given the amount of parsing by cpl_minixml, and the processing
of arbitrary coordinate system definitions, it seems likely there might be
"issues".

What do you think?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Sun Mar 30 07:08:05 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] DVF file format
In-Reply-To: <3E83B147.40202@pobox.com>
Message-ID: <20030330120805.80627.qmail@web41114.mail.yahoo.com>

Are you willing to support DVF file format?

If no, do you have any idea about this file format, or
about available SDK for this file format?

DVF is a file format used for still images, it stands
for DV Studio Camcorder Graphics file.

Anyway, I found applications that open this fie format
like PictureGear, I hope that you can help me.

__________________________________________________
Do you Yahoo!?
Yahoo! Platinum - Watch CBS' NCAA March Madness, live on your desktop!
http://platinum.yahoo.com

From warmerdam at pobox.com  Sun Mar 30 10:38:11 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] DVF file format
In-Reply-To: <20030330120805.80627.qmail@web41114.mail.yahoo.com>
References: <20030330120805.80627.qmail@web41114.mail.yahoo.com>
Message-ID: <3E870F63.7040306@pobox.com>

Ayman Kamal wrote:
> Are you willing to support DVF file format?
> 
> If no, do you have any idea about this file format, or
> about available SDK for this file format?
> 
> DVF is a file format used for still images, it stands
> for DV Studio Camcorder Graphics file.
> 
> Anyway, I found applications that open this fie format
> like PictureGear, I hope that you can help me.


Ayman,

I don't know this format, and have no plans to support it at this time.
If you wanted to implement a driver for it I would likely included it in
the standard GDAL distribution.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Mar 31 10:52:40 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] OGR WCTS (Web Coordinate Transformation Service)
Message-ID: <3E886448.7030008@pobox.com>

Folks,

As part of a project with DM Solutions Group for Forestry Canada I have
implemented a WCTS (Web Coordinate Transformation Service).  This is a
prototype based on a specification still under development within the
OpenGIS Consortium ... not a published standard.

Basically the service allows a client application to submit XML requests to
a server to transform GML vector files into a new coordinate system.  It is
implemented as a cgi-bin using OGRSpatialReference and
OGRCoordinateTransformation classes (PROJ.4 is used under the covers).

I have a server running on my home system if people want to try stuff out, and
there is also an HTML form for those who don't like hand-coding XML HTTP
requests.

The code is all in gdal/ogr/wcts.

Side effects of this project include:
  o A re-implementation of the OGRSpatialReference XML import/export functions
    to match more closely with the GML CRS spec likely to be adopted shortly
    (03-010r3).
  o Implementation of NTv2 support in PROJ.4 for higher precision NAD27/83
    datum shifting in Canada.
  o A fairly detailed security audit to the "minixml" code in CPL, as well as
    support other library functions used to support the service.

More information is available at:

   http://gdal.velocet.ca/projects/wcts/

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From nhv at cape.com  Mon Mar 31 17:00:08 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Cygwin CVS errors
In-Reply-To: <3E886448.7030008@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAOECIDAAA.nhv@cape.com>

Hi all,

Trying to build GDAL CVS today with Cygwin I get the errors below

On further investigation I find

from ograssemblepolygon.cpp
OGRPolygon *OGRBuildPolygonFromEdges( ... )

and from ogr_api.h:
OGRGeometryH CPL_DLL OGRBuildPolygonFromEdges( ... )

Any advice appreciated

TIA

Norman


g++ -shared -o ./cyggdal.1.1.dll \
-Wl,--out-implib=libgdal.1.1.dll.a \
-Wl,--export-all-symbols \
        -Wl,--allow-multiple-definition \
-Wl,--enable-auto-import \
-Wl,--whole-archive ./gdal.a ./port/cpl.a \
-Wl,--no-whole-archive  ./ogr/ogr.a ./ogr/ogrsf_frmts/ogrsf_frmts.a
./ogr/ogr.a \
        -Wl,--no-whole-archive  -L/usr/lib -lpq -lm -lm -L/usr/local/lib -lm
fhdf  -lhdfeos -ldf
Creating library file: libgdal.1.1.dll.a
./ogr/ogrsf_frmts/ogrsf_frmts.a(ogravcbinlayer.o)(.text+0x849):ogravcbinlaye
r.cpp: undefined reference to `_OGRBuildPoly
gonFromEdges'
./ogr/ogrsf_frmts/ogrsf_frmts.a(ogrdgnlayer.o)(.text+0x120f):ogrdgnlayer.cpp
: undefined reference to `_OGRBuildPolygonFr
omEdges'
./ogr/ogrsf_frmts/ogrsf_frmts.a(s57reader.o)(.text+0x2d44):s57reader.cpp:
undefined reference to `_OGRBuildPolygonFromEd
ges'
./ogr/ogrsf_frmts/ogrsf_frmts.a(ntffilereader.o)(.text+0x3f8a):ntffilereader
.cpp: undefined reference to `_OGRBuildPolyg
onFromEdges'
collect2: ld returned 1 exit status
make: *** [cyggdal.1.1.dll] Error 1



From morissette at dmsolutions.ca  Mon Mar 31 17:17:00 2003
From: morissette at dmsolutions.ca (Daniel Morissette)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Cygwin CVS errors
References: <EKEJIKAILPONGGENMBGAOECIDAAA.nhv@cape.com>
Message-ID: <3E88BE5C.58D086DF@dmsolutions.ca>

I got the same undefined symbol error on Linux earlier today and gave up
thinking that my build environment might have been screwed up.  So it
wasn't just me.. I'll wait for the fix then.  ;-)

Daniel


Norman Vine wrote:
> 
> Hi all,
> 
> Trying to build GDAL CVS today with Cygwin I get the errors below
> 
> On further investigation I find
> 
> from ograssemblepolygon.cpp
> OGRPolygon *OGRBuildPolygonFromEdges( ... )
> 
> and from ogr_api.h:
> OGRGeometryH CPL_DLL OGRBuildPolygonFromEdges( ... )
> 
> Any advice appreciated
> 
> TIA
> 
> Norman
> 
> g++ -shared -o ./cyggdal.1.1.dll \
> -Wl,--out-implib=libgdal.1.1.dll.a \
> -Wl,--export-all-symbols \
>         -Wl,--allow-multiple-definition \
> -Wl,--enable-auto-import \
> -Wl,--whole-archive ./gdal.a ./port/cpl.a \
> -Wl,--no-whole-archive  ./ogr/ogr.a ./ogr/ogrsf_frmts/ogrsf_frmts.a
> ./ogr/ogr.a \
>         -Wl,--no-whole-archive  -L/usr/lib -lpq -lm -lm -L/usr/local/lib -lm
> fhdf  -lhdfeos -ldf
> Creating library file: libgdal.1.1.dll.a
> ./ogr/ogrsf_frmts/ogrsf_frmts.a(ogravcbinlayer.o)(.text+0x849):ogravcbinlaye
> r.cpp: undefined reference to `_OGRBuildPoly
> gonFromEdges'
> ./ogr/ogrsf_frmts/ogrsf_frmts.a(ogrdgnlayer.o)(.text+0x120f):ogrdgnlayer.cpp
> : undefined reference to `_OGRBuildPolygonFr
> omEdges'
> ./ogr/ogrsf_frmts/ogrsf_frmts.a(s57reader.o)(.text+0x2d44):s57reader.cpp:
> undefined reference to `_OGRBuildPolygonFromEd
> ges'
> ./ogr/ogrsf_frmts/ogrsf_frmts.a(ntffilereader.o)(.text+0x3f8a):ntffilereader
> .cpp: undefined reference to `_OGRBuildPolyg
> onFromEdges'
> collect2: ld returned 1 exit status
> make: *** [cyggdal.1.1.dll] Error 1
> 
> _______________________________________________

From warmerdam at pobox.com  Mon Mar 31 21:11:01 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:49 2007
Subject: [Gdal-dev] Cygwin CVS errors
In-Reply-To: <EKEJIKAILPONGGENMBGAOECIDAAA.nhv@cape.com>
References: <EKEJIKAILPONGGENMBGAOECIDAAA.nhv@cape.com>
Message-ID: <3E88F535.8000207@pobox.com>

Norman Vine wrote:
> Hi all,
> 
> Trying to build GDAL CVS today with Cygwin I get the errors below
> 
> On further investigation I find
> 
> from ograssemblepolygon.cpp
> OGRPolygon *OGRBuildPolygonFromEdges( ... )
> 
> and from ogr_api.h:
> OGRGeometryH CPL_DLL OGRBuildPolygonFromEdges( ... )
> 
> Any advice appreciated

Norman,

I am not sure why this would have arisen recently, but I have added
ogr/ograssemblepolygon.o to the list of files forcably included in
the shared library.  This change is in GDALmake.opt.in so you will need
to update it from CVS, and re-run config.status.

Let me know if this doesn't resolve the problem.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



