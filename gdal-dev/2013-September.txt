From nicholas.g.lawrence at tmr.qld.gov.au  Sun Sep  1 19:46:14 2013
From: nicholas.g.lawrence at tmr.qld.gov.au (nicholas.g.lawrence at tmr.qld.gov.au)
Date: Mon, 2 Sep 2013 12:46:14 +1000
Subject: [gdal-dev] Fw:  GDAL for windows
Message-ID: <OFBDB48911.3BDFB7E1-ON4A257BDA.000F18B4-4A257BDA.000F3814@tmr.qld.gov.au>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130902/f2e41d9b/attachment.html>

From Ismael.BELAAOUAD at circet.fr  Sun Sep  1 23:01:33 2013
From: Ismael.BELAAOUAD at circet.fr (Ismael BELAAOUAD)
Date: Mon, 2 Sep 2013 06:01:33 +0000
Subject: [gdal-dev] TR: Load GDALDataset Into DIB
In-Reply-To: <522231EF.1080902@stripfamily.net>
References: <48BACD2DFBC9B248B827A22708A9AEC11DCBB1CD@SRV-EX.circet.net>
	<48BACD2DFBC9B248B827A22708A9AEC11DCBB2A1@SRV-EX.circet.net>
	<521FC119.1040504@stripfamily.net>
	<48BACD2DFBC9B248B827A22708A9AEC11DCBB2FD@SRV-EX.circet.net>
	<52215A0C.5020202@stripfamily.net>
	<48BACD2DFBC9B248B827A22708A9AEC11DCBB4EC@SRV-EX.circet.net>
	<522231EF.1080902@stripfamily.net>
Message-ID: <48BACD2DFBC9B248B827A22708A9AEC11DCBB55F@SRV-EX.circet.net>

Hi David,

I have tested both solutions.
They work but finally I use another to improve performances.
I read the entire dataset with RasterIO and I reverse it when I display it with StretchDIBits function.

Best regards


De : David Strip [mailto:gdal at stripfamily.net]
Envoy? : samedi 31 ao?t 2013 20:12
? : Ismael BELAAOUAD
Objet : Re: [gdal-dev] TR: Load GDALDataset Into DIB

glad to be of help.
Just curious -
did you read one scan line at a time, or did you read the whole array and reverse it?

(And your English is great - far better than my French.)

On 8/31/2013 11:50 AM, Ismael BELAAOUAD wrote:
Hi David,
Thank you for your response.
It's working!
Best regards

De : David Strip [mailto:gdal at stripfamily.net]
Envoy? : samedi 31 ao?t 2013 04:51
? : Ismael BELAAOUAD
Objet : Re: [gdal-dev] TR: Load GDALDataset Into DIB

In your code you write:




               else

               {

                       for ( int iBand = 1 ,nBandsRead = 0 ; iBand <= nBands ; iBand ++ )

                       {

                               int iColorOffset;

                               switch( poDataset->GetRasterBand(iBand)->GetColorInterpretation() )

                               {

                                              // BGR

                                      case GCI_RedBand :

                                              iColorOffset = 2;

                                              break;

                                      case GCI_GreenBand :

                                              iColorOffset = 1;

                                              break;

                                      case GCI_BlueBand :

                                              iColorOffset = 0;

                                              break;

                                      default :

                                              continue ;

                               }

                               gdErr = poDataset->GetRasterBand(iBand)->RasterIO(

                                           GF_Read , 0 ,0 , poDataset->GetRasterXSize(), poDataset->GetRasterYSize(),

                                           ((LPBYTE)pBits) + iColorOffset ,bmi.Header.biWidth,bmi.Header.biHeight,

                                           GDT_Byte, 3, nScanSize );

                               nBandsRead ++;

                       }



The key is the GetRasterBand call. By passing in poDataset->GetRasterYSize(), you are asking to read all the rows of the raster. If you look at the example in the GDAL tutorial<http://www.gdal.org/gdal_tutorial.html>, only one scan line at a time is being read -



        float *pafScanline;

        int   nXSize = poBand->GetXSize<http://www.gdal.org/classGDALRasterBand.html#a46f78e79da622039a670107ae5a94f02>();



        pafScanline = (float *) CPLMalloc(sizeof(float)*nXSize);

        poBand->RasterIO<http://www.gdal.org/classGDALRasterBand.html#a5497e8d29e743ee9177202cb3f61c3c7>( GF_Read<http://www.gdal.org/gdal_8h.html#ae602fdf251b6b0210a5af5a7cf7623b3ab2abfe1fa6e34018b8c692eb48f35cb5>, 0, 0, nXSize, 1,

                          pafScanline, nXSize, 1, GDT_Float32<http://www.gdal.org/gdal_8h.html#a22e22ce0a55036a96f652765793fb7a4af5cbd2f96abffd9ac061fc0dced5cbba>,

                          0, 0 );


In order to read the data in reverse order, you need to read one scan line at a time. Start with the last scan line, read it into the DIB array (pBits), then increment pBits by the size of the scan line, and read the next scan line.

Perhaps a simpler way at the expense of using more memory, is to read the array just as you are doing, then allocate a new array and copy the original array in reverse order. You then need to associate the second (reversed) array with your bitmap.

Hope this helps.













-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130902/67143ebf/attachment-0001.html>

From jukka.rahkonen at mmmtike.fi  Sun Sep  1 23:37:31 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon, 2 Sep 2013 06:37:31 +0000 (UTC)
Subject: [gdal-dev] Fw:  GDAL for windows
References: <OFBDB48911.3BDFB7E1-ON4A257BDA.000F18B4-4A257BDA.000F3814@tmr.qld.gov.au>
Message-ID: <loom.20130902T083018-454@post.gmane.org>

 <nicholas.g.lawrence <at> tmr.qld.gov.au> writes:

> 
> 
> Hello all,I would like to translate an OSM .pbf file to MapInfo .tab, I am
running Windows XPI downloaded release-1310-gdal-1-10-mapserver-6-2.zip from
http://www.gisinternals.com/sdk/?and unzipped the files to "C:\Program
Files\GDAL"I then ran SDKShell.bat to get a command line; and thenran the
command "ogr2ogr -f "MapInfo File" "C:\DATA\2013\08\osm2\australia.tab"
"C:\DATA\2013\08\osm2\australia-latest.osm.pbf""An empty mapinfo table
australia.tab was created, and the error message was;"Layer lines not found,
and CreateLayer not supported by driver."Kind regards,
> Nick Lawrence

Hi,

GDAL finds up to five layers from OSM files as you can read from
http://www.gdal.org/ogr/drv_osm.html.
The error message suggests that GDAL MapInfo driver cannot create several
layers into tab file but by reading http://www.gdal.org/ogr/drv_mitab.html I
am not sure if it is so. However, my guess is that GDAL converts first OSM
points layer into tab format but quits because it cannot continue with the
lines layer. The solution is to make conversion layer by layer like
"ogr2ogr -f "MapInfo File" "C:\DATA\2013\08\osm2\australia_lines.tab"
"C:\DATA\2013\08\osm2\australia-latest.osm.pbf lines"

-Jukka Rahkonen-


From CABO at NIRAS.DK  Mon Sep  2 00:01:36 2013
From: CABO at NIRAS.DK (=?iso-8859-1?Q?Casper_B=F8rgesen_=28CABO=29?=)
Date: Mon, 2 Sep 2013 07:01:36 +0000
Subject: [gdal-dev] Change of DECIMAL_PRECISION in AAIGrid
Message-ID: <BCF6B63AE0B25941A7F56567B58A28056B36C41B@allkexa1.NIRAS.INT>

Hi list!

I have just performed a test using gdal_translate to translate a GeoTIFF (referenced using a VRT file) to ASCII Grid, and I have stumpled upon an issue with precision.

This is my syntax:

gdal_translate -of AAIGrid -ot Float32 -co DECIMAL_PRECISION=2 my_source.vrt my_target.asc

I have tried the above syntax using gdal 1.9.2 and 1.10 and these are examples from my results:

1.9.2:
...
3.77 3.83 3.89 3.87 3.79 3.49 3.03 2.50 1.96 1.56 1.29 0.95 0.77 0.54 0.53 0.41
...

1.10:
...
3.8 3.8 3.9 3.9 3.8 3.5 3 2.5 2 1.6 1.3 0.95 0.77 0.54 0.53 0.41
...

Has the meaning of DECIMAL_PRECISION changed from 1.9.2 to 1.10?

It seems like in 1.9.2 the meaning is X characters to the right of the comma and in 1.10 it means X describing characters?

I haven't tried the 1.10.1 release because I can't find the binaries on Tamas gisinternals.


Kind regards, Casper

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130902/0a2acebd/attachment.html>

From peifer at gmx.eu  Mon Sep  2 03:20:46 2013
From: peifer at gmx.eu (peifer)
Date: Mon, 2 Sep 2013 03:20:46 -0700 (PDT)
Subject: [gdal-dev] Change of DECIMAL_PRECISION in AAIGrid
In-Reply-To: <BCF6B63AE0B25941A7F56567B58A28056B36C41B@allkexa1.NIRAS.INT>
References: <BCF6B63AE0B25941A7F56567B58A28056B36C41B@allkexa1.NIRAS.INT>
Message-ID: <1378117246390-5075585.post@n6.nabble.com>

Casper B?rgesen wrote
> This is my syntax:
> 
> gdal_translate -of AAIGrid -ot Float32 -co DECIMAL_PRECISION=2
> my_source.vrt my_target.asc
> 
> I have tried the above syntax using gdal 1.9.2 and 1.10 and these are
> examples from my results:
> 
> 1.9.2:
> ...
> 3.77 3.83 3.89 3.87 3.79 3.49 3.03 2.50 1.96 1.56 1.29 0.95 0.77 0.54 0.53
> 0.41
> ...
> 
> 1.10:
> ...
> 3.8 3.8 3.9 3.9 3.8 3.5 3 2.5 2 1.6 1.3 0.95 0.77 0.54 0.53 0.41
> ...
> 
> Has the meaning of DECIMAL_PRECISION changed from 1.9.2 to 1.10?
> 
> It seems like in 1.9.2 the meaning is X characters to the right of the
> comma and in 1.10 it means X describing characters?
> 
> I haven't tried the 1.10.1 release because I can't find the binaries on
> Tamas gisinternals.

Hmm. After a look into the source code [0] and some testing [1], it looks to
me that DECIMAL_PRECISION is used as precision of a "%.<precision>g" format. 

Format letter g means: "Print a number in either scientific notation or in
floating-point notation, whichever uses fewer characters."

For format letter g, the precision value defines: "Maximum number of
*significant* digits."

I see there has been this change recently:
http://trac.osgeo.org/gdal/changeset/25032/trunk/gdal/frmts/aaigrid/aaigriddataset.cpp 

Hermann

[0]
http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/aaigrid/aaigriddataset.cpp#L1051

[1]

# Input file

$ cat in.asc
ncols 1
nrows 4
xllcorner 1
yllcorner 1
cellsize  1
0.00012345
1.12345678
22.1234567
333.123456

# Test run

$ for i in 1 2 3 4 5 ; do 
  echo DECIMAL_PRECISION=$i &&
  gdal_translate -of AAIGrid -ot Float32 -co DECIMAL_PRECISION=$i in.asc
out.asc &&
  cat out.asc
done

# Output

DECIMAL_PRECISION=1

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.0001
 1
 2e+01
 3e+02

DECIMAL_PRECISION=2

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.00012
 1.1
 22
 3.3e+02

DECIMAL_PRECISION=3

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.000123
 1.12
 22.1
 333

DECIMAL_PRECISION=4

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.0001234
 1.123
 22.12
 333.1

DECIMAL_PRECISION=5

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.00012345
 1.1235
 22.123
 333.12




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Change-of-DECIMAL-PRECISION-in-AAIGrid-tp5075524p5075585.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From CABO at NIRAS.DK  Mon Sep  2 04:30:21 2013
From: CABO at NIRAS.DK (=?utf-8?B?Q2FzcGVyIELDuHJnZXNlbiAoQ0FCTyk=?=)
Date: Mon, 2 Sep 2013 11:30:21 +0000
Subject: [gdal-dev] Change of DECIMAL_PRECISION in AAIGrid
In-Reply-To: <1378117246390-5075585.post@n6.nabble.com>
References: <BCF6B63AE0B25941A7F56567B58A28056B36C41B@allkexa1.NIRAS.INT>
	<1378117246390-5075585.post@n6.nabble.com>
Message-ID: <BCF6B63AE0B25941A7F56567B58A28056B36D5F1@allkexa1.NIRAS.INT>

Hi Peifer.

Thank you for your comments. They do explain more in depth what is happening. But as seen in your first example, the value 333.123456 is reduced to 300 while the value 0.00012345 is reduced to 0.0001. I think this is a big change in the relative values of each number.

I am curious to know if the "new" implementation in GDAL 1.10 is actually what is wanted/expected? 

I use the DECIMAL_PRECISION for rounding purposes to control how many digits I want to the right of the comma, not how many digits I want to use for the entire number.
I know I get a lot of zeros if I use DECIMAL_PRECISION=10 in GDAL 1.9.2 but I retain my precision.

In GDAL 1.10 I have to determine the number of digits to the left of the comma used by the largest number in my data set, add the number of digits I want to have to the right of the comma and use that value as DECIMAL_PRECISION. The result must be that I get a lot of (waste) digits to the right of the comma for small numbers and the expected result for large numbers. But isn't this similar to what the patch (mentioned ealier) wanted to avoid? :

> The AAIGrid float format string is "%6.20g"
> Firstly, the 6 doesn't really add anything, and when writing small integers it causes them to be space-padded, which is a waste of bytes.
> At present AAIGrid supports "-co DECIMAL_PRECISION=10" which changes the formatstring to "%.10f".
> This is a little inconsistent, and the %f causes integers to be written as "9.000000000" which is a horrible waste of bytes.

I could write my own GeoTIFF to AAIGrid exporter, but I don't believe that should be necessary :)


Kind regards, Casper


-----Original Message-----
From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of peifer
Sent: 2. september 2013 12:21
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Change of DECIMAL_PRECISION in AAIGrid

Casper B?rgesen wrote
> This is my syntax:
> 
> gdal_translate -of AAIGrid -ot Float32 -co DECIMAL_PRECISION=2 
> my_source.vrt my_target.asc
> 
> I have tried the above syntax using gdal 1.9.2 and 1.10 and these are 
> examples from my results:
> 
> 1.9.2:
> ...
> 3.77 3.83 3.89 3.87 3.79 3.49 3.03 2.50 1.96 1.56 1.29 0.95 0.77 0.54 
> 0.53
> 0.41
> ...
> 
> 1.10:
> ...
> 3.8 3.8 3.9 3.9 3.8 3.5 3 2.5 2 1.6 1.3 0.95 0.77 0.54 0.53 0.41 ...
> 
> Has the meaning of DECIMAL_PRECISION changed from 1.9.2 to 1.10?
> 
> It seems like in 1.9.2 the meaning is X characters to the right of the 
> comma and in 1.10 it means X describing characters?
> 
> I haven't tried the 1.10.1 release because I can't find the binaries 
> on Tamas gisinternals.

Hmm. After a look into the source code [0] and some testing [1], it looks to me that DECIMAL_PRECISION is used as precision of a "%.<precision>g" format. 

Format letter g means: "Print a number in either scientific notation or in floating-point notation, whichever uses fewer characters."

For format letter g, the precision value defines: "Maximum number of
*significant* digits."

I see there has been this change recently:
http://trac.osgeo.org/gdal/changeset/25032/trunk/gdal/frmts/aaigrid/aaigriddataset.cpp 

Hermann

[0]
http://trac.osgeo.org/gdal/browser/trunk/gdal/frmts/aaigrid/aaigriddataset.cpp#L1051

[1]

# Input file

$ cat in.asc
ncols 1
nrows 4
xllcorner 1
yllcorner 1
cellsize  1
0.00012345
1.12345678
22.1234567
333.123456

# Test run

$ for i in 1 2 3 4 5 ; do
  echo DECIMAL_PRECISION=$i &&
  gdal_translate -of AAIGrid -ot Float32 -co DECIMAL_PRECISION=$i in.asc out.asc &&
  cat out.asc
done

# Output

DECIMAL_PRECISION=1

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.0001
 1
 2e+01
 3e+02

DECIMAL_PRECISION=2

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.00012
 1.1
 22
 3.3e+02

DECIMAL_PRECISION=3

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.000123
 1.12
 22.1
 333

DECIMAL_PRECISION=4

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.0001234
 1.123
 22.12
 333.1

DECIMAL_PRECISION=5

ncols        1
nrows        4
xllcorner    1.000000000000
yllcorner    1.000000000000
cellsize     1.000000000000
 0.00012345
 1.1235
 22.123
 333.12




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Change-of-DECIMAL-PRECISION-in-AAIGrid-tp5075524p5075585.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From peifer at gmx.eu  Mon Sep  2 05:17:55 2013
From: peifer at gmx.eu (peifer at gmx.eu)
Date: Mon, 2 Sep 2013 14:17:55 +0200 (CEST)
Subject: [gdal-dev] Change of DECIMAL_PRECISION in AAIGrid
In-Reply-To: <BCF6B63AE0B25941A7F56567B58A28056B36D5F1@allkexa1.NIRAS.INT>
References: <BCF6B63AE0B25941A7F56567B58A28056B36C41B@allkexa1.NIRAS.INT>
	<1378117246390-5075585.post@n6.nabble.com>,
	<BCF6B63AE0B25941A7F56567B58A28056B36D5F1@allkexa1.NIRAS.INT>
Message-ID: <trinity-7b81acb5-0dd6-469e-9d1b-aea9f8015142-1378124275423@3capp-gmx-bs32>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130902/92bb1291/attachment-0001.html>

From dshean at gmail.com  Mon Sep  2 15:09:45 2013
From: dshean at gmail.com (David Shean)
Date: Mon, 2 Sep 2013 15:09:45 -0700
Subject: [gdal-dev] GTiff stack to NetCDF
Message-ID: <66A13AEF-A58C-4402-ABA2-AE3DE14B6193@gmail.com>

Hi list,
I'm trying to package a timeseries of GTiff rasters with identical projection/extent/resolution as a single NetCDF file for distribution.  I've spent the past hour consulting the online doc and playing with gdal_translate, gdalbuildvrt and gdalwarp without any success.  

Is there an easy way to do this using existing gdal command line utilities?  I figured I'd ask before resorting to a custom solution using the NetCDF Python API.  

Thanks.
-David

From nicholas.g.lawrence at tmr.qld.gov.au  Mon Sep  2 16:32:43 2013
From: nicholas.g.lawrence at tmr.qld.gov.au (nicholas.g.lawrence at tmr.qld.gov.au)
Date: Tue, 3 Sep 2013 09:32:43 +1000
Subject: [gdal-dev] Fw:  GDAL for windows
In-Reply-To: <loom.20130902T083018-454@post.gmane.org>
References: <OFBDB48911.3BDFB7E1-ON4A257BDA.000F18B4-4A257BDA.000F3814@tmr.qld.gov.au>
	<loom.20130902T083018-454@post.gmane.org>
Message-ID: <OF0FED828D.91E01232-ON4A257BDA.00811A7B-4A257BDA.0081568B@tmr.qld.gov.au>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130903/a16fc25a/attachment.html>

From jrepetto at free.fr  Mon Sep  2 22:12:45 2013
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue, 03 Sep 2013 07:12:45 +0200
Subject: [gdal-dev] Fw:  GDAL for windows
In-Reply-To: <OF0FED828D.91E01232-ON4A257BDA.00811A7B-4A257BDA.0081568B@tmr.qld.gov.au>
References: <OFBDB48911.3BDFB7E1-ON4A257BDA.000F18B4-4A257BDA.000F3814@tmr.qld.gov.au>
	<loom.20130902T083018-454@post.gmane.org>
	<OF0FED828D.91E01232-ON4A257BDA.00811A7B-4A257BDA.0081568B@tmr.qld.gov.au>
Message-ID: <52256FCD.60803@free.fr>

On 03/09/2013 01:32, nicholas.g.lawrence at tmr.qld.gov.au wrote:
>
>  > "ogr2ogr -f "MapInfo File" "C:\DATA\2013\08\osm2\australia_lines.tab"
>  > "C:\DATA\2013\08\osm2\australia-latest.osm.pbf lines"
>
> I tried the command you suggested, but it returns this error
>
> Unable to open datasource 'C:\DATA\2013\08\osm2\australia-latest.osm.pbf
> lines'
> with the following drivers.

The last double-quote is probably misplaced.
Try this :
ogr2ogr -f "MapInfo File" "C:\DATA\2013\08\osm2\australia_lines.tab" 
"C:\DATA\2013\08\osm2\australia-latest.osm.pbf" lines

Jean-Claude


From brfr at metrico.lu  Tue Sep  3 05:55:20 2013
From: brfr at metrico.lu (Frank Broniewski)
Date: Tue, 03 Sep 2013 14:55:20 +0200
Subject: [gdal-dev] GDAL 1.10 build fails on FreeBSD
Message-ID: <5225DC38.8050405@metrico.lu>

Hi all,

I tried updating Gdal to the latest version on my FreeBSD system, but 
the build fails:

<snip>
c postgisrasterdataset.cpp  -fPIC -DPIC -o ../o/.libs/postgisrasterdataset.o
postgisrasterdataset.cpp: In function 'void GDALRegister_PostGISRaster()':
postgisrasterdataset.cpp:2096: error: 'GDAL_DMD_SUBDATASETS' was not 
declared in this scope
gmake[2]: *** [../o/postgisrasterdataset.lo] Error 1
gmake[2]: Leaving directory 
`/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts/postgisraster'
gmake[1]: *** [postgisraster-install-obj] Error 2
gmake[1]: Leaving directory 
`/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts'
gmake: *** [frmts-target] Error 2
*** [do-build] Error code 1
</snip>

PostGIS is
POSTGIS="1.5.3" GEOS="3.3.8-CAPI-1.7.8" PROJ="Rel. 4.8.0, 6 March 2012" 
LIBXML="2.7.8" USE_STATS (procs from 1.5 r5385 need upgrade)

so apparently no raster support ...

Is this a GDAL issue or shall I report this to the FreeBSD crew? Or is 
my PostGIS too old ???


Frank


-- 
Frank BRONIEWSKI

METRICO s.? r.l.
g?om?tres
technologies d'information g?ographique
rue des Romains 36
L-5433 NIEDERDONVEN

t?l.: +352 26 74 94 - 28
fax.: +352 26 74 94 99
http://www.metrico.lu

From etourigny.dev at gmail.com  Tue Sep  3 07:15:50 2013
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Tue, 3 Sep 2013 11:15:50 -0300
Subject: [gdal-dev] GTiff stack to NetCDF
In-Reply-To: <66A13AEF-A58C-4402-ABA2-AE3DE14B6193@gmail.com>
References: <66A13AEF-A58C-4402-ABA2-AE3DE14B6193@gmail.com>
Message-ID: <CA+TxYvP_QeZUe3C0x97yOqfVDHsZTKrXMtOzAoer98YWCHoy3Q@mail.gmail.com>

what you want is probably outside the scope of gdal. It would require some
clever metadata management so that gdal_translate puts them in a single
file...

I would advise you convert them all to netcdf using gdal_translate and then
use python-netcdf4 (not the one from numpy/scipy) to stack them in the
temporal dimension.


On Mon, Sep 2, 2013 at 7:09 PM, David Shean <dshean at gmail.com> wrote:

> Hi list,
> I'm trying to package a timeseries of GTiff rasters with identical
> projection/extent/resolution as a single NetCDF file for distribution.
>  I've spent the past hour consulting the online doc and playing with
> gdal_translate, gdalbuildvrt and gdalwarp without any success.
>
> Is there an easy way to do this using existing gdal command line
> utilities?  I figured I'd ask before resorting to a custom solution using
> the NetCDF Python API.
>
> Thanks.
> -David
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130903/a823d6cb/attachment.html>

From rsignell at usgs.gov  Tue Sep  3 07:55:30 2013
From: rsignell at usgs.gov (Signell, Richard)
Date: Tue, 3 Sep 2013 10:55:30 -0400
Subject: [gdal-dev] GTiff stack to NetCDF
In-Reply-To: <CA+TxYvP_QeZUe3C0x97yOqfVDHsZTKrXMtOzAoer98YWCHoy3Q@mail.gmail.com>
References: <66A13AEF-A58C-4402-ABA2-AE3DE14B6193@gmail.com>
	<CA+TxYvP_QeZUe3C0x97yOqfVDHsZTKrXMtOzAoer98YWCHoy3Q@mail.gmail.com>
Message-ID: <CAFhraUzAPS_2gFXTDk2a8MJi=UM9roktcnaim0Nkmgw+pez=sQ@mail.gmail.com>

David,
If you post your question on the GIS stackexchange group
http://gis.stackexchange.com/
I will provide an example code that should be helpful.

-Rich

On Tue, Sep 3, 2013 at 10:15 AM, Etienne Tourigny
<etourigny.dev at gmail.com> wrote:
> what you want is probably outside the scope of gdal. It would require some
> clever metadata management so that gdal_translate puts them in a single
> file...
>
> I would advise you convert them all to netcdf using gdal_translate and then
> use python-netcdf4 (not the one from numpy/scipy) to stack them in the
> temporal dimension.
>
>
> On Mon, Sep 2, 2013 at 7:09 PM, David Shean <dshean at gmail.com> wrote:
>>
>> Hi list,
>> I'm trying to package a timeseries of GTiff rasters with identical
>> projection/extent/resolution as a single NetCDF file for distribution.  I've
>> spent the past hour consulting the online doc and playing with
>> gdal_translate, gdalbuildvrt and gdalwarp without any success.
>>
>> Is there an easy way to do this using existing gdal command line
>> utilities?  I figured I'd ask before resorting to a custom solution using
>> the NetCDF Python API.
>>
>> Thanks.
>> -David
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
Dr. Richard P. Signell   (508) 457-2229
USGS, 384 Woods Hole Rd.
Woods Hole, MA 02543-1598

From schut at sarvision.nl  Tue Sep  3 08:02:44 2013
From: schut at sarvision.nl (Vincent Schut)
Date: Tue, 3 Sep 2013 17:02:44 +0200
Subject: [gdal-dev] GDAL 1.10 build fails on FreeBSD
In-Reply-To: <5225DC38.8050405@metrico.lu>
References: <5225DC38.8050405@metrico.lu>
Message-ID: <20130903170244.1a4f95dd@sarvision.nl>

On Tue, 03 Sep 2013 14:55:20 +0200
Frank Broniewski <brfr at metrico.lu> wrote:

> Hi all,
> 
> I tried updating Gdal to the latest version on my FreeBSD system, but 
> the build fails:
> 
> <snip>
> c postgisrasterdataset.cpp  -fPIC -DPIC
> -o ../o/.libs/postgisrasterdataset.o postgisrasterdataset.cpp: In
> function 'void GDALRegister_PostGISRaster()':
> postgisrasterdataset.cpp:2096: error: 'GDAL_DMD_SUBDATASETS' was not
> declared in this scope gmake[2]: *** [../o/postgisrasterdataset.lo]
> Error 1 gmake[2]: Leaving directory 
> `/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts/postgisraster'
> gmake[1]: *** [postgisraster-install-obj] Error 2
> gmake[1]: Leaving directory 
> `/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts'
> gmake: *** [frmts-target] Error 2
> *** [do-build] Error code 1
> </snip>
> 
> PostGIS is
> POSTGIS="1.5.3" GEOS="3.3.8-CAPI-1.7.8" PROJ="Rel. 4.8.0, 6 March
> 2012" LIBXML="2.7.8" USE_STATS (procs from 1.5 r5385 need upgrade)
> 
> so apparently no raster support ...
> 
> Is this a GDAL issue or shall I report this to the FreeBSD crew? Or
> is my PostGIS too old ???

Frank, just fyi: I recently upgraded gdal on my freebsd system to 1.10,
and all went fine. My postgis is significantly newer than yours, though
(2.1 I think, or at least 2.0), so that might be the culprit indeed.

Best,
Vincent.
> 
> 
> Frank
> 
> 


From dshean at gmail.com  Tue Sep  3 09:59:50 2013
From: dshean at gmail.com (David Shean)
Date: Tue, 3 Sep 2013 09:59:50 -0700
Subject: [gdal-dev] GTiff stack to NetCDF
In-Reply-To: <CAFhraUzAPS_2gFXTDk2a8MJi=UM9roktcnaim0Nkmgw+pez=sQ@mail.gmail.com>
References: <66A13AEF-A58C-4402-ABA2-AE3DE14B6193@gmail.com>
	<CA+TxYvP_QeZUe3C0x97yOqfVDHsZTKrXMtOzAoer98YWCHoy3Q@mail.gmail.com>
	<CAFhraUzAPS_2gFXTDk2a8MJi=UM9roktcnaim0Nkmgw+pez=sQ@mail.gmail.com>
Message-ID: <5263EF21-84DA-4CE0-9D73-35BD512B0D45@gmail.com>

Done:

http://gis.stackexchange.com/questions/70458/convert-timeseries-stack-of-gtiff-raster-to-single-netcdf

Thanks for the responses.  
D

On Sep 3, 2013, at 7:55 AM, "Signell, Richard" <rsignell at usgs.gov> wrote:

> David,
> If you post your question on the GIS stackexchange group
> http://gis.stackexchange.com/
> I will provide an example code that should be helpful.
> 
> -Rich
> 
> On Tue, Sep 3, 2013 at 10:15 AM, Etienne Tourigny
> <etourigny.dev at gmail.com> wrote:
>> what you want is probably outside the scope of gdal. It would require some
>> clever metadata management so that gdal_translate puts them in a single
>> file...
>> 
>> I would advise you convert them all to netcdf using gdal_translate and then
>> use python-netcdf4 (not the one from numpy/scipy) to stack them in the
>> temporal dimension.
>> 
>> 
>> On Mon, Sep 2, 2013 at 7:09 PM, David Shean <dshean at gmail.com> wrote:
>>> 
>>> Hi list,
>>> I'm trying to package a timeseries of GTiff rasters with identical
>>> projection/extent/resolution as a single NetCDF file for distribution.  I've
>>> spent the past hour consulting the online doc and playing with
>>> gdal_translate, gdalbuildvrt and gdalwarp without any success.
>>> 
>>> Is there an easy way to do this using existing gdal command line
>>> utilities?  I figured I'd ask before resorting to a custom solution using
>>> the NetCDF Python API.
>>> 
>>> Thanks.
>>> -David
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> Dr. Richard P. Signell   (508) 457-2229
> USGS, 384 Woods Hole Rd.
> Woods Hole, MA 02543-1598


From mariusjigmond at hotmail.com  Tue Sep  3 11:37:48 2013
From: mariusjigmond at hotmail.com (Marius Jigmond)
Date: Tue, 3 Sep 2013 13:37:48 -0500
Subject: [gdal-dev] GDAL 1.10 build fails on FreeBSD
In-Reply-To: <20130903170244.1a4f95dd@sarvision.nl>
References: <5225DC38.8050405@metrico.lu>,
	<20130903170244.1a4f95dd@sarvision.nl>
Message-ID: <BLU175-W233DA201662C1398C88EDB2310@phx.gbl>

Frank,
You'll need a newer PostGIS (2.x+) if you want to compile GDAL 1.10 with PG support.
http://trac.osgeo.org/gdal/wiki/frmts_wtkraster.html
-marius

> Date: Tue, 3 Sep 2013 17:02:44 +0200
> From: schut at sarvision.nl
> To: gdal-dev at lists.osgeo.org
> Subject: Re: [gdal-dev] GDAL 1.10 build fails on FreeBSD
> 
> On Tue, 03 Sep 2013 14:55:20 +0200
> Frank Broniewski <brfr at metrico.lu> wrote:
> 
> > Hi all,
> > 
> > I tried updating Gdal to the latest version on my FreeBSD system, but 
> > the build fails:
> > 
> > <snip>
> > c postgisrasterdataset.cpp  -fPIC -DPIC
> > -o ../o/.libs/postgisrasterdataset.o postgisrasterdataset.cpp: In
> > function 'void GDALRegister_PostGISRaster()':
> > postgisrasterdataset.cpp:2096: error: 'GDAL_DMD_SUBDATASETS' was not
> > declared in this scope gmake[2]: *** [../o/postgisrasterdataset.lo]
> > Error 1 gmake[2]: Leaving directory 
> > `/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts/postgisraster'
> > gmake[1]: *** [postgisraster-install-obj] Error 2
> > gmake[1]: Leaving directory 
> > `/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts'
> > gmake: *** [frmts-target] Error 2
> > *** [do-build] Error code 1
> > </snip>
> > 
> > PostGIS is
> > POSTGIS="1.5.3" GEOS="3.3.8-CAPI-1.7.8" PROJ="Rel. 4.8.0, 6 March
> > 2012" LIBXML="2.7.8" USE_STATS (procs from 1.5 r5385 need upgrade)
> > 
> > so apparently no raster support ...
> > 
> > Is this a GDAL issue or shall I report this to the FreeBSD crew? Or
> > is my PostGIS too old ???
> 
> Frank, just fyi: I recently upgraded gdal on my freebsd system to 1.10,
> and all went fine. My postgis is significantly newer than yours, though
> (2.1 I think, or at least 2.0), so that might be the culprit indeed.
> 
> Best,
> Vincent.
> > 
> > 
> > Frank
> > 
> > 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130903/2ea98cad/attachment.html>

From lucena_ivan at hotmail.com  Tue Sep  3 13:22:14 2013
From: lucena_ivan at hotmail.com (Ivan Lucena)
Date: Tue, 3 Sep 2013 16:22:14 -0400
Subject: [gdal-dev] HFA and RAT
Message-ID: <BLU173-W6228D161EB3AB6001811990310@phx.gbl>

Take any image, a screenshot of your desktop for example, save it as .bmp "gdal_translate" it to HFA, .img file, and run gdalinfo on it (trunk version). It's only me or at the end of the gdalinfo report do you also see <GDALRasterAttributeTable /> for each band?

Band 1 Block=64x64 Type=Byte, ColorInterp=Undefined
  Description = Layer_1
  Metadata:
    LAYER_TYPE=athematic
<GDALRasterAttributeTable />

Band 2 Block=64x64 Type=Byte, ColorInterp=Undefined
  Description = Layer_2
  Metadata:
    LAYER_TYPE=athematic
<GDALRasterAttributeTable />

Band 3 Block=64x64 Type=Byte, ColorInterp=Undefined
  Description = Layer_3
  Metadata:
    LAYER_TYPE=athematic
<GDALRasterAttributeTable />

It seems to me that the HFA driver is reporting incorrectly when the GDAL API function GDALGetDefaultRAT is called by gdalinfo.
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130903/f3f3cd51/attachment.html>

From gillingham.sam at gmail.com  Tue Sep  3 14:47:48 2013
From: gillingham.sam at gmail.com (Sam Gillingham)
Date: Wed, 4 Sep 2013 09:47:48 +1200
Subject: [gdal-dev] HFA and RAT
In-Reply-To: <BLU173-W6228D161EB3AB6001811990310@phx.gbl>
References: <BLU173-W6228D161EB3AB6001811990310@phx.gbl>
Message-ID: <CAMH-RbYRz806W8CwKQv4dKjFOz+uRFZZpZ_YeOsCMvJpjm1YHA@mail.gmail.com>

Hi Ivan,

Yes I can see this also with the trunk version. The problem is that with
the RFC40 changes the HFA driver always returns something from
GetDefaultRAT even if it is an empty table - you can now start writing data
directly into the table with the returned object.

Below is a patch to prevent the Serialize() method returning anything when
the row and column count is zero. I will submit this as a bug report if
people think it is a good workaround.

Sam.


--- gcore/gdal_rat.cpp.orig     Wed Sep  4 09:27:51 2013
+++ gcore/gdal_rat.cpp  Wed Sep  4 09:28:33 2013
@@ -502,6 +502,9 @@
     CPLXMLNode *psTree = NULL;
     CPLXMLNode *psRow = NULL;

+    if( ( GetColumnCount() == 0 ) && ( GetRowCount() == 0 ) )
+        return NULL;
+
     psTree = CPLCreateXMLNode( NULL, CXT_Element,
"GDALRasterAttributeTable" );

 /* -------------------------------------------------------------------- */



On 4 September 2013 08:22, Ivan Lucena <lucena_ivan at hotmail.com> wrote:

> Take any image, a screenshot of your desktop for example, save it as .bmp
> "gdal_translate" it to HFA, .img file, and run gdalinfo on it (trunk
> version). It's only me or at the end of the gdalinfo report do you also see
> <GDALRasterAttributeTable /> for each band?
>
> Band 1 Block=64x64 Type=Byte, ColorInterp=Undefined
>   Description = Layer_1
>   Metadata:
>     LAYER_TYPE=athematic
> <GDALRasterAttributeTable />
>
> Band 2 Block=64x64 Type=Byte, ColorInterp=Undefined
>   Description = Layer_2
>   Metadata:
>     LAYER_TYPE=athematic
> <GDALRasterAttributeTable />
>
> Band 3 Block=64x64 Type=Byte, ColorInterp=Undefined
>   Description = Layer_3
>   Metadata:
>     LAYER_TYPE=athematic
> <GDALRasterAttributeTable />
>
> It seems to me that the HFA driver is reporting incorrectly when the GDAL
> API function GDALGetDefaultRAT is called by gdalinfo.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130904/16b1d8a1/attachment.html>

From lucena_ivan at hotmail.com  Tue Sep  3 19:57:20 2013
From: lucena_ivan at hotmail.com (Ivan Lucena)
Date: Tue, 3 Sep 2013 22:57:20 -0400
Subject: [gdal-dev] HFA and RAT
In-Reply-To: <CAMH-RbYRz806W8CwKQv4dKjFOz+uRFZZpZ_YeOsCMvJpjm1YHA@mail.gmail.com>
References: <BLU173-W6228D161EB3AB6001811990310@phx.gbl>,
	<CAMH-RbYRz806W8CwKQv4dKjFOz+uRFZZpZ_YeOsCMvJpjm1YHA@mail.gmail.com>
Message-ID: <BLU173-W2901DD76180F0E8B663E6A90320@phx.gbl>

Hi Sam,

Assign the ticket to me and I will apply the patch.

Thanks,

Ivan

Date: Wed, 4 Sep 2013 09:47:48 +1200
Subject: Re: [gdal-dev] HFA and RAT
From: gillingham.sam at gmail.com
To: lucena_ivan at hotmail.com
CC: gdal-dev at lists.osgeo.org

Hi Ivan, 

Yes I can see this also with the trunk version. The problem is that with the RFC40 changes the HFA driver always returns something from GetDefaultRAT even if it is an empty table - you can now start writing data directly into the table with the returned object.


Below is a patch to prevent the Serialize() method returning anything when the row and column count is zero. I will submit this as a bug report if people think it is a good workaround.

Sam.



--- gcore/gdal_rat.cpp.orig     Wed Sep  4 09:27:51 2013
+++ gcore/gdal_rat.cpp  Wed Sep  4 09:28:33 2013
@@ -502,6 +502,9 @@
     CPLXMLNode *psTree = NULL;
     CPLXMLNode *psRow = NULL;
 
+    if( ( GetColumnCount() == 0 ) && ( GetRowCount() == 0 ) )

+        return NULL;
+
     psTree = CPLCreateXMLNode( NULL, CXT_Element, "GDALRasterAttributeTable" );
 
 /* -------------------------------------------------------------------- */




On 4 September 2013 08:22, Ivan Lucena <lucena_ivan at hotmail.com> wrote:




Take any image, a screenshot of your desktop for example, save it as .bmp "gdal_translate" it to HFA, .img file, and run gdalinfo on it (trunk version). It's only me or at the end of the gdalinfo report do you also see <GDALRasterAttributeTable /> for each band?


Band 1 Block=64x64 Type=Byte, ColorInterp=Undefined
  Description = Layer_1
  Metadata:
    LAYER_TYPE=athematic
<GDALRasterAttributeTable />

Band 2 Block=64x64 Type=Byte, ColorInterp=Undefined

  Description = Layer_2
  Metadata:
    LAYER_TYPE=athematic
<GDALRasterAttributeTable />

Band 3 Block=64x64 Type=Byte, ColorInterp=Undefined
  Description = Layer_3
  Metadata:
    LAYER_TYPE=athematic

<GDALRasterAttributeTable />

It seems to me that the HFA driver is reporting incorrectly when the GDAL API function GDALGetDefaultRAT is called by gdalinfo.
 		 	   		  

_______________________________________________

gdal-dev mailing list

gdal-dev at lists.osgeo.org

http://lists.osgeo.org/mailman/listinfo/gdal-dev

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130903/69ecacea/attachment.html>

From brfr at metrico.lu  Wed Sep  4 01:32:51 2013
From: brfr at metrico.lu (Frank Broniewski)
Date: Wed, 04 Sep 2013 10:32:51 +0200
Subject: [gdal-dev] GDAL 1.10 build fails on FreeBSD
In-Reply-To: <5225DC38.8050405@metrico.lu>
References: <5225DC38.8050405@metrico.lu>
Message-ID: <5226F033.90806@metrico.lu>

Am 2013-09-03 14:55, schrieb Frank Broniewski:
> Hi all,
>
> I tried updating Gdal to the latest version on my FreeBSD system, but
> the build fails:
>
> <snip>
> c postgisrasterdataset.cpp  -fPIC -DPIC -o
> ../o/.libs/postgisrasterdataset.o
> postgisrasterdataset.cpp: In function 'void GDALRegister_PostGISRaster()':
> postgisrasterdataset.cpp:2096: error: 'GDAL_DMD_SUBDATASETS' was not
> declared in this scope
> gmake[2]: *** [../o/postgisrasterdataset.lo] Error 1
> gmake[2]: Leaving directory
> `/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts/postgisraster'
> gmake[1]: *** [postgisraster-install-obj] Error 2
> gmake[1]: Leaving directory
> `/usr/ports/graphics/gdal/work/gdal-1.10.1/frmts'
> gmake: *** [frmts-target] Error 2
> *** [do-build] Error code 1
> </snip>
>
> PostGIS is
> POSTGIS="1.5.3" GEOS="3.3.8-CAPI-1.7.8" PROJ="Rel. 4.8.0, 6 March 2012"
> LIBXML="2.7.8" USE_STATS (procs from 1.5 r5385 need upgrade)
>
> so apparently no raster support ...
>
> Is this a GDAL issue or shall I report this to the FreeBSD crew? Or is
> my PostGIS too old ???
>
>
> Frank
>
>

Got it working, it was a FreeBSD issue: 
http://freebsd.1045724.n5.nabble.com/GDAL-1-10-build-fails-on-FreeBSD-td5841243.html

Thanks to everybody for responding ...


Frank

-- 
Frank BRONIEWSKI

METRICO s.? r.l.
g?om?tres
technologies d'information g?ographique
rue des Romains 36
L-5433 NIEDERDONVEN

t?l.: +352 26 74 94 - 28
fax.: +352 26 74 94 99
http://www.metrico.lu

From aborruso at gmail.com  Wed Sep  4 01:51:25 2013
From: aborruso at gmail.com (aborruso)
Date: Wed, 4 Sep 2013 01:51:25 -0700 (PDT)
Subject: [gdal-dev] A strange thing with a png geospatial file and gdalwarp.
 Is it a bug?
Message-ID: <1378284685646-5075948.post@n6.nabble.com>

Dear all, 
I have a geospatial png file - http://ge.tt/7tmMR7r/v/0?c -and gdalinfo give
me this projection info: 

PROJCS["Popular Visualisation CRS / Mercator", 
    GEOGCS["Popular Visualisation CRS", 
        DATUM["Popular_Visualisation_Datum", 
            SPHEROID["Popular Visualisation Sphere",6378137,0, 
                AUTHORITY["EPSG","7059"]], 
            TOWGS84[0,0,0,0,0,0,0], 
            AUTHORITY["EPSG","6055"]], 
        PRIMEM["Greenwich",0, 
            AUTHORITY["EPSG","8901"]], 
        UNIT["degree",0.01745329251994328, 
            AUTHORITY["EPSG","9122"]], 
        AUTHORITY["EPSG","4055"]], 
    UNIT["metre",1, 
        AUTHORITY["EPSG","9001"]], 
    PROJECTION["Mercator_1SP"], 
    PARAMETER["central_meridian",0], 
    PARAMETER["scale_factor",1], 
    PARAMETER["false_easting",0], 
    PARAMETER["false_northing",0], 
    AUTHORITY["EPSG","3785"], 
    AXIS["X",EAST], 
    AXIS["Y",NORTH]] 

It's EPSG:3785. 

If I run this command: 

gdalwarp -s_srs EPSG:3785 -t_srs EPSG:4326 -of GTiff "input.png"
"output.tif"   

The output file has this extent: 

Upper Left  (  -0.6064394,  44.7016078) (  0d36'23.18"W, 44d42' 5.79"N) 
Lower Left  (  -0.6064394,  44.6980730) (  0d36'23.18"W, 44d41'53.06"N) 
Upper Right (  -0.5975973,  44.7016078) (  0d35'51.35"W, 44d42' 5.79"N) 
Lower Right (  -0.5975973,  44.6980730) (  0d35'51.35"W, 44d41'53.06"N) 
Center      (  -0.6020184,  44.6998404) (  0d36' 7.27"W, 44d41'59.43"N) 

If I run this command, without -s_srs parameter: 

gdalwarp  -t_srs EPSG:4326 -of GTiff "Avenue de Mont-de-Marsan.png"
"male.tif" 

This output has an extent that is different from the previous (look at
latitude): 

Upper Left  (  -0.6064394,  44.8937072) (  0d36'23.18"W, 44d53'37.35"N) 
Lower Left  (  -0.6064394,  44.8901724) (  0d36'23.18"W, 44d53'24.62"N) 
Upper Right (  -0.5975973,  44.8937072) (  0d35'51.35"W, 44d53'37.35"N) 
Lower Right (  -0.5975973,  44.8901724) (  0d35'51.35"W, 44d53'24.62"N) 
Center      (  -0.6020183,  44.8919398) (  0d36' 7.27"W, 44d53'30.98"N) 

Is it normal? 

I'm using GDAL 1.10.1, released 2013/08/26, downloaded from here
http://vbkto.dyndns.org/sdk/. 

Thank you, 

Andrea



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/A-strange-thing-with-a-png-geospatial-file-and-gdalwarp-Is-it-a-bug-tp5075948.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From aborruso at gmail.com  Wed Sep  4 02:53:04 2013
From: aborruso at gmail.com (aborruso)
Date: Wed, 4 Sep 2013 02:53:04 -0700 (PDT)
Subject: [gdal-dev] A strange thing with a png geospatial file and
 gdalwarp. Is it a bug?
In-Reply-To: <1378284685646-5075948.post@n6.nabble.com>
References: <1378284685646-5075948.post@n6.nabble.com>
Message-ID: <1378288384512-5075966.post@n6.nabble.com>

Here is the correct URL of the test file, sorry:
https://dl.dropboxusercontent.com/u/103202/trash/file_test.zip



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/A-strange-thing-with-a-png-geospatial-file-and-gdalwarp-Is-it-a-bug-tp5075948p5075966.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jrepetto at free.fr  Wed Sep  4 03:16:41 2013
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Wed, 04 Sep 2013 12:16:41 +0200
Subject: [gdal-dev] A strange thing with a png geospatial file and
 gdalwarp. Is it a bug?
In-Reply-To: <1378284685646-5075948.post@n6.nabble.com>
References: <1378284685646-5075948.post@n6.nabble.com>
Message-ID: <52270889.1010605@free.fr>

Hello,

I confirm the problem.
I don't know how to fix the bug, nor if it really a bug in GDAL, but I 
can provide a workaround : use EPSG:3857 instead of EPSG:3785, which is 
obsolete.

gdalwarp -s_srs epsg:3857 -t_srs EPSG:4326 -of GTiff "Avenue de 
Mont-de-Marsan.png" test.tif

Upper Left  (  -0.6064394,  44.7016078) (  0d36'23.18"W, 44d42' 5.79"N)
Lower Left  (  -0.6064394,  44.6980730) (  0d36'23.18"W, 44d41'53.06"N)
Upper Right (  -0.5975973,  44.7016078) (  0d35'51.35"W, 44d42' 5.79"N)
Lower Right (  -0.5975973,  44.6980730) (  0d35'51.35"W, 44d41'53.06"N)
Center      (  -0.6020184,  44.6998404) (  0d36' 7.27"W, 44d41'59.43"N)

Jean-Claude


From peifer at gmx.eu  Wed Sep  4 04:55:11 2013
From: peifer at gmx.eu (peifer)
Date: Wed, 4 Sep 2013 04:55:11 -0700 (PDT)
Subject: [gdal-dev] A strange thing with a png geospatial file and
 gdalwarp. Is it a bug?
In-Reply-To: <1378284685646-5075948.post@n6.nabble.com>
References: <1378284685646-5075948.post@n6.nabble.com>
Message-ID: <1378295711582-5075998.post@n6.nabble.com>

aborruso wrote
> Dear all, 
> I have a geospatial png file - http://ge.tt/7tmMR7r/v/0?c -and gdalinfo
> give me this projection info: 
> 
> PROJCS["Popular Visualisation CRS / Mercator", 
>     GEOGCS["Popular Visualisation CRS", 
>         DATUM["Popular_Visualisation_Datum", 
>             SPHEROID["Popular Visualisation Sphere",6378137,0, 
>                 AUTHORITY["EPSG","7059"]], 
>             TOWGS84[0,0,0,0,0,0,0], 
>             AUTHORITY["EPSG","6055"]], 
>         PRIMEM["Greenwich",0, 
>             AUTHORITY["EPSG","8901"]], 
>         UNIT["degree",0.01745329251994328, 
>             AUTHORITY["EPSG","9122"]], 
>         AUTHORITY["EPSG","4055"]], 
>     UNIT["metre",1, 
>         AUTHORITY["EPSG","9001"]], 
>     PROJECTION["Mercator_1SP"], 
>     PARAMETER["central_meridian",0], 
>     PARAMETER["scale_factor",1], 
>     PARAMETER["false_easting",0], 
>     PARAMETER["false_northing",0], 
>     AUTHORITY["EPSG","3785"], 
>     AXIS["X",EAST], 
>     AXIS["Y",NORTH]] 
> 
> It's EPSG:3785. 
> 
> If I run this command: 
> 
> gdalwarp -s_srs EPSG:3785 -t_srs EPSG:4326 -of GTiff "input.png"
> "output.tif"   
> 
> The output file has this extent: 
> 
> Upper Left  (  -0.6064394,  44.7016078) (  0d36'23.18"W, 44d42' 5.79"N) 
> Lower Left  (  -0.6064394,  44.6980730) (  0d36'23.18"W, 44d41'53.06"N) 
> Upper Right (  -0.5975973,  44.7016078) (  0d35'51.35"W, 44d42' 5.79"N) 
> Lower Right (  -0.5975973,  44.6980730) (  0d35'51.35"W, 44d41'53.06"N) 
> Center      (  -0.6020184,  44.6998404) (  0d36' 7.27"W, 44d41'59.43"N) 
> 
> If I run this command, without -s_srs parameter: 
> 
> gdalwarp  -t_srs EPSG:4326 -of GTiff "Avenue de Mont-de-Marsan.png"
> "male.tif" 
> 
> This output has an extent that is different from the previous (look at
> latitude): 
> 
> Upper Left  (  -0.6064394,  44.8937072) (  0d36'23.18"W, 44d53'37.35"N) 
> Lower Left  (  -0.6064394,  44.8901724) (  0d36'23.18"W, 44d53'24.62"N) 
> Upper Right (  -0.5975973,  44.8937072) (  0d35'51.35"W, 44d53'37.35"N) 
> Lower Right (  -0.5975973,  44.8901724) (  0d35'51.35"W, 44d53'24.62"N) 
> Center      (  -0.6020183,  44.8919398) (  0d36' 7.27"W, 44d53'30.98"N) 
> 
> Is it normal? 

At least it isn't a bug. Without -s_srs, the CRS info from the png file is
used which specifies TOWGS84[0,0,0,0,0,0,0]. When specifying the EPSG code
via -s_srs, the parameter +nadgrids=@null is used (in both cases EPSG:3857
and EPSG:3785).

In the former case, a "change of ellipsoid" is performed during coordinate
transformation (from the sphere to WGS84), in the latter case, this isn't
done. The difference is a latitude-only offset of around 20 km. What you
usually want is the latter transformation, i.e.  no change of ellipsoid.

Hermann




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/A-strange-thing-with-a-png-geospatial-file-and-gdalwarp-Is-it-a-bug-tp5075948p5075998.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From aborruso at gmail.com  Wed Sep  4 05:17:33 2013
From: aborruso at gmail.com (aborruso)
Date: Wed, 4 Sep 2013 05:17:33 -0700 (PDT)
Subject: [gdal-dev] A strange thing with a png geospatial file and
 gdalwarp. Is it a bug?
In-Reply-To: <1378295711582-5075998.post@n6.nabble.com>
References: <1378284685646-5075948.post@n6.nabble.com>
	<1378295711582-5075998.post@n6.nabble.com>
Message-ID: <1378297053966-5076002.post@n6.nabble.com>

Hi Hermann,
thank you very much.


peifer wrote
> At least it isn't a bug. Without -s_srs, the CRS info from the png file is
> used which specifies TOWGS84[0,0,0,0,0,0,0]. When specifying the EPSG code
> via -s_srs, the parameter +nadgrids=@null is used (in both cases EPSG:3857
> and EPSG:3785).

But there is another strange thing. Try to convert the original png file in
GTiff p with gdal_translate.

Then apply the same gdalwarp commands. In both, with -s_srs and without
-s_srs parameter, you obtain the same bounding box.

I have changed only the file format, and I obtain different results.

Is this normal?

Best regards,

Andrea




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/A-strange-thing-with-a-png-geospatial-file-and-gdalwarp-Is-it-a-bug-tp5075948p5076002.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Johan.Hallgren at sweco.se  Wed Sep  4 06:02:29 2013
From: Johan.Hallgren at sweco.se (Hallgren Johan)
Date: Wed, 4 Sep 2013 13:02:29 +0000
Subject: [gdal-dev] OGR with SDE support
Message-ID: <ac57b36d85a24471acb480093bf0ae4e@AMXPR07MB021.eurprd07.prod.outlook.com>

Hello,

Is there a prebuilt version of OGR with ArcSDE-support?

/Johan
________________________________________
Johan Hallgren
Sweco Position AB
Telefon direkt +46 (0)23 46492
Mobil +46 (0)73 8006492
johan.hallgren at sweco.se

From peifer at gmx.eu  Wed Sep  4 06:30:23 2013
From: peifer at gmx.eu (peifer)
Date: Wed, 4 Sep 2013 06:30:23 -0700 (PDT)
Subject: [gdal-dev] A strange thing with a png geospatial file and
 gdalwarp. Is it a bug?
In-Reply-To: <1378297053966-5076002.post@n6.nabble.com>
References: <1378284685646-5075948.post@n6.nabble.com>
	<1378295711582-5075998.post@n6.nabble.com>
	<1378297053966-5076002.post@n6.nabble.com>
Message-ID: <1378301423855-5076013.post@n6.nabble.com>

aborruso wrote
> I have changed only the file format, and I obtain different results.
> 
> Is this normal?

It is "normal", because more than the format has been changed. Compare the
CRS definitions in png vs. tif and you'll find and additional extension
definition in the tif:

EXTENSION["PROJ4","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0
+x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"]

The above "auto-correction" includes the +nadgrids=@null parameter, which in
return avoids the "change of ellipsoid" step in the transformation.

Hermann



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/A-strange-thing-with-a-png-geospatial-file-and-gdalwarp-Is-it-a-bug-tp5075948p5076013.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From schneider at occamlabs.de  Wed Sep  4 06:52:28 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Wed, 04 Sep 2013 15:52:28 +0200
Subject: [gdal-dev] Extracting (arbitrary?) overviews from ECW file
Message-ID: <52273B1C.8090703@occamlabs.de>

Dear list,

I am new to programming with GDAL (and to the ECW format). Let me say
thank you first, because my first experiences have been rather pleasant,
even if my setup is relatively involved (thanks everybody for providing
good documentation):

- Ubuntu 12.04 (AMD64)
- GDAL 1.10.1 (build from source)
- ECW SDK 5.0
- GDAL Java bindings

I successfully created a toy Java class for extracting regions from an
ECW file. Speed is impressive.

My observations/questions:

- If I understand correctly, ECW files internally do not have such a
thing as fixed overviews. However, ECW supports extraction of regions
with specified resolution on-the-fly. Is this correct?
- GDAL API reports overviews for ECW datasets. Having a first look at
the code, it seems to generate overview dimensions by subsequently
dividing height and width by two (until a minium side length of 128 has
been reached).

Final question: Is it possible to efficiently retrieve (regions of)
overviews at self-defined scales using the GDAL API? Or do I have to use
the ECW SDK for that?

Keep up the good work. Thanks for any pointers.

Best regards,
Markus

-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130904/83d8f73f/attachment.pgp>

From warmerdam at pobox.com  Wed Sep  4 09:15:11 2013
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed, 4 Sep 2013 09:15:11 -0700
Subject: [gdal-dev] Extracting (arbitrary?) overviews from ECW file
In-Reply-To: <52273B1C.8090703@occamlabs.de>
References: <52273B1C.8090703@occamlabs.de>
Message-ID: <CA+YzLBdTo6t-6+G+ewUjNpLwp85yrKHCx1JepJxAf88x0nnJKA@mail.gmail.com>

Markus,

I believe the GDAL ECW driver will pass RasterIO() requests through to the
ECW SDK to evaluate meaning that there is no constraint based on the
advertized power-of-two overviews exposed from GDAL and no loss of quality.

Best regards,
Frank


On Wed, Sep 4, 2013 at 6:52 AM, Markus Schneider <schneider at occamlabs.de>wrote:

> Dear list,
>
> I am new to programming with GDAL (and to the ECW format). Let me say
> thank you first, because my first experiences have been rather pleasant,
> even if my setup is relatively involved (thanks everybody for providing
> good documentation):
>
> - Ubuntu 12.04 (AMD64)
> - GDAL 1.10.1 (build from source)
> - ECW SDK 5.0
> - GDAL Java bindings
>
> I successfully created a toy Java class for extracting regions from an
> ECW file. Speed is impressive.
>
> My observations/questions:
>
> - If I understand correctly, ECW files internally do not have such a
> thing as fixed overviews. However, ECW supports extraction of regions
> with specified resolution on-the-fly. Is this correct?
> - GDAL API reports overviews for ECW datasets. Having a first look at
> the code, it seems to generate overview dimensions by subsequently
> dividing height and width by two (until a minium side length of 128 has
> been reached).
>
> Final question: Is it possible to efficiently retrieve (regions of)
> overviews at self-defined scales using the GDAL API? Or do I have to use
> the ECW SDK for that?
>
> Keep up the good work. Thanks for any pointers.
>
> Best regards,
> Markus
>
> --
> Markus Schneider
> CEO
>
> Occam Labs UG (haftungsbeschr?nkt)
> Godesberger Allee 139
> 53175 Bonn, Germany
>
> +49 228 93798874
>
> http://www.occamlabs.de
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130904/461f898d/attachment.html>

From schneider at occamlabs.de  Thu Sep  5 09:01:14 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Thu, 05 Sep 2013 18:01:14 +0200
Subject: [gdal-dev] Extracting (arbitrary?) overviews from ECW file
In-Reply-To: <CA+YzLBdTo6t-6+G+ewUjNpLwp85yrKHCx1JepJxAf88x0nnJKA@mail.gmail.com>
References: <52273B1C.8090703@occamlabs.de>
	<CA+YzLBdTo6t-6+G+ewUjNpLwp85yrKHCx1JepJxAf88x0nnJKA@mail.gmail.com>
Message-ID: <5228AACA.30901@occamlabs.de>

Frank,

thanks for your reply. Could you (or somebody else) give me a few more
details how to get hold of a raster region with a resolution that is not
defined by an overview?

Currently, I am able to extract regions from an overview using the
following steps (in Java):

...
  Dataset dataset = gdal.Open( "dataset.ecw", GA_ReadOnly );
  Band band = dataset.GetRasterBand( ... );
  band = band.GetOverview(...);
  band.ReadRaster(x,y, ...)
...

Afterwards, I have the raw data values in my array. It works fine for
any overview.

My problem is that I cannot figure out how to get hold of a Band for a
non-predefined overview. How would I do this?

Best regards,
Markus

Am 04.09.2013 18:15, schrieb Frank Warmerdam:
> Markus,
> 
> I believe the GDAL ECW driver will pass RasterIO() requests through to
> the ECW SDK to evaluate meaning that there is no constraint based on the
> advertized power-of-two overviews exposed from GDAL and no loss of quality.
> 
> Best regards,
> Frank
> 
> 
> On Wed, Sep 4, 2013 at 6:52 AM, Markus Schneider <schneider at occamlabs.de
> <mailto:schneider at occamlabs.de>> wrote:
> 
>     Dear list,
> 
>     I am new to programming with GDAL (and to the ECW format). Let me say
>     thank you first, because my first experiences have been rather pleasant,
>     even if my setup is relatively involved (thanks everybody for providing
>     good documentation):
> 
>     - Ubuntu 12.04 (AMD64)
>     - GDAL 1.10.1 (build from source)
>     - ECW SDK 5.0
>     - GDAL Java bindings
> 
>     I successfully created a toy Java class for extracting regions from an
>     ECW file. Speed is impressive.
> 
>     My observations/questions:
> 
>     - If I understand correctly, ECW files internally do not have such a
>     thing as fixed overviews. However, ECW supports extraction of regions
>     with specified resolution on-the-fly. Is this correct?
>     - GDAL API reports overviews for ECW datasets. Having a first look at
>     the code, it seems to generate overview dimensions by subsequently
>     dividing height and width by two (until a minium side length of 128 has
>     been reached).
> 
>     Final question: Is it possible to efficiently retrieve (regions of)
>     overviews at self-defined scales using the GDAL API? Or do I have to use
>     the ECW SDK for that?
> 
>     Keep up the good work. Thanks for any pointers.
> 
>     Best regards,
>     Markus
> 
>     --
>     Markus Schneider
>     CEO
> 
>     Occam Labs UG (haftungsbeschr?nkt)
>     Godesberger Allee 139
>     53175 Bonn, Germany
> 
>     +49 228 93798874 <tel:%2B49%20228%2093798874>
> 
>     http://www.occamlabs.de
> 
> 
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com <mailto:warmerdam at pobox.com>
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer


-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130905/2f9be949/attachment.pgp>

From schneider at occamlabs.de  Thu Sep  5 09:05:00 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Thu, 05 Sep 2013 18:05:00 +0200
Subject: [gdal-dev] GDAL Warp API Java bindings
Message-ID: <5228ABAC.5080604@occamlabs.de>

Hi again,

I would like to try using the Warp API from Java. It seems that there
are currently no Java bindings available.

- Did anbody work on Java bindings for the Warp API?
- How hard would it be to define them? I may be able to invest some time
here.

Best regards,
Markus

-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130905/2304a89d/attachment.pgp>

From kyle at pobox.com  Thu Sep  5 09:19:18 2013
From: kyle at pobox.com (Kyle Shannon)
Date: Thu, 5 Sep 2013 10:19:18 -0600
Subject: [gdal-dev] GDAL Warp API Java bindings
In-Reply-To: <5228ABAC.5080604@occamlabs.de>
References: <5228ABAC.5080604@occamlabs.de>
Message-ID: <CAJ0mEz3qfgrd+f_E0_PxQSY01udL5a7Vrd9EbX4Rh=RUE8rikQ@mail.gmail.com>

On Thu, Sep 5, 2013 at 10:05 AM, Markus Schneider
<schneider at occamlabs.de> wrote:
> Hi again,
>
> I would like to try using the Warp API from Java. It seems that there
> are currently no Java bindings available.
>
> - Did anbody work on Java bindings for the Warp API?
> - How hard would it be to define them? I may be able to invest some time
> here.
>
> Best regards,
> Markus
>
> --
> Markus Schneider
> CEO
>
> Occam Labs UG (haftungsbeschr?nkt)
> Godesberger Allee 139
> 53175 Bonn, Germany
>
> +49 228 93798874
>
> http://www.occamlabs.de
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

Markus,

What are you trying to do exactly?  I see that ReprojectImage() and
AutoCreateWarpedVRT are exposed in org.gdal.gdal.gdal:

http://gdal.org/java/

kss

From schneider at occamlabs.de  Thu Sep  5 09:30:29 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Thu, 05 Sep 2013 18:30:29 +0200
Subject: [gdal-dev] GDAL Warp API Java bindings
In-Reply-To: <CAJ0mEz3qfgrd+f_E0_PxQSY01udL5a7Vrd9EbX4Rh=RUE8rikQ@mail.gmail.com>
References: <5228ABAC.5080604@occamlabs.de>
	<CAJ0mEz3qfgrd+f_E0_PxQSY01udL5a7Vrd9EbX4Rh=RUE8rikQ@mail.gmail.com>
Message-ID: <5228B1A5.7070709@occamlabs.de>

kss,

thanks. gdal.ReprojectImage(..) looks like what I will be using then. :-)

My use case:

- My huge (ECW) dataset is in EPSG:28992
- I want to extract a defined region in EPSG:4326 as a (Java) BufferedImage

How can I get hold of a suitable destination dataset so I can use
ReprojectImage(...)?

Thanks,
Markus

Am 05.09.2013 18:19, schrieb Kyle Shannon:
> On Thu, Sep 5, 2013 at 10:05 AM, Markus Schneider
> <schneider at occamlabs.de> wrote:
>> Hi again,
>>
>> I would like to try using the Warp API from Java. It seems that there
>> are currently no Java bindings available.
>>
>> - Did anbody work on Java bindings for the Warp API?
>> - How hard would it be to define them? I may be able to invest some time
>> here.
>>
>> Best regards,
>> Markus
>>
>> --
>> Markus Schneider
>> CEO
>>
>> Occam Labs UG (haftungsbeschr?nkt)
>> Godesberger Allee 139
>> 53175 Bonn, Germany
>>
>> +49 228 93798874
>>
>> http://www.occamlabs.de
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> Markus,
> 
> What are you trying to do exactly?  I see that ReprojectImage() and
> AutoCreateWarpedVRT are exposed in org.gdal.gdal.gdal:
> 
> http://gdal.org/java/
> 
> kss
> 


-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130905/6515390b/attachment.pgp>

From kyle at pobox.com  Thu Sep  5 10:17:39 2013
From: kyle at pobox.com (Kyle Shannon)
Date: Thu, 5 Sep 2013 11:17:39 -0600
Subject: [gdal-dev] GDAL Warp API Java bindings
In-Reply-To: <5228B1A5.7070709@occamlabs.de>
References: <5228ABAC.5080604@occamlabs.de>
	<CAJ0mEz3qfgrd+f_E0_PxQSY01udL5a7Vrd9EbX4Rh=RUE8rikQ@mail.gmail.com>
	<5228B1A5.7070709@occamlabs.de>
Message-ID: <CAJ0mEz1P2shqjJYuuZ6F8Va0HJ9=JDJMyDfq+ASbQGV11waUpw@mail.gmail.com>

On Thu, Sep 5, 2013 at 10:30 AM, Markus Schneider
<schneider at occamlabs.de> wrote:
> kss,
>
> thanks. gdal.ReprojectImage(..) looks like what I will be using then. :-)
>
> My use case:
>
> - My huge (ECW) dataset is in EPSG:28992
> - I want to extract a defined region in EPSG:4326 as a (Java) BufferedImage
>
> How can I get hold of a suitable destination dataset so I can use
> ReprojectImage(...)?
>
> Thanks,
> Markus
>
> Am 05.09.2013 18:19, schrieb Kyle Shannon:
>> On Thu, Sep 5, 2013 at 10:05 AM, Markus Schneider
>> <schneider at occamlabs.de> wrote:
>>> Hi again,
>>>
>>> I would like to try using the Warp API from Java. It seems that there
>>> are currently no Java bindings available.
>>>
>>> - Did anbody work on Java bindings for the Warp API?
>>> - How hard would it be to define them? I may be able to invest some time
>>> here.
>>>
>>> Best regards,
>>> Markus
>>>
>>> --
>>> Markus Schneider
>>> CEO
>>>
>>> Occam Labs UG (haftungsbeschr?nkt)
>>> Godesberger Allee 139
>>> 53175 Bonn, Germany
>>>
>>> +49 228 93798874
>>>
>>> http://www.occamlabs.de
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>> Markus,
>>
>> What are you trying to do exactly?  I see that ReprojectImage() and
>> AutoCreateWarpedVRT are exposed in org.gdal.gdal.gdal:
>>
>> http://gdal.org/java/
>>
>> kss
>>
>
>
> --
> Markus Schneider
> CEO
>
> Occam Labs UG (haftungsbeschr?nkt)
> Godesberger Allee 139
> 53175 Bonn, Germany
>
> +49 228 93798874
>
> http://www.occamlabs.de
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

I believe normally you can use GDALSuggestedWarpOutput
(http://gdal.org/gdal__alg_8h.html#a816819e7495bfce06dbd110f7c57af65)
but that doesn't seem to be exposed.  If it's a simple case,
AutoCreateWarpedVRT() and CreateCopy() should work instead of
ReprojectImage().

kss

From fjitiaux at gmail.com  Thu Sep  5 10:23:39 2013
From: fjitiaux at gmail.com (Florent JITIAUX)
Date: Thu, 5 Sep 2013 19:23:39 +0200
Subject: [gdal-dev] GDAL Warp API Java bindings
In-Reply-To: <5228ABAC.5080604@occamlabs.de>
References: <5228ABAC.5080604@occamlabs.de>
Message-ID: <CAL81ghCNwDV4BjAgxBai=VJmF4d5-Z+d5x5wD7-a97RCTVC8NA@mail.gmail.com>

Hi,

in fact with the Java binding there's no method to get a BufferedImage from
a Dataset.

You can warp your image and get a Dataset

You have to create a (Java)Raster and fill it with the raster or a part of
the raster of the warped Dataset.
But be carefull because when you create a Raster you must create a correct
SampleModel and the right DataBuffer generally Byte or Int, it depends of
the type of the raster in the Dataset.

Florent


2013/9/5 Markus Schneider <schneider at occamlabs.de>

> Hi again,
>
> I would like to try using the Warp API from Java. It seems that there
> are currently no Java bindings available.
>
> - Did anbody work on Java bindings for the Warp API?
> - How hard would it be to define them? I may be able to invest some time
> here.
>
> Best regards,
> Markus
>
> --
> Markus Schneider
> CEO
>
> Occam Labs UG (haftungsbeschr?nkt)
> Godesberger Allee 139
> 53175 Bonn, Germany
>
> +49 228 93798874
>
> http://www.occamlabs.de
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130905/88c31f8b/attachment.html>

From eloi at openmailbox.org  Fri Sep  6 02:36:43 2013
From: eloi at openmailbox.org (Eloi)
Date: Fri, 06 Sep 2013 11:36:43 +0200
Subject: [gdal-dev] MOD13C2 assign coord. sist.
Message-ID: <5229A22B.10501@openmailbox.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all,

I am trying so assign the coordinate system to MODIS product MOD13C2
but do not know what string use to do this.

gdal_translate -a_srs 'do not know what to put here' -of GTiff
'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
0.05 Deg Monthly NDVI' ndvi_sinu.tif

Thanks in advance,

Eloi
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSKaIrAAoJEP9qulIE6g+yAxYIAJUbtd8ZPBBF44aI+v5/vheT
NV68vtbL39O1tlurN1YQPHsIESr+0pApHDBQO9DPjhbVZG7lK9Pvp4Sef/NzVuFY
banH9cM29a2aVm/jpLm9FjpRpp+EqV8KX7WQLujxPk7DRd4V0vilTqzFiK20Ebtd
jCDE2jdzZHyN3jCfc09hsystM1gqFa3wE+Cdsm1a8WdCU9iR8EflEdDgRVD1nvaO
PeWDbAZvy7nHx/Dlbz4R0vFihZuKiwzniPE/UdB06r6pzG6OtWkQAgEfxT6wh7Tw
8pASW1F/YpeX4gyiKxCfUfG0lE9AoYzUaCCvGGG43W1NnInutgcAajmqLVHW8J8=
=iXGc
-----END PGP SIGNATURE-----

From eloi at openmailbox.org  Fri Sep  6 02:28:53 2013
From: eloi at openmailbox.org (Eloi)
Date: Fri, 06 Sep 2013 11:28:53 +0200
Subject: [gdal-dev] gdal_translate -outsize resampling method?
Message-ID: <5229A055.3020606@openmailbox.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi all,

What is the resampling method used by gdal_translate when using the
- -outsize option?

In my case I will change resolution from 7200*3600 into 720*360.

Thanks! All the best,

Eloi
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSKaBVAAoJEP9qulIE6g+ytA0H/jQAdUpDTJ3s57PGoyVZHG/7
yTcaZNUrCa8/sxvcG5WyNleIMTJx0Doa2JCKeEyuJw21wJa5bYaA2lzGljq/O+Im
Ffb4qyzkCa2QDEWH9WsnBUNSBnrgB2PXiyEyTWAw7LeSWOR4F6zgMuNPcKN0amBc
zn68WGiUtvi8gXdjB/qtKQM0P9vfTmz23P5tr764kLfOTegaF7k4aOCKA/1ndGnY
j2gBu2Vha3dYfItFzTYNPQUPJJGfLEzVv195r6QPHpW4nRCEHHNBWovTP6ZQmTPz
dH/6jTFUu6gfDmurL6KDnBZ0yzY9Cr1Bc5eNeTfdwX+Ku9Oqf/N9nPoCkh8g+ss=
=gMcS
-----END PGP SIGNATURE-----

From jgomezdans at gmail.com  Fri Sep  6 02:53:16 2013
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Fri, 6 Sep 2013 10:53:16 +0100
Subject: [gdal-dev] MOD13C2 assign coord. sist.
In-Reply-To: <5229A22B.10501@openmailbox.org>
References: <5229A22B.10501@openmailbox.org>
Message-ID: <CAMWde5p5U1Ka-6w8io9gaj6YT7G4K7q=F_jqa-o0NZXZDeNV-A@mail.gmail.com>

Hi Eloi,

I think that the projection for the global CMG MOD13 products is lat/long,
and is stored in the dataset itself (I deleted the MOD13's last weeek, so
can't check ;-D). You shouldn't need to specify it, GDAL will pick it up.
In case it doesn't pick it up, you want "EPSG:4326", but I'm sure it will
do.

Hope that helps,
Jose


On 6 September 2013 10:36, Eloi <eloi at openmailbox.org> wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi all,
>
> I am trying so assign the coordinate system to MODIS product MOD13C2
> but do not know what string use to do this.
>
> gdal_translate -a_srs 'do not know what to put here' -of GTiff
>
> 'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
> 0.05 Deg Monthly NDVI' ndvi_sinu.tif
>
> Thanks in advance,
>
> Eloi
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.11 (GNU/Linux)
> Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/
>
> iQEcBAEBAgAGBQJSKaIrAAoJEP9qulIE6g+yAxYIAJUbtd8ZPBBF44aI+v5/vheT
> NV68vtbL39O1tlurN1YQPHsIESr+0pApHDBQO9DPjhbVZG7lK9Pvp4Sef/NzVuFY
> banH9cM29a2aVm/jpLm9FjpRpp+EqV8KX7WQLujxPk7DRd4V0vilTqzFiK20Ebtd
> jCDE2jdzZHyN3jCfc09hsystM1gqFa3wE+Cdsm1a8WdCU9iR8EflEdDgRVD1nvaO
> PeWDbAZvy7nHx/Dlbz4R0vFihZuKiwzniPE/UdB06r6pzG6OtWkQAgEfxT6wh7Tw
> 8pASW1F/YpeX4gyiKxCfUfG0lE9AoYzUaCCvGGG43W1NnInutgcAajmqLVHW8J8=
> =iXGc
> -----END PGP SIGNATURE-----
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/3d76398a/attachment.html>

From jukka.rahkonen at mmmtike.fi  Fri Sep  6 03:21:31 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 6 Sep 2013 10:21:31 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?gdal=5Ftranslate_-outsize_resampling_method?=
	=?utf-8?q?=3F?=
References: <5229A055.3020606@openmailbox.org>
Message-ID: <loom.20130906T122017-137@post.gmane.org>

Eloi <eloi <at> openmailbox.org> writes:


> Hi all,
> 
> What is the resampling method used by gdal_translate when using the
> -outsize option?

Nearest neighbor. Use gdalwarp if you want to use some other resampling.

-Jukka Rahkonen-




From eloi at openmailbox.org  Fri Sep  6 03:33:33 2013
From: eloi at openmailbox.org (Eloi)
Date: Fri, 06 Sep 2013 12:33:33 +0200
Subject: [gdal-dev] MOD13C2 assign coord. sist.
In-Reply-To: <CAMWde5p5U1Ka-6w8io9gaj6YT7G4K7q=F_jqa-o0NZXZDeNV-A@mail.gmail.com>
References: <5229A22B.10501@openmailbox.org>
	<CAMWde5p5U1Ka-6w8io9gaj6YT7G4K7q=F_jqa-o0NZXZDeNV-A@mail.gmail.com>
Message-ID: <5229AF7D.8000107@openmailbox.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 09/06/2013 11:53 AM, Jose Gomez-Dans wrote:
> Hi Eloi,
> 
> I think that the projection for the global CMG MOD13 products is
> lat/long, and is stored in the dataset itself (I deleted the
> MOD13's last weeek, so can't check ;-D). You shouldn't need to
> specify it, GDAL will pick it up. In case it doesn't pick it up,
> you want "EPSG:4326", but I'm sure it will do.
> 
> Hope that helps, Jose
> 
> 
> On 6 September 2013 10:36, Eloi <eloi at openmailbox.org> wrote:
> 
> Hi all,
> 
> I am trying so assign the coordinate system to MODIS product
> MOD13C2 but do not know what string use to do this.
> 
> gdal_translate -a_srs 'do not know what to put here' -of GTiff
> 
> 'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
>
> 
0.05 Deg Monthly NDVI' ndvi_sinu.tif
> 
> Thanks in advance,
> 
> Eloi
>> _______________________________________________ gdal-dev mailing
>> list gdal-dev at lists.osgeo.org 
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> 
> 

Hi again,

Jose, thanks for your quick reply.

Assigning EPSG:4326 nothing comes up when loading the image with
others data in EPSG:4326.

gdal_translate -a_srs EPSG:4326 -of GTiff
'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
0.05 Deg Monthly NDVI' ndvi_4326.tif

If I try to use gdalwarp and put EPSG:4326 as target I get following
error.
gdalwarp -t_srs EPSG:4326 -of GTiff -r average
'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
0.05 Deg Monthly NDVI' ndvi_4326.tif
ERROR 1: No PROJ.4 translation for source SRS, coordinate
transformation initialization has failed.
Creating output file that is -2147483648P x -2147483648L.
ERROR 1: Attempt to create -2147483648x-2147483648 dataset is
illegal,sizes must be larger than zero.

The only way it works is using a_ullr -180 90 180 -90 but I am not
sure if this is the correct way of doing it.

gdal_translate -a_ullr -180 90 180 -90 -a_srs EPSG:4326 -of GTiff
'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
0.05 Deg Monthly NDVI' ndvi_4326.tif

Cheers,

Eloi
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSKa99AAoJEP9qulIE6g+yE+kH/0dHqNokOfnSBtFMRV9gpy9n
N6PYI1qDVv+p08qC2kx6bvNa6Ae6PepPJmWebKCB8IepAsc3YBWYBrjrWVFkWslO
1cj4FthxhMR6KrPzLzYXCjmgy3SUBnYB5aVFu0SJR/+KMLkg/kWoW5SC4RQJQ8Tj
kicfT0fAm/aVvvX+USX8PdXTjEyGtR9uqwIOqmp6xgzwPM1A/QPqvUKKIZL5ujkZ
sta7BFmlpqHtsh3gkNxIfpy/gkaYUlpn/BJMy3OywjvB8BWO4j+Vvut9OM7wSQUS
PibSNY7/6CtWoUxjuOwDYfFHKMisxQebRyVD9uqXehzn1CKzjjkojWhJGdttc/8=
=l5A9
-----END PGP SIGNATURE-----

From eloi at openmailbox.org  Fri Sep  6 03:34:32 2013
From: eloi at openmailbox.org (Eloi)
Date: Fri, 06 Sep 2013 12:34:32 +0200
Subject: [gdal-dev] gdal_translate -outsize resampling method?
In-Reply-To: <loom.20130906T122017-137@post.gmane.org>
References: <5229A055.3020606@openmailbox.org>
	<loom.20130906T122017-137@post.gmane.org>
Message-ID: <5229AFB8.7050501@openmailbox.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 09/06/2013 12:21 PM, Jukka Rahkonen wrote:
> Eloi <eloi <at> openmailbox.org> writes:
> 
> 
>> Hi all,
>> 
>> What is the resampling method used by gdal_translate when using
>> the -outsize option?
> 
> Nearest neighbor. Use gdalwarp if you want to use some other
> resampling.
> 
> -Jukka Rahkonen-

Thanks!

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSKa+4AAoJEP9qulIE6g+yOCwH/0o1JDdWp5+0xQDTQ7NdXTSl
jQ9DsMu2qEp5h/k/9O2pt2DXHdJ43xh+TkYLkle3lPhBX/nslsRLLVRfu77Oz5/0
DNj5t8zJfsUIAD7HzJGGu046Eo0Y+Q+OgH5/AazcyYPev9krd+ufBEmw4bZTBqr5
Bz6p7nazX8WK37pIJBDca3pij+3nXCeTZmkmtpYHVt9/uZvS0oE65a0eczkLTxxt
jlw9/K422ZvqclnOuOpN9Msn2jxpI5Lat6EuDUR+WF2EXhAtmhIIqVAuWsVhWUq9
JavMk5XMRG11KN0D3Ii1F8OZLY3adKvAsSxY4ipzM2IHLyk5EGpFvqL2VPsEPi4=
=DcBp
-----END PGP SIGNATURE-----

From jgomezdans at gmail.com  Fri Sep  6 04:38:44 2013
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Fri, 6 Sep 2013 12:38:44 +0100
Subject: [gdal-dev] MOD13C2 assign coord. sist.
In-Reply-To: <5229AF7D.8000107@openmailbox.org>
References: <5229A22B.10501@openmailbox.org>
	<CAMWde5p5U1Ka-6w8io9gaj6YT7G4K7q=F_jqa-o0NZXZDeNV-A@mail.gmail.com>
	<5229AF7D.8000107@openmailbox.org>
Message-ID: <CAMWde5qV2Z4OtF217xr6XU84xLEALCx4SFaypi9_=BSUm3m87Q@mail.gmail.com>

On 6 September 2013 11:33, Eloi <eloi at openmailbox.org> wrote:

> Assigning EPSG:4326 nothing comes up when loading the image with
> others data in EPSG:4326.
>

You are right, the data is missing georeference information:
$ gdalinfo
'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
0.05 Deg Monthly NDVI'
[snip snip snip]
Corner Coordinates:
Upper Left  (  -1.0000000,  -1.0000000)
Lower Left  (  -1.0000000,  -1.0000000)
Upper Right (  -1.0000000,  -1.0000000)
Lower Right (  -1.0000000,  -1.0000000)
Center      (  -1.0000000,  -1.0000000)

So you are right, you need to specify it. This works
$ gdal_translate -of GTiff  -a_srs "EPSG:4326" -a_ullr -180 90 180 -90 \
'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
0.05 Deg Monthly NDVI' ndvi.tif

Cheers,
Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/eba9d3ea/attachment.html>

From eloi at openmailbox.org  Fri Sep  6 04:58:44 2013
From: eloi at openmailbox.org (Eloi)
Date: Fri, 06 Sep 2013 13:58:44 +0200
Subject: [gdal-dev] MOD13C2 assign coord. sist.
In-Reply-To: <CAMWde5qV2Z4OtF217xr6XU84xLEALCx4SFaypi9_=BSUm3m87Q@mail.gmail.com>
References: <5229A22B.10501@openmailbox.org>
	<CAMWde5p5U1Ka-6w8io9gaj6YT7G4K7q=F_jqa-o0NZXZDeNV-A@mail.gmail.com>
	<5229AF7D.8000107@openmailbox.org>
	<CAMWde5qV2Z4OtF217xr6XU84xLEALCx4SFaypi9_=BSUm3m87Q@mail.gmail.com>
Message-ID: <5229C374.9090407@openmailbox.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 09/06/2013 01:38 PM, Jose Gomez-Dans wrote:
> On 6 September 2013 11:33, Eloi <eloi at openmailbox.org> wrote:
> 
>> Assigning EPSG:4326 nothing comes up when loading the image with 
>> others data in EPSG:4326.
>> 
> 
> You are right, the data is missing georeference information: $
> gdalinfo 
> 'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
>
> 
0.05 Deg Monthly NDVI'
> [snip snip snip] Corner Coordinates: Upper Left  (  -1.0000000,
> -1.0000000) Lower Left  (  -1.0000000,  -1.0000000) Upper Right (
> -1.0000000,  -1.0000000) Lower Right (  -1.0000000,  -1.0000000) 
> Center      (  -1.0000000,  -1.0000000)
> 
> So you are right, you need to specify it. This works $
> gdal_translate -of GTiff  -a_srs "EPSG:4326" -a_ullr -180 90 180
> -90 \ 
> 'HDF4_EOS:EOS_GRID:"MOD13C2.A2000032.005.2006272104028.hdf":MOD_Grid_monthly_CMG_VI:CMG
>
> 
0.05 Deg Monthly NDVI' ndvi.tif
> 
> Cheers, Jose
> 

Yes, but is this the right way of doing it? Because basically with
a_llur option the image is being gereferenced and it may create some
distortions, I am correct? Nevertheless the result is quit good.
Eloi
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSKcN0AAoJEP9qulIE6g+ypTEH/1rFCnQ45ozg0UU/RALA9eem
a36Vxa9DARXZF3t5+uLhDsKybsB/PcXlSGLRuaWifhWyouQJukAS9FE99/D0D0q3
fUtXyfg1MTBM/cuIryjDT18zebzX9HfdKfe0WnY6Kum8WYxQzzllfLSIwplHl4XF
oS0q9Oi9/CNJB4YbU+xbQie8xFOT/29g2fdiMxTxSe0Zgn+5Hqn2QUXEQOD9cpd7
zYDYMCvQPYh3+lRdo6cZN9auZn47Is8sLi+91S6/Ng8UL9g8faMq9ITYDXZwRYuQ
TcBBtFCosbAB9to18fbnalRzo5QPhECck1Mz0zmIj0j23McMbBfyWKQoY5LcMT4=
=3rrM
-----END PGP SIGNATURE-----

From lucena_ivan at hotmail.com  Fri Sep  6 05:04:38 2013
From: lucena_ivan at hotmail.com (Ivan Lucena)
Date: Fri, 6 Sep 2013 08:04:38 -0400
Subject: [gdal-dev] problems building GDAL trunk on MAC OS X
Message-ID: <BLU173-W24EDC3B005F2A6FA4229F9903C0@phx.gbl>

Hi there,

After a long time since my last svn update from the trunk on that machine, now I am getting this error:

Undefined symbols:
  "_environ", referenced from:
      _CPLSpawnAsync in cpl_spawn.o
      _CPLSpawnAsync in cpl_spawn.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make[3]: *** [libgdal.la] Error 1
make[2]: *** [check-lib] Error 2
make[1]: *** [.build-conf] Error 2
make: *** [.build-impl] Error 2

My configure is a simple as that:

./configure --with-macosx-framework

Environment versions:

$ gcc
i686-apple-darwin10-gcc-4.2.1

$ uname -a
Darwin ***.***.*** 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386

That problem seems to be related to latest client/server stuff.

Looking at the code on cpl_spawn.c it seems like a simple problem.

#ifdef HAVE_POSIX_SPAWNP
    #include <spawn.h>
    #ifdef __APPLE__
        #include <TargetConditionals.h>
    #endif
    #if defined(__APPLE__) && !defined(TARGET_OS_IPHONE)
        #include <crt_externs.h>
        #define environ (*_NSGetEnviron())
    #else
        extern char** environ;
    #endif
#endif

I tried to play with those -D variables on configure but it only got worse.

It is a old machine so maybe I am the only one having that problem. I should just updated something. That's all.

But if someone got into to that and know how to solve it, please let me know. I will appreciate.

Best regards,

Ivan

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/344b4c15/attachment.html>

From woklist at kyngchaos.com  Fri Sep  6 06:26:51 2013
From: woklist at kyngchaos.com (William Kyngesburye)
Date: Fri, 6 Sep 2013 08:26:51 -0500
Subject: [gdal-dev] problems building GDAL trunk on MAC OS X
In-Reply-To: <BLU173-W24EDC3B005F2A6FA4229F9903C0@phx.gbl>
References: <BLU173-W24EDC3B005F2A6FA4229F9903C0@phx.gbl>
Message-ID: <DDF38AD0-C516-4B65-8745-765BCB8BE8C3@kyngchaos.com>

A fix for iOS broke OS X:

http://trac.osgeo.org/gdal/ticket/5197

See my comments for a solution until it gets fixed again in source.

On Sep 6, 2013, at 7:04 AM, Ivan Lucena wrote:

> Hi there,
> 
> After a long time since my last svn update from the trunk on that machine, now I am getting this error:
> 
> Undefined symbols:
>   "_environ", referenced from:
>       _CPLSpawnAsync in cpl_spawn.o
>       _CPLSpawnAsync in cpl_spawn.o
> ld: symbol(s) not found
> collect2: ld returned 1 exit status
> make[3]: *** [libgdal.la] Error 1
> make[2]: *** [check-lib] Error 2
> make[1]: *** [.build-conf] Error 2
> make: *** [.build-impl] Error 2
> 
> My configure is a simple as that:
> 
> ./configure --with-macosx-framework
> 
> Environment versions:
> 
> $ gcc
> i686-apple-darwin10-gcc-4.2.1
> 
> $ uname -a
> Darwin ***.***.*** 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386
> 
> That problem seems to be related to latest client/server stuff.
> 
> Looking at the code on cpl_spawn.c it seems like a simple problem.
> 
> #ifdef HAVE_POSIX_SPAWNP
>     #include <spawn.h>
>     #ifdef __APPLE__
>         #include <TargetConditionals.h>
>     #endif
>     #if defined(__APPLE__) && !defined(TARGET_OS_IPHONE)
>         #include <crt_externs.h>
>         #define environ (*_NSGetEnviron())
>     #else
>         extern char** environ;
>     #endif
> #endif
> 
> I tried to play with those -D variables on configure but it only got worse.
> 
> It is a old machine so maybe I am the only one having that problem. I should just updated something. That's all.
> 
> But if someone got into to that and know how to solve it, please let me know. I will appreciate.
> 
> Best regards,
> 
> Ivan
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-----
William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
http://www.kyngchaos.com/

"This is a question about the past, is it? ... How can I tell that the past isn't a fiction designed to account for the discrepancy between my immediate physical sensations and my state of mind?"

- The Ruler of the Universe



From lucena_ivan at hotmail.com  Fri Sep  6 06:42:22 2013
From: lucena_ivan at hotmail.com (Ivan Lucena)
Date: Fri, 6 Sep 2013 09:42:22 -0400
Subject: [gdal-dev] problems building GDAL trunk on MAC OS X
In-Reply-To: <DDF38AD0-C516-4B65-8745-765BCB8BE8C3@kyngchaos.com>
References: <BLU173-W24EDC3B005F2A6FA4229F9903C0@phx.gbl>,
	<DDF38AD0-C516-4B65-8745-765BCB8BE8C3@kyngchaos.com>
Message-ID: <BLU173-W35BD430FEC39AE318A8540903C0@phx.gbl>

Thanks William,

It looks like a safe solution independent from environment versions to do add the ==0 condition:

        #if defined(__APPLE__) && !defined(TARGET_OS_IPHONE)

    #if defined(__APPLE__) && (!defined(TARGET_OS_IPHONE) || TARGET_OS_IPHONE==0)

But I am not building on a simulator or building for iPhone.

Do you think think we should commit that change?

Best regards,

Ivan


> Subject: Re: [gdal-dev] problems building GDAL trunk on MAC OS X
> From: woklist at kyngchaos.com
> Date: Fri, 6 Sep 2013 08:26:51 -0500
> CC: gdal-dev at lists.osgeo.org
> To: lucena_ivan at hotmail.com
> 
> A fix for iOS broke OS X:
> 
> http://trac.osgeo.org/gdal/ticket/5197
> 
> See my comments for a solution until it gets fixed again in source.
> 
> On Sep 6, 2013, at 7:04 AM, Ivan Lucena wrote:
> 
> > Hi there,
> > 
> > After a long time since my last svn update from the trunk on that machine, now I am getting this error:
> > 
> > Undefined symbols:
> >   "_environ", referenced from:
> >       _CPLSpawnAsync in cpl_spawn.o
> >       _CPLSpawnAsync in cpl_spawn.o
> > ld: symbol(s) not found
> > collect2: ld returned 1 exit status
> > make[3]: *** [libgdal.la] Error 1
> > make[2]: *** [check-lib] Error 2
> > make[1]: *** [.build-conf] Error 2
> > make: *** [.build-impl] Error 2
> > 
> > My configure is a simple as that:
> > 
> > ./configure --with-macosx-framework
> > 
> > Environment versions:
> > 
> > $ gcc
> > i686-apple-darwin10-gcc-4.2.1
> > 
> > $ uname -a
> > Darwin ***.***.*** 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1/RELEASE_I386 i386
> > 
> > That problem seems to be related to latest client/server stuff.
> > 
> > Looking at the code on cpl_spawn.c it seems like a simple problem.
> > 
> > #ifdef HAVE_POSIX_SPAWNP
> >     #include <spawn.h>
> >     #ifdef __APPLE__
> >         #include <TargetConditionals.h>
> >     #endif
> >     #if defined(__APPLE__) && !defined(TARGET_OS_IPHONE)
> >         #include <crt_externs.h>
> >         #define environ (*_NSGetEnviron())
> >     #else
> >         extern char** environ;
> >     #endif
> > #endif
> > 
> > I tried to play with those -D variables on configure but it only got worse.
> > 
> > It is a old machine so maybe I am the only one having that problem. I should just updated something. That's all.
> > 
> > But if someone got into to that and know how to solve it, please let me know. I will appreciate.
> > 
> > Best regards,
> > 
> > Ivan
> > 
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> -----
> William Kyngesburye <kyngchaos*at*kyngchaos*dot*com>
> http://www.kyngchaos.com/
> 
> "This is a question about the past, is it? ... How can I tell that the past isn't a fiction designed to account for the discrepancy between my immediate physical sensations and my state of mind?"
> 
> - The Ruler of the Universe
> 
> 
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/2dbd1673/attachment.html>

From hbobenicio at gmail.com  Fri Sep  6 09:54:24 2013
From: hbobenicio at gmail.com (Hugo Benicio)
Date: Fri, 6 Sep 2013 13:54:24 -0300
Subject: [gdal-dev] Creating an OGRPolygon from an OGREnvelope
In-Reply-To: <CA+YzLBde8r7P_pTaKYGtoBf2Oj4WD50H6YgfEYKPXw9NKq0Lyw@mail.gmail.com>
References: <CAKGFd-wHHL0FLLQ0eN0Z92GzdUt0=RZt0_W5bYpf8sNWD0jpZQ@mail.gmail.com>
	<CA+YzLBde8r7P_pTaKYGtoBf2Oj4WD50H6YgfEYKPXw9NKq0Lyw@mail.gmail.com>
Message-ID: <CAKGFd-x_vHwbCisyJxV57ric0+DCvqLMzdKjvzf8COZo+86asA@mail.gmail.com>

Thanks for you awnser, Frank.
At the end, that conversion was not needed for me in my code.


On Fri, Aug 30, 2013 at 9:34 PM, Frank Warmerdam <warmerdam at pobox.com>wrote:

> Hugo,
>
> OGREnvelope is not treated as a first class geometry in OGR and you are
> pretty much stuck creating a polygon geometry point by point from the
> envelope values.  Kind of sucky, I know.
>
> Best regards,
> Frank
>
>
> On Fri, Aug 30, 2013 at 11:57 AM, Hugo Benicio <hbobenicio at gmail.com>wrote:
>
>> Hi guys! Easy question here:
>>
>> I have an OGREnvelope describing a rectangle that I want to use as an
>> OGRPolygon.
>> What is the correct way to do that? What I need is a OGRPolygon
>> representing a rectangle from my OGREnvelope.
>> Do I have to manually assign point by point to it? (how?) Or there is
>> some handy method I can use (union?).
>>
>> Thanks in advance.
>> Hugo.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/a5167bb9/attachment.html>

From David.Szlucha at exelisvis.com  Fri Sep  6 10:54:33 2013
From: David.Szlucha at exelisvis.com (David Szlucha)
Date: Fri, 6 Sep 2013 11:54:33 -0600
Subject: [gdal-dev] GDAL DLL and plugin with mixed compiler versions
Message-ID: <0A35EA74E38BA04787179D409AF0CB3F0615DD61@coexch01.rsinc.com>

I have a GDAL plugin that is built with VS 2005 SP1 that I'm trying to
use with a GDAL 1.8 DLL that was built with VS 2008. I cannot rebuild
the GDAL 1.8 DLL as it is provided by a different vendor/application.

 

I've found that the GDAL utilities crash when they are exiting (as well
as some functionality in the vendor/application that our plugin was
built for) in Windows 7. This does not seem to be a problem in Windows
XP. 

 

I have limited information in the debugger but I suspect the issue might
be in the GDAL driver manager deconstructor as I have created a "dummy"
GDAL plugin that simply registers itself as a plugin and does nothing
else and exhibits the same crash.

 

After some internet searching it looks as if this problem has occurred
with other GDAL plugins and the solution was to rebuild the plugin using
the same compiler that built the GDAL DLL.

 

Since my project consists of several other DLLs that I can't readily be
updated to VS 2008 I'm wondering if anyone has come across this issue in
their own plugins and may have attempted to fix the issue with mixed
compiler versions?

 

Thanks!

 

David

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/8ce55b76/attachment-0001.html>

From andre.vautour at caris.com  Fri Sep  6 12:36:20 2013
From: andre.vautour at caris.com (Andre Vautour)
Date: Fri, 06 Sep 2013 16:36:20 -0300
Subject: [gdal-dev] WCS 1.1.x with no bands specified
Message-ID: <522A2EB4.2020905@caris.com>

Hi all,

I am trying to open a coverage from a 1.1x WCS server that has multiple 
fields in its range subset. The WCS XML file is at its most basic form:

<WCS_GDAL>
<ServiceURL>http://www.example.com/wcs/mywcs?</ServiceURL>
<CoverageName>someCoverageIdentifier</CoverageName>
<Version>1.1.1</Version>
</WCS_GDAL>

The GDAL documentation has the following:
/FieldName: Name of the field being accessed. Used only with WCS 1.1.0+. 
Defaults to the first field in the DescribeCoverage result./

That means that, when no field name is specified, GDAL adds 
&RangeSubset=<firstField> to the GetCoverage request.

The 1.1.0 specification has this to say about that RangeSubset parameter 
as it relates to the GetCoverage request:
/    (Optional) Request only some fields OR subsets of some fields (OR 
list fields to request nondefault interpolation on them)./

Is there a way to get all the fields of a coverage in one single raster 
through GDAL using WCS?
If not, is there a reason why that is not supported?

Thanks,
Andr?

Any views or opinions expressed in this email are solely those of the 
author and do not necessarily represent those of the company. No binding 
contract will result from this email until such time as a written 
document is signed on behalf of the company.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130906/768eb7d3/attachment.html>

From szekerest at gmail.com  Sat Sep  7 03:21:57 2013
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat, 7 Sep 2013 12:21:57 +0200
Subject: [gdal-dev] GDAL DLL and plugin with mixed compiler versions
In-Reply-To: <0A35EA74E38BA04787179D409AF0CB3F0615DD61@coexch01.rsinc.com>
References: <0A35EA74E38BA04787179D409AF0CB3F0615DD61@coexch01.rsinc.com>
Message-ID: <CACALY+RFHDjqvuWDsHq0Hbrzu0mwPtvkyGbv_TMnoPLk9dXOHg@mail.gmail.com>

David,

You should anyway use a consistent build along your system or make sure you
use your own version of gdal dll which is compatible with your plugin.
Mixing dependencies from different sources, compiled by different version
may cause unpredictable issues and crashes. You may either think to upgrade
your dll for VS2008 or isolate your application to load your specific
version. Not sure how that can be done technically without a more detailed
description of your software components/architecture.

Best regards,

Tamas





2013/9/6 David Szlucha <David.Szlucha at exelisvis.com>

> I have a GDAL plugin that is built with VS 2005 SP1 that I?m trying to use
> with a GDAL 1.8 DLL that was built with VS 2008. I cannot rebuild the GDAL
> 1.8 DLL as it is provided by a different vendor/application.****
>
> ** **
>
> I?ve found that the GDAL utilities crash when they are exiting (as well as
> some functionality in the vendor/application that our plugin was built for)
> in Windows 7. This does not seem to be a problem in Windows XP. ****
>
> ** **
>
> I have limited information in the debugger but I suspect the issue might
> be in the GDAL driver manager deconstructor as I have created a ?dummy?
> GDAL plugin that simply registers itself as a plugin and does nothing else
> and exhibits the same crash.****
>
> ** **
>
> After some internet searching it looks as if this problem has occurred
> with other GDAL plugins and the solution was to rebuild the plugin using
> the same compiler that built the GDAL DLL.****
>
> ** **
>
> Since my project consists of several other DLLs that I can?t readily be
> updated to VS 2008 I?m wondering if anyone has come across this issue in
> their own plugins and may have attempted to fix the issue with mixed
> compiler versions?****
>
> ** **
>
> Thanks!****
>
> ** **
>
> David****
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130907/cc07f57b/attachment.html>

From cgodkin at gmail.com  Sat Sep  7 06:38:43 2013
From: cgodkin at gmail.com (Carl Godkin)
Date: Sat, 7 Sep 2013 06:38:43 -0700
Subject: [gdal-dev] GDAL DLL and plugin with mixed compiler versions
In-Reply-To: <CACALY+RFHDjqvuWDsHq0Hbrzu0mwPtvkyGbv_TMnoPLk9dXOHg@mail.gmail.com>
References: <0A35EA74E38BA04787179D409AF0CB3F0615DD61@coexch01.rsinc.com>
	<CACALY+RFHDjqvuWDsHq0Hbrzu0mwPtvkyGbv_TMnoPLk9dXOHg@mail.gmail.com>
Message-ID: <CAE=8kmncULDh0_xdcOLXyS6wRjqxbGtAyZvrUKrOCMs9Vi2Ktg@mail.gmail.com>

I agree with Tamas that you are going to have hard-to-isolate problems
mixing compiler versions.  I have sort of a similar problem and I'm going
to partially hijack this thread to see if anyone has any suggestions:

We use the latest version of GDAL we can (about to upgrade to 10.0.1) and
try to use the latest compilers. Currently we build with gcc 4.4 and VS
2010 although we are eager to upgrade to gcc 4.6 and VS 2012.  However, I
don't think we can do so because we need MrSID support from GDAL and they
(LizardTech) only support up to gcc 4.4 and VS 2010 with their DSDK and I
want to avoid the mixed-compiler problems we're warning David about.

Has anyone figured out a way to work around this limitation?

Thanks very much,

carl


On Sat, Sep 7, 2013 at 3:21 AM, Tamas Szekeres <szekerest at gmail.com> wrote:

> David,
>
> You should anyway use a consistent build along your system or make sure
> you use your own version of gdal dll which is compatible with your plugin.
> Mixing dependencies from different sources, compiled by different version
> may cause unpredictable issues and crashes. You may either think to upgrade
> your dll for VS2008 or isolate your application to load your specific
> version. Not sure how that can be done technically without a more detailed
> description of your software components/architecture.
>
> Best regards,
>
> Tamas
>
>
>
>
>
> 2013/9/6 David Szlucha <David.Szlucha at exelisvis.com>
>
>> I have a GDAL plugin that is built with VS 2005 SP1 that I?m trying to
>> use with a GDAL 1.8 DLL that was built with VS 2008. I cannot rebuild the
>> GDAL 1.8 DLL as it is provided by a different vendor/application.****
>>
>> ** **
>>
>> I?ve found that the GDAL utilities crash when they are exiting (as well
>> as some functionality in the vendor/application that our plugin was built
>> for) in Windows 7. This does not seem to be a problem in Windows XP. ****
>>
>> ** **
>>
>> I have limited information in the debugger but I suspect the issue might
>> be in the GDAL driver manager deconstructor as I have created a ?dummy?
>> GDAL plugin that simply registers itself as a plugin and does nothing else
>> and exhibits the same crash.****
>>
>> ** **
>>
>> After some internet searching it looks as if this problem has occurred
>> with other GDAL plugins and the solution was to rebuild the plugin using
>> the same compiler that built the GDAL DLL.****
>>
>> ** **
>>
>> Since my project consists of several other DLLs that I can?t readily be
>> updated to VS 2008 I?m wondering if anyone has come across this issue in
>> their own plugins and may have attempted to fix the issue with mixed
>> compiler versions?****
>>
>> ** **
>>
>> Thanks!****
>>
>> ** **
>>
>> David****
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130907/f7d8c03b/attachment.html>

From szekerest at gmail.com  Sat Sep  7 10:55:06 2013
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat, 7 Sep 2013 19:55:06 +0200
Subject: [gdal-dev] GDAL DLL and plugin with mixed compiler versions
In-Reply-To: <CAE=8kmncULDh0_xdcOLXyS6wRjqxbGtAyZvrUKrOCMs9Vi2Ktg@mail.gmail.com>
References: <0A35EA74E38BA04787179D409AF0CB3F0615DD61@coexch01.rsinc.com>
	<CACALY+RFHDjqvuWDsHq0Hbrzu0mwPtvkyGbv_TMnoPLk9dXOHg@mail.gmail.com>
	<CAE=8kmncULDh0_xdcOLXyS6wRjqxbGtAyZvrUKrOCMs9Vi2Ktg@mail.gmail.com>
Message-ID: <CACALY+RH8Pe7X9neGWw79xSPm62NbKdioPD24nO1rjfk4wv-xQ@mail.gmail.com>

Carl,

I don't see CRT dependencies in the dll-s provided by the MrSID SDK so it
might less likely be an issue if you link against their the libs in a
VS2012 compilation. I also wanted to add VS2012 packages at
http://www.gisinternals.com/sdk/ but I didn't have enough spare time so far
to complete this effort.

Best regards,

Tamas




2013/9/7 Carl Godkin <cgodkin at gmail.com>

> I agree with Tamas that you are going to have hard-to-isolate problems
> mixing compiler versions.  I have sort of a similar problem and I'm going
> to partially hijack this thread to see if anyone has any suggestions:
>
> We use the latest version of GDAL we can (about to upgrade to 10.0.1) and
> try to use the latest compilers. Currently we build with gcc 4.4 and VS
> 2010 although we are eager to upgrade to gcc 4.6 and VS 2012.  However, I
> don't think we can do so because we need MrSID support from GDAL and they
> (LizardTech) only support up to gcc 4.4 and VS 2010 with their DSDK and I
> want to avoid the mixed-compiler problems we're warning David about.
>
> Has anyone figured out a way to work around this limitation?
>
> Thanks very much,
>
> carl
>
>
> On Sat, Sep 7, 2013 at 3:21 AM, Tamas Szekeres <szekerest at gmail.com>wrote:
>
>> David,
>>
>> You should anyway use a consistent build along your system or make sure
>> you use your own version of gdal dll which is compatible with your plugin.
>> Mixing dependencies from different sources, compiled by different version
>> may cause unpredictable issues and crashes. You may either think to upgrade
>> your dll for VS2008 or isolate your application to load your specific
>> version. Not sure how that can be done technically without a more detailed
>> description of your software components/architecture.
>>
>> Best regards,
>>
>> Tamas
>>
>>
>>
>>
>>
>> 2013/9/6 David Szlucha <David.Szlucha at exelisvis.com>
>>
>>> I have a GDAL plugin that is built with VS 2005 SP1 that I?m trying to
>>> use with a GDAL 1.8 DLL that was built with VS 2008. I cannot rebuild the
>>> GDAL 1.8 DLL as it is provided by a different vendor/application.****
>>>
>>> ** **
>>>
>>> I?ve found that the GDAL utilities crash when they are exiting (as well
>>> as some functionality in the vendor/application that our plugin was built
>>> for) in Windows 7. This does not seem to be a problem in Windows XP. ***
>>> *
>>>
>>> ** **
>>>
>>> I have limited information in the debugger but I suspect the issue might
>>> be in the GDAL driver manager deconstructor as I have created a ?dummy?
>>> GDAL plugin that simply registers itself as a plugin and does nothing else
>>> and exhibits the same crash.****
>>>
>>> ** **
>>>
>>> After some internet searching it looks as if this problem has occurred
>>> with other GDAL plugins and the solution was to rebuild the plugin using
>>> the same compiler that built the GDAL DLL.****
>>>
>>> ** **
>>>
>>> Since my project consists of several other DLLs that I can?t readily be
>>> updated to VS 2008 I?m wondering if anyone has come across this issue in
>>> their own plugins and may have attempted to fix the issue with mixed
>>> compiler versions?****
>>>
>>> ** **
>>>
>>> Thanks!****
>>>
>>> ** **
>>>
>>> David****
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130907/ef201986/attachment-0001.html>

From aborruso at gmail.com  Mon Sep  9 01:33:16 2013
From: aborruso at gmail.com (aborruso)
Date: Mon, 9 Sep 2013 01:33:16 -0700 (PDT)
Subject: [gdal-dev] A strange thing with a png geospatial file and
 gdalwarp. Is it a bug?
In-Reply-To: <1378301423855-5076013.post@n6.nabble.com>
References: <1378284685646-5075948.post@n6.nabble.com>
	<1378295711582-5075998.post@n6.nabble.com>
	<1378297053966-5076002.post@n6.nabble.com>
	<1378301423855-5076013.post@n6.nabble.com>
Message-ID: <1378715596944-5076790.post@n6.nabble.com>

Hi Hermann,
only to say once again thank you very much!

I did not know that the conversion would change the original information. I
know it's a correction, but it changes the original file.

Once again thank you



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/A-strange-thing-with-a-png-geospatial-file-and-gdalwarp-Is-it-a-bug-tp5075948p5076790.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jachym.cepicky at gmail.com  Mon Sep  9 07:36:38 2013
From: jachym.cepicky at gmail.com (Jachym Cepicky)
Date: Mon, 09 Sep 2013 16:36:38 +0200
Subject: [gdal-dev] dwg and Open Design Alliance
Message-ID: <522DDCF6.7070006@gmail.com>

Hi,

I would like to ask, if anybody is using current version of GDAL with
Open Design Aliance Teiga library, and what are the experience with it?
Does it work out of the box? Any issues? Does it read the data properly
without problem?

Thanks

Jachym
-- 
Jachym Cepicky
jachym.cepicky at gmail.com
http://les-ejk.cz
PGP: http://les-ejk.cz/pgp/JachymCepicky.pgp

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130909/909a97ed/attachment.pgp>

From kyle at pobox.com  Mon Sep  9 10:59:22 2013
From: kyle at pobox.com (Kyle Shannon)
Date: Mon, 09 Sep 2013 11:59:22 -0600
Subject: [gdal-dev] Coverity Security Scan
Message-ID: <522E0C7A.7090009@pobox.com>

All,
I have recently created a project for GDAL on Coverity Scan.  The scan 
is a static code analysis tool that checks for various errors including 
resource leaks, dead code, out-of-bounds array access, and various other 
common errors.  If you are currently a committer and maintaining a 
driver, I (or another admin) can add you to the project if you are 
interested in your area of responsibility.  The project site is here:

https://www.scan.coverity.com/projects/749

and a little information about coverity:

https://www.scan.coverity.com/faq

If there are any questions, please feel free to ask.  Thanks.

From JPalmer at linz.govt.nz  Mon Sep  9 13:19:06 2013
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Tue, 10 Sep 2013 08:19:06 +1200
Subject: [gdal-dev] [Qgis-developer] QGIS 2.0.0 Final Tagged - call for
In-Reply-To: <mailman.14714.1378727676.1392.qgis-developer@lists.osgeo.org>
References: <mailman.14714.1378727676.1392.qgis-developer@lists.osgeo.org>
Message-ID: <C6B695652D5E6B4597E90C5734C0242616D635F2CA@prdlsmmsg01.ad.linz.govt.nz>

Hi GDAL devs,

It is possible get the OSGeo4W 32bit GDAL 1.10 binary packaged soon?

Thanks
Jeremy

>> On Mon, 09. Sep 2013 at 20:56:51 +1200, Jeremy Palmer wrote:
>> Can I suggest to the windows packagers (especially OSGeo4w admins) that QGIS
>> is linked to gdal 1.10 so Esri FileGDB support works. I see only the testing
>> 64bit OsGeo4w distribution has built gdal 1.10, so the gdal OSGeo4w
>> maintainers might need a nudge to build it in the 32bit release version :)

> We windows qgis packagers (me, myself and I) are going to use what currently is
> in osgeo4w.

> As far as I know there will be a GDAL 1.10.1.1 release soon.  I'm going to
> update the 64bit gdal with that and Frank Warmerdam will update OSGeo4W 32bit
> (but there's no known timeframe for that - maybe he finds time on FOSS4G).


> J?rgen

This message contains information, which is confidential and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From chenxian at walkinfo.com.cn  Mon Sep  9 18:17:23 2013
From: chenxian at walkinfo.com.cn (Xian Chen)
Date: Mon, 9 Sep 2013 18:17:23 -0700 (PDT)
Subject: [gdal-dev] dwg and Open Design Alliance
In-Reply-To: <522DDCF6.7070006@gmail.com>
References: <522DDCF6.7070006@gmail.com>
Message-ID: <1378775843767-5076983.post@n6.nabble.com>

Hi Jachym,

Our software product WalkGIS (see http://www.walkinfo.com.cn/en.html) is
currently using GDAL(1.10) and ODA Teigha lib to read dwg files. It works
sort of well but has some minor errors when dealing with arcs. Please refer
to my previous post
(http://osgeo-org.1560.x6.nabble.com/gdal-dev-Reading-error-with-dwg-and-dxf-files-td5069826.html).
You might also be interested in my patch fixing the translation error at
http://trac.osgeo.org/gdal/ticket/5182


Xian


Jachym Cepicky wrote
> Hi,
> 
> I would like to ask, if anybody is using current version of GDAL with
> Open Design Aliance Teiga library, and what are the experience with it?
> Does it work out of the box? Any issues? Does it read the data properly
> without problem?
> 
> Thanks
> 
> Jachym
> -- 
> Jachym Cepicky
> jachym.cepicky at gmail.com
> http://les-ejk.cz
> PGP: http://les-ejk.cz/pgp/JachymCepicky.pgp
> 
> 
> _______________________________________________
> gdal-dev mailing list

> gdal-dev at .osgeo

> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> signature.asc (269 bytes)
> &lt;http://osgeo-org.1560.x6.nabble.com/attachment/5076903/0/signature.asc&gt;





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-dwg-and-Open-Design-Alliance-tp5076903p5076983.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From ahmettemiz88 at gmail.com  Tue Sep 10 01:07:08 2013
From: ahmettemiz88 at gmail.com (Ahmet Temiz)
Date: Tue, 10 Sep 2013 11:07:08 +0300
Subject: [gdal-dev] (no subject)
Message-ID: <CAJKO1Yut7gmt7nUA59uQuJSwVSOT1+U9p0-pYMX=39Jx_j5YuQ@mail.gmail.com>

hello

can you tell me what is wrong with following expression:
(most likely regular expression)


ogr2ogr  -where "DETAY!='YRD_MUNHANI' or DETAY!='PAFTA_KENARI' or
DETAY!='KIYI'" dene.shp h22a1top.shp


regards

-- 
Ahmet Temiz
Jeoloji M?h.
Afet ve Acil Durum Y?netimi Ba?kanl???
Planlama ve Zarar Azaltma Dairesi Ba?kanl???


________________________

Ahmet Temiz
Geological Eng.
Information Systems - GIS Group
Disaster and Emergency Management
of Presidency
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130910/0228c7b1/attachment.html>

From schneider at occamlabs.de  Tue Sep 10 02:13:08 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Tue, 10 Sep 2013 11:13:08 +0200
Subject: [gdal-dev] Extracting (arbitrary?) overviews from ECW file
In-Reply-To: <5228AACA.30901@occamlabs.de>
References: <52273B1C.8090703@occamlabs.de>
	<CA+YzLBdTo6t-6+G+ewUjNpLwp85yrKHCx1JepJxAf88x0nnJKA@mail.gmail.com>
	<5228AACA.30901@occamlabs.de>
Message-ID: <522EE2A4.9010507@occamlabs.de>

I believe I learned how to do this, so to answer my own question:

Some of the Band.ReadRaster(...) methods allow to explictly specify the
buffer width and height, e.g. [1]. This allows to extract resolutions
that differs from the original image (and the overviews).

Best regards,
Markus

[1] http://gdal.org/java/org/gdal/gdal/Band.html#ReadRaster(int, int,
int, int, int, int, int, byte[])

Am 05.09.2013 18:01, schrieb Markus Schneider:
> Frank,
> 
> thanks for your reply. Could you (or somebody else) give me a few more
> details how to get hold of a raster region with a resolution that is not
> defined by an overview?
> 
> Currently, I am able to extract regions from an overview using the
> following steps (in Java):
> 
> ...
>   Dataset dataset = gdal.Open( "dataset.ecw", GA_ReadOnly );
>   Band band = dataset.GetRasterBand( ... );
>   band = band.GetOverview(...);
>   band.ReadRaster(x,y, ...)
> ...
> 
> Afterwards, I have the raw data values in my array. It works fine for
> any overview.
> 
> My problem is that I cannot figure out how to get hold of a Band for a
> non-predefined overview. How would I do this?
> 
> Best regards,
> Markus
> 
> Am 04.09.2013 18:15, schrieb Frank Warmerdam:
>> Markus,
>>
>> I believe the GDAL ECW driver will pass RasterIO() requests through to
>> the ECW SDK to evaluate meaning that there is no constraint based on the
>> advertized power-of-two overviews exposed from GDAL and no loss of quality.
>>
>> Best regards,
>> Frank
>>
>>
>> On Wed, Sep 4, 2013 at 6:52 AM, Markus Schneider <schneider at occamlabs.de
>> <mailto:schneider at occamlabs.de>> wrote:
>>
>>     Dear list,
>>
>>     I am new to programming with GDAL (and to the ECW format). Let me say
>>     thank you first, because my first experiences have been rather pleasant,
>>     even if my setup is relatively involved (thanks everybody for providing
>>     good documentation):
>>
>>     - Ubuntu 12.04 (AMD64)
>>     - GDAL 1.10.1 (build from source)
>>     - ECW SDK 5.0
>>     - GDAL Java bindings
>>
>>     I successfully created a toy Java class for extracting regions from an
>>     ECW file. Speed is impressive.
>>
>>     My observations/questions:
>>
>>     - If I understand correctly, ECW files internally do not have such a
>>     thing as fixed overviews. However, ECW supports extraction of regions
>>     with specified resolution on-the-fly. Is this correct?
>>     - GDAL API reports overviews for ECW datasets. Having a first look at
>>     the code, it seems to generate overview dimensions by subsequently
>>     dividing height and width by two (until a minium side length of 128 has
>>     been reached).
>>
>>     Final question: Is it possible to efficiently retrieve (regions of)
>>     overviews at self-defined scales using the GDAL API? Or do I have to use
>>     the ECW SDK for that?
>>
>>     Keep up the good work. Thanks for any pointers.
>>
>>     Best regards,
>>     Markus
>>
>>     --
>>     Markus Schneider
>>     CEO
>>
>>     Occam Labs UG (haftungsbeschr?nkt)
>>     Godesberger Allee 139
>>     53175 Bonn, Germany
>>
>>     +49 228 93798874 <tel:%2B49%20228%2093798874>
>>
>>     http://www.occamlabs.de
>>
>>
>>     _______________________________________________
>>     gdal-dev mailing list
>>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>>
>> -- 
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam,
>> warmerdam at pobox.com <mailto:warmerdam at pobox.com>
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | Geospatial Software Developer
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130910/5c2415a6/attachment.pgp>

From schneider at occamlabs.de  Tue Sep 10 02:20:38 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Tue, 10 Sep 2013 11:20:38 +0200
Subject: [gdal-dev] Extracting (arbitrary?) overviews from ECW file
In-Reply-To: <522EE2A4.9010507@occamlabs.de>
References: <52273B1C.8090703@occamlabs.de>
	<CA+YzLBdTo6t-6+G+ewUjNpLwp85yrKHCx1JepJxAf88x0nnJKA@mail.gmail.com>
	<5228AACA.30901@occamlabs.de> <522EE2A4.9010507@occamlabs.de>
Message-ID: <522EE466.8050601@occamlabs.de>

There's one question remaining:

Will the mentioned methods automatically select the best-matching
overview, or do I have to do this myselft in order to achieve the best
performance?

This probably doesn't matter to ECW, but to other image formats with
"real" overviews (such as GeoTIFF), right?

Best regards,
Markus

Am 10.09.2013 11:13, schrieb Markus Schneider:
> I believe I learned how to do this, so to answer my own question:
> 
> Some of the Band.ReadRaster(...) methods allow to explictly specify the
> buffer width and height, e.g. [1]. This allows to extract resolutions
> that differs from the original image (and the overviews).
> 
> Best regards,
> Markus
> 
> [1] http://gdal.org/java/org/gdal/gdal/Band.html#ReadRaster(int, int,
> int, int, int, int, int, byte[])
> 
> Am 05.09.2013 18:01, schrieb Markus Schneider:
>> Frank,
>>
>> thanks for your reply. Could you (or somebody else) give me a few more
>> details how to get hold of a raster region with a resolution that is not
>> defined by an overview?
>>
>> Currently, I am able to extract regions from an overview using the
>> following steps (in Java):
>>
>> ...
>>   Dataset dataset = gdal.Open( "dataset.ecw", GA_ReadOnly );
>>   Band band = dataset.GetRasterBand( ... );
>>   band = band.GetOverview(...);
>>   band.ReadRaster(x,y, ...)
>> ...
>>
>> Afterwards, I have the raw data values in my array. It works fine for
>> any overview.
>>
>> My problem is that I cannot figure out how to get hold of a Band for a
>> non-predefined overview. How would I do this?
>>
>> Best regards,
>> Markus
>>
>> Am 04.09.2013 18:15, schrieb Frank Warmerdam:
>>> Markus,
>>>
>>> I believe the GDAL ECW driver will pass RasterIO() requests through to
>>> the ECW SDK to evaluate meaning that there is no constraint based on the
>>> advertized power-of-two overviews exposed from GDAL and no loss of quality.
>>>
>>> Best regards,
>>> Frank
>>>
>>>
>>> On Wed, Sep 4, 2013 at 6:52 AM, Markus Schneider <schneider at occamlabs.de
>>> <mailto:schneider at occamlabs.de>> wrote:
>>>
>>>     Dear list,
>>>
>>>     I am new to programming with GDAL (and to the ECW format). Let me say
>>>     thank you first, because my first experiences have been rather pleasant,
>>>     even if my setup is relatively involved (thanks everybody for providing
>>>     good documentation):
>>>
>>>     - Ubuntu 12.04 (AMD64)
>>>     - GDAL 1.10.1 (build from source)
>>>     - ECW SDK 5.0
>>>     - GDAL Java bindings
>>>
>>>     I successfully created a toy Java class for extracting regions from an
>>>     ECW file. Speed is impressive.
>>>
>>>     My observations/questions:
>>>
>>>     - If I understand correctly, ECW files internally do not have such a
>>>     thing as fixed overviews. However, ECW supports extraction of regions
>>>     with specified resolution on-the-fly. Is this correct?
>>>     - GDAL API reports overviews for ECW datasets. Having a first look at
>>>     the code, it seems to generate overview dimensions by subsequently
>>>     dividing height and width by two (until a minium side length of 128 has
>>>     been reached).
>>>
>>>     Final question: Is it possible to efficiently retrieve (regions of)
>>>     overviews at self-defined scales using the GDAL API? Or do I have to use
>>>     the ECW SDK for that?
>>>
>>>     Keep up the good work. Thanks for any pointers.
>>>
>>>     Best regards,
>>>     Markus
>>>
>>>     --
>>>     Markus Schneider
>>>     CEO
>>>
>>>     Occam Labs UG (haftungsbeschr?nkt)
>>>     Godesberger Allee 139
>>>     53175 Bonn, Germany
>>>
>>>     +49 228 93798874 <tel:%2B49%20228%2093798874>
>>>
>>>     http://www.occamlabs.de
>>>
>>>
>>>     _______________________________________________
>>>     gdal-dev mailing list
>>>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>>
>>>
>>> -- 
>>> ---------------------------------------+--------------------------------------
>>> I set the clouds in motion - turn up   | Frank Warmerdam,
>>> warmerdam at pobox.com <mailto:warmerdam at pobox.com>
>>> light and sound - activate the windows | http://pobox.com/~warmerdam
>>> and watch the world go round - Rush    | Geospatial Software Developer
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130910/1ec2a884/attachment.pgp>

From schneider at occamlabs.de  Tue Sep 10 02:25:41 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Tue, 10 Sep 2013 11:25:41 +0200
Subject: [gdal-dev] Extracting (arbitrary?) overviews from ECW file
In-Reply-To: <522EE466.8050601@occamlabs.de>
References: <52273B1C.8090703@occamlabs.de>
	<CA+YzLBdTo6t-6+G+ewUjNpLwp85yrKHCx1JepJxAf88x0nnJKA@mail.gmail.com>
	<5228AACA.30901@occamlabs.de> <522EE2A4.9010507@occamlabs.de>
	<522EE466.8050601@occamlabs.de>
Message-ID: <522EE595.2070904@occamlabs.de>

Ok, I just tried it out with an example GeoTIFF, and the mentioned
methods seem to benefit from overviews in the file, so it seems to
automatically do the right thing.

Best regards,
Markus

Am 10.09.2013 11:20, schrieb Markus Schneider:
> There's one question remaining:
> 
> Will the mentioned methods automatically select the best-matching
> overview, or do I have to do this myselft in order to achieve the best
> performance?
> 
> This probably doesn't matter to ECW, but to other image formats with
> "real" overviews (such as GeoTIFF), right?
> 
> Best regards,
> Markus
> 
> Am 10.09.2013 11:13, schrieb Markus Schneider:
>> I believe I learned how to do this, so to answer my own question:
>>
>> Some of the Band.ReadRaster(...) methods allow to explictly specify the
>> buffer width and height, e.g. [1]. This allows to extract resolutions
>> that differs from the original image (and the overviews).
>>
>> Best regards,
>> Markus
>>
>> [1] http://gdal.org/java/org/gdal/gdal/Band.html#ReadRaster(int, int,
>> int, int, int, int, int, byte[])
>>
>> Am 05.09.2013 18:01, schrieb Markus Schneider:
>>> Frank,
>>>
>>> thanks for your reply. Could you (or somebody else) give me a few more
>>> details how to get hold of a raster region with a resolution that is not
>>> defined by an overview?
>>>
>>> Currently, I am able to extract regions from an overview using the
>>> following steps (in Java):
>>>
>>> ...
>>>   Dataset dataset = gdal.Open( "dataset.ecw", GA_ReadOnly );
>>>   Band band = dataset.GetRasterBand( ... );
>>>   band = band.GetOverview(...);
>>>   band.ReadRaster(x,y, ...)
>>> ...
>>>
>>> Afterwards, I have the raw data values in my array. It works fine for
>>> any overview.
>>>
>>> My problem is that I cannot figure out how to get hold of a Band for a
>>> non-predefined overview. How would I do this?
>>>
>>> Best regards,
>>> Markus
>>>
>>> Am 04.09.2013 18:15, schrieb Frank Warmerdam:
>>>> Markus,
>>>>
>>>> I believe the GDAL ECW driver will pass RasterIO() requests through to
>>>> the ECW SDK to evaluate meaning that there is no constraint based on the
>>>> advertized power-of-two overviews exposed from GDAL and no loss of quality.
>>>>
>>>> Best regards,
>>>> Frank
>>>>
>>>>
>>>> On Wed, Sep 4, 2013 at 6:52 AM, Markus Schneider <schneider at occamlabs.de
>>>> <mailto:schneider at occamlabs.de>> wrote:
>>>>
>>>>     Dear list,
>>>>
>>>>     I am new to programming with GDAL (and to the ECW format). Let me say
>>>>     thank you first, because my first experiences have been rather pleasant,
>>>>     even if my setup is relatively involved (thanks everybody for providing
>>>>     good documentation):
>>>>
>>>>     - Ubuntu 12.04 (AMD64)
>>>>     - GDAL 1.10.1 (build from source)
>>>>     - ECW SDK 5.0
>>>>     - GDAL Java bindings
>>>>
>>>>     I successfully created a toy Java class for extracting regions from an
>>>>     ECW file. Speed is impressive.
>>>>
>>>>     My observations/questions:
>>>>
>>>>     - If I understand correctly, ECW files internally do not have such a
>>>>     thing as fixed overviews. However, ECW supports extraction of regions
>>>>     with specified resolution on-the-fly. Is this correct?
>>>>     - GDAL API reports overviews for ECW datasets. Having a first look at
>>>>     the code, it seems to generate overview dimensions by subsequently
>>>>     dividing height and width by two (until a minium side length of 128 has
>>>>     been reached).
>>>>
>>>>     Final question: Is it possible to efficiently retrieve (regions of)
>>>>     overviews at self-defined scales using the GDAL API? Or do I have to use
>>>>     the ECW SDK for that?
>>>>
>>>>     Keep up the good work. Thanks for any pointers.
>>>>
>>>>     Best regards,
>>>>     Markus
>>>>
>>>>     --
>>>>     Markus Schneider
>>>>     CEO
>>>>
>>>>     Occam Labs UG (haftungsbeschr?nkt)
>>>>     Godesberger Allee 139
>>>>     53175 Bonn, Germany
>>>>
>>>>     +49 228 93798874 <tel:%2B49%20228%2093798874>
>>>>
>>>>     http://www.occamlabs.de
>>>>
>>>>
>>>>     _______________________________________________
>>>>     gdal-dev mailing list
>>>>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>>>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>>
>>>>
>>>> -- 
>>>> ---------------------------------------+--------------------------------------
>>>> I set the clouds in motion - turn up   | Frank Warmerdam,
>>>> warmerdam at pobox.com <mailto:warmerdam at pobox.com>
>>>> light and sound - activate the windows | http://pobox.com/~warmerdam
>>>> and watch the world go round - Rush    | Geospatial Software Developer
>>>
>>>
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130910/260a11e5/attachment-0001.pgp>

From schneider at occamlabs.de  Tue Sep 10 02:33:58 2013
From: schneider at occamlabs.de (Markus Schneider)
Date: Tue, 10 Sep 2013 11:33:58 +0200
Subject: [gdal-dev] GDAL Warp API Java bindings
In-Reply-To: <CAL81ghCNwDV4BjAgxBai=VJmF4d5-Z+d5x5wD7-a97RCTVC8NA@mail.gmail.com>
References: <5228ABAC.5080604@occamlabs.de>
	<CAL81ghCNwDV4BjAgxBai=VJmF4d5-Z+d5x5wD7-a97RCTVC8NA@mail.gmail.com>
Message-ID: <522EE786.8000000@occamlabs.de>

Hi Florent,

yes, I am aware of that and I managed to create BufferedImages from GDAL
Datasets.

However, I find the Java Image API (and the whole subject) relatively
complex, so I am not sure if my code is efficient. Can anybody have a
quick look at my code and tell me if there are any quick performance gains?

Code is here: http://cdv.lt/Qw1?

Thanks.

Best regards,
Markus

P.S.: I am aware that the code is limited to RGB without transparency
and byte-encoded color values.

Am 05.09.2013 19:23, schrieb Florent JITIAUX:
> Hi,
> 
> in fact with the Java binding there's no method to get a BufferedImage
> from a Dataset.
> 
> You can warp your image and get a Dataset
> 
> You have to create a (Java)Raster and fill it with the raster or a part
> of the raster of the warped Dataset.
> But be carefull because when you create a Raster you must create a
> correct SampleModel and the right DataBuffer generally Byte or Int, it
> depends of the type of the raster in the Dataset.
> 
> Florent
> 
> 
> 2013/9/5 Markus Schneider <schneider at occamlabs.de
> <mailto:schneider at occamlabs.de>>
> 
>     Hi again,
> 
>     I would like to try using the Warp API from Java. It seems that there
>     are currently no Java bindings available.
> 
>     - Did anbody work on Java bindings for the Warp API?
>     - How hard would it be to define them? I may be able to invest some time
>     here.
> 
>     Best regards,
>     Markus
> 
>     --
>     Markus Schneider
>     CEO
> 
>     Occam Labs UG (haftungsbeschr?nkt)
>     Godesberger Allee 139
>     53175 Bonn, Germany
> 
>     +49 228 93798874 <tel:%2B49%20228%2093798874>
> 
>     http://www.occamlabs.de
> 
> 
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 


-- 
Markus Schneider
CEO

Occam Labs UG (haftungsbeschr?nkt)
Godesberger Allee 139
53175 Bonn, Germany

+49 228 93798874

http://www.occamlabs.de

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130910/6b0c3f89/attachment.pgp>

From jukka.rahkonen at mmmtike.fi  Wed Sep 11 00:50:18 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 11 Sep 2013 07:50:18 +0000 (UTC)
Subject: [gdal-dev] (no subject)
References: <CAJKO1Yut7gmt7nUA59uQuJSwVSOT1+U9p0-pYMX=39Jx_j5YuQ@mail.gmail.com>
Message-ID: <loom.20130911T093414-676@post.gmane.org>

Ahmet Temiz <ahmettemiz88 <at> gmail.com> writes:

> 
> 
> hello
> 
> can you tell me what is wrong with following expression:
> (most likely regular expression)
> 
> ogr2ogr ?-where "DETAY!='YRD_MUNHANI' or DETAY!='PAFTA_KENARI' or
DETAY!='KIYI'" dene.shp h22a1top.shp


Hi,

Nothing wrong really, but because you use "OR" you will select everything
and that is probably not what you expect. I suppose your aim is to select
all features except these three: YRD_MUNHANI, PAFTA_KENARI, and KIYI.

DETAY=YRD_MUNHANI will be rejected by the first clause, but because it is
not PAFTA_KENARI it will be reselected by the next clause. Try with ANDs.
This is more understandable to read and seems to work also
ogrinfo -where "DETAY not in ('YRD_MUNHANI','PAFTA_KENARI')" wheretest.shp -al

If things go more complicated, use -sql instead of -where. If you select
also to use SQLite dialect by adding -dialect sqlite you can use standard
ANSI SQL.


-Jukka Rahkonen-



From pcorti at gmail.com  Wed Sep 11 02:43:47 2013
From: pcorti at gmail.com (Paolo Corti)
Date: Wed, 11 Sep 2013 11:43:47 +0200
Subject: [gdal-dev] compiling GDAL with the sde driver
Message-ID: <CAHXrU-JG66JzjeV6saRdZJv54hGqO-4gfO-ce=58NUT0iVhEqA@mail.gmail.com>

Hi list
I am experiencing problems compiling latest GDAL with sde support
(using the old ESRI sdk 9.3).

This is how I run the configuration:

./configure --with-python --with-pg
--with-sde=/home/capooti/software/esri/sdk/sdeexe93
--with-sde-version=93 --without-libtool --with-threads=yes

and this is the error I get when making:

g++  gdaladdo.o  -L/opt/gis/gdal/gdal-1.10.1 -lgdal
-L/home/capooti/software/esri/sdk/sdeexe93/lib -lsde -lpe -lsg
-lpthread -ldl -L/usr/lib -lgeos_c  -lsqlite3 -lodbc -lodbcinst
-lexpat -lnetcdf -L/usr/lib -lpq -lz -lpthread -pthread -lm -lrt -ldl
  -L/usr/lib/i386-linux-gnu -lcurl -Wl,-Bsymbolic-functions
-Wl,-z,relro            -L/usr/lib -lxml2  -o gdaladdo
/home/capooti/software/esri/sdk/sdeexe93/lib/libsde.so: undefined
reference to `pthread_atfork'
collect2: ld returned 1 exit status
make[1]: *** [gdaladdo] Error 1
make[1]: Leaving directory `/opt/gis/gdal/gdal-1.10.1/apps'
make: *** [apps-target] Error 2

as you can see I have added the option -pthread in configure as
suggested by Howard here [1], but still no joy :(
any hints?

thanks in advance
regards
p

[1] http://lists.osgeo.org/pipermail/gdal-dev/2011-September/030196.html

-- 
Paolo Corti
Geospatial software developer
web: http://www.paolocorti.net
twitter: @capooti
skype: capooti

From even.rouault at mines-paris.org  Wed Sep 11 13:07:13 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 11 Sep 2013 22:07:13 +0200
Subject: [gdal-dev] Update on RFC 41 implementation
Message-ID: <201309112207.13957.even.rouault@mines-paris.org>

Hi,

Just to notify you that most of RFC 41 (multiple geometry field support in OGR) 
has now been commited. The last remaining part will be the upgrade of the ILI 
driver done by Pirmin.

As a bonus to the RFC, support for multiple geometry fields has also been added 
to the SQLite SQL dialect (but not yet in SQLite table layer themselves)

I've also started "converting" a few OGR drivers (Shape, KML, LIBKML, GPX, 
GML, VRT, GeoJSON, FileGDB, EDIGEO, OSM and GeoRSS) that are not in the scope 
of RFC 41, so that the SRS of their unique geometry field definition is properly 
set.

To know if a driver has been upgraded, it is a matter of running test_ogrsf on 
a sample dataset and checking for the following warning : 
WARNING: poLayer->GetSpatialRef() and poFDefn->GetGeomFieldDefn(0)-
>GetSpatialRef() differ.

If folks are willing to help upgrading other drivers, you're welcome !

http://trac.osgeo.org/gdal/changeset/26448 should show you how to do that in 
simple situations.

This is mostly a matter of adding the following snippet :

if( poFeatureDefn->GetGeomFieldCount() != 0 ) 
    poFeatureDefn->GetGeomFieldDefn(0)->SetSpatialRef(poSRS);

and we can also remove the implementation of GetSpatialRef() that is then not 
necessary ( the base implementation of OGRLayer::GetSpatialRef() will return 
poFeatureDefn->GetGeomFieldDefn(0)->GetSpatialRef() )

For more complex situations (but I don't think there are a lot of such OGR 
drivers), i.e. where there was lazy resolution of the SRS in 
OGRLayer::GetSpatialRef(), the upgrade of the shapefile driver in 
http://trac.osgeo.org/gdal/changeset/26442 can be used as an exemple.

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From bclay at ball.com  Thu Sep 12 05:26:13 2013
From: bclay at ball.com (Clay, Bruce)
Date: Thu, 12 Sep 2013 08:26:13 -0400
Subject: [gdal-dev] ogr2ogr load shape in tablespace
Message-ID: <C482FF98AE985A47B8C982FD429C9E34D8C0DC@daytonmsg2k3.AERO.BALL.COM>

I need to load a set of shapefiles into a tablespace (on a different hard drive) where I have more dataspace.  I have been using ogr2ogr to load shapefile up to this point using windows command prompt and batch files.  I created a tablespace using pgAdminIII but I can not find a way to assign the data to the tablespace from ogr2ogr.  I googled but did not find a way to do so.
 
Is there a way not listed in the help function or docs?
 
Bruce
 



This message and any enclosures are intended only for the addressee.  Please 
notify the sender by email if you are not the intended recipient.  If you are 
not the intended recipient, you may not use, copy, disclose, or distribute this 
message or its contents or enclosures to any other person and any such actions 
may be unlawful.  Ball reserves the right to monitor and review all messages 
and enclosures sent to or from this email address.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130912/6cc4dda8/attachment.html>

From dlewis at resolvegeo.com  Thu Sep 12 09:22:01 2013
From: dlewis at resolvegeo.com (Dan Lewis)
Date: Thu, 12 Sep 2013 11:22:01 -0500
Subject: [gdal-dev] Multifile ArcGrid Issue
Message-ID: <CAPOCdJcOtrNLUAON6GET9K7_DqTwGAJTseuYUK4Zcxt_YFt3KA@mail.gmail.com>

Hi,

I'm trying to pull elevation data from the GMTED2010 Global Grids, which
are distributed as ESRI ArcGrids (
http://topotools.cr.usgs.gov/GMTED_viewer/gmted2010_global_grids.php).

Here's a minimal program that illustrates my problem:

int main()
{
    GDALDataset  *poDataset;

    GDALAllRegister();

    //poDataset = (GDALDataset *) GDALOpen(
"C:/data/GMTED2010/mn30_grd/mn30_grd/w001000.adf", GA_ReadOnly );
    poDataset = (GDALDataset *) GDALOpen(
"C:/data/GMTED2010/mn15_grd/mn15_grd/w001000.adf", GA_ReadOnly );

    double adfGeoTransform[6];
    poDataset->GetGeoTransform( adfGeoTransform );

    double latitude = 34.52798, longitude = -112.875733;
    //double latitude = 67, longitude = -141;

    double x = (longitude - adfGeoTransform[0]) / adfGeoTransform[1];
    double y = (latitude - adfGeoTransform[3]) / adfGeoTransform[5];

    float val;
    poDataset->RasterIO( GF_Read, x, y, 1, 1,
                      &val, 1, 1, GDT_Float32,
                      1, NULL, 0, 0, 0 );
    std::cout<<"Check elevation at point ("<<x<<", "<<y<<"): "<<val<<"\n";

    return 0;
}

I get the following errors:

ERROR 1: Illegal block requested.
ERROR 1: IReadBlock failed at X offset 62, Y offset 742
ERROR 1: GetBlockRef failed at X block offset 62, Y block offset 742

It works as expected if I pull from locations earlier in the file (64,
-141) or if I use a lower resolution file (mn30_grd).

I found an old ticket (#1198) that seems related but has been marked as
fixed.

Any ideas?

Thanks,

Daniel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130912/f89de5f6/attachment.html>

From sepideh.abadpour87 at gmail.com  Thu Sep 12 10:56:11 2013
From: sepideh.abadpour87 at gmail.com (sepideh)
Date: Thu, 12 Sep 2013 10:56:11 -0700 (PDT)
Subject: [gdal-dev] How can I support polygons with islands in my
 APPLICATION USING gdal/ogr library?
Message-ID: <1379008571453-5077579.post@n6.nabble.com>

MyTest.rar <http://osgeo-org.1560.x6.nabble.com/file/n5077579/MyTest.rar>  I
have uploaded my MyTest.shp created in ArcGIS. If you open it, you will see
that it has nine polygons and in the attribute table of the layer, I have
explained about the features of each polygon.  My problem is:  I'm
developing a Visual C++ MFC application with GDAL/OGR library that will show
shapefiles in an OpenGL window. And I have created this shapefile to test
some parts of my application. *My application will only support ESRI
shapefiles.*   As you know, the OGRPolygon class has only a member function
*getNumInteriorRings* and not such function for exterior rings. I mean it
supports multiple interior rings but not multiple exterior rings. So I
decided to fetch one of the rings of each polygon with *getExteriorRing()*
and the others with *getInteriorRing(int)* and decide with *isClockwise()*
method whether it is an exterior or interior ring. This approch is best for
the polygons with *FIDs : 0,1,2,3,4,5,6 * in my MyTest.shp. When I use this
code for them:  /int NumberOfInnerRings = poPolygon
->getNumInteriorRings();/  I get these results:  FID = 0 -> 5FID = 1 -> 1FID
= 2 -> 0FID = 3 -> 1FID = 4 -> 2FID = 5 -> 0FID = 6 -> 2  showing that one
of the rings has been accepted as exterior and the others as interior
polygons. You see that the polygons with the above FIDs are simple polygons,
multipart polygons and polygons with holls inside.  But for the two other
polygons this is not the case. These are polygons that have islands in as
you see in this link:  
http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/Creating_new_donut_holes_and_island_polygons/001t0000003p000000/
<http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/Creating_new_donut_holes_and_island_polygons/001t0000003p000000/>   
I get these wrong results for them as the number of Interior rings:  FID = 7
-> 1FID = 8 -> 2  meaning that islands are not known niether as interior nor
exterior polygons!!!  Can you tell me how can I support islands with
GDAL/OGR library or introduce me another open source that does this?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/How-can-I-support-polygons-with-islands-in-my-APPLICATION-USING-gdal-ogr-library-tp5077579.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130912/66bb5ac4/attachment.html>

From even.rouault at mines-paris.org  Thu Sep 12 11:17:46 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 12 Sep 2013 20:17:46 +0200
Subject: [gdal-dev] ogr2ogr load shape in tablespace
In-Reply-To: <C482FF98AE985A47B8C982FD429C9E34D8C0DC@daytonmsg2k3.AERO.BALL.COM>
References: <C482FF98AE985A47B8C982FD429C9E34D8C0DC@daytonmsg2k3.AERO.BALL.COM>
Message-ID: <201309122017.46620.even.rouault@mines-paris.org>

Le jeudi 12 septembre 2013 14:26:13, Clay, Bruce a ?crit :
> I need to load a set of shapefiles into a tablespace (on a different hard
> drive) where I have more dataspace.  I have been using ogr2ogr to load
> shapefile up to this point using windows command prompt and batch files. 
> I created a tablespace using pgAdminIII but I can not find a way to assign
> the data to the tablespace from ogr2ogr.  I googled but did not find a way
> to do so.
> 
> Is there a way not listed in the help function or docs?

Bruce,

I'm just discovering what tablespaces are from the PostgreSQL docs.

There's no direct way of doing this currently, although it doesn't look very 
complicated to add support for that.

But you can probably workaround that by using the pgdump driver

ogr2ogr -f pgdump out.sql your.shp

and then edit out.sql to add at its very beginning :

SET default_tablespace = your_tablespace;

and then insert the SQL with the following command (can possibly also be done 
with pgAdmin3 I imagine)

psql -d XXXXX -f out.sql

I've not actually tried the above however.

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From even.rouault at mines-paris.org  Thu Sep 12 11:31:34 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 12 Sep 2013 20:31:34 +0200
Subject: [gdal-dev] How can I support polygons with islands in my
	APPLICATION USING gdal/ogr library?
In-Reply-To: <1379008571453-5077579.post@n6.nabble.com>
References: <1379008571453-5077579.post@n6.nabble.com>
Message-ID: <201309122031.34558.even.rouault@mines-paris.org>

Le jeudi 12 septembre 2013 19:56:11, sepideh a ?crit :
> MyTest.rar <http://osgeo-org.1560.x6.nabble.com/file/n5077579/MyTest.rar> 
> I have uploaded my MyTest.shp created in ArcGIS. If you open it, you will
> see that it has nine polygons and in the attribute table of the layer, I
> have explained about the features of each polygon.  My problem is:  I'm
> developing a Visual C++ MFC application with GDAL/OGR library that will
> show shapefiles in an OpenGL window. And I have created this shapefile to
> test some parts of my application. *My application will only support ESRI
> shapefiles.*   As you know, the OGRPolygon class has only a member
> function *getNumInteriorRings* and not such function for exterior rings. I
> mean it supports multiple interior rings but not multiple exterior rings.
> So I decided to fetch one of the rings of each polygon with
> *getExteriorRing()* and the others with *getInteriorRing(int)* and decide
> with *isClockwise()* method whether it is an exterior or interior ring.
> This approch is best for the polygons with *FIDs : 0,1,2,3,4,5,6 * in my
> MyTest.shp. When I use this code for them:  /int NumberOfInnerRings =
> poPolygon
> ->getNumInteriorRings();/  I get these results:  FID = 0 -> 5FID = 1 ->
> 1FID = 2 -> 0FID = 3 -> 1FID = 4 -> 2FID = 5 -> 0FID = 6 -> 2  showing
> that one of the rings has been accepted as exterior and the others as
> interior polygons. You see that the polygons with the above FIDs are
> simple polygons, multipart polygons and polygons with holls inside.  But
> for the two other polygons this is not the case. These are polygons that
> have islands in as you see in this link:
> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/Creating_new_
> donut_holes_and_island_polygons/001t0000003p000000/
> <http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/Creating_ne
> w_donut_holes_and_island_polygons/001t0000003p000000/> I get these wrong
> results for them as the number of Interior rings:  FID = 7 -> 1FID = 8 ->
> 2  meaning that islands are not known niether as interior nor exterior
> polygons!!!  Can you tell me how can I support islands with GDAL/OGR
> library or introduce me another open source that does this?

The shapefile displays correctly in QGIS which uses OGR to read Shapefile which 
makes me think that the problem is not in OGR.
Your above description is a bit confusing but my understanding is that your 
problem comes from the fact that the shapefile has a mix of 2 distinct geometry 
type :
- POLYGON: they have always one exterior ring, and 0 or more interior ring
- MULTIPOLYGON: that are maded of 0 or more polygons. On multipolygons, 
getNumInteriorRings() cannot be used. You must iterate first over each polygon 
part of the multipolygon

You don't need to check the clockwise orientation to determine if a ring is 
exterior or interior. This is already done by the OGR Shapefile driver.

ogrinfo with summary mode will give you the structure of the geometries :

$ ogrinfo MyTest -al -geom=summary
INFO: Open of `MyTest'
      using driver `ESRI Shapefile' successful.

Layer name: MyTest
Geometry: Polygon
Feature Count: 9
Extent: (-14519050.256578, -31065929.994238) - (26123782.221403, 
8007498.521952)
Layer SRS WKT:
PROJCS["WGS_1984_UTM_Zone_39N",
    GEOGCS["GCS_WGS_1984",
        DATUM["WGS_1984",
            SPHEROID["WGS_84",6378137.0,298.257223563]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["False_Easting",500000.0],
    PARAMETER["False_Northing",0.0],
    PARAMETER["Central_Meridian",51.0],
    PARAMETER["Scale_Factor",0.9996],
    PARAMETER["Latitude_Of_Origin",0.0],
    UNIT["Meter",1.0]]
Id: Integer (6.0)
type_poly: String (50.0)
OGRFeature(MyTest):0
  Id (Integer) = 0
  type_poly (String) = polygonWithFiveHolesInside
  POLYGON : 22 points, 5 inner rings (11 points, 11 points, 17 points, 9 
points, 6 points)

OGRFeature(MyTest):1
  Id (Integer) = 0
  type_poly (String) = polygonWithTwoSeperateParts
  MULTIPOLYGON : 2 geometries:
POLYGON : 11 points
POLYGON : 11 points

OGRFeature(MyTest):2
  Id (Integer) = 0
  type_poly (String) = singlePolygon
  POLYGON : 10 points

OGRFeature(MyTest):3
  Id (Integer) = 0
  type_poly (String) = polygonWithOneHoleInside
  POLYGON : 11 points, 1 inner rings (17 points)

OGRFeature(MyTest):4
  Id (Integer) = 0
  type_poly (String) = polygonWithTwoHolesInside
  POLYGON : 9 points, 2 inner rings (8 points, 6 points)

OGRFeature(MyTest):5
  Id (Integer) = 0
  type_poly (String) = singlePolygon
  POLYGON : 6 points

OGRFeature(MyTest):6
  Id (Integer) = 0
  type_poly (String) = polygonWithThreeSeperateParts
  MULTIPOLYGON : 3 geometries:
POLYGON : 7 points
POLYGON : 9 points
POLYGON : 11 points

OGRFeature(MyTest):7
  Id (Integer) = 0
  type_poly (String) = PolygonWithAnIslandInside
  MULTIPOLYGON : 2 geometries:
POLYGON : 9 points, 1 inner rings (9 points)
POLYGON : 6 points

OGRFeature(MyTest):8
  Id (Integer) = 0
  type_poly (String) = PolygonWithTwoIslandsInsideOneOfTheIslandsHasAHole
  MULTIPOLYGON : 3 geometries:
POLYGON : 7 points, 1 inner rings (6 points)
POLYGON : 6 points, 1 inner rings (4 points)
POLYGON : 6 points

On the later,
- the "main" polygon is "POLYGON : 7 points, 1 inner rings (6 points)"
- the island with a hole is the "POLYGON : 6 points, 1 inner rings (4 points)" 
- the other island is "POLYGON : 6 points"


-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From sepideh.abadpour87 at gmail.com  Thu Sep 12 12:17:28 2013
From: sepideh.abadpour87 at gmail.com (sepideh)
Date: Thu, 12 Sep 2013 12:17:28 -0700 (PDT)
Subject: [gdal-dev] How can I support polygons with islands in my
 APPLICATION USINGgdal/ogr library?
Message-ID: <CAPEYah5Uc+M-QT+pDNDvzhyZroe4xoQA08rHxvZqWmR-bMzGbQ@mail.gmail.com>

well thanks how can I run ogrinfo to get the structures of my geometries in
a layer?


On Thu, Sep 12, 2013 at 11:01 PM, Even Rouault [via OSGeo.org] <
ml-node+s1560n5077587h27 at n6.nabble.com> wrote:

>  [image: Boxbe] <https://www.boxbe.com/overview> Even Rouault [via
> OSGeo.org] (ml-node+s1560n5077587h27 at n6.nabble.com) is not on your Guest
> List<https://www.boxbe.com/approved-list?tc_serial=15115454639&tc_rand=1523998204&utm_source=stf&utm_medium=email&utm_campaign=ANNO_MWTP&utm_content=001&token=3CWKDR1oB%2Fa1CY683nuayO4t02ptjHf6V8zz9sSw1BseghDtsirTIxCwhnGFOUGG&key=ePbkSKTVyU7IFMOXoR7%2BEadHh%2FSlMgX5aRPFT9Mq6Jw%3D>| Approve
> sender<https://www.boxbe.com/anno?tc_serial=15115454639&tc_rand=1523998204&utm_source=stf&utm_medium=email&utm_campaign=ANNO_MWTP&utm_content=001&token=3CWKDR1oB%2Fa1CY683nuayO4t02ptjHf6V8zz9sSw1BseghDtsirTIxCwhnGFOUGG&key=ePbkSKTVyU7IFMOXoR7%2BEadHh%2FSlMgX5aRPFT9Mq6Jw%3D>| Approve
> domain<https://www.boxbe.com/anno?tc_serial=15115454639&tc_rand=1523998204&utm_source=stf&utm_medium=email&utm_campaign=ANNO_MWTP&utm_content=001&dom&token=3CWKDR1oB%2Fa1CY683nuayO4t02ptjHf6V8zz9sSw1BseghDtsirTIxCwhnGFOUGG&key=ePbkSKTVyU7IFMOXoR7%2BEadHh%2FSlMgX5aRPFT9Mq6Jw%3D>
>
> Le jeudi 12 septembre 2013 19:56:11, sepideh a ?crit :
>
> > MyTest.rar <http://osgeo-org.1560.x6.nabble.com/file/n5077579/MyTest.rar>
>
> > I have uploaded my MyTest.shp created in ArcGIS. If you open it, you
> will
> > see that it has nine polygons and in the attribute table of the layer, I
> > have explained about the features of each polygon.  My problem is:  I'm
> > developing a Visual C++ MFC application with GDAL/OGR library that will
> > show shapefiles in an OpenGL window. And I have created this shapefile
> to
> > test some parts of my application. *My application will only support
> ESRI
> > shapefiles.*   As you know, the OGRPolygon class has only a member
> > function *getNumInteriorRings* and not such function for exterior rings.
> I
> > mean it supports multiple interior rings but not multiple exterior
> rings.
> > So I decided to fetch one of the rings of each polygon with
> > *getExteriorRing()* and the others with *getInteriorRing(int)* and
> decide
> > with *isClockwise()* method whether it is an exterior or interior ring.
> > This approch is best for the polygons with *FIDs : 0,1,2,3,4,5,6 * in my
> > MyTest.shp. When I use this code for them:  /int NumberOfInnerRings =
> > poPolygon
> > ->getNumInteriorRings();/  I get these results:  FID = 0 -> 5FID = 1 ->
> > 1FID = 2 -> 0FID = 3 -> 1FID = 4 -> 2FID = 5 -> 0FID = 6 -> 2  showing
> > that one of the rings has been accepted as exterior and the others as
> > interior polygons. You see that the polygons with the above FIDs are
> > simple polygons, multipart polygons and polygons with holls inside.  But
> > for the two other polygons this is not the case. These are polygons that
> > have islands in as you see in this link:
> >
> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/Creating_new_
> > donut_holes_and_island_polygons/001t0000003p000000/
> > <
> http://help.arcgis.com/en/arcgisdesktop/10.0/help/index.html#/Creating_ne
> > w_donut_holes_and_island_polygons/001t0000003p000000/> I get these wrong
> > results for them as the number of Interior rings:  FID = 7 -> 1FID = 8
> ->
> > 2  meaning that islands are not known niether as interior nor exterior
> > polygons!!!  Can you tell me how can I support islands with GDAL/OGR
> > library or introduce me another open source that does this?
>
> The shapefile displays correctly in QGIS which uses OGR to read Shapefile
> which
> makes me think that the problem is not in OGR.
> Your above description is a bit confusing but my understanding is that
> your
> problem comes from the fact that the shapefile has a mix of 2 distinct
> geometry
> type :
> - POLYGON: they have always one exterior ring, and 0 or more interior ring
> - MULTIPOLYGON: that are maded of 0 or more polygons. On multipolygons,
> getNumInteriorRings() cannot be used. You must iterate first over each
> polygon
> part of the multipolygon
>
> You don't need to check the clockwise orientation to determine if a ring
> is
> exterior or interior. This is already done by the OGR Shapefile driver.
>
> ogrinfo with summary mode will give you the structure of the geometries :
>
> $ ogrinfo MyTest -al -geom=summary
> INFO: Open of `MyTest'
>       using driver `ESRI Shapefile' successful.
>
> Layer name: MyTest
> Geometry: Polygon
> Feature Count: 9
> Extent: (-14519050.256578, -31065929.994238) - (26123782.221403,
> 8007498.521952)
> Layer SRS WKT:
> PROJCS["WGS_1984_UTM_Zone_39N",
>     GEOGCS["GCS_WGS_1984",
>         DATUM["WGS_1984",
>             SPHEROID["WGS_84",6378137.0,298.257223563]],
>         PRIMEM["Greenwich",0.0],
>         UNIT["Degree",0.0174532925199433]],
>     PROJECTION["Transverse_Mercator"],
>     PARAMETER["False_Easting",500000.0],
>     PARAMETER["False_Northing",0.0],
>     PARAMETER["Central_Meridian",51.0],
>     PARAMETER["Scale_Factor",0.9996],
>     PARAMETER["Latitude_Of_Origin",0.0],
>     UNIT["Meter",1.0]]
> Id: Integer (6.0)
> type_poly: String (50.0)
> OGRFeature(MyTest):0
>   Id (Integer) = 0
>   type_poly (String) = polygonWithFiveHolesInside
>   POLYGON : 22 points, 5 inner rings (11 points, 11 points, 17 points, 9
> points, 6 points)
>
> OGRFeature(MyTest):1
>   Id (Integer) = 0
>   type_poly (String) = polygonWithTwoSeperateParts
>   MULTIPOLYGON : 2 geometries:
> POLYGON : 11 points
> POLYGON : 11 points
>
> OGRFeature(MyTest):2
>   Id (Integer) = 0
>   type_poly (String) = singlePolygon
>   POLYGON : 10 points
>
> OGRFeature(MyTest):3
>   Id (Integer) = 0
>   type_poly (String) = polygonWithOneHoleInside
>   POLYGON : 11 points, 1 inner rings (17 points)
>
> OGRFeature(MyTest):4
>   Id (Integer) = 0
>   type_poly (String) = polygonWithTwoHolesInside
>   POLYGON : 9 points, 2 inner rings (8 points, 6 points)
>
> OGRFeature(MyTest):5
>   Id (Integer) = 0
>   type_poly (String) = singlePolygon
>   POLYGON : 6 points
>
> OGRFeature(MyTest):6
>   Id (Integer) = 0
>   type_poly (String) = polygonWithThreeSeperateParts
>   MULTIPOLYGON : 3 geometries:
> POLYGON : 7 points
> POLYGON : 9 points
> POLYGON : 11 points
>
> OGRFeature(MyTest):7
>   Id (Integer) = 0
>   type_poly (String) = PolygonWithAnIslandInside
>   MULTIPOLYGON : 2 geometries:
> POLYGON : 9 points, 1 inner rings (9 points)
> POLYGON : 6 points
>
> OGRFeature(MyTest):8
>   Id (Integer) = 0
>   type_poly (String) = PolygonWithTwoIslandsInsideOneOfTheIslandsHasAHole
>   MULTIPOLYGON : 3 geometries:
> POLYGON : 7 points, 1 inner rings (6 points)
> POLYGON : 6 points, 1 inner rings (4 points)
> POLYGON : 6 points
>
> On the later,
> - the "main" polygon is "POLYGON : 7 points, 1 inner rings (6 points)"
> - the island with a hole is the "POLYGON : 6 points, 1 inner rings (4
> points)"
> - the other island is "POLYGON : 6 points"
>
>
> --
> Geospatial professional services
> http://even.rouault.free.fr/services.html
> _______________________________________________
> gdal-dev mailing list
> [hidden email] <http://user/SendEmail.jtp?type=node&node=5077587&i=0>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> ------------------------------
>  If you reply to this email, your message will be added to the discussion
> below:
>
> http://osgeo-org.1560.x6.nabble.com/How-can-I-support-polygons-with-islands-in-my-APPLICATION-USING-gdal-ogr-library-tp5077579p5077587.html
>  To unsubscribe from How can I support polygons with islands in my
> APPLICATION USING gdal/ogr library?, click here<http://osgeo-org.1560.x6.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=5077579&code=c2VwaWRlaC5hYmFkcG91cjg3QGdtYWlsLmNvbXw1MDc3NTc5fC0xMzE0NjI3NTU4>
> .
> NAML<http://osgeo-org.1560.x6.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>
>




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Re-How-can-I-support-polygons-with-islands-in-my-APPLICATION-USINGgdal-ogr-library-tp5077594.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130912/3dd9ddf2/attachment.html>

From lcelati at latitude-geosystems.com  Fri Sep 13 02:57:50 2013
From: lcelati at latitude-geosystems.com (image)
Date: Fri, 13 Sep 2013 02:57:50 -0700 (PDT)
Subject: [gdal-dev] gdal 1.10 with qgis 2.0?
Message-ID: <1379066270230-5077669.post@n6.nabble.com>

Hello,

I just downloaded qgisdev 2.1.0Master. I though this version had been
developped  with gdal 1.10. 

But i notice that the gdal version is still : 1.9.2

Could you throw light for me? 

Thanks. 

Regards. 

~IMAGE~ 



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-1-10-with-qgis-2-0-tp5077669.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Fri Sep 13 04:36:17 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 13 Sep 2013 11:36:17 +0000 (UTC)
Subject: [gdal-dev] SQLite write and read only access modes
Message-ID: <loom.20130913T132735-840@post.gmane.org>

Hi,

I was reading a new message from Sandro Furieri
https://groups.google.com/d/msg/spatialite-users/Eq2BXc8Bw2I/69Mu2Dxl5qsJ
and it made me think if GDAL is already doing what is suggested:

"writer" process is strictly required to execute the 
following PRAGMA before starting any write operation:
PRAGMA journal_mode=WAL;"

If this is the case then I think that applications like Mapserver could be
made to create READ-ONLY connection to SQLite/Spatialite db. That would make
it possible to keep Mapserver running while doing some db maintaining with
GDAL. That might be useful sometimes and I do not see how it would make any
harm ever.

-Jukka Rahkonen-


From martin.raspaud at smhi.se  Fri Sep 13 04:42:36 2013
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Fri, 13 Sep 2013 13:42:36 +0200
Subject: [gdal-dev] [ANN] Introductory Pytroll Workshop, Nov. 25-26 2013,
	at SMHI, Sweden
Message-ID: <5232FA2C.4000508@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[sorry for crossposting]

Hi all,

After the success of last years workshop, we decided to hold the
Pytroll workshop this year again at SMHI.

Pytroll is a collection of free and open source python modules for the
reading, interpretation, and writing of weather satellite data.
The provided python packages are designed to be used both in R&D
environments and in 24/7 operational production. More info at:
www.pytroll.org

This time, it will be a two days introductory workshop, during which
we will present the different packages of Pytroll, and help you get
started with the installation and the different applications you might
have.

Preliminary program:
Day 1:
- - Presentation of the different pytroll components
- - Installation of pytroll on the participants' computer
Day 2:
- - Illustration with different test cases and/or user defined
applications brought by the participant.

Please tell us if you plan to attend, so we can plan effectively.

For any more information, have a look at last year's workshop's webpage:
http://www.pytroll.org/workshop2012.html
or contact us with any questions directly or on the pytroll googlegroup.

Best regards,
Martin
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.14 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSMvosAAoJEBdvyODiyJI4LfkH/iisXrIEEIHhPgDdKPFtqOrJ
q6pFq70RkgXwDVWC3AoRfeE9eggO0mE2RZOPL16I9a+1RE/HFKz6Az4sVI5UtC0Z
nAU+pJd1KOzEBPBn59LQtU6+wX0rOI5UCA6yPMmR3DxkDDLhbrHLeebwLgVQb+gG
gVMl4ADdRFbt5nRkAs2/I/bD3gs3AxMwrSuXgP8hgF8IDyE/w1ZmwHivhEHHFup8
/AB2411rPuNRxf1T121nj+st8i6+PDw43L+jIbqL4bRPflwXDA1yibX/WiN+aunt
z3q6kCDfofnoM4vv0PlPcsYdVoqs0L3q7w3GwIz1e8tPm94sSrFMn/5zDWEya4c=
=TOlz
-----END PGP SIGNATURE-----

From martin.raspaud at smhi.se  Fri Sep 13 04:55:20 2013
From: martin.raspaud at smhi.se (Martin Raspaud)
Date: Fri, 13 Sep 2013 13:55:20 +0200
Subject: [gdal-dev] [ANN] Introductory Pytroll Workshop, Nov. 25-26 2013,
	at SMHI, Sweden
Message-ID: <5232FD28.7050407@smhi.se>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[sorry for crossposting]

Hi all,

After the success of last years workshop, we decided to hold the
Pytroll workshop this year again at SMHI.

Pytroll is a collection of free and open source python modules for the
reading, interpretation, and writing of weather satellite data.
The provided python packages are designed to be used both in R&D
environments and in 24/7 operational production. More info at:
www.pytroll.org

This time, it will be a two days introductory workshop, during which
we will present the different packages of Pytroll, and help you get
started with the installation and the different applications you might
have.

Preliminary program:
Day 1:
- - Presentation of the different pytroll components
- - Installation of pytroll on the participants' computer
Day 2:
- - Illustration with different test cases and/or user defined
applications brought by the participant.

Please tell us if you plan to attend, so we can plan effectively.

For any more information, have a look at last year's workshop's webpage:
http://www.pytroll.org/workshop2012.html
or contact us with any questions directly or on the pytroll googlegroup.

Best regards,
Martin

- -- 
You received this message because you are subscribed to the Google
Groups "python meteorology" group.
To unsubscribe from this group and stop receiving emails from it, send
an email to python-meteorology+unsubscribe at googlegroups.com.
For more options, visit https://groups.google.com/groups/opt_out.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.14 (GNU/Linux)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSMv0oAAoJEBdvyODiyJI4cPkH/i6JlAlYQQ+MhPNMs4HwwG5j
ZIB/asXhCZ6A+Y7O8M55wxAI//SPelyClEvCBAp2zAI5pDWHxYNhcVCu7eGF1Kqy
T/O+zBrbjexnb5+nrXKD2J9hlTcw6MeSw/eruaHf6cFzk6t4wENcJHPO1mIbtpVi
z5FtHIfWipwVoCdM8SnvADF0DBBgxtmFE0SdxgVH25Kp2a1awBW0G07/YQJdhi/O
03FZfl0R5UHvLxZtopWeGg67ZAi/xbJyeQ717ROTZKhLf3dzFxy27lKNSgQJASmE
FRils1jwSELS9yvqWGnJywNO+2LpRsH8p5YwNvntMk0scrVkL+ANu8yXgVdRFAs=
=pDXi
-----END PGP SIGNATURE-----

From even.rouault at mines-paris.org  Fri Sep 13 11:22:14 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 13 Sep 2013 20:22:14 +0200
Subject: [gdal-dev] SQLite write and read only access modes
In-Reply-To: <loom.20130913T132735-840@post.gmane.org>
References: <loom.20130913T132735-840@post.gmane.org>
Message-ID: <201309132022.14098.even.rouault@mines-paris.org>

Le vendredi 13 septembre 2013 13:36:17, Jukka Rahkonen a ?crit :
> Hi,
> 
> I was reading a new message from Sandro Furieri
> https://groups.google.com/d/msg/spatialite-users/Eq2BXc8Bw2I/69Mu2Dxl5qsJ
> and it made me think if GDAL is already doing what is suggested:
> 
> "writer" process is strictly required to execute the
> following PRAGMA before starting any write operation:
> PRAGMA journal_mode=WAL;"

OGR doesn't do it automatically (WAL is new to SQLite 3.7 while OGR still 
supports 3.6 and using WAL can make databases unreadable by SQLite 3.6). 
Provided you have SQLite 3.7 or above, you can however specify --config 
OGR_SQLITE_JOURNAL WAL if you modify the database with ogrinfo / ogr2ogr. This 
is an undocumented feature that was introduced for reasons I don't remember 
during 1.10 development (probably just experimenting). Otherwise in trunk, 
there's a more general option, OGR_SQLITE_PRAGMA that can be used to specify 
any valid pragma, so that would be --config OGR_SQLITE_PRAGMA "journal_mode = 
WAL" 

Note: I've never tried concurrent read-only and read-write accesses with 
SQLite, and it seems to be a very advanced and dangerous game that requires 
good intimacy with SQLite documentation... See 
http://www.sqlite.org/draft/wal.html

> 
> If this is the case then I think that applications like Mapserver could be
> made to create READ-ONLY connection to SQLite/Spatialite db. That would
> make it possible to keep Mapserver running while doing some db maintaining
> with GDAL. That might be useful sometimes and I do not see how it would
> make any harm ever.
> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From even.rouault at mines-paris.org  Fri Sep 13 12:41:41 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 13 Sep 2013 21:41:41 +0200
Subject: [gdal-dev] Multifile ArcGrid Issue
In-Reply-To: <CAPOCdJcOtrNLUAON6GET9K7_DqTwGAJTseuYUK4Zcxt_YFt3KA@mail.gmail.com>
References: <CAPOCdJcOtrNLUAON6GET9K7_DqTwGAJTseuYUK4Zcxt_YFt3KA@mail.gmail.com>
Message-ID: <201309132141.42028.even.rouault@mines-paris.org>

Le jeudi 12 septembre 2013 18:22:01, Dan Lewis a ?crit :
> Hi,
> 
> I'm trying to pull elevation data from the GMTED2010 Global Grids, which
> are distributed as ESRI ArcGrids (
> http://topotools.cr.usgs.gov/GMTED_viewer/gmted2010_global_grids.php).
> 
> Here's a minimal program that illustrates my problem:
> 
> int main()
> {
>     GDALDataset  *poDataset;
> 
>     GDALAllRegister();
> 
>     //poDataset = (GDALDataset *) GDALOpen(
> "C:/data/GMTED2010/mn30_grd/mn30_grd/w001000.adf", GA_ReadOnly );
>     poDataset = (GDALDataset *) GDALOpen(
> "C:/data/GMTED2010/mn15_grd/mn15_grd/w001000.adf", GA_ReadOnly );
> 
>     double adfGeoTransform[6];
>     poDataset->GetGeoTransform( adfGeoTransform );
> 
>     double latitude = 34.52798, longitude = -112.875733;
>     //double latitude = 67, longitude = -141;
> 
>     double x = (longitude - adfGeoTransform[0]) / adfGeoTransform[1];
>     double y = (latitude - adfGeoTransform[3]) / adfGeoTransform[5];
> 
>     float val;
>     poDataset->RasterIO( GF_Read, x, y, 1, 1,
>                       &val, 1, 1, GDT_Float32,
>                       1, NULL, 0, 0, 0 );
>     std::cout<<"Check elevation at point ("<<x<<", "<<y<<"): "<<val<<"\n";
> 
>     return 0;
> }
> 
> I get the following errors:
> 
> ERROR 1: Illegal block requested.
> ERROR 1: IReadBlock failed at X offset 62, Y offset 742
> ERROR 1: GetBlockRef failed at X block offset 62, Y block offset 742
> 
> It works as expected if I pull from locations earlier in the file (64,
> -141) or if I use a lower resolution file (mn30_grd).
> 
> I found an old ticket (#1198) that seems related but has been marked as
> fixed.
> 
> Any ideas?

Dan,

This works well for me with GDAL 1.9.2 or above :

$ gdallocationinfo mn15_grd/w001000.adf -geoloc  -112.875733  34.52798
Report:
  Location: (16109P,11873L)
  Band 1:
    Value: 1229

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From sepideh.abadpour87 at gmail.com  Fri Sep 13 12:58:30 2013
From: sepideh.abadpour87 at gmail.com (sepideh)
Date: Fri, 13 Sep 2013 12:58:30 -0700 (PDT)
Subject: [gdal-dev] How to iterate over each point of an OGRMultiPoint
Message-ID: <1379102310851-5077787.post@n6.nabble.com>

I have this code and I don't know how to iterate over each part ( point ) of
the feature of type wkbMultiPoint:  

   //Multipoint Shapefile
   if ( wkbFlatten ( LayerGeometryType ) == wkbMultiPoint )
   {
	   OGRFeature *poFeature;
	   MultipointFeature MultiPoint;
	   for ( int i = 0; i < NumberOfFeatures; i++ )
	   {
		   poFeature = poLayer ->GetNextFeature();
		   OGRGeometry *poGeometry;
		   poGeometry = poFeature ->GetGeometryRef();
		   if ( poGeometry != NULL && wkbFlatten ( poGeometry ->getGeometryType()
) == wkbMultiPoint )
		   {
			   OGRMultiPoint *poMultipoint = ( OGRMultiPoint * )poGeometry;
			   int NumberOfGeometries = poMultipoint ->getNumGeometries();
			   MultiPoint.PointsOfFeature.resize( NumberOfGeometries );
			   for ( int j = 0; j < NumberOfGeometries; j++ )
			   {
				   poMultipoint ->
			   }
		   }
	   }
   }



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/How-to-iterate-over-each-point-of-an-OGRMultiPoint-tp5077787.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Fri Sep 13 13:06:43 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 13 Sep 2013 22:06:43 +0200
Subject: [gdal-dev] How to iterate over each point of an OGRMultiPoint
In-Reply-To: <1379102310851-5077787.post@n6.nabble.com>
References: <1379102310851-5077787.post@n6.nabble.com>
Message-ID: <201309132206.43543.even.rouault@mines-paris.org>

Le vendredi 13 septembre 2013 21:58:30, sepideh a ?crit :
> I have this code and I don't know how to iterate over each part ( point )
> of the feature of type wkbMultiPoint:
> 
>    //Multipoint Shapefile
>    if ( wkbFlatten ( LayerGeometryType ) == wkbMultiPoint )
>    {
> 	   OGRFeature *poFeature;
> 	   MultipointFeature MultiPoint;
> 	   for ( int i = 0; i < NumberOfFeatures; i++ )
> 	   {
> 		   poFeature = poLayer ->GetNextFeature();
> 		   OGRGeometry *poGeometry;
> 		   poGeometry = poFeature ->GetGeometryRef();
> 		   if ( poGeometry != NULL && wkbFlatten ( poGeometry -
>getGeometryType()
> ) == wkbMultiPoint )
> 		   {
> 			   OGRMultiPoint *poMultipoint = ( OGRMultiPoint * )poGeometry;
> 			   int NumberOfGeometries = poMultipoint ->getNumGeometries();
> 			   MultiPoint.PointsOfFeature.resize( NumberOfGeometries );
> 			   for ( int j = 0; j < NumberOfGeometries; j++ )
> 			   {
> 				   poMultipoint ->

See 
http://gdal.org/ogr/classOGRGeometryCollection.html#ad609f2c7886918a766dd3d3a4fa52ec3

> 			   }
> 		   }
> 	   }
>    }
> 
> 
> 
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/How-to-iterate-over-each-point-of-an-O
> GRMultiPoint-tp5077787.html Sent from the GDAL - Dev mailing list archive
> at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From sepideh.abadpour87 at gmail.com  Sat Sep 14 15:32:38 2013
From: sepideh.abadpour87 at gmail.com (sepideh)
Date: Sat, 14 Sep 2013 15:32:38 -0700 (PDT)
Subject: [gdal-dev] How to use projection of a shapefile in order to have a
 better view in OpenGL
Message-ID: <1379197958287-5077865.post@n6.nabble.com>

showShapefile.rar
<http://osgeo-org.1560.x6.nabble.com/file/n5077865/showShapefile.rar>    
Dear reader  
In the attached file, I have included a program that shows a polygon .shp in
OpenGL. My problem is after finishing the work I found that the layer, is
not shown as it is shown in the ArcGIS or global mapper. I mean it seems
that the layer is stretched.  
So two questions rose up for me: 

Can using projection of the layer help me? How? I mean how can I apply the
projection of layer to OpenGL? 

As you see the OpenGL is using an ortographic projection (glOrtho). Do you
think using (glFustrum) instead will solve my problem and I can ignore
projection of layer?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/How-to-use-projection-of-a-shapefile-in-order-to-have-a-better-view-in-OpenGL-tp5077865.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From sepideh.abadpour87 at gmail.com  Sun Sep 15 02:39:37 2013
From: sepideh.abadpour87 at gmail.com (sepideh)
Date: Sun, 15 Sep 2013 02:39:37 -0700 (PDT)
Subject: [gdal-dev] will ogr get coordinates in geographic coordinate system
 or projected coordinate system when using getPoint function
Message-ID: <1379237977865-5077897.post@n6.nabble.com>

showShapefile.rar
<http://osgeo-org.1560.x6.nabble.com/file/n5077897/showShapefile.rar>    
In the uploaded file, I have included a program that shows a polygon
shapefile on an opengl window. My problem is it seems the layer is stretched
comparing to what is shown when we render it in ArcGIS, QGIS and etc that I
think it is maybe because of not using the correct projection.  

As you see we set up an orthographic projection for opengl with the use of
the layer's bounding box and glOrtho.  
The question is for a layer, like this:  
<http://osgeo-org.1560.x6.nabble.com/file/n5077897/Capture1.jpg>   
<http://osgeo-org.1560.x6.nabble.com/file/n5077897/Capture2.jpg>   
are the vertex coordinates stored in Geographic coordinate system or
projectected coordinate system when we use functions like:  

OGRLineString::getPoint(int,OGRPoint*);
OGRPoint::getX();
OGRPoint::getY();  

when  I debug my code and see the vectors stored:  
<http://osgeo-org.1560.x6.nabble.com/file/n5077897/Capture.jpg>   
I come to the point that coordinates are stored in the *PCS* not *GCS*, but
why my layer is stretched.  

Is it because I show GCS coordinates in a glOrtho projection or do you think
the problem is something else?



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/will-ogr-get-coordinates-in-geographic-coordinate-system-or-projected-coordinate-system-when-using-gn-tp5077897.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Sun Sep 15 07:48:34 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun, 15 Sep 2013 14:48:34 +0000 (UTC)
Subject: [gdal-dev] =?utf-8?q?Add_=22all=5Ftags=22_option_into_OSM_driver?=
Message-ID: <loom.20130915T163021-206@post.gmane.org>

Hi,

Currently it is possible to select which OSM tags are converted into normal
OGR fiels and select that the rest will be written into "other_tags" field,
except the ones from the ignore list.

In case of PostGIS and hstore it would be sometimes good to have all the
tags written into the hstore fiels, also those which are converted into OGR
fields.

I suggest to add an "all_tags" option which would concatenate all the tags
into a common field except those which are in the ingore list. Alternatively
there could be switch to change the "other_tags" behavious between "all tags
which are not OGR tags of ignored" vs. "all tags which are not ignored"

Adding a new "all_tags" option feels easier to implement but I can not
really imagine why any user would like to select both "other_tags" and
"all_tags" options at the same time.

Osmconf.ini which would support the easy but perhaps stupid alternative
would then look like this:

# keys to report as OGR fields
attributes=[list]
# keys that should NOT be reported in the "other_tags" and "all_tags" fields
ignore=[list]
# uncomment to avoid creation of "other_tags" field
#other_tags=no
# uncomment to avoid creation of "all_tags" field
all_tags=no


The "all_tags" option is how osm2pgsql works with the -k parameter and
having that in GDAL would help in using those two programs side by side.

-Jukka Rahkonen-



From gdal at stripfamily.net  Sun Sep 15 09:35:09 2013
From: gdal at stripfamily.net (David Strip)
Date: Sun, 15 Sep 2013 10:35:09 -0600
Subject: [gdal-dev] will ogr get coordinates in geographic coordinate
 system or projected coordinate system when using getPoint function
In-Reply-To: <1379237977865-5077897.post@n6.nabble.com>
References: <1379237977865-5077897.post@n6.nabble.com>
Message-ID: <5235E1BD.90505@stripfamily.net>

On 9/15/2013 3:39 AM, sepideh wrote:
> I come to the point that coordinates are stored in the *PCS* not *GCS*, but
> why my layer is stretched.  
>
> Is it because I show GCS coordinates in a glOrtho projection or do you think
> the problem is something else?
>

Your problem is that the coordinates are being graphed in a coordinate
system that fills the viewport that you have defined. You can see this
by grabbing the right edge of your openGL window and resizing. The
entire display rubber-bands with the shape of the screen.

I'm not that familiar with the structure of openGL programs, but your
problem lies in the interaction of the viewport with the projection
(glOrtho in this case).  You need to get these coordinated so that shape
is preserved. I would start with a very simple program- plotting a
square - and make sure that no matter how you resize the window, it
remains square. Once you get this understood, apply that logic to
setting the viewport and projection for your shapefile program.


From gabrielfusca at suremptec.com.ar  Mon Sep 16 10:54:38 2013
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Mon, 16 Sep 2013 14:54:38 -0300
Subject: [gdal-dev]  GetCabilities from WMS
Message-ID: <CAJ1ZnRUHz=e3vhFrGN1=Etct1OnwkuvnFz-KXjfJOTnOR5XR-Q@mail.gmail.com>

Hi,

I'm working with gdal 1.9.1 and I need to obtain GetCapabilities from a WMS
Server.

Which is the right way to do?

Thanks.

Regards,
-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130916/c88432cc/attachment.html>

From thare at usgs.gov  Mon Sep 16 11:10:35 2013
From: thare at usgs.gov (Hare, Trent)
Date: Mon, 16 Sep 2013 11:10:35 -0700
Subject: [gdal-dev] GetCabilities from WMS
In-Reply-To: <CAJ1ZnRUHz=e3vhFrGN1=Etct1OnwkuvnFz-KXjfJOTnOR5XR-Q@mail.gmail.com>
References: <CAJ1ZnRUHz=e3vhFrGN1=Etct1OnwkuvnFz-KXjfJOTnOR5XR-Q@mail.gmail.com>
Message-ID: <CAB6t5t_h1wn_6bW0i-WZh4c92ZmSPT1GU3a1=vzW7Y_HuQyEng@mail.gmail.com>

Gabriel,
   I was able to sucesffuly incorporate make-gdal-wms.pl (PERL script by
Albrecht Dre?) into a WMS layer testing workflow.
http://www.mail-archive.com/qlandkartegt-users at lists.sourceforge.net/msg00215.html

But I would like to hear other options.

Regards,
Trent


On Mon, Sep 16, 2013 at 10:54 AM, Gabriel Fusca <
gabrielfusca at suremptec.com.ar> wrote:

> Hi,
>
> I'm working with gdal 1.9.1 and I need to obtain GetCapabilities from a
> WMS Server.
>
> Which is the right way to do?
>
> Thanks.
>
> Regards,
> --
> Gabriel Fusca
> SUR Emprendimientos Tecnol?gicos
>
> Per? 345  Piso 5to Oficina "B" (C1067AAG)
> Ciudad de Buenos Aires, Argentina
> Tel. +54 (11) 4342-2976/84
> gabrielfusca at suremptec.com.ar
> http://www.suremptec.com/
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130916/5bbd8610/attachment.html>

From gabrielfusca at suremptec.com.ar  Mon Sep 16 11:18:23 2013
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Mon, 16 Sep 2013 15:18:23 -0300
Subject: [gdal-dev] GetCabilities from WMS
In-Reply-To: <CAB6t5t_h1wn_6bW0i-WZh4c92ZmSPT1GU3a1=vzW7Y_HuQyEng@mail.gmail.com>
References: <CAJ1ZnRUHz=e3vhFrGN1=Etct1OnwkuvnFz-KXjfJOTnOR5XR-Q@mail.gmail.com>
	<CAB6t5t_h1wn_6bW0i-WZh4c92ZmSPT1GU3a1=vzW7Y_HuQyEng@mail.gmail.com>
Message-ID: <CAJ1ZnRXkZByyd9ACjPS+Nt6-vfT7i8j8+qj2RibeC5Cy8Jv0nw@mail.gmail.com>

Trent,

Thanks for the data.

I forgot to tell that I'm working with C++.

Regards,


2013/9/16 Hare, Trent <thare at usgs.gov>

> Gabriel,
>    I was able to sucesffuly incorporate make-gdal-wms.pl (PERL script by
> Albrecht Dre?) into a WMS layer testing workflow.
>
> http://www.mail-archive.com/qlandkartegt-users at lists.sourceforge.net/msg00215.html
>
> But I would like to hear other options.
>
> Regards,
> Trent
>
>
> On Mon, Sep 16, 2013 at 10:54 AM, Gabriel Fusca <
> gabrielfusca at suremptec.com.ar> wrote:
>
>> Hi,
>>
>> I'm working with gdal 1.9.1 and I need to obtain GetCapabilities from a
>> WMS Server.
>>
>> Which is the right way to do?
>>
>> Thanks.
>>
>> Regards,
>> --
>> Gabriel Fusca
>> SUR Emprendimientos Tecnol?gicos
>>
>> Per? 345  Piso 5to Oficina "B" (C1067AAG)
>> Ciudad de Buenos Aires, Argentina
>> Tel. +54 (11) 4342-2976/84
>> gabrielfusca at suremptec.com.ar
>> http://www.suremptec.com/
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>


-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130916/50a12906/attachment.html>

From nhv at cape.com  Mon Sep 16 11:26:12 2013
From: nhv at cape.com (Norman Vine)
Date: Mon, 16 Sep 2013 14:26:12 -0400
Subject: [gdal-dev] GetCabilities from WMS
In-Reply-To: <CAJ1ZnRXkZByyd9ACjPS+Nt6-vfT7i8j8+qj2RibeC5Cy8Jv0nw@mail.gmail.com>
References: <CAJ1ZnRUHz=e3vhFrGN1=Etct1OnwkuvnFz-KXjfJOTnOR5XR-Q@mail.gmail.com>
	<CAB6t5t_h1wn_6bW0i-WZh4c92ZmSPT1GU3a1=vzW7Y_HuQyEng@mail.gmail.com>
	<CAJ1ZnRXkZByyd9ACjPS+Nt6-vfT7i8j8+qj2RibeC5Cy8Jv0nw@mail.gmail.com>
Message-ID: <FA32AC32-A948-4588-BBF4-A6BD6063DBC6@cape.com>

not gdal but see
http://trac.osgeo.org/ossim/browser/trunk/libwms

On Sep 16, 2013, at 2:18 PM, Gabriel Fusca <gabrielfusca at suremptec.com.ar> wrote:

> Trent,
> 
> Thanks for the data. 
> 
> I forgot to tell that I'm working with C++.
> 
> Regards,
> 
> 
> 2013/9/16 Hare, Trent <thare at usgs.gov>
> Gabriel,
>    I was able to sucesffuly incorporate make-gdal-wms.pl (PERL script by Albrecht Dre?) into a WMS layer testing workflow.
> http://www.mail-archive.com/qlandkartegt-users at lists.sourceforge.net/msg00215.html
> 
> But I would like to hear other options.
> 
> Regards,
> Trent
> 
> 
> On Mon, Sep 16, 2013 at 10:54 AM, Gabriel Fusca <gabrielfusca at suremptec.com.ar> wrote:
> Hi,
> 
> I'm working with gdal 1.9.1 and I need to obtain GetCapabilities from a WMS Server.
> 
> Which is the right way to do?
> 
> Thanks.
> 
> Regards,
> -- 
> Gabriel Fusca
> SUR Emprendimientos Tecnol?gicos
> 
> Per? 345  Piso 5to Oficina "B" (C1067AAG)
> Ciudad de Buenos Aires, Argentina
> Tel. +54 (11) 4342-2976/84
> gabrielfusca at suremptec.com.ar
> http://www.suremptec.com/
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> 
> -- 
> Gabriel Fusca
> SUR Emprendimientos Tecnol?gicos
> 
> Per? 345  Piso 5to Oficina "B" (C1067AAG)
> Ciudad de Buenos Aires, Argentina
> Tel. +54 (11) 4342-2976/84
> gabrielfusca at suremptec.com.ar
> http://www.suremptec.com/
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130916/f53d8fac/attachment.html>

From jukka.rahkonen at mmmtike.fi  Tue Sep 17 04:07:44 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 17 Sep 2013 11:07:44 +0000 (UTC)
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
Message-ID: <loom.20130917T130051-998@post.gmane.org>

Hi,

I noticed that gdalinfo and gdallocationinfo tools do not print into file
with command
gdalinfo test.tif >report.txt

The file report.txt is created but it remains empty. With ogrinfo printing
into file goes well. I also had a try with some old FWTools and with that I
could redirect also gdalinfo report into file.

I was testing on Windows 7 and last nights 64-bit GDAL from trunk
http://gisinternals.com/sdk/Download.aspx?file=release-1600-x64-gdal-mapserver.zip

-Jukka Rahkonen-


From dhdeangelis at gmail.com  Tue Sep 17 07:39:30 2013
From: dhdeangelis at gmail.com (=?ISO-8859-1?Q?Hern=E1n_De_Angelis?=)
Date: Tue, 17 Sep 2013 16:39:30 +0200
Subject: [gdal-dev] Geo::GDAL for GDAL 1.10.1?
Message-ID: <CALzmt=RYdz5kxDUj_5g2v_htcBdBR0L3+zCQB1yqrfqTqpgrBA@mail.gmail.com>

Dear all,

I cannot figure out how to get the Geo::GDAL module installed in my system.
I understand that the bindings are built when compiling GDAL with the
--with-perl option, but I cannot see where the Geo::GDAL modules are, so I
can load them with "use Geo::GDAL". I will appreciate any hint on this,
thanks in advance


Hern?n



-- 
Hern?n De Angelis
http://talesoficeandstone.blogspot.se/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130917/1f3d6775/attachment.html>

From dhdeangelis at gmail.com  Tue Sep 17 07:54:54 2013
From: dhdeangelis at gmail.com (=?ISO-8859-1?Q?Hern=E1n_De_Angelis?=)
Date: Tue, 17 Sep 2013 16:54:54 +0200
Subject: [gdal-dev] Geo::GDAL for GDAL 1.10.1?
In-Reply-To: <CALzmt=RYdz5kxDUj_5g2v_htcBdBR0L3+zCQB1yqrfqTqpgrBA@mail.gmail.com>
References: <CALzmt=RYdz5kxDUj_5g2v_htcBdBR0L3+zCQB1yqrfqTqpgrBA@mail.gmail.com>
Message-ID: <CALzmt=StFP=Qv61Rj_E-wu5FxuxO6RT1iUGmNTj3=igjiRGqwA@mail.gmail.com>

Nevermind, I found it in

/usr/local/lib/perl5/...

Made it work adding it to my local Perl path (@INC)

Thanks anyway

H.


2013/9/17 Hern?n De Angelis <dhdeangelis at gmail.com>

> Dear all,
>
> I cannot figure out how to get the Geo::GDAL module installed in my
> system. I understand that the bindings are built when compiling GDAL with
> the --with-perl option, but I cannot see where the Geo::GDAL modules are,
> so I can load them with "use Geo::GDAL". I will appreciate any hint on
> this, thanks in advance
>
>
> Hern?n
>
>
>
> --
> Hern?n De Angelis
> http://talesoficeandstone.blogspot.se/
>
>


-- 
Hern?n De Angelis
http://talesoficeandstone.blogspot.se/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130917/265a309d/attachment.html>

From kyle at pobox.com  Tue Sep 17 07:56:15 2013
From: kyle at pobox.com (Kyle Shannon)
Date: Tue, 17 Sep 2013 08:56:15 -0600
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <loom.20130917T130051-998@post.gmane.org>
References: <loom.20130917T130051-998@post.gmane.org>
Message-ID: <52386D8F.6010501@pobox.com>

On 09/17/2013 05:07 AM, Jukka Rahkonen wrote:
> Hi,
>
> I noticed that gdalinfo and gdallocationinfo tools do not print into file
> with command
> gdalinfo test.tif >report.txt
>
> The file report.txt is created but it remains empty. With ogrinfo printing
> into file goes well. I also had a try with some old FWTools and with that I
> could redirect also gdalinfo report into file.
>
> I was testing on Windows 7 and last nights 64-bit GDAL from trunk
> http://gisinternals.com/sdk/Download.aspx?file=release-1600-x64-gdal-mapserver.zip
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
Jukka,
There is a ticket that may be related.  See:

http://trac.osgeo.org/gdal/ticket/5073

and

http://trac.osgeo.org/gdal/ticket/5128

That user reports failure of redirection if the ecw plugin is installed.

kss

From even.rouault at mines-paris.org  Tue Sep 17 08:02:37 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 17 Sep 2013 17:02:37 +0200
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <loom.20130917T130051-998@post.gmane.org>
References: <loom.20130917T130051-998@post.gmane.org>
Message-ID: <1379430157.52386f0d28e39@imp.free.fr>

Hi Jukka,

This reminds me a lot the following ticket :
http://trac.osgeo.org/gdal/ticket/5128

Could you confirm that the analysis done (i.e. the cause of the problem would be
the ECW plugin) also applies to you ? I'm not sure if you must completely
uninstall (or rename) the gdal_ECW.dll, or if specifying GDAL_SKIP=ECW as
environmenet variable is sufficient

Even

> Hi,
>
> I noticed that gdalinfo and gdallocationinfo tools do not print into file
> with command
> gdalinfo test.tif >report.txt
>
> The file report.txt is created but it remains empty. With ogrinfo printing
> into file goes well. I also had a try with some old FWTools and with that I
> could redirect also gdalinfo report into file.
>
> I was testing on Windows 7 and last nights 64-bit GDAL from trunk
>
http://gisinternals.com/sdk/Download.aspx?file=release-1600-x64-gdal-mapserver.zip
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From ari.jolma at gmail.com  Tue Sep 17 08:04:18 2013
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 17 Sep 2013 18:04:18 +0300
Subject: [gdal-dev] Geo::GDAL for GDAL 1.10.1?
In-Reply-To: <CALzmt=StFP=Qv61Rj_E-wu5FxuxO6RT1iUGmNTj3=igjiRGqwA@mail.gmail.com>
References: <CALzmt=RYdz5kxDUj_5g2v_htcBdBR0L3+zCQB1yqrfqTqpgrBA@mail.gmail.com>
	<CALzmt=StFP=Qv61Rj_E-wu5FxuxO6RT1iUGmNTj3=igjiRGqwA@mail.gmail.com>
Message-ID: <52386F72.6050607@gmail.com>

On 09/17/2013 05:54 PM, Hern?n De Angelis wrote:
> Nevermind, I found it in
>
> /usr/local/lib/perl5/...
>
> Made it work adding it to my local Perl path (@INC)

I always compile the Perl bindings separately and leave the --with-perl 
away from configure. That's "cd swig/perl; make; make test; make 
install". I know this may not be what I should do.

However, there is something strange with the perl Makefile.PL part (done 
automatically by make). The installation target is often architecture 
dependent path - where Perl itself does not find them - and when I 
delete that path and redo perl Makefile.PL and install again they go to 
the correct directory.

Still one more thing, if 1.10.1 is the very latest with Evan's multiple 
geometries per feature, I suspect that it may have some implications in 
the Perl bindings. There are quite a lot Perl stuff in the bindings 
(maybe even too much) and some of them might assume only one geometry 
per feature.

Cheers,

Ari

>
> Thanks anyway
>
> H.
>
>
> 2013/9/17 Hern?n De Angelis <dhdeangelis at gmail.com 
> <mailto:dhdeangelis at gmail.com>>
>
>     Dear all,
>
>     I cannot figure out how to get the Geo::GDAL module installed in
>     my system. I understand that the bindings are built when compiling
>     GDAL with the --with-perl option, but I cannot see where the
>     Geo::GDAL modules are, so I can load them with "use Geo::GDAL". I
>     will appreciate any hint on this, thanks in advance
>
>
>     Hern?n
>
>
>
>     -- 
>     Hern?n De Angelis
>     http://talesoficeandstone.blogspot.se/
>
>
>
>
> -- 
> Hern?n De Angelis
> http://talesoficeandstone.blogspot.se/
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130917/ff39f855/attachment.html>

From dhdeangelis at gmail.com  Tue Sep 17 08:11:07 2013
From: dhdeangelis at gmail.com (=?ISO-8859-1?Q?Hern=E1n_De_Angelis?=)
Date: Tue, 17 Sep 2013 17:11:07 +0200
Subject: [gdal-dev] Geo::GDAL for GDAL 1.10.1?
In-Reply-To: <52386F72.6050607@gmail.com>
References: <CALzmt=RYdz5kxDUj_5g2v_htcBdBR0L3+zCQB1yqrfqTqpgrBA@mail.gmail.com>
	<CALzmt=StFP=Qv61Rj_E-wu5FxuxO6RT1iUGmNTj3=igjiRGqwA@mail.gmail.com>
	<52386F72.6050607@gmail.com>
Message-ID: <CALzmt=T43m1E=61yOXauh06KUrmR7DH3-YTr7sTgkX=u3_NA8A@mail.gmail.com>

Thanks for the answer Ari. The current behavior is possibly not optimal,
but it is OK anyway. As you say, the paths are system dependent. I just did
not know that it worked that way because I always installed Geo::GDAL from
CPAN.

Thanks again!

Hern?n



2013/9/17 Ari Jolma <ari.jolma at gmail.com>

>  On 09/17/2013 05:54 PM, Hern?n De Angelis wrote:
>
>  Nevermind, I found it in
>
> /usr/local/lib/perl5/...
>
>  Made it work adding it to my local Perl path (@INC)
>
>
> I always compile the Perl bindings separately and leave the --with-perl
> away from configure. That's "cd swig/perl; make; make test; make install".
> I know this may not be what I should do.
>
> However, there is something strange with the perl Makefile.PL part (done
> automatically by make). The installation target is often architecture
> dependent path - where Perl itself does not find them - and when I delete
> that path and redo perl Makefile.PL and install again they go to the
> correct directory.
>
> Still one more thing, if 1.10.1 is the very latest with Evan's multiple
> geometries per feature, I suspect that it may have some implications in the
> Perl bindings. There are quite a lot Perl stuff in the bindings (maybe even
> too much) and some of them might assume only one geometry per feature.
>
> Cheers,
>
> Ari
>
>
>  Thanks anyway
>
>  H.
>
>
> 2013/9/17 Hern?n De Angelis <dhdeangelis at gmail.com>
>
>>   Dear all,
>>
>>  I cannot figure out how to get the Geo::GDAL module installed in my
>> system. I understand that the bindings are built when compiling GDAL with
>> the --with-perl option, but I cannot see where the Geo::GDAL modules are,
>> so I can load them with "use Geo::GDAL". I will appreciate any hint on
>> this, thanks in advance
>>
>>
>>  Hern?n
>>
>>
>>
>>  --
>> Hern?n De Angelis
>> http://talesoficeandstone.blogspot.se/
>>
>>
>
>
> --
> Hern?n De Angelis
> http://talesoficeandstone.blogspot.se/
>
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Hern?n De Angelis
http://talesoficeandstone.blogspot.se/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130917/a2e8931f/attachment-0001.html>

From even.rouault at mines-paris.org  Tue Sep 17 08:19:13 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 17 Sep 2013 17:19:13 +0200
Subject: [gdal-dev] Geo::GDAL for GDAL 1.10.1?
In-Reply-To: <52386F72.6050607@gmail.com>
References: <CALzmt=RYdz5kxDUj_5g2v_htcBdBR0L3+zCQB1yqrfqTqpgrBA@mail.gmail.com>
	<CALzmt=StFP=Qv61Rj_E-wu5FxuxO6RT1iUGmNTj3=igjiRGqwA@mail.gmail.com>
	<52386F72.6050607@gmail.com>
Message-ID: <1379431153.523872f1c9e70@imp.free.fr>


> Still one more thing, if 1.10.1 is the very latest with Evan's multiple
> geometries per feature, I suspect that it may have some implications in
> the Perl bindings. There are quite a lot Perl stuff in the bindings
> (maybe even too much) and some of them might assume only one geometry
> per feature.

Actually no: RFC41 is trunk only, so GDAL 2.0 or 1.11 or whatever we might end
up calling it.

And the changes in RFC41 have been done with backward compatibility in mind. So
code that hasn't been updated to take into account RFC41 new API should still
work with the old API (GetGeometryRef() will return the first geometry field if
there are several geometry fields).

Even

> >
> > Thanks anyway
> >
> > H.
> >
> >
> > 2013/9/17 Hern?n De Angelis <dhdeangelis at gmail.com
> > <mailto:dhdeangelis at gmail.com>>
> >
> >     Dear all,
> >
> >     I cannot figure out how to get the Geo::GDAL module installed in
> >     my system. I understand that the bindings are built when compiling
> >     GDAL with the --with-perl option, but I cannot see where the
> >     Geo::GDAL modules are, so I can load them with "use Geo::GDAL". I
> >     will appreciate any hint on this, thanks in advance
> >
> >
> >     Hern?n
> >
> >
> >
> >     --
> >     Hern?n De Angelis
> >     http://talesoficeandstone.blogspot.se/
> >
> >
> >
> >
> > --
> > Hern?n De Angelis
> > http://talesoficeandstone.blogspot.se/
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>



From andre+joost at nurfuerspam.de  Tue Sep 17 11:31:59 2013
From: andre+joost at nurfuerspam.de (Andre Joost)
Date: Tue, 17 Sep 2013 20:31:59 +0200
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <1379430157.52386f0d28e39@imp.free.fr>
References: <loom.20130917T130051-998@post.gmane.org>
	<1379430157.52386f0d28e39@imp.free.fr>
Message-ID: <l1a787$to5$1@ger.gmane.org>

Am 17.09.2013 17:02, schrieb Even Rouault:
> Hi Jukka,
>
> This reminds me a lot the following ticket :
> http://trac.osgeo.org/gdal/ticket/5128
>
> Could you confirm that the analysis done (i.e. the cause of the problem would be
> the ECW plugin) also applies to you ? I'm not sure if you must completely
> uninstall (or rename) the gdal_ECW.dll, or if specifying GDAL_SKIP=ECW as
> environmenet variable is sufficient

Confirmed here. Removing or renaming the gdal_ECW_JP2ECW.dll in \bin 
solves the problem. The file investigated was a .tif, so the ecw driver 
was not used at all. Tested on gisinternals sdk version 1-10-0 from 
07.09.2013.

HTH,
Andr? Joost


From bobc at bluemarblegeo.com  Tue Sep 17 13:22:09 2013
From: bobc at bluemarblegeo.com (Bob Cave)
Date: Tue, 17 Sep 2013 13:22:09 -0700 (PDT)
Subject: [gdal-dev] Spatialite Insert Performance
Message-ID: <1379449329259-5078349.post@n6.nabble.com>

Hello,

I have written a program that uses GDAL 1.9.1 to insert data into a
SQLite/Spatialite database, and I am running into performance problems with
large amounts of data.  The SQLite/Spatialite section of the OGR
documentation says, "The -gt argument allows to explicitly set the number of
rows for each transaction. Explicitly defining -gt 1024 usually ensures a
noticeable performance boost; defining an even bigger -gt 65536 ensures
optimal performance while populating some table containing many hundredth
thousand or million rows." Apparently, the value associated with the -gt
parameter instructs OGR to commit the data after that number of rows have
been inserted.

How can I set the value associated with the -gt argument from within my
program?  Is there another way to optimize performance when inserting many
rows? 

Thank you,

Bob



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Spatialite-Insert-Performance-tp5078349.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From nhv at cape.com  Tue Sep 17 13:43:33 2013
From: nhv at cape.com (Norman Vine)
Date: Tue, 17 Sep 2013 16:43:33 -0400
Subject: [gdal-dev] Spatialite Insert Performance
In-Reply-To: <1379449329259-5078349.post@n6.nabble.com>
References: <1379449329259-5078349.post@n6.nabble.com>
Message-ID: <9108A145-205F-496D-8E0C-330C605C94FD@cape.com>

You can see how ogr2ogr uses this by looking at code starting
http://trac.osgeo.org/gdal/browser/trunk/gdal/apps/ogr2ogr.cpp#L3304

the -gt argument sets the nGroupTransactions value


On Sep 17, 2013, at 4:22 PM, Bob Cave <bobc at bluemarblegeo.com> wrote:

> Hello,
> 
> I have written a program that uses GDAL 1.9.1 to insert data into a
> SQLite/Spatialite database, and I am running into performance problems with
> large amounts of data.  The SQLite/Spatialite section of the OGR
> documentation says, "The -gt argument allows to explicitly set the number of
> rows for each transaction. Explicitly defining -gt 1024 usually ensures a
> noticeable performance boost; defining an even bigger -gt 65536 ensures
> optimal performance while populating some table containing many hundredth
> thousand or million rows." Apparently, the value associated with the -gt
> parameter instructs OGR to commit the data after that number of rows have
> been inserted.
> 
> How can I set the value associated with the -gt argument from within my
> program?  Is there another way to optimize performance when inserting many
> rows? 
> 
> Thank you,
> 
> Bob
> 
> 
> 
> --
> View this message in context: http://osgeo-org.1560.x6.nabble.com/Spatialite-Insert-Performance-tp5078349.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130917/3367eb28/attachment.html>

From jukka.rahkonen at mmmtike.fi  Tue Sep 17 13:56:29 2013
From: jukka.rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Tue, 17 Sep 2013 20:56:29 +0000
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <1379430157.52386f0d28e39@imp.free.fr>
References: <loom.20130917T130051-998@post.gmane.org>,
	<1379430157.52386f0d28e39@imp.free.fr>
Message-ID: <84446DEF76453C439E9E97E438E13A63022E839E@suutari.haapa.mmm.fi>

Hi,

Yes, it is the same issue. After removing the plugin "gdal_ECW_JP2ECW" the output can be directed into file. Setting GDAL_SKIP=ECW did not help.

-Jukka-
________________________________________
Even Rouault wrote:

> Hi Jukka,

> This reminds me a lot the following ticket :
> http://trac.osgeo.org/gdal/ticket/5128

> Could you confirm that the analysis done (i.e. the cause of the problem would be
> the ECW plugin) also applies to you ? I'm not sure if you must completely
> uninstall (or rename) the gdal_ECW.dll, or if specifying GDAL_SKIP=ECW as
> environmenet variable is sufficient

> Even

>> Hi,
>>
>> I noticed that gdalinfo and gdallocationinfo tools do not print into file
>> with command
>> gdalinfo test.tif >report.txt
>>
>> The file report.txt is created but it remains empty. With ogrinfo printing
>> into file goes well. I also had a try with some old FWTools and with that I
>> could redirect also gdalinfo report into file.
>>
>> I was testing on Windows 7 and last nights 64-bit GDAL from trunk
>>
>http://gisinternals.com/sdk/Download.aspx?file=release-1600-x64-gdal-mapserver.zip
>>
>> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From Luke.Pinner at environment.gov.au  Tue Sep 17 16:34:41 2013
From: Luke.Pinner at environment.gov.au (lpinner)
Date: Tue, 17 Sep 2013 16:34:41 -0700 (PDT)
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <1379430157.52386f0d28e39@imp.free.fr>
References: <loom.20130917T130051-998@post.gmane.org>
	<1379430157.52386f0d28e39@imp.free.fr>
Message-ID: <1379460881026-5078377.post@n6.nabble.com>

Disabling the ECW plugin also enables setting a non-zero exit code
(http://trac.osgeo.org/gdal/ticket/4830)

Luke




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Gdalinfo-does-not-print-into-file-on-Windows-tp5078239p5078377.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Tue Sep 17 16:35:57 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 18 Sep 2013 01:35:57 +0200
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <l1a787$to5$1@ger.gmane.org>
References: <loom.20130917T130051-998@post.gmane.org>
	<1379430157.52386f0d28e39@imp.free.fr> <l1a787$to5$1@ger.gmane.org>
Message-ID: <1379460957.5238e75d9c789@imp.free.fr>

Selon Andre Joost <andre+joost at nurfuerspam.de>:

> Am 17.09.2013 17:02, schrieb Even Rouault:
> > Hi Jukka,
> >
> > This reminds me a lot the following ticket :
> > http://trac.osgeo.org/gdal/ticket/5128
> >
> > Could you confirm that the analysis done (i.e. the cause of the problem
> would be
> > the ECW plugin) also applies to you ? I'm not sure if you must completely
> > uninstall (or rename) the gdal_ECW.dll, or if specifying GDAL_SKIP=ECW as
> > environmenet variable is sufficient
>
> Confirmed here. Removing or renaming the gdal_ECW_JP2ECW.dll in \bin
> solves the problem. The file investigated was a .tif, so the ecw driver
> was not used at all. Tested on gisinternals sdk version 1-10-0 from
> 07.09.2013.

Hum, this is an interesting (=annoying) issue. Here's the result of my tests
(only on 32 bit builds) :
- release-1600-gdal-1-10-mapserver-6-2 : bad
- release-1600-gdal-1-9-1-mapserver-6-0-3 : bad
- release-1400-gdal-mapserver (latest dev version): bad
- release-1500-gdal-mapserver (latest dev version): bad
- release-1400-gdal-1-8-1-mapserver-6-0-1 : bad
- release-1310-gdal-mapserver (latest dev version): ... good ...
- release-1310-gdal-1-8-1-mapserver-6-0-1 : good

So my conclusion is that it does not depend on the GDAL version, but it does
depend on the MSVC compiler. And apparently only MSVC 1310 pleases the ECW SDK.
The issue must be a bad interaction between the old ECW SDK 3.3 code and MSVC >=
1400.

I've reported it as https://github.com/gisinternals/buildsystem/issues/36 to
Tamas as this is more a packaging issue, but I'm not sure what can be done in
practice. Unless someone is willing to debug that. Perhaps the issue has gone
with newer versions of the ECW SDK.

>
> HTH,
> Andr? Joost
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From Luke.Pinner at environment.gov.au  Tue Sep 17 16:47:22 2013
From: Luke.Pinner at environment.gov.au (lpinner)
Date: Tue, 17 Sep 2013 16:47:22 -0700 (PDT)
Subject: [gdal-dev] Gdalinfo does not print into file on Windows
In-Reply-To: <1379460957.5238e75d9c789@imp.free.fr>
References: <loom.20130917T130051-998@post.gmane.org>
	<1379430157.52386f0d28e39@imp.free.fr> <l1a787$to5$1@ger.gmane.org>
	<1379460957.5238e75d9c789@imp.free.fr>
Message-ID: <1379461642128-5078379.post@n6.nabble.com>

Yes, redirection and exit code setting works when the gdal_ECW_JP2ECW.dll is
built against ECW/JP2 v.5.0 SDK (didn't test v.4x).

Luke



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Gdalinfo-does-not-print-into-file-on-Windows-tp5078239p5078379.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From mickael.savinaud at c-s.fr  Wed Sep 18 05:24:44 2013
From: mickael.savinaud at c-s.fr (Mickael Savinaud)
Date: Wed, 18 Sep 2013 14:24:44 +0200
Subject: [gdal-dev] patch submission for HDF5-CSK L1A products reading
Message-ID: <52399B8C.40303@c-s.fr>

Hi,

I have updated an old issue on trac (#4227
<http://trac.osgeo.org/gdal/ticket/4227>) with a new patch to read
correctly HDF5 complex data from CSK-L1A product. Don't hesitate to
comment and improve the patch.
I hope it could be push into the trunk.
Best regards.
Savinaud Micka?l
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130918/ce813390/attachment.html>

From giuseppe.amatulli at gmail.com  Fri Sep 20 09:52:16 2013
From: giuseppe.amatulli at gmail.com (Giuseppe Amatulli)
Date: Fri, 20 Sep 2013 12:52:16 -0400
Subject: [gdal-dev] SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING USING
 FREE AND OPEN SOURCE SW
Message-ID: <CAKoiDH+24duNGjFDiDZiyUGbbEnH011Emk28ciu3PmXFEpFz0g@mail.gmail.com>

HI,
we are pleased to announce   2 weeks intensive training in:

*SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING USING FREE AND OPEN
SOURCE SOFTWARE*
16-20 December 2013 & 20-24 January 2014
University of Twente - Enschede - The Netherlands

4 ECTS

Over the few decades there has been an explosion of available data for
environmental spatio-temporal research. This ?big data? allows us to
address a number of old and new important questions with unprecedented
rigor and generality. Leveraging these new data streams requires new tools
and increasingly complex workflows. This 2-week course introduces a set of
free and open source software (GRASS, R, Python, AWK, BASH, GDAL) tools to
perform spatio-temporal analysis and modelling of environmental data under
Linux environment. It consists of a set of lectures and practical sessions
where participants use this software packages to perform typical Geographic
Information System (GIS) and Remote Sensing (RS) data analysis tasks. In
this course, attention is paid to the use of command line rather than the
graphical user interface. Yet no programming experience is required to
register for this course as basic principles are introduced.

More info:
 Objectives and program of the course
<http://www.spatial-ecology.net/ost4sem_dokuwiki/doku.php?id=wiki:enschede2013>
 Registration
 <http://www.sense.nl/?module=courses&func=displayplanned&planningid=1332>

  **Please forward to  interested persons.

Best Regards
*
Staff*

Dr. Raul Zurita-Milla (University of Twente, NL)
Dr. Giuseppe Amatulli (Yale University, USA)
Dr. Stefano Casalegno (University of Exeter, UK)
Dr. Pieter Kempeneers (VITO, BE)


-- 
Giuseppe Amatulli
Web: www.spatial-ecology.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130920/da469c8d/attachment.html>

From andreas.kiefer at gmail.com  Fri Sep 20 10:55:09 2013
From: andreas.kiefer at gmail.com (Andreas)
Date: Fri, 20 Sep 2013 14:55:09 -0300
Subject: [gdal-dev] Get dataset area after geotrasform between coordinate
	systems
Message-ID: <CAM83jgKSSRto-9Xfvp2JS_ijDE43b-Q2ZFkEwku==rO7QvWVaQ@mail.gmail.com>

Hi,

I'm using gdalwarp to convert a raster dataset from EPSG:4326 to EPSG:2202

$>gdalwarp -s_srs "EPSG:4326" -t_srs "EPSG:2202" inputfile.tif
outputfile.tif

after that, the output file is correted converted to the new coordinate
system, but the output raster image has some blank area at the boorders. I
need obtain the lower left corner coordinates from the output raster file
including the blank area.
My question: is enought use the information obtained from gdalinfo (lower
left corner coordinates)?
It does includes the blank area?

Is there a way to cut-off these blank area from output file or just inform
gdalwarp to crop the image just to valid data?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130920/d5f4d32f/attachment.html>

From t.finegan at motorolasolutions.com  Fri Sep 20 12:13:34 2013
From: t.finegan at motorolasolutions.com (Finegan Thomas-QTF001)
Date: Fri, 20 Sep 2013 19:13:34 +0000
Subject: [gdal-dev] Get dataset area after geotrasform between
 coordinate	systems
In-Reply-To: <CAM83jgKSSRto-9Xfvp2JS_ijDE43b-Q2ZFkEwku==rO7QvWVaQ@mail.gmail.com>
References: <CAM83jgKSSRto-9Xfvp2JS_ijDE43b-Q2ZFkEwku==rO7QvWVaQ@mail.gmail.com>
Message-ID: <6620d7a50711464da27dabacd89d3a3c@BN1PR04MB171.namprd04.prod.outlook.com>

Hello,
You can specify geographic extents of the output using gdalwarp's -te (target extents) parameter.
Tom

From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Andreas
Sent: Friday, September 20, 2013 11:55 AM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] Get dataset area after geotrasform between coordinate systems

Hi,

I'm using gdalwarp to convert a raster dataset from EPSG:4326 to EPSG:2202

$>gdalwarp -s_srs "EPSG:4326" -t_srs "EPSG:2202" inputfile.tif outputfile.tif

after that, the output file is correted converted to the new coordinate system, but the output raster image has some blank area at the boorders. I need obtain the lower left corner coordinates from the output raster file including the blank area.
My question: is enought use the information obtained from gdalinfo (lower left corner coordinates)?
It does includes the blank area?

Is there a way to cut-off these blank area from output file or just inform gdalwarp to crop the image just to valid data?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130920/b4725194/attachment.html>

From ari.jolma at gmail.com  Sat Sep 21 00:52:31 2013
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sat, 21 Sep 2013 10:52:31 +0300
Subject: [gdal-dev] SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING
 USING FREE AND OPEN SOURCE SW
In-Reply-To: <CAKoiDH+24duNGjFDiDZiyUGbbEnH011Emk28ciu3PmXFEpFz0g@mail.gmail.com>
References: <CAKoiDH+24duNGjFDiDZiyUGbbEnH011Emk28ciu3PmXFEpFz0g@mail.gmail.com>
Message-ID: <523D503F.2050607@gmail.com>

Hi Giuseppe,

I wonder why are you teaching AWK, which is a really old programming 
language and largely been replaced by Perl(*). As you know, with Perl 
you could then use GDAL and many other tools, even Gnuplot.

Kind regards,

Ari Jolma

(*) http://en.wikipedia.org/wiki/AWK

On 09/20/2013 07:52 PM, Giuseppe Amatulli wrote:
> HI,
> we are pleased to announce   2 weeks intensive training in:
>
> *SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING USING FREE AND OPEN 
> SOURCE SOFTWARE*
> 16-20 December 2013 & 20-24 January 2014
> University of Twente - Enschede - The Netherlands
>
> 4 ECTS
>
> Over the few decades there has been an explosion of available data for 
> environmental spatio-temporal research. This "big data" allows us to 
> address a number of old and new important questions with unprecedented 
> rigor and generality. Leveraging these new data streams requires new 
> tools and increasingly complex workflows. This 2-week course 
> introduces a set of free and open source software (GRASS, R, Python, 
> AWK, BASH, GDAL) tools to perform spatio-temporal analysis and 
> modelling of environmental data under Linux environment. It consists 
> of a set of lectures and practical sessions where participants use 
> this software packages to perform typical Geographic Information 
> System (GIS) and Remote Sensing (RS) data analysis tasks. In this 
> course, attention is paid to the use of command line rather than the 
> graphical user interface. Yet no programming experience is required to 
> register for this course as basic principles are introduced.
>
> More info:
> Objectives and program of the course 
> <http://www.spatial-ecology.net/ost4sem_dokuwiki/doku.php?id=wiki:enschede2013>
> Registration
> <http://www.sense.nl/?module=courses&func=displayplanned&planningid=1332>
>
> Please forward to  interested persons.
>
> Best Regards
> *
> Staff*
>
> Dr. Raul Zurita-Milla (University of Twente, NL)
> Dr. Giuseppe Amatulli (Yale University, USA)
> Dr. Stefano Casalegno (University of Exeter, UK)
> Dr. Pieter Kempeneers (VITO, BE)
>
>
> -- 
> Giuseppe Amatulli
> Web: www.spatial-ecology.net <http://www.spatial-ecology.net>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130921/e338d787/attachment.html>

From jukka.rahkonen at mmmtike.fi  Sun Sep 22 09:39:56 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun, 22 Sep 2013 16:39:56 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?Get_dataset_area_after_geotrasform_between_c?=
	=?utf-8?q?oordinate=09systems?=
References: <CAM83jgKSSRto-9Xfvp2JS_ijDE43b-Q2ZFkEwku==rO7QvWVaQ@mail.gmail.com>
Message-ID: <loom.20130922T183211-801@post.gmane.org>

Andreas <andreas.kiefer <at> gmail.com> writes:

> 
> Hi,
> I'm using gdalwarp to convert a raster dataset from EPSG:4326 to EPSG:2202
> 
> $>gdalwarp -s_srs "EPSG:4326" -t_srs "EPSG:2202" inputfile.tif outputfile.tif
> 
> after that, the output file is correted converted to the new coordinate
system, but the output raster image has some blank area at the boorders. I
need obtain the lower left corner coordinates from the output raster file
including the blank area.
> My question: is enought use the information obtained from gdalinfo (lower
left corner coordinates)?
> It does includes the blank area?
> 
> Is there a way to cut-off these blank area from output file or just inform
gdalwarp to crop the image just to valid data? ?

Hi,

If you want to keep all the valid data you cannot avoid getting additional
pixels values into the corners if warping also rotates the image. That's
because digital images are rectangular and have a constant number of pixels
in each row from top to bottom. See a coarse example
http://latuviitta.org/documents/original_and_warped_image_on_base_canvas.png

However, you can mark the new artificial pixels which are needed for filling
the canvas of the warped image with a nodata value, or you can add an alpha
channel for recording the limits of the real image data. Read about
-dstnodata and -dstalpha at http://www.gdal.org/gdalwarp.html

-Jukka Rahkonen-




From ingo.bleile at axnovia.com  Sun Sep 22 11:20:42 2013
From: ingo.bleile at axnovia.com (ibaxn)
Date: Sun, 22 Sep 2013 11:20:42 -0700 (PDT)
Subject: [gdal-dev] How to import attributes from shape file to SQL Server?
Message-ID: <1379874042824-5079121.post@n6.nabble.com>

Hi,

I found examples of how to import spacial data into a SQL Server column, but
I wonder how to also import attribute data. Can anyone show me an example?

Many thanks and kind regards, ibaxn



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/How-to-import-attributes-from-shape-file-to-SQL-Server-tp5079121.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Sun Sep 22 13:14:38 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun, 22 Sep 2013 20:14:38 +0000 (UTC)
Subject: [gdal-dev] How to import attributes from shape file to SQL
	Server?
References: <1379874042824-5079121.post@n6.nabble.com>
Message-ID: <loom.20130922T220552-324@post.gmane.org>

ibaxn <ingo.bleile <at> axnovia.com> writes:

> 
> Hi,
> 
> I found examples of how to import spacial data into a SQL Server column, but
> I wonder how to also import attribute data. Can anyone show me an example?
> 
> Many thanks and kind regards, ibaxn

Hi,

If you mean how it is done with ogr2ogr then it is simple because by default
all attributes are imported with a command like
ogr2ogr -overwrite -f MSSQLSpatial
"MSSQL:server=.\MSSQLSERVER2008;database=spatial;trusted_connection=yes"
"TG20.shp"

If you want to know how to do that with your code you will need to tell what
you plan to do and make a more specific question and wait till someone else
answers you, I have no idea about those things.

-Jukka Rahkonen-





From jukka.rahkonen at mmmtike.fi  Sun Sep 22 21:17:16 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon, 23 Sep 2013 04:17:16 +0000 (UTC)
Subject: [gdal-dev] Tester with ERDAS needed
Message-ID: <loom.20130923T055802-701@post.gmane.org>

Hi,

It would be fine if someone with access to ERDAS Imagine could test if a
certain JPEG2000 georeferencing issue got corrected by
http://trac.osgeo.org/gdal/ticket/5249.
The description of the ticket is

"Under some circumstances, ERDAS Imagine can produce JPEG2000 with 2
embedded GeoTIFF JP2Box boxes. One of them (the first one) contains valid
georeferencing whereas the other one (the second one) contains a LOCAL_CS
with a geotransform = { 0, 1, 0, 0, 0, 1 }.
Currently, GDAL will take into account the last GeoTIFF JP2Box (the wrong one)."

For the same reason ArcMap is also taking the wrong georeferencing.

How to test:

- Take some GeoTIFF and open it with ERDAS.
- Export image from ERDAS into JPEG2000 so that only the georeferencing with
GeoTIFF is selected. By default both georeferencing with GeoTIFF and with
GML are selected and then this problem does not occur.
- Run gdalinfo for the saved image. Before
http://trac.osgeo.org/gdal/changeset/26485 the origo is informed to be at
coordinates (0,0). After r26485 it should be found from the correct place.

I have heard that ERDAS may write even more than two GeoTIFF JP2Boxes. To
test this open with ERDAS the JPEG2000 with two JP2Boxes that was just
created and export it again into JPEG2000 by using again only GeoTIFF
georeferencing. It may be that the resulting image has now three JP2Boxes
and the login in r26485 will not handle that mess.

-Jukka Rahkonen-




From Jacek.Tomaka at intergraph.com  Sun Sep 22 22:21:20 2013
From: Jacek.Tomaka at intergraph.com (Tomaka, Jacek)
Date: Mon, 23 Sep 2013 05:21:20 +0000
Subject: [gdal-dev] jpeg, tiff, IPP 8.0 and suspended I/O.
Message-ID: <3ED562F633B1AE46BF141E903F9813072419059B@ap-mbx3.ingrnet.com>

Hi, 
Recently I tried to compile GDAL 1.10 with libjpeg + IPP 8.0. 
I compiled IPP powered jpeglib 6b (taken from old IPP 7.0 samples, as IPP 8.0 examples contain version 8b).
I run into several issues, after some investigation it turned out that different issues appear depending on the configuration of libjpeg library. 
1. When libjpeg.IPP  is compiled with IPP_SUSPENS defined then JPEG decoding does not work. i.e. gdal_translate from jpeg to tiff produces strange image. 
       JPEG encoded TIFFs were all right in this configuration. 
2. When libjpeg.IPP is compiled with IPP_SUSPENS not defined then JPEG encoded TIFFs decoding produces warning "Warning 1: JPEGLib:Premature end of JPEG file". 
       JPEG decoding is fine in this configuration. Strangely enough, the decoded images (JPEG encoded TIFFS) seem to be correct in this case, despite the warning. 

 Note, I confirmed that IPPJ_HUFF is defined during jpeg, and gtiff formats compilation. If I don't define it I got the same warning but in greater abundance. 

Is there something obvious for You that I am missing? I read http://trac.osgeo.org/gdal/wiki/JpegIPP but it turns a blind eye on libjpeg configuration. 
I also tried to compile GDAL with jpeglib 8b but with no luck. Is this version supported? 
Is GDAL taking advantage of suspended I/O? 

Another issue is that when IPP is doing IDCT when decoding jpegs, autotests fail as it gives different checksums. 
Should I open a ticket for it? 

Has anyone had success making jpegs and tiffs compiled against jpeglib + IPP work? 

Regards.
Jacek Tomaka
Software Engineer
Security Government & Infrastructure
T: +618 9217 3427 
E: jacek.tomaka at intergraph.com

Intergraph Corporation Pty Ltd
2 Abbotsford Street, 
West Leederville, Australia 6007
intergraph.com | LinkedIn | FaceBook | Twitter

Intergraph is part of HEXAGON



From warmerdam at pobox.com  Sun Sep 22 23:11:28 2013
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun, 22 Sep 2013 23:11:28 -0700
Subject: [gdal-dev] jpeg, tiff, IPP 8.0 and suspended I/O.
In-Reply-To: <3ED562F633B1AE46BF141E903F9813072419059B@ap-mbx3.ingrnet.com>
References: <3ED562F633B1AE46BF141E903F9813072419059B@ap-mbx3.ingrnet.com>
Message-ID: <CA+YzLBe1r663zO4RToYYvvdQphz9_Fq1CfO3aA0RFXO4mopb_A@mail.gmail.com>

On Sun, Sep 22, 2013 at 10:21 PM, Tomaka, Jacek <Jacek.Tomaka at intergraph.com
> wrote:

> Hi,
> Recently I tried to compile GDAL 1.10 with libjpeg + IPP 8.0.
> I compiled IPP powered jpeglib 6b (taken from old IPP 7.0 samples, as IPP
> 8.0 examples contain version 8b).
> I run into several issues, after some investigation it turned out that
> different issues appear depending on the configuration of libjpeg library.
> 1. When libjpeg.IPP  is compiled with IPP_SUSPENS defined then JPEG
> decoding does not work. i.e. gdal_translate from jpeg to tiff produces
> strange image.
>        JPEG encoded TIFFs were all right in this configuration.
> 2. When libjpeg.IPP is compiled with IPP_SUSPENS not defined then JPEG
> encoded TIFFs decoding produces warning "Warning 1: JPEGLib:Premature end
> of JPEG file".
>        JPEG decoding is fine in this configuration. Strangely enough, the
> decoded images (JPEG encoded TIFFS) seem to be correct in this case,
> despite the warning.
>
>  Note, I confirmed that IPPJ_HUFF is defined during jpeg, and gtiff
> formats compilation. If I don't define it I got the same warning but in
> greater abundance.
>
> Is there something obvious for You that I am missing? I read
> http://trac.osgeo.org/gdal/wiki/JpegIPP but it turns a blind eye on
> libjpeg configuration.
>

Jacek,

I don't recall any details about IPP_SUSPENS or IPPJ_HUFF.  I'm not sure
what is causing your problem and I haven't tried building with IPP for
several years now.

I also tried to compile GDAL with jpeglib 8b but with no luck. Is this
> version supported?
>

My understanding is that modern GDAL's should work with libjpeg 8.   If
this isn't working, filing a ticket could be helpful.


> Is GDAL taking advantage of suspended I/O?
>

Not that I'm aware of.


> Another issue is that when IPP is doing IDCT when decoding jpegs,
> autotests fail as it gives different checksums.
> Should I open a ticket for it?
>

No need to file a ticket about this.  I would expect the jpeg checksum
based tests to fail.


>
> Has anyone had success making jpegs and tiffs compiled against jpeglib +
> IPP work?
>

As I mention, it has been several years since I last did this, though it
did work then with the notes in the JpegIPP trac topic.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130922/5b108c9c/attachment.html>

From Gerald.Lodron at joanneum.at  Mon Sep 23 00:40:49 2013
From: Gerald.Lodron at joanneum.at (Lodron, Gerald)
Date: Mon, 23 Sep 2013 09:40:49 +0200
Subject: [gdal-dev] HDF5 problem
Message-ID: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23D4E8A46@RZJC1EX.jr1.local>




Hi

I have a .hdf file (Conventions=ODIM_H5/V2_1) which i want to open with gdalinfo.exe whereby i use gdal 1.10.1 with openjpeg 2.0.0 and the HDF plugin of HDF5 1.8.11 (compiled with zlib 1.2.8 and szip 2.1) on 64 bit compillation.

The gdalinfo output prints a lot of subdatasets (1 to 88) but when I want to open any subdataset I get many erros:


C:\gdal>gdalinfo.exe -sd 1 RAU-PPIVol-20121223-112505.hdf


ERROR 4: `HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data1/data' does not exist in the file system,
and is not recognised as a supported dataset name.

ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetDatasetDriver'.

ERROR 10: Pointer 'hDriver' is NULL in 'GDALGetDriverLongName'.

ERROR 10: Pointer 'hDriver' is NULL in 'GDALGetDriverShortName'.

Driver: (null)/(null)
ERROR 10: Pointer 'hDS' is NULL in 'GDALGetFileList'.

Files: none associated
ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterYSize'.

ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterXSize'.

Size is 0, 0
ERROR 10: Pointer 'hDS' is NULL in 'GDALGetProjectionRef'.

ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGCPCount'.

ERROR 10: Pointer 'hObject' is NULL in 'GDALGetMetadata'.

ERROR 10: Pointer 'hObject' is NULL in 'GDALGetMetadata'.

ERROR 10: Pointer 'hObject' is NULL in 'GDALGetMetadata'.

ERROR 10: Pointer 'hObject' is NULL in 'GDALGetMetadata'.

ERROR 10: Pointer 'hObject' is NULL in 'GDALGetMetadata'.

ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

Corner Coordinates:
Upper Left  ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

(    0.0,    0.0)
ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterYSize'.

Lower Left  ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

(    0.0,    0.0)
ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterXSize'.

Upper Right ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

(    0.0,    0.0)
ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterYSize'.

ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterXSize'.

Lower Right ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

(    0.0,    0.0)
ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterYSize'.

ERROR 10: Pointer 'hDataset' is NULL in 'GDALGetRasterXSize'.

Center      ERROR 10: Pointer 'hDS' is NULL in 'GDALGetGeoTransform'.

(    0.0,    0.0)
ERROR 10: Pointer 'hDS' is NULL in 'GDALGetRasterCount'.

ERROR 10: Pointer 'hDS' is NULL in 'GDALClose'.











Here is a part of the print of gdalinfo without the -sd option :
C:\gdal>gdalinfo.exe RAU-PPIVol-20121223-112505.hdf
Driver: HDF5/Hierarchical Data Format Release 5
Files: RAU-PPIVol-20121223-112505.hdf
Size is 512, 512
Coordinate System is `'
Metadata:
  Conventions=ODIM_H5/V2_1
  dataset1_data10_data_CLASS=IMAGE
  dataset1_data10_data_IMAGE_VERSION=1.2
  dataset1_data10_how_startazA=0.0494384765625 1.0491943359375 2.03
  dataset1_data10_how_stopazA=1.0162353515625 2.032470703125 3.0596
  dataset1_data10_what_gain=0.154070317745209
  dataset1_data10_what_nodata=-1
  dataset1_data10_what_offset=-19.7210006713867
...
<Blablabla>
...
 Subdatasets:
  SUBDATASET_1_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data1/data
  SUBDATASET_1_DESC=[360x400] //dataset1/data1/data (8-bit unsigned character)
  SUBDATASET_2_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data10/data
  SUBDATASET_2_DESC=[360x400] //dataset1/data10/data (8-bit unsigned character)
  SUBDATASET_3_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data11/data
  SUBDATASET_3_DESC=[360x400] //dataset1/data11/data (8-bit unsigned character)
  SUBDATASET_4_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data2/data
  SUBDATASET_4_DESC=[360x400] //dataset1/data2/data (8-bit unsigned character)
  SUBDATASET_5_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data3/data
  SUBDATASET_5_DESC=[360x400] //dataset1/data3/data (8-bit unsigned character)
  SUBDATASET_6_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data4/data
  SUBDATASET_6_DESC=[360x400] //dataset1/data4/data (8-bit unsigned character)
  SUBDATASET_7_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data5/data
  SUBDATASET_7_DESC=[360x400] //dataset1/data5/data (8-bit unsigned character)
  SUBDATASET_8_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data6/data
  SUBDATASET_8_DESC=[360x400] //dataset1/data6/data (32-bit floating-point)
  SUBDATASET_9_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data7/data
  SUBDATASET_9_DESC=[360x400] //dataset1/data7/data (8-bit unsigned character)
  SUBDATASET_10_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data8/data
  SUBDATASET_10_DESC=[360x400] //dataset1/data8/data (8-bit unsigned character)
  SUBDATASET_11_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset1/data9/data
  SUBDATASET_11_DESC=[360x400] //dataset1/data9/data (32-bit floating-point)
  SUBDATASET_12_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data1/data
  SUBDATASET_12_DESC=[348x400] //dataset2/data1/data (8-bit unsigned character)
  SUBDATASET_13_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data10/data
  SUBDATASET_13_DESC=[348x400] //dataset2/data10/data (8-bit unsigned character)
  SUBDATASET_14_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data11/data
  SUBDATASET_14_DESC=[348x400] //dataset2/data11/data (8-bit unsigned character)
  SUBDATASET_15_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data2/data
  SUBDATASET_15_DESC=[348x400] //dataset2/data2/data (8-bit unsigned character)
  SUBDATASET_16_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data3/data
  SUBDATASET_16_DESC=[348x400] //dataset2/data3/data (8-bit unsigned character)
  SUBDATASET_17_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data4/data
  SUBDATASET_17_DESC=[348x400] //dataset2/data4/data (8-bit unsigned character)
  SUBDATASET_18_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data5/data
  SUBDATASET_18_DESC=[348x400] //dataset2/data5/data (8-bit unsigned character)
  SUBDATASET_19_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data6/data
  SUBDATASET_19_DESC=[348x400] //dataset2/data6/data (32-bit floating-point)
  SUBDATASET_20_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data7/data
  SUBDATASET_20_DESC=[348x400] //dataset2/data7/data (8-bit unsigned character)
  SUBDATASET_21_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data8/data
  SUBDATASET_21_DESC=[348x400] //dataset2/data8/data (8-bit unsigned character)
  SUBDATASET_22_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset2/data9/data
  SUBDATASET_22_DESC=[348x400] //dataset2/data9/data (32-bit floating-point)
  SUBDATASET_23_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset3/data1/data
  SUBDATASET_23_DESC=[360x500] //dataset3/data1/data (8-bit unsigned character)
  SUBDATASET_24_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset3/data10/data
  SUBDATASET_24_DESC=[360x500] //dataset3/data10/data (8-bit unsigned character)
  SUBDATASET_25_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset3/data11/data
  SUBDATASET_25_DESC=[360x500] //dataset3/data11/data (8-bit unsigned character)
  SUBDATASET_26_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset3/data2/data
  SUBDATASET_26_DESC=[360x500] //dataset3/data2/data (8-bit unsigned character)
  SUBDATASET_27_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset3/data3/data
  SUBDATASET_27_DESC=[360x500] //dataset3/data3/data (8-bit unsigned character)
  SUBDATASET_28_NAME=HDF5:"RAU-PPIVol-20121223-112505.hdf"://dataset3/data4/data
...
<Blablabla>


If someone has a suggestion how to read in the images it would be nice to tell me or give me a hint where to find help.....

Best regards
_________________________________________________________________

JOANNEUM RESEARCH Forschungsgesellschaft mbH

DIGITAL - Institute for Information and Communication Technologies
Steyrergasse 17, 8010 Graz, Austria

phone: +43 316 876-1751
fax: +43 316 8769-1751
e-mail: gerald.lodron at joanneum.at<mailto:gerald.lodron at joanneum.at>
web: www.joanneum.at/digital<http://www.joanneum.at/digital>
_________________________________________________________________

This message and any attached files are confidential and intended solely for the addressee(s). Any publication, transmission or other use of the information by a person or entity other than the intended addressee(s) is prohibited. If you receive this in error please contact the sender and delete the material. The sender does not accept liability for any errors or omissions as a result of the transmission.

Please consider the environment before printing this page.




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130923/b563a7e0/attachment-0001.html>

From lucena_ivan at hotmail.com  Mon Sep 23 11:06:45 2013
From: lucena_ivan at hotmail.com (Ivan Lucena)
Date: Mon, 23 Sep 2013 14:06:45 -0400
Subject: [gdal-dev] SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING
 USING FREE AND OPEN SOURCE SW
In-Reply-To: <523D503F.2050607@gmail.com>
References: <CAKoiDH+24duNGjFDiDZiyUGbbEnH011Emk28ciu3PmXFEpFz0g@mail.gmail.com>,
	<523D503F.2050607@gmail.com>
Message-ID: <BLU173-W12EE245FB5CA75A4B2DA96902D0@phx.gbl>

Ari,

It makes perfectly sense if you look how AWK is used on the tutorials:

http://www.spatial-ecology.net/ost4sem_dokuwiki/doku.php?id=wiki:awkbasic
http://www.spatial-ecology.net/ost4sem_dokuwiki/doku.php?id=wiki:awkadvance

That is what AWK is good for. It is a great tool but it is certainly not comparable with Perl, Python, Lua, TCL, etc.

Best regards,

Ivan


Date: Sat, 21 Sep 2013 10:52:31 +0300
From: ari.jolma at gmail.com
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING USING FREE AND OPEN SOURCE SW


  
    
  
  
    Hi Giuseppe,

      

      I wonder why are you teaching AWK, which is a really old
      programming language and largely been replaced by Perl(*). As you
      know, with Perl you could then use GDAL and many other tools, even
      Gnuplot. 

      

      Kind regards,

      

      Ari Jolma

      

      (*) http://en.wikipedia.org/wiki/AWK

      

      On 09/20/2013 07:52 PM, Giuseppe Amatulli wrote:

    
    
      HI,

        we are pleased to announce   2 weeks intensive training in: 

        

        SPATIO-TEMPORAL ANALYSIS AND BIG DATA PROCESSING USING FREE
          AND OPEN SOURCE SOFTWARE

        16-20 December 2013 & 20-24 January 2014 

        University of Twente - Enschede - The Netherlands

        

        4 ECTS

        

        Over the few decades there has been an explosion of available
        data for environmental spatio-temporal research. This ?big data?
        allows us to address a number of old and new important questions
        with unprecedented rigor and generality. Leveraging these new
        data streams requires new tools and increasingly complex
        workflows.
        This 2-week course introduces a set of free and open source
        software (GRASS, R, Python, AWK, BASH, GDAL) tools to perform
        spatio-temporal analysis and modelling of environmental data
        under Linux environment. It consists of a set of lectures and
        practical sessions where participants use this software packages
        to perform typical Geographic Information System (GIS) and
        Remote Sensing (RS) data analysis tasks. In this course,
        attention is paid to the use of command line rather than the
        graphical user interface. Yet no programming experience is
        required to register for this course as basic principles are
        introduced.

        
          More info:

           Objectives and
            program of the course 

           Registration 

          

        
        

        
        

        Please forward to  interested persons.
        

        
        Best Regards 

        

          Staff

        

        Dr. Raul Zurita-Milla (University of Twente, NL)

        Dr. Giuseppe Amatulli (Yale University, USA)

        Dr. Stefano Casalegno (University of Exeter, UK)

        Dr. Pieter Kempeneers (VITO, BE)
        
        

        -- 

        Giuseppe Amatulli

        Web: www.spatial-ecology.net
      
      

      
      

      _______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
    
    

  


_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130923/6798efea/attachment.html>

From even.rouault at mines-paris.org  Mon Sep 23 12:20:42 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 23 Sep 2013 21:20:42 +0200
Subject: [gdal-dev] HDF5 problem
In-Reply-To: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23D4E8A46@RZJC1EX.jr1.local>
References: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23D4E8A46@RZJC1EX.jr1.local>
Message-ID: <201309232120.42531.even.rouault@mines-paris.org>

Gerald,

> 
> I have a .hdf file (Conventions=ODIM_H5/V2_1) which i want to open with
> gdalinfo.exe whereby i use gdal 1.10.1 with openjpeg 2.0.0 and the HDF
> plugin of HDF5 1.8.11 (compiled with zlib 1.2.8 and szip 2.1) on 64 bit
> compillation.
> 
> The gdalinfo output prints a lot of subdatasets (1 to 88) but when I want
> to open any subdataset I get many erros:
> 
[...]
> 
> If someone has a suggestion how to read in the images it would be nice to
> tell me or give me a hint where to find help.....

Can you also try with the builds available at http://www.gisinternals.com/sdk/ 
? If you still reproduce, a link to this dataset (or any reproducing the same 
behaviour) could be helpful.

Best regards,

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From Luke.Pinner at environment.gov.au  Mon Sep 23 17:18:12 2013
From: Luke.Pinner at environment.gov.au (lpinner)
Date: Mon, 23 Sep 2013 17:18:12 -0700 (PDT)
Subject: [gdal-dev] Tester with ERDAS needed
In-Reply-To: <loom.20130923T055802-701@post.gmane.org>
References: <loom.20130923T055802-701@post.gmane.org>
Message-ID: <1379981892402-5079416.post@n6.nabble.com>

I've tried to replicate with ERDAS Imagine 2013, but the resulting JP2s are
georeferenced correctly in ArcMap and GDAL 1.10 (before r26485). This was
with "Embed GeoTIFF" checked and "Embed GML" unchecked in the ERDAS Imagine
export options dialog.

Perhaps the 2nd GeoTIFF JP2Box is a bug in earlier versions of Imagine and
has since been fixed?

Luke 



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Tester-with-ERDAS-needed-tp5079161p5079416.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From Gerald.Lodron at joanneum.at  Mon Sep 23 23:51:56 2013
From: Gerald.Lodron at joanneum.at (Lodron, Gerald)
Date: Tue, 24 Sep 2013 08:51:56 +0200
Subject: [gdal-dev] HDF5 problem [Caution: Message contains Suspicious
 URL content]
In-Reply-To: <201309232120.42531.even.rouault@mines-paris.org>
References: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23D4E8A46@RZJC1EX.jr1.local>
	<201309232120.42531.even.rouault@mines-paris.org>
Message-ID: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23E4D9783@RZJC1EX.jr1.local>

Sorry for the second post but:

I have successfully compiled gdal_HDF5.dll but I am missing gdal_HDF5Image.dll. I searched the entire source tree of gdal but can't find a plugin named HDF5Image? Where can I enable this?

Thanks for help,



-----Urspr?ngliche Nachricht-----
Von: Even Rouault [mailto:even.rouault at mines-paris.org] 
Gesendet: Montag, 23. September 2013 21:21
An: gdal-dev at lists.osgeo.org
Cc: Lodron, Gerald
Betreff: Re: [gdal-dev] HDF5 problem [Caution: Message contains Suspicious URL content]

Gerald,

> 
> I have a .hdf file (Conventions=ODIM_H5/V2_1) which i want to open 
> with gdalinfo.exe whereby i use gdal 1.10.1 with openjpeg 2.0.0 and 
> the HDF plugin of HDF5 1.8.11 (compiled with zlib 1.2.8 and szip 2.1) 
> on 64 bit compillation.
> 
> The gdalinfo output prints a lot of subdatasets (1 to 88) but when I 
> want to open any subdataset I get many erros:
> 
[...]
> 
> If someone has a suggestion how to read in the images it would be nice 
> to tell me or give me a hint where to find help.....

Can you also try with the builds available at http://www.gisinternals.com/sdk/ ? If you still reproduce, a link to this dataset (or any reproducing the same
behaviour) could be helpful.

Best regards,

Even

--
Geospatial professional services
http://even.rouault.free.fr/services.html

From jukka.rahkonen at mmmtike.fi  Mon Sep 23 23:58:37 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 24 Sep 2013 06:58:37 +0000 (UTC)
Subject: [gdal-dev] Tester with ERDAS needed
References: <loom.20130923T055802-701@post.gmane.org>
	<1379981892402-5079416.post@n6.nabble.com>
Message-ID: <loom.20130924T084020-819@post.gmane.org>

lpinner <Luke.Pinner <at> environment.gov.au> writes:

> 
> I've tried to replicate with ERDAS Imagine 2013, but the resulting JP2s are
> georeferenced correctly in ArcMap and GDAL 1.10 (before r26485). This was
> with "Embed GeoTIFF" checked and "Embed GML" unchecked in the ERDAS Imagine
> export options dialog.
> 
> Perhaps the 2nd GeoTIFF JP2Box is a bug in earlier versions of Imagine and
> has since been fixed?
> 
> Luke 

Hi,

Thanks for testing. My test images are also from a fresh Imagine version and
behavior was the same on two separate installations. Perhaps you can do one
more test? If you open the JPEG2000 file with kdu_show viewer (downloadable
from
http://www.kakadusoftware.com/index.php?option=com_content&task=view&id=26&Itemid=22)
you can study the metadata structure with the metashow tool. This screen
capture shows the faulty situation
http://latuviitta.org/documents/Erdas_geojp2_without_gml.png

Is there one or more uuid boxes in your image? 
For me the metashow tool shows full content from only one uuid (GeoTIFF)
box, the other is too big. Fortunately the error, if it happens, is in the
small one and you can see it in the screen capture: OriginX and OriginY are
both 0.000000.

-Jukka Rahkonen-


From Gerald.Lodron at joanneum.at  Tue Sep 24 04:15:41 2013
From: Gerald.Lodron at joanneum.at (Lodron, Gerald)
Date: Tue, 24 Sep 2013 13:15:41 +0200
Subject: [gdal-dev] HDF5 problem [Caution: Message contains Suspicious
 URL content]
In-Reply-To: <201309232120.42531.even.rouault@mines-paris.org>
References: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23D4E8A46@RZJC1EX.jr1.local>
	<201309232120.42531.even.rouault@mines-paris.org>
Message-ID: <E70FE8EA6EBE9241BDB4CA6D8D12E1D801C23E4D97BA@RZJC1EX.jr1.local>

Thanks for that hint,

Ya the binaries from web seems to work. In my compilation there is no gdal_HDF5Image.dll. Is it compiled with the plugin HDF5 or where I can enable it? I searched the whole source tree in gdal but did not find any text passage with gdal_HDF5Image.dll

PS: Sorry for my double post, my prior mail was written after this mail, I wrote this email in the morning and forgot to click the send button....

Best regards
Gerald



-----Urspr?ngliche Nachricht-----
Von: Even Rouault [mailto:even.rouault at mines-paris.org] 
Gesendet: Montag, 23. September 2013 21:21
An: gdal-dev at lists.osgeo.org
Cc: Lodron, Gerald
Betreff: Re: [gdal-dev] HDF5 problem [Caution: Message contains Suspicious URL content]

Gerald,

> 
> I have a .hdf file (Conventions=ODIM_H5/V2_1) which i want to open 
> with gdalinfo.exe whereby i use gdal 1.10.1 with openjpeg 2.0.0 and 
> the HDF plugin of HDF5 1.8.11 (compiled with zlib 1.2.8 and szip 2.1) 
> on 64 bit compillation.
> 
> The gdalinfo output prints a lot of subdatasets (1 to 88) but when I 
> want to open any subdataset I get many erros:
> 
[...]
> 
> If someone has a suggestion how to read in the images it would be nice 
> to tell me or give me a hint where to find help.....

Can you also try with the builds available at http://www.gisinternals.com/sdk/ ? If you still reproduce, a link to this dataset (or any reproducing the same
behaviour) could be helpful.

Best regards,

Even

--
Geospatial professional services
http://even.rouault.free.fr/services.html

From luc.vanlinden at gmail.com  Tue Sep 24 04:17:07 2013
From: luc.vanlinden at gmail.com (lucvanlinden)
Date: Tue, 24 Sep 2013 04:17:07 -0700 (PDT)
Subject: [gdal-dev] does ogr_geocode and ogr_reverse_geocode use the GDAL
 Proxy parameters?
Message-ID: <1380021427787-5079555.post@n6.nabble.com>

Hi

We succesfully used the ogr_geocode & ogr_reverse_geocode before. (Thanks
for your work on this Even).

Now I need to use this but from behind a firewall.

I found the general parameters GDAL_HTTP_PROXY parameters here
http://trac.osgeo.org/gdal/wiki/ConfigOptions#GDALOGRHTTPoptions

My question is: will these be picked up by the ogr_geocode &
ogr_reverse_geocode functions in a -sql select statement for ogrinfo and
ogr2ogr?

(PS: the user is in a domain, what would be the user:password notation
then)?

Thanks

Luc



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/does-ogr-geocode-and-ogr-reverse-geocode-use-the-GDAL-Proxy-parameters-tp5079555.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jgomezdans at gmail.com  Tue Sep 24 04:42:57 2013
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Tue, 24 Sep 2013 12:42:57 +0100
Subject: [gdal-dev] Aggregate to a grid in a different projection with masks
Message-ID: <CAMWde5q+Y1S0UT++pBRzntXX+bazySXymFv9-c6dm3tZG1oaUA@mail.gmail.com>

Hi,
I'd like to perform a spatial aggregation of a large data set at some high
resolution in some projection, to a grid in a lower resolution in another
projection.

One thing I have used in the past is to have a raster at the higher
resolution, and use that to select pixels in the original dataset, and
store them and then calculate statistics and write out a new file.

Since the original dataset is tiled, I was wondering whether there's a nice
way of doing something similar to this using VRTs and maybe gdaladdo.

Thanks!
Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130924/90a1cc1b/attachment.html>

From jukka.rahkonen at mmmtike.fi  Tue Sep 24 05:35:45 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 24 Sep 2013 12:35:45 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?does_ogr=5Fgeocode_and_ogr=5Freverse=5Fgeoco?=
	=?utf-8?q?de_use_the_GDAL_Proxy_parameters=3F?=
References: <1380021427787-5079555.post@n6.nabble.com>
Message-ID: <loom.20130924T142837-196@post.gmane.org>

lucvanlinden <luc.vanlinden <at> gmail.com> writes:

> 
> Hi
> 
> We succesfully used the ogr_geocode & ogr_reverse_geocode before. (Thanks
> for your work on this Even).
> 
> Now I need to use this but from behind a firewall.
> 
> I found the general parameters GDAL_HTTP_PROXY parameters here
> http://trac.osgeo.org/gdal/wiki/ConfigOptions#GDALOGRHTTPoptions
> 
> My question is: will these be picked up by the ogr_geocode &
> ogr_reverse_geocode functions in a -sql select statement for ogrinfo and
> ogr2ogr?
> 
> (PS: the user is in a domain, what would be the user:password notation
> then)?

At least this seems to work on Windows with binaries from gisinternals:
- open command window
- do "SET HTTP_PROXY=http://proxy.fi:8888"
- GDAL_dev>ogrinfo -dialect sqlite foo.csv -sql "SELECT
ST_Centroid(ogr_geocode('Paris'))"

-Jukka Rahkonen-






From Luke.Pinner at environment.gov.au  Tue Sep 24 17:33:02 2013
From: Luke.Pinner at environment.gov.au (lpinner)
Date: Tue, 24 Sep 2013 17:33:02 -0700 (PDT)
Subject: [gdal-dev] Tester with ERDAS needed
In-Reply-To: <loom.20130924T084020-819@post.gmane.org>
References: <loom.20130923T055802-701@post.gmane.org>
	<1379981892402-5079416.post@n6.nabble.com>
	<loom.20130924T084020-819@post.gmane.org>
Message-ID: <1380069182804-5079734.post@n6.nabble.com>

I've tried both geographic and projected tiffs. The original tiffs were a mix
of very small test data (8bit, single band, 100 cols x 100 rows) and fairly
large Worldview-2 16bit pan and multispectral scenes.

All of the output jp2s have only a single uuid box. 

Sorry, I'm usually very good at breaking software, but not this time : )


Luke



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Tester-with-ERDAS-needed-tp5079161p5079734.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From adiba.nizami at gmail.com  Tue Sep 24 21:25:37 2013
From: adiba.nizami at gmail.com (garfy)
Date: Tue, 24 Sep 2013 21:25:37 -0700 (PDT)
Subject: [gdal-dev] set projection: issue in detecting  utm
Message-ID: <1380083137027-5079746.post@n6.nabble.com>

Hi All,

I have two images cor.tif and prob.tif

cor.tif <http://osgeo-org.1560.x6.nabble.com/file/n5079746/cor.tif>  
prob.tif <http://osgeo-org.1560.x6.nabble.com/file/n5079746/prob.tif>  

gdalinfo for both images as below :
*cor.tif*
Coordinate System is:
PROJCS["WGS 84 / UTM zone 43N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS84",6378137,298.2572235630016,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",75],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32643"]] 


*prob.tif*
Coordinate System is:
PROJCS["WGS 84 / UTM zone 45N",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235630016,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",87],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AUTHORITY["EPSG","32645"]]


I read the projection information (using gdalgetprojeciton) for the file and
set it to an output file (using gdalsetprojection)....(my gdal version is
1.4.5.....)
The problem is that  with cor.tif as input...the projection is set properly
i.e it set as utm 43n... to output file
but with prob.tif as input, the projection is set as tmerc with all
parameters mentioned separately...and not as utm zone 45..to the output fi;e

My question is ... 
1. How does gdal know whether it is utm or not ?  
as this string "PROJCS["WGS 84 / UTM zone 43N"]" is merely a string and can
be anything ..right ?
2. If it checks each proj. parameter and if that matches the set of
projection parameters for a utm zone...is it then that gdal calls it utm ?
If yes ... then is my problem due to scale factor being 1 and not 0.9996
(standard for utm) in prob.tif ?

Thanks



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/set-projection-issue-in-detecting-utm-tp5079746.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Tue Sep 24 21:35:21 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 25 Sep 2013 04:35:21 +0000 (UTC)
Subject: [gdal-dev] Tester with ERDAS needed
References: <loom.20130923T055802-701@post.gmane.org>
	<1379981892402-5079416.post@n6.nabble.com>
	<loom.20130924T084020-819@post.gmane.org>
	<1380069182804-5079734.post@n6.nabble.com>
Message-ID: <loom.20130925T062259-102@post.gmane.org>

lpinner <Luke.Pinner <at> environment.gov.au> writes:

> 
> I've tried both geographic and projected tiffs. The original tiffs were a mix
> of very small test data (8bit, single band, 100 cols x 100 rows) and fairly
> large Worldview-2 16bit pan and multispectral scenes.
> 
> All of the output jp2s have only a single uuid box. 
> 
> Sorry, I'm usually very good at breaking software, but not this time : )

Great. Perhaps we lag one update behind you on this side of the Earth.

If you want more entertainment you can do one more test. Export same image
two times, first with only GeoTIFF georeferencing and then with only GML
georefererencing and check the results with gdalinfo. There used to be half
a pixel difference in the extents because the GML that ERDAS wrote into a
XML box inside JPEG2000 had origo at the pixel corner but GDAL awaits it to
be at the pixel center. You can also see the contents of the XML box
directly with the metadata tool of kdu_show.

-Jukka Rahkonen-


From Luke.Pinner at environment.gov.au  Tue Sep 24 21:49:25 2013
From: Luke.Pinner at environment.gov.au (lpinner)
Date: Tue, 24 Sep 2013 21:49:25 -0700 (PDT)
Subject: [gdal-dev] Tester with ERDAS needed
In-Reply-To: <loom.20130925T062259-102@post.gmane.org>
References: <loom.20130923T055802-701@post.gmane.org>
	<1379981892402-5079416.post@n6.nabble.com>
	<loom.20130924T084020-819@post.gmane.org>
	<1380069182804-5079734.post@n6.nabble.com>
	<loom.20130925T062259-102@post.gmane.org>
Message-ID: <1380084565266-5079750.post@n6.nabble.com>

Yes, I see half a pixel difference between GeoTIFF and GML georeferencing.

Luke



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-Tester-with-ERDAS-needed-tp5079161p5079750.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From alexander.bruy at gmail.com  Wed Sep 25 01:58:46 2013
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Wed, 25 Sep 2013 11:58:46 +0300
Subject: [gdal-dev] Crop raster without changing output pixel size
Message-ID: <CALuHMPA10ZzZddYvS9zLq90=-+cG1KvhZUVnMUD2LahSyTXMxQ@mail.gmail.com>

Hi all,

I have a georeferenced raster and want to crop it using shapefile as
mask layer. I use next command:

gdalwarp -q -cutline myshape.shp -crop_to_cutline -of GTiff input.tif output.tif

All fine except one thing: the output raster has another pixel size than input.
For example, input raster has pixel size 0.00833333,-0.00833333, and output
has 0.00833129,-0.00833387. I suspect this is related to rounding and 0.5
pixel offset (top left corner vs. pixel center).

When mask is rectangle, I can use gdal_traslate to clip, but often I need to
crop raster by non-rectangular mask.

Is it possible to do this without raster grid resampling? Keeping pixel size
is very important for further analysis.

Thanks
-- 
Alexander Bruy

From no-reply at neogeo-online.net  Wed Sep 25 01:48:00 2013
From: no-reply at neogeo-online.net (Guillaume Sueur)
Date: Wed, 25 Sep 2013 10:48:00 +0200
Subject: [gdal-dev] Write dataset to web output
Message-ID: <5242A340.5080804@neogeo-online.net>

Hi list,

I've build a python gdal script which retrieves WMS images from a remote 
layer. I'd like to send the image back to the browser, but I can't 
figure out how to do that...
Once I've got a correct gdal dataset, how to read it into the server 
response ?

Thanks

Guillaume

From lauramail at iol.it  Wed Sep 25 03:31:05 2013
From: lauramail at iol.it (laura0)
Date: Wed, 25 Sep 2013 03:31:05 -0700 (PDT)
Subject: [gdal-dev] gdal_grid: how to choose ellipse radius
Message-ID: <1380105064924-5079830.post@n6.nabble.com>

Hi all,
I am investigating Nearest neighbor algorithm of gdal_grid. 
The search ellipse is described by the three parameters:
radius1, radius2, angle .
My target is to get a regular grid as similar as possible at the original
cloud of point, with the same values (no interpolation, so I choose the
Nearest neighbor algorithm) . Which are the more appropriate parameters for
this purpose? 

Many thanks,
Laura



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-grid-how-to-choose-ellipse-radius-tp5079830.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Wed Sep 25 03:52:32 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 25 Sep 2013 10:52:32 +0000 (UTC)
Subject: [gdal-dev] Crop raster without changing output pixel size
References: <CALuHMPA10ZzZddYvS9zLq90=-+cG1KvhZUVnMUD2LahSyTXMxQ@mail.gmail.com>
Message-ID: <loom.20130925T124958-283@post.gmane.org>

Alexander Bruy <alexander.bruy <at> gmail.com> writes:


> Is it possible to do this without raster grid resampling? Keeping pixel size
> is very important for further analysis.

Hi,

Have a try by -tr together with -tap
http://www.gdal.org/gdalwarp.html

I guess it will give about what you want.

-Jukka Rahkonen-




From alexander.bruy at gmail.com  Wed Sep 25 04:03:24 2013
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Wed, 25 Sep 2013 14:03:24 +0300
Subject: [gdal-dev] Crop raster without changing output pixel size
In-Reply-To: <loom.20130925T124958-283@post.gmane.org>
References: <CALuHMPA10ZzZddYvS9zLq90=-+cG1KvhZUVnMUD2LahSyTXMxQ@mail.gmail.com>
	<loom.20130925T124958-283@post.gmane.org>
Message-ID: <CALuHMPCW21RhwzUZma15SWAR3FoPpqAzgQPX12U5QRgEEYfbKw@mail.gmail.com>

2013/9/25 Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:
> Have a try by -tr together with -tap
> http://www.gdal.org/gdalwarp.html
>
> I guess it will give about what you want.

Thanks for hints, I'll try this. But seems to use -tr option I should
first calculate resolution of the output raster. This can work for
time from time usage, but not for automated processing.

Anyway, thanks for your help.

-- 
Alexander Bruy

From jukka.rahkonen at mmmtike.fi  Wed Sep 25 04:36:05 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 25 Sep 2013 11:36:05 +0000 (UTC)
Subject: [gdal-dev] Crop raster without changing output pixel size
References: <CALuHMPA10ZzZddYvS9zLq90=-+cG1KvhZUVnMUD2LahSyTXMxQ@mail.gmail.com>
	<loom.20130925T124958-283@post.gmane.org>
	<CALuHMPCW21RhwzUZma15SWAR3FoPpqAzgQPX12U5QRgEEYfbKw@mail.gmail.com>
Message-ID: <loom.20130925T132216-448@post.gmane.org>

Alexander Bruy <alexander.bruy <at> gmail.com> writes:

> 
> 2013/9/25 Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi>:
> > Have a try by -tr together with -tap
> > http://www.gdal.org/gdalwarp.html
> >
> > I guess it will give about what you want.
> 
> Thanks for hints, I'll try this. But seems to use -tr option I should
> first calculate resolution of the output raster. This can work for
> time from time usage, but not for automated processing.

I would say it another way, check the resolution of the input raster and use
that as -tr. If is to used in something automatic, I am sure that a couple
of rows of Python would do it for you and it should then work forever for
you. I am not a programmer and cannot say how those lines would look like.

-Jukka-

> Anyway, thanks for your help.
> 





From bishop.dev at gmail.com  Wed Sep 25 05:15:09 2013
From: bishop.dev at gmail.com (Dmitriy Baryshnikov)
Date: Wed, 25 Sep 2013 16:15:09 +0400
Subject: [gdal-dev] Crop raster without changing output pixel size
In-Reply-To: <loom.20130925T132216-448@post.gmane.org>
References: <CALuHMPA10ZzZddYvS9zLq90=-+cG1KvhZUVnMUD2LahSyTXMxQ@mail.gmail.com>	<loom.20130925T124958-283@post.gmane.org>	<CALuHMPCW21RhwzUZma15SWAR3FoPpqAzgQPX12U5QRgEEYfbKw@mail.gmail.com>
	<loom.20130925T132216-448@post.gmane.org>
Message-ID: <5242D3CD.7080009@gmail.com>

I'm not sure, but /err_threshold /setting to zero maybe sute:/
/
-et 0.0

Best regards,
     Dmitriy

25.09.2013 15:36, Jukka Rahkonen ?????:
> Alexander Bruy <alexander.bruy <at> gmail.com> writes:
>
>> 2013/9/25 Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi>:
>>> Have a try by -tr together with -tap
>>> http://www.gdal.org/gdalwarp.html
>>>
>>> I guess it will give about what you want.
>> Thanks for hints, I'll try this. But seems to use -tr option I should
>> first calculate resolution of the output raster. This can work for
>> time from time usage, but not for automated processing.
> I would say it another way, check the resolution of the input raster and use
> that as -tr. If is to used in something automatic, I am sure that a couple
> of rows of Python would do it for you and it should then work forever for
> you. I am not a programmer and cannot say how those lines would look like.
>
> -Jukka-
>
>> Anyway, thanks for your help.
>>
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130925/facc8977/attachment-0001.html>

From t.finegan at motorolasolutions.com  Wed Sep 25 07:25:19 2013
From: t.finegan at motorolasolutions.com (Finegan Thomas-QTF001)
Date: Wed, 25 Sep 2013 14:25:19 +0000
Subject: [gdal-dev] DataSource::ExecuteSQL
Message-ID: <6b4f44164c6b4cfe9d88e83eeda81110@BN1PR04MB171.namprd04.prod.outlook.com>

Hello all,
Does OSGeo.OGR.DataSource support sorting in the query? I would like to get a Layer back from this method that returns the features sorted by a specific field.

Thanks,
Tom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130925/f32f3ef2/attachment.html>

From jukka.rahkonen at mmmtike.fi  Wed Sep 25 07:38:35 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 25 Sep 2013 14:38:35 +0000 (UTC)
Subject: [gdal-dev] DataSource::ExecuteSQL
References: <6b4f44164c6b4cfe9d88e83eeda81110@BN1PR04MB171.namprd04.prod.outlook.com>
Message-ID: <loom.20130925T163749-36@post.gmane.org>

Finegan Thomas-QTF001 <t.finegan <at> motorolasolutions.com> writes:

> 
> Hello all,
> Does 
> OSGeo.OGR.DataSource support sorting in the query? I would like to get a
Layer back from this method that returns the features sorted by a specific
field.
> ?
> Thanks,
> Tom

By reading http://www.gdal.org/ogr/ogr_sql.html, why not?

-Jukka Rahkonen-




From even.rouault at mines-paris.org  Wed Sep 25 16:00:23 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 26 Sep 2013 01:00:23 +0200
Subject: [gdal-dev] gdal_grid: how to choose ellipse radius
In-Reply-To: <1380105064924-5079830.post@n6.nabble.com>
References: <1380105064924-5079830.post@n6.nabble.com>
Message-ID: <201309260100.23441.even.rouault@mines-paris.org>

Le mercredi 25 septembre 2013 12:31:05, laura0 a ?crit :
> Hi all,
> I am investigating Nearest neighbor algorithm of gdal_grid.
> The search ellipse is described by the three parameters:
> radius1, radius2, angle .
> My target is to get a regular grid as similar as possible at the original
> cloud of point, with the same values (no interpolation, so I choose the
> Nearest neighbor algorithm) . Which are the more appropriate parameters for
> this purpose?

Laura,

You should define a resolution for the output grid that is close to the average 
spacing between adjacent points within your point cloud, and use that spacing 
value (or potentially slightly a bit more to avoid holes in the resulting 
output) as a radius1 and radius2 value. Setting radius1 and radius2 to 0 could 
also be a solution : it is equivalent to setting an infinite radius value.

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From even.rouault at mines-paris.org  Wed Sep 25 16:19:20 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 26 Sep 2013 01:19:20 +0200
Subject: [gdal-dev] Write dataset to web output
In-Reply-To: <5242A340.5080804@neogeo-online.net>
References: <5242A340.5080804@neogeo-online.net>
Message-ID: <201309260119.20574.even.rouault@mines-paris.org>

Le mercredi 25 septembre 2013 10:48:00, Guillaume Sueur a ?crit :
> Hi list,
> 
> I've build a python gdal script which retrieves WMS images from a remote
> layer. I'd like to send the image back to the browser, but I can't
> figure out how to do that...
> Once I've got a correct gdal dataset, how to read it into the server
> response ?

Guillaume,

Not sure to completely understand your use case, but why not just using 
OpenLayers to display images from a WMS source ?

If you want to stick with your script, a solution could be to create a PNG file 
from the GDAL dataset ( gdal.GetDriverByName('PNG').CreateCopy('the.png', 
src_ds) ) and then dump it to the standard output of your webserver after 
having written a "ContentType: image/png\n\n" header.

Note : you can do that without having to create a file on the regular 
filesystem, but by CreateCopy'ing() instead to /vsimem/the.png and using 
gdal.VSIFOpenL() / gdal.VSIFReadL() / gdal.VSIFCloseL() to get the content 
into a Python buffer object ( see autotest/gcore/vsifile.py in GDAL source tree 
)

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From lauramail at iol.it  Thu Sep 26 00:36:09 2013
From: lauramail at iol.it (laura0)
Date: Thu, 26 Sep 2013 00:36:09 -0700 (PDT)
Subject: [gdal-dev] gdal_grid: how to choose ellipse radius
In-Reply-To: <201309260100.23441.even.rouault@mines-paris.org>
References: <1380105064924-5079830.post@n6.nabble.com>
	<201309260100.23441.even.rouault@mines-paris.org>
Message-ID: <1380180969340-5080104.post@n6.nabble.com>

Thanks Even,
is the radius1 and radius2 unit in pixel?
Because my grid size is: cloud coverage [km] / cloud resolution [km] so the
pixel resolution of the grid is 1 pixel. Is this the right value to assign
to radius1 and radius2? Should it be always an integer value?
I think that setting radius1 and radius2 to 0 is a good solution to avoid
"no data value", but not the best to get an image as close as possibile to
the original cloud. If I use a small ellipse instead, the grid will be
filled only if there is effectively a value close that position in the
cloud. Is this right?

Regards,
Laura



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-grid-how-to-choose-ellipse-radius-tp5079830p5080104.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From nixanz at nixanz.com  Thu Sep 26 16:33:40 2013
From: nixanz at nixanz.com (Nik Sands)
Date: Fri, 27 Sep 2013 09:33:40 +1000
Subject: [gdal-dev] assert failure (tif_open)
Message-ID: <3397BEF1-D95B-4C82-850E-236183190D9D@nixanz.com>

Hi list members,

I've been using GDAL 1.10 as a statically linked library in an iOS app for some time.  I recently recompiled GDAL again from the same local set of source files, using my notes on configuration options that I used last time, and ever since I've been having a problem every time the app attempts to open an image file.

The app fails an assert() in the included tiff library (in tif_open.c), throwing the error:

	Assertion failed: (sizeof(uint64)==8), function TIFFClientOpen, file tif_open.c, line 99.

The line in question is the last line of the code snippet from tif_open.c below:

	/* The following are configuration checks. They should be redundant, but should not
	 * compile to any actual code in an optimised release build anyway. If any of them
	 * fail, (makefile-based or other) configuration is not correct */
	assert(sizeof(uint8)==1);
	assert(sizeof(int8)==1);
	assert(sizeof(uint16)==2);
	assert(sizeof(int16)==2);
	assert(sizeof(uint32)==4);
	assert(sizeof(int32)==4);
	assert(sizeof(uint64)==8);  //  <- SIBABRT HERE

The comments indicate that there may be a problem with the "configure" options I used when building GDAL, however I'm using exactly the same options (copy and pasted) as I used last time when it worked OK.

So this leads me to think that perhaps something has changed in my environment, and the only thing I can think of is that I may be using a different version of GCC (I'm using the 'gcc' included with Apple's 'Xcode' IDE, and since the last compile of GDAL, I've upgraded from a beta build of Xcode to the production build of Xcode 5).

I've tried it with GDAL 1.10.1 as well and get exactly the same problem.

I'm stumped as to how to proceed with resolving this issue.  Can anybody help me to overcome this?

Note that the problem occurs when running on the real iOS device (armv7s) and on the iOS simulator (i386).

Cheers,
Nik.


From warmerdam at pobox.com  Thu Sep 26 16:54:23 2013
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 26 Sep 2013 16:54:23 -0700
Subject: [gdal-dev] assert failure (tif_open)
In-Reply-To: <3397BEF1-D95B-4C82-850E-236183190D9D@nixanz.com>
References: <3397BEF1-D95B-4C82-850E-236183190D9D@nixanz.com>
Message-ID: <CA+YzLBcgXUrFhjjNsTZ-H-8Ee+1py3NxaLVTKwbYRULyN8CAsw@mail.gmail.com>

Nik,

I assume you are using the "built in" libtiff in GDAL.  In that case the
file gdal/frmts/gtiff/libtiff/tif_config.h will include cpl_port.h and
includes this line:

#define TIFF_UINT64_T GUIntBig

I assume TIFF_UINT64 ultimately is used to define uint64.

So I think you need to go through gdal/port/cpl_port.h and
gdal/port/cpl_config.h to try and figure out how GUIntBig is getting
defined.  In cpl_port.h it helps to search for the block of code titled
"64bit support".  I would guess you want to use "unsigned long long" in
which case you would need to have HAVE_LONG_LONG defined in cpl_config.h.

I'm not aware of any recent changes in this logic so I'm not sure why it
used to work and doesn't now.

Best regards,
Frank






On Thu, Sep 26, 2013 at 4:33 PM, Nik Sands <nixanz at nixanz.com> wrote:

> Hi list members,
>
> I've been using GDAL 1.10 as a statically linked library in an iOS app for
> some time.  I recently recompiled GDAL again from the same local set of
> source files, using my notes on configuration options that I used last
> time, and ever since I've been having a problem every time the app attempts
> to open an image file.
>
> The app fails an assert() in the included tiff library (in tif_open.c),
> throwing the error:
>
>         Assertion failed: (sizeof(uint64)==8), function TIFFClientOpen,
> file tif_open.c, line 99.
>
> The line in question is the last line of the code snippet from tif_open.c
> below:
>
>         /* The following are configuration checks. They should be
> redundant, but should not
>          * compile to any actual code in an optimised release build
> anyway. If any of them
>          * fail, (makefile-based or other) configuration is not correct */
>         assert(sizeof(uint8)==1);
>         assert(sizeof(int8)==1);
>         assert(sizeof(uint16)==2);
>         assert(sizeof(int16)==2);
>         assert(sizeof(uint32)==4);
>         assert(sizeof(int32)==4);
>         assert(sizeof(uint64)==8);  //  <- SIBABRT HERE
>
> The comments indicate that there may be a problem with the "configure"
> options I used when building GDAL, however I'm using exactly the same
> options (copy and pasted) as I used last time when it worked OK.
>
> So this leads me to think that perhaps something has changed in my
> environment, and the only thing I can think of is that I may be using a
> different version of GCC (I'm using the 'gcc' included with Apple's 'Xcode'
> IDE, and since the last compile of GDAL, I've upgraded from a beta build of
> Xcode to the production build of Xcode 5).
>
> I've tried it with GDAL 1.10.1 as well and get exactly the same problem.
>
> I'm stumped as to how to proceed with resolving this issue.  Can anybody
> help me to overcome this?
>
> Note that the problem occurs when running on the real iOS device (armv7s)
> and on the iOS simulator (i386).
>
> Cheers,
> Nik.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130926/a2219071/attachment.html>

From nixanz at nixanz.com  Thu Sep 26 17:13:32 2013
From: nixanz at nixanz.com (Nik Sands)
Date: Fri, 27 Sep 2013 10:13:32 +1000
Subject: [gdal-dev] assert failure (tif_open)
In-Reply-To: <CA+YzLBcgXUrFhjjNsTZ-H-8Ee+1py3NxaLVTKwbYRULyN8CAsw@mail.gmail.com>
References: <3397BEF1-D95B-4C82-850E-236183190D9D@nixanz.com>
	<CA+YzLBcgXUrFhjjNsTZ-H-8Ee+1py3NxaLVTKwbYRULyN8CAsw@mail.gmail.com>
Message-ID: <4B4A7CFA-CC84-4395-9A1A-4EF90FFA01BD@nixanz.com>

I think you're right Frank.  It may take me some time to figure out how to get it working correctly.

Your message did remind me of one HUGE change that Apple made between the beta versions of their Xcode IDE and the final production version:  64 bit support for the new iPhone 5S.  ( https://developer.apple.com/library/ios/documentation/General/Conceptual/CocoaTouch64BitGuide/CocoaTouch64BitGuide.pdf )

So it's gotta be related to that, I reckon.  (Should have stuck with the beta version!  :-)  )

I'll post back if I can figure out the correct settings in the config files you mentioned in order to get it to work properly.



On 27/09/2013, at 9:54 AM, Frank Warmerdam <warmerdam at pobox.com> wrote:

> Nik,
> 
> I assume you are using the "built in" libtiff in GDAL.  In that case the file gdal/frmts/gtiff/libtiff/tif_config.h will include cpl_port.h and includes this line:
> 
> #define TIFF_UINT64_T GUIntBig
> 
> I assume TIFF_UINT64 ultimately is used to define uint64.
> 
> So I think you need to go through gdal/port/cpl_port.h and gdal/port/cpl_config.h to try and figure out how GUIntBig is getting defined.  In cpl_port.h it helps to search for the block of code titled "64bit support".  I would guess you want to use "unsigned long long" in which case you would need to have HAVE_LONG_LONG defined in cpl_config.h.
> 
> I'm not aware of any recent changes in this logic so I'm not sure why it used to work and doesn't now.  
> 
> Best regards,
> Frank
> 
> 
> 
> 
> 
> 
> On Thu, Sep 26, 2013 at 4:33 PM, Nik Sands <nixanz at nixanz.com> wrote:
> Hi list members,
> 
> I've been using GDAL 1.10 as a statically linked library in an iOS app for some time.  I recently recompiled GDAL again from the same local set of source files, using my notes on configuration options that I used last time, and ever since I've been having a problem every time the app attempts to open an image file.
> 
> The app fails an assert() in the included tiff library (in tif_open.c), throwing the error:
> 
>         Assertion failed: (sizeof(uint64)==8), function TIFFClientOpen, file tif_open.c, line 99.
> 
> The line in question is the last line of the code snippet from tif_open.c below:
> 
>         /* The following are configuration checks. They should be redundant, but should not
>          * compile to any actual code in an optimised release build anyway. If any of them
>          * fail, (makefile-based or other) configuration is not correct */
>         assert(sizeof(uint8)==1);
>         assert(sizeof(int8)==1);
>         assert(sizeof(uint16)==2);
>         assert(sizeof(int16)==2);
>         assert(sizeof(uint32)==4);
>         assert(sizeof(int32)==4);
>         assert(sizeof(uint64)==8);  //  <- SIBABRT HERE
> 
> The comments indicate that there may be a problem with the "configure" options I used when building GDAL, however I'm using exactly the same options (copy and pasted) as I used last time when it worked OK.
> 
> So this leads me to think that perhaps something has changed in my environment, and the only thing I can think of is that I may be using a different version of GCC (I'm using the 'gcc' included with Apple's 'Xcode' IDE, and since the last compile of GDAL, I've upgraded from a beta build of Xcode to the production build of Xcode 5).
> 
> I've tried it with GDAL 1.10.1 as well and get exactly the same problem.
> 
> I'm stumped as to how to proceed with resolving this issue.  Can anybody help me to overcome this?
> 
> Note that the problem occurs when running on the real iOS device (armv7s) and on the iOS simulator (i386).
> 
> Cheers,
> Nik.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130927/65437137/attachment.html>

From nixanz at nixanz.com  Thu Sep 26 20:26:04 2013
From: nixanz at nixanz.com (Nik Sands)
Date: Fri, 27 Sep 2013 13:26:04 +1000
Subject: [gdal-dev] assert failure (tif_open)
In-Reply-To: <CA+YzLBcgXUrFhjjNsTZ-H-8Ee+1py3NxaLVTKwbYRULyN8CAsw@mail.gmail.com>
References: <3397BEF1-D95B-4C82-850E-236183190D9D@nixanz.com>
	<CA+YzLBcgXUrFhjjNsTZ-H-8Ee+1py3NxaLVTKwbYRULyN8CAsw@mail.gmail.com>
Message-ID: <A3380545-66DC-49B4-92F6-FC1E924F85C3@nixanz.com>

Thanks again for your help Frank.

As usual, you were spot on and adding the following line to .../port/cpl_config.h.in before building fixed the problem:

#define HAVE_LONG_LONG 1

I've now added this to my own build notes.

Since the problem didn't occur when using the beta versions of Apple's Xcode 5 and only occurred with the final version of Xcode 5, I'm assuming that Apple changed their developer tools/environment with their production release which coincided with their announcement of 64-bit iPhones (iPhone 5S) in such a way that it affected what 'configure' wrote to cpl_config.h.

Cheers,
Nik.


On 27/09/2013, at 9:54 AM, Frank Warmerdam <warmerdam at pobox.com> wrote:

> Nik,
> 
> I assume you are using the "built in" libtiff in GDAL.  In that case the file gdal/frmts/gtiff/libtiff/tif_config.h will include cpl_port.h and includes this line:
> 
> #define TIFF_UINT64_T GUIntBig
> 
> I assume TIFF_UINT64 ultimately is used to define uint64.
> 
> So I think you need to go through gdal/port/cpl_port.h and gdal/port/cpl_config.h to try and figure out how GUIntBig is getting defined.  In cpl_port.h it helps to search for the block of code titled "64bit support".  I would guess you want to use "unsigned long long" in which case you would need to have HAVE_LONG_LONG defined in cpl_config.h.
> 
> I'm not aware of any recent changes in this logic so I'm not sure why it used to work and doesn't now.  
> 
> Best regards,
> Frank
> 
> 
> 
> 
> 
> 
> On Thu, Sep 26, 2013 at 4:33 PM, Nik Sands <nixanz at nixanz.com> wrote:
> Hi list members,
> 
> I've been using GDAL 1.10 as a statically linked library in an iOS app for some time.  I recently recompiled GDAL again from the same local set of source files, using my notes on configuration options that I used last time, and ever since I've been having a problem every time the app attempts to open an image file.
> 
> The app fails an assert() in the included tiff library (in tif_open.c), throwing the error:
> 
>         Assertion failed: (sizeof(uint64)==8), function TIFFClientOpen, file tif_open.c, line 99.
> 
> The line in question is the last line of the code snippet from tif_open.c below:
> 
>         /* The following are configuration checks. They should be redundant, but should not
>          * compile to any actual code in an optimised release build anyway. If any of them
>          * fail, (makefile-based or other) configuration is not correct */
>         assert(sizeof(uint8)==1);
>         assert(sizeof(int8)==1);
>         assert(sizeof(uint16)==2);
>         assert(sizeof(int16)==2);
>         assert(sizeof(uint32)==4);
>         assert(sizeof(int32)==4);
>         assert(sizeof(uint64)==8);  //  <- SIBABRT HERE
> 
> The comments indicate that there may be a problem with the "configure" options I used when building GDAL, however I'm using exactly the same options (copy and pasted) as I used last time when it worked OK.
> 
> So this leads me to think that perhaps something has changed in my environment, and the only thing I can think of is that I may be using a different version of GCC (I'm using the 'gcc' included with Apple's 'Xcode' IDE, and since the last compile of GDAL, I've upgraded from a beta build of Xcode to the production build of Xcode 5).
> 
> I've tried it with GDAL 1.10.1 as well and get exactly the same problem.
> 
> I'm stumped as to how to proceed with resolving this issue.  Can anybody help me to overcome this?
> 
> Note that the problem occurs when running on the real iOS device (armv7s) and on the iOS simulator (i386).
> 
> Cheers,
> Nik.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130927/842f1e8b/attachment-0001.html>

From t.finegan at motorolasolutions.com  Fri Sep 27 06:45:11 2013
From: t.finegan at motorolasolutions.com (Finegan Thomas-QTF001)
Date: Fri, 27 Sep 2013 13:45:11 +0000
Subject: [gdal-dev] DataSource::ExecuteSQL
In-Reply-To: <loom.20130925T163749-36@post.gmane.org>
References: <6b4f44164c6b4cfe9d88e83eeda81110@BN1PR04MB171.namprd04.prod.outlook.com>
	<loom.20130925T163749-36@post.gmane.org>
Message-ID: <eb3b29ba5daf42e1b6fcc64fb54cb375@BN1PR04MB171.namprd04.prod.outlook.com>

Yes. Docs are excellent. Works as stated. Thank you!
-Tom
-----Original Message-----
From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Jukka Rahkonen
Sent: Wednesday, September 25, 2013 8:39 AM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] DataSource::ExecuteSQL

Finegan Thomas-QTF001 <t.finegan <at> motorolasolutions.com> writes:

> 
> Hello all,
> Does
> OSGeo.OGR.DataSource support sorting in the query? I would like to get 
> a
Layer back from this method that returns the features sorted by a specific field.
> ?
> Thanks,
> Tom

By reading http://www.gdal.org/ogr/ogr_sql.html, why not?

-Jukka Rahkonen-



_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jukka.rahkonen at mmmtike.fi  Fri Sep 27 07:20:46 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 27 Sep 2013 14:20:46 +0000 (UTC)
Subject: [gdal-dev] =?utf-8?q?Config_option_OSM=5FCONFIG=5FFILE_missing_fr?=
	=?utf-8?q?om_wiki?=
Message-ID: <loom.20130927T161616-646@post.gmane.org>

Hi, 

Wiki page http://trac.osgeo.org/gdal/wiki/ConfigOptions is listing a whole
bunch of different config options but not OSM_CONFIG_FILE.

Meaning of this option as described on the driver manual page
http://www.gdal.org/ogr/drv_osm.html is:

"In the data folder of the GDAL distribution, you can find a osmconf.ini
file that can be customized to fit your needs. You can also define an
alternate path with the OSM_CONFIG_FILE configuration option."

-Jukka Rahkonen-


From even.rouault at mines-paris.org  Sat Sep 28 01:34:26 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat, 28 Sep 2013 10:34:26 +0200
Subject: [gdal-dev] Config option OSM_CONFIG_FILE missing from wiki
In-Reply-To: <loom.20130927T161616-646@post.gmane.org>
References: <loom.20130927T161616-646@post.gmane.org>
Message-ID: <201309281034.26772.even.rouault@mines-paris.org>

Le vendredi 27 septembre 2013 16:20:46, Jukka Rahkonen a ?crit :
> Hi,
> 
> Wiki page http://trac.osgeo.org/gdal/wiki/ConfigOptions is listing a whole
> bunch of different config options but not OSM_CONFIG_FILE.
> 
> Meaning of this option as described on the driver manual page
> http://www.gdal.org/ogr/drv_osm.html is:
> 
> "In the data folder of the GDAL distribution, you can find a osmconf.ini
> file that can be customized to fit your needs. You can also define an
> alternate path with the OSM_CONFIG_FILE configuration option."

Jukka,

Feel free to edit the wiki page to document the option. It is a bit difficult to 
keep information in sync between that page and the documentation of drivers.

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From even.rouault at mines-paris.org  Sat Sep 28 01:42:55 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat, 28 Sep 2013 10:42:55 +0200
Subject: [gdal-dev] Motion: Add Jukka Rahkonen to GDAL PSC
Message-ID: <201309281042.55492.even.rouault@mines-paris.org>

Hi,

Jukka is one of our most active power users since many years. You've certainly 
noticed him many times answering to question from other users on the mailing 
list, testing bleeding edge trunk or doing precise bug reports. Jukka is also 
involved into other OSGeo (or related) communities such as MapServer, 
GeoServer or Spatialite, which gives him a quite broad vision in the 
geospatial field. Based on his involvment, I would like to include him in the 
project steering committee.

Motion: To add Jukka Rahkonen to the GDAL PSC.

+1 from me.

Best regards,

Even

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From howard at hobu.co  Sat Sep 28 05:37:15 2013
From: howard at hobu.co (Howard Butler)
Date: Sat, 28 Sep 2013 07:37:15 -0500
Subject: [gdal-dev] Motion: Add Jukka Rahkonen to GDAL PSC
In-Reply-To: <201309281042.55492.even.rouault@mines-paris.org>
References: <201309281042.55492.even.rouault@mines-paris.org>
Message-ID: <0DFD2664-041D-42CB-878F-EEE1D26EF8A2@hobu.co>


On Sep 28, 2013, at 3:42 AM, Even Rouault <even.rouault at mines-paris.org> wrote:

> Hi,
> 
> Jukka is one of our most active power users since many years. You've certainly 
> noticed him many times answering to question from other users on the mailing 
> list, testing bleeding edge trunk or doing precise bug reports. Jukka is also 
> involved into other OSGeo (or related) communities such as MapServer, 
> GeoServer or Spatialite, which gives him a quite broad vision in the 
> geospatial field. Based on his involvment, I would like to include him in the 
> project steering committee.
> 
> Motion: To add Jukka Rahkonen to the GDAL PSC.
> 
> +1 from me.

+1

Howard
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 495 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130928/3ab99720/attachment.pgp>

From szekerest at gmail.com  Sat Sep 28 06:33:21 2013
From: szekerest at gmail.com (Tamas Szekeres)
Date: Sat, 28 Sep 2013 15:33:21 +0200
Subject: [gdal-dev] Motion: Add Jukka Rahkonen to GDAL PSC
In-Reply-To: <201309281042.55492.even.rouault@mines-paris.org>
References: <201309281042.55492.even.rouault@mines-paris.org>
Message-ID: <CACALY+QPgpPfGe0Ps=WacxmvxdanpArPSr=nEOz-59=_wJx0pA@mail.gmail.com>

2013/9/28 Even Rouault <even.rouault at mines-paris.org>

>
> Motion: To add Jukka Rahkonen to the GDAL PSC.
>
>
>
+1

Great addition!

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20130928/6bdb0edc/attachment.html>

From warmerdam at pobox.com  Sat Sep 28 09:26:01 2013
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat, 28 Sep 2013 09:26:01 -0700
Subject: [gdal-dev] Motion: Add Jukka Rahkonen to GDAL PSC
In-Reply-To: <201309281042.55492.even.rouault@mines-paris.org>
References: <201309281042.55492.even.rouault@mines-paris.org>
Message-ID: <CA+YzLBd=5J3AppsaC_ZYOxnVR8Cr09mfMD72=J==WLhjT7fMyA@mail.gmail.com>

+1 - a worthy addition!

On Sat, Sep 28, 2013 at 1:42 AM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Hi,
>
> Jukka is one of our most active power users since many years. You've certainly
> noticed him many times answering to question from other users on the mailing
> list, testing bleeding edge trunk or doing precise bug reports. Jukka is also
> involved into other OSGeo (or related) communities such as MapServer,
> GeoServer or Spatialite, which gives him a quite broad vision in the
> geospatial field. Based on his involvment, I would like to include him in the
> project steering committee.
>
> Motion: To add Jukka Rahkonen to the GDAL PSC.
>
> +1 from me.
>
> Best regards,
>
> Even
>
> --
> Geospatial professional services
> http://even.rouault.free.fr/services.html
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From jluis at ualg.pt  Sun Sep 29 15:59:33 2013
From: jluis at ualg.pt (Joaquim Luis)
Date: Sun, 29 Sep 2013 23:59:33 +0100
Subject: [gdal-dev] Kernel resource leak -- Windows
Message-ID: <5248B0D5.4020702@ualg.pt>

Hi,

I can make a ticket with this but before, let me just report it here.

- Win 64 bits GDAL build

While playing with an Intel analysis tool to chase GMT memory leaks I 
got two complains respecting GDAL.

P1: Error: Kernel resource leak
  P1.55: Kernel resource leak: New
   c:\programs\gdaltrunk\gdal\port\cpl_multiproc.cpp(626): Error X63: 
Critical section creation site: Function CPLCreateMutex: Module 
C:\progs_cygw\GMTdev\gmt5\trunk\WIN64\bin\gdal_w64.dll
   Code snippet:
    624      if( pcs )
    625      {
 >626        InitializeCriticalSectionAndSpinCount(pcs, 4000);
    627        EnterCriticalSection(pcs);
    628      }

The MS Help says that this can be solved with a call 
to'FindCloseChangeNotification'

Also got another one but it ends in proj4 and I don't have a debug build 
to investigate further.

P8: Error: Kernel resource leak
  P8.36: Kernel resource leak: New
   c:\programs\gdaltrunk\gdal\ogr\ogrct.cpp(481): Error X44: 
Synchronization object handle creation site: Function OGRProj4CT: Module 
C:\progs_cygw\GMTdev\gmt5\trunk\WIN64\bin\gdal_w64.dll
   Code snippet:
    479
    480      if (pfn_pj_ctx_alloc != NULL)
 >481          pjctx = pfn_pj_ctx_alloc();
    482      else
    483          pjctx = NULL;


proj_w64.dll!pj_init_plus_ctx
proj_w64.dll!pj_init_plus_ctx
proj_w64.dll!pj_init_plus_ctx
gdal_w64.dll!OGRProj4CT - ogrct.cpp:481
gdal_w64.dll!OGRCreateCoordinateTransformation - ogrct.cpp:408
gdal_w64.dll!OCTNewCoordinateTransformation - ogrct.cpp:451
gmt_w64.dll!ReportCorner - gmt_gdalread.c:984
gmt_w64.dll!populate_metadata - gmt_gdalread.c:850
gmt_w64.dll!GMT_gdalread - gmt_gdalread.c:184

Joaquim



From aborruso at gmail.com  Mon Sep 30 03:57:37 2013
From: aborruso at gmail.com (aborruso)
Date: Mon, 30 Sep 2013 03:57:37 -0700 (PDT)
Subject: [gdal-dev] sqlite dialect and MySQL spatial input
Message-ID: <1380538657804-5080909.post@n6.nabble.com>

Hi all,
I'm using sqlite dialect with shapefile input. An example is:
ogrinfo poligoni_input.shp  -dialect sqlite -sql "SELECT ST_Area(geometry)
AS Area FROM poligoni_input"

It works and it's a great feature.

I have some problems with MySQL spatial input. I use this syntax:
ogrinfo MYSQL:"mydb,user=myuse,password=mypwd,port=3306,host=127.0.0.1"
-dialect sqlite -sql "SELECT ST_Area(geometry) AS Area FROM poligoni"

And I have this error:
MySQL error message:FUNCTION chatwin.ST_Area does not exist Description:
SELECT ST_Area(geometry) AS Area FROM poligoni

It seems that the command - for mysql input - does not read "-dialect
sqlite" parameter, and then it does not find ST_Area function.

What do you think about? Is there some error in my procedure?

Thank you very much,

Andrea



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/sqlite-dialect-and-MySQL-spatial-input-tp5080909.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From aborruso at gmail.com  Mon Sep 30 04:10:03 2013
From: aborruso at gmail.com (aborruso)
Date: Mon, 30 Sep 2013 04:10:03 -0700 (PDT)
Subject: [gdal-dev] sqlite dialect and MySQL spatial input
In-Reply-To: <1380538657804-5080909.post@n6.nabble.com>
References: <1380538657804-5080909.post@n6.nabble.com>
Message-ID: <1380539403838-5080911.post@n6.nabble.com>

Only to add that if I try to read the same MySQL input using OGR Virtual
Format, the ST_Area function works properly.

Thank you



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/sqlite-dialect-and-MySQL-spatial-input-tp5080909p5080911.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From dmorissette at mapgears.com  Mon Sep 30 05:45:25 2013
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Mon, 30 Sep 2013 08:45:25 -0400
Subject: [gdal-dev] Motion: Add Jukka Rahkonen to GDAL PSC
In-Reply-To: <201309281042.55492.even.rouault@mines-paris.org>
References: <201309281042.55492.even.rouault@mines-paris.org>
Message-ID: <52497265.2060104@mapgears.com>

+1  Welcome Jukka!

Daniel

On 13-09-28 4:42 AM, Even Rouault wrote:
> Hi,
>
> Jukka is one of our most active power users since many years. You've certainly
> noticed him many times answering to question from other users on the mailing
> list, testing bleeding edge trunk or doing precise bug reports. Jukka is also
> involved into other OSGeo (or related) communities such as MapServer,
> GeoServer or Spatialite, which gives him a quite broad vision in the
> geospatial field. Based on his involvment, I would like to include him in the
> project steering committee.
>
> Motion: To add Jukka Rahkonen to the GDAL PSC.
>
> +1 from me.
>
> Best regards,
>
> Even
>


-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000


From jukka.rahkonen at mmmtike.fi  Mon Sep 30 07:40:05 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon, 30 Sep 2013 14:40:05 +0000 (UTC)
Subject: [gdal-dev] sqlite dialect and MySQL spatial input
References: <1380538657804-5080909.post@n6.nabble.com>
	<1380539403838-5080911.post@n6.nabble.com>
Message-ID: <loom.20130930T162826-375@post.gmane.org>

aborruso <aborruso <at> gmail.com> writes:

> 
> Only to add that if I try to read the same MySQL input using OGR Virtual
> Format, the ST_Area function works properly.
> 
> Thank you

Hi,

http://www.gdal.org/ogr/ogr_sql.html says:
"All OGR drivers for database systems: MySQL, PostgreSQL and PostGIS (PG),
Oracle (OCI), SQLite, ODBC, ESRI Personal Geodatabase (PGeo) and MS SQL
Spatial (MSSQLSpatial), override the OGRDataSource::ExecuteSQL() function
with dedicated implementation and, by default, pass the SQL statements
directly to the underlying RDBMS. In these cases the SQL syntax varies in
some particulars from OGR SQL. Also, anything possible in SQL can then be
accomplished for these particular databases. Only the result of SQL WHERE
statements will be returned as layers."

On the other hand, SQLite dialect page tells us

"The SQLite dialect may be used with any OGR datasource, like the OGR SQL
dialect. It is available through the OGRDataSource::ExecuteSQL() method by
specifying the pszDialect to "SQLITE". For the ogrinfo or ogr2ogr utility,
you must specify the "-dialect SQLITE" option."

As a user I think that most logical would be if SQLite dialect override
really works in a similar way for all OGR datasources. Obviously it does not
but you have found an undocumented workaround by using VRT. I wonder where
in the documentation would be the best place to mention this over-override
trick.

-Jukka Rahkonen




From aborruso at gmail.com  Mon Sep 30 10:22:21 2013
From: aborruso at gmail.com (aborruso)
Date: Mon, 30 Sep 2013 10:22:21 -0700 (PDT)
Subject: [gdal-dev] sqlite dialect and MySQL spatial input
In-Reply-To: <loom.20130930T162826-375@post.gmane.org>
References: <1380538657804-5080909.post@n6.nabble.com>
	<1380539403838-5080911.post@n6.nabble.com>
	<loom.20130930T162826-375@post.gmane.org>
Message-ID: <1380561741316-5080997.post@n6.nabble.com>

Hi Jukka,
thank you.


Rahkonen Jukka wrote
> I wonder where in the documentation would be the best place to mention
> this over-override trick.

Probably in this moments it would be necessary to insert it in both pages
you mentioned.

Best regards,

Andrea



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/sqlite-dialect-and-MySQL-spatial-input-tp5080909p5080997.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Mon Sep 30 11:19:44 2013
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 30 Sep 2013 20:19:44 +0200
Subject: [gdal-dev] sqlite dialect and MySQL spatial input
In-Reply-To: <1380561741316-5080997.post@n6.nabble.com>
References: <1380538657804-5080909.post@n6.nabble.com>
	<loom.20130930T162826-375@post.gmane.org>
	<1380561741316-5080997.post@n6.nabble.com>
Message-ID: <201309302019.45001.even.rouault@mines-paris.org>

Le lundi 30 septembre 2013 19:22:21, aborruso a ?crit :
> Hi Jukka,
> thank you.
> 
> 
> Rahkonen Jukka wrote
> 
> > I wonder where in the documentation would be the best place to mention
> > this over-override trick.
> 
> Probably in this moments it would be necessary to insert it in both pages
> you mentioned.

I've just pushed in trunk a change to make SQLITE dialect available to all OGR 
drivers that have a specialized ExecuteSQL() implementation.

> 
> Best regards,
> 
> Andrea
> 
> 
> 
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/sqlite-dialect-and-MySQL-spatial-input
> -tp5080909p5080997.html Sent from the GDAL - Dev mailing list archive at
> Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Geospatial professional services
http://even.rouault.free.fr/services.html

From federicojurio at suremptec.com.ar  Mon Sep 30 14:12:30 2013
From: federicojurio at suremptec.com.ar (federico)
Date: Mon, 30 Sep 2013 14:12:30 -0700 (PDT)
Subject: [gdal-dev] Buffering geometries
Message-ID: <1380575550573-5081031.post@n6.nabble.com>

Dear all, i'm trying buffer some geometries with GDAL. I have success with
poligons and lines but i can't create the buffer when i try to do the same
procedure with an OGRPoint.

Here is a screenshot with the buffer http://i.imgur.com/rRQuooc.jpg

I'm using the Buffer function from OGRGeometry Class in a map with WGS 84
coordinates reference system.

Anyone know what could be wrong?

Code example

   OGRFeature *pfeature = player->GetNextFeature(); // Apunta al primer
feature
   while (pfeature) {
      OGRFeature* pnewfeature = pfeature->Clone();
     
pnewfeature->SetGeometry(pnewfeature->GetGeometryRef()->Buffer(bufferdist));
      pdestlayer->CreateFeature(pnewfeature);
      pfeature = player->GetNextFeature();
   }



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Buffering-geometries-tp5081031.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Mon Sep 30 23:58:22 2013
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 1 Oct 2013 06:58:22 +0000 (UTC)
Subject: [gdal-dev] sqlite dialect and MySQL spatial input
References: <1380538657804-5080909.post@n6.nabble.com>
	<loom.20130930T162826-375@post.gmane.org>
	<1380561741316-5080997.post@n6.nabble.com>
	<201309302019.45001.even.rouault@mines-paris.org>
Message-ID: <loom.20131001T082832-999@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:

> 
> I've just pushed in trunk a change to make SQLITE dialect available to all
OGR 
> drivers that have a specialized ExecuteSQL() implementation.

Hi,

Is this a correct interpretation:

- The default SQL dialect is "OGR SQL", except for databases when the
default is to use the native SQL dialect of the RDBMS
- The default dialect can be overridden by the -dialect parameter, which can
take values "OGR SQL" or "SQLITE" and after your change this works for all
drivers in a similar way.

If this is right I will have a look at the documentation and see if there is
something to improve. At least I would make a little addition into
http://www.gdal.org/ogr2ogr.html
Now there reads

-dialect dialect:
    SQL dialect. In some cases can be used to use (unoptimized) OGR SQL
instead of the native SQL of an RDBMS by passing OGRSQL. Starting with GDAL
1.10, the "SQLITE" dialect can also be used with any datasource. 

It would be good to give the alternatives and a hint about how to give OGR
SQL so that the space character will not cause trouble as

-dialect dialect:
    SQL dialect. Can take values "OGR SQL" or "SQLITE". 

Should we do something also for the statement "Starting with GDAL 1.10, the
"SQLITE" dialect can also be used with any datasource" which is totally true
with databases only after your commit http://trac.osgeo.org/gdal/changeset/26506

-Jukka Rahkonen- 


