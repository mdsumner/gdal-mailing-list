From jajuan_ext at acciona.com  Thu Sep  1 06:57:01 2022
From: jajuan_ext at acciona.com (=?iso-8859-1?Q?De_Juan_De_Espa=F1a=2C_Javier?=)
Date: Thu, 1 Sep 2022 13:57:01 +0000
Subject: [gdal-dev] Rotated lat lon projection
In-Reply-To: <DU0PR05MB9653874C4D8A2A7EC5EE3D62F07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
References: <DU0PR05MB9653874C4D8A2A7EC5EE3D62F07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
Message-ID: <DU0PR05MB96530204282F1FA8E3C0CFDCF07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>

Hi!

We are developping a meteorology project in the Canadian domain where we use gdal to manage grib files.
These files are "rotated lat-lon" and we would like to switch to "regular lat-lon" easily. I'm concerned that lastest versions of gdal can do this, but i would really appreciate some indications or information about how to do this.

Thank very much!

Javier de Juan


[logo-bau]



Javier de Juan de Espa?a
Project Manager
Smart Society Skill Center
Digital Hub
Avda Europa, 18
28108 Alcobendas (Madrid) - Spain
+34 687 53 86 53

WWW.ACCIONA.COM<https://www.acciona.com/es/>
[twitter]<https://twitter.com/ACCIONA>
[facebook]<https://www.facebook.com/acciona>
[link]<https://www.linkedin.com/company/acciona>
[you]<https://www.youtube.com/user/interacciona1?sub_confirmation=1>
[insta]<https://www.instagram.com/acciona/>





Este mensaje se dirige exclusivamente a su destinatario, y puede contener informaci?n confidencial sometida a secreto profesional, o cuya divulgaci?n est? legalmente prohibida. Cualquier opini?n en ?l contenida es exclusiva de su autor y no representa necesariamente la opini?n de la empresa. Si ha recibido este mensaje por error, le rogamos nos lo comunique de forma inmediata por esta misma v?a y proceda a su eliminaci?n, as? como a la de cualquier documento adjunto al mismo. El correo electr?nico v?a Internet no es seguro y no se puede garantizar que no haya errores ya que puede ser interceptado, modificado, perdido o destruido, o contener virus. Cualquier persona que se ponga en contacto con nosotros por correo electr?nico se considerar? que asume estos riesgos.

This e-mail is addressed exclusively to the recipient and may contain privileged information under a professional confidential agreement or it may be against the law to disclose its contents. Any opinion contained in it belongs exclusively to his/her author and does not necessarily reflect the company's view. If you receive this e-mail in error, please let us know immediately (by return e-mail) and proceed to its destruction, as well as any document attached to it. The sending of e-mails through the Internet is not safe and, therefore, error-free communications cannot be guaranteed, as they can be intercepted, changed, misled or destroyed or they might contain a virus. Any user contacting us through e-mails shall be understood to be assuming these risks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7011 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 972 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 1404 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 1213 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 1291 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0011.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 1514 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0012.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 1465 bytes
Desc: image007.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c3830b55/attachment-0013.png>

From Philip.J.Orlando at kp.org  Thu Sep  1 08:46:10 2022
From: Philip.J.Orlando at kp.org (Philip J. Orlando)
Date: Thu, 1 Sep 2022 15:46:10 +0000
Subject: [gdal-dev] OpenFileGDB Write Capabilities
Message-ID: <BL0P109MB0371693E7A8EC38F9D1237E1AE7B9@BL0P109MB0371.NAMP109.PROD.OUTLOOK.COM>

Hello GDAL Dev Team,

I read that the latest version of the ESRI File Geodatabase (OpenFileGDB) driver now supports write and update access to vector layers of File Geodatabases. This doc page<https://gdal.org/drivers/vector/openfilegdb.html#vector-openfilegdb> mentions that write capabilities are supported within GDAL >=3.6. However, from what I can tell, the latest version of GDAL is only 3.5.1<https://github.com/OSGeo/gdal/releases>. Can you please help clarify if version 3.6 has been released, or if write access is available within a different version?

Being able to write to ESRI FileGeoDatabase via GDAL will help me address this issue with the sf R package<https://github.com/r-spatial/sf/issues/1772>. Any insight is greatly appreciated!

Respectfully,

Philip Orlando
NOTICE TO RECIPIENT:  If you are not the intended recipient of this e-mail, you are prohibited from sharing, copying, or otherwise using or disclosing its contents.  If you have received this e-mail in error, please notify the sender immediately by reply e-mail and permanently delete this e-mail and any attachments without reading, forwarding or saving them. v.173.295  Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/bce73ad3/attachment.htm>

From even.rouault at spatialys.com  Thu Sep  1 09:01:54 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 1 Sep 2022 18:01:54 +0200
Subject: [gdal-dev] OpenFileGDB Write Capabilities
In-Reply-To: <BL0P109MB0371693E7A8EC38F9D1237E1AE7B9@BL0P109MB0371.NAMP109.PROD.OUTLOOK.COM>
References: <BL0P109MB0371693E7A8EC38F9D1237E1AE7B9@BL0P109MB0371.NAMP109.PROD.OUTLOOK.COM>
Message-ID: <c1f0f381-139b-e537-62d7-6ccac3353e1b@spatialys.com>

Phillip,

The documentation is the one of the master repository, and may thus 
refer to still unreleased versions like GDAL 3.6.0 that will be released 
around November this year

You can for example use of the Docker images (tags ending by -latest) 
referenced at https://github.com/OSGeo/gdal/tree/master/docker to try it 
out, or build the master branch from the git repository

Even

Le 01/09/2022 ? 17:46, Philip J. Orlando a ?crit?:
>
> Hello GDAL Dev Team,
>
> I read that the latest version of the ESRI File Geodatabase 
> (OpenFileGDB) driver now supports write and update access to vector 
> layers of File Geodatabases. This doc page 
> <https://gdal.org/drivers/vector/openfilegdb.html#vector-openfilegdb> 
> mentions that write capabilities are supported within GDAL >=3.6. 
> However, from what I can tell, the latest version of GDAL is only 
> 3.5.1 <https://github.com/OSGeo/gdal/releases>. Can you please help 
> clarify if version 3.6 has been released, or if write access is 
> available within a different version?
>
> Being able to write to ESRI FileGeoDatabase via GDAL will help me 
> address this issue with the sf R package 
> <https://github.com/r-spatial/sf/issues/1772>. Any insight is greatly 
> appreciated!
>
> Respectfully,
>
> Philip Orlando
>
> *NOTICE TO RECIPIENT:*If you are not the intended recipient of this 
> e-mail, you are prohibited from sharing, copying, or otherwise using 
> or disclosing its contents.If you have received this e-mail in error, 
> please notify the sender immediately by reply e-mail and permanently 
> delete this e-mail and any attachments without reading, forwarding or 
> saving them. v.173.295Thank you.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/79fc195d/attachment.htm>

From scott.smith at open-cosmos.com  Thu Sep  1 09:03:50 2022
From: scott.smith at open-cosmos.com (Scott Smith)
Date: Thu, 1 Sep 2022 17:03:50 +0100
Subject: [gdal-dev] Understand Why a netCDF4 File Is Not Supported
Message-ID: <CA+e126NGVDKYx2tSQ290ZxCdJzC9shRcp301Um6NkxSqjAHiYg@mail.gmail.com>

Hi All,

I am trying to work with some SMOS data, specifically the netCDF4 files
from https://smos-diss.eo.esa.int/oads/access/.

Running gdalinfo or gdal_translate using the Docker image
osgeo/gdal:ubuntu-full-latest on these netCDF4 files seems to fail with

ERROR 4: '<file>' not recognized as a supported file format.

Full command and output

docker run -v /local/directory/containing/file/:/mnt/data/
osgeo/gdal:ubuntu-full-latest gdalinfo --debug ON
/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc

GDAL_netCDF: driver detected file type=3, libnetcdf detected type=3
GDAL_netCDF: No UNIDATA NC_GLOBAL:Conventions attribute
GDAL_netCDF: var_count = 72
GDAL:
GDALOpen(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
this=0x55cdea7bac30) succeeds as netCDF.
GDAL:
GDALClose(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
this=0x55cdea7bac30)
GDAL:
GDALOpen(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
this=0x55cdea7bac30) succeeds as netCDF.
GDAL:
GDALClose(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
this=0x55cdea7bac30)
ERROR 4:
`/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc'
not recognized as a supported file format.
gdalinfo failed - unable to open
'/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc'.

>From this I'm not really able to understand what is wrong with the file.

The file with which I am testing is available here:
https://drive.google.com/file/d/1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk/view?usp=sharing

I am trying to figure out what is "wrong" with these files which render
them unreadable by gdal. I have not managed to find much by Googling. I'm
happy to continue investigating if anyone is happy to provide any pointers
to where I should be looking.

Any advice, pointers or help would be greatly appreciated.

Many Thanks
Scott Smith
Open Cosmos

p.s. I'm not sure if this is relevant or helpful, but I have managed to
have some partial success with an older version of gdal and some "single
variable" files I created from the original. Included for information, the
gdal version is   GDAL 3.3.2, released 2021/09/01   and a file which worked
with gdalinfo is
https://drive.google.com/file/d/1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk/view?usp=sharing
.

-- 


This email is private and confidential. If you are not the intended 
recipient, do not copy or disclose its content, but please contact the 
sender immediately.




Open Cosmos Ltd is a company registered in England 
& Wales. Registration number: 09704443. Registered office: Electron 
Building, Fermi Avenue, Harwell, OX11 0QR.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c0108d79/attachment-0001.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Sep  1 09:07:40 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Thu, 1 Sep 2022 16:07:40 +0000
Subject: [gdal-dev] Understand Why a netCDF4 File Is Not Supported
In-Reply-To: <CA+e126NGVDKYx2tSQ290ZxCdJzC9shRcp301Um6NkxSqjAHiYg@mail.gmail.com>
References: <CA+e126NGVDKYx2tSQ290ZxCdJzC9shRcp301Um6NkxSqjAHiYg@mail.gmail.com>
Message-ID: <AM0PR09MB321933C295B521D5DEBE6FBFFD7B9@AM0PR09MB3219.eurprd09.prod.outlook.com>

Hi,

Ogrinfo seems to open the file.

-Jukka Rahkonen-

L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Scott Smith via gdal-dev
L?hetetty: torstai 1. syyskuuta 2022 19.04
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: [gdal-dev] Understand Why a netCDF4 File Is Not Supported

Hi All,

I am trying to work with some SMOS data, specifically the netCDF4 files from https://smos-diss.eo.esa.int/oads/access/<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fsmos-diss.eo.esa.int%2Foads%2Faccess%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cc25e0b0ca843423558f608da8c33a3d2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637976450669051916%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=SJapG8IICE%2BWs%2BRDqSyza9pXnAPCzh0uczKPzoFtYNs%3D&reserved=0>.

Running gdalinfo or gdal_translate using the Docker image osgeo/gdal:ubuntu-full-latest on these netCDF4 files seems to fail with

ERROR 4: '<file>' not recognized as a supported file format.

Full command and output

docker run -v /local/directory/containing/file/:/mnt/data/ osgeo/gdal:ubuntu-full-latest gdalinfo --debug ON /mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc

GDAL_netCDF: driver detected file type=3, libnetcdf detected type=3
GDAL_netCDF: No UNIDATA NC_GLOBAL:Conventions attribute
GDAL_netCDF: var_count = 72
GDAL: GDALOpen(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc, this=0x55cdea7bac30) succeeds as netCDF.
GDAL: GDALClose(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc, this=0x55cdea7bac30)
GDAL: GDALOpen(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc, this=0x55cdea7bac30) succeeds as netCDF.
GDAL: GDALClose(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc, this=0x55cdea7bac30)
ERROR 4: `/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc' not recognized as a supported file format.
gdalinfo failed - unable to open '/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc'.

>From this I'm not really able to understand what is wrong with the file.

The file with which I am testing is available here: https://drive.google.com/file/d/1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk/view?usp=sharing<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk%2Fview%3Fusp%3Dsharing&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cc25e0b0ca843423558f608da8c33a3d2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637976450669208186%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=IhJTrg4lnBCIABpwpwTKiKBA3rJF0B%2FcLvIz%2BrOpqjM%3D&reserved=0>

I am trying to figure out what is "wrong" with these files which render them unreadable by gdal. I have not managed to find much by Googling. I'm happy to continue investigating if anyone is happy to provide any pointers to where I should be looking.

Any advice, pointers or help would be greatly appreciated.

Many Thanks
Scott Smith
Open Cosmos

p.s. I'm not sure if this is relevant or helpful, but I have managed to have some partial success with an older version of gdal and some "single variable" files I created from the original. Included for information, the gdal version is   GDAL 3.3.2, released 2021/09/01   and a file which worked with gdalinfo is https://drive.google.com/file/d/1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk/view?usp=sharing<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk%2Fview%3Fusp%3Dsharing&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cc25e0b0ca843423558f608da8c33a3d2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637976450669208186%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=IhJTrg4lnBCIABpwpwTKiKBA3rJF0B%2FcLvIz%2BrOpqjM%3D&reserved=0> .


This email is private and confidential. If you are not the intended recipient, do not copy or disclose its content, but please contact the sender immediately.



Open Cosmos Ltd is a company registered in England & Wales. Registration number: 09704443. Registered office: Electron Building, Fermi Avenue, Harwell, OX11 0QR.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/7b97db8b/attachment.htm>

From scott.smith at open-cosmos.com  Thu Sep  1 10:40:09 2022
From: scott.smith at open-cosmos.com (Scott Smith)
Date: Thu, 1 Sep 2022 18:40:09 +0100
Subject: [gdal-dev] Understand Why a netCDF4 File Is Not Supported
In-Reply-To: <AM0PR09MB321933C295B521D5DEBE6FBFFD7B9@AM0PR09MB3219.eurprd09.prod.outlook.com>
References: <CA+e126NGVDKYx2tSQ290ZxCdJzC9shRcp301Um6NkxSqjAHiYg@mail.gmail.com>
 <AM0PR09MB321933C295B521D5DEBE6FBFFD7B9@AM0PR09MB3219.eurprd09.prod.outlook.com>
Message-ID: <CA+e126Nb3NG0FP9YLP0gYO26Ov_m9dE9OLGL9pAnQVkWHOn3xQ@mail.gmail.com>

Hi Jukka,

Thanks for looking into this. If I understand correctly, this means I will
have to do a little extra work to convert these into a raster-y/geotiff
format other than simply using gdal_translate.

Thanks for pointing me in the right direction!
Scott Smith
Open Cosmos

On Thu, 1 Sept 2022 at 17:07, Rahkonen Jukka <
jukka.rahkonen at maanmittauslaitos.fi> wrote:

> Hi,
>
>
>
> Ogrinfo seems to open the file.
>
>
>
> -Jukka Rahkonen-
>
>
>
> *L?hett?j?:* gdal-dev <gdal-dev-bounces at lists.osgeo.org> *Puolesta *Scott
> Smith via gdal-dev
> *L?hetetty:* torstai 1. syyskuuta 2022 19.04
> *Vastaanottaja:* gdal-dev at lists.osgeo.org
> *Aihe:* [gdal-dev] Understand Why a netCDF4 File Is Not Supported
>
>
>
> Hi All,
>
> I am trying to work with some SMOS data, specifically the netCDF4 files
> from https://smos-diss.eo.esa.int/oads/access/
> <https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fsmos-diss.eo.esa.int%2Foads%2Faccess%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cc25e0b0ca843423558f608da8c33a3d2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637976450669051916%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=SJapG8IICE%2BWs%2BRDqSyza9pXnAPCzh0uczKPzoFtYNs%3D&reserved=0>
> .
>
>
>
> Running gdalinfo or gdal_translate using the Docker image
> osgeo/gdal:ubuntu-full-latest on these netCDF4 files seems to fail with
>
>
>
> ERROR 4: '<file>' not recognized as a supported file format.
>
>
>
> Full command and output
>
> docker run -v /local/directory/containing/file/:/mnt/data/
> osgeo/gdal:ubuntu-full-latest gdalinfo --debug ON
> /mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc
>
> GDAL_netCDF: driver detected file type=3, libnetcdf detected type=3
> GDAL_netCDF: No UNIDATA NC_GLOBAL:Conventions attribute
> GDAL_netCDF: var_count = 72
> GDAL:
> GDALOpen(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
> this=0x55cdea7bac30) succeeds as netCDF.
> GDAL:
> GDALClose(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
> this=0x55cdea7bac30)
> GDAL:
> GDALOpen(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
> this=0x55cdea7bac30) succeeds as netCDF.
> GDAL:
> GDALClose(/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc,
> this=0x55cdea7bac30)
> ERROR 4:
> `/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc'
> not recognized as a supported file format.
> gdalinfo failed - unable to open
> '/mnt/data/SM_OPER_MIR_SMUDP2_20220101T001713_20220101T011034_700_001_1.nc'.
>
> From this I'm not really able to understand what is wrong with the file.
>
>
> The file with which I am testing is available here:
> https://drive.google.com/file/d/1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk/view?usp=sharing
> <https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk%2Fview%3Fusp%3Dsharing&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cc25e0b0ca843423558f608da8c33a3d2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637976450669208186%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=IhJTrg4lnBCIABpwpwTKiKBA3rJF0B%2FcLvIz%2BrOpqjM%3D&reserved=0>
>
> I am trying to figure out what is "wrong" with these files which render
> them unreadable by gdal. I have not managed to find much by Googling. I'm
> happy to continue investigating if anyone is happy to provide any pointers
> to where I should be looking.
>
> Any advice, pointers or help would be greatly appreciated.
>
> Many Thanks
> Scott Smith
>
> Open Cosmos
>
> p.s. I'm not sure if this is relevant or helpful, but I have managed to
> have some partial success with an older version of gdal and some "single
> variable" files I created from the original. Included for information, the
> gdal version is   GDAL 3.3.2, released 2021/09/01   and a file which worked
> with gdalinfo is
> https://drive.google.com/file/d/1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk/view?usp=sharing
> <https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdrive.google.com%2Ffile%2Fd%2F1r4R2gy0w2nyEv1fwmMNNR8CHhwjvayIk%2Fview%3Fusp%3Dsharing&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cc25e0b0ca843423558f608da8c33a3d2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637976450669208186%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=IhJTrg4lnBCIABpwpwTKiKBA3rJF0B%2FcLvIz%2BrOpqjM%3D&reserved=0>
> .
>
>
>
> This email is private and confidential. If you are not the intended
> recipient, do not copy or disclose its content, but please contact the
> sender immediately.
>
>
>
> Open Cosmos Ltd is a company registered in England & Wales. Registration
> number: 09704443. Registered office: Electron Building, Fermi Avenue,
> Harwell, OX11 0QR.
>

-- 


This email is private and confidential. If you are not the intended 
recipient, do not copy or disclose its content, but please contact the 
sender immediately.




Open Cosmos Ltd is a company registered in England 
& Wales. Registration number: 09704443. Registered office: Electron 
Building, Fermi Avenue, Harwell, OX11 0QR.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/c61bc337/attachment-0001.htm>

From traviskirstine at gmail.com  Thu Sep  1 11:07:23 2022
From: traviskirstine at gmail.com (Travis Kirstine)
Date: Thu, 1 Sep 2022 14:07:23 -0400
Subject: [gdal-dev] source csv delimiters
Message-ID: <CALtm4h3yjRPNjKTXoFL2DWA0hJ6GHPv7rqoEpzCfN+m6NOG4tg@mail.gmail.com>

Is there a way to specify the delimiters when reading a source CSV file.
The file I received uses a carrot ^ value.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/d4ad35bd/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Sep  1 12:36:32 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Thu, 1 Sep 2022 19:36:32 +0000
Subject: [gdal-dev] source csv delimiters
Message-ID: <AM0PR09MB3219CD21F47F146F75D041BEFD7B9@AM0PR09MB3219.eurprd09.prod.outlook.com>

By the documentation:

?CSV files have one line for each feature (record) in the layer (table). The attribute field values are separated by commas. At least two fields per line must be present. Lines may be terminated by a DOS (CR/LF) or Unix (LF) style line terminators. Each record should have the same number of fields. The driver will also accept a semicolon, a tabulation or a space character as field separator . This autodetection will work only if there?s no other potential separator on the first line of the CSV file. Otherwise it will default to comma as separator.?
and also:
? This driver does not attempt to support all such files, but instead to support simple .csv files that can be auto-recognised. Scripts or other mechanisms can generally be used to convert other variations into a form that is compatible with the OGR CSV driver.?

I guess that it is easiest to convert your separator into comma or semicolon and hope that they do not appear in the text. Otherwise you may need to add some double quotes as well.

-Jukka Rahkonen-


L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Travis Kirstine
L?hetetty: torstai 1. syyskuuta 2022 21.07
Vastaanottaja: gdal dev <gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] source csv delimiters

Is there a way to specify the delimiters when reading a source CSV file.  The file I received uses a carrot ^ value.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/4a081f20/attachment.htm>

From runette at gmail.com  Thu Sep  1 13:33:22 2022
From: runette at gmail.com (Paul Harwood)
Date: Thu, 1 Sep 2022 21:33:22 +0100
Subject: [gdal-dev] source csv delimiters
In-Reply-To: <CALtm4h3yjRPNjKTXoFL2DWA0hJ6GHPv7rqoEpzCfN+m6NOG4tg@mail.gmail.com>
References: <CALtm4h3yjRPNjKTXoFL2DWA0hJ6GHPv7rqoEpzCfN+m6NOG4tg@mail.gmail.com>
Message-ID: <CAE8nN5M36YQh0VXbFB4XcAU=cLnSBBBAddb+O--78Fckj2fEsA@mail.gmail.com>

The slightly pedantic answer to that is surely that if it not comma
separated, it is not a CSV file!

As far as I know - that is the approach that GDAL takes!

It is easy enough to preprocess the file. As the GDAL docs say :

"Many variations of textual input are sometimes called Comma Separated
Value files, including files without commas, but fixed column widths, those
using tabs as separators or those with other auxiliary data defining field
types or structure. This driver does not attempt to support all such files,
but instead to support simple .csv files that can be auto-recognised.
Scripts or other mechanisms can generally be used to convert other
variations into a form that is compatible with the OGR CSV driver."

On Thu, 1 Sept 2022 at 19:08, Travis Kirstine <traviskirstine at gmail.com>
wrote:

> Is there a way to specify the delimiters when reading a source CSV file.
> The file I received uses a carrot ^ value.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220901/d4410a61/attachment.htm>

From even.rouault at spatialys.com  Fri Sep  2 06:11:08 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 2 Sep 2022 15:11:08 +0200
Subject: [gdal-dev] GDAL 3.5.2 RC1 available
Message-ID: <e3be30ca-248a-1f99-2250-84ea59c7c3ae@spatialys.com>

Hi,

I have prepared a GDAL/OGR 3.5.2 release candidate.

Pick up an archive among the following ones (by ascending size):

 ? https://download.osgeo.org/gdal/3.5.2/gdal-3.5.2rc1.tar.xz
 ? https://download.osgeo.org/gdal/3.5.2/gdal-3.5.2rc1.tar.gz
 ? https://download.osgeo.org/gdal/3.5.2/gdal352rc1.zip

A snapshot of the gdalautotest suite is also available :

https://download.osgeo.org/gdal/3.5.2/gdalautotest-3.5.2rc1.tar.gz
 ? https://download.osgeo.org/gdal/3.5.2/gdalautotest-3.5.2rc1.zip

The NEWS file is here :

 ? https://github.com/OSGeo/gdal/blob/v3.5.2RC1/NEWS.md

I'll call for a vote promoting it to final next week if no
serious problems are reported before.

Best regards,

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From Brendan.DeTracey at dfo-mpo.gc.ca  Fri Sep  2 14:42:42 2022
From: Brendan.DeTracey at dfo-mpo.gc.ca (DeTracey, Brendan)
Date: Fri, 2 Sep 2022 21:42:42 +0000
Subject: [gdal-dev] Rotated lat lon projection
In-Reply-To: <DU0PR05MB96530204282F1FA8E3C0CFDCF07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
References: <DU0PR05MB9653874C4D8A2A7EC5EE3D62F07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
 <DU0PR05MB96530204282F1FA8E3C0CFDCF07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
Message-ID: <7ed08cd5012d47e6bcef1f0b9cac6189@dfo-mpo.gc.ca>

You could try cdo. Climate Data Operators. [https://code.mpimet.mpg.de/projects/cdo/]
It is a very powerful command line tool that could so what you want with a single command.

------------------------------------------
Brendan DeTracey
brendan.detracey at dfo-mpo.gc.ca
(902)426-9727, VS 203/2-3
------------------------------------------
If you have received this communication by mistake, please notify the sender immediately and delete the communication without printing, copying or forwarding it. Thank you.
Si vous avez re?u cette communication par erreur, veuillez en aviser l'exp?diteur imm?diatement et la supprimer sans l'imprimer, la copier, ou la faire suivre. Merci.
------------------------------------------

From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> On Behalf Of De Juan De Espa?a, Javier
Sent: Thursday, September 1, 2022 10:57
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] Rotated lat lon projection

Hi!

We are developping a meteorology project in the Canadian domain where we use gdal to manage grib files.
These files are ?rotated lat-lon? and we would like to switch to ?regular lat-lon? easily. I?m concerned that lastest versions of gdal can do this, but i would really appreciate some indications or information about how to do this.

Thank very much!

Javier de Juan


[logo-bau]







Javier de Juan de Espa?a

Project Manager
Smart Society Skill Center
Digital Hub

Avda Europa, 18
28108 Alcobendas (Madrid) ? Spain
+34 687 53 86 53



WWW.ACCIONA.COM<https://www.acciona.com/es/>

[twitter]<https://twitter.com/ACCIONA>

[facebook]<https://www.facebook.com/acciona>

[link]<https://www.linkedin.com/company/acciona>

[you]<https://www.youtube.com/user/interacciona1?sub_confirmation=1>

[insta]<https://www.instagram.com/acciona/>








Este mensaje se dirige exclusivamente a su destinatario, y puede contener informaci?n confidencial sometida a secreto profesional, o cuya divulgaci?n est? legalmente prohibida. Cualquier opini?n en ?l contenida es exclusiva de su autor y no representa necesariamente la opini?n de la empresa. Si ha recibido este mensaje por error, le rogamos nos lo comunique de forma inmediata por esta misma v?a y proceda a su eliminaci?n, as? como a la de cualquier documento adjunto al mismo. El correo electr?nico v?a Internet no es seguro y no se puede garantizar que no haya errores ya que puede ser interceptado, modificado, perdido o destruido, o contener virus. Cualquier persona que se ponga en contacto con nosotros por correo electr?nico se considerar? que asume estos riesgos.

This e-mail is addressed exclusively to the recipient and may contain privileged information under a professional confidential agreement or it may be against the law to disclose its contents. Any opinion contained in it belongs exclusively to his/her author and does not necessarily reflect the company?s view. If you receive this e-mail in error, please let us know immediately (by return e-mail) and proceed to its destruction, as well as any document attached to it. The sending of e-mails through the Internet is not safe and, therefore, error-free communications cannot be guaranteed, as they can be intercepted, changed, misled or destroyed or they might contain a virus. Any user contacting us through e-mails shall be understood to be assuming these risks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7011 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 972 bytes
Desc: image002.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 1404 bytes
Desc: image003.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 1213 bytes
Desc: image004.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 1291 bytes
Desc: image005.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0011.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 1514 bytes
Desc: image006.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0012.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 1465 bytes
Desc: image007.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220902/0f43f368/attachment-0013.png>

From mdsumner at gmail.com  Fri Sep  2 23:58:51 2022
From: mdsumner at gmail.com (Michael Sumner)
Date: Sat, 3 Sep 2022 16:58:51 +1000
Subject: [gdal-dev] Rotated lat lon projection
In-Reply-To: <DU0PR05MB96530204282F1FA8E3C0CFDCF07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
References: <DU0PR05MB9653874C4D8A2A7EC5EE3D62F07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
 <DU0PR05MB96530204282F1FA8E3C0CFDCF07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
Message-ID: <CAAcGz9-oEKRewqxXoRCoyj2V7kw7UPMBZ44uT3r7MGyqVyOqGQ@mail.gmail.com>

First step is try shoving it through the warper:

gdalwarp in.nc out.tif

set lonlat extent with -te and resolution with -ts or -tr

GDAL knows about projections and internal coordinate arrays and often this
is enough, the smart things come down to what output grid you define and
what resampling algorithm is used and whether it's appropriate (beware of
vector quantities for example).

Use a VRT intermediate to first select out one band to test with
(gdal_translate in.nc in1.vrt -b 1). If you have a test file I'm happy to
explore.

Even if the auto stuff doesn't work you can engineer a lot with just
command line args and VRT even for complex grids.

Cheers, Mike

On Thu, 1 Sept 2022, 23:57 De Juan De Espa?a, Javier, <
jajuan_ext at acciona.com> wrote:

> Hi!
>
>
>
> We are developping a meteorology project in the Canadian domain where we
> use gdal to manage grib files.
>
> These *files are ?rotated lat-lon? and we would like to switch to
> ?regular lat-lon?* easily. I?m concerned that lastest versions of gdal
> can do this, but i would really appreciate some indications or information
> about how to do this.
>
>
>
> Thank very much!
>
>
>
> Javier de Juan
>
>
>
>
>
> [image: logo-bau]
>
>
>
>
>
>
>
> *Javier de Juan de Espa?a*
>
> Project Manager
>
> Smart Society Skill Center
>
> Digital Hub
>
> Avda Europa, 18
>
> 28108 Alcobendas (Madrid) ? Spain
>
> +34 687 53 86 53
>
> [image: flecha]
>
> WWW.ACCIONA.COM <https://www.acciona.com/es/>
>
> [image: twitter] <https://twitter.com/ACCIONA>
>
> [image: facebook] <https://www.facebook.com/acciona>
>
> [image: link] <https://www.linkedin.com/company/acciona>
>
> [image: you]
> <https://www.youtube.com/user/interacciona1?sub_confirmation=1>
>
> [image: insta] <https://www.instagram.com/acciona/>
>
>
>
>
>
>
>
>
>
>
>
> Este mensaje se dirige exclusivamente a su destinatario, y puede contener
> informaci?n confidencial sometida a secreto profesional, o cuya divulgaci?n
> est? legalmente prohibida. Cualquier opini?n en ?l contenida es exclusiva
> de su autor y no representa necesariamente la opini?n de la empresa. Si ha
> recibido este mensaje por error, le rogamos nos lo comunique de forma
> inmediata por esta misma v?a y proceda a su eliminaci?n, as? como a la de
> cualquier documento adjunto al mismo. El correo electr?nico v?a Internet no
> es seguro y no se puede garantizar que no haya errores ya que puede ser
> interceptado, modificado, perdido o destruido, o contener virus. Cualquier
> persona que se ponga en contacto con nosotros por correo electr?nico se
> considerar? que asume estos riesgos.
>
>
>
> This e-mail is addressed exclusively to the recipient and may contain
> privileged information under a professional confidential agreement or it
> may be against the law to disclose its contents. Any opinion contained in
> it belongs exclusively to his/her author and does not necessarily reflect
> the company?s view. If you receive this e-mail in error, please let us know
> immediately (by return e-mail) and proceed to its destruction, as well as
> any document attached to it. The sending of e-mails through the Internet is
> not safe and, therefore, error-free communications cannot be guaranteed, as
> they can be intercepted, changed, misled or destroyed or they might contain
> a virus. Any user contacting us through e-mails shall be understood to be
> assuming these risks.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 7011 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 972 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image003.png
Type: image/png
Size: 1404 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image004.png
Type: image/png
Size: 1213 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0011.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.png
Type: image/png
Size: 1291 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0012.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 1514 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0013.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image007.png
Type: image/png
Size: 1465 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0014.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image006.png
Type: image/png
Size: 1514 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220903/8d6bf2fe/attachment-0015.png>

From mdsumner at gmail.com  Mon Sep  5 01:35:08 2022
From: mdsumner at gmail.com (Michael Sumner)
Date: Mon, 5 Sep 2022 18:35:08 +1000
Subject: [gdal-dev] EXT: Re:  Rotated lat lon projection
In-Reply-To: <DU0PR05MB965330C4CA1E643E8CDEA24EF07F9@DU0PR05MB9653.eurprd05.prod.outlook.com>
References: <DU0PR05MB9653874C4D8A2A7EC5EE3D62F07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
 <DU0PR05MB96530204282F1FA8E3C0CFDCF07B9@DU0PR05MB9653.eurprd05.prod.outlook.com>
 <CAAcGz9-oEKRewqxXoRCoyj2V7kw7UPMBZ44uT3r7MGyqVyOqGQ@mail.gmail.com>
 <DU0PR05MB965330C4CA1E643E8CDEA24EF07F9@DU0PR05MB9653.eurprd05.prod.outlook.com>
Message-ID: <CAAcGz9_2oowJUvKJ6Av1j9SVJgoMJMbjXbGfh_z8xcDqJbjwqw@mail.gmail.com>

Ok, thanks for the file. Here's a gist just to show you it works, I use R
so I've got some checks I do around the core gdalwarp call which can be as
minimal as

gdalwarp  20220902T00Z_MSC_HRDPS_HGT_SFC_RLatLon0.0225_P001.grib2 out.tif
-t_srs "OGC:CRS84"

You should consider the specification of the target grid yourself, with a
combination of some of -tr, -ts, -te, and -t_srs arguments. Also the -r
resampling argument, default is nearest neighbour.

https://gist.github.com/mdsumner/d73748c44aef4a0923760401d3dc605d

Cheers, Mike


On Mon, Sep 5, 2022 at 5:21 PM De Juan De Espa?a, Javier <
jajuan_ext at acciona.com> wrote:

> Hi Mike!
>
>
>
> Thank you very much for your response.
>
>
>
> Attached you can find a grib2. Trying to test this on QGIS (Uses GDAL
> behind), it automatically opens it with  right projection so I guess GDAL
> Will do the same.
>
>
>
> In this file, first grid point should be something like:
>
>
>
> Thank you very much!!
>
>
>
>
>
> *De:* Michael Sumner <mdsumner at gmail.com>
> *Enviado el:* s?bado, 3 de septiembre de 2022 8:59
> *Para:* De Juan De Espa?a, Javier <jajuan_ext at acciona.com>
> *CC:* gdal-dev <gdal-dev at lists.osgeo.org>
> *Asunto:* EXT: Re: [gdal-dev] Rotated lat lon projection
>
>
>
> First step is try shoving it through the warper:
>
>
>
> gdalwarp in.nc
> <https://clicktime.symantec.com/15t5ZrhtFMk6q5dh8yXpr?h=f3NsNfYLCjuppp90Nv9-oEa-gZU0oRBfBuHIbBwMVFs=&u=http://in.nc>
> out.tif
>
>
>
> set lonlat extent with -te and resolution with -ts or -tr
>
>
>
> GDAL knows about projections and internal coordinate arrays and often this
> is enough, the smart things come down to what output grid you define and
> what resampling algorithm is used and whether it's appropriate (beware of
> vector quantities for example).
>
>
>
> Use a VRT intermediate to first select out one band to test with
> (gdal_translate in.nc
> <https://clicktime.symantec.com/15t5ZrhtFMk6q5dh8yXpr?h=f3NsNfYLCjuppp90Nv9-oEa-gZU0oRBfBuHIbBwMVFs=&u=http://in.nc>
> in1.vrt -b 1). If you have a test file I'm happy to explore.
>
>
>
> Even if the auto stuff doesn't work you can engineer a lot with just
> command line args and VRT even for complex grids.
>
>
>
> Cheers, Mike
>
>
>
> On Thu, 1 Sept 2022, 23:57 De Juan De Espa?a, Javier, <
> jajuan_ext at acciona.com> wrote:
>
> Hi!
>
>
>
> We are developping a meteorology project in the Canadian domain where we
> use gdal to manage grib files.
>
> These *files are ?rotated lat-lon? and we would like to switch to
> ?regular lat-lon?* easily. I?m concerned that lastest versions of gdal
> can do this, but i would really appreciate some indications or information
> about how to do this.
>
>
>
> Thank very much!
>
>
>
> Javier de Juan
>
>
>
>
>
> [image: logo-bau]
>
>
>
>
>
>
>
> *Javier de Juan de Espa?a*
>
> Project Manager
>
> Smart Society Skill Center
>
> Digital Hub
>
> Avda Europa, 18
>
> 28108 Alcobendas (Madrid) ? Spain
>
> +34 687 53 86 53
>
> [image: flecha]
>
> WWW.ACCIONA.COM
> <https://clicktime.symantec.com/15t5pMHjdCnt4v7TmejGi?h=bsqBMl9kpV7pNEC9p7lA_BzAvITG8lgP7QbVur0i_lg=&u=https://www.acciona.com/es/>
>
> [image: twitter]
> <https://clicktime.symantec.com/15t5jX6TAb7HeyHYE6L86?h=-cIW40zXsiDGS34xBnF2qp0NFHQYcOLzae3_uhhM6P0=&u=https://twitter.com/ACCIONA>
>
> [image: facebook]
> <https://clicktime.symantec.com/15t5uBV25pUUUrwPKD8RL?h=54T_VUKmdZlQ25O0tl3wf8KTqvyNg3vKMSd6fc0UwDU=&u=https://www.facebook.com/acciona>
>
> [image: link]
> <https://clicktime.symantec.com/15t64qsb13qfJkbEQKvia?h=qP3wZRbx16RE2f9KqOZAFBfB0BsCiaiJdhQ6uIgX_GY=&u=https://www.linkedin.com/company/acciona>
>
> [image: you]
> <https://clicktime.symantec.com/15t69g4sTfXFihR9wtKsC?h=smitgw2XvRmwLj9vHPFdbXjFyts7YW6yT7TAiJN1aOo=&u=https://www.youtube.com/user/interacciona1?sub_confirmation%3D1>
>
> [image: insta]
> <https://clicktime.symantec.com/15t5z1gJYSA4tomJrmXZx?h=lsjgYLW3UgtJbbPBFBcqNBMP-9OUhZJgVLPeWqFyTaE=&u=https://www.instagram.com/acciona/>
>
>
>
>
>
>
>
>
>
>
>
> Este mensaje se dirige exclusivamente a su destinatario, y puede contener
> informaci?n confidencial sometida a secreto profesional, o cuya divulgaci?n
> est? legalmente prohibida. Cualquier opini?n en ?l contenida es exclusiva
> de su autor y no representa necesariamente la opini?n de la empresa. Si ha
> recibido este mensaje por error, le rogamos nos lo comunique de forma
> inmediata por esta misma v?a y proceda a su eliminaci?n, as? como a la de
> cualquier documento adjunto al mismo. El correo electr?nico v?a Internet no
> es seguro y no se puede garantizar que no haya errores ya que puede ser
> interceptado, modificado, perdido o destruido, o contener virus. Cualquier
> persona que se ponga en contacto con nosotros por correo electr?nico se
> considerar? que asume estos riesgos.
>
>
>
> This e-mail is addressed exclusively to the recipient and may contain
> privileged information under a professional confidential agreement or it
> may be against the law to disclose its contents. Any opinion contained in
> it belongs exclusively to his/her author and does not necessarily reflect
> the company?s view. If you receive this e-mail in error, please let us know
> immediately (by return e-mail) and proceed to its destruction, as well as
> any document attached to it. The sending of e-mails through the Internet is
> not safe and, therefore, error-free communications cannot be guaranteed, as
> they can be intercepted, changed, misled or destroyed or they might contain
> a virus. Any user contacting us through e-mails shall be understood to be
> assuming these risks.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
> <https://clicktime.symantec.com/15t5eguAhyRhF2TcgXvyU?h=Jd9BayZPGNA7ZxhvY-_xqfQhPjPrNZePw5xra7kazGY=&u=https://lists.osgeo.org/mailman/listinfo/gdal-dev>
>
>
>
>
>
>
>
> Este mensaje se dirige exclusivamente a su destinatario, y puede contener
> informaci?n confidencial sometida a secreto profesional, o cuya divulgaci?n
> est? legalmente prohibida. Cualquier opini?n en ?l contenida es exclusiva
> de su autor y no representa necesariamente la opini?n de la empresa. Si ha
> recibido este mensaje por error, le rogamos nos lo comunique de forma
> inmediata por esta misma v?a y proceda a su eliminaci?n, as? como a la de
> cualquier documento adjunto al mismo. El correo electr?nico v?a Internet no
> es seguro y no se puede garantizar que no haya errores ya que puede ser
> interceptado, modificado, perdido o destruido, o contener virus. Cualquier
> persona que se ponga en contacto con nosotros por correo electr?nico se
> considerar? que asume estos riesgos.
>
>
>
> This e-mail is addressed exclusively to the recipient and may contain
> privileged information under a professional confidential agreement or it
> may be against the law to disclose its contents. Any opinion contained in
> it belongs exclusively to his/her author and does not necessarily reflect
> the company?s view. If you receive this e-mail in error, please let us know
> immediately (by return e-mail) and proceed to its destruction, as well as
> any document attached to it. The sending of e-mails through the Internet is
> not safe and, therefore, error-free communications cannot be guaranteed, as
> they can be intercepted, changed, misled or destroyed or they might contain
> a virus. Any user contacting us through e-mails shall be understood to be
> assuming these risks.
>


-- 
Michael Sumner
Software and Database Engineer
Australian Antarctic Division
Hobart, Australia
e-mail: mdsumner at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220905/4a4cace0/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 2327 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220905/4a4cace0/attachment-0001.png>

From gregers at septima.dk  Mon Sep  5 05:42:30 2022
From: gregers at septima.dk (Hans Gregers Hedegaard Petersen)
Date: Mon, 5 Sep 2022 14:42:30 +0200
Subject: [gdal-dev] Snowflake Vector Driver
In-Reply-To: <694af1a4-4411-dc37-1892-b5e9744e35e1@spatialys.com>
References: <CA+2j9YK4GZtgA0hGtC2VM4WoYOBFE_C2TtYHPcTAGTqYw605Ng@mail.gmail.com>
 <CAA+ACAmoBWcNv90AZhNTFmF_Tn-DGLBRcOCU5Bb83FAD4vz2qA@mail.gmail.com>
 <694af1a4-4411-dc37-1892-b5e9744e35e1@spatialys.com>
Message-ID: <CAA+ACAnEMsS1swtv6j2hAZjD=1bYBHSo19vQLuA1CTXuq3fwVQ@mail.gmail.com>

Hi Even

> Wondering if using the new (Geo)Parquet driver - https://gdal.org/drivers/vector/parquet.html - wouldn't help for interoperability with Snowflake ?
>
> At least it should currently understand the non-geo part of it, and I presume the geo part will come at some point as it seems Snowflake support, among others, was one of the driver to develop GeoParquet

I now had the time to look at the page, the description seems to be a
lot like our "reverse engineering"-notes.
It almost sounds like, it would be as simple as that (famous last words).

Best,

Greg

From seldor at kinetica.com  Tue Sep  6 07:29:48 2022
From: seldor at kinetica.com (Sharon Eldor)
Date: Tue, 6 Sep 2022 10:29:48 -0400
Subject: [gdal-dev] Reading shapefile from ZIP archive (c++)
Message-ID: <CAPXKGVBka58WgCVk2DrbZyLBdtvXBBRrppsZZM29bXD2nnkOEA@mail.gmail.com>

Hi,
Trying to read shapefiles from a zip archive, I am running:

GDALDataset::Open('/vsizip//parks-and-recreation-feature-map-d.zip',
GDAL_OF_VECTOR |

                                  GDAL_OF_READONLY |
GDAL_OF_VERBOSE_ERROR | GDAL_OF_SHARED,

                                  NULL, NULL, NULL )


When there is a directory in the zip, I get an error:

Error: `/vsizip//parks-and-recreation-feature-map-d.zip' not
recognized as a supported file format.


When the files are not under a directory in the zip (same files), the
zip file is read with no error.

Attaching 2 files for example.

Is there a way to directly read the files from the archive with the directory?



Thanks,

Sharon

-- 


*The contents of this email message and any attachments are the property 
of Kinetica DB, Inc. and may contain confidential or privileged information 
intended solely for the addressee(s). Unauthorized use of this 
communication is strictly prohibited and may be unlawful. If you have 
received this communication in error, please notify the sender by reply 
e-mail, then delete all copies of the communication and any attachments.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220906/e470b1e2/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: parks-and-recreation-feature-map.zip
Type: application/zip
Size: 6067 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220906/e470b1e2/attachment.zip>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: parks-and-recreation-feature-map-d.zip
Type: application/zip
Size: 6857 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220906/e470b1e2/attachment-0001.zip>

From daniel.fred.evans at gmail.com  Tue Sep  6 07:50:05 2022
From: daniel.fred.evans at gmail.com (Daniel Evans)
Date: Tue, 6 Sep 2022 15:50:05 +0100
Subject: [gdal-dev] Reading shapefile from ZIP archive (c++)
In-Reply-To: <CAPXKGVBka58WgCVk2DrbZyLBdtvXBBRrppsZZM29bXD2nnkOEA@mail.gmail.com>
References: <CAPXKGVBka58WgCVk2DrbZyLBdtvXBBRrppsZZM29bXD2nnkOEA@mail.gmail.com>
Message-ID: <CANnaQaa7bX4AWdw_UX2YL-tAMdt+DZEwHy7mQKg00Tj_3TgHaQ@mail.gmail.com>

Hi Sharon,

I think all you need to do is define the path to open as:

'/vsizip//parks-and-recreation-feature-map-d.zip/parks-and-recreation-feature-map/parks-and-recreation-feature-map.shp'

i.e. defining the filepath as:

/vsizip/<path to the zip>/<path inside the zip>

When the zip contains only a single (shape)file at the top level - the
case where you've got it working - GDAL automatically determines the
file to open.

Docs at: https://gdal.org/user/virtual_file_systems.html#vsizip-zip-archives

Cheers,

Daniel


On Tue, 6 Sept 2022 at 15:30, Sharon Eldor <seldor at kinetica.com> wrote:

> Hi,
> Trying to read shapefiles from a zip archive, I am running:
>
> GDALDataset::Open('/vsizip//parks-and-recreation-feature-map-d.zip', GDAL_OF_VECTOR |
>
>                                   GDAL_OF_READONLY | GDAL_OF_VERBOSE_ERROR | GDAL_OF_SHARED,
>
>                                   NULL, NULL, NULL )
>
>
> When there is a directory in the zip, I get an error:
>
> Error: `/vsizip//parks-and-recreation-feature-map-d.zip' not recognized as a supported file format.
>
>
> When the files are not under a directory in the zip (same files), the zip file is read with no error.
>
> Attaching 2 files for example.
>
> Is there a way to directly read the files from the archive with the directory?
>
>
>
> Thanks,
>
> Sharon
>
>
>
>
>
>
>
> *The contents of this email message and any attachments are the property
> of Kinetica DB, Inc. and may contain confidential or privileged information
> intended solely for the addressee(s). Unauthorized use of this
> communication is strictly prohibited and may be unlawful. If you have
> received this communication in error, please notify the sender by reply
> e-mail, then delete all copies of the communication and any attachments.*
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220906/1a875e08/attachment-0001.htm>

From seldor at kinetica.com  Tue Sep  6 08:27:21 2022
From: seldor at kinetica.com (Sharon Eldor)
Date: Tue, 6 Sep 2022 11:27:21 -0400
Subject: [gdal-dev] Reading shapefile from ZIP archive (c++)
In-Reply-To: <CANnaQaa7bX4AWdw_UX2YL-tAMdt+DZEwHy7mQKg00Tj_3TgHaQ@mail.gmail.com>
References: <CAPXKGVBka58WgCVk2DrbZyLBdtvXBBRrppsZZM29bXD2nnkOEA@mail.gmail.com>
 <CANnaQaa7bX4AWdw_UX2YL-tAMdt+DZEwHy7mQKg00Tj_3TgHaQ@mail.gmail.com>
Message-ID: <CAPXKGVC-i1KCEUzA-kKOTOvdzZHUR1Jjgs5C7bRCwK2yDiEpeg@mail.gmail.com>

Thanks - so is there a way to list the content of the zip file or do I use
some other tool for that?

On Tue, Sep 6, 2022 at 10:50 AM Daniel Evans <daniel.fred.evans at gmail.com>
wrote:

> Hi Sharon,
>
> I think all you need to do is define the path to open as:
>
> '/vsizip//parks-and-recreation-feature-map-d.zip/parks-and-recreation-feature-map/parks-and-recreation-feature-map.shp'
>
> i.e. defining the filepath as:
>
> /vsizip/<path to the zip>/<path inside the zip>
>
> When the zip contains only a single (shape)file at the top level - the case where you've got it working - GDAL automatically determines the file to open.
>
> Docs at: https://gdal.org/user/virtual_file_systems.html#vsizip-zip-archives
>
> Cheers,
>
> Daniel
>
>
> On Tue, 6 Sept 2022 at 15:30, Sharon Eldor <seldor at kinetica.com> wrote:
>
>> Hi,
>> Trying to read shapefiles from a zip archive, I am running:
>>
>> GDALDataset::Open('/vsizip//parks-and-recreation-feature-map-d.zip', GDAL_OF_VECTOR |
>>
>>                                   GDAL_OF_READONLY | GDAL_OF_VERBOSE_ERROR | GDAL_OF_SHARED,
>>
>>                                   NULL, NULL, NULL )
>>
>>
>> When there is a directory in the zip, I get an error:
>>
>> Error: `/vsizip//parks-and-recreation-feature-map-d.zip' not recognized as a supported file format.
>>
>>
>> When the files are not under a directory in the zip (same files), the zip file is read with no error.
>>
>> Attaching 2 files for example.
>>
>> Is there a way to directly read the files from the archive with the directory?
>>
>>
>>
>> Thanks,
>>
>> Sharon
>>
>>
>>
>>
>>
>>
>>
>> *The contents of this email message and any attachments are the property
>> of Kinetica DB, Inc. and may contain confidential or privileged information
>> intended solely for the addressee(s). Unauthorized use of this
>> communication is strictly prohibited and may be unlawful. If you have
>> received this communication in error, please notify the sender by reply
>> e-mail, then delete all copies of the communication and any attachments.*
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>

-- 


*The contents of this email message and any attachments are the property 
of Kinetica DB, Inc. and may contain confidential or privileged information 
intended solely for the addressee(s). Unauthorized use of this 
communication is strictly prohibited and may be unlawful. If you have 
received this communication in error, please notify the sender by reply 
e-mail, then delete all copies of the communication and any attachments.*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220906/682c639a/attachment.htm>

From daniel.fred.evans at gmail.com  Tue Sep  6 08:40:25 2022
From: daniel.fred.evans at gmail.com (Daniel Evans)
Date: Tue, 6 Sep 2022 16:40:25 +0100
Subject: [gdal-dev] Reading shapefile from ZIP archive (c++)
In-Reply-To: <CAPXKGVC-i1KCEUzA-kKOTOvdzZHUR1Jjgs5C7bRCwK2yDiEpeg@mail.gmail.com>
References: <CAPXKGVBka58WgCVk2DrbZyLBdtvXBBRrppsZZM29bXD2nnkOEA@mail.gmail.com>
 <CANnaQaa7bX4AWdw_UX2YL-tAMdt+DZEwHy7mQKg00Tj_3TgHaQ@mail.gmail.com>
 <CAPXKGVC-i1KCEUzA-kKOTOvdzZHUR1Jjgs5C7bRCwK2yDiEpeg@mail.gmail.com>
Message-ID: <CANnaQaZy=EXaHnBYoKV99cZitreTiw0KTYLRJET-M=roLFqG+Q@mail.gmail.com>

The documentation page I linked to states that VSIReadDir() can be used,
and gives other details on operations that might be relevant (e.g.
distinguishing files vs. directories).

Daniel

On Tue, 6 Sept 2022 at 16:27, Sharon Eldor <seldor at kinetica.com> wrote:

> Thanks - so is there a way to list the content of the zip file or do I use
> some other tool for that?
>
> On Tue, Sep 6, 2022 at 10:50 AM Daniel Evans <daniel.fred.evans at gmail.com>
> wrote:
>
>> Hi Sharon,
>>
>> I think all you need to do is define the path to open as:
>>
>> '/vsizip//parks-and-recreation-feature-map-d.zip/parks-and-recreation-feature-map/parks-and-recreation-feature-map.shp'
>>
>> i.e. defining the filepath as:
>>
>> /vsizip/<path to the zip>/<path inside the zip>
>>
>> When the zip contains only a single (shape)file at the top level - the case where you've got it working - GDAL automatically determines the file to open.
>>
>> Docs at: https://gdal.org/user/virtual_file_systems.html#vsizip-zip-archives
>>
>> Cheers,
>>
>> Daniel
>>
>>
>> On Tue, 6 Sept 2022 at 15:30, Sharon Eldor <seldor at kinetica.com> wrote:
>>
>>> Hi,
>>> Trying to read shapefiles from a zip archive, I am running:
>>>
>>> GDALDataset::Open('/vsizip//parks-and-recreation-feature-map-d.zip', GDAL_OF_VECTOR |
>>>
>>>                                   GDAL_OF_READONLY | GDAL_OF_VERBOSE_ERROR | GDAL_OF_SHARED,
>>>
>>>                                   NULL, NULL, NULL )
>>>
>>>
>>> When there is a directory in the zip, I get an error:
>>>
>>> Error: `/vsizip//parks-and-recreation-feature-map-d.zip' not recognized as a supported file format.
>>>
>>>
>>> When the files are not under a directory in the zip (same files), the zip file is read with no error.
>>>
>>> Attaching 2 files for example.
>>>
>>> Is there a way to directly read the files from the archive with the directory?
>>>
>>>
>>>
>>> Thanks,
>>>
>>> Sharon
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> *The contents of this email message and any attachments are the property
>>> of Kinetica DB, Inc. and may contain confidential or privileged information
>>> intended solely for the addressee(s). Unauthorized use of this
>>> communication is strictly prohibited and may be unlawful. If you have
>>> received this communication in error, please notify the sender by reply
>>> e-mail, then delete all copies of the communication and any attachments.*
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
> *The contents of this email message and any attachments are the property
> of Kinetica DB, Inc. and may contain confidential or privileged information
> intended solely for the addressee(s). Unauthorized use of this
> communication is strictly prohibited and may be unlawful. If you have
> received this communication in error, please notify the sender by reply
> e-mail, then delete all copies of the communication and any attachments.*
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220906/ec74bfc0/attachment.htm>

From even.rouault at spatialys.com  Wed Sep  7 08:28:25 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 7 Sep 2022 17:28:25 +0200
Subject: [gdal-dev] Motion: adopt GDAL 3.5.2RC1 as final 3.5.2 release
Message-ID: <9f97774d-f324-d6fe-3a43-cfddd04921ab@spatialys.com>

Hi,

Motion:

Adopt GDAL 3.5.2RC1 as final 3.5.2 release

Starting with my +1

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From howard at hobu.co  Wed Sep  7 09:06:52 2022
From: howard at hobu.co (Howard Butler)
Date: Wed, 7 Sep 2022 11:06:52 -0500
Subject: [gdal-dev] Motion: adopt GDAL 3.5.2RC1 as final 3.5.2 release
In-Reply-To: <9f97774d-f324-d6fe-3a43-cfddd04921ab@spatialys.com>
References: <9f97774d-f324-d6fe-3a43-cfddd04921ab@spatialys.com>
Message-ID: <1E9682EA-1502-4CC6-BEE1-3A3B5B642C03@hobu.co>



> On Sep 7, 2022, at 10:28 AM, Even Rouault <even.rouault at spatialys.com> wrote:
> 
> Hi,
> 
> Motion:
> 
> Adopt GDAL 3.5.2RC1 as final 3.5.2 release
> 
> Starting with my +1

+1

Howard

From jukka.rahkonen at maanmittauslaitos.fi  Wed Sep  7 09:07:53 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Wed, 7 Sep 2022 16:07:53 +0000
Subject: [gdal-dev] Motion: adopt GDAL 3.5.2RC1 as final 3.5.2 release
Message-ID: <AM0PR09MB32193A56205DF71082E8DE78FD419@AM0PR09MB3219.eurprd09.prod.outlook.com>

+1

-Jukka Rahkonen-

-----Alkuper?inen viesti-----
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Even Rouault
L?hetetty: keskiviikko 7. syyskuuta 2022 18.28
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: [gdal-dev] Motion: adopt GDAL 3.5.2RC1 as final 3.5.2 release

Hi,

Motion:

Adopt GDAL 3.5.2RC1 as final 3.5.2 release

Starting with my +1

Even

-- 
https://eur06.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.spatialys.com%2F&amp;data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cd48e481bd36a49947b4608da90e5a9d5%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637981613323820307%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=ScRUpxi3MWsifsrowiGPORM1ZzCHJ4fymVpGDOGagnQ%3D&amp;reserved=0
My software is free, but my time generally not.

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fgdal-dev&amp;data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7Cd48e481bd36a49947b4608da90e5a9d5%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637981613323820307%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=vJ8DJlxw3KXbxUUgePCrgOvLHzOVV0T3%2F3gN2S9smRk%3D&amp;reserved=0

From mdsumner at gmail.com  Wed Sep  7 20:53:00 2022
From: mdsumner at gmail.com (Michael Sumner)
Date: Thu, 8 Sep 2022 13:53:00 +1000
Subject: [gdal-dev] Zarr syntax question
Message-ID: <CAAcGz98zWx=cOGF9U8RjmnLX018mZ5A0qBRYg3vA=iN7AM1ALg@mail.gmail.com>

Hello, I'm trying to connect to this zarr:

https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr

I can get this sort of hull description with mdim, but only "cannot find
group" with gdalinfo.

gdalmdiminfo ZARR:"
https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"
{
  "type": "group",
  "driver": "Zarr",
  "name": "/"
}


gdalinfo ZARR:"
https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"
ERROR 1: Cannot find group ncsa.osn.xsede.org

That group error makes me think there's a kind of nested dataset issue to
navigate?  But I can't see how zarr or gdal would expose those?   There is
a variable called 'precip'.

I'm comparing to the python in this notebook, which works fine on the same
system. I'm using GDAL built from source.

https://notebooksharing.space/view/c6c1f3a7d0c260724115eaa2bf78f3738b275f7f633c1558639e7bbd75b31456#displayOptions=\

Cheers, Mike


-- 
Michael Sumner
Software and Database Engineer
Australian Antarctic Division
Hobart, Australia
e-mail: mdsumner at gmail.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220908/2f825009/attachment.htm>

From even.rouault at spatialys.com  Thu Sep  8 02:39:32 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 8 Sep 2022 11:39:32 +0200
Subject: [gdal-dev] Zarr syntax question
In-Reply-To: <CAAcGz98zWx=cOGF9U8RjmnLX018mZ5A0qBRYg3vA=iN7AM1ALg@mail.gmail.com>
References: <CAAcGz98zWx=cOGF9U8RjmnLX018mZ5A0qBRYg3vA=iN7AM1ALg@mail.gmail.com>
Message-ID: <ff593a49-be25-1636-497f-07d0bcffdaec@spatialys.com>

Michael,

This is both a usage issue, and the driver not erroring out on that 
invalid use whereas it should.

You should prefix the URL with /vsicurl/ , and if you use Bash as a 
shell, to make sure the double quotes are preserved up to GDAL, you need 
to surround the whole string with single quote characters.

So:

gdalmdiminfo 
'ZARR:"/vsicurl/https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr 
<https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr>"'

and similarly for gdalinfo:

gdalinfo 
'ZARR:"/vsicurl/https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"'

gdalinfo 
'ZARR:"/vsicurl/https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr":/precip:0' 
(0 here for the 2D slice at time index = 0)

In https://github.com/OSGeo/gdal/pull/6330, I've improved doc and error 
messages.

Even


Le 08/09/2022 ? 05:53, Michael Sumner a ?crit?:
> Hello, I'm trying to connect to this zarr:
>
> https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr
>
> I can get this sort of hull description with mdim, but only "cannot 
> find group" with gdalinfo.
>
> gdalmdiminfo 
> ZARR:"https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"
> {
> ? "type": "group",
> ? "driver": "Zarr",
> ? "name": "/"
> }
>
>
> gdalinfo 
> ZARR:"https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"
> ERROR 1: Cannot find group ncsa.osn.xsede.org <http://ncsa.osn.xsede.org>
>
> That group error makes me think there's a kind of nested dataset issue 
> to navigate?? But I can't see how zarr or gdal would expose those?? 
> ?There is a variable called 'precip'.
>
> I'm comparing to the python in this notebook, which works fine on the 
> same system. I'm using GDAL built from source.
>
> https://notebooksharing.space/view/c6c1f3a7d0c260724115eaa2bf78f3738b275f7f633c1558639e7bbd75b31456#displayOptions=\
>
> Cheers, Mike
>
>
> -- 
> Michael Sumner
> Software and Database Engineer
> Australian Antarctic Division
> Hobart, Australia
> e-mail: mdsumner at gmail.com
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220908/62b30bd0/attachment.htm>

From mdsumner at gmail.com  Thu Sep  8 03:00:48 2022
From: mdsumner at gmail.com (Michael Sumner)
Date: Thu, 8 Sep 2022 20:00:48 +1000
Subject: [gdal-dev] Zarr syntax question
In-Reply-To: <ff593a49-be25-1636-497f-07d0bcffdaec@spatialys.com>
References: <CAAcGz98zWx=cOGF9U8RjmnLX018mZ5A0qBRYg3vA=iN7AM1ALg@mail.gmail.com>
 <ff593a49-be25-1636-497f-07d0bcffdaec@spatialys.com>
Message-ID: <CAAcGz984QCJ1B3T57oC2+Jxjcbyxw75b4zTRj0Sqd=Z2Gt15Ew@mail.gmail.com>

Thanks Even!

I THOUGHT I TRIED THAT ? doh. Very much appreciated.

Cheers, Mike


On Thu, 8 Sept 2022, 19:39 Even Rouault, <even.rouault at spatialys.com> wrote:

> Michael,
>
> This is both a usage issue, and the driver not erroring out on that
> invalid use whereas it should.
>
> You should prefix the URL with /vsicurl/ , and if you use Bash as a shell,
> to make sure the double quotes are preserved up to GDAL, you need to
> surround the whole string with single quote characters.
>
> So:
>
> gdalmdiminfo 'ZARR:"
> /vsicurl/https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr
> <https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr>
> "'
>
> and similarly for gdalinfo:
>
> gdalinfo  'ZARR:"/vsicurl/
> https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"'
>
> gdalinfo 'ZARR:"/vsicurl/
> https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr":/precip:0'
> (0 here for the 2D slice at time index = 0)
>
> In https://github.com/OSGeo/gdal/pull/6330, I've improved doc and error
> messages.
>
> Even
>
>
> Le 08/09/2022 ? 05:53, Michael Sumner a ?crit :
>
> Hello, I'm trying to connect to this zarr:
>
> https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr
>
> I can get this sort of hull description with mdim, but only "cannot find
> group" with gdalinfo.
>
> gdalmdiminfo ZARR:"
> https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"
> {
>   "type": "group",
>   "driver": "Zarr",
>   "name": "/"
> }
>
>
> gdalinfo ZARR:"
> https://ncsa.osn.xsede.org/Pangeo/pangeo-forge/gpcp-feedstock/gpcp.zarr"
> ERROR 1: Cannot find group ncsa.osn.xsede.org
>
> That group error makes me think there's a kind of nested dataset issue to
> navigate?  But I can't see how zarr or gdal would expose those?   There is
> a variable called 'precip'.
>
> I'm comparing to the python in this notebook, which works fine on the same
> system. I'm using GDAL built from source.
>
>
> https://notebooksharing.space/view/c6c1f3a7d0c260724115eaa2bf78f3738b275f7f633c1558639e7bbd75b31456#displayOptions=\
>
> Cheers, Mike
>
>
> --
> Michael Sumner
> Software and Database Engineer
> Australian Antarctic Division
> Hobart, Australia
> e-mail: mdsumner at gmail.com
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttps://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> -- http://www.spatialys.com
> My software is free, but my time generally not.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220908/1d41b6ce/attachment.htm>

From even.rouault at spatialys.com  Mon Sep 12 09:36:16 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 12 Sep 2022 18:36:16 +0200
Subject: [gdal-dev] Motion: adopt GDAL 3.5.2RC1 as final 3.5.2 release
In-Reply-To: <9f97774d-f324-d6fe-3a43-cfddd04921ab@spatialys.com>
References: <9f97774d-f324-d6fe-3a43-cfddd04921ab@spatialys.com>
Message-ID: <29f74005-5fb8-442b-edd2-19e5615d964a@spatialys.com>

Hi,

I declare this motion passed with +1 from PSC members HowardB, JukkaR 
and me.

Even

Le 07/09/2022 ? 17:28, Even Rouault a ?crit?:
> Hi,
>
> Motion:
>
> Adopt GDAL 3.5.2RC1 as final 3.5.2 release
>
> Starting with my +1
>
> Even
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.


From even.rouault at spatialys.com  Mon Sep 12 10:15:57 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 12 Sep 2022 19:15:57 +0200
Subject: [gdal-dev] GDAL 3.5.2 is released
Message-ID: <f28f3efb-fe9c-ed0f-a388-91003e126d9b@spatialys.com>

Hi,

On behalf of the GDAL/OGR development team, I am pleased to announce the
release of the GDAL/OGR 3.5.2 bug fix version.

Consult the release notes for the list of issues addressed :

 ? https://github.com/OSGeo/gdal/blob/v3.5.2/NEWS.md

The sources are available at:

 ? https://download.osgeo.org/gdal/3.5.2/gdal-3.5.2.tar.xz
 ? https://download.osgeo.org/gdal/3.5.2/gdal-3.5.2.tar.gz
 ? https://download.osgeo.org/gdal/3.5.2/gdal352.zip

Best regards,

Even

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From e11904212 at student.tuwien.ac.at  Mon Sep 12 13:07:22 2022
From: e11904212 at student.tuwien.ac.at (Martin)
Date: Mon, 12 Sep 2022 22:07:22 +0200
Subject: [gdal-dev] JPEG2000 via range request
In-Reply-To: <CAN_Dn-EV0KYGSBrJ9ap3tE3ihR7+x7v=-b2V0FyHZjV_DMUy4w@mail.gmail.com>
References: <5da239ca-e873-0f31-96dc-c7093eecc0ae@student.tuwien.ac.at>
 <998636ca-b73a-a2df-da09-49db3f2d5b7e@student.tuwien.ac.at>
 <CACmBxyu2Pkmrxdy6pQU1DDnw4O7=Qk_wr1TvWiEdceOPDmWtJA@mail.gmail.com>
 <CAN_Dn-EV0KYGSBrJ9ap3tE3ihR7+x7v=-b2V0FyHZjV_DMUy4w@mail.gmail.com>
Message-ID: <f1b468a1-80b6-f6bc-3991-46e1062eb98e@student.tuwien.ac.at>

Thank you all for your answers. As andy already pointed out, this 
behavior is due to the fact that
openjpeg is not utilizing markers yet when reading JPEG2000 files.
This issue seems to confirm that: 
https://github.com/uclouvain/openjpeg/issues/944

So I tried the JP2ECW-ERDAS driver again with a current ECW version 5.5 
(3.x does not seem to utilize TLMs either), which led to the desired result.
This way, the number of requests can be significantly reduced (~6 for 
one tile).
Still a lot but sufficient for my use case.

I actually wanted to give kakadu a try too but unfortunately the source 
code is needed to build it with gdal (which is not included in the demo).

- Martin

On 26.08.22 18:44, Norman Barker wrote:
> I wrote the original jpipkak driver years ago and it a driver I would 
> suggest for deprecation but I am no longer involved in j2k development 
> to know how much it is being used.
>
> You will need a jpip server to use the jpip client. Wavelets are 
> different to cogs and you will get the benefits of progressive display.
>
> Norman
>
>
> On Fri, Aug 26, 2022, 5:12 PM Kurt Schwehr <schwehr at gmail.com> wrote:
>
>     It costs, but you could try this:
>
>     https://gdal.org/drivers/raster/jpipkak.html
>
>     I have kakadu, but I have never tried the jpip functionality so I
>     can't say how well it works.
>
>     On Fri, Aug 26, 2022, 5:03 AM Martin
>     <e11904212 at student.tuwien.ac.at> wrote:
>
>         Hi,
>
>         I want to process JP2 data via vsicurl. Which works so far.
>         Unfortunately hundreds of requests are sent, even if only the
>         data of one tile is required.
>         I understand that due to the structure of a JP2 file multiple
>         requests are necessary. But it looks like GDAL is searching
>         every single tile (resulting in ~120 requests).
>
>         Is there a way to reduce the number of requests?
>
>         I have already tried the JP2ECW-ERDAS driver, same result.
>
>         Do I have to configure GDAL in a certain way?
>
>         cmd for request:
>
>         ??? #!/bin/bash
>
>         ??? export GDAL_DISABLE_READDIR_ON_OPEN="YES"
>         ??? export CPL_VSIL_CURL_ALLOWED_EXTENSIONS="jp2"
>         ??? export CPL_CURL_VERBOSE="YES"
>         ??? export GDAL_HTTP_MERGE_CONSECUTIVE_RANGES="YES"
>
>         ??? gdal_translate --debug ON -srcwin 0 0 256 256
>         /vsicurl/http://localhost:8083/T33UWP_20220515T100031_TCI_10m_J2Lmin.jp2
>         ./out_subWin.tif
>
>         What options do I need to specify when creating the JP2 file
>         to support GDAL?
>
>         Currently I use the following options:
>
>         #!/bin/bash
>
>         ??? gdal_translate \
>         ? ??? ? -of JP2OpenJPEG \
>         ?? ???? -co QUALITY=100 \
>         ??? ? ? -co TLM=YES \
>         ?? ???? -co PLT=YES \
>         ? ??? ? -co PROGRESSION=LRCP \
>         ?? ???? -co WRITE_METADATA=YES \
>         ../test_data/T33UWP_20220515T100031_TCI_10m.tif \
>         ./T33UWP_20220515T100031_TCI_10m_J2Lmin.jp2
>
>         Some logs:
>
>         [gdal degug output](https://pastebin.com/vTf7tjLJ)
>         [nginx logs](https://pastebin.com/8bWW15Tp)
>         [gdalinfo](https://pastebin.com/HWSmypEQ)
>         [opj_dump](https://pastebin.com/rdYbHEnY)
>         [kdu_jp2info](https://pastebin.com/atVUfeVx)
>
>         _______________________________________________
>         gdal-dev mailing list
>         gdal-dev at lists.osgeo.org
>         https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220912/dc0f91a0/attachment.htm>

From j1 at jimenezshaw.com  Wed Sep 14 10:56:16 2022
From: j1 at jimenezshaw.com (Javier Jimenez Shaw)
Date: Wed, 14 Sep 2022 19:56:16 +0200
Subject: [gdal-dev] missing docker images for 3.5.2
Message-ID: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>

Hi

There is only "alpine-normal-3.5.2" in docker hub for GDAL 3.5.2:
https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5

but many for 3.5.1 (like ubuntu)

Is that intentional?

Thanks,
Javier.
.___ ._ ..._ .. . ._.  .___ .. __ . _. . __..  ... .... ._ .__
Entre dos pensamientos racionales
hay infinitos pensamientos irracionales.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220914/8ef6f03e/attachment.htm>

From even.rouault at spatialys.com  Wed Sep 14 11:32:32 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 14 Sep 2022 20:32:32 +0200
Subject: [gdal-dev] missing docker images for 3.5.2
In-Reply-To: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>
References: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>
Message-ID: <ffbe4bdc-d603-5075-1282-0fdffca03d21@spatialys.com>

Hi Javier,

Le 14/09/2022 ? 19:56, Javier Jimenez Shaw a ?crit?:
> Hi
>
> There is only "alpine-normal-3.5.2" in docker hub for GDAL 3.5.2:
> https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5 
> <https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5>
>
> but many for 3.5.1 (like ubuntu)
>
> Is that intentional?

Not really. It has been 2 days that I'm attempting to push the images 
generated on my PC on Docker hub, and it fails on the ubuntu-full ones, 
with the connection being reset after many hours, probably due to their 
"big" size and my connection being too slow on upload, so I keep 
re-trying. Not the first time I hit that problem, but here it struggles 
more than usual. I should probably get off my procrastination of 
upgrading my DSL connection to fiber...

If you have a faster connection and want to help, you need to install 
docker buildx (not sure I kept note on that installation process, but I 
probably followed what is described at 
https://github.com/OSGeo/gdal/tree/master/docker#multi-arch-images) with 
linux/amd64 and linux/arm64 backends installed, and then from a checkout 
of release/3.5 branch:

./docker/build-all.sh --with-multi-arch --release --tag 3.5.2 --gdal 
v3.5.2 --proj 9.1.0 --platform linux/arm64,linux/amd64

Takes ~ 1 day for building everything (the slow part is arm64 
crosscompilation)

And then relaunch the above command with --push appended to actually 
push to Docker hub (it can be done also in a single step but I prefer 
doing in two steps to separate upload issues from build issues)

If you're willing to do that, I can grant you push rights to 
https://hub.docker.com/r/osgeo/gdal

Even

-- 

http://www.spatialys.com
My software is free, but my time generally not.


From alansnow21 at gmail.com  Wed Sep 14 11:54:45 2022
From: alansnow21 at gmail.com (Alan Snow)
Date: Wed, 14 Sep 2022 13:54:45 -0500
Subject: [gdal-dev] missing docker images for 3.5.2
In-Reply-To: <ffbe4bdc-d603-5075-1282-0fdffca03d21@spatialys.com>
References: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>
 <ffbe4bdc-d603-5075-1282-0fdffca03d21@spatialys.com>
Message-ID: <CAGybdFRmo4nXcC=g7=7tPfiJBLg6xYwfeMSqKrcNbB4w2=hXnQ@mail.gmail.com>

Have you tried automating it in GitHub actions?

On Wed, Sep 14, 2022, 1:32 PM Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi Javier,
>
> Le 14/09/2022 ? 19:56, Javier Jimenez Shaw a ?crit :
> > Hi
> >
> > There is only "alpine-normal-3.5.2" in docker hub for GDAL 3.5.2:
> > https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5
> > <https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5>
> >
> > but many for 3.5.1 (like ubuntu)
> >
> > Is that intentional?
>
> Not really. It has been 2 days that I'm attempting to push the images
> generated on my PC on Docker hub, and it fails on the ubuntu-full ones,
> with the connection being reset after many hours, probably due to their
> "big" size and my connection being too slow on upload, so I keep
> re-trying. Not the first time I hit that problem, but here it struggles
> more than usual. I should probably get off my procrastination of
> upgrading my DSL connection to fiber...
>
> If you have a faster connection and want to help, you need to install
> docker buildx (not sure I kept note on that installation process, but I
> probably followed what is described at
> https://github.com/OSGeo/gdal/tree/master/docker#multi-arch-images) with
> linux/amd64 and linux/arm64 backends installed, and then from a checkout
> of release/3.5 branch:
>
> ./docker/build-all.sh --with-multi-arch --release --tag 3.5.2 --gdal
> v3.5.2 --proj 9.1.0 --platform linux/arm64,linux/amd64
>
> Takes ~ 1 day for building everything (the slow part is arm64
> crosscompilation)
>
> And then relaunch the above command with --push appended to actually
> push to Docker hub (it can be done also in a single step but I prefer
> doing in two steps to separate upload issues from build issues)
>
> If you're willing to do that, I can grant you push rights to
> https://hub.docker.com/r/osgeo/gdal
>
> Even
>
> --
>
> http://www.spatialys.com
> My software is free, but my time generally not.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220914/47691c5a/attachment.htm>

From even.rouault at spatialys.com  Wed Sep 14 12:02:52 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 14 Sep 2022 21:02:52 +0200
Subject: [gdal-dev] missing docker images for 3.5.2
In-Reply-To: <CAGybdFRmo4nXcC=g7=7tPfiJBLg6xYwfeMSqKrcNbB4w2=hXnQ@mail.gmail.com>
References: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>
 <ffbe4bdc-d603-5075-1282-0fdffca03d21@spatialys.com>
 <CAGybdFRmo4nXcC=g7=7tPfiJBLg6xYwfeMSqKrcNbB4w2=hXnQ@mail.gmail.com>
Message-ID: <999e7af0-2325-b1ff-ba2a-e6dbebb180c0@spatialys.com>


Le 14/09/2022 ? 20:54, Alan Snow a ?crit?:
> Have you tried automating it in GitHub actions?

no. Not sure how doable installing the docker buildx stuff in GHA 
workers is, and the builds are probably too long compared to the timeout 
of GHA (actually, I see it is 72 hours, but not completely sure that 
with 2 or 3? vCPUs cross compilation can be done in < 72 hours)

>
> On Wed, Sep 14, 2022, 1:32 PM Even Rouault 
> <even.rouault at spatialys.com> wrote:
>
>     Hi Javier,
>
>     Le 14/09/2022 ? 19:56, Javier Jimenez Shaw a ?crit?:
>     > Hi
>     >
>     > There is only "alpine-normal-3.5.2" in docker hub for GDAL 3.5.2:
>     > https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5
>     <https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5>
>     > <https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5
>     <https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5>>
>     >
>     > but many for 3.5.1 (like ubuntu)
>     >
>     > Is that intentional?
>
>     Not really. It has been 2 days that I'm attempting to push the images
>     generated on my PC on Docker hub, and it fails on the ubuntu-full
>     ones,
>     with the connection being reset after many hours, probably due to
>     their
>     "big" size and my connection being too slow on upload, so I keep
>     re-trying. Not the first time I hit that problem, but here it
>     struggles
>     more than usual. I should probably get off my procrastination of
>     upgrading my DSL connection to fiber...
>
>     If you have a faster connection and want to help, you need to install
>     docker buildx (not sure I kept note on that installation process,
>     but I
>     probably followed what is described at
>     https://github.com/OSGeo/gdal/tree/master/docker#multi-arch-images)
>     with
>     linux/amd64 and linux/arm64 backends installed, and then from a
>     checkout
>     of release/3.5 branch:
>
>     ./docker/build-all.sh --with-multi-arch --release --tag 3.5.2 --gdal
>     v3.5.2 --proj 9.1.0 --platform linux/arm64,linux/amd64
>
>     Takes ~ 1 day for building everything (the slow part is arm64
>     crosscompilation)
>
>     And then relaunch the above command with --push appended to actually
>     push to Docker hub (it can be done also in a single step but I prefer
>     doing in two steps to separate upload issues from build issues)
>
>     If you're willing to do that, I can grant you push rights to
>     https://hub.docker.com/r/osgeo/gdal
>
>     Even
>
>     -- 
>
>     http://www.spatialys.com
>     My software is free, but my time generally not.
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org
>     https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220914/b2a4eb8e/attachment.htm>

From marghez9 at libero.it  Fri Sep 16 03:59:07 2022
From: marghez9 at libero.it (marghez9 at libero.it)
Date: Fri, 16 Sep 2022 12:59:07 +0200 (CEST)
Subject: [gdal-dev] odbc issue
Message-ID: <58699396.106601.1663325947952@mail1.libero.it>


 Good morning, 


 I write because I?ve a big issue. I?m an italian archaeologist and I?m doing a PhD in an archaeological site in Spain. My project was based on doing a gis on this site, but after an year working on it, my Professor told me I need to create an automatic connection between Filemaker and QGIS, otherwise I won?t be allow to continue my Phd, that for me it?s kind of like life and death. 


 After some months of attempts I was able to connect the softwares through ODBC (but there are some bugs and it works only using some specific versions), but currently only filemaker can dialogue with QGIS but not vice versa. I think that the issue is that ODBC driver that filemaker use for connecting to QGIS is ?read only?. I did some attempts also between filemaker and LibreOffice and I?ve the same issue, so I doubt could be that filemaker doesn?t give the permission for driver ?writ?. 


 Anyway I read here (https://gdal.org/drivers/vector/odbc.html?fbclid=IwAR2mUiMTb9hsGLpDdSaSY_qnpny8DUTDKc49WVkPw4yvizBBnPB9JoOByX8#creation-issues) that could be also a QGIS issue, so I want to know what do you think about that and if this problem could be solved implementing that. My PhD is without scholarship (so I?m not paid for this), but I?m so desperate that I?m willing to pay for resolve this problem and, in this cane, I need to know how much would be. 


 Thank you so much. 


 Margherita Zannini 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220916/e934a96a/attachment.htm>

From richard.greenwood at gmail.com  Fri Sep 16 17:58:24 2022
From: richard.greenwood at gmail.com (Richard Greenwood)
Date: Fri, 16 Sep 2022 18:58:24 -0600
Subject: [gdal-dev] odbc issue
In-Reply-To: <58699396.106601.1663325947952@mail1.libero.it>
References: <58699396.106601.1663325947952@mail1.libero.it>
Message-ID: <CAHBySPYm6mFb=L4fj9VHGwqpgSjS_wQyZ4BxeRDBAumghPUpSA@mail.gmail.com>

Filemaker is an old proprietary database isn't it? Is there a reason that
you have to use it? QGIS has quite a bit of data processing power built in
and easily connects to many FOSS databases. So I wonder if you might be
better off using something better than Filemaker in the first place. Can
you give us more details?

On Fri, Sep 16, 2022, 5:07 AM Marghe via gdal-dev <gdal-dev at lists.osgeo.org>
wrote:

> Good morning,
>
> I write because I?ve a big issue. I?m an italian archaeologist and I?m
> doing a PhD in an archaeological site in Spain. My project was based on
> doing a gis on this site, but after an year working on it, my Professor
> told me I need to create an automatic connection between Filemaker and
> QGIS, otherwise I won?t be allow to continue my Phd, that for me it?s kind
> of like life and death.
>
> After some months of attempts I was able to connect the softwares through
> ODBC (but there are some bugs and it works only using some specific
> versions), but currently only filemaker can dialogue with QGIS but not vice
> versa. I think that the issue is that ODBC driver that filemaker use for
> connecting to QGIS is ?read only?. I did some attempts also between
> filemaker and LibreOffice and I?ve the same issue, so I doubt could be that
> filemaker doesn?t give the permission for driver ?writ?.
>
> Anyway I read here (
> https://gdal.org/drivers/vector/odbc.html?fbclid=IwAR2mUiMTb9hsGLpDdSaSY_qnpny8DUTDKc49WVkPw4yvizBBnPB9JoOByX8#creation-issues)
> that could be also a QGIS issue, so I want to know what do you think about
> that and if this problem could be solved implementing that. My PhD is
> without scholarship (so I?m not paid for this), but I?m so desperate that
> I?m willing to pay for resolve this problem and, in this cane, I need to
> know how much would be.
>
> Thank you so much.
>
> Margherita Zannini
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220916/c0236fa3/attachment.htm>

From andreas.oxenstierna at t-kartor.com  Fri Sep 16 23:52:17 2022
From: andreas.oxenstierna at t-kartor.com (Andreas Oxenstierna)
Date: Sat, 17 Sep 2022 06:52:17 +0000
Subject: [gdal-dev] odbc issue
In-Reply-To: <CAHBySPYm6mFb=L4fj9VHGwqpgSjS_wQyZ4BxeRDBAumghPUpSA@mail.gmail.com>
References: <58699396.106601.1663325947952@mail1.libero.it>
 <CAHBySPYm6mFb=L4fj9VHGwqpgSjS_wQyZ4BxeRDBAumghPUpSA@mail.gmail.com>
Message-ID: <b6c48547-b954-4d53-be3b-609bdb547531@Spark>

I would use this method https://community.claris.com/en/s/question/0D50H00006h95LvSAI/quick-setup-for-filemaker-15-postgres-on-a-local-mac
to transfer all FileMaker data to PostgreSQL with the option to directly add geography locations as spatial geometries, 2D and 3D (PostGIS)

Best Regards / V?nliga h?lsningar

Andreas Oxenstierna
Senior Strategic Advisor

+46 733 206831
andreas.oxenstierna at t-kartor.com
connect on Linkedin<https://www.linkedin.com/in/andreas-oxenstierna-52876325/>

T-Kartor Geospatial AB
Olof Mohlins v?g 12
291 62 Kristianstad
www.t-kartor.com
+46 44 206 800
info at t-kartor.com

This e-mail is private and confidential between the sender and the addressee. In the event of misdirection, the recipient is prohibited from using, copying or disseminating it or any information in it. Please notify the above of any such misdirection.
On 17 Sep 2022, 02:58 +0200, Richard Greenwood <richard.greenwood at gmail.com>, wrote:
Filemaker is an old proprietary database isn't it? Is there a reason that you have to use it? QGIS has quite a bit of data processing power built in and easily connects to many FOSS databases. So I wonder if you might be better off using something better than Filemaker in the first place. Can you give us more details?

On Fri, Sep 16, 2022, 5:07 AM Marghe via gdal-dev <gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>> wrote:
Good morning,

I write because I?ve a big issue. I?m an italian archaeologist and I?m doing a PhD in an archaeological site in Spain. My project was based on doing a gis on this site, but after an year working on it, my Professor told me I need to create an automatic connection between Filemaker and QGIS, otherwise I won?t be allow to continue my Phd, that for me it?s kind of like life and death.

After some months of attempts I was able to connect the softwares through ODBC (but there are some bugs and it works only using some specific versions), but currently only filemaker can dialogue with QGIS but not vice versa. I think that the issue is that ODBC driver that filemaker use for connecting to QGIS is ?read only?. I did some attempts also between filemaker and LibreOffice and I?ve the same issue, so I doubt could be that filemaker doesn?t give the permission for driver ?writ?.

Anyway I read here (https://gdal.org/drivers/vector/odbc.html?fbclid=IwAR2mUiMTb9hsGLpDdSaSY_qnpny8DUTDKc49WVkPw4yvizBBnPB9JoOByX8#creation-issues) that could be also a QGIS issue, so I want to know what do you think about that and if this problem could be solved implementing that. My PhD is without scholarship (so I?m not paid for this), but I?m so desperate that I?m willing to pay for resolve this problem and, in this cane, I need to know how much would be.

Thank you so much.

Margherita Zannini

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220917/ede34d5e/attachment-0001.htm>

From gdal at stripfamily.net  Sat Sep 17 07:59:49 2022
From: gdal at stripfamily.net (David Strip)
Date: Sat, 17 Sep 2022 08:59:49 -0600
Subject: [gdal-dev] odbc issue
In-Reply-To: <b6c48547-b954-4d53-be3b-609bdb547531@Spark>
References: <58699396.106601.1663325947952@mail1.libero.it>
 <CAHBySPYm6mFb=L4fj9VHGwqpgSjS_wQyZ4BxeRDBAumghPUpSA@mail.gmail.com>
 <b6c48547-b954-4d53-be3b-609bdb547531@Spark>
Message-ID: <26d87f81-4529-6a6f-eb5b-e379f32aceda@stripfamily.net>

An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220917/bd66a7b0/attachment.htm>

From schwehr at gmail.com  Sat Sep 17 09:53:12 2022
From: schwehr at gmail.com (Kurt Schwehr)
Date: Sat, 17 Sep 2022 09:53:12 -0700
Subject: [gdal-dev] odbc issue
In-Reply-To: <58699396.106601.1663325947952@mail1.libero.it>
References: <58699396.106601.1663325947952@mail1.libero.it>
Message-ID: <CACmBxyum7E3q2iw5WMwTfJtHxeQmQQAGgv25UbkfF0guq8_V0Q@mail.gmail.com>

Hi,

Is the original data in FileMaker?  If so, is there something about
FileMaker that you specifically need?  Like is a FileMaker archaeology app
that you need?  And are there more updates to the data coming?

I ask because, if the data is static and there isn't anything special in
the land of FileMaker that you can't get elsewhere, then maybe you can
convert one time to something like geopackage and be done with FileMaker.
Then you can use any tool that reads that format including QGIS.  That
would make the problem much simpler.

On Fri, Sep 16, 2022, 4:07 AM Marghe via gdal-dev <gdal-dev at lists.osgeo.org>
wrote:

> Good morning,
>
> I write because I?ve a big issue. I?m an italian archaeologist and I?m
> doing a PhD in an archaeological site in Spain. My project was based on
> doing a gis on this site, but after an year working on it, my Professor
> told me I need to create an automatic connection between Filemaker and
> QGIS, otherwise I won?t be allow to continue my Phd, that for me it?s kind
> of like life and death.
>
> After some months of attempts I was able to connect the softwares through
> ODBC (but there are some bugs and it works only using some specific
> versions), but currently only filemaker can dialogue with QGIS but not vice
> versa. I think that the issue is that ODBC driver that filemaker use for
> connecting to QGIS is ?read only?. I did some attempts also between
> filemaker and LibreOffice and I?ve the same issue, so I doubt could be that
> filemaker doesn?t give the permission for driver ?writ?.
>
> Anyway I read here (
> https://gdal.org/drivers/vector/odbc.html?fbclid=IwAR2mUiMTb9hsGLpDdSaSY_qnpny8DUTDKc49WVkPw4yvizBBnPB9JoOByX8#creation-issues)
> that could be also a QGIS issue, so I want to know what do you think about
> that and if this problem could be solved implementing that. My PhD is
> without scholarship (so I?m not paid for this), but I?m so desperate that
> I?m willing to pay for resolve this problem and, in this cane, I need to
> know how much would be.
>
> Thank you so much.
>
> Margherita Zannini
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220917/7eb26c3c/attachment.htm>

From bertelli at chartasrl.eu  Sun Sep 18 07:44:02 2022
From: bertelli at chartasrl.eu (Carlo A. Bertelli (Charta s.r.l.))
Date: Sun, 18 Sep 2022 16:44:02 +0200
Subject: [gdal-dev] odbc issue
Message-ID: <CALc8-VLvaP07bEHtH1xKHiQHn77E8Hj+W2F=SU=Aer6qk6ranQ@mail.gmail.com>

Dear Margherita,
what about increasing complexity and adding a true spatial database in the
middle?
You could use PostgreSQL as a shared database that works well with both. I
think both QGIS and FileMaker would benefit a lot by having an ORDBMS to
help them to manage data in a more efficient way. Using a database server
(any DBMS supported by both programs) would avoid lock-in and would open
other research groups to use the tool they prefer to handle their data.
c

On Fri, Sep 16, 2022 at 9:00 PM  Margherita Zannini (marghez9 at libero.it)
wrote:

>
> Date: Fri, 16 Sep 2022 12:59:07 +0200 (CEST)
> From: marghez9 at libero.it
> To: "gdal-dev at lists.osgeo.org" <gdal-dev at lists.osgeo.org>
> Subject: [gdal-dev] odbc issue
> Message-ID: <58699396.106601.1663325947952 at mail1.libero.it>
> Content-Type: text/plain; charset="utf-8"
>
>
>  Good morning,
>
>
>  I write because I?ve a big issue. I?m an italian archaeologist and I?m
> doing a PhD in an archaeological site in Spain. My project was based on
> doing a gis on this site, but after an year working on it, my Professor
> told me I need to create an automatic connection between Filemaker and
> QGIS, otherwise I won?t be allow to continue my Phd, that for me it?s kind
> of like life and death.
>
>
>  After some months of attempts I was able to connect the softwares through
> ODBC (but there are some bugs and it works only using some specific
> versions), but currently only filemaker can dialogue with QGIS but not vice
> versa. I think that the issue is that ODBC driver that filemaker use for
> connecting to QGIS is ?read only?. I did some attempts also between
> filemaker and LibreOffice and I?ve the same issue, so I doubt could be that
> filemaker doesn?t give the permission for driver ?writ?.
>
>
>  Anyway I read here (
> https://gdal.org/drivers/vector/odbc.html?fbclid=IwAR2mUiMTb9hsGLpDdSaSY_qnpny8DUTDKc49WVkPw4yvizBBnPB9JoOByX8#creation-issues)
> that could be also a QGIS issue, so I want to know what do you think about
> that and if this problem could be solved implementing that. My PhD is
> without scholarship (so I?m not paid for this), but I?m so desperate that
> I?m willing to pay for resolve this problem and, in this cane, I need to
> know how much would be.
>
>
>  Thank you so much.
>
>
>  Margherita Zannini
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220918/4d43cf59/attachment.htm>

From even.rouault at spatialys.com  Sun Sep 18 21:04:28 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 19 Sep 2022 06:04:28 +0200
Subject: [gdal-dev] [SOLVED] Re:  missing docker images for 3.5.2
In-Reply-To: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>
References: <CADRrdKtT5T1PiYpAt1Ywm6uFNBJduaGW19OYD7z7sFFaxJ5J5g@mail.gmail.com>
Message-ID: <d59d1776-73ff-c432-824e-8baa57d58bf7@spatialys.com>

Hi,

The images for 3.5.2 are now available: 
https://github.com/OSGeo/gdal/tree/master/docker#images-of-releases

Even

Le 14/09/2022 ? 19:56, Javier Jimenez Shaw a ?crit?:
> Hi
>
> There is only "alpine-normal-3.5.2" in docker hub for GDAL 3.5.2:
> https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5 
> <https://hub.docker.com/r/osgeo/gdal/tags?page=1&name=3.5>
>
> but many for 3.5.1 (like ubuntu)
>
> Is that intentional?
>
> Thanks,
> Javier.
> .___ ._ ..._ .. . ._. .___ .. __ . _. . __..? ... .... ._ .__
> Entre dos pensamientos racionales
> hay infinitos pensamientos irracionales.
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220919/4927f217/attachment.htm>

From mcalzado at carto.com  Mon Sep 19 04:07:55 2022
From: mcalzado at carto.com (Moises Calzado)
Date: Mon, 19 Sep 2022 13:07:55 +0200
Subject: [gdal-dev] (no subject)
Message-ID: <CAObRW4Qm=46_gi=PMP0zt3DDaFEN0p920tVDv2KrznD7_gk-ew@mail.gmail.com>

Hello everyone,

We're performing some tests with ogrinfo trying to read GPKG files, and
we're facing some issues executing the command with remote GPKG files in
WAL mode. As can be checked in the following command output, ogr fails
while reading the file content:

ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has GPKG
> application_id, but non conformant file extension ERROR 1: unable to open
> database file: this file is a WAL-enabled database. It cannot be opened
> because it is presumably read-only or in a read-only directory. ERROR 1:
> Only read-only mode is supported for /vsicurl


What is strange here is that the same file works correctly if we execute
the command using the downloaded file.

Is there any way we can execute the command using a remote file?

Thanks so much in advance,
Kind regards!
-- 
*Moises Calzado*

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com
<https://spatial-data-science-conference.com/2022/newyork/>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220919/6fbbc7d1/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Sep 19 04:25:30 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 19 Sep 2022 11:25:30 +0000
Subject: [gdal-dev] (no subject)
Message-ID: <AM0PR09MB32193CA9F9ED8A5F4EF0D38AFD4D9@AM0PR09MB3219.eurprd09.prod.outlook.com>

Hi,

Read https://www.sqlite.org/wal.html. I suggest to change the journal mode into the default mode before inserting the GPKG file into server. How to: Execute "PRAGMA journal_mode=DELETE". I tested that it will now work:

INFO: Open of `/vsicurl/http://localhost:8060/SuomenHallinnollisetKuntajakopohjaisetAluejaot_2022_10k.gpkg'
      using driver `GPKG' successful.
1: Aluehallintovirasto
2: Valtakunta
3: Maakunta
4: Kunta

If the GPKG file in WAL mode is already placed on the server it might be possible to open it somehow as "immutable". I do not know how to do that with GDAL.

-Jukka Rahkonen-


L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Moises Calzado via gdal-dev
L?hetetty: maanantai 19. syyskuuta 2022 14.08
Vastaanottaja: gdal-dev at lists.osgeo.org
Aihe: [gdal-dev] (no subject)


Hello everyone,

We're performing some tests with ogrinfo trying to read GPKG files, and we're facing some issues executing the command with remote GPKG files in WAL mode. As can be checked in the following command output, ogr fails while reading the file content:

ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has GPKG application_id, but non conformant file extension ERROR 1: unable to open database file: this file is a WAL-enabled database. It cannot be opened because it is presumably read-only or in a read-only directory. ERROR 1: Only read-only mode is supported for /vsicurl

What is strange here is that the same file works correctly if we execute the command using the downloaded file.

Is there any way we can execute the command using a remote file?

Thanks so much in advance,
Kind regards!
--
Moises Calzado

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com<mailto:mcalzado at carto.com>
[https://storage.googleapis.com/carto-it-files/signature/SDSC-2022-NY_Signature-mini.jpg]<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fspatial-data-science-conference.com%2F2022%2Fnewyork%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C59c27b74927549e7612f08da9a2f47d9%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991825108785824%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=hAhLefsE2N2%2ByrpGgP%2F%2FH1Hwqi9WeTUK6Onk10RkbsM%3D&reserved=0>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220919/4a3133e6/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Sep 19 05:07:36 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 19 Sep 2022 12:07:36 +0000
Subject: [gdal-dev] (no subject)
Message-ID: <AM0PR09MB32194191F386A38D943A8506FD4D9@AM0PR09MB3219.eurprd09.prod.outlook.com>

Hi,

What do you mean by processing? Http users cannot edit anything in any case. Do you edit the GPKG file locally at the same time? "Immutable" could be a solution if GDAL can support it somehow, but if the database is edited at the same it does not feel right. Taken from the SQLite documentation:
"immutable: The immutable parameter is a boolean query parameter that indicates that the database file is stored on read-only media. When immutable is set, SQLite assumes that the database file cannot be changed, even by a process with higher privilege, and so the database is opened read-only and all locking and change detection is disabled. Caution: Setting the immutable property on a database file that does in fact change can result in incorrect query results and/or SQLITE_CORRUPT errors. See also: SQLITE_IOCAP_IMMUTABLE."

Do you have some good reason not to change the pragma?

-Jukka Rahkonen-

L?hett?j?: Moises Calzado <mcalzado at carto.com>
L?hetetty: maanantai 19. syyskuuta 2022 14.46
Vastaanottaja: Rahkonen Jukka <jukka.rahkonen at maanmittauslaitos.fi>
Aihe: Re: [gdal-dev] (no subject)

Hi Jukka,

Thanks so much for taking a look at this! We already tried to change the journal mode, and it works as expected, but we would like to know if there is any way of processing this files without changing anything on the file.

El lun, 19 sept 2022 a las 13:25, Rahkonen Jukka (<jukka.rahkonen at maanmittauslaitos.fi<mailto:jukka.rahkonen at maanmittauslaitos.fi>>) escribi?:
Hi,

Read https://www.sqlite.org/wal.html<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.sqlite.org%2Fwal.html&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C778702221d7043994bb408da9a3484f6%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991847599144072%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=dj6xkZhVJSYck6IqCVx85KcTxIuJHWR34O0BZ%2BNU3io%3D&reserved=0>. I suggest to change the journal mode into the default mode before inserting the GPKG file into server. How to: Execute "PRAGMA journal_mode=DELETE". I tested that it will now work:

INFO: Open of `/vsicurl/http://localhost:8060/SuomenHallinnollisetKuntajakopohjaisetAluejaot_2022_10k.gpkg'
      using driver `GPKG' successful.
1: Aluehallintovirasto
2: Valtakunta
3: Maakunta
4: Kunta

If the GPKG file in WAL mode is already placed on the server it might be possible to open it somehow as "immutable". I do not know how to do that with GDAL.

-Jukka Rahkonen-


L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> Puolesta Moises Calzado via gdal-dev
L?hetetty: maanantai 19. syyskuuta 2022 14.08
Vastaanottaja: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] (no subject)


Hello everyone,

We're performing some tests with ogrinfo trying to read GPKG files, and we're facing some issues executing the command with remote GPKG files in WAL mode. As can be checked in the following command output, ogr fails while reading the file content:

ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has GPKG application_id, but non conformant file extension ERROR 1: unable to open database file: this file is a WAL-enabled database. It cannot be opened because it is presumably read-only or in a read-only directory. ERROR 1: Only read-only mode is supported for /vsicurl

What is strange here is that the same file works correctly if we execute the command using the downloaded file.

Is there any way we can execute the command using a remote file?

Thanks so much in advance,
Kind regards!
--
Moises Calzado

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com<mailto:mcalzado at carto.com>
[https://storage.googleapis.com/carto-it-files/signature/SDSC-2022-NY_Signature-mini.jpg]<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fspatial-data-science-conference.com%2F2022%2Fnewyork%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C778702221d7043994bb408da9a3484f6%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991847599144072%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=m0xGittslja0%2BX5e8yNAmv6XZSk9FQJU0yNEZdZwO9I%3D&reserved=0>


--
Moises Calzado

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com<mailto:mcalzado at carto.com>
[https://storage.googleapis.com/carto-it-files/signature/SDSC-2022-NY_Signature-mini.jpg]<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fspatial-data-science-conference.com%2F2022%2Fnewyork%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C778702221d7043994bb408da9a3484f6%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991847599144072%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=m0xGittslja0%2BX5e8yNAmv6XZSk9FQJU0yNEZdZwO9I%3D&reserved=0>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220919/261ed892/attachment-0001.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Mon Sep 19 06:31:50 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 19 Sep 2022 13:31:50 +0000
Subject: [gdal-dev] (no subject)
Message-ID: <AM0PR09MB321983C49AD4323C9F741378FD4D9@AM0PR09MB3219.eurprd09.prod.outlook.com>

Could you write a server side script that runs the ogrinfo command with r/w rights to the upload directory?

-Jukka Rahkonen-

L?hett?j?: Moises Calzado <mcalzado at carto.com>
L?hetetty: maanantai 19. syyskuuta 2022 16.00
Vastaanottaja: Rahkonen Jukka <jukka.rahkonen at maanmittauslaitos.fi>
Aihe: Re: [gdal-dev] (no subject)

Oh no! We use ogrinfo to check the file type, as these files are uploaded by other users into a GCS bucket.
We don't apply any change to these files, as we just check them with ogrinfo to perform other operations afterwards, so that's why we can't change the journal mode before executing the ogrinfo command.
If there's no way that we can complete this without modifying it, we'll think about an alternative solution!

Thanks so much for your help!

El lun, 19 sept 2022 a las 14:07, Rahkonen Jukka (<jukka.rahkonen at maanmittauslaitos.fi<mailto:jukka.rahkonen at maanmittauslaitos.fi>>) escribi?:
Hi,

What do you mean by processing? Http users cannot edit anything in any case. Do you edit the GPKG file locally at the same time? "Immutable" could be a solution if GDAL can support it somehow, but if the database is edited at the same it does not feel right. Taken from the SQLite documentation:
"immutable: The immutable parameter is a boolean query parameter that indicates that the database file is stored on read-only media. When immutable is set, SQLite assumes that the database file cannot be changed, even by a process with higher privilege, and so the database is opened read-only and all locking and change detection is disabled. Caution: Setting the immutable property on a database file that does in fact change can result in incorrect query results and/or SQLITE_CORRUPT errors. See also: SQLITE_IOCAP_IMMUTABLE."

Do you have some good reason not to change the pragma?

-Jukka Rahkonen-

L?hett?j?: Moises Calzado <mcalzado at carto.com<mailto:mcalzado at carto.com>>
L?hetetty: maanantai 19. syyskuuta 2022 14.46
Vastaanottaja: Rahkonen Jukka <jukka.rahkonen at maanmittauslaitos.fi<mailto:jukka.rahkonen at maanmittauslaitos.fi>>
Aihe: Re: [gdal-dev] (no subject)

Hi Jukka,

Thanks so much for taking a look at this! We already tried to change the journal mode, and it works as expected, but we would like to know if there is any way of processing this files without changing anything on the file.

El lun, 19 sept 2022 a las 13:25, Rahkonen Jukka (<jukka.rahkonen at maanmittauslaitos.fi<mailto:jukka.rahkonen at maanmittauslaitos.fi>>) escribi?:
Hi,

Read https://www.sqlite.org/wal.html<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.sqlite.org%2Fwal.html&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C92f8891853344ee1f57008da9a3ee90a%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991892247543363%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=pa6FZF5AI0XqoyrfkqiqhWhsbfpzBMopKuk%2FSWB9kE4%3D&reserved=0>. I suggest to change the journal mode into the default mode before inserting the GPKG file into server. How to: Execute "PRAGMA journal_mode=DELETE". I tested that it will now work:

INFO: Open of `/vsicurl/http://localhost:8060/SuomenHallinnollisetKuntajakopohjaisetAluejaot_2022_10k.gpkg'
      using driver `GPKG' successful.
1: Aluehallintovirasto
2: Valtakunta
3: Maakunta
4: Kunta

If the GPKG file in WAL mode is already placed on the server it might be possible to open it somehow as "immutable". I do not know how to do that with GDAL.

-Jukka Rahkonen-


L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org>> Puolesta Moises Calzado via gdal-dev
L?hetetty: maanantai 19. syyskuuta 2022 14.08
Vastaanottaja: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Aihe: [gdal-dev] (no subject)


Hello everyone,

We're performing some tests with ogrinfo trying to read GPKG files, and we're facing some issues executing the command with remote GPKG files in WAL mode. As can be checked in the following command output, ogr fails while reading the file content:

ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has GPKG application_id, but non conformant file extension ERROR 1: unable to open database file: this file is a WAL-enabled database. It cannot be opened because it is presumably read-only or in a read-only directory. ERROR 1: Only read-only mode is supported for /vsicurl

What is strange here is that the same file works correctly if we execute the command using the downloaded file.

Is there any way we can execute the command using a remote file?

Thanks so much in advance,
Kind regards!
--
Moises Calzado

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com<mailto:mcalzado at carto.com>
[https://storage.googleapis.com/carto-it-files/signature/SDSC-2022-NY_Signature-mini.jpg]<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fspatial-data-science-conference.com%2F2022%2Fnewyork%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C92f8891853344ee1f57008da9a3ee90a%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991892247543363%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=lmr8XyGPICyCHyat8AVJMRQsSMvODOLuoQiIwkpJRxw%3D&reserved=0>


--
Moises Calzado

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com<mailto:mcalzado at carto.com>
[https://storage.googleapis.com/carto-it-files/signature/SDSC-2022-NY_Signature-mini.jpg]<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fspatial-data-science-conference.com%2F2022%2Fnewyork%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C92f8891853344ee1f57008da9a3ee90a%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991892247699606%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=8BVavG0DX3ruJ%2BxvP3c0rNuF8FowsmjzmKC2Huf7u9w%3D&reserved=0>


--
Moises Calzado

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com<mailto:mcalzado at carto.com>
[https://storage.googleapis.com/carto-it-files/signature/SDSC-2022-NY_Signature-mini.jpg]<https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fspatial-data-science-conference.com%2F2022%2Fnewyork%2F&data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C92f8891853344ee1f57008da9a3ee90a%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991892247699606%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&sdata=8BVavG0DX3ruJ%2BxvP3c0rNuF8FowsmjzmKC2Huf7u9w%3D&reserved=0>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220919/98d40f43/attachment-0001.htm>

From andrew at aitchison.me.uk  Mon Sep 19 07:17:31 2022
From: andrew at aitchison.me.uk (Andrew C Aitchison)
Date: Mon, 19 Sep 2022 15:17:31 +0100 (BST)
Subject: [gdal-dev] (no subject)
In-Reply-To: <CAObRW4Qm=46_gi=PMP0zt3DDaFEN0p920tVDv2KrznD7_gk-ew@mail.gmail.com>
References: <CAObRW4Qm=46_gi=PMP0zt3DDaFEN0p920tVDv2KrznD7_gk-ew@mail.gmail.com>
Message-ID: <d282aa9d-974-3030-230-5bbc4cc758fc@aitchison.me.uk>

On Mon, 19 Sep 2022, Moises Calzado via gdal-dev wrote:

> Hello everyone,
>
> We're performing some tests with ogrinfo trying to read GPKG files, and
> we're facing some issues executing the command with remote GPKG files in
> WAL mode. As can be checked in the following command output, ogr fails
> while reading the file content:
>
> ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has GPKG
>> application_id, but non conformant file extension ERROR 1: unable to open
>> database file: this file is a WAL-enabled database. It cannot be opened
>> because it is presumably read-only or in a read-only directory. ERROR 1:
>> Only read-only mode is supported for /vsicurl
>
>
> What is strange here is that the same file works correctly if we execute
> the command using the downloaded file.
>
> Is there any way we can execute the command using a remote file?

'man ogrinfo' includes the option:
        -ro    Open the data source in read-only mode.

So, have you tried
 	ogrinfo -ro /vsicurl/MY_FILE_URL
?


-- 
Andrew C. Aitchison                      Kendal, UK
                    andrew at aitchison.me.uk

From jukka.rahkonen at maanmittauslaitos.fi  Mon Sep 19 07:31:53 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Mon, 19 Sep 2022 14:31:53 +0000
Subject: [gdal-dev] (no subject)
Message-ID: <AM0PR09MB32196F66E6519C2E23B270B9FD4D9@AM0PR09MB3219.eurprd09.prod.outlook.com>

I have, it does not help if the journal mode is WAL. 

ogrinfo /vsicurl/"http://localhost:8060/SuomenHallinnollisetKuntajakopohjaisetAluejaot_2022_10k.gpkg" -ro
ERROR 1: unable to open database file: this file is a WAL-enabled database. It cannot be opened because it is presumably read-only or in a read-only directory.

-Jukka Rahkonen-

-----Alkuper?inen viesti-----
L?hett?j?: gdal-dev <gdal-dev-bounces at lists.osgeo.org> Puolesta Andrew C Aitchison
L?hetetty: maanantai 19. syyskuuta 2022 17.18
Vastaanottaja: Moises Calzado <mcalzado at carto.com>
Kopio: gdal-dev at lists.osgeo.org
Aihe: Re: [gdal-dev] (no subject)

On Mon, 19 Sep 2022, Moises Calzado via gdal-dev wrote:

> Hello everyone,
>
> We're performing some tests with ogrinfo trying to read GPKG files, 
> and we're facing some issues executing the command with remote GPKG 
> files in WAL mode. As can be checked in the following command output, 
> ogr fails while reading the file content:
>
> ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has GPKG
>> application_id, but non conformant file extension ERROR 1: unable to 
>> open database file: this file is a WAL-enabled database. It cannot be 
>> opened because it is presumably read-only or in a read-only directory. ERROR 1:
>> Only read-only mode is supported for /vsicurl
>
>
> What is strange here is that the same file works correctly if we 
> execute the command using the downloaded file.
>
> Is there any way we can execute the command using a remote file?

'man ogrinfo' includes the option:
        -ro    Open the data source in read-only mode.

So, have you tried
 	ogrinfo -ro /vsicurl/MY_FILE_URL
?


-- 
Andrew C. Aitchison                      Kendal, UK
                    andrew at aitchison.me.uk _______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
https://eur06.safelinks.protection.outlook.com/?url=https%3A%2F%2Flists.osgeo.org%2Fmailman%2Flistinfo%2Fgdal-dev&amp;data=05%7C01%7Cjukka.rahkonen%40maanmittauslaitos.fi%7C19520984e6db45c9348708da9a4b1be2%7Cc4f8a63255804a1c92371d5a571b71fa%7C0%7C0%7C637991944628587871%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=vUEpaIT8yFEr%2Bc77371qb2NVR1K1YQNGbBcTBHU70P8%3D&amp;reserved=0

From lelong.ph at meltemus.com  Mon Sep 19 22:54:18 2022
From: lelong.ph at meltemus.com (Philippe Lelong)
Date: Tue, 20 Sep 2022 05:54:18 +0000
Subject: [gdal-dev] Gdal/Proj builds on iOS
Message-ID: <baca64dbabc7496fa63217a9b54aef59@meltemus.com>

Hi,


We have a strange issue with our GDAL build for iOS (GDAL 3.4.1, PROJ6). Everything is fine when running on iOS 15 or 16, but when the same app is run on iOS 14 or 12 the app will not load at all (does not even reach main) and the only thing I can see in a console is this:


dyld: Symbol not found: __ZTTNSt3__114basic_ifstreamIcNS_11char_traitsIcEEEE


If I remove completely GDAL libs from the app it works, so I know this is a dependency coming for GDAL, and a grep "char_traits" in all our libs returns libgdal.a and libproj.a only.


I can join more logs from configure or build if needed.


Any idea what is wrong here ?


Thanks

Philippe.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/45f4a1e7/attachment.htm>

From peter.petrik at lutraconsulting.co.uk  Mon Sep 19 23:35:40 2022
From: peter.petrik at lutraconsulting.co.uk (Peter Petrik)
Date: Tue, 20 Sep 2022 08:35:40 +0200
Subject: [gdal-dev] Gdal/Proj builds on iOS
In-Reply-To: <baca64dbabc7496fa63217a9b54aef59@meltemus.com>
References: <baca64dbabc7496fa63217a9b54aef59@meltemus.com>
Message-ID: <CA+T_Ms+eZUkYicPy72Le9f=+909vtBCKTx-tbjZtc1z27kC8Pw@mail.gmail.com>

Hi Philippe,

iOS links all the stuff statically, so there are sometimes clashes of
symbols. You can look at how we build it for Mergin Maps here:
https://github.com/MerginMaps/input-sdk/tree/master/ios/recipes

Kind Regards,
Peter Petr?k
CPO of Mergin Maps
LI <https://www.linkedin.com/in/peter-petrik/>, Mergin Maps
<https://www.merginmaps.com>





On Tue, Sep 20, 2022 at 8:31 AM Philippe Lelong <lelong.ph at meltemus.com>
wrote:

> Hi,
>
>
> We have a strange issue with our GDAL build for iOS (GDAL 3.4.1, PROJ6).
> Everything is fine when running on iOS 15 or 16, but when the same app is
> run on iOS 14 or 12 the app will not load at all (does not even reach
> main) and the only thing I can see in a console is this:
>
>
> dyld: Symbol not found:
> __ZTTNSt3__114basic_ifstreamIcNS_11char_traitsIcEEEE
>
>
> If I remove completely GDAL libs from the app it works, so I know this is
> a dependency coming for GDAL, and a grep "char_traits" in all our libs
> returns libgdal.a and libproj.a only.
>
>
> I can join more logs from configure or build if needed.
>
>
> Any idea what is wrong here ?
>
>
> Thanks
>
> Philippe.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/78dff599/attachment.htm>

From lelong.ph at meltemus.com  Tue Sep 20 01:46:54 2022
From: lelong.ph at meltemus.com (Philippe Lelong)
Date: Tue, 20 Sep 2022 08:46:54 +0000
Subject: [gdal-dev] Gdal/Proj builds on iOS
In-Reply-To: <CA+T_Ms+eZUkYicPy72Le9f=+909vtBCKTx-tbjZtc1z27kC8Pw@mail.gmail.com>
References: <baca64dbabc7496fa63217a9b54aef59@meltemus.com>,
 <CA+T_Ms+eZUkYicPy72Le9f=+909vtBCKTx-tbjZtc1z27kC8Pw@mail.gmail.com>
Message-ID: <39d047cc5ed0423d9b301af357e3788c@meltemus.com>

Hi,


I finally found the solution, I had to export my deployment target.


I just added in my build scripts for PROJ and GDAL:


export IOS_DEPLOYMENT_TARGET=12 and (to be sure) export IPHONEOS_DEPLOYMENT_TARGET=12


And all good!


Thanks again
Philippe


________________________________
From: Peter Petrik <peter.petrik at lutraconsulting.co.uk>
Sent: Tuesday, September 20, 2022 8:35 AM
To: Philippe Lelong
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Gdal/Proj builds on iOS

Hi Philippe,

iOS links all the stuff statically, so there are sometimes clashes of symbols. You can look at how we build it for Mergin Maps here: https://github.com/MerginMaps/input-sdk/tree/master/ios/recipes

Kind Regards,
Peter Petr?k
CPO of Mergin Maps
LI<https://www.linkedin.com/in/peter-petrik/>, Mergin Maps<https://www.merginmaps.com>





On Tue, Sep 20, 2022 at 8:31 AM Philippe Lelong <lelong.ph at meltemus.com<mailto:lelong.ph at meltemus.com>> wrote:

Hi,


We have a strange issue with our GDAL build for iOS (GDAL 3.4.1, PROJ6). Everything is fine when running on iOS 15 or 16, but when the same app is run on iOS 14 or 12 the app will not load at all (does not even reach main) and the only thing I can see in a console is this:


dyld: Symbol not found: __ZTTNSt3__114basic_ifstreamIcNS_11char_traitsIcEEEE


If I remove completely GDAL libs from the app it works, so I know this is a dependency coming for GDAL, and a grep "char_traits" in all our libs returns libgdal.a and libproj.a only.


I can join more logs from configure or build if needed.


Any idea what is wrong here ?


Thanks

Philippe.

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/3b0eaaeb/attachment.htm>

From lelong.ph at meltemus.com  Tue Sep 20 00:40:56 2022
From: lelong.ph at meltemus.com (Philippe Lelong)
Date: Tue, 20 Sep 2022 07:40:56 +0000
Subject: [gdal-dev] Gdal/Proj builds on iOS
In-Reply-To: <CA+T_Ms+eZUkYicPy72Le9f=+909vtBCKTx-tbjZtc1z27kC8Pw@mail.gmail.com>
References: <baca64dbabc7496fa63217a9b54aef59@meltemus.com>,
 <CA+T_Ms+eZUkYicPy72Le9f=+909vtBCKTx-tbjZtc1z27kC8Pw@mail.gmail.com>
Message-ID: <dd67b4e390be40a28083a127b807f6b9@meltemus.com>

Thanks Peter,


I have tried various combinaisons of "rename-internal" symbols and hide-internal-symbols yes/no and with/without png and some other guesses but couldn't fix it.


Here is my current configure (for iOS Simulator, works great on iOS 15 or 16, but not on iOS 12 or 14).


./configure --prefix=/Users/philippelelong/Documents/gdal/gdal_ios_simulator \
            --disable-shared --enable-static \
            --without-sqlite3 \
            --without-ld-shared \
            --without-libtool \
            --with-threads \
            --without-geos \
            --with-libz=internal \
            --with-libtiff=internal \
            --with-geotiff=internal \
            --with-expat=/Users/philippelelong/Documents/libexpat-R_2_4_8/expat/expat_ios_simulator \
            --disable-all-optional-drivers \
            --enable-driver-bsb \
            --enable-driver-iso8211 \
            --enable-driver-s57 \
            --enable-driver-shape \
            --with-png \
            --with-jpeg=no \
            --with-curl=no \
            --with-sqlite3=no \
            --with-hide-internal-symbols=yes \
            --with-proj=/Users/philippelelong/Documents/gdal/proj6_ios_simulator --host=$host

--Philippe


________________________________
From: Peter Petrik <peter.petrik at lutraconsulting.co.uk>
Sent: Tuesday, September 20, 2022 8:35 AM
To: Philippe Lelong
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Gdal/Proj builds on iOS

Hi Philippe,

iOS links all the stuff statically, so there are sometimes clashes of symbols. You can look at how we build it for Mergin Maps here: https://github.com/MerginMaps/input-sdk/tree/master/ios/recipes

Kind Regards,
Peter Petr?k
CPO of Mergin Maps
LI<https://www.linkedin.com/in/peter-petrik/>, Mergin Maps<https://www.merginmaps.com>





On Tue, Sep 20, 2022 at 8:31 AM Philippe Lelong <lelong.ph at meltemus.com<mailto:lelong.ph at meltemus.com>> wrote:

Hi,


We have a strange issue with our GDAL build for iOS (GDAL 3.4.1, PROJ6). Everything is fine when running on iOS 15 or 16, but when the same app is run on iOS 14 or 12 the app will not load at all (does not even reach main) and the only thing I can see in a console is this:


dyld: Symbol not found: __ZTTNSt3__114basic_ifstreamIcNS_11char_traitsIcEEEE


If I remove completely GDAL libs from the app it works, so I know this is a dependency coming for GDAL, and a grep "char_traits" in all our libs returns libgdal.a and libproj.a only.


I can join more logs from configure or build if needed.


Any idea what is wrong here ?


Thanks

Philippe.

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
https://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/db61eaca/attachment-0001.htm>

From mcalzado at carto.com  Tue Sep 20 09:06:43 2022
From: mcalzado at carto.com (Moises Calzado)
Date: Tue, 20 Sep 2022 18:06:43 +0200
Subject: [gdal-dev] ogr2ogr error: ERROR 1: Maximum number of characters
 allowed reached.
Message-ID: <CAObRW4TDnkQHFFH7LN94WRD3JVwB6f12W0=OmOo4UfDSTGWKKw@mail.gmail.com>

Hello everyone,

We're facing some issues working with ogr2ogr in the 3.5.1 version, as
we've found a dataset that provokes the following error during the
execution of the following command:

ogr2ogr -f CSV -skipfailures -makevalid /vsistdout/
> CSV:munic_s_anonymized.csv -simplify 0.00001 -dim XY -t_srs EPSG:4326 -lco
> GEOMETRY=AS_WKT -lco GEOMETRY_NAME=geom -lco CREATE_CSVT=YES > test.csv


The error that is thrown by ogr2ogr is the following one:

ERROR 1: Maximum number of characters allowed reached.


And when it appears, the process stops processing data. We've been able to
launch the process without any issue on GDAL 3.2.2, so we don't know if
something has changes or if it's an unexpected behaviour. Have you seen a
similar error in the latest versions of GDAL?

If you want to reproduce it there is a link to the file
<https://drive.google.com/file/d/1nG1kHqG6bLXBV_aOaPreDW4674ufdNjy/view?usp=sharing>
that provoked this error.

Thanks so much in advance,
Kind regards.
-- 
*Moises Calzado*

Support Engineer

(US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com
<https://spatial-data-science-conference.com/2022/newyork/>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/0649bb2f/attachment.htm>

From even.rouault at spatialys.com  Tue Sep 20 09:41:30 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 20 Sep 2022 18:41:30 +0200
Subject: [gdal-dev] ogr2ogr error: ERROR 1: Maximum number of characters
 allowed reached.
In-Reply-To: <CAObRW4TDnkQHFFH7LN94WRD3JVwB6f12W0=OmOo4UfDSTGWKKw@mail.gmail.com>
References: <CAObRW4TDnkQHFFH7LN94WRD3JVwB6f12W0=OmOo4UfDSTGWKKw@mail.gmail.com>
Message-ID: <c233e5f3-9ddc-081f-7478-be6ffa869002@spatialys.com>

Moises,

there's a limit for the maximum size of a line to 1 MB that was added 
some time ago (post 3.2.2). I've increased it to 10 million bytes in 
https://github.com/OSGeo/gdal/pull/6403 and also added an open option to 
make it configurable.

Even

Le 20/09/2022 ? 18:06, Moises Calzado via gdal-dev a ?crit?:
> Hello everyone,
>
> We're facing some issues working with ogr2ogr in the 3.5.1 version, as 
> we've found a dataset that provokes the following error during the 
> execution of the following command:
>
>     ogr2ogr -f CSV -skipfailures -makevalid /vsistdout/
>     CSV:munic_s_anonymized.csv -simplify 0.00001 -dim XY -t_srs
>     EPSG:4326 -lco GEOMETRY=AS_WKT -lco GEOMETRY_NAME=geom -lco
>     CREATE_CSVT=YES > test.csv
>
>
> The error that is thrown by ogr2ogr is the following one:
>
>     ERROR 1: Maximum number of characters allowed reached.
>
>
> And when it appears, the process stops processing data. We've been 
> able to launch the process without any issue on GDAL 3.2.2, so we 
> don't know if something has changes or if it's an unexpected 
> behaviour. Have you seen a similar error in the latest?versions of GDAL?
>
> If you want to reproduce it there is a link to the file 
> <https://drive.google.com/file/d/1nG1kHqG6bLXBV_aOaPreDW4674ufdNjy/view?usp=sharing> 
> that provoked this error.
>
> Thanks so much in advance,
> Kind regards.
> -- 
> *Moises Calzado*
>
> Support Engineer
>
> (US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com
>
> <https://spatial-data-science-conference.com/2022/newyork/>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/df8d188a/attachment.htm>

From even.rouault at spatialys.com  Tue Sep 20 13:59:45 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 20 Sep 2022 22:59:45 +0200
Subject: [gdal-dev] (no subject)
In-Reply-To: <CAObRW4Qm=46_gi=PMP0zt3DDaFEN0p920tVDv2KrznD7_gk-ew@mail.gmail.com>
References: <CAObRW4Qm=46_gi=PMP0zt3DDaFEN0p920tVDv2KrznD7_gk-ew@mail.gmail.com>
Message-ID: <57cc5c5b-d2df-d70d-1b11-4b7dd23ddc83@spatialys.com>

Hi,

addressed per https://github.com/OSGeo/gdal/pull/6407

Even

Le 19/09/2022 ? 13:07, Moises Calzado via gdal-dev a ?crit?:
>
> Hello everyone,
>
> We're performing some tests with ogrinfo trying to read GPKG files, 
> and we're facing some issues executing the command with remote GPKG 
> files in WAL mode. As can be checked in the following command output, 
> ogr fails while reading the file content:
>
>     ERROR: Error: Command failed: ogrinfo /vsicurl/MY_FILE_URL has
>     GPKG application_id, but non conformant file extension ERROR 1:
>     unable to open database file: this file is a WAL-enabled database.
>     It cannot be opened because it is presumably read-only or in a
>     read-only directory. ERROR 1: Only read-only mode is supported for
>     /vsicurl
>
>
> What is strange here is that the same file works correctly if we 
> execute the command using the downloaded file.
>
> Is there any way we can execute the command using a remote file?
>
> Thanks so much in advance,
> Kind regards!
> -- 
> *Moises Calzado*
>
> Support Engineer
>
> (US) +1 917 463 3232 | (ES) +34 911 165 823 | mcalzado at carto.com
>
> <https://spatial-data-science-conference.com/2022/newyork/>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220920/9abfe9ab/attachment.htm>

From edward.hiscoke at sogeti.se  Thu Sep 22 03:05:49 2022
From: edward.hiscoke at sogeti.se (Hiscoke, Edward)
Date: Thu, 22 Sep 2022 10:05:49 +0000
Subject: [gdal-dev] Are noData values ignored when resampling an image using
 the bilinear algorithm in gdal.warp?
Message-ID: <AM9PR02MB6756AB217A24889B510223159E4E9@AM9PR02MB6756.eurprd02.prod.outlook.com>

Hi all,
I have a question about resampling using gdal.warp from Python.
I'm doing a bilinear resampling of the bands of a Sentinel 2 image to match resolutions between bands. My question is if using bilinear sampling will include noData value in the resampling calculation?
Looking at the documented available resampling methods, only near, bilinear, cubic, cubicspline, lanczos do not mention only using non-NODATA in their description.
Ideally nodata is nodata and should not be part of the calculation. But is this perhaps not possible for these calculations?

In the GDAL chat someone suggested creating a validity mask, resampling it to the correct resolution and then using it for filtering results, but that would perhaps not either give the correct results if noData is included in the calculation.

Kind regards, Edward Hiscoke

This message contains information that may be privileged or confidential and is the property of the Capgemini Group. It is intended only for the person to whom it is addressed. If you are not the intended recipient, you are not authorized to read, print, retain, copy, disseminate, distribute, or use this message or any part thereof. If you receive this message in error, please notify the sender immediately and delete all copies of this message.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220922/a57d9259/attachment.htm>

From killerm250m at gmail.com  Thu Sep 22 03:35:42 2022
From: killerm250m at gmail.com (Mohammed Aljezawi)
Date: Thu, 22 Sep 2022 13:35:42 +0300
Subject: [gdal-dev] Unable to change HTTP method type
Message-ID: <CAKzdFWQ5j8QL3=-k60wWMY0zg6pZ1+0PqE0sNu3xNPpMetH6DQ@mail.gmail.com>

I am trying to call an ESRI feature service with a long URL using the
ESRIJSON driver, an error appeared from the GIS server

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML
4.01//EN""[http://www.w3.org/TR/html4/strict.dtd">](http://www.w3.org/TR/html4/strict.dtd%22%3E)
<HTML><HEAD><TITLE>Request URL Too Long</TITLE>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=us-ascii"></HEAD>
<BODY><h2>Request URL Too Long</h2>
<hr><p>HTTP Error 414. The request URL is too long.</p>
</BODY></HTML>

I find out that i must change my request from GET to POST

How do i change my request from GET to POST
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220922/1c1224f3/attachment.htm>

From giohappy at gmail.com  Mon Sep 26 03:07:18 2022
From: giohappy at gmail.com (G. Allegri)
Date: Mon, 26 Sep 2022 12:07:18 +0200
Subject: [gdal-dev] LibKML driver always returns geometry (any) instead of
 the precise geometry type
Message-ID: <CAB4g1=yyvLWcHzTjqomikVQjaqgqPBdEGNYU5HYAyUtdCrfsVQ@mail.gmail.com>

I'm using ogr2ogr to import KML/KMZ files with GDAL 3.2.2 on Debian 11,
which is built with the LibKML driver.

>From our tests we see that this driver always reports KML folders as
GeometryCollection layers, even though they only contain a single geometry
type
On the other hand the KML driver is able to tell the right geometry type
for each folder. It returns GeometryCollection only
for folders containing mixed contents.

Using the sample KML from here
https://developers.google.com/static/kml/documentation/KML_Samples.kml

$ogrinfo KML_Samples.kml -so
INFO: Open of `KML_Samples.kml'
      using driver `LIBKML' successful.
1: Placemarks
2: Styles and Markup
3: Highlighted Icon
4: Ground Overlays
5: Screen Overlays
6: Paths
7: Polygons
8: Google Campus
9: Extruded Polygon
10: Absolute and Relative

Forcing ogr to use the KML driver we get the expected geometry types:

$export OGR_SKIP="LibKML"
$ogrinfo KML_Samples.kml -so
INFO: Open of `KML_Samples.kml'
      using driver `KML' successful.
1: Placemarks (3D Point)
2: Highlighted Icon (3D Point)
3: Paths (3D Line String)
4: Google Campus (3D Polygon)
5: Extruded Polygon (3D Polygon)
6: Absolute and Relative (3D Polygon)

The documentation for the LibKML driver says "OGR will try to map
<MultiGeometry> to the more precise OGR geometry type (MultiPoint,
MultiLineString or MultiPolygon), and default to GeometryCollection in case
of mixed content." (https://gdal.org/drivers/vector/libkml.html#geometry).

This example doesn't contain folders with mixed types. Does the driver
consider mixed content globally?

Giovanni
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220926/8fcb2fa5/attachment.htm>

From robert.coup at koordinates.com  Tue Sep 27 04:32:53 2022
From: robert.coup at koordinates.com (Robert Coup)
Date: Tue, 27 Sep 2022 12:32:53 +0100
Subject: [gdal-dev] Filesystem & Network access in
 OGRSpatialReference.SetFromUserInput()
Message-ID: <CAFLLRpLi8954BVYHqojaeaWhS_Sj2s44iufs2e3jXtex305k+w@mail.gmail.com>

Hi all,

Currently SetFromUserInput() accepts all sorts of things as input for
a CRS definition ? flavours of WKT, various EPSG/ESRI/etc identifiers
& combinations, OGC URNs/UR:s, Proj4 definitions, a set of static
names, and ProjJSON. As well, it accepts arbitrary http(s) urls & file
paths (including VSI paths), which may contain WKT/XML/PROJ4. (I
haven't looked whether the XML parser can then go on to load external
resources too)

This is certainly a useful function: a parser that accepts EPSG:1234,
compound CRSs (EPSG:1234+5678, and the same via URNs), WKT, and useful
names like "NAD27" is great.

While network & filesystem access can be disabled via the C++
interface, this isn't exposed to the C or SWIG bindings, and there's
no config override/defaults. GDAL does refuse to load large files, and
the results are then parsed as WKT/XML/etc so it's not trivial to
exploit, but nevertheless.

*Personally* I'd prefer an opt-in behaviour to any filesystem or
network access for functions which are pitched as swiss-army-knife
string parsers.

I understand there's backwards compatibility concerns at play, but
maybe some/all/any of:

1. Expose the ALLOW_NETWORK_ACCESS & ALLOW_FILESYSTEM_ACCESS
limitation options to SetFromUserInput() to the SWIG & C interfaces

2. Have a config option that sets the defaults for the limitations.

3. Swap the default limitations from allowing to denying at a future
release so users would need to opt-in.

4. Split out file/network access to separate functions.

Opinions & ideas most welcome.

Thanks,

Rob :)

From even.rouault at spatialys.com  Tue Sep 27 04:54:54 2022
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 27 Sep 2022 13:54:54 +0200
Subject: [gdal-dev] Filesystem & Network access in
 OGRSpatialReference.SetFromUserInput()
In-Reply-To: <CAFLLRpLi8954BVYHqojaeaWhS_Sj2s44iufs2e3jXtex305k+w@mail.gmail.com>
References: <CAFLLRpLi8954BVYHqojaeaWhS_Sj2s44iufs2e3jXtex305k+w@mail.gmail.com>
Message-ID: <2a6c287d-0471-f6af-4759-b4360fa73fa5@spatialys.com>

Robert,

Options 1, 2 and 3 sound reasonable to me.

For 3, you'd probably want to emit a deprecation warning during the 
transition period if the user relies on the functionality without having 
explicitly enabled it

For 4, the import from network exists as a separate function 
importFromUrl(), and that one is pretty much used for 
spatialreference.org (for the better or the worse given 
spatialreference.org not being updated since ages, but some MODIS 
products reference it...). There's no separate function for import from 
file (not sure how much this capability is used. gdalsrsinfo is one of 
the legitimate user of it I could think of)

 > I haven't looked whether the XML parser can then go on to load 
external resources too

This is our very simple cplminixml.cpp parser. It cannot load external 
resources.

Even

Le 27/09/2022 ? 13:32, Robert Coup a ?crit?:
> Hi all,
>
> Currently SetFromUserInput() accepts all sorts of things as input for
> a CRS definition ? flavours of WKT, various EPSG/ESRI/etc identifiers
> & combinations, OGC URNs/UR:s, Proj4 definitions, a set of static
> names, and ProjJSON. As well, it accepts arbitrary http(s) urls & file
> paths (including VSI paths), which may contain WKT/XML/PROJ4. (I
> haven't looked whether the XML parser can then go on to load external
> resources too)
>
> This is certainly a useful function: a parser that accepts EPSG:1234,
> compound CRSs (EPSG:1234+5678, and the same via URNs), WKT, and useful
> names like "NAD27" is great.
>
> While network & filesystem access can be disabled via the C++
> interface, this isn't exposed to the C or SWIG bindings, and there's
> no config override/defaults. GDAL does refuse to load large files, and
> the results are then parsed as WKT/XML/etc so it's not trivial to
> exploit, but nevertheless.
>
> *Personally* I'd prefer an opt-in behaviour to any filesystem or
> network access for functions which are pitched as swiss-army-knife
> string parsers.
>
> I understand there's backwards compatibility concerns at play, but
> maybe some/all/any of:
>
> 1. Expose the ALLOW_NETWORK_ACCESS & ALLOW_FILESYSTEM_ACCESS
> limitation options to SetFromUserInput() to the SWIG & C interfaces
>
> 2. Have a config option that sets the defaults for the limitations.
>
> 3. Swap the default limitations from allowing to denying at a future
> release so users would need to opt-in.
>
> 4. Split out file/network access to separate functions.
>
> Opinions & ideas most welcome.
>
> Thanks,
>
> Rob :)
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
http://www.spatialys.com
My software is free, but my time generally not.


From loic.lozach at inrae.fr  Wed Sep 28 01:05:44 2022
From: loic.lozach at inrae.fr (=?UTF-8?Q?Lo=c3=afc_Lozac=27h?=)
Date: Wed, 28 Sep 2022 10:05:44 +0200
Subject: [gdal-dev] Utilisation de Planetary Computer
Message-ID: <5cb979b8-c425-c5bf-8a0e-d9d22abe6b07@inrae.fr>

Bonjour,

Est-il possible d'utiliser la signature de la librairie python 
Planetary_Computer pour lire des COG depuis le catalogue STAC Microsoft ?

J'ai essay? plusieurs m?thode en utilisant /vsicurl/ mais les extended 
filenames associ? ? la signature ne sont pas reconnu.

Est-il possible de lire ces donn?es ? la mani?re de RasterIO ?

J'utilise gdal version 3.5.2

code python en erreur :

vsistr= "/vsicurl?pc_url_signing=yes&pc_collection=sentinel-2-l2a&url="
red_href= vsistr+ planetary_computer.sign(item).assets["B04"].href
cogtif= gdal.Open( red_href)

response :

Warning 6: Unsupported option: se
Warning 6: Unsupported option: sp
Warning 6: Unsupported option: sv
Warning 6: Unsupported option: sr
Warning 6: Unsupported option: skoid
Warning 6: Unsupported option: sktid
Warning 6: Unsupported option: skt
Warning 6: Unsupported option: ske
Warning 6: Unsupported option: sks
Warning 6: Unsupported option: skv
Warning 6: Unsupported option: sig
ERROR 11: HTTP response code: 403

code python ok :

withfiona.open(shp, "r") asshapefile:
shapes= [feature["geometry"] forfeatureinshapefile]
withrasterio.open(planetary_computer.sign(item).assets["B04"].href ) asds:
out_image, out_transform= rasterio.mask.mask(ds, shapes, crop=True)
out_meta= ds.meta
out_meta.update({"driver": "GTiff",
"height": out_image.shape[1],
"width": out_image.shape[2],
"transform": out_transform})
withrasterio.open(out, "w", **out_meta) asdest:
dest.write(out_image)

Merci pour vos r?ponses

Bien cordialement,

Lo?c
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220928/5f54c537/attachment.htm>

From jukka.rahkonen at maanmittauslaitos.fi  Wed Sep 28 12:57:35 2022
From: jukka.rahkonen at maanmittauslaitos.fi (Rahkonen Jukka)
Date: Wed, 28 Sep 2022 19:57:35 +0000
Subject: [gdal-dev] ogr2ogr: -clipsrc but select-only without clipping?
Message-ID: <AM0PR09MB3219985A544A5A4A4EFA0FFDFD549@AM0PR09MB3219.eurprd09.prod.outlook.com>

Hi,

I would like to use ogr2ogr for selecting all the features from the source layer that intersect with the reference layer but without computing the intersections. So fundamentally what the -spat option does but with more complicated geometries than BBOX. The -clipsrc option finds the right geometries but it also computes the intersections of the geometries and there is no way to avoid that.
I guess that something should be changed around https://github.com/OSGeo/gdal/blob/master/apps/ogr2ogr_lib.cpp#L4879 where the stolen geometry is changed into the clipped geometry.
I know I can use SQLite dialect by utilizing the  ST_Intersects function but SQL with JOIN gets a bit complicated.

-Jukka Rahkonen-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220928/eaf9327e/attachment.htm>

From osgeo.mailinglist at gmail.com  Fri Sep 30 03:46:11 2022
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Fri, 30 Sep 2022 12:46:11 +0200
Subject: [gdal-dev] Utilisation de Planetary Computer
In-Reply-To: <5cb979b8-c425-c5bf-8a0e-d9d22abe6b07@inrae.fr>
References: <5cb979b8-c425-c5bf-8a0e-d9d22abe6b07@inrae.fr>
Message-ID: <CACPZzQ2AnU+Cr4iq5-2RNkDBzTPm4WOJ96eQUsCC8+OXQz+y4g@mail.gmail.com>

Hi,

Answer in English although I understand French (after all an english
speaking list here)

You can:

Instead of

vsistr = "/vsicurl?pc_url_signing=yes&pc_collection=sentinel-2-l2a&url="
red_href = vsistr + planetary_computer.sign(item).assets["B04"].href
cogtif = gdal.Open( red_href )

use

red_href = f"/vsicurl/{planetary_computer.sign(item).assets["B04"].href
}&pc_url_signing=yes&pc_collection=sentinel-2-l2a"
cogtif = gdal.Open( red_href )

Regards

Thomas Gratier

Le mer. 28 sept. 2022 ? 10:12, Lo?c Lozac'h <loic.lozach at inrae.fr> a ?crit :

> Bonjour,
>
> Est-il possible d'utiliser la signature de la librairie python
> Planetary_Computer pour lire des COG depuis le catalogue STAC Microsoft ?
>
> J'ai essay? plusieurs m?thode en utilisant /vsicurl/ mais les extended
> filenames associ? ? la signature ne sont pas reconnu.
>
> Est-il possible de lire ces donn?es ? la mani?re de RasterIO ?
>
> J'utilise gdal version 3.5.2
>
> code python en erreur :
> vsistr = "/vsicurl?pc_url_signing=yes&pc_collection=sentinel-2-l2a&url="
> red_href = vsistr + planetary_computer.sign(item).assets["B04"].href
> cogtif = gdal.Open( red_href )
>
> response :
>
> Warning 6: Unsupported option: se
> Warning 6: Unsupported option: sp
> Warning 6: Unsupported option: sv
> Warning 6: Unsupported option: sr
> Warning 6: Unsupported option: skoid
> Warning 6: Unsupported option: sktid
> Warning 6: Unsupported option: skt
> Warning 6: Unsupported option: ske
> Warning 6: Unsupported option: sks
> Warning 6: Unsupported option: skv
> Warning 6: Unsupported option: sig
> ERROR 11: HTTP response code: 403
>
> code python ok :
> with fiona.open(shp, "r") as shapefile:
> shapes = [feature["geometry"] for feature in shapefile]
> with rasterio.open(planetary_computer.sign(item).assets["B04"].href ) as
> ds:
> out_image, out_transform = rasterio.mask.mask(ds, shapes, crop=True)
> out_meta = ds.meta
> out_meta.update({"driver": "GTiff",
> "height": out_image.shape[1],
> "width": out_image.shape[2],
> "transform": out_transform})
> with rasterio.open(out, "w", **out_meta) as dest:
> dest.write(out_image)
>
> Merci pour vos r?ponses
>
> Bien cordialement,
>
> Lo?c
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> https://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20220930/0db86dce/attachment.htm>

