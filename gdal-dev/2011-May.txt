From jed at 59A2.org  Sun May  1 08:13:59 2011
From: jed at 59A2.org (Jed Brown)
Date: Sun May  1 08:14:01 2011
Subject: [gdal-dev] Re: How to sample raster data at unstructured points?
In-Reply-To: <BANLkTinbDGSm=_uu245-i6c5ZwoW3kO7ig@mail.gmail.com>
References: <BANLkTinbDGSm=_uu245-i6c5ZwoW3kO7ig@mail.gmail.com>
Message-ID: <BANLkTinCqw3kW8BD1Byt+F9wofj2Q=R7Sw@mail.gmail.com>

To clarify, what I'm looking for is exactly the inverse operation to
"gridding" as defined here:

http://www.gdal.org/grid_tutorial.html

This is much simpler and it's not difficult to write the low-level code
myself, but it seems quite strange to not have a high-level interface. Is
there really no interface, or am I just inadequate at reading the docs?

On Tue, Apr 26, 2011 at 01:24, Jed Brown <jed@59a2.org> wrote:

> I have a bunch of unstructured points, typically quadrature nodes of an
> unstructured mesh, and I want to sample a raster field at those points. I
> have plenty of spatial locality, but not any specific regular structure.
> Maybe I'm missing something, but I don't see an API for this direction.
>
> There is GDALCreateTPSTransformer which would seem to be a reasonable way
> to go from an unstructured mesh to a raster. But it's not easy to go the
> other way since it would involve, e.g. defining a (bad) quadrature using the
> raster and then do a Galerkin projection into the unstructured finite
> element basis, then evaluate that basis at the unstructured quadrature
> nodes. Alternatively, we could make tiny regular patches in the unstructured
> grid and do lots of independent projections, but I worry that this would be
> a performance issue.
>
> Is there a recommended way to sample a raster field at unstructured points?
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110501/1747e4e5/attachment.html
From knutfrodesoppel at hotmail.com  Mon May  2 06:30:11 2011
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Mon May  2 06:30:27 2011
Subject: [gdal-dev] Interpolate one image onto another
Message-ID: <ipm13j$pjd$1@dough.gmane.org>

Hi!

If I have two overlapping raster images, how can I interpolate one of 
them to the exact coverage of the other image, so that they can be 
compared pixel by pixel?

I primarily want to do this with Python API, but tips on how to do it 
with commandline utilities are also welcome. The two images do generally 
have different map projections, and either can be georeferenced by GCP's 
or affine transformations.
It would also be an advantage to be able to select interpolation method 
(nearest, linear, etc). It is preferred to do this in memory, without 
the need for (temporarily) writing to file.


Best regards from Knut-Frode

From daniele.romagnoli at geo-solutions.it  Mon May  2 07:35:00 2011
From: daniele.romagnoli at geo-solutions.it (Daniele Romagnoli)
Date: Mon May  2 07:35:01 2011
Subject: [gdal-dev] Status of Terralib Driver on GDAL
Message-ID: <BANLkTindkMgJmtu37209hGuRFzCXQn9VXA@mail.gmail.com>

Hi list,
from the GDAL formats page ([1]), I see there isn't any additional
information about the Terralib driver.
Does anyone on the mailing list have some quick feedbacks or status report
about this Driver?
Is it an experimental/in progress driver? Does anyone have some experience
with it?
(I have also cc-ed Ivan Lucena since I have found an email where he was
talking about this lib).
Any feedback/status would be very appreciated, so thanks in advance.

Best Regards,
Daniele


[1]:(http://www.gdal.org/formats_list.html)
-- 
-------------------------------------------------------
Ing. Daniele Romagnoli
GeoSolutions S.A.S.
Software Engineer

Via Poggio alle Viti 1187
55054  Massarosa (LU)
Italy

phone: +39 0584 962313
fax:      +39 0584 962313

http://www.geo-solutions.it
http://geo-solutions.blogspot.com/
http://www.youtube.com/user/GeoSolutionsIT
http://it.linkedin.com/in/danieleromagnoli


-------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110502/daea28b8/attachment.html
From Gabriel.Breahna at euro.ro  Mon May  2 07:28:55 2011
From: Gabriel.Breahna at euro.ro (Gabriel Breahna)
Date: Mon May  2 07:37:26 2011
Subject: [gdal-dev] S57 missing layers
Message-ID: <4DBE9577.4050601@euro.ro>

Hello,
I have a S75 file, 1R5NK000.000, from this archive ftp://www.risserver.nl/ENC/Rotterdam_Amsterdam.zip.
Using the command:
ogrinfo.exe 1R5NK000.000
I can see 31 layers.
Using OpenCPN or SeeMyEnc I can see more layers in the same file:
m_nsys
wtwaxs
feryrt
comare
dismar
but seems ogrinfo despite of the fact all this layers are present into the s57objectclasses_iw.csv file, is not able to see them.
The problem is the same if I am using gdal 1.6 for Windows or 1.5.2 with Ubuntu.
Seem all this missing layers are included in the last layer "Generic" but I have problems to use this layer with MapServer

For exemple 17004 is distance mark

TYPE POINT
DATA "Generic"
EXPRESSION ('[OBJL]'='17004')

is returning an error at runtime
msOGRFileNextShape(): OGR error. Invalid index: -1
msDrawMap(): Image handling error. Failed to draw layer named 's57'.

Any idea how to solve this issue? To try yo use the Generic layer or to "extract" the missing (ex: dismar) layers?
Best regards,
Gabriel
From armin.burger at gmx.net  Mon May  2 08:14:26 2011
From: armin.burger at gmx.net (Armin Burger)
Date: Mon May  2 08:14:32 2011
Subject: [gdal-dev] GDAL Java bindings, using gdal plugins under Windows
Message-ID: <20110502121426.257760@gmx.net>

Hello all

I tried to use GDAL plugins via the Java bindings under Windows. The compiled GDAL libraries are the ones taken from http://www.gisinternals.com/sdk/, I used the "release-1400-gdal-1-8-0-mapserver-5-6-6" built.

Compilation of the sample gdalinfo.java worked fine and I can apply it on a Tiff file. It does not work however for formats supplied via the plugins dll's. Following the description from the site I set the environment variable GDAL_DRIVER_PATH pointing to the directory with the plugin dll's. 

But when running the gdalinfo eg. on an ECW file I get the error

ERROR 1: Can't load requested DLL: X:\gdal\gdalplugins\gdal_ECW_JP2ECW.dll
127: The specified procedure could not be found.

So it looks for the correct dll in the right place, but cannot use it.

Is the usage of the plugins not supported via the Java bindings? It works fine when I use the gdalinfo.exe file.

Thanks in advance for any hints
Armin

-- 
NEU: FreePhone - kostenlos mobil telefonieren und surfen!			
Jetzt informieren: http://www.gmx.net/de/go/freephone
From namrata.r.sorte at gmail.com  Mon May  2 09:04:03 2011
From: namrata.r.sorte at gmail.com (Namrata)
Date: Mon May  2 09:04:05 2011
Subject: [gdal-dev] query on distance
Message-ID: <1304341443613-6323737.post@n2.nabble.com>

Hi,

I am eager to know how does this distance() method works? 

And returned double value is in what units?

Thanks

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/query-on-distance-tp6323737p6323737.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ivan.lucena at pmldnet.com  Mon May  2 09:12:13 2011
From: ivan.lucena at pmldnet.com (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Mon May  2 09:12:16 2011
Subject: [gdal-dev] Re: Status of Terralib Driver on GDAL
In-Reply-To: <BANLkTindkMgJmtu37209hGuRFzCXQn9VXA@mail.gmail.com>
References: <BANLkTindkMgJmtu37209hGuRFzCXQn9VXA@mail.gmail.com>
Message-ID: <20110502131214.21167.qmail@s466.sureserver.com>

Hi Daniele,

I did not received your CC. Anyway, the development of the Raster Terralib driver was put on hold for several reason, technical and not technical.  I would decline my authorship and copyright information to whoever want to take it over and would also agree if the GDAL governance would decide to remove it from the source three.

Regards,

Ivan Lucena


>  -------Original Message-------
>  From: Daniele Romagnoli <daniele.romagnoli@geo-solutions.it>
>  To: gdal-dev@lists.osgeo.org
>  Cc: Lucena, Ivan <ivan.lucena@pmldnet.com>
>  Subject: Status of Terralib Driver on GDAL
>  Sent: May 02 '11 06:35
>  
>  Hi list,
>  from the GDAL formats page ([1]), I see there isn't any additional
>  information about the Terralib driver.
>  Does anyone on the mailing list have some quick feedbacks or status report
>  about this Driver?
>  Is it an experimental/in progress driver? Does anyone have some experience
>  with it?
>  (I have also cc-ed Ivan Lucena since I have found an email where he was
>  talking about this lib).
>  Any feedback/status would be very appreciated, so thanks in advance.
>  
>  Best Regards,
>  Daniele
>  
>  
>  [1]:([LINK: http://www.gdal.org/formats_list.html]
>  http://www.gdal.org/formats_list.html)
>  --
>  -------------------------------------------------------
>  Ing. Daniele Romagnoli
>  GeoSolutions S.A.S.
>  Software Engineer
>  
>  Via Poggio alle Viti 1187
>  55054? Massarosa (LU)
>  Italy
>  
>  phone: +39 0584 962313
>  fax:? ? ? +39 0584 962313
>  
>  [LINK: http://www.geo-solutions.it/] http://www.geo-solutions.it
>  [LINK: http://geo-solutions.blogspot.com/]
>  http://geo-solutions.blogspot.com/
>  [LINK: http://www.youtube.com/user/GeoSolutionsIT]
>  http://www.youtube.com/user/GeoSolutionsIT
>  [LINK: http://it.linkedin.com/in/danieleromagnoli]
>  http://it.linkedin.com/in/danieleromagnoli
>  
>  
>  -------------------------------------------------------
From even.rouault at mines-paris.org  Mon May  2 12:53:24 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May  2 12:53:34 2011
Subject: [gdal-dev] GDAL Java bindings, using gdal plugins under Windows
In-Reply-To: <20110502121426.257760@gmx.net>
References: <20110502121426.257760@gmx.net>
Message-ID: <201105021853.24378.even.rouault@mines-paris.org>

Le lundi 02 mai 2011 14:14:26, Armin Burger a ?crit :
> Hello all
> 
> I tried to use GDAL plugins via the Java bindings under Windows. The
> compiled GDAL libraries are the ones taken from
> http://www.gisinternals.com/sdk/, I used the
> "release-1400-gdal-1-8-0-mapserver-5-6-6" built.
> 
> Compilation of the sample gdalinfo.java worked fine and I can apply it on a
> Tiff file. It does not work however for formats supplied via the plugins
> dll's. Following the description from the site I set the environment
> variable GDAL_DRIVER_PATH pointing to the directory with the plugin dll's.
> 
> But when running the gdalinfo eg. on an ECW file I get the error
> 
> ERROR 1: Can't load requested DLL: X:\gdal\gdalplugins\gdal_ECW_JP2ECW.dll
> 127: The specified procedure could not be found.

You also need to make sure that your PATH points to the X:\gdal\bin directory 
(where libecwj2.dll should be)

> 
> So it looks for the correct dll in the right place, but cannot use it.
> 
> Is the usage of the plugins not supported via the Java bindings? It works
> fine when I use the gdalinfo.exe file.
> 
> Thanks in advance for any hints
> Armin
From armin.burger at gmx.net  Mon May  2 13:38:23 2011
From: armin.burger at gmx.net (Armin Burger)
Date: Mon May  2 13:38:29 2011
Subject: [gdal-dev] GDAL Java bindings, using gdal plugins under Windows
In-Reply-To: <201105021853.24378.even.rouault@mines-paris.org>
References: <20110502121426.257760@gmx.net>
	<201105021853.24378.even.rouault@mines-paris.org>
Message-ID: <4DBEEC0F.5000508@gmx.net>

Even

thanks for the reply. The path to the standard GDAL dll's was included 
in the system path definition when running the command from the Windows 
console. I guess also that otherwise the gdalinfo.java running on a 
GeoTiff file would have produced a similar error.

armin

On 02/05/2011 18:53, Even Rouault wrote:
> Le lundi 02 mai 2011 14:14:26, Armin Burger a ?crit :
>> Hello all
>>
>> I tried to use GDAL plugins via the Java bindings under Windows. The
>> compiled GDAL libraries are the ones taken from
>> http://www.gisinternals.com/sdk/, I used the
>> "release-1400-gdal-1-8-0-mapserver-5-6-6" built.
>>
>> Compilation of the sample gdalinfo.java worked fine and I can apply it on a
>> Tiff file. It does not work however for formats supplied via the plugins
>> dll's. Following the description from the site I set the environment
>> variable GDAL_DRIVER_PATH pointing to the directory with the plugin dll's.
>>
>> But when running the gdalinfo eg. on an ECW file I get the error
>>
>> ERROR 1: Can't load requested DLL: X:\gdal\gdalplugins\gdal_ECW_JP2ECW.dll
>> 127: The specified procedure could not be found.
>
> You also need to make sure that your PATH points to the X:\gdal\bin directory
> (where libecwj2.dll should be)
>
>>
>> So it looks for the correct dll in the right place, but cannot use it.
>>
>> Is the usage of the plugins not supported via the Java bindings? It works
>> fine when I use the gdalinfo.exe file.
>>
>> Thanks in advance for any hints
>> Armin
>
From harsha.ch at gmail.com  Mon May  2 18:28:13 2011
From: harsha.ch at gmail.com (Harsha Ch)
Date: Mon May  2 18:28:15 2011
Subject: [gdal-dev] merging shapefiles larger than 4GB
Message-ID: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>

Hi all,
      I am using ogr2ogr merge all my shapefiles into one large file. Its
failing with following error
ERROR 1: Failed to write shape object. File size cannot reach 4294967280 +
28.
ERROR 1: Terminating translation prematurely after failed

I looked at shapefil.h its using unsigned int for filesize which would
restrict the filesize to 4GB.
Is there any easy way to increase the filesize it can address, compiling in
64bit doesn't help either.
I'll appreciate if you can give me any pointers on this issue .

Thanks,
Harsha
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110502/843f6567/attachment.html
From brian at wildsong.biz  Mon May  2 18:44:41 2011
From: brian at wildsong.biz (Brian Wilson)
Date: Mon May  2 18:44:44 2011
Subject: Fwd: [gdal-dev] merging shapefiles larger than 4GB
In-Reply-To: <BANLkTi=A9ktgJRCZLYm5FXhvKYSKE2cMng@mail.gmail.com>
References: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>
	<BANLkTi=A9ktgJRCZLYm5FXhvKYSKE2cMng@mail.gmail.com>
Message-ID: <BANLkTikdcx8axcu_YvSByp8hym0sdho6zA@mail.gmail.com>

I am afraid you are out of luck, the shapefile format restricts its size to
32 bit. See bytes 24-27

http://en.wikipedia.org/wiki/Shapefile

Even if the SHP part was not so restricted, I bet the DBF part is.

Cheers

Brian

On Mon, May 2, 2011 at 3:28 PM, Harsha Ch <harsha.ch@gmail.com> wrote:

> Hi all,
>       I am using ogr2ogr merge all my shapefiles into one large file. Its
> failing with following error
> ERROR 1: Failed to write shape object. File size cannot reach 4294967280 +
> 28.
> ERROR 1: Terminating translation prematurely after failed
>
> I looked at shapefil.h its using unsigned int for filesize which would
> restrict the filesize to 4GB.
> Is there any easy way to increase the filesize it can address, compiling in
> 64bit doesn't help either.
> I'll appreciate if you can give me any pointers on this issue .
>
> Thanks,
> Harsha
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110502/46d4e6f6/attachment.html
From chaitanya.ch at gmail.com  Mon May  2 23:01:52 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon May  2 23:01:56 2011
Subject: [gdal-dev] merging shapefiles larger than 4GB
In-Reply-To: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>
References: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>
Message-ID: <BANLkTikPusndRJ0zM0n2JeX6+o=TBtGEnA@mail.gmail.com>

Harsha,

It is advisable to limit the file size to 2GB. Though 4GB is possible, not
all software implement up to that limit. You may have problems if you ever
use it in other software.

On Tue, May 3, 2011 at 3:58 AM, Harsha Ch <harsha.ch@gmail.com> wrote:

> Hi all,
>       I am using ogr2ogr merge all my shapefiles into one large file. Its
> failing with following error
> ERROR 1: Failed to write shape object. File size cannot reach 4294967280 +
> 28.
> ERROR 1: Terminating translation prematurely after failed
>
> I looked at shapefil.h its using unsigned int for filesize which would
> restrict the filesize to 4GB.
> Is there any easy way to increase the filesize it can address, compiling in
> 64bit doesn't help either.
> I'll appreciate if you can give me any pointers on this issue .
>
> Thanks,
> Harsha
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110503/3e0136ef/attachment.html
From jukka.rahkonen at mmmtike.fi  Tue May  3 00:19:47 2011
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue May  3 00:20:04 2011
Subject: [gdal-dev] Re: Fwd: merging shapefiles larger than 4GB
References: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>
	<BANLkTi=A9ktgJRCZLYm5FXhvKYSKE2cMng@mail.gmail.com>
	<BANLkTikdcx8axcu_YvSByp8hym0sdho6zA@mail.gmail.com>
Message-ID: <loom.20110503T060853-478@post.gmane.org>

Brian Wilson <brian <at> wildsong.biz> writes:

> 
> I am afraid you are out of luck, the shapefile format restricts its size to 32
bit. See bytes 24-27http://en.wikipedia.org/wiki/ShapefileEven if the SHP part
was not so restricted, I bet the DBF part is. 

Actually the SHP part is setting the limit. DBF part can be much bigger and I
have myself one with 32 GB. See also http://trac.osgeo.org/gdal/ticket/3236

Spatialite has worked fine for me as a target when merging shapefiles but only 
up to about 8 GB file size. After that appending new data became too slow. It
was a long time ago and gdal Spatialite driver may be better now.

-Jukka Rahkonen-

From E.P.Westerveld at boskalis.nl  Tue May  3 08:15:35 2011
From: E.P.Westerveld at boskalis.nl (Westerveld, E.P.)
Date: Tue May  3 08:16:39 2011
Subject: [gdal-dev] S57 missing layers
Message-ID: <F35050FB5B57C344A53B513E1005875902BEEF4A@nlmbx003.rbw-nl.boskalis.net>

Hello,

I also tested S57 data from www.risserver.nl and found the same as
Gabriel Breahna. It seems to me that OpenCPN object queries show
"well-known" layers with uppercase names (BOYLAT LNDARE etc) but also
"less-known" layers with lowercase (boylat, bcnlat). These "less-known"
layers are not shown in ogrinfo. It only shows a layer called "Generic".

I tried to extract these "less-known" layers using the C++ API, but no
success.

Could it be that OGR doesn't accept "less-known" layer(codes) ? 
I understand that OpenCPN uses GDAL/OGR. But apparently the OpenCPN
people added something... 

Paul. 
From simonpayne2007 at yahoo.co.uk  Tue May  3 08:52:57 2011
From: simonpayne2007 at yahoo.co.uk (Simon Payne)
Date: Tue May  3 08:53:00 2011
Subject: [gdal-dev] OGR feature style spec and LABEL style parts - not working
	apparently
Message-ID: <510321.81676.qm@web28001.mail.ukl.yahoo.com>

Hi Daniel,
 
As requested, I've raised this issue again. If you could take a look at this, that would be great.
 
thanks,
 
Simon Payne
 
From jgomezdans at gmail.com  Tue May  3 09:34:16 2011
From: jgomezdans at gmail.com (Jose Gomez-Dans)
Date: Tue May  3 09:34:20 2011
Subject: [gdal-dev] gdalbuildvrt, gdal_translate, and MODIS HDF files
In-Reply-To: <201104302309.29049.even.rouault@mines-paris.org>
References: <BANLkTimCw48aypw8M0duaDWwM21Hxa_S2g@mail.gmail.com>
	<201104302026.12727.even.rouault@mines-paris.org>
	<BANLkTi=3sZYnnWrP-1h5=ppYz0mL8=dVCA@mail.gmail.com>
	<201104302309.29049.even.rouault@mines-paris.org>
Message-ID: <BANLkTim9n3S3c4G4ju+0rA-wv_iFmKRsaA@mail.gmail.com>

Hi,

> > > I have recently come across the mosaicking magic that is 1) build a
vrt
> > > usin gdalbuildvrt and then 2) gdal_translate the vrt to whatever
format
> > > I want -- I'm noticing this is a crazy-fast way to do mosaicking
> > > compared

I had a similar question on this a while ago, and one thing you have to be
wary about is that the HDF libraries usually have a finite number of HDF
files open simultaneously (see <http://trac.osgeo.org/gdal/wiki/HDF>). If
you plan on using more than (say) 32 files simultaneously, you'll need to
recompile the HDF library.

Jose
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110503/bfcb1ff0/attachment-0001.html
From beyhan at deprem.gov.tr  Tue May  3 09:57:10 2011
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Tue May  3 10:14:51 2011
Subject: [gdal-dev] create kml file using MySQL database or shape file
Message-ID: <1304431030.4634.18.camel@localhost>

Hi friends,

I would like to convert shp file into kml file by following
but I couldn't achieved. Please let me know How I can convert shape file
which I created by using gen2shp.

ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
this can create a file but strangely data collected at one point. but
each points have its' own id, latitude and longitude. 

or by using MYSQl database  

ogr2ogr -f KML sisint.kml MySQL :'host=localhost user=root
password=mysql_pswd port=3306 dbname=afetler tables=sisint' -sql "SELECT
latitude,longitude,sisint from sisint"

FAILURE:
Unable to open datasource `MySQL' with the following drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> GML
  -> GPX
  -> KML
  -> GeoJSON
  -> Interlis 1
  -> Interlis 2
  -> GMT
  -> SQLite
  -> ODBC
  -> PGeo
  -> OGDI
  -> MySQL
  -> PCIDSK
  -> XPlane
  -> AVCBin
  -> AVCE00
  -> DXF
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK






-- 
Murat BEYHAN
Geophysical Engineer, M.Sc.
Prime Ministry
Disaster and Emergency Management Presidency
Earthquake Department
Address: Eskisehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr



-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From harsha.ch at gmail.com  Tue May  3 10:39:17 2011
From: harsha.ch at gmail.com (Harsha Ch)
Date: Tue May  3 10:39:20 2011
Subject: [gdal-dev] Re: Fwd: merging shapefiles larger than 4GB
In-Reply-To: <loom.20110503T060853-478@post.gmane.org>
References: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>
	<BANLkTi=A9ktgJRCZLYm5FXhvKYSKE2cMng@mail.gmail.com>
	<BANLkTikdcx8axcu_YvSByp8hym0sdho6zA@mail.gmail.com>
	<loom.20110503T060853-478@post.gmane.org>
Message-ID: <BANLkTin2x0Acjjwh_r5hqSbq5pC3UjhJBQ@mail.gmail.com>

Thanks all for the replies and pointers. Jukka I am curious how were you
able to merge upto 8GB shape files
I am using mapnik to render shape files its able to read shape files larger
than 4Gb. I tried ogr2ogr to merge shape files which its failing after file
size reached to 4G. I looked at the ticket and I see the patch is applied to
gdal and I am building it from source. Could you tell me how did you merge
shape files in this case.
Thank you,
Harsha

On Mon, May 2, 2011 at 9:19 PM, Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>wrote:

> Brian Wilson <brian <at> wildsong.biz> writes:
>
> >
> > I am afraid you are out of luck, the shapefile format restricts its size
> to 32
> bit. See bytes 24-27http://en.wikipedia.org/wiki/ShapefileEven if the SHP
> part
> was not so restricted, I bet the DBF part is.
>
> Actually the SHP part is setting the limit. DBF part can be much bigger and
> I
> have myself one with 32 GB. See also
> http://trac.osgeo.org/gdal/ticket/3236
>
> Spatialite has worked fine for me as a target when merging shapefiles but
> only
> up to about 8 GB file size. After that appending new data became too slow.
> It
> was a long time ago and gdal Spatialite driver may be better now.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110503/4b18185d/attachment.html
From warmerdam at pobox.com  Tue May  3 10:45:07 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May  3 10:45:11 2011
Subject: [gdal-dev] S57 missing layers
In-Reply-To: <4DBE9577.4050601@euro.ro>
References: <4DBE9577.4050601@euro.ro>
Message-ID: <4DC014F3.1090405@pobox.com>

On 11-05-02 07:28 AM, Gabriel Breahna wrote:
> Hello,
> I have a S75 file, 1R5NK000.000, from this archive
> ftp://www.risserver.nl/ENC/Rotterdam_Amsterdam.zip.
> Using the command:
> ogrinfo.exe 1R5NK000.000
> I can see 31 layers.
> Using OpenCPN or SeeMyEnc I can see more layers in the same file:
> m_nsys
> wtwaxs
> feryrt
> comare
> dismar
> but seems ogrinfo despite of the fact all this layers are present into the
> s57objectclasses_iw.csv file, is not able to see them.

Gabriel,

Unfortunately it seems the S57 driver does not autodetct the profile and
use the appropriate supporting files currently.  I found things worked
better if I specified the profile as "iw".

   ogrinfo 1R5NK000.000 --config S57_PROFILE iw

You can also set the S57_PROFILE configuration option as an environment
variable.

Note I still get a Generic class which suggests to me that my _iw
files are not completely up to date.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jukka.rahkonen at mmmtike.fi  Tue May  3 11:10:10 2011
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue May  3 11:10:27 2011
Subject: [gdal-dev] Re: Fwd: merging shapefiles larger than 4GB
References: <BANLkTimqcjYcPnTSzvn6ijbLsN+nUkdUSA@mail.gmail.com>
	<BANLkTi=A9ktgJRCZLYm5FXhvKYSKE2cMng@mail.gmail.com>
	<BANLkTikdcx8axcu_YvSByp8hym0sdho6zA@mail.gmail.com>
	<loom.20110503T060853-478@post.gmane.org>
	<BANLkTin2x0Acjjwh_r5hqSbq5pC3UjhJBQ@mail.gmail.com>
Message-ID: <loom.20110503T170638-173@post.gmane.org>

Harsha Ch <harsha.ch <at> gmail.com> writes:

> 
> 
> Thanks all for the replies and pointers. Jukka I am curious how were you able
to merge upto 8GB shape files

Sorry about being unclear. I was appending shapefiles into Spatialite database
instead of merging shapefiles because I met the absolut limit of 4 GB filesize
for the SHP part.  Spatialite database file worked fine till about 8 GB filesize.

-Jukka Rahkonen-

From sigfrido at tiscali.it  Tue May  3 11:33:36 2011
From: sigfrido at tiscali.it (Luca Sigfrido Percich)
Date: Tue May  3 11:33:46 2011
Subject: [gdal-dev] create kml file using MySQL database or shape file
In-Reply-To: <1304431030.4634.18.camel@localhost>
References: <1304431030.4634.18.camel@localhost>
Message-ID: <1304436816.8996.116.camel@GOLEM>

Hi Murat,

Il giorno mar, 03/05/2011 alle 16.57 +0300, Murat Beyhan ha scritto:
> ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
> this can create a file but strangely data collected at one point.

Probably it is a Spatial Reference System related problem: you should
specify the source shapefile SRS. Have a look at the KML file and see if
the points have different coordinates, and see what SRS has been
declared for it. Have a look at the -a_srs, -t_srs and -s_srs options of
ogr2ogr.


> ogr2ogr -f KML sisint.kml MySQL :'host=localhost user=root
> password=mysql_pswd port=3306 dbname=afetler tables=sisint' -sql "SELECT
> latitude,longitude,sisint from sisint"

Try with no space between MySQL and :, and specifying the database name
before any other option:

ogr2ogr -f KML sisint.kml
MySQL:'afetler,host=localhost,user=root,password=mysql_pswd,port=3306,tables=sisint' -sql "SELECT latitude,longitude,sisint from sisint"

All the best

Sig


From even.rouault at mines-paris.org  Tue May  3 13:21:25 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May  3 13:24:53 2011
Subject: [gdal-dev] gdalbuildvrt, gdal_translate, and MODIS HDF files
In-Reply-To: <BANLkTim9n3S3c4G4ju+0rA-wv_iFmKRsaA@mail.gmail.com>
References: <BANLkTimCw48aypw8M0duaDWwM21Hxa_S2g@mail.gmail.com>
	<201104302309.29049.even.rouault@mines-paris.org>
	<BANLkTim9n3S3c4G4ju+0rA-wv_iFmKRsaA@mail.gmail.com>
Message-ID: <201105031921.25813.even.rouault@mines-paris.org>

Le mardi 03 mai 2011 15:34:16, Jose Gomez-Dans a ?crit :
> Hi,
> 
> > > > I have recently come across the mosaicking magic that is 1) build a
> 
> vrt
> 
> > > > usin gdalbuildvrt and then 2) gdal_translate the vrt to whatever
> 
> format
> 
> > > > I want -- I'm noticing this is a crazy-fast way to do mosaicking
> > > > compared
> 
> I had a similar question on this a while ago, and one thing you have to be
> wary about is that the HDF libraries usually have a finite number of HDF
> files open simultaneously (see <http://trac.osgeo.org/gdal/wiki/HDF>). If
> you plan on using more than (say) 32 files simultaneously, you'll need to
> recompile the HDF library.

There should be no problem assembling more than 32 files in a VRT while keeping 
the number of files opened simultaneously below a certain threshold.

By default, it is set to 100. But you can change it by setting the 
GDAL_MAX_DATASET_POOL_SIZE configuration option/environment variable to another 
value, e.g. 30 in your case.


> 
> Jose
From Gabriel.Breahna at euro.ro  Tue May  3 13:49:49 2011
From: Gabriel.Breahna at euro.ro (Gabriel Breahna)
Date: Tue May  3 13:54:17 2011
Subject: [gdal-dev] S57 missing layers
In-Reply-To: <4DC014F3.1090405@pobox.com>
References: <4DBE9577.4050601@euro.ro> <4DC014F3.1090405@pobox.com>
Message-ID: <4DC0403D.1040204@euro.ro>

Thanks Frank! I set "S57_PROFILE" to "iw" and now I can see all layers.

On 03.05.2011 17:45, Frank Warmerdam wrote:
> On 11-05-02 07:28 AM, Gabriel Breahna wrote:
>> Hello,
>> I have a S75 file, 1R5NK000.000, from this archive
>> ftp://www.risserver.nl/ENC/Rotterdam_Amsterdam.zip.
>> Using the command:
>> ogrinfo.exe 1R5NK000.000
>> I can see 31 layers.
>> Using OpenCPN or SeeMyEnc I can see more layers in the same file:
>> m_nsys
>> wtwaxs
>> feryrt
>> comare
>> dismar
>> but seems ogrinfo despite of the fact all this layers are present into the
>> s57objectclasses_iw.csv file, is not able to see them.
>
> Gabriel,
>
> Unfortunately it seems the S57 driver does not autodetct the profile and
> use the appropriate supporting files currently.  I found things worked
> better if I specified the profile as "iw".
>
>   ogrinfo 1R5NK000.000 --config S57_PROFILE iw
>
> You can also set the S57_PROFILE configuration option as an environment
> variable.
>
> Note I still get a Generic class which suggests to me that my _iw
> files are not completely up to date.
>
> Best regards,

From stonebuster at morallan.com  Tue May  3 16:29:38 2011
From: stonebuster at morallan.com (Jeremy)
Date: Tue May  3 16:50:53 2011
Subject: [gdal-dev] Help with gdal_translate and WMS/TMS
Message-ID: <006701cc09d0$d42fc610$7c8f5230$@morallan.com>

Hello,

 

I would like to be able to load a specific area of , for example, Google
Maps using the WMS/TMS driver in GDAL 1.8.  I am able to create a PNG file
of the full world map at the maximum tile level using gdal_translate and the
sample xml file at http://www.gdal.org/frmt_wms_googlemaps_tms.xml:

 

gdal_translate -of PNG -outsize 512 512 frmt_wms_googlemaps_tms.xml
output.png

 

However, I'm having problems loading a specific area.  I've tried all sorts
of combinations of -projwin and -srcwin flags in gdal_translate without
success, .  The sites that have -projwin examples in the GDAL WMS examples
are no longer available (OnEarth and  NYSDOP 2004).  I've also tried
changing the xml fields to reflect my desired area, again without success.

 

Would it be too much trouble to walk me through the steps of creating a PNG
file of Google Maps for Calgary, Canada with the following bounds?

Decimal degrees: upper-left: [-114.2, 51.2], lower-right: [-113.9, 51.0]

Mercator (I think!): upper-left: [-12712685, 6656748], lower-right:
[-12679290, 6621294]

 

Any advice/tips would be appreciated!

 

Thanks in advance,

Jeremy

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110503/4ff5431c/attachment.html
From ksshannon at gmail.com  Tue May  3 18:40:42 2011
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue May  3 19:02:03 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
Message-ID: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>

I am using AutoCreateWarpedVRT to warp a dataset.  I grab the the source
nodata for a band using

double noData = poBand->GetNoDataValue( &pbSuccess );

which returns 1.#QNAN00000000... on windows.

I then try to set the INIT_DEST with this using

psWarpOptions->papszWarpOptions =
        CSLSetNameValue( psWarpOptions->papszWarpOptions,
                 "INIT_DEST", CPLSPrintf( "%lf", noData ) );

This works on linux when it returns nan(0x8000000000000), but not on
windows, is there a different string I need to set in the warp options?

Thanks.


/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110503/4d71a1d3/attachment.html
From beyhan at deprem.gov.tr  Wed May  4 03:17:49 2011
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Wed May  4 04:08:32 2011
Subject: [gdal-dev] create kml file using MySQL database or shape file
In-Reply-To: <1304436816.8996.116.camel@GOLEM>
References: <1304431030.4634.18.camel@localhost>
	<1304436816.8996.116.camel@GOLEM>
Message-ID: <1304493469.23525.17.camel@localhost>

Dear Sigfrido,

Thank you for your help,
I corrected the script and it works but when I open it with google-earth
points doesn't seem on the map I sent snapshot of the google-earth.I
think problem is latitude and longitude could not read by the
google-earth.
So How can I fix it...



Regards. 

ogr2ogr -f KML sisint.kml
MySQL:'afetler,host=localhost,user=root,password=mysql_123,port=3306,tables=sisint' -sql "SELECT koy, longitude, latitude , sisint from sisint"

koy means village name.
sisint menans seismic intensity value of the village

Murat 


On Tue, 2011-05-03 at 17:33 +0200, Luca Sigfrido Percich wrote: 
> Hi Murat,
> 
> Il giorno mar, 03/05/2011 alle 16.57 +0300, Murat Beyhan ha scritto:
> > ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
> > this can create a file but strangely data collected at one point.
> 
> Probably it is a Spatial Reference System related problem: you should
> specify the source shapefile SRS. Have a look at the KML file and see if
> the points have different coordinates, and see what SRS has been
> declared for it. Have a look at the -a_srs, -t_srs and -s_srs options of
> ogr2ogr.
> 
> 
> > ogr2ogr -f KML sisint.kml MySQL :'host=localhost user=root
> > password=mysql_pswd port=3306 dbname=afetler tables=sisint' -sql "SELECT
> > latitude,longitude,sisint from sisint"
> 
> Try with no space between MySQL and :, and specifying the database name
> before any other option:
> 
> ogr2ogr -f KML sisint.kml
> MySQL:'afetler,host=localhost,user=root,password=mysql_pswd,port=3306,tables=sisint' -sql "SELECT latitude,longitude,sisint from sisint"
> 
> All the best
> 
> Sig
> 



-- 
Murat BEYHAN
Geophysical Engineer, M.Sc.
Prime Ministry
Disaster and Emergency Management Presidency
Earthquake Department
Address: Eskisehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr



-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From sigfrido at tiscali.it  Wed May  4 06:08:40 2011
From: sigfrido at tiscali.it (sigfrido@tiscali.it)
Date: Wed May  4 07:11:07 2011
Subject: R: Re: [gdal-dev] create kml file using MySQL database or shape file
Message-ID: <30610880.71901304503720993.JavaMail.defaultUser@defaultHost>


Hi Murat,

I'm not so much into KML, but I think that maybe the 
problem is with your SQL: you are not including any geometry column in 
the select instruction. If you open the KML file with a text editor, 
you can see if the points are being exported and with which 
coordinates.

Does the MySQL table have a geometric column? Or you just 
have the lon/lat coordinates?
If you don't have geometry you have first 
to add it to the MySQL table, update it with the point geometry created 
from lon/lat, and then export the points in KML.

Hope this helps

Sig


----Messaggio originale----
Da: beyhan@deprem.gov.tr
Data: 04/05/2011 
9.17
A: "Luca Sigfrido Percich"<sigfrido@tiscali.it>
Cc: "gdal-
dev@lists.osgeo.org"<gdal-dev@lists.osgeo.org>
Ogg: Re: [gdal-dev] 
create kml file using MySQL database or shape file

Dear Sigfrido,


Thank you for your help,
I corrected the script and it works but when I 
open it with google-earth
points doesn't seem on the map I sent 
snapshot of the google-earth.I
think problem is latitude and longitude 
could not read by the
google-earth.
So How can I fix it...



Regards. 


ogr2ogr -f KML sisint.kml
MySQL:'afetler,host=localhost,user=root,
password=mysql_123,port=3306,tables=sisint' -sql "SELECT koy, 
longitude, latitude , sisint from sisint"

koy means village name.

sisint menans seismic intensity value of the village

Murat 


On Tue, 
2011-05-03 at 17:33 +0200, Luca Sigfrido Percich wrote: 
> Hi Murat,
> 

> Il giorno mar, 03/05/2011 alle 16.57 +0300, Murat Beyhan ha scritto:

> > ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
> > 
this can create a file but strangely data collected at one point.
> 
> 
Probably it is a Spatial Reference System related problem: you should
> 
specify the source shapefile SRS. Have a look at the KML file and see 
if
> the points have different coordinates, and see what SRS has been
> 
declared for it. Have a look at the -a_srs, -t_srs and -s_srs options 
of
> ogr2ogr.
> 
> 
> > ogr2ogr -f KML sisint.kml MySQL 
:'host=localhost user=root
> > password=mysql_pswd port=3306 
dbname=afetler tables=sisint' -sql "SELECT
> > latitude,longitude,
sisint from sisint"
> 
> Try with no space between MySQL and :, and 
specifying the database name
> before any other option:
> 
> ogr2ogr -f 
KML sisint.kml
> MySQL:'afetler,host=localhost,user=root,
password=mysql_pswd,port=3306,tables=sisint' -sql "SELECT latitude,
longitude,sisint from sisint"
> 
> All the best
> 
> Sig
> 



-- 

Murat BEYHAN
Geophysical Engineer, M.Sc.
Prime Ministry
Disaster and 
Emergency Management Presidency
Earthquake Department
Address: 
Eskisehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:
beyhan@deprem.gov.tr



-- 
This message has been scanned for viruses 
and
dangerous content by MailScanner, and is
believed to be clean.






Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!

Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al mese per 12 mesi.

http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
From beyhan at deprem.gov.tr  Wed May  4 08:25:14 2011
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Wed May  4 09:32:18 2011
Subject: R: Re: [gdal-dev] create kml file using MySQL database or
	shape file
In-Reply-To: <30610880.71901304503720993.JavaMail.defaultUser@defaultHost>
References: <30610880.71901304503720993.JavaMail.defaultUser@defaultHost>
Message-ID: <1304511914.7068.9.camel@localhost>


Dear Sigfrido

As you told me I have added a geometry column to my database as g

and 

I executed following sql statement
This is the first time for me to make spatial database table . So I
think first of all I have to learn more about Spatial database concept
in MySQL.

any way

UPDATE deneme2
SET g = GeomFromText(
CONCAT('POINT(', CAST(lat AS CHARACTER(20)),
' ', CAST(lng AS CHARACTER(20)),')')
) ;


than I used 

 ogr2ogr -f KML sisint.kml
MySQL:'afetler,host=localhost,user=root,password=mysql_123,port=3306,tables=deneme2' -sql "SELECT koy,lat,lng,sisint from deneme2"



ogrinfo -ro sisint.kml

The problem is there is no layer in KML file I think.



ERROR 4: No layers in KML file: sisint.kml.
FAILURE:
Unable to open datasource `sisint.kml' with the following drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> GML
  -> GPX
  -> KML
  -> GeoJSON
  -> Interlis 1
  -> Interlis 2
  -> GMT
  -> SQLite
  -> ODBC
  -> PGeo
  -> OGDI
  -> MySQL
  -> PCIDSK
  -> XPlane
  -> AVCBin
  -> AVCE00
  -> DXF
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK



so I couldn't understand what is wrong or what I have to do first.


Really I need to create such a point or polygon data extracted from
MySQL database to KML format. Please help me

Murat


On Wed, 2011-05-04 at 12:08 +0200, sigfrido@tiscali.it wrote:
> Hi Murat,
> 
> I'm not so much into KML, but I think that maybe the 
> problem is with your SQL: you are not including any geometry column in 
> the select instruction. If you open the KML file with a text editor, 
> you can see if the points are being exported and with which 
> coordinates.
> 
> Does the MySQL table have a geometric column? Or you just 
> have the lon/lat coordinates?
> If you don't have geometry you have first 
> to add it to the MySQL table, update it with the point geometry created 
> from lon/lat, and then export the points in KML.
> 
> Hope this helps
> 
> Sig
> 
> 
> ----Messaggio originale----
> Da: beyhan@deprem.gov.tr
> Data: 04/05/2011 
> 9.17
> A: "Luca Sigfrido Percich"<sigfrido@tiscali.it>
> Cc: "gdal-
> dev@lists.osgeo.org"<gdal-dev@lists.osgeo.org>
> Ogg: Re: [gdal-dev] 
> create kml file using MySQL database or shape file
> 
> Dear Sigfrido,
> 
> 
> Thank you for your help,
> I corrected the script and it works but when I 
> open it with google-earth
> points doesn't seem on the map I sent 
> snapshot of the google-earth.I
> think problem is latitude and longitude 
> could not read by the
> google-earth.
> So How can I fix it...
> 
> 
> 
> Regards. 
> 
> 
> ogr2ogr -f KML sisint.kml
> MySQL:'afetler,host=localhost,user=root,
> password=mysql_123,port=3306,tables=sisint' -sql "SELECT koy, 
> longitude, latitude , sisint from sisint"
> 
> koy means village name.
> 
> sisint menans seismic intensity value of the village
> 
> Murat 
> 
> 
> On Tue, 
> 2011-05-03 at 17:33 +0200, Luca Sigfrido Percich wrote: 
> > Hi Murat,
> > 
> 
> > Il giorno mar, 03/05/2011 alle 16.57 +0300, Murat Beyhan ha scritto:
> 
> > > ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
> > > 
> this can create a file but strangely data collected at one point.
> > 
> > 
> Probably it is a Spatial Reference System related problem: you should
> > 
> specify the source shapefile SRS. Have a look at the KML file and see 
> if
> > the points have different coordinates, and see what SRS has been
> > 
> declared for it. Have a look at the -a_srs, -t_srs and -s_srs options 
> of
> > ogr2ogr.
> > 
> > 
> > > ogr2ogr -f KML sisint.kml MySQL 
> :'host=localhost user=root
> > > password=mysql_pswd port=3306 
> dbname=afetler tables=sisint' -sql "SELECT
> > > latitude,longitude,
> sisint from sisint"
> > 
> > Try with no space between MySQL and :, and 
> specifying the database name
> > before any other option:
> > 
> > ogr2ogr -f 
> KML sisint.kml
> > MySQL:'afetler,host=localhost,user=root,
> password=mysql_pswd,port=3306,tables=sisint' -sql "SELECT latitude,
> longitude,sisint from sisint"
> > 
> > All the best
> > 
> > Sig
> > 
> 
> 
> 
> -- 
> 
> Murat BEYHAN
> Geophysical Engineer, M.Sc.
> Prime Ministry
> Disaster and 
> Emergency Management Presidency
> Earthquake Department
> Address: 
> Eskisehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:
> beyhan@deprem.gov.tr
> 
> 
> 
> -- 
> This message has been scanned for viruses 
> and
> dangerous content by MailScanner, and is
> believed to be clean.
> 
> 
> 
> 
> 
> 
> Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
> 
> Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al mese per 12 mesi.
> 
> http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
> 



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From sigfrido at tiscali.it  Wed May  4 09:03:16 2011
From: sigfrido at tiscali.it (sigfrido@tiscali.it)
Date: Wed May  4 10:11:53 2011
Subject: R: Re: [gdal-dev] create kml file using MySQL database or shape
	file
Message-ID: <18909050.1304514196535.JavaMail.root@ps4>

Hi Murat,

try to explicitly add g (the geometric column) in the select clause:

SELECT g, koy,lat,lng,sisint from deneme2

otherwise ogr2ogr won't be able to see it when creating KML layer.

All the best

Sig

----Messaggio originale----
Da: beyhan@deprem.gov.tr
Data: 04/05/2011 14.25
A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
Cc: "gdal-dev@lists.osgeo.org"<gdal-dev@lists.osgeo.org>
Ogg: Re: R: Re: [gdal-dev] create kml file using MySQL database or 
shape file


Dear Sigfrido

As you told me I have added a geometry column to my database as g

and 

I executed following sql statement
This is the first time for me to make spatial database table . So I
think first of all I have to learn more about Spatial database concept
in MySQL.

any way

UPDATE deneme2
SET g = GeomFromText(
CONCAT('POINT(', CAST(lat AS CHARACTER(20)),
' ', CAST(lng AS CHARACTER(20)),')')
) ;


than I used 

 ogr2ogr -f KML sisint.kml
MySQL:'afetler,host=localhost,user=root,password=mysql_123,port=3306,
tables=deneme2' -sql "SELECT koy,lat,lng,sisint from deneme2"



ogrinfo -ro sisint.kml

The problem is there is no layer in KML file I think.



ERROR 4: No layers in KML file: sisint.kml.
FAILURE:
Unable to open datasource `sisint.kml' with the following drivers.
  -> ESRI Shapefile
  -> MapInfo File
  -> UK .NTF
  -> SDTS
  -> TIGER
  -> S57
  -> DGN
  -> VRT
  -> REC
  -> Memory
  -> BNA
  -> CSV
  -> GML
  -> GPX
  -> KML
  -> GeoJSON
  -> Interlis 1
  -> Interlis 2
  -> GMT
  -> SQLite
  -> ODBC
  -> PGeo
  -> OGDI
  -> MySQL
  -> PCIDSK
  -> XPlane
  -> AVCBin
  -> AVCE00
  -> DXF
  -> Geoconcept
  -> GeoRSS
  -> GPSTrackMaker
  -> VFK



so I couldn't understand what is wrong or what I have to do first.


Really I need to create such a point or polygon data extracted from
MySQL database to KML format. Please help me

Murat


On Wed, 2011-05-04 at 12:08 +0200, sigfrido@tiscali.it wrote:
> Hi Murat,
> 
> I'm not so much into KML, but I think that maybe the 
> problem is with your SQL: you are not including any geometry column 
in 
> the select instruction. If you open the KML file with a text 
editor, 
> you can see if the points are being exported and with which 
> coordinates.
> 
> Does the MySQL table have a geometric column? Or you just 
> have the lon/lat coordinates?
> If you don't have geometry you have first 
> to add it to the MySQL table, update it with the point geometry 
created 
> from lon/lat, and then export the points in KML.
> 
> Hope this helps
> 
> Sig
> 
> 
> ----Messaggio originale----
> Da: beyhan@deprem.gov.tr
> Data: 04/05/2011 
> 9.17
> A: "Luca Sigfrido Percich"<sigfrido@tiscali.it>
> Cc: "gdal-
> dev@lists.osgeo.org"<gdal-dev@lists.osgeo.org>
> Ogg: Re: [gdal-dev] 
> create kml file using MySQL database or shape file
> 
> Dear Sigfrido,
> 
> 
> Thank you for your help,
> I corrected the script and it works but when I 
> open it with google-earth
> points doesn't seem on the map I sent 
> snapshot of the google-earth.I
> think problem is latitude and longitude 
> could not read by the
> google-earth.
> So How can I fix it...
> 
> 
> 
> Regards. 
> 
> 
> ogr2ogr -f KML sisint.kml
> MySQL:'afetler,host=localhost,user=root,
> password=mysql_123,port=3306,tables=sisint' -sql "SELECT koy, 
> longitude, latitude , sisint from sisint"
> 
> koy means village name.
> 
> sisint menans seismic intensity value of the village
> 
> Murat 
> 
> 
> On Tue, 
> 2011-05-03 at 17:33 +0200, Luca Sigfrido Percich wrote: 
> > Hi Murat,
> > 
> 
> > Il giorno mar, 03/05/2011 alle 16.57 +0300, Murat Beyhan ha 
scritto:
> 
> > > ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
> > > 
> this can create a file but strangely data collected at one point.
> > 
> > 
> Probably it is a Spatial Reference System related problem: you 
should
> > 
> specify the source shapefile SRS. Have a look at the KML file and 
see 
> if
> > the points have different coordinates, and see what SRS has been
> > 
> declared for it. Have a look at the -a_srs, -t_srs and -s_srs 
options 
> of
> > ogr2ogr.
> > 
> > 
> > > ogr2ogr -f KML sisint.kml MySQL 
> :'host=localhost user=root
> > > password=mysql_pswd port=3306 
> dbname=afetler tables=sisint' -sql "SELECT
> > > latitude,longitude,
> sisint from sisint"
> > 
> > Try with no space between MySQL and :, and 
> specifying the database name
> > before any other option:
> > 
> > ogr2ogr -f 
> KML sisint.kml
> > MySQL:'afetler,host=localhost,user=root,
> password=mysql_pswd,port=3306,tables=sisint' -sql "SELECT latitude,
> longitude,sisint from sisint"
> > 
> > All the best
> > 
> > Sig
> > 
> 
> 
> 
> -- 
> 
> Murat BEYHAN
> Geophysical Engineer, M.Sc.
> Prime Ministry
> Disaster and 
> Emergency Management Presidency
> Earthquake Department
> Address: 
> Eskisehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:
> beyhan@deprem.gov.tr
> 
> 
> 
> -- 
> This message has been scanned for viruses 
> and
> dangerous content by MailScanner, and is
> believed to be clean.
> 
> 
> 
> 
> 
> 
> Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
> 
> Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 
? al mese per 12 mesi.
> 
> http://abbonati.tiscali.it/telefono-
adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
> 



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.





SCARICA TISCALI WIPHONE: parla e invia SMS gratis dal tuo cellulare.
http://wiphone.tiscali.it

From beyhan at deprem.gov.tr  Wed May  4 09:14:03 2011
From: beyhan at deprem.gov.tr (Murat Beyhan)
Date: Wed May  4 10:24:01 2011
Subject: R: Re: [gdal-dev] create kml file using MySQL database or
	shape file
In-Reply-To: <18909050.1304514196535.JavaMail.root@ps4>
References: <18909050.1304514196535.JavaMail.root@ps4>
Message-ID: <1304514843.7068.16.camel@localhost>

Dear Sigfrido

Thanks for your advice

yes when I add g to sql statement the script created kml file with layer
I achieved. But the result same the point doesn't seem on the map 
any way I hope I will succeed. Thanks for your help




KML file as follows by using geometry column 

<?xml version="1.0" encoding="utf-8" ?>
<kml xmlns="http://www.opengis.net/kml/2.2">
<Document><Folder><name>sql_statement</name>
<Schema name="sql_statement" id="sql_statement">
        <SimpleField name="Name" type="string"></SimpleField>
        <SimpleField name="Description" type="string"></SimpleField>
        <SimpleField name="koy" type="string"></SimpleField>
        <SimpleField name="lat" type="float"></SimpleField>
        <SimpleField name="lng" type="float"></SimpleField>
        <SimpleField name="sisint" type="int"></SimpleField>
</Schema>
  <Placemark>
        <ExtendedData><SchemaData schemaUrl="#sql_statement">
                <SimpleData name="koy">SEYHAN</SimpleData>
                <SimpleData name="lat">36.9871</SimpleData>
                <SimpleData name="lng">35.3227</SimpleData>
                <SimpleData name="sisint">1</SimpleData>
        </SchemaData></ExtendedData>

<Point><coordinates>36.987099999999998,35.322699999999998</coordinates></Point>
  </Placemark>



without using g KML files like this look the <Point><coordinates> line.


<?xml version="1.0" encoding="utf-8" ?>
<kml xmlns="http://www.opengis.net/kml/2.2">
<Document><Folder><name>sql_statement</name>
<Schema name="sql_statement" id="sql_statement">
        <SimpleField name="Name" type="string"></SimpleField>
        <SimpleField name="Description" type="string"></SimpleField>
        <SimpleField name="koy" type="string"></SimpleField>
        <SimpleField name="lat" type="float"></SimpleField>
        <SimpleField name="lng" type="float"></SimpleField>
        <SimpleField name="sisint" type="int"></SimpleField>
</Schema>
  <Placemark>
        <ExtendedData><SchemaData schemaUrl="#sql_statement">
                <SimpleData name="koy">SEYHAN</SimpleData>
                <SimpleData name="lat">36.9871</SimpleData>
                <SimpleData name="lng">35.3227</SimpleData>
                <SimpleData name="sisint">1</SimpleData>
        </SchemaData></ExtendedData>
  </Placemark>



there is no <Point><coordinates> line  


But google- earth doesn't shows the points on the map...







On Wed, 2011-05-04 at 15:03 +0200, sigfrido@tiscali.it wrote:
> Hi Murat,
> 
> try to explicitly add g (the geometric column) in the select clause:
> 
> SELECT g, koy,lat,lng,sisint from deneme2
> 
> otherwise ogr2ogr won't be able to see it when creating KML layer.
> 
> All the best
> 
> Sig
> 
> ----Messaggio originale----
> Da: beyhan@deprem.gov.tr
> Data: 04/05/2011 14.25
> A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
> Cc: "gdal-dev@lists.osgeo.org"<gdal-dev@lists.osgeo.org>
> Ogg: Re: R: Re: [gdal-dev] create kml file using MySQL database or 
> shape file
> 
> 
> Dear Sigfrido
> 
> As you told me I have added a geometry column to my database as g
> 
> and 
> 
> I executed following sql statement
> This is the first time for me to make spatial database table . So I
> think first of all I have to learn more about Spatial database concept
> in MySQL.
> 
> any way
> 
> UPDATE deneme2
> SET g = GeomFromText(
> CONCAT('POINT(', CAST(lat AS CHARACTER(20)),
> ' ', CAST(lng AS CHARACTER(20)),')')
> ) ;
> 
> 
> than I used 
> 
>  ogr2ogr -f KML sisint.kml
> MySQL:'afetler,host=localhost,user=root,password=mysql_123,port=3306,
> tables=deneme2' -sql "SELECT koy,lat,lng,sisint from deneme2"
> 
> 
> 
> ogrinfo -ro sisint.kml
> 
> The problem is there is no layer in KML file I think.
> 
> 
> 
> ERROR 4: No layers in KML file: sisint.kml.
> FAILURE:
> Unable to open datasource `sisint.kml' with the following drivers.
>   -> ESRI Shapefile
>   -> MapInfo File
>   -> UK .NTF
>   -> SDTS
>   -> TIGER
>   -> S57
>   -> DGN
>   -> VRT
>   -> REC
>   -> Memory
>   -> BNA
>   -> CSV
>   -> GML
>   -> GPX
>   -> KML
>   -> GeoJSON
>   -> Interlis 1
>   -> Interlis 2
>   -> GMT
>   -> SQLite
>   -> ODBC
>   -> PGeo
>   -> OGDI
>   -> MySQL
>   -> PCIDSK
>   -> XPlane
>   -> AVCBin
>   -> AVCE00
>   -> DXF
>   -> Geoconcept
>   -> GeoRSS
>   -> GPSTrackMaker
>   -> VFK
> 
> 
> 
> so I couldn't understand what is wrong or what I have to do first.
> 
> 
> Really I need to create such a point or polygon data extracted from
> MySQL database to KML format. Please help me
> 
> Murat
> 
> 
> On Wed, 2011-05-04 at 12:08 +0200, sigfrido@tiscali.it wrote:
> > Hi Murat,
> > 
> > I'm not so much into KML, but I think that maybe the 
> > problem is with your SQL: you are not including any geometry column 
> in 
> > the select instruction. If you open the KML file with a text 
> editor, 
> > you can see if the points are being exported and with which 
> > coordinates.
> > 
> > Does the MySQL table have a geometric column? Or you just 
> > have the lon/lat coordinates?
> > If you don't have geometry you have first 
> > to add it to the MySQL table, update it with the point geometry 
> created 
> > from lon/lat, and then export the points in KML.
> > 
> > Hope this helps
> > 
> > Sig
> > 
> > 
> > ----Messaggio originale----
> > Da: beyhan@deprem.gov.tr
> > Data: 04/05/2011 
> > 9.17
> > A: "Luca Sigfrido Percich"<sigfrido@tiscali.it>
> > Cc: "gdal-
> > dev@lists.osgeo.org"<gdal-dev@lists.osgeo.org>
> > Ogg: Re: [gdal-dev] 
> > create kml file using MySQL database or shape file
> > 
> > Dear Sigfrido,
> > 
> > 
> > Thank you for your help,
> > I corrected the script and it works but when I 
> > open it with google-earth
> > points doesn't seem on the map I sent 
> > snapshot of the google-earth.I
> > think problem is latitude and longitude 
> > could not read by the
> > google-earth.
> > So How can I fix it...
> > 
> > 
> > 
> > Regards. 
> > 
> > 
> > ogr2ogr -f KML sisint.kml
> > MySQL:'afetler,host=localhost,user=root,
> > password=mysql_123,port=3306,tables=sisint' -sql "SELECT koy, 
> > longitude, latitude , sisint from sisint"
> > 
> > koy means village name.
> > 
> > sisint menans seismic intensity value of the village
> > 
> > Murat 
> > 
> > 
> > On Tue, 
> > 2011-05-03 at 17:33 +0200, Luca Sigfrido Percich wrote: 
> > > Hi Murat,
> > > 
> > 
> > > Il giorno mar, 03/05/2011 alle 16.57 +0300, Murat Beyhan ha 
> scritto:
> > 
> > > > ogr2ogr -f KML simgmt.kml simgmt.shp -dsco NameField=RegionName
> > > > 
> > this can create a file but strangely data collected at one point.
> > > 
> > > 
> > Probably it is a Spatial Reference System related problem: you 
> should
> > > 
> > specify the source shapefile SRS. Have a look at the KML file and 
> see 
> > if
> > > the points have different coordinates, and see what SRS has been
> > > 
> > declared for it. Have a look at the -a_srs, -t_srs and -s_srs 
> options 
> > of
> > > ogr2ogr.
> > > 
> > > 
> > > > ogr2ogr -f KML sisint.kml MySQL 
> > :'host=localhost user=root
> > > > password=mysql_pswd port=3306 
> > dbname=afetler tables=sisint' -sql "SELECT
> > > > latitude,longitude,
> > sisint from sisint"
> > > 
> > > Try with no space between MySQL and :, and 
> > specifying the database name
> > > before any other option:
> > > 
> > > ogr2ogr -f 
> > KML sisint.kml
> > > MySQL:'afetler,host=localhost,user=root,
> > password=mysql_pswd,port=3306,tables=sisint' -sql "SELECT latitude,
> > longitude,sisint from sisint"
> > > 
> > > All the best
> > > 
> > > Sig
> > > 
> > 
> > 
> > 
> > -- 
> > 
> > Murat BEYHAN
> > Geophysical Engineer, M.Sc.
> > Prime Ministry
> > Disaster and 
> > Emergency Management Presidency
> > Earthquake Department
> > Address: 
> > Eskisehir Yolu 12. Km.
> > Lodumlu/ANKARA
> > Tel: 312 2872680-1556
> > email:
> > beyhan@deprem.gov.tr
> > 
> > 
> > 
> > -- 
> > This message has been scanned for viruses 
> > and
> > dangerous content by MailScanner, and is
> > believed to be clean.
> > 
> > 
> > 
> > 
> > 
> > 
> > Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
> > 
> > Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 
> ? al mese per 12 mesi.
> > 
> > http://abbonati.tiscali.it/telefono-
> adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
> > 
> 
> 
> 
> Murat BEYHAN 
> 
> Jeofizik Y.M?h.
> T.C. Ba?bakanl?k
> Afet ve Acil Durum Y?netimi Ba?kanl???
> Deprem Dairesi Ba?kanl???
> Eski?ehir Yolu 12. Km.
> Lodumlu/ANKARA
> Tel: 312 2872680-1556
> email:beyhan@deprem.gov.tr
> 
> 
> 
> 
> -- 
> This message has been scanned for viruses and
> dangerous content by MailScanner, and is
> believed to be clean.
> 
> 
> 
> 
> 
> SCARICA TISCALI WIPHONE: parla e invia SMS gratis dal tuo cellulare.
> http://wiphone.tiscali.it
> 
> 



Murat BEYHAN 

Jeofizik Y.M?h.
T.C. Ba?bakanl?k
Afet ve Acil Durum Y?netimi Ba?kanl???
Deprem Dairesi Ba?kanl???
Eski?ehir Yolu 12. Km.
Lodumlu/ANKARA
Tel: 312 2872680-1556
email:beyhan@deprem.gov.tr




-- 
This message has been scanned for viruses and
dangerous content by MailScanner, and is
believed to be clean.

From bkpark at ucdavis.edu  Wed May  4 10:52:02 2011
From: bkpark at ucdavis.edu (Bborie Park)
Date: Wed May  4 12:06:24 2011
Subject: [gdal-dev] Warping an image from C
Message-ID: <BANLkTinceDyGekuNXADN2i_KmYxqO8si+g@mail.gmail.com>

Hi,

I'm currently in the process of seeing what can be done to expose
GDAL's C warp functions to PostGIS Raster and am wondering if I have
hit a roadblock.

>From the docs for gdal_alg.h, it appears that the warp functionality
available is limited to GDALSimpleImageWarp and its limitations.  Is
this conclusion correct?  I did take a look at gdalwarpsimple.c
(https://svn.osgeo.org/gdal/trunk/gdal/apps/gdalwarpsimple.c) and it
appears to confirm my initial thoughts.

Are there any plans to expand the C warp API?  If not, would anyone
mind if I took a stab at it?

Thanks,
Bborie

-- 
Bborie Park
Programmer
Center for Vectorborne Diseases
UC Davis
530-752-8380
bkpark@ucdavis.edu
From gyetman at ciesin.columbia.edu  Wed May  4 14:59:55 2011
From: gyetman at ciesin.columbia.edu (Gregory Yetman)
Date: Wed May  4 16:55:15 2011
Subject: [gdal-dev] Registering GDAL 1.8 64-bit with Python 2.7 on Windows 7
Message-ID: <4DC1A22B.4050807@ciesin.columbia.edu>

Hi,

I'm pulling my hair out over what should be a simple problem. I'm trying 
to use the pre-compiled GDAL library and bindings published here:

http://vbkto.dyndns.org/sdk/PackageList.aspx?file=release-1400-x64-gdal-1-8-mapserver-5-6.zip

To implement a pure 64-bit Python and GDAL combo (I already have numpy 
64-bit working with python 2.7 64-bit).

GDAL is working on on the system, gdalinfo --version returns:

GDAL 1.8.0, released 2011/01/12

and python works fine as well. I installed the bindings with no error 
messages and rebooted, but if I try and import gdal I get:

 >>> from osgeo import gdal
Traceback (most recent call last):
   File "<stdin>", line 1, in <module>
   File "C:\Python27\Lib\site-packages\osgeo\__init__.py", line 21, in 
<module>
     _gdal = swig_import_helper()
   File "C:\Python27\Lib\site-packages\osgeo\__init__.py", line 17, in 
swig_import_helper
     _mod = imp.load_module('_gdal', fp, pathname, description)
ImportError: DLL load failed: The specified module could not be found.
 >>>

I created a PYTHONPATH system variable and set it to:

C:\Python27\Lib\site-packages;C:\Python27\Lib\site-packages\osgeo;C:\Program 
Files\GDAL

to no avail.

Any suggestions?

I'm trying to get the 64 bit versions working because when I try and 
open a large raster as an array using
DatasetReadAsArray I get an error; suggestions on another mailing list 
were that this was because the 32 bit library can only handle rasters up 
to 2GB and the ones I am working with are larger than that.

TIA,

Greg



-- 
Gregory Yetman
CIESIN, Columbia University
+1-845-365-8982
http://www.ciesin.columbia.edu
From szekerest at gmail.com  Wed May  4 17:17:00 2011
From: szekerest at gmail.com (Tamas Szekeres)
Date: Wed May  4 18:52:32 2011
Subject: [gdal-dev] Registering GDAL 1.8 64-bit with Python 2.7 on Windows
	7
In-Reply-To: <4DC1A22B.4050807@ciesin.columbia.edu>
References: <4DC1A22B.4050807@ciesin.columbia.edu>
Message-ID: <BANLkTimdPknTuiEQVEKMfgBfTYop-82RUA@mail.gmail.com>

Have you added C:\Program Files\GDAL to the *PATH* environment variable?

Best regards,

Tamas



2011/5/4 Gregory Yetman <gyetman@ciesin.columbia.edu>

> Hi,
>
> I'm pulling my hair out over what should be a simple problem. I'm trying to
> use the pre-compiled GDAL library and bindings published here:
>
>
> http://vbkto.dyndns.org/sdk/PackageList.aspx?file=release-1400-x64-gdal-1-8-mapserver-5-6.zip
>
> To implement a pure 64-bit Python and GDAL combo (I already have numpy
> 64-bit working with python 2.7 64-bit).
>
> GDAL is working on on the system, gdalinfo --version returns:
>
> GDAL 1.8.0, released 2011/01/12
>
> and python works fine as well. I installed the bindings with no error
> messages and rebooted, but if I try and import gdal I get:
>
> >>> from osgeo import gdal
> Traceback (most recent call last):
>  File "<stdin>", line 1, in <module>
>  File "C:\Python27\Lib\site-packages\osgeo\__init__.py", line 21, in
> <module>
>    _gdal = swig_import_helper()
>  File "C:\Python27\Lib\site-packages\osgeo\__init__.py", line 17, in
> swig_import_helper
>    _mod = imp.load_module('_gdal', fp, pathname, description)
> ImportError: DLL load failed: The specified module could not be found.
> >>>
>
> I created a PYTHONPATH system variable and set it to:
>
> C:\Python27\Lib\site-packages;C:\Python27\Lib\site-packages\osgeo;C:\Program
> Files\GDAL
>
> to no avail.
>
> Any suggestions?
>
> I'm trying to get the 64 bit versions working because when I try and open a
> large raster as an array using
> DatasetReadAsArray I get an error; suggestions on another mailing list were
> that this was because the 32 bit library can only handle rasters up to 2GB
> and the ones I am working with are larger than that.
>
> TIA,
>
> Greg
>
>
>
> --
> Gregory Yetman
> CIESIN, Columbia University
> +1-845-365-8982
> http://www.ciesin.columbia.edu
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110504/145a84dc/attachment.html
From juliannerc at gmail.com  Wed May  4 17:33:02 2011
From: juliannerc at gmail.com (Juliannerc)
Date: Wed May  4 19:09:25 2011
Subject: [gdal-dev] python memory driver
Message-ID: <1304544782797-6332439.post@n2.nabble.com>

I have been working with the examples/testers from

# Project:  GDAL/OGR Test Suite
# Purpose:  Test RasterizeLayer() and related calls.
# Author:   Frank Warmerdam &lt;warmerdam@pobox.com&gt;

If at all possible, I would like to be able to use the memory raster
contents directly.  However, if I understand the code, the image is written
in a more concrete format (gtiff, etc.) to the file system.  The image can
then by read back using the ReadAsArray method.

The intended use is for display (e.g., 1000 x 1600) rather than fine grained
printing.  Also, if the memory area is more accessible, it might be possible
to manage the application as a series of images, keeping more static ones
unchanged, while updating dynamic parts, with the display being a merge of
the two.

gdal and ogr are nearly ideal for the application (generating georeferenced
images, lines, etc.).  Are there examples of how operate without the file
write or is this a feature that could be added?

Regards,

Julianne

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/python-memory-driver-tp6332439p6332439.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Bill.Teluk at team.telstra.com  Wed May  4 22:00:59 2011
From: Bill.Teluk at team.telstra.com (Bill Teluk)
Date: Wed May  4 23:52:05 2011
Subject: [gdal-dev] Re: EPSG value
In-Reply-To: <C7E1001B-7955-43D7-B28C-03C7678A3358@gmail.com>
References: <AANLkTimObjkOULt1Az-k6Wx9eT_KDWZ5ghtU5CR_uWLP@mail.gmail.com>
	<loom.20101105T150456-55@post.gmane.org>
	<C7E1001B-7955-43D7-B28C-03C7678A3358@gmail.com>
Message-ID: <1304560859697-6332931.post@n2.nabble.com>

If I understand correctly from above, would it be correct to say that if
ogrinfo/ogr2ogr doesn't see an "EPSG" value specified in the WKT, it cannot
derive the EPSG code? eg. the ogr utilities won't translate a WKT to an EPSG
code?

I ask because I have a dataset that is in GDA94, but uses an unusual WKT for
the CRS spec (and there are no EPSG's specifed) - when we used ogr2ogr to
load it into Postgis, it created it's own SRID (900914) instead of using
4283.

Below are two GDA94 WKT's, neither of which translated to the "expected"
EPSG/SRID.

Thanks in advance!

Layer SRS WKT:
GEOGCS["Unknown",
    DATUM["GDA94",
        SPHEROID["GRS_80",6378137,298.257222101]],
    PRIMEM["Greenwich",0],
    UNIT["Degree",0.017453292519943295]]


Layer SRS WKT:
GEOGCS["GCS_GDA_1994",
    DATUM["Geocentric_Datum_of_Australia_1994",
        SPHEROID["GRS_1980",6378137.0,298.257222101]],
    PRIMEM["Greenwich",0.0],
    UNIT["Degree",0.0174532925199433]]


--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-EPSG-value-tp5708841p6332931.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Thu May  5 01:55:32 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu May  5 03:59:45 2011
Subject: [gdal-dev] python memory driver
In-Reply-To: <1304544782797-6332439.post@n2.nabble.com>
References: <1304544782797-6332439.post@n2.nabble.com>
Message-ID: <BANLkTindQ4AGs8a6ATjNbWYEz4HT2bNhmQ@mail.gmail.com>

Julianne,

There are in-memory format drivers for this purpose.
http://www.gdal.org/frmt_mem.html
http://www.gdal.org/ogr/drv_memory.html

On Thu, May 5, 2011 at 3:03 AM, Juliannerc <juliannerc@gmail.com> wrote:

> I have been working with the examples/testers from
>
> # Project:  GDAL/OGR Test Suite
> # Purpose:  Test RasterizeLayer() and related calls.
> # Author:   Frank Warmerdam &lt;warmerdam@pobox.com&gt;
>
> If at all possible, I would like to be able to use the memory raster
> contents directly.  However, if I understand the code, the image is written
> in a more concrete format (gtiff, etc.) to the file system.  The image can
> then by read back using the ReadAsArray method.
>
> The intended use is for display (e.g., 1000 x 1600) rather than fine
> grained
> printing.  Also, if the memory area is more accessible, it might be
> possible
> to manage the application as a series of images, keeping more static ones
> unchanged, while updating dynamic parts, with the display being a merge of
> the two.
>
> gdal and ogr are nearly ideal for the application (generating georeferenced
> images, lines, etc.).  Are there examples of how operate without the file
> write or is this a feature that could be added?
>
> Regards,
>
> Julianne
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/python-memory-driver-tp6332439p6332439.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110505/a8066088/attachment.html
From even.rouault at mines-paris.org  Thu May  5 03:52:44 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May  5 06:03:16 2011
Subject: [gdal-dev] Re: EPSG value
In-Reply-To: <1304560859697-6332931.post@n2.nabble.com>
References: <AANLkTimObjkOULt1Az-k6Wx9eT_KDWZ5ghtU5CR_uWLP@mail.gmail.com>
	<loom.20101105T150456-55@post.gmane.org>
	<C7E1001B-7955-43D7-B28C-03C7678A3358@gmail.com>
	<1304560859697-6332931.post@n2.nabble.com>
Message-ID: <1304581964.4dc2574c41c7a@webmail.free.fr>

Selon Bill Teluk <Bill.Teluk@team.telstra.com>:

> If I understand correctly from above, would it be correct to say that if
> ogrinfo/ogr2ogr doesn't see an "EPSG" value specified in the WKT, it cannot
> derive the EPSG code? eg. the ogr utilities won't translate a WKT to an EPSG
> code?

Exactly. OGR will not try to guess the EPSG code if it's missing in the WKT. I
assume that the below WKT come from shapefiles ? ESRI WKT doesn't include EPSG
codes... And I'm afraid that even if we tried, it wouldn't be possible to guess
the EPSG code because the WKT definition could possibly come from other
authorities than EPSG, or due to the loss of info in ESRI WKT, you could also
perhaps find several EPSG SRS that translate the same...

>
> I ask because I have a dataset that is in GDA94, but uses an unusual WKT for
> the CRS spec (and there are no EPSG's specifed) - when we used ogr2ogr to
> load it into Postgis, it created it's own SRID (900914) instead of using
> 4283.

You can workaround this by adding -a_srs EPSG:4283.

>
> Below are two GDA94 WKT's, neither of which translated to the "expected"
> EPSG/SRID.
>
> Thanks in advance!
>
> Layer SRS WKT:
> GEOGCS["Unknown",
>     DATUM["GDA94",
>         SPHEROID["GRS_80",6378137,298.257222101]],
>     PRIMEM["Greenwich",0],
>     UNIT["Degree",0.017453292519943295]]
>
>
> Layer SRS WKT:
> GEOGCS["GCS_GDA_1994",
>     DATUM["Geocentric_Datum_of_Australia_1994",
>         SPHEROID["GRS_1980",6378137.0,298.257222101]],
>     PRIMEM["Greenwich",0.0],
>     UNIT["Degree",0.0174532925199433]]
>
>
> --
> View this message in context:
>
http://osgeo-org.1803224.n2.nabble.com/gdal-dev-EPSG-value-tp5708841p6332931.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From alexto1978 at gmail.com  Thu May  5 04:22:29 2011
From: alexto1978 at gmail.com (alexjang)
Date: Thu May  5 06:34:31 2011
Subject: [gdal-dev] Questions about the FWTools in Csharp
Message-ID: <1304583749969-6333538.post@n2.nabble.com>

Hello all,
    I'm new one to gdal. Now I have to do some spatial data format
transformations, and I know of gdal from the internet. To avoid compiling
gdal source data I download FWTools2.7.4. According to some guidances from
the internet , I copy gdal_csharp.dll, gdalconst_csharp.dll, ogr_csharp.dll,
osr_csharp.dll, gdal_wrap.dll, gdalconst_wrap.dll, ogr_wrap.dll,
osr_wrap.dll to the  bin\debug folder of my Csharp project directory, add
*_csharp.dll as the references of the project, and add C:\Program
Files\FWTools2.4.7\bin to the PATH setting, which i'm sure is successful. In
Csharp when I execute my code after its successful building, the
OSGeo.OGR.Ogr.RegisterAll()  throw an error, the detail of which is in the
insert image.

http://osgeo-org.1803224.n2.nabble.com/file/n6333538/%E6%88%AA%E5%9B%BE1.bmp 

Any suggestion will be very appreciated. Thank you !

Alex
2011-5-4

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Questions-about-the-FWTools-in-Csharp-tp6333538p6333538.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From simonpayne2007 at yahoo.co.uk  Thu May  5 04:53:21 2011
From: simonpayne2007 at yahoo.co.uk (Simon Payne)
Date: Thu May  5 07:07:09 2011
Subject: [gdal-dev] OGR feature style spec and LABEL style parts - not
	working apparently
Message-ID: <229676.71331.qm@web28004.mail.ukl.yahoo.com>

For context, please see this posting from April: http://lists.osgeo.org/pipermail/gdal-dev/2011-April/028328.html 

thanks

Simon

--- On Tue, 3/5/11, Simon Payne <simonpayne2007@yahoo.co.uk> wrote:

> From: Simon Payne <simonpayne2007@yahoo.co.uk>
> Subject: [gdal-dev] OGR feature style spec and LABEL style parts - not working apparently
> To: gdal-dev@lists.osgeo.org
> Date: Tuesday, 3 May, 2011, 13:52
> Hi Daniel,
>  
> As requested, I've raised this issue again. If you could
> take a look at this, that would be great.
>  
> thanks,
>  
> Simon Payne
> 
> 
From juliannerc at gmail.com  Thu May  5 10:29:14 2011
From: juliannerc at gmail.com (Juliannerc)
Date: Thu May  5 13:01:23 2011
Subject: [gdal-dev] Re: python memory driver
In-Reply-To: <BANLkTindQ4AGs8a6ATjNbWYEz4HT2bNhmQ@mail.gmail.com>
References: <1304544782797-6332439.post@n2.nabble.com>
	<BANLkTindQ4AGs8a6ATjNbWYEz4HT2bNhmQ@mail.gmail.com>
Message-ID: <1304605754552-6334436.post@n2.nabble.com>

Thanks for the response.

Are the code snippets below what you mean by the memory drivers?  

    #
    # Create a memory raster to rasterize into.
    #
    target_dr = gdal.GetDriverByName ('MEM')

    target_ds = target_dr.Create ('',
                                  1500, 
                                  1500, 
                                  3,
                                  gdal.GDT_Byte)     
...

    #
    # Create a memory layer to rasterize from.
    #
    rast_dr = ogr.GetDriverByName ('Memory')

    rast_ogr_ds = rast_dr.CreateDataSource ('wrk') 

That part of the example code works fine.  The lines and polygons created in
the ogr layer are rasterized as expected according to the transform
settings:

    #
    # Run the algorithm.
    #
    err = gdal.RasterizeLayer (target_ds,
                               [2, 3, 1],
                               rast_mem_lyr,
                               burn_values = [240, 80, 200]) 


At this point, I believe that the raster image(s) (per layer) are in the
memory because the write to the disk produces the expected image:
        out_dr = gdal.GetDriverByName ('pnm')

        out_dr.CreateCopy ('./rasterize_1.ppm',
                           target_ds)

My BIG question is whether or not there is a way to get at the memory
portion of the raster bands.  The ideal way (in Python) would be to get a
numpy array as one does in the ReadAsArray option.  However, I'm not sure
that there is a way, and if so, how to do it.

I believe that the C interface allows one access to the data store using:

OGR_Dr_CreateDataSource

If all else fails, one can create the images, write them to disk (maybe
memory file?) and then read them back as needed.  It seems unnecessary to
have to go through the compression/write step when the object is right
there.

Further clarification would be very welcome.

Julianne

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/python-memory-driver-tp6332439p6334436.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Thu May  5 10:53:41 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu May  5 13:27:38 2011
Subject: [gdal-dev] Re: python memory driver
In-Reply-To: <1304605754552-6334436.post@n2.nabble.com>
References: <1304544782797-6332439.post@n2.nabble.com>
	<BANLkTindQ4AGs8a6ATjNbWYEz4HT2bNhmQ@mail.gmail.com>
	<1304605754552-6334436.post@n2.nabble.com>
Message-ID: <BANLkTim7uNp80UacST-Dixpbz5x_9gfkXA@mail.gmail.com>

Julianne,

You can use the Memory raster driver just like you would use any other
format driver. Use the ReadRaster() function.
Refer to http://www.gdal.org/gdal_tutorial.html

On Thu, May 5, 2011 at 7:59 PM, Juliannerc <juliannerc@gmail.com> wrote:

> Thanks for the response.
>
> Are the code snippets below what you mean by the memory drivers?
>
>    #
>    # Create a memory raster to rasterize into.
>    #
>    target_dr = gdal.GetDriverByName ('MEM')
>
>    target_ds = target_dr.Create ('',
>                                  1500,
>                                  1500,
>                                  3,
>                                  gdal.GDT_Byte)
> ...
>
>    #
>    # Create a memory layer to rasterize from.
>    #
>    rast_dr = ogr.GetDriverByName ('Memory')
>
>    rast_ogr_ds = rast_dr.CreateDataSource ('wrk')
>
> That part of the example code works fine.  The lines and polygons created
> in
> the ogr layer are rasterized as expected according to the transform
> settings:
>
>    #
>    # Run the algorithm.
>    #
>    err = gdal.RasterizeLayer (target_ds,
>                               [2, 3, 1],
>                               rast_mem_lyr,
>                               burn_values = [240, 80, 200])
>
>
> At this point, I believe that the raster image(s) (per layer) are in the
> memory because the write to the disk produces the expected image:
>        out_dr = gdal.GetDriverByName ('pnm')
>
>        out_dr.CreateCopy ('./rasterize_1.ppm',
>                           target_ds)
>
> My BIG question is whether or not there is a way to get at the memory
> portion of the raster bands.  The ideal way (in Python) would be to get a
> numpy array as one does in the ReadAsArray option.  However, I'm not sure
> that there is a way, and if so, how to do it.
>
> I believe that the C interface allows one access to the data store using:
>
> OGR_Dr_CreateDataSource
>
> If all else fails, one can create the images, write them to disk (maybe
> memory file?) and then read them back as needed.  It seems unnecessary to
> have to go through the compression/write step when the object is right
> there.
>
> Further clarification would be very welcome.
>
> Julianne
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/python-memory-driver-tp6332439p6334436.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110505/f6884d9e/attachment.html
From juliannerc at gmail.com  Thu May  5 12:18:29 2011
From: juliannerc at gmail.com (Juliannerc)
Date: Thu May  5 14:56:29 2011
Subject: [gdal-dev] Re: python memory driver
In-Reply-To: <BANLkTim7uNp80UacST-Dixpbz5x_9gfkXA@mail.gmail.com>
References: <1304544782797-6332439.post@n2.nabble.com>
	<BANLkTindQ4AGs8a6ATjNbWYEz4HT2bNhmQ@mail.gmail.com>
	<1304605754552-6334436.post@n2.nabble.com>
	<BANLkTim7uNp80UacST-Dixpbz5x_9gfkXA@mail.gmail.com>
Message-ID: <1304612309178-6334776.post@n2.nabble.com>

I believe that I have the example working.  When using the command 'print
an_array', it wasn't showing the parts that contained non-zero data.  Once I
realized that, everything seems to work as expected.

Thanks for the support.

Julianne

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/python-memory-driver-tp6332439p6334776.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Thu May  5 14:16:59 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May  5 17:01:36 2011
Subject: [gdal-dev] Warping an image from C
In-Reply-To: <BANLkTinceDyGekuNXADN2i_KmYxqO8si+g@mail.gmail.com>
References: <BANLkTinceDyGekuNXADN2i_KmYxqO8si+g@mail.gmail.com>
Message-ID: <201105052016.59341.even.rouault@mines-paris.org>

Le mercredi 04 mai 2011 16:52:02, Bborie Park a ?crit :
> Hi,
> 
> I'm currently in the process of seeing what can be done to expose
> GDAL's C warp functions to PostGIS Raster and am wondering if I have
> hit a roadblock.
> 
> >From the docs for gdal_alg.h, it appears that the warp functionality
> 
> available is limited to GDALSimpleImageWarp and its limitations.  Is
> this conclusion correct?  I did take a look at gdalwarpsimple.c
> (https://svn.osgeo.org/gdal/trunk/gdal/apps/gdalwarpsimple.c) and it
> appears to confirm my initial thoughts.
> 
> Are there any plans to expand the C warp API?  If not, would anyone
> mind if I took a stab at it?

I was going to answer : no, indeed there isn't any C warp API for the "full 
warping mode" (i.e. for what would be needed by the gdalwarp utility), because 
I know that gdalwarp.cpp (the source code of gdalwarp utility) use a few C++ 
warp API, but I rechecked for confirmation and in alg/gdalwarper.h I can 
actually see :

GDALWarpOperationH CPL_DLL GDALCreateWarpOperation(const GDALWarpOptions* );
void CPL_DLL GDALDestroyWarpOperation( GDALWarpOperationH );
CPLErr CPL_DLL GDALChunkAndWarpImage( GDALWarpOperationH, int, int, int, int 
);
CPLErr CPL_DLL GDALChunkAndWarpMulti( GDALWarpOperationH, int, int, int, int 
);

So I believe you can accomplish from C code all what gdalwarp does currently 
do. Do you need something else ?

> 
> Thanks,
> Bborie
From even.rouault at mines-paris.org  Thu May  5 14:21:59 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May  5 17:06:50 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
Message-ID: <201105052021.59873.even.rouault@mines-paris.org>

Le mercredi 04 mai 2011 00:40:42, Kyle Shannon a ?crit :
> I am using AutoCreateWarpedVRT to warp a dataset.  I grab the the source
> nodata for a band using
> 
> double noData = poBand->GetNoDataValue( &pbSuccess );
> 
> which returns 1.#QNAN00000000... on windows.
> 
> I then try to set the INIT_DEST with this using
> 
> psWarpOptions->papszWarpOptions =
>         CSLSetNameValue( psWarpOptions->papszWarpOptions,
>                  "INIT_DEST", CPLSPrintf( "%lf", noData ) );
> 
> This works on linux when it returns nan(0x8000000000000), but not on
> windows, is there a different string I need to set in the warp options?

Those NaN values are generally a nighmare to deal with...

But a quick look at :

    const char *pszInitDest = CSLFetchNameValue( psOptions->papszWarpOptions,
                                                 "INIT_DEST" );

    if( pszInitDest != NULL && !EQUAL(pszInitDest, "") )
    {
        char **papszInitValues = 
            CSLTokenizeStringComplex( pszInitDest, ",", FALSE, FALSE );
        int nInitCount = CSLCount(papszInitValues);
                                                           
        for( iBand = 0; iBand < psOptions->nBandCount; iBand++ )
        {
            double adfInitRealImag[2];
            GByte *pBandData;
            const char *pszBandInit = 
papszInitValues[MIN(iBand,nInitCount-1)];

            if( EQUAL(pszBandInit,"NO_DATA")
                && psOptions->padfDstNoDataReal != NULL )
            {
                adfInitRealImag[0] = psOptions->padfDstNoDataReal[iBand];
                adfInitRealImag[1] = psOptions->padfDstNoDataImag[iBand];
            }
            else
            {
                CPLStringToComplex( pszBandInit,
                                    adfInitRealImag + 0, adfInitRealImag + 1);
            }

Make me believe that one way is to assign the value(s) of the 
padfDstNoDataReal[] array of psWarpOptions with the noData (NAN) value and set 
INIT_DEST to the "NO_DATA" string.

> 
> Thanks.
> 
> 
> /**
>  *
>  * Kyle Shannon
>  * ksshannon@gmail.com
>  *
>  */
From even.rouault at mines-paris.org  Thu May  5 14:32:29 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May  5 17:17:56 2011
Subject: [gdal-dev] Help with gdal_translate and WMS/TMS
In-Reply-To: <006701cc09d0$d42fc610$7c8f5230$@morallan.com>
References: <006701cc09d0$d42fc610$7c8f5230$@morallan.com>
Message-ID: <201105052032.29291.even.rouault@mines-paris.org>

Le mardi 03 mai 2011 22:29:38, Jeremy a ?crit :

The following works for me (in dev version, but should also work with 1.8 - I 
believe) :

gdal_translate frmts/wms/frmt_wms_googlemaps_tms.xml out.tif -projwin 
-12712685  6656748 -12679290 6621294 -outsize 1% 1%


> Hello,
> 
> 
> 
> I would like to be able to load a specific area of , for example, Google
> Maps using the WMS/TMS driver in GDAL 1.8.  I am able to create a PNG file
> of the full world map at the maximum tile level using gdal_translate and
> the sample xml file at http://www.gdal.org/frmt_wms_googlemaps_tms.xml:
> 
> 
> 
> gdal_translate -of PNG -outsize 512 512 frmt_wms_googlemaps_tms.xml
> output.png
> 
> 
> 
> However, I'm having problems loading a specific area.  I've tried all sorts
> of combinations of -projwin and -srcwin flags in gdal_translate without
> success, .  The sites that have -projwin examples in the GDAL WMS examples
> are no longer available (OnEarth and  NYSDOP 2004).  I've also tried
> changing the xml fields to reflect my desired area, again without success.
> 
> 
> 
> Would it be too much trouble to walk me through the steps of creating a PNG
> file of Google Maps for Calgary, Canada with the following bounds?
> 
> Decimal degrees: upper-left: [-114.2, 51.2], lower-right: [-113.9, 51.0]
> 
> Mercator (I think!): upper-left: [-12712685, 6656748], lower-right:
> [-12679290, 6621294]
> 
> 
> 
> Any advice/tips would be appreciated!
> 
> 
> 
> Thanks in advance,
> 
> Jeremy
From mafunk at nmsu.edu  Thu May  5 16:57:12 2011
From: mafunk at nmsu.edu (mafunk@nmsu.edu)
Date: Thu May  5 19:52:38 2011
Subject: [gdal-dev] gdal reading in grib values in awrong state?
Message-ID: <50401.128.123.106.145.1304629032.squirrel@webmail.nmsu.edu>

Hi,
i am a little confused. I am using the gdal/python and trying to read
values from a grib file (i can email the file if needed). I am using
pygrib to compare against. I do this with the following code:

import struct

import pygrib

from osgeo import gdal
from osgeo import ogr
from osgeo import osr
from osgeo import gdal_array
from osgeo import gdalconst
from osgeo.gdalconst import *

import numpy as np
from numpy import *

#path = "../Data"
#filename = "%s/ds.temp.bin" % (path)
filename = "ds.temp.bin"

print "\n\nTesting with pygrib, opening file: %s\n" % (filename)
grbs = pygrib.open(filename)
rows = -1
cols = -1
grbs.seek(0)
for grb in grbs:
    print "grb:"
    grb
    print "grb.keys():"
    print grb.keys()
    for key in grb.keys():
        print "\nKey: " + key
        print "data:"
        print grb[key]



    #print "grb['values']"
    #print grb['values']
    #print "grb['codedValues']"
    #print grb['codedValues']

    (pg_lats,pg_lons) = grb.latlons()
    pg_rows = pg_lats.shape[0]
    pg_cols = pg_lats.shape[1]
            #print test
            #print lats.shape, lats.min(), lats.max(), lons.shape,
lons.min(), lons.max()
            #lat_pygrib_arr = []
    print size(pg_lats)
print "\n\n"


## open with gdal
ds = gdal.Open(filename)
band = ds.GetRasterBand(1)
data = band.ReadAsArray(0,0,band.XSize,band.YSize)#.flatten()
print "data:"
print data


The data values i get from pygrib are:
data:
[[ 294.5   294.5   294.5  ...,  298.31  298.32  298.32]
 [ 294.5   294.5   294.5  ...,  298.32  298.22  298.22]
 [ 294.4   294.4   294.4  ...,  298.22  298.22  298.22]
 ...,
 [ 280.91  280.91  280.81 ...,  264.2   264.3   264.5 ]
 [ 280.81  280.81  280.81 ...,  263.5   263.7   263.9 ]
 [ 280.81  280.81  280.81 ...,  262.8   263.    263.3 ]]

The values i get from gdal are:
data:
[[  7.65999756   7.65999756   7.65999756 ..., -10.35001221 -10.15
   -9.85001221]
 [  7.65999756   7.65999756   7.65999756 ...,  -9.65        -9.45001831
   -9.2500061 ]
 [  7.76000366   7.76000366   7.65999756 ...,  -8.95001831  -8.85001221
   -8.65      ]
 ...,
 [ 21.2499939   21.2499939   21.2499939  ...,  25.07000122  25.07000122
   25.07000122]
 [ 21.35        21.35        21.35       ...,  25.17000732  25.07000122
   25.07000122]
 [ 21.35        21.35        21.35       ...,  25.15999756  25.17000732
   25.17000732]]

Is there anything obvious that i am doing wrong?

thanks
matt


From rush at winkey.org  Thu May  5 17:09:42 2011
From: rush at winkey.org (Brian Case)
Date: Thu May  5 20:04:07 2011
Subject: [gdal-dev] gdal reading in grib values in awrong state?
In-Reply-To: <50401.128.123.106.145.1304629032.squirrel@webmail.nmsu.edu>
References: <50401.128.123.106.145.1304629032.squirrel@webmail.nmsu.edu>
Message-ID: <1304629782.26325.68.camel@octopi>

Matt,

At a quick glance I would say pygrib is outputting in kelvin and gdal
Celsius. also it looks like there not in the same order.

Brian



On Thu, 2011-05-05 at 14:57 -0600, mafunk@nmsu.edu wrote:
> Hi,
> i am a little confused. I am using the gdal/python and trying to read
> values from a grib file (i can email the file if needed). I am using
> pygrib to compare against. I do this with the following code:
> 
> import struct
> 
> import pygrib
> 
> from osgeo import gdal
> from osgeo import ogr
> from osgeo import osr
> from osgeo import gdal_array
> from osgeo import gdalconst
> from osgeo.gdalconst import *
> 
> import numpy as np
> from numpy import *
> 
> #path = "../Data"
> #filename = "%s/ds.temp.bin" % (path)
> filename = "ds.temp.bin"
> 
> print "\n\nTesting with pygrib, opening file: %s\n" % (filename)
> grbs = pygrib.open(filename)
> rows = -1
> cols = -1
> grbs.seek(0)
> for grb in grbs:
>     print "grb:"
>     grb
>     print "grb.keys():"
>     print grb.keys()
>     for key in grb.keys():
>         print "\nKey: " + key
>         print "data:"
>         print grb[key]
> 
> 
> 
>     #print "grb['values']"
>     #print grb['values']
>     #print "grb['codedValues']"
>     #print grb['codedValues']
> 
>     (pg_lats,pg_lons) = grb.latlons()
>     pg_rows = pg_lats.shape[0]
>     pg_cols = pg_lats.shape[1]
>             #print test
>             #print lats.shape, lats.min(), lats.max(), lons.shape,
> lons.min(), lons.max()
>             #lat_pygrib_arr = []
>     print size(pg_lats)
> print "\n\n"
> 
> 
> ## open with gdal
> ds = gdal.Open(filename)
> band = ds.GetRasterBand(1)
> data = band.ReadAsArray(0,0,band.XSize,band.YSize)#.flatten()
> print "data:"
> print data
> 
> 
> The data values i get from pygrib are:
> data:
> [[ 294.5   294.5   294.5  ...,  298.31  298.32  298.32]
>  [ 294.5   294.5   294.5  ...,  298.32  298.22  298.22]
>  [ 294.4   294.4   294.4  ...,  298.22  298.22  298.22]
>  ...,
>  [ 280.91  280.91  280.81 ...,  264.2   264.3   264.5 ]
>  [ 280.81  280.81  280.81 ...,  263.5   263.7   263.9 ]
>  [ 280.81  280.81  280.81 ...,  262.8   263.    263.3 ]]
> 
> The values i get from gdal are:
> data:
> [[  7.65999756   7.65999756   7.65999756 ..., -10.35001221 -10.15
>    -9.85001221]
>  [  7.65999756   7.65999756   7.65999756 ...,  -9.65        -9.45001831
>    -9.2500061 ]
>  [  7.76000366   7.76000366   7.65999756 ...,  -8.95001831  -8.85001221
>    -8.65      ]
>  ...,
>  [ 21.2499939   21.2499939   21.2499939  ...,  25.07000122  25.07000122
>    25.07000122]
>  [ 21.35        21.35        21.35       ...,  25.17000732  25.07000122
>    25.07000122]
>  [ 21.35        21.35        21.35       ...,  25.15999756  25.17000732
>    25.17000732]]
> 
> Is there anything obvious that i am doing wrong?
> 
> thanks
> matt
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From mafunk at nmsu.edu  Thu May  5 18:05:30 2011
From: mafunk at nmsu.edu (Matt Funk)
Date: Thu May  5 21:02:55 2011
Subject: [gdal-dev] gdal reading in grib values in awrong state?
In-Reply-To: <1304629782.26325.68.camel@octopi>
References: <50401.128.123.106.145.1304629032.squirrel@webmail.nmsu.edu>
	<1304629782.26325.68.camel@octopi>
Message-ID: <4DC31F2A.2000208@nmsu.edu>

Yup,
that was it. I should have looked a little closer i suppose ...

thanks
matt

On 5/5/2011 3:09 PM, Brian Case wrote:
> Matt,
>
> At a quick glance I would say pygrib is outputting in kelvin and gdal
> Celsius. also it looks like there not in the same order.
>
> Brian
>
>
>
> On Thu, 2011-05-05 at 14:57 -0600, mafunk@nmsu.edu wrote:
>> Hi,
>> i am a little confused. I am using the gdal/python and trying to read
>> values from a grib file (i can email the file if needed). I am using
>> pygrib to compare against. I do this with the following code:
>>
>> import struct
>>
>> import pygrib
>>
>> from osgeo import gdal
>> from osgeo import ogr
>> from osgeo import osr
>> from osgeo import gdal_array
>> from osgeo import gdalconst
>> from osgeo.gdalconst import *
>>
>> import numpy as np
>> from numpy import *
>>
>> #path = "../Data"
>> #filename = "%s/ds.temp.bin" % (path)
>> filename = "ds.temp.bin"
>>
>> print "\n\nTesting with pygrib, opening file: %s\n" % (filename)
>> grbs = pygrib.open(filename)
>> rows = -1
>> cols = -1
>> grbs.seek(0)
>> for grb in grbs:
>>     print "grb:"
>>     grb
>>     print "grb.keys():"
>>     print grb.keys()
>>     for key in grb.keys():
>>         print "\nKey: " + key
>>         print "data:"
>>         print grb[key]
>>
>>
>>
>>     #print "grb['values']"
>>     #print grb['values']
>>     #print "grb['codedValues']"
>>     #print grb['codedValues']
>>
>>     (pg_lats,pg_lons) = grb.latlons()
>>     pg_rows = pg_lats.shape[0]
>>     pg_cols = pg_lats.shape[1]
>>             #print test
>>             #print lats.shape, lats.min(), lats.max(), lons.shape,
>> lons.min(), lons.max()
>>             #lat_pygrib_arr = []
>>     print size(pg_lats)
>> print "\n\n"
>>
>>
>> ## open with gdal
>> ds = gdal.Open(filename)
>> band = ds.GetRasterBand(1)
>> data = band.ReadAsArray(0,0,band.XSize,band.YSize)#.flatten()
>> print "data:"
>> print data
>>
>>
>> The data values i get from pygrib are:
>> data:
>> [[ 294.5   294.5   294.5  ...,  298.31  298.32  298.32]
>>  [ 294.5   294.5   294.5  ...,  298.32  298.22  298.22]
>>  [ 294.4   294.4   294.4  ...,  298.22  298.22  298.22]
>>  ...,
>>  [ 280.91  280.91  280.81 ...,  264.2   264.3   264.5 ]
>>  [ 280.81  280.81  280.81 ...,  263.5   263.7   263.9 ]
>>  [ 280.81  280.81  280.81 ...,  262.8   263.    263.3 ]]
>>
>> The values i get from gdal are:
>> data:
>> [[  7.65999756   7.65999756   7.65999756 ..., -10.35001221 -10.15
>>    -9.85001221]
>>  [  7.65999756   7.65999756   7.65999756 ...,  -9.65        -9.45001831
>>    -9.2500061 ]
>>  [  7.76000366   7.76000366   7.65999756 ...,  -8.95001831  -8.85001221
>>    -8.65      ]
>>  ...,
>>  [ 21.2499939   21.2499939   21.2499939  ...,  25.07000122  25.07000122
>>    25.07000122]
>>  [ 21.35        21.35        21.35       ...,  25.17000732  25.07000122
>>    25.07000122]
>>  [ 21.35        21.35        21.35       ...,  25.15999756  25.17000732
>>    25.17000732]]
>>
>> Is there anything obvious that i am doing wrong?
>>
>> thanks
>> matt
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From BCassanova at weather.com  Thu May  5 18:33:40 2011
From: BCassanova at weather.com (Cassanova, Bill)
Date: Thu May  5 21:32:30 2011
Subject: [gdal-dev] gdal reading in grib values in awrong state?
In-Reply-To: <1304629782.26325.68.camel@octopi>
References: <50401.128.123.106.145.1304629032.squirrel@webmail.nmsu.edu>,
	<1304629782.26325.68.camel@octopi>
Message-ID: <552B6BC7-E8AC-48DF-B181-C598F6A3D7A0@weather.com>

I have noticed the same thing.  My question is why would gdal do a conversion that you had not asked for?  We create some of our own grib2 files that may at times have unitless values.  For some odd reason they are being converted to Celsius as well.  

Sent from my iPad

On May 5, 2011, at 5:09 PM, "Brian Case" <rush@winkey.org> wrote:

> Matt,
> 
> At a quick glance I would say pygrib is outputting in kelvin and gdal
> Celsius. also it looks like there not in the same order.
> 
> Brian
> 
> 
> 
> On Thu, 2011-05-05 at 14:57 -0600, mafunk@nmsu.edu wrote:
>> Hi,
>> i am a little confused. I am using the gdal/python and trying to read
>> values from a grib file (i can email the file if needed). I am using
>> pygrib to compare against. I do this with the following code:
>> 
>> import struct
>> 
>> import pygrib
>> 
>> from osgeo import gdal
>> from osgeo import ogr
>> from osgeo import osr
>> from osgeo import gdal_array
>> from osgeo import gdalconst
>> from osgeo.gdalconst import *
>> 
>> import numpy as np
>> from numpy import *
>> 
>> #path = "../Data"
>> #filename = "%s/ds.temp.bin" % (path)
>> filename = "ds.temp.bin"
>> 
>> print "\n\nTesting with pygrib, opening file: %s\n" % (filename)
>> grbs = pygrib.open(filename)
>> rows = -1
>> cols = -1
>> grbs.seek(0)
>> for grb in grbs:
>>    print "grb:"
>>    grb
>>    print "grb.keys():"
>>    print grb.keys()
>>    for key in grb.keys():
>>        print "\nKey: " + key
>>        print "data:"
>>        print grb[key]
>> 
>> 
>> 
>>    #print "grb['values']"
>>    #print grb['values']
>>    #print "grb['codedValues']"
>>    #print grb['codedValues']
>> 
>>    (pg_lats,pg_lons) = grb.latlons()
>>    pg_rows = pg_lats.shape[0]
>>    pg_cols = pg_lats.shape[1]
>>            #print test
>>            #print lats.shape, lats.min(), lats.max(), lons.shape,
>> lons.min(), lons.max()
>>            #lat_pygrib_arr = []
>>    print size(pg_lats)
>> print "\n\n"
>> 
>> 
>> ## open with gdal
>> ds = gdal.Open(filename)
>> band = ds.GetRasterBand(1)
>> data = band.ReadAsArray(0,0,band.XSize,band.YSize)#.flatten()
>> print "data:"
>> print data
>> 
>> 
>> The data values i get from pygrib are:
>> data:
>> [[ 294.5   294.5   294.5  ...,  298.31  298.32  298.32]
>> [ 294.5   294.5   294.5  ...,  298.32  298.22  298.22]
>> [ 294.4   294.4   294.4  ...,  298.22  298.22  298.22]
>> ...,
>> [ 280.91  280.91  280.81 ...,  264.2   264.3   264.5 ]
>> [ 280.81  280.81  280.81 ...,  263.5   263.7   263.9 ]
>> [ 280.81  280.81  280.81 ...,  262.8   263.    263.3 ]]
>> 
>> The values i get from gdal are:
>> data:
>> [[  7.65999756   7.65999756   7.65999756 ..., -10.35001221 -10.15
>>   -9.85001221]
>> [  7.65999756   7.65999756   7.65999756 ...,  -9.65        -9.45001831
>>   -9.2500061 ]
>> [  7.76000366   7.76000366   7.65999756 ...,  -8.95001831  -8.85001221
>>   -8.65      ]
>> ...,
>> [ 21.2499939   21.2499939   21.2499939  ...,  25.07000122  25.07000122
>>   25.07000122]
>> [ 21.35        21.35        21.35       ...,  25.17000732  25.07000122
>>   25.07000122]
>> [ 21.35        21.35        21.35       ...,  25.15999756  25.17000732
>>   25.17000732]]
>> 
>> Is there anything obvious that i am doing wrong?
>> 
>> thanks
>> matt
>> 
>> 
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Bill.Teluk at team.telstra.com  Thu May  5 19:11:20 2011
From: Bill.Teluk at team.telstra.com (Bill Teluk)
Date: Thu May  5 22:12:13 2011
Subject: [gdal-dev] Re: EPSG value
In-Reply-To: <1304581964.4dc2574c41c7a@webmail.free.fr>
References: <AANLkTimObjkOULt1Az-k6Wx9eT_KDWZ5ghtU5CR_uWLP@mail.gmail.com>
	<loom.20101105T150456-55@post.gmane.org>
	<C7E1001B-7955-43D7-B28C-03C7678A3358@gmail.com>
	<1304560859697-6332931.post@n2.nabble.com>
	<1304581964.4dc2574c41c7a@webmail.free.fr>
Message-ID: <1304637080997-6335944.post@n2.nabble.com>

Thanks Even, much appreciated!

Regards, Bill Teluk.

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-EPSG-value-tp5708841p6335944.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From rush at winkey.org  Thu May  5 19:19:11 2011
From: rush at winkey.org (Brian Case)
Date: Thu May  5 22:20:35 2011
Subject: [gdal-dev] gdal reading in grib values in awrong state?
In-Reply-To: <552B6BC7-E8AC-48DF-B181-C598F6A3D7A0@weather.com>
References: <50401.128.123.106.145.1304629032.squirrel@webmail.nmsu.edu>
	,<1304629782.26325.68.camel@octopi>
	<552B6BC7-E8AC-48DF-B181-C598F6A3D7A0@weather.com>
Message-ID: <1304637551.26325.70.camel@octopi>

Bill

gdal uses degrib to read grib files, best I can tell is it does whatever
degrib does by default

Brian


On Thu, 2011-05-05 at 22:33 +0000, Cassanova, Bill wrote:
> I have noticed the same thing.  My question is why would gdal do a conversion that you had not asked for?  We create some of our own grib2 files that may at times have unitless values.  For some odd reason they are being converted to Celsius as well.  
> 
> Sent from my iPad
> 
> On May 5, 2011, at 5:09 PM, "Brian Case" <rush@winkey.org> wrote:
> 
> > Matt,
> > 
> > At a quick glance I would say pygrib is outputting in kelvin and gdal
> > Celsius. also it looks like there not in the same order.
> > 
> > Brian
> > 
> > 
> > 
> > On Thu, 2011-05-05 at 14:57 -0600, mafunk@nmsu.edu wrote:
> >> Hi,
> >> i am a little confused. I am using the gdal/python and trying to read
> >> values from a grib file (i can email the file if needed). I am using
> >> pygrib to compare against. I do this with the following code:
> >> 
> >> import struct
> >> 
> >> import pygrib
> >> 
> >> from osgeo import gdal
> >> from osgeo import ogr
> >> from osgeo import osr
> >> from osgeo import gdal_array
> >> from osgeo import gdalconst
> >> from osgeo.gdalconst import *
> >> 
> >> import numpy as np
> >> from numpy import *
> >> 
> >> #path = "../Data"
> >> #filename = "%s/ds.temp.bin" % (path)
> >> filename = "ds.temp.bin"
> >> 
> >> print "\n\nTesting with pygrib, opening file: %s\n" % (filename)
> >> grbs = pygrib.open(filename)
> >> rows = -1
> >> cols = -1
> >> grbs.seek(0)
> >> for grb in grbs:
> >>    print "grb:"
> >>    grb
> >>    print "grb.keys():"
> >>    print grb.keys()
> >>    for key in grb.keys():
> >>        print "\nKey: " + key
> >>        print "data:"
> >>        print grb[key]
> >> 
> >> 
> >> 
> >>    #print "grb['values']"
> >>    #print grb['values']
> >>    #print "grb['codedValues']"
> >>    #print grb['codedValues']
> >> 
> >>    (pg_lats,pg_lons) = grb.latlons()
> >>    pg_rows = pg_lats.shape[0]
> >>    pg_cols = pg_lats.shape[1]
> >>            #print test
> >>            #print lats.shape, lats.min(), lats.max(), lons.shape,
> >> lons.min(), lons.max()
> >>            #lat_pygrib_arr = []
> >>    print size(pg_lats)
> >> print "\n\n"
> >> 
> >> 
> >> ## open with gdal
> >> ds = gdal.Open(filename)
> >> band = ds.GetRasterBand(1)
> >> data = band.ReadAsArray(0,0,band.XSize,band.YSize)#.flatten()
> >> print "data:"
> >> print data
> >> 
> >> 
> >> The data values i get from pygrib are:
> >> data:
> >> [[ 294.5   294.5   294.5  ...,  298.31  298.32  298.32]
> >> [ 294.5   294.5   294.5  ...,  298.32  298.22  298.22]
> >> [ 294.4   294.4   294.4  ...,  298.22  298.22  298.22]
> >> ...,
> >> [ 280.91  280.91  280.81 ...,  264.2   264.3   264.5 ]
> >> [ 280.81  280.81  280.81 ...,  263.5   263.7   263.9 ]
> >> [ 280.81  280.81  280.81 ...,  262.8   263.    263.3 ]]
> >> 
> >> The values i get from gdal are:
> >> data:
> >> [[  7.65999756   7.65999756   7.65999756 ..., -10.35001221 -10.15
> >>   -9.85001221]
> >> [  7.65999756   7.65999756   7.65999756 ...,  -9.65        -9.45001831
> >>   -9.2500061 ]
> >> [  7.76000366   7.76000366   7.65999756 ...,  -8.95001831  -8.85001221
> >>   -8.65      ]
> >> ...,
> >> [ 21.2499939   21.2499939   21.2499939  ...,  25.07000122  25.07000122
> >>   25.07000122]
> >> [ 21.35        21.35        21.35       ...,  25.17000732  25.07000122
> >>   25.07000122]
> >> [ 21.35        21.35        21.35       ...,  25.15999756  25.17000732
> >>   25.17000732]]
> >> 
> >> Is there anything obvious that i am doing wrong?
> >> 
> >> thanks
> >> matt
> >> 
> >> 
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > 
> > 
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev


From pradeepkumar.penchala at iiitb.net  Fri May  6 00:03:28 2011
From: pradeepkumar.penchala at iiitb.net (Pradeepkp)
Date: Fri May  6 03:20:23 2011
Subject: [gdal-dev] Ogr tutorial code in cpp not compiling due to errors
Message-ID: <1304654608121-6336405.post@n2.nabble.com>

Hello,

While I am compiling the code (cpp version) given in
http://www.gdal.org/ogr/ogr_apitut.html

I am getting lot of compilation errors. I am not sure why they are coming as
it is the code directly taken from the above given link. Can you please look
at the screenshots attached and let me know if I am making any mistakes in
running. 


These are few sample errors:

Code:

318: enum ogr_style_tool_param_pen_id
319:{ 
320:    OGRSTPenColor       = 0,                  
321:    OGRSTPenWidth       = 1,                  
322:    OGRSTPenPattern     = 2,
323:    OGRSTPenId          = 3,
324:    OGRSTPenPerOffset   = 4,
325:    OGRSTPenCap         = 5,
326:    OGRSTPenJoin        = 6,
327:    OGRSTPenPriority    = 7,
328:    OGRSTPenLast        = 8
              
330:  };
 
 332: enum ogr_style_tool_param_brush_id
 333: { 
 334:    OGRSTBrushFColor    = 0,                  
 335:    OGRSTBrushBColor    = 1,                  
 336:    OGRSTBrushId        = 2,
 337:    OGRSTBrushAngle     = 3,                  
 338:    OGRSTBrushSize      = 4,
 339:    OGRSTBrushDx        = 5,
 340:    OGRSTBrushDy        = 6,
 342:    OGRSTBrushPriority  = 7,
http://osgeo-org.1803224.n2.nabble.com/file/n6336405/screenshots_errors.tar.gz
screenshots_errors.tar.gz 
 343:    OGRSTBrushLast      = 8
 344:             
 345: };

/home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error: conflicting
declaration ?OGRSTPenLast?
/home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error:
?OGRSTPenLast? has a previous declaration as ?ogr_style_tool_param_pen_id
OGRSTPenLast?

/home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: multiple
definition of ?enum ogr_style_tool_param_brush_id?
/home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: previous
definition here

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336405.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Fri May  6 00:52:08 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri May  6 04:11:50 2011
Subject: [gdal-dev] Ogr tutorial code in cpp not compiling due to errors
In-Reply-To: <1304654608121-6336405.post@n2.nabble.com>
References: <1304654608121-6336405.post@n2.nabble.com>
Message-ID: <BANLkTi=XVJaVU7=A0Osz7UizYyGcN0++mg@mail.gmail.com>

Pradeep,

I see your ogr_core.h file is in a separate directory. Are you compiling ogr
without the gdal files?

Also, I couldn't open the screenshots archive.

On Fri, May 6, 2011 at 9:33 AM, Pradeepkp
<pradeepkumar.penchala@iiitb.net>wrote:

> Hello,
>
> While I am compiling the code (cpp version) given in
> http://www.gdal.org/ogr/ogr_apitut.html
>
> I am getting lot of compilation errors. I am not sure why they are coming
> as
> it is the code directly taken from the above given link. Can you please
> look
> at the screenshots attached and let me know if I am making any mistakes in
> running.
>
>
> These are few sample errors:
>
> Code:
>
> 318: enum ogr_style_tool_param_pen_id
> 319:{
> 320:    OGRSTPenColor       = 0,
> 321:    OGRSTPenWidth       = 1,
> 322:    OGRSTPenPattern     = 2,
> 323:    OGRSTPenId          = 3,
> 324:    OGRSTPenPerOffset   = 4,
> 325:    OGRSTPenCap         = 5,
> 326:    OGRSTPenJoin        = 6,
> 327:    OGRSTPenPriority    = 7,
> 328:    OGRSTPenLast        = 8
>
> 330:  };
>
>  332: enum ogr_style_tool_param_brush_id
>  333: {
>  334:    OGRSTBrushFColor    = 0,
>  335:    OGRSTBrushBColor    = 1,
>  336:    OGRSTBrushId        = 2,
>  337:    OGRSTBrushAngle     = 3,
>  338:    OGRSTBrushSize      = 4,
>  339:    OGRSTBrushDx        = 5,
>  340:    OGRSTBrushDy        = 6,
>  342:    OGRSTBrushPriority  = 7,
>
> http://osgeo-org.1803224.n2.nabble.com/file/n6336405/screenshots_errors.tar.gz
> screenshots_errors.tar.gz
>  343:    OGRSTBrushLast      = 8
>  344:
>  345: };
>
> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error: conflicting
> declaration ?OGRSTPenLast?
> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error:
> ?OGRSTPenLast? has a previous declaration as ?ogr_style_tool_param_pen_id
> OGRSTPenLast?
>
> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: multiple
> definition of ?enum ogr_style_tool_param_brush_id?
> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: previous
> definition here
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336405.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/ac9f9203/attachment-0001.html
From pradeepkumar.penchala at iiitb.net  Fri May  6 01:00:09 2011
From: pradeepkumar.penchala at iiitb.net (Pradeepkp)
Date: Fri May  6 04:20:10 2011
Subject: [gdal-dev] Re: Ogr tutorial code in cpp not compiling due to errors
In-Reply-To: <BANLkTi=XVJaVU7=A0Osz7UizYyGcN0++mg@mail.gmail.com>
References: <1304654608121-6336405.post@n2.nabble.com>
	<BANLkTi=XVJaVU7=A0Osz7UizYyGcN0++mg@mail.gmail.com>
Message-ID: <BANLkTin0Fc2PNGZzW-ydxk-CaDQgMg7Jpg@mail.gmail.com>

Hello Chaitanya,

ogr_core.h is present in the same directory where .cpp is present. Gdal
files, you mean the header files which are required right, I have included
all of them and are present in the same directory.


Thanks and Regards,
Pradeepkp

On Fri, May 6, 2011 at 10:22 AM, Chaitanya kumar CH [via OSGeo.org] <
ml-node+6336472-597452847-327800@n2.nabble.com> wrote:

> Pradeep,
>
> I see your ogr_core.h file is in a separate directory. Are you compiling
> ogr without the gdal files?
>
> Also, I couldn't open the screenshots archive.
>
> On Fri, May 6, 2011 at 9:33 AM, Pradeepkp <[hidden email]<http://user/SendEmail.jtp?type=node&node=6336472&i=0&by-user=t>
> > wrote:
>
>> Hello,
>>
>> While I am compiling the code (cpp version) given in
>> http://www.gdal.org/ogr/ogr_apitut.html
>>
>> I am getting lot of compilation errors. I am not sure why they are coming
>> as
>> it is the code directly taken from the above given link. Can you please
>> look
>> at the screenshots attached and let me know if I am making any mistakes in
>> running.
>>
>>
>> These are few sample errors:
>>
>> Code:
>>
>> 318: enum ogr_style_tool_param_pen_id
>> 319:{
>> 320:    OGRSTPenColor       = 0,
>> 321:    OGRSTPenWidth       = 1,
>> 322:    OGRSTPenPattern     = 2,
>> 323:    OGRSTPenId          = 3,
>> 324:    OGRSTPenPerOffset   = 4,
>> 325:    OGRSTPenCap         = 5,
>> 326:    OGRSTPenJoin        = 6,
>> 327:    OGRSTPenPriority    = 7,
>> 328:    OGRSTPenLast        = 8
>>
>> 330:  };
>>
>>  332: enum ogr_style_tool_param_brush_id
>>  333: {
>>  334:    OGRSTBrushFColor    = 0,
>>  335:    OGRSTBrushBColor    = 1,
>>  336:    OGRSTBrushId        = 2,
>>  337:    OGRSTBrushAngle     = 3,
>>  338:    OGRSTBrushSize      = 4,
>>  339:    OGRSTBrushDx        = 5,
>>  340:    OGRSTBrushDy        = 6,
>>  342:    OGRSTBrushPriority  = 7,
>>
>> http://osgeo-org.1803224.n2.nabble.com/file/n6336405/screenshots_errors.tar.gz<http://osgeo-org.1803224.n2.nabble.com/file/n6336405/screenshots_errors.tar.gz?by-user=t>
>> screenshots_errors.tar.gz
>>  343:    OGRSTBrushLast      = 8
>>  344:
>>  345: };
>>
>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error: conflicting
>> declaration ?OGRSTPenLast?
>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error:
>> ?OGRSTPenLast? has a previous declaration as ?ogr_style_tool_param_pen_id
>> OGRSTPenLast?
>>
>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: multiple
>> definition of ?enum ogr_style_tool_param_brush_id?
>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: previous
>> definition here
>>
>> --
>> View this message in context:
>> http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336405.html<http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336405.html?by-user=t>
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> [hidden email]<http://user/SendEmail.jtp?type=node&node=6336472&i=1&by-user=t>
>>
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>
> _______________________________________________
> gdal-dev mailing list
> [hidden email]<http://user/SendEmail.jtp?type=node&node=6336472&i=2&by-user=t>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> ------------------------------
>  If you reply to this email, your message will be added to the discussion
> below:
>
> http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336472.html
>  To unsubscribe from Ogr tutorial code in cpp not compiling due to errors, click
> here<http://osgeo-org.1803224.n2.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=6336405&code=cHJhZGVlcGt1bWFyLnBlbmNoYWxhQGlpaXRiLm5ldHw2MzM2NDA1fC00MTA3MDExNTk=>.
>
>



-- 
Thanks and Regards,
Pradeep
GISE Lab,
IIT Bombay
9769598197


--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336487.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110505/59517055/attachment.html
From chaitanya.ch at gmail.com  Fri May  6 02:17:34 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri May  6 05:41:44 2011
Subject: [gdal-dev] Re: Ogr tutorial code in cpp not compiling due to
	errors
In-Reply-To: <BANLkTik6YRrk5=4zZod-326cAsqcPpcD0A@mail.gmail.com>
References: <1304654608121-6336405.post@n2.nabble.com>
	<BANLkTi=XVJaVU7=A0Osz7UizYyGcN0++mg@mail.gmail.com>
	<BANLkTin0Fc2PNGZzW-ydxk-CaDQgMg7Jpg@mail.gmail.com>
	<BANLkTi=qwuNWYeaCYhbYKmYyPV_+vn+cNg@mail.gmail.com>
	<BANLkTik6YRrk5=4zZod-326cAsqcPpcD0A@mail.gmail.com>
Message-ID: <BANLkTikvNmAdg3XhFK=L1E_r-7h+ToSyyQ@mail.gmail.com>

Pradeep,

I have seen your screenshots.

No wonder you got the multiple declaration errors, with all the
'unterminated #ifndef' and '#endif without #if" errors. You should try to
identify the source of those errors.

I never compiled GDAL/OGR files separately from the source tree. Check if
you get the same errors if you compile the whole source tree.
http://trac.osgeo.org/gdal/wiki/BuildHints

You can use the compiled libraries after setting the LD_LIBRARY_PATH and
GDAL_DATA environment variables to 'gdal' and 'gdal/data' directory paths.

In the future you can use sites like http://pastebin.com/ to share text with
others.

On Fri, May 6, 2011 at 11:07 AM, PradeepKumar Penchala <
pradeepkumar.penchala@iiitb.net> wrote:

> Please find the attached screenshots. Now they should open.
>
>
> On Fri, May 6, 2011 at 11:01 AM, Chaitanya kumar CH <chaitanya.ch@
> gmail.com> wrote:
>
>> Pradeep,
>>
>> I still can't open your screenshots file. (Did you resend the same file?)
>>
>>
>> On Fri, May 6, 2011 at 10:30 AM, Pradeepkp <
>> pradeepkumar.penchala@iiitb.net> wrote:
>>
>>> Hello Chaitanya,
>>>
>>> ogr_core.h is present in the same directory where .cpp is present. Gdal
>>> files, you mean the header files which are required right, I have included
>>> all of them and are present in the same directory.
>>>
>>>
>>> Thanks and Regards,
>>> Pradeepkp
>>>
>>> On Fri, May 6, 2011 at 10:22 AM, Chaitanya kumar CH [via OSGeo.org] <[hidden
>>> email] <http://user/SendEmail.jtp?type=node&node=6336487&i=0&by-user=t>>wrote:
>>>
>>>> Pradeep,
>>>>
>>>> I see your ogr_core.h file is in a separate directory. Are you compiling
>>>> ogr without the gdal files?
>>>>
>>>> Also, I couldn't open the screenshots archive.
>>>>
>>>>  On Fri, May 6, 2011 at 9:33 AM, Pradeepkp <[hidden email]<http://user/SendEmail.jtp?type=node&node=6336472&i=0&by-user=t>
>>>> > wrote:
>>>>
>>>>> Hello,
>>>>>
>>>>> While I am compiling the code (cpp version) given in
>>>>> http://www.gdal.org/ogr/ogr_apitut.html
>>>>>
>>>>> I am getting lot of compilation errors. I am not sure why they are
>>>>> coming as
>>>>> it is the code directly taken from the above given link. Can you please
>>>>> look
>>>>> at the screenshots attached and let me know if I am making any mistakes
>>>>> in
>>>>> running.
>>>>>
>>>>>
>>>>> These are few sample errors:
>>>>>
>>>>> Code:
>>>>>
>>>>> 318: enum ogr_style_tool_param_pen_id
>>>>> 319:{
>>>>> 320:    OGRSTPenColor       = 0,
>>>>> 321:    OGRSTPenWidth       = 1,
>>>>> 322:    OGRSTPenPattern     = 2,
>>>>> 323:    OGRSTPenId          = 3,
>>>>> 324:    OGRSTPenPerOffset   = 4,
>>>>> 325:    OGRSTPenCap         = 5,
>>>>> 326:    OGRSTPenJoin        = 6,
>>>>> 327:    OGRSTPenPriority    = 7,
>>>>> 328:    OGRSTPenLast        = 8
>>>>>
>>>>> 330:  };
>>>>>
>>>>>  332: enum ogr_style_tool_param_brush_id
>>>>>  333: {
>>>>>  334:    OGRSTBrushFColor    = 0,
>>>>>  335:    OGRSTBrushBColor    = 1,
>>>>>  336:    OGRSTBrushId        = 2,
>>>>>  337:    OGRSTBrushAngle     = 3,
>>>>>  338:    OGRSTBrushSize      = 4,
>>>>>  339:    OGRSTBrushDx        = 5,
>>>>>  340:    OGRSTBrushDy        = 6,
>>>>>  342:    OGRSTBrushPriority  = 7,
>>>>>
>>>>> http://osgeo-org.1803224.n2.nabble.com/file/n6336405/screenshots_errors.tar.gz<http://osgeo-org.1803224.n2.nabble.com/file/n6336405/screenshots_errors.tar.gz?by-user=t&by-user=t>
>>>>> screenshots_errors.tar.gz
>>>>>  343:    OGRSTBrushLast      = 8
>>>>>  344:
>>>>>  345: };
>>>>>
>>>>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error:
>>>>> conflicting
>>>>> declaration ?OGRSTPenLast?
>>>>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:328: error:
>>>>> ?OGRSTPenLast? has a previous declaration as
>>>>> ?ogr_style_tool_param_pen_id
>>>>> OGRSTPenLast?
>>>>>
>>>>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: multiple
>>>>> definition of ?enum ogr_style_tool_param_brush_id?
>>>>> /home/pradeep/android maps/Ogr Tutorial/ogr_core.h:332: error: previous
>>>>> definition here
>>>>>
>>>>> --
>>>>> View this message in context:
>>>>> http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336405.html<http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336405.html?by-user=t&by-user=t>
>>>>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>>>>> _______________________________________________
>>>>> gdal-dev mailing list
>>>>> [hidden email]<http://user/SendEmail.jtp?type=node&node=6336472&i=1&by-user=t>
>>>>>
>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Best regards,
>>>> Chaitanya kumar CH.
>>>> /t?a???nj?/ /k?m?r/
>>>> +91-9494447584
>>>> 17.2416N 80.1426E
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> [hidden email]<http://user/SendEmail.jtp?type=node&node=6336472&i=2&by-user=t>
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>> ------------------------------
>>>>  If you reply to this email, your message will be added to the
>>>> discussion below:
>>>>
>>>> http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336472.html<http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336472.html?by-user=t>
>>>>  To unsubscribe from Ogr tutorial code in cpp not compiling due to
>>>> errors, click here.
>>>>
>>>
>>>
>>>
>>> --
>>> Thanks and Regards,
>>> Pradeep
>>> GISE Lab,
>>> IIT Bombay
>>> 9769598197
>>>
>>>
>>> *screenshots_errors.tar.gz* (2M) Download Attachment<http://attachment/6336487/0/screenshots_errors.tar.gz?by-user=t>
>>>
>>> ------------------------------
>>> View this message in context: Re: Ogr tutorial code in cpp not compiling
>>> due to errors<http://osgeo-org.1803224.n2.nabble.com/Ogr-tutorial-code-in-cpp-not-compiling-due-to-errors-tp6336405p6336487.html>
>>>
>>> Sent from the GDAL - Dev mailing list archive<http://osgeo-org.1803224.n2.nabble.com/GDAL-Dev-f2022644.html>at Nabble.com.
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev@lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>> /t?a???nj?/ /k?m?r/
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>
>
> --
> Thanks and Regards,
> Pradeep
> GISE Lab,
> IIT Bombay
> 9769598197
>
>


-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/a3ea66af/attachment-0001.html
From goocreations at gmail.com  Fri May  6 04:12:26 2011
From: goocreations at gmail.com (Goo Creations)
Date: Fri May  6 07:43:06 2011
Subject: [gdal-dev] gdalwarp not using DEM with RPC
Message-ID: <BANLkTi=LkmOjMiGp7g12_CuDWaczm8Rqkg@mail.gmail.com>

Hi all

I have a image with the necessary DEM and RPB file. When I use:

gdalwarp -to "RPC_DEM=/tmp/dem.dem" -to "METHOD=RPC" raw.tif ortho.tif

OR

gdalwarp -to "RPC_DEM=/tmp/dem.dem" -rpc raw.tif ortho.tif

But when I warp the image, I see no difference between ortho.tif that was
generated with the RPC_DEM option and the one generated without it.
The region has bunch of mountains, so you definitely should see major
changes when using a DEM file.

Am I warping the image correctly, or is there something else that goes wrong
here?

Christoph
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/a34f5a30/attachment.html
From qtcoder at mail.ru  Fri May  6 08:45:06 2011
From: qtcoder at mail.ru (=?utf-8?Q?=D0=90=D0=BD=D0=B4=D1=80=D0=B5=D0=B9_NeX?=)
Date: Fri May  6 12:30:51 2011
Subject: [gdal-dev] GDAL Transform
Message-ID: <E1QIKP4-0004mj-00.qtcoder-mail-ru@f69.mail.ru>

Hi! How can I use an affine transformation in GDAL (transformation matrix)? Some example please???
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/633dcd4c/attachment.html
From mario_mazado at hotmail.com  Fri May  6 08:56:28 2011
From: mario_mazado at hotmail.com (mario santos serrano)
Date: Fri May  6 12:42:48 2011
Subject: [gdal-dev] Geocentric 9603
In-Reply-To: <SNT142-w44C4BF0C90AD2805545FC7F4830@phx.gbl>
References: <SNT142-w44C4BF0C90AD2805545FC7F4830@phx.gbl>
Message-ID: <SNT142-w21ED5648EBA12F910FF455F4830@phx.gbl>








Hello everyone!!

I converted a DXF file to a shapefile using 'ogr2ogr' command. When I use the "-t_srs" parameter the system tells me: "Can't transform coordinates, source layer has no coordinate system. Use -s_srs to set one."

The command '-s_srs' override source SRS.  What is the difference between '-s_srs' and '-a_srs' command? What is the exact meaning of "Assign an output SRS"? I don't understand that.

I use the '-s_srs' command and when I overlay the shapefile over a map,the adjustment isn?t very good with the map, so I must make a geographic transformation. I get that transformation thanks to 'ProjectionUtility' (ArcView). Its name is Geocentric[9603], ED_1950_TO_WGS_1984_13, POSC Code:8045.

I need to make this transformation automatically. How can I make this transformation using 'ogr2ogr'? Is it possible?

Thank you very much

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/6af2c7a4/attachment.html
From sigfrido at tiscali.it  Fri May  6 09:48:01 2011
From: sigfrido at tiscali.it (Luca Sigfrido Percich)
Date: Fri May  6 13:37:20 2011
Subject: [gdal-dev] Geocentric 9603
In-Reply-To: <SNT142-w21ED5648EBA12F910FF455F4830@phx.gbl>
References: <SNT142-w44C4BF0C90AD2805545FC7F4830@phx.gbl>
	<SNT142-w21ED5648EBA12F910FF455F4830@phx.gbl>
Message-ID: <1304689681.2125.21.camel@GOLEM>

Hi Mario,

Il giorno ven, 06/05/2011 alle 12.56 +0000, mario santos serrano ha
scritto:


> I converted a DXF file to a shapefile using 'ogr2ogr' command. When I
> use the "-t_srs" parameter the system tells me: "Can't transform
> coordinates, source layer has no coordinate system. Use -s_srs to set
> one."

-a_srs should be used to translate a source file which has no SRS
definition (like DXF or SHP with no .prj file) into a georeferenced
format: the original coordinates are not transformed, and an srs
definition is associated to the target dataset.

> The command '-s_srs' override source SRS.  What is the difference
> between '-s_srs' and '-a_srs' command? What is the exact meaning of
> "Assign an output SRS"? I don't understand that.

-s_srs can be used when to replace (override) the source file SRS
definition, or to set it if a transformation with -t_srs is needed. You
can only transform from one SRS to another one, that's why -t_srs will
not work with DXF if you don't declare the DXF srs with -s_srs.

> I use the '-s_srs' command and when I overlay the shapefile over a
> map,the adjustment isn?t very good with the map, so I must make a
> geographic transformation. I get that transformation thanks to
> 'ProjectionUtility' (ArcView). Its name is Geocentric[9603],
> ED_1950_TO_WGS_1984_13, POSC Code:8045.
> 
> I need to make this transformation automatically. How can I make this
> transformation using 'ogr2ogr'? Is it possible?

I'm just guessing 'cause I've never tried this. Check if ProjectUtility
writes a .prj file; it should contain a WKT definition of the resulting
dataset SRS. According to ogr2ogr doc, this WKT (or the name of the file
containing it) can be passed to -t_srs or -a_srs.

Try and let us know.

Hope this helps

Sig

> 
> Thank you very much
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Fri May  6 10:06:13 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May  6 13:56:32 2011
Subject: [gdal-dev] Geocentric 9603
In-Reply-To: <1304689681.2125.21.camel@GOLEM>
References: <SNT142-w44C4BF0C90AD2805545FC7F4830@phx.gbl>
	<SNT142-w21ED5648EBA12F910FF455F4830@phx.gbl>
	<1304689681.2125.21.camel@GOLEM>
Message-ID: <4DC40055.1000506@pobox.com>

On 11-05-06 09:48 AM, Luca Sigfrido Percich wrote:
>> I use the '-s_srs' command and when I overlay the shapefile over a
>> map,the adjustment isn?t very good with the map, so I must make a
>> geographic transformation. I get that transformation thanks to
>> 'ProjectionUtility' (ArcView). Its name is Geocentric[9603],
>> ED_1950_TO_WGS_1984_13, POSC Code:8045.
>>
>> I need to make this transformation automatically. How can I make this
>> transformation using 'ogr2ogr'? Is it possible?
>
> I'm just guessing 'cause I've never tried this. Check if ProjectUtility
> writes a .prj file; it should contain a WKT definition of the resulting
> dataset SRS. According to ogr2ogr doc, this WKT (or the name of the file
> containing it) can be passed to -t_srs or -a_srs.

Sig / Mario,

ESRI .prj files do not normally have the details of the datum shift
parameters in them.  I see the "stock" ED50 transformation in EPSG is
TOWGS84[-130,29,364,0,0,0,0] so hopefully you could do something like:

  ogr2ogr -s_srs "+proj=latlong +ellpse=clrk80 towgs84=-130,29,364,0,0,0,0" \
          -t_srs "+proj=latlong +datum=WGS84" \
          out.shp in.shp

or something similar.  This is assuming the coordinates are geographic
(lat/long), not projected.  If they are projected you will need a more
complex source and destination coordinate system description.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From alexandre.gacon+gdal at gmail.com  Fri May  6 11:19:32 2011
From: alexandre.gacon+gdal at gmail.com (Alexandre Gacon)
Date: Fri May  6 15:14:17 2011
Subject: [gdal-dev] GDAL stucked when trying to get a
 OGRCoordinateTransformation while being in a thread
Message-ID: <BANLkTim9SGR7X=L1gmb9Jq4DLVtJAY699Q@mail.gmail.com>

Hi all,

I need to do some coordinate transformation with GDAL in a thread of my
application and with some set of spatial references the call
to OGRCreateCoordinateTransformation seems to stuck somewhere in the code.

It is true when trying to convert from WGS84 to +init=IGNF:LAMBE +wktext"
(or any srs from IGNF).

If I copy/paste the definition of the IGNF file instead of using the
preceding definition, the call works. Apparently, it's a problem with PROJ
which seems to have a problem with the access to the IGNF file.

Regards

-- 
Alexandre Gacon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/5d0ffcb9/attachment.html
From pramsey at cleverelephant.ca  Fri May  6 19:17:26 2011
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Fri May  6 23:38:24 2011
Subject: [gdal-dev] Unique Layer Names (FGDB)
Message-ID: <BANLkTikk5sfC65RM3=D-=E0nO9s_MVV0og@mail.gmail.com>

So, the FGDB driver right now flattens out the GDB hierarchy a little
(as far as I can tell there is not *too* much to flatted out) which
could maybe (?) result in duplicate layer names... I opened up
Michaels test database and printed out the layer names,

  basetable_2
  basetable
  base_table1
  test_lines
  more_test_lines
  test_points
  test_areas

Some of those are Tables and the others are Feature Classes stored
within a Feature Dataset. I'm guessing that there is a unique name
enforcement mechanism within particular levels of the FGDB, but not
sure what would happen if we had something like this:

Tables: george, ringo
Feature Classes: john
Feature Datasets: paul (Feature Classes: john, ringo)

So the fully qualified names would all be unique...

\george
\ringo
\john
\paul\john
\paul\ringo

but the layer names would not.

A couple things could happen: we could mangle the fully-qualified
names so they remain fully qualified in their OGR form (paul_john,
paul_ringo) or we could test and see if it's even possible to create
an FGDB that has non-unique leaf node names.

Paul
From pramsey at cleverelephant.ca  Fri May  6 19:19:47 2011
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Fri May  6 23:40:55 2011
Subject: [gdal-dev] LoadLayers (FGDB)
Message-ID: <BANLkTi=mw66Yady_R1o6hpXzXXb9-zjuvw@mail.gmail.com>

Right now LoadLayers is really really over-determined, checking every
node in the database for every possible child type, and then checking
every child for every child type. Based on practice, is it incorrect
to assume that we can only see the following OGR-readable objects in
the database:

\Table
\Feature Class
\Feature Dataset\Feature Class

Where the Feature Dataset is not actually readable, but contains
Feature Classes that are. If I'm wrong, could someone create me a FGDB
with a different structure to play with?

Paul
From Michael.Smith at usace.army.mil  Fri May  6 19:25:52 2011
From: Michael.Smith at usace.army.mil (Smith, Michael ERDC-CRREL-NH)
Date: Fri May  6 23:47:21 2011
Subject: [gdal-dev] LoadLayers (FGDB)
In-Reply-To: <BANLkTi=mw66Yady_R1o6hpXzXXb9-zjuvw@mail.gmail.com>
References: <BANLkTi=mw66Yady_R1o6hpXzXXb9-zjuvw@mail.gmail.com>
Message-ID: <5F04AA2875471D4986E47764FDC66CB14B62ED@ERD-ML4ERD.erd.ds.usace.army.mil>

I can also supply more FGDB's with different types of layers, numbers, binary
attachments, etc.

Let me know if there is a specific type or types of layers/feature
classes/feature datasets you need.

Mike


-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Paul Ramsey
Sent: Friday, May 06, 2011 7:20 PM
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] LoadLayers (FGDB)

Right now LoadLayers is really really over-determined, checking every node in
the database for every possible child type, and then checking every child for
every child type. Based on practice, is it incorrect to assume that we can
only see the following OGR-readable objects in the database:

\Table
\Feature Class
\Feature Dataset\Feature Class

Where the Feature Dataset is not actually readable, but contains Feature
Classes that are. If I'm wrong, could someone create me a FGDB with a
different structure to play with?

Paul
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From pramsey at cleverelephant.ca  Fri May  6 19:46:47 2011
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Sat May  7 00:09:23 2011
Subject: [gdal-dev] Metadata (FGDB)
Message-ID: <BANLkTi=gTy9aqD9Q7bd3mSFMgZ+rRypaXw@mail.gmail.com>

So, the end goal of my wanking around with OGR and FGDB is to write a
utility that will convert FGDB into PostGIS and then back again with
as much fidelity as possible. So ideally the output would look much
like the input. FGDB has some fun stuff that doesn't fit into the OGR
model very well.

FGDB Fields can have an Alias. Presumably to provide a more human
readable form. I could map these to PostgreSQL comments on the
columns, but there is no slot for them in OGR to pass them through.
FGDB Tables can have Metadata. There seems to be an OGR slot for this
(GetInfo) but it's deprecated and highly freeform.
FGDB Tables can have Indexes. I see in trunk there's some index stuff
(GetIndex, InitializeIndexSupport) but not sure how far along it is.
It would be nice to be able to tell OGR to create an index and have it
magically happen.

Actually, going over this, it's not bad, better than I thought when I
started looking. I am assuming that, if/when I get past the basics
I'll have to push my utility forward by adding some special methods on
the Pg and FileGDB drivers to do things like set relationships and so
on.

P.
From warmerdam at pobox.com  Fri May  6 21:56:41 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat May  7 02:26:32 2011
Subject: [gdal-dev] Metadata (FGDB)
In-Reply-To: <BANLkTi=gTy9aqD9Q7bd3mSFMgZ+rRypaXw@mail.gmail.com>
References: <BANLkTi=gTy9aqD9Q7bd3mSFMgZ+rRypaXw@mail.gmail.com>
Message-ID: <4DC4A6D9.3090209@pobox.com>

On 11-05-06 07:46 PM, Paul Ramsey wrote:
> FGDB Fields can have an Alias. Presumably to provide a more human
> readable form. I could map these to PostgreSQL comments on the
> columns, but there is no slot for them in OGR to pass them through.
> FGDB Tables can have Metadata. There seems to be an OGR slot for this
> (GetInfo) but it's deprecated and highly freeform.

Paul,

I agree that metadata is a weakness of OGR.  Sometimes it can make
sense to treat some kinds of metadata as a special (non-spatial) layer.
I would discourage using GetInfo.

> FGDB Tables can have Indexes. I see in trunk there's some index stuff
> (GetIndex, InitializeIndexSupport) but not sure how far along it is.
> It would be nice to be able to tell OGR to create an index and have it
> magically happen.

Indexing is considered something internal to datasources and there
is no unified interface to them.  I believe the stuff you mention
relates to the attribute indexing done for the shapefile format
using "mapinfo indexes" somewhat ironically.  I did it in such a
way that I intended other non-RDBMS formats to use it too, but that
never was pursued.

> Actually, going over this, it's not bad, better than I thought when I
> started looking. I am assuming that, if/when I get past the basics
> I'll have to push my utility forward by adding some special methods on
> the Pg and FileGDB drivers to do things like set relationships and so
> on.

Those could potentially be represented by special layers (tables).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From ragi at burhum.com  Fri May  6 22:14:51 2011
From: ragi at burhum.com (Ragi Burhum)
Date: Sat May  7 02:45:44 2011
Subject: [gdal-dev] Metadata (FGDB)
Message-ID: <BANLkTi=yvg+iyQbUkJJ7wQY5J-mdegS6ww@mail.gmail.com>

Your assumption of:

FeatureClass
Table
FeatureDataset\FeatureClass
RelationshipClass
FeatureDataset\RelationshipClass

is correct.

As far as metadata goes, you can add Domains ("Coded Value Domains" and
"Range Domains") as well as Subtypes.

Here is an explanations of what they are

http://webhelp.esri.com/arcgisdesktop/9.3/datainterop/mergedProjects/FME_Workbench/editing_geodatabase_domains_and_subtypes.htm

The way that LoadLayers is setup, it is currently asking the GDB for every
single type supported. If you only want to open certain things, you can just
hardcode the strings that you want to support instead of calling
GetDatasetTypes().

Also, I coded LoadLayers it was right after their beta 1 launch... they have
since added more schema reading functions that would allow the loading of
schema to be more selective and efficient.

Hope that helps,

- Ragi


On Fri, May 6, 2011 at 9:09 PM, <gdal-dev-request@lists.osgeo.org> wrote:

> Date: Fri, 6 May 2011 16:46:47 -0700
> From: Paul Ramsey <pramsey@cleverelephant.ca>
> Subject: [gdal-dev] Metadata (FGDB)
> To: gdal-dev@lists.osgeo.org
> Message-ID: <BANLkTi=gTy9aqD9Q7bd3mSFMgZ+rRypaXw@mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> So, the end goal of my wanking around with OGR and FGDB is to write a
> utility that will convert FGDB into PostGIS and then back again with
> as much fidelity as possible. So ideally the output would look much
> like the input. FGDB has some fun stuff that doesn't fit into the OGR
> model very well.
>
> FGDB Fields can have an Alias. Presumably to provide a more human
> readable form. I could map these to PostgreSQL comments on the
> columns, but there is no slot for them in OGR to pass them through.
> FGDB Tables can have Metadata. There seems to be an OGR slot for this
> (GetInfo) but it's deprecated and highly freeform.
> FGDB Tables can have Indexes. I see in trunk there's some index stuff
> (GetIndex, InitializeIndexSupport) but not sure how far along it is.
> It would be nice to be able to tell OGR to create an index and have it
> magically happen.
>
> Actually, going over this, it's not bad, better than I thought when I
> started looking. I am assuming that, if/when I get past the basics
> I'll have to push my utility forward by adding some special methods on
> the Pg and FileGDB drivers to do things like set relationships and so
> on.
>
> P.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110506/3da7df89/attachment.html
From even.rouault at mines-paris.org  Sat May  7 13:16:27 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May  7 18:36:56 2011
Subject: [gdal-dev] RFC 35: Delete,
	reorder and alter field definitions of OGR layers - Call
	for discussion
Message-ID: <201105071916.27438.even.rouault@mines-paris.org>

Hi,

I've written a new RFC to add the capability to delete fields, reorder fields 
and alter field definitions, in OGR layer definitions.

	http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn

Currently, an OGR layer definition can only be altered to add a new field 
definition with OGRLayer::CreateField(). It is desirable to extend OGR 
capabilities to be able to delete, reorder and alter field definitions of 
existing layers. Such wish has been expressed in ticket #2671 and comes back 
regularly on QGIS mailing list (e.g. http://lists.osgeo.org/pipermail/qgis-
user/2011-May/011935.html). QGIS currently has a "Table Manager" extension to 
work around the lack of DeleteField(), so a proper solution is clearly needed.

I'd appreciate review and comments. I've attached a patch to ticket 
http://trac.osgeo.org/gdal/ticket/2671 with the implementation, as well as a 
Python test.

Best regards,

Even
From warmerdam at pobox.com  Sat May  7 18:37:51 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun May  8 00:16:07 2011
Subject: [gdal-dev] RFC 35: Delete, reorder and alter field definitions
	of OGR layers - Call for discussion
In-Reply-To: <201105071916.27438.even.rouault@mines-paris.org>
References: <201105071916.27438.even.rouault@mines-paris.org>
Message-ID: <4DC5C9BF.7050303@pobox.com>

On 11-05-07 01:16 PM, Even Rouault wrote:
> Hi,
>
> I've written a new RFC to add the capability to delete fields, reorder fields
> and alter field definitions, in OGR layer definitions.
>
> 	http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn
>
> Currently, an OGR layer definition can only be altered to add a new field
> definition with OGRLayer::CreateField(). It is desirable to extend OGR
> capabilities to be able to delete, reorder and alter field definitions of
> existing layers. Such wish has been expressed in ticket #2671 and comes back
> regularly on QGIS mailing list (e.g. http://lists.osgeo.org/pipermail/qgis-
> user/2011-May/011935.html). QGIS currently has a "Table Manager" extension to
> work around the lack of DeleteField(), so a proper solution is clearly needed.

Even,

I would like to see some description of the effect of ReorderField().  I
assume iOldFieldPos and iNewFieldPos have to both be existing fields, and
that intermediate fields will be shuffled along as needed to satisfy the
request - is that right?

I am somewhat wondering if it would be better to provide a mechanism
to reorder all columns in one request.

Otherwise I am satisfied with the suggested approach.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Sat May  7 19:10:10 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May  8 00:50:13 2011
Subject: [gdal-dev] RFC 35: Delete,
	reorder and alter field definitions of OGR layers - Call for
	discussion
In-Reply-To: <4DC5C9BF.7050303@pobox.com>
References: <201105071916.27438.even.rouault@mines-paris.org>
	<4DC5C9BF.7050303@pobox.com>
Message-ID: <201105080110.11068.even.rouault@mines-paris.org>

> 
> I would like to see some description of the effect of ReorderField().  I
> assume iOldFieldPos and iNewFieldPos have to both be existing fields, and
> that intermediate fields will be shuffled along as needed to satisfy the
> request - is that right?

Yes, exactly. iOldFieldPos and iNewFieldPos must be in [0, GetFieldCount()-1]

If you have initially 5 fields "0", "1", "2", "3","4" :
* ReorderField(1,3) --> "0", "2", "3", "1", "4"
* ReorderField(0,4) --> "1", "2", "3", "4", "0"
* ReorderField(4,0) --> "4", "0", "1", "2", "3"

> 
> I am somewhat wondering if it would be better to provide a mechanism
> to reorder all columns in one request.

Yes, that could be a possibility. The use case I was thinking initially was a 
user dragging the header of a column in a table to move it at a new position. 
But that could be done through a global reordering method, 
OGRLayer::ReorderFields(int* panNewPos), panNewPos being a permutation of [0, 
GetFieldCount()-1]. ReorderFields() would behave such, for each field that was 
initially at position i, its new position would be panNewPos[i]. I believe 
that the implementation in shapelib would be doable, and perhaps even a bit 
more straightforward than the one of ReorderField() where one must be careful 
to move things in the right order depending on if iOldFieldPos < iNewFieldPos 
or not.

I'll update the RFC, patch and test with that solution.

> 
> Otherwise I am satisfied with the suggested approach.
> 
> Best regards,
From weliam.cloud at gmail.com  Sun May  8 01:32:58 2011
From: weliam.cloud at gmail.com (William Kang)
Date: Sun May  8 07:34:25 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
Message-ID: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>

Hi folks,
I am new to this mailing list. Thanks all for your great job on GDAL/OGR.

I have a problem with the gdal.ReprojectImage from gdal1.8 Java
bindings. When I perform the reprojection, the projected image is
totally black. And the origin of the projected image is wrong too.
There were no error popping up at all. The code is as following:

		Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
		Dataset out_ds = in_ds.GetDriver().Create(outPath,
in_ds.getRasterXSize(), in_ds.getRasterYSize(),
				in_ds.getRasterCount());

		try {			
			SpatialReference dstRef = new SpatialReference("");
			dstRef.ImportFromEPSG(26919);
			
			out_ds.SetProjection(dstRef.ExportToWkt());
			out_ds.SetGeoTransform(in_ds.GetGeoTransform());
			
			if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
				System.out.println("something is wrong");
		} finally {
			in_ds.delete();
			out_ds.delete();
		}

Does anybody know what's going on here? Thanks a lot.


William
From even.rouault at mines-paris.org  Sun May  8 04:44:21 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May  8 10:55:36 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
Message-ID: <201105081044.22029.even.rouault@mines-paris.org>

William,

Using ReprojectImage() requires some involved preliminary steps. It is 
generally not appropriate to reuse the dimensions of the in_ds for the out_ds, 
because the shape of the reprojected image is generally not the same as the in 
image. But the real error is to reuse the in geotransform as the out 
geotransform. It doesn't make any sense when the in and out projections are 
not the same. Unfortunately there's no easy way of guessing the out 
geotransform.

A simple approximation would be to compute the coordinates of the 4 corners of 
the in image, reproject them to the dstRef and compute from them the out 
geotransform.

What you would need is the GDALSuggestedWarpOutput2() function of 
http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdaltransformer.cpp, which 
is used by the gdalwarp utility, but it is not available from Java. It is 
generally called with pfnTransformer = GDALGenImgProjTransform and 
hTransformArg = GDALCreateGenImgProjTransformer2( hSrcDS, NULL, papszOptions ) 
for your use case.

But I'm thinking of an easier way. You could use gdal.AutoCreateWarpedVRT() 
that will create a in-memory VRT dataset using the above methods to guess the 
appropriate dimensions and geotransform. Then, you can CreateCopy() into a 
"real" dataset.

See 
http://gdal.org/java/org/gdal/gdal/gdal.html#AutoCreateWarpedVRT(org.gdal.gdal.Dataset,
%20java.lang.String,%20java.lang.String)

Something like :

Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds, null, dstRef.ExportToWkt());
Dataset out_ds = gdal.GetDriverByName("GTiff").CreateCopy(outPath, vrt_ds);
vrt_ds.delete();
out_ds.delete();

This will be a bit slower than ReprojectImage() but this should work.

Best regards,

Even


> Hi folks,
> I am new to this mailing list. Thanks all for your great job on GDAL/OGR.
> 
> I have a problem with the gdal.ReprojectImage from gdal1.8 Java
> bindings. When I perform the reprojection, the projected image is
> totally black. And the origin of the projected image is wrong too.
> There were no error popping up at all. The code is as following:
> 
> 		Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
> 		Dataset out_ds = in_ds.GetDriver().Create(outPath,
> in_ds.getRasterXSize(), in_ds.getRasterYSize(),
> 				in_ds.getRasterCount());
> 
> 		try {
> 			SpatialReference dstRef = new SpatialReference("");
> 			dstRef.ImportFromEPSG(26919);
> 
> 			out_ds.SetProjection(dstRef.ExportToWkt());
> 			out_ds.SetGeoTransform(in_ds.GetGeoTransform());
> 
> 			if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
> 				System.out.println("something is wrong");
> 		} finally {
> 			in_ds.delete();
> 			out_ds.delete();
> 		}
> 
> Does anybody know what's going on here? Thanks a lot.
> 
> 
> William
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From gabriel.breahna at euro.ro  Sun May  8 08:28:34 2011
From: gabriel.breahna at euro.ro (Gabriel Breahna)
Date: Sun May  8 14:52:03 2011
Subject: [gdal-dev] Polygon assembly has failed for feature FIDN
Message-ID: <4DC68C72.6060103@euro.ro>

Hello,
I am receiving this error into the MS_ERRORFILE log file:
msDrawMap(): Image handling error. Failed to draw layer named 'danube'. 
msOGRFileNextShape(): OGR error. IllegalArgumentException: Points of 
LinearRing do not form a closed linestring

The command:
$ ogrinfo 3R7D0421.000 DEPARE
for the bad polyline is returning:
Warning 1: Polygon assembly has failed for feature 
FIDN=1245675120,FIDS=1.Geometry may be missing or incomplete.

The FIDN=1245675120 shows like this:
----------------------------------
OGRFeature(DEPARE):83
   RCID (Integer) = 13443
   PRIM (Integer) = 3
   GRUP (Integer) = 1
   OBJL (Integer) = 42
   RVER (Integer) = 1
   AGEN (Integer) = 16203
   FIDN (Integer) = 1245675120
   FIDS (Integer) = 1
   LNAM (String) = 3F4B4A3F7E700001
   LNAM_REFS (StringList) = (null)
   FFPT_RIND (IntegerList) = (null)
   DRVAL1 (Real) = 0
   DRVAL2 (Real) = 2.5
   QUASOU (String) = (null)
   SOUACC (Real) = (null)
   VERDAT (Integer) = (null)
   INFORM (String) = (null)
   NINFOM (String) = (null)
   NTXTDS (String) = (null)
   SCAMAX (Integer) = (null)
   SCAMIN (Integer) = (null)
   TXTDSC (String) = (null)
   RECDAT (String) = (null)
   RECIND (String) = (null)
   SORDAT (String) = (null)
   SORIND (String) = (null)
   POLYGON ((26.6322891 44.062348,26.6323082 
44.059205599999999,26.634665900000002 
44.059761999999999,26.644989599999999 44.062533600000002,26.6488985 
44.063665200000003,26.6566464 44.066031700000003,26.665587899999998 
44.069101199999999,26.6761321 44.0727319,26.6827697 
44.075017000000003,26.6842215 44.075574199999998,26.687099499999999 
44.076769499999997,26.6902504 44.078103599999999,26.69256 
44.079112700000003,26.6937053 44.079583599999999,26.6950092 
44.080067,26.6961838 44.080417699999998,26.697206 
44.080685899999999,26.6984746 44.0809828,26.699531499999999 
44.081166899999999,26.69979 44.081209999999999,26.699819999999999 
44.081209999999999,26.70032 44.081290000000003,26.70035 
44.081299999999999,26.700849999999999 44.08137,26.700880000000002 
44.08137,26.70138 44.08144,26.701409999999999 
44.08144,26.701910000000002 44.081510000000002,26.70195 
44.081510000000002,26.702459999999999 44.081569999999999,26.70251 
44.081580000000002,26.70304 44.081629999999997,26.703099999999999 
44.08164,26.703659999999999 44.081679999999999,26.70372 
44.081690000000002,26.704329999999999 44.08173,26.70439 
44.08173,26.70506 44.081760000000003,26.70511 
44.081760000000003,26.705850000000002 44.081780000000002,26.7059 
44.081780000000002,26.70671 44.081789999999998,26.707699999999999 
44.081789999999998,26.70868 44.081769999999999,26.70871 
44.081769999999999,26.70974 44.08175,26.709769999999999 
44.08175,26.71084 44.08171,26.71086 44.08171,26.711950000000002 
44.081670000000003,26.71198 44.081659999999999,26.713059999999999 
44.081609999999998,26.71309 44.081609999999998,26.71416 
44.081539999999997,26.714189999999999 
44.081539999999997,26.715209999999999 44.08146,26.71526 
44.08146,26.716229999999999 44.08137,26.71629 44.08137,26.71725 
44.08126,26.71733 44.081249999999997,26.718319999999999 
44.081119999999999,26.718389999999999 44.081110000000002,26.71947 
44.080939999999998,26.719529999999999 
44.080930000000002,26.720739999999999 44.080710000000003,26.72079 
44.0807,26.722180000000002 44.08043,26.72221 44.080419999999997,26.72382 
44.080080000000002,26.723849999999999 
44.080069999999999,26.725729999999999 
44.079659999999997,26.725899999999999 
44.079619999999998,26.728649999999998 44.07882,26.730879999999999 
44.078189999999999,26.73265 44.0777,26.7332834 
44.077530099999997,26.7359826 44.076783499999998,26.738722299999999 
44.0761945,26.7412429 44.075684000000003,26.744366299999999 
44.075527,26.7485307 44.075644699999998,26.752640299999999 
44.075958900000003,26.755325299999999 44.076155200000002,26.7571343 
44.076396699999997,26.757063299999999 44.0829995,26.756789999999999 
44.082970000000003,26.75648 44.082949999999997,26.75581 
44.082839999999997,26.75553 44.082799999999999,26.75522 
44.082749999999997,26.755089999999999 44.082749999999997,26.75487 
44.082700000000003,26.7546 44.082659999999997,26.75447 
44.082659999999997,26.754370000000002 
44.082610000000003,26.754239999999999 44.082610000000003,26.75413 
44.08258,26.753990000000002 44.082599999999999,26.753799999999998 
44.08258,26.75348 44.08256,26.753029999999999 44.08249,26.75259 
44.08245,26.75217 44.082419999999999,26.75187 44.08238,26.75141 
44.082329999999999,26.75095 44.08231,26.750489999999999 
44.082259999999998,26.75016 44.082259999999998,26.749759999999998 
44.082189999999997,26.749369999999999 
44.082120000000003,26.749179999999999 
44.082140000000003,26.748550000000002 44.082079999999998,26.74821 
44.082039999999999,26.74781 44.081989999999998,26.74726 
44.08193,26.746839999999999 44.08193,26.74653 
44.081879999999998,26.746189999999999 44.081789999999998,26.74584 
44.081740000000003,26.745450000000002 44.081699999999998,26.74521 
44.08175,26.74493 44.081719999999997,26.74444 
44.081670000000003,26.744199999999999 44.081600000000002,26.74409 
44.081470000000003,26.743950000000002 
44.081470000000003,26.743729999999999 
44.081449999999997,26.743379999999998 
44.081449999999997,26.743010000000002 
44.081400000000002,26.742799999999999 44.081359999999997,26.74218 
44.081290000000003,26.7419 44.08124,26.741489999999999 
44.081209999999999,26.741230000000002 44.081159999999997,26.7407 
44.081069999999997,26.74044 44.081009999999999,26.73987 
44.0809,26.738880000000002 44.0807,26.73833 44.08061,26.73777 
44.0805,26.737290000000002 44.08043,26.737089999999998 
44.080379999999998,26.73664 44.080329999999996,26.73617 
44.080260000000003,26.73553 44.080159999999999,26.73507 
44.080089999999998,26.734269999999999 44.079979999999999,26.73387 
44.079909999999998,26.73365 44.079880000000003,26.73327 
44.07983,26.732839999999999 44.079770000000003,26.73246 
44.079720000000002,26.73215 44.079700000000003,26.731940000000002 
44.079700000000003,26.731909999999999 44.079720000000002,26.73186 
44.07978,26.731809999999999 44.07985,26.73178 
44.079979999999999,26.73178 44.080100000000002,26.731719999999999 
44.08021,26.731619999999999 44.080660000000002,26.731539999999999 
44.081049999999998,26.73148 44.08117,26.73148 
44.081270000000004,26.73143 44.081400000000002,26.7313 
44.082369999999997,26.731359999999999 
44.082500000000003,26.731449999999999 44.08258,26.73149 
44.082639999999998,26.731439999999999 
44.082749999999997,26.731349999999999 44.082839999999997,26.7312 
44.082799999999999,26.73115 44.082799999999999,26.731079999999999 
44.08274,26.73103 44.082630000000002,26.73111 
44.082509999999999,26.731190000000002 
44.082459999999998,26.731259999999999 44.082349999999998,26.7313 
44.08209,26.73133 44.081899999999997,26.7314 44.081490000000002,26.7314 
44.081319999999998,26.73143 44.081229999999998,26.73141 
44.081189999999999,26.73141 44.08115,26.73149 
44.081020000000002,26.73161 44.080419999999997,26.731660000000002 
44.08023,26.731729999999999 44.080109999999998,26.731729999999999 
44.079949999999997,26.73177 44.079909999999998,26.73177 
44.07987,26.731839999999998 44.079729999999998,26.731819999999999 
44.079689999999999,26.731660000000002 44.079659999999997,26.73151 
44.079639999999998,26.731259999999999 
44.079619999999998,26.730869999999999 
44.079619999999998,26.730419999999999 
44.079630000000002,26.730139999999999 44.07965,26.729959999999998 
44.079680000000003,26.72973 44.07974,26.729500000000002 
44.07976,26.728999999999999 44.07974,26.728639999999999 
44.07974,26.72833 44.079729999999998,26.7282 44.07976,26.728149999999999 
44.079790000000003,26.7281 44.07987,26.72805 44.079970000000003,26.72791 
44.080019999999998,26.72775 44.08005,26.727699999999999 
44.080100000000002,26.72773 44.080150000000003,26.727900000000002 
44.080280000000002,26.728000000000002 44.080350000000003,26.72814 
44.080489999999998,26.728280000000002 44.080640000000002,26.72839 
44.080730000000003,26.72849 44.08079,26.72858 44.08079,26.72868 
44.080849999999998,26.728750000000002 44.0809,26.7288 
44.080939999999998,26.72894 44.08106,26.729019999999998 
44.081119999999999,26.72906 44.08117,26.72916 
44.08124,26.729220000000002 44.081290000000003,26.729299999999999 
44.08133,26.72935 44.08137,26.72934 44.081470000000003,26.72934 
44.08153,26.729379999999999 44.081659999999999,26.72943 
44.081850000000003,26.72946 44.081899999999997,26.72944 
44.081940000000003,26.72944 44.081969999999998,26.729469999999999 
44.082,26.72946 44.08202,26.729479999999999 
44.082160000000002,26.729479999999999 44.082239999999999,26.72945 
44.08227,26.72943 44.082320000000003,26.72944 
44.082340000000002,26.72944 44.082369999999997,26.72943 44.0824,26.72941 
44.082430000000002,26.729399999999998 44.08245,26.72941 
44.08247,26.72941 44.08249,26.729399999999998 
44.082509999999999,26.729399999999998 
44.082540000000002,26.729389999999999 44.082590000000003,26.72934 
44.082610000000003,26.72926 44.082610000000003,26.729179999999999 
44.082569999999997,26.72915 44.08256,26.729109999999999 
44.08256,26.72898 44.082549999999998,26.72895 
44.082569999999997,26.728929999999998 44.082569999999997,26.72888 
44.082549999999998,26.72886 44.082529999999998,26.72885 
44.082509999999999,26.728819999999999 44.082479999999997,26.72876 
44.082459999999998,26.728719999999999 44.08245,26.72869 
44.082439999999998,26.72868 44.082389999999997,26.72868 
44.082299999999996,26.72876 44.082189999999997,26.72876 
44.082140000000003,26.72879 44.08209,26.728829999999999 
44.08193,26.72879 44.081789999999998,26.72879 
44.081690000000002,26.728840000000002 
44.081650000000003,26.728809999999999 44.081600000000002,26.72885 
44.081479999999999,26.7287 44.081310000000002,26.728649999999998 
44.081209999999999,26.72852 44.081090000000003,26.7284 
44.081020000000002,26.72833 44.080919999999999,26.72824 
44.080800000000004,26.72814 44.080719999999999,26.727979999999999 
44.0805,26.72782 44.080350000000003,26.727519999999998 
44.080199999999998,26.72728 44.08012,26.72709 44.08005,26.72702 
44.079949999999997,26.726839999999999 44.07976,26.726839999999999 
44.079680000000003,26.72632 44.079790000000003,26.72632 
44.079900000000002,26.726310000000002 44.080199999999998,26.72604 
44.080419999999997,26.725639999999999 
44.080640000000002,26.724519999999998 
44.081009999999999,26.724299999999999 
44.081090000000003,26.723939999999999 44.081180000000003,26.72363 
44.081220000000002,26.72354 44.08133,26.72335 
44.081449999999997,26.72304 44.081600000000002,26.72296 
44.081560000000003,26.72278 44.081589999999998,26.722650000000002 
44.081629999999997,26.722329999999999 44.08173,26.72212 
44.08182,26.72194 44.081859999999999,26.72174 
44.081859999999999,26.721589999999999 
44.081969999999998,26.721419999999998 44.082,26.72125 44.082,26.72087 
44.082070000000002,26.720490000000002 
44.082099999999997,26.720009999999998 44.082140000000003,26.71988 
44.08218,26.719439999999999 44.082239999999999,26.718979999999998 
44.08229,26.718769999999999 44.08229,26.71819 
44.082320000000003,26.717849999999999 
44.082279999999997,26.717659999999999 44.082279999999997,26.71741 
44.082340000000002,26.717169999999999 44.08238,26.71696 
44.08238,26.71677 44.082419999999999,26.716059999999999 
44.082419999999999,26.715959999999999 44.08249,26.715779999999999 
44.082520000000002,26.71524 44.082520000000002,26.71517 
44.08247,26.715019999999999 44.08247,26.7146 44.082509999999999,26.71404 
44.082509999999999,26.713809999999999 44.082459999999998,26.71283 
44.082459999999998,26.712289999999999 44.082419999999999,26.71197 
44.082419999999999,26.711729999999999 
44.082389999999997,26.711459999999999 
44.082340000000002,26.711169999999999 44.082340000000002,26.71103 
44.0824,26.71076 44.082349999999998,26.71055 44.08229,26.710419999999999 
44.082340000000002,26.71029 44.082299999999996,26.70989 
44.082239999999999,26.70896 44.082239999999999,26.708760000000002 
44.082259999999998,26.70853 44.082210000000003,26.70832 
44.082210000000003,26.70813 44.082160000000002,26.70796 
44.082140000000003,26.70775 44.082160000000002,26.70719 
44.082160000000002,26.70693 44.08211,26.70663 
44.082140000000003,26.70643 44.082189999999997,26.70617 
44.082149999999999,26.70587 44.082079999999998,26.70511 
44.082079999999998,26.704899999999999 
44.082050000000002,26.704719999999998 44.08209,26.70454 
44.08209,26.703939999999999 44.082070000000002,26.70365 
44.082039999999999,26.70334 44.081969999999998,26.703029999999998 
44.081949999999999,26.70267 44.081899999999997,26.702079999999999 
44.081789999999998,26.701799999999999 44.08173,26.70156 
44.081629999999997,26.701339999999998 
44.081629999999997,26.700939999999999 44.081560000000003,26.70065 
44.081490000000002,26.70045 44.081490000000002,26.700220000000002 
44.081519999999998,26.700009999999999 44.081490000000002,26.69968 
44.08146,26.699359999999999 44.081400000000002,26.698979999999999 
44.081400000000002,26.698810000000002 
44.081359999999997,26.698619999999998 44.08124,26.698409999999999 
44.08124,26.698139999999999 44.08117,26.69791 
44.081099999999999,26.69769 44.081099999999999,26.69733 
44.081009999999999,26.696739999999998 44.0809,26.696539999999999 
44.080840000000002,26.6964 44.080800000000004,26.696280000000002 
44.080779999999997,26.69602 44.080719999999999,26.695689999999999 
44.080660000000002,26.695499999999999 
44.080640000000002,26.695409999999999 
44.080570000000002,26.695029999999999 44.080440000000003,26.69481 
44.080379999999998,26.69463 44.080280000000002,26.69455 
44.080249999999999,26.69436 44.080170000000003,26.693709999999999 
44.07994,26.693079999999998 44.079689999999999,26.69291 
44.079659999999997,26.692519999999998 44.079520000000002,26.69225 
44.0794,26.691849999999999 44.079259999999998,26.691389999999998 
44.079059999999998,26.69124 44.079030000000003,26.69106 
44.07893,26.69078 44.07882,26.690629999999999 
44.078769999999999,26.690339999999999 
44.078719999999997,26.689959999999999 44.078629999999997,26.68975 
44.078589999999998,26.68946 44.07853,26.68917 
44.078409999999998,26.68869 44.078229999999998,26.68814 
44.078000000000003,26.68786 44.07788,26.687449999999998 
44.077759999999998,26.686889999999998 44.07757,26.68654 
44.07748,26.685939999999999 44.0773,26.68561 44.077150000000003,26.68521 
44.077060000000003,26.68505 44.07703,26.68468 
44.076909999999998,26.684528499999999 44.076880699999997,26.6845053 
44.076874199999999,26.6844596 44.076866699999997,26.68418 
44.076819999999998,26.68373 44.076729999999998,26.68335 
44.07667,26.68326 44.076630000000002,26.682919999999999 44.07654,26.6826 
44.076509999999999,26.68242 44.076459999999997,26.682179999999999 
44.076459999999997,26.681909999999998 44.076419999999999,26.68119 
44.076250000000002,26.680759999999999 44.076120000000003,26.68028 
44.075949999999999,26.679760000000002 44.075760000000002,26.67912 
44.075499999999998,26.67874 44.075290000000003,26.678429999999999 
44.075180000000003,26.67828 44.075159999999997,26.67802 
44.075159999999997,26.677669999999999 44.07506,26.67719 
44.074919999999999,26.676539999999999 
44.074689999999997,26.676189999999998 
44.074599999999997,26.675879999999999 44.0745,26.67564 44.07439,26.67521 
44.074249999999999,26.674659999999999 44.07403,26.674669999999999 
44.07403,26.674569999999999 44.073999999999998,26.674299999999999 
44.073929999999997,26.674109999999999 44.073880000000003,26.67378 
44.073810000000002,26.673559999999998 
44.073749999999997,26.673369999999998 44.073709999999998,26.67304 
44.073619999999998,26.67286 44.073569999999997,26.67267 
44.07354,26.67231 44.073439999999998,26.67217 
44.073410000000003,26.672039999999999 44.07336,26.67171 
44.073239999999998,26.67163 44.073210000000003,26.67145 
44.073140000000002,26.671279999999999 44.07307,26.670919999999999 
44.072929999999999,26.6708 44.07289,26.670639999999999 
44.07282,26.670529999999999 44.072769999999998,26.670249999999999 
44.072659999999999,26.670179999999998 44.072609999999997,26.67005 
44.072560000000003,26.669809999999998 44.07246,26.66973 
44.072409999999998,26.66957 44.072339999999997,26.66937 
44.07226,26.669239999999999 44.072189999999999,26.669 
44.072119999999998,26.668849999999999 44.072090000000003,26.66872 
44.072029999999998,26.668379999999999 44.071919999999999,26.66823 
44.07186,26.66799 44.071779999999997,26.66759 
44.071599999999997,26.667369999999998 44.07152,26.66714 
44.071420000000003,26.66703 44.07139,26.666530000000002 
44.07119,26.666329999999999 44.071089999999998,26.66621 
44.071019999999997,26.666119999999999 44.070950000000003,26.66589 
44.070860000000003,26.6657 44.070779999999999,26.665559999999999 
44.07074,26.66535 44.07065,26.66517 44.070569999999996,26.66489 
44.070439999999998,26.6647 44.070369999999997,26.664619999999999 
44.07029,26.66457 44.070259999999998,26.66449 
44.070239999999998,26.66442 44.07025,26.66438 44.070210000000003,26.6644 
44.07018,26.664429999999999 44.07016,26.66447 
44.070140000000002,26.66447 44.070120000000003,26.664439999999999 
44.070099999999996,26.664349999999999 44.07011,26.66419 44.07007,26.664 
44.06998,26.66376 44.069879999999998,26.66365 
44.069839999999999,26.663589999999999 
44.069749999999999,26.663530000000002 
44.069699999999997,26.663409999999999 
44.069699999999997,26.663329999999998 44.069670000000002,26.6631937 
44.069631,26.6631895 44.069629999999997,26.6631839 
44.0696273,26.663049999999998 44.069569999999999,26.66289 
44.069490000000002,26.66278 44.06944,26.662559999999999 
44.069369999999999,26.662389999999998 44.06935,26.662269999999999 
44.069319999999998,26.662179999999999 
44.069279999999999,26.662124899999998 
44.069279999999999,26.662120000000002 44.069279999999999,26.66205 
44.069339999999997,26.661989999999999 44.06944,26.66189 
44.069479999999999,26.66166 44.06953,26.661359999999998 
44.069609999999997,26.66114 44.069679999999998,26.66095 
44.069760000000002,26.66076 44.069809999999997,26.66066 
44.069850000000002,26.660620000000002 44.06991,26.66053 
44.07,26.660430000000002 44.07002,26.660329999999998 
44.069949999999999,26.65999 44.070030000000003,26.659579999999998 
44.07016,26.659369999999999 44.0702,26.65922 44.07027,26.659109999999998 
44.070329999999998,26.657109999999999 44.069780000000002,26.65781 
44.068460000000002,26.657990000000002 44.068109999999997,26.65821 
44.068159999999999,26.658519999999999 
44.068249999999999,26.658609999999999 44.0683,26.65903 
44.068420000000003,26.65932 44.0685,26.659579999999998 
44.068629999999999,26.65973 44.068689999999997,26.65997 
44.06877,26.66018 44.068809999999999,26.660419999999998 
44.068849999999998,26.66064 44.06888,26.660779999999999 
44.068930000000002,26.660969999999999 44.06895,26.66119 
44.069000000000003,26.661339999999999 
44.069070000000004,26.661449999999999 44.069119999999998,26.66157 
44.069200000000002,26.66168 44.069229999999997,26.66187 
44.06926,26.661999999999999 44.06926,26.66206 
44.069249999999997,26.662073299999999 
44.069236600000004,26.662109999999998 44.069200000000002,26.66213 
44.069099999999999,26.662179999999999 44.069029999999998,26.66216 
44.069000000000003,26.66178 44.068910000000002,26.661460000000002 
44.068820000000002,26.661149999999999 44.068710000000003,26.66085 
44.068559999999998,26.66047 44.068420000000003,26.660209999999999 
44.068289999999998,26.66001 44.068129999999996,26.65988 
44.06801,26.659680000000002 44.06794,26.659559999999999 
44.067909999999998,26.659369999999999 44.067860000000003,26.65922 
44.067790000000002,26.65915 44.067749999999997,26.659089999999999 
44.067709999999998,26.65904 44.06774,26.65851 
44.067509999999999,26.658529999999999 44.067480000000003,26.65851 
44.067480000000003,26.6584 44.067430000000002,26.658259999999999 
44.06736,26.65809 44.06729,26.6579 44.067219999999999,26.65783 
44.067140000000002,26.657800000000002 44.067100000000003,26.6577436 
44.067067899999998,26.6577199 44.0671004,26.6568787 44.0668608,26.656897 
44.066820300000003,26.65688 44.06682,26.65673 
44.066859999999998,26.65659 44.066870000000002,26.656469999999999 
44.066839999999999,26.65631 44.066769999999998,26.656079999999999 
44.06669,26.65586 44.066609999999997,26.655629999999999 
44.066519999999997,26.65548 44.066459999999999,26.65528 
44.066369999999999,26.65504 44.066270000000003,26.654769999999999 
44.066249999999997,26.65464 44.06622,26.65437 
44.066119999999998,26.65416 44.066049999999997,26.6539 
44.065989999999999,26.65382 44.06597,26.65341 
44.065869999999997,26.652719999999999 44.065669999999997,26.65247 
44.06559,26.65237 44.065559999999998,26.65232 
44.06561,26.652080000000002 44.065539999999999,26.6519 
44.06548,26.651579999999999 44.065420000000003,26.651399999999999 
44.065350000000002,26.6510801 44.065262699999998,26.65107 
44.065260000000002,26.650950900000002 
44.065218199999997,26.650649999999999 44.065109999999997,26.65051 
44.065080000000002,26.65031 44.065060000000003,26.650110000000002 
44.065060000000003,26.64994 44.06503,26.649709999999999 
44.064970000000002,26.64947 44.064889999999998,26.649159999999998 
44.064819999999997,26.64894 44.064779999999999,26.64862 
44.064700000000002,26.64828 44.064599999999999,26.64798 
44.06447,26.64786 44.064430000000002,26.64772 
44.06438,26.647629999999999 44.064329999999998,26.647559999999999 
44.06427,26.64731 44.064210000000003,26.64713 
44.064169999999997,26.646999999999998 
44.064120000000003,26.646889999999999 44.064109999999999,26.6465584 
44.064033899999998,26.646409999999999 44.064,26.646149999999999 
44.063920000000003,26.64592 44.063859999999998,26.645510000000002 
44.063749999999999,26.645289999999999 44.063699999999997,26.64509 
44.063639999999999,26.64496 44.063589999999998,26.64488 
44.063569999999999,26.644839999999999 
44.063580000000002,26.644739999999999 
44.063580000000002,26.644599800000002 44.0635659,26.644582199999999 
44.063564200000002,26.644439999999999 44.063549999999999,26.644165 
44.063504999999999),(26.6322891 44.062348,26.632359999999998 
44.062379999999997,26.63251 44.062429999999999,26.63305 
44.062429999999999,26.63314 44.062489999999997,26.633189999999999 
44.062550000000002,26.63341 44.062609999999999,26.63361 
44.062640000000002,26.633949999999999 44.06268,26.634119999999999 
44.062669999999997,26.634239999999998 44.062669999999997,26.63435 
44.0627,26.63455 44.0627,26.634609999999999 44.06275,26.63476 
44.062779999999997,26.634889999999999 44.062800000000003,26.6351 
44.062829999999998,26.63532 44.06288,26.635560000000002 
44.062910000000002,26.635750000000002 44.062939999999998,26.63586 
44.062939999999998,26.635999999999999 44.062899999999999,26.63616 
44.062869999999997,26.63655 44.062899999999999,26.63671 
44.06293,26.63681 44.062989999999999,26.636939999999999 
44.063029999999998,26.637219999999999 
44.063079999999999,26.637519999999999 44.063099999999999,26.63766 
44.063139999999997,26.63786 44.063139999999997,26.63793 
44.063119999999998,26.63812 44.06315,26.638359999999999 
44.063180000000003,26.638719999999999 
44.063270000000003,26.638999999999999 
44.063293199999997,26.639199999999999 44.06331,26.63954 
44.06333,26.639959999999999 44.06335,26.640319999999999 
44.06335,26.64048 44.063339999999997,26.640910000000002 
44.063339999999997,26.64105 44.063319999999997,26.6414 
44.063319999999997,26.641719999999999 
44.063310299999998,26.641750699999999 44.063309500000003,26.64207 
44.063299999999998,26.642659999999999 
44.063299999999998,26.643049999999999 44.06333,26.64329 
44.063369999999999,26.6435424 44.063403100000002),(26.755099999999999 
44.080750000000002,26.75506 44.080759999999998,26.755019999999998 
44.080779999999997,26.75497 44.080800000000004,26.754899999999999 
44.080820000000003,26.754709999999999 44.080820000000003,26.75461 
44.08081,26.754539999999999 44.08079,26.754460000000002 
44.080759999999998,26.754349999999999 44.080730000000003,26.7543 
44.080719999999999,26.754249999999999 44.080660000000002,26.7542 
44.08059,26.754169999999998 44.080509999999997,26.7542 44.08043,26.75423 
44.080379999999998,26.75428 44.080309999999997,26.75431 
44.080280000000002,26.754370000000002 
44.080240000000003,26.754439999999999 44.080199999999998,26.7545 
44.080190000000002,26.75456 44.080159999999999,26.7546 
44.080170000000003,26.754650000000002 44.080199999999998,26.75469 
44.08023,26.75477 44.080269999999999,26.75485 
44.080280000000002,26.75494 44.080280000000002,26.75503 
44.080269999999999,26.755099999999999 44.080219999999997,26.75513 
44.08021,26.755199999999999 44.080179999999999,26.75533 
44.080159999999999,26.75542 44.080159999999999,26.755490000000002 
44.080129999999997,26.755579999999998 44.080100000000002,26.75563 
44.080080000000002,26.7557 44.080089999999998,26.75579 44.08012,26.75583 
44.080150000000003,26.755870000000002 
44.080190000000002,26.756029999999999 44.080280000000002,26.7561 
44.080329999999996,26.756150000000002 44.08039,26.756139999999998 
44.080460000000002,26.756129999999999 44.08048,26.75608 44.0805,26.75601 
44.080509999999997,26.755960000000002 
44.080530000000003,26.755939999999999 
44.080550000000002,26.755960000000002 
44.080579999999998,26.756039999999999 44.08061,26.75625 
44.080660000000002,26.756319999999999 
44.080689999999997,26.756399999999999 44.080719999999999,26.75646 
44.080730000000003,26.756589999999999 
44.080759999999998,26.756620000000002 44.08077,26.75666 
44.080800000000004,26.75667 44.080849999999998,26.75667 
44.08088,26.75676 44.08097,26.75674 44.08099,26.756679999999999 
44.081009999999999,26.75611 44.081009999999999,26.75607 
44.081000000000003,26.755960000000002 
44.080979999999997,26.755849999999999 44.08097,26.7558 
44.080959999999997,26.755749999999999 
44.080930000000002,26.755649999999999 44.08086,26.755569999999999 
44.080840000000002,26.755490000000002 44.080829999999999,26.75542 
44.080820000000003,26.75531 44.08081,26.75524 
44.080779999999997,26.75515 44.080759999999998,26.755099999999999 
44.080750000000002))
----------------------------------
With the same file OpenCPN is working/rendering fine.
Any idea how to do in order to be able to show this layer?
Regards,
Gabriel

From warmerdam at pobox.com  Sun May  8 09:06:16 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun May  8 15:31:45 2011
Subject: [gdal-dev] Polygon assembly has failed for feature FIDN
In-Reply-To: <4DC68C72.6060103@euro.ro>
References: <4DC68C72.6060103@euro.ro>
Message-ID: <4DC69548.4010401@pobox.com>

On 11-05-08 08:28 AM, Gabriel Breahna wrote:
> Hello,
> I am receiving this error into the MS_ERRORFILE log file:
> msDrawMap(): Image handling error. Failed to draw layer named 'danube'.
> msOGRFileNextShape(): OGR error. IllegalArgumentException: Points of LinearRing
> do not form a closed linestring
>
> The command:
> $ ogrinfo 3R7D0421.000 DEPARE
> for the bad polyline is returning:
> Warning 1: Polygon assembly has failed for feature
> FIDN=1245675120,FIDS=1.Geometry may be missing or incomplete.
...
> 44.080779999999997,26.75515 44.080759999999998,26.755099999999999
> 44.080750000000002))


Gabriel,

I have briefly reviewed the MapServer code for reading from OGR and it
does not *look* like a warning should terminate the feature fetching
loop.  Would it be possible for you to file a ticket against MapServer
including a simple mapfile demonstrating the issue and a pointer to
the data file?   Please ensure it is assigned to "warmerdam" or email
me privately after it is created.

Please be specific about the versions of GDAL/OGR and MapServer you
are using.

 > ----------------------------------
 > With the same file OpenCPN is working/rendering fine.
 > Any idea how to do in order to be able to show this layer?

I'm guessing that OpenCPN is just less sensitive to the problem in the
data.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Sun May  8 13:59:45 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May  8 20:41:58 2011
Subject: [gdal-dev] RFC 35: Delete,
	reorder and alter field definitions of OGR layers - Call for
	discussion [v2]
In-Reply-To: <201105080110.11068.even.rouault@mines-paris.org>
References: <201105071916.27438.even.rouault@mines-paris.org>
	<4DC5C9BF.7050303@pobox.com>
	<201105080110.11068.even.rouault@mines-paris.org>
Message-ID: <201105081959.45490.even.rouault@mines-paris.org>

I've updated http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn 
to introduce OGRLayer::ReorderFields(), to reorder all the fields at once.

I've kept a (non-virtual) ReorderField() to be able to move easily a single 
field. ReorderField() is just a wrapper that generates the appropriate 
permutation to be used by ReorderFields().

A rfc35_v2.patch has been uploaded in ticket #2671 with the above changes.

Best regards,

Even
From bontepaarden at gmail.com  Sun May  8 16:32:48 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Sun May  8 23:23:49 2011
Subject: [gdal-dev] Changelog v1.7 --> v1.8
Message-ID: <BANLkTink-x7wpzS=RyNPB9W-nuRYOuc-7w@mail.gmail.com>

Hi list,

I'm about to upgrade MapWindow GIS from using GDAL v1.7 to GDAL v1.8, but
before I do that I would like to look at the changelog to see if we can
expect any trouble.

I've been looking on the GDAL site and downloaded the source code, but can't
find it.

Can anybody point me to the changelog?

Thanks,

Paul

*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110508/3721430a/attachment.html
From even.rouault at mines-paris.org  Sun May  8 16:35:00 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May  8 23:25:54 2011
Subject: [gdal-dev] Changelog v1.7 --> v1.8
In-Reply-To: <BANLkTink-x7wpzS=RyNPB9W-nuRYOuc-7w@mail.gmail.com>
References: <BANLkTink-x7wpzS=RyNPB9W-nuRYOuc-7w@mail.gmail.com>
Message-ID: <201105082235.00252.even.rouault@mines-paris.org>

Le dimanche 08 mai 2011 22:32:48, Paul Meems a ?crit :

The changelog is the NEWS file in the source archive. You can also find it on 
Trac : http://trac.osgeo.org/gdal/wiki/Release/1.8.0-News

> Hi list,
> 
> I'm about to upgrade MapWindow GIS from using GDAL v1.7 to GDAL v1.8, but
> before I do that I would like to look at the changelog to see if we can
> expect any trouble.
> 
> I've been looking on the GDAL site and downloaded the source code, but
> can't find it.
> 
> Can anybody point me to the changelog?
> 
> Thanks,
> 
> Paul
> 
> *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
> 
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
> 
> *
> *
From warmerdam at pobox.com  Sun May  8 16:35:39 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sun May  8 23:26:29 2011
Subject: [gdal-dev] Changelog v1.7 --> v1.8
In-Reply-To: <BANLkTink-x7wpzS=RyNPB9W-nuRYOuc-7w@mail.gmail.com>
References: <BANLkTink-x7wpzS=RyNPB9W-nuRYOuc-7w@mail.gmail.com>
Message-ID: <4DC6FE9B.6020200@pobox.com>

On 11-05-08 04:32 PM, Paul Meems wrote:
> Hi list,
>
> I'm about to upgrade MapWindow GIS from using GDAL v1.7 to GDAL v1.8, but
> before I do that I would like to look at the changelog to see if we can expect
> any trouble.
>
> I've been looking on the GDAL site and downloaded the source code, but can't
> find it.
>
> Can anybody point me to the changelog?

Paul,

It is handled primarily as a News page on the web site:

   http://trac.osgeo.org/gdal/wiki/Release/1.8.0-News

Alternatively you can browse the svn history.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bontepaarden at gmail.com  Sun May  8 16:50:02 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Sun May  8 23:42:01 2011
Subject: [gdal-dev] Changelog v1.7 --> v1.8
In-Reply-To: <4DC6FE9B.6020200@pobox.com>
References: <BANLkTink-x7wpzS=RyNPB9W-nuRYOuc-7w@mail.gmail.com>
	<4DC6FE9B.6020200@pobox.com>
Message-ID: <BANLkTimSy9LDvZZ9Mf-79f3NZkt_5rAm7A@mail.gmail.com>

Thanks Frank and Even for the swift reply.
You both replied within 3 minutes and that on a Sunday!
Even was a millisecond faster ;)

I've found the page and I'll study it closely.

I'll let you know when we've successfully upgraded MapWindow.

Thanks,

Paul


*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*




2011/5/8 Frank Warmerdam <warmerdam@pobox.com>

> On 11-05-08 04:32 PM, Paul Meems wrote:
>
>> Hi list,
>>
>> I'm about to upgrade MapWindow GIS from using GDAL v1.7 to GDAL v1.8, but
>> before I do that I would like to look at the changelog to see if we can
>> expect
>> any trouble.
>>
>> I've been looking on the GDAL site and downloaded the source code, but
>> can't
>> find it.
>>
>> Can anybody point me to the changelog?
>>
>
> Paul,
>
> It is handled primarily as a News page on the web site:
>
>
>  http://trac.osgeo.org/gdal/wiki/Release/1.8.0-News
>
> Alternatively you can browse the svn history.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110508/41489049/attachment.html
From weliam.cloud at gmail.com  Sun May  8 17:49:18 2011
From: weliam.cloud at gmail.com (William Kang)
Date: Mon May  9 00:44:23 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <201105081044.22029.even.rouault@mines-paris.org>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
	<201105081044.22029.even.rouault@mines-paris.org>
Message-ID: <BANLkTik4r9+aA7=aVNyO1VfYO_pUr-2RCQ@mail.gmail.com>

Hi Even,
Thanks a lot for your reply. Your answer makes things much clearer for
this problem.

I thought the gdal.ReporjectImage would calculate the new geoTransform
coefficients automatically. And the answer I found in this post,
http://osgeo-org.1803224.n2.nabble.com/python-gdal-gdal-ReprojectImage-produces-no-data-td3348305.html,
confused me more.

I will try the method you suggested and let you know the rest. Thanks a lot.


William

On Sun, May 8, 2011 at 4:44 AM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> William,
>
> Using ReprojectImage() requires some involved preliminary steps. It is
> generally not appropriate to reuse the dimensions of the in_ds for the out_ds,
> because the shape of the reprojected image is generally not the same as the in
> image. But the real error is to reuse the in geotransform as the out
> geotransform. It doesn't make any sense when the in and out projections are
> not the same. Unfortunately there's no easy way of guessing the out
> geotransform.
>
> A simple approximation would be to compute the coordinates of the 4 corners of
> the in image, reproject them to the dstRef and compute from them the out
> geotransform.
>
> What you would need is the GDALSuggestedWarpOutput2() function of
> http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdaltransformer.cpp, which
> is used by the gdalwarp utility, but it is not available from Java. It is
> generally called with pfnTransformer = GDALGenImgProjTransform and
> hTransformArg = GDALCreateGenImgProjTransformer2( hSrcDS, NULL, papszOptions )
> for your use case.
>
> But I'm thinking of an easier way. You could use gdal.AutoCreateWarpedVRT()
> that will create a in-memory VRT dataset using the above methods to guess the
> appropriate dimensions and geotransform. Then, you can CreateCopy() into a
> "real" dataset.
>
> See
> http://gdal.org/java/org/gdal/gdal/gdal.html#AutoCreateWarpedVRT(org.gdal.gdal.Dataset,
> %20java.lang.String,%20java.lang.String)
>
> Something like :
>
> Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds, null, dstRef.ExportToWkt());
> Dataset out_ds = gdal.GetDriverByName("GTiff").CreateCopy(outPath, vrt_ds);
> vrt_ds.delete();
> out_ds.delete();
>
> This will be a bit slower than ReprojectImage() but this should work.
>
> Best regards,
>
> Even
>
>
>> Hi folks,
>> I am new to this mailing list. Thanks all for your great job on GDAL/OGR.
>>
>> I have a problem with the gdal.ReprojectImage from gdal1.8 Java
>> bindings. When I perform the reprojection, the projected image is
>> totally black. And the origin of the projected image is wrong too.
>> There were no error popping up at all. The code is as following:
>>
>> ? ? ? ? ? ? ? Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
>> ? ? ? ? ? ? ? Dataset out_ds = in_ds.GetDriver().Create(outPath,
>> in_ds.getRasterXSize(), in_ds.getRasterYSize(),
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? in_ds.getRasterCount());
>>
>> ? ? ? ? ? ? ? try {
>> ? ? ? ? ? ? ? ? ? ? ? SpatialReference dstRef = new SpatialReference("");
>> ? ? ? ? ? ? ? ? ? ? ? dstRef.ImportFromEPSG(26919);
>>
>> ? ? ? ? ? ? ? ? ? ? ? out_ds.SetProjection(dstRef.ExportToWkt());
>> ? ? ? ? ? ? ? ? ? ? ? out_ds.SetGeoTransform(in_ds.GetGeoTransform());
>>
>> ? ? ? ? ? ? ? ? ? ? ? if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? System.out.println("something is wrong");
>> ? ? ? ? ? ? ? } finally {
>> ? ? ? ? ? ? ? ? ? ? ? in_ds.delete();
>> ? ? ? ? ? ? ? ? ? ? ? out_ds.delete();
>> ? ? ? ? ? ? ? }
>>
>> Does anybody know what's going on here? Thanks a lot.
>>
>>
>> William
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From wonder.sk at gmail.com  Mon May  9 07:54:51 2011
From: wonder.sk at gmail.com (Martin Dobias)
Date: Mon May  9 15:36:39 2011
Subject: [gdal-dev] RFC 35: Delete, reorder and alter field definitions of
	OGR layers - Call for discussion
In-Reply-To: <201105071916.27438.even.rouault@mines-paris.org>
References: <201105071916.27438.even.rouault@mines-paris.org>
Message-ID: <BANLkTin475VX9P44=oHgOktqahoG-VartQ@mail.gmail.com>

Hi Even

On Sat, May 7, 2011 at 7:16 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Hi,
>
> I've written a new RFC to add the capability to delete fields, reorder fields
> and alter field definitions, in OGR layer definitions.
>
> ? ? ? ?http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn

Thanks a lot for creating the RFC.

I have just two comments:
- is the alternation of hte field definition going to have some rules
how the existing data should be converted to the new type or will the
driver itself choose how to convert the data? The latter option is
surely the easier one, but it would be probably good to guarantee at
least some expected conversions: int <-> text, float <-> text, round
the number when lowering precision etc.
- what is actually the motivation behind reordering of the fields? Is
that just for aesthetical reasons? (e.g. zip code should be next to
the city name)

Regards
Martin
From cnieman at dmsolutions.ca  Mon May  9 08:24:50 2011
From: cnieman at dmsolutions.ca (Christy Nieman)
Date: Mon May  9 16:15:26 2011
Subject: [gdal-dev] UTF-8 strings being re-encoded to LATIN1 with ogr2ogr
Message-ID: <4DC7DD12.2070407@dmsolutions.ca>

Hello,

I compiled gdal from trunk last week, and noticed that ogr2ogr keeps 
converting UTF-8 strings to LATIN1.  The only thing I've been able to 
find that's remotely related to this is OGR_EDIGEO_RECODE_TO_UTF8 at the 
bottom of http://trac.osgeo.org/gdal/wiki/ConfigOptions  which appears 
to be a way to prevent the opposite of what is happening.  Tested with 
1.8 and it works as expected (i.e. UTF-8 string stay in UTF-8).

Has anyone else seen this?

Thanks,
Christy

-- 
Christy Nieman
GIS Technician
DM Solutions Group, Inc.
Email: cnieman@dmsolutions.ca
Web: http://dmsolutions.ca
Phone: 613-565-5056 x12
From warmerdam at pobox.com  Mon May  9 09:52:06 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May  9 17:40:33 2011
Subject: [gdal-dev] UTF-8 strings being re-encoded to LATIN1 with ogr2ogr
In-Reply-To: <4DC7DD12.2070407@dmsolutions.ca>
References: <4DC7DD12.2070407@dmsolutions.ca>
Message-ID: <4DC7F186.2070601@pobox.com>

On 11-05-09 08:24 AM, Christy Nieman wrote:
> Hello,
>
> I compiled gdal from trunk last week, and noticed that ogr2ogr keeps converting
> UTF-8 strings to LATIN1. The only thing I've been able to find that's remotely
> related to this is OGR_EDIGEO_RECODE_TO_UTF8 at the bottom of
> http://trac.osgeo.org/gdal/wiki/ConfigOptions which appears to be a way to
> prevent the opposite of what is happening. Tested with 1.8 and it works as
> expected (i.e. UTF-8 string stay in UTF-8).
>
> Has anyone else seen this?

Christy,

Are you speaking about with shapefiles?  Recently a first effort was made to
apply encoding conversions to and from shapefiles.  There is a configuration
options for the shapefile driver that can be used to override it's concept
of what the encoding of the shapefile is or should be.  If you want to avoid
conversions you should be able to set it to "UTF-8".

eg.

ogr2ogr --config SHAPE_ENCODING UTF-8 out.shp in.mif

If it is another driver you are working with then you will need to be
specific.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From cnieman at dmsolutions.ca  Mon May  9 09:56:14 2011
From: cnieman at dmsolutions.ca (Christy Nieman)
Date: Mon May  9 17:44:59 2011
Subject: [gdal-dev] UTF-8 strings being re-encoded to LATIN1 with ogr2ogr
In-Reply-To: <4DC7F186.2070601@pobox.com>
References: <4DC7DD12.2070407@dmsolutions.ca> <4DC7F186.2070601@pobox.com>
Message-ID: <4DC7F27E.5060205@dmsolutions.ca>

Frank,

Sorry, I forgot to specify the driver.  And yes, it's the shapefile 
driver.  I'll give the SHAPE_ENCODING override a shot.

Christy

On 05/09/2011 09:52 AM, Frank Warmerdam wrote:
> On 11-05-09 08:24 AM, Christy Nieman wrote:
>> Hello,
>>
>> I compiled gdal from trunk last week, and noticed that ogr2ogr keeps 
>> converting
>> UTF-8 strings to LATIN1. The only thing I've been able to find that's 
>> remotely
>> related to this is OGR_EDIGEO_RECODE_TO_UTF8 at the bottom of
>> http://trac.osgeo.org/gdal/wiki/ConfigOptions which appears to be a 
>> way to
>> prevent the opposite of what is happening. Tested with 1.8 and it 
>> works as
>> expected (i.e. UTF-8 string stay in UTF-8).
>>
>> Has anyone else seen this?
>
> Christy,
>
> Are you speaking about with shapefiles?  Recently a first effort was 
> made to
> apply encoding conversions to and from shapefiles.  There is a 
> configuration
> options for the shapefile driver that can be used to override it's 
> concept
> of what the encoding of the shapefile is or should be.  If you want to 
> avoid
> conversions you should be able to set it to "UTF-8".
>
> eg.
>
> ogr2ogr --config SHAPE_ENCODING UTF-8 out.shp in.mif
>
> If it is another driver you are working with then you will need to be
> specific.
>
> Best regards,
From rodolfobonnin at suremptec.com.ar  Mon May  9 10:37:38 2011
From: rodolfobonnin at suremptec.com.ar (Rodolfo Bonnin)
Date: Mon May  9 18:28:44 2011
Subject: [gdal-dev] GetProjectionRef() returning NULL
Message-ID: <BANLkTim-2eat3Lt3tU7GRcjr4bn8j1+=oA@mail.gmail.com>

Hello all,

I'm working with a HDF5 dataset with Gdal 1.8.0, I open it with the
HDF5Image driver.
The image metadata is read OK from what I can see, but when I want to
execute the GetProjectionRef() method, it returns null, even if the
documentation says it wouldn't return any null pointer.

I've traced the null pointer to HDF5ImageDataset::CreateProjections(),
in line 562 it reads

_______________________________________________________________________
poH5Objects=HDF5FindDatasetObjects( poH5RootGroup,  "Latitude" );
    if( !poH5Objects ) {
	return CE_None;
    }
_______________________________________________________________________

Since my HDF5 file doesn't have a "Latitude" dataset, the function
returns without setting the pszProjection variable, it remains null
and   is never being set as an empty string, as the GetProjectionRef
consist only in:
________________________________________________________________________
const char *HDF5ImageDataset::GetProjectionRef( )

{
    return pszProjection;  //
}
_______________________________________________________________________

BTW, I used an unofficial CMake configuration file to build the
library, but in this case it seems the fault can't be blamed to the
build scripts.

Many thanks in advance.

-- 
Ing. Rodolfo Bonnin
SUR Emprendimientos Tecnol?gicos

Per? 345? Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
rodolfobonnin@suremptec.com.ar
www.suremptec.com
From woodbri at swoodbridge.com  Mon May  9 11:00:22 2011
From: woodbri at swoodbridge.com (Stephen Woodbridge)
Date: Mon May  9 18:56:02 2011
Subject: [gdal-dev] RFC 35: Delete, reorder and alter field definitions
	of	OGR layers - Call for discussion
In-Reply-To: <BANLkTin475VX9P44=oHgOktqahoG-VartQ@mail.gmail.com>
References: <201105071916.27438.even.rouault@mines-paris.org>
	<BANLkTin475VX9P44=oHgOktqahoG-VartQ@mail.gmail.com>
Message-ID: <4DC80186.5030001@swoodbridge.com>

On 5/9/2011 7:54 AM, Martin Dobias wrote:
> Hi Even
>
> On Sat, May 7, 2011 at 7:16 PM, Even Rouault
> <even.rouault@mines-paris.org>  wrote:
>> Hi,
>>
>> I've written a new RFC to add the capability to delete fields, reorder fields
>> and alter field definitions, in OGR layer definitions.
>>
>>         http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn
>
> Thanks a lot for creating the RFC.
>
> I have just two comments:
> - is the alternation of hte field definition going to have some rules
> how the existing data should be converted to the new type or will the
> driver itself choose how to convert the data? The latter option is
> surely the easier one, but it would be probably good to guarantee at
> least some expected conversions: int<->  text, float<->  text, round
> the number when lowering precision etc.
> - what is actually the motivation behind reordering of the fields? Is
> that just for aesthetical reasons? (e.g. zip code should be next to
> the city name)

Martin,

On rationale, it that some programs, like mapserver, require that all 
files in a tile index have identical attribute column definitions. This 
means same column names, types, widths and column ordering.

In other cases, I do prefer to keep some columns grouped together rather 
than just randomly tacked on to the end so i would use this if it were 
available.

Regards,
   -Steve
From warmerdam at pobox.com  Mon May  9 12:55:14 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon May  9 20:54:09 2011
Subject: [gdal-dev] GetProjectionRef() returning NULL
In-Reply-To: <BANLkTim-2eat3Lt3tU7GRcjr4bn8j1+=oA@mail.gmail.com>
References: <BANLkTim-2eat3Lt3tU7GRcjr4bn8j1+=oA@mail.gmail.com>
Message-ID: <4DC81C72.4000804@pobox.com>

On 11-05-09 10:37 AM, Rodolfo Bonnin wrote:
> Hello all,
>
> I'm working with a HDF5 dataset with Gdal 1.8.0, I open it with the
> HDF5Image driver.
> The image metadata is read OK from what I can see, but when I want to
> execute the GetProjectionRef() method, it returns null, even if the
> documentation says it wouldn't return any null pointer.
>
> I've traced the null pointer to HDF5ImageDataset::CreateProjections(),
> in line 562 it reads
>
> _______________________________________________________________________
> poH5Objects=HDF5FindDatasetObjects( poH5RootGroup,  "Latitude" );
>      if( !poH5Objects ) {
> 	return CE_None;
>      }
> _______________________________________________________________________
>
> Since my HDF5 file doesn't have a "Latitude" dataset, the function
> returns without setting the pszProjection variable, it remains null
> and   is never being set as an empty string, as the GetProjectionRef
> consist only in:
> ________________________________________________________________________
> const char *HDF5ImageDataset::GetProjectionRef( )
>
> {
>      return pszProjection;  //
> }
> _______________________________________________________________________

Rodolfo,

I agree, this is a bug.  I have filed a ticket on the issue and applied a
fix in 1.8 and trunk.

   http://trac.osgeo.org/gdal/ticket/4076

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From charles.karney at sri.com  Mon May  9 14:03:08 2011
From: charles.karney at sri.com (Charles Karney)
Date: Mon May  9 22:06:43 2011
Subject: [gdal-dev] Mapping many external band types to a few internal
	formats
Message-ID: <4DC82C5C.2030105@sri.com>

How can I open a more-or-less arbitrary image file and have GDAL present
it to me (the programmer) in a "normalized" form?  I had thought that
the virtual datasets would allow me to do this.  But I can't tell how
from the tutorial.  Here are examples of what I've like to do:

On input

   Have color-mapped file look like RGB
   Convert file with nodata values to RGBA
   Convert RGB files to an RGBA file
   Convert gray files to RGB or RGBA
   Convert color files to gray
   Convert 16-bit files to 8 bit (according to some formula)
   Convert 16-bit files to float32 (with offset + scale)

On output (less important)

   Convert an RGBA image with an unused A channel (all opaque) to RGB
     file
   Convert an Gray-alpha image to a Gray-nodata file (if there's an
     unused gray value)
   Convert RGB to color-mapped if the number colors is small enough.

Basically, I would like to be able to deal with only a few basic image
types within my program and have the mapping from the various external
data arrangements done "seamlessly" by the reader.

I had coded up much of this functionality with my on layer on top of
GDAL.  But this got really messy after a while.  I'm looking for a
better approach and would welcome any advice.

-- 
Charles Karney <charles.karney@sri.com>
SRI International, Princeton, NJ 08543-5300
Tel: +1 609 734 2312
From weliam.cloud at gmail.com  Mon May  9 14:29:26 2011
From: weliam.cloud at gmail.com (William Kang)
Date: Mon May  9 22:33:41 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <201105081044.22029.even.rouault@mines-paris.org>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
	<201105081044.22029.even.rouault@mines-paris.org>
Message-ID: <BANLkTikB1r1WGbRN20ka964YjCDubV1FZQ@mail.gmail.com>

Hi Even,
I have tried the method you suggested and it worked! I have similar
result as Ivan tested. For the record, here are two solutions for
handling this problem:

*************************************
1. Using CreateCopy:
SpatialReference dstRef = new SpatialReference("");
dstRef.ImportFromEPSG(26919);

Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds,
in_ds.GetProjection(), dstRef.ExportToWkt());
Dataset out_ds = in_ds.GetDriver().CreateCopy(outPath, vrt_ds);

clean up..

2. Using ReprojectImage
SpatialReference dstRef = new SpatialReference("");
dstRef.ImportFromEPSG(26919);

Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds,
in_ds.GetProjection(), dstRef.ExportToWkt());
Dataset out_ds = out_ds = in_ds.GetDriver().Create(outPath,
vrt_ds.getRasterXSize(), vrt_ds.getRasterYSize(),
					in_ds.getRasterCount());

out_ds.SetProjection(vrt_ds.GetProjection());
out_ds.SetGeoTransform(vrt_ds.GetGeoTransform());

if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
		System.out.println("Something in reprojection is wrong");

clean up..
***********************

The speed of the two above solutions are very similar in both cases
for a 5000 x 5000 image. However, the tif image I created by using
creatcopy method is 40k larger than the reprojectimage method.

One problem is that it is way slower than the gdalwarp.exe in windwos
7. Any insights about why the java binding version is so slow? This
makes me think that I probably should run a command line gdalwarp.exe
inside java by using java runtime. Any suggestion?

Thanks a lot.


William

On Sun, May 8, 2011 at 4:44 AM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> William,
>
> Using ReprojectImage() requires some involved preliminary steps. It is
> generally not appropriate to reuse the dimensions of the in_ds for the out_ds,
> because the shape of the reprojected image is generally not the same as the in
> image. But the real error is to reuse the in geotransform as the out
> geotransform. It doesn't make any sense when the in and out projections are
> not the same. Unfortunately there's no easy way of guessing the out
> geotransform.
>
> A simple approximation would be to compute the coordinates of the 4 corners of
> the in image, reproject them to the dstRef and compute from them the out
> geotransform.
>
> What you would need is the GDALSuggestedWarpOutput2() function of
> http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdaltransformer.cpp, which
> is used by the gdalwarp utility, but it is not available from Java. It is
> generally called with pfnTransformer = GDALGenImgProjTransform and
> hTransformArg = GDALCreateGenImgProjTransformer2( hSrcDS, NULL, papszOptions )
> for your use case.
>
> But I'm thinking of an easier way. You could use gdal.AutoCreateWarpedVRT()
> that will create a in-memory VRT dataset using the above methods to guess the
> appropriate dimensions and geotransform. Then, you can CreateCopy() into a
> "real" dataset.
>
> See
> http://gdal.org/java/org/gdal/gdal/gdal.html#AutoCreateWarpedVRT(org.gdal.gdal.Dataset,
> %20java.lang.String,%20java.lang.String)
>
> Something like :
>
> Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds, null, dstRef.ExportToWkt());
> Dataset out_ds = gdal.GetDriverByName("GTiff").CreateCopy(outPath, vrt_ds);
> vrt_ds.delete();
> out_ds.delete();
>
> This will be a bit slower than ReprojectImage() but this should work.
>
> Best regards,
>
> Even
>
>
>> Hi folks,
>> I am new to this mailing list. Thanks all for your great job on GDAL/OGR.
>>
>> I have a problem with the gdal.ReprojectImage from gdal1.8 Java
>> bindings. When I perform the reprojection, the projected image is
>> totally black. And the origin of the projected image is wrong too.
>> There were no error popping up at all. The code is as following:
>>
>> ? ? ? ? ? ? ? Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
>> ? ? ? ? ? ? ? Dataset out_ds = in_ds.GetDriver().Create(outPath,
>> in_ds.getRasterXSize(), in_ds.getRasterYSize(),
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? in_ds.getRasterCount());
>>
>> ? ? ? ? ? ? ? try {
>> ? ? ? ? ? ? ? ? ? ? ? SpatialReference dstRef = new SpatialReference("");
>> ? ? ? ? ? ? ? ? ? ? ? dstRef.ImportFromEPSG(26919);
>>
>> ? ? ? ? ? ? ? ? ? ? ? out_ds.SetProjection(dstRef.ExportToWkt());
>> ? ? ? ? ? ? ? ? ? ? ? out_ds.SetGeoTransform(in_ds.GetGeoTransform());
>>
>> ? ? ? ? ? ? ? ? ? ? ? if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? System.out.println("something is wrong");
>> ? ? ? ? ? ? ? } finally {
>> ? ? ? ? ? ? ? ? ? ? ? in_ds.delete();
>> ? ? ? ? ? ? ? ? ? ? ? out_ds.delete();
>> ? ? ? ? ? ? ? }
>>
>> Does anybody know what's going on here? Thanks a lot.
>>
>>
>> William
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From even.rouault at mines-paris.org  Mon May  9 14:43:35 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May  9 22:48:14 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <BANLkTikB1r1WGbRN20ka964YjCDubV1FZQ@mail.gmail.com>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
	<201105081044.22029.even.rouault@mines-paris.org>
	<BANLkTikB1r1WGbRN20ka964YjCDubV1FZQ@mail.gmail.com>
Message-ID: <201105092043.35628.even.rouault@mines-paris.org>

Le lundi 09 mai 2011 20:29:26, William Kang a ?crit :
> Hi Even,
> I have tried the method you suggested and it worked! I have similar
> result as Ivan tested. For the record, here are two solutions for
> handling this problem:
> 
> *************************************
> 1. Using CreateCopy:
> SpatialReference dstRef = new SpatialReference("");
> dstRef.ImportFromEPSG(26919);
> 
> Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
> Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds,
> in_ds.GetProjection(), dstRef.ExportToWkt());
> Dataset out_ds = in_ds.GetDriver().CreateCopy(outPath, vrt_ds);
> 
> clean up..
> 
> 2. Using ReprojectImage
> SpatialReference dstRef = new SpatialReference("");
> dstRef.ImportFromEPSG(26919);
> 
> Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
> Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds,
> in_ds.GetProjection(), dstRef.ExportToWkt());
> Dataset out_ds = out_ds = in_ds.GetDriver().Create(outPath,
> vrt_ds.getRasterXSize(), vrt_ds.getRasterYSize(),
> 					in_ds.getRasterCount());
> 
> out_ds.SetProjection(vrt_ds.GetProjection());
> out_ds.SetGeoTransform(vrt_ds.GetGeoTransform());
> 
> if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
> 		System.out.println("Something in reprojection is wrong");
> 
> clean up..
> ***********************
> 
> The speed of the two above solutions are very similar in both cases
> for a 5000 x 5000 image. However, the tif image I created by using
> creatcopy method is 40k larger than the reprojectimage method.
> 
> One problem is that it is way slower than the gdalwarp.exe in windwos
> 7. Any insights about why the java binding version is so slow? This
> makes me think that I probably should run a command line gdalwarp.exe
> inside java by using java runtime. Any suggestion?

There's no reason why it would be fundamentally slower. But one possibility is 
that the default value of maxError when not explicitely provided is 0, instead 
of 0.125 for gdalwarp utility. Specifying a non null value causes the use of 
an approximate transformer that is much faster than the exact one while 
providing sufficient quality if the error value is small. So I'd suggest you to 
specify 0.125 as the value for the maxError parameter.

> 
> Thanks a lot.
> 
> 
> William
> 
> On Sun, May 8, 2011 at 4:44 AM, Even Rouault
> 
> <even.rouault@mines-paris.org> wrote:
> > William,
> > 
> > Using ReprojectImage() requires some involved preliminary steps. It is
> > generally not appropriate to reuse the dimensions of the in_ds for the
> > out_ds, because the shape of the reprojected image is generally not the
> > same as the in image. But the real error is to reuse the in geotransform
> > as the out geotransform. It doesn't make any sense when the in and out
> > projections are not the same. Unfortunately there's no easy way of
> > guessing the out geotransform.
> > 
> > A simple approximation would be to compute the coordinates of the 4
> > corners of the in image, reproject them to the dstRef and compute from
> > them the out geotransform.
> > 
> > What you would need is the GDALSuggestedWarpOutput2() function of
> > http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdaltransformer.cpp,
> > which is used by the gdalwarp utility, but it is not available from
> > Java. It is generally called with pfnTransformer =
> > GDALGenImgProjTransform and hTransformArg =
> > GDALCreateGenImgProjTransformer2( hSrcDS, NULL, papszOptions ) for your
> > use case.
> > 
> > But I'm thinking of an easier way. You could use
> > gdal.AutoCreateWarpedVRT() that will create a in-memory VRT dataset
> > using the above methods to guess the appropriate dimensions and
> > geotransform. Then, you can CreateCopy() into a "real" dataset.
> > 
> > See
> > http://gdal.org/java/org/gdal/gdal/gdal.html#AutoCreateWarpedVRT(org.gdal
> > .gdal.Dataset, %20java.lang.String,%20java.lang.String)
> > 
> > Something like :
> > 
> > Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds, null,
> > dstRef.ExportToWkt()); Dataset out_ds =
> > gdal.GetDriverByName("GTiff").CreateCopy(outPath, vrt_ds);
> > vrt_ds.delete();
> > out_ds.delete();
> > 
> > This will be a bit slower than ReprojectImage() but this should work.
> > 
> > Best regards,
> > 
> > Even
> > 
> >> Hi folks,
> >> I am new to this mailing list. Thanks all for your great job on
> >> GDAL/OGR.
> >> 
> >> I have a problem with the gdal.ReprojectImage from gdal1.8 Java
> >> bindings. When I perform the reprojection, the projected image is
> >> totally black. And the origin of the projected image is wrong too.
> >> There were no error popping up at all. The code is as following:
> >> 
> >>               Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
> >>               Dataset out_ds = in_ds.GetDriver().Create(outPath,
> >> in_ds.getRasterXSize(), in_ds.getRasterYSize(),
> >>                               in_ds.getRasterCount());
> >> 
> >>               try {
> >>                       SpatialReference dstRef = new
> >> SpatialReference(""); dstRef.ImportFromEPSG(26919);
> >> 
> >>                       out_ds.SetProjection(dstRef.ExportToWkt());
> >>                       out_ds.SetGeoTransform(in_ds.GetGeoTransform());
> >> 
> >>                       if (gdal.ReprojectImage(in_ds, out_ds) ==
> >> gdalconst.CE_Failure) System.out.println("something is wrong"); }
> >> finally {
> >>                       in_ds.delete();
> >>                       out_ds.delete();
> >>               }
> >> 
> >> Does anybody know what's going on here? Thanks a lot.
> >> 
> >> 
> >> William
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From weliam.cloud at gmail.com  Mon May  9 15:32:39 2011
From: weliam.cloud at gmail.com (William Kang)
Date: Mon May  9 23:42:21 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <201105092043.35628.even.rouault@mines-paris.org>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
	<201105081044.22029.even.rouault@mines-paris.org>
	<BANLkTikB1r1WGbRN20ka964YjCDubV1FZQ@mail.gmail.com>
	<201105092043.35628.even.rouault@mines-paris.org>
Message-ID: <BANLkTi=Gujf1Ff8afaDp6Mgb1Hwyrn=vUg@mail.gmail.com>

Hi Even,
After I set it to 0.125, the speed is comparable to the gdalwarp.exe.
Thanks a lot for your suggestions.

Aside from this topic, I have some questions about the reprojection
process in gdal. My understanding is that the getGeoTransform returns
the affine coefficients needed to perform the projection change. If we
can calculate the four corner points by using the geoTransformer and
get their coordinates in the new projection coordinate system, we can
calculate the corresponding bounding box and affine transformation
coefficients.

But I have read documents and your first reply email suggested that
some sampling processes along the image edge are necessary to
calculate the proper bounding box. Why is that? Isn't the four corner
points enough to determine the new bounding box? Thanks a lot for your
help.


Cao

On Mon, May 9, 2011 at 2:43 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Le lundi 09 mai 2011 20:29:26, William Kang a ?crit :
>> Hi Even,
>> I have tried the method you suggested and it worked! I have similar
>> result as Ivan tested. For the record, here are two solutions for
>> handling this problem:
>>
>> *************************************
>> 1. Using CreateCopy:
>> SpatialReference dstRef = new SpatialReference("");
>> dstRef.ImportFromEPSG(26919);
>>
>> Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
>> Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds,
>> in_ds.GetProjection(), dstRef.ExportToWkt());
>> Dataset out_ds = in_ds.GetDriver().CreateCopy(outPath, vrt_ds);
>>
>> clean up..
>>
>> 2. Using ReprojectImage
>> SpatialReference dstRef = new SpatialReference("");
>> dstRef.ImportFromEPSG(26919);
>>
>> Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
>> Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds,
>> in_ds.GetProjection(), dstRef.ExportToWkt());
>> Dataset out_ds = out_ds = in_ds.GetDriver().Create(outPath,
>> vrt_ds.getRasterXSize(), vrt_ds.getRasterYSize(),
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? in_ds.getRasterCount());
>>
>> out_ds.SetProjection(vrt_ds.GetProjection());
>> out_ds.SetGeoTransform(vrt_ds.GetGeoTransform());
>>
>> if (gdal.ReprojectImage(in_ds, out_ds) == gdalconst.CE_Failure)
>> ? ? ? ? ? ? ? System.out.println("Something in reprojection is wrong");
>>
>> clean up..
>> ***********************
>>
>> The speed of the two above solutions are very similar in both cases
>> for a 5000 x 5000 image. However, the tif image I created by using
>> creatcopy method is 40k larger than the reprojectimage method.
>>
>> One problem is that it is way slower than the gdalwarp.exe in windwos
>> 7. Any insights about why the java binding version is so slow? This
>> makes me think that I probably should run a command line gdalwarp.exe
>> inside java by using java runtime. Any suggestion?
>
> There's no reason why it would be fundamentally slower. But one possibility is
> that the default value of maxError when not explicitely provided is 0, instead
> of 0.125 for gdalwarp utility. Specifying a non null value causes the use of
> an approximate transformer that is much faster than the exact one while
> providing sufficient quality if the error value is small. So I'd suggest you to
> specify 0.125 as the value for the maxError parameter.
>
>>
>> Thanks a lot.
>>
>>
>> William
>>
>> On Sun, May 8, 2011 at 4:44 AM, Even Rouault
>>
>> <even.rouault@mines-paris.org> wrote:
>> > William,
>> >
>> > Using ReprojectImage() requires some involved preliminary steps. It is
>> > generally not appropriate to reuse the dimensions of the in_ds for the
>> > out_ds, because the shape of the reprojected image is generally not the
>> > same as the in image. But the real error is to reuse the in geotransform
>> > as the out geotransform. It doesn't make any sense when the in and out
>> > projections are not the same. Unfortunately there's no easy way of
>> > guessing the out geotransform.
>> >
>> > A simple approximation would be to compute the coordinates of the 4
>> > corners of the in image, reproject them to the dstRef and compute from
>> > them the out geotransform.
>> >
>> > What you would need is the GDALSuggestedWarpOutput2() function of
>> > http://trac.osgeo.org/gdal/browser/trunk/gdal/alg/gdaltransformer.cpp,
>> > which is used by the gdalwarp utility, but it is not available from
>> > Java. It is generally called with pfnTransformer =
>> > GDALGenImgProjTransform and hTransformArg =
>> > GDALCreateGenImgProjTransformer2( hSrcDS, NULL, papszOptions ) for your
>> > use case.
>> >
>> > But I'm thinking of an easier way. You could use
>> > gdal.AutoCreateWarpedVRT() that will create a in-memory VRT dataset
>> > using the above methods to guess the appropriate dimensions and
>> > geotransform. Then, you can CreateCopy() into a "real" dataset.
>> >
>> > See
>> > http://gdal.org/java/org/gdal/gdal/gdal.html#AutoCreateWarpedVRT(org.gdal
>> > .gdal.Dataset, %20java.lang.String,%20java.lang.String)
>> >
>> > Something like :
>> >
>> > Dataset vrt_ds = gdal.AutoCreateWarpedVRT(in_ds, null,
>> > dstRef.ExportToWkt()); Dataset out_ds =
>> > gdal.GetDriverByName("GTiff").CreateCopy(outPath, vrt_ds);
>> > vrt_ds.delete();
>> > out_ds.delete();
>> >
>> > This will be a bit slower than ReprojectImage() but this should work.
>> >
>> > Best regards,
>> >
>> > Even
>> >
>> >> Hi folks,
>> >> I am new to this mailing list. Thanks all for your great job on
>> >> GDAL/OGR.
>> >>
>> >> I have a problem with the gdal.ReprojectImage from gdal1.8 Java
>> >> bindings. When I perform the reprojection, the projected image is
>> >> totally black. And the origin of the projected image is wrong too.
>> >> There were no error popping up at all. The code is as following:
>> >>
>> >> ? ? ? ? ? ? ? Dataset in_ds = gdal.Open(inPath, gdalconst.GA_ReadOnly);
>> >> ? ? ? ? ? ? ? Dataset out_ds = in_ds.GetDriver().Create(outPath,
>> >> in_ds.getRasterXSize(), in_ds.getRasterYSize(),
>> >> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? in_ds.getRasterCount());
>> >>
>> >> ? ? ? ? ? ? ? try {
>> >> ? ? ? ? ? ? ? ? ? ? ? SpatialReference dstRef = new
>> >> SpatialReference(""); dstRef.ImportFromEPSG(26919);
>> >>
>> >> ? ? ? ? ? ? ? ? ? ? ? out_ds.SetProjection(dstRef.ExportToWkt());
>> >> ? ? ? ? ? ? ? ? ? ? ? out_ds.SetGeoTransform(in_ds.GetGeoTransform());
>> >>
>> >> ? ? ? ? ? ? ? ? ? ? ? if (gdal.ReprojectImage(in_ds, out_ds) ==
>> >> gdalconst.CE_Failure) System.out.println("something is wrong"); }
>> >> finally {
>> >> ? ? ? ? ? ? ? ? ? ? ? in_ds.delete();
>> >> ? ? ? ? ? ? ? ? ? ? ? out_ds.delete();
>> >> ? ? ? ? ? ? ? }
>> >>
>> >> Does anybody know what's going on here? Thanks a lot.
>> >>
>> >>
>> >> William
>> >> _______________________________________________
>> >> gdal-dev mailing list
>> >> gdal-dev@lists.osgeo.org
>> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From even.rouault at mines-paris.org  Mon May  9 15:42:05 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May  9 23:50:01 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <BANLkTi=Gujf1Ff8afaDp6Mgb1Hwyrn=vUg@mail.gmail.com>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
	<201105092043.35628.even.rouault@mines-paris.org>
	<BANLkTi=Gujf1Ff8afaDp6Mgb1Hwyrn=vUg@mail.gmail.com>
Message-ID: <201105092142.05894.even.rouault@mines-paris.org>

Le lundi 09 mai 2011 21:32:39, William Kang a ?crit :
> Hi Even,
> After I set it to 0.125, the speed is comparable to the gdalwarp.exe.
> Thanks a lot for your suggestions.
> 
> Aside from this topic, I have some questions about the reprojection
> process in gdal. My understanding is that the getGeoTransform returns
> the affine coefficients needed to perform the projection change. If we
> can calculate the four corner points by using the geoTransformer and
> get their coordinates in the new projection coordinate system, we can
> calculate the corresponding bounding box and affine transformation
> coefficients.
> 
> But I have read documents and your first reply email suggested that
> some sampling processes along the image edge are necessary to
> calculate the proper bounding box. Why is that? Isn't the four corner
> points enough to determine the new bounding box? Thanks a lot for your
> help.
> 

The 4 corners are not generally sufficient. It is only a rough approximation if 
you don't want to spend more than 20 lines of coding... Sampling along the 
image edges is required for accuracy, especially in case of important warping 
(for example if you reproject between geographic coordinates <--> polar 
projections)

From even.rouault at mines-paris.org  Mon May  9 15:48:20 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May  9 23:56:37 2011
Subject: [gdal-dev] RFC 35: Delete,
	reorder and alter field definitions of OGR layers - Call for
	discussion
In-Reply-To: <BANLkTin475VX9P44=oHgOktqahoG-VartQ@mail.gmail.com>
References: <201105071916.27438.even.rouault@mines-paris.org>
	<BANLkTin475VX9P44=oHgOktqahoG-VartQ@mail.gmail.com>
Message-ID: <201105092148.20769.even.rouault@mines-paris.org>

Martin,

> I have just two comments:
> - is the alternation of hte field definition going to have some rules
> how the existing data should be converted to the new type or will the
> driver itself choose how to convert the data? The latter option is
> surely the easier one, but it would be probably good to guarantee at
> least some expected conversions: int <-> text, float <-> text, round
> the number when lowering precision etc.

I've added a new section 'Altering field types' in the RFC : 

"""
 This RFC does not attempt to guarantee which type conversions will be 
possible. It will depend on the capabilities of the implementing drivers.
For example, for database drivers, the operation will be directly done
on the server side (through a 'ALTER TABLE my_table ALTER COLUMN my_column 
TYPE new_type' command for the PG driver). So some conversions might be 
possible, others not...

It is however expected that converting from any type to OFTString will be 
supported in most cases when AlterFieldDefn() is supported.

Drivers that don't support a conversion and that were required to do it 
(ALTER_TYPE_FLAG set and new_type != old_type) should emit an explicit error.
"""

I've also implemented the conversion from any type to OFTString for the 
shapefile driver and upload a v3 of the patch.

Converting from text to a numeric type seems difficult, because you have no 
guarantee that the content of all features for this field is numeric... So this 
would raise the question : what to do when the conversion is not possible for 
at least one value ? : refuse the whole conversion, or convert what can be 
converted and put some default value in case the conversion is not possible. 
To come back to the PG driver, it refuses to convert from string to integer, 
even when it is possible. From the error message, I suppose it would need a 
USING clause to provide a conversion expression, but I didn't go as far as 
this for now. Hence the rationale for not promising too much in the RFC.

> - what is actually the motivation behind reordering of the fields? Is
> that just for aesthetical reasons? (e.g. zip code should be next to
> the city name)

The reasons given by Stephen are quite good.

I mainly implemented it for the completness of the possible field 
manipulations, as suggested by Frank in ticket #2671. One use case I see is an 
improved user experience when you open a table and want to see the most 
significant columns at the beginning without needing to scroll to the end. I'm 
not sure which drivers, apart from shapefile, will be able to implement it 
actually. There are not so many formats that can implement reordering of fields 
in place. The implementation in some cases might be possible by using an 
intermediate temporary file. This would be needed for example to implement this 
for any text based format, such as CSV, but for that very same reason, CSV 
driver cannot add a field to a layer where features have already been written).

Tanks for your comments,

Even
From gyetman at ciesin.columbia.edu  Mon May  9 15:51:44 2011
From: gyetman at ciesin.columbia.edu (Gregory Yetman)
Date: Mon May  9 23:58:39 2011
Subject: [gdal-dev] gdal_array not found in Python
Message-ID: <4DC845D0.8050907@ciesin.columbia.edu>

Hi,

I've installed GDAL 1.8 and have it (mostly) working with Python 2.7.1. 
I can import all modules from osgeo except gdal_array. There is a 
gdal_array.py file in the site-packages directory with the other modules.

I'm using the binaries (for windows) from here:

http://www.gisinternals.com/sdk/PackageList.aspx?file=release-1600-x64-gdal-1-8-mapserver-5-6.zip

I get the error message below only when I try and import gdal_array:

 >>> from osgeo import gdal_array
Traceback (most recent call last):
   File "<stdin>", line 1, in <module>
   File "C:\Python27\lib\site-packages\osgeo\gdal_array.py", line 24, in 
<module>
     _gdal_array = swig_import_helper()
   File "C:\Python27\lib\site-packages\osgeo\gdal_array.py", line 16, in 
swig_import_helper
     import _gdal_array
ImportError: No module named _gdal_array

I have numpy installed, not sure if that's a requirement or not. Any 
suggestions would be appreciated!

TIA,

Greg


-- 
Gregory Yetman
CIESIN, Columbia University
+1-845-365-8982
http://www.ciesin.columbia.edu
From even.rouault at mines-paris.org  Mon May  9 15:58:34 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 10 00:07:27 2011
Subject: [gdal-dev] gdal_array not found in Python
In-Reply-To: <4DC845D0.8050907@ciesin.columbia.edu>
References: <4DC845D0.8050907@ciesin.columbia.edu>
Message-ID: <201105092158.35051.even.rouault@mines-paris.org>

Le lundi 09 mai 2011 21:51:44, Gregory Yetman a ?crit :
> Hi,
> 
> I've installed GDAL 1.8 and have it (mostly) working with Python 2.7.1.
> I can import all modules from osgeo except gdal_array. There is a
> gdal_array.py file in the site-packages directory with the other modules.
> 
> I'm using the binaries (for windows) from here:
> 
> http://www.gisinternals.com/sdk/PackageList.aspx?file=release-1600-x64-gdal
> -1-8-mapserver-5-6.zip

I've looked at the ZIP file and I believe the package has been built without 
numpy support. (I'd expect a bin/gdal/python/osgeo/_gdal_array.pyd)

CC'ing Tamas to let him know.

> 
> I get the error message below only when I try and import gdal_array:
>  >>> from osgeo import gdal_array
> 
> Traceback (most recent call last):
>    File "<stdin>", line 1, in <module>
>    File "C:\Python27\lib\site-packages\osgeo\gdal_array.py", line 24, in
> <module>
>      _gdal_array = swig_import_helper()
>    File "C:\Python27\lib\site-packages\osgeo\gdal_array.py", line 16, in
> swig_import_helper
>      import _gdal_array
> ImportError: No module named _gdal_array
> 
> I have numpy installed, not sure if that's a requirement or not. Any
> suggestions would be appreciated!

numpy is a requirement at runtime if you load the gdal_array module.

> 
> TIA,
> 
> Greg
From weliam.cloud at gmail.com  Mon May  9 15:58:49 2011
From: weliam.cloud at gmail.com (William Kang)
Date: Tue May 10 00:08:09 2011
Subject: [gdal-dev] Problem with gdal1.8 Java bindings gdal.ReprojectImage,
	produces no data
In-Reply-To: <201105092142.05894.even.rouault@mines-paris.org>
References: <BANLkTi=8qYec824bLdZ9kN6_i80dHwivaw@mail.gmail.com>
	<201105092043.35628.even.rouault@mines-paris.org>
	<BANLkTi=Gujf1Ff8afaDp6Mgb1Hwyrn=vUg@mail.gmail.com>
	<201105092142.05894.even.rouault@mines-paris.org>
Message-ID: <BANLkTin=Y_AMMpg5uQyTx3Q3P675yH+Xhg@mail.gmail.com>

Hi Evan,
Thank you for the clearance. I appreciate your helps.


William

On Mon, May 9, 2011 at 3:42 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Le lundi 09 mai 2011 21:32:39, William Kang a ?crit :
>> Hi Even,
>> After I set it to 0.125, the speed is comparable to the gdalwarp.exe.
>> Thanks a lot for your suggestions.
>>
>> Aside from this topic, I have some questions about the reprojection
>> process in gdal. My understanding is that the getGeoTransform returns
>> the affine coefficients needed to perform the projection change. If we
>> can calculate the four corner points by using the geoTransformer and
>> get their coordinates in the new projection coordinate system, we can
>> calculate the corresponding bounding box and affine transformation
>> coefficients.
>>
>> But I have read documents and your first reply email suggested that
>> some sampling processes along the image edge are necessary to
>> calculate the proper bounding box. Why is that? Isn't the four corner
>> points enough to determine the new bounding box? Thanks a lot for your
>> help.
>>
>
> The 4 corners are not generally sufficient. It is only a rough approximation if
> you don't want to spend more than 20 lines of coding... Sampling along the
> image edges is required for accuracy, especially in case of important warping
> (for example if you reproject between geographic coordinates <--> polar
> projections)
>
>
From gyetman at ciesin.columbia.edu  Mon May  9 16:05:51 2011
From: gyetman at ciesin.columbia.edu (Gregory Yetman)
Date: Tue May 10 00:13:33 2011
Subject: [gdal-dev] gdal_array not found in Python
In-Reply-To: <201105092158.35051.even.rouault@mines-paris.org>
References: <4DC845D0.8050907@ciesin.columbia.edu>
	<201105092158.35051.even.rouault@mines-paris.org>
Message-ID: <4DC8491F.3050500@ciesin.columbia.edu>


Thanks for the info. I do have numpy installed and working:

 >>> import numpy
 >>> print numpy.version.version
1.5.1



On 5/9/2011 3:58 PM, Even Rouault wrote:
> Le lundi 09 mai 2011 21:51:44, Gregory Yetman a ?crit :
>> Hi,
>>
>> I've installed GDAL 1.8 and have it (mostly) working with Python 2.7.1.
>> I can import all modules from osgeo except gdal_array. There is a
>> gdal_array.py file in the site-packages directory with the other modules.
>>
>> I'm using the binaries (for windows) from here:
>>
>> http://www.gisinternals.com/sdk/PackageList.aspx?file=release-1600-x64-gdal
>> -1-8-mapserver-5-6.zip
>
> I've looked at the ZIP file and I believe the package has been built without
> numpy support. (I'd expect a bin/gdal/python/osgeo/_gdal_array.pyd)
>
> CC'ing Tamas to let him know.
>
>>
>> I get the error message below only when I try and import gdal_array:
>>   >>>  from osgeo import gdal_array
>>
>> Traceback (most recent call last):
>>     File "<stdin>", line 1, in<module>
>>     File "C:\Python27\lib\site-packages\osgeo\gdal_array.py", line 24, in
>> <module>
>>       _gdal_array = swig_import_helper()
>>     File "C:\Python27\lib\site-packages\osgeo\gdal_array.py", line 16, in
>> swig_import_helper
>>       import _gdal_array
>> ImportError: No module named _gdal_array
>>
>> I have numpy installed, not sure if that's a requirement or not. Any
>> suggestions would be appreciated!
>
> numpy is a requirement at runtime if you load the gdal_array module.
>
>>
>> TIA,
>>
>> Greg
>

-- 
Gregory Yetman
CIESIN, Columbia University
+1-845-365-8982
http://www.ciesin.columbia.edu
From ksshannon at gmail.com  Mon May  9 17:30:05 2011
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue May 10 01:44:10 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <201105052021.59873.even.rouault@mines-paris.org>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<201105052021.59873.even.rouault@mines-paris.org>
Message-ID: <BANLkTi=isy38A9WeWcMyO_hqaY5sbX6qRw@mail.gmail.com>

Thanks Even,
If that is the case, are there other values in psWarpOptions I *have* to
set?  I can't find docs discussing that.

kss

/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */




On Thu, May 5, 2011 at 12:21, Even Rouault <even.rouault@mines-paris.org>wrote:

> Le mercredi 04 mai 2011 00:40:42, Kyle Shannon a ?crit :
> > I am using AutoCreateWarpedVRT to warp a dataset.  I grab the the source
> > nodata for a band using
> >
> > double noData = poBand->GetNoDataValue( &pbSuccess );
> >
> > which returns 1.#QNAN00000000... on windows.
> >
> > I then try to set the INIT_DEST with this using
> >
> > psWarpOptions->papszWarpOptions =
> >         CSLSetNameValue( psWarpOptions->papszWarpOptions,
> >                  "INIT_DEST", CPLSPrintf( "%lf", noData ) );
> >
> > This works on linux when it returns nan(0x8000000000000), but not on
> > windows, is there a different string I need to set in the warp options?
>
> Those NaN values are generally a nighmare to deal with...
>
> But a quick look at :
>
>    const char *pszInitDest = CSLFetchNameValue(
> psOptions->papszWarpOptions,
>                                                 "INIT_DEST" );
>
>    if( pszInitDest != NULL && !EQUAL(pszInitDest, "") )
>    {
>        char **papszInitValues =
>            CSLTokenizeStringComplex( pszInitDest, ",", FALSE, FALSE );
>        int nInitCount = CSLCount(papszInitValues);
>
>        for( iBand = 0; iBand < psOptions->nBandCount; iBand++ )
>        {
>            double adfInitRealImag[2];
>            GByte *pBandData;
>            const char *pszBandInit =
> papszInitValues[MIN(iBand,nInitCount-1)];
>
>            if( EQUAL(pszBandInit,"NO_DATA")
>                && psOptions->padfDstNoDataReal != NULL )
>            {
>                adfInitRealImag[0] = psOptions->padfDstNoDataReal[iBand];
>                adfInitRealImag[1] = psOptions->padfDstNoDataImag[iBand];
>            }
>            else
>            {
>                CPLStringToComplex( pszBandInit,
>                                    adfInitRealImag + 0, adfInitRealImag +
> 1);
>            }
>
> Make me believe that one way is to assign the value(s) of the
> padfDstNoDataReal[] array of psWarpOptions with the noData (NAN) value and
> set
> INIT_DEST to the "NO_DATA" string.
>
> >
> > Thanks.
> >
> >
> > /**
> >  *
> >  * Kyle Shannon
> >  * ksshannon@gmail.com
> >  *
> >  */
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110509/3bd19f12/attachment.html
From even.rouault at mines-paris.org  Mon May  9 17:43:01 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 10 01:57:25 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <BANLkTi=isy38A9WeWcMyO_hqaY5sbX6qRw@mail.gmail.com>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<201105052021.59873.even.rouault@mines-paris.org>
	<BANLkTi=isy38A9WeWcMyO_hqaY5sbX6qRw@mail.gmail.com>
Message-ID: <201105092343.01975.even.rouault@mines-paris.org>

Le lundi 09 mai 2011 23:30:05, Kyle Shannon a ?crit :
> Thanks Even,
> If that is the case, are there other values in psWarpOptions I *have* to
> set?  I can't find docs discussing that.

I don't think so, but you'll just have to try... I'm not  surprised the docs 
don't talk about NaN. It is a corner case, and likely not really well 
supported in all places.
From jcurru at yahoo.es  Mon May  9 18:55:09 2011
From: jcurru at yahoo.es (jose perez)
Date: Tue May 10 03:13:44 2011
Subject: [gdal-dev] Rv: How to determine +towgs84
Message-ID: <395280.91948.qm@web29008.mail.ird.yahoo.com>



Hello.


How to determine the +towgs84 parameters required to do accurate coordinate 
transformations? I know there's a file (named epsg) which contains a list, but 
in order to use I think I need the EPSG code. Then, how to obtain EPSG code from 
(for ecample) this WKT?:

PROJCS["UTM Zone 30, Northern Hemisphere",GEOGCS["Geographic Coordinate  
System",
DATUM["EUROPEAN_1950_(SPAIN_AND_PORTUGAL)",
SPHEROID["International_1909_Hayford_Intl_1924",6378388,297.0000000284015]],
PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],
PROJECTION["Transverse_Mercator"],
PARAMETER["latitude_of_origin",0],
PARAMETER["central_meridian",-3],
PARAMETER["scale_factor",0.9996],
PARAMETER["false_easting",500000],
PARAMETER["false_northing",0],
UNIT["Meter",1]]

AutoIdentifyEPSG() is unable to find out the EPSG code, so I can't figure out 
how to get the TOWGS84 parameters.

Any help appreciated.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110509/085ccbd8/attachment.html
From ksshannon at gmail.com  Mon May  9 19:08:41 2011
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue May 10 03:28:15 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <201105092343.01975.even.rouault@mines-paris.org>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<201105052021.59873.even.rouault@mines-paris.org>
	<BANLkTi=isy38A9WeWcMyO_hqaY5sbX6qRw@mail.gmail.com>
	<201105092343.01975.even.rouault@mines-paris.org>
Message-ID: <BANLkTim3CKXqeJPAQS5AbPVoZkHyY4GQKA@mail.gmail.com>

I did have to set the padfNoDataImag array as well, so I am one step
closer.  My new issue is ownership of my psWarpOptions.  I assume that since
I create it, and the warp api tutorial implies that is it mine, I destroy it
with GDALDestroyWarpOptions().  My problem is that AutoCreateWarpedVRT
appears to be stepping on my warp options when it destroys it's own copy.

I call AutoCreateWarpedVRT() and that function calls
GDALCloneWarpOptions().  When AutoCreateWarpedVRT destroys the copy it owns,
it appears to be stepping on my copy, and when I call
GDALDestroyWarpOptions(), I get a seg fault.  Am I doing something wrong?

kss



/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */




On Mon, May 9, 2011 at 15:43, Even Rouault <even.rouault@mines-paris.org>wrote:

> Le lundi 09 mai 2011 23:30:05, Kyle Shannon a ?crit :
> > Thanks Even,
> > If that is the case, are there other values in psWarpOptions I *have* to
> > set?  I can't find docs discussing that.
>
> I don't think so, but you'll just have to try... I'm not  surprised the
> docs
> don't talk about NaN. It is a corner case, and likely not really well
> supported in all places.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110509/46ede3c5/attachment.html
From greenberg at ucdavis.edu  Mon May  9 20:56:22 2011
From: greenberg at ucdavis.edu (Jonathan Greenberg)
Date: Tue May 10 05:22:09 2011
Subject: [gdal-dev] Segmentation fault with debian install of gdal on MODIS
	hdf4 files
Message-ID: <BANLkTinXtVeKY+VGa4M1Rnh3=69NK=HjcA@mail.gmail.com>

Folks:

I did a Debian install of both the "unstable" and the "experimental"
versions of GDAL, and when running gdal_translate on a MODIS HDF4 file
I'm getting a segmentation fault.  gdalinfo works fine tho.  Thoughts?

$ gdal_translate -ot Float32 -of ENVI
HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid_MOD15A2:Lai_1km
test_hdf.envi
Input file size is 1200, 1200
0Segmentation fault

$ gdalinfo HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid_MOD15A2:Lai_1km
Driver: HDF4Image/HDF4 Dataset
Files: MCD15A2.A2002185.h35v10.005.2007177210333.hdf
Size is 1200, 1200
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["Unknown datum based upon the custom spheroid",
        DATUM["Not specified (based on custom spheroid)",
            SPHEROID["Custom spheroid",6371007.181,0]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["Sinusoidal"],
    PARAMETER["longitude_of_center",0],
    PARAMETER["false_easting",0],
    PARAMETER["false_northing",0],
    UNIT["Meter",1]]
Origin = (18903158.834332998842001,-1111950.519667000044137)
Pixel Size = (926.625433055833014,-926.625433054999803)
Metadata:
  HDFEOSVersion=HDFEOS_V2.9
  LOCALGRANULEID=MCD15A2.A2002185.h35v10.005.2007177210333.hdf
  PRODUCTIONDATETIME=2007-06-26T21:03:33.000Z
  DAYNIGHTFLAG=Day
  REPROCESSINGACTUAL=reprocessed
  LOCALVERSIONID=5.0.4
  REPROCESSINGPLANNED=further update is anticipated
  SCIENCEQUALITYFLAG=Not Investigated
  AUTOMATICQUALITYFLAGEXPLANATION=No automatic quality assessment is
performed in the PGE
  AUTOMATICQUALITYFLAG=Passed
  SCIENCEQUALITYFLAGEXPLANATION=See
http://landweb.nascom/nasa.gov/cgi-bin/QA_WWW/qaFlagPage.cgi?sat=aqua
the product Science Quality status.
  QAPERCENTMISSINGDATA=99
  QAPERCENTOUTOFBOUNDSDATA=99
  QAPERCENTCLOUDCOVER=0
  QAPERCENTINTERPOLATEDDATA=0
  PARAMETERNAME=MCD15A2
  VERSIONID=5
  SHORTNAME=MCD15A2
  INPUTPOINTER=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
MOD15A1.A2002185.h35v10.005.2007152031253.hdf, MCD15A2_ANC_RI4.hdf
  GRINGPOINTLONGITUDE=172.479315908761, 172.622770159185,
179.999502554976, -179.856407114504
  GRINGPOINTLATITUDE=-19.1662177463598, -9.98364248250805,
-9.97534112170732, -19.180676222654
  GRINGPOINTSEQUENCENO=1, 2, 3, 4
  EXCLUSIONGRINGFLAG=N
  RANGEENDINGDATE=2002-07-11
  RANGEENDINGTIME=23:59:59
  RANGEBEGINNINGDATE=2002-07-04
  RANGEBEGINNINGTIME=00:00:00
  PGEVERSION=5.0.6
  ASSOCIATEDSENSORSHORTNAME=MODIS
  ASSOCIATEDPLATFORMSHORTNAME=Terra
  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
  ASSOCIATEDSENSORSHORTNAME=MODIS
  ASSOCIATEDPLATFORMSHORTNAME=Aqua
  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
  QAPERCENTGOODQUALITY=89
  QAPERCENTOTHERQUALITY=100
  HORIZONTALTILENUMBER=35
  VERTICALTILENUMBER=10
  TileID=51035010
  NDAYS_COMPOSITED=16
  QAPERCENTGOODFPAR=89
  QAPERCENTGOODLAI=89
  QAPERCENTMAINMETHOD=89
  QAPERCENTEMPIRICALMODEL=11
  NORTHBOUNDINGCOORDINATE=-9.99999999910197
  SOUTHBOUNDINGCOORDINATE=-19.1833333316106
  EASTBOUNDINGCOORDINATE=179.999999983337
  WESTBOUNDINGCOORDINATE=172.622524004598
  ALGORITHMPACKAGEACCEPTANCEDATE=10-01-2004
  ALGORITHMPACKAGEMATURITYCODE=Normal
  ALGORITHMPACKAGENAME=MCDPR_15A2
  ALGORITHMPACKAGEVERSION=5
  GEOANYABNORMAL=False
  GEOESTMAXRMSERROR=50.0
  LONGNAME=MODIS/Terra+Aqua Leaf Area Index/FPAR 8-Day L4 Global 1km SIN Grid
  PROCESSINGCENTER=MODAPS
  SYSTEMFILENAME=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
MOD15A1.A2002185.h35v10.005.2007152031253.hdf
  NUMBEROFGRANULES=1
  GRANULEDAYNIGHTFLAG=Day
  GRANULEBEGINNINGDATETIME=2007-06-01T03:12:53.000Z
  GRANULEENDINGDATETIME=2007-06-01T03:12:53.000Z
  CHARACTERISTICBINANGULARSIZE=30.0
  CHARACTERISTICBINSIZE=926.625433055556
  DATACOLUMNS=1200
  DATAROWS=1200
  GLOBALGRIDCOLUMNS=43200
  GLOBALGRIDROWS=21600
  NADIRDATARESOLUTION=1km
  MAXIMUMOBSERVATIONS=1
  SPSOPARAMETERS=5367, 2680
  PROCESSINGENVIRONMENT=IRIX64 mtvs3 6.5 10070055 IP35
  DESCRREVISION=5.0
  ENGINEERING_DATA=
# MOD_PR15A2 (Vers 5.0.4 Rele 10.18.2006 23:59)
# MUM API Vers 2.5.8 Rev 104 Rel. 11.15.2000 10:49 (pgs)
# (c) 2000 J.M. Glassy, NTSG,LLSD
# portions of MUM API by Petr Votava,NTSG Lab,U.Montana
# HOST ECS_PGS_VirtualHost PROCESS 19540618
# PLATFORM Sys genericunix Vers unknown Release unknown Node (no
nodename available)
# INIT-TIME Tue Jun 26 17:00:14 2007

YEARDAY 185 COMPOSITE_PERIOD  24 FIRSTDAY_IN_PERIOD 185
SDS[PGE34_ISG_MBRLUT] ID 268697600 Rank   2 (664 120)
SDS[PGE34_OUTFIELD_PROP] ID 268697601 Rank   2 (78 179)
SDS[PGE34_BROWSEFIELD_PROP] ID 268697602 Rank   2 (77 164)
READANC SDS[PGE34_ISG_MBRLUT] RANK 2 (664 120)
READANC SDS[PGE34_OUTFIELD_PROP] RANK 2 (78 179)
READANC SDS[PGE34_BROWSEFIELD_PROP] RANK 2 (77 164)
READANC SDS[PGE34_ECSMETA_DICT] RANK 2 (73 110)
READANC SDS[PGE34_RELEASE_NOTES] RANK 2 (84 98)
FLDPROP SDSnam(PGE34_OUTFIELD_PROP)MoleName(PGE34_OUTFIELD_PROP)Status
3 Nelem 13962
BROWSE cvlBrwMol 0 Nelem 57600 Type 21 Status 3
BROWSE cvlBrwMol 1 Nelem 57600 Type 21 Status 3
BROWSE cvlBrwMol 2 Nelem 57600 Type 21 Status 3
BROWSE cvlBrwMol 3 Nelem 57600 Type 21 Status 3
BROWSE: NEW GRID ID 4194320
BROWSEFIELD  0 Sum 14571961 Average 252.985
BROWSEFIELD  1 Sum 14560181 Average 252.781
BROWSEFIELD  2 Sum 8999599 Average 156.243
BROWSEFIELD  3 Sum 14616929 Average 253.766
BROWSE-DONE: N-Pixels 57600 Invalid offsets: 0 OutOfRange 0

COMPOSITING FPAR FREQUENCIES
FPAR   6       33
FPAR   7       20
FPAR   8       11
FPAR   9        7
FPAR  10       18
FPAR  11        3
FPAR  12        7
FPAR  13       14
FPAR  14        9
FPAR  15       21
FPAR  16       15
FPAR  17        4
FPAR  18       10
FPAR  19       50
FPAR  20       24
FPAR  21       11
FPAR  22       13
FPAR  23        7
FPAR  24       26
FPAR  25       23
FPAR  26       22
FPAR  27       37
FPAR  28       26
FPAR  29       21
FPAR  30       33
FPAR  31       17
FPAR  32       33
FPAR  33       23
FPAR  34       17
FPAR  35       27
FPAR  36       22
FPAR  37       17
FPAR  38       35
FPAR  39       18
FPAR  40       35
FPAR  41       30
FPAR  42       25
FPAR  43       17
FPAR  44       38
FPAR  45       22
FPAR  46       27
FPAR  47       37
FPAR  48       45
FPAR  49       21
FPAR  50       29
FPAR  51       39
FPAR  52       37
FPAR  53       38
FPAR  54       33
FPAR  55       40
FPAR  56       26
FPAR  57       27
FPAR  58       40
FPAR  59       54
FPAR  60       54
FPAR  61       55
FPAR  62       51
FPAR  63       27
FPAR  64       66
FPAR  65       66
FPAR  66       66
FPAR  67       56
FPAR  68       57
FPAR  69       78
FPAR  70       67
FPAR  71       65
FPAR  72       69
FPAR  73       82
FPAR  74       75
FPAR  75       79
FPAR  76      101
FPAR  77       52
FPAR  78       68
FPAR  79       78
FPAR  80       73
FPAR  81       57
FPAR  82       62
FPAR  83       97
FPAR  84      137
FPAR  85      213
FPAR  86      170
FPAR  87      243
FPAR  88      410
FPAR  89     1142
FPAR  90     2373
FPAR  91      758
FPAR  92       68
FPAR  93      125
FPAR  94      179
FPAR  95      187
FPAR  96      126
FPAR  97       31
FPAR  98       13
FPAR  99        4

COMPOSITING LAI FREQUENCIES
LAI    1       68
LAI    2       53
LAI    3      131
LAI    4       56
LAI    5      109
LAI    6      114
LAI    7      112
LAI    8       85
LAI    9       96
LAI   10       98
LAI   11      107
LAI   12       75
LAI   13       80
LAI   14      104
LAI   15       93
LAI   16      135
LAI   17       71
LAI   18       95
LAI   19       97
LAI   20      103
LAI   21      106
LAI   22       90
LAI   23       95
LAI   24      122
LAI   25       94
LAI   26       66
LAI   27       68
LAI   28       71
LAI   29       39
LAI   30       53
LAI   31       38
LAI   32       35
LAI   33       48
LAI   34       50
LAI   35       40
LAI   36       46
LAI   37       44
LAI   38       59
LAI   39       79
LAI   40       76
LAI   41       99
LAI   42       66
LAI   43       64
LAI   44       50
LAI   45       50
LAI   46       71
LAI   47       50
LAI   48       73
LAI   49      130
LAI   50       89
LAI   51      115
LAI   52       79
LAI   53      116
LAI   54      160
LAI   55      191
LAI   56      339
LAI   57      390
LAI   58      272
LAI   59      263
LAI   60     1178
LAI   61      225
LAI   62      211
LAI   63      273
LAI   64      358
LAI   65      142
LAI   66      107
LAI   67      449
LAI   68       57
LAI   69      246

COMPOSITING DAY INDEX FREQUENCIES
TILE-INDEX    0 Selection Frequency:      205
TILE-INDEX    1 Selection Frequency:     1166
TILE-INDEX    2 Selection Frequency:      732
TILE-INDEX    3 Selection Frequency:     1987
TILE-INDEX    4 Selection Frequency:      524
TILE-INDEX    5 Selection Frequency:      886
TILE-INDEX    6 Selection Frequency:       29
TILE-INDEX    7 Selection Frequency:      566
TILE-INDEX    8 Selection Frequency:      469
TILE-INDEX    9 Selection Frequency:      740
TILE-INDEX   10 Selection Frequency:     1224
TILE-INDEX   11 Selection Frequency:      343
TILE-INDEX   12 Selection Frequency:      146
TILE-INDEX   13 Selection Frequency:       97
TILE-INDEX   14 Selection Frequency:        0
TILE-INDEX   15 Selection Frequency:        0

LOCALGRANULEID [MCD15A2.A2002185.h35v10.005.2007177210333.hdf]
ECS QC PERCENT N valid (demominator) : 9114.000000
ECS Total Pixels       (denominator) : 1440000

QAPERCENTxx PSA BEFORE CALC
QAPERCENTINTERPOLATEDDATA: 0
QAPERCENTMISSINGDATA     : 1430886
QAPERCENTOUTOFBOUNDSDATA : 1430886
QAPERCENTCLOUDCOVER      : 487
QAPERCENTNOTPRODUCEDCLOUD: 0
QAPERCENTNOTPRODUCEDOTHER: 0
QAPERCENTGOODQUALITY     : 8135
QAPERCENTOTHERQUALITY    : 1431865
QAPERCENTGOODFPAR        : 8135
QAPERCENTGOODLAI         : 8135
QAPERCENTMAINMETHOD      : 8135
QAPERCENTEMPIRICALMODEL  : 979
QAPERCENTNDAYSCOMPOSITED : 16
QAPERCENTTERRA           : 5527


QAPERCENTxx PSA AFTER CALC
QAPERCENTINTERPOLATEDDATA: 0
QAPERCENTMISSINGDATA     : 99
QAPERCENTOUTOFBOUNDSDATA : 99
QAPERCENTCLOUDCOVER      : 0
QAPERCENTNOTPRODUCEDCLOUD: 0
QAPERCENTNOTPRODUCEDOTHER: 0
QAPERCENTGOODQUALITY     : 89
QAPERCENTOTHERQUALITY    : 100
QAPERCENTGOODFPAR        : 89
QAPERCENTGOODLAI         : 89
QAPERCENTMAINMETHOD      : 89
QAPERCENTEMPIRICALMODEL  : 11
QAPERCENTNDAYSCOMPOSITED : 16


SESSION ENGINEERING SUMMARY FOR PGE34 8-day FPAR,LAI
UM_VERSION U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006 23:59
Candidate Days: 16

N. invalid loads      : 0
Pixels failing best day : 1430886
Pixels set to fill      : 0
Pixels skipped (disqual): 22915542
Unclassified Pixels     : 1430886
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002185.h35v10.005.2007152031253.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002186.h35v10.005.2007152183046.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002187.h35v10.005.2007160174423.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002188.h35v10.005.2007161164154.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002189.h35v10.005.2007161200152.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002190.h35v10.005.2007162180320.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002191.h35v10.005.2007162214105.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002192.h35v10.005.2007163022444.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002185.h35v10.005.2007161153557.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002186.h35v10.005.2007161012141.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002187.h35v10.005.2007161050931.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002188.h35v10.005.2007161122622.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002189.h35v10.005.2007161211830.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002190.h35v10.005.2007162092900.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002191.h35v10.005.2007162024118.hdf
MOD15A1 DAILY Input:
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002192.h35v10.005.2007162232536.hdf

PGE34 Output       :
/MODAPSops3/archive/f46/running/AMPM_L10/16495460/MCD15A2.1.2002-185T00:00:00.000000Z.51035010.18515794.215230_1.hdf
MOD15A2 ANCILLARY    : /MODAPSops3/PGE/AMPM/coeff/PGE34/MCD15A2_ANC_RI4.hdf

QAPERCENTxx PSA AFTER CALC
QAPERCENTINTERPOLATEDDATA: 0
QAPERCENTMISSINGDATA     : 99
QAPERCENTOUTOFBOUNDSDATA : 99
QAPERCENTCLOUDCOVER      : 0
QAPERCENTTERRA          : 61
QAPERCENTGOODQUALITY     : 89
QAPERCENTOTHERQUALITY    : 100
QAPERCENTGOODFPAR        : 89
QAPERCENTGOODLAI         : 89
QAPERCENTMAINMETHOD      : 89
QAPERCENTEMPIRICALMODEL  : 11
QAPERCENTNDAYSCOMPOSITED : 16


Started Tue Jun 26 17:00:14 2007  Ended Tue Jun 26 17:03:33 2007
Elapsed Time         199 Sec (       3.32 Min)
  MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
255 = _Fillvalue, assigned when:
    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
its _Fillvalue, or
    * land cover pixel itself was assigned _Fillvalus 255 or 254.
254 = land cover assigned as perennial salt or inland fresh water.
253 = land cover assigned as barren, sparse vegetation (rock, tundra, desert.)
252 = land cover assigned as perennial snow, ice.
251 = land cover assigned as "permanent" wetlands/inundated marshlands.
250 = land cover assigned as urban/built-up.
249 = land cover assigned as "unclassified" or not able to determine.

  MOD15A2_FparLai_QC_DOC=
FparLai_QC 5 BITFIELDS IN 8 BITWORD
MODLAND_QC START 0 END 0 VALIDS 2
MODLAND_QC   0 = Good Quality (main algorithm with or without saturation)
MODLAND_QC   1 = Other Quality (back-up algorithm or fill value)
SENSOR START 1 END 1 VALIDS 2
SENSOR       0  = Terra
SENSOR       1  = Aqua
DEADDETECTOR START 2 END 2 VALIDS 2
DEADDETECTOR 0 = Detectors apparently fine for up to 50% of channels 1,2
DEADDETECTOR 1 = Dead detectors caused >50% adjacent detector retrieval
CLOUDSTATE START 3 END 4 VALIDS 4 (this inherited from Aggregate_QC
bits {0,1} cloud state)
CLOUDSTATE   00 = 0 Significant clouds NOT present (clear)
CLOUDSTATE   01 = 1 Significant clouds WERE present
CLOUDSTATE   10 = 2 Mixed cloud present on pixel
CLOUDSTATE   11 = 3 Cloud state not defined,assumed clear
SCF_QC START 5 END 7 VALIDS 5
SCF_QC       000=0 Main (RT) algorithm used, best result possible (no
saturation)
SCF_QC       001=1 Main (RT) algorithm used, saturation occured. Good,
very usable.
SCF_QC       010=2 Main algorithm failed due to bad geometry,
empirical algorithm used
SCF_QC       011=3 Main algorithm faild due to problems other than
geometry, empirical algorithm used
SCF_QC       100=4 Pixel not produced at all, value coudn't be
retrieved (possible reasons: bad L1B data, unusable MODAGAGG data)

  MOD15A2_FparExtra_QC_DOC=
FparExtra_QC 6 BITFIELDS IN 8 BITWORD
LANDSEA PASS-THROUGH START 0 END 1 VALIDS 4
LANDSEA   00 = 0 LAND       AggrQC(3,5)values{001}
LANDSEA   01 = 1 SHORE      AggrQC(3,5)values{000,010,100}
LANDSEA   10 = 2 FRESHWATER AggrQC(3,5)values{011,101}
LANDSEA   11 = 3 OCEAN      AggrQC(3,5)values{110,111}
SNOW_ICE (from Aggregate_QC bits) START 2 END 2 VALIDS 2
SNOW_ICE  0 = No snow/ice detected
SNOW_ICE  1 = Snow/ice were detected
AEROSOL START 3 END 3 VALIDS 2
AEROSOL   0 = No or low atmospheric aerosol levels detected
AEROSOL   1 = Average or high aerosol levels detected
CIRRUS (from Aggregate_QC bits {8,9} ) START 4 END 4 VALIDS 2
CIRRUS    0 = No cirrus detected
CIRRUS    1 = Cirrus was detected
INTERNAL_CLOUD_MASK START 5 END 5 VALIDS 2
INTERNAL_CLOUD_MASK 0 = No clouds
INTERNAL_CLOUD_MASK 1 = Clouds were detected
CLOUD_SHADOW START 6 END 6 VALIDS 2
CLOUD_SHADOW        0 = No cloud shadow detected
CLOUD_SHADOW        1 = Cloud shadow detected
SCF_BIOME_MASK START 7 END 7 VALIDS 2
SCF_BIOME_MASK  0 = Biome outside interval <1,4>
SCF_BIOME_MASK  1 = Biome in interval <1,4>

  MOD15A2_StdDev_QC_DOC=MOD15A2 STANDARD DEVIATION FILL VALUE LEGEND
255 = _Fillvalue, assigned when:
    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
its _Fillvalue, or
    * land cover pixel itself was assigned _Fillvalus 255 or 254.
254 = land cover assigned as perennial salt or inland fresh water.
253 = land cover assigned as barren, sparse vegetation (rock, tundra, desert.)
252 = land cover assigned as perennial snow, ice.
251 = land cover assigned as "permanent" wetlands/inundated marshlands.
250 = land cover assigned as urban/built-up.
249 = land cover assigned as "unclassified" or not able to determine.
248 = no standard deviation available, pixel produced using backup method.

  MOD15A1_ANC_BUILD_CERT=mtAncUtil v. 1.8 Rel. 09.11.2000 17:36 API v.
2.5.6 release 09.14.2000 16:33 Rev.Index 102 (J.Glassy)

  UM_VERSION=U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006 23:59
  scale_factor=0.1
  scale_factor_err=0
  add_offset=0
  add_offset_err=0
  calibrated_nt=21
  valid_range=0, 100
  _FillValue=255
  long_name=MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index LAI
(8-day composite)
  units=m^2/m^2
  MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
255 = _Fillvalue, assigned when:
    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
its _Fillvalue, or
    * land cover pixel itself was assigned _Fillvalus 255 or 254.
254 = land cover assigned as perennial salt or inland fresh water.
253 = land cover assigned as barren, sparse vegetation (rock, tundra, desert.)
252 = land cover assigned as perennial snow, ice.
251 = land cover assigned as "permanent" wetlands/inundated marshlands.
250 = land cover assigned as urban/built-up.
249 = land cover assigned as "unclassified" or not able to determine.

Corner Coordinates:
Upper Left  (18903158.834,-1111950.520) (172d37'21.09"E, 10d 0' 0.00"S)
Lower Left  (18903158.834,-2223901.039) (179d 5'23.20"W, 20d 0' 0.00"S)
Upper Right (20015109.354,-1111950.520) (177d13'23.56"W, 10d 0' 0.00"S)
Lower Right (20015109.354,-2223901.039) (168d26'52.80"W, 20d 0' 0.00"S)
Center      (19459134.094,-1667925.779) (178d49'36.01"W, 15d 0' 0.00"S)
Band 1 Block=1200x100 Type=Byte, ColorInterp=Gray
  Description = MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index
LAI (8-day composite)
  NoData Value=255
  Unit Type: m^2/m^2
  Offset: 0,   Scale:0.1


-- 
Jonathan A. Greenberg, PhD
Assistant Project Scientist
Center for Spatial Technologies and Remote Sensing (CSTARS)
Department of Land, Air and Water Resources
University of California, Davis
One Shields Avenue
Davis, CA 95616
Phone: 415-763-5476
AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
From srweal at gmail.com  Mon May  9 23:07:23 2011
From: srweal at gmail.com (srweal)
Date: Tue May 10 07:40:30 2011
Subject: [gdal-dev] Datum Shifts with OSR.CoordinateTransform
Message-ID: <1304996843099-6346391.post@n2.nabble.com>

Hi all,

I'm using the C# wrapper and GDAL/OGR binaries from Tamas' repository
(http://vbkto.dyndns.org:1280/sdk/) and am trying to do coordinate
transformation that includes a datum shift on a geometry.  

I'm wanting to understand how I can control what shift parameters are used
when calling the MyGeometry.Transform(MyTransform) method.  

I have been creating the CoordinateTransform by using the basic constructor
(i.e. new CoordinateTransform(SourceSR, TargetSR)) but this doesn't give me
any control over the shift.  Do I need to define the shift parameters on the
actual SourceSR and TargetSR?  If so, how is this best done.

Currently I'm creating the SourceSR via the ImportFromWkt() method and
obtaining the WKT from spatialreference.org.

Thanks for any advice, examples or links you can provide with more
information.

Steve 

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Datum-Shifts-with-OSR-CoordinateTransform-tp6346391p6346391.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From nhatzop at gmail.com  Mon May  9 23:23:57 2011
From: nhatzop at gmail.com (Nikolaos Hatzopoulos)
Date: Tue May 10 07:57:56 2011
Subject: [gdal-dev] Segmentation fault with debian install of gdal on
	MODIS hdf4 files
In-Reply-To: <BANLkTinXtVeKY+VGa4M1Rnh3=69NK=HjcA@mail.gmail.com>
References: <BANLkTinXtVeKY+VGa4M1Rnh3=69NK=HjcA@mail.gmail.com>
Message-ID: <BANLkTimYhuP=-MtiVuu7QAn0b+L53Ctf2w@mail.gmail.com>

I am using centos and elgis repo and for me it is working..
so there must be a problem with the hdf linking or compile of the library.
Note hdf4 is responsible to do the job not hdf5 for the particular case.

 gdal_translate 'HDF4_EOS:EOS_GRID:"MCD15A2.
A2002185.h12v05.005.2007172035551.hdf":MOD_Grid_MOD15A2:LaiStdDev_1km'
test2.tif

Input file size is 1200, 1200
0...10...20...30...40...50...60...70...80...90...100 - done.

--Nikos Hatzopoulos


On Mon, May 9, 2011 at 5:56 PM, Jonathan Greenberg <greenberg@ucdavis.edu>wrote:

> Folks:
>
> I did a Debian install of both the "unstable" and the "experimental"
> versions of GDAL, and when running gdal_translate on a MODIS HDF4 file
> I'm getting a segmentation fault.  gdalinfo works fine tho.  Thoughts?
>
> $ gdal_translate -ot Float32 -of ENVI
>
> HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid_MOD15A2:Lai_1km
> test_hdf.envi
> Input file size is 1200, 1200
> 0Segmentation fault
>
> $ gdalinfo
> HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid_MOD15A2:Lai_1km
> Driver: HDF4Image/HDF4 Dataset
> Files: MCD15A2.A2002185.h35v10.005.2007177210333.hdf
> Size is 1200, 1200
> Coordinate System is:
> PROJCS["unnamed",
>    GEOGCS["Unknown datum based upon the custom spheroid",
>        DATUM["Not specified (based on custom spheroid)",
>            SPHEROID["Custom spheroid",6371007.181,0]],
>        PRIMEM["Greenwich",0],
>        UNIT["degree",0.0174532925199433]],
>    PROJECTION["Sinusoidal"],
>    PARAMETER["longitude_of_center",0],
>    PARAMETER["false_easting",0],
>    PARAMETER["false_northing",0],
>    UNIT["Meter",1]]
> Origin = (18903158.834332998842001,-1111950.519667000044137)
> Pixel Size = (926.625433055833014,-926.625433054999803)
> Metadata:
>  HDFEOSVersion=HDFEOS_V2.9
>  LOCALGRANULEID=MCD15A2.A2002185.h35v10.005.2007177210333.hdf
>  PRODUCTIONDATETIME=2007-06-26T21:03:33.000Z
>  DAYNIGHTFLAG=Day
>  REPROCESSINGACTUAL=reprocessed
>  LOCALVERSIONID=5.0.4
>  REPROCESSINGPLANNED=further update is anticipated
>  SCIENCEQUALITYFLAG=Not Investigated
>  AUTOMATICQUALITYFLAGEXPLANATION=No automatic quality assessment is
> performed in the PGE
>  AUTOMATICQUALITYFLAG=Passed
>  SCIENCEQUALITYFLAGEXPLANATION=See
> http://landweb.nascom/nasa.gov/cgi-bin/QA_WWW/qaFlagPage.cgi?sat=aqua
> the product Science Quality status.
>  QAPERCENTMISSINGDATA=99
>  QAPERCENTOUTOFBOUNDSDATA=99
>  QAPERCENTCLOUDCOVER=0
>  QAPERCENTINTERPOLATEDDATA=0
>  PARAMETERNAME=MCD15A2
>  VERSIONID=5
>  SHORTNAME=MCD15A2
>  INPUTPOINTER=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
> MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
> MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
> MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
> MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
> MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
> MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
> MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
> MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
> MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
> MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
> MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
> MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
> MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
> MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
> MOD15A1.A2002185.h35v10.005.2007152031253.hdf, MCD15A2_ANC_RI4.hdf
>  GRINGPOINTLONGITUDE=172.479315908761, 172.622770159185,
> 179.999502554976, -179.856407114504
>  GRINGPOINTLATITUDE=-19.1662177463598, -9.98364248250805,
> -9.97534112170732, -19.180676222654
>  GRINGPOINTSEQUENCENO=1, 2, 3, 4
>  EXCLUSIONGRINGFLAG=N
>  RANGEENDINGDATE=2002-07-11
>  RANGEENDINGTIME=23:59:59
>  RANGEBEGINNINGDATE=2002-07-04
>  RANGEBEGINNINGTIME=00:00:00
>  PGEVERSION=5.0.6
>  ASSOCIATEDSENSORSHORTNAME=MODIS
>  ASSOCIATEDPLATFORMSHORTNAME=Terra
>  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
>  ASSOCIATEDSENSORSHORTNAME=MODIS
>  ASSOCIATEDPLATFORMSHORTNAME=Aqua
>  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
>  QAPERCENTGOODQUALITY=89
>  QAPERCENTOTHERQUALITY=100
>  HORIZONTALTILENUMBER=35
>  VERTICALTILENUMBER=10
>  TileID=51035010
>  NDAYS_COMPOSITED=16
>  QAPERCENTGOODFPAR=89
>  QAPERCENTGOODLAI=89
>  QAPERCENTMAINMETHOD=89
>  QAPERCENTEMPIRICALMODEL=11
>  NORTHBOUNDINGCOORDINATE=-9.99999999910197
>  SOUTHBOUNDINGCOORDINATE=-19.1833333316106
>  EASTBOUNDINGCOORDINATE=179.999999983337
>  WESTBOUNDINGCOORDINATE=172.622524004598
>  ALGORITHMPACKAGEACCEPTANCEDATE=10-01-2004
>  ALGORITHMPACKAGEMATURITYCODE=Normal
>  ALGORITHMPACKAGENAME=MCDPR_15A2
>  ALGORITHMPACKAGEVERSION=5
>  GEOANYABNORMAL=False
>  GEOESTMAXRMSERROR=50.0
>  LONGNAME=MODIS/Terra+Aqua Leaf Area Index/FPAR 8-Day L4 Global 1km SIN
> Grid
>  PROCESSINGCENTER=MODAPS
>  SYSTEMFILENAME=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
> MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
> MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
> MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
> MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
> MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
> MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
> MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
> MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
> MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
> MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
> MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
> MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
> MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
> MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
> MOD15A1.A2002185.h35v10.005.2007152031253.hdf
>  NUMBEROFGRANULES=1
>  GRANULEDAYNIGHTFLAG=Day
>  GRANULEBEGINNINGDATETIME=2007-06-01T03:12:53.000Z
>  GRANULEENDINGDATETIME=2007-06-01T03:12:53.000Z
>  CHARACTERISTICBINANGULARSIZE=30.0
>  CHARACTERISTICBINSIZE=926.625433055556
>  DATACOLUMNS=1200
>  DATAROWS=1200
>  GLOBALGRIDCOLUMNS=43200
>  GLOBALGRIDROWS=21600
>  NADIRDATARESOLUTION=1km
>  MAXIMUMOBSERVATIONS=1
>  SPSOPARAMETERS=5367, 2680
>  PROCESSINGENVIRONMENT=IRIX64 mtvs3 6.5 10070055 IP35
>  DESCRREVISION=5.0
>  ENGINEERING_DATA=
> # MOD_PR15A2 (Vers 5.0.4 Rele 10.18.2006 23:59)
> # MUM API Vers 2.5.8 Rev 104 Rel. 11.15.2000 10:49 (pgs)
> # (c) 2000 J.M. Glassy, NTSG,LLSD
> # portions of MUM API by Petr Votava,NTSG Lab,U.Montana
> # HOST ECS_PGS_VirtualHost PROCESS 19540618
> # PLATFORM Sys genericunix Vers unknown Release unknown Node (no
> nodename available)
> # INIT-TIME Tue Jun 26 17:00:14 2007
>
> YEARDAY 185 COMPOSITE_PERIOD  24 FIRSTDAY_IN_PERIOD 185
> SDS[PGE34_ISG_MBRLUT] ID 268697600 Rank   2 (664 120)
> SDS[PGE34_OUTFIELD_PROP] ID 268697601 Rank   2 (78 179)
> SDS[PGE34_BROWSEFIELD_PROP] ID 268697602 Rank   2 (77 164)
> READANC SDS[PGE34_ISG_MBRLUT] RANK 2 (664 120)
> READANC SDS[PGE34_OUTFIELD_PROP] RANK 2 (78 179)
> READANC SDS[PGE34_BROWSEFIELD_PROP] RANK 2 (77 164)
> READANC SDS[PGE34_ECSMETA_DICT] RANK 2 (73 110)
> READANC SDS[PGE34_RELEASE_NOTES] RANK 2 (84 98)
> FLDPROP SDSnam(PGE34_OUTFIELD_PROP)MoleName(PGE34_OUTFIELD_PROP)Status
> 3 Nelem 13962
> BROWSE cvlBrwMol 0 Nelem 57600 Type 21 Status 3
> BROWSE cvlBrwMol 1 Nelem 57600 Type 21 Status 3
> BROWSE cvlBrwMol 2 Nelem 57600 Type 21 Status 3
> BROWSE cvlBrwMol 3 Nelem 57600 Type 21 Status 3
> BROWSE: NEW GRID ID 4194320
> BROWSEFIELD  0 Sum 14571961 Average 252.985
> BROWSEFIELD  1 Sum 14560181 Average 252.781
> BROWSEFIELD  2 Sum 8999599 Average 156.243
> BROWSEFIELD  3 Sum 14616929 Average 253.766
> BROWSE-DONE: N-Pixels 57600 Invalid offsets: 0 OutOfRange 0
>
> COMPOSITING FPAR FREQUENCIES
> FPAR   6       33
> FPAR   7       20
> FPAR   8       11
> FPAR   9        7
> FPAR  10       18
> FPAR  11        3
> FPAR  12        7
> FPAR  13       14
> FPAR  14        9
> FPAR  15       21
> FPAR  16       15
> FPAR  17        4
> FPAR  18       10
> FPAR  19       50
> FPAR  20       24
> FPAR  21       11
> FPAR  22       13
> FPAR  23        7
> FPAR  24       26
> FPAR  25       23
> FPAR  26       22
> FPAR  27       37
> FPAR  28       26
> FPAR  29       21
> FPAR  30       33
> FPAR  31       17
> FPAR  32       33
> FPAR  33       23
> FPAR  34       17
> FPAR  35       27
> FPAR  36       22
> FPAR  37       17
> FPAR  38       35
> FPAR  39       18
> FPAR  40       35
> FPAR  41       30
> FPAR  42       25
> FPAR  43       17
> FPAR  44       38
> FPAR  45       22
> FPAR  46       27
> FPAR  47       37
> FPAR  48       45
> FPAR  49       21
> FPAR  50       29
> FPAR  51       39
> FPAR  52       37
> FPAR  53       38
> FPAR  54       33
> FPAR  55       40
> FPAR  56       26
> FPAR  57       27
> FPAR  58       40
> FPAR  59       54
> FPAR  60       54
> FPAR  61       55
> FPAR  62       51
> FPAR  63       27
> FPAR  64       66
> FPAR  65       66
> FPAR  66       66
> FPAR  67       56
> FPAR  68       57
> FPAR  69       78
> FPAR  70       67
> FPAR  71       65
> FPAR  72       69
> FPAR  73       82
> FPAR  74       75
> FPAR  75       79
> FPAR  76      101
> FPAR  77       52
> FPAR  78       68
> FPAR  79       78
> FPAR  80       73
> FPAR  81       57
> FPAR  82       62
> FPAR  83       97
> FPAR  84      137
> FPAR  85      213
> FPAR  86      170
> FPAR  87      243
> FPAR  88      410
> FPAR  89     1142
> FPAR  90     2373
> FPAR  91      758
> FPAR  92       68
> FPAR  93      125
> FPAR  94      179
> FPAR  95      187
> FPAR  96      126
> FPAR  97       31
> FPAR  98       13
> FPAR  99        4
>
> COMPOSITING LAI FREQUENCIES
> LAI    1       68
> LAI    2       53
> LAI    3      131
> LAI    4       56
> LAI    5      109
> LAI    6      114
> LAI    7      112
> LAI    8       85
> LAI    9       96
> LAI   10       98
> LAI   11      107
> LAI   12       75
> LAI   13       80
> LAI   14      104
> LAI   15       93
> LAI   16      135
> LAI   17       71
> LAI   18       95
> LAI   19       97
> LAI   20      103
> LAI   21      106
> LAI   22       90
> LAI   23       95
> LAI   24      122
> LAI   25       94
> LAI   26       66
> LAI   27       68
> LAI   28       71
> LAI   29       39
> LAI   30       53
> LAI   31       38
> LAI   32       35
> LAI   33       48
> LAI   34       50
> LAI   35       40
> LAI   36       46
> LAI   37       44
> LAI   38       59
> LAI   39       79
> LAI   40       76
> LAI   41       99
> LAI   42       66
> LAI   43       64
> LAI   44       50
> LAI   45       50
> LAI   46       71
> LAI   47       50
> LAI   48       73
> LAI   49      130
> LAI   50       89
> LAI   51      115
> LAI   52       79
> LAI   53      116
> LAI   54      160
> LAI   55      191
> LAI   56      339
> LAI   57      390
> LAI   58      272
> LAI   59      263
> LAI   60     1178
> LAI   61      225
> LAI   62      211
> LAI   63      273
> LAI   64      358
> LAI   65      142
> LAI   66      107
> LAI   67      449
> LAI   68       57
> LAI   69      246
>
> COMPOSITING DAY INDEX FREQUENCIES
> TILE-INDEX    0 Selection Frequency:      205
> TILE-INDEX    1 Selection Frequency:     1166
> TILE-INDEX    2 Selection Frequency:      732
> TILE-INDEX    3 Selection Frequency:     1987
> TILE-INDEX    4 Selection Frequency:      524
> TILE-INDEX    5 Selection Frequency:      886
> TILE-INDEX    6 Selection Frequency:       29
> TILE-INDEX    7 Selection Frequency:      566
> TILE-INDEX    8 Selection Frequency:      469
> TILE-INDEX    9 Selection Frequency:      740
> TILE-INDEX   10 Selection Frequency:     1224
> TILE-INDEX   11 Selection Frequency:      343
> TILE-INDEX   12 Selection Frequency:      146
> TILE-INDEX   13 Selection Frequency:       97
> TILE-INDEX   14 Selection Frequency:        0
> TILE-INDEX   15 Selection Frequency:        0
>
> LOCALGRANULEID [MCD15A2.A2002185.h35v10.005.2007177210333.hdf]
> ECS QC PERCENT N valid (demominator) : 9114.000000
> ECS Total Pixels       (denominator) : 1440000
>
> QAPERCENTxx PSA BEFORE CALC
> QAPERCENTINTERPOLATEDDATA: 0
> QAPERCENTMISSINGDATA     : 1430886
> QAPERCENTOUTOFBOUNDSDATA : 1430886
> QAPERCENTCLOUDCOVER      : 487
> QAPERCENTNOTPRODUCEDCLOUD: 0
> QAPERCENTNOTPRODUCEDOTHER: 0
> QAPERCENTGOODQUALITY     : 8135
> QAPERCENTOTHERQUALITY    : 1431865
> QAPERCENTGOODFPAR        : 8135
> QAPERCENTGOODLAI         : 8135
> QAPERCENTMAINMETHOD      : 8135
> QAPERCENTEMPIRICALMODEL  : 979
> QAPERCENTNDAYSCOMPOSITED : 16
> QAPERCENTTERRA           : 5527
>
>
> QAPERCENTxx PSA AFTER CALC
> QAPERCENTINTERPOLATEDDATA: 0
> QAPERCENTMISSINGDATA     : 99
> QAPERCENTOUTOFBOUNDSDATA : 99
> QAPERCENTCLOUDCOVER      : 0
> QAPERCENTNOTPRODUCEDCLOUD: 0
> QAPERCENTNOTPRODUCEDOTHER: 0
> QAPERCENTGOODQUALITY     : 89
> QAPERCENTOTHERQUALITY    : 100
> QAPERCENTGOODFPAR        : 89
> QAPERCENTGOODLAI         : 89
> QAPERCENTMAINMETHOD      : 89
> QAPERCENTEMPIRICALMODEL  : 11
> QAPERCENTNDAYSCOMPOSITED : 16
>
>
> SESSION ENGINEERING SUMMARY FOR PGE34 8-day FPAR,LAI
> UM_VERSION U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006 23:59
> Candidate Days: 16
>
> N. invalid loads      : 0
> Pixels failing best day : 1430886
> Pixels set to fill      : 0
> Pixels skipped (disqual): 22915542
> Unclassified Pixels     : 1430886
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002185.h35v10.005.2007152031253.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002186.h35v10.005.2007152183046.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002187.h35v10.005.2007160174423.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002188.h35v10.005.2007161164154.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002189.h35v10.005.2007161200152.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002190.h35v10.005.2007162180320.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002191.h35v10.005.2007162214105.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002192.h35v10.005.2007163022444.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002185.h35v10.005.2007161153557.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002186.h35v10.005.2007161012141.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002187.h35v10.005.2007161050931.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002188.h35v10.005.2007161122622.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002189.h35v10.005.2007161211830.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002190.h35v10.005.2007162092900.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002191.h35v10.005.2007162024118.hdf
> MOD15A1 DAILY Input:
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002192.h35v10.005.2007162232536.hdf
>
> PGE34 Output       :
>
> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MCD15A2.1.2002-185T00:00:00.000000Z.51035010.18515794.215230_1.hdf
> MOD15A2 ANCILLARY    : /MODAPSops3/PGE/AMPM/coeff/PGE34/MCD15A2_ANC_RI4.hdf
>
> QAPERCENTxx PSA AFTER CALC
> QAPERCENTINTERPOLATEDDATA: 0
> QAPERCENTMISSINGDATA     : 99
> QAPERCENTOUTOFBOUNDSDATA : 99
> QAPERCENTCLOUDCOVER      : 0
> QAPERCENTTERRA          : 61
> QAPERCENTGOODQUALITY     : 89
> QAPERCENTOTHERQUALITY    : 100
> QAPERCENTGOODFPAR        : 89
> QAPERCENTGOODLAI         : 89
> QAPERCENTMAINMETHOD      : 89
> QAPERCENTEMPIRICALMODEL  : 11
> QAPERCENTNDAYSCOMPOSITED : 16
>
>
> Started Tue Jun 26 17:00:14 2007  Ended Tue Jun 26 17:03:33 2007
> Elapsed Time         199 Sec (       3.32 Min)
>  MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
> 255 = _Fillvalue, assigned when:
>    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
> its _Fillvalue, or
>    * land cover pixel itself was assigned _Fillvalus 255 or 254.
> 254 = land cover assigned as perennial salt or inland fresh water.
> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
> desert.)
> 252 = land cover assigned as perennial snow, ice.
> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
> 250 = land cover assigned as urban/built-up.
> 249 = land cover assigned as "unclassified" or not able to determine.
>
>  MOD15A2_FparLai_QC_DOC=
> FparLai_QC 5 BITFIELDS IN 8 BITWORD
> MODLAND_QC START 0 END 0 VALIDS 2
> MODLAND_QC   0 = Good Quality (main algorithm with or without saturation)
> MODLAND_QC   1 = Other Quality (back-up algorithm or fill value)
> SENSOR START 1 END 1 VALIDS 2
> SENSOR       0  = Terra
> SENSOR       1  = Aqua
> DEADDETECTOR START 2 END 2 VALIDS 2
> DEADDETECTOR 0 = Detectors apparently fine for up to 50% of channels 1,2
> DEADDETECTOR 1 = Dead detectors caused >50% adjacent detector retrieval
> CLOUDSTATE START 3 END 4 VALIDS 4 (this inherited from Aggregate_QC
> bits {0,1} cloud state)
> CLOUDSTATE   00 = 0 Significant clouds NOT present (clear)
> CLOUDSTATE   01 = 1 Significant clouds WERE present
> CLOUDSTATE   10 = 2 Mixed cloud present on pixel
> CLOUDSTATE   11 = 3 Cloud state not defined,assumed clear
> SCF_QC START 5 END 7 VALIDS 5
> SCF_QC       000=0 Main (RT) algorithm used, best result possible (no
> saturation)
> SCF_QC       001=1 Main (RT) algorithm used, saturation occured. Good,
> very usable.
> SCF_QC       010=2 Main algorithm failed due to bad geometry,
> empirical algorithm used
> SCF_QC       011=3 Main algorithm faild due to problems other than
> geometry, empirical algorithm used
> SCF_QC       100=4 Pixel not produced at all, value coudn't be
> retrieved (possible reasons: bad L1B data, unusable MODAGAGG data)
>
>  MOD15A2_FparExtra_QC_DOC=
> FparExtra_QC 6 BITFIELDS IN 8 BITWORD
> LANDSEA PASS-THROUGH START 0 END 1 VALIDS 4
> LANDSEA   00 = 0 LAND       AggrQC(3,5)values{001}
> LANDSEA   01 = 1 SHORE      AggrQC(3,5)values{000,010,100}
> LANDSEA   10 = 2 FRESHWATER AggrQC(3,5)values{011,101}
> LANDSEA   11 = 3 OCEAN      AggrQC(3,5)values{110,111}
> SNOW_ICE (from Aggregate_QC bits) START 2 END 2 VALIDS 2
> SNOW_ICE  0 = No snow/ice detected
> SNOW_ICE  1 = Snow/ice were detected
> AEROSOL START 3 END 3 VALIDS 2
> AEROSOL   0 = No or low atmospheric aerosol levels detected
> AEROSOL   1 = Average or high aerosol levels detected
> CIRRUS (from Aggregate_QC bits {8,9} ) START 4 END 4 VALIDS 2
> CIRRUS    0 = No cirrus detected
> CIRRUS    1 = Cirrus was detected
> INTERNAL_CLOUD_MASK START 5 END 5 VALIDS 2
> INTERNAL_CLOUD_MASK 0 = No clouds
> INTERNAL_CLOUD_MASK 1 = Clouds were detected
> CLOUD_SHADOW START 6 END 6 VALIDS 2
> CLOUD_SHADOW        0 = No cloud shadow detected
> CLOUD_SHADOW        1 = Cloud shadow detected
> SCF_BIOME_MASK START 7 END 7 VALIDS 2
> SCF_BIOME_MASK  0 = Biome outside interval <1,4>
> SCF_BIOME_MASK  1 = Biome in interval <1,4>
>
>  MOD15A2_StdDev_QC_DOC=MOD15A2 STANDARD DEVIATION FILL VALUE LEGEND
> 255 = _Fillvalue, assigned when:
>    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
> its _Fillvalue, or
>    * land cover pixel itself was assigned _Fillvalus 255 or 254.
> 254 = land cover assigned as perennial salt or inland fresh water.
> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
> desert.)
> 252 = land cover assigned as perennial snow, ice.
> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
> 250 = land cover assigned as urban/built-up.
> 249 = land cover assigned as "unclassified" or not able to determine.
> 248 = no standard deviation available, pixel produced using backup method.
>
>  MOD15A1_ANC_BUILD_CERT=mtAncUtil v. 1.8 Rel. 09.11.2000 17:36 API v.
> 2.5.6 release 09.14.2000 16:33 Rev.Index 102 (J.Glassy)
>
>  UM_VERSION=U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006 23:59
>  scale_factor=0.1
>  scale_factor_err=0
>  add_offset=0
>  add_offset_err=0
>  calibrated_nt=21
>  valid_range=0, 100
>  _FillValue=255
>  long_name=MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index LAI
> (8-day composite)
>  units=m^2/m^2
>  MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
> 255 = _Fillvalue, assigned when:
>    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
> its _Fillvalue, or
>    * land cover pixel itself was assigned _Fillvalus 255 or 254.
> 254 = land cover assigned as perennial salt or inland fresh water.
> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
> desert.)
> 252 = land cover assigned as perennial snow, ice.
> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
> 250 = land cover assigned as urban/built-up.
> 249 = land cover assigned as "unclassified" or not able to determine.
>
> Corner Coordinates:
> Upper Left  (18903158.834,-1111950.520) (172d37'21.09"E, 10d 0' 0.00"S)
> Lower Left  (18903158.834,-2223901.039) (179d 5'23.20"W, 20d 0' 0.00"S)
> Upper Right (20015109.354,-1111950.520) (177d13'23.56"W, 10d 0' 0.00"S)
> Lower Right (20015109.354,-2223901.039) (168d26'52.80"W, 20d 0' 0.00"S)
> Center      (19459134.094,-1667925.779) (178d49'36.01"W, 15d 0' 0.00"S)
> Band 1 Block=1200x100 Type=Byte, ColorInterp=Gray
>  Description = MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index
> LAI (8-day composite)
>  NoData Value=255
>  Unit Type: m^2/m^2
>  Offset: 0,   Scale:0.1
>
>
> --
> Jonathan A. Greenberg, PhD
> Assistant Project Scientist
> Center for Spatial Technologies and Remote Sensing (CSTARS)
> Department of Land, Air and Water Resources
> University of California, Davis
> One Shields Avenue
> Davis, CA 95616
> Phone: 415-763-5476
> AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110509/ff899b82/attachment-0001.html
From jrepetto at free.fr  Tue May 10 02:19:11 2011
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue May 10 11:03:04 2011
Subject: [gdal-dev] Rv: How to determine +towgs84
In-Reply-To: <395280.91948.qm@web29008.mail.ird.yahoo.com>
References: <395280.91948.qm@web29008.mail.ird.yahoo.com>
Message-ID: <4DC8D8DF.2000705@free.fr>

On 05/10/11 00:55, jose perez wrote:
>
> Hello.
>
> How to determine the +towgs84 parameters required to do accurate
> coordinate transformations? I know there's a file (named epsg) which
> contains a list, but in order to use I think I need the EPSG code.

Hello,

You can find the transformation parameters in the EPSG database, that is 
available for download at http://www.epsg.org/ .

Jean-Claude
From armin.burger at gmx.net  Tue May 10 05:26:42 2011
From: armin.burger at gmx.net (Armin Burger)
Date: Tue May 10 14:20:32 2011
Subject: [gdal-dev] Datum Shifts with OSR.CoordinateTransform
In-Reply-To: <1304996843099-6346391.post@n2.nabble.com>
References: <1304996843099-6346391.post@n2.nabble.com>
Message-ID: <20110510092642.25350@gmx.net>

Steve

In newer versions of the WKT definition there is sometimes a TOWGS84[...] tag included which contains the 7 shifting parameters, but I don't know if this is already a standard notation and if GDAL automatically takes this into account when found.

What should normally work is to use the Proj4 notation which includes the tag 
  +towgs84=.....

and then define the projection via the method
  ImportFromProj4()

armin

-------- Original-Nachricht --------
> Datum: Mon, 9 May 2011 20:07:23 -0700 (PDT)
> Von: srweal <srweal@gmail.com>
> An: gdal-dev@lists.osgeo.org
> Betreff: [gdal-dev] Datum Shifts with OSR.CoordinateTransform

> Hi all,
> 
> I'm using the C# wrapper and GDAL/OGR binaries from Tamas' repository
> (http://vbkto.dyndns.org:1280/sdk/) and am trying to do coordinate
> transformation that includes a datum shift on a geometry.  
> 
> I'm wanting to understand how I can control what shift parameters are used
> when calling the MyGeometry.Transform(MyTransform) method.  
> 
> I have been creating the CoordinateTransform by using the basic
> constructor
> (i.e. new CoordinateTransform(SourceSR, TargetSR)) but this doesn't give
> me
> any control over the shift.  Do I need to define the shift parameters on
> the
> actual SourceSR and TargetSR?  If so, how is this best done.
> 
> Currently I'm creating the SourceSR via the ImportFromWkt() method and
> obtaining the WKT from spatialreference.org.
> 
> Thanks for any advice, examples or links you can provide with more
> information.
> 
> Steve 
> 
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Datum-Shifts-with-OSR-CoordinateTransform-tp6346391p6346391.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Empfehlen Sie GMX DSL Ihren Freunden und Bekannten und wir
belohnen Sie mit bis zu 50,- Euro! https://freundschaftswerbung.gmx.de
From even.rouault at mines-paris.org  Tue May 10 05:51:02 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 10 14:46:16 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <BANLkTim3CKXqeJPAQS5AbPVoZkHyY4GQKA@mail.gmail.com>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<201105052021.59873.even.rouault@mines-paris.org>
	<BANLkTi=isy38A9WeWcMyO_hqaY5sbX6qRw@mail.gmail.com>
	<201105092343.01975.even.rouault@mines-paris.org>
	<BANLkTim3CKXqeJPAQS5AbPVoZkHyY4GQKA@mail.gmail.com>
Message-ID: <1305021062.4dc90a865ebf0@webmail.free.fr>

Selon Kyle Shannon <ksshannon@gmail.com>:

> I did have to set the padfNoDataImag array as well, so I am one step
> closer.  My new issue is ownership of my psWarpOptions.  I assume that since
> I create it, and the warp api tutorial implies that is it mine, I destroy it
> with GDALDestroyWarpOptions().  My problem is that AutoCreateWarpedVRT
> appears to be stepping on my warp options when it destroys it's own copy.
>
> I call AutoCreateWarpedVRT() and that function calls
> GDALCloneWarpOptions().  When AutoCreateWarpedVRT destroys the copy it owns,
> it appears to be stepping on my copy, and when I call
> GDALDestroyWarpOptions(), I get a seg fault.  Am I doing something wrong?

Difficult to say without seeing your code. Could you post a small
self-sufficient code snippet that demonstrates your issue ?

By reviewing the code, one potential issue would be if you try to free the
pTransformerArg field by yourself, as it is freed by the destructor of the
VRTWarpedDataset. But if you just use GDALDestroyWarpOptions(), it should work
OK

>
> kss
>
>
>
> /**
>  *
>  * Kyle Shannon
>  * ksshannon@gmail.com
>  *
>  */
>
>
>
>
> On Mon, May 9, 2011 at 15:43, Even Rouault
> <even.rouault@mines-paris.org>wrote:
>
> > Le lundi 09 mai 2011 23:30:05, Kyle Shannon a ?crit :
> > > Thanks Even,
> > > If that is the case, are there other values in psWarpOptions I *have* to
> > > set?  I can't find docs discussing that.
> >
> > I don't think so, but you'll just have to try... I'm not  surprised the
> > docs
> > don't talk about NaN. It is a corner case, and likely not really well
> > supported in all places.
> >
>


From andy.cheetham at GeomaticSolutions.com  Tue May 10 08:14:23 2011
From: andy.cheetham at GeomaticSolutions.com (andy.cheetham@GeomaticSolutions.com)
Date: Tue May 10 17:24:36 2011
Subject: [gdal-dev] Rv: How to determine +towgs84
In-Reply-To: <4DC8D8DF.2000705@free.fr>
References: <395280.91948.qm@web29008.mail.ird.yahoo.com>
	<4DC8D8DF.2000705@free.fr>
Message-ID: <20110510051423.cigjj9y9s0gwkko4@webmail.geomaticsolutions.com>

Hi
You can use this website to query the EPSG database.
http://georepository.com/home.html
If you use the Map Search option then you simply click on the map in  
the approximate area
of your coordinates.
The site will then list all the transformation that are applicable for  
that area.

You could also you the Text Search option that searches many of the  
fields in the
database and will list all the matching records.

Disclaimer: I am one of the guys responsible for this site.

Cheers
Andy

Quoting Jean-Claude Repetto <jrepetto@free.fr>:

> On 05/10/11 00:55, jose perez wrote:
>>
>> Hello.
>>
>> How to determine the +towgs84 parameters required to do accurate
>> coordinate transformations? I know there's a file (named epsg) which
>> contains a list, but in order to use I think I need the EPSG code.
>
> Hello,
>
> You can find the transformation parameters in the EPSG database, that
> is available for download at http://www.epsg.org/ .
>
> Jean-Claude
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From ksshannon at gmail.com  Tue May 10 11:39:52 2011
From: ksshannon at gmail.com (Kyle Shannon)
Date: Tue May 10 20:54:42 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <1305021062.4dc90a865ebf0@webmail.free.fr>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<201105052021.59873.even.rouault@mines-paris.org>
	<BANLkTi=isy38A9WeWcMyO_hqaY5sbX6qRw@mail.gmail.com>
	<201105092343.01975.even.rouault@mines-paris.org>
	<BANLkTim3CKXqeJPAQS5AbPVoZkHyY4GQKA@mail.gmail.com>
	<1305021062.4dc90a865ebf0@webmail.free.fr>
Message-ID: <BANLkTikc2sUQOTqp-OnKC6RmMASJG-xpxw@mail.gmail.com>

Even, here is the basic flow of my task.  I am opening several subdatasets
in a for loop, warping them and populating an internal data structure.

#include "gdal_priv.h"
#include "gdalwarper.h"
#include "cpl_conv.h"
#include "cpl_port.h"
#include <string>
#include <vector>
int main()
{
GDALAllRegister();
/*
 * Variable names for the netcdf forecast file
 */

std::vector<std::string> varList;
varList.push_back( "Temperature_height_above_ground" );
varList.push_back( "V-component_of_wind_height_above_ground" );
varList.push_back( "U-component_of_wind_height_above_ground" );
varList.push_back( "Total_cloud_cover" );

std::string temp;
GDALDataset* srcDS;
GDALDataset* wrpDS;
GDALWarpOptions* psWarpOptions;
std::string srcWkt, dstWkt;
dstWkt = "PROJCS[\"WGS 84 / UTM zone 12N\",GEOGCS[\"WGS
84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
84\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174532925199433]],UNIT[\"metre\",1],PROJECTION[\"Transverse_Mercator\"],PARAMETER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETER[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"false_northing\",0]]";

/*
 * Loop over variable names and open sub datasets
 */

for( int i = 0;i < varList.size();i++ ) {

    temp = "NETCDF:test.nc:" + varList[i];

    srcDS = (GDALDataset*)GDALOpenShared( temp.c_str(), GA_ReadOnly );

    srcWkt = srcDS->GetProjectionRef();

    /*
     * Grab the first band to get the nodata value for the variable,
     * assume all bands have the same ndv
     */
    GDALRasterBand *poBand = srcDS->GetRasterBand( 1 );
    int pbSuccess;
    double dfNoData = poBand->GetNoDataValue( &pbSuccess );
    psWarpOptions = GDALCreateWarpOptions();

    int nBandCount = srcDS->GetRasterCount();
    psWarpOptions->padfDstNoDataReal =
        (double*) CPLMalloc( sizeof( double ) * nBandCount );
    psWarpOptions->padfDstNoDataImag =
        (double*) CPLMalloc( sizeof( double ) * nBandCount );
    for( int b = 0;b < srcDS->GetRasterCount();b++ ) {
        psWarpOptions->padfDstNoDataReal[b] = dfNoData;
        psWarpOptions->padfDstNoDataImag[b] = dfNoData;
    }
    if( pbSuccess == false )
        dfNoData = -9999.0;
    psWarpOptions->papszWarpOptions =
    CSLSetNameValue( psWarpOptions->papszWarpOptions,
                     "INIT_DEST", "NO_DATA" );

    //set the dskWkt with an internal structure

    wrpDS = (GDALDataset*) GDALAutoCreateWarpedVRT( srcDS, srcWkt.c_str(),
                                                    dstWkt.c_str(),
                                                    GRA_NearestNeighbour,
                                                    1.0, psWarpOptions );

    //copy warped data to internal structure

    GDALDestroyWarpOptions( psWarpOptions );
    GDALClose((GDALDatasetH) srcDS );
    GDALClose((GDALDatasetH) wrpDS );
}
}

I am sure I am missing something.

kss

/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */




On Tue, May 10, 2011 at 03:51, Even Rouault <even.rouault@mines-paris.org>wrote:

> Selon Kyle Shannon <ksshannon@gmail.com>:
>
> > I did have to set the padfNoDataImag array as well, so I am one step
> > closer.  My new issue is ownership of my psWarpOptions.  I assume that
> since
> > I create it, and the warp api tutorial implies that is it mine, I destroy
> it
> > with GDALDestroyWarpOptions().  My problem is that AutoCreateWarpedVRT
> > appears to be stepping on my warp options when it destroys it's own copy.
> >
> > I call AutoCreateWarpedVRT() and that function calls
> > GDALCloneWarpOptions().  When AutoCreateWarpedVRT destroys the copy it
> owns,
> > it appears to be stepping on my copy, and when I call
> > GDALDestroyWarpOptions(), I get a seg fault.  Am I doing something wrong?
>
> Difficult to say without seeing your code. Could you post a small
> self-sufficient code snippet that demonstrates your issue ?
>
> By reviewing the code, one potential issue would be if you try to free the
> pTransformerArg field by yourself, as it is freed by the destructor of the
> VRTWarpedDataset. But if you just use GDALDestroyWarpOptions(), it should
> work
> OK
>
> >
> > kss
> >
> >
> >
> > /**
> >  *
> >  * Kyle Shannon
> >  * ksshannon@gmail.com
> >  *
> >  */
> >
> >
> >
> >
> > On Mon, May 9, 2011 at 15:43, Even Rouault
> > <even.rouault@mines-paris.org>wrote:
> >
> > > Le lundi 09 mai 2011 23:30:05, Kyle Shannon a ?crit :
> > > > Thanks Even,
> > > > If that is the case, are there other values in psWarpOptions I *have*
> to
> > > > set?  I can't find docs discussing that.
> > >
> > > I don't think so, but you'll just have to try... I'm not  surprised the
> > > docs
> > > don't talk about NaN. It is a corner case, and likely not really well
> > > supported in all places.
> > >
> >
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110510/201c04cc/attachment.html
From jorge.arevalo at deimos-space.com  Tue May 10 12:15:32 2011
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Tue May 10 21:38:03 2011
Subject: [gdal-dev] Read raster values in a float buffer (GDALPolygonize)
Message-ID: <BANLkTik8R8pZW8iSy_SmrWaTR9y+Twm8AQ@mail.gmail.com>

Hello,

Do you think it's possible to do this? http://trac.osgeo.org/gdal/ticket/4005

I was thinking in implementing it, but I'm not sure of side effects...

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://es.linkedin.com/in/jorgearevalo80
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
http://geohash.org/ezjqgrgzz0g
From bkpark at ucdavis.edu  Tue May 10 13:07:25 2011
From: bkpark at ucdavis.edu (Bborie Park)
Date: Tue May 10 22:33:41 2011
Subject: [gdal-dev] Warping an image from C
In-Reply-To: <201105052016.59341.even.rouault@mines-paris.org>
References: <BANLkTinceDyGekuNXADN2i_KmYxqO8si+g@mail.gmail.com>
	<201105052016.59341.even.rouault@mines-paris.org>
Message-ID: <4DC970CD.70503@ucdavis.edu>

>>
>> Are there any plans to expand the C warp API?  If not, would anyone
>> mind if I took a stab at it?
>
> I was going to answer : no, indeed there isn't any C warp API for the "full
> warping mode" (i.e. for what would be needed by the gdalwarp utility), because
> I know that gdalwarp.cpp (the source code of gdalwarp utility) use a few C++
> warp API, but I rechecked for confirmation and in alg/gdalwarper.h I can
> actually see :
>
> GDALWarpOperationH CPL_DLL GDALCreateWarpOperation(const GDALWarpOptions* );
> void CPL_DLL GDALDestroyWarpOperation( GDALWarpOperationH );
> CPLErr CPL_DLL GDALChunkAndWarpImage( GDALWarpOperationH, int, int, int, int
> );
> CPLErr CPL_DLL GDALChunkAndWarpMulti( GDALWarpOperationH, int, int, int, int
> );
>
> So I believe you can accomplish from C code all what gdalwarp does currently
> do. Do you need something else ?
>

Based on the first example in the Warp API Tutorial 
(http://www.gdal.org/warptut.html), GDALWarpOperation is a C++ class. 
I'm trying to avoid adding C++ code to PostGIS Raster's codebase so was 
wondering if there is a C version of the GDALWarpOperation class.

Thanks,
bborie

-- 
Bborie Park
Programmer
Center for Vectorborne Diseases
UC Davis
530-752-8380
bkpark@ucdavis.edu
From bkpark at ucdavis.edu  Tue May 10 13:15:52 2011
From: bkpark at ucdavis.edu (Bborie Park)
Date: Tue May 10 22:35:32 2011
Subject: [gdal-dev] Warping an image from C
In-Reply-To: <201105052016.59341.even.rouault@mines-paris.org>
References: <BANLkTinceDyGekuNXADN2i_KmYxqO8si+g@mail.gmail.com>
	<201105052016.59341.even.rouault@mines-paris.org>
Message-ID: <4DC972C8.6010605@ucdavis.edu>

Sorry Even.  Disregard my last message.  Thanks for your help.

-bborie

On 05/05/2011 11:16 AM, Even Rouault wrote:
> Le mercredi 04 mai 2011 16:52:02, Bborie Park a ?crit :
>> Hi,
>>
>> I'm currently in the process of seeing what can be done to expose
>> GDAL's C warp functions to PostGIS Raster and am wondering if I have
>> hit a roadblock.
>>
>> > From the docs for gdal_alg.h, it appears that the warp functionality
>>
>> available is limited to GDALSimpleImageWarp and its limitations.  Is
>> this conclusion correct?  I did take a look at gdalwarpsimple.c
>> (https://svn.osgeo.org/gdal/trunk/gdal/apps/gdalwarpsimple.c) and it
>> appears to confirm my initial thoughts.
>>
>> Are there any plans to expand the C warp API?  If not, would anyone
>> mind if I took a stab at it?
>
> I was going to answer : no, indeed there isn't any C warp API for the "full
> warping mode" (i.e. for what would be needed by the gdalwarp utility), because
> I know that gdalwarp.cpp (the source code of gdalwarp utility) use a few C++
> warp API, but I rechecked for confirmation and in alg/gdalwarper.h I can
> actually see :
>
> GDALWarpOperationH CPL_DLL GDALCreateWarpOperation(const GDALWarpOptions* );
> void CPL_DLL GDALDestroyWarpOperation( GDALWarpOperationH );
> CPLErr CPL_DLL GDALChunkAndWarpImage( GDALWarpOperationH, int, int, int, int
> );
> CPLErr CPL_DLL GDALChunkAndWarpMulti( GDALWarpOperationH, int, int, int, int
> );
>
> So I believe you can accomplish from C code all what gdalwarp does currently
> do. Do you need something else ?
>
>>
>> Thanks,
>> Bborie
>

-- 
Bborie Park
Programmer
Center for Vectorborne Diseases
UC Davis
530-752-8380
bkpark@ucdavis.edu
From forkandwait at gmail.com  Tue May 10 14:59:57 2011
From: forkandwait at gmail.com (fork)
Date: Wed May 11 00:25:32 2011
Subject: [gdal-dev] Reprojecting w/ gdalwarp .. cant figure it out
Message-ID: <loom.20110510T205945-51@post.gmane.org>

Hi good people.  FMIA -- "forgive me in advance" for the following newbie
question....

I am unable to figure how to reproject a raster file from UTM10 to Stateplane
WAshington South  from the command line.

Here is what I do: I downloaded the most recent NAIP imagery in a sid file,
opened the LizardTech viewer, exported a tif.  The tfw for this tif is:

10.750000000000002
0.000000000000000
0.000000000000000
-10.750000000000002
546002.750000000000000
5291042.750000000000000

So I then downloaded the ".prj" files for UTM 10N and Stateplane from
spatialreference.org and saved them to local files ([1] and [2]). Then I run the
following:

$ gdalwarp -s_srs utm10n.prj -t_srs spwasth.prj -co "TFW=YES" \
      ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif foo.tif

This works smoothly, EXCEPT that when I cat the tfw file I get almost exactly
the same as the tfw cited above, except for some decimal numbers.  I expect it
to be VERY different however.

Can anybody tell me what I am doing wrong?

[1] http://spatialreference.org/ref/epsg/26710/

[2] http://spatialreference.org/ref/esri/102349/


From warmerdam at pobox.com  Tue May 10 15:19:10 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 11 00:45:35 2011
Subject: [gdal-dev] Reprojecting w/ gdalwarp .. cant figure it out
In-Reply-To: <loom.20110510T205945-51@post.gmane.org>
References: <loom.20110510T205945-51@post.gmane.org>
Message-ID: <4DC98FAE.6050409@pobox.com>

On 11-05-10 02:59 PM, fork wrote:
> Hi good people.  FMIA -- "forgive me in advance" for the following newbie
> question....
>
> I am unable to figure how to reproject a raster file from UTM10 to Stateplane
> WAshington South  from the command line.
>
> Here is what I do: I downloaded the most recent NAIP imagery in a sid file,
> opened the LizardTech viewer, exported a tif.  The tfw for this tif is:
>
> 10.750000000000002
> 0.000000000000000
> 0.000000000000000
> -10.750000000000002
> 546002.750000000000000
> 5291042.750000000000000
>
> So I then downloaded the ".prj" files for UTM 10N and Stateplane from
> spatialreference.org and saved them to local files ([1] and [2]). Then I run the
> following:
>
> $ gdalwarp -s_srs utm10n.prj -t_srs spwasth.prj -co "TFW=YES" \
>        ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif foo.tif
>
> This works smoothly, EXCEPT that when I cat the tfw file I get almost exactly
> the same as the tfw cited above, except for some decimal numbers.  I expect it
> to be VERY different however.
>
> Can anybody tell me what I am doing wrong?

Dear ForkAndWait,

I suspect you have a left over foo.tif and/or foo.tfw from previous
attempts.  gdalwarp will not create a new output file if the output
file already exists.  Otherwise your procedure seems quite reasonable.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From greenberg at ucdavis.edu  Tue May 10 15:24:21 2011
From: greenberg at ucdavis.edu (Jonathan Greenberg)
Date: Wed May 11 00:50:58 2011
Subject: [gdal-dev] Segmentation fault with debian install of gdal on
	MODIS hdf4 files
In-Reply-To: <BANLkTimYhuP=-MtiVuu7QAn0b+L53Ctf2w@mail.gmail.com>
References: <BANLkTinXtVeKY+VGa4M1Rnh3=69NK=HjcA@mail.gmail.com>
	<BANLkTimYhuP=-MtiVuu7QAn0b+L53Ctf2w@mail.gmail.com>
Message-ID: <BANLkTimraxQKLg70X0qasCCVt0+MYADygQ@mail.gmail.com>

Thanks, but I was hoping someone had seen this with the latest Debian
release.  Follow-up question, if I were to uninstall gdal + all the
affiliated libraries/dependencies, what do I need to make sure I
remove?  I'm noticing, at least, that the segfault is not occurring on
another debian box we have -- seems like something may have gotten
corrupted along the way, but I've tried doing an apt-get remove on
libgdal1-dev and gdal-bin, as well as the libhdf4.  Any tricks to
"clearing out" gdal for a "clean" reinstall?

--j

On Mon, May 9, 2011 at 8:23 PM, Nikolaos Hatzopoulos <nhatzop@gmail.com> wrote:
> I am using centos and elgis repo and for me it is working..
> so there must be a problem with the hdf linking or compile of the library.
> Note hdf4 is responsible to do the job not hdf5 for the particular case.
>
> ?gdal_translate 'HDF4_EOS:EOS_GRID:"MCD15A2.
> A2002185.h12v05.005.2007172035551.hdf":MOD_Grid_MOD15A2:LaiStdDev_1km'
> test2.tif
> Input file size is 1200, 1200
> 0...10...20...30...40...50...60...70...80...90...100 - done.
>
> --Nikos Hatzopoulos
>
>
> On Mon, May 9, 2011 at 5:56 PM, Jonathan Greenberg <greenberg@ucdavis.edu>
> wrote:
>>
>> Folks:
>>
>> I did a Debian install of both the "unstable" and the "experimental"
>> versions of GDAL, and when running gdal_translate on a MODIS HDF4 file
>> I'm getting a segmentation fault. ?gdalinfo works fine tho. ?Thoughts?
>>
>> $ gdal_translate -ot Float32 -of ENVI
>>
>> HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid_MOD15A2:Lai_1km
>> test_hdf.envi
>> Input file size is 1200, 1200
>> 0Segmentation fault
>>
>> $ gdalinfo
>> HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid_MOD15A2:Lai_1km
>> Driver: HDF4Image/HDF4 Dataset
>> Files: MCD15A2.A2002185.h35v10.005.2007177210333.hdf
>> Size is 1200, 1200
>> Coordinate System is:
>> PROJCS["unnamed",
>> ? ?GEOGCS["Unknown datum based upon the custom spheroid",
>> ? ? ? ?DATUM["Not specified (based on custom spheroid)",
>> ? ? ? ? ? ?SPHEROID["Custom spheroid",6371007.181,0]],
>> ? ? ? ?PRIMEM["Greenwich",0],
>> ? ? ? ?UNIT["degree",0.0174532925199433]],
>> ? ?PROJECTION["Sinusoidal"],
>> ? ?PARAMETER["longitude_of_center",0],
>> ? ?PARAMETER["false_easting",0],
>> ? ?PARAMETER["false_northing",0],
>> ? ?UNIT["Meter",1]]
>> Origin = (18903158.834332998842001,-1111950.519667000044137)
>> Pixel Size = (926.625433055833014,-926.625433054999803)
>> Metadata:
>> ?HDFEOSVersion=HDFEOS_V2.9
>> ?LOCALGRANULEID=MCD15A2.A2002185.h35v10.005.2007177210333.hdf
>> ?PRODUCTIONDATETIME=2007-06-26T21:03:33.000Z
>> ?DAYNIGHTFLAG=Day
>> ?REPROCESSINGACTUAL=reprocessed
>> ?LOCALVERSIONID=5.0.4
>> ?REPROCESSINGPLANNED=further update is anticipated
>> ?SCIENCEQUALITYFLAG=Not Investigated
>> ?AUTOMATICQUALITYFLAGEXPLANATION=No automatic quality assessment is
>> performed in the PGE
>> ?AUTOMATICQUALITYFLAG=Passed
>> ?SCIENCEQUALITYFLAGEXPLANATION=See
>> http://landweb.nascom/nasa.gov/cgi-bin/QA_WWW/qaFlagPage.cgi?sat=aqua
>> the product Science Quality status.
>> ?QAPERCENTMISSINGDATA=99
>> ?QAPERCENTOUTOFBOUNDSDATA=99
>> ?QAPERCENTCLOUDCOVER=0
>> ?QAPERCENTINTERPOLATEDDATA=0
>> ?PARAMETERNAME=MCD15A2
>> ?VERSIONID=5
>> ?SHORTNAME=MCD15A2
>> ?INPUTPOINTER=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
>> MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
>> MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
>> MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
>> MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
>> MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
>> MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
>> MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
>> MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
>> MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
>> MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
>> MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
>> MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
>> MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
>> MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
>> MOD15A1.A2002185.h35v10.005.2007152031253.hdf, MCD15A2_ANC_RI4.hdf
>> ?GRINGPOINTLONGITUDE=172.479315908761, 172.622770159185,
>> 179.999502554976, -179.856407114504
>> ?GRINGPOINTLATITUDE=-19.1662177463598, -9.98364248250805,
>> -9.97534112170732, -19.180676222654
>> ?GRINGPOINTSEQUENCENO=1, 2, 3, 4
>> ?EXCLUSIONGRINGFLAG=N
>> ?RANGEENDINGDATE=2002-07-11
>> ?RANGEENDINGTIME=23:59:59
>> ?RANGEBEGINNINGDATE=2002-07-04
>> ?RANGEBEGINNINGTIME=00:00:00
>> ?PGEVERSION=5.0.6
>> ?ASSOCIATEDSENSORSHORTNAME=MODIS
>> ?ASSOCIATEDPLATFORMSHORTNAME=Terra
>> ?ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
>> ?ASSOCIATEDSENSORSHORTNAME=MODIS
>> ?ASSOCIATEDPLATFORMSHORTNAME=Aqua
>> ?ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
>> ?QAPERCENTGOODQUALITY=89
>> ?QAPERCENTOTHERQUALITY=100
>> ?HORIZONTALTILENUMBER=35
>> ?VERTICALTILENUMBER=10
>> ?TileID=51035010
>> ?NDAYS_COMPOSITED=16
>> ?QAPERCENTGOODFPAR=89
>> ?QAPERCENTGOODLAI=89
>> ?QAPERCENTMAINMETHOD=89
>> ?QAPERCENTEMPIRICALMODEL=11
>> ?NORTHBOUNDINGCOORDINATE=-9.99999999910197
>> ?SOUTHBOUNDINGCOORDINATE=-19.1833333316106
>> ?EASTBOUNDINGCOORDINATE=179.999999983337
>> ?WESTBOUNDINGCOORDINATE=172.622524004598
>> ?ALGORITHMPACKAGEACCEPTANCEDATE=10-01-2004
>> ?ALGORITHMPACKAGEMATURITYCODE=Normal
>> ?ALGORITHMPACKAGENAME=MCDPR_15A2
>> ?ALGORITHMPACKAGEVERSION=5
>> ?GEOANYABNORMAL=False
>> ?GEOESTMAXRMSERROR=50.0
>> ?LONGNAME=MODIS/Terra+Aqua Leaf Area Index/FPAR 8-Day L4 Global 1km SIN
>> Grid
>> ?PROCESSINGCENTER=MODAPS
>> ?SYSTEMFILENAME=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
>> MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
>> MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
>> MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
>> MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
>> MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
>> MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
>> MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
>> MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
>> MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
>> MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
>> MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
>> MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
>> MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
>> MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
>> MOD15A1.A2002185.h35v10.005.2007152031253.hdf
>> ?NUMBEROFGRANULES=1
>> ?GRANULEDAYNIGHTFLAG=Day
>> ?GRANULEBEGINNINGDATETIME=2007-06-01T03:12:53.000Z
>> ?GRANULEENDINGDATETIME=2007-06-01T03:12:53.000Z
>> ?CHARACTERISTICBINANGULARSIZE=30.0
>> ?CHARACTERISTICBINSIZE=926.625433055556
>> ?DATACOLUMNS=1200
>> ?DATAROWS=1200
>> ?GLOBALGRIDCOLUMNS=43200
>> ?GLOBALGRIDROWS=21600
>> ?NADIRDATARESOLUTION=1km
>> ?MAXIMUMOBSERVATIONS=1
>> ?SPSOPARAMETERS=5367, 2680
>> ?PROCESSINGENVIRONMENT=IRIX64 mtvs3 6.5 10070055 IP35
>> ?DESCRREVISION=5.0
>> ?ENGINEERING_DATA=
>> # MOD_PR15A2 (Vers 5.0.4 Rele 10.18.2006 23:59)
>> # MUM API Vers 2.5.8 Rev 104 Rel. 11.15.2000 10:49 (pgs)
>> # (c) 2000 J.M. Glassy, NTSG,LLSD
>> # portions of MUM API by Petr Votava,NTSG Lab,U.Montana
>> # HOST ECS_PGS_VirtualHost PROCESS 19540618
>> # PLATFORM Sys genericunix Vers unknown Release unknown Node (no
>> nodename available)
>> # INIT-TIME Tue Jun 26 17:00:14 2007
>>
>> YEARDAY 185 COMPOSITE_PERIOD ?24 FIRSTDAY_IN_PERIOD 185
>> SDS[PGE34_ISG_MBRLUT] ID 268697600 Rank ? 2 (664 120)
>> SDS[PGE34_OUTFIELD_PROP] ID 268697601 Rank ? 2 (78 179)
>> SDS[PGE34_BROWSEFIELD_PROP] ID 268697602 Rank ? 2 (77 164)
>> READANC SDS[PGE34_ISG_MBRLUT] RANK 2 (664 120)
>> READANC SDS[PGE34_OUTFIELD_PROP] RANK 2 (78 179)
>> READANC SDS[PGE34_BROWSEFIELD_PROP] RANK 2 (77 164)
>> READANC SDS[PGE34_ECSMETA_DICT] RANK 2 (73 110)
>> READANC SDS[PGE34_RELEASE_NOTES] RANK 2 (84 98)
>> FLDPROP SDSnam(PGE34_OUTFIELD_PROP)MoleName(PGE34_OUTFIELD_PROP)Status
>> 3 Nelem 13962
>> BROWSE cvlBrwMol 0 Nelem 57600 Type 21 Status 3
>> BROWSE cvlBrwMol 1 Nelem 57600 Type 21 Status 3
>> BROWSE cvlBrwMol 2 Nelem 57600 Type 21 Status 3
>> BROWSE cvlBrwMol 3 Nelem 57600 Type 21 Status 3
>> BROWSE: NEW GRID ID 4194320
>> BROWSEFIELD ?0 Sum 14571961 Average 252.985
>> BROWSEFIELD ?1 Sum 14560181 Average 252.781
>> BROWSEFIELD ?2 Sum 8999599 Average 156.243
>> BROWSEFIELD ?3 Sum 14616929 Average 253.766
>> BROWSE-DONE: N-Pixels 57600 Invalid offsets: 0 OutOfRange 0
>>
>> COMPOSITING FPAR FREQUENCIES
>> FPAR ? 6 ? ? ? 33
>> FPAR ? 7 ? ? ? 20
>> FPAR ? 8 ? ? ? 11
>> FPAR ? 9 ? ? ? ?7
>> FPAR ?10 ? ? ? 18
>> FPAR ?11 ? ? ? ?3
>> FPAR ?12 ? ? ? ?7
>> FPAR ?13 ? ? ? 14
>> FPAR ?14 ? ? ? ?9
>> FPAR ?15 ? ? ? 21
>> FPAR ?16 ? ? ? 15
>> FPAR ?17 ? ? ? ?4
>> FPAR ?18 ? ? ? 10
>> FPAR ?19 ? ? ? 50
>> FPAR ?20 ? ? ? 24
>> FPAR ?21 ? ? ? 11
>> FPAR ?22 ? ? ? 13
>> FPAR ?23 ? ? ? ?7
>> FPAR ?24 ? ? ? 26
>> FPAR ?25 ? ? ? 23
>> FPAR ?26 ? ? ? 22
>> FPAR ?27 ? ? ? 37
>> FPAR ?28 ? ? ? 26
>> FPAR ?29 ? ? ? 21
>> FPAR ?30 ? ? ? 33
>> FPAR ?31 ? ? ? 17
>> FPAR ?32 ? ? ? 33
>> FPAR ?33 ? ? ? 23
>> FPAR ?34 ? ? ? 17
>> FPAR ?35 ? ? ? 27
>> FPAR ?36 ? ? ? 22
>> FPAR ?37 ? ? ? 17
>> FPAR ?38 ? ? ? 35
>> FPAR ?39 ? ? ? 18
>> FPAR ?40 ? ? ? 35
>> FPAR ?41 ? ? ? 30
>> FPAR ?42 ? ? ? 25
>> FPAR ?43 ? ? ? 17
>> FPAR ?44 ? ? ? 38
>> FPAR ?45 ? ? ? 22
>> FPAR ?46 ? ? ? 27
>> FPAR ?47 ? ? ? 37
>> FPAR ?48 ? ? ? 45
>> FPAR ?49 ? ? ? 21
>> FPAR ?50 ? ? ? 29
>> FPAR ?51 ? ? ? 39
>> FPAR ?52 ? ? ? 37
>> FPAR ?53 ? ? ? 38
>> FPAR ?54 ? ? ? 33
>> FPAR ?55 ? ? ? 40
>> FPAR ?56 ? ? ? 26
>> FPAR ?57 ? ? ? 27
>> FPAR ?58 ? ? ? 40
>> FPAR ?59 ? ? ? 54
>> FPAR ?60 ? ? ? 54
>> FPAR ?61 ? ? ? 55
>> FPAR ?62 ? ? ? 51
>> FPAR ?63 ? ? ? 27
>> FPAR ?64 ? ? ? 66
>> FPAR ?65 ? ? ? 66
>> FPAR ?66 ? ? ? 66
>> FPAR ?67 ? ? ? 56
>> FPAR ?68 ? ? ? 57
>> FPAR ?69 ? ? ? 78
>> FPAR ?70 ? ? ? 67
>> FPAR ?71 ? ? ? 65
>> FPAR ?72 ? ? ? 69
>> FPAR ?73 ? ? ? 82
>> FPAR ?74 ? ? ? 75
>> FPAR ?75 ? ? ? 79
>> FPAR ?76 ? ? ?101
>> FPAR ?77 ? ? ? 52
>> FPAR ?78 ? ? ? 68
>> FPAR ?79 ? ? ? 78
>> FPAR ?80 ? ? ? 73
>> FPAR ?81 ? ? ? 57
>> FPAR ?82 ? ? ? 62
>> FPAR ?83 ? ? ? 97
>> FPAR ?84 ? ? ?137
>> FPAR ?85 ? ? ?213
>> FPAR ?86 ? ? ?170
>> FPAR ?87 ? ? ?243
>> FPAR ?88 ? ? ?410
>> FPAR ?89 ? ? 1142
>> FPAR ?90 ? ? 2373
>> FPAR ?91 ? ? ?758
>> FPAR ?92 ? ? ? 68
>> FPAR ?93 ? ? ?125
>> FPAR ?94 ? ? ?179
>> FPAR ?95 ? ? ?187
>> FPAR ?96 ? ? ?126
>> FPAR ?97 ? ? ? 31
>> FPAR ?98 ? ? ? 13
>> FPAR ?99 ? ? ? ?4
>>
>> COMPOSITING LAI FREQUENCIES
>> LAI ? ?1 ? ? ? 68
>> LAI ? ?2 ? ? ? 53
>> LAI ? ?3 ? ? ?131
>> LAI ? ?4 ? ? ? 56
>> LAI ? ?5 ? ? ?109
>> LAI ? ?6 ? ? ?114
>> LAI ? ?7 ? ? ?112
>> LAI ? ?8 ? ? ? 85
>> LAI ? ?9 ? ? ? 96
>> LAI ? 10 ? ? ? 98
>> LAI ? 11 ? ? ?107
>> LAI ? 12 ? ? ? 75
>> LAI ? 13 ? ? ? 80
>> LAI ? 14 ? ? ?104
>> LAI ? 15 ? ? ? 93
>> LAI ? 16 ? ? ?135
>> LAI ? 17 ? ? ? 71
>> LAI ? 18 ? ? ? 95
>> LAI ? 19 ? ? ? 97
>> LAI ? 20 ? ? ?103
>> LAI ? 21 ? ? ?106
>> LAI ? 22 ? ? ? 90
>> LAI ? 23 ? ? ? 95
>> LAI ? 24 ? ? ?122
>> LAI ? 25 ? ? ? 94
>> LAI ? 26 ? ? ? 66
>> LAI ? 27 ? ? ? 68
>> LAI ? 28 ? ? ? 71
>> LAI ? 29 ? ? ? 39
>> LAI ? 30 ? ? ? 53
>> LAI ? 31 ? ? ? 38
>> LAI ? 32 ? ? ? 35
>> LAI ? 33 ? ? ? 48
>> LAI ? 34 ? ? ? 50
>> LAI ? 35 ? ? ? 40
>> LAI ? 36 ? ? ? 46
>> LAI ? 37 ? ? ? 44
>> LAI ? 38 ? ? ? 59
>> LAI ? 39 ? ? ? 79
>> LAI ? 40 ? ? ? 76
>> LAI ? 41 ? ? ? 99
>> LAI ? 42 ? ? ? 66
>> LAI ? 43 ? ? ? 64
>> LAI ? 44 ? ? ? 50
>> LAI ? 45 ? ? ? 50
>> LAI ? 46 ? ? ? 71
>> LAI ? 47 ? ? ? 50
>> LAI ? 48 ? ? ? 73
>> LAI ? 49 ? ? ?130
>> LAI ? 50 ? ? ? 89
>> LAI ? 51 ? ? ?115
>> LAI ? 52 ? ? ? 79
>> LAI ? 53 ? ? ?116
>> LAI ? 54 ? ? ?160
>> LAI ? 55 ? ? ?191
>> LAI ? 56 ? ? ?339
>> LAI ? 57 ? ? ?390
>> LAI ? 58 ? ? ?272
>> LAI ? 59 ? ? ?263
>> LAI ? 60 ? ? 1178
>> LAI ? 61 ? ? ?225
>> LAI ? 62 ? ? ?211
>> LAI ? 63 ? ? ?273
>> LAI ? 64 ? ? ?358
>> LAI ? 65 ? ? ?142
>> LAI ? 66 ? ? ?107
>> LAI ? 67 ? ? ?449
>> LAI ? 68 ? ? ? 57
>> LAI ? 69 ? ? ?246
>>
>> COMPOSITING DAY INDEX FREQUENCIES
>> TILE-INDEX ? ?0 Selection Frequency: ? ? ?205
>> TILE-INDEX ? ?1 Selection Frequency: ? ? 1166
>> TILE-INDEX ? ?2 Selection Frequency: ? ? ?732
>> TILE-INDEX ? ?3 Selection Frequency: ? ? 1987
>> TILE-INDEX ? ?4 Selection Frequency: ? ? ?524
>> TILE-INDEX ? ?5 Selection Frequency: ? ? ?886
>> TILE-INDEX ? ?6 Selection Frequency: ? ? ? 29
>> TILE-INDEX ? ?7 Selection Frequency: ? ? ?566
>> TILE-INDEX ? ?8 Selection Frequency: ? ? ?469
>> TILE-INDEX ? ?9 Selection Frequency: ? ? ?740
>> TILE-INDEX ? 10 Selection Frequency: ? ? 1224
>> TILE-INDEX ? 11 Selection Frequency: ? ? ?343
>> TILE-INDEX ? 12 Selection Frequency: ? ? ?146
>> TILE-INDEX ? 13 Selection Frequency: ? ? ? 97
>> TILE-INDEX ? 14 Selection Frequency: ? ? ? ?0
>> TILE-INDEX ? 15 Selection Frequency: ? ? ? ?0
>>
>> LOCALGRANULEID [MCD15A2.A2002185.h35v10.005.2007177210333.hdf]
>> ECS QC PERCENT N valid (demominator) : 9114.000000
>> ECS Total Pixels ? ? ? (denominator) : 1440000
>>
>> QAPERCENTxx PSA BEFORE CALC
>> QAPERCENTINTERPOLATEDDATA: 0
>> QAPERCENTMISSINGDATA ? ? : 1430886
>> QAPERCENTOUTOFBOUNDSDATA : 1430886
>> QAPERCENTCLOUDCOVER ? ? ?: 487
>> QAPERCENTNOTPRODUCEDCLOUD: 0
>> QAPERCENTNOTPRODUCEDOTHER: 0
>> QAPERCENTGOODQUALITY ? ? : 8135
>> QAPERCENTOTHERQUALITY ? ?: 1431865
>> QAPERCENTGOODFPAR ? ? ? ?: 8135
>> QAPERCENTGOODLAI ? ? ? ? : 8135
>> QAPERCENTMAINMETHOD ? ? ?: 8135
>> QAPERCENTEMPIRICALMODEL ?: 979
>> QAPERCENTNDAYSCOMPOSITED : 16
>> QAPERCENTTERRA ? ? ? ? ? : 5527
>>
>>
>> QAPERCENTxx PSA AFTER CALC
>> QAPERCENTINTERPOLATEDDATA: 0
>> QAPERCENTMISSINGDATA ? ? : 99
>> QAPERCENTOUTOFBOUNDSDATA : 99
>> QAPERCENTCLOUDCOVER ? ? ?: 0
>> QAPERCENTNOTPRODUCEDCLOUD: 0
>> QAPERCENTNOTPRODUCEDOTHER: 0
>> QAPERCENTGOODQUALITY ? ? : 89
>> QAPERCENTOTHERQUALITY ? ?: 100
>> QAPERCENTGOODFPAR ? ? ? ?: 89
>> QAPERCENTGOODLAI ? ? ? ? : 89
>> QAPERCENTMAINMETHOD ? ? ?: 89
>> QAPERCENTEMPIRICALMODEL ?: 11
>> QAPERCENTNDAYSCOMPOSITED : 16
>>
>>
>> SESSION ENGINEERING SUMMARY FOR PGE34 8-day FPAR,LAI
>> UM_VERSION U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006 23:59
>> Candidate Days: 16
>>
>> N. invalid loads ? ? ?: 0
>> Pixels failing best day : 1430886
>> Pixels set to fill ? ? ?: 0
>> Pixels skipped (disqual): 22915542
>> Unclassified Pixels ? ? : 1430886
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002185.h35v10.005.2007152031253.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002186.h35v10.005.2007152183046.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002187.h35v10.005.2007160174423.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002188.h35v10.005.2007161164154.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002189.h35v10.005.2007161200152.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002190.h35v10.005.2007162180320.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002191.h35v10.005.2007162214105.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002192.h35v10.005.2007163022444.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002185.h35v10.005.2007161153557.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002186.h35v10.005.2007161012141.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002187.h35v10.005.2007161050931.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002188.h35v10.005.2007161122622.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002189.h35v10.005.2007161211830.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002190.h35v10.005.2007162092900.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002191.h35v10.005.2007162024118.hdf
>> MOD15A1 DAILY Input:
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002192.h35v10.005.2007162232536.hdf
>>
>> PGE34 Output ? ? ? :
>>
>> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MCD15A2.1.2002-185T00:00:00.000000Z.51035010.18515794.215230_1.hdf
>> MOD15A2 ANCILLARY ? ?:
>> /MODAPSops3/PGE/AMPM/coeff/PGE34/MCD15A2_ANC_RI4.hdf
>>
>> QAPERCENTxx PSA AFTER CALC
>> QAPERCENTINTERPOLATEDDATA: 0
>> QAPERCENTMISSINGDATA ? ? : 99
>> QAPERCENTOUTOFBOUNDSDATA : 99
>> QAPERCENTCLOUDCOVER ? ? ?: 0
>> QAPERCENTTERRA ? ? ? ? ?: 61
>> QAPERCENTGOODQUALITY ? ? : 89
>> QAPERCENTOTHERQUALITY ? ?: 100
>> QAPERCENTGOODFPAR ? ? ? ?: 89
>> QAPERCENTGOODLAI ? ? ? ? : 89
>> QAPERCENTMAINMETHOD ? ? ?: 89
>> QAPERCENTEMPIRICALMODEL ?: 11
>> QAPERCENTNDAYSCOMPOSITED : 16
>>
>>
>> Started Tue Jun 26 17:00:14 2007 ?Ended Tue Jun 26 17:03:33 2007
>> Elapsed Time ? ? ? ? 199 Sec ( ? ? ? 3.32 Min)
>> ?MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
>> 255 = _Fillvalue, assigned when:
>> ? ?* the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
>> its _Fillvalue, or
>> ? ?* land cover pixel itself was assigned _Fillvalus 255 or 254.
>> 254 = land cover assigned as perennial salt or inland fresh water.
>> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
>> desert.)
>> 252 = land cover assigned as perennial snow, ice.
>> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
>> 250 = land cover assigned as urban/built-up.
>> 249 = land cover assigned as "unclassified" or not able to determine.
>>
>> ?MOD15A2_FparLai_QC_DOC=
>> FparLai_QC 5 BITFIELDS IN 8 BITWORD
>> MODLAND_QC START 0 END 0 VALIDS 2
>> MODLAND_QC ? 0 = Good Quality (main algorithm with or without saturation)
>> MODLAND_QC ? 1 = Other Quality (back-up algorithm or fill value)
>> SENSOR START 1 END 1 VALIDS 2
>> SENSOR ? ? ? 0 ?= Terra
>> SENSOR ? ? ? 1 ?= Aqua
>> DEADDETECTOR START 2 END 2 VALIDS 2
>> DEADDETECTOR 0 = Detectors apparently fine for up to 50% of channels 1,2
>> DEADDETECTOR 1 = Dead detectors caused >50% adjacent detector retrieval
>> CLOUDSTATE START 3 END 4 VALIDS 4 (this inherited from Aggregate_QC
>> bits {0,1} cloud state)
>> CLOUDSTATE ? 00 = 0 Significant clouds NOT present (clear)
>> CLOUDSTATE ? 01 = 1 Significant clouds WERE present
>> CLOUDSTATE ? 10 = 2 Mixed cloud present on pixel
>> CLOUDSTATE ? 11 = 3 Cloud state not defined,assumed clear
>> SCF_QC START 5 END 7 VALIDS 5
>> SCF_QC ? ? ? 000=0 Main (RT) algorithm used, best result possible (no
>> saturation)
>> SCF_QC ? ? ? 001=1 Main (RT) algorithm used, saturation occured. Good,
>> very usable.
>> SCF_QC ? ? ? 010=2 Main algorithm failed due to bad geometry,
>> empirical algorithm used
>> SCF_QC ? ? ? 011=3 Main algorithm faild due to problems other than
>> geometry, empirical algorithm used
>> SCF_QC ? ? ? 100=4 Pixel not produced at all, value coudn't be
>> retrieved (possible reasons: bad L1B data, unusable MODAGAGG data)
>>
>> ?MOD15A2_FparExtra_QC_DOC=
>> FparExtra_QC 6 BITFIELDS IN 8 BITWORD
>> LANDSEA PASS-THROUGH START 0 END 1 VALIDS 4
>> LANDSEA ? 00 = 0 LAND ? ? ? AggrQC(3,5)values{001}
>> LANDSEA ? 01 = 1 SHORE ? ? ?AggrQC(3,5)values{000,010,100}
>> LANDSEA ? 10 = 2 FRESHWATER AggrQC(3,5)values{011,101}
>> LANDSEA ? 11 = 3 OCEAN ? ? ?AggrQC(3,5)values{110,111}
>> SNOW_ICE (from Aggregate_QC bits) START 2 END 2 VALIDS 2
>> SNOW_ICE ?0 = No snow/ice detected
>> SNOW_ICE ?1 = Snow/ice were detected
>> AEROSOL START 3 END 3 VALIDS 2
>> AEROSOL ? 0 = No or low atmospheric aerosol levels detected
>> AEROSOL ? 1 = Average or high aerosol levels detected
>> CIRRUS (from Aggregate_QC bits {8,9} ) START 4 END 4 VALIDS 2
>> CIRRUS ? ?0 = No cirrus detected
>> CIRRUS ? ?1 = Cirrus was detected
>> INTERNAL_CLOUD_MASK START 5 END 5 VALIDS 2
>> INTERNAL_CLOUD_MASK 0 = No clouds
>> INTERNAL_CLOUD_MASK 1 = Clouds were detected
>> CLOUD_SHADOW START 6 END 6 VALIDS 2
>> CLOUD_SHADOW ? ? ? ?0 = No cloud shadow detected
>> CLOUD_SHADOW ? ? ? ?1 = Cloud shadow detected
>> SCF_BIOME_MASK START 7 END 7 VALIDS 2
>> SCF_BIOME_MASK ?0 = Biome outside interval <1,4>
>> SCF_BIOME_MASK ?1 = Biome in interval <1,4>
>>
>> ?MOD15A2_StdDev_QC_DOC=MOD15A2 STANDARD DEVIATION FILL VALUE LEGEND
>> 255 = _Fillvalue, assigned when:
>> ? ?* the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
>> its _Fillvalue, or
>> ? ?* land cover pixel itself was assigned _Fillvalus 255 or 254.
>> 254 = land cover assigned as perennial salt or inland fresh water.
>> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
>> desert.)
>> 252 = land cover assigned as perennial snow, ice.
>> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
>> 250 = land cover assigned as urban/built-up.
>> 249 = land cover assigned as "unclassified" or not able to determine.
>> 248 = no standard deviation available, pixel produced using backup method.
>>
>> ?MOD15A1_ANC_BUILD_CERT=mtAncUtil v. 1.8 Rel. 09.11.2000 17:36 API v.
>> 2.5.6 release 09.14.2000 16:33 Rev.Index 102 (J.Glassy)
>>
>> ?UM_VERSION=U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006
>> 23:59
>> ?scale_factor=0.1
>> ?scale_factor_err=0
>> ?add_offset=0
>> ?add_offset_err=0
>> ?calibrated_nt=21
>> ?valid_range=0, 100
>> ?_FillValue=255
>> ?long_name=MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index LAI
>> (8-day composite)
>> ?units=m^2/m^2
>> ?MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
>> 255 = _Fillvalue, assigned when:
>> ? ?* the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
>> its _Fillvalue, or
>> ? ?* land cover pixel itself was assigned _Fillvalus 255 or 254.
>> 254 = land cover assigned as perennial salt or inland fresh water.
>> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
>> desert.)
>> 252 = land cover assigned as perennial snow, ice.
>> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
>> 250 = land cover assigned as urban/built-up.
>> 249 = land cover assigned as "unclassified" or not able to determine.
>>
>> Corner Coordinates:
>> Upper Left ?(18903158.834,-1111950.520) (172d37'21.09"E, 10d 0' 0.00"S)
>> Lower Left ?(18903158.834,-2223901.039) (179d 5'23.20"W, 20d 0' 0.00"S)
>> Upper Right (20015109.354,-1111950.520) (177d13'23.56"W, 10d 0' 0.00"S)
>> Lower Right (20015109.354,-2223901.039) (168d26'52.80"W, 20d 0' 0.00"S)
>> Center ? ? ?(19459134.094,-1667925.779) (178d49'36.01"W, 15d 0' 0.00"S)
>> Band 1 Block=1200x100 Type=Byte, ColorInterp=Gray
>> ?Description = MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index
>> LAI (8-day composite)
>> ?NoData Value=255
>> ?Unit Type: m^2/m^2
>> ?Offset: 0, ? Scale:0.1
>>
>>
>> --
>> Jonathan A. Greenberg, PhD
>> Assistant Project Scientist
>> Center for Spatial Technologies and Remote Sensing (CSTARS)
>> Department of Land, Air and Water Resources
>> University of California, Davis
>> One Shields Avenue
>> Davis, CA 95616
>> Phone: 415-763-5476
>> AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>



-- 
Jonathan A. Greenberg, PhD
Assistant Project Scientist
Center for Spatial Technologies and Remote Sensing (CSTARS)
Department of Land, Air and Water Resources
University of California, Davis
One Shields Avenue
Davis, CA 95616
Phone: 415-763-5476
AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
From forkandwait at gmail.com  Tue May 10 15:32:18 2011
From: forkandwait at gmail.com (fork)
Date: Wed May 11 00:59:37 2011
Subject: [gdal-dev] Re: Reprojecting w/ gdalwarp .. cant figure it out
References: <loom.20110510T205945-51@post.gmane.org>
	<4DC98FAE.6050409@pobox.com>
Message-ID: <loom.20110510T212546-128@post.gmane.org>

Frank Warmerdam <warmerdam <at> pobox.com> writes:

> Dear ForkAndWait,
> 
> I suspect you have a left over foo.tif and/or foo.tfw from previous
> attempts.  gdalwarp will not create a new output file if the output
> file already exists.  Otherwise your procedure seems quite reasonable.

Well, I reran, and I am (1) getting errors
 but (2) the process is working to
completion even though it is hitting errors 
(presence of a tif was not the issue):

t2010_annex/ (j=0,r=0)$ gdalwarp -s_srs utm10n.prj -t_srs spwasth.prj -co
"TFW=YES" ortho_imagery/ortho_1-1_1n_s_wa033_
2009_1.tif foo.tif
ERROR 6: No translation for Lambert_Conformal_Conic
 to PROJ.4 format is known.
Creating output file that is 2048P x 1463L.
Processing input file ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif.
ERROR 6: No translation for Lambert_Conformal_Conic 
to PROJ.4 format is known.
0...10...20...30...40...50...60...70...80...90...100 - done.

So, ... Could you point me in the direction of fixing "ERROR 6"?

Also -- is there a way to run gdalwarp in
 "strict mode" or some such?  In the
unix philosophy, one is encouraged to fail
 hard and early so that scripts don't
blithely continue on with bad input. 
 I would MUCH rather get a non-zero return
and have it stop on the first error.

I am running an FW tools version, which might be pretty important for figuring
this out (sorry I forgot to mention):

t2010_annex/ (j=0,r=0)$ gdalwarp --version
GDAL 1.7.0b2, FWTools 2.4.7, released 2010/01/19

Thanks for the quick response and excellent software (except for the continuing
to run after error thing)!

From warmerdam at pobox.com  Tue May 10 15:47:55 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 11 01:15:54 2011
Subject: [gdal-dev] Re: Reprojecting w/ gdalwarp .. cant figure it out
In-Reply-To: <loom.20110510T212546-128@post.gmane.org>
References: <loom.20110510T205945-51@post.gmane.org>
	<4DC98FAE.6050409@pobox.com> <loom.20110510T212546-128@post.gmane.org>
Message-ID: <4DC9966B.5030403@pobox.com>

On 11-05-10 03:32 PM, fork wrote:
> Frank Warmerdam<warmerdam<at>  pobox.com>  writes:
>
>> Dear ForkAndWait,
>>
>> I suspect you have a left over foo.tif and/or foo.tfw from previous
>> attempts.  gdalwarp will not create a new output file if the output
>> file already exists.  Otherwise your procedure seems quite reasonable.
>
> Well, I reran, and I am (1) getting errors
>   but (2) the process is working to
> completion even though it is hitting errors
> (presence of a tif was not the issue):
>
> t2010_annex/ (j=0,r=0)$ gdalwarp -s_srs utm10n.prj -t_srs spwasth.prj -co
> "TFW=YES" ortho_imagery/ortho_1-1_1n_s_wa033_
> 2009_1.tif foo.tif
> ERROR 6: No translation for Lambert_Conformal_Conic
>   to PROJ.4 format is known.

Fork,

The problem is that you have used an ESRI style file directly under the
mistaken impression that it is compatible with GDAL/OGR.  ESRI uses a
variation of the the WKT coordinate system format.

Try:
gdalwarp -s_srs utm10n.prj -t_srs ESRI::spwasth.prj \
   -co "TFW=YES" ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif foo.tif

The ESRI:: prefix before the filename tells GDAL/OGR to convert from
ESRI format into "normal" WKT.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From forkandwait at gmail.com  Tue May 10 16:09:04 2011
From: forkandwait at gmail.com (fork)
Date: Wed May 11 01:38:23 2011
Subject: [gdal-dev] Re: Reprojecting w/ gdalwarp .. cant figure it out
References: <loom.20110510T205945-51@post.gmane.org>
	<4DC98FAE.6050409@pobox.com>
	<loom.20110510T212546-128@post.gmane.org>
	<4DC9966B.5030403@pobox.com>
Message-ID: <loom.20110510T220741-550@post.gmane.org>

Frank Warmerdam <warmerdam <at> pobox.com> writes:

> Fork,
> 
> The problem is that you have used an ESRI style file directly under the
> mistaken impression that it is compatible with GDAL/OGR.  ESRI uses a
> variation of the the WKT coordinate system format.
> 
> Try:
> gdalwarp -s_srs utm10n.prj -t_srs ESRI::spwasth.prj \
>    -co "TFW=YES" ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif foo.tif
> 
> The ESRI:: prefix before the filename tells GDAL/OGR to convert from
> ESRI format into "normal" WKT.

Frank,

That seems to work, though I might have to wait to overlay it for now.

Thanks so much!  I love GDAL!

From even.rouault at mines-paris.org  Tue May 10 17:41:31 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 11 03:15:30 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <BANLkTikc2sUQOTqp-OnKC6RmMASJG-xpxw@mail.gmail.com>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<1305021062.4dc90a865ebf0@webmail.free.fr>
	<BANLkTikc2sUQOTqp-OnKC6RmMASJG-xpxw@mail.gmail.com>
Message-ID: <201105102341.31300.even.rouault@mines-paris.org>

Le mardi 10 mai 2011 17:39:52, Kyle Shannon a ?crit :
> Even, here is the basic flow of my task.  I am opening several subdatasets
> in a for loop, warping them and populating an internal data structure.
> 
> #include "gdal_priv.h"
> #include "gdalwarper.h"
> #include "cpl_conv.h"
> #include "cpl_port.h"
> #include <string>
> #include <vector>
> int main()
> {
> GDALAllRegister();
> /*
>  * Variable names for the netcdf forecast file
>  */
> 
> std::vector<std::string> varList;
> varList.push_back( "Temperature_height_above_ground" );
> varList.push_back( "V-component_of_wind_height_above_ground" );
> varList.push_back( "U-component_of_wind_height_above_ground" );
> varList.push_back( "Total_cloud_cover" );
> 
> std::string temp;
> GDALDataset* srcDS;
> GDALDataset* wrpDS;
> GDALWarpOptions* psWarpOptions;
> std::string srcWkt, dstWkt;
> dstWkt = "PROJCS[\"WGS 84 / UTM zone 12N\",GEOGCS[\"WGS
> 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
> 84\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174
> 532925199433]],UNIT[\"metre\",1],PROJECTION[\"Transverse_Mercator\"],PARAME
> TER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETE
> R[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"
> false_northing\",0]]";
> 
> /*
>  * Loop over variable names and open sub datasets
>  */
> 
> for( int i = 0;i < varList.size();i++ ) {
> 
>     temp = "NETCDF:test.nc:" + varList[i];
> 
>     srcDS = (GDALDataset*)GDALOpenShared( temp.c_str(), GA_ReadOnly );
> 
>     srcWkt = srcDS->GetProjectionRef();
> 
>     /*
>      * Grab the first band to get the nodata value for the variable,
>      * assume all bands have the same ndv
>      */
>     GDALRasterBand *poBand = srcDS->GetRasterBand( 1 );
>     int pbSuccess;
>     double dfNoData = poBand->GetNoDataValue( &pbSuccess );
>     psWarpOptions = GDALCreateWarpOptions();
> 
>     int nBandCount = srcDS->GetRasterCount();
>     psWarpOptions->padfDstNoDataReal =
>         (double*) CPLMalloc( sizeof( double ) * nBandCount );
>     psWarpOptions->padfDstNoDataImag =
>         (double*) CPLMalloc( sizeof( double ) * nBandCount );
>     for( int b = 0;b < srcDS->GetRasterCount();b++ ) {
>         psWarpOptions->padfDstNoDataReal[b] = dfNoData;
>         psWarpOptions->padfDstNoDataImag[b] = dfNoData;
>     }
>     if( pbSuccess == false )
>         dfNoData = -9999.0;
>     psWarpOptions->papszWarpOptions =
>     CSLSetNameValue( psWarpOptions->papszWarpOptions,
>                      "INIT_DEST", "NO_DATA" );
> 
>     //set the dskWkt with an internal structure
> 
>     wrpDS = (GDALDataset*) GDALAutoCreateWarpedVRT( srcDS, srcWkt.c_str(),
>                                                     dstWkt.c_str(),
>                                                     GRA_NearestNeighbour,
>                                                     1.0, psWarpOptions );
> 
>     //copy warped data to internal structure
> 
>     GDALDestroyWarpOptions( psWarpOptions );
>     GDALClose((GDALDatasetH) srcDS );
>     GDALClose((GDALDatasetH) wrpDS );
> }
> }
> 

Of course, Valgrind has been helpfull once again (too bad you're on Windows 
;-))

You just forgot : psWarpOptions->nBandCount = nBandCount;

> I am sure I am missing something.
> 
> kss
> 
> /**
>  *
>  * Kyle Shannon
>  * ksshannon@gmail.com
>  *
>  */
> 
> On Tue, May 10, 2011 at 03:51, Even Rouault <even.rouault@mines-
paris.org>wrote:
> > Selon Kyle Shannon <ksshannon@gmail.com>:
> > > I did have to set the padfNoDataImag array as well, so I am one step
> > > closer.  My new issue is ownership of my psWarpOptions.  I assume that
> > 
> > since
> > 
> > > I create it, and the warp api tutorial implies that is it mine, I
> > > destroy
> > 
> > it
> > 
> > > with GDALDestroyWarpOptions().  My problem is that AutoCreateWarpedVRT
> > > appears to be stepping on my warp options when it destroys it's own
> > > copy.
> > > 
> > > I call AutoCreateWarpedVRT() and that function calls
> > > GDALCloneWarpOptions().  When AutoCreateWarpedVRT destroys the copy it
> > 
> > owns,
> > 
> > > it appears to be stepping on my copy, and when I call
> > > GDALDestroyWarpOptions(), I get a seg fault.  Am I doing something
> > > wrong?
> > 
> > Difficult to say without seeing your code. Could you post a small
> > self-sufficient code snippet that demonstrates your issue ?
> > 
> > By reviewing the code, one potential issue would be if you try to free
> > the pTransformerArg field by yourself, as it is freed by the destructor
> > of the VRTWarpedDataset. But if you just use GDALDestroyWarpOptions(),
> > it should work
> > OK
> > 
> > > kss
> > > 
> > > 
> > > 
> > > /**
> > > 
> > >  *
> > >  * Kyle Shannon
> > >  * ksshannon@gmail.com
> > >  *
> > >  */
> > > 
> > > On Mon, May 9, 2011 at 15:43, Even Rouault
> > > 
> > > <even.rouault@mines-paris.org>wrote:
> > > > Le lundi 09 mai 2011 23:30:05, Kyle Shannon a ?crit :
> > > > > Thanks Even,
> > > > > If that is the case, are there other values in psWarpOptions I
> > > > > *have*
> > 
> > to
> > 
> > > > > set?  I can't find docs discussing that.
> > > > 
> > > > I don't think so, but you'll just have to try... I'm not  surprised
> > > > the docs
> > > > don't talk about NaN. It is a corner case, and likely not really well
> > > > supported in all places.
From forkandwait at gmail.com  Tue May 10 18:21:14 2011
From: forkandwait at gmail.com (fork)
Date: Wed May 11 03:58:00 2011
Subject: [gdal-dev] Re: Reprojecting w/ gdalwarp .. cant figure it out
References: <loom.20110510T205945-51@post.gmane.org>
	<4DC98FAE.6050409@pobox.com>
	<loom.20110510T212546-128@post.gmane.org>
	<4DC9966B.5030403@pobox.com>
Message-ID: <loom.20110511T000858-520@post.gmane.org>

Frank Warmerdam <warmerdam <at> pobox.com> writes:

> Try:
> gdalwarp -s_srs utm10n.prj -t_srs ESRI::spwasth.prj \
>    -co "TFW=YES" ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif foo.tif
> 
> The ESRI:: prefix before the filename tells GDAL/OGR to convert from
> ESRI format into "normal" WKT.

So, as I said in my other email, this seems to work nicely, and lines up with a
shapefile of interest when I use ArcMap.

However, I am trying to get the raster image to line up with a PostGIS geometry.
 I would think that the bounding box on the geometry and the tfw would be really
close, but I get this from PostGIS:


tiger2010=# select id, getbbox(the_geom) from annexpoly;
      id      |                      getbbox
--------------+----------------------------------------------------
 my_id | BOX(1206737.375 866782.5625,1234465.5 882399.875)

While the new foo.tfw is:

10.7547912261
0.0000000000
0.0000000000
-10.7547912261
358134.0684926199
272894.5606149968

Just for interest, here is my geometry_columns of interest:

tiger2010=# select f_table_name, f_geometry_column, srid from geometry_columns;
   f_table_name   | f_geometry_column |  srid
------------------+-------------------+---------
 annexpoly        | the_geom          | 9102349

Any ideas ....?? It is very possible (likely) I made a stupid mistake, so I TIA
for patience in working out projection subtleties with me....


From srweal at gmail.com  Tue May 10 19:47:16 2011
From: srweal at gmail.com (srweal)
Date: Wed May 11 05:28:21 2011
Subject: [gdal-dev] Re: Datum Shifts with OSR.CoordinateTransform
In-Reply-To: <20110510092642.25350@gmx.net>
References: <1304996843099-6346391.post@n2.nabble.com>
	<20110510092642.25350@gmx.net>
Message-ID: <1305071236379-6350115.post@n2.nabble.com>

Armin, 

Thanks for the reply. That seems like a logical approach, but can you or any
of the GDAL developers tell me whether these +TOWGS84 parameters are
applied/supported or not. 

Also, I have seen some references to using a +NADGRID option for specifying
a transformation grid (rather than just the 7 parameters). 

Are these parameters supported? And if so, can they be defined for the
CoordinateTransform as a whole without importing from WKT?

Thanks, 

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Datum-Shifts-with-OSR-CoordinateTransform-tp6346391p6350115.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ksshannon at gmail.com  Tue May 10 20:48:48 2011
From: ksshannon at gmail.com (Kyle Shannon)
Date: Wed May 11 06:33:35 2011
Subject: [gdal-dev] Setting "INIT_DEST" to nan on windows
In-Reply-To: <201105102341.31300.even.rouault@mines-paris.org>
References: <BANLkTiku0Mza4dsKFuBHdfvAs_QxoZVt=Q@mail.gmail.com>
	<1305021062.4dc90a865ebf0@webmail.free.fr>
	<BANLkTikc2sUQOTqp-OnKC6RmMASJG-xpxw@mail.gmail.com>
	<201105102341.31300.even.rouault@mines-paris.org>
Message-ID: <BANLkTimp03YsjihUm3G32jB+cObcPGQqZA@mail.gmail.com>

Thanks Even, I appreciate it.

kss

/**
 *
 * Kyle Shannon
 * ksshannon@gmail.com
 *
 */




On Tue, May 10, 2011 at 15:41, Even Rouault <even.rouault@mines-paris.org>wrote:

> Le mardi 10 mai 2011 17:39:52, Kyle Shannon a ?crit :
> > Even, here is the basic flow of my task.  I am opening several
> subdatasets
> > in a for loop, warping them and populating an internal data structure.
> >
> > #include "gdal_priv.h"
> > #include "gdalwarper.h"
> > #include "cpl_conv.h"
> > #include "cpl_port.h"
> > #include <string>
> > #include <vector>
> > int main()
> > {
> > GDALAllRegister();
> > /*
> >  * Variable names for the netcdf forecast file
> >  */
> >
> > std::vector<std::string> varList;
> > varList.push_back( "Temperature_height_above_ground" );
> > varList.push_back( "V-component_of_wind_height_above_ground" );
> > varList.push_back( "U-component_of_wind_height_above_ground" );
> > varList.push_back( "Total_cloud_cover" );
> >
> > std::string temp;
> > GDALDataset* srcDS;
> > GDALDataset* wrpDS;
> > GDALWarpOptions* psWarpOptions;
> > std::string srcWkt, dstWkt;
> > dstWkt = "PROJCS[\"WGS 84 / UTM zone 12N\",GEOGCS[\"WGS
> > 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS
> >
> 84\",6378137,298.257223563]],PRIMEM[\"Greenwich\",0],UNIT[\"degree\",0.0174
> >
> 532925199433]],UNIT[\"metre\",1],PROJECTION[\"Transverse_Mercator\"],PARAME
> >
> TER[\"latitude_of_origin\",0],PARAMETER[\"central_meridian\",-111],PARAMETE
> >
> R[\"scale_factor\",0.9996],PARAMETER[\"false_easting\",500000],PARAMETER[\"
> > false_northing\",0]]";
> >
> > /*
> >  * Loop over variable names and open sub datasets
> >  */
> >
> > for( int i = 0;i < varList.size();i++ ) {
> >
> >     temp = "NETCDF:test.nc:" + varList[i];
> >
> >     srcDS = (GDALDataset*)GDALOpenShared( temp.c_str(), GA_ReadOnly );
> >
> >     srcWkt = srcDS->GetProjectionRef();
> >
> >     /*
> >      * Grab the first band to get the nodata value for the variable,
> >      * assume all bands have the same ndv
> >      */
> >     GDALRasterBand *poBand = srcDS->GetRasterBand( 1 );
> >     int pbSuccess;
> >     double dfNoData = poBand->GetNoDataValue( &pbSuccess );
> >     psWarpOptions = GDALCreateWarpOptions();
> >
> >     int nBandCount = srcDS->GetRasterCount();
> >     psWarpOptions->padfDstNoDataReal =
> >         (double*) CPLMalloc( sizeof( double ) * nBandCount );
> >     psWarpOptions->padfDstNoDataImag =
> >         (double*) CPLMalloc( sizeof( double ) * nBandCount );
> >     for( int b = 0;b < srcDS->GetRasterCount();b++ ) {
> >         psWarpOptions->padfDstNoDataReal[b] = dfNoData;
> >         psWarpOptions->padfDstNoDataImag[b] = dfNoData;
> >     }
> >     if( pbSuccess == false )
> >         dfNoData = -9999.0;
> >     psWarpOptions->papszWarpOptions =
> >     CSLSetNameValue( psWarpOptions->papszWarpOptions,
> >                      "INIT_DEST", "NO_DATA" );
> >
> >     //set the dskWkt with an internal structure
> >
> >     wrpDS = (GDALDataset*) GDALAutoCreateWarpedVRT( srcDS,
> srcWkt.c_str(),
> >                                                     dstWkt.c_str(),
> >                                                     GRA_NearestNeighbour,
> >                                                     1.0, psWarpOptions );
> >
> >     //copy warped data to internal structure
> >
> >     GDALDestroyWarpOptions( psWarpOptions );
> >     GDALClose((GDALDatasetH) srcDS );
> >     GDALClose((GDALDatasetH) wrpDS );
> > }
> > }
> >
>
> Of course, Valgrind has been helpfull once again (too bad you're on Windows
> ;-))
>
> You just forgot : psWarpOptions->nBandCount = nBandCount;
>
> > I am sure I am missing something.
> >
> > kss
> >
> > /**
> >  *
> >  * Kyle Shannon
> >  * ksshannon@gmail.com
> >  *
> >  */
> >
> > On Tue, May 10, 2011 at 03:51, Even Rouault <even.rouault@mines-
> paris.org>wrote:
> > > Selon Kyle Shannon <ksshannon@gmail.com>:
> > > > I did have to set the padfNoDataImag array as well, so I am one step
> > > > closer.  My new issue is ownership of my psWarpOptions.  I assume
> that
> > >
> > > since
> > >
> > > > I create it, and the warp api tutorial implies that is it mine, I
> > > > destroy
> > >
> > > it
> > >
> > > > with GDALDestroyWarpOptions().  My problem is that
> AutoCreateWarpedVRT
> > > > appears to be stepping on my warp options when it destroys it's own
> > > > copy.
> > > >
> > > > I call AutoCreateWarpedVRT() and that function calls
> > > > GDALCloneWarpOptions().  When AutoCreateWarpedVRT destroys the copy
> it
> > >
> > > owns,
> > >
> > > > it appears to be stepping on my copy, and when I call
> > > > GDALDestroyWarpOptions(), I get a seg fault.  Am I doing something
> > > > wrong?
> > >
> > > Difficult to say without seeing your code. Could you post a small
> > > self-sufficient code snippet that demonstrates your issue ?
> > >
> > > By reviewing the code, one potential issue would be if you try to free
> > > the pTransformerArg field by yourself, as it is freed by the destructor
> > > of the VRTWarpedDataset. But if you just use GDALDestroyWarpOptions(),
> > > it should work
> > > OK
> > >
> > > > kss
> > > >
> > > >
> > > >
> > > > /**
> > > >
> > > >  *
> > > >  * Kyle Shannon
> > > >  * ksshannon@gmail.com
> > > >  *
> > > >  */
> > > >
> > > > On Mon, May 9, 2011 at 15:43, Even Rouault
> > > >
> > > > <even.rouault@mines-paris.org>wrote:
> > > > > Le lundi 09 mai 2011 23:30:05, Kyle Shannon a ?crit :
> > > > > > Thanks Even,
> > > > > > If that is the case, are there other values in psWarpOptions I
> > > > > > *have*
> > >
> > > to
> > >
> > > > > > set?  I can't find docs discussing that.
> > > > >
> > > > > I don't think so, but you'll just have to try... I'm not  surprised
> > > > > the docs
> > > > > don't talk about NaN. It is a corner case, and likely not really
> well
> > > > > supported in all places.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110510/0089f4d9/attachment-0001.html
From warmerdam at pobox.com  Tue May 10 22:54:18 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 11 08:45:38 2011
Subject: [gdal-dev] Re: Datum Shifts with OSR.CoordinateTransform
In-Reply-To: <1305071236379-6350115.post@n2.nabble.com>
References: <1304996843099-6346391.post@n2.nabble.com>
	<20110510092642.25350@gmx.net>
	<1305071236379-6350115.post@n2.nabble.com>
Message-ID: <4DC9FA5A.5070208@pobox.com>

On 11-05-10 07:47 PM, srweal wrote:
> Armin,
>
> Thanks for the reply. That seems like a logical approach, but can you or any
> of the GDAL developers tell me whether these +TOWGS84 parameters are
> applied/supported or not.

Steve,

3/7 parameter datum shifts may be specified on the source and
destination srs using the TOWGS84[] notation.

Note that PROJ.4 will not apply a datum shift unless both the source
and target srs are considered to be properly defined in terms of their
datum.

> Also, I have seen some references to using a +NADGRID option for specifying
> a transformation grid (rather than just the 7 parameters).
>
> Are these parameters supported? And if so, can they be defined for the
> CoordinateTransform as a whole without importing from WKT?

PROJ.4 supports +nadgrid notation, but it is often difficult to capture
this in a WKT srs definition.  If you need to do so, appending +wktext to
a PROJ.4 definition before importing it to WKT (with ImportFromWkt())
will ensure that the original PROJ.4 definition is preserved in the WKT.

There are lots of caveats and limitations.  It might be best if you
were more specific about what you want to do.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Wed May 11 04:10:52 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 11 14:19:46 2011
Subject: [gdal-dev] Motion: Adopt RFC 35: Delete,
	reorder and alter field definitions of OGR layers
Message-ID: <1305101452.4dca448cad05c@webmail.free.fr>

Hi,

Motion: I move to adopt RFC 35: Delete, reorder and alter field definitions of
OGR layers.

    http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn

Starting with my +1

Best regards,

Even
From mario_mazado at hotmail.com  Wed May 11 04:29:21 2011
From: mario_mazado at hotmail.com (mario santos serrano)
Date: Wed May 11 14:40:15 2011
Subject: [gdal-dev] Geocentric 9603
In-Reply-To: <SNT142-w21ED5648EBA12F910FF455F4830@phx.gbl>
References: <SNT142-w44C4BF0C90AD2805545FC7F4830@phx.gbl>,
	<SNT142-w21ED5648EBA12F910FF455F4830@phx.gbl>
Message-ID: <SNT142-w5281D7A3DFB6E2D97BA0A9F4860@phx.gbl>


----I HAVE OBTAINED THE SOLUTION----
Hello everybody:

I had one problem (read below) with a Geographic Transformation. I tried multiple choices but anything worked.

I thought that I get the solution when tried this way: 
ogr2ogr -s_srs "+proj=utm +zone=30 +ellpse=intl +towgs84=-84,-107,-120,5,6,3,18 +units=m +no_defs +wktext" -t_srs EPSG:3035 OUT.shp IN.shp
but the adjustment between SHP and the map was still wrong. I get the Seven-parameter transformation from: http://www.colorado.edu/geography/gcraft/notes/datum/datum_f.html

Ultimately I read some advice and I tried a grid:
ogr2ogr -s_srs "+init=epsg:23030 +nadgrids=./PENR2009.gsb +wktext" -t_srs EPSG:3035 OUT.shp IN.shp
This grid are in NTV2 format and contains the longitude and latitude increase between ED50 and ETRS89 datums.

I get this grid from: http://www.ign.es/ign/layoutIn/herramientas.do

Thank you everybody for your advice. Hope this helps.







----INITIAL PROBLEM----




Hello everyone!!

I converted a DXF file to a shapefile using 'ogr2ogr' command. When I use the "-t_srs" parameter the system tells me: "Can't transform coordinates, source layer has no coordinate system. Use -s_srs to set one."

The command '-s_srs' override source SRS.  What is the difference between '-s_srs' and '-a_srs' command? What is the exact meaning of "Assign an output SRS"? I don't understand that.

I use the '-s_srs' command and when I overlay the shapefile over a map,the adjustment isn?t very good with the map, so I must make a geographic transformation. I get that transformation thanks to 'ProjectionUtility' (ArcView). Its name is Geocentric[9603], ED_1950_TO_WGS_1984_13, POSC Code:8045.

I need to make this transformation automatically. How can I make this transformation using 'ogr2ogr'? Is it possible?

Thank you very much

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110511/a82af6a1/attachment.html
From knutfrodesoppel at hotmail.com  Wed May 11 05:53:55 2011
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Wed May 11 16:08:19 2011
Subject: [gdal-dev] VRT Derived Bands from Python?
Message-ID: <iqdmbj$4bi$1@dough.gmane.org>

Hi,

Derived Bands of the VRT format seems like a very powerful resource. 
 From the tutorial (http://www.gdal.org/gdal_vrttut.html) it is clear 
that the Pixel Functions themselves have to be written in C, which is 
probably anyway best for performance.
I also get the impression that the corresponding VRT files with Derived 
Bands can only be used by applications written in C/C++, since the Pixel 
Functions are only available inside the scope of such an application 
program:
http://gis.stackexchange.com/questions/2940/gdal-pixel-functions-question

Does this mean that Pixel Functions can not be used by command line 
utilities (e.g. gdalwarp and gdal_translate) or from Python?

Best regards from Knut-Frode

From hobu.inc at gmail.com  Wed May 11 09:00:16 2011
From: hobu.inc at gmail.com (Howard Butler)
Date: Wed May 11 19:24:52 2011
Subject: [gdal-dev] Motion: Adopt RFC 35: Delete,
	reorder and alter field definitions of OGR layers
In-Reply-To: <1305101452.4dca448cad05c@webmail.free.fr>
References: <1305101452.4dca448cad05c@webmail.free.fr>
Message-ID: <591D350B-3247-4038-8FDD-A5957FA79B11@gmail.com>


On May 11, 2011, at 3:10 AM, Even Rouault wrote:

> Hi,
> 
> Motion: I move to adopt RFC 35: Delete, reorder and alter field definitions of
> OGR layers.
> 
>    http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn
> 
> Starting with my +1

+1 Howard
From dmorissette at mapgears.com  Wed May 11 10:41:17 2011
From: dmorissette at mapgears.com (Daniel Morissette)
Date: Wed May 11 21:11:48 2011
Subject: [gdal-dev] Motion: Adopt RFC 35: Delete, reorder and alter field
	definitions of OGR layers
In-Reply-To: <1305101452.4dca448cad05c@webmail.free.fr>
References: <1305101452.4dca448cad05c@webmail.free.fr>
Message-ID: <4DCAA00D.3080907@mapgears.com>

On 11-05-11 04:10 AM, Even Rouault wrote:
> Hi,
>
> Motion: I move to adopt RFC 35: Delete, reorder and alter field definitions of
> OGR layers.
>
>      http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn
>

+1

Daniel
-- 
Daniel Morissette
http://www.mapgears.com/
Provider of Professional MapServer Support since 2000

From julien.malik at c-s.fr  Wed May 11 12:51:07 2011
From: julien.malik at c-s.fr (Julien Malik)
Date: Wed May 11 23:28:17 2011
Subject: [gdal-dev] gdal 1.8 tiff
Message-ID: <4DCABE7B.6050904@c-s.fr>

Hello list,

I had a bad surprise today using the new gdal 1.8 package available in 
ubuntugis-unstable :

When linked both to tiff v3 and gdal 1.8, the GTIFF driver is disabled 
with a warning appearing like :

    WARNING ! libtiff version mismatch : You're linking against libtiff 
3.X but GDAL has been compiled against libtiff >= 4.0.0

I understand from frmts/gtiff/geotiff.cpp that this is voluntary (though 
the warning does not say it actually disables the GTiff driver).

In my case (building the Orfeo Toolbox library, which has a dependency 
needing TIFF and GeoTiff, but not gdal), it has the undesirable 
consequence of breaking TIFF support for our ubuntu packages based on 
the ubuntugis-unstable ppa 
(https://launchpad.net/~otb/+archive/orfeotoolbox-nightly and 
https://launchpad.net/~otb/+archive/orfeotoolbox-stable-ubuntugis).

The issue has already been discussed on this list, but just to recall : 
we had a solution providing usable executables with TIFF support, even 
though they were linked to the system libtiff and libgeotiff (it 
involved ensuring the proper link order between '-lgdal' and '-lgeotiff').

That's why I think disabling the driver completely is a little hard.
In my case it represents a major regression, and I don't have a lot of 
ideas to work around it...


Is it possible to *not* disable the driver, and keep the warning ?


Regards,
Julien

NB: I filed a ticket in our bug tracker 
(http://bugs.orfeo-toolbox.org/view.php?id=296), feel free to leave 
comments there.


From even.rouault at mines-paris.org  Wed May 11 14:03:01 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 12 00:44:32 2011
Subject: [gdal-dev] gdal 1.8 tiff
In-Reply-To: <4DCABE7B.6050904@c-s.fr>
References: <4DCABE7B.6050904@c-s.fr>
Message-ID: <201105112003.02050.even.rouault@mines-paris.org>

Le mercredi 11 mai 2011 18:51:07, Julien Malik a ?crit :
> Hello list,
> 
> I had a bad surprise today using the new gdal 1.8 package available in
> ubuntugis-unstable :
> 
> When linked both to tiff v3 and gdal 1.8, the GTIFF driver is disabled
> with a warning appearing like :
> 
>     WARNING ! libtiff version mismatch : You're linking against libtiff
> 3.X but GDAL has been compiled against libtiff >= 4.0.0
> 
> I understand from frmts/gtiff/geotiff.cpp that this is voluntary (though
> the warning does not say it actually disables the GTiff driver).

I'm a bit frustrated... I put this check to avoid bug reports actually ;-) Too 
many people get hurt because of a version mismatch and have a hard tried 
figuring what goes wrong.

> 
> In my case (building the Orfeo Toolbox library, which has a dependency
> needing TIFF and GeoTiff, but not gdal), it has the undesirable
> consequence of breaking TIFF support for our ubuntu packages based on
> the ubuntugis-unstable ppa
> (https://launchpad.net/~otb/+archive/orfeotoolbox-nightly and
> https://launchpad.net/~otb/+archive/orfeotoolbox-stable-ubuntugis).
> 
> The issue has already been discussed on this list, but just to recall :
> we had a solution providing usable executables with TIFF support, even
> though they were linked to the system libtiff and libgeotiff (it
> involved ensuring the proper link order between '-lgdal' and '-lgeotiff').
> 
> That's why I think disabling the driver completely is a little hard.
> In my case it represents a major regression, and I don't have a lot of
> ideas to work around it...
> 
> 
> Is it possible to *not* disable the driver, and keep the warning ?

If your question is "without changing the code ?", the answer is no.

If Debian/Ubuntu goes into the way of using versionned symbols, they can just 
apply a local trivial patch to disable this check. My rationale is that people 
that want to mix both libtiff 3 and libtiff 4 are considered to be sufficient 
advanced users to make patches to undo the sanity checks if they really know 
what they are doing. IMHO, the default should be to stick to safe settings.

But perhaps I did go too far and I'm open to suggestions. Changing the 
behaviour of this check is trivial. The difficult part is to figure out the 
expected behaviour and I just don't know what would be the option that would 
satisfy most/all people. One possibility would be to disable the driver unless 
an environment variable GDAL_ACCEPT_MIXED_LIBTIFF_VERSIONS is defined  ?? But 
that seems to a bit too convoluted. Or just emit the warning and still enables 
the driver, considering that the warning is enough and that if people get 
crashes, they would know why. I'm interested by opinion from other people.

Best regards,

Even
> 
> 
> Regards,
> Julien
> 
> NB: I filed a ticket in our bug tracker
> (http://bugs.orfeo-toolbox.org/view.php?id=296), feel free to leave
> comments there.
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Wed May 11 14:08:23 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 12 00:50:04 2011
Subject: [gdal-dev] VRT Derived Bands from Python?
In-Reply-To: <iqdmbj$4bi$1@dough.gmane.org>
References: <iqdmbj$4bi$1@dough.gmane.org>
Message-ID: <201105112008.23419.even.rouault@mines-paris.org>

Le mercredi 11 mai 2011 11:53:55, Knut-Frode Dagestad a ?crit :
> Hi,
> 
> Derived Bands of the VRT format seems like a very powerful resource.
>  From the tutorial (http://www.gdal.org/gdal_vrttut.html) it is clear
> that the Pixel Functions themselves have to be written in C, which is
> probably anyway best for performance.
> I also get the impression that the corresponding VRT files with Derived
> Bands can only be used by applications written in C/C++, since the Pixel
> Functions are only available inside the scope of such an application
> program:
> http://gis.stackexchange.com/questions/2940/gdal-pixel-functions-question
> 
> Does this mean that Pixel Functions can not be used by command line
> utilities (e.g. gdalwarp and gdal_translate) or from Python?

The quick answer is : you can't use VRTDerivedBand from command line
utilities or Python.

The long answer is : but of course, as often in situations where you can't, 
you can... Provided you have a C compiler handy, the workaround here is to 
benefit from the GDAL plugin mechanism for other purposes than writing a GDAL 
driver.

Create a gdalmypixelfunction.c whose content is :

#include "gdal.h"

CPLErr MyFunction(void **papoSources, int nSources, void *pData,
                    int nXSize, int nYSize,
                    GDALDataType eSrcType, GDALDataType eBufType,
                    int nPixelSpace, int nLineSpace)
{
   /* implementation to write here */
}

void GDALRegisterMe() /* this is the entry point. don't change this name */
{
    GDALAddDerivedBandPixelFunc("MyFunction", MyFunction);
}

Compile it as a shared library, called gdal_XXXXXXXX.so (or .dll on
windows), define GDAL_DRIVER_PATH to point to the directory of the shared
library, et voil? ! The library will be loaded at runtime when the utilities 
or the python bindings call the GDALRegisterAll() method and the pixel 
function will be available to the VRT driver.

> 
> Best regards from Knut-Frode
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From bontepaarden at gmail.com  Wed May 11 14:20:51 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu May 12 01:03:27 2011
Subject: [gdal-dev] [Projections] EPSG, proj.4, .prj files
Message-ID: <BANLkTi=_Kp=kfDpz0fuS31=7x0qgX4A+kQ@mail.gmail.com>

Hi List,

We use GDAL with Proj.4 in MapWindow GIS.
We're currently in the process of upgrading to GDAL v1.8

We have some issues with projections in MapWindow.
We partially us GDAL methods and partially our custom ones.
We also are more and more working with EPSG codes with WMS and WFS. So we
need to handle them as well.

I've seen a discussion about this 2 or 3 weeks ago and my question partially
overlaps.
As I understand it, it is not possible do use GDAL/Proj.4 to input a EPSG
code and get the prj-file or projection string back, right?
And the same is for the other way round: get the EPSG code when the input is
a projection string.

But we do want this. Is some sort of offline database or XML file available
that will show the EPSG codes with the accompanying prj-file text and
projection string?

Or am I thinking in the wrong direction?

Thanks,

Paul


*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110511/dd7805ab/attachment.html
From even.rouault at mines-paris.org  Wed May 11 14:35:57 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 12 01:19:09 2011
Subject: [gdal-dev] [Projections] EPSG, proj.4, .prj files
In-Reply-To: <BANLkTi=_Kp=kfDpz0fuS31=7x0qgX4A+kQ@mail.gmail.com>
References: <BANLkTi=_Kp=kfDpz0fuS31=7x0qgX4A+kQ@mail.gmail.com>
Message-ID: <201105112035.57167.even.rouault@mines-paris.org>

Le mercredi 11 mai 2011 20:20:51, Paul Meems a ?crit :
> Hi List,
> 
> We use GDAL with Proj.4 in MapWindow GIS.
> We're currently in the process of upgrading to GDAL v1.8
> 
> We have some issues with projections in MapWindow.
> We partially us GDAL methods and partially our custom ones.
> We also are more and more working with EPSG codes with WMS and WFS. So we
> need to handle them as well.
> 
> I've seen a discussion about this 2 or 3 weeks ago and my question
> partially overlaps.
> As I understand it, it is not possible do use GDAL/Proj.4 to input a EPSG
> code and get the prj-file or projection string back, right?

If I were you, I would look at the importFromEPSG() and exportToProj4() / 
exportToWkt() methods of OGRSpatialReference ....

> And the same is for the other way round: get the EPSG code when the input
> is a projection string.

Generally not, unless there's a AUTHORITY node in the WKT. There's also a 
OGRSpatialReference::AutoIdentifyEPSG() method, but it will work only in a few 
cases. Have a look at its implementation to know which ones.

One possibility to identify the EPSG code is to iterate over all the EPSG code 
and get their proj4 representation, and compare that to the proj4 
representation of your projection string. But that's not a perfect solution 
and I'm not sure there's a perfect solution. The proj4 representation isn't a 
bijection of the WKT representation.

> 
> But we do want this. Is some sort of offline database or XML file available
> that will show the EPSG codes with the accompanying prj-file text and
> projection string?

Are you looking for the "epsg" file from the proj.4 distribution... ? 
http://trac.osgeo.org/proj/browser/trunk/proj/nad/epsg

Illustrating my point in previous paragraph :

# CHTRF95
<4151> +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs  <>
# NAD83(HARN)
<4152> +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs  <>

2 EPSG codes, same PROJ.4 representation

> 
> Or am I thinking in the wrong direction?
> 
> Thanks,
> 
> Paul
> 
> 
> *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
> 
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
> 
> *
> *
From even.rouault at mines-paris.org  Wed May 11 14:39:29 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 12 01:22:55 2011
Subject: [gdal-dev] Segmentation fault with debian install of gdal on
	MODIS hdf4 files
In-Reply-To: <BANLkTimraxQKLg70X0qasCCVt0+MYADygQ@mail.gmail.com>
References: <BANLkTinXtVeKY+VGa4M1Rnh3=69NK=HjcA@mail.gmail.com>
	<BANLkTimYhuP=-MtiVuu7QAn0b+L53Ctf2w@mail.gmail.com>
	<BANLkTimraxQKLg70X0qasCCVt0+MYADygQ@mail.gmail.com>
Message-ID: <201105112039.30004.even.rouault@mines-paris.org>

Le mardi 10 mai 2011 21:24:21, Jonathan Greenberg a ?crit :
> Thanks, but I was hoping someone had seen this with the latest Debian
> release.  Follow-up question, if I were to uninstall gdal + all the
> affiliated libraries/dependencies, what do I need to make sure I
> remove?  I'm noticing, at least, that the segfault is not occurring on
> another debian box we have -- seems like something may have gotten
> corrupted along the way, but I've tried doing an apt-get remove on
> libgdal1-dev and gdal-bin, as well as the libhdf4.  Any tricks to
> "clearing out" gdal for a "clean" reinstall?

It is possible you are the victim of the "Incompatibility with NetCDF 
Libraries" section of http://trac.osgeo.org/gdal/wiki/HDF . Depending on your 
Debian version, I remember there is/was indeed an incompatibility between the 
hdf4 and netcdf lib they provide. Building by yourself and disabling the 
netcdf lib ( ./configure --without-netcdf) might help.

> 
> --j
> 
> On Mon, May 9, 2011 at 8:23 PM, Nikolaos Hatzopoulos <nhatzop@gmail.com> 
wrote:
> > I am using centos and elgis repo and for me it is working..
> > so there must be a problem with the hdf linking or compile of the
> > library. Note hdf4 is responsible to do the job not hdf5 for the
> > particular case.
> > 
> >  gdal_translate 'HDF4_EOS:EOS_GRID:"MCD15A2.
> > A2002185.h12v05.005.2007172035551.hdf":MOD_Grid_MOD15A2:LaiStdDev_1km'
> > test2.tif
> > Input file size is 1200, 1200
> > 0...10...20...30...40...50...60...70...80...90...100 - done.
> > 
> > --Nikos Hatzopoulos
> > 
> > 
> > On Mon, May 9, 2011 at 5:56 PM, Jonathan Greenberg
> > <greenberg@ucdavis.edu>
> > 
> > wrote:
> >> Folks:
> >> 
> >> I did a Debian install of both the "unstable" and the "experimental"
> >> versions of GDAL, and when running gdal_translate on a MODIS HDF4 file
> >> I'm getting a segmentation fault.  gdalinfo works fine tho.  Thoughts?
> >> 
> >> $ gdal_translate -ot Float32 -of ENVI
> >> 
> >> HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid
> >> _MOD15A2:Lai_1km test_hdf.envi
> >> Input file size is 1200, 1200
> >> 0Segmentation fault
> >> 
> >> $ gdalinfo
> >> HDF4_EOS:EOS_GRID:MCD15A2.A2002185.h35v10.005.2007177210333.hdf:MOD_Grid
> >> _MOD15A2:Lai_1km Driver: HDF4Image/HDF4 Dataset
> >> Files: MCD15A2.A2002185.h35v10.005.2007177210333.hdf
> >> Size is 1200, 1200
> >> Coordinate System is:
> >> PROJCS["unnamed",
> >>    GEOGCS["Unknown datum based upon the custom spheroid",
> >>        DATUM["Not specified (based on custom spheroid)",
> >>            SPHEROID["Custom spheroid",6371007.181,0]],
> >>        PRIMEM["Greenwich",0],
> >>        UNIT["degree",0.0174532925199433]],
> >>    PROJECTION["Sinusoidal"],
> >>    PARAMETER["longitude_of_center",0],
> >>    PARAMETER["false_easting",0],
> >>    PARAMETER["false_northing",0],
> >>    UNIT["Meter",1]]
> >> Origin = (18903158.834332998842001,-1111950.519667000044137)
> >> Pixel Size = (926.625433055833014,-926.625433054999803)
> >> Metadata:
> >>  HDFEOSVersion=HDFEOS_V2.9
> >>  LOCALGRANULEID=MCD15A2.A2002185.h35v10.005.2007177210333.hdf
> >>  PRODUCTIONDATETIME=2007-06-26T21:03:33.000Z
> >>  DAYNIGHTFLAG=Day
> >>  REPROCESSINGACTUAL=reprocessed
> >>  LOCALVERSIONID=5.0.4
> >>  REPROCESSINGPLANNED=further update is anticipated
> >>  SCIENCEQUALITYFLAG=Not Investigated
> >>  AUTOMATICQUALITYFLAGEXPLANATION=No automatic quality assessment is
> >> performed in the PGE
> >>  AUTOMATICQUALITYFLAG=Passed
> >>  SCIENCEQUALITYFLAGEXPLANATION=See
> >> http://landweb.nascom/nasa.gov/cgi-bin/QA_WWW/qaFlagPage.cgi?sat=aqua
> >> the product Science Quality status.
> >>  QAPERCENTMISSINGDATA=99
> >>  QAPERCENTOUTOFBOUNDSDATA=99
> >>  QAPERCENTCLOUDCOVER=0
> >>  QAPERCENTINTERPOLATEDDATA=0
> >>  PARAMETERNAME=MCD15A2
> >>  VERSIONID=5
> >>  SHORTNAME=MCD15A2
> >>  INPUTPOINTER=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
> >> MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
> >> MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
> >> MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
> >> MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
> >> MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
> >> MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
> >> MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
> >> MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
> >> MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
> >> MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
> >> MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
> >> MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
> >> MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
> >> MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
> >> MOD15A1.A2002185.h35v10.005.2007152031253.hdf, MCD15A2_ANC_RI4.hdf
> >>  GRINGPOINTLONGITUDE=172.479315908761, 172.622770159185,
> >> 179.999502554976, -179.856407114504
> >>  GRINGPOINTLATITUDE=-19.1662177463598, -9.98364248250805,
> >> -9.97534112170732, -19.180676222654
> >>  GRINGPOINTSEQUENCENO=1, 2, 3, 4
> >>  EXCLUSIONGRINGFLAG=N
> >>  RANGEENDINGDATE=2002-07-11
> >>  RANGEENDINGTIME=23:59:59
> >>  RANGEBEGINNINGDATE=2002-07-04
> >>  RANGEBEGINNINGTIME=00:00:00
> >>  PGEVERSION=5.0.6
> >>  ASSOCIATEDSENSORSHORTNAME=MODIS
> >>  ASSOCIATEDPLATFORMSHORTNAME=Terra
> >>  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
> >>  ASSOCIATEDSENSORSHORTNAME=MODIS
> >>  ASSOCIATEDPLATFORMSHORTNAME=Aqua
> >>  ASSOCIATEDINSTRUMENTSHORTNAME=MODIS
> >>  QAPERCENTGOODQUALITY=89
> >>  QAPERCENTOTHERQUALITY=100
> >>  HORIZONTALTILENUMBER=35
> >>  VERTICALTILENUMBER=10
> >>  TileID=51035010
> >>  NDAYS_COMPOSITED=16
> >>  QAPERCENTGOODFPAR=89
> >>  QAPERCENTGOODLAI=89
> >>  QAPERCENTMAINMETHOD=89
> >>  QAPERCENTEMPIRICALMODEL=11
> >>  NORTHBOUNDINGCOORDINATE=-9.99999999910197
> >>  SOUTHBOUNDINGCOORDINATE=-19.1833333316106
> >>  EASTBOUNDINGCOORDINATE=179.999999983337
> >>  WESTBOUNDINGCOORDINATE=172.622524004598
> >>  ALGORITHMPACKAGEACCEPTANCEDATE=10-01-2004
> >>  ALGORITHMPACKAGEMATURITYCODE=Normal
> >>  ALGORITHMPACKAGENAME=MCDPR_15A2
> >>  ALGORITHMPACKAGEVERSION=5
> >>  GEOANYABNORMAL=False
> >>  GEOESTMAXRMSERROR=50.0
> >>  LONGNAME=MODIS/Terra+Aqua Leaf Area Index/FPAR 8-Day L4 Global 1km SIN
> >> Grid
> >>  PROCESSINGCENTER=MODAPS
> >>  SYSTEMFILENAME=MYD15A1.A2002192.h35v10.005.2007162232536.hdf,
> >> MYD15A1.A2002191.h35v10.005.2007162024118.hdf,
> >> MYD15A1.A2002190.h35v10.005.2007162092900.hdf,
> >> MYD15A1.A2002189.h35v10.005.2007161211830.hdf,
> >> MYD15A1.A2002188.h35v10.005.2007161122622.hdf,
> >> MYD15A1.A2002187.h35v10.005.2007161050931.hdf,
> >> MYD15A1.A2002186.h35v10.005.2007161012141.hdf,
> >> MYD15A1.A2002185.h35v10.005.2007161153557.hdf,
> >> MOD15A1.A2002192.h35v10.005.2007163022444.hdf,
> >> MOD15A1.A2002191.h35v10.005.2007162214105.hdf,
> >> MOD15A1.A2002190.h35v10.005.2007162180320.hdf,
> >> MOD15A1.A2002189.h35v10.005.2007161200152.hdf,
> >> MOD15A1.A2002188.h35v10.005.2007161164154.hdf,
> >> MOD15A1.A2002187.h35v10.005.2007160174423.hdf,
> >> MOD15A1.A2002186.h35v10.005.2007152183046.hdf,
> >> MOD15A1.A2002185.h35v10.005.2007152031253.hdf
> >>  NUMBEROFGRANULES=1
> >>  GRANULEDAYNIGHTFLAG=Day
> >>  GRANULEBEGINNINGDATETIME=2007-06-01T03:12:53.000Z
> >>  GRANULEENDINGDATETIME=2007-06-01T03:12:53.000Z
> >>  CHARACTERISTICBINANGULARSIZE=30.0
> >>  CHARACTERISTICBINSIZE=926.625433055556
> >>  DATACOLUMNS=1200
> >>  DATAROWS=1200
> >>  GLOBALGRIDCOLUMNS=43200
> >>  GLOBALGRIDROWS=21600
> >>  NADIRDATARESOLUTION=1km
> >>  MAXIMUMOBSERVATIONS=1
> >>  SPSOPARAMETERS=5367, 2680
> >>  PROCESSINGENVIRONMENT=IRIX64 mtvs3 6.5 10070055 IP35
> >>  DESCRREVISION=5.0
> >>  ENGINEERING_DATA=
> >> # MOD_PR15A2 (Vers 5.0.4 Rele 10.18.2006 23:59)
> >> # MUM API Vers 2.5.8 Rev 104 Rel. 11.15.2000 10:49 (pgs)
> >> # (c) 2000 J.M. Glassy, NTSG,LLSD
> >> # portions of MUM API by Petr Votava,NTSG Lab,U.Montana
> >> # HOST ECS_PGS_VirtualHost PROCESS 19540618
> >> # PLATFORM Sys genericunix Vers unknown Release unknown Node (no
> >> nodename available)
> >> # INIT-TIME Tue Jun 26 17:00:14 2007
> >> 
> >> YEARDAY 185 COMPOSITE_PERIOD  24 FIRSTDAY_IN_PERIOD 185
> >> SDS[PGE34_ISG_MBRLUT] ID 268697600 Rank   2 (664 120)
> >> SDS[PGE34_OUTFIELD_PROP] ID 268697601 Rank   2 (78 179)
> >> SDS[PGE34_BROWSEFIELD_PROP] ID 268697602 Rank   2 (77 164)
> >> READANC SDS[PGE34_ISG_MBRLUT] RANK 2 (664 120)
> >> READANC SDS[PGE34_OUTFIELD_PROP] RANK 2 (78 179)
> >> READANC SDS[PGE34_BROWSEFIELD_PROP] RANK 2 (77 164)
> >> READANC SDS[PGE34_ECSMETA_DICT] RANK 2 (73 110)
> >> READANC SDS[PGE34_RELEASE_NOTES] RANK 2 (84 98)
> >> FLDPROP SDSnam(PGE34_OUTFIELD_PROP)MoleName(PGE34_OUTFIELD_PROP)Status
> >> 3 Nelem 13962
> >> BROWSE cvlBrwMol 0 Nelem 57600 Type 21 Status 3
> >> BROWSE cvlBrwMol 1 Nelem 57600 Type 21 Status 3
> >> BROWSE cvlBrwMol 2 Nelem 57600 Type 21 Status 3
> >> BROWSE cvlBrwMol 3 Nelem 57600 Type 21 Status 3
> >> BROWSE: NEW GRID ID 4194320
> >> BROWSEFIELD  0 Sum 14571961 Average 252.985
> >> BROWSEFIELD  1 Sum 14560181 Average 252.781
> >> BROWSEFIELD  2 Sum 8999599 Average 156.243
> >> BROWSEFIELD  3 Sum 14616929 Average 253.766
> >> BROWSE-DONE: N-Pixels 57600 Invalid offsets: 0 OutOfRange 0
> >> 
> >> COMPOSITING FPAR FREQUENCIES
> >> FPAR   6       33
> >> FPAR   7       20
> >> FPAR   8       11
> >> FPAR   9        7
> >> FPAR  10       18
> >> FPAR  11        3
> >> FPAR  12        7
> >> FPAR  13       14
> >> FPAR  14        9
> >> FPAR  15       21
> >> FPAR  16       15
> >> FPAR  17        4
> >> FPAR  18       10
> >> FPAR  19       50
> >> FPAR  20       24
> >> FPAR  21       11
> >> FPAR  22       13
> >> FPAR  23        7
> >> FPAR  24       26
> >> FPAR  25       23
> >> FPAR  26       22
> >> FPAR  27       37
> >> FPAR  28       26
> >> FPAR  29       21
> >> FPAR  30       33
> >> FPAR  31       17
> >> FPAR  32       33
> >> FPAR  33       23
> >> FPAR  34       17
> >> FPAR  35       27
> >> FPAR  36       22
> >> FPAR  37       17
> >> FPAR  38       35
> >> FPAR  39       18
> >> FPAR  40       35
> >> FPAR  41       30
> >> FPAR  42       25
> >> FPAR  43       17
> >> FPAR  44       38
> >> FPAR  45       22
> >> FPAR  46       27
> >> FPAR  47       37
> >> FPAR  48       45
> >> FPAR  49       21
> >> FPAR  50       29
> >> FPAR  51       39
> >> FPAR  52       37
> >> FPAR  53       38
> >> FPAR  54       33
> >> FPAR  55       40
> >> FPAR  56       26
> >> FPAR  57       27
> >> FPAR  58       40
> >> FPAR  59       54
> >> FPAR  60       54
> >> FPAR  61       55
> >> FPAR  62       51
> >> FPAR  63       27
> >> FPAR  64       66
> >> FPAR  65       66
> >> FPAR  66       66
> >> FPAR  67       56
> >> FPAR  68       57
> >> FPAR  69       78
> >> FPAR  70       67
> >> FPAR  71       65
> >> FPAR  72       69
> >> FPAR  73       82
> >> FPAR  74       75
> >> FPAR  75       79
> >> FPAR  76      101
> >> FPAR  77       52
> >> FPAR  78       68
> >> FPAR  79       78
> >> FPAR  80       73
> >> FPAR  81       57
> >> FPAR  82       62
> >> FPAR  83       97
> >> FPAR  84      137
> >> FPAR  85      213
> >> FPAR  86      170
> >> FPAR  87      243
> >> FPAR  88      410
> >> FPAR  89     1142
> >> FPAR  90     2373
> >> FPAR  91      758
> >> FPAR  92       68
> >> FPAR  93      125
> >> FPAR  94      179
> >> FPAR  95      187
> >> FPAR  96      126
> >> FPAR  97       31
> >> FPAR  98       13
> >> FPAR  99        4
> >> 
> >> COMPOSITING LAI FREQUENCIES
> >> LAI    1       68
> >> LAI    2       53
> >> LAI    3      131
> >> LAI    4       56
> >> LAI    5      109
> >> LAI    6      114
> >> LAI    7      112
> >> LAI    8       85
> >> LAI    9       96
> >> LAI   10       98
> >> LAI   11      107
> >> LAI   12       75
> >> LAI   13       80
> >> LAI   14      104
> >> LAI   15       93
> >> LAI   16      135
> >> LAI   17       71
> >> LAI   18       95
> >> LAI   19       97
> >> LAI   20      103
> >> LAI   21      106
> >> LAI   22       90
> >> LAI   23       95
> >> LAI   24      122
> >> LAI   25       94
> >> LAI   26       66
> >> LAI   27       68
> >> LAI   28       71
> >> LAI   29       39
> >> LAI   30       53
> >> LAI   31       38
> >> LAI   32       35
> >> LAI   33       48
> >> LAI   34       50
> >> LAI   35       40
> >> LAI   36       46
> >> LAI   37       44
> >> LAI   38       59
> >> LAI   39       79
> >> LAI   40       76
> >> LAI   41       99
> >> LAI   42       66
> >> LAI   43       64
> >> LAI   44       50
> >> LAI   45       50
> >> LAI   46       71
> >> LAI   47       50
> >> LAI   48       73
> >> LAI   49      130
> >> LAI   50       89
> >> LAI   51      115
> >> LAI   52       79
> >> LAI   53      116
> >> LAI   54      160
> >> LAI   55      191
> >> LAI   56      339
> >> LAI   57      390
> >> LAI   58      272
> >> LAI   59      263
> >> LAI   60     1178
> >> LAI   61      225
> >> LAI   62      211
> >> LAI   63      273
> >> LAI   64      358
> >> LAI   65      142
> >> LAI   66      107
> >> LAI   67      449
> >> LAI   68       57
> >> LAI   69      246
> >> 
> >> COMPOSITING DAY INDEX FREQUENCIES
> >> TILE-INDEX    0 Selection Frequency:      205
> >> TILE-INDEX    1 Selection Frequency:     1166
> >> TILE-INDEX    2 Selection Frequency:      732
> >> TILE-INDEX    3 Selection Frequency:     1987
> >> TILE-INDEX    4 Selection Frequency:      524
> >> TILE-INDEX    5 Selection Frequency:      886
> >> TILE-INDEX    6 Selection Frequency:       29
> >> TILE-INDEX    7 Selection Frequency:      566
> >> TILE-INDEX    8 Selection Frequency:      469
> >> TILE-INDEX    9 Selection Frequency:      740
> >> TILE-INDEX   10 Selection Frequency:     1224
> >> TILE-INDEX   11 Selection Frequency:      343
> >> TILE-INDEX   12 Selection Frequency:      146
> >> TILE-INDEX   13 Selection Frequency:       97
> >> TILE-INDEX   14 Selection Frequency:        0
> >> TILE-INDEX   15 Selection Frequency:        0
> >> 
> >> LOCALGRANULEID [MCD15A2.A2002185.h35v10.005.2007177210333.hdf]
> >> ECS QC PERCENT N valid (demominator) : 9114.000000
> >> ECS Total Pixels       (denominator) : 1440000
> >> 
> >> QAPERCENTxx PSA BEFORE CALC
> >> QAPERCENTINTERPOLATEDDATA: 0
> >> QAPERCENTMISSINGDATA     : 1430886
> >> QAPERCENTOUTOFBOUNDSDATA : 1430886
> >> QAPERCENTCLOUDCOVER      : 487
> >> QAPERCENTNOTPRODUCEDCLOUD: 0
> >> QAPERCENTNOTPRODUCEDOTHER: 0
> >> QAPERCENTGOODQUALITY     : 8135
> >> QAPERCENTOTHERQUALITY    : 1431865
> >> QAPERCENTGOODFPAR        : 8135
> >> QAPERCENTGOODLAI         : 8135
> >> QAPERCENTMAINMETHOD      : 8135
> >> QAPERCENTEMPIRICALMODEL  : 979
> >> QAPERCENTNDAYSCOMPOSITED : 16
> >> QAPERCENTTERRA           : 5527
> >> 
> >> 
> >> QAPERCENTxx PSA AFTER CALC
> >> QAPERCENTINTERPOLATEDDATA: 0
> >> QAPERCENTMISSINGDATA     : 99
> >> QAPERCENTOUTOFBOUNDSDATA : 99
> >> QAPERCENTCLOUDCOVER      : 0
> >> QAPERCENTNOTPRODUCEDCLOUD: 0
> >> QAPERCENTNOTPRODUCEDOTHER: 0
> >> QAPERCENTGOODQUALITY     : 89
> >> QAPERCENTOTHERQUALITY    : 100
> >> QAPERCENTGOODFPAR        : 89
> >> QAPERCENTGOODLAI         : 89
> >> QAPERCENTMAINMETHOD      : 89
> >> QAPERCENTEMPIRICALMODEL  : 11
> >> QAPERCENTNDAYSCOMPOSITED : 16
> >> 
> >> 
> >> SESSION ENGINEERING SUMMARY FOR PGE34 8-day FPAR,LAI
> >> UM_VERSION U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006
> >> 23:59 Candidate Days: 16
> >> 
> >> N. invalid loads      : 0
> >> Pixels failing best day : 1430886
> >> Pixels set to fill      : 0
> >> Pixels skipped (disqual): 22915542
> >> Unclassified Pixels     : 1430886
> >> MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002185.h35v1
> >> 0.005.2007152031253.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002186.h35v1
> >> 0.005.2007152183046.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002187.h35v1
> >> 0.005.2007160174423.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002188.h35v1
> >> 0.005.2007161164154.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002189.h35v1
> >> 0.005.2007161200152.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002190.h35v1
> >> 0.005.2007162180320.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002191.h35v1
> >> 0.005.2007162214105.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MOD15A1.A2002192.h35v1
> >> 0.005.2007163022444.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002185.h35v1
> >> 0.005.2007161153557.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002186.h35v1
> >> 0.005.2007161012141.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002187.h35v1
> >> 0.005.2007161050931.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002188.h35v1
> >> 0.005.2007161122622.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002189.h35v1
> >> 0.005.2007161211830.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002190.h35v1
> >> 0.005.2007162092900.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002191.h35v1
> >> 0.005.2007162024118.hdf MOD15A1 DAILY Input:
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MYD15A1.A2002192.h35v1
> >> 0.005.2007162232536.hdf
> >> 
> >> PGE34 Output       :
> >> 
> >> /MODAPSops3/archive/f46/running/AMPM_L10/16495460/MCD15A2.1.2002-185T00:
> >> 00:00.000000Z.51035010.18515794.215230_1.hdf MOD15A2 ANCILLARY    :
> >> /MODAPSops3/PGE/AMPM/coeff/PGE34/MCD15A2_ANC_RI4.hdf
> >> 
> >> QAPERCENTxx PSA AFTER CALC
> >> QAPERCENTINTERPOLATEDDATA: 0
> >> QAPERCENTMISSINGDATA     : 99
> >> QAPERCENTOUTOFBOUNDSDATA : 99
> >> QAPERCENTCLOUDCOVER      : 0
> >> QAPERCENTTERRA          : 61
> >> QAPERCENTGOODQUALITY     : 89
> >> QAPERCENTOTHERQUALITY    : 100
> >> QAPERCENTGOODFPAR        : 89
> >> QAPERCENTGOODLAI         : 89
> >> QAPERCENTMAINMETHOD      : 89
> >> QAPERCENTEMPIRICALMODEL  : 11
> >> QAPERCENTNDAYSCOMPOSITED : 16
> >> 
> >> 
> >> Started Tue Jun 26 17:00:14 2007  Ended Tue Jun 26 17:03:33 2007
> >> Elapsed Time         199 Sec (       3.32 Min)
> >>  MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
> >> 255 = _Fillvalue, assigned when:
> >>    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
> >> its _Fillvalue, or
> >>    * land cover pixel itself was assigned _Fillvalus 255 or 254.
> >> 254 = land cover assigned as perennial salt or inland fresh water.
> >> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
> >> desert.)
> >> 252 = land cover assigned as perennial snow, ice.
> >> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
> >> 250 = land cover assigned as urban/built-up.
> >> 249 = land cover assigned as "unclassified" or not able to determine.
> >> 
> >>  MOD15A2_FparLai_QC_DOC=
> >> FparLai_QC 5 BITFIELDS IN 8 BITWORD
> >> MODLAND_QC START 0 END 0 VALIDS 2
> >> MODLAND_QC   0 = Good Quality (main algorithm with or without
> >> saturation) MODLAND_QC   1 = Other Quality (back-up algorithm or fill
> >> value) SENSOR START 1 END 1 VALIDS 2
> >> SENSOR       0  = Terra
> >> SENSOR       1  = Aqua
> >> DEADDETECTOR START 2 END 2 VALIDS 2
> >> DEADDETECTOR 0 = Detectors apparently fine for up to 50% of channels 1,2
> >> DEADDETECTOR 1 = Dead detectors caused >50% adjacent detector retrieval
> >> CLOUDSTATE START 3 END 4 VALIDS 4 (this inherited from Aggregate_QC
> >> bits {0,1} cloud state)
> >> CLOUDSTATE   00 = 0 Significant clouds NOT present (clear)
> >> CLOUDSTATE   01 = 1 Significant clouds WERE present
> >> CLOUDSTATE   10 = 2 Mixed cloud present on pixel
> >> CLOUDSTATE   11 = 3 Cloud state not defined,assumed clear
> >> SCF_QC START 5 END 7 VALIDS 5
> >> SCF_QC       000=0 Main (RT) algorithm used, best result possible (no
> >> saturation)
> >> SCF_QC       001=1 Main (RT) algorithm used, saturation occured. Good,
> >> very usable.
> >> SCF_QC       010=2 Main algorithm failed due to bad geometry,
> >> empirical algorithm used
> >> SCF_QC       011=3 Main algorithm faild due to problems other than
> >> geometry, empirical algorithm used
> >> SCF_QC       100=4 Pixel not produced at all, value coudn't be
> >> retrieved (possible reasons: bad L1B data, unusable MODAGAGG data)
> >> 
> >>  MOD15A2_FparExtra_QC_DOC=
> >> FparExtra_QC 6 BITFIELDS IN 8 BITWORD
> >> LANDSEA PASS-THROUGH START 0 END 1 VALIDS 4
> >> LANDSEA   00 = 0 LAND       AggrQC(3,5)values{001}
> >> LANDSEA   01 = 1 SHORE      AggrQC(3,5)values{000,010,100}
> >> LANDSEA   10 = 2 FRESHWATER AggrQC(3,5)values{011,101}
> >> LANDSEA   11 = 3 OCEAN      AggrQC(3,5)values{110,111}
> >> SNOW_ICE (from Aggregate_QC bits) START 2 END 2 VALIDS 2
> >> SNOW_ICE  0 = No snow/ice detected
> >> SNOW_ICE  1 = Snow/ice were detected
> >> AEROSOL START 3 END 3 VALIDS 2
> >> AEROSOL   0 = No or low atmospheric aerosol levels detected
> >> AEROSOL   1 = Average or high aerosol levels detected
> >> CIRRUS (from Aggregate_QC bits {8,9} ) START 4 END 4 VALIDS 2
> >> CIRRUS    0 = No cirrus detected
> >> CIRRUS    1 = Cirrus was detected
> >> INTERNAL_CLOUD_MASK START 5 END 5 VALIDS 2
> >> INTERNAL_CLOUD_MASK 0 = No clouds
> >> INTERNAL_CLOUD_MASK 1 = Clouds were detected
> >> CLOUD_SHADOW START 6 END 6 VALIDS 2
> >> CLOUD_SHADOW        0 = No cloud shadow detected
> >> CLOUD_SHADOW        1 = Cloud shadow detected
> >> SCF_BIOME_MASK START 7 END 7 VALIDS 2
> >> SCF_BIOME_MASK  0 = Biome outside interval <1,4>
> >> SCF_BIOME_MASK  1 = Biome in interval <1,4>
> >> 
> >>  MOD15A2_StdDev_QC_DOC=MOD15A2 STANDARD DEVIATION FILL VALUE LEGEND
> >> 255 = _Fillvalue, assigned when:
> >>    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
> >> its _Fillvalue, or
> >>    * land cover pixel itself was assigned _Fillvalus 255 or 254.
> >> 254 = land cover assigned as perennial salt or inland fresh water.
> >> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
> >> desert.)
> >> 252 = land cover assigned as perennial snow, ice.
> >> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
> >> 250 = land cover assigned as urban/built-up.
> >> 249 = land cover assigned as "unclassified" or not able to determine.
> >> 248 = no standard deviation available, pixel produced using backup
> >> method.
> >> 
> >>  MOD15A1_ANC_BUILD_CERT=mtAncUtil v. 1.8 Rel. 09.11.2000 17:36 API v.
> >> 2.5.6 release 09.14.2000 16:33 Rev.Index 102 (J.Glassy)
> >> 
> >>  UM_VERSION=U.MONTANA MODIS PGE34 Vers 5.0.4 Rev 4 Release 10.18.2006
> >> 23:59
> >>  scale_factor=0.1
> >>  scale_factor_err=0
> >>  add_offset=0
> >>  add_offset_err=0
> >>  calibrated_nt=21
> >>  valid_range=0, 100
> >>  _FillValue=255
> >>  long_name=MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index LAI
> >> (8-day composite)
> >>  units=m^2/m^2
> >>  MOD15A2_FILLVALUE_DOC=MOD15A2 FILL VALUE LEGEND
> >> 255 = _Fillvalue, assigned when:
> >>    * the MODAGAGG suf. reflectance for channel VIS, NIR was assigned
> >> its _Fillvalue, or
> >>    * land cover pixel itself was assigned _Fillvalus 255 or 254.
> >> 254 = land cover assigned as perennial salt or inland fresh water.
> >> 253 = land cover assigned as barren, sparse vegetation (rock, tundra,
> >> desert.)
> >> 252 = land cover assigned as perennial snow, ice.
> >> 251 = land cover assigned as "permanent" wetlands/inundated marshlands.
> >> 250 = land cover assigned as urban/built-up.
> >> 249 = land cover assigned as "unclassified" or not able to determine.
> >> 
> >> Corner Coordinates:
> >> Upper Left  (18903158.834,-1111950.520) (172d37'21.09"E, 10d 0' 0.00"S)
> >> Lower Left  (18903158.834,-2223901.039) (179d 5'23.20"W, 20d 0' 0.00"S)
> >> Upper Right (20015109.354,-1111950.520) (177d13'23.56"W, 10d 0' 0.00"S)
> >> Lower Right (20015109.354,-2223901.039) (168d26'52.80"W, 20d 0' 0.00"S)
> >> Center      (19459134.094,-1667925.779) (178d49'36.01"W, 15d 0' 0.00"S)
> >> Band 1 Block=1200x100 Type=Byte, ColorInterp=Gray
> >>  Description = MCD15A2 MODIS/Terra+Aqua Gridded 1KM Leaf Area Index
> >> LAI (8-day composite)
> >>  NoData Value=255
> >>  Unit Type: m^2/m^2
> >>  Offset: 0,   Scale:0.1
> >> 
> >> 
> >> --
> >> Jonathan A. Greenberg, PhD
> >> Assistant Project Scientist
> >> Center for Spatial Technologies and Remote Sensing (CSTARS)
> >> Department of Land, Air and Water Resources
> >> University of California, Davis
> >> One Shields Avenue
> >> Davis, CA 95616
> >> Phone: 415-763-5476
> >> AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From warmerdam at pobox.com  Wed May 11 15:07:34 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 12 01:52:26 2011
Subject: [gdal-dev] Motion: Adopt RFC 35: Delete, reorder and alter field
	definitions of OGR layers
In-Reply-To: <4DCAA00D.3080907@mapgears.com>
References: <1305101452.4dca448cad05c@webmail.free.fr>
	<4DCAA00D.3080907@mapgears.com>
Message-ID: <4DCADE76.7010206@pobox.com>

On 11-05-11 10:41 AM, Daniel Morissette wrote:
> On 11-05-11 04:10 AM, Even Rouault wrote:
>> Hi,
>>
>> Motion: I move to adopt RFC 35: Delete, reorder and alter field definitions of
>> OGR layers.
>>
>> http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn

+1 Frank

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From szekerest at gmail.com  Wed May 11 15:08:48 2011
From: szekerest at gmail.com (Tamas Szekeres)
Date: Thu May 12 01:53:42 2011
Subject: [gdal-dev] Motion: Adopt RFC 35: Delete, reorder and alter field
	definitions of OGR layers
In-Reply-To: <1305101452.4dca448cad05c@webmail.free.fr>
References: <1305101452.4dca448cad05c@webmail.free.fr>
Message-ID: <BANLkTikqBOzXrgtnnhpUVXPYEm1UyidLGg@mail.gmail.com>

+1

Tamas



2011/5/11 Even Rouault <even.rouault@mines-paris.org>

> Hi,
>
> Motion: I move to adopt RFC 35: Delete, reorder and alter field definitions
> of
> OGR layers.
>
>    http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn
>
> Starting with my +1
>
> Best regards,
>
> Even
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110511/028ee552/attachment.html
From antonio.valentino at tiscali.it  Wed May 11 15:05:47 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Thu May 12 01:56:10 2011
Subject: [gdal-dev] VRT Derived Bands from Python?
In-Reply-To: <201105112008.23419.even.rouault@mines-paris.org>
References: <iqdmbj$4bi$1@dough.gmane.org>
	<201105112008.23419.even.rouault@mines-paris.org>
Message-ID: <4DCADE0B.7020805@tiscali.it>

Hi Even, hi Knut-Frode,

Il 11/05/2011 20:08, Even Rouault ha scritto:
> Le mercredi 11 mai 2011 11:53:55, Knut-Frode Dagestad a ?crit :
>> Hi,
>>
>> Derived Bands of the VRT format seems like a very powerful resource.
>>  From the tutorial (http://www.gdal.org/gdal_vrttut.html) it is clear
>> that the Pixel Functions themselves have to be written in C, which is
>> probably anyway best for performance.
>> I also get the impression that the corresponding VRT files with Derived
>> Bands can only be used by applications written in C/C++, since the Pixel
>> Functions are only available inside the scope of such an application
>> program:
>> http://gis.stackexchange.com/questions/2940/gdal-pixel-functions-question
>>
>> Does this mean that Pixel Functions can not be used by command line
>> utilities (e.g. gdalwarp and gdal_translate) or from Python?
> 
> The quick answer is : you can't use VRTDerivedBand from command line
> utilities or Python.
> 
> The long answer is : but of course, as often in situations where you can't, 
> you can... Provided you have a C compiler handy, the workaround here is to 
> benefit from the GDAL plugin mechanism for other purposes than writing a GDAL 
> driver.
> 
> Create a gdalmypixelfunction.c whose content is :
> 
> #include "gdal.h"
> 
> CPLErr MyFunction(void **papoSources, int nSources, void *pData,
>                     int nXSize, int nYSize,
>                     GDALDataType eSrcType, GDALDataType eBufType,
>                     int nPixelSpace, int nLineSpace)
> {
>    /* implementation to write here */
> }
> 
> void GDALRegisterMe() /* this is the entry point. don't change this name */
> {
>     GDALAddDerivedBandPixelFunc("MyFunction", MyFunction);
> }
> 
> Compile it as a shared library, called gdal_XXXXXXXX.so (or .dll on
> windows), define GDAL_DRIVER_PATH to point to the directory of the shared
> library, et voil? ! The library will be loaded at runtime when the utilities 
> or the python bindings call the GDALRegisterAll() method and the pixel 
> function will be available to the VRT driver.

This is exactly the solution I'm currently using and I con confirm that
it works perfectly both on linux and windows.

I wrote a little plugin to register pixel functions attached to #3367
[1] (together with other more specific for my application domain) and
now both command line tools and python scripts can use pixel functions.

The only limitation is that there is no way, as far as I know, to write
a VRT file with a VRTDerivedRasterBand using the GDAL Python API.

While I can set the Band subClass at band creation time as follows:

ds.AddBand(gdal.GDT_Float32, ['subClass=VRTDerivedRasterBand'])

I was not able to find a way to set the PixelFunctionType and the
SourceTransferType parameters using the GDAL Python API.
As a workaround I write the VRT to disk and then I perform direct XML
manipulations via xml.etree (from the python standard lib).

Do I miss something?

It would be very nice to be able to set PixelFunctionType and
SourceTransferType asadditional creation options.


[1] http://trac.osgeo.org/gdal/ticket/3367

Best regards

-- 
Antonio Valentino
From bontepaarden at gmail.com  Wed May 11 17:11:08 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu May 12 04:03:05 2011
Subject: [gdal-dev] [Projections] EPSG, proj.4, .prj files
In-Reply-To: <201105112035.57167.even.rouault@mines-paris.org>
References: <BANLkTi=_Kp=kfDpz0fuS31=7x0qgX4A+kQ@mail.gmail.com>
	<201105112035.57167.even.rouault@mines-paris.org>
Message-ID: <BANLkTim1KAOEZyAAvmne-1XRJpdpx9kGcA@mail.gmail.com>

Thanks Even,

The method importFromEPSG() and the EPSG file look like what I'm looking
for.
I'll investigate it further.

Thanks,

Paul


*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*


2011/5/11 Even Rouault <even.rouault@mines-paris.org>

> Le mercredi 11 mai 2011 20:20:51, Paul Meems a ?crit :
> > Hi List,
> >
> > We use GDAL with Proj.4 in MapWindow GIS.
> > We're currently in the process of upgrading to GDAL v1.8
> >
> > We have some issues with projections in MapWindow.
> > We partially us GDAL methods and partially our custom ones.
> > We also are more and more working with EPSG codes with WMS and WFS. So we
> > need to handle them as well.
> >
> > I've seen a discussion about this 2 or 3 weeks ago and my question
> > partially overlaps.
> > As I understand it, it is not possible do use GDAL/Proj.4 to input a EPSG
> > code and get the prj-file or projection string back, right?
>
> If I were you, I would look at the importFromEPSG() and exportToProj4() /
> exportToWkt() methods of OGRSpatialReference ....
>
> > And the same is for the other way round: get the EPSG code when the input
> > is a projection string.
>
> Generally not, unless there's a AUTHORITY node in the WKT. There's also a
> OGRSpatialReference::AutoIdentifyEPSG() method, but it will work only in a
> few
> cases. Have a look at its implementation to know which ones.
>
> One possibility to identify the EPSG code is to iterate over all the EPSG
> code
> and get their proj4 representation, and compare that to the proj4
> representation of your projection string. But that's not a perfect solution
> and I'm not sure there's a perfect solution. The proj4 representation isn't
> a
> bijection of the WKT representation.
>
> >
> > But we do want this. Is some sort of offline database or XML file
> available
> > that will show the EPSG codes with the accompanying prj-file text and
> > projection string?
>
> Are you looking for the "epsg" file from the proj.4 distribution... ?
> http://trac.osgeo.org/proj/browser/trunk/proj/nad/epsg
>
> Illustrating my point in previous paragraph :
>
> # CHTRF95
> <4151> +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs  <>
> # NAD83(HARN)
> <4152> +proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs  <>
>
> 2 EPSG codes, same PROJ.4 representation
>
> >
> > Or am I thinking in the wrong direction?
> >
> > Thanks,
> >
> > Paul
> >
> >
> > *Paul Meems *
> > Release manager, configuration manager
> > and forum moderator of MapWindow GIS.
> > www.mapwindow.org
> >
> > Owner of MapWindow.nl - Support for
> > Dutch speaking users.
> > www.mapwindow.nl
> >
> > *
> > *
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110511/3d63d2c0/attachment.html
From forkandwait at gmail.com  Fri May 13 00:04:37 2011
From: forkandwait at gmail.com (fork)
Date: Fri May 13 12:37:16 2011
Subject: [gdal-dev] Reprojection troubles
Message-ID: <BANLkTi=WjEw6bggXU3ZDTtJs9z=Bt_xeqQ@mail.gmail.com>

Hi all,

I am trying to get a reprojected image to jive with a geometry stored
in PostGIS, but
they won't overlay correctly, probably because I have done something
either newbie-ish
or just plain dumb.  So now I am asking for help...

Basically, I want the tif with the corresponding .tfw here

$ cat foo.tfw
10.7549933722
0.0000000000
0.0000000000
-10.7549933722
358128.5398801235
272675.6998673787

to more or less match the bbox here:

tiger2010=# select getbbox (the_geom) from annexpoly;
                      getbbox
----------------------------------------------------
 BOX(1206737.375 866782.5625,1234465.5 882399.875)
 BOX(1204461.875 864485.6875,1234562.5 882414.6875)

But it doesnt, at all.

More background:

I started with a NAIP image, cut a tiff out with GeoViewer, and ran
gdalwarp like so:

$ gdalwarp -s_srs ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.prj -t_srs
ESRI::spwasth.prj -co "TFW=YES"
ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.tif foo.tif


Here is the .prj for target projection:
$ cat spwasth.prj (from spatialreference.org)
PROJCS["NAD_1983_HARN_StatePlane_Washington_South_FIPS_4602",GEOGCS["GCS_North_American_1983_HARN",DATUM["D_North_American_1983_HARN",SPHEROID["GRS_1980",6378137,298.257222101]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Lambert_Conformal_Conic"],PARAMETER["False_Easting",500000],PARAMETER["False_Northing",0],PARAMETER["Central_Meridian",-120.5],PARAMETER["Standard_Parallel_1",45.83333333333334],PARAMETER["Standard_Parallel_2",47.33333333333334],PARAMETER["Latitude_Of_Origin",45.33333333333334],UNIT["Meter",1]]


and here is the prj for the source projection (from USDA in their zip bundle):
$ cat ortho_imagery/ortho_1-1_1n_s_wa033_2009_1.prj
PROJCS["NAD_1983_UTM_Zone_10N",GEOGCS["GCS_North_American_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137,298.257222101]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]],PROJECTION["Transverse_Mercator"],PARAMETER["False_Easting",500000],PARAMETER["False_Northing",0],PARAMETER["Central_Meridian",-123],PARAMETER["Scale_Factor",0.9996],PARAMETER["Latitude_Of_Origin",0],UNIT["Meter",1]]


Here is some stuff in the postgis db of possible interest:

tiger2010=# select f_table_name, srid from geometry_columns where
f_table_name = 'annexpoly';
 f_table_name |  srid
--------------+---------
 foopoly    | 9102349
(1 row)

tiger2010=# select * from spatial_ref_sys where srid = 9102349;

srid | 9102349 auth_name | esri auth_srid | 102349 srtext |
PROJCS["NAD_1983_HARN_StatePlane_Washington_South_FIPS_4602",GEOGCS["GCS_North_American_1983_HARN",DATUM["NAD
83_High_Accuracy_Regional_Network",SPHEROID["GRS_1980",6378137,298.257222101]],PRIMEM["Greenwich",0],UNIT["Degree",0.0174
53292519943295]],PROJECTION["Lambert_Conformal_Conic_2SP"],PARAMETER["False_Easting",500000],PARAMETER["False_Northing",0],PARAMETER["Central_Meridian",-120.5],PARAMETER["Standard_Parallel_1",45.83333333333334],PARAMETER["Standard_Parallel_2"
,47.33333333333334],PARAMETER["Latitude_Of_Origin",45.33333333333334],UNIT["Meter",1],AUTHORITY["EPSG","102349"]]
proj4text | +proj=lcc +lat_1=45.83333333333334 +lat_2=47.33333333333334
+lat_0=45.33333333333334 +lon_0=-120.5 +x_0=50000 0 +y_0=0 +ellps=GRS80 +units=m
+no_defs


Could anyone debug my problem for me (*wink*)?  I have looked at the
overlay in both QGIS and ESRI, and can't get it to jive and can't
figure out how or why....

Thanks in advance for any pointers!
-- 
Asking a question on a newsgroup?? Read this first:
http://www.catb.org/~esr/faqs/smart-questions.html
From knutfrodesoppel at hotmail.com  Fri May 13 04:37:25 2011
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Fri May 13 17:25:34 2011
Subject: [gdal-dev] Re: VRT Derived Bands from Python?
In-Reply-To: <4DCADE0B.7020805@tiscali.it>
References: <iqdmbj$4bi$1@dough.gmane.org>	<201105112008.23419.even.rouault@mines-paris.org>
	<4DCADE0B.7020805@tiscali.it>
Message-ID: <4DCCEDC5.6010001@hotmail.com>

Hi Even and Antonio,

Thank you Even for explaining how to make the impossible possible!
I will explore this option.

The suggestion of Antonio to include a default set of PixelFunctions is 
an excellent idea, as it lowers the threshold for newcomers, like me. 
The proposed standard functions (#3367) should also serve many basic 
needs, and in fact, most of mine.
On the other hand, I do not see any apparent limitation to how 
sophisticated the PixelFunctions can be. I am not sure if it is a good 
idea, but I consider the option to put in relatively complex algorithms 
with loops, iterations and inversions. I.e. things that are better done 
in C than in Python.

Best regards from Knut-Frode



On 11/05/2011 21:05, Antonio Valentino wrote:
> Hi Even, hi Knut-Frode,
>
> Il 11/05/2011 20:08, Even Rouault ha scritto:
>> Le mercredi 11 mai 2011 11:53:55, Knut-Frode Dagestad a ?crit :
>>> Hi,
>>>
>>> Derived Bands of the VRT format seems like a very powerful resource.
>>>   From the tutorial (http://www.gdal.org/gdal_vrttut.html) it is clear
>>> that the Pixel Functions themselves have to be written in C, which is
>>> probably anyway best for performance.
>>> I also get the impression that the corresponding VRT files with Derived
>>> Bands can only be used by applications written in C/C++, since the Pixel
>>> Functions are only available inside the scope of such an application
>>> program:
>>> http://gis.stackexchange.com/questions/2940/gdal-pixel-functions-question
>>>
>>> Does this mean that Pixel Functions can not be used by command line
>>> utilities (e.g. gdalwarp and gdal_translate) or from Python?
>>
>> The quick answer is : you can't use VRTDerivedBand from command line
>> utilities or Python.
>>
>> The long answer is : but of course, as often in situations where you can't,
>> you can... Provided you have a C compiler handy, the workaround here is to
>> benefit from the GDAL plugin mechanism for other purposes than writing a GDAL
>> driver.
>>
>> Create a gdalmypixelfunction.c whose content is :
>>
>> #include "gdal.h"
>>
>> CPLErr MyFunction(void **papoSources, int nSources, void *pData,
>>                      int nXSize, int nYSize,
>>                      GDALDataType eSrcType, GDALDataType eBufType,
>>                      int nPixelSpace, int nLineSpace)
>> {
>>     /* implementation to write here */
>> }
>>
>> void GDALRegisterMe() /* this is the entry point. don't change this name */
>> {
>>      GDALAddDerivedBandPixelFunc("MyFunction", MyFunction);
>> }
>>
>> Compile it as a shared library, called gdal_XXXXXXXX.so (or .dll on
>> windows), define GDAL_DRIVER_PATH to point to the directory of the shared
>> library, et voil? ! The library will be loaded at runtime when the utilities
>> or the python bindings call the GDALRegisterAll() method and the pixel
>> function will be available to the VRT driver.
>
> This is exactly the solution I'm currently using and I con confirm that
> it works perfectly both on linux and windows.
>
> I wrote a little plugin to register pixel functions attached to #3367
> [1] (together with other more specific for my application domain) and
> now both command line tools and python scripts can use pixel functions.
>
> The only limitation is that there is no way, as far as I know, to write
> a VRT file with a VRTDerivedRasterBand using the GDAL Python API.
>
> While I can set the Band subClass at band creation time as follows:
>
> ds.AddBand(gdal.GDT_Float32, ['subClass=VRTDerivedRasterBand'])
>
> I was not able to find a way to set the PixelFunctionType and the
> SourceTransferType parameters using the GDAL Python API.
> As a workaround I write the VRT to disk and then I perform direct XML
> manipulations via xml.etree (from the python standard lib).
>
> Do I miss something?
>
> It would be very nice to be able to set PixelFunctionType and
> SourceTransferType asadditional creation options.
>
>
> [1] http://trac.osgeo.org/gdal/ticket/3367
>
> Best regards
>


From oyvind.idland at gmail.com  Fri May 13 05:27:48 2011
From: oyvind.idland at gmail.com (Oyvind Idland)
Date: Fri May 13 18:18:29 2011
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
Message-ID: <BANLkTi=AsxtR8pDp=wB6dCVPYNn5TasPVw@mail.gmail.com>

Hi,

I just updated to 1.8.0 from 1.7, using the MrSid DSDK 8.0.

In order to handle transparency, i have until now used the metadata values
from "IMAGE__NO_DATA_VALUE",
and simply masked away pixels.

After upgrading, the IMAGE__NO_DATA_VALUE yields nothing, neither is it
listed when using gdalinfo.

The band->GetNoDataValue() doesn't give me any hints either.

Should I handle this in a different way ?


-- Oyvind
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110513/ac9f53cc/attachment.html
From antonio.valentino at tiscali.it  Fri May 13 06:07:25 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Fri May 13 19:07:21 2011
Subject: [gdal-dev] Re: VRT Derived Bands from Python?
In-Reply-To: <4DCCEDC5.6010001@hotmail.com>
References: <iqdmbj$4bi$1@dough.gmane.org>
	<201105112008.23419.even.rouault@mines-paris.org>
	<4DCADE0B.7020805@tiscali.it> <4DCCEDC5.6010001@hotmail.com>
Message-ID: <20110513120725.44df8808@asigrid01>

Hi Knut-Frode,

Il giorno Fri, 13 May 2011 10:37:25 +0200
Knut-Frode Dagestad <knutfrodesoppel@hotmail.com> ha scritto:

> Hi Even and Antonio,
> 
> Thank you Even for explaining how to make the impossible possible!
> I will explore this option.
>

If you think it is useful I can attach the fake-driver code to the
#3367.
 
>
> The suggestion of Antonio to include a default set of PixelFunctions
> is an excellent idea, as it lowers the threshold for newcomers, like
> me. The proposed standard functions (#3367) should also serve many
> basic needs, and in fact, most of mine.

A relevant thread about this topic is 

http://lists.osgeo.org/pipermail/gdal-dev/2010-January/023262.html
http://lists.osgeo.org/pipermail/gdal-dev/2010-February/023336.html

but probably you have already read it.

It would be interesting to know which function you would like to be
added to the base set.
In the above mentioned thread a user asked for a "abs(a-b)"
pixel-function. Maybe there are other function it worths adding the
basic set.


> On the other hand, I do not see any apparent limitation to how 
> sophisticated the PixelFunctions can be. I am not sure if it is a
> good idea, but I consider the option to put in relatively complex
> algorithms with loops, iterations and inversions. I.e. things that
> are better done in C than in Python.

IMHO the main limitation is the impossibility to pass additional
parameters for pixel functions, see

http://lists.osgeo.org/pipermail/gdal-dev/2009-July/021137.html


Finally I think it would be very nice to have a function like

http://www.pytables.org/docs/manual/ch04.html#ExprClassDescr

in the GDAL python API and/or connected to the VRT format.

Basically PyTables provides a general purpose expression evaluator
that is disk aware and very efficient (using optimized and
threaded numexpr kernels).

Best regards

-- 
Antonio Valentino
From jorge.arevalo at deimos-space.com  Fri May 13 06:51:00 2011
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Fri May 13 19:46:37 2011
Subject: [gdal-dev] GDALPolygonize using float buffers
Message-ID: <BANLkTinYxY43i=oCzMrQkfpMkxSbcw_m1w@mail.gmail.com>

Hello,

Is there any reason to limit the GDALPolygonize function to read data
in int32 buffers, instead of using 32b float or even 64b double ones?
As I stated in ticket #4005 (http://trac.osgeo.org/gdal/ticket/4005),
I want to code an alternative version using these kind of buffers. But
I don't know if I'm missing something.

Best regards,

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://es.linkedin.com/in/jorgearevalo80
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
http://geohash.org/ezjqgrgzz0g
From warmerdam at pobox.com  Fri May 13 10:00:16 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May 13 23:05:53 2011
Subject: [gdal-dev] GDALPolygonize using float buffers
In-Reply-To: <BANLkTinYxY43i=oCzMrQkfpMkxSbcw_m1w@mail.gmail.com>
References: <BANLkTinYxY43i=oCzMrQkfpMkxSbcw_m1w@mail.gmail.com>
Message-ID: <4DCD3970.4070408@pobox.com>

On 11-05-13 06:51 AM, Jorge Ar?valo wrote:
> Hello,
>
> Is there any reason to limit the GDALPolygonize function to read data
> in int32 buffers, instead of using 32b float or even 64b double ones?
> As I stated in ticket #4005 (http://trac.osgeo.org/gdal/ticket/4005),
> I want to code an alternative version using these kind of buffers. But
> I don't know if I'm missing something.

Jorge,

There are no *compelling* reasons to limit polygonization to integer
data, but once you get into floating point data lots of questions do
arise about value comparisons will be done - will it be a "within
epsilon" sort of test or are you looking for exact floating point matches?

If a floating point option is available, I think there will still need to
be a version of the algorithm operating on integer buffers to avoid
problems representing some integer values in floating point and potentially
more expensive comparisons.

That said, I'm ok with extending the function to support floating point
bands.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kmckelvey at lizardtech.com  Fri May 13 10:08:48 2011
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Fri May 13 23:15:01 2011
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
In-Reply-To: <BANLkTi=AsxtR8pDp=wB6dCVPYNn5TasPVw@mail.gmail.com>
References: <BANLkTi=AsxtR8pDp=wB6dCVPYNn5TasPVw@mail.gmail.com>
Message-ID: <C55473998E248B4DAEC5342D698DFE85011493CCC5@sea-srv-mail.lizardtech.com>

Is this with MG3 or MG4 files?  MG4 uses an alpha channel instead of nodata, so what you describe would be expected in that case.

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Oyvind Idland
Sent: vendredi 13 mai 2011 04:28
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values

Hi,

I just updated to 1.8.0 from 1.7, using the MrSid DSDK 8.0.

In order to handle transparency, i have until now used the metadata values from "IMAGE__NO_DATA_VALUE",
and simply masked away pixels.

After upgrading, the IMAGE__NO_DATA_VALUE yields nothing, neither is it listed when using gdalinfo.

The band->GetNoDataValue() doesn't give me any hints either.

Should I handle this in a different way ?


-- Oyvind
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110513/8cf67cdd/attachment-0001.html
From antonio.rocha at deimos.com.pt  Fri May 13 11:00:36 2011
From: antonio.rocha at deimos.com.pt (=?ISO-8859-1?Q?Ant=F3nio_Rocha?=)
Date: Sat May 14 00:16:39 2011
Subject: [gdal-dev] Using gdal to generate thumbnails
Message-ID: <4DCD4794.9080101@deimos.com.pt>

Greetings
I have a couple of Gtif Images and I want to create thumbnails. Is it 
possible to do that with GDAL?
Thanks
Antonio


__________ Information from ESET NOD32 Antivirus, version of virus signature database 6119 (20110513) __________

The message was checked by ESET NOD32 Antivirus.

http://www.eset.com


From chaitanya.ch at gmail.com  Fri May 13 11:53:00 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat May 14 01:04:41 2011
Subject: [gdal-dev] Using gdal to generate thumbnails
In-Reply-To: <4DCD4794.9080101@deimos.com.pt>
References: <4DCD4794.9080101@deimos.com.pt>
Message-ID: <BANLkTimYtxwbs1m2RY8dQ3H9pBpY7JVCng@mail.gmail.com>

Ant?nio,

You can use the gdal_translate utility with the -outsize option. But you may
require the original dimensions to maintain the aspect ratio. You can grab
the dimensions from the output from the gdalinfo utility.

http://www.gdal.org/gdalinfo.html
http://www.gdal.org/gdal_translate.html

2011/5/13 Ant?nio Rocha <antonio.rocha@deimos.com.pt>

> Greetings
> I have a couple of Gtif Images and I want to create thumbnails. Is it
> possible to do that with GDAL?
> Thanks
> Antonio
>
>
> __________ Information from ESET NOD32 Antivirus, version of virus
> signature database 6119 (20110513) __________
>
> The message was checked by ESET NOD32 Antivirus.
>
> http://www.eset.com
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110513/e0506668/attachment.html
From even.rouault at mines-paris.org  Fri May 13 12:55:43 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 14 02:09:01 2011
Subject: [gdal-dev] Motion: Adopt RFC 35: Delete,
	reorder and alter field definitions of OGR layers
In-Reply-To: <1305101452.4dca448cad05c@webmail.free.fr>
References: <1305101452.4dca448cad05c@webmail.free.fr>
Message-ID: <201105131855.43351.even.rouault@mines-paris.org>

Le mercredi 11 mai 2011 10:10:52, Even Rouault a ?crit :
> Hi,
> 
> Motion: I move to adopt RFC 35: Delete, reorder and alter field definitions
> of OGR layers.
> 
>     http://trac.osgeo.org/gdal/wiki/rfc35_deletereorderalterfielddefn

Hi,

I declare this motion passed with support (+1) from FrankW, TamasS, EvenR, 
DanielM and HowardB.

I will proceed to commit the work into trunk. I'll need Frank's help to 
upstream the shapelib's bits that I have isolated in 
http://trac.osgeo.org/gdal/attachment/ticket/2671/shapelib_rfc35.patch . It 
contains the implementation of DBFReorderFields() and DBFAlterFieldDefn(), 2 
fixes in DBFDeleteField() and a bit of minor factorisation to get the null 
character depending on the field type, so that it can be reused by 
DBFAlterFieldDefn().

Thanks.

Best regards,

Even
From knutfrodesoppel at hotmail.com  Fri May 13 12:59:14 2011
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Sat May 14 02:14:52 2011
Subject: [gdal-dev] Re: VRT Derived Bands from Python?
In-Reply-To: <20110513120725.44df8808@asigrid01>
References: <iqdmbj$4bi$1@dough.gmane.org>	<201105112008.23419.even.rouault@mines-paris.org>	<4DCADE0B.7020805@tiscali.it>
	<4DCCEDC5.6010001@hotmail.com> <20110513120725.44df8808@asigrid01>
Message-ID: <iqjo12$h2t$1@dough.gmane.org>

On 13/05/2011 12:07, Antonio Valentino wrote:

> If you think it is useful I can attach the fake-driver code to the
> #3367.

Thank you, that would be useful.

In the meantime I have tested this approach, nearly successful:
I copied one of your pixel-functions from #3367 and made a dynamic 
library file with:

gcc -fPIC -c gdal_nerscpixelfun.c
gcc -shared -lgdal -o gdal_nerscpixelfun.so gdal_nerscpixelfun.o

and then set GDAL_DRIVER_PATH to point to this folder.

However, at GDAL startup I get the following error:
ERROR 1: dlsym(0x100e095f0, _GDALRegister_nerscpixelfun): symbol not found

Any ideas what is wrong? OS is Mac OS X 10.6.7. I am not a C expert.

Best regards from Knut-Frode

From even.rouault at mines-paris.org  Fri May 13 13:07:31 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 14 02:21:30 2011
Subject: [gdal-dev] Re: VRT Derived Bands from Python?
In-Reply-To: <iqjo12$h2t$1@dough.gmane.org>
References: <iqdmbj$4bi$1@dough.gmane.org> <20110513120725.44df8808@asigrid01>
	<iqjo12$h2t$1@dough.gmane.org>
Message-ID: <201105131907.31965.even.rouault@mines-paris.org>

Le vendredi 13 mai 2011 18:59:14, Knut-Frode Dagestad a ?crit :
> On 13/05/2011 12:07, Antonio Valentino wrote:
> > If you think it is useful I can attach the fake-driver code to the
> > #3367.
> 
> Thank you, that would be useful.
> 
> In the meantime I have tested this approach, nearly successful:
> I copied one of your pixel-functions from #3367 and made a dynamic
> library file with:
> 
> gcc -fPIC -c gdal_nerscpixelfun.c
> gcc -shared -lgdal -o gdal_nerscpixelfun.so gdal_nerscpixelfun.o
> 
> and then set GDAL_DRIVER_PATH to point to this folder.
> 
> However, at GDAL startup I get the following error:
> ERROR 1: dlsym(0x100e095f0, _GDALRegister_nerscpixelfun): symbol not found

I had also a similar error on Linux, but it worked despite the error. I have 
pushed a fix in trunk to silent that error. You can try to add a printf() 
statement in your GDALRegisterMe function to check if it is loaded correctly.

Explanation : GDAL tries to load first a symbol called GDALRegister_xxxxx when 
the .so is called gdal_xxxxxx.so/dll, and if not present it then tries 
GDALRegisterMe. There's no point emitting an error if GDALRegister_xxxxx is 
not found, but GDALRegisterMe is found. See 
http://trac.osgeo.org/gdal/changeset/22359

I'm not a MacOSX user, but I believe that on the Mac, shared libraries have to 
be suffixed by .dylib instead of .so. That might explain your error if it 
doesn't work.

> 
> Any ideas what is wrong? OS is Mac OS X 10.6.7. I am not a C expert.
> 
> Best regards from Knut-Frode
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From supercooper at gmail.com  Fri May 13 13:13:32 2011
From: supercooper at gmail.com (supercooper)
Date: Sat May 14 02:29:52 2011
Subject: [gdal-dev] Translating ArcInfo binary grid to USGS .dem in C# via
	GDAL
Message-ID: <1305306812984-6360189.post@n2.nabble.com>

For transparency's sake, I posted this to gis.stackexchange
(http://gis.stackexchange.com/questions/9609/translating-grid-to-usgs-dem-in-c-via-gdal),
but haven't heard anything that really helps, so I thought this might be a
better place to seek help.

I am attempting to translate ArcInfo binary grids to USGS DEM format (.dem)
for input into VUE Infinite, a 3D visualization program. I am *very* new to
GDAL, and I have installed the GDAL .NET bindings thru a
(http://vbkto.dyndns.org/sdk/PackageList.aspx?file=release-1500-gdal-1-8-0-mapserver-5-6-6.zip)
build installer. I can get to GDAL in my C# solution I am working on.
However, it seems that I cannot create a USGS DEM:

Gdal.AllRegister();
GDAL.Dataset originalImage = Gdal.Open("C:\\65587895\\hdr.adf",
GDAL.Access.GA_ReadOnly);
Driver demDriver = Gdal.GetDriverByName("USGSDEM");

int x = originalImage.RasterXSize;
int y = originalImage.RasterYSize;
String[] opts = new String[] { "PRODUCT=DEFAULT,ZRESOLUTION=float" };

Dataset dsDem = demDriver.Create("C:\\Data\\65587895\\foo.dem", x, y, 1,
DataType.GDT_Int16, opts);

Gives the error:

System.ApplicationException: GDALDriver::Create() ... no create method
implemented for this format.

I thought the USGSDEM format was read/write...am I wrong on that? The
formats list (http://www.gdal.org/formats_list.html) says that creation of
USGSDEM is supported, but a run of demDriver.GetMetadata(null) to get the
metadata from the USGSDEM driver results in no return DCAP_CREATE=YES, only
DCAP_CREATECOPY=YES, which makes me cringe, thinking that indeed the
GDALDriver::Create() method is not implemented for the USGSDEM format.

I've also poked thought the source for the USGSDEM format, and don't see
anything in there pertaining to creating a dem (although I could easily miss
that, as I am by no means fluent in C++).

Any thoughts or experience with this? Any other thoughts on translating
ArcInfo binary grids (or anything for that matter) to DEMs?

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Translating-ArcInfo-binary-grid-to-USGS-dem-in-C-via-GDAL-tp6360189p6360189.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Fri May 13 13:18:13 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Sat May 14 02:34:46 2011
Subject: [gdal-dev] Translating ArcInfo binary grid to USGS .dem in C#
	via GDAL
In-Reply-To: <1305306812984-6360189.post@n2.nabble.com>
References: <1305306812984-6360189.post@n2.nabble.com>
Message-ID: <4DCD67D5.7060505@pobox.com>

On 11-05-13 01:13 PM, supercooper wrote:
> Dataset dsDem = demDriver.Create("C:\\Data\\65587895\\foo.dem", x, y, 1,
> DataType.GDT_Int16, opts);
>
> Gives the error:
>
> System.ApplicationException: GDALDriver::Create() ... no create method
> implemented for this format.
>
> I thought the USGSDEM format was read/write...am I wrong on that? The
> formats list (http://www.gdal.org/formats_list.html) says that creation of
> USGSDEM is supported, but a run of demDriver.GetMetadata(null) to get the
> metadata from the USGSDEM driver results in no return DCAP_CREATE=YES, only
> DCAP_CREATECOPY=YES, which makes me cringe, thinking that indeed the
> GDALDriver::Create() method is not implemented for the USGSDEM format.

Super Cooper,

Indeed, the USGSDEM driver only implements CreateCopy(), not Create().
ASCII formats like this one are not very easy to implement Create support
with as they aren't well suited to random update.

> I've also poked thought the source for the USGSDEM format, and don't see
> anything in there pertaining to creating a dem (although I could easily miss
> that, as I am by no means fluent in C++).

The CreateCopy implementation is in usgsdem_create.c in the same directory
as the read driver.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From even.rouault at mines-paris.org  Fri May 13 13:22:26 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 14 02:37:19 2011
Subject: [gdal-dev] Translating ArcInfo binary grid to USGS .dem in C# via
	GDAL
In-Reply-To: <1305306812984-6360189.post@n2.nabble.com>
References: <1305306812984-6360189.post@n2.nabble.com>
Message-ID: <201105131922.26501.even.rouault@mines-paris.org>

Le vendredi 13 mai 2011 19:13:32, supercooper a ?crit :
> For transparency's sake, I posted this to gis.stackexchange
> (http://gis.stackexchange.com/questions/9609/translating-grid-to-usgs-dem-i
> n-c-via-gdal), but haven't heard anything that really helps, so I thought
> this might be a better place to seek help.
> 
> I am attempting to translate ArcInfo binary grids to USGS DEM format (.dem)
> for input into VUE Infinite, a 3D visualization program. I am *very* new to
> GDAL, and I have installed the GDAL .NET bindings thru a
> (http://vbkto.dyndns.org/sdk/PackageList.aspx?file=release-1500-gdal-1-8-0-
> mapserver-5-6-6.zip) build installer. I can get to GDAL in my C# solution I
> am working on. However, it seems that I cannot create a USGS DEM:
> 
> Gdal.AllRegister();
> GDAL.Dataset originalImage = Gdal.Open("C:\\65587895\\hdr.adf",
> GDAL.Access.GA_ReadOnly);
> Driver demDriver = Gdal.GetDriverByName("USGSDEM");
> 
> int x = originalImage.RasterXSize;
> int y = originalImage.RasterYSize;
> String[] opts = new String[] { "PRODUCT=DEFAULT,ZRESOLUTION=float" };
> 
> Dataset dsDem = demDriver.Create("C:\\Data\\65587895\\foo.dem", x, y, 1,
> DataType.GDT_Int16, opts);
> 
> Gives the error:
> 
> System.ApplicationException: GDALDriver::Create() ... no create method
> implemented for this format.

Indeed, only a small percent of drivers with write capabilities support the 
full Create() method which is indicated by the DCAP_CREATE=YES metadata. The 
majority of drivers with write capabilities, such as USGSDEM, support only 
CreateCopy() (DCAP_CREATECOPY=YES). But from what you describe above 
(translating a dataset to another format), it is just what you need.

So try instead :

Dataset dsDem = demDriver.CreateCopy("C:\\Data\\65587895\\foo.dem", 
originalImage, 0, opts);

> 
> I thought the USGSDEM format was read/write...am I wrong on that? The
> formats list (http://www.gdal.org/formats_list.html) says that creation of
> USGSDEM is supported, but a run of demDriver.GetMetadata(null) to get the
> metadata from the USGSDEM driver results in no return DCAP_CREATE=YES, only
> DCAP_CREATECOPY=YES, which makes me cringe, thinking that indeed the
> GDALDriver::Create() method is not implemented for the USGSDEM format.
> 
> I've also poked thought the source for the USGSDEM format, and don't see
> anything in there pertaining to creating a dem (although I could easily
> miss that, as I am by no means fluent in C++).

see USGSDEMCreateCopy() in frmts/usgsdem/usgsdem_create.cpp

> 
> Any thoughts or experience with this? Any other thoughts on translating
> ArcInfo binary grids (or anything for that matter) to DEMs?
> 
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Translating-ArcInfo-binary-grid-to-
> USGS-dem-in-C-via-GDAL-tp6360189p6360189.html Sent from the GDAL - Dev
> mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From knutfrodesoppel at hotmail.com  Fri May 13 13:27:23 2011
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Sat May 14 02:44:36 2011
Subject: [gdal-dev] Re: VRT Derived Bands from Python?
In-Reply-To: <201105131907.31965.even.rouault@mines-paris.org>
References: <iqdmbj$4bi$1@dough.gmane.org>
	<20110513120725.44df8808@asigrid01>	<iqjo12$h2t$1@dough.gmane.org>
	<201105131907.31965.even.rouault@mines-paris.org>
Message-ID: <iqjplr$qqo$1@dough.gmane.org>

On 13/05/2011 19:07, Even Rouault wrote:

> I had also a similar error on Linux, but it worked despite the error. I have
> pushed a fix in trunk to silent that error. You can try to add a printf()
> statement in your GDALRegisterMe function to check if it is loaded correctly.

You are right, it works despite the error message!
I did not even think about checking that...
Great, thanks alot once again!

From vytas at dendron.com  Fri May 13 14:03:50 2011
From: vytas at dendron.com (Vytas)
Date: Sat May 14 03:29:52 2011
Subject: [gdal-dev] Creating mosaic larger than 4GB using gdal_merge.py
Message-ID: <4DCD7286.2030307@dendron.com>

Hi,

Using gdal_merge.py  to merge multiple Geotif files and get the 
following error?  Is there a work around to the size issue?  Expected 
output file size is about 12 Gigs.   I was under the impression gdal was 
able to handle Big TIFF format.  If not,  can you please suggest a 
format available in Gdal that I can use which will support large rasters?

gdal_merge.py -o tot.tif Port*.tif

ERROR 6: A 53888 pixels x 35904 lines x 3 bands UInt16 image would be 
larger than 4GB
but this is the largest size a TIFF can be.  Creation failed.
Creation failed, terminating gdal_merge.

Thanks,

Vytas




From even.rouault at mines-paris.org  Fri May 13 14:14:57 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 14 03:32:31 2011
Subject: [gdal-dev] Creating mosaic larger than 4GB using gdal_merge.py
In-Reply-To: <4DCD7286.2030307@dendron.com>
References: <4DCD7286.2030307@dendron.com>
Message-ID: <201105132014.57220.even.rouault@mines-paris.org>

Le vendredi 13 mai 2011 20:03:50, Vytas a ?crit :
> Hi,
> 
> Using gdal_merge.py  to merge multiple Geotif files and get the
> following error?  Is there a work around to the size issue?  Expected
> output file size is about 12 Gigs.   I was under the impression gdal was
> able to handle Big TIFF format.  If not,  can you please suggest a
> format available in Gdal that I can use which will support large rasters?

Where did you get your GDAL build ? GDAL needs to be compiled and linked 
against libtiff 4.0.0beta's to have bigtiff support. libtiff 3.X don't.

> 
> gdal_merge.py -o tot.tif Port*.tif
> 
> ERROR 6: A 53888 pixels x 35904 lines x 3 bands UInt16 image would be
> larger than 4GB
> but this is the largest size a TIFF can be.  Creation failed.
> Creation failed, terminating gdal_merge.
> 
> Thanks,
> 
> Vytas
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From brian at wildsong.biz  Fri May 13 14:43:57 2011
From: brian at wildsong.biz (Brian Wilson)
Date: Sat May 14 04:05:06 2011
Subject: [gdal-dev] Creating mosaic larger than 4GB using gdal_merge.py
In-Reply-To: <4DCD7286.2030307@dendron.com>
References: <4DCD7286.2030307@dendron.com>
Message-ID: <BANLkTi=X=1NxdKzb7fXvdTBq8_6dBoWu_g@mail.gmail.com>

On Fri, May 13, 2011 at 11:03 AM, Vytas <vytas@dendron.com> wrote:
> Hi,

> gdal_merge.py -o tot.tif Port*.tif


Try "gdal_merge.py -co BIGTIFF=IF_NEEDED  -o tot.tif Port*.tif"
From supercooper at gmail.com  Fri May 13 15:05:08 2011
From: supercooper at gmail.com (supercooper)
Date: Sat May 14 04:27:20 2011
Subject: [gdal-dev] Re: Translating ArcInfo binary grid to USGS .dem in C#
	via GDAL
In-Reply-To: <201105131922.26501.even.rouault@mines-paris.org>
References: <1305306812984-6360189.post@n2.nabble.com>
	<201105131922.26501.even.rouault@mines-paris.org>
Message-ID: <1305313508545-6360610.post@n2.nabble.com>

Even, CreateCopy did it. Thanks!

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Translating-ArcInfo-binary-grid-to-USGS-dem-in-C-via-GDAL-tp6360189p6360610.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From antonio.valentino at tiscali.it  Fri May 13 15:36:28 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Sat May 14 05:00:39 2011
Subject: [gdal-dev] Re: VRT Derived Bands from Python?
In-Reply-To: <201105131907.31965.even.rouault@mines-paris.org>
References: <iqdmbj$4bi$1@dough.gmane.org>
	<20110513120725.44df8808@asigrid01>	<iqjo12$h2t$1@dough.gmane.org>
	<201105131907.31965.even.rouault@mines-paris.org>
Message-ID: <4DCD883C.10002@tiscali.it>

Hi Even, hi Knut-Frode,

Il 13/05/2011 19:07, Even Rouault ha scritto:
> Le vendredi 13 mai 2011 18:59:14, Knut-Frode Dagestad a ?crit :
>> On 13/05/2011 12:07, Antonio Valentino wrote:
>>> If you think it is useful I can attach the fake-driver code to the
>>> #3367.
>>
>> Thank you, that would be useful.

Now the code is at

http://trac.osgeo.org/gdal/attachment/ticket/3367/pixfun-plugin-20110513.tar.gz

>> In the meantime I have tested this approach, nearly successful:
>> I copied one of your pixel-functions from #3367 and made a dynamic
>> library file with:
>>
>> gcc -fPIC -c gdal_nerscpixelfun.c
>> gcc -shared -lgdal -o gdal_nerscpixelfun.so gdal_nerscpixelfun.o
>>
>> and then set GDAL_DRIVER_PATH to point to this folder.
>>
>> However, at GDAL startup I get the following error:
>> ERROR 1: dlsym(0x100e095f0, _GDALRegister_nerscpixelfun): symbol not found
> 
> I had also a similar error on Linux, but it worked despite the error. I have 
> pushed a fix in trunk to silent that error. You can try to add a printf() 
> statement in your GDALRegisterMe function to check if it is loaded correctly.
> 
> Explanation : GDAL tries to load first a symbol called GDALRegister_xxxxx when 
> the .so is called gdal_xxxxxx.so/dll, and if not present it then tries 
> GDALRegisterMe. There's no point emitting an error if GDALRegister_xxxxx is 
> not found, but GDALRegisterMe is found. See 
> http://trac.osgeo.org/gdal/changeset/22359

I just used GDALRegister_PIXFUN. There is some difference?

ciao

-- 
Antonio Valentino
From greenberg at ucdavis.edu  Fri May 13 15:58:50 2011
From: greenberg at ucdavis.edu (Jonathan Greenberg)
Date: Sat May 14 05:24:12 2011
Subject: [gdal-dev] Matching two rasters
Message-ID: <BANLkTimGUKBZAtd4xf-xoptRGcOEViM80w@mail.gmail.com>

GDALers:

Say I have two rasters, A and B with different projections, extents,
and resolution.  I want to make B match A, such that the projection,
resolution, and extent (filling in with some arbitrary value where
there is no data) all match.  Is there a quick way to do this using
command line gdal tools?

--j

-- 
Jonathan A. Greenberg, PhD
Assistant Project Scientist
Center for Spatial Technologies and Remote Sensing (CSTARS)
Department of Land, Air and Water Resources
University of California, Davis
One Shields Avenue
Davis, CA 95616
Phone: 415-763-5476
AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
From even.rouault at mines-paris.org  Fri May 13 16:17:46 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 14 05:44:22 2011
Subject: [gdal-dev] Matching two rasters
In-Reply-To: <BANLkTimGUKBZAtd4xf-xoptRGcOEViM80w@mail.gmail.com>
References: <BANLkTimGUKBZAtd4xf-xoptRGcOEViM80w@mail.gmail.com>
Message-ID: <201105132217.46201.even.rouault@mines-paris.org>

Le vendredi 13 mai 2011 21:58:50, Jonathan Greenberg a ?crit :
> GDALers:
> 
> Say I have two rasters, A and B with different projections, extents,
> and resolution.  I want to make B match A, such that the projection,
> resolution, and extent (filling in with some arbitrary value where
> there is no data) all match.  Is there a quick way to do this using
> command line gdal tools?

Hum, you could try this 2 step process :

1) Create an empty raster that has same projection, resolution and extent than 
A. Let call it C.tif

Cleaner solution : with a tiny python script.

from osgeo import gdal
src_ds = gdal.Open('A')
out_ds = gdal.GetDriverByName('GTiff').Create('C.tif', src_ds.RasterXSize, 
src_ds.RasterYSize, src_ds.RasterCount)
out_ds.SetProjection(src_ds.GetProjectionRef())
out_ds.SetGeoTransform(src_ds.GetGeoTransform())
out_ds = None

Or ugly way with just gdal_translate :

gdal_translate A C.tif  -scale 0 1e30

(this will force rescaling the values by 1e-30, so in practice nullifying the 
data if you work with non-floating point sources)

2) gdalwarp B C.tif

This will 'copy' and reproject if necessary the content of B in C.tif using 
its projections, extents, and resolution


> 
> --j
From chaitanya.ch at gmail.com  Sat May 14 00:28:57 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Sat May 14 14:22:44 2011
Subject: [gdal-dev] Matching two rasters
In-Reply-To: <BANLkTimGUKBZAtd4xf-xoptRGcOEViM80w@mail.gmail.com>
References: <BANLkTimGUKBZAtd4xf-xoptRGcOEViM80w@mail.gmail.com>
Message-ID: <BANLkTimV_AzG_7e9qmFnm9UKkdcgLs-BXA@mail.gmail.com>

Jonathan,

Assuming you want to convert B's projection to A's.

First, run gdalinfo on A.tif and save the part under 'Coordinate System is:'
in a file named 'A.prf'. This is the OGC's WKT representation of the Spatial
Reference System of A.tif

Then, run gdalwarp on B.tif with the following options. "-t_srs A.prf" to
specify the projection system. Specify the target extents using the -te
option. You can get the extents from the output of gdalinfo on A.tif. You
might also want to set the resolution using the -tr option and the
resampling method using the -r option.

http://www.gdal.org/gdalinfo.html
http://www.gdal.org/gdalwarp.html

On Sat, May 14, 2011 at 1:28 AM, Jonathan Greenberg
<greenberg@ucdavis.edu>wrote:

> GDALers:
>
> Say I have two rasters, A and B with different projections, extents,
> and resolution.  I want to make B match A, such that the projection,
> resolution, and extent (filling in with some arbitrary value where
> there is no data) all match.  Is there a quick way to do this using
> command line gdal tools?
>
> --j
>
> --
> Jonathan A. Greenberg, PhD
> Assistant Project Scientist
> Center for Spatial Technologies and Remote Sensing (CSTARS)
> Department of Land, Air and Water Resources
> University of California, Davis
> One Shields Avenue
> Davis, CA 95616
> Phone: 415-763-5476
> AIM: jgrn307, MSN: jgrn307@hotmail.com, Gchat: jgrn307
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110514/74816161/attachment.html
From rush at winkey.org  Sat May 14 16:29:50 2011
From: rush at winkey.org (Brian Case)
Date: Sun May 15 07:16:10 2011
Subject: [gdal-dev] gdal internal vrs external libs and gdal-config
Message-ID: <1305404990.16355.20.camel@octopi>

hi,


This week I ran into an issue building OTB against a gdal with internal
libtiff and libgeotiff. After spending a bit of time trying to figure
out why i had a problem I thought it might be useful if gdal-config
could report on internal libs and if they are hidden.

What came up with is a gdal-config switch for each lib that has an
internal option that will return "external" if gdal used the external
lib. "internal", or "hidden" if it uses the internal lib and gdal was
configured with --with-hide-internal-symbols=yes

Attached is a diff. Does anyone have any opinions on this or alternate
ideas?

Brian


-------------- next part --------------
A non-text attachment was scrubbed...
Name: internal.diff
Type: text/x-patch
Size: 4934 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110514/8d28bd75/internal.bin
From RSyaoxin at hotmail.com  Sun May 15 08:46:55 2011
From: RSyaoxin at hotmail.com (RSyaoxin)
Date: Mon May 16 00:28:30 2011
Subject: [gdal-dev] How to get the ENVISAT N1 Main Processing parameters
Message-ID: <1305463615324-6365377.post@n2.nabble.com>

Hi,I want to calibration the ENVISAT ASAR DATA(.N1 Format). I need to get
it's main processing parameters,such as
calibration_factors[0].ext_cal_fact[0],first_line_tie_point_angles[0-10],and
I wrote: CString
sDomain=m_pDataset->GetMetadataItem("MAIN_PROCESSING_PARAMS_ADS_CALIBRATION_FACTORS[0].EXT_CAL_FACT[0]");but
I can't get result. 
However, "CString sDomain=m_pDataset->GetMetadataItem("SPH_FIRST_MID_LAT")"
is right.That's Why?How should I go to get necessary information? 
I turn to Anybody who once did this job for some advice. Thank you! 
Kind regards.

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/How-to-get-the-ENVISAT-N1-Main-Processing-parameters-tp6365377p6365377.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From antonio.valentino at tiscali.it  Sun May 15 12:18:21 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon May 16 04:11:19 2011
Subject: [gdal-dev] How to get the ENVISAT N1 Main Processing parameters
In-Reply-To: <1305463615324-6365377.post@n2.nabble.com>
References: <1305463615324-6365377.post@n2.nabble.com>
Message-ID: <4DCFFCCD.1030209@tiscali.it>

Hi RSyaoxin,

Il 15/05/2011 14:46, RSyaoxin ha scritto:
> Hi,I want to calibration the ENVISAT ASAR DATA(.N1 Format). I need to get
> it's main processing parameters,such as
> calibration_factors[0].ext_cal_fact[0],first_line_tie_point_angles[0-10],and
> I wrote: CString
> sDomain=m_pDataset->GetMetadataItem("MAIN_PROCESSING_PARAMS_ADS_CALIBRATION_FACTORS[0].EXT_CAL_FACT[0]");but
> I can't get result. 
> However, "CString sDomain=m_pDataset->GetMetadataItem("SPH_FIRST_MID_LAT")"
> is right.That's Why?How should I go to get necessary information? 
> I turn to Anybody who once did this job for some advice. Thank you! 
> Kind regards.
> 

It seems that the envisat driver do not extracts all metadata from all
ENVISAT records.
It just exposes MPH, SPH and GCPs

http://www.gdal.org/frmt_various.html#Envisat

>From my point of view it would be very useful to be able to have access
to a richer set of metadata from GDAL (at east for SAR products).

If you are only interested in ENVISAT then you could give a try to

https://github.com/bcdev/epr-api

that give you full access to the ENVISAT products eve if, IMHO, it is
not so handly as GDAL for imagery IO.

Maybe you can use them both: EPR for metadata and GDAL for imagery.

best regards

-- 
Antonio Valentino
From mike at stamen.com  Sun May 15 15:15:02 2011
From: mike at stamen.com (Michal Migurski)
Date: Mon May 16 07:44:06 2011
Subject: [gdal-dev] Attempting to merge DEMs with gdal_merge.py - getting
	Float32 clipped to 255.0
Message-ID: <66CB515D-8091-4D73-AB06-3680EEEB86F0@stamen.com>

Hello,

I'm attempting to merge a number of DEMs in .flt format using gdal_merge.py. It's NED 1/3 arc second data, so each one is a Float32 10812x10812 raster with a range of values from a few meters below sea level to 1.4km. I'm getting back an image with an incorrect datatype even though I believe that I'm using the right "-ot Float32" parameter to gdal_merge.py. I appear to have gdal 1.5.4 on this machine; I can upgrade to a newer one if necessary but I'd first like to make sure I'm not using the tool incorrectly.

Here's the command I use:

	gdal_merge.py -o 38122.tif -of GTiff -ot Float32 -v -ul_lr -122.05 38.05 -121.95 37.95 10m/*.flt

What I get back is a 1080x1080 GeoTIFF with the correct bounds that I'm expecting, but what appears to be garbage data or perhaps just raw floating point values misinterpreted as bytes. Here's the output showing Byte values instead of Float32 as I'd expect:

	Band 1 Block=1080x7 Type=Byte, ColorInterp=Gray
	  Min=0.000 Max=255.000 
	  Minimum=0.000, Maximum=255.000, Mean=108.657, StdDev=66.615

This is a sample of the resulting image in pseudocolor, showing the vertical banding every 4px that makes me think the bytes are just a raw Float32 stream:

	http://mike.teczno.com/img/38122-rainbow.png

Here is a sample input band:

	Band 1 Block=10812x1 Type=Float32, ColorInterp=Undefined
	    Computed Min/Max=-8.170,1440.937
	  NoData Value=-9999

Am I using -ot incorrectly?

-mike.

----------------------------------------------------------------
michal migurski- mike@stamen.com
                 415.558.1610



From chaitanya.ch at gmail.com  Mon May 16 00:19:44 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon May 16 16:52:35 2011
Subject: [gdal-dev] Attempting to merge DEMs with gdal_merge.py - getting
	Float32 clipped to 255.0
In-Reply-To: <66CB515D-8091-4D73-AB06-3680EEEB86F0@stamen.com>
References: <66CB515D-8091-4D73-AB06-3680EEEB86F0@stamen.com>
Message-ID: <BANLkTikJFYPe5TgyHq0wwdCTsDf1vpMiaQ@mail.gmail.com>

Michal,

Check if the output file already exists. The script won't create a new one
if it already exists.

On Mon, May 16, 2011 at 12:45 AM, Michal Migurski <mike@stamen.com> wrote:

> Hello,
>
> I'm attempting to merge a number of DEMs in .flt format using
> gdal_merge.py. It's NED 1/3 arc second data, so each one is a Float32
> 10812x10812 raster with a range of values from a few meters below sea level
> to 1.4km. I'm getting back an image with an incorrect datatype even though I
> believe that I'm using the right "-ot Float32" parameter to gdal_merge.py. I
> appear to have gdal 1.5.4 on this machine; I can upgrade to a newer one if
> necessary but I'd first like to make sure I'm not using the tool
> incorrectly.
>
> Here's the command I use:
>
>        gdal_merge.py -o 38122.tif -of GTiff -ot Float32 -v -ul_lr -122.05
> 38.05 -121.95 37.95 10m/*.flt
>
> What I get back is a 1080x1080 GeoTIFF with the correct bounds that I'm
> expecting, but what appears to be garbage data or perhaps just raw floating
> point values misinterpreted as bytes. Here's the output showing Byte values
> instead of Float32 as I'd expect:
>
>        Band 1 Block=1080x7 Type=Byte, ColorInterp=Gray
>          Min=0.000 Max=255.000
>          Minimum=0.000, Maximum=255.000, Mean=108.657, StdDev=66.615
>
> This is a sample of the resulting image in pseudocolor, showing the
> vertical banding every 4px that makes me think the bytes are just a raw
> Float32 stream:
>
>        http://mike.teczno.com/img/38122-rainbow.png
>
> Here is a sample input band:
>
>        Band 1 Block=10812x1 Type=Float32, ColorInterp=Undefined
>            Computed Min/Max=-8.170,1440.937
>          NoData Value=-9999
>
> Am I using -ot incorrectly?
>
> -mike.
>
> ----------------------------------------------------------------
> michal migurski- mike@stamen.com
>                 415.558.1610
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/d7aeac25/attachment.html
From oyvind.idland at gmail.com  Mon May 16 02:30:57 2011
From: oyvind.idland at gmail.com (Oyvind Idland)
Date: Mon May 16 19:11:11 2011
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
In-Reply-To: <C55473998E248B4DAEC5342D698DFE85011493CCC5@sea-srv-mail.lizardtech.com>
References: <BANLkTi=AsxtR8pDp=wB6dCVPYNn5TasPVw@mail.gmail.com>
	<C55473998E248B4DAEC5342D698DFE85011493CCC5@sea-srv-mail.lizardtech.com>
Message-ID: <BANLkTimp3K-bu0ChUn1GeT+J2BWNL5Tbxw@mail.gmail.com>

Hi,

The file I'm using is actually MG2, using only 3 bands.

Note, thats its the same file I used for testing in 1.7.x aswell.


- Oyvind


On Fri, May 13, 2011 at 4:08 PM, Kirk McKelvey <kmckelvey@lizardtech.com>wrote:

> Is this with MG3 or MG4 files?  MG4 uses an alpha channel instead of
> nodata, so what you describe would be expected in that case.
>
>
>
> *From:* gdal-dev-bounces@lists.osgeo.org [mailto:
> gdal-dev-bounces@lists.osgeo.org] *On Behalf Of *Oyvind Idland
> *Sent:* vendredi 13 mai 2011 04:28
> *To:* gdal-dev@lists.osgeo.org
> *Subject:* [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
>
>
>
> Hi,
>
> I just updated to 1.8.0 from 1.7, using the MrSid DSDK 8.0.
>
> In order to handle transparency, i have until now used the metadata values
> from "IMAGE__NO_DATA_VALUE",
> and simply masked away pixels.
>
> After upgrading, the IMAGE__NO_DATA_VALUE yields nothing, neither is it
> listed when using gdalinfo.
>
> The band->GetNoDataValue() doesn't give me any hints either.
>
> Should I handle this in a different way ?
>
>
> -- Oyvind
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/22a230a2/attachment.html
From Josh.Vote at csiro.au  Mon May 16 03:07:05 2011
From: Josh.Vote at csiro.au (Josh.Vote@csiro.au)
Date: Mon May 16 19:49:15 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
Message-ID: <379916DAEE752C49BC25377067B2B8ED261DE06E14@EXWA-MBX01.nexus.csiro.au>

Hi,

I'm currently trying to build gdal trunk (rev 22377) on an amd64 Linux (Debian) box and I keep getting an error whenever I try to run 'make'. See below for the output of make (./configure returned no obvious errors).

(cd port; make)
make[1]: Entering directory `/home/JoshVote/gdal/port'
/bin/sh /home/JoshVote/gdal/libtool --mode=compile --tag=CXX g++ -g -O2  -Wall  -DOGR_ENABLED -I/home/JoshVote/gdal/port   -I../frmts/zlib  -DHAVE_LIBZ -c -o cpl_conv.lo cpl_conv.cpp
/home/JoshVote/gdal/libtool: 1656: preserve_args+= --tag CXX: not found
eval: 1: base_compile+= g++: not found
eval: 1: base_compile+= -g: not found
eval: 1: base_compile+= -O2: not found
eval: 1: base_compile+= -Wall: not found
eval: 1: base_compile+= -DOGR_ENABLED: not found
eval: 1: base_compile+= -I/home/JoshVote/gdal/port: not found
eval: 1: base_compile+= -I../frmts/zlib: not found
eval: 1: base_compile+= -DHAVE_LIBZ: not found
eval: 1: base_compile+= -c: not found
libtool: compile: you must specify a compilation command
libtool: compile: Try `libtool --help --mode=compile' for more information.
make[1]: *** [cpl_conv.lo] Error 1
make[1]: Leaving directory `/home/JoshVote/gdal/port'
make: *** [port-target] Error 2

The annoying thing is that I have absolutely no problems building gdal under my 32 bit linux (Debian) box. I've been doing a bit of googling and have  come across a similar issue http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=621930 that was apparently resolved for 1.7.3-2 a few weeks ago, did this ever make it to trunk?

Works Under - Debian 6.0 (Linux .... 2.6.32-5-686 #1 SMP Wed Jan 12 04:01:41 UTC 2011 i686 GNU/Linux)
Fails Under - Debian 6.0.1 (Linux .... 2.6.32-5-amd64 #1 SMP Mon Mar 7 21:35:22 UTC 2011 x86_64 GNU/Linux)

Thanks in advance for any help
Josh Vote
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/a96c27c4/attachment.html
From antonio.valentino at tiscali.it  Mon May 16 03:21:55 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon May 16 20:04:56 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <379916DAEE752C49BC25377067B2B8ED261DE06E14@EXWA-MBX01.nexus.csiro.au>
References: <379916DAEE752C49BC25377067B2B8ED261DE06E14@EXWA-MBX01.nexus.csiro.au>
Message-ID: <20110516092155.63225683@asigrid01>

Hi Josh,

Il giorno Mon, 16 May 2011 15:07:05 +0800
<Josh.Vote@csiro.au> ha scritto:

> Hi,
> 
> I'm currently trying to build gdal trunk (rev 22377) on an amd64
> Linux (Debian) box and I keep getting an error whenever I try to run
> 'make'. See below for the output of make (./configure returned no
> obvious errors).
> 
> (cd port; make)
> make[1]: Entering directory `/home/JoshVote/gdal/port'
> /bin/sh /home/JoshVote/gdal/libtool --mode=compile --tag=CXX g++ -g
> -O2  -Wall  -DOGR_ENABLED -I/home/JoshVote/gdal/port
> -I../frmts/zlib  -DHAVE_LIBZ -c -o cpl_conv.lo
> cpl_conv.cpp /home/JoshVote/gdal/libtool: 1656: preserve_args+= --tag
> CXX: not found eval: 1: base_compile+= g++: not found eval: 1:
> base_compile+= -g: not found eval: 1: base_compile+= -O2: not found
> eval: 1: base_compile+= -Wall: not found eval: 1: base_compile+=
> -DOGR_ENABLED: not found eval: 1: base_compile+=
> -I/home/JoshVote/gdal/port: not found eval: 1: base_compile+=
> -I../frmts/zlib: not found eval: 1: base_compile+= -DHAVE_LIBZ: not
> found eval: 1: base_compile+= -c: not found
> libtool: compile: you must specify a compilation command
> libtool: compile: Try `libtool --help --mode=compile' for more
> information. make[1]: *** [cpl_conv.lo] Error 1
> make[1]: Leaving directory `/home/JoshVote/gdal/port'
> make: *** [port-target] Error 2
> 
> The annoying thing is that I have absolutely no problems building
> gdal under my 32 bit linux (Debian) box. I've been doing a bit of
> googling and have  come across a similar issue
> http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=621930 that was
> apparently resolved for 1.7.3-2 a few weeks ago, did this ever make
> it to trunk?
> 
> Works Under - Debian 6.0 (Linux .... 2.6.32-5-686 #1 SMP Wed Jan 12
> 04:01:41 UTC 2011 i686 GNU/Linux) Fails Under - Debian 6.0.1
> (Linux .... 2.6.32-5-amd64 #1 SMP Mon Mar 7 21:35:22 UTC 2011 x86_64
> GNU/Linux)
> 
> Thanks in advance for any help
> Josh Vote

I had a similar problem on ubuntu 11.04 and solved setting the SHELL
variable in the GDALmake.opt.in as follows

Index: GDALmake.opt.in
===================================================================
--- GDALmake.opt.in	(revision 22377)
+++ GDALmake.opt.in	(working copy)
@@ -8,7 +8,7 @@
 # Solaris users: the LIBTOOL line is expanded to $(SHELL)
$(top_builddir)/libtool # but the libtool script uses bashism, so you
may need to uncomment the following # line :
-#SHELL=/usr/bin/bash
+SHELL=/usr/bin/bash
 
 HAVE_LIBTOOL	=	@HAVE_LIBTOOL@
 LIBTOOL	=	@LIBTOOL@


best regards

-- 
Antonio Valentino
From knutfrodesoppel at hotmail.com  Mon May 16 03:39:30 2011
From: knutfrodesoppel at hotmail.com (Knut-Frode Dagestad)
Date: Mon May 16 20:23:45 2011
Subject: [gdal-dev] Re: How to get the ENVISAT N1 Main Processing parameters
In-Reply-To: <4DCFFCCD.1030209@tiscali.it>
References: <1305463615324-6365377.post@n2.nabble.com>
	<4DCFFCCD.1030209@tiscali.it>
Message-ID: <iqqkbi$dbc$1@dough.gmane.org>

Hi RSyaoxin and Antonio,

I share your interest in these metadata. In addition to the MPH and SPH 
metadata in ASCII-format, Envisat files contain a lot of metadata in 
binary form, e.g. for ASAR:
http://envisat.esa.int/handbooks/asar/CNTR6-6.htm#eph.asar.asardf.asarrec

It would probably be too much to ask for the GDAL Envisat driver to 
import all of this. However, there are some missing metadata which are 
of special importance:

- the calibration factors, which RSyaoxin mentions
- the incidence angles: 
http://envisat.esa.int/handbooks/asar/CNTR6-6-9.htm#eph.asar.asardf.asarrec.ASAR_Geo_Grid_ADSR

Both of this is necessary to be able to calibrate the data, and hence to 
be able to make any geophysical calculations from them.
It would be really nice if the GDAL Envisat driver could be updated to 
read this as well, and most users would not need to rely on (or create) 
external software.

The incidence angles are stored in a small grid at the same size as the 
GCP?s, (order of 100 elements), which does not fit very nicely into the 
GDAL datamodel - it would probably have to be stored as a list of 
metadata strings.

Best regards from Knut-Frode



On 15/05/2011 18:18, Antonio Valentino wrote:
> Hi RSyaoxin,
>
> Il 15/05/2011 14:46, RSyaoxin ha scritto:
>> Hi,I want to calibration the ENVISAT ASAR DATA(.N1 Format). I need to get
>> it's main processing parameters,such as
>> calibration_factors[0].ext_cal_fact[0],first_line_tie_point_angles[0-10],and
>> I wrote: CString
>> sDomain=m_pDataset->GetMetadataItem("MAIN_PROCESSING_PARAMS_ADS_CALIBRATION_FACTORS[0].EXT_CAL_FACT[0]");but
>> I can't get result.
>> However, "CString sDomain=m_pDataset->GetMetadataItem("SPH_FIRST_MID_LAT")"
>> is right.That's Why?How should I go to get necessary information?
>> I turn to Anybody who once did this job for some advice. Thank you!
>> Kind regards.
>>
>
> It seems that the envisat driver do not extracts all metadata from all
> ENVISAT records.
> It just exposes MPH, SPH and GCPs
>
> http://www.gdal.org/frmt_various.html#Envisat
>
>> From my point of view it would be very useful to be able to have access
> to a richer set of metadata from GDAL (at east for SAR products).
>
> If you are only interested in ENVISAT then you could give a try to
>
> https://github.com/bcdev/epr-api
>
> that give you full access to the ENVISAT products eve if, IMHO, it is
> not so handly as GDAL for imagery IO.
>
> Maybe you can use them both: EPR for metadata and GDAL for imagery.
>
> best regards
>


From Josh.Vote at csiro.au  Mon May 16 04:00:55 2011
From: Josh.Vote at csiro.au (Josh.Vote@csiro.au)
Date: Mon May 16 20:47:19 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <20110516092155.63225683@asigrid01>
References: <379916DAEE752C49BC25377067B2B8ED261DE06E14@EXWA-MBX01.nexus.csiro.au>
	<20110516092155.63225683@asigrid01>
Message-ID: <379916DAEE752C49BC25377067B2B8ED261DE06E15@EXWA-MBX01.nexus.csiro.au>

Hi Antonio,

That seems to have gotten the compiler running. For future Debian users experiencing this problem setting SHELL=/bin/bash worked for me.

Thanks a lot
Josh Vote

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Antonio Valentino
Sent: Monday, 16 May 2011 3:22 PM
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL build problems under Linux debian x86_64

Hi Josh,

Il giorno Mon, 16 May 2011 15:07:05 +0800
<Josh.Vote@csiro.au> ha scritto:

> Hi,
> 
> I'm currently trying to build gdal trunk (rev 22377) on an amd64
> Linux (Debian) box and I keep getting an error whenever I try to run
> 'make'. See below for the output of make (./configure returned no
> obvious errors).
> 
> (cd port; make)
> make[1]: Entering directory `/home/JoshVote/gdal/port'
> /bin/sh /home/JoshVote/gdal/libtool --mode=compile --tag=CXX g++ -g
> -O2  -Wall  -DOGR_ENABLED -I/home/JoshVote/gdal/port
> -I../frmts/zlib  -DHAVE_LIBZ -c -o cpl_conv.lo
> cpl_conv.cpp /home/JoshVote/gdal/libtool: 1656: preserve_args+= --tag
> CXX: not found eval: 1: base_compile+= g++: not found eval: 1:
> base_compile+= -g: not found eval: 1: base_compile+= -O2: not found
> eval: 1: base_compile+= -Wall: not found eval: 1: base_compile+=
> -DOGR_ENABLED: not found eval: 1: base_compile+=
> -I/home/JoshVote/gdal/port: not found eval: 1: base_compile+=
> -I../frmts/zlib: not found eval: 1: base_compile+= -DHAVE_LIBZ: not
> found eval: 1: base_compile+= -c: not found
> libtool: compile: you must specify a compilation command
> libtool: compile: Try `libtool --help --mode=compile' for more
> information. make[1]: *** [cpl_conv.lo] Error 1
> make[1]: Leaving directory `/home/JoshVote/gdal/port'
> make: *** [port-target] Error 2
> 
> The annoying thing is that I have absolutely no problems building
> gdal under my 32 bit linux (Debian) box. I've been doing a bit of
> googling and have  come across a similar issue
> http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=621930 that was
> apparently resolved for 1.7.3-2 a few weeks ago, did this ever make
> it to trunk?
> 
> Works Under - Debian 6.0 (Linux .... 2.6.32-5-686 #1 SMP Wed Jan 12
> 04:01:41 UTC 2011 i686 GNU/Linux) Fails Under - Debian 6.0.1
> (Linux .... 2.6.32-5-amd64 #1 SMP Mon Mar 7 21:35:22 UTC 2011 x86_64
> GNU/Linux)
> 
> Thanks in advance for any help
> Josh Vote

I had a similar problem on ubuntu 11.04 and solved setting the SHELL
variable in the GDALmake.opt.in as follows

Index: GDALmake.opt.in
===================================================================
--- GDALmake.opt.in	(revision 22377)
+++ GDALmake.opt.in	(working copy)
@@ -8,7 +8,7 @@
 # Solaris users: the LIBTOOL line is expanded to $(SHELL)
$(top_builddir)/libtool # but the libtool script uses bashism, so you
may need to uncomment the following # line :
-#SHELL=/usr/bin/bash
+SHELL=/usr/bin/bash
 
 HAVE_LIBTOOL	=	@HAVE_LIBTOOL@
 LIBTOOL	=	@LIBTOOL@


best regards

-- 
Antonio Valentino
_______________________________________________
gdal-dev mailing list
gdal-dev@lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev
From sigfrido at tiscali.it  Mon May 16 04:28:00 2011
From: sigfrido at tiscali.it (sigfrido@tiscali.it)
Date: Mon May 16 21:14:39 2011
Subject: R: RE: [gdal-dev] GDAL build problems under Linux debian x86_64
Message-ID: <7476671.49191305534480329.JavaMail.defaultUser@defaultHost>

Hi all,

also setting the CONFIGURE_SHELL variable before running 
configure worked for me:

CONFIGURE_SHELL=/bin/bash
export 
CONFIGURE_SHELL
./configure --with-pg=/usr/bin/pg_config ...

Best 
regards

Sig

----Messaggio originale----
Da: Josh.Vote@csiro.au
Data: 
16/05/2011 10.00
A: <gdal-dev@lists.osgeo.org>
Ogg: RE: [gdal-dev] GDAL 
build problems under Linux debian x86_64

Hi Antonio,

That seems to 
have gotten the compiler running. For future Debian users experiencing 
this problem setting SHELL=/bin/bash worked for me.

Thanks a lot
Josh 
Vote

-----Original Message-----
From: gdal-dev-bounces@lists.osgeo.org 
[mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Antonio 
Valentino
Sent: Monday, 16 May 2011 3:22 PM
To: gdal-dev@lists.osgeo.
org
Subject: Re: [gdal-dev] GDAL build problems under Linux debian 
x86_64

I had a similar problem on ubuntu 11.04 and solved setting the 
SHELL
variable in the GDALmake.opt.in as follows

-#SHELL=/usr/bin/bash

+SHELL=/usr/bin/bash



Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!

Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al mese per 12 mesi.

http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
From goocreations at gmail.com  Mon May 16 04:53:58 2011
From: goocreations at gmail.com (Goo Creations)
Date: Mon May 16 21:41:46 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <7476671.49191305534480329.JavaMail.defaultUser@defaultHost>
References: <7476671.49191305534480329.JavaMail.defaultUser@defaultHost>
Message-ID: <BANLkTimAcxAT6OzFTBeCr9Q8qrqoyZG2GA@mail.gmail.com>

Hi

I still have the problem Ubuntun 10.04.
I've tried the above solutions without any sucess.
Any Ubuntu users have a solution?

Chris

On Mon, May 16, 2011 at 10:28 AM, sigfrido@tiscali.it
<sigfrido@tiscali.it>wrote:

> Hi all,
>
> also setting the CONFIGURE_SHELL variable before running
> configure worked for me:
>
> CONFIGURE_SHELL=/bin/bash
> export
> CONFIGURE_SHELL
> ./configure --with-pg=/usr/bin/pg_config ...
>
> Best
> regards
>
> Sig
>
> ----Messaggio originale----
> Da: Josh.Vote@csiro.au
> Data:
> 16/05/2011 10.00
> A: <gdal-dev@lists.osgeo.org>
> Ogg: RE: [gdal-dev] GDAL
> build problems under Linux debian x86_64
>
> Hi Antonio,
>
> That seems to
> have gotten the compiler running. For future Debian users experiencing
> this problem setting SHELL=/bin/bash worked for me.
>
> Thanks a lot
> Josh
> Vote
>
> -----Original Message-----
> From: gdal-dev-bounces@lists.osgeo.org
> [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Antonio
> Valentino
> Sent: Monday, 16 May 2011 3:22 PM
> To: gdal-dev@lists.osgeo.
> org
> Subject: Re: [gdal-dev] GDAL build problems under Linux debian
> x86_64
>
> I had a similar problem on ubuntu 11.04 and solved setting the
> SHELL
> variable in the GDALmake.opt.in as follows
>
> -#SHELL=/usr/bin/bash
>
> +SHELL=/usr/bin/bash
>
>
>
> Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
>
> Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al
> mese per 12 mesi.
>
>
> http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/d1faaa40/attachment.html
From sigfrido at tiscali.it  Mon May 16 05:06:52 2011
From: sigfrido at tiscali.it (sigfrido@tiscali.it)
Date: Mon May 16 21:55:27 2011
Subject: R: Re: RE: [gdal-dev] GDAL build problems under Linux debian x86_64
Message-ID: <21578666.62521305536812327.JavaMail.defaultUser@defaultHost>

Hi Chris,

I too have Ubuntu 10.04, and the CONFIGURE_SHELL solution 
worked for me. I didn't try the other solution, though.

Sig

----
Messaggio originale----
Da: goocreations@gmail.com
Data: 16/05/2011 
10.53
A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
Cc: <Josh.
Vote@csiro.au>, <gdal-dev@lists.osgeo.org>
Ogg: Re: RE: [gdal-dev] GDAL 
build problems under Linux debian x86_64

Hi

I still have the problem 
Ubuntun 10.04.
I've tried the above solutions without any sucess.
Any 
Ubuntu users have a solution?

Chris

On Mon, May 16, 2011 at 10:28 AM, 
sigfrido@tiscali.it
<sigfrido@tiscali.it>wrote:

> Hi all,
>
> also 
setting the CONFIGURE_SHELL variable before running
> configure worked 
for me:
>
> CONFIGURE_SHELL=/bin/bash
> export
> CONFIGURE_SHELL
> .
/configure --with-pg=/usr/bin/pg_config ...
>


Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!

Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al mese per 12 mesi.

http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
From even.rouault at mines-paris.org  Mon May 16 05:21:17 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 16 22:10:45 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <379916DAEE752C49BC25377067B2B8ED261DE06E14@EXWA-MBX01.nexus.csiro.au>
References: <379916DAEE752C49BC25377067B2B8ED261DE06E14@EXWA-MBX01.nexus.csiro.au>
Message-ID: <1305537677.4dd0ec8d5f2e5@webmail.free.fr>

Selon Josh.Vote@csiro.au:

I somehow had similar problems, that I solved by replacing the libtool file
coming with GDAL with the one of my system from /usr/bin.

I'm also wondering if the correction made in
http://trac.osgeo.org/gdal/ticket/3928 wouldn't fix the issue.

> Hi,
>
> I'm currently trying to build gdal trunk (rev 22377) on an amd64 Linux
> (Debian) box and I keep getting an error whenever I try to run 'make'. See
> below for the output of make (./configure returned no obvious errors).
>
> (cd port; make)
> make[1]: Entering directory `/home/JoshVote/gdal/port'
> /bin/sh /home/JoshVote/gdal/libtool --mode=compile --tag=CXX g++ -g -O2
> -Wall  -DOGR_ENABLED -I/home/JoshVote/gdal/port   -I../frmts/zlib
> -DHAVE_LIBZ -c -o cpl_conv.lo cpl_conv.cpp
> /home/JoshVote/gdal/libtool: 1656: preserve_args+= --tag CXX: not found
> eval: 1: base_compile+= g++: not found
> eval: 1: base_compile+= -g: not found
> eval: 1: base_compile+= -O2: not found
> eval: 1: base_compile+= -Wall: not found
> eval: 1: base_compile+= -DOGR_ENABLED: not found
> eval: 1: base_compile+= -I/home/JoshVote/gdal/port: not found
> eval: 1: base_compile+= -I../frmts/zlib: not found
> eval: 1: base_compile+= -DHAVE_LIBZ: not found
> eval: 1: base_compile+= -c: not found
> libtool: compile: you must specify a compilation command
> libtool: compile: Try `libtool --help --mode=compile' for more information.
> make[1]: *** [cpl_conv.lo] Error 1
> make[1]: Leaving directory `/home/JoshVote/gdal/port'
> make: *** [port-target] Error 2
>
> The annoying thing is that I have absolutely no problems building gdal under
> my 32 bit linux (Debian) box. I've been doing a bit of googling and have
> come across a similar issue
> http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=621930 that was apparently
> resolved for 1.7.3-2 a few weeks ago, did this ever make it to trunk?
>
> Works Under - Debian 6.0 (Linux .... 2.6.32-5-686 #1 SMP Wed Jan 12 04:01:41
> UTC 2011 i686 GNU/Linux)
> Fails Under - Debian 6.0.1 (Linux .... 2.6.32-5-amd64 #1 SMP Mon Mar 7
> 21:35:22 UTC 2011 x86_64 GNU/Linux)
>
> Thanks in advance for any help
> Josh Vote
>


From goocreations at gmail.com  Mon May 16 05:23:05 2011
From: goocreations at gmail.com (Goo Creations)
Date: Mon May 16 22:12:31 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <21578666.62521305536812327.JavaMail.defaultUser@defaultHost>
References: <21578666.62521305536812327.JavaMail.defaultUser@defaultHost>
Message-ID: <BANLkTime6SKzfsmDME1LLXvtaUiowno5xA@mail.gmail.com>

I have problems with:

CONFIGURE_SHELL=/bin/bash     (works!)
export    (works!)
CONFIGURE_SHELL   (error: CONFIGURE_SHELL: command not found)
./configure --with-pg=/usr/bin/pg_config ...    (error:

configure: WARNING: you should use --build, --host, --target
checking build system type... Invalid configuration `...': machine `...' not
recognized
configure: error: /bin/bash ./config.sub ... failed

)

I've removed the third command and removed "..." from the last one. But it
still didn't work

Chris




On Mon, May 16, 2011 at 11:06 AM, sigfrido@tiscali.it
<sigfrido@tiscali.it>wrote:

> Hi Chris,
>
> I too have Ubuntu 10.04, and the CONFIGURE_SHELL solution
> worked for me. I didn't try the other solution, though.
>
> Sig
>
> ----
> Messaggio originale----
> Da: goocreations@gmail.com
> Data: 16/05/2011
> 10.53
> A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
> Cc: <Josh.
> Vote@csiro.au>, <gdal-dev@lists.osgeo.org>
> Ogg: Re: RE: [gdal-dev] GDAL
> build problems under Linux debian x86_64
>
> Hi
>
> I still have the problem
> Ubuntun 10.04.
> I've tried the above solutions without any sucess.
> Any
> Ubuntu users have a solution?
>
> Chris
>
> On Mon, May 16, 2011 at 10:28 AM,
> sigfrido@tiscali.it
> <sigfrido@tiscali.it>wrote:
>
> > Hi all,
> >
> > also
> setting the CONFIGURE_SHELL variable before running
> > configure worked
> for me:
> >
> > CONFIGURE_SHELL=/bin/bash
> > export
> > CONFIGURE_SHELL
> > .
> /configure --with-pg=/usr/bin/pg_config ...
> >
>
>
> Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
>
> Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al
> mese per 12 mesi.
>
>
> http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/9d37e06e/attachment-0001.html
From sigfrido at tiscali.it  Mon May 16 05:27:57 2011
From: sigfrido at tiscali.it (sigfrido@tiscali.it)
Date: Mon May 16 22:17:49 2011
Subject: R: Re: Re: RE: [gdal-dev] GDAL build problems under Linux debian
	x86_64
Message-ID: <8429543.70601305538077264.JavaMail.defaultUser@defaultHost>


Sorry Chris, I made a cut & paste error: it's

export CONFIGURE_SHELL


and NOT

export
CONFIGURE_SHELL

Moreover, you have to specify several 
options to configure (thus the ..., I simply cut off mine options)

try 
with simply:

CONFIGURE_SHELL=/bin/bash
export CONFIGURE_SHELL
.
/configure
make
sudo make install


My very basic configure for example 
is:

./configure --with-pg=/usr/bin/pg_config \
--with-
mysql=/usr/bin/mysql_config

Sig

----Messaggio originale----
Da: 
goocreations@gmail.com
Data: 16/05/2011 11.23
A: "sigfrido@tiscali.it"
<sigfrido@tiscali.it>
Cc: <Josh.Vote@csiro.au>, <gdal-dev@lists.osgeo.
org>
Ogg: Re: Re: RE: [gdal-dev] GDAL build problems under Linux debian 
x86_64

I have problems with:

CONFIGURE_SHELL=/bin/bash     (works!)

export    (works!)
CONFIGURE_SHELL   (error: CONFIGURE_SHELL: command 
not found)
./configure --with-pg=/usr/bin/pg_config ...    (error:


configure: WARNING: you should use --build, --host, --target
checking 
build system type... Invalid configuration `...': machine `...' not

recognized
configure: error: /bin/bash ./config.sub ... failed

)

I've 
removed the third command and removed "..." from the last one. But it

still didn't work

Chris




On Mon, May 16, 2011 at 11:06 AM, 
sigfrido@tiscali.it
<sigfrido@tiscali.it>wrote:

> Hi Chris,
>
> I too 
have Ubuntu 10.04, and the CONFIGURE_SHELL solution
> worked for me. I 
didn't try the other solution, though.
>
> Sig
>
> ----
> Messaggio 
originale----
> Da: goocreations@gmail.com
> Data: 16/05/2011
> 10.53
> 
A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
> Cc: <Josh.
> Vote@csiro.
au>, <gdal-dev@lists.osgeo.org>
> Ogg: Re: RE: [gdal-dev] GDAL
> build 
problems under Linux debian x86_64
>
> Hi
>
> I still have the problem

> Ubuntun 10.04.
> I've tried the above solutions without any sucess.
> 
Any
> Ubuntu users have a solution?
>
> Chris
>
> On Mon, May 16, 2011 
at 10:28 AM,
> sigfrido@tiscali.it
> <sigfrido@tiscali.it>wrote:
>
> > 
Hi all,
> >
> > also
> setting the CONFIGURE_SHELL variable before 
running
> > configure worked
> for me:
> >
> > 
CONFIGURE_SHELL=/bin/bash
> > export
> > CONFIGURE_SHELL
> > .
> 
/configure --with-pg=/usr/bin/pg_config ...
> >
>
>
> Non temiamo alcun 
confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
>
> Risparmia con 
Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al
> mese per 
12 mesi.
>
>
> http://abbonati.tiscali.it/telefono-
adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
>





Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!

Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95 ? al mese per 12 mesi.

http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
From antonio.valentino at tiscali.it  Mon May 16 05:30:23 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Mon May 16 22:20:21 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <BANLkTime6SKzfsmDME1LLXvtaUiowno5xA@mail.gmail.com>
References: <21578666.62521305536812327.JavaMail.defaultUser@defaultHost>
	<BANLkTime6SKzfsmDME1LLXvtaUiowno5xA@mail.gmail.com>
Message-ID: <20110516113023.77ec8282@asigrid01>

Hi Goo Creations,

Il giorno Mon, 16 May 2011 11:23:05 +0200
Goo Creations <goocreations@gmail.com> ha scritto:

> I have problems with:
> 
> CONFIGURE_SHELL=/bin/bash     (works!)
> export    (works!)
> CONFIGURE_SHELL   (error: CONFIGURE_SHELL: command not found)
> ./configure --with-pg=/usr/bin/pg_config ...    (error:
>

$ export CONFIGURE_SHELL <ENTER>

is a single command (all on the same line)



>
> configure: WARNING: you should use --build, --host, --target
> checking build system type... Invalid configuration `...': machine
> `...' not recognized
> configure: error: /bin/bash ./config.sub ... failed
> 
> )
> 
> I've removed the third command and removed "..." from the last one.
> But it still didn't work
> 
> Chris
> 
> 
> 
> 
> On Mon, May 16, 2011 at 11:06 AM, sigfrido@tiscali.it
> <sigfrido@tiscali.it>wrote:
> 
> > Hi Chris,
> >
> > I too have Ubuntu 10.04, and the CONFIGURE_SHELL solution
> > worked for me. I didn't try the other solution, though.
> >
> > Sig
> >
> > ----
> > Messaggio originale----
> > Da: goocreations@gmail.com
> > Data: 16/05/2011
> > 10.53
> > A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
> > Cc: <Josh.
> > Vote@csiro.au>, <gdal-dev@lists.osgeo.org>
> > Ogg: Re: RE: [gdal-dev] GDAL
> > build problems under Linux debian x86_64
> >
> > Hi
> >
> > I still have the problem
> > Ubuntun 10.04.
> > I've tried the above solutions without any sucess.
> > Any
> > Ubuntu users have a solution?
> >
> > Chris
> >
> > On Mon, May 16, 2011 at 10:28 AM,
> > sigfrido@tiscali.it
> > <sigfrido@tiscali.it>wrote:
> >
> > > Hi all,
> > >
> > > also
> > setting the CONFIGURE_SHELL variable before running
> > > configure worked
> > for me:
> > >
> > > CONFIGURE_SHELL=/bin/bash
> > > export
> > > CONFIGURE_SHELL
> > > .
> > /configure --with-pg=/usr/bin/pg_config ...
> > >
> >
> >
> > Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
> >
> > Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95
> > ? al mese per 12 mesi.
> >
> >
> > http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
> >



-- 
Antonio Valentino
From goocreations at gmail.com  Mon May 16 05:47:27 2011
From: goocreations at gmail.com (Goo Creations)
Date: Mon May 16 22:38:07 2011
Subject: [gdal-dev] GDAL build problems under Linux debian x86_64
In-Reply-To: <20110516113023.77ec8282@asigrid01>
References: <21578666.62521305536812327.JavaMail.defaultUser@defaultHost>
	<BANLkTime6SKzfsmDME1LLXvtaUiowno5xA@mail.gmail.com>
	<20110516113023.77ec8282@asigrid01>
Message-ID: <BANLkTi=oiQh0=Mw0YDd9cMYmSBnKTL0WOg@mail.gmail.com>

Hi

No my configuration works perfectly, but I still get the same problem with
make. I've also tried to replace the libtool, without any success.

I was able to build the stable 1.8 without any problems. Is this a problem
in the trunk version that will be fixed,so should I wait for an update, or
is this permanent and I should try to find a solution?

Chris

On Mon, May 16, 2011 at 11:30 AM, Antonio Valentino <
antonio.valentino@tiscali.it> wrote:

> Hi Goo Creations,
>
> Il giorno Mon, 16 May 2011 11:23:05 +0200
> Goo Creations <goocreations@gmail.com> ha scritto:
>
> > I have problems with:
> >
> > CONFIGURE_SHELL=/bin/bash     (works!)
> > export    (works!)
> > CONFIGURE_SHELL   (error: CONFIGURE_SHELL: command not found)
> > ./configure --with-pg=/usr/bin/pg_config ...    (error:
> >
>
> $ export CONFIGURE_SHELL <ENTER>
>
> is a single command (all on the same line)
>
>
>
> >
> > configure: WARNING: you should use --build, --host, --target
> > checking build system type... Invalid configuration `...': machine
> > `...' not recognized
> > configure: error: /bin/bash ./config.sub ... failed
> >
> > )
> >
> > I've removed the third command and removed "..." from the last one.
> > But it still didn't work
> >
> > Chris
> >
> >
> >
> >
> > On Mon, May 16, 2011 at 11:06 AM, sigfrido@tiscali.it
> > <sigfrido@tiscali.it>wrote:
> >
> > > Hi Chris,
> > >
> > > I too have Ubuntu 10.04, and the CONFIGURE_SHELL solution
> > > worked for me. I didn't try the other solution, though.
> > >
> > > Sig
> > >
> > > ----
> > > Messaggio originale----
> > > Da: goocreations@gmail.com
> > > Data: 16/05/2011
> > > 10.53
> > > A: "sigfrido@tiscali.it"<sigfrido@tiscali.it>
> > > Cc: <Josh.
> > > Vote@csiro.au>, <gdal-dev@lists.osgeo.org>
> > > Ogg: Re: RE: [gdal-dev] GDAL
> > > build problems under Linux debian x86_64
> > >
> > > Hi
> > >
> > > I still have the problem
> > > Ubuntun 10.04.
> > > I've tried the above solutions without any sucess.
> > > Any
> > > Ubuntu users have a solution?
> > >
> > > Chris
> > >
> > > On Mon, May 16, 2011 at 10:28 AM,
> > > sigfrido@tiscali.it
> > > <sigfrido@tiscali.it>wrote:
> > >
> > > > Hi all,
> > > >
> > > > also
> > > setting the CONFIGURE_SHELL variable before running
> > > > configure worked
> > > for me:
> > > >
> > > > CONFIGURE_SHELL=/bin/bash
> > > > export
> > > > CONFIGURE_SHELL
> > > > .
> > > /configure --with-pg=/usr/bin/pg_config ...
> > > >
> > >
> > >
> > > Non temiamo alcun confronto: Tiscali ha l'Adsl pi? veloce d'Italia!
> > >
> > > Risparmia con Tutto Incluso Light: Voce + Adsl 20 mega a soli 17,95
> > > ? al mese per 12 mesi.
> > >
> > >
> > >
> http://abbonati.tiscali.it/telefono-adsl/prodotti/tc/tuttoincluso_light/?WT.mc_id=01fw
> > >
>
>
>
> --
> Antonio Valentino
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/ed83b3a6/attachment.html
From jormarfe at gmail.com  Mon May 16 12:02:20 2011
From: jormarfe at gmail.com (Jorge Martin)
Date: Tue May 17 05:13:39 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
Message-ID: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>

Hello,

       I am interested in writing different Keys_DS in the same TIFF file
using gdal library. I only know how to write one Key_DS but I do not know
how to include more than one KEY_DS, and I know that TIFF standard allow it.
Does anyone know how to implement it with gdal library?


Many Thanks,


Jorge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/b394b0e9/attachment.html
From antonio.valentino at tiscali.it  Mon May 16 12:30:00 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Tue May 17 05:42:56 2011
Subject: [gdal-dev] Re: How to get the ENVISAT N1 Main Processing
	parameters
In-Reply-To: <iqqkbi$dbc$1@dough.gmane.org>
References: <1305463615324-6365377.post@n2.nabble.com>
	<4DCFFCCD.1030209@tiscali.it> <iqqkbi$dbc$1@dough.gmane.org>
Message-ID: <20110516183000.1ac17737@asigrid01>

Hi Knut-Frode,

Il giorno Mon, 16 May 2011 09:39:30 +0200
Knut-Frode Dagestad <knutfrodesoppel@hotmail.com> ha scritto:

> Hi RSyaoxin and Antonio,
> 
> I share your interest in these metadata. In addition to the MPH and
> SPH metadata in ASCII-format, Envisat files contain a lot of metadata
> in binary form, e.g. for ASAR:
> http://envisat.esa.int/handbooks/asar/CNTR6-6.htm#eph.asar.asardf.asarrec
> 
> It would probably be too much to ask for the GDAL Envisat driver to 
> import all of this. However, there are some missing metadata which
> are of special importance:
> 
> - the calibration factors, which RSyaoxin mentions
> - the incidence angles: 
> http://envisat.esa.int/handbooks/asar/CNTR6-6-9.htm#eph.asar.asardf.asarrec.ASAR_Geo_Grid_ADSR
> 
> Both of this is necessary to be able to calibrate the data, and hence
> to be able to make any geophysical calculations from them.
> It would be really nice if the GDAL Envisat driver could be updated
> to read this as well, and most users would not need to rely on (or
> create) external software.
> 

From a practical point of view it should be relatively easy to
implement this feature using a lower level library like the libepr-api.
I could manage to do it in a relatively short time.

Unfortunately, apart from other considerations, the solution is not
acceptable since libepr-api is GPL3.

An alternative solution is to write from scratch the routines for
decoding of ENVISAT records but this is would require a larger effort.

Again I could try to do it but I would like to receive some sign of
interest in this feature from GDAL developers before starting to code.

> The incidence angles are stored in a small grid at the same size as
> the GCP?s, (order of 100 elements), which does not fit very nicely
> into the GDAL datamodel - it would probably have to be stored as a
> list of metadata strings.
> 
> Best regards from Knut-Frode
> 

Yes, it is indeed a problem. My feeling is that the currant trend is
keeping metadata as flat and simple as possible.

> 
> On 15/05/2011 18:18, Antonio Valentino wrote:
> > Hi RSyaoxin,
> >
> > Il 15/05/2011 14:46, RSyaoxin ha scritto:
> >> Hi,I want to calibration the ENVISAT ASAR DATA(.N1 Format). I need
> >> to get it's main processing parameters,such as
> >> calibration_factors[0].ext_cal_fact[0],first_line_tie_point_angles[0-10],and
> >> I wrote: CString
> >> sDomain=m_pDataset->GetMetadataItem("MAIN_PROCESSING_PARAMS_ADS_CALIBRATION_FACTORS[0].EXT_CAL_FACT[0]");but
> >> I can't get result.
> >> However, "CString
> >> sDomain=m_pDataset->GetMetadataItem("SPH_FIRST_MID_LAT")" is
> >> right.That's Why?How should I go to get necessary information? I
> >> turn to Anybody who once did this job for some advice. Thank you!
> >> Kind regards.
> >>
> >
> > It seems that the envisat driver do not extracts all metadata from
> > all ENVISAT records.
> > It just exposes MPH, SPH and GCPs
> >
> > http://www.gdal.org/frmt_various.html#Envisat
> >
> >> From my point of view it would be very useful to be able to have
> >> access
> > to a richer set of metadata from GDAL (at east for SAR products).
> >
> > If you are only interested in ENVISAT then you could give a try to
> >
> > https://github.com/bcdev/epr-api
> >
> > that give you full access to the ENVISAT products eve if, IMHO, it
> > is not so handly as GDAL for imagery IO.
> >
> > Maybe you can use them both: EPR for metadata and GDAL for imagery.

best regards

-- 
Antonio Valentino
From warmerdam at pobox.com  Mon May 16 12:38:54 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 17 05:52:18 2011
Subject: [gdal-dev] Re: How to get the ENVISAT N1 Main Processing
	parameters
In-Reply-To: <20110516183000.1ac17737@asigrid01>
References: <1305463615324-6365377.post@n2.nabble.com>
	<4DCFFCCD.1030209@tiscali.it> <iqqkbi$dbc$1@dough.gmane.org>
	<20110516183000.1ac17737@asigrid01>
Message-ID: <4DD1531E.9060509@pobox.com>

On 11-05-16 12:30 PM, Antonio Valentino wrote:
> An alternative solution is to write from scratch the routines for
> decoding of ENVISAT records but this is would require a larger effort.
>
> Again I could try to do it but I would like to receive some sign of
> interest in this feature from GDAL developers before starting to code.

Antonio,

I am reasonably willing to incorporate improvements into this driver
if you submit them via ticket as diffs against trunk.

>> The incidence angles are stored in a small grid at the same size as
>> the GCP?s, (order of 100 elements), which does not fit very nicely
>> into the GDAL datamodel - it would probably have to be stored as a
>> list of metadata strings.
>>
>> Best regards from Knut-Frode
>>
>
> Yes, it is indeed a problem. My feeling is that the currant trend is
> keeping metadata as flat and simple as possible.

Note, if there is metadata that seems pretty bulky to put in the default
metadata domain, it may make sense to put it in a special metadata
domain.  That way it isn't always showing up in gdalinfo reports, and
doesn't get carried along into other formats unnecessarily.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From chaitanya.ch at gmail.com  Mon May 16 12:52:54 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May 17 06:07:07 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
Message-ID: <BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>

Jorge,

You can set and retrieve metadata items from a TIFF dataset (TIFF file)
using the methods documented in
http://www.gdal.org/classGDALMajorObject.html

On Mon, May 16, 2011 at 9:32 PM, Jorge Martin <jormarfe@gmail.com> wrote:

> Hello,
>
>        I am interested in writing different Keys_DS in the same TIFF file
> using gdal library. I only know how to write one Key_DS but I do not know
> how to include more than one KEY_DS, and I know that TIFF standard allow it.
> Does anyone know how to implement it with gdal library?
>
>
> Many Thanks,
>
>
> Jorge
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/13687f0c/attachment.html
From mike at stamen.com  Mon May 16 13:44:15 2011
From: mike at stamen.com (Michal Migurski)
Date: Tue May 17 07:01:01 2011
Subject: [gdal-dev] Attempting to merge DEMs with gdal_merge.py - getting
	Float32 clipped to 255.0
In-Reply-To: <BANLkTikJFYPe5TgyHq0wwdCTsDf1vpMiaQ@mail.gmail.com>
References: <66CB515D-8091-4D73-AB06-3680EEEB86F0@stamen.com>
	<BANLkTikJFYPe5TgyHq0wwdCTsDf1vpMiaQ@mail.gmail.com>
Message-ID: <F700865B-4091-45DA-AE95-46ACAEB48CD2@stamen.com>

Hi Chatinya,

Thanks for the advice - I've definitely ensured that the file does not exist first, cleared it out and re-ran gdal_merge.py. The result still has the same clipping to 255.

-mike.

On May 15, 2011, at 9:19 PM, Chaitanya kumar CH wrote:

> Michal,
> 
> Check if the output file already exists. The script won't create a new one if it already exists.
> 
> On Mon, May 16, 2011 at 12:45 AM, Michal Migurski <mike@stamen.com> wrote:
> Hello,
> 
> I'm attempting to merge a number of DEMs in .flt format using gdal_merge.py. It's NED 1/3 arc second data, so each one is a Float32 10812x10812 raster with a range of values from a few meters below sea level to 1.4km. I'm getting back an image with an incorrect datatype even though I believe that I'm using the right "-ot Float32" parameter to gdal_merge.py. I appear to have gdal 1.5.4 on this machine; I can upgrade to a newer one if necessary but I'd first like to make sure I'm not using the tool incorrectly.
> 
> Here's the command I use:
> 
>        gdal_merge.py -o 38122.tif -of GTiff -ot Float32 -v -ul_lr -122.05 38.05 -121.95 37.95 10m/*.flt
> 
> What I get back is a 1080x1080 GeoTIFF with the correct bounds that I'm expecting, but what appears to be garbage data or perhaps just raw floating point values misinterpreted as bytes. Here's the output showing Byte values instead of Float32 as I'd expect:
> 
>        Band 1 Block=1080x7 Type=Byte, ColorInterp=Gray
>          Min=0.000 Max=255.000
>          Minimum=0.000, Maximum=255.000, Mean=108.657, StdDev=66.615
> 
> This is a sample of the resulting image in pseudocolor, showing the vertical banding every 4px that makes me think the bytes are just a raw Float32 stream:
> 
>        http://mike.teczno.com/img/38122-rainbow.png
> 
> Here is a sample input band:
> 
>        Band 1 Block=10812x1 Type=Float32, ColorInterp=Undefined
>            Computed Min/Max=-8.170,1440.937
>          NoData Value=-9999
> 
> Am I using -ot incorrectly?
> 
> -mike.
> 
> ----------------------------------------------------------------
> michal migurski- mike@stamen.com
>                 415.558.1610
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/ 
> +91-9494447584
> 17.2416N 80.1426E

----------------------------------------------------------------
michal migurski- mike@stamen.com
                 415.558.1610



From antonio.valentino at tiscali.it  Mon May 16 13:48:57 2011
From: antonio.valentino at tiscali.it (Antonio Valentino)
Date: Tue May 17 07:06:08 2011
Subject: [gdal-dev] Re: How to get the ENVISAT N1 Main
	Processing	parameters
In-Reply-To: <4DD1531E.9060509@pobox.com>
References: <1305463615324-6365377.post@n2.nabble.com>	<4DCFFCCD.1030209@tiscali.it>
	<iqqkbi$dbc$1@dough.gmane.org>	<20110516183000.1ac17737@asigrid01>
	<4DD1531E.9060509@pobox.com>
Message-ID: <4DD16389.3090905@tiscali.it>

Il 16/05/2011 18:38, Frank Warmerdam ha scritto:
> On 11-05-16 12:30 PM, Antonio Valentino wrote:
>> An alternative solution is to write from scratch the routines for
>> decoding of ENVISAT records but this is would require a larger effort.
>>
>> Again I could try to do it but I would like to receive some sign of
>> interest in this feature from GDAL developers before starting to code.
> 
> Antonio,
> 
> I am reasonably willing to incorporate improvements into this driver
> if you submit them via ticket as diffs against trunk.
> 

Yes, of course.

Thank you


>>> The incidence angles are stored in a small grid at the same size as
>>> the GCP?s, (order of 100 elements), which does not fit very nicely
>>> into the GDAL datamodel - it would probably have to be stored as a
>>> list of metadata strings.
>>>
>>> Best regards from Knut-Frode
>>>
>>
>> Yes, it is indeed a problem. My feeling is that the currant trend is
>> keeping metadata as flat and simple as possible.
> 
> Note, if there is metadata that seems pretty bulky to put in the default
> metadata domain, it may make sense to put it in a special metadata
> domain.  That way it isn't always showing up in gdalinfo reports, and
> doesn't get carried along into other formats unnecessarily.

OK.
Incidence angles grids are indexed with image coordinates so it is a
good think, IMHO, to stop their uncontrolled propagation.

best regards

-- 
Antonio Valentino
From chaitanya.ch at gmail.com  Mon May 16 13:56:30 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May 17 07:13:59 2011
Subject: [gdal-dev] Attempting to merge DEMs with gdal_merge.py - getting
	Float32 clipped to 255.0
In-Reply-To: <F700865B-4091-45DA-AE95-46ACAEB48CD2@stamen.com>
References: <66CB515D-8091-4D73-AB06-3680EEEB86F0@stamen.com>
	<BANLkTikJFYPe5TgyHq0wwdCTsDf1vpMiaQ@mail.gmail.com>
	<F700865B-4091-45DA-AE95-46ACAEB48CD2@stamen.com>
Message-ID: <BANLkTimWcA4mpTL_EnR9SCPxHnnqvk=z+A@mail.gmail.com>

Michal,

I can't think of anything else that may be causing this. Can you run this
using the latest version, gdal-1.8?

On Mon, May 16, 2011 at 11:14 PM, Michal Migurski <mike@stamen.com> wrote:

> Hi Chaitanya,
>
> Thanks for the advice - I've definitely ensured that the file does not
> exist first, cleared it out and re-ran gdal_merge.py. The result still has
> the same clipping to 255.
>
> -mike.
>
> On May 15, 2011, at 9:19 PM, Chaitanya kumar CH wrote:
>
> > Michal,
> >
> > Check if the output file already exists. The script won't create a new
> one if it already exists.
> >
> > On Mon, May 16, 2011 at 12:45 AM, Michal Migurski <mike@stamen.com>
> wrote:
> > Hello,
> >
> > I'm attempting to merge a number of DEMs in .flt format using
> gdal_merge.py. It's NED 1/3 arc second data, so each one is a Float32
> 10812x10812 raster with a range of values from a few meters below sea level
> to 1.4km. I'm getting back an image with an incorrect datatype even though I
> believe that I'm using the right "-ot Float32" parameter to gdal_merge.py. I
> appear to have gdal 1.5.4 on this machine; I can upgrade to a newer one if
> necessary but I'd first like to make sure I'm not using the tool
> incorrectly.
> >
> > Here's the command I use:
> >
> >        gdal_merge.py -o 38122.tif -of GTiff -ot Float32 -v -ul_lr -122.05
> 38.05 -121.95 37.95 10m/*.flt
> >
> > What I get back is a 1080x1080 GeoTIFF with the correct bounds that I'm
> expecting, but what appears to be garbage data or perhaps just raw floating
> point values misinterpreted as bytes. Here's the output showing Byte values
> instead of Float32 as I'd expect:
> >
> >        Band 1 Block=1080x7 Type=Byte, ColorInterp=Gray
> >          Min=0.000 Max=255.000
> >          Minimum=0.000, Maximum=255.000, Mean=108.657, StdDev=66.615
> >
> > This is a sample of the resulting image in pseudocolor, showing the
> vertical banding every 4px that makes me think the bytes are just a raw
> Float32 stream:
> >
> >        http://mike.teczno.com/img/38122-rainbow.png
> >
> > Here is a sample input band:
> >
> >        Band 1 Block=10812x1 Type=Float32, ColorInterp=Undefined
> >            Computed Min/Max=-8.170,1440.937
> >          NoData Value=-9999
> >
> > Am I using -ot incorrectly?
> >
> > -mike.
> >
> > ----------------------------------------------------------------
> > michal migurski- mike@stamen.com
> >                 415.558.1610
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> > /t?a???nj?/ /k?m?r/
> > +91-9494447584
> > 17.2416N 80.1426E
>
> ----------------------------------------------------------------
> michal migurski- mike@stamen.com
>                 415.558.1610
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110516/115e60c7/attachment.html
From jsimpson at wxtrends.com  Mon May 16 14:34:21 2011
From: jsimpson at wxtrends.com (Jerl Simpson)
Date: Tue May 17 07:53:48 2011
Subject: [gdal-dev] Labeling rasters
Message-ID: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>

Hi guys and gals:

I have something that's evading me.  I have a basic ESRI Shape file
(created using gdal_contour) that I run through gdal_rasterize to
generate very nice looking contour map.  But I want the value of the
contour in there.

I've been trying different things with the -a option, but I can't get
it to work out.
Here's the latest thing I've tried for gdal_rasterize:

gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
-burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif

I put an extra burn value in there (have also tried with out) to see
if maybe it was just going in as 0.  BLANK.tif is just a black image.
I'm sure I'm missing something simple, just can't see it.  I thought
the -a would burn the value of "contour" into the raster.

Thanks for any guidance!!

Here's the data from my shapefile:

INFO: Open of `contour/'
      using driver `ESRI Shapefile' successful.

Layer name: contour
Geometry: 3D Line String
Feature Count: 157
Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
Layer SRS WKT:
GEOGCS["GCS_WGS_1984",
    DATUM["WGS_1984",
        SPHEROID["WGS_1984",6378137,298.257223563]],
    PRIMEM["Greenwich",0],
    UNIT["Degree",0.017453292519943295]]
ID: Integer (8.0)
contour: Real (12.3)
OGRFeature(contour):0
  ID (Integer) = 0
  contour (Real) =     1000.000
  LINESTRING (87.765060240963862 80.0 1000,.....
From chaitanya.ch at gmail.com  Mon May 16 15:41:17 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May 17 09:04:40 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
Message-ID: <BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>

Jerl,

The contour attribute and the Z values are same here. Just one of them is
enough.

With the Z values near the magnitude of 1000, the burn value of 255 is not
going to make much of a difference. Use it if you want to offset any
negative Z values.

You should mention contour.shp instead of just 'contour' for
<src_datasource>.

Make sure BLANK.tif doesn't have different extents/projection.

Your final image will have a data type of Float64. You may have to run some
contrast stretching operations on it.

On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com>wrote:

> Hi guys and gals:
>
> I have something that's evading me.  I have a basic ESRI Shape file
> (created using gdal_contour) that I run through gdal_rasterize to
> generate very nice looking contour map.  But I want the value of the
> contour in there.
>
> I've been trying different things with the -a option, but I can't get
> it to work out.
> Here's the latest thing I've tried for gdal_rasterize:
>
> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
>
> I put an extra burn value in there (have also tried with out) to see
> if maybe it was just going in as 0.  BLANK.tif is just a black image.
> I'm sure I'm missing something simple, just can't see it.  I thought
> the -a would burn the value of "contour" into the raster.
>
> Thanks for any guidance!!
>
> Here's the data from my shapefile:
>
> INFO: Open of `contour/'
>      using driver `ESRI Shapefile' successful.
>
> Layer name: contour
> Geometry: 3D Line String
> Feature Count: 157
> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
> Layer SRS WKT:
> GEOGCS["GCS_WGS_1984",
>    DATUM["WGS_1984",
>        SPHEROID["WGS_1984",6378137,298.257223563]],
>    PRIMEM["Greenwich",0],
>    UNIT["Degree",0.017453292519943295]]
> ID: Integer (8.0)
> contour: Real (12.3)
> OGRFeature(contour):0
>  ID (Integer) = 0
>  contour (Real) =     1000.000
>  LINESTRING (87.765060240963862 80.0 1000,.....
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/587e7f9d/attachment-0001.html
From jsimpson at wxtrends.com  Mon May 16 16:00:10 2011
From: jsimpson at wxtrends.com (Jerl Simpson)
Date: Tue May 17 09:24:34 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
	<BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
Message-ID: <BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>

I already have the resultant image, it looks great.   Just drawing
lines on a map.  I'm using a blank image so I can more clearly see
what's going on.  It's just a black and white image, and that's all I
want.
I'm trying to get the contour labeled, so I know which one I'm
viewing.  So on the 1000 contour, I should see 1000 on the line
somewhere, and if it's a 547 contour, I should see 547 on the line
somewhere.

Is that possible?

Thanks,

Jerl

On Mon, May 16, 2011 at 2:41 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com> wrote:
> Jerl,
>
> The contour attribute and the Z values are same here. Just one of them is
> enough.
>
> With the Z values near the magnitude of 1000, the burn value of 255 is not
> going to make much of a difference. Use it if you want to offset any
> negative Z values.
>
> You should mention contour.shp instead of just 'contour' for
> <src_datasource>.
>
> Make sure BLANK.tif doesn't have different extents/projection.
>
> Your final image will have a data type of Float64. You may have to run some
> contrast stretching operations on it.
>
> On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com>
> wrote:
>>
>> Hi guys and gals:
>>
>> I have something that's evading me. ?I have a basic ESRI Shape file
>> (created using gdal_contour) that I run through gdal_rasterize to
>> generate very nice looking contour map. ?But I want the value of the
>> contour in there.
>>
>> I've been trying different things with the -a option, but I can't get
>> it to work out.
>> Here's the latest thing I've tried for gdal_rasterize:
>>
>> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
>> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
>>
>> I put an extra burn value in there (have also tried with out) to see
>> if maybe it was just going in as 0. ?BLANK.tif is just a black image.
>> I'm sure I'm missing something simple, just can't see it. ?I thought
>> the -a would burn the value of "contour" into the raster.
>>
>> Thanks for any guidance!!
>>
>> Here's the data from my shapefile:
>>
>> INFO: Open of `contour/'
>> ? ? ?using driver `ESRI Shapefile' successful.
>>
>> Layer name: contour
>> Geometry: 3D Line String
>> Feature Count: 157
>> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
>> Layer SRS WKT:
>> GEOGCS["GCS_WGS_1984",
>> ? ?DATUM["WGS_1984",
>> ? ? ? ?SPHEROID["WGS_1984",6378137,298.257223563]],
>> ? ?PRIMEM["Greenwich",0],
>> ? ?UNIT["Degree",0.017453292519943295]]
>> ID: Integer (8.0)
>> contour: Real (12.3)
>> OGRFeature(contour):0
>> ?ID (Integer) = 0
>> ?contour (Real) = ? ? 1000.000
>> ?LINESTRING (87.765060240963862 80.0 1000,.....
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>



-- 
This communication is privileged and may contain confidential
information. ?It's intended only for the use of the person or entity
named above. If you are not the intended recipient, do not distribute
or copy this communication. If you have received this communication in
error, please notify the sender immediately and return the original to
the email address above. ? Copyright 2011 Weather Trends
International, Inc.
From chaitanya.ch at gmail.com  Mon May 16 16:06:25 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May 17 09:31:06 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
	<BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
	<BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>
Message-ID: <BANLkTikEXHYvZN6aG_3c=HWaSJDzgDEBxg@mail.gmail.com>

Jerl,

I'm afraid gdal_rasterize can't do the labelling. You will need a
specialized renderer for that. I'm not familiar with any of the desktop
applications that do this. Perhaps, qgis has a plugin.

On Tue, May 17, 2011 at 1:30 AM, Jerl Simpson <jsimpson@wxtrends.com> wrote:

> I already have the resultant image, it looks great.   Just drawing
> lines on a map.  I'm using a blank image so I can more clearly see
> what's going on.  It's just a black and white image, and that's all I
> want.
> I'm trying to get the contour labeled, so I know which one I'm
> viewing.  So on the 1000 contour, I should see 1000 on the line
> somewhere, and if it's a 547 contour, I should see 547 on the line
> somewhere.
>
> Is that possible?
>
> Thanks,
>
> Jerl
>
> On Mon, May 16, 2011 at 2:41 PM, Chaitanya kumar CH
> <chaitanya.ch@gmail.com> wrote:
> > Jerl,
> >
> > The contour attribute and the Z values are same here. Just one of them is
> > enough.
> >
> > With the Z values near the magnitude of 1000, the burn value of 255 is
> not
> > going to make much of a difference. Use it if you want to offset any
> > negative Z values.
> >
> > You should mention contour.shp instead of just 'contour' for
> > <src_datasource>.
> >
> > Make sure BLANK.tif doesn't have different extents/projection.
> >
> > Your final image will have a data type of Float64. You may have to run
> some
> > contrast stretching operations on it.
> >
> > On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com>
> > wrote:
> >>
> >> Hi guys and gals:
> >>
> >> I have something that's evading me.  I have a basic ESRI Shape file
> >> (created using gdal_contour) that I run through gdal_rasterize to
> >> generate very nice looking contour map.  But I want the value of the
> >> contour in there.
> >>
> >> I've been trying different things with the -a option, but I can't get
> >> it to work out.
> >> Here's the latest thing I've tried for gdal_rasterize:
> >>
> >> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
> >> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
> >>
> >> I put an extra burn value in there (have also tried with out) to see
> >> if maybe it was just going in as 0.  BLANK.tif is just a black image.
> >> I'm sure I'm missing something simple, just can't see it.  I thought
> >> the -a would burn the value of "contour" into the raster.
> >>
> >> Thanks for any guidance!!
> >>
> >> Here's the data from my shapefile:
> >>
> >> INFO: Open of `contour/'
> >>      using driver `ESRI Shapefile' successful.
> >>
> >> Layer name: contour
> >> Geometry: 3D Line String
> >> Feature Count: 157
> >> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
> >> Layer SRS WKT:
> >> GEOGCS["GCS_WGS_1984",
> >>    DATUM["WGS_1984",
> >>        SPHEROID["WGS_1984",6378137,298.257223563]],
> >>    PRIMEM["Greenwich",0],
> >>    UNIT["Degree",0.017453292519943295]]
> >> ID: Integer (8.0)
> >> contour: Real (12.3)
> >> OGRFeature(contour):0
> >>  ID (Integer) = 0
> >>  contour (Real) =     1000.000
> >>  LINESTRING (87.765060240963862 80.0 1000,.....
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> > /t?a???nj?/ /k?m?r/
> > +91-9494447584
> > 17.2416N 80.1426E
> >
>
>
>
> --
> This communication is privileged and may contain confidential
> information.  It's intended only for the use of the person or entity
> named above. If you are not the intended recipient, do not distribute
> or copy this communication. If you have received this communication in
> error, please notify the sender immediately and return the original to
> the email address above. ? Copyright 2011 Weather Trends
> International, Inc.
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/39efa2cd/attachment.html
From jsimpson at wxtrends.com  Mon May 16 16:08:16 2011
From: jsimpson at wxtrends.com (Jerl Simpson)
Date: Tue May 17 09:32:58 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTikEXHYvZN6aG_3c=HWaSJDzgDEBxg@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
	<BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
	<BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>
	<BANLkTikEXHYvZN6aG_3c=HWaSJDzgDEBxg@mail.gmail.com>
Message-ID: <BANLkTi=OenW7s7VdG=kh1KcGunPRXAZFqQ@mail.gmail.com>

Ok, thank you.

Does anyone else have any suggestions?



On Mon, May 16, 2011 at 3:06 PM, Chaitanya kumar CH
<chaitanya.ch@gmail.com> wrote:
> Jerl,
>
> I'm afraid gdal_rasterize can't do the labelling. You will need a
> specialized renderer for that. I'm not familiar with any of the desktop
> applications that do this. Perhaps, qgis has a plugin.
>
> On Tue, May 17, 2011 at 1:30 AM, Jerl Simpson <jsimpson@wxtrends.com> wrote:
>>
>> I already have the resultant image, it looks great. ? Just drawing
>> lines on a map. ?I'm using a blank image so I can more clearly see
>> what's going on. ?It's just a black and white image, and that's all I
>> want.
>> I'm trying to get the contour labeled, so I know which one I'm
>> viewing. ?So on the 1000 contour, I should see 1000 on the line
>> somewhere, and if it's a 547 contour, I should see 547 on the line
>> somewhere.
>>
>> Is that possible?
>>
>> Thanks,
>>
>> Jerl
>>
>> On Mon, May 16, 2011 at 2:41 PM, Chaitanya kumar CH
>> <chaitanya.ch@gmail.com> wrote:
>> > Jerl,
>> >
>> > The contour attribute and the Z values are same here. Just one of them
>> > is
>> > enough.
>> >
>> > With the Z values near the magnitude of 1000, the burn value of 255 is
>> > not
>> > going to make much of a difference. Use it if you want to offset any
>> > negative Z values.
>> >
>> > You should mention contour.shp instead of just 'contour' for
>> > <src_datasource>.
>> >
>> > Make sure BLANK.tif doesn't have different extents/projection.
>> >
>> > Your final image will have a data type of Float64. You may have to run
>> > some
>> > contrast stretching operations on it.
>> >
>> > On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com>
>> > wrote:
>> >>
>> >> Hi guys and gals:
>> >>
>> >> I have something that's evading me. ?I have a basic ESRI Shape file
>> >> (created using gdal_contour) that I run through gdal_rasterize to
>> >> generate very nice looking contour map. ?But I want the value of the
>> >> contour in there.
>> >>
>> >> I've been trying different things with the -a option, but I can't get
>> >> it to work out.
>> >> Here's the latest thing I've tried for gdal_rasterize:
>> >>
>> >> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
>> >> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
>> >>
>> >> I put an extra burn value in there (have also tried with out) to see
>> >> if maybe it was just going in as 0. ?BLANK.tif is just a black image.
>> >> I'm sure I'm missing something simple, just can't see it. ?I thought
>> >> the -a would burn the value of "contour" into the raster.
>> >>
>> >> Thanks for any guidance!!
>> >>
>> >> Here's the data from my shapefile:
>> >>
>> >> INFO: Open of `contour/'
>> >> ? ? ?using driver `ESRI Shapefile' successful.
>> >>
>> >> Layer name: contour
>> >> Geometry: 3D Line String
>> >> Feature Count: 157
>> >> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
>> >> Layer SRS WKT:
>> >> GEOGCS["GCS_WGS_1984",
>> >> ? ?DATUM["WGS_1984",
>> >> ? ? ? ?SPHEROID["WGS_1984",6378137,298.257223563]],
>> >> ? ?PRIMEM["Greenwich",0],
>> >> ? ?UNIT["Degree",0.017453292519943295]]
>> >> ID: Integer (8.0)
>> >> contour: Real (12.3)
>> >> OGRFeature(contour):0
>> >> ?ID (Integer) = 0
>> >> ?contour (Real) = ? ? 1000.000
>> >> ?LINESTRING (87.765060240963862 80.0 1000,.....
>> >> _______________________________________________
>> >> gdal-dev mailing list
>> >> gdal-dev@lists.osgeo.org
>> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >
>> >
>> >
>> > --
>> > Best regards,
>> > Chaitanya kumar CH.
>> > /t?a???nj?/ /k?m?r/
>> > +91-9494447584
>> > 17.2416N 80.1426E
>> >
>>
>>
>>
>> --
>> This communication is privileged and may contain confidential
>> information. ?It's intended only for the use of the person or entity
>> named above. If you are not the intended recipient, do not distribute
>> or copy this communication. If you have received this communication in
>> error, please notify the sender immediately and return the original to
>> the email address above. ? Copyright 2011 Weather Trends
>> International, Inc.
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>



-- 
This communication is privileged and may contain confidential
information. ?It's intended only for the use of the person or entity
named above. If you are not the intended recipient, do not distribute
or copy this communication. If you have received this communication in
error, please notify the sender immediately and return the original to
the email address above. ? Copyright 2011 Weather Trends
International, Inc.
From jormarfe at gmail.com  Mon May 16 19:08:28 2011
From: jormarfe at gmail.com (Jorge)
Date: Tue May 17 12:43:34 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
Message-ID: <555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>

Hello,


Many thanks for your help, but if I want to generate a tiff file which contains multiples images, How I  can do it using gdal? because I know that tiff standard allows to generate multiple images in a single tiff file. 

Best regards,
Jorge

El 16/05/2011, a las 18:52, Chaitanya kumar CH <chaitanya.ch@gmail.com> escribi?:

> Jorge,
> 
> You can set and retrieve metadata items from a TIFF dataset (TIFF file) using the methods documented in http://www.gdal.org/classGDALMajorObject.html
> 
> On Mon, May 16, 2011 at 9:32 PM, Jorge Martin <jormarfe@gmail.com> wrote:
> Hello,
> 
>        I am interested in writing different Keys_DS in the same TIFF file using gdal library. I only know how to write one Key_DS but I do not know how to include more than one KEY_DS, and I know that TIFF standard allow it. Does anyone know how to implement it with gdal library?
> 
> 
> Many Thanks,
> 
> 
> Jorge
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/ 
> +91-9494447584
> 17.2416N 80.1426E

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/5d52f4e5/attachment.html
From warmerdam at pobox.com  Mon May 16 20:10:09 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 17 13:48:29 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
Message-ID: <4DD1BCE1.2090005@pobox.com>

On 11-05-16 07:08 PM, Jorge wrote:
> Hello,
>
>
> Many thanks for your help, but if I want to generate a tiff file which contains
> multiples images, How I can do it using gdal? because I know that tiff standard
> allows to generate multiple images in a single tiff file.

Jorge,

I have skimmed the GeoTIFF driver and it does not seem to support creating
multi-image files (with special exceptions for overviews and masks).  I
thought maybe I had implemented a mechanism to add new images to an existing
GeoTIFF file but apparently not.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From silyko at gmail.com  Tue May 17 02:45:59 2011
From: silyko at gmail.com (Simon Lyngby Kokkendorff)
Date: Tue May 17 20:46:15 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTi=OenW7s7VdG=kh1KcGunPRXAZFqQ@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
	<BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
	<BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>
	<BANLkTikEXHYvZN6aG_3c=HWaSJDzgDEBxg@mail.gmail.com>
	<BANLkTi=OenW7s7VdG=kh1KcGunPRXAZFqQ@mail.gmail.com>
Message-ID: <BANLkTinr_Hze2=aGnabMj7qugOeR6Z+9Tg@mail.gmail.com>

Hi Jerl,

  If you have python with matplotlib and the gdal bindings installed, you
can use gdal to read the DEM (which I assume you are getting gdal_contour to
draw contours from), and then matplotlibs contour-function to draw the
labelled contours. You can draw  on top of an imported map/image-file. I
know that matplotlib will read at least png's, and I think also other image
formats (with the right packages installed).

 Cheers,
 Simon


On Mon, May 16, 2011 at 10:08 PM, Jerl Simpson <jsimpson@wxtrends.com>wrote:

> Ok, thank you.
>
> Does anyone else have any suggestions?
>
>
>
> On Mon, May 16, 2011 at 3:06 PM, Chaitanya kumar CH
> <chaitanya.ch@gmail.com> wrote:
> > Jerl,
> >
> > I'm afraid gdal_rasterize can't do the labelling. You will need a
> > specialized renderer for that. I'm not familiar with any of the desktop
> > applications that do this. Perhaps, qgis has a plugin.
> >
> > On Tue, May 17, 2011 at 1:30 AM, Jerl Simpson <jsimpson@wxtrends.com>
> wrote:
> >>
> >> I already have the resultant image, it looks great.   Just drawing
> >> lines on a map.  I'm using a blank image so I can more clearly see
> >> what's going on.  It's just a black and white image, and that's all I
> >> want.
> >> I'm trying to get the contour labeled, so I know which one I'm
> >> viewing.  So on the 1000 contour, I should see 1000 on the line
> >> somewhere, and if it's a 547 contour, I should see 547 on the line
> >> somewhere.
> >>
> >> Is that possible?
> >>
> >> Thanks,
> >>
> >> Jerl
> >>
> >> On Mon, May 16, 2011 at 2:41 PM, Chaitanya kumar CH
> >> <chaitanya.ch@gmail.com> wrote:
> >> > Jerl,
> >> >
> >> > The contour attribute and the Z values are same here. Just one of them
> >> > is
> >> > enough.
> >> >
> >> > With the Z values near the magnitude of 1000, the burn value of 255 is
> >> > not
> >> > going to make much of a difference. Use it if you want to offset any
> >> > negative Z values.
> >> >
> >> > You should mention contour.shp instead of just 'contour' for
> >> > <src_datasource>.
> >> >
> >> > Make sure BLANK.tif doesn't have different extents/projection.
> >> >
> >> > Your final image will have a data type of Float64. You may have to run
> >> > some
> >> > contrast stretching operations on it.
> >> >
> >> > On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com
> >
> >> > wrote:
> >> >>
> >> >> Hi guys and gals:
> >> >>
> >> >> I have something that's evading me.  I have a basic ESRI Shape file
> >> >> (created using gdal_contour) that I run through gdal_rasterize to
> >> >> generate very nice looking contour map.  But I want the value of the
> >> >> contour in there.
> >> >>
> >> >> I've been trying different things with the -a option, but I can't get
> >> >> it to work out.
> >> >> Here's the latest thing I've tried for gdal_rasterize:
> >> >>
> >> >> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
> >> >> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
> >> >>
> >> >> I put an extra burn value in there (have also tried with out) to see
> >> >> if maybe it was just going in as 0.  BLANK.tif is just a black image.
> >> >> I'm sure I'm missing something simple, just can't see it.  I thought
> >> >> the -a would burn the value of "contour" into the raster.
> >> >>
> >> >> Thanks for any guidance!!
> >> >>
> >> >> Here's the data from my shapefile:
> >> >>
> >> >> INFO: Open of `contour/'
> >> >>      using driver `ESRI Shapefile' successful.
> >> >>
> >> >> Layer name: contour
> >> >> Geometry: 3D Line String
> >> >> Feature Count: 157
> >> >> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
> >> >> Layer SRS WKT:
> >> >> GEOGCS["GCS_WGS_1984",
> >> >>    DATUM["WGS_1984",
> >> >>        SPHEROID["WGS_1984",6378137,298.257223563]],
> >> >>    PRIMEM["Greenwich",0],
> >> >>    UNIT["Degree",0.017453292519943295]]
> >> >> ID: Integer (8.0)
> >> >> contour: Real (12.3)
> >> >> OGRFeature(contour):0
> >> >>  ID (Integer) = 0
> >> >>  contour (Real) =     1000.000
> >> >>  LINESTRING (87.765060240963862 80.0 1000,.....
> >> >> _______________________________________________
> >> >> gdal-dev mailing list
> >> >> gdal-dev@lists.osgeo.org
> >> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >> >
> >> >
> >> >
> >> > --
> >> > Best regards,
> >> > Chaitanya kumar CH.
> >> > /t?a???nj?/ /k?m?r/
> >> > +91-9494447584
> >> > 17.2416N 80.1426E
> >> >
> >>
> >>
> >>
> >> --
> >> This communication is privileged and may contain confidential
> >> information.  It's intended only for the use of the person or entity
> >> named above. If you are not the intended recipient, do not distribute
> >> or copy this communication. If you have received this communication in
> >> error, please notify the sender immediately and return the original to
> >> the email address above. ? Copyright 2011 Weather Trends
> >> International, Inc.
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> > /t?a???nj?/ /k?m?r/
> > +91-9494447584
> > 17.2416N 80.1426E
> >
>
>
>
> --
> This communication is privileged and may contain confidential
> information.  It's intended only for the use of the person or entity
> named above. If you are not the intended recipient, do not distribute
> or copy this communication. If you have received this communication in
> error, please notify the sender immediately and return the original to
> the email address above. ? Copyright 2011 Weather Trends
> International, Inc.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/6b23d886/attachment.html
From jormarfe at gmail.com  Tue May 17 05:59:04 2011
From: jormarfe at gmail.com (Jorge Martin)
Date: Wed May 18 00:09:40 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <4DD1BCE1.2090005@pobox.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
Message-ID: <BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>

Hello Frank,

        TIFF 6.0 specifications has a sub-section in page 16 which is called
"Multiple Image per TIFF file" and there is only a description of this issue
but anything about its implementation:

 "There may be more than one IFD in a TIFF file. Each IFD defines a subfile.
One potential use of subfiles is to describe related images, such as the
pages of a facsimile transmission. A Baseline TIFF reader is not required to
read any IFDs beyond the first one."

        Is it possible to implement it?


Best Regards,

2011/5/17 Frank Warmerdam <warmerdam@pobox.com>

> On 11-05-16 07:08 PM, Jorge wrote:
>
>> Hello,
>>
>>
>> Many thanks for your help, but if I want to generate a tiff file which
>> contains
>> multiples images, How I can do it using gdal? because I know that tiff
>> standard
>> allows to generate multiple images in a single tiff file.
>>
>
> Jorge,
>
> I have skimmed the GeoTIFF driver and it does not seem to support creating
> multi-image files (with special exceptions for overviews and masks).  I
> thought maybe I had implemented a mechanism to add new images to an
> existing
> GeoTIFF file but apparently not.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/017061a4/attachment-0001.html
From packalen at cs.joensuu.fi  Tue May 17 06:10:28 2011
From: packalen at cs.joensuu.fi (Petteri Packalen)
Date: Wed May 18 00:36:38 2011
Subject: [gdal-dev] BigTiff problem in experimental FWTools3
Message-ID: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>

Hello,

I'm facing a problem related to BigTiff support in experimental FWTools3 
on Linux. BigTiff support works fine with all compiled programs (e.g. 
gdal_translate, gdalwarp) but not with the python script 
gdal_fillnodata.py. For instance, executing:

   gdal_fillnodata.py -md 10 unfilled.tif filled.tif

is terminated by the message:

   ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
   ERROR 1: An error occured while writing a dirty block
   ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
   ...

I have tested with versions 3.0.2 and 3.0.6 under 32 and 64 bit Ubuntus.

Any hint what is going wrong?

-- 
Best regards,
Petteri Packalen

**********************************************************************
Petteri Packal?n
Senior Researcher, Forest Mensuration Science
University of Eastern Finland
Faculty of Science and Forestry,
School of Forest Sciences
P.O. Box 111
80101 Joensuu
E-mail: Petteri.Packalen@uef.fi
Phone: +358 13 251 4093
Room: Borealis 376
**********************************************************************

From jormarfe at gmail.com  Tue May 17 07:54:54 2011
From: jormarfe at gmail.com (Jorge Martin)
Date: Wed May 18 02:12:08 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
Message-ID: <BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>

Hello Frank,


I am reading libtiff manual and it is possible to write different IFD
(directories, I do not know the correct word) in the same tiff file
using *TIFFWriteDirectory
*function. Is it possible to use it in gdal library?


Many thanks,


Jorge

2011/5/17 Jorge Martin <jormarfe@gmail.com>

> Hello Frank,
>
>         TIFF 6.0 specifications has a sub-section in page 16 which is
> called "Multiple Image per TIFF file" and there is only a description of
> this issue but anything about its implementation:
>
>  "There may be more than one IFD in a TIFF file. Each IFD defines a
> subfile. One potential use of subfiles is to describe related images, such
> as the pages of a facsimile transmission. A Baseline TIFF reader is not
> required to read any IFDs beyond the first one."
>
>         Is it possible to implement it?
>
>
> Best Regards,
>
> 2011/5/17 Frank Warmerdam <warmerdam@pobox.com>
>
>> On 11-05-16 07:08 PM, Jorge wrote:
>>
>>> Hello,
>>>
>>>
>>> Many thanks for your help, but if I want to generate a tiff file which
>>> contains
>>> multiples images, How I can do it using gdal? because I know that tiff
>>> standard
>>> allows to generate multiple images in a single tiff file.
>>>
>>
>> Jorge,
>>
>> I have skimmed the GeoTIFF driver and it does not seem to support creating
>> multi-image files (with special exceptions for overviews and masks).  I
>> thought maybe I had implemented a mechanism to add new images to an
>> existing
>> GeoTIFF file but apparently not.
>>
>> Best regards,
>> --
>>
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam,
>> warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | Geospatial Programmer for Rent
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/8b72a47f/attachment.html
From chaitanya.ch at gmail.com  Tue May 17 08:33:56 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 18 02:53:16 2011
Subject: [gdal-dev] Re: [FWTools] BigTiff problem in experimental FWTools3
In-Reply-To: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>
References: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>
Message-ID: <BANLkTinZqXSt1iYdOO5GoG_h0v_cbKXMGg@mail.gmail.com>

Petteri,

Can you confirm that you have no other libgdal at a different location. The
python script may be loading a different libgdal.
Also check the value of environment variable PYTHONPATH where you use the
FWTools utilities.

On Tue, May 17, 2011 at 3:40 PM, Petteri Packalen <packalen@cs.joensuu.fi>wrote:

> Hello,
>
> I'm facing a problem related to BigTiff support in experimental FWTools3 on
> Linux. BigTiff support works fine with all compiled programs (e.g.
> gdal_translate, gdalwarp) but not with the python script gdal_fillnodata.py.
> For instance, executing:
>
>  gdal_fillnodata.py -md 10 unfilled.tif filled.tif
>
> is terminated by the message:
>
>  ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
>  ERROR 1: An error occured while writing a dirty block
>  ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
>  ...
>
> I have tested with versions 3.0.2 and 3.0.6 under 32 and 64 bit Ubuntus.
>
> Any hint what is going wrong?
>
> --
> Best regards,
> Petteri Packalen
>
> **********************************************************************
> Petteri Packal?n
> Senior Researcher, Forest Mensuration Science
> University of Eastern Finland
> Faculty of Science and Forestry,
> School of Forest Sciences
> P.O. Box 111
> 80101 Joensuu
> E-mail: Petteri.Packalen@uef.fi
> Phone: +358 13 251 4093
> Room: Borealis 376
> **********************************************************************
>
>
> _______________________________________________
> FWTools mailing list
> FWTools@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/fwtools
> http://fwtools.maptools.org/
>
>


-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/15cf40b6/attachment.html
From warmerdam at pobox.com  Tue May 17 09:44:16 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 18 04:07:31 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
Message-ID: <4DD27BB0.8020209@pobox.com>

On 11-05-17 07:54 AM, Jorge Martin wrote:
> Hello Frank,
>
>
> I am reading libtiff manual and it is possible to write different IFD
> (directories, I do not know the correct word) in the same tiff file using
> *TIFFWriteDirectory *function. Is it possible to use it in gdal library?


Jorge,

While in theory we could extend the GDAL library to write multi-image
TIFF files - at this time we do not have support for doing this.

Best regards,

> 2011/5/17 Jorge Martin <jormarfe@gmail.com <mailto:jormarfe@gmail.com>>
>
>     Hello Frank,
>
>              TIFF 6.0 specifications has a sub-section in page 16 which is
>     called "Multiple Image per TIFF file" and there is only a description of
>     this issue but anything about its implementation:
>
>     "There may be more than one IFD in a TIFF file. Each IFD defines a subfile.
>     One potential use of subfiles is to describe related images, such as the
>     pages of a facsimile transmission. A Baseline TIFF reader is not required
>     to read any IFDs beyond the first one."
>
>              Is it possible to implement it?



-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From julien.malik at c-s.fr  Tue May 17 10:47:26 2011
From: julien.malik at c-s.fr (Julien Malik)
Date: Wed May 18 05:13:53 2011
Subject: [gdal-dev] gdal 1.8 tiff
In-Reply-To: <201105112003.02050.even.rouault@mines-paris.org>
References: <4DCABE7B.6050904@c-s.fr>
	<201105112003.02050.even.rouault@mines-paris.org>
Message-ID: <4DD28A7E.9030604@c-s.fr>

Hello Even,

My apologies for the late reply.

I took the quick and not-so-dirty way : gdal is repackaged in the OTB 
ppas, where I have applied the last strategy you mention : I let the 
warning about libtiff version mismatch be emitted, but still register 
the driver.
Everything is back to normal with this, and the patch is not very intrusive.

Hopefully this will be only temporary, waiting for this "versioned 
symbols" solution from the Debian folks, and I will be able to throw 
away our specific gdal package soon.

Thanks,
Julien


Le 11/05/2011 20:03, Even Rouault a ?crit :
> Le mercredi 11 mai 2011 18:51:07, Julien Malik a ?crit :
>> Hello list,
>>
>> I had a bad surprise today using the new gdal 1.8 package available in
>> ubuntugis-unstable :
>>
>> When linked both to tiff v3 and gdal 1.8, the GTIFF driver is disabled
>> with a warning appearing like :
>>
>>      WARNING ! libtiff version mismatch : You're linking against libtiff
>> 3.X but GDAL has been compiled against libtiff>= 4.0.0
>>
>> I understand from frmts/gtiff/geotiff.cpp that this is voluntary (though
>> the warning does not say it actually disables the GTiff driver).
> I'm a bit frustrated... I put this check to avoid bug reports actually ;-) Too
> many people get hurt because of a version mismatch and have a hard tried
> figuring what goes wrong.
>
>> In my case (building the Orfeo Toolbox library, which has a dependency
>> needing TIFF and GeoTiff, but not gdal), it has the undesirable
>> consequence of breaking TIFF support for our ubuntu packages based on
>> the ubuntugis-unstable ppa
>> (https://launchpad.net/~otb/+archive/orfeotoolbox-nightly and
>> https://launchpad.net/~otb/+archive/orfeotoolbox-stable-ubuntugis).
>>
>> The issue has already been discussed on this list, but just to recall :
>> we had a solution providing usable executables with TIFF support, even
>> though they were linked to the system libtiff and libgeotiff (it
>> involved ensuring the proper link order between '-lgdal' and '-lgeotiff').
>>
>> That's why I think disabling the driver completely is a little hard.
>> In my case it represents a major regression, and I don't have a lot of
>> ideas to work around it...
>>
>>
>> Is it possible to *not* disable the driver, and keep the warning ?
> If your question is "without changing the code ?", the answer is no.
>
> If Debian/Ubuntu goes into the way of using versionned symbols, they can just
> apply a local trivial patch to disable this check. My rationale is that people
> that want to mix both libtiff 3 and libtiff 4 are considered to be sufficient
> advanced users to make patches to undo the sanity checks if they really know
> what they are doing. IMHO, the default should be to stick to safe settings.
>
> But perhaps I did go too far and I'm open to suggestions. Changing the
> behaviour of this check is trivial. The difficult part is to figure out the
> expected behaviour and I just don't know what would be the option that would
> satisfy most/all people. One possibility would be to disable the driver unless
> an environment variable GDAL_ACCEPT_MIXED_LIBTIFF_VERSIONS is defined  ?? But
> that seems to a bit too convoluted. Or just emit the warning and still enables
> the driver, considering that the warning is enough and that if people get
> crashes, they would know why. I'm interested by opinion from other people.
>
> Best regards,
>
> Even
>>
>> Regards,
>> Julien
>>
>> NB: I filed a ticket in our bug tracker
>> (http://bugs.orfeo-toolbox.org/view.php?id=296), feel free to leave
>> comments there.
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From zhaops at hotmail.com  Tue May 17 12:52:13 2011
From: zhaops at hotmail.com (Peisheng Zhao)
Date: Wed May 18 07:26:19 2011
Subject: [gdal-dev] (no subject)
Message-ID: <blu157-w6493AE2379A337E4BE9CC4D08C0@phx.gbl>

I hope you?ll enjoy after visiting this site... http://comitemarnebillard.com/friends_links.php?saolid=69te9
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/62a6e1ec/attachment-0001.html
From mike at stamen.com  Tue May 17 13:27:43 2011
From: mike at stamen.com (Michal Migurski)
Date: Wed May 18 08:02:45 2011
Subject: [gdal-dev] Attempting to merge DEMs with gdal_merge.py - getting
	Float32 clipped to 255.0
In-Reply-To: <BANLkTimWcA4mpTL_EnR9SCPxHnnqvk=z+A@mail.gmail.com>
References: <66CB515D-8091-4D73-AB06-3680EEEB86F0@stamen.com>
	<BANLkTikJFYPe5TgyHq0wwdCTsDf1vpMiaQ@mail.gmail.com>
	<F700865B-4091-45DA-AE95-46ACAEB48CD2@stamen.com>
	<BANLkTimWcA4mpTL_EnR9SCPxHnnqvk=z+A@mail.gmail.com>
Message-ID: <6E3EF535-9A4A-4ED9-B976-304CE8072C56@stamen.com>

I'll install the latest and see if the problem disappears!

-mike.

On May 16, 2011, at 10:56 AM, Chaitanya kumar CH wrote:

> Michal,
> 
> I can't think of anything else that may be causing this. Can you run this using the latest version, gdal-1.8?
> 
> On Mon, May 16, 2011 at 11:14 PM, Michal Migurski <mike@stamen.com> wrote:
> Hi Chaitanya,
> 
> Thanks for the advice - I've definitely ensured that the file does not exist first, cleared it out and re-ran gdal_merge.py. The result still has the same clipping to 255.
> 
> -mike.
> 
> On May 15, 2011, at 9:19 PM, Chaitanya kumar CH wrote:
> 
> > Michal,
> >
> > Check if the output file already exists. The script won't create a new one if it already exists.
> >
> > On Mon, May 16, 2011 at 12:45 AM, Michal Migurski <mike@stamen.com> wrote:
> > Hello,
> >
> > I'm attempting to merge a number of DEMs in .flt format using gdal_merge.py. It's NED 1/3 arc second data, so each one is a Float32 10812x10812 raster with a range of values from a few meters below sea level to 1.4km. I'm getting back an image with an incorrect datatype even though I believe that I'm using the right "-ot Float32" parameter to gdal_merge.py. I appear to have gdal 1.5.4 on this machine; I can upgrade to a newer one if necessary but I'd first like to make sure I'm not using the tool incorrectly.
> >
> > Here's the command I use:
> >
> >        gdal_merge.py -o 38122.tif -of GTiff -ot Float32 -v -ul_lr -122.05 38.05 -121.95 37.95 10m/*.flt
> >
> > What I get back is a 1080x1080 GeoTIFF with the correct bounds that I'm expecting, but what appears to be garbage data or perhaps just raw floating point values misinterpreted as bytes. Here's the output showing Byte values instead of Float32 as I'd expect:
> >
> >        Band 1 Block=1080x7 Type=Byte, ColorInterp=Gray
> >          Min=0.000 Max=255.000
> >          Minimum=0.000, Maximum=255.000, Mean=108.657, StdDev=66.615
> >
> > This is a sample of the resulting image in pseudocolor, showing the vertical banding every 4px that makes me think the bytes are just a raw Float32 stream:
> >
> >        http://mike.teczno.com/img/38122-rainbow.png
> >
> > Here is a sample input band:
> >
> >        Band 1 Block=10812x1 Type=Float32, ColorInterp=Undefined
> >            Computed Min/Max=-8.170,1440.937
> >          NoData Value=-9999
> >
> > Am I using -ot incorrectly?
> >
> > -mike.
> >
> > ----------------------------------------------------------------
> > michal migurski- mike@stamen.com
> >                 415.558.1610
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
> >
> >
> > --
> > Best regards,
> > Chaitanya kumar CH.
> > /t?a???nj?/ /k?m?r/
> > +91-9494447584
> > 17.2416N 80.1426E
> 
> ----------------------------------------------------------------
> michal migurski- mike@stamen.com
>                 415.558.1610
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 
> 
> 
> -- 
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/ 
> +91-9494447584
> 17.2416N 80.1426E

----------------------------------------------------------------
michal migurski- mike@stamen.com
                 415.558.1610



From packalen at cs.joensuu.fi  Tue May 17 15:31:55 2011
From: packalen at cs.joensuu.fi (Petteri Packalen)
Date: Wed May 18 10:14:08 2011
Subject: [gdal-dev] Re: [FWTools] BigTiff problem in experimental FWTools3
In-Reply-To: <4DD28F8E.8060200@pobox.com>
References: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>
	<4DD28F8E.8060200@pobox.com>
Message-ID: <Pine.GSO.4.64.1105172226540.10502@cs.joensuu.fi>

Chaitanya, Frank,

I verified that only one libgdal exists in a system. I have also added 
'-co' switch to gdal_fillnodata.py in order to force BigTiff creation 
(BIGTIFF=YES). But the problem persists.

However, I think I have traced the problem down to:

   http://svn.osgeo.org/gdal/trunk/gdal/alg/rasterfill.cpp

In lines 458 and 474 temporary GTiff files are created. Also creation 
option COMPRESS=LZW is used (not easy to guess whether the file size will 
be over 2^32?). In my case the file osValTmpFile increases until its size 
goes over 2^32 when the error is emitted by TIFF library. Thus this 
temporary file was not created as a BigTiff file.

Can you verify that I'm on the right track?

-- 
Best regards,
Petteri Packalen

**********************************************************************
Petteri Packalen
Senior Researcher, Forest Mensuration Science
University of Eastern Finland
Faculty of Science and Forestry,
School of Forest Sciences
P.O. Box 111
80101 Joensuu
E-mail: Petteri.Packalen@uef.fi
Phone: +358 13 251 4093
Room: Borealis 376
**********************************************************************


On Tue, 17 May 2011, Frank Warmerdam wrote:

> On 11-05-17 06:10 AM, Petteri Packalen wrote:
>> Hello,
>>
>> I'm facing a problem related to BigTiff support in experimental FWTools3 on
>> Linux. BigTiff support works fine with all compiled programs (e.g.
>> gdal_translate, gdalwarp) but not with the python script gdal_fillnodata.py.
>> For instance, executing:
>>
>> gdal_fillnodata.py -md 10 unfilled.tif filled.tif
>>
>> is terminated by the message:
>>
>> ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
>> ERROR 1: An error occured while writing a dirty block
>> ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
>> ...
>>
>> I have tested with versions 3.0.2 and 3.0.6 under 32 and 64 bit Ubuntus.
>>
>> Any hint what is going wrong?
>
> Petteri,
>
> Sorry for the delay in looking into this issue.
>
> I have tested with FWTools 3.0.6 and I do not encounter any problems with
> the python scripts and support for big tiff files.  In particular I
> created a 4.8GB TIFF file with gdal_translate and then I translated it into
> a new file with gdalimport.py without any problem.
>
> I looked into libtiff at the message you are seeing and I believe it only
> occurs in libtiff4, so you definately have the BigTIFF enabled TIFF library
> being used at runtime.  But should the file be created as a regular TIFF
> instead of a BigTIFF and yet it somehow runs over the 4GB mark you will get
> this message.
>
> I suspect that this is what is happening, though it is not immediately clear
> to me how that would happen in the above situation.  Unfortunately
> gdal_fillnodata.py does not provide -co options to pass extra creation options
> to the create function or else you could ensure that the output file is created
> as a bigtiff (using -co BIGTIFF=YES).
>
> What size is your input file (unfilled.tif)?
>
> I wonder if you could provide steps by which I could reproduce the problem
> without having to slug multi GB files around?
>
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
> _______________________________________________
> FWTools mailing list
> FWTools@lists.maptools.org
> http://lists.maptools.org/mailman/listinfo/fwtools
> http://fwtools.maptools.org/
>
From even.rouault at mines-paris.org  Tue May 17 16:29:23 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed May 18 11:14:15 2011
Subject: [gdal-dev] Re: [FWTools] BigTiff problem in experimental FWTools3
In-Reply-To: <Pine.GSO.4.64.1105172226540.10502@cs.joensuu.fi>
References: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>
	<4DD28F8E.8060200@pobox.com>
	<Pine.GSO.4.64.1105172226540.10502@cs.joensuu.fi>
Message-ID: <1305664163.4dd2daa3b98d1@webmail.free.fr>

Selon Petteri Packalen <packalen@cs.joensuu.fi>:

Yes, that's a very likely reason. When COMPRESS != NONE is specified, the driver
has no way to know if the file will be a regular tiff or a bigtiff, so it
chooses regular tiff. For your case, if you are in position to build GDAL by
yourself, you can try changing the following line in rasterfill.cpp

static const char *apszOptions[] = { "COMPRESS=LZW", NULL };

into

static const char *apszOptions[] = { "COMPRESS=LZW", "BIGTIFF=YES", NULL };



> Chaitanya, Frank,
>
> I verified that only one libgdal exists in a system. I have also added
> '-co' switch to gdal_fillnodata.py in order to force BigTiff creation
> (BIGTIFF=YES). But the problem persists.
>
> However, I think I have traced the problem down to:
>
>    http://svn.osgeo.org/gdal/trunk/gdal/alg/rasterfill.cpp
>
> In lines 458 and 474 temporary GTiff files are created. Also creation
> option COMPRESS=LZW is used (not easy to guess whether the file size will
> be over 2^32?). In my case the file osValTmpFile increases until its size
> goes over 2^32 when the error is emitted by TIFF library. Thus this
> temporary file was not created as a BigTiff file.
>
> Can you verify that I'm on the right track?
>
> --
> Best regards,
> Petteri Packalen
>
> **********************************************************************
> Petteri Packalen
> Senior Researcher, Forest Mensuration Science
> University of Eastern Finland
> Faculty of Science and Forestry,
> School of Forest Sciences
> P.O. Box 111
> 80101 Joensuu
> E-mail: Petteri.Packalen@uef.fi
> Phone: +358 13 251 4093
> Room: Borealis 376
> **********************************************************************
>
>
> On Tue, 17 May 2011, Frank Warmerdam wrote:
>
> > On 11-05-17 06:10 AM, Petteri Packalen wrote:
> >> Hello,
> >>
> >> I'm facing a problem related to BigTiff support in experimental FWTools3
> on
> >> Linux. BigTiff support works fine with all compiled programs (e.g.
> >> gdal_translate, gdalwarp) but not with the python script
> gdal_fillnodata.py.
> >> For instance, executing:
> >>
> >> gdal_fillnodata.py -md 10 unfilled.tif filled.tif
> >>
> >> is terminated by the message:
> >>
> >> ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
> >> ERROR 1: An error occured while writing a dirty block
> >> ERROR 1: TIFFAppendToStrip:Maximum TIFF file size exceeded
> >> ...
> >>
> >> I have tested with versions 3.0.2 and 3.0.6 under 32 and 64 bit Ubuntus.
> >>
> >> Any hint what is going wrong?
> >
> > Petteri,
> >
> > Sorry for the delay in looking into this issue.
> >
> > I have tested with FWTools 3.0.6 and I do not encounter any problems with
> > the python scripts and support for big tiff files.  In particular I
> > created a 4.8GB TIFF file with gdal_translate and then I translated it into
> > a new file with gdalimport.py without any problem.
> >
> > I looked into libtiff at the message you are seeing and I believe it only
> > occurs in libtiff4, so you definately have the BigTIFF enabled TIFF library
> > being used at runtime.  But should the file be created as a regular TIFF
> > instead of a BigTIFF and yet it somehow runs over the 4GB mark you will get
> > this message.
> >
> > I suspect that this is what is happening, though it is not immediately
> clear
> > to me how that would happen in the above situation.  Unfortunately
> > gdal_fillnodata.py does not provide -co options to pass extra creation
> options
> > to the create function or else you could ensure that the output file is
> created
> > as a bigtiff (using -co BIGTIFF=YES).
> >
> > What size is your input file (unfilled.tif)?
> >
> > I wonder if you could provide steps by which I could reproduce the problem
> > without having to slug multi GB files around?
> >
> > Best regards,
> > --
> >
> ---------------------------------------+--------------------------------------
> > I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> > light and sound - activate the windows | http://pobox.com/~warmerdam
> > and watch the world go round - Rush    | Geospatial Programmer for Rent
> >
> > _______________________________________________
> > FWTools mailing list
> > FWTools@lists.maptools.org
> > http://lists.maptools.org/mailman/listinfo/fwtools
> > http://fwtools.maptools.org/
> >
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From bontepaarden at gmail.com  Tue May 17 18:18:33 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed May 18 13:09:41 2011
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8
Message-ID: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>

Hi all,

I'm trying to compile GDALv1.8 on Win7 using VS2008Pro.
So far I've added successfully GEOS, cUrl, ECW, Proj.4 and Xerces.

I'm now trying to add MrSid support.
I've downloaded the Unified Decode SDK v8 from LizardTech and changed this
in my nmake.opt:
MRSID_DIR =    $(GDAL_HOME)\..\LizardTech-SDK\Win32

When I compile I get an error in line 72:
fatal error U1023: syntax error in expression
\GDAL\gdal18\frmts\mrsid\nmake.opt
I didn't changed this file.
Lines 64 - 80 are:
!IF DEFINED(MRSID_DIR)

# Guard against conflicting configuration.
!IF DEFINED(MRSID_RASTER_DIR) && DEFINED(MRSID_LIDAR_DIR)
!ERROR The MRSID_DIR value is redundant or conflicts with the values of
MRSID_RASTER_DIR and MRSID_LIDAR_DIR.  Please remove one of these values
from the build configuration.
!ENDIF

# If a raster path was not explicitly set, see if MRSID_DIR is one.
!IF !DEFINED(MRSID_RASTER_DIR)
!IF EXIST("$(MRSID_DIR)\Raster_ESDK\include\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_ESDK
!ELSE IF EXIST("$(MRSID_DIR)\Raster_DSDK\include\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_DSDK
!ELSE IF EXIST("$(MRSID_DIR)\include\lt_base.h") ||
EXIST("$(MRSID_DIR)\include\support\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)
!ENDIF
!ENDIF

Line 72 is !IF !DEFINED(MRSID_RASTER_DIR)

What do I need to do to enable MrSid?

Thanks,

Paul


 *Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110518/71ea5ef7/attachment.html
From chaitanya.ch at gmail.com  Tue May 17 18:51:07 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 18 13:43:33 2011
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8
In-Reply-To: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>
References: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>
Message-ID: <BANLkTimqBj+stQ8UzdR7sDWkuhWwHb1cqg@mail.gmail.com>

Paul,

Perhaps the variable $(GDAL_HOME) is not being substituted correctly. Try
the absolute path for MRSID_DIR.

On Wed, May 18, 2011 at 3:48 AM, Paul Meems <bontepaarden@gmail.com> wrote:

> Hi all,
>
> I'm trying to compile GDALv1.8 on Win7 using VS2008Pro.
> So far I've added successfully GEOS, cUrl, ECW, Proj.4 and Xerces.
>
> I'm now trying to add MrSid support.
> I've downloaded the Unified Decode SDK v8 from LizardTech and changed this
> in my nmake.opt:
> MRSID_DIR =    $(GDAL_HOME)\..\LizardTech-SDK\Win32
>
> When I compile I get an error in line 72:
> fatal error U1023: syntax error in expression
> \GDAL\gdal18\frmts\mrsid\nmake.opt
> I didn't changed this file.
> Lines 64 - 80 are:
> !IF DEFINED(MRSID_DIR)
>
> # Guard against conflicting configuration.
> !IF DEFINED(MRSID_RASTER_DIR) && DEFINED(MRSID_LIDAR_DIR)
> !ERROR The MRSID_DIR value is redundant or conflicts with the values of
> MRSID_RASTER_DIR and MRSID_LIDAR_DIR.  Please remove one of these values
> from the build configuration.
> !ENDIF
>
> # If a raster path was not explicitly set, see if MRSID_DIR is one.
> !IF !DEFINED(MRSID_RASTER_DIR)
> !IF EXIST("$(MRSID_DIR)\Raster_ESDK\include\lt_base.h")
> MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_ESDK
> !ELSE IF EXIST("$(MRSID_DIR)\Raster_DSDK\include\lt_base.h")
> MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_DSDK
> !ELSE IF EXIST("$(MRSID_DIR)\include\lt_base.h") ||
> EXIST("$(MRSID_DIR)\include\support\lt_base.h")
> MRSID_RASTER_DIR = $(MRSID_DIR)
> !ENDIF
> !ENDIF
>
> Line 72 is !IF !DEFINED(MRSID_RASTER_DIR)
>
> What do I need to do to enable MrSid?
>
> Thanks,
>
> Paul
>
>
>  *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
>
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
>
> *
> *
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110518/cc483111/attachment.html
From kmckelvey at lizardtech.com  Tue May 17 18:51:47 2011
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Wed May 18 13:44:18 2011
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8
In-Reply-To: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>
References: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>
Message-ID: <C55473998E248B4DAEC5342D698DFE850116681AD7@sea-srv-mail.lizardtech.com>

The line it is complaining about is almost certainly the following line, where MRSID_DIR is used for the first time.  Not sure how it gets 72.

What is your value for GDAL_HOME?  There might be some kind of quoting issue going on.  Also, I'm not sure I ever tested it with relative paths, so that could be it as well.

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Paul Meems
Sent: mardi 17 mai 2011 17:19
To: gdal-dev@lists.osgeo.org
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8

Hi all,

I'm trying to compile GDALv1.8 on Win7 using VS2008Pro.
So far I've added successfully GEOS, cUrl, ECW, Proj.4 and Xerces.

I'm now trying to add MrSid support.
I've downloaded the Unified Decode SDK v8 from LizardTech and changed this in my nmake.opt:
MRSID_DIR =    $(GDAL_HOME)\..\LizardTech-SDK\Win32

When I compile I get an error in line 72:
fatal error U1023: syntax error in expression   \GDAL\gdal18\frmts\mrsid\nmake.opt
I didn't changed this file.
Lines 64 - 80 are:
!IF DEFINED(MRSID_DIR)

# Guard against conflicting configuration.
!IF DEFINED(MRSID_RASTER_DIR) && DEFINED(MRSID_LIDAR_DIR)
!ERROR The MRSID_DIR value is redundant or conflicts with the values of MRSID_RASTER_DIR and MRSID_LIDAR_DIR.  Please remove one of these values from the build configuration.
!ENDIF

# If a raster path was not explicitly set, see if MRSID_DIR is one.
!IF !DEFINED(MRSID_RASTER_DIR)
!IF EXIST("$(MRSID_DIR)\Raster_ESDK\include\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_ESDK
!ELSE IF EXIST("$(MRSID_DIR)\Raster_DSDK\include\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_DSDK
!ELSE IF EXIST("$(MRSID_DIR)\include\lt_base.h") || EXIST("$(MRSID_DIR)\include\support\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)
!ENDIF
!ENDIF

Line 72 is !IF !DEFINED(MRSID_RASTER_DIR)

What do I need to do to enable MrSid?

Thanks,

Paul


[http://www.bontepaarden.nl/bontepaarden/images/newButton.png]Paul Meems
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org<http://www.mapwindow.org/>

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl<http://www.mapwindow.nl/>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/d9310954/attachment.html
From bontepaarden at gmail.com  Tue May 17 19:04:46 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed May 18 13:58:18 2011
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8
In-Reply-To: <C55473998E248B4DAEC5342D698DFE850116681AD7@sea-srv-mail.lizardtech.com>
References: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>
	<C55473998E248B4DAEC5342D698DFE850116681AD7@sea-srv-mail.lizardtech.com>
Message-ID: <BANLkTimZhv-FBNythgOBvdc4gYUfM2WU_Q@mail.gmail.com>

Thanks Kirk and Chaitanya,

It was indeed GDAL_HOME. I used double quotes around it and after removing
it it is working.

LizardTeck provided some sample data. And I'm using it to check if my
version of GDAL is correct.
I use gdalinfo to check the .sid file and it works. When I do a gdalinfo on
the .las file it is not recognized.
When I do a gdalinfo --formats I see MG4Lidar, but the description states
.sid

Does this mean I didn't configure it right after all?

Thanks,

Paul

2011/5/18 Kirk McKelvey <kmckelvey@lizardtech.com>

> The line it is complaining about is almost certainly the following line,
> where MRSID_DIR is used for the first time.  Not sure how it gets 72.
>
>
>
> What is your value for GDAL_HOME?  There might be some kind of quoting
> issue going on.  Also, I?m not sure I ever tested it with relative paths, so
> that could be it as well.
>
>
>
> *From:* gdal-dev-bounces@lists.osgeo.org [mailto:
> gdal-dev-bounces@lists.osgeo.org] *On Behalf Of *Paul Meems
> *Sent:* mardi 17 mai 2011 17:19
> *To:* gdal-dev@lists.osgeo.org
> *Subject:* [gdal-dev] Having trouble compiling MrSid in GDALv1.8
>
>
>
> Hi all,
>
> I'm trying to compile GDALv1.8 on Win7 using VS2008Pro.
> So far I've added successfully GEOS, cUrl, ECW, Proj.4 and Xerces.
>
> I'm now trying to add MrSid support.
> I've downloaded the Unified Decode SDK v8 from LizardTech and changed this
> in my nmake.opt:
> MRSID_DIR =    $(GDAL_HOME)\..\LizardTech-SDK\Win32
>
> When I compile I get an error in line 72:
> fatal error U1023: syntax error in expression
> \GDAL\gdal18\frmts\mrsid\nmake.opt
> I didn't changed this file.
> Lines 64 - 80 are:
> !IF DEFINED(MRSID_DIR)
>
> # Guard against conflicting configuration.
> !IF DEFINED(MRSID_RASTER_DIR) && DEFINED(MRSID_LIDAR_DIR)
> !ERROR The MRSID_DIR value is redundant or conflicts with the values of
> MRSID_RASTER_DIR and MRSID_LIDAR_DIR.  Please remove one of these values
> from the build configuration.
> !ENDIF
>
> # If a raster path was not explicitly set, see if MRSID_DIR is one.
> !IF !DEFINED(MRSID_RASTER_DIR)
> !IF EXIST("$(MRSID_DIR)\Raster_ESDK\include\lt_base.h")
> MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_ESDK
> !ELSE IF EXIST("$(MRSID_DIR)\Raster_DSDK\include\lt_base.h")
> MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_DSDK
> !ELSE IF EXIST("$(MRSID_DIR)\include\lt_base.h") ||
> EXIST("$(MRSID_DIR)\include\support\lt_base.h")
> MRSID_RASTER_DIR = $(MRSID_DIR)
> !ENDIF
> !ENDIF
>
> Line 72 is !IF !DEFINED(MRSID_RASTER_DIR)
>
> What do I need to do to enable MrSid?
>
> Thanks,
>
> Paul
>
> *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
>
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
>
>
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110518/07479c6d/attachment-0001.html
From kmckelvey at lizardtech.com  Tue May 17 19:17:51 2011
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Wed May 18 14:11:47 2011
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8
In-Reply-To: <BANLkTimZhv-FBNythgOBvdc4gYUfM2WU_Q@mail.gmail.com>
References: <BANLkTi=CuJNY6j+p0GsU=NKkX8HxcKC=UA@mail.gmail.com>
	<C55473998E248B4DAEC5342D698DFE850116681AD7@sea-srv-mail.lizardtech.com>
	<BANLkTimZhv-FBNythgOBvdc4gYUfM2WU_Q@mail.gmail.com>
Message-ID: <C55473998E248B4DAEC5342D698DFE850116681AD9@sea-srv-mail.lizardtech.com>

I think you configured it correctly.

Although the MG4 lidar SDK can be made to read .las files, the GDAL MG4Lidar driver only knows how to read .sid files (and .view files - see docs).

I don't believe there is a way to read .las files using GDAL right now.  You'll probably need lasinfo from liblas or lidarinfo from the MG4 SDK, but these will be giving you different types of information...

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Paul Meems
Sent: mardi 17 mai 2011 18:05
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] Having trouble compiling MrSid in GDALv1.8

Thanks Kirk and Chaitanya,

It was indeed GDAL_HOME. I used double quotes around it and after removing it it is working.

LizardTeck provided some sample data. And I'm using it to check if my version of GDAL is correct.
I use gdalinfo to check the .sid file and it works. When I do a gdalinfo on the .las file it is not recognized.
When I do a gdalinfo --formats I see MG4Lidar, but the description states .sid

Does this mean I didn't configure it right after all?

Thanks,

Paul
2011/5/18 Kirk McKelvey <kmckelvey@lizardtech.com<mailto:kmckelvey@lizardtech.com>>
The line it is complaining about is almost certainly the following line, where MRSID_DIR is used for the first time.  Not sure how it gets 72.

What is your value for GDAL_HOME?  There might be some kind of quoting issue going on.  Also, I'm not sure I ever tested it with relative paths, so that could be it as well.

From: gdal-dev-bounces@lists.osgeo.org<mailto:gdal-dev-bounces@lists.osgeo.org> [mailto:gdal-dev-bounces@lists.osgeo.org<mailto:gdal-dev-bounces@lists.osgeo.org>] On Behalf Of Paul Meems
Sent: mardi 17 mai 2011 17:19
To: gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
Subject: [gdal-dev] Having trouble compiling MrSid in GDALv1.8

Hi all,

I'm trying to compile GDALv1.8 on Win7 using VS2008Pro.
So far I've added successfully GEOS, cUrl, ECW, Proj.4 and Xerces.

I'm now trying to add MrSid support.
I've downloaded the Unified Decode SDK v8 from LizardTech and changed this in my nmake.opt:
MRSID_DIR =    $(GDAL_HOME)\..\LizardTech-SDK\Win32

When I compile I get an error in line 72:
fatal error U1023: syntax error in expression   \GDAL\gdal18\frmts\mrsid\nmake.opt
I didn't changed this file.
Lines 64 - 80 are:
!IF DEFINED(MRSID_DIR)

# Guard against conflicting configuration.
!IF DEFINED(MRSID_RASTER_DIR) && DEFINED(MRSID_LIDAR_DIR)
!ERROR The MRSID_DIR value is redundant or conflicts with the values of MRSID_RASTER_DIR and MRSID_LIDAR_DIR.  Please remove one of these values from the build configuration.
!ENDIF

# If a raster path was not explicitly set, see if MRSID_DIR is one.
!IF !DEFINED(MRSID_RASTER_DIR)
!IF EXIST("$(MRSID_DIR)\Raster_ESDK\include\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_ESDK
!ELSE IF EXIST("$(MRSID_DIR)\Raster_DSDK\include\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)\Raster_DSDK
!ELSE IF EXIST("$(MRSID_DIR)\include\lt_base.h") || EXIST("$(MRSID_DIR)\include\support\lt_base.h")
MRSID_RASTER_DIR = $(MRSID_DIR)
!ENDIF
!ENDIF

Line 72 is !IF !DEFINED(MRSID_RASTER_DIR)

What do I need to do to enable MrSid?

Thanks,

Paul

Paul Meems
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org<http://www.mapwindow.org/>

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl<http://www.mapwindow.nl/>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110517/c86e0b64/attachment.html
From warmerdam at pobox.com  Tue May 17 19:33:51 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 18 14:28:44 2011
Subject: [gdal-dev] Re: [FWTools] BigTiff problem in experimental FWTools3
In-Reply-To: <Pine.GSO.4.64.1105172226540.10502@cs.joensuu.fi>
References: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>
	<4DD28F8E.8060200@pobox.com>
	<Pine.GSO.4.64.1105172226540.10502@cs.joensuu.fi>
Message-ID: <4DD305DF.2030900@pobox.com>

On 11-05-17 03:31 PM, Petteri Packalen wrote:
> Chaitanya, Frank,
>
> I verified that only one libgdal exists in a system. I have also added '-co'
> switch to gdal_fillnodata.py in order to force BigTiff creation (BIGTIFF=YES).
> But the problem persists.
>
> However, I think I have traced the problem down to:
>
> http://svn.osgeo.org/gdal/trunk/gdal/alg/rasterfill.cpp
>
> In lines 458 and 474 temporary GTiff files are created. Also creation option
> COMPRESS=LZW is used (not easy to guess whether the file size will be over
> 2^32?). In my case the file osValTmpFile increases until its size goes over
> 2^32 when the error is emitted by TIFF library. Thus this temporary file was
> not created as a BigTiff file.
>
> Can you verify that I'm on the right track?
>

Petteri,

As Even suggests I believe this is the issue.  I have filed a ticket
and applied a fix to trunk and 1.8.

   http://trac.osgeo.org/gdal/ticket/4088

I am working to build a new FWTools release.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From bontepaarden at gmail.com  Wed May 18 05:35:36 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu May 19 01:03:44 2011
Subject: [gdal-dev] Adding libKML
Message-ID: <BANLkTinRiMQrUzMN_HThLMutuLDhBrw2Sg@mail.gmail.com>

Hi list,

I'm still struggling enabling new (at least for us) support for certain file
formats.
I'm working on Win7 with VS2008Pro

I'm now struggling with libKML.
I did as suggested at http://trac.osgeo.org/gdal/wiki/LibKML, but downloaded
the tar ball (v1.2.0)
I found the vs2008 files and modified the boost config file.
I can compile libKML, it seems to give me the necessary lib files.

I've enable libKML in nmake.opt of gdalv1.8 but when I compile I get this
error:
error C2039: 'DeleteFeatureAt' : is not a member of 'kmldom::Container'  in
ogrlibkmldatasource.cpp

Now I got the trunk version and am able to compile libkml again.
But now the error in GDAL is
error LNK2001: unresolved external symbol "private: __thiscall
kmldom::XalAddressDetails::XalAddressDetails(void)"
(??0XalAddressDetails@kmldom@@AAE@XZ) in  libkmldom.lib

I have no idea how to continue.

Can anybody point me in the right direction?

Thanks,

Paul


*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110518/63e25795/attachment.html
From jorge.arevalo at deimos-space.com  Wed May 18 06:44:06 2011
From: jorge.arevalo at deimos-space.com (=?ISO-8859-1?Q?Jorge_Ar=E9valo?=)
Date: Thu May 19 02:16:06 2011
Subject: [gdal-dev] GDALPolygonize using float buffers
In-Reply-To: <4DCD3970.4070408@pobox.com>
References: <BANLkTinYxY43i=oCzMrQkfpMkxSbcw_m1w@mail.gmail.com>
	<4DCD3970.4070408@pobox.com>
Message-ID: <BANLkTikkvE8Q+n2uyVP2wAm=Hj26R+ai-Q@mail.gmail.com>

Hello,


On Fri, May 13, 2011 at 4:00 PM, Frank Warmerdam <warmerdam@pobox.com> wrote:
> On 11-05-13 06:51 AM, Jorge Ar?valo wrote:
>>
>> Hello,
>>
>> Is there any reason to limit the GDALPolygonize function to read data
>> in int32 buffers, instead of using 32b float or even 64b double ones?
>> As I stated in ticket #4005 (http://trac.osgeo.org/gdal/ticket/4005),
>> I want to code an alternative version using these kind of buffers. But
>> I don't know if I'm missing something.
>
> Jorge,
>
> There are no *compelling* reasons to limit polygonization to integer
> data, but once you get into floating point data lots of questions do
> arise about value comparisons will be done - will it be a "within
> epsilon" sort of test or are you looking for exact floating point matches?
>

I'm using the AlmostEqual2sComplement function from
http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm
to float comparison. Do you think it's a good approach?


> If a floating point option is available, I think there will still need to
> be a version of the algorithm operating on integer buffers to avoid
> problems representing some integer values in floating point and potentially
> more expensive comparisons.
>

Of course. I've created new algorithms for this (most of the parts
cloning the original ones). I'ts kinda duplicating code, but I don't
want to interfere with the original functions.

> That said, I'm ok with extending the function to support floating point
> bands.
>

Good :)


> Best regards,
> --
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up ? | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush ? ?| Geospatial Programmer for Rent
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

Best regards,

-- 
Jorge Ar?valo
Internet & Mobilty Division, DEIMOS
jorge.arevalo@deimos-space.com
http://es.linkedin.com/in/jorgearevalo80
http://mobility.grupodeimos.com/
http://gis4free.wordpress.com
http://geohash.org/ezjqgrgzz0g
From rush at winkey.org  Wed May 18 09:01:44 2011
From: rush at winkey.org (Brian Case)
Date: Thu May 19 04:41:09 2011
Subject: [gdal-dev] Adding libKML
In-Reply-To: <BANLkTinRiMQrUzMN_HThLMutuLDhBrw2Sg@mail.gmail.com>
References: <BANLkTinRiMQrUzMN_HThLMutuLDhBrw2Sg@mail.gmail.com>
Message-ID: <1305723704.16355.22.camel@octopi>

Paul

You need libkml 1.3.0. this was only svn but i do not know if they have
released since i last looked.\

Brian

On Wed, 2011-05-18 at 11:35 +0200, Paul Meems wrote:
> Hi list,
> 
> I'm still struggling enabling new (at least for us) support for
> certain file formats.
> I'm working on Win7 with VS2008Pro
> 
> I'm now struggling with libKML.
> I did as suggested at http://trac.osgeo.org/gdal/wiki/LibKML, but
> downloaded the tar ball (v1.2.0)
> I found the vs2008 files and modified the boost config file.
> I can compile libKML, it seems to give me the necessary lib files.
> 
> I've enable libKML in nmake.opt of gdalv1.8 but when I compile I get
> this error:
> error C2039: 'DeleteFeatureAt' : is not a member of
> 'kmldom::Container'  in ogrlibkmldatasource.cpp
> 
> Now I got the trunk version and am able to compile libkml again.
> But now the error in GDAL is
> error LNK2001: unresolved external symbol "private: __thiscall
> kmldom::XalAddressDetails::XalAddressDetails(void)" (??0XalAddressDetails@kmldom@@AAE@XZ) in  libkmldom.lib    
> 
> I have no idea how to continue.
> 
> Can anybody point me in the right direction?
> 
> Thanks,
> 
> Paul
> 
> 
> Paul Meems 
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
> 
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
> 
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Wed May 18 09:09:58 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 19 04:49:39 2011
Subject: [gdal-dev] GDALPolygonize using float buffers
In-Reply-To: <BANLkTikkvE8Q+n2uyVP2wAm=Hj26R+ai-Q@mail.gmail.com>
References: <BANLkTinYxY43i=oCzMrQkfpMkxSbcw_m1w@mail.gmail.com>
	<4DCD3970.4070408@pobox.com>
	<BANLkTikkvE8Q+n2uyVP2wAm=Hj26R+ai-Q@mail.gmail.com>
Message-ID: <4DD3C526.8020805@pobox.com>

On 11-05-18 06:44 AM, Jorge Ar?valo wrote:
> I'm using the AlmostEqual2sComplement function from
> http://www.cygnus-software.com/papers/comparingfloats/comparingfloats.htm
> to float comparison. Do you think it's a good approach?

Jorge,

The approach seems good though somewhat computationally expensive.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pbartschi at fs.fed.us  Wed May 18 13:13:39 2011
From: pbartschi at fs.fed.us (Paul Bartschi)
Date: Thu May 19 09:02:21 2011
Subject: [gdal-dev] GDAL in Citrix
Message-ID: <OF9BA99282.AE0926EA-ON87257894.005E9534-87257894.005E3FCA@fs.fed.us>

Hello, 

I have received a request to deploy GDAL through Citrix.  Are there any 
known issues with running GDAL over Citrix?  Will GDAL function properly 
over Citrix?  Thanks in advance.

-----------------------------------------------------
Paul Bartschi
United States Forest Service
Geospatial Service and Technology Center
2222 W. 2300 S.
Salt Lake City UT. 84119
801-975-3448

"Success is not the key to happiness. Happiness is the key to success. If 
you love what you are doing, you will be successful." - Herman Cain
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110518/08b59d12/attachment.html
From alexandre.gacon+gdal at gmail.com  Wed May 18 15:41:35 2011
From: alexandre.gacon+gdal at gmail.com (Alexandre Gacon)
Date: Thu May 19 11:42:51 2011
Subject: [gdal-dev] GDAL in Citrix
In-Reply-To: <OF9BA99282.AE0926EA-ON87257894.005E9534-87257894.005E3FCA@fs.fed.us>
References: <OF9BA99282.AE0926EA-ON87257894.005E9534-87257894.005E3FCA@fs.fed.us>
Message-ID: <BANLkTimS05ZL=ETpB-NNiXzc_mX7C3ogPw@mail.gmail.com>

Hi Paul,

I don't know what do you mean but our product which uses the GDAL dll works
well over CITRIX for a lot of customers.

Regards,

Alexandre Gacon

2011/5/18 Paul Bartschi <pbartschi@fs.fed.us>

>
> Hello,
>
> I have received a request to deploy GDAL through Citrix.  Are there any
> known issues with running GDAL over Citrix?  Will GDAL function properly
> over Citrix?  Thanks in advance.
>
> -----------------------------------------------------
> Paul Bartschi
> United States Forest Service
> Geospatial Service and Technology Center
> 2222 W. 2300 S.
> Salt Lake City UT. 84119
> 801-975-3448
>
> "Success is not the key to happiness. Happiness is the key to success. If
> you love what you are doing, you will be successful." - Herman Cain
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Alexandre Gacon
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110518/402a84a1/attachment.html
From packalen at cs.joensuu.fi  Thu May 19 04:06:20 2011
From: packalen at cs.joensuu.fi (Petteri Packalen)
Date: Fri May 20 00:49:27 2011
Subject: [gdal-dev] Re: [FWTools] BigTiff problem in experimental FWTools3
In-Reply-To: <4DD305DF.2030900@pobox.com>
References: <Pine.GSO.4.64.1105171308390.20954@cs.joensuu.fi>
	<4DD28F8E.8060200@pobox.com>
	<Pine.GSO.4.64.1105172226540.10502@cs.joensuu.fi>
	<4DD305DF.2030900@pobox.com>
Message-ID: <Pine.GSO.4.64.1105191103560.20089@cs.joensuu.fi>

Frank,

> As Even suggests I believe this is the issue.  I have filed a ticket
> and applied a fix to trunk and 1.8.
>
>  http://trac.osgeo.org/gdal/ticket/4088
>
> I am working to build a new FWTools release.

I confirm that now GDALFillNodata() works properly.

Best regards,
Petteri

From bontepaarden at gmail.com  Thu May 19 04:22:08 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Fri May 20 01:05:55 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
Message-ID: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>

Hi List,

I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL so we
can use the new WFS driver.
Two days ago I already succeeded in compile just libcurl and add it to GDAL.
But then the WFS driver doesn't work with https links.

So yesterday I've been trying for almost 10 hours to get libcurl, openssl
and libssh to compile together.
I'm using
http://curl.haxx.se/libcurl/c/Using-libcurl-with-SSH-support-in-Visual-Studio-2008.pdfas
a guide and downloaded and installed:
* ActivePerl
* OpenSSL
* libSSH2
* Netwide Assembler

I've got the necessary files now. I also did what was suggested in Appendix
A of the PDF.

But when I do ogrinfo -ro WFS:https://my.testserver.com I get this response:
Error returned by server : Protocol https not supported or disabled in
libcurl

Today I tried checking if libcurl is configured properly, but I'm lost in
the non-windows makefile and perl files.
But because I followed the guide I assume libcurl is correctly build.

Most likely I need to make additional changes to my nmake.opt for GDAL.
Currently I have this:
CURL_DIR =    $(GDAL_HOME)\..\cUrl
CURL_INC = -I$(CURL_DIR)/include
CURL_LIB = $(CURL_DIR)/lib/DLL-Release/libcurl_imp.lib wsock32.lib
wldap32.lib winmm.lib

I'm also not aware what is best: using a dynamic or static library, but that
is a more general question ;)

So please advice me how to enable https.

Thanks,

Paul


*Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110519/544ce7ee/attachment.html
From dhdeangelis.listas at gmail.com  Thu May 19 07:51:51 2011
From: dhdeangelis.listas at gmail.com (=?ISO-8859-1?Q?Hern=E1n_De_Angelis?=)
Date: Fri May 20 04:46:43 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTi=OenW7s7VdG=kh1KcGunPRXAZFqQ@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
	<BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
	<BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>
	<BANLkTikEXHYvZN6aG_3c=HWaSJDzgDEBxg@mail.gmail.com>
	<BANLkTi=OenW7s7VdG=kh1KcGunPRXAZFqQ@mail.gmail.com>
Message-ID: <BANLkTi=Akzm2Aukh=eAFRgtgMVQPU6o9Mw@mail.gmail.com>

Generic Mapping Tools (http://gmt.soest.hawaii.edu/)

H.


2011/5/16 Jerl Simpson <jsimpson@wxtrends.com>:
> Ok, thank you.
>
> Does anyone else have any suggestions?
>
>
>
> On Mon, May 16, 2011 at 3:06 PM, Chaitanya kumar CH
> <chaitanya.ch@gmail.com> wrote:
>> Jerl,
>>
>> I'm afraid gdal_rasterize can't do the labelling. You will need a
>> specialized renderer for that. I'm not familiar with any of the desktop
>> applications that do this. Perhaps, qgis has a plugin.
>>
>> On Tue, May 17, 2011 at 1:30 AM, Jerl Simpson <jsimpson@wxtrends.com> wrote:
>>>
>>> I already have the resultant image, it looks great. ? Just drawing
>>> lines on a map. ?I'm using a blank image so I can more clearly see
>>> what's going on. ?It's just a black and white image, and that's all I
>>> want.
>>> I'm trying to get the contour labeled, so I know which one I'm
>>> viewing. ?So on the 1000 contour, I should see 1000 on the line
>>> somewhere, and if it's a 547 contour, I should see 547 on the line
>>> somewhere.
>>>
>>> Is that possible?
>>>
>>> Thanks,
>>>
>>> Jerl
>>>
>>> On Mon, May 16, 2011 at 2:41 PM, Chaitanya kumar CH
>>> <chaitanya.ch@gmail.com> wrote:
>>> > Jerl,
>>> >
>>> > The contour attribute and the Z values are same here. Just one of them
>>> > is
>>> > enough.
>>> >
>>> > With the Z values near the magnitude of 1000, the burn value of 255 is
>>> > not
>>> > going to make much of a difference. Use it if you want to offset any
>>> > negative Z values.
>>> >
>>> > You should mention contour.shp instead of just 'contour' for
>>> > <src_datasource>.
>>> >
>>> > Make sure BLANK.tif doesn't have different extents/projection.
>>> >
>>> > Your final image will have a data type of Float64. You may have to run
>>> > some
>>> > contrast stretching operations on it.
>>> >
>>> > On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com>
>>> > wrote:
>>> >>
>>> >> Hi guys and gals:
>>> >>
>>> >> I have something that's evading me. ?I have a basic ESRI Shape file
>>> >> (created using gdal_contour) that I run through gdal_rasterize to
>>> >> generate very nice looking contour map. ?But I want the value of the
>>> >> contour in there.
>>> >>
>>> >> I've been trying different things with the -a option, but I can't get
>>> >> it to work out.
>>> >> Here's the latest thing I've tried for gdal_rasterize:
>>> >>
>>> >> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
>>> >> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
>>> >>
>>> >> I put an extra burn value in there (have also tried with out) to see
>>> >> if maybe it was just going in as 0. ?BLANK.tif is just a black image.
>>> >> I'm sure I'm missing something simple, just can't see it. ?I thought
>>> >> the -a would burn the value of "contour" into the raster.
>>> >>
>>> >> Thanks for any guidance!!
>>> >>
>>> >> Here's the data from my shapefile:
>>> >>
>>> >> INFO: Open of `contour/'
>>> >> ? ? ?using driver `ESRI Shapefile' successful.
>>> >>
>>> >> Layer name: contour
>>> >> Geometry: 3D Line String
>>> >> Feature Count: 157
>>> >> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
>>> >> Layer SRS WKT:
>>> >> GEOGCS["GCS_WGS_1984",
>>> >> ? ?DATUM["WGS_1984",
>>> >> ? ? ? ?SPHEROID["WGS_1984",6378137,298.257223563]],
>>> >> ? ?PRIMEM["Greenwich",0],
>>> >> ? ?UNIT["Degree",0.017453292519943295]]
>>> >> ID: Integer (8.0)
>>> >> contour: Real (12.3)
>>> >> OGRFeature(contour):0
>>> >> ?ID (Integer) = 0
>>> >> ?contour (Real) = ? ? 1000.000
>>> >> ?LINESTRING (87.765060240963862 80.0 1000,.....
>>> >> _______________________________________________
>>> >> gdal-dev mailing list
>>> >> gdal-dev@lists.osgeo.org
>>> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> >
>>> >
>>> >
>>> > --
>>> > Best regards,
>>> > Chaitanya kumar CH.
>>> > /t?a???nj?/ /k?m?r/
>>> > +91-9494447584
>>> > 17.2416N 80.1426E
>>> >
>>>
>>>
>>>
>>> --
>>> This communication is privileged and may contain confidential
>>> information. ?It's intended only for the use of the person or entity
>>> named above. If you are not the intended recipient, do not distribute
>>> or copy this communication. If you have received this communication in
>>> error, please notify the sender immediately and return the original to
>>> the email address above. ? Copyright 2011 Weather Trends
>>> International, Inc.
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>> /t?a???nj?/ /k?m?r/
>> +91-9494447584
>> 17.2416N 80.1426E
>>
>
>
>
> --
> This communication is privileged and may contain confidential
> information. ?It's intended only for the use of the person or entity
> named above. If you are not the intended recipient, do not distribute
> or copy this communication. If you have received this communication in
> error, please notify the sender immediately and return the original to
> the email address above. ? Copyright 2011 Weather Trends
> International, Inc.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From jsimpson at wxtrends.com  Thu May 19 08:01:26 2011
From: jsimpson at wxtrends.com (Jerl Simpson)
Date: Fri May 20 04:56:43 2011
Subject: [gdal-dev] Labeling rasters
In-Reply-To: <BANLkTi=Akzm2Aukh=eAFRgtgMVQPU6o9Mw@mail.gmail.com>
References: <BANLkTi=PFtqOZ4yvQ_=YK7ktF-BFJ1P2hg@mail.gmail.com>
	<BANLkTi=it2_YZUV+ues6dAHxCi=z1mqoFA@mail.gmail.com>
	<BANLkTimyHi8U=bT7zrR9GLy_gbDcVSLpCw@mail.gmail.com>
	<BANLkTikEXHYvZN6aG_3c=HWaSJDzgDEBxg@mail.gmail.com>
	<BANLkTi=OenW7s7VdG=kh1KcGunPRXAZFqQ@mail.gmail.com>
	<BANLkTi=Akzm2Aukh=eAFRgtgMVQPU6o9Mw@mail.gmail.com>
Message-ID: <BANLkTi=jmqDcdF0T8uomefURCd8i2eG4Rg@mail.gmail.com>

Thanks Hern?n, that's actually what I'm working on this morning.

2011/5/19 Hern?n De Angelis <dhdeangelis.listas@gmail.com>:
> Generic Mapping Tools (http://gmt.soest.hawaii.edu/)
>
> H.
>
>
> 2011/5/16 Jerl Simpson <jsimpson@wxtrends.com>:
>> Ok, thank you.
>>
>> Does anyone else have any suggestions?
>>
>>
>>
>> On Mon, May 16, 2011 at 3:06 PM, Chaitanya kumar CH
>> <chaitanya.ch@gmail.com> wrote:
>>> Jerl,
>>>
>>> I'm afraid gdal_rasterize can't do the labelling. You will need a
>>> specialized renderer for that. I'm not familiar with any of the desktop
>>> applications that do this. Perhaps, qgis has a plugin.
>>>
>>> On Tue, May 17, 2011 at 1:30 AM, Jerl Simpson <jsimpson@wxtrends.com> wrote:
>>>>
>>>> I already have the resultant image, it looks great. ? Just drawing
>>>> lines on a map. ?I'm using a blank image so I can more clearly see
>>>> what's going on. ?It's just a black and white image, and that's all I
>>>> want.
>>>> I'm trying to get the contour labeled, so I know which one I'm
>>>> viewing. ?So on the 1000 contour, I should see 1000 on the line
>>>> somewhere, and if it's a 547 contour, I should see 547 on the line
>>>> somewhere.
>>>>
>>>> Is that possible?
>>>>
>>>> Thanks,
>>>>
>>>> Jerl
>>>>
>>>> On Mon, May 16, 2011 at 2:41 PM, Chaitanya kumar CH
>>>> <chaitanya.ch@gmail.com> wrote:
>>>> > Jerl,
>>>> >
>>>> > The contour attribute and the Z values are same here. Just one of them
>>>> > is
>>>> > enough.
>>>> >
>>>> > With the Z values near the magnitude of 1000, the burn value of 255 is
>>>> > not
>>>> > going to make much of a difference. Use it if you want to offset any
>>>> > negative Z values.
>>>> >
>>>> > You should mention contour.shp instead of just 'contour' for
>>>> > <src_datasource>.
>>>> >
>>>> > Make sure BLANK.tif doesn't have different extents/projection.
>>>> >
>>>> > Your final image will have a data type of Float64. You may have to run
>>>> > some
>>>> > contrast stretching operations on it.
>>>> >
>>>> > On Tue, May 17, 2011 at 12:04 AM, Jerl Simpson <jsimpson@wxtrends.com>
>>>> > wrote:
>>>> >>
>>>> >> Hi guys and gals:
>>>> >>
>>>> >> I have something that's evading me. ?I have a basic ESRI Shape file
>>>> >> (created using gdal_contour) that I run through gdal_rasterize to
>>>> >> generate very nice looking contour map. ?But I want the value of the
>>>> >> contour in there.
>>>> >>
>>>> >> I've been trying different things with the -a option, but I can't get
>>>> >> it to work out.
>>>> >> Here's the latest thing I've tried for gdal_rasterize:
>>>> >>
>>>> >> gdal_rasterize -a contour -3d -b 1 -b 2 -b 3 -b 4 -burn 255 -burn 255
>>>> >> -burn 255 -burn 255 -burn 255 -l contour contour BLANK.tif
>>>> >>
>>>> >> I put an extra burn value in there (have also tried with out) to see
>>>> >> if maybe it was just going in as 0. ?BLANK.tif is just a black image.
>>>> >> I'm sure I'm missing something simple, just can't see it. ?I thought
>>>> >> the -a would burn the value of "contour" into the raster.
>>>> >>
>>>> >> Thanks for any guidance!!
>>>> >>
>>>> >> Here's the data from my shapefile:
>>>> >>
>>>> >> INFO: Open of `contour/'
>>>> >> ? ? ?using driver `ESRI Shapefile' successful.
>>>> >>
>>>> >> Layer name: contour
>>>> >> Geometry: 3D Line String
>>>> >> Feature Count: 157
>>>> >> Extent: (-0.500000, -89.830132) - (359.500000, 89.144137)
>>>> >> Layer SRS WKT:
>>>> >> GEOGCS["GCS_WGS_1984",
>>>> >> ? ?DATUM["WGS_1984",
>>>> >> ? ? ? ?SPHEROID["WGS_1984",6378137,298.257223563]],
>>>> >> ? ?PRIMEM["Greenwich",0],
>>>> >> ? ?UNIT["Degree",0.017453292519943295]]
>>>> >> ID: Integer (8.0)
>>>> >> contour: Real (12.3)
>>>> >> OGRFeature(contour):0
>>>> >> ?ID (Integer) = 0
>>>> >> ?contour (Real) = ? ? 1000.000
>>>> >> ?LINESTRING (87.765060240963862 80.0 1000,.....
>>>> >> _______________________________________________
>>>> >> gdal-dev mailing list
>>>> >> gdal-dev@lists.osgeo.org
>>>> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>> >
>>>> >
>>>> >
>>>> > --
>>>> > Best regards,
>>>> > Chaitanya kumar CH.
>>>> > /t?a???nj?/ /k?m?r/
>>>> > +91-9494447584
>>>> > 17.2416N 80.1426E
>>>> >
>>>>
>>>>
>>>>
>>>> --
>>>> This communication is privileged and may contain confidential
>>>> information. ?It's intended only for the use of the person or entity
>>>> named above. If you are not the intended recipient, do not distribute
>>>> or copy this communication. If you have received this communication in
>>>> error, please notify the sender immediately and return the original to
>>>> the email address above. ? Copyright 2011 Weather Trends
>>>> International, Inc.
>>>
>>>
>>>
>>> --
>>> Best regards,
>>> Chaitanya kumar CH.
>>> /t?a???nj?/ /k?m?r/
>>> +91-9494447584
>>> 17.2416N 80.1426E
>>>
>>
>>
>>
>> --
>> This communication is privileged and may contain confidential
>> information. ?It's intended only for the use of the person or entity
>> named above. If you are not the intended recipient, do not distribute
>> or copy this communication. If you have received this communication in
>> error, please notify the sender immediately and return the original to
>> the email address above. ? Copyright 2011 Weather Trends
>> International, Inc.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>



-- 
This communication is privileged and may contain confidential
information. ?It's intended only for the use of the person or entity
named above. If you are not the intended recipient, do not distribute
or copy this communication. If you have received this communication in
error, please notify the sender immediately and return the original to
the email address above. ? Copyright 2011 Weather Trends
International, Inc.
From even.rouault at mines-paris.org  Thu May 19 13:32:09 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu May 19 13:32:03 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
Message-ID: <201105191932.09634.even.rouault@mines-paris.org>

Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
> Hi List,
> 
> I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL so
> we can use the new WFS driver.
> Two days ago I already succeeded in compile just libcurl and add it to
> GDAL. But then the WFS driver doesn't work with https links.
> 
> So yesterday I've been trying for almost 10 hours to get libcurl, openssl
> and libssh to compile together.
> I'm using
> http://curl.haxx.se/libcurl/c/Using-libcurl-with-SSH-support-in-Visual-Stud
> io-2008.pdfas a guide and downloaded and installed:
> * ActivePerl
> * OpenSSL
> * libSSH2
> * Netwide Assembler

Did you try Tamas' builds ? It seems they have SSL support according to his 
blog entry :

http://szekerest.blogspot.com/2010/12/daily-built-binary-packages-for.html

> 
> I've got the necessary files now. I also did what was suggested in Appendix
> A of the PDF.
> 
> But when I do ogrinfo -ro WFS:https://my.testserver.com I get this
> response: Error returned by server : Protocol https not supported or
> disabled in libcurl
> 
> Today I tried checking if libcurl is configured properly, but I'm lost in
> the non-windows makefile and perl files.
> But because I followed the guide I assume libcurl is correctly build.
> 
> Most likely I need to make additional changes to my nmake.opt for GDAL.
> Currently I have this:
> CURL_DIR =    $(GDAL_HOME)\..\cUrl
> CURL_INC = -I$(CURL_DIR)/include
> CURL_LIB = $(CURL_DIR)/lib/DLL-Release/libcurl_imp.lib wsock32.lib
> wldap32.lib winmm.lib
> 
> I'm also not aware what is best: using a dynamic or static library, but
> that is a more general question ;)
> 
> So please advice me how to enable https.
> 
> Thanks,
> 
> Paul
> 
> 
> *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
> 
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
> 
> *
> *
From bontepaarden at gmail.com  Fri May 20 04:16:24 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Fri May 20 04:20:29 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <201105191932.09634.even.rouault@mines-paris.org>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
	<201105191932.09634.even.rouault@mines-paris.org>
Message-ID: <BANLkTikjDxYCsnWXEh-KJCoVCbAtsD64eA@mail.gmail.com>

Thanks Even,

I've been mailing with Tamas already.
I want to build GDAL myself because we want to add additional libraries as
libKML, SpatiaLite and PostGIS.

When I do curl.exe -V I get
curl 7.21.6 (i386-pc-win32) libcurl/7.21.6 OpenSSL/1.0.0d libssh2/1.2.8
Protocols: dict file ftp ftps gopher http https imap imaps pop3 pop3s rtsp
scp s
ftp smtp smtps telnet tftp
Features: AsynchDNS Largefile NTLM SSL

When I do curl https://my.server.com I get
curl: (60) SSL certificate problem, verify that the CA cert is OK. Details:
error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify
failed

When I do curl *-k* https://my.server.com I get the result I want.
So curl is properly configured.

Do I need to change something in my nmake.opt of GDAL or do I need to use
ogrinfo and ogr2ogr in a different way so I can pass the -k option?

Thanks,

Paul


 *Paul Meems *
Release manager, configuration manager
and forum moderator of MapWindow GIS.
www.mapwindow.org

Owner of MapWindow.nl - Support for
Dutch speaking users.
www.mapwindow.nl

*
*



2011/5/19 Even Rouault <even.rouault@mines-paris.org>

> Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
> > Hi List,
> >
> > I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL so
> > we can use the new WFS driver.
> > Two days ago I already succeeded in compile just libcurl and add it to
> > GDAL. But then the WFS driver doesn't work with https links.
> >
> > So yesterday I've been trying for almost 10 hours to get libcurl, openssl
> > and libssh to compile together.
> > I'm using
> >
> http://curl.haxx.se/libcurl/c/Using-libcurl-with-SSH-support-in-Visual-Stud
> > io-2008.pdfas a guide and downloaded and installed:
> > * ActivePerl
> > * OpenSSL
> > * libSSH2
> > * Netwide Assembler
>
> Did you try Tamas' builds ? It seems they have SSL support according to his
> blog entry :
>
> http://szekerest.blogspot.com/2010/12/daily-built-binary-packages-for.html
>
> >
> > I've got the necessary files now. I also did what was suggested in
> Appendix
> > A of the PDF.
> >
> > But when I do ogrinfo -ro WFS:https://my.testserver.com I get this
> > response: Error returned by server : Protocol https not supported or
> > disabled in libcurl
> >
> > Today I tried checking if libcurl is configured properly, but I'm lost in
> > the non-windows makefile and perl files.
> > But because I followed the guide I assume libcurl is correctly build.
> >
> > Most likely I need to make additional changes to my nmake.opt for GDAL.
> > Currently I have this:
> > CURL_DIR =    $(GDAL_HOME)\..\cUrl
> > CURL_INC = -I$(CURL_DIR)/include
> > CURL_LIB = $(CURL_DIR)/lib/DLL-Release/libcurl_imp.lib wsock32.lib
> > wldap32.lib winmm.lib
> >
> > I'm also not aware what is best: using a dynamic or static library, but
> > that is a more general question ;)
> >
> > So please advice me how to enable https.
> >
> > Thanks,
> >
> > Paul
> >
> >
> > *Paul Meems *
> > Release manager, configuration manager
> > and forum moderator of MapWindow GIS.
> > www.mapwindow.org
> >
> > Owner of MapWindow.nl - Support for
> > Dutch speaking users.
> > www.mapwindow.nl
> >
> > *
> > *
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110520/120de086/attachment.html
From szekerest at gmail.com  Fri May 20 04:48:29 2011
From: szekerest at gmail.com (Tamas Szekeres)
Date: Fri May 20 04:53:57 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <BANLkTikjDxYCsnWXEh-KJCoVCbAtsD64eA@mail.gmail.com>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
	<201105191932.09634.even.rouault@mines-paris.org>
	<BANLkTikjDxYCsnWXEh-KJCoVCbAtsD64eA@mail.gmail.com>
Message-ID: <BANLkTimipQMBHRB8yNWnD93BCvk_hajb8w@mail.gmail.com>

Hi Paul,

You may have to set up a certificate file (containing the trusted domains)
to make curl + SSL work properly. I've already wrote a blogpost about this
at:
http://szekerest.blogspot.com/2010/12/daily-built-binary-packages-for.html

Hope that helps,

Tamas




2011/5/20 Paul Meems <bontepaarden@gmail.com>

> Thanks Even,
>
> I've been mailing with Tamas already.
> I want to build GDAL myself because we want to add additional libraries as
> libKML, SpatiaLite and PostGIS.
>
> When I do curl.exe -V I get
> curl 7.21.6 (i386-pc-win32) libcurl/7.21.6 OpenSSL/1.0.0d libssh2/1.2.8
> Protocols: dict file ftp ftps gopher http https imap imaps pop3 pop3s rtsp
> scp s
> ftp smtp smtps telnet tftp
> Features: AsynchDNS Largefile NTLM SSL
>
> When I do curl https://my.server.com I get
> curl: (60) SSL certificate problem, verify that the CA cert is OK. Details:
> error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify
> failed
>
> When I do curl *-k* https://my.server.com I get the result I want.
> So curl is properly configured.
>
> Do I need to change something in my nmake.opt of GDAL or do I need to use
> ogrinfo and ogr2ogr in a different way so I can pass the -k option?
>
>
> Thanks,
>
> Paul
>
>
>  *Paul Meems *
> Release manager, configuration manager
> and forum moderator of MapWindow GIS.
> www.mapwindow.org
>
> Owner of MapWindow.nl - Support for
> Dutch speaking users.
> www.mapwindow.nl
>
> *
> *
>
>
>
> 2011/5/19 Even Rouault <even.rouault@mines-paris.org>
>
>> Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
>> > Hi List,
>> >
>> > I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL
>> so
>> > we can use the new WFS driver.
>> > Two days ago I already succeeded in compile just libcurl and add it to
>> > GDAL. But then the WFS driver doesn't work with https links.
>> >
>> > So yesterday I've been trying for almost 10 hours to get libcurl,
>> openssl
>> > and libssh to compile together.
>> > I'm using
>> >
>> http://curl.haxx.se/libcurl/c/Using-libcurl-with-SSH-support-in-Visual-Stud
>> > io-2008.pdfas a guide and downloaded and installed:
>> > * ActivePerl
>> > * OpenSSL
>> > * libSSH2
>> > * Netwide Assembler
>>
>> Did you try Tamas' builds ? It seems they have SSL support according to
>> his
>> blog entry :
>>
>> http://szekerest.blogspot.com/2010/12/daily-built-binary-packages-for.html
>>
>> >
>> > I've got the necessary files now. I also did what was suggested in
>> Appendix
>> > A of the PDF.
>> >
>> > But when I do ogrinfo -ro WFS:https://my.testserver.com I get this
>> > response: Error returned by server : Protocol https not supported or
>> > disabled in libcurl
>> >
>> > Today I tried checking if libcurl is configured properly, but I'm lost
>> in
>> > the non-windows makefile and perl files.
>> > But because I followed the guide I assume libcurl is correctly build.
>> >
>> > Most likely I need to make additional changes to my nmake.opt for GDAL.
>> > Currently I have this:
>> > CURL_DIR =    $(GDAL_HOME)\..\cUrl
>> > CURL_INC = -I$(CURL_DIR)/include
>> > CURL_LIB = $(CURL_DIR)/lib/DLL-Release/libcurl_imp.lib wsock32.lib
>> > wldap32.lib winmm.lib
>> >
>> > I'm also not aware what is best: using a dynamic or static library, but
>> > that is a more general question ;)
>> >
>> > So please advice me how to enable https.
>> >
>> > Thanks,
>> >
>> > Paul
>> >
>> >
>> > *Paul Meems *
>> > Release manager, configuration manager
>> > and forum moderator of MapWindow GIS.
>> > www.mapwindow.org
>> >
>> > Owner of MapWindow.nl - Support for
>> > Dutch speaking users.
>> > www.mapwindow.nl
>> >
>> > *
>> > *
>>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110520/88a0bcaf/attachment.html
From Thomas.Ellett at statkart.no  Fri May 20 04:30:54 2011
From: Thomas.Ellett at statkart.no (Thomas Ellett)
Date: Fri May 20 05:08:01 2011
Subject: [gdal-dev] Failed to allocate memory for to read TIFF directory 
Message-ID: <FC1895F4C4D8164AB7D64BDD5520329F01BBA4FF@skrisrv06.statkart.no>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/jpeg
Size: 3052 bytes
Desc: image001.jpg
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110520/e8917945/attachment-0001.jpe
From alexander.bruy at gmail.com  Sat May 21 10:21:22 2011
From: alexander.bruy at gmail.com (Alexander Bruy)
Date: Sat May 21 11:54:03 2011
Subject: [gdal-dev] Possible bug. Clipping raster with gdalwarp.
Message-ID: <BANLkTi=-SbHL3Rb3=x5k7-XsDQNe52Twhg@mail.gmail.com>

Hi,

when I clip singleband raster in GeoTiff format using shapefile as mask layer
with gdalwarp I get two bands raster in output. First band is clipped raster and
second - rasterized mask. Is this bug or feature? Is it really necessary to save
rasterized mask?

I use next command
gdalwarp -q -cutline mask.shp -dstalpha -of GTiff clearcuts.tif
clearcuts_clip.tif

-- 
Alexander Bruy
From even.rouault at mines-paris.org  Sat May 21 10:28:13 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat May 21 12:01:18 2011
Subject: [gdal-dev] Possible bug. Clipping raster with gdalwarp.
In-Reply-To: <BANLkTi=-SbHL3Rb3=x5k7-XsDQNe52Twhg@mail.gmail.com>
References: <BANLkTi=-SbHL3Rb3=x5k7-XsDQNe52Twhg@mail.gmail.com>
Message-ID: <201105211628.13551.even.rouault@mines-paris.org>

Le samedi 21 mai 2011 16:21:22, Alexander Bruy a ?crit :
> Hi,
> 
> when I clip singleband raster in GeoTiff format using shapefile as mask
> layer with gdalwarp I get two bands raster in output. First band is
> clipped raster and second - rasterized mask. Is this bug or feature? Is it
> really necessary to save rasterized mask?

No, it isn't necessary. But you asked for it by specifying the -dstalpha flag. 
Just remove it if you don't need the alpha channel.

> 
> I use next command
> gdalwarp -q -cutline mask.shp -dstalpha -of GTiff clearcuts.tif
> clearcuts_clip.tif
From jmckenna at gatewaygeomatics.com  Sun May 22 06:50:23 2011
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Sun May 22 07:49:56 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <201105191932.09634.even.rouault@mines-paris.org>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
	<201105191932.09634.even.rouault@mines-paris.org>
Message-ID: <4DD8EA6F.5010404@gatewaygeomatics.com>

On 11-05-19 2:32 PM, Even Rouault wrote:
> Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
>> Hi List,
>>
>> I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL so
>> we can use the new WFS driver.
>> Two days ago I already succeeded in compile just libcurl and add it to
>> GDAL. But then the WFS driver doesn't work with https links.
>>
>> So yesterday I've been trying for almost 10 hours to get libcurl, openssl
>> and libssh to compile together.

I should also note that MS4W includes SSL support, and comes with Apache 
configured and ready-to-go pointing to the necessary files.  Some notes 
on this exist in the included README: 
http://www.maptools.org/ms4w/index.phtml?page=README_INSTALL.html#g-certificates-for-https-with-wms-wfs-servers

-jeff


-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/


From bontepaarden at gmail.com  Mon May 23 03:11:51 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon May 23 05:12:06 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <4DD8EA6F.5010404@gatewaygeomatics.com>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
	<201105191932.09634.even.rouault@mines-paris.org>
	<4DD8EA6F.5010404@gatewaygeomatics.com>
Message-ID: <BANLkTin2D+RaFA3TeSyvqbD3jPK00Li=aA@mail.gmail.com>

Thanks Jeff,

But curl isn't the problem. Using the produced curl.exe I can use https.
It's just gdal/ogr who doesn't allow it.

Tamas suggested setting UNSAFESSL but I haven't figured it out how to do
that.

I'm also wondering if the problems I have with the WFS driver relate to the
problems the WMS driver had.
Ticket #3882 (http://trac.osgeo.org/gdal/ticket/3882) is also about
UNSAFESSL

So in short: I'm still struggling with the WFS driver and https.

Thanks,

Paul


2011/5/22 Jeff McKenna <jmckenna@gatewaygeomatics.com>

> On 11-05-19 2:32 PM, Even Rouault wrote:
>
>> Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
>>
>>> Hi List,
>>>
>>> I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL so
>>> we can use the new WFS driver.
>>> Two days ago I already succeeded in compile just libcurl and add it to
>>> GDAL. But then the WFS driver doesn't work with https links.
>>>
>>> So yesterday I've been trying for almost 10 hours to get libcurl, openssl
>>> and libssh to compile together.
>>>
>>
> I should also note that MS4W includes SSL support, and comes with Apache
> configured and ready-to-go pointing to the necessary files.  Some notes on
> this exist in the included README:
> http://www.maptools.org/ms4w/index.phtml?page=README_INSTALL.html#g-certificates-for-https-with-wms-wfs-servers
>
> -jeff
>
>
> --
> Jeff McKenna
> MapServer Consulting and Training Services
> http://www.gatewaygeomatics.com/
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110523/7599781d/attachment.html
From even.rouault at mines-paris.org  Mon May 23 03:25:56 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon May 23 05:26:37 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <BANLkTin2D+RaFA3TeSyvqbD3jPK00Li=aA@mail.gmail.com>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
	<201105191932.09634.even.rouault@mines-paris.org>
	<4DD8EA6F.5010404@gatewaygeomatics.com>
	<BANLkTin2D+RaFA3TeSyvqbD3jPK00Li=aA@mail.gmail.com>
Message-ID: <1306135556.4dda0c04053e1@webmail.free.fr>

Paul,

as Tamas suggested, I'd *strongly* encourage you to study
http://szekerest.blogspot.com/2010/12/daily-built-binary-packages-for.html ,
particularly section 4.

The error you get is a sign that the certificate isn't recognized by curl and
the fact you need the -k flag of curl.exe just instructs it to bypass the
standard security checks.

Or, you could try to patch port/cpl_http.cpp and add the following line around
line 299. This should have the same effect of the -k flag.

curl_easy_setopt(http_handle, CURLOPT_SSL_VERIFYHOST, FALSE);

The UNSAFESSL option of the WMS driver basically does the above.

>
> Thanks,
>
> Paul
>
>
> 2011/5/22 Jeff McKenna <jmckenna@gatewaygeomatics.com>
>
> > On 11-05-19 2:32 PM, Even Rouault wrote:
> >
> >> Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
> >>
> >>> Hi List,
> >>>
> >>> I'm still working on Win7 with VS2008 and I try to add libcurl to GDAL so
> >>> we can use the new WFS driver.
> >>> Two days ago I already succeeded in compile just libcurl and add it to
> >>> GDAL. But then the WFS driver doesn't work with https links.
> >>>
> >>> So yesterday I've been trying for almost 10 hours to get libcurl, openssl
> >>> and libssh to compile together.
> >>>
> >>
> > I should also note that MS4W includes SSL support, and comes with Apache
> > configured and ready-to-go pointing to the necessary files.  Some notes on
> > this exist in the included README:
> >
>
http://www.maptools.org/ms4w/index.phtml?page=README_INSTALL.html#g-certificates-for-https-with-wms-wfs-servers
> >
> > -jeff
> >
> >
> > --
> > Jeff McKenna
> > MapServer Consulting and Training Services
> > http://www.gatewaygeomatics.com/
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev@lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >
>


From bontepaarden at gmail.com  Mon May 23 10:50:14 2011
From: bontepaarden at gmail.com (Paul Meems)
Date: Mon May 23 13:15:12 2011
Subject: [gdal-dev] Need some help adding libCurl to GDAL
In-Reply-To: <1306135556.4dda0c04053e1@webmail.free.fr>
References: <BANLkTikq-YBq=AR8SZoASCrU1p_6orN7zg@mail.gmail.com>
	<201105191932.09634.even.rouault@mines-paris.org>
	<4DD8EA6F.5010404@gatewaygeomatics.com>
	<BANLkTin2D+RaFA3TeSyvqbD3jPK00Li=aA@mail.gmail.com>
	<1306135556.4dda0c04053e1@webmail.free.fr>
Message-ID: <BANLkTin1n5H9E88wOT5eJKN0SHnTRs6h-A@mail.gmail.com>

Even,

Thanks for your reply.
I understand the need for certificates but using certificates for a server
that doesn't require it makes it hard to access that server.
If I need to explain to my users to follow Tamas his blogspot to access the
server of their choice they go crazy.

I've tried your suggestion and patched port/cpl_http.cpp.
But I keep this error: "Protocol https not supported or disabled in libcurl"

I really feel I need to enable something else in GDAL but I have no idea
what.
As a workaround I copy curl.exe as well and use it to get my WFS though
https.
But of course that is not a solution. I'm still wondering if anybody has
some experience with GDAL + WFS driver and https.

Thanks,

Paul


2011/5/23 Even Rouault <even.rouault@mines-paris.org>

> Paul,
>
> as Tamas suggested, I'd *strongly* encourage you to study
> http://szekerest.blogspot.com/2010/12/daily-built-binary-packages-for.html,
> particularly section 4.
>
> The error you get is a sign that the certificate isn't recognized by curl
> and
> the fact you need the -k flag of curl.exe just instructs it to bypass the
> standard security checks.
>
> Or, you could try to patch port/cpl_http.cpp and add the following line
> around
> line 299. This should have the same effect of the -k flag.
>
> curl_easy_setopt(http_handle, CURLOPT_SSL_VERIFYHOST, FALSE);
>
> The UNSAFESSL option of the WMS driver basically does the above.
>
> >
> > Thanks,
> >
> > Paul
> >
> >
> > 2011/5/22 Jeff McKenna <jmckenna@gatewaygeomatics.com>
> >
> > > On 11-05-19 2:32 PM, Even Rouault wrote:
> > >
> > >> Le jeudi 19 mai 2011 10:22:08, Paul Meems a ?crit :
> > >>
> > >>> Hi List,
> > >>>
> > >>> I'm still working on Win7 with VS2008 and I try to add libcurl to
> GDAL so
> > >>> we can use the new WFS driver.
> > >>> Two days ago I already succeeded in compile just libcurl and add it
> to
> > >>> GDAL. But then the WFS driver doesn't work with https links.
> > >>>
> > >>> So yesterday I've been trying for almost 10 hours to get libcurl,
> openssl
> > >>> and libssh to compile together.
> > >>>
> > >>
> > > I should also note that MS4W includes SSL support, and comes with
> Apache
> > > configured and ready-to-go pointing to the necessary files.  Some notes
> on
> > > this exist in the included README:
> > >
> >
>
> http://www.maptools.org/ms4w/index.phtml?page=README_INSTALL.html#g-certificates-for-https-with-wms-wfs-servers
> > >
> > > -jeff
> > >
> > >
> > > --
> > > Jeff McKenna
> > > MapServer Consulting and Training Services
> > > http://www.gatewaygeomatics.com/
> > >
> > >
> > >
> > > _______________________________________________
> > > gdal-dev mailing list
> > > gdal-dev@lists.osgeo.org
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > >
> >
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110523/3a15a593/attachment.html
From spiderplant0 at gmail.com  Mon May 23 16:56:08 2011
From: spiderplant0 at gmail.com (spiderplant0)
Date: Mon May 23 19:40:48 2011
Subject: [gdal-dev] Convert vector to raster with colored polygons
Message-ID: <1306184168592-6396185.post@n2.nabble.com>

Hi, I have a vector file that consists of polygons that are colored according
to the value of an attribute.
I wish to convert this vector to a raster file and preserve the coloring
information. Is this possible with gdal_rasterize?

I have used this command...
gdal_rasterize -ts 8447 7058 -a attributeName -l layerName 
vectorFilename.shp rasterFilename.tiff

However this just seems to generate a black and white raster file. I've read
everything I can find on gdal_translate but cant figure out how to fix in
the color information.

I'll use the raster image generated by this step to feed into gdal2tiles to
generate googleMap tiles.

I'm using gdal 1.8

Thanks.


--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-vector-to-raster-with-colored-polygons-tp6396185p6396185.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Mon May 23 19:02:46 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon May 23 21:54:27 2011
Subject: [gdal-dev] Convert vector to raster with colored polygons
In-Reply-To: <1306184168592-6396185.post@n2.nabble.com>
References: <1306184168592-6396185.post@n2.nabble.com>
Message-ID: <BANLkTik1hZsC5uvMEn+_XJAeTJ=CVpCRkg@mail.gmail.com>

spiderplant0,

I am assuming that you have a greyscale image. Not just black(0) and
white (255) areas.
gdal_rasterize does not create a colour table for the generated
raster. You need to add one to the newly created table.

If the RGB values are in separate attributes, you can burn each one
into a separate band to create a colourful raster.

On 5/24/11, spiderplant0 <spiderplant0@gmail.com> wrote:
> Hi, I have a vector file that consists of polygons that are colored
> according
> to the value of an attribute.
> I wish to convert this vector to a raster file and preserve the coloring
> information. Is this possible with gdal_rasterize?
>
> I have used this command...
> gdal_rasterize -ts 8447 7058 -a attributeName -l layerName
> vectorFilename.shp rasterFilename.tiff
>
> However this just seems to generate a black and white raster file. I've read
> everything I can find on gdal_translate but cant figure out how to fix in
> the color information.
>
> I'll use the raster image generated by this step to feed into gdal2tiles to
> generate googleMap tiles.
>
> I'm using gdal 1.8
>
> Thanks.
>
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Convert-vector-to-raster-with-colored-polygons-tp6396185p6396185.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
From jormarfe at gmail.com  Tue May 24 07:35:34 2011
From: jormarfe at gmail.com (Jorge Martin)
Date: Tue May 24 11:09:34 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <4DD27BB0.8020209@pobox.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
Message-ID: <BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>

Many thanks for your answers!!!

Now I am developing a library that handles TIFF and geoTIFF, but I have
noted that I need to include RPCCoefficientTag to the TIFF file. Searching
on the internet I have found that this tag is not suported by geoTIFF spec
1.0, it is only suported by gdal. Is this true?

Is it posible to include this tag in a TIFF (not geoTIFF) file not using
gdal library? Or I have to use geotiff?


Best regards,


Jorge

2011/5/17 Frank Warmerdam <warmerdam@pobox.com>

> On 11-05-17 07:54 AM, Jorge Martin wrote:
>
>> Hello Frank,
>>
>>
>> I am reading libtiff manual and it is possible to write different IFD
>> (directories, I do not know the correct word) in the same tiff file using
>> *TIFFWriteDirectory *function. Is it possible to use it in gdal library?
>>
>
>
> Jorge,
>
> While in theory we could extend the GDAL library to write multi-image
> TIFF files - at this time we do not have support for doing this.
>
> Best regards,
>
>  2011/5/17 Jorge Martin <jormarfe@gmail.com <mailto:jormarfe@gmail.com>>
>>
>>
>>    Hello Frank,
>>
>>             TIFF 6.0 specifications has a sub-section in page 16 which is
>>    called "Multiple Image per TIFF file" and there is only a description
>> of
>>    this issue but anything about its implementation:
>>
>>    "There may be more than one IFD in a TIFF file. Each IFD defines a
>> subfile.
>>    One potential use of subfiles is to describe related images, such as
>> the
>>    pages of a facsimile transmission. A Baseline TIFF reader is not
>> required
>>    to read any IFDs beyond the first one."
>>
>>             Is it possible to implement it?
>>
>
>
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110524/2eaf3100/attachment.html
From warmerdam at pobox.com  Tue May 24 09:14:16 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 24 12:53:33 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
	<BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
Message-ID: <4DDBAF28.7040800@pobox.com>

On 11-05-24 07:35 AM, Jorge Martin wrote:
> Many thanks for your answers!!!
>
> Now I am developing a library that handles TIFF and geoTIFF, but I have noted
> that I need to include RPCCoefficientTag to the TIFF file. Searching on the
> internet I have found that this tag is not suported by geoTIFF spec 1.0, it is
> only suported by gdal. Is this true?
> Is it posible to include this tag in a TIFF (not geoTIFF) file not using gdal
> library? Or I have to use geotiff?

Jorge,

This tag is a TIFF tag and can be set and used without the file being a
geotiff file.  You don't need to use GDAL for this but you might want to
look at the GDAL implementation to see how it can be read and written.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Jonathan.Lefman at usace.army.mil  Tue May 24 12:15:47 2011
From: Jonathan.Lefman at usace.army.mil (Lefman, Jonathan ERDC-TEC-VA)
Date: Tue May 24 16:04:54 2011
Subject: [gdal-dev] gdalinfo: corner coords in other projection
Message-ID: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>

Hi all,

Is there an executable utility that takes the corner coordinates from a gtiff
and translates them into another projection system?  For example, I have a
gtiff in UTM and I want to translate the coordinates of the bounding box (or
corners) into WGS84.  Or is there a way to do this non-programmatically using
a combination of executable utilities?

Thanks,

Jon


----------------------------------

Jonathan Lefman, PhD
Geospatial Research and Engineering Division / Army Geospatial Center
Engineer
Research and Development Center U.S. Army Corps of Engineers
jonathan.lefman@usace.army.mil
703-428-8039


From EAdam at co.lincoln.or.us  Tue May 24 12:24:37 2011
From: EAdam at co.lincoln.or.us (Eli Adam)
Date: Tue May 24 16:15:01 2011
Subject: [gdal-dev] gdalinfo: corner coords in other projection
In-Reply-To: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
References: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
Message-ID: <4DDB7954.4F75.00CE.0@co.lincoln.or.us>

Jon,
    
       gdaltransform does some of this.  It looks to do 4 corners you would need to do it four times or list the coordinate pairs on four lines and get four lines of output back.  There might be a clever way to take the output of gdalinfo as input into gdaltransform saving you some typing and potential transposing.  More here  http://gdal.org/gdaltransform.html

HTH, Eli

>>> On 5/24/2011 at 9:15 AM, in message
<FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>,
"Lefman, Jonathan ERDC-TEC-VA" <Jonathan.Lefman@usace.army.mil> wrote:
> Hi all,
> 
> Is there an executable utility that takes the corner coordinates from a 
> gtiff
> and translates them into another projection system?  For example, I have a
> gtiff in UTM and I want to translate the coordinates of the bounding box (or
> corners) into WGS84.  Or is there a way to do this non-programmatically using
> a combination of executable utilities?
> 
> Thanks,
> 
> Jon
> 
> 
> ----------------------------------
> 
> Jonathan Lefman, PhD
> Geospatial Research and Engineering Division / Army Geospatial Center
> Engineer
> Research and Development Center U.S. Army Corps of Engineers
> jonathan.lefman@usace.army.mil 
> 703-428-8039
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org 
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From jormarfe at gmail.com  Tue May 24 12:26:22 2011
From: jormarfe at gmail.com (Jorge Martin)
Date: Tue May 24 16:16:05 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <4DDBAF28.7040800@pobox.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
	<BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
	<4DDBAF28.7040800@pobox.com>
Message-ID: <BANLkTinm4dyypj7Jwk1xZbpVNGOAfHE_nQ@mail.gmail.com>

Many Thanks Frank, I have insert the RPCCoeffcientTag to the file.

            Is any comercial software that could read this TAG? In order to
check the implementation I need open the file with a comercial software. I
have tried with ENVI but it does not recognize the format.

Best Regards,


2011/5/24 Frank Warmerdam <warmerdam@pobox.com>

> On 11-05-24 07:35 AM, Jorge Martin wrote:
>
>> Many thanks for your answers!!!
>>
>> Now I am developing a library that handles TIFF and geoTIFF, but I have
>> noted
>> that I need to include RPCCoefficientTag to the TIFF file. Searching on
>> the
>> internet I have found that this tag is not suported by geoTIFF spec 1.0,
>> it is
>> only suported by gdal. Is this true?
>> Is it posible to include this tag in a TIFF (not geoTIFF) file not using
>> gdal
>> library? Or I have to use geotiff?
>>
>
> Jorge,
>
> This tag is a TIFF tag and can be set and used without the file being a
> geotiff file.  You don't need to use GDAL for this but you might want to
> look at the GDAL implementation to see how it can be read and written.
>
> Best regards,
>
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110524/528b43c6/attachment.html
From peifer at gmx.eu  Tue May 24 13:00:01 2011
From: peifer at gmx.eu (Hermann Peifer)
Date: Tue May 24 16:51:31 2011
Subject: [gdal-dev] Re: gdalinfo: corner coords in other projection
In-Reply-To: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
References: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
Message-ID: <irgo6a$tte$1@dough.gmane.org>

On 24/05/2011 18:15, Lefman, Jonathan ERDC-TEC-VA wrote:
> Hi all,
>
> Is there an executable utility that takes the corner coordinates from a gtiff
> and translates them into another projection system?  For example, I have a
> gtiff in UTM and I want to translate the coordinates of the bounding box (or
> corners) into WGS84.  Or is there a way to do this non-programmatically using
> a combination of executable utilities?
>

Couldn't you just simply use gdalinfo's output, see below?

Hermann

$ gdalinfo highway_number_3035.tif
Driver: GTiff/GeoTIFF
Files: highway_number_3035.tif
Size is 10384, 7031
Coordinate System is:
PROJCS["ETRS89 / ETRS-LAEA",
     GEOGCS["ETRS89",
         DATUM["European_Terrestrial_Reference_System_1989",
             SPHEROID["GRS 1980",6378137,298.2572221010002,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6258"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4258"]],
     PROJECTION["Lambert_Azimuthal_Equal_Area"],
     PARAMETER["latitude_of_center",52],
     PARAMETER["longitude_of_center",10],
     PARAMETER["false_easting",4321000],
     PARAMETER["false_northing",3210000],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","3035"]]
Origin = (270937.427360458299518,5929526.137714201584458)
Pixel Size = (701.323508343892058,-701.323508343892058)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  270937.427, 5929526.138) ( 67d52'39.91"W, 53d13'23.14"N)
Lower Left  (  270937.427,  998520.551) ( 29d49'49.65"W, 22d27'34.90"N)
Upper Right ( 7553480.738, 5929526.138) ( 81d 0' 6.31"E, 59d42'39.88"N)
Lower Right ( 7553480.738,  998520.551) ( 42d23'31.15"E, 25d49'31.87"N)
Center      ( 3912209.083, 3464023.344) (  3d44'23.41"E, 54d 7'25.38"N)

From ramirogonzalez at suremptec.com.ar  Tue May 24 14:50:16 2011
From: ramirogonzalez at suremptec.com.ar (Ramiro Gonzalez)
Date: Tue May 24 18:47:39 2011
Subject: [gdal-dev] overwrite shapefile
Message-ID: <BANLkTikQafRjvQMEcojcsqqLAtk8-wgDkQ@mail.gmail.com>

hello

I want to overwrite a shapefile using ogr(c++). If the dbf file in the
destination shapefile is already open by anather program(exel), the
operation fails in the middle and only the shp and shx files are updated.
How could I check, using OGR, if the dbf(or any other file in the shapefile)
is blocked before I overwrite it?

I tested this with "ogr2ogr -overwrite destination source.shp" and the same
thing happens

Thanks,
Ramiro
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110524/4154af19/attachment.html
From jzl5325 at psu.edu  Tue May 24 14:43:00 2011
From: jzl5325 at psu.edu (Jay L.)
Date: Tue May 24 20:15:43 2011
Subject: [gdal-dev] OGR equivalent to ARCpy MakeFeatureLayer
Message-ID: <BANLkTimhb-TMcW=i8WLA9N8YzG8x5h85iQ@mail.gmail.com>

I have a script, written to use ESRI's ArcPy, which I am attempting to
re-write using the ogr/gdal python bindings.  One of the parameters that I
can pass to ESRI's MakeFeatureLayer function is an SQL Query.  This creates
a featurelayer (in memory) which contains only those rows which meet the
criteria.  For this script I am iterating through each feature, placing it
into it's own feature layer, intersecting with another in memory feature
layer, and finally writing out the newly created geometry(s).

feature.GetFID() returns the unique ID as expected.  Can I use OGR SQL to
format this query?  How about creating an in memory feature layer with only
the selected feature?

Thanks,
Jay
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110524/59b75ff7/attachment.html
From spiderplant0 at gmail.com  Tue May 24 17:28:07 2011
From: spiderplant0 at gmail.com (spiderplant0)
Date: Tue May 24 21:34:24 2011
Subject: [gdal-dev] Re: Convert vector to raster with colored polygons
In-Reply-To: <BANLkTik1hZsC5uvMEn+_XJAeTJ=CVpCRkg@mail.gmail.com>
References: <1306184168592-6396185.post@n2.nabble.com>
	<BANLkTik1hZsC5uvMEn+_XJAeTJ=CVpCRkg@mail.gmail.com>
Message-ID: <1306272487358-6400545.post@n2.nabble.com>

Hi, Thanks for the reply.

When I tried this first, the image was displaying just black and white. But
after some experimentation I discovered that '-ot Byte' with gdal_rasterize
gave polygons colored various shades of grey - though not related to my
attribute - seemed to be random.

I dont understand what you mean by 'If the RGB values are in separate
attributes'. I have one attribute and I want the polygon to be colored
depending on the value of the attribute for this polygon. Eg
if attribute is between 100 and 199 color polygon green
if the attribute is between 200 and 299 color polygon red 
etc
(I can change the attribute to discrete integer levels if ranges aren't
allowed).

I type this:
gdal_rasterize -ts 500 900 -ot Byte -a attributeName -l layerName 
vectorFilename.shp rasterFilename.tiff 

Though I'm not sure if this is correct. I guess this is a greyscale image
and not full color. Can't figure out how to get full color.

Do you know how to add a color table? Is there a gdal utility for this?

I couldn't find much on the web to explain how to add a color table other
than a suggestion for converting to a .vrt and manually editing the file. I
guess I want a palette raster? But I couldnt figure out the format of the
color table. Or how to specify that the background should be transparent.

Any clues you can give me would be appreciated.


--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-vector-to-raster-with-colored-polygons-tp6396185p6400545.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From chaitanya.ch at gmail.com  Tue May 24 20:35:20 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 25 00:51:32 2011
Subject: [gdal-dev] Re: Convert vector to raster with colored polygons
In-Reply-To: <1306272487358-6400545.post@n2.nabble.com>
References: <1306184168592-6396185.post@n2.nabble.com>
	<BANLkTik1hZsC5uvMEn+_XJAeTJ=CVpCRkg@mail.gmail.com>
	<1306272487358-6400545.post@n2.nabble.com>
Message-ID: <BANLkTik-rb8dBKN02AK3atUfNTRTeh5BQA@mail.gmail.com>

spiderplant0,

1. First, make sure the attribute value field contains a single value for
each color, starting from one.

2. Run gdal_rasterize after adding the option '-init 0' to your original
options. This option makes sure that the background pixels are initialized
to zero. You will get a greyscale image.

3. The best way to color this image using gdal utilities is by using a .vrt
file. You may also be able to do this using an image editor like GIMP. Run
gdalbuildvrt with the option '-srcnodata 0' to create a VRT named, say,
'output.vrt'.

4a. Refer to the GDAL VRT tutorial [1] and add ColorTable element inside the
VRTRasterband element. It should be at the same level as the NoDataValue
element (Which should contain the value 0 here).

4b. For the first Entry, which interprets the value 0, set the alpha value
(c4) to 0 to make it transparent. i.e. <Entry c1="0" c2="0" c3="0" c4="0"/>

4c. For the subsequent values set the alpha value to 255 and the RGB values
to show whatever color you need.

5. Run gdal_translate on output.vrt with the option "-expand rgba". The
output raster will contain the colors you specified in the ColorTable with
the background transparent.

[1]: http://www.gdal.org/gdal_vrttut.html

On Wed, May 25, 2011 at 2:58 AM, spiderplant0 <spiderplant0@gmail.com>wrote:

> Hi, Thanks for the reply.
>
> When I tried this first, the image was displaying just black and white. But
> after some experimentation I discovered that '-ot Byte' with gdal_rasterize
> gave polygons colored various shades of grey - though not related to my
> attribute - seemed to be random.
>
> I dont understand what you mean by 'If the RGB values are in separate
> attributes'. I have one attribute and I want the polygon to be colored
> depending on the value of the attribute for this polygon. Eg
> if attribute is between 100 and 199 color polygon green
> if the attribute is between 200 and 299 color polygon red
> etc
> (I can change the attribute to discrete integer levels if ranges aren't
> allowed).
>
> I type this:
> gdal_rasterize -ts 500 900 -ot Byte -a attributeName -l layerName
> vectorFilename.shp rasterFilename.tiff
>
> Though I'm not sure if this is correct. I guess this is a greyscale image
> and not full color. Can't figure out how to get full color.
>
> Do you know how to add a color table? Is there a gdal utility for this?
>
> I couldn't find much on the web to explain how to add a color table other
> than a suggestion for converting to a .vrt and manually editing the file. I
> guess I want a palette raster? But I couldnt figure out the format of the
> color table. Or how to specify that the background should be transparent.
>
> Any clues you can give me would be appreciated.
>
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Convert-vector-to-raster-with-colored-polygons-tp6396185p6400545.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110525/34fcc77e/attachment.html
From chaitanya.ch at gmail.com  Tue May 24 20:46:05 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 25 01:02:52 2011
Subject: [gdal-dev] OGR equivalent to ARCpy MakeFeatureLayer
In-Reply-To: <BANLkTimhb-TMcW=i8WLA9N8YzG8x5h85iQ@mail.gmail.com>
References: <BANLkTimhb-TMcW=i8WLA9N8YzG8x5h85iQ@mail.gmail.com>
Message-ID: <BANLkTinc7gLN7KY3hkFt50SjnrPQSvy-iw@mail.gmail.com>

Jay,

You can do all the stuff using OGR's SQL engine. OGR also supports memory
layers.
Refer to GDAL's RFC 28 [1], and the test scripts [2] & [3]

[1]: http://trac.osgeo.org/gdal/wiki/rfc28_sqlfunc
[2]: http://trac.osgeo.org/gdal/browser/trunk/autotest/ogr/ogr_sql_rfc28.py
[3]: http://trac.osgeo.org/gdal/browser/trunk/autotest/ogr/ogr_sql_test.py

On Wed, May 25, 2011 at 12:13 AM, Jay L. <jzl5325@psu.edu> wrote:

> I have a script, written to use ESRI's ArcPy, which I am attempting to
> re-write using the ogr/gdal python bindings.  One of the parameters that I
> can pass to ESRI's MakeFeatureLayer function is an SQL Query.  This creates
> a featurelayer (in memory) which contains only those rows which meet the
> criteria.  For this script I am iterating through each feature, placing it
> into it's own feature layer, intersecting with another in memory feature
> layer, and finally writing out the newly created geometry(s).
>
> feature.GetFID() returns the unique ID as expected.  Can I use OGR SQL to
> format this query?  How about creating an in memory feature layer with only
> the selected feature?
>
> Thanks,
> Jay
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110525/e38ba6d2/attachment.html
From chaitanya.ch at gmail.com  Tue May 24 21:29:29 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed May 25 01:48:42 2011
Subject: [gdal-dev] overwrite shapefile
In-Reply-To: <BANLkTikQafRjvQMEcojcsqqLAtk8-wgDkQ@mail.gmail.com>
References: <BANLkTikQafRjvQMEcojcsqqLAtk8-wgDkQ@mail.gmail.com>
Message-ID: <BANLkTik+2h1HJc-kXexHFoCP1LPVRRhFNQ@mail.gmail.com>

Ramiro,

You can use the OGRLayer::TestCapability() method to check write capability
of a layer. However, there are going to be errors if another process
accesses the files in the mean while.

When ogr2ogr is executed with -append, -overwrite or --update options, it
should error out with the message "Unable to open existing output
datasource" if a file cannot be opened to write. Can you raise a new ticket
[1] describing this problem?

[1]: http://trac.osgeo.org/gdal/newticket

On Wed, May 25, 2011 at 12:20 AM, Ramiro Gonzalez <
ramirogonzalez@suremptec.com.ar> wrote:

> hello
>
> I want to overwrite a shapefile using ogr(c++). If the dbf file in the
> destination shapefile is already open by anather program(exel), the
> operation fails in the middle and only the shp and shx files are updated.
> How could I check, using OGR, if the dbf(or any other file in the
> shapefile) is blocked before I overwrite it?
>
> I tested this with "ogr2ogr -overwrite destination source.shp" and the same
> thing happens
>
> Thanks,
> Ramiro
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110525/1288924f/attachment.html
From jormarfe at gmail.com  Wed May 25 03:49:06 2011
From: jormarfe at gmail.com (Jorge Martin)
Date: Wed May 25 08:29:15 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <4DDC09EA.6020100@pobox.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
	<BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
	<4DDBAF28.7040800@pobox.com>
	<BANLkTikKCNkyt4ZAyY+cU7UufBqSF+VSiQ@mail.gmail.com>
	<BANLkTimEjih8ATimtt+SLcfHai_tGWoH4A@mail.gmail.com>
	<4DDC09EA.6020100@pobox.com>
Message-ID: <BANLkTik-NPK6_xcwVYanqjw3JP-fX-_Vgg@mail.gmail.com>

Hello Frank,

I am trying to test my implementation using GDAL (GDALExtractRPCInfo), but I
do not get any RPC info from my TIFF file. I have pasted below the code I
have used to set/read and test the RPCCoefficientTag managment.


I am involved in a ESA project and my clients used to open the results with
a propietary software, tipically ENVI. I have the specification to fill
RPCCoefficientTag with the same structure defined by GDAL but I do not know
if ENVI is able to open this metadata.


//--------------------------------------------------------------------------------------------------------------------
#define TIFFTAG_RPCCOEFFICIENT 50844

static TIFFExtendProc _ParentExtender = NULL;

static void GTiffTagExtender(TIFF *tif)

{
    static const TIFFFieldInfo xtiffFieldInfo[] = {
        { TIFFTAG_RPCCOEFFICIENT,   -1,-1, TIFF_DOUBLE, FIELD_CUSTOM,
          TRUE, TRUE, (char*) "RPCCoefficient" }
    };

    if (_ParentExtender)
        (*_ParentExtender)(tif);

    TIFFMergeFieldInfo( tif, xtiffFieldInfo,
        sizeof(xtiffFieldInfo) / sizeof(xtiffFieldInfo[0]) );
}

void SetTAG(){

     TIFF * tiff =
TIFFOpen("/home/jjmf/sample_images/OutputTIFF/input_tiff_2.tif", "r+");

    if (!tiff)
    {
            cout << "Unable to open " << endl;
            exit(0);
    }

   double adfRPCTag[92];


   adfRPCTag[0] = -1.0;  // Error Bias
   adfRPCTag[1] = -1.0;  // Error Random


   adfRPCTag[2] = 1.231;
   adfRPCTag[3] = 1.231;
   adfRPCTag[4] = 11.231;
   adfRPCTag[5] = 12.231;
   adfRPCTag[6] = 41.231;
   adfRPCTag[7] = 17.231;
   adfRPCTag[8] = 16.231;
   adfRPCTag[9] = 16.231;
   adfRPCTag[10] = 16.231;
   adfRPCTag[11] = 16.231;

   for (int i = 0; i < 20; i++) {
        adfRPCTag[12+i] = 1.25;
    }

   for (int j = 0; j < 20; j++) {
        adfRPCTag[32+j] = 12.25;
    }

    for (int k = 0; k < 20; k++) {
        adfRPCTag[52+k] = 13.25;
    }


   for (int s = 0; s < 20; s++) {
        adfRPCTag[72+s] = 15.25;
    }


  TIFFSetField(tiff, TIFFTAG_RPCCOEFFICIENT, 92 ,adfRPCTag);

  TIFFRewriteDirectory(tiff);

  TIFFClose(tiff);

}

void ReadTAG(){


     TIFF * tiff =
TIFFOpen("/home/jjmf/sample_images/OutputTIFF/input_tiff_2.tif", "r");
    uint16 nCount;
    if (!tiff)
    {
            cout << "Unable to open " << endl;
            exit(0);
    }


     double *prueba;

      TIFFGetField(tiff, TIFFTAG_RPCCOEFFICIENT,  &nCount, &prueba );

      for(uint16 i =0  ; i< nCount ; i++)
      {
          cout << prueba[i] <<endl;
      }

      TIFFClose(tiff);

}

int  gdalRead(){

    GDALAllRegister();

   GDALDataset  *m_poDataset;
   const char * pszSrcFilename =
"/home/jjmf/sample_images/OutputTIFF/input_tiff_2.tif";

    m_poDataset = (GDALDataset *) GDALOpen( pszSrcFilename, GA_ReadOnly );
    if( m_poDataset == NULL )
    {
        cout << "Unable to open " << pszSrcFilename << endl;
        return 0;
    }

    GDALRPCInfo sRPC;

   char ** Metadata=  m_poDataset->GetMetadata(NULL);

   if(GDALExtractRPCInfo(Metadata, &sRPC))
   {
       cout << "Got RPCs Info" <<endl;
   }else{
       cout << "Not RPCs Info" <<endl;

   }
   return 1;

}


int main(int argc, char** argv) {

   _ParentExtender = TIFFSetTagExtender(GTiffTagExtender);

    SetTAG();

    ReadTAG();

    gdalRead();


    return 0;
}

//--------------------------------------------------------------------------------------------------------------------


Many thanks,


Jorge


2011/5/24 Frank Warmerdam <warmerdam@pobox.com>

> On 11-05-24 12:25 PM, Jorge Martin wrote:
>
>> Many Thanks Frank, I have insert the RPCCoeffcientTag to the file.
>>
>>             Is any comercial software that could read this TAG? In order
>> to
>> check the implementation I need open the file with a comercial software. I
>> have
>> tried with ENVI but it does not recognize the format.
>>
>
> Jorge,
>
> You can test with GDAL.  It is commercial software since you can purchase
> commercial support for it from folks like me.  Or perhaps you mean
> proprietary?  Or perhaps you just mean respectible?
>
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110525/4a70d2d5/attachment-0001.html
From warmerdam at pobox.com  Wed May 25 08:27:48 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed May 25 13:23:39 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <BANLkTik-NPK6_xcwVYanqjw3JP-fX-_Vgg@mail.gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
	<BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
	<4DDBAF28.7040800@pobox.com>
	<BANLkTikKCNkyt4ZAyY+cU7UufBqSF+VSiQ@mail.gmail.com>
	<BANLkTimEjih8ATimtt+SLcfHai_tGWoH4A@mail.gmail.com>
	<4DDC09EA.6020100@pobox.com>
	<BANLkTik-NPK6_xcwVYanqjw3JP-fX-_Vgg@mail.gmail.com>
Message-ID: <4DDCF5C4.6080904@pobox.com>

On 11-05-25 03:49 AM, Jorge Martin wrote:
> Hello Frank,
>
> I am trying to test my implementation using GDAL (GDALExtractRPCInfo), but I do
> not get any RPC info from my TIFF file. I have pasted below the code I have
> used to set/read and test the RPCCoefficientTag managment.
...
>    TIFFRewriteDirectory(tiff);

Jorge,

I'd take up your ENVI RPC support question with the vendors of the ENVI
software.

As to why you aren't seeing the RPCs, I am suspicious of the use of
TIFFRewriteDirectory() - I have found it quirky to use in the past
though I don't recall the details.  I'd start testing the RPC support
with a newly written file, instead of trying to update an existing file
in place.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From jormarfe at gmail.com  Wed May 25 12:32:33 2011
From: jormarfe at gmail.com (Jorge)
Date: Wed May 25 12:45:28 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <4DDCF5C4.6080904@pobox.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
	<BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
	<4DDBAF28.7040800@pobox.com>
	<BANLkTikKCNkyt4ZAyY+cU7UufBqSF+VSiQ@mail.gmail.com>
	<BANLkTimEjih8ATimtt+SLcfHai_tGWoH4A@mail.gmail.com>
	<4DDC09EA.6020100@pobox.com>
	<BANLkTik-NPK6_xcwVYanqjw3JP-fX-_Vgg@mail.gmail.com>
	<4DDCF5C4.6080904@pobox.com>
Message-ID: <B6981B72-E6C0-40D3-A2CE-FBF638F24A37@gmail.com>


Hello Frank,

I have 


Best Regards,

Jorge


El 25/05/2011, a las 14:27, Frank Warmerdam <warmerdam@pobox.com> escribi?:

> On 11-05-25 03:49 AM, Jorge Martin wrote:
>> Hello Frank,
>> 
>> I am trying to test my implementation using GDAL (GDALExtractRPCInfo), but I do
>> not get any RPC info from my TIFF file. I have pasted below the code I have
>> used to set/read and test the RPCCoefficientTag managment.
> ...
>>   TIFFRewriteDirectory(tiff);
> 
> Jorge,
> 
> I'd take up your ENVI RPC support question with the vendors of the ENVI
> software.
> 
> As to why you aren't seeing the RPCs, I am suspicious of the use of
> TIFFRewriteDirectory() - I have found it quirky to use in the past
> though I don't recall the details.  I'd start testing the RPC support
> with a newly written file, instead of trying to update an existing file
> in place.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for Rent
> 
From jormarfe at gmail.com  Wed May 25 12:42:27 2011
From: jormarfe at gmail.com (Jorge)
Date: Wed May 25 12:56:02 2011
Subject: [gdal-dev] TIFF with different KEYS_DS
In-Reply-To: <B6981B72-E6C0-40D3-A2CE-FBF638F24A37@gmail.com>
References: <BANLkTimkVi6kcf_KDmV+cR5ahZjtZKPd_A@mail.gmail.com>
	<BANLkTikJQUOqfubDqHWBAoVfiy+DU6KGUw@mail.gmail.com>
	<555468D3-8515-4C01-AA31-29CBCD2C7365@gmail.com>
	<4DD1BCE1.2090005@pobox.com>
	<BANLkTikmRbQ+rjqWBW3sXZ_Lqtehu0D5BA@mail.gmail.com>
	<BANLkTinGuQtLiv0gwq82y1jpwU=mehVgvQ@mail.gmail.com>
	<4DD27BB0.8020209@pobox.com>
	<BANLkTi=bvgR-FtvAkpKQjE_7tZHAR9_=yw@mail.gmail.com>
	<4DDBAF28.7040800@pobox.com>
	<BANLkTikKCNkyt4ZAyY+cU7UufBqSF+VSiQ@mail.gmail.com>
	<BANLkTimEjih8ATimtt+SLcfHai_tGWoH4A@mail.gmail.com>
	<4DDC09EA.6020100@pobox.com>
	<BANLkTik-NPK6_xcwVYanqjw3JP-fX-_Vgg@mail.gmail.com>
	<4DDCF5C4.6080904@pobox.com>
	<B6981B72-E6C0-40D3-A2CE-FBF638F24A37@gmail.com>
Message-ID: <29955C6F-DD22-448A-9DEF-0EAF0845E68F@gmail.com>

Sorry for my previous mail. 

I have written a new TIFF file without using he function TIFFRewriteDirectory() but gdal said that there is not RPC metadata inside.

I opened the TIFF file with a tiff metada viewer and it shows that there is a tag with number 50844 and length 92. I do not know why gdal is not extracting rpc info. Is well implemented the function that extracts the rpc info with gdal?

Many thanks!!!


El 25/05/2011, a las 18:32, Jorge <jormarfe@gmail.com> escribi?:

> 
> Hello Frank,
> 
> I have 
> 
> 
> Best Regards,
> 
> Jorge
> 
> 
> El 25/05/2011, a las 14:27, Frank Warmerdam <warmerdam@pobox.com> escribi?:
> 
>> On 11-05-25 03:49 AM, Jorge Martin wrote:
>>> Hello Frank,
>>> 
>>> I am trying to test my implementation using GDAL (GDALExtractRPCInfo), but I do
>>> not get any RPC info from my TIFF file. I have pasted below the code I have
>>> used to set/read and test the RPCCoefficientTag managment.
>> ...
>>>  TIFFRewriteDirectory(tiff);
>> 
>> Jorge,
>> 
>> I'd take up your ENVI RPC support question with the vendors of the ENVI
>> software.
>> 
>> As to why you aren't seeing the RPCs, I am suspicious of the use of
>> TIFFRewriteDirectory() - I have found it quirky to use in the past
>> though I don't recall the details.  I'd start testing the RPC support
>> with a newly written file, instead of trying to update an existing file
>> in place.
>> 
>> Best regards,
>> -- 
>> ---------------------------------------+--------------------------------------
>> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
>> light and sound - activate the windows | http://pobox.com/~warmerdam
>> and watch the world go round - Rush    | Geospatial Programmer for Rent
>> 
From Jonathan.Lefman at usace.army.mil  Wed May 25 18:34:45 2011
From: Jonathan.Lefman at usace.army.mil (Lefman, Jonathan ERDC-TEC-VA)
Date: Wed May 25 19:13:47 2011
Subject: [gdal-dev] gdalinfo: corner coords in other projection
In-Reply-To: <4DDB7954.4F75.00CE.0@co.lincoln.or.us>
References: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
	<4DDB7954.4F75.00CE.0@co.lincoln.or.us>
Message-ID: <FF46EE5C24AD134C86774E7498509C3D014D98E3@erd-ml1itl.erd.ds.usace.army.mil>

Hermann,

Thank you for the response.  I think the way that I phrased the question was 
not the best.  I am actually searching for a way to translate the coordinates 
of a gtiff from UTM coordinates to decimal degree coordinates.

Thanks,

Jon

------------------------------

Message: 5
Date: Tue, 24 May 2011 19:00:01 +0200
From: Hermann Peifer <peifer@gmx.eu>
Subject: [gdal-dev] Re: gdalinfo: corner coords in other projection
To: gdal-dev@lists.osgeo.org
Message-ID: <irgo6a$tte$1@dough.gmane.org>
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

On 24/05/2011 18:15, Lefman, Jonathan ERDC-TEC-VA wrote:
> Hi all,
>
> Is there an executable utility that takes the corner coordinates from a 
> gtiff
> and translates them into another projection system?  For example, I have a
> gtiff in UTM and I want to translate the coordinates of the bounding box (or
> corners) into WGS84.  Or is there a way to do this non-programmatically 
> using
> a combination of executable utilities?
>

Couldn't you just simply use gdalinfo's output, see below?

Hermann

$ gdalinfo highway_number_3035.tif
Driver: GTiff/GeoTIFF
Files: highway_number_3035.tif
Size is 10384, 7031
Coordinate System is:
PROJCS["ETRS89 / ETRS-LAEA",
     GEOGCS["ETRS89",
         DATUM["European_Terrestrial_Reference_System_1989",
             SPHEROID["GRS 1980",6378137,298.2572221010002,
                 AUTHORITY["EPSG","7019"]],
             AUTHORITY["EPSG","6258"]],
         PRIMEM["Greenwich",0],
         UNIT["degree",0.0174532925199433],
         AUTHORITY["EPSG","4258"]],
     PROJECTION["Lambert_Azimuthal_Equal_Area"],
     PARAMETER["latitude_of_center",52],
     PARAMETER["longitude_of_center",10],
     PARAMETER["false_easting",4321000],
     PARAMETER["false_northing",3210000],
     UNIT["metre",1,
         AUTHORITY["EPSG","9001"]],
     AUTHORITY["EPSG","3035"]]
Origin = (270937.427360458299518,5929526.137714201584458)
Pixel Size = (701.323508343892058,-701.323508343892058)
Metadata:
   AREA_OR_POINT=Area
Image Structure Metadata:
   INTERLEAVE=BAND
Corner Coordinates:
Upper Left  (  270937.427, 5929526.138) ( 67d52'39.91"W, 53d13'23.14"N)
Lower Left  (  270937.427,  998520.551) ( 29d49'49.65"W, 22d27'34.90"N)
Upper Right ( 7553480.738, 5929526.138) ( 81d 0' 6.31"E, 59d42'39.88"N)
Lower Right ( 7553480.738,  998520.551) ( 42d23'31.15"E, 25d49'31.87"N)
Center      ( 3912209.083, 3464023.344) (  3d44'23.41"E, 54d 7'25.38"N)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 5694 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110525/361ec819/smime.bin
From atubar at 126.com  Thu May 26 01:09:04 2011
From: atubar at 126.com (atubar)
Date: Thu May 26 02:36:44 2011
Subject: [gdal-dev] why some projection info can not read by ArcGIS9.3
Message-ID: <2f5cd123.11cbe.1302ab4b87f.Coremail.atubar@126.com>

Hi, everybody. I  create a new tiff , just named it A,  from another tiff (named B ), and set the projection by wkt which is read from the B.
But prejection of A  cann't be read by arcgis 9.3, and B can . what about the problem is?
The projection info is like this  :
 
PROJCS["IMAGINE GeoTIFF Support
Copyright 1991 - 2005 by Leica Geosystems Geospatial Imaging, LLC. All Rights Reserved
@(#)$RCSfile: egtf.c $ IMAGINE 9.0 $Revision: 10.0 $ $Date: 2005/07/26 15:10:00 EST $
Projection = Albers Conical Equal Area",GEOGCS["Krasovsky",DATUM["Krasovsky",SPHEROID["Krasovsky",6378245,298.300017117214]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]],PROJECTION["Albers_Conic_Equal_Area"],PARAMETER["standard_parallel_1",25],PARAMETER["standard_parallel_2",47],PARAMETER["latitude_of_center",0],PARAMETER["longitude_of_center",105],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]]]
 
BTW, how  those files compile out  in folder ..\data\ such  as coordinate_axis.csv, gcs.csv  in use ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110526/4ae02277/attachment.html
From oyvind.idland at gmail.com  Thu May 26 02:16:11 2011
From: oyvind.idland at gmail.com (Oyvind Idland)
Date: Thu May 26 03:14:24 2011
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
In-Reply-To: <BANLkTimp3K-bu0ChUn1GeT+J2BWNL5Tbxw@mail.gmail.com>
References: <BANLkTi=AsxtR8pDp=wB6dCVPYNn5TasPVw@mail.gmail.com>
	<C55473998E248B4DAEC5342D698DFE85011493CCC5@sea-srv-mail.lizardtech.com>
	<BANLkTimp3K-bu0ChUn1GeT+J2BWNL5Tbxw@mail.gmail.com>
Message-ID: <BANLkTimHkJ4qF=ZME-zFJosbn6OFpAon-w@mail.gmail.com>

Hi,

should I assume that this error is due to the DSDK 8.x version ?

-- Oyvind


On Mon, May 16, 2011 at 8:30 AM, Oyvind Idland <oyvind.idland@gmail.com>wrote:

> Hi,
>
> The file I'm using is actually MG2, using only 3 bands.
>
> Note, thats its the same file I used for testing in 1.7.x aswell.
>
>
> - Oyvind
>
>
>
> On Fri, May 13, 2011 at 4:08 PM, Kirk McKelvey <kmckelvey@lizardtech.com>wrote:
>
>> Is this with MG3 or MG4 files?  MG4 uses an alpha channel instead of
>> nodata, so what you describe would be expected in that case.
>>
>>
>>
>> *From:* gdal-dev-bounces@lists.osgeo.org [mailto:
>> gdal-dev-bounces@lists.osgeo.org] *On Behalf Of *Oyvind Idland
>> *Sent:* vendredi 13 mai 2011 04:28
>> *To:* gdal-dev@lists.osgeo.org
>> *Subject:* [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
>>
>>
>>
>> Hi,
>>
>> I just updated to 1.8.0 from 1.7, using the MrSid DSDK 8.0.
>>
>> In order to handle transparency, i have until now used the metadata values
>> from "IMAGE__NO_DATA_VALUE",
>> and simply masked away pixels.
>>
>> After upgrading, the IMAGE__NO_DATA_VALUE yields nothing, neither is it
>> listed when using gdalinfo.
>>
>> The band->GetNoDataValue() doesn't give me any hints either.
>>
>> Should I handle this in a different way ?
>>
>>
>> -- Oyvind
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110526/7b325f26/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Thu May 26 03:21:15 2011
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu May 26 04:23:12 2011
Subject: [gdal-dev] Re: gdalinfo: corner coords in other projection
References: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
Message-ID: <loom.20110526T090833-440@post.gmane.org>

Lefman, Jonathan ERDC-TEC-VA <Jonathan.Lefman <at> usace.army.mil> writes:

> 
> Hi all,
> 
> Is there an executable utility that takes the corner coordinates from a gtiff
> and translates them into another projection system?  For example, I have a
> gtiff in UTM and I want to translate the coordinates of the bounding box (or
> corners) into WGS84.  Or is there a way to do this non-programmatically using
> a combination of executable utilities?

The programmers should stop reading now, this is a farmer's son recipe for doing
what you want with something that already exists.

- Use gdaltindex for sending the bounding box of your image into a shapefile
- Use ogr2ogr with s_srs and t_srs and reproject the shapefile into the system
you are interested in.
- Use ogrinfo for listing the extents of the reprojected shapefile.

-Jukka Rahkonen-



From eduardo.kanegae at gmail.com  Thu May 26 06:26:34 2011
From: eduardo.kanegae at gmail.com (Eduardo Kanegae)
Date: Thu May 26 07:38:39 2011
Subject: [gdal-dev] OGRinfo works, but a MapServer test mode=map DOES NOT
Message-ID: <BANLkTikN8_J_xxtoqoHey_VL0PWG_ATADQ@mail.gmail.com>

Hi all,

I?m running Windows Server 2008 R2 Enterprise SP1 64bits using?MS4W
3.0.1 with MapServer?CGI 5.6.6 grabed from MapTools.org
My spatial data is on SQL Server 2008 + MsSqlSpatial 0.1.1 Lib and
I?ve set an ODBC DSN connection using SQL Server Native Driver 10
( using Control Panel -> ODBC Admin -> System DSN and also
C:\Windows\SysWOW64\odbcad32.exe tool )

When I run ogrinfo using:
$ ogrinfo -so "MSSQL:dsn=my_dsn;server=(local);database=my_database;tables=dbo.my_table;uid=my_user;pwd=my_passwd"
my_table

it works and dumps info like:
...
INFO: Open of `MSSQL:dsn=nucoffee;server=(local);database=nucoffee;tables=dbo.fazendas2;uid=db_nucoffee;pwd=@&NuCoFfEe&@'
      using driver `MSSQLSpatial' successful.
... and so on!

BUT, when trying a MapServer CGI mode map request like:
http://my_server/cgi-bin/mapserv.exe?map=e:/my_mapfile.map&mode=map&layers=all&map_size=800+600
I only got the error:

msDrawMap(): Image handling error. Failed to draw layer named
'pol_my_layer'. msOGRFileOpen(): OGR error. Open failed for OGR
connection in layer `pol_my_layer'. Unable to initialize ODBC
connection to DSN for my_user/my_passwd@my_dsn, [Microsoft][ODBC
Driver Manager] Data source name not found and no default driver
specified

Can anybody give me a clue on that?

My LAYER mapfile part is defined as :

**********************
LAYER		
		NAME			"pol_my_layer"
		TYPE			POLYGON		
		CONNECTIONTYPE OGR
		CONNECTION "<OGRVRTDataSource>
    <OGRVRTLayer name='pol_my_layer'>
		<SrcDataSource>ODBC:my_user/my_passwd@my_dsn</SrcDataSource>
		<SrcLayer>dbo.vw_pol_my_spatial_view</SrcLayer>
		<LayerSRS>WGS84</LayerSRS>
		<GeometryType>wkbUnknown</GeometryType>
		<GeometryField encoding='WKB' field='geom_2005'/>
    </OGRVRTLayer>
</OGRVRTDataSource>"
		DATA "pol_my_layer"
		FILTER "329"
		FILTERITEM "farm_id"
		PROCESSING "CLOSE_CONNECTION=DEFER"
	END
	...
END
**********************

best regards,

--
Eduardo Patto Kanegae
From Emmet.Spier at 2d3.com  Thu May 26 06:27:54 2011
From: Emmet.Spier at 2d3.com (Emmet Spier)
Date: Thu May 26 07:40:43 2011
Subject: [gdal-dev] ERDAS ECWJP2 sdk 4.2 GDAL plugin,
	runtime crashes in debug/debugger
Message-ID: <6BF44CD613458D479057BDB27207F2E00625079F@omgsvr02.omg.local>

All,

 

I have been trying to build GDAL with ECWJP2 support with the ERDAS 4.2
SDK, without much sucess.

 

I am finding runtime crashes in both Release and Debug build when
running in the visual studio debugger:

 

This in Debug:

 

                NCSUtil4d.dll!NCS::CMutexLock::CMutexLock(NCS::CMutex *
pmMutex=0x0043e6e0)  Line 156 + 0x12 bytes     C++

 
NCSEcw4d.dll!NCS::CView::SetFileInfo(NCSFileViewFileInfoEx & Info={...})
Line 1316 + 0x12 bytes           C++

>             gdal_ECW_JP2ECW.dll!GDALECWCompressor::Initialize(const
char * pszFilename=0x0043dda0, char * * papszOptions=0x00000000, int
nXSize=100, int nYSize=150, int nBands=1, int bRGBA=0, GDALDataType
eType=GDT_Byte, const char * pszWKT=0x00000000, double *
padfGeoTransform=0x0043e320, int nGCPCount=0, const GDAL_GCP *
pasGCPList=0x00000000, int bIsJPEG2000=1)  Line 910 + 0x29 bytes
C++

                gdal_ECW_JP2ECW.dll!ECWWriteDataset::Crystalize()  Line
1433 + 0x65 bytes     C++

                gdal_ECW_JP2ECW.dll!ECWWriteDataset::FlushLine()  Line
1459 + 0x8 bytes       C++

                gdal_ECW_JP2ECW.dll!ECWWriteRasterBand::IWriteBlock(int
nBlockX=0, int nBlockY=0, void * pBuffer=0x0043dcd8)  Line 1561 + 0xb
bytes       C++

                gdal18.dll!GDALRasterBlock::Write()  Line 518     C++

                gdal18.dll!GDALRasterBand::FlushBlock(int nXBlockOff=0,
int nYBlockOff=0, int bWriteDirtyBlock=1)  Line 1079 + 0x8 bytes     C++

                gdal18.dll!GDALDataset::BlockBasedFlushCache()  Line 424
+ 0x12 bytes                C++

                gdal_ECW_JP2ECW.dll!ECWWriteDataset::FlushCache()  Line
1366           C++

                gdal_ECW_JP2ECW.dll!ECWWriteDataset::~ECWWriteDataset()
Line 1345           C++

                gdal_ECW_JP2ECW.dll!ECWWriteDataset::`vector deleting
destructor'()  + 0x50 bytes    C++

                gdal18.dll!GDALClose(void * hDS=0x0043e270)  Line 2380 +
0x20 bytes   C++

                jpg2000test.exe!main()  Line 60                C++

 

 

I have double checked the build lines:

 

        cd frmts

        nmake /nologo /f makefile.vc plugindirs

        for %d in (  ecw ) do  cd %d  && nmake /nologo /f makefile.vc
plugin  && cd ..  || exit 1

 

D:\ThirdPartyBuilds\GDAL\GDAL-1.80-EDRAS-PLUGIN\gdal-1.8.0\frmts>cd ecw
&& nmake /nologo /f makefile.vc plugin   && cd ..   || exit 1

        cl  /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
-I..\..\ogr -I..\..\gcore  -I..\..\alg -I..\..

\ogr\ogrsf_frmts -DHAVE_COMPRESS -DECWSDK_VERSION=41  -I"D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include
-I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK

 Desktop Read-Write"\include/ecw/api -I"D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include/ecw/jp2
-I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop

Read-Write"\include/ecw/ecw -DFRMT_ecw -DOGR_ENABLED  /c ecwdataset.cpp

ecwdataset.cpp

        cl  /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
-I..\..\ogr -I..\..\gcore  -I..\..\alg -I..\..

\ogr\ogrsf_frmts -DHAVE_COMPRESS -DECWSDK_VERSION=41  -I"D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include
-I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK

 Desktop Read-Write"\include/ecw/api -I"D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include/ecw/jp2
-I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop

Read-Write"\include/ecw/ecw -DFRMT_ecw -DOGR_ENABLED  /c
ecwcreatecopy.cpp

ecwcreatecopy.cpp

        cl  /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
-I..\..\ogr -I..\..\gcore  -I..\..\alg -I..\..

\ogr\ogrsf_frmts -DHAVE_COMPRESS -DECWSDK_VERSION=41  -I"D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include
-I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK

 Desktop Read-Write"\include/ecw/api -I"D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include/ecw/jp2
-I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop

Read-Write"\include/ecw/ecw -DFRMT_ecw -DOGR_ENABLED  /c jp2userbox.cpp

jp2userbox.cpp

        link /dll /debug /out:gdal_ECW_JP2ECW.dll ecwdataset.obj
ecwcreatecopy.obj jp2userbox.obj ..\../gdal_i.lib "D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write

"\lib\vc80\win32\NCSEcw4d.lib  "D:\Program Files (x86)\ERDAS\ERDAS
ECWJP2 SDK Desktop Read-Write"\lib\vc80\win32\NCSUtil4d.lib  "D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Deskt

op Read-Write"\lib\vc80\win32\NCScnet4d.lib

Microsoft (R) Incremental Linker Version 8.00.50727.762

Copyright (C) Microsoft Corporation.  All rights reserved.

 

LINK : gdal_ECW_JP2ECW.dll not found or not built by the last
incremental link; performing full link

   Creating library gdal_ECW_JP2ECW.lib and object gdal_ECW_JP2ECW.exp

        if exist gdal_ECW_JP2ECW.dll.manifest mt -manifest
gdal_ECW_JP2ECW.dll.manifest -outputresource:gdal_ECW_JP2ECW.dll;2

Microsoft (R) Manifest Tool version 5.2.3790.2075

Copyright (c) Microsoft Corporation 2005.

 

 

-- Any advice pointing me in the right direction would be very
gratefully received.

 

Regards, Emmet.

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110526/24590806/attachment.html
From motta.luiz at gmail.com  Thu May 26 07:27:08 2011
From: motta.luiz at gmail.com (Luiz Motta)
Date: Thu May 26 08:41:50 2011
Subject: [gdal-dev] Re: gdalinfo: corner coords in other projection
In-Reply-To: <loom.20110526T090833-440@post.gmane.org>
References: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
	<loom.20110526T090833-440@post.gmane.org>
Message-ID: <BANLkTi=A-p-H2iBroepDd6C8_orsKmJ2qQ@mail.gmail.com>

About executable utility, if you are the QGIS's user, has the plugin
Image Boundary for QGIS, it make the grid of a set imagens.

You can run this plugin with yours images(UTM), and, all bound box of
images are put in the grid layer(polygon ) in  the Geographic/WGS84.

Luiz Motta



2011/5/26 Jukka Rahkonen <jukka.rahkonen@mmmtike.fi>:
> Lefman, Jonathan ERDC-TEC-VA <Jonathan.Lefman <at> usace.army.mil> writes:
>
>>
>> Hi all,
>>
>> Is there an executable utility that takes the corner coordinates from a gtiff
>> and translates them into another projection system? ?For example, I have a
>> gtiff in UTM and I want to translate the coordinates of the bounding box (or
>> corners) into WGS84. ?Or is there a way to do this non-programmatically using
>> a combination of executable utilities?
>
> The programmers should stop reading now, this is a farmer's son recipe for doing
> what you want with something that already exists.
>
> - Use gdaltindex for sending the bounding box of your image into a shapefile
> - Use ogr2ogr with s_srs and t_srs and reproject the shapefile into the system
> you are interested in.
> - Use ogrinfo for listing the extents of the reprojected shapefile.
>
> -Jukka Rahkonen-
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From ramirogonzalez at suremptec.com.ar  Thu May 26 09:52:22 2011
From: ramirogonzalez at suremptec.com.ar (Ramiro Gonzalez)
Date: Thu May 26 11:14:54 2011
Subject: [gdal-dev] overwrite shapefile
In-Reply-To: <BANLkTik+2h1HJc-kXexHFoCP1LPVRRhFNQ@mail.gmail.com>
References: <BANLkTikQafRjvQMEcojcsqqLAtk8-wgDkQ@mail.gmail.com>
	<BANLkTik+2h1HJc-kXexHFoCP1LPVRRhFNQ@mail.gmail.com>
Message-ID: <BANLkTim6=FCa6+H=K_6RNidNSi0sDAhepg@mail.gmail.com>

The ticket number is 4095.

Thanks
Ramiro


2011/5/24 Chaitanya kumar CH <chaitanya.ch@gmail.com>

> Ramiro,
>
> You can use the OGRLayer::TestCapability() method to check write capability
> of a layer. However, there are going to be errors if another process
> accesses the files in the mean while.
>
> When ogr2ogr is executed with -append, -overwrite or --update options, it
> should error out with the message "Unable to open existing output
> datasource" if a file cannot be opened to write. Can you raise a new ticket
> [1] describing this problem?
>
> [1]: http://trac.osgeo.org/gdal/newticket
>
> On Wed, May 25, 2011 at 12:20 AM, Ramiro Gonzalez <
> ramirogonzalez@suremptec.com.ar> wrote:
>
>> hello
>>
>> I want to overwrite a shapefile using ogr(c++). If the dbf file in the
>> destination shapefile is already open by anather program(exel), the
>> operation fails in the middle and only the shp and shx files are updated.
>> How could I check, using OGR, if the dbf(or any other file in the
>> shapefile) is blocked before I overwrite it?
>>
>> I tested this with "ogr2ogr -overwrite destination source.shp" and the
>> same thing happens
>>
>> Thanks,
>> Ramiro
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
> /t?a???nj?/ /k?m?r/
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110526/812de959/attachment.html
From bfraser at geoanalytic.com  Thu May 26 10:14:10 2011
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Thu May 26 11:37:45 2011
Subject: [gdal-dev] Re: [mapserver-users] OGRinfo works,
 but a MapServer test mode=map DOES NOT
In-Reply-To: <BANLkTikN8_J_xxtoqoHey_VL0PWG_ATADQ@mail.gmail.com>
References: <BANLkTikN8_J_xxtoqoHey_VL0PWG_ATADQ@mail.gmail.com>
Message-ID: <4DDE6032.5030609@geoanalytic.com>

Eduardo,

   What happens when you use ogrinfo to access it via ODBC:

ogrinfo ODBC:my_user/my_passwd@my_dsn

or if you put the connection in a vrt file and use ogrinfo on it?

Best Regards,
Brent Fraser


On 5/26/2011 4:26 AM, Eduardo Kanegae wrote:
> Hi all,
>
> I?m running Windows Server 2008 R2 Enterprise SP1 64bits using MS4W
> 3.0.1 with MapServer CGI 5.6.6 grabed from MapTools.org
> My spatial data is on SQL Server 2008 + MsSqlSpatial 0.1.1 Lib and
> I?ve set an ODBC DSN connection using SQL Server Native Driver 10
> ( using Control Panel ->  ODBC Admin ->  System DSN and also
> C:\Windows\SysWOW64\odbcad32.exe tool )
>
> When I run ogrinfo using:
> $ ogrinfo -so "MSSQL:dsn=my_dsn;server=(local);database=my_database;tables=dbo.my_table;uid=my_user;pwd=my_passwd"
> my_table
>
> it works and dumps info like:
> ...
> INFO: Open of `MSSQL:dsn=nucoffee;server=(local);database=nucoffee;tables=dbo.fazendas2;uid=db_nucoffee;pwd=@&NuCoFfEe&@'
>        using driver `MSSQLSpatial' successful.
> ... and so on!
>
> BUT, when trying a MapServer CGI mode map request like:
> http://my_server/cgi-bin/mapserv.exe?map=e:/my_mapfile.map&mode=map&layers=all&map_size=800+600
> I only got the error:
>
> msDrawMap(): Image handling error. Failed to draw layer named
> 'pol_my_layer'. msOGRFileOpen(): OGR error. Open failed for OGR
> connection in layer `pol_my_layer'. Unable to initialize ODBC
> connection to DSN for my_user/my_passwd@my_dsn, [Microsoft][ODBC
> Driver Manager] Data source name not found and no default driver
> specified
>
> Can anybody give me a clue on that?
>
> My LAYER mapfile part is defined as :
>
> **********************
> LAYER		
> 		NAME			"pol_my_layer"
> 		TYPE			POLYGON		
> 		CONNECTIONTYPE OGR
> 		CONNECTION "<OGRVRTDataSource>
>      <OGRVRTLayer name='pol_my_layer'>
> 		<SrcDataSource>ODBC:my_user/my_passwd@my_dsn</SrcDataSource>
> 		<SrcLayer>dbo.vw_pol_my_spatial_view</SrcLayer>
> 		<LayerSRS>WGS84</LayerSRS>
> 		<GeometryType>wkbUnknown</GeometryType>
> 		<GeometryField encoding='WKB' field='geom_2005'/>
>      </OGRVRTLayer>
> </OGRVRTDataSource>"
> 		DATA "pol_my_layer"
> 		FILTER "329"
> 		FILTERITEM "farm_id"
> 		PROCESSING "CLOSE_CONNECTION=DEFER"
> 	END
> 	...
> END
> **********************
>
> best regards,
>
> --
> Eduardo Patto Kanegae
> _______________________________________________
> mapserver-users mailing list
> mapserver-users@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/mapserver-users
>

From eduardo.kanegae at gmail.com  Thu May 26 14:02:11 2011
From: eduardo.kanegae at gmail.com (Eduardo Kanegae)
Date: Thu May 26 14:04:00 2011
Subject: [gdal-dev] Re: [mapserver-users] OGRinfo works,
 but a MapServer test mode=map DOES NOT
In-Reply-To: <4DDE6032.5030609@geoanalytic.com>
References: <BANLkTikN8_J_xxtoqoHey_VL0PWG_ATADQ@mail.gmail.com>
	<4DDE6032.5030609@geoanalytic.com>
Message-ID: <BANLkTimC1FvLiBLWgn-q8E8G_RXVWBfffw@mail.gmail.com>

Thanks Brent and Jeff for your suggestions.

My old scenario was:
- the system was running fine on Windows 2003 Server 64bits with SQL
2008+ MsSqlSpatial Lib using MapServer with ODBC

But now, the server was upgraded to Windows Server 2008 64bits with SQL 2008R2.

And the only way I finally found to put it to work was:
- use MSSQL OGR Driver but DOT NOT use geometry field type of SQL 2008
( absolutely slow! )
- instead of 2008 field I translate 2005 geom field ( MsSqlSpatial
lib) to WKT using:

... ST.AsText(v.geom_2005) AS geom_2008

And now it?s working!

Thanks for helping.

best


-- 
Eduardo Patto Kanegae


2011/5/26 Brent Fraser <bfraser@geoanalytic.com>:
> Eduardo,
>
> ?What happens when you use ogrinfo to access it via ODBC:
>
> ogrinfo ODBC:my_user/my_passwd@my_dsn
>
> or if you put the connection in a vrt file and use ogrinfo on it?
>
> Best Regards,
> Brent Fraser
>
>
> On 5/26/2011 4:26 AM, Eduardo Kanegae wrote:
>>
>> Hi all,
>>
>> I?m running Windows Server 2008 R2 Enterprise SP1 64bits using MS4W
>> 3.0.1 with MapServer CGI 5.6.6 grabed from MapTools.org
>> My spatial data is on SQL Server 2008 + MsSqlSpatial 0.1.1 Lib and
>> I?ve set an ODBC DSN connection using SQL Server Native Driver 10
>> ( using Control Panel -> ?ODBC Admin -> ?System DSN and also
>> C:\Windows\SysWOW64\odbcad32.exe tool )
>>
>> When I run ogrinfo using:
>> $ ogrinfo -so
>> "MSSQL:dsn=my_dsn;server=(local);database=my_database;tables=dbo.my_table;uid=my_user;pwd=my_passwd"
>> my_table
>>
>> it works and dumps info like:
>> ...
>> INFO: Open of
>> `MSSQL:dsn=nucoffee;server=(local);database=nucoffee;tables=dbo.fazendas2;uid=db_nucoffee;pwd=@&NuCoFfEe&@'
>> ? ? ? using driver `MSSQLSpatial' successful.
>> ... and so on!
>>
>> BUT, when trying a MapServer CGI mode map request like:
>>
>> http://my_server/cgi-bin/mapserv.exe?map=e:/my_mapfile.map&mode=map&layers=all&map_size=800+600
>> I only got the error:
>>
>> msDrawMap(): Image handling error. Failed to draw layer named
>> 'pol_my_layer'. msOGRFileOpen(): OGR error. Open failed for OGR
>> connection in layer `pol_my_layer'. Unable to initialize ODBC
>> connection to DSN for my_user/my_passwd@my_dsn, [Microsoft][ODBC
>> Driver Manager] Data source name not found and no default driver
>> specified
>>
>> Can anybody give me a clue on that?
>>
>> My LAYER mapfile part is defined as :
>>
>> **********************
>> LAYER
>> ? ? ? ? ? ? ? ?NAME ? ? ? ? ? ? ? ? ? ?"pol_my_layer"
>> ? ? ? ? ? ? ? ?TYPE ? ? ? ? ? ? ? ? ? ?POLYGON
>> ? ? ? ? ? ? ? ?CONNECTIONTYPE OGR
>> ? ? ? ? ? ? ? ?CONNECTION "<OGRVRTDataSource>
>> ? ? <OGRVRTLayer name='pol_my_layer'>
>>
>> ?<SrcDataSource>ODBC:my_user/my_passwd@my_dsn</SrcDataSource>
>> ? ? ? ? ? ? ? ?<SrcLayer>dbo.vw_pol_my_spatial_view</SrcLayer>
>> ? ? ? ? ? ? ? ?<LayerSRS>WGS84</LayerSRS>
>> ? ? ? ? ? ? ? ?<GeometryType>wkbUnknown</GeometryType>
>> ? ? ? ? ? ? ? ?<GeometryField encoding='WKB' field='geom_2005'/>
>> ? ? </OGRVRTLayer>
>> </OGRVRTDataSource>"
>> ? ? ? ? ? ? ? ?DATA "pol_my_layer"
>> ? ? ? ? ? ? ? ?FILTER "329"
>> ? ? ? ? ? ? ? ?FILTERITEM "farm_id"
>> ? ? ? ? ? ? ? ?PROCESSING "CLOSE_CONNECTION=DEFER"
>> ? ? ? ?END
>> ? ? ? ?...
>> END
>> **********************
>>
>> best regards,
>>
>> --
>> Eduardo Patto Kanegae
>> _______________________________________________
>> mapserver-users mailing list
>> mapserver-users@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/mapserver-users
>>
>
>
From warmerdam at pobox.com  Thu May 26 17:15:14 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu May 26 17:15:56 2011
Subject: [gdal-dev] ERDAS ECWJP2 sdk 4.2 GDAL plugin, runtime crashes in
	debug/debugger
In-Reply-To: <6BF44CD613458D479057BDB27207F2E00625079F@omgsvr02.omg.local>
References: <6BF44CD613458D479057BDB27207F2E00625079F@omgsvr02.omg.local>
Message-ID: <4DDEC2E2.1080306@pobox.com>

On 11-05-26 06:27 AM, Emmet Spier wrote:
> All,
>
> I have been trying to build GDAL with ECWJP2 support with the ERDAS 4.2 SDK,
> without much sucess.
>
> I am finding runtime crashes in both Release and Debug build when running in
> the visual studio debugger:

Emmet,

There are lots of possible reasons.  I would stress the importance of
ensuring that GDAL, the ECW plugin and the ECW SDK are all built with
compatible versions of the MSVC and runtime options.  Any mixing may be
risky.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From Josh.Vote at csiro.au  Fri May 27 03:49:41 2011
From: Josh.Vote at csiro.au (Josh.Vote@csiro.au)
Date: Fri May 27 04:24:33 2011
Subject: [gdal-dev] GDAL ERS unable to process GDA94 under amd64
Message-ID: <379916DAEE752C49BC25377067B2B8ED2931F1F782@EXWA-MBX01.nexus.csiro.au>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: failingheader.ers
Type: application/octet-stream
Size: 770 bytes
Desc: failingheader.ers
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/a01851e9/failingheader.obj
From victor.aparicio at hotmail.com  Fri May 27 04:36:09 2011
From: victor.aparicio at hotmail.com (vickarasu)
Date: Fri May 27 05:12:30 2011
Subject: [gdal-dev] Read WFS Features
Message-ID: <1306485369903-6410186.post@n2.nabble.com>

Hello, this is my first post in the mail list and this is the very first time
I develope with GDAL/OGR libraries...

My problem is that I want to connect to a WFS server in C# and read all the
features of a layer. I can read the WFS DataSource and the layer definition
but when I want to read the layer?s features I get a server error ("Error
returned by server : Received problem 2 in the chunky parser (56)"). This is
the code:

OSGeo.OGR.Driver wfsDriver = Ogr.GetDriverByName("WFS");
OSGeo.OGR.DataSource wfs =
wfsDriver.Open("http://www.idee.es/IDEE-WFS/ogcwebservice?SERVICE=WFS", 0);
OSGeo.OGR.Layer layer = wfs.GetLayerByIndex(1);
layer.ResetReading();
OSGeo.OGR.Feature feature = layer.GetNextFeature();

Any help would be appreciate. Thank you very much in advance.

V?ctor

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Read-WFS-Features-tp6410186p6410186.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From ledermann at ims.tuwien.ac.at  Fri May 27 05:18:24 2011
From: ledermann at ims.tuwien.ac.at (Flo Ledermann)
Date: Fri May 27 05:57:03 2011
Subject: [gdal-dev] ogr2ogr -wrapdateline not working
Message-ID: <4DDF6C60.6020109@ims.tuwien.ac.at>

Hi all,

I want to use the -wrapdateline on a very simple shape file, containing
only a single polygon (as a start and test case)

However, I cannot get it working. Running the following on the attached
shapefile:

$ ogr2ogr -wrapdateline -overwrite polygon_spanning_dateline_wrapped.shp
polygon_spanning_dateline.shp


should - as far as I understand - result in a shapefile with the
original polygon clipped at -180?, and a second polygon (the clipped
part) to the far east ending at +180?.

Instead I get the identical, unclipped polygon as in the input file.
What am I doing wrong?

Best,

Flo

-------------- next part --------------
A non-text attachment was scrubbed...
Name: polygon_spanning_dateline.dbf
Type: application/x-dbf
Size: 146 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/5c47f879/polygon_spanning_dateline-0003.bin
-------------- next part --------------
GEOGCS["GCS_WGS_1984",DATUM["D_unknown",SPHEROID["WGS84",6378137,298.257223563]],PRIMEM["Greenwich",0],UNIT["Degree",0.017453292519943295]]
-------------- next part --------------
GEOGCS["WGS 84",DATUM["unknown",SPHEROID["WGS84",6378137,298.257223563],TOWGS84[0,0,0,0,0,0,0]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433]]

-------------- next part --------------
A non-text attachment was scrubbed...
Name: polygon_spanning_dateline.shp
Type: application/x-esri-shape
Size: 236 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/5c47f879/polygon_spanning_dateline-0004.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: polygon_spanning_dateline.shx
Type: application/x-esri-shape
Size: 108 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/5c47f879/polygon_spanning_dateline-0005.bin
From goocreations at gmail.com  Fri May 27 05:47:00 2011
From: goocreations at gmail.com (Goo Creations)
Date: Fri May 27 06:27:10 2011
Subject: [gdal-dev] Memory loss with RasterIO
Message-ID: <BANLkTinLQSn77CtCTkLn=Njm8FhHp4LVBg@mail.gmail.com>

Hi all, I've come across some weird memory loss:

*uint *data = new uint[region->width*region->height];
int x = 0, y = 0;
dataset->GetRasterBand(band)->RasterIO(GF_Read, x, y, width, height, data,
width, height, GDT_UInt32, 0, 0);
delete [] data;
*

This code is executed a few thousand times with different x and y. After
doing this, 1.5GB memory was still used by my app. I'm using Ubuntu, and
apparently the linux kerenl manages memory differently, by not always
returning all freed memory to the OS, but rather keeping it for future use
by the application.
This is not the case here, since when allocating memory after the above
action, the freed memory is not reused. I've tried valgrind for proof, but
it crashes, since I'm using too much memory, and valgrind can't handle it.

When I change the above code to:

*uint *data = new uint[region->width*region->height];
int x = 0, y = 0;
//dataset->GetRasterBand(band)->RasterIO(GF_Read, x, y, width, height, data,
width, height, GDT_UInt32, 0, 0);
delete [] data;
*

so effectively removing the read-statement, all memory is freed and
returned. If also tried CPLMalloc and CPLFree,

The only way to get the memory release, is to close the dataset after all
the reads. Is this a bug, or was/is GDAL designed only to release the memory
after the dataset was close?

Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/8af2dcd6/attachment.html
From even.rouault at mines-paris.org  Fri May 27 06:55:32 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 27 07:39:31 2011
Subject: [gdal-dev] Memory loss with RasterIO
In-Reply-To: <BANLkTinLQSn77CtCTkLn=Njm8FhHp4LVBg@mail.gmail.com>
References: <BANLkTinLQSn77CtCTkLn=Njm8FhHp4LVBg@mail.gmail.com>
Message-ID: <1306493732.4ddf8324144b3@imp.free.fr>

You're perhaps running into memory fragmentation issues if your buffer is too
big. And yes, GDAL maintains internally a block cache whose blocks are destroyed
when the dataset is closed. But by default (unless you explicitely set it to
another value), it is limited to 40 MB. But mixing small allocations and big
allocations can indeed lead to memory fragmentation issues, especially if you're
on a 32bit OS that has a limited address space.

Best regards,

Even
From chaitanya.ch at gmail.com  Fri May 27 07:01:31 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri May 27 07:45:46 2011
Subject: [gdal-dev] Read WFS Features
In-Reply-To: <1306485369903-6410186.post@n2.nabble.com>
References: <1306485369903-6410186.post@n2.nabble.com>
Message-ID: <BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>

Victor,

Can you test your URL with the ogrinfo utility?
It is showing some detailed error.
Invalid "TYPENAME" parameter. No binding for prefix "ideewfs".

On Fri, May 27, 2011 at 2:06 PM, vickarasu <victor.aparicio@hotmail.com>wrote:

> Hello, this is my first post in the mail list and this is the very first
> time
> I develope with GDAL/OGR libraries...
>
> My problem is that I want to connect to a WFS server in C# and read all the
> features of a layer. I can read the WFS DataSource and the layer definition
> but when I want to read the layer?s features I get a server error ("Error
> returned by server : Received problem 2 in the chunky parser (56)"). This
> is
> the code:
>
> OSGeo.OGR.Driver wfsDriver = Ogr.GetDriverByName("WFS");
> OSGeo.OGR.DataSource wfs =
> wfsDriver.Open("http://www.idee.es/IDEE-WFS/ogcwebservice?SERVICE=WFS",
> 0);
> OSGeo.OGR.Layer layer = wfs.GetLayerByIndex(1);
> layer.ResetReading();
> OSGeo.OGR.Feature feature = layer.GetNextFeature();
>
> Any help would be appreciate. Thank you very much in advance.
>
> V?ctor
>
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Read-WFS-Features-tp6410186p6410186.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/3f78ac2d/attachment.html
From goocreations at gmail.com  Fri May 27 07:01:59 2011
From: goocreations at gmail.com (Goo Creations)
Date: Fri May 27 07:46:16 2011
Subject: [gdal-dev] Memory loss with RasterIO
In-Reply-To: <1306493732.4ddf8324144b3@imp.free.fr>
References: <BANLkTinLQSn77CtCTkLn=Njm8FhHp4LVBg@mail.gmail.com>
	<1306493732.4ddf8324144b3@imp.free.fr>
Message-ID: <BANLkTimK_HsirZ1UE-yVVr-XuU0XwAnAuQ@mail.gmail.com>

Hey

Thanks. I'll try playing around with different block sizes, to reduce
fragmentation.



On Fri, May 27, 2011 at 12:55 PM, Even Rouault <even.rouault@mines-paris.org
> wrote:

> You're perhaps running into memory fragmentation issues if your buffer is
> too
> big. And yes, GDAL maintains internally a block cache whose blocks are
> destroyed
> when the dataset is closed. But by default (unless you explicitely set it
> to
> another value), it is limited to 40 MB. But mixing small allocations and
> big
> allocations can indeed lead to memory fragmentation issues, especially if
> you're
> on a 32bit OS that has a limited address space.
>
> Best regards,
>
> Even
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/ebc41ae6/attachment.html
From even.rouault at mines-paris.org  Fri May 27 07:13:34 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 27 07:58:36 2011
Subject: [gdal-dev] ogr2ogr -wrapdateline not working
In-Reply-To: <4DDF6C60.6020109@ims.tuwien.ac.at>
References: <4DDF6C60.6020109@ims.tuwien.ac.at>
Message-ID: <1306494814.4ddf875e3ef4b@imp.free.fr>

Selon Flo Ledermann <ledermann@ims.tuwien.ac.at>:

> Instead I get the identical, unclipped polygon as in the input file.
> What am I doing wrong?

Nothing, I've checked the algorithm w.r.t your input data. The algorithm
currently only deals with geometries overlapping the +180? meridian, not the
-180? one (and even in the in the case of +180?, only in some restricted cases ,
to avoid false positives). Perhaps you could file a ticket in GDAL trac with
your data attached so that I can have a look at this again.

>
> Best,
>
> Flo
>
>


From even.rouault at mines-paris.org  Fri May 27 07:37:25 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 27 08:23:50 2011
Subject: [gdal-dev] Read WFS Features
In-Reply-To: <BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
References: <1306485369903-6410186.post@n2.nabble.com>
	<BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
Message-ID: <1306496245.4ddf8cf5efe26@imp.free.fr>

The error you see Chaitanya is not a critical error because there's fallback
code to deal with it, and I think it should only appears in trunk due to a
recent change. At least it doesn't prevent ogrinfo from working. I haven't
tested with GDAL 1.8.0 but I suspect it would work too.

According to http://curl.haxx.se/mail/lib-2006-04/0042.html it seems that the
original error reported by Victor would be due to some invalid content returned
by the server. Maybe a temporary error of the server ?

From victor.aparicio at hotmail.com  Fri May 27 07:43:11 2011
From: victor.aparicio at hotmail.com (vickarasu)
Date: Fri May 27 08:29:47 2011
Subject: [gdal-dev] Re: Read WFS Features
In-Reply-To: <BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
References: <1306485369903-6410186.post@n2.nabble.com>
	<BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
Message-ID: <1306496591439-6410750.post@n2.nabble.com>

I did the test of the URL sending requests by a web browser. I got well
formed XML documents with the getCapabilities and the describeFeatureType
too.

This request yesterday worked in a webbrowser (not in my C# app), but not
today. Perhaps there is some problem with the server
http://www.idee.es/IDEE-WFS/ogcwebservice?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&NAMESPACE=xmlns%28ideewfs=http://www.idee.es/wfs%29&TypeName=ideewfs:BDLL200Municipio

In any case, I tried another server
(http://www.sigua.ua.es/cgi-bin/siguawms?SERVICE=WFS&VERSION=1.0.0), because
the target of the app is learn how to use GDAL, and I have the same error.

Thanks for the answer.

V?ctor

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Read-WFS-Features-tp6410186p6410750.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From hajer.ayed at inria.fr  Fri May 27 08:22:20 2011
From: hajer.ayed at inria.fr (Hajer Ayed)
Date: Fri May 27 09:12:16 2011
Subject: [gdal-dev] Clipping multi-polygons shapefiles with
 Geometry.Intersection . Any help to fix out my method?
Message-ID: <122691025.1282616.1306498940052.JavaMail.root@zmbs2.inria.fr>

Hi all, 

I'm a newbie in gdal developement, working with python on a method to clip polygon and multi-polygon shapefiles. 

To perform this, I first create the Geometry of my clipper, then I set a spatial filter on my layer and loop for the features. 

If I have a feature of type polygon, I calculate the intersection using the methode Geometry.Intersection and add the result to the final geometry to return. 

If I have a feature of type multi-polygon, I loop into it and add the intersections between my clipper and the polygons within the multi-polygon feature. 

The method works but It seems that it does not always return a correct intersection. See the attached file : 



Normally, I should not have not filled (blank spaces) areas. I was wondering if it's a problem of the spatial filter, i removed it, but it still returns exactly the same result. 

For polygon shapefiles it perfectly returns a correct result. But when it's up to shapefiles containing multi-polygons, it always return that empty areas. 

I think the problem is may be due to multi-polygons containing multi-polygons ! 

Thank you for help. If you have any suggestions , they would be really welcome !! I can't find the solution to my problem ... :'( 

Here is my code : 


def clipShp(self, infile, outfile): 

# Creating the output Shapefile (out datasource, layer and feature) 
#-------------------------------------------------------- 
driver = ogr.GetDriverByName("ESRI Shapefile") 
outDS = driver.CreateDataSource(outfile) 
if outDS is None: 
print("clipShp ERROR : Unable to create output DataSource.") 
return False 

outLayer = outDS.CreateLayer(outfile, geom_type=ogr.wkbMultiPolygon) 

if outLayer is None: 
print("clipShp ERROR : Unable to create output Layer") 
return False 

outFeature = ogr.Feature(outLayer.GetLayerDefn()) 
if outFeature is None: 
print("clipShp ERROR : Unable to create output Feature") 
return False 


# Reading the filtred geometry 
#-------------------------------------------------------- 
inGeom = self. clipGeometry(infile) 

outFeature.SetGeometryDirectly(inGeom) 
outLayer.CreateFeature(outFeature) 


# Clean up 
#-------------------------------------------------------- 
outFeature.Destroy() 
outDS.Destroy() 

return True 


Here is the code of the method clipGeometry : 


def clipGeometry(self,fileDS): 

geom = None 

# Read the input file, create the datasource and layer 
# (This method works only for shapefiles that contains one Layer. ) 
#-------------------------------------------------------- 
datasource = ogr.Open(fileDS,False) 
layer = datasource.GetLayer(0) 

if layer is None: 
print("ERROR : Failed to load layer from datasource") 
return None 

# Create the geometry of the clipper (variable clipGeom) which is of polygon type 
# REMARK : We must create rings first and then add them to the polygon geometry 
#-------------------------------------------------------- 
clipRing = ogr.Geometry(ogr.wkbLinearRing) 
clipRing.AddPoint_2D( float(self.xmin), float(self.ymin) ) 
# Create a rectangle here... 

clipGeom = ogr.Geometry(ogr.wkbPolygon) 
clipGeom.AddGeometry(clipRing) 

# Set in the SpatialFilter (rectangular) 
# than, loop on this set of features 
#-------------------------------------------------------- 
#layer.SetSpatialFilterRect(self.xmin,self.ymin,self.xmax,self.ymax) 

layer.SetSpatialFilter(clipGeom) 

feature = layer.GetNextFeature() 
if feature is None: 
return None 

while feature is not None: 
srcGeom = feature.GetGeometryRef() 

if srcGeom is not None: 
geomType = srcGeom.GetGeometryType() 

if geom is None: 
geom = ogr.Geometry(ogr.wkbMultiPolygon) 
geom.AssignSpatialReference(srcGeom.GetSpatialReference()) 

if geomType == ogr.wkbPolygon: 

# Calculate the intersection Geometry 
#-------------------------------------------------------- 
clippedpolygon = srcGeom.Intersection(clipGeom) 
geom.AddGeometry( clippedpolygon ) 

elif geomType == ogr.wkbMultiPolygon: 
for iGeom in range( srcGeom.GetGeometryCount()): 

# Calculate the intersection Geometry 
#-------------------------------------------------------- 
clippedpolygon = srcGeom.GetGeometryRef(iGeom).Intersection(clipGeom) 
geom.AddGeometry(clippedpolygon) 

else: 
print("ERROR : Geometry not of polygon type." ) 
datasource.Destroy() 
return None 

feature = layer.GetNextFeature() 

datasource.Destroy() 
return geom 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/05efb14d/attachment-0001.html
From jukka.rahkonen at mmmtike.fi  Fri May 27 08:27:29 2011
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri May 27 09:16:51 2011
Subject: [gdal-dev] Re: Read WFS Features
References: <1306485369903-6410186.post@n2.nabble.com>
	<BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
	<1306496591439-6410750.post@n2.nabble.com>
Message-ID: <loom.20110527T135546-187@post.gmane.org>

vickarasu <victor.aparicio <at> hotmail.com> writes:

> 
> I did the test of the URL sending requests by a web browser. I got well
> formed XML documents with the getCapabilities and the describeFeatureType
> too.
> 
> This request yesterday worked in a webbrowser (not in my C# app), but not
> today. Perhaps there is some problem with the server
>
http://www.idee.es/IDEE-WFS/ogcwebservice?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&NAMESPACE=xmlns%28ideewfs=http://www.idee.es/wfs%29&TypeName=ideewfs:BDLL200Municipio
> 
> In any case, I tried another server
> (http://www.sigua.ua.es/cgi-bin/siguawms?SERVICE=WFS&VERSION=1.0.0), because
> the target of the app is learn how to use GDAL, and I have the same error.

Hi, 

I have been playing with various WFS servers and clients lately and I think I
have learned something. First is that there are very many ways to fail in the
WFS client-server discussion. Only after running all the traffic through a web
debugger I managed to gather enough information so that I could make a fruitful
discussion with the client and server developers. The tool I use now is called
Fiddler 2 but there are for sure other equivalent tools around. What you need to
be able to log is the whole content of requests and responces, including the
headers. Depending on the client, both the http GET and POST requests should be
logged. POST is much more problematic because of schema validation that the
server is possible doing. You are testing against deegree server which is
strict. TinyOWS is strich also if not specially to non-validating mode.
Geoservers are not so strict if not configured to run in the validating CITE
test mode. Mapserver does not do schema validation at all, I believe. 
Another thing is to add always &maxfeatures=10 or something into your
GetFeatures when doing the first tests. You do not really need all the thousands
of features for seeing if the service is up.

So if something fails with WFS you should capture the whole raw message that
your client was sending. GET messages are easy to resend with browser and
sometimes the returning error message can give a hint about what is happening.
POSTs are not so easy to handle, but with Fiddler it is possible to copy the
failing request into Request Builder, edit it by hand and retry. It is possible
that you will need to collect the requests and results and send them to server
administrators or software developers and ask why do they fail. They will love
you more if you have installed the server yourself so you can collect
information also from the server side.  Geoserver is super easy to install, and
so is TinyOWS if you are on Linux, and they both come with demo feature types.

-Jukka Rahkonen-

-Jukka Rahkonen-

From hajer.ayed at inria.fr  Fri May 27 08:46:09 2011
From: hajer.ayed at inria.fr (hajer)
Date: Fri May 27 09:36:20 2011
Subject: [gdal-dev] Clipping multi-polygons shapefiles with
	Geometry.Intersection . Any help to fix out my method?
In-Reply-To: <122691025.1282616.1306498940052.JavaMail.root@zmbs2.inria.fr>
References: <122691025.1282616.1306498940052.JavaMail.root@zmbs2.inria.fr>
Message-ID: <1306500369754-6410941.post@n2.nabble.com>

http://osgeo-org.1803224.n2.nabble.com/file/n6410941/intersection.png 

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Clipping-multi-polygons-shapefiles-with-Geometry-Intersection-Any-help-to-fix-out-my-method-tp6410874p6410941.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From peifer at gmx.eu  Fri May 27 08:49:57 2011
From: peifer at gmx.eu (Hermann Peifer)
Date: Fri May 27 09:40:33 2011
Subject: [gdal-dev] Re: gdalinfo: corner coords in other projection
In-Reply-To: <loom.20110526T090833-440@post.gmane.org>
References: <FF46EE5C24AD134C86774E7498509C3D014A80CF@erd-ml1itl.erd.ds.usace.army.mil>
	<loom.20110526T090833-440@post.gmane.org>
Message-ID: <iro6ll$pb8$1@dough.gmane.org>

On 26/05/2011 09:21, Jukka Rahkonen wrote:
> Lefman, Jonathan ERDC-TEC-VA<Jonathan.Lefman<at>  usace.army.mil>  writes:
>
>>
>> Hi all,
>>
>> Is there an executable utility that takes the corner coordinates from a gtiff
>> and translates them into another projection system?  For example, I have a
>> gtiff in UTM and I want to translate the coordinates of the bounding box (or
>> corners) into WGS84.  Or is there a way to do this non-programmatically using
>> a combination of executable utilities?
>
> The programmers should stop reading now, this is a farmer's son recipe for doing
> what you want with something that already exists.
>
> - Use gdaltindex for sending the bounding box of your image into a shapefile
> - Use ogr2ogr with s_srs and t_srs and reproject the shapefile into the system
> you are interested in.
> - Use ogrinfo for listing the extents of the reprojected shapefile.
>

Just to add that "the extents of the reprojected shapefile" might well 
be what the OP wanted to know, but it is not what he asked for: "the 
corner coordinates from a gtiff translated into another projection system"

Here a picture from osgeo.org/mapguide which shows the difference 
(although the picture was made to illustrate something different)

http://trac.osgeo.org/mapguide/attachment/wiki/MapGuideRfc51/MapToLayerCS.png

Hermann

From ledermann at ims.tuwien.ac.at  Fri May 27 10:02:52 2011
From: ledermann at ims.tuwien.ac.at (Flo Ledermann)
Date: Fri May 27 10:57:38 2011
Subject: [gdal-dev] ogr2ogr -wrapdateline not working
In-Reply-To: <1306494814.4ddf875e3ef4b@imp.free.fr>
References: <4DDF6C60.6020109@ims.tuwien.ac.at>
	<1306494814.4ddf875e3ef4b@imp.free.fr>
Message-ID: <4DDFAF0C.2020504@ims.tuwien.ac.at>


On 05/27/2011 12:13 PM, Even Rouault wrote:
> Selon Flo Ledermann <ledermann@ims.tuwien.ac.at>:
> 
>> Instead I get the identical, unclipped polygon as in the input file.
>> What am I doing wrong?
> 
> Nothing, I've checked the algorithm w.r.t your input data. The algorithm
> currently only deals with geometries overlapping the +180? meridian, not the
> -180? one (and even in the in the case of +180?, only in some restricted cases ,
> to avoid false positives). Perhaps you could file a ticket in GDAL trac with
> your data attached so that I can have a look at this again.

OK, did that and provided a better test file in there:

http://trac.osgeo.org/gdal/ticket/4098

I checked the code and actually the assumptions sound rather limiting
first but should be OK in most real life cases I guess. So maybe for now
updating the documentation would be sufficient? I propose to put

<dt> <b>-wrapdateline</b>:</dt><dd> (starting with GDAL 1.7.0) split
geometries crossing the dateline meridian (long. = +180deg). This is
currently limited to geometry that crosses the dateline on the
"positive" side with successive vertices within 10deg of the meridian (
170deg < x1 < 180deg, 180deg < x2 < 190deg).</dd>

in gdal/apps/ogr_utilities.dox:278


Best,

flo

From leith at leithalweapon.geek.nz  Fri May 27 12:46:29 2011
From: leith at leithalweapon.geek.nz (Leith Bade)
Date: Fri May 27 13:50:15 2011
Subject: [gdal-dev] Problem using RasterIO to flip image
Message-ID: <BANLkTinXonOvodDNVjLHMBWgMSVhVa5qDQ@mail.gmail.com>

Hi,

I am trying to write an image that has a y inverted buffer.

I tried this:
band->RasterIO(GF_Write, x, y, width, height, data + width * (height - 1) *
sizeof(short),
width, height, GDT_Int16, sizeof(short), -width * sizeof(short));

But I get a segfault in memcpy.

What am I doing wrong?

Thanks,
Leith Bade
leith@leithalweapon.geek.nz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110528/42730a25/attachment.html
From frdcn at hotmail.com  Fri May 27 13:03:25 2011
From: frdcn at hotmail.com (godofredo contreras)
Date: Fri May 27 14:08:48 2011
Subject: [gdal-dev] Re:
Message-ID: <COL103-W638B716C2F62B01E43CF3CB2760@phx.gbl>

....  http://www.de-beste-casino-online.com/page.php?qotfortune=79ew8
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/b4107e61/attachment.html
From even.rouault at mines-paris.org  Fri May 27 13:05:19 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 27 14:09:57 2011
Subject: [gdal-dev] Re: Read WFS Features
In-Reply-To: <1306496591439-6410750.post@n2.nabble.com>
References: <1306485369903-6410186.post@n2.nabble.com>
	<BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
	<1306496591439-6410750.post@n2.nabble.com>
Message-ID: <201105271905.19103.even.rouault@mines-paris.org>

Le vendredi 27 mai 2011 13:43:11, vickarasu a ?crit :
> I did the test of the URL sending requests by a web browser. I got well
> formed XML documents with the getCapabilities and the describeFeatureType
> too.
> 
> This request yesterday worked in a webbrowser (not in my C# app), but not
> today. Perhaps there is some problem with the server
> http://www.idee.es/IDEE-WFS/ogcwebservice?SERVICE=WFS&VERSION=1.1.0&REQUEST
> =GetFeature&NAMESPACE=xmlns%28ideewfs=http://www.idee.es/wfs%29&TypeName=id
> eewfs:BDLL200Municipio
> 
> In any case, I tried another server
> (http://www.sigua.ua.es/cgi-bin/siguawms?SERVICE=WFS&VERSION=1.0.0),
> because the target of the app is learn how to use GDAL, and I have the
> same error.

This one also works for me, so I begin to suspect this might be due to the 
curl version you are using, or something else in your environment...

> 
> Thanks for the answer.
> 
> V?ctor
> 
> --
> View this message in context:
> http://osgeo-org.1803224.n2.nabble.com/Read-WFS-Features-tp6410186p6410750
> .html Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From even.rouault at mines-paris.org  Fri May 27 13:12:19 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 27 14:17:21 2011
Subject: [gdal-dev] GDAL ERS unable to process GDA94 under amd64
In-Reply-To: <379916DAEE752C49BC25377067B2B8ED2931F1F782@EXWA-MBX01.nexus.csiro.au>
References: <379916DAEE752C49BC25377067B2B8ED2931F1F782@EXWA-MBX01.nexus.csiro.au>
Message-ID: <201105271912.19185.even.rouault@mines-paris.org>

> 
> So my question is how exactly does CPLFindFile discover a filepath and does
> anyone have any clue about why it's not working under Debian amd64?
> Secondly how does "ecw_cs.wkt" end up at /usr/local/share/gdal/?

This is the target directory when building and installing GDAL. This is then 
looked for when trying to open of the resource files like ecw_cs.wkt. You can 
overrirde this by setting the GDAL_DATA environment variable to point to the 
directory where those files are.
From even.rouault at mines-paris.org  Fri May 27 13:23:48 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri May 27 14:29:26 2011
Subject: [gdal-dev] Problem using RasterIO to flip image
In-Reply-To: <BANLkTinXonOvodDNVjLHMBWgMSVhVa5qDQ@mail.gmail.com>
References: <BANLkTinXonOvodDNVjLHMBWgMSVhVa5qDQ@mail.gmail.com>
Message-ID: <201105271923.48958.even.rouault@mines-paris.org>

Le vendredi 27 mai 2011 18:46:29, Leith Bade a ?crit :
> Hi,
> 
> I am trying to write an image that has a y inverted buffer.
> 
> I tried this:
> band->RasterIO(GF_Write, x, y, width, height, data + width * (height - 1) *
> sizeof(short),
> width, height, GDT_Int16, sizeof(short), -width * sizeof(short));
> 
> But I get a segfault in memcpy.
> 
> What am I doing wrong?

First I assume that your data buffer is at least width * height * sizeof(short) 
large.
Then if your data variable is of type char*, it should work. If it is of type 
short*, then data + width * (height - 1) * sizeof(short) is wrong. It should 
be data + width * (height - 1).

> 
> Thanks,
> Leith Bade
> leith@leithalweapon.geek.nz
From kmckelvey at lizardtech.com  Fri May 27 15:10:48 2011
From: kmckelvey at lizardtech.com (Kirk McKelvey)
Date: Fri May 27 16:22:29 2011
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values
In-Reply-To: <BANLkTimHkJ4qF=ZME-zFJosbn6OFpAon-w@mail.gmail.com>
References: <BANLkTi=AsxtR8pDp=wB6dCVPYNn5TasPVw@mail.gmail.com>
	<C55473998E248B4DAEC5342D698DFE85011493CCC5@sea-srv-mail.lizardtech.com>
	<BANLkTimp3K-bu0ChUn1GeT+J2BWNL5Tbxw@mail.gmail.com>
	<BANLkTimHkJ4qF=ZME-zFJosbn6OFpAon-w@mail.gmail.com>
Message-ID: <C55473998E248B4DAEC5342D698DFE850116681D68@sea-srv-mail.lizardtech.com>

Sorry Oyvind, somehow I missed your note about it being MG2.

I looked into this yesterday and it is indeed a difference in the v8 DSDK.  Image properties that are available through the API (such as the nodata value, dynamic range, etc.) are no longer being inserted into the metadata.  This means they do not get transcribed into the GDAL metadata during initialization of the MrSIDDataset either.

Meanwhile, it looks like MrSIDRasterBand::GetNoDataValue() was disconnected due to a difference in the way LizardTech and GDAL interpret NODATA (per-band vs. all-bands), so there is no longer a way to get at this info at all.

For the moment the only suggestion I have is to reactivate the code in MrSIDRasterBand::MrSIDRasterBand() (approx. line 366ff in mrsiddataset.cpp) that sets the nodata value for the raster band.  You will of course have to deal with the different nodata semantics between LT and GDAL.

I will work on a patch to reinsert the NO_DATA_VALUE into the metadata.

Kirk.

From: gdal-dev-bounces@lists.osgeo.org [mailto:gdal-dev-bounces@lists.osgeo.org] On Behalf Of Oyvind Idland
Sent: jeudi 26 mai 2011 01:16
To: gdal-dev@lists.osgeo.org
Subject: Re: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values

Hi,

should I assume that this error is due to the DSDK 8.x version ?

-- Oyvind

On Mon, May 16, 2011 at 8:30 AM, Oyvind Idland <oyvind.idland@gmail.com<mailto:oyvind.idland@gmail.com>> wrote:
Hi,

The file I'm using is actually MG2, using only 3 bands.

Note, thats its the same file I used for testing in 1.7.x aswell.


- Oyvind


On Fri, May 13, 2011 at 4:08 PM, Kirk McKelvey <kmckelvey@lizardtech.com<mailto:kmckelvey@lizardtech.com>> wrote:
Is this with MG3 or MG4 files?  MG4 uses an alpha channel instead of nodata, so what you describe would be expected in that case.

From: gdal-dev-bounces@lists.osgeo.org<mailto:gdal-dev-bounces@lists.osgeo.org> [mailto:gdal-dev-bounces@lists.osgeo.org<mailto:gdal-dev-bounces@lists.osgeo.org>] On Behalf Of Oyvind Idland
Sent: vendredi 13 mai 2011 04:28
To: gdal-dev@lists.osgeo.org<mailto:gdal-dev@lists.osgeo.org>
Subject: [gdal-dev] GDAL 1.8.0 and MrSid "no-data" values

Hi,

I just updated to 1.8.0 from 1.7, using the MrSid DSDK 8.0.

In order to handle transparency, i have until now used the metadata values from "IMAGE__NO_DATA_VALUE",
and simply masked away pixels.

After upgrading, the IMAGE__NO_DATA_VALUE yields nothing, neither is it listed when using gdalinfo.

The band->GetNoDataValue() doesn't give me any hints either.

Should I handle this in a different way ?


-- Oyvind


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/15ff25fb/attachment.html
From dbakeman at comcast.net  Fri May 27 16:42:31 2011
From: dbakeman at comcast.net (David J. Bakeman)
Date: Fri May 27 18:00:31 2011
Subject: [gdal-dev] Issue with WKT to proj4
Message-ID: <4DE00CB7.5030703@comcast.net>

An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110527/3d365105/attachment-0001.html
From warmerdam at pobox.com  Fri May 27 16:50:53 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May 27 18:08:13 2011
Subject: [gdal-dev] Issue with WKT to proj4
In-Reply-To: <4DE00CB7.5030703@comcast.net>
References: <4DE00CB7.5030703@comcast.net>
Message-ID: <4DE00EAD.5000200@pobox.com>

On 11-05-27 04:42 PM, David J. Bakeman wrote:
> Is there a valid proj4 description of the following coordinate system in wkt?
>
> GEOGCS["WGS84_ds",
> DATUM["D_WGS_1984",
> SPHEROID["WGS_1984",6378137.0,298.257223563]],
> PRIMEM["Greenwich",0.0],
> UNIT["Second",0.00000484813681109536]]
>

David,

I do not believe there is any way to make PROJ.4 use angular units other
than decimal degrees for geographic coordinate systems (+proj=latlong).

I must say, I haven't seen much need for it either.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From spiderplant0 at gmail.com  Fri May 27 18:15:00 2011
From: spiderplant0 at gmail.com (spiderplant0)
Date: Fri May 27 19:36:41 2011
Subject: [gdal-dev] Re: Convert vector to raster with colored polygons
In-Reply-To: <BANLkTik-rb8dBKN02AK3atUfNTRTeh5BQA@mail.gmail.com>
References: <1306184168592-6396185.post@n2.nabble.com>
	<BANLkTik1hZsC5uvMEn+_XJAeTJ=CVpCRkg@mail.gmail.com>
	<1306272487358-6400545.post@n2.nabble.com>
	<BANLkTik-rb8dBKN02AK3atUfNTRTeh5BQA@mail.gmail.com>
Message-ID: <1306534500288-6412737.post@n2.nabble.com>

Thanks Chaitanya, that worked perfectly. 
In case anyone else has this problem here are the full list of command I
used...

First need to get GDAL 1.8 + as gdal_rasterize in GDAL 1.7 wont work.
You can get it here...
http://vbkto.dyndns.org/sdk/

Convert your vector to a greyscale .tiff
(When I viewed this in IrfanViewer or ER Viewer all I see is a black image
so you cant tell if its working at this stage.)
gdal_rasterize -ot Byte -init 0 -ts <widthInPixels> <heightInPixels> -a
<attributeName> -l <layerName>  <vectorFile>.shp <rasterFile>.tiff

Add a .vrt wrapper...
gdalbuildvrt -overwrite -srcnodata 0 <rasterFile>.vrt <rasterFile>.tiff

Now edit the .vrt replacing the line ...
<ColorInterp>Gray</ColorInterp>

with something like (edit the number of 'Entry' rows and color values as
required) ...
    <ColorInterp>Palette</ColorInterp>
    <ColorTable>
      <Entry c1="0" c2="0" c3="0" c4="0" />
      <Entry c1="255" c2="255" c3="0" c4="255" />
      <Entry c1="0" c2="255" c3="0" c4="255" />
      <Entry c1="0" c2="255" c3="255" c4="255" />
      <Entry c1="0" c2="0" c3="255" c4="255" />
    </ColorTable>

The first line corresponds to attribute value = 0, the second to attribute
value 1,
'c4' is the transparency. So line 0 is fully transparent.

Convert .VRT into a full-color .tiff
(You should now see the image correctly in IrFan Viewer.)
gdal_translate -expand rgba <rasterFile>.vrt <newRasterFile>.tiff

For some reason not all GDAL programs are available in all packages, so for
the next step you might need to switch over to the OSGeo4W GDAL package to
convert to google-maps tiles...
gdal2tiles -r near -z0-12 --s_srs <EpsgMapProjection> <newRasterFile>.tiff
./tiles




--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-vector-to-raster-with-colored-polygons-tp6396185p6412737.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From dbakeman at comcast.net  Fri May 27 18:49:17 2011
From: dbakeman at comcast.net (David J. Bakeman)
Date: Fri May 27 20:12:54 2011
Subject: [gdal-dev] Issue with WKT to proj4
In-Reply-To: <4DE00EAD.5000200@pobox.com>
References: <4DE00CB7.5030703@comcast.net> <4DE00EAD.5000200@pobox.com>
Message-ID: <4DE02A6D.6090500@comcast.net>

Frank Warmerdam wrote:
> On 11-05-27 04:42 PM, David J. Bakeman wrote:
>> Is there a valid proj4 description of the following coordinate system 
>> in wkt?
>>
>> GEOGCS["WGS84_ds",
>> DATUM["D_WGS_1984",
>> SPHEROID["WGS_1984",6378137.0,298.257223563]],
>> PRIMEM["Greenwich",0.0],
>> UNIT["Second",0.00000484813681109536]]
>>
>
> David,
>
> I do not believe there is any way to make PROJ.4 use angular units other
> than decimal degrees for geographic coordinate systems (+proj=latlong).
I thought that ogr used proj4 to do the coordinate transform?  Does that 
mean that ogr2ogr is converting using it's own transforms?  It is 
converting the shape correctly.
>
> I must say, I haven't seen much need for it either.
>
> Best regards,

From warmerdam at pobox.com  Fri May 27 19:24:56 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Fri May 27 20:50:29 2011
Subject: [gdal-dev] Issue with WKT to proj4
In-Reply-To: <4DE02A6D.6090500@comcast.net>
References: <4DE00CB7.5030703@comcast.net> <4DE00EAD.5000200@pobox.com>
	<4DE02A6D.6090500@comcast.net>
Message-ID: <4DE032C8.10808@pobox.com>

On 11-05-27 06:49 PM, David J. Bakeman wrote:
> Frank Warmerdam wrote:
>> On 11-05-27 04:42 PM, David J. Bakeman wrote:
>>> Is there a valid proj4 description of the following coordinate system in wkt?
>>>
>>> GEOGCS["WGS84_ds",
>>> DATUM["D_WGS_1984",
>>> SPHEROID["WGS_1984",6378137.0,298.257223563]],
>>> PRIMEM["Greenwich",0.0],
>>> UNIT["Second",0.00000484813681109536]]
>>>
>>
>> David,
>>
>> I do not believe there is any way to make PROJ.4 use angular units other
>> than decimal degrees for geographic coordinate systems (+proj=latlong).
> I thought that ogr used proj4 to do the coordinate transform? Does that mean
> that ogr2ogr is converting using it's own transforms? It is converting the
> shape correctly.


David,

While in theory OGR can use other coordinate system transformation
libraries, in practice this is not used.   I don't know how ogr2ogr
could be handling something in arcseconds properly.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From dbakeman at comcast.net  Sat May 28 17:49:43 2011
From: dbakeman at comcast.net (David J. Bakeman)
Date: Sat May 28 20:30:40 2011
Subject: [gdal-dev] Issue with WKT to proj4
In-Reply-To: <4DE032C8.10808@pobox.com>
References: <4DE00CB7.5030703@comcast.net> <4DE00EAD.5000200@pobox.com>
	<4DE02A6D.6090500@comcast.net> <4DE032C8.10808@pobox.com>
Message-ID: <4DE16DF7.5060009@comcast.net>

Frank Warmerdam wrote:
> On 11-05-27 06:49 PM, David J. Bakeman wrote:
>> Frank Warmerdam wrote:
>>> On 11-05-27 04:42 PM, David J. Bakeman wrote:
>>>> Is there a valid proj4 description of the following coordinate 
>>>> system in wkt?
>>>>
>>>> GEOGCS["WGS84_ds",
>>>> DATUM["D_WGS_1984",
>>>> SPHEROID["WGS_1984",6378137.0,298.257223563]],
>>>> PRIMEM["Greenwich",0.0],
>>>> UNIT["Second",0.00000484813681109536]]
>>>>
>>>
>>> David,
>>>
>>> I do not believe there is any way to make PROJ.4 use angular units 
>>> other
>>> than decimal degrees for geographic coordinate systems (+proj=latlong).
>> I thought that ogr used proj4 to do the coordinate transform? Does 
>> that mean
>> that ogr2ogr is converting using it's own transforms? It is 
>> converting the
>> shape correctly.
>
>
> David,
>
> While in theory OGR can use other coordinate system transformation
> libraries, in practice this is not used.   I don't know how ogr2ogr
> could be handling something in arcseconds properly.
I believe that I've figured it out.  When ogr2ogr transforms the feature 
it calls  OGRProj4CT::TransformEx in this method if the source is 
latlong it multiplies it by dfSourceToRadians first before calling proj4 
to do the transform.  Then after the transform it does the same 
multiplication with dfTargetFromRadians if the target is latlong.

Earlier in the calling sequence, OGRProj4CT::Initialize, it derives 
those values from the units which in the case of the wkt in these cs's 
are either degree or second with an appropriate multiplier.


>
> Best regards,

From even.rouault at mines-paris.org  Sun May 29 14:43:03 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun May 29 18:32:01 2011
Subject: [gdal-dev] gdal 1.8 tiff
In-Reply-To: <4DD28A7E.9030604@c-s.fr>
References: <4DCABE7B.6050904@c-s.fr>
	<201105112003.02050.even.rouault@mines-paris.org>
	<4DD28A7E.9030604@c-s.fr>
Message-ID: <201105292043.03872.even.rouault@mines-paris.org>

Le mardi 17 mai 2011 16:47:26, Julien Malik a ?crit :
> Hello Even,
> 
> My apologies for the late reply.
> 
> I took the quick and not-so-dirty way : gdal is repackaged in the OTB
> ppas, where I have applied the last strategy you mention : I let the
> warning about libtiff version mismatch be emitted, but still register
> the driver.
> Everything is back to normal with this, and the patch is not very
> intrusive.
> 
> Hopefully this will be only temporary, waiting for this "versioned
> symbols" solution from the Debian folks, and I will be able to throw
> away our specific gdal package soon.

Just to follow on that topic : I've applied in 
http://trac.osgeo.org/gdal/ticket/4101 the fix I mentionned before : just emit 
a warning if version mismatch detected and go on loading the GTiff driver.

> 
> Thanks,
> Julien
> 
> Le 11/05/2011 20:03, Even Rouault a ?crit :
> > Le mercredi 11 mai 2011 18:51:07, Julien Malik a ?crit :
> >> Hello list,
> >> 
> >> I had a bad surprise today using the new gdal 1.8 package available in
> >> ubuntugis-unstable :
> >> 
> >> When linked both to tiff v3 and gdal 1.8, the GTIFF driver is disabled
> >> 
> >> with a warning appearing like :
> >>      WARNING ! libtiff version mismatch : You're linking against libtiff
> >> 
> >> 3.X but GDAL has been compiled against libtiff>= 4.0.0
> >> 
> >> I understand from frmts/gtiff/geotiff.cpp that this is voluntary (though
> >> the warning does not say it actually disables the GTiff driver).
> > 
> > I'm a bit frustrated... I put this check to avoid bug reports actually
> > ;-) Too many people get hurt because of a version mismatch and have a
> > hard tried figuring what goes wrong.
> > 
> >> In my case (building the Orfeo Toolbox library, which has a dependency
> >> needing TIFF and GeoTiff, but not gdal), it has the undesirable
> >> consequence of breaking TIFF support for our ubuntu packages based on
> >> the ubuntugis-unstable ppa
> >> (https://launchpad.net/~otb/+archive/orfeotoolbox-nightly and
> >> https://launchpad.net/~otb/+archive/orfeotoolbox-stable-ubuntugis).
> >> 
> >> The issue has already been discussed on this list, but just to recall :
> >> we had a solution providing usable executables with TIFF support, even
> >> though they were linked to the system libtiff and libgeotiff (it
> >> involved ensuring the proper link order between '-lgdal' and
> >> '-lgeotiff').
> >> 
> >> That's why I think disabling the driver completely is a little hard.
> >> In my case it represents a major regression, and I don't have a lot of
> >> ideas to work around it...
> >> 
> >> 
> >> Is it possible to *not* disable the driver, and keep the warning ?
> > 
> > If your question is "without changing the code ?", the answer is no.
> > 
> > If Debian/Ubuntu goes into the way of using versionned symbols, they can
> > just apply a local trivial patch to disable this check. My rationale is
> > that people that want to mix both libtiff 3 and libtiff 4 are considered
> > to be sufficient advanced users to make patches to undo the sanity
> > checks if they really know what they are doing. IMHO, the default should
> > be to stick to safe settings.
> > 
> > But perhaps I did go too far and I'm open to suggestions. Changing the
> > behaviour of this check is trivial. The difficult part is to figure out
> > the expected behaviour and I just don't know what would be the option
> > that would satisfy most/all people. One possibility would be to disable
> > the driver unless an environment variable
> > GDAL_ACCEPT_MIXED_LIBTIFF_VERSIONS is defined  ?? But that seems to a
> > bit too convoluted. Or just emit the warning and still enables the
> > driver, considering that the warning is enough and that if people get
> > crashes, they would know why. I'm interested by opinion from other
> > people.
> > 
> > Best regards,
> > 
> > Even
> > 
> >> Regards,
> >> Julien
> >> 
> >> NB: I filed a ticket in our bug tracker
> >> (http://bugs.orfeo-toolbox.org/view.php?id=296), feel free to leave
> >> comments there.
> >> 
> >> 
> >> _______________________________________________
> >> gdal-dev mailing list
> >> gdal-dev@lists.osgeo.org
> >> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From Josh.Vote at csiro.au  Sun May 29 20:31:28 2011
From: Josh.Vote at csiro.au (Josh.Vote@csiro.au)
Date: Mon May 30 00:40:11 2011
Subject: [gdal-dev] GDAL ERS unable to process GDA94 under amd64
In-Reply-To: <201105271912.19185.even.rouault@mines-paris.org>
References: <379916DAEE752C49BC25377067B2B8ED2931F1F782@EXWA-MBX01.nexus.csiro.au>
	<201105271912.19185.even.rouault@mines-paris.org>
Message-ID: <379916DAEE752C49BC25377067B2B8ED2931F1F784@EXWA-MBX01.nexus.csiro.au>

Hi All, 

> This is the target directory when building and installing GDAL. This is then 
> looked for when trying to open of the resource files like ecw_cs.wkt. You can 
> overrirde this by setting the GDAL_DATA environment variable to point to the 
> directory where those files are.

It turns out that this is just a case of a beginner's mistake. Even's comment got me thinking and it turns out I was just running 'make' and not 'make install' when building gdal which was causing the required resource files to not be 'installed'. I'm currently laughing at myself for the simplicity of the solution and you can all feel free to join in :)

It's probably irrelevant now but I'm still not really sure how gdal was 'working' with other datasets on the same machine that were using the same workflow. 

Thanks again
Josh Vote



From victor.aparicio at hotmail.com  Mon May 30 02:57:00 2011
From: victor.aparicio at hotmail.com (vickarasu)
Date: Mon May 30 07:27:04 2011
Subject: [gdal-dev] Re: Read WFS Features
In-Reply-To: <201105271905.19103.even.rouault@mines-paris.org>
References: <1306485369903-6410186.post@n2.nabble.com>
	<BANLkTikqzOe7R43n8-eEvnT3P8om60JeEA@mail.gmail.com>
	<1306496591439-6410750.post@n2.nabble.com>
	<201105271905.19103.even.rouault@mines-paris.org>
Message-ID: <1306738620627-6418035.post@n2.nabble.com>

Well, perhaps there is a problem with the servers because now I can?t view
the data in any GIS. So I looked for another WFS Server and make my tests. I
found this one: "http://www.mirame.chduero.es/duerowfd?SERVICE=WFS". First
of all I added the data to a GIS viewer without problems, and after I test
the code. No problem, I can read the layer description (I used ETAP layer)
and the features in it.

Thanks to all of you for your answers, no doubt that they will help me in
the future. It has being a hard welcoming in the WFS World!!

V?ctor

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Read-WFS-Features-tp6410186p6418035.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From pramsey at cleverelephant.ca  Mon May 30 17:47:03 2011
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Mon May 30 18:32:15 2011
Subject: [gdal-dev] Table Names (FGDB)
Message-ID: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>

So, my goal is to map information from FGDB to PostGIS and as much
fidelity as possible.

FGDB includes a class called "Feature Dataset" which is basically a
folder that holds "Feature Class" objects, which map directly to OGR
layers. So the "Feature Dataset" then acts a good deal like a schema
in PostGIS.

I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
you to write to a schema without schema-qualified table names, and
that it also notices when table names are schema qualified and puts
them in the appropriate place. So the name of a layer read from a
schema would show up in OGR as "schemaname.tablename".

In FGDB, we have the "path" of a Feature Class or Table, which looks
like this \FeatureDataset\FeatureClass. Similar to the schema
qualification, yet different. As it stands right now, the
FeatureDataset portion of the path is discarded in the public API, so
that the OGR layer name is just the FeatureClass, with no reference to
the FeatureDataset. That makes it hard to create a mapping from FGDB
(\FeatureDataset\FeatureClass) to PostGIS
(FeatureDataset.FeatureClass).

The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
as the layer name, which "Gets the query name (the name to use in SQL
statements) of a table based on its path". If it returned the path
name, then the FeatureDataset qualification information could be
preserved in other contexts. On the other hand, perhaps the QueryName
is more useful to more users than the path? It looks like the
QueryName is expected to be unique, so probably FeatureClass and Table
names have to be unique regardless of what FeatureDataset they appear
in (true?).

So my options are:

(a) - change the current OGR layer name to the path name
(b) - change the current OGR layer name to a "schema.table" analogue
and handle appropriately
(c) - leave the current OGR layer name as is ("tablename" regardless
of containing folders) and make a FGDB-only method for accessing the
pathname for my particular purposes

Preferences?

P.
From matt.wilkie at gov.yk.ca  Mon May 30 18:14:34 2011
From: matt.wilkie at gov.yk.ca (Matt Wilkie)
Date: Mon May 30 19:01:12 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
Message-ID: <4DE416CA.5090803@gov.yk.ca>

On 30/05/2011 2:47 PM, Paul Ramsey wrote:
> ...so probably FeatureClass and Table names have to be unique
> regardless of what FeatureDataset they appear in (true?).

I'm not knowledgeable to comment on the aspects of your post, but I can 
confirm that yes FC and Table names must be unique regardless of where 
they sit in the gdb (inside or outside of a Feature Dataset).

cheers,

-matt
From hajer.ayed at inria.fr  Tue May 31 03:28:16 2011
From: hajer.ayed at inria.fr (hajer)
Date: Tue May 31 04:45:18 2011
Subject: [gdal-dev] Clipping multi-polygons shapefiles with
	Geometry.Intersection . Any help to fix out my method?
In-Reply-To: <122691025.1282616.1306498940052.JavaMail.root@zmbs2.inria.fr>
References: <122691025.1282616.1306498940052.JavaMail.root@zmbs2.inria.fr>
Message-ID: <1306826896293-6421682.post@n2.nabble.com>

No idea about this issue??

Thanks for help !

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Clipping-multi-polygons-shapefiles-with-Geometry-Intersection-Any-help-to-fix-out-my-method-tp6410874p6421682.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From Emmet.Spier at 2d3.com  Tue May 31 07:20:56 2011
From: Emmet.Spier at 2d3.com (Emmet Spier)
Date: Tue May 31 08:51:22 2011
Subject: [gdal-dev] ERDASJP2 Debug builds crash
Message-ID: <6BF44CD613458D479057BDB27207F2E0062A3C59@omgsvr02.omg.local>

All,

 

I have been trying to build GDAL with ECWJP2 support. I have built a
test program using exactly the same build environment (vc80) and flags
as the gdal default gdal build enviroment. In Debug builds in or out of
the debugger I experience a crash in the ERDAS (debug) dll on
GDALClose(). Below I include full details demonstrating the vanilla test
carried out.

 

If anyone could offer thoughts on what I might be doing wrong I would be
very grateful.

 

Emmet.

 

 

----

 

I build gdal 1.8 using "nmake /f makefile.vc DEBUG=1" having set the ECW
variables in nmake.opt

 

------- BUILD EXTRACT FOLLOWS SHOWING 'Default' DEBUG BUILD ----------

 

D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts>cd ecw   && nmake /nologo
/f makefile.vc   && cd ..   || exit 1

        cl  /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
-I..\..\ogr -I..\..\gcore  -I..\..\alg -I..\..\ogr\ogrsf_frmt

s -DHAVE_COMPRESS -DECWSDK_VERSION=41  -I"D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include  -I"D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include/e

cw/api -I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop
Read-Write"\include/ecw/jp2  -I"D:\Program Files (x86)\ERDAS\ERDAS
ECWJP2 SDK Desktop Read-Write"\include/ecw/ecw -DFRMT_ecw -DOGR_

ENABLED  /c ecwdataset.cpp

ecwdataset.cpp

        cl  /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
-I..\..\ogr -I..\..\gcore  -I..\..\alg -I..\..\ogr\ogrsf_frmt

s -DHAVE_COMPRESS -DECWSDK_VERSION=41  -I"D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include  -I"D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include/e

cw/api -I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop
Read-Write"\include/ecw/jp2  -I"D:\Program Files (x86)\ERDAS\ERDAS
ECWJP2 SDK Desktop Read-Write"\include/ecw/ecw -DFRMT_ecw -DOGR_

ENABLED  /c ecwcreatecopy.cpp

ecwcreatecopy.cpp

        cl  /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
-I..\..\ogr -I..\..\gcore  -I..\..\alg -I..\..\ogr\ogrsf_frmt

s -DHAVE_COMPRESS -DECWSDK_VERSION=41  -I"D:\Program Files
(x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include  -I"D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop Read-Write"\include/e

cw/api -I"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop
Read-Write"\include/ecw/jp2  -I"D:\Program Files (x86)\ERDAS\ERDAS
ECWJP2 SDK Desktop Read-Write"\include/ecw/ecw -DFRMT_ecw -DOGR_

ENABLED  /c jp2userbox.cpp

jp2userbox.cpp

        xcopy /y /r /d /f *.obj ..\o

D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts\ecw\ecwcreatecopy.obj ->
D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts\o\ecwcreatecopy.obj

D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts\ecw\ecwdataset.obj ->
D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts\o\ecwdataset.obj

D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts\ecw\jp2userbox.obj ->
D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts\o\jp2userbox.obj

 

...

 

        lib /nologo /out:gdal.lib port\*.obj gcore\*.obj alg\*.obj
frmts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib

ogrsf_frmts.lib(resolvexlinks.obj) : warning LNK4221: no public symbols
found; archive member will be inaccessible

        link /nologo /dll /INCLUDE:_OGRFeatureStylePuller
/INCLUDE:_OSRValidate  /INCLUDE:_OPTGetProjectionMethods
/INCLUDE:_OGR_G_GetPointCount  /INCLUDE:_OGRRegisterAll
/INCLUDE:_GDALSimpleIm

ageWarp@36  /INCLUDE:_GDALReprojectImage@48
/INCLUDE:_GDALComputeMedianCutPCT@32  /INCLUDE:_GDALDitherRGB2PCT@28
/INCLUDE:_OCTNewCoordinateTransformation@8  port\*.obj gcore\*.obj
alg\*.obj frm

ts\o\*.obj ogr\ogrsf_frmts\ogrsf_frmts.lib ogr\ogr.lib
"D:\Program Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop
Read-Write"\lib\vc80\win32\NCSEcw4d.lib  "D:\Program Files
(x86)\ERDAS\ERDAS

ECWJP2 SDK Desktop Read-Write"\lib\vc80\win32\NCSUtil4d.lib  "D:\Program
Files (x86)\ERDAS\ERDAS ECWJP2 SDK Desktop
Read-Write"\lib\vc80\win32\NCScnet4d.lib
odbc32.lib

odbccp32.lib user32.lib           gcore\Version.res  /out:gdal18.dll
/implib:gdal_i.lib  /debug

 

------- BUILD EXTRACT END ----------

 

 

I then built a simple test app:

 

#include <cpl_conv.h>

#include <gdal.h>

#include <gdal_priv.h>

 

#include <windows.h>

 

#include <iostream>

 

int main ()

{ 

  // DebugBreak();

 

  unsigned int x_size = 100;

  unsigned int y_size = 150;

  unsigned int xstep  = 1;

  unsigned int pstep = 1;

  unsigned int nplanes = 1;

  unsigned int ystep = x_size * xstep; 

  void * data = malloc( y_size * ystep );

  memset( data, 128, y_size * ystep );

 

  // OEM License code for ERDAS ECW JPEG2000 compression capability

  CPLSetConfigOption( "ECW_ENCODE_COMPANY", "" );

  CPLSetConfigOption( "ECW_ENCODE_KEY", "" );

 

  GDALAllRegister();

  GDALDriver * pDriver = GetGDALDriverManager()->GetDriverByName(
"JP2ECW" );

 

  if ( pDriver )

  {

    std::cout << "Creating" << std::endl;

    GDALDataset * poDstDS = pDriver->Create( "jpeg2000test.jp2", x_size,
y_size, nplanes , GDT_Byte, NULL );

    CPLErr err = poDstDS->RasterIO( GF_Write, 0, 0, x_size, y_size,
data, x_size, y_size, GDT_Byte, nplanes , NULL, xstep, ystep, pstep );

    GDALClose( (GDALDatasetH) poDstDS );

    std::cout << "Written" << std::endl;

  }

  else

  {

    std::cout << "jp2 Driver not found" << std::endl;

  }

 

  free( data );

  return 0;

}

 

 

using a matched build line from the build extract above:

 

> cl /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
/D_CRT_NONSTDC_NO_DEPRECATE /DDEBUG -I..\include\ main.cxx
..\bin\Release\gdal_i.lib /link  /debug

 

 

and when I run this program I get a memory access failure in a mutex in
the ERDAS library when GDALClose() is called:

 

                NCSUtil4d.dll!NCS::CMutexLock::CMutexLock(NCS::CMutex *
pmMutex=0x0300cab8)  Line 156 + 0x12 bytes     C++

 
NCSEcw4d.dll!NCS::CView::SetFileInfo(NCSFileViewFileInfoEx & Info={...})
Line 1316 + 0x12 bytes           C++

>             gdal18.dll!GDALECWCompressor::Initialize(const char *
pszFilename=0x03008d78, char * * papszOptions=0x00000000, int
nXSize=100, int nYSize=150, int nBands=1, int bRGBA=0, GDALDataType
eType=GDT_Byte, const char * pszWKT=0x00000000, double *
padfGeoTransform=0x0300c6f8, int nGCPCount=0, const GDAL_GCP *
pasGCPList=0x00000000, int bIsJPEG2000=1)  Line 910 + 0x29 bytes
C++

                gdal18.dll!ECWWriteDataset::Crystalize()  Line 1433 +
0x65 bytes               C++

                gdal18.dll!ECWWriteDataset::FlushLine()  Line 1459 + 0x8
bytes C++

                gdal18.dll!ECWWriteRasterBand::IWriteBlock(int
nBlockX=0, int nBlockY=0, void * pBuffer=0x03009290)  Line 1561 + 0xb
bytes            C++

                gdal18.dll!GDALRasterBlock::Write()  Line 518     C++

                gdal18.dll!GDALRasterBand::FlushBlock(int nXBlockOff=0,
int nYBlockOff=0, int bWriteDirtyBlock=1)  Line 1079 + 0x8 bytes     C++

                gdal18.dll!GDALDataset::BlockBasedFlushCache()  Line 424
+ 0x12 bytes                C++

                gdal18.dll!ECWWriteDataset::FlushCache()  Line 1366
C++

                gdal18.dll!ECWWriteDataset::~ECWWriteDataset()  Line
1345     C++

                gdal18.dll!ECWWriteDataset::`vector deleting
destructor'()  + 0x50 bytes              C++

                gdal18.dll!GDALClose(void * hDS=0x0300c648)  Line 2380 +
0x20 bytes    C++

                main.exe!main()  Line 44              C++

                main.exe!__tmainCRTStartup()  Line 597 + 0x17 bytes    C

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110531/d183bd11/attachment-0001.html
From DCarreira at edia.pt  Tue May 31 08:05:40 2011
From: DCarreira at edia.pt (Duarte Carreira)
Date: Tue May 31 09:48:01 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>

Paul,

The schema.table is the most similar to the structure of the fgdb, but may be unwanted complexity. Can this be an option? Like "yes, consider the dataset name"? Or "no, discard dataset name". I can see myself in both situations...

Is the driver read only? If not, what will happen when you try the reverse? From PgSql to fgdb?

Duarte

-----Mensagem original-----
De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
Enviada: segunda-feira, 30 de Maio de 2011 22:47
Para: gdal-dev@lists.osgeo.org
Assunto: [gdal-dev] Table Names (FGDB)

So, my goal is to map information from FGDB to PostGIS and as much
fidelity as possible.

FGDB includes a class called "Feature Dataset" which is basically a
folder that holds "Feature Class" objects, which map directly to OGR
layers. So the "Feature Dataset" then acts a good deal like a schema
in PostGIS.

I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
you to write to a schema without schema-qualified table names, and
that it also notices when table names are schema qualified and puts
them in the appropriate place. So the name of a layer read from a
schema would show up in OGR as "schemaname.tablename".

In FGDB, we have the "path" of a Feature Class or Table, which looks
like this \FeatureDataset\FeatureClass. Similar to the schema
qualification, yet different. As it stands right now, the
FeatureDataset portion of the path is discarded in the public API, so
that the OGR layer name is just the FeatureClass, with no reference to
the FeatureDataset. That makes it hard to create a mapping from FGDB
(\FeatureDataset\FeatureClass) to PostGIS
(FeatureDataset.FeatureClass).

The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
as the layer name, which "Gets the query name (the name to use in SQL
statements) of a table based on its path". If it returned the path
name, then the FeatureDataset qualification information could be
preserved in other contexts. On the other hand, perhaps the QueryName
is more useful to more users than the path? It looks like the
QueryName is expected to be unique, so probably FeatureClass and Table
names have to be unique regardless of what FeatureDataset they appear
in (true?).

So my options are:

(a) - change the current OGR layer name to the path name
(b) - change the current OGR layer name to a "schema.table" analogue
and handle appropriately
(c) - leave the current OGR layer name as is ("tablename" regardless
of containing folders) and make a FGDB-only method for accessing the
pathname for my particular purposes

Preferences?

P.

From warmerdam at pobox.com  Tue May 31 09:15:05 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 31 10:51:17 2011
Subject: [gdal-dev] ERDASJP2 Debug builds crash
In-Reply-To: <6BF44CD613458D479057BDB27207F2E0062A3C59@omgsvr02.omg.local>
References: <6BF44CD613458D479057BDB27207F2E0062A3C59@omgsvr02.omg.local>
Message-ID: <4DE4E9D9.5040200@pobox.com>

On 11-05-31 07:20 AM, Emmet Spier wrote:
> All,
>
> I have been trying to build GDAL with ECWJP2 support. I have built a test
> program using exactly the same build environment (vc80) and flags as the gdal
> default gdal build enviroment. In Debug builds in or out of the debugger I
> experience a crash in the ERDAS (debug) dll on GDALClose(). Below I include
> full details demonstrating the vanilla test carried out.
>
> If anyone could offer thoughts on what I might be doing wrong I would be very
> grateful.
>
> Emmet.
>
> ----
>
> I build gdal 1.8 using "nmake /f makefile.vc DEBUG=1" having set the ECW
> variables in nmake.opt
>
> ------- BUILD EXTRACT FOLLOWS SHOWING 'Default' DEBUG BUILD ----------
>
> D:\ThirdPartyBuilds\GDAL\yagb\gdal-1.8.0\frmts>cd ecw && nmake /nologo /f
> makefile.vc && cd .. || exit 1
>
> cl /nologo /MD /EHsc /Zi /W4 /D_CRT_SECURE_NO_DEPRECATE
> /D_CRT_NONSTDC_NO_DEPRECATE /Fd..\..\gdal18.pdb /DDEBUG -I..\..\port
> -I..\..\ogr -I..\..\gcore -I..\..\alg -I..\..\ogr\ogrsf_frmt


Emmet,

To the best of my knowledge adding DEBUG=1 to the build does not use the
windows debug runtime, it just builds with /Zi (turn on debug information).
So I presume the runtime choices are not compatible with a debug runtime
build of the ECW SDK.

I normally do not build GDAL with the debug runtime but if you really want
to you are likely going to have adjust the flags yourself.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From toni.pignataro at wheregroup.com  Tue May 31 09:29:07 2011
From: toni.pignataro at wheregroup.com (Toni Pignataro)
Date: Tue May 31 11:06:03 2011
Subject: [gdal-dev] creating overview image wit gdaladdo
Message-ID: <4DE4ED23.5060608@wheregroup.com>

Hello,

I am trying to create an overview image with gdaladdo and tried out 
different resampling parameter. My results looks fine on large scale, 
but zooming out (small scale) the image looks really poor. What I want 
to to achieve or reproduce is an effect like in ArcMap. Here embedding 
an black and white image and enabling the 'create Pyramids' option, it 
generates a really smooth image on small scale. Any idea or suggestion 
how to achieve this effect? Or is this an special ArcMap effect?

Thanks for any suggestions and best regards,
Toni Pignataro
From bfraser at geoanalytic.com  Tue May 31 09:40:18 2011
From: bfraser at geoanalytic.com (Brent Fraser)
Date: Tue May 31 11:17:44 2011
Subject: [gdal-dev] Clipping multi-polygons shapefiles
	with	Geometry.Intersection . Any help to fix out my method?
In-Reply-To: <1306826896293-6421682.post@n2.nabble.com>
References: <122691025.1282616.1306498940052.JavaMail.root@zmbs2.inria.fr>
	<1306826896293-6421682.post@n2.nabble.com>
Message-ID: <4DE4EFC2.7000008@geoanalytic.com>

It may help to supply a small test dataset that causes the problem.

Best Regards,
Brent Fraser


On 5/31/2011 1:28 AM, hajer wrote:
> No idea about this issue??
>
> Thanks for help !
>
> --
> View this message in context: http://osgeo-org.1803224.n2.nabble.com/gdal-dev-Clipping-multi-polygons-shapefiles-with-Geometry-Intersection-Any-help-to-fix-out-my-method-tp6410874p6421682.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From toni.pignataro at wheregroup.com  Tue May 31 09:41:30 2011
From: toni.pignataro at wheregroup.com (Toni Pignataro)
Date: Tue May 31 11:19:04 2011
Subject: [gdal-dev] creating overview image wit gdaladdo
In-Reply-To: <4DE4ED23.5060608@wheregroup.com>
References: <4DE4ED23.5060608@wheregroup.com>
Message-ID: <4DE4F00A.5080409@wheregroup.com>

You can find for comparison here an image with my result:
http://wheregroup.com/de/system/files/arcmapp_vs_gdaladdo.png

Am 31.05.2011 15:29, schrieb Toni Pignataro:
> Hello,
>
> I am trying to create an overview image with gdaladdo and tried out
> different resampling parameter. My results looks fine on large scale,
> but zooming out (small scale) the image looks really poor. What I want
> to to achieve or reproduce is an effect like in ArcMap. Here embedding
> an black and white image and enabling the 'create Pyramids' option, it
> generates a really smooth image on small scale. Any idea or suggestion
> how to achieve this effect? Or is this an special ArcMap effect?
>
> Thanks for any suggestions and best regards,
> Toni Pignataro
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From warmerdam at pobox.com  Tue May 31 09:53:17 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 31 11:31:21 2011
Subject: [gdal-dev] creating overview image wit gdaladdo
In-Reply-To: <4DE4ED23.5060608@wheregroup.com>
References: <4DE4ED23.5060608@wheregroup.com>
Message-ID: <4DE4F2CD.50403@pobox.com>

On 11-05-31 09:29 AM, Toni Pignataro wrote:
> Hello,
>
> I am trying to create an overview image with gdaladdo and tried out different
> resampling parameter. My results looks fine on large scale, but zooming out
> (small scale) the image looks really poor. What I want to to achieve or
> reproduce is an effect like in ArcMap. Here embedding an black and white image
> and enabling the 'create Pyramids' option, it generates a really smooth image
> on small scale. Any idea or suggestion how to achieve this effect? Or is this
> an special ArcMap effect?

Toni,

Is your base image a 1bit black and white image?  If so, you might want
to try AVERAGE_BIT2GRAYSCALE as the resampling algorithm.  This is a
special algorithm (implemented for ArcGIS) that produces greyscale overviews
for one 1bit black and white images.  Note that not all applications will
handle the situation of greyscale overviews on a 1 bit base image gracefully.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From pramsey at cleverelephant.ca  Tue May 31 12:43:15 2011
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Tue May 31 14:30:39 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>
Message-ID: <BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>

This is why I'm looking for guidance from the OGR experts... what
layer name styles work best for interoperation? If I emit schema.table
layers on read, will apps be happy or sad?

The driver is moving towards read/write. I will have no trouble
dealing with schema.table names as I can just map them to
\FeatureDataset\FeatureClass under the covers, and create new
FeatureDataset folders as necessary.

P.

On Tue, May 31, 2011 at 5:05 AM, Duarte Carreira <DCarreira@edia.pt> wrote:
> Paul,
>
> The schema.table is the most similar to the structure of the fgdb, but may be unwanted complexity. Can this be an option? Like "yes, consider the dataset name"? Or "no, discard dataset name". I can see myself in both situations...
>
> Is the driver read only? If not, what will happen when you try the reverse? From PgSql to fgdb?
>
> Duarte
>
> -----Mensagem original-----
> De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
> Enviada: segunda-feira, 30 de Maio de 2011 22:47
> Para: gdal-dev@lists.osgeo.org
> Assunto: [gdal-dev] Table Names (FGDB)
>
> So, my goal is to map information from FGDB to PostGIS and as much
> fidelity as possible.
>
> FGDB includes a class called "Feature Dataset" which is basically a
> folder that holds "Feature Class" objects, which map directly to OGR
> layers. So the "Feature Dataset" then acts a good deal like a schema
> in PostGIS.
>
> I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
> you to write to a schema without schema-qualified table names, and
> that it also notices when table names are schema qualified and puts
> them in the appropriate place. So the name of a layer read from a
> schema would show up in OGR as "schemaname.tablename".
>
> In FGDB, we have the "path" of a Feature Class or Table, which looks
> like this \FeatureDataset\FeatureClass. Similar to the schema
> qualification, yet different. As it stands right now, the
> FeatureDataset portion of the path is discarded in the public API, so
> that the OGR layer name is just the FeatureClass, with no reference to
> the FeatureDataset. That makes it hard to create a mapping from FGDB
> (\FeatureDataset\FeatureClass) to PostGIS
> (FeatureDataset.FeatureClass).
>
> The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
> as the layer name, which "Gets the query name (the name to use in SQL
> statements) of a table based on its path". If it returned the path
> name, then the FeatureDataset qualification information could be
> preserved in other contexts. On the other hand, perhaps the QueryName
> is more useful to more users than the path? It looks like the
> QueryName is expected to be unique, so probably FeatureClass and Table
> names have to be unique regardless of what FeatureDataset they appear
> in (true?).
>
> So my options are:
>
> (a) - change the current OGR layer name to the path name
> (b) - change the current OGR layer name to a "schema.table" analogue
> and handle appropriately
> (c) - leave the current OGR layer name as is ("tablename" regardless
> of containing folders) and make a FGDB-only method for accessing the
> pathname for my particular purposes
>
> Preferences?
>
> P.
>
>
From chaitanya.ch at gmail.com  Tue May 31 13:37:04 2011
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue May 31 15:28:36 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>
	<BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
Message-ID: <BANLkTinvwXrpwZTv6tM-gOCTKPC_Vt1DKA@mail.gmail.com>

Paul,

PgSql is not the only driver that use the schema.table notation. I see that
OGR's MSSQLSpatial driver too uses it too. So there won't be anything new.
On the other hand, the '\' separator could lead to some confusion with
escaping in some situations.

On Tue, May 31, 2011 at 10:13 PM, Paul Ramsey <pramsey@cleverelephant.ca>wrote:

> This is why I'm looking for guidance from the OGR experts... what
> layer name styles work best for interoperation? If I emit schema.table
> layers on read, will apps be happy or sad?
>
> The driver is moving towards read/write. I will have no trouble
> dealing with schema.table names as I can just map them to
> \FeatureDataset\FeatureClass under the covers, and create new
> FeatureDataset folders as necessary.
>
> P.
>
> On Tue, May 31, 2011 at 5:05 AM, Duarte Carreira <DCarreira@edia.pt>
> wrote:
> > Paul,
> >
> > The schema.table is the most similar to the structure of the fgdb, but
> may be unwanted complexity. Can this be an option? Like "yes, consider the
> dataset name"? Or "no, discard dataset name". I can see myself in both
> situations...
> >
> > Is the driver read only? If not, what will happen when you try the
> reverse? From PgSql to fgdb?
> >
> > Duarte
> >
> > -----Mensagem original-----
> > De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
> > Enviada: segunda-feira, 30 de Maio de 2011 22:47
> > Para: gdal-dev@lists.osgeo.org
> > Assunto: [gdal-dev] Table Names (FGDB)
> >
> > So, my goal is to map information from FGDB to PostGIS and as much
> > fidelity as possible.
> >
> > FGDB includes a class called "Feature Dataset" which is basically a
> > folder that holds "Feature Class" objects, which map directly to OGR
> > layers. So the "Feature Dataset" then acts a good deal like a schema
> > in PostGIS.
> >
> > I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
> > you to write to a schema without schema-qualified table names, and
> > that it also notices when table names are schema qualified and puts
> > them in the appropriate place. So the name of a layer read from a
> > schema would show up in OGR as "schemaname.tablename".
> >
> > In FGDB, we have the "path" of a Feature Class or Table, which looks
> > like this \FeatureDataset\FeatureClass. Similar to the schema
> > qualification, yet different. As it stands right now, the
> > FeatureDataset portion of the path is discarded in the public API, so
> > that the OGR layer name is just the FeatureClass, with no reference to
> > the FeatureDataset. That makes it hard to create a mapping from FGDB
> > (\FeatureDataset\FeatureClass) to PostGIS
> > (FeatureDataset.FeatureClass).
> >
> > The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
> > as the layer name, which "Gets the query name (the name to use in SQL
> > statements) of a table based on its path". If it returned the path
> > name, then the FeatureDataset qualification information could be
> > preserved in other contexts. On the other hand, perhaps the QueryName
> > is more useful to more users than the path? It looks like the
> > QueryName is expected to be unique, so probably FeatureClass and Table
> > names have to be unique regardless of what FeatureDataset they appear
> > in (true?).
> >
> > So my options are:
> >
> > (a) - change the current OGR layer name to the path name
> > (b) - change the current OGR layer name to a "schema.table" analogue
> > and handle appropriately
> > (c) - leave the current OGR layer name as is ("tablename" regardless
> > of containing folders) and make a FGDB-only method for accessing the
> > pathname for my particular purposes
> >
> > Preferences?
> >
> > P.
> >
> >
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.
/t?a???nj?/ /k?m?r/
+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20110531/fb29d952/attachment.html
From DCarreira at edia.pt  Tue May 31 13:28:45 2011
From: DCarreira at edia.pt (Duarte Carreira)
Date: Tue May 31 15:28:42 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>
	<BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
Message-ID: <58C383B0A191E747BE79503F3EEA22BF8960B4AC37@beja012.edia.pt>

Well, I'm no expert!! As far as applications go, the few I use *had* problems with schemas other than public, but I think this has been worked out for some time now. So I think schemas are well supported - but it may be worthwhile asking qgis and gvsig how they are faring with these today...

I can hook up some people from qgis to this thread (if they're not following already...).

Duarte

-----Mensagem original-----
De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
Enviada: ter?a-feira, 31 de Maio de 2011 17:43
Para: Duarte Carreira
Cc: gdal-dev@lists.osgeo.org
Assunto: Re: [gdal-dev] Table Names (FGDB)

This is why I'm looking for guidance from the OGR experts... what
layer name styles work best for interoperation? If I emit schema.table
layers on read, will apps be happy or sad?

The driver is moving towards read/write. I will have no trouble
dealing with schema.table names as I can just map them to
\FeatureDataset\FeatureClass under the covers, and create new
FeatureDataset folders as necessary.

P.

On Tue, May 31, 2011 at 5:05 AM, Duarte Carreira <DCarreira@edia.pt> wrote:
> Paul,
>
> The schema.table is the most similar to the structure of the fgdb, but may be unwanted complexity. Can this be an option? Like "yes, consider the dataset name"? Or "no, discard dataset name". I can see myself in both situations...
>
> Is the driver read only? If not, what will happen when you try the reverse? From PgSql to fgdb?
>
> Duarte
>
> -----Mensagem original-----
> De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
> Enviada: segunda-feira, 30 de Maio de 2011 22:47
> Para: gdal-dev@lists.osgeo.org
> Assunto: [gdal-dev] Table Names (FGDB)
>
> So, my goal is to map information from FGDB to PostGIS and as much
> fidelity as possible.
>
> FGDB includes a class called "Feature Dataset" which is basically a
> folder that holds "Feature Class" objects, which map directly to OGR
> layers. So the "Feature Dataset" then acts a good deal like a schema
> in PostGIS.
>
> I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
> you to write to a schema without schema-qualified table names, and
> that it also notices when table names are schema qualified and puts
> them in the appropriate place. So the name of a layer read from a
> schema would show up in OGR as "schemaname.tablename".
>
> In FGDB, we have the "path" of a Feature Class or Table, which looks
> like this \FeatureDataset\FeatureClass. Similar to the schema
> qualification, yet different. As it stands right now, the
> FeatureDataset portion of the path is discarded in the public API, so
> that the OGR layer name is just the FeatureClass, with no reference to
> the FeatureDataset. That makes it hard to create a mapping from FGDB
> (\FeatureDataset\FeatureClass) to PostGIS
> (FeatureDataset.FeatureClass).
>
> The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
> as the layer name, which "Gets the query name (the name to use in SQL
> statements) of a table based on its path". If it returned the path
> name, then the FeatureDataset qualification information could be
> preserved in other contexts. On the other hand, perhaps the QueryName
> is more useful to more users than the path? It looks like the
> QueryName is expected to be unique, so probably FeatureClass and Table
> names have to be unique regardless of what FeatureDataset they appear
> in (true?).
>
> So my options are:
>
> (a) - change the current OGR layer name to the path name
> (b) - change the current OGR layer name to a "schema.table" analogue
> and handle appropriately
> (c) - leave the current OGR layer name as is ("tablename" regardless
> of containing folders) and make a FGDB-only method for accessing the
> pathname for my particular purposes
>
> Preferences?
>
> P.
>
>
From kavin at tsswireless.com  Tue May 31 15:23:39 2011
From: kavin at tsswireless.com (kavinmehta)
Date: Tue May 31 17:20:10 2011
Subject: [gdal-dev] Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG 4326)
 using gdaltransform
Message-ID: <1306869819331-6424186.post@n2.nabble.com>

Hi,

I would like to convert a shape file from EPSG 2229 to EPSG 4326 but am not
too sure how to do this using gdaltransform and running it from the command
line?

I tried looking at the manual and ran as per instructions, however it ended
up with a blank file. here is the i/p file details:
PROJCS["NAD_1983_StatePlane_California_V_FIPS_0405_Feet",GEOGCS["GCS_North_American_1983",DATUM["D_North_American_1983",SPHEROID["GRS_1980",6378137.0,298.257222101]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Lambert_Conformal_Conic"],PARAMETER["False_Easting",6561666.666666666],PARAMETER["False_Northing",1640416.666666667],PARAMETER["Central_Meridian",-118.0],PARAMETER["Standard_Parallel_1",34.03333333333333],PARAMETER["Standard_Parallel_2",35.46666666666667],PARAMETER["Latitude_Of_Origin",33.5],UNIT["Foot_US",0.3048006096012192]]

and i need the file in the following format:
GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]

I ran the following command:

gdaltransform -s_srs "c:\xyz\oldfile.shp" -t_srs "c:\xyz\newfile.shp"

but it did not work.

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-from-CA83-VF-EPSG-2229-to-WGS84-EPSG-4326-using-gdaltransform-tp6424186p6424186.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From jrepetto at free.fr  Tue May 31 15:33:20 2011
From: jrepetto at free.fr (Jean-Claude Repetto)
Date: Tue May 31 17:30:35 2011
Subject: [gdal-dev] Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG 4326)
	using gdaltransform
In-Reply-To: <1306869819331-6424186.post@n2.nabble.com>
References: <1306869819331-6424186.post@n2.nabble.com>
Message-ID: <4DE54280.4060702@free.fr>

On 05/31/11 21:23, kavinmehta wrote:
> Hi,
>
> I would like to convert a shape file from EPSG 2229 to EPSG 4326 but am not
> too sure how to do this using gdaltransform and running it from the command
> line?
>
>
> gdaltransform -s_srs "c:\xyz\oldfile.shp" -t_srs "c:\xyz\newfile.shp"
>
> but it did not work.

Hi,

The appropriate utility to reproject shapefiles is ogr2ogr : 
http://www.gdal.org/ogr2ogr.html

Jean-Claude
From kavin at tsswireless.com  Tue May 31 16:06:18 2011
From: kavin at tsswireless.com (kavinmehta)
Date: Tue May 31 18:05:09 2011
Subject: [gdal-dev] Re: Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG
 4326) using gdaltransform
In-Reply-To: <4DE54280.4060702@free.fr>
References: <1306869819331-6424186.post@n2.nabble.com>
	<4DE54280.4060702@free.fr>
Message-ID: <1306872378011-6424310.post@n2.nabble.com>

Thanks Jean-Claude.

I ran the following command:

>ogr2ogr -f "ESRI Shapefile" -overwrite "C:/mapdata/ABC.shp"
"C:/mapdata/ABC.shp" -T_SRS EPSG:4326

and got similar error:

ERROR 4: Unable to open EPSG support file gcs.csv.
Try setting the GDAL_DATA environment variable to point to the
directory containing EPSG csv files.
Failed to process SRS definition: EPSG:4326

How do i say this is my input and this is my output file? if i give an o/p
file name in the above command then it says it does not exist, which is
correct because i want it to create it. hence i gave the same file name with
an overwrite command but it did not work either.

Thanks for your help.
Kavin

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-from-CA83-VF-EPSG-2229-to-WGS84-EPSG-4326-using-gdaltransform-tp6424186p6424310.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From even.rouault at mines-paris.org  Tue May 31 16:23:06 2011
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue May 31 18:23:00 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>
	<BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
Message-ID: <201105312223.07073.even.rouault@mines-paris.org>

Le mardi 31 mai 2011 18:43:15, Paul Ramsey a ?crit :
> This is why I'm looking for guidance from the OGR experts... what
> layer name styles work best for interoperation? If I emit schema.table
> layers on read, will apps be happy or sad?

Not having followed the whole discussion and not sure to really understand the 
FGDB concepts, I don't think it would be very hard to propose a configuration 
option/environement variable to get the layer names reported as fully qualified 
or just the table names.

> 
> The driver is moving towards read/write. I will have no trouble
> dealing with schema.table names as I can just map them to
> \FeatureDataset\FeatureClass under the covers, and create new
> FeatureDataset folders as necessary.
> 
> P.
> 
> On Tue, May 31, 2011 at 5:05 AM, Duarte Carreira <DCarreira@edia.pt> wrote:
> > Paul,
> > 
> > The schema.table is the most similar to the structure of the fgdb, but
> > may be unwanted complexity. Can this be an option? Like "yes, consider
> > the dataset name"? Or "no, discard dataset name". I can see myself in
> > both situations...
> > 
> > Is the driver read only? If not, what will happen when you try the
> > reverse? From PgSql to fgdb?
> > 
> > Duarte
> > 
> > -----Mensagem original-----
> > De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
> > Enviada: segunda-feira, 30 de Maio de 2011 22:47
> > Para: gdal-dev@lists.osgeo.org
> > Assunto: [gdal-dev] Table Names (FGDB)
> > 
> > So, my goal is to map information from FGDB to PostGIS and as much
> > fidelity as possible.
> > 
> > FGDB includes a class called "Feature Dataset" which is basically a
> > folder that holds "Feature Class" objects, which map directly to OGR
> > layers. So the "Feature Dataset" then acts a good deal like a schema
> > in PostGIS.
> > 
> > I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
> > you to write to a schema without schema-qualified table names, and
> > that it also notices when table names are schema qualified and puts
> > them in the appropriate place. So the name of a layer read from a
> > schema would show up in OGR as "schemaname.tablename".
> > 
> > In FGDB, we have the "path" of a Feature Class or Table, which looks
> > like this \FeatureDataset\FeatureClass. Similar to the schema
> > qualification, yet different. As it stands right now, the
> > FeatureDataset portion of the path is discarded in the public API, so
> > that the OGR layer name is just the FeatureClass, with no reference to
> > the FeatureDataset. That makes it hard to create a mapping from FGDB
> > (\FeatureDataset\FeatureClass) to PostGIS
> > (FeatureDataset.FeatureClass).
> > 
> > The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
> > as the layer name, which "Gets the query name (the name to use in SQL
> > statements) of a table based on its path". If it returned the path
> > name, then the FeatureDataset qualification information could be
> > preserved in other contexts. On the other hand, perhaps the QueryName
> > is more useful to more users than the path? It looks like the
> > QueryName is expected to be unique, so probably FeatureClass and Table
> > names have to be unique regardless of what FeatureDataset they appear
> > in (true?).
> > 
> > So my options are:
> > 
> > (a) - change the current OGR layer name to the path name
> > (b) - change the current OGR layer name to a "schema.table" analogue
> > and handle appropriately
> > (c) - leave the current OGR layer name as is ("tablename" regardless
> > of containing folders) and make a FGDB-only method for accessing the
> > pathname for my particular purposes
> > 
> > Preferences?
> > 
> > P.
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev@lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
From pramsey at cleverelephant.ca  Tue May 31 16:49:38 2011
From: pramsey at cleverelephant.ca (Paul Ramsey)
Date: Tue May 31 18:50:52 2011
Subject: [gdal-dev] Table Names (FGDB)
In-Reply-To: <201105312223.07073.even.rouault@mines-paris.org>
References: <BANLkTim1FFr+Kqccq2ZkAnYV-4Gm2=unuw@mail.gmail.com>
	<58C383B0A191E747BE79503F3EEA22BF8960B4ABF9@beja012.edia.pt>
	<BANLkTimD_M=vQqvwg9RajrzxxTc9U3LNKw@mail.gmail.com>
	<201105312223.07073.even.rouault@mines-paris.org>
Message-ID: <BANLkTinh=JazbY3zaiMN-teWtcRouLtA6Q@mail.gmail.com>

Yes, the magic of the configuration option... that makes much sense.
So by default we will emit simple layer names, but we can be
configured to emit qualified names.

On Tue, May 31, 2011 at 1:23 PM, Even Rouault
<even.rouault@mines-paris.org> wrote:
> Le mardi 31 mai 2011 18:43:15, Paul Ramsey a ?crit :
>> This is why I'm looking for guidance from the OGR experts... what
>> layer name styles work best for interoperation? If I emit schema.table
>> layers on read, will apps be happy or sad?
>
> Not having followed the whole discussion and not sure to really understand the
> FGDB concepts, I don't think it would be very hard to propose a configuration
> option/environement variable to get the layer names reported as fully qualified
> or just the table names.
>
>>
>> The driver is moving towards read/write. I will have no trouble
>> dealing with schema.table names as I can just map them to
>> \FeatureDataset\FeatureClass under the covers, and create new
>> FeatureDataset folders as necessary.
>>
>> P.
>>
>> On Tue, May 31, 2011 at 5:05 AM, Duarte Carreira <DCarreira@edia.pt> wrote:
>> > Paul,
>> >
>> > The schema.table is the most similar to the structure of the fgdb, but
>> > may be unwanted complexity. Can this be an option? Like "yes, consider
>> > the dataset name"? Or "no, discard dataset name". I can see myself in
>> > both situations...
>> >
>> > Is the driver read only? If not, what will happen when you try the
>> > reverse? From PgSql to fgdb?
>> >
>> > Duarte
>> >
>> > -----Mensagem original-----
>> > De: Paul Ramsey [mailto:pramsey@cleverelephant.ca]
>> > Enviada: segunda-feira, 30 de Maio de 2011 22:47
>> > Para: gdal-dev@lists.osgeo.org
>> > Assunto: [gdal-dev] Table Names (FGDB)
>> >
>> > So, my goal is to map information from FGDB to PostGIS and as much
>> > fidelity as possible.
>> >
>> > FGDB includes a class called "Feature Dataset" which is basically a
>> > folder that holds "Feature Class" objects, which map directly to OGR
>> > layers. So the "Feature Dataset" then acts a good deal like a schema
>> > in PostGIS.
>> >
>> > I've noticed that the PgSQL driver supports a SCHEMA keyword to allow
>> > you to write to a schema without schema-qualified table names, and
>> > that it also notices when table names are schema qualified and puts
>> > them in the appropriate place. So the name of a layer read from a
>> > schema would show up in OGR as "schemaname.tablename".
>> >
>> > In FGDB, we have the "path" of a Feature Class or Table, which looks
>> > like this \FeatureDataset\FeatureClass. Similar to the schema
>> > qualification, yet different. As it stands right now, the
>> > FeatureDataset portion of the path is discarded in the public API, so
>> > that the OGR layer name is just the FeatureClass, with no reference to
>> > the FeatureDataset. That makes it hard to create a mapping from FGDB
>> > (\FeatureDataset\FeatureClass) to PostGIS
>> > (FeatureDataset.FeatureClass).
>> >
>> > The FGDB implementation currently returns "GeoDatabase.GetQueryName()"
>> > as the layer name, which "Gets the query name (the name to use in SQL
>> > statements) of a table based on its path". If it returned the path
>> > name, then the FeatureDataset qualification information could be
>> > preserved in other contexts. On the other hand, perhaps the QueryName
>> > is more useful to more users than the path? It looks like the
>> > QueryName is expected to be unique, so probably FeatureClass and Table
>> > names have to be unique regardless of what FeatureDataset they appear
>> > in (true?).
>> >
>> > So my options are:
>> >
>> > (a) - change the current OGR layer name to the path name
>> > (b) - change the current OGR layer name to a "schema.table" analogue
>> > and handle appropriately
>> > (c) - leave the current OGR layer name as is ("tablename" regardless
>> > of containing folders) and make a FGDB-only method for accessing the
>> > pathname for my particular purposes
>> >
>> > Preferences?
>> >
>> > P.
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev@lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
From warmerdam at pobox.com  Tue May 31 16:51:42 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 31 18:53:00 2011
Subject: [gdal-dev] Re: Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG
	4326) using gdaltransform
In-Reply-To: <1306872378011-6424310.post@n2.nabble.com>
References: <1306869819331-6424186.post@n2.nabble.com>
	<4DE54280.4060702@free.fr> <1306872378011-6424310.post@n2.nabble.com>
Message-ID: <4DE554DE.9000608@pobox.com>

On 11-05-31 04:06 PM, kavinmehta wrote:
> Thanks Jean-Claude.
>
> I ran the following command:
>
>> ogr2ogr -f "ESRI Shapefile" -overwrite "C:/mapdata/ABC.shp"
> "C:/mapdata/ABC.shp" -T_SRS EPSG:4326
>
> and got similar error:
>
> ERROR 4: Unable to open EPSG support file gcs.csv.
> Try setting the GDAL_DATA environment variable to point to the
> directory containing EPSG csv files.
> Failed to process SRS definition: EPSG:4326
>
> How do i say this is my input and this is my output file? if i give an o/p
> file name in the above command then it says it does not exist, which is
> correct because i want it to create it. hence i gave the same file name with
> an overwrite command but it did not work either.

Kavin,

You cannot do update in place the way you want with ogr2ogr.  I'm afraid
you will need to transform your features into a new shapefile.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kavin at tsswireless.com  Tue May 31 17:51:02 2011
From: kavin at tsswireless.com (kavinmehta)
Date: Tue May 31 19:55:52 2011
Subject: [gdal-dev] Re: Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG
 4326) using gdaltransform
In-Reply-To: <4DE554DE.9000608@pobox.com>
References: <1306869819331-6424186.post@n2.nabble.com>
	<4DE54280.4060702@free.fr>
	<1306872378011-6424310.post@n2.nabble.com>
	<4DE554DE.9000608@pobox.com>
Message-ID: <1306878662075-6424722.post@n2.nabble.com>

Thanks Frank. Would you know how to do it? i.e. what command to use to
convert a shape file from (EPSG 2229) to (EPSG 4326). I am having a hard
time doing it thru ogr2ogr however i can easily do this in FME Desktop tool
which uses ogr2ogr internally.

Thanks,
kavin Mehta.

--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-from-CA83-VF-EPSG-2229-to-WGS84-EPSG-4326-using-gdaltransform-tp6424186p6424722.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
From warmerdam at pobox.com  Tue May 31 20:29:48 2011
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue May 31 22:43:11 2011
Subject: [gdal-dev] Re: Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG
	4326) using gdaltransform
In-Reply-To: <1306878662075-6424722.post@n2.nabble.com>
References: <1306869819331-6424186.post@n2.nabble.com>
	<4DE54280.4060702@free.fr> <1306872378011-6424310.post@n2.nabble.com>
	<4DE554DE.9000608@pobox.com> <1306878662075-6424722.post@n2.nabble.com>
Message-ID: <4DE587FC.30405@pobox.com>

On 11-05-31 05:51 PM, kavinmehta wrote:
> Thanks Frank. Would you know how to do it? i.e. what command to use to
> convert a shape file from (EPSG 2229) to (EPSG 4326). I am having a hard
> time doing it thru ogr2ogr however i can easily do this in FME Desktop tool
> which uses ogr2ogr internally.

Kavin,

Something like:

   ogr2ogr -t_srs EPSG:4326 -s_srs EPSG:2229 out.shp in.shp

If the in.shp has a properly defined in.prj it will not be necessary to
use the -s_srs switch to set the source coordinate system.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent

From kavin at tsswireless.com  Tue May 31 21:59:09 2011
From: kavin at tsswireless.com (kavinmehta)
Date: Wed Jun  1 00:17:34 2011
Subject: [gdal-dev] Re: Convert from CA83-VF (EPSG 2229) to WGS84 (EPSG
 4326) using gdaltransform
In-Reply-To: <4DE587FC.30405@pobox.com>
References: <1306869819331-6424186.post@n2.nabble.com>
	<4DE54280.4060702@free.fr>
	<1306872378011-6424310.post@n2.nabble.com>
	<4DE554DE.9000608@pobox.com>
	<1306878662075-6424722.post@n2.nabble.com>
	<4DE587FC.30405@pobox.com>
Message-ID: <1306893549991-6425357.post@n2.nabble.com>

HI Frank,

thanks for your help, I did as per your reply but I still get the same error
message:

ERROR 4: Unable to open EPSG support file gcs.csv.
Try setting the GDAL_DATA environment variable to point to the
directory containing EPSG csv files.
Failed to process SRS definition: EPSG:4326



--
View this message in context: http://osgeo-org.1803224.n2.nabble.com/Convert-from-CA83-VF-EPSG-2229-to-WGS84-EPSG-4326-using-gdaltransform-tp6424186p6425357.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
