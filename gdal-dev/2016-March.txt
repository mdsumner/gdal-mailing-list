From lucadeluge at gmail.com  Tue Mar  1 04:29:32 2016
From: lucadeluge at gmail.com (Luca Delucchi)
Date: Tue, 1 Mar 2016 13:29:32 +0100
Subject: [gdal-dev] PCIDSK/PCIDSK Database File
Message-ID: <CAK4m-3xfvb2OzWn2Pco4xZAda0cgQnrC_VUe45so1vzaYopDZw@mail.gmail.com>

Hi all,

I have a problem reading a PCIDSK/PCIDSK Database File (probably
created with ENVI software).
It seems that GDAL is not able to read the coordinate system [0], I
read on the help page of this format that sometimes this can happen,
how to fix this?
should I convert all this files using -a_srs option?

[0] http://pastebin.com/NeRD012S

-- 
ciao
Luca

http://gis.cri.fmach.it/delucchi/
www.lucadelu.org

From Raphael.Suter at softec.ch  Tue Mar  1 05:46:47 2016
From: Raphael.Suter at softec.ch (Suter, Raphael (Softec))
Date: Tue, 1 Mar 2016 14:46:47 +0100
Subject: [gdal-dev] Dataloss after importing and exporting Shapefile
Message-ID: <09A80525B2D91C40A598A9184DA24DAB22817CE4@Softec-04.softec.ch>

Hi subscribers

I'm using ogr2ogr to import an ESRI Shapefile to our SQL DB (SQL 2008). When I import the file, after 50% of the time, the inserts start to fail.

Command: ogr2ogr -overwrite -f "MSSQLSpatial" "MSSQL:server=URL;database=DBNAME;uid=user;pwd=pwd;" file.shp -a_srs http://spatialreference.org/ref/epsg/2056/ -nln "gis.OGR2OGRTEST" -progress -skipfailures
Error: "ERROR 1: INSERT command for new feature failed."

So one part of the data get lost right here. But if I export the data to a Shapefile again, there will more data get lost and I'm getting the same error multiple times.

Command for export:  ogr2ogr -f "ESRI Shapefile" "H:\OGR2OGR\Files\export\shp\export.shp" "MSSQL:server=URL;database=DBNAME;uid=user;pwd=pwd;" -sql "SELECT * FROM gis.OGR2OGRTEST" -a_srs http://spatialreference.org/ref/epsg/2056/"
Error: "Warning 1: Value 41171617.503899999 of field area of feature 2667 not successfully written. Possibly due to too larger number with respect to field width"


The original shapefile is 18k in size, the new one is only 9k, so like half of the data got lost. Am I doing something wrong on the import/export?

Thank you for your help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160301/451fad99/attachment.html>

From even.rouault at spatialys.com  Tue Mar  1 10:02:29 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 1 Mar 2016 19:02:29 +0100
Subject: [gdal-dev] GDAL 2.1 release plans
In-Reply-To: <CADPhZXyo0U6CNU5-iPYP1bODrzSW_SwKzj_EkXthX059-qPbEw@mail.gmail.com>
References: <201601151511.48676.even.rouault@spatialys.com>
 <CADPhZXyo0U6CNU5-iPYP1bODrzSW_SwKzj_EkXthX059-qPbEw@mail.gmail.com>
Message-ID: <201603011902.29684.even.rouault@spatialys.com>

Le lundi 29 février 2016 22:19:03, Sean Gillies a écrit :
> On Fri, Jan 15, 2016 at 7:11 AM, Even Rouault <even.rouault at spatialys.com>
> 
> wrote:
> > Hi,
> > 
> > As I've received lately a few emails asking me about GDAL 2.1, it's time
> > to discuss that publicly.
> > 
> > To keep roughly with our yearly cycle, I think we could probably target a
> > beta
> > 1 for the beginning of April, with possibly the release happening end
> > April/beginning May if things go well (optimistic scenario : 3 weeks for
> > betas
> > + 1 week RCs).
> > 
> > Opinions ? Any candidate for being release manager ?
> > 
> > Cheers,
> > 
> > Even
> 
> I wish I could raise my hand for the release manager job, but I'm pretty
> tied up with the GeoJSON WG.
> 
> I like the time frame you've proposed. There's some work in progress I'd
> like to see in 2.1 (https://github.com/OSGeo/gdal/pull/98) and 4 weeks
> should be enough to finish it.

Hi,

I intend to cut a 2.1.0 beta1 release on March 31st, which will be the feature 
freeze and start point of the 2.1 branch.

For everybody information, are there major pieces of work (other than the 
above mentionned one) that are expected to land in trunk during this month ?

Regarding M support, the following drivers have been updated : Shapefile, 
PostGIS, MEM, FileGDB, OpenFileGDB, CSV, VRT, GeoPackage, SQLite/Spatialite. 
(Personal Geodatabase should probably work too, but untested). As well as 
ogrinfo / ogr2ogr. Earlier testers appreciated.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From szekerest at gmail.com  Tue Mar  1 10:15:19 2016
From: szekerest at gmail.com (Tamas Szekeres)
Date: Tue, 1 Mar 2016 19:15:19 +0100
Subject: [gdal-dev] GDAL 2.1 release plans
In-Reply-To: <201603011902.29684.even.rouault@spatialys.com>
References: <201601151511.48676.even.rouault@spatialys.com>
 <CADPhZXyo0U6CNU5-iPYP1bODrzSW_SwKzj_EkXthX059-qPbEw@mail.gmail.com>
 <201603011902.29684.even.rouault@spatialys.com>
Message-ID: <CACALY+QnB47gZD3TeU71mZ5cTNE=GvwWrgPGO2iR8Gien4p9uw@mail.gmail.com>

Hi Even,

I'm working on the bulk insert option for the MSSQL driver which should be
included in this release. This makes the upload ~20 times faster. Most of
the implementation is already done, but there are some further issues which
should be fixed before adding that part in the codebase.

Best regards,

Tamas


Even Rouault <even.rouault at spatialys.com> ezt írta (2016. március 1., kedd):

> Le lundi 29 février 2016 22:19:03, Sean Gillies a écrit :
> > On Fri, Jan 15, 2016 at 7:11 AM, Even Rouault <
> even.rouault at spatialys.com <javascript:;>>
> >
> > wrote:
> > > Hi,
> > >
> > > As I've received lately a few emails asking me about GDAL 2.1, it's
> time
> > > to discuss that publicly.
> > >
> > > To keep roughly with our yearly cycle, I think we could probably
> target a
> > > beta
> > > 1 for the beginning of April, with possibly the release happening end
> > > April/beginning May if things go well (optimistic scenario : 3 weeks
> for
> > > betas
> > > + 1 week RCs).
> > >
> > > Opinions ? Any candidate for being release manager ?
> > >
> > > Cheers,
> > >
> > > Even
> >
> > I wish I could raise my hand for the release manager job, but I'm pretty
> > tied up with the GeoJSON WG.
> >
> > I like the time frame you've proposed. There's some work in progress I'd
> > like to see in 2.1 (https://github.com/OSGeo/gdal/pull/98) and 4 weeks
> > should be enough to finish it.
>
> Hi,
>
> I intend to cut a 2.1.0 beta1 release on March 31st, which will be the
> feature
> freeze and start point of the 2.1 branch.
>
> For everybody information, are there major pieces of work (other than the
> above mentionned one) that are expected to land in trunk during this month
> ?
>
> Regarding M support, the following drivers have been updated : Shapefile,
> PostGIS, MEM, FileGDB, OpenFileGDB, CSV, VRT, GeoPackage,
> SQLite/Spatialite.
> (Personal Geodatabase should probably work too, but untested). As well as
> ogrinfo / ogr2ogr. Earlier testers appreciated.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org <javascript:;>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160301/ab32a914/attachment.html>

From nicolas.simon at spw.wallonie.be  Wed Mar  2 02:30:54 2016
From: nicolas.simon at spw.wallonie.be (SIMON Nicolas)
Date: Wed, 2 Mar 2016 10:30:54 +0000
Subject: [gdal-dev] OCI loses decimal result
Message-ID: <F02D54DF5576D84C86C23A39A792DC7E31750400@se0002v.wallonie.intra>

Dear GDAL developer,

        I run this command (GDAL 2.0.2, released 2016/01/26)

ogr2ogr -f "ESRI Shapefile" Test2.shp OCI:user/pwd at instance -sql "SELECT RID, ROUND(sdo_geom.sdo_area (s.geom, 0.01) / 10000,4) SURF_HA, s.GEOM FROM SIG_SOCS s WHERE RID IN (7778067,8644604)"

        And I get

Warning 1: Value '.0192' of field SELECT RID, ROUND(sdo_geom.sdo_area (s.geom, 0.01) / 10000,4) SURF_HA, s.GEOM FROM SIG_SOCS s WHERE RID IN (7778067,8644604).SURF_HA parsed incompletely to integer 0.
Warning 1: Value '10.1964' of field SELECT RID, ROUND(sdo_geom.sdo_area (s.geom, 0.01) / 10000,4) SURF_HA, s.GEOM FROM SIG_SOCS s WHERE RID IN (7778067,8644604).SURF_HA parsed incompletely to integer 10.

        SURF_HA seems interpreted as integer instead of real value.
        Is there a way to force SURF_HA to interpreted as real with 4 decimal ?

        Thanks for your hint

Nicolas Simon

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160302/61a9f555/attachment.html>

From timothy.astle at caris.com  Wed Mar  2 05:58:28 2016
From: timothy.astle at caris.com (Timothy Astle)
Date: Wed, 2 Mar 2016 09:58:28 -0400
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
Message-ID: <56D6F184.10101@caris.com>

Does anyone know why the WMS Driver defaults to version 1.1.1 instead of 
1.3.0 by default?  Does anyone have any objections with this changing to 
1.3.0?  It seems like 1.3.0 would fall more into line with the 
specifications content negotiation.

https://github.com/OSGeo/gdal/blob/trunk/gdal/frmts/wms/wmsdriver.cpp#L96
http://www.gdal.org/frmt_wms.html
"WMS version. (optional, defaults to 1.1.1)"

-- 
Tim Astle
Development Manager for Web Technologies

CARIS
115 Waggoners Lane
Fredericton, New Brunswick
Canada     E3B 2L4
Tel: + 1 (506) 458-8533
Fax: +1 (506) 459-3849
www.caris.com

CARIS World Tour 2016
Join Us! For more information
www.caris.com/worldtour

Connect with CARIS
Twitter  |  LinkedIn  |  Facebook  |  YouTube

Download your free copy of CARIS Easy View today! www.caris.com/easyview/


This email and any files transmitted with it are confidential and intended only for the addressee(s). If you are not the intended recipient(s) please notify us by email reply. You should not use, disclose, distribute or copy this communication if received in error.
Any views or opinions expressed in this email are solely those of the author and do not necessarily represent those of the company. No binding contract will result from this email until such time as a written document is signed on behalf of the company.


From ijturton at gmail.com  Wed Mar  2 06:20:37 2016
From: ijturton at gmail.com (Ian Turton)
Date: Wed, 2 Mar 2016 14:20:37 +0000
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
In-Reply-To: <56D6F184.10101@caris.com>
References: <56D6F184.10101@caris.com>
Message-ID: <CA+=cGJnKHR_qtF-vTbUi=Sbbk0fCgPetML56uftFZn+rVn706A@mail.gmail.com>

There are lots of reasons to stick with 1.1.0 and few reasons to move to
1.3 so I would guess anyone who knows they want 1.3 will want to specify it
to be sure while naive users will be less suprised at getting a 1.0.0
version back if they haven't thought about it.

Ian

On 2 March 2016 at 13:58, Timothy Astle <timothy.astle at caris.com> wrote:

> Does anyone know why the WMS Driver defaults to version 1.1.1 instead of
> 1.3.0 by default?  Does anyone have any objections with this changing to
> 1.3.0?  It seems like 1.3.0 would fall more into line with the
> specifications content negotiation.
>
> https://github.com/OSGeo/gdal/blob/trunk/gdal/frmts/wms/wmsdriver.cpp#L96
> http://www.gdal.org/frmt_wms.html
> "WMS version. (optional, defaults to 1.1.1)"
>
> --
> Tim Astle
> Development Manager for Web Technologies
>
> CARIS
> 115 Waggoners Lane
> Fredericton, New Brunswick
> Canada     E3B 2L4
> Tel: + 1 (506) 458-8533
> Fax: +1 (506) 459-3849
> www.caris.com
>
> CARIS World Tour 2016
> Join Us! For more information
> www.caris.com/worldtour
>
> Connect with CARIS
> Twitter  |  LinkedIn  |  Facebook  |  YouTube
>
> Download your free copy of CARIS Easy View today! www.caris.com/easyview/
>
>
> This email and any files transmitted with it are confidential and intended
> only for the addressee(s). If you are not the intended recipient(s) please
> notify us by email reply. You should not use, disclose, distribute or copy
> this communication if received in error.
> Any views or opinions expressed in this email are solely those of the
> author and do not necessarily represent those of the company. No binding
> contract will result from this email until such time as a written document
> is signed on behalf of the company.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
Ian Turton
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160302/6af49086/attachment.html>

From jmckenna at gatewaygeomatics.com  Wed Mar  2 06:05:31 2016
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Wed, 2 Mar 2016 10:05:31 -0400
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
In-Reply-To: <56D6F184.10101@caris.com>
References: <56D6F184.10101@caris.com>
Message-ID: <56D6F32B.7020100@gatewaygeomatics.com>

Hi Tim,

I can tell you just by use alone, the 1.1.1 standard is most prevalent. 
  In the MapServer world, it is 1.1.1 that dominates.  I also find, 
having been at this a long time now, that the 1.1.1 specification is 
most likely to be supported, if WMS is supported at all, by other 
mapping engines.

So I support the 1.1.1 default in the WMS mini-driver.

Others of course may disagree with me :)

-jeff



On 2016-03-02 9:58 AM, Timothy Astle wrote:
> Does anyone know why the WMS Driver defaults to version 1.1.1 instead of
> 1.3.0 by default?  Does anyone have any objections with this changing to
> 1.3.0?  It seems like 1.3.0 would fall more into line with the
> specifications content negotiation.
>
> https://github.com/OSGeo/gdal/blob/trunk/gdal/frmts/wms/wmsdriver.cpp#L96
> http://www.gdal.org/frmt_wms.html
> "WMS version. (optional, defaults to 1.1.1)"
>


-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/

From michael.smith.erdc at gmail.com  Wed Mar  2 06:37:05 2016
From: michael.smith.erdc at gmail.com (Michael Smith)
Date: Wed, 02 Mar 2016 09:37:05 -0500
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
In-Reply-To: <56D6F32B.7020100@gatewaygeomatics.com>
References: <56D6F184.10101@caris.com> <56D6F32B.7020100@gatewaygeomatics.com>
Message-ID: <D2FC648A.127571%michael.smith.erdc@gmail.com>

Completely concur with Jeff. Everyone avoids 1.3.0 if they can help it.
1.1.1 is the de-facto standard version.

Mike

----
Michael Smith

US Army Corps
Remote Sensing GIS/Center
michael.smith at usace.army.mil




-----Original Message-----
From: gdal-dev <gdal-dev-bounces at lists.osgeo.org> on behalf of Jeff
McKenna <jmckenna at gatewaygeomatics.com>
Date: Wednesday, March 2, 2016 at 9:05 AM
To: <gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] WMS Driver defaulting to version 1.1.1

>Hi Tim,
>
>I can tell you just by use alone, the 1.1.1 standard is most prevalent.
>  In the MapServer world, it is 1.1.1 that dominates.  I also find,
>having been at this a long time now, that the 1.1.1 specification is
>most likely to be supported, if WMS is supported at all, by other
>mapping engines.
>
>So I support the 1.1.1 default in the WMS mini-driver.
>
>Others of course may disagree with me :)
>
>-jeff
>
>
>
>On 2016-03-02 9:58 AM, Timothy Astle wrote:
>> Does anyone know why the WMS Driver defaults to version 1.1.1 instead of
>> 1.3.0 by default?  Does anyone have any objections with this changing to
>> 1.3.0?  It seems like 1.3.0 would fall more into line with the
>> specifications content negotiation.
>>
>> 
>>https://github.com/OSGeo/gdal/blob/trunk/gdal/frmts/wms/wmsdriver.cpp#L96
>> http://www.gdal.org/frmt_wms.html
>> "WMS version. (optional, defaults to 1.1.1)"
>>
>
>
>-- 
>Jeff McKenna
>MapServer Consulting and Training Services
>http://www.gatewaygeomatics.com/
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev



From timothy.astle at caris.com  Wed Mar  2 07:09:05 2016
From: timothy.astle at caris.com (Timothy Astle)
Date: Wed, 2 Mar 2016 11:09:05 -0400
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
In-Reply-To: <56D6F184.10101@caris.com>
References: <56D6F184.10101@caris.com>
Message-ID: <56D70211.9010105@caris.com>

To be clear, I personally don't have a problem with 1.1.1.  My concern 
is about version negotiation as a WMS client.  I've seen users omit the 
version and then when something doesn't behave as expected, they 
manually (in a web browser) make a request as follows:

http://www.example.com?request=GetCapabilities&service=WMS

But as well all know, that'd return a WMS 1.3.0 service capabilities 
document (assuming the server supports 1.3.0).  So they look at that 
document and cannot identify the problem.  Then they fuddle around and 
eventually realize that GDAL overrides the version and it makes a 
request as follows:

http://www.example.com?request=GetCapabilities&service=WMS&version=1.1.1

I think WMS 1.3.0 has been annoying since day one, especially with 
attention to axis ordering (ISO-ifying). *cough, cough*  However, I 
can't recall seeing a server that didn't support 1.3.0.  I have no 
objection about a user choosing a default version to use by explicitly 
specifying it.  My objection is that if a version is omitted, the 
software chooses an old default (which doesn't fit into typical version 
negotiation with a server) which can cause confusion.

I'm wondering if we're past the 1.3.0 "hate-on" yet? :)  It does seem a 
bit "big brother" to peg OWS client negotiation to a old version in a 
library.  I assume there are reasons, and I've been the first in this 
thread to cite possibly the biggest one.

Thanks for your feedback so far.  Everyone loves a good WMS 1.3.0 
discussion :)

Tim

On 02/03/2016 9:58 AM, Timothy Astle wrote:
> Does anyone know why the WMS Driver defaults to version 1.1.1 instead 
> of 1.3.0 by default?  Does anyone have any objections with this 
> changing to 1.3.0?  It seems like 1.3.0 would fall more into line with 
> the specifications content negotiation.
>
> https://github.com/OSGeo/gdal/blob/trunk/gdal/frmts/wms/wmsdriver.cpp#L96
> http://www.gdal.org/frmt_wms.html
> "WMS version. (optional, defaults to 1.1.1)"
>

From even.rouault at spatialys.com  Wed Mar  2 07:13:39 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 2 Mar 2016 16:13:39 +0100
Subject: [gdal-dev] MapInfo and number format limits
In-Reply-To: <loom.20160213T135527-326@post.gmane.org>
References: <loom.20160213T135527-326@post.gmane.org>
Message-ID: <201603021613.40036.even.rouault@spatialys.com>

Le samedi 13 février 2016 13:58:59, Jukka Rahkonen a écrit :
> Hi,
> 
> This question
> http://gis.stackexchange.com/questions/180627/qgis-ogr-shp-to-tab-export-cr
> ashing-mapinfo-due-to-number-format-issues and a referred forum topic
> https://groups.google.com/forum/#!topic/mapinfo-l/sO-wcp9bnuQ claim that
> MapInfo format allows number format to be 20,16) or shorter. Is this known
> and should the mitab driver handle the case?

I've got confirmation that the maximum field width supported by MapInfo is 20 
characters, and the maximum precision is width - 2 (for decimal point and 
sign), up to a maximum of 16 characters.
Could be worth a ticket.

> 
> 
> -Jukka Rahkonen-
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From damian.dixon at gmail.com  Wed Mar  2 07:34:30 2016
From: damian.dixon at gmail.com (Damian Dixon)
Date: Wed, 2 Mar 2016 15:34:30 +0000
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
In-Reply-To: <56D70211.9010105@caris.com>
References: <56D6F184.10101@caris.com> <56D70211.9010105@caris.com>
Message-ID: <CAJjdW1wS53EZiWdzMY3kaM_HJ+D95PerZONjQqufOcknusXTLQ@mail.gmail.com>

I would concur with Ian and Jeff.

My experience of WMS servers is that those that say that they are 1.3.0 are
miss-configured or are just not following the standard well enough.

Not all of the WMS 1.3.0 servers are at fault but enough that it is safer
and less time consuming to default to 1.1.0.

Because of this we changed the default behavior of our software to ask for
1.1.1 first unless the user has specifically asked us to use 1.3.0.

Regards
Damian

On 2 March 2016 at 15:09, Timothy Astle <timothy.astle at caris.com> wrote:

> To be clear, I personally don't have a problem with 1.1.1.  My concern is
> about version negotiation as a WMS client.  I've seen users omit the
> version and then when something doesn't behave as expected, they manually
> (in a web browser) make a request as follows:
>
> http://www.example.com?request=GetCapabilities&service=WMS
>
> But as well all know, that'd return a WMS 1.3.0 service capabilities
> document (assuming the server supports 1.3.0).  So they look at that
> document and cannot identify the problem.  Then they fuddle around and
> eventually realize that GDAL overrides the version and it makes a request
> as follows:
>
> http://www.example.com?request=GetCapabilities&service=WMS&version=1.1.1
>
> I think WMS 1.3.0 has been annoying since day one, especially with
> attention to axis ordering (ISO-ifying). *cough, cough*  However, I can't
> recall seeing a server that didn't support 1.3.0.  I have no objection
> about a user choosing a default version to use by explicitly specifying
> it.  My objection is that if a version is omitted, the software chooses an
> old default (which doesn't fit into typical version negotiation with a
> server) which can cause confusion.
>
> I'm wondering if we're past the 1.3.0 "hate-on" yet? :)  It does seem a
> bit "big brother" to peg OWS client negotiation to a old version in a
> library.  I assume there are reasons, and I've been the first in this
> thread to cite possibly the biggest one.
>
> Thanks for your feedback so far.  Everyone loves a good WMS 1.3.0
> discussion :)
>
> Tim
>
> On 02/03/2016 9:58 AM, Timothy Astle wrote:
>
>> Does anyone know why the WMS Driver defaults to version 1.1.1 instead of
>> 1.3.0 by default?  Does anyone have any objections with this changing to
>> 1.3.0?  It seems like 1.3.0 would fall more into line with the
>> specifications content negotiation.
>>
>> https://github.com/OSGeo/gdal/blob/trunk/gdal/frmts/wms/wmsdriver.cpp#L96
>> http://www.gdal.org/frmt_wms.html
>> "WMS version. (optional, defaults to 1.1.1)"
>>
>> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160302/370b54f1/attachment.html>

From even.rouault at spatialys.com  Wed Mar  2 09:07:55 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 2 Mar 2016 18:07:55 +0100
Subject: [gdal-dev] Fwd: [OSGeo-Discuss] GSoC 2016: call for mentors
Message-ID: <201603021807.55684.even.rouault@spatialys.com>

FYI

----------  Message transmis  ----------

Sujet : [OSGeo-Discuss] GSoC 2016: call for mentors
Date : mercredi 02 mars 2016, 18:03:31
De : Margherita Di Leo <diregola at gmail.com>
À : "OSGeo-SoC" <soc at lists.osgeo.org>, OSGeo Discussions 
<discuss at lists.osgeo.org>

Dear All,

Following the acceptance of OSGeo as mentor org also this year, we are now
recruiting mentors! Remember that mentors are the building blocks of GSoC:
we are not going anywhere without you! [1]

There is nothing like automatic mentors renewal. If you are available for
mentoring this year (again), you need to fill in this simple form [2] and
read and commit to the mentors’ responsibilities here [3]. If you’re not
yet subscribed to the soc ML [4], please do so. Remember that we require
two mentors for each accepted idea: so please spread the word among your
community and recruit mentors!

Looking forward to build a strong team of geo-mentors!

Madi and Anne

your OSGeo GSoC admins

[1]
https://images.duckduckgo.com/iu/?u=http%3A%2F%2Fi.qkme.me%2F36e89g.jpg&f=1

[2]
https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2016_Administrative#Mentors

[3]
https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2016_Administrative#A_Mentor.27s_Responsibilities

[4] http://lists.osgeo.org/mailman/listinfo/soc


-- 
Margherita Di Leo

-------------------------------------------------------
-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jpass at bgs.ac.uk  Wed Mar  2 07:55:31 2016
From: jpass at bgs.ac.uk (Passmore, James H.)
Date: Wed, 2 Mar 2016 15:55:31 +0000
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
In-Reply-To: <56D70211.9010105@caris.com>
References: <56D6F184.10101@caris.com> <56D70211.9010105@caris.com>
Message-ID: <VI1PR06MB145450AFC4C1968DED81415DEBBC0@VI1PR06MB1454.eurprd06.prod.outlook.com>

I agree with all those that think that a request like http://myservice/ows?service=WMS&request=GetCapabilities& should return the highest supported version of WMS on that server (currently 1.3.0 but in the near? future 1.4.0 and then  2.0.0...).  This is the expected behaviour according the to the WMS specifications (indeed most OGC services I think), so it feels a bit wrong to deliberately go against it (so much for standards).

Supplying the optional version number http://myservice/ows?service=WMS&request=GetCapabilities&version=1.1.1& doesn't actually guarantee a response in that version either, it's just a preference in the opening negotiation; it only should be honoured if the server can support that version.

James
________________________________
 This message (and any attachments) is for the recipient only. NERC is subject to the Freedom of Information Act 2000 and the contents of this email and any reply you make may be disclosed by NERC unless it is exempt from release under the Act. Any material supplied to NERC may be stored in an electronic records management system.
________________________________

From kmrtnjscnc at gmail.com  Wed Mar  2 11:42:05 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Thu, 3 Mar 2016 01:12:05 +0530
Subject: [gdal-dev] Request for assignment to defect
Message-ID: <CA+uDmDZ2FnHEOzW2V-C+OCNOmLXHbfGcs8nUXFF7SYSTmfKNWQ@mail.gmail.com>

Hello,
I would like to work on the defect listed under #6388 ( Get rid of the
remaining hard coded pi constants)

https://trac.osgeo.org/gdal/ticket/6388

Also, if we're to remove the hard coded pi constants, shouldn't we also
remove the ln2 constants, as that too is defined under math.h?

Thank you

Tanuj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160303/ecdb0880/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Wed Mar  2 11:53:26 2016
From: jukka.rahkonen at maanmittauslaitos.fi (Jukka Rahkonen)
Date: Wed, 2 Mar 2016 19:53:26 +0000 (UTC)
Subject: [gdal-dev] WMS Driver defaulting to version 1.1.1
References: <56D6F184.10101@caris.com> <56D70211.9010105@caris.com>
 <VI1PR06MB145450AFC4C1968DED81415DEBBC0@VI1PR06MB1454.eurprd06.prod.outlook.com>
Message-ID: <loom.20160302T204334-903@post.gmane.org>

Passmore, James H. <jpass <at> bgs.ac.uk> writes:

> 
> I agree with all those that think that a request like
> http://myservice/ows?service=WMS&request=GetCapabilities& should return
the highest supported
> version of WMS on that server (currently 1.3.0 but in the near? future
1.4.0 and then  2.0.0...).  This is the
> expected behaviour according the to the WMS specifications (indeed most
OGC services I think), so it
> feels a bit wrong to deliberately go against it (so much for standards).
> 
> Supplying the optional version number
> http://myservice/ows?service=WMS&request=GetCapabilities&version=1.1.1&
doesn't actually
> guarantee a response in that version either, it's just a preference in the
opening negotiation; it only
> should be honoured if the server can support that version.

I might agree with James if the request is sent without explicit version
number. However, I would deny such requests and the whole theoretically
brilliant negotiation system by making the version tag compulsory in the XML
description file http://www.gdal.org/frmt_wms.html. The version number
lottery makes is much harder for the average users to find out what goes
wrong when something goes wrong between the client and server.

-Jukka Rahkonen-


From lorenzo.bottaccioli at gmail.com  Wed Mar  2 15:44:20 2016
From: lorenzo.bottaccioli at gmail.com (Lorenzo Bottaccioli)
Date: Thu, 3 Mar 2016 00:44:20 +0100
Subject: [gdal-dev] Parllelization slows down single gdal_calc process in
	python
Message-ID: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>

Hi,
I'm trying to parallelize a code for raster calculation with Gdal_calc.py,
but i have relay bad results. I need to perform several raster operation
like FILE_out=FILA_a*k1+FILE_b*k2.

This is the code I'm usign:

import pandas as pdimport osimport timefrom multiprocessing import Pool

df = pd.read_csv('input.csv', sep=";", index_col='Date Time', decimal=',')
df.index = pd.to_datetime(df.index, unit='s')

start_time = time.time()
pool=Pool(processes=8)
pool.map(mapcalc,[df.iloc[i*20:(i+1)*20] for i in range(len(df.index)/20+1)])
pool.close()
pool.join()print("--- %s seconds ---" % (time.time() - start_time))

def mapcalc(df):

    month={1:'17',2:'47',3:'75',4:'105',5:'135',6:'162',7:'198',8:'228',9:'258',10:'288',11:'318',12:'344'}
    hour={4:'04',5:'05',6:'06',7:'07',8:'08',9:'09',10:'10',11:'11',12:'12',13:'13',14:'14',15:'15',16:'16',17:'17',18:'18',19:'19',20:'20',21:'21',22:'22'}
    minute={0:'00',15:'15',30:'30',45:'45'}
    directory='/home/user/Raster/'
    tmp='/home/usr/tmp/'
    for i in df.index:
        if 4<=i.hour<22:
            #try:
        timeg=time.time()
            os.system('gdal_calc.py -A
'+directory+'filea_'+month[i.month]+'_'+hour[i.hour]+minute[i.minute]+'
-B '+directory+'fileb_'+month[i.month]+'_'+hour[i.hour]+minute[i.minute]+'
--outfile='+tmp+str(i.date())+'_'+str(i.time())+'
--calc=A*'+str(df.ix[i,'k1'])+'+B*'+str(df.ix[i,'k2']))
            print(i,"--- %s seconds ---" % (time.time() - timeg))

If i run the code with out parallelization it takes around 650s to complete
the calculation. Each process of the for loop is executed in ~10s. If i run
with parallelization it takes ~900s to complete the procces and each
process of the for loop it takes ~30s.

How is that? how can i Fix this?

Best L
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160303/c1e31037/attachment-0001.html>

From flippmoke at gmail.com  Wed Mar  2 16:57:58 2016
From: flippmoke at gmail.com (Flippmoke)
Date: Wed, 2 Mar 2016 18:57:58 -0600
Subject: [gdal-dev] Parllelization slows down single gdal_calc process
	in python
In-Reply-To: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
References: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
Message-ID: <DE24006E-FB94-48B0-836B-96C4A2428063@gmail.com>

On my phone so can explain fully, but there are several blockers in GDAL Library that prevent multi threading from being effective. Try using different processes if it is completely required.

Blake Thompson

> On Mar 2, 2016, at 5:44 PM, Lorenzo Bottaccioli <lorenzo.bottaccioli at gmail.com> wrote:
> 
> Hi,
> I'm trying to parallelize a code for raster calculation with Gdal_calc.py, but i have relay bad results. I need to perform several raster operation like FILE_out=FILA_ak1+FILE_bk2.
> 
> This is the code I'm usign:
> 
> import pandas as pd
> import os
> import time
> from multiprocessing import Pool
> 
> df = pd.read_csv('input.csv', sep=";", index_col='Date Time', decimal=',')
> df.index = pd.to_datetime(df.index, unit='s')
> 
> start_time = time.time()
> pool=Pool(processes=8)
> pool.map(mapcalc,[df.iloc[i*20:(i+1)*20] for i in range(len(df.index)/20+1)])
> pool.close()
> pool.join()
> print("--- %s seconds ---" % (time.time() - start_time))
> 
> 
> def mapcalc(df):
> 
>     month={1:'17',2:'47',3:'75',4:'105',5:'135',6:'162',7:'198',8:'228',9:'258',10:'288',11:'318',12:'344'}
>     hour={4:'04',5:'05',6:'06',7:'07',8:'08',9:'09',10:'10',11:'11',12:'12',13:'13',14:'14',15:'15',16:'16',17:'17',18:'18',19:'19',20:'20',21:'21',22:'22'}
>     minute={0:'00',15:'15',30:'30',45:'45'}
>     directory='/home/user/Raster/'
>     tmp='/home/usr/tmp/'
>     for i in df.index:
>         if 4<=i.hour<22:
>             #try:
>         timeg=time.time()
>             os.system('gdal_calc.py -A '+directory+'filea_'+month[i.month]+'_'+hour[i.hour]+minute[i.minute]+' -B '+directory+'fileb_'+month[i.month]+'_'+hour[i.hour]+minute[i.minute]+' --outfile='+tmp+str(i.date())+'_'+str(i.time())+' --calc=A*'+str(df.ix[i,'k1'])+'+B*'+str(df.ix[i,'k2']))
>             print(i,"--- %s seconds ---" % (time.time() - timeg))
> If i run the code with out parallelization it takes around 650s to complete the calculation. Each process of the for loop is executed in ~10s. If i run with parallelization it takes ~900s to complete the procces and each process of the for loop it takes ~30s.
> 
> How is that? how can i Fix this?
> 
> Best L
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160302/d5bf2bd2/attachment-0001.html>

From matthias at opengis.ch  Thu Mar  3 02:31:52 2016
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 3 Mar 2016 11:31:52 +0100
Subject: [gdal-dev] make install fails
Message-ID: <56D81298.2040200@opengis.ch>

Hi,

I am trying to compile and install gdal in docker (ubuntu 12.04)
container with python3 and in a custom prefix (/home/travis/deps),
clang-3.6 is used. configure and make run fine, however, make install fails:

/bin/bash -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions
-Wl,-Bsymbolic-functions -Wl,-z,relro
build/temp.linux-x86_64-3.2/extensions/osr_wrap.o -L../../.libs -L../../
-L/usr/src/gdal-2.0.2/lib -lgdal -o
build/lib.linux-x86_64-3.2/osgeo/_osr.cpython-32mu.so
/bin/bash: -d: invalid option
error: command '/bin/bash' failed with exit status 1

Any idea what could be the cause for this? I am grateful for any hints!

Thank you in advance,
Matthias

From even.rouault at spatialys.com  Thu Mar  3 02:49:47 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 3 Mar 2016 11:49:47 +0100
Subject: [gdal-dev] make install fails
In-Reply-To: <56D81298.2040200@opengis.ch>
References: <56D81298.2040200@opengis.ch>
Message-ID: <201603031149.47422.even.rouault@spatialys.com>

Le jeudi 03 mars 2016 11:31:52, Matthias Kuhn a écrit :
> Hi,
> 
> I am trying to compile and install gdal in docker (ubuntu 12.04)
> container with python3 and in a custom prefix (/home/travis/deps),
> clang-3.6 is used. configure and make run fine, however, make install
> fails:
> 
> /bin/bash -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions
> -Wl,-Bsymbolic-functions -Wl,-z,relro
> build/temp.linux-x86_64-3.2/extensions/osr_wrap.o -L../../.libs -L../../
> -L/usr/src/gdal-2.0.2/lib -lgdal -o
> build/lib.linux-x86_64-3.2/osgeo/_osr.cpython-32mu.so
> /bin/bash: -d: invalid option
> error: command '/bin/bash' failed with exit status 1
> 
> Any idea what could be the cause for this? I am grateful for any hints!

I suspect you need to have gcc installed since the Python bindings require it. 
I'm surprised that you didn't run into problems with the default make target 
in swig/python when compiling the bindings.
You should go to swig/python and try "make" from there.
Anyway "make install" of the Python bindings didn't honour the custom prefix in 
versions before trunk, so after fixing the above, it will try to install in 
/usr/local.

> 
> Thank you in advance,
> Matthias
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From kor at jemig.eu  Thu Mar  3 02:34:02 2016
From: kor at jemig.eu (Kor de Jong)
Date: Thu, 3 Mar 2016 11:34:02 +0100
Subject: [gdal-dev] Parllelization slows down single gdal_calc process
 in python
In-Reply-To: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
References: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
Message-ID: <56D8131A.7070705@jemig.eu>

Dear Lorenzo,

On 03/03/2016 12:44 AM, Lorenzo Bottaccioli wrote:
> If i run the code with out parallelization it takes around 650s to
> complete the calculation. Each process of the for loop is executed in
> ~10s. If i run with parallelization it takes ~900s to complete the
> procces and each process of the for loop it takes ~30s.
>
> How is that? how can i Fix this?

If I am not mistaken, you are splitting your process into 8 concurrent 
processes. Do you have at least 8 cores in your machine and can you 
observe that the processes run indeed in parallel? If so, the overhead 
may come from the processes trying to get access to input and output 
files at the same time. Although your computations may run in parallel, 
the I/O will still happen sequentially and less optimal than during your 
non-concurrent run, because multiple processes are now frequently 
fighting to get access to files at the same time, blocking each other.

You should probably instrument your code to figure out where the time is 
spent.

In case I/O is indeed the bottleneck, then you might get better results 
by distributing the processes over multiple disks (multiple 
controllers). This will get rid of some synchronization points allowing 
multiple processes to continue to run in parallel, even while doing I/O.

As a general rule, you don't want large scale I/O to happen concurrently 
on non-parallel hardware.

Best regards,
Kor


From matthias at opengis.ch  Thu Mar  3 02:56:04 2016
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 3 Mar 2016 11:56:04 +0100
Subject: [gdal-dev] make install fails
In-Reply-To: <201603031149.47422.even.rouault@spatialys.com>
References: <56D81298.2040200@opengis.ch>
 <201603031149.47422.even.rouault@spatialys.com>
Message-ID: <56D81844.9040707@opengis.ch>

Thank you for the reply, Even

On 03/03/2016 11:49 AM, Even Rouault wrote:
> Le jeudi 03 mars 2016 11:31:52, Matthias Kuhn a écrit :
>> Hi,
>>
>> I am trying to compile and install gdal in docker (ubuntu 12.04)
>> container with python3 and in a custom prefix (/home/travis/deps),
>> clang-3.6 is used. configure and make run fine, however, make install
>> fails:
>>
>> /bin/bash -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions
>> -Wl,-Bsymbolic-functions -Wl,-z,relro
>> build/temp.linux-x86_64-3.2/extensions/osr_wrap.o -L../../.libs -L../../
>> -L/usr/src/gdal-2.0.2/lib -lgdal -o
>> build/lib.linux-x86_64-3.2/osgeo/_osr.cpython-32mu.so
>> /bin/bash: -d: invalid option
>> error: command '/bin/bash' failed with exit status 1
>>
>> Any idea what could be the cause for this? I am grateful for any hints!
> 
> I suspect you need to have gcc installed since the Python bindings require it. 
> I'm surprised that you didn't run into problems with the default make target 
> in swig/python when compiling the bindings.

gcc is installed

gcc --version
gcc (Ubuntu/Linaro 4.6.4-1ubuntu1~12.04) 4.6.4

> You should go to swig/python and try "make" from there.

/usr/src/gdal-2.0.2/swig/python# make
make: Nothing to be done for `all'.

> Anyway "make install" of the Python bindings didn't honour the custom prefix in 
> versions before trunk, so after fixing the above, it will try to install in 
> /usr/local.

I don't mind switching to trunk, thanks for the hint!

Matthias

> 
>>
>> Thank you in advance,
>> Matthias
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 

From lorenzo.bottaccioli at gmail.com  Thu Mar  3 03:13:12 2016
From: lorenzo.bottaccioli at gmail.com (Lorenzo Bottaccioli)
Date: Thu, 3 Mar 2016 12:13:12 +0100
Subject: [gdal-dev] Parllelization slows down single gdal_calc process
	in python
In-Reply-To: <56D8131A.7070705@jemig.eu>
References: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
 <56D8131A.7070705@jemig.eu>
Message-ID: <CA+D=DWGVjJ0Pf4kX3NCgt9+fDoyZewi9_JZbQEjjLeKY_5XJug@mail.gmail.com>

Dear Kor,

Yes I have 8 cores! The I/O output files are different for each process. I
have to preform the gdal_calc on different maps each process. I just wanted
to lunch more than one gdal_calc.py script at time.

Best

Lorenzo

2016-03-03 11:34 GMT+01:00 Kor de Jong <kor at jemig.eu>:

> Dear Lorenzo,
>
> On 03/03/2016 12:44 AM, Lorenzo Bottaccioli wrote:
>
>> If i run the code with out parallelization it takes around 650s to
>> complete the calculation. Each process of the for loop is executed in
>> ~10s. If i run with parallelization it takes ~900s to complete the
>> procces and each process of the for loop it takes ~30s.
>>
>> How is that? how can i Fix this?
>>
>
> If I am not mistaken, you are splitting your process into 8 concurrent
> processes. Do you have at least 8 cores in your machine and can you observe
> that the processes run indeed in parallel? If so, the overhead may come
> from the processes trying to get access to input and output files at the
> same time. Although your computations may run in parallel, the I/O will
> still happen sequentially and less optimal than during your non-concurrent
> run, because multiple processes are now frequently fighting to get access
> to files at the same time, blocking each other.
>
> You should probably instrument your code to figure out where the time is
> spent.
>
> In case I/O is indeed the bottleneck, then you might get better results by
> distributing the processes over multiple disks (multiple controllers). This
> will get rid of some synchronization points allowing multiple processes to
> continue to run in parallel, even while doing I/O.
>
> As a general rule, you don't want large scale I/O to happen concurrently
> on non-parallel hardware.
>
> Best regards,
> Kor
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160303/59181e25/attachment.html>

From kor at jemig.eu  Thu Mar  3 03:30:58 2016
From: kor at jemig.eu (Kor de Jong)
Date: Thu, 3 Mar 2016 12:30:58 +0100
Subject: [gdal-dev] Parllelization slows down single gdal_calc process
 in python
In-Reply-To: <CA+D=DWGVjJ0Pf4kX3NCgt9+fDoyZewi9_JZbQEjjLeKY_5XJug@mail.gmail.com>
References: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
 <56D8131A.7070705@jemig.eu>
 <CA+D=DWGVjJ0Pf4kX3NCgt9+fDoyZewi9_JZbQEjjLeKY_5XJug@mail.gmail.com>
Message-ID: <56D82072.7010107@jemig.eu>

Dear Lorenzo,

On 03/03/2016 12:13 PM, Lorenzo Bottaccioli wrote:
> Yes I have 8 cores! The I/O output files are different for each process.
> I have to preform the gdal_calc on different maps each process. I just
> wanted to lunch more than one gdal_calc.py script at time.

Yes, I assumed the files used by each of your processes are different. 
This doesn't matter. They all have to be read and written by the one 
controller that provides access to the disk. It will serialize all 
access to the disk. You cannot read and/or write from/to multiple files 
that are located on the same disk in parallel.

You may have improved the performance of the computational part, but you 
also may have decreased the performance of the I/O part. The overall 
performance will depend on the balance between these two. In your case 
you may be better off optimizing for I/O. Instrumenting your code will 
provide you with clues about what is really going on.

Kor

From jsimpson at wxtrends.com  Thu Mar  3 04:14:48 2016
From: jsimpson at wxtrends.com (Jerl Simpson)
Date: Thu, 3 Mar 2016 06:14:48 -0600
Subject: [gdal-dev] Parllelization slows down single gdal_calc process
	in python
In-Reply-To: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
References: <CA+D=DWHS6cs_zo210yY-i-m=O9WD599giCbR4O03Hxz_juLz6g@mail.gmail.com>
Message-ID: <CA+VKKH91BkjBa9Vih2rhSVAomtEaQ70JOSDv7O4xGJRMisCW8Q@mail.gmail.com>

Hi Lorenzo:

This is more of a question for the python community.  However, a couple
things I have noticed.  Pandas tends to be much slower than working in
numpy directly.
I never saw an improvement in timings when using Pool().  What I do is
utilize Process() and Queue() or JoinableQueue() from the multiprocessing
library.

You can setup a pool of workers that all read from the same input queue.
Then you can just feed your data into the queue so the workers can process
the maps.





Jerl Simpson
Sr. Systems Engineer
Weather Trends Internationalhttp://www.weathertrends360.com/

This communication is privileged and may contain confidential information.
It's intended only for the use of the person or entity named above.
If you are not the intended recipient, do not distribute or copy this
communication.
If you have received this communication in error,
please notify the sender immediately and return the original to the
email address above.
© Copyright 2016 Weather Trends International, Inc.


On Wed, Mar 2, 2016 at 5:44 PM, Lorenzo Bottaccioli <
lorenzo.bottaccioli at gmail.com> wrote:

> Hi,
> I'm trying to parallelize a code for raster calculation with Gdal_calc.py,
> but i have relay bad results. I need to perform several raster operation
> like FILE_out=FILA_a*k1+FILE_b*k2.
>
> This is the code I'm usign:
>
> import pandas as pdimport osimport timefrom multiprocessing import Pool
>
> df = pd.read_csv('input.csv', sep=";", index_col='Date Time', decimal=',')
> df.index = pd.to_datetime(df.index, unit='s')
>
> start_time = time.time()
> pool=Pool(processes=8)
> pool.map(mapcalc,[df.iloc[i*20:(i+1)*20] for i in range(len(df.index)/20+1)])
> pool.close()
> pool.join()print("--- %s seconds ---" % (time.time() - start_time))
>
> def mapcalc(df):
>
>     month={1:'17',2:'47',3:'75',4:'105',5:'135',6:'162',7:'198',8:'228',9:'258',10:'288',11:'318',12:'344'}
>     hour={4:'04',5:'05',6:'06',7:'07',8:'08',9:'09',10:'10',11:'11',12:'12',13:'13',14:'14',15:'15',16:'16',17:'17',18:'18',19:'19',20:'20',21:'21',22:'22'}
>     minute={0:'00',15:'15',30:'30',45:'45'}
>     directory='/home/user/Raster/'
>     tmp='/home/usr/tmp/'
>     for i in df.index:
>         if 4<=i.hour<22:
>             #try:
>         timeg=time.time()
>             os.system('gdal_calc.py -A '+directory+'filea_'+month[i.month]+'_'+hour[i.hour]+minute[i.minute]+' -B '+directory+'fileb_'+month[i.month]+'_'+hour[i.hour]+minute[i.minute]+' --outfile='+tmp+str(i.date())+'_'+str(i.time())+' --calc=A*'+str(df.ix[i,'k1'])+'+B*'+str(df.ix[i,'k2']))
>             print(i,"--- %s seconds ---" % (time.time() - timeg))
>
> If i run the code with out parallelization it takes around 650s to
> complete the calculation. Each process of the for loop is executed in ~10s.
> If i run with parallelization it takes ~900s to complete the procces and
> each process of the for loop it takes ~30s.
>
> How is that? how can i Fix this?
>
> Best L
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160303/a2a88327/attachment-0001.html>

From schut at sarvision.nl  Thu Mar  3 06:27:53 2016
From: schut at sarvision.nl (Vincent Schut)
Date: Thu, 3 Mar 2016 15:27:53 +0100
Subject: [gdal-dev] make install fails
In-Reply-To: <56D81298.2040200@opengis.ch>
References: <56D81298.2040200@opengis.ch>
Message-ID: <56D849E9.60406@sarvision.nl>

On 03/03/16 11:31, Matthias Kuhn wrote:
> Hi,
>
> I am trying to compile and install gdal in docker (ubuntu 12.04)
> container with python3 and in a custom prefix (/home/travis/deps),
> clang-3.6 is used. configure and make run fine, however, make install fails:
>
> /bin/bash -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions
> -Wl,-Bsymbolic-functions -Wl,-z,relro
> build/temp.linux-x86_64-3.2/extensions/osr_wrap.o -L../../.libs -L../../
> -L/usr/src/gdal-2.0.2/lib -lgdal -o
> build/lib.linux-x86_64-3.2/osgeo/_osr.cpython-32mu.so
> /bin/bash: -d: invalid option
> error: command '/bin/bash' failed with exit status 1
>
> Any idea what could be the cause for this? I am grateful for any hints!
Hi Matthias,

I vaguely recollect running into a similar issue when I switched to clang from gcc. If I remember correctly, I resolved it by adding a "--without-libtool" to the configure options. I might be completely wrong (I did not take notes about this issue), but it might be worth trying.

Good luck!
Vincent.

>
> Thank you in advance,
> Matthias
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From kmrtnjscnc at gmail.com  Thu Mar  3 09:55:07 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Thu, 3 Mar 2016 23:25:07 +0530
Subject: [gdal-dev] Hard coded Pi constants
Message-ID: <CA+uDmDbv91c60x+Eno=r9peniG9jR2eVvR0OtP6HrkBck0RTxg@mail.gmail.com>

This is with regard to the bug listed on
https://trac.osgeo.org/gdal/ticket/6388

The fix is to remove the hard coded pi constants, but apparently, using
M_PI from math.h as it is breaks compilation on Visual Studio
http://stackoverflow.com/questions/26065359/m-pi-flagged-as-undeclared-identifier
(I haven't checked it yet myself; that would need me to switch to windows,
and I'm on linux right now)

However, we could also declare #define _USE_MATH_CONSTANTS, and then use
M_PI without declaring it(And not just M_PI, all the other math constants
listed on https://msdn.microsoft.com/en-us/library/4hwaceh6.aspx).

Could someone please check whether math constants work in later versions of
visual studio(Both with and without #define _USE_MATH_CONSTANTS)?

Thank you
Tanuj
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160303/88707391/attachment.html>

From jmckenna at gatewaygeomatics.com  Thu Mar  3 10:11:21 2016
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 3 Mar 2016 14:11:21 -0400
Subject: [gdal-dev] Hard coded Pi constants
In-Reply-To: <CA+uDmDbv91c60x+Eno=r9peniG9jR2eVvR0OtP6HrkBck0RTxg@mail.gmail.com>
References: <CA+uDmDbv91c60x+Eno=r9peniG9jR2eVvR0OtP6HrkBck0RTxg@mail.gmail.com>
Message-ID: <56D87E49.3090901@gatewaygeomatics.com>

Hello,

Be careful, as many GDAL package maintainers, including myself, run 
older Visual Studio versions on Windows.  Declaring this constant is 
done in several software projects.  It may be considered "ugly", but it 
sure works.

-jeff



On 2016-03-03 1:55 PM, Tanuj Kumar wrote:
> This is with regard to the bug listed on
> https://trac.osgeo.org/gdal/ticket/6388
>
> The fix is to remove the hard coded pi constants, but apparently, using
> M_PI from math.h as it is breaks compilation on Visual Studio
> http://stackoverflow.com/questions/26065359/m-pi-flagged-as-undeclared-identifier
> (I haven't checked it yet myself; that would need me to switch to
> windows, and I'm on linux right now)
>
> However, we could also declare #define _USE_MATH_CONSTANTS, and then use
> M_PI without declaring it(And not just M_PI, all the other math
> constants listed on https://msdn.microsoft.com/en-us/library/4hwaceh6.aspx).
>
> Could someone please check whether math constants work in later versions
> of visual studio(Both with and without #define _USE_MATH_CONSTANTS)?
>
> Thank you
> Tanuj
>
>
-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/

From matthias at opengis.ch  Thu Mar  3 10:56:59 2016
From: matthias at opengis.ch (Matthias Kuhn)
Date: Thu, 3 Mar 2016 19:56:59 +0100
Subject: [gdal-dev] make install fails
In-Reply-To: <56D849E9.60406@sarvision.nl>
References: <56D81298.2040200@opengis.ch> <56D849E9.60406@sarvision.nl>
Message-ID: <56D888FB.1040902@opengis.ch>

Thanks Vincent,

On 03/03/2016 03:27 PM, Vincent Schut wrote:
> Hi Matthias,
>
> I vaguely recollect running into a similar issue when I switched to
> clang from gcc. If I remember correctly, I resolved it by adding a
> "--without-libtool" to the configure options. I might be completely
> wrong (I did not take notes about this issue), but it might be worth
> trying.

Actually I failed to build with gcc either, so it must be something else.

However --without-libtool did the trick anyway. Thanks!

For the records, before trying this option, I found a workaround by
manually calling setup.py from the swig/python subdir once (see below).
Maybe this helps someone down the road.

-----------------------

make
# will fail with beforementioned error, running it a second time
# will "succeed" though, but running `make install` will fail...
cd swig/python
python3 setup.py install --prefix /home/... # Does something (tm)
make install # will succeed after manual execution of the setup.py script

-----------------------

Best and thanks for all the support,
Matthias



>
> Good luck!
> Vincent.
>
>>
>> Thank you in advance,
>> Matthias
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Matthias Kuhn
OPENGIS.ch - https://www.opengis.ch
Spatial • (Q)GIS • PostGIS • Open Source


From mwtoews at gmail.com  Thu Mar  3 12:11:28 2016
From: mwtoews at gmail.com (Mike Toews)
Date: Fri, 4 Mar 2016 09:11:28 +1300
Subject: [gdal-dev] Hard coded Pi constants
In-Reply-To: <CA+uDmDbv91c60x+Eno=r9peniG9jR2eVvR0OtP6HrkBck0RTxg@mail.gmail.com>
References: <CA+uDmDbv91c60x+Eno=r9peniG9jR2eVvR0OtP6HrkBck0RTxg@mail.gmail.com>
Message-ID: <CAM2FmMq_FXAEeEHwJVRhndnjzBRUHarsTrmPhqsZKJz8NBWx4Q@mail.gmail.com>

This is not just a MSVC issue. M_PI and other constants are not part
of the ISO standard, so if you try:
$ gcc --std=c99 small_program_with_M_PI.c
you will get "error: ‘M_PI’ undeclared"

I'm not sure if you can compile GDAL with `--std=c99`, but I don't see
any compelling reason to remove #ifndef blocks for these.

On 4 March 2016 at 06:55, Tanuj Kumar <kmrtnjscnc at gmail.com> wrote:
> This is with regard to the bug listed on
> https://trac.osgeo.org/gdal/ticket/6388
>
> The fix is to remove the hard coded pi constants, but apparently, using M_PI
> from math.h as it is breaks compilation on Visual Studio
> http://stackoverflow.com/questions/26065359/m-pi-flagged-as-undeclared-identifier
> (I haven't checked it yet myself; that would need me to switch to windows,
> and I'm on linux right now)
>
> However, we could also declare #define _USE_MATH_CONSTANTS, and then use
> M_PI without declaring it(And not just M_PI, all the other math constants
> listed on https://msdn.microsoft.com/en-us/library/4hwaceh6.aspx).
>
> Could someone please check whether math constants work in later versions of
> visual studio(Both with and without #define _USE_MATH_CONSTANTS)?
>
> Thank you
> Tanuj

From ncariaga at gmail.com  Thu Mar  3 17:55:37 2016
From: ncariaga at gmail.com (nccariaga)
Date: Thu, 3 Mar 2016 17:55:37 -0800 (PST)
Subject: [gdal-dev] Conversion of USGS (2010 series) GeoPDF to GeoTIFF using
	GDal
Message-ID: <1457056537045-5254257.post@n6.nabble.com>

Hi.  Just want to ask if anyone had experienced converting USGS (2010
publication date / series) GeoPDF to GeoTIFF to produce Topo maps?  I'm
having problems in doing it in spite of following the instructions posted
from USGS.  It kinda weird since this problem is only visible for 2010
series maps.  Thank you in advance.





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Conversion-of-USGS-2010-series-GeoPDF-to-GeoTIFF-using-GDal-tp5254257.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From kmrtnjscnc at gmail.com  Fri Mar  4 05:11:16 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Fri, 4 Mar 2016 18:41:16 +0530
Subject: [gdal-dev] Google Summer of Code
Message-ID: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>

Hello,
I am interested in applying for GSoC this year. Currently, I am reading up
on the GDAL Summer of Code ideas list. I know C++ and C, and I have some
experience on working on linux.
Could the mentors please recommend a bug for me to work on, I'd really love
to start off as soon as possible!

Thank you,

Tanuj Kumar
Birla institute of Technology and Science
Pilani, Rajasthan,
India
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160304/a3e5aa8f/attachment.html>

From kmrtnjscnc at gmail.com  Fri Mar  4 05:20:10 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Fri, 4 Mar 2016 18:50:10 +0530
Subject: [gdal-dev] Hard coded Pi constants
In-Reply-To: <CAKMUAtDpe+wh+WjHy+L6yff9V2+yzNcB3pbmykGc=RcBzCc13g@mail.gmail.com>
References: <CA+uDmDbv91c60x+Eno=r9peniG9jR2eVvR0OtP6HrkBck0RTxg@mail.gmail.com>
 <CAKMUAtDpe+wh+WjHy+L6yff9V2+yzNcB3pbmykGc=RcBzCc13g@mail.gmail.com>
Message-ID: <CA+uDmDZj4yGpyvpb=r0XUo2qgh762DLDQwjurpfPtdccasBYgQ@mail.gmail.com>

Yes, it should be _USE_MATH_DEFINES, my bad.

On Fri, Mar 4, 2016 at 12:26 AM, Jan Heckman <jan.heckman at gmail.com> wrote:

> Hi Tanuj,
> It is _USE_MATH_DEFINES, not _USE_MATH_CONSTANTS in VC.
> My experience is this works AND is needed for math constants in VS2008,
> VS2013 and VS2015. VS2015 is the community version, the others are prof
> versions, but that should not make aucune difference, of course.
> Jan
>
> On Thu, Mar 3, 2016 at 6:55 PM, Tanuj Kumar <kmrtnjscnc at gmail.com> wrote:
>
>> This is with regard to the bug listed on
>> https://trac.osgeo.org/gdal/ticket/6388
>>
>> The fix is to remove the hard coded pi constants, but apparently, using
>> M_PI from math.h as it is breaks compilation on Visual Studio
>> http://stackoverflow.com/questions/26065359/m-pi-flagged-as-undeclared-identifier
>> (I haven't checked it yet myself; that would need me to switch to windows,
>> and I'm on linux right now)
>>
>> However, we could also declare #define _USE_MATH_CONSTANTS, and then use
>> M_PI without declaring it(And not just M_PI, all the other math constants
>> listed on https://msdn.microsoft.com/en-us/library/4hwaceh6.aspx).
>>
>> Could someone please check whether math constants work in later versions
>> of visual studio(Both with and without #define _USE_MATH_CONSTANTS)?
>>
>> Thank you
>> Tanuj
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160304/1b8647d2/attachment.html>

From jhayes at lizardtech.com  Fri Mar  4 16:16:50 2016
From: jhayes at lizardtech.com (John Hayes)
Date: Sat, 5 Mar 2016 00:16:50 +0000
Subject: [gdal-dev] How to compare the horizontal coordinate systems of two
	WKTs
Message-ID: <28045FF3-B249-426E-8D6A-81E05D61DC4C@lizardtech.com>

Hi,

I need to find out if two WKTs have the same horizontal coordinate systems.  I found OSRIsSameVertCS() but I need some like it for horizontal CS.

I'm thinking something like this should do the trick:

   ref1 = OSRNewSpatialReference(wkt1);
   if (OSRIsCompound(ref1))
      ref1 = <get horizontal cs>(ref1);

   ref2 = OSRNewSpatialReference(wkt2);
   if (OSRIsCompound(ref2))
      ref2 = <get horizontal cs>(ref2);

   hasSameHorizontalCS = OSRIsSame(ref1, ref2);

However, I don’t see a way to extract the horizontal cs out of a compound cs.

Questions:
1) Is there a way to extract the horizontal coordinate system?  I’m using GDAL 1.9.
2) Is there a better way to solve my problems?

-john

From jonvwill at verizon.net  Sat Mar  5 16:06:59 2016
From: jonvwill at verizon.net (Jonathan Williams)
Date: Sat, 05 Mar 2016 19:06:59 -0500
Subject: [gdal-dev] Odd problem -- Gdalwarp, OpenCL and interpolation
Message-ID: <56DB74A3.9050607@verizon.net>

Hello,
I've run into an odd problem that I suspect is the result of some
incorrect variable type casting, but I'm not sure where to look or how
to fix it.

Inputting a raster in Float32 format (or Float64, with -ot Float32
and/or -wt Float32 enabled on the command line) and attempting to do a
resample interpolation (doesn't seem to matter what OpenCL-compatible
algorithm) is producing output that is huge compared with the input. The
output still has a range of values, and it makes me wonder whether the
output is being multiplied by a very large amount at some point.

Saga GIS reports the non-OpenCL resampled Float32 values as ranging from
-8.595017433166504 to 166.74661254882812, and the resampled values as
ranging from -340282346638528860000000000000000000000 to
340282346638528860000000000000000000000 (+/- 3.4e38, e.g. the maximum
range of single precision floating point)

Running the exact same warp with OpenCL disabled produces the correct
output.

Here's an example of the gdalwarp runline:

gdalwarp -srcnodata 9999 -dstnodata 9999 -wt Float32 -ot Float32
--config GDAL_CACHEMAX 4096 -wm 2048 -multi -tr .03 .03 -r lanczos
--debug on -overwrite -wo "USE_OPENCL=TRUE" 373.grib2 373_res.tif

I will note that the input file in this case is in Float64 format;
however, converting it to Float32 prior to the warp makes no difference.
Neither does whether the input file is in grib2 format or geotiff format.

Reprojection-only operations produce normal-looking output using OpenCL.

Best,
Jonathan


From jonvwill at verizon.net  Sat Mar  5 17:54:02 2016
From: jonvwill at verizon.net (Jonathan Williams)
Date: Sat, 05 Mar 2016 20:54:02 -0500
Subject: [gdal-dev] Odd problem -- Gdalwarp, OpenCL and interpolation
In-Reply-To: <56DB74A3.9050607@verizon.net>
References: <56DB74A3.9050607@verizon.net>
Message-ID: <56DB8DBA.3050106@verizon.net>

To clarify: doing the gdalwarp resample without OpenCL is producing a
realistic Float32 value range. Doing it WITH OpenCL is producing far
higher values.

This is on a Tesla M2090. No other experiments/benchmarks have produced
this kind of result, and as I wrote below, gdalwarp itself works when
only doing reprojection, not resampling, regardless of whether OpenCL is
used.

Jonathan


On 3/5/2016 7:06 PM, Jonathan Williams wrote:
> Hello,
> I've run into an odd problem that I suspect is the result of some
> incorrect variable type casting, but I'm not sure where to look or how
> to fix it.
>
> Inputting a raster in Float32 format (or Float64, with -ot Float32
> and/or -wt Float32 enabled on the command line) and attempting to do a
> resample interpolation (doesn't seem to matter what OpenCL-compatible
> algorithm) is producing output that is huge compared with the input. The
> output still has a range of values, and it makes me wonder whether the
> output is being multiplied by a very large amount at some point.
>
> Saga GIS reports the non-OpenCL resampled Float32 values as ranging from
> -8.595017433166504 to 166.74661254882812, and the resampled values as
> ranging from -340282346638528860000000000000000000000 to
> 340282346638528860000000000000000000000 (+/- 3.4e38, e.g. the maximum
> range of single precision floating point)
>
> Running the exact same warp with OpenCL disabled produces the correct
> output.
>
> Here's an example of the gdalwarp runline:
>
> gdalwarp -srcnodata 9999 -dstnodata 9999 -wt Float32 -ot Float32
> --config GDAL_CACHEMAX 4096 -wm 2048 -multi -tr .03 .03 -r lanczos
> --debug on -overwrite -wo "USE_OPENCL=TRUE" 373.grib2 373_res.tif
>
> I will note that the input file in this case is in Float64 format;
> however, converting it to Float32 prior to the warp makes no difference.
> Neither does whether the input file is in grib2 format or geotiff format.
>
> Reprojection-only operations produce normal-looking output using OpenCL.
>
> Best,
> Jonathan
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at spatialys.com  Sun Mar  6 07:17:33 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 6 Mar 2016 16:17:33 +0100
Subject: [gdal-dev] Proposed change regarding wkbCurve,
	wkbSurface and their M/Z/ZM variants
Message-ID: <201603061617.34003.even.rouault@spatialys.com>

Hi,

During https://trac.osgeo.org/gdal/wiki/rfc61_support_for_measured_geometries 
discussion, we introduced wkbCurveM/Z/ZM and wkbSurfaceM/Z/ZM as #define and 
not in OGRwkbGeometryType enumeration. This was to be consistent with how 
wkbCurve and wkbSurface were themselves introduced in GDAL 2.0 together with 
https://trac.osgeo.org/gdal/wiki/rfc49_curve_geometries (actually those 2 
#define were implementation details not advertized in RFC 49 itself). The 
rationale for keeping them out of the enumeration was that those types were 
abstract.

But when revisiting a bit the GeoPackage driver, I see that the GeoPackage 
spec can advertize layers of type Curve or Surface, so it would be more 
convenient/clean to have them as regular values in the OGRwkbGeometryType 
enumeration so they can been more easily dealt with by OGRFromOGCGeomType(), 
OGRToOGCGeomType(), etc...  I'm not aware of other drivers that would make use 
of such types, but at least ogr2ogr scenarios would be lossless on such GPKG 
files.

The argument of abstract vs concrete types is a bit weak, since 
OGRwkbGeometryType has already values such as wkbNone or wkbUnknown.

And as RFC 61 has added a number of new constants for M and ZM support, adding 
those related to wkbCurveXXX and wkbSurfaceXXXX shouldn't hurt much, as user 
code will have to be upgraded anyway.

I've created https://trac.osgeo.org/gdal/ticket/6401 with the proposed (quite 
straightforward) patch implementing the change. Let me know if you see issues 
with that.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From schwehr at gmail.com  Sun Mar  6 07:21:25 2016
From: schwehr at gmail.com (Kurt Schwehr)
Date: Sun, 6 Mar 2016 07:21:25 -0800
Subject: [gdal-dev] Proposed change regarding wkbCurve,
 wkbSurface and their M/Z/ZM variants
In-Reply-To: <201603061617.34003.even.rouault@spatialys.com>
References: <201603061617.34003.even.rouault@spatialys.com>
Message-ID: <CACmBxyvJA-90NOXi2R+o5QWnYj3vrFw_knpXSKzdMzS171gwBg@mail.gmail.com>

+1

On Sun, Mar 6, 2016 at 7:17 AM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Hi,
>
> During
> https://trac.osgeo.org/gdal/wiki/rfc61_support_for_measured_geometries
> discussion, we introduced wkbCurveM/Z/ZM and wkbSurfaceM/Z/ZM as #define
> and
> not in OGRwkbGeometryType enumeration. This was to be consistent with how
> wkbCurve and wkbSurface were themselves introduced in GDAL 2.0 together
> with
> https://trac.osgeo.org/gdal/wiki/rfc49_curve_geometries (actually those 2
> #define were implementation details not advertized in RFC 49 itself). The
> rationale for keeping them out of the enumeration was that those types were
> abstract.
>
> But when revisiting a bit the GeoPackage driver, I see that the GeoPackage
> spec can advertize layers of type Curve or Surface, so it would be more
> convenient/clean to have them as regular values in the OGRwkbGeometryType
> enumeration so they can been more easily dealt with by
> OGRFromOGCGeomType(),
> OGRToOGCGeomType(), etc...  I'm not aware of other drivers that would make
> use
> of such types, but at least ogr2ogr scenarios would be lossless on such
> GPKG
> files.
>
> The argument of abstract vs concrete types is a bit weak, since
> OGRwkbGeometryType has already values such as wkbNone or wkbUnknown.
>
> And as RFC 61 has added a number of new constants for M and ZM support,
> adding
> those related to wkbCurveXXX and wkbSurfaceXXXX shouldn't hurt much, as
> user
> code will have to be upgraded anyway.
>
> I've created https://trac.osgeo.org/gdal/ticket/6401 with the proposed
> (quite
> straightforward) patch implementing the change. Let me know if you see
> issues
> with that.
>
> Even
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
--
http://schwehr.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160306/ac399df3/attachment.html>

From doug_newcomb at fws.gov  Mon Mar  7 07:47:32 2016
From: doug_newcomb at fws.gov (Newcomb, Doug)
Date: Mon, 7 Mar 2016 10:47:32 -0500
Subject: [gdal-dev] MRF Format with LERC?
Message-ID: <CALQGVr3Xx4pFPKdYKQePz56m=AV-RzGoebG5NO22n9ORBv=Ugw@mail.gmail.com>

First i've heard of this.

https://gcn.com/blogs/emerging-tech/2016/01/nasa-esri-image-storage.aspx

Doug
-- 
Doug Newcomb
USFWS
Raleigh, NC
919-856-4520 ext. 14 doug_newcomb at fws.gov
---------------------------------------------------------------------------------------------------------
The opinions I express are my own and are not representative of the
official policy of the U.S.Fish and Wildlife Service or Dept. of the
Interior.   Life is too short for undocumented, proprietary data formats.
As a federal employee, my email may be subject to FOIA request.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160307/7177e421/attachment.html>

From even.rouault at spatialys.com  Mon Mar  7 07:59:06 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 7 Mar 2016 16:59:06 +0100
Subject: [gdal-dev] MRF Format with LERC?
In-Reply-To: <CALQGVr3Xx4pFPKdYKQePz56m=AV-RzGoebG5NO22n9ORBv=Ugw@mail.gmail.com>
References: <CALQGVr3Xx4pFPKdYKQePz56m=AV-RzGoebG5NO22n9ORBv=Ugw@mail.gmail.com>
Message-ID: <201603071659.06500.even.rouault@spatialys.com>

Le lundi 07 mars 2016 16:47:32, Newcomb, Doug a écrit :
> First i've heard of this.
> 
> https://gcn.com/blogs/emerging-tech/2016/01/nasa-esri-image-storage.aspx

Integrated recently in GDAL trunk:
http://www.gdal.org/frmt_marfa.html

> 
> Doug

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sebastic at xs4all.nl  Mon Mar  7 10:06:53 2016
From: sebastic at xs4all.nl (Sebastiaan Couwenberg)
Date: Mon, 7 Mar 2016 19:06:53 +0100
Subject: [gdal-dev] GDAL/OGR 2.0.2 and 1.11.4 released
In-Reply-To: <1454081332989.37734ec694778@mozgaia>
References: <201601291216.05986.even.rouault@spatialys.com>
 <1454077208489.95d3686b9ffa8@mozgaia>
 <201601291546.50087.even.rouault@spatialys.com>
 <1454081332989.37734ec694778@mozgaia>
Message-ID: <56DDC33D.9050706@xs4all.nl>

On 29-01-16 16:28, Bas Couwenberg wrote:
> Even Rouault wrote:
>> Le vendredi 29 janvier 2016 15:20:07, Bas Couwenberg a écrit :
>>> Even Rouault wrote:
>>>> It is not definite how long the team will still maintain the 1.11 branch,
>>>> so users are strongly encouraged to migrate to 2.0.2.
>>>
>>> Because not all reverse dependencies support GDAL 2.0 yet, the next Debian
>>> stable release (stretch) will most likely stick to 1.11.x as will the next
>>> Ubuntu LTS (xenial).
>>
>> Are there many (and "important") reverse dependencies not yet ready ? If not, 
>> couldn't they be withdrawn from the main repo and added back via a PPA or 
>> something like that when ready ?
> 
> The most important missing piece is Fiona, we need the upcoming 1.7 release
> for its GDAL 2.0 support. But it's not expected until march. A patch is
> available in the BTS, but upstream has changed the GDAL 2.0 support,
and those
> changes were not easy to backport, so I gave up and chose to wait for
the new
> upstream release.
> 
> When we have Fiona 1.7 we may not be able to transition before the freeze in
> preparation of the release.
> 
> There are no PPAs in Debian so that's not an option. We could abuse backports
> for it, but that's not really an option either.
> 
>>> I hope this will not cause too many issues.
>>
>> It would be annoying for applications that could make use of GDAL 2.0 
>> abilities.
>> But I can imagine the challenge of managing a collection of applications...
> 
> I've prepared patches for most packages, but these have not seen any real
> world testing yet. So I'm not entirely confident we can switch to 2.0
without
> issues. The safe choice is to stick to 1.11, but I'll try to transition to
> 2.0 before the freeze when the prerequisites are met.

I managed to backport the GDAL 2.0 changes to Fiona 1.6.3 after all.

So instead of transitioning to 1.11.4, 2.0.2 was used instead.

Earlier today GDAL 2.0.2 and most of its reverse dependencies migrated
to Debian testing leading in the end of the transition. The remaining
reverse dependencies should migrate later this week, except SAGA which
is blocked by the libvigraimpex transition.

Unfortunately this transition was too late to have GDAL 2.x included in
the upcoming Ubuntu LTS release, that will still ship with GDAL 1.11.3.

Kind Regards,

Bas

-- 
 GPG Key ID: 4096R/6750F10AE88D4AF1
Fingerprint: 8182 DE41 7056 408D 6146  50D1 6750 F10A E88D 4AF1

From jonvwill at verizon.net  Mon Mar  7 12:52:44 2016
From: jonvwill at verizon.net (Jonathan Williams)
Date: Mon, 07 Mar 2016 15:52:44 -0500
Subject: [gdal-dev] Odd problem -- Gdalwarp, OpenCL and interpolation
In-Reply-To: <56DB8DBA.3050106@verizon.net>
References: <56DB74A3.9050607@verizon.net> <56DB8DBA.3050106@verizon.net>
Message-ID: <56DDEA1C.7090203@verizon.net>

I've verified the incorrect interpolation results on another machine (a
laptop with an nVidia gt-555m GPU).

I'm honestly at a loss as to what is causing this, and hope it's not
something simple. Has anyone run across this before?

Best,
Jonathan

On 3/5/2016 8:54 PM, Jonathan Williams wrote:
> To clarify: doing the gdalwarp resample without OpenCL is producing a
> realistic Float32 value range. Doing it WITH OpenCL is producing far
> higher values.
>
> This is on a Tesla M2090. No other experiments/benchmarks have produced
> this kind of result, and as I wrote below, gdalwarp itself works when
> only doing reprojection, not resampling, regardless of whether OpenCL is
> used.
>
> Jonathan
>
>
> On 3/5/2016 7:06 PM, Jonathan Williams wrote:
>> Hello,
>> I've run into an odd problem that I suspect is the result of some
>> incorrect variable type casting, but I'm not sure where to look or how
>> to fix it.
>>
>> Inputting a raster in Float32 format (or Float64, with -ot Float32
>> and/or -wt Float32 enabled on the command line) and attempting to do a
>> resample interpolation (doesn't seem to matter what OpenCL-compatible
>> algorithm) is producing output that is huge compared with the input. The
>> output still has a range of values, and it makes me wonder whether the
>> output is being multiplied by a very large amount at some point.
>>
>> Saga GIS reports the non-OpenCL resampled Float32 values as ranging from
>> -8.595017433166504 to 166.74661254882812, and the resampled values as
>> ranging from -340282346638528860000000000000000000000 to
>> 340282346638528860000000000000000000000 (+/- 3.4e38, e.g. the maximum
>> range of single precision floating point)
>>
>> Running the exact same warp with OpenCL disabled produces the correct
>> output.
>>
>> Here's an example of the gdalwarp runline:
>>
>> gdalwarp -srcnodata 9999 -dstnodata 9999 -wt Float32 -ot Float32
>> --config GDAL_CACHEMAX 4096 -wm 2048 -multi -tr .03 .03 -r lanczos
>> --debug on -overwrite -wo "USE_OPENCL=TRUE" 373.grib2 373_res.tif
>>
>> I will note that the input file in this case is in Float64 format;
>> however, converting it to Float32 prior to the warp makes no difference.
>> Neither does whether the input file is in grib2 format or geotiff format.
>>
>> Reprojection-only operations produce normal-looking output using OpenCL.
>>
>> Best,
>> Jonathan
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From even.rouault at spatialys.com  Tue Mar  8 02:05:58 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 8 Mar 2016 11:05:58 +0100
Subject: [gdal-dev] Proposed change regarding wkbCurve,
	wkbSurface and their M/Z/ZM variants
In-Reply-To: <201603061617.34003.even.rouault@spatialys.com>
References: <201603061617.34003.even.rouault@spatialys.com>
Message-ID: <201603081105.58520.even.rouault@spatialys.com>

> I've created https://trac.osgeo.org/gdal/ticket/6401 with the proposed
> (quite straightforward) patch implementing the change. Let me know if you
> see issues with that.

Committed into trunk

> 
> Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From kemisknkn37 at gmail.com  Tue Mar  8 07:17:05 2016
From: kemisknkn37 at gmail.com (Jin Katagi)
Date: Wed, 9 Mar 2016 00:17:05 +0900
Subject: [gdal-dev] gdalwarp "-r mode" algorithm bug
Message-ID: <CAMbdn_ENQnX_XbJuTkwBtMo68z0xLsgCpmUEXL-Oywy2Etozhg@mail.gmail.com>

Hi,
I tried to translate picture's resolution from 10mx10m to 50mx50m using
"gdalwarp" command and got the problem.
I used it with "-r mode" like this.

$ gdalwarp -t_srs EPSG:4326 -tr 0.000416667 0.000416667 -r mode
original.tif resize.tif

I thought that "-r mode" resamples specified resolution (in this case, 5x5
pixel), but the outcome was very strange.

So I made a test script and checked.
(The square that is surrounded (row,col)=(25,25)(74,74) is value 1,and
others is value 0,100x100 pixel.)

This is the test script using GRASS(7.0.3).

# set the resolution 100mx100m and a size is 100x100
$ g.region w=140 e=140.0083 s=36 n=36.0083 res=8.333333333333333e-05
$ r.mapcalc " dummy =
if(row()>25,if(row()<75,if(col()>25,if(col()<75,1),0),0),0) "
$ r.out.gdal input=dummy output=original.tif

# And checked.
$ gdalwarp -t_srs EPSG:4326 -tr 0.000416667 0.000416667 -r mode
original.tif resize.tif

On the original.tif,the square that is surrounded (row,col)=(70,70),(75,75)
account for 15/25 value 1, but the resize.tif the square that is surrounded
(row,col)=(14,14),(15,15) is value 0.

Is this the problem of the mode algorithm?
The gdal version I used is 1.11.2 and OS is Ubuntu 14.04.

Thank you for your replies.
Katagi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160309/91a78125/attachment.html>

From karl.zinglersen at gmail.com  Tue Mar  8 08:13:38 2016
From: karl.zinglersen at gmail.com (Karl Zinglersen)
Date: Tue, 8 Mar 2016 13:13:38 -0300
Subject: [gdal-dev] gdalwarp vertical datum transformation with +geoidgrids
	with no changes
Message-ID: <CAGjWj4eoES-iHKxKxNVKNF4UEOqcErPR+RBL=oKSo+DGTwU3AQ@mail.gmail.com>

I try to perform a vertical transformation from WGS84 ellipsoid heights to
geoid MSL heights on a Geotiff with a geoid GTX raster translated from
Geotiff.

gdalwarp -overwrite -s_srs "+proj=longlat +datum=WGS84 +no_defs
+geoidgrids=C:\TEMP\gr20006g06.gtx" -t_srs EPSG:4326 -r bilinear -of GTiff
C:/TEMP/gimdem1_1_epsg4326.tif C:/TEMP/gimdem1_1_epsg4326_geoid.tif

The transformation runs, but there are no changes in cell values of the
output raster as expected.
I can do a gdal_calc between the input raster and the geoid raster to an
output raster, which changes the pixel values, but requires a number of
previous steps: align, clip, warp, resampling of the geoid raster.

I would think the +geoidgrids warping is the most correct?

How can I change my data or my gdalwarp flags and inputs to do a
transformation which actually use the geoid grid?

Some information on the input DEM and geoid:

Input DEM:
Driver: GTiff/GeoTIFF
Files: C:/TEMP/gimdem1_1_epsg4346.tif
Size is 14727, 9815
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-54.040095691152260,67.573648952718571)
Pixel Size = (0.000424686603675,-0.000424686603675)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=BAND
Corner Coordinates:
Upper Left  ( -54.0400957,  67.5736490) ( 54d 2'24.34"W, 67d34'25.14"N)
Lower Left  ( -54.0400957,  63.4053499) ( 54d 2'24.34"W, 63d24'19.26"N)
Upper Right ( -47.7857361,  67.5736490) ( 47d47' 8.65"W, 67d34'25.14"N)
Lower Right ( -47.7857361,  63.4053499) ( 47d47' 8.65"W, 63d24'19.26"N)
Center      ( -50.9129159,  65.4894994) ( 50d54'46.50"W, 65d29'22.20"N)
Band 1 Block=14727x1 Type=Int16, ColorInterp=Gray


Geoid raster:
Driver: GTX/NOAA Vertical Datum .GTX
Files: C:/TEMP/gr20006g06.gtx
       C:/TEMP/gr20006g06.gtx.aux.xml
Size is 651, 251
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        TOWGS84[0,0,0,0,0,0,0],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0,
        AUTHORITY["EPSG","8901"]],
    UNIT["degree",0.0174532925199433,
        AUTHORITY["EPSG","9108"]],
    AUTHORITY["EPSG","4326"]]
Origin = (-75.000000000000000,84.000000000000000)
Pixel Size = (0.100000000000000,-0.100000000000000)
Metadata:
  AREA_OR_POINT=Point
Corner Coordinates:
Upper Left  ( -75.0000000,  84.0000000) ( 75d 0' 0.00"W, 84d 0' 0.00"N)
Lower Left  ( -75.0000000,  58.9000000) ( 75d 0' 0.00"W, 58d54' 0.00"N)
Upper Right (  -9.9000000,  84.0000000) (  9d54' 0.00"W, 84d 0' 0.00"N)
Lower Right (  -9.9000000,  58.9000000) (  9d54' 0.00"W, 58d54' 0.00"N)
Center      ( -42.4500000,  71.4500000) ( 42d27' 0.00"W, 71d27' 0.00"N)
Band 1 Block=651x1 Type=Float32, ColorInterp=Undefined
  NoData Value=9999






-- 
Karl Brix Zinglersen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160308/01169e09/attachment.html>

From bishop.dev at gmail.com  Wed Mar  9 01:28:58 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Wed, 9 Mar 2016 12:28:58 +0300
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
Message-ID: <56DFECDA.9010206@gmail.com>

Hi, Tanuj

I'll look for opened tickets for you, or maybe others can recommend some 
for you.

By the way, do you see the idea list 
(https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
The ideas are not ranked yet - the numbers in the list - are only in order.
This is a task for us to rank the ideas.
But, have you some preferable idea (or ideas) for GSoC from this list or 
maybe you have got own?

Best regards,
     Dmitry

04.03.2016 16:11, Tanuj Kumar пишет:
> Hello,
> I am interested in applying for GSoC this year. Currently, I am 
> reading up on the GDAL Summer of Code ideas list. I know C++ and C, 
> and I have some experience on working on linux.
> Could the mentors please recommend a bug for me to work on, I'd really 
> love to start off as soon as possible!
>
> Thank you,
>
> Tanuj Kumar
> Birla institute of Technology and Science
> Pilani, Rajasthan,
> India
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160309/e6174235/attachment.html>

From kmrtnjscnc at gmail.com  Wed Mar  9 02:17:39 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Wed, 9 Mar 2016 15:47:39 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <56DFECDA.9010206@gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
Message-ID: <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>

Yes, I have looked at the ideas list, and I am currently reading up on idea
no. 16, which is, implementing support for the proposed standard for
incrementally parseable GeoJSON data.

Also, I was thinking that maybe I could work on ticket no 6294,
https://trac.osgeo.org/gdal/ticket/6294
after I've studied about the GSoC idea, which is not really a bug, but an
enhancement. But if there are any other tickets that you or anyone else
would like to recommend me to work on, I'd love to see them too!

Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that
matter) to work on it? I only ask because the idea lists C/C++ as the
required skills, but I feel that maybe this work would involve knowing JSON
too...

Thanks and regards,

Tanuj


On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi, Tanuj
>
> I'll look for opened tickets for you, or maybe others can recommend some
> for you.
>
> By the way, do you see the idea list (
> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
> The ideas are not ranked yet - the numbers in the list - are only in
> order.
> This is a task for us to rank the ideas.
> But, have you some preferable idea (or ideas) for GSoC from this list or
> maybe you have got own?
>
> Best regards,
>     Dmitry
>
> 04.03.2016 16:11, Tanuj Kumar пишет:
>
> Hello,
> I am interested in applying for GSoC this year. Currently, I am reading up
> on the GDAL Summer of Code ideas list. I know C++ and C, and I have some
> experience on working on linux.
> Could the mentors please recommend a bug for me to work on, I'd really
> love to start off as soon as possible!
>
> Thank you,
>
> Tanuj Kumar
> Birla institute of Technology and Science
> Pilani, Rajasthan,
> India
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160309/88ccab28/attachment.html>

From bishop.dev at gmail.com  Wed Mar  9 07:55:45 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Wed, 9 Mar 2016 18:55:45 +0300
Subject: [gdal-dev] Fwd: [OSGeo-Discuss] [@Mentors: Action required]
 GSoC 2016 Ideas page
In-Reply-To: <201602161128.33644.even.rouault@spatialys.com>
References: <201602161128.33644.even.rouault@spatialys.com>
Message-ID: <56E04781.7080000@gmail.com>

Hi,

now at this table I'm the only mentor for GDAL.
https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2016_Administrative#Mentors

For GSoC we need at least two mentors pre student. It'll be nice to have 
more mentors.
Also, it'll be nice to have in Idea list 
(https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList) some 
ranking and mentors who interesting in specific ideas.

Best regards,
     Dmitry

16.02.2016 13:28, Even Rouault пишет:
> Hi,
>
> Potential mentors and students: time to update
> https://trac.osgeo.org/gdal/wiki/SummerOfCode
>
> Even
>
> ----------  Message transmis  ----------
>
> Sujet : [OSGeo-Discuss] [@Mentors: Action required] GSoC 2016 Ideas page
> Date : mardi 16 février 2016, 11:16:03
> De : Margherita Di Leo <diregola at gmail.com>
> À : OSGeo Discussions <discuss at lists.osgeo.org>, "OSGeo-SoC"
> <soc at lists.osgeo.org>
>
> Dear All,
>
> we would like to inform you all that we have applied on behalf of OSGeo, as
> a mentor organization for Google Summer of Code 2016. The application can
> be found at [1]. We ask your cooperation to set up the ideas page within
> few days. It is extremely important that the ideas page looks in good shape
> as it is the key page Google will be looking at when evaluating OSGeo. As
> usual, each community will set up its ideas page on its own wiki and will
> send us the link, that will be added by us to the main page [2]. Please
> forward this email to your communities.
>
> As past years, OSGeo welcomes like minded projects that wish to participate
> under the org’s umbrella, not being official OSGeo projects. Please contact
> us to discuss it further.
>
> Your OSGeo GSoC 2016 Admins
>
> Margherita Di Leo (madi)
>
> Anne Ghisla (aghisla)
>
> [1] https://wiki.osgeo.org/wiki/Google_Summer_of_Code_Application_2016
>
> [2] https://wiki.osgeo.org/wiki/Google_Summer_of_Code_2016_Ideas
>
>


From liglio at pobox.com  Wed Mar  9 13:46:50 2016
From: liglio at pobox.com (Liglio)
Date: Wed, 9 Mar 2016 13:46:50 -0800 (PST)
Subject: [gdal-dev] Use of gdalwarp to make GeoTiff transparent is flipping
	the image
Message-ID: <1457560010860-5255474.post@n6.nabble.com>

Hi,

I used the command "gdalwarp -dstalpha -srcnodata 255 -dstnodata 0 image.tif
transp_image.tif" to make a color GeoTiff Image became transparent, but it
is flipping the image horizontally. What I am doing wrong? Can I unflipp the
image?

Thanks.

<http://osgeo-org.1560.x6.nabble.com/file/n5255474/image299.png> 
<http://osgeo-org.1560.x6.nabble.com/file/n5255474/transp_image.png> 



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Use-of-gdalwarp-to-make-GeoTiff-transparent-is-flipping-the-image-tp5255474.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at maanmittauslaitos.fi  Wed Mar  9 14:49:52 2016
From: jukka.rahkonen at maanmittauslaitos.fi (Jukka Rahkonen)
Date: Wed, 9 Mar 2016 22:49:52 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?Use_of_gdalwarp_to_make_GeoTiff_transparent_?=
	=?utf-8?q?is_flipping=09the_image?=
References: <1457560010860-5255474.post@n6.nabble.com>
Message-ID: <loom.20160309T232828-869@post.gmane.org>

Liglio <liglio <at> pobox.com> writes:

> 
> Hi,
> 
> I used the command "gdalwarp -dstalpha -srcnodata 255 -dstnodata 0 image.tif
> transp_image.tif" to make a color GeoTiff Image became transparent, but it
> is flipping the image horizontally. What I am doing wrong? Can I unflipp the
> image?
> 
> Thanks.
> 
> <http://osgeo-org.1560.x6.nabble.com/file/n5255474/image299.png> 
> <http://osgeo-org.1560.x6.nabble.com/file/n5255474/transp_image.png> 

Could you add the gdalinfo report of the original and warped image?

-Jukka Rahkonen-


From liglio at pobox.com  Wed Mar  9 15:19:59 2016
From: liglio at pobox.com (Liglio)
Date: Wed, 9 Mar 2016 15:19:59 -0800 (PST)
Subject: [gdal-dev] Use of gdalwarp to make GeoTiff transparent is
 flipping	the image
In-Reply-To: <loom.20160309T232828-869@post.gmane.org>
References: <1457560010860-5255474.post@n6.nabble.com>
 <loom.20160309T232828-869@post.gmane.org>
Message-ID: <1457565599168-5255484.post@n6.nabble.com>

Driver: GTiff/GeoTIFF
Files: E:\Images\image.tif
Size is 982, 1108
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-58.449520100000001,-34.571399100000001)
Pixel Size = (0.020016536493374,0.020014199367660)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( -58.4495201, -34.5713991) ( 58d26'58.27"W, 34d34'17.04"S)
Lower Left  ( -58.4495201, -12.3956662) ( 58d26'58.27"W, 12d23'44.40"S)
Upper Right ( -38.7932813, -34.5713991) ( 38d47'35.81"W, 34d34'17.04"S)
Lower Right ( -38.7932813, -12.3956662) ( 38d47'35.81"W, 12d23'44.40"S)
Center      ( -48.6214007, -23.4835327) ( 48d37'17.04"W, 23d29' 0.72"S)
Band 1 Block=982x2 Type=Byte, ColorInterp=Red
Band 2 Block=982x2 Type=Byte, ColorInterp=Green
Band 3 Block=982x2 Type=Byte, ColorInterp=Blue

-------------------------------------------------------------------------------------------------------
Driver: GTiff/GeoTIFF
Files: E:\Images\transp_image.tif
Size is 982, 1108
Coordinate System is:
GEOGCS["WGS 84",
    DATUM["WGS_1984",
        SPHEROID["WGS 84",6378137,298.257223563,
            AUTHORITY["EPSG","7030"]],
        AUTHORITY["EPSG","6326"]],
    PRIMEM["Greenwich",0],
    UNIT["degree",0.0174532925199433],
    AUTHORITY["EPSG","4326"]]
Origin = (-58.449520100000001,-12.395666200632341)
Pixel Size = (0.020015227575895,-0.020015227575895)
Metadata:
  AREA_OR_POINT=Area
Image Structure Metadata:
  INTERLEAVE=PIXEL
Corner Coordinates:
Upper Left  ( -58.4495201, -12.3956662) ( 58d26'58.27"W, 12d23'44.40"S)
Lower Left  ( -58.4495201, -34.5725384) ( 58d26'58.27"W, 34d34'21.14"S)
Upper Right ( -38.7945666, -12.3956662) ( 38d47'40.44"W, 12d23'44.40"S)
Lower Right ( -38.7945666, -34.5725384) ( 38d47'40.44"W, 34d34'21.14"S)
Center      ( -48.6220434, -23.4841023) ( 48d37'19.36"W, 23d29' 2.77"S)
Band 1 Block=982x2 Type=Byte, ColorInterp=Red
  NoData Value=0
Band 2 Block=982x2 Type=Byte, ColorInterp=Green
  NoData Value=0
Band 3 Block=982x2 Type=Byte, ColorInterp=Blue
  NoData Value=0
Band 4 Block=982x2 Type=Byte, ColorInterp=Alpha
  NoData Value=0





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Use-of-gdalwarp-to-make-GeoTiff-transparent-is-flipping-the-image-tp5255474p5255484.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From bishop.dev at gmail.com  Thu Mar 10 00:37:21 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Thu, 10 Mar 2016 11:37:21 +0300
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
Message-ID: <56E13241.4040203@gmail.com>

Hi Tanuj,
09.03.2016 13:17, Tanuj Kumar пишет:
> Yes, I have looked at the ideas list, and I am currently reading up on 
> idea no. 16, which is, implementing support for the proposed standard 
> for incrementally parseable GeoJSON data.
>
> Also, I was thinking that maybe I could work on ticket no 6294, 
> https://trac.osgeo.org/gdal/ticket/6294
> after I've studied about the GSoC idea, which is not really a bug, but 
> an enhancement. But if there are any other tickets that you or anyone 
> else would like to recommend me to work on, I'd love to see them too!
I think this rather arguing ticket as the bool is not exist in plain C, 
and duplication functions seems to me not good idea.
I think this ticket https://trac.osgeo.org/gdal/ticket/6185 is good for: 
1. building GDAL, 2. Testing via TraviC on GitHub. By the way the libpng 
version is 1.6.21 or maybe higher.

Anyhow, you have to try to build gdal and test it with autotests from 
appropriate folder.
>
> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that 
> matter) to work on it? I only ask because the idea lists C/C++ as the 
> required skills, but I feel that maybe this work would involve knowing 
> JSON too...
Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be 
found here http://geojson.org/Thanks and regards,
>
> Tanuj
>
>
> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov 
> <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>
>     Hi, Tanuj
>
>     I'll look for opened tickets for you, or maybe others can
>     recommend some for you.
>
>     By the way, do you see the idea list
>     (https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>     The ideas are not ranked yet - the numbers in the list - are only
>     in order.
>     This is a task for us to rank the ideas.
>     But, have you some preferable idea (or ideas) for GSoC from this
>     list or maybe you have got own?
>
>     Best regards,
>          Dmitry
>
>     04.03.2016 16:11, Tanuj Kumar пишет:
>>     Hello,
>>     I am interested in applying for GSoC this year. Currently, I am
>>     reading up on the GDAL Summer of Code ideas list. I know C++ and
>>     C, and I have some experience on working on linux.
>>     Could the mentors please recommend a bug for me to work on, I'd
>>     really love to start off as soon as possible!
>>
>>     Thank you,
>>
>>     Tanuj Kumar
>>     Birla institute of Technology and Science
>>     Pilani, Rajasthan,
>>     India
>>
>>
>>     _______________________________________________
>>     gdal-dev mailing list
>>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

Best regards,
     Dmitry

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160310/44ed2cf3/attachment.html>

From jukka.rahkonen at maanmittauslaitos.fi  Thu Mar 10 06:44:51 2016
From: jukka.rahkonen at maanmittauslaitos.fi (Jukka Rahkonen)
Date: Thu, 10 Mar 2016 14:44:51 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?Use_of_gdalwarp_to_make_GeoTiff_transparent_?=
	=?utf-8?q?is_flipping=09the_image?=
References: <1457560010860-5255474.post@n6.nabble.com>
 <loom.20160309T232828-869@post.gmane.org>
 <1457565599168-5255484.post@n6.nabble.com>
Message-ID: <loom.20160310T153615-590@post.gmane.org>

Liglio <liglio <at> pobox.com> writes:


In your original file you have

> Origin = (-58.449520100000001,-34.571399100000001)
> Pixel Size = (0.020016536493374,0.020014199367660)

In the converted one you have

> Origin = (-58.449520100000001,-12.395666200632341)
> Pixel Size = (0.020015227575895,-0.020015227575895)

Notice the positive offset for the y coordinate in the original which means
that actually it is a south-up image and latitude is growing when you go
downwards from the up-most row of the image. Gdalwarp is turning the image
into common north-up image which is also changing the origin because the
native origin is now in the bottom-left corner.

If the original image is not really a south-up one then it has wrong
georeferencing. Gdalwarp is doing what it is supposed to do.

-Jukka Rahkonen-




From Stefan.Zakrzewski at gugik.gov.pl  Fri Mar 11 01:28:43 2016
From: Stefan.Zakrzewski at gugik.gov.pl (Zakrzewski Stefan)
Date: Fri, 11 Mar 2016 10:28:43 +0100
Subject: [gdal-dev] ogr2ogr CircleByCenterPoint convert problem
Message-ID: <A1277C5543FDB646991C1A23518890F9014E87E59894@gugik-ex.gugik-server.gugik>

Hi Everyone.

For several days I try to convert GML file for SHP. It contains objects in three geometry types: point, linear and polygon. They are located on several layers, each of which may contain all types of geometry. Some of polygon features are stored as CircleByCenterPoint.

After download GDAL 2.02 I've used this command:
ogr2ogr -f "ESRI Shapefile" "file.shp" "file.gml" -overwrite -skipfailures -splitlistfields -where OGR_GEOMETRY='Polygon' -nlt CURVE_TO_LINEAR

For one layer in GML file ogr2ogr has made polygon features for circles, but for another completely not.
I have checked twice and GML feature members in both layers are the same.

I've tried use CURVEPOLYGON, CIRCULARSTRING and got no polygons for Circles in shape file.

Any hints?

Regards
Stefan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160311/9344e7a5/attachment.html>

From even.rouault at spatialys.com  Fri Mar 11 01:37:14 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 11 Mar 2016 10:37:14 +0100
Subject: [gdal-dev] ogr2ogr CircleByCenterPoint convert problem
In-Reply-To: <A1277C5543FDB646991C1A23518890F9014E87E59894@gugik-ex.gugik-server.gugik>
References: <A1277C5543FDB646991C1A23518890F9014E87E59894@gugik-ex.gugik-server.gugik>
Message-ID: <201603111037.14301.even.rouault@spatialys.com>

Le vendredi 11 mars 2016 10:28:43, Zakrzewski Stefan a écrit :
> Hi Everyone.
> 
> For several days I try to convert GML file for SHP. It contains objects in
> three geometry types: point, linear and polygon. They are located on
> several layers, each of which may contain all types of geometry. Some of
> polygon features are stored as CircleByCenterPoint.
> 
> After download GDAL 2.02 I've used this command:
> ogr2ogr -f "ESRI Shapefile" "file.shp" "file.gml" -overwrite -skipfailures
> -splitlistfields -where OGR_GEOMETRY='Polygon' -nlt CURVE_TO_LINEAR

I suspect this will not do what you intend. The -where OGR_GEOMETRY='Polygon'  
is applied *before* conversion of curves to linear geometries.
So either modify your where clause to select the curve geometries you want 
(you can use the OR boolean operator ), or do the filtering in a second stage 
by first outputing to let's say a temporary Spatialite and then convert to 
shape

> 
> For one layer in GML file ogr2ogr has made polygon features for circles,
> but for another completely not. I have checked twice and GML feature
> members in both layers are the same.

If your GML file has several layers, your above method will not merge them into 
a single shapefile.

You could do a ogr2ogr temporary_shp_directory file.gml [....]

and then merge all the shapefiles in temporary_shp_directory into a single one 
by using ogr2ogr / ogr2ogr -append

> 
> I've tried use CURVEPOLYGON, CIRCULARSTRING and got no polygons for Circles
> in shape file.
> 
> Any hints?
> 
> Regards
> Stefan

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From kassies at gmail.com  Fri Mar 11 01:58:49 2016
From: kassies at gmail.com (Rutger)
Date: Fri, 11 Mar 2016 01:58:49 -0800 (PST)
Subject: [gdal-dev] Comparing two SRS's, different Proj4
Message-ID: <1457690329014-5255792.post@n6.nabble.com>

Dear list,

I am trying to compare 2 different projections using OSR in Python. One SRS
is initialized from a proj4 string given by PostGIS. It's a custom
definition, so using EPSG is unfortunately not an option.

The other SRS is read from a Geotiff raster using GDAL, so initialized via
Wkt from ds.GetProjection(). 

My method of comparing is maybe a bit naive, i tried:
srs1.ExportToProj4() == srs2.ExportToProj4()

If there something better i'd be happy to hear. 

The problem is however that both ExportToWkt() statements return a different
string. The one initialized from Wkt defines the datum as "+datum=WGS84",
which is identical to running "gdalinfo -proj4" and i assume this is
correct.

The other srs changes this to "+ellps=WGS84 +towgs84=0,0,0,0,0,0,0". 

Here is a notebook replicating the behavior, but without using a raster:
https://gist.github.com/RutgerK/e4e40b1025f7279af430

Why is the ExportToProj4() different then the string from which it was
initialized? 

A workaround for me would be to first read the Wkt from the raster and
initialize a srs-object, export from that object to proj4 and use that to
initialize a new srs-object and go from there. That doesn't seem right
though, so would be happy if someone can point me in the right direction. 


Regards,
Rutger



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Comparing-two-SRS-s-different-Proj4-tp5255792.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at spatialys.com  Fri Mar 11 02:39:10 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 11 Mar 2016 11:39:10 +0100
Subject: [gdal-dev] Comparing two SRS's, different Proj4
In-Reply-To: <1457690329014-5255792.post@n6.nabble.com>
References: <1457690329014-5255792.post@n6.nabble.com>
Message-ID: <201603111139.10590.even.rouault@spatialys.com>

Le vendredi 11 mars 2016 10:58:49, Rutger a écrit :
> Dear list,
> 
> I am trying to compare 2 different projections using OSR in Python. One SRS
> is initialized from a proj4 string given by PostGIS. It's a custom
> definition, so using EPSG is unfortunately not an option.
> 
> The other SRS is read from a Geotiff raster using GDAL, so initialized via
> Wkt from ds.GetProjection().
> 
> My method of comparing is maybe a bit naive, i tried:
> srs1.ExportToProj4() == srs2.ExportToProj4()
> 
> If there something better i'd be happy to hear.
> 
> The problem is however that both ExportToWkt() statements return a
> different string. The one initialized from Wkt defines the datum as
> "+datum=WGS84", which is identical to running "gdalinfo -proj4" and i
> assume this is correct.
> 
> The other srs changes this to "+ellps=WGS84 +towgs84=0,0,0,0,0,0,0".
> 
> Here is a notebook replicating the behavior, but without using a raster:
> https://gist.github.com/RutgerK/e4e40b1025f7279af430
> 
> Why is the ExportToProj4() different then the string from which it was
> initialized?

Rutger,

This is a bit tricky. There are 2 things to consider:
- one of the "culprit" is ImportFromProj4(). It uses a proj.4 function that 
"normalizes" the proj.4 parameters, and that may have some influence on +datum 
parameters being appended a +towgs84 clause  or not depending on the proj4. 
version.
I made a fix for the WGS84 case, a few months ago in trunk (so not in 2.0.X), 
so as not to happen the +towgs84=0,0,0 clause :
https://trac.osgeo.org/gdal/changeset/29775
- the other culprit is  ExportToProj4(). Normally the default behaviour of 
ExportToProj4() when it sees a +towgs84 node is to remove the +datum and let 
only +ellps +towgs84. I don't recall precisely the reason for this, but this 
behaviour can be altered by setting the OVERRIDE_PROJ_DATUM_WITH_TOWGS84 config 
option/environmenet variable to NO.

I've tested on GDAL 2.0.X :
$ OVERRIDE_PROJ_DATUM_WITH_TOWGS84=NO gdalsrsinfo '+proj=aea +lat_1=20 
+lat_2=-23 +lat_0=0 +lon_0=25 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs '

PROJ.4 : '+proj=aea +lat_1=20 +lat_2=-23 +lat_0=0 +lon_0=25 +x_0=0 +y_0=0 
+datum=WGS84 +units=m +no_defs '

In trunk, no need to add OVERRIDE_PROJ_DATUM_WITH_TOWGS84=NO since due to the 
first fix I mentionned ImportFromProj4() of +datum=WGS84 no longer generates 
+towgs84=0,0,0 node.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From kassies at gmail.com  Fri Mar 11 02:45:29 2016
From: kassies at gmail.com (Rutger)
Date: Fri, 11 Mar 2016 02:45:29 -0800 (PST)
Subject: [gdal-dev] Comparing two SRS's, different Proj4
In-Reply-To: <201603111139.10590.even.rouault@spatialys.com>
References: <1457690329014-5255792.post@n6.nabble.com>
 <201603111139.10590.even.rouault@spatialys.com>
Message-ID: <1457693129831-5255807.post@n6.nabble.com>

Even Rouault-2 wrote
> Le vendredi 11 mars 2016 10:58:49, Rutger a écrit :
> 
>>...
> 
> This is a bit tricky. There are 2 things to consider:
> - one of the "culprit" is ImportFromProj4(). It uses a proj.4 function
> that 
> "normalizes" the proj.4 parameters, and that may have some influence on
> +datum 
> parameters being appended a +towgs84 clause  or not depending on the
> proj4. 
> version.
> I made a fix for the WGS84 case, a few months ago in trunk (so not in
> 2.0.X), 
> so as not to happen the +towgs84=0,0,0 clause :
> https://trac.osgeo.org/gdal/changeset/29775
> - the other culprit is  ExportToProj4(). Normally the default behaviour of 
> ExportToProj4() when it sees a +towgs84 node is to remove the +datum and
> let 
> only +ellps +towgs84. I don't recall precisely the reason for this, but
> this 
> behaviour can be altered by setting the OVERRIDE_PROJ_DATUM_WITH_TOWGS84
> config 
> option/environmenet variable to NO.
> 
> I've tested on GDAL 2.0.X :
> $ OVERRIDE_PROJ_DATUM_WITH_TOWGS84=NO gdalsrsinfo '+proj=aea +lat_1=20 
> +lat_2=-23 +lat_0=0 +lon_0=25 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs
> '
> 
> PROJ.4 : '+proj=aea +lat_1=20 +lat_2=-23 +lat_0=0 +lon_0=25 +x_0=0 +y_0=0 
> +datum=WGS84 +units=m +no_defs '
> 
> In trunk, no need to add OVERRIDE_PROJ_DATUM_WITH_TOWGS84=NO since due to
> the 
> first fix I mentionned ImportFromProj4() of +datum=WGS84 no longer
> generates 
> +towgs84=0,0,0 node.
> 
> Even
> 
> -- 
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list

> gdal-dev at .osgeo

> http://lists.osgeo.org/mailman/listinfo/gdal-dev

Even,

Thanks for fast response, setting the environment variable works very well,
so that solves it for now. In case anyone else needs this, you can set it in
Python with:
os.environ['OVERRIDE_PROJ_DATUM_WITH_TOWGS84'] = 'NO'

Which makes it valid during the Python "session", as long as python.exe is
running i guess.


Regards,
Rutger








--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Comparing-two-SRS-s-different-Proj4-tp5255792p5255807.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From sarthak0415 at gmail.com  Fri Mar 11 09:40:00 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Fri, 11 Mar 2016 23:10:00 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cw3EONUAb24+rEPwFpactXtZcCY4Xgdz=nsfkGR-0-eDw@mail.gmail.com>
References: <CAPwn9cw3EONUAb24+rEPwFpactXtZcCY4Xgdz=nsfkGR-0-eDw@mail.gmail.com>
Message-ID: <CAPwn9cxJLtnTZ5APLKdj_4P3GqwVH9HU6VOizVE2X2fc6Kgp_Q@mail.gmail.com>

Hello Dmitry,

I tried the bug/enhancement #6294 <https://trac.osgeo.org/gdal/ticket/6294>
and succesfully compiled the code .
Now I am trying to find the work related to the project and solve them .

I have some doubts on the project and as well as code. Could you help me
out with that.
I would also like to talk about my proposal for the project.

Regards,
Sarthak

On Fri, Mar 11, 2016 at 7:10 PM, sarthak agarwal <sarthak0415 at gmail.com>
wrote:

Hello devs,
>
> Myself Sarthak currently working under Dr. KS Rajan as a research student
> in Spatial Informatics Lab, IIIT hyderabad . I am currently working in
> spatial databases by optimizing the performance of mongoDb for spatial
> databases. Previously i have worked on Billboard placement optimization
> problem(using QGIS) and with pgRouting as a part of my previous GSOC
> project. I regularly use QGIS for my research work as well.
>
> I also published a paper @FOSS4G south korea last year .
> I am an open source enthusiast and likes to contribute to our osego
> community. I am interested in working with GDAL as a part of GSOC project.
>
> I saw the list of the projects and found them really interesting.
> I am interested in projects 4(which requires knowledge of EPSG codes and I
> know about them) and project 5 (which require the knowledge of boost
> geometry which I used in my GSOC project last year).
>
> Can someone please guide me in the same direction.
> The problem looks interesting to me. I am familiar with the technologies
> needed for this project. As i have already worked in c++ and python .
>
> Attached is my resume .
> Regards,
> Sarthak Agarwal
> Btech and Ms by research in Spatial Informatics
> International Institute Of Information Technology ,Hyderabad
>
> ​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160311/a6397c4e/attachment-0001.html>

From kmrtnjscnc at gmail.com  Fri Mar 11 23:36:55 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Sat, 12 Mar 2016 13:06:55 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <56E13241.4040203@gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
Message-ID: <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>

Sorry for replying so late, got caught up in an exam :)

I replaced libpng folder of gdal (frmts/png/libpng) with libpng 1.6.21. And
then used ./configure and make install on this test version of gdal, which
installed successfully. I used gdalinfo on a png file provided with the
libpng 1.6.21 source, to check if it was OK, and it successfully gave the
png file details.

Is that enough to check the build on the computer?

I have also tested the gdal library with libpng 1.6.21 on Travis, and the
build succeeded.
https://travis-ci.org/Raeburn1687/gdal/builds/115487530

Would all that be enough to check whether the update was succesful?

PS - Although I have copied the files from libpng 1.6.21 source to the gdal
libpng folder, how would I know if any of those files are not required for
gdal?

Thank you

Tanuj

On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Tanuj,
> 09.03.2016 13:17, Tanuj Kumar пишет:
>
> Yes, I have looked at the ideas list, and I am currently reading up on
> idea no. 16, which is, implementing support for the proposed standard for
> incrementally parseable GeoJSON data.
>
> Also, I was thinking that maybe I could work on ticket no 6294,
> https://trac.osgeo.org/gdal/ticket/6294
> after I've studied about the GSoC idea, which is not really a bug, but an
> enhancement. But if there are any other tickets that you or anyone else
> would like to recommend me to work on, I'd love to see them too!
>
> I think this rather arguing ticket as the bool is not exist in plain C,
> and duplication functions seems to me not good idea.
> I think this ticket https://trac.osgeo.org/gdal/ticket/6185 is good for:
> 1. building GDAL, 2. Testing via TraviC on GitHub. By the way the libpng
> version is 1.6.21 or maybe higher.
>
> Anyhow, you have to try to build gdal and test it with autotests from
> appropriate folder.
>
>
> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that
> matter) to work on it? I only ask because the idea lists C/C++ as the
> required skills, but I feel that maybe this work would involve knowing JSON
> too...
>
> Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be found
> here http://geojson.org/Thanks and regards,
>
>
> Tanuj
>
>
> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
> wrote:
>
>> Hi, Tanuj
>>
>> I'll look for opened tickets for you, or maybe others can recommend some
>> for you.
>>
>> By the way, do you see the idea list (
>> <https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList>
>> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>> The ideas are not ranked yet - the numbers in the list - are only in
>> order.
>> This is a task for us to rank the ideas.
>> But, have you some preferable idea (or ideas) for GSoC from this list or
>> maybe you have got own?
>>
>> Best regards,
>>     Dmitry
>>
>> 04.03.2016 16:11, Tanuj Kumar пишет:
>>
>> Hello,
>> I am interested in applying for GSoC this year. Currently, I am reading
>> up on the GDAL Summer of Code ideas list. I know C++ and C, and I have some
>> experience on working on linux.
>> Could the mentors please recommend a bug for me to work on, I'd really
>> love to start off as soon as possible!
>>
>> Thank you,
>>
>> Tanuj Kumar
>> Birla institute of Technology and Science
>> Pilani, Rajasthan,
>> India
>>
>>
>> _______________________________________________
>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
> Best regards,
>     Dmitry
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160312/ef717a68/attachment.html>

From deedeebernard at hotmail.com  Sat Mar 12 05:13:38 2016
From: deedeebernard at hotmail.com (Didier Bernard)
Date: Sat, 12 Mar 2016 13:13:38 +0000
Subject: [gdal-dev] How to remove every second row and column of cells from
 the grid of a raster in GDAL?
In-Reply-To: <AM3PR08MB0103817A214CF746D1D87E86A3B50@AM3PR08MB0103.eurprd08.prod.outlook.com>
References: <AM3PR08MB0103817A214CF746D1D87E86A3B50@AM3PR08MB0103.eurprd08.prod.outlook.com>
Message-ID: <AM3PR08MB010329D06F4D5131BC3DAD53A3B60@AM3PR08MB0103.eurprd08.prod.outlook.com>

Hello,


Is it possible to resample the raster by using GDAL C# binaries<http://www.gisinternals.com/release.php>, in a way that every other cell in a row and column is removed?

Basically a replication of this GDAL command:


gdal_translate -outsize 50% 0 input.tif output.tif

Thank you for the reply.
Didier Bernard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160312/365226c5/attachment.html>

From bishop.dev at gmail.com  Sat Mar 12 09:12:09 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Sat, 12 Mar 2016 20:12:09 +0300
Subject: [gdal-dev]  GSOC 2016
Message-ID: <56E44DE9.10103@gmail.com>

Hello GSoC students!

Many of you wrote to different lists and directly for me. I tried to 
systematize your questions.

1. First of all each student need to subscribe to soc at lists.osgeo.org 
(the themes connected with organizing moments) and 
gdal-dev at lists.osgeo.org (the themes about ideas, tickets, coding and 
community). Please don't flood both lists the same letters.

2. Next - I dig the GDAL tracker and found some tickets worth to be 
fixed. This work help you to understand the project structure and how it 
works (building, testing and so on) and help project to became better.
The expected result is applied pool request in GDAL main repository at 
github (https://github.com/OSGeo/gdal).
By the way, after pool request to this repository, the provided fixes 
are tested via TravisC and over test utilities.
Before making pool request please test it yourself (ubuntu and windows 
is enough, virtualbox or preferable virtualization soft may help here).
Here is the tickets I think is good for you (it's welcome if community 
fix this list - maybe some tickets need to be excluded or some included):

- https://trac.osgeo.org/gdal/ticket/2773
- https://trac.osgeo.org/gdal/ticket/5035 - Alex
- https://trac.osgeo.org/gdal/ticket/5347
- https://trac.osgeo.org/gdal/ticket/5592
- https://trac.osgeo.org/gdal/ticket/5681
- https://trac.osgeo.org/gdal/ticket/5705
- https://trac.osgeo.org/gdal/ticket/6185 - Tanuj
- https://trac.osgeo.org/gdal/ticket/6222
- https://trac.osgeo.org/gdal/ticket/6246
- https://trac.osgeo.org/gdal/ticket/6304
- https://trac.osgeo.org/gdal/ticket/6316
- https://trac.osgeo.org/gdal/ticket/6385

I checked tickets already get by students. It's good to discuss with 
community how you plan to fix the tickets before start coding. Also, 
choose tickets carefully, we need students with good skills, so the 
ticket should show your potential. Some of you already choose another 
tickets, and this is normal too, but they need to be discussed too. For 
example the ticket https://trac.osgeo.org/gdal/ticket/6294 is rather 
controversial.

3. We need to see which ideas each of student choose, and what is a plan 
how to release them. You need some discussion with the community what is 
best way or some directions to do it. This is not spoil of the time as 
your ideas come as background for your project announces.

It'll be nice have more details for some ideas from list 
https://trac.osgeo.org/gdal/wiki/SummerOfCode. The ideas #7,8,9 are very 
briefly.

-- 
Best regards,
     Dmitry


From bishop.dev at gmail.com  Sat Mar 12 09:17:00 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Sat, 12 Mar 2016 20:17:00 +0300
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
Message-ID: <56E44F0C.2010604@gmail.com>

Hi Tanuj,

I wrote a big letter to the list. There is some answers there. Also I 
add comments below.

Best regards,
     Dmitry

12.03.2016 10:36, Tanuj Kumar пишет:
> Sorry for replying so late, got caught up in an exam :)
>
> I replaced libpng folder of gdal (frmts/png/libpng) with libpng 
> 1.6.21. And then used ./configure and make install on this test 
> version of gdal, which installed successfully. I used gdalinfo on a 
> png file provided with the libpng 1.6.21 source, to check if it was 
> OK, and it successfully gave the png file details.
>
> Is that enough to check the build on the computer?
No, the autotests must be passed.
>
> I have also tested the gdal library with libpng 1.6.21 on Travis, and 
> the build succeeded.
> https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>
> Would all that be enough to check whether the update was succesful?
I expected that travis from main gdal repo checked your PR.
>
> PS - Although I have copied the files from libpng 1.6.21 source to the 
> gdal libpng folder, how would I know if any of those files are not 
> required for gdal?
>
You need to see the previous version. Some files not needed (i.e. 
configures and so on, which already comes from gdal, but legal notice 
must be present (license, autors, etc.) ). Don't hesitate to ask in list.

> Thank you
>
> Tanuj
>
> On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov 
> <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>
>     Hi Tanuj,
>     09.03.2016 13:17, Tanuj Kumar пишет:
>>     Yes, I have looked at the ideas list, and I am currently reading
>>     up on idea no. 16, which is, implementing support for the
>>     proposed standard for incrementally parseable GeoJSON data.
>>
>>     Also, I was thinking that maybe I could work on ticket no 6294,
>>     https://trac.osgeo.org/gdal/ticket/6294
>>     after I've studied about the GSoC idea, which is not really a
>>     bug, but an enhancement. But if there are any other tickets that
>>     you or anyone else would like to recommend me to work on, I'd
>>     love to see them too!
>     I think this rather arguing ticket as the bool is not exist in
>     plain C, and duplication functions seems to me not good idea.
>     I think this ticket https://trac.osgeo.org/gdal/ticket/6185 is
>     good for: 1. building GDAL, 2. Testing via TraviC on GitHub. By
>     the way the libpng version is 1.6.21 or maybe higher.
>
>     Anyhow, you have to try to build gdal and test it with autotests
>     from appropriate folder.
>>
>>     Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for
>>     that matter) to work on it? I only ask because the idea lists
>>     C/C++ as the required skills, but I feel that maybe this work
>>     would involve knowing JSON too...
>     Yes, certainly. But JSON are very simple. Also GeoJSON spec. can
>     be found here http://geojson.org/Thanks and regards,
>
>>
>>     Tanuj
>>
>>
>>     On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov
>>     <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>>
>>         Hi, Tanuj
>>
>>         I'll look for opened tickets for you, or maybe others can
>>         recommend some for you.
>>
>>         By the way, do you see the idea list
>>         (https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>         The ideas are not ranked yet - the numbers in the list - are
>>         only in order.
>>         This is a task for us to rank the ideas.
>>         But, have you some preferable idea (or ideas) for GSoC from
>>         this list or maybe you have got own?
>>
>>         Best regards,
>>              Dmitry
>>
>>         04.03.2016 16:11, Tanuj Kumar пишет:
>>>         Hello,
>>>         I am interested in applying for GSoC this year. Currently, I
>>>         am reading up on the GDAL Summer of Code ideas list. I know
>>>         C++ and C, and I have some experience on working on linux.
>>>         Could the mentors please recommend a bug for me to work on,
>>>         I'd really love to start off as soon as possible!
>>>
>>>         Thank you,
>>>
>>>         Tanuj Kumar
>>>         Birla institute of Technology and Science
>>>         Pilani, Rajasthan,
>>>         India
>>>
>>>
>>>         _______________________________________________
>>>         gdal-dev mailing list
>>>         gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>         _______________________________________________
>>         gdal-dev mailing list
>>         gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>>         http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>
>     Best regards,
>          Dmitry
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160312/590c8ed9/attachment-0001.html>

From kmrtnjscnc at gmail.com  Sat Mar 12 09:30:39 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Sat, 12 Mar 2016 23:00:39 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <56E44F0C.2010604@gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
Message-ID: <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>

Alright, thank you very much, I'll get to work on it!

On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Tanuj,
>
> I wrote a big letter to the list. There is some answers there. Also I add
> comments below.
>
> Best regards,
>     Dmitry
>
> 12.03.2016 10:36, Tanuj Kumar пишет:
>
> Sorry for replying so late, got caught up in an exam :)
>
> I replaced libpng folder of gdal (frmts/png/libpng) with libpng 1.6.21.
> And then used ./configure and make install on this test version of gdal,
> which installed successfully. I used gdalinfo on a png file provided with
> the libpng 1.6.21 source, to check if it was OK, and it successfully gave
> the png file details.
>
> Is that enough to check the build on the computer?
>
> No, the autotests must be passed.
>
>
> I have also tested the gdal library with libpng 1.6.21 on Travis, and the
> build succeeded.
> https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>
> Would all that be enough to check whether the update was succesful?
>
> I expected that travis from main gdal repo checked your PR.
>
>
> PS - Although I have copied the files from libpng 1.6.21 source to the
> gdal libpng folder, how would I know if any of those files are not required
> for gdal?
>
> You need to see the previous version. Some files not needed (i.e.
> configures and so on, which already comes from gdal, but legal notice must
> be present (license, autors, etc.) ). Don't hesitate to ask in list.
>
>
> Thank you
>
> Tanuj
>
> On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
> wrote:
>
>> Hi Tanuj,
>> 09.03.2016 13:17, Tanuj Kumar пишет:
>>
>> Yes, I have looked at the ideas list, and I am currently reading up on
>> idea no. 16, which is, implementing support for the proposed standard for
>> incrementally parseable GeoJSON data.
>>
>> Also, I was thinking that maybe I could work on ticket no 6294,
>> <https://trac.osgeo.org/gdal/ticket/6294>
>> https://trac.osgeo.org/gdal/ticket/6294
>> after I've studied about the GSoC idea, which is not really a bug, but an
>> enhancement. But if there are any other tickets that you or anyone else
>> would like to recommend me to work on, I'd love to see them too!
>>
>> I think this rather arguing ticket as the bool is not exist in plain C,
>> and duplication functions seems to me not good idea.
>> I think this ticket https://trac.osgeo.org/gdal/ticket/6185 is good for:
>> 1. building GDAL, 2. Testing via TraviC on GitHub. By the way the libpng
>> version is 1.6.21 or maybe higher.
>>
>> Anyhow, you have to try to build gdal and test it with autotests from
>> appropriate folder.
>>
>>
>> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that
>> matter) to work on it? I only ask because the idea lists C/C++ as the
>> required skills, but I feel that maybe this work would involve knowing JSON
>> too...
>>
>> Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be found
>> here http://geojson.org/Thanks and regards,
>>
>>
>> Tanuj
>>
>>
>> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <
>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>
>>> Hi, Tanuj
>>>
>>> I'll look for opened tickets for you, or maybe others can recommend some
>>> for you.
>>>
>>> By the way, do you see the idea list (
>>> <https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList>
>>> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>> The ideas are not ranked yet - the numbers in the list - are only in
>>> order.
>>> This is a task for us to rank the ideas.
>>> But, have you some preferable idea (or ideas) for GSoC from this list or
>>> maybe you have got own?
>>>
>>> Best regards,
>>>     Dmitry
>>>
>>> 04.03.2016 16:11, Tanuj Kumar пишет:
>>>
>>> Hello,
>>> I am interested in applying for GSoC this year. Currently, I am reading
>>> up on the GDAL Summer of Code ideas list. I know C++ and C, and I have some
>>> experience on working on linux.
>>> Could the mentors please recommend a bug for me to work on, I'd really
>>> love to start off as soon as possible!
>>>
>>> Thank you,
>>>
>>> Tanuj Kumar
>>> Birla institute of Technology and Science
>>> Pilani, Rajasthan,
>>> India
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>> Best regards,
>>     Dmitry
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160312/2c807297/attachment.html>

From sarthak0415 at gmail.com  Sat Mar 12 13:10:27 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Sun, 13 Mar 2016 02:40:27 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <56E44DE9.10103@gmail.com>
References: <56E44DE9.10103@gmail.com>
Message-ID: <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>

Thank you for your reply Dmitry,

Yesterday I was working on ticket 6294
<https://trac.osgeo.org/gdal/ticket/6294> but since you said it was
controversial I started to look around at ticket 6316
<https://trac.osgeo.org/gdal/ticket/6316>,

I figured out that we have to add a else statement after this code
<https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp>
to give a default value to the ppszDbname in case user dosen’t provide any
database name by default.

And I suggest this small enhancement
<https://github.com/OSGeo/gdal/commit/e7b2e9e9cd946d257cae5dfd196b4786cc2c0e94>
to the code.
Although I am not sure of this line
<https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2642>
where I want to copy the userName into dbName.

This is a small fix and I wanted to discuss further on it.

I have succesfully build the code on travis
<https://travis-ci.org/sarthak-0415/gdal/builds/115574203>, please check it
once.

I have some doubts regarding some variables and functions for which I am
still reading the code.
I will get back to you if I have some more doubts.

Regards,
Sarthak

On Sat, Mar 12, 2016 at 10:42 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

Hello GSoC students!
>
> Many of you wrote to different lists and directly for me. I tried to
> systematize your questions.
>
> 1. First of all each student need to subscribe to soc at lists.osgeo.org
> (the themes connected with organizing moments) and
> gdal-dev at lists.osgeo.org (the themes about ideas, tickets, coding and
> community). Please don't flood both lists the same letters.
>
> 2. Next - I dig the GDAL tracker and found some tickets worth to be fixed.
> This work help you to understand the project structure and how it works
> (building, testing and so on) and help project to became better.
> The expected result is applied pool request in GDAL main repository at
> github (https://github.com/OSGeo/gdal).
> By the way, after pool request to this repository, the provided fixes are
> tested via TravisC and over test utilities.
> Before making pool request please test it yourself (ubuntu and windows is
> enough, virtualbox or preferable virtualization soft may help here).
> Here is the tickets I think is good for you (it's welcome if community fix
> this list - maybe some tickets need to be excluded or some included):
>
> - https://trac.osgeo.org/gdal/ticket/2773
> - https://trac.osgeo.org/gdal/ticket/5035 - Alex
> - https://trac.osgeo.org/gdal/ticket/5347
> - https://trac.osgeo.org/gdal/ticket/5592
> - https://trac.osgeo.org/gdal/ticket/5681
> - https://trac.osgeo.org/gdal/ticket/5705
> - https://trac.osgeo.org/gdal/ticket/6185 - Tanuj
> - https://trac.osgeo.org/gdal/ticket/6222
> - https://trac.osgeo.org/gdal/ticket/6246
> - https://trac.osgeo.org/gdal/ticket/6304
> - https://trac.osgeo.org/gdal/ticket/6316
> - https://trac.osgeo.org/gdal/ticket/6385
>
> I checked tickets already get by students. It's good to discuss with
> community how you plan to fix the tickets before start coding. Also, choose
> tickets carefully, we need students with good skills, so the ticket should
> show your potential. Some of you already choose another tickets, and this
> is normal too, but they need to be discussed too. For example the ticket
> https://trac.osgeo.org/gdal/ticket/6294 is rather controversial.
>
> 3. We need to see which ideas each of student choose, and what is a plan
> how to release them. You need some discussion with the community what is
> best way or some directions to do it. This is not spoil of the time as your
> ideas come as background for your project announces.
>
> It'll be nice have more details for some ideas from list
> https://trac.osgeo.org/gdal/wiki/SummerOfCode. The ideas #7,8,9 are very
> briefly.
>
> --
> Best regards,
>     Dmitry
>
> ​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160313/5ae28c7b/attachment.html>

From bishop.dev at gmail.com  Sun Mar 13 07:13:27 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Sun, 13 Mar 2016 17:13:27 +0300
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
Message-ID: <56E57587.8000507@gmail.com>

Hi Sarthak,

1. The GDAL have 2 postgis drivers (raster and vector).
2. You need to add some information to the doxygen comment of 
GetConnectionInfo method about new functionality.
3. Do you look at psql behaviour? It seems to me the ticket author means 
to get the database name not only from environment variable, but also 
from the current logged user name.
4. There is a logic error: You form connection string based on 
parameters (papszParams) here - 
https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2502 
, but change the
papszParams below (i.e. 
https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2605). 
Also changed papszParams never used and only freed here - 
https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2735. 


Best regards,
     Dmitry

13.03.2016 00:10, sarthak agarwal пишет:
>
> Thank you for your reply Dmitry,
>
> Yesterday I was working on ticket 6294 
> <https://trac.osgeo.org/gdal/ticket/6294> but since you said it was 
> controversial I started to look around at ticket 6316 
> <https://trac.osgeo.org/gdal/ticket/6316>,
>
> I figured out that we have to add a |else| statement after this code 
> <https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp> 
> to give a default value to the |ppszDbname| in case user dosen’t 
> provide any database name by default.
>
> And I suggest this small enhancement 
> <https://github.com/OSGeo/gdal/commit/e7b2e9e9cd946d257cae5dfd196b4786cc2c0e94> 
> to the code.
> Although I am not sure of this line 
> <https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2642> 
> where I want to copy the |userName| into |dbName|.
>
> This is a small fix and I wanted to discuss further on it.
>
> I have succesfully build the code on travis 
> <https://travis-ci.org/sarthak-0415/gdal/builds/115574203>, please 
> check it once.
>
> I have some doubts regarding some variables and functions for which I 
> am still reading the code.
> I will get back to you if I have some more doubts.
>
> Regards,
> Sarthak
>
> On Sat, Mar 12, 2016 at 10:42 PM, Dmitry Baryshnikov 
> <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>
>     Hello GSoC students!
>
>     Many of you wrote to different lists and directly for me. I tried
>     to systematize your questions.
>
>     1. First of all each student need to subscribe to
>     soc at lists.osgeo.org <mailto:soc at lists.osgeo.org> (the themes
>     connected with organizing moments) and gdal-dev at lists.osgeo.org
>     <mailto:gdal-dev at lists.osgeo.org> (the themes about ideas,
>     tickets, coding and community). Please don't flood both lists the
>     same letters.
>
>     2. Next - I dig the GDAL tracker and found some tickets worth to
>     be fixed. This work help you to understand the project structure
>     and how it works (building, testing and so on) and help project to
>     became better.
>     The expected result is applied pool request in GDAL main
>     repository at github (https://github.com/OSGeo/gdal).
>     By the way, after pool request to this repository, the provided
>     fixes are tested via TravisC and over test utilities.
>     Before making pool request please test it yourself (ubuntu and
>     windows is enough, virtualbox or preferable virtualization soft
>     may help here).
>     Here is the tickets I think is good for you (it's welcome if
>     community fix this list - maybe some tickets need to be excluded
>     or some included):
>
>     - https://trac.osgeo.org/gdal/ticket/2773
>     - https://trac.osgeo.org/gdal/ticket/5035 - Alex
>     - https://trac.osgeo.org/gdal/ticket/5347
>     - https://trac.osgeo.org/gdal/ticket/5592
>     - https://trac.osgeo.org/gdal/ticket/5681
>     - https://trac.osgeo.org/gdal/ticket/5705
>     - https://trac.osgeo.org/gdal/ticket/6185 - Tanuj
>     - https://trac.osgeo.org/gdal/ticket/6222
>     - https://trac.osgeo.org/gdal/ticket/6246
>     - https://trac.osgeo.org/gdal/ticket/6304
>     - https://trac.osgeo.org/gdal/ticket/6316
>     - https://trac.osgeo.org/gdal/ticket/6385
>
>     I checked tickets already get by students. It's good to discuss
>     with community how you plan to fix the tickets before start
>     coding. Also, choose tickets carefully, we need students with good
>     skills, so the ticket should show your potential. Some of you
>     already choose another tickets, and this is normal too, but they
>     need to be discussed too. For example the ticket
>     https://trac.osgeo.org/gdal/ticket/6294 is rather controversial.
>
>     3. We need to see which ideas each of student choose, and what is
>     a plan how to release them. You need some discussion with the
>     community what is best way or some directions to do it. This is
>     not spoil of the time as your ideas come as background for your
>     project announces.
>
>     It'll be nice have more details for some ideas from list
>     https://trac.osgeo.org/gdal/wiki/SummerOfCode. The ideas #7,8,9
>     are very briefly.
>
>     -- 
>     Best regards,
>         Dmitry
>
> ​

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160313/3efc291f/attachment-0001.html>

From even.rouault at spatialys.com  Sun Mar 13 10:37:50 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Sun, 13 Mar 2016 18:37:50 +0100
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <56E57587.8000507@gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com>
Message-ID: <4897287.893J5uryIY@even-n550jk>

On Sunday 13 March 2016 17:13:27 Dmitry Baryshnikov wrote:
> Hi Sarthak,
> 
> 1. The GDAL have 2 postgis drivers (raster and vector).
> 2. You need to add some information to the doxygen comment of
> GetConnectionInfo method about new functionality.
> 3. Do you look at psql behaviour? It seems to me the ticket author means
> to get the database name not only from environment variable, but also
> from the current logged user name.

We should be as tolerant as the OGR PG driver is. ie not constraint the user 
to specify more than what PQconnectdb() requires  (ie it can be potentially 
empty)


> 4. There is a logic error: You form connection string based on
> parameters (papszParams) here -
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
> tgisrasterdataset.cpp#L2502 , but change the
> papszParams below (i.e.
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
> tgisrasterdataset.cpp#L2605). Also changed papszParams never used and only
> freed here -
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
> tgisrasterdataset.cpp#L2735.
> 
> 
> Best regards,
>      Dmitry
> 
> 13.03.2016 00:10, sarthak agarwal пишет:
> > Thank you for your reply Dmitry,
> > 
> > Yesterday I was working on ticket 6294
> > <https://trac.osgeo.org/gdal/ticket/6294> but since you said it was
> > controversial I started to look around at ticket 6316
> > <https://trac.osgeo.org/gdal/ticket/6316>,
> > 
> > I figured out that we have to add a |else| statement after this code
> > <https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/
> > postgisrasterdataset.cpp> to give a default value to the |ppszDbname| in
> > case user dosen’t
> > provide any database name by default.
> > 
> > And I suggest this small enhancement
> > <https://github.com/OSGeo/gdal/commit/e7b2e9e9cd946d257cae5dfd196b4786cc2c
> > 0e94> to the code.
> > Although I am not sure of this line
> > <https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/
> > postgisrasterdataset.cpp#L2642> where I want to copy the |userName| into
> > |dbName|.
> > 
> > This is a small fix and I wanted to discuss further on it.
> > 
> > I have succesfully build the code on travis
> > <https://travis-ci.org/sarthak-0415/gdal/builds/115574203>, please
> > check it once.
> > 
> > I have some doubts regarding some variables and functions for which I
> > am still reading the code.
> > I will get back to you if I have some more doubts.
> > 
> > Regards,
> > Sarthak
> > 
> > On Sat, Mar 12, 2016 at 10:42 PM, Dmitry Baryshnikov
> > 
> > <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
> >     Hello GSoC students!
> >     
> >     Many of you wrote to different lists and directly for me. I tried
> >     to systematize your questions.
> >     
> >     1. First of all each student need to subscribe to
> >     soc at lists.osgeo.org <mailto:soc at lists.osgeo.org> (the themes
> >     connected with organizing moments) and gdal-dev at lists.osgeo.org
> >     <mailto:gdal-dev at lists.osgeo.org> (the themes about ideas,
> >     tickets, coding and community). Please don't flood both lists the
> >     same letters.
> >     
> >     2. Next - I dig the GDAL tracker and found some tickets worth to
> >     be fixed. This work help you to understand the project structure
> >     and how it works (building, testing and so on) and help project to
> >     became better.
> >     The expected result is applied pool request in GDAL main
> >     repository at github (https://github.com/OSGeo/gdal).
> >     By the way, after pool request to this repository, the provided
> >     fixes are tested via TravisC and over test utilities.
> >     Before making pool request please test it yourself (ubuntu and
> >     windows is enough, virtualbox or preferable virtualization soft
> >     may help here).
> >     Here is the tickets I think is good for you (it's welcome if
> >     community fix this list - maybe some tickets need to be excluded
> >     or some included):
> >     
> >     - https://trac.osgeo.org/gdal/ticket/2773
> >     - https://trac.osgeo.org/gdal/ticket/5035 - Alex
> >     - https://trac.osgeo.org/gdal/ticket/5347
> >     - https://trac.osgeo.org/gdal/ticket/5592
> >     - https://trac.osgeo.org/gdal/ticket/5681
> >     - https://trac.osgeo.org/gdal/ticket/5705
> >     - https://trac.osgeo.org/gdal/ticket/6185 - Tanuj
> >     - https://trac.osgeo.org/gdal/ticket/6222
> >     - https://trac.osgeo.org/gdal/ticket/6246
> >     - https://trac.osgeo.org/gdal/ticket/6304
> >     - https://trac.osgeo.org/gdal/ticket/6316
> >     - https://trac.osgeo.org/gdal/ticket/6385
> >     
> >     I checked tickets already get by students. It's good to discuss
> >     with community how you plan to fix the tickets before start
> >     coding. Also, choose tickets carefully, we need students with good
> >     skills, so the ticket should show your potential. Some of you
> >     already choose another tickets, and this is normal too, but they
> >     need to be discussed too. For example the ticket
> >     https://trac.osgeo.org/gdal/ticket/6294 is rather controversial.
> >     
> >     3. We need to see which ideas each of student choose, and what is
> >     a plan how to release them. You need some discussion with the
> >     community what is best way or some directions to do it. This is
> >     not spoil of the time as your ideas come as background for your
> >     project announces.
> >     
> >     It'll be nice have more details for some ideas from list
> >     https://trac.osgeo.org/gdal/wiki/SummerOfCode. The ideas #7,8,9
> >     are very briefly.
> > 
> > ​

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sarthak0415 at gmail.com  Sun Mar 13 14:36:05 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Mon, 14 Mar 2016 03:06:05 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <4897287.893J5uryIY@even-n550jk>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
Message-ID: <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>

On Sun, Mar 13, 2016 at 11:07 PM, Even Rouault <even.rouault at spatialys.com>
wrote:

On Sunday 13 March 2016 17:13:27 Dmitry Baryshnikov wrote:
> > Hi Sarthak,
> >
> > 1. The GDAL have 2 postgis drivers (raster and vector).
>
RIght now I am working on raster part, I still have to figure out which
part of the code takes care of vector postgis driver.

> 2. You need to add some information to the doxygen comment of

> GetConnectionInfo method about new functionality.
>
I made changes in the comments, I guess doxygen reads comments in between
the lines of the code. If still I have to make some changes, please tell me.

> 3. Do you look at psql behaviour? It seems to me the ticket author means
> > to get the database name not only from environment variable, but also
> > from the current logged user name.
>
> We should be as tolerant as the OGR PG driver is. ie not constraint the
> user
> to specify more than what PQconnectdb() requires  (ie it can be potentially
> empty)
>
> I have made the changes to make DBname to NULL if we do not have any
database name or username.


> > 4. There is a logic error: You form connection string based on
> > parameters (papszParams) here -
> >
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
> > tgisrasterdataset.cpp#L2502 , but change the
> > papszParams below (i.e.
> >
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
> > tgisrasterdataset.cpp#L2605). Also changed papszParams never used and
> only
> > freed here -
> >
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
> > tgisrasterdataset.cpp#L2735.
> >
>
I fixed that logical error, and Now it reads the username twice (once to
init the dbname and second for the connection)
you can find those changes here
<https://github.com/OSGeo/gdal/compare/trunk...sarthak-0415:trunk#diff-31df0e62d00ca09f9f11ad2f29e94b540>
and travis <https://travis-ci.org/sarthak-0415/gdal/builds/115730596> for
the builds.

Regards,

Sarthak

>
> > Best regards,
> >      Dmitry
> >
> > 13.03.2016 00:10, sarthak agarwal пишет:
> > > Thank you for your reply Dmitry,
> > >
> > > Yesterday I was working on ticket 6294
> > > <https://trac.osgeo.org/gdal/ticket/6294> but since you said it was
> > > controversial I started to look around at ticket 6316
> > > <https://trac.osgeo.org/gdal/ticket/6316>,
> > >
> > > I figured out that we have to add a |else| statement after this code
> > > <
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/
> > > postgisrasterdataset.cpp> to give a default value to the |ppszDbname|
> in
> > > case user dosen’t
> > > provide any database name by default.
> > >
> > > And I suggest this small enhancement
> > > <
> https://github.com/OSGeo/gdal/commit/e7b2e9e9cd946d257cae5dfd196b4786cc2c
> > > 0e94> to the code.
> > > Although I am not sure of this line
> > > <
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/
> > > postgisrasterdataset.cpp#L2642> where I want to copy the |userName|
> into
> > > |dbName|.
> > >
> > > This is a small fix and I wanted to discuss further on it.
> > >
> > > I have succesfully build the code on travis
> > > <https://travis-ci.org/sarthak-0415/gdal/builds/115574203>, please
> > > check it once.
> > >
> > > I have some doubts regarding some variables and functions for which I
> > > am still reading the code.
> > > I will get back to you if I have some more doubts.
> > >
> > > Regards,
> > > Sarthak
> > >
> > > On Sat, Mar 12, 2016 at 10:42 PM, Dmitry Baryshnikov
> > >
> > > <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
> > >     Hello GSoC students!
> > >
> > >     Many of you wrote to different lists and directly for me. I tried
> > >     to systematize your questions.
> > >
> > >     1. First of all each student need to subscribe to
> > >     soc at lists.osgeo.org <mailto:soc at lists.osgeo.org> (the themes
> > >     connected with organizing moments) and gdal-dev at lists.osgeo.org
> > >     <mailto:gdal-dev at lists.osgeo.org> (the themes about ideas,
> > >     tickets, coding and community). Please don't flood both lists the
> > >     same letters.
> > >
> > >     2. Next - I dig the GDAL tracker and found some tickets worth to
> > >     be fixed. This work help you to understand the project structure
> > >     and how it works (building, testing and so on) and help project to
> > >     became better.
> > >     The expected result is applied pool request in GDAL main
> > >     repository at github (https://github.com/OSGeo/gdal).
> > >     By the way, after pool request to this repository, the provided
> > >     fixes are tested via TravisC and over test utilities.
> > >     Before making pool request please test it yourself (ubuntu and
> > >     windows is enough, virtualbox or preferable virtualization soft
> > >     may help here).
> > >     Here is the tickets I think is good for you (it's welcome if
> > >     community fix this list - maybe some tickets need to be excluded
> > >     or some included):
> > >
> > >     - https://trac.osgeo.org/gdal/ticket/2773
> > >     - https://trac.osgeo.org/gdal/ticket/5035 - Alex
> > >     - https://trac.osgeo.org/gdal/ticket/5347
> > >     - https://trac.osgeo.org/gdal/ticket/5592
> > >     - https://trac.osgeo.org/gdal/ticket/5681
> > >     - https://trac.osgeo.org/gdal/ticket/5705
> > >     - https://trac.osgeo.org/gdal/ticket/6185 - Tanuj
> > >     - https://trac.osgeo.org/gdal/ticket/6222
> > >     - https://trac.osgeo.org/gdal/ticket/6246
> > >     - https://trac.osgeo.org/gdal/ticket/6304
> > >     - https://trac.osgeo.org/gdal/ticket/6316
> > >     - https://trac.osgeo.org/gdal/ticket/6385
> > >
> > >     I checked tickets already get by students. It's good to discuss
> > >     with community how you plan to fix the tickets before start
> > >     coding. Also, choose tickets carefully, we need students with good
> > >     skills, so the ticket should show your potential. Some of you
> > >     already choose another tickets, and this is normal too, but they
> > >     need to be discussed too. For example the ticket
> > >     https://trac.osgeo.org/gdal/ticket/6294 is rather controversial.
> > >
> > >     3. We need to see which ideas each of student choose, and what is
> > >     a plan how to release them. You need some discussion with the
> > >     community what is best way or some directions to do it. This is
> > >     not spoil of the time as your ideas come as background for your
> > >     project announces.
> > >
> > >     It'll be nice have more details for some ideas from list
> > >     https://trac.osgeo.org/gdal/wiki/SummerOfCode. The ideas #7,8,9
> > >     are very briefly.
> > >
> > > ​
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>
​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160314/1d4c28fc/attachment-0001.html>

From teddyguerin at yahoo.fr  Mon Mar 14 01:14:44 2016
From: teddyguerin at yahoo.fr (teddy guerin)
Date: Mon, 14 Mar 2016 08:14:44 +0000 (UTC)
Subject: [gdal-dev] [57] chaine node
References: <1742397158.1383824.1457943284071.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <1742397158.1383824.1457943284071.JavaMail.yahoo@mail.yahoo.com>

Hello,
I search more informations to understand the real use datas S-57. I would like to obtain informations on edges, nodes and vertex for each object, but I can't see this data.

I understand that is :

    RETURN_PRIMITIVES=ON
    LNAM_REFS=ON
    RETURN_LINKAGES=ON

But it doesn't work.

Anybody could it help me?
best regards
Ted
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160314/c924b393/attachment.html>

From bishop.dev at gmail.com  Mon Mar 14 04:31:53 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Mon, 14 Mar 2016 14:31:53 +0300
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
Message-ID: <56E6A129.4050201@gmail.com>

Hi Sarthak,

14.03.2016 00:36, sarthak agarwal пишет:
>
> On Sun, Mar 13, 2016 at 11:07 PM, Even Rouault 
> <even.rouault at spatialys.com <mailto:even.rouault at spatialys.com>> wrote:
>
>     On Sunday 13 March 2016 17:13:27 Dmitry Baryshnikov wrote:
>     > Hi Sarthak,
>     >
>     > 1. The GDAL have 2 postgis drivers (raster and vector).
>
> RIght now I am working on raster part, I still have to figure out 
> which part of the code takes care of |vector| postgis driver.
>
Look at https://github.com/OSGeo/gdal/tree/trunk/gdal/ogr/ogrsf_frmts/pg
>
>     > 2. You need to add some information to the doxygen comment of
>
>     > GetConnectionInfo method about new functionality.
>
> I made changes in the comments, I guess doxygen reads comments in 
> between the lines of the code. If still I have to make some changes, 
> please tell me.
>
I figure out that doxygen not parse this file (it seems to me because it 
is not public). But, I didn't see explain of PGUSER, PGDATABASEetc. Also 
it'll be more useful to extend brief in comment before function name 
(https://github.com/sarthak-0415/gdal/blob/1e7970bf38bc06c837ab76d4a185b59089df07f0/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2463-L2483) 
as it done, for example, for mode parameter.

>     > 3. Do you look at psql behaviour? It seems to me the ticket
>     author means
>     > to get the database name not only from environment variable, but
>     also
>     > from the current logged user name.
>
>     We should be as tolerant as the OGR PG driver is. ie not
>     constraint the user
>     to specify more than what PQconnectdb() requires  (ie it can be
>     potentially
>     empty)
>
> I have made the changes to make |DBname| to |NULL| if we do not have 
> any database name or username.
>
This is not expected behaviour. As Even wrote if no username nor dbname 
provided, the function should get user login and this will be username 
and DB name. Do you look at psql sources (this may be rather complex, 
and I'm ready to discuss the scope of this work)?
>
>
>     > 4. There is a logic error: You form connection string based on
>     > parameters (papszParams) here -
>     >
>     https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
>     > tgisrasterdataset.cpp#L2502 , but change the
>     > papszParams below (i.e.
>     >
>     https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
>     > tgisrasterdataset.cpp#L2605). Also changed papszParams never
>     used and only
>     > freed here -
>     >
>     https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/pos
>     > tgisrasterdataset.cpp#L2735.
>     >
>
> I fixed that logical error, and Now it reads the |username| twice 
> (once to init the |dbname| and second for the |connection|)
> you can find those changes here 
> <https://github.com/OSGeo/gdal/compare/trunk...sarthak-0415:trunk#diff-31df0e62d00ca09f9f11ad2f29e94b540> 
> and travis 
> <https://travis-ci.org/sarthak-0415/gdal/builds/115730596> for the builds.
>
Yes, I see. What about your preferable idea for GSoC? What you ideas 
about it developing?
By the way, today the  Student Application Period started.
>
> Regards,
>
> Sarthak
>
>     >
>     > Best regards,
>     >      Dmitry
>     >
>     > 13.03.2016 00:10, sarthak agarwal пишет:
>     > > Thank you for your reply Dmitry,
>     > >
>     > > Yesterday I was working on ticket 6294
>     > > <https://trac.osgeo.org/gdal/ticket/6294> but since you said
>     it was
>     > > controversial I started to look around at ticket 6316
>     > > <https://trac.osgeo.org/gdal/ticket/6316>,
>     > >
>     > > I figured out that we have to add a |else| statement after
>     this code
>     > >
>     <https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/
>     > > postgisrasterdataset.cpp> to give a default value to the
>     |ppszDbname| in
>     > > case user dosen’t
>     > > provide any database name by default.
>     > >
>     > > And I suggest this small enhancement
>     > >
>     <https://github.com/OSGeo/gdal/commit/e7b2e9e9cd946d257cae5dfd196b4786cc2c
>     > > 0e94> to the code.
>     > > Although I am not sure of this line
>     > >
>     <https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/
>     > > postgisrasterdataset.cpp#L2642> where I want to copy the
>     |userName| into
>     > > |dbName|.
>     > >
>     > > This is a small fix and I wanted to discuss further on it.
>     > >
>     > > I have succesfully build the code on travis
>     > > <https://travis-ci.org/sarthak-0415/gdal/builds/115574203>, please
>     > > check it once.
>     > >
>     > > I have some doubts regarding some variables and functions for
>     which I
>     > > am still reading the code.
>     > > I will get back to you if I have some more doubts.
>     > >
>     > > Regards,
>     > > Sarthak
>     > >
>     > > On Sat, Mar 12, 2016 at 10:42 PM, Dmitry Baryshnikov
>     > >
>     > > <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>
>     <mailto:bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>>> wrote:
>     > >     Hello GSoC students!
>     > >
>     > >     Many of you wrote to different lists and directly for me.
>     I tried
>     > >     to systematize your questions.
>     > >
>     > >     1. First of all each student need to subscribe to
>     > > soc at lists.osgeo.org <mailto:soc at lists.osgeo.org>
>     <mailto:soc at lists.osgeo.org <mailto:soc at lists.osgeo.org>> (the themes
>     > >     connected with organizing moments) and gdal-dev at lists.osgeo.org
>     <mailto:gdal-dev at lists.osgeo.org>
>     > >     <mailto:gdal-dev at lists.osgeo.org
>     <mailto:gdal-dev at lists.osgeo.org>> (the themes about ideas,
>     > >     tickets, coding and community). Please don't flood both
>     lists the
>     > >     same letters.
>     > >
>     > >     2. Next - I dig the GDAL tracker and found some tickets
>     worth to
>     > >     be fixed. This work help you to understand the project
>     structure
>     > >     and how it works (building, testing and so on) and help
>     project to
>     > >     became better.
>     > >     The expected result is applied pool request in GDAL main
>     > >     repository at github (https://github.com/OSGeo/gdal).
>     > >     By the way, after pool request to this repository, the
>     provided
>     > >     fixes are tested via TravisC and over test utilities.
>     > >     Before making pool request please test it yourself (ubuntu and
>     > >     windows is enough, virtualbox or preferable virtualization
>     soft
>     > >     may help here).
>     > >     Here is the tickets I think is good for you (it's welcome if
>     > >     community fix this list - maybe some tickets need to be
>     excluded
>     > >     or some included):
>     > >
>     > >     - https://trac.osgeo.org/gdal/ticket/2773
>     > >     - https://trac.osgeo.org/gdal/ticket/5035 - Alex
>     > >     - https://trac.osgeo.org/gdal/ticket/5347
>     > >     - https://trac.osgeo.org/gdal/ticket/5592
>     > >     - https://trac.osgeo.org/gdal/ticket/5681
>     > >     - https://trac.osgeo.org/gdal/ticket/5705
>     > >     - https://trac.osgeo.org/gdal/ticket/6185 - Tanuj
>     > >     - https://trac.osgeo.org/gdal/ticket/6222
>     > >     - https://trac.osgeo.org/gdal/ticket/6246
>     > >     - https://trac.osgeo.org/gdal/ticket/6304
>     > >     - https://trac.osgeo.org/gdal/ticket/6316
>     > >     - https://trac.osgeo.org/gdal/ticket/6385
>     > >
>     > >     I checked tickets already get by students. It's good to
>     discuss
>     > >     with community how you plan to fix the tickets before start
>     > >     coding. Also, choose tickets carefully, we need students
>     with good
>     > >     skills, so the ticket should show your potential. Some of you
>     > >     already choose another tickets, and this is normal too,
>     but they
>     > >     need to be discussed too. For example the ticket
>     > > https://trac.osgeo.org/gdal/ticket/6294 is rather controversial.
>     > >
>     > >     3. We need to see which ideas each of student choose, and
>     what is
>     > >     a plan how to release them. You need some discussion with the
>     > >     community what is best way or some directions to do it.
>     This is
>     > >     not spoil of the time as your ideas come as background for
>     your
>     > >     project announces.
>     > >
>     > >     It'll be nice have more details for some ideas from list
>     > > https://trac.osgeo.org/gdal/wiki/SummerOfCode. The ideas #7,8,9
>     > >     are very briefly.
>     > >
>     > > ​
>
>     --
>     Spatialys - Geospatial professional services
>     http://www.spatialys.com
>
> ​

Best regards,
     Dmitry

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160314/92e823e5/attachment-0001.html>

From kmrtnjscnc at gmail.com  Mon Mar 14 09:11:43 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Mon, 14 Mar 2016 21:41:43 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
 <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
Message-ID: <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>

Hello Dmitry,
I was reading up on the gdalautotest wiki(
http://trac.osgeo.org/gdal/wiki/TestingNotes), and it says, "After building
with either the old or new generation python bindings, and installing them
(or adding them to your path from the build tree)..."

I could not understand what that means. I guess this is important because
when I tried the commands given on that page, I got the following error :

File "./run_all.py", line 37, in <module>
import gdaltest
File"pymod/gdaltest.py", line 37, in <module>
from osgeo import gdal
ImportError: No module named osgeo


Now, as far as I could understand, it is importing a file called "gdal.py"
from a folder called osgeo. I searched for it, and got its path as
"gdal/swig/python/osgeo, whereas the autotest folder is separate.
So my guess is I have to somehow specify the path of "gdal.py"

Could you or anyone please guide me on how to proceed with this?

Thanks
Tanuj

On Sat, Mar 12, 2016 at 11:00 PM, Tanuj Kumar <kmrtnjscnc at gmail.com> wrote:

> Alright, thank you very much, I'll get to work on it!
>
> On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov <bishop.dev at gmail.com
> > wrote:
>
>> Hi Tanuj,
>>
>> I wrote a big letter to the list. There is some answers there. Also I add
>> comments below.
>>
>> Best regards,
>>     Dmitry
>>
>> 12.03.2016 10:36, Tanuj Kumar пишет:
>>
>> Sorry for replying so late, got caught up in an exam :)
>>
>> I replaced libpng folder of gdal (frmts/png/libpng) with libpng 1.6.21.
>> And then used ./configure and make install on this test version of gdal,
>> which installed successfully. I used gdalinfo on a png file provided with
>> the libpng 1.6.21 source, to check if it was OK, and it successfully gave
>> the png file details.
>>
>> Is that enough to check the build on the computer?
>>
>> No, the autotests must be passed.
>>
>>
>> I have also tested the gdal library with libpng 1.6.21 on Travis, and the
>> build succeeded.
>> https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>>
>> Would all that be enough to check whether the update was succesful?
>>
>> I expected that travis from main gdal repo checked your PR.
>>
>>
>> PS - Although I have copied the files from libpng 1.6.21 source to the
>> gdal libpng folder, how would I know if any of those files are not required
>> for gdal?
>>
>> You need to see the previous version. Some files not needed (i.e.
>> configures and so on, which already comes from gdal, but legal notice must
>> be present (license, autors, etc.) ). Don't hesitate to ask in list.
>>
>>
>> Thank you
>>
>> Tanuj
>>
>> On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov <bishop.dev at gmail.com
>> > wrote:
>>
>>> Hi Tanuj,
>>> 09.03.2016 13:17, Tanuj Kumar пишет:
>>>
>>> Yes, I have looked at the ideas list, and I am currently reading up on
>>> idea no. 16, which is, implementing support for the proposed standard for
>>> incrementally parseable GeoJSON data.
>>>
>>> Also, I was thinking that maybe I could work on ticket no 6294,
>>> <https://trac.osgeo.org/gdal/ticket/6294>
>>> https://trac.osgeo.org/gdal/ticket/6294
>>> after I've studied about the GSoC idea, which is not really a bug, but
>>> an enhancement. But if there are any other tickets that you or anyone else
>>> would like to recommend me to work on, I'd love to see them too!
>>>
>>> I think this rather arguing ticket as the bool is not exist in plain C,
>>> and duplication functions seems to me not good idea.
>>> I think this ticket https://trac.osgeo.org/gdal/ticket/6185 is good
>>> for: 1. building GDAL, 2. Testing via TraviC on GitHub. By the way the
>>> libpng version is 1.6.21 or maybe higher.
>>>
>>> Anyhow, you have to try to build gdal and test it with autotests from
>>> appropriate folder.
>>>
>>>
>>> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that
>>> matter) to work on it? I only ask because the idea lists C/C++ as the
>>> required skills, but I feel that maybe this work would involve knowing JSON
>>> too...
>>>
>>> Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be
>>> found here http://geojson.org/Thanks and regards,
>>>
>>>
>>> Tanuj
>>>
>>>
>>> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <
>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>
>>>> Hi, Tanuj
>>>>
>>>> I'll look for opened tickets for you, or maybe others can recommend
>>>> some for you.
>>>>
>>>> By the way, do you see the idea list (
>>>> <https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList>
>>>> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>>> The ideas are not ranked yet - the numbers in the list - are only in
>>>> order.
>>>> This is a task for us to rank the ideas.
>>>> But, have you some preferable idea (or ideas) for GSoC from this list
>>>> or maybe you have got own?
>>>>
>>>> Best regards,
>>>>     Dmitry
>>>>
>>>> 04.03.2016 16:11, Tanuj Kumar пишет:
>>>>
>>>> Hello,
>>>> I am interested in applying for GSoC this year. Currently, I am reading
>>>> up on the GDAL Summer of Code ideas list. I know C++ and C, and I have some
>>>> experience on working on linux.
>>>> Could the mentors please recommend a bug for me to work on, I'd really
>>>> love to start off as soon as possible!
>>>>
>>>> Thank you,
>>>>
>>>> Tanuj Kumar
>>>> Birla institute of Technology and Science
>>>> Pilani, Rajasthan,
>>>> India
>>>>
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>
>>>
>>> Best regards,
>>>     Dmitry
>>>
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160314/b54356d2/attachment.html>

From bishop.dev at gmail.com  Mon Mar 14 12:54:16 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Mon, 14 Mar 2016 22:54:16 +0300
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
 <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
 <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>
Message-ID: <56E716E8.2060701@gmail.com>

Hi Tanuj,

The error: ImportError: No module named osgeo
is because you build gdal without python support (you need python with 
developers headers).
On Linux Linux this is done via such command:
./configure --with-python ... <other config options>

On Windows it depends how you build. On Windows I launch separate tests 
successfully but never try the whole tests (run_all.py).

Best regards,
     Dmitry

14.03.2016 19:11, Tanuj Kumar пишет:
> Hello Dmitry,
> I was reading up on the gdalautotest 
> wiki(http://trac.osgeo.org/gdal/wiki/TestingNotes), and it says, 
> "After building with either the old or new generation python bindings, 
> and installing them (or adding them to your path from the build tree)..."
>
> I could not understand what that means. I guess this is important 
> because when I tried the commands given on that page, I got the 
> following error :
>
> File "./run_all.py", line 37, in <module>
> import gdaltest
> File"pymod/gdaltest.py", line 37, in <module>
> from osgeo import gdal
> ImportError: No module named osgeo
>
>
> Now, as far as I could understand, it is importing a file called 
> "gdal.py" from a folder called osgeo. I searched for it, and got its 
> path as "gdal/swig/python/osgeo, whereas the autotest folder is separate.
> So my guess is I have to somehow specify the path of "gdal.py"
>
> Could you or anyone please guide me on how to proceed with this?
>
> Thanks
> Tanuj
>
> On Sat, Mar 12, 2016 at 11:00 PM, Tanuj Kumar <kmrtnjscnc at gmail.com 
> <mailto:kmrtnjscnc at gmail.com>> wrote:
>
>     Alright, thank you very much, I'll get to work on it!
>
>     On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov
>     <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>
>         Hi Tanuj,
>
>         I wrote a big letter to the list. There is some answers there.
>         Also I add comments below.
>
>         Best regards,
>              Dmitry
>
>         12.03.2016 10:36, Tanuj Kumar пишет:
>>         Sorry for replying so late, got caught up in an exam :)
>>
>>         I replaced libpng folder of gdal (frmts/png/libpng) with
>>         libpng 1.6.21. And then used ./configure and make install on
>>         this test version of gdal, which installed successfully. I
>>         used gdalinfo on a png file provided with the libpng 1.6.21
>>         source, to check if it was OK, and it successfully gave the
>>         png file details.
>>
>>         Is that enough to check the build on the computer?
>         No, the autotests must be passed.
>>
>>         I have also tested the gdal library with libpng 1.6.21 on
>>         Travis, and the build succeeded.
>>         https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>>
>>         Would all that be enough to check whether the update was
>>         succesful?
>         I expected that travis from main gdal repo checked your PR.
>>
>>         PS - Although I have copied the files from libpng 1.6.21
>>         source to the gdal libpng folder, how would I know if any of
>>         those files are not required for gdal?
>>
>         You need to see the previous version. Some files not needed
>         (i.e. configures and so on, which already comes from gdal, but
>         legal notice must be present (license, autors, etc.) ). Don't
>         hesitate to ask in list.
>
>
>>         Thank you
>>
>>         Tanuj
>>
>>         On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov
>>         <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>>
>>             Hi Tanuj,
>>             09.03.2016 13:17, Tanuj Kumar пишет:
>>>             Yes, I have looked at the ideas list, and I am currently
>>>             reading up on idea no. 16, which is, implementing
>>>             support for the proposed standard for incrementally
>>>             parseable GeoJSON data.
>>>
>>>             Also, I was thinking that maybe I could work on ticket
>>>             no 6294, https://trac.osgeo.org/gdal/ticket/6294
>>>             after I've studied about the GSoC idea, which is not
>>>             really a bug, but an enhancement. But if there are any
>>>             other tickets that you or anyone else would like to
>>>             recommend me to work on, I'd love to see them too!
>>             I think this rather arguing ticket as the bool is not
>>             exist in plain C, and duplication functions seems to me
>>             not good idea.
>>             I think this ticket
>>             https://trac.osgeo.org/gdal/ticket/6185 is good for: 1.
>>             building GDAL, 2. Testing via TraviC on GitHub. By the
>>             way the libpng version is 1.6.21 or maybe higher.
>>
>>             Anyhow, you have to try to build gdal and test it with
>>             autotests from appropriate folder.
>>>
>>>             Now, about the GSoC idea, do I need to know JSON( or
>>>             GeoJSON, for that matter) to work on it? I only ask
>>>             because the idea lists C/C++ as the required skills, but
>>>             I feel that maybe this work would involve knowing JSON
>>>             too...
>>             Yes, certainly. But JSON are very simple. Also GeoJSON
>>             spec. can be found here http://geojson.org/Thanks and
>>             regards,
>>
>>>
>>>             Tanuj
>>>
>>>
>>>             On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov
>>>             <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>>>
>>>                 Hi, Tanuj
>>>
>>>                 I'll look for opened tickets for you, or maybe
>>>                 others can recommend some for you.
>>>
>>>                 By the way, do you see the idea list
>>>                 (https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>>
>>>                 The ideas are not ranked yet - the numbers in the
>>>                 list - are only in order.
>>>                 This is a task for us to rank the ideas.
>>>                 But, have you some preferable idea (or ideas) for
>>>                 GSoC from this list or maybe you have got own?
>>>
>>>                 Best regards,
>>>                      Dmitry
>>>
>>>                 04.03.2016 16:11, Tanuj Kumar пишет:
>>>>                 Hello,
>>>>                 I am interested in applying for GSoC this year.
>>>>                 Currently, I am reading up on the GDAL Summer of
>>>>                 Code ideas list. I know C++ and C, and I have some
>>>>                 experience on working on linux.
>>>>                 Could the mentors please recommend a bug for me to
>>>>                 work on, I'd really love to start off as soon as
>>>>                 possible!
>>>>
>>>>                 Thank you,
>>>>
>>>>                 Tanuj Kumar
>>>>                 Birla institute of Technology and Science
>>>>                 Pilani, Rajasthan,
>>>>                 India
>>>>
>>>>
>>>>                 _______________________________________________
>>>>                 gdal-dev mailing list
>>>>                 gdal-dev at lists.osgeo.org
>>>>                 <mailto:gdal-dev at lists.osgeo.org>
>>>>                 http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>>                 _______________________________________________
>>>                 gdal-dev mailing list
>>>                 gdal-dev at lists.osgeo.org
>>>                 <mailto:gdal-dev at lists.osgeo.org>
>>>                 http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>>
>>
>>             Best regards,
>>                  Dmitry
>>
>>
>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160314/63840dfa/attachment-0001.html>

From ari.jolma at gmail.com  Tue Mar 15 02:15:26 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 15 Mar 2016 11:15:26 +0200
Subject: [gdal-dev] New config option for date/time output
Message-ID: <56E7D2AE.8040909@gmail.com>

Folks,

The OGRFeature::GetFieldAsString returns date/time fields formatted in 
non-standard way. For example date is output as "year/month/day" as more 
usual "year-month-day". This causes problems in many programs.

I suggest adding a new config option OGR_DATE_FORMAT, which, if set, 
would make the method return date/time formatted according to it. I 
suggest that we use the strftime and its format argument as the target 
for the new option.

The implementation is complicated a bit when milliseconds and timezones 
are involved since they are not included in the struct tm used by 
strftime. I suggest that we assume seconds are formatted as :\d\d in the 
format and simply add milliseconds (as .\d\d\d) and timezone (as 
[+-]\d\d(:\d\d)), if they exists, after the second.

Do you think this needs a RFC?

I'm willing to implement the changes.

Ari


From ari.jolma at gmail.com  Tue Mar 15 05:11:51 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 15 Mar 2016 14:11:51 +0200
Subject: [gdal-dev] New config option for date/time output
In-Reply-To: <56E7D2AE.8040909@gmail.com>
References: <56E7D2AE.8040909@gmail.com>
Message-ID: <56E7FC07.2090300@gmail.com>



15.03.2016, 11:15, Ari Jolma kirjoitti:
> Folks,
>
> The OGRFeature::GetFieldAsString returns date/time fields formatted in 
> non-standard way. For example date is output as "year/month/day" as 
> more usual "year-month-day". This causes problems in many programs.
>
> I suggest adding a new config option OGR_DATE_FORMAT, which, if set, 
> would make the method return date/time formatted according to it. I 
> suggest that we use the strftime and its format argument as the target 
> for the new option.
>
> The implementation is complicated a bit when milliseconds and 
> timezones are involved since they are not included in the struct tm 
> used by strftime. I suggest that we assume seconds are formatted as 
> :\d\d in the format and simply add milliseconds (as .\d\d\d) and 
> timezone (as [+-]\d\d(:\d\d)), if they exists, after the second.

It seems that the standard way of formatting time offset is +hhmm or 
-hhmm (without ':' between hours and minutes) (ISO 8601:2000).

>
> Do you think this needs a RFC?
>
> I'm willing to implement the changes.
>
> Ari
>


From jluis at ualg.pt  Tue Mar 15 05:08:03 2016
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue, 15 Mar 2016 12:08:03 -0000
Subject: [gdal-dev] New config option for date/time output
In-Reply-To: <56E7D2AE.8040909@gmail.com>
References: <56E7D2AE.8040909@gmail.com>
Message-ID: <op.yec7zpi2dbaoe8@macmarilu>

GMT uses "yyy-mm-ddT[hh:mm:ss] (Gregorian) or yyyy-Www-ddT[hh:mm:ss] (ISO)"

http://gmt.soest.hawaii.edu/doc/latest/gmt.conf.html#calendar-time-parameters

It would be nice to use the same.

Joaquim

> Folks,
>
> The OGRFeature::GetFieldAsString returns date/time fields formatted in  
> non-standard way. For example date is output as "year/month/day" as more  
> usual "year-month-day". This causes problems in many programs.
>
> I suggest adding a new config option OGR_DATE_FORMAT, which, if set,  
> would make the method return date/time formatted according to it. I  
> suggest that we use the strftime and its format argument as the target  
> for the new option.
>
> The implementation is complicated a bit when milliseconds and timezones  
> are involved since they are not included in the struct tm used by  
> strftime. I suggest that we assume seconds are formatted as :\d\d in the  
> format and simply add milliseconds (as .\d\d\d) and timezone (as  
> [+-]\d\d(:\d\d)), if they exists, after the second.
>
> Do you think this needs a RFC?
>
> I'm willing to implement the changes.
>
> Ari
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ari.jolma at gmail.com  Tue Mar 15 06:01:29 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 15 Mar 2016 15:01:29 +0200
Subject: [gdal-dev] New config option for date/time output
In-Reply-To: <op.yec7zpi2dbaoe8@macmarilu>
References: <56E7D2AE.8040909@gmail.com> <op.yec7zpi2dbaoe8@macmarilu>
Message-ID: <56E807A9.9050004@gmail.com>

15.03.2016, 14:08, Joaquim Luis kirjoitti:
> GMT uses "yyy-mm-ddT[hh:mm:ss] (Gregorian) or yyyy-Www-ddT[hh:mm:ss] 
> (ISO)"
>
> http://gmt.soest.hawaii.edu/doc/latest/gmt.conf.html#calendar-time-parameters 
>
>
> It would be nice to use the same.

I'm not sure I understand you correctly but strftime can do this:

OGR_DATETIME_FORMAT = "%Y-%m-%dT%H:%M:%S"

gives for example 2016-01-10T08:25:12 and

OGR_DATETIME_FORMAT = "%Y-%W-%dT%H:%M:%S"

gives 2016-01-10T08:25:12 for the same time - 10.1.2016 is on week two 
(strftime: %W = Week number with the first Monday as the first day of 
week one (00-53))

I think that there needs to be separate options for date and datetime, 
i.e., OGR_DATE_FORMAT and OGR_DATETIME_FORMAT.

Ari

>
> Joaquim
>
>> Folks,
>>
>> The OGRFeature::GetFieldAsString returns date/time fields formatted 
>> in non-standard way. For example date is output as "year/month/day" 
>> as more usual "year-month-day". This causes problems in many programs.
>>
>> I suggest adding a new config option OGR_DATE_FORMAT, which, if set, 
>> would make the method return date/time formatted according to it. I 
>> suggest that we use the strftime and its format argument as the 
>> target for the new option.
>>
>> The implementation is complicated a bit when milliseconds and 
>> timezones are involved since they are not included in the struct tm 
>> used by strftime. I suggest that we assume seconds are formatted as 
>> :\d\d in the format and simply add milliseconds (as .\d\d\d) and 
>> timezone (as [+-]\d\d(:\d\d)), if they exists, after the second.
>>
>> Do you think this needs a RFC?
>>
>> I'm willing to implement the changes.
>>
>> Ari
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jluis at ualg.pt  Tue Mar 15 06:59:53 2016
From: jluis at ualg.pt (Joaquim Luis)
Date: Tue, 15 Mar 2016 13:59:53 -0000
Subject: [gdal-dev] New config option for date/time output
In-Reply-To: <56E807A9.9050004@gmail.com>
References: <56E7D2AE.8040909@gmail.com> <op.yec7zpi2dbaoe8@macmarilu>
 <56E807A9.9050004@gmail.com>
Message-ID: <op.yedc57r8dbaoe8@macmarilu>

On Tue, 15 Mar 2016 13:01:29 -0000, Ari Jolma <ari.jolma at gmail.com> wrote:

> 15.03.2016, 14:08, Joaquim Luis kirjoitti:
>> GMT uses "yyy-mm-ddT[hh:mm:ss] (Gregorian) or yyyy-Www-ddT[hh:mm:ss]  
>> (ISO)"
>>
>> http://gmt.soest.hawaii.edu/doc/latest/gmt.conf.html#calendar-time-parameters  
>> It would be nice to use the same.
>
> I'm not sure I understand you correctly but strftime can do this:
>
> OGR_DATETIME_FORMAT = "%Y-%m-%dT%H:%M:%S"
>
> gives for example 2016-01-10T08:25:12 and
>
> OGR_DATETIME_FORMAT = "%Y-%W-%dT%H:%M:%S"
>
> gives 2016-01-10T08:25:12 for the same time - 10.1.2016 is on week two  
> (strftime: %W = Week number with the first Monday as the first day of  
> week one (00-53))

Sorry, it was me who misunderstood your question/suggestion. I thought  
that printing with the above format was not possible yet and that's why I  
pointed to what GMT does. But if GDAL can do it already, than sorry for  
the noise.

Joaquim

> I think that there needs to be separate options for date and datetime,  
> i.e., OGR_DATE_FORMAT and OGR_DATETIME_FORMAT.
>
> Ari
>
>>
>> Joaquim
>>
>>> Folks,
>>>
>>> The OGRFeature::GetFieldAsString returns date/time fields formatted in  
>>> non-standard way. For example date is output as "year/month/day" as  
>>> more usual "year-month-day". This causes problems in many programs.
>>>
>>> I suggest adding a new config option OGR_DATE_FORMAT, which, if set,  
>>> would make the method return date/time formatted according to it. I  
>>> suggest that we use the strftime and its format argument as the target  
>>> for the new option.
>>>
>>> The implementation is complicated a bit when milliseconds and  
>>> timezones are involved since they are not included in the struct tm  
>>> used by strftime. I suggest that we assume seconds are formatted as  
>>> :\d\d in the format and simply add milliseconds (as .\d\d\d) and  
>>> timezone (as [+-]\d\d(:\d\d)), if they exists, after the second.
>>>
>>> Do you think this needs a RFC?
>>>
>>> I'm willing to implement the changes.
>>>
>>> Ari
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ari.jolma at gmail.com  Tue Mar 15 07:04:40 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 15 Mar 2016 16:04:40 +0200
Subject: [gdal-dev] New config option for date/time output
In-Reply-To: <op.yedc57r8dbaoe8@macmarilu>
References: <56E7D2AE.8040909@gmail.com> <op.yec7zpi2dbaoe8@macmarilu>
 <56E807A9.9050004@gmail.com> <op.yedc57r8dbaoe8@macmarilu>
Message-ID: <56E81678.6010807@gmail.com>

15.03.2016, 15:59, Joaquim Luis kirjoitti:
> On Tue, 15 Mar 2016 13:01:29 -0000, Ari Jolma <ari.jolma at gmail.com> 
> wrote:
>
>> 15.03.2016, 14:08, Joaquim Luis kirjoitti:
>>> GMT uses "yyy-mm-ddT[hh:mm:ss] (Gregorian) or yyyy-Www-ddT[hh:mm:ss] 
>>> (ISO)"
>>>
>>> http://gmt.soest.hawaii.edu/doc/latest/gmt.conf.html#calendar-time-parameters 
>>> It would be nice to use the same.
>>
>> I'm not sure I understand you correctly but strftime can do this:
>>
>> OGR_DATETIME_FORMAT = "%Y-%m-%dT%H:%M:%S"
>>
>> gives for example 2016-01-10T08:25:12 and
>>
>> OGR_DATETIME_FORMAT = "%Y-%W-%dT%H:%M:%S"
>>
>> gives 2016-01-10T08:25:12 for the same time - 10.1.2016 is on week 
>> two (strftime: %W = Week number with the first Monday as the first 
>> day of week one (00-53))
>
> Sorry, it was me who misunderstood your question/suggestion. I thought 
> that printing with the above format was not possible yet and that's 
> why I pointed to what GMT does. But if GDAL can do it already, than 
> sorry for the noise.


It can't. That's why I'm suggesting this. The core of my suggestion is 
to start using the strftime function and the config options.

I've actually implemented it already for testing, that's why I may sound 
like that GDAL can do it already.

Cheers,

Ari


>
> Joaquim
>
>> I think that there needs to be separate options for date and 
>> datetime, i.e., OGR_DATE_FORMAT and OGR_DATETIME_FORMAT.
>>
>> Ari
>>
>>>
>>> Joaquim
>>>
>>>> Folks,
>>>>
>>>> The OGRFeature::GetFieldAsString returns date/time fields formatted 
>>>> in non-standard way. For example date is output as "year/month/day" 
>>>> as more usual "year-month-day". This causes problems in many programs.
>>>>
>>>> I suggest adding a new config option OGR_DATE_FORMAT, which, if 
>>>> set, would make the method return date/time formatted according to 
>>>> it. I suggest that we use the strftime and its format argument as 
>>>> the target for the new option.
>>>>
>>>> The implementation is complicated a bit when milliseconds and 
>>>> timezones are involved since they are not included in the struct tm 
>>>> used by strftime. I suggest that we assume seconds are formatted as 
>>>> :\d\d in the format and simply add milliseconds (as .\d\d\d) and 
>>>> timezone (as [+-]\d\d(:\d\d)), if they exists, after the second.
>>>>
>>>> Do you think this needs a RFC?
>>>>
>>>> I'm willing to implement the changes.
>>>>
>>>> Ari
>>>>
>>>> _______________________________________________
>>>> gdal-dev mailing list
>>>> gdal-dev at lists.osgeo.org
>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jerome.siot at maxsea.fr  Tue Mar 15 07:32:39 2016
From: jerome.siot at maxsea.fr (Jerome Siot)
Date: Tue, 15 Mar 2016 14:32:39 +0000
Subject: [gdal-dev] [Windows/ C#] Gdal dll conflicts
Message-ID: <1F69DB3E166E714BAD00B83D3FB08774025D5C3988@EXCH2010.informatique-mer.fr>

Hello,
I'm currently deploying a Gdal-based application on various Windows-PCs.

For some of them, there are integration problems, due to dll conflicts. As an example:


1)      Here is my app directory structure :

MyApp
  |
  |-- gdal
  |    |
  |    |- gdal201.dll
  |    |- libeay32.dll
  |    |- ssleay32.dll
  |    |- ...
  |
  |-- myApp.exe
  |-- othersDll.dll


2)      On some of the PCs I use, libeay32.dll and ssleay32.dll are also present on C:\Windows\SysWOW64 folder, in versions different from mines.

3)      When the app loads gdal201.dll, dependencies are loaded first in C:\Windows\SysWOW64 folder ==> C:\Windows\SysWOW64 \libeay32.dll and ssleay32.dll are loaded, that causes a crash.

I checked that :

-          In GdalConfiguration.cs, GdalConfiguration(), my PATH env var is correctly overriden
var gdalPath = Path.Combine(executingDirectory, "gdal-2.0.1");
var nativePath = Path.Combine(gdalPath, GetPlatform());

// Prepend native path to environment path, to ensure the
// right libs are being used.
var path = Environment.GetEnvironmentVariable("PATH");
path = nativePath + ";" + Path.Combine(nativePath, "plugins") + ";" + path;
Environment.SetEnvironmentVariable("PATH", path);


-          Using a file access monitoring tool (ProcessMonitor, from Microsoft), I observe that dll search order is :

o   myApp.exe directory

o   C:\windows\ SysWOW64

o   C:\windows\System32

o   C:\...\MyApp\gdal-2.0.1

ð  This is not compliant with PATH overriding

After browsing internet (including the mailing-list :)), I don't want to :

-          Compile gdal statically,

-          Copy gdal dependencies in myApp.exe root directory,

-          Comment some lines of my makefile in order to avoid dependencies such as libeay32.dll or ssleay32.dll.


Have you got ideas about this problem ?

--
Thank you, Jérome Siot

(Excuse me for my awful English, I'm French !)











--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160315/732ed194/attachment-0001.html>

From bishop.dev at gmail.com  Tue Mar 15 16:21:29 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Wed, 16 Mar 2016 02:21:29 +0300
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
Message-ID: <56E898F9.1010309@gmail.com>

Hi Sarthak,

The first version is not working (do you test it?): 
https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541
Here you try to get array value with index -1. You need to set 
ppszDbname = NULL no DB name present in input parameters.

The second variant is not working too:
 >>> ds = gdal.Open('PG:')
terminate called after throwing an instance of 'std::logic_error'
   what():  basic_string::_M_construct null not valid

In both cases there is a problem here: 
https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743

Also look there ppszDbname is using, as before modifications the code 
expect that ppszDbname cannot be NULL.

Best regards,
     Dmitry

15.03.2016 13:13, sarthak agarwal пишет:
>
> Hey Dmitry ,
> As discussed on the IRC yesterday,
> I made the changes in the code.
>
> I build two versions of the code
>
> 1.
>
>     The changes suggested by you (to use the old trunk code and remove
>     the additional checks) link
>     <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd>
>     travis <https://travis-ci.org/sarthak-0415/gdal/builds/116070409> .
>     a. in this version the Dbname is left empty if not provided by the
>     user.
>
> 2.
>
>     The version in which we
>     a. if the Dbname is provided by the user then ppzDbname=Dbname.
>     b. else use the psql env var PGDATABASE
>     c. else use the Username as the database name.
>     d. if nothing is available then pass empty string.
>     e link
>     <https://github.com/sarthak-0415/gdal/commit/6264d3fc52242fdce858547cc3a0312b04fd638b>
>     travis <https://travis-ci.org/sarthak-0415/gdal/builds/116055868>
>
> I think both version should work
>
> Regards,
> Sarthak
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160316/ff2fb2b2/attachment.html>

From 191980 at niuitmo.ru  Wed Mar 16 05:40:39 2016
From: 191980 at niuitmo.ru (=?utf-8?B?0JHQvtGA0LfRi9GFINCQ0LvQtdC60YHQsNC90LTRgCDQkNC90LTRgNC10LU=?= =?utf-8?B?0LLQuNGH?=)
Date: Wed, 16 Mar 2016 12:40:39 +0000
Subject: [gdal-dev] GSoC 2016
Message-ID: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>

Hello everyone

I am a second year student at Saint-Petersburg ITMO University, Russia. For GSoC 2016 I would like to work on DWG support in GDAL.

Overall idea
DWG  is very wide-spread format and it seems like there is a lot of requests  for a good conversion tools from DWG to more common spatial data. I  think that current implementations of DWG support are not optimal. For  example libdwg (abandoned), libredwg (GPLv3 incompatible with X/MIT).

Technical details
I plan to use the existing DXF driver as origin for DWG driver. The driver will not have any third-party dependencies. First of all I'll study ODA DWG specification and how DXF driver works. Than I plan to create DWG driver skeleton. And finally code some scope of functionality (will be defined later). I'll be grateful if somebody share some dwg test files with common cases.

Possible problems
There are near 7 versions of DWG format (R13, R14, R2000, R2004, R2007, R2010, R2013) with differencies in file organisation, so driver should be able to read from and write to all of them.


Currently I'm familiarizing myself with GDAL source tree, compilation etc. I'll send another email with some progress on other GDAL issues I was trying to fix.

I'm excited about the opportunity and hope to be useful for the project!

Cheers,
Alexander
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160316/a7e91cb2/attachment.html>

From 191980 at niuitmo.ru  Wed Mar 16 05:26:34 2016
From: 191980 at niuitmo.ru (=?utf-8?B?0JHQvtGA0LfRi9GFINCQ0LvQtdC60YHQsNC90LTRgCDQkNC90LTRgNC10LU=?= =?utf-8?B?0LLQuNGH?=)
Date: Wed, 16 Mar 2016 12:26:34 +0000
Subject: [gdal-dev] Shapelib: Restoring missing .shx index file
Message-ID: <80FA7518-A23A-41A1-8DDF-B2CC3F213C35@niuitmo.ru>

Hi again,

to get to know GDAL codebase better I chose ticket #5035   (https://trac.osgeo.org/gdal/ticket/5035<https://trac.osgeo.org/gdal/ticket/5035)>)<https://trac.osgeo.org/gdal/ticket/5035)>.

I've implemented a configuration setting that allows to work with Shape-files that are missing SHX index file. If SHX is missing or corrupted and user supplied this config, SHX will be created.

I've started a pull-request here:  https://github.com/OSGeo/gdal/pull/104

Hope it makes sense, please let me know if I can improve it somehow.

Alexander
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160316/e11fe08c/attachment-0001.html>

From jef at norbit.de  Wed Mar 16 07:07:44 2016
From: jef at norbit.de (=?iso-8859-1?B?SvxyZ2VuIEUu?= Fischer)
Date: Wed, 16 Mar 2016 15:07:44 +0100
Subject: [gdal-dev] GSoC 2016
In-Reply-To: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
References: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
Message-ID: <20160316140744.GA31955@norbit.de>

Hi Alexander,

On Wed, 16. Mar 2016 at 12:40:39 +0000, Борзых Александр Андреевич wrote:
> Overall idea
> DWG  is very wide-spread format and it seems like there is a lot of requests
> for a good conversion tools from DWG to more common spatial data. I  think
> that current implementations of DWG support are not optimal. For  example
> libdwg (abandoned), libredwg (GPLv3 incompatible with X/MIT).

> There are near 7 versions of DWG format (R13, R14, R2000, R2004, R2007,
> R2010, R2013) with differencies in file organisation, so driver should be
> able to read from and write to all of them.

There's also libdxfrw that supports these.  It's what we will use to do a
DWG/DXF import in QGIS.



Jürgen

-- 
Jürgen E. Fischer         norBIT GmbH               Tel. +49-4931-918175-31
Dipl.-Inf. (FH)           Rheinstraße 13            Fax. +49-4931-918175-50
Software Engineer         D-26506 Norden               http://www.norbit.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 827 bytes
Desc: Digital signature
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160316/ab062da4/attachment.sig>

From bishop.dev at gmail.com  Wed Mar 16 07:24:40 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Wed, 16 Mar 2016 17:24:40 +0300
Subject: [gdal-dev] GSoC 2016
In-Reply-To: <20160316140744.GA31955@norbit.de>
References: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
 <20160316140744.GA31955@norbit.de>
Message-ID: <56E96CA8.50809@gmail.com>

Hi Jürgen,

There is several problems with libdxfrw:
1. The library have GPLv2 license which is incompatible with GDAL X/MIT
2. The library support only DWG from r14 to the last 2003 version
3. This is third party dependency for GDAL.
4. There is already the DXF driver in GDAL.

The GPLv2 is ok for QGIS, but it'll be nice to not duplicate efforts.
The GDAL is used widely in many projects and a DWG driver from GDAL will 
be available there (including QGIS).
During GSoC we plan to create not 100% featured driver (this is 
impossible for such small period), but something close to GDAL DXF driver.

No idea what is best to do now.

Best regards,
     Dmitry

16.03.2016 17:07, Jürgen E. Fischer пишет:
> Hi Alexander,
>
> On Wed, 16. Mar 2016 at 12:40:39 +0000, Борзых Александр Андреевич wrote:
>> Overall idea
>> DWG  is very wide-spread format and it seems like there is a lot of requests
>> for a good conversion tools from DWG to more common spatial data. I  think
>> that current implementations of DWG support are not optimal. For  example
>> libdwg (abandoned), libredwg (GPLv3 incompatible with X/MIT).
>> There are near 7 versions of DWG format (R13, R14, R2000, R2004, R2007,
>> R2010, R2013) with differencies in file organisation, so driver should be
>> able to read from and write to all of them.
> There's also libdxfrw that supports these.  It's what we will use to do a
> DWG/DXF import in QGIS.
>
>
>
> Jürgen
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160316/aa8a2049/attachment.html>

From Stefan.Blumentrath at nina.no  Wed Mar 16 06:12:58 2016
From: Stefan.Blumentrath at nina.no (Blumentrath, Stefan)
Date: Wed, 16 Mar 2016 13:12:58 +0000
Subject: [gdal-dev] GSoC 2016
In-Reply-To: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
References: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
Message-ID: <7848bbc457b946a2802c76c129c5ea70@NINSRV23.nina.no>

Hi,

Maybe something that could be coordinated with efforts in the QGIS-project:
http://osgeo-org.1560.x6.nabble.com/CAD-import-project-funding-state-tt5256669.html
?

Cheers
Stefan

From: gdal-dev [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of ?????? ????????? ?????????
Sent: 16. mars 2016 13:41
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] GSoC 2016

Hello everyone

I am a second year student at Saint-Petersburg ITMO University, Russia. For GSoC 2016 I would like to work on DWG support in GDAL.

Overall idea
DWG  is very wide-spread format and it seems like there is a lot of requests  for a good conversion tools from DWG to more common spatial data. I  think that current implementations of DWG support are not optimal. For  example libdwg (abandoned), libredwg (GPLv3 incompatible with X/MIT).

Technical details
I plan to use the existing DXF driver as origin for DWG driver. The driver will not have any third-party dependencies. First of all I'll study ODA DWG specification and how DXF driver works. Than I plan to create DWG driver skeleton. And finally code some scope of functionality (will be defined later). I'll be grateful if somebody share some dwg test files with common cases.

Possible problems
There are near 7 versions of DWG format (R13, R14, R2000, R2004, R2007, R2010, R2013) with differencies in file organisation, so driver should be able to read from and write to all of them.


Currently I'm familiarizing myself with GDAL source tree, compilation etc. I'll send another email with some progress on other GDAL issues I was trying to fix.

I'm excited about the opportunity and hope to be useful for the project!

Cheers,
Alexander
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160316/32de8243/attachment-0001.html>

From even.rouault at spatialys.com  Wed Mar 16 10:46:32 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 16 Mar 2016 18:46:32 +0100
Subject: [gdal-dev] GSoC 2016
In-Reply-To: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
References: <A99E9999-1E2C-467B-9347-E6B837FB6E94@niuitmo.ru>
Message-ID: <1605786.ncRUvWu50u@even-n550jk>

On Wednesday 16 March 2016 12:40:39 Борзых Александр Андреевич wrote:
> Hello everyone
> 
> I am a second year student at Saint-Petersburg ITMO University, Russia. For
> GSoC 2016 I would like to work on DWG support in GDAL.
 
> Overall idea
> DWG  is very wide-spread format and it seems like there is a lot of requests
>  for a good conversion tools from DWG to more common spatial data. I  think
> that current implementations of DWG support are not optimal. For  example
> libdwg (abandoned), libredwg (GPLv3 incompatible with X/MIT).
 
> Technical details
> I plan to use the existing DXF driver as origin for DWG driver. The driver
> will not have any third-party dependencies. First of all I'll study ODA DWG
> specification and how DXF driver works. Than I plan to create DWG driver
> skeleton. And finally code some scope of functionality (will be defined
> later). I'll be grateful if somebody share some dwg test files with common
> cases.

I think, if feasable, some effort should be done to separate the low-level DWG 
reading, from the upper-level OGR use.
I can see 2 reasons to do that :
- so that the handling of the various variants of DWG doesn't go up to the OGR 
layer
- so that the low-level code can possibly be reused by other projects, to 
maximize the chances of contributions.

 
> Possible problems
> There are near 7 versions of DWG format (R13, R14, R2000, R2004, R2007,
> R2010, R2013) with differencies in file organisation, so driver should be
> able to read from and write to all of them.

Is the write support really necessary at this stage ? A working read support 
would already be great. Write support would need to be checked against the 
"official" non-free implementations of the format, since we don't want to 
generate invalid/corrupted/unreadable files.
I remember to have quite a few trial and error cycles when handing a OGR DXF 
writing bug a few years ago to make it readable by other software.
 
> 
> Currently I'm familiarizing myself with GDAL source tree, compilation etc.
> I'll send another email with some progress on other GDAL issues I was
> trying to fix.
 
> I'm excited about the opportunity and hope to be useful for the project!
> 
> Cheers,
> Alexander

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From schwehr at gmail.com  Thu Mar 17 09:19:32 2016
From: schwehr at gmail.com (Kurt Schwehr)
Date: Thu, 17 Mar 2016 09:19:32 -0700
Subject: [gdal-dev] Building GDAL 2.0.0 without ogr on Linux fails
In-Reply-To: <201506231814.19105.even.rouault@spatialys.com>
References: <5589780B.7090004@jemig.eu>
 <201506231814.19105.even.rouault@spatialys.com>
Message-ID: <CACmBxytRc=OQyegsCcTWqS7evMiaVgpAgdWOcz2=d1dCi8NizA@mail.gmail.com>

I propose that we remove --without-ogr and OGR_ENABLED.  Happy to hear
arguments for the contrary.  I commented here:

https://trac.osgeo.org/gdal/ticket/6117

On Tue, Jun 23, 2015 at 9:14 AM, Even Rouault <even.rouault at spatialys.com>
wrote:

> Kor,
>
> I'm half surprised this ended up being broken. At the time of
> https://trac.osgeo.org/gdal/wiki/rfc46_gdal_ogr_unification, it still
> worked
> apparently but I might have accidentaly broken it later.
>
> Anyway I was wondering if it was worth fixing that? as it might be a
> continuing
> maintenance pain... This was something I actually considered during RFC 46
> (I
> mean dropping support for --without-ogr).
>
> Even
>
> > Dear all,
> >
> > I may have found an issue in the build scripts of gdal 2.0.0. Building
> > gdal without ogr on Linux fails on my machine:
> >
> > ./configure --without-ogr
> > make -j8
> >
> > I attached the output of configure and copied the snippets from the
> > build output detailing the errors below.
> >
> > When I change --without-ogr into --with-ogr, the build succeeds.
> >
> > Maybe something OGR-ish is building while it shouldn't(?).
> >
> > Best regards,
> > Kor de Jong
> >
> >
> >
> >
> > libtool: compile:  /opt/gcc-4.9/bin/g++ -I/tmp/blah/gdal-2.0.0/port
> > -I/tmp/blah/gdal-2.0.0/gcore -I/tmp/blah/gdal-2.0.0/alg
> > -I/tmp/blah/gdal-2.0.0/ogr -I/tmp/blah/gdal-2.0.0/ogr/ogrsf_frmts -g -O2
> > -Wall -I/tmp/blah/gdal-2.0.0/port -I/usr/include -DGDAL_COMPILATION -c
> > mffdataset.cpp -o ../o/mffdataset.o >/dev/null 2>&1
> > ogrutils.cpp: In function ‘int OGRGeneralCmdLineProcessor(int, char***,
> > int)’:
> > ogrutils.cpp:526:60: error: ‘GDAL_OF_VECTOR’ was not declared in this
> scope
> >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
> > GDAL_OF_VECTOR );
> >                                                              ^
> > ogrutils.cpp:526:75: error: ‘GDALGeneralCmdLineProcessor’ was not
> > declared in this scope
> >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
> > GDAL_OF_VECTOR );
> >
> >      ^
> > ogrutils.cpp:527:1: warning: control reaches end of non-void function
> > [-Wreturn-type]
> >   }
> >   ^
> > make[1]: *** [ogrutils.lo] Error 1
> > make[1]: *** Waiting for unfinished jobs....
> >
> >
> >
> >
> >
> > pdfwritabledataset.cpp: In member function ‘virtual OGRErr
> > PDFWritableVectorDataset::SyncToDisk()’:
> > pdfwritabledataset.cpp:307:17: error: ‘class GDALPDFWriter’ has no
> > member named ‘WriteOGRLayer’
> >           oWriter.WriteOGRLayer((OGRDataSourceH)this,
> >                   ^
> > make[2]: *** [../o/pdfwritabledataset.lo] Error 1
> > make[2]: *** Waiting for unfinished jobs....
> >
> >
> >
> > make[1]: *** [pdf-install-obj] Error 2
> > make[1]: *** Waiting for unfinished jobs....
> > make: *** [frmts-target] Error 2
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev




-- 
--
http://schwehr.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160317/97d4a7dd/attachment.html>

From even.rouault at spatialys.com  Thu Mar 17 10:17:38 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Thu, 17 Mar 2016 18:17:38 +0100
Subject: [gdal-dev] Building GDAL 2.0.0 without ogr on Linux fails
In-Reply-To: <CACmBxytRc=OQyegsCcTWqS7evMiaVgpAgdWOcz2=d1dCi8NizA@mail.gmail.com>
References: <5589780B.7090004@jemig.eu>
 <201506231814.19105.even.rouault@spatialys.com>
 <CACmBxytRc=OQyegsCcTWqS7evMiaVgpAgdWOcz2=d1dCi8NizA@mail.gmail.com>
Message-ID: <25586494.pepJExtvHK@even-n550jk>

On Thursday 17 March 2016 09:19:32 Kurt Schwehr wrote:
> I propose that we remove --without-ogr and OGR_ENABLED.  

+1

> Happy to hear
> arguments for the contrary.  I commented here:
> 
> https://trac.osgeo.org/gdal/ticket/6117
> 
> On Tue, Jun 23, 2015 at 9:14 AM, Even Rouault <even.rouault at spatialys.com>
> 
> wrote:
> > Kor,
> > 
> > I'm half surprised this ended up being broken. At the time of
> > https://trac.osgeo.org/gdal/wiki/rfc46_gdal_ogr_unification, it still
> > worked
> > apparently but I might have accidentaly broken it later.
> > 
> > Anyway I was wondering if it was worth fixing that? as it might be a
> > continuing
> > maintenance pain... This was something I actually considered during RFC 46
> > (I
> > mean dropping support for --without-ogr).
> > 
> > Even
> > 
> > > Dear all,
> > > 
> > > I may have found an issue in the build scripts of gdal 2.0.0. Building
> > > gdal without ogr on Linux fails on my machine:
> > > 
> > > ./configure --without-ogr
> > > make -j8
> > > 
> > > I attached the output of configure and copied the snippets from the
> > > build output detailing the errors below.
> > > 
> > > When I change --without-ogr into --with-ogr, the build succeeds.
> > > 
> > > Maybe something OGR-ish is building while it shouldn't(?).
> > > 
> > > Best regards,
> > > Kor de Jong
> > > 
> > > 
> > > 
> > > 
> > > libtool: compile:  /opt/gcc-4.9/bin/g++ -I/tmp/blah/gdal-2.0.0/port
> > > -I/tmp/blah/gdal-2.0.0/gcore -I/tmp/blah/gdal-2.0.0/alg
> > > -I/tmp/blah/gdal-2.0.0/ogr -I/tmp/blah/gdal-2.0.0/ogr/ogrsf_frmts -g -O2
> > > -Wall -I/tmp/blah/gdal-2.0.0/port -I/usr/include -DGDAL_COMPILATION -c
> > > mffdataset.cpp -o ../o/mffdataset.o >/dev/null 2>&1
> > > ogrutils.cpp: In function ‘int OGRGeneralCmdLineProcessor(int, char***,
> > > int)’:
> > > ogrutils.cpp:526:60: error: ‘GDAL_OF_VECTOR’ was not declared in this
> > 
> > scope
> > 
> > >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
> > > 
> > > GDAL_OF_VECTOR );
> > > 
> > >                                                              ^
> > > 
> > > ogrutils.cpp:526:75: error: ‘GDALGeneralCmdLineProcessor’ was not
> > > declared in this scope
> > > 
> > >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
> > > 
> > > GDAL_OF_VECTOR );
> > > 
> > >      ^
> > > 
> > > ogrutils.cpp:527:1: warning: control reaches end of non-void function
> > > [-Wreturn-type]
> > > 
> > >   }
> > >   ^
> > > 
> > > make[1]: *** [ogrutils.lo] Error 1
> > > make[1]: *** Waiting for unfinished jobs....
> > > 
> > > 
> > > 
> > > 
> > > 
> > > pdfwritabledataset.cpp: In member function ‘virtual OGRErr
> > > PDFWritableVectorDataset::SyncToDisk()’:
> > > pdfwritabledataset.cpp:307:17: error: ‘class GDALPDFWriter’ has no
> > > member named ‘WriteOGRLayer’
> > > 
> > >           oWriter.WriteOGRLayer((OGRDataSourceH)this,
> > >           
> > >                   ^
> > > 
> > > make[2]: *** [../o/pdfwritabledataset.lo] Error 1
> > > make[2]: *** Waiting for unfinished jobs....
> > > 
> > > 
> > > 
> > > make[1]: *** [pdf-install-obj] Error 2
> > > make[1]: *** Waiting for unfinished jobs....
> > > make: *** [frmts-target] Error 2
> > 
> > --
> > Spatialys - Geospatial professional services
> > http://www.spatialys.com
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bishop.dev at gmail.com  Thu Mar 17 10:55:18 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Thu, 17 Mar 2016 20:55:18 +0300
Subject: [gdal-dev] Building GDAL 2.0.0 without ogr on Linux fails
In-Reply-To: <CACmBxytRc=OQyegsCcTWqS7evMiaVgpAgdWOcz2=d1dCi8NizA@mail.gmail.com>
References: <5589780B.7090004@jemig.eu>
 <201506231814.19105.even.rouault@spatialys.com>
 <CACmBxytRc=OQyegsCcTWqS7evMiaVgpAgdWOcz2=d1dCi8NizA@mail.gmail.com>
Message-ID: <56EAEF86.5080603@gmail.com>

Hi Kurt,

I think, that it's time to do this.

Best regards,
     Dmitry

17.03.2016 19:19, Kurt Schwehr пишет:
> I propose that we remove --without-ogr and OGR_ENABLED.  Happy to hear 
> arguments for the contrary.  I commented here:
>
> https://trac.osgeo.org/gdal/ticket/6117
>
> On Tue, Jun 23, 2015 at 9:14 AM, Even Rouault 
> <even.rouault at spatialys.com <mailto:even.rouault at spatialys.com>> wrote:
>
>     Kor,
>
>     I'm half surprised this ended up being broken. At the time of
>     https://trac.osgeo.org/gdal/wiki/rfc46_gdal_ogr_unification, it
>     still worked
>     apparently but I might have accidentaly broken it later.
>
>     Anyway I was wondering if it was worth fixing that? as it might be
>     a continuing
>     maintenance pain... This was something I actually considered
>     during RFC 46 (I
>     mean dropping support for --without-ogr).
>
>     Even
>
>     > Dear all,
>     >
>     > I may have found an issue in the build scripts of gdal 2.0.0.
>     Building
>     > gdal without ogr on Linux fails on my machine:
>     >
>     > ./configure --without-ogr
>     > make -j8
>     >
>     > I attached the output of configure and copied the snippets from the
>     > build output detailing the errors below.
>     >
>     > When I change --without-ogr into --with-ogr, the build succeeds.
>     >
>     > Maybe something OGR-ish is building while it shouldn't(?).
>     >
>     > Best regards,
>     > Kor de Jong
>     >
>     >
>     >
>     >
>     > libtool: compile:  /opt/gcc-4.9/bin/g++ -I/tmp/blah/gdal-2.0.0/port
>     > -I/tmp/blah/gdal-2.0.0/gcore -I/tmp/blah/gdal-2.0.0/alg
>     > -I/tmp/blah/gdal-2.0.0/ogr
>     -I/tmp/blah/gdal-2.0.0/ogr/ogrsf_frmts -g -O2
>     > -Wall -I/tmp/blah/gdal-2.0.0/port -I/usr/include
>     -DGDAL_COMPILATION -c
>     > mffdataset.cpp -o ../o/mffdataset.o >/dev/null 2>&1
>     > ogrutils.cpp: In function ‘int OGRGeneralCmdLineProcessor(int,
>     char***,
>     > int)’:
>     > ogrutils.cpp:526:60: error: ‘GDAL_OF_VECTOR’ was not declared in
>     this scope
>     >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
>     > GDAL_OF_VECTOR );
>     >       ^
>     > ogrutils.cpp:526:75: error: ‘GDALGeneralCmdLineProcessor’ was not
>     > declared in this scope
>     >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
>     > GDAL_OF_VECTOR );
>     >
>     >      ^
>     > ogrutils.cpp:527:1: warning: control reaches end of non-void
>     function
>     > [-Wreturn-type]
>     >   }
>     >   ^
>     > make[1]: *** [ogrutils.lo] Error 1
>     > make[1]: *** Waiting for unfinished jobs....
>     >
>     >
>     >
>     >
>     >
>     > pdfwritabledataset.cpp: In member function ‘virtual OGRErr
>     > PDFWritableVectorDataset::SyncToDisk()’:
>     > pdfwritabledataset.cpp:307:17: error: ‘class GDALPDFWriter’ has no
>     > member named ‘WriteOGRLayer’
>     >           oWriter.WriteOGRLayer((OGRDataSourceH)this,
>     >                   ^
>     > make[2]: *** [../o/pdfwritabledataset.lo] Error 1
>     > make[2]: *** Waiting for unfinished jobs....
>     >
>     >
>     >
>     > make[1]: *** [pdf-install-obj] Error 2
>     > make[1]: *** Waiting for unfinished jobs....
>     > make: *** [frmts-target] Error 2
>
>     --
>     Spatialys - Geospatial professional services
>     http://www.spatialys.com
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> -- 
> -- 
> http://schwehr.org
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160317/7ff88bff/attachment-0001.html>

From cmartinez at scolab.es  Fri Mar 18 09:34:53 2016
From: cmartinez at scolab.es (=?UTF-8?B?Q8Opc2FyIE1hcnTDrW5leg==?=)
Date: Fri, 18 Mar 2016 17:34:53 +0100
Subject: [gdal-dev] Transformation methods & parameters
	(OGRCoordinateTransformation)
Message-ID: <CA+RzLkZSJFBBVtdJXvbu+SEN7iY5tUBepfPZVSL3trfUSHYQ-w@mail.gmail.com>

Hi, we are evaluating using Gdal/OGR in order to manage CRSs and
transformations on a project.
I have read the OGR Projections Tutorial [1] and also had a look to
the OGRSpatialReference & OGRCoordinateTransformation API.

However, I have not found a simple way to get a list of available
transformation operations between 2 specific CRSs, or at least to
guess which transformation method and parameters is being used by a
particular OGRCoordinateTransformation instance.

This is relevant because sometimes there are several transformation
operations available between 2 CRSs, and we'd like our users being
able to choose which operation they'd like to use. For instance,
between EPSG:23030 and EPSG:4326, at least the following
transformations are suitable for Spain: EPSG:15933, EPSG:1633,
EPSG:1133, EPSG:1145 [2], each using different methods & parameters
and thus providing different accuracy.

Is there a simple way to get this information?

In case this is not possible and we get this information from a
separate source (e.g. the official EPSG database), which is the best
way to instantiate a particular transformation method in GDAL? I
believe it is possible by using some proj4 parameters when creating
the OGRSpatialReference. Is there any alternative way (such as
directly specifying the transformation method & parameters to the
OGRCoordinateTransformation constructor)?

Thanks in advance,

César Martínez Izquierdo


[1] http://www.gdal.org/osr_tutorial.html
[2] See http://epsg.io/15933 http://epsg.io/1633  http://epsg.io/1133
http://epsg.io/1145

-- 
SCOLAB
http://scolab.es

From andre+joost at nurfuerspam.de  Fri Mar 18 10:14:22 2016
From: andre+joost at nurfuerspam.de (Andre Joost)
Date: Fri, 18 Mar 2016 18:14:22 +0100
Subject: [gdal-dev] Transformation methods & parameters
	(OGRCoordinateTransformation)
In-Reply-To: <CA+RzLkZSJFBBVtdJXvbu+SEN7iY5tUBepfPZVSL3trfUSHYQ-w@mail.gmail.com>
References: <CA+RzLkZSJFBBVtdJXvbu+SEN7iY5tUBepfPZVSL3trfUSHYQ-w@mail.gmail.com>
Message-ID: <nchd29$s8o$1@ger.gmane.org>

Am 18.03.2016 um 17:34 schrieb César Martínez:

>
> This is relevant because sometimes there are several transformation
> operations available between 2 CRSs, and we'd like our users being
> able to choose which operation they'd like to use. For instance,
> between EPSG:23030 and EPSG:4326, at least the following
> transformations are suitable for Spain: EPSG:15933, EPSG:1633,
> EPSG:1133, EPSG:1145 [2], each using different methods & parameters
> and thus providing different accuracy.
>
> Is there a simple way to get this information?
>

EPSG:23030 is ED50 / UTM zone 30N.

In a first transformation step, the data is transformed from the 
projected CRS to the geographic CRS. In your case a transverse mercator 
projection on EPSG:4230 ED50.

The datum shift (with different accuracy depending on the parameters) is 
from EPSG:4230 to EPSG:4326. Look out for the datum_shift.csv file, e.g. 
under bin/gdal-data in the Gisinternal builds for Windows. There you 
find all datum shifts from 4230 to 4326 in the lines labelled SEQ_KEY 
306 to 340. Remarks, area bounds and parameters follow in the next 
columns, and the last column PREFERRED has just one line with entry 1 
(SEQ_KEY=308). This one has been chosen as default for all projections 
based on ED50.

You are free to use any of the other ones. For 7-parms trnasformations, 
you might need to change the sign of the rotation parameters RX, RY and RZ.

HTH,
André Joost



From cmartinez at scolab.es  Fri Mar 18 10:57:47 2016
From: cmartinez at scolab.es (=?UTF-8?B?Q8Opc2FyIE1hcnTDrW5leg==?=)
Date: Fri, 18 Mar 2016 18:57:47 +0100
Subject: [gdal-dev] Transformation methods & parameters
	(OGRCoordinateTransformation)
In-Reply-To: <nchd29$s8o$1@ger.gmane.org>
References: <CA+RzLkZSJFBBVtdJXvbu+SEN7iY5tUBepfPZVSL3trfUSHYQ-w@mail.gmail.com>
 <nchd29$s8o$1@ger.gmane.org>
Message-ID: <CA+RzLkYbmbru6qrrbFLAFTHaa5YTMxFSuHaRba_zwOnWivsxEA@mail.gmail.com>

Thanks André, datum_shift.csv is (partially) what I was looking for.

I see however that EPSG:15933 transformation operation is missing on
that list (which in this Spanish example is usually the most accurate
one), maybe because it uses the NTv2 method.

In any case, how can I use the datum_shift.csv parameters to construct
a OGRCoordinateTransformation instance?

César


2016-03-18 18:14 GMT+01:00 Andre Joost <andre+joost at nurfuerspam.de>:
> Am 18.03.2016 um 17:34 schrieb César Martínez:
>
>>
>> This is relevant because sometimes there are several transformation
>> operations available between 2 CRSs, and we'd like our users being
>> able to choose which operation they'd like to use. For instance,
>> between EPSG:23030 and EPSG:4326, at least the following
>> transformations are suitable for Spain: EPSG:15933, EPSG:1633,
>> EPSG:1133, EPSG:1145 [2], each using different methods & parameters
>> and thus providing different accuracy.
>>
>> Is there a simple way to get this information?
>>
>
> EPSG:23030 is ED50 / UTM zone 30N.
>
> In a first transformation step, the data is transformed from the projected
> CRS to the geographic CRS. In your case a transverse mercator projection on
> EPSG:4230 ED50.
>
> The datum shift (with different accuracy depending on the parameters) is
> from EPSG:4230 to EPSG:4326. Look out for the datum_shift.csv file, e.g.
> under bin/gdal-data in the Gisinternal builds for Windows. There you find
> all datum shifts from 4230 to 4326 in the lines labelled SEQ_KEY 306 to 340.
> Remarks, area bounds and parameters follow in the next columns, and the last
> column PREFERRED has just one line with entry 1 (SEQ_KEY=308). This one has
> been chosen as default for all projections based on ED50.
>
> You are free to use any of the other ones. For 7-parms trnasformations, you
> might need to change the sign of the rotation parameters RX, RY and RZ.
>
> HTH,
> André Joost
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev



-- 
SCOLAB
http://scolab.es

From andre+joost at nurfuerspam.de  Fri Mar 18 11:14:31 2016
From: andre+joost at nurfuerspam.de (Andre Joost)
Date: Fri, 18 Mar 2016 19:14:31 +0100
Subject: [gdal-dev] Transformation methods & parameters
	(OGRCoordinateTransformation)
In-Reply-To: <CA+RzLkYbmbru6qrrbFLAFTHaa5YTMxFSuHaRba_zwOnWivsxEA@mail.gmail.com>
References: <CA+RzLkZSJFBBVtdJXvbu+SEN7iY5tUBepfPZVSL3trfUSHYQ-w@mail.gmail.com>
 <nchd29$s8o$1@ger.gmane.org>
 <CA+RzLkYbmbru6qrrbFLAFTHaa5YTMxFSuHaRba_zwOnWivsxEA@mail.gmail.com>
Message-ID: <nchgjj$o9m$1@ger.gmane.org>

Am 18.03.2016 um 18:57 schrieb César Martínez:
> Thanks André, datum_shift.csv is (partially) what I was looking for.
>
> I see however that EPSG:15933 transformation operation is missing on
> that list (which in this Spanish example is usually the most accurate
> one), maybe because it uses the NTv2 method.
>
> In any case, how can I use the datum_shift.csv parameters to construct
> a OGRCoordinateTransformation instance?
>

The parameters go into the +towgs84 parameter string of GDAL/Proj.4.

NTv2 grids are treated differently, you have to apply +nadgrids and the 
path to the file.

HTH,
André Joost



From pero.brbora at stud.unidu.hr  Fri Mar 18 11:54:45 2016
From: pero.brbora at stud.unidu.hr (Pero Brbora)
Date: Fri, 18 Mar 2016 19:54:45 +0100
Subject: [gdal-dev] [GSOC] Student introduction
Message-ID: <20160318195445.Horde.ZqodE-CclwBW7E710TfiCKA@webmail.carnet.hr>

Hi,
My name is Pero Brbora, student of Applied/Business Computing,  
University of Dubrovnik, Croatia <http://www.unidu.hr>. I'm full time  
empolyed in Cadastral Surveying industry and part-time student, so  
CAD/GIS related projects were on my GSOC look up list.

I noticed "DWG driver without third party libraries" idea on your GSOC  
2016 list and would like to apply for it.
Last year I tried GSOC with libredwg project but it was unsuccesfull  
for me, but you can see my work there on the mailing list  
http://lists.gnu.org/archive/html/libredwg/  
(http://lists.gnu.org/archive/html/libredwg/2015-04/msg00001.html) and  
patches I have done at http://savannah.gnu.org/patch/?group=libredwg  
(patch from #8626 to #8635).

I will clone GDAL and do initial compile, test and overview tickets  
you propose student should try over this weekend and will report back.  
My development OS is Linux (Ubuntu 14.04), but I have also access to  
Windows OS (Windows 7).

Your feedback is kindly appreciated.
Thanks, bye


From bishop.dev at gmail.com  Sat Mar 19 09:43:26 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Sat, 19 Mar 2016 19:43:26 +0300
Subject: [gdal-dev] [GSOC] Student introduction
In-Reply-To: <20160318195445.Horde.ZqodE-CclwBW7E710TfiCKA@webmail.carnet.hr>
References: <20160318195445.Horde.ZqodE-CclwBW7E710TfiCKA@webmail.carnet.hr>
Message-ID: <56ED81AE.1030108@gmail.com>

Hi Pero,

I previously wrote the letter to this mailing list, what we expected 
from the GSoC students. We expected from students who interested in GSoC:
1. To close some GDAL ticket and send pull request (the list of 
recommended tickets was in letter) - this is need to us to understand 
the student's skills and some experience with GDAL sources.
2. To describe the GSoC idea in details.

Some students disappeared not starting the tickets fixing, some after 
beginning work on tickets, some successfully fulfilled all the tasks.

There is one student who did everything what I wrote and wants to work 
on GSoC idea - DWG driver for GDAL. Also his skills match the level of 
this task.
Unfortunately you came so late. Usually students who plan to participate 
in GSoC begins the work with community more earlier (several months).

Best regards,
     Dmitry

18.03.2016 21:54, Pero Brbora пишет:
> Hi,
> My name is Pero Brbora, student of Applied/Business Computing, 
> University of Dubrovnik, Croatia <http://www.unidu.hr>. I'm full time 
> empolyed in Cadastral Surveying industry and part-time student, so 
> CAD/GIS related projects were on my GSOC look up list.
>
> I noticed "DWG driver without third party libraries" idea on your GSOC 
> 2016 list and would like to apply for it.
> Last year I tried GSOC with libredwg project but it was unsuccesfull 
> for me, but you can see my work there on the mailing list 
> http://lists.gnu.org/archive/html/libredwg/ 
> (http://lists.gnu.org/archive/html/libredwg/2015-04/msg00001.html) and 
> patches I have done at http://savannah.gnu.org/patch/?group=libredwg 
> (patch from #8626 to #8635).
>
> I will clone GDAL and do initial compile, test and overview tickets 
> you propose student should try over this weekend and will report back. 
> My development OS is Linux (Ubuntu 14.04), but I have also access to 
> Windows OS (Windows 7).
>
> Your feedback is kindly appreciated.
> Thanks, bye
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From viswaug at yahoo.com  Sat Mar 19 15:47:16 2016
From: viswaug at yahoo.com (Vish Uma)
Date: Sat, 19 Mar 2016 22:47:16 +0000 (UTC)
Subject: [gdal-dev] debug vsicurl support
References: <421562677.1664938.1458427636073.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <421562677.1664938.1458427636073.JavaMail.yahoo@mail.yahoo.com>

I have been trying to build GDAL 2.0.2 on an EC2 instance using amazon linux and am having trouble opening datasets with "vsicurl". I did build curl on the machine first and supplied the "--with-curl=/path/to/curl-config" since I am building to an user local directory. The GDAL build output contains no suspicious output in regards to curl. I am providing the corresponding output below.
...checking for curl_global_init in -lcurl... yes...  cURL support (wms/wcs/...):yes
...
when ii try running "gdalinfo /vsicurl/http:/path/to/image.tif" i get the following error
./path/to/gdalinfo /vsicurl/http://path/to/ftype.tif
gdalinfo failed - unable to open '/vsicurl/https://s3.amazonaws.com/timmons-test/ftype_a_UT_projected.tif'.
./path/to/gdalinfo --debug on /vsicurl/http://path/to/ftype.tif
gdalinfo failed - unable to open '/vsicurl/https://s3.amazonaws.com/timmons-test/ftype_a_UT_projected.tif'.
./path/to/gdalinfo --debug on --config CPL_CURL_VERRBOSE YES /vsicurl/http://path/to/ftype.tif
gdalinfo failed - unable to open '/vsicurl/https://s3.amazonaws.com/timmons-test/ftype_a_UT_projected.tif'.
gdalinfo works just fine when the tif is local. Any ideas on troubleshooting what is happening here?
Thank You,Vish
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160319/0827d278/attachment.html>

From pero.brbora at stud.unidu.hr  Sat Mar 19 18:17:33 2016
From: pero.brbora at stud.unidu.hr (Pero Brbora)
Date: Sun, 20 Mar 2016 02:17:33 +0100
Subject: [gdal-dev] Correct reading of ellipse entities (ticket #5705) when
 extrusion vector is (0, 0, -1)
Message-ID: <20160320021733.Horde.ogxCHfCclwBW7fotioZwVXA@webmail.carnet.hr>

Hi all

Thanks for feedback, unfortunate :)

I already started working on ticket #5705 "[AutoCAD DXF] Incorrect  
processing of Ellipses with negative extrusion" before I read Dmitry's  
post, and here are my results.

First I tested ticket sample files to check the status with the  
current code base and defect is still there.

After some internet searching I found that:
1. ellipse entity doesn't use OCS (based on that support for ellipse  
entity came latter to AutoCAD/DXF), but this is not confirmed so  
calling ApplyOCSTransformer in TranslateELLIPSE (file ogrdxflayer.cpp)  
may not be needed for ellipses.
(source: theswamp.org - CAD related forum)
2. when extrusion (normal) is [0,0,-1] ellipse is reversed
(source: stackoverflow and my inspection of sample files in text  
editor and QCAD)

Note: When extrusion (normal) is [0,0,1] there is also no need to call  
ApplyOCSTransform, but this applies to all entities. Currently  
transform is applied whenever extrusion data is present (small  
optimisation).

Based on (2) at least defect reported in ticket #5705 can be resolved.

I made a quick fix against a trunk branch and since I have Github  
account (unused until now) I decided to send pull request, it should  
be up now.

I tested it with files from the ticket and my fix produces correct results.

And for proposal I should say that I can write code for DWG read  
support for R2000 (AutoCAD 2000) version files using ogr dxf support  
files as a template. Other options are possible but please let me know  
if you are interested in my work for GSOC 2016.

Anyway I will keep an eye on GDAL mailing list and help you out.

Side note:
On Building on Unix wiki page  
(https://trac.osgeo.org/gdal/wiki/BuildingOnUnix) there is a typo:
----
% export LD_LIBRARY_PATH=/path/to/install/prefix/lib:$PATH
----
should read:
----
% export LD_LIBRARY_PATH=/path/to/install/prefix/lib:$LD_LIBRARY_PATH
----

IMHO as everyone says.
Thanks bye


From kmrtnjscnc at gmail.com  Sun Mar 20 00:15:42 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Sun, 20 Mar 2016 12:45:42 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <56E716E8.2060701@gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
 <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
 <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>
 <56E716E8.2060701@gmail.com>
Message-ID: <CA+uDmDbcbO7gHYSXsNDH4b3psQCZuUjM6WgeysOxsUxbGCQqzQ@mail.gmail.com>

Hello Dmitry,
Sorry for the long delay, my exams had the better of me, but now they're
over :) .
I have updated libpng 1.6.21 and i have created a pull request after
removing files from original libpng 1.6.21 that I think would not be
required as a library in GDAL.
All test on travis have been passed, and you can see the pull request here
: https://github.com/OSGeo/gdal/pull/108

As for building on desktop, I configured with python, but the same issue of
"ImportError: No module named osgeo persists". I am trying to understand
why this is happening, and am working out how to get rid of this problem by
reading GDAL wiki.

Cheers
Tanuj

On Tue, Mar 15, 2016 at 1:24 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Tanuj,
>
> The error: ImportError: No module named osgeo
> is because you build gdal without python support (you need python with
> developers headers).
> On Linux Linux this is done via such command:
> ./configure --with-python ... <other config options>
>
> On Windows it depends how you build. On Windows I launch separate tests
> successfully but never try the whole tests (run_all.py).
>
> Best regards,
>     Dmitry
>
> 14.03.2016 19:11, Tanuj Kumar пишет:
>
> Hello Dmitry,
> I was reading up on the gdalautotest wiki(
> <http://trac.osgeo.org/gdal/wiki/TestingNotes>
> http://trac.osgeo.org/gdal/wiki/TestingNotes), and it says, "After
> building with either the old or new generation python bindings, and
> installing them (or adding them to your path from the build tree)..."
>
> I could not understand what that means. I guess this is important because
> when I tried the commands given on that page, I got the following error :
>
> File "./run_all.py", line 37, in <module>
> import gdaltest
> File"pymod/gdaltest.py", line 37, in <module>
> from osgeo import gdal
> ImportError: No module named osgeo
>
>
> Now, as far as I could understand, it is importing a file called "gdal.py"
> from a folder called osgeo. I searched for it, and got its path as
> "gdal/swig/python/osgeo, whereas the autotest folder is separate.
> So my guess is I have to somehow specify the path of "gdal.py"
>
> Could you or anyone please guide me on how to proceed with this?
>
> Thanks
> Tanuj
>
> On Sat, Mar 12, 2016 at 11:00 PM, Tanuj Kumar <kmrtnjscnc at gmail.com>
> wrote:
>
>> Alright, thank you very much, I'll get to work on it!
>>
>> On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov <
>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>
>>> Hi Tanuj,
>>>
>>> I wrote a big letter to the list. There is some answers there. Also I
>>> add comments below.
>>>
>>> Best regards,
>>>     Dmitry
>>>
>>> 12.03.2016 10:36, Tanuj Kumar пишет:
>>>
>>> Sorry for replying so late, got caught up in an exam :)
>>>
>>> I replaced libpng folder of gdal (frmts/png/libpng) with libpng 1.6.21.
>>> And then used ./configure and make install on this test version of gdal,
>>> which installed successfully. I used gdalinfo on a png file provided with
>>> the libpng 1.6.21 source, to check if it was OK, and it successfully gave
>>> the png file details.
>>>
>>> Is that enough to check the build on the computer?
>>>
>>> No, the autotests must be passed.
>>>
>>>
>>> I have also tested the gdal library with libpng 1.6.21 on Travis, and
>>> the build succeeded.
>>> https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>>>
>>> Would all that be enough to check whether the update was succesful?
>>>
>>> I expected that travis from main gdal repo checked your PR.
>>>
>>>
>>> PS - Although I have copied the files from libpng 1.6.21 source to the
>>> gdal libpng folder, how would I know if any of those files are not required
>>> for gdal?
>>>
>>> You need to see the previous version. Some files not needed (i.e.
>>> configures and so on, which already comes from gdal, but legal notice must
>>> be present (license, autors, etc.) ). Don't hesitate to ask in list.
>>>
>>>
>>> Thank you
>>>
>>> Tanuj
>>>
>>> On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov <
>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>
>>>> Hi Tanuj,
>>>> 09.03.2016 13:17, Tanuj Kumar пишет:
>>>>
>>>> Yes, I have looked at the ideas list, and I am currently reading up on
>>>> idea no. 16, which is, implementing support for the proposed standard for
>>>> incrementally parseable GeoJSON data.
>>>>
>>>> Also, I was thinking that maybe I could work on ticket no 6294,
>>>> <https://trac.osgeo.org/gdal/ticket/6294>
>>>> https://trac.osgeo.org/gdal/ticket/6294
>>>> after I've studied about the GSoC idea, which is not really a bug, but
>>>> an enhancement. But if there are any other tickets that you or anyone else
>>>> would like to recommend me to work on, I'd love to see them too!
>>>>
>>>> I think this rather arguing ticket as the bool is not exist in plain C,
>>>> and duplication functions seems to me not good idea.
>>>> I think this ticket <https://trac.osgeo.org/gdal/ticket/6185>
>>>> https://trac.osgeo.org/gdal/ticket/6185 is good for: 1. building GDAL,
>>>> 2. Testing via TraviC on GitHub. By the way the libpng version is 1.6.21 or
>>>> maybe higher.
>>>>
>>>> Anyhow, you have to try to build gdal and test it with autotests from
>>>> appropriate folder.
>>>>
>>>>
>>>> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that
>>>> matter) to work on it? I only ask because the idea lists C/C++ as the
>>>> required skills, but I feel that maybe this work would involve knowing JSON
>>>> too...
>>>>
>>>> Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be
>>>> found here <http://geojson.org/>http://geojson.org/Thanks and regards,
>>>>
>>>>
>>>> Tanuj
>>>>
>>>>
>>>> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <
>>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>>
>>>>> Hi, Tanuj
>>>>>
>>>>> I'll look for opened tickets for you, or maybe others can recommend
>>>>> some for you.
>>>>>
>>>>> By the way, do you see the idea list (
>>>>> <https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList>
>>>>> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>>>> The ideas are not ranked yet - the numbers in the list - are only in
>>>>> order.
>>>>> This is a task for us to rank the ideas.
>>>>> But, have you some preferable idea (or ideas) for GSoC from this list
>>>>> or maybe you have got own?
>>>>>
>>>>> Best regards,
>>>>>     Dmitry
>>>>>
>>>>> 04.03.2016 16:11, Tanuj Kumar пишет:
>>>>>
>>>>> Hello,
>>>>> I am interested in applying for GSoC this year. Currently, I am
>>>>> reading up on the GDAL Summer of Code ideas list. I know C++ and C, and I
>>>>> have some experience on working on linux.
>>>>> Could the mentors please recommend a bug for me to work on, I'd really
>>>>> love to start off as soon as possible!
>>>>>
>>>>> Thank you,
>>>>>
>>>>> Tanuj Kumar
>>>>> Birla institute of Technology and Science
>>>>> Pilani, Rajasthan,
>>>>> India
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> gdal-dev mailing list
>>>>> <gdal-dev at lists.osgeo.org>gdal-dev at lists.osgeo.org
>>>>> <http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>
>>>>
>>>>
>>>> Best regards,
>>>>     Dmitry
>>>>
>>>>
>>>
>>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160320/5e489748/attachment-0001.html>

From ari.jolma at gmail.com  Sun Mar 20 01:21:42 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sun, 20 Mar 2016 10:21:42 +0200
Subject: [gdal-dev] Map algebra
Message-ID: <56EE5D96.8060808@gmail.com>

Folks,

I played around a bit with the map algebra idea and came up with 
something that could work nicely as a plugin. The initial code is at 
https://github.com/ajolma/gdal/tree/trunk/gdal/map_algebra

The idea is based on processing raster bands block by block and calling 
a given function on each block. Using macros and templates the code 
should be rather nice and manageable even when supporting multiple data 
types for raster cells.

Further, the idea is to support three kinds of map algebra methods, 
mostly working on a raster band in-place.

1) Simple ones, which do not take any arguments beyond the raster band 
itself, examples are functions like log, sin, rand.

2) Those which take one non-spatial argument. The argument can be a 
scalar like a number, or more complex like a reclassifier.

3) Those which operate on two rasters. Examples are summation of rasters 
and computing flow directions on a DEM. The latter is a bit more complex 
since it is a focal method and requires a 3 x 3 matrix of blocks from 
the other operand raster.

Maybe a fourth kind of methods are those which compute something from a 
raster.

This would lead to four functions in the C API and raster band methods 
in the bindings.

Comments are welcome, the initial code base contains a small demo 
program. Eventually, if this works, I'll make a RFC from this.

Ari


From sarthak0415 at gmail.com  Sun Mar 20 09:41:59 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Sun, 20 Mar 2016 22:11:59 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <56E898F9.1010309@gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
Message-ID: <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>

Hello to all,

Sorry for taking too long (exams and travelling).

After running few tests -

   - In my opinion, in Both the codes the error is not in GetConnectionInfo
   function. if you replace return true with return false at the last of
   the function it won’t fail in both cases.
   - If you run this
   <https://github.com/sarthak-0415/gdal/commit/3e037a84e3392841cda1b4b68d75d205118caa9d>
   and this
   <https://github.com/sarthak-0415/gdal/commit/26e9383645b177c9e4d2ca8798a3b662901f3b63>
   code, it won’t give you the error, the value passed here are correct (NULL
   if that’s the case with *ppszDbname, the error is somewhere else and I
   am not able to debug it.)
   - When I am trying to configure the gdal with enable-debug options
   following error comes

   make[1]: *** [gdalserver] Error 1
   make[1]: *** Waiting for unfinished jobs....
   /home/sarthak/gsoc2016/repos/gdal/gdal/.libs/libgdal.so: undefined
reference to `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char
const*, int, int)'
   collect2: error: ld returned 1 exit status


My current config options are
./configure --prefix=/home/sarthak/gsoc2016/repos/gdal/install/
--with-python=yes -enabl-debug=yes

the following error is for gdalServer gdalInfo gdal_translate and gdaladdo.
All are having the same problem with undefined reference to
`CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'

Please review the code and send me the feedback.
Also, I would like to continue with the bug along with my GSoC proposal.
For which I may have some ideas and would like to discuss the same with
you.. can we talk on IRC since the deadline is in 5 days only.

Regards,
Sarthak

On Wed, Mar 16, 2016 at 4:51 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

Hi Sarthak,
>
> The first version is not working (do you test it?):
> https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541
> Here you try to get array value with index -1. You need to set ppszDbname
> = NULL no DB name present in input parameters.
>
> The second variant is not working too:
> >>> ds = gdal.Open('PG:')
> terminate called after throwing an instance of 'std::logic_error'
>   what():  basic_string::_M_construct null not valid
>
> In both cases there is a problem here:
> https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743
>
> Also look there ppszDbname is using, as before modifications the code
> expect that ppszDbname cannot be NULL.
>
> Best regards,
>     Dmitry
>
> 15.03.2016 13:13, sarthak agarwal пишет:
>
> Hey Dmitry ,
> As discussed on the IRC yesterday,
> I made the changes in the code.
>
> I build two versions of the code
>
>    1.
>
>    The changes suggested by you (to use the old trunk code and remove the
>    additional checks) link
>    <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd>
>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116070409> .
>    a. in this version the Dbname is left empty if not provided by the
>    user.
>    2.
>
>    The version in which we
>    a. if the Dbname is provided by the user then ppzDbname=Dbname.
>    b. else use the psql env var PGDATABASE
>    c. else use the Username as the database name.
>    d. if nothing is available then pass empty string.
>    e link
>    <https://github.com/sarthak-0415/gdal/commit/6264d3fc52242fdce858547cc3a0312b04fd638b>
>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116055868>
>
> I think both version should work
>
> Regards,
> Sarthak
>
> ​
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160320/c69c3916/attachment.html>

From schwehr at gmail.com  Sun Mar 20 11:56:16 2016
From: schwehr at gmail.com (Kurt Schwehr)
Date: Sun, 20 Mar 2016 11:56:16 -0700
Subject: [gdal-dev] Building GDAL 2.0.0 without ogr on Linux fails
In-Reply-To: <56EAEF86.5080603@gmail.com>
References: <5589780B.7090004@jemig.eu>
 <201506231814.19105.even.rouault@spatialys.com>
 <CACmBxytRc=OQyegsCcTWqS7evMiaVgpAgdWOcz2=d1dCi8NizA@mail.gmail.com>
 <56EAEF86.5080603@gmail.com>
Message-ID: <CACmBxyvJat3u1dykgYsKsnj92aG8D86mywL=ehBm73L5-RKT9w@mail.gmail.com>

I didn't see any objections, so I'm going to go ahead and start removing
the option and the #if cpp stuff.

On Thu, Mar 17, 2016 at 10:55 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Kurt,
>
> I think, that it's time to do this.
>
> Best regards,
>     Dmitry
>
> 17.03.2016 19:19, Kurt Schwehr пишет:
>
> I propose that we remove --without-ogr and OGR_ENABLED.  Happy to hear
> arguments for the contrary.  I commented here:
>
> https://trac.osgeo.org/gdal/ticket/6117
>
> On Tue, Jun 23, 2015 at 9:14 AM, Even Rouault <even.rouault at spatialys.com>
> wrote:
>
>> Kor,
>>
>> I'm half surprised this ended up being broken. At the time of
>> https://trac.osgeo.org/gdal/wiki/rfc46_gdal_ogr_unification, it still
>> worked
>> apparently but I might have accidentaly broken it later.
>>
>> Anyway I was wondering if it was worth fixing that? as it might be a
>> continuing
>> maintenance pain... This was something I actually considered during RFC
>> 46 (I
>> mean dropping support for --without-ogr).
>>
>> Even
>>
>> > Dear all,
>> >
>> > I may have found an issue in the build scripts of gdal 2.0.0. Building
>> > gdal without ogr on Linux fails on my machine:
>> >
>> > ./configure --without-ogr
>> > make -j8
>> >
>> > I attached the output of configure and copied the snippets from the
>> > build output detailing the errors below.
>> >
>> > When I change --without-ogr into --with-ogr, the build succeeds.
>> >
>> > Maybe something OGR-ish is building while it shouldn't(?).
>> >
>> > Best regards,
>> > Kor de Jong
>> >
>> >
>> >
>> >
>> > libtool: compile:  /opt/gcc-4.9/bin/g++ -I/tmp/blah/gdal-2.0.0/port
>> > -I/tmp/blah/gdal-2.0.0/gcore -I/tmp/blah/gdal-2.0.0/alg
>> > -I/tmp/blah/gdal-2.0.0/ogr -I/tmp/blah/gdal-2.0.0/ogr/ogrsf_frmts -g -O2
>> > -Wall -I/tmp/blah/gdal-2.0.0/port -I/usr/include -DGDAL_COMPILATION -c
>> > mffdataset.cpp -o ../o/mffdataset.o >/dev/null 2>&1
>> > ogrutils.cpp: In function ‘int OGRGeneralCmdLineProcessor(int, char***,
>> > int)’:
>> > ogrutils.cpp:526:60: error: ‘GDAL_OF_VECTOR’ was not declared in this
>> scope
>> >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
>> > GDAL_OF_VECTOR );
>> >                                                              ^
>> > ogrutils.cpp:526:75: error: ‘GDALGeneralCmdLineProcessor’ was not
>> > declared in this scope
>> >       return GDALGeneralCmdLineProcessor( nArgc, ppapszArgv,
>> > GDAL_OF_VECTOR );
>> >
>> >      ^
>> > ogrutils.cpp:527:1: warning: control reaches end of non-void function
>> > [-Wreturn-type]
>> >   }
>> >   ^
>> > make[1]: *** [ogrutils.lo] Error 1
>> > make[1]: *** Waiting for unfinished jobs....
>> >
>> >
>> >
>> >
>> >
>> > pdfwritabledataset.cpp: In member function ‘virtual OGRErr
>> > PDFWritableVectorDataset::SyncToDisk()’:
>> > pdfwritabledataset.cpp:307:17: error: ‘class GDALPDFWriter’ has no
>> > member named ‘WriteOGRLayer’
>> >           oWriter.WriteOGRLayer((OGRDataSourceH)this,
>> >                   ^
>> > make[2]: *** [../o/pdfwritabledataset.lo] Error 1
>> > make[2]: *** Waiting for unfinished jobs....
>> >
>> >
>> >
>> > make[1]: *** [pdf-install-obj] Error 2
>> > make[1]: *** Waiting for unfinished jobs....
>> > make: *** [frmts-target] Error 2
>>
>> --
>> Spatialys - Geospatial professional services
>> http://www.spatialys.com
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> --
> --
> http://schwehr.org
>
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
--
http://schwehr.org
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160320/73e2e32d/attachment-0001.html>

From even.rouault at spatialys.com  Mon Mar 21 02:14:43 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Mon, 21 Mar 2016 10:14:43 +0100
Subject: [gdal-dev] GDAL 2.1 release plans
In-Reply-To: <201603011902.29684.even.rouault@spatialys.com>
References: <201601151511.48676.even.rouault@spatialys.com>
 <CADPhZXyo0U6CNU5-iPYP1bODrzSW_SwKzj_EkXthX059-qPbEw@mail.gmail.com>
 <201603011902.29684.even.rouault@spatialys.com>
Message-ID: <201603211014.43626.even.rouault@spatialys.com>

Le mardi 01 mars 2016 19:02:29, Even Rouault a écrit :
> Le lundi 29 février 2016 22:19:03, Sean Gillies a écrit :
> > On Fri, Jan 15, 2016 at 7:11 AM, Even Rouault
> > <even.rouault at spatialys.com>
> > 
> > wrote:
> > > Hi,
> > > 
> > > As I've received lately a few emails asking me about GDAL 2.1, it's
> > > time to discuss that publicly.
> > > 
> > > To keep roughly with our yearly cycle, I think we could probably target
> > > a beta
> > > 1 for the beginning of April, with possibly the release happening end
> > > April/beginning May if things go well (optimistic scenario : 3 weeks
> > > for betas
> > > + 1 week RCs).
> > > 
> > > Opinions ? Any candidate for being release manager ?
> > > 
> > > Cheers,
> > > 
> > > Even
> > 
> > I wish I could raise my hand for the release manager job, but I'm pretty
> > tied up with the GeoJSON WG.
> > 
> > I like the time frame you've proposed. There's some work in progress I'd
> > like to see in 2.1 (https://github.com/OSGeo/gdal/pull/98) and 4 weeks
> > should be enough to finish it.
> 
> Hi,
> 
> I intend to cut a 2.1.0 beta1 release on March 31st, which will be the
> feature freeze and start point of the 2.1 branch.

Just a friendly reminder there are 10 days left before feature freeze.

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From Stefan.Zakrzewski at gugik.gov.pl  Mon Mar 21 07:56:21 2016
From: Stefan.Zakrzewski at gugik.gov.pl (Zakrzewski Stefan)
Date: Mon, 21 Mar 2016 15:56:21 +0100
Subject: [gdal-dev] ogr2ogr CircleByCenterPoint convert problem
In-Reply-To: <201603111037.14301.even.rouault@spatialys.com>
References: <A1277C5543FDB646991C1A23518890F9014E87E59894@gugik-ex.gugik-server.gugik>
 <201603111037.14301.even.rouault@spatialys.com>
Message-ID: <A1277C5543FDB646991C1A23518890F9014E87E59E85@gugik-ex.gugik-server.gugik>

Thank you for your quick answer. I have followed your suggestion and the problem is almost solved. On another data set, there are some imperfections but I'm still working on it .

Proper command is:
ogr2ogr -f "ESRI Shapefile" "file.shp" "file.gml" -overwrite -skipfailures -splitlistfields -where OGR_GEOMETRY='CURVEPolygon' -nlt CURVE_TO_LINEAR
ogr2ogr -f "ESRI Shapefile" "file.shp" "file.gml" -append -skipfailures -splitlistfields -where OGR_GEOMETRY='Polygon'

Regards
Stefan

-----Original Message-----
From: Even Rouault [mailto:even.rouault at spatialys.com] 
Sent: Friday, March 11, 2016 10:37 AM
To: gdal-dev at lists.osgeo.org
Cc: Zakrzewski Stefan
Subject: Re: [gdal-dev] ogr2ogr CircleByCenterPoint convert problem

Le vendredi 11 mars 2016 10:28:43, Zakrzewski Stefan a écrit :
> Hi Everyone.
> 
> For several days I try to convert GML file for SHP. It contains 
> objects in three geometry types: point, linear and polygon. They are 
> located on several layers, each of which may contain all types of 
> geometry. Some of polygon features are stored as CircleByCenterPoint.
> 
> After download GDAL 2.02 I've used this command:
> ogr2ogr -f "ESRI Shapefile" "file.shp" "file.gml" -overwrite 
> -skipfailures -splitlistfields -where OGR_GEOMETRY='Polygon' -nlt 
> CURVE_TO_LINEAR

I suspect this will not do what you intend. The -where OGR_GEOMETRY='Polygon'  
is applied *before* conversion of curves to linear geometries.
So either modify your where clause to select the curve geometries you want (you can use the OR boolean operator ), or do the filtering in a second stage by first outputing to let's say a temporary Spatialite and then convert to shape

> 
> For one layer in GML file ogr2ogr has made polygon features for circles,
> but for another completely not. I have checked twice and GML feature
> members in both layers are the same.

If your GML file has several layers, your above method will not merge them into 
a single shapefile.

You could do a ogr2ogr temporary_shp_directory file.gml [....]

and then merge all the shapefiles in temporary_shp_directory into a single one 
by using ogr2ogr / ogr2ogr -append

> 
> I've tried use CURVEPOLYGON, CIRCULARSTRING and got no polygons for Circles
> in shape file.
> 
> Any hints?
> 
> Regards
> Stefan

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From bishop.dev at gmail.com  Mon Mar 21 13:03:15 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Mon, 21 Mar 2016 23:03:15 +0300
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDbcbO7gHYSXsNDH4b3psQCZuUjM6WgeysOxsUxbGCQqzQ@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
 <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
 <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>
 <56E716E8.2060701@gmail.com>
 <CA+uDmDbcbO7gHYSXsNDH4b3psQCZuUjM6WgeysOxsUxbGCQqzQ@mail.gmail.com>
Message-ID: <56F05383.1040903@gmail.com>

Hi Tanuj,

I compare current libpng folder and previous one:
1. You include a lot of files needed to build standalone library, but 
not need in GDAL sources tree (like configure, CMakeLists.txt, etc.).
2. The makefile.vc removed and it seems to me the windows build will 
fail in that case.
3. There was a libpng_gdal.patch file, are you sure that this file is 
not necessary?
4. You included several files need for libpng unit testing, but not 
needed by GDAL. According to GNUMakefile in png folder, it get all *.c 
files from libpng folder, so we need minimum set of *.c and *.h files 
there (but enough for VC building too).

About python support - do you did sudo make install (Linux)? The only 
building is not enough to have python bindings work (there is a tick 
with PYTHONPATH, but not sure that it works.

Best regards,
     Dmitry

20.03.2016 10:15, Tanuj Kumar пишет:
> Hello Dmitry,
> Sorry for the long delay, my exams had the better of me, but now 
> they're over :) .
> I have updated libpng 1.6.21 and i have created a pull request after 
> removing files from original libpng 1.6.21 that I think would not be 
> required as a library in GDAL.
> All test on travis have been passed, and you can see the pull request 
> here : https://github.com/OSGeo/gdal/pull/108
>
> As for building on desktop, I configured with python, but the same 
> issue of "ImportError: No module named osgeo persists". I am trying to 
> understand why this is happening, and am working out how to get rid of 
> this problem by reading GDAL wiki.
>
> Cheers
> Tanuj
>
> On Tue, Mar 15, 2016 at 1:24 AM, Dmitry Baryshnikov 
> <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>
>     Hi Tanuj,
>
>     The error: ImportError: No module named osgeo
>     is because you build gdal without python support (you need python
>     with developers headers).
>     On Linux Linux this is done via such command:
>     ./configure --with-python ... <other config options>
>
>     On Windows it depends how you build. On Windows I launch separate
>     tests successfully but never try the whole tests (run_all.py).
>
>     Best regards,
>          Dmitry
>
>     14.03.2016 19:11, Tanuj Kumar пишет:
>>     Hello Dmitry,
>>     I was reading up on the gdalautotest
>>     wiki(http://trac.osgeo.org/gdal/wiki/TestingNotes), and it says,
>>     "After building with either the old or new generation python
>>     bindings, and installing them (or adding them to your path from
>>     the build tree)..."
>>
>>     I could not understand what that means. I guess this is important
>>     because when I tried the commands given on that page, I got the
>>     following error :
>>
>>     File "./run_all.py", line 37, in <module>
>>     import gdaltest
>>     File"pymod/gdaltest.py", line 37, in <module>
>>     from osgeo import gdal
>>     ImportError: No module named osgeo
>>
>>
>>     Now, as far as I could understand, it is importing a file called
>>     "gdal.py" from a folder called osgeo. I searched for it, and got
>>     its path as "gdal/swig/python/osgeo, whereas the autotest folder
>>     is separate.
>>     So my guess is I have to somehow specify the path of "gdal.py"
>>
>>     Could you or anyone please guide me on how to proceed with this?
>>
>>     Thanks
>>     Tanuj
>>
>>     On Sat, Mar 12, 2016 at 11:00 PM, Tanuj Kumar
>>     <kmrtnjscnc at gmail.com <mailto:kmrtnjscnc at gmail.com>> wrote:
>>
>>         Alright, thank you very much, I'll get to work on it!
>>
>>         On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov
>>         <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>>
>>             Hi Tanuj,
>>
>>             I wrote a big letter to the list. There is some answers
>>             there. Also I add comments below.
>>
>>             Best regards,
>>                  Dmitry
>>
>>             12.03.2016 10:36, Tanuj Kumar пишет:
>>>             Sorry for replying so late, got caught up in an exam :)
>>>
>>>             I replaced libpng folder of gdal (frmts/png/libpng) with
>>>             libpng 1.6.21. And then used ./configure and make
>>>             install on this test version of gdal, which installed
>>>             successfully. I used gdalinfo on a png file provided
>>>             with the libpng 1.6.21 source, to check if it was OK,
>>>             and it successfully gave the png file details.
>>>
>>>             Is that enough to check the build on the computer?
>>             No, the autotests must be passed.
>>>
>>>             I have also tested the gdal library with libpng 1.6.21
>>>             on Travis, and the build succeeded.
>>>             https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>>>
>>>             Would all that be enough to check whether the update was
>>>             succesful?
>>             I expected that travis from main gdal repo checked your PR.
>>>
>>>             PS - Although I have copied the files from libpng 1.6.21
>>>             source to the gdal libpng folder, how would I know if
>>>             any of those files are not required for gdal?
>>>
>>             You need to see the previous version. Some files not
>>             needed (i.e. configures and so on, which already comes
>>             from gdal, but legal notice must be present (license,
>>             autors, etc.) ). Don't hesitate to ask in list.
>>
>>
>>>             Thank you
>>>
>>>             Tanuj
>>>
>>>             On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov
>>>             <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>>>
>>>                 Hi Tanuj,
>>>                 09.03.2016 13:17, Tanuj Kumar пишет:
>>>>                 Yes, I have looked at the ideas list, and I am
>>>>                 currently reading up on idea no. 16, which is,
>>>>                 implementing support for the proposed standard for
>>>>                 incrementally parseable GeoJSON data.
>>>>
>>>>                 Also, I was thinking that maybe I could work on
>>>>                 ticket no 6294, https://trac.osgeo.org/gdal/ticket/6294
>>>>                 after I've studied about the GSoC idea, which is
>>>>                 not really a bug, but an enhancement. But if there
>>>>                 are any other tickets that you or anyone else would
>>>>                 like to recommend me to work on, I'd love to see
>>>>                 them too!
>>>                 I think this rather arguing ticket as the bool is
>>>                 not exist in plain C, and duplication functions
>>>                 seems to me not good idea.
>>>                 I think this ticket
>>>                 https://trac.osgeo.org/gdal/ticket/6185 is good for:
>>>                 1. building GDAL, 2. Testing via TraviC on GitHub.
>>>                 By the way the libpng version is 1.6.21 or maybe higher.
>>>
>>>                 Anyhow, you have to try to build gdal and test it
>>>                 with autotests from appropriate folder.
>>>>
>>>>                 Now, about the GSoC idea, do I need to know JSON(
>>>>                 or GeoJSON, for that matter) to work on it? I only
>>>>                 ask because the idea lists C/C++ as the required
>>>>                 skills, but I feel that maybe this work would
>>>>                 involve knowing JSON too...
>>>                 Yes, certainly. But JSON are very simple. Also
>>>                 GeoJSON spec. can be found here
>>>                 http://geojson.org/Thanks and regards,
>>>
>>>>
>>>>                 Tanuj
>>>>
>>>>
>>>>                 On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov
>>>>                 <bishop.dev at gmail.com
>>>>                 <mailto:bishop.dev at gmail.com>> wrote:
>>>>
>>>>                     Hi, Tanuj
>>>>
>>>>                     I'll look for opened tickets for you, or maybe
>>>>                     others can recommend some for you.
>>>>
>>>>                     By the way, do you see the idea list
>>>>                     (https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>>>
>>>>                     The ideas are not ranked yet - the numbers in
>>>>                     the list - are only in order.
>>>>                     This is a task for us to rank the ideas.
>>>>                     But, have you some preferable idea (or ideas)
>>>>                     for GSoC from this list or maybe you have got own?
>>>>
>>>>                     Best regards,
>>>>                          Dmitry
>>>>
>>>>                     04.03.2016 16:11, Tanuj Kumar пишет:
>>>>>                     Hello,
>>>>>                     I am interested in applying for GSoC this
>>>>>                     year. Currently, I am reading up on the GDAL
>>>>>                     Summer of Code ideas list. I know C++ and C,
>>>>>                     and I have some experience on working on linux.
>>>>>                     Could the mentors please recommend a bug for
>>>>>                     me to work on, I'd really love to start off as
>>>>>                     soon as possible!
>>>>>
>>>>>                     Thank you,
>>>>>
>>>>>                     Tanuj Kumar
>>>>>                     Birla institute of Technology and Science
>>>>>                     Pilani, Rajasthan,
>>>>>                     India
>>>>>
>>>>>
>>>>>                     _______________________________________________
>>>>>                     gdal-dev mailing list
>>>>>                     gdal-dev at lists.osgeo.org
>>>>>                     <mailto:gdal-dev at lists.osgeo.org>
>>>>>                     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>>                     _______________________________________________
>>>>                     gdal-dev mailing list
>>>>                     gdal-dev at lists.osgeo.org
>>>>                     <mailto:gdal-dev at lists.osgeo.org>
>>>>                     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>
>>>>
>>>
>>>                 Best regards,
>>>                      Dmitry
>>>
>>>
>>
>>
>>
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160321/492fab41/attachment-0001.html>

From bishop.dev at gmail.com  Mon Mar 21 13:19:36 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Mon, 21 Mar 2016 23:19:36 +0300
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
 <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
Message-ID: <56F05758.8030008@gmail.com>

Hi Sarthak,

The problem is here 
https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdriver.cpp#L78

Your code produce situation there pszDbnameIn can be NULL. Before your 
fixes, that cannot be.
So the line "CPLString osKey = pszDbnameIn;" produces crash.

Don't wait for anybody with proposal. The new GSoC site is right place 
to discuss proposals.

Best regards,
     Dmitry

20.03.2016 19:41, sarthak agarwal пишет:
>
> Hello to all,
>
> Sorry for taking too long (exams and travelling).
>
> After running few tests -
>
>   * In my opinion, in Both the codes the error is not in
>     |GetConnectionInfo| function. if you replace |return true| with
>     |return false| at the last of the function it won’t fail in both
>     cases.
>   * If you run this
>     <https://github.com/sarthak-0415/gdal/commit/3e037a84e3392841cda1b4b68d75d205118caa9d>
>     and this
>     <https://github.com/sarthak-0415/gdal/commit/26e9383645b177c9e4d2ca8798a3b662901f3b63>
>     code, it won’t give you the error, the value passed here are
>     correct (NULL if that’s the case with |*ppszDbname|, the error is
>     somewhere else and I am not able to debug it.)
>   * When I am trying to configure the gdal with |enable-debug| options
>     following error comes
>     |make[1]: *** [gdalserver] Error 1 make[1]: *** Waiting for
>     unfinished jobs....
>     /home/sarthak/gsoc2016/repos/gdal/gdal/.libs/libgdal.so: undefined
>     reference to `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double,
>     char const*, int, int)' collect2: error: ld returned 1 exit status |
>
> My current config options are
> |./configure --prefix=/home/sarthak/gsoc2016/repos/gdal/install/ 
> --with-python=yes -enabl-debug=yes|
>
> the following error is for |gdalServer| |gdalInfo| |gdal_translate| 
> and |gdaladdo|. All are having the same problem with |undefined 
> reference to `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char 
> const*, int, int)'|
>
> Please review the code and send me the feedback.
> Also, I would like to continue with the bug along with my GSoC 
> proposal. For which I may have some ideas and would like to discuss 
> the same with you.. can we talk on IRC since the deadline is in 5 days 
> only.
>
> Regards,
> Sarthak
>
> On Wed, Mar 16, 2016 at 4:51 AM, Dmitry Baryshnikov 
> <bishop.dev at gmail.com <mailto:bishop.dev at gmail.com>> wrote:
>
>     Hi Sarthak,
>
>     The first version is not working (do you test it?):
>     https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541
>     Here you try to get array value with index -1. You need to set
>     ppszDbname = NULL no DB name present in input parameters.
>
>     The second variant is not working too:
>     >>> ds = gdal.Open('PG:')
>     terminate called after throwing an instance of 'std::logic_error'
>       what():  basic_string::_M_construct null not valid
>
>     In both cases there is a problem here:
>     https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743
>
>     Also look there ppszDbname is using, as before modifications the
>     code expect that ppszDbname cannot be NULL.
>
>     Best regards,
>          Dmitry
>
>     15.03.2016 13:13, sarthak agarwal пишет:
>>
>>     Hey Dmitry ,
>>     As discussed on the IRC yesterday,
>>     I made the changes in the code.
>>
>>     I build two versions of the code
>>
>>     1.
>>
>>         The changes suggested by you (to use the old trunk code and
>>         remove the additional checks) link
>>         <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd>
>>         travis
>>         <https://travis-ci.org/sarthak-0415/gdal/builds/116070409> .
>>         a. in this version the Dbname is left empty if not provided
>>         by the user.
>>
>>     2.
>>
>>         The version in which we
>>         a. if the Dbname is provided by the user then ppzDbname=Dbname.
>>         b. else use the psql env var PGDATABASE
>>         c. else use the Username as the database name.
>>         d. if nothing is available then pass empty string.
>>         e link
>>         <https://github.com/sarthak-0415/gdal/commit/6264d3fc52242fdce858547cc3a0312b04fd638b>
>>         travis <https://travis-ci.org/sarthak-0415/gdal/builds/116055868>
>>
>>     I think both version should work
>>
>>     Regards,
>>     Sarthak
>>
> ​

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160321/96dc1047/attachment.html>

From kmrtnjscnc at gmail.com  Mon Mar 21 13:37:00 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Tue, 22 Mar 2016 02:07:00 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <56F05383.1040903@gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
 <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
 <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>
 <56E716E8.2060701@gmail.com>
 <CA+uDmDbcbO7gHYSXsNDH4b3psQCZuUjM6WgeysOxsUxbGCQqzQ@mail.gmail.com>
 <56F05383.1040903@gmail.com>
Message-ID: <CA+uDmDaJpT_iQfrEw-ApEy+tTjsJJHwBUU3bvT0NAzCw-4=LJg@mail.gmail.com>

Hello Dmitry,

Thank you for your feedback. I will look into all the files in libpng once
again.

About the python support - I think I found the problem, I guess that when I
was downloading the source, due to poor net at the time a few files didn't
get through. So now I'm downloading again, and I'll let you know if there
are any more issues.

Cheers
Tanuj

On Tue, Mar 22, 2016 at 1:33 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Tanuj,
>
> I compare current libpng folder and previous one:
> 1. You include a lot of files needed to build standalone library, but not
> need in GDAL sources tree (like configure, CMakeLists.txt, etc.).
> 2. The makefile.vc removed and it seems to me the windows build will fail
> in that case.
> 3. There was a libpng_gdal.patch file, are you sure that this file is not
> necessary?
> 4. You included several files need for libpng unit testing, but not needed
> by GDAL. According to GNUMakefile in png folder, it get all *.c files from
> libpng folder, so we need minimum set of *.c and *.h files there (but
> enough for VC building too).
>
> About python support - do you did sudo make install (Linux)? The only
> building is not enough to have python bindings work (there is a tick with
> PYTHONPATH, but not sure that it works.
>
> Best regards,
>     Dmitry
>
> 20.03.2016 10:15, Tanuj Kumar пишет:
>
> Hello Dmitry,
> Sorry for the long delay, my exams had the better of me, but now they're
> over :) .
> I have updated libpng 1.6.21 and i have created a pull request after
> removing files from original libpng 1.6.21 that I think would not be
> required as a library in GDAL.
> All test on travis have been passed, and you can see the pull request here
> : https://github.com/OSGeo/gdal/pull/108
>
> As for building on desktop, I configured with python, but the same issue
> of "ImportError: No module named osgeo persists". I am trying to understand
> why this is happening, and am working out how to get rid of this problem by
> reading GDAL wiki.
>
> Cheers
> Tanuj
>
> On Tue, Mar 15, 2016 at 1:24 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
> wrote:
>
>> Hi Tanuj,
>>
>> The error: ImportError: No module named osgeo
>> is because you build gdal without python support (you need python with
>> developers headers).
>> On Linux Linux this is done via such command:
>> ./configure --with-python ... <other config options>
>>
>> On Windows it depends how you build. On Windows I launch separate tests
>> successfully but never try the whole tests (run_all.py).
>>
>> Best regards,
>>     Dmitry
>>
>> 14.03.2016 19:11, Tanuj Kumar пишет:
>>
>> Hello Dmitry,
>> I was reading up on the gdalautotest wiki(
>> <http://trac.osgeo.org/gdal/wiki/TestingNotes>
>> http://trac.osgeo.org/gdal/wiki/TestingNotes), and it says, "After
>> building with either the old or new generation python bindings, and
>> installing them (or adding them to your path from the build tree)..."
>>
>> I could not understand what that means. I guess this is important because
>> when I tried the commands given on that page, I got the following error :
>>
>> File "./run_all.py", line 37, in <module>
>> import gdaltest
>> File"pymod/gdaltest.py", line 37, in <module>
>> from osgeo import gdal
>> ImportError: No module named osgeo
>>
>>
>> Now, as far as I could understand, it is importing a file called
>> "gdal.py" from a folder called osgeo. I searched for it, and got its path
>> as "gdal/swig/python/osgeo, whereas the autotest folder is separate.
>> So my guess is I have to somehow specify the path of "gdal.py"
>>
>> Could you or anyone please guide me on how to proceed with this?
>>
>> Thanks
>> Tanuj
>>
>> On Sat, Mar 12, 2016 at 11:00 PM, Tanuj Kumar < <kmrtnjscnc at gmail.com>
>> kmrtnjscnc at gmail.com> wrote:
>>
>>> Alright, thank you very much, I'll get to work on it!
>>>
>>> On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov <
>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>
>>>> Hi Tanuj,
>>>>
>>>> I wrote a big letter to the list. There is some answers there. Also I
>>>> add comments below.
>>>>
>>>> Best regards,
>>>>     Dmitry
>>>>
>>>> 12.03.2016 10:36, Tanuj Kumar пишет:
>>>>
>>>> Sorry for replying so late, got caught up in an exam :)
>>>>
>>>> I replaced libpng folder of gdal (frmts/png/libpng) with libpng 1.6.21.
>>>> And then used ./configure and make install on this test version of gdal,
>>>> which installed successfully. I used gdalinfo on a png file provided with
>>>> the libpng 1.6.21 source, to check if it was OK, and it successfully gave
>>>> the png file details.
>>>>
>>>> Is that enough to check the build on the computer?
>>>>
>>>> No, the autotests must be passed.
>>>>
>>>>
>>>> I have also tested the gdal library with libpng 1.6.21 on Travis, and
>>>> the build succeeded.
>>>> <https://travis-ci.org/Raeburn1687/gdal/builds/115487530>
>>>> https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>>>>
>>>> Would all that be enough to check whether the update was succesful?
>>>>
>>>> I expected that travis from main gdal repo checked your PR.
>>>>
>>>>
>>>> PS - Although I have copied the files from libpng 1.6.21 source to the
>>>> gdal libpng folder, how would I know if any of those files are not required
>>>> for gdal?
>>>>
>>>> You need to see the previous version. Some files not needed (i.e.
>>>> configures and so on, which already comes from gdal, but legal notice must
>>>> be present (license, autors, etc.) ). Don't hesitate to ask in list.
>>>>
>>>>
>>>> Thank you
>>>>
>>>> Tanuj
>>>>
>>>> On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov <
>>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>>
>>>>> Hi Tanuj,
>>>>> 09.03.2016 13:17, Tanuj Kumar пишет:
>>>>>
>>>>> Yes, I have looked at the ideas list, and I am currently reading up on
>>>>> idea no. 16, which is, implementing support for the proposed standard for
>>>>> incrementally parseable GeoJSON data.
>>>>>
>>>>> Also, I was thinking that maybe I could work on ticket no 6294,
>>>>> <https://trac.osgeo.org/gdal/ticket/6294>
>>>>> https://trac.osgeo.org/gdal/ticket/6294
>>>>> after I've studied about the GSoC idea, which is not really a bug, but
>>>>> an enhancement. But if there are any other tickets that you or anyone else
>>>>> would like to recommend me to work on, I'd love to see them too!
>>>>>
>>>>> I think this rather arguing ticket as the bool is not exist in plain
>>>>> C, and duplication functions seems to me not good idea.
>>>>> I think this ticket <https://trac.osgeo.org/gdal/ticket/6185>
>>>>> https://trac.osgeo.org/gdal/ticket/6185 is good for: 1. building
>>>>> GDAL, 2. Testing via TraviC on GitHub. By the way the libpng version is
>>>>> 1.6.21 or maybe higher.
>>>>>
>>>>> Anyhow, you have to try to build gdal and test it with autotests from
>>>>> appropriate folder.
>>>>>
>>>>>
>>>>> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for that
>>>>> matter) to work on it? I only ask because the idea lists C/C++ as the
>>>>> required skills, but I feel that maybe this work would involve knowing JSON
>>>>> too...
>>>>>
>>>>> Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be
>>>>> found here <http://geojson.org/>http://geojson.org/Thanks and
>>>>> regards,
>>>>>
>>>>>
>>>>> Tanuj
>>>>>
>>>>>
>>>>> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <
>>>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>>>
>>>>>> Hi, Tanuj
>>>>>>
>>>>>> I'll look for opened tickets for you, or maybe others can recommend
>>>>>> some for you.
>>>>>>
>>>>>> By the way, do you see the idea list (
>>>>>> <https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList>
>>>>>> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>>>>> The ideas are not ranked yet - the numbers in the list - are only in
>>>>>> order.
>>>>>> This is a task for us to rank the ideas.
>>>>>> But, have you some preferable idea (or ideas) for GSoC from this list
>>>>>> or maybe you have got own?
>>>>>>
>>>>>> Best regards,
>>>>>>     Dmitry
>>>>>>
>>>>>> 04.03.2016 16:11, Tanuj Kumar пишет:
>>>>>>
>>>>>> Hello,
>>>>>> I am interested in applying for GSoC this year. Currently, I am
>>>>>> reading up on the GDAL Summer of Code ideas list. I know C++ and C, and I
>>>>>> have some experience on working on linux.
>>>>>> Could the mentors please recommend a bug for me to work on, I'd
>>>>>> really love to start off as soon as possible!
>>>>>>
>>>>>> Thank you,
>>>>>>
>>>>>> Tanuj Kumar
>>>>>> Birla institute of Technology and Science
>>>>>> Pilani, Rajasthan,
>>>>>> India
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> gdal-dev mailing list
>>>>>> <gdal-dev at lists.osgeo.org>gdal-dev at lists.osgeo.org
>>>>>> <http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>>
>>>>>
>>>>>
>>>>> Best regards,
>>>>>     Dmitry
>>>>>
>>>>>
>>>>
>>>>
>>>
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160322/7fc5d5b1/attachment-0001.html>

From sarthak0415 at gmail.com  Tue Mar 22 07:39:37 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Tue, 22 Mar 2016 20:09:37 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <56F05758.8030008@gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
 <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
 <56F05758.8030008@gmail.com>
Message-ID: <CAPwn9czTGV=NDKErFtCXRdBf=UtTxKG_P7fCQjTJd-TAQfb0Fg@mail.gmail.com>

Hello Dmitry,

I have made all the necessary changes and now the code is working as
expected ie If we provide no dbname, it will take the username by default.

Here is the
https://github.com/OSGeo/gdal/commit/417f4ed2642c56729f93fdb959e2bf1b9f1fdfb1
to
the fix.

Regards,
Sarthak
​

On Tue, Mar 22, 2016 at 1:49 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Sarthak,
>
> The problem is here
> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdriver.cpp#L78
>
> Your code produce situation there pszDbnameIn can be NULL. Before your
> fixes, that cannot be.
> So the line "CPLString osKey = pszDbnameIn;" produces crash.
>
> Don't wait for anybody with proposal. The new GSoC site is right place to
> discuss proposals.
>
> Best regards,
>     Dmitry
>
> 20.03.2016 19:41, sarthak agarwal пишет:
>
> Hello to all,
>
> Sorry for taking too long (exams and travelling).
>
> After running few tests -
>
>    - In my opinion, in Both the codes the error is not in
>    GetConnectionInfo function. if you replace return true with return
>    false at the last of the function it won’t fail in both cases.
>    - If you run this
>    <https://github.com/sarthak-0415/gdal/commit/3e037a84e3392841cda1b4b68d75d205118caa9d>
>    and this
>    <https://github.com/sarthak-0415/gdal/commit/26e9383645b177c9e4d2ca8798a3b662901f3b63>
>    code, it won’t give you the error, the value passed here are correct (NULL
>    if that’s the case with *ppszDbname, the error is somewhere else and I
>    am not able to debug it.)
>    - When I am trying to configure the gdal with enable-debug options
>    following error comes
>
>    make[1]: *** [gdalserver] Error 1
>    make[1]: *** Waiting for unfinished jobs....
>    /home/sarthak/gsoc2016/repos/gdal/gdal/.libs/libgdal.so: undefined reference to `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'
>    collect2: error: ld returned 1 exit status
>
>
> My current config options are
> ./configure --prefix=/home/sarthak/gsoc2016/repos/gdal/install/
> --with-python=yes -enabl-debug=yes
>
> the following error is for gdalServer gdalInfo gdal_translate and gdaladdo.
> All are having the same problem with undefined reference to
> `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'
>
> Please review the code and send me the feedback.
> Also, I would like to continue with the bug along with my GSoC proposal.
> For which I may have some ideas and would like to discuss the same with
> you.. can we talk on IRC since the deadline is in 5 days only.
>
> Regards,
> Sarthak
>
> On Wed, Mar 16, 2016 at 4:51 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
> wrote:
>
>> Hi Sarthak,
>>
>> The first version is not working (do you test it?):
>> <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541>
>> https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541
>> Here you try to get array value with index -1. You need to set ppszDbname
>> = NULL no DB name present in input parameters.
>>
>> The second variant is not working too:
>> >>> ds = gdal.Open('PG:')
>> terminate called after throwing an instance of 'std::logic_error'
>>   what():  basic_string::_M_construct null not valid
>>
>> In both cases there is a problem here:
>> <https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743>
>> https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743
>>
>> Also look there ppszDbname is using, as before modifications the code
>> expect that ppszDbname cannot be NULL.
>>
>> Best regards,
>>     Dmitry
>>
>> 15.03.2016 13:13, sarthak agarwal пишет:
>>
>> Hey Dmitry ,
>> As discussed on the IRC yesterday,
>> I made the changes in the code.
>>
>> I build two versions of the code
>>
>>    1.
>>
>>    The changes suggested by you (to use the old trunk code and remove
>>    the additional checks) link
>>    <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd>
>>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116070409> .
>>    a. in this version the Dbname is left empty if not provided by the
>>    user.
>>    2.
>>
>>    The version in which we
>>    a. if the Dbname is provided by the user then ppzDbname=Dbname.
>>    b. else use the psql env var PGDATABASE
>>    c. else use the Username as the database name.
>>    d. if nothing is available then pass empty string.
>>    e link
>>    <https://github.com/sarthak-0415/gdal/commit/6264d3fc52242fdce858547cc3a0312b04fd638b>
>>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116055868>
>>
>> I think both version should work
>>
>> Regards,
>> Sarthak
>>
>> ​
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160322/8b823de9/attachment-0001.html>

From kmrtnjscnc at gmail.com  Tue Mar 22 11:32:35 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Wed, 23 Mar 2016 00:02:35 +0530
Subject: [gdal-dev] GSoC draft
Message-ID: <CA+uDmDZSwhEpb8SfrQWyGEiPd+9MYrHUtA3mNap_eQ=jvdvtgw@mail.gmail.com>

Hello everyone,
I have shared my draft on the GSoC website. I request the would be mentors
to please have a look and suggest me any changes that they feel fit.
Since it has not been shared using Google docs, any comments to the draft
can be sent to me via mail.
If the draft is inaccessible, please let me know.

Thank you,
Tanuj Kumar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160323/61560457/attachment.html>

From pero.brbora at stud.unidu.hr  Tue Mar 22 12:16:10 2016
From: pero.brbora at stud.unidu.hr (Pero Brbora)
Date: Tue, 22 Mar 2016 20:16:10 +0100
Subject: [gdal-dev] Coordinate system transfromations in dxf driver
Message-ID: <20160322201610.Horde.yu-DFfCclwBW8Zn6ARIHqTA@webmail.carnet.hr>


Hi all,

I started with trying to solve ticket 5705, incorect ellipse reading  
when extrusion is [0,0,-1].

As always the easiest solution was looked last, that is RTFM. If you  
read dxf reference from autodesk you will see that everything is  
explained very well. Not all entities use OCS (object coordinate  
system, which is derived from extrusion vector). For ellipse its  
clearly stated, excerpt:
---
Ellipse group codes
Group codes, Description
10 Center point (in WCS). DXF: X value; APP: 3D point
20, 30 DXF: Y and Z values of center point (in WCS)
11 Endpoint of major axis, relative to the center (in WCS).
21, 31 DXF: Y and Z values of endpoint of major axis, relative to the  
center (in WCS)
---

Currently dxf driver blindly applies coordinate transformations to all  
supported entities, which is incorrect.

Note that angles need to be corrected with respect to OCS (right hand  
rule with counterclockwise direction).

RTFM, bye

From even.rouault at spatialys.com  Tue Mar 22 12:56:36 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 22 Mar 2016 20:56:36 +0100
Subject: [gdal-dev] Coordinate system transfromations in dxf driver
In-Reply-To: <20160322201610.Horde.yu-DFfCclwBW8Zn6ARIHqTA@webmail.carnet.hr>
References: <20160322201610.Horde.yu-DFfCclwBW8Zn6ARIHqTA@webmail.carnet.hr>
Message-ID: <201603222056.36609.even.rouault@spatialys.com>

Pero,

> I started with trying to solve ticket 5705, incorect ellipse reading
> when extrusion is [0,0,-1].

I've applied your patch in r33770 (with the addition of a test case that 
demonstrates it). Thanks

> 
> As always the easiest solution was looked last, that is RTFM. If you
> read dxf reference from autodesk you will see that everything is
> explained very well. Not all entities use OCS (object coordinate
> system, which is derived from extrusion vector). For ellipse its
> clearly stated, excerpt:
> ---
> Ellipse group codes
> Group codes, Description
> 10 Center point (in WCS). DXF: X value; APP: 3D point
> 20, 30 DXF: Y and Z values of center point (in WCS)
> 11 Endpoint of major axis, relative to the center (in WCS).
> 21, 31 DXF: Y and Z values of endpoint of major axis, relative to the
> center (in WCS)
> ---
> 
> Currently dxf driver blindly applies coordinate transformations to all
> supported entities, which is incorrect.

Are there other entites you identified to be incorrectly handled ?

> 
> Note that angles need to be corrected with respect to OCS (right hand
> rule with counterclockwise direction).
> 
> RTFM, bye

Not the most friendly way to say good bye IMHO...

Regards,

Even

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From pero.brbora at stud.unidu.hr  Tue Mar 22 16:02:46 2016
From: pero.brbora at stud.unidu.hr (Pero Brbora)
Date: Wed, 23 Mar 2016 00:02:46 +0100
Subject: [gdal-dev] Coordinate system transfromations in dxf driver
In-Reply-To: <201603222056.36609.even.rouault@spatialys.com>
References: <20160322201610.Horde.yu-DFfCclwBW8Zn6ARIHqTA@webmail.carnet.hr>
 <201603222056.36609.even.rouault@spatialys.com>
Message-ID: <20160323000246.Horde.ITGWb-CclwBW8c8W7C6XL2A@webmail.carnet.hr>

>
> Are there other entites you identified to be incorrectly handled ?
>
It depends which revision of dxf reference you read. If you're  
refering to R2000 (AutoCAD 2000 which ogr supports for writing) POINT  
and LINE entity can safely be removed from coordinate transformations.

POINT:
100 Subclass marker (AcDbPoint)
10 Point location (in WCS) DXF: X value; APP: 3D point
20, 30 DXF: Y and Z values of point location (in WCS)

LINE:
100 Subclass marker (AcDbLine)
10 Start point (in WCS) DXF: X value; APP: 3D point
20, 30 DXF: Y and Z values of start point (in WCS)
11 End point (in WCS) DXF: X value; APP: 3D point
21, 31 DXF: Y and Z values of end point (in WCS)

Point and line entities were always considered 3D entities in AutoCAD  
(from R10 of dxf reference). Other entities I will have to investigate  
further.

One question: What is the logic behind flattening circle, arc and  
ellipse entities?

>> RTFM, bye
>
> Not the most friendly way to say good bye IMHO...
My apologies to all who read my previous post. That last line was  
meant mainly for me as I spent few hours reading unhelpful stuff  
instead of dxf reference. I understand that it was a wrong place for it.

Bye

From avyavkumar at gmail.com  Wed Mar 23 01:43:00 2016
From: avyavkumar at gmail.com (Avyav Kumar)
Date: Wed, 23 Mar 2016 14:13:00 +0530
Subject: [gdal-dev] GSoC 2016
Message-ID: <CAHOc4-0Ou0bh4L-3oLcBipp_yG7euX1XfGdxrUsCZch4j8jsrw@mail.gmail.com>

Hi all,

I have submitted a proposal on the GSoC page which pertains to the support
of new geometries (Polyhedral surfaces, triangulated surfaces and
triangles) in OGR core and driver integration. If the mentors do check it
out, I am open to any reviews or suggestions by them for the same.

Regards,

Avyav
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160323/a9559f09/attachment.html>

From even.rouault at spatialys.com  Wed Mar 23 01:55:54 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 23 Mar 2016 09:55:54 +0100
Subject: [gdal-dev] Coordinate system transfromations in dxf driver
In-Reply-To: <20160323000246.Horde.ITGWb-CclwBW8c8W7C6XL2A@webmail.carnet.hr>
References: <20160322201610.Horde.yu-DFfCclwBW8Zn6ARIHqTA@webmail.carnet.hr>
 <201603222056.36609.even.rouault@spatialys.com>
 <20160323000246.Horde.ITGWb-CclwBW8c8W7C6XL2A@webmail.carnet.hr>
Message-ID: <201603230955.54161.even.rouault@spatialys.com>

Le mercredi 23 mars 2016 00:02:46, Pero Brbora a écrit :
> > Are there other entites you identified to be incorrectly handled ?
> 
> It depends which revision of dxf reference you read. If you're
> refering to R2000 (AutoCAD 2000 which ogr supports for writing) POINT
> and LINE entity can safely be removed from coordinate transformations.
> 
> POINT:
> 100 Subclass marker (AcDbPoint)
> 10 Point location (in WCS) DXF: X value; APP: 3D point
> 20, 30 DXF: Y and Z values of point location (in WCS)
> 
> LINE:
> 100 Subclass marker (AcDbLine)
> 10 Start point (in WCS) DXF: X value; APP: 3D point
> 20, 30 DXF: Y and Z values of start point (in WCS)
> 11 End point (in WCS) DXF: X value; APP: 3D point
> 21, 31 DXF: Y and Z values of end point (in WCS)
> 
> Point and line entities were always considered 3D entities in AutoCAD
> (from R10 of dxf reference). Other entities I will have to investigate
> further.

Interesting. Would be probably worth noting that in a Trac ticket. Though I'd 
wait for fixing for real-world data confirming the need to remove the OCS 
transformation.

> 
> One question: What is the logic behind flattening circle, arc and
> ellipse entities?

At the time the driver was developed there was no support in OGR for curve 
geometries. Now we could probably expose circle and arc as CircularString. For 
ellipse, there isn't an adequate geometry in the OGC Simple Feature standard.

> 
> >> RTFM, bye
> > 
> > Not the most friendly way to say good bye IMHO...
> 
> My apologies to all who read my previous post. That last line was
> meant mainly for me as I spent few hours reading unhelpful stuff
> instead of dxf reference. I understand that it was a wrong place for it.

Got it ;-)

> 
> Bye

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From kassies at gmail.com  Wed Mar 23 07:54:23 2016
From: kassies at gmail.com (Rutger)
Date: Wed, 23 Mar 2016 07:54:23 -0700 (PDT)
Subject: [gdal-dev] Using gdal.ReprojectImage on chunk\block basis
Message-ID: <1458744863698-5258018.post@n6.nabble.com>

Dear list,

I am trying to use gdal.ReprojectImage to warp an image within Python.
Usually when the image is large i like to do this in smaller chunks, based
on the blocksize of the destination image.

Today, when doing this for a target dataset which was striped, row based
(blocksize = [1, ysize]), i noticed significant artifacts when using a
resampling method other then nearest neighbor. To do the other resampling
methods you would need surrounding pixels as well, but since you provide
only the input dataset to GDAL, this is not something you can control, GDAL
is doing all the reading from the source data in the background. 

So whats the best way to ensure correct results when using ReprojectImage? I
can look at the destination blocksize and make it a bit larger in case of a
single pixel dimension, process 5 or 10 lines at once for example. But how
can i be sure that something like that would solve the source of the
artifacts. I cant check all valid blocksize combinations, and like to avoid
surprises. 

I'm really hoping to avoid any windowed approach, eg warping to a larger
area and slicing of the borders.

Here is a simplified example replicating the artifacts i'm seeing:
http://nbviewer.jupyter.org/gist/RutgerK/ef6d1aae57625e9a2679

Needless to say that the gdalwarp cmd utility (of course) works for fine for
striped data.


Regards,
Rutger





--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Using-gdal-ReprojectImage-on-chunk-block-basis-tp5258018.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From viswaug at yahoo.com  Wed Mar 23 12:11:43 2016
From: viswaug at yahoo.com (Vish Uma)
Date: Wed, 23 Mar 2016 19:11:43 +0000 (UTC)
Subject: [gdal-dev] does vsicurl support reading multiple byte ranges with a
 single HTTP request?
References: <882694389.4252701.1458760303794.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <882694389.4252701.1458760303794.JavaMail.yahoo@mail.yahoo.com>

I am using vsicurl to read a given extent of values from a GeoTIFF file over HTTP. I found that the library is making multiple requests with different range headers(8 requests in my case) to read all of the data that is needed. Does VSICURL support reading these bytes ranges in a single request by specifying the range as "Range: bytes=100-200, 300-400". This entry in the 1.9 release notes seems to suggest it is possible "VSI*L: Add ReadMultiRange?() virtual method to read several ranges of data in single call; add an optimized implementation for /vsicurl/" (https://trac.osgeo.org/gdal/wiki/Release/1.9.0-News) but it is not what I am observing.
Thank You,Vish
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160323/c5fa8671/attachment.html>

From even.rouault at spatialys.com  Wed Mar 23 12:25:03 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 23 Mar 2016 20:25:03 +0100
Subject: [gdal-dev] does vsicurl support reading multiple byte ranges
	with a single HTTP request?
In-Reply-To: <882694389.4252701.1458760303794.JavaMail.yahoo@mail.yahoo.com>
References: <882694389.4252701.1458760303794.JavaMail.yahoo.ref@mail.yahoo.com>
 <882694389.4252701.1458760303794.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <201603232025.04231.even.rouault@spatialys.com>

Le mercredi 23 mars 2016 20:11:43, Vish Uma a écrit :
> I am using vsicurl to read a given extent of values from a GeoTIFF file
> over HTTP. I found that the library is making multiple requests with
> different range headers(8 requests in my case) to read all of the data
> that is needed. Does VSICURL support reading these bytes ranges in a
> single request by specifying the range as "Range: bytes=100-200, 300-400".

VSICURL yes, but the readers that use it, generally no since that require them 
to be modified to "plan" their reads in advance, which is sometimes not 
possible, or not practical.

> This entry in the 1.9 release notes seems to suggest it is possible
> "VSI*L: Add ReadMultiRange?() virtual method to read several ranges of
> data in single call; add an optimized implementation for /vsicurl/"
> (https://trac.osgeo.org/gdal/wiki/Release/1.9.0-News) but it is not what I
> am observing. 

This is only used in the GTiff driver if specifying GTIFF_DIRECT_IO=YES as 
configuration option / environment variable. This is restricted to a few 
formulations of GeoTIFF though. See http://gdal.org/frmt_gtiff.html ( there was 
already some support in 1.9, but with more restrictions, like limited to 
single band datasets. )

> Thank You,Vish

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sarthak0415 at gmail.com  Wed Mar 23 13:22:35 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Thu, 24 Mar 2016 01:52:35 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9czTGV=NDKErFtCXRdBf=UtTxKG_P7fCQjTJd-TAQfb0Fg@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
 <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
 <56F05758.8030008@gmail.com>
 <CAPwn9czTGV=NDKErFtCXRdBf=UtTxKG_P7fCQjTJd-TAQfb0Fg@mail.gmail.com>
Message-ID: <CAPwn9cwh3Pv0V+EqdYi6BOUs4i6fiLU+=fuOgOQe8Jj+Kr1UsA@mail.gmail.com>

Hello Dmitry,

I fixed the bug (I guess).
Now coming to my proposal for GSoC, So I was thinking of working on project
#4 *Auto-detection of EPSG codes from incomplete WKT.*

What I understood from the project is that we need to predict the EPSG code
of certain files on the basis of some attributes which are available in the
file.

The attributes can be extracted from the file for which I read this
<http://www.gdal.org/osr_tutorial.html#querying_coordinate_system>.

Now to solve this problem I thought a lot of methods but I think the best
way to solve it will be using machine learning.

The way ML will handle this problem is as follows-

   1. We need to find the EPSG code for a file (testing data)
   2. We have a file with some attributes (projections,datum,etc ).
   3. We need to the guess the best suitable class for that file(EPSG)
   4. Also, we have many files for which we know the attributes and the
   corresponding class (training data).

This problem is now translated into an ML problem which can be solved using
the following models-

1. Bayesian Stastics <https://en.wikipedia.org/wiki/Posterior_probability>

where,
posteriror probability = probability of this file have EPSG code 'a'.
prior probability = probability of occurence of EPSG code 'a'.

likelihood probablity = cases where we saw such attributes when the EPSG
code is 'a'.


2. or we can use a simple knn where k is the number of possible EPSG code
and the dimension of the feature vector is the number of possible
attributes. we need to the find a valid and promising weight function).


3. We can use multi-class SVM.

4. any other suggestion from the community regarding the possible choice of
the algo.

I am thinking of actually implementing all these algo(may add algo in
future depending upon the suggestion) and select the algo which gives the
best performance among all of them.

Please provide me feedback on my proposal and suggestion if I can
add/change anything.
And since very less time is left in the deadline, I would like to convert
it into proposal ASAP with your help.

Regards,
Sarthak
​

On Tue, Mar 22, 2016 at 8:09 PM, sarthak agarwal <sarthak0415 at gmail.com>
wrote:

> Hello Dmitry,
>
> I have made all the necessary changes and now the code is working as
> expected ie If we provide no dbname, it will take the username by default.
>
> Here is the
> https://github.com/OSGeo/gdal/commit/417f4ed2642c56729f93fdb959e2bf1b9f1fdfb1 to
> the fix.
>
> Regards,
> Sarthak
> ​
>
> On Tue, Mar 22, 2016 at 1:49 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
> wrote:
>
>> Hi Sarthak,
>>
>> The problem is here
>> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdriver.cpp#L78
>>
>> Your code produce situation there pszDbnameIn can be NULL. Before your
>> fixes, that cannot be.
>> So the line "CPLString osKey = pszDbnameIn;" produces crash.
>>
>> Don't wait for anybody with proposal. The new GSoC site is right place to
>> discuss proposals.
>>
>> Best regards,
>>     Dmitry
>>
>> 20.03.2016 19:41, sarthak agarwal пишет:
>>
>> Hello to all,
>>
>> Sorry for taking too long (exams and travelling).
>>
>> After running few tests -
>>
>>    - In my opinion, in Both the codes the error is not in
>>    GetConnectionInfo function. if you replace return true with return
>>    false at the last of the function it won’t fail in both cases.
>>    - If you run this
>>    <https://github.com/sarthak-0415/gdal/commit/3e037a84e3392841cda1b4b68d75d205118caa9d>
>>    and this
>>    <https://github.com/sarthak-0415/gdal/commit/26e9383645b177c9e4d2ca8798a3b662901f3b63>
>>    code, it won’t give you the error, the value passed here are correct (NULL
>>    if that’s the case with *ppszDbname, the error is somewhere else and
>>    I am not able to debug it.)
>>    - When I am trying to configure the gdal with enable-debug options
>>    following error comes
>>
>>    make[1]: *** [gdalserver] Error 1
>>    make[1]: *** Waiting for unfinished jobs....
>>    /home/sarthak/gsoc2016/repos/gdal/gdal/.libs/libgdal.so: undefined reference to `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'
>>    collect2: error: ld returned 1 exit status
>>
>>
>> My current config options are
>> ./configure --prefix=/home/sarthak/gsoc2016/repos/gdal/install/
>> --with-python=yes -enabl-debug=yes
>>
>> the following error is for gdalServer gdalInfo gdal_translate and
>> gdaladdo. All are having the same problem with undefined reference to
>> `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'
>>
>> Please review the code and send me the feedback.
>> Also, I would like to continue with the bug along with my GSoC proposal.
>> For which I may have some ideas and would like to discuss the same with
>> you.. can we talk on IRC since the deadline is in 5 days only.
>>
>> Regards,
>> Sarthak
>>
>> On Wed, Mar 16, 2016 at 4:51 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
>> wrote:
>>
>>> Hi Sarthak,
>>>
>>> The first version is not working (do you test it?):
>>> <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541>
>>> https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541
>>> Here you try to get array value with index -1. You need to set ppszDbname
>>> = NULL no DB name present in input parameters.
>>>
>>> The second variant is not working too:
>>> >>> ds = gdal.Open('PG:')
>>> terminate called after throwing an instance of 'std::logic_error'
>>>   what():  basic_string::_M_construct null not valid
>>>
>>> In both cases there is a problem here:
>>> <https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743>
>>> https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743
>>>
>>> Also look there ppszDbname is using, as before modifications the code
>>> expect that ppszDbname cannot be NULL.
>>>
>>> Best regards,
>>>     Dmitry
>>>
>>> 15.03.2016 13:13, sarthak agarwal пишет:
>>>
>>> Hey Dmitry ,
>>> As discussed on the IRC yesterday,
>>> I made the changes in the code.
>>>
>>> I build two versions of the code
>>>
>>>    1.
>>>
>>>    The changes suggested by you (to use the old trunk code and remove
>>>    the additional checks) link
>>>    <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd>
>>>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116070409> .
>>>    a. in this version the Dbname is left empty if not provided by the
>>>    user.
>>>    2.
>>>
>>>    The version in which we
>>>    a. if the Dbname is provided by the user then ppzDbname=Dbname.
>>>    b. else use the psql env var PGDATABASE
>>>    c. else use the Username as the database name.
>>>    d. if nothing is available then pass empty string.
>>>    e link
>>>    <https://github.com/sarthak-0415/gdal/commit/6264d3fc52242fdce858547cc3a0312b04fd638b>
>>>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116055868>
>>>
>>> I think both version should work
>>>
>>> Regards,
>>> Sarthak
>>>
>>> ​
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160324/94c20fdf/attachment-0001.html>

From kmrtnjscnc at gmail.com  Thu Mar 24 01:35:13 2016
From: kmrtnjscnc at gmail.com (Tanuj Kumar)
Date: Thu, 24 Mar 2016 14:05:13 +0530
Subject: [gdal-dev] Google Summer of Code
In-Reply-To: <CA+uDmDaJpT_iQfrEw-ApEy+tTjsJJHwBUU3bvT0NAzCw-4=LJg@mail.gmail.com>
References: <CA+uDmDaWTSa=ajQQ6smdhBszHaj3j52_umdHi_Vtp2fjPmf=cQ@mail.gmail.com>
 <56DFECDA.9010206@gmail.com>
 <CA+uDmDYPs58+zvP+Fx+Qa5QsmpQQKf32Cvvu0yAN-00LBc8=NA@mail.gmail.com>
 <56E13241.4040203@gmail.com>
 <CA+uDmDaf_=g-efCLo3-4c1-w14B941a4p=VByuLd4beBRMeXbA@mail.gmail.com>
 <56E44F0C.2010604@gmail.com>
 <CA+uDmDbUd74c5nXKb7+ybGgbHu8xm_i0mYDD68OLyypPQwhg5w@mail.gmail.com>
 <CA+uDmDYnTFO4upP0JFdfEbmbT3V730YvBJJcUYrJt=cGJuX3sA@mail.gmail.com>
 <56E716E8.2060701@gmail.com>
 <CA+uDmDbcbO7gHYSXsNDH4b3psQCZuUjM6WgeysOxsUxbGCQqzQ@mail.gmail.com>
 <56F05383.1040903@gmail.com>
 <CA+uDmDaJpT_iQfrEw-ApEy+tTjsJJHwBUU3bvT0NAzCw-4=LJg@mail.gmail.com>
Message-ID: <CA+uDmDZ0417EtJcHFOQ3cJ3xeMRWYd+42dyTb=MrE=-ZLR1CtA@mail.gmail.com>

Hello Dmitry,

I have made the necessary changes to libpng, you can check it here :
https://github.com/OSGeo/gdal/pull/110/files


I have finally been able to download the source properly, and then I ran
the PNG test.
Out of 14 tests, 1 failed. Here are the details:

  TEST: png_1 ... success
  TEST: png_2 ... success
  TEST: png_3 ... success
  TEST: png_4 ... success
  TEST: png_5 ... success
  TEST: png_6 ... success
  TEST: png_7 ... success
  TEST: png_8 ... success
  TEST: png_9 ... success
  TEST: png_10 ... success
  TEST: png_11 ... success
  TEST: png_12 ... success
  TEST: png_13 ... success
  TEST: png_14 ... None
fail
    line 317: failure

Test Script: png
Succeeded: 13
Failed:    1 (0 blew exceptions)
Skipped:   0
Expected fail:0
Duration:  0.04s

Found libgdal we are running against : /usr/local/lib/libgdal.so.20.0.2



I checked png.py, and test 14 is "Test support for nbits < 8".

Could you please advise me how to proceed now?

On Tue, Mar 22, 2016 at 2:07 AM, Tanuj Kumar <kmrtnjscnc at gmail.com> wrote:

> Hello Dmitry,
>
> Thank you for your feedback. I will look into all the files in libpng once
> again.
>
> About the python support - I think I found the problem, I guess that when
> I was downloading the source, due to poor net at the time a few files
> didn't get through. So now I'm downloading again, and I'll let you know if
> there are any more issues.
>
> Cheers
> Tanuj
>
> On Tue, Mar 22, 2016 at 1:33 AM, Dmitry Baryshnikov <bishop.dev at gmail.com>
> wrote:
>
>> Hi Tanuj,
>>
>> I compare current libpng folder and previous one:
>> 1. You include a lot of files needed to build standalone library, but not
>> need in GDAL sources tree (like configure, CMakeLists.txt, etc.).
>> 2. The makefile.vc removed and it seems to me the windows build will
>> fail in that case.
>> 3. There was a libpng_gdal.patch file, are you sure that this file is not
>> necessary?
>> 4. You included several files need for libpng unit testing, but not
>> needed by GDAL. According to GNUMakefile in png folder, it get all *.c
>> files from libpng folder, so we need minimum set of *.c and *.h files there
>> (but enough for VC building too).
>>
>> About python support - do you did sudo make install (Linux)? The only
>> building is not enough to have python bindings work (there is a tick with
>> PYTHONPATH, but not sure that it works.
>>
>> Best regards,
>>     Dmitry
>>
>> 20.03.2016 10:15, Tanuj Kumar пишет:
>>
>> Hello Dmitry,
>> Sorry for the long delay, my exams had the better of me, but now they're
>> over :) .
>> I have updated libpng 1.6.21 and i have created a pull request after
>> removing files from original libpng 1.6.21 that I think would not be
>> required as a library in GDAL.
>> All test on travis have been passed, and you can see the pull request
>> here : https://github.com/OSGeo/gdal/pull/108
>>
>> As for building on desktop, I configured with python, but the same issue
>> of "ImportError: No module named osgeo persists". I am trying to understand
>> why this is happening, and am working out how to get rid of this problem by
>> reading GDAL wiki.
>>
>> Cheers
>> Tanuj
>>
>> On Tue, Mar 15, 2016 at 1:24 AM, Dmitry Baryshnikov <bishop.dev at gmail.com
>> > wrote:
>>
>>> Hi Tanuj,
>>>
>>> The error: ImportError: No module named osgeo
>>> is because you build gdal without python support (you need python with
>>> developers headers).
>>> On Linux Linux this is done via such command:
>>> ./configure --with-python ... <other config options>
>>>
>>> On Windows it depends how you build. On Windows I launch separate tests
>>> successfully but never try the whole tests (run_all.py).
>>>
>>> Best regards,
>>>     Dmitry
>>>
>>> 14.03.2016 19:11, Tanuj Kumar пишет:
>>>
>>> Hello Dmitry,
>>> I was reading up on the gdalautotest wiki(
>>> <http://trac.osgeo.org/gdal/wiki/TestingNotes>
>>> http://trac.osgeo.org/gdal/wiki/TestingNotes), and it says, "After
>>> building with either the old or new generation python bindings, and
>>> installing them (or adding them to your path from the build tree)..."
>>>
>>> I could not understand what that means. I guess this is important
>>> because when I tried the commands given on that page, I got the following
>>> error :
>>>
>>> File "./run_all.py", line 37, in <module>
>>> import gdaltest
>>> File"pymod/gdaltest.py", line 37, in <module>
>>> from osgeo import gdal
>>> ImportError: No module named osgeo
>>>
>>>
>>> Now, as far as I could understand, it is importing a file called
>>> "gdal.py" from a folder called osgeo. I searched for it, and got its path
>>> as "gdal/swig/python/osgeo, whereas the autotest folder is separate.
>>> So my guess is I have to somehow specify the path of "gdal.py"
>>>
>>> Could you or anyone please guide me on how to proceed with this?
>>>
>>> Thanks
>>> Tanuj
>>>
>>> On Sat, Mar 12, 2016 at 11:00 PM, Tanuj Kumar < <kmrtnjscnc at gmail.com>
>>> kmrtnjscnc at gmail.com> wrote:
>>>
>>>> Alright, thank you very much, I'll get to work on it!
>>>>
>>>> On Sat, Mar 12, 2016 at 10:47 PM, Dmitry Baryshnikov <
>>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>>
>>>>> Hi Tanuj,
>>>>>
>>>>> I wrote a big letter to the list. There is some answers there. Also I
>>>>> add comments below.
>>>>>
>>>>> Best regards,
>>>>>     Dmitry
>>>>>
>>>>> 12.03.2016 10:36, Tanuj Kumar пишет:
>>>>>
>>>>> Sorry for replying so late, got caught up in an exam :)
>>>>>
>>>>> I replaced libpng folder of gdal (frmts/png/libpng) with libpng
>>>>> 1.6.21. And then used ./configure and make install on this test version of
>>>>> gdal, which installed successfully. I used gdalinfo on a png file provided
>>>>> with the libpng 1.6.21 source, to check if it was OK, and it successfully
>>>>> gave the png file details.
>>>>>
>>>>> Is that enough to check the build on the computer?
>>>>>
>>>>> No, the autotests must be passed.
>>>>>
>>>>>
>>>>> I have also tested the gdal library with libpng 1.6.21 on Travis, and
>>>>> the build succeeded.
>>>>> <https://travis-ci.org/Raeburn1687/gdal/builds/115487530>
>>>>> https://travis-ci.org/Raeburn1687/gdal/builds/115487530
>>>>>
>>>>> Would all that be enough to check whether the update was succesful?
>>>>>
>>>>> I expected that travis from main gdal repo checked your PR.
>>>>>
>>>>>
>>>>> PS - Although I have copied the files from libpng 1.6.21 source to the
>>>>> gdal libpng folder, how would I know if any of those files are not required
>>>>> for gdal?
>>>>>
>>>>> You need to see the previous version. Some files not needed (i.e.
>>>>> configures and so on, which already comes from gdal, but legal notice must
>>>>> be present (license, autors, etc.) ). Don't hesitate to ask in list.
>>>>>
>>>>>
>>>>> Thank you
>>>>>
>>>>> Tanuj
>>>>>
>>>>> On Thu, Mar 10, 2016 at 2:07 PM, Dmitry Baryshnikov <
>>>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>>>
>>>>>> Hi Tanuj,
>>>>>> 09.03.2016 13:17, Tanuj Kumar пишет:
>>>>>>
>>>>>> Yes, I have looked at the ideas list, and I am currently reading up
>>>>>> on idea no. 16, which is, implementing support for the proposed standard
>>>>>> for incrementally parseable GeoJSON data.
>>>>>>
>>>>>> Also, I was thinking that maybe I could work on ticket no 6294,
>>>>>> <https://trac.osgeo.org/gdal/ticket/6294>
>>>>>> https://trac.osgeo.org/gdal/ticket/6294
>>>>>> after I've studied about the GSoC idea, which is not really a bug,
>>>>>> but an enhancement. But if there are any other tickets that you or anyone
>>>>>> else would like to recommend me to work on, I'd love to see them too!
>>>>>>
>>>>>> I think this rather arguing ticket as the bool is not exist in plain
>>>>>> C, and duplication functions seems to me not good idea.
>>>>>> I think this ticket <https://trac.osgeo.org/gdal/ticket/6185>
>>>>>> https://trac.osgeo.org/gdal/ticket/6185 is good for: 1. building
>>>>>> GDAL, 2. Testing via TraviC on GitHub. By the way the libpng version is
>>>>>> 1.6.21 or maybe higher.
>>>>>>
>>>>>> Anyhow, you have to try to build gdal and test it with autotests from
>>>>>> appropriate folder.
>>>>>>
>>>>>>
>>>>>> Now, about the GSoC idea, do I need to know JSON( or GeoJSON, for
>>>>>> that matter) to work on it? I only ask because the idea lists C/C++ as the
>>>>>> required skills, but I feel that maybe this work would involve knowing JSON
>>>>>> too...
>>>>>>
>>>>>> Yes, certainly. But JSON are very simple. Also GeoJSON spec. can be
>>>>>> found here <http://geojson.org/>http://geojson.org/Thanks and
>>>>>> regards,
>>>>>>
>>>>>>
>>>>>> Tanuj
>>>>>>
>>>>>>
>>>>>> On Wed, Mar 9, 2016 at 2:58 PM, Dmitry Baryshnikov <
>>>>>> <bishop.dev at gmail.com>bishop.dev at gmail.com> wrote:
>>>>>>
>>>>>>> Hi, Tanuj
>>>>>>>
>>>>>>> I'll look for opened tickets for you, or maybe others can recommend
>>>>>>> some for you.
>>>>>>>
>>>>>>> By the way, do you see the idea list (
>>>>>>> <https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList>
>>>>>>> https://trac.osgeo.org/gdal/wiki/SummerOfCode#a2016IdeasList)?
>>>>>>> The ideas are not ranked yet - the numbers in the list - are only in
>>>>>>> order.
>>>>>>> This is a task for us to rank the ideas.
>>>>>>> But, have you some preferable idea (or ideas) for GSoC from this
>>>>>>> list or maybe you have got own?
>>>>>>>
>>>>>>> Best regards,
>>>>>>>     Dmitry
>>>>>>>
>>>>>>> 04.03.2016 16:11, Tanuj Kumar пишет:
>>>>>>>
>>>>>>> Hello,
>>>>>>> I am interested in applying for GSoC this year. Currently, I am
>>>>>>> reading up on the GDAL Summer of Code ideas list. I know C++ and C, and I
>>>>>>> have some experience on working on linux.
>>>>>>> Could the mentors please recommend a bug for me to work on, I'd
>>>>>>> really love to start off as soon as possible!
>>>>>>>
>>>>>>> Thank you,
>>>>>>>
>>>>>>> Tanuj Kumar
>>>>>>> Birla institute of Technology and Science
>>>>>>> Pilani, Rajasthan,
>>>>>>> India
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> gdal-dev mailing list
>>>>>>> <gdal-dev at lists.osgeo.org>gdal-dev at lists.osgeo.org
>>>>>>> <http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>>>>>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>>>>>
>>>>>>
>>>>>>
>>>>>> Best regards,
>>>>>>     Dmitry
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>
>>>
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160324/37e3efad/attachment-0001.html>

From gghiggini at gec-it.com  Thu Mar 24 08:38:49 2016
From: gghiggini at gec-it.com (Giorgio Ghiggini)
Date: Thu, 24 Mar 2016 16:38:49 +0100
Subject: [gdal-dev] S57 conversion
Message-ID: <00cf01d185e3$43a6f2a0$caf4d7e0$@com>

Hello,

 

I am trying to use the ogr2ogr to convert an S57 file (IENC) to a different
format but I am having several problems.

 

I tried converting to ESRI Shapefile but the object with code 17004 (dismar)
is not converted.

I tried then converting to SQlite and the 17004 is converted as generic, but
not all its attributes are converted.

 

I checked into the "gdal_data" folder and found several csv files to manage
various S57 objects/attributes catalogs.

I see also the IW (Inland water) is present and it seems correct, including
all my object and attribute codes.

 

Any suggestion ?

 

Thanks for your help,

 

Best regards.

Giorgio

 

 

 

Giorgio Ghiggini

 

GEC s.r.l.

Via Monte Matanna 1/C

55049 Viareggio (LU)

Italy

P.Iva: 02412390466

cell.: +39 331 141 9315

email: gghiggini at gec-it.com

skype: ghigio2000

www.gec-it.com

 <http://www.globalterramaps.com/> www.globalterramaps.com

 <http://www.globalaquamaps.com/> www.globalaquamaps.com

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160324/8c9571b3/attachment.html>

From chiara.marmo at u-psud.fr  Thu Mar 24 16:03:56 2016
From: chiara.marmo at u-psud.fr (Chiara Marmo)
Date: Fri, 25 Mar 2016 00:03:56 +0100 (CET)
Subject: [gdal-dev] FITS driver update?
In-Reply-To: <861350225.5355856.1458855762835.JavaMail.zimbra@u-psud.fr>
Message-ID: <545271057.5583787.1458860636442.JavaMail.zimbra@u-psud.fr>

Hi gdal-list,

I work in a planetary/geology/astronomy lab, and I'm interested in having standard and full implementation of FITS format in GDAL.
Geographical metadata are not yet well defined in FITS, then in the first time I'm just verifying that GDAL works as expected (by astronomers :) ) with FITS format.

I have forked the OsGeo project in https://github.com/epn-vespa/gdal/ and addressed three points:
1) FITS origin is defined on the left bottom corner of a raster, this is the expected behaviour of FITS processing software: I have modified the read and write block direction.
2) Unsigned INT 16 and 32 bit are supported by FITS via specific BZERO value (https://heasarc.gsfc.nasa.gov/docs/software/fitsio/c/c_user/node23.html): I have added USHORT and ULONG support.
3) BZERO BSCALE are 'reserved keywords' and copying them in the metadata produce inconsistency in reverse conversion: a FITS containing BZERO BSCALE is converted to tiff, tiff reconverted to FITS, BZERO BSCALE become strings and FITS visualization ended up in a 0 raster. I have excluded BZERO and BSCALE from metadata keywords.

I haven't figured out yet how to manage scaled values... this will take some more time, as geographical conversion.

I'm wondering if those small changes could be tested by the community and maybe integrated in the code at some time.

All comments are welcome!
Thanks for listening,
Chiara

-- 
Chiara Marmo
Ingénieur de Recherche GEOPS - Paris Sud-11
Bât 509
Tel: +33 (0)1 69 15 49 03 

From sarthak0415 at gmail.com  Fri Mar 25 00:17:59 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Fri, 25 Mar 2016 12:47:59 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cwh3Pv0V+EqdYi6BOUs4i6fiLU+=fuOgOQe8Jj+Kr1UsA@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
 <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
 <56F05758.8030008@gmail.com>
 <CAPwn9czTGV=NDKErFtCXRdBf=UtTxKG_P7fCQjTJd-TAQfb0Fg@mail.gmail.com>
 <CAPwn9cwh3Pv0V+EqdYi6BOUs4i6fiLU+=fuOgOQe8Jj+Kr1UsA@mail.gmail.com>
Message-ID: <CAPwn9cwo-zNQ7YBp5c+ctg8gdP=5Akr5GW8vTVHd5sAm4TvAdw@mail.gmail.com>

The deadline is today.

Sarthak

On Thu, Mar 24, 2016 at 1:52 AM, sarthak agarwal <sarthak0415 at gmail.com>
wrote:

> Hello Dmitry,
>
> I fixed the bug (I guess).
> Now coming to my proposal for GSoC, So I was thinking of working on
> project #4 *Auto-detection of EPSG codes from incomplete WKT.*
>
> What I understood from the project is that we need to predict the EPSG
> code of certain files on the basis of some attributes which are available
> in the file.
>
> The attributes can be extracted from the file for which I read this
> <http://www.gdal.org/osr_tutorial.html#querying_coordinate_system>.
>
> Now to solve this problem I thought a lot of methods but I think the best
> way to solve it will be using machine learning.
>
> The way ML will handle this problem is as follows-
>
>    1. We need to find the EPSG code for a file (testing data)
>    2. We have a file with some attributes (projections,datum,etc ).
>    3. We need to the guess the best suitable class for that file(EPSG)
>    4. Also, we have many files for which we know the attributes and the
>    corresponding class (training data).
>
> This problem is now translated into an ML problem which can be solved
> using the following models-
>
> 1. Bayesian Stastics <https://en.wikipedia.org/wiki/Posterior_probability>
>
> where,
> posteriror probability = probability of this file have EPSG code 'a'.
> prior probability = probability of occurence of EPSG code 'a'.
>
> likelihood probablity = cases where we saw such attributes when the EPSG
> code is 'a'.
>
>
> 2. or we can use a simple knn where k is the number of possible EPSG code
> and the dimension of the feature vector is the number of possible
> attributes. we need to the find a valid and promising weight function).
>
>
> 3. We can use multi-class SVM.
>
> 4. any other suggestion from the community regarding the possible choice
> of the algo.
>
> I am thinking of actually implementing all these algo(may add algo in
> future depending upon the suggestion) and select the algo which gives the
> best performance among all of them.
>
> Please provide me feedback on my proposal and suggestion if I can
> add/change anything.
> And since very less time is left in the deadline, I would like to convert
> it into proposal ASAP with your help.
>
> Regards,
> Sarthak
> ​
>
> On Tue, Mar 22, 2016 at 8:09 PM, sarthak agarwal <sarthak0415 at gmail.com>
> wrote:
>
>> Hello Dmitry,
>>
>> I have made all the necessary changes and now the code is working as
>> expected ie If we provide no dbname, it will take the username by default.
>>
>> Here is the
>> https://github.com/OSGeo/gdal/commit/417f4ed2642c56729f93fdb959e2bf1b9f1fdfb1 to
>> the fix.
>>
>> Regards,
>> Sarthak
>> ​
>>
>> On Tue, Mar 22, 2016 at 1:49 AM, Dmitry Baryshnikov <bishop.dev at gmail.com
>> > wrote:
>>
>>> Hi Sarthak,
>>>
>>> The problem is here
>>> https://github.com/sarthak-0415/gdal/blob/trunk/gdal/frmts/postgisraster/postgisrasterdriver.cpp#L78
>>>
>>> Your code produce situation there pszDbnameIn can be NULL. Before your
>>> fixes, that cannot be.
>>> So the line "CPLString osKey = pszDbnameIn;" produces crash.
>>>
>>> Don't wait for anybody with proposal. The new GSoC site is right place
>>> to discuss proposals.
>>>
>>> Best regards,
>>>     Dmitry
>>>
>>> 20.03.2016 19:41, sarthak agarwal пишет:
>>>
>>> Hello to all,
>>>
>>> Sorry for taking too long (exams and travelling).
>>>
>>> After running few tests -
>>>
>>>    - In my opinion, in Both the codes the error is not in
>>>    GetConnectionInfo function. if you replace return true with return
>>>    false at the last of the function it won’t fail in both cases.
>>>    - If you run this
>>>    <https://github.com/sarthak-0415/gdal/commit/3e037a84e3392841cda1b4b68d75d205118caa9d>
>>>    and this
>>>    <https://github.com/sarthak-0415/gdal/commit/26e9383645b177c9e4d2ca8798a3b662901f3b63>
>>>    code, it won’t give you the error, the value passed here are correct (NULL
>>>    if that’s the case with *ppszDbname, the error is somewhere else and
>>>    I am not able to debug it.)
>>>    - When I am trying to configure the gdal with enable-debug options
>>>    following error comes
>>>
>>>    make[1]: *** [gdalserver] Error 1
>>>    make[1]: *** Waiting for unfinished jobs....
>>>    /home/sarthak/gsoc2016/repos/gdal/gdal/.libs/libgdal.so: undefined reference to `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'
>>>    collect2: error: ld returned 1 exit status
>>>
>>>
>>> My current config options are
>>> ./configure --prefix=/home/sarthak/gsoc2016/repos/gdal/install/
>>> --with-python=yes -enabl-debug=yes
>>>
>>> the following error is for gdalServer gdalInfo gdal_translate and
>>> gdaladdo. All are having the same problem with undefined reference to
>>> `CPLMutexHolder::CPLMutexHolder(_CPLMutex**, double, char const*, int, int)'
>>>
>>> Please review the code and send me the feedback.
>>> Also, I would like to continue with the bug along with my GSoC proposal.
>>> For which I may have some ideas and would like to discuss the same with
>>> you.. can we talk on IRC since the deadline is in 5 days only.
>>>
>>> Regards,
>>> Sarthak
>>>
>>> On Wed, Mar 16, 2016 at 4:51 AM, Dmitry Baryshnikov <
>>> bishop.dev at gmail.com> wrote:
>>>
>>>> Hi Sarthak,
>>>>
>>>> The first version is not working (do you test it?):
>>>> <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541>
>>>> https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd#diff-31df0e62d00ca09f9f11ad2f29e94b54R2541
>>>> Here you try to get array value with index -1. You need to set ppszDbname
>>>> = NULL no DB name present in input parameters.
>>>>
>>>> The second variant is not working too:
>>>> >>> ds = gdal.Open('PG:')
>>>> terminate called after throwing an instance of 'std::logic_error'
>>>>   what():  basic_string::_M_construct null not valid
>>>>
>>>> In both cases there is a problem here:
>>>> <https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743>
>>>> https://github.com/sarthak-0415/gdal/blob/6264d3fc52242fdce858547cc3a0312b04fd638b/gdal/frmts/postgisraster/postgisrasterdataset.cpp#L2743
>>>>
>>>> Also look there ppszDbname is using, as before modifications the code
>>>> expect that ppszDbname cannot be NULL.
>>>>
>>>> Best regards,
>>>>     Dmitry
>>>>
>>>> 15.03.2016 13:13, sarthak agarwal пишет:
>>>>
>>>> Hey Dmitry ,
>>>> As discussed on the IRC yesterday,
>>>> I made the changes in the code.
>>>>
>>>> I build two versions of the code
>>>>
>>>>    1.
>>>>
>>>>    The changes suggested by you (to use the old trunk code and remove
>>>>    the additional checks) link
>>>>    <https://github.com/sarthak-0415/gdal/commit/36344cc26f23202cb289390322c1d295697136bd>
>>>>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116070409> .
>>>>    a. in this version the Dbname is left empty if not provided by the
>>>>    user.
>>>>    2.
>>>>
>>>>    The version in which we
>>>>    a. if the Dbname is provided by the user then ppzDbname=Dbname.
>>>>    b. else use the psql env var PGDATABASE
>>>>    c. else use the Username as the database name.
>>>>    d. if nothing is available then pass empty string.
>>>>    e link
>>>>    <https://github.com/sarthak-0415/gdal/commit/6264d3fc52242fdce858547cc3a0312b04fd638b>
>>>>    travis <https://travis-ci.org/sarthak-0415/gdal/builds/116055868>
>>>>
>>>> I think both version should work
>>>>
>>>> Regards,
>>>> Sarthak
>>>>
>>>> ​
>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160325/7b85468f/attachment-0001.html>

From bishop.dev at gmail.com  Fri Mar 25 01:31:04 2016
From: bishop.dev at gmail.com (Dmitry Baryshnikov)
Date: Fri, 25 Mar 2016 11:31:04 +0300
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <CAPwn9cwo-zNQ7YBp5c+ctg8gdP=5Akr5GW8vTVHd5sAm4TvAdw@mail.gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
 <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
 <56F05758.8030008@gmail.com>
 <CAPwn9czTGV=NDKErFtCXRdBf=UtTxKG_P7fCQjTJd-TAQfb0Fg@mail.gmail.com>
 <CAPwn9cwh3Pv0V+EqdYi6BOUs4i6fiLU+=fuOgOQe8Jj+Kr1UsA@mail.gmail.com>
 <CAPwn9cwo-zNQ7YBp5c+ctg8gdP=5Akr5GW8vTVHd5sAm4TvAdw@mail.gmail.com>
Message-ID: <56F4F748.7090008@gmail.com>

Hi Sarthak,

Thank you for you note, but I already wrote:

 >    Don't wait for anybody with proposal. The new GSoC site is right 
place to discuss proposals.

So I expected to see and comment, if needed, your proposal on this site. 
Let me remind you the site - https://summerofcode.withgoogle.com/

Best regards,
     Dmitry

25.03.2016 10:17, sarthak agarwal пишет:
> The deadline is today.
>
> Sarthak
>
> On Thu, Mar 24, 2016 at 1:52 AM, sarthak agarwal 
> <sarthak0415 at gmail.com <mailto:sarthak0415 at gmail.com>> wrote:
>
>     Hello Dmitry,
>
>     I fixed the bug (I guess).
>     Now coming to my proposal for GSoC, So I was thinking of working
>     on project #4 *Auto-detection of EPSG codes from incomplete WKT.*
>
>     What I understood from the project is that we need to predict the
>     EPSG code of certain files on the basis of some attributes which
>     are available in the file.
>
>     The attributes can be extracted from the file for which I read
>     this
>     <http://www.gdal.org/osr_tutorial.html#querying_coordinate_system>.
>
>     Now to solve this problem I thought a lot of methods but I think
>     the best way to solve it will be using machine learning.
>
>     The way ML will handle this problem is as follows-
>
>      1. We need to find the EPSG code for a file (testing data)
>      2. We have a file with some attributes (projections,datum,etc ).
>      3. We need to the guess the best suitable class for that file(EPSG)
>      4. Also, we have many files for which we know the attributes and
>         the corresponding class (training data).
>
>     This problem is now translated into an ML problem which can be
>     solved using the following models-
>
>     1. Bayesian Stastics
>     <https://en.wikipedia.org/wiki/Posterior_probability>
>
>         where,
>         posteriror probability = probability of this file have EPSG
>         code 'a'.
>         prior probability = probability of occurence of EPSG code 'a'.
>
>         likelihood probablity = cases where we saw such attributes
>         when the EPSG code is 'a'.
>
>
>     2. or we can use a simple knn where k is the number of possible
>     EPSG code and the dimension of the feature vector is the number of
>     possible attributes. we need to the find a valid and promising
>     weight function).
>
>
>     3. We can use multi-class SVM.
>
>     4. any other suggestion from the community regarding the possible
>     choice of the algo.
>
>     I am thinking of actually implementing all these algo(may add algo
>     in future depending upon the suggestion) and select the algo which
>     gives the best performance among all of them.
>
>     Please provide me feedback on my proposal and suggestion if I can
>     add/change anything.
>     And since very less time is left in the deadline, I would like to
>     convert it into proposal ASAP with your help.
>
>     Regards,
>     Sarthak
>
>     ​
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160325/4bbb452e/attachment.html>

From even.rouault at spatialys.com  Fri Mar 25 02:09:24 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 25 Mar 2016 10:09:24 +0100
Subject: [gdal-dev] FITS driver update?
In-Reply-To: <545271057.5583787.1458860636442.JavaMail.zimbra@u-psud.fr>
References: <545271057.5583787.1458860636442.JavaMail.zimbra@u-psud.fr>
Message-ID: <201603251009.24708.even.rouault@spatialys.com>

Bonjour Chiara,

Not being a specialist of the format, I've no in-depth opinion on the changes. 
I'm mostly surprised that the issue with the raster origin didn't surface 
before. Are there references for that ? I've CC'ed Simon Perkins (hoping his 
email is still OK) who is the original author, in case he can comment.

Regarding scaling (hoping that we talk about the same concepts), there are 2 
choices: either you apply the offset/scale automatically in IReadBlock() / 
IRasterIO() (or the underlying lib does it automatically), or you return the 
raw values and implement the GetOffset() and GetScale() method of 
GDALRasterBand (in which case, applying the scale is typically done afterwards 
with gdal_translate -unscale )

Best regards,

Even

> Hi gdal-list,
> 
> I work in a planetary/geology/astronomy lab, and I'm interested in having
> standard and full implementation of FITS format in GDAL. Geographical
> metadata are not yet well defined in FITS, then in the first time I'm just
> verifying that GDAL works as expected (by astronomers :) ) with FITS
> format.
> 
> I have forked the OsGeo project in https://github.com/epn-vespa/gdal/ and
> addressed three points: 1) FITS origin is defined on the left bottom
> corner of a raster, this is the expected behaviour of FITS processing
> software: I have modified the read and write block direction. 2) Unsigned
> INT 16 and 32 bit are supported by FITS via specific BZERO value
> (https://heasarc.gsfc.nasa.gov/docs/software/fitsio/c/c_user/node23.html):
> I have added USHORT and ULONG support. 3) BZERO BSCALE are 'reserved
> keywords' and copying them in the metadata produce inconsistency in
> reverse conversion: a FITS containing BZERO BSCALE is converted to tiff,
> tiff reconverted to FITS, BZERO BSCALE become strings and FITS
> visualization ended up in a 0 raster. I have excluded BZERO and BSCALE
> from metadata keywords.
> 
> I haven't figured out yet how to manage scaled values... this will take
> some more time, as geographical conversion.
> 
> I'm wondering if those small changes could be tested by the community and
> maybe integrated in the code at some time.
> 
> All comments are welcome!
> Thanks for listening,
> Chiara

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From sarthak0415 at gmail.com  Fri Mar 25 11:43:36 2016
From: sarthak0415 at gmail.com (sarthak agarwal)
Date: Sat, 26 Mar 2016 00:13:36 +0530
Subject: [gdal-dev] GSOC 2016
In-Reply-To: <56F4F748.7090008@gmail.com>
References: <56E44DE9.10103@gmail.com>
 <CAPwn9cyzczCYhXf3fzHWUuag624_H-OysYdubHv3yGSeZBH5RQ@mail.gmail.com>
 <56E57587.8000507@gmail.com> <4897287.893J5uryIY@even-n550jk>
 <CAPwn9cz9OPGiZ=oyo4D879U5wq_h_xCBjt7+4Q3E1ZcQkmWZ1Q@mail.gmail.com>
 <56E6A129.4050201@gmail.com>
 <CAPwn9cz4eab1BeyXWDUGbnj8CQ9fg=zCoTFU-49FH23tX24VdQ@mail.gmail.com>
 <56E898F9.1010309@gmail.com>
 <CAPwn9cw-HBhG=mCfj0p5h6eWVuwBYjthmDm9syS1bBAeYcfUXw@mail.gmail.com>
 <56F05758.8030008@gmail.com>
 <CAPwn9czTGV=NDKErFtCXRdBf=UtTxKG_P7fCQjTJd-TAQfb0Fg@mail.gmail.com>
 <CAPwn9cwh3Pv0V+EqdYi6BOUs4i6fiLU+=fuOgOQe8Jj+Kr1UsA@mail.gmail.com>
 <CAPwn9cwo-zNQ7YBp5c+ctg8gdP=5Akr5GW8vTVHd5sAm4TvAdw@mail.gmail.com>
 <56F4F748.7090008@gmail.com>
Message-ID: <CAPwn9cwiLm-gHM7QFaesjVQktB3UsVEhybPGkgohZOBSuxpOWw@mail.gmail.com>

I have submitted the proposal, please check it once and provide your
feedback.

Sarthak

On Fri, Mar 25, 2016 at 2:01 PM, Dmitry Baryshnikov <bishop.dev at gmail.com>
wrote:

> Hi Sarthak,
>
> Thank you for you note, but I already wrote:
>
> >    Don't wait for anybody with proposal. The new GSoC site is right
> place to discuss proposals.
>
> So I expected to see and comment, if needed, your proposal on this site.
> Let me remind you the site - https://summerofcode.withgoogle.com/
>
> Best regards,
>     Dmitry
>
> 25.03.2016 10:17, sarthak agarwal пишет:
>
> The deadline is today.
>
> Sarthak
>
> On Thu, Mar 24, 2016 at 1:52 AM, sarthak agarwal < <sarthak0415 at gmail.com>
> sarthak0415 at gmail.com> wrote:
>
>> Hello Dmitry,
>>
>> I fixed the bug (I guess).
>> Now coming to my proposal for GSoC, So I was thinking of working on
>> project #4 *Auto-detection of EPSG codes from incomplete WKT.*
>>
>> What I understood from the project is that we need to predict the EPSG
>> code of certain files on the basis of some attributes which are available
>> in the file.
>>
>> The attributes can be extracted from the file for which I read this
>> <http://www.gdal.org/osr_tutorial.html#querying_coordinate_system>.
>>
>> Now to solve this problem I thought a lot of methods but I think the best
>> way to solve it will be using machine learning.
>>
>> The way ML will handle this problem is as follows-
>>
>>    1. We need to find the EPSG code for a file (testing data)
>>    2. We have a file with some attributes (projections,datum,etc ).
>>    3. We need to the guess the best suitable class for that file(EPSG)
>>    4. Also, we have many files for which we know the attributes and the
>>    corresponding class (training data).
>>
>> This problem is now translated into an ML problem which can be solved
>> using the following models-
>>
>> 1. Bayesian Stastics
>> <https://en.wikipedia.org/wiki/Posterior_probability>
>>
>> where,
>> posteriror probability = probability of this file have EPSG code 'a'.
>> prior probability = probability of occurence of EPSG code 'a'.
>>
>> likelihood probablity = cases where we saw such attributes when the EPSG
>> code is 'a'.
>>
>>
>> 2. or we can use a simple knn where k is the number of possible EPSG code
>> and the dimension of the feature vector is the number of possible
>> attributes. we need to the find a valid and promising weight function).
>>
>>
>> 3. We can use multi-class SVM.
>>
>> 4. any other suggestion from the community regarding the possible choice
>> of the algo.
>>
>> I am thinking of actually implementing all these algo(may add algo in
>> future depending upon the suggestion) and select the algo which gives the
>> best performance among all of them.
>>
>> Please provide me feedback on my proposal and suggestion if I can
>> add/change anything.
>> And since very less time is left in the deadline, I would like to convert
>> it into proposal ASAP with your help.
>>
>> Regards,
>> Sarthak
>> ​
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160326/dbb1b2d0/attachment-0001.html>

From even.rouault at spatialys.com  Fri Mar 25 12:18:49 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Fri, 25 Mar 2016 20:18:49 +0100
Subject: [gdal-dev] Fwd: Re:  FITS driver update?
Message-ID: <201603252018.49642.even.rouault@spatialys.com>

Forwarded on behalf of Simon

----------  Message transmis  ----------

Sujet : Re: [gdal-dev] FITS driver update?
Date : vendredi 25 mars 2016, 17:29:27
De : Simon Perkins <sy at perkmail.net>
À : Even Rouault <even.rouault at spatialys.com>, gdal-dev at lists.osgeo.org
CC : Chiara Marmo <chiara.marmo at u-psud.fr>

It's been well over a decade since I last looked at this code, and I
originally wrote it for a non-astronomy use-case (we just needed a format
that could handle multi-spectral imagery), so it's entirely possible it
doesn't quite align with normal astronomy conventions... My main concern
though is that making these changes would likely break existing code that
uses this library. Maybe you could add a param to enable a "flip" mode that
flips the y-axis while keeping the current default behavior?

Some random comments:

- I tend to think of image origin as a display issue. It's not clear to me
that GDAL implies any particular origin for its coordinate system, so it
seems simpler to me to have the first row of data in the FITS file
correspond to the first row of data from GDAL's POV as well. For that
matter, it's not clear to me that FITS implies a specific origin -
displaying the first pixel in the lower left is more of a convention? It's
true that converting to a TIFF and then displaying the TIFF in the usual
way flips the image, but I'd probably tackle that by simply flipping the
TIFF image vertically after conversion rather than messing around with the
data ordering. Just my 2c.

- Implementing the BSCALE and BZERO via GetOffset() and GetScale() sounds
like a good idea, in which case, it's fine to exclude those keywords from
the metadata.

- Other changes seem fine since they just add functionality.

Sy

On Fri, Mar 25, 2016 at 3:09 AM Even Rouault <even.rouault at spatialys.com>
wrote:

> Bonjour Chiara,
>
> Not being a specialist of the format, I've no in-depth opinion on the
> changes.
> I'm mostly surprised that the issue with the raster origin didn't surface
> before. Are there references for that ? I've CC'ed Simon Perkins (hoping
> his
> email is still OK) who is the original author, in case he can comment.
>
> Regarding scaling (hoping that we talk about the same concepts), there are
> 2
> choices: either you apply the offset/scale automatically in IReadBlock() /
> IRasterIO() (or the underlying lib does it automatically), or you return
> the
> raw values and implement the GetOffset() and GetScale() method of
> GDALRasterBand (in which case, applying the scale is typically done
> afterwards
> with gdal_translate -unscale )
>
> Best regards,
>
> Even
>
> > Hi gdal-list,
> >
> > I work in a planetary/geology/astronomy lab, and I'm interested in having
> > standard and full implementation of FITS format in GDAL. Geographical
> > metadata are not yet well defined in FITS, then in the first time I'm
> just
> > verifying that GDAL works as expected (by astronomers :) ) with FITS
> > format.
> >
> > I have forked the OsGeo project in https://github.com/epn-vespa/gdal/
> and
> > addressed three points: 1) FITS origin is defined on the left bottom
> > corner of a raster, this is the expected behaviour of FITS processing
> > software: I have modified the read and write block direction. 2) Unsigned
> > INT 16 and 32 bit are supported by FITS via specific BZERO value
> > (https://heasarc.gsfc.nasa.gov/docs/software/fitsio/c/c_user/node23.html
> ):
> > I have added USHORT and ULONG support. 3) BZERO BSCALE are 'reserved
> > keywords' and copying them in the metadata produce inconsistency in
> > reverse conversion: a FITS containing BZERO BSCALE is converted to tiff,
> > tiff reconverted to FITS, BZERO BSCALE become strings and FITS
> > visualization ended up in a 0 raster. I have excluded BZERO and BSCALE
> > from metadata keywords.
> >
> > I haven't figured out yet how to manage scaled values... this will take
> > some more time, as geographical conversion.
> >
> > I'm wondering if those small changes could be tested by the community and
> > maybe integrated in the code at some time.
> >
> > All comments are welcome!
> > Thanks for listening,
> > Chiara
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
>

-------------------------------------------------------
-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From chiara.marmo at u-psud.fr  Fri Mar 25 14:41:33 2016
From: chiara.marmo at u-psud.fr (Chiara Marmo)
Date: Fri, 25 Mar 2016 22:41:33 +0100 (CET)
Subject: [gdal-dev] FITS driver update?
In-Reply-To: <CAMEdxzeRM5cv-Tcu2v145VtZACGhoMaDcgjO0KCkEr9TAX1EAQ@mail.gmail.com>
References: <545271057.5583787.1458860636442.JavaMail.zimbra@u-psud.fr>
 <201603251009.24708.even.rouault@spatialys.com>
 <CAMEdxzeRM5cv-Tcu2v145VtZACGhoMaDcgjO0KCkEr9TAX1EAQ@mail.gmail.com>
Message-ID: <123335104.8866423.1458942093780.JavaMail.zimbra@u-psud.fr>

Hi Simon,

> It's been well over a decade since I last looked at this code, and I
> originally wrote it for a non-astronomy use-case (we just needed a format
> that could handle multi-spectral imagery), so it's entirely possible it
> doesn't quite align with normal astronomy conventions... My main concern
> though is that making these changes would likely break existing code that
> uses this library. Maybe you could add a param to enable a "flip" mode that
> flips the y-axis while keeping the current default behavior?

I did a (quick, maybe incomplete) research on which software uses gdal to read FITS and the only one I have found, beeing largely used , is QGIS. I do not know a lot of peaple (excepting me :) ) using QGIS to display FITS... that's why I'm working on that. 

> - I tend to think of image origin as a display issue. It's not clear to me
> that GDAL implies any particular origin for its coordinate system, so it
> seems simpler to me to have the first row of data in the FITS file
> correspond to the first row of data from GDAL's POV as well. For that
> matter, it's not clear to me that FITS implies a specific origin -
> displaying the first pixel in the lower left is more of a convention? It's
> true that converting to a TIFF and then displaying the TIFF in the usual way
> flips the image, but I'd probably tackle that by simply flipping the TIFF
> image vertically after conversion rather than messing around with the data
> ordering. Just my 2c.

Indeed, the standard description of FITS says that for raster the origin is bottom left pixel, and its center is 1,1: those two definitions are important when georeferencing a raster.
I'm working at the inteface between planetary mappers , using GIS software and GDAL, and astronomers ,using traditional FITS visualization software (like Aladin or ds9): FITS images are sometimes raw data, without geographical information, the results is that GDAL based tools display flipped FITS with respect to astronomical software. Each time I have to explain that there is a different convention in FITS and generic raster description in computer sciences and direction doesn't matter... but users do forget fast...

I need homogeneity in visualization for the two communities could talk together... :)   

> - Implementing the BSCALE and BZERO via GetOffset() and GetScale() sounds
> like a good idea, in which case, it's fine to exclude those keywords from
> the metadata.

Yep, thanks Even for suggestion.

Chiara

-- 
Chiara Marmo
Ingénieur de Recherche GEOPS - Paris Sud-11
Bât 509
Tel: +33 (0)1 69 15 49 03 

From teddyguerin at yahoo.fr  Sat Mar 26 10:50:43 2016
From: teddyguerin at yahoo.fr (Ted37)
Date: Sat, 26 Mar 2016 10:50:43 -0700 (PDT)
Subject: [gdal-dev] [S57 ogr] chaine node
In-Reply-To: <1742397158.1383824.1457943284071.JavaMail.yahoo@mail.yahoo.com>
References: <1742397158.1383824.1457943284071.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <1459014643058-5258471.post@n6.nabble.com>

I update title of my post!
It was too incorrect.

Regards
TEd



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/gdal-dev-S57-ogr-chaine-node-tp5256148p5258471.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From gane.prog at gmail.com  Tue Mar 29 04:20:39 2016
From: gane.prog at gmail.com (Gane R)
Date: Tue, 29 Mar 2016 16:50:39 +0530
Subject: [gdal-dev] gdalwarp with PHOTOMETRIC=YCBCR on grey input TIF image
Message-ID: <CALMrLdAUe+zek=ze35aKMXYLviPc-0YsTDPuwLGGUsRGFF5afw@mail.gmail.com>

I am using gdalwarp withe following option to convert a tif to compressed
TIF

-co COMPRESS=JPEG -co JPEG_QUALITY=80 -co TILED=YES -co PHOTOMETRIC=YCBCR
-co BLOCKYSIZE=512 -co BLOCKXSIZE=512

Will the PHOTOMETRIC option work on grey tif images. Unfortunately I don't
have such data set.

If any one have tried to convert a Grey TIF to compressed TIF with
COMPRESS=JPEG

Thanks,
Gane
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160329/4a2a4381/attachment.html>

From gane.prog at gmail.com  Tue Mar 29 04:29:50 2016
From: gane.prog at gmail.com (Gane R)
Date: Tue, 29 Mar 2016 16:59:50 +0530
Subject: [gdal-dev] gdalwarp with PHOTOMETRIC=YCBCR on grey input TIF
	image
In-Reply-To: <CALMrLdAUe+zek=ze35aKMXYLviPc-0YsTDPuwLGGUsRGFF5afw@mail.gmail.com>
References: <CALMrLdAUe+zek=ze35aKMXYLviPc-0YsTDPuwLGGUsRGFF5afw@mail.gmail.com>
Message-ID: <CALMrLdCGh=MT5jmDbPb2oUm=yNPRVKPJiMO1qCxxFZ-jSq8mug@mail.gmail.com>

Sorry I got one sample and it failed withe the -co PHOTOMETRIC=YCBCR on
grey TIF with 1 raster band.

Thanks
Gane

On Tue, Mar 29, 2016 at 4:50 PM, Gane R <gane.prog at gmail.com> wrote:

> I am using gdalwarp withe following option to convert a tif to compressed
> TIF
>
> -co COMPRESS=JPEG -co JPEG_QUALITY=80 -co TILED=YES -co PHOTOMETRIC=YCBCR
> -co BLOCKYSIZE=512 -co BLOCKXSIZE=512
>
> Will the PHOTOMETRIC option work on grey tif images. Unfortunately I don't
> have such data set.
>
> If any one have tried to convert a Grey TIF to compressed TIF with
> COMPRESS=JPEG
>
> Thanks,
> Gane
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160329/f7176158/attachment.html>

From ari.jolma at gmail.com  Tue Mar 29 08:35:26 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 29 Mar 2016 18:35:26 +0300
Subject: [gdal-dev] C++ template functions with raster bands
Message-ID: <56FAA0BE.9090605@gmail.com>

I want to write template functions like this:

template<typename cell_type>
void map(GDALRasterBand *b, mapper<cell_type> *mapper) {
...

This function would map the cell values of a band to new ones using some 
logic that is coded within the mapper object (and the logic depends on 
the cell_type).

I would like to catch errors which are due to mismatch between the band 
data type and the template cell_type. So far I've discovered this:

     band_wrapper band = band_initialize(b);
     if (band.info.size_of_data_type != sizeof(cell_type))
         goto fail_because_of_data_type_mismatch;

but it is not bullet proof since data types can have an equal size but 
be different. The band_initialize contains a switch statement, which 
sets the info element of the band wrapper.

Are there other ways to solve this problem? I could build long switch 
statements but it is not very appealing. And it gets messy when there is 
more than one band.

Ari


From even.rouault at spatialys.com  Tue Mar 29 10:48:14 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Tue, 29 Mar 2016 19:48:14 +0200
Subject: [gdal-dev] C++ template functions with raster bands
In-Reply-To: <56FAA0BE.9090605@gmail.com>
References: <56FAA0BE.9090605@gmail.com>
Message-ID: <201603291948.14758.even.rouault@spatialys.com>

Le mardi 29 mars 2016 17:35:26, Ari Jolma a écrit :
> I want to write template functions like this:
> 
> template<typename cell_type>
> void map(GDALRasterBand *b, mapper<cell_type> *mapper) {
> ...
> 
> This function would map the cell values of a band to new ones using some
> logic that is coded within the mapper object (and the logic depends on
> the cell_type).
> 
> I would like to catch errors which are due to mismatch between the band
> data type and the template cell_type. So far I've discovered this:
> 
>      band_wrapper band = band_initialize(b);
>      if (band.info.size_of_data_type != sizeof(cell_type))
>          goto fail_because_of_data_type_mismatch;
> 
> but it is not bullet proof since data types can have an equal size but
> be different. The band_initialize contains a switch statement, which
> sets the info element of the band wrapper.
> 
> Are there other ways to solve this problem? I could build long switch
> statements but it is not very appealing. And it gets messy when there is
> more than one band.

Perhaps by using C++ traits like this :

#include <gdal.h>

template <typename T> struct GetGDALDataTypeTraits
{
    static const GDALDataType datatype;
};

template<> struct GetGDALDataTypeTraits<unsigned char>
{
    static const GDALDataType datatype = GDT_Byte;
};

template<> struct GetGDALDataTypeTraits<unsigned short>
{
    static const GDALDataType datatype = GDT_UInt16;
};

template <typename T> static GDALDataType GetGDALDataType()
{
  return GetGDALDataTypeTraits<T>::datatype;
}

#include <iostream>
int main(int argc, char* argv[])
{
  std::cout << "type unsigned char: " << GetGDALDataType<unsigned char>() << std::endl;
  std::cout << "type unsigned short: " << GetGDALDataType<unsigned short>() << std::endl;
  // Link time error
  //std::cout << "type double: " << GetGDALDataType<double>() << std::endl;

  return 0;
}


> 
> Ari
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From ari.jolma at gmail.com  Tue Mar 29 22:26:47 2016
From: ari.jolma at gmail.com (Ari Jolma)
Date: Wed, 30 Mar 2016 08:26:47 +0300
Subject: [gdal-dev] C++ template functions with raster bands
In-Reply-To: <201603291948.14758.even.rouault@spatialys.com>
References: <56FAA0BE.9090605@gmail.com>
 <201603291948.14758.even.rouault@spatialys.com>
Message-ID: <56FB6397.5040705@gmail.com>

29.03.2016, 20:48, Even Rouault kirjoitti:
> Le mardi 29 mars 2016 17:35:26, Ari Jolma a écrit :
>> I want to write template functions like this:
>>
>> template<typename cell_type>
>> void map(GDALRasterBand *b, mapper<cell_type> *mapper) {
>> ...
>>
>> This function would map the cell values of a band to new ones using some
>> logic that is coded within the mapper object (and the logic depends on
>> the cell_type).
>>
>> I would like to catch errors which are due to mismatch between the band
>> data type and the template cell_type. So far I've discovered this:
>>
>>       band_wrapper band = band_initialize(b);
>>       if (band.info.size_of_data_type != sizeof(cell_type))
>>           goto fail_because_of_data_type_mismatch;
>>
>> but it is not bullet proof since data types can have an equal size but
>> be different. The band_initialize contains a switch statement, which
>> sets the info element of the band wrapper.
>>
>> Are there other ways to solve this problem? I could build long switch
>> statements but it is not very appealing. And it gets messy when there is
>> more than one band.
> Perhaps by using C++ traits like this :

Indeed. Thanks!

Ari

>
> #include <gdal.h>
>
> template <typename T> struct GetGDALDataTypeTraits
> {
>      static const GDALDataType datatype;
> };
>
> template<> struct GetGDALDataTypeTraits<unsigned char>
> {
>      static const GDALDataType datatype = GDT_Byte;
> };
>
> template<> struct GetGDALDataTypeTraits<unsigned short>
> {
>      static const GDALDataType datatype = GDT_UInt16;
> };
>
> template <typename T> static GDALDataType GetGDALDataType()
> {
>    return GetGDALDataTypeTraits<T>::datatype;
> }
>
> #include <iostream>
> int main(int argc, char* argv[])
> {
>    std::cout << "type unsigned char: " << GetGDALDataType<unsigned char>() << std::endl;
>    std::cout << "type unsigned short: " << GetGDALDataType<unsigned short>() << std::endl;
>    // Link time error
>    //std::cout << "type double: " << GetGDALDataType<double>() << std::endl;
>
>    return 0;
> }
>
>
>> Ari
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From a.amici at bopen.eu  Wed Mar 30 04:56:32 2016
From: a.amici at bopen.eu (Alessandro Amici)
Date: Wed, 30 Mar 2016 11:56:32 +0000
Subject: [gdal-dev] First public release of Elevation,
	SRTM 30m global DEM easy management
Message-ID: <CAF0=-Te565WGSKES3muH1bnWvWkHcwwGZZHJ4Sgj-yQNXWjekA@mail.gmail.com>

Repost from python-announce-list as I think it is of interest to gdal-dev
users.

I am pleased to announce the first public beta release of Elevation, a tool
for easy access to global terrain digital elevation models, SRTM 30m DEM
and SRTM 90m DEM:

http://elevation.bopen.eu/en/stable/quickstart.html

Development effort is directed to fixing bugs and writing better
documentation before the 1.0 release. Testing and contributions are highly
welcomed and appreciated. Every little help counts, so do not hesitate!

https://github.com/bopen/elevation

User questions are best directed to
https://stackoverflow.com/search?q=python+elevation.

The project is free and open source software distributed under the terms of
the Apache License, Version 2.0. and the development has been sponsored by
my employer B-Open Solutions http://bopen.eu.

Thanks,
Alessandro
-- 
Alessandro Amici <a.amici at bopen.eu>
CTO at B-Open Solutions - http://www.bopen.eu/
Viale Palmiro Togliatti, 1639 - 00155 Roma - tel: +39 06 8370 8269
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160330/868a6bae/attachment.html>

From jamessramm at gmail.com  Wed Mar 30 08:17:11 2016
From: jamessramm at gmail.com (jramm)
Date: Wed, 30 Mar 2016 08:17:11 -0700 (PDT)
Subject: [gdal-dev] Implementing write support for GDAL driver
Message-ID: <1459351031111-5258855.post@n6.nabble.com>

Hi
I am implementing a write driver for the Vertical Mapper/Northwood Grid
format (NWT_GRD), which already has read support. 
I have attached a diff of what I have got so far. Needless to say, it is not
complete or working :D.

I'm looking for information on development, specifically:

- Precisely what functions need to be implemented so the writing is fully
supported? (i.e. the minimum to be able to create a dataset from scratch and
write data to it using RasterIO). 
- Is there any info out there on debugging GDAL drivers? What is the
standard approach. Currently im trying to use 'gdal_translate' as a way in
to get it to do something so I can set some break points...perhaps writing a
little test program would be a better method. Which brings me to
- What standards are there for writing unit tests, test programs? I can see
a load of python under 'autotest' which im not familiar with. Are there any
guidelines on thise (the README is none too helpful).

Ive been over the driver implementation tutorial a number of times but info
on implementing write support is fairly scant. I'd happily add to this if I
can get this done..

Thanks for any help
grddataset_diff.txt
<http://osgeo-org.1560.x6.nabble.com/file/n5258855/grddataset_diff.txt>  



--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-driver-tp5258855.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at spatialys.com  Wed Mar 30 08:49:30 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 30 Mar 2016 17:49:30 +0200
Subject: [gdal-dev] Implementing write support for GDAL driver
In-Reply-To: <1459351031111-5258855.post@n6.nabble.com>
References: <1459351031111-5258855.post@n6.nabble.com>
Message-ID: <201603301749.30703.even.rouault@spatialys.com>

Le mercredi 30 mars 2016 17:17:11, jramm a écrit :
> Hi
> I am implementing a write driver for the Vertical Mapper/Northwood Grid
> format (NWT_GRD), which already has read support.
> I have attached a diff of what I have got so far. Needless to say, it is
> not complete or working :D.
> 
> I'm looking for information on development, specifically:
> 
> - Precisely what functions need to be implemented so the writing is fully
> supported? (i.e. the minimum to be able to create a dataset from scratch
> and write data to it using RasterIO).

What you implemented in your patch looks good : IWriteBlock, SetGeoTransform, 
SetProjectionRef, Create.
With that, you can have full "dynamic creation" (as named in 
http://gdal.org/gdal_drivertut.html#gdal_drivertut_creation ), thus allowing 
it to be used as the target of gdalwarp for example.

> - Is there any info out there on debugging GDAL drivers? What is the
> standard approach. Currently im trying to use 'gdal_translate' as a way in
> to get it to do something so I can set some break points...perhaps writing
> a little test program would be a better method.

Using gdal_translate is a reasonable way to test & debug write support. When 
used without any particular arguments, it's mostly a wrapper of CreateCopy().

> Which brings me to
> - What standards are there for writing unit tests, test programs? I can see
> a load of python under 'autotest' which im not familiar with. Are there any
> guidelines on thise (the README is none too helpful).

Not really. Generally looking at existing tests should give you a good idea of 
how to extend. The basic is to add a method that returns 'success' or 'fail' 
strings, and to add it to the gdaltest_list array.

The gdaltest class has GDALTest() and testCreateCopy() methods that make it 
generally easy to test write support. Have a look at autotest/gdrivers/bt.py 
for example.

I guess you found the existing tests for NWG_GRD are in 
autotest/gdrivers/nwt_grd.py

> 
> Ive been over the driver implementation tutorial a number of times but info
> on implementing write support is fairly scant. I'd happily add to this if I
> can get this done..
> 
> Thanks for any help
> grddataset_diff.txt
> <http://osgeo-org.1560.x6.nabble.com/file/n5258855/grddataset_diff.txt>
> 
> 
> 
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-dr
> iver-tp5258855.html Sent from the GDAL - Dev mailing list archive at
> Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From jamessramm at gmail.com  Wed Mar 30 13:09:35 2016
From: jamessramm at gmail.com (jramm)
Date: Wed, 30 Mar 2016 13:09:35 -0700 (PDT)
Subject: [gdal-dev] Implementing write support for GDAL driver
In-Reply-To: <201603301749.30703.even.rouault@spatialys.com>
References: <1459351031111-5258855.post@n6.nabble.com>
 <201603301749.30703.even.rouault@spatialys.com>
Message-ID: <CAEW=KS7CVCFFj9Y1aJbZ70g2Hpe814BMopBdN5E8-zsdE_waVQ@mail.gmail.com>

Thanks a lot
Thats useful and encouraging!
I have not implemented CreateCopy -. Ive not looked to closely at
gdal_translate, but if CreateCopy is not available will it fall back on
Create and the write methods or is this a likely cause of errors? From
first impressions it looks like CreateCopy is not entirely necessary -
mostly a shortcut when writing a whole dataset to another, but I've not
looked closely at it yet.




On 30 March 2016 at 16:36, Even Rouault-2 [via OSGeo.org] <
ml-node+s1560n5258858h47 at n6.nabble.com> wrote:

> Le mercredi 30 mars 2016 17:17:11, jramm a écrit :
>
> > Hi
> > I am implementing a write driver for the Vertical Mapper/Northwood Grid
> > format (NWT_GRD), which already has read support.
> > I have attached a diff of what I have got so far. Needless to say, it is
> > not complete or working :D.
> >
> > I'm looking for information on development, specifically:
> >
> > - Precisely what functions need to be implemented so the writing is
> fully
> > supported? (i.e. the minimum to be able to create a dataset from scratch
> > and write data to it using RasterIO).
>
> What you implemented in your patch looks good : IWriteBlock,
> SetGeoTransform,
> SetProjectionRef, Create.
> With that, you can have full "dynamic creation" (as named in
> http://gdal.org/gdal_drivertut.html#gdal_drivertut_creation ), thus
> allowing
> it to be used as the target of gdalwarp for example.
>
> > - Is there any info out there on debugging GDAL drivers? What is the
> > standard approach. Currently im trying to use 'gdal_translate' as a way
> in
> > to get it to do something so I can set some break points...perhaps
> writing
> > a little test program would be a better method.
>
> Using gdal_translate is a reasonable way to test & debug write support.
> When
> used without any particular arguments, it's mostly a wrapper of
> CreateCopy().
>
> > Which brings me to
> > - What standards are there for writing unit tests, test programs? I can
> see
> > a load of python under 'autotest' which im not familiar with. Are there
> any
> > guidelines on thise (the README is none too helpful).
>
> Not really. Generally looking at existing tests should give you a good
> idea of
> how to extend. The basic is to add a method that returns 'success' or
> 'fail'
> strings, and to add it to the gdaltest_list array.
>
> The gdaltest class has GDALTest() and testCreateCopy() methods that make
> it
> generally easy to test write support. Have a look at
> autotest/gdrivers/bt.py
> for example.
>
> I guess you found the existing tests for NWG_GRD are in
> autotest/gdrivers/nwt_grd.py
>
> >
> > Ive been over the driver implementation tutorial a number of times but
> info
> > on implementing write support is fairly scant. I'd happily add to this
> if I
> > can get this done..
> >
> > Thanks for any help
> > grddataset_diff.txt
> > <http://osgeo-org.1560.x6.nabble.com/file/n5258855/grddataset_diff.txt>
> >
> >
> >
> > --
> > View this message in context:
> >
> http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-dr
> > iver-tp5258855.html Sent from the GDAL - Dev mailing list archive at
> > Nabble.com.
> > _______________________________________________
> > gdal-dev mailing list
> > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5258858&i=0>
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> --
> Spatialys - Geospatial professional services
> http://www.spatialys.com
> _______________________________________________
> gdal-dev mailing list
> [hidden email] <http:///user/SendEmail.jtp?type=node&node=5258858&i=1>
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
>
> http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-driver-tp5258855p5258858.html
> To unsubscribe from Implementing write support for GDAL driver, click here
> <http://osgeo-org.1560.x6.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&node=5258855&code=amFtZXNzcmFtbUBnbWFpbC5jb218NTI1ODg1NXwyMTIyMDM1OTQ5>
> .
> NAML
> <http://osgeo-org.1560.x6.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml>
>




--
View this message in context: http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-driver-tp5258855p5258885.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160330/6921dddd/attachment.html>

From even.rouault at spatialys.com  Wed Mar 30 13:35:42 2016
From: even.rouault at spatialys.com (Even Rouault)
Date: Wed, 30 Mar 2016 22:35:42 +0200
Subject: [gdal-dev] Implementing write support for GDAL driver
In-Reply-To: <CAEW=KS7CVCFFj9Y1aJbZ70g2Hpe814BMopBdN5E8-zsdE_waVQ@mail.gmail.com>
References: <1459351031111-5258855.post@n6.nabble.com>
 <201603301749.30703.even.rouault@spatialys.com>
 <CAEW=KS7CVCFFj9Y1aJbZ70g2Hpe814BMopBdN5E8-zsdE_waVQ@mail.gmail.com>
Message-ID: <201603302235.42668.even.rouault@spatialys.com>

Le mercredi 30 mars 2016 22:09:35, jramm a écrit :
> Thanks a lot
> Thats useful and encouraging!
> I have not implemented CreateCopy -. Ive not looked to closely at
> gdal_translate, but if CreateCopy is not available will it fall back on
> Create and the write methods or is this a likely cause of errors? From
> first impressions it looks like CreateCopy is not entirely necessary -
> mostly a shortcut when writing a whole dataset to another, but I've not
> looked closely at it yet.

If you implement Create () + SetGeoTransform() + SetProjection() + 
IWriteBlock() then you don't need to implement CreateCopy(). The default 
implementation DefaultCreateCopy() in gcore/gdaldriver.cpp will be used.

CreateCopy() should generally be implemented when the above dynamic creation 
cannot be implemented because of the constraints of the format. For example 
because the format doesn't allow random write access, but just sequential 
ones)

> 
> 
> 
> 
> On 30 March 2016 at 16:36, Even Rouault-2 [via OSGeo.org] <
> 
> ml-node+s1560n5258858h47 at n6.nabble.com> wrote:
> > Le mercredi 30 mars 2016 17:17:11, jramm a écrit :
> > > Hi
> > > I am implementing a write driver for the Vertical Mapper/Northwood Grid
> > > format (NWT_GRD), which already has read support.
> > > I have attached a diff of what I have got so far. Needless to say, it
> > > is not complete or working :D.
> > > 
> > > I'm looking for information on development, specifically:
> > > 
> > > - Precisely what functions need to be implemented so the writing is
> > 
> > fully
> > 
> > > supported? (i.e. the minimum to be able to create a dataset from
> > > scratch and write data to it using RasterIO).
> > 
> > What you implemented in your patch looks good : IWriteBlock,
> > SetGeoTransform,
> > SetProjectionRef, Create.
> > With that, you can have full "dynamic creation" (as named in
> > http://gdal.org/gdal_drivertut.html#gdal_drivertut_creation ), thus
> > allowing
> > it to be used as the target of gdalwarp for example.
> > 
> > > - Is there any info out there on debugging GDAL drivers? What is the
> > > standard approach. Currently im trying to use 'gdal_translate' as a way
> > 
> > in
> > 
> > > to get it to do something so I can set some break points...perhaps
> > 
> > writing
> > 
> > > a little test program would be a better method.
> > 
> > Using gdal_translate is a reasonable way to test & debug write support.
> > When
> > used without any particular arguments, it's mostly a wrapper of
> > CreateCopy().
> > 
> > > Which brings me to
> > > - What standards are there for writing unit tests, test programs? I can
> > 
> > see
> > 
> > > a load of python under 'autotest' which im not familiar with. Are there
> > 
> > any
> > 
> > > guidelines on thise (the README is none too helpful).
> > 
> > Not really. Generally looking at existing tests should give you a good
> > idea of
> > how to extend. The basic is to add a method that returns 'success' or
> > 'fail'
> > strings, and to add it to the gdaltest_list array.
> > 
> > The gdaltest class has GDALTest() and testCreateCopy() methods that make
> > it
> > generally easy to test write support. Have a look at
> > autotest/gdrivers/bt.py
> > for example.
> > 
> > I guess you found the existing tests for NWG_GRD are in
> > autotest/gdrivers/nwt_grd.py
> > 
> > > Ive been over the driver implementation tutorial a number of times but
> > 
> > info
> > 
> > > on implementing write support is fairly scant. I'd happily add to this
> > 
> > if I
> > 
> > > can get this done..
> > > 
> > > Thanks for any help
> > > grddataset_diff.txt
> > > <http://osgeo-org.1560.x6.nabble.com/file/n5258855/grddataset_diff.txt>
> > > 
> > > 
> > > 
> > > --
> > 
> > > View this message in context:
> > http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-d
> > r
> > 
> > > iver-tp5258855.html Sent from the GDAL - Dev mailing list archive at
> > > Nabble.com.
> > > _______________________________________________
> > > gdal-dev mailing list
> > > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5258858&i=0>
> > > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > 
> > --
> > Spatialys - Geospatial professional services
> > http://www.spatialys.com
> > _______________________________________________
> > gdal-dev mailing list
> > [hidden email] <http:///user/SendEmail.jtp?type=node&node=5258858&i=1>
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> > 
> > ------------------------------
> > If you reply to this email, your message will be added to the discussion
> > below:
> > 
> > http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-d
> > river-tp5258855p5258858.html To unsubscribe from Implementing write
> > support for GDAL driver, click here
> > <http://osgeo-org.1560.x6.nabble.com/template/NamlServlet.jtp?macro=unsu
> > bscribe_by_code&node=5258855&code=amFtZXNzcmFtbUBnbWFpbC5jb218NTI1ODg1NXw
> > yMTIyMDM1OTQ5> .
> > NAML
> > <http://osgeo-org.1560.x6.nabble.com/template/NamlServlet.jtp?macro=macro
> > _viewer&id=instant_html%21nabble%3Aemail.naml&base=nabble.naml.namespaces
> > .BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.
> > template.NodeNamespace&breadcrumbs=notify_subscribers%21nabble%3Aemail.na
> > ml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aema
> > il.naml>
> 
> --
> View this message in context:
> http://osgeo-org.1560.x6.nabble.com/Implementing-write-support-for-GDAL-dr
> iver-tp5258855p5258885.html Sent from the GDAL - Dev mailing list archive
> at Nabble.com.

-- 
Spatialys - Geospatial professional services
http://www.spatialys.com

From dstu at u.washington.edu  Thu Mar 31 08:16:55 2016
From: dstu at u.washington.edu (Derek Stuart)
Date: Thu, 31 Mar 2016 21:16:55 +0600
Subject: [gdal-dev] Setting up GDAL Custom Transformation from ESRI GTF File
Message-ID: <CAC1Hrcg+u_UbB29PyD-p3RB+MYC3GKmVuDaD7R=HbDp0zMC2Ng@mail.gmail.com>

I am using GDAL routines as part of RAS Mapper within HEC-RAS.   I am
coming from ArcMap where I am using a custom transformation GTF file to
translate from the D_Everest_Bangladesh datum to WGS_1984.

The GTF file includes the following:

GEOGTRAN["ever2wgs",GEOGCS["GCS_Everest_Bangladesh",DATUM["D_Everest_Bangladesh",SPHEROID["Everest_Adjustment_1937",6377276.345,300.8017]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],METHOD["Geocentric_Translation"],PARAMETER["X_Axis_Translation",283.729],PARAMETER["Y_Axis_Translation",735.942],PARAMETER["Z_Axis_Translation",261.143]]

I can't seem to figure out how to set this up for GDAL.  I suspect that I
need to add this to one of the following files.

"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\datum_shift.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\ellipsoid.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\gcs.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\gcs.override.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\gdal_datum.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\geoccs.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\gt_datum.csv"
"C:\Program Files (x86)\HEC\HEC-RAS\5.0\GDAL\data\gt_ellips.csv"

Any tips are appreciated.

-- 
Derek
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160331/2e3dcc68/attachment.html>

From sy at perkmail.net  Thu Mar 31 12:18:37 2016
From: sy at perkmail.net (Simon Perkins)
Date: Thu, 31 Mar 2016 19:18:37 +0000
Subject: [gdal-dev] FITS driver update?
In-Reply-To: <123335104.8866423.1458942093780.JavaMail.zimbra@u-psud.fr>
References: <545271057.5583787.1458860636442.JavaMail.zimbra@u-psud.fr>
 <201603251009.24708.even.rouault@spatialys.com>
 <CAMEdxzeRM5cv-Tcu2v145VtZACGhoMaDcgjO0KCkEr9TAX1EAQ@mail.gmail.com>
 <123335104.8866423.1458942093780.JavaMail.zimbra@u-psud.fr>
Message-ID: <CAMEdxzcF6UAy4amCcnoui3c=9RJnPbtcKNRPDftXpafUmgo7Cw@mail.gmail.com>

There might be other private users of the FITS driver that wouldn't show up
in a search, but likely there aren't many.

How about if you at least have something like a compile-time define that
sets the FITS y-flip behavior? That would at least give people a way of
getting the old behavior if they want it, if they bring in fresh GDAL and
recompile? The default could be your new behavior.

Feel free to work with Even to incorporate your changes into the FITS
driver. I don't have time to help with this myself...

Cheers!

On Fri, Mar 25, 2016 at 3:41 PM Chiara Marmo <chiara.marmo at u-psud.fr> wrote:

> Hi Simon,
>
> > It's been well over a decade since I last looked at this code, and I
> > originally wrote it for a non-astronomy use-case (we just needed a format
> > that could handle multi-spectral imagery), so it's entirely possible it
> > doesn't quite align with normal astronomy conventions... My main concern
> > though is that making these changes would likely break existing code that
> > uses this library. Maybe you could add a param to enable a "flip" mode
> that
> > flips the y-axis while keeping the current default behavior?
>
> I did a (quick, maybe incomplete) research on which software uses gdal to
> read FITS and the only one I have found, beeing largely used , is QGIS. I
> do not know a lot of peaple (excepting me :) ) using QGIS to display
> FITS... that's why I'm working on that.
>
> > - I tend to think of image origin as a display issue. It's not clear to
> me
> > that GDAL implies any particular origin for its coordinate system, so it
> > seems simpler to me to have the first row of data in the FITS file
> > correspond to the first row of data from GDAL's POV as well. For that
> > matter, it's not clear to me that FITS implies a specific origin -
> > displaying the first pixel in the lower left is more of a convention?
> It's
> > true that converting to a TIFF and then displaying the TIFF in the usual
> way
> > flips the image, but I'd probably tackle that by simply flipping the TIFF
> > image vertically after conversion rather than messing around with the
> data
> > ordering. Just my 2c.
>
> Indeed, the standard description of FITS says that for raster the origin
> is bottom left pixel, and its center is 1,1: those two definitions are
> important when georeferencing a raster.
> I'm working at the inteface between planetary mappers , using GIS software
> and GDAL, and astronomers ,using traditional FITS visualization software
> (like Aladin or ds9): FITS images are sometimes raw data, without
> geographical information, the results is that GDAL based tools display
> flipped FITS with respect to astronomical software. Each time I have to
> explain that there is a different convention in FITS and generic raster
> description in computer sciences and direction doesn't matter... but users
> do forget fast...
>
> I need homogeneity in visualization for the two communities could talk
> together... :)
>
> > - Implementing the BSCALE and BZERO via GetOffset() and GetScale() sounds
> > like a good idea, in which case, it's fine to exclude those keywords from
> > the metadata.
>
> Yep, thanks Even for suggestion.
>
> Chiara
>
> --
> Chiara Marmo
> Ingénieur de Recherche GEOPS - Paris Sud-11
> Bât 509
> Tel: +33 (0)1 69 15 49 03
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20160331/1c48df74/attachment.html>

From andre+joost at nurfuerspam.de  Thu Mar 31 23:18:48 2016
From: andre+joost at nurfuerspam.de (Andre Joost)
Date: Fri, 01 Apr 2016 08:18:48 +0200
Subject: [gdal-dev] Setting up GDAL Custom Transformation from ESRI GTF
	File
In-Reply-To: <CAC1Hrcg+u_UbB29PyD-p3RB+MYC3GKmVuDaD7R=HbDp0zMC2Ng@mail.gmail.com>
References: <CAC1Hrcg+u_UbB29PyD-p3RB+MYC3GKmVuDaD7R=HbDp0zMC2Ng@mail.gmail.com>
Message-ID: <ndl3sj$20d$1@ger.gmane.org>

Am 31.03.2016 um 17:16 schrieb Derek Stuart:
> I am using GDAL routines as part of RAS Mapper within HEC-RAS.   I
> am coming from ArcMap where I am using a custom transformation GTF
> file to translate from the D_Everest_Bangladesh datum to WGS_1984.
>
> The GTF file includes the following:
>
> GEOGTRAN["ever2wgs",GEOGCS["GCS_Everest_Bangladesh",DATUM["D_Everest_Bangladesh",SPHEROID["Everest_Adjustment_1937",6377276.345,300.8017]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],METHOD["Geocentric_Translation"],PARAMETER["X_Axis_Translation",283.729],PARAMETER["Y_Axis_Translation",735.942],PARAMETER["Z_Axis_Translation",261.143]]
>

The parameters seem to be identical with EPSG:4682 Gulshan 303:

+proj=longlat +a=6377276.345 +b=6356075.41314024 
+towgs84=283.7,735.9,261.1,0,0,0,0 +no_defs

So just assign that CRS and see if the data fits to other data sources, 
like Openstreetmap.

HTH,
André Joost


