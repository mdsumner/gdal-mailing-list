From lauri.kajan at gmail.com  Sat Sep  1 01:35:38 2012
From: lauri.kajan at gmail.com (Lauri Kajan)
Date: Sat, 1 Sep 2012 11:35:38 +0300
Subject: [gdal-dev] building error on libgdal.so
In-Reply-To: <201208302225.26695.even.rouault@mines-paris.org>
References: <CAKWoFM+CfUpFwPzrLLbe3PWEscSaNf6Akcsvih-0e4XjgPWtXQ@mail.gmail.com>
	<201208302225.26695.even.rouault@mines-paris.org>
Message-ID: <CAKWoFMKOTx9fX5BYGfr1hBBjcV+5VTXJfpBo6VNqvvV8arLtOQ@mail.gmail.com>

On Thu, Aug 30, 2012 at 11:25 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le jeudi 30 ao?t 2012 22:04:33, Lauri Kajan a ?crit :
>> Hi all,
>>
>> I'm trying to build GDAL 1.9.1 from source on Ubuntu 12.04 but I get an
>> error. I configured gdal with ./configure --with-threads --with-python
>> --with-odbc --with-pg
>>
>> Here is the error message?
>>
>> libtool: link: g++ .libs/gdal_translate.o .libs/commonutils.o -o
>> .libs/gdal_translate  /home/l/asennukset/gdal-1.9.1/.libs/libgdal.so
>> -L/usr/local/lib -L/usr/lib /usr/local/lib/libgeos_c.so
>> /usr/local/lib/libgeos.so /usr/lib/x86_64-linux-gnu/libexpat.so -lpq
>> -lz -lpthread -lrt -ldl
>> /home/l/asennukset/gdal-1.9.1/.libs/libgdal.so: undefined reference to
>> `OGRCreateExpatXMLParser()'
>> collect2: ld returned 1 exit status
>> make[1]: *** [gdal_translate] Error 1
>> make[1]: *** Waiting for unfinished jobs....
>> /home/l/asennukset/gdal-1.9.1/.libs/libgdal.so: undefined reference to
>> `OGRCreateExpatXMLParser()'
>> collect2: ld returned 1 exit status
>> make[1]: *** [gdalinfo] Error 1
>> make[1]: Leaving directory `/home/l/asennukset/gdal-1.9.1/apps'
>> make: *** [apps-target] Error 2
>>
>> Am I missing some dependency?
>> I have already installed Postgis and with that libxml2-dev. If this
>> has anything to do with that.
>>
>> Could anybody help me with this?
>
> Looks like there is an issue with expat. Shouldn't happen, but perhaps you
> have made several build attempts without proper cleaning. Make sure that you
> have installed the developement package for libexpat, and configure, make
> clean, make
>
>>
>>
>>
>> Thanks
>>
>> Lauri
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev

Thank you Even

That's true I tried building before and didn't understand to clean it.
Now it works!

-Lauri

From radim.blazek at gmail.com  Mon Sep  3 06:08:50 2012
From: radim.blazek at gmail.com (Radim Blazek)
Date: Mon, 3 Sep 2012 15:08:50 +0200
Subject: [gdal-dev] [Qgis-developer] Large raster (ecw) identify very
	long
In-Reply-To: <201208242245.57431.even.rouault@mines-paris.org>
References: <1345628438183-4996953.post@n6.nabble.com>
	<1345639055.5034d28f1c960@imp.free.fr>
	<CAEMrtYpKVmpyh5QGET_O9NP1Hjo97GzhKHeO27sJCe2rqKeZ1g@mail.gmail.com>
	<201208242245.57431.even.rouault@mines-paris.org>
Message-ID: <CAEMrtYrNEu4aCHWWj3D32x7q0Zumf5ybsqyAjt8pdB5ZQJ_u_Q@mail.gmail.com>

On Fri, Aug 24, 2012 at 10:45 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> I've tested the big ECW (1.8 GB, 141970 x 141970) provided by Jukka and could
> indeed reproduce a noticable performance issue when simulating picking with my
> tiny GDAL python script. In QGIS, the performance was still OK however, a few
> hundreds of milliseconds for each picking. It is just when you do a lot of
> iterations that you begin to notice the slowness, or if the dataset is really
> huge.
>
> I've fixed that in http://trac.osgeo.org/gdal/ticket/4790 in trunk and 1.9
> branch. So it will be in GDAL 1.9.2. Actually, as I think that the ECW driver
> is generally available through a plugin (and not built-in in GDAL DLL), this
> could be available sooner if the ECW plugin is rebuilt with the fixed sources.

Thanks,
QGIS is now using 2x2 only if following condition is matched:

#if !defined(GDAL_VERSION_NUM) || GDAL_VERSION_NUM < 1920
      if ( strcmp( GDALGetDriverShortName( GDALGetDatasetDriver(
mGdalDataset ) ), "ECW" ) == 0 )

Radim

> Best regards,
>
> Even

From piotr at cgis.pl  Mon Sep  3 07:29:27 2012
From: piotr at cgis.pl (Piotr Tracz)
Date: Mon, 03 Sep 2012 16:29:27 +0200
Subject: [gdal-dev] Building gdal with opencl support on windows
In-Reply-To: <4FC79BBA.70906@gatewaygeomatics.com>
References: <003201cd3d8c$603bcce0$20b366a0$@vizexperts.com>
	<4FC79689.7070302@cgis.pl> <4FC79BBA.70906@gatewaygeomatics.com>
Message-ID: <5044BEC7.7050708@cgis.pl>

W dniu 2012-05-31 18:26, Jeff McKenna pisze:
> Could you create a wiki page at 
> http://trac.osgeo.org/gdal/wiki/BuildHints in the "External Library 
> Issues" section for opencl? And then point to it back here on the 
> mailing list. Thanks!

Sorry it took so long...
I'm just trying to do that - that will be copy of instruction I just 
published here:
http://piotrtracz.blogspot.com/2012/09/how-to-enable-opencl-ati-graphics-cards.html

ATI released new SDK and I had to adopt everything to it.

Piotr Tracz






From luislisboa1975 at gmail.com  Mon Sep  3 09:04:19 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Mon, 3 Sep 2012 17:04:19 +0100
Subject: [gdal-dev] How to cut a Raster map with a KML file
Message-ID: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>

Greetings
I have a raster file (Geotiff) and I have a KML file with a polygon and I
want to cut raster map to only have valid values inside the polygon. How
can I do this using just GDAL?

Usually I used to cut geotiff file with gdalwarp and but in those cases I
was cutting a square (xmin xmax ymin ymax) and in this case is a more
complex polygon

Thanks
Regards,
Luis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120903/167236b4/attachment.html>

From chaitanya.ch at gmail.com  Mon Sep  3 09:10:09 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Mon, 3 Sep 2012 21:40:09 +0530
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
Message-ID: <CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>

Luis,

gdalwarp has some options for this exact purpose.
The cutline can be from any of the OGR readable datasource.

http://www.gdal.org/gdalwarp.html

On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com>wrote:

> Greetings
> I have a raster file (Geotiff) and I have a KML file with a polygon and I
> want to cut raster map to only have valid values inside the polygon. How
> can I do this using just GDAL?
>
> Usually I used to cut geotiff file with gdalwarp and but in those cases I
> was cutting a square (xmin xmax ymin ymax) and in this case is a more
> complex polygon
>
> Thanks
> Regards,
> Luis
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120903/f01bb28c/attachment.html>

From taibc_coltech at yahoo.com  Mon Sep  3 18:00:30 2012
From: taibc_coltech at yahoo.com (taibc)
Date: Mon, 3 Sep 2012 18:00:30 -0700 (PDT)
Subject: [gdal-dev] How to convert a .dgn file into image (jpg or bmp)
In-Reply-To: <loom.20120831T123855-867@post.gmane.org>
References: <1346404046936-4998992.post@n6.nabble.com>
	<loom.20120831T123855-867@post.gmane.org>
Message-ID: <1346720430541-4999564.post@n6.nabble.com>

Thanks Jukka Rahkonen,

I will find out more your suggestion link.

Kind regards,

Tai



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/How-to-convert-a-dgn-file-into-image-jpg-or-bmp-tp4998992p4999564.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Tue Sep  4 05:53:02 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Tue, 4 Sep 2012 12:53:02 +0000 (UTC)
Subject: [gdal-dev] =?utf-8?q?Gdalinfo_is_missing_documentation_for_-appro?=
	=?utf-8?q?x=5Fstats?=
Message-ID: <loom.20120904T144354-741@post.gmane.org>

Hi,

I was reading from Quantum GIS mailing list that there exists an -approx_stats
option in gdalinfo utility but it is not documented in
http://www.gdal.org/gdalinfo.html

It looks like the author did not bother to report the issue here so I did even I
do not know what is the purpose of this approx_stats thing.

-Jukka Rahkonen-


From ari.jolma at gmail.com  Tue Sep  4 05:59:37 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 04 Sep 2012 15:59:37 +0300
Subject: [gdal-dev] Gdalinfo is missing documentation for -approx_stats
In-Reply-To: <loom.20120904T144354-741@post.gmane.org>
References: <loom.20120904T144354-741@post.gmane.org>
Message-ID: <5045FB39.80005@gmail.com>

Jukka,

Make a ticket as emails to the list are not as sticky as tickets.

Ari

On 09/04/2012 03:53 PM, Jukka Rahkonen wrote:
> Hi,
>
> I was reading from Quantum GIS mailing list that there exists an -approx_stats
> option in gdalinfo utility but it is not documented in
> http://www.gdal.org/gdalinfo.html
>
> It looks like the author did not bother to report the issue here so I did even I
> do not know what is the purpose of this approx_stats thing.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From piotr at cgis.pl  Tue Sep  4 06:03:07 2012
From: piotr at cgis.pl (Piotr Tracz)
Date: Tue, 04 Sep 2012 15:03:07 +0200
Subject: [gdal-dev] Gdalinfo is missing documentation for -approx_stats
In-Reply-To: <loom.20120904T144354-741@post.gmane.org>
References: <loom.20120904T144354-741@post.gmane.org>
Message-ID: <5045FC0B.8080800@cgis.pl>

W dniu 2012-09-04 14:53, Jukka Rahkonen pisze:
> I was reading from Quantum GIS mailing list that there exists an -approx_stats
> option in gdalinfo utility but it is not documented in
> http://www.gdal.org/gdalinfo.html
>
> It looks like the author did not bother to report the issue here so I did even I
> do not know what is the purpose of this approx_stats thing.
>
Here you go with purpose of it:
http://www.gdal.org/classGDALRasterBand.html#a6aa58b6f0a0c17722b9bf763a96ff069

-approx_stats sets /bApproxOK as true.

/Piotr
/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120904/6ad16c3d/attachment.html>

From luislisboa1975 at gmail.com  Tue Sep  4 06:53:19 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Tue, 4 Sep 2012 14:53:19 +0100
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
	<CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
Message-ID: <CAKvvP9jk+8KW8ZXr7yC1TgCGY4m49V0K7GRBQW2DxD4gEGfRww@mail.gmail.com>

Thank you Chitanya. But it created an output file with two layers (one with
the values from original file and another with a 255 for the pixels thar
are inside KMZ file: How can I have just one layer?
Other thing: as far as I saw it procewssed the data without needing to have
the KML and the Geotiff in the same CRS. Can anyone confimr that this is
true?
Thanks
Luis

On Mon, Sep 3, 2012 at 5:10 PM, Chaitanya kumar CH
<chaitanya.ch at gmail.com>wrote:

> Luis,
>
> gdalwarp has some options for this exact purpose.
> The cutline can be from any of the OGR readable datasource.
>
> http://www.gdal.org/gdalwarp.html
>
> On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com>wrote:
>
>> Greetings
>> I have a raster file (Geotiff) and I have a KML file with a polygon and I
>> want to cut raster map to only have valid values inside the polygon. How
>> can I do this using just GDAL?
>>
>> Usually I used to cut geotiff file with gdalwarp and but in those cases I
>> was cutting a square (xmin xmax ymin ymax) and in this case is a more
>> complex polygon
>>
>> Thanks
>> Regards,
>> Luis
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120904/7b1b31a2/attachment.html>

From chaitanya.ch at gmail.com  Tue Sep  4 07:16:02 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Tue, 4 Sep 2012 19:46:02 +0530
Subject: [gdal-dev] Gdalinfo is missing documentation for -approx_stats
In-Reply-To: <5045FC0B.8080800@cgis.pl>
References: <loom.20120904T144354-741@post.gmane.org>
	<5045FC0B.8080800@cgis.pl>
Message-ID: <CAMKgpOZfPLKjo1xYHDKVomjJoDzR+nh+n8UrUr73cDkjE_19qQ@mail.gmail.com>

Jukka,

The option -approx_stats is useful if you want less precise statistics in
less time.
Updated the dox in the revision 24905 and 24906.

Thanks for the notice Jukka.


On Tue, Sep 4, 2012 at 6:33 PM, Piotr Tracz <piotr at cgis.pl> wrote:

>  W dniu 2012-09-04 14:53, Jukka Rahkonen pisze:
>
> I was reading from Quantum GIS mailing list that there exists an -approx_stats
> option in gdalinfo utility but it is not documented inhttp://www.gdal.org/gdalinfo.html
>
> It looks like the author did not bother to report the issue here so I did even I
> do not know what is the purpose of this approx_stats thing.
>
>
>  Here you go with purpose of it:
>
> http://www.gdal.org/classGDALRasterBand.html#a6aa58b6f0a0c17722b9bf763a96ff069
>
> -approx_stats sets *bApproxOK as true.
>
> /Piotr
> *
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120904/dc365fdb/attachment.html>

From gabrielfusca at suremptec.com.ar  Tue Sep  4 14:04:16 2012
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Tue, 4 Sep 2012 18:04:16 -0300
Subject: [gdal-dev] Problems with OGRGeometry Intersects
Message-ID: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>

Hi,

I'm using Gdal 1.9.

I have a function that has to perform a intersection of a geometry based on
the click that is made on the screen.

The raster file (Geotiff) that has a projected reference system (WGS 84 /
UTM zone 21S)  and the geometry a georeferenced system (EPSG - 4326 WGS84).

The click that comes from the screen (spatial reference of the image)
create a geometry from calling point.Buffer (radius).

When i want to verify that the geometries intersect the intersects method
from OGRGeometry fails, even if the querypoint is transformed into the
spatial reference system of the geometry.

Envelopes from the 2 geometries.
QueryPoint
env.
if i generates the querypoint from the spatial reference of the geometry
that i want to intersect)
minx -61.66, maxx -53.66;
miny -41.97, maxy -33.97
else
minx 443322.50, maxx 443330.50
miny 5798153.59, maxy 5798161.59

Geometry env.
minx -57.79, maxx -57.59;
miny -38.08, maxy-37.92


The code is something like this:

// spatialfilterwindow image subset transformed into
// the spatial reference of the vector to intersect
Extent spatialfilter(spatialfilterwindow);
player->SetSpatialFilterRect(spatialfilter.min_.x_,
                            spatialfilter.min_.y_,
                            spatialfilter.max_.x_,
                            spatialfilter.max_.y_);
OGRLayer* player = ...;
OGRFeature *pfeature = player->GetNextFeature();
OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
querypoint.assignSpatialReference(new OGRSpatialReference(SrWkt.c_str()));
OGRGeometry* pquerypoly = querypoint.Buffer(radius);
 *while *(pfeature) {
    OGRGeometry *pgeometry = pfeature->GetGeometryRef();
    *if *((pgeometry && pgeometry->Intersects(pquerypoly) == TRUE)
        || (pquerypoly && pquerypoly->Intersects(pgeometry) == TRUE)) {
        // do something...
    } *else *{
        // handle the intersection fail
    }
    pfeature = player->GetNextFeature();
}

Any idea why it fails?

Thanks,
Regards,

-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120904/7b26535a/attachment.html>

From gabrielfusca at suremptec.com.ar  Tue Sep  4 14:08:33 2012
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Tue, 4 Sep 2012 18:08:33 -0300
Subject: [gdal-dev] Problems with OGRGeometry Intersects
In-Reply-To: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
References: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
Message-ID: <CAJ1ZnRWo38zKM-O0cnx6Rca4az-C04N0yY6tQ+vmnWcOTH0Auw@mail.gmail.com>

Sorry, I forget to say that I built Gdal with GEOS

2012/9/4 Gabriel Fusca <gabrielfusca at suremptec.com.ar>

> Hi,
>
> I'm using Gdal 1.9.
>
> I have a function that has to perform a intersection of a geometry based
> on the click that is made on the screen.
>
> The raster file (Geotiff) that has a projected reference system (WGS 84 /
> UTM zone 21S)  and the geometry a georeferenced system (EPSG - 4326 WGS84).
>
> The click that comes from the screen (spatial reference of the image)
> create a geometry from calling point.Buffer (radius).
>
> When i want to verify that the geometries intersect the intersects method
> from OGRGeometry fails, even if the querypoint is transformed into the
> spatial reference system of the geometry.
>
> Envelopes from the 2 geometries.
> QueryPoint
> env.
> if i generates the querypoint from the spatial reference of the geometry
> that i want to intersect)
> minx -61.66, maxx -53.66;
> miny -41.97, maxy -33.97
> else
> minx 443322.50, maxx 443330.50
> miny 5798153.59, maxy 5798161.59
>
> Geometry env.
> minx -57.79, maxx -57.59;
> miny -38.08, maxy-37.92
>
>
> The code is something like this:
>
> // spatialfilterwindow image subset transformed into
> // the spatial reference of the vector to intersect
> Extent spatialfilter(spatialfilterwindow);
> player->SetSpatialFilterRect(spatialfilter.min_.x_,
>                             spatialfilter.min_.y_,
>                             spatialfilter.max_.x_,
>                             spatialfilter.max_.y_);
> OGRLayer* player = ...;
> OGRFeature *pfeature = player->GetNextFeature();
> OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
> querypoint.assignSpatialReference(new OGRSpatialReference(SrWkt.c_str()));
> OGRGeometry* pquerypoly = querypoint.Buffer(radius);
>  *while *(pfeature) {
>     OGRGeometry *pgeometry = pfeature->GetGeometryRef();
>     *if *((pgeometry && pgeometry->Intersects(pquerypoly) == TRUE)
>         || (pquerypoly && pquerypoly->Intersects(pgeometry) == TRUE)) {
>         // do something...
>     } *else *{
>         // handle the intersection fail
>     }
>     pfeature = player->GetNextFeature();
> }
>
> Any idea why it fails?
>
> Thanks,
> Regards,
>
> --
> Gabriel Fusca
> SUR Emprendimientos Tecnol?gicos
>
> Per? 345  Piso 5to Oficina "B" (C1067AAG)
> Ciudad de Buenos Aires, Argentina
> Tel. +54 (11) 4342-2976/84
> gabrielfusca at suremptec.com.ar
> http://www.suremptec.com/
>
>


-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120904/bcafc80d/attachment.html>

From even.rouault at mines-paris.org  Tue Sep  4 14:50:37 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 4 Sep 2012 23:50:37 +0200
Subject: [gdal-dev] Problems with OGRGeometry Intersects
In-Reply-To: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
References: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
Message-ID: <201209042350.37198.even.rouault@mines-paris.org>

Le mardi 04 septembre 2012 23:04:16, Gabriel Fusca a ?crit :
> Hi,
> 
> I'm using Gdal 1.9.
> 
> I have a function that has to perform a intersection of a geometry based on
> the click that is made on the screen.
> 
> The raster file (Geotiff) that has a projected reference system (WGS 84 /
> UTM zone 21S)  and the geometry a georeferenced system (EPSG - 4326 WGS84).
> 
> The click that comes from the screen (spatial reference of the image)
> create a geometry from calling point.Buffer (radius).
> 
> When i want to verify that the geometries intersect the intersects method
> from OGRGeometry fails, even if the querypoint is transformed into the
> spatial reference system of the geometry.
> 
> Envelopes from the 2 geometries.
> QueryPoint
> env.
> if i generates the querypoint from the spatial reference of the geometry
> that i want to intersect)
> minx -61.66, maxx -53.66;
> miny -41.97, maxy -33.97
> else
> minx 443322.50, maxx 443330.50
> miny 5798153.59, maxy 5798161.59
> 
> Geometry env.
> minx -57.79, maxx -57.59;
> miny -38.08, maxy-37.92
> 
> 
> The code is something like this:
> 
> // spatialfilterwindow image subset transformed into
> // the spatial reference of the vector to intersect
> Extent spatialfilter(spatialfilterwindow);
> player->SetSpatialFilterRect(spatialfilter.min_.x_,
>                             spatialfilter.min_.y_,
>                             spatialfilter.max_.x_,
>                             spatialfilter.max_.y_);
> OGRLayer* player = ...;
> OGRFeature *pfeature = player->GetNextFeature();
> OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
> querypoint.assignSpatialReference(new OGRSpatialReference(SrWkt.c_str()));
> OGRGeometry* pquerypoly = querypoint.Buffer(radius);
>  *while *(pfeature) {
>     OGRGeometry *pgeometry = pfeature->GetGeometryRef();
>     *if *((pgeometry && pgeometry->Intersects(pquerypoly) == TRUE)
> 
>         || (pquerypoly && pquerypoly->Intersects(pgeometry) == TRUE)) {
> 
>         // do something...
>     } *else *{
>         // handle the intersection fail
>     }
>     pfeature = player->GetNextFeature();
> }
> 
> Any idea why it fails?

I suspect that you assumed assignSpatialReference() would do the reprojection, 
which isn't the case (it just blindly assigns the specified SRS, but doesn't 
alter the geometry coordinates). You must use the TransformTo() method 
instead.

Incidental comment : you don't need to test ( A->Insersects(B) || B-
>Insersects(A)). Intersects() is a symetrical operation, so just one test will 
be enough. 

> 
> Thanks,
> Regards,

From kedardeshpande87 at gmail.com  Tue Sep  4 20:26:32 2012
From: kedardeshpande87 at gmail.com (kedardeshpande87)
Date: Tue, 4 Sep 2012 20:26:32 -0700 (PDT)
Subject: [gdal-dev] Slow performance observed while querying the shapefile
Message-ID: <1346815592364-4999813.post@n6.nabble.com>

Hi,

I have downloaded the latest shapefiles from US Census Bureau TIGER
Shapefiles containaing the ZipCode Tabulation Area (2010) information. I am
reading the shapefile to retrieve the zip code for a given point having
latitude/longitude. I open the shapefile to get the data source, get the
zipcode layer from that and the set a spatial filter on it.
But currently, I am getting very slow performance when doing this. It takes
on an average 200 milliseconds to find a zip code for a given point.
I had downloaded the ZCTA 2010 shapefile a few months ago and I was getting
the latency of around 1 to 2 milliseconds on an average. I recently
downloaded the same ZCTA 2010 shapefile from US Census Bureau web site and
now I am getting latency of 200 milliseconds. The code that reads the
shapefiles is the same.

Has anyone else observed similar behavior ?
What could be the cause of such a high latency ?

Thanks,
Kedar



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Slow-performance-observed-while-querying-the-shapefile-tp4999813.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Tue Sep  4 23:23:58 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 5 Sep 2012 06:23:58 +0000 (UTC)
Subject: [gdal-dev] Slow performance observed while querying the
	shapefile
References: <1346815592364-4999813.post@n6.nabble.com>
Message-ID: <loom.20120905T081924-986@post.gmane.org>

kedardeshpande87 <kedardeshpande87 <at> gmail.com> writes:

> 
> Hi,
> 
> I have downloaded the latest shapefiles from US Census Bureau TIGER
> Shapefiles containaing the ZipCode Tabulation Area (2010) information. I am
> reading the shapefile to retrieve the zip code for a given point having
> latitude/longitude. I open the shapefile to get the data source, get the
> zipcode layer from that and the set a spatial filter on it.
> But currently, I am getting very slow performance when doing this. It takes
> on an average 200 milliseconds to find a zip code for a given point.
> I had downloaded the ZCTA 2010 shapefile a few months ago and I was getting
> the latency of around 1 to 2 milliseconds on an average. I recently
> downloaded the same ZCTA 2010 shapefile from US Census Bureau web site and
> now I am getting latency of 200 milliseconds. The code that reads the
> shapefiles is the same.
> 
> Has anyone else observed similar behavior ?
> What could be the cause of such a high latency ?

Perhaps there is something wrong with the spatial index. Drop and re-create the
index as described in http://www.gdal.org/ogr/drv_shapefile.html and check if
queries get faster.

-Jukka Rahkonen-



From jukka.rahkonen at mmmtike.fi  Tue Sep  4 23:53:17 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 5 Sep 2012 06:53:17 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?Gdalinfo_is_missing_documentation_for_-appro?=
	=?utf-8?q?x=5Fstats?=
References: <loom.20120904T144354-741@post.gmane.org>
	<5045FB39.80005@gmail.com>
Message-ID: <loom.20120905T082755-163@post.gmane.org>

Ari Jolma <ari.jolma <at> gmail.com> writes:

> 
> Jukka,
> 
> Make a ticket as emails to the list are not as sticky as tickets.

I do make tickets too but if I do not understand the issue I prefer to use the
list first instead of creating possibly invalid tickets right away.

-Jukka-



From bontepaarden at gmail.com  Wed Sep  5 01:38:40 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed, 5 Sep 2012 10:38:40 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
Message-ID: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>

I'm trying to tile an ecw file to use in geoserver like explained here:
http://docs.geoserver.org/latest/en/user/tutorials/imagepyramid/imagepyramid.html

I am on Windows and have no experience with Python, so I've installed
FWTools v2.4.7 from http://fwtools.maptools.org/
When I run gdal_retile I get this error:
gdal_retile.py", line 273
    print("Building internal Index for %d tile(s) ..." % len(inputTiles),
end='')
SyntaxError: invalid syntax

Looking for in on Google I found this post:
http://old.nabble.com/gdal_retile-errors-td27916035.html
It seems to be some trouble between Python v2 and v3
The post states it has been fixed in the latest gdal_retile.py.

So I downloaded that version and tried it, but now I'm getting even more
errors.

How can I get a working version of gdal_retile.py?
Or can I get a newer version of FWTools?

Thanks,

Paul Meems
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/fc13f370/attachment-0001.html>

From even.rouault at mines-paris.org  Wed Sep  5 02:34:24 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 05 Sep 2012 11:34:24 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
Message-ID: <1346837664.50471ca02e3fa@imp.free.fr>

Selon Paul Meems <bontepaarden at gmail.com>:

> I'm trying to tile an ecw file to use in geoserver like explained here:
>
http://docs.geoserver.org/latest/en/user/tutorials/imagepyramid/imagepyramid.html

I've no experience with GeoServer but this would be *extremely* weird that you
would need to create an image pyramid for ECW, because, due to its compression
algorithm, ECW has "natural" pyramid in it. Other formats might require pyramids
however for good performance.

>
> I am on Windows and have no experience with Python, so I've installed
> FWTools v2.4.7 from http://fwtools.maptools.org/
> When I run gdal_retile I get this error:
> gdal_retile.py", line 273
>     print("Building internal Index for %d tile(s) ..." % len(inputTiles),
> end='')
> SyntaxError: invalid syntax
>
> Looking for in on Google I found this post:
> http://old.nabble.com/gdal_retile-errors-td27916035.html
> It seems to be some trouble between Python v2 and v3
> The post states it has been fixed in the latest gdal_retile.py.
>
> So I downloaded that version and tried it, but now I'm getting even more
> errors.

I would have thought that grabbing latest gdal_retile.py should work, but I
haven't tested. What are precisely the new errors you get ?

But anyway, I'd recommand not using FWTools. It is no longer updated
(corresponds to a developement version before GDAL 1.6.0 release). Use OSGeo4W
or grab the builds you can find at http://www.gisinternals.com/sdk/ to use the
latest & greatest versions.

>
> How can I get a working version of gdal_retile.py?
> Or can I get a newer version of FWTools?
>
> Thanks,
>
> Paul Meems
>



From bontepaarden at gmail.com  Wed Sep  5 02:44:50 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed, 5 Sep 2012 11:44:50 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <1346837664.50471ca02e3fa@imp.free.fr>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
	<1346837664.50471ca02e3fa@imp.free.fr>
Message-ID: <CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>

Hi Even,

I need to convert the ECW file to GeoTiff because of license issues. It is
extremely expensive to host ECW files on GeoServer.
The converted GeoTiff is 100GB. GeoServer can only handle files up to 2GB
so I need to create smaller tiles.
That is what the python script will do for me. I'm hoping I can create
GeoTiff tiles using the ECW directly without converting it to a large
GeoTiff first.

I tried the files from http://www.gisinternals.com/sdk/ but that didn't
help. I think my problem is more with Python.

After updating FWTools with the files from gisinternals I get this error:
Traceback (most recent call last):
  File "E:\PROGRA~1\FWTOOL~1.7\bin\gdal_retile.py", line 38, in <module>
    import gdal
  File "e:\PROGRA~1\FWTOOL~1.7\pymod\gdal.py", line 191, in <module>
    import _gdal
ImportError: No module named _gdal

I'll try OSGeo4W next.

Thanks

Paul


2012/9/5 Even Rouault <even.rouault at mines-paris.org>

> Selon Paul Meems <bontepaarden at gmail.com>:
>
> > I'm trying to tile an ecw file to use in geoserver like explained here:
> >
>
> http://docs.geoserver.org/latest/en/user/tutorials/imagepyramid/imagepyramid.html
>
> I've no experience with GeoServer but this would be *extremely* weird that
> you
> would need to create an image pyramid for ECW, because, due to its
> compression
> algorithm, ECW has "natural" pyramid in it. Other formats might require
> pyramids
> however for good performance.
>
> >
> > I am on Windows and have no experience with Python, so I've installed
> > FWTools v2.4.7 from http://fwtools.maptools.org/
> > When I run gdal_retile I get this error:
> > gdal_retile.py", line 273
> >     print("Building internal Index for %d tile(s) ..." % len(inputTiles),
> > end='')
> > SyntaxError: invalid syntax
> >
> > Looking for in on Google I found this post:
> > http://old.nabble.com/gdal_retile-errors-td27916035.html
> > It seems to be some trouble between Python v2 and v3
> > The post states it has been fixed in the latest gdal_retile.py.
> >
> > So I downloaded that version and tried it, but now I'm getting even more
> > errors.
>
> I would have thought that grabbing latest gdal_retile.py should work, but I
> haven't tested. What are precisely the new errors you get ?
>
> But anyway, I'd recommand not using FWTools. It is no longer updated
> (corresponds to a developement version before GDAL 1.6.0 release). Use
> OSGeo4W
> or grab the builds you can find at http://www.gisinternals.com/sdk/ to
> use the
> latest & greatest versions.
>
> >
> > How can I get a working version of gdal_retile.py?
> > Or can I get a newer version of FWTools?
> >
> > Thanks,
> >
> > Paul Meems
> >
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/9ad4339c/attachment.html>

From luislisboa1975 at gmail.com  Wed Sep  5 03:00:24 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Wed, 5 Sep 2012 11:00:24 +0100
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
	<CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
Message-ID: <CAKvvP9iBr3qA-FvPQzh1wM7xMuAR8yXHfPhWGUTF7s0zap=0fg@mail.gmail.com>

Thank you Chitanya.
But it created an output file with two layers (one with the values from
original file and another with a 255 for the pixels thar are inside KMZ
file: How can I have produce one layer?
Thanks
Luis
On Mon, Sep 3, 2012 at 5:10 PM, Chaitanya kumar CH
<chaitanya.ch at gmail.com>wrote:

> Luis,
>
> gdalwarp has some options for this exact purpose.
> The cutline can be from any of the OGR readable datasource.
>
> http://www.gdal.org/gdalwarp.html
>
> On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com>wrote:
>
>> Greetings
>> I have a raster file (Geotiff) and I have a KML file with a polygon and I
>> want to cut raster map to only have valid values inside the polygon. How
>> can I do this using just GDAL?
>>
>> Usually I used to cut geotiff file with gdalwarp and but in those cases I
>> was cutting a square (xmin xmax ymin ymax) and in this case is a more
>> complex polygon
>>
>> Thanks
>> Regards,
>> Luis
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/f2f06bbe/attachment.html>

From even.rouault at mines-paris.org  Wed Sep  5 03:08:11 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 05 Sep 2012 12:08:11 +0200
Subject: [gdal-dev] Remove mentions to FWTools from GDAL wiki ?
Message-ID: <1346839691.5047248b20345@imp.free.fr>

Hi,

I notice that we have regularly reports from users that still use FWTools 2.4.7
and run into problems that are often solved by using more recent versions. I'd
suggest we remove mentions to FWTools from
http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries .

Frank,

Perhaps a prominent notice should be added to http://fwtools.maptools.org/ to
indicate that the available binaries correspond to obsolete versions and point
to http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries ? And mentions to
"latest and greatest" removed

Best regards,

Even

From gabrielfusca at suremptec.com.ar  Wed Sep  5 05:56:30 2012
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Wed, 5 Sep 2012 09:56:30 -0300
Subject: [gdal-dev] Problems with OGRGeometry Intersects
In-Reply-To: <201209042350.37198.even.rouault@mines-paris.org>
References: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
	<201209042350.37198.even.rouault@mines-paris.org>
Message-ID: <CAJ1ZnRVYH=mxMzThTWwgn6Q-P9YZkKCsp-dfHpiQxE8JFOTMtQ@mail.gmail.com>

Hi,

Thanks for the answer.

> OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
> querypoint.assignSpatialReference(new OGRSpatialReference(SrWkt.c_str()));

It is not necessary to transform the query point because the Point is at
the same spatial reference system.

> pgeometry->Intersects(pquerypoly)

Intersects perform a transformation to verify the intersection of the
geometries? The two geometries (the one that came from the point and the
other that want to intersect) have two different spatial reference systems.

point -> EPSG 4326 (GEO)
other geometry -> (WGS 84 / > UTM zone 21S) (PROJ)

Thanks,
Regards,


2012/9/4 Even Rouault <even.rouault at mines-paris.org>

> Le mardi 04 septembre 2012 23:04:16, Gabriel Fusca a ?crit :
> > Hi,
> >
> > I'm using Gdal 1.9.
> >
> > I have a function that has to perform a intersection of a geometry based
> on
> > the click that is made on the screen.
> >
> > The raster file (Geotiff) that has a projected reference system (WGS 84 /
> > UTM zone 21S)  and the geometry a georeferenced system (EPSG - 4326
> WGS84).
> >
> > The click that comes from the screen (spatial reference of the image)
> > create a geometry from calling point.Buffer (radius).
> >
> > When i want to verify that the geometries intersect the intersects method
> > from OGRGeometry fails, even if the querypoint is transformed into the
> > spatial reference system of the geometry.
> >
> > Envelopes from the 2 geometries.
> > QueryPoint
> > env.
> > if i generates the querypoint from the spatial reference of the geometry
> > that i want to intersect)
> > minx -61.66, maxx -53.66;
> > miny -41.97, maxy -33.97
> > else
> > minx 443322.50, maxx 443330.50
> > miny 5798153.59, maxy 5798161.59
> >
> > Geometry env.
> > minx -57.79, maxx -57.59;
> > miny -38.08, maxy-37.92
> >
> >
> > The code is something like this:
> >
> > // spatialfilterwindow image subset transformed into
> > // the spatial reference of the vector to intersect
> > Extent spatialfilter(spatialfilterwindow);
> > player->SetSpatialFilterRect(spatialfilter.min_.x_,
> >                             spatialfilter.min_.y_,
> >                             spatialfilter.max_.x_,
> >                             spatialfilter.max_.y_);
> > OGRLayer* player = ...;
> > OGRFeature *pfeature = player->GetNextFeature();
> > OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
> > querypoint.assignSpatialReference(new
> OGRSpatialReference(SrWkt.c_str()));
> > OGRGeometry* pquerypoly = querypoint.Buffer(radius);
> >  *while *(pfeature) {
> >     OGRGeometry *pgeometry = pfeature->GetGeometryRef();
> >     *if *((pgeometry && pgeometry->Intersects(pquerypoly) == TRUE)
> >
> >         || (pquerypoly && pquerypoly->Intersects(pgeometry) == TRUE)) {
> >
> >         // do something...
> >     } *else *{
> >         // handle the intersection fail
> >     }
> >     pfeature = player->GetNextFeature();
> > }
> >
> > Any idea why it fails?
>
> I suspect that you assumed assignSpatialReference() would do the
> reprojection,
> which isn't the case (it just blindly assigns the specified SRS, but
> doesn't
> alter the geometry coordinates). You must use the TransformTo() method
> instead.
>
> Incidental comment : you don't need to test ( A->Insersects(B) || B-
> >Insersects(A)). Intersects() is a symetrical operation, so just one test
> will
> be enough.
>
> >
> > Thanks,
> > Regards,
>



-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/bc72baf3/attachment-0001.html>

From even.rouault at mines-paris.org  Wed Sep  5 07:02:08 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 05 Sep 2012 16:02:08 +0200
Subject: [gdal-dev] Problems with OGRGeometry Intersects
In-Reply-To: <CAJ1ZnRVYH=mxMzThTWwgn6Q-P9YZkKCsp-dfHpiQxE8JFOTMtQ@mail.gmail.com>
References: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
	<201209042350.37198.even.rouault@mines-paris.org>
	<CAJ1ZnRVYH=mxMzThTWwgn6Q-P9YZkKCsp-dfHpiQxE8JFOTMtQ@mail.gmail.com>
Message-ID: <1346853728.50475b60e0ab9@imp.free.fr>

Selon Gabriel Fusca <gabrielfusca at suremptec.com.ar>:

> Hi,
>
> Thanks for the answer.
>
> > OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
> > querypoint.assignSpatialReference(new OGRSpatialReference(SrWkt.c_str()));
>
> It is not necessary to transform the query point because the Point is at
> the same spatial reference system.

Good.

>
> > pgeometry->Intersects(pquerypoly)
>
> Intersects perform a transformation to verify the intersection of the
> geometries?

No. The geometries passed to Intersects (and all other methods that take 2
geometries as input) must be in the same SRS. So you have to transform one of
them to the SRS of the other with TransformTo().

From gabrielfusca at suremptec.com.ar  Wed Sep  5 08:52:28 2012
From: gabrielfusca at suremptec.com.ar (Gabriel Fusca)
Date: Wed, 5 Sep 2012 12:52:28 -0300
Subject: [gdal-dev] Problems with OGRGeometry Intersects
In-Reply-To: <1346853728.50475b60e0ab9@imp.free.fr>
References: <CAJ1ZnRXJYDjkzbux4vpRgVA2a368iXvWOEWhY_nVy8YTJ8Jo2g@mail.gmail.com>
	<201209042350.37198.even.rouault@mines-paris.org>
	<CAJ1ZnRVYH=mxMzThTWwgn6Q-P9YZkKCsp-dfHpiQxE8JFOTMtQ@mail.gmail.com>
	<1346853728.50475b60e0ab9@imp.free.fr>
Message-ID: <CAJ1ZnRVENf2F8T+SF5R_VYsn-G4tqKe2a+ctCeGaYnybguEhYA@mail.gmail.com>

Hi,

Thanks Even! This solves the problem!



2012/9/5 Even Rouault <even.rouault at mines-paris.org>

> Selon Gabriel Fusca <gabrielfusca at suremptec.com.ar>:
>
> > Hi,
> >
> > Thanks for the answer.
> >
> > > OGRPoint querypoint = OGRPoint(Point.x_, Point.y_);
> > > querypoint.assignSpatialReference(new
> OGRSpatialReference(SrWkt.c_str()));
> >
> > It is not necessary to transform the query point because the Point is at
> > the same spatial reference system.
>
> Good.
>
> >
> > > pgeometry->Intersects(pquerypoly)
> >
> > Intersects perform a transformation to verify the intersection of the
> > geometries?
>
> No. The geometries passed to Intersects (and all other methods that take 2
> geometries as input) must be in the same SRS. So you have to transform one
> of
> them to the SRS of the other with TransformTo().
>



-- 
Gabriel Fusca
SUR Emprendimientos Tecnol?gicos

Per? 345  Piso 5to Oficina "B" (C1067AAG)
Ciudad de Buenos Aires, Argentina
Tel. +54 (11) 4342-2976/84
gabrielfusca at suremptec.com.ar
http://www.suremptec.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/4edc9d5f/attachment.html>

From even.rouault at mines-paris.org  Wed Sep  5 10:48:17 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 5 Sep 2012 19:48:17 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
	<1346837664.50471ca02e3fa@imp.free.fr>
	<CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>
Message-ID: <201209051948.17655.even.rouault@mines-paris.org>

Le mercredi 05 septembre 2012 11:44:50, Paul Meems a ?crit :
> Hi Even,
> 
> I need to convert the ECW file to GeoTiff because of license issues. It is
> extremely expensive to host ECW files on GeoServer.
> The converted GeoTiff is 100GB. GeoServer can only handle files up to 2GB
> so I need to create smaller tiles.

Understood

> That is what the python script will do for me. I'm hoping I can create
> GeoTiff tiles using the ECW directly without converting it to a large
> GeoTiff first.
> 
> I tried the files from http://www.gisinternals.com/sdk/ but that didn't
> help. I think my problem is more with Python.
> 
> After updating FWTools with the files from gisinternals I get this error:
> Traceback (most recent call last):
>   File "E:\PROGRA~1\FWTOOL~1.7\bin\gdal_retile.py", line 38, in <module>
>     import gdal
>   File "e:\PROGRA~1\FWTOOL~1.7\pymod\gdal.py", line 191, in <module>
>     import _gdal
> ImportError: No module named _gdal

Did you use the .bat that defines all the environment needed for FWTools ? 
Looks indeed as if Python doesn't know where to find the GDAL Python bindings.

But try using directly the deliveries of http://www.gisinternals.com/sdk/ and 
do not mix them with FWTools. The builds at gisinternals come with GDAL Python 
bindings too. You will need to install the Python version that matches the 
python version of the GDAL python bindings you installed.

For your needs, assuming you've installed Python 2.7, you would need :

http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-
mapserver-6-0\gdal-19-1600-core.msi
http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-
mapserver-6-0\gdal-19-1600-ecw.msi
http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-
mapserver-6-0\GDAL-1.9.1.win32-py2.7.msi


From chapmanm at pixia.com  Wed Sep  5 12:33:57 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Wed, 05 Sep 2012 15:33:57 -0400 (EDT)
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
Message-ID: <d2d135f9.00001948.00000008@CHAPMANM7S>

All,

 

I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7 x64
and the nmake.opt file does not seem to match the directory structure of
the latest GEOS.  Am I missing something simple?  Any help is much
appreciated.

 

Muchos gracias,

 

Martin

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/4f0d7966/attachment.html>

From even.rouault at mines-paris.org  Wed Sep  5 12:58:58 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 5 Sep 2012 21:58:58 +0200
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <d2d135f9.00001948.00000008@CHAPMANM7S>
References: <d2d135f9.00001948.00000008@CHAPMANM7S>
Message-ID: <201209052158.58519.even.rouault@mines-paris.org>

Le mercredi 05 septembre 2012 21:33:57, Martin Chapman a ?crit :
> All,
> 
> 
> 
> I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7 x64
> and the nmake.opt file does not seem to match the directory structure of
> the latest GEOS.  Am I missing something simple?  Any help is much
> appreciated.

The template in nmake.opt probably matches an older GEOS version. You have to 
make a few minor changes. Basically GEOS_CFLAGS must point to the location 
where geos_c.h is, and GEOS_LIB to the location where geos_c_i.lib is.

Please report the working setup once you managed to make it compile and link, 
so that nmake.opt can be updated with something more up-to-date.

> 
> 
> 
> Muchos gracias,
> 
> 
> 
> Martin

From chapmanm at pixia.com  Wed Sep  5 13:04:25 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Wed, 05 Sep 2012 16:04:25 -0400 (EDT)
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <201209052158.58519.even.rouault@mines-paris.org>
References: <d2d135f9.00001948.00000008@CHAPMANM7S>
	<201209052158.58519.even.rouault@mines-paris.org>
Message-ID: <772fef03.0000187c.0000000a@CHAPMANM7S>

I love this user group.  Thanks Even!

Best regards,
Martin

-----Original Message-----
From: Even Rouault [mailto:even.rouault at mines-paris.org]
Sent: Wednesday, September 05, 2012 1:59 PM
To: gdal-dev at lists.osgeo.org
Cc: Martin Chapman
Subject: Re: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91

Le mercredi 05 septembre 2012 21:33:57, Martin Chapman a ?crit :
> All,
>
>
>
> I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7
> x64 and the nmake.opt file does not seem to match the directory
> structure of the latest GEOS.  Am I missing something simple?  Any
> help is much appreciated.

The template in nmake.opt probably matches an older GEOS version. You have 
to make a few minor changes. Basically GEOS_CFLAGS must point to the 
location where geos_c.h is, and GEOS_LIB to the location where geos_c_i.lib 
is.

Please report the working setup once you managed to make it compile and 
link, so that nmake.opt can be updated with something more up-to-date.

>
>
>
> Muchos gracias,
>
>
>
> Martin

From chapmanm at pixia.com  Wed Sep  5 13:04:50 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Wed, 05 Sep 2012 16:04:50 -0400 (EDT)
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <5047AFF2.2000008@ualg.pt>
References: <d2d135f9.00001948.00000008@CHAPMANM7S> <5047AFF2.2000008@ualg.pt>
Message-ID: <92568e99.0000187c.0000000d@CHAPMANM7S>

I love this user group.  Thanks Joaquim!

 

Best regards,

Martin

 

 

From: Joaquim Luis [mailto:jluis at ualg.pt] 
Sent: Wednesday, September 05, 2012 2:03 PM
To: Martin Chapman
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91

 

On 05-09-2012 20:33, Martin Chapman wrote: 

All,

 

I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7 x64
and the nmake.opt file does not seem to match the directory structure of
the latest GEOS.  Am I missing something simple?  Any help is much
appreciated.

 

Muchos gracias,

 

Martin

 


Martin,

I have built GDAL trunk recently with GEOS 3.3.5 with no problems, but I
use a name coding for the dir where the libs are stored.
For example, for GEOS I have in my nmake.local

GEOS_DIR = C:\programs\compa_libs\geos-3.3.5\compileds
GEOS_CFLAGS = -I$(GEOS_DIR)/$(LIB_CC)/include -DHAVE_GEOS
GEOS_LIB     = $(GEOS_DIR)/$(LIB_CC)/lib/geos_c_i.lib

where $(LIB_CC) translates to 
VC10_64 or VC10_32
depending whether I'm building 32 or 64 bits versions
Off course, when I compiled GEOS, I stored the libs in
$(GEOS_DIR)/$(LIB_CC)/lib and the headers in $(GEOS_DIR)/$(LIB_CC)/include

Joaquim



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/c3a50cea/attachment.html>

From kyle at pobox.com  Wed Sep  5 13:16:14 2012
From: kyle at pobox.com (Kyle Shannon)
Date: Wed, 5 Sep 2012 14:16:14 -0600
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <92568e99.0000187c.0000000d@CHAPMANM7S>
References: <d2d135f9.00001948.00000008@CHAPMANM7S>
	<5047AFF2.2000008@ualg.pt> <92568e99.0000187c.0000000d@CHAPMANM7S>
Message-ID: <CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>

Martin,
Did you by chance use cmake to build geos?  I built 1.9.1 against geos
3.3.5, but used cmake when building geos.  It appears the output files are
named differently when cmake is used.  If you did use cmake, then it looks
like you need to specify:

GEOS_LIB = $(GEOS_DIR)/lib/geos_c.lib

if normal nmake was used without cmake generated files then it appears
geos_c_i.lib is the proper lib.

kss


On Wed, Sep 5, 2012 at 2:04 PM, Martin Chapman <chapmanm at pixia.com> wrote:

> I love this user group.  Thanks Joaquim!
>
>
>
> Best regards,
>
> Martin
>
>
>
>
>
> *From:* Joaquim Luis [mailto:jluis at ualg.pt]
> *Sent:* Wednesday, September 05, 2012 2:03 PM
> *To:* Martin Chapman
> *Cc:* gdal-dev at lists.osgeo.org
>
> *Subject:* Re: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
>
>
>
> On 05-09-2012 20:33, Martin Chapman wrote:
>
> All,
>
>
>
> I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7 x64
> and the nmake.opt file does not seem to match the directory structure of
> the latest GEOS.  Am I missing something simple?  Any help is much
> appreciated.
>
>
>
> Muchos gracias,
>
>
>
> Martin
>
>
>
>
> Martin,
>
> I have built GDAL trunk recently with GEOS 3.3.5 with no problems, but I
> use a name coding for the dir where the libs are stored.
> For example, for GEOS I have in my nmake.local
>
> GEOS_DIR = C:\programs\compa_libs\geos-3.3.5\compileds
> GEOS_CFLAGS = -I$(GEOS_DIR)/$(LIB_CC)/include -DHAVE_GEOS
> GEOS_LIB     = $(GEOS_DIR)/$(LIB_CC)/lib/geos_c_i.lib
>
> where $(LIB_CC) translates to
> VC10_64 or VC10_32
> depending whether I'm building 32 or 64 bits versions
> Off course, when I compiled GEOS, I stored the libs in
> $(GEOS_DIR)/$(LIB_CC)/lib and the headers in $(GEOS_DIR)/$(LIB_CC)/include
>
> Joaquim
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/cfc526e8/attachment.html>

From jluis at ualg.pt  Wed Sep  5 13:02:58 2012
From: jluis at ualg.pt (Joaquim Luis)
Date: Wed, 05 Sep 2012 21:02:58 +0100
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <d2d135f9.00001948.00000008@CHAPMANM7S>
References: <d2d135f9.00001948.00000008@CHAPMANM7S>
Message-ID: <5047AFF2.2000008@ualg.pt>

On 05-09-2012 20:33, Martin Chapman wrote:
>
> All,
>
> I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7 
> x64 and the nmake.opt file does not seem to match the directory 
> structure of the latest GEOS.  Am I missing something simple?  Any 
> help is much appreciated.
>
> Muchos gracias,
>
> Martin
>
>

Martin,

I have built GDAL trunk recently with GEOS 3.3.5 with no problems, but I 
use a name coding for the dir where the libs are stored.
For example, for GEOS I have in my nmake.local

GEOS_DIR = C:\programs\compa_libs\geos-3.3.5\compileds
GEOS_CFLAGS = -I$(GEOS_DIR)/$(LIB_CC)/include -DHAVE_GEOS
GEOS_LIB     = $(GEOS_DIR)/$(LIB_CC)/lib/geos_c_i.lib

where $(LIB_CC) translates to
VC10_64 or VC10_32
depending whether I'm building 32 or 64 bits versions
Off course, when I compiled GEOS, I stored the libs in 
$(GEOS_DIR)/$(LIB_CC)/lib and the headers in $(GEOS_DIR)/$(LIB_CC)/include

Joaquim


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120905/dd8eab25/attachment-0001.html>

From giuseppe.amatulli at gmail.com  Wed Sep  5 14:23:42 2012
From: giuseppe.amatulli at gmail.com (Giuseppe Amatulli)
Date: Wed, 5 Sep 2012 16:23:42 -0500
Subject: [gdal-dev] ogrinfo sql UPDATE
Message-ID: <CAKoiDHKXEF+aWU4jPuGk=pvyUmHcjc==FyS8H8F5zFoPv60Kbw@mail.gmail.com>

Hi
I would like to insert a column in a shape file and insert a specific
value on it.
I  succeed in insert the column by ogrinfo and sql by

ogrinfo wyoming.shp  -sql 'ALTER TABLE wyoming ADD COLUMN area real'

but than i  did not succeed in inserting the value.

ogrinfo wyoming.shp  -sql 'UPDATE wyoming SET area=1000  WHERE area is NULL'
ERROR 1: SQL Expression Parsing Error: syntax error

Is sql update supported or i miss something?

Thanks
Giuseppe


-- 
Giuseppe Amatulli
Web: www.spatial-ecology.net

From even.rouault at mines-paris.org  Wed Sep  5 14:31:43 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 5 Sep 2012 23:31:43 +0200
Subject: [gdal-dev] ogrinfo sql UPDATE
In-Reply-To: <CAKoiDHKXEF+aWU4jPuGk=pvyUmHcjc==FyS8H8F5zFoPv60Kbw@mail.gmail.com>
References: <CAKoiDHKXEF+aWU4jPuGk=pvyUmHcjc==FyS8H8F5zFoPv60Kbw@mail.gmail.com>
Message-ID: <201209052331.43493.even.rouault@mines-paris.org>


> ogrinfo wyoming.shp  -sql 'UPDATE wyoming SET area=1000  WHERE area is
> NULL' ERROR 1: SQL Expression Parsing Error: syntax error
> 
> Is sql update supported or i miss something?

UPDATE is not supported indeed.

The subset of SQL understood by OGR is documented at :

	http://gdal.org/ogr/ogr_sql.html


Note: if you use latest GDAL trunk, you will be able to use UPDATE statements 
by using the SQLite SQL dialect. See http://gdal.org/ogr/ogr_sql_sqlite.html


> 
> Thanks
> Giuseppe

From p.scadden at gns.cri.nz  Wed Sep  5 16:11:25 2012
From: p.scadden at gns.cri.nz (Phil Scadden)
Date: Thu, 06 Sep 2012 11:11:25 +1200
Subject: [gdal-dev] Odd behavior with OGR2OGR and arcSDE - tries to copy
	multiple layers.
Message-ID: <5047DC1D.6020404@gns.cri.nz>

If I copy a set from sde to postgis with:

ogr2ogr -f "PostgreSQL" PG:"host=myhost user=myuser dbname=mydb 
password=************** port=5432" -nln postgis_name 
SDE:SDE,5151,,*******,****,sde_name

then the process works but then it comes with a message
FAILED: layer aready exists and -append not specified, but reports that 
it is trying to copy a completely different layer from the one specified
in SDE. It is a valid sde layer. If I put -overwrite switch in, then 
something even more curious happens. It appears to go through all the 
layers in sde and one by one replaces the postgis layer with each (I 
discovered by interrupting the process or looking at data in postgis).

I am using GDAL from stable version of MS4W, with the sde dlls for 
arcSDE 9.3

-- 
Phil Scadden, Senior Scientist GNS Science Ltd 764 Cumberland St, 
Private Bag 1930, Dunedin, New Zealand Ph +64 3 4799663, fax +64 3 477 5232

Notice: This email and any attachments are confidential. If received in error please destroy and immediately notify us. Do not copy or disclose the contents.


From eadam at co.lincoln.or.us  Wed Sep  5 20:50:34 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Wed, 5 Sep 2012 20:50:34 -0700
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CAKvvP9iBr3qA-FvPQzh1wM7xMuAR8yXHfPhWGUTF7s0zap=0fg@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
	<CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
	<CAKvvP9iBr3qA-FvPQzh1wM7xMuAR8yXHfPhWGUTF7s0zap=0fg@mail.gmail.com>
Message-ID: <CACqBkM-NVHm2qOKarR7aVz9TUgAQz2yZdfzVCNEPZuBsAQVqHQ@mail.gmail.com>

Luis,

On Wed, Sep 5, 2012 at 3:00 AM, Luis Lisboa <luislisboa1975 at gmail.com> wrote:
> Thank you Chitanya.
> But it created an output file with two layers (one with the values from
> original file and another with a 255 for the pixels thar are inside KMZ
> file: How can I have produce one layer?

I may be thinking of something else based on your description.  If you
got an output that has the original values in the area of the kmz and
an alpha mask band over the other areas I think that would be
expected.  You can also use -crop_to_cutline to remove that 'extra'
data.

If that isn't what you are talking about, you may want to use ogr2ogr
to convert your kmz to a shapefile in the same projection as your
input raster and see if it gives you a better result.

Bests, Eli


> Thanks
> Luis
> On Mon, Sep 3, 2012 at 5:10 PM, Chaitanya kumar CH <chaitanya.ch at gmail.com>
> wrote:
>>
>> Luis,
>>
>> gdalwarp has some options for this exact purpose.
>> The cutline can be from any of the OGR readable datasource.
>>
>> http://www.gdal.org/gdalwarp.html
>>
>> On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com>
>> wrote:
>>>
>>> Greetings
>>> I have a raster file (Geotiff) and I have a KML file with a polygon and I
>>> want to cut raster map to only have valid values inside the polygon. How can
>>> I do this using just GDAL?
>>>
>>> Usually I used to cut geotiff file with gdalwarp and but in those cases I
>>> was cutting a square (xmin xmax ymin ymax) and in this case is a more
>>> complex polygon
>>>
>>> Thanks
>>> Regards,
>>> Luis
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>>
>>
>>
>> --
>> Best regards,
>> Chaitanya kumar CH.
>>
>> +91-9494447584
>> 17.2416N 80.1426E
>
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From chaitanya.ch at gmail.com  Wed Sep  5 21:50:54 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu, 6 Sep 2012 10:20:54 +0530
Subject: [gdal-dev] Odd behavior with OGR2OGR and arcSDE - tries to copy
 multiple layers.
In-Reply-To: <5047DC1D.6020404@gns.cri.nz>
References: <5047DC1D.6020404@gns.cri.nz>
Message-ID: <CAMKgpObqJOpzhK70Mb2-8+809z3HQGrYEWzwECBEJH8Rn5OYhg@mail.gmail.com>

Phil,

Try the same command with the ArcSDE layer name specified at the end for
ogr2ogr.

On Thu, Sep 6, 2012 at 4:41 AM, Phil Scadden <p.scadden at gns.cri.nz> wrote:

> If I copy a set from sde to postgis with:
>
> ogr2ogr -f "PostgreSQL" PG:"host=myhost user=myuser dbname=mydb
> password=************** port=5432" -nln postgis_name
> SDE:SDE,5151,,*******,****,sde_name
>
> then the process works but then it comes with a message
> FAILED: layer aready exists and -append not specified, but reports that
> it is trying to copy a completely different layer from the one specified
> in SDE. It is a valid sde layer. If I put -overwrite switch in, then
> something even more curious happens. It appears to go through all the
> layers in sde and one by one replaces the postgis layer with each (I
> discovered by interrupting the process or looking at data in postgis).
>
> I am using GDAL from stable version of MS4W, with the sde dlls for
> arcSDE 9.3
>
> --
> Phil Scadden, Senior Scientist GNS Science Ltd 764 Cumberland St,
> Private Bag 1930, Dunedin, New Zealand Ph +64 3 4799663, fax +64 3 477
> 5232
>
> Notice: This email and any attachments are confidential. If received in
> error please destroy and immediately notify us. Do not copy or disclose the
> contents.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/d6763de0/attachment.html>

From neelima.emmani at iictechnologies.com  Wed Sep  5 22:01:35 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Thu, 6 Sep 2012 05:01:35 +0000
Subject: [gdal-dev] gdal + C#
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467766647@IICEXHC01.iictechnologies.local>

Hi All,

Actually i want to access gespatial data using GDAL into C#. For this I tried to add gdal reference to C#. I took gdal1.9 download from gdal website. Inwhich i found gdai19.dll . And then tried to add this as a reference to c# . But unfortunately, C# is popping me up with an error msg.
Does anyone know how to read geospatial data into c#.
Awaiting reply.
With Regards,
Neelima Emmani
GIS Developer

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/4bcdc290/attachment.html>

From chaitanya.ch at gmail.com  Wed Sep  5 22:01:54 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu, 6 Sep 2012 10:31:54 +0530
Subject: [gdal-dev] gdal + C#
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D8658467766647@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467766647@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpOZU=v35ve2g4KUtSpJ+mjtJ3iZVsKptzXSe2+c32HSUhQ@mail.gmail.com>

Neelima,

Please go through the documentation in the website.
http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp

On Thu, Sep 6, 2012 at 10:31 AM, Neelima Emmani <
neelima.emmani at iictechnologies.com> wrote:

>  Hi All,
>
> Actually i want to access gespatial data using GDAL into C#. For this I
> tried to add gdal reference to C#. I took gdal1.9 download from gdal
> website. Inwhich i found gdai19.dll . And then tried to add this as a
> reference to c# . But unfortunately, C# is popping me up with an error msg.
> Does anyone know how to read geospatial data into c#.
> Awaiting reply.
> With Regards,
> Neelima Emmani
> GIS Developer
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/265d624a/attachment.html>

From p.scadden at gns.cri.nz  Wed Sep  5 22:11:34 2012
From: p.scadden at gns.cri.nz (Phil Scadden)
Date: Thu, 06 Sep 2012 17:11:34 +1200
Subject: [gdal-dev] Odd behavior with OGR2OGR and arcSDE - tries to copy
 multiple layers.
In-Reply-To: <CAMKgpObqJOpzhK70Mb2-8+809z3HQGrYEWzwECBEJH8Rn5OYhg@mail.gmail.com>
References: <5047DC1D.6020404@gns.cri.nz> 
	<CAMKgpObqJOpzhK70Mb2-8+809z3HQGrYEWzwECBEJH8Rn5OYhg@mail.gmail.com>
Message-ID: <50483086.7050403@gns.cri.nz>


>
> Try the same command with the ArcSDE layer name specified at the end 
> for ogr2ogr.
You  mean?
ogr2ogr -f "PostgreSQL" PG:"host=myhost user=myuser dbname=mydb 
password=************** port=5432" -nln postgis_name 
SDE:SDE,5151,,*******,****,sde_name sde_name

I wonder why "layer" in the SDE format string seemed to be optional.


Notice: This email and any attachments are confidential. If received in error please destroy and immediately notify us. Do not copy or disclose the contents.


From chaitanya.ch at gmail.com  Wed Sep  5 22:19:33 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu, 6 Sep 2012 10:49:33 +0530
Subject: [gdal-dev] Odd behavior with OGR2OGR and arcSDE - tries to copy
 multiple layers.
In-Reply-To: <50483086.7050403@gns.cri.nz>
References: <5047DC1D.6020404@gns.cri.nz>
	<CAMKgpObqJOpzhK70Mb2-8+809z3HQGrYEWzwECBEJH8Rn5OYhg@mail.gmail.com>
	<50483086.7050403@gns.cri.nz>
Message-ID: <CAMKgpOYK7UKvQraZE--i07Lod+dx-7YDYLPOMkDB6fg_=VV2Ng@mail.gmail.com>

Yes.

Perhaps the SDE driver is reading the other layers as well. In the docs it
says that specifying the layer name in the SDE string will make the driver
skip reading the summary metadata for other layers. But it may still report
the other layers to ogr2ogr.

So, specifying the layer to ogr2ogr will ensure that other layers are
skipped.

On Thu, Sep 6, 2012 at 10:41 AM, Phil Scadden <p.scadden at gns.cri.nz> wrote:

>
> >
> > Try the same command with the ArcSDE layer name specified at the end
> > for ogr2ogr.
> You  mean?
> ogr2ogr -f "PostgreSQL" PG:"host=myhost user=myuser dbname=mydb
> password=************** port=5432" -nln postgis_name
> SDE:SDE,5151,,*******,****,sde_name sde_name
>
> I wonder why "layer" in the SDE format string seemed to be optional.
>
>
> Notice: This email and any attachments are confidential. If received in
> error please destroy and immediately notify us. Do not copy or disclose the
> contents.
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/fdf1ee04/attachment-0001.html>

From chaitanya.ch at gmail.com  Wed Sep  5 22:56:02 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Thu, 6 Sep 2012 11:26:02 +0530
Subject: [gdal-dev] gdal + C#
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D865846776665D@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467766647@IICEXHC01.iictechnologies.local>
	<CAMKgpOZU=v35ve2g4KUtSpJ+mjtJ3iZVsKptzXSe2+c32HSUhQ@mail.gmail.com>
	<D3EBE7E9108B0A449C3D5A6A96D865846776665D@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpOb__NiJtK9KkQ+80JaSegyKfMwzuGt29u+2epBbJz1Dcw@mail.gmail.com>

Neelima,

GDAL's C# interface binaries are not maintained well. So it is better to
compile to get the latest version.

If you are going to use the dlls available elsewhere, make sure you have
them all.
http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpCompile#Compilingthecode shows
a list of those files.

On Thu, Sep 6, 2012 at 10:56 AM, Neelima Emmani <
neelima.emmani at iictechnologies.com> wrote:

>  Hi Chaitanya,
> Yeah, i went through the document and tried to compile gdal . And  gives
> me a nmake fatal error:1077 that it is not able to find swig.exe.Yes, in my
> folder of swig which is under gdal  doesnot consist of swig.exe, so, do i
> need to download it from external source. If so, even tried the same. But
> no result.
>
> My questions -
>
>    - Do i need to really compile the gdal-1.9.1
>    - Can i use few dll's that are available on net like gdal_csharp,
>    ogr_csharp, osr_csharp. But unfortunately, this option also did not work
>    for me. Here, the C# accepted dlls. But popping up an error, when i ask it
>    to ogr.registerall() or when i use any other gdal inbuilt functionalities.
>
> awaiting reply.
>  With Regards,
> Neelima Emmani
> GIS Developer
>   ------------------------------
> *From:* Chaitanya kumar CH [chaitanya.ch at gmail.com]
> *Sent:* Thursday, September 06, 2012 10:31 AM
> *To:* Neelima Emmani
> *Cc:* gdal-dev at lists.osgeo.org
> *Subject:* Re: [gdal-dev] gdal + C#
>
>  Neelima,
>
> Please go through the documentation in the website.
> http://trac.osgeo.org/gdal/wiki/GdalOgrInCsharp
>
> On Thu, Sep 6, 2012 at 10:31 AM, Neelima Emmani <
> neelima.emmani at iictechnologies.com> wrote:
>
>>  Hi All,
>>
>> Actually i want to access gespatial data using GDAL into C#. For this I
>> tried to add gdal reference to C#. I took gdal1.9 download from gdal
>> website. Inwhich i found gdai19.dll . And then tried to add this as a
>> reference to c# . But unfortunately, C# is popping me up with an error msg.
>> Does anyone know how to read geospatial data into c#.
>> Awaiting reply.
>> With Regards,
>> Neelima Emmani
>> GIS Developer
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>

-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/5c977bc4/attachment.html>

From neelima.emmani at iictechnologies.com  Thu Sep  6 00:09:23 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Thu, 6 Sep 2012 07:09:23 +0000
Subject: [gdal-dev] gdal + C#
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467766685@IICEXHC01.iictechnologies.local>

Hi Chaitanya & All,
In my GDAL1.9 version, I have a swig folder. And according to the below link
http://trac.osgeo.org/gdal/wiki/GdalOgrCsharpCompile#Compilingthecode
It says, that i need to download swigwin-1.3.31 package. My question is do i need to overwrite the existing swig folder with this downloaded  swigwin-1.3.31.
Awaiting reply.

With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/88b22cce/attachment.html>

From bontepaarden at gmail.com  Thu Sep  6 00:18:57 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu, 6 Sep 2012 09:18:57 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <201209051948.17655.even.rouault@mines-paris.org>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
	<1346837664.50471ca02e3fa@imp.free.fr>
	<CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>
	<201209051948.17655.even.rouault@mines-paris.org>
Message-ID: <CAHNf2YSAWYm5rsi6FMDLq8MB7YYe9pwtpxRAuTe_xRoE-G3pGg@mail.gmail.com>

Thanks Even for all your help.
But I'm still having trouble.

I've made sure all possible Python installs are removed. Deleted all Python
folders, OSGeo4W folders, uninstalled QGIS.
Next I downloaded and installed python-2.7.3.amd64.msi to E:\Python27
Next gdal-19-1600-core.msi. Full install, couldn't set location
Next gdal-19-1600-ecw.msi
Next GDAL-1.9.1.win32-py2.7.msi. This time I got a red cross in the
components panel. I selected 'Install on HD' and put on the bottom
E:\Python27 as the location.

I did a quick test with gdalinfo using the GDAL Command prompt in my Start
menu and that worked. So I assume GDAL is installed correctly.
Next I call gdal_retile.py on this Command prompt and I get this error:
Traceback (most recent call last):
  File "C:\Program Files (x86)\GDAL\gdal_retile.py", line 38, in <module>
    import gdal
  File "E:\Python27\lib\site-packages\gdal.py", line 2, in <module>
    from osgeo.gdal import deprecation_warn
  File "E:\Python27\lib\site-packages\osgeo\__init__.py", line 21, in
<module>
    _gdal = swig_import_helper()
  File "E:\Python27\lib\site-packages\osgeo\__init__.py", line 17, in
swig_impor
t_helper
    _mod = imp.load_module('_gdal', fp, pathname, description)
ImportError: DLL load failed: %1 is not a valid Win32-application.

So it seems Python is still not correctly installed for GDAL.
I do see C:\Program Files (x86)\GDAL; in my PATH, but not Python. Should I
add it?

I think the problem is with the location of GDAL-1.9.1.win32-py2.7.msi. How
should I install this properly? Leave the default setting and don't install
it?
Change the location the my Python27 folder or to my GDAL folder?

Thanks,

Paul

2012/9/5 Even Rouault <even.rouault at mines-paris.org>

> Le mercredi 05 septembre 2012 11:44:50, Paul Meems a ?crit :
> > Hi Even,
> >
> > I need to convert the ECW file to GeoTiff because of license issues. It
> is
> > extremely expensive to host ECW files on GeoServer.
> > The converted GeoTiff is 100GB. GeoServer can only handle files up to 2GB
> > so I need to create smaller tiles.
>
> Understood
>
> > That is what the python script will do for me. I'm hoping I can create
> > GeoTiff tiles using the ECW directly without converting it to a large
> > GeoTiff first.
> >
> > I tried the files from http://www.gisinternals.com/sdk/ but that didn't
> > help. I think my problem is more with Python.
> >
> > After updating FWTools with the files from gisinternals I get this error:
> > Traceback (most recent call last):
> >   File "E:\PROGRA~1\FWTOOL~1.7\bin\gdal_retile.py", line 38, in <module>
> >     import gdal
> >   File "e:\PROGRA~1\FWTOOL~1.7\pymod\gdal.py", line 191, in <module>
> >     import _gdal
> > ImportError: No module named _gdal
>
> Did you use the .bat that defines all the environment needed for FWTools ?
> Looks indeed as if Python doesn't know where to find the GDAL Python
> bindings.
>
> But try using directly the deliveries of http://www.gisinternals.com/sdk/and
> do not mix them with FWTools. The builds at gisinternals come with GDAL
> Python
> bindings too. You will need to install the Python version that matches the
> python version of the GDAL python bindings you installed.
>
> For your needs, assuming you've installed Python 2.7, you would need :
>
> http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-
> mapserver-6-0\gdal-19-1600-core.msi<http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-%0Amapserver-6-0%5Cgdal-19-1600-core.msi>
> http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-
> mapserver-6-0\gdal-19-1600-ecw.msi<http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-%0Amapserver-6-0%5Cgdal-19-1600-ecw.msi>
> http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-
> mapserver-6-0\GDAL-1.9.1.win32-py2.7.msi<http://www.gisinternals.com/sdk/Download.aspx?file=release-1600-gdal-1-9-%0Amapserver-6-0%5CGDAL-1.9.1.win32-py2.7.msi>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/121a89bb/attachment.html>

From even.rouault at mines-paris.org  Thu Sep  6 00:26:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 06 Sep 2012 09:26:59 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <CAHNf2YSAWYm5rsi6FMDLq8MB7YYe9pwtpxRAuTe_xRoE-G3pGg@mail.gmail.com>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
	<1346837664.50471ca02e3fa@imp.free.fr>
	<CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>
	<201209051948.17655.even.rouault@mines-paris.org>
	<CAHNf2YSAWYm5rsi6FMDLq8MB7YYe9pwtpxRAuTe_xRoE-G3pGg@mail.gmail.com>
Message-ID: <1346916419.504850439c77d@imp.free.fr>

Selon Paul Meems <bontepaarden at gmail.com>:

> Thanks Even for all your help.
> But I'm still having trouble.

You've downloaded a 64-bit version of python (python-2.7.3.amd64.msi), and are
trying to use it with a 32-bit build of that GDAL Python bindings
(GDAL-1.9.1.win32-py2.7.msi). That can't work.

Either you use 64-bit Python and 64-bit GDAL, or 32-bit Python with 32-bit GDAL.

From bontepaarden at gmail.com  Thu Sep  6 00:47:36 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Thu, 6 Sep 2012 09:47:36 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <1346916419.504850439c77d@imp.free.fr>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
	<1346837664.50471ca02e3fa@imp.free.fr>
	<CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>
	<201209051948.17655.even.rouault@mines-paris.org>
	<CAHNf2YSAWYm5rsi6FMDLq8MB7YYe9pwtpxRAuTe_xRoE-G3pGg@mail.gmail.com>
	<1346916419.504850439c77d@imp.free.fr>
Message-ID: <CAHNf2YSRYH5otVhAjbTDPMv0ooxPMtLGs1S71z6ZU5JMDBvyxg@mail.gmail.com>

Even,

Thanks again. That was the problem.
I uninstalled Python and installed the 32-bit version.
Next I uninstalled GDAL-1.9.1.win32-py2.7 and installed it again.
Now my Python installation is found.

My ecw file is now being tiled.

If you are ever in The Netherlands I'll by you a beer!

Thanks,

Paul


2012/9/6 Even Rouault <even.rouault at mines-paris.org>

> Selon Paul Meems <bontepaarden at gmail.com>:
>
> > Thanks Even for all your help.
> > But I'm still having trouble.
>
> You've downloaded a 64-bit version of python (python-2.7.3.amd64.msi), and
> are
> trying to use it with a 32-bit build of that GDAL Python bindings
> (GDAL-1.9.1.win32-py2.7.msi). That can't work.
>
> Either you use 64-bit Python and 64-bit GDAL, or 32-bit Python with 32-bit
> GDAL.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/fa928c08/attachment-0001.html>

From mateusz at loskot.net  Thu Sep  6 03:35:40 2012
From: mateusz at loskot.net (Mateusz Loskot)
Date: Thu, 6 Sep 2012 11:35:40 +0100
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>
References: <d2d135f9.00001948.00000008@CHAPMANM7S> <5047AFF2.2000008@ualg.pt>
	<92568e99.0000187c.0000000d@CHAPMANM7S>
	<CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>
Message-ID: <CABUeae-8yNS2zp951Z-tQduTf=o2CP0hrssJtqoCaawU5Dnbuw@mail.gmail.com>

On 5 September 2012 21:16, Kyle Shannon <kyle at pobox.com> wrote:

> Martin,
> Did you by chance use cmake to build geos?  I built 1.9.1 against geos
> 3.3.5, but used cmake when building geos.  It appears the output files are
> named differently when cmake is used.  If you did use cmake, then it looks
> like you need to specify:
>


Please, remember CMake config for GEOS is experimental.
(I put big red message on the GEOS wiki, but some may oversight it.)
If you encounter any problems with it, please report ticket to GEOS.

Best regards,
-- 
Mateusz Loskot, http://mateusz.loskot.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/7f6ebca7/attachment.html>

From alisson.uece at gmail.com  Thu Sep  6 06:59:37 2012
From: alisson.uece at gmail.com (Alisson Barbosa)
Date: Thu, 6 Sep 2012 10:59:37 -0300
Subject: [gdal-dev] DBF file associated with Raster
Message-ID: <CALwK9Yxmv5vUEmAM3U9b-mx-ibX6U9t7mtNCizEJQ_4PEeaaAw@mail.gmail.com>

Hi,

I want to know how to read the attributes of a dbf file associated with a
raster using GDAL.

Regards,
-- 
Alisson Barbosa
Systems Analyst - FUNCEME - Brazil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/bd121f1f/attachment.html>

From ivan.lucena at princeton-ma.us  Thu Sep  6 09:01:55 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Thu, 06 Sep 2012 11:01:55 -0500
Subject: [gdal-dev] =?iso-8859-1?q?DBF_file_associated_with_Raster?=
In-Reply-To: <CALwK9Yxmv5vUEmAM3U9b-mx-ibX6U9t7mtNCizEJQ_4PEeaaAw@mail.gmail.com>
References: <CALwK9Yxmv5vUEmAM3U9b-mx-ibX6U9t7mtNCizEJQ_4PEeaaAw@mail.gmail.com>
Message-ID: <20120906160156.9960.qmail@s466.sureserver.com>

Hi Alisson,

How did that dbf was create? 

Can you run ogrinfo and report it back to us?

gdalinfo file-name.dbf

Is there a .shp file associated with that dbf?

Regards,

Ivan

>  -------Original Message-------
>  From: Alisson Barbosa <alisson.uece at gmail.com>
>  To: gdal-dev at lists.osgeo.org
>  Subject: [gdal-dev] DBF file associated with Raster
>  Sent: Sep 06 '12 08:59
>  
>  Hi,
>  
>  I want to know how to read the attributes of a dbf file associated with a
>  raster using GDAL.
>  
>  Regards,
>  --
>  Alisson Barbosa
>  Systems Analyst - FUNCEME - Brazil
>  
>  
>  --------------------
>  _______________________________________________
>  gdal-dev mailing list
>  [LINK: compose.php?to=gdal-dev at lists.osgeo.org] gdal-dev at lists.osgeo.org
>  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Thu Sep  6 09:05:32 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 06 Sep 2012 18:05:32 +0200
Subject: [gdal-dev] DBF file associated with Raster
In-Reply-To: <20120906160156.9960.qmail@s466.sureserver.com>
References: <CALwK9Yxmv5vUEmAM3U9b-mx-ibX6U9t7mtNCizEJQ_4PEeaaAw@mail.gmail.com>
	<20120906160156.9960.qmail@s466.sureserver.com>
Message-ID: <1346947532.5048c9ccd15d9@imp.free.fr>

Selon Ivan Lucena <ivan.lucena at princeton-ma.us>:

> Hi Alisson,
>
> How did that dbf was create?
>
> Can you run ogrinfo and report it back to us?
>
> gdalinfo file-name.dbf

Ivan certainly meant : ogrinfo file-name.dbf

>
> Is there a .shp file associated with that dbf?

To my knowledge, there's no GDAL driver that directly manages attributes that
would be associated and contained in a DBF file. The correlation between the
raster and attribute information must be done by the user and/or other tools.

>
> Regards,
>
> Ivan
>
> >  -------Original Message-------
> >  From: Alisson Barbosa <alisson.uece at gmail.com>
> >  To: gdal-dev at lists.osgeo.org
> >  Subject: [gdal-dev] DBF file associated with Raster
> >  Sent: Sep 06 '12 08:59
> >
> >  Hi,
> >
> >  I want to know how to read the attributes of a dbf file associated with a
> >  raster using GDAL.
> >
> >  Regards,
> >  --
> >  Alisson Barbosa
> >  Systems Analyst - FUNCEME - Brazil
> >
> >
> >  --------------------
> >  _______________________________________________
> >  gdal-dev mailing list
> >  [LINK: compose.php?to=gdal-dev at lists.osgeo.org] gdal-dev at lists.osgeo.org
> >  [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
> >  http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From chapmanm at pixia.com  Thu Sep  6 12:09:51 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu, 06 Sep 2012 15:09:51 -0400 (EDT)
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>
References: <d2d135f9.00001948.00000008@CHAPMANM7S> <5047AFF2.2000008@ualg.pt>
	<92568e99.0000187c.0000000d@CHAPMANM7S>
	<CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>
Message-ID: <0ba6bb33.00001740.00000011@CHAPMANM7S>

That worked.  Thanks for all your help.

 

Martin

 

From: Kyle Shannon [mailto:kyle at pobox.com] 
Sent: Wednesday, September 05, 2012 2:16 PM
To: Martin Chapman
Cc: Joaquim Luis; gdal-dev at lists.osgeo.org; outramk at pixia.com
Subject: Re: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91

 

Martin,

Did you by chance use cmake to build geos?  I built 1.9.1 against geos
3.3.5, but used cmake when building geos.  It appears the output files are
named differently when cmake is used.  If you did use cmake, then it looks
like you need to specify:

 

GEOS_LIB = $(GEOS_DIR)/lib/geos_c.lib

 

if normal nmake was used without cmake generated files then it appears
geos_c_i.lib is the proper lib.

 

kss

 

On Wed, Sep 5, 2012 at 2:04 PM, Martin Chapman <chapmanm at pixia.com> wrote:

I love this user group.  Thanks Joaquim!

 

Best regards,

Martin

 

 

From: Joaquim Luis [mailto:jluis at ualg.pt] 
Sent: Wednesday, September 05, 2012 2:03 PM
To: Martin Chapman
Cc: gdal-dev at lists.osgeo.org


Subject: Re: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91

 

On 05-09-2012 20:33, Martin Chapman wrote: 

All,

 

I am trying to compile GDAL 1.91 with GEOS version 3.3.5 on windows 7 x64
and the nmake.opt file does not seem to match the directory structure of
the latest GEOS.  Am I missing something simple?  Any help is much
appreciated.

 

Muchos gracias,

 

Martin

 


Martin,

I have built GDAL trunk recently with GEOS 3.3.5 with no problems, but I
use a name coding for the dir where the libs are stored.
For example, for GEOS I have in my nmake.local

GEOS_DIR = C:\programs\compa_libs\geos-3.3.5\compileds
GEOS_CFLAGS = -I$(GEOS_DIR)/$(LIB_CC)/include -DHAVE_GEOS
GEOS_LIB     = $(GEOS_DIR)/$(LIB_CC)/lib/geos_c_i.lib

where $(LIB_CC) translates to 
VC10_64 or VC10_32
depending whether I'm building 32 or 64 bits versions
Off course, when I compiled GEOS, I stored the libs in
$(GEOS_DIR)/$(LIB_CC)/lib and the headers in $(GEOS_DIR)/$(LIB_CC)/include

Joaquim


_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120906/44dca05f/attachment.html>

From jmckenna at gatewaygeomatics.com  Thu Sep  6 12:15:28 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 06 Sep 2012 16:15:28 -0300
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <0ba6bb33.00001740.00000011@CHAPMANM7S>
References: <d2d135f9.00001948.00000008@CHAPMANM7S> <5047AFF2.2000008@ualg.pt>
	<92568e99.0000187c.0000000d@CHAPMANM7S>
	<CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>
	<0ba6bb33.00001740.00000011@CHAPMANM7S>
Message-ID: <5048F650.2000903@gatewaygeomatics.com>

On 12-09-06 4:09 PM, Martin Chapman wrote:
> That worked.  Thanks for all your help.

Martin: might be an excellent time to record your findings on a new
'GEOS' buildhints page on the GDAL wiki at:
http://trac.osgeo.org/gdal/wiki/BuildHints

I know myself I live by those hints, and add to them (so others can
follow as well).

This is also good for your FOSS4G karma :)

Thanks!

-jeff



-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/



From chapmanm at pixia.com  Thu Sep  6 17:57:39 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Thu, 06 Sep 2012 20:57:39 -0400 (EDT)
Subject: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91
In-Reply-To: <5048F650.2000903@gatewaygeomatics.com>
References: <d2d135f9.00001948.00000008@CHAPMANM7S>
	<5047AFF2.2000008@ualg.pt>	<92568e99.0000187c.0000000d@CHAPMANM7S>	<CAJ0mEz2PcqkB+LQOwBGMuoY_Ua9mgoeTxufU-HMCgHpck8=ExA@mail.gmail.com>	<0ba6bb33.00001740.00000011@CHAPMANM7S>
	<5048F650.2000903@gatewaygeomatics.com>
Message-ID: <76635cde.00001580.0000000c@CHAPMANM7S>

Jeff,

Absolutely.  I am just waiting for some final testing to confirm all is
good and then I will post the instructions.  I had someone at work help me
out so I need to get the final instructions of exactly what she did before
I post.

Martin

-----Original Message-----
From: gdal-dev-bounces at lists.osgeo.org
[mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Jeff McKenna
Sent: Thursday, September 06, 2012 1:15 PM
To: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] GEOS Ver 3.3.5 and GDAL Ver 1.91

On 12-09-06 4:09 PM, Martin Chapman wrote:
> That worked.  Thanks for all your help.

Martin: might be an excellent time to record your findings on a new 'GEOS'
buildhints page on the GDAL wiki at:
http://trac.osgeo.org/gdal/wiki/BuildHints

I know myself I live by those hints, and add to them (so others can follow
as well).

This is also good for your FOSS4G karma :)

Thanks!

-jeff



--
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/


_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ivan.lucena at princeton-ma.us  Thu Sep  6 18:52:47 2012
From: ivan.lucena at princeton-ma.us (Ivan Lucena)
Date: Thu, 06 Sep 2012 21:52:47 -0400
Subject: [gdal-dev] DBF file associated with Raster
In-Reply-To: <1346947532.5048c9ccd15d9@imp.free.fr>
References: <CALwK9Yxmv5vUEmAM3U9b-mx-ibX6U9t7mtNCizEJQ_4PEeaaAw@mail.gmail.com>
	<20120906160156.9960.qmail@s466.sureserver.com>
	<1346947532.5048c9ccd15d9@imp.free.fr>
Message-ID: <5049536F.1080102@princeton-ma.us>

Hi Even,

On 9/6/12 12:05 PM, Even Rouault wrote:
> Selon Ivan Lucena <ivan.lucena at princeton-ma.us>:
>
>> Hi Alisson,
>>
>> How did that dbf was create?
>>
>> Can you run ogrinfo and report it back to us?
>>
>> gdalinfo file-name.dbf
> Ivan certainly meant : ogrinfo file-name.dbf
Oops.

What as I thinking? :|

That is right Allison. I meant to say ogrinfo.

>> Is there a .shp file associated with that dbf?
> To my knowledge, there's no GDAL driver that directly manages attributes that
> would be associated and contained in a DBF file. The correlation between the
> raster and attribute information must be done by the user and/or other tools.

I vaguely remember that some GIS software used to create a raster 
attribute table in DBF when the image was thematic or if it has some 
histogram associated. Was it ArcView by any chance? Since Allison is in 
Brazil, another possibility is that the raster is associated with DBF 
through SPRING or TerraLib. If that is the case GDAL is not going to 
read it. But that is also old school. I don't think they use DBF it 
anymore. There is just one thing that keep DBF alive and that is the 
Shapefiles.

Anyway, there is just a few drivers in GDAL that support Raster 
Attribute Table:

$ grep -l GDALRasterAttributeTable frmts/*/*.cpp
frmts/aigrid/aigdataset.cpp
frmts/georaster/georaster_dataset.cpp
frmts/hfa/hfadataset.cpp
frmts/idrisi/IdrisiDataset.cpp
frmts/raw/idadataset.cpp

But they store the RAT on their own data storage. Not on DBF files. I 
wrote two of those drivers and I think I could identify a RAT if you 
send the ogrinfo report.

So if you got a .TIF, for example, with a .DBF associated to it (same 
base name) hopefully you could convert the data to one of those formats 
then GDAL will be able to read it.

Another possibility is that the GDAL PAMDataset could store RAT in 
auxiliary xml files, so you can keep the raster data as it is. The 
problem is that you would need to convert the content of your DBF to the 
PAMDataset schema.

Does it makes sense Even?

Regards,

Ivan

>
>> Regards,
>>
>> Ivan
>>
>>>   -------Original Message-------
>>>   From: Alisson Barbosa <alisson.uece at gmail.com>
>>>   To: gdal-dev at lists.osgeo.org
>>>   Subject: [gdal-dev] DBF file associated with Raster
>>>   Sent: Sep 06 '12 08:59
>>>
>>>   Hi,
>>>
>>>   I want to know how to read the attributes of a dbf file associated with a
>>>   raster using GDAL.
>>>
>>>   Regards,
>>>   --
>>>   Alisson Barbosa
>>>   Systems Analyst - FUNCEME - Brazil
>>>
>>>
>>>   --------------------
>>>   _______________________________________________
>>>   gdal-dev mailing list
>>>   [LINK: compose.php?to=gdal-dev at lists.osgeo.org] gdal-dev at lists.osgeo.org
>>>   [LINK: http://lists.osgeo.org/mailman/listinfo/gdal-dev]
>>>   http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>


From neelima.emmani at iictechnologies.com  Thu Sep  6 23:02:18 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Fri, 7 Sep 2012 06:02:18 +0000
Subject: [gdal-dev] gdal dataset
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D865846777BAE0@IICEXHC01.iictechnologies.local>

Hi All,
I have generated gdal , ogr , osr dlls and added them to my c# project. Now i am trying to run the application that is given in gdal download which is named as gdalread.cs.When I run it , it is asking for a dataset . Can any one let me know if i have to specify filename over here. Actually i want to read enc file which has s57 datset. So, I am confused if i need to specify filelname or s57 over here.
Awaiting reply.

With Regards,
Neelima Emmani
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120907/1633ba28/attachment.html>

From chaitanya.ch at gmail.com  Thu Sep  6 23:34:36 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri, 7 Sep 2012 12:04:36 +0530
Subject: [gdal-dev] gdal dataset
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D865846777BAE0@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D865846777BAE0@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpOacmLnMmzAjjQ8Ztfdqb5SEz28rGP3x0U4o8W5-My=+jQ@mail.gmail.com>

Neelima,

For me specifying the .000 file to ogrinfo and ogr2ogr worked.

On Fri, Sep 7, 2012 at 11:32 AM, Neelima Emmani <
neelima.emmani at iictechnologies.com> wrote:

>  Hi All,
> I have generated gdal , ogr , osr dlls and added them to my c# project.
> Now i am trying to run the application that is given in gdal download which
> is named as gdalread.cs.When I run it , it is asking for a dataset . Can
> any one let me know if i have to specify filename over here. Actually i
> want to read enc file which has s57 datset. So, I am confused if i need to
> specify filelname or s57 over here.
> Awaiting reply.
>
> With Regards,
> Neelima Emmani
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120907/570273fa/attachment-0001.html>

From even.rouault at mines-paris.org  Thu Sep  6 23:39:27 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 07 Sep 2012 08:39:27 +0200
Subject: [gdal-dev] DBF file associated with Raster
In-Reply-To: <5049536F.1080102@princeton-ma.us>
References: <CALwK9Yxmv5vUEmAM3U9b-mx-ibX6U9t7mtNCizEJQ_4PEeaaAw@mail.gmail.com>
	<20120906160156.9960.qmail@s466.sureserver.com>
	<1346947532.5048c9ccd15d9@imp.free.fr>
	<5049536F.1080102@princeton-ma.us>
Message-ID: <1346999967.5049969f56718@imp.free.fr>


> Another possibility is that the GDAL PAMDataset could store RAT in
> auxiliary xml files, so you can keep the raster data as it is. The
> problem is that you would need to convert the content of your DBF to the
> PAMDataset schema.
>
> Does it makes sense Even?

Yes, I was also thinking to some sort of Raster Attribute Table, but didn't want
to pronounce such a "big word" without more information ;-)

If it is some kind of RAT, it might be possible to convert it to the PAM format,
but as there's no tool to do that, that needs some scripting skills. And I'm not
sure that many tools make actual use of GDAL RAT, so the usefulness might be
limited. Depending on the intended usage, it might be sufficient to deal with
the raster and the vector separately : for example, opening the DBF as an
attribute table in QGIS and using the picking tool of QGIS to read the value of
a pixel, and making the correlation manually.

From chaitanya.ch at gmail.com  Fri Sep  7 00:20:48 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri, 7 Sep 2012 12:50:48 +0530
Subject: [gdal-dev] gdal dataset
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D865846777BAFD@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D865846777BAE0@IICEXHC01.iictechnologies.local>
	<CAMKgpOacmLnMmzAjjQ8Ztfdqb5SEz28rGP3x0U4o8W5-My=+jQ@mail.gmail.com>
	<D3EBE7E9108B0A449C3D5A6A96D865846777BAFD@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpObqPrd4sR1NWc-Ha+9pK5+P-A4xwXfN5Ob2bqTf-K8D3Q@mail.gmail.com>

Neelima,

Perhaps I didn't understand your question.

You said that it was asking for a dataset. How did it ask?
What were the error messages you got?

In your future queries, please include as much information as you can
provide.

On Fri, Sep 7, 2012 at 12:42 PM, Neelima Emmani <
neelima.emmani at iictechnologies.com> wrote:

>  Hi Chaitanya,
> How did you  do that. What version of gdal are you using. Can you please
> share your code snipplet with me.
>
> With Regards,
> Neelima Emmani
>
>   ------------------------------
> *From:* Chaitanya kumar CH [chaitanya.ch at gmail.com]
> *Sent:* Friday, September 07, 2012 12:04 PM
> *To:* Neelima Emmani
> *Cc:* gdal-dev at lists.osgeo.org
> *Subject:* Re: [gdal-dev] gdal dataset
>
>  Neelima,
>
> For me specifying the .000 file to ogrinfo and ogr2ogr worked.
>
> On Fri, Sep 7, 2012 at 11:32 AM, Neelima Emmani <
> neelima.emmani at iictechnologies.com> wrote:
>
>>  Hi All,
>> I have generated gdal , ogr , osr dlls and added them to my c# project.
>> Now i am trying to run the application that is given in gdal download which
>> is named as gdalread.cs.When I run it , it is asking for a dataset . Can
>> any one let me know if i have to specify filename over here. Actually i
>> want to read enc file which has s57 datset. So, I am confused if i need to
>> specify filelname or s57 over here.
>> Awaiting reply.
>>
>> With Regards,
>> Neelima Emmani
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120907/3ed3173f/attachment.html>

From neelima.emmani at iictechnologies.com  Fri Sep  7 04:07:29 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Fri, 7 Sep 2012 11:07:29 +0000
Subject: [gdal-dev] gdal error
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D865846777BB2B@IICEXHC01.iictechnologies.local>

Hi
when I try to invoke Gdal.AllRegister I get the below error:
The type initializer for OSGeo.GDAL.GdalPINVOKE threw an exception.
When i checked for a online solution, they said that it is looking for gdal_wrap.dll.
Yes, my project does not contain any gdal_wrap.dll.

First thing is that, when i try to create a interface with
nmake /f makefile.vc interface.
Things are fine.There was no error. Here I also have a question, How do i check if this step of inerface is successful.
And then i went with next step
C:\GDAL\swig\csharp> nmake /f makefile.vc
At this step, i am getting errors in gdal_wrap.cpp.It says at line 448 , it is unable to convert 'cplxmlnode *' to '_cplxmlnode *'. Can any one  me in solving this.

Secondly, in the mean time I tried to generate dlls from C#. And was successful in making gdal, osr & ogr dlls for csharp. And then tried to run an application given by gdal i.e., gdalread.cs. It gave me error as said in the start of this mail message.
If i am not clear, please let me know.
Awaiting reply.
With Regards,
Neelima Emmani

________________________________
From: Chaitanya kumar CH [chaitanya.ch at gmail.com]
Sent: Friday, September 07, 2012 12:50 PM
To: Neelima Emmani
Cc: gdal dev
Subject: Re: [gdal-dev] gdal dataset

Neelima,

Perhaps I didn't understand your question.

You said that it was asking for a dataset. How did it ask?
What were the error messages you got?

In your future queries, please include as much information as you can provide.

On Fri, Sep 7, 2012 at 12:42 PM, Neelima Emmani <neelima.emmani at iictechnologies.com<mailto:neelima.emmani at iictechnologies.com>> wrote:
Hi Chaitanya,
How did you  do that. What version of gdal are you using. Can you please share your code snipplet with me.

With Regards,
Neelima Emmani

________________________________
From: Chaitanya kumar CH [chaitanya.ch at gmail.com<mailto:chaitanya.ch at gmail.com>]
Sent: Friday, September 07, 2012 12:04 PM
To: Neelima Emmani
Cc: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] gdal dataset

Neelima,

For me specifying the .000 file to ogrinfo and ogr2ogr worked.

On Fri, Sep 7, 2012 at 11:32 AM, Neelima Emmani <neelima.emmani at iictechnologies.com<mailto:neelima.emmani at iictechnologies.com>> wrote:
Hi All,
I have generated gdal , ogr , osr dlls and added them to my c# project. Now i am trying to run the application that is given in gdal download which is named as gdalread.cs.When I run it , it is asking for a dataset . Can any one let me know if i have to specify filename over here. Actually i want to read enc file which has s57 datset. So, I am confused if i need to specify filelname or s57 over here.
Awaiting reply.

With Regards,
Neelima Emmani

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev



--
Best regards,
Chaitanya kumar CH.

+91-9494447584<tel:%2B91-9494447584>
17.2416N 80.1426E



--
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120907/68a74d9a/attachment.html>

From dleimbach at zebris.com  Fri Sep  7 04:42:54 2012
From: dleimbach at zebris.com (David1980)
Date: Fri, 7 Sep 2012 04:42:54 -0700 (PDT)
Subject: [gdal-dev] Compile GDAL with HDF4 and Shapefile-Support (64bit)
In-Reply-To: <1346160545474-4998322.post@n6.nabble.com>
References: <1346149440153-4998275.post@n6.nabble.com>
	<1346157189.503cba85827aa@imp.free.fr>
	<1346160545474-4998322.post@n6.nabble.com>
Message-ID: <1347018174641-5000403.post@n6.nabble.com>

Maybe I need an older version of the C#-GDAL-bindings in order to use the
version included in FW-Tools ?
Since the code for loading GDAL is quite simple and works with newer
GDAL-versions (32 / 64 bit) that seems to be the most likely reason for me. 

Has anybody used (version 1.7 32bit / FW-Tools-)GDAL in C# (or another
Visual Studio language) with raster- and vector-graphics at the same time ?
Then it might be helpfull for me to know the version and source of the
bindings used. :)



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/Compile-GDAL-with-HDF4-and-Shapefile-Support-64bit-tp4998275p5000403.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jukka.rahkonen at mmmtike.fi  Fri Sep  7 05:51:24 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 7 Sep 2012 12:51:24 +0000 (UTC)
Subject: [gdal-dev] Rasterlite driver does not create layer statistics
Message-ID: <loom.20120907T143841-963@post.gmane.org>

Hi,

Even wrote a few weeks ago:

" I've just pushed an improvement (r24800) in which the SQLite driver can use 
those cached values, if they are up-to-date. The up-to-dateness is determined 
by checking that the timestamp of the last 'UpdateLayerStatistics' event 
recorded in the 'spatialite_history' table matches the timestamp of the file. 
When creating a new Spatialite DB or updating it with the OGR API, the SQLite 
driver makes sure that the statistics are kept up-to-date automatically. "

Could it be so that even the GDAL Rasterlite driver can utilize layer statistics
if they exist, it does not create them? I just used a two days old GDAL-dev
version and I had to run SELECT UpdateLayerStatistics() manually for creating
the layer_statistics table.

It would be good to mention statistics and how they can be creted/refreshed in
the performance hints of OGR/SQLite and GDAL/Rasterlite drivers. Especially with
Rasterlite it is not at all obvious to do
ogrinfo the.db -sql "SELECT UpdateLayerStatistics()"

-Jukka Rahkonen-







From hfpmartins at gmail.com  Fri Sep  7 20:06:41 2012
From: hfpmartins at gmail.com (Hugo)
Date: Sat, 8 Sep 2012 04:06:41 +0100
Subject: [gdal-dev] Can't delete feature from shapefile in python
Message-ID: <CAFtnPwrDtfEMU=DEMzEH35bW6tcW-Cr_J502SVeh-_SUWVP+yQ@mail.gmail.com>

Hello all,

I'm trying to delete a number of records from shapefile based on an
attribute. The strange thing that is happening is that feature count never
changes but if i make the same filter a second time the features are no
longer there. The code i'm using is below. I should be doing something
wrong for sure.

import os
from osgeo import ogr

path = 'C:\\datasets'
os.chdir(path)

shp = ogr.Open('locais.shp',1)

layer = shp.GetLayer(0)
print layer.GetFeatureCount()
layer.SetAttributeFilter('name ilike "nacional%"')

feat = layer.GetNextFeature()
while feat:
    featId = feat.GetFID()
    layer.DeleteFeature(featId)
    feat = layer.GetNextFeature()

shp.Destroy()

Any suggestions? Thanks in advance.
Regards,

-- 
Hugo Martins
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120908/b7dccac3/attachment.html>

From ben.welsh at gmail.com  Sat Sep  8 07:58:55 2012
From: ben.welsh at gmail.com (Ben Welsh)
Date: Sat, 8 Sep 2012 07:58:55 -0700
Subject: [gdal-dev] Problems working with data from USGS's "National Map" of
 NED elevation data
Message-ID: <CAAU-HMKPg_2wbf9Cm=VwzMWt_CLLQw-oDg=r8k9bJE0ZN0n+vw@mail.gmail.com>

I am having difficulty downloading and working with NED elevation rasters
the USGS publishes via it's "National Map."

http://nationalmap.gov/viewer.html

Does anyone know how to:

1: Schedule a download of all the elevation tiles in a particular state?

2: Convert the ArcGrid files provided by the system into TIF or DEM files
that gdal can use to create hillshade, slopeshade and color relief?

Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120908/2b89f79b/attachment.html>

From jukka.rahkonen at mmmtike.fi  Sun Sep  9 05:42:04 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Sun, 9 Sep 2012 12:42:04 +0000 (UTC)
Subject: [gdal-dev] Revealing /vsi*/ for users
Message-ID: <loom.20120909T141343-890@post.gmane.org>

Hi,

I started to think one day if it could be possible to read data directly from
services and files which can be accessed through internet with GDAL and I 
found that it is indeed possible. However, this very nice feature in not
documented in any place that users are most often reading, like manual 
pages for utilities and the list of supported formats. This document was 
the one that directed me to correct path
http://trac.osgeo.org/gdal/wiki/UserDocs/ReadInZip

Perhaps the vsi* could be added as supported file format on both format 
list pages
http://www.gdal.org/formats_list.html
http://www.gdal.org/ogr/ogr_formats.html
Then there might be a document page describing what vsicurl, vsimem, vsizip,
vsigzip and vsitar mean. The manual page could include examples about how 
they can be used with gdalinfo, gdal_translate, ogrinfo and ogr2ogr.

-Jukka Rahkonen-


From osgeo.mailinglist at gmail.com  Sun Sep  9 07:00:33 2012
From: osgeo.mailinglist at gmail.com (Thomas Gratier)
Date: Sun, 9 Sep 2012 16:00:33 +0200
Subject: [gdal-dev] Revealing /vsi*/ for users
In-Reply-To: <CACPZzQ10XrbqsZvebbCvjs93D3WdJCiVxAJtTYj-YdbOYep-7g@mail.gmail.com>
References: <loom.20120909T141343-890@post.gmane.org>
	<CACPZzQ10XrbqsZvebbCvjs93D3WdJCiVxAJtTYj-YdbOYep-7g@mail.gmail.com>
Message-ID: <CACPZzQ061iJX_4gWASkPFvx41ij9BgAd0Nv1q=dQKYm4Y_R-kg@mail.gmail.com>

Hello Jukka,

I agree with you
You can also have a look on another gems : Even contribution to python
scripts
http://svn.osgeo.org/gdal/trunk/gdal/swig/python/samples/gdal_ls.py
More easy to manipulate than original command line for listing zip content
When you do

ogrinfo -ro -al -so
/vsizip/vsicurl/http://svn.osgeo.org/gdal/trunk/autotest/ogr/data/poly.zip

it works because poly.zip contains directly the shp but for example

ogrinfo -ro -al -so /vsizip/vsicurl/
http://www.data.rennes-metropole.fr/fileadmin/user_upload/data/data_sig/deplacement/stationnement/stationnement_shp_lamb93.zip
will not work if you don't know the remote zip content

With
python gdal_ls.py -R -l -Rzip
http://www.data.rennes-metropole.fr/fileadmin/user_upload/data/data_sig/deplacement/stationnement/stationnement_shp_lamb93.zip
you list files and after you can choose the right path to get metadata in
the remote zip file e.g
ogrinfo -ro -al -so /vsizip/vsicurl/
http://www.data.rennes-metropole.fr/fileadmin/user_upload/data/data_sig/deplacement/stationnement/stationnement_shp_lamb93.zip/stationnement_shp_lamb93/donnees/

Others experiment show me you can also have some problems with remote
content because of restrictions on server side.
An
ogrinfo -ro -al -so /vsizip/vsicurl/
http://www.data.gouv.fr/var/download/6236df97128315a003614bab5201aea3.zip
will send you
ERROR 1: Range downloading not supported by this server !
ERROR 1: Range downloading not supported by this server !
because vsicurl rely on curl range ability and if not allowed...

Regards

ThomasG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120909/c4655a39/attachment.html>

From JPalmer at linz.govt.nz  Sun Sep  9 21:29:29 2012
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Mon, 10 Sep 2012 16:29:29 +1200
Subject: [gdal-dev] Layer creation option FID (Spatialite, MSSQL)
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E0E9A6C899B@prdlsmmsg01.ad.linz.govt.nz>

Any limiting factors in improving the Spatialite and MSSQLSpatial drivers to allow defining the feature ID column LCO like the PostgreSQL (FID) or FileGDB (OID_NAME) drivers?

Also, do Spatialite, MSSQL user defined tables with PKs already set work correctly in OGR?

Thanks
Jeremy




This message contains information, which is confidential and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From zhenchen17 at gmail.com  Sun Sep  9 23:14:42 2012
From: zhenchen17 at gmail.com (chen zhen)
Date: Mon, 10 Sep 2012 14:14:42 +0800
Subject: [gdal-dev] patch for building gdal on AIX
Message-ID: <!&!AAAAAAAAAAAYAAAAAAAAACB7n0ju325JjVt71UKe9THCgAAAEAAAABJJkSAlBpJEj8zQtta1jTMBAAAAAA==@gmail.com>

Hi all,

After struggling for a time, I finally build gdal library on AIX
successfully. I opened a ticket to commit the patch for building and
discussing relative issues.( https://trac.osgeo.org/gdal/ticket/4809). Hope
this useful to whom working on AIX and gdal. Any comment on the second
modification is welcome. 

I am also appreciated if anyone could review the patch and commit it to svn.

Regards,

zhen


From neelima.emmani at iictechnologies.com  Mon Sep 10 00:44:31 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Mon, 10 Sep 2012 07:44:31 +0000
Subject: [gdal-dev] gdal_wrap dll
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D865846777DC3D@IICEXHC01.iictechnologies.local>

Hi All,
I am trying to get gdal for c#. For that, I have taken gdal binaries from the below link
 http://www.gisinternals.com/sdk/.<http://www.gisinternals.com/sdk/> As I am using Microsoft Visual Studio 9.0 and the system is windows 64 bit, I chose the compiler msvc2008(win64)-development.From the list of downloads under this link , I chose gdal-20dev-1500-x64-core.msi and  gdal-20dev-1500-x64-ecw.msi. These were installed under the c:/program files with a folder name GDAL. I have my visual studio under c:/program files(x86). And then , I have set my system environment path to c:/program files/GDAL.

After all this, I opened a new c# console application where i was successful in adding references like gdal_csharp, ogr_csharp, osr_csharp but could not add gdal_wrap.dll. The system is popping me up with the following error

A reference to 'C:\Program Files\GDAL\gdal_wrap.dll' could not be added. Please make sure that the file is accessible, and that it is a valid assembly or COM component.
Can anyone suggest me how to add this dll to my project. Do i need to do anything to get it work?
Awaiting reply.


With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120910/c2b8d5ff/attachment.html>

From szekerest at gmail.com  Mon Sep 10 00:52:00 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon, 10 Sep 2012 09:52:00 +0200
Subject: [gdal-dev] gdal_wrap dll
In-Reply-To: <CACALY+SV+uhdMvSkq767PN+n5P_4hAM_a-JPFg_3ozXdF5XtyQ@mail.gmail.com>
References: <D3EBE7E9108B0A449C3D5A6A96D865846777DC3D@IICEXHC01.iictechnologies.local>
	<CACALY+SV+uhdMvSkq767PN+n5P_4hAM_a-JPFg_3ozXdF5XtyQ@mail.gmail.com>
Message-ID: <CACALY+RGRwzqS5xLWe91L8S_9nNkNj4yLBp5r4mDhTJOrdW3mg@mail.gmail.com>

Hi,

gdal_wrap.dll is not a managed assembly, you should not set reference to
this dll.
gdal_csharp.dll loads gdal_wrap.dll internally (assuming it's location is
added to the PATH environment setting)

Best regards,

Tamas



2012/9/10 Neelima Emmani <neelima.emmani at iictechnologies.com>

>  Hi All,
> I am trying to get gdal for c#. For that, I have taken gdal binaries from
> the below link
>  http://www.gisinternals.com/sdk/. <http://www.gisinternals.com/sdk/> As
> I am using Microsoft Visual Studio 9.0 and the system is windows 64 bit, I
> chose the compiler msvc2008(win64)-development.From the list of downloads
> under this link , I chose gdal-20dev-1500-x64-core.msi and
> gdal-20dev-1500-x64-ecw.msi. These were installed under the c:/program
> files with a folder name GDAL. I have my visual studio under c:/program
> files(x86). And then , I have set my system environment path to c:/program
> files/GDAL.
>
> After all this, I opened a new c# console application where i was
> successful in adding references like gdal_csharp, ogr_csharp, osr_csharp
> but could not add gdal_wrap.dll. The system is popping me up with the
> following error
>
> A reference to 'C:\Program Files\GDAL\gdal_wrap.dll' could not be added.
> Please make sure that the file is accessible, and that it is a valid
> assembly or COM component.
> Can anyone suggest me how to add this dll to my project. Do i need to do
> anything to get it work?
> Awaiting reply.
>
>
> With Regards,
> Neelima Emmani
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120910/f1087bb9/attachment.html>

From neelima.emmani at iictechnologies.com  Mon Sep 10 02:13:49 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Mon, 10 Sep 2012 09:13:49 +0000
Subject: [gdal-dev] gdal_wrap dll
In-Reply-To: <CACALY+SV+uhdMvSkq767PN+n5P_4hAM_a-JPFg_3ozXdF5XtyQ@mail.gmail.com>
References: <D3EBE7E9108B0A449C3D5A6A96D865846777DC3D@IICEXHC01.iictechnologies.local>,
	<CACALY+SV+uhdMvSkq767PN+n5P_4hAM_a-JPFg_3ozXdF5XtyQ@mail.gmail.com>
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D865846777DC5E@IICEXHC01.iictechnologies.local>

Hi Tamas,
Agreeing with you . I just gave a test with a small piece of code.Code goes as below -

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using OSGeo.GDAL;
using OSGeo.OGR;
using OSGeo.OSR;

namespace test_10_09_2012
{
    class Program
    {
        static void Main(string[] args)
        {
            OSGeo.GDAL.Gdal.AllRegister();
            String filename = @"xxxxxx.000";
            OSGeo.GDAL.Dataset ds = OSGeo.GDAL.Gdal.Open(filename, OSGeo.GDAL.Access.GA_ReadOnly);
            if (ds == null)
           {
            Console.WriteLine("Can't open " + filename);
                    System.Environment.Exit(-1);
                }
            Console.WriteLine("S57 dataset parameters:");
            Console.WriteLine("  Projection: " + ds.GetProjectionRef());

            OSGeo.GDAL.Driver drv = ds.GetDriver();

            if (drv == null)
                {
                    Console.WriteLine("Can't get driver.");
                    System.Environment.Exit(-1);
                }

                Console.WriteLine("Using driver " + drv.LongName);
        }
    }
}
 This throws me an exception in reading the file format. It says that it is not a recognized as a supported  file format .
Do you have any idea.

With Regards,
Neelima Emmani

________________________________
From: Tamas Szekeres [szekerest at gmail.com]
Sent: Monday, September 10, 2012 1:20 PM
To: Neelima Emmani
Subject: Re: [gdal-dev] gdal_wrap dll

Hi,

gdal_wrap.dll is not a managed assembly, you should not set reference to this dll.
gdal_csharp.dll loads gdal_wrap.dll internally (assuming it's location is added to the PATH environment setting)

Best regards,

Tamas



2012/9/10 Neelima Emmani <neelima.emmani at iictechnologies.com<mailto:neelima.emmani at iictechnologies.com>>
Hi All,
I am trying to get gdal for c#. For that, I have taken gdal binaries from the below link
 http://www.gisinternals.com/sdk/.<http://www.gisinternals.com/sdk/> As I am using Microsoft Visual Studio 9.0 and the system is windows 64 bit, I chose the compiler msvc2008(win64)-development.From the list of downloads under this link , I chose gdal-20dev-1500-x64-core.msi and  gdal-20dev-1500-x64-ecw.msi. These were installed under the c:/program files with a folder name GDAL. I have my visual studio under c:/program files(x86). And then , I have set my system environment path to c:/program files/GDAL.

After all this, I opened a new c# console application where i was successful in adding references like gdal_csharp, ogr_csharp, osr_csharp but could not add gdal_wrap.dll. The system is popping me up with the following error

A reference to 'C:\Program Files\GDAL\gdal_wrap.dll' could not be added. Please make sure that the file is accessible, and that it is a valid assembly or COM component.
Can anyone suggest me how to add this dll to my project. Do i need to do anything to get it work?
Awaiting reply.


With Regards,
Neelima Emmani


_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120910/d756e3a5/attachment-0001.html>

From szekerest at gmail.com  Mon Sep 10 02:24:47 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon, 10 Sep 2012 11:24:47 +0200
Subject: [gdal-dev] gdal_wrap dll
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D865846777DC5E@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D865846777DC3D@IICEXHC01.iictechnologies.local>
	<CACALY+SV+uhdMvSkq767PN+n5P_4hAM_a-JPFg_3ozXdF5XtyQ@mail.gmail.com>
	<D3EBE7E9108B0A449C3D5A6A96D865846777DC5E@IICEXHC01.iictechnologies.local>
Message-ID: <CACALY+QcPQSJOwGSOLAaWPqYWxPKt5jN7vRoFtRDdC10Bzc7BA@mail.gmail.com>

How does ogrinfo recognize this file?
As far as I remember s57 requires the GDAL_DATA environment setting, for
example:

Gdal.SetConfigOption("GDAL_DATA", "path to gdal-data");

Best regards,

Tamas


2012/9/10 Neelima Emmani <neelima.emmani at iictechnologies.com>

>  Hi Tamas,
> Agreeing with you . I just gave a test with a small piece of code.Code
> goes as below -
>
> using System;
> using System.Collections.Generic;
> using System.Linq;
> using System.Text;
> using OSGeo.GDAL;
> using OSGeo.OGR;
> using OSGeo.OSR;
>
> namespace test_10_09_2012
> {
>     class Program
>     {
>         static void Main(string[] args)
>         {
>             OSGeo.GDAL.Gdal.AllRegister();
>             String filename = @"xxxxxx.000";
>             OSGeo.GDAL.Dataset ds = OSGeo.GDAL.Gdal.Open(filename,
> OSGeo.GDAL.Access.GA_ReadOnly);
>             if (ds == null)
>            {
>             Console.WriteLine("Can't open " + filename);
>                     System.Environment.Exit(-1);
>                 }
>             Console.WriteLine("S57 dataset parameters:");
>             Console.WriteLine("  Projection: " + ds.GetProjectionRef());
>
>             OSGeo.GDAL.Driver drv = ds.GetDriver();
>
>             if (drv == null)
>                 {
>                     Console.WriteLine("Can't get driver.");
>                     System.Environment.Exit(-1);
>                 }
>
>                 Console.WriteLine("Using driver " + drv.LongName);
>         }
>     }
> }
>  This throws me an exception in reading the file format. It says that it
> is not a recognized as a supported  file format .
> Do you have any idea.
>
> With Regards,
> Neelima Emmani
>
>   ------------------------------
> *From:* Tamas Szekeres [szekerest at gmail.com]
> *Sent:* Monday, September 10, 2012 1:20 PM
> *To:* Neelima Emmani
> *Subject:* Re: [gdal-dev] gdal_wrap dll
>
>  Hi,
>
>  gdal_wrap.dll is not a managed assembly, you should not set reference to
> this dll.
> gdal_csharp.dll loads gdal_wrap.dll internally (assuming it's location is
> added to the PATH environment setting)
>
>  Best regards,
>
>  Tamas
>
>
>
> 2012/9/10 Neelima Emmani <neelima.emmani at iictechnologies.com>
>
>>  Hi All,
>> I am trying to get gdal for c#. For that, I have taken gdal binaries from
>> the below link
>>  http://www.gisinternals.com/sdk/. <http://www.gisinternals.com/sdk/> As
>> I am using Microsoft Visual Studio 9.0 and the system is windows 64 bit, I
>> chose the compiler msvc2008(win64)-development.From the list of downloads
>> under this link , I chose gdal-20dev-1500-x64-core.msi and
>> gdal-20dev-1500-x64-ecw.msi. These were installed under the c:/program
>> files with a folder name GDAL. I have my visual studio under c:/program
>> files(x86). And then , I have set my system environment path to c:/program
>> files/GDAL.
>>
>> After all this, I opened a new c# console application where i was
>> successful in adding references like gdal_csharp, ogr_csharp, osr_csharp
>> but could not add gdal_wrap.dll. The system is popping me up with the
>> following error
>>
>> A reference to 'C:\Program Files\GDAL\gdal_wrap.dll' could not be added.
>> Please make sure that the file is accessible, and that it is a valid
>> assembly or COM component.
>> Can anyone suggest me how to add this dll to my project. Do i need to do
>> anything to get it work?
>> Awaiting reply.
>>
>>
>> With Regards,
>> Neelima Emmani
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120910/9b5b300b/attachment.html>

From szekerest at gmail.com  Mon Sep 10 03:16:03 2012
From: szekerest at gmail.com (Tamas Szekeres)
Date: Mon, 10 Sep 2012 12:16:03 +0200
Subject: [gdal-dev] Layer creation option FID (Spatialite, MSSQL)
In-Reply-To: <666FB8D75E95AE42965A0E76A5E5337E0E9A6C899B@prdlsmmsg01.ad.linz.govt.nz>
References: <666FB8D75E95AE42965A0E76A5E5337E0E9A6C899B@prdlsmmsg01.ad.linz.govt.nz>
Message-ID: <CACALY+TThMm51xwCbVs2AdXu9dCtXHX3aSqgKgV4WQ7B=pOA_w@mail.gmail.com>

2012/9/10 Jeremy Palmer <JPalmer at linz.govt.nz>

> Any limiting factors in improving the Spatialite and MSSQLSpatial drivers
> to allow defining the feature ID column LCO like the PostgreSQL (FID) or
> FileGDB (OID_NAME) drivers?
>

Yes it could be implemented. The limiting factor is the available spare
time ;-)



>
> Also, do Spatialite, MSSQL user defined tables with PKs already set work
> correctly in OGR?
>
>
What do you mean by "working correctly"? Did you find issues?

Best regards,

Tamas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120910/a4c6933a/attachment.html>

From JPalmer at linz.govt.nz  Mon Sep 10 17:37:08 2012
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Tue, 11 Sep 2012 12:37:08 +1200
Subject: [gdal-dev] Layer creation option FID (Spatialite, MSSQL)
In-Reply-To: <CACALY+TThMm51xwCbVs2AdXu9dCtXHX3aSqgKgV4WQ7B=pOA_w@mail.gmail.com>
References: <666FB8D75E95AE42965A0E76A5E5337E0E9A6C899B@prdlsmmsg01.ad.linz.govt.nz>
	<CACALY+TThMm51xwCbVs2AdXu9dCtXHX3aSqgKgV4WQ7B=pOA_w@mail.gmail.com>
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E0E9ABA8EC0@prdlsmmsg01.ad.linz.govt.nz>


> Yes it could be implemented. The limiting factor is the available spare time ;-)

Thanks - that's what I thought.

> What do you mean by "working correctly"? Did you find issues?

No I only looked at the code and didn't actually test it. I just wanted to ask the devs to determine if this was possible.

Thanks
Jeremy

This message contains information, which is confidential and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From peter at avenza.com  Tue Sep 11 07:20:25 2012
From: peter at avenza.com (Peter Zhang)
Date: Tue, 11 Sep 2012 10:20:25 -0400
Subject: [gdal-dev] '-mask' option of gdal_translate doesn't work
Message-ID: <25BBBFBB37AD46FDBB93709FBD7BF3A1@AVPC071Peter>

Hello,

I tried command line below that is copied from http://www.gdal.org/gdal_translate.html:

gdal_translate rgba.tif withmask.tif -b 1 -b 2 -b 3 -mask 4 -co COMPRESS=JPEG -co PHOTOMETRIC=YCBCR --config GDAL_TIFF_INTERNAL_MASK YES
It doesn?t generate transparency channel in output. But if I removed options ?-b 1 ?b 2 ?b 3?, the output image ?withmask.tif? would contain transparency channel, that could be observed by opening the image in the Photoshop. But if I remove all options to modify command line like this:

gdal_translate rgba.tif withmask.tif 
The transparency channel is still generated in output even the option ?-mask? is not specified at all. And the last alpha channel in the source image is always picked up as transparency channel to the output no matter what band number is given to the ?-mask? option. Then I tried the same command line on a new RGB tiff that has more than 4 channels and output image doesn?t contains any transparency channel even ?-mask band? option is explicitly specified. 

It seems that the option ?-mask? doesn?t work and generating the transparency channel is only depends on the colorspace (RGBA or Greyscale + alpha). Please let me know how to correctly use this option.

Thanks!

Peter Z
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120911/d54cddf2/attachment.html>

From dasfabirad at googlemail.com  Tue Sep 11 09:42:28 2012
From: dasfabirad at googlemail.com (lanufabi)
Date: Tue, 11 Sep 2012 09:42:28 -0700 (PDT)
Subject: [gdal-dev] ECW support on Fedora Linux - error
In-Reply-To: <1343399620972-4991388.post@n6.nabble.com>
References: <1343399620972-4991388.post@n6.nabble.com>
Message-ID: <1347381748551-5001142.post@n6.nabble.com>

 In reply to this post by jkadlec
Hey,

I compiled libecwj2 and gdal 1.9.1 on arch linux like "jkadlec" did and get
the same error when i use gdalinfo for ecw files:
terminate called after throwing an instance of 'std::length_error' what():
basic_string::_S_create

gdalinfo --formats puts out that ECW is supported.

What can I do to identify the problem? Do you know a solution?

Thanks 



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/ECW-support-on-Fedora-Linux-error-tp4991388p5001142.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From luislisboa1975 at gmail.com  Tue Sep 11 11:14:37 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Tue, 11 Sep 2012 19:14:37 +0100
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CACqBkM-NVHm2qOKarR7aVz9TUgAQz2yZdfzVCNEPZuBsAQVqHQ@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
	<CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
	<CAKvvP9iBr3qA-FvPQzh1wM7xMuAR8yXHfPhWGUTF7s0zap=0fg@mail.gmail.com>
	<CACqBkM-NVHm2qOKarR7aVz9TUgAQz2yZdfzVCNEPZuBsAQVqHQ@mail.gmail.com>
Message-ID: <CAKvvP9jzVuRtg3GPd1jyTmvGK5mK+Pz4rwMiqvfR4PHy_1S5LA@mail.gmail.com>

Hi Eli
Probably I was not clear: When I use this it outputs a geotiff with two
bands: 1 with the real data and another one with the mask of the pixels
that fall inside each polygon. I just want to have an output file with one
band (band 1) and without the mask. Is it possible?
Thanks
Luis



On Thu, Sep 6, 2012 at 4:50 AM, Eli Adam <eadam at co.lincoln.or.us> wrote:

> Luis,
>
> On Wed, Sep 5, 2012 at 3:00 AM, Luis Lisboa <luislisboa1975 at gmail.com>
> wrote:
> > Thank you Chitanya.
> > But it created an output file with two layers (one with the values from
> > original file and another with a 255 for the pixels thar are inside KMZ
> > file: How can I have produce one layer?
>
> I may be thinking of something else based on your description.  If you
> got an output that has the original values in the area of the kmz and
> an alpha mask band over the other areas I think that would be
> expected.  You can also use -crop_to_cutline to remove that 'extra'
> data.
>
> If that isn't what you are talking about, you may want to use ogr2ogr
> to convert your kmz to a shapefile in the same projection as your
> input raster and see if it gives you a better result.
>
> Bests, Eli
>
>
> > Thanks
> > Luis
> > On Mon, Sep 3, 2012 at 5:10 PM, Chaitanya kumar CH <
> chaitanya.ch at gmail.com>
> > wrote:
> >>
> >> Luis,
> >>
> >> gdalwarp has some options for this exact purpose.
> >> The cutline can be from any of the OGR readable datasource.
> >>
> >> http://www.gdal.org/gdalwarp.html
> >>
> >> On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com>
> >> wrote:
> >>>
> >>> Greetings
> >>> I have a raster file (Geotiff) and I have a KML file with a polygon
> and I
> >>> want to cut raster map to only have valid values inside the polygon.
> How can
> >>> I do this using just GDAL?
> >>>
> >>> Usually I used to cut geotiff file with gdalwarp and but in those
> cases I
> >>> was cutting a square (xmin xmax ymin ymax) and in this case is a more
> >>> complex polygon
> >>>
> >>> Thanks
> >>> Regards,
> >>> Luis
> >>>
> >>> _______________________________________________
> >>> gdal-dev mailing list
> >>> gdal-dev at lists.osgeo.org
> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> >>
> >>
> >>
> >>
> >> --
> >> Best regards,
> >> Chaitanya kumar CH.
> >>
> >> +91-9494447584
> >> 17.2416N 80.1426E
> >
> >
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120911/3c032cf2/attachment.html>

From eadam at co.lincoln.or.us  Tue Sep 11 12:18:23 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Tue, 11 Sep 2012 12:18:23 -0700
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CAKvvP9jzVuRtg3GPd1jyTmvGK5mK+Pz4rwMiqvfR4PHy_1S5LA@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
	<CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
	<CAKvvP9iBr3qA-FvPQzh1wM7xMuAR8yXHfPhWGUTF7s0zap=0fg@mail.gmail.com>
	<CACqBkM-NVHm2qOKarR7aVz9TUgAQz2yZdfzVCNEPZuBsAQVqHQ@mail.gmail.com>
	<CAKvvP9jzVuRtg3GPd1jyTmvGK5mK+Pz4rwMiqvfR4PHy_1S5LA@mail.gmail.com>
Message-ID: <CACqBkM_y_E7j4mczUbgjwPRc+7rxM=QO05FmvL5gUX0r1gnpEQ@mail.gmail.com>

Luis,
On Tue, Sep 11, 2012 at 11:14 AM, Luis Lisboa <luislisboa1975 at gmail.com> wrote:
> Hi Eli
> Probably I was not clear: When I use this it outputs a geotiff with two
> bands: 1 with the real data and another one with the mask of the pixels that
> fall inside each polygon. I just want to have an output file with one band
> (band 1) and without the mask. Is it possible?

Sometime images can clean up just be running them through
gdal_translate.  -ot or -b or -mask or some combination may
additionally be needed.  http://gdal.org/gdal_translate.html  Does
gdal_translate on your file collapse the mask band into a single band
with no data values?

rgb2pct.py can be used to convert RGB/RGBA to single band with a color
table.  I'm not sure if it would work with a two band image, one being
the mask but you can try it and see what it does.

HTH, Eli


> Thanks
> Luis
>
>
>
> On Thu, Sep 6, 2012 at 4:50 AM, Eli Adam <eadam at co.lincoln.or.us> wrote:
>>
>> Luis,
>>
>> On Wed, Sep 5, 2012 at 3:00 AM, Luis Lisboa <luislisboa1975 at gmail.com>
>> wrote:
>> > Thank you Chitanya.
>> > But it created an output file with two layers (one with the values from
>> > original file and another with a 255 for the pixels thar are inside KMZ
>> > file: How can I have produce one layer?
>>
>> I may be thinking of something else based on your description.  If you
>> got an output that has the original values in the area of the kmz and
>> an alpha mask band over the other areas I think that would be
>> expected.  You can also use -crop_to_cutline to remove that 'extra'
>> data.
>>
>> If that isn't what you are talking about, you may want to use ogr2ogr
>> to convert your kmz to a shapefile in the same projection as your
>> input raster and see if it gives you a better result.
>>
>> Bests, Eli
>>
>>
>> > Thanks
>> > Luis
>> > On Mon, Sep 3, 2012 at 5:10 PM, Chaitanya kumar CH
>> > <chaitanya.ch at gmail.com>
>> > wrote:
>> >>
>> >> Luis,
>> >>
>> >> gdalwarp has some options for this exact purpose.
>> >> The cutline can be from any of the OGR readable datasource.
>> >>
>> >> http://www.gdal.org/gdalwarp.html
>> >>
>> >> On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com>
>> >> wrote:
>> >>>
>> >>> Greetings
>> >>> I have a raster file (Geotiff) and I have a KML file with a polygon
>> >>> and I
>> >>> want to cut raster map to only have valid values inside the polygon.
>> >>> How can
>> >>> I do this using just GDAL?
>> >>>
>> >>> Usually I used to cut geotiff file with gdalwarp and but in those
>> >>> cases I
>> >>> was cutting a square (xmin xmax ymin ymax) and in this case is a more
>> >>> complex polygon
>> >>>
>> >>> Thanks
>> >>> Regards,
>> >>> Luis
>> >>>
>> >>> _______________________________________________
>> >>> gdal-dev mailing list
>> >>> gdal-dev at lists.osgeo.org
>> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>> >>
>> >>
>> >>
>> >>
>> >> --
>> >> Best regards,
>> >> Chaitanya kumar CH.
>> >>
>> >> +91-9494447584
>> >> 17.2416N 80.1426E
>> >
>> >
>> >
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev at lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>

From chapmanm at pixia.com  Tue Sep 11 13:08:42 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Tue, 11 Sep 2012 16:08:42 -0400 (EDT)
Subject: [gdal-dev] MUTEX_NONE question
Message-ID: <2b29e840.00000ef0.00000009@CHAPMANM7S>

If I don't want to use GDAL in thread safe mode on Windows can just define
MUTEX_NONE in the nmake.opt file?  If not, is there a way I can do it.
Also, I want to avoid caching.  Can I just define the env var
GDAL_FORCE_CACHING and set it to NO?  Will that also avoid any thread
synchronization? 

 

Best regards,

 

 

Martin Chapman
Software Developer
Pixia Corp.
45615 Willow Pond Plaza
Sterling, VA 20164
Main - 571.203.9665
Cell - 303.324.1065

chapmanm at pixia.com

The information transmitted is intended only for the person or entity to
which it is addressed and may contain confidential and/or privileged
material.  Any review, retransmission, dissemination or other use of, or
taking of any action in reliance upon, this information by persons or
entities other than the intended recipient is prohibited.  If you received
this in error, please contact the sender and delete the material from any
computer.

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120911/9d78f919/attachment.html>

From bontepaarden at gmail.com  Tue Sep 11 15:32:35 2012
From: bontepaarden at gmail.com (Paul Meems)
Date: Wed, 12 Sep 2012 00:32:35 +0200
Subject: [gdal-dev] How to get a working version of gdal_retile.py?
In-Reply-To: <504FAB81.7070708@villagis.com>
References: <CAHNf2YTScv5COE_c_0eM0+30cqYXSodYKxHPXO+2FSLj1_j2Mw@mail.gmail.com>
	<1346837664.50471ca02e3fa@imp.free.fr>
	<CAHNf2YRAR5qbNMAuPee3SYQEpFo2BtSdmSj3nPaEL3yiK8pBoQ@mail.gmail.com>
	<201209051948.17655.even.rouault@mines-paris.org>
	<CAHNf2YSAWYm5rsi6FMDLq8MB7YYe9pwtpxRAuTe_xRoE-G3pGg@mail.gmail.com>
	<1346916419.504850439c77d@imp.free.fr>
	<CAHNf2YSRYH5otVhAjbTDPMv0ooxPMtLGs1S71z6ZU5JMDBvyxg@mail.gmail.com>
	<504FAB81.7070708@villagis.com>
Message-ID: <CAHNf2YTseu+B_06ToHaLvkttkRKvA=qFd8fPQe6EGWadZ39MQQ@mail.gmail.com>

Hi Eli
I managed to complete the task thanks to the help of Even.
I have used gdal v1.9 without the tag.
I had a 4GB ecw file which resulted in about 11GB of tiled TIFF files. It
took about 15 hours.

Tomorrow I am going to try to get it working in geoserver.

--
Paul Meems
send from my Android
Op 11 sep. 2012 23:22 schreef "Elijah Robison" <elijah at villagis.com> het
volgende:

> **
> Hi Paul,
>
>
> I apologize for not noticing your gdal_retile.py conversation earlier.
> I've been on vacation. I'm glad Even could help you!
>
> I saw in your thread, you are tiling a large-area image. Out of curiosity,
> did you apply the -useDirForEachRow flag?
>
> If not ..out of curiosity, is it finished tiling yet?
>
> We tile high res (6-inch, 1-foot) county/department-sized SIDs and ECW
> images, and without that flag, they take a *very* long time to run to
> completion. Sometimes over six or seven weeks. With that flag, the process
> completes in about two days!
>
> After seeing your thread I was curious and wanted to ask how you applied
> the utility.
>
> (PS. This assumes you're using GDAL 1.8+. It wouldn't be available yet in
> the older FWTools releases.)
>
>
> Very Best,
>
> Elijah Robison
>
>
>
> Paul Meems wrote:
>
> Even,
>
> Thanks again. That was the problem.
> I uninstalled Python and installed the 32-bit version.
> Next I uninstalled GDAL-1.9.1.win32-py2.7 and installed it again.
> Now my Python installation is found.
>
> My ecw file is now being tiled.
>
> If you are ever in The Netherlands I'll by you a beer!
>
> Thanks,
>
> Paul
>
>
> 2012/9/6 Even Rouault <even.rouault at mines-paris.org>
>
>> Selon Paul Meems <bontepaarden at gmail.com>:
>>
>> > Thanks Even for all your help.
>> > But I'm still having trouble.
>>
>>  You've downloaded a 64-bit version of python (python-2.7.3.amd64.msi),
>> and are
>> trying to use it with a 32-bit build of that GDAL Python bindings
>> (GDAL-1.9.1.win32-py2.7.msi). That can't work.
>>
>> Either you use 64-bit Python and 64-bit GDAL, or 32-bit Python with
>> 32-bit GDAL.
>>
>
> ------------------------------
>
> _______________________________________________
> gdal-dev mailing listgdal-dev at lists.osgeo.orghttp://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120912/30bf041d/attachment.html>

From warmerdam at pobox.com  Tue Sep 11 21:40:28 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Tue, 11 Sep 2012 21:40:28 -0700
Subject: [gdal-dev] MUTEX_NONE question
In-Reply-To: <2b29e840.00000ef0.00000009@CHAPMANM7S>
References: <2b29e840.00000ef0.00000009@CHAPMANM7S>
Message-ID: <CA+YzLBd4Tqds7yvjwSKJnBFvWGn3BBSW1aidoAGEeaRNY+tbeg@mail.gmail.com>

On Tue, Sep 11, 2012 at 1:08 PM, Martin Chapman <chapmanm at pixia.com> wrote:
> If I don?t want to use GDAL in thread safe mode on Windows can just define
> MUTEX_NONE in the nmake.opt file?  If not, is there a way I can do it.

Martin,

I believe so, yes.

> Also, I want to avoid caching.  Can I just define the env var
> GDAL_FORCE_CACHING and set it to NO?

No, I don't believe that will help much.  This configuration
options just exists (I think) to force use of caching for
drivers or situations where the native driver would normally
avoid it.

I am not aware of a build or configuration option you can
set to avoid caching.

If you really really want to avoid caching you can try
to directly call GDALRasterBand::ReadBlock() which
will completely avoid the block cache.  I haven't done
anything like that for a long time so it may cause
problems for some drivers.

>Will that also avoid any thread synchronization?

The MUTEX_NONE should stop essentially all thread
synchronization.  But if you are using multiple threads
you may encounter serious bugs with mutexes disabled.
Doing this makes the most case in single threaded apps
that want to avoid the operating system mutex overhead.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From luislisboa1975 at gmail.com  Wed Sep 12 01:31:54 2012
From: luislisboa1975 at gmail.com (Luis Lisboa)
Date: Wed, 12 Sep 2012 09:31:54 +0100
Subject: [gdal-dev] How to cut a Raster map with a KML file
In-Reply-To: <CAAQ4jq6e-207mpaTaQ_U0pmodSc19_gt3kdj8EeyacOJojshOA@mail.gmail.com>
References: <CAKvvP9i46q8biOhrf5_kqKzHvpsKEwg90cAX3zFw+0fSZFUW0Q@mail.gmail.com>
	<CAMKgpOYNh0exKpsNKEe5CvsrM+AZbPoGzR=hmMHiXB6FKyD6iQ@mail.gmail.com>
	<CAKvvP9iBr3qA-FvPQzh1wM7xMuAR8yXHfPhWGUTF7s0zap=0fg@mail.gmail.com>
	<CACqBkM-NVHm2qOKarR7aVz9TUgAQz2yZdfzVCNEPZuBsAQVqHQ@mail.gmail.com>
	<CAKvvP9jzVuRtg3GPd1jyTmvGK5mK+Pz4rwMiqvfR4PHy_1S5LA@mail.gmail.com>
	<CAAQ4jq6e-207mpaTaQ_U0pmodSc19_gt3kdj8EeyacOJojshOA@mail.gmail.com>
Message-ID: <CAKvvP9j0keJEzyywX7PBR=b=fwkqoRbcNjACeCBN8G43BSknKA@mail.gmail.com>

Hello Jorge (portuguese?)
The problem is not the KML. GDALwarp supports the usage of KML to cut
Raster file. The thing is that it generates a Geotiff file with two bands:
1 with the masked values and another with just value of 1 in the valid
pixels (a bitmask). Is it possible to generate a geotiff with onluy the
first band?
Thanks
Luis

On Tue, Sep 11, 2012 at 8:25 PM, Jorge Santos <jorgepsantos2002 at gmail.com>wrote:

> Hey, you can convert the KML to shapefile with *ogr2ogr* and use this
> shape to cut the raster data.
>
> STEP01: Convert a single KML to Shapefile:
>
> *ogr2ogr -f "ESRI Shapefile" output_shapefile.shp input_kml_file.kml*
>
> STEP02: Crop the raster with polygon shapefile with gdalwarp. This command
> will crop the raster by extent of shapefile:
>
> *gdalwarp -crop_to_cutline -cutline output_shapefile.shp input_raster.tif
> clipped_raster.tif*
>
> PS: -crop_to_cutline   =>  GDAL >= 1.8.0<http://www.gisinternals.com/sdk/>required
>
> cheers
>
> Jorge Santos
>
>
> 2012/9/11 Luis Lisboa <luislisboa1975 at gmail.com>
>
>> Hi Eli
>> Probably I was not clear: When I use this it outputs a geotiff with two
>> bands: 1 with the real data and another one with the mask of the pixels
>> that fall inside each polygon. I just want to have an output file with one
>> band (band 1) and without the mask. Is it possible?
>> Thanks
>> Luis
>>
>>
>>
>> On Thu, Sep 6, 2012 at 4:50 AM, Eli Adam <eadam at co.lincoln.or.us> wrote:
>>
>>> Luis,
>>>
>>> On Wed, Sep 5, 2012 at 3:00 AM, Luis Lisboa <luislisboa1975 at gmail.com>
>>> wrote:
>>> > Thank you Chitanya.
>>> > But it created an output file with two layers (one with the values from
>>> > original file and another with a 255 for the pixels thar are inside KMZ
>>> > file: How can I have produce one layer?
>>>
>>> I may be thinking of something else based on your description.  If you
>>> got an output that has the original values in the area of the kmz and
>>> an alpha mask band over the other areas I think that would be
>>> expected.  You can also use -crop_to_cutline to remove that 'extra'
>>> data.
>>>
>>> If that isn't what you are talking about, you may want to use ogr2ogr
>>> to convert your kmz to a shapefile in the same projection as your
>>> input raster and see if it gives you a better result.
>>>
>>> Bests, Eli
>>>
>>>
>>> > Thanks
>>> > Luis
>>> > On Mon, Sep 3, 2012 at 5:10 PM, Chaitanya kumar CH <
>>> chaitanya.ch at gmail.com>
>>> > wrote:
>>> >>
>>> >> Luis,
>>> >>
>>> >> gdalwarp has some options for this exact purpose.
>>> >> The cutline can be from any of the OGR readable datasource.
>>> >>
>>> >> http://www.gdal.org/gdalwarp.html
>>> >>
>>> >> On Mon, Sep 3, 2012 at 9:34 PM, Luis Lisboa <luislisboa1975 at gmail.com
>>> >
>>> >> wrote:
>>> >>>
>>> >>> Greetings
>>> >>> I have a raster file (Geotiff) and I have a KML file with a polygon
>>> and I
>>> >>> want to cut raster map to only have valid values inside the polygon.
>>> How can
>>> >>> I do this using just GDAL?
>>> >>>
>>> >>> Usually I used to cut geotiff file with gdalwarp and but in those
>>> cases I
>>> >>> was cutting a square (xmin xmax ymin ymax) and in this case is a more
>>> >>> complex polygon
>>> >>>
>>> >>> Thanks
>>> >>> Regards,
>>> >>> Luis
>>> >>>
>>> >>> _______________________________________________
>>> >>> gdal-dev mailing list
>>> >>> gdal-dev at lists.osgeo.org
>>> >>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>> >>
>>> >>
>>> >>
>>> >>
>>> >> --
>>> >> Best regards,
>>> >> Chaitanya kumar CH.
>>> >>
>>> >> +91-9494447584
>>> >> 17.2416N 80.1426E
>>> >
>>> >
>>> >
>>> > _______________________________________________
>>> > gdal-dev mailing list
>>> > gdal-dev at lists.osgeo.org
>>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>>
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120912/82bde2aa/attachment-0001.html>

From johan.o.hedin at gmail.com  Wed Sep 12 13:09:31 2012
From: johan.o.hedin at gmail.com (Johan Hedin)
Date: Wed, 12 Sep 2012 22:09:31 +0200
Subject: [gdal-dev] ECW support on Fedora Linux - error
In-Reply-To: <1347381748551-5001142.post@n6.nabble.com>
References: <1343399620972-4991388.post@n6.nabble.com>
	<1347381748551-5001142.post@n6.nabble.com>
Message-ID: <CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>

I had the same problem with libecwj2-3.3 and Fedora 17 64-bit
yesterday. I tracked this down and it is a bug in libecwj2 itself
regarding wchar_t handling in the file NCSPrefsXML.cpp.

I have attached a patch to this mail to fix this. It is a super simple fix :-)

Another way around this is to just define the environment variable
NCS_USER_PREFS to point to some bogus file name. If this is done the
code take another path in libecwj2 and the bug is not triggered. But
fixing the bug is of course better.

BTW, this has apparently always been a bug and I guess that is has
started to show now due to updates to libstdc++, c++ compilers etc. In
the beginning of Fedora 16 this worked but on a up-to-date Fedora 16
today the behaviour is the same as on Fedora 17.

All distributions that are updating c++ and/or libstdc++ in the future
will probably see this bug as well. My patch is not fedora specific.

Pleas report back here if this patch is working for you as well!

(Small disclaimer: I'm recreating the patch from my head. I don't have
the running instance of gdal with ECW support on this computer)

Regards Johan

2012/9/11 lanufabi <dasfabirad at googlemail.com>:
>  In reply to this post by jkadlec
> Hey,
>
> I compiled libecwj2 and gdal 1.9.1 on arch linux like "jkadlec" did and get
> the same error when i use gdalinfo for ecw files:
> terminate called after throwing an instance of 'std::length_error' what():
> basic_string::_S_create
>
> gdalinfo --formats puts out that ECW is supported.
>
> What can I do to identify the problem? Do you know a solution?
>
> Thanks
>
>
>
> --
> View this message in context: http://osgeo-org.1560.n6.nabble.com/ECW-support-on-Fedora-Linux-error-tp4991388p5001142.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
-------------- next part --------------
A non-text attachment was scrubbed...
Name: libecwj2-3.3-wcharfix.patch
Type: text/x-patch
Size: 677 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120912/cc5fcd90/attachment.bin>

From jmckenna at gatewaygeomatics.com  Wed Sep 12 13:15:54 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Wed, 12 Sep 2012 17:15:54 -0300
Subject: [gdal-dev] ECW support on Fedora Linux - error
In-Reply-To: <CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>
References: <1343399620972-4991388.post@n6.nabble.com>
	<1347381748551-5001142.post@n6.nabble.com>
	<CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>
Message-ID: <5050ED7A.6030109@gatewaygeomatics.com>

You might add your notes (and even attach your patch) to the ECW
buildhints wiki page for GDAL yourself:
http://trac.osgeo.org/gdal/wiki/ECW  (otherwise emails are long forgotten)

Works great for your FOSS4G karma as well!

Thanks,

-jeff



On 12-09-12 5:09 PM, Johan Hedin wrote:
> I had the same problem with libecwj2-3.3 and Fedora 17 64-bit
> yesterday. I tracked this down and it is a bug in libecwj2 itself
> regarding wchar_t handling in the file NCSPrefsXML.cpp.
> 
> I have attached a patch to this mail to fix this. It is a super simple fix :-)
> 
> Another way around this is to just define the environment variable
> NCS_USER_PREFS to point to some bogus file name. If this is done the
> code take another path in libecwj2 and the bug is not triggered. But
> fixing the bug is of course better.
> 
> BTW, this has apparently always been a bug and I guess that is has
> started to show now due to updates to libstdc++, c++ compilers etc. In
> the beginning of Fedora 16 this worked but on a up-to-date Fedora 16
> today the behaviour is the same as on Fedora 17.
> 
> All distributions that are updating c++ and/or libstdc++ in the future
> will probably see this bug as well. My patch is not fedora specific.
> 
> Pleas report back here if this patch is working for you as well!
> 
> (Small disclaimer: I'm recreating the patch from my head. I don't have
> the running instance of gdal with ECW support on this computer)
> 
> Regards Johan
> 
> 2012/9/11 lanufabi <dasfabirad at googlemail.com>:
>>  In reply to this post by jkadlec
>> Hey,
>>
>> I compiled libecwj2 and gdal 1.9.1 on arch linux like "jkadlec" did and get
>> the same error when i use gdalinfo for ecw files:
>> terminate called after throwing an instance of 'std::length_error' what():
>> basic_string::_S_create
>>
>> gdalinfo --formats puts out that ECW is supported.
>>
>> What can I do to identify the problem? Do you know a solution?
>>
>> Thanks
>>


-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/



From johan.o.hedin at gmail.com  Wed Sep 12 13:51:40 2012
From: johan.o.hedin at gmail.com (Johan Hedin)
Date: Wed, 12 Sep 2012 22:51:40 +0200
Subject: [gdal-dev] ECW support on Fedora Linux - error
In-Reply-To: <5050ED7A.6030109@gatewaygeomatics.com>
References: <1343399620972-4991388.post@n6.nabble.com>
	<1347381748551-5001142.post@n6.nabble.com>
	<CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>
	<5050ED7A.6030109@gatewaygeomatics.com>
Message-ID: <CA+rY5e+p_oA6-DiaEdYJQYZf0u5Yn+=gmRXJ0kjMv_yv_QvfCg@mail.gmail.com>

Thanks for the hint Jeff. I will definitely update the ECW wiki as
soon as I get time!

I'm working on collecting as many patches regarding libecwj2 and linux
as I can find to get the lib to build cleanly on modern linux
distributions.

Regards Johan

2012/9/12 Jeff McKenna <jmckenna at gatewaygeomatics.com>:
> You might add your notes (and even attach your patch) to the ECW
> buildhints wiki page for GDAL yourself:
> http://trac.osgeo.org/gdal/wiki/ECW  (otherwise emails are long forgotten)
>
> Works great for your FOSS4G karma as well!
>
> Thanks,
>
> -jeff
>
>
>
> On 12-09-12 5:09 PM, Johan Hedin wrote:
>> I had the same problem with libecwj2-3.3 and Fedora 17 64-bit
>> yesterday. I tracked this down and it is a bug in libecwj2 itself
>> regarding wchar_t handling in the file NCSPrefsXML.cpp.
>>
>> I have attached a patch to this mail to fix this. It is a super simple fix :-)
>>
>> Another way around this is to just define the environment variable
>> NCS_USER_PREFS to point to some bogus file name. If this is done the
>> code take another path in libecwj2 and the bug is not triggered. But
>> fixing the bug is of course better.
>>
>> BTW, this has apparently always been a bug and I guess that is has
>> started to show now due to updates to libstdc++, c++ compilers etc. In
>> the beginning of Fedora 16 this worked but on a up-to-date Fedora 16
>> today the behaviour is the same as on Fedora 17.
>>
>> All distributions that are updating c++ and/or libstdc++ in the future
>> will probably see this bug as well. My patch is not fedora specific.
>>
>> Pleas report back here if this patch is working for you as well!
>>
>> (Small disclaimer: I'm recreating the patch from my head. I don't have
>> the running instance of gdal with ECW support on this computer)
>>
>> Regards Johan
>>
>> 2012/9/11 lanufabi <dasfabirad at googlemail.com>:
>>>  In reply to this post by jkadlec
>>> Hey,
>>>
>>> I compiled libecwj2 and gdal 1.9.1 on arch linux like "jkadlec" did and get
>>> the same error when i use gdalinfo for ecw files:
>>> terminate called after throwing an instance of 'std::length_error' what():
>>> basic_string::_S_create
>>>
>>> gdalinfo --formats puts out that ECW is supported.
>>>
>>> What can I do to identify the problem? Do you know a solution?
>>>
>>> Thanks
>>>
>
>
> --
> Jeff McKenna
> MapServer Consulting and Training Services
> http://www.gatewaygeomatics.com/
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From hrz at geodata.soton.ac.uk  Wed Sep 12 14:48:37 2012
From: hrz at geodata.soton.ac.uk (Homme Zwaagstra)
Date: Wed, 12 Sep 2012 22:48:37 +0100
Subject: [gdal-dev] ECW support on Fedora Linux - error
In-Reply-To: <CA+rY5e+p_oA6-DiaEdYJQYZf0u5Yn+=gmRXJ0kjMv_yv_QvfCg@mail.gmail.com>
References: <1343399620972-4991388.post@n6.nabble.com>
	<1347381748551-5001142.post@n6.nabble.com>
	<CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>
	<5050ED7A.6030109@gatewaygeomatics.com>
	<CA+rY5e+p_oA6-DiaEdYJQYZf0u5Yn+=gmRXJ0kjMv_yv_QvfCg@mail.gmail.com>
Message-ID: <987841d2-db65-4e14-9c7e-98dd86868918@email.android.com>



Hi Johan,

Johan Hedin <johan.o.hedin at gmail.com> wrote:

>Thanks for the hint Jeff. I will definitely update the ECW wiki as
>soon as I get time!
>
>I'm working on collecting as many patches regarding libecwj2 and linux
>as I can find to get the lib to build cleanly on modern linux
>distributions.

Many of the various patches floating around are applied to the Arch Linux libecwj2 package available at
<https://aur.archlinux.org/packages.php?ID=38915> which might save you time. I'll notify the package maintainer about this latest one.

Regards,

Homme

>Regards Johan
>
>2012/9/12 Jeff McKenna <jmckenna at gatewaygeomatics.com>:
>> You might add your notes (and even attach your patch) to the ECW
>> buildhints wiki page for GDAL yourself:
>> http://trac.osgeo.org/gdal/wiki/ECW  (otherwise emails are long
>forgotten)
>>
>> Works great for your FOSS4G karma as well!
>>
>> Thanks,
>>
>> -jeff
>>
>>
>>
>> On 12-09-12 5:09 PM, Johan Hedin wrote:
>>> I had the same problem with libecwj2-3.3 and Fedora 17 64-bit
>>> yesterday. I tracked this down and it is a bug in libecwj2 itself
>>> regarding wchar_t handling in the file NCSPrefsXML.cpp.
>>>
>>> I have attached a patch to this mail to fix this. It is a super
>simple fix :-)
>>>
>>> Another way around this is to just define the environment variable
>>> NCS_USER_PREFS to point to some bogus file name. If this is done the
>>> code take another path in libecwj2 and the bug is not triggered. But
>>> fixing the bug is of course better.
>>>
>>> BTW, this has apparently always been a bug and I guess that is has
>>> started to show now due to updates to libstdc++, c++ compilers etc.
>In
>>> the beginning of Fedora 16 this worked but on a up-to-date Fedora 16
>>> today the behaviour is the same as on Fedora 17.
>>>
>>> All distributions that are updating c++ and/or libstdc++ in the
>future
>>> will probably see this bug as well. My patch is not fedora specific.
>>>
>>> Pleas report back here if this patch is working for you as well!
>>>
>>> (Small disclaimer: I'm recreating the patch from my head. I don't
>have
>>> the running instance of gdal with ECW support on this computer)
>>>
>>> Regards Johan
>>>
>>> 2012/9/11 lanufabi <dasfabirad at googlemail.com>:
>>>>  In reply to this post by jkadlec
>>>> Hey,
>>>>
>>>> I compiled libecwj2 and gdal 1.9.1 on arch linux like "jkadlec" did
>and get
>>>> the same error when i use gdalinfo for ecw files:
>>>> terminate called after throwing an instance of 'std::length_error'
>what():
>>>> basic_string::_S_create
>>>>
>>>> gdalinfo --formats puts out that ECW is supported.
>>>>
>>>> What can I do to identify the problem? Do you know a solution?
>>>>
>>>> Thanks
>>>>
>>
>>
>> --
>> Jeff McKenna
>> MapServer Consulting and Training Services
>> http://www.gatewaygeomatics.com/
>>
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>_______________________________________________
>gdal-dev mailing list
>gdal-dev at lists.osgeo.org
>http://lists.osgeo.org/mailman/listinfo/gdal-dev

-- 
Sent from my Android phone with K-9 Mail. Please excuse my brevity.

From dasfabirad at googlemail.com  Thu Sep 13 03:32:58 2012
From: dasfabirad at googlemail.com (lanufabi)
Date: Thu, 13 Sep 2012 03:32:58 -0700 (PDT)
Subject: [gdal-dev] ECW support on Fedora Linux - error
In-Reply-To: <CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>
References: <1343399620972-4991388.post@n6.nabble.com>
	<1347381748551-5001142.post@n6.nabble.com>
	<CA+rY5eKjyhVm_U6saYJ-QdSqpLFMW+ihrpJZ_PKso5UW9hf09w@mail.gmail.com>
Message-ID: <1347532378642-5001667.post@n6.nabble.com>

Hey,

thanks a lot for the patch. Now I can use my ECW rastafiles again and finish
my job. I searched for many weeks but very late the idea to contact the
gdal-dev mailinglist came to my mind. I willspread the solution because I
remeber some threads according this problem.

thanks 
Fabian



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/ECW-support-on-Fedora-Linux-error-tp4991388p5001667.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From kassies at gmail.com  Thu Sep 13 07:28:12 2012
From: kassies at gmail.com (Rutger)
Date: Thu, 13 Sep 2012 07:28:12 -0700 (PDT)
Subject: [gdal-dev] gdalwarp with packbits compression: output too large
Message-ID: <1347546492492-5001731.post@n6.nabble.com>

Dear list,

Im using the gdalwarp command-line utility on Windows and im running into
some strange behavior. When reprojecting a large global grid to a subset,
the output filesize is way too large. Its a lot larger than
xsize*ysize*datatype, and when pulling the file through gdal_translate
shrinks the filesize to normal proportions. This occurs only when i run
gdalwarp with "COMPRESSION=PACKBITS", with no compression the results from
gdalwarp seem fine. 

The GDAL version im using is: GDAL 1.9.1, released 2012/05/16

I can reproduce the problem with the following example data:
The GMTED elevation dataset from the USGS, which can be found at:
http://topotools.cr.usgs.gov/GMTED_viewer/gmted2010_global_grids.php

The "Mean Statistic, 30 arc-seconds" is about 270MB. The effect is much more
prominent with the 7.5 arc second file, which is about 3.1 GB! The data is
delivered as an Arc/Info Binary Grid. 

I have tested it with several projections and different regions, for example
the United States, reprojecting with gdalwarp like this:

gdalwarp -ot Float32 -co "COMPRESS=PACKBITS" -r bilinear -t_srs "+proj=lcc
+lat_1=20 +lat_2=60 +lat_0=40 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80
+datum=NAD83 +units=m +no_defs" -ts 10400 5800 -te -2600000 -1600000 2600000
1300000 hdr.adf GMTED.tif

After gdalwarp the output is 401 MB, for a float32, i would expect an upper
limit of about 10400*5800*4 = 230MB. When running gdal_translate with no
compression and no other settings whatsoever the file size reduces to 235MB,
which seems ok. With packbits compression it reduces further to 154MB. 

So for the 30 arc second dataset, the initial gdalwarp result is about 2.5
times to large. When using the higher resolution 7.5 arc second input (but
otherwise the same procedure), the file sizes are:
after gdalwarp with packbits: 626MB
after gdal_translate: 235MB
after gdal_translate with packbits: 154MB

Making the gdalwarp result 4 times 'too large'. The effect seems larger with
the higher resolution input data, even with exactly the same output
settings. I have also tried to first convert the Arc/Info binary grid to a
Geotiff and then starting the entire procedure, this produces the same
results. 

Has anyone else ever noticed this behavior? And is there something i can do
to prevent it?

Thanks in advance.


Regards,
Rutger


 




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdalwarp-with-packbits-compression-output-too-large-tp5001731.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From jr.morreale at enoreth.net  Thu Sep 13 07:34:06 2012
From: jr.morreale at enoreth.net (jr.morreale at enoreth.net)
Date: Thu, 13 Sep 2012 16:34:06 +0200
Subject: [gdal-dev] gdalwarp with packbits compression: output too large
In-Reply-To: <1347546492492-5001731.post@n6.nabble.com>
References: <1347546492492-5001731.post@n6.nabble.com>
Message-ID: <4e6645b509f217b5e205f14fd886df42@enoreth.net>

Le 2012-09-13 16:28, Rutger a ?crit?:
> Dear list,
>
> Im using the gdalwarp command-line utility on Windows and im running 
> into
> some strange behavior. When reprojecting a large global grid to a 
> subset,
> the output filesize is way too large. Its a lot larger than
> xsize*ysize*datatype, and when pulling the file through 
> gdal_translate
> shrinks the filesize to normal proportions. This occurs only when i 
> run
> gdalwarp with "COMPRESSION=PACKBITS", with no compression the results 
> from
> gdalwarp seem fine.
>
> The GDAL version im using is: GDAL 1.9.1, released 2012/05/16
>
> I can reproduce the problem with the following example data:
> The GMTED elevation dataset from the USGS, which can be found at:
> http://topotools.cr.usgs.gov/GMTED_viewer/gmted2010_global_grids.php
>
> The "Mean Statistic, 30 arc-seconds" is about 270MB. The effect is 
> much more
> prominent with the 7.5 arc second file, which is about 3.1 GB! The 
> data is
> delivered as an Arc/Info Binary Grid.
>
> I have tested it with several projections and different regions, for 
> example
> the United States, reprojecting with gdalwarp like this:
>
> gdalwarp -ot Float32 -co "COMPRESS=PACKBITS" -r bilinear -t_srs 
> "+proj=lcc
> +lat_1=20 +lat_2=60 +lat_0=40 +lon_0=-96 +x_0=0 +y_0=0 +ellps=GRS80
> +datum=NAD83 +units=m +no_defs" -ts 10400 5800 -te -2600000 -1600000 
> 2600000
> 1300000 hdr.adf GMTED.tif
>
> After gdalwarp the output is 401 MB, for a float32, i would expect an 
> upper
> limit of about 10400*5800*4 = 230MB. When running gdal_translate with 
> no
> compression and no other settings whatsoever the file size reduces to 
> 235MB,
> which seems ok. With packbits compression it reduces further to 
> 154MB.
>
> So for the 30 arc second dataset, the initial gdalwarp result is 
> about 2.5
> times to large. When using the higher resolution 7.5 arc second input 
> (but
> otherwise the same procedure), the file sizes are:
> after gdalwarp with packbits: 626MB
> after gdal_translate: 235MB
> after gdal_translate with packbits: 154MB
>
> Making the gdalwarp result 4 times 'too large'. The effect seems 
> larger with
> the higher resolution input data, even with exactly the same output
> settings. I have also tried to first convert the Arc/Info binary grid 
> to a
> Geotiff and then starting the entire procedure, this produces the 
> same
> results.
>
> Has anyone else ever noticed this behavior? And is there something i 
> can do
> to prevent it?
>
> Thanks in advance.
>
>
> Regards,
> Rutger
>

Add -wo OPTIMIZE_SIZE=TRUE

the process will be longer but the file will be similar to the output 
of gdaltranslate


From kassies at gmail.com  Thu Sep 13 08:16:39 2012
From: kassies at gmail.com (Rutger)
Date: Thu, 13 Sep 2012 08:16:39 -0700 (PDT)
Subject: [gdal-dev] gdalwarp with packbits compression: output too large
In-Reply-To: <4e6645b509f217b5e205f14fd886df42@enoreth.net>
References: <1347546492492-5001731.post@n6.nabble.com>
	<4e6645b509f217b5e205f14fd886df42@enoreth.net>
Message-ID: <1347549399013-5001737.post@n6.nabble.com>

Thanks for the tip, i wasn't aware of the -wo flags. Im testing it right now,
but at 20% its already taking 20 minutes, so its certainly not very
practical, but im curious of the result. 

For comparison, the earlier mentioned gdalwarp operation takes 72 seconds,
running gdal_translate after it takes another 11 seconds. :)

I noticed some bugfixes from 5 and 6 years ago mentioning compression and
gdalwarp, but for a case of lots of small files. Maybe that would be a
situation where the extra flag would be useful.


Regards,
Rutger





--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdalwarp-with-packbits-compression-output-too-large-tp5001731p5001737.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From eadam at co.lincoln.or.us  Thu Sep 13 08:57:33 2012
From: eadam at co.lincoln.or.us (Eli Adam)
Date: Thu, 13 Sep 2012 08:57:33 -0700
Subject: [gdal-dev] gdalwarp with packbits compression: output too large
In-Reply-To: <1347549399013-5001737.post@n6.nabble.com>
References: <1347546492492-5001731.post@n6.nabble.com>
	<4e6645b509f217b5e205f14fd886df42@enoreth.net>
	<1347549399013-5001737.post@n6.nabble.com>
Message-ID: <CACqBkM_n9VPY_87akQHjTK_W+fWMmSu-+HtntMDRBcMuYB92YQ@mail.gmail.com>

Rutger,

There are some notes on this on the wiki too,
http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#GeoTIFFoutput-coCOMPRESSisbroken

Regards, Eli

On Thu, Sep 13, 2012 at 8:16 AM, Rutger <kassies at gmail.com> wrote:
> Thanks for the tip, i wasn't aware of the -wo flags. Im testing it right now,
> but at 20% its already taking 20 minutes, so its certainly not very
> practical, but im curious of the result.
>
> For comparison, the earlier mentioned gdalwarp operation takes 72 seconds,
> running gdal_translate after it takes another 11 seconds. :)
>
> I noticed some bugfixes from 5 and 6 years ago mentioning compression and
> gdalwarp, but for a case of lots of small files. Maybe that would be a
> situation where the extra flag would be useful.
>
>
> Regards,
> Rutger
>
>
>
>
>
> --
> View this message in context: http://osgeo-org.1560.n6.nabble.com/gdalwarp-with-packbits-compression-output-too-large-tp5001731p5001737.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From etourigny.dev at gmail.com  Thu Sep 13 09:10:22 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 13 Sep 2012 13:10:22 -0300
Subject: [gdal-dev] gdalwarp with packbits compression: output too large
In-Reply-To: <CACqBkM_n9VPY_87akQHjTK_W+fWMmSu-+HtntMDRBcMuYB92YQ@mail.gmail.com>
References: <1347546492492-5001731.post@n6.nabble.com>
	<4e6645b509f217b5e205f14fd886df42@enoreth.net>
	<1347549399013-5001737.post@n6.nabble.com>
	<CACqBkM_n9VPY_87akQHjTK_W+fWMmSu-+HtntMDRBcMuYB92YQ@mail.gmail.com>
Message-ID: <CA+TxYvOdnQUQvUqmy-DJcwznrWwHR-EdpTV6afLZa+snX1-MPg@mail.gmail.com>

To save size and disk i/o you can also use a vrt intermediate file

gdalwarp -of vrt -r bilinear infile ofile.vrt
gdal_translate  -co "COMPRESS=PACKBITS" ofile.vrt ofile.tif
rm ofile.vrt

On Thu, Sep 13, 2012 at 12:57 PM, Eli Adam <eadam at co.lincoln.or.us> wrote:
> Rutger,
>
> There are some notes on this on the wiki too,
> http://trac.osgeo.org/gdal/wiki/UserDocs/GdalWarp#GeoTIFFoutput-coCOMPRESSisbroken
>
> Regards, Eli
>
> On Thu, Sep 13, 2012 at 8:16 AM, Rutger <kassies at gmail.com> wrote:
>> Thanks for the tip, i wasn't aware of the -wo flags. Im testing it right now,
>> but at 20% its already taking 20 minutes, so its certainly not very
>> practical, but im curious of the result.
>>
>> For comparison, the earlier mentioned gdalwarp operation takes 72 seconds,
>> running gdal_translate after it takes another 11 seconds. :)
>>
>> I noticed some bugfixes from 5 and 6 years ago mentioning compression and
>> gdalwarp, but for a case of lots of small files. Maybe that would be a
>> situation where the extra flag would be useful.
>>
>>
>> Regards,
>> Rutger
>>
>>
>>
>>
>>
>> --
>> View this message in context: http://osgeo-org.1560.n6.nabble.com/gdalwarp-with-packbits-compression-output-too-large-tp5001731p5001737.html
>> Sent from the GDAL - Dev mailing list archive at Nabble.com.
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From pierre.giraud at gmail.com  Sat Sep 15 12:01:10 2012
From: pierre.giraud at gmail.com (Pierre GIRAUD)
Date: Sat, 15 Sep 2012 21:01:10 +0200
Subject: [gdal-dev] gdalwarp and Natural Earth
Message-ID: <CAOZv5an4UKQVU0+7PFpBdcXEkfO62GxeeVqVSsrRc_D2Xa0TeA@mail.gmail.com>

Hello all,

A new "Natural Earth" projection was added recently to the PROJ.4 library.
http://www.shadedrelief.com/NE_proj/

I'm trying to figure out if and how it is possible to transform a
raster file (GeoTIFF) using this projection.

I've tried the following unsuccessfully:
gdalwarp -t_srs '+proj=natearth' -s_srs EPSG:4326 map_4326.tif map_natearth.tif
ERROR 1: Translating source or target SRS failed:
+proj=natearth

Does GDAL have support for this projection? Does it rely on PROJ for
that purpose? Should I have something to be configured specifically
while compiling it?

Thanks for your help.
Pierre

-- 
-------------------------------------------------------------
  | Pierre GIRAUD
  | http://pierrelebricoleur.blogspot.com
  | http://www.flickr.com/photos/pierregiraud
-------------------------------------------------------------

From even.rouault at mines-paris.org  Sun Sep 16 05:40:57 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 16 Sep 2012 14:40:57 +0200
Subject: [gdal-dev] Can't delete feature from shapefile in python
In-Reply-To: <CAFtnPwrDtfEMU=DEMzEH35bW6tcW-Cr_J502SVeh-_SUWVP+yQ@mail.gmail.com>
References: <CAFtnPwrDtfEMU=DEMzEH35bW6tcW-Cr_J502SVeh-_SUWVP+yQ@mail.gmail.com>
Message-ID: <201209161440.57749.even.rouault@mines-paris.org>

Le samedi 08 septembre 2012 05:06:41, Hugo a ?crit :
> Hello all,
> 
> I'm trying to delete a number of records from shapefile based on an
> attribute. The strange thing that is happening is that feature count never
> changes but if i make the same filter a second time the features are no
> longer there. The code i'm using is below. I should be doing something
> wrong for sure.

I don't think you are doing something wrong. This is just a limitation of the 
implementation of GetFeatureCount() in the shapefile driver. When there are no 
attribute or spatial filter set, it returns the total number of records in the 
DBF file. When you delete a feature, it marks the corresponding record as 
invalid, but doesn't actually remove it from the file, so the total number of 
records remains unchanged. You can "repack" the .shp, .shx and .dbf files by 
running shp.ExecuteSQL("REPACK locais") (see 
http://gdal.org/ogr/drv_shapefile.html)

From even.rouault at mines-paris.org  Sun Sep 16 05:56:06 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 16 Sep 2012 14:56:06 +0200
Subject: [gdal-dev] Rasterlite driver does not create layer statistics
In-Reply-To: <loom.20120907T143841-963@post.gmane.org>
References: <loom.20120907T143841-963@post.gmane.org>
Message-ID: <201209161456.06627.even.rouault@mines-paris.org>

Le vendredi 07 septembre 2012 14:51:24, Jukka Rahkonen a ?crit :
> Hi,
> 
> Even wrote a few weeks ago:
> 
> " I've just pushed an improvement (r24800) in which the SQLite driver can
> use those cached values, if they are up-to-date. The up-to-dateness is
> determined by checking that the timestamp of the last
> 'UpdateLayerStatistics' event recorded in the 'spatialite_history' table
> matches the timestamp of the file. When creating a new Spatialite DB or
> updating it with the OGR API, the SQLite driver makes sure that the
> statistics are kept up-to-date automatically. "
> 
> Could it be so that even the GDAL Rasterlite driver can utilize layer
> statistics if they exist, it does not create them? I just used a two days
> old GDAL-dev version and I had to run SELECT UpdateLayerStatistics()
> manually for creating the layer_statistics table.

Strange. I just re-tested it (running gdal_translate and gdaladdo) and the 
layer_statistics table is well created and populated.

Perhaps you should re-run it with --debug on to see if something interesting 
shows up.

> 
> It would be good to mention statistics and how they can be creted/refreshed
> in the performance hints of OGR/SQLite and GDAL/Rasterlite drivers.
> Especially with Rasterlite it is not at all obvious to do
> ogrinfo the.db -sql "SELECT UpdateLayerStatistics()"

Would you be interested in contributing a documentation patch for that ?

> 
> -Jukka Rahkonen-
> 
> 
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Sun Sep 16 08:06:28 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 16 Sep 2012 17:06:28 +0200
Subject: [gdal-dev] gdalwarp and Natural Earth
In-Reply-To: <CAOZv5an4UKQVU0+7PFpBdcXEkfO62GxeeVqVSsrRc_D2Xa0TeA@mail.gmail.com>
References: <CAOZv5an4UKQVU0+7PFpBdcXEkfO62GxeeVqVSsrRc_D2Xa0TeA@mail.gmail.com>
Message-ID: <201209161706.28512.even.rouault@mines-paris.org>

Le samedi 15 septembre 2012 21:01:10, Pierre GIRAUD a ?crit :
> Hello all,
> 
> A new "Natural Earth" projection was added recently to the PROJ.4 library.
> http://www.shadedrelief.com/NE_proj/
> 
> I'm trying to figure out if and how it is possible to transform a
> raster file (GeoTIFF) using this projection.
> 
> I've tried the following unsuccessfully:
> gdalwarp -t_srs '+proj=natearth' -s_srs EPSG:4326 map_4326.tif
> map_natearth.tif ERROR 1: Translating source or target SRS failed:
> +proj=natearth
> 
> Does GDAL have support for this projection? Does it rely on PROJ for
> that purpose? Should I have something to be configured specifically
> while compiling it?

With GDAL < 2.0, you can try the following :

-t_srs 'LOCAL_CS["foo", EXTENSION["PROJ4", "+proj=natearth +wktext"]]'

This is a bit hackish, but that should work with any PROJ.4 projection that 
isn't explicitely supported by GDAL.

With GDAL 2.0dev, the following is sufficient :

 -t_srs '+proj=natearth +wktext'

Note that, in both cases, you need to specify +wktext to instruct GDAL not to 
alter the proj.4 string that is specified.

> 
> Thanks for your help.
> Pierre

From kochizufan at gmail.com  Sun Sep 16 22:12:24 2012
From: kochizufan at gmail.com (OHTSUKA Ko-hei)
Date: Mon, 17 Sep 2012 14:12:24 +0900
Subject: [gdal-dev] How to publish null as nodata by gdalwarp?
Message-ID: <CAKs-9JJV+Yb6CbVZ6guiUJLDjW70Qijbdov97wDC8ydz_rzzEQ@mail.gmail.com>

Hello,

I have a GeoTiff DEM, which is written in WGS84 and describes nodata as null.
(No data means sea area.)

I want to make shaded-color-relief tiff in spherical mercator from it, so I run:

gdalwarp -s_srs EPSG:4326 -t_srs EPSG:3785 -r bilinear wgs_dem.tif merc_dem.tif
gdaldem color-relief -alpha -co ALPHA=YES merc_dem.tif ramp.txt merc_rel.tif
gdaldem hillshade -compute_edges merc_dem.tif melc_shd.tiff
hsv_merge.py merc_rel.tif melc_shd.tiff melc_shdrel.tiff

But, result file melc_shdrel.tiff not contains null data.
null data are all changed into value 0, so they are not transparent,
and colored as ground.


I tried several change to command, consequently,

gdalwarp -s_srs EPSG:4326 -t_srs EPSG:3785 -srcnodata "" -r bilinear
wgs_dem.tif merc_dem.tif

This command makes null data not to value 0 but to -9999.
"gdaldem color-relief" detect this change and make sea area as transparent.
But, "gdaldem hillshade" not detect this, so sea shore shown as huge
cliff, and sea area became
gray.

I tried '--dstnodata' or '-dstalpha' option, but they makes any good change.


Is there any ways to get destination data which describes null as
nodata in gdalwarp?

Or, making "gdaldem hillshade" to detect -9999 as nodata?


Regards,

OHTSUKA Ko-hei

From neelima.emmani at iictechnologies.com  Mon Sep 17 00:00:39 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Mon, 17 Sep 2012 07:00:39 +0000
Subject: [gdal-dev] featuretypes displayed as layers
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467780991@IICEXHC01.iictechnologies.local>

Hi All,

I am successful in getting built-in binaries of GDAL into C# through  the below link
http://www.gisinternals.com/sdk/. And then I have executed ogrinfo.cs example. Now I do not see any errors in the code. All the ENC Layers are very well read by the code.
But I got  a problem, when I installed the same in another system . There also there are no code errors, all the dlls are read well. But unfortunately, the system is showing featuretypes like point , line and area as layernames and merging all the point data available in the file into this layer instead of actual ENC layers. Snapshot in regard to this is pasted.Awaiting reply. [cid:029a6625-360b-458f-a484-d394e7b34401]

With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120917/da83abf0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: wform.png
Type: image/png
Size: 16545 bytes
Desc: wform.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120917/da83abf0/attachment-0001.png>

From jukka.rahkonen at mmmtike.fi  Mon Sep 17 00:44:36 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon, 17 Sep 2012 07:44:36 +0000 (UTC)
Subject: [gdal-dev] Does -where read always the whole WFS layer?
Message-ID: <loom.20120917T092802-548@post.gmane.org>

Hi,

I compared a few WFS requests with ogr2ogr by filtering either with -where or
with -sql doing the same select. The -where option was reading the whole feature
type and filtering the result on the client side while -sql was building a
GetFeature request with filter. Is it always so that with the -where option GDAL
is sending plain GetFeature and filters the result on client side?

My test request was the most simple one -where address='Streetname 10' vs. -sql
"select * from lv:address where address='Streetname 10"



-Jukka Rahkonen-




From even.rouault at mines-paris.org  Mon Sep 17 11:06:51 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 17 Sep 2012 20:06:51 +0200
Subject: [gdal-dev] How to publish null as nodata by gdalwarp?
In-Reply-To: <CAKs-9JJV+Yb6CbVZ6guiUJLDjW70Qijbdov97wDC8ydz_rzzEQ@mail.gmail.com>
References: <CAKs-9JJV+Yb6CbVZ6guiUJLDjW70Qijbdov97wDC8ydz_rzzEQ@mail.gmail.com>
Message-ID: <201209172006.51804.even.rouault@mines-paris.org>

Le lundi 17 septembre 2012 07:12:24, OHTSUKA Ko-hei a ?crit :
> Hello,
> 
> I have a GeoTiff DEM, which is written in WGS84 and describes nodata as
> null. (No data means sea area.)
> 
> I want to make shaded-color-relief tiff in spherical mercator from it, so I
> run:
> 
> gdalwarp -s_srs EPSG:4326 -t_srs EPSG:3785 -r bilinear wgs_dem.tif
> merc_dem.tif
> gdaldem color-relief -alpha -co ALPHA=YES merc_dem.tif
> ramp.txt merc_rel.tif
> gdaldem hillshade -compute_edges merc_dem.tif
> melc_shd.tiff
> hsv_merge.py merc_rel.tif melc_shd.tiff melc_shdrel.tiff
> 
> But, result file melc_shdrel.tiff not contains null data.
> null data are all changed into value 0, so they are not transparent,
> and colored as ground.
> 
> 
> I tried several change to command, consequently,
> 
> gdalwarp -s_srs EPSG:4326 -t_srs EPSG:3785 -srcnodata "" -r bilinear
> wgs_dem.tif merc_dem.tif
> 
> This command makes null data not to value 0 but to -9999.
> "gdaldem color-relief" detect this change and make sea area as transparent.
> But, "gdaldem hillshade" not detect this, so sea shore shown as huge
> cliff, and sea area became
> gray.
> 
> I tried '--dstnodata' or '-dstalpha' option, but they makes any good
> change.
> 
> 
> Is there any ways to get destination data which describes null as
> nodata in gdalwarp?

Try adding -dstnodata 0 to your gdalwarp commandline.
The option -srcnodata "" is likely interpreted as equivalent to -srcnodata 0, 
which should not be necessary at all, as gdalwarp will autodetect it

> 
> Or, making "gdaldem hillshade" to detect -9999 as nodata?

In your ramp.txt, make sure that you have a line like :
"nv 0 0 0 0"

Note: the important 0 is the 4th one, which means that the alpha component for 
the nodata value (nv) will be 0.

A quick review of hsv_merge.py shows that it should preserve the alpha band of 
the colored raster.

But to debug this more easily, make sure to check that the result of each 
intermediate step is OK.

> 
> 
> Regards,
> 
> OHTSUKA Ko-hei
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Mon Sep 17 11:44:22 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 17 Sep 2012 20:44:22 +0200
Subject: [gdal-dev] Does -where read always the whole WFS layer?
In-Reply-To: <loom.20120917T092802-548@post.gmane.org>
References: <loom.20120917T092802-548@post.gmane.org>
Message-ID: <201209172044.22347.even.rouault@mines-paris.org>

Le lundi 17 septembre 2012 09:44:36, Jukka Rahkonen a ?crit :
> Hi,
> 
> I compared a few WFS requests with ogr2ogr by filtering either with -where
> or with -sql doing the same select. The -where option was reading the
> whole feature type and filtering the result on the client side while -sql
> was building a GetFeature request with filter. Is it always so that with
> the -where option GDAL is sending plain GetFeature and filters the result
> on client side?
> 
> My test request was the most simple one -where address='Streetname 10' vs.
> -sql "select * from lv:address where address='Streetname 10"

Jukka,

I don't reproduce this behaviour. See below (edited to only keep the HTTP WFS 
requests)

$ ogr2ogr -f GML out.gml "WFS:http://demo.deegree.org/deegree-wfs/services" 
app:Springs --debug HTTP,WFS -where "objectid = 10"
HTTP: Fetch(http://demo.deegree.org/deegree-
wfs/services?SERVICE=WFS&REQUEST=GetCapabilities&ACCEPTVERSIONS=1.1.0,1.0.0)
HTTP: Fetch(http://demo.deegree.org/deegree-
wfs/services?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=app:Springs,app:Country,app:DigitizeFeatures,app:Counties,app:Municipalities_edited,app:CountyBoundaries_edited,app:Municipalities,app:ZipCodes,app:Place,app:Philosopher,app:SI_Gazetteer,app:Railroads,app:StateBoundary)
HTTP: Fetch(http://demo.deegree.org/deegree-
wfs/services?SERVICE=WFS&VERSION=1.1.0&REQUEST=DescribeFeatureType&TYPENAME=app:Springs)
WFS: http://demo.deegree.org/deegree-
wfs/services?SERVICE=WFS&VERSION=1.1.0&REQUEST=GetFeature&TYPENAME=app:Springs&FILTER=%3CFilter%20xmlns%3D%22http:
%2F%2Fwww.opengis.net%2Fogc%22%20xmlns:app%3D%22http:
%2F%2Fwww.deegree.org%2Fapp%22%20xmlns:gml%3D%22http:
%2F%2Fwww.opengis.net%2Fgml%22%3E%3CPropertyIsEqualTo%3E%3CPropertyName%3Eobjectid%3C%2FPropertyName%3E%3CLiteral%3E10%3C%2FLiteral%3E%3C%2FPropertyIsEqualTo%3E%3C%2FFilter%3E

The GetFeature is sent with the appropriate FILTER.

So perhaps you could provide the exact commandline you've used

Best regards,

Even

> 
> 
> 
> -Jukka Rahkonen-
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From johan.o.hedin at gmail.com  Mon Sep 17 12:29:22 2012
From: johan.o.hedin at gmail.com (Johan Hedin)
Date: Mon, 17 Sep 2012 21:29:22 +0200
Subject: [gdal-dev] Best place to put libecwj2-3.3 patches?
Message-ID: <CA+rY5e+kSv7TboEq=dCaCbsNm2+PU_1D4PMAd+nwDt3Kgh5ZUA@mail.gmail.com>

Hi everyone,

I'm looking for a suitable place to put patches for libecwj2-3.3. I
have one recent my self that
I would like to put somewhere where others can find it.

Besides that, I'm thinking about create an up to date list with the
set of patches that you need to
get usable ECW support on modern Linux distributions on the gdal ECW
wiki page. I know that
different distributions house patches themselves, but I think that it
would be a good thing to be
able to get all the current patches from one "central" place.

Should I add patches to this closed ticket:
http://trac.osgeo.org/gdal/ticket/3162 or should I start
adding patches as attachments to the ECW wiki page:
http://trac.osgeo.org/gdal/wiki/ECW ?

Or any other way?

Regards Johan

From warmerdam at pobox.com  Mon Sep 17 12:31:21 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Mon, 17 Sep 2012 12:31:21 -0700
Subject: [gdal-dev] Best place to put libecwj2-3.3 patches?
In-Reply-To: <CA+rY5e+kSv7TboEq=dCaCbsNm2+PU_1D4PMAd+nwDt3Kgh5ZUA@mail.gmail.com>
References: <CA+rY5e+kSv7TboEq=dCaCbsNm2+PU_1D4PMAd+nwDt3Kgh5ZUA@mail.gmail.com>
Message-ID: <CA+YzLBfcZLrW8OLv2Ts_O3z22d0CZOK8M3eNY0L+22aNKFYRAQ@mail.gmail.com>

On Mon, Sep 17, 2012 at 12:29 PM, Johan Hedin <johan.o.hedin at gmail.com> wrote:
> Hi everyone,
>
> I'm looking for a suitable place to put patches for libecwj2-3.3. I
> have one recent my self that
> I would like to put somewhere where others can find it.
>
> Besides that, I'm thinking about create an up to date list with the
> set of patches that you need to
> get usable ECW support on modern Linux distributions on the gdal ECW
> wiki page. I know that
> different distributions house patches themselves, but I think that it
> would be a good thing to be
> able to get all the current patches from one "central" place.
>
> Should I add patches to this closed ticket:
> http://trac.osgeo.org/gdal/ticket/3162 or should I start
> adding patches as attachments to the ECW wiki page:
> http://trac.osgeo.org/gdal/wiki/ECW ?

Johan,

I would like them attached to the wiki page please.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Software Developer

From johan.o.hedin at gmail.com  Mon Sep 17 12:39:05 2012
From: johan.o.hedin at gmail.com (Johan Hedin)
Date: Mon, 17 Sep 2012 21:39:05 +0200
Subject: [gdal-dev] Best place to put libecwj2-3.3 patches?
In-Reply-To: <CA+YzLBfcZLrW8OLv2Ts_O3z22d0CZOK8M3eNY0L+22aNKFYRAQ@mail.gmail.com>
References: <CA+rY5e+kSv7TboEq=dCaCbsNm2+PU_1D4PMAd+nwDt3Kgh5ZUA@mail.gmail.com>
	<CA+YzLBfcZLrW8OLv2Ts_O3z22d0CZOK8M3eNY0L+22aNKFYRAQ@mail.gmail.com>
Message-ID: <CA+rY5eLT-daZG9sN=bAuMFwDWyXJSc57Sdes0XKKt1UVK==sUg@mail.gmail.com>

Ok Frank,

I will add them as attachments on the wiki page then!

(will probably be a couple of days before I get time. Trying to
squeeze this in between a lot of other things...)

Regards Johan

2012/9/17 Frank Warmerdam <warmerdam at pobox.com>
>
> On Mon, Sep 17, 2012 at 12:29 PM, Johan Hedin <johan.o.hedin at gmail.com>
> wrote:
> > Hi everyone,
> >
> > I'm looking for a suitable place to put patches for libecwj2-3.3. I
> > have one recent my self that
> > I would like to put somewhere where others can find it.
> >
> > Besides that, I'm thinking about create an up to date list with the
> > set of patches that you need to
> > get usable ECW support on modern Linux distributions on the gdal ECW
> > wiki page. I know that
> > different distributions house patches themselves, but I think that it
> > would be a good thing to be
> > able to get all the current patches from one "central" place.
> >
> > Should I add patches to this closed ticket:
> > http://trac.osgeo.org/gdal/ticket/3162 or should I start
> > adding patches as attachments to the ECW wiki page:
> > http://trac.osgeo.org/gdal/wiki/ECW ?
>
> Johan,
>
> I would like them attached to the wiki page please.
>
> Best regards,
> --
>
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam at pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Software Developer

From Jukka.Rahkonen at mmmtike.fi  Mon Sep 17 13:20:48 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon, 17 Sep 2012 20:20:48 +0000
Subject: [gdal-dev] Does -where read always the whole WFS layer?
In-Reply-To: <201209172044.22347.even.rouault@mines-paris.org>
References: <loom.20120917T092802-548@post.gmane.org>,
	<201209172044.22347.even.rouault@mines-paris.org>
Message-ID: <84446DEF76453C439E9E97E438E13A6379EDFD@suutari.haapa.mmm.fi>

Even Rouault wrote:

>Le lundi 17 septembre 2012 09:44:36, Jukka Rahkonen a ?crit :
>> Hi,
>>
>> I compared a few WFS requests with ogr2ogr by filtering either with -where
>> or with -sql doing the same select. The -where option was reading the
>> whole feature type and filtering the result on the client side while -sql
>> was building a GetFeature request with filter. Is it always so that with
>> the -where option GDAL is sending plain GetFeature and filters the result
>> on client side?
>>
>> My test request was the most simple one -where address='Streetname 10' vs.
>> -sql "select * from lv:address where address='Streetname 10"

> Jukka,

> I don't reproduce this behaviour. See below (edited to only keep the HTTP WFS
> requests)

> $ ogr2ogr -f GML out.gml "WFS:http://demo.deegree.org/deegree-wfs/services"
> app:Springs --debug HTTP,WFS -where "objectid = 10"
...
snip
...

> The GetFeature is sent with the appropriate FILTER.

> So perhaps you could provide the exact commandline you've used

Sorry, it was my fault due to faulty quotation.  This is the correct format at least with Windows and there is a similar example in the WFS driver documentation http://www.gdal.org/ogr/drv_wfs.html

>ogrinfo wfs:http://hip.latuviitta.org/cgi-bin/tinyows lv:hki_rakennusosoite_2012 -where "osoite='Oravatie 8'" --debug on

-Jukka-

From even.rouault at mines-paris.org  Mon Sep 17 14:42:23 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 17 Sep 2012 23:42:23 +0200
Subject: [gdal-dev] Does -where read always the whole WFS layer?
In-Reply-To: <84446DEF76453C439E9E97E438E13A6379EDFD@suutari.haapa.mmm.fi>
References: <loom.20120917T092802-548@post.gmane.org>
	<201209172044.22347.even.rouault@mines-paris.org>
	<84446DEF76453C439E9E97E438E13A6379EDFD@suutari.haapa.mmm.fi>
Message-ID: <201209172342.23438.even.rouault@mines-paris.org>

> Sorry, it was my fault due to faulty quotation.  This is the correct format
> at least with Windows and there is a similar example in the WFS driver
> documentation http://www.gdal.org/ogr/drv_wfs.html

Ah ok, on Windows shell, -where osoite='Oravatie 8' is seen as an equivalent 
of -where "osoite='Oravatie 8", which OGR should detect as invalid SQL due to 
the lack of ending single-quote character. I've fixed that, so now you will get 
a verbose error in case you get it wrong :

ERROR 1: Did not find end-of-string character
ERROR 1: SQL Expression Parsing Error: syntax error
FAILURE: SetAttributeFilter(osoite='Oravatie) failed.

> 
> >ogrinfo wfs:http://hip.latuviitta.org/cgi-bin/tinyows
> >lv:hki_rakennusosoite_2012 -where "osoite='Oravatie 8'" --debug on
> 
> -Jukka-
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From ragi at burhum.com  Mon Sep 17 17:51:32 2012
From: ragi at burhum.com (Ragi Burhum)
Date: Mon, 17 Sep 2012 17:51:32 -0700
Subject: [gdal-dev] For those of you using ArcGIS (Open Source GDAL/OGR
	Plugin for ArcGIS)
Message-ID: <CA+g+PQASiV+j2_WMzqFxATKvyz--8bRKeJiCSEAjsPUxJMU6Zw@mail.gmail.com>

Hi!

For those of you using ArcGIS you may be interested in the GDAL/OGR plugin
for ArcGIS <https://github.com/RBURHUM/arcgis-ogr/> that I open sourced
today. It basically gives *read-only* access to any OGR datasource from
ArcMap.

It comes with a basic Add data dialog <http://imgur.com/Tc0tp> that allows
you to read vector files like Spatialite and style them using
ArcMap<https://a248.e.akamai.net/camo.github.com/c1c86347c63522cb0f5f449b7b9df4209923c3ed/687474703a2f2f692e696d6775722e636f6d2f53767a6a702e706e67>
.

The code is available in GitHub
<https://github.com/RBURHUM/arcgis-ogr/>and has a very liberal
license.

I have some binaries that I compiled for ArcGIS 10.1 and if you want to
help me test them, please contact me off-list. I hope you find this useful,

- Ragi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120917/71b7ec16/attachment.html>

From nixanz at nixanz.com  Mon Sep 17 20:15:03 2012
From: nixanz at nixanz.com (Nik Sands)
Date: Tue, 18 Sep 2012 13:15:03 +1000
Subject: [gdal-dev] Warp to GeoTIFF with Transparency?
Message-ID: <4EAF48AC-22FC-4F22-B124-F96A81296595@nixanz.com>

I'm very new to GDAL so please be gentle.  My searching has found many references to this problem, but no complete solutions that are explained clearly enough for me to work through.

I'm using the GDAL API to read in a source image (could be from a variety of formats), warp it to Spherical Mercator, and then write out the reprojected image as a GeoTIFF.  I would like the parts of the warped TIFF that are not included in the original image to be represented by fully transparent pixels instead of the black pixels that are being generated.

I've set "ALPHA" to "YES" in the warp options but this has not helped.  I've also tried adding an extra transparent band, but this made the entire output image transparent.

Can anybody please explain in very simple terms (for a complete GDAL novice) how to go about this?

The relevant portion of the code that I'm currently using is below (based largely on the GDAL warp tutorial).

Thanks in anticipation,
Nik.


		void *hTransformArg = GDALCreateGenImgProjTransformer( hSrcDS, pszSrcWKT, NULL, pszDstWKT, FALSE, 0, 1 );
		
		if ( hTransformArg == NULL )
		{
			NSLog(@"Failed to create transformation.");
			return NULL;
		}
		
		// Get approximate output georeferenced bounds and resolution for file.
		
		double adfDstGeoTransform[6];
		int nPixels=0, nLines=0;
		
		if ( GDALSuggestedWarpOutput( hSrcDS, GDALGenImgProjTransform, hTransformArg, adfDstGeoTransform, &nPixels, &nLines ) != CE_None )
		{
			NSLog(@"Failed to get suggested warp output.");
			return NULL;
		}
		
		GDALDestroyGenImgProjTransformer( hTransformArg );
		
		// Create the output file.
		
		char **papszOptions = NULL;
		
		papszOptions = CSLSetNameValue( papszOptions, "ALPHA", "YES" );
		
		hDstDS = GDALCreate( hDriver, [dstPath cStringUsingEncoding:NSASCIIStringEncoding], nPixels, nLines, GDALGetRasterCount(hSrcDS), eDT, papszOptions );
		
		if ( hDstDS == NULL )
		{
			NSLog(@"Failed to open destination file '%@' with GDALCreate().", [dstPath lastPathComponent]);
			return NULL;
		}
		
		// Write out the projection definition.
		
		GDALSetProjection( hDstDS, pszDstWKT );
		GDALSetGeoTransform( hDstDS, adfDstGeoTransform );
		
		// Copy the color table, if required.
		
		GDALColorTableH hCT;
		
		hCT = GDALGetRasterColorTable( GDALGetRasterBand(hSrcDS,1) );
		if( hCT != NULL )
			GDALSetRasterColorTable( GDALGetRasterBand(hDstDS,1), hCT );
		
		// Setup warp options.
		
		GDALWarpOptions *psWarpOptions = GDALCreateWarpOptions();
		
		psWarpOptions->papszWarpOptions = CSLSetNameValue(psWarpOptions->papszWarpOptions, "INIT_DEST", "NO_DATA" );
		
		psWarpOptions->hSrcDS = hSrcDS;
		psWarpOptions->hDstDS = hDstDS;
		
		psWarpOptions->nBandCount = 1;
		psWarpOptions->panSrcBands =
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panSrcBands[0] = 1;
		psWarpOptions->panDstBands =
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panDstBands[0] = 1;
		
		psWarpOptions->pfnProgress = GDALTermProgress;
		
		// Establish reprojection transformer.
		
		psWarpOptions->pTransformerArg =
		GDALCreateGenImgProjTransformer( hSrcDS,
										GDALGetProjectionRef(hSrcDS),
										hDstDS,
										GDALGetProjectionRef(hDstDS),
										FALSE, 0.0, 1 );
		psWarpOptions->pfnTransformer = GDALGenImgProjTransform;
		
		// Initialize and execute the warp operation.
		
		GDALWarpOperationH oOperation = GDALCreateWarpOperation( psWarpOptions );
		
		GDALChunkAndWarpImage( oOperation, 0, 0,
							  GDALGetRasterXSize( hDstDS ),
							  GDALGetRasterYSize( hDstDS ) );
		
		GDALDestroyGenImgProjTransformer( psWarpOptions->pTransformerArg );
		GDALDestroyWarpOptions( psWarpOptions );
		GDALDestroyWarpOperation ( oOperation );


From bitner at gyttja.org  Tue Sep 18 08:41:56 2012
From: bitner at gyttja.org (David William Bitner)
Date: Tue, 18 Sep 2012 10:41:56 -0500
Subject: [gdal-dev] XYZM support (Was Roadmap to 2.0?)
Message-ID: <CAEqvsZuhOsMkTnqf3_Cn3G_Ltr4bhv7CAnvJkX8G_ze1eJRBVw@mail.gmail.com>

Hey all,

Have there been any more thoughts on XYZM support? I may be in a position
to help fund some of this work in 2013.

David

On Sun, May 20, 2012 at 3:38 AM, Ari Jolma <ari.jolma at gmail.com> wrote:

> On 05/18/2012 08:51 PM, Frank Warmerdam wrote:
>
>> On Fri, May 18, 2012 at 10:35 AM, Ari Jolma<ari.jolma at gmail.com>  wrote:
>>
>>> Folks,
>>>
>>> The deadline for 2.0 is at the end of this year:
>>> http://trac.osgeo.org/gdal/**milestone/2.0.0<http://trac.osgeo.org/gdal/milestone/2.0.0>
>>>
>> Ari,
>>
>> Lets not take this deadline too seriously.  If it takes
>> till summer 2013 for 2.0 that is ok (IMHO).
>>
>
> Deadlines are usually good ;)
>
> but I have no problem with this. If it takes longer then it takes longer.
>
>
>
>>  Is the RFC list the best source for what new features are planned for it?
>>>
>>> This page is about smaller issues for 2.0:
>>> http://trac.osgeo.org/gdal/**wiki/GDAL20Changes<http://trac.osgeo.org/gdal/wiki/GDAL20Changes>
>>>
>>> I have an old wish to have full XYZM support in GDAL and it would be a
>>> good
>>> candidate to the plan for 2.0 - see also
>>> http://www.mail-archive.com/**gdal-dev at lists.osgeo.org/**msg13470.html<http://www.mail-archive.com/gdal-dev at lists.osgeo.org/msg13470.html>
>>> Is anybody doing a review of what it would take?
>>>
>> I believe XYZM support would be a great feature for 2.0 and ideally
>> would be part of an upgrade to the more recent "simple features geometry"
>> model that includes various other geometry types.
>>
>> I'm not sure who might want to take on this task though.  It isn't
>> currently a focus of mine even though I'd like to see it happen.
>>
>> We aren't really a Roadmap kind of project, but I welcome discussion
>> of things we would like to accomplish in 2.0 which is our opportunity
>> for substantial changes.
>>
>
> I could do two things:
>
> Edit the "smaller issues" page to contain also larger issues (as the link
> to it on the main page says).
>
> Begin a XYZM RFC.
>
> Ari
>
>
>> Best regards,
>>
>
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>



-- 
************************************
David William Bitner
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120918/e3e49f16/attachment-0001.html>

From ari.jolma at gmail.com  Tue Sep 18 09:35:28 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Tue, 18 Sep 2012 19:35:28 +0300
Subject: [gdal-dev] XYZM support (Was Roadmap to 2.0?)
In-Reply-To: <CAEqvsZuhOsMkTnqf3_Cn3G_Ltr4bhv7CAnvJkX8G_ze1eJRBVw@mail.gmail.com>
References: <CAEqvsZuhOsMkTnqf3_Cn3G_Ltr4bhv7CAnvJkX8G_ze1eJRBVw@mail.gmail.com>
Message-ID: <5058A2D0.5060509@gmail.com>

On 09/18/2012 06:41 PM, David William Bitner wrote:
> Hey all,
>
> Have there been any more thoughts on XYZM support? I may be in a 
> position to help fund some of this work in 2013.

I have been negligent enough to not even write about this to the Wiki. I 
did that now.

It would be good to have somebody get to work with this.

Ari

>
> David
>
> On Sun, May 20, 2012 at 3:38 AM, Ari Jolma <ari.jolma at gmail.com 
> <mailto:ari.jolma at gmail.com>> wrote:
>
>     On 05/18/2012 08:51 PM, Frank Warmerdam wrote:
>
>         On Fri, May 18, 2012 at 10:35 AM, Ari
>         Jolma<ari.jolma at gmail.com <mailto:ari.jolma at gmail.com>>  wrote:
>
>             Folks,
>
>             The deadline for 2.0 is at the end of this year:
>             http://trac.osgeo.org/gdal/milestone/2.0.0
>
>         Ari,
>
>         Lets not take this deadline too seriously.  If it takes
>         till summer 2013 for 2.0 that is ok (IMHO).
>
>
>     Deadlines are usually good ;)
>
>     but I have no problem with this. If it takes longer then it takes
>     longer.
>
>
>
>             Is the RFC list the best source for what new features are
>             planned for it?
>
>             This page is about smaller issues for 2.0:
>             http://trac.osgeo.org/gdal/wiki/GDAL20Changes
>
>             I have an old wish to have full XYZM support in GDAL and
>             it would be a good
>             candidate to the plan for 2.0 - see also
>             http://www.mail-archive.com/gdal-dev at lists.osgeo.org/msg13470.html
>             Is anybody doing a review of what it would take?
>
>         I believe XYZM support would be a great feature for 2.0 and
>         ideally
>         would be part of an upgrade to the more recent "simple
>         features geometry"
>         model that includes various other geometry types.
>
>         I'm not sure who might want to take on this task though.  It isn't
>         currently a focus of mine even though I'd like to see it happen.
>
>         We aren't really a Roadmap kind of project, but I welcome
>         discussion
>         of things we would like to accomplish in 2.0 which is our
>         opportunity
>         for substantial changes.
>
>
>     I could do two things:
>
>     Edit the "smaller issues" page to contain also larger issues (as
>     the link to it on the main page says).
>
>     Begin a XYZM RFC.
>
>     Ari
>
>
>         Best regards,
>
>
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> -- 
> ************************************
> David William Bitner

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120918/9f6d8f4c/attachment.html>

From kochizufan at gmail.com  Tue Sep 18 13:44:32 2012
From: kochizufan at gmail.com (OHTSUKA Ko-hei)
Date: Wed, 19 Sep 2012 05:44:32 +0900
Subject: [gdal-dev] How to publish null as nodata by gdalwarp?
In-Reply-To: <201209172006.51804.even.rouault@mines-paris.org>
References: <CAKs-9JJV+Yb6CbVZ6guiUJLDjW70Qijbdov97wDC8ydz_rzzEQ@mail.gmail.com>
	<201209172006.51804.even.rouault@mines-paris.org>
Message-ID: <CAKs-9JJeUOSZiy_DdZ7OBc_wON2RBhsid=UoCn3nADNhd-5rNQ@mail.gmail.com>

Even,

Very thanks! I could do it.

color-relief's alpha channel masks hillshade's gray sea area, so TMS tiles are
become transparent.

Ko-hei

2012/9/18 Even Rouault <even.rouault at mines-paris.org>:
> Le lundi 17 septembre 2012 07:12:24, OHTSUKA Ko-hei a ?crit :
>> Hello,
>>
>> I have a GeoTiff DEM, which is written in WGS84 and describes nodata as
>> null. (No data means sea area.)
>>
>> I want to make shaded-color-relief tiff in spherical mercator from it, so I
>> run:
>>
>> gdalwarp -s_srs EPSG:4326 -t_srs EPSG:3785 -r bilinear wgs_dem.tif
>> merc_dem.tif
>> gdaldem color-relief -alpha -co ALPHA=YES merc_dem.tif
>> ramp.txt merc_rel.tif
>> gdaldem hillshade -compute_edges merc_dem.tif
>> melc_shd.tiff
>> hsv_merge.py merc_rel.tif melc_shd.tiff melc_shdrel.tiff
>>
>> But, result file melc_shdrel.tiff not contains null data.
>> null data are all changed into value 0, so they are not transparent,
>> and colored as ground.
>>
>>
>> I tried several change to command, consequently,
>>
>> gdalwarp -s_srs EPSG:4326 -t_srs EPSG:3785 -srcnodata "" -r bilinear
>> wgs_dem.tif merc_dem.tif
>>
>> This command makes null data not to value 0 but to -9999.
>> "gdaldem color-relief" detect this change and make sea area as transparent.
>> But, "gdaldem hillshade" not detect this, so sea shore shown as huge
>> cliff, and sea area became
>> gray.
>>
>> I tried '--dstnodata' or '-dstalpha' option, but they makes any good
>> change.
>>
>>
>> Is there any ways to get destination data which describes null as
>> nodata in gdalwarp?
>
> Try adding -dstnodata 0 to your gdalwarp commandline.
> The option -srcnodata "" is likely interpreted as equivalent to -srcnodata 0,
> which should not be necessary at all, as gdalwarp will autodetect it
>
>>
>> Or, making "gdaldem hillshade" to detect -9999 as nodata?
>
> In your ramp.txt, make sure that you have a line like :
> "nv 0 0 0 0"
>
> Note: the important 0 is the 4th one, which means that the alpha component for
> the nodata value (nv) will be 0.
>
> A quick review of hsv_merge.py shows that it should preserve the alpha band of
> the colored raster.
>
> But to debug this more easily, make sure to check that the result of each
> intermediate step is OK.
>
>>
>>
>> Regards,
>>
>> OHTSUKA Ko-hei
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Tue Sep 18 14:12:26 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 18 Sep 2012 23:12:26 +0200
Subject: [gdal-dev] Warp to GeoTIFF with Transparency?
In-Reply-To: <4EAF48AC-22FC-4F22-B124-F96A81296595@nixanz.com>
References: <4EAF48AC-22FC-4F22-B124-F96A81296595@nixanz.com>
Message-ID: <201209182312.27032.even.rouault@mines-paris.org>

Le mardi 18 septembre 2012 05:15:03, Nik Sands a ?crit :
> I'm very new to GDAL so please be gentle.  My searching has found many
> references to this problem, but no complete solutions that are explained
> clearly enough for me to work through.

The Warp API is powerful, and thus admitedly complex to master.

> 
> I'm using the GDAL API to read in a source image (could be from a variety
> of formats), warp it to Spherical Mercator, and then write out the
> reprojected image as a GeoTIFF.  I would like the parts of the warped TIFF
> that are not included in the original image to be represented by fully
> transparent pixels instead of the black pixels that are being generated.
> 
> I've set "ALPHA" to "YES" in the warp options but this has not helped. 
> I've also tried adding an extra transparent band, but this made the entire
> output image transparent.

Strange, perhaps you should retry.

To have a transparency band added in the output of the warping, you need to 
set the band number in the GDALCreate() call to 1 + 
GDALGetRasterCount(hSrcDS), and also set psWarpOptions->nDstAlphaBand = 1 + 
GDALGetRasterCount(hSrcDS)

This should be equivalent to the -dstalpha option of gdalwarp. By the way, if 
I were you, I would try to find the gdalwarp command line that fits my need, and 
then study its code source to extract what is needed for your use case.

From jukka.rahkonen at mmmtike.fi  Wed Sep 19 04:00:16 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Wed, 19 Sep 2012 11:00:16 +0000 (UTC)
Subject: [gdal-dev] OCI driver and setting the client encoding
Message-ID: <loom.20120919T123448-198@post.gmane.org>

Hi,

I spent some nice hours trying to get the Finnish characters to appear right in
Oracle. Now it looks like I have found a working solution but I would like to
know if it is correct and reliable.

I am on Windows, Finnins-Finland and chcp shows me code 850. Our Oracle is using
UTF-8 encoding.

I tried to transfer data from Spatialite (UTF-8) into Oracle but non-ASCII
characters were not transferred right. I converted data from Spatialite into GML
and tried what happens with native UTF-8. Not good so I converted GML into
ISO-8859-1 with iconv. Bad luck even this way. Then I converted data into
shapefiles and had some trials with setting the SHAPE_ENCODING environment and
still the characters were wrong in Oracle side.

I continued and read a few documents about Oracle NLS_LANG settings and tried to
set NLS_LANG to correspond with what I thought to suit my console settings. This
made difference; I got still wrong results but they were different and I started
to believe that I may be able to win the beast.

Finally I set environment as
SET NLS_LANG=american.america.UTF8

Now I seem to get right characters into Oracle from Spatialite, GML, and
shapefiles.

Is this the right thing to do? If yes, will it work also for other locales and
could it thus be worth mentioning in the OCI documentation
http://www.gdal.org/ogr/drv_oci.html? Could it even be initialized automatically
by the OCI driver?

-Jukka Rahkonen-




From bruno.belarte at gmail.com  Wed Sep 19 07:29:18 2012
From: bruno.belarte at gmail.com (Bruno Belarte)
Date: Wed, 19 Sep 2012 16:29:18 +0200
Subject: [gdal-dev] Reading an IntegerList from file
Message-ID: <5059D6BE.1060808@gmail.com>

Hi,

I am currently working on exporting some data (an adjacency graph with 
nodes described by an id (integer), an OGRGeometry and some other fields 
(string and real) into a file. I choose to export the adjacency relation 
as an IntegerList field (for each node, the list contains the id of all 
the adjacent nodes). It works for several file type (KML, GML, SQLite, 
but not shapefile as it doesn't support IntegerList field type). 
Everything works fine and the output files contains all the data that I 
want.

The problem comes when I want to do the opposite. When I open a file 
that I precedently wrote, the IntegerList give me some trouble. The 
field description is actually in the OGRFeatureDefn but the 
feature->GetFieldAsIntegerList ("name", &size) method returns a NULL 
pointer.

Is there a specific procedure to handle IntegerLists ? Or is it an 
unsupported feature ?

Thanks,

Bruno Belarte

PS : I work with C++ and gdal 1.9.0 on ubuntu 12.04 64bits

From even.rouault at mines-paris.org  Wed Sep 19 08:04:24 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 19 Sep 2012 17:04:24 +0200
Subject: [gdal-dev] Reading an IntegerList from file
In-Reply-To: <5059D6BE.1060808@gmail.com>
References: <5059D6BE.1060808@gmail.com>
Message-ID: <1348067064.5059def843c49@imp.free.fr>

Selon Bruno Belarte <bruno.belarte at gmail.com>:

> Hi,
>
> I am currently working on exporting some data (an adjacency graph with
> nodes described by an id (integer), an OGRGeometry and some other fields
> (string and real) into a file. I choose to export the adjacency relation
> as an IntegerList field (for each node, the list contains the id of all
> the adjacent nodes). It works for several file type (KML, GML, SQLite,
> but not shapefile as it doesn't support IntegerList field type).
> Everything works fine and the output files contains all the data that I
> want.

Because KML, GML and SQLite driver have a default case where they will create a
field of String type when encountering an unhandled field type such as
IntegerList, whereas the Shapefile driver will refuse it directly. For those
drivers that consider an IntegerList as a String, they will serialize it's
content as "{N:v1,v2,...,vn}", and potentially truncated if that serialized
content goes above 80 characters.

>
> The problem comes when I want to do the opposite. When I open a file
> that I precedently wrote, the IntegerList give me some trouble. The
> field description is actually in the OGRFeatureDefn but the
> feature->GetFieldAsIntegerList ("name", &size) method returns a NULL
> pointer.

Yes, when reading back those files, the field is presumably of String type, so
GetFieldAsIntegerList() returns NULL. But GetFieldAsString() should return the
serialized content in the "{N:v1,v2,...,vn}" format.

You can confirm that easily by using ogrinfo.

>
> Is there a specific procedure to handle IntegerLists ? Or is it an
> unsupported feature ?

Very few drivers fully support round-tripping of IntegerList, RealList of
StringList types. AFAIR, PostgreSQL is one of them, but that must be about it.

The GML driver supports it in read mode, but not in write mode (although that
could probably be improved)

>
> Thanks,
>
> Bruno Belarte
>
> PS : I work with C++ and gdal 1.9.0 on ubuntu 12.04 64bits
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From ealpert at digitalglobe.com  Wed Sep 19 11:43:39 2012
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed, 19 Sep 2012 12:43:39 -0600
Subject: [gdal-dev] Perl Binding Documentation for previous releases --> 404
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3621@COMAIL01.digitalglobe.com>

Getting page not found for:

 

http://geoinformatics.tkk.fi/doc/Geo-GDAL-1.8/html/index.html


This electronic communication and any attachments may contain confidential and proprietary 
information of DigitalGlobe, Inc. If you are not the intended recipient, or an agent or employee 
responsible for delivering this communication to the intended recipient, or if you have received 
this communication in error, please do not print, copy, retransmit, disseminate or 
otherwise use the information. Please indicate to the sender that you have received this 
communication in error, and delete the copy you received. DigitalGlobe reserves the 
right to monitor any electronic communication sent or received by its employees, agents 
or representatives.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120919/9cbcd6ee/attachment.html>

From even.rouault at mines-paris.org  Wed Sep 19 12:14:45 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 19 Sep 2012 21:14:45 +0200
Subject: [gdal-dev] Perl Binding Documentation for previous releases -->
	404
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3621@COMAIL01.digitalglobe.com>
References: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3621@COMAIL01.digitalglobe.com>
Message-ID: <201209192114.45105.even.rouault@mines-paris.org>

Le mercredi 19 septembre 2012 20:43:39, Ethan Alpert a ?crit :
> Getting page not found for:
> 
> 
> 
> http://geoinformatics.tkk.fi/doc/Geo-GDAL-1.8/html/index.html

I guess you reached that link from http://geoinformatics.aalto.fi/doc/Geo-
GDAL/html/ that is linked from http://trac.osgeo.org/gdal/wiki/GdalOgrInPerl ?

So, I tried the following http://geoinformatics.aalto.fi/doc/Geo-
GDAL-1.8/html/index.html and it seems to work

I believe that Ari maintains that site.

From ealpert at digitalglobe.com  Wed Sep 19 13:41:26 2012
From: ealpert at digitalglobe.com (Ethan Alpert)
Date: Wed, 19 Sep 2012 14:41:26 -0600
Subject: [gdal-dev] Perl Binding Documentation for previous releases
	-->404
In-Reply-To: <201209192114.45105.even.rouault@mines-paris.org>
References: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3621@COMAIL01.digitalglobe.com>
	<201209192114.45105.even.rouault@mines-paris.org>
Message-ID: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3673@COMAIL01.digitalglobe.com>

Thanks! 

Indeed to get to the perl bindings I always start at:


http://trac.osgeo.org/gdal/wiki/GdalOgrInPerl

and follow the link:

http://geoinformatics.aalto.fi/doc/Geo-GDAL/html/

that page has the bad link.



-----Original Message-----
From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Even Rouault
Sent: Wednesday, September 19, 2012 1:15 PM
To: gdal-dev at lists.osgeo.org; Ari Jolma
Subject: Re: [gdal-dev] Perl Binding Documentation for previous releases -->404

Le mercredi 19 septembre 2012 20:43:39, Ethan Alpert a ?crit :
> Getting page not found for:
> 
> 
> 
> http://geoinformatics.tkk.fi/doc/Geo-GDAL-1.8/html/index.html

I guess you reached that link from http://geoinformatics.aalto.fi/doc/Geo-
GDAL/html/ that is linked from http://trac.osgeo.org/gdal/wiki/GdalOgrInPerl ?

So, I tried the following http://geoinformatics.aalto.fi/doc/Geo-
GDAL-1.8/html/index.html and it seems to work

I believe that Ari maintains that site.
_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org
http://lists.osgeo.org/mailman/listinfo/gdal-dev

This electronic communication and any attachments may contain confidential and proprietary 
information of DigitalGlobe, Inc. If you are not the intended recipient, or an agent or employee 
responsible for delivering this communication to the intended recipient, or if you have received 
this communication in error, please do not print, copy, retransmit, disseminate or 
otherwise use the information. Please indicate to the sender that you have received this 
communication in error, and delete the copy you received. DigitalGlobe reserves the 
right to monitor any electronic communication sent or received by its employees, agents 
or representatives.


From nixanz at nixanz.com  Wed Sep 19 15:43:59 2012
From: nixanz at nixanz.com (Nik Sands)
Date: Thu, 20 Sep 2012 08:43:59 +1000
Subject: [gdal-dev] Warp to GeoTIFF with Transparency?
In-Reply-To: <201209182312.27032.even.rouault@mines-paris.org>
References: <4EAF48AC-22FC-4F22-B124-F96A81296595@nixanz.com>
	<201209182312.27032.even.rouault@mines-paris.org>
Message-ID: <C7F14861-D2B7-44DE-AC28-64DEE85B8C08@nixanz.com>

Thank you very kindly, Even.  It works perfectly now.  I can't recall exactly what I'd tried previously when adding the additional band, but I think I must have neglected to include the

	psWarpOptions->nDstAlphaBand = GDALGetRasterCount(hSrcDS) + 1;

I thought I'd tried that before, but it certainly fixed it this time.

So again... thanks very much for your assistance.  It's very much appreciated.

Cheers,
Nik.


On 19/09/2012, at 7:12 AM, Even Rouault <even.rouault at mines-paris.org> wrote:

> Le mardi 18 septembre 2012 05:15:03, Nik Sands a ?crit :
>> I'm very new to GDAL so please be gentle.  My searching has found many
>> references to this problem, but no complete solutions that are explained
>> clearly enough for me to work through.
> 
> The Warp API is powerful, and thus admitedly complex to master.
> 
>> 
>> I'm using the GDAL API to read in a source image (could be from a variety
>> of formats), warp it to Spherical Mercator, and then write out the
>> reprojected image as a GeoTIFF.  I would like the parts of the warped TIFF
>> that are not included in the original image to be represented by fully
>> transparent pixels instead of the black pixels that are being generated.
>> 
>> I've set "ALPHA" to "YES" in the warp options but this has not helped. 
>> I've also tried adding an extra transparent band, but this made the entire
>> output image transparent.
> 
> Strange, perhaps you should retry.
> 
> To have a transparency band added in the output of the warping, you need to 
> set the band number in the GDALCreate() call to 1 + 
> GDALGetRasterCount(hSrcDS), and also set psWarpOptions->nDstAlphaBand = 1 + 
> GDALGetRasterCount(hSrcDS)
> 
> This should be equivalent to the -dstalpha option of gdalwarp. By the way, if 
> I were you, I would try to find the gdalwarp command line that fits my need, and 
> then study its code source to extract what is needed for your use case.


From bruno.belarte at gmail.com  Thu Sep 20 01:23:34 2012
From: bruno.belarte at gmail.com (Bruno Belarte)
Date: Thu, 20 Sep 2012 10:23:34 +0200
Subject: [gdal-dev] Reading an IntegerList from file
In-Reply-To: <1348067064.5059def843c49@imp.free.fr>
References: <5059D6BE.1060808@gmail.com> <1348067064.5059def843c49@imp.free.fr>
Message-ID: <505AD286.2010209@gmail.com>

Hi,

Thank you for your answer.

Le 19/09/2012 17:04, Even Rouault a ?crit :
> Because KML, GML and SQLite driver have a default case where they will create a
> field of String type when encountering an unhandled field type such as
> IntegerList, whereas the Shapefile driver will refuse it directly. For those
> drivers that consider an IntegerList as a String, they will serialize it's
> content as "{N:v1,v2,...,vn}", and potentially truncated if that serialized
> content goes above 80 characters.
Is it possible to keep the full string and not the truncated one ? Maybe 
a parameter to set ?

> Yes, when reading back those files, the field is presumably of String type, so
> GetFieldAsIntegerList() returns NULL. But GetFieldAsString() should return the
> serialized content in the "{N:v1,v2,...,vn}" format.
>
> You can confirm that easily by using ogrinfo.
Yes, I can access the field as a string. So I just need to parse it to 
do what I want and the job will be done.

> Very few drivers fully support round-tripping of IntegerList, RealList 
> of StringList types. AFAIR, PostgreSQL is one of them, but that must 
> be about it. The GML driver supports it in read mode, but not in write 
> mode (although that could probably be improved)

For now I have tested a few  drivers :
- KML : useless with the default driver (unable to read the extended 
data). Solution : use the libkml (from google)
- Shapefile : unable to write IntegerList
- GML : as you said the driver doesn't support IntegerList in write mode
- SQLite : works fine, the only drawback is that this driver is a lot 
slower than the others

 From now I will use the SQLite driver as the performance in write mode 
is not an issue for me.

Bruno Belarte

From ari.jolma at gmail.com  Thu Sep 20 01:41:24 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Thu, 20 Sep 2012 11:41:24 +0300
Subject: [gdal-dev] Perl Binding Documentation for previous releases
	-->404
In-Reply-To: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3673@COMAIL01.digitalglobe.com>
References: <8B319E5A30FF4A48BE7EEAAF609DB2330ABA3621@COMAIL01.digitalglobe.com>
	<201209192114.45105.even.rouault@mines-paris.org>
	<8B319E5A30FF4A48BE7EEAAF609DB2330ABA3673@COMAIL01.digitalglobe.com>
Message-ID: <505AD6B4.4030402@gmail.com>

Ethan and others,

We're in the process of moving everything from geoinformatics.tkk.fi to 
geoinformatics.aalto.fi. TKK became a part of Aalto a couple of years ago.

Thanks for the info on bad links.

Ari

19.9.2012 23:41, Ethan Alpert kirjoitti:
> Thanks!
>
> Indeed to get to the perl bindings I always start at:
>
>
> http://trac.osgeo.org/gdal/wiki/GdalOgrInPerl
>
> and follow the link:
>
> http://geoinformatics.aalto.fi/doc/Geo-GDAL/html/
>
> that page has the bad link.
>
>
>
> -----Original Message-----
> From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Even Rouault
> Sent: Wednesday, September 19, 2012 1:15 PM
> To: gdal-dev at lists.osgeo.org; Ari Jolma
> Subject: Re: [gdal-dev] Perl Binding Documentation for previous releases -->404
>
> Le mercredi 19 septembre 2012 20:43:39, Ethan Alpert a ?crit :
>> Getting page not found for:
>>
>>
>>
>> http://geoinformatics.tkk.fi/doc/Geo-GDAL-1.8/html/index.html
> I guess you reached that link from http://geoinformatics.aalto.fi/doc/Geo-
> GDAL/html/ that is linked from http://trac.osgeo.org/gdal/wiki/GdalOgrInPerl ?
>
> So, I tried the following http://geoinformatics.aalto.fi/doc/Geo-
> GDAL-1.8/html/index.html and it seems to work
>
> I believe that Ari maintains that site.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
> This electronic communication and any attachments may contain confidential and proprietary
> information of DigitalGlobe, Inc. If you are not the intended recipient, or an agent or employee
> responsible for delivering this communication to the intended recipient, or if you have received
> this communication in error, please do not print, copy, retransmit, disseminate or
> otherwise use the information. Please indicate to the sender that you have received this
> communication in error, and delete the copy you received. DigitalGlobe reserves the
> right to monitor any electronic communication sent or received by its employees, agents
> or representatives.
>


From even.rouault at mines-paris.org  Thu Sep 20 02:06:03 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 20 Sep 2012 11:06:03 +0200
Subject: [gdal-dev] Reading an IntegerList from file
In-Reply-To: <505AD286.2010209@gmail.com>
References: <5059D6BE.1060808@gmail.com> <1348067064.5059def843c49@imp.free.fr>
	<505AD286.2010209@gmail.com>
Message-ID: <1348131963.505adc7b1089f@imp.free.fr>


> Is it possible to keep the full string and not the truncated one ? Maybe
> a parameter to set ?

No, there's no existing parameter to avoid the truncation. What you could do is
just create a string with that format (or one you prefer)

> For now I have tested a few  drivers :
> - KML : useless with the default driver (unable to read the extended
> data). Solution : use the libkml (from google)
> - Shapefile : unable to write IntegerList
> - GML : as you said the driver doesn't support IntegerList in write mode
> - SQLite : works fine, the only drawback is that this driver is a lot
> slower than the others
>
>  From now I will use the SQLite driver as the performance in write mode
> is not an issue for me.

You could use shapefiles by using a String field instead of IntegerList. SQLite
has no native support for list types either, so it will transform it into a
string too.

SQLite write performances can be improved dramatically by following the
recommandations in the "Performance hints" paragraph of
http://gdal.org/ogr/drv_sqlite.html . In particular, in my experience, on some
Linux kernels and EXT4 filesystem, defining the configuration option/env.
variable OGR_SQLITE_SYNCHRONOUS to OFF, leads to huge performance boosts.



From ivan.lucena at princeton-ma.us  Thu Sep 20 07:30:09 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Thu, 20 Sep 2012 09:30:09 -0500
Subject: [gdal-dev]
	=?iso-8859-1?q?OCI_driver_and_setting_the_client_encod?=
	=?iso-8859-1?q?ing?=
In-Reply-To: <loom.20120919T123448-198@post.gmane.org>
References: <loom.20120919T123448-198@post.gmane.org>
Message-ID: <20120920143010.22594.qmail@s466.sureserver.com>

Hi Jukka,

>  I spent some nice hours trying to get the Finnish characters to appear right in
>  Oracle. Now it looks like I have found a working solution but I would like to
>  know if it is correct and reliable.
>  
>  I am on Windows, Finnins-Finland and chcp shows me code 850. Our Oracle is using
>  UTF-8 encoding.
>  
>  I tried to transfer data from Spatialite (UTF-8) into Oracle but non-ASCII
>  characters were not transferred right. I converted data from Spatialite into GML
>  and tried what happens with native UTF-8. Not good so I converted GML into
>  ISO-8859-1 with iconv. Bad luck even this way. Then I converted data into
>  shapefiles and had some trials with setting the SHAPE_ENCODING environment and
>  still the characters were wrong in Oracle side.
>  
>  I continued and read a few documents about Oracle NLS_LANG settings and tried to
>  set NLS_LANG to correspond with what I thought to suit my console settings. This
>  made difference; I got still wrong results but they were different and I started
>  to believe that I may be able to win the beast.
>  
>  Finally I set environment as
>  SET NLS_LANG=american.america.UTF8
>  
>  Now I seem to get right characters into Oracle from Spatialite, GML, and
>  shapefiles.

So, if I understood it, you are using ogr2ogr in a Finnins-Finland Windows locale but Oracle is set for american.america and the OGR/OCI driver doesn't make the distinction automatically.

Does your data has Finnins-Finland characters on it?

>  Is this the right thing to do? If yes, will it work also for other locales and
>  could it thus be worth mentioning in the OCI documentation
>  http://www.gdal.org/ogr/drv_oci.html? Could it even be initialized automatically
>  by the OCI driver?

Check that link for more information: 

http://www.oracle.com/technetwork/database/globalization/nls-lang-099431.html

Regards,

Ivan

From radim.blazek at gmail.com  Thu Sep 20 07:47:38 2012
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 20 Sep 2012 16:47:38 +0200
Subject: [gdal-dev] Geoserver WCS demo problems on opengeo.org
Message-ID: <CAEMrtYoVKaY0j2cePafBL84MSRBqk1uV3Qg0OBG_gif0eFrncA@mail.gmail.com>

I am testing QGIS WCS client with [1] and I found some problems which
are server side, I believe.

1) Coverage og:0 / version 1.0.0  [2] and bm / version 1.1.0 [5]: The
server fails in DescribeCoverage with: java.io.IOException null
Translator error Unexpected error occurred during describe coverage
xml encoding ...

2) Coverage usgs:nlcd / version 1.0.0 [3] and nlcd / version 1.1.0
[4]:  The server does not offer any CRS in DescribeCoverage
supportedCRSs / supportedCRS. If the CRS defined in
spatialDomain.Envelope is used server fails reporting error: Could not
recognize crs ...

3) Coverage 0 / version 1.1.0 [6] and naturalearth / version 1.1.0:
The server fails in GetCoverage with
'java.lang.IllegalArgumentException: xScale:the parameter value is not
valid. xScale:the parameter value is not valid.'
It fails with BOUNDINGBOX=-2,-6,2,6&GRIDORIGIN=2,-6&GRIDOFFSETS=-2,3
and it works with
BOUNDINGBOX=-2,-6,2,6&GRIDORIGIN=2,-6&GRIDOFFSETS=2,-3 (GRIDOFFSETS
signs switched) but other coverages (Arc_Sample e.g.) work OK with the
first.

4) Coverage Img_Sample / version 1.1.0 [7]: The server fails in
GetCoverage with 'java.lang.IllegalArgumentException: The specified
dimensional parameter is non-positive. The specified dimensional
parameter is non-positive'.

The problems 1) and 2) occur also with GDAL 1.9.1 while other layers
are working with GDAL and WCS version 1.0.0. I could not verify WCS
1.1.0 with GDAL because all layers fail. I could not verify with
gvSIG-1_11-1305-final because it does not work at all with this
server.

CC to various lists to which it may be of interest. Let us make WCS
really working with OS GIS tools!

Radim

[1] http://demo.opengeo.org/geoserver/wcs
[2] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.0.0&COVERAGE=og:0
[3] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.0.0&COVERAGE=usgs:nlcd
[4] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.1.1&IDENTIFIERS=nlcd
[5] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.1.1&IDENTIFIERS=bm
[6] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&VERSION=1.1.1&REQUEST=GetCoverage&FORMAT=image/tiff;subtype=%22geotiff%22&IDENTIFIER=0&BOUNDINGBOX=-2,-6,2,6,urn:ogc:def:crs:EPSG::4326&GRIDBASECRS=urn:ogc:def:crs:EPSG::4326&GRIDCS=urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS
&GRIDTYPE=urn:ogc:def:method:WCS:1.1:2dSimpleGrid&GRIDORIGIN=2,-6&GRIDOFFSETS=-2,3
[7] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&VERSION=1.1.1&REQUEST=GetCoverage&FORMAT=image/tiff;subtype=%22geotiff%22&IDENTIFIER=Img_Sample
&BOUNDINGBOX=-96,36,-94,37,urn:ogc:def:crs:EPSG::4326&GRIDBASECRS=urn:ogc:def:crs:EPSG::4326&GRIDCS=urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS&GRIDTYPE=urn:ogc:def:method:WCS:1.1:2dSimpleGrid&GRIDORIGIN=-94,36&GRIDOFFSETS=-1,1

From pierre.giraud at gmail.com  Thu Sep 20 07:50:21 2012
From: pierre.giraud at gmail.com (Pierre GIRAUD)
Date: Thu, 20 Sep 2012 16:50:21 +0200
Subject: [gdal-dev] gdalwarp and Natural Earth
In-Reply-To: <201209161706.28512.even.rouault@mines-paris.org>
References: <CAOZv5an4UKQVU0+7PFpBdcXEkfO62GxeeVqVSsrRc_D2Xa0TeA@mail.gmail.com>
	<201209161706.28512.even.rouault@mines-paris.org>
Message-ID: <CAOZv5anHAtYsLs+vJ6eLVsFfcAwGmcfmgPb2WPc0qAHUaqEMnQ@mail.gmail.com>

On Sun, Sep 16, 2012 at 5:06 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le samedi 15 septembre 2012 21:01:10, Pierre GIRAUD a ?crit :
>> Hello all,
>>
>> A new "Natural Earth" projection was added recently to the PROJ.4 library.
>> http://www.shadedrelief.com/NE_proj/
>>
>> I'm trying to figure out if and how it is possible to transform a
>> raster file (GeoTIFF) using this projection.
>>
>> I've tried the following unsuccessfully:
>> gdalwarp -t_srs '+proj=natearth' -s_srs EPSG:4326 map_4326.tif
>> map_natearth.tif ERROR 1: Translating source or target SRS failed:
>> +proj=natearth
>>
>> Does GDAL have support for this projection? Does it rely on PROJ for
>> that purpose? Should I have something to be configured specifically
>> while compiling it?
>
> With GDAL < 2.0, you can try the following :
>
> -t_srs 'LOCAL_CS["foo", EXTENSION["PROJ4", "+proj=natearth +wktext"]]'
>
> This is a bit hackish, but that should work with any PROJ.4 projection that
> isn't explicitely supported by GDAL.

This works fine.
Thanks a lot.

>
> With GDAL 2.0dev, the following is sufficient :
>
>  -t_srs '+proj=natearth +wktext'

This doesn't work. Even on a newly compiled GDAL.
But I may have missed something.

>
> Note that, in both cases, you need to specify +wktext to instruct GDAL not to
> alter the proj.4 string that is specified.
>
>>
>> Thanks for your help.
>> Pierre

From jmckenna at gatewaygeomatics.com  Thu Sep 20 07:54:52 2012
From: jmckenna at gatewaygeomatics.com (Jeff McKenna)
Date: Thu, 20 Sep 2012 11:54:52 -0300
Subject: [gdal-dev] Geoserver WCS demo problems on opengeo.org
In-Reply-To: <CAEMrtYoVKaY0j2cePafBL84MSRBqk1uV3Qg0OBG_gif0eFrncA@mail.gmail.com>
References: <CAEMrtYoVKaY0j2cePafBL84MSRBqk1uV3Qg0OBG_gif0eFrncA@mail.gmail.com>
Message-ID: <505B2E3C.2080509@gatewaygeomatics.com>

Hi Radim,

I am curious, did you run your tests against the WCS service at
demo.mapserver.org ?  How were those results comparably?  If you did run
them, maybe you can report your findings on the MapServer-dev list.

-jeff



On 12-09-20 11:47 AM, Radim Blazek wrote:
> I am testing QGIS WCS client with [1] and I found some problems which
> are server side, I believe.
> 
> 1) Coverage og:0 / version 1.0.0  [2] and bm / version 1.1.0 [5]: The
> server fails in DescribeCoverage with: java.io.IOException null
> Translator error Unexpected error occurred during describe coverage
> xml encoding ...
> 
> 2) Coverage usgs:nlcd / version 1.0.0 [3] and nlcd / version 1.1.0
> [4]:  The server does not offer any CRS in DescribeCoverage
> supportedCRSs / supportedCRS. If the CRS defined in
> spatialDomain.Envelope is used server fails reporting error: Could not
> recognize crs ...
> 
> 3) Coverage 0 / version 1.1.0 [6] and naturalearth / version 1.1.0:
> The server fails in GetCoverage with
> 'java.lang.IllegalArgumentException: xScale:the parameter value is not
> valid. xScale:the parameter value is not valid.'
> It fails with BOUNDINGBOX=-2,-6,2,6&GRIDORIGIN=2,-6&GRIDOFFSETS=-2,3
> and it works with
> BOUNDINGBOX=-2,-6,2,6&GRIDORIGIN=2,-6&GRIDOFFSETS=2,-3 (GRIDOFFSETS
> signs switched) but other coverages (Arc_Sample e.g.) work OK with the
> first.
> 
> 4) Coverage Img_Sample / version 1.1.0 [7]: The server fails in
> GetCoverage with 'java.lang.IllegalArgumentException: The specified
> dimensional parameter is non-positive. The specified dimensional
> parameter is non-positive'.
> 
> The problems 1) and 2) occur also with GDAL 1.9.1 while other layers
> are working with GDAL and WCS version 1.0.0. I could not verify WCS
> 1.1.0 with GDAL because all layers fail. I could not verify with
> gvSIG-1_11-1305-final because it does not work at all with this
> server.
> 
> CC to various lists to which it may be of interest. Let us make WCS
> really working with OS GIS tools!
> 
> Radim
> 
> [1] http://demo.opengeo.org/geoserver/wcs
> [2] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.0.0&COVERAGE=og:0
> [3] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.0.0&COVERAGE=usgs:nlcd
> [4] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.1.1&IDENTIFIERS=nlcd
> [5] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.1.1&IDENTIFIERS=bm
> [6] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&VERSION=1.1.1&REQUEST=GetCoverage&FORMAT=image/tiff;subtype=%22geotiff%22&IDENTIFIER=0&BOUNDINGBOX=-2,-6,2,6,urn:ogc:def:crs:EPSG::4326&GRIDBASECRS=urn:ogc:def:crs:EPSG::4326&GRIDCS=urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS
> &GRIDTYPE=urn:ogc:def:method:WCS:1.1:2dSimpleGrid&GRIDORIGIN=2,-6&GRIDOFFSETS=-2,3
> [7] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&VERSION=1.1.1&REQUEST=GetCoverage&FORMAT=image/tiff;subtype=%22geotiff%22&IDENTIFIER=Img_Sample
> &BOUNDINGBOX=-96,36,-94,37,urn:ogc:def:crs:EPSG::4326&GRIDBASECRS=urn:ogc:def:crs:EPSG::4326&GRIDCS=urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS&GRIDTYPE=urn:ogc:def:method:WCS:1.1:2dSimpleGrid&GRIDORIGIN=-94,36&GRIDOFFSETS=-1,1
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> 


-- 
Jeff McKenna
MapServer Consulting and Training Services
http://www.gatewaygeomatics.com/



From jukka.rahkonen at mmmtike.fi  Thu Sep 20 10:29:36 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu, 20 Sep 2012 17:29:36 +0000 (UTC)
Subject: [gdal-dev] Reading an IntegerList from file
References: <5059D6BE.1060808@gmail.com> <1348067064.5059def843c49@imp.free.fr>
	<505AD286.2010209@gmail.com> <1348131963.505adc7b1089f@imp.free.fr>
Message-ID: <loom.20120920T192336-811@post.gmane.org>

Even Rouault <even.rouault <at> mines-paris.org> writes:

> 
> SQLite write performances can be improved dramatically by following the
> recommandations in the "Performance hints" paragraph of
> http://gdal.org/ogr/drv_sqlite.html . In particular, in my experience, on some
> Linux kernels and EXT4 filesystem, defining the configuration option/env.
> variable OGR_SQLITE_SYNCHRONOUS to OFF, leads to huge performance boosts.

I feel that on Windows before you can enjoy that performance boost you must also
increase -gt.  The defauls value (200) is for sure too low for any bigger
datasets, try 2000 or 10000 instead.

-Jukka Rahkonen-


From even.rouault at mines-paris.org  Thu Sep 20 10:52:07 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 20 Sep 2012 19:52:07 +0200
Subject: [gdal-dev] gdalwarp and Natural Earth
In-Reply-To: <CAOZv5anHAtYsLs+vJ6eLVsFfcAwGmcfmgPb2WPc0qAHUaqEMnQ@mail.gmail.com>
References: <CAOZv5an4UKQVU0+7PFpBdcXEkfO62GxeeVqVSsrRc_D2Xa0TeA@mail.gmail.com>
	<201209161706.28512.even.rouault@mines-paris.org>
	<CAOZv5anHAtYsLs+vJ6eLVsFfcAwGmcfmgPb2WPc0qAHUaqEMnQ@mail.gmail.com>
Message-ID: <201209201952.08005.even.rouault@mines-paris.org>


> > With GDAL 2.0dev, the following is sufficient :
> >  -t_srs '+proj=natearth +wktext'
> 
> This doesn't work. Even on a newly compiled GDAL.
> But I may have missed something.

Did you really try with GDAL trunk ( https://svn.osgeo.org/gdal/trunk/gdal ) ? 
I've just checked that works.

For example :

$ gdalsrsinfo '+proj=natearth +wktext'

PROJ.4 : '+proj=natearth +wktext'

OGC WKT :
PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["unknown",
            SPHEROID["WGS84",6378137,298.257223563]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433]],
    PROJECTION["custom_proj4"],
    EXTENSION["PROJ4","+proj=natearth +wktext"]]


From jukka.rahkonen at mmmtike.fi  Thu Sep 20 11:06:41 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu, 20 Sep 2012 18:06:41 +0000 (UTC)
Subject: [gdal-dev]
	=?utf-8?q?OCI_driver_and_setting_the_client_encoding?=
References: <loom.20120919T123448-198@post.gmane.org>
	<20120920143010.22594.qmail@s466.sureserver.com>
Message-ID: <loom.20120920T192958-809@post.gmane.org>

Ivan Lucena <ivan.lucena <at> princeton-ma.us> writes:

> So, if I understood it, you are using ogr2ogr in a Finnins-Finland 
Windows locale but Oracle is set for
> american.america and the OGR/OCI driver doesn't make the distinction
automatically.

Not really, our Oracle is set to Finnish-Finland and UTF-8
> 
> Does your data has Finnins-Finland characters on it?

The primary data source is Spatialite which is using UTF-8 internally. 
Thus I would say that my data does not has Finnish characters, it has 
UTF-8 characters, but without setting NLS_LANG the OGR OCI driver does 
not consider them as UTF-8 but something else. I suppose that a more 
correct NLS_LANG setting for my input data would be
finnish_finland.UTF8. I tested with that and the result was correct,
too. I am not sure what hhappens with shapefiles; the dbf file has 
ISO-8859-1 encoding on my computer but it looks like ogr2ogr with 
OCI driver is changing the encoding on-the-fly to something else, 
perhaps to UTF-8.

I volunteer to test anything that a non-programmer can test for 
getting an understanding about how the OCI driver is handling different 
character encodings and help in documenting the behaviour. 

-Jukka Rahkonen-



 
> >  Is this the right thing to do? If yes, will it work also for other 
locales and
> >  could it thus be worth mentioning in the OCI documentation
> >  http://www.gdal.org/ogr/drv_oci.html? Could it even be initialized
automatically
> >  by the OCI driver?
> 
> Check that link for more information: 
> 
> http://www.oracle.com/technetwork/database/globalization/nls-lang-099431.html

Just the page that was leading me to right direction.

> Regards,
> 
> Ivan
> 





From even.rouault at mines-paris.org  Thu Sep 20 11:26:22 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 20 Sep 2012 20:26:22 +0200
Subject: [gdal-dev] New GDAL buildbot
Message-ID: <201209202026.22737.even.rouault@mines-paris.org>

Hi,

Just to inform you that the PostGIS team (thanks !) has set up a buildbot 
that, in addition to PostGIS, includes builds of GDAL trunk and runs the 
Python autotest suite.

http://debbie.postgis.net:8080/view/GDAL/

The OS of that buildbot is apparently Linux Debian. Note : the list of 
optional GDAL/OGR drivers that rely on dependant libraries included in those 
builds is still minimal.

That's also the opportunity to remind you of the existing Windows buildbots 
maintained by Tamas Szerekes at 

http://www.gisinternals.com/sdk/

Even

From radim.blazek at gmail.com  Thu Sep 20 11:52:05 2012
From: radim.blazek at gmail.com (Radim Blazek)
Date: Thu, 20 Sep 2012 20:52:05 +0200
Subject: [gdal-dev] Geoserver WCS demo problems on opengeo.org
In-Reply-To: <505B2E3C.2080509@gatewaygeomatics.com>
References: <CAEMrtYoVKaY0j2cePafBL84MSRBqk1uV3Qg0OBG_gif0eFrncA@mail.gmail.com>
	<505B2E3C.2080509@gatewaygeomatics.com>
Message-ID: <CAEMrtYo6bC4-kTp2W7zssaCss+yYi_GfpG_Pu87x8YFdEr6xDg@mail.gmail.com>

On Thu, Sep 20, 2012 at 4:54 PM, Jeff McKenna
<jmckenna at gatewaygeomatics.com> wrote:
> Hi Radim,
>
> I am curious, did you run your tests against the WCS service at
> demo.mapserver.org ?  How were those results comparably?  If you did run
> them, maybe you can report your findings on the MapServer-dev list.

modis-001 / 1.0.0 [M1]: The server advertises
temporalDomain.timePosition 2002-001 but GetCoverages fails with
'msWCSGetCoverage(): WCS server error. Underlying layer is not tiled,
unable to do temporal subsetting.' if TIME=2002-001 is used. The same
with GDAL and gvSIG. This is well known problem which I have already
reported in mapserver list.

Other layers work with WCS 1.0.0, also with GDAL and
gvSIG-1_11-1305-final (it is using 1.0.0 by default).

OTOH, modis-001 is the only one working correctly with WCS 1.1.1.
Other layers have all pixels 0. The same with GDAL.

Radim

[M1] http://demo.mapserver.org:8080/cgi-bin/wcs?SERVICE=WCS&VERSION=1.0.0&REQUEST=GetCoverage&FORMAT=GeoTIFF&COVERAGE=modis-001&TIME=2002-001&BBOX=778457.0000000000000000,5048895.0000000000000000,781457.0000000000000000,5050395.0000000000000000&CRS=EPSG:26915&RESPONSE_CRS=EPSG:26915&WIDTH=6&HEIGHT=3

> -jeff
>
>
>
> On 12-09-20 11:47 AM, Radim Blazek wrote:
>> I am testing QGIS WCS client with [1] and I found some problems which
>> are server side, I believe.
>>
>> 1) Coverage og:0 / version 1.0.0  [2] and bm / version 1.1.0 [5]: The
>> server fails in DescribeCoverage with: java.io.IOException null
>> Translator error Unexpected error occurred during describe coverage
>> xml encoding ...
>>
>> 2) Coverage usgs:nlcd / version 1.0.0 [3] and nlcd / version 1.1.0
>> [4]:  The server does not offer any CRS in DescribeCoverage
>> supportedCRSs / supportedCRS. If the CRS defined in
>> spatialDomain.Envelope is used server fails reporting error: Could not
>> recognize crs ...
>>
>> 3) Coverage 0 / version 1.1.0 [6] and naturalearth / version 1.1.0:
>> The server fails in GetCoverage with
>> 'java.lang.IllegalArgumentException: xScale:the parameter value is not
>> valid. xScale:the parameter value is not valid.'
>> It fails with BOUNDINGBOX=-2,-6,2,6&GRIDORIGIN=2,-6&GRIDOFFSETS=-2,3
>> and it works with
>> BOUNDINGBOX=-2,-6,2,6&GRIDORIGIN=2,-6&GRIDOFFSETS=2,-3 (GRIDOFFSETS
>> signs switched) but other coverages (Arc_Sample e.g.) work OK with the
>> first.
>>
>> 4) Coverage Img_Sample / version 1.1.0 [7]: The server fails in
>> GetCoverage with 'java.lang.IllegalArgumentException: The specified
>> dimensional parameter is non-positive. The specified dimensional
>> parameter is non-positive'.
>>
>> The problems 1) and 2) occur also with GDAL 1.9.1 while other layers
>> are working with GDAL and WCS version 1.0.0. I could not verify WCS
>> 1.1.0 with GDAL because all layers fail. I could not verify with
>> gvSIG-1_11-1305-final because it does not work at all with this
>> server.
>>
>> CC to various lists to which it may be of interest. Let us make WCS
>> really working with OS GIS tools!
>>
>> Radim
>>
>> [1] http://demo.opengeo.org/geoserver/wcs
>> [2] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.0.0&COVERAGE=og:0
>> [3] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.0.0&COVERAGE=usgs:nlcd
>> [4] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.1.1&IDENTIFIERS=nlcd
>> [5] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&REQUEST=DescribeCoverage&VERSION=1.1.1&IDENTIFIERS=bm
>> [6] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&VERSION=1.1.1&REQUEST=GetCoverage&FORMAT=image/tiff;subtype=%22geotiff%22&IDENTIFIER=0&BOUNDINGBOX=-2,-6,2,6,urn:ogc:def:crs:EPSG::4326&GRIDBASECRS=urn:ogc:def:crs:EPSG::4326&GRIDCS=urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS
>> &GRIDTYPE=urn:ogc:def:method:WCS:1.1:2dSimpleGrid&GRIDORIGIN=2,-6&GRIDOFFSETS=-2,3
>> [7] http://demo.opengeo.org/geoserver/wcs?SERVICE=WCS&VERSION=1.1.1&REQUEST=GetCoverage&FORMAT=image/tiff;subtype=%22geotiff%22&IDENTIFIER=Img_Sample
>> &BOUNDINGBOX=-96,36,-94,37,urn:ogc:def:crs:EPSG::4326&GRIDBASECRS=urn:ogc:def:crs:EPSG::4326&GRIDCS=urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS&GRIDTYPE=urn:ogc:def:method:WCS:1.1:2dSimpleGrid&GRIDORIGIN=-94,36&GRIDOFFSETS=-1,1
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
> --
> Jeff McKenna
> MapServer Consulting and Training Services
> http://www.gatewaygeomatics.com/
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From nixanz at nixanz.com  Thu Sep 20 19:11:53 2012
From: nixanz at nixanz.com (Nik Sands)
Date: Fri, 21 Sep 2012 12:11:53 +1000
Subject: [gdal-dev] Get list of all available SRS
Message-ID: <7A3854A2-8C2A-437B-A496-813F3D849912@nixanz.com>

Is there a way to get a list (eg, array) of all Spatial Reference Systems currently available to GDAL (eg, all those defined in files in GDAL_DATA directory)?

In my GUI application, I'd like to be able to present my users with a list of SRS to choose from, but I'm not sure how to generate such a list.

From warmerdam at pobox.com  Thu Sep 20 19:49:23 2012
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Thu, 20 Sep 2012 19:49:23 -0700
Subject: [gdal-dev] Get list of all available SRS
In-Reply-To: <7A3854A2-8C2A-437B-A496-813F3D849912@nixanz.com>
References: <7A3854A2-8C2A-437B-A496-813F3D849912@nixanz.com>
Message-ID: <505BD5B3.4020005@pobox.com>

On 12-09-20 07:11 PM, Nik Sands wrote:
> Is there a way to get a list (eg, array) of all Spatial Reference Systems currently available to GDAL (eg, all those defined in files in GDAL_DATA directory)?
>
> In my GUI application, I'd like to be able to present my users with a list of SRS to choose from, but I'm not sure how to generate such a list.

Nik,

GDAL does not provide any services to get the SRS list but you can
access the gdal/data/pcs.csv and gdal/data/gcs.csv files yourself
fairly easily to get the names and EPSG identifiers.  What this does
not help with is a logical organization of the SRSes which can be
helpful in a GUI since there are a lot.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
light and sound - activate the windows | http://home.gdal.org/warmerda
and watch the world go round - Rush    | Geospatial Software Developer


From neelima.emmani at iictechnologies.com  Thu Sep 20 21:59:26 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Fri, 21 Sep 2012 04:59:26 +0000
Subject: [gdal-dev] s57 layers
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnologies.local>

Hi All,

I am trying to load s57 dataset into a windowform using C# coding. The datasoruce is read well. But the layers are not presented properly. Layers are shown as below instead of layers like ACHARE, BCNSPP.....

[cid:dd8a6667-e79c-4904-ba37-eb4ead59bb32]


Actually I have 49 layers in my map.Can anyone tell me why is this happening?Any help is appreciated.





With Regards,
Neelima Emmani
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/64ba6bb7/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: print2.png
Type: image/png
Size: 6933 bytes
Desc: print2.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/64ba6bb7/attachment.png>

From Tyler.Mitchell at actian.com  Thu Sep 20 22:17:47 2012
From: Tyler.Mitchell at actian.com (Tyler Mitchell)
Date: Fri, 21 Sep 2012 01:17:47 -0400
Subject: [gdal-dev] s57 layers
References: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnologies.local>
Message-ID: <6152BDF053E74643B4C0A41150F5ADC33C019B@USINVMAILB01.ingres.prv>

I'm sure I can't help you but if you share some of your code it might be easy to diagnose.
 
Best wishes,
Tyler

________________________________

From: gdal-dev-bounces at lists.osgeo.org on behalf of Neelima Emmani
Sent: Thu 9/20/2012 9:59 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] s57 layers



Hi All,

I am trying to load s57 dataset into a windowform using C# coding. The datasoruce is read well. But the layers are not presented properly. Layers are shown as below instead of layers like ACHARE, BCNSPP.....

 <https://mail.ingres.com/exchange/mitty01/Drafts/RE:%20[gdal-dev]%20s57%20layers.EML/1_multipart/print2.png> 



Actually I have 49 layers in my map.Can anyone tell me why is this happening?Any help is appreciated. 


 

 

With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/09e4ac51/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: print2.png
Type: image/png
Size: 6933 bytes
Desc: print2.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/09e4ac51/attachment-0001.png>

From hilda.villegas at navico.com  Thu Sep 20 22:30:10 2012
From: hilda.villegas at navico.com (Hilda Villegas)
Date: Fri, 21 Sep 2012 05:30:10 +0000
Subject: [gdal-dev] s57 layers
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnolog
	ies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnologi
	es.local>
Message-ID: <8B0C8942F7080F47B82245E36EAEFB8B0B36A9DC@EXCH01-OKLUS.MARINE.NET.INT>

Hi Neelima,

I was dealing with the same issue some time ago, you have to add a system variable called GDAL_DATA pointing to the s57 .CSV files location (you can find them in the data folder. You will need s57attributes.csv, s57objectclasses.csv and s57expectedinput.csv at least) unfortunately these files are not updated with the latest changes from IHO, so all updates from S-57 Supplement No 1 and No 2 to Edition 3.1 are not reflected into the .CSV files.

I hope this helps.

Best Regards,

HILDA VILLEGAS


From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Neelima Emmani
Sent: Thursday, September 20, 2012 9:59 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] s57 layers


Hi All,

I am trying to load s57 dataset into a windowform using C# coding. The datasoruce is read well. But the layers are not presented properly. Layers are shown as below instead of layers like ACHARE, BCNSPP.....
[cid:image001.png at 01CD977E.B0F45B10]


Actually I have 49 layers in my map.Can anyone tell me why is this happening?Any help is appreciated.




With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/25cd03f1/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6933 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/25cd03f1/attachment.png>

From neelima.emmani at iictechnologies.com  Fri Sep 21 00:15:25 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Fri, 21 Sep 2012 07:15:25 +0000
Subject: [gdal-dev] s57 layers
In-Reply-To: <8B0C8942F7080F47B82245E36EAEFB8B0B36A9DC@EXCH01-OKLUS.MARINE.NET.INT>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnologi
	es.local>,
	<8B0C8942F7080F47B82245E36EAEFB8B0B36A9DC@EXCH01-OKLUS.MARINE.NET.INT>
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467780C40@IICEXHC01.iictechnologies.local>

Hi Hilda,
I gave system variables the path where my *.csv files are. But even then the situation is same. Is there any other help you can suggest me.

With Regards,
Neelima Emmani
GIS Developer
Phone Number - 04039144487
Mobile Number - 9490817875
________________________________
From: Hilda Villegas [hilda.villegas at navico.com]
Sent: Friday, September 21, 2012 11:00 AM
To: Neelima Emmani; gdal-dev at lists.osgeo.org
Subject: RE: s57 layers

Hi Neelima,

I was dealing with the same issue some time ago, you have to add a system variable called GDAL_DATA pointing to the s57 .CSV files location (you can find them in the data folder. You will need s57attributes.csv, s57objectclasses.csv and s57expectedinput.csv at least) unfortunately these files are not updated with the latest changes from IHO, so all updates from S-57 Supplement No 1 and No 2 to Edition 3.1 are not reflected into the .CSV files.

I hope this helps.

Best Regards,

HILDA VILLEGAS


From: gdal-dev-bounces at lists.osgeo.org [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Neelima Emmani
Sent: Thursday, September 20, 2012 9:59 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] s57 layers


Hi All,

I am trying to load s57 dataset into a windowform using C# coding. The datasoruce is read well. But the layers are not presented properly. Layers are shown as below instead of layers like ACHARE, BCNSPP.....
[cid:image001.png at 01CD977E.B0F45B10]


Actually I have 49 layers in my map.Can anyone tell me why is this happening?Any help is appreciated.




With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/db958a9e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6933 bytes
Desc: image001.png
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120921/db958a9e/attachment-0001.png>

From hsumanto at vpac.org  Fri Sep 21 02:53:08 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Fri, 21 Sep 2012 19:53:08 +1000 (EST)
Subject: [gdal-dev] GDAL / Java bindings : undefined symbol:
 _ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1
Message-ID: <863716031.101618.1348221188538.JavaMail.root@mail>

I am building GDAL Java Bindings on Centos 6.2 using Oracle Java SDK 1.7

$ cd local/gdal-trunk/gdal
$ ./configure --prefix=/home/579/hxs579/local/gdal-trunk --enable-netcdf4
$ make
$ sudo make install

Then edit the file swig/java/java.opt (from your GDAL source directory) 
JAVA_HOME=/usr/java/latest

$ cd swig/java
$ make

But when trying to execute the gdalinfo class as per instruction on trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructionsUnix
I am facing undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1

Any idea how to deal with this issue would be really appreciated.

$ java -version
java version "1.7.0_05"
Java(TM) SE Runtime Environment (build 1.7.0_05-b05)
Java HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)

Please find below full traces of my errors:

$ javac apps/gdalinfo.java
Note: apps/gdalinfo.java uses unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/579/hxs579/local/gdal-trunk/gdal/swig/java
$ java -classpath '/home/579/hxs579/local/gdal-trunk/gdal/swig/java/gdal.jar':/home/579/hxs579/local/gdal-trunk/gdal/swig/java/apps gdalinfo
Native library load failed.
java.lang.UnsatisfiedLinkError: /home/579/hxs579/local/gdal-trunk/gdal/swig/java/libgdaljni.so: /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1: undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE
Exception in thread "main" java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.AllRegister()V
	at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
	at org.gdal.gdal.gdal.AllRegister(gdal.java:479)
	at gdalinfo.main(gdalinfo.java:87)

I never experience this issue before when building GDAL Java Bindings on latest Ubuntu from gdal-trunk SVN checkout.

Cheers,

Hendy

From even.rouault at mines-paris.org  Fri Sep 21 04:23:44 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 21 Sep 2012 13:23:44 +0200
Subject: [gdal-dev] GDAL / Java bindings : undefined symbol:
	_ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1
In-Reply-To: <863716031.101618.1348221188538.JavaMail.root@mail>
References: <863716031.101618.1348221188538.JavaMail.root@mail>
Message-ID: <1348226624.505c4e402f4c9@imp.free.fr>

Seeing

> java.lang.UnsatisfiedLinkError:
> /home/579/hxs579/local/gdal-trunk/gdal/swig/java/libgdaljni.so:
> /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1: undefined symbol:

You need to add /home/579/hxs579/apps/gdal-trunk/lib in your LD_LIBRARY_PATH too
(in addition to the existing values in it).

Reading http://trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructionsUnix , I
see it wasn't mentionned.

From jukka.rahkonen at mmmtike.fi  Fri Sep 21 08:01:12 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Fri, 21 Sep 2012 15:01:12 +0000 (UTC)
Subject: [gdal-dev] Wanted: -lco DIM for OGR/SQLite driver
Message-ID: <loom.20120921T165046-650@post.gmane.org>

Hi,

OCI and PostgreSQL drivers both have layer creation option for setting layer
dimensions and it would be nice to have DIM option also in Spatialite driver.
What I was missing today was a possibility to use -lco DIM=2 and convert 3D
coordinates with all zero Z values into 2D coordinates. Spatialite itself seems
to support XY, XYM, XYZ and XYZM dimensions.

-Jukka Rahkonen-





From even.rouault at mines-paris.org  Fri Sep 21 13:00:48 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Fri, 21 Sep 2012 22:00:48 +0200
Subject: [gdal-dev] Wanted: -lco DIM for OGR/SQLite driver
In-Reply-To: <loom.20120921T165046-650@post.gmane.org>
References: <loom.20120921T165046-650@post.gmane.org>
Message-ID: <201209212200.48340.even.rouault@mines-paris.org>

Le vendredi 21 septembre 2012 17:01:12, Jukka Rahkonen a ?crit :
> Hi,
> 
> OCI and PostgreSQL drivers both have layer creation option for setting
> layer dimensions and it would be nice to have DIM option also in
> Spatialite driver. What I was missing today was a possibility to use -lco
> DIM=2 and convert 3D coordinates with all zero Z values into 2D
> coordinates. Spatialite itself seems to support XY, XYM, XYZ and XYZM
> dimensions.

Actually, instead of adding this option in every driver, I've added a -dim 
option at ogr2ogr level. This will affect the layer geometry type, and the 
geometries inserted.

ogr2ogr poly2d.sqlite poly3d.shp -f sqlite -dsco spatialite=yes -dim 2

> 
> -Jukka Rahkonen-
> 
> 
> 
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Jukka.Rahkonen at mmmtike.fi  Sat Sep 22 03:40:45 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Sat, 22 Sep 2012 10:40:45 +0000
Subject: [gdal-dev] Wanted: -lco DIM for OGR/SQLite driver
In-Reply-To: <201209212200.48340.even.rouault@mines-paris.org>
References: <loom.20120921T165046-650@post.gmane.org>,
	<201209212200.48340.even.rouault@mines-paris.org>
Message-ID: <84446DEF76453C439E9E97E438E13A637A09EF@suutari.haapa.mmm.fi>

Even Rouault wrote:

> Le vendredi 21 septembre 2012 17:01:12, Jukka Rahkonen a ?crit :
>> Hi,
>
>> OCI and PostgreSQL drivers both have layer creation option for setting
>> layer dimensions and it would be nice to have DIM option also in
>> Spatialite driver. What I was missing today was a possibility to use -lco
>> DIM=2 and convert 3D coordinates with all zero Z values into 2D
>> coordinates. Spatialite itself seems to support XY, XYM, XYZ and XYZM
>> dimensions.

> Actually, instead of adding this option in every driver, I've added a -dim
> option at ogr2ogr level. This will affect the layer geometry type, and the
< geometries inserted.

> ogr2ogr poly2d.sqlite poly3d.shp -f sqlite -dsco spatialite=yes -dim 2

Splendid.

Reason for my trouble was that 2D polygons in Oracle (GTYPE=2003) were interpreted as XYZ polygons, perhaps because Oracle spatial tables can contain a mixture of what ever kind of geometries and it is hard or impossible to find what  geometry types are really used in the tables without reading all the features first.  With this fix ogr2ogr can handle the situation easily.

-Jukka-

From chapmanm at pixia.com  Sat Sep 22 13:40:42 2012
From: chapmanm at pixia.com (Martin Chapman)
Date: Sat, 22 Sep 2012 16:40:42 -0400 (EDT)
Subject: [gdal-dev] s57 layers
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D8658467780C40@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnologi	es.local>,
	<8B0C8942F7080F47B82245E36EAEFB8B0B36A9DC@EXCH01-OKLUS.MARINE.NET.INT>
	<D3EBE7E9108B0A449C3D5A6A96D8658467780C40@IICEXHC01.iictechnologies.local>
Message-ID: <f5085b6c.00001f74.00000002@CHAPMANM7S>

I don't know if this helps but I do this for S57 on startup of my app:

 

_putenv("OGR_S57_OPTIONS=RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS
=ON,SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON");

CPLSetConfigOption("OGR_S57_OPTIONS",
"RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON,SPLIT_MULTIPOINT=ON,
ADD_SOUNDG_DEPTH=ON"); 

 

Maybe the LNAM_REFS=ON will solve your issue.

 

Best regards,

Martin

 

From: gdal-dev-bounces at lists.osgeo.org
[mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Neelima Emmani
Sent: Friday, September 21, 2012 1:15 AM
To: Hilda Villegas
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] s57 layers

 

Hi Hilda, 

I gave system variables the path where my *.csv files are. But even then
the situation is same. Is there any other help you can suggest me.

 

With Regards,
Neelima Emmani
GIS Developer
Phone Number - 04039144487
Mobile Number - 9490817875

  _____  

From: Hilda Villegas [hilda.villegas at navico.com]
Sent: Friday, September 21, 2012 11:00 AM
To: Neelima Emmani; gdal-dev at lists.osgeo.org
Subject: RE: s57 layers

Hi Neelima,

 

I was dealing with the same issue some time ago, you have to add a system
variable called GDAL_DATA pointing to the s57 .CSV files location (you can
find them in the data folder. You will need s57attributes.csv,
s57objectclasses.csv and s57expectedinput.csv at least) unfortunately
these files are not updated with the latest changes from IHO, so all
updates from S-57 Supplement No 1 and No 2 to Edition 3.1 are not
reflected into the .CSV files.

 

I hope this helps.

 

Best Regards,

 


HILDA VILLEGAS 

 

From: gdal-dev-bounces at lists.osgeo.org
[mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Neelima Emmani
Sent: Thursday, September 20, 2012 9:59 PM
To: gdal-dev at lists.osgeo.org
Subject: [gdal-dev] s57 layers

 

Hi All,

I am trying to load s57 dataset into a windowform using C# coding. The
datasoruce is read well. But the layers are not presented properly. Layers
are shown as below instead of layers like ACHARE, BCNSPP.....





Actually I have 49 layers in my map.Can anyone tell me why is this
happening?Any help is appreciated. 


 

 

With Regards,
Neelima Emmani

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120922/b9ded4c3/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 6933 bytes
Desc: not available
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120922/b9ded4c3/attachment.png>

From admin at michiganwxsystem.com  Sat Sep 22 21:20:27 2012
From: admin at michiganwxsystem.com (Jeff Lake)
Date: Sun, 23 Sep 2012 00:20:27 -0400
Subject: [gdal-dev] gdal_grid help
Message-ID: <505E8E0B.9030506@michiganwxsystem.com>

ugh..
I have been attempting to create an interpolated (IDW) raster from CSV, 
to no avail all I get is either a totally black tiff or white tiff
here is the command line I have been trying

gdal_grid -a invdist:power=2.0:smoothing=1.0 -outsize 800 600 -ot 
Float64 -l temps temps.vrt temps.tiff

and the CSV http://metar.michiganwxsystem.net/temps.csv

here is the vrt

<OGRVRTDataSource>
     <OGRVRTLayer name="temps">
<SrcDataSource>/var/www/html/metar/temps.csv</SrcDataSource>
         <GeometryType>wkbPoint</GeometryType>
<GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude"/>
  <LayerSRS>WGS84</LayerSRS>
     </OGRVRTLayer>
</OGRVRTDataSource>


anybody gather where I'm going wrong ??

-- 
-Jeff Lake
MichiganWxSystem.com
AllisonHouse.com
TheWeatherCenter.net
GRLevelXStuff.com


From even.rouault at mines-paris.org  Sun Sep 23 00:54:43 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 23 Sep 2012 09:54:43 +0200
Subject: [gdal-dev] gdal_grid help
In-Reply-To: <505E8E0B.9030506@michiganwxsystem.com>
References: <505E8E0B.9030506@michiganwxsystem.com>
Message-ID: <201209230954.43491.even.rouault@mines-paris.org>

Le dimanche 23 septembre 2012 06:20:27, Jeff Lake a ?crit :
> ugh..
> I have been attempting to create an interpolated (IDW) raster from CSV,
> to no avail all I get is either a totally black tiff or white tiff
> here is the command line I have been trying
> 
> gdal_grid -a invdist:power=2.0:smoothing=1.0 -outsize 800 600 -ot
> Float64 -l temps temps.vrt temps.tiff
> 
> and the CSV http://metar.michiganwxsystem.net/temps.csv
> 
> here is the vrt
> 
> <OGRVRTDataSource>
>      <OGRVRTLayer name="temps">
> <SrcDataSource>/var/www/html/metar/temps.csv</SrcDataSource>
>          <GeometryType>wkbPoint</GeometryType>
> <GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude"/>
>   <LayerSRS>WGS84</LayerSRS>
>      </OGRVRTLayer>
> </OGRVRTDataSource>
> 
> 
> anybody gather where I'm going wrong ??

Jeff,

The issue here is that gdal_grid doesn't find the value to interpolate from.

2 possibilities :

- change the <GeometryField> element as the following so that the value of the 
temps field is set as the Z value of the geometry :
<GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude" 
z="temps"/>

- or specify "-zfield temps" on the gdal_grid command line

Best regards,

Even


From admin at michiganwxsystem.com  Sun Sep 23 06:12:34 2012
From: admin at michiganwxsystem.com (Jeff Lake)
Date: Sun, 23 Sep 2012 09:12:34 -0400
Subject: [gdal-dev] gdal_grid help
In-Reply-To: <201209230954.43491.even.rouault@mines-paris.org>
References: <505E8E0B.9030506@michiganwxsystem.com>
	<201209230954.43491.even.rouault@mines-paris.org>
Message-ID: <505F0AC2.3010305@michiganwxsystem.com>

Evan ...
Thanks .. still seeing a basically blank tiff, but decided to press on
to the next step creating a contour shapefile from said raster ..
and that works !!
as long as that is my end result... Im happy

-Jeff Lake
MichiganWxSystem.com
AllisonHouse.com
TheWeatherCenter.net
GRLevelXStuff.com

On 9/23/2012 3:54, Even Rouault wrote:
> Le dimanche 23 septembre 2012 06:20:27, Jeff Lake a ?crit :
>> ugh..
>> I have been attempting to create an interpolated (IDW) raster from CSV,
>> to no avail all I get is either a totally black tiff or white tiff
>> here is the command line I have been trying
>>
>> gdal_grid -a invdist:power=2.0:smoothing=1.0 -outsize 800 600 -ot
>> Float64 -l temps temps.vrt temps.tiff
>>
>> and the CSV http://metar.michiganwxsystem.net/temps.csv
>>
>> here is the vrt
>>
>> <OGRVRTDataSource>
>>       <OGRVRTLayer name="temps">
>> <SrcDataSource>/var/www/html/metar/temps.csv</SrcDataSource>
>>           <GeometryType>wkbPoint</GeometryType>
>> <GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude"/>
>>    <LayerSRS>WGS84</LayerSRS>
>>       </OGRVRTLayer>
>> </OGRVRTDataSource>
>>
>>
>> anybody gather where I'm going wrong ??
> Jeff,
>
> The issue here is that gdal_grid doesn't find the value to interpolate from.
>
> 2 possibilities :
>
> - change the <GeometryField> element as the following so that the value of the
> temps field is set as the Z value of the geometry :
> <GeometryField encoding="PointFromColumns" x="Longitude" y="Latitude"
> z="temps"/>
>
> - or specify "-zfield temps" on the gdal_grid command line
>
> Best regards,
>
> Even
>
>


From admin at michiganwxsystem.com  Sun Sep 23 10:57:50 2012
From: admin at michiganwxsystem.com (Jeff Lake)
Date: Sun, 23 Sep 2012 13:57:50 -0400
Subject: [gdal-dev] gdal_polygonize.py
Message-ID: <505F4D9E.5030601@michiganwxsystem.com>

am I missing something here??
installed gdal 1.9.1 from source
configure vars ..
./configure --with-python --with-geos --with-grass --with-mysql

but trying to run gdal_polygonize.py
I get the following



Traceback (most recent call last):
   File "/usr/local/bin/gdal_polygonize.py", line 34, in ?
     import gdal, ogr, osr
   File 
"/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/gdal.py", 
line 2, in ?
     from osgeo.gdal import deprecation_warn
   File 
"/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/__init__.py", 
line 24, in ?
     import _gdal
ImportError: 
/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/_gdal.so: 
undefined symbol: VSIFTruncateL


this is my first time playing with python... so any pointers


-- 
-Jeff Lake
MichiganWxSystem.com
AllisonHouse.com
TheWeatherCenter.net
GRLevelXStuff.com


From even.rouault at mines-paris.org  Sun Sep 23 11:02:34 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 23 Sep 2012 20:02:34 +0200
Subject: [gdal-dev] gdal_polygonize.py
In-Reply-To: <505F4D9E.5030601@michiganwxsystem.com>
References: <505F4D9E.5030601@michiganwxsystem.com>
Message-ID: <201209232002.35154.even.rouault@mines-paris.org>

Le dimanche 23 septembre 2012 19:57:50, Jeff Lake a ?crit :
> am I missing something here??
> installed gdal 1.9.1 from source
> configure vars ..
> ./configure --with-python --with-geos --with-grass --with-mysql
> 
> but trying to run gdal_polygonize.py
> I get the following
> 
> 
> 
> Traceback (most recent call last):
>    File "/usr/local/bin/gdal_polygonize.py", line 34, in ?
>      import gdal, ogr, osr
>    File
> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/gdal.
> py", line 2, in ?
>      from osgeo.gdal import deprecation_warn
>    File
> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo
> /__init__.py", line 24, in ?
>      import _gdal
> ImportError:
> /usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/
> _gdal.so: undefined symbol: VSIFTruncateL
> 
> 
> this is my first time playing with python... so any pointers

Looks like the Python bindings cannot find libgdal.so (or not the one from GDAL 
1.9.1, but another GDAL version)

Make sure that the directory of libgdal.so 1.9.1 is in your ld.so.conf or in 
LD_LIBRARY_PATH


From etourigny.dev at gmail.com  Sun Sep 23 12:59:35 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Sun, 23 Sep 2012 16:59:35 -0300
Subject: [gdal-dev] gdal_polygonize.py
In-Reply-To: <201209232002.35154.even.rouault@mines-paris.org>
References: <505F4D9E.5030601@michiganwxsystem.com>
	<201209232002.35154.even.rouault@mines-paris.org>
Message-ID: <CA+TxYvMRws_70H4_KYcB_=jj+_N1cb6qUw_jziT7L_G8gF1Log@mail.gmail.com>

Also, can you run any of the executables like gdalinfo?

On Sun, Sep 23, 2012 at 3:02 PM, Even Rouault
<even.rouault at mines-paris.org> wrote:
> Le dimanche 23 septembre 2012 19:57:50, Jeff Lake a ?crit :
>> am I missing something here??
>> installed gdal 1.9.1 from source
>> configure vars ..
>> ./configure --with-python --with-geos --with-grass --with-mysql
>>
>> but trying to run gdal_polygonize.py
>> I get the following
>>
>>
>>
>> Traceback (most recent call last):
>>    File "/usr/local/bin/gdal_polygonize.py", line 34, in ?
>>      import gdal, ogr, osr
>>    File
>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/gdal.
>> py", line 2, in ?
>>      from osgeo.gdal import deprecation_warn
>>    File
>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo
>> /__init__.py", line 24, in ?
>>      import _gdal
>> ImportError:
>> /usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/
>> _gdal.so: undefined symbol: VSIFTruncateL
>>
>>
>> this is my first time playing with python... so any pointers
>
> Looks like the Python bindings cannot find libgdal.so (or not the one from GDAL
> 1.9.1, but another GDAL version)
>
> Make sure that the directory of libgdal.so 1.9.1 is in your ld.so.conf or in
> LD_LIBRARY_PATH
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From admin at michiganwxsystem.com  Sun Sep 23 13:08:05 2012
From: admin at michiganwxsystem.com (Jeff Lake)
Date: Sun, 23 Sep 2012 16:08:05 -0400
Subject: [gdal-dev] gdal_polygonize.py
In-Reply-To: <CA+TxYvMRws_70H4_KYcB_=jj+_N1cb6qUw_jziT7L_G8gF1Log@mail.gmail.com>
References: <505F4D9E.5030601@michiganwxsystem.com>
	<201209232002.35154.even.rouault@mines-paris.org>
	<CA+TxYvMRws_70H4_KYcB_=jj+_N1cb6qUw_jziT7L_G8gF1Log@mail.gmail.com>
Message-ID: <505F6C25.4000502@michiganwxsystem.com>

Yes I can ..
but have a feeling its running 1.8.0 I installed earlier from RPM
is there going to be a 1.9.1 RPM for el5 ??

-Jeff Lake
MichiganWxSystem.com
AllisonHouse.com
TheWeatherCenter.net
GRLevelXStuff.com

On 9/23/2012 15:59, Etienne Tourigny wrote:
> Also, can you run any of the executables like gdalinfo?
>
> On Sun, Sep 23, 2012 at 3:02 PM, Even Rouault
> <even.rouault at mines-paris.org> wrote:
>> Le dimanche 23 septembre 2012 19:57:50, Jeff Lake a ?crit :
>>> am I missing something here??
>>> installed gdal 1.9.1 from source
>>> configure vars ..
>>> ./configure --with-python --with-geos --with-grass --with-mysql
>>>
>>> but trying to run gdal_polygonize.py
>>> I get the following
>>>
>>>
>>>
>>> Traceback (most recent call last):
>>>     File "/usr/local/bin/gdal_polygonize.py", line 34, in ?
>>>       import gdal, ogr, osr
>>>     File
>>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/gdal.
>>> py", line 2, in ?
>>>       from osgeo.gdal import deprecation_warn
>>>     File
>>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo
>>> /__init__.py", line 24, in ?
>>>       import _gdal
>>> ImportError:
>>> /usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/
>>> _gdal.so: undefined symbol: VSIFTruncateL
>>>
>>>
>>> this is my first time playing with python... so any pointers
>> Looks like the Python bindings cannot find libgdal.so (or not the one from GDAL
>> 1.9.1, but another GDAL version)
>>
>> Make sure that the directory of libgdal.so 1.9.1 is in your ld.so.conf or in
>> LD_LIBRARY_PATH
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From admin at michiganwxsystem.com  Sun Sep 23 13:08:42 2012
From: admin at michiganwxsystem.com (Jeff Lake)
Date: Sun, 23 Sep 2012 16:08:42 -0400
Subject: [gdal-dev] gdal_polygonize.py
In-Reply-To: <CA+TxYvMRws_70H4_KYcB_=jj+_N1cb6qUw_jziT7L_G8gF1Log@mail.gmail.com>
References: <505F4D9E.5030601@michiganwxsystem.com>
	<201209232002.35154.even.rouault@mines-paris.org>
	<CA+TxYvMRws_70H4_KYcB_=jj+_N1cb6qUw_jziT7L_G8gF1Log@mail.gmail.com>
Message-ID: <505F6C4A.9050905@michiganwxsystem.com>

Yes I can ..
but have a feeling its running 1.8.0 I installed earlier from RPM
currently removing 1.8.0 and seeing if that helps

is there going to be a 1.9.1 RPM for el5 ??

-Jeff Lake
MichiganWxSystem.com
AllisonHouse.com
TheWeatherCenter.net
GRLevelXStuff.com

On 9/23/2012 15:59, Etienne Tourigny wrote:
> Also, can you run any of the executables like gdalinfo?
>
> On Sun, Sep 23, 2012 at 3:02 PM, Even Rouault
> <even.rouault at mines-paris.org> wrote:
>> Le dimanche 23 septembre 2012 19:57:50, Jeff Lake a ?crit :
>>> am I missing something here??
>>> installed gdal 1.9.1 from source
>>> configure vars ..
>>> ./configure --with-python --with-geos --with-grass --with-mysql
>>>
>>> but trying to run gdal_polygonize.py
>>> I get the following
>>>
>>>
>>>
>>> Traceback (most recent call last):
>>>     File "/usr/local/bin/gdal_polygonize.py", line 34, in ?
>>>       import gdal, ogr, osr
>>>     File
>>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/gdal.
>>> py", line 2, in ?
>>>       from osgeo.gdal import deprecation_warn
>>>     File
>>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo
>>> /__init__.py", line 24, in ?
>>>       import _gdal
>>> ImportError:
>>> /usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/
>>> _gdal.so: undefined symbol: VSIFTruncateL
>>>
>>>
>>> this is my first time playing with python... so any pointers
>> Looks like the Python bindings cannot find libgdal.so (or not the one from GDAL
>> 1.9.1, but another GDAL version)
>>
>> Make sure that the directory of libgdal.so 1.9.1 is in your ld.so.conf or in
>> LD_LIBRARY_PATH
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>


From hsumanto at vpac.org  Sun Sep 23 16:39:47 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Mon, 24 Sep 2012 09:39:47 +1000 (EST)
Subject: [gdal-dev] GDAL / Java bindings : undefined symbol:
 _ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1
In-Reply-To: <1348226624.505c4e402f4c9@imp.free.fr>
Message-ID: <1436585535.102406.1348443587110.JavaMail.root@mail>

Tried including the /home/579/hxs579/apps/gdal-trunk/lib into my LD_LIBRARY_PATH but still encountering the same issue.

$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/579/hxs579/apps/gdal-trunk/lib:/home/579/hxs579/local/gdal-trunk/gdal/swig/java
$ java -classpath '/home/579/hxs579/local/gdal-trunk/gdal/swig/java/gdal.jar':/home/579/hxs579/local/gdal-trunk/gdal/swig/java/apps gdalinfo
Native library load failed.
java.lang.UnsatisfiedLinkError: /home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so: /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1: undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE
Exception in thread "main" java.lang.UnsatisfiedLinkError: org.gdal.gdal.gdalJNI.AllRegister()V
	at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
	at org.gdal.gdal.gdal.AllRegister(gdal.java:479)
	at gdalinfo.main(gdalinfo.java:87)

When printing shared library dependencies, I managed to reproduce the same issue.
Don't have the same issue on the GDAL Java bindings on Ubuntu machine.  

$ ldd -d -r /home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so 
	linux-vdso.so.1 =>  (0x00007fff527ff000)
	libgdal.so.1 => /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1 (0x00007f05d1654000)
	libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007f05d1303000)
	libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007f05d0d1b000)
	libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007f05d0af3000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f05d08d6000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f05d0652000)
	librt.so.1 => /lib64/librt.so.1 (0x00007f05d044a000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f05d0245000)
	libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007f05cfff2000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f05cfc62000)
	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f05cfa4b000)
	libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007f05cf819000)
	libz.so.1 => /lib64/libz.so.1 (0x00007f05cf603000)
	libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f05cf3a7000)
	libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007f05cf00d000)
	libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007f05cedcb000)
	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f05ceb93000)
	libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007f05ce940000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003ee4200000)
	libidn.so.11 => /lib64/libidn.so.11 (0x00007f05ce70e000)
	libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007f05ce4c2000)
	libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007f05ce1e3000)
	libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007f05cdfb7000)
	libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007f05cddb2000)
	libssl3.so => /usr/lib64/libssl3.so (0x00007f05cdb77000)
	libsmime3.so => /usr/lib64/libsmime3.so (0x00007f05cd94b000)
	libnss3.so => /usr/lib64/libnss3.so (0x00007f05cd60f000)
	libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007f05cd3e9000)
	libplds4.so => /lib64/libplds4.so (0x00007f05cd1e5000)
	libplc4.so => /lib64/libplc4.so (0x00007f05ccfdf000)
	libnspr4.so => /lib64/libnspr4.so (0x00007f05ccda2000)
	libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007f05ccb7b000)
	libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007f05cc96f000)
	libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007f05cc76c000)
	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f05cc552000)
	libfreebl3.so => /lib64/libfreebl3.so (0x00007f05cc2ef000)
	liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007f05cc0e0000)
	libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007f05cbec6000)
	libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f05cbca6000)
undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_pure_virtual	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVN10__cxxabiv121__vmi_class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTISt9exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVSt15basic_streambufIcSt11char_traitsIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVSt9exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVSt18basic_stringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTIPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt4cerr	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt8ios_base4InitD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVSt9basic_iosIcSt11char_traitsIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTTSt18basic_stringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTTSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVSt15basic_stringbufIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs4_Rep20_S_empty_rep_storageE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __gxx_personality_v0	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs9push_backEc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs12find_last_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt15basic_streambufIcSt11char_traitsIcEED2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6assignERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSi10_M_extractIdEERSiRT_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt6localeD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_rethrow	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs7compareEPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsC1EPKcmRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZdaPv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs7compareERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs17find_first_not_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt8ios_base4InitC1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6assignEPKcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _Znwm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt17__throw_bad_allocv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt18_Rb_tree_incrementPSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs4findEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_l	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt20__throw_out_of_rangePKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_throw	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEE4initEPSt15basic_streambufIcS1_E	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6appendEPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZdlPv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6resizeEm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs4_Rep10_M_destroyERKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsD2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEED2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs17find_first_not_ofEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt18_Rb_tree_decrementPKSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt9terminatev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt9exceptionD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_free_exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6appendERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs14_M_replace_auxEmmmc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_get_exception_ptr	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt28_Rb_tree_rebalance_for_erasePSt18_Rb_tree_node_baseRS_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs16find_last_not_ofEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsC2ERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_guard_abort	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSo9_M_insertIdEERSoT_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt8ios_baseC2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs12_M_leak_hardEv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_guard_acquire	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs7replaceEmmPKcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6appendEmc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_begin_catch	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6resizeEmc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6appendEPKcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt29_Rb_tree_insert_and_rebalancebPSt18_Rb_tree_node_baseS0_RS_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs9_M_mutateEmmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSt15basic_stringbufIcSt11char_traitsIcESaIcEE3strEv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs7_M_leakEv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_end_catch	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs5rfindEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_guard_release	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs6substrEmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs7replaceEmmPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt15_List_node_base4hookEPS_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs7reserveEm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __cxa_allocate_exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsC2EPKcRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt8ios_baseD2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt18_Rb_tree_decrementPSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs4_Rep9_S_createEmmRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSolsEi	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _Znam	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: __dynamic_cast	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt18_Rb_tree_incrementPKSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt19basic_ostringstreamIcSt11char_traitsIcESaIcEED1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs13find_first_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt20__throw_length_errorPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt15basic_stringbufIcSt11char_traitsIcESaIcEE7_M_syncEPcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs2atEm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs4findEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEE5clearESt12_Ios_Iostate	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt18basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsC1EPKcRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZSt19__throw_logic_errorPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs5rfindEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt9exceptionD2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsC1ERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSt6localeC1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSsC1ERKSsmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNSs6assignEPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZNKSs16find_last_not_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: _ZNSt8ios_base4InitD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: __gxx_personality_v0	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: _ZNSt8ios_base4InitC1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: _Znwm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: _ZdlPv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
undefined symbol: _Znam	(/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)


Printing libgdal.so dependencies, also encountering the same issue below:

$ ldd -d -r /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so
	linux-vdso.so.1 =>  (0x00007ffff39ff000)
	libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007fb65639b000)
	libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007fb655db2000)
	libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007fb655b8a000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fb65596e000)
	libm.so.6 => /lib64/libm.so.6 (0x00007fb6556e9000)
	librt.so.1 => /lib64/librt.so.1 (0x00007fb6554e1000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007fb6552dd000)
	libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007fb655089000)
	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007fb654e73000)
	libc.so.6 => /lib64/libc.so.6 (0x00007fb654ae3000)
	libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007fb6548b0000)
	libz.so.1 => /lib64/libz.so.1 (0x00007fb65469a000)
	libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007fb65443f000)
	libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007fb6540a4000)
	libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007fb653e62000)
	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007fb653c2b000)
	libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007fb6539d7000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003ee4200000)
	libidn.so.11 => /lib64/libidn.so.11 (0x00007fb6537a5000)
	libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007fb65355a000)
	libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007fb65327a000)
	libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007fb65304e000)
	libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007fb652e4a000)
	libssl3.so => /usr/lib64/libssl3.so (0x00007fb652c0e000)
	libsmime3.so => /usr/lib64/libsmime3.so (0x00007fb6529e2000)
	libnss3.so => /usr/lib64/libnss3.so (0x00007fb6526a7000)
	libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007fb652480000)
	libplds4.so => /lib64/libplds4.so (0x00007fb65227c000)
	libplc4.so => /lib64/libplc4.so (0x00007fb652077000)
	libnspr4.so => /lib64/libnspr4.so (0x00007fb651e39000)
	libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007fb651c12000)
	libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007fb651a06000)
	libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007fb651803000)
	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007fb6515e9000)
	libfreebl3.so => /lib64/libfreebl3.so (0x00007fb651386000)
	liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007fb651177000)
	libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007fb650f5d000)
	libselinux.so.1 => /lib64/libselinux.so.1 (0x00007fb650d3d000)
undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_pure_virtual	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVN10__cxxabiv121__vmi_class_type_infoE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTISt9exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVSt15basic_streambufIcSt11char_traitsIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVSt9exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVSt18basic_stringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTIPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt4cerr	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt8ios_base4InitD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVSt9basic_iosIcSt11char_traitsIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTTSt18basic_stringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTTSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZTVSt15basic_stringbufIcSt11char_traitsIcESaIcEE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs4_Rep20_S_empty_rep_storageE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __gxx_personality_v0	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs9push_backEc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs12find_last_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt15basic_streambufIcSt11char_traitsIcEED2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6assignERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSi10_M_extractIdEERSiRT_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt6localeD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_rethrow	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs7compareEPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsC1EPKcmRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZdaPv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs7compareERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs17find_first_not_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt8ios_base4InitC1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6assignEPKcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _Znwm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt17__throw_bad_allocv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt18_Rb_tree_incrementPSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs4findEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_l	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt20__throw_out_of_rangePKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_throw	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEE4initEPSt15basic_streambufIcS1_E	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6appendEPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZdlPv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6resizeEm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs4_Rep10_M_destroyERKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsD2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEED2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs17find_first_not_ofEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt18_Rb_tree_decrementPKSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt9terminatev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt9exceptionD1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_free_exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6appendERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs14_M_replace_auxEmmmc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_get_exception_ptr	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt28_Rb_tree_rebalance_for_erasePSt18_Rb_tree_node_baseRS_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs16find_last_not_ofEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsC2ERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_guard_abort	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSo9_M_insertIdEERSoT_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt8ios_baseC2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs12_M_leak_hardEv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_guard_acquire	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs7replaceEmmPKcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6appendEmc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_begin_catch	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6resizeEmc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6appendEPKcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt29_Rb_tree_insert_and_rebalancebPSt18_Rb_tree_node_baseS0_RS_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs9_M_mutateEmmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSt15basic_stringbufIcSt11char_traitsIcESaIcEE3strEv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs7_M_leakEv	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_end_catch	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs5rfindEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_guard_release	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs6substrEmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs7replaceEmmPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt15_List_node_base4hookEPS_	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs7reserveEm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __cxa_allocate_exception	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsC2EPKcRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt8ios_baseD2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt18_Rb_tree_decrementPSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs4_Rep9_S_createEmmRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSolsEi	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _Znam	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: __dynamic_cast	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt18_Rb_tree_incrementPKSt18_Rb_tree_node_base	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt19basic_ostringstreamIcSt11char_traitsIcESaIcEED1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs13find_first_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt20__throw_length_errorPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt15basic_stringbufIcSt11char_traitsIcESaIcEE7_M_syncEPcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs2atEm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs4findEcm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEE5clearESt12_Ios_Iostate	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt18basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsC1EPKcRKSaIcE	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZSt19__throw_logic_errorPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs5rfindEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt9exceptionD2Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsC1ERKSs	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSt6localeC1Ev	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSsC1ERKSsmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNSs6assignEPKc	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
undefined symbol: _ZNKSs16find_last_not_ofEPKcmm	(/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)


----- Original Message -----
> From: "Even Rouault" <even.rouault at mines-paris.org>
> To: "Hendy Sumanto" <hsumanto at vpac.org>
> Cc: "gdal-dev" <gdal-dev at lists.osgeo.org>
> Sent: Friday, 21 September, 2012 9:23:44 PM
> Subject: Re: [gdal-dev] GDAL / Java bindings : undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE in
> libgdal.so.1
> Seeing
> 
> > java.lang.UnsatisfiedLinkError:
> > /home/579/hxs579/local/gdal-trunk/gdal/swig/java/libgdaljni.so:
> > /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1: undefined symbol:
> 
> You need to add /home/579/hxs579/apps/gdal-trunk/lib in your
> LD_LIBRARY_PATH too
> (in addition to the existing values in it).
> 
> Reading
> http://trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructionsUnix , I
> see it wasn't mentionned.


From etourigny.dev at gmail.com  Sun Sep 23 18:37:30 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Sun, 23 Sep 2012 22:37:30 -0300
Subject: [gdal-dev] gdal_polygonize.py
In-Reply-To: <505F6C25.4000502@michiganwxsystem.com>
References: <505F4D9E.5030601@michiganwxsystem.com>
	<201209232002.35154.even.rouault@mines-paris.org>
	<CA+TxYvMRws_70H4_KYcB_=jj+_N1cb6qUw_jziT7L_G8gF1Log@mail.gmail.com>
	<505F6C25.4000502@michiganwxsystem.com>
Message-ID: <CA+TxYvOBAhu=gKCbJJLAQWFOQcdMRYEdZ6Fbe=fWf=gk+PRcbg@mail.gmail.com>

make sure your LD_LIBRARY_PATH and PATH point to your custom
directories BEFORE system directories.

like export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH

Also removing system package should help, but it's not necessary if
your setup if correct.

Etienne

On Sun, Sep 23, 2012 at 5:08 PM, Jeff Lake <admin at michiganwxsystem.com> wrote:
> Yes I can ..
> but have a feeling its running 1.8.0 I installed earlier from RPM
> is there going to be a 1.9.1 RPM for el5 ??
>
>
> -Jeff Lake
> MichiganWxSystem.com
> AllisonHouse.com
> TheWeatherCenter.net
> GRLevelXStuff.com
>
> On 9/23/2012 15:59, Etienne Tourigny wrote:
>>
>> Also, can you run any of the executables like gdalinfo?
>>
>> On Sun, Sep 23, 2012 at 3:02 PM, Even Rouault
>> <even.rouault at mines-paris.org> wrote:
>>>
>>> Le dimanche 23 septembre 2012 19:57:50, Jeff Lake a ?crit :
>>>>
>>>> am I missing something here??
>>>> installed gdal 1.9.1 from source
>>>> configure vars ..
>>>> ./configure --with-python --with-geos --with-grass --with-mysql
>>>>
>>>> but trying to run gdal_polygonize.py
>>>> I get the following
>>>>
>>>>
>>>>
>>>> Traceback (most recent call last):
>>>>     File "/usr/local/bin/gdal_polygonize.py", line 34, in ?
>>>>       import gdal, ogr, osr
>>>>     File
>>>>
>>>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/gdal.
>>>> py", line 2, in ?
>>>>       from osgeo.gdal import deprecation_warn
>>>>     File
>>>>
>>>> "/usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo
>>>> /__init__.py", line 24, in ?
>>>>       import _gdal
>>>> ImportError:
>>>>
>>>> /usr/lib64/python2.4/site-packages/GDAL-1.9.1-py2.4-linux-x86_64.egg/osgeo/
>>>> _gdal.so: undefined symbol: VSIFTruncateL
>>>>
>>>>
>>>> this is my first time playing with python... so any pointers
>>>
>>> Looks like the Python bindings cannot find libgdal.so (or not the one
>>> from GDAL
>>> 1.9.1, but another GDAL version)
>>>
>>> Make sure that the directory of libgdal.so 1.9.1 is in your ld.so.conf or
>>> in
>>> LD_LIBRARY_PATH
>>>
>>> _______________________________________________
>>> gdal-dev mailing list
>>> gdal-dev at lists.osgeo.org
>>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From neelima.emmani at iictechnologies.com  Sun Sep 23 21:42:15 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Mon, 24 Sep 2012 04:42:15 +0000
Subject: [gdal-dev] s57 layers
In-Reply-To: <A1664F44-B455-4FFA-ABAC-19982A5F573E@actian.com>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467780C09@IICEXHC01.iictechnologi	es.local>,
	<8B0C8942F7080F47B82245E36EAEFB8B0B36A9DC@EXCH01-OKLUS.MARINE.NET.INT>
	<D3EBE7E9108B0A449C3D5A6A96D8658467780C40@IICEXHC01.iictechnologies.local>
	<f5085b6c.00001f74.00000002@CHAPMANM7S>,
	<A1664F44-B455-4FFA-ABAC-19982A5F573E@actian.com>
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467780D62@IICEXHC01.iictechnologies.local>

Hi All,

Thank you for all the help. Today morning I could solve the problem by setting system variables. In system variables a new variable called GDAL_DATA should be set. Which was not set till now. Below is how I gave and now the system could read all the s57 dataset layers.

system variables:
variable name  GDAL_DATA
variable value    C:\Program Files\GDAL\gdal-data

Hi Tyler,
I worked with mapserver and openlayers. So, can you please be more precise in your question.Also you can check out lot of queries under
mapserver-users at lists.osgeo.org
openlayers-users at lists.osgeo.org

With Regards,
Neelima Emmani

________________________________
From: Tyler Mitchell [tyler.mitchell at actian.com]
Sent: Sunday, September 23, 2012 9:25 PM
To: Martin Chapman
Cc: Neelima Emmani; Hilda Villegas
Subject: Re: [gdal-dev] s57 layers

I'm also working with some S57 for a project and was just curious if any of you have done up any particular map styling in other open source mapping products - e.g. QGIS or MapServer.  With a such a rich dataset, I've found it quite overwhelming and am hunting for any tips for getting ahead of the curve on it.  I'd love to see what you are doing with the data too!

Best wishes,
Tyler


On 2012-09-22, at 1:40 PM, Martin Chapman wrote:

I don?t know if this helps but I do this for S57 on startup of my app:

_putenv("OGR_S57_OPTIONS=RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON,SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON");
CPLSetConfigOption("OGR_S57_OPTIONS", "RETURN_PRIMITIVES=ON,RETURN_LINKAGES=ON,LNAM_REFS=ON,SPLIT_MULTIPOINT=ON,ADD_SOUNDG_DEPTH=ON");

Maybe the LNAM_REFS=ON will solve your issue.

Best regards,
Martin

From: gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org> [mailto:gdal-dev-bounces at lists.osgeo.org] On Behalf Of Neelima Emmani
Sent: Friday, September 21, 2012 1:15 AM
To: Hilda Villegas
Cc: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: Re: [gdal-dev] s57 layers

Hi Hilda,
I gave system variables the path where my *.csv files are. But even then the situation is same. Is there any other help you can suggest me.

With Regards,
Neelima Emmani
GIS Developer
Phone Number - 04039144487
Mobile Number - 9490817875
________________________________
From: Hilda Villegas [hilda.villegas at navico.com]
Sent: Friday, September 21, 2012 11:00 AM
To: Neelima Emmani; gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: RE: s57 layers
Hi Neelima,

I was dealing with the same issue some time ago, you have to add a system variable called GDAL_DATA pointing to the s57 .CSV files location (you can find them in the data folder. You will need s57attributes.csv, s57objectclasses.csv and s57expectedinput.csv at least) unfortunately these files are not updated with the latest changes from IHO, so all updates from S-57 Supplement No 1 and No 2 to Edition 3.1 are not reflected into the .CSV files.

I hope this helps.

Best Regards,

HILDA VILLEGAS


From: gdal-dev-bounces at lists.osgeo.org<mailto:gdal-dev-bounces at lists.osgeo.org> [mailto:gdal-dev-bounces at lists.osgeo.org]<mailto:[mailto:gdal-dev-bounces at lists.osgeo.org]> On Behalf Of Neelima Emmani
Sent: Thursday, September 20, 2012 9:59 PM
To: gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
Subject: [gdal-dev] s57 layers

Hi All,
I am trying to load s57 dataset into a windowform using C# coding. The datasoruce is read well. But the layers are not presented properly. Layers are shown as below instead of layers like ACHARE, BCNSPP.....
<image001.png>


Actually I have 49 layers in my map.Can anyone tell me why is this happening?Any help is appreciated.



With Regards,
Neelima Emmani

_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev



Tyler Mitchell
Engineering Director
Actian Corporation

tyler.mitchell at actian.com<mailto:tyler.mitchell at actian.com>


MOBILE 250-303-1831
SKYPE spatialguru
www.actian.com
<http://www.actian.com/>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120924/498958cc/attachment-0001.html>

From hsumanto at vpac.org  Sun Sep 23 23:45:29 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Mon, 24 Sep 2012 16:45:29 +1000 (EST)
Subject: [gdal-dev] GDAL / Java bindings : undefined symbol:
 _ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1
In-Reply-To: <1436585535.102406.1348443587110.JavaMail.root@mail>
Message-ID: <202445914.103017.1348469129553.JavaMail.root@mail>

Hi Even,

I finally found the cause of the issue.

If I build the 1.9 branch from https://svn.osgeo.org/gdal/branches/1.9/gdal
it builds OK and printing shared libraries (such as ldd -d -r libgdal.so or ldd -d -r libgdaljni.so) are OK too.

If I build the latest trunk from https://svn.osgeo.org/gdal/trunk/
it builds OK but printing shared libraries (such as ldd -d -r libgdal.so or ldd -d -r libgdaljni.so) are having undefined symbol issues below.

So obviously something is broken in the latest trunk but not sure what.

Could someone please help me log a ticket for this bug. It is so annoying and if someone could point out why this is not capture that would be great.

Regards,

Hendy

----- Original Message -----
> From: "Hendy Sumanto" <hsumanto at vpac.org>
> To: "Even Rouault" <even.rouault at mines-paris.org>
> Cc: "gdal-dev" <gdal-dev at lists.osgeo.org>
> Sent: Monday, 24 September, 2012 9:39:47 AM
> Subject: Re: [gdal-dev] GDAL / Java bindings : undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE in
> libgdal.so.1
> Tried including the /home/579/hxs579/apps/gdal-trunk/lib into my
> LD_LIBRARY_PATH but still encountering the same issue.
> 
> $ export
> LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/579/hxs579/apps/gdal-trunk/lib:/home/579/hxs579/local/gdal-trunk/gdal/swig/java
> $ java -classpath
> '/home/579/hxs579/local/gdal-trunk/gdal/swig/java/gdal.jar':/home/579/hxs579/local/gdal-trunk/gdal/swig/java/apps
> gdalinfo
> Native library load failed.
> java.lang.UnsatisfiedLinkError:
> /home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so:
> /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1: undefined symbol:
> _ZTVN10__cxxabiv120__si_class_type_infoE
> Exception in thread "main" java.lang.UnsatisfiedLinkError:
> org.gdal.gdal.gdalJNI.AllRegister()V
> at org.gdal.gdal.gdalJNI.AllRegister(Native Method)
> at org.gdal.gdal.gdal.AllRegister(gdal.java:479)
> at gdalinfo.main(gdalinfo.java:87)
> 
> When printing shared library dependencies, I managed to reproduce the
> same issue.
> Don't have the same issue on the GDAL Java bindings on Ubuntu machine.
> 
> $ ldd -d -r /home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so
> linux-vdso.so.1 => (0x00007fff527ff000)
> libgdal.so.1 => /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1
> (0x00007f05d1654000)
> libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007f05d1303000)
> libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007f05d0d1b000)
> libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007f05d0af3000)
> libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f05d08d6000)
> libm.so.6 => /lib64/libm.so.6 (0x00007f05d0652000)
> librt.so.1 => /lib64/librt.so.1 (0x00007f05d044a000)
> libdl.so.2 => /lib64/libdl.so.2 (0x00007f05d0245000)
> libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007f05cfff2000)
> libc.so.6 => /lib64/libc.so.6 (0x00007f05cfc62000)
> libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f05cfa4b000)
> libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007f05cf819000)
> libz.so.1 => /lib64/libz.so.1 (0x00007f05cf603000)
> libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f05cf3a7000)
> libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007f05cf00d000)
> libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007f05cedcb000)
> libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f05ceb93000)
> libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007f05ce940000)
> /lib64/ld-linux-x86-64.so.2 (0x0000003ee4200000)
> libidn.so.11 => /lib64/libidn.so.11 (0x00007f05ce70e000)
> libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007f05ce4c2000)
> libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007f05ce1e3000)
> libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007f05cdfb7000)
> libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007f05cddb2000)
> libssl3.so => /usr/lib64/libssl3.so (0x00007f05cdb77000)
> libsmime3.so => /usr/lib64/libsmime3.so (0x00007f05cd94b000)
> libnss3.so => /usr/lib64/libnss3.so (0x00007f05cd60f000)
> libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007f05cd3e9000)
> libplds4.so => /lib64/libplds4.so (0x00007f05cd1e5000)
> libplc4.so => /lib64/libplc4.so (0x00007f05ccfdf000)
> libnspr4.so => /lib64/libnspr4.so (0x00007f05ccda2000)
> libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007f05ccb7b000)
> libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007f05cc96f000)
> libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007f05cc76c000)
> libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f05cc552000)
> libfreebl3.so => /lib64/libfreebl3.so (0x00007f05cc2ef000)
> liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007f05cc0e0000)
> libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007f05cbec6000)
> libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f05cbca6000)
> undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_pure_virtual
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVN10__cxxabiv121__vmi_class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTISt9exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVSt15basic_streambufIcSt11char_traitsIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVSt9exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVSt18basic_stringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZTVSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTIPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt4cerr
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt8ios_base4InitD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVSt9basic_iosIcSt11char_traitsIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTTSt18basic_stringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZTTSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVSt15basic_stringbufIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs4_Rep20_S_empty_rep_storageE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __gxx_personality_v0
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs9push_backEc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs12find_last_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt15basic_streambufIcSt11char_traitsIcEED2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6assignERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSi10_M_extractIdEERSiRT_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt6localeD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_rethrow
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs7compareEPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsC1EPKcmRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZdaPv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs7compareERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs17find_first_not_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt8ios_base4InitC1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6assignEPKcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _Znwm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt17__throw_bad_allocv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt18_Rb_tree_incrementPSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs4findEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_l
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt20__throw_out_of_rangePKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_throw
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZNSt9basic_iosIcSt11char_traitsIcEE4initEPSt15basic_streambufIcS1_E
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6appendEPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZdlPv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6resizeEm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs4_Rep10_M_destroyERKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsD2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEED2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs17find_first_not_ofEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt18_Rb_tree_decrementPKSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt9terminatev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt9exceptionD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_free_exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6appendERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs14_M_replace_auxEmmmc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_get_exception_ptr
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZSt28_Rb_tree_rebalance_for_erasePSt18_Rb_tree_node_baseRS_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs16find_last_not_ofEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsC2ERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_guard_abort
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSo9_M_insertIdEERSoT_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt8ios_baseC2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs12_M_leak_hardEv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_guard_acquire
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs7replaceEmmPKcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6appendEmc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_begin_catch
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6resizeEmc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6appendEPKcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZSt29_Rb_tree_insert_and_rebalancebPSt18_Rb_tree_node_baseS0_RS_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs9_M_mutateEmmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZNKSt15basic_stringbufIcSt11char_traitsIcESaIcEE3strEv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs7_M_leakEv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_end_catch
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs5rfindEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_guard_release
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs6substrEmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs7replaceEmmPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt15_List_node_base4hookEPS_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs7reserveEm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __cxa_allocate_exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsC2EPKcRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt8ios_baseD2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt18_Rb_tree_decrementPSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs4_Rep9_S_createEmmRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSolsEi
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _Znam
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: __dynamic_cast
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt18_Rb_tree_incrementPKSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZNSt19basic_ostringstreamIcSt11char_traitsIcESaIcEED1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs13find_first_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt20__throw_length_errorPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZNSt15basic_stringbufIcSt11char_traitsIcESaIcEE7_M_syncEPcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs2atEm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs4findEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZNSt9basic_iosIcSt11char_traitsIcEE5clearESt12_Ios_Iostate
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol:
> _ZNSt18basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsC1EPKcRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZSt19__throw_logic_errorPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs5rfindEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt9exceptionD2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsC1ERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSt6localeC1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSsC1ERKSsmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNSs6assignEPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZNKSs16find_last_not_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1)
> undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: _ZNSt8ios_base4InitD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: __gxx_personality_v0
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: _ZNSt8ios_base4InitC1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: _Znwm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: _ZdlPv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> undefined symbol: _Znam
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdaljni.so)
> 
> 
> Printing libgdal.so dependencies, also encountering the same issue
> below:
> 
> $ ldd -d -r /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so
> linux-vdso.so.1 => (0x00007ffff39ff000)
> libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007fb65639b000)
> libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007fb655db2000)
> libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007fb655b8a000)
> libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fb65596e000)
> libm.so.6 => /lib64/libm.so.6 (0x00007fb6556e9000)
> librt.so.1 => /lib64/librt.so.1 (0x00007fb6554e1000)
> libdl.so.2 => /lib64/libdl.so.2 (0x00007fb6552dd000)
> libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007fb655089000)
> libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007fb654e73000)
> libc.so.6 => /lib64/libc.so.6 (0x00007fb654ae3000)
> libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007fb6548b0000)
> libz.so.1 => /lib64/libz.so.1 (0x00007fb65469a000)
> libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007fb65443f000)
> libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007fb6540a4000)
> libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007fb653e62000)
> libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007fb653c2b000)
> libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007fb6539d7000)
> /lib64/ld-linux-x86-64.so.2 (0x0000003ee4200000)
> libidn.so.11 => /lib64/libidn.so.11 (0x00007fb6537a5000)
> libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007fb65355a000)
> libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007fb65327a000)
> libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007fb65304e000)
> libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007fb652e4a000)
> libssl3.so => /usr/lib64/libssl3.so (0x00007fb652c0e000)
> libsmime3.so => /usr/lib64/libsmime3.so (0x00007fb6529e2000)
> libnss3.so => /usr/lib64/libnss3.so (0x00007fb6526a7000)
> libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007fb652480000)
> libplds4.so => /lib64/libplds4.so (0x00007fb65227c000)
> libplc4.so => /lib64/libplc4.so (0x00007fb652077000)
> libnspr4.so => /lib64/libnspr4.so (0x00007fb651e39000)
> libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007fb651c12000)
> libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007fb651a06000)
> libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007fb651803000)
> libresolv.so.2 => /lib64/libresolv.so.2 (0x00007fb6515e9000)
> libfreebl3.so => /lib64/libfreebl3.so (0x00007fb651386000)
> liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007fb651177000)
> libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007fb650f5d000)
> libselinux.so.1 => /lib64/libselinux.so.1 (0x00007fb650d3d000)
> undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_pure_virtual
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVN10__cxxabiv121__vmi_class_type_infoE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTISt9exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVSt15basic_streambufIcSt11char_traitsIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVSt9exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVSt18basic_stringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZTVSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTIPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt4cerr
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt8ios_base4InitD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVSt9basic_iosIcSt11char_traitsIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTTSt18basic_stringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZTTSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZTVSt15basic_stringbufIcSt11char_traitsIcESaIcEE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs4_Rep20_S_empty_rep_storageE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __gxx_personality_v0
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs9push_backEc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs12find_last_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt15basic_streambufIcSt11char_traitsIcEED2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6assignERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSi10_M_extractIdEERSiRT_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt6localeD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_rethrow
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs7compareEPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsC1EPKcmRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZdaPv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs7compareERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs17find_first_not_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt8ios_base4InitC1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6assignEPKcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _Znwm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt17__throw_bad_allocv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt18_Rb_tree_incrementPSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs4findEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_l
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt20__throw_out_of_rangePKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_throw
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZNSt9basic_iosIcSt11char_traitsIcEE4initEPSt15basic_streambufIcS1_E
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6appendEPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZdlPv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6resizeEm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs4_Rep10_M_destroyERKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsD2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEED2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs17find_first_not_ofEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt18_Rb_tree_decrementPKSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt9terminatev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt9exceptionD1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_free_exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6appendERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs14_M_replace_auxEmmmc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_get_exception_ptr
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZSt28_Rb_tree_rebalance_for_erasePSt18_Rb_tree_node_baseRS_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs16find_last_not_ofEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsC2ERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_guard_abort
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSo9_M_insertIdEERSoT_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt8ios_baseC2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs12_M_leak_hardEv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_guard_acquire
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs7replaceEmmPKcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6appendEmc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_begin_catch
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6resizeEmc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6appendEPKcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZSt29_Rb_tree_insert_and_rebalancebPSt18_Rb_tree_node_baseS0_RS_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs9_M_mutateEmmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZNKSt15basic_stringbufIcSt11char_traitsIcESaIcEE3strEv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs7_M_leakEv
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_end_catch
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs5rfindEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_guard_release
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs6substrEmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs7replaceEmmPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt15_List_node_base4hookEPS_
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs7reserveEm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __cxa_allocate_exception
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsC2EPKcRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt8ios_baseD2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt18_Rb_tree_decrementPSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs4_Rep9_S_createEmmRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSolsEi
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _Znam
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: __dynamic_cast
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt18_Rb_tree_incrementPKSt18_Rb_tree_node_base
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZNSt19basic_ostringstreamIcSt11char_traitsIcESaIcEED1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs13find_first_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt20__throw_length_errorPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZNSt15basic_stringbufIcSt11char_traitsIcESaIcEE7_M_syncEPcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs2atEm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs4findEcm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZNSt9basic_iosIcSt11char_traitsIcEE5clearESt12_Ios_Iostate
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol:
> _ZNSt18basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsC1EPKcRKSaIcE
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZSt19__throw_logic_errorPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs5rfindEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt9exceptionD2Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsC1ERKSs
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSt6localeC1Ev
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSsC1ERKSsmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNSs6assignEPKc
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> undefined symbol: _ZNKSs16find_last_not_ofEPKcmm
> (/home/579/hxs579/apps/gdal-trunk/lib/libgdal.so)
> 
> 
> ----- Original Message -----
> > From: "Even Rouault" <even.rouault at mines-paris.org>
> > To: "Hendy Sumanto" <hsumanto at vpac.org>
> > Cc: "gdal-dev" <gdal-dev at lists.osgeo.org>
> > Sent: Friday, 21 September, 2012 9:23:44 PM
> > Subject: Re: [gdal-dev] GDAL / Java bindings : undefined symbol:
> > _ZTVN10__cxxabiv120__si_class_type_infoE in
> > libgdal.so.1
> > Seeing
> >
> > > java.lang.UnsatisfiedLinkError:
> > > /home/579/hxs579/local/gdal-trunk/gdal/swig/java/libgdaljni.so:
> > > /home/579/hxs579/apps/gdal-trunk/lib/libgdal.so.1: undefined
> > > symbol:
> >
> > You need to add /home/579/hxs579/apps/gdal-trunk/lib in your
> > LD_LIBRARY_PATH too
> > (in addition to the existing values in it).
> >
> > Reading
> > http://trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructionsUnix ,
> > I
> > see it wasn't mentionned.

-- 
Hendy Sumanto
Software Engineer

Victorian Partnership for Advanced Computing (VPAC)
Innovation Powered by Advanced Computing
http://www.vpac.org
t: +61 3 9925 8340
f: +61 3 9646 7787

From even.rouault at mines-paris.org  Mon Sep 24 00:20:39 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 24 Sep 2012 09:20:39 +0200
Subject: [gdal-dev] GDAL / Java bindings : undefined symbol:
	_ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1
In-Reply-To: <202445914.103017.1348469129553.JavaMail.root@mail>
References: <202445914.103017.1348469129553.JavaMail.root@mail>
Message-ID: <1348471239.506009c7a617b@imp.free.fr>

Selon Hendy Sumanto <hsumanto at vpac.org>:

> Hi Even,
>
> I finally found the cause of the issue.
>
> If I build the 1.9 branch from https://svn.osgeo.org/gdal/branches/1.9/gdal
> it builds OK and printing shared libraries (such as ldd -d -r libgdal.so or
> ldd -d -r libgdaljni.so) are OK too.
>
> If I build the latest trunk from https://svn.osgeo.org/gdal/trunk/
> it builds OK but printing shared libraries (such as ldd -d -r libgdal.so or
> ldd -d -r libgdaljni.so) are having undefined symbol issues below.
>
> So obviously something is broken in the latest trunk but not sure what.

That's interesting, but I'm not sure why you see such a difference. On my own
setup, both GDAL versions produce working Java bindings.

>From an internet search, I see the "undefined symbol:
_ZTVN10__cxxabiv120__si_class_type_infoE" error message is the symptom of a
missing link to libstdc++, and indeed in the ldd trace you gave, there's no such
sign of libstdc++, which is weird.

0/ What is your Linux distro ?
1/ Could you check if libstdc++ appears on the ldd of libgdal.so of the 1.9
branch ?
2/ Have you compiled the both branches with the same ./configure options ? Could
you make a diff between the output of ldd of both libgdal.so to confirm that ?
3/ In your trunk checkout, you could try editing GDALmake.opt (after ./configure
stage), and manually add -lstdc++ on the "LIBS = xxxx" line, and check if that
works better. However that shouldn't be necessary.

From hsumanto at vpac.org  Mon Sep 24 01:47:13 2012
From: hsumanto at vpac.org (Hendy Sumanto)
Date: Mon, 24 Sep 2012 18:47:13 +1000 (EST)
Subject: [gdal-dev] GDAL / Java bindings : undefined symbol:
 _ZTVN10__cxxabiv120__si_class_type_infoE in libgdal.so.1
In-Reply-To: <1348471239.506009c7a617b@imp.free.fr>
Message-ID: <415933247.103119.1348476433987.JavaMail.root@mail>

Hi Even,

> From an internet search, I see the "undefined symbol:
> _ZTVN10__cxxabiv120__si_class_type_infoE" error message is the symptom
> of a
> missing link to libstdc++, and indeed in the ldd trace you gave,
> there's no such
> sign of libstdc++, which is weird.
> 
> 0/ What is your Linux distro ?

$ cat /etc/issue
CentOS release 6.3 (Final)
Kernel \r on an \m

$ cat /proc/version
Linux version 2.6.32-220.17.1.el6.x86_64 (mockbuild at c6b5.bsys.dev.centos.org) (gcc version 4.4.6 20110731 (Red Hat 4.4.6-3) (GCC) ) #1 SMP Wed May 16 00:01:37 BST 2012


> 1/ Could you check if libstdc++ appears on the ldd of libgdal.so of
> the 1.9
> branch ?

Yes libstdc++ is appearing on the 1.9 branch as shown below.

$ ldd -d -r libgdal.so
	linux-vdso.so.1 =>  (0x00007ffff39ff000)
	libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007f398a375000)
	libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007f3989d8d000)
	libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007f3989b64000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f3989947000)
	librt.so.1 => /lib64/librt.so.1 (0x00007f398973f000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f398953a000)
	libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007f39892e7000)
	libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x00007f3988fe1000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f3988d5c000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f39889c9000)
	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f39887b3000)
	libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007f3988580000)
	libz.so.1 => /lib64/libz.so.1 (0x00007f398836a000)
	libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f398810f000)
	libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007f3987d74000)
	libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007f3987b32000)
	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f39878fb000)
	libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007f39876a7000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f398b31a000)
	libidn.so.11 => /lib64/libidn.so.11 (0x00007f3987475000)
	libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007f398722a000)
	libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007f3986f4a000)
	libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007f3986d1e000)
	libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007f3986b1a000)
	libssl3.so => /usr/lib64/libssl3.so (0x00007f39868dd000)
	libsmime3.so => /usr/lib64/libsmime3.so (0x00007f39866b1000)
	libnss3.so => /usr/lib64/libnss3.so (0x00007f3986375000)
	libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007f398614e000)
	libplds4.so => /lib64/libplds4.so (0x00007f3985f4a000)
	libplc4.so => /lib64/libplc4.so (0x00007f3985d45000)
	libnspr4.so => /lib64/libnspr4.so (0x00007f3985b07000)
	libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007f39858e0000)
	libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007f39856d4000)
	libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007f39854d1000)
	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f39852b7000)
	libfreebl3.so => /lib64/libfreebl3.so (0x00007f3985054000)
	liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007f3984e45000)
	libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007f3984c2b000)
	libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f3984a0b000)


> 2/ Have you compiled the both branches with the same ./configure
> options ? 

Yes, I have ./configure both of them using the same options below.

./configure --prefix=/usr/local/gdal-trunk --with-netcdf=/usr --with-hdf5=/usr --without-python --enable-netcdf4

This is the ldd on the gdal trunk and libstdc++ is not there.

$ ldd -d -r libgdal.so
	linux-vdso.so.1 =>  (0x00007fff9467b000)
	libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007f3d3cad9000)
	libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007f3d3c4f0000)
	libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007f3d3c2c8000)
	libz.so.1 => /lib64/libz.so.1 (0x00007f3d3c0b2000)
	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f3d3be94000)
	libm.so.6 => /lib64/libm.so.6 (0x00007f3d3bc10000)
	librt.so.1 => /lib64/librt.so.1 (0x00007f3d3ba08000)
	libdl.so.2 => /lib64/libdl.so.2 (0x00007f3d3b803000)
	libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007f3d3b5b0000)
	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f3d3b39a000)
	libc.so.6 => /lib64/libc.so.6 (0x00007f3d3b006000)
	libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007f3d3add4000)
	libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f3d3ab79000)
	libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007f3d3a7de000)
	libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007f3d3a59c000)
	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f3d3a365000)
	libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007f3d3a111000)
	/lib64/ld-linux-x86-64.so.2 (0x00007f3d3dae2000)
	libidn.so.11 => /lib64/libidn.so.11 (0x00007f3d39edf000)
	libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007f3d39c94000)
	libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007f3d399b4000)
	libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007f3d39788000)
	libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007f3d39584000)
	libssl3.so => /usr/lib64/libssl3.so (0x00007f3d39347000)
	libsmime3.so => /usr/lib64/libsmime3.so (0x00007f3d3911b000)
	libnss3.so => /usr/lib64/libnss3.so (0x00007f3d38ddf000)
	libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007f3d38bb8000)
	libplds4.so => /lib64/libplds4.so (0x00007f3d389b4000)
	libplc4.so => /lib64/libplc4.so (0x00007f3d387af000)
	libnspr4.so => /lib64/libnspr4.so (0x00007f3d38571000)
	libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007f3d3834a000)
	libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007f3d3813e000)
	libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007f3d37f3b000)
	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f3d37d21000)
	libfreebl3.so => /lib64/libfreebl3.so (0x00007f3d37abe000)
	liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007f3d378af000)
	libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007f3d37695000)
	libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f3d37475000)
undefined symbol: _ZTVN10__cxxabiv120__si_class_type_infoE	(./libgdal.so)
undefined symbol: _ZTVN10__cxxabiv117__class_type_infoE	(./libgdal.so)
undefined symbol: __cxa_pure_virtual	(./libgdal.so)
undefined symbol: _ZTVN10__cxxabiv121__vmi_class_type_infoE	(./libgdal.so)
undefined symbol: _ZTISt9exception	(./libgdal.so)
undefined symbol: _ZTVSt15basic_streambufIcSt11char_traitsIcEE	(./libgdal.so)
undefined symbol: _ZTVSt9exception	(./libgdal.so)
undefined symbol: _ZTVSt18basic_stringstreamIcSt11char_traitsIcESaIcEE	(./libgdal.so)
undefined symbol: _ZTVSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE	(./libgdal.so)
undefined symbol: _ZTIPKc	(./libgdal.so)
undefined symbol: _ZSt4cerr	(./libgdal.so)
undefined symbol: _ZNSsD1Ev	(./libgdal.so)
undefined symbol: _ZNSt8ios_base4InitD1Ev	(./libgdal.so)
undefined symbol: _ZTVSt9basic_iosIcSt11char_traitsIcEE	(./libgdal.so)
undefined symbol: _ZTTSt18basic_stringstreamIcSt11char_traitsIcESaIcEE	(./libgdal.so)
undefined symbol: _ZTTSt19basic_ostringstreamIcSt11char_traitsIcESaIcEE	(./libgdal.so)
undefined symbol: _ZTVSt15basic_stringbufIcSt11char_traitsIcESaIcEE	(./libgdal.so)
undefined symbol: _ZNSs4_Rep20_S_empty_rep_storageE	(./libgdal.so)
undefined symbol: __gxx_personality_v0	(./libgdal.so)
undefined symbol: _ZNSs9push_backEc	(./libgdal.so)
undefined symbol: _ZNKSs12find_last_ofEPKcmm	(./libgdal.so)
undefined symbol: _ZNSt15basic_streambufIcSt11char_traitsIcEED2Ev	(./libgdal.so)
undefined symbol: _ZNSs6assignERKSs	(./libgdal.so)
undefined symbol: _ZNSi10_M_extractIdEERSiRT_	(./libgdal.so)
undefined symbol: _ZNSt6localeD1Ev	(./libgdal.so)
undefined symbol: _ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc	(./libgdal.so)
undefined symbol: __cxa_rethrow	(./libgdal.so)
undefined symbol: _ZNKSs7compareEPKc	(./libgdal.so)
undefined symbol: _ZNSsC1EPKcmRKSaIcE	(./libgdal.so)
undefined symbol: _ZNSsD1Ev	(./libgdal.so)
undefined symbol: _ZdaPv	(./libgdal.so)
undefined symbol: _ZNKSs7compareERKSs	(./libgdal.so)
undefined symbol: _ZNKSs17find_first_not_ofEPKcmm	(./libgdal.so)
undefined symbol: _ZNSt8ios_base4InitC1Ev	(./libgdal.so)
undefined symbol: _ZNSs6assignEPKcm	(./libgdal.so)
undefined symbol: _Znwm	(./libgdal.so)
undefined symbol: _ZSt17__throw_bad_allocv	(./libgdal.so)
undefined symbol: _ZSt18_Rb_tree_incrementPSt18_Rb_tree_node_base	(./libgdal.so)
undefined symbol: _ZNKSs4findEPKcmm	(./libgdal.so)
undefined symbol: _ZSt16__ostream_insertIcSt11char_traitsIcEERSt13basic_ostreamIT_T0_ES6_PKS3_l	(./libgdal.so)
undefined symbol: _ZSt20__throw_out_of_rangePKc	(./libgdal.so)
undefined symbol: __cxa_throw	(./libgdal.so)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEE4initEPSt15basic_streambufIcS1_E	(./libgdal.so)
undefined symbol: _ZNSs6appendEPKc	(./libgdal.so)
undefined symbol: _ZdlPv	(./libgdal.so)
undefined symbol: _ZNSs6resizeEm	(./libgdal.so)
undefined symbol: _ZNSs4_Rep10_M_destroyERKSaIcE	(./libgdal.so)
undefined symbol: _ZNSsD2Ev	(./libgdal.so)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEED2Ev	(./libgdal.so)
undefined symbol: _ZNKSs17find_first_not_ofEcm	(./libgdal.so)
undefined symbol: _ZSt18_Rb_tree_decrementPKSt18_Rb_tree_node_base	(./libgdal.so)
undefined symbol: _ZSt9terminatev	(./libgdal.so)
undefined symbol: _ZNSt9exceptionD1Ev	(./libgdal.so)
undefined symbol: __cxa_free_exception	(./libgdal.so)
undefined symbol: _ZNSs6appendERKSs	(./libgdal.so)
undefined symbol: _ZNSs14_M_replace_auxEmmmc	(./libgdal.so)
undefined symbol: __cxa_get_exception_ptr	(./libgdal.so)
undefined symbol: _ZSt28_Rb_tree_rebalance_for_erasePSt18_Rb_tree_node_baseRS_	(./libgdal.so)
undefined symbol: _ZNKSs16find_last_not_ofEcm	(./libgdal.so)
undefined symbol: _ZNSsC2ERKSs	(./libgdal.so)
undefined symbol: __cxa_guard_abort	(./libgdal.so)
undefined symbol: _ZNSo9_M_insertIdEERSoT_	(./libgdal.so)
undefined symbol: _ZNSt8ios_baseC2Ev	(./libgdal.so)
undefined symbol: _ZNSs12_M_leak_hardEv	(./libgdal.so)
undefined symbol: __cxa_guard_acquire	(./libgdal.so)
undefined symbol: _ZNSs7replaceEmmPKcm	(./libgdal.so)
undefined symbol: _ZNSs6appendEmc	(./libgdal.so)
undefined symbol: __cxa_begin_catch	(./libgdal.so)
undefined symbol: _ZNSs6resizeEmc	(./libgdal.so)
undefined symbol: _ZNSs6appendEPKcm	(./libgdal.so)
undefined symbol: _ZSt29_Rb_tree_insert_and_rebalancebPSt18_Rb_tree_node_baseS0_RS_	(./libgdal.so)
undefined symbol: _ZNSs9_M_mutateEmmm	(./libgdal.so)
undefined symbol: _ZNKSt15basic_stringbufIcSt11char_traitsIcESaIcEE3strEv	(./libgdal.so)
undefined symbol: _ZNSs7_M_leakEv	(./libgdal.so)
undefined symbol: __cxa_end_catch	(./libgdal.so)
undefined symbol: _ZNKSs5rfindEcm	(./libgdal.so)
undefined symbol: __cxa_guard_release	(./libgdal.so)
undefined symbol: _ZNKSs6substrEmm	(./libgdal.so)
undefined symbol: _ZNSs7replaceEmmPKc	(./libgdal.so)
undefined symbol: _ZNSt15_List_node_base4hookEPS_	(./libgdal.so)
undefined symbol: _ZNSs7reserveEm	(./libgdal.so)
undefined symbol: __cxa_allocate_exception	(./libgdal.so)
undefined symbol: _ZNSsC2EPKcRKSaIcE	(./libgdal.so)
undefined symbol: _ZNSt8ios_baseD2Ev	(./libgdal.so)
undefined symbol: _ZSt18_Rb_tree_decrementPSt18_Rb_tree_node_base	(./libgdal.so)
undefined symbol: _ZNSs4_Rep9_S_createEmmRKSaIcE	(./libgdal.so)
undefined symbol: _ZNSolsEi	(./libgdal.so)
undefined symbol: _Znam	(./libgdal.so)
undefined symbol: __dynamic_cast	(./libgdal.so)
undefined symbol: _ZSt18_Rb_tree_incrementPKSt18_Rb_tree_node_base	(./libgdal.so)
undefined symbol: _ZNSt19basic_ostringstreamIcSt11char_traitsIcESaIcEED1Ev	(./libgdal.so)
undefined symbol: _ZNKSs13find_first_ofEPKcmm	(./libgdal.so)
undefined symbol: _ZSt20__throw_length_errorPKc	(./libgdal.so)
undefined symbol: _ZNSt15basic_stringbufIcSt11char_traitsIcESaIcEE7_M_syncEPcmm	(./libgdal.so)
undefined symbol: _ZNSs2atEm	(./libgdal.so)
undefined symbol: _ZNKSs4findEcm	(./libgdal.so)
undefined symbol: _ZNSt9basic_iosIcSt11char_traitsIcEE5clearESt12_Ios_Iostate	(./libgdal.so)
undefined symbol: _ZNSt18basic_stringstreamIcSt11char_traitsIcESaIcEED1Ev	(./libgdal.so)
undefined symbol: _ZNSsC1EPKcRKSaIcE	(./libgdal.so)
undefined symbol: _ZSt19__throw_logic_errorPKc	(./libgdal.so)
undefined symbol: _ZNKSs5rfindEPKcmm	(./libgdal.so)
undefined symbol: _ZNSt9exceptionD2Ev	(./libgdal.so)
undefined symbol: _ZNSsC1ERKSs	(./libgdal.so)
undefined symbol: _ZNSt6localeC1Ev	(./libgdal.so)
undefined symbol: _ZNSsC1ERKSsmm	(./libgdal.so)
undefined symbol: _ZNSs6assignEPKc	(./libgdal.so)
undefined symbol: _ZNKSs16find_last_not_ofEPKcmm	(./libgdal.so)


> 3/ In your trunk checkout, you could try editing GDALmake.opt (after
> ./configure
> stage), and manually add -lstdc++ on the "LIBS = xxxx" line, and check
> if that
> works better. However that shouldn't be necessary.

Manually add -lstdc++ on the "LIBS = xxxx" line in GDALmake.opt fixes the issue on the gdal trunk.
Now the ldd -d -r libgdal.so

Thanks, for the solution Even.

> Could you make a diff between the output of ldd of both libgdal.so to
> confirm that ?

These are the diff between the output of ldd of both libgdal.so after manually add -lstdc++ on the "LIBS = xxxx" line in GDALmake.opt 
in the gdal trunk.

$ diff ldd-trunk.txt ldd-branch.txt 
1,40c1,40
< 	linux-vdso.so.1 =>  (0x00007fff2d778000)
< 	libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x00007f5c5f628000)
< 	libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007f5c5f2e2000)
< 	libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007f5c5ecf9000)
< 	libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007f5c5ead1000)
< 	libz.so.1 => /lib64/libz.so.1 (0x00007f5c5e8bb000)
< 	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f5c5e69d000)
< 	libm.so.6 => /lib64/libm.so.6 (0x00007f5c5e419000)
< 	librt.so.1 => /lib64/librt.so.1 (0x00007f5c5e211000)
< 	libdl.so.2 => /lib64/libdl.so.2 (0x00007f5c5e00c000)
< 	libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007f5c5ddb9000)
< 	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f5c5dba3000)
< 	libc.so.6 => /lib64/libc.so.6 (0x00007f5c5d80f000)
< 	/lib64/ld-linux-x86-64.so.2 (0x00007f5c605f2000)
< 	libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007f5c5d5dd000)
< 	libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f5c5d382000)
< 	libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007f5c5cfe7000)
< 	libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007f5c5cda5000)
< 	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f5c5cb6e000)
< 	libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007f5c5c91a000)
< 	libidn.so.11 => /lib64/libidn.so.11 (0x00007f5c5c6e8000)
< 	libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007f5c5c49d000)
< 	libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007f5c5c1bd000)
< 	libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007f5c5bf91000)
< 	libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007f5c5bd8d000)
< 	libssl3.so => /usr/lib64/libssl3.so (0x00007f5c5bb50000)
< 	libsmime3.so => /usr/lib64/libsmime3.so (0x00007f5c5b924000)
< 	libnss3.so => /usr/lib64/libnss3.so (0x00007f5c5b5e8000)
< 	libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007f5c5b3c1000)
< 	libplds4.so => /lib64/libplds4.so (0x00007f5c5b1bd000)
< 	libplc4.so => /lib64/libplc4.so (0x00007f5c5afb8000)
< 	libnspr4.so => /lib64/libnspr4.so (0x00007f5c5ad7a000)
< 	libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007f5c5ab53000)
< 	libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007f5c5a947000)
< 	libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007f5c5a744000)
< 	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f5c5a52a000)
< 	libfreebl3.so => /lib64/libfreebl3.so (0x00007f5c5a2c7000)
< 	liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007f5c5a0b8000)
< 	libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007f5c59e9e000)
< 	libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f5c59c7e000)
---
> 	linux-vdso.so.1 =>  (0x00007fffc10fc000)
> 	libnetcdf.so.6 => /usr/lib64/libnetcdf.so.6 (0x00007f645e66c000)
> 	libhdf5.so.6 => /usr/lib64/libhdf5.so.6 (0x00007f645e084000)
> 	libpq.so.5 => /usr/lib64/libpq.so.5 (0x00007f645de5b000)
> 	libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f645dc3e000)
> 	librt.so.1 => /lib64/librt.so.1 (0x00007f645da36000)
> 	libdl.so.2 => /lib64/libdl.so.2 (0x00007f645d831000)
> 	libcurl.so.4 => /usr/lib64/libcurl.so.4 (0x00007f645d5de000)
> 	libstdc++.so.6 => /usr/lib64/libstdc++.so.6 (0x00007f645d2d8000)
> 	libm.so.6 => /lib64/libm.so.6 (0x00007f645d053000)
> 	libc.so.6 => /lib64/libc.so.6 (0x00007f645ccc0000)
> 	libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007f645caaa000)
> 	libhdf5_hl.so.6 => /usr/lib64/libhdf5_hl.so.6 (0x00007f645c877000)
> 	libz.so.1 => /lib64/libz.so.1 (0x00007f645c661000)
> 	libssl.so.10 => /usr/lib64/libssl.so.10 (0x00007f645c406000)
> 	libcrypto.so.10 => /usr/lib64/libcrypto.so.10 (0x00007f645c06b000)
> 	libgssapi_krb5.so.2 => /lib64/libgssapi_krb5.so.2 (0x00007f645be29000)
> 	libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f645bbf2000)
> 	libldap_r-2.4.so.2 => /lib64/libldap_r-2.4.so.2 (0x00007f645b99e000)
> 	/lib64/ld-linux-x86-64.so.2 (0x00007f645f611000)
> 	libidn.so.11 => /lib64/libidn.so.11 (0x00007f645b76c000)
> 	libldap-2.4.so.2 => /lib64/libldap-2.4.so.2 (0x00007f645b521000)
> 	libkrb5.so.3 => /lib64/libkrb5.so.3 (0x00007f645b241000)
> 	libk5crypto.so.3 => /lib64/libk5crypto.so.3 (0x00007f645b015000)
> 	libcom_err.so.2 => /lib64/libcom_err.so.2 (0x00007f645ae11000)
> 	libssl3.so => /usr/lib64/libssl3.so (0x00007f645abd4000)
> 	libsmime3.so => /usr/lib64/libsmime3.so (0x00007f645a9a8000)
> 	libnss3.so => /usr/lib64/libnss3.so (0x00007f645a66c000)
> 	libnssutil3.so => /usr/lib64/libnssutil3.so (0x00007f645a445000)
> 	libplds4.so => /lib64/libplds4.so (0x00007f645a241000)
> 	libplc4.so => /lib64/libplc4.so (0x00007f645a03c000)
> 	libnspr4.so => /lib64/libnspr4.so (0x00007f6459dfe000)
> 	libssh2.so.1 => /usr/lib64/libssh2.so.1 (0x00007f6459bd7000)
> 	libkrb5support.so.0 => /lib64/libkrb5support.so.0 (0x00007f64599cb000)
> 	libkeyutils.so.1 => /lib64/libkeyutils.so.1 (0x00007f64597c8000)
> 	libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f64595ae000)
> 	libfreebl3.so => /lib64/libfreebl3.so (0x00007f645934b000)
> 	liblber-2.4.so.2 => /lib64/liblber-2.4.so.2 (0x00007f645913c000)
> 	libsasl2.so.2 => /usr/lib64/libsasl2.so.2 (0x00007f6458f22000)
> 	libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f6458d02000)

$ wc -l ldd-branch.txt 
40 ldd-branch.txt
$ wc -l ldd-trunk.txt 
40 ldd-trunk.txt

Regards,

Hendy



From nixanz at nixanz.com  Mon Sep 24 02:26:50 2012
From: nixanz at nixanz.com (Nik Sands)
Date: Mon, 24 Sep 2012 19:26:50 +1000
Subject: [gdal-dev] Warp results in wrong colours
Message-ID: <C57C2EB7-0AB3-4B32-AB73-FFB86ACD3212@nixanz.com>

My application is doing a warp using GDAL which works fine for some source images, but with others results in an image with the colours all wrong (eg, water areas are red instead of blue).  I'm guessing that the RGB(A) (bands?) are getting mixed up somehow, but I really don't know where to start looking after my web searches produced nothing useful.

The problem only occurs for some images.  So far the only thing that the problem source images have in common is that they were all converted from ECW to GeoTIFF by 'gdal_translate' (with no options).  The source GeoTIFF files have all the correct colours before the warp.

The code I'm using is based on the GDAL warp API tutorial and is included below.

I'd be grateful if somebody could point me in the right direction.

Thanks in advance,
Nik.



		void *hTransformArg = GDALCreateGenImgProjTransformer( hSrcDS, pszSrcWKT, NULL, pszDstWKT, FALSE, 0, 1 );
		
		if ( hTransformArg == NULL )
		{
			NSLog(@"Failed to create transformation.");
			return NO;
		}
		
		// Get approximate output georeferenced bounds and resolution for file.
		
		double adfDstGeoTransform[6];
		int nPixels=0, nLines=0;
		
		if ( GDALSuggestedWarpOutput( hSrcDS, GDALGenImgProjTransform, hTransformArg, adfDstGeoTransform, &nPixels, &nLines ) != CE_None )
		{
			NSLog(@"Failed to get suggested warp output.");
			return NO;
		}
		
		GDALDestroyGenImgProjTransformer( hTransformArg );
		
		// Create the output file.
		
		NSLog(@"source band count:  %d", GDALGetRasterCount(hSrcDS));
		
		hDstDS = GDALCreate( hDriver, [dstPath cStringUsingEncoding:NSASCIIStringEncoding], nPixels, nLines, GDALGetRasterCount(hSrcDS) + 1, eDT, NULL );
		
		if ( hDstDS == NULL )
		{
			NSLog(@"Failed to open destination file '%@' with GDALCreate().", [dstPath lastPathComponent]);
			return NO;
		}
		
		// Write out the projection definition.
		
		GDALSetProjection( hDstDS, pszDstWKT );
		GDALSetGeoTransform( hDstDS, adfDstGeoTransform );
		
		// Copy the color table, if required.
		
		GDALColorTableH hCT;
		
		hCT = GDALGetRasterColorTable( GDALGetRasterBand(hSrcDS,1) );
		if( hCT != NULL )
			GDALSetRasterColorTable( GDALGetRasterBand(hDstDS,1), hCT );
		
		// Setup warp options.
		
		GDALWarpOptions *psWarpOptions = GDALCreateWarpOptions();
		
		psWarpOptions->hSrcDS = hSrcDS;
		psWarpOptions->hDstDS = hDstDS;
		psWarpOptions->nBandCount = 1;
		psWarpOptions->panSrcBands =
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panSrcBands[0] = 1;
		psWarpOptions->panDstBands =
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panDstBands[0] = 1;
		psWarpOptions->pfnProgress = reportWarpProgress;
		psWarpOptions->nDstAlphaBand = GDALGetRasterCount(hSrcDS) + 1;
		
		// Establish reprojection transformer.
		
		psWarpOptions->pTransformerArg =
		GDALCreateGenImgProjTransformer( hSrcDS,
										GDALGetProjectionRef(hSrcDS),
										hDstDS,
										GDALGetProjectionRef(hDstDS),
										FALSE, 0.0, 1 );
		psWarpOptions->pfnTransformer = GDALGenImgProjTransform;
		
		// Initialize and execute the warp operation.
		
		GDALWarpOperationH oOperation = GDALCreateWarpOperation( psWarpOptions );
		
		GDALChunkAndWarpImage( oOperation, 0, 0,
							  GDALGetRasterXSize( hDstDS ),
							  GDALGetRasterYSize( hDstDS ) );

From even.rouault at mines-paris.org  Mon Sep 24 02:47:45 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 24 Sep 2012 11:47:45 +0200
Subject: [gdal-dev] Warp results in wrong colours
In-Reply-To: <C57C2EB7-0AB3-4B32-AB73-FFB86ACD3212@nixanz.com>
References: <C57C2EB7-0AB3-4B32-AB73-FFB86ACD3212@nixanz.com>
Message-ID: <1348480065.50602c41ddeed@imp.free.fr>

Selon Nik Sands <nixanz at nixanz.com>:

> My application is doing a warp using GDAL which works fine for some source
> images, but with others results in an image with the colours all wrong (eg,
> water areas are red instead of blue).  I'm guessing that the RGB(A) (bands?)
> are getting mixed up somehow, but I really don't know where to start looking
> after my web searches produced nothing useful.
>
> The problem only occurs for some images.  So far the only thing that the
> problem source images have in common is that they were all converted from ECW
> to GeoTIFF by 'gdal_translate' (with no options).  The source GeoTIFF files
> have all the correct colours before the warp.
>
> The code I'm using is based on the GDAL warp API tutorial and is included
> below.
>
> I'd be grateful if somebody could point me in the right direction.

The following snippet only works for single band images. If you have presumably
RGB images, you must set the nBandCount to 3 and initialize panSrcBands and
panDstBands appropriately.

		psWarpOptions->nBandCount = 1;
		psWarpOptions->panSrcBands =
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panSrcBands[0] = 1;
		psWarpOptions->panDstBands =
		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panDstBands[0] = 1;

From anton.korosov at nersc.no  Mon Sep 24 07:44:20 2012
From: anton.korosov at nersc.no (Anton Korosov)
Date: Mon, 24 Sep 2012 16:44:20 +0200
Subject: [gdal-dev] order of dimension in HDF5 COSMO SKYMED driver?
Message-ID: <506071C4.1090906@nersc.no>

Dear list,

in gdal-dev archiveI found a question about COSMO SKYMED data which was 
obviously not answered:

"COSMO delivers two kinds of HDF5 data:
1. Complex Dataset that is a [MxNx2] matrix. In this case the problem is
that the gdal method Open() reads this Dataset not such as 2 Datasets of 
dimensions [MxN], but such as M datasets of dimensions [Nx2]. My 
intention is to create 2 Geotiff file of dimensions [MxN]."

Can I ask if anyone know the answer?
Or can I tell GDAL in which order the dimensions should be read?

Thank you!
Anton


From jukka.rahkonen at mmmtike.fi  Mon Sep 24 08:58:46 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Mon, 24 Sep 2012 15:58:46 +0000 (UTC)
Subject: [gdal-dev] Row count limit in OGR SQL with -dialect=SQLITE
Message-ID: <loom.20120924T165542-775@post.gmane.org>

Hi,

The following SQL works fine when using Spatialite as source

osm_data>ogrinfo osm.sqlite -dialect SQLITE -sql "select * from lines
where highway is not null limit 20"

With native OSM data it fails
OSM_data>ogrinfo -dialect SQLITE finland.osm.pbf -sql "select * from lines
limit 20"  
Had to open data source read-only.
INFO: Open of `finland.osm.pbf'
      using driver `OSM' successful.
ERROR 1: Too many features have accumulated in points layer. Use OGR_INTERLEAVED
_READING=YES mode

Why does it fail? Is the error message correct because I can read from
http://www.gdal.org/ogr/drv_osm.html
"Note : the ogr2ogr application has been modified to use that
OGR_INTERLEAVED_READING mode without any particular user action."

Adding --config OGR_INTERLEAVED_READING YES to ogrinfo request does not lead to
desired result either

OSM_data>ogrinfo -dialect SQLITE finland.osm.pbf -sql "select * from lines
limit 20"  --config OGR_INTERLEAVED_READING YES
Had to open data source read-only.
INFO: Open of `finland.osm.pbf'
      using driver `OSM' successful.

Layer name: SELECT
Geometry: Unknown (any)
Feature Count: 0
Layer SRS WKT:
(unknown)
Geometry Column = GEOMETRY
osm_id: String (0.0)
name: String (0.0)
aerialway: String (0.0)
barrier: String (0.0)
highway: String (0.0)
man_made: String (0.0)
other_tags: String (0.0)

Tested with GDAL rev. 24962 on Windows.

-Jukka Rahkonen-


From even.rouault at mines-paris.org  Mon Sep 24 09:27:59 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 24 Sep 2012 18:27:59 +0200
Subject: [gdal-dev] Row count limit in OGR SQL with -dialect=SQLITE
In-Reply-To: <loom.20120924T165542-775@post.gmane.org>
References: <loom.20120924T165542-775@post.gmane.org>
Message-ID: <1348504079.50608a0fbbbcf@imp.free.fr>

Selon Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:

> Hi,
>
> The following SQL works fine when using Spatialite as source
>
> osm_data>ogrinfo osm.sqlite -dialect SQLITE -sql "select * from lines
> where highway is not null limit 20"

Note that for a SQLite datasource, -dialect SQLite is useless since the SQL
engine of SQLite is used by default.

>
> With native OSM data it fails
> OSM_data>ogrinfo -dialect SQLITE finland.osm.pbf -sql "select * from lines
> limit 20"
> Had to open data source read-only.
> INFO: Open of `finland.osm.pbf'
>       using driver `OSM' successful.
> ERROR 1: Too many features have accumulated in points layer. Use
> OGR_INTERLEAVED
> _READING=YES mode
>
> Why does it fail? Is the error message correct because I can read from
> http://www.gdal.org/ogr/drv_osm.html
> "Note : the ogr2ogr application has been modified to use that
> OGR_INTERLEAVED_READING mode without any particular user action."
>
> Adding --config OGR_INTERLEAVED_READING YES to ogrinfo request does not lead
> to
> desired result either
>

It fails because in the ExecuteSQL() method of the OSM driver there's some logic
to parse the SQL statement and extract the table names that are mentioned in it.
The OSM driver then knows which tables it must ignore to avoid them being filled
up with features that will not be consumed and will accumulate.

The issue is that your SQL request isn't understood by the OGR SQL engine due to
the presence of the LIMIT clause, so the above mentionned trick isn't used and
points are accumulated into the points layer until it reaches an error
threshold.

I'm not sure how to fix that. Please file a ticket about it.

(So the error message is correct, but it is more aimed at developers than
end-users, since setting OGR_INTERLEAVED_READING=YES isn't sufficient per se,
but also requires that the code regularly "consumes" features that are filled in
other layers.)

From Jukka.Rahkonen at mmmtike.fi  Mon Sep 24 09:47:15 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Mon, 24 Sep 2012 16:47:15 +0000
Subject: [gdal-dev] Row count limit in OGR SQL with -dialect=SQLITE
In-Reply-To: <1348504079.50608a0fbbbcf@imp.free.fr>
References: <loom.20120924T165542-775@post.gmane.org>,
	<1348504079.50608a0fbbbcf@imp.free.fr>
Message-ID: <84446DEF76453C439E9E97E438E13A637A0D97@suutari.haapa.mmm.fi>

Even Rouault wrote:
> Selon Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:

>> Hi,
>>
>> The following SQL works fine when using Spatialite as source
>>
>> osm_data>ogrinfo osm.sqlite -dialect SQLITE -sql "select * from lines
>> where highway is not null limit 20"

> Note that for a SQLite datasource, -dialect SQLite is useless since the SQL
> engine of SQLite is used by default.

>>
>> With native OSM data it fails
>> OSM_data>ogrinfo -dialect SQLITE finland.osm.pbf -sql "select * from lines
>> limit 20"
>> Had to open data source read-only.
>> INFO: Open of `finland.osm.pbf'
>>       using driver `OSM' successful.
>> ERROR 1: Too many features have accumulated in points layer. Use
>> OGR_INTERLEAVED
>> _READING=YES mode
>>
>> Why does it fail? Is the error message correct because I can read from
>> http://www.gdal.org/ogr/drv_osm.html
>> "Note : the ogr2ogr application has been modified to use that
>> OGR_INTERLEAVED_READING mode without any particular user action."
>
>> Adding --config OGR_INTERLEAVED_READING YES to ogrinfo request does not lead
>> to
>> desired result either
>>

> It fails because in the ExecuteSQL() method of the OSM driver there's some logic
> to parse the SQL statement and extract the table names that are mentioned in it.
> The OSM driver then knows which tables it must ignore to avoid them being filled
> up with features that will not be consumed and will accumulate.

> The issue is that your SQL request isn't understood by the OGR SQL engine due to
> the presence of the LIMIT clause, so the above mentionned trick isn't used and
> points are accumulated into the points layer until it reaches an error
> threshold.

> I'm not sure how to fix that. Please file a ticket about it.

I will do, I tend to use "limit 10" of something in making quick tests but OSM is 
so odd data that I was not surprised in seeing that it fails. Is this driver specific 
or related to OGR SQL engine generally?

> (So the error message is correct, but it is more aimed at developers than
> end-users, since setting OGR_INTERLEAVED_READING=YES isn't sufficient per se,
> but also requires that the code regularly "consumes" features that are filled in
> other layers.)

Next question, this one works:
OSM_data>ogrinfo -dialect SQLITE  finland.osm.pbf -sql "select name, amenity
from points where amenity is not null" -spat 24.821 60.123 25.259 60.317

But writing to csv file fails, why?
OSM_data>ogr2ogr -f csv -dialect SQLITE poi.csv finland.osm.pbf -sql "select
amenity from points where amenity is not null" -spat 24.821 60.123 25.259 60.317
csv driver failed to create poi.csv

Debug does not show any more information. More odd is that with the following 
I can select attributes from the points layer and write them into csv file
OSM_data>ogr2ogr -f csv -dialect SQLITE finland.csv osm.sqlite  -sql "select
distinct name from lines order by name" -spat 24.821 60.123 25.259 60.317

-Jukka-

From even.rouault at mines-paris.org  Mon Sep 24 11:14:52 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Mon, 24 Sep 2012 20:14:52 +0200
Subject: [gdal-dev] Row count limit in OGR SQL with -dialect=SQLITE
In-Reply-To: <84446DEF76453C439E9E97E438E13A637A0D97@suutari.haapa.mmm.fi>
References: <loom.20120924T165542-775@post.gmane.org>
	<1348504079.50608a0fbbbcf@imp.free.fr>
	<84446DEF76453C439E9E97E438E13A637A0D97@suutari.haapa.mmm.fi>
Message-ID: <201209242014.52149.even.rouault@mines-paris.org>


> I will do, I tend to use "limit 10" of something in making quick tests but
> OSM is so odd data that I was not surprised in seeing that it fails. Is
> this driver specific or related to OGR SQL engine generally?

This is specific to the OSM driver needing to be a bit clever about the SQL 
statement that it will have to run. Currently it only uses the analysis 
"engine" of OGR SQL, which fails when non-OGRSQL is used.

> Next question, this one works:
> OSM_data>ogrinfo -dialect SQLITE  finland.osm.pbf -sql "select name,
> amenity from points where amenity is not null" -spat 24.821 60.123 25.259
> 60.317
> 
> But writing to csv file fails, why?
> OSM_data>ogr2ogr -f csv -dialect SQLITE poi.csv finland.osm.pbf -sql
> "select amenity from points where amenity is not null" -spat 24.821 60.123
> 25.259 60.317 csv driver failed to create poi.csv

I've seen that the CSV driver could emit that error message when there's 
already a CSV file in the directory where you want to create the new CSV file,  
and that this existing CSV file cannot be opened successfully for some reason. 
In your both attemps, was it in the same directory ? I bet that if you try to 
create the CSV file in an empty directory, that will work. If the issue is 
linked to such a corrupted CSV file, please file a ticket about that.

> 
> Debug does not show any more information. More odd is that with the
> following I can select attributes from the points layer and write them
> into csv file OSM_data>ogr2ogr -f csv -dialect SQLITE finland.csv
> osm.sqlite  -sql "select distinct name from lines order by name" -spat
> 24.821 60.123 25.259 60.317
> 
> -Jukka-
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From giuseppe.amatulli at gmail.com  Mon Sep 24 15:53:55 2012
From: giuseppe.amatulli at gmail.com (Giuseppe Amatulli)
Date: Mon, 24 Sep 2012 17:53:55 -0500
Subject: [gdal-dev] gdal_rasterize in parallel processing
Message-ID: <CAKoiDH+zo7Bxp=vWXLScNn3znAG4o1ALSt5fSWP4-aJtTAjmOw@mail.gmail.com>

Hi,
i'm running  gdal_rasterize for  several *.shp using xargs, sending
the process to 10 cpu.

1) ls /weldgfs/p51/gius_urban/pop_urban/2010/shp_albers/*.shp   |
xargs -n 1 -P 10  bash
/weldgfs/p51/gius_urban/pop_urban/scripts/sc2a_shp_rasterizeP30_2010.sh

the same process can be run using one processor.

2) ls /weldgfs/p51/gius_urban/pop_urban/2010/shp_albers/*.shp   |
xargs -n 1 -P 1  bash
/weldgfs/p51/gius_urban/pop_urban/scripts/sc2a_shp_rasterizeP30_2010.sh

Inputs and outputs are independent in each process so no issues in
reading/writing the same file.

The obtained tifs  produced by the gdal_rasterize
(gdal_rasterize -a_nodata 0 -ot Float32 -co 'COMPRESS=LZW'  -te
$geo_string_tif   -tr 30 30    -l $filename     -a BLOCKID10
$INDIR/$filename.shp   $OUTDIR/$filename"_"$tile".tif"  ;
 where BLOCKID10 is an integer number if  e.g 550 019 505 012 101 )

should be same but is not the case.
Line 2) produce the tif perfect similar with the attribute of the shp;
so no issues.
Line 1) burn the same BLOCKID10 value for several polygons, resulting
in less final polygons.
           Seems to me that this phenomena manly effect BLOCKID10
values having several "0" (e.g. 10979900000033 ; 10030101002035)

May question is. Can be possible that the  gdal driver used inside C
code not support multi-core processing?
If yes it is possible to find a solution to run gdal_rasterize in parallel.
Any idea?

Thanks in advance
Giuseppe

-- 
Web: www.spatial-ecology.net

From nixanz at nixanz.com  Mon Sep 24 18:17:45 2012
From: nixanz at nixanz.com (Nik Sands)
Date: Tue, 25 Sep 2012 11:17:45 +1000
Subject: [gdal-dev] Warp results in wrong colours
In-Reply-To: <1348480065.50602c41ddeed@imp.free.fr>
References: <C57C2EB7-0AB3-4B32-AB73-FFB86ACD3212@nixanz.com>
	<1348480065.50602c41ddeed@imp.free.fr>
Message-ID: <9635DE40-E55F-410F-9162-FC03C856683C@nixanz.com>

Hi Even,

Thanks very much for your assistance.  I think I'm understanding this better now.  I've changed the relevant portion of the code to what I've copied in here and it seems to work now.  I do admit that I'm finding it hard to get my head around all this so I'd be grateful if somebody could let me know if I've done anything wrong (code below).  It appears to work correctly with all the images I've tried so far.

		psWarpOptions->nBandCount = GDALGetRasterCount(hSrcDS);
		psWarpOptions->panSrcBands = (int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		psWarpOptions->panDstBands = (int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
		
		for ( int i = 0; i < psWarpOptions->nBandCount; i++ )
		{
			psWarpOptions->panSrcBands[i] = i+1;
			psWarpOptions->panDstBands[i] = i+1;
		}

In any case, I'm very grateful to the people who've developed GDAL and who are supporting it so well.  I'll certainly be donating using the button at http://www.osgeo.org/ as soon as I make anything from my new application.


On 24/09/2012, at 7:47 PM, Even Rouault <even.rouault at mines-paris.org> wrote:

> Selon Nik Sands <nixanz at nixanz.com>:
> 
>> My application is doing a warp using GDAL which works fine for some source
>> images, but with others results in an image with the colours all wrong (eg,
>> water areas are red instead of blue).  I'm guessing that the RGB(A) (bands?)
>> are getting mixed up somehow, but I really don't know where to start looking
>> after my web searches produced nothing useful.
>> 
>> The problem only occurs for some images.  So far the only thing that the
>> problem source images have in common is that they were all converted from ECW
>> to GeoTIFF by 'gdal_translate' (with no options).  The source GeoTIFF files
>> have all the correct colours before the warp.
>> 
>> The code I'm using is based on the GDAL warp API tutorial and is included
>> below.
>> 
>> I'd be grateful if somebody could point me in the right direction.
> 
> The following snippet only works for single band images. If you have presumably
> RGB images, you must set the nBandCount to 3 and initialize panSrcBands and
> panDstBands appropriately.
> 
> 		psWarpOptions->nBandCount = 1;
> 		psWarpOptions->panSrcBands =
> 		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
> 		psWarpOptions->panSrcBands[0] = 1;
> 		psWarpOptions->panDstBands =
> 		(int *) CPLMalloc(sizeof(int) * psWarpOptions->nBandCount );
> 		psWarpOptions->panDstBands[0] = 1;


From neelima.emmani at iictechnologies.com  Mon Sep 24 22:28:03 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Tue, 25 Sep 2012 05:28:03 +0000
Subject: [gdal-dev] geometry  overlap
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467780E9B@IICEXHC01.iictechnologies.local>

Hi All,
I am trying to check, if there is an overlap between two area featuretypes.Ex: LNDARE and OBSTRN. Actually in my dataset I have an overlap but my code pasted below is returning false value for overlap. Can anyone help me out. Here we are trying to code with C#.

 while  ((featLNDARE = layerLNDARE.GetNextFeature()) != null)
           {
               geomLNDARE = featLNDARE.GetGeometryRef();
 while ((featOBSTRN = layerOBSTRN.GetNextFeature()) != null)
               {
 geomOBSTRN = featOBSTRN.GetGeometryRef();

bool checkforoverlap=sub_geomLNDARE.Overlaps(sub_geomOBSTRN);
}
}



With Regards,
Neelima Emmani
GIS Developer
Phone Number - 04039144487
Mobile Number - 9490817875
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120925/9aa664fe/attachment.html>

From even.rouault at mines-paris.org  Tue Sep 25 00:32:43 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 25 Sep 2012 09:32:43 +0200
Subject: [gdal-dev] geometry  overlap
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D8658467780E9B@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D8658467780E9B@IICEXHC01.iictechnologies.local>
Message-ID: <1348558363.50615e1b526bc@imp.free.fr>

Selon Neelima Emmani <neelima.emmani at iictechnologies.com>:

> Hi All,
> I am trying to check, if there is an overlap between two area
> featuretypes.Ex: LNDARE and OBSTRN. Actually in my dataset I have an overlap
> but my code pasted below is returning false value for overlap. Can anyone
> help me out. Here we are trying to code with C#.
>
>  while  ((featLNDARE = layerLNDARE.GetNextFeature()) != null)
>            {
>                geomLNDARE = featLNDARE.GetGeometryRef();
>  while ((featOBSTRN = layerOBSTRN.GetNextFeature()) != null)
>                {
>  geomOBSTRN = featOBSTRN.GetGeometryRef();
>
> bool checkforoverlap=sub_geomLNDARE.Overlaps(sub_geomOBSTRN);
> }
> }

Are you sure that Overlaps() is the right spatial primitive you want to use ?
Perhaps it should be Intersects(). If it is Overlaps(), as A.Overlaps(B) is not
equivalent to B.Overlaps(A), perhaps you could try inverting the object and the
argument.







From sazonov at scanex.ru  Tue Sep 25 02:48:44 2012
From: sazonov at scanex.ru (DmitriyS)
Date: Tue, 25 Sep 2012 02:48:44 -0700 (PDT)
Subject: [gdal-dev] gdalwarp_multithreading
Message-ID: <1348566524692-5004224.post@n6.nabble.com>

Excuse me for the question, I am a beginner at GDAL development and have a
problem. I develop GUI (c++) application for a reprojection, using
"gdalwarp" (special class is written based on this utility). I wish to
perform warp operation for each input images in separate threads
(...beginthreadex(...CreateOutImgFile...). But in this case of two threads
one does not succeeded. Method "GDALDataset::IRasterIO" returns CE_Failure
and thats all. Can you tell the reason of this trouble? Moreover, when only
one thread works warp operation produces no mistakes.
Best regards, Dmitriy.



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdalwarp-multithreading-tp5004224.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Tue Sep 25 04:19:42 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 25 Sep 2012 13:19:42 +0200
Subject: [gdal-dev] gdalwarp_multithreading
In-Reply-To: <1348566524692-5004224.post@n6.nabble.com>
References: <1348566524692-5004224.post@n6.nabble.com>
Message-ID: <1348571982.5061934ea5bc5@imp.free.fr>

Selon DmitriyS <sazonov at scanex.ru>:

> Excuse me for the question, I am a beginner at GDAL development and have a
> problem. I develop GUI (c++) application for a reprojection, using
> "gdalwarp" (special class is written based on this utility). I wish to
> perform warp operation for each input images in separate threads
> (...beginthreadex(...CreateOutImgFile...). But in this case of two threads
> one does not succeeded. Method "GDALDataset::IRasterIO" returns CE_Failure
> and thats all. Can you tell the reason of this trouble? Moreover, when only
> one thread works warp operation produces no mistakes.
> Best regards, Dmitriy.
>

First you should check that your GDAL is built with threads support, otherwise
chaos might occur. On Windows, this is the default. On Linux, in recent GDAL
versions (1.8.0 or later), it is also the default provided that pthread is
available.

Then, I'd recommand using the CPLCreateThread() function of the GDAL API to
create your thread (although I think this is not a hard requirement, but just to
be safe)

You should also make sure that the threads deal with different input and output
files, but from your above description, it looks as if it is the case.

You didn't mention which format/driver is used. A few drivers aren't thread-safe
at all, but the most popular ones are generally OK.

If it isn't a threading error in your code, then it might be that you are
unlucky and run into a known issue in the design of the block cache in GDAL.
This is a bit discussed in http://trac.osgeo.org/gdal/wiki/rfc26_blockcache and
the tickets referenced by that RFC, although I'd think that the related problems
aren't so easy to be triggered in real-world situations. So it would be a last
resort hypothesis.


>
>
> --
> View this message in context:
> http://osgeo-org.1560.n6.nabble.com/gdalwarp-multithreading-tp5004224.html
> Sent from the GDAL - Dev mailing list archive at Nabble.com.
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From giuseppe.amatulli at gmail.com  Tue Sep 25 08:47:20 2012
From: giuseppe.amatulli at gmail.com (Giuseppe Amatulli)
Date: Tue, 25 Sep 2012 10:47:20 -0500
Subject: [gdal-dev] gdal_rasterize in parallel processing
In-Reply-To: <CAKoiDH+zo7Bxp=vWXLScNn3znAG4o1ALSt5fSWP4-aJtTAjmOw@mail.gmail.com>
References: <CAKoiDH+zo7Bxp=vWXLScNn3znAG4o1ALSt5fSWP4-aJtTAjmOw@mail.gmail.com>
Message-ID: <CAKoiDH+R6145fCJuwkyiarACQGpjqf0rcrh=txpDxgN52tznew@mail.gmail.com>

Hi all,
I solved the down reported issues. I change -ot Float32  to -ot
Float64 and it works.
Anyway Float32 should be enough to store the max value of
560459513003129 < 3.4E38
but probably during the multi-core several values are stored in the
same array and it needs Float64.


ciao ciao
Giuseppe

On 24 September 2012 17:53, Giuseppe Amatulli
<giuseppe.amatulli at gmail.com> wrote:
> Hi,
> i'm running  gdal_rasterize for  several *.shp using xargs, sending
> the process to 10 cpu.
>
> 1) ls /weldgfs/p51/gius_urban/pop_urban/2010/shp_albers/*.shp   |
> xargs -n 1 -P 10  bash
> /weldgfs/p51/gius_urban/pop_urban/scripts/sc2a_shp_rasterizeP30_2010.sh
>
> the same process can be run using one processor.
>
> 2) ls /weldgfs/p51/gius_urban/pop_urban/2010/shp_albers/*.shp   |
> xargs -n 1 -P 1  bash
> /weldgfs/p51/gius_urban/pop_urban/scripts/sc2a_shp_rasterizeP30_2010.sh
>
> Inputs and outputs are independent in each process so no issues in
> reading/writing the same file.
>
> The obtained tifs  produced by the gdal_rasterize
> (gdal_rasterize -a_nodata 0 -ot Float32 -co 'COMPRESS=LZW'  -te
> $geo_string_tif   -tr 30 30    -l $filename     -a BLOCKID10
> $INDIR/$filename.shp   $OUTDIR/$filename"_"$tile".tif"  ;
>  where BLOCKID10 is an integer number if  e.g 550 019 505 012 101 )
>
> should be same but is not the case.
> Line 2) produce the tif perfect similar with the attribute of the shp;
> so no issues.
> Line 1) burn the same BLOCKID10 value for several polygons, resulting
> in less final polygons.
>            Seems to me that this phenomena manly effect BLOCKID10
> values having several "0" (e.g. 10979900000033 ; 10030101002035)
>
> May question is. Can be possible that the  gdal driver used inside C
> code not support multi-core processing?
> If yes it is possible to find a solution to run gdal_rasterize in parallel.
> Any idea?
>
> Thanks in advance
> Giuseppe
>
> --
> Web: www.spatial-ecology.net



-- 
Giuseppe Amatulli
Web: www.spatial-ecology.net

From even.rouault at mines-paris.org  Tue Sep 25 09:05:21 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Tue, 25 Sep 2012 18:05:21 +0200
Subject: [gdal-dev] gdal_rasterize in parallel processing
In-Reply-To: <CAKoiDH+R6145fCJuwkyiarACQGpjqf0rcrh=txpDxgN52tznew@mail.gmail.com>
References: <CAKoiDH+zo7Bxp=vWXLScNn3znAG4o1ALSt5fSWP4-aJtTAjmOw@mail.gmail.com>
	<CAKoiDH+R6145fCJuwkyiarACQGpjqf0rcrh=txpDxgN52tznew@mail.gmail.com>
Message-ID: <1348589121.5061d64133158@imp.free.fr>

Selon Giuseppe Amatulli <giuseppe.amatulli at gmail.com>:

> Hi all,
> I solved the down reported issues. I change -ot Float32  to -ot
> Float64 and it works.
> Anyway Float32 should be enough to store the max value of
> 560459513003129 < 3.4E38
> but probably during the multi-core several values are stored in the
> same array and it needs Float64.

I'm extremly skeptical that what you have seen initially is linked to
multi-processing and I would have recommanded you to double check your findings
that the results with -P 1 or -P 10 were really different. From what I've seen,
the -P option of xargs forks separate processes, so I can't imagine how they
could interact badly (this is different from having several threads inside a
single process).

But what happens likely with Float32 is that the precision isn't sufficient to
keep all the digits of the integral value. So 5000000000001 and 5000000000002
might be represented as the same Float32 binary value (let's say 5000000000000),
hence the impression that they are burnt with the same value. Float64 will give
you more precision (and more range, but that's not what you need).

>
>
> ciao ciao
> Giuseppe
>
> On 24 September 2012 17:53, Giuseppe Amatulli
> <giuseppe.amatulli at gmail.com> wrote:
> > Hi,
> > i'm running  gdal_rasterize for  several *.shp using xargs, sending
> > the process to 10 cpu.
> >
> > 1) ls /weldgfs/p51/gius_urban/pop_urban/2010/shp_albers/*.shp   |
> > xargs -n 1 -P 10  bash
> > /weldgfs/p51/gius_urban/pop_urban/scripts/sc2a_shp_rasterizeP30_2010.sh
> >
> > the same process can be run using one processor.
> >
> > 2) ls /weldgfs/p51/gius_urban/pop_urban/2010/shp_albers/*.shp   |
> > xargs -n 1 -P 1  bash
> > /weldgfs/p51/gius_urban/pop_urban/scripts/sc2a_shp_rasterizeP30_2010.sh
> >
> > Inputs and outputs are independent in each process so no issues in
> > reading/writing the same file.
> >
> > The obtained tifs  produced by the gdal_rasterize
> > (gdal_rasterize -a_nodata 0 -ot Float32 -co 'COMPRESS=LZW'  -te
> > $geo_string_tif   -tr 30 30    -l $filename     -a BLOCKID10
> > $INDIR/$filename.shp   $OUTDIR/$filename"_"$tile".tif"  ;
> >  where BLOCKID10 is an integer number if  e.g 550 019 505 012 101 )
> >
> > should be same but is not the case.
> > Line 2) produce the tif perfect similar with the attribute of the shp;
> > so no issues.
> > Line 1) burn the same BLOCKID10 value for several polygons, resulting
> > in less final polygons.
> >            Seems to me that this phenomena manly effect BLOCKID10
> > values having several "0" (e.g. 10979900000033 ; 10030101002035)
> >
> > May question is. Can be possible that the  gdal driver used inside C
> > code not support multi-core processing?
> > If yes it is possible to find a solution to run gdal_rasterize in parallel.
> > Any idea?
> >
> > Thanks in advance
> > Giuseppe
> >
> > --
> > Web: www.spatial-ecology.net
>
>
>
> --
> Giuseppe Amatulli
> Web: www.spatial-ecology.net
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



From pinner.luke at gmail.com  Tue Sep 25 20:55:43 2012
From: pinner.luke at gmail.com (Luke Pinner)
Date: Wed, 26 Sep 2012 13:55:43 +1000
Subject: [gdal-dev] GDAL Python bindings disables setting a non-zero
	exit code
In-Reply-To: <CAL_oPZD-R4P2ng9aj-eT2UqvKcR8Kv-cG7fYUL=a5xSbDyYhZQ@mail.gmail.com>
References: <CAL_oPZD-R4P2ng9aj-eT2UqvKcR8Kv-cG7fYUL=a5xSbDyYhZQ@mail.gmail.com>
Message-ID: <CAL_oPZCBjRz0j=0dRLMue0+gEJ05_=ck6BF5b9g+3bj5rJeefw@mail.gmail.com>

Importing the gdal bindings in python seems to disable setting a non-zero
exit code.  Running the following batch file demonstrates the issue:

Running the following batch file demonstrates the issue:

@echo off
set pycmd=python -c "from osgeo import gdal;import sys;sys.exit(1)"
echo %pycmd%
%pycmd%
echo ERRORLEVEL=%ERRORLEVEL%
echo.
set  pycmd=python -c "import sys;sys.exit(1)"
echo %pycmd%
%pycmd%
echo ERRORLEVEL=%ERRORLEVEL%
echo.
pause

This prints out:
python -c "from osgeo import gdal;import sys;sys.exit(1)"
ERRORLEVEL=0

python -c "import sys;sys.exit(1)"
ERRORLEVEL=1


Tested on Windows 7 Pro and Server 2008 R2 64bit with GDAL 1.9.1 MSVC2008
(Win32) with 32bit python 2.6.5 and GDAL 1.9.1 MSVC2008 (Win64) with 64bit
python 2.6.6.

I couldn't find a ticket reporting the issue in trac. Is this a known
issue? Is it worthy of a ticket? Are there any known workarounds?


Regards
Luke
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120926/6c8cf835/attachment.html>

From ivan.lucena at princeton-ma.us  Tue Sep 25 22:44:57 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Wed, 26 Sep 2012 00:44:57 -0500
Subject: [gdal-dev] =?iso-8859-1?q?driver=2EGetMetadataItem_in_Java?=
Message-ID: <20120926054457.8527.qmail@s466.sureserver.com>

Hi there,

Is there any particular reason why that this code in Java results nulls

Driver driver = gdal.GetDriver(1);
String a = driver.GetMetadataItem(gdalconstConstants.DCAP_CREATE);
String b = driver.GetMetadataItem(gdalconstConstants.DCAP_CREATECOPY);
System.out.println(a + " - " + b);

null - null

While it works well in C (like in gdalinfo for example) and python like here:

>>> from osgeo import gdal
>>> dr = gdal.GetDriver(1);
>>> dr.GetMetadataItem(gdal.DCAP_CREATE)
'YES'
>>> dr.GetMetadataItem(gdal.DCAP_CREATECOPY)
'YES'
>>> 

Regards,

Ivan

From Odd-Ragnar.Lydersen at powel.no  Tue Sep 25 23:57:18 2012
From: Odd-Ragnar.Lydersen at powel.no (Odd Ragnar Lydersen)
Date: Wed, 26 Sep 2012 06:57:18 +0000
Subject: [gdal-dev] WFS_TurnSQLFilterToOGCFilter has too many parameters in
 OGRWFSDataSource::ExecuteSQL
Message-ID: <BD69AB4022C5C34DAC908920605A870209F91B@MAIL.powelasa.powel.com>

According to the definition WFS_TurnSQLFilterToOGCFilter() should have 6 arguments, but this one place it has 7.
I guess the definition is correct, and I have deleted one of the arguments on my computer.
In addition I had to make one more adjustment to make gdal compile, I had to comment out the following in swq.cpp:
        /*else if( EQUAL(osToken,"UNION") )
            nReturn = SWQT_UNION;
        else if( EQUAL(osToken,"ALL") )
            nReturn = SWQT_ALL;*/

...because SWQT_UNION and SWQT_ALL were not defined in the header file.

I'm using code from svn-trunk.
I've noticed that milestone 1.9.2 has no date set. Will 1.9.2 be released any time soon?

>Odd-Ragnar<
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120926/21ef60f0/attachment.html>

From samanthag at geograph.co.za  Tue Sep 25 23:53:50 2012
From: samanthag at geograph.co.za (Samantha Goodchild-Brown)
Date: Wed, 26 Sep 2012 08:53:50 +0200
Subject: [gdal-dev] how to create an image with a colortable?
Message-ID: <5062A67E.4060804@geograph.co.za>

I need to change a greyscale image to Palette and specify the colors to 
use for specific values.

However I am getting very confused with all the 'comments' and 
references and instructions

eg.
In " 
http://trac.osgeo.org/gdal/wiki/FAQRaster#Howtocreateormodifyanimagecolortable" 
it is explained how to edit a VRT to make a new tif with a color palette 
of your choice.
However in later 'fishings' I saw someone mention that this doesn't work 
and that the only way to do it is with scripting or programming.

I am now also trying as it seems to be the simplest method but I am also 
failing.

Other tickets etc that come close are in the region of 4 years old etc 
and way over my head.

Besides the obvious (gdal error messages), can anyone tell me why this 
is happening? what I need to tweek? if a fix is on the way? is it still 
valid that the only workaround is with scripting?
Does anyone know of another open source method that doesn't involve 
scripting?

Many thanks
Sam

From even.rouault at mines-paris.org  Wed Sep 26 00:37:05 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 26 Sep 2012 09:37:05 +0200
Subject: [gdal-dev] WFS_TurnSQLFilterToOGCFilter has too many parameters
	in OGRWFSDataSource::ExecuteSQL
In-Reply-To: <BD69AB4022C5C34DAC908920605A870209F91B@MAIL.powelasa.powel.com>
References: <BD69AB4022C5C34DAC908920605A870209F91B@MAIL.powelasa.powel.com>
Message-ID: <1348645025.5062b0a13604b@imp.free.fr>

Selon Odd Ragnar Lydersen <Odd-Ragnar.Lydersen at powel.no>:

> According to the definition WFS_TurnSQLFilterToOGCFilter() should have 6
> arguments, but this one place it has 7.
> I guess the definition is correct, and I have deleted one of the arguments on
> my computer.
> In addition I had to make one more adjustment to make gdal compile, I had to
> comment out the following in swq.cpp:
>         /*else if( EQUAL(osToken,"UNION") )
>             nReturn = SWQT_UNION;
>         else if( EQUAL(osToken,"ALL") )
>             nReturn = SWQT_ALL;*/
>
> ...because SWQT_UNION and SWQT_ALL were not defined in the header file.
>
> I'm using code from svn-trunk.

All of this looks very much as if you have only partially svn update'd your GDAL
tree. Fresh checkouts of GDAL trunk compiles just fine, and
WFS_TurnSQLFilterToOGCFilter() has definitely 7 arguments now (you can look at
http://trac.osgeo.org/gdal/browser/trunk/gdal/ogr/ogrsf_frmts/wfs )

The same for swq.cpp. SWQT_UNION and SWQT_ALL are additions from several months
ago, and should be defined in ogr/swq_parser.hpp

So 'make clean; svn update; ./configure XXXX; make' at the root of your GDAL
tree.


From chaitanya.ch at gmail.com  Wed Sep 26 02:54:52 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed, 26 Sep 2012 15:24:52 +0530
Subject: [gdal-dev] how to create an image with a colortable?
In-Reply-To: <5062A67E.4060804@geograph.co.za>
References: <5062A67E.4060804@geograph.co.za>
Message-ID: <CAMKgpObTg6vq5bEh-gWUq2GAbnK-1F6Vs+_86ic5tJoED0bMCg@mail.gmail.com>

Sam,

What did you do? What errors did you get?

On Wed, Sep 26, 2012 at 12:23 PM, Samantha Goodchild-Brown <
samanthag at geograph.co.za> wrote:

> I need to change a greyscale image to Palette and specify the colors to
> use for specific values.
>
> However I am getting very confused with all the 'comments' and references
> and instructions
>
> eg.
> In " http://trac.osgeo.org/gdal/**wiki/FAQRaster#**
> Howtocreateormodifyanimagecolo**rtable<http://trac.osgeo.org/gdal/wiki/FAQRaster#Howtocreateormodifyanimagecolortable>"
> it is explained how to edit a VRT to make a new tif with a color palette of
> your choice.
> However in later 'fishings' I saw someone mention that this doesn't work
> and that the only way to do it is with scripting or programming.
>
> I am now also trying as it seems to be the simplest method but I am also
> failing.
>
> Other tickets etc that come close are in the region of 4 years old etc and
> way over my head.
>
> Besides the obvious (gdal error messages), can anyone tell me why this is
> happening? what I need to tweek? if a fix is on the way? is it still valid
> that the only workaround is with scripting?
> Does anyone know of another open source method that doesn't involve
> scripting?
>
> Many thanks
> Sam
> ______________________________**_________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/**mailman/listinfo/gdal-dev<http://lists.osgeo.org/mailman/listinfo/gdal-dev>
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120926/687c3166/attachment.html>

From samanthag at geograph.co.za  Wed Sep 26 03:58:42 2012
From: samanthag at geograph.co.za (Samantha Goodchild-Brown)
Date: Wed, 26 Sep 2012 12:58:42 +0200
Subject: [gdal-dev] how to create an image with a colortable?
In-Reply-To: <CAMKgpObTg6vq5bEh-gWUq2GAbnK-1F6Vs+_86ic5tJoED0bMCg@mail.gmail.com>
References: <5062A67E.4060804@geograph.co.za>
	<CAMKgpObTg6vq5bEh-gWUq2GAbnK-1F6Vs+_86ic5tJoED0bMCg@mail.gmail.com>
Message-ID: <5062DFE2.5020701@geograph.co.za>

After using gdal info to confirm my input image is a greyscale, using 
the FAQRaster intructions I used gdal_translate to create a VRT.
I then opened it in crimson editor to edit the colorinterp and add in 
the colortable. I used

<ColorInterp>Palette</ColorInterp>
<ColorTable>
        <11 c1="181" c2="69"  c3="15"/>
        <12 c1="224"  c2="86"  c3="20"/>
        <13 c1="229"  c2="130"  c3="21"/>


AHA, I see my first error. I forgot to add the '/' to close the 
paragraph. I am VERY RUSTY at this.

Gdal was complaining about not being able to close the file and refering 
me to </VRTRasterBand> and
</VRTDataset> which confused me greatly as I didn't touch it at all.

Now it runs, but fails because it tells me my datatype is not compatiable.
This is a different issue I will take up separately as I expect has 
nothing to do with GDAL.

Many thanks. Will keep at it.


On 2012/09/26 11:54, Chaitanya kumar CH wrote:
> Sam,
>
> What did you do? What errors did you get?
>
> On Wed, Sep 26, 2012 at 12:23 PM, Samantha Goodchild-Brown 
> <samanthag at geograph.co.za <mailto:samanthag at geograph.co.za>> wrote:
>
>     I need to change a greyscale image to Palette and specify the
>     colors to use for specific values.
>
>     However I am getting very confused with all the 'comments' and
>     references and instructions
>
>     eg.
>     In "
>     http://trac.osgeo.org/gdal/wiki/FAQRaster#Howtocreateormodifyanimagecolortable"
>     it is explained how to edit a VRT to make a new tif with a color
>     palette of your choice.
>     However in later 'fishings' I saw someone mention that this
>     doesn't work and that the only way to do it is with scripting or
>     programming.
>
>     I am now also trying as it seems to be the simplest method but I
>     am also failing.
>
>     Other tickets etc that come close are in the region of 4 years old
>     etc and way over my head.
>
>     Besides the obvious (gdal error messages), can anyone tell me why
>     this is happening? what I need to tweek? if a fix is on the way?
>     is it still valid that the only workaround is with scripting?
>     Does anyone know of another open source method that doesn't
>     involve scripting?
>
>     Many thanks
>     Sam
>     _______________________________________________
>     gdal-dev mailing list
>     gdal-dev at lists.osgeo.org <mailto:gdal-dev at lists.osgeo.org>
>     http://lists.osgeo.org/mailman/listinfo/gdal-dev
>
>
>
>
> -- 
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120926/20bf6558/attachment-0001.html>

From chaitanya.ch at gmail.com  Wed Sep 26 05:27:47 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed, 26 Sep 2012 17:57:47 +0530
Subject: [gdal-dev] how to create an image with a colortable?
In-Reply-To: <5062DFE2.5020701@geograph.co.za>
References: <5062A67E.4060804@geograph.co.za>
	<CAMKgpObTg6vq5bEh-gWUq2GAbnK-1F6Vs+_86ic5tJoED0bMCg@mail.gmail.com>
	<5062DFE2.5020701@geograph.co.za>
Message-ID: <CAMKgpOaA=+ErUdR0gic6jbUUZkOYOmR8mmcY5Oo=3BrXuRhong@mail.gmail.com>

Sam,

datatype is handled by gdal. Can you provide the gdalinfo output of the
GeoTiff?

On Wed, Sep 26, 2012 at 4:28 PM, Samantha Goodchild-Brown <
samanthag at geograph.co.za> wrote:

>  After using gdal info to confirm my input image is a greyscale, using the
> FAQRaster intructions I used gdal_translate to create a VRT.
> I then opened it in crimson editor to edit the colorinterp and add in the
> colortable. I used
>
> <ColorInterp>Palette</ColorInterp>
> <ColorTable>
>        <11 c1="181" c2="69"  c3="15"/>
>        <12 c1="224"  c2="86"  c3="20"/>
>        <13 c1="229"  c2="130"  c3="21"/>
>
>
> AHA, I see my first error. I forgot to add the '/' to close the paragraph.
> I am VERY RUSTY at this.
>
> Gdal was complaining about not being able to close the file and refering
> me to </VRTRasterBand> and
> </VRTDataset> which confused me greatly as I didn't touch it at all.
>
> Now it runs, but fails because it tells me my datatype is not compatiable.
> This is a different issue I will take up separately as I expect has
> nothing to do with GDAL.
>
> Many thanks. Will keep at it.
>
>
>
> On 2012/09/26 11:54, Chaitanya kumar CH wrote:
>
> Sam,
>
> What did you do? What errors did you get?
>
> On Wed, Sep 26, 2012 at 12:23 PM, Samantha Goodchild-Brown <
> samanthag at geograph.co.za> wrote:
>
>> I need to change a greyscale image to Palette and specify the colors to
>> use for specific values.
>>
>> However I am getting very confused with all the 'comments' and references
>> and instructions
>>
>> eg.
>> In "
>> http://trac.osgeo.org/gdal/wiki/FAQRaster#Howtocreateormodifyanimagecolortable"
>> it is explained how to edit a VRT to make a new tif with a color palette of
>> your choice.
>> However in later 'fishings' I saw someone mention that this doesn't work
>> and that the only way to do it is with scripting or programming.
>>
>> I am now also trying as it seems to be the simplest method but I am also
>> failing.
>>
>> Other tickets etc that come close are in the region of 4 years old etc
>> and way over my head.
>>
>> Besides the obvious (gdal error messages), can anyone tell me why this is
>> happening? what I need to tweek? if a fix is on the way? is it still valid
>> that the only workaround is with scripting?
>> Does anyone know of another open source method that doesn't involve
>> scripting?
>>
>> Many thanks
>> Sam
>> _______________________________________________
>> gdal-dev mailing list
>> gdal-dev at lists.osgeo.org
>> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>>
>
>
>
> --
> Best regards,
> Chaitanya kumar CH.
>
> +91-9494447584
> 17.2416N 80.1426E
>
>
>


-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120926/21d704d4/attachment.html>

From turgay.osna at netcad.com.tr  Wed Sep 26 08:18:16 2012
From: turgay.osna at netcad.com.tr (netcadturgay)
Date: Wed, 26 Sep 2012 08:18:16 -0700 (PDT)
Subject: [gdal-dev] gdal 1.8 and ERDAS ECW Read-Write SDK problem
Message-ID: <1348672696092-5004703.post@n6.nabble.com>

I have builded Gdal 1.8 library with "ERDAS ECWJP2 SDK Desktop Read-Write"
and build is ended with a successfull. But when I try to open a ECW file in
update mode, I have an error.

Error: The ECW driver does not support update access to existing datasets.

Any suggesstion about this problem ? I have also set ECW_ENCODE_KEY and
ECW_ENCODE_COMPANY. 



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdal-1-8-and-ERDAS-ECW-Read-Write-SDK-problem-tp5004703.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Wed Sep 26 08:26:57 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 26 Sep 2012 17:26:57 +0200
Subject: [gdal-dev] gdal 1.8 and ERDAS ECW Read-Write SDK problem
In-Reply-To: <1348672696092-5004703.post@n6.nabble.com>
References: <1348672696092-5004703.post@n6.nabble.com>
Message-ID: <1348673217.50631ec123582@imp.free.fr>

Selon netcadturgay <turgay.osna at netcad.com.tr>:

> I have builded Gdal 1.8 library with "ERDAS ECWJP2 SDK Desktop Read-Write"
> and build is ended with a successfull. But when I try to open a ECW file in
> update mode, I have an error.
>
> Error: The ECW driver does not support update access to existing datasets.
>
> Any suggesstion about this problem ? I have also set ECW_ENCODE_KEY and
> ECW_ENCODE_COMPANY.

In GDAL 1.8, the ECW driver doesn't support update in place of existing ECW or
JP2 files. However, with the read-write ECW SDK, you can "CreateCopy"/translate
a source image into a new ECW or JP2.

In GDAL 1.9, the ECW driver supports a limited editing in place of existing
files, but this is restricted to a few things that are found in the ECW header
(projection, datum, georeferenced extent), but not the imagery itself. (And I'm
not sure that the SDK would make it possible to update existing imagery)

From turgay.osna at netcad.com.tr  Wed Sep 26 08:37:23 2012
From: turgay.osna at netcad.com.tr (netcadturgay)
Date: Wed, 26 Sep 2012 08:37:23 -0700 (PDT)
Subject: [gdal-dev] gdal 1.8 and ERDAS ECW Read-Write SDK problem
In-Reply-To: <1348673217.50631ec123582@imp.free.fr>
References: <1348672696092-5004703.post@n6.nabble.com>
	<1348673217.50631ec123582@imp.free.fr>
Message-ID: <1348673843192-5004711.post@n6.nabble.com>

Hi Even Rouault
I have builded both Gdal 1.8 library and Gdal 1.9 library including ERDAS
read-write sdk. Results:

Gdal 1.9
-------
ReadOnly    -> OK
Update       -> OK
CreateCopy -> OK
Create       -> NOT OK

Gdal 1.8
--------
ReadOnly    -> OK
Update       -> NOT OK
CreateCopy -> OK
Create       ->  NOT OK

I can use gdal 1.9 but can I create .ecw files?  Or is there any creation
method for ecw files in Gdal 1.9?

Thanks for your help




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/gdal-1-8-and-ERDAS-ECW-Read-Write-SDK-problem-tp5004703p5004711.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From even.rouault at mines-paris.org  Wed Sep 26 08:52:07 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 26 Sep 2012 17:52:07 +0200
Subject: [gdal-dev] gdal 1.8 and ERDAS ECW Read-Write SDK problem
In-Reply-To: <1348673843192-5004711.post@n6.nabble.com>
References: <1348672696092-5004703.post@n6.nabble.com>
	<1348673217.50631ec123582@imp.free.fr>
	<1348673843192-5004711.post@n6.nabble.com>
Message-ID: <1348674727.506324a789084@imp.free.fr>

Selon netcadturgay <turgay.osna at netcad.com.tr>:

> Hi Even Rouault
> I have builded both Gdal 1.8 library and Gdal 1.9 library including ERDAS
> read-write sdk. Results:
>
> Gdal 1.9
> -------
> ReadOnly    -> OK
> Update       -> OK
(update capabilities are restricted to header information, not imagery)
> CreateCopy -> OK
> Create       -> NOT OK
>
> Gdal 1.8
> --------
> ReadOnly    -> OK
> Update       -> NOT OK
> CreateCopy -> OK
> Create       ->  NOT OK
>
> I can use gdal 1.9 but can I create .ecw files?  Or is there any creation
> method for ecw files in Gdal 1.9?

See http://www.gdal.org/classGDALDriver.html#adb7bff9007fa5190d6cf742cf76942a8
and http://www.gdal.org/classGDALDriver.html#a2c897da2a6e25169cccc49ef48797ce1
for the difference of semantics between Create and CreateCopy.

Basically CreateCopy is to convert an existing source file into the target
format, whereas Create is to create a new file that is initially empty, and then
you add georeferencing, metadata, and imagery in it, in potentially total random
order. The later is supported by very few drivers, most of the time because the
features of the file format need to write the things in a precise order due to
compression, etc....
For example, when you use gdal_translate, you just need CreateCopy()
capabilities. So yes, you can create ECW files.
This is also explained with different works in the "Techniques for Creating
Files" section and below of http://www.gdal.org/gdal_tutorial.html


From chaitanya.ch at gmail.com  Wed Sep 26 09:50:39 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Wed, 26 Sep 2012 22:20:39 +0530
Subject: [gdal-dev] GDAL at FOSS4G-India
Message-ID: <CAMKgpOb0GkKG3Ub3xnScW5320w0V3+ttQppK2CS6Xn92=v8eSA@mail.gmail.com>

Hi all,

I am conducting a workshop[1] on GDAL at the first FOSS4G conference of
India. I even got some requests from some developers in India for more GDAL
stuff.

I am also preparing a paper on GDAL. It will include everything. It's
inspiration, history, usability, features, design and future work. It will
also include deciding factors for design choices if anyone co-authors it.
Obviously I am going to borrow most of the content from the gdal wiki and
this mailing list. Please tell me if I am missing anything.

In the last few years I found myself helping developers with the smaller
issues when they are starting to use the library. More often than not,
first step is the hardest. I hope to achieve the same goal on a bigger
scale with Indian developers. India is in need for more open source. I
would like to help it.

[1]: http://lsi.iiit.ac.in/foss4gindia/?q=hands-workshop#WH4

-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120926/a010bbc2/attachment.html>

From even.rouault at mines-paris.org  Wed Sep 26 10:45:44 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 26 Sep 2012 19:45:44 +0200
Subject: [gdal-dev] driver.GetMetadataItem in Java
In-Reply-To: <20120926054457.8527.qmail@s466.sureserver.com>
References: <20120926054457.8527.qmail@s466.sureserver.com>
Message-ID: <201209261945.45186.even.rouault@mines-paris.org>

Le mercredi 26 septembre 2012 07:44:57, Ivan Lucena a ?crit :
> Hi there,
> 
> Is there any particular reason why that this code in Java results nulls
> 
> Driver driver = gdal.GetDriver(1);
> String a = driver.GetMetadataItem(gdalconstConstants.DCAP_CREATE);
> String b = driver.GetMetadataItem(gdalconstConstants.DCAP_CREATECOPY);
> System.out.println(a + " - " + b);
> 
> null - null

Fixed by http://trac.osgeo.org/gdal/ticket/4828

The issue was that the gdalconstConstants.DCAP_CREATE constant expanded to 
"GDAL_DCAP_CREATE" instead of "DCAP_CREATE".

From ivan.lucena at princeton-ma.us  Wed Sep 26 10:52:12 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Wed, 26 Sep 2012 12:52:12 -0500
Subject: [gdal-dev] =?iso-8859-1?q?driver=2EGetMetadataItem_in_Java?=
In-Reply-To: <201209261945.45186.even.rouault@mines-paris.org>
References: <20120926054457.8527.qmail@s466.sureserver.com>
	<201209261945.45186.even.rouault@mines-paris.org>
Message-ID: <20120926175212.19123.qmail@s466.sureserver.com>

Hi Even,

I figured that I could use *driver.GetMetadataItem("DCAP_CREATECOPY")* but it is nice to have that bug fixed.

Thanks,

Ivan


>  -------Original Message-------
>  From: Even Rouault <even.rouault at mines-paris.org>
>  To: gdal-dev at lists.osgeo.org, Ivan Lucena <ivan.lucena at princeton-ma.us>
>  Subject: Re: [gdal-dev] driver.GetMetadataItem in Java
>  Sent: Sep 26 '12 12:45
>  
>  Le mercredi 26 septembre 2012 07:44:57, Ivan Lucena a ?crit :
>  > Hi there,
>  >
>  > Is there any particular reason why that this code in Java results nulls
>  >
>  > Driver driver = gdal.GetDriver(1);
>  > String a = driver.GetMetadataItem(gdalconstConstants.DCAP_CREATE);
>  > String b = driver.GetMetadataItem(gdalconstConstants.DCAP_CREATECOPY);
>  > System.out.println(a + " - " + b);
>  >
>  > null - null
>  
>  Fixed by http://trac.osgeo.org/gdal/ticket/4828
>  
>  The issue was that the gdalconstConstants.DCAP_CREATE constant expanded to
>  "GDAL_DCAP_CREATE" instead of "DCAP_CREATE".
>  

From even.rouault at mines-paris.org  Wed Sep 26 14:37:39 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Wed, 26 Sep 2012 23:37:39 +0200
Subject: [gdal-dev] ogr2ogr -nlt PROMOTE_TO_MULTI (use case: converting
	shapefiles to PostGIS)
Message-ID: <201209262337.40007.even.rouault@mines-paris.org>

Hi,

Have you ever been frustrated about shapefiles mixing polygons/multipolygons 
(or linestrings/multilinestrings) in the same layer and issues when converting 
them to PostGIS ?

I was, until a few minutes ago, where I've just added in GDAL trunk "-nlt 
PROMOTE_TO_MULTI" as an accepted option of ogr2ogr.

The effect of this option is that when a layer is of type Polygon, it will be 
converted in the target format as MultiPolygon, and any Polygon feature in the 
layer will be promoted to MultiPolygon (existing MultiPolygons will be left 
untouched). The same for LineString / MultiLineString. Other geometry types 
will be left untouched (i.e. Point will not be converted to MultiPoint (they 
are identified as separate types in shapefiles).

This option works for any source or target datasource, so the shapefile -> 
PostGIS is just one particular (but typical) use case.

Previously you could use -nlt MULTIPOLYGON or -nlt MULTILINESTRING but that 
couldn't be used when doing a mass conversion of shapefiles that mixed different 
types of geometries.

Best tregards,

Even

From pinner.luke at gmail.com  Wed Sep 26 16:31:37 2012
From: pinner.luke at gmail.com (Luke Pinner)
Date: Thu, 27 Sep 2012 09:31:37 +1000
Subject: [gdal-dev] GDAL Python bindings disables setting a non-zero
	exit code
In-Reply-To: <5063378b.678fec0a.70e8.5d31SMTPIN_ADDED@mx.google.com>
References: <CAL_oPZD-R4P2ng9aj-eT2UqvKcR8Kv-cG7fYUL=a5xSbDyYhZQ@mail.gmail.com>
	<CAL_oPZCBjRz0j=0dRLMue0+gEJ05_=ck6BF5b9g+3bj5rJeefw@mail.gmail.com>
	<5063378b.678fec0a.70e8.5d31SMTPIN_ADDED@mx.google.com>
Message-ID: <CAL_oPZDXtiAL7bL-snzWPyhaYDvA+_NvOUmAoTRN0SRRzbHwfA@mail.gmail.com>

Thanks Jason, it's definitely GDAL. The order doesn't matter and I've
checked ERRORLEVEL v. %ERRORLEVEL% (see below).  I don't think it's
related to the batch file which is just a minimal test script. The
issue occurs with every Windows python script I've written that
imports gdal - i.e sys.exit(anything >0) will always set an exit code
of 0 if gdal is imported.  Running python from the command prompt does
the same thing.

set pycmd=python -c "from osgeo import gdal;import sys;sys.exit(1)"
echo %pycmd%
%pycmd%
if ERRORLEVEL 1 (
    echo ERROR LEVEL is 1 or greater
) ELSE (
    echo ERROR LEVEL is incorrect
)
echo ERROR LEVEL=%ERRORLEVEL%


Interestingly, one of the users of my code who originally reported the
issue to me found that that ERRORLEVEL is set correctly in Windows XP.

I'll file a ticket in TRAC.


Luke

On 27 September 2012 03:12, Jason Roberts wrote:
>
> Luke,
>
>
>
> Interesting problem. Perhaps it could be related to the behavior described here? I?m not exactly sure how?maybe it is related to some subtle thing about your batch file, not GDAL?but in any case, I found this part very interesting:
>
>
>
> Now, it does happen to be the case that if command extensions are enabled and you say %ERRORLEVEL%, then the command processor first looks for an environment variable called ERRORLEVEL, and if it can't find one, then it replaces %ERRORLEVEL% with the current value of the internal error level value.
>
>
>
> Do the results of your file come out the same when you switch the order of your tests, i.e. you try the non-GDAL case first and the GDAL case second?
>
>
>
> Hope that helps,
>
>
>
> Jason
>
>
>
>

From nixanz at nixanz.com  Wed Sep 26 17:32:32 2012
From: nixanz at nixanz.com (Nik Sands)
Date: Thu, 27 Sep 2012 10:32:32 +1000
Subject: [gdal-dev] Get list of all available SRS
In-Reply-To: <505BD5B3.4020005@pobox.com>
References: <7A3854A2-8C2A-437B-A496-813F3D849912@nixanz.com>
	<505BD5B3.4020005@pobox.com>
Message-ID: <7E406E2D-99C9-4290-AD25-2BC4DA328B01@nixanz.com>

Thanks Frank.  Sorting/organisation is not a big deal in this case.  They will be presented in a list which dynamically changes according to search text as it is typed.  So a simple alphabetical sort should be fine if I can't come up with any better scheme.


On 21/09/2012, at 12:49 PM, Frank Warmerdam <warmerdam at pobox.com> wrote:

> On 12-09-20 07:11 PM, Nik Sands wrote:
>> Is there a way to get a list (eg, array) of all Spatial Reference Systems currently available to GDAL (eg, all those defined in files in GDAL_DATA directory)?
>> 
>> In my GUI application, I'd like to be able to present my users with a list of SRS to choose from, but I'm not sure how to generate such a list.
> 
> Nik,
> 
> GDAL does not provide any services to get the SRS list but you can
> access the gdal/data/pcs.csv and gdal/data/gcs.csv files yourself
> fairly easily to get the names and EPSG identifiers.  What this does
> not help with is a logical organization of the SRSes which can be
> helpful in a GUI since there are a lot.
> 
> Best regards,
> -- 
> ---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam at pobox.com
> light and sound - activate the windows | http://home.gdal.org/warmerda
> and watch the world go round - Rush    | Geospatial Software Developer
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev


From jukka.rahkonen at mmmtike.fi  Thu Sep 27 01:19:12 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu, 27 Sep 2012 08:19:12 +0000 (UTC)
Subject: [gdal-dev] Row count limit in OGR SQL with -dialect=SQLITE
References: <loom.20120924T165542-775@post.gmane.org>
Message-ID: <loom.20120927T101732-57@post.gmane.org>

Jukka Rahkonen <jukka.rahkonen <at> mmmtike.fi> writes:

> 
> Hi,
> 
> The following SQL works fine when using Spatialite as source
> 
> osm_data>ogrinfo osm.sqlite -dialect SQLITE -sql "select * from lines
> where highway is not null limit 20"
> 
> With native OSM data it fails
> OSM_data>ogrinfo -dialect SQLITE finland.osm.pbf -sql "select * from lines
> limit 20"  
> Had to open data source read-only.
> INFO: Open of `finland.osm.pbf'
>       using driver `OSM' successful.
> ERROR 1: Too many features have accumulated in points layer.
 Use OGR_INTERLEAVED
> _READING=YES mode


This seems to work now just fine with GDAL r24984.

-Jukka-





From stefano.iacovella at gmail.com  Thu Sep 27 01:51:08 2012
From: stefano.iacovella at gmail.com (Stefano Iacovella)
Date: Thu, 27 Sep 2012 10:51:08 +0200
Subject: [gdal-dev] GDAL Python bindings disables setting a non-zero
	exit code
In-Reply-To: <CAL_oPZDXtiAL7bL-snzWPyhaYDvA+_NvOUmAoTRN0SRRzbHwfA@mail.gmail.com>
References: <CAL_oPZD-R4P2ng9aj-eT2UqvKcR8Kv-cG7fYUL=a5xSbDyYhZQ@mail.gmail.com>
	<CAL_oPZCBjRz0j=0dRLMue0+gEJ05_=ck6BF5b9g+3bj5rJeefw@mail.gmail.com>
	<5063378b.678fec0a.70e8.5d31SMTPIN_ADDED@mx.google.com>
	<CAL_oPZDXtiAL7bL-snzWPyhaYDvA+_NvOUmAoTRN0SRRzbHwfA@mail.gmail.com>
Message-ID: <CAG9OqYoGfg61RRd_QGM1H+qZZkmo=A7rfMPB9201akL0HX8uMw@mail.gmail.com>

2012/9/27 Luke Pinner <pinner.luke at gmail.com>

> Thanks Jason, it's definitely GDAL. The order doesn't matter and I've
> checked ERRORLEVEL v. %ERRORLEVEL% (see below).  I don't think it's
> related to the batch file which is just a minimal test script. The
> issue occurs with every Windows python script I've written that
> imports gdal - i.e sys.exit(anything >0) will always set an exit code
> of 0 if gdal is imported.  Running python from the command prompt does
> the same thing.
>
> set pycmd=python -c "from osgeo import gdal;import sys;sys.exit(1)"
> echo %pycmd%
> %pycmd%
> if ERRORLEVEL 1 (
>     echo ERROR LEVEL is 1 or greater
> ) ELSE (
>     echo ERROR LEVEL is incorrect
> )
> echo ERROR LEVEL=%ERRORLEVEL%
>
>
> Interestingly, one of the users of my code who originally reported the
> issue to me found that that ERRORLEVEL is set correctly in Windows XP.
>
Yes Luke I made another check exluding MetaGETA imports, the software using
GDAL python bindings, an it really seems related to GDAl, at least the GDAL
release shipped with MetaGETA.
On my workstation, a Windows XP 32 bit SP3 this is the output:

Microsoft Windows XP [Versione 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

D:\Appl\MetaGETA>python
Python 2.6.4 (r264:75708, Oct 26 2009, 08:23:19) [MSC v.1500 32 bit
(Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> sys.exit(15)

D:\Appl\MetaGETA>echo %ERRORLEVEL%
15

D:\Appl\MetaGETA>python
Python 2.6.4 (r264:75708, Oct 26 2009, 08:23:19) [MSC v.1500 32 bit
(Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> from osgeo import ogr
>>> sys.exit(15)

D:\Appl\MetaGETA>echo %ERRORLEVEL%
15

On a Windows 2008 R2 64 bit it doesn't work

Microsoft Windows [Version 6.1.7601]
Copyright (c) 2009 Microsoft Corporation.  All rights reserved.

E:\Appl\MetaGETA>python
Python 2.6.4 (r264:75708, Oct 26 2009, 08:23:19) [MSC v.1500 32 bit
(Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> sys.exit(15)

E:\Appl\MetaGETA>echo %ERRORLEVEL%
15

E:\Appl\MetaGETA>python
Python 2.6.4 (r264:75708, Oct 26 2009, 08:23:19) [MSC v.1500 32 bit
(Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> import sys
>>> from osgeo import ogr
>>> sys.exit(15)

E:\Appl\MetaGETA>echo %ERRORLEVEL%
0



> I'll file a ticket in TRAC.
>
>
---------------------------------------------------
41.95581N 12.52854E


http://www.linkedin.com/in/stefanoiacovella

http://twitter.com/#!/Iacovellas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120927/8f14aa95/attachment.html>

From jukka.rahkonen at mmmtike.fi  Thu Sep 27 02:07:16 2012
From: jukka.rahkonen at mmmtike.fi (Jukka Rahkonen)
Date: Thu, 27 Sep 2012 09:07:16 +0000 (UTC)
Subject: [gdal-dev] =?utf-8?q?Gdaltindex_with_-t=5Fsrs_and_Mapserver?=
Message-ID: <loom.20120927T105921-160@post.gmane.org>

Hi,

I had a try with gdaltindex and the new -t_srs option that is discussed in
http://trac.osgeo.org/gdal/ticket/4773. It seems to be as Even was thinking in
the very beginning and Mapserver does not work with tileindex which is
containing reprojected bounding boxes. Images with BBOX in the native projection
are shown but not the others. This line appears into Mapserver log:
msDrawRasterLayerGDAL(): Error in overlap calculation.

It might indeed be good to emit a warning about Mapserver incompability. It
would be very nice if Mapserver supports this kind of tileindeces.

-Jukka Rahkonen-


From even.rouault at mines-paris.org  Thu Sep 27 02:44:07 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 27 Sep 2012 11:44:07 +0200
Subject: [gdal-dev] Gdaltindex with -t_srs and Mapserver
In-Reply-To: <loom.20120927T105921-160@post.gmane.org>
References: <loom.20120927T105921-160@post.gmane.org>
Message-ID: <1348739047.50641fe7bf969@imp.free.fr>

Selon Jukka Rahkonen <jukka.rahkonen at mmmtike.fi>:

> Hi,
>
> I had a try with gdaltindex and the new -t_srs option that is discussed in
> http://trac.osgeo.org/gdal/ticket/4773. It seems to be as Even was thinking
> in
> the very beginning and Mapserver does not work with tileindex which is
> containing reprojected bounding boxes. Images with BBOX in the native
> projection
> are shown but not the others. This line appears into Mapserver log:
> msDrawRasterLayerGDAL(): Error in overlap calculation.
>
> It might indeed be good to emit a warning about Mapserver incompability.

This is documented in http://gdal.org/gdaltindex.html :
"""If -t_srs is specified, geometries of input files will be transformed to the
desired target projection system. Note that using this option generates files
that are NOT compatible with MapServer."""

> It
> would be very nice if Mapserver supports this kind of tileindeces.

Something to raise on MapServer lists. This would imply that MapServer takes
into account the SRS of each GDAL dataset, which AFAIK it ignores right now to
use only the SRS indicated in the LAYER (but it has been quite a long time since
I configured a MapServer mapfile, so I might be wrong), to do the needed
on-the-fly reprojection

>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>

From neelima.emmani at iictechnologies.com  Thu Sep 27 04:56:15 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Thu, 27 Sep 2012 11:56:15 +0000
Subject: [gdal-dev] geotiff
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D86584677811EE@IICEXHC01.iictechnologies.local>

Hi

Can anyone tell me how to display geotiff image in a dotspatial map using c#.

With Regards,
Neelima Emmani

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120927/ddde29d6/attachment-0001.html>

From etourigny.dev at gmail.com  Thu Sep 27 05:26:53 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 27 Sep 2012 09:26:53 -0300
Subject: [gdal-dev] Gdaltindex with -t_srs and Mapserver
In-Reply-To: <loom.20120927T105921-160@post.gmane.org>
References: <loom.20120927T105921-160@post.gmane.org>
Message-ID: <CA+TxYvPz8rJ11tVu9Qsyz_7boLcu_Uw-Dzbkcii-dXVvOy7REg@mail.gmail.com>

Jukka,

nice that you noticed this new feature I added - was about to advertise it here!

The goal of adding this feature was not to make it available in
mapserver, but for using in desktop applications as a reference for
multiple files with different projections (e.g. landsat archives).

cheers
Etienne

On Thu, Sep 27, 2012 at 6:07 AM, Jukka Rahkonen
<jukka.rahkonen at mmmtike.fi> wrote:
> Hi,
>
> I had a try with gdaltindex and the new -t_srs option that is discussed in
> http://trac.osgeo.org/gdal/ticket/4773. It seems to be as Even was thinking in
> the very beginning and Mapserver does not work with tileindex which is
> containing reprojected bounding boxes. Images with BBOX in the native projection
> are shown but not the others. This line appears into Mapserver log:
> msDrawRasterLayerGDAL(): Error in overlap calculation.
>
> It might indeed be good to emit a warning about Mapserver incompability. It
> would be very nice if Mapserver supports this kind of tileindeces.
>
> -Jukka Rahkonen-
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From Jukka.Rahkonen at mmmtike.fi  Thu Sep 27 06:30:45 2012
From: Jukka.Rahkonen at mmmtike.fi (Rahkonen Jukka)
Date: Thu, 27 Sep 2012 13:30:45 +0000
Subject: [gdal-dev] Gdaltindex with -t_srs and Mapserver
Message-ID: <84446DEF76453C439E9E97E438E13A637A1990@suutari.haapa.mmm.fi>

Hi,

I did not meant to underestimate this little but extremely useful improvement. However, you made me hungry: if you can see so simply the image footprints, why not also the images?  I am already publishing in our WMS also the tileindex  shapefiles so people can see the image boundaries and make GetFeatureInfo queries from the image metadata that we have added to the shapefile as a few extra fields. In order to make it works we have reprojected images from their original projection zones into one common zone.  Now I wonder if it could be possible to make Mapserver to support tileindex layers containing source images with mixed projections. As a non-programmer I have a strong belief that if I can say what I want, someone can program it.

I believe that Mapserver already gets the correct image list from the mixed-projection shapefile.   I guess also that Mapserver does not read image metadata from the geotiff image files for getting the projection but it relies on the LAYER level PROJECTION setting. In my simple test case with two images, one in EPSG:2393 and another in EPSG:2392 this means that Mapserver thinks that images are 1000 kilometers apart and sharing the EPSG:2393 system that I used in the PROJECTION block.

Perhaps there could be an optional setting for LAYER level PROJECTION, both for individual images and tileindex layers, something like "init:internal_metadata".  It would mean that Mapserver would do first a query in a same manner than gdalinfo and ogrinfo for reading the native projection of the dataset.

Ok, once written this long I started to think about using PROJECTION AUTO and then I found this three-year-old RFC
http://mapserver.org/development/rfc/ms-rfc-37.html

+1 for implementing it.

By the way, woudn't it be nice if desktop GIS like QGIS would show you also your Landsat archive images and not only the footprints in some pretty automatic way, let's say, after ticking a check box and setting the maximum scale denominator value?

-Jukka Rahkonen-



 

> -----Alkuper?inen viesti-----
> L?hett?j?: Etienne Tourigny [mailto:etourigny.dev at gmail.com]
> L?hetetty: 27. syyskuuta 2012 15:27
> Vastaanottaja: Rahkonen Jukka
> Kopio: gdal-dev at lists.osgeo.org
> Aihe: Re: [gdal-dev] Gdaltindex with -t_srs and Mapserver
> 
> Jukka,
> 
> nice that you noticed this new feature I added - was about to advertise it
> here!
> 
> The goal of adding this feature was not to make it available in mapserver, but
> for using in desktop applications as a reference for multiple files with
> different projections (e.g. landsat archives).
> 
> cheers
> Etienne
> 
> On Thu, Sep 27, 2012 at 6:07 AM, Jukka Rahkonen
> <jukka.rahkonen at mmmtike.fi> wrote:
> > Hi,
> >
> > I had a try with gdaltindex and the new -t_srs option that is
> > discussed in http://trac.osgeo.org/gdal/ticket/4773. It seems to be as
> > Even was thinking in the very beginning and Mapserver does not work
> > with tileindex which is containing reprojected bounding boxes. Images
> > with BBOX in the native projection are shown but not the others. This line
> appears into Mapserver log:
> > msDrawRasterLayerGDAL(): Error in overlap calculation.
> >
> > It might indeed be good to emit a warning about Mapserver
> > incompability. It would be very nice if Mapserver supports this kind of
> tileindeces.
> >
> > -Jukka Rahkonen-
> >
> > _______________________________________________
> > gdal-dev mailing list
> > gdal-dev at lists.osgeo.org
> > http://lists.osgeo.org/mailman/listinfo/gdal-dev

From hfpmartins at gmail.com  Thu Sep 27 06:39:19 2012
From: hfpmartins at gmail.com (Hugo)
Date: Thu, 27 Sep 2012 14:39:19 +0100
Subject: [gdal-dev] Can't delete feature from shapefile in python
In-Reply-To: <201209161440.57749.even.rouault@mines-paris.org>
References: <CAFtnPwrDtfEMU=DEMzEH35bW6tcW-Cr_J502SVeh-_SUWVP+yQ@mail.gmail.com>
	<201209161440.57749.even.rouault@mines-paris.org>
Message-ID: <CAFtnPwqAwOWfUvuMBqZ=hne3jYoM=n8mSPEtdA_ycZ5hzJg4Mg@mail.gmail.com>

Thanks a lot for your suggestion Even. That is it.
Cheers,

Hugo


On Sun, Sep 16, 2012 at 1:40 PM, Even Rouault
<even.rouault at mines-paris.org>wrote:

> Le samedi 08 septembre 2012 05:06:41, Hugo a ?crit :
> > Hello all,
> >
> > I'm trying to delete a number of records from shapefile based on an
> > attribute. The strange thing that is happening is that feature count
> never
> > changes but if i make the same filter a second time the features are no
> > longer there. The code i'm using is below. I should be doing something
> > wrong for sure.
>
> I don't think you are doing something wrong. This is just a limitation of
> the
> implementation of GetFeatureCount() in the shapefile driver. When there
> are no
> attribute or spatial filter set, it returns the total number of records in
> the
> DBF file. When you delete a feature, it marks the corresponding record as
> invalid, but doesn't actually remove it from the file, so the total number
> of
> records remains unchanged. You can "repack" the .shp, .shx and .dbf files
> by
> running shp.ExecuteSQL("REPACK locais") (see
> http://gdal.org/ogr/drv_shapefile.html)
>



-- 
Hugo Martins
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120927/4bb98dac/attachment.html>

From etourigny.dev at gmail.com  Thu Sep 27 06:39:51 2012
From: etourigny.dev at gmail.com (Etienne Tourigny)
Date: Thu, 27 Sep 2012 10:39:51 -0300
Subject: [gdal-dev] Gdaltindex with -t_srs and Mapserver
In-Reply-To: <84446DEF76453C439E9E97E438E13A637A1990@suutari.haapa.mmm.fi>
References: <84446DEF76453C439E9E97E438E13A637A1990@suutari.haapa.mmm.fi>
Message-ID: <CA+TxYvPt+4rf04cZNTwky3tOnG4JnHnfGA6hScDgLBDhCPZaDQ@mail.gmail.com>

Forwarding this email to qgis-dev list - Regarding tileindex usage
with preview image inside qgis.

On Thu, Sep 27, 2012 at 10:30 AM, Rahkonen Jukka
<Jukka.Rahkonen at mmmtike.fi> wrote:
> Hi,
>
> I did not meant to underestimate this little but extremely useful improvement. However, you made me hungry: if you can see so simply the image footprints, why not also the images?  I am already publishing in our WMS also the tileindex  shapefiles so people can see the image boundaries and make GetFeatureInfo queries from the image metadata that we have added to the shapefile as a few extra fields. In order to make it works we have reprojected images from their original projection zones into one common zone.  Now I wonder if it could be possible to make Mapserver to support tileindex layers containing source images with mixed projections. As a non-programmer I have a strong belief that if I can say what I want, someone can program it.
>
> I believe that Mapserver already gets the correct image list from the mixed-projection shapefile.   I guess also that Mapserver does not read image metadata from the geotiff image files for getting the projection but it relies on the LAYER level PROJECTION setting. In my simple test case with two images, one in EPSG:2393 and another in EPSG:2392 this means that Mapserver thinks that images are 1000 kilometers apart and sharing the EPSG:2393 system that I used in the PROJECTION block.
>
> Perhaps there could be an optional setting for LAYER level PROJECTION, both for individual images and tileindex layers, something like "init:internal_metadata".  It would mean that Mapserver would do first a query in a same manner than gdalinfo and ogrinfo for reading the native projection of the dataset.
>
> Ok, once written this long I started to think about using PROJECTION AUTO and then I found this three-year-old RFC
> http://mapserver.org/development/rfc/ms-rfc-37.html
>
> +1 for implementing it.
>
> By the way, woudn't it be nice if desktop GIS like QGIS would show you also your Landsat archive images and not only the footprints in some pretty automatic way, let's say, after ticking a check box and setting the maximum scale denominator value?

It would be great to see such a thing in QGIS - any way that mapserver
code could be useful to QGIS?

Or better yet - have a control in the tileindex layer to open the
associated raster layer?

>
> -Jukka Rahkonen-
>
>
>
>
>
>> -----Alkuper?inen viesti-----
>> L?hett?j?: Etienne Tourigny [mailto:etourigny.dev at gmail.com]
>> L?hetetty: 27. syyskuuta 2012 15:27
>> Vastaanottaja: Rahkonen Jukka
>> Kopio: gdal-dev at lists.osgeo.org
>> Aihe: Re: [gdal-dev] Gdaltindex with -t_srs and Mapserver
>>
>> Jukka,
>>
>> nice that you noticed this new feature I added - was about to advertise it
>> here!
>>
>> The goal of adding this feature was not to make it available in mapserver, but
>> for using in desktop applications as a reference for multiple files with
>> different projections (e.g. landsat archives).
>>
>> cheers
>> Etienne
>>
>> On Thu, Sep 27, 2012 at 6:07 AM, Jukka Rahkonen
>> <jukka.rahkonen at mmmtike.fi> wrote:
>> > Hi,
>> >
>> > I had a try with gdaltindex and the new -t_srs option that is
>> > discussed in http://trac.osgeo.org/gdal/ticket/4773. It seems to be as
>> > Even was thinking in the very beginning and Mapserver does not work
>> > with tileindex which is containing reprojected bounding boxes. Images
>> > with BBOX in the native projection are shown but not the others. This line
>> appears into Mapserver log:
>> > msDrawRasterLayerGDAL(): Error in overlap calculation.
>> >
>> > It might indeed be good to emit a warning about Mapserver
>> > incompability. It would be very nice if Mapserver supports this kind of
>> tileindeces.
>> >
>> > -Jukka Rahkonen-
>> >
>> > _______________________________________________
>> > gdal-dev mailing list
>> > gdal-dev at lists.osgeo.org
>> > http://lists.osgeo.org/mailman/listinfo/gdal-dev
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From initze at ucc.ie  Thu Sep 27 07:12:42 2012
From: initze at ucc.ie (Ingmar N)
Date: Thu, 27 Sep 2012 07:12:42 -0700 (PDT)
Subject: [gdal-dev] SetColorTable() issues on GTiff with python bindings
Message-ID: <1348755162420-5004969.post@n6.nabble.com>

Hello,
I would like to add a Colortable to a GeoTiff. Running the SetColorTable()
function, python returns "3". GetColorTable() returns empty, no colortable
is attached.
After browsing the internet for a solution, I tried to run the procedure on
a newly created GTiff (which was often suggested). Probably any issues with
the colortable?
The file is not Write-protected or problematic otherwise, WriteArray() for
example works without any problem.


ds2=dr.Create('C:\\testfolder\\X.tif',ds.RasterXSize,ds.RasterYSize,1,gdal.GDT_Int16)
ct=gdal.ColorTable()
ct.CreateColorRamp(0,(178,223,138),5,(255,127,0))
outband=ds2.GetRasterBand(1)
outband.SetColorTable(ct) # returns 3

Versions:
python 2.7
gdal 1.9.1

Any Suggestions?
Thanks for your help



--
View this message in context: http://osgeo-org.1560.n6.nabble.com/SetColorTable-issues-on-GTiff-with-python-bindings-tp5004969.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From ivan.lucena at princeton-ma.us  Thu Sep 27 07:29:47 2012
From: ivan.lucena at princeton-ma.us (=?iso-8859-1?Q?Ivan=20Lucena?=)
Date: Thu, 27 Sep 2012 09:29:47 -0500
Subject: [gdal-dev]
	=?iso-8859-1?q?SetColorTable=28=29_issues_on_GTiff_wit?=
	=?iso-8859-1?q?h_python_bindings?=
In-Reply-To: <1348755162420-5004969.post@n6.nabble.com>
References: <1348755162420-5004969.post@n6.nabble.com>
Message-ID: <20120927142947.16255.qmail@s466.sureserver.com>

Have you tried with GDT_Byte data type?

>  -------Original Message-------
>  From: Ingmar N <initze at ucc.ie>
>  To: gdal-dev at lists.osgeo.org
>  Subject: [gdal-dev] SetColorTable() issues on GTiff with python bindings
>  Sent: Sep 27 '12 09:12
>  
>  Hello,
>  I would like to add a Colortable to a GeoTiff. Running the SetColorTable()
>  function, python returns "3". GetColorTable() returns empty, no colortable
>  is attached.
>  After browsing the internet for a solution, I tried to run the procedure on
>  a newly created GTiff (which was often suggested). Probably any issues with
>  the colortable?
>  The file is not Write-protected or problematic otherwise, WriteArray() for
>  example works without any problem.
>  
>  
>  ds2=dr.Create('C:\\testfolder\\X.tif',ds.RasterXSize,ds.RasterYSize,1,gdal.GDT_Int16)
>  ct=gdal.ColorTable()
>  ct.CreateColorRamp(0,(178,223,138),5,(255,127,0))
>  outband=ds2.GetRasterBand(1)
>  outband.SetColorTable(ct) # returns 3
>  
>  Versions:
>  python 2.7
>  gdal 1.9.1
>  
>  Any Suggestions?
>  Thanks for your help
>  
>  
>  
>  --
>  View this message in context: http://osgeo-org.1560.n6.nabble.com/SetColorTable-issues-on-GTiff-with-python-bindings-tp5004969.html
>  Sent from the GDAL - Dev mailing list archive at Nabble.com.
>  _______________________________________________
>  gdal-dev mailing list
>  gdal-dev at lists.osgeo.org
>  http://lists.osgeo.org/mailman/listinfo/gdal-dev
>  

From even.rouault at mines-paris.org  Thu Sep 27 07:39:40 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Thu, 27 Sep 2012 16:39:40 +0200
Subject: [gdal-dev] SetColorTable() issues on GTiff with python bindings
In-Reply-To: <1348755162420-5004969.post@n6.nabble.com>
References: <1348755162420-5004969.post@n6.nabble.com>
Message-ID: <1348756780.5064652cc0d91@imp.free.fr>

Selon Ingmar N <initze at ucc.ie>:

> Hello,
> I would like to add a Colortable to a GeoTiff. Running the SetColorTable()
> function, python returns "3". GetColorTable() returns empty, no colortable
> is attached.
> After browsing the internet for a solution, I tried to run the procedure on
> a newly created GTiff (which was often suggested). Probably any issues with
> the colortable?
> The file is not Write-protected or problematic otherwise, WriteArray() for
> example works without any problem.
>
>
>
ds2=dr.Create('C:\\testfolder\\X.tif',ds.RasterXSize,ds.RasterYSize,1,gdal.GDT_Int16)
> ct=gdal.ColorTable()
> ct.CreateColorRamp(0,(178,223,138),5,(255,127,0))
> outband=ds2.GetRasterBand(1)
> outband.SetColorTable(ct) # returns 3
>
> Versions:
> python 2.7
> gdal 1.9.1
>
> Any Suggestions?

You should have seen the following error emitted in the console :
"SetColorTable() only supported for Byte or UInt16 bands in TIFF format." . The
data type asked in Create() is Int16, not Byte or UInt16.

From initze at ucc.ie  Thu Sep 27 07:56:01 2012
From: initze at ucc.ie (Ingmar N)
Date: Thu, 27 Sep 2012 07:56:01 -0700 (PDT)
Subject: [gdal-dev] SetColorTable() issues on GTiff with python bindings
In-Reply-To: <1348756780.5064652cc0d91@imp.free.fr>
References: <1348755162420-5004969.post@n6.nabble.com>
	<1348756780.5064652cc0d91@imp.free.fr>
Message-ID: <1348757761731-5004974.post@n6.nabble.com>

Unfortunately, the only output I received was "3", which did not help me a
lot.
It seems to work now with GDT_Byte, although I thought I used it before.
Nonetheless, Thanks for your help




--
View this message in context: http://osgeo-org.1560.n6.nabble.com/SetColorTable-issues-on-GTiff-with-python-bindings-tp5004969p5004974.html
Sent from the GDAL - Dev mailing list archive at Nabble.com.

From chaitanya.ch at gmail.com  Thu Sep 27 20:03:01 2012
From: chaitanya.ch at gmail.com (Chaitanya kumar CH)
Date: Fri, 28 Sep 2012 08:33:01 +0530
Subject: [gdal-dev] geotiff
In-Reply-To: <D3EBE7E9108B0A449C3D5A6A96D86584677811EE@IICEXHC01.iictechnologies.local>
References: <D3EBE7E9108B0A449C3D5A6A96D86584677811EE@IICEXHC01.iictechnologies.local>
Message-ID: <CAMKgpOYJmWZ7G=awjR-Y=4AgNxAWCM=mGYch1DkBz05kz8Miyg@mail.gmail.com>

Neelima,

Please refer to the DotSpatial docs at
http://dotspatial.codeplex.com/documentation

On Thu, Sep 27, 2012 at 5:26 PM, Neelima Emmani <
neelima.emmani at iictechnologies.com> wrote:

>  Hi
>
> Can anyone tell me how to display geotiff image in a dotspatial map using
> c#.
>
> With Regards,
> Neelima Emmani
>
>
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev
>



-- 
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120928/b28dc7a9/attachment.html>

From neelima.emmani at iictechnologies.com  Thu Sep 27 20:49:13 2012
From: neelima.emmani at iictechnologies.com (Neelima Emmani)
Date: Fri, 28 Sep 2012 03:49:13 +0000
Subject: [gdal-dev] geotiff
In-Reply-To: <CAMKgpOYJmWZ7G=awjR-Y=4AgNxAWCM=mGYch1DkBz05kz8Miyg@mail.gmail.com>
References: <D3EBE7E9108B0A449C3D5A6A96D86584677811EE@IICEXHC01.iictechnologies.local>,
	<CAMKgpOYJmWZ7G=awjR-Y=4AgNxAWCM=mGYch1DkBz05kz8Miyg@mail.gmail.com>
Message-ID: <D3EBE7E9108B0A449C3D5A6A96D8658467781290@IICEXHC01.iictechnologies.local>

Hi
We tried to open raster file as in suggested document . But unfortunately our application is not accepting any file path in  the raster.open() method. Can you please tell me if I am missing any dlls. In addition to gdal_csharp , we also added a reference to  DotSpatial.Data.Rasters.GdalExtension.

Suggested in doc -
Raster r = new Raster();
r.Open(@"[Your Folder]\Ex3\Data\DEM\Elevation.bgd");

Practical in my application -
Raster r = new Raster();
r.Open();


With Regards,
Neelima Emmani

________________________________
From: Chaitanya kumar CH [chaitanya.ch at gmail.com]
Sent: Friday, September 28, 2012 8:33 AM
To: Neelima Emmani
Cc: gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] geotiff

Neelima,

Please refer to the DotSpatial docs at http://dotspatial.codeplex.com/documentation

On Thu, Sep 27, 2012 at 5:26 PM, Neelima Emmani <neelima.emmani at iictechnologies.com<mailto:neelima.emmani at iictechnologies.com>> wrote:
Hi

Can anyone tell me how to display geotiff image in a dotspatial map using c#.

With Regards,
Neelima Emmani


_______________________________________________
gdal-dev mailing list
gdal-dev at lists.osgeo.org<mailto:gdal-dev at lists.osgeo.org>
http://lists.osgeo.org/mailman/listinfo/gdal-dev



--
Best regards,
Chaitanya kumar CH.

+91-9494447584
17.2416N 80.1426E
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://lists.osgeo.org/pipermail/gdal-dev/attachments/20120928/975e4cdb/attachment.html>

From ari.jolma at gmail.com  Sat Sep 29 08:11:01 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sat, 29 Sep 2012 18:11:01 +0300
Subject: [gdal-dev] Fixing old versions
Message-ID: <50670F85.30403@gmail.com>

Evan,

It seems I've left a small bug in the Perl bindings in 1.9.0 and 1.9.1.

Where I should commit a fix to this so that it will be corrected in 1.9.2?

Ari


From even.rouault at mines-paris.org  Sat Sep 29 08:15:16 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sat, 29 Sep 2012 17:15:16 +0200
Subject: [gdal-dev] Fixing old versions
In-Reply-To: <50670F85.30403@gmail.com>
References: <50670F85.30403@gmail.com>
Message-ID: <201209291715.16506.even.rouault@mines-paris.org>

Le samedi 29 septembre 2012 17:11:01, Ari Jolma a ?crit :
> Evan,
> 
> It seems I've left a small bug in the Perl bindings in 1.9.0 and 1.9.1.
> 
> Where I should commit a fix to this so that it will be corrected in 1.9.2?

In https://svn.osgeo.org/gdal/branches/1.9/gdal

Note that for fixes that go to stable branches the policy is to create a ticket 
in Trac and to make a reference to it in the commit message.

> 
> Ari
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From JPalmer at linz.govt.nz  Sun Sep 30 00:52:56 2012
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Sun, 30 Sep 2012 20:52:56 +1300
Subject: [gdal-dev] Setting CS for FileGDB layers
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA0@prdlsmmsg01.ad.linz.govt.nz>

Hi All,

When creating an Esri FileGDB layer the spatial reference system has to be defined using the "Esri" WKT definition. Otherwise you get an "General function failure" error.

In particular the WKT coordinate system code name needs to match the name within the Esri WKT database which is complied into the FileGDB API library. However when using the EPSG coordinate definitions there are many WKT coordinate systems which do not have the matching Esri coordinate system code name - even after MorphToEsri has been called on the CS. There are some 75 coordinate systems in New Zealand, both geographic and projection, which do not morph to the required Esri WKT. Look at EPSG 2193 as an example:

EPSG WKT:

PROJCS["NZGD2000 / New Zealand Transverse Mercator 2000",
    GEOGCS["NZGD2000",
        DATUM["New_Zealand_Geodetic_Datum_2000",
            SPHEROID["GRS 1980",6378137,298.257222101,
                AUTHORITY["EPSG","7019"]],
            TOWGS84[0,0,0,0,0,0,0],
            AUTHORITY["EPSG","6167"]],
        PRIMEM["Greenwich",0,
            AUTHORITY["EPSG","8901"]],
        UNIT["degree",0.0174532925199433,
            AUTHORITY["EPSG","9122"]],
        AUTHORITY["EPSG","4167"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",173],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",1600000],
    PARAMETER["false_northing",10000000],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]],
    AXIS["Northing",NORTH],
    AXIS["Easting",EAST],
    AUTHORITY["EPSG","2193"]]

Morphed WKT:

PROJCS["NZGD2000_New_Zealand_Transverse_Mercator_2000",
    GEOGCS["GCS_NZGD2000",
        DATUM["D_NZGD_2000",
            SPHEROID["GRS_1980",6378137,298.257222101]],
        PRIMEM["Greenwich",0],
        UNIT["Degree",0.017453292519943295]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",173],
    PARAMETER["scale_factor",0.9996],
    PARAMETER["false_easting",1600000],
    PARAMETER["false_northing",10000000],
    UNIT["Meter",1]]

Esri WKT:

PROJCS["NZGD_2000_New_Zealand_Transverse_Mercator",
    GEOGCS["GCS_NZGD_2000",
        DATUM["D_NZGD_2000",
        SPHEROID["GRS_1980",6378137.0,298.257222101]],
        PRIMEM["Greenwich",0.0],
        UNIT["Degree",0.0174532925199433]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["False_Easting",1600000.0],
    PARAMETER["False_Northing",10000000.0],
    PARAMETER["Central_Meridian",173.0],
    PARAMETER["Scale_Factor",0.9996],
    PARAMETER["Latitude_Of_Origin",0.0],
    UNIT["Meter",1.0],
    AUTHORITY["EPSG",2193]]

My question: is it possible to improve the morphToEsri logic to explicitly set the coordinate system code name? Having to set the coordinate system from an Esri WKT external definition is very inconvenient. I see the the Esri pcs and gcs values have already been compiled into a CSV files here: http://trac.osgeo.org/gdal/browser/trunk/autotest/osr/data

Cheers,
Jeremy

P.S here's a script that tests the nz coordinate systems (nz_cs.csv here http://dl.dropbox.com/u/30623980/nz_cs.csv.tar.gz):

import os
import cs

from osgeo import gdal
from osgeo import ogr
from osgeo import osr

fgdb_drv = None
fgdb_path = "cs_test.gdb"
nz_cs_file = "nz_cs.csv"

try:
    fgdb_drv = ogr.GetDriverByName('FileGDB')
except:
    print( "Can't load FileGDB driver" )
    exit( 1 )

if os.path.exists( fgdb_path ):
    fgdb_drv.DeleteDataSource( fgdb_path )
fgdb_ds = fgdb_drv.CreateDataSource( fgdb_path )

failed = 0;
f = open( nz_cs_file , 'rt' )
csv_reader = csv.DictReader( f, delimiter = ',' )
for line in csv_reader:
    srs = osr.SpatialReference()
    srs.ImportFromEPSG( int( line['EPSG'] ) )
    srs.MorphToESRI()
    # set cs code to esri value, so filegdb does not fail
    srs.SetAttrValue( line['TYPE'], line['COORD_REF_SYS_CODE'] )
    lyr = fgdb_ds.CreateLayer( line['COORD_REF_SYS_CODE'] + '_TEST', srs, ogr.wkbPoint )
    if lyr is None:
        failed += 1;
f.close()

print "Number of fail %d" % failed

exit( 0 )

 

This message contains information, which is confidential and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From ari.jolma at gmail.com  Sun Sep 30 01:20:59 2012
From: ari.jolma at gmail.com (Ari Jolma)
Date: Sun, 30 Sep 2012 11:20:59 +0300
Subject: [gdal-dev] ./configure does not work
Message-ID: <506800EB.1000604@gmail.com>

After #24948 configure requires --with-python and the simple

./configure

does not work.

I suggest to change configure.in:3452 to

elif test "x$with_python" != "x" && "$with_python" != "no" ; then

so that non-pythoners do not have to be so explicit about not wanting 
python.

Cheers,

Ari


From even.rouault at mines-paris.org  Sun Sep 30 01:59:37 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 30 Sep 2012 10:59:37 +0200
Subject: [gdal-dev] ./configure does not work
In-Reply-To: <506800EB.1000604@gmail.com>
References: <506800EB.1000604@gmail.com>
Message-ID: <201209301059.37548.even.rouault@mines-paris.org>

Le dimanche 30 septembre 2012 10:20:59, Ari Jolma a ?crit :
> After #24948 configure requires --with-python and the simple
> 
> ./configure
> 
> does not work.
> 
> I suggest to change configure.in:3452 to
> 
> elif test "x$with_python" != "x" && "$with_python" != "no" ; then
> 
> so that non-pythoners do not have to be so explicit about not wanting
> python.

Fixed in r25008

> 
> Cheers,
> 
> Ari
> 
> _______________________________________________
> gdal-dev mailing list
> gdal-dev at lists.osgeo.org
> http://lists.osgeo.org/mailman/listinfo/gdal-dev

From even.rouault at mines-paris.org  Sun Sep 30 03:57:22 2012
From: even.rouault at mines-paris.org (Even Rouault)
Date: Sun, 30 Sep 2012 12:57:22 +0200
Subject: [gdal-dev] Setting CS for FileGDB layers
In-Reply-To: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA0@prdlsmmsg01.ad.linz.govt.nz>
References: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA0@prdlsmmsg01.ad.linz.govt.nz>
Message-ID: <201209301257.22313.even.rouault@mines-paris.org>

Le dimanche 30 septembre 2012 09:52:56, Jeremy Palmer a ?crit :
> Hi All,
> 
> When creating an Esri FileGDB layer the spatial reference system has to be
> defined using the "Esri" WKT definition. Otherwise you get an "General
> function failure" error.
> 

See http://trac.osgeo.org/gdal/ticket/4838 for a fix. We can in fact use some 
API from Util.h to query the ESRI SRS DB and find the expected ESRI WKT 
definition from a EPSG code, or, if the EPSG code is unknown, to iterate over 
the ESRI DB SRS until we find a match by comparing the SRS with 
OSRSpatialRefrence::IsSame()

From JPalmer at linz.govt.nz  Sun Sep 30 10:51:37 2012
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Mon, 1 Oct 2012 06:51:37 +1300
Subject: [gdal-dev] Setting CS for FileGDB layers
In-Reply-To: <201209301257.22313.even.rouault@mines-paris.org>
References: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA0@prdlsmmsg01.ad.linz.govt.nz>,
	<201209301257.22313.even.rouault@mines-paris.org>
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA3@prdlsmmsg01.ad.linz.govt.nz>

Wow Even - thanks for the fix. Your response on this list amazes me.

I just tested creating FileGDB layers for the NZ CS's again. Most of the common ones now work using the EPSG Id :) However I still get failures on these:

2111    PROJCS  NZGD_2000_Wanganui_Circuit
2113    PROJCS  NZGD_2000_Wellington_Circuit
2114    PROJCS  NZGD_2000_Collingwood_Circuit
2125    PROJCS  NZGD_2000_Gawler_Circuit
27215  PROJCS  NZGD_1949_Nelson_Circuit
27216  PROJCS  NZGD_1949_Karamea_Circuit
27222  PROJCS  NZGD_1949_Okarito_Circuit
27227  PROJCS  NZGD_1949_Lindis_Peak_Circuit
27231  PROJCS  NZGD_1949_North_Taieri_Circuit

I checked the ArcGIS WKT definitions and they all have the correct AUTHORITY EPSG id set. Maybe a FileGDB API database issue?

Cheers
Jeremy
________________________________________
From: Even Rouault [even.rouault at mines-paris.org]
Sent: Sunday, 30 September 2012 11:57 p.m.
To: gdal-dev at lists.osgeo.org
Cc: Jeremy Palmer
Subject: Re: [gdal-dev] Setting CS for FileGDB layers

Le dimanche 30 septembre 2012 09:52:56, Jeremy Palmer a ?crit :
> Hi All,
>
> When creating an Esri FileGDB layer the spatial reference system has to be
> defined using the "Esri" WKT definition. Otherwise you get an "General
> function failure" error.
>

See http://trac.osgeo.org/gdal/ticket/4838 for a fix. We can in fact use some
API from Util.h to query the ESRI SRS DB and find the expected ESRI WKT
definition from a EPSG code, or, if the EPSG code is unknown, to iterate over
the ESRI DB SRS until we find a match by comparing the SRS with
OSRSpatialRefrence::IsSame()

This message contains information, which is confidential and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

From JPalmer at linz.govt.nz  Sun Sep 30 11:01:55 2012
From: JPalmer at linz.govt.nz (Jeremy Palmer)
Date: Mon, 1 Oct 2012 07:01:55 +1300
Subject: [gdal-dev] Setting CS for FileGDB layers
In-Reply-To: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA3@prdlsmmsg01.ad.linz.govt.nz>
References: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA0@prdlsmmsg01.ad.linz.govt.nz>,
	<201209301257.22313.even.rouault@mines-paris.org>,
	<666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA3@prdlsmmsg01.ad.linz.govt.nz>
Message-ID: <666FB8D75E95AE42965A0E76A5E5337E0E9DCF8AA4@prdlsmmsg01.ad.linz.govt.nz>

Sorry my bad. I was still calling MorphToESRI on my cs object before creating the layer. Everything is working great now.
________________________________________
From: gdal-dev-bounces at lists.osgeo.org [gdal-dev-bounces at lists.osgeo.org] On Behalf Of Jeremy Palmer
Sent: Monday, 1 October 2012 6:51 a.m.
To: Even Rouault; gdal-dev at lists.osgeo.org
Subject: Re: [gdal-dev] Setting CS for FileGDB layers

Wow Even - thanks for the fix. Your response on this list amazes me.

I just tested creating FileGDB layers for the NZ CS's again. Most of the common ones now work using the EPSG Id :) However I still get failures on these:

2111    PROJCS  NZGD_2000_Wanganui_Circuit
2113    PROJCS  NZGD_2000_Wellington_Circuit
2114    PROJCS  NZGD_2000_Collingwood_Circuit
2125    PROJCS  NZGD_2000_Gawler_Circuit
27215  PROJCS  NZGD_1949_Nelson_Circuit
27216  PROJCS  NZGD_1949_Karamea_Circuit
27222  PROJCS  NZGD_1949_Okarito_Circuit
27227  PROJCS  NZGD_1949_Lindis_Peak_Circuit
27231  PROJCS  NZGD_1949_North_Taieri_Circuit

I checked the ArcGIS WKT definitions and they all have the correct AUTHORITY EPSG id set. Maybe a FileGDB API database issue?

Cheers
Jeremy
________________________________________

This message contains information, which is confidential and may be subject to legal privilege. If you are not the intended recipient, you must not peruse, use, disseminate, distribute or copy this message. If you have received this message in error, please notify us immediately (Phone 0800 665 463 or info at linz.govt.nz) and destroy the original message. LINZ accepts no responsibility for changes to this email, or for any attachments, after its transmission from LINZ. Thank You.

