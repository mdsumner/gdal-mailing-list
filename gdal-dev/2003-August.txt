From naumov at acsu.buffalo.edu  Fri Aug  1 15:08:23 2003
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
Message-ID: <200308011508.23142.naumov@acsu.buffalo.edu>

Dear Frank and GDAL developers,

Is there any way to read MrSID files without the DSDK from LizardTech? I have 
a few orthophotos in MrSID format and I'd like to convert them to another, 
non-proprietory format. Paying for DSDK $500 is not really an option. :-(
Unfortunately, the decode utility downloadable from LizardTech does not work 
for me, the tar file does not even extract properly.

A unrelated note on GDAL main documentation page (index.html) -- 2 fixes under 
Key Documentation Entry Points:
	- edit links to GDALDataset and GDALRasterBand classes to remove the '_' in 
files names (class_GDALDataset.html => classGDALDataset.html)
	- "gdal_utilities.html" page seems not provided with the package (CVS), I 
think it should be, the utils are great and the page is very useful!

Thanks!
Aleksey

-- 
Aleksey Naumov
GIS Analyst
Center for Health and Social Research
Buffalo State College

From bmarchand at ara.com  Fri Aug  1 15:48:00 2003
From: bmarchand at ara.com (Brian Marchand)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
Message-ID: <B3CB5AFD4126584AB4CF3DD45B267A530A7FD8@thorin.sed.ara.com>

Aleksey,

There is a free application, "MrSID Viewer", from LizardTech. 

http://www.lizardtech.com/download/?f=0&d=1 

With this you can convert MrSID files to a TIF format with a world file.

Brian

-----Original Message-----
From: Aleksey Naumov [mailto:naumov@acsu.buffalo.edu] 
Sent: Friday, August 01, 2003 3:08 PM
To: gdal-dev
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)

Dear Frank and GDAL developers,

Is there any way to read MrSID files without the DSDK from LizardTech? I
have 
a few orthophotos in MrSID format and I'd like to convert them to
another, 
non-proprietory format. Paying for DSDK $500 is not really an option.
:-(
Unfortunately, the decode utility downloadable from LizardTech does not
work 
for me, the tar file does not even extract properly.

A unrelated note on GDAL main documentation page (index.html) -- 2 fixes
under 
Key Documentation Entry Points:
	- edit links to GDALDataset and GDALRasterBand classes to remove
the '_' in 
files names (class_GDALDataset.html => classGDALDataset.html)
	- "gdal_utilities.html" page seems not provided with the package
(CVS), I 
think it should be, the utils are great and the page is very useful!

Thanks!
Aleksey

-- 
Aleksey Naumov
GIS Analyst
Center for Health and Social Research
Buffalo State College
_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From dron at ak4719.spb.edu  Fri Aug  1 15:53:18 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
In-Reply-To: <200308011508.23142.naumov@acsu.buffalo.edu>
References: <200308011508.23142.naumov@acsu.buffalo.edu>
Message-ID: <20030801195318.GA23844@ak4719.spb.edu>

Aleksey,

On Fri, Aug 01, 2003 at 03:08:23PM -0400, Aleksey Naumov wrote:
> Is there any way to read MrSID files without the DSDK from LizardTech?

I'm afraid, there isn't other way to do this. GDAL works as a wrapper
for DSDK.

> I have a few orthophotos in MrSID format and I'd like to convert them
> to another, non-proprietory format. Paying for DSDK $500 is not really
> an option. :-( Unfortunately, the decode utility downloadable from
> LizardTech does not work for me, the tar file does not even extract
> properly.

Try to download their software again. Both Linux and Windows utilities
from LizardTech works good enough for me for converting purposes. Linux
one sometime crashes and works only for MrSID files version 1.x (yes,
LizardTech has several backward incompatible versions of the format!),
so you may consider using Windows viewer.

> A unrelated note on GDAL main documentation page (index.html) -- 2
> fixes under Key Documentation Entry Points:
> 	- edit links to GDALDataset and GDALRasterBand classes to remove
> 	the '_' in files names (class_GDALDataset.html =>
> 	classGDALDataset.html)

Thanks, fixed.

> 	- "gdal_utilities.html" page seems not provided with the package
> 	(CVS),

Are you sure? I have rebuilded all documantation with `make docs'
command and all files seems to be written properly, including
gdal_utilities.html.

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From naumov at acsu.buffalo.edu  Sat Aug  2 16:43:12 2003
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
In-Reply-To: <20030801195318.GA23844@ak4719.spb.edu>
References: <200308011508.23142.naumov@acsu.buffalo.edu> <20030801195318.GA23844@ak4719.spb.edu>
Message-ID: <200308021643.12456.naumov@acsu.buffalo.edu>

Andrey,

On Friday 01 August 2003 03:53 pm, Andrey Kiselev wrote:
> Aleksey,
>
> On Fri, Aug 01, 2003 at 03:08:23PM -0400, Aleksey Naumov wrote:
> > Is there any way to read MrSID files without the DSDK from LizardTech?
>
> I'm afraid, there isn't other way to do this. GDAL works as a wrapper
> for DSDK.

Ok, thanks for explaining.

> Try to download their software again. Both Linux and Windows utilities
> from LizardTech works good enough for me for converting purposes. Linux
> one sometime crashes and works only for MrSID files version 1.x (yes,
> LizardTech has several backward incompatible versions of the format!),
> so you may consider using Windows viewer.

Downloading again does not help, tar still has problems with decoder/info 
downloaded file ('Linux_sid.tar', 9.3M). The viewer works, but does not 
export coordinates ('tiff' option does not write the world file, and there is 
no 'geotiff' option).
Anyway, decoder works under Win with the -geotiff option, this is what I am 
using at the moment...

> > 	- "gdal_utilities.html" page seems not provided with the package
> > 	(CVS),
>
> Are you sure? I have rebuilded all documantation with `make docs'
> command and all files seems to be written properly, including
> gdal_utilities.html.

Yes, I don't understand what's happening. I see 'gcore/gdal_utilities.dox' and 
when doxygen runs I see:

...
Preprocessing /home/Geo/GDAL/gdal/gcore/gdal_utilities.dox...
...
Parsing file /home/Geo/GDAL/gdal/gcore/gdal_utilities.dox...

But in the end I do not have the 'gdal_utilities.html' file:

[aleksey@hap595 gdal]$ find . -name gdal_util*
./gcore/gdal_utilities.dox
[aleksey@hap595 gdal]$ ll html/gdal_util*
ls: html/gdal_util*: No such file or directory

No idea why... Well, it's not that important anyway. 

Thanks for your help,

Aleksey

-- 
Aleksey Naumov
GIS Analyst
Center for Health and Social Research
Buffalo State College

From naumov at acsu.buffalo.edu  Sat Aug  2 16:45:27 2003
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
In-Reply-To: <B3CB5AFD4126584AB4CF3DD45B267A530A7FD8@thorin.sed.ara.com>
References: <B3CB5AFD4126584AB4CF3DD45B267A530A7FD8@thorin.sed.ara.com>
Message-ID: <200308021645.27878.naumov@acsu.buffalo.edu>

Brian, thanks. The viewer does not work for me on Linux (does not create the 
world file), so for the moment I have to resort to Win: MrSID decoder on win 
does the job with the -geotiff option.

Regards,
Aleksey

On Friday 01 August 2003 03:48 pm, Brian Marchand wrote:
> Aleksey,
>
> There is a free application, "MrSID Viewer", from LizardTech.
>
> http://www.lizardtech.com/download/?f=0&d=1
>
> With this you can convert MrSID files to a TIF format with a world file.
>
> Brian
>
> -----Original Message-----
> From: Aleksey Naumov [mailto:naumov@acsu.buffalo.edu]
> Sent: Friday, August 01, 2003 3:08 PM
> To: gdal-dev
> Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
>
> Dear Frank and GDAL developers,
>
> Is there any way to read MrSID files without the DSDK from LizardTech? I
> have
> a few orthophotos in MrSID format and I'd like to convert them to
> another,
> non-proprietory format. Paying for DSDK $500 is not really an option.
>
> :-(
>
> Unfortunately, the decode utility downloadable from LizardTech does not
> work
> for me, the tar file does not even extract properly.
>
> A unrelated note on GDAL main documentation page (index.html) -- 2 fixes
> under
> Key Documentation Entry Points:
> 	- edit links to GDALDataset and GDALRasterBand classes to remove
> the '_' in
> files names (class_GDALDataset.html => classGDALDataset.html)
> 	- "gdal_utilities.html" page seems not provided with the package
> (CVS), I
> think it should be, the utils are great and the page is very useful!
>
> Thanks!
> Aleksey

-- 
Aleksey Naumov
GIS Analyst
Center for Health and Social Research
Buffalo State College

From warmerdam at pobox.com  Sat Aug  2 18:18:54 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] MrSID format (+ GDAL doc page)
In-Reply-To: <200308011508.23142.naumov@acsu.buffalo.edu>
References: <200308011508.23142.naumov@acsu.buffalo.edu>
Message-ID: <3F2C38CE.3040202@pobox.com>

Aleksey Naumov wrote:
> A unrelated note on GDAL main documentation page (index.html) -- 2 fixes under 
> Key Documentation Entry Points:
> 	- edit links to GDALDataset and GDALRasterBand classes to remove the '_' in 
> files names (class_GDALDataset.html => classGDALDataset.html)


Aleksey,

I have modified gcore/index.dox to let Doxygen provide these links instead of
doing them manually.  This way the correct naming scheme is used for the version
of Doxygen ... it seems that the file naming conventions change between Doxygen
versions.

> 	- "gdal_utilities.html" page seems not provided with the package (CVS), I 
> think it should be, the utils are great and the page is very useful!

The source for this is gcore/gdal_utilities.dox.   To generate the
derived documentation use "make docs".  I no longer keep all the html files
in CVS.  The CVSing of generated files was causing lots of headaches.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sat Aug  2 19:15:42 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Re: reference counting
In-Reply-To: <1059583853.15708.35.camel@delores.lanl.gov>
References: <1059583853.15708.35.camel@delores.lanl.gov>
Message-ID: <3F2C461E.90505@pobox.com>

Diana Esch-Mosher wrote:
> Frank,
> 
> GDALOpen() sets nREfCount=1,  nGDALDatasetCount++, and adds the dataset
> being created to  papoGDALDatasetList
> 
> GDALClose() calls GDALGetOpenDataset() which returns  nGDALDatasetCount
> and papoGDALDatasetList
> 
> Thus, whether a dataset is "shared" or not it always goes through the
> "shared" code in GDALClose() and dereferences!
> 
> Should it not be checking the bShared flag too?
> 
> This is causing me some problems in my openev app ....

Diana,

Things are kind of fuzzy in this area.  The current rules (as you have
discovered) is for GDALClose() to always just dereference datasets with a
ref count over 1 regardless of whether they are shared or not.  The shared
flag really is just used by GDALOpenShared() to determine existing datasets
that could be returned instead of creating a new one.

Can you outline the situation where this causes problems?  Is it that there
are extra references left on a dataset in some situations?   While I should
clearly fix up the internal documentation, I am not sure I want to change the
current active code unless you can show why it is problematic.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sat Aug  2 19:56:37 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] GDAL on OS X
In-Reply-To: <28D95DC4-C1D4-11D7-B59C-003065D5F140@cmu.edu>
References: <28D95DC4-C1D4-11D7-B59C-003065D5F140@cmu.edu>
Message-ID: <3F2C4FB5.2050506@pobox.com>

Sean Fulton wrote:
> I'm trying to compile GDAL on OS X. The compile seems to fail at the 
> linking stage. Can anyone suggest what the problem might be?
> 
> Thanks.
> 
>     Sean
> 
> ranlib ./gdal.a
> ranlib: file: ./gdal.a(pnggccrd.o) has no symbols
> ranlib: file: ./gdal.a(pngvcrd.o) has no symbols
> ranlib: file: ./gdal.a(tif_pixarlog.o) has no symbols
> ranlib: file: ./gdal.a(cpl_vsil_unix_stdio_64.o) has no symbols
> make ./libgdal.1.1.dylib
> gcc -dynamiclib  ./frmts/o/*.o ./gcore/*.o ./port/*.o ./alg/*.o 
> ./ogr/ogrct.o ./ogr/ogr_opt.o ./ogr/ogr_fromepsg.o 
> ./ogr/ogr_srs_validate.o ./ogr/ogrutils.o ./ogr/ogr_srs_proj4.o 
> ./ogr/ograssemblepolygon.o ./ogr/ogr_api.o 
> ./ogr/ogrsf_frmts/generic/ogrregisterall.o ./ogr/ogrfeaturestyle.o 
> ./ogr/ogrsf_frmts/ogrsf_frmts.a   ./gdal.a ./ogr/ogr.a ./gdal.a 
> ./port/cpl.a -lz -lm -lm \
>         -o ./libgdal.1.1.dylib
> ld: Undefined symbols:
> /usr/bin/libtool: internal link edit command failed
> vtable for __cxxabiv1::__class_type_info
> vtable for __cxxabiv1::__si_class_type_info
> operator delete(void*)
> operator new(unsigned long)
> ___gxx_personality_v0
> operator delete[](void*)
> operator new[](unsigned long)
> ___cxa_pure_virtual
> vtable for __cxxabiv1::__vmi_class_type_info
> make[1]: *** [libgdal.1.1.dylib] Error 1
> make: *** [check-lib] Error 2

Sean,

I may have missed another answer for this, but basically, I presume you
are missing C++ libraries and linking with g++ would hopefully fix this.
Try changing LD_SHARED in GDALmake.opt to "g++ -dynamiclib".

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sat Aug  2 20:01:49 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] creating shape files
In-Reply-To: <B3CB5AFD4126584AB4CF3DD45B267A530A7FD3@thorin.sed.ara.com>
References: <B3CB5AFD4126584AB4CF3DD45B267A530A7FD3@thorin.sed.ara.com>
Message-ID: <3F2C50ED.8070102@pobox.com>

Brian Marchand wrote:
> I?m going to answer my own questions starting with the second one. Yes 
> it appears that all features in a layer must all be using the same 
> feature definition. You can set this in the OGRLayer by, iterating 
> through the field definitions of the appropriate feature definition and 
> calling the CreateField method of the OGRLayer with each field 
> definition. This must be done before calling the CreateFeature method of 
> the layer otherwise the fields of the feature will not be added to the 
> dbf file. If this is not the preferred way to handle writing out 
> features please let me know.

Brian,

Your assumptions are correct.  All fields for a layer should be added
using CreateField() before any features are created on the layer.  For a
few formats it may be possible to add fields on populated layers, but this
is not generally possible.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sat Aug  2 21:26:01 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <BAY8-F102eZuZh60L3k0001220b@hotmail.com>
References: <BAY8-F102eZuZh60L3k0001220b@hotmail.com>
Message-ID: <3F2C64A9.5080501@pobox.com>

N. Farah wrote:
> Ben,
> 
> My call to GDALOpen() is now working after having the binaries in debug 
> mode as my program is in debug mode. I'm opening a tif file and 
> translating it to erdase imagine for testing purposes (i'm aware that a 
> program already exist for that operation). I'm kind of exploring GDAL now.
> 
> My steps are simple:
> - Drivers registration (here tiff and imagine),
> - GDALOpen()..
> - GDALGetDriverByName()
> - GDALCreateCopy().
> 
> All the steps went fine except the last one. The .img file is created 
> and seems to be ok.
> The exception is risen in the cleaning phase. GDALOpenInfo object is 
> being destructed and an exception is risen when trying to close the .img 
> file.
> 
> After a bit of investigation, i found out that .img is opened (in the 
> source code) using VSIFOpenL function (in the HFAOpen() method), then 
> the file pointer is passed back to the GDALOpenInfo  object.

Noureddine,

HFAOpen() does indeed use VSIFOpenL(), but I don't see how the
HFADataset::Open() method would end up propagating this "large" file
pointer back into the GDALOpenInfo. I am looking at the current CVS
source, but I didn't think this changed since 1.1.9 was released.

In your next email you mention correcting the problem.  Could you let
me know what change you had to make, and verify that you were working
with GDAL 1.1.9?

Best regards,

> Once the destructed of GDALOpenInfo  is called, the file is being closed 
> with VSIFClose. In the imagine case the closing would be done using 
> VSIFCloseL and not VSIFClose. I guess that this is what causing the 
> exception. It appears that GDALOpenInfo assume that the file is always 
> opened using VSIFOpen.
> 
> 
> Noureddine Farah


-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sat Aug  2 21:28:30 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <00f401c3551e$5b09bad0$f400fe0a@TOPP2>
References: <00f401c3551e$5b09bad0$f400fe0a@TOPP2>
Message-ID: <3F2C653E.4080407@pobox.com>

Ben Discoe wrote:
> Noureddine,
> 
> It is quite likely that you are using the debug-mode GDAL with your
> release-mode applications, or vice-versa.  They must match.  This means
> that in order to develop application in both debug and release mode, you
> need to build GDAL both ways.

Ben,

Could you clarify why non-debug applications can't use debug versions of
the library and the other way around?  It seems to me I often do this myself
without problems.  Is it some difference in calling conventions or something
like that?

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ed at topozone.com  Sun Aug  3 07:45:01 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
Message-ID: <13858AA1A74F30419F319ACB66A9D1222BFE5B@mercator.topozone.com>

Frank -

It's not a calling convention problem.  The compiler inserts the name of
the appropriate run-time library in the object module when compiling, so
the linker will automatically look for it.  If you compile some objects
debug and some non-debug, the compiler will have inserted both library
names into those objects; when you go to link, both runtime libraries
will be linked and you will get symbol redefinition conflicts.

This can be worked around by telling the linker to ignore all libraries
specified in the object modules and then explicitly listing all the
libraries you need, but that's pretty tedious and many users don't
understand how to do it (or how to do it correctly).

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242  Fax: (978) 251-1396
ed@topozone.com


-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Saturday, August 02, 2003 9:29 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Exception thrown in GDALOpen() function

Ben Discoe wrote:
> Noureddine,
> 
> It is quite likely that you are using the debug-mode GDAL with your
> release-mode applications, or vice-versa.  They must match.  This
means
> that in order to develop application in both debug and release mode,
you
> need to build GDAL both ways.

Ben,

Could you clarify why non-debug applications can't use debug versions of
the library and the other way around?  It seems to me I often do this
myself
without problems.  Is it some difference in calling conventions or
something
like that?

Best regards,

-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From rogerjames99 at btinternet.com  Sun Aug  3 09:12:04 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1222BFE5B@mercator.topozone.com>
Message-ID: <000f01c359c0$d59c77a0$fe0aa8c0@lancaster.beardandsandals.co.uk>

The other issue with mixed libraries occurs when you are using the dll
version of gdal or are linking the static library version into a dll.
You end up with memory being allocated and freed from different heaps.
This is an issue that both Ben and I have come across, and is why we now
run with modified gdal makefiles that build differently named debug and
non debug versions.

If you are having to resort to using ignoredefaultlibs then it is likely
that you will eventually run into problems.

Roger

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-
> admin@remotesensing.org] On Behalf Of Ed McNierney
> Sent: 03 August 2003 12:45
> To: gdal-dev@remotesensing.org
> Subject: RE: [Gdal-dev] Exception thrown in GDALOpen() function
> 
> Frank -
> 
> It's not a calling convention problem.  The compiler inserts the name
of
> the appropriate run-time library in the object module when compiling,
so
> the linker will automatically look for it.  If you compile some
objects
> debug and some non-debug, the compiler will have inserted both library
> names into those objects; when you go to link, both runtime libraries
> will be linked and you will get symbol redefinition conflicts.
> 
> This can be worked around by telling the linker to ignore all
libraries
> specified in the object modules and then explicitly listing all the
> libraries you need, but that's pretty tedious and many users don't
> understand how to do it (or how to do it correctly).
> 
> 	- Ed
> 
> Ed McNierney
> President and Chief Mapmaker
> TopoZone.com / Maps a la carte, Inc.
> 73 Princeton Street, Suite 305
> North Chelmsford, MA  01863
> Phone: (978) 251-4242  Fax: (978) 251-1396
> ed@topozone.com
> 
> 
> -----Original Message-----
> From: Frank Warmerdam [mailto:warmerdam@pobox.com]
> Sent: Saturday, August 02, 2003 9:29 PM
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] Exception thrown in GDALOpen() function
> 
> Ben Discoe wrote:
> > Noureddine,
> >
> > It is quite likely that you are using the debug-mode GDAL with your
> > release-mode applications, or vice-versa.  They must match.  This
> means
> > that in order to develop application in both debug and release mode,
> you
> > need to build GDAL both ways.
> 
> Ben,
> 
> Could you clarify why non-debug applications can't use debug versions
of
> the library and the other way around?  It seems to me I often do this
> myself
> without problems.  Is it some difference in calling conventions or
> something
> like that?
> 
> Best regards,
> 
> --
>
---------------------------------------+--------------------------------
> ------
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for
Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev



From warmerdam at pobox.com  Sun Aug  3 11:23:01 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <000f01c359c0$d59c77a0$fe0aa8c0@lancaster.beardandsandals.co.uk>
References: <000f01c359c0$d59c77a0$fe0aa8c0@lancaster.beardandsandals.co.uk>
Message-ID: <3F2D28D5.5010802@pobox.com>

Roger James wrote:

> The other issue with mixed libraries occurs when you are using the dll
> version of gdal or are linking the static library version into a dll.
> You end up with memory being allocated and freed from different heaps.
> This is an issue that both Ben and I have come across, and is why we now
> run with modified gdal makefiles that build differently named debug and
> non debug versions.
> 
> If you are having to resort to using ignoredefaultlibs then it is likely
> that you will eventually run into problems.

Roger,

OK, I understand that under some circumstances different DLLs each have their
own heap.  I have worked under these conditions when using the regular LIBC
instead of the runtime C library with MSVC, and with some care it need not
be impossible.  In fact, it was for this reason I introduced some methods
like OGRFeature::DestroyFeature() so that an application could pass a feature
to the GDAL DLL to destroy instead of doing it in the parent application.

Also, using the GDAL or OGR C APIs you pretty much avoid the heap issues
since the C APIs leave all object allocation and destruction within the DLL.

However, I can see that it may be easier to write safe applications if you
use the same runtime library.  However, I haven't yet seen clearly that it
is necessary to have the GDAL DLL built with the same build options as
the parent application.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Sun Aug  3 11:34:24 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <13858AA1A74F30419F319ACB66A9D1222BFE5B@mercator.topozone.com>
References: <13858AA1A74F30419F319ACB66A9D1222BFE5B@mercator.topozone.com>
Message-ID: <3F2D2B80.7020405@pobox.com>

Ed McNierney wrote:

> Frank -
> 
> It's not a calling convention problem.  The compiler inserts the name of
> the appropriate run-time library in the object module when compiling, so
> the linker will automatically look for it.  If you compile some objects
> debug and some non-debug, the compiler will have inserted both library
> names into those objects; when you go to link, both runtime libraries
> will be linked and you will get symbol redefinition conflicts.
> 
> This can be worked around by telling the linker to ignore all libraries
> specified in the object modules and then explicitly listing all the
> libraries you need, but that's pretty tedious and many users don't
> understand how to do it (or how to do it correctly).

Ed,

Traditionally I built GDAL linking against the static LIBC library
which resulted in GDAL having its own heap.  It was tricky to ensure
objects were allocated and deallocated within the proper heap (as I
noted in the response to Roger), but that aside it didn't seem to matter
what options the mainline application used since the DLL was completely
self contained, with it's own copy of all the C library code it used.

I can certainly see that if an application was linking against the static
libraries for GDAL/OGR (those containing all the real object code as opposed
to just the DLL stub libraries which I assume have no dependencies on
external runtime libraries or static libraries) that things would be
confused with different object files requesting C library functions from
different LIBC's (either the non-debug or the debug one for instance).

I too have on occasion used the "ignore all libraries" directive.  As far as
I know it worked most of the time with some caveats.

But, is it true that you can't link DLLs into an application that depend on
different C runtime libraries?  If so, would it be better if I went back to
having GDAL built linked against the static LIBC instead of the C runtime
library?  It seems this would make GDAL's DLL self contained at the cost
of folks having to be very careful about heap issues in application code.

Argg.  It seems to be a tradeoff situation.  Of course, it might be better
if I just made it easy to build "release" and "debug" versions of everything
conveniently on win32, like folks do in Visual Studio.

Once Alessandro finishes reworking and streamlining the build process on
Unix, I am willing to revisit the windows build again to see what I can do
in this regard.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From ed at topozone.com  Sun Aug  3 11:42:00 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
Message-ID: <13858AA1A74F30419F319ACB66A9D1222BFE5E@mercator.topozone.com>

Frank -

Actually, I've always found GDAL to be one of the most "buildable" of
MapServer-related libraries on Windows.  Many of the distributions come
with Windows makefiles that are simply broken or hopelessly out-of-date.
For a long time the most annoying problems I had building under Windows
was with the regex-0.12 library, which was all of a few dozen lines of
code in one C file!

I have found that the bigger issues revolve around using the
multithreaded runtime libraries.  Many of the other default makefiles
for Windows (in other libraries) are pretty cryptic so it's not easy to
figure out how to do a multithreaded build.

I have had on my to-do list (for a while) a nicely constructed build
environment for MapServer and supporting libraries under Windows, all
built with the multithreaded libraries.  Now that 4.0's out the door, I
think I'll probably get around to it.

I wouldn't put the release/debug stuff at the top of the GDAL to-do list
- it's possible that I'll take care of it in the next few weeks anyway.

	- Ed

Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
Phone: (978) 251-4242  Fax: (978) 251-1396
ed@topozone.com


-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Sunday, August 03, 2003 11:34 AM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Exception thrown in GDALOpen() function

Ed McNierney wrote:

> Frank -
> 
> It's not a calling convention problem.  The compiler inserts the name
of
> the appropriate run-time library in the object module when compiling,
so
> the linker will automatically look for it.  If you compile some
objects
> debug and some non-debug, the compiler will have inserted both library
> names into those objects; when you go to link, both runtime libraries
> will be linked and you will get symbol redefinition conflicts.
> 
> This can be worked around by telling the linker to ignore all
libraries
> specified in the object modules and then explicitly listing all the
> libraries you need, but that's pretty tedious and many users don't
> understand how to do it (or how to do it correctly).

Ed,

Traditionally I built GDAL linking against the static LIBC library
which resulted in GDAL having its own heap.  It was tricky to ensure
objects were allocated and deallocated within the proper heap (as I
noted in the response to Roger), but that aside it didn't seem to matter
what options the mainline application used since the DLL was completely
self contained, with it's own copy of all the C library code it used.

I can certainly see that if an application was linking against the
static
libraries for GDAL/OGR (those containing all the real object code as
opposed
to just the DLL stub libraries which I assume have no dependencies on
external runtime libraries or static libraries) that things would be
confused with different object files requesting C library functions from
different LIBC's (either the non-debug or the debug one for instance).

I too have on occasion used the "ignore all libraries" directive.  As
far as
I know it worked most of the time with some caveats.

But, is it true that you can't link DLLs into an application that depend
on
different C runtime libraries?  If so, would it be better if I went back
to
having GDAL built linked against the static LIBC instead of the C
runtime
library?  It seems this would make GDAL's DLL self contained at the cost
of folks having to be very careful about heap issues in application
code.

Argg.  It seems to be a tradeoff situation.  Of course, it might be
better
if I just made it easy to build "release" and "debug" versions of
everything
conveniently on win32, like folks do in Visual Studio.

Once Alessandro finishes reworking and streamlining the build process on
Unix, I am willing to revisit the windows build again to see what I can
do
in this regard.

Best regards,

-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

From warmerdam at pobox.com  Sun Aug  3 11:48:54 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <000f01c359c0$d59c77a0$fe0aa8c0@lancaster.beardandsandals.co.uk>
References: <000f01c359c0$d59c77a0$fe0aa8c0@lancaster.beardandsandals.co.uk>
Message-ID: <3F2D2EE6.2040909@pobox.com>

Roger / Ed / Ben,

I forgot to mention this in my previous responses, but I would like to thank
you all (and others at other times) for working to explain these windows
build issues to me.  I like to understand internally why some things are the
way they are, rather than just accepting statements like "we need a debug
and release build" without understanding why.  Also, I appreciate your taking
the time to explain this stuff more than once.  I realize some of you, and
others, have at times tried to get through to me on this stuff and I have
lost the point due inadequate attention.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From alexamici at tiscali.it  Sun Aug  3 17:22:34 2003
From: alexamici at tiscali.it (Alessandro Amici)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] improving gdal parallel build
Message-ID: <200308032322.34305.alexamici@tiscali.it>

folks,

i tweaked a couple of rules in the top level GNUmakefile in order to fix 
parallel builds. 'make -j 200' on my home uni-processor now builds everything 
ok. i will not be able to test on a real SMP machine for a while, thou.

is there anybody else interested in parallel builds?

i have a couple more changes to improve parallel builds, but i'd like to apply 
them only if there is a real request among other users.

cheers,
alessandro


From rogerjames99 at btinternet.com  Sun Aug  3 18:04:47 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Exception thrown in GDALOpen() function
In-Reply-To: <3F2D28D5.5010802@pobox.com>
Message-ID: <000001c35a0b$40dd7060$fe0aa8c0@lancaster.beardandsandals.co.uk>

Frank,

My changes to the gdal build environment predated your adoption of the
multi threaded dll c runtime library as the default link option. I admit
I have run with my own VC build environment since I made the changes, so
the issues I saw then may well have been resolved.

If at some time you want to revisit the VC build process I will be happy
to assist.

Roger

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-
> admin@remotesensing.org] On Behalf Of Frank Warmerdam
> Sent: 03 August 2003 16:23
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] Exception thrown in GDALOpen() function
> 
> Roger James wrote:
> 
> > The other issue with mixed libraries occurs when you are using the
dll
> > version of gdal or are linking the static library version into a
dll.
> > You end up with memory being allocated and freed from different
heaps.
> > This is an issue that both Ben and I have come across, and is why we
now
> > run with modified gdal makefiles that build differently named debug
and
> > non debug versions.
> >
> > If you are having to resort to using ignoredefaultlibs then it is
likely
> > that you will eventually run into problems.
> 
> Roger,
> 
> OK, I understand that under some circumstances different DLLs each
have
> their
> own heap.  I have worked under these conditions when using the regular
> LIBC
> instead of the runtime C library with MSVC, and with some care it need
not
> be impossible.  In fact, it was for this reason I introduced some
methods
> like OGRFeature::DestroyFeature() so that an application could pass a
> feature
> to the GDAL DLL to destroy instead of doing it in the parent
application.
> 
> Also, using the GDAL or OGR C APIs you pretty much avoid the heap
issues
> since the C APIs leave all object allocation and destruction within
the
> DLL.
> 
> However, I can see that it may be easier to write safe applications if
you
> use the same runtime library.  However, I haven't yet seen clearly
that it
> is necessary to have the GDAL DLL built with the same build options as
> the parent application.
> 
> Best regards,
> --
>
---------------------------------------+--------------------------------
--
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for
Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev



From mat at mamaloucos.com  Mon Aug  4 12:45:32 2003
From: mat at mamaloucos.com (mat)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Writing in USGS DEM Format ?
Message-ID: <1060015500.3878.130.camel@linux.mamaloucos.com>

Hi, 

Complete beginners questions here,

Any plans to, or anyone working on the ability to write in USGS ASCII
DEM format ? 

I,m trying to convert UK dem data in any of the formats available here:

http://www.landmap.ac.uk/download/dem2_user_cood_selector.htm

into USGS ASCII DEM that I can import (3 ARC SEC) into the terrain
modeller Terragear. 

http://www.terragear.org/docs/scenery-tutorial/fg-scenery-tutorial.html

Best Regards

Mat Churchill











From warmerdam at pobox.com  Mon Aug  4 13:09:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Writing in USGS DEM Format ?
In-Reply-To: <1060015500.3878.130.camel@linux.mamaloucos.com>
References: <1060015500.3878.130.camel@linux.mamaloucos.com>
Message-ID: <3F2E935F.8000705@pobox.com>

mat wrote:

> Hi, 
> 
> Complete beginners questions here,
> 
> Any plans to, or anyone working on the ability to write in USGS ASCII
> DEM format ? 

Mat,

It has not been my intention to implement writing USGS ASCII DEM format.

> I,m trying to convert UK dem data in any of the formats available here:
> 
> http://www.landmap.ac.uk/download/dem2_user_cood_selector.htm

Lots of these are support for read and write by GDAL.

> into USGS ASCII DEM that I can import (3 ARC SEC) into the terrain
> modeller Terragear. 
> 
> http://www.terragear.org/docs/scenery-tutorial/fg-scenery-tutorial.html

Skimming the terragear page, it seems that DTED is supported.  GDAL
can write DTED, though it sometimes tricky since DTED products are
only normally produced in 1 degrees chunks at particular resolutions.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Mon Aug  4 13:55:23 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] OGR Main Page
Message-ID: <3F2E9E0B.3030504@pobox.com>

Folks,

My gdal.velocet.ca domain is likely to disappear in coming week or
months, though the system will continue to exist, and likely be available
by some other name.   Stuff that was previously referred to as
http://gdal.velocet.ca/ should now be referred to as
http://pobox.com/~warmerdam/root.  I will try to ensure that the pobox.com
redirection containues to work even with the gdal.velocet.ca domain disappears.

The OGR pages have always only been hosted on my home system even though the
GDAL page were hosted at remotesensing.org.  I have decided that this is not
really appropriate since OGR is widely used, and people get annoyed when the
OGR pages disappear just because my DSL link has gone down for one reason or
another.   So, in order to improve the professionalism of OGR I have migrated
the main page to remotesensing.org as well.  The cannonical url for OGR is
now:

   http://remotesensing.org/gdal/ogr

I have also moved the main OGR page into CVS and modified the web page
update scripts running on remotesensing.org to install these every night
when the GDAL pages are updated.

It is also my intention to mirror the GDAL and OGR pages on maptools.org
in the coming weeks, so that an alternative exists when remotesensing.org
is unavailable which seems to be surprisingly frequently.

Let me know if anyone encounters problems with the web pages.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent




From dron at ak4719.spb.edu  Mon Aug  4 15:49:04 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] improving gdal parallel build
In-Reply-To: <200308032322.34305.alexamici@tiscali.it>
References: <200308032322.34305.alexamici@tiscali.it>
Message-ID: <20030804194904.GA2083@ak4719.spb.edu>

On Sun, Aug 03, 2003 at 11:22:34PM +0200, Alessandro Amici wrote:
> i tweaked a couple of rules in the top level GNUmakefile in order to fix 
> parallel builds. 'make -j 200' on my home uni-processor now builds everything 
> ok. i will not be able to test on a real SMP machine for a while, thou.
> 
> is there anybody else interested in parallel builds?

Alessandro,

At least you have one user: it's me. Parallel builds saves ~20% time on
uniprocessor system and much more time on multi CPU one. I have access to
the dual Xeon system and have ~2x compilation speed up. It is real
improvement, thanks for your work!

Using -pipe option helps to save even more time (~5--15%, depending from
system type). Of course, this is only important for those, who need
recompile the whole library very often...


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From warmerdam at pobox.com  Mon Aug  4 16:19:00 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal.maptools.org
Message-ID: <3F2EBFB4.8050303@pobox.com>

Folks,

Daniel has helped me set up gdal.maptools.org which is now an official
mirror of the main GDAL and OGR pages:

  http://gdal.maptools.org/

and

  http://gdal.maptools.org/ogr/

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent




From alexamici at tiscali.it  Mon Aug  4 19:34:14 2003
From: alexamici at tiscali.it (Alessandro Amici)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] improving gdal parallel build
In-Reply-To: <20030804194904.GA2083@ak4719.spb.edu>
References: <200308032322.34305.alexamici@tiscali.it> <20030804194904.GA2083@ak4719.spb.edu>
Message-ID: <200308050134.14749.alexamici@tiscali.it>

Andrey,

On Monday 04 August 2003 21:49, Andrey Kiselev wrote:
> On Sun, Aug 03, 2003 at 11:22:34PM +0200, Alessandro Amici wrote:
> > i tweaked a couple of rules in the top level GNUmakefile in order to fix
> > parallel builds. 'make -j 200' on my home uni-processor now builds
> > everything ok. i will not be able to test on a real SMP machine for a
> > while, thou.
> >
> > is there anybody else interested in parallel builds?
>
> Alessandro,
>
> At least you have one user: it's me.

then it's an important user ;)

> Parallel builds saves ~20% time on
> uniprocessor system and much more time on multi CPU one. I have access to
> the dual Xeon system and have ~2x compilation speed up.

was it really 2x?
i hardly belive it. there are still a lot of serial $(MAKE) calls into frmts 
and ogrsf_frmts, from what i can see on my UP some more work is needed before 
acheeving real linear scalability.

> It is real improvement, thanks for your work!

you're welcome :)

> Using -pipe option helps to save even more time (~5--15%, depending from
> system type). Of course, this is only important for those, who need
> recompile the whole library very often...

BTW
~/devel/gdal$ grep -r '$(MAKE)' . | grep GNUmakefile | grep '\.\.'
./alg/GNUmakefile:      (cd ..; $(MAKE) docs)
./alg/GNUmakefile:      (cd .. ; $(MAKE) force-lib)
./ogr/ogrsf_frmts/sdts/GNUmakefile:     (cd ../../../frmts/iso8211; $(MAKE))
./ogr/ogrsf_frmts/sdts/GNUmakefile:     (cd ../../../frmts/sdts; $(MAKE))
./ogr/GNUmakefile:      (cd ..; $(MAKE) check-lib)
./apps/GNUmakefile:     (cd ../gcore ; $(MAKE) )
./apps/GNUmakefile:     (cd ../port ; $(MAKE) )
./gcore/GNUmakefile:    (cd ..; $(MAKE) docs)
./frmts/gdb/GNUmakefile:        (cd ..; $(MAKE))

each of these cross-dir make call is a potential race condition in parallel 
builds. furthermore, there are lots of cross-dir dependecies that might make 
the parallel build explode as well!

BEWARE! if something goes wrong you might get a make error or worse _a 
silently broken library_!!

so, use parallel builds with caution and report any anomaly.

cheers,
alessandro


From alexamici at tiscali.it  Mon Aug  4 21:24:23 2003
From: alexamici at tiscali.it (Alessandro Amici)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] improving gdal parallel build
In-Reply-To: <200308050134.14749.alexamici@tiscali.it>
References: <200308032322.34305.alexamici@tiscali.it> <20030804194904.GA2083@ak4719.spb.edu> <200308050134.14749.alexamici@tiscali.it>
Message-ID: <200308050324.23832.alexamici@tiscali.it>

Andrey,

> > Parallel builds saves ~20% time on
> > uniprocessor system and much more time on multi CPU one. I have access to
> > the dual Xeon system and have ~2x compilation speed up.
>
> was it really 2x?
> i hardly belive it. there are still a lot of serial $(MAKE) calls into
> frmts and ogrsf_frmts, from what i can see on my UP some more work is
> needed before acheeving real linear scalability.

i updated the frmts and ogr/ogrsf_frmts directories to permit parallel access 
to sub-directories under 'make -j'.

this resulted on a peak of 300+ concurrent processes during the build (!!) and 
a much better parallelization overall... you might get very close to 2x on a 
dual-processor now.

BTW, nothing should have changed in the normal serial build.

cheers,
alessandro


From dron at ak4719.spb.edu  Tue Aug  5 01:53:42 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] improving gdal parallel build
In-Reply-To: <200308050134.14749.alexamici@tiscali.it>
References: <200308032322.34305.alexamici@tiscali.it> <20030804194904.GA2083@ak4719.spb.edu> <200308050134.14749.alexamici@tiscali.it>
Message-ID: <20030805055342.GA2832@ak4719.spb.edu>

On Tue, Aug 05, 2003 at 01:34:14AM +0200, Alessandro Amici wrote:
> > Parallel builds saves ~20% time on
> > uniprocessor system and much more time on multi CPU one. I have access to
> > the dual Xeon system and have ~2x compilation speed up.
> 
> was it really 2x? i hardly belive it.

Yes. In fact it was even larger a bit. But I have made just a quick
test. There are may be a caching impact, NFS impact etc.

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From Brian.Mcdonald at ca.com  Tue Aug  5 19:07:29 2003
From: Brian.Mcdonald at ca.com (McDonald, Brian J)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] 32-bit DEMs
Message-ID: <039E46C3C030AE4E871CEEBC68680639028477F8@usilms24.ca.com>

Quick question - does GDAL import 32-bit floating point Lidar DEMs?

thx

brian

Brian McDonald
Multigen Paradigm, a Computer Associates company
Sen?r Software Engineer
Phone :+1 408 965-8584
Fax : +1 408 965-8501
brian.mcdonald@ca.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030805/272617b7/attachment.html
From warmerdam at pobox.com  Tue Aug  5 19:47:36 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] 32-bit DEMs
In-Reply-To: <039E46C3C030AE4E871CEEBC68680639028477F8@usilms24.ca.com>
References: <039E46C3C030AE4E871CEEBC68680639028477F8@usilms24.ca.com>
Message-ID: <3F304218.10904@pobox.com>

McDonald, Brian J wrote:
> Quick question - does GDAL import 32-bit floating point Lidar DEMs?

Brian,

What format are the Lidar DEMs in?  GDAL does not support any specific
Lidar formats.  It does support various general purpose DEM formats,
some of which (eg. GeoTIFF) support floating point.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From nhv at cape.com  Tue Aug  5 20:52:37 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Writing in USGS DEM Format ?
In-Reply-To: <3F2E935F.8000705@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAKEJOEEAA.nhv@cape.com>

Frank Warmerdam writes:
> 
> mat wrote:
> 
> > Hi, 
> > 
> > Complete beginners questions here,
> > 
> > Any plans to, or anyone working on the ability to write in USGS ASCII
> > DEM format ? 
> 
> Mat,
> 
> It has not been my intention to implement writing USGS ASCII DEM format.
> 
> > I,m trying to convert UK dem data in any of the formats available here:
> > 
> > http://www.landmap.ac.uk/download/dem2_user_cood_selector.htm
> 
> Lots of these are support for read and write by GDAL.
> 
> > into USGS ASCII DEM that I can import (3 ARC SEC) into the terrain
> > modeller Terragear. 
> > 
> > http://www.terragear.org/docs/scenery-tutorial/fg-scenery-tutorial.html
> 
> Skimming the terragear page, it seems that DTED is supported.  GDAL
> can write DTED, though it sometimes tricky since DTED products are
> only normally produced in 1 degrees chunks at particular resolutions.

Frank

If you can help steer Mat into how to get his data into 1 degree DTED chunks, 
I can tweak some existing TerraGear code that converts gtopo30 data into
USGS ASCII DEM format for the DTED format and contribute that back
into GDAL.   

I think gdalwarptest is what he wants to use but I don't have any experience with it

Cheers

Norman





  

From mpg at lizardtech.com  Wed Aug  6 12:40:42 2003
From: mpg at lizardtech.com (Michael P. Gerlek)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Answers on MrSID and GDAL
Message-ID: <B78A4DC4AD9EE14FB014E9444BD2D30E01CA6D@sea-srv-ms1.lizardtech.com>

A few days ago, someone asked about GDAL, MrSID DSDK, and the $500 fee...  Since GDAL now supports MrSID (thanks Andrey and Frank!), I thought I'd provide the official word on this:

We currently charge US$500 for access to the MrSID decode SDKs.  This gives developers access to our decode SDKs for MrSID and is intended to cover our administrative costs for licensing.  Due to our licensing arrangements with Los Alamos National Laboratory, we are required to have a license agreement in place for developers who wish to implement a MrSID solution...

However, we are currently working to simplify the agreement to reduce or eliminate the administrative overhead and we hope to provide the DSDK free of charge in the near future.  (This will not be an open source release, mind you -- just no charge for the DSDK libraries and headers.)

For what it's worth, the MrSID team relies on GDAL for some of our software and we appreciate everyone's contributions to GDAL.  Our movement towards a no-cost DSDK is driven in no small part because we want to be able to work inside open source environments like this.

[Finally, someone made a comment about MrSID having incompatible versions of the file format.  While there certainly have been bugs in past releases, we're unaware of any real incompatibility problems.  If you think you have found one, please let me know.  
We've always been committed to developers using our software, and we'll continue to make every effort to support developers and resolve issues as they are brought to our attention...]

-mpg

--------------------------
Michael P. Gerlek
Software Architect / MrSID
mpg@lizardtech.com
LizardTech Software, Inc.
Seattle, Washington

From dron at ak4719.spb.edu  Wed Aug  6 13:00:38 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Answers on MrSID and GDAL
In-Reply-To: <B78A4DC4AD9EE14FB014E9444BD2D30E01CA6D@sea-srv-ms1.lizardtech.com>
References: <B78A4DC4AD9EE14FB014E9444BD2D30E01CA6D@sea-srv-ms1.lizardtech.com>
Message-ID: <20030806170038.GA29878@ak4719.spb.edu>

On Wed, Aug 06, 2003 at 09:40:42AM -0700, Michael P. Gerlek wrote:
> [Finally, someone made a comment about MrSID having incompatible
> versions of the file format.  While there certainly have been bugs in
> past releases, we're unaware of any real incompatibility problems.  If
> you think you have found one, please let me know.

Michael,

The only thing I want to mention is absence of the Linux viewer for
MrSID 3.x files. The one available for download without charge works
with MrSID 1.x images only.

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From Martin.Daly at cadcorp.com  Thu Aug  7 09:51:01 2003
From: Martin.Daly at cadcorp.com (Martin Daly)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] GDAL with Kakadu, and Windows build environments in general
Message-ID: <DE8A435707FBA24392E5C67F58E294AA5A73@dev001_pdc.Dev.cadcorp.net>

All,

We recently paid our $$$$-s, and got Kakadu 4.0.2 for use with GDAL.  It
was not immediately obvious which parts of the Kakadu source tree were
required by GDAL, but, with some trial and error, I managed to generate
the list attached to this e-mail.  Hopefully the list will save any of
you who are considering using Kakadu with GDAL from going through the
same trial and error period.

Moving on to Windows build environments.  There has been some traffic on
this list recently on this very subject, so I thought I would share with
you the technique that we have ended up using, which may also be of use
to some of you.

Waybackwhen, I suggested to Frank wholesale changes to the makefiles to
make GDAL build the way I wanted.  Frank - quite rightly - said no.
After a couple of plainly useless schemes, I now keep the GDAL source
tree as-is, straight out of CVS, then checked in to Visual SourceSafe.
I have a very simple .BAT file that does a tree copy (XCOPY), with flags
that ensure that file times aren't modified - so that nmake doesn't
rebuild everything everytime.  The .BAT then copies over nmake.opt with
the one of my choice - my flags, my set of formats, etc. - and does an
nmake in the copied tree.  Apart from giving me the configurations that
I want, it also means that we can have "Debug" (/MDd for us) and
"Release" (both /MD and /MT) builds co-existing.  It also means that a
"clean" is simply a folder deletion, which is fast.

I have also used this technique with the Kakadu source.  So, using the
same XCOPY plus different nmake.opt-s, I am able to get the build
results I want.  My multiple GDAL nmake.opt-s now know about the
multiple build trees of Kakadu, and everyone is happy.  I would
definitely recommend this pattern when using the Microsoft tools.  It
just deals with all of the mixed compiler option problems that some of
you have been coming across recently.  It also solves the problem of
using the same name for both Debug and Release DLL-s, because they are
always in separate folders.

If any of you are interested in more details, then please get in touch.

Regards,
Martin Daly
Technical Director,
Cadcorp Ltd
-------------- next part --------------
analysis.cpp
analysis_local.h
blocks.cpp
block_coding_common.cpp
block_coding_common.h
block_decoder.cpp
block_encoder.cpp
cache_local.h
client_local.h
client_server.cpp
client_server_comms.cpp
client_server_comms.h
codestream.cpp
colour.cpp
compressed.cpp
compressed_local.h
decoder.cpp
encoder.cpp
jp2.cpp
jp2.h
jp2_local.h
jp2_shared.h
kdu_block_coding.h
kdu_cache.cpp
kdu_cache.h
kdu_client.cpp
kdu_client.h
kdu_client_window.h
kdu_compressed.h
kdu_elementary.h
kdu_file_io.h
kdu_image.h
kdu_kernels.h
kdu_messaging.h
kdu_params.h
kdu_roi_processing.h
kdu_sample_processing.h
kdu_utils.h
kernels.cpp
messaging.cpp
mq_decoder.cpp
mq_decoder.h
mq_encoder.cpp
mq_encoder.h
msvc_block_decode_asm.h
msvc_colour_mmx_local.h
msvc_dwt_mmx_local.h
palette.cpp
params.cpp
params_local.h
roi.cpp
roi_local.h
roi_sources.cpp
roi_sources.h
synthesis.cpp
synthesis_local.h
transform_local.h
From spbhasker at rediffmail.com  Fri Aug  8 02:10:20 2003
From: spbhasker at rediffmail.com (Bhasker)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] SDK required
Message-ID: <20030808061020.28819.qmail@webmail6.rediffmail.com>

We need the Gdal API . This is not available on the FTP Site
Could you provide us the Path to Download this One

Thanks
Bhasker


Luv u my friends..

Bachi
___________________________________________________
Download the hottest & happening ringtones here!
OR SMS: Top tone to 7333
Click here now: 
http://sms.rediff.com/cgi-bin/ringtone/ringhome.pl



From dron at ak4719.spb.edu  Fri Aug  8 02:47:54 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] SDK required
In-Reply-To: <20030808061020.28819.qmail@webmail6.rediffmail.com>
References: <20030808061020.28819.qmail@webmail6.rediffmail.com>
Message-ID: <20030808064754.GA4258@ak4719.spb.edu>

On Fri, Aug 08, 2003 at 06:10:20AM -0000, Bhasker wrote:
> We need the Gdal API . This is not available on the FTP Site
> Could you provide us the Path to Download this One

Bhasker,

The only thing, available at the GDAL FTP site is its API :-)

I'm recommend you reading API tutorial
(http://www.remotesensing.org/gdal/gdal_tutorial.html), data model
explanation (http://www.remotesensing.org/gdal/gdal_datamodel.html), API
reference (http://www.remotesensing.org/gdal/hierarchy.html) and,
finally, gdal.h file (http://www.remotesensing.org/gdal/gdal_h.html)
which is the main include file you should use in your applications.

Latest GDAL release is 1.1.9:

 ftp://ftp.remotesensing.org/pub/gdal/gdal-1.1.9.tar.gz

					Regards,
					Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From spoerri at duke.edu  Fri Aug  8 11:22:09 2003
From: spoerri at duke.edu (Christoph Spoerri)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] LIDAR to DEM
Message-ID: <200308081122.09052.spoerri@duke.edu>

Hi List,

I was wondering if it's possible to convert LIDAR images to DEMs with the GDAL 
library. If not, how difficult would it be to write some code that does this?

Thanks,
Christoph

From ben at vterrain.org  Fri Aug  8 11:33:40 2003
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] LIDAR to DEM
In-Reply-To: <200308081122.09052.spoerri@duke.edu>
Message-ID: <00df01c35dc2$71eb9910$f400fe0a@TOPP2>

Christoph,

It is better to describe what software system you will want to read the
LIDAR data into.  If you mean "USGS DEM", it is not a transfer format,
however there are other kinds of "DEM" that we can recommended based on
your exact needs.

-Ben

> -----Original Message-----
> From: Christoph Spoerri
> Sent: Friday, August 08, 2003 10:22 AM
> To: gdal-dev@remotesensing.org
> 
> Hi List,
> 
> I was wondering if it's possible to convert LIDAR images to 
> DEMs with the GDAL 
> library. If not, how difficult would it be to write some code 
> that does this?
> 
> Thanks,
> Christoph


From spoerri at duke.edu  Fri Aug  8 11:45:55 2003
From: spoerri at duke.edu (Christoph Spoerri)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] LIDAR to DEM
In-Reply-To: <00df01c35dc2$71eb9910$f400fe0a@TOPP2>
References: <00df01c35dc2$71eb9910$f400fe0a@TOPP2>
Message-ID: <200308081145.55335.spoerri@duke.edu>

Ben,

I'm not quite sure yet, since I'm just scoping out some possebilities for a 
potential project for a client. I know, they want to use the DEMs with the 
SWAT modeling software (I guess the ArcView version, since they don't know 
about GRASS).

Thanks,
Christoph

On Friday 08 August 2003 11:33 am, Ben Discoe wrote:
> Christoph,
>
> It is better to describe what software system you will want to read the
> LIDAR data into.  If you mean "USGS DEM", it is not a transfer format,
> however there are other kinds of "DEM" that we can recommended based on
> your exact needs.
>
> -Ben
>
> > -----Original Message-----
> > From: Christoph Spoerri
> > Sent: Friday, August 08, 2003 10:22 AM
> > To: gdal-dev@remotesensing.org
> >
> > Hi List,
> >
> > I was wondering if it's possible to convert LIDAR images to
> > DEMs with the GDAL
> > library. If not, how difficult would it be to write some code
> > that does this?
> >
> > Thanks,
> > Christoph
>
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


From kenboss at dilbert.dnr.state.mn.us  Fri Aug  8 12:50:00 2003
From: kenboss at dilbert.dnr.state.mn.us (kenboss)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] support for ERDAS pyramid layers
Message-ID: <200308081650.h78Go0H06824@bertha.dnr.state.mn.us>

I'm wondering whether support is eventually planned for ERDAS Imagine pyramid 
layers (.rrd files).  

The Supported Formats documentation states that "The current implementation 
ignores pyramid levels", implying that perhaps future implementations will 
support them?  

Later in the same document I find the line "Erdas Imagine supports external 
creation of overviews (with gdaladdo for instance)."  Does this mean to say that 
I can actually cause Imagine to read GDAL's .ovr files by some means?

--Ken Boss
  Minnesota DNR Forestry Resource Assessment


From warmerdam at pobox.com  Fri Aug  8 13:09:27 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] support for ERDAS pyramid layers
In-Reply-To: <200308081650.h78Go0H06824@bertha.dnr.state.mn.us>
References: <200308081650.h78Go0H06824@bertha.dnr.state.mn.us>
Message-ID: <3F33D947.8030605@pobox.com>

kenboss wrote:
> I'm wondering whether support is eventually planned for ERDAS Imagine pyramid 
> layers (.rrd files).  
> 
> The Supported Formats documentation states that "The current implementation 
> ignores pyramid levels", implying that perhaps future implementations will 
> support them?  
> 
> Later in the same document I find the line "Erdas Imagine supports external 
> creation of overviews (with gdaladdo for instance)."  Does this mean to say that 
> I can actually cause Imagine to read GDAL's .ovr files by some means?

Ken,

It would appear that the documentation is out of date.

The existing Imagine driver will try to read rrd layers associated with an
imagine file if it can.  If not, it will check for the normal GDAL .ovr
file and use that if available.

However, gdaladdo, the overview builder will only build external overviews
for imagine files at this time, not internal ones.  For use in mapserver
that should be fine, but it means that imagine uses won't get any benefit
of GDAL overviews.  There are no plans to support producing .rrd files
at this time, but if someone wanted it bad enough to fund it, I would
be happy to add it.

I have updated the frmt_hfa.html file a bit.



Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From jentzd at hotmail.com  Mon Aug  4 18:06:10 2003
From: jentzd at hotmail.com (dave jentz)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] OGR SHAPEFILES - MULTI ARC
Message-ID: <Law15-DAV29YS7vDa8v000149f9@hotmail.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: shape2ogr.cpp
Type: application/octet-stream
Size: 29700 bytes
Desc: not available
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030804/08ffbab4/shape2ogr.obj
From Stephen.Savage at asu.edu  Fri Aug  8 13:44:39 2003
From: Stephen.Savage at asu.edu (Stephen H. Savage)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal_merge.py question
Message-ID: <1060364679.3f33e1870eca7@webmail.asu.edu>

Greetings,

I've recently installed the curreent version of OpenEV.  I'm trying to execute 
the command "gdal_merge.py -n 0 -o out.tif in1.tif in2.tif" and I get an error 
message that reads "The application has failed because gdal11.dll was not 
found..."

What do I need to do to make sure gdal utilities see all the .dlls and the like?

Thanks,

-Steve

Stephen H. Savage, Ph.D.
Department of Anthropology
Box 872402
Arizona State University
Tempe, AZ  85287-2402

shsavage@asu.edu

http://archaeology.asu.edu/Jordan/index.html


From TMitchell at lignum.com  Fri Aug  8 14:29:36 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Windows binary w/ ECW write support?
In-Reply-To: <6DD7370C9452D31192A10008C75D07531A0A01DA@raptor.ynet.gov.yk.ca>
Message-ID: <OF6FAACB05.D4C2C027-ON88256D7C.00657339-88256D7C.00659659@lignum.com>





Does the standard windows GDAL version from the website not support this?
I haven't tried writing with it, but would really like to do this as well.

I'd love to hear how another fellow Canuck is using GDAL too :)

Tyler

Lignum Ltd - 180 Hodgson Road
Williams Lake, B.C. Canada

gdal-dev-admin@remotesensing.org wrote on 07/31/2003 01:03:03 PM:

> Hi,
>
> Does anybody have a windows binary (native win32 or cygwin) of the gdal
> utilities with ECW-write support enabled that I can download?
>
> Thanks in advance,
>
> -matt wilkie
> --------------------------------------------
> Geographic Information,
> Information Management and Technology,
> Yukon Department of Environment
> 10 Burns Road * Whitehorse, Yukon * Y1A 4Y9
> 867-667-8133 Tel * 867-393-7003 Fax
> --------------------------------------------
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


From gillian.walter at atlantis-scientific.com  Fri Aug  8 14:21:59 2003
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal_merge.py question
In-Reply-To: <1060364679.3f33e1870eca7@webmail.asu.edu>
References: <1060364679.3f33e1870eca7@webmail.asu.edu>
Message-ID: <3F33EA47.8080604@atlantis-scientific.com>

Hi,

You'll need to set some environment variables (PATH,PYTHONPATH, 
PYTHONHOME,OPENEVHOME).  If you look at openev.bat in openev's bin 
directory, you should see these settings.  I think gdal11.dll is in 
OpenEV's bin directory, so adding the full path of the bin directory to 
the PATH variable (and if that fails, to the PYTHONPATH variable) should 
hopefully fix things.

-Gillian

Stephen H. Savage wrote:

>Greetings,
>
>I've recently installed the curreent version of OpenEV.  I'm trying to execute 
>the command "gdal_merge.py -n 0 -o out.tif in1.tif in2.tif" and I get an error 
>message that reads "The application has failed because gdal11.dll was not 
>found..."
>
>What do I need to do to make sure gdal utilities see all the .dlls and the like?
>
>Thanks,
>
>-Steve
>
>Stephen H. Savage, Ph.D.
>Department of Anthropology
>Box 872402
>Arizona State University
>Tempe, AZ  85287-2402
>
>shsavage@asu.edu
>
>http://archaeology.asu.edu/Jordan/index.html
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev
>  
>



From tatel at euskalnet.net  Mon Aug 11 23:44:35 2003
From: tatel at euskalnet.net (Roman)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] problem with libpng12.so.0?
Message-ID: <3F3862A3.7010904@euskalnet.net>

Hi,

I cant't use r.in.gdal on grass5 on my Debian Woody. GRASS was installed 
from precompiled binaries. System complains about libgdal.1.1.so, but it 
*is* on the LD_LIBRARY_PATH (/usr/local/grass5/lib/)

ldd libgdal.1.1.so complains about libpng12.so.0 not found.

I have tried to link /usr/local/grass5/lib/libpng12.so.0 to 
/usr/lib/libpng.so.2.1.0.12 and /usr/lib/libpng.so.3.1.2.1 but I get 
segmentation faults in both cases. I can't find other libpng packages on 
Debian. It seems there is a change in sonames of png libraries and this 
would be probably the matter?

I am not programmer and I feel somewhat lost now

Any ideas?

Thanks in advance

Roman




From Stephen.Savage at asu.edu  Tue Aug 12 11:05:42 2003
From: Stephen.Savage at asu.edu (Stephen H. Savage)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal_merge.py question
In-Reply-To: <3F33EA47.8080604@atlantis-scientific.com>
References: <1060364679.3f33e1870eca7@webmail.asu.edu>
 <3F33EA47.8080604@atlantis-scientific.com>
Message-ID: <1060700742.3f39024669c8c@webmail.asu.edu>

Greetings,

   I'm still having difficulties getting gdal_merge to work.  I've installed 
the latest version of OpenEV.  After installing the OpenEV 1.6 software, the 
environment variables are set as follows:

set OPENEV_HOME=C:\PROGRA~1\Atlantis\OPENEV~1.60
set path=%OPENEV_HOME%\bin;%OPENEV_HOME%\python\Lib;%PATH%
set PYTHONHOME=%OPENEV_HOME%\python
set PYTHONPATH=%OPENEV_HOME%\pymod;%PYTHONHOME%\Numeric;%PYTHONHOME%\Lib

I tried to run this command from a DOS prompt

c:\Program Files\Atlantis\OpenEV 1.60pymod\gdal_merge.py -n 0 -o testout.tif 
c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tifpymod\gdal_merge.py -n 0 -o 
testout.tif c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tif
  
It reports this in the DOS window:

Traceback (most recent call last):
   File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 55, 
in ?
	import gdal
   File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 156, 
in ?
	import _gdal
ImportError: Module use of pyton21.dll conflicts with this version of Python.

I tried to register gdal11.dll by hand with RegSrvr.exe, but it couldn't do it.

Any suggestions?

Thanks,

-Steve

Quoting Gillian Walter <gillian.walter@atlantis-scientific.com>:

> Hi,
> 
> You'll need to set some environment variables (PATH,PYTHONPATH, 
> PYTHONHOME,OPENEVHOME).  If you look at openev.bat in openev's bin 
> directory, you should see these settings.  I think gdal11.dll is in 
> OpenEV's bin directory, so adding the full path of the bin directory to
> 
> the PATH variable (and if that fails, to the PYTHONPATH variable) should
> 
> hopefully fix things.
> 
> -Gillian
> 
> Stephen H. Savage wrote:
> 
> >Greetings,
> >
> >I've recently installed the curreent version of OpenEV.  I'm trying to
> execute 
> >the command "gdal_merge.py -n 0 -o out.tif in1.tif in2.tif" and I get
> an error 
> >message that reads "The application has failed because gdal11.dll was
> not 
> >found..."
> >
> >What do I need to do to make sure gdal utilities see all the .dlls and
> the like?
> >
> >Thanks,
> >
> >-Steve
> >
> >Stephen H. Savage, Ph.D.
> >Department of Anthropology
> >Box 872402
> >Arizona State University
> >Tempe, AZ  85287-2402
> >
> >shsavage@asu.edu
> >
> >http://archaeology.asu.edu/Jordan/index.html
> >
> >_______________________________________________
> >Gdal-dev mailing list
> >Gdal-dev@remotesensing.org
> >http://remotesensing.org/mailman/listinfo/gdal-dev
> >  
> >
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 



Stephen H. Savage, Ph.D.
Department of Anthropology
Box 872402
Arizona State University
Tempe, AZ  85287-2402

shsavage@asu.edu

http://archaeology.asu.edu/Jordan/index.html


From warmerdam at pobox.com  Tue Aug 12 12:42:14 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal_merge.py question
In-Reply-To: <1060700742.3f39024669c8c@webmail.asu.edu>
References: <1060364679.3f33e1870eca7@webmail.asu.edu> <3F33EA47.8080604@atlantis-scientific.com> <1060700742.3f39024669c8c@webmail.asu.edu>
Message-ID: <3F3918E6.4030000@pobox.com>

Stephen H. Savage wrote:

> Greetings,
> 
>    I'm still having difficulties getting gdal_merge to work.  I've installed 
> the latest version of OpenEV.  After installing the OpenEV 1.6 software, the 
> environment variables are set as follows:
> 
> set OPENEV_HOME=C:\PROGRA~1\Atlantis\OPENEV~1.60
> set path=%OPENEV_HOME%\bin;%OPENEV_HOME%\python\Lib;%PATH%
> set PYTHONHOME=%OPENEV_HOME%\python
> set PYTHONPATH=%OPENEV_HOME%\pymod;%PYTHONHOME%\Numeric;%PYTHONHOME%\Lib
> 
> I tried to run this command from a DOS prompt
> 
> c:\Program Files\Atlantis\OpenEV 1.60pymod\gdal_merge.py -n 0 -o testout.tif 
> c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tifpymod\gdal_merge.py -n 0 -o 
> testout.tif c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tif
>   
> It reports this in the DOS window:
> 
> Traceback (most recent call last):
>    File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 55, 
> in ?
> 	import gdal
>    File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 156, 
> in ?
> 	import _gdal
> ImportError: Module use of pyton21.dll conflicts with this version of Python.
> 
> I tried to register gdal11.dll by hand with RegSrvr.exe, but it couldn't do it.
> 
> Any suggestions?

Steve,

I have kind of lost the thread of this issue.  I would note that 1.60 is
not the most recent release of OpenEV, the OpenEV_FW 1.6.2 is though 1.60
is the most recent formal Atlantis release.   Are you using a GDAL you
built with the 1.6.0 OpenEV distribution?  It would appear that GDAL's
python bindings are compiled with a different version of python than the
one distributed with OpenEV.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From saddergoat at hotmail.com  Tue Aug 12 19:05:33 2003
From: saddergoat at hotmail.com (Bill Bob)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] how to specify GCP for gdalwarp
Message-ID: <Law12-F54lXuzfzuKes00028ef3@hotmail.com>

Hi,

I have read in the documentation of gdalwarp that I can specify GCPs.  What 
syntax do I use for this?
I have a JPEG which I wish to give GCPs and then reproject.

Thanks,

_________________________________________________________________
Help STOP SPAM with the new MSN 8 and get 2 months FREE*   
http://join.msn.com/?page=features/junkmail


From mathieu_gdal at yahoo.fr  Wed Aug 13 10:00:17 2003
From: mathieu_gdal at yahoo.fr (mathieu_gdal)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Tracing into GDAL
In-Reply-To: <Law12-F54lXuzfzuKes00028ef3@hotmail.com>
Message-ID: <000001c361a3$3b6600d0$3b00000a@informatiquemer.fr>

Hello everybody,

I am using GDAL with visual c++
I would like to trace into GDAL's functions.

I use the gdal_i.lib library, and (consequently) I dynamically use
gdal11.dll
I have put gdal11.pdb in my app's application.
In the nmake.opt file, I have uncommented the line :
	OPTFLAGS=	/nologo /Zi /Fd$(GDAL_ROOT)\gdal.pdb 
	In order to make a debug build
Gdal11.dll symbols are well loaded when I launch my app.

In spite of that, impossible to trace into any Gdal's function.
Any idea?

Thanks
Mathieu


From ben at vterrain.org  Wed Aug 13 10:45:31 2003
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Tracing into GDAL
In-Reply-To: <000001c361a3$3b6600d0$3b00000a@informatiquemer.fr>
Message-ID: <003201c361a9$8b91c7a0$f400fe0a@TOPP2>

Mathieu,

You don't need to "put gdal11.pdb in my app's application".  Leave all
files such as .pdb in their original locations (generally with the .lib)
so that they will be found.  You should be able to trace into GDAL
functions with MSVC; i do it all the time.

-Ben

> -----Original Message-----
> From: mathieu_gdal
> Subject: [Gdal-dev] Tracing into GDAL
> 
> Hello everybody,
> 
> I am using GDAL with visual c++
> I would like to trace into GDAL's functions.
> 
> I use the gdal_i.lib library, and (consequently) I dynamically use
> gdal11.dll
> I have put gdal11.pdb in my app's application.
> In the nmake.opt file, I have uncommented the line :
> 	OPTFLAGS=	/nologo /Zi /Fd$(GDAL_ROOT)\gdal.pdb 
> 	In order to make a debug build
> Gdal11.dll symbols are well loaded when I launch my app.
> 
> In spite of that, impossible to trace into any Gdal's function.
> Any idea?
> 
> Thanks
> Mathieu


From saddergoat at hotmail.com  Wed Aug 13 12:08:10 2003
From: saddergoat at hotmail.com (Bill Bob)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] re: How To Specify GCP for gdalwarp
Message-ID: <Law12-F15Kbm2v2hWmy0002bf6b@hotmail.com>

Hi,

I am still trying to figure out the syntax to do this in gdalwarp.  In my 
previous question I forgot to mention I was using the dos version of the 
utility.  What I am not clear on is where and how to specify the ground 
control points.  Do I do it with the -s_srs parameter or perhaps as a -co 
parameter?

I have searched the gdal website thoroughly, but can't seem to get the 
command line right.

Any help is most appreciated!

BB

_________________________________________________________________
MSN 8 with e-mail virus protection service: 2 months FREE*  
http://join.msn.com/?page=features/virus


From brapaport at sti-hawaii.com  Wed Aug 13 17:55:07 2003
From: brapaport at sti-hawaii.com (Bruce Rapaport)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] GDAL compling error HM415.lib<xdrposix.obj> : error LNK2001 : unresolved external symbol _ntoh1@4
Message-ID: <EE161571BBBAA146B454D4647DC1F4E701AC84CA@xchange.sti-hawaii.com>

Hi,
 
I am trying to compile GDAL with VC++ version 6 and got a
HM415.lib<xdrposix.obj> : 
error LNK2001 : unresolved external symbol _ntoh1@4. compling error.
 I have enabled HDF4 support in the nmake.opt file. I read Frank
Warmerdam's  
reply to Jim Julian when he had a similar problem
and I tried to include ws2_32.lib in the HDF4_LIB macro. Maybe I did
this wrong, but it
did not seem to help. Any ideas?
 
Thanks
 
Bruce
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030813/e9bdb608/attachment.html
From matt at terraEngine.com  Wed Aug 13 19:24:36 2003
From: matt at terraEngine.com (Matt Lynch)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] re: How To Specify GCP for gdalwarp
In-Reply-To: <Law12-F15Kbm2v2hWmy0002bf6b@hotmail.com>
Message-ID: <000001c361f2$0fe435e0$d701a8c0@matt>

Hi Bill,

Since the listserv seems so quiet, I will take a stab at it (disclaimer
- I'm still figuring this out).  My read of the comments on the gdalwarp
utility make me think that you need to have the GCP already assigned to
the image.  The GDAL API does have routines to add GCPs to an image.  

I took an initial stab at doing this for you, but ran into trouble with
the JPEG driver.  Perhaps you could convert to a tif before running?

The run is here:

C:\matt\gdal-cvs-030403\apps>addGCP a.jpg -120.6299 56.3091 1 1
-119.7047 56.145 9 500 1 -120.0005 55.6328 500 500 -120.9143 55.7944 1.0
500 -120.3118 55.9714 25 0 250 setting the following ground control
points for a.jpg:
gcp0    (-120.629900,56.309100) tied to (1.000000,1.000000).
gcp1    (-119.704700,56.145900) tied to (500.000000,1.000000).
gcp2    (-120.000500,55.632800) tied to (500.000000,500.000000).
gcp3    (-120.914300,55.794400) tied to (1.000000,500.000000).
gcp4    (-120.311800,55.971400) tied to (250.000000,250.000000).
ERROR 6: The JPEG driver does not support update access to existing
datasets.

C:\matt\gdal-cvs-030403\apps>addGCP a.tif -120.6299 56.3091 1 1
-119.7047 56.145
9 500 1 -120.0005 55.6328 500 500 -120.9143 55.7944 1.0 500 -120.3118
55.9714 25
0 250
setting the following ground control points for a.tif:
gcp0    (-120.629900,56.309100) tied to (1.000000,1.000000).
gcp1    (-119.704700,56.145900) tied to (500.000000,1.000000).
gcp2    (-120.000500,55.632800) tied to (500.000000,500.000000).
gcp3    (-120.914300,55.794400) tied to (1.000000,500.000000).
gcp4    (-120.311800,55.971400) tied to (250.000000,250.000000).
ERROR 1: Unable to compute a transformation between pixel/line
and georeferenced coordinates for a.tif.
There is no affine transformation and no GCPs.
ERROR 5: panSrcBands[0] = 3080592 ... out of range for dataset.

Hopefully Frank or others can correct me if I am wrong on gdalwarp.exe
adding GCPs, and maybe clean the code some.  
The code is also attached to make it easier for you to copy.

Best of luck,

Matt


#include <stdio.h>
#include <stdlib.h>
#include "gdalwarper.h"
#include "cpl_string.h"

int main(int argc, char *argv[])
{
	int i,j;
	char *pszSourceFileName = NULL;
	GDAL_GCP *gcps = NULL;
	GDALDatasetH hSrcDS,hDstDS;
	GDALWarpOptions *psWarpOptions;
	GDALWarpOperation oOperation;

	if( (argc > 2)&&(argc%4==2) )
	{
		// request memory to hold the GCPs
		gcps = (GDAL_GCP *) malloc(
((argc-2)/4)*sizeof(GDAL_GCP) );

		pszSourceFileName = argv[1];
		for( i=2,j=0 ; i<argc ; i+=4,j++ )
		{
 			gcps[j].dfGCPPixel = atof(argv[i]);
 			gcps[j].dfGCPLine  = atof(argv[i+1]);
 			gcps[j].dfGCPX = atof(argv[i+2]);
 			gcps[j].dfGCPY = atof(argv[i+3]);
 			gcps[j].pszId = (char *) malloc( 20*
sizeof(char) );
 			sprintf(gcps[j].pszId,"gcp%i",j);
		}
	}


	fprintf(stdout,"setting the following ground control points for
%s:\n",argv[1] );
	for(i=0 ; i<j ; i++)
	{
		fprintf(stdout,"%s\t(%lf,%lf) tied to
(%lf,%lf).\n",gcps[i].pszId,
	
gcps[i].dfGCPPixel,
	
gcps[i].dfGCPLine,
	
gcps[i].dfGCPX,
	
gcps[i].dfGCPY);
	}


	GDALAllRegister();

	hSrcDS = GDALOpen(pszSourceFileName,GA_Update);
	GDALSetGCPs (  hSrcDS, j, gcps, "+proj=latlong +datum=WGS84" ) ;
	hDstDS = GDALOpen("AB.tif",GA_Update);

	psWarpOptions = GDALCreateWarpOptions();
	psWarpOptions->hSrcDS = hSrcDS;
	psWarpOptions->hDstDS = hDstDS;
	psWarpOptions->nBandCount = 1;
	psWarpOptions->panSrcBands = (int *) CPLMalloc(
sizeof(int)*psWarpOptions->nBandCount );
	psWarpOptions->panDstBands = (int *) CPLMalloc(
sizeof(int)*psWarpOptions->nBandCount );
	psWarpOptions->panDstBands[0] = 1;
	psWarpOptions->pfnProgress = GDALTermProgress;
	psWarpOptions->pTransformerArg =
GDALCreateGenImgProjTransformer(
hSrcDS,GDALGetProjectionRef(hSrcDS),hDstDS,GDALGetProjectionRef(hDstDS),
FALSE,0.0,1);
	psWarpOptions->pfnTransformer = GDALGenImgProjTransform;

	oOperation.Initialize(psWarpOptions);
	
oOperation.ChunkAndWarpImage(0,0,GDALGetRasterXSize(hDstDS),GDALGetRaste
rYSize(hDstDS));

	
GDALDestroyGenImgProjTransformer(psWarpOptions->pTransformerArg);
	GDALDestroyWarpOptions( psWarpOptions );

	GDALClose( hDstDS );
	GDALClose( hSrcDS );

	return 0;
}



-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Bill Bob
Sent: Wednesday, August 13, 2003 10:08 AM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] re: How To Specify GCP for gdalwarp


Hi,

I am still trying to figure out the syntax to do this in gdalwarp.  In
my 
previous question I forgot to mention I was using the dos version of the

utility.  What I am not clear on is where and how to specify the ground 
control points.  Do I do it with the -s_srs parameter or perhaps as a
-co 
parameter?

I have searched the gdal website thoroughly, but can't seem to get the 
command line right.

Any help is most appreciated!

BB

_________________________________________________________________
MSN 8 with e-mail virus protection service: 2 months FREE*  
http://join.msn.com/?page=features/virus

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 
  
-------------- next part --------------
#include <stdio.h>
#include <stdlib.h>
#include "gdalwarper.h"
#include "cpl_string.h"

int main(int argc, char *argv[])
{
	int i,j;
	char *pszSourceFileName = NULL;
	GDAL_GCP *gcps = NULL;
	GDALDatasetH hSrcDS,hDstDS;
	GDALWarpOptions *psWarpOptions;
	GDALWarpOperation oOperation;

	if( (argc > 2)&&(argc%4==2) )
	{
		// request memory to hold the GCPs
		gcps = (GDAL_GCP *) malloc( ((argc-2)/4)*sizeof(GDAL_GCP) );

		pszSourceFileName = argv[1];
		for( i=2,j=0 ; i<argc ; i+=4,j++ )
		{
 			gcps[j].dfGCPPixel = atof(argv[i]);
 			gcps[j].dfGCPLine  = atof(argv[i+1]);
 			gcps[j].dfGCPX = atof(argv[i+2]);
 			gcps[j].dfGCPY = atof(argv[i+3]);
 			gcps[j].pszId = (char *) malloc( 20* sizeof(char) );
 			sprintf(gcps[j].pszId,"gcp%i",j);
		}
	}


	fprintf(stdout,"setting the following ground control points for %s:\n",argv[1] );
	for(i=0 ; i<j ; i++)
	{
		fprintf(stdout,"%s\t(%lf,%lf) tied to (%lf,%lf).\n",gcps[i].pszId,
		                                                      gcps[i].dfGCPPixel,
		                                                      gcps[i].dfGCPLine,
		                                                      gcps[i].dfGCPX,
		                                                      gcps[i].dfGCPY);
	}


	GDALAllRegister();

/*
CPLErr GDALSetGCPs (  GDALDatasetH hDS, int nGCPCount, const GDAL_GCP * pasGCPList, const char * pszGCPProjection ) ;
*/

	hSrcDS = GDALOpen(pszSourceFileName,GA_Update);
	GDALSetGCPs (  hSrcDS, j, gcps, "+proj=latlong +datum=WGS84" ) ;
	hDstDS = GDALOpen("AB.tif",GA_Update);

	psWarpOptions = GDALCreateWarpOptions();
	psWarpOptions->hSrcDS = hSrcDS;
	psWarpOptions->hDstDS = hDstDS;
	psWarpOptions->nBandCount = 1;
	psWarpOptions->panSrcBands = (int *) CPLMalloc( sizeof(int)*psWarpOptions->nBandCount );
	psWarpOptions->panDstBands = (int *) CPLMalloc( sizeof(int)*psWarpOptions->nBandCount );
	psWarpOptions->panDstBands[0] = 1;
	psWarpOptions->pfnProgress = GDALTermProgress;
	psWarpOptions->pTransformerArg = GDALCreateGenImgProjTransformer( hSrcDS,
																		  GDALGetProjectionRef(hSrcDS),
																		  hDstDS,
																		  GDALGetProjectionRef(hDstDS),
																		  FALSE,
																		  0.0,1);
	psWarpOptions->pfnTransformer = GDALGenImgProjTransform;

	oOperation.Initialize(psWarpOptions);
	oOperation.ChunkAndWarpImage(0,0,GDALGetRasterXSize(hDstDS),GDALGetRasterYSize(hDstDS));

	GDALDestroyGenImgProjTransformer(psWarpOptions->pTransformerArg);
	GDALDestroyWarpOptions( psWarpOptions );

	GDALClose( hDstDS );
	GDALClose( hSrcDS );


	return 0;
}
From mathieu_gdal at yahoo.fr  Thu Aug 14 11:12:49 2003
From: mathieu_gdal at yahoo.fr (mathieu_gdal)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Tracing into GDAL
In-Reply-To: <003201c361a9$8b91c7a0$f400fe0a@TOPP2>
Message-ID: <000201c36276$87e9b810$3b00000a@informatiquemer.fr>

Thank you for the answer, but...
it does not work on my computer!
Do you use gdal_i.lib or gdal.lib?

Mathieu

-----Message d'origine-----
De?: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] De la part de Ben Discoe
Envoy??: mercredi 13 ao?t 2003 16:46
??: gdal-dev@remotesensing.org
Objet?: RE: [Gdal-dev] Tracing into GDAL


Mathieu,

You don't need to "put gdal11.pdb in my app's application".  Leave all
files such as .pdb in their original locations (generally with the .lib)
so that they will be found.  You should be able to trace into GDAL
functions with MSVC; i do it all the time.

-Ben

> -----Original Message-----
> From: mathieu_gdal
> Subject: [Gdal-dev] Tracing into GDAL
> 
> Hello everybody,
> 
> I am using GDAL with visual c++
> I would like to trace into GDAL's functions.
> 
> I use the gdal_i.lib library, and (consequently) I dynamically use
> gdal11.dll
> I have put gdal11.pdb in my app's application.
> In the nmake.opt file, I have uncommented the line :
> 	OPTFLAGS=	/nologo /Zi /Fd$(GDAL_ROOT)\gdal.pdb 
> 	In order to make a debug build
> Gdal11.dll symbols are well loaded when I launch my app.
> 
> In spite of that, impossible to trace into any Gdal's function.
> Any idea?
> 
> Thanks
> Mathieu

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From ben at vterrain.org  Thu Aug 14 11:51:54 2003
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Tracing into GDAL
In-Reply-To: <000201c36276$87e9b810$3b00000a@informatiquemer.fr>
Message-ID: <006001c3627b$fcdd5910$f400fe0a@TOPP2>

gdal_i.lib definitely!  The static gdal library is huge, especially the
debug version.  gdal_i.lib/gdal11.dll, and the debug versions
gdal_id.lib/gdal11d.dll are quite compact, relatively speaking.  On my
machine, it's 20MB vs. 2MB/3MB.

-Ben

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org 
> [mailto:gdal-dev-admin@remotesensing.org] On Behalf Of mathieu_gdal
> Sent: Thursday, August 14, 2003 10:13 AM
> To: gdal-dev@remotesensing.org
> Subject: RE : [Gdal-dev] Tracing into GDAL
> 
> 
> Thank you for the answer, but...
> it does not work on my computer!
> Do you use gdal_i.lib or gdal.lib?
> 
> Mathieu
> 
> -----Message d'origine-----
> De?: gdal-dev-admin@remotesensing.org
> [mailto:gdal-dev-admin@remotesensing.org] De la part de Ben Discoe
> Envoy??: mercredi 13 ao?t 2003 16:46
> ??: gdal-dev@remotesensing.org
> Objet?: RE: [Gdal-dev] Tracing into GDAL
> 
> 
> Mathieu,
> 
> You don't need to "put gdal11.pdb in my app's application".  Leave all
> files such as .pdb in their original locations (generally 
> with the .lib)
> so that they will be found.  You should be able to trace into GDAL
> functions with MSVC; i do it all the time.
> 
> -Ben


From rogerjames99 at btinternet.com  Thu Aug 14 13:50:51 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Tracing into GDAL
In-Reply-To: <006001c3627b$fcdd5910$f400fe0a@TOPP2>
Message-ID: <000901c3628c$9a40d730$fe0aa8c0@lancaster.beardandsandals.co.uk>

You also need to make sure that you have the matching *.pdb file
accessible preferably in the same directory as the .dll.

Roger

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-
> admin@remotesensing.org] On Behalf Of Ben Discoe
> Sent: 14 August 2003 16:52
> To: gdal-dev@remotesensing.org
> Subject: RE: RE : [Gdal-dev] Tracing into GDAL
> 
> 
> gdal_i.lib definitely!  The static gdal library is huge, especially
the
> debug version.  gdal_i.lib/gdal11.dll, and the debug versions
> gdal_id.lib/gdal11d.dll are quite compact, relatively speaking.  On my
> machine, it's 20MB vs. 2MB/3MB.
> 
> -Ben
> 
> > -----Original Message-----
> > From: gdal-dev-admin@remotesensing.org
> > [mailto:gdal-dev-admin@remotesensing.org] On Behalf Of mathieu_gdal
> > Sent: Thursday, August 14, 2003 10:13 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE : [Gdal-dev] Tracing into GDAL
> >
> >
> > Thank you for the answer, but...
> > it does not work on my computer!
> > Do you use gdal_i.lib or gdal.lib?
> >
> > Mathieu
> >
> > -----Message d'origine-----
> > De?: gdal-dev-admin@remotesensing.org
> > [mailto:gdal-dev-admin@remotesensing.org] De la part de Ben Discoe
> > Envoy??: mercredi 13 ao?t 2003 16:46
> > ??: gdal-dev@remotesensing.org
> > Objet?: RE: [Gdal-dev] Tracing into GDAL
> >
> >
> > Mathieu,
> >
> > You don't need to "put gdal11.pdb in my app's application".  Leave
all
> > files such as .pdb in their original locations (generally
> > with the .lib)
> > so that they will be found.  You should be able to trace into GDAL
> > functions with MSVC; i do it all the time.
> >
> > -Ben
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev



From matt at terraEngine.com  Thu Aug 14 16:56:13 2003
From: matt at terraEngine.com (Matt Lynch)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] re: How To Specify GCP for gdalwarp
In-Reply-To: <000001c361f2$0fe435e0$d701a8c0@matt>
Message-ID: <000001c362a6$7fcb9f10$d701a8c0@matt>

I tried running the program on a tiff and I get the following errors:

C:\matt\gdal-cvs-030403\apps>addGCP a.tif -120.6299 56.3091 1 1
-119.7047 56.145
9 500 1 -120.0005 55.6328 500 500 -120.9143 55.7944 1 500 -120.3118
55.9714 250
250
setting the following ground control points for a.tif:
gcp0    (-120.629900,56.309100) tied to (1.000000,1.000000).
gcp1    (-119.704700,56.145900) tied to (500.000000,1.000000).
gcp2    (-120.000500,55.632800) tied to (500.000000,500.000000).
gcp3    (-120.914300,55.794400) tied to (1.000000,500.000000).
gcp4    (-120.311800,55.971400) tied to (250.000000,250.000000).
ERROR 1: Unable to compute a transformation between pixel/line
and georeferenced coordinates for a.tif.
There is no affine transformation and no GCPs.
ERROR 5: panSrcBands[0] = 3080592 ... out of range for dataset.


So I think that means I am not using the api for setting the ground
control points correctly?
Any hints?

Thanks,

Matt

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Matt Lynch
Sent: Wednesday, August 13, 2003 5:25 PM
To: gdal-dev@remotesensing.org
Subject: RE: [Gdal-dev] re: How To Specify GCP for gdalwarp


Hi Bill,

Since the listserv seems so quiet, I will take a stab at it (disclaimer
- I'm still figuring this out).  My read of the comments on the gdalwarp
utility make me think that you need to have the GCP already assigned to
the image.  The GDAL API does have routines to add GCPs to an image.  

I took an initial stab at doing this for you, but ran into trouble with
the JPEG driver.  Perhaps you could convert to a tif before running?

The run is here:

C:\matt\gdal-cvs-030403\apps>addGCP a.jpg -120.6299 56.3091 1 1
-119.7047 56.145 9 500 1 -120.0005 55.6328 500 500 -120.9143 55.7944 1.0
500 -120.3118 55.9714 25 0 250 setting the following ground control
points for a.jpg:
gcp0    (-120.629900,56.309100) tied to (1.000000,1.000000).
gcp1    (-119.704700,56.145900) tied to (500.000000,1.000000).
gcp2    (-120.000500,55.632800) tied to (500.000000,500.000000).
gcp3    (-120.914300,55.794400) tied to (1.000000,500.000000).
gcp4    (-120.311800,55.971400) tied to (250.000000,250.000000).
ERROR 6: The JPEG driver does not support update access to existing
datasets.

C:\matt\gdal-cvs-030403\apps>addGCP a.tif -120.6299 56.3091 1 1
-119.7047 56.145 9 500 1 -120.0005 55.6328 500 500 -120.9143 55.7944 1.0
500 -120.3118 55.9714 25 0 250 setting the following ground control
points for a.tif:
gcp0    (-120.629900,56.309100) tied to (1.000000,1.000000).
gcp1    (-119.704700,56.145900) tied to (500.000000,1.000000).
gcp2    (-120.000500,55.632800) tied to (500.000000,500.000000).
gcp3    (-120.914300,55.794400) tied to (1.000000,500.000000).
gcp4    (-120.311800,55.971400) tied to (250.000000,250.000000).
ERROR 1: Unable to compute a transformation between pixel/line and
georeferenced coordinates for a.tif. There is no affine transformation
and no GCPs. ERROR 5: panSrcBands[0] = 3080592 ... out of range for
dataset.

Hopefully Frank or others can correct me if I am wrong on gdalwarp.exe
adding GCPs, and maybe clean the code some.  
The code is also attached to make it easier for you to copy.

Best of luck,

Matt


#include <stdio.h>
#include <stdlib.h>
#include "gdalwarper.h"
#include "cpl_string.h"

int main(int argc, char *argv[])
{
	int i,j;
	char *pszSourceFileName = NULL;
	GDAL_GCP *gcps = NULL;
	GDALDatasetH hSrcDS,hDstDS;
	GDALWarpOptions *psWarpOptions;
	GDALWarpOperation oOperation;

	if( (argc > 2)&&(argc%4==2) )
	{
		// request memory to hold the GCPs
		gcps = (GDAL_GCP *) malloc(
((argc-2)/4)*sizeof(GDAL_GCP) );

		pszSourceFileName = argv[1];
		for( i=2,j=0 ; i<argc ; i+=4,j++ )
		{
 			gcps[j].dfGCPPixel = atof(argv[i]);
 			gcps[j].dfGCPLine  = atof(argv[i+1]);
 			gcps[j].dfGCPX = atof(argv[i+2]);
 			gcps[j].dfGCPY = atof(argv[i+3]);
 			gcps[j].pszId = (char *) malloc( 20*
sizeof(char) );
 			sprintf(gcps[j].pszId,"gcp%i",j);
		}
	}


	fprintf(stdout,"setting the following ground control points for
%s:\n",argv[1] );
	for(i=0 ; i<j ; i++)
	{
		fprintf(stdout,"%s\t(%lf,%lf) tied to
(%lf,%lf).\n",gcps[i].pszId,
	
gcps[i].dfGCPPixel,
	
gcps[i].dfGCPLine,
	
gcps[i].dfGCPX,
	
gcps[i].dfGCPY);
	}


	GDALAllRegister();

	hSrcDS = GDALOpen(pszSourceFileName,GA_Update);
	GDALSetGCPs (  hSrcDS, j, gcps, "+proj=latlong +datum=WGS84" ) ;
	hDstDS = GDALOpen("AB.tif",GA_Update);

	psWarpOptions = GDALCreateWarpOptions();
	psWarpOptions->hSrcDS = hSrcDS;
	psWarpOptions->hDstDS = hDstDS;
	psWarpOptions->nBandCount = 1;
	psWarpOptions->panSrcBands = (int *) CPLMalloc(
sizeof(int)*psWarpOptions->nBandCount );
	psWarpOptions->panDstBands = (int *) CPLMalloc(
sizeof(int)*psWarpOptions->nBandCount );
	psWarpOptions->panDstBands[0] = 1;
	psWarpOptions->pfnProgress = GDALTermProgress;
	psWarpOptions->pTransformerArg =
GDALCreateGenImgProjTransformer(
hSrcDS,GDALGetProjectionRef(hSrcDS),hDstDS,GDALGetProjectionRef(hDstDS),
FALSE,0.0,1);
	psWarpOptions->pfnTransformer = GDALGenImgProjTransform;

	oOperation.Initialize(psWarpOptions);
	
oOperation.ChunkAndWarpImage(0,0,GDALGetRasterXSize(hDstDS),GDALGetRaste
rYSize(hDstDS));

	
GDALDestroyGenImgProjTransformer(psWarpOptions->pTransformerArg);
	GDALDestroyWarpOptions( psWarpOptions );

	GDALClose( hDstDS );
	GDALClose( hSrcDS );

	return 0;
}



-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Bill Bob
Sent: Wednesday, August 13, 2003 10:08 AM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] re: How To Specify GCP for gdalwarp


Hi,

I am still trying to figure out the syntax to do this in gdalwarp.  In
my 
previous question I forgot to mention I was using the dos version of the

utility.  What I am not clear on is where and how to specify the ground 
control points.  Do I do it with the -s_srs parameter or perhaps as a
-co 
parameter?

I have searched the gdal website thoroughly, but can't seem to get the 
command line right.

Any help is most appreciated!

BB

_________________________________________________________________
MSN 8 with e-mail virus protection service: 2 months FREE*  
http://join.msn.com/?page=features/virus

_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 
  

---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 
  

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 



From mathieu_gdal at yahoo.fr  Mon Aug 18 03:38:54 2003
From: mathieu_gdal at yahoo.fr (mathieu_gdal)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Tracing into GDAL
In-Reply-To: <000901c3628c$9a40d730$fe0aa8c0@lancaster.beardandsandals.co.uk>
Message-ID: <000001c3655b$c81d7970$3b00000a@informatiquemer.fr>

I do so, without result.

Ben,
You talk about gdal_id.lib, gdal_11d.dll.
Bo such files are created with my makefile. How did you generate them?

Could you send your nmake.opt file? (mathieu_gdal@yahoo.fr)
I guess you have made changes in this file, at least to OPTFLAGS

Thanks!
Mathieu

-----Message d'origine-----
De?: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] De la part de Roger James
Envoy??: jeudi 14 ao?t 2003 19:51
??: gdal-dev@remotesensing.org
Objet?: RE: RE : [Gdal-dev] Tracing into GDAL

You also need to make sure that you have the matching *.pdb file
accessible preferably in the same directory as the .dll.

Roger

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-
> admin@remotesensing.org] On Behalf Of Ben Discoe
> Sent: 14 August 2003 16:52
> To: gdal-dev@remotesensing.org
> Subject: RE: RE : [Gdal-dev] Tracing into GDAL
> 
> 
> gdal_i.lib definitely!  The static gdal library is huge, especially
the
> debug version.  gdal_i.lib/gdal11.dll, and the debug versions
> gdal_id.lib/gdal11d.dll are quite compact, relatively speaking.  On my
> machine, it's 20MB vs. 2MB/3MB.
> 
> -Ben
> 
> > -----Original Message-----
> > From: gdal-dev-admin@remotesensing.org
> > [mailto:gdal-dev-admin@remotesensing.org] On Behalf Of mathieu_gdal
> > Sent: Thursday, August 14, 2003 10:13 AM
> > To: gdal-dev@remotesensing.org
> > Subject: RE : [Gdal-dev] Tracing into GDAL
> >
> >
> > Thank you for the answer, but...
> > it does not work on my computer!
> > Do you use gdal_i.lib or gdal.lib?
> >
> > Mathieu
> >
> > -----Message d'origine-----
> > De?: gdal-dev-admin@remotesensing.org
> > [mailto:gdal-dev-admin@remotesensing.org] De la part de Ben Discoe
> > Envoy??: mercredi 13 ao?t 2003 16:46
> > ??: gdal-dev@remotesensing.org
> > Objet?: RE: [Gdal-dev] Tracing into GDAL
> >
> >
> > Mathieu,
> >
> > You don't need to "put gdal11.pdb in my app's application".  Leave
all
> > files such as .pdb in their original locations (generally
> > with the .lib)
> > so that they will be found.  You should be able to trace into GDAL
> > functions with MSVC; i do it all the time.
> >
> > -Ben
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From kamal_jo at yahoo.com  Mon Aug 18 09:30:36 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] DIG35 support
In-Reply-To: <6DD7370C9452D31192A10008C75D07531A0A01DA@raptor.ynet.gov.yk.ca>
Message-ID: <20030818133036.55428.qmail@web41105.mail.yahoo.com>

Hello,
Does GDAL support DIG35 metadata or is there any
intent of supporting it in the near future?

Here is a link for DIG35
http://www.i3a.org/i_dig35.html


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From warmerdam at pobox.com  Mon Aug 18 10:09:29 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] DIG35 support
In-Reply-To: <20030818133036.55428.qmail@web41105.mail.yahoo.com>
References: <20030818133036.55428.qmail@web41105.mail.yahoo.com>
Message-ID: <3F40DE19.4030206@pobox.com>

Ayman Kamal wrote:
> Hello,
> Does GDAL support DIG35 metadata or is there any
> intent of supporting it in the near future?
> 
> Here is a link for DIG35
> http://www.i3a.org/i_dig35.html


Ayman,

GDAL does not have any specific support for DIG35 metadata, which I hadn't
heard of before your email.  Skimming the document I see it is an XML based
format that can be stored in a variety of image file formats.

This could be passed through the GDAL metadata API in a couple of different
ways.  One is to flatten out each DIG35 metadata item into a seperate metadata
item in GDAL.  The other is to treat the whole DIG35 XML document as a single
metadata item.

I am not really planning on adding this for any of the formats in question,
but it shouldn't be all that different if needed.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From kamal_jo at yahoo.com  Mon Aug 18 10:36:33 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] DIG35 support
In-Reply-To: <3F40DE19.4030206@pobox.com>
Message-ID: <20030818143633.31519.qmail@web41113.mail.yahoo.com>

Thank you very much Frank for your fast and clear
respond.

Do you mean that I can (using GDAL metadata API) read
and write the DIG35 meta data?

I checked
http://www.remotesensing.org/gdal/class_GDALDataset.html
but I couldn't find functions for metadata, can you
tell me what functions do I need.

--- Frank Warmerdam <warmerdam@pobox.com> wrote:
> Ayman Kamal wrote:
> > Hello,
> > Does GDAL support DIG35 metadata or is there any
> > intent of supporting it in the near future?
> > 
> > Here is a link for DIG35
> > http://www.i3a.org/i_dig35.html
> 
> 
> Ayman,
> 
> GDAL does not have any specific support for DIG35
> metadata, which I hadn't
> heard of before your email.  Skimming the document I
> see it is an XML based
> format that can be stored in a variety of image file
> formats.
> 
> This could be passed through the GDAL metadata API
> in a couple of different
> ways.  One is to flatten out each DIG35 metadata
> item into a seperate metadata
> item in GDAL.  The other is to treat the whole DIG35
> XML document as a single
> metadata item.
> 
> I am not really planning on adding this for any of
> the formats in question,
> but it shouldn't be all that different if needed.
> 
> Best regards,
> 
> -- 
>
---------------------------------------+--------------------------------------
> I set the clouds in motion - turn up   | Frank
> Warmerdam, warmerdam@pobox.com
> light and sound - activate the windows |
> http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial
> Programmer for Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From kamal_jo at yahoo.com  Mon Aug 18 10:50:00 2003
From: kamal_jo at yahoo.com (Ayman Kamal)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] DIG35 support
In-Reply-To: <20030818143633.31519.qmail@web41113.mail.yahoo.com>
Message-ID: <20030818145000.24282.qmail@web41101.mail.yahoo.com>

I guess the needed functions are:
char CPL_DLL  **GDALGetMetadata( GDALMajorObjectH,
const char * );
CPLErr CPL_DLL  GDALSetMetadata( GDALMajorObjectH,
char **,
                                 const char * );
const char CPL_DLL *GDALGetMetadataItem(
GDALMajorObjectH, const char *, 
                                         const char *
);
CPLErr CPL_DLL  GDALSetMetadataItem( GDALMajorObjectH,
                                     const char *,
const char *,
                                     const char * );

Can you plz give me a hint or a small example how can
I use the necessary function(s) to read the DIG35
metadata?

> --- Frank Warmerdam <warmerdam@pobox.com> wrote:
> > Ayman Kamal wrote:
> > > Hello,
> > > Does GDAL support DIG35 metadata or is there any
> > > intent of supporting it in the near future?
> > > 
> > > Here is a link for DIG35
> > > http://www.i3a.org/i_dig35.html
> > 
> > 
> > Ayman,
> > 
> > GDAL does not have any specific support for DIG35
> > metadata, which I hadn't
> > heard of before your email.  Skimming the document
> I
> > see it is an XML based
> > format that can be stored in a variety of image
> file
> > formats.
> > 
> > This could be passed through the GDAL metadata API
> > in a couple of different
> > ways.  One is to flatten out each DIG35 metadata
> > item into a seperate metadata
> > item in GDAL.  The other is to treat the whole
> DIG35
> > XML document as a single
> > metadata item.
> > 
> > I am not really planning on adding this for any of
> > the formats in question,
> > but it shouldn't be all that different if needed.
> > 
> > Best regards,
> > 
> > -- 
> >
>
---------------------------------------+--------------------------------------
> > I set the clouds in motion - turn up   | Frank
> > Warmerdam, warmerdam@pobox.com
> > light and sound - activate the windows |
> > http://pobox.com/~warmerdam
> > and watch the world go round - Rush    |
> Geospatial
> > Programmer for Rent
> > 
> > 
> > _______________________________________________
> > Gdal-dev mailing list
> > Gdal-dev@remotesensing.org
> > http://remotesensing.org/mailman/listinfo/gdal-dev
> 
> 
> __________________________________
> Do you Yahoo!?
> Yahoo! SiteBuilder - Free, easy-to-use web site
> design software
> http://sitebuilder.yahoo.com
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From warmerdam at pobox.com  Mon Aug 18 11:34:46 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] DIG35 support
In-Reply-To: <20030818145000.24282.qmail@web41101.mail.yahoo.com>
References: <20030818145000.24282.qmail@web41101.mail.yahoo.com>
Message-ID: <3F40F216.2020507@pobox.com>

Ayman Kamal wrote:
> I guess the needed functions are:
> char CPL_DLL  **GDALGetMetadata( GDALMajorObjectH,
> const char * );
> CPLErr CPL_DLL  GDALSetMetadata( GDALMajorObjectH,
> char **,
>                                  const char * );
> const char CPL_DLL *GDALGetMetadataItem(
> GDALMajorObjectH, const char *, 
>                                          const char *
> );
> CPLErr CPL_DLL  GDALSetMetadataItem( GDALMajorObjectH,
>                                      const char *,
> const char *,
>                                      const char * );
> 
> Can you plz give me a hint or a small example how can
> I use the necessary function(s) to read the DIG35
> metadata?

Ayman,

Currently none of the underlying file format drivers support the DIG35
metadata, so calling one of the above from your application won't really
help.  How badly do you want DIG35?  For what image file format(s)?  If you
were to supply a TIFF file with DIG35 metadata I would be willing to take
a quick crack at supporting it in GDAL.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From Stephen.Savage at asu.edu  Mon Aug 18 10:18:49 2003
From: Stephen.Savage at asu.edu (Stephen H. Savage)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal_merge.py question
Message-ID: <1061216329.3f40e049050da@webmail.asu.edu>

Greetings,

   I'm still having difficulties getting gdal_merge to work.  I've installed 
the latest version of OpenEV.  After installing the OpenEV 1.6 software, the 
environment variables are set as follows:

set OPENEV_HOME=C:\PROGRA~1\Atlantis\OPENEV~1.60
set path=%OPENEV_HOME%\bin;%OPENEV_HOME%\python\Lib;%PATH%
set PYTHONHOME=%OPENEV_HOME%\python
set PYTHONPATH=%OPENEV_HOME%\pymod;%PYTHONHOME%\Numeric;%PYTHONHOME%\Lib

I tried to run this command from a DOS prompt

c:\Program Files\Atlantis\OpenEV 1.60pymod\gdal_merge.py -n 0 -o testout.tif 
c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tifpymod\gdal_merge.py -n 0 -o 
testout.tif c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tif
  
It reports this in the DOS window:

Traceback (most recent call last):
   File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 55, 
in ?
	import gdal
   File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 156, 
in ?
	import _gdal
ImportError: Module use of pyton21.dll conflicts with this version of Python.

I tried to register gdal11.dll by hand with RegSrvr.exe, but it couldn't do it.

Any suggestions?

Thanks,

-Steve

Quoting Gillian Walter <gillian.walter@atlantis-scientific.com>:

> Hi,
> 
> You'll need to set some environment variables (PATH,PYTHONPATH, 
> PYTHONHOME,OPENEVHOME).  If you look at openev.bat in openev's bin 
> directory, you should see these settings.  I think gdal11.dll is in 
> OpenEV's bin directory, so adding the full path of the bin directory to
> 
> the PATH variable (and if that fails, to the PYTHONPATH variable) should
> 
> hopefully fix things.
> 
> -Gillian
> 
> Stephen H. Savage wrote:
> 
> >Greetings,
> >
> >I've recently installed the curreent version of OpenEV.  I'm trying to
> execute 
> >the command "gdal_merge.py -n 0 -o out.tif in1.tif in2.tif" and I get
> an error 
> >message that reads "The application has failed because gdal11.dll was
> not 
> >found..."
> >
> >What do I need to do to make sure gdal utilities see all the .dlls and
> the like?
> >
> >Thanks,
> >
> >-Steve
> >
> >Stephen H. Savage, Ph.D.
> >Department of Anthropology
> >Box 872402
> >Arizona State University
> >Tempe, AZ  85287-2402
> >
> >shsavage@asu.edu
> >
> >http://archaeology.asu.edu/Jordan/index.html
> >
> >_______________________________________________
> >Gdal-dev mailing list
> >Gdal-dev@remotesensing.org
> >http://remotesensing.org/mailman/listinfo/gdal-dev
> >  
> >
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev
> 



Stephen H. Savage, Ph.D.
Department of Anthropology
Box 872402
Arizona State University
Tempe, AZ  85287-2402

shsavage@asu.edu

http://archaeology.asu.edu/Jordan/index.html

----- End forwarded message -----



Stephen H. Savage, Ph.D.
Department of Anthropology
Box 872402
Arizona State University
Tempe, AZ  85287-2402

shsavage@asu.edu

http://archaeology.asu.edu/Jordan/index.html


From gillian.walter at atlantis-scientific.com  Mon Aug 18 12:38:06 2003
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] gdal_merge.py question
In-Reply-To: <1061216329.3f40e049050da@webmail.asu.edu>
References: <1061216329.3f40e049050da@webmail.asu.edu>
Message-ID: <3F4100EE.6090903@atlantis-scientific.com>

Do you have another version of python installed on your system?  If you 
do, windows might be trying to use that version rather than OpenEV's.  I 
seem to recall having a problem like that before on windows, but I think 
I just ended up uninstalling the other version.  If the presence of 
another version of python is what is causing the problem, the only thing 
I can think of to try other than uninstalling the other version of 
python is to make sure that openev's python21.dll is copied into 
OpenEV/bin and OpenEV/pymod in case windows will look in the current 
directory before system directories for library files.  You could also 
try downloading a version of OpenEV that uses a version of python 
consistent with yours.  I think Frank's latest build (OpenEV_FW_162.zip) 
uses python 2.2.something.  You can find these builds at 
ftp://ftp.remotesensing.org/gdal/openev/.

Gillian

Stephen H. Savage wrote:

>Greetings,
>
>   I'm still having difficulties getting gdal_merge to work.  I've installed 
>the latest version of OpenEV.  After installing the OpenEV 1.6 software, the 
>environment variables are set as follows:
>
>set OPENEV_HOME=C:\PROGRA~1\Atlantis\OPENEV~1.60
>set path=%OPENEV_HOME%\bin;%OPENEV_HOME%\python\Lib;%PATH%
>set PYTHONHOME=%OPENEV_HOME%\python
>set PYTHONPATH=%OPENEV_HOME%\pymod;%PYTHONHOME%\Numeric;%PYTHONHOME%\Lib
>
>I tried to run this command from a DOS prompt
>
>c:\Program Files\Atlantis\OpenEV 1.60pymod\gdal_merge.py -n 0 -o testout.tif 
>c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tifpymod\gdal_merge.py -n 0 -o 
>testout.tif c:\ImageFix\34e29n_36.tif c:\ImageFix\34e30n_36.tif
>  
>It reports this in the DOS window:
>
>Traceback (most recent call last):
>   File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 55, 
>in ?
>	import gdal
>   File "C:Program Files\Atlantis\OpenEV 1.60\pymod\gdal_merge.py", line 156, 
>in ?
>	import _gdal
>ImportError: Module use of pyton21.dll conflicts with this version of Python.
>
>I tried to register gdal11.dll by hand with RegSrvr.exe, but it couldn't do it.
>
>Any suggestions?
>
>Thanks,
>
>-Steve
>
>Quoting Gillian Walter <gillian.walter@atlantis-scientific.com>:
>
>  
>
>>Hi,
>>
>>You'll need to set some environment variables (PATH,PYTHONPATH, 
>>PYTHONHOME,OPENEVHOME).  If you look at openev.bat in openev's bin 
>>directory, you should see these settings.  I think gdal11.dll is in 
>>OpenEV's bin directory, so adding the full path of the bin directory to
>>
>>the PATH variable (and if that fails, to the PYTHONPATH variable) should
>>
>>hopefully fix things.
>>
>>-Gillian
>>
>>Stephen H. Savage wrote:
>>
>>    
>>
>>>Greetings,
>>>
>>>I've recently installed the curreent version of OpenEV.  I'm trying to
>>>      
>>>
>>execute 
>>    
>>
>>>the command "gdal_merge.py -n 0 -o out.tif in1.tif in2.tif" and I get
>>>      
>>>
>>an error 
>>    
>>
>>>message that reads "The application has failed because gdal11.dll was
>>>      
>>>
>>not 
>>    
>>
>>>found..."
>>>
>>>What do I need to do to make sure gdal utilities see all the .dlls and
>>>      
>>>
>>the like?
>>    
>>
>>>Thanks,
>>>
>>>-Steve
>>>
>>>Stephen H. Savage, Ph.D.
>>>Department of Anthropology
>>>Box 872402
>>>Arizona State University
>>>Tempe, AZ  85287-2402
>>>
>>>shsavage@asu.edu
>>>
>>>http://archaeology.asu.edu/Jordan/index.html
>>>
>>>_______________________________________________
>>>Gdal-dev mailing list
>>>Gdal-dev@remotesensing.org
>>>http://remotesensing.org/mailman/listinfo/gdal-dev
>>> 
>>>
>>>      
>>>
>>_______________________________________________
>>Gdal-dev mailing list
>>Gdal-dev@remotesensing.org
>>http://remotesensing.org/mailman/listinfo/gdal-dev
>>
>>    
>>
>
>
>
>Stephen H. Savage, Ph.D.
>Department of Anthropology
>Box 872402
>Arizona State University
>Tempe, AZ  85287-2402
>
>shsavage@asu.edu
>
>http://archaeology.asu.edu/Jordan/index.html
>
>----- End forwarded message -----
>
>
>
>Stephen H. Savage, Ph.D.
>Department of Anthropology
>Box 872402
>Arizona State University
>Tempe, AZ  85287-2402
>
>shsavage@asu.edu
>
>http://archaeology.asu.edu/Jordan/index.html
>
>_______________________________________________
>Gdal-dev mailing list
>Gdal-dev@remotesensing.org
>http://remotesensing.org/mailman/listinfo/gdal-dev
>  
>



From jeff at terraengine.com  Mon Aug 18 14:18:18 2003
From: jeff at terraengine.com (Jeff Jacober)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Help with reprojection of a quicklook...
Message-ID: <200308181817.h7IIHjO10269@yoda.imagelinks.com>

Hello.

I have an 8 bit JPEG image that I am trying to reproject.

The image is a quicklook (basically a thumbnail) of a raw Spot scene.

I have control point data for the image which basically consists of 5 
pixel locations and the corresponding Lat/Lon coords (the 4 corners and 
the center pixel). This data is contained in a separate text file.

I see that this type of thing can be done using something like:

% gdalwarp -t_srs '+proj=utm +zone=11 +datum=WGS84' raw_spot.tif utm11.tif

however, this assumes the control point information is contained in the 
source file.  In my case, I have a jpeg source file with no control 
information contained therein.

Can anyone give me some advice on how I can accomplish this. Perhaps 
convert my jpeg to a geoTiff first and somehow add the control point info?

Thanks in advance for any help.


Jeff J



From warmerdam at pobox.com  Mon Aug 18 14:31:02 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Help with reprojection of a quicklook...
In-Reply-To: <200308181817.h7IIHjO10269@yoda.imagelinks.com>
References: <200308181817.h7IIHjO10269@yoda.imagelinks.com>
Message-ID: <3F411B66.2040002@pobox.com>

Jeff Jacober wrote:
> Hello.
> 
> I have an 8 bit JPEG image that I am trying to reproject.
> 
> The image is a quicklook (basically a thumbnail) of a raw Spot scene.
> 
> I have control point data for the image which basically consists of 5 
> pixel locations and the corresponding Lat/Lon coords (the 4 corners and 
> the center pixel). This data is contained in a separate text file.
> 
> I see that this type of thing can be done using something like:
> 
> % gdalwarp -t_srs '+proj=utm +zone=11 +datum=WGS84' raw_spot.tif utm11.tif
> 
> however, this assumes the control point information is contained in the 
> source file.  In my case, I have a jpeg source file with no control 
> information contained therein.
> 
> Can anyone give me some advice on how I can accomplish this. Perhaps 
> convert my jpeg to a geoTiff first and somehow add the control point info?
> 
> Thanks in advance for any help.

Jeff,

I really meant to address this during the previous discussion of how to
associate GCPs with an image, but somehow never got to it.

My suggestion is to create a virtual file referring to your source file,
and add the GCPs in that virtual file.

This is an example of a simple VRT file that refers to a TIFF file (but
it could be a JPEG file too) and associates some GCPs with it:

<VRTDataset rasterXSize="380" rasterYSize="765">
   <GCPList>
     <GCP Id="1" Pixel="0.0000" Line="0.0000" X="9.233000000000E+01" Y="-9.522750000000E+01"/>
     <GCP Id="2" Pixel="380.0000" Line="0.0000" X="1.716000000000E+01" Y="9.069475000000E+02"/>
     <GCP Id="3" Pixel="0.0000" Line="765.0000" X="1.077140000000E+03" Y="7.841750000000E+01"/>
     <GCP Id="4" Pixel="380.0000" Line="765.0000" X="1.001970000000E+03" Y="1.080592500000E+03"/>
   </GCPList>
   <VRTRasterBand dataType="Byte" band="1">
     <ColorInterp>Gray</ColorInterp>
     <SimpleSource>
       <SourceFilename>tp_image2.tif</SourceFilename>
       <SourceBand>1</SourceBand>
       <SrcRect xOff="0" yOff="0" xSize="380" ySize="765"/>
       <DstRect xOff="0" yOff="0" xSize="380" ySize="765"/>
     </SimpleSource>
   </VRTRasterBand>
</VRTDataset>

You can use the gdal_translate -of VRT wrk.jpg wrk.vrt to create a .vrt file
referring tot he a given .jpg file, then "edit in" the <GCPList> element and
children either by hand with a text editor or with some sort of script.
Then you can use the .vrt file as the input to gdalwarp (or gdalwarptest).

I hope this helps.  As was suggested previously you can also, in theory, set
GCPs on an existing image using the SetGCPs() API entry point, but very few
formats support doing that on an existing file.  Perhaps VRT format is one
of the few that would support that.

If there is sufficient interest, I might write an addgcp.py script that would
add GCPs to an image (by creating a virtual image) from the commandline.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From nhv at cape.com  Mon Aug 18 14:44:38 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Help with reprojection of a quicklook...
In-Reply-To: <3F411B66.2040002@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAEELKEGAA.nhv@cape.com>

Frank Warmerdam writes:
> 
> If there is sufficient interest, I might write an addgcp.py script that would
> add GCPs to an image (by creating a virtual image) from the commandline.

That would be *very* handy,  as things are 
I find  reprojecting with GDAL cumbersome

Cheers

Norman

From jeff at terraengine.com  Mon Aug 18 17:12:51 2003
From: jeff at terraengine.com (Jeff Jacober)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Help with reprojection of a quicklook...
In-Reply-To: <3F411B66.2040002@pobox.com>
Message-ID: <200308182112.h7ILCgO14618@yoda.imagelinks.com>

Thanks a bunch for the VRT info Frank.

I think I am very close now, but still not quite there.

First, a quick gdalinfo on my .jpg file produces this:

Driver: JPEG/JPEG JFIF
Size is 500, 500
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0,  500.0)
Upper Right (  500.0,    0.0)
Lower Right (  500.0,  500.0)
Center      (  250.0,  250.0)
Band 1 Block=500x1 Type=Byte, ColorInterp=Red
Band 2 Block=500x1 Type=Byte, ColorInterp=Green
Band 3 Block=500x1 Type=Byte, ColorInterp=Blue


I then used:

gdal_translate -of VRT wrk.jpg wrk.vrt

to make my .vrt file.  I then edited this file and added my GCP info. The 
result looks like:

<VRTDataset rasterXSize="500" rasterYSize="500">
  <GCPList>
    <GCP Id="1" Pixel="1.0000" Line="1.0000" X="-1.158517000000E+002" 
Y="5.543430000000E+001"/>
    <GCP Id="2" Pixel="500.0000" Line="1.0000" X="-1.147091000000E+002" 
Y="5.515110000000E+001"/>
    <GCP Id="3" Pixel="500.0000" Line="500.0000" X="-1.150872000000E+002" 
Y="5.465420000000E+001"/>
    <GCP Id="4" Pixel="1.0000" Line="500.0000" X="-1.162180000000E+002" 
Y="5.493420000000E+001"/>
    <GCP Id="5" Pixel="250.0000" Line="250.0000" X="-1.154786000000E+002" 
Y="5.504810000000E+001"/>
  </GCPList>
  <VRTRasterBand dataType="Byte" band="1">
    <ColorInterp>Red</ColorInterp>
    <SimpleSource>
      <SourceFilename>wrk.jpg</SourceFilename>
      <SourceBand>1</SourceBand>
      <SrcRect xOff="0" yOff="0" xSize="500" ySize="500"/>
      <DstRect xOff="0" yOff="0" xSize="500" ySize="500"/>
    </SimpleSource>
  </VRTRasterBand>
  <VRTRasterBand dataType="Byte" band="2">
    <ColorInterp>Green</ColorInterp>
    <SimpleSource>
      <SourceFilename>wrk.jpg</SourceFilename>
      <SourceBand>2</SourceBand>
      <SrcRect xOff="0" yOff="0" xSize="500" ySize="500"/>
      <DstRect xOff="0" yOff="0" xSize="500" ySize="500"/>
    </SimpleSource>
  </VRTRasterBand>
  <VRTRasterBand dataType="Byte" band="3">
    <ColorInterp>Blue</ColorInterp>
    <SimpleSource>
      <SourceFilename>wrk.jpg</SourceFilename>
      <SourceBand>3</SourceBand>
      <SrcRect xOff="0" yOff="0" xSize="500" ySize="500"/>
      <DstRect xOff="0" yOff="0" xSize="500" ySize="500"/>
    </SimpleSource>
  </VRTRasterBand>
</VRTDataset>

Now I need to warp it.  When I try:

gdalwarp -t_srs "+proj=utm +zone=11 +datum=WGS84" wrk.vrt utm11.tif

I get the following output:

ERROR 1: Failed to import coordinate system `'.
Creating output file is that 977P x 505L.
ERROR 1: Failed to import coordinate system `'.
:0...10...20...30...40...50...60...70...80...90...100 - done.

And the output image doesn't appear to look quite right. It seems no 
matter what target projection I specify, I get the same result.

Do I need to somehow specify a coordinate system for my raw input file? 
My control point X Y coords are in lat/long. Is this just assumed?

Jeff J



From warmerdam at pobox.com  Tue Aug 19 00:13:03 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Help with reprojection of a quicklook...
In-Reply-To: <200308182112.h7ILCgO14618@yoda.imagelinks.com>
References: <200308182112.h7ILCgO14618@yoda.imagelinks.com>
Message-ID: <3F41A3CF.2050207@pobox.com>

Jeff Jacober wrote:

> Thanks a bunch for the VRT info Frank.
> 
> I think I am very close now, but still not quite there.
> 
> First, a quick gdalinfo on my .jpg file produces this:
...
> Now I need to warp it.  When I try:
> 
> gdalwarp -t_srs "+proj=utm +zone=11 +datum=WGS84" wrk.vrt utm11.tif
> 
> I get the following output:
> 
> ERROR 1: Failed to import coordinate system `'.
> Creating output file is that 977P x 505L.
> ERROR 1: Failed to import coordinate system `'.
> :0...10...20...30...40...50...60...70...80...90...100 - done.
> 
> And the output image doesn't appear to look quite right. It seems no 
> matter what target projection I specify, I get the same result.
> 
> Do I need to somehow specify a coordinate system for my raw input file? 
> My control point X Y coords are in lat/long. Is this just assumed?

Jeff,

Yes, the problem is presumably that the .vrt file (and the original JPEG)
have no coordinate system so instead of reprojecting the image to
UTM 11, it is really just doing the GCP based warp to north up but still
in the original coordinate system.

You could specify the WGS84 geographic coordinate system in the .vrt file,
but it is somewhat easier in your case just to supply the source coordinate
system in the gdalwarp call:

   gdalwarp -s_srs WGS84 -t_srs "+proj=utm +zone=11 +datum=WGS84"
         wrk.vrt utm11.tif

Good luck,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From geowiz at shaw.ca  Tue Aug 19 12:57:35 2003
From: geowiz at shaw.ca (Geographic Wizard)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
Message-ID: <013401c36672$fd622b40$4bd39044@cs3700a>

Hi, everybody

New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :

I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file

2
0
0
-2
667500
5864000

I would like to pull a sub image of this that is bound by a rectangle

 669273--------------------------- 670898
5862482--------------------------- 5862538



 669330--------------------------- 670956
5860859---------------------------5860910


I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.

Any help would be appreciated.

Thanks,
Steve
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/0c47895e/attachment.html
From ed at topozone.com  Tue Aug 19 13:10:09 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
Message-ID: <13858AA1A74F30419F319ACB66A9D1222BFF4E@mercator.topozone.com>

Dear Wizard -
 
The problem is that your "rectangle" isn't a rectangle!  You seem to be trying to reproject your image - can you describe the input and output projections you're using?  Those numbers make it look like your input data might be in UTM (but it could certainly be something else), but what is your desired output projection?
 
    - Ed
Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed@topozone.com
(978) 251-4242 

-----Original Message-----
From: Geographic Wizard [mailto:geowiz@shaw.ca]
Sent: Tuesday, August 19, 2003 12:58 PM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Warp / rotation



Hi, everybody
 
New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :
 
I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file
 
2
0
0
-2
667500
5864000
 
I would like to pull a sub image of this that is bound by a rectangle
 
 669273--------------------------- 670898
5862482--------------------------- 5862538
 
 
 
 669330--------------------------- 670956
5860859---------------------------5860910
 
 
I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.
 
Any help would be appreciated.
 
Thanks,
Steve

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/6254f759/attachment.html
From geowiz at shaw.ca  Tue Aug 19 16:37:14 2003
From: geowiz at shaw.ca (Geographic Wizard)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
References: <13858AA1A74F30419F319ACB66A9D1222BFF4E@mercator.topozone.com>
Message-ID: <017601c36691$acac9b30$4bd39044@cs3700a>

The coordinates in the sample are UTMs and the rectangle is a rectangle, just rotated. I guess what I am looking for is a quick and easy way to pull the subimage with a rotation applied, maybe.

These are UTM's, but they really could be any kind of coordinate.
  ----- Original Message ----- 
  From: Ed McNierney 
  To: gdal-dev@remotesensing.org 
  Sent: Tuesday, August 19, 2003 11:10 AM
  Subject: RE: [Gdal-dev] Warp / rotation


  Dear Wizard -

  The problem is that your "rectangle" isn't a rectangle!  You seem to be trying to reproject your image - can you describe the input and output projections you're using?  Those numbers make it look like your input data might be in UTM (but it could certainly be something else), but what is your desired output projection?

      - Ed
  Ed McNierney
  President and Chief Mapmaker
  TopoZone.com / Maps a la carte, Inc.
  73 Princeton Street, Suite 305
  North Chelmsford, MA  01863
  ed@topozone.com
  (978) 251-4242 

    -----Original Message-----
    From: Geographic Wizard [mailto:geowiz@shaw.ca]
    Sent: Tuesday, August 19, 2003 12:58 PM
    To: gdal-dev@remotesensing.org
    Subject: [Gdal-dev] Warp / rotation


    Hi, everybody

    New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :

    I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file

    2
    0
    0
    -2
    667500
    5864000

    I would like to pull a sub image of this that is bound by a rectangle

     669273--------------------------- 670898
    5862482--------------------------- 5862538



     669330--------------------------- 670956
    5860859---------------------------5860910


    I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.

    Any help would be appreciated.

    Thanks,
    Steve
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/ff5f52c8/attachment.html
From ed at topozone.com  Tue Aug 19 16:47:30 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
Message-ID: <13858AA1A74F30419F319ACB66A9D1222BFF51@mercator.topozone.com>

I think you missed the point - a rectangle rotated is no longer a rectangle.  It's a four-sided polygon, a quadrilateral, etc. - what's important is that you are requesting an area that, expressed in the source coordinate system, is not rectangular.  If the Y coordinates of the lower left and lower right corners are different, it's not a rectangle.
 
Can you provide a rigorous definition of your rotation?  "About 2 degrees CW" isn't precise enough.  If you can describe it mathematically, we can help you implement it!
 
    - Ed

-----Original Message-----
From: Geographic Wizard [mailto:geowiz@shaw.ca]
Sent: Tuesday, August 19, 2003 4:37 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Warp / rotation


The coordinates in the sample are UTMs and the rectangle is a rectangle, just rotated. I guess what I am looking for is a quick and easy way to pull the subimage with a rotation applied, maybe.
 
These are UTM's, but they really could be any kind of coordinate.

----- Original Message ----- 
From: Ed McNierney <mailto:ed@topozone.com>  
To: gdal-dev@remotesensing.org 
Sent: Tuesday, August 19, 2003 11:10 AM
Subject: RE: [Gdal-dev] Warp / rotation

Dear Wizard -
 
The problem is that your "rectangle" isn't a rectangle!  You seem to be trying to reproject your image - can you describe the input and output projections you're using?  Those numbers make it look like your input data might be in UTM (but it could certainly be something else), but what is your desired output projection?
 
    - Ed
Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed@topozone.com
(978) 251-4242 

-----Original Message-----
From: Geographic Wizard [mailto:geowiz@shaw.ca]
Sent: Tuesday, August 19, 2003 12:58 PM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Warp / rotation



Hi, everybody
 
New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :
 
I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file
 
2
0
0
-2
667500
5864000
 
I would like to pull a sub image of this that is bound by a rectangle
 
 669273--------------------------- 670898
5862482--------------------------- 5862538
 
 
 
 669330--------------------------- 670956
5860859---------------------------5860910
 
 
I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.
 
Any help would be appreciated.
 
Thanks,
Steve

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/6006f7a6/attachment.html
From geowiz at shaw.ca  Tue Aug 19 16:59:58 2003
From: geowiz at shaw.ca (Geographic Wizard)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
References: <13858AA1A74F30419F319ACB66A9D1222BFF51@mercator.topozone.com>
Message-ID: <018d01c36694$d96ce050$4bd39044@cs3700a>

It'a a dynamic rotation, the convergence of whatever coordinate system you are woirking in, at the center of your area ot interest.

Steve
  ----- Original Message ----- 
  From: Ed McNierney 
  To: gdal-dev@remotesensing.org 
  Sent: Tuesday, August 19, 2003 2:47 PM
  Subject: RE: [Gdal-dev] Warp / rotation


  I think you missed the point - a rectangle rotated is no longer a rectangle.  It's a four-sided polygon, a quadrilateral, etc. - what's important is that you are requesting an area that, expressed in the source coordinate system, is not rectangular.  If the Y coordinates of the lower left and lower right corners are different, it's not a rectangle.

  Can you provide a rigorous definition of your rotation?  "About 2 degrees CW" isn't precise enough.  If you can describe it mathematically, we can help you implement it!

      - Ed
    -----Original Message-----
    From: Geographic Wizard [mailto:geowiz@shaw.ca]
    Sent: Tuesday, August 19, 2003 4:37 PM
    To: gdal-dev@remotesensing.org
    Subject: Re: [Gdal-dev] Warp / rotation


    The coordinates in the sample are UTMs and the rectangle is a rectangle, just rotated. I guess what I am looking for is a quick and easy way to pull the subimage with a rotation applied, maybe.

    These are UTM's, but they really could be any kind of coordinate.
      ----- Original Message ----- 
      From: Ed McNierney 
      To: gdal-dev@remotesensing.org 
      Sent: Tuesday, August 19, 2003 11:10 AM
      Subject: RE: [Gdal-dev] Warp / rotation


      Dear Wizard -

      The problem is that your "rectangle" isn't a rectangle!  You seem to be trying to reproject your image - can you describe the input and output projections you're using?  Those numbers make it look like your input data might be in UTM (but it could certainly be something else), but what is your desired output projection?

          - Ed
      Ed McNierney
      President and Chief Mapmaker
      TopoZone.com / Maps a la carte, Inc.
      73 Princeton Street, Suite 305
      North Chelmsford, MA  01863
      ed@topozone.com
      (978) 251-4242 

        -----Original Message-----
        From: Geographic Wizard [mailto:geowiz@shaw.ca]
        Sent: Tuesday, August 19, 2003 12:58 PM
        To: gdal-dev@remotesensing.org
        Subject: [Gdal-dev] Warp / rotation


        Hi, everybody

        New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :

        I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file

        2
        0
        0
        -2
        667500
        5864000

        I would like to pull a sub image of this that is bound by a rectangle

         669273--------------------------- 670898
        5862482--------------------------- 5862538



         669330--------------------------- 670956
        5860859---------------------------5860910


        I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.

        Any help would be appreciated.

        Thanks,
        Steve
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/67c15ff6/attachment.html
From ed at topozone.com  Tue Aug 19 17:33:22 2003
From: ed at topozone.com (Ed McNierney)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
Message-ID: <13858AA1A74F30419F319ACB66A9D1222BFF52@mercator.topozone.com>

Steve -
 
Sorry, I don't mean to sound dense, but how do you define "convergence"?  Do you mean the grid convergence of the UTM projection (for example) at that point?
 
It sounds like you might be trying to select an area that is a rectangle in latitude/longitude and then clipping that area out of the UTM source image and reprojecting the results to a "geographic" (lat/long) projection.  Is that correct?  If not, please set me straight - thanks!
 
    - Ed

-----Original Message-----
From: Geographic Wizard [mailto:geowiz@shaw.ca]
Sent: Tuesday, August 19, 2003 5:00 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Warp / rotation


It'a a dynamic rotation, the convergence of whatever coordinate system you are woirking in, at the center of your area ot interest.
 
Steve

----- Original Message ----- 
From: Ed McNierney <mailto:ed@topozone.com>  
To: gdal-dev@remotesensing.org 
Sent: Tuesday, August 19, 2003 2:47 PM
Subject: RE: [Gdal-dev] Warp / rotation

I think you missed the point - a rectangle rotated is no longer a rectangle.  It's a four-sided polygon, a quadrilateral, etc. - what's important is that you are requesting an area that, expressed in the source coordinate system, is not rectangular.  If the Y coordinates of the lower left and lower right corners are different, it's not a rectangle.
 
Can you provide a rigorous definition of your rotation?  "About 2 degrees CW" isn't precise enough.  If you can describe it mathematically, we can help you implement it!
 
    - Ed

-----Original Message-----
From: Geographic Wizard [mailto:geowiz@shaw.ca]
Sent: Tuesday, August 19, 2003 4:37 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Warp / rotation


The coordinates in the sample are UTMs and the rectangle is a rectangle, just rotated. I guess what I am looking for is a quick and easy way to pull the subimage with a rotation applied, maybe.
 
These are UTM's, but they really could be any kind of coordinate.

----- Original Message ----- 
From: Ed McNierney <mailto:ed@topozone.com>  
To: gdal-dev@remotesensing.org 
Sent: Tuesday, August 19, 2003 11:10 AM
Subject: RE: [Gdal-dev] Warp / rotation

Dear Wizard -
 
The problem is that your "rectangle" isn't a rectangle!  You seem to be trying to reproject your image - can you describe the input and output projections you're using?  Those numbers make it look like your input data might be in UTM (but it could certainly be something else), but what is your desired output projection?
 
    - Ed
Ed McNierney
President and Chief Mapmaker
TopoZone.com / Maps a la carte, Inc.
73 Princeton Street, Suite 305
North Chelmsford, MA  01863
ed@topozone.com
(978) 251-4242 

-----Original Message-----
From: Geographic Wizard [mailto:geowiz@shaw.ca]
Sent: Tuesday, August 19, 2003 12:58 PM
To: gdal-dev@remotesensing.org
Subject: [Gdal-dev] Warp / rotation



Hi, everybody
 
New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :
 
I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file
 
2
0
0
-2
667500
5864000
 
I would like to pull a sub image of this that is bound by a rectangle
 
 669273--------------------------- 670898
5862482--------------------------- 5862538
 
 
 
 669330--------------------------- 670956
5860859---------------------------5860910
 
 
I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.
 
Any help would be appreciated.
 
Thanks,
Steve

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/24b76f7b/attachment.html
From geowiz at shaw.ca  Tue Aug 19 17:56:51 2003
From: geowiz at shaw.ca (Geographic Wizard)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
References: <13858AA1A74F30419F319ACB66A9D1222BFF52@mercator.topozone.com>
Message-ID: <01c101c3669c$cbe13050$4bd39044@cs3700a>

Ed,

I do mean grid convergence of the projection.

It sort of is lat / long except it isn't. Everything is projected to UTM, then localized to the center of the area and rotated by the grid convergence. Possibly all that I need to do is rotate the image, which again, I am not sure what would be the most efficient method.

Thanks for you patience.

Steve

  ----- Original Message ----- 
  From: Ed McNierney 
  To: gdal-dev@remotesensing.org 
  Sent: Tuesday, August 19, 2003 3:33 PM
  Subject: RE: [Gdal-dev] Warp / rotation


  Steve -

  Sorry, I don't mean to sound dense, but how do you define "convergence"?  Do you mean the grid convergence of the UTM projection (for example) at that point?

  It sounds like you might be trying to select an area that is a rectangle in latitude/longitude and then clipping that area out of the UTM source image and reprojecting the results to a "geographic" (lat/long) projection.  Is that correct?  If not, please set me straight - thanks!

      - Ed
    -----Original Message-----
    From: Geographic Wizard [mailto:geowiz@shaw.ca]
    Sent: Tuesday, August 19, 2003 5:00 PM
    To: gdal-dev@remotesensing.org
    Subject: Re: [Gdal-dev] Warp / rotation


    It'a a dynamic rotation, the convergence of whatever coordinate system you are woirking in, at the center of your area ot interest.

    Steve
      ----- Original Message ----- 
      From: Ed McNierney 
      To: gdal-dev@remotesensing.org 
      Sent: Tuesday, August 19, 2003 2:47 PM
      Subject: RE: [Gdal-dev] Warp / rotation


      I think you missed the point - a rectangle rotated is no longer a rectangle.  It's a four-sided polygon, a quadrilateral, etc. - what's important is that you are requesting an area that, expressed in the source coordinate system, is not rectangular.  If the Y coordinates of the lower left and lower right corners are different, it's not a rectangle.

      Can you provide a rigorous definition of your rotation?  "About 2 degrees CW" isn't precise enough.  If you can describe it mathematically, we can help you implement it!

          - Ed
        -----Original Message-----
        From: Geographic Wizard [mailto:geowiz@shaw.ca]
        Sent: Tuesday, August 19, 2003 4:37 PM
        To: gdal-dev@remotesensing.org
        Subject: Re: [Gdal-dev] Warp / rotation


        The coordinates in the sample are UTMs and the rectangle is a rectangle, just rotated. I guess what I am looking for is a quick and easy way to pull the subimage with a rotation applied, maybe.

        These are UTM's, but they really could be any kind of coordinate.
          ----- Original Message ----- 
          From: Ed McNierney 
          To: gdal-dev@remotesensing.org 
          Sent: Tuesday, August 19, 2003 11:10 AM
          Subject: RE: [Gdal-dev] Warp / rotation


          Dear Wizard -

          The problem is that your "rectangle" isn't a rectangle!  You seem to be trying to reproject your image - can you describe the input and output projections you're using?  Those numbers make it look like your input data might be in UTM (but it could certainly be something else), but what is your desired output projection?

              - Ed
          Ed McNierney
          President and Chief Mapmaker
          TopoZone.com / Maps a la carte, Inc.
          73 Princeton Street, Suite 305
          North Chelmsford, MA  01863
          ed@topozone.com
          (978) 251-4242 

            -----Original Message-----
            From: Geographic Wizard [mailto:geowiz@shaw.ca]
            Sent: Tuesday, August 19, 2003 12:58 PM
            To: gdal-dev@remotesensing.org
            Subject: [Gdal-dev] Warp / rotation


            Hi, everybody

            New to GDAL as well as using georeferenced raster images. I am trying to figure out how to do the following, and any help / insight would be greatly appreciated. I have put some numbers together as an example :

            I have an image (tif/jpg/png) 5000 x 5000 that is georef with a world file

            2
            0
            0
            -2
            667500
            5864000

            I would like to pull a sub image of this that is bound by a rectangle

             669273--------------------------- 670898
            5862482--------------------------- 5862538



             669330--------------------------- 670956
            5860859---------------------------5860910


            I would like line # 1 of the sub-image to be along the top boundary of the rectangle, therefore it needs to be rotated by about 2 degrees cw.

            Any help would be appreciated.

            Thanks,
            Steve
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030819/82a40cad/attachment.html
From carr at tiem.utk.edu  Tue Aug 19 18:01:25 2003
From: carr at tiem.utk.edu (Eric)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Simple matrix to geotiff example.
Message-ID: <7760000.1061330485@equus.tiem.utk.edu>

Dear List,

I have been recently looking at GDAL library to output a simple geotiff 
from an int array with known spatial location in C++. I assume that I would 
need to use the create method verse the createcopy but have been unable to 
get a version using the api examples to work.  Any body know of some simple 
demonstration code along this line.

Thank You

Eric Carr
carr@tiem.utk.edu



From Rich at GreenwoodMap.com  Tue Aug 19 22:49:16 2003
From: Rich at GreenwoodMap.com (Richard Greenwood)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Warp / rotation
In-Reply-To: <01c101c3669c$cbe13050$4bd39044@cs3700a>
References: <13858AA1A74F30419F319ACB66A9D1222BFF52@mercator.topozone.com>
Message-ID: <5.2.0.9.0.20030819202708.01f50a78@mail.GreenwoodMap.com>

At 03:56 PM 8/19/2003 -0600, you wrote:

>Ed,
>
>I do mean grid convergence of the projection.
>
>It sort of is lat / long except it isn't. Everything is projected to UTM, 
>then localized to the center of the area and rotated by the grid 
>convergence. Possibly all that I need to do is rotate the image, which 
>again, I am not sure what would be the most efficient method.

Warp and the other gdal tools accept (expect) coordinate system definitions 
for the input and output images. If you are converting between 'standard' 
systems you simply specify them with -s_srs and -d_srs. If you have a local 
system i.e. non-standard, then you can create a definition, or specify its 
parameters on the command line in proj format, or reference a .prj file.

But I am not aware of a way to specify an arbitrary rotation which is 
independent of a spatial reference system. Photoshop allows you to rotate 
an image by an arbitrary amount. I think it rotates it around the center of 
the image. I have actually re-projected images in this way but I don't 
recommend it if you have more than one image to re-project (or you have a 
lot of time on your hands).

Also, gdalwarp and gdal_translate allow you to clip the image, which I am 
guessing is what you are also wanting to do.

You might look at GRASS, which re-projects images, and you might find to be 
one click easier to use than gdalwarp.

And as Ed said, if you can clearly explain exactly what you are wanting to 
do, maybe someone can offer a better solution.

Rich 
From jeff at terraengine.com  Wed Aug 20 10:44:52 2003
From: jeff at terraengine.com (Jeff Jacober)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] scale factor in gdalwarp
Message-ID: <200308201445.h7KEj3O22862@yoda.imagelinks.com>

Hi.

Im using GDAL to reproject a Spot Quicklook and I seem to be having a bit 
of trouble with one of my projection parameters.

I am using:

gdalwarp -t_srs "+proj=tmerc +datum=NAD83 +lon_0=-115 +lat_0=0 
+k_0=0.9992 +x_0=500000 +y_0=0" -tr 120 120 quicklook.vrt out.tif

The target projection is a custom projection common to Alberta(Canada) 
that we refer to as '10TM'.

The trouble I am having is that my scale factor (which I believe I am 
correct in saying is k_0) doesnt seem to affect the output.  I have tried 
using +k_0=0.8, +k_0=1.8 and +k_0=2.2 and my output file is always the 
same and always has a scale factor of 1.

Any ideas why this is so?

Jeff J



From warmerdam at pobox.com  Wed Aug 20 11:53:57 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] scale factor in gdalwarp
In-Reply-To: <200308201445.h7KEj3O22862@yoda.imagelinks.com>
References: <200308201445.h7KEj3O22862@yoda.imagelinks.com>
Message-ID: <3F439995.5010907@pobox.com>

Jeff Jacober wrote:
> Hi.
> 
> Im using GDAL to reproject a Spot Quicklook and I seem to be having a bit 
> of trouble with one of my projection parameters.
> 
> I am using:
> 
> gdalwarp -t_srs "+proj=tmerc +datum=NAD83 +lon_0=-115 +lat_0=0 
> +k_0=0.9992 +x_0=500000 +y_0=0" -tr 120 120 quicklook.vrt out.tif
> 
> The target projection is a custom projection common to Alberta(Canada) 
> that we refer to as '10TM'.
> 
> The trouble I am having is that my scale factor (which I believe I am 
> correct in saying is k_0) doesnt seem to affect the output.  I have tried 
> using +k_0=0.8, +k_0=1.8 and +k_0=2.2 and my output file is always the 
> same and always has a scale factor of 1.

Jeff,

Try +k instead of +k_0.  While I believe +k_0 is a valid parameter for
some projections, it does not appear to be the normal way of indicating scale
factor for TM.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Wed Aug 20 12:36:09 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] Re: Question of GDAL Virtual Format
In-Reply-To: <002701c36734$82ba65c0$676e3f82@geoict.net>
References: <002701c36734$82ba65c0$676e3f82@geoict.net>
Message-ID: <3F43A379.4000402@pobox.com>

Feng Wang wrote:
> Hi, Frank:
>  
> Now we have a need to display combined image with three image files as 
> red, green and blue bands.
> To do this, we want to use GDAL virtual format to simplify programming. 
> After I read the tutorial,
> I have some questions for your help.
>  
> Can we use multi <SimpleSource> </SimpleSource> to made a virtual 
> dataset like this:
>  
> <VRTDataset rasterXSize="512" rasterYSize="512">
> <VRTRasterBand dataType="Byte" band="3">
> <ColorInterp>RGB</ColorInterp>
>  
> <SimpleSource>
> <SourceFilename>Filename1.tif</SourceFilename>
> <SourceBand>1</SourceBand>
> <SrcRect xOff="0" yOff="0" xSize="512" ySize="512"/>
> <DstRect xOff="0" yOff="0" xSize="512" ySize="512"/>
> </SimpleSource>
>  
> <SimpleSource>
> <SourceFilename>Filename2.tif</SourceFilename>
> <SourceBand>1</SourceBand>
> <SrcRect xOff="0" yOff="0" xSize="512" ySize="512"/>
> <DstRect xOff="0" yOff="0" xSize="512" ySize="512"/>
> </SimpleSource>
>  
> <SimpleSource>
> <SourceFilename>Filename3.tif</SourceFilename>
> <SourceBand>1</SourceBand>
> <SrcRect xOff="0" yOff="0" xSize="512" ySize="512"/>
> <DstRect xOff="0" yOff="0" xSize="512" ySize="512"/>
> </SimpleSource>
> </VRTRasterBand>
> </VRTDataset>

Feng,

Not quite.  You need 3 VRTRasterBand objects each with a single source.
The SrcRect and DstRect elements may be omitted when the default 1:1 mapping
is being used.  So, a VRT file for composing 3 bands might look like the
following ... this examples also includes setting the color interpretation
properly though this wouldn't normally matter in RationalMapper.

<VRTDataset rasterXSize="256" rasterYSize="200">
   <VRTRasterBand dataType="Byte" band="1">
     <ColorInterp>Red</ColorInterp>
     <SimpleSource>
       <SourceFilename>red.tif</SourceFilename>
       <SourceBand>1</SourceBand>
     </SimpleSource>
   </VRTRasterBand>
   <VRTRasterBand dataType="Byte" band="2">
     <ColorInterp>Green</ColorInterp>
     <SimpleSource>
       <SourceFilename>green.tif</SourceFilename>
       <SourceBand>1</SourceBand>
     </SimpleSource>
   </VRTRasterBand>
   <VRTRasterBand dataType="Byte" band="3">
     <ColorInterp>Blue</ColorInterp>
     <SimpleSource>
       <SourceFilename>blue.tif</SourceFilename>
       <SourceBand>1</SourceBand>
     </SimpleSource>
   </VRTRasterBand>
</VRTDataset>

I have taken the liberty of cc:ing the GDAL list since this may be of
interest to others.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From gillian.walter at atlantis-scientific.com  Thu Aug 21 11:21:20 2003
From: gillian.walter at atlantis-scientific.com (Gillian Walter)
Date: Wed Nov 21 11:48:53 2007
Subject: [Gdal-dev] NITF overviews
Message-ID: <3F44E370.10903@atlantis-scientific.com>

Hi,

When I try to build overviews for an NITF dataset, I get an error:

ERROR 6: BuildOverviews() not supported for this dataset.
Overview building failed.

Is there a reason why NITF overviews can't be built?  I thought 
overviews of the .ovr tiff type could be built for pretty much any dataset?

Gillian



From packalen at cs.joensuu.fi  Thu Aug 21 12:06:24 2003
From: packalen at cs.joensuu.fi (Petteri Packalen)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] ECW georeferencing problem
Message-ID: <Pine.GSO.4.50.0308211857110.25725-100000@cs>

Hi,

I have created ECW file by using gdal_translate. According to gdalinfo
georeferencing information is OK. However, when I open this RGB image
under ArcGIS (I use Ermapper ECW plug-in to ArcGIS) the image itself is shown
properly, but it is not georeferenced. This problem does not occur always;
some images are translated to ECW properly. Any hint on how to solve this
problem? I can provide an example dataset if needed.

Actually, when the same image is loaded to OpenEV it either crashes or at
least colors (bands) are displayed in a wrong way. Color problem may have
something to do with the missing ColorInterp settings which are lost when image is
converted from GTiff to ECW.

The version of GDAL I used was 1.1.8.0, released 2002/12/21. This version
is included to OpenEV FW 1.62. I don't include ECW support to the version
I build by myself.

Regerds,
Petteri

**********************************************************************
Petteri Packalen
University of Joensuu
Faculty of Forestry
P.O. Box 111
80101 Joensuu
Finland
E-mail: packalen@cs.joensuu.fi
**********************************************************************

From warmerdam at pobox.com  Thu Aug 21 14:50:48 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] NITF overviews
In-Reply-To: <3F44E370.10903@atlantis-scientific.com>
References: <3F44E370.10903@atlantis-scientific.com>
Message-ID: <3F451488.7030906@pobox.com>

Gillian Walter wrote:
> Hi,
> 
> When I try to build overviews for an NITF dataset, I get an error:
> 
> ERROR 6: BuildOverviews() not supported for this dataset.
> Overview building failed.
> 
> Is there a reason why NITF overviews can't be built?  I thought 
> overviews of the .ovr tiff type could be built for pretty much any dataset?

Gillian,

The fallback ".ovr" overviews is easy to incorporate into any file based
driver but it is not automatic.  It seems I forgot to add it to the NITF
driver.  I have committed a patch turning it on.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From hi_ono2001 at ybb.ne.jp  Mon Aug 25 11:38:48 2003
From: hi_ono2001 at ybb.ne.jp (Hisaji Ono)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Building GDAL by MinGW
References: <EKEJIKAILPONGGENMBGAKEANEFAA.nhv@cape.com>
Message-ID: <003d01c36b1e$fa650060$818001db@webgis>

Hi, Mr. Vine.

I can't still build GDAL by MinGW.

I tried to build latest gdal-cvs-030825 using following option under , as
you said, "separate" MinGW building environment. And gcc version number is
3.2.3.

./configure --prefix=$MINGW --host=i686-pc-mingw32  --with-libz=internal --w
ith-png=internal --with-libtiff=internal  --with-geotiff=internal --without-
jpeg --without-python --without-pg

However I've got following error messages.

cplgetsymbol.cpp: In function `void* CPLGetSymbol(const char*, const
char*)':
cplgetsymbol.cpp:174: invalid conversion from `int (*)()' to `void*'
make[1]: *** [cplgetsymbol.o] Error 1
make[1]: Leaving directory `/home/Administrator/gdal-cvs-030825/port'
make: *** [port-target] Error 2

Could you give me any suggestion to deal with this error and go forward.

Regards.





From warmerdam at pobox.com  Mon Aug 25 12:12:13 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Building GDAL by MinGW
In-Reply-To: <003d01c36b1e$fa650060$818001db@webgis>
References: <EKEJIKAILPONGGENMBGAKEANEFAA.nhv@cape.com> <003d01c36b1e$fa650060$818001db@webgis>
Message-ID: <3F4A355D.50604@pobox.com>

Hisaji Ono wrote:
> Hi, Mr. Vine.
> 
> I can't still build GDAL by MinGW.
> 
> I tried to build latest gdal-cvs-030825 using following option under , as
> you said, "separate" MinGW building environment. And gcc version number is
> 3.2.3.
> 
> ./configure --prefix=$MINGW --host=i686-pc-mingw32  --with-libz=internal --w
> ith-png=internal --with-libtiff=internal  --with-geotiff=internal --without-
> jpeg --without-python --without-pg
> 
> However I've got following error messages.
> 
> cplgetsymbol.cpp: In function `void* CPLGetSymbol(const char*, const
> char*)':
> cplgetsymbol.cpp:174: invalid conversion from `int (*)()' to `void*'
> make[1]: *** [cplgetsymbol.o] Error 1
> make[1]: Leaving directory `/home/Administrator/gdal-cvs-030825/port'
> make: *** [port-target] Error 2
> 
> Could you give me any suggestion to deal with this error and go forward.


Hisaji,

Assuming line 174 reads:
    pSymbol = GetProcAddress( (HINSTANCE) pLibrary, pszSymbolName );

Try changing it to:
    pSymbol = (void*) GetProcAddress( (HINSTANCE) pLibrary, pszSymbolName );

If this fixes the issue let me know and I will correct the master.  The
code in this win32 implementation was written for VC++ and this may be the
first time it has been used with another compiler.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From hi_ono2001 at ybb.ne.jp  Mon Aug 25 13:09:39 2003
From: hi_ono2001 at ybb.ne.jp (Hisaji Ono)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Building GDAL by MinGW
References: <EKEJIKAILPONGGENMBGAKEANEFAA.nhv@cape.com> <003d01c36b1e$fa650060$818001db@webgis> <3F4A355D.50604@pobox.com>
Message-ID: <005f01c36b2b$ab4b7240$818001db@webgis>

Thank you very much, Mr. Warmerdam.

> >
./configure --prefix=$MINGW --host=i686-pc-mingw32  --with-libz=internal --w
> >
ith-png=internal --with-libtiff=internal  --with-geotiff=internal --without-
> > jpeg --without-python --without-pg

>
> Assuming line 174 reads:
>     pSymbol = GetProcAddress( (HINSTANCE) pLibrary, pszSymbolName );
>
> Try changing it to:
>     pSymbol = (void*) GetProcAddress( (HINSTANCE) pLibrary,
pszSymbolName );
>
> If this fixes the issue let me know and I will correct the master.  The
> code in this win32 implementation was written for VC++ and this may be the
> first time it has been used with another compiler.
>

I could build this code. However I've still got following errors. Below
header files do exist.

gcc -I/home/Administrator/gdal-cvs-030825/port -I/home/Administrator/gdal-cv
s-03
0825/gcore -I/home/Administrator/gdal-cvs-030825/ogr -I/home/Administrator/g
dal-
cvs-030825/frmts -I/home/Administrator/gdal-cvs-030825/alg -c -Wall  -O2
gdal
info.c -o gdalinfo.o
gdalinfo.c:116:18: gdal.h: No such file or directory
gdalinfo.c:117:25: ogr_srs_api.h: No such file or directory
gdalinfo.c:118:24: cpl_string.h: No such file or directory
gdalinfo.c:120: parse error before string constant
gdalinfo.c:120: warning: type defaults to `int' in declaration of
`CPL_CVSID'
gdalinfo.c:120: warning: data definition has no type or storage class
gdalinfo.c:123: parse error before "hDataset"
-----------------------------------------------

Regards.


From hi_ono2001 at ybb.ne.jp  Mon Aug 25 15:12:11 2003
From: hi_ono2001 at ybb.ne.jp (Hisaji Ono)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Building GDAL by MinGW
References: <EKEJIKAILPONGGENMBGAKEANEFAA.nhv@cape.com> <003d01c36b1e$fa650060$818001db@webgis> <3F4A355D.50604@pobox.com> <005f01c36b2b$ab4b7240$818001db@webgis>
Message-ID: <00a301c36b3c$c961b760$818001db@webgis>

Hi.

>
gcc -I/home/Administrator/gdal-cvs-030825/port -I/home/Administrator/gdal-cv
> s-03
>
0825/gcore -I/home/Administrator/gdal-cvs-030825/ogr -I/home/Administrator/g
> dal-
> cvs-030825/frmts -I/home/Administrator/gdal-cvs-030825/alg -c -Wall  -O2
> gdal
> info.c -o gdalinfo.o
> gdalinfo.c:116:18: gdal.h: No such file or directory
> gdalinfo.c:117:25: ogr_srs_api.h: No such file or directory
> gdalinfo.c:118:24: cpl_string.h: No such file or directory
> gdalinfo.c:120: parse error before string constant

I've modified GNUMakefile as follows and could build GDAL at last. MinGW's
gcc seems not to  like specifying fullpaths.

#INCLUDE  = $(GDAL_INCLUDE) -I$(GDAL_ROOT)/frmts -I$(GDAL_ROOT)/alg
INCLUDE  = -I../port -I../gcore -I../ogr -I../frmts -I../alg
-------------------------------------------------------------
CONFIG_LIBS = -L../ -lgdal.1.1 -lm -lm

Thanks.


From dron at ak4719.spb.edu  Mon Aug 25 16:27:06 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Importing SRTM30 with GDAL
Message-ID: <20030825202706.GA23764@ak4719.spb.edu>

Hi folks,

Recently Markus pointed to the new 30 arc seconds DEMs, updated with the
SRTM data:

 ftp://edcftp.cr.usgs.gov/pub/data/srtm/SRTM30

I did a few tweaks in GDAL and now these data can be read with the EHdr
(ESRI .hdr Labelled) driver. You should use raw .dem file as an input.

					Best regards,
					Andrey
 
-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From ben at vterrain.org  Mon Aug 25 16:42:01 2003
From: ben at vterrain.org (Ben Discoe)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Importing SRTM30 with GDAL
In-Reply-To: <20030825202706.GA23764@ak4719.spb.edu>
Message-ID: <001201c36b49$56389800$f400fe0a@TOPP2>

Andrey,

I tried it last week and the SRTM30 files appeared to read into GDAL
just fine, without any tweaking.  What did you tweak?

-Ben

> -----Original Message-----
> From: Andrey Kiselev
> Sent: Monday, August 25, 2003 3:27 PM
> To: gdal-dev@remotesensing.org
> Subject: [Gdal-dev] Importing SRTM30 with GDAL
> 
> Hi folks,
> 
> Recently Markus pointed to the new 30 arc seconds DEMs, 
> updated with the SRTM data:
> 
> ftp://edcftp.cr.usgs.gov/pub/data/srtm/SRTM30
>
>I did a few tweaks in GDAL and now these data can be read with the EHdr
>(ESRI .hdr Labelled) driver. You should use raw .dem file as an input.
>		Best regards,
>		Andrey


From nhv at cape.com  Mon Aug 25 18:02:13 2003
From: nhv at cape.com (Norman Vine)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Building GDAL by MinGW
In-Reply-To: <3F4A355D.50604@pobox.com>
Message-ID: <EKEJIKAILPONGGENMBGAGEPMEHAA.nhv@cape.com>

Frank Warmerdam writes:
> > 
> Assuming line 174 reads:
>     pSymbol = GetProcAddress( (HINSTANCE) pLibrary, pszSymbolName );
> 
> Try changing it to:
>     pSymbol = (void*) GetProcAddress( (HINSTANCE) pLibrary, pszSymbolName );
> 
> If this fixes the issue let me know and I will correct the master.  The
> code in this win32 implementation was written for VC++ and this may be the
> first time it has been used with another compiler.

Frank 

This works 

I had made this change in my MingW32 code but hadn't submitted a change

HTH

Norman


From dron at ak4719.spb.edu  Tue Aug 26 02:33:38 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Importing SRTM30 with GDAL
In-Reply-To: <001201c36b49$56389800$f400fe0a@TOPP2>
References: <20030825202706.GA23764@ak4719.spb.edu> <001201c36b49$56389800$f400fe0a@TOPP2>
Message-ID: <20030826063338.GA4720@ak4719.spb.edu>

On Mon, Aug 25, 2003 at 04:42:01PM -0400, Ben Discoe wrote:
> I tried it last week and the SRTM30 files appeared to read into GDAL
> just fine, without any tweaking.  What did you tweak?

1. Problems with the case of the filenames. Now .HDR and .PRJ files
   searched in case insensitive manner. And this also helps to fix
   reading some of my older GTOPO30 datasets.

2. Problems with the headers reading. In those files `\r' character used
   as a line terminator and CPLReadLine() function  fails to read
   strings correctly, because of problems with fgets(). I have fixed
   this.

You may not to be affected with both of this problems, because you are
working on Windows.

						Andrey

-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From wesp at gdv.com  Tue Aug 26 06:19:56 2003
From: wesp at gdv.com (Oliver Wesp)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] reading OCI datasource - core dumped
Message-ID: <5.2.0.9.2.20030826115322.00aaaa80@192.168.1.2>

Dear List,

what we like to do is connecting to oracle spatial with ogrinfo (in fact we 
like to read layers from oracle spatial with mapserver through ogr but we 
use ogrinfo to check if everything works fine on the ogr side).

We have everything up and running on two different linux boxes (ogrinfo 
works fine, even the mapserver part is doing well. No problems at all). 
Unfortunately the production system has to be Solaris 8. Whenever we try to 
connect to oracle with ogrinfo from the solaris machine it says

Segmentation fault (Core dumped).

We made some experiments with wrong connections strings (wrong password, 
wrong tnsname, connect to a database that is shutown) and everytime we get 
a proper error message from oracle. This looks like something ist going 
wrong during or after the login process.

There weren't any problems during compilation. The only difference beside 
the operating system is oracle client running on the linux boxes and a 
complete oracle server install on the solaris machine. We tried gdal-1.1.9 
as well as the latest cvs.

Is anybody out there aware of problems regarding oci support on a solaris 
system or a system with a comlete oracle server installed? Or is there 
anything we can do to get some more information on what's happening.

Any help is appreciated.
best regards
Oliver


From warmerdam at pobox.com  Tue Aug 26 09:13:18 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] reading OCI datasource - core dumped
In-Reply-To: <5.2.0.9.2.20030826115322.00aaaa80@192.168.1.2>
References: <5.2.0.9.2.20030826115322.00aaaa80@192.168.1.2>
Message-ID: <3F4B5CEE.4050107@pobox.com>

Oliver Wesp wrote:
> Dear List,
> 
> what we like to do is connecting to oracle spatial with ogrinfo (in fact 
> we like to read layers from oracle spatial with mapserver through ogr 
> but we use ogrinfo to check if everything works fine on the ogr side).
> 
> We have everything up and running on two different linux boxes (ogrinfo 
> works fine, even the mapserver part is doing well. No problems at all). 
> Unfortunately the production system has to be Solaris 8. Whenever we try 
> to connect to oracle with ogrinfo from the solaris machine it says
> 
> Segmentation fault (Core dumped).
> 
> We made some experiments with wrong connections strings (wrong password, 
> wrong tnsname, connect to a database that is shutown) and everytime we 
> get a proper error message from oracle. This looks like something ist 
> going wrong during or after the login process.
> 
> There weren't any problems during compilation. The only difference 
> beside the operating system is oracle client running on the linux boxes 
> and a complete oracle server install on the solaris machine. We tried 
> gdal-1.1.9 as well as the latest cvs.
> 
> Is anybody out there aware of problems regarding oci support on a 
> solaris system or a system with a comlete oracle server installed? Or is 
> there anything we can do to get some more information on what's happening.

Oliver,

To the best of my knowledge the OGR OCI support has not been used on Solaris
by anyone yet.  The problem is likely related to a platform different.  Some
like issues:

  o Use of wrong size data type in a call that returns value through a pointer.
    Using int16 instead of int32 for instance would result in the returned
    value being all messed up on a big endian system like sun where as a
    little endian system like intel will mask this problem.
  o General endian problems.
  o Suns have alignment issues not found on intel.  Access a double not on a
    double word boundary will cause a fault for instance.

Since I do not have access to a sun with Oracle installed, there is a limited
amount I can do to look into this problem.   Either you will need to debug
this yourself (and send me tracebacks and any findings) or I will need
remote login access to your Solaris system.

Note, the OCI support isn't all that highly performance tuned for reading from
Oracle, but is quite well tuned for loading oracle (the actual purpose for
which it was implemented).

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From neteler at itc.it  Tue Aug 26 12:08:08 2003
From: neteler at itc.it (Markus Neteler)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Importing SRTM30 with GDAL
In-Reply-To: <20030825202706.GA23764@ak4719.spb.edu>; from dron@ak4719.spb.edu on Tue, Aug 26, 2003 at 12:27:06AM +0400
References: <20030825202706.GA23764@ak4719.spb.edu>
Message-ID: <20030826180808.A15493@itc.it>

On Tue, Aug 26, 2003 at 12:27:06AM +0400, Andrey Kiselev wrote:
> Hi folks,
> 
> Recently Markus pointed to the new 30 arc seconds DEMs, updated with the
> SRTM data:
> 
>  ftp://edcftp.cr.usgs.gov/pub/data/srtm/SRTM30
> 
> I did a few tweaks in GDAL and now these data can be read with the EHdr
> (ESRI .hdr Labelled) driver. You should use raw .dem file as an input.
> 
> 					Best regards,
> 					Andrey

Thanks for the implementation!

BTW: It should be noted that on the 'imagrs-l' mailing list some quality 
issues are currently discussed:
http://adis.cesnet.cz/cgi-bin/lwgate/IMAGRS-L/archives/imagrs-l.log0308/subject
   - Thread "SRTM 30 arc-sec global DEM"

So maybe these data will be modified again (but not the file format,
I think).

Markus

From bmarchand at ara.com  Wed Aug 27 09:13:28 2003
From: bmarchand at ara.com (Brian Marchand)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
Message-ID: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE3@thorin.sed.ara.com>

Hello,

 

I know there are many GIS savvy people on this list and I was wondering
if anyone knew of any vector to raster conversion code that is floating
around. My interest is in converting elevation data stored in shape
files to any elevation raster format supported by GDAL.

 

Thanks,

 

Brian Marchand

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030827/fc34970d/attachment.html
From paul at toolscenter.org  Wed Aug 27 10:44:11 2003
From: paul at toolscenter.org (Paul Selormey)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
References: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE3@thorin.sed.ara.com>
Message-ID: <003301c36ca9$afbe4120$700201c0@MAPQUEST.local>

I think this is exactly what mapserver does :-)

http://mapserver.gis.umn.edu/index.html

Best regards,
Paul.
  ----- Original Message ----- 
  From: Brian Marchand
  To: gdal-dev@remotesensing.org
  Sent: Wednesday, August 27, 2003 10:13 PM
  Subject: [Gdal-dev] vector to raster conversion


  Hello,



  I know there are many GIS savvy people on this list and I was wondering if
anyone knew of any vector to raster conversion code that is floating around.
My interest is in converting elevation data stored in shape files to any
elevation raster format supported by GDAL.



  Thanks,



  Brian Marchand


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030827/260cb78f/attachment.html
From TMitchell at lignum.com  Wed Aug 27 11:29:56 2003
From: TMitchell at lignum.com (Tyler Mitchell)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
In-Reply-To: <003301c36ca9$afbe4120$700201c0@MAPQUEST.local>
Message-ID: <OF5D89130F.D73AB6E1-ON88256D8F.0054E9A2-88256D8F.00552373@lignum.com>





> I think this is exactly what mapserver does :-)

If you only want a manual tool and not a full blown web-mapping system like
Mapserver, you can just use some of the command line Mapserver utilities
(i.e. shp2img).  Otherwise, I think you can do what you want with python
code from Openev which I believe can do what you want as well and probably
better than mapserver in some cases. (http://openev.sourceforge.net/)

Tyler

>> Hello,
>>
>> I know there are many GIS savvy people on this list and I was
>> wondering if anyone knew of any vector to raster conversion code
>> that is floating around. My interest is in converting elevation data
>> stored in shape files to any elevation raster format supported by GDAL.
>>
>> Thanks,
>>
>> Brian Marchand
>>


From warmerdam at pobox.com  Wed Aug 27 12:31:48 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
In-Reply-To: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE3@thorin.sed.ara.com>
References: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE3@thorin.sed.ara.com>
Message-ID: <3F4CDCF4.3020201@pobox.com>

Brian Marchand wrote:
> Hello,
> 
>  
> 
> I know there are many GIS savvy people on this list and I was wondering 
> if anyone knew of any vector to raster conversion code that is floating 
> around. My interest is in converting elevation data stored in shape 
> files to any elevation raster format supported by GDAL.

Brian,

I assume what you have is contour and possibly breakline information?  Or
is it point elevations?  Building a decent raster DEM from contours and
breakline information is not a trivial process.  I worked on some algorithms
for it at PCI but I am not aware of anything directly available built on GDAL.
You could use commercial software, like PCI.  I also think there may be a
decent contour to raster program in GRASS but I am not sure.

If you just have point data, any point interpolator would likely do, such as
the one in OpenEV mentioned by Tyler.

MapServer is good for a variety of rasterization issues, but it isn't an
interpolator.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From bmarchand at ara.com  Wed Aug 27 12:56:14 2003
From: bmarchand at ara.com (Brian Marchand)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
Message-ID: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE5@thorin.sed.ara.com>

Frank,

I'm interested in the contour case. In thinking about the problem I
realized it wasn't trivial which is why I was hoping there was some
software or an algorithm out there already.  I imagine that picking a
good raster cell size would be difficult enough then it seems like you
would have to identify the field definition that gives you get the z
value. You could prompt for that so that wouldn't be so bad. Then
filling in between the contour lines, yikes! I'll check into GRASS.
Since I'm not GIS educated, I'm wondering if this is covered in any text
books that anyone is aware of. 

Thanks for your help

Brian

-----Original Message-----
From: Frank Warmerdam [mailto:warmerdam@pobox.com] 
Sent: Wednesday, August 27, 2003 12:32 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] vector to raster conversion

Brian Marchand wrote:
> Hello,
> 
>  
> 
> I know there are many GIS savvy people on this list and I was
wondering 
> if anyone knew of any vector to raster conversion code that is
floating 
> around. My interest is in converting elevation data stored in shape 
> files to any elevation raster format supported by GDAL.

Brian,

I assume what you have is contour and possibly breakline information?
Or
is it point elevations?  Building a decent raster DEM from contours and
breakline information is not a trivial process.  I worked on some
algorithms
for it at PCI but I am not aware of anything directly available built on
GDAL.
You could use commercial software, like PCI.  I also think there may be
a
decent contour to raster program in GRASS but I am not sure.

If you just have point data, any point interpolator would likely do,
such as
the one in OpenEV mentioned by Tyler.

MapServer is good for a variety of rasterization issues, but it isn't an
interpolator.

Best regards,

-- 
---------------------------------------+--------------------------------
------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev


From bgmilne at cae.co.za  Wed Aug 27 13:35:50 2003
From: bgmilne at cae.co.za (Buchan Milne)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
In-Reply-To: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE5@thorin.sed.ara.com>
References: <B3CB5AFD4126584AB4CF3DD45B267A530A7FE5@thorin.sed.ara.com>
Message-ID: <3F4CEBF6.7010002@cae.co.za>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Brian Marchand wrote:
> Frank,
>
> I'm interested in the contour case. In thinking about the problem I
> realized it wasn't trivial which is why I was hoping there was some
> software or an algorithm out there already.  I imagine that picking a
> good raster cell size would be difficult enough then it seems like you
> would have to identify the field definition that gives you get the z
> value. You could prompt for that so that wouldn't be so bad. Then
> filling in between the contour lines, yikes! I'll check into GRASS.
> Since I'm not GIS educated, I'm wondering if this is covered in any text
> books that anyone is aware of.
>

You're probably looking for v.surf.rst in GRASS:

http://grass.ru.ac.za/gdp/html_grass5/html/v.surf.rst.html

You just need to decide what the easiest way is to get a working grass
installation (if you haven't got one yet) ...

Regards,
Buchan

- --
|--------------Another happy Mandrake Club member--------------|
Buchan Milne                Mechanical Engineer, Network Manager
Cellphone * Work            +27 82 472 2231 * +27 21 8828820x202
Stellenbosch Automotive Engineering         http://www.cae.co.za
GPG Key                   http://ranger.dnsalias.com/bgmilne.asc
1024D/60D204A7 2919 E232 5610 A038 87B1 72D6 AC92 BA50 60D2 04A7
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.2 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQE/TOv2rJK6UGDSBKcRAgZxAKCSvqYtnVUeXR9lt9MfVmugqdL6YQCgsGfg
CsEpYSxMLjSIPmMpDkkrQpM=
=ms+O
-----END PGP SIGNATURE-----

*****************************************************************
Please click on http://www.cae.co.za/disclaimer.htm to read our
e-mail disclaimer or send an e-mail to info@cae.co.za for a copy.
*****************************************************************

From azubrow at galton.uchicago.edu  Wed Aug 27 12:57:44 2003
From: azubrow at galton.uchicago.edu (Alexis Zubrow)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] projections and netcdf
Message-ID: <Pine.GSO.4.05.10308271145240.22311-100000@galton.uchicago.edu>

Hi.

I am relatively new to gdal.  I have been using OGR to do some coordinate
conversions between various projections.  It has been very useful.

I have a large dataset that is stored in netCDF format.  I want to 
reproject the data from one coordinate system to another.  But I want to
maintain the data in netCDF format.  I've looked through the
documentation for OGR and gdal, but I haven't found much to help me.  I
can easily setup the CoordinateTransformation object from OGR.  I also can
store the data in a large Numeric Array (time, layer, x, y).  Can I
reproject the data into a new numeric array?

BTW, does anyone have any more documentation on using python version of
OGR?

Any suggestions would be much appreciated.

Thanks for your help,
Alexis


------------------------------------------------------------
Alexis Zubrow
CISES					Phone: (773)834-9929
University of Chicago			Fax: (773)834-1045
5734 S. Ellis Ave., rm 459
Chicago, IL  60637
------------------------------------------------------------


From warmerdam at pobox.com  Wed Aug 27 13:42:28 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] projections and netcdf
In-Reply-To: <Pine.GSO.4.05.10308271145240.22311-100000@galton.uchicago.edu>
References: <Pine.GSO.4.05.10308271145240.22311-100000@galton.uchicago.edu>
Message-ID: <3F4CED84.6070201@pobox.com>

Alexis Zubrow wrote:
> Hi.
> 
> I am relatively new to gdal.  I have been using OGR to do some coordinate
> conversions between various projections.  It has been very useful.
> 
> I have a large dataset that is stored in netCDF format.  I want to 
> reproject the data from one coordinate system to another.  But I want to
> maintain the data in netCDF format.  I've looked through the
> documentation for OGR and gdal, but I haven't found much to help me.  I
> can easily setup the CoordinateTransformation object from OGR.  I also can
> store the data in a large Numeric Array (time, layer, x, y).  Can I
> reproject the data into a new numeric array?

Alexis,

In theory this might be possible, but I am not sure what the state of
Python access to the warping algorithms is at.  Andrey, have you done any
work on this?

> BTW, does anyone have any more documentation on using python version of
> OGR?

I'm afraid not.  My hope is that it operates similarly enough to the C/C++
API that looking over ogr.py and the C/C++ docs would be sufficient.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Wed Aug 27 13:59:51 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] projections and netcdf
In-Reply-To: <3F4CED84.6070201@pobox.com>
References: <Pine.GSO.4.05.10308271145240.22311-100000@galton.uchicago.edu> <3F4CED84.6070201@pobox.com>
Message-ID: <3F4CF197.9000606@pobox.com>

Frank Warmerdam wrote:
> Alexis Zubrow wrote:
> 
>> Hi.
>>
>> I am relatively new to gdal.  I have been using OGR to do some coordinate
>> conversions between various projections.  It has been very useful.
>>
>> I have a large dataset that is stored in netCDF format.  I want to 
>> reproject the data from one coordinate system to another.  But I want to
>> maintain the data in netCDF format.  I've looked through the
>> documentation for OGR and gdal, but I haven't found much to help me.  I
>> can easily setup the CoordinateTransformation object from OGR.  I also 
>> can
>> store the data in a large Numeric Array (time, layer, x, y).  Can I
>> reproject the data into a new numeric array?

Alexis,

On a related point, I am interested in having netCDF support in GDAL.  Is
anyone interested in implementing a netCDF driver?  It would improve
integration with GMT amoung other things and would be fairly easy I would
imagine since there is already a netCDF library out there to use.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dron at ak4719.spb.edu  Wed Aug 27 13:56:19 2003
From: dron at ak4719.spb.edu (Andrey Kiselev)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] projections and netcdf
In-Reply-To: <3F4CED84.6070201@pobox.com>
References: <Pine.GSO.4.05.10308271145240.22311-100000@galton.uchicago.edu> <3F4CED84.6070201@pobox.com>
Message-ID: <20030827175619.GA6655@ak4719.spb.edu>

On Wed, Aug 27, 2003 at 01:42:28PM -0400, Frank Warmerdam wrote:
> In theory this might be possible, but I am not sure what the state of
> Python access to the warping algorithms is at.  Andrey, have you done any
> work on this?

Yes, and it will be completed soon. I will need Python bindings for
OpenEV image reprojector.

I shall discuss interface with you before commiting.


-- 
Andrey V. Kiselev
Home phone:  +7 812 5274898  ICQ# 26871517

From rogerjames99 at btinternet.com  Wed Aug 27 15:04:26 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] vector to raster conversion
In-Reply-To: <3F4CDCF4.3020201@pobox.com>
Message-ID: <001501c36cce$09545390$fe0aa8c0@lancaster.beardandsandals.co.uk>

I have tried a number of different algorithms for DEM production and I
find the one I personally like best is the RST algorithm available in
GRASS. Two other popular algorithms are IDW and Kriging, you can find
both in Grass.

Roger

> -----Original Message-----
> From: gdal-dev-admin@remotesensing.org [mailto:gdal-dev-
> admin@remotesensing.org] On Behalf Of Frank Warmerdam
> Sent: 27 August 2003 17:32
> To: gdal-dev@remotesensing.org
> Subject: Re: [Gdal-dev] vector to raster conversion
> 
> Brian Marchand wrote:
> > Hello,
> >
> >
> >
> > I know there are many GIS savvy people on this list and I was
wondering
> > if anyone knew of any vector to raster conversion code that is
floating
> > around. My interest is in converting elevation data stored in shape
> > files to any elevation raster format supported by GDAL.
> 
> Brian,
> 
> I assume what you have is contour and possibly breakline information?
Or
> is it point elevations?  Building a decent raster DEM from contours
and
> breakline information is not a trivial process.  I worked on some
> algorithms
> for it at PCI but I am not aware of anything directly available built
on
> GDAL.
> You could use commercial software, like PCI.  I also think there may
be a
> decent contour to raster program in GRASS but I am not sure.
> 
> If you just have point data, any point interpolator would likely do,
such
> as
> the one in OpenEV mentioned by Tyler.
> 
> MapServer is good for a variety of rasterization issues, but it isn't
an
> interpolator.
> 
> Best regards,
> 
> --
>
---------------------------------------+--------------------------------
--
> ----
> I set the clouds in motion - turn up   | Frank Warmerdam,
> warmerdam@pobox.com
> light and sound - activate the windows | http://pobox.com/~warmerdam
> and watch the world go round - Rush    | Geospatial Programmer for
Rent
> 
> 
> _______________________________________________
> Gdal-dev mailing list
> Gdal-dev@remotesensing.org
> http://remotesensing.org/mailman/listinfo/gdal-dev



From matt at terraEngine.com  Wed Aug 27 18:27:35 2003
From: matt at terraEngine.com (Matt Lynch)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Using the warp api
Message-ID: <00ef01c36cea$6aaee620$d701a8c0@matt>

Hi,

I have been working my way through the warp api tutorial
(http://www.remotesensing.org/gdal/warptut.html), but have run into
trouble.

My program takes an image and reprojects it to a new file out.tif.  When
I run it, I don't get any errors.  However, out.tif is essentially
black, with a few lines.  If my description of the output is not
sufficient, I can email the file out.tif to you.

Any help would be most appreciated.

Regards,

Matt



This is the run of my code:


C:\matt\gdal-cvs-030403\apps>test
Creating output file is that 9358P x 9357L.

Output file was successfully created.
Warp options are set.
transforming from
PROJCS["unnamed",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.
2572235630016,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM
["Greenw
ich",0],UNIT["degree",0.0174532925199433],AUTHORITY["EPSG","4326"]],PROJ
ECTION["
Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["centr
al_merid
ian",-115],PARAMETER["scale_factor",0.9992],PARAMETER["false_easting",50
0000],PA
RAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]]]
 to
PROJCS["unnamed",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS
84",6378137,298.
257223563,AUTHORITY["EPSG","7030"]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY["EP
SG","632
6"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174
53292519
9433,AUTHORITY["EPSG","9108"]],AXIS["Lat",NORTH],AXIS["Long",EAST],AUTHO
RITY["EP
SG","4326"]],PROJECTION["Lambert_Conformal_Conic_2SP"],PARAMETER["standa
rd_paral
lel_1",35],PARAMETER["standard_parallel_2",55],PARAMETER["latitude_of_or
igin",45
],PARAMETER["central_meridian",-100],PARAMETER["false_easting",0],PARAME
TER["fal
se_northing",0]]

Transformer is built.
Progress:0...10...20...30...40...50...60...70...80...90...100 - done.

C:\matt\gdal-cvs-030403\apps>



I also did gdalinfo on the two images in case that helps:

C:\matt\gdal-cvs-030403\apps>gdalinfo daImage.tif
Driver: GTiff/GeoTIFF
Size is 8000, 8000
Coordinate System is:
PROJCS["unnamed",
    GEOGCS["WGS 84",
        DATUM["WGS_1984",
            SPHEROID["WGS 84",6378137,298.2572235630016,
                AUTHORITY["EPSG","7030"]],
            AUTHORITY["EPSG","6326"]],
        PRIMEM["Greenwich",0],
        UNIT["degree",0.0174532925199433],
        AUTHORITY["EPSG","4326"]],
    PROJECTION["Transverse_Mercator"],
    PARAMETER["latitude_of_origin",0],
    PARAMETER["central_meridian",-115],
    PARAMETER["scale_factor",0.9992],
    PARAMETER["false_easting",500000],
    PARAMETER["false_northing",0],
    UNIT["metre",1,
        AUTHORITY["EPSG","9001"]]]
Origin = (644613.948217,5517483.066294)
Pixel Size = (20.000000,-20.000000)
Metadata:
  TIFFTAG_DOCUMENTNAME=JeffPan8000.tif
  TIFFTAG_SOFTWARE=ImageMagick 5.5.2 12/01/02 Q8
http://www.imagemagick.org
Corner Coordinates:
Upper Left  (  644613.948, 5517483.066) (112d59'20.72"W, 49d48'43.97"N)
Lower Left  (  644613.948, 5357483.066) (113d 2'47.06"W, 48d22'23.60"N)
Upper Right (  804613.948, 5517483.066) (110d46'8.23"W, 49d45'8.47"N)
Lower Right (  804613.948, 5357483.066) (110d53'21.22"W, 48d18'58.69"N)
Center      (  724613.948, 5437483.066) (111d55'24.30"W, 49d 4'7.55"N)
Band 1 Block=8000x1 Type=Byte, ColorInterp=Gray


C:\matt\gdal-cvs-030403\apps>gdalinfo out.tif
Driver: GTiff/GeoTIFF
Size is 9358, 9357
Coordinate System is `'
Corner Coordinates:
Upper Left  (    0.0,    0.0)
Lower Left  (    0.0, 9357.0)
Upper Right ( 9358.0,    0.0)
Lower Right ( 9358.0, 9357.0)
Center      ( 4679.0, 4678.5)
Band 1 Block=9358x1 Type=Byte, ColorInterp=Gray


I have the following code:

#include <stdio.h>

#include "cpl_string.h"
#include "ogr_srs_api.h"
#include "gdalwarper.h"

char *SanitizeSRS( const char *pszUserInput );

static GDALDatasetH GDALWarpCreateOutput( GDALDatasetH hSrcDS, const
char *pszFilename,
                                          const char *pszFormat, const
char *pszSourceSRS,
                                          const char *pszTargetSRS, int
nOrder,
                                          char **papszCreateOptions );


static double          dfMinX=0.0, dfMinY=0.0, dfMaxX=0.0, dfMaxY=0.0;
static double          dfXRes=0.0, dfYRes=0.0;
static int             nForcePixels=0, nForceLines=0;


int main( int argc, char *argv[] )
{

    char *pszFilename = "daImage.tif";
    char *pszTargetSRS = "+proj=lcc +lon_0=-100.0 +lat_0=45.0
+lat_1=35.0 +lat_2=55.0 +x_0=0.0 +y_0=0.0 +datum=WGS84";
    char *pszSourceSRS = NULL; //"+proj=tmerc +lon_0=-115.0
+lon_0=-115.0 +k=0.9992 +x_0=500000.0 +y_0=0 +datum=NAD83";
    int checkValue = NULL;
    double adfTargetGeoTransform[6];
    int nPixels=0, nLines=0;
    void *hTransformArg;
    char **papszWarpOptions = NULL;
    char **papszCreateOptions = NULL;

    CPLErr eErr;
    GDALDatasetH  hDataset=NULL,hOutDataset=NULL;
    GDALDataType eDT;
    GDALDriverH hDriver;
    GDALWarpOptions *psWarpOptions;
    GDALWarpOperation oOperation;


    // register raster drivers
    GDALAllRegister();

    hDataset = GDALOpen( pszFilename, GA_Update );
    if( hDataset != NULL )
    {
        if( pszSourceSRS == NULL )
        {
            if( GDALGetProjectionRef( hDataset ) != NULL
                && strlen(GDALGetProjectionRef( hDataset )) > 0 )
                pszSourceSRS = CPLStrdup(GDALGetProjectionRef( hDataset
));

            else if( GDALGetGCPProjection( hDataset ) != NULL
                     && strlen(GDALGetGCPProjection(hDataset)) > 0
                     && GDALGetGCPCount( hDataset ) > 1 )
                pszSourceSRS = CPLStrdup(GDALGetGCPProjection( hDataset
));
            else
                pszSourceSRS = CPLStrdup("");
        }

        if( pszTargetSRS == NULL )
            pszTargetSRS = CPLStrdup(pszSourceSRS);

        //pszSourceSRS = SanitizeSRS( pszSourceSRS );
        pszTargetSRS = SanitizeSRS( pszTargetSRS );
        hOutDataset = GDALWarpCreateOutput( hDataset,
                                            "out.tif",
                                            "GTiff",         // format
                                            pszSourceSRS,
                                            pszTargetSRS,
                                            0,               //order
                                            NULL
                                          );
        papszWarpOptions = CSLSetNameValue( papszWarpOptions, "INIT",
"0" );
        CSLDestroy( papszCreateOptions );
        papszCreateOptions = NULL;

        if( hOutDataset == NULL )
        {
           fprintf(stderr,"\nERROR: could not create the output file.");
           exit( 1 );
        }
        else
        {
            fprintf(stderr,"\nOutput file was successfully created.");
        }

        // setup and warp
        psWarpOptions = GDALCreateWarpOptions();
        //psWarpOptions->dfWarpMemoryLimit = 1024.0*1024.0;
        psWarpOptions->papszWarpOptions = papszWarpOptions;
        psWarpOptions->hSrcDS = hDataset;
        psWarpOptions->hDstDS = hOutDataset;
        psWarpOptions->nBandCount = 1;
        psWarpOptions->panSrcBands = (int *) CPLMalloc(
sizeof(int)*psWarpOptions->nBandCount);
        psWarpOptions->panDstBands = (int *) CPLMalloc(
sizeof(int)*psWarpOptions->nBandCount);
        psWarpOptions->panSrcBands[0] = 1;
        psWarpOptions->panDstBands[0] = 1;
        psWarpOptions->pfnProgress = GDALTermProgress;


        fprintf(stderr,"\nWarp options are set.");
        fprintf(stderr,"\ntransforming from \n%s\n to
\n%s\n",pszSourceSRS,pszTargetSRS);

        psWarpOptions->pTransformerArg =
GDALCreateGenImgProjTransformer(   hDataset,
 
pszSourceSRS,
 
hOutDataset, //??
 
pszTargetSRS, //??
 
FALSE,
 
0.0,
 
1
 
);
        psWarpOptions->pfnTransformer = GDALGenImgProjTransform;

        fprintf(stderr,"\nTransformer is built.");

        if( oOperation.Initialize( psWarpOptions ) == CE_None )
        {
            fprintf(stderr,"\nProgress");
 
oOperation.ChunkAndWarpImage(0,0,GDALGetRasterXSize(hOutDataset),GDALGet
RasterYSize(hOutDataset) );
        }
        else
        {
            fprintf(stderr,"\nERROR: failed to initialize the warp.");
        }

        GDALDestroyGenImgProjTransformer( psWarpOptions->pTransformerArg
);
        GDALDestroyWarpOptions( psWarpOptions );

        GDALClose( hDataset );
    }
    else
    {
        fprintf( stderr,"\nERROR: could not open %s for
updating.",pszFilename );
    }

}


/***********************************************************************
*/
/*                               SanitizeSRS()
*/
/***********************************************************************
*/

char *SanitizeSRS( const char *pszUserInput )
{
    OGRSpatialReferenceH hSRS;
    char *pszResult = NULL;

    hSRS = OSRNewSpatialReference( NULL );
    if( OSRSetFromUserInput( hSRS, pszUserInput ) == OGRERR_NONE )
        OSRExportToWkt( hSRS, &pszResult );

    OSRDestroySpatialReference( hSRS );

    return pszResult;
}


/***********************************************************************
*/
/*                        GDALWarpCreateOutput()
*/
/*
*/
/*      Create the output file based on various commandline options,
*/
/*      and the input file.
*/
/***********************************************************************
*/

static GDALDatasetH
GDALWarpCreateOutput( GDALDatasetH hSrcDS, const char *pszFilename,
                      const char *pszFormat, const char *pszSourceSRS,
                      const char *pszTargetSRS, int nOrder,
                      char **papszCreateOptions )

{
    GDALDriverH hDriver;
    GDALDatasetH hDstDS;
    void *hTransformArg;
    double adfDstGeoTransform[6];
    int nPixels=0, nLines=0;
    GDALColorTableH hCT;

/* --------------------------------------------------------------------
*/
/*      Find the output driver.
*/
/* --------------------------------------------------------------------
*/
    hDriver = GDALGetDriverByName( pszFormat );
    if( hDriver == NULL
        || GDALGetMetadataItem( hDriver, GDAL_DCAP_CREATE, NULL ) ==
NULL )
    {
        int iDr;

        printf( "Output driver `%s' not recognised or does not
support\n",
                pszFormat );
        printf( "direct output file creation.  The following format
drivers are configured\n"
                "and support direct output:\n" );

        for( iDr = 0; iDr < GDALGetDriverCount(); iDr++ )
        {
            GDALDriverH hDriver = GDALGetDriver(iDr);

            if( GDALGetMetadataItem( hDriver, GDAL_DCAP_CREATE, NULL) !=
NULL )
            {

                printf( "  %s: %s\n",
                        GDALGetDriverShortName( hDriver  ),
                        GDALGetDriverLongName( hDriver ) );

            }
        }
        printf( "\n" );
        exit( 1 );
    }

/* --------------------------------------------------------------------
*/
/*      Create a transformation object from the source to
*/
/*      destination coordinate system.
*/
/* --------------------------------------------------------------------
*/
    hTransformArg =
        GDALCreateGenImgProjTransformer( hSrcDS, pszSourceSRS,
                                         NULL, pszTargetSRS,
                                         TRUE, 1000.0, nOrder );

    if( hTransformArg == NULL )
        return NULL;

/* --------------------------------------------------------------------
*/
/*      Get approximate output definition.
*/
/* --------------------------------------------------------------------
*/
    if( GDALSuggestedWarpOutput( hSrcDS,
                                 GDALGenImgProjTransform, hTransformArg,
                                 adfDstGeoTransform, &nPixels, &nLines )
        != CE_None )
        return NULL;

    GDALDestroyGenImgProjTransformer( hTransformArg );

/* --------------------------------------------------------------------
*/
/*      Did the user override some parameters?
*/
/* --------------------------------------------------------------------
*/
    if( dfXRes != 0.0 && dfYRes != 0.0 )
    {
        CPLAssert( nPixels == 0 && nLines == 0 );
        if( dfMinX == 0.0 && dfMinY == 0.0 && dfMaxX == 0.0 && dfMaxY ==
0.0 )
        {
            dfMinX = adfDstGeoTransform[0];
            dfMaxX = adfDstGeoTransform[0] + adfDstGeoTransform[1] *
nPixels;
            dfMaxY = adfDstGeoTransform[3];
            dfMinY = adfDstGeoTransform[3] + adfDstGeoTransform[5] *
nLines;
        }

        nPixels = (int) ((dfMaxX - dfMinX + (dfXRes/2.0)) / dfXRes);
        nLines = (int) ((dfMaxY - dfMinY + (dfYRes/2.0)) / dfYRes);
        adfDstGeoTransform[0] = dfMinX;
        adfDstGeoTransform[3] = dfMaxY;
        adfDstGeoTransform[1] = dfXRes;
        adfDstGeoTransform[5] = -dfYRes;
    }

    else if( nForcePixels != 0 && nForceLines != 0 )
    {
        if( dfMinX == 0.0 && dfMinY == 0.0 && dfMaxX == 0.0 && dfMaxY ==
0.0 )
        {
            dfMinX = adfDstGeoTransform[0];
            dfMaxX = adfDstGeoTransform[0] + adfDstGeoTransform[1] *
nPixels;
            dfMaxY = adfDstGeoTransform[3];
            dfMinY = adfDstGeoTransform[3] + adfDstGeoTransform[5] *
nLines;
        }

        dfXRes = (dfMaxX - dfMinX) / nForcePixels;
        dfYRes = (dfMaxY - dfMinY) / nForceLines;

        adfDstGeoTransform[0] = dfMinX;
        adfDstGeoTransform[3] = dfMaxY;
        adfDstGeoTransform[1] = dfXRes;
        adfDstGeoTransform[5] = -dfYRes;

        nPixels = nForcePixels;
        nLines = nForceLines;
    }

    else if( dfMinX != 0.0 || dfMinY != 0.0 || dfMaxX != 0.0 || dfMaxY
!= 0.0 )
    {
        dfXRes = adfDstGeoTransform[1];
        dfYRes = fabs(adfDstGeoTransform[5]);

        nPixels = (int) ((dfMaxX - dfMinX + (dfXRes/2.0)) / dfXRes);
        nLines = (int) ((dfMaxY - dfMinY + (dfYRes/2.0)) / dfYRes);

        adfDstGeoTransform[0] = dfMinX;
        adfDstGeoTransform[3] = dfMaxY;
    }

/* --------------------------------------------------------------------
*/
/*      Create the output file.
*/
/* --------------------------------------------------------------------
*/
    printf( "Creating output file is that %dP x %dL.\n", nPixels, nLines
);

    hDstDS = GDALCreate( hDriver, pszFilename, nPixels, nLines,
                         GDALGetRasterCount(hSrcDS),
 
GDALGetRasterDataType(GDALGetRasterBand(hSrcDS,1)),
                         papszCreateOptions );

    if( hDstDS == NULL )
        return NULL;

/* --------------------------------------------------------------------
*/
/*      Write out the projection definition.
*/
/* --------------------------------------------------------------------
*/
    GDALSetProjection( hDstDS, pszTargetSRS );
    GDALSetGeoTransform( hDstDS, adfDstGeoTransform );

/* --------------------------------------------------------------------
*/
/*      Copy the color table, if required.
*/
/* --------------------------------------------------------------------
*/
    hCT = GDALGetRasterColorTable( GDALGetRasterBand(hSrcDS,1) );
    if( hCT != NULL )
        GDALSetRasterColorTable( GDALGetRasterBand(hDstDS,1), hCT );

    return hDstDS;
}

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 



From chrisf at oramap.com  Thu Aug 28 02:25:14 2003
From: chrisf at oramap.com (Chris Faulkner)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] ogr2ogr
Message-ID: <DGENKIKMJILAAKJGFHKFEENCCGAA.chrisf@oramap.com>

Hello

I have just started using ogr2ogr to load some shape and NTF data to
Postgres. It works rather well with one small problem - all tables and
fields are created with upper case names. In postgres, this causes some
problems with SQL - you have to quote those names and fields. Is there a way
to ask ogr2ogr to create objects with lower case names ?

Thanks

Chris



From warmerdam at pobox.com  Thu Aug 28 09:07:17 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] ogr2ogr
In-Reply-To: <DGENKIKMJILAAKJGFHKFEENCCGAA.chrisf@oramap.com>
References: <DGENKIKMJILAAKJGFHKFEENCCGAA.chrisf@oramap.com>
Message-ID: <3F4DFE85.8070201@pobox.com>

Chris Faulkner wrote:
> Hello
> 
> I have just started using ogr2ogr to load some shape and NTF data to
> Postgres. It works rather well with one small problem - all tables and
> fields are created with upper case names. In postgres, this causes some
> problems with SQL - you have to quote those names and fields. Is there a way
> to ask ogr2ogr to create objects with lower case names ?

Chris,

As per the page at:

   http://www.remotesensing.org/gdal/ogr/drv_pg.html

You can provide the layer creation option "LAUNDER=YES" to convert field names
to lower case and otherwise make them easy to use.  At some point in the future
the default for this may become true.

It would be given with the option "-lco LAUNDER=YES" on the ogr2ogr command
line.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Thu Aug 28 14:23:30 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Re: JPEG thumbnail
In-Reply-To: <A28C336011F2204C84C080BAD7F58B918303F2@terrax.photon.com>
References: <A28C336011F2204C84C080BAD7F58B918303F2@terrax.photon.com>
Message-ID: <3F4E48A2.6010406@pobox.com>

Mike Anaya wrote:
> Hey Frank,
> I am building gdal on a windows environment using Microsoft Visual C++.  It
> would be great if you could modify the gdal_translate.  Would it be possible
> to have different combinations of bands displayed?  Example 3, 2, 1, or 4,
> 3, 2 something like that.  I know this may be asking for a lot.  I
> appreciate all the time that you are putting in on these little requests.
> If there anything that I could do, please let me know.  Thank you again,
> MIKE 

Mike,

I checked in a change to gdal_translate so you can select multiple bands
for the output file.  So to create a false color composite in JPEG format
from landsat you might do something like:

gdal_translate -of JPEG -b 4 -b 2 -b 1 landsat.tif falsecolor.jpg

If you are building from CVS, you can update now and rebuild gdal_translate.
If you are working from packaged source, you can pick up the nightly snapshot
tomorrow.

The change was relatively minor, and local to gdal_translate.cpp.

Best regards,
-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From li.andersen at shell.com  Thu Aug 28 15:09:41 2003
From: li.andersen at shell.com (Andersen, Li SIEP-EPT-AC)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] translate gif file to a gtiff file!
Message-ID: <1E94EDDD98F9BD4ABE2EA11CF4D483E004EB82@houic-s-348.americas.shell.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: test_arc3000.gif
Type: image/gif
Size: 71614 bytes
Desc: test_arc3000.gif
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030828/bc4cb654/test_arc3000.gif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test_arc3000.gifw
Type: application/octet-stream
Size: 50 bytes
Desc: test_arc3000.gifw
Url : http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030828/bc4cb654/test_arc3000.obj
From warmerdam at pobox.com  Thu Aug 28 15:55:57 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] translate gif file to a gtiff file!
In-Reply-To: <1E94EDDD98F9BD4ABE2EA11CF4D483E004EB82@houic-s-348.americas.shell.com>
References: <1E94EDDD98F9BD4ABE2EA11CF4D483E004EB82@houic-s-348.americas.shell.com>
Message-ID: <3F4E5E4D.9010306@pobox.com>

Andersen, Li SIEP-EPT-AC wrote:
> Hello:
> 
> I am trying to translate a GIF file (together with a world file) to a 
> GeoTiff file using gdal_translate under Solaris2.8 machine. The command 
> line I used is as following:
> 
> ----
>  gdal_translate -of GTiff -a_srs test_arc3000.gifw -projwin 1805157.7500 
> 10010422.0000 1837382.3750 9978569.0 test_arc3000.gif test_arc3000.gtiff
> 
> ----
> 
> 
> It failed to create test_arc3000.gtiff, the message I got was:
> 
> ---
> Failed to process SRS definition: test_arc3000.gifw
> ---

Li,

The -a_srs requires a spatial reference system definition as an argument,
not the filename of a world file.  You don't mention what coordinate system
you are using, but if if it were UTM 13 / WGS84 for instance, you might
use the argument "-a_srs '+proj=utm +zone=13 +datum=WGS84'".

Your world file has the extension .gifw, but I am not convinced that the
GDAL world file checker looks for this.  Try renaming it to
test_arc3000.wld instead.

The -projwin argument is just used to subset based on projected coordinate
system coordinates.  You don't need that if you want to translate the whole
file.  GDAL will (hopefully) pick up the required information to assign to
the GeoTIFF file frm the .wld file.

Good luck,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From warmerdam at pobox.com  Thu Aug 28 16:49:36 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Using the warp api
In-Reply-To: <00ef01c36cea$6aaee620$d701a8c0@matt>
References: <00ef01c36cea$6aaee620$d701a8c0@matt>
Message-ID: <3F4E6AE0.7080606@pobox.com>

Matt Lynch wrote:
> Hi,
> 
> I have been working my way through the warp api tutorial
> (http://www.remotesensing.org/gdal/warptut.html), but have run into
> trouble.
> 
> My program takes an image and reprojects it to a new file out.tif.  When
> I run it, I don't get any errors.  However, out.tif is essentially
> black, with a few lines.  If my description of the output is not
> sufficient, I can email the file out.tif to you.
> 
> Any help would be most appreciated.

Matt,

The code mostly looks OK, though it is a bit hard to tell since there is
a fair amount going on and that could be going wrong.  One fairly serious
thing that I didn't see was a GDALClose() for hOutDataset.  This might well
account for some of the problems if not all.

If fixing that doesn't help, then I would suggest you invoke the transformer
you passed to the warp algorithm to make sure that values are being mapped
sensibly.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From matt at terraEngine.com  Thu Aug 28 17:14:23 2003
From: matt at terraEngine.com (Matt Lynch)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Using the warp api
In-Reply-To: <3F4E6AE0.7080606@pobox.com>
Message-ID: <010001c36da9$5bfec630$d701a8c0@matt>

Hi Frank,

You nailed it.  I forgot to close hOutDataset.

Thanks!

Matt

-----Original Message-----
From: gdal-dev-admin@remotesensing.org
[mailto:gdal-dev-admin@remotesensing.org] On Behalf Of Frank Warmerdam
Sent: Thursday, August 28, 2003 2:50 PM
To: gdal-dev@remotesensing.org
Subject: Re: [Gdal-dev] Using the warp api


Matt Lynch wrote:
> Hi,
> 
> I have been working my way through the warp api tutorial 
> (http://www.remotesensing.org/gdal/warptut.html), but have run into 
> trouble.
> 
> My program takes an image and reprojects it to a new file out.tif.  
> When I run it, I don't get any errors.  However, out.tif is 
> essentially black, with a few lines.  If my description of the output 
> is not sufficient, I can email the file out.tif to you.
> 
> Any help would be most appreciated.

Matt,

The code mostly looks OK, though it is a bit hard to tell since there is
a fair amount going on and that could be going wrong.  One fairly
serious thing that I didn't see was a GDALClose() for hOutDataset.  This
might well account for some of the problems if not all.

If fixing that doesn't help, then I would suggest you invoke the
transformer you passed to the warp algorithm to make sure that values
are being mapped sensibly.

Best regards,

-- 
---------------------------------------+--------------------------------
---------------------------------------+------
I set the clouds in motion - turn up   | Frank Warmerdam,
warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent


_______________________________________________
Gdal-dev mailing list
Gdal-dev@remotesensing.org
http://remotesensing.org/mailman/listinfo/gdal-dev

---
Incoming mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 

---
Outgoing mail is certified Virus Free.
Checked by AVG anti-virus system (http://www.grisoft.com).
Version: 6.0.507 / Virus Database: 304 - Release Date: 8/4/2003
 



From markusrei at yahoo.com  Fri Aug 29 05:50:47 2003
From: markusrei at yahoo.com (Markus Reichert)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Rasterization
Message-ID: <20030829095047.37797.qmail@web20419.mail.yahoo.com>

Hi!

For my company, I try to find out what is possible and
what is not with GDAL/OGR.
Is it possible to prozess rasterization and
vectorization with the GDAL/OGR-Library? Which classes
and APIs are involved in such things?

Thanks a lot!
Markus Reichert

 


__________________________________
Do you Yahoo!?
Yahoo! SiteBuilder - Free, easy-to-use web site design software
http://sitebuilder.yahoo.com

From warmerdam at pobox.com  Fri Aug 29 09:41:26 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Rasterization
In-Reply-To: <20030829095047.37797.qmail@web20419.mail.yahoo.com>
References: <20030829095047.37797.qmail@web20419.mail.yahoo.com>
Message-ID: <3F4F5806.6070708@pobox.com>

Markus Reichert wrote:
> Hi!
> 
> For my company, I try to find out what is possible and
> what is not with GDAL/OGR.
> Is it possible to prozess rasterization and
> vectorization with the GDAL/OGR-Library? Which classes
> and APIs are involved in such things?

Markus,

There is no direct support for either within GDAL though I wouldn't
necessarily mind adding limited rasterization support in gdal/alg.  The
MapServer application implements map-generation-oriented rasterization on
top of GDAL and OGR.  OpenEV includes a simple polygon rasterization
algorithm that I would be willing to move into gdal/alg if there was
interest.  This would be useful to use polygons as raster masks for instance
and is what it is used for in OpenEV.

Vectorization is another ball of wax altogether, and not one I am keen to
get into within the confines of GDAL though certainly a vectorization
application could be built over GDAL.  Two modest examples that I might
consider in-scope for GDAL are contour generation (from DEMs for instance),
and raster-to-polygon conversion for classification results for instance
though neither currently exist in GDAL.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From rogerjames99 at btinternet.com  Fri Aug 29 13:08:13 2003
From: rogerjames99 at btinternet.com (Roger James)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] CPLReadLine problem on windows platforms
Message-ID: <000001c36e50$21a44a80$fe0ba8c0@lancaster.beardandsandals.co.uk>

Frank,

 

CPLReadLine has a problem on windows platforms when passed a file
pointer that has been opened in text mode. The underlying removal of
carriage return characters by wijndows causes the fseek positioning to
be wrong.

 

I have found at least one place where this occurs in cpl_string.cpp

 

char **CSLLoad(const char *pszFname)

{

    FILE        *fp;

    const char  *pszLine;

    char        **papszStrList=NULL;

 

//    fp = VSIFOpen(pszFname, "rt");

    fp = VSIFOpen(pszFname, "rb");

 

This causes world file parsing to be wrong. My temp fix is in the above
snippet. I do not know if there are other places where this fix is need
or if it causes any side affects. But I can read jgw files on windows
now :-)

 

I have a vague recollection about reporting this or a similar bug many
moons ago.

 

Roger

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030829/41aa53db/attachment.html
From warmerdam at pobox.com  Fri Aug 29 13:35:01 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] CPLReadLine problem on windows platforms
In-Reply-To: <000001c36e50$21a44a80$fe0ba8c0@lancaster.beardandsandals.co.uk>
References: <000001c36e50$21a44a80$fe0ba8c0@lancaster.beardandsandals.co.uk>
Message-ID: <3F4F8EC5.9070002@pobox.com>

Roger James wrote:
> Frank,
> 
>  
> 
> CPLReadLine has a problem on windows platforms when passed a file 
> pointer that has been opened in text mode. The underlying removal of 
> carriage return characters by wijndows causes the fseek positioning to 
> be wrong.
...
> 
> This causes world file parsing to be wrong. My temp fix is in the above 
> snippet. I do not know if there are other places where this fix is need 
> or if it causes any side affects. But I can read jgw files on windows now J

Roger,

I see what you mean, and I have changed CSLLoad() to use the binary file type
when opening the file.  I am surprised this hasn't come up more.  Andrey is
also doing something recently with a CPLFGets() ... I don't know if this
could be related or not.

> I have a vague recollection about reporting this or a similar bug many 
> moons ago.

Hmm, I don't recall my I have a very lossy memory.

Best regards,

-- 
---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From dem at acri-st.fr  Fri Aug 29 10:23:38 2003
From: dem at acri-st.fr (Julien Demaria)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Windows OpenEV HDF PB
Message-ID: <5.0.2.1.2.20030829160147.00a4d2a0@mail.acri.fr>

Hello,


I try GDAL today with OpenEV_FW under Windows (OpenEV_FW version 1.6.2) and 
Linux (OpenEV_FW version 1.5.4) platforms.

I have problems with this HDF4 file only with the Windows version (1.6.2) :

[] /users/dem/tmp/openev_FW/bin > gdalinfo 
/obe-temp/dem/S19981822003212.L3m_MC_CHLO.hdf
Driver: HDF4Image/HDF4 Dataset
Size is 4096, 2048
Coordinate System is `'
Origin = (0.000000,0.000000)
Pixel Size = (1.000000,1.000000)
Corner Coordinates:
Upper Left  (   0.0000000,   0.0000000)
Lower Left  (       0.000,    2048.000)
Upper Right (    4096.000,       0.000)
Lower Right (    4096.000,    2048.000)
Center      (    2048.000,    1024.000)
Band 1 Block=4096x1 Type=Byte, ColorInterp=Gray
[] /users/dem/tmp/openev_FW/bin >


under linux all works very well, but on Windows when I try to import or 
open the file python.exe fails (I have a Windows popup with "cannot read 
memory at ...") and all OpenEV is closed...

Maybe it's a bug between 1.5.4 and 1.6.2 version or a GDAL HDF bug under 
Windows ?



Thanks in advance for help,

Julien


From warmerdam at pobox.com  Fri Aug 29 14:49:19 2003
From: warmerdam at pobox.com (Frank Warmerdam)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] Windows OpenEV HDF PB
In-Reply-To: <5.0.2.1.2.20030829160147.00a4d2a0@mail.acri.fr>
References: <5.0.2.1.2.20030829160147.00a4d2a0@mail.acri.fr>
Message-ID: <3F4FA02F.1000900@pobox.com>

Julien Demaria wrote:
> Hello,
> 
> 
> I try GDAL today with OpenEV_FW under Windows (OpenEV_FW version 1.6.2) 
> and Linux (OpenEV_FW version 1.5.4) platforms.
> 
> I have problems with this HDF4 file only with the Windows version (1.6.2) :
> 
> [] /users/dem/tmp/openev_FW/bin > gdalinfo 
> /obe-temp/dem/S19981822003212.L3m_MC_CHLO.hdf
> Driver: HDF4Image/HDF4 Dataset
> Size is 4096, 2048
> Coordinate System is `'
> Origin = (0.000000,0.000000)
> Pixel Size = (1.000000,1.000000)
> Corner Coordinates:
> Upper Left  (   0.0000000,   0.0000000)
> Lower Left  (       0.000,    2048.000)
> Upper Right (    4096.000,       0.000)
> Lower Right (    4096.000,    2048.000)
> Center      (    2048.000,    1024.000)
> Band 1 Block=4096x1 Type=Byte, ColorInterp=Gray
> [] /users/dem/tmp/openev_FW/bin >
> 
> 
> under linux all works very well, but on Windows when I try to import or 
> open the file python.exe fails (I have a Windows popup with "cannot read 
> memory at ...") and all OpenEV is closed...
> 
> Maybe it's a bug between 1.5.4 and 1.6.2 version or a GDAL HDF bug under 
> Windows ?

Julien,

It could be either of those.  Would it be possible to make the file available
somewhere for Andrey or I to try out?

Best regards,

---------------------------------------+--------------------------------------
I set the clouds in motion - turn up   | Frank Warmerdam, warmerdam@pobox.com
light and sound - activate the windows | http://pobox.com/~warmerdam
and watch the world go round - Rush    | Geospatial Programmer for Rent



From cgarcia at cable.net.co  Fri Aug 29 20:18:48 2003
From: cgarcia at cable.net.co (CARLOS GARCIA)
Date: Wed Nov 21 11:48:54 2007
Subject: [Gdal-dev] OGR API
Message-ID: <005301c36e8c$484e1760$110001c0@CARLOSG>

Does anyone try to use the OGR API inside Visual Basic?, maybe creating
a DLL?
 
Regards
 
Carlos Garcia
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.osgeo.org/pipermail/gdal-dev/attachments/20030829/70e49758/attachment.html
